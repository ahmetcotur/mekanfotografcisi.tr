(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))x(A);new MutationObserver(A=>{for(const N of A)if(N.type==="childList")for(const O of N.addedNodes)O.tagName==="LINK"&&O.rel==="modulepreload"&&x(O)}).observe(document,{childList:!0,subtree:!0});function p(A){const N={};return A.integrity&&(N.integrity=A.integrity),A.referrerPolicy&&(N.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?N.credentials="include":A.crossOrigin==="anonymous"?N.credentials="omit":N.credentials="same-origin",N}function x(A){if(A.ep)return;A.ep=!0;const N=p(A);fetch(A.href,N)}})();function sie(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var HJ={exports:{}},IM={};var goe;function Rue(){if(goe)return IM;goe=1;var c=Symbol.for("react.transitional.element"),d=Symbol.for("react.fragment");function p(x,A,N){var O=null;if(N!==void 0&&(O=""+N),A.key!==void 0&&(O=""+A.key),"key"in A){N={};for(var H in A)H!=="key"&&(N[H]=A[H])}else N=A;return A=N.ref,{$$typeof:c,type:x,key:O,ref:A!==void 0?A:null,props:N}}return IM.Fragment=d,IM.jsx=p,IM.jsxs=p,IM}var poe;function Nue(){return poe||(poe=1,HJ.exports=Rue()),HJ.exports}var j=Nue(),zJ={exports:{}},Fr={};var boe;function Mue(){if(boe)return Fr;boe=1;var c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),O=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),V=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),ue=Symbol.iterator;function we(ee){return ee===null||typeof ee!="object"?null:(ee=ue&&ee[ue]||ee["@@iterator"],typeof ee=="function"?ee:null)}var Ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$e=Object.assign,ve={};function ct(ee,Me,wt){this.props=ee,this.context=Me,this.refs=ve,this.updater=wt||Ee}ct.prototype.isReactComponent={},ct.prototype.setState=function(ee,Me){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,Me,"setState")},ct.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function Ue(){}Ue.prototype=ct.prototype;function J(ee,Me,wt){this.props=ee,this.context=Me,this.refs=ve,this.updater=wt||Ee}var vt=J.prototype=new Ue;vt.constructor=J,$e(vt,ct.prototype),vt.isPureReactComponent=!0;var en=Array.isArray;function Qe(){}var ie={H:null,A:null,T:null,S:null},it=Object.prototype.hasOwnProperty;function Tn(ee,Me,wt){var je=wt.ref;return{$$typeof:c,type:ee,key:Me,ref:je!==void 0?je:null,props:wt}}function mn(ee,Me){return Tn(ee.type,Me,ee.props)}function qe(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===c}function Oe(ee){var Me={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(wt){return Me[wt]})}var Yo=/\/+/g;function pt(ee,Me){return typeof ee=="object"&&ee!==null&&ee.key!=null?Oe(""+ee.key):Me.toString(36)}function Pt(ee){switch(ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason;default:switch(typeof ee.status=="string"?ee.then(Qe,Qe):(ee.status="pending",ee.then(function(Me){ee.status==="pending"&&(ee.status="fulfilled",ee.value=Me)},function(Me){ee.status==="pending"&&(ee.status="rejected",ee.reason=Me)})),ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason}}throw ee}function P(ee,Me,wt,je,Bt){var Ze=typeof ee;(Ze==="undefined"||Ze==="boolean")&&(ee=null);var bt=!1;if(ee===null)bt=!0;else switch(Ze){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(ee.$$typeof){case c:case d:bt=!0;break;case Y:return bt=ee._init,P(bt(ee._payload),Me,wt,je,Bt)}}if(bt)return Bt=Bt(ee),bt=je===""?"."+pt(ee,0):je,en(Bt)?(wt="",bt!=null&&(wt=bt.replace(Yo,"$&/")+"/"),P(Bt,Me,wt,"",function(vo){return vo})):Bt!=null&&(qe(Bt)&&(Bt=mn(Bt,wt+(Bt.key==null||ee&&ee.key===Bt.key?"":(""+Bt.key).replace(Yo,"$&/")+"/")+bt)),Me.push(Bt)),1;bt=0;var X=je===""?".":je+":";if(en(ee))for(var jo=0;jo<ee.length;jo++)je=ee[jo],Ze=X+pt(je,jo),bt+=P(je,Me,wt,Ze,Bt);else if(jo=we(ee),typeof jo=="function")for(ee=jo.call(ee),jo=0;!(je=ee.next()).done;)je=je.value,Ze=X+pt(je,jo++),bt+=P(je,Me,wt,Ze,Bt);else if(Ze==="object"){if(typeof ee.then=="function")return P(Pt(ee),Me,wt,je,Bt);throw Me=String(ee),Error("Objects are not valid as a React child (found: "+(Me==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":Me)+"). If you meant to render a collection of children, use an array instead.")}return bt}function Vt(ee,Me,wt){if(ee==null)return ee;var je=[],Bt=0;return P(ee,je,"","",function(Ze){return Me.call(wt,Ze,Bt++)}),je}function at(ee){if(ee._status===-1){var Me=ee._result;Me=Me(),Me.then(function(wt){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=wt)},function(wt){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=wt)}),ee._status===-1&&(ee._status=0,ee._result=Me)}if(ee._status===1)return ee._result.default;throw ee._result}var Qn=typeof reportError=="function"?reportError:function(ee){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Me=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ee=="object"&&ee!==null&&typeof ee.message=="string"?String(ee.message):String(ee),error:ee});if(!window.dispatchEvent(Me))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ee);return}console.error(ee)},cn={map:Vt,forEach:function(ee,Me,wt){Vt(ee,function(){Me.apply(this,arguments)},wt)},count:function(ee){var Me=0;return Vt(ee,function(){Me++}),Me},toArray:function(ee){return Vt(ee,function(Me){return Me})||[]},only:function(ee){if(!qe(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}};return Fr.Activity=ne,Fr.Children=cn,Fr.Component=ct,Fr.Fragment=p,Fr.Profiler=A,Fr.PureComponent=J,Fr.StrictMode=x,Fr.Suspense=U,Fr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,Fr.__COMPILER_RUNTIME={__proto__:null,c:function(ee){return ie.H.useMemoCache(ee)}},Fr.cache=function(ee){return function(){return ee.apply(null,arguments)}},Fr.cacheSignal=function(){return null},Fr.cloneElement=function(ee,Me,wt){if(ee==null)throw Error("The argument must be a React element, but you passed "+ee+".");var je=$e({},ee.props),Bt=ee.key;if(Me!=null)for(Ze in Me.key!==void 0&&(Bt=""+Me.key),Me)!it.call(Me,Ze)||Ze==="key"||Ze==="__self"||Ze==="__source"||Ze==="ref"&&Me.ref===void 0||(je[Ze]=Me[Ze]);var Ze=arguments.length-2;if(Ze===1)je.children=wt;else if(1<Ze){for(var bt=Array(Ze),X=0;X<Ze;X++)bt[X]=arguments[X+2];je.children=bt}return Tn(ee.type,Bt,je)},Fr.createContext=function(ee){return ee={$$typeof:O,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null},ee.Provider=ee,ee.Consumer={$$typeof:N,_context:ee},ee},Fr.createElement=function(ee,Me,wt){var je,Bt={},Ze=null;if(Me!=null)for(je in Me.key!==void 0&&(Ze=""+Me.key),Me)it.call(Me,je)&&je!=="key"&&je!=="__self"&&je!=="__source"&&(Bt[je]=Me[je]);var bt=arguments.length-2;if(bt===1)Bt.children=wt;else if(1<bt){for(var X=Array(bt),jo=0;jo<bt;jo++)X[jo]=arguments[jo+2];Bt.children=X}if(ee&&ee.defaultProps)for(je in bt=ee.defaultProps,bt)Bt[je]===void 0&&(Bt[je]=bt[je]);return Tn(ee,Ze,Bt)},Fr.createRef=function(){return{current:null}},Fr.forwardRef=function(ee){return{$$typeof:H,render:ee}},Fr.isValidElement=qe,Fr.lazy=function(ee){return{$$typeof:Y,_payload:{_status:-1,_result:ee},_init:at}},Fr.memo=function(ee,Me){return{$$typeof:V,type:ee,compare:Me===void 0?null:Me}},Fr.startTransition=function(ee){var Me=ie.T,wt={};ie.T=wt;try{var je=ee(),Bt=ie.S;Bt!==null&&Bt(wt,je),typeof je=="object"&&je!==null&&typeof je.then=="function"&&je.then(Qe,Qn)}catch(Ze){Qn(Ze)}finally{Me!==null&&wt.types!==null&&(Me.types=wt.types),ie.T=Me}},Fr.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},Fr.use=function(ee){return ie.H.use(ee)},Fr.useActionState=function(ee,Me,wt){return ie.H.useActionState(ee,Me,wt)},Fr.useCallback=function(ee,Me){return ie.H.useCallback(ee,Me)},Fr.useContext=function(ee){return ie.H.useContext(ee)},Fr.useDebugValue=function(){},Fr.useDeferredValue=function(ee,Me){return ie.H.useDeferredValue(ee,Me)},Fr.useEffect=function(ee,Me){return ie.H.useEffect(ee,Me)},Fr.useEffectEvent=function(ee){return ie.H.useEffectEvent(ee)},Fr.useId=function(){return ie.H.useId()},Fr.useImperativeHandle=function(ee,Me,wt){return ie.H.useImperativeHandle(ee,Me,wt)},Fr.useInsertionEffect=function(ee,Me){return ie.H.useInsertionEffect(ee,Me)},Fr.useLayoutEffect=function(ee,Me){return ie.H.useLayoutEffect(ee,Me)},Fr.useMemo=function(ee,Me){return ie.H.useMemo(ee,Me)},Fr.useOptimistic=function(ee,Me){return ie.H.useOptimistic(ee,Me)},Fr.useReducer=function(ee,Me,wt){return ie.H.useReducer(ee,Me,wt)},Fr.useRef=function(ee){return ie.H.useRef(ee)},Fr.useState=function(ee){return ie.H.useState(ee)},Fr.useSyncExternalStore=function(ee,Me,wt){return ie.H.useSyncExternalStore(ee,Me,wt)},Fr.useTransition=function(){return ie.H.useTransition()},Fr.version="19.2.3",Fr}var yoe;function ote(){return yoe||(yoe=1,zJ.exports=Mue()),zJ.exports}var Ke=ote();const UM=sie(Ke);var VJ={exports:{}},HM={},jJ={exports:{}},UJ={};var voe;function Bue(){return voe||(voe=1,(function(c){function d(P,Vt){var at=P.length;P.push(Vt);e:for(;0<at;){var Qn=at-1>>>1,cn=P[Qn];if(0<A(cn,Vt))P[Qn]=Vt,P[at]=cn,at=Qn;else break e}}function p(P){return P.length===0?null:P[0]}function x(P){if(P.length===0)return null;var Vt=P[0],at=P.pop();if(at!==Vt){P[0]=at;e:for(var Qn=0,cn=P.length,ee=cn>>>1;Qn<ee;){var Me=2*(Qn+1)-1,wt=P[Me],je=Me+1,Bt=P[je];if(0>A(wt,at))je<cn&&0>A(Bt,wt)?(P[Qn]=Bt,P[je]=at,Qn=je):(P[Qn]=wt,P[Me]=at,Qn=Me);else if(je<cn&&0>A(Bt,at))P[Qn]=Bt,P[je]=at,Qn=je;else break e}}return Vt}function A(P,Vt){var at=P.sortIndex-Vt.sortIndex;return at!==0?at:P.id-Vt.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var N=performance;c.unstable_now=function(){return N.now()}}else{var O=Date,H=O.now();c.unstable_now=function(){return O.now()-H}}var U=[],V=[],Y=1,ne=null,ue=3,we=!1,Ee=!1,$e=!1,ve=!1,ct=typeof setTimeout=="function"?setTimeout:null,Ue=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function vt(P){for(var Vt=p(V);Vt!==null;){if(Vt.callback===null)x(V);else if(Vt.startTime<=P)x(V),Vt.sortIndex=Vt.expirationTime,d(U,Vt);else break;Vt=p(V)}}function en(P){if($e=!1,vt(P),!Ee)if(p(U)!==null)Ee=!0,Qe||(Qe=!0,Oe());else{var Vt=p(V);Vt!==null&&Pt(en,Vt.startTime-P)}}var Qe=!1,ie=-1,it=5,Tn=-1;function mn(){return ve?!0:!(c.unstable_now()-Tn<it)}function qe(){if(ve=!1,Qe){var P=c.unstable_now();Tn=P;var Vt=!0;try{e:{Ee=!1,$e&&($e=!1,Ue(ie),ie=-1),we=!0;var at=ue;try{t:{for(vt(P),ne=p(U);ne!==null&&!(ne.expirationTime>P&&mn());){var Qn=ne.callback;if(typeof Qn=="function"){ne.callback=null,ue=ne.priorityLevel;var cn=Qn(ne.expirationTime<=P);if(P=c.unstable_now(),typeof cn=="function"){ne.callback=cn,vt(P),Vt=!0;break t}ne===p(U)&&x(U),vt(P)}else x(U);ne=p(U)}if(ne!==null)Vt=!0;else{var ee=p(V);ee!==null&&Pt(en,ee.startTime-P),Vt=!1}}break e}finally{ne=null,ue=at,we=!1}Vt=void 0}}finally{Vt?Oe():Qe=!1}}}var Oe;if(typeof J=="function")Oe=function(){J(qe)};else if(typeof MessageChannel<"u"){var Yo=new MessageChannel,pt=Yo.port2;Yo.port1.onmessage=qe,Oe=function(){pt.postMessage(null)}}else Oe=function(){ct(qe,0)};function Pt(P,Vt){ie=ct(function(){P(c.unstable_now())},Vt)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(P){P.callback=null},c.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):it=0<P?Math.floor(1e3/P):5},c.unstable_getCurrentPriorityLevel=function(){return ue},c.unstable_next=function(P){switch(ue){case 1:case 2:case 3:var Vt=3;break;default:Vt=ue}var at=ue;ue=Vt;try{return P()}finally{ue=at}},c.unstable_requestPaint=function(){ve=!0},c.unstable_runWithPriority=function(P,Vt){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var at=ue;ue=P;try{return Vt()}finally{ue=at}},c.unstable_scheduleCallback=function(P,Vt,at){var Qn=c.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?Qn+at:Qn):at=Qn,P){case 1:var cn=-1;break;case 2:cn=250;break;case 5:cn=1073741823;break;case 4:cn=1e4;break;default:cn=5e3}return cn=at+cn,P={id:Y++,callback:Vt,priorityLevel:P,startTime:at,expirationTime:cn,sortIndex:-1},at>Qn?(P.sortIndex=at,d(V,P),p(U)===null&&P===p(V)&&($e?(Ue(ie),ie=-1):$e=!0,Pt(en,at-Qn))):(P.sortIndex=cn,d(U,P),Ee||we||(Ee=!0,Qe||(Qe=!0,Oe()))),P},c.unstable_shouldYield=mn,c.unstable_wrapCallback=function(P){var Vt=ue;return function(){var at=ue;ue=Vt;try{return P.apply(this,arguments)}finally{ue=at}}}})(UJ)),UJ}var xoe;function Lue(){return xoe||(xoe=1,jJ.exports=Bue()),jJ.exports}var ZJ={exports:{}},gh={};var woe;function Pue(){if(woe)return gh;woe=1;var c=ote();function d(U){var V="https://react.dev/errors/"+U;if(1<arguments.length){V+="?args[]="+encodeURIComponent(arguments[1]);for(var Y=2;Y<arguments.length;Y++)V+="&args[]="+encodeURIComponent(arguments[Y])}return"Minified React error #"+U+"; visit "+V+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(){}var x={d:{f:p,r:function(){throw Error(d(522))},D:p,C:p,L:p,m:p,X:p,S:p,M:p},p:0,findDOMNode:null},A=Symbol.for("react.portal");function N(U,V,Y){var ne=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:ne==null?null:""+ne,children:U,containerInfo:V,implementation:Y}}var O=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function H(U,V){if(U==="font")return"";if(typeof V=="string")return V==="use-credentials"?V:""}return gh.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,gh.createPortal=function(U,V){var Y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V||V.nodeType!==1&&V.nodeType!==9&&V.nodeType!==11)throw Error(d(299));return N(U,V,null,Y)},gh.flushSync=function(U){var V=O.T,Y=x.p;try{if(O.T=null,x.p=2,U)return U()}finally{O.T=V,x.p=Y,x.d.f()}},gh.preconnect=function(U,V){typeof U=="string"&&(V?(V=V.crossOrigin,V=typeof V=="string"?V==="use-credentials"?V:"":void 0):V=null,x.d.C(U,V))},gh.prefetchDNS=function(U){typeof U=="string"&&x.d.D(U)},gh.preinit=function(U,V){if(typeof U=="string"&&V&&typeof V.as=="string"){var Y=V.as,ne=H(Y,V.crossOrigin),ue=typeof V.integrity=="string"?V.integrity:void 0,we=typeof V.fetchPriority=="string"?V.fetchPriority:void 0;Y==="style"?x.d.S(U,typeof V.precedence=="string"?V.precedence:void 0,{crossOrigin:ne,integrity:ue,fetchPriority:we}):Y==="script"&&x.d.X(U,{crossOrigin:ne,integrity:ue,fetchPriority:we,nonce:typeof V.nonce=="string"?V.nonce:void 0})}},gh.preinitModule=function(U,V){if(typeof U=="string")if(typeof V=="object"&&V!==null){if(V.as==null||V.as==="script"){var Y=H(V.as,V.crossOrigin);x.d.M(U,{crossOrigin:Y,integrity:typeof V.integrity=="string"?V.integrity:void 0,nonce:typeof V.nonce=="string"?V.nonce:void 0})}}else V==null&&x.d.M(U)},gh.preload=function(U,V){if(typeof U=="string"&&typeof V=="object"&&V!==null&&typeof V.as=="string"){var Y=V.as,ne=H(Y,V.crossOrigin);x.d.L(U,Y,{crossOrigin:ne,integrity:typeof V.integrity=="string"?V.integrity:void 0,nonce:typeof V.nonce=="string"?V.nonce:void 0,type:typeof V.type=="string"?V.type:void 0,fetchPriority:typeof V.fetchPriority=="string"?V.fetchPriority:void 0,referrerPolicy:typeof V.referrerPolicy=="string"?V.referrerPolicy:void 0,imageSrcSet:typeof V.imageSrcSet=="string"?V.imageSrcSet:void 0,imageSizes:typeof V.imageSizes=="string"?V.imageSizes:void 0,media:typeof V.media=="string"?V.media:void 0})}},gh.preloadModule=function(U,V){if(typeof U=="string")if(V){var Y=H(V.as,V.crossOrigin);x.d.m(U,{as:typeof V.as=="string"&&V.as!=="script"?V.as:void 0,crossOrigin:Y,integrity:typeof V.integrity=="string"?V.integrity:void 0})}else x.d.m(U)},gh.requestFormReset=function(U){x.d.r(U)},gh.unstable_batchedUpdates=function(U,V){return U(V)},gh.useFormState=function(U,V,Y){return O.H.useFormState(U,V,Y)},gh.useFormStatus=function(){return O.H.useHostTransitionStatus()},gh.version="19.2.3",gh}var Coe;function Fue(){if(Coe)return ZJ.exports;Coe=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(d){console.error(d)}}return c(),ZJ.exports=Pue(),ZJ.exports}var Soe;function $ue(){if(Soe)return HM;Soe=1;var c=Lue(),d=ote(),p=Fue();function x(a){var u="https://react.dev/errors/"+a;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)u+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function A(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function N(a){var u=a,g=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(g=u.return),a=u.return;while(a)}return u.tag===3?g:null}function O(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function H(a){if(a.tag===31){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function U(a){if(N(a)!==a)throw Error(x(188))}function V(a){var u=a.alternate;if(!u){if(u=N(a),u===null)throw Error(x(188));return u!==a?null:a}for(var g=a,C=u;;){var R=g.return;if(R===null)break;var F=R.alternate;if(F===null){if(C=R.return,C!==null){g=C;continue}break}if(R.child===F.child){for(F=R.child;F;){if(F===g)return U(R),a;if(F===C)return U(R),u;F=F.sibling}throw Error(x(188))}if(g.return!==C.return)g=R,C=F;else{for(var re=!1,fe=R.child;fe;){if(fe===g){re=!0,g=R,C=F;break}if(fe===C){re=!0,C=R,g=F;break}fe=fe.sibling}if(!re){for(fe=F.child;fe;){if(fe===g){re=!0,g=F,C=R;break}if(fe===C){re=!0,C=F,g=R;break}fe=fe.sibling}if(!re)throw Error(x(189))}}if(g.alternate!==C)throw Error(x(190))}if(g.tag!==3)throw Error(x(188));return g.stateNode.current===g?a:u}function Y(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a;for(a=a.child;a!==null;){if(u=Y(a),u!==null)return u;a=a.sibling}return null}var ne=Object.assign,ue=Symbol.for("react.element"),we=Symbol.for("react.transitional.element"),Ee=Symbol.for("react.portal"),$e=Symbol.for("react.fragment"),ve=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),Ue=Symbol.for("react.consumer"),J=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),en=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),Tn=Symbol.for("react.activity"),mn=Symbol.for("react.memo_cache_sentinel"),qe=Symbol.iterator;function Oe(a){return a===null||typeof a!="object"?null:(a=qe&&a[qe]||a["@@iterator"],typeof a=="function"?a:null)}var Yo=Symbol.for("react.client.reference");function pt(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Yo?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case $e:return"Fragment";case ct:return"Profiler";case ve:return"StrictMode";case en:return"Suspense";case Qe:return"SuspenseList";case Tn:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case Ee:return"Portal";case J:return a.displayName||"Context";case Ue:return(a._context.displayName||"Context")+".Consumer";case vt:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ie:return u=a.displayName||null,u!==null?u:pt(a.type)||"Memo";case it:u=a._payload,a=a._init;try{return pt(a(u))}catch{}}return null}var Pt=Array.isArray,P=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Vt=p.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},Qn=[],cn=-1;function ee(a){return{current:a}}function Me(a){0>cn||(a.current=Qn[cn],Qn[cn]=null,cn--)}function wt(a,u){cn++,Qn[cn]=a.current,a.current=u}var je=ee(null),Bt=ee(null),Ze=ee(null),bt=ee(null);function X(a,u){switch(wt(Ze,u),wt(Bt,a),wt(je,null),u.nodeType){case 9:case 11:a=(a=u.documentElement)&&(a=a.namespaceURI)?My(a):0;break;default:if(a=u.tagName,u=u.namespaceURI)u=My(u),a=xb(u,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Me(je),wt(je,a)}function jo(){Me(je),Me(Bt),Me(Ze)}function vo(a){a.memoizedState!==null&&wt(bt,a);var u=je.current,g=xb(u,a.type);u!==g&&(wt(Bt,a),wt(je,g))}function Mo(a){Bt.current===a&&(Me(je),Me(Bt)),bt.current===a&&(Me(bt),ld._currentValue=at)}var Io,zs;function Ne(a){if(Io===void 0)try{throw Error()}catch(g){var u=g.stack.trim().match(/\n( *(at )?)/);Io=u&&u[1]||"",zs=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Io+a+zs}var Ge=!1;function tt(a,u){if(!a||Ge)return"";Ge=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(u){var Dn=function(){throw Error()};if(Object.defineProperty(Dn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Dn,[])}catch(ln){var Xt=ln}Reflect.construct(a,[],Dn)}else{try{Dn.call()}catch(ln){Xt=ln}a.call(Dn.prototype)}}else{try{throw Error()}catch(ln){Xt=ln}(Dn=a())&&typeof Dn.catch=="function"&&Dn.catch(function(){})}}catch(ln){if(ln&&Xt&&typeof ln.stack=="string")return[ln.stack,Xt.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=C.DetermineComponentFrameRoot(),re=F[0],fe=F[1];if(re&&fe){var lt=re.split(`
`),Ut=fe.split(`
`);for(R=C=0;C<lt.length&&!lt[C].includes("DetermineComponentFrameRoot");)C++;for(;R<Ut.length&&!Ut[R].includes("DetermineComponentFrameRoot");)R++;if(C===lt.length||R===Ut.length)for(C=lt.length-1,R=Ut.length-1;1<=C&&0<=R&&lt[C]!==Ut[R];)R--;for(;1<=C&&0<=R;C--,R--)if(lt[C]!==Ut[R]){if(C!==1||R!==1)do if(C--,R--,0>R||lt[C]!==Ut[R]){var bn=`
`+lt[C].replace(" at new "," at ");return a.displayName&&bn.includes("<anonymous>")&&(bn=bn.replace("<anonymous>",a.displayName)),bn}while(1<=C&&0<=R);break}}}finally{Ge=!1,Error.prepareStackTrace=g}return(g=a?a.displayName||a.name:"")?Ne(g):""}function Be(a,u){switch(a.tag){case 26:case 27:case 5:return Ne(a.type);case 16:return Ne("Lazy");case 13:return a.child!==u&&u!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return tt(a.type,!1);case 11:return tt(a.type.render,!1);case 1:return tt(a.type,!0);case 31:return Ne("Activity");default:return""}}function Je(a){try{var u="",g=null;do u+=Be(a,g),g=a,a=a.return;while(a);return u}catch(C){return`
Error generating stack: `+C.message+`
`+C.stack}}var Rt=Object.prototype.hasOwnProperty,yt=c.unstable_scheduleCallback,Un=c.unstable_cancelCallback,Dt=c.unstable_shouldYield,Le=c.unstable_requestPaint,Tt=c.unstable_now,sn=c.unstable_getCurrentPriorityLevel,Zn=c.unstable_ImmediatePriority,Xo=c.unstable_UserBlockingPriority,Jo=c.unstable_NormalPriority,ko=c.unstable_LowPriority,mr=c.unstable_IdlePriority,Ho=c.log,os=c.unstable_setDisableYieldValue,Vs=null,Ss=null;function Xs(a){if(typeof Ho=="function"&&os(a),Ss&&typeof Ss.setStrictMode=="function")try{Ss.setStrictMode(Vs,a)}catch{}}var gs=Math.clz32?Math.clz32:$r,Wr=Math.log,Es=Math.LN2;function $r(a){return a>>>=0,a===0?32:31-(Wr(a)/Es|0)|0}var Ma=256,Hn=262144,ts=4194304;function Oo(a){var u=a&42;if(u!==0)return u;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ci(a,u,g){var C=a.pendingLanes;if(C===0)return 0;var R=0,F=a.suspendedLanes,re=a.pingedLanes;a=a.warmLanes;var fe=C&134217727;return fe!==0?(C=fe&~F,C!==0?R=Oo(C):(re&=fe,re!==0?R=Oo(re):g||(g=fe&~a,g!==0&&(R=Oo(g))))):(fe=C&~F,fe!==0?R=Oo(fe):re!==0?R=Oo(re):g||(g=C&~a,g!==0&&(R=Oo(g)))),R===0?0:u!==0&&u!==R&&(u&F)===0&&(F=R&-R,g=u&-u,F>=g||F===32&&(g&4194048)!==0)?u:R}function Ba(a,u){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&u)===0}function Mn(a,u){switch(a){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zt(){var a=ts;return ts<<=1,(ts&62914560)===0&&(ts=4194304),a}function Gt(a){for(var u=[],g=0;31>g;g++)u.push(a);return u}function Yn(a,u){a.pendingLanes|=u,u!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Gn(a,u,g,C,R,F){var re=a.pendingLanes;a.pendingLanes=g,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=g,a.entangledLanes&=g,a.errorRecoveryDisabledLanes&=g,a.shellSuspendCounter=0;var fe=a.entanglements,lt=a.expirationTimes,Ut=a.hiddenUpdates;for(g=re&~g;0<g;){var bn=31-gs(g),Dn=1<<bn;fe[bn]=0,lt[bn]=-1;var Xt=Ut[bn];if(Xt!==null)for(Ut[bn]=null,bn=0;bn<Xt.length;bn++){var ln=Xt[bn];ln!==null&&(ln.lane&=-536870913)}g&=~Dn}C!==0&&yo(a,C,0),F!==0&&R===0&&a.tag!==0&&(a.suspendedLanes|=F&~(re&~u))}function yo(a,u,g){a.pendingLanes|=u,a.suspendedLanes&=~u;var C=31-gs(u);a.entangledLanes|=u,a.entanglements[C]=a.entanglements[C]|1073741824|g&261930}function Ro(a,u){var g=a.entangledLanes|=u;for(a=a.entanglements;g;){var C=31-gs(g),R=1<<C;R&u|a[C]&u&&(a[C]|=u),g&=~R}}function Jn(a,u){var g=u&-u;return g=(g&42)!==0?1:ls(g),(g&(a.suspendedLanes|u))!==0?0:g}function ls(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function La(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ol(){var a=Vt.p;return a!==0?a:(a=window.event,a===void 0?32:_b(a.type))}function hi(a,u){var g=Vt.p;try{return Vt.p=a,u()}finally{Vt.p=g}}var Pn=Math.random().toString(36).slice(2),er="__reactFiber$"+Pn,tr="__reactProps$"+Pn,Vl="__reactContainer$"+Pn,Fe="__reactEvents$"+Pn,ze="__reactListeners$"+Pn,nt="__reactHandles$"+Pn,gn="__reactResources$"+Pn,To="__reactMarker$"+Pn;function co(a){delete a[er],delete a[tr],delete a[Fe],delete a[ze],delete a[nt]}function Zo(a){var u=a[er];if(u)return u;for(var g=a.parentNode;g;){if(u=g[Vl]||g[er]){if(g=u.alternate,u.child!==null||g!==null&&g.child!==null)for(a=ya(a);a!==null;){if(g=a[er])return g;a=ya(a)}return u}a=g,g=a.parentNode}return null}function us(a){if(a=a[er]||a[Vl]){var u=a.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return a}return null}function Ao(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a.stateNode;throw Error(x(33))}function Qs(a){var u=a[gn];return u||(u=a[gn]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function me(a){a[To]=!0}var He=new Set,jt={};function xn(a,u){qt(a,u),qt(a+"Capture",u)}function qt(a,u){for(jt[a]=u,a=0;a<u.length;a++)He.add(u[a])}var xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oo={},Bn={};function Uo(a){return Rt.call(Bn,a)?!0:Rt.call(oo,a)?!1:xo.test(a)?Bn[a]=!0:(oo[a]=!0,!1)}function vs(a,u,g){if(Uo(u))if(g===null)a.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":a.removeAttribute(u);return;case"boolean":var C=u.toLowerCase().slice(0,5);if(C!=="data-"&&C!=="aria-"){a.removeAttribute(u);return}}a.setAttribute(u,""+g)}}function Ts(a,u,g){if(g===null)a.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttribute(u,""+g)}}function As(a,u,g,C){if(C===null)a.removeAttribute(g);else{switch(typeof C){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(g);return}a.setAttributeNS(u,g,""+C)}}function sa(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Sa(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Qf(a,u,g){var C=Object.getOwnPropertyDescriptor(a.constructor.prototype,u);if(!a.hasOwnProperty(u)&&typeof C<"u"&&typeof C.get=="function"&&typeof C.set=="function"){var R=C.get,F=C.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return R.call(this)},set:function(re){g=""+re,F.call(this,re)}}),Object.defineProperty(a,u,{enumerable:C.enumerable}),{getValue:function(){return g},setValue:function(re){g=""+re},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Tr(a){if(!a._valueTracker){var u=Sa(a)?"checked":"value";a._valueTracker=Qf(a,u,""+a[u])}}function Ps(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var g=u.getValue(),C="";return a&&(C=Sa(a)?a.checked?"true":"false":a.value),a=C,a!==g?(u.setValue(a),!0):!1}function ir(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Vi=/[\n"\\]/g;function wi(a){return a.replace(Vi,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Ir(a,u,g,C,R,F,re,fe){a.name="",re!=null&&typeof re!="function"&&typeof re!="symbol"&&typeof re!="boolean"?a.type=re:a.removeAttribute("type"),u!=null?re==="number"?(u===0&&a.value===""||a.value!=u)&&(a.value=""+sa(u)):a.value!==""+sa(u)&&(a.value=""+sa(u)):re!=="submit"&&re!=="reset"||a.removeAttribute("value"),u!=null?Ci(a,re,sa(u)):g!=null?Ci(a,re,sa(g)):C!=null&&a.removeAttribute("value"),R==null&&F!=null&&(a.defaultChecked=!!F),R!=null&&(a.checked=R&&typeof R!="function"&&typeof R!="symbol"),fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"?a.name=""+sa(fe):a.removeAttribute("name")}function wo(a,u,g,C,R,F,re,fe){if(F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(a.type=F),u!=null||g!=null){if(!(F!=="submit"&&F!=="reset"||u!=null)){Tr(a);return}g=g!=null?""+sa(g):"",u=u!=null?""+sa(u):g,fe||u===a.value||(a.value=u),a.defaultValue=u}C=C??R,C=typeof C!="function"&&typeof C!="symbol"&&!!C,a.checked=fe?a.checked:!!C,a.defaultChecked=!!C,re!=null&&typeof re!="function"&&typeof re!="symbol"&&typeof re!="boolean"&&(a.name=re),Tr(a)}function Ci(a,u,g){u==="number"&&ir(a.ownerDocument)===a||a.defaultValue===""+g||(a.defaultValue=""+g)}function ni(a,u,g,C){if(a=a.options,u){u={};for(var R=0;R<g.length;R++)u["$"+g[R]]=!0;for(g=0;g<a.length;g++)R=u.hasOwnProperty("$"+a[g].value),a[g].selected!==R&&(a[g].selected=R),R&&C&&(a[g].defaultSelected=!0)}else{for(g=""+sa(g),u=null,R=0;R<a.length;R++){if(a[R].value===g){a[R].selected=!0,C&&(a[R].defaultSelected=!0);return}u!==null||a[R].disabled||(u=a[R])}u!==null&&(u.selected=!0)}}function Jr(a,u,g){if(u!=null&&(u=""+sa(u),u!==a.value&&(a.value=u),g==null)){a.defaultValue!==u&&(a.defaultValue=u);return}a.defaultValue=g!=null?""+sa(g):""}function Sf(a,u,g,C){if(u==null){if(C!=null){if(g!=null)throw Error(x(92));if(Pt(C)){if(1<C.length)throw Error(x(93));C=C[0]}g=C}g==null&&(g=""),u=g}g=sa(u),a.defaultValue=g,C=a.textContent,C===g&&C!==""&&C!==null&&(a.value=C),Tr(a)}function uc(a,u){if(u){var g=a.firstChild;if(g&&g===a.lastChild&&g.nodeType===3){g.nodeValue=u;return}}a.textContent=u}var Hr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wu(a,u,g){var C=u.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?C?a.setProperty(u,""):u==="float"?a.cssFloat="":a[u]="":C?a.setProperty(u,g):typeof g!="number"||g===0||Hr.has(u)?u==="float"?a.cssFloat=g:a[u]=(""+g).trim():a[u]=g+"px"}function dc(a,u,g){if(u!=null&&typeof u!="object")throw Error(x(62));if(a=a.style,g!=null){for(var C in g)!g.hasOwnProperty(C)||u!=null&&u.hasOwnProperty(C)||(C.indexOf("--")===0?a.setProperty(C,""):C==="float"?a.cssFloat="":a[C]="");for(var R in u)C=u[R],u.hasOwnProperty(R)&&g[R]!==C&&wu(a,R,C)}else for(var F in u)u.hasOwnProperty(F)&&wu(a,F,u[F])}function Ef(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var An=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ri(a){return Cu.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function gi(){}var qr=null;function Gd(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Si=null,sl=null;function Tf(a){var u=us(a);if(u&&(a=u.stateNode)){var g=a[tr]||null;e:switch(a=u.stateNode,u.type){case"input":if(Ir(a,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),u=g.name,g.type==="radio"&&u!=null){for(g=a;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+wi(""+u)+'"][type="radio"]'),u=0;u<g.length;u++){var C=g[u];if(C!==a&&C.form===a.form){var R=C[tr]||null;if(!R)throw Error(x(90));Ir(C,R.value,R.defaultValue,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name)}}for(u=0;u<g.length;u++)C=g[u],C.form===a.form&&Ps(C)}break e;case"textarea":Jr(a,g.value,g.defaultValue);break e;case"select":u=g.value,u!=null&&ni(a,!!g.multiple,u,!1)}}}var Jf=!1;function Su(a,u,g){if(Jf)return a(u,g);Jf=!0;try{var C=a(u);return C}finally{if(Jf=!1,(Si!==null||sl!==null)&&(jp(),Si&&(u=Si,a=sl,sl=Si=null,Tf(u),a)))for(u=0;u<a.length;u++)Tf(a[u])}}function Kd(a,u){var g=a.stateNode;if(g===null)return null;var C=g[tr]||null;if(C===null)return null;g=C[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(a=a.type,C=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!C;break e;default:a=!1}if(a)return null;if(g&&typeof g!="function")throw Error(x(231,u,typeof g));return g}var Dl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wc=!1;if(Dl)try{var qc={};Object.defineProperty(qc,"passive",{get:function(){Wc=!0}}),window.addEventListener("test",qc,qc),window.removeEventListener("test",qc,qc)}catch{Wc=!1}var fn=null,Eu=null,bd=null;function jl(){if(bd)return bd;var a,u=Eu,g=u.length,C,R="value"in fn?fn.value:fn.textContent,F=R.length;for(a=0;a<g&&u[a]===R[a];a++);var re=g-a;for(C=1;C<=re&&u[g-C]===R[F-C];C++);return bd=R.slice(a,1<C?1-C:void 0)}function rl(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function ju(){return!0}function ji(){return!1}function oi(a){function u(g,C,R,F,re){this._reactName=g,this._targetInst=R,this.type=C,this.nativeEvent=F,this.target=re,this.currentTarget=null;for(var fe in a)a.hasOwnProperty(fe)&&(g=a[fe],this[fe]=g?g(F):F[fe]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?ju:ji,this.isPropagationStopped=ji,this}return ne(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=ju)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=ju)},persist:function(){},isPersistent:ju}),u}var _l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fc=oi(_l),Ws=ne({},_l,{view:0,detail:0}),Af=oi(Ws),te,be,Pe,Nt=ne({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ni,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Pe&&(Pe&&a.type==="mousemove"?(te=a.screenX-Pe.screenX,be=a.screenY-Pe.screenY):be=te=0,Pe=a),te)},movementY:function(a){return"movementY"in a?a.movementY:be}}),qn=oi(Nt),ps=ne({},Nt,{dataTransfer:0}),lr=oi(ps),ja=ne({},Ws,{relatedTarget:0}),Ei=oi(ja),Ol=ne({},_l,{animationName:0,elapsedTime:0,pseudoElement:0}),se=oi(Ol),Ae=ne({},_l,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Xe=oi(Ae),Et=ne({},_l,{data:0}),pn=oi(Et),Wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _s(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=qs[a])?!!u[a]:!1}function Ni(){return _s}var Ea=ne({},Ws,{key:function(a){if(a.key){var u=Wn[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=rl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Po[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ni,charCode:function(a){return a.type==="keypress"?rl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?rl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Yd=oi(Ea),Om=ne({},Nt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kf=oi(Om),Gc=ne({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ni}),N0=oi(Gc),M0=ne({},_l,{propertyName:0,elapsedTime:0,pseudoElement:0}),pe=oi(M0),Re=ne({},Nt,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),dt=oi(Re),Yt=ne({},_l,{newState:0,oldState:0}),po=oi(Yt),bs=[9,13,27,32],Ta=Dl&&"CompositionEvent"in window,al=null;Dl&&"documentMode"in document&&(al=document.documentMode);var Ui=Dl&&"TextEvent"in window&&!al,Ul=Dl&&(!Ta||al&&8<al&&11>=al),Xd=" ",Zl=!1;function Rm(a,u){switch(a){case"keyup":return bs.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var il=!1;function Qd(a,u){switch(a){case"compositionend":return Wl(u);case"keypress":return u.which!==32?null:(Zl=!0,Xd);case"textInput":return a=u.data,a===Xd&&Zl?null:a;default:return null}}function _c(a,u){if(il)return a==="compositionend"||!Ta&&Rm(a,u)?(a=jl(),bd=Eu=fn=null,il=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Ul&&u.locale!=="ko"?null:u.data;default:return null}}var ds={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vh(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!ds[a.type]:u==="textarea"}function pp(a,u,g,C){Si?sl?sl.push(C):sl=[C]:Si=C,u=Hf(u,"onChange"),0<u.length&&(g=new fc("onChange","change",null,g,C),a.push({event:g,listeners:u}))}var Aa=null,B0=null;function j1(a){jh(a,0)}function U1(a){var u=Ao(a);if(Ps(u))return a}function Z1(a,u){if(a==="change")return u}var Ua=!1;if(Dl){var em;if(Dl){var W1="oninput"in document;if(!W1){var an=document.createElement("div");an.setAttribute("oninput","return;"),W1=typeof an.oninput=="function"}em=W1}else em=!1;Ua=em&&(!document.documentMode||9<document.documentMode)}function Kc(){Aa&&(Aa.detachEvent("onpropertychange",bg),B0=Aa=null)}function bg(a){if(a.propertyName==="value"&&U1(B0)){var u=[];pp(u,B0,a,Gd(a)),Su(j1,u)}}function yd(a,u,g){a==="focusin"?(Kc(),Aa=u,B0=g,Aa.attachEvent("onpropertychange",bg)):a==="focusout"&&Kc()}function yg(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return U1(B0)}function q1(a,u){if(a==="click")return U1(u)}function De(a,u){if(a==="input"||a==="change")return U1(u)}function Yc(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var vl=typeof Object.is=="function"?Object.is:Yc;function xh(a,u){if(vl(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var g=Object.keys(a),C=Object.keys(u);if(g.length!==C.length)return!1;for(C=0;C<g.length;C++){var R=g[C];if(!Rt.call(u,R)||!vl(a[R],u[R]))return!1}return!0}function wh(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Rl(a,u){var g=wh(a);a=0;for(var C;g;){if(g.nodeType===3){if(C=a+g.textContent.length,a<=u&&C>=u)return{node:g,offset:u-a};a=C}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=wh(g)}}function Oc(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?Oc(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function L0(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var u=ir(a.document);u instanceof a.HTMLIFrameElement;){try{var g=typeof u.contentWindow.location.href=="string"}catch{g=!1}if(g)a=u.contentWindow;else break;u=ir(a.document)}return u}function bp(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}var yp=Dl&&"documentMode"in document&&11>=document.documentMode,xl=null,vp=null,Tu=null,Ch=!1;function P0(a,u,g){var C=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Ch||xl==null||xl!==ir(C)||(C=xl,"selectionStart"in C&&bp(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),Tu&&xh(Tu,C)||(Tu=C,C=Hf(vp,"onSelect"),0<C.length&&(u=new fc("onSelect","select",null,u,g),a.push({event:u,listeners:C}),u.target=xl)))}function wl(a,u){var g={};return g[a.toLowerCase()]=u.toLowerCase(),g["Webkit"+a]="webkit"+u,g["Moz"+a]="moz"+u,g}var Nm={animationend:wl("Animation","AnimationEnd"),animationiteration:wl("Animation","AnimationIteration"),animationstart:wl("Animation","AnimationStart"),transitionrun:wl("Transition","TransitionRun"),transitionstart:wl("Transition","TransitionStart"),transitioncancel:wl("Transition","TransitionCancel"),transitionend:wl("Transition","TransitionEnd")},Uu={},tm={};Dl&&(tm=document.createElement("div").style,"AnimationEvent"in window||(delete Nm.animationend.animation,delete Nm.animationiteration.animation,delete Nm.animationstart.animation),"TransitionEvent"in window||delete Nm.transitionend.transition);function ss(a){if(Uu[a])return Uu[a];if(!Nm[a])return a;var u=Nm[a],g;for(g in u)if(u.hasOwnProperty(g)&&g in tm)return Uu[a]=u[g];return a}var mc=ss("animationend"),Sh=ss("animationiteration"),G1=ss("animationstart"),rs=ss("transitionrun"),nm=ss("transitionstart"),Ti=ss("transitioncancel"),vd=ss("transitionend"),xd=new Map,fa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fa.push("scrollEnd");function xs(a,u){xd.set(a,u),xn(u,[a])}var F0=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},wd=[],Pa=0,Au=0;function Xc(){for(var a=Pa,u=Au=Pa=0;u<a;){var g=wd[u];wd[u++]=null;var C=wd[u];wd[u++]=null;var R=wd[u];wd[u++]=null;var F=wd[u];if(wd[u++]=null,C!==null&&R!==null){var re=C.pending;re===null?R.next=R:(R.next=re.next,re.next=R),C.pending=R}F!==0&&Qc(g,R,F)}}function si(a,u,g,C){wd[Pa++]=a,wd[Pa++]=u,wd[Pa++]=g,wd[Pa++]=C,Au|=C,a.lanes|=C,a=a.alternate,a!==null&&(a.lanes|=C)}function Zu(a,u,g,C){return si(a,u,g,C),ll(a)}function Zi(a,u){return si(a,null,null,u),ll(a)}function Qc(a,u,g){a.lanes|=g;var C=a.alternate;C!==null&&(C.lanes|=g);for(var R=!1,F=a.return;F!==null;)F.childLanes|=g,C=F.alternate,C!==null&&(C.childLanes|=g),F.tag===22&&(a=F.stateNode,a===null||a._visibility&1||(R=!0)),a=F,F=F.return;return a.tag===3?(F=a.stateNode,R&&u!==null&&(R=31-gs(g),a=F.hiddenUpdates,C=a[R],C===null?a[R]=[u]:C.push(u),u.lane=g|536870912),F):null}function ll(a){if(50<Vp)throw Vp=0,K0=null,Error(x(185));for(var u=a.return;u!==null;)a=u,u=a.return;return a.tag===3?a.stateNode:null}var Fs={};function Wu(a,u,g,C){this.tag=a,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Za(a,u,g,C){return new Wu(a,u,g,C)}function Wi(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Fa(a,u){var g=a.alternate;return g===null?(g=Za(a.tag,u,a.key,a.mode),g.elementType=a.elementType,g.type=a.type,g.stateNode=a.stateNode,g.alternate=a,a.alternate=g):(g.pendingProps=u,g.type=a.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=a.flags&65011712,g.childLanes=a.childLanes,g.lanes=a.lanes,g.child=a.child,g.memoizedProps=a.memoizedProps,g.memoizedState=a.memoizedState,g.updateQueue=a.updateQueue,u=a.dependencies,g.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},g.sibling=a.sibling,g.index=a.index,g.ref=a.ref,g.refCleanup=a.refCleanup,g}function ma(a,u){a.flags&=65011714;var g=a.alternate;return g===null?(a.childLanes=0,a.lanes=u,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=g.childLanes,a.lanes=g.lanes,a.child=g.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=g.memoizedProps,a.memoizedState=g.memoizedState,a.updateQueue=g.updateQueue,a.type=g.type,u=g.dependencies,a.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),a}function Jc(a,u,g,C,R,F){var re=0;if(C=a,typeof a=="function")Wi(a)&&(re=1);else if(typeof a=="string")re=ym(a,g,je.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case Tn:return a=Za(31,g,u,R),a.elementType=Tn,a.lanes=F,a;case $e:return ri(g.children,R,F,u);case ve:re=8,R|=24;break;case ct:return a=Za(12,g,u,R|2),a.elementType=ct,a.lanes=F,a;case en:return a=Za(13,g,u,R),a.elementType=en,a.lanes=F,a;case Qe:return a=Za(19,g,u,R),a.elementType=Qe,a.lanes=F,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case J:re=10;break e;case Ue:re=9;break e;case vt:re=11;break e;case ie:re=14;break e;case it:re=16,C=null;break e}re=29,g=Error(x(130,a===null?"null":typeof a,"")),C=null}return u=Za(re,g,u,R),u.elementType=a,u.type=C,u.lanes=F,u}function ri(a,u,g,C){return a=Za(7,a,C,u),a.lanes=g,a}function ai(a,u,g){return a=Za(6,a,null,u),a.lanes=g,a}function om(a){var u=Za(18,null,null,0);return u.stateNode=a,u}function xp(a,u,g){return u=Za(4,a.children!==null?a.children:[],a.key,u),u.lanes=g,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}var wp=new WeakMap;function ra(a,u){if(typeof a=="object"&&a!==null){var g=wp.get(a);return g!==void 0?g:(u={value:a,source:u,stack:Je(u)},wp.set(a,u),u)}return{value:a,source:u,stack:Je(u)}}var Mm=[],Eh=0,Df=null,uo=0,ku=[],ea=0,ii=null,$a=1,cr="";function Rc(a,u){Mm[Eh++]=uo,Mm[Eh++]=Df,Df=a,uo=u}function Cp(a,u,g){ku[ea++]=$a,ku[ea++]=cr,ku[ea++]=ii,ii=a;var C=$a;a=cr;var R=32-gs(C)-1;C&=~(1<<R),g+=1;var F=32-gs(u)+R;if(30<F){var re=R-R%5;F=(C&(1<<re)-1).toString(32),C>>=re,R-=re,$a=1<<32-gs(u)+R|g<<R|C,cr=F+a}else $a=1<<F|g<<R|C,cr=a}function eu(a){a.return!==null&&(Rc(a,1),Cp(a,1,0))}function qu(a){for(;a===Df;)Df=Mm[--Eh],Mm[Eh]=null,uo=Mm[--Eh],Mm[Eh]=null;for(;a===ii;)ii=ku[--ea],ku[ea]=null,cr=ku[--ea],ku[ea]=null,$a=ku[--ea],ku[ea]=null}function vg(a,u){ku[ea++]=$a,ku[ea++]=cr,ku[ea++]=ii,$a=u.id,cr=u.overflow,ii=a}var Cl=null,Ia=null,Js=!1,Nl=null,Du=!1,cl=Error(x(519));function Sl(a){var u=Error(x(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hc(ra(u,a)),cl}function Jd(a){var u=a.stateNode,g=a.type,C=a.memoizedProps;switch(u[er]=a,u[tr]=C,g){case"dialog":Nr("cancel",u),Nr("close",u);break;case"iframe":case"object":case"embed":Nr("load",u);break;case"video":case"audio":for(g=0;g<yb.length;g++)Nr(yb[g],u);break;case"source":Nr("error",u);break;case"img":case"image":case"link":Nr("error",u),Nr("load",u);break;case"details":Nr("toggle",u);break;case"input":Nr("invalid",u),wo(u,C.value,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name,!0);break;case"select":Nr("invalid",u);break;case"textarea":Nr("invalid",u),Sf(u,C.value,C.defaultValue,C.children)}g=C.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||u.textContent===""+g||C.suppressHydrationWarning===!0||Ig(u.textContent,g)?(C.popover!=null&&(Nr("beforetoggle",u),Nr("toggle",u)),C.onScroll!=null&&Nr("scroll",u),C.onScrollEnd!=null&&Nr("scrollend",u),C.onClick!=null&&(u.onclick=gi),u=!0):u=!1,u||Sl(a,!0)}function $s(a){for(Cl=a.return;Cl;)switch(Cl.tag){case 5:case 31:case 13:Du=!1;return;case 27:case 3:Du=!0;return;default:Cl=Cl.return}}function Ml(a){if(a!==Cl)return!1;if(!Js)return $s(a),Js=!0,!1;var u=a.tag,g;if((g=u!==3&&u!==27)&&((g=u===5)&&(g=a.type,g=!(g!=="form"&&g!=="button")||Zh(a.type,a.memoizedProps)),g=!g),g&&Ia&&Sl(a),$s(a),u===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(x(317));Ia=kl(a)}else if(u===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(x(317));Ia=kl(a)}else u===27?(u=Ia,id(a.type)?(a=Al,Al=null,Ia=a):Ia=u):Ia=Cl?Kr(a.stateNode.nextSibling):null;return!0}function Bm(){Ia=Cl=null,Js=!1}function Th(){var a=Nl;return a!==null&&(nd===null?nd=a:nd.push.apply(nd,a),Nl=null),a}function hc(a){Nl===null?Nl=[a]:Nl.push(a)}var Co=ee(null),Or=null,Wa=null;function yr(a,u,g){wt(Co,u._currentValue),u._currentValue=g}function ul(a){a._currentValue=Co.current,Me(Co)}function Gr(a,u,g){for(;a!==null;){var C=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,C!==null&&(C.childLanes|=u)):C!==null&&(C.childLanes&u)!==u&&(C.childLanes|=u),a===g)break;a=a.return}}function li(a,u,g,C){var R=a.child;for(R!==null&&(R.return=a);R!==null;){var F=R.dependencies;if(F!==null){var re=R.child;F=F.firstContext;e:for(;F!==null;){var fe=F;F=R;for(var lt=0;lt<u.length;lt++)if(fe.context===u[lt]){F.lanes|=g,fe=F.alternate,fe!==null&&(fe.lanes|=g),Gr(F.return,g,a),C||(re=null);break e}F=fe.next}}else if(R.tag===18){if(re=R.return,re===null)throw Error(x(341));re.lanes|=g,F=re.alternate,F!==null&&(F.lanes|=g),Gr(re,g,a),re=null}else re=R.child;if(re!==null)re.return=R;else for(re=R;re!==null;){if(re===a){re=null;break}if(R=re.sibling,R!==null){R.return=re.return,re=R;break}re=re.return}R=re}}function ef(a,u,g,C){a=null;for(var R=u,F=!1;R!==null;){if(!F){if((R.flags&524288)!==0)F=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var re=R.alternate;if(re===null)throw Error(x(387));if(re=re.memoizedProps,re!==null){var fe=R.type;vl(R.pendingProps.value,re.value)||(a!==null?a.push(fe):a=[fe])}}else if(R===bt.current){if(re=R.alternate,re===null)throw Error(x(387));re.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(a!==null?a.push(ld):a=[ld])}R=R.return}a!==null&&li(u,a,g,C),u.flags|=262144}function cs(a){for(a=a.firstContext;a!==null;){if(!vl(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ql(a){Or=a,Wa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ws(a){return pi(Or,a)}function Gl(a,u){return Or===null&&ql(a),pi(a,u)}function pi(a,u){var g=u._currentValue;if(u={context:u,memoizedValue:g,next:null},Wa===null){if(a===null)throw Error(x(308));Wa=u,a.dependencies={lanes:0,firstContext:u},a.flags|=524288}else Wa=Wa.next=u;return g}var Ai=typeof AbortController<"u"?AbortController:function(){var a=[],u=this.signal={aborted:!1,addEventListener:function(g,C){a.push(C)}};this.abort=function(){u.aborted=!0,a.forEach(function(g){return g()})}},_f=c.unstable_scheduleCallback,xg=c.unstable_NormalPriority,qa={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Of(){return{controller:new Ai,data:new Map,refCount:0}}function Cd(a){a.refCount--,a.refCount===0&&_f(xg,function(){a.controller.abort()})}var Mi=null,tf=0,wg=0,Gu=null;function hr(a,u){if(Mi===null){var g=Mi=[];tf=0,wg=Fd(),Gu={status:"pending",value:void 0,then:function(C){g.push(C)}}}return tf++,u.then($0,$0),u}function $0(){if(--tf===0&&Mi!==null){Gu!==null&&(Gu.status="fulfilled");var a=Mi;Mi=null,wg=0,Gu=null;for(var u=0;u<a.length;u++)(0,a[u])()}}function Cg(a,u){var g=[],C={status:"pending",value:null,reason:null,then:function(R){g.push(R)}};return a.then(function(){C.status="fulfilled",C.value=u;for(var R=0;R<g.length;R++)(0,g[R])(u)},function(R){for(C.status="rejected",C.reason=R,R=0;R<g.length;R++)(0,g[R])(void 0)}),C}var Bl=P.S;P.S=function(a,u){fb=Tt(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&hr(a,u),Bl!==null&&Bl(a,u)};var dl=ee(null);function ka(){var a=dl.current;return a!==null?a:ba.pooledCache}function Sd(a,u){u===null?wt(dl,dl.current):wt(dl,u.pool)}function ui(){var a=ka();return a===null?null:{parent:qa._currentValue,pool:a}}var nf=Error(x(460)),Sg=Error(x(474)),Eg=Error(x(542)),K1={then:function(){}};function Ed(a){return a=a.status,a==="fulfilled"||a==="rejected"}function dy(a,u,g){switch(g=a[g],g===void 0?a.push(u):g!==u&&(u.then(gi,gi),u=g),u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,Ah(a),a;default:if(typeof u.status=="string")u.then(gi,gi);else{if(a=ba,a!==null&&100<a.shellSuspendCounter)throw Error(x(482));a=u,a.status="pending",a.then(function(C){if(u.status==="pending"){var R=u;R.status="fulfilled",R.value=C}},function(C){if(u.status==="pending"){var R=u;R.status="rejected",R.reason=C}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,Ah(a),a}throw gc=u,nf}}function sm(a){try{var u=a._init;return u(a._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(gc=g,nf):g}}var gc=null;function Y1(){if(gc===null)throw Error(x(459));var a=gc;return gc=null,a}function Ah(a){if(a===nf||a===Eg)throw Error(x(483))}var Rf=null,rm=0;function Tg(a){var u=rm;return rm+=1,Rf===null&&(Rf=[]),dy(Rf,a,u)}function Ag(a,u){u=u.props.ref,a.ref=u!==void 0?u:null}function tu(a,u){throw u.$$typeof===ue?Error(x(525)):(a=Object.prototype.toString.call(u),Error(x(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a)))}function fy(a){function u(et,ft){if(a){var zt=et.deletions;zt===null?(et.deletions=[ft],et.flags|=16):zt.push(ft)}}function g(et,ft){if(!a)return null;for(;ft!==null;)u(et,ft),ft=ft.sibling;return null}function C(et){for(var ft=new Map;et!==null;)et.key!==null?ft.set(et.key,et):ft.set(et.index,et),et=et.sibling;return ft}function R(et,ft){return et=Fa(et,ft),et.index=0,et.sibling=null,et}function F(et,ft,zt){return et.index=zt,a?(zt=et.alternate,zt!==null?(zt=zt.index,zt<ft?(et.flags|=67108866,ft):zt):(et.flags|=67108866,ft)):(et.flags|=1048576,ft)}function re(et){return a&&et.alternate===null&&(et.flags|=67108866),et}function fe(et,ft,zt,hn){return ft===null||ft.tag!==6?(ft=ai(zt,et.mode,hn),ft.return=et,ft):(ft=R(ft,zt),ft.return=et,ft)}function lt(et,ft,zt,hn){var ms=zt.type;return ms===$e?bn(et,ft,zt.props.children,hn,zt.key):ft!==null&&(ft.elementType===ms||typeof ms=="object"&&ms!==null&&ms.$$typeof===it&&sm(ms)===ft.type)?(ft=R(ft,zt.props),Ag(ft,zt),ft.return=et,ft):(ft=Jc(zt.type,zt.key,zt.props,null,et.mode,hn),Ag(ft,zt),ft.return=et,ft)}function Ut(et,ft,zt,hn){return ft===null||ft.tag!==4||ft.stateNode.containerInfo!==zt.containerInfo||ft.stateNode.implementation!==zt.implementation?(ft=xp(zt,et.mode,hn),ft.return=et,ft):(ft=R(ft,zt.children||[]),ft.return=et,ft)}function bn(et,ft,zt,hn,ms){return ft===null||ft.tag!==7?(ft=ri(zt,et.mode,hn,ms),ft.return=et,ft):(ft=R(ft,zt),ft.return=et,ft)}function Dn(et,ft,zt){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return ft=ai(""+ft,et.mode,zt),ft.return=et,ft;if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case we:return zt=Jc(ft.type,ft.key,ft.props,null,et.mode,zt),Ag(zt,ft),zt.return=et,zt;case Ee:return ft=xp(ft,et.mode,zt),ft.return=et,ft;case it:return ft=sm(ft),Dn(et,ft,zt)}if(Pt(ft)||Oe(ft))return ft=ri(ft,et.mode,zt,null),ft.return=et,ft;if(typeof ft.then=="function")return Dn(et,Tg(ft),zt);if(ft.$$typeof===J)return Dn(et,Gl(et,ft),zt);tu(et,ft)}return null}function Xt(et,ft,zt,hn){var ms=ft!==null?ft.key:null;if(typeof zt=="string"&&zt!==""||typeof zt=="number"||typeof zt=="bigint")return ms!==null?null:fe(et,ft,""+zt,hn);if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case we:return zt.key===ms?lt(et,ft,zt,hn):null;case Ee:return zt.key===ms?Ut(et,ft,zt,hn):null;case it:return zt=sm(zt),Xt(et,ft,zt,hn)}if(Pt(zt)||Oe(zt))return ms!==null?null:bn(et,ft,zt,hn,null);if(typeof zt.then=="function")return Xt(et,ft,Tg(zt),hn);if(zt.$$typeof===J)return Xt(et,ft,Gl(et,zt),hn);tu(et,zt)}return null}function ln(et,ft,zt,hn,ms){if(typeof hn=="string"&&hn!==""||typeof hn=="number"||typeof hn=="bigint")return et=et.get(zt)||null,fe(ft,et,""+hn,ms);if(typeof hn=="object"&&hn!==null){switch(hn.$$typeof){case we:return et=et.get(hn.key===null?zt:hn.key)||null,lt(ft,et,hn,ms);case Ee:return et=et.get(hn.key===null?zt:hn.key)||null,Ut(ft,et,hn,ms);case it:return hn=sm(hn),ln(et,ft,zt,hn,ms)}if(Pt(hn)||Oe(hn))return et=et.get(zt)||null,bn(ft,et,hn,ms,null);if(typeof hn.then=="function")return ln(et,ft,zt,Tg(hn),ms);if(hn.$$typeof===J)return ln(et,ft,zt,Gl(ft,hn),ms);tu(ft,hn)}return null}function es(et,ft,zt,hn){for(var ms=null,js=null,Go=ft,rr=ft=0,Mr=null;Go!==null&&rr<zt.length;rr++){Go.index>rr?(Mr=Go,Go=null):Mr=Go.sibling;var zr=Xt(et,Go,zt[rr],hn);if(zr===null){Go===null&&(Go=Mr);break}a&&Go&&zr.alternate===null&&u(et,Go),ft=F(zr,ft,rr),js===null?ms=zr:js.sibling=zr,js=zr,Go=Mr}if(rr===zt.length)return g(et,Go),Js&&Rc(et,rr),ms;if(Go===null){for(;rr<zt.length;rr++)Go=Dn(et,zt[rr],hn),Go!==null&&(ft=F(Go,ft,rr),js===null?ms=Go:js.sibling=Go,js=Go);return Js&&Rc(et,rr),ms}for(Go=C(Go);rr<zt.length;rr++)Mr=ln(Go,et,rr,zt[rr],hn),Mr!==null&&(a&&Mr.alternate!==null&&Go.delete(Mr.key===null?rr:Mr.key),ft=F(Mr,ft,rr),js===null?ms=Mr:js.sibling=Mr,js=Mr);return a&&Go.forEach(function(hf){return u(et,hf)}),Js&&Rc(et,rr),ms}function Os(et,ft,zt,hn){if(zt==null)throw Error(x(151));for(var ms=null,js=null,Go=ft,rr=ft=0,Mr=null,zr=zt.next();Go!==null&&!zr.done;rr++,zr=zt.next()){Go.index>rr?(Mr=Go,Go=null):Mr=Go.sibling;var hf=Xt(et,Go,zr.value,hn);if(hf===null){Go===null&&(Go=Mr);break}a&&Go&&hf.alternate===null&&u(et,Go),ft=F(hf,ft,rr),js===null?ms=hf:js.sibling=hf,js=hf,Go=Mr}if(zr.done)return g(et,Go),Js&&Rc(et,rr),ms;if(Go===null){for(;!zr.done;rr++,zr=zt.next())zr=Dn(et,zr.value,hn),zr!==null&&(ft=F(zr,ft,rr),js===null?ms=zr:js.sibling=zr,js=zr);return Js&&Rc(et,rr),ms}for(Go=C(Go);!zr.done;rr++,zr=zt.next())zr=ln(Go,et,rr,zr.value,hn),zr!==null&&(a&&zr.alternate!==null&&Go.delete(zr.key===null?rr:zr.key),ft=F(zr,ft,rr),js===null?ms=zr:js.sibling=zr,js=zr);return a&&Go.forEach(function(Jm){return u(et,Jm)}),Js&&Rc(et,rr),ms}function fi(et,ft,zt,hn){if(typeof zt=="object"&&zt!==null&&zt.type===$e&&zt.key===null&&(zt=zt.props.children),typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case we:e:{for(var ms=zt.key;ft!==null;){if(ft.key===ms){if(ms=zt.type,ms===$e){if(ft.tag===7){g(et,ft.sibling),hn=R(ft,zt.props.children),hn.return=et,et=hn;break e}}else if(ft.elementType===ms||typeof ms=="object"&&ms!==null&&ms.$$typeof===it&&sm(ms)===ft.type){g(et,ft.sibling),hn=R(ft,zt.props),Ag(hn,zt),hn.return=et,et=hn;break e}g(et,ft);break}else u(et,ft);ft=ft.sibling}zt.type===$e?(hn=ri(zt.props.children,et.mode,hn,zt.key),hn.return=et,et=hn):(hn=Jc(zt.type,zt.key,zt.props,null,et.mode,hn),Ag(hn,zt),hn.return=et,et=hn)}return re(et);case Ee:e:{for(ms=zt.key;ft!==null;){if(ft.key===ms)if(ft.tag===4&&ft.stateNode.containerInfo===zt.containerInfo&&ft.stateNode.implementation===zt.implementation){g(et,ft.sibling),hn=R(ft,zt.children||[]),hn.return=et,et=hn;break e}else{g(et,ft);break}else u(et,ft);ft=ft.sibling}hn=xp(zt,et.mode,hn),hn.return=et,et=hn}return re(et);case it:return zt=sm(zt),fi(et,ft,zt,hn)}if(Pt(zt))return es(et,ft,zt,hn);if(Oe(zt)){if(ms=Oe(zt),typeof ms!="function")throw Error(x(150));return zt=ms.call(zt),Os(et,ft,zt,hn)}if(typeof zt.then=="function")return fi(et,ft,Tg(zt),hn);if(zt.$$typeof===J)return fi(et,ft,Gl(et,zt),hn);tu(et,zt)}return typeof zt=="string"&&zt!==""||typeof zt=="number"||typeof zt=="bigint"?(zt=""+zt,ft!==null&&ft.tag===6?(g(et,ft.sibling),hn=R(ft,zt),hn.return=et,et=hn):(g(et,ft),hn=ai(zt,et.mode,hn),hn.return=et,et=hn),re(et)):g(et,ft)}return function(et,ft,zt,hn){try{rm=0;var ms=fi(et,ft,zt,hn);return Rf=null,ms}catch(Go){if(Go===nf||Go===Eg)throw Go;var js=Za(29,Go,null,et.mode);return js.lanes=hn,js.return=et,js}}}var _u=fy(!0),ur=fy(!1),bi=!1;function Td(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sp(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function nu(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Nf(a,u,g){var C=a.updateQueue;if(C===null)return null;if(C=C.shared,(Bs&2)!==0){var R=C.pending;return R===null?u.next=u:(u.next=R.next,R.next=u),C.pending=u,u=ll(a),Qc(a,null,g),u}return si(a,C,u,g),ll(a)}function kg(a,u,g){if(u=u.updateQueue,u!==null&&(u=u.shared,(g&4194048)!==0)){var C=u.lanes;C&=a.pendingLanes,g|=C,u.lanes=g,Ro(a,g)}}function Ad(a,u){var g=a.updateQueue,C=a.alternate;if(C!==null&&(C=C.updateQueue,g===C)){var R=null,F=null;if(g=g.firstBaseUpdate,g!==null){do{var re={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};F===null?R=F=re:F=F.next=re,g=g.next}while(g!==null);F===null?R=F=u:F=F.next=u}else R=F=u;g={baseState:C.baseState,firstBaseUpdate:R,lastBaseUpdate:F,shared:C.shared,callbacks:C.callbacks},a.updateQueue=g;return}a=g.lastBaseUpdate,a===null?g.firstBaseUpdate=u:a.next=u,g.lastBaseUpdate=u}var kd=!1;function nr(){if(kd){var a=Gu;if(a!==null)throw a}}function Dg(a,u,g,C){kd=!1;var R=a.updateQueue;bi=!1;var F=R.firstBaseUpdate,re=R.lastBaseUpdate,fe=R.shared.pending;if(fe!==null){R.shared.pending=null;var lt=fe,Ut=lt.next;lt.next=null,re===null?F=Ut:re.next=Ut,re=lt;var bn=a.alternate;bn!==null&&(bn=bn.updateQueue,fe=bn.lastBaseUpdate,fe!==re&&(fe===null?bn.firstBaseUpdate=Ut:fe.next=Ut,bn.lastBaseUpdate=lt))}if(F!==null){var Dn=R.baseState;re=0,bn=Ut=lt=null,fe=F;do{var Xt=fe.lane&-536870913,ln=Xt!==fe.lane;if(ln?(Rr&Xt)===Xt:(C&Xt)===Xt){Xt!==0&&Xt===wg&&(kd=!0),bn!==null&&(bn=bn.next={lane:0,tag:fe.tag,payload:fe.payload,callback:null,next:null});e:{var es=a,Os=fe;Xt=u;var fi=g;switch(Os.tag){case 1:if(es=Os.payload,typeof es=="function"){Dn=es.call(fi,Dn,Xt);break e}Dn=es;break e;case 3:es.flags=es.flags&-65537|128;case 0:if(es=Os.payload,Xt=typeof es=="function"?es.call(fi,Dn,Xt):es,Xt==null)break e;Dn=ne({},Dn,Xt);break e;case 2:bi=!0}}Xt=fe.callback,Xt!==null&&(a.flags|=64,ln&&(a.flags|=8192),ln=R.callbacks,ln===null?R.callbacks=[Xt]:ln.push(Xt))}else ln={lane:Xt,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},bn===null?(Ut=bn=ln,lt=Dn):bn=bn.next=ln,re|=Xt;if(fe=fe.next,fe===null){if(fe=R.shared.pending,fe===null)break;ln=fe,fe=ln.next,ln.next=null,R.lastBaseUpdate=ln,R.shared.pending=null}}while(!0);bn===null&&(lt=Dn),R.baseState=lt,R.firstBaseUpdate=Ut,R.lastBaseUpdate=bn,F===null&&(R.shared.lanes=0),Lc|=re,a.lanes=re,a.memoizedState=Dn}}function ha(a,u){if(typeof a!="function")throw Error(x(191,a));a.call(u)}function kh(a,u){var g=a.callbacks;if(g!==null)for(a.callbacks=null,a=0;a<g.length;a++)ha(g[a],u)}var Da=ee(null),Ku=ee(0);function El(a,u){a=fm,wt(Ku,a),wt(Da,u),fm=a|u.baseLanes}function of(){wt(Ku,fm),wt(Da,Da.current)}function _g(){fm=Ku.current,Me(Da),Me(Ku)}var ou=ee(null),Ou=null;function Lm(a){var u=a.alternate;wt(ki,ki.current&1),wt(ou,a),Ou===null&&(u===null||Da.current!==null||u.memoizedState!==null)&&(Ou=a)}function pc(a){wt(ki,ki.current),wt(ou,a),Ou===null&&(Ou=a)}function Dd(a){a.tag===22?(wt(ki,ki.current),wt(ou,a),Ou===null&&(Ou=a)):aa()}function aa(){wt(ki,ki.current),wt(ou,ou.current)}function ta(a){Me(ou),Ou===a&&(Ou=null),Me(ki)}var ki=ee(0);function Pm(a){for(var u=a;u!==null;){if(u.tag===13){var g=u.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||Xv(g)||Kp(g)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var _d=0,or=null,Cr=null,Ll=null,L=!1,z=!1,ae=!1,xe=0,We=0,kt=null,wn=0;function _n(){throw Error(x(321))}function Fo(a,u){if(u===null)return!1;for(var g=0;g<u.length&&g<a.length;g++)if(!vl(a[g],u[g]))return!1;return!0}function as(a,u,g,C,R,F){return _d=F,or=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,P.H=a===null||a.memoizedState===null?Od:Op,ae=!1,F=g(C,R),ae=!1,z&&(F=ia(u,g,C,R)),Br(a),F}function Br(a){P.H=la;var u=Cr!==null&&Cr.next!==null;if(_d=0,Ll=Cr=or=null,L=!1,We=0,kt=null,u)throw Error(x(300));a===null||Tl||(a=a.dependencies,a!==null&&cs(a)&&(Tl=!0))}function ia(a,u,g,C){or=a;var R=0;do{if(z&&(kt=null),We=0,z=!1,25<=R)throw Error(x(301));if(R+=1,Ll=Cr=null,a.updateQueue!=null){var F=a.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}P.H=Mu,F=u(g,C)}while(z);return F}function yi(){var a=P.H,u=a.useState()[0];return u=typeof u.then=="function"?im(u):u,a=a.useState()[0],(Cr!==null?Cr.memoizedState:null)!==a&&(or.flags|=1024),u}function Nc(){var a=xe!==0;return xe=0,a}function Yu(a,u,g){u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~g}function sf(a){if(L){for(a=a.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}L=!1}_d=0,Ll=Cr=or=null,z=!1,We=xe=0,kt=null}function di(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ll===null?or.memoizedState=Ll=a:Ll=Ll.next=a,Ll}function Bi(){if(Cr===null){var a=or.alternate;a=a!==null?a.memoizedState:null}else a=Cr.next;var u=Ll===null?or.memoizedState:Ll.next;if(u!==null)Ll=u,Cr=a;else{if(a===null)throw or.alternate===null?Error(x(467)):Error(x(310));Cr=a,a={memoizedState:Cr.memoizedState,baseState:Cr.baseState,baseQueue:Cr.baseQueue,queue:Cr.queue,next:null},Ll===null?or.memoizedState=Ll=a:Ll=Ll.next=a}return Ll}function am(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function im(a){var u=We;return We+=1,kt===null&&(kt=[]),a=dy(kt,a,u),u=or,(Ll===null?u.memoizedState:Ll.next)===null&&(u=u.alternate,P.H=u===null||u.memoizedState===null?Od:Op),a}function Fm(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return im(a);if(a.$$typeof===J)return ws(a)}throw Error(x(438,String(a)))}function Dh(a){var u=null,g=or.updateQueue;if(g!==null&&(u=g.memoCache),u==null){var C=or.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(u={data:C.data.map(function(R){return R.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),g===null&&(g=am(),or.updateQueue=g),g.memoCache=u,g=u.data[u.index],g===void 0)for(g=u.data[u.index]=Array(a),C=0;C<a;C++)g[C]=mn;return u.index++,g}function Ru(a,u){return typeof u=="function"?u(a):u}function _h(a){var u=Bi();return X1(u,Cr,a)}function X1(a,u,g){var C=a.queue;if(C===null)throw Error(x(311));C.lastRenderedReducer=g;var R=a.baseQueue,F=C.pending;if(F!==null){if(R!==null){var re=R.next;R.next=F.next,F.next=re}u.baseQueue=R=F,C.pending=null}if(F=a.baseState,R===null)a.memoizedState=F;else{u=R.next;var fe=re=null,lt=null,Ut=u,bn=!1;do{var Dn=Ut.lane&-536870913;if(Dn!==Ut.lane?(Rr&Dn)===Dn:(_d&Dn)===Dn){var Xt=Ut.revertLane;if(Xt===0)lt!==null&&(lt=lt.next={lane:0,revertLane:0,gesture:null,action:Ut.action,hasEagerState:Ut.hasEagerState,eagerState:Ut.eagerState,next:null}),Dn===wg&&(bn=!0);else if((_d&Xt)===Xt){Ut=Ut.next,Xt===wg&&(bn=!0);continue}else Dn={lane:0,revertLane:Ut.revertLane,gesture:null,action:Ut.action,hasEagerState:Ut.hasEagerState,eagerState:Ut.eagerState,next:null},lt===null?(fe=lt=Dn,re=F):lt=lt.next=Dn,or.lanes|=Xt,Lc|=Xt;Dn=Ut.action,ae&&g(F,Dn),F=Ut.hasEagerState?Ut.eagerState:g(F,Dn)}else Xt={lane:Dn,revertLane:Ut.revertLane,gesture:Ut.gesture,action:Ut.action,hasEagerState:Ut.hasEagerState,eagerState:Ut.eagerState,next:null},lt===null?(fe=lt=Xt,re=F):lt=lt.next=Xt,or.lanes|=Dn,Lc|=Dn;Ut=Ut.next}while(Ut!==null&&Ut!==u);if(lt===null?re=F:lt.next=fe,!vl(F,a.memoizedState)&&(Tl=!0,bn&&(g=Gu,g!==null)))throw g;a.memoizedState=F,a.baseState=re,a.baseQueue=lt,C.lastRenderedState=F}return R===null&&(C.lanes=0),[a.memoizedState,C.dispatch]}function Q1(a){var u=Bi(),g=u.queue;if(g===null)throw Error(x(311));g.lastRenderedReducer=a;var C=g.dispatch,R=g.pending,F=u.memoizedState;if(R!==null){g.pending=null;var re=R=R.next;do F=a(F,re.action),re=re.next;while(re!==R);vl(F,u.memoizedState)||(Tl=!0),u.memoizedState=F,u.baseQueue===null&&(u.baseState=F),g.lastRenderedState=F}return[F,C]}function Is(a,u,g){var C=or,R=Bi(),F=Js;if(F){if(g===void 0)throw Error(x(407));g=g()}else g=u();var re=!vl((Cr||R).memoizedState,g);if(re&&(R.memoizedState=g,Tl=!0),R=R.queue,Ka(Pl.bind(null,C,R,a),[a]),R.getSnapshot!==u||re||Ll!==null&&Ll.memoizedState.tag&1){if(C.flags|=2048,rf(9,{destroy:void 0},Ga.bind(null,C,R,g,u),null),ba===null)throw Error(x(349));F||(_d&127)!==0||Ha(C,u,g)}return g}function Ha(a,u,g){a.flags|=16384,a={getSnapshot:u,value:g},u=or.updateQueue,u===null?(u=am(),or.updateQueue=u,u.stores=[a]):(g=u.stores,g===null?u.stores=[a]:g.push(a))}function Ga(a,u,g,C){u.value=g,u.getSnapshot=C,Ep(u)&&Og(a)}function Pl(a,u,g){return g(function(){Ep(u)&&Og(a)})}function Ep(a){var u=a.getSnapshot;a=a.value;try{var g=u();return!vl(a,g)}catch{return!0}}function Og(a){var u=Zi(a,2);u!==null&&od(u,a,2)}function Rg(a){var u=di();if(typeof a=="function"){var g=a;if(a=g(),ae){Xs(!0);try{g()}finally{Xs(!1)}}}return u.memoizedState=u.baseState=a,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ru,lastRenderedState:a},u}function Tp(a,u,g,C){return a.baseState=g,X1(a,Cr,typeof C=="function"?C:Ru)}function Cx(a,u,g,C,R){if(ns(a))throw Error(x(485));if(a=u.action,a!==null){var F={payload:R,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(re){F.listeners.push(re)}};P.T!==null?g(!0):F.isTransition=!1,C(F),g=u.pending,g===null?(F.next=u.pending=F,$m(u,F)):(F.next=g.next,u.pending=g.next=F)}}function $m(a,u){var g=u.action,C=u.payload,R=a.state;if(u.isTransition){var F=P.T,re={};P.T=re;try{var fe=g(R,C),lt=P.S;lt!==null&&lt(re,fe),I0(a,u,fe)}catch(Ut){Rv(a,u,Ut)}finally{F!==null&&re.types!==null&&(F.types=re.types),P.T=F}}else try{F=g(R,C),I0(a,u,F)}catch(Ut){Rv(a,u,Ut)}}function I0(a,u,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(C){Oh(a,u,C)},function(C){return Rv(a,u,C)}):Oh(a,u,g)}function Oh(a,u,g){u.status="fulfilled",u.value=g,Li(u),a.state=g,u=a.pending,u!==null&&(g=u.next,g===u?a.pending=null:(g=g.next,u.next=g,$m(a,g)))}function Rv(a,u,g){var C=a.pending;if(a.pending=null,C!==null){C=C.next;do u.status="rejected",u.reason=g,Li(u),u=u.next;while(u!==C)}a.action=null}function Li(a){a=a.listeners;for(var u=0;u<a.length;u++)(0,a[u])()}function Di(a,u){return u}function Rh(a,u){if(Js){var g=ba.formState;if(g!==null){e:{var C=or;if(Js){if(Ia){t:{for(var R=Ia,F=Du;R.nodeType!==8;){if(!F){R=null;break t}if(R=Kr(R.nextSibling),R===null){R=null;break t}}F=R.data,R=F==="F!"||F==="F"?R:null}if(R){Ia=Kr(R.nextSibling),C=R.data==="F!";break e}}Sl(C)}C=!1}C&&(u=g[0])}}return g=di(),g.memoizedState=g.baseState=u,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:u},g.queue=C,g=dn.bind(null,or,C),C.dispatch=g,C=Rg(!1),F=Pi.bind(null,or,!1,C.queue),C=di(),R={state:u,dispatch:null,action:a,pending:null},C.queue=R,g=Cx.bind(null,or,R,F,g),R.dispatch=g,C.memoizedState=a,[u,g,!1]}function Im(a){var u=Bi();return my(u,Cr,a)}function my(a,u,g){if(u=X1(a,u,Di)[0],a=_h(Ru)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var C=im(u)}catch(re){throw re===nf?Eg:re}else C=u;u=Bi();var R=u.queue,F=R.dispatch;return g!==u.memoizedState&&(or.flags|=2048,rf(9,{destroy:void 0},bc.bind(null,R,g),null)),[C,F,a]}function bc(a,u){a.action=u}function hy(a){var u=Bi(),g=Cr;if(g!==null)return my(u,g,a);Bi(),u=u.memoizedState,g=Bi();var C=g.queue.dispatch;return g.memoizedState=a,[u,C,!1]}function rf(a,u,g,C){return a={tag:a,create:g,deps:C,inst:u,next:null},u=or.updateQueue,u===null&&(u=am(),or.updateQueue=u),g=u.lastEffect,g===null?u.lastEffect=a.next=a:(C=g.next,g.next=a,a.next=C,u.lastEffect=a),a}function J1(){return Bi().memoizedState}function su(a,u,g,C){var R=di();or.flags|=a,R.memoizedState=rf(1|u,{destroy:void 0},g,C===void 0?null:C)}function H0(a,u,g,C){var R=Bi();C=C===void 0?null:C;var F=R.memoizedState.inst;Cr!==null&&C!==null&&Fo(C,Cr.memoizedState.deps)?R.memoizedState=rf(u,F,g,C):(or.flags|=a,R.memoizedState=rf(1|u,F,g,C))}function Nu(a,u){su(8390656,8,a,u)}function Ka(a,u){H0(2048,8,a,u)}function gy(a){or.flags|=4;var u=or.updateQueue;if(u===null)u=am(),or.updateQueue=u,u.events=[a];else{var g=u.events;g===null?u.events=[a]:g.push(a)}}function Ap(a){var u=Bi().memoizedState;return gy({ref:u,nextImpl:a}),function(){if((Bs&2)!==0)throw Error(x(440));return u.impl.apply(void 0,arguments)}}function Nv(a,u){return H0(4,2,a,u)}function py(a,u){return H0(4,4,a,u)}function Mv(a,u){if(typeof u=="function"){a=a();var g=u(a);return function(){typeof g=="function"?g():u(null)}}if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function Bv(a,u,g){g=g!=null?g.concat([a]):null,H0(4,4,Mv.bind(null,u,a),g)}function z0(){}function kp(a,u){var g=Bi();u=u===void 0?null:u;var C=g.memoizedState;return u!==null&&Fo(u,C[1])?C[0]:(g.memoizedState=[a,u],a)}function eb(a,u){var g=Bi();u=u===void 0?null:u;var C=g.memoizedState;if(u!==null&&Fo(u,C[1]))return C[0];if(C=a(),ae){Xs(!0);try{a()}finally{Xs(!1)}}return g.memoizedState=[C,u],C}function Cn(a,u,g){return g===void 0||(_d&1073741824)!==0&&(Rr&261930)===0?a.memoizedState=u:(a.memoizedState=g,a=Lg(),or.lanes|=a,Lc|=a,g)}function ru(a,u,g,C){return vl(g,u)?g:Da.current!==null?(a=Cn(a,g,C),vl(a,u)||(Tl=!0),a):(_d&42)===0||(_d&1073741824)!==0&&(Rr&261930)===0?(Tl=!0,a.memoizedState=g):(a=Lg(),or.lanes|=a,Lc|=a,u)}function Sx(a,u,g,C,R){var F=Vt.p;Vt.p=F!==0&&8>F?F:8;var re=P.T,fe={};P.T=fe,Pi(a,!1,u,g);try{var lt=R(),Ut=P.S;if(Ut!==null&&Ut(fe,lt),lt!==null&&typeof lt=="object"&&typeof lt.then=="function"){var bn=Cg(lt,C);Dp(a,u,bn,Pd(a))}else Dp(a,u,C,Pd(a))}catch(Dn){Dp(a,u,{then:function(){},status:"rejected",reason:Dn},Pd())}finally{Vt.p=F,re!==null&&fe.types!==null&&(re.types=fe.types),P.T=re}}function au(){}function Xu(a,u,g,C){if(a.tag!==5)throw Error(x(476));var R=tb(a).queue;Sx(a,R,u,at,g===null?au:function(){return Ex(a),g(C)})}function tb(a){var u=a.memoizedState;if(u!==null)return u;u={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ru,lastRenderedState:at},next:null};var g={};return u.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ru,lastRenderedState:g},next:null},a.memoizedState=u,a=a.alternate,a!==null&&(a.memoizedState=u),u}function Ex(a){var u=tb(a);u.next===null&&(u=a.alternate.memoizedState),Dp(a,u.next.queue,{},Pd())}function Hm(){return ws(ld)}function Tx(){return Bi().memoizedState}function iu(){return Bi().memoizedState}function Ax(a){for(var u=a.return;u!==null;){switch(u.tag){case 24:case 3:var g=Pd();a=nu(g);var C=Nf(u,a,g);C!==null&&(od(C,u,g),kg(C,u,g)),u={cache:Of()},a.payload=u;return}u=u.return}}function af(a,u,g){var C=Pd();g={lane:C,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},ns(a)?zm(u,g):(g=Zu(a,u,g,C),g!==null&&(od(g,a,C),_p(g,u,C)))}function dn(a,u,g){var C=Pd();Dp(a,u,g,C)}function Dp(a,u,g,C){var R={lane:C,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(ns(a))zm(u,R);else{var F=a.alternate;if(a.lanes===0&&(F===null||F.lanes===0)&&(F=u.lastRenderedReducer,F!==null))try{var re=u.lastRenderedState,fe=F(re,g);if(R.hasEagerState=!0,R.eagerState=fe,vl(fe,re))return si(a,u,R,0),ba===null&&Xc(),!1}catch{}if(g=Zu(a,u,R,C),g!==null)return od(g,a,C),_p(g,u,C),!0}return!1}function Pi(a,u,g,C){if(C={lane:2,revertLane:Fd(),gesture:null,action:C,hasEagerState:!1,eagerState:null,next:null},ns(a)){if(u)throw Error(x(479))}else u=Zu(a,g,C,2),u!==null&&od(u,a,2)}function ns(a){var u=a.alternate;return a===or||u!==null&&u===or}function zm(a,u){z=L=!0;var g=a.pending;g===null?u.next=u:(u.next=g.next,g.next=u),a.pending=u}function _p(a,u,g){if((g&4194048)!==0){var C=u.lanes;C&=a.pendingLanes,g|=C,u.lanes=g,Ro(a,g)}}var la={readContext:ws,use:Fm,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useLayoutEffect:_n,useInsertionEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useSyncExternalStore:_n,useId:_n,useHostTransitionStatus:_n,useFormState:_n,useActionState:_n,useOptimistic:_n,useMemoCache:_n,useCacheRefresh:_n};la.useEffectEvent=_n;var Od={readContext:ws,use:Fm,useCallback:function(a,u){return di().memoizedState=[a,u===void 0?null:u],a},useContext:ws,useEffect:Nu,useImperativeHandle:function(a,u,g){g=g!=null?g.concat([a]):null,su(4194308,4,Mv.bind(null,u,a),g)},useLayoutEffect:function(a,u){return su(4194308,4,a,u)},useInsertionEffect:function(a,u){su(4,2,a,u)},useMemo:function(a,u){var g=di();u=u===void 0?null:u;var C=a();if(ae){Xs(!0);try{a()}finally{Xs(!1)}}return g.memoizedState=[C,u],C},useReducer:function(a,u,g){var C=di();if(g!==void 0){var R=g(u);if(ae){Xs(!0);try{g(u)}finally{Xs(!1)}}}else R=u;return C.memoizedState=C.baseState=R,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:R},C.queue=a,a=a.dispatch=af.bind(null,or,a),[C.memoizedState,a]},useRef:function(a){var u=di();return a={current:a},u.memoizedState=a},useState:function(a){a=Rg(a);var u=a.queue,g=dn.bind(null,or,u);return u.dispatch=g,[a.memoizedState,g]},useDebugValue:z0,useDeferredValue:function(a,u){var g=di();return Cn(g,a,u)},useTransition:function(){var a=Rg(!1);return a=Sx.bind(null,or,a.queue,!0,!1),di().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,u,g){var C=or,R=di();if(Js){if(g===void 0)throw Error(x(407));g=g()}else{if(g=u(),ba===null)throw Error(x(349));(Rr&127)!==0||Ha(C,u,g)}R.memoizedState=g;var F={value:g,getSnapshot:u};return R.queue=F,Nu(Pl.bind(null,C,F,a),[a]),C.flags|=2048,rf(9,{destroy:void 0},Ga.bind(null,C,F,g,u),null),g},useId:function(){var a=di(),u=ba.identifierPrefix;if(Js){var g=cr,C=$a;g=(C&~(1<<32-gs(C)-1)).toString(32)+g,u="_"+u+"R_"+g,g=xe++,0<g&&(u+="H"+g.toString(32)),u+="_"}else g=wn++,u="_"+u+"r_"+g.toString(32)+"_";return a.memoizedState=u},useHostTransitionStatus:Hm,useFormState:Rh,useActionState:Rh,useOptimistic:function(a){var u=di();u.memoizedState=u.baseState=a;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=g,u=Pi.bind(null,or,!0,g),g.dispatch=u,[a,u]},useMemoCache:Dh,useCacheRefresh:function(){return di().memoizedState=Ax.bind(null,or)},useEffectEvent:function(a){var u=di(),g={impl:a};return u.memoizedState=g,function(){if((Bs&2)!==0)throw Error(x(440));return g.impl.apply(void 0,arguments)}}},Op={readContext:ws,use:Fm,useCallback:kp,useContext:ws,useEffect:Ka,useImperativeHandle:Bv,useInsertionEffect:Nv,useLayoutEffect:py,useMemo:eb,useReducer:_h,useRef:J1,useState:function(){return _h(Ru)},useDebugValue:z0,useDeferredValue:function(a,u){var g=Bi();return ru(g,Cr.memoizedState,a,u)},useTransition:function(){var a=_h(Ru)[0],u=Bi().memoizedState;return[typeof a=="boolean"?a:im(a),u]},useSyncExternalStore:Is,useId:Tx,useHostTransitionStatus:Hm,useFormState:Im,useActionState:Im,useOptimistic:function(a,u){var g=Bi();return Tp(g,Cr,a,u)},useMemoCache:Dh,useCacheRefresh:iu};Op.useEffectEvent=Ap;var Mu={readContext:ws,use:Fm,useCallback:kp,useContext:ws,useEffect:Ka,useImperativeHandle:Bv,useInsertionEffect:Nv,useLayoutEffect:py,useMemo:eb,useReducer:Q1,useRef:J1,useState:function(){return Q1(Ru)},useDebugValue:z0,useDeferredValue:function(a,u){var g=Bi();return Cr===null?Cn(g,a,u):ru(g,Cr.memoizedState,a,u)},useTransition:function(){var a=Q1(Ru)[0],u=Bi().memoizedState;return[typeof a=="boolean"?a:im(a),u]},useSyncExternalStore:Is,useId:Tx,useHostTransitionStatus:Hm,useFormState:hy,useActionState:hy,useOptimistic:function(a,u){var g=Bi();return Cr!==null?Tp(g,Cr,a,u):(g.baseState=a,[a,g.queue.dispatch])},useMemoCache:Dh,useCacheRefresh:iu};Mu.useEffectEvent=Ap;function na(a,u,g,C){u=a.memoizedState,g=g(C,u),g=g==null?u:ne({},u,g),a.memoizedState=g,a.lanes===0&&(a.updateQueue.baseState=g)}var lm={enqueueSetState:function(a,u,g){a=a._reactInternals;var C=Pd(),R=nu(C);R.payload=u,g!=null&&(R.callback=g),u=Nf(a,R,C),u!==null&&(od(u,a,C),kg(u,a,C))},enqueueReplaceState:function(a,u,g){a=a._reactInternals;var C=Pd(),R=nu(C);R.tag=1,R.payload=u,g!=null&&(R.callback=g),u=Nf(a,R,C),u!==null&&(od(u,a,C),kg(u,a,C))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var g=Pd(),C=nu(g);C.tag=2,u!=null&&(C.callback=u),u=Nf(a,C,g),u!==null&&(od(u,a,g),kg(u,a,g))}};function Rp(a,u,g,C,R,F,re){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(C,F,re):u.prototype&&u.prototype.isPureReactComponent?!xh(g,C)||!xh(R,F):!0}function by(a,u,g,C){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(g,C),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(g,C),u.state!==a&&lm.enqueueReplaceState(u,u.state,null)}function Nh(a,u){var g=u;if("ref"in u){g={};for(var C in u)C!=="ref"&&(g[C]=u[C])}if(a=a.defaultProps){g===u&&(g=ne({},g));for(var R in a)g[R]===void 0&&(g[R]=a[R])}return g}function Rd(a){F0(a)}function V0(a){console.error(a)}function j0(a){F0(a)}function yy(a,u){try{var g=a.onUncaughtError;g(u.value,{componentStack:u.stack})}catch(C){setTimeout(function(){throw C})}}function vy(a,u,g){try{var C=a.onCaughtError;C(g.value,{componentStack:g.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function Np(a,u,g){return g=nu(g),g.tag=3,g.payload={element:null},g.callback=function(){yy(a,u)},g}function xy(a){return a=nu(a),a.tag=3,a}function nb(a,u,g,C){var R=g.type.getDerivedStateFromError;if(typeof R=="function"){var F=C.value;a.payload=function(){return R(F)},a.callback=function(){vy(u,g,C)}}var re=g.stateNode;re!==null&&typeof re.componentDidCatch=="function"&&(a.callback=function(){vy(u,g,C),typeof R!="function"&&($f===null?$f=new Set([this]):$f.add(this));var fe=C.stack;this.componentDidCatch(C.value,{componentStack:fe!==null?fe:""})})}function IC(a,u,g,C,R){if(g.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(u=g.alternate,u!==null&&ef(u,g,R,!0),g=ou.current,g!==null){switch(g.tag){case 31:case 13:return Ou===null?mb():g.alternate===null&&vi===0&&(vi=3),g.flags&=-257,g.flags|=65536,g.lanes=R,C===K1?g.flags|=16384:(u=g.updateQueue,u===null?g.updateQueue=new Set([C]):u.add(C),Q0(a,C,R)),!1;case 22:return g.flags|=65536,C===K1?g.flags|=16384:(u=g.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([C])},g.updateQueue=u):(g=u.retryQueue,g===null?u.retryQueue=new Set([C]):g.add(C)),Q0(a,C,R)),!1}throw Error(x(435,g.tag))}return Q0(a,C,R),mb(),!1}if(Js)return u=ou.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=R,C!==cl&&(a=Error(x(422),{cause:C}),hc(ra(a,g)))):(C!==cl&&(u=Error(x(423),{cause:C}),hc(ra(u,g))),a=a.current.alternate,a.flags|=65536,R&=-R,a.lanes|=R,C=ra(C,g),R=Np(a.stateNode,C,R),Ad(a,R),vi!==4&&(vi=2)),!1;var F=Error(x(520),{cause:C});if(F=ra(F,g),$p===null?$p=[F]:$p.push(F),vi!==4&&(vi=2),u===null)return!0;C=ra(C,g),g=u;do{switch(g.tag){case 3:return g.flags|=65536,a=R&-R,g.lanes|=a,a=Np(g.stateNode,C,a),Ad(g,a),!1;case 1:if(u=g.type,F=g.stateNode,(g.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&($f===null||!$f.has(F))))return g.flags|=65536,R&=-R,g.lanes|=R,R=xy(R),nb(R,a,g,C),Ad(g,R),!1}g=g.return}while(g!==null);return!1}var Lv=Error(x(461)),Tl=!1;function lu(a,u,g,C){u.child=a===null?ur(u,null,g,C):_u(u,a.child,g,C)}function U0(a,u,g,C,R){g=g.render;var F=u.ref;if("ref"in C){var re={};for(var fe in C)fe!=="ref"&&(re[fe]=C[fe])}else re=C;return ql(u),C=as(a,u,g,re,F,R),fe=Nc(),a!==null&&!Tl?(Yu(a,u,R),Wt(a,u,R)):(Js&&fe&&eu(u),u.flags|=1,lu(a,u,C,R),u.child)}function HC(a,u,g,C,R){if(a===null){var F=g.type;return typeof F=="function"&&!Wi(F)&&F.defaultProps===void 0&&g.compare===null?(u.tag=15,u.type=F,Bu(a,u,F,C,R)):(a=Jc(g.type,null,C,u,u.mode,R),a.ref=u.ref,a.return=u,u.child=a)}if(F=a.child,!Bc(a,R)){var re=F.memoizedProps;if(g=g.compare,g=g!==null?g:xh,g(re,C)&&a.ref===u.ref)return Wt(a,u,R)}return u.flags|=1,a=Fa(F,C),a.ref=u.ref,a.return=u,u.child=a}function Bu(a,u,g,C,R){if(a!==null){var F=a.memoizedProps;if(xh(F,C)&&a.ref===u.ref)if(Tl=!1,u.pendingProps=C=F,Bc(a,R))(a.flags&131072)!==0&&(Tl=!0);else return u.lanes=a.lanes,Wt(a,u,R)}return Mh(a,u,g,C,R)}function fo(a,u,g,C){var R=C.children,F=a!==null?a.memoizedState:null;if(a===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),C.mode==="hidden"){if((u.flags&128)!==0){if(F=F!==null?F.baseLanes|g:g,a!==null){for(C=u.child=a.child,R=0;C!==null;)R=R|C.lanes|C.childLanes,C=C.sibling;C=R&~F}else C=0,u.child=null;return Mp(a,u,F,g,C)}if((g&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},a!==null&&Sd(u,F!==null?F.cachePool:null),F!==null?El(u,F):of(),Dd(u);else return C=u.lanes=536870912,Mp(a,u,F!==null?F.baseLanes|g:g,g,C)}else F!==null?(Sd(u,F.cachePool),El(u,F),aa(),u.memoizedState=null):(a!==null&&Sd(u,null),of(),aa());return lu(a,u,R,g),u.child}function _a(a,u){return a!==null&&a.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function Mp(a,u,g,C,R){var F=ka();return F=F===null?null:{parent:qa._currentValue,pool:F},u.memoizedState={baseLanes:g,cachePool:F},a!==null&&Sd(u,null),of(),Dd(u),a!==null&&ef(a,u,C,!0),u.childLanes=R,null}function ob(a,u){return u=Kl({mode:u.mode,children:u.children},a.mode),u.ref=a.ref,a.child=u,u.return=a,u}function Ng(a,u,g){return _u(u,a.child,null,g),a=ob(u,u.pendingProps),a.flags|=2,ta(u),u.memoizedState=null,a}function Z0(a,u,g){var C=u.pendingProps,R=(u.flags&128)!==0;if(u.flags&=-129,a===null){if(Js){if(C.mode==="hidden")return a=ob(u,C),u.lanes=536870912,_a(null,a);if(pc(u),(a=Ia)?(a=Yv(a,Du),a=a!==null&&a.data==="&"?a:null,a!==null&&(u.memoizedState={dehydrated:a,treeContext:ii!==null?{id:$a,overflow:cr}:null,retryLane:536870912,hydrationErrors:null},g=om(a),g.return=u,u.child=g,Cl=u,Ia=null)):a=null,a===null)throw Sl(u);return u.lanes=536870912,null}return ob(u,C)}var F=a.memoizedState;if(F!==null){var re=F.dehydrated;if(pc(u),R)if(u.flags&256)u.flags&=-257,u=Ng(a,u,g);else if(u.memoizedState!==null)u.child=a.child,u.flags|=128,u=null;else throw Error(x(558));else if(Tl||ef(a,u,g,!1),R=(g&a.childLanes)!==0,Tl||R){if(C=ba,C!==null&&(re=Jn(C,g),re!==0&&re!==F.retryLane))throw F.retryLane=re,Zi(a,re),od(C,a,re),Lv;mb(),u=Ng(a,u,g)}else a=F.treeContext,Ia=Kr(re.nextSibling),Cl=u,Js=!0,Nl=null,Du=!1,a!==null&&vg(u,a),u=ob(u,C),u.flags|=4096;return u}return a=Fa(a.child,{mode:C.mode,children:C.children}),a.ref=u.ref,u.child=a,a.return=u,a}function W0(a,u){var g=u.ref;if(g===null)a!==null&&a.ref!==null&&(u.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(x(284));(a===null||a.ref!==g)&&(u.flags|=4194816)}}function Mh(a,u,g,C,R){return ql(u),g=as(a,u,g,C,void 0,R),C=Nc(),a!==null&&!Tl?(Yu(a,u,R),Wt(a,u,R)):(Js&&C&&eu(u),u.flags|=1,lu(a,u,g,R),u.child)}function Pv(a,u,g,C,R,F){return ql(u),u.updateQueue=null,g=ia(u,C,g,R),Br(a),C=Nc(),a!==null&&!Tl?(Yu(a,u,F),Wt(a,u,F)):(Js&&C&&eu(u),u.flags|=1,lu(a,u,g,F),u.child)}function cm(a,u,g,C,R){if(ql(u),u.stateNode===null){var F=Fs,re=g.contextType;typeof re=="object"&&re!==null&&(F=ws(re)),F=new g(C,F),u.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=lm,u.stateNode=F,F._reactInternals=u,F=u.stateNode,F.props=C,F.state=u.memoizedState,F.refs={},Td(u),re=g.contextType,F.context=typeof re=="object"&&re!==null?ws(re):Fs,F.state=u.memoizedState,re=g.getDerivedStateFromProps,typeof re=="function"&&(na(u,g,re,C),F.state=u.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(re=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),re!==F.state&&lm.enqueueReplaceState(F,F.state,null),Dg(u,C,F,R),nr(),F.state=u.memoizedState),typeof F.componentDidMount=="function"&&(u.flags|=4194308),C=!0}else if(a===null){F=u.stateNode;var fe=u.memoizedProps,lt=Nh(g,fe);F.props=lt;var Ut=F.context,bn=g.contextType;re=Fs,typeof bn=="object"&&bn!==null&&(re=ws(bn));var Dn=g.getDerivedStateFromProps;bn=typeof Dn=="function"||typeof F.getSnapshotBeforeUpdate=="function",fe=u.pendingProps!==fe,bn||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(fe||Ut!==re)&&by(u,F,C,re),bi=!1;var Xt=u.memoizedState;F.state=Xt,Dg(u,C,F,R),nr(),Ut=u.memoizedState,fe||Xt!==Ut||bi?(typeof Dn=="function"&&(na(u,g,Dn,C),Ut=u.memoizedState),(lt=bi||Rp(u,g,lt,C,Xt,Ut,re))?(bn||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(u.flags|=4194308)):(typeof F.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=C,u.memoizedState=Ut),F.props=C,F.state=Ut,F.context=re,C=lt):(typeof F.componentDidMount=="function"&&(u.flags|=4194308),C=!1)}else{F=u.stateNode,Sp(a,u),re=u.memoizedProps,bn=Nh(g,re),F.props=bn,Dn=u.pendingProps,Xt=F.context,Ut=g.contextType,lt=Fs,typeof Ut=="object"&&Ut!==null&&(lt=ws(Ut)),fe=g.getDerivedStateFromProps,(Ut=typeof fe=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(re!==Dn||Xt!==lt)&&by(u,F,C,lt),bi=!1,Xt=u.memoizedState,F.state=Xt,Dg(u,C,F,R),nr();var ln=u.memoizedState;re!==Dn||Xt!==ln||bi||a!==null&&a.dependencies!==null&&cs(a.dependencies)?(typeof fe=="function"&&(na(u,g,fe,C),ln=u.memoizedState),(bn=bi||Rp(u,g,bn,C,Xt,ln,lt)||a!==null&&a.dependencies!==null&&cs(a.dependencies))?(Ut||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(C,ln,lt),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(C,ln,lt)),typeof F.componentDidUpdate=="function"&&(u.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof F.componentDidUpdate!="function"||re===a.memoizedProps&&Xt===a.memoizedState||(u.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||re===a.memoizedProps&&Xt===a.memoizedState||(u.flags|=1024),u.memoizedProps=C,u.memoizedState=ln),F.props=C,F.state=ln,F.context=lt,C=bn):(typeof F.componentDidUpdate!="function"||re===a.memoizedProps&&Xt===a.memoizedState||(u.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||re===a.memoizedProps&&Xt===a.memoizedState||(u.flags|=1024),C=!1)}return F=C,W0(a,u),C=(u.flags&128)!==0,F||C?(F=u.stateNode,g=C&&typeof g.getDerivedStateFromError!="function"?null:F.render(),u.flags|=1,a!==null&&C?(u.child=_u(u,a.child,null,R),u.child=_u(u,null,g,R)):lu(a,u,g,R),u.memoizedState=F.state,a=u.child):a=Wt(a,u,R),a}function Fv(a,u,g,C){return Bm(),u.flags|=256,lu(a,u,g,C),u.child}var sb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ga(a){return{baseLanes:a,cachePool:ui()}}function Qu(a,u,g){return a=a!==null?a.childLanes&~g:0,u&&(a|=Nd),a}function Mc(a,u,g){var C=u.pendingProps,R=!1,F=(u.flags&128)!==0,re;if((re=F)||(re=a!==null&&a.memoizedState===null?!1:(ki.current&2)!==0),re&&(R=!0,u.flags&=-129),re=(u.flags&32)!==0,u.flags&=-33,a===null){if(Js){if(R?Lm(u):aa(),(a=Ia)?(a=Yv(a,Du),a=a!==null&&a.data!=="&"?a:null,a!==null&&(u.memoizedState={dehydrated:a,treeContext:ii!==null?{id:$a,overflow:cr}:null,retryLane:536870912,hydrationErrors:null},g=om(a),g.return=u,u.child=g,Cl=u,Ia=null)):a=null,a===null)throw Sl(u);return Kp(a)?u.lanes=32:u.lanes=536870912,null}var fe=C.children;return C=C.fallback,R?(aa(),R=u.mode,fe=Kl({mode:"hidden",children:fe},R),C=ri(C,R,g,null),fe.return=u,C.return=u,fe.sibling=C,u.child=fe,C=u.child,C.memoizedState=ga(g),C.childLanes=Qu(a,re,g),u.memoizedState=sb,_a(null,C)):(Lm(u),Mg(u,fe))}var lt=a.memoizedState;if(lt!==null&&(fe=lt.dehydrated,fe!==null)){if(F)u.flags&256?(Lm(u),u.flags&=-257,u=Bh(a,u,g)):u.memoizedState!==null?(aa(),u.child=a.child,u.flags|=128,u=null):(aa(),fe=C.fallback,R=u.mode,C=Kl({mode:"visible",children:C.children},R),fe=ri(fe,R,g,null),fe.flags|=2,C.return=u,fe.return=u,C.sibling=fe,u.child=C,_u(u,a.child,null,g),C=u.child,C.memoizedState=ga(g),C.childLanes=Qu(a,re,g),u.memoizedState=sb,u=_a(null,C));else if(Lm(u),Kp(fe)){if(re=fe.nextSibling&&fe.nextSibling.dataset,re)var Ut=re.dgst;re=Ut,C=Error(x(419)),C.stack="",C.digest=re,hc({value:C,source:null,stack:null}),u=Bh(a,u,g)}else if(Tl||ef(a,u,g,!1),re=(g&a.childLanes)!==0,Tl||re){if(re=ba,re!==null&&(C=Jn(re,g),C!==0&&C!==lt.retryLane))throw lt.retryLane=C,Zi(a,C),od(re,a,C),Lv;Xv(fe)||mb(),u=Bh(a,u,g)}else Xv(fe)?(u.flags|=192,u.child=a.child,u=null):(a=lt.treeContext,Ia=Kr(fe.nextSibling),Cl=u,Js=!0,Nl=null,Du=!1,a!==null&&vg(u,a),u=Mg(u,C.children),u.flags|=4096);return u}return R?(aa(),fe=C.fallback,R=u.mode,lt=a.child,Ut=lt.sibling,C=Fa(lt,{mode:"hidden",children:C.children}),C.subtreeFlags=lt.subtreeFlags&65011712,Ut!==null?fe=Fa(Ut,fe):(fe=ri(fe,R,g,null),fe.flags|=2),fe.return=u,C.return=u,C.sibling=fe,u.child=C,_a(null,C),C=u.child,fe=a.child.memoizedState,fe===null?fe=ga(g):(R=fe.cachePool,R!==null?(lt=qa._currentValue,R=R.parent!==lt?{parent:lt,pool:lt}:R):R=ui(),fe={baseLanes:fe.baseLanes|g,cachePool:R}),C.memoizedState=fe,C.childLanes=Qu(a,re,g),u.memoizedState=sb,_a(a.child,C)):(Lm(u),g=a.child,a=g.sibling,g=Fa(g,{mode:"visible",children:C.children}),g.return=u,g.sibling=null,a!==null&&(re=u.deletions,re===null?(u.deletions=[a],u.flags|=16):re.push(a)),u.child=g,u.memoizedState=null,g)}function Mg(a,u){return u=Kl({mode:"visible",children:u},a.mode),u.return=a,a.child=u}function Kl(a,u){return a=Za(22,a,null,u),a.lanes=0,a}function Bh(a,u,g){return _u(u,a.child,null,g),a=Mg(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function fl(a,u,g){a.lanes|=u;var C=a.alternate;C!==null&&(C.lanes|=u),Gr(a.return,u,g)}function yc(a,u,g,C,R,F){var re=a.memoizedState;re===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:C,tail:g,tailMode:R,treeForkCount:F}:(re.isBackwards=u,re.rendering=null,re.renderingStartTime=0,re.last=C,re.tail=g,re.tailMode=R,re.treeForkCount=F)}function rb(a,u,g){var C=u.pendingProps,R=C.revealOrder,F=C.tail;C=C.children;var re=ki.current,fe=(re&2)!==0;if(fe?(re=re&1|2,u.flags|=128):re&=1,wt(ki,re),lu(a,u,C,g),C=Js?uo:0,!fe&&a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&fl(a,g,u);else if(a.tag===19)fl(a,g,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(R){case"forwards":for(g=u.child,R=null;g!==null;)a=g.alternate,a!==null&&Pm(a)===null&&(R=g),g=g.sibling;g=R,g===null?(R=u.child,u.child=null):(R=g.sibling,g.sibling=null),yc(u,!1,R,g,F,C);break;case"backwards":case"unstable_legacy-backwards":for(g=null,R=u.child,u.child=null;R!==null;){if(a=R.alternate,a!==null&&Pm(a)===null){u.child=R;break}a=R.sibling,R.sibling=g,g=R,R=a}yc(u,!0,g,null,F,C);break;case"together":yc(u,!1,null,null,void 0,C);break;default:u.memoizedState=null}return u.child}function Wt(a,u,g){if(a!==null&&(u.dependencies=a.dependencies),Lc|=u.lanes,(g&u.childLanes)===0)if(a!==null){if(ef(a,u,g,!1),(g&u.childLanes)===0)return null}else return null;if(a!==null&&u.child!==a.child)throw Error(x(153));if(u.child!==null){for(a=u.child,g=Fa(a,a.pendingProps),u.child=g,g.return=u;a.sibling!==null;)a=a.sibling,g=g.sibling=Fa(a,a.pendingProps),g.return=u;g.sibling=null}return u.child}function Bc(a,u){return(a.lanes&u)!==0?!0:(a=a.dependencies,!!(a!==null&&cs(a)))}function ab(a,u,g){switch(u.tag){case 3:X(u,u.stateNode.containerInfo),yr(u,qa,a.memoizedState.cache),Bm();break;case 27:case 5:vo(u);break;case 4:X(u,u.stateNode.containerInfo);break;case 10:yr(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,pc(u),null;break;case 13:var C=u.memoizedState;if(C!==null)return C.dehydrated!==null?(Lm(u),u.flags|=128,null):(g&u.child.childLanes)!==0?Mc(a,u,g):(Lm(u),a=Wt(a,u,g),a!==null?a.sibling:null);Lm(u);break;case 19:var R=(a.flags&128)!==0;if(C=(g&u.childLanes)!==0,C||(ef(a,u,g,!1),C=(g&u.childLanes)!==0),R){if(C)return rb(a,u,g);u.flags|=128}if(R=u.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),wt(ki,ki.current),C)break;return null;case 22:return u.lanes=0,fo(a,u,g,u.pendingProps);case 24:yr(u,qa,a.memoizedState.cache)}return Wt(a,u,g)}function Ya(a,u,g){if(a!==null)if(a.memoizedProps!==u.pendingProps)Tl=!0;else{if(!Bc(a,g)&&(u.flags&128)===0)return Tl=!1,ab(a,u,g);Tl=(a.flags&131072)!==0}else Tl=!1,Js&&(u.flags&1048576)!==0&&Cp(u,uo,u.index);switch(u.lanes=0,u.tag){case 16:e:{var C=u.pendingProps;if(a=sm(u.elementType),u.type=a,typeof a=="function")Wi(a)?(C=Nh(a,C),u.tag=1,u=cm(null,u,a,C,g)):(u.tag=0,u=Mh(null,u,a,C,g));else{if(a!=null){var R=a.$$typeof;if(R===vt){u.tag=11,u=U0(null,u,a,C,g);break e}else if(R===ie){u.tag=14,u=HC(null,u,a,C,g);break e}}throw u=pt(a)||a,Error(x(306,u,""))}}return u;case 0:return Mh(a,u,u.type,u.pendingProps,g);case 1:return C=u.type,R=Nh(C,u.pendingProps),cm(a,u,C,R,g);case 3:e:{if(X(u,u.stateNode.containerInfo),a===null)throw Error(x(387));C=u.pendingProps;var F=u.memoizedState;R=F.element,Sp(a,u),Dg(u,C,null,g);var re=u.memoizedState;if(C=re.cache,yr(u,qa,C),C!==F.cache&&li(u,[qa],g,!0),nr(),C=re.element,F.isDehydrated)if(F={element:C,isDehydrated:!1,cache:re.cache},u.updateQueue.baseState=F,u.memoizedState=F,u.flags&256){u=Fv(a,u,C,g);break e}else if(C!==R){R=ra(Error(x(424)),u),hc(R),u=Fv(a,u,C,g);break e}else for(a=u.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Ia=Kr(a.firstChild),Cl=u,Js=!0,Nl=null,Du=!0,g=ur(u,null,C,g),u.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Bm(),C===R){u=Wt(a,u,g);break e}lu(a,u,C,g)}u=u.child}return u;case 26:return W0(a,u),a===null?(g=Vg(u.type,null,u.pendingProps,null))?u.memoizedState=g:Js||(g=u.type,a=u.pendingProps,C=Hg(Ze.current).createElement(g),C[er]=u,C[tr]=a,Xi(C,g,a),me(C),u.stateNode=C):u.memoizedState=Vg(u.type,a.memoizedProps,u.pendingProps,a.memoizedState),null;case 27:return vo(u),a===null&&Js&&(C=u.stateNode=_i(u.type,u.pendingProps,Ze.current),Cl=u,Du=!0,R=Ia,id(u.type)?(Al=R,Ia=Kr(C.firstChild)):Ia=R),lu(a,u,u.pendingProps.children,g),W0(a,u),a===null&&(u.flags|=4194304),u.child;case 5:return a===null&&Js&&((R=C=Ia)&&(C=Sb(C,u.type,u.pendingProps,Du),C!==null?(u.stateNode=C,Cl=u,Ia=Kr(C.firstChild),Du=!1,R=!0):R=!1),R||Sl(u)),vo(u),R=u.type,F=u.pendingProps,re=a!==null?a.memoizedProps:null,C=F.children,Zh(R,F)?C=null:re!==null&&Zh(R,re)&&(u.flags|=32),u.memoizedState!==null&&(R=as(a,u,yi,null,null,g),ld._currentValue=R),W0(a,u),lu(a,u,C,g),u.child;case 6:return a===null&&Js&&((a=g=Ia)&&(g=By(g,u.pendingProps,Du),g!==null?(u.stateNode=g,Cl=u,Ia=null,a=!0):a=!1),a||Sl(u)),null;case 13:return Mc(a,u,g);case 4:return X(u,u.stateNode.containerInfo),C=u.pendingProps,a===null?u.child=_u(u,null,C,g):lu(a,u,C,g),u.child;case 11:return U0(a,u,u.type,u.pendingProps,g);case 7:return lu(a,u,u.pendingProps,g),u.child;case 8:return lu(a,u,u.pendingProps.children,g),u.child;case 12:return lu(a,u,u.pendingProps.children,g),u.child;case 10:return C=u.pendingProps,yr(u,u.type,C.value),lu(a,u,C.children,g),u.child;case 9:return R=u.type._context,C=u.pendingProps.children,ql(u),R=ws(R),C=C(R),u.flags|=1,lu(a,u,C,g),u.child;case 14:return HC(a,u,u.type,u.pendingProps,g);case 15:return Bu(a,u,u.type,u.pendingProps,g);case 19:return rb(a,u,g);case 31:return Z0(a,u,g);case 22:return fo(a,u,g,u.pendingProps);case 24:return ql(u),C=ws(qa),a===null?(R=ka(),R===null&&(R=ba,F=Of(),R.pooledCache=F,F.refCount++,F!==null&&(R.pooledCacheLanes|=g),R=F),u.memoizedState={parent:C,cache:R},Td(u),yr(u,qa,R)):((a.lanes&g)!==0&&(Sp(a,u),Dg(u,null,null,g),nr()),R=a.memoizedState,F=u.memoizedState,R.parent!==C?(R={parent:C,cache:C},u.memoizedState=R,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=R),yr(u,qa,C)):(C=F.cache,yr(u,qa,C),C!==R.cache&&li(u,[qa],g,!0))),lu(a,u,u.pendingProps.children,g),u.child;case 29:throw u.pendingProps}throw Error(x(156,u.tag))}function Yl(a){a.flags|=4}function cu(a,u,g,C,R){if((u=(a.mode&32)!==0)&&(u=!1),u){if(a.flags|=16777216,(R&335544128)===R)if(a.stateNode.complete)a.flags|=8192;else if(X0())a.flags|=8192;else throw gc=K1,Sg}else a.flags&=-16777217}function kx(a,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Hy(u))if(X0())a.flags|=8192;else throw gc=K1,Sg}function lf(a,u){u!==null&&(a.flags|=4),a.flags&16384&&(u=a.tag!==22?Zt():536870912,a.lanes|=u,$h|=u)}function q0(a,u){if(!Js)switch(a.tailMode){case"hidden":u=a.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?a.tail=null:g.sibling=null;break;case"collapsed":g=a.tail;for(var C=null;g!==null;)g.alternate!==null&&(C=g),g=g.sibling;C===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:C.sibling=null}}function Ar(a){var u=a.alternate!==null&&a.alternate.child===a.child,g=0,C=0;if(u)for(var R=a.child;R!==null;)g|=R.lanes|R.childLanes,C|=R.subtreeFlags&65011712,C|=R.flags&65011712,R.return=a,R=R.sibling;else for(R=a.child;R!==null;)g|=R.lanes|R.childLanes,C|=R.subtreeFlags,C|=R.flags,R.return=a,R=R.sibling;return a.subtreeFlags|=C,a.childLanes=g,u}function vr(a,u,g){var C=u.pendingProps;switch(qu(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ar(u),null;case 1:return Ar(u),null;case 3:return g=u.stateNode,C=null,a!==null&&(C=a.memoizedState.cache),u.memoizedState.cache!==C&&(u.flags|=2048),ul(qa),jo(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(Ml(u)?Yl(u):a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Th())),Ar(u),null;case 26:var R=u.type,F=u.memoizedState;return a===null?(Yl(u),F!==null?(Ar(u),kx(u,F)):(Ar(u),cu(u,R,null,C,g))):F?F!==a.memoizedState?(Yl(u),Ar(u),kx(u,F)):(Ar(u),u.flags&=-16777217):(a=a.memoizedProps,a!==C&&Yl(u),Ar(u),cu(u,R,a,C,g)),null;case 27:if(Mo(u),g=Ze.current,R=u.type,a!==null&&u.stateNode!=null)a.memoizedProps!==C&&Yl(u);else{if(!C){if(u.stateNode===null)throw Error(x(166));return Ar(u),null}a=je.current,Ml(u)?Jd(u):(a=_i(R,C,g),u.stateNode=a,Yl(u))}return Ar(u),null;case 5:if(Mo(u),R=u.type,a!==null&&u.stateNode!=null)a.memoizedProps!==C&&Yl(u);else{if(!C){if(u.stateNode===null)throw Error(x(166));return Ar(u),null}if(F=je.current,Ml(u))Jd(u);else{var re=Hg(Ze.current);switch(F){case 1:F=re.createElementNS("http://www.w3.org/2000/svg",R);break;case 2:F=re.createElementNS("http://www.w3.org/1998/Math/MathML",R);break;default:switch(R){case"svg":F=re.createElementNS("http://www.w3.org/2000/svg",R);break;case"math":F=re.createElementNS("http://www.w3.org/1998/Math/MathML",R);break;case"script":F=re.createElement("div"),F.innerHTML="<script><\/script>",F=F.removeChild(F.firstChild);break;case"select":F=typeof C.is=="string"?re.createElement("select",{is:C.is}):re.createElement("select"),C.multiple?F.multiple=!0:C.size&&(F.size=C.size);break;default:F=typeof C.is=="string"?re.createElement(R,{is:C.is}):re.createElement(R)}}F[er]=u,F[tr]=C;e:for(re=u.child;re!==null;){if(re.tag===5||re.tag===6)F.appendChild(re.stateNode);else if(re.tag!==4&&re.tag!==27&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===u)break e;for(;re.sibling===null;){if(re.return===null||re.return===u)break e;re=re.return}re.sibling.return=re.return,re=re.sibling}u.stateNode=F;e:switch(Xi(F,R,C),R){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break e;case"img":C=!0;break e;default:C=!1}C&&Yl(u)}}return Ar(u),cu(u,u.type,a===null?null:a.memoizedProps,u.pendingProps,g),null;case 6:if(a&&u.stateNode!=null)a.memoizedProps!==C&&Yl(u);else{if(typeof C!="string"&&u.stateNode===null)throw Error(x(166));if(a=Ze.current,Ml(u)){if(a=u.stateNode,g=u.memoizedProps,C=null,R=Cl,R!==null)switch(R.tag){case 27:case 5:C=R.memoizedProps}a[er]=u,a=!!(a.nodeValue===g||C!==null&&C.suppressHydrationWarning===!0||Ig(a.nodeValue,g)),a||Sl(u,!0)}else a=Hg(a).createTextNode(C),a[er]=u,u.stateNode=a}return Ar(u),null;case 31:if(g=u.memoizedState,a===null||a.memoizedState!==null){if(C=Ml(u),g!==null){if(a===null){if(!C)throw Error(x(318));if(a=u.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(x(557));a[er]=u}else Bm(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Ar(u),a=!1}else g=Th(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=g),a=!0;if(!a)return u.flags&256?(ta(u),u):(ta(u),null);if((u.flags&128)!==0)throw Error(x(558))}return Ar(u),null;case 13:if(C=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(R=Ml(u),C!==null&&C.dehydrated!==null){if(a===null){if(!R)throw Error(x(318));if(R=u.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(x(317));R[er]=u}else Bm(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Ar(u),R=!1}else R=Th(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=R),R=!0;if(!R)return u.flags&256?(ta(u),u):(ta(u),null)}return ta(u),(u.flags&128)!==0?(u.lanes=g,u):(g=C!==null,a=a!==null&&a.memoizedState!==null,g&&(C=u.child,R=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(R=C.alternate.memoizedState.cachePool.pool),F=null,C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(F=C.memoizedState.cachePool.pool),F!==R&&(C.flags|=2048)),g!==a&&g&&(u.child.flags|=8192),lf(u,u.updateQueue),Ar(u),null);case 4:return jo(),a===null&&Pc(u.stateNode.containerInfo),Ar(u),null;case 10:return ul(u.type),Ar(u),null;case 19:if(Me(ki),C=u.memoizedState,C===null)return Ar(u),null;if(R=(u.flags&128)!==0,F=C.rendering,F===null)if(R)q0(C,!1);else{if(vi!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(F=Pm(a),F!==null){for(u.flags|=128,q0(C,!1),a=F.updateQueue,u.updateQueue=a,lf(u,a),u.subtreeFlags=0,a=g,g=u.child;g!==null;)ma(g,a),g=g.sibling;return wt(ki,ki.current&1|2),Js&&Rc(u,C.treeForkCount),u.child}a=a.sibling}C.tail!==null&&Tt()>Hp&&(u.flags|=128,R=!0,q0(C,!1),u.lanes=4194304)}else{if(!R)if(a=Pm(F),a!==null){if(u.flags|=128,R=!0,a=a.updateQueue,u.updateQueue=a,lf(u,a),q0(C,!0),C.tail===null&&C.tailMode==="hidden"&&!F.alternate&&!Js)return Ar(u),null}else 2*Tt()-C.renderingStartTime>Hp&&g!==536870912&&(u.flags|=128,R=!0,q0(C,!1),u.lanes=4194304);C.isBackwards?(F.sibling=u.child,u.child=F):(a=C.last,a!==null?a.sibling=F:u.child=F,C.last=F)}return C.tail!==null?(a=C.tail,C.rendering=a,C.tail=a.sibling,C.renderingStartTime=Tt(),a.sibling=null,g=ki.current,wt(ki,R?g&1|2:g&1),Js&&Rc(u,C.treeForkCount),a):(Ar(u),null);case 22:case 23:return ta(u),_g(),C=u.memoizedState!==null,a!==null?a.memoizedState!==null!==C&&(u.flags|=8192):C&&(u.flags|=8192),C?(g&536870912)!==0&&(u.flags&128)===0&&(Ar(u),u.subtreeFlags&6&&(u.flags|=8192)):Ar(u),g=u.updateQueue,g!==null&&lf(u,g.retryQueue),g=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),C=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(C=u.memoizedState.cachePool.pool),C!==g&&(u.flags|=2048),a!==null&&Me(dl),null;case 24:return g=null,a!==null&&(g=a.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),ul(qa),Ar(u),null;case 25:return null;case 30:return null}throw Error(x(156,u.tag))}function um(a,u){switch(qu(u),u.tag){case 1:return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return ul(qa),jo(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 26:case 27:case 5:return Mo(u),null;case 31:if(u.memoizedState!==null){if(ta(u),u.alternate===null)throw Error(x(340));Bm()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 13:if(ta(u),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(x(340));Bm()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return Me(ki),null;case 4:return jo(),null;case 10:return ul(u.type),null;case 22:case 23:return ta(u),_g(),a!==null&&Me(dl),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 24:return ul(qa),null;case 25:return null;default:return null}}function Bp(a,u){switch(qu(u),u.tag){case 3:ul(qa),jo();break;case 26:case 27:case 5:Mo(u);break;case 4:jo();break;case 31:u.memoizedState!==null&&ta(u);break;case 13:ta(u);break;case 19:Me(ki);break;case 10:ul(u.type);break;case 22:case 23:ta(u),_g(),a!==null&&Me(dl);break;case 24:ul(qa)}}function pa(a,u){try{var g=u.updateQueue,C=g!==null?g.lastEffect:null;if(C!==null){var R=C.next;g=R;do{if((g.tag&a)===a){C=void 0;var F=g.create,re=g.inst;C=F(),re.destroy=C}g=g.next}while(g!==R)}}catch(fe){ca(u,u.return,fe)}}function Vm(a,u,g){try{var C=u.updateQueue,R=C!==null?C.lastEffect:null;if(R!==null){var F=R.next;C=F;do{if((C.tag&a)===a){var re=C.inst,fe=re.destroy;if(fe!==void 0){re.destroy=void 0,R=u;var lt=g,Ut=fe;try{Ut()}catch(bn){ca(R,lt,bn)}}}C=C.next}while(C!==F)}}catch(bn){ca(u,u.return,bn)}}function wy(a){var u=a.updateQueue;if(u!==null){var g=a.stateNode;try{kh(u,g)}catch(C){ca(a,a.return,C)}}}function cf(a,u,g){g.props=Nh(a.type,a.memoizedProps),g.state=a.memoizedState;try{g.componentWillUnmount()}catch(C){ca(a,u,C)}}function Bg(a,u){try{var g=a.ref;if(g!==null){switch(a.tag){case 26:case 27:case 5:var C=a.stateNode;break;case 30:C=a.stateNode;break;default:C=a.stateNode}typeof g=="function"?a.refCleanup=g(C):g.current=C}}catch(R){ca(a,u,R)}}function Fi(a,u){var g=a.ref,C=a.refCleanup;if(g!==null)if(typeof C=="function")try{C()}catch(R){ca(a,u,R)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(R){ca(a,u,R)}else g.current=null}function Dx(a){var u=a.type,g=a.memoizedProps,C=a.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":g.autoFocus&&C.focus();break e;case"img":g.src?C.src=g.src:g.srcSet&&(C.srcset=g.srcSet)}}catch(R){ca(a,a.return,R)}}function ht(a,u,g){try{var C=a.stateNode;nc(C,a.type,g,u),C[tr]=u}catch(R){ca(a,a.return,R)}}function Ju(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&id(a.type)||a.tag===4}function Lp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Ju(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&id(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Oa(a,u,g){var C=a.tag;if(C===5||C===6)a=a.stateNode,u?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(a,u):(u=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,u.appendChild(a),g=g._reactRootContainer,g!=null||u.onclick!==null||(u.onclick=gi));else if(C!==4&&(C===27&&id(a.type)&&(g=a.stateNode,u=null),a=a.child,a!==null))for(Oa(a,u,g),a=a.sibling;a!==null;)Oa(a,u,g),a=a.sibling}function Xl(a,u,g){var C=a.tag;if(C===5||C===6)a=a.stateNode,u?g.insertBefore(a,u):g.appendChild(a);else if(C!==4&&(C===27&&id(a.type)&&(g=a.stateNode),a=a.child,a!==null))for(Xl(a,u,g),a=a.sibling;a!==null;)Xl(a,u,g),a=a.sibling}function qi(a){var u=a.stateNode,g=a.memoizedProps;try{for(var C=a.type,R=u.attributes;R.length;)u.removeAttributeNode(R[0]);Xi(u,C,g),u[er]=a,u[tr]=g}catch(F){ca(a,a.return,F)}}var dr=!1,Fl=!1,jm=!1,Lh=typeof WeakSet=="function"?WeakSet:Set,ml=null;function ib(a,u){if(a=a.containerInfo,Uh=so,a=L0(a),bp(a)){if("selectionStart"in a)var g={start:a.selectionStart,end:a.selectionEnd};else e:{g=(g=a.ownerDocument)&&g.defaultView||window;var C=g.getSelection&&g.getSelection();if(C&&C.rangeCount!==0){g=C.anchorNode;var R=C.anchorOffset,F=C.focusNode;C=C.focusOffset;try{g.nodeType,F.nodeType}catch{g=null;break e}var re=0,fe=-1,lt=-1,Ut=0,bn=0,Dn=a,Xt=null;t:for(;;){for(var ln;Dn!==g||R!==0&&Dn.nodeType!==3||(fe=re+R),Dn!==F||C!==0&&Dn.nodeType!==3||(lt=re+C),Dn.nodeType===3&&(re+=Dn.nodeValue.length),(ln=Dn.firstChild)!==null;)Xt=Dn,Dn=ln;for(;;){if(Dn===a)break t;if(Xt===g&&++Ut===R&&(fe=re),Xt===F&&++bn===C&&(lt=re),(ln=Dn.nextSibling)!==null)break;Dn=Xt,Xt=Dn.parentNode}Dn=ln}g=fe===-1||lt===-1?null:{start:fe,end:lt}}else g=null}g=g||{start:0,end:0}}else g=null;for(qm={focusedElem:a,selectionRange:g},so=!1,ml=u;ml!==null;)if(u=ml,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,ml=a;else for(;ml!==null;){switch(u=ml,F=u.alternate,a=u.flags,u.tag){case 0:if((a&4)!==0&&(a=u.updateQueue,a=a!==null?a.events:null,a!==null))for(g=0;g<a.length;g++)R=a[g],R.ref.impl=R.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&F!==null){a=void 0,g=u,R=F.memoizedProps,F=F.memoizedState,C=g.stateNode;try{var es=Nh(g.type,R);a=C.getSnapshotBeforeUpdate(es,F),C.__reactInternalSnapshotBeforeUpdate=a}catch(Os){ca(g,g.return,Os)}}break;case 3:if((a&1024)!==0){if(a=u.stateNode.containerInfo,g=a.nodeType,g===9)Cb(a);else if(g===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Cb(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(x(163))}if(a=u.sibling,a!==null){a.return=u.return,ml=a;break}ml=u.return}}function Cy(a,u,g){var C=g.flags;switch(g.tag){case 0:case 11:case 15:Mf(a,g),C&4&&pa(5,g);break;case 1:if(Mf(a,g),C&4)if(a=g.stateNode,u===null)try{a.componentDidMount()}catch(re){ca(g,g.return,re)}else{var R=Nh(g.type,u.memoizedProps);u=u.memoizedState;try{a.componentDidUpdate(R,u,a.__reactInternalSnapshotBeforeUpdate)}catch(re){ca(g,g.return,re)}}C&64&&wy(g),C&512&&Bg(g,g.return);break;case 3:if(Mf(a,g),C&64&&(a=g.updateQueue,a!==null)){if(u=null,g.child!==null)switch(g.child.tag){case 27:case 5:u=g.child.stateNode;break;case 1:u=g.child.stateNode}try{kh(a,u)}catch(re){ca(g,g.return,re)}}break;case 27:u===null&&C&4&&qi(g);case 26:case 5:Mf(a,g),u===null&&C&4&&Dx(g),C&512&&Bg(g,g.return);break;case 12:Mf(a,g);break;case 31:Mf(a,g),C&4&&_x(a,g);break;case 13:Mf(a,g),C&4&&Ql(a,g),C&64&&(a=g.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(g=Vv.bind(null,g),Qi(a,g))));break;case 22:if(C=g.memoizedState!==null||dr,!C){u=u!==null&&u.memoizedState!==null||Fl,R=dr;var F=Fl;dr=C,(Fl=u)&&!F?ec(a,g,(g.subtreeFlags&8772)!==0):Mf(a,g),dr=R,Fl=F}break;case 30:break;default:Mf(a,g)}}function Sy(a){var u=a.alternate;u!==null&&(a.alternate=null,Sy(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&co(u)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var za=null,vc=!1;function Um(a,u,g){for(g=g.child;g!==null;)Ey(a,u,g),g=g.sibling}function Ey(a,u,g){if(Ss&&typeof Ss.onCommitFiberUnmount=="function")try{Ss.onCommitFiberUnmount(Vs,g)}catch{}switch(g.tag){case 26:Fl||Fi(g,u),Um(a,u,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Fl||Fi(g,u);var C=za,R=vc;id(g.type)&&(za=g.stateNode,vc=!1),Um(a,u,g),Km(g.stateNode),za=C,vc=R;break;case 5:Fl||Fi(g,u);case 6:if(C=za,R=vc,za=null,Um(a,u,g),za=C,vc=R,za!==null)if(vc)try{(za.nodeType===9?za.body:za.nodeName==="HTML"?za.ownerDocument.body:za).removeChild(g.stateNode)}catch(F){ca(g,u,F)}else try{za.removeChild(g.stateNode)}catch(F){ca(g,u,F)}break;case 18:za!==null&&(vc?(a=za,Kv(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,g.stateNode),n0(a)):Kv(za,g.stateNode));break;case 4:C=za,R=vc,za=g.stateNode.containerInfo,vc=!0,Um(a,u,g),za=C,vc=R;break;case 0:case 11:case 14:case 15:Vm(2,g,u),Fl||Vm(4,g,u),Um(a,u,g);break;case 1:Fl||(Fi(g,u),C=g.stateNode,typeof C.componentWillUnmount=="function"&&cf(g,u,C)),Um(a,u,g);break;case 21:Um(a,u,g);break;case 22:Fl=(C=Fl)||g.memoizedState!==null,Um(a,u,g),Fl=C;break;default:Um(a,u,g)}}function _x(a,u){if(u.memoizedState===null&&(a=u.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{n0(a)}catch(g){ca(u,u.return,g)}}}function Ql(a,u){if(u.memoizedState===null&&(a=u.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{n0(a)}catch(g){ca(u,u.return,g)}}function ed(a){switch(a.tag){case 31:case 13:case 19:var u=a.stateNode;return u===null&&(u=a.stateNode=new Lh),u;case 22:return a=a.stateNode,u=a._retryCache,u===null&&(u=a._retryCache=new Lh),u;default:throw Error(x(435,a.tag))}}function Xa(a,u){var g=ed(a);u.forEach(function(C){if(!g.has(C)){g.add(C);var R=jv.bind(null,a,C);C.then(R,R)}})}function $l(a,u){var g=u.deletions;if(g!==null)for(var C=0;C<g.length;C++){var R=g[C],F=a,re=u,fe=re;e:for(;fe!==null;){switch(fe.tag){case 27:if(id(fe.type)){za=fe.stateNode,vc=!1;break e}break;case 5:za=fe.stateNode,vc=!1;break e;case 3:case 4:za=fe.stateNode.containerInfo,vc=!0;break e}fe=fe.return}if(za===null)throw Error(x(160));Ey(F,re,R),za=null,vc=!1,F=R.alternate,F!==null&&(F.return=null),R.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)uu(u,a),u=u.sibling}var td=null;function uu(a,u){var g=a.alternate,C=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:$l(u,a),xc(a),C&4&&(Vm(3,a,a.return),pa(3,a),Vm(5,a,a.return));break;case 1:$l(u,a),xc(a),C&512&&(Fl||g===null||Fi(g,g.return)),C&64&&dr&&(a=a.updateQueue,a!==null&&(C=a.callbacks,C!==null&&(g=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=g===null?C:g.concat(C))));break;case 26:var R=td;if($l(u,a),xc(a),C&512&&(Fl||g===null||Fi(g,g.return)),C&4){var F=g!==null?g.memoizedState:null;if(C=a.memoizedState,g===null)if(C===null)if(a.stateNode===null){e:{C=a.type,g=a.memoizedProps,R=R.ownerDocument||R;t:switch(C){case"title":F=R.getElementsByTagName("title")[0],(!F||F[To]||F[er]||F.namespaceURI==="http://www.w3.org/2000/svg"||F.hasAttribute("itemprop"))&&(F=R.createElement(C),R.head.insertBefore(F,R.querySelector("head > title"))),Xi(F,C,g),F[er]=a,me(F),C=F;break e;case"link":var re=Fc("link","href",R).get(C+(g.href||""));if(re){for(var fe=0;fe<re.length;fe++)if(F=re[fe],F.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&F.getAttribute("rel")===(g.rel==null?null:g.rel)&&F.getAttribute("title")===(g.title==null?null:g.title)&&F.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){re.splice(fe,1);break t}}F=R.createElement(C),Xi(F,C,g),R.head.appendChild(F);break;case"meta":if(re=Fc("meta","content",R).get(C+(g.content||""))){for(fe=0;fe<re.length;fe++)if(F=re[fe],F.getAttribute("content")===(g.content==null?null:""+g.content)&&F.getAttribute("name")===(g.name==null?null:g.name)&&F.getAttribute("property")===(g.property==null?null:g.property)&&F.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&F.getAttribute("charset")===(g.charSet==null?null:g.charSet)){re.splice(fe,1);break t}}F=R.createElement(C),Xi(F,C,g),R.head.appendChild(F);break;default:throw Error(x(468,C))}F[er]=a,me(F),C=F}a.stateNode=C}else Xp(R,a.type,a.stateNode);else a.stateNode=oc(R,C,a.memoizedProps);else F!==C?(F===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):F.count--,C===null?Xp(R,a.type,a.stateNode):oc(R,C,a.memoizedProps)):C===null&&a.stateNode!==null&&ht(a,a.memoizedProps,g.memoizedProps)}break;case 27:$l(u,a),xc(a),C&512&&(Fl||g===null||Fi(g,g.return)),g!==null&&C&4&&ht(a,a.memoizedProps,g.memoizedProps);break;case 5:if($l(u,a),xc(a),C&512&&(Fl||g===null||Fi(g,g.return)),a.flags&32){R=a.stateNode;try{uc(R,"")}catch(es){ca(a,a.return,es)}}C&4&&a.stateNode!=null&&(R=a.memoizedProps,ht(a,R,g!==null?g.memoizedProps:R)),C&1024&&(jm=!0);break;case 6:if($l(u,a),xc(a),C&4){if(a.stateNode===null)throw Error(x(162));C=a.memoizedProps,g=a.stateNode;try{g.nodeValue=C}catch(es){ca(a,a.return,es)}}break;case 3:if(Iy=null,R=td,td=Eb(u.containerInfo),$l(u,a),td=R,xc(a),C&4&&g!==null&&g.memoizedState.isDehydrated)try{n0(u.containerInfo)}catch(es){ca(a,a.return,es)}jm&&(jm=!1,$i(a));break;case 4:C=td,td=Eb(a.stateNode.containerInfo),$l(u,a),xc(a),td=C;break;case 12:$l(u,a),xc(a);break;case 31:$l(u,a),xc(a),C&4&&(C=a.updateQueue,C!==null&&(a.updateQueue=null,Xa(a,C)));break;case 13:$l(u,a),xc(a),a.child.flags&8192&&a.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Ip=Tt()),C&4&&(C=a.updateQueue,C!==null&&(a.updateQueue=null,Xa(a,C)));break;case 22:R=a.memoizedState!==null;var lt=g!==null&&g.memoizedState!==null,Ut=dr,bn=Fl;if(dr=Ut||R,Fl=bn||lt,$l(u,a),Fl=bn,dr=Ut,xc(a),C&8192)e:for(u=a.stateNode,u._visibility=R?u._visibility&-2:u._visibility|1,R&&(g===null||lt||dr||Fl||Jl(a)),g=null,u=a;;){if(u.tag===5||u.tag===26){if(g===null){lt=g=u;try{if(F=lt.stateNode,R)re=F.style,typeof re.setProperty=="function"?re.setProperty("display","none","important"):re.display="none";else{fe=lt.stateNode;var Dn=lt.memoizedProps.style,Xt=Dn!=null&&Dn.hasOwnProperty("display")?Dn.display:null;fe.style.display=Xt==null||typeof Xt=="boolean"?"":(""+Xt).trim()}}catch(es){ca(lt,lt.return,es)}}}else if(u.tag===6){if(g===null){lt=u;try{lt.stateNode.nodeValue=R?"":lt.memoizedProps}catch(es){ca(lt,lt.return,es)}}}else if(u.tag===18){if(g===null){lt=u;try{var ln=lt.stateNode;R?wb(ln,!0):wb(lt.stateNode,!1)}catch(es){ca(lt,lt.return,es)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===a)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;g===u&&(g=null),u=u.return}g===u&&(g=null),u.sibling.return=u.return,u=u.sibling}C&4&&(C=a.updateQueue,C!==null&&(g=C.retryQueue,g!==null&&(C.retryQueue=null,Xa(a,g))));break;case 19:$l(u,a),xc(a),C&4&&(C=a.updateQueue,C!==null&&(a.updateQueue=null,Xa(a,C)));break;case 30:break;case 21:break;default:$l(u,a),xc(a)}}function xc(a){var u=a.flags;if(u&2){try{for(var g,C=a.return;C!==null;){if(Ju(C)){g=C;break}C=C.return}if(g==null)throw Error(x(160));switch(g.tag){case 27:var R=g.stateNode,F=Lp(a);Xl(a,F,R);break;case 5:var re=g.stateNode;g.flags&32&&(uc(re,""),g.flags&=-33);var fe=Lp(a);Xl(a,fe,re);break;case 3:case 4:var lt=g.stateNode.containerInfo,Ut=Lp(a);Oa(a,Ut,lt);break;default:throw Error(x(161))}}catch(bn){ca(a,a.return,bn)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function $i(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var u=a;$i(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),a=a.sibling}}function Mf(a,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Cy(a,u.alternate,u),u=u.sibling}function Jl(a){for(a=a.child;a!==null;){var u=a;switch(u.tag){case 0:case 11:case 14:case 15:Vm(4,u,u.return),Jl(u);break;case 1:Fi(u,u.return);var g=u.stateNode;typeof g.componentWillUnmount=="function"&&cf(u,u.return,g),Jl(u);break;case 27:Km(u.stateNode);case 26:case 5:Fi(u,u.return),Jl(u);break;case 22:u.memoizedState===null&&Jl(u);break;case 30:Jl(u);break;default:Jl(u)}a=a.sibling}}function ec(a,u,g){for(g=g&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var C=u.alternate,R=a,F=u,re=F.flags;switch(F.tag){case 0:case 11:case 15:ec(R,F,g),pa(4,F);break;case 1:if(ec(R,F,g),C=F,R=C.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(Ut){ca(C,C.return,Ut)}if(C=F,R=C.updateQueue,R!==null){var fe=C.stateNode;try{var lt=R.shared.hiddenCallbacks;if(lt!==null)for(R.shared.hiddenCallbacks=null,R=0;R<lt.length;R++)ha(lt[R],fe)}catch(Ut){ca(C,C.return,Ut)}}g&&re&64&&wy(F),Bg(F,F.return);break;case 27:qi(F);case 26:case 5:ec(R,F,g),g&&C===null&&re&4&&Dx(F),Bg(F,F.return);break;case 12:ec(R,F,g);break;case 31:ec(R,F,g),g&&re&4&&_x(R,F);break;case 13:ec(R,F,g),g&&re&4&&Ql(R,F);break;case 22:F.memoizedState===null&&ec(R,F,g),Bg(F,F.return);break;case 30:break;default:ec(R,F,g)}u=u.sibling}}function lb(a,u){var g=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),a=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(a=u.memoizedState.cachePool.pool),a!==g&&(a!=null&&a.refCount++,g!=null&&Cd(g))}function Gi(a,u){a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&Cd(a))}function Lu(a,u,g,C){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Bf(a,u,g,C),u=u.sibling}function Bf(a,u,g,C){var R=u.flags;switch(u.tag){case 0:case 11:case 15:Lu(a,u,g,C),R&2048&&pa(9,u);break;case 1:Lu(a,u,g,C);break;case 3:Lu(a,u,g,C),R&2048&&(a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&Cd(a)));break;case 12:if(R&2048){Lu(a,u,g,C),a=u.stateNode;try{var F=u.memoizedProps,re=F.id,fe=F.onPostCommit;typeof fe=="function"&&fe(re,u.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(lt){ca(u,u.return,lt)}}else Lu(a,u,g,C);break;case 31:Lu(a,u,g,C);break;case 13:Lu(a,u,g,C);break;case 23:break;case 22:F=u.stateNode,re=u.alternate,u.memoizedState!==null?F._visibility&2?Lu(a,u,g,C):dm(a,u):F._visibility&2?Lu(a,u,g,C):(F._visibility|=2,Lf(a,u,g,C,(u.subtreeFlags&10256)!==0||!1)),R&2048&&lb(re,u);break;case 24:Lu(a,u,g,C),R&2048&&Gi(u.alternate,u);break;default:Lu(a,u,g,C)}}function Lf(a,u,g,C,R){for(R=R&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var F=a,re=u,fe=g,lt=C,Ut=re.flags;switch(re.tag){case 0:case 11:case 15:Lf(F,re,fe,lt,R),pa(8,re);break;case 23:break;case 22:var bn=re.stateNode;re.memoizedState!==null?bn._visibility&2?Lf(F,re,fe,lt,R):dm(F,re):(bn._visibility|=2,Lf(F,re,fe,lt,R)),R&&Ut&2048&&lb(re.alternate,re);break;case 24:Lf(F,re,fe,lt,R),R&&Ut&2048&&Gi(re.alternate,re);break;default:Lf(F,re,fe,lt,R)}u=u.sibling}}function dm(a,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var g=a,C=u,R=C.flags;switch(C.tag){case 22:dm(g,C),R&2048&&lb(C.alternate,C);break;case 24:dm(g,C),R&2048&&Gi(C.alternate,C);break;default:dm(g,C)}u=u.sibling}}var cb=8192;function Ph(a,u,g){if(a.subtreeFlags&cb)for(a=a.child;a!==null;)Zm(a,u,g),a=a.sibling}function Zm(a,u,g){switch(a.tag){case 26:Ph(a,u,g),a.flags&cb&&a.memoizedState!==null&&e2(g,td,a.memoizedState,a.memoizedProps);break;case 5:Ph(a,u,g);break;case 3:case 4:var C=td;td=Eb(a.stateNode.containerInfo),Ph(a,u,g),td=C;break;case 22:a.memoizedState===null&&(C=a.alternate,C!==null&&C.memoizedState!==null?(C=cb,cb=16777216,Ph(a,u,g),cb=C):Ph(a,u,g));break;default:Ph(a,u,g)}}function G0(a){var u=a.alternate;if(u!==null&&(a=u.child,a!==null)){u.child=null;do u=a.sibling,a.sibling=null,a=u;while(a!==null)}}function kr(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var g=0;g<u.length;g++){var C=u[g];ml=C,Pp(C,a)}G0(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)$v(a),a=a.sibling}function $v(a){switch(a.tag){case 0:case 11:case 15:kr(a),a.flags&2048&&Vm(9,a,a.return);break;case 3:kr(a);break;case 12:kr(a);break;case 22:var u=a.stateNode;a.memoizedState!==null&&u._visibility&2&&(a.return===null||a.return.tag!==13)?(u._visibility&=-3,Pf(a)):kr(a);break;default:kr(a)}}function Pf(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var g=0;g<u.length;g++){var C=u[g];ml=C,Pp(C,a)}G0(a)}for(a=a.child;a!==null;){switch(u=a,u.tag){case 0:case 11:case 15:Vm(8,u,u.return),Pf(u);break;case 22:g=u.stateNode,g._visibility&2&&(g._visibility&=-3,Pf(u));break;default:Pf(u)}a=a.sibling}}function Pp(a,u){for(;ml!==null;){var g=ml;switch(g.tag){case 0:case 11:case 15:Vm(8,g,u);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var C=g.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:Cd(g.memoizedState.cache)}if(C=g.child,C!==null)C.return=g,ml=C;else e:for(g=a;ml!==null;){C=ml;var R=C.sibling,F=C.return;if(Sy(C),C===g){ml=null;break e}if(R!==null){R.return=F,ml=R;break e}ml=F}}}var Ty={getCacheForType:function(a){var u=ws(qa),g=u.data.get(a);return g===void 0&&(g=a(),u.data.set(a,g)),g},cacheSignal:function(){return ws(qa).controller.signal}},Fh=typeof WeakMap=="function"?WeakMap:Map,Bs=0,ba=null,xr=null,Rr=0,Ra=0,Pu=null,Ff=!1,Fp=!1,ub=!1,fm=0,vi=0,Lc=0,wc=0,mm=0,Nd=0,$h=0,$p=null,nd=null,db=!1,Ip=0,fb=0,Hp=1/0,Md=null,$f=null,Ki=0,Bd=null,zp=null,Ld=0,Cc=0,Iv=null,Ay=null,Vp=0,K0=null;function Pd(){return(Bs&2)!==0&&Rr!==0?Rr&-Rr:P.T!==null?Fd():ol()}function Lg(){if(Nd===0)if((Rr&536870912)===0||Js){var a=Hn;Hn<<=1,(Hn&3932160)===0&&(Hn=262144),Nd=a}else Nd=536870912;return a=ou.current,a!==null&&(a.flags|=32),Nd}function od(a,u,g){(a===ba&&(Ra===2||Ra===9)||a.cancelPendingCommit!==null)&&(tc(a,0),hs(a,Rr,Nd,!1)),Yn(a,g),((Bs&2)===0||a!==ba)&&(a===ba&&((Bs&2)===0&&(wc|=g),vi===4&&hs(a,Rr,Nd,!1)),uf(a))}function Y0(a,u,g){if((Bs&6)!==0)throw Error(x(327));var C=!g&&(u&127)===0&&(u&a.expiredLanes)===0||Ba(a,u),R=C?hb(a,u):zv(a,u,!0),F=C;do{if(R===0){Fp&&!C&&hs(a,u,0,!1);break}else{if(g=a.current.alternate,F&&!Ox(g)){R=zv(a,u,!1),F=!1;continue}if(R===2){if(F=u,a.errorRecoveryDisabledLanes&F)var re=0;else re=a.pendingLanes&-536870913,re=re!==0?re:re&536870912?536870912:0;if(re!==0){u=re;e:{var fe=a;R=$p;var lt=fe.current.memoizedState.isDehydrated;if(lt&&(tc(fe,re).flags|=256),re=zv(fe,re,!1),re!==2){if(ub&&!lt){fe.errorRecoveryDisabledLanes|=F,wc|=F,R=4;break e}F=nd,nd=R,F!==null&&(nd===null?nd=F:nd.push.apply(nd,F))}R=re}if(F=!1,R!==2)continue}}if(R===1){tc(a,0),hs(a,u,0,!0);break}e:{switch(C=a,F=R,F){case 0:case 1:throw Error(x(345));case 4:if((u&4194048)!==u)break;case 6:hs(C,u,Nd,!Ff);break e;case 2:nd=null;break;case 3:case 5:break;default:throw Error(x(329))}if((u&62914560)===u&&(R=Ip+300-Tt(),10<R)){if(hs(C,u,Nd,!Ff),ci(C,0,!0)!==0)break e;Ld=u,C.timeoutHandle=t1(ky.bind(null,C,g,nd,Md,db,u,Nd,wc,$h,Ff,F,"Throttled",-0,0),R);break e}ky(C,g,nd,Md,db,u,Nd,wc,$h,Ff,F,null,-0,0)}}break}while(!0);uf(a)}function ky(a,u,g,C,R,F,re,fe,lt,Ut,bn,Dn,Xt,ln){if(a.timeoutHandle=-1,Dn=u.subtreeFlags,Dn&8192||(Dn&16785408)===16785408){Dn={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gi},Zm(u,F,Dn);var es=(F&62914560)===F?Ip-Tt():(F&4194048)===F?fb-Tt():0;if(es=kb(Dn,es),es!==null){Ld=F,a.cancelPendingCommit=es(Lx.bind(null,a,u,F,g,C,R,re,fe,lt,bn,Dn,null,Xt,ln)),hs(a,F,re,!Ut);return}}Lx(a,u,F,g,C,R,re,fe,lt)}function Ox(a){for(var u=a;;){var g=u.tag;if((g===0||g===11||g===15)&&u.flags&16384&&(g=u.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var C=0;C<g.length;C++){var R=g[C],F=R.getSnapshot;R=R.value;try{if(!vl(F(),R))return!1}catch{return!1}}if(g=u.child,u.subtreeFlags&16384&&g!==null)g.return=u,u=g;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function hs(a,u,g,C){u&=~mm,u&=~wc,a.suspendedLanes|=u,a.pingedLanes&=~u,C&&(a.warmLanes|=u),C=a.expirationTimes;for(var R=u;0<R;){var F=31-gs(R),re=1<<F;C[F]=-1,R&=~re}g!==0&&yo(a,g,u)}function jp(){return(Bs&6)===0?(J0(0),!1):!0}function Ls(){if(xr!==null){if(Ra===0)var a=xr.return;else a=xr,Wa=Or=null,sf(a),Rf=null,rm=0,a=xr;for(;a!==null;)Bp(a.alternate,a),a=a.return;xr=null}}function tc(a,u){var g=a.timeoutHandle;g!==-1&&(a.timeoutHandle=-1,qv(g)),g=a.cancelPendingCommit,g!==null&&(a.cancelPendingCommit=null,g()),Ld=0,Ls(),ba=a,xr=g=Fa(a.current,null),Rr=u,Ra=0,Pu=null,Ff=!1,Fp=Ba(a,u),ub=!1,$h=Nd=mm=wc=Lc=vi=0,nd=$p=null,db=!1,(u&8)!==0&&(u|=u&32);var C=a.entangledLanes;if(C!==0)for(a=a.entanglements,C&=u;0<C;){var R=31-gs(C),F=1<<R;u|=a[R],C&=~F}return fm=u,Xc(),g}function Ih(a,u){or=null,P.H=la,u===nf||u===Eg?(u=Y1(),Ra=3):u===Sg?(u=Y1(),Ra=4):Ra=u===Lv?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Pu=u,xr===null&&(vi=1,yy(a,ra(u,a.current)))}function X0(){var a=ou.current;return a===null?!0:(Rr&4194048)===Rr?Ou===null:(Rr&62914560)===Rr||(Rr&536870912)!==0?a===Ou:!1}function sr(){var a=P.H;return P.H=la,a===null?la:a}function Hv(){var a=P.A;return P.A=Ty,a}function mb(){vi=4,Ff||(Rr&4194048)!==Rr&&ou.current!==null||(Fp=!0),(Lc&134217727)===0&&(wc&134217727)===0||ba===null||hs(ba,Rr,Nd,!1)}function zv(a,u,g){var C=Bs;Bs|=2;var R=sr(),F=Hv();(ba!==a||Rr!==u)&&(Md=null,tc(a,u)),u=!1;var re=vi;e:do try{if(Ra!==0&&xr!==null){var fe=xr,lt=Pu;switch(Ra){case 8:Ls(),re=6;break e;case 3:case 2:case 9:case 6:ou.current===null&&(u=!0);var Ut=Ra;if(Ra=0,Pu=null,Zp(a,fe,lt,Ut),g&&Fp){re=0;break e}break;default:Ut=Ra,Ra=0,Pu=null,Zp(a,fe,lt,Ut)}}Up(),re=vi;break}catch(bn){Ih(a,bn)}while(!0);return u&&a.shellSuspendCounter++,Wa=Or=null,Bs=C,P.H=R,P.A=F,xr===null&&(ba=null,Rr=0,Xc()),re}function Up(){for(;xr!==null;)Nx(xr)}function hb(a,u){var g=Bs;Bs|=2;var C=sr(),R=Hv();ba!==a||Rr!==u?(Md=null,Hp=Tt()+500,tc(a,u)):Fp=Ba(a,u);e:do try{if(Ra!==0&&xr!==null){u=xr;var F=Pu;t:switch(Ra){case 1:Ra=0,Pu=null,Zp(a,u,F,1);break;case 2:case 9:if(Ed(F)){Ra=0,Pu=null,Mx(u);break}u=function(){Ra!==2&&Ra!==9||ba!==a||(Ra=7),uf(a)},F.then(u,u);break e;case 3:Ra=7;break e;case 4:Ra=5;break e;case 7:Ed(F)?(Ra=0,Pu=null,Mx(u)):(Ra=0,Pu=null,Zp(a,u,F,7));break;case 5:var re=null;switch(xr.tag){case 26:re=xr.memoizedState;case 5:case 27:var fe=xr;if(re?Hy(re):fe.stateNode.complete){Ra=0,Pu=null;var lt=fe.sibling;if(lt!==null)xr=lt;else{var Ut=fe.return;Ut!==null?(xr=Ut,gb(Ut)):xr=null}break t}}Ra=0,Pu=null,Zp(a,u,F,5);break;case 6:Ra=0,Pu=null,Zp(a,u,F,6);break;case 8:Ls(),vi=6;break e;default:throw Error(x(462))}}Rx();break}catch(bn){Ih(a,bn)}while(!0);return Wa=Or=null,P.H=C,P.A=R,Bs=g,xr!==null?0:(ba=null,Rr=0,Xc(),vi)}function Rx(){for(;xr!==null&&!Dt();)Nx(xr)}function Nx(a){var u=Ya(a.alternate,a,fm);a.memoizedProps=a.pendingProps,u===null?gb(a):xr=u}function Mx(a){var u=a,g=u.alternate;switch(u.tag){case 15:case 0:u=Pv(g,u,u.pendingProps,u.type,void 0,Rr);break;case 11:u=Pv(g,u,u.pendingProps,u.type.render,u.ref,Rr);break;case 5:sf(u);default:Bp(g,u),u=xr=ma(u,fm),u=Ya(g,u,fm)}a.memoizedProps=a.pendingProps,u===null?gb(a):xr=u}function Zp(a,u,g,C){Wa=Or=null,sf(u),Rf=null,rm=0;var R=u.return;try{if(IC(a,R,u,g,Rr)){vi=1,yy(a,ra(g,a.current)),xr=null;return}}catch(F){if(R!==null)throw xr=R,F;vi=1,yy(a,ra(g,a.current)),xr=null;return}u.flags&32768?(Js||C===1?a=!0:Fp||(Rr&536870912)!==0?a=!1:(Ff=a=!0,(C===2||C===9||C===3||C===6)&&(C=ou.current,C!==null&&C.tag===13&&(C.flags|=16384))),Bx(u,a)):gb(u)}function gb(a){var u=a;do{if((u.flags&32768)!==0){Bx(u,Ff);return}a=u.return;var g=vr(u.alternate,u,fm);if(g!==null){xr=g;return}if(u=u.sibling,u!==null){xr=u;return}xr=u=a}while(u!==null);vi===0&&(vi=5)}function Bx(a,u){do{var g=um(a.alternate,a);if(g!==null){g.flags&=32767,xr=g;return}if(g=a.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!u&&(a=a.sibling,a!==null)){xr=a;return}xr=a=g}while(a!==null);vi=6,xr=null}function Lx(a,u,g,C,R,F,re,fe,lt){a.cancelPendingCommit=null;do sd();while(Ki!==0);if((Bs&6)!==0)throw Error(x(327));if(u!==null){if(u===a.current)throw Error(x(177));if(F=u.lanes|u.childLanes,F|=Au,Gn(a,g,F,re,fe,lt),a===ba&&(xr=ba=null,Rr=0),zp=u,Bd=a,Ld=g,Cc=F,Iv=R,Ay=C,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,bb(Jo,function(){return hm(),null})):(a.callbackNode=null,a.callbackPriority=0),C=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||C){C=P.T,P.T=null,R=Vt.p,Vt.p=2,re=Bs,Bs|=4;try{ib(a,u,g)}finally{Bs=re,Vt.p=R,P.T=C}}Ki=1,Pg(),Fu(),Yi()}}function Pg(){if(Ki===1){Ki=0;var a=Bd,u=zp,g=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||g){g=P.T,P.T=null;var C=Vt.p;Vt.p=2;var R=Bs;Bs|=4;try{uu(u,a);var F=qm,re=L0(a.containerInfo),fe=F.focusedElem,lt=F.selectionRange;if(re!==fe&&fe&&fe.ownerDocument&&Oc(fe.ownerDocument.documentElement,fe)){if(lt!==null&&bp(fe)){var Ut=lt.start,bn=lt.end;if(bn===void 0&&(bn=Ut),"selectionStart"in fe)fe.selectionStart=Ut,fe.selectionEnd=Math.min(bn,fe.value.length);else{var Dn=fe.ownerDocument||document,Xt=Dn&&Dn.defaultView||window;if(Xt.getSelection){var ln=Xt.getSelection(),es=fe.textContent.length,Os=Math.min(lt.start,es),fi=lt.end===void 0?Os:Math.min(lt.end,es);!ln.extend&&Os>fi&&(re=fi,fi=Os,Os=re);var et=Rl(fe,Os),ft=Rl(fe,fi);if(et&&ft&&(ln.rangeCount!==1||ln.anchorNode!==et.node||ln.anchorOffset!==et.offset||ln.focusNode!==ft.node||ln.focusOffset!==ft.offset)){var zt=Dn.createRange();zt.setStart(et.node,et.offset),ln.removeAllRanges(),Os>fi?(ln.addRange(zt),ln.extend(ft.node,ft.offset)):(zt.setEnd(ft.node,ft.offset),ln.addRange(zt))}}}}for(Dn=[],ln=fe;ln=ln.parentNode;)ln.nodeType===1&&Dn.push({element:ln,left:ln.scrollLeft,top:ln.scrollTop});for(typeof fe.focus=="function"&&fe.focus(),fe=0;fe<Dn.length;fe++){var hn=Dn[fe];hn.element.scrollLeft=hn.left,hn.element.scrollTop=hn.top}}so=!!Uh,qm=Uh=null}finally{Bs=R,Vt.p=C,P.T=g}}a.current=u,Ki=2}}function Fu(){if(Ki===2){Ki=0;var a=Bd,u=zp,g=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||g){g=P.T,P.T=null;var C=Vt.p;Vt.p=2;var R=Bs;Bs|=4;try{Cy(a,u.alternate,u)}finally{Bs=R,Vt.p=C,P.T=g}}Ki=3}}function Yi(){if(Ki===4||Ki===3){Ki=0,Le();var a=Bd,u=zp,g=Ld,C=Ay;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Ki=5:(Ki=0,zp=Bd=null,Hh(a,a.pendingLanes));var R=a.pendingLanes;if(R===0&&($f=null),La(g),u=u.stateNode,Ss&&typeof Ss.onCommitFiberRoot=="function")try{Ss.onCommitFiberRoot(Vs,u,void 0,(u.current.flags&128)===128)}catch{}if(C!==null){u=P.T,R=Vt.p,Vt.p=2,P.T=null;try{for(var F=a.onRecoverableError,re=0;re<C.length;re++){var fe=C[re];F(fe.value,{componentStack:fe.stack})}}finally{P.T=u,Vt.p=R}}(Ld&3)!==0&&sd(),uf(a),R=a.pendingLanes,(g&261930)!==0&&(R&42)!==0?a===K0?Vp++:(Vp=0,K0=a):Vp=0,J0(0)}}function Hh(a,u){(a.pooledCacheLanes&=u)===0&&(u=a.pooledCache,u!=null&&(a.pooledCache=null,Cd(u)))}function sd(){return Pg(),Fu(),Yi(),hm()}function hm(){if(Ki!==5)return!1;var a=Bd,u=Cc;Cc=0;var g=La(Ld),C=P.T,R=Vt.p;try{Vt.p=32>g?32:g,P.T=null,g=Iv,Iv=null;var F=Bd,re=Ld;if(Ki=0,zp=Bd=null,Ld=0,(Bs&6)!==0)throw Error(x(331));var fe=Bs;if(Bs|=4,$v(F.current),Bf(F,F.current,re,g),Bs=fe,J0(0,!1),Ss&&typeof Ss.onPostCommitFiberRoot=="function")try{Ss.onPostCommitFiberRoot(Vs,F)}catch{}return!0}finally{Vt.p=R,P.T=C,Hh(a,u)}}function Wp(a,u,g){u=ra(g,u),u=Np(a.stateNode,u,2),a=Nf(a,u,2),a!==null&&(Yn(a,2),uf(a))}function ca(a,u,g){if(a.tag===3)Wp(a,a,g);else for(;u!==null;){if(u.tag===3){Wp(u,a,g);break}else if(u.tag===1){var C=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&($f===null||!$f.has(C))){a=ra(g,a),g=xy(2),C=Nf(u,g,2),C!==null&&(nb(g,C,u,a),Yn(C,2),uf(C));break}}u=u.return}}function Q0(a,u,g){var C=a.pingCache;if(C===null){C=a.pingCache=new Fh;var R=new Set;C.set(u,R)}else R=C.get(u),R===void 0&&(R=new Set,C.set(u,R));R.has(g)||(ub=!0,R.add(g),a=zC.bind(null,a,u,g),u.then(a,a))}function zC(a,u,g){var C=a.pingCache;C!==null&&C.delete(u),a.pingedLanes|=a.suspendedLanes&g,a.warmLanes&=~g,ba===a&&(Rr&g)===g&&(vi===4||vi===3&&(Rr&62914560)===Rr&&300>Tt()-Ip?(Bs&2)===0&&tc(a,0):mm|=g,$h===Rr&&($h=0)),uf(a)}function pb(a,u){u===0&&(u=Zt()),a=Zi(a,u),a!==null&&(Yn(a,u),uf(a))}function Vv(a){var u=a.memoizedState,g=0;u!==null&&(g=u.retryLane),pb(a,g)}function jv(a,u){var g=0;switch(a.tag){case 31:case 13:var C=a.stateNode,R=a.memoizedState;R!==null&&(g=R.retryLane);break;case 19:C=a.stateNode;break;case 22:C=a.stateNode._retryCache;break;default:throw Error(x(314))}C!==null&&C.delete(u),pb(a,g)}function bb(a,u){return yt(a,u)}var If=null,zh=null,qp=!1,Gp=!1,Dy=!1,du=0;function uf(a){a!==zh&&a.next===null&&(zh===null?If=zh=a:zh=zh.next=a),Gp=!0,qp||(qp=!0,Fx())}function J0(a,u){if(!Dy&&Gp){Dy=!0;do for(var g=!1,C=If;C!==null;){if(a!==0){var R=C.pendingLanes;if(R===0)var F=0;else{var re=C.suspendedLanes,fe=C.pingedLanes;F=(1<<31-gs(42|a)+1)-1,F&=R&~(re&~fe),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(g=!0,gm(C,F))}else F=Rr,F=ci(C,C===ba?F:0,C.cancelPendingCommit!==null||C.timeoutHandle!==-1),(F&3)===0||Ba(C,F)||(g=!0,gm(C,F));C=C.next}while(g);Dy=!1}}function VC(){Px()}function Px(){Gp=qp=!1;var a=0;du!==0&&Wv()&&(a=du);for(var u=Tt(),g=null,C=If;C!==null;){var R=C.next,F=Uv(C,u);F===0?(C.next=null,g===null?If=R:g.next=R,R===null&&(zh=g)):(g=C,(a!==0||(F&3)!==0)&&(Gp=!0)),C=R}Ki!==0&&Ki!==5||J0(a),du!==0&&(du=0)}function Uv(a,u){for(var g=a.suspendedLanes,C=a.pingedLanes,R=a.expirationTimes,F=a.pendingLanes&-62914561;0<F;){var re=31-gs(F),fe=1<<re,lt=R[re];lt===-1?((fe&g)===0||(fe&C)!==0)&&(R[re]=Mn(fe,u)):lt<=u&&(a.expiredLanes|=fe),F&=~fe}if(u=ba,g=Rr,g=ci(a,a===u?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),C=a.callbackNode,g===0||a===u&&(Ra===2||Ra===9)||a.cancelPendingCommit!==null)return C!==null&&C!==null&&Un(C),a.callbackNode=null,a.callbackPriority=0;if((g&3)===0||Ba(a,g)){if(u=g&-g,u===a.callbackPriority)return u;switch(C!==null&&Un(C),La(g)){case 2:case 8:g=Xo;break;case 32:g=Jo;break;case 268435456:g=mr;break;default:g=Jo}return C=_y.bind(null,a),g=yt(g,C),a.callbackPriority=u,a.callbackNode=g,u}return C!==null&&C!==null&&Un(C),a.callbackPriority=2,a.callbackNode=null,2}function _y(a,u){if(Ki!==0&&Ki!==5)return a.callbackNode=null,a.callbackPriority=0,null;var g=a.callbackNode;if(sd()&&a.callbackNode!==g)return null;var C=Rr;return C=ci(a,a===ba?C:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),C===0?null:(Y0(a,C,u),Uv(a,Tt()),a.callbackNode!=null&&a.callbackNode===g?_y.bind(null,a):null)}function gm(a,u){if(sd())return null;Y0(a,u,!0)}function Fx(){hl(function(){(Bs&6)!==0?yt(Zn,VC):Px()})}function Fd(){if(du===0){var a=wg;a===0&&(a=Ma,Ma<<=1,(Ma&261888)===0&&(Ma=256)),du=a}return du}function Sc(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ri(""+a)}function $d(a,u){var g=u.ownerDocument.createElement("input");return g.name=u.name,g.value=u.value,a.id&&g.setAttribute("form",a.id),u.parentNode.insertBefore(g,u),a=new FormData(a),g.parentNode.removeChild(g),a}function fu(a,u,g,C,R){if(u==="submit"&&g&&g.stateNode===R){var F=Sc((R[tr]||null).action),re=C.submitter;re&&(u=(u=re[tr]||null)?Sc(u.formAction):re.getAttribute("formAction"),u!==null&&(F=u,re=null));var fe=new fc("action","action",null,C,R);a.push({event:fe,listeners:[{instance:null,listener:function(){if(C.defaultPrevented){if(du!==0){var lt=re?$d(R,re):new FormData(R);Xu(g,{pending:!0,data:lt,method:R.method,action:F},null,lt)}}else typeof F=="function"&&(fe.preventDefault(),lt=re?$d(R,re):new FormData(R),Xu(g,{pending:!0,data:lt,method:R.method,action:F},F,lt))},currentTarget:R}]})}}for(var e1=0;e1<fa.length;e1++){var Vh=fa[e1],Oy=Vh.toLowerCase(),Zv=Vh[0].toUpperCase()+Vh.slice(1);xs(Oy,"on"+Zv)}xs(mc,"onAnimationEnd"),xs(Sh,"onAnimationIteration"),xs(G1,"onAnimationStart"),xs("dblclick","onDoubleClick"),xs("focusin","onFocus"),xs("focusout","onBlur"),xs(rs,"onTransitionRun"),xs(nm,"onTransitionStart"),xs(Ti,"onTransitionCancel"),xs(vd,"onTransitionEnd"),qt("onMouseEnter",["mouseout","mouseover"]),qt("onMouseLeave",["mouseout","mouseover"]),qt("onPointerEnter",["pointerout","pointerover"]),qt("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yb));function jh(a,u){u=(u&4)!==0;for(var g=0;g<a.length;g++){var C=a[g],R=C.event;C=C.listeners;e:{var F=void 0;if(u)for(var re=C.length-1;0<=re;re--){var fe=C[re],lt=fe.instance,Ut=fe.currentTarget;if(fe=fe.listener,lt!==F&&R.isPropagationStopped())break e;F=fe,R.currentTarget=Ut;try{F(R)}catch(bn){F0(bn)}R.currentTarget=null,F=lt}else for(re=0;re<C.length;re++){if(fe=C[re],lt=fe.instance,Ut=fe.currentTarget,fe=fe.listener,lt!==F&&R.isPropagationStopped())break e;F=fe,R.currentTarget=Ut;try{F(R)}catch(bn){F0(bn)}R.currentTarget=null,F=lt}}}}function Nr(a,u){var g=u[Fe];g===void 0&&(g=u[Fe]=new Set);var C=a+"__bubble";g.has(C)||(vb(u,a,2,!1),g.add(C))}function Ii(a,u,g){var C=0;u&&(C|=4),vb(g,a,C,u)}var $g="_reactListening"+Math.random().toString(36).slice(2);function Pc(a){if(!a[$g]){a[$g]=!0,He.forEach(function(g){g!=="selectionchange"&&(Fg.has(g)||Ii(g,!1,a),Ii(g,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[$g]||(u[$g]=!0,Ii("selectionchange",!1,u))}}function vb(a,u,g,C){switch(_b(u)){case 2:var R=r1;break;case 8:R=Vy;break;default:R=a1}g=R.bind(null,u,g,a),R=void 0,!Wc||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(R=!0),C?R!==void 0?a.addEventListener(u,g,{capture:!0,passive:R}):a.addEventListener(u,g,!0):R!==void 0?a.addEventListener(u,g,{passive:R}):a.addEventListener(u,g,!1)}function Dr(a,u,g,C,R){var F=C;if((u&1)===0&&(u&2)===0&&C!==null)e:for(;;){if(C===null)return;var re=C.tag;if(re===3||re===4){var fe=C.stateNode.containerInfo;if(fe===R)break;if(re===4)for(re=C.return;re!==null;){var lt=re.tag;if((lt===3||lt===4)&&re.stateNode.containerInfo===R)return;re=re.return}for(;fe!==null;){if(re=Zo(fe),re===null)return;if(lt=re.tag,lt===5||lt===6||lt===26||lt===27){C=F=re;continue e}fe=fe.parentNode}}C=C.return}Su(function(){var Ut=F,bn=Gd(g),Dn=[];e:{var Xt=xd.get(a);if(Xt!==void 0){var ln=fc,es=a;switch(a){case"keypress":if(rl(g)===0)break e;case"keydown":case"keyup":ln=Yd;break;case"focusin":es="focus",ln=Ei;break;case"focusout":es="blur",ln=Ei;break;case"beforeblur":case"afterblur":ln=Ei;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ln=qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ln=lr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ln=N0;break;case mc:case Sh:case G1:ln=se;break;case vd:ln=pe;break;case"scroll":case"scrollend":ln=Af;break;case"wheel":ln=dt;break;case"copy":case"cut":case"paste":ln=Xe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ln=kf;break;case"toggle":case"beforetoggle":ln=po}var Os=(u&4)!==0,fi=!Os&&(a==="scroll"||a==="scrollend"),et=Os?Xt!==null?Xt+"Capture":null:Xt;Os=[];for(var ft=Ut,zt;ft!==null;){var hn=ft;if(zt=hn.stateNode,hn=hn.tag,hn!==5&&hn!==26&&hn!==27||zt===null||et===null||(hn=Kd(ft,et),hn!=null&&Os.push(rd(ft,hn,zt))),fi)break;ft=ft.return}0<Os.length&&(Xt=new ln(Xt,es,null,g,bn),Dn.push({event:Xt,listeners:Os}))}}if((u&7)===0){e:{if(Xt=a==="mouseover"||a==="pointerover",ln=a==="mouseout"||a==="pointerout",Xt&&g!==qr&&(es=g.relatedTarget||g.fromElement)&&(Zo(es)||es[Vl]))break e;if((ln||Xt)&&(Xt=bn.window===bn?bn:(Xt=bn.ownerDocument)?Xt.defaultView||Xt.parentWindow:window,ln?(es=g.relatedTarget||g.toElement,ln=Ut,es=es?Zo(es):null,es!==null&&(fi=N(es),Os=es.tag,es!==fi||Os!==5&&Os!==27&&Os!==6)&&(es=null)):(ln=null,es=Ut),ln!==es)){if(Os=qn,hn="onMouseLeave",et="onMouseEnter",ft="mouse",(a==="pointerout"||a==="pointerover")&&(Os=kf,hn="onPointerLeave",et="onPointerEnter",ft="pointer"),fi=ln==null?Xt:Ao(ln),zt=es==null?Xt:Ao(es),Xt=new Os(hn,ft+"leave",ln,g,bn),Xt.target=fi,Xt.relatedTarget=zt,hn=null,Zo(bn)===Ut&&(Os=new Os(et,ft+"enter",es,g,bn),Os.target=zt,Os.relatedTarget=fi,hn=Os),fi=hn,ln&&es)t:{for(Os=pm,et=ln,ft=es,zt=0,hn=et;hn;hn=Os(hn))zt++;hn=0;for(var ms=ft;ms;ms=Os(ms))hn++;for(;0<zt-hn;)et=Os(et),zt--;for(;0<hn-zt;)ft=Os(ft),hn--;for(;zt--;){if(et===ft||ft!==null&&et===ft.alternate){Os=et;break t}et=Os(et),ft=Os(ft)}Os=null}else Os=null;ln!==null&&ad(Dn,Xt,ln,Os,!1),es!==null&&fi!==null&&ad(Dn,fi,es,Os,!0)}}e:{if(Xt=Ut?Ao(Ut):window,ln=Xt.nodeName&&Xt.nodeName.toLowerCase(),ln==="select"||ln==="input"&&Xt.type==="file")var js=Z1;else if(vh(Xt))if(Ua)js=De;else{js=yg;var Go=yd}else ln=Xt.nodeName,!ln||ln.toLowerCase()!=="input"||Xt.type!=="checkbox"&&Xt.type!=="radio"?Ut&&Ef(Ut.elementType)&&(js=Z1):js=q1;if(js&&(js=js(a,Ut))){pp(Dn,js,g,bn);break e}Go&&Go(a,Xt,Ut),a==="focusout"&&Ut&&Xt.type==="number"&&Ut.memoizedProps.value!=null&&Ci(Xt,"number",Xt.value)}switch(Go=Ut?Ao(Ut):window,a){case"focusin":(vh(Go)||Go.contentEditable==="true")&&(xl=Go,vp=Ut,Tu=null);break;case"focusout":Tu=vp=xl=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,P0(Dn,g,bn);break;case"selectionchange":if(yp)break;case"keydown":case"keyup":P0(Dn,g,bn)}var rr;if(Ta)e:{switch(a){case"compositionstart":var Mr="onCompositionStart";break e;case"compositionend":Mr="onCompositionEnd";break e;case"compositionupdate":Mr="onCompositionUpdate";break e}Mr=void 0}else il?Rm(a,g)&&(Mr="onCompositionEnd"):a==="keydown"&&g.keyCode===229&&(Mr="onCompositionStart");Mr&&(Ul&&g.locale!=="ko"&&(il||Mr!=="onCompositionStart"?Mr==="onCompositionEnd"&&il&&(rr=jl()):(fn=bn,Eu="value"in fn?fn.value:fn.textContent,il=!0)),Go=Hf(Ut,Mr),0<Go.length&&(Mr=new pn(Mr,a,null,g,bn),Dn.push({event:Mr,listeners:Go}),rr?Mr.data=rr:(rr=Wl(g),rr!==null&&(Mr.data=rr)))),(rr=Ui?Qd(a,g):_c(a,g))&&(Mr=Hf(Ut,"onBeforeInput"),0<Mr.length&&(Go=new pn("onBeforeInput","beforeinput",null,g,bn),Dn.push({event:Go,listeners:Mr}),Go.data=rr)),fu(Dn,a,Ut,g,bn)}jh(Dn,u)})}function rd(a,u,g){return{instance:a,listener:u,currentTarget:g}}function Hf(a,u){for(var g=u+"Capture",C=[];a!==null;){var R=a,F=R.stateNode;if(R=R.tag,R!==5&&R!==26&&R!==27||F===null||(R=Kd(a,g),R!=null&&C.unshift(rd(a,R,F)),R=Kd(a,u),R!=null&&C.push(rd(a,R,F))),a.tag===3)return C;a=a.return}return[]}function pm(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function ad(a,u,g,C,R){for(var F=u._reactName,re=[];g!==null&&g!==C;){var fe=g,lt=fe.alternate,Ut=fe.stateNode;if(fe=fe.tag,lt!==null&&lt===C)break;fe!==5&&fe!==26&&fe!==27||Ut===null||(lt=Ut,R?(Ut=Kd(g,F),Ut!=null&&re.unshift(rd(g,Ut,lt))):R||(Ut=Kd(g,F),Ut!=null&&re.push(rd(g,Ut,lt)))),g=g.return}re.length!==0&&a.push({event:u,listeners:re})}var Ry=/\r\n?/g,$x=/\u0000|\uFFFD/g;function Wm(a){return(typeof a=="string"?a:""+a).replace(Ry,`
`).replace($x,"")}function Ig(a,u){return u=Wm(u),Wm(a)===u}function Qa(a,u,g,C,R,F){switch(g){case"children":typeof C=="string"?u==="body"||u==="textarea"&&C===""||uc(a,C):(typeof C=="number"||typeof C=="bigint")&&u!=="body"&&uc(a,""+C);break;case"className":Ts(a,"class",C);break;case"tabIndex":Ts(a,"tabindex",C);break;case"dir":case"role":case"viewBox":case"width":case"height":Ts(a,g,C);break;case"style":dc(a,C,F);break;case"data":if(u!=="object"){Ts(a,"data",C);break}case"src":case"href":if(C===""&&(u!=="a"||g!=="href")){a.removeAttribute(g);break}if(C==null||typeof C=="function"||typeof C=="symbol"||typeof C=="boolean"){a.removeAttribute(g);break}C=Ri(""+C),a.setAttribute(g,C);break;case"action":case"formAction":if(typeof C=="function"){a.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof F=="function"&&(g==="formAction"?(u!=="input"&&Qa(a,u,"name",R.name,R,null),Qa(a,u,"formEncType",R.formEncType,R,null),Qa(a,u,"formMethod",R.formMethod,R,null),Qa(a,u,"formTarget",R.formTarget,R,null)):(Qa(a,u,"encType",R.encType,R,null),Qa(a,u,"method",R.method,R,null),Qa(a,u,"target",R.target,R,null)));if(C==null||typeof C=="symbol"||typeof C=="boolean"){a.removeAttribute(g);break}C=Ri(""+C),a.setAttribute(g,C);break;case"onClick":C!=null&&(a.onclick=gi);break;case"onScroll":C!=null&&Nr("scroll",a);break;case"onScrollEnd":C!=null&&Nr("scrollend",a);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(x(61));if(g=C.__html,g!=null){if(R.children!=null)throw Error(x(60));a.innerHTML=g}}break;case"multiple":a.multiple=C&&typeof C!="function"&&typeof C!="symbol";break;case"muted":a.muted=C&&typeof C!="function"&&typeof C!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(C==null||typeof C=="function"||typeof C=="boolean"||typeof C=="symbol"){a.removeAttribute("xlink:href");break}g=Ri(""+C),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":C!=null&&typeof C!="function"&&typeof C!="symbol"?a.setAttribute(g,""+C):a.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":C&&typeof C!="function"&&typeof C!="symbol"?a.setAttribute(g,""):a.removeAttribute(g);break;case"capture":case"download":C===!0?a.setAttribute(g,""):C!==!1&&C!=null&&typeof C!="function"&&typeof C!="symbol"?a.setAttribute(g,C):a.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":C!=null&&typeof C!="function"&&typeof C!="symbol"&&!isNaN(C)&&1<=C?a.setAttribute(g,C):a.removeAttribute(g);break;case"rowSpan":case"start":C==null||typeof C=="function"||typeof C=="symbol"||isNaN(C)?a.removeAttribute(g):a.setAttribute(g,C);break;case"popover":Nr("beforetoggle",a),Nr("toggle",a),vs(a,"popover",C);break;case"xlinkActuate":As(a,"http://www.w3.org/1999/xlink","xlink:actuate",C);break;case"xlinkArcrole":As(a,"http://www.w3.org/1999/xlink","xlink:arcrole",C);break;case"xlinkRole":As(a,"http://www.w3.org/1999/xlink","xlink:role",C);break;case"xlinkShow":As(a,"http://www.w3.org/1999/xlink","xlink:show",C);break;case"xlinkTitle":As(a,"http://www.w3.org/1999/xlink","xlink:title",C);break;case"xlinkType":As(a,"http://www.w3.org/1999/xlink","xlink:type",C);break;case"xmlBase":As(a,"http://www.w3.org/XML/1998/namespace","xml:base",C);break;case"xmlLang":As(a,"http://www.w3.org/XML/1998/namespace","xml:lang",C);break;case"xmlSpace":As(a,"http://www.w3.org/XML/1998/namespace","xml:space",C);break;case"is":vs(a,"is",C);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=An.get(g)||g,vs(a,g,C))}}function mu(a,u,g,C,R,F){switch(g){case"style":dc(a,C,F);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(x(61));if(g=C.__html,g!=null){if(R.children!=null)throw Error(x(60));a.innerHTML=g}}break;case"children":typeof C=="string"?uc(a,C):(typeof C=="number"||typeof C=="bigint")&&uc(a,""+C);break;case"onScroll":C!=null&&Nr("scroll",a);break;case"onScrollEnd":C!=null&&Nr("scrollend",a);break;case"onClick":C!=null&&(a.onclick=gi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jt.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(R=g.endsWith("Capture"),u=g.slice(2,R?g.length-7:void 0),F=a[tr]||null,F=F!=null?F[g]:null,typeof F=="function"&&a.removeEventListener(u,F,R),typeof C=="function")){typeof F!="function"&&F!==null&&(g in a?a[g]=null:a.hasAttribute(g)&&a.removeAttribute(g)),a.addEventListener(u,C,R);break e}g in a?a[g]=C:C===!0?a.setAttribute(g,""):vs(a,g,C)}}}function Xi(a,u,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nr("error",a),Nr("load",a);var C=!1,R=!1,F;for(F in g)if(g.hasOwnProperty(F)){var re=g[F];if(re!=null)switch(F){case"src":C=!0;break;case"srcSet":R=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(x(137,u));default:Qa(a,u,F,re,g,null)}}R&&Qa(a,u,"srcSet",g.srcSet,g,null),C&&Qa(a,u,"src",g.src,g,null);return;case"input":Nr("invalid",a);var fe=F=re=R=null,lt=null,Ut=null;for(C in g)if(g.hasOwnProperty(C)){var bn=g[C];if(bn!=null)switch(C){case"name":R=bn;break;case"type":re=bn;break;case"checked":lt=bn;break;case"defaultChecked":Ut=bn;break;case"value":F=bn;break;case"defaultValue":fe=bn;break;case"children":case"dangerouslySetInnerHTML":if(bn!=null)throw Error(x(137,u));break;default:Qa(a,u,C,bn,g,null)}}wo(a,F,fe,lt,Ut,re,R,!1);return;case"select":Nr("invalid",a),C=re=F=null;for(R in g)if(g.hasOwnProperty(R)&&(fe=g[R],fe!=null))switch(R){case"value":F=fe;break;case"defaultValue":re=fe;break;case"multiple":C=fe;default:Qa(a,u,R,fe,g,null)}u=F,g=re,a.multiple=!!C,u!=null?ni(a,!!C,u,!1):g!=null&&ni(a,!!C,g,!0);return;case"textarea":Nr("invalid",a),F=R=C=null;for(re in g)if(g.hasOwnProperty(re)&&(fe=g[re],fe!=null))switch(re){case"value":C=fe;break;case"defaultValue":R=fe;break;case"children":F=fe;break;case"dangerouslySetInnerHTML":if(fe!=null)throw Error(x(91));break;default:Qa(a,u,re,fe,g,null)}Sf(a,C,R,F);return;case"option":for(lt in g)g.hasOwnProperty(lt)&&(C=g[lt],C!=null)&&(lt==="selected"?a.selected=C&&typeof C!="function"&&typeof C!="symbol":Qa(a,u,lt,C,g,null));return;case"dialog":Nr("beforetoggle",a),Nr("toggle",a),Nr("cancel",a),Nr("close",a);break;case"iframe":case"object":Nr("load",a);break;case"video":case"audio":for(C=0;C<yb.length;C++)Nr(yb[C],a);break;case"image":Nr("error",a),Nr("load",a);break;case"details":Nr("toggle",a);break;case"embed":case"source":case"link":Nr("error",a),Nr("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ut in g)if(g.hasOwnProperty(Ut)&&(C=g[Ut],C!=null))switch(Ut){case"children":case"dangerouslySetInnerHTML":throw Error(x(137,u));default:Qa(a,u,Ut,C,g,null)}return;default:if(Ef(u)){for(bn in g)g.hasOwnProperty(bn)&&(C=g[bn],C!==void 0&&mu(a,u,bn,C,g,void 0));return}}for(fe in g)g.hasOwnProperty(fe)&&(C=g[fe],C!=null&&Qa(a,u,fe,C,g,null))}function nc(a,u,g,C){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var R=null,F=null,re=null,fe=null,lt=null,Ut=null,bn=null;for(ln in g){var Dn=g[ln];if(g.hasOwnProperty(ln)&&Dn!=null)switch(ln){case"checked":break;case"value":break;case"defaultValue":lt=Dn;default:C.hasOwnProperty(ln)||Qa(a,u,ln,null,C,Dn)}}for(var Xt in C){var ln=C[Xt];if(Dn=g[Xt],C.hasOwnProperty(Xt)&&(ln!=null||Dn!=null))switch(Xt){case"type":F=ln;break;case"name":R=ln;break;case"checked":Ut=ln;break;case"defaultChecked":bn=ln;break;case"value":re=ln;break;case"defaultValue":fe=ln;break;case"children":case"dangerouslySetInnerHTML":if(ln!=null)throw Error(x(137,u));break;default:ln!==Dn&&Qa(a,u,Xt,ln,C,Dn)}}Ir(a,re,fe,lt,Ut,bn,F,R);return;case"select":ln=re=fe=Xt=null;for(F in g)if(lt=g[F],g.hasOwnProperty(F)&&lt!=null)switch(F){case"value":break;case"multiple":ln=lt;default:C.hasOwnProperty(F)||Qa(a,u,F,null,C,lt)}for(R in C)if(F=C[R],lt=g[R],C.hasOwnProperty(R)&&(F!=null||lt!=null))switch(R){case"value":Xt=F;break;case"defaultValue":fe=F;break;case"multiple":re=F;default:F!==lt&&Qa(a,u,R,F,C,lt)}u=fe,g=re,C=ln,Xt!=null?ni(a,!!g,Xt,!1):!!C!=!!g&&(u!=null?ni(a,!!g,u,!0):ni(a,!!g,g?[]:"",!1));return;case"textarea":ln=Xt=null;for(fe in g)if(R=g[fe],g.hasOwnProperty(fe)&&R!=null&&!C.hasOwnProperty(fe))switch(fe){case"value":break;case"children":break;default:Qa(a,u,fe,null,C,R)}for(re in C)if(R=C[re],F=g[re],C.hasOwnProperty(re)&&(R!=null||F!=null))switch(re){case"value":Xt=R;break;case"defaultValue":ln=R;break;case"children":break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(x(91));break;default:R!==F&&Qa(a,u,re,R,C,F)}Jr(a,Xt,ln);return;case"option":for(var es in g)Xt=g[es],g.hasOwnProperty(es)&&Xt!=null&&!C.hasOwnProperty(es)&&(es==="selected"?a.selected=!1:Qa(a,u,es,null,C,Xt));for(lt in C)Xt=C[lt],ln=g[lt],C.hasOwnProperty(lt)&&Xt!==ln&&(Xt!=null||ln!=null)&&(lt==="selected"?a.selected=Xt&&typeof Xt!="function"&&typeof Xt!="symbol":Qa(a,u,lt,Xt,C,ln));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Os in g)Xt=g[Os],g.hasOwnProperty(Os)&&Xt!=null&&!C.hasOwnProperty(Os)&&Qa(a,u,Os,null,C,Xt);for(Ut in C)if(Xt=C[Ut],ln=g[Ut],C.hasOwnProperty(Ut)&&Xt!==ln&&(Xt!=null||ln!=null))switch(Ut){case"children":case"dangerouslySetInnerHTML":if(Xt!=null)throw Error(x(137,u));break;default:Qa(a,u,Ut,Xt,C,ln)}return;default:if(Ef(u)){for(var fi in g)Xt=g[fi],g.hasOwnProperty(fi)&&Xt!==void 0&&!C.hasOwnProperty(fi)&&mu(a,u,fi,void 0,C,Xt);for(bn in C)Xt=C[bn],ln=g[bn],!C.hasOwnProperty(bn)||Xt===ln||Xt===void 0&&ln===void 0||mu(a,u,bn,Xt,C,ln);return}}for(var et in g)Xt=g[et],g.hasOwnProperty(et)&&Xt!=null&&!C.hasOwnProperty(et)&&Qa(a,u,et,null,C,Xt);for(Dn in C)Xt=C[Dn],ln=g[Dn],!C.hasOwnProperty(Dn)||Xt===ln||Xt==null&&ln==null||Qa(a,u,Dn,Xt,C,ln)}function df(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ny(){if(typeof performance.getEntriesByType=="function"){for(var a=0,u=0,g=performance.getEntriesByType("resource"),C=0;C<g.length;C++){var R=g[C],F=R.transferSize,re=R.initiatorType,fe=R.duration;if(F&&fe&&df(re)){for(re=0,fe=R.responseEnd,C+=1;C<g.length;C++){var lt=g[C],Ut=lt.startTime;if(Ut>fe)break;var bn=lt.transferSize,Dn=lt.initiatorType;bn&&df(Dn)&&(lt=lt.responseEnd,re+=bn*(lt<fe?1:(fe-Ut)/(lt-Ut)))}if(--C,u+=8*(F+re)/(R.duration/1e3),a++,10<a)break}}if(0<a)return u/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Uh=null,qm=null;function Hg(a){return a.nodeType===9?a:a.ownerDocument}function My(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xb(a,u){if(a===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&u==="foreignObject"?0:a}function Zh(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Gm=null;function Wv(){var a=window.event;return a&&a.type==="popstate"?a===Gm?!1:(Gm=a,!0):(Gm=null,!1)}var t1=typeof setTimeout=="function"?setTimeout:void 0,qv=typeof clearTimeout=="function"?clearTimeout:void 0,Gv=typeof Promise=="function"?Promise:void 0,hl=typeof queueMicrotask=="function"?queueMicrotask:typeof Gv<"u"?function(a){return Gv.resolve(null).then(a).catch(zg)}:t1;function zg(a){setTimeout(function(){throw a})}function id(a){return a==="head"}function Kv(a,u){var g=u,C=0;do{var R=g.nextSibling;if(a.removeChild(g),R&&R.nodeType===8)if(g=R.data,g==="/$"||g==="/&"){if(C===0){a.removeChild(R),n0(u);return}C--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")C++;else if(g==="html")Km(a.ownerDocument.documentElement);else if(g==="head"){g=a.ownerDocument.head,Km(g);for(var F=g.firstChild;F;){var re=F.nextSibling,fe=F.nodeName;F[To]||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&F.rel.toLowerCase()==="stylesheet"||g.removeChild(F),F=re}}else g==="body"&&Km(a.ownerDocument.body);g=R}while(g);n0(u)}function wb(a,u){var g=a;a=0;do{var C=g.nextSibling;if(g.nodeType===1?u?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(u?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),C&&C.nodeType===8)if(g=C.data,g==="/$"){if(a===0)break;a--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||a++;g=C}while(g)}function Cb(a){var u=a.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var g=u;switch(u=u.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":Cb(g),co(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}a.removeChild(g)}}function Sb(a,u,g,C){for(;a.nodeType===1;){var R=g;if(a.nodeName.toLowerCase()!==u.toLowerCase()){if(!C&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(C){if(!a[To])switch(u){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(F=a.getAttribute("rel"),F==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(F!==R.rel||a.getAttribute("href")!==(R.href==null||R.href===""?null:R.href)||a.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin)||a.getAttribute("title")!==(R.title==null?null:R.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(F=a.getAttribute("src"),(F!==(R.src==null?null:R.src)||a.getAttribute("type")!==(R.type==null?null:R.type)||a.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin))&&F&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(u==="input"&&a.type==="hidden"){var F=R.name==null?null:""+R.name;if(R.type==="hidden"&&a.getAttribute("name")===F)return a}else return a;if(a=Kr(a.nextSibling),a===null)break}return null}function By(a,u,g){if(u==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!g||(a=Kr(a.nextSibling),a===null))return null;return a}function Yv(a,u){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Kr(a.nextSibling),a===null))return null;return a}function Xv(a){return a.data==="$?"||a.data==="$~"}function Kp(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function Qi(a,u){var g=a.ownerDocument;if(a.data==="$~")a._reactRetry=u;else if(a.data!=="$?"||g.readyState!=="loading")u();else{var C=function(){u(),g.removeEventListener("DOMContentLoaded",C)};g.addEventListener("DOMContentLoaded",C),a._reactRetry=C}}function Kr(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return a}var Al=null;function kl(a){a=a.nextSibling;for(var u=0;a;){if(a.nodeType===8){var g=a.data;if(g==="/$"||g==="/&"){if(u===0)return Kr(a.nextSibling);u--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||u++}a=a.nextSibling}return null}function ya(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var g=a.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(u===0)return a;u--}else g!=="/$"&&g!=="/&"||u++}a=a.previousSibling}return null}function _i(a,u,g){switch(u=Hg(g),a){case"html":if(a=u.documentElement,!a)throw Error(x(452));return a;case"head":if(a=u.head,!a)throw Error(x(453));return a;case"body":if(a=u.body,!a)throw Error(x(454));return a;default:throw Error(x(451))}}function Km(a){for(var u=a.attributes;u.length;)a.removeAttributeNode(u[0]);co(a)}var Id=new Map,Ly=new Set;function Eb(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var zf=Vt.d;Vt.d={f:Qv,r:Jv,D:n1,C:Ix,L:Tb,m:bm,X:Ab,S:Fy,M:o1};function Qv(){var a=zf.f(),u=jp();return a||u}function Jv(a){var u=us(a);u!==null&&u.tag===5&&u.type==="form"?Ex(u):zf.r(a)}var Wh=typeof document>"u"?null:document;function Py(a,u,g){var C=Wh;if(C&&typeof u=="string"&&u){var R=wi(u);R='link[rel="'+a+'"][href="'+R+'"]',typeof g=="string"&&(R+='[crossorigin="'+g+'"]'),Ly.has(R)||(Ly.add(R),a={rel:a,crossOrigin:g,href:u},C.querySelector(R)===null&&(u=C.createElement("link"),Xi(u,"link",a),me(u),C.head.appendChild(u)))}}function n1(a){zf.D(a),Py("dns-prefetch",a,null)}function Ix(a,u){zf.C(a,u),Py("preconnect",a,u)}function Tb(a,u,g){zf.L(a,u,g);var C=Wh;if(C&&a&&u){var R='link[rel="preload"][as="'+wi(u)+'"]';u==="image"&&g&&g.imageSrcSet?(R+='[imagesrcset="'+wi(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(R+='[imagesizes="'+wi(g.imageSizes)+'"]')):R+='[href="'+wi(a)+'"]';var F=R;switch(u){case"style":F=Ym(a);break;case"script":F=Vf(a)}Id.has(F)||(a=ne({rel:"preload",href:u==="image"&&g&&g.imageSrcSet?void 0:a,as:u},g),Id.set(F,a),C.querySelector(R)!==null||u==="style"&&C.querySelector(jg(F))||u==="script"&&C.querySelector(Il(F))||(u=C.createElement("link"),Xi(u,"link",a),me(u),C.head.appendChild(u)))}}function bm(a,u){zf.m(a,u);var g=Wh;if(g&&a){var C=u&&typeof u.as=="string"?u.as:"script",R='link[rel="modulepreload"][as="'+wi(C)+'"][href="'+wi(a)+'"]',F=R;switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":F=Vf(a)}if(!Id.has(F)&&(a=ne({rel:"modulepreload",href:a},u),Id.set(F,a),g.querySelector(R)===null)){switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Il(F)))return}C=g.createElement("link"),Xi(C,"link",a),me(C),g.head.appendChild(C)}}}function Fy(a,u,g){zf.S(a,u,g);var C=Wh;if(C&&a){var R=Qs(C).hoistableStyles,F=Ym(a);u=u||"default";var re=R.get(F);if(!re){var fe={loading:0,preload:null};if(re=C.querySelector(jg(F)))fe.loading=5;else{a=ne({rel:"stylesheet",href:a,"data-precedence":u},g),(g=Id.get(F))&&_t(a,g);var lt=re=C.createElement("link");me(lt),Xi(lt,"link",a),lt._p=new Promise(function(Ut,bn){lt.onload=Ut,lt.onerror=bn}),lt.addEventListener("load",function(){fe.loading|=1}),lt.addEventListener("error",function(){fe.loading|=2}),fe.loading|=4,qh(re,u,C)}re={type:"stylesheet",instance:re,count:1,state:fe},R.set(F,re)}}}function Ab(a,u){zf.X(a,u);var g=Wh;if(g&&a){var C=Qs(g).hoistableScripts,R=Vf(a),F=C.get(R);F||(F=g.querySelector(Il(R)),F||(a=ne({src:a,async:!0},u),(u=Id.get(R))&&Yp(a,u),F=g.createElement("script"),me(F),Xi(F,"link",a),g.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},C.set(R,F))}}function o1(a,u){zf.M(a,u);var g=Wh;if(g&&a){var C=Qs(g).hoistableScripts,R=Vf(a),F=C.get(R);F||(F=g.querySelector(Il(R)),F||(a=ne({src:a,async:!0,type:"module"},u),(u=Id.get(R))&&Yp(a,u),F=g.createElement("script"),me(F),Xi(F,"link",a),g.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},C.set(R,F))}}function Vg(a,u,g,C){var R=(R=Ze.current)?Eb(R):null;if(!R)throw Error(x(446));switch(a){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(u=Ym(g.href),g=Qs(R).hoistableStyles,C=g.get(u),C||(C={type:"style",instance:null,count:0,state:null},g.set(u,C)),C):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){a=Ym(g.href);var F=Qs(R).hoistableStyles,re=F.get(a);if(re||(R=R.ownerDocument||R,re={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},F.set(a,re),(F=R.querySelector(jg(a)))&&!F._p&&(re.instance=F,re.state.loading=5),Id.has(a)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Id.set(a,g),F||$y(R,a,g,re.state))),u&&C===null)throw Error(x(528,""));return re}if(u&&C!==null)throw Error(x(529,""));return null;case"script":return u=g.async,g=g.src,typeof g=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Vf(g),g=Qs(R).hoistableScripts,C=g.get(u),C||(C={type:"script",instance:null,count:0,state:null},g.set(u,C)),C):{type:"void",instance:null,count:0,state:null};default:throw Error(x(444,a))}}function Ym(a){return'href="'+wi(a)+'"'}function jg(a){return'link[rel="stylesheet"]['+a+"]"}function s1(a){return ne({},a,{"data-precedence":a.precedence,precedence:null})}function $y(a,u,g,C){a.querySelector('link[rel="preload"][as="style"]['+u+"]")?C.loading=1:(u=a.createElement("link"),C.preload=u,u.addEventListener("load",function(){return C.loading|=1}),u.addEventListener("error",function(){return C.loading|=2}),Xi(u,"link",g),me(u),a.head.appendChild(u))}function Vf(a){return'[src="'+wi(a)+'"]'}function Il(a){return"script[async]"+a}function oc(a,u,g){if(u.count++,u.instance===null)switch(u.type){case"style":var C=a.querySelector('style[data-href~="'+wi(g.href)+'"]');if(C)return u.instance=C,me(C),C;var R=ne({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return C=(a.ownerDocument||a).createElement("style"),me(C),Xi(C,"style",R),qh(C,g.precedence,a),u.instance=C;case"stylesheet":R=Ym(g.href);var F=a.querySelector(jg(R));if(F)return u.state.loading|=4,u.instance=F,me(F),F;C=s1(g),(R=Id.get(R))&&_t(C,R),F=(a.ownerDocument||a).createElement("link"),me(F);var re=F;return re._p=new Promise(function(fe,lt){re.onload=fe,re.onerror=lt}),Xi(F,"link",C),u.state.loading|=4,qh(F,g.precedence,a),u.instance=F;case"script":return F=Vf(g.src),(R=a.querySelector(Il(F)))?(u.instance=R,me(R),R):(C=g,(R=Id.get(F))&&(C=ne({},g),Yp(C,R)),a=a.ownerDocument||a,R=a.createElement("script"),me(R),Xi(R,"link",C),a.head.appendChild(R),u.instance=R);case"void":return null;default:throw Error(x(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(C=u.instance,u.state.loading|=4,qh(C,g.precedence,a));return u.instance}function qh(a,u,g){for(var C=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),R=C.length?C[C.length-1]:null,F=R,re=0;re<C.length;re++){var fe=C[re];if(fe.dataset.precedence===u)F=fe;else if(F!==R)break}F?F.parentNode.insertBefore(a,F.nextSibling):(u=g.nodeType===9?g.head:g,u.insertBefore(a,u.firstChild))}function _t(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.title==null&&(a.title=u.title)}function Yp(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.integrity==null&&(a.integrity=u.integrity)}var Iy=null;function Fc(a,u,g){if(Iy===null){var C=new Map,R=Iy=new Map;R.set(g,C)}else R=Iy,C=R.get(g),C||(C=new Map,R.set(g,C));if(C.has(a))return C;for(C.set(a,null),g=g.getElementsByTagName(a),R=0;R<g.length;R++){var F=g[R];if(!(F[To]||F[er]||a==="link"&&F.getAttribute("rel")==="stylesheet")&&F.namespaceURI!=="http://www.w3.org/2000/svg"){var re=F.getAttribute(u)||"";re=a+re;var fe=C.get(re);fe?fe.push(F):C.set(re,[F])}}return C}function Xp(a,u,g){a=a.ownerDocument||a,a.head.insertBefore(g,u==="title"?a.querySelector("head > title"):null)}function ym(a,u,g){if(g===1||u.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;return u.rel==="stylesheet"?(a=u.disabled,typeof u.precedence=="string"&&a==null):!0;case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function Hy(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function e2(a,u,g,C){if(g.type==="stylesheet"&&(typeof C.media!="string"||matchMedia(C.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var R=Ym(C.href),F=u.querySelector(jg(R));if(F){u=F._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(a.count++,a=jf.bind(a),u.then(a,a)),g.state.loading|=4,g.instance=F,me(F);return}F=u.ownerDocument||u,C=s1(C),(R=Id.get(R))&&_t(C,R),F=F.createElement("link"),me(F);var re=F;re._p=new Promise(function(fe,lt){re.onload=fe,re.onerror=lt}),Xi(F,"link",C),g.instance=F}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(g,u),(u=g.state.preload)&&(g.state.loading&3)===0&&(a.count++,g=jf.bind(a),u.addEventListener("load",g),u.addEventListener("error",g))}}var Gh=0;function kb(a,u){return a.stylesheets&&a.count===0&&zy(a,a.stylesheets),0<a.count||0<a.imgCount?function(g){var C=setTimeout(function(){if(a.stylesheets&&zy(a,a.stylesheets),a.unsuspend){var F=a.unsuspend;a.unsuspend=null,F()}},6e4+u);0<a.imgBytes&&Gh===0&&(Gh=62500*Ny());var R=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&zy(a,a.stylesheets),a.unsuspend)){var F=a.unsuspend;a.unsuspend=null,F()}},(a.imgBytes>Gh?50:800)+u);return a.unsuspend=g,function(){a.unsuspend=null,clearTimeout(C),clearTimeout(R)}}:null}function jf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zy(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Qp=null;function zy(a,u){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Qp=new Map,u.forEach(Ec,a),Qp=null,jf.call(a))}function Ec(a,u){if(!(u.state.loading&4)){var g=Qp.get(a);if(g)var C=g.get(null);else{g=new Map,Qp.set(a,g);for(var R=a.querySelectorAll("link[data-precedence],style[data-precedence]"),F=0;F<R.length;F++){var re=R[F];(re.nodeName==="LINK"||re.getAttribute("media")!=="not all")&&(g.set(re.dataset.precedence,re),C=re)}C&&g.set(null,C)}R=u.instance,re=R.getAttribute("data-precedence"),F=g.get(re)||C,F===C&&g.set(null,R),g.set(re,R),this.count++,C=jf.bind(this),R.addEventListener("load",C),R.addEventListener("error",C),F?F.parentNode.insertBefore(R,F.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(R,a.firstChild)),u.state.loading|=4}}var ld={$$typeof:J,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function cd(a,u,g,C,R,F,re,fe,lt){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gt(0),this.hiddenUpdates=Gt(null),this.identifierPrefix=C,this.onUncaughtError=R,this.onCaughtError=F,this.onRecoverableError=re,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=lt,this.incompleteTransitions=new Map}function Hx(a,u,g,C,R,F,re,fe,lt,Ut,bn,Dn){return a=new cd(a,u,g,re,lt,Ut,bn,Dn,fe),u=1,F===!0&&(u|=24),F=Za(3,null,null,u),a.current=F,F.stateNode=a,u=Of(),u.refCount++,a.pooledCache=u,u.refCount++,F.memoizedState={element:C,isDehydrated:g,cache:u},Td(F),a}function Jp(a){return a?(a=Fs,a):Fs}function t2(a,u,g,C,R,F){R=Jp(R),C.context===null?C.context=R:C.pendingContext=R,C=nu(u),C.payload={element:g},F=F===void 0?null:F,F!==null&&(C.callback=F),g=Nf(a,C,u),g!==null&&(od(g,a,u),kg(g,a,u))}function Db(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var g=a.retryLane;a.retryLane=g!==0&&g<u?g:u}}function n2(a,u){Db(a,u),(a=a.alternate)&&Db(a,u)}function o2(a){if(a.tag===13||a.tag===31){var u=Zi(a,67108864);u!==null&&od(u,a,67108864),n2(a,67108864)}}function fs(a){if(a.tag===13||a.tag===31){var u=Pd();u=ls(u);var g=Zi(a,u);g!==null&&od(g,a,u),n2(a,u)}}var so=!0;function r1(a,u,g,C){var R=P.T;P.T=null;var F=Vt.p;try{Vt.p=2,a1(a,u,g,C)}finally{Vt.p=F,P.T=R}}function Vy(a,u,g,C){var R=P.T;P.T=null;var F=Vt.p;try{Vt.p=8,a1(a,u,g,C)}finally{Vt.p=F,P.T=R}}function a1(a,u,g,C){if(so){var R=s2(C);if(R===null)Dr(a,u,C,i1,g),e0(a,C);else if(jC(R,a,u,g,C))C.stopPropagation();else if(e0(a,C),u&4&&-1<Qm.indexOf(a)){for(;R!==null;){var F=us(R);if(F!==null)switch(F.tag){case 3:if(F=F.stateNode,F.current.memoizedState.isDehydrated){var re=Oo(F.pendingLanes);if(re!==0){var fe=F;for(fe.pendingLanes|=2,fe.entangledLanes|=2;re;){var lt=1<<31-gs(re);fe.entanglements[1]|=lt,re&=~lt}uf(F),(Bs&6)===0&&(Hp=Tt()+500,J0(0))}}break;case 31:case 13:fe=Zi(F,2),fe!==null&&od(fe,F,2),jp(),n2(F,2)}if(F=s2(C),F===null&&Dr(a,u,C,i1,g),F===R)break;R=F}R!==null&&C.stopPropagation()}else Dr(a,u,C,null,g)}}function s2(a){return a=Gd(a),oa(a)}var i1=null;function oa(a){if(i1=null,a=Zo(a),a!==null){var u=N(a);if(u===null)a=null;else{var g=u.tag;if(g===13){if(a=O(u),a!==null)return a;a=null}else if(g===31){if(a=H(u),a!==null)return a;a=null}else if(g===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null)}}return i1=a,null}function _b(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sn()){case Zn:return 2;case Xo:return 8;case Jo:case ko:return 32;case mr:return 268435456;default:return 32}default:return 32}}var l1=!1,Xm=null,Mt=null,ff=null,vm=new Map,Hd=new Map,Tc=[],Qm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e0(a,u){switch(a){case"focusin":case"focusout":Xm=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":ff=null;break;case"pointerover":case"pointerout":vm.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hd.delete(u.pointerId)}}function xm(a,u,g,C,R,F){return a===null||a.nativeEvent!==F?(a={blockedOn:u,domEventName:g,eventSystemFlags:C,nativeEvent:F,targetContainers:[R]},u!==null&&(u=us(u),u!==null&&o2(u)),a):(a.eventSystemFlags|=C,u=a.targetContainers,R!==null&&u.indexOf(R)===-1&&u.push(R),a)}function jC(a,u,g,C,R){switch(u){case"focusin":return Xm=xm(Xm,a,u,g,C,R),!0;case"dragenter":return Mt=xm(Mt,a,u,g,C,R),!0;case"mouseover":return ff=xm(ff,a,u,g,C,R),!0;case"pointerover":var F=R.pointerId;return vm.set(F,xm(vm.get(F)||null,a,u,g,C,R)),!0;case"gotpointercapture":return F=R.pointerId,Hd.set(F,xm(Hd.get(F)||null,a,u,g,C,R)),!0}return!1}function t0(a){var u=Zo(a.target);if(u!==null){var g=N(u);if(g!==null){if(u=g.tag,u===13){if(u=O(g),u!==null){a.blockedOn=u,hi(a.priority,function(){fs(g)});return}}else if(u===31){if(u=H(g),u!==null){a.blockedOn=u,hi(a.priority,function(){fs(g)});return}}else if(u===3&&g.stateNode.current.memoizedState.isDehydrated){a.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Lr(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var g=s2(a.nativeEvent);if(g===null){g=a.nativeEvent;var C=new g.constructor(g.type,g);qr=C,g.target.dispatchEvent(C),qr=null}else return u=us(g),u!==null&&o2(u),a.blockedOn=g,!1;u.shift()}return!0}function mf(a,u,g){Lr(a)&&g.delete(u)}function r2(){l1=!1,Xm!==null&&Lr(Xm)&&(Xm=null),Mt!==null&&Lr(Mt)&&(Mt=null),ff!==null&&Lr(ff)&&(ff=null),vm.forEach(mf),Hd.forEach(mf)}function wm(a,u){a.blockedOn===u&&(a.blockedOn=null,l1||(l1=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,r2)))}var zd=null;function sc(a){zd!==a&&(zd=a,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){zd===a&&(zd=null);for(var u=0;u<a.length;u+=3){var g=a[u],C=a[u+1],R=a[u+2];if(typeof C!="function"){if(oa(C||g)===null)continue;break}var F=us(g);F!==null&&(a.splice(u,3),u-=3,Xu(F,{pending:!0,data:R,method:g.method,action:C},C,R))}}))}function n0(a){function u(lt){return wm(lt,a)}Xm!==null&&wm(Xm,a),Mt!==null&&wm(Mt,a),ff!==null&&wm(ff,a),vm.forEach(u),Hd.forEach(u);for(var g=0;g<Tc.length;g++){var C=Tc[g];C.blockedOn===a&&(C.blockedOn=null)}for(;0<Tc.length&&(g=Tc[0],g.blockedOn===null);)t0(g),g.blockedOn===null&&Tc.shift();if(g=(a.ownerDocument||a).$$reactFormReplay,g!=null)for(C=0;C<g.length;C+=3){var R=g[C],F=g[C+1],re=R[tr]||null;if(typeof F=="function")re||sc(g);else if(re){var fe=null;if(F&&F.hasAttribute("formAction")){if(R=F,re=F[tr]||null)fe=re.formAction;else if(oa(R)!==null)continue}else fe=re.action;typeof fe=="function"?g[C+1]=fe:(g.splice(C,3),C-=3),sc(g)}}}function jy(){function a(F){F.canIntercept&&F.info==="react-transition"&&F.intercept({handler:function(){return new Promise(function(re){return R=re})},focusReset:"manual",scroll:"manual"})}function u(){R!==null&&(R(),R=null),C||setTimeout(g,20)}function g(){if(!C&&!navigation.transition){var F=navigation.currentEntry;F&&F.url!=null&&navigation.navigate(F.url,{state:F.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var C=!1,R=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(g,100),function(){C=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),R!==null&&(R(),R=null)}}}function Uy(a){this._internalRoot=a}Zy.prototype.render=Uy.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(x(409));var g=u.current,C=Pd();t2(g,C,a,u,null,null)},Zy.prototype.unmount=Uy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;t2(a.current,2,null,a,null,null),jp(),u[Vl]=null}};function Zy(a){this._internalRoot=a}Zy.prototype.unstable_scheduleHydration=function(a){if(a){var u=ol();a={blockedOn:null,target:a,priority:u};for(var g=0;g<Tc.length&&u!==0&&u<Tc[g].priority;g++);Tc.splice(g,0,a),g===0&&t0(a)}};var zx=d.version;if(zx!=="19.2.3")throw Error(x(527,zx,"19.2.3"));Vt.findDOMNode=function(a){var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(x(188)):(a=Object.keys(a).join(","),Error(x(268,a)));return a=V(u),a=a!==null?Y(a):null,a=a===null?null:a.stateNode,a};var a2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ob=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ob.isDisabled&&Ob.supportsFiber)try{Vs=Ob.inject(a2),Ss=Ob}catch{}}return HM.createRoot=function(a,u){if(!A(a))throw Error(x(299));var g=!1,C="",R=Rd,F=V0,re=j0;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(C=u.identifierPrefix),u.onUncaughtError!==void 0&&(R=u.onUncaughtError),u.onCaughtError!==void 0&&(F=u.onCaughtError),u.onRecoverableError!==void 0&&(re=u.onRecoverableError)),u=Hx(a,1,!1,null,null,g,C,null,R,F,re,jy),a[Vl]=u.current,Pc(a),new Uy(u)},HM.hydrateRoot=function(a,u,g){if(!A(a))throw Error(x(299));var C=!1,R="",F=Rd,re=V0,fe=j0,lt=null;return g!=null&&(g.unstable_strictMode===!0&&(C=!0),g.identifierPrefix!==void 0&&(R=g.identifierPrefix),g.onUncaughtError!==void 0&&(F=g.onUncaughtError),g.onCaughtError!==void 0&&(re=g.onCaughtError),g.onRecoverableError!==void 0&&(fe=g.onRecoverableError),g.formState!==void 0&&(lt=g.formState)),u=Hx(a,1,!0,u,g??null,C,R,lt,F,re,fe,jy),u.context=Jp(null),g=u.current,C=Pd(),C=ls(C),R=nu(C),R.callback=null,Nf(g,R,C),g=C,u.current.lanes=g,Yn(u,g),uf(u),a[Vl]=u.current,Pc(a),new Zy(u)},HM.version="19.2.3",HM}var Eoe;function Iue(){if(Eoe)return VJ.exports;Eoe=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(d){console.error(d)}}return c(),VJ.exports=$ue(),VJ.exports}var Hue=Iue();const zue=sie(Hue);var Toe="popstate";function Vue(c={}){function d(x,A){let{pathname:N,search:O,hash:H}=x.location;return See("",{pathname:N,search:O,hash:H},A.state&&A.state.usr||null,A.state&&A.state.key||"default")}function p(x,A){return typeof A=="string"?A:XM(A)}return Uue(d,p,null,c)}function Zc(c,d){if(c===!1||c===null||typeof c>"u")throw new Error(d)}function H1(c,d){if(!c){typeof console<"u"&&console.warn(d);try{throw new Error(d)}catch{}}}function jue(){return Math.random().toString(36).substring(2,10)}function Aoe(c,d){return{usr:c.state,key:c.key,idx:d}}function See(c,d,p=null,x){return{pathname:typeof c=="string"?c:c.pathname,search:"",hash:"",...typeof d=="string"?q3(d):d,state:p,key:d&&d.key||x||jue()}}function XM({pathname:c="/",search:d="",hash:p=""}){return d&&d!=="?"&&(c+=d.charAt(0)==="?"?d:"?"+d),p&&p!=="#"&&(c+=p.charAt(0)==="#"?p:"#"+p),c}function q3(c){let d={};if(c){let p=c.indexOf("#");p>=0&&(d.hash=c.substring(p),c=c.substring(0,p));let x=c.indexOf("?");x>=0&&(d.search=c.substring(x),c=c.substring(0,x)),c&&(d.pathname=c)}return d}function Uue(c,d,p,x={}){let{window:A=document.defaultView,v5Compat:N=!1}=x,O=A.history,H="POP",U=null,V=Y();V==null&&(V=0,O.replaceState({...O.state,idx:V},""));function Y(){return(O.state||{idx:null}).idx}function ne(){H="POP";let ve=Y(),ct=ve==null?null:ve-V;V=ve,U&&U({action:H,location:$e.location,delta:ct})}function ue(ve,ct){H="PUSH";let Ue=See($e.location,ve,ct);V=Y()+1;let J=Aoe(Ue,V),vt=$e.createHref(Ue);try{O.pushState(J,"",vt)}catch(en){if(en instanceof DOMException&&en.name==="DataCloneError")throw en;A.location.assign(vt)}N&&U&&U({action:H,location:$e.location,delta:1})}function we(ve,ct){H="REPLACE";let Ue=See($e.location,ve,ct);V=Y();let J=Aoe(Ue,V),vt=$e.createHref(Ue);O.replaceState(J,"",vt),N&&U&&U({action:H,location:$e.location,delta:0})}function Ee(ve){return Zue(ve)}let $e={get action(){return H},get location(){return c(A,O)},listen(ve){if(U)throw new Error("A history only accepts one active listener");return A.addEventListener(Toe,ne),U=ve,()=>{A.removeEventListener(Toe,ne),U=null}},createHref(ve){return d(A,ve)},createURL:Ee,encodeLocation(ve){let ct=Ee(ve);return{pathname:ct.pathname,search:ct.search,hash:ct.hash}},push:ue,replace:we,go(ve){return O.go(ve)}};return $e}function Zue(c,d=!1){let p="http://localhost";typeof window<"u"&&(p=window.location.origin!=="null"?window.location.origin:window.location.href),Zc(p,"No window.location.(origin|href) available to create URL");let x=typeof c=="string"?c:XM(c);return x=x.replace(/ $/,"%20"),!d&&x.startsWith("//")&&(x=p+x),new URL(x,p)}function rie(c,d,p="/"){return Wue(c,d,p,!1)}function Wue(c,d,p,x){let A=typeof d=="string"?q3(d):d,N=vx(A.pathname||"/",p);if(N==null)return null;let O=aie(c);que(O);let H=null;for(let U=0;H==null&&U<O.length;++U){let V=sde(N);H=nde(O[U],V,x)}return H}function aie(c,d=[],p=[],x="",A=!1){let N=(O,H,U=A,V)=>{let Y={relativePath:V===void 0?O.path||"":V,caseSensitive:O.caseSensitive===!0,childrenIndex:H,route:O};if(Y.relativePath.startsWith("/")){if(!Y.relativePath.startsWith(x)&&U)return;Zc(Y.relativePath.startsWith(x),`Absolute route path "${Y.relativePath}" nested under path "${x}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),Y.relativePath=Y.relativePath.slice(x.length)}let ne=px([x,Y.relativePath]),ue=p.concat(Y);O.children&&O.children.length>0&&(Zc(O.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${ne}".`),aie(O.children,d,ue,ne,U)),!(O.path==null&&!O.index)&&d.push({path:ne,score:ede(ne,O.index),routesMeta:ue})};return c.forEach((O,H)=>{if(O.path===""||!O.path?.includes("?"))N(O,H);else for(let U of iie(O.path))N(O,H,!0,U)}),d}function iie(c){let d=c.split("/");if(d.length===0)return[];let[p,...x]=d,A=p.endsWith("?"),N=p.replace(/\?$/,"");if(x.length===0)return A?[N,""]:[N];let O=iie(x.join("/")),H=[];return H.push(...O.map(U=>U===""?N:[N,U].join("/"))),A&&H.push(...O),H.map(U=>c.startsWith("/")&&U===""?"/":U)}function que(c){c.sort((d,p)=>d.score!==p.score?p.score-d.score:tde(d.routesMeta.map(x=>x.childrenIndex),p.routesMeta.map(x=>x.childrenIndex)))}var Gue=/^:[\w-]+$/,Kue=3,Yue=2,Xue=1,Que=10,Jue=-2,koe=c=>c==="*";function ede(c,d){let p=c.split("/"),x=p.length;return p.some(koe)&&(x+=Jue),d&&(x+=Yue),p.filter(A=>!koe(A)).reduce((A,N)=>A+(Gue.test(N)?Kue:N===""?Xue:Que),x)}function tde(c,d){return c.length===d.length&&c.slice(0,-1).every((x,A)=>x===d[A])?c[c.length-1]-d[d.length-1]:0}function nde(c,d,p=!1){let{routesMeta:x}=c,A={},N="/",O=[];for(let H=0;H<x.length;++H){let U=x[H],V=H===x.length-1,Y=N==="/"?d:d.slice(N.length)||"/",ne=WH({path:U.relativePath,caseSensitive:U.caseSensitive,end:V},Y),ue=U.route;if(!ne&&V&&p&&!x[x.length-1].route.index&&(ne=WH({path:U.relativePath,caseSensitive:U.caseSensitive,end:!1},Y)),!ne)return null;Object.assign(A,ne.params),O.push({params:A,pathname:px([N,ne.pathname]),pathnameBase:lde(px([N,ne.pathnameBase])),route:ue}),ne.pathnameBase!=="/"&&(N=px([N,ne.pathnameBase]))}return O}function WH(c,d){typeof c=="string"&&(c={path:c,caseSensitive:!1,end:!0});let[p,x]=ode(c.path,c.caseSensitive,c.end),A=d.match(p);if(!A)return null;let N=A[0],O=N.replace(/(.)\/+$/,"$1"),H=A.slice(1);return{params:x.reduce((V,{paramName:Y,isOptional:ne},ue)=>{if(Y==="*"){let Ee=H[ue]||"";O=N.slice(0,N.length-Ee.length).replace(/(.)\/+$/,"$1")}const we=H[ue];return ne&&!we?V[Y]=void 0:V[Y]=(we||"").replace(/%2F/g,"/"),V},{}),pathname:N,pathnameBase:O,pattern:c}}function ode(c,d=!1,p=!0){H1(c==="*"||!c.endsWith("*")||c.endsWith("/*"),`Route path "${c}" will be treated as if it were "${c.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${c.replace(/\*$/,"/*")}".`);let x=[],A="^"+c.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(O,H,U)=>(x.push({paramName:H,isOptional:U!=null}),U?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return c.endsWith("*")?(x.push({paramName:"*"}),A+=c==="*"||c==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):p?A+="\\/*$":c!==""&&c!=="/"&&(A+="(?:(?=\\/|$))"),[new RegExp(A,d?void 0:"i"),x]}function sde(c){try{return c.split("/").map(d=>decodeURIComponent(d).replace(/\//g,"%2F")).join("/")}catch(d){return H1(!1,`The URL path "${c}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${d}).`),c}}function vx(c,d){if(d==="/")return c;if(!c.toLowerCase().startsWith(d.toLowerCase()))return null;let p=d.endsWith("/")?d.length-1:d.length,x=c.charAt(p);return x&&x!=="/"?null:c.slice(p)||"/"}var lie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rde=c=>lie.test(c);function ade(c,d="/"){let{pathname:p,search:x="",hash:A=""}=typeof c=="string"?q3(c):c,N;if(p)if(rde(p))N=p;else{if(p.includes("//")){let O=p;p=p.replace(/\/\/+/g,"/"),H1(!1,`Pathnames cannot have embedded double slashes - normalizing ${O} -> ${p}`)}p.startsWith("/")?N=Doe(p.substring(1),"/"):N=Doe(p,d)}else N=d;return{pathname:N,search:cde(x),hash:ude(A)}}function Doe(c,d){let p=d.replace(/\/+$/,"").split("/");return c.split("/").forEach(A=>{A===".."?p.length>1&&p.pop():A!=="."&&p.push(A)}),p.length>1?p.join("/"):"/"}function WJ(c,d,p,x){return`Cannot include a '${c}' character in a manually specified \`to.${d}\` field [${JSON.stringify(x)}].  Please separate it out to the \`to.${p}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ide(c){return c.filter((d,p)=>p===0||d.route.path&&d.route.path.length>0)}function ste(c){let d=ide(c);return d.map((p,x)=>x===d.length-1?p.pathname:p.pathnameBase)}function rte(c,d,p,x=!1){let A;typeof c=="string"?A=q3(c):(A={...c},Zc(!A.pathname||!A.pathname.includes("?"),WJ("?","pathname","search",A)),Zc(!A.pathname||!A.pathname.includes("#"),WJ("#","pathname","hash",A)),Zc(!A.search||!A.search.includes("#"),WJ("#","search","hash",A)));let N=c===""||A.pathname==="",O=N?"/":A.pathname,H;if(O==null)H=p;else{let ne=d.length-1;if(!x&&O.startsWith("..")){let ue=O.split("/");for(;ue[0]==="..";)ue.shift(),ne-=1;A.pathname=ue.join("/")}H=ne>=0?d[ne]:"/"}let U=ade(A,H),V=O&&O!=="/"&&O.endsWith("/"),Y=(N||O===".")&&p.endsWith("/");return!U.pathname.endsWith("/")&&(V||Y)&&(U.pathname+="/"),U}var px=c=>c.join("/").replace(/\/\/+/g,"/"),lde=c=>c.replace(/\/+$/,"").replace(/^\/*/,"/"),cde=c=>!c||c==="?"?"":c.startsWith("?")?c:"?"+c,ude=c=>!c||c==="#"?"":c.startsWith("#")?c:"#"+c,dde=class{constructor(c,d,p,x=!1){this.status=c,this.statusText=d||"",this.internal=x,p instanceof Error?(this.data=p.toString(),this.error=p):this.data=p}};function fde(c){return c!=null&&typeof c.status=="number"&&typeof c.statusText=="string"&&typeof c.internal=="boolean"&&"data"in c}function mde(c){return c.map(d=>d.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var cie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function uie(c,d){let p=c;if(typeof p!="string"||!lie.test(p))return{absoluteURL:void 0,isExternal:!1,to:p};let x=p,A=!1;if(cie)try{let N=new URL(window.location.href),O=p.startsWith("//")?new URL(N.protocol+p):new URL(p),H=vx(O.pathname,d);O.origin===N.origin&&H!=null?p=H+O.search+O.hash:A=!0}catch{H1(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:x,isExternal:A,to:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var die=["POST","PUT","PATCH","DELETE"];new Set(die);var hde=["GET",...die];new Set(hde);var G3=Ke.createContext(null);G3.displayName="DataRouter";var uz=Ke.createContext(null);uz.displayName="DataRouterState";var gde=Ke.createContext(!1),fie=Ke.createContext({isTransitioning:!1});fie.displayName="ViewTransition";var pde=Ke.createContext(new Map);pde.displayName="Fetchers";var bde=Ke.createContext(null);bde.displayName="Await";var _0=Ke.createContext(null);_0.displayName="Navigation";var oB=Ke.createContext(null);oB.displayName="Location";var V1=Ke.createContext({outlet:null,matches:[],isDataRoute:!1});V1.displayName="Route";var ate=Ke.createContext(null);ate.displayName="RouteError";var mie="REACT_ROUTER_ERROR",yde="REDIRECT",vde="ROUTE_ERROR_RESPONSE";function xde(c){if(c.startsWith(`${mie}:${yde}:{`))try{let d=JSON.parse(c.slice(28));if(typeof d=="object"&&d&&typeof d.status=="number"&&typeof d.statusText=="string"&&typeof d.location=="string"&&typeof d.reloadDocument=="boolean"&&typeof d.replace=="boolean")return d}catch{}}function wde(c){if(c.startsWith(`${mie}:${vde}:{`))try{let d=JSON.parse(c.slice(40));if(typeof d=="object"&&d&&typeof d.status=="number"&&typeof d.statusText=="string")return new dde(d.status,d.statusText,d.data)}catch{}}function Cde(c,{relative:d}={}){Zc(K3(),"useHref() may be used only in the context of a <Router> component.");let{basename:p,navigator:x}=Ke.useContext(_0),{hash:A,pathname:N,search:O}=sB(c,{relative:d}),H=N;return p!=="/"&&(H=N==="/"?p:px([p,N])),x.createHref({pathname:H,search:O,hash:A})}function K3(){return Ke.useContext(oB)!=null}function wx(){return Zc(K3(),"useLocation() may be used only in the context of a <Router> component."),Ke.useContext(oB).location}var hie="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gie(c){Ke.useContext(_0).static||Ke.useLayoutEffect(c)}function Y3(){let{isDataRoute:c}=Ke.useContext(V1);return c?$de():Sde()}function Sde(){Zc(K3(),"useNavigate() may be used only in the context of a <Router> component.");let c=Ke.useContext(G3),{basename:d,navigator:p}=Ke.useContext(_0),{matches:x}=Ke.useContext(V1),{pathname:A}=wx(),N=JSON.stringify(ste(x)),O=Ke.useRef(!1);return gie(()=>{O.current=!0}),Ke.useCallback((U,V={})=>{if(H1(O.current,hie),!O.current)return;if(typeof U=="number"){p.go(U);return}let Y=rte(U,JSON.parse(N),A,V.relative==="path");c==null&&d!=="/"&&(Y.pathname=Y.pathname==="/"?d:px([d,Y.pathname])),(V.replace?p.replace:p.push)(Y,V.state,V)},[d,p,N,A,c])}var Ede=Ke.createContext(null);function Tde(c){let d=Ke.useContext(V1).outlet;return Ke.useMemo(()=>d&&Ke.createElement(Ede.Provider,{value:c},d),[d,c])}function Ade(){let{matches:c}=Ke.useContext(V1),d=c[c.length-1];return d?d.params:{}}function sB(c,{relative:d}={}){let{matches:p}=Ke.useContext(V1),{pathname:x}=wx(),A=JSON.stringify(ste(p));return Ke.useMemo(()=>rte(c,JSON.parse(A),x,d==="path"),[c,A,x,d])}function kde(c,d){return pie(c,d)}function pie(c,d,p,x,A){Zc(K3(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:N}=Ke.useContext(_0),{matches:O}=Ke.useContext(V1),H=O[O.length-1],U=H?H.params:{},V=H?H.pathname:"/",Y=H?H.pathnameBase:"/",ne=H&&H.route;{let Ue=ne&&ne.path||"";yie(V,!ne||Ue.endsWith("*")||Ue.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${V}" (under <Route path="${Ue}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Ue}"> to <Route path="${Ue==="/"?"*":`${Ue}/*`}">.`)}let ue=wx(),we;if(d){let Ue=typeof d=="string"?q3(d):d;Zc(Y==="/"||Ue.pathname?.startsWith(Y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${Y}" but pathname "${Ue.pathname}" was given in the \`location\` prop.`),we=Ue}else we=ue;let Ee=we.pathname||"/",$e=Ee;if(Y!=="/"){let Ue=Y.replace(/^\//,"").split("/");$e="/"+Ee.replace(/^\//,"").split("/").slice(Ue.length).join("/")}let ve=rie(c,{pathname:$e});H1(ne||ve!=null,`No routes matched location "${we.pathname}${we.search}${we.hash}" `),H1(ve==null||ve[ve.length-1].route.element!==void 0||ve[ve.length-1].route.Component!==void 0||ve[ve.length-1].route.lazy!==void 0,`Matched leaf route at location "${we.pathname}${we.search}${we.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ct=Nde(ve&&ve.map(Ue=>Object.assign({},Ue,{params:Object.assign({},U,Ue.params),pathname:px([Y,N.encodeLocation?N.encodeLocation(Ue.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Ue.pathname]),pathnameBase:Ue.pathnameBase==="/"?Y:px([Y,N.encodeLocation?N.encodeLocation(Ue.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Ue.pathnameBase])})),O,p,x,A);return d&&ct?Ke.createElement(oB.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...we},navigationType:"POP"}},ct):ct}function Dde(){let c=Fde(),d=fde(c)?`${c.status} ${c.statusText}`:c instanceof Error?c.message:JSON.stringify(c),p=c instanceof Error?c.stack:null,x="rgba(200,200,200, 0.5)",A={padding:"0.5rem",backgroundColor:x},N={padding:"2px 4px",backgroundColor:x},O=null;return console.error("Error handled by React Router default ErrorBoundary:",c),O=Ke.createElement(Ke.Fragment,null,Ke.createElement("p",null," Hey developer "),Ke.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Ke.createElement("code",{style:N},"ErrorBoundary")," or"," ",Ke.createElement("code",{style:N},"errorElement")," prop on your route.")),Ke.createElement(Ke.Fragment,null,Ke.createElement("h2",null,"Unexpected Application Error!"),Ke.createElement("h3",{style:{fontStyle:"italic"}},d),p?Ke.createElement("pre",{style:A},p):null,O)}var _de=Ke.createElement(Dde,null),bie=class extends Ke.Component{constructor(c){super(c),this.state={location:c.location,revalidation:c.revalidation,error:c.error}}static getDerivedStateFromError(c){return{error:c}}static getDerivedStateFromProps(c,d){return d.location!==c.location||d.revalidation!=="idle"&&c.revalidation==="idle"?{error:c.error,location:c.location,revalidation:c.revalidation}:{error:c.error!==void 0?c.error:d.error,location:d.location,revalidation:c.revalidation||d.revalidation}}componentDidCatch(c,d){this.props.onError?this.props.onError(c,d):console.error("React Router caught the following error during render",c)}render(){let c=this.state.error;if(this.context&&typeof c=="object"&&c&&"digest"in c&&typeof c.digest=="string"){const p=wde(c.digest);p&&(c=p)}let d=c!==void 0?Ke.createElement(V1.Provider,{value:this.props.routeContext},Ke.createElement(ate.Provider,{value:c,children:this.props.component})):this.props.children;return this.context?Ke.createElement(Ode,{error:c},d):d}};bie.contextType=gde;var qJ=new WeakMap;function Ode({children:c,error:d}){let{basename:p}=Ke.useContext(_0);if(typeof d=="object"&&d&&"digest"in d&&typeof d.digest=="string"){let x=xde(d.digest);if(x){let A=qJ.get(d);if(A)throw A;let N=uie(x.location,p);if(cie&&!qJ.get(d))if(N.isExternal||x.reloadDocument)window.location.href=N.absoluteURL||N.to;else{const O=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(N.to,{replace:x.replace}));throw qJ.set(d,O),O}return Ke.createElement("meta",{httpEquiv:"refresh",content:`0;url=${N.absoluteURL||N.to}`})}}return c}function Rde({routeContext:c,match:d,children:p}){let x=Ke.useContext(G3);return x&&x.static&&x.staticContext&&(d.route.errorElement||d.route.ErrorBoundary)&&(x.staticContext._deepestRenderedBoundaryId=d.route.id),Ke.createElement(V1.Provider,{value:c},p)}function Nde(c,d=[],p=null,x=null,A=null){if(c==null){if(!p)return null;if(p.errors)c=p.matches;else if(d.length===0&&!p.initialized&&p.matches.length>0)c=p.matches;else return null}let N=c,O=p?.errors;if(O!=null){let Y=N.findIndex(ne=>ne.route.id&&O?.[ne.route.id]!==void 0);Zc(Y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(O).join(",")}`),N=N.slice(0,Math.min(N.length,Y+1))}let H=!1,U=-1;if(p)for(let Y=0;Y<N.length;Y++){let ne=N[Y];if((ne.route.HydrateFallback||ne.route.hydrateFallbackElement)&&(U=Y),ne.route.id){let{loaderData:ue,errors:we}=p,Ee=ne.route.loader&&!ue.hasOwnProperty(ne.route.id)&&(!we||we[ne.route.id]===void 0);if(ne.route.lazy||Ee){H=!0,U>=0?N=N.slice(0,U+1):N=[N[0]];break}}}let V=p&&x?(Y,ne)=>{x(Y,{location:p.location,params:p.matches?.[0]?.params??{},unstable_pattern:mde(p.matches),errorInfo:ne})}:void 0;return N.reduceRight((Y,ne,ue)=>{let we,Ee=!1,$e=null,ve=null;p&&(we=O&&ne.route.id?O[ne.route.id]:void 0,$e=ne.route.errorElement||_de,H&&(U<0&&ue===0?(yie("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Ee=!0,ve=null):U===ue&&(Ee=!0,ve=ne.route.hydrateFallbackElement||null)));let ct=d.concat(N.slice(0,ue+1)),Ue=()=>{let J;return we?J=$e:Ee?J=ve:ne.route.Component?J=Ke.createElement(ne.route.Component,null):ne.route.element?J=ne.route.element:J=Y,Ke.createElement(Rde,{match:ne,routeContext:{outlet:Y,matches:ct,isDataRoute:p!=null},children:J})};return p&&(ne.route.ErrorBoundary||ne.route.errorElement||ue===0)?Ke.createElement(bie,{location:p.location,revalidation:p.revalidation,component:$e,error:we,children:Ue(),routeContext:{outlet:null,matches:ct,isDataRoute:!0},onError:V}):Ue()},null)}function ite(c){return`${c} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mde(c){let d=Ke.useContext(G3);return Zc(d,ite(c)),d}function Bde(c){let d=Ke.useContext(uz);return Zc(d,ite(c)),d}function Lde(c){let d=Ke.useContext(V1);return Zc(d,ite(c)),d}function lte(c){let d=Lde(c),p=d.matches[d.matches.length-1];return Zc(p.route.id,`${c} can only be used on routes that contain a unique "id"`),p.route.id}function Pde(){return lte("useRouteId")}function Fde(){let c=Ke.useContext(ate),d=Bde("useRouteError"),p=lte("useRouteError");return c!==void 0?c:d.errors?.[p]}function $de(){let{router:c}=Mde("useNavigate"),d=lte("useNavigate"),p=Ke.useRef(!1);return gie(()=>{p.current=!0}),Ke.useCallback(async(A,N={})=>{H1(p.current,hie),p.current&&(typeof A=="number"?await c.navigate(A):await c.navigate(A,{fromRouteId:d,...N}))},[c,d])}var _oe={};function yie(c,d,p){!d&&!_oe[c]&&(_oe[c]=!0,H1(!1,p))}Ke.memo(Ide);function Ide({routes:c,future:d,state:p,onError:x}){return pie(c,void 0,p,x,d)}function Eee({to:c,replace:d,state:p,relative:x}){Zc(K3(),"<Navigate> may be used only in the context of a <Router> component.");let{static:A}=Ke.useContext(_0);H1(!A,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:N}=Ke.useContext(V1),{pathname:O}=wx(),H=Y3(),U=rte(c,ste(N),O,x==="path"),V=JSON.stringify(U);return Ke.useEffect(()=>{H(JSON.parse(V),{replace:d,state:p,relative:x})},[H,V,x,d,p]),null}function vie(c){return Tde(c.context)}function wf(c){Zc(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Hde({basename:c="/",children:d=null,location:p,navigationType:x="POP",navigator:A,static:N=!1,unstable_useTransitions:O}){Zc(!K3(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let H=c.replace(/^\/*/,"/"),U=Ke.useMemo(()=>({basename:H,navigator:A,static:N,unstable_useTransitions:O,future:{}}),[H,A,N,O]);typeof p=="string"&&(p=q3(p));let{pathname:V="/",search:Y="",hash:ne="",state:ue=null,key:we="default"}=p,Ee=Ke.useMemo(()=>{let $e=vx(V,H);return $e==null?null:{location:{pathname:$e,search:Y,hash:ne,state:ue,key:we},navigationType:x}},[H,V,Y,ne,ue,we,x]);return H1(Ee!=null,`<Router basename="${H}"> is not able to match the URL "${V}${Y}${ne}" because it does not start with the basename, so the <Router> won't render anything.`),Ee==null?null:Ke.createElement(_0.Provider,{value:U},Ke.createElement(oB.Provider,{children:d,value:Ee}))}function zde({children:c,location:d}){return kde(Tee(c),d)}function Tee(c,d=[]){let p=[];return Ke.Children.forEach(c,(x,A)=>{if(!Ke.isValidElement(x))return;let N=[...d,A];if(x.type===Ke.Fragment){p.push.apply(p,Tee(x.props.children,N));return}Zc(x.type===wf,`[${typeof x.type=="string"?x.type:x.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zc(!x.props.index||!x.props.children,"An index route cannot have child routes.");let O={id:x.props.id||N.join("-"),caseSensitive:x.props.caseSensitive,element:x.props.element,Component:x.props.Component,index:x.props.index,path:x.props.path,middleware:x.props.middleware,loader:x.props.loader,action:x.props.action,hydrateFallbackElement:x.props.hydrateFallbackElement,HydrateFallback:x.props.HydrateFallback,errorElement:x.props.errorElement,ErrorBoundary:x.props.ErrorBoundary,hasErrorBoundary:x.props.hasErrorBoundary===!0||x.props.ErrorBoundary!=null||x.props.errorElement!=null,shouldRevalidate:x.props.shouldRevalidate,handle:x.props.handle,lazy:x.props.lazy};x.props.children&&(O.children=Tee(x.props.children,N)),p.push(O)}),p}var FH="get",$H="application/x-www-form-urlencoded";function dz(c){return typeof HTMLElement<"u"&&c instanceof HTMLElement}function Vde(c){return dz(c)&&c.tagName.toLowerCase()==="button"}function jde(c){return dz(c)&&c.tagName.toLowerCase()==="form"}function Ude(c){return dz(c)&&c.tagName.toLowerCase()==="input"}function Zde(c){return!!(c.metaKey||c.altKey||c.ctrlKey||c.shiftKey)}function Wde(c,d){return c.button===0&&(!d||d==="_self")&&!Zde(c)}var DH=null;function qde(){if(DH===null)try{new FormData(document.createElement("form"),0),DH=!1}catch{DH=!0}return DH}var Gde=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function GJ(c){return c!=null&&!Gde.has(c)?(H1(!1,`"${c}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$H}"`),null):c}function Kde(c,d){let p,x,A,N,O;if(jde(c)){let H=c.getAttribute("action");x=H?vx(H,d):null,p=c.getAttribute("method")||FH,A=GJ(c.getAttribute("enctype"))||$H,N=new FormData(c)}else if(Vde(c)||Ude(c)&&(c.type==="submit"||c.type==="image")){let H=c.form;if(H==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let U=c.getAttribute("formaction")||H.getAttribute("action");if(x=U?vx(U,d):null,p=c.getAttribute("formmethod")||H.getAttribute("method")||FH,A=GJ(c.getAttribute("formenctype"))||GJ(H.getAttribute("enctype"))||$H,N=new FormData(H,c),!qde()){let{name:V,type:Y,value:ne}=c;if(Y==="image"){let ue=V?`${V}.`:"";N.append(`${ue}x`,"0"),N.append(`${ue}y`,"0")}else V&&N.append(V,ne)}}else{if(dz(c))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');p=FH,x=null,A=$H,O=c}return N&&A==="text/plain"&&(O=N,N=void 0),{action:x,method:p.toLowerCase(),encType:A,formData:N,body:O}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cte(c,d){if(c===!1||c===null||typeof c>"u")throw new Error(d)}function Yde(c,d,p,x){let A=typeof c=="string"?new URL(c,typeof window>"u"?"server://singlefetch/":window.location.origin):c;return p?A.pathname.endsWith("/")?A.pathname=`${A.pathname}_.${x}`:A.pathname=`${A.pathname}.${x}`:A.pathname==="/"?A.pathname=`_root.${x}`:d&&vx(A.pathname,d)==="/"?A.pathname=`${d.replace(/\/$/,"")}/_root.${x}`:A.pathname=`${A.pathname.replace(/\/$/,"")}.${x}`,A}async function Xde(c,d){if(c.id in d)return d[c.id];try{let p=await import(c.module);return d[c.id]=p,p}catch(p){return console.error(`Error loading route module \`${c.module}\`, reloading page...`),console.error(p),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qde(c){return c==null?!1:c.href==null?c.rel==="preload"&&typeof c.imageSrcSet=="string"&&typeof c.imageSizes=="string":typeof c.rel=="string"&&typeof c.href=="string"}async function Jde(c,d,p){let x=await Promise.all(c.map(async A=>{let N=d.routes[A.route.id];if(N){let O=await Xde(N,p);return O.links?O.links():[]}return[]}));return ofe(x.flat(1).filter(Qde).filter(A=>A.rel==="stylesheet"||A.rel==="preload").map(A=>A.rel==="stylesheet"?{...A,rel:"prefetch",as:"style"}:{...A,rel:"prefetch"}))}function Ooe(c,d,p,x,A,N){let O=(U,V)=>p[V]?U.route.id!==p[V].route.id:!0,H=(U,V)=>p[V].pathname!==U.pathname||p[V].route.path?.endsWith("*")&&p[V].params["*"]!==U.params["*"];return N==="assets"?d.filter((U,V)=>O(U,V)||H(U,V)):N==="data"?d.filter((U,V)=>{let Y=x.routes[U.route.id];if(!Y||!Y.hasLoader)return!1;if(O(U,V)||H(U,V))return!0;if(U.route.shouldRevalidate){let ne=U.route.shouldRevalidate({currentUrl:new URL(A.pathname+A.search+A.hash,window.origin),currentParams:p[0]?.params||{},nextUrl:new URL(c,window.origin),nextParams:U.params,defaultShouldRevalidate:!0});if(typeof ne=="boolean")return ne}return!0}):[]}function efe(c,d,{includeHydrateFallback:p}={}){return tfe(c.map(x=>{let A=d.routes[x.route.id];if(!A)return[];let N=[A.module];return A.clientActionModule&&(N=N.concat(A.clientActionModule)),A.clientLoaderModule&&(N=N.concat(A.clientLoaderModule)),p&&A.hydrateFallbackModule&&(N=N.concat(A.hydrateFallbackModule)),A.imports&&(N=N.concat(A.imports)),N}).flat(1))}function tfe(c){return[...new Set(c)]}function nfe(c){let d={},p=Object.keys(c).sort();for(let x of p)d[x]=c[x];return d}function ofe(c,d){let p=new Set;return new Set(d),c.reduce((x,A)=>{let N=JSON.stringify(nfe(A));return p.has(N)||(p.add(N),x.push({key:N,link:A})),x},[])}function xie(){let c=Ke.useContext(G3);return cte(c,"You must render this element inside a <DataRouterContext.Provider> element"),c}function sfe(){let c=Ke.useContext(uz);return cte(c,"You must render this element inside a <DataRouterStateContext.Provider> element"),c}var ute=Ke.createContext(void 0);ute.displayName="FrameworkContext";function wie(){let c=Ke.useContext(ute);return cte(c,"You must render this element inside a <HydratedRouter> element"),c}function rfe(c,d){let p=Ke.useContext(ute),[x,A]=Ke.useState(!1),[N,O]=Ke.useState(!1),{onFocus:H,onBlur:U,onMouseEnter:V,onMouseLeave:Y,onTouchStart:ne}=d,ue=Ke.useRef(null);Ke.useEffect(()=>{if(c==="render"&&O(!0),c==="viewport"){let $e=ct=>{ct.forEach(Ue=>{O(Ue.isIntersecting)})},ve=new IntersectionObserver($e,{threshold:.5});return ue.current&&ve.observe(ue.current),()=>{ve.disconnect()}}},[c]),Ke.useEffect(()=>{if(x){let $e=setTimeout(()=>{O(!0)},100);return()=>{clearTimeout($e)}}},[x]);let we=()=>{A(!0)},Ee=()=>{A(!1),O(!1)};return p?c!=="intent"?[N,ue,{}]:[N,ue,{onFocus:zM(H,we),onBlur:zM(U,Ee),onMouseEnter:zM(V,we),onMouseLeave:zM(Y,Ee),onTouchStart:zM(ne,we)}]:[!1,ue,{}]}function zM(c,d){return p=>{c&&c(p),p.defaultPrevented||d(p)}}function afe({page:c,...d}){let{router:p}=xie(),x=Ke.useMemo(()=>rie(p.routes,c,p.basename),[p.routes,c,p.basename]);return x?Ke.createElement(lfe,{page:c,matches:x,...d}):null}function ife(c){let{manifest:d,routeModules:p}=wie(),[x,A]=Ke.useState([]);return Ke.useEffect(()=>{let N=!1;return Jde(c,d,p).then(O=>{N||A(O)}),()=>{N=!0}},[c,d,p]),x}function lfe({page:c,matches:d,...p}){let x=wx(),{future:A,manifest:N,routeModules:O}=wie(),{basename:H}=xie(),{loaderData:U,matches:V}=sfe(),Y=Ke.useMemo(()=>Ooe(c,d,V,N,x,"data"),[c,d,V,N,x]),ne=Ke.useMemo(()=>Ooe(c,d,V,N,x,"assets"),[c,d,V,N,x]),ue=Ke.useMemo(()=>{if(c===x.pathname+x.search+x.hash)return[];let $e=new Set,ve=!1;if(d.forEach(Ue=>{let J=N.routes[Ue.route.id];!J||!J.hasLoader||(!Y.some(vt=>vt.route.id===Ue.route.id)&&Ue.route.id in U&&O[Ue.route.id]?.shouldRevalidate||J.hasClientLoader?ve=!0:$e.add(Ue.route.id))}),$e.size===0)return[];let ct=Yde(c,H,A.unstable_trailingSlashAwareDataRequests,"data");return ve&&$e.size>0&&ct.searchParams.set("_routes",d.filter(Ue=>$e.has(Ue.route.id)).map(Ue=>Ue.route.id).join(",")),[ct.pathname+ct.search]},[H,A.unstable_trailingSlashAwareDataRequests,U,x,N,Y,d,c,O]),we=Ke.useMemo(()=>efe(ne,N),[ne,N]),Ee=ife(ne);return Ke.createElement(Ke.Fragment,null,ue.map($e=>Ke.createElement("link",{key:$e,rel:"prefetch",as:"fetch",href:$e,...p})),we.map($e=>Ke.createElement("link",{key:$e,rel:"modulepreload",href:$e,...p})),Ee.map(({key:$e,link:ve})=>Ke.createElement("link",{key:$e,nonce:p.nonce,...ve})))}function cfe(...c){return d=>{c.forEach(p=>{typeof p=="function"?p(d):p!=null&&(p.current=d)})}}var ufe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ufe&&(window.__reactRouterVersion="7.12.0")}catch{}function dfe({basename:c,children:d,unstable_useTransitions:p,window:x}){let A=Ke.useRef();A.current==null&&(A.current=Vue({window:x,v5Compat:!0}));let N=A.current,[O,H]=Ke.useState({action:N.action,location:N.location}),U=Ke.useCallback(V=>{p===!1?H(V):Ke.startTransition(()=>H(V))},[p]);return Ke.useLayoutEffect(()=>N.listen(U),[N,U]),Ke.createElement(Hde,{basename:c,children:d,location:O.location,navigationType:O.action,navigator:N,unstable_useTransitions:p})}var Cie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dte=Ke.forwardRef(function({onClick:d,discover:p="render",prefetch:x="none",relative:A,reloadDocument:N,replace:O,state:H,target:U,to:V,preventScrollReset:Y,viewTransition:ne,unstable_defaultShouldRevalidate:ue,...we},Ee){let{basename:$e,unstable_useTransitions:ve}=Ke.useContext(_0),ct=typeof V=="string"&&Cie.test(V),Ue=uie(V,$e);V=Ue.to;let J=Cde(V,{relative:A}),[vt,en,Qe]=rfe(x,we),ie=gfe(V,{replace:O,state:H,target:U,preventScrollReset:Y,relative:A,viewTransition:ne,unstable_defaultShouldRevalidate:ue,unstable_useTransitions:ve});function it(mn){d&&d(mn),mn.defaultPrevented||ie(mn)}let Tn=Ke.createElement("a",{...we,...Qe,href:Ue.absoluteURL||J,onClick:Ue.isExternal||N?d:it,ref:cfe(Ee,en),target:U,"data-discover":!ct&&p==="render"?"true":void 0});return vt&&!ct?Ke.createElement(Ke.Fragment,null,Tn,Ke.createElement(afe,{page:J})):Tn});dte.displayName="Link";var ffe=Ke.forwardRef(function({"aria-current":d="page",caseSensitive:p=!1,className:x="",end:A=!1,style:N,to:O,viewTransition:H,children:U,...V},Y){let ne=sB(O,{relative:V.relative}),ue=wx(),we=Ke.useContext(uz),{navigator:Ee,basename:$e}=Ke.useContext(_0),ve=we!=null&&xfe(ne)&&H===!0,ct=Ee.encodeLocation?Ee.encodeLocation(ne).pathname:ne.pathname,Ue=ue.pathname,J=we&&we.navigation&&we.navigation.location?we.navigation.location.pathname:null;p||(Ue=Ue.toLowerCase(),J=J?J.toLowerCase():null,ct=ct.toLowerCase()),J&&$e&&(J=vx(J,$e)||J);const vt=ct!=="/"&&ct.endsWith("/")?ct.length-1:ct.length;let en=Ue===ct||!A&&Ue.startsWith(ct)&&Ue.charAt(vt)==="/",Qe=J!=null&&(J===ct||!A&&J.startsWith(ct)&&J.charAt(ct.length)==="/"),ie={isActive:en,isPending:Qe,isTransitioning:ve},it=en?d:void 0,Tn;typeof x=="function"?Tn=x(ie):Tn=[x,en?"active":null,Qe?"pending":null,ve?"transitioning":null].filter(Boolean).join(" ");let mn=typeof N=="function"?N(ie):N;return Ke.createElement(dte,{...V,"aria-current":it,className:Tn,ref:Y,style:mn,to:O,viewTransition:H},typeof U=="function"?U(ie):U)});ffe.displayName="NavLink";var mfe=Ke.forwardRef(({discover:c="render",fetcherKey:d,navigate:p,reloadDocument:x,replace:A,state:N,method:O=FH,action:H,onSubmit:U,relative:V,preventScrollReset:Y,viewTransition:ne,unstable_defaultShouldRevalidate:ue,...we},Ee)=>{let{unstable_useTransitions:$e}=Ke.useContext(_0),ve=yfe(),ct=vfe(H,{relative:V}),Ue=O.toLowerCase()==="get"?"get":"post",J=typeof H=="string"&&Cie.test(H),vt=en=>{if(U&&U(en),en.defaultPrevented)return;en.preventDefault();let Qe=en.nativeEvent.submitter,ie=Qe?.getAttribute("formmethod")||O,it=()=>ve(Qe||en.currentTarget,{fetcherKey:d,method:ie,navigate:p,replace:A,state:N,relative:V,preventScrollReset:Y,viewTransition:ne,unstable_defaultShouldRevalidate:ue});$e&&p!==!1?Ke.startTransition(()=>it()):it()};return Ke.createElement("form",{ref:Ee,method:Ue,action:ct,onSubmit:x?U:vt,...we,"data-discover":!J&&c==="render"?"true":void 0})});mfe.displayName="Form";function hfe(c){return`${c} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sie(c){let d=Ke.useContext(G3);return Zc(d,hfe(c)),d}function gfe(c,{target:d,replace:p,state:x,preventScrollReset:A,relative:N,viewTransition:O,unstable_defaultShouldRevalidate:H,unstable_useTransitions:U}={}){let V=Y3(),Y=wx(),ne=sB(c,{relative:N});return Ke.useCallback(ue=>{if(Wde(ue,d)){ue.preventDefault();let we=p!==void 0?p:XM(Y)===XM(ne),Ee=()=>V(c,{replace:we,state:x,preventScrollReset:A,relative:N,viewTransition:O,unstable_defaultShouldRevalidate:H});U?Ke.startTransition(()=>Ee()):Ee()}},[Y,V,ne,p,x,d,c,A,N,O,H,U])}var pfe=0,bfe=()=>`__${String(++pfe)}__`;function yfe(){let{router:c}=Sie("useSubmit"),{basename:d}=Ke.useContext(_0),p=Pde(),x=c.fetch,A=c.navigate;return Ke.useCallback(async(N,O={})=>{let{action:H,method:U,encType:V,formData:Y,body:ne}=Kde(N,d);if(O.navigate===!1){let ue=O.fetcherKey||bfe();await x(ue,p,O.action||H,{unstable_defaultShouldRevalidate:O.unstable_defaultShouldRevalidate,preventScrollReset:O.preventScrollReset,formData:Y,body:ne,formMethod:O.method||U,formEncType:O.encType||V,flushSync:O.flushSync})}else await A(O.action||H,{unstable_defaultShouldRevalidate:O.unstable_defaultShouldRevalidate,preventScrollReset:O.preventScrollReset,formData:Y,body:ne,formMethod:O.method||U,formEncType:O.encType||V,replace:O.replace,state:O.state,fromRouteId:p,flushSync:O.flushSync,viewTransition:O.viewTransition})},[x,A,d,p])}function vfe(c,{relative:d}={}){let{basename:p}=Ke.useContext(_0),x=Ke.useContext(V1);Zc(x,"useFormAction must be used inside a RouteContext");let[A]=x.matches.slice(-1),N={...sB(c||".",{relative:d})},O=wx();if(c==null){N.search=O.search;let H=new URLSearchParams(N.search),U=H.getAll("index");if(U.some(Y=>Y==="")){H.delete("index"),U.filter(ne=>ne).forEach(ne=>H.append("index",ne));let Y=H.toString();N.search=Y?`?${Y}`:""}}return(!c||c===".")&&A.route.index&&(N.search=N.search?N.search.replace(/^\?/,"?index&"):"?index"),p!=="/"&&(N.pathname=N.pathname==="/"?p:px([p,N.pathname])),XM(N)}function xfe(c,{relative:d}={}){let p=Ke.useContext(fie);Zc(p!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:x}=Sie("useViewTransitionState"),A=sB(c,{relative:d});if(!p.isTransitioning)return!1;let N=vx(p.currentLocation.pathname,x)||p.currentLocation.pathname,O=vx(p.nextLocation.pathname,x)||p.nextLocation.pathname;return WH(A.pathname,O)!=null||WH(A.pathname,N)!=null}const Roe=c=>{let d;const p=new Set,x=(V,Y)=>{const ne=typeof V=="function"?V(d):V;if(!Object.is(ne,d)){const ue=d;d=Y??(typeof ne!="object"||ne===null)?ne:Object.assign({},d,ne),p.forEach(we=>we(d,ue))}},A=()=>d,H={setState:x,getState:A,getInitialState:()=>U,subscribe:V=>(p.add(V),()=>p.delete(V))},U=d=c(x,A,H);return H},wfe=(c=>c?Roe(c):Roe),Cfe=c=>c;function Sfe(c,d=Cfe){const p=UM.useSyncExternalStore(c.subscribe,UM.useCallback(()=>d(c.getState()),[c,d]),UM.useCallback(()=>d(c.getInitialState()),[c,d]));return UM.useDebugValue(p),p}const Noe=c=>{const d=wfe(c),p=x=>Sfe(d,x);return Object.assign(p,d),p},Efe=(c=>c?Noe(c):Noe),fz=Efe(c=>({user:null,token:null,isAuthenticated:!1,initialize:()=>{const d=localStorage.getItem("admin_token");c(d?{token:d,isAuthenticated:!0}:{token:null,user:null,isAuthenticated:!1})},login:(d,p)=>{localStorage.setItem("admin_token",d),c({token:d,user:p,isAuthenticated:!0})},logout:()=>{localStorage.removeItem("admin_token"),c({token:null,user:null,isAuthenticated:!1})},setUser:d=>c({user:d})}));function Eie(c,d){return function(){return c.apply(d,arguments)}}const{toString:Tfe}=Object.prototype,{getPrototypeOf:fte}=Object,{iterator:mz,toStringTag:Tie}=Symbol,hz=(c=>d=>{const p=Tfe.call(d);return c[p]||(c[p]=p.slice(8,-1).toLowerCase())})(Object.create(null)),uy=c=>(c=c.toLowerCase(),d=>hz(d)===c),gz=c=>d=>typeof d===c,{isArray:X3}=Array,j3=gz("undefined");function rB(c){return c!==null&&!j3(c)&&c.constructor!==null&&!j3(c.constructor)&&mp(c.constructor.isBuffer)&&c.constructor.isBuffer(c)}const Aie=uy("ArrayBuffer");function Afe(c){let d;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?d=ArrayBuffer.isView(c):d=c&&c.buffer&&Aie(c.buffer),d}const kfe=gz("string"),mp=gz("function"),kie=gz("number"),aB=c=>c!==null&&typeof c=="object",Dfe=c=>c===!0||c===!1,IH=c=>{if(hz(c)!=="object")return!1;const d=fte(c);return(d===null||d===Object.prototype||Object.getPrototypeOf(d)===null)&&!(Tie in c)&&!(mz in c)},_fe=c=>{if(!aB(c)||rB(c))return!1;try{return Object.keys(c).length===0&&Object.getPrototypeOf(c)===Object.prototype}catch{return!1}},Ofe=uy("Date"),Rfe=uy("File"),Nfe=uy("Blob"),Mfe=uy("FileList"),Bfe=c=>aB(c)&&mp(c.pipe),Lfe=c=>{let d;return c&&(typeof FormData=="function"&&c instanceof FormData||mp(c.append)&&((d=hz(c))==="formdata"||d==="object"&&mp(c.toString)&&c.toString()==="[object FormData]"))},Pfe=uy("URLSearchParams"),[Ffe,$fe,Ife,Hfe]=["ReadableStream","Request","Response","Headers"].map(uy),zfe=c=>c.trim?c.trim():c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function iB(c,d,{allOwnKeys:p=!1}={}){if(c===null||typeof c>"u")return;let x,A;if(typeof c!="object"&&(c=[c]),X3(c))for(x=0,A=c.length;x<A;x++)d.call(null,c[x],x,c);else{if(rB(c))return;const N=p?Object.getOwnPropertyNames(c):Object.keys(c),O=N.length;let H;for(x=0;x<O;x++)H=N[x],d.call(null,c[H],H,c)}}function Die(c,d){if(rB(c))return null;d=d.toLowerCase();const p=Object.keys(c);let x=p.length,A;for(;x-- >0;)if(A=p[x],d===A.toLowerCase())return A;return null}const CT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_ie=c=>!j3(c)&&c!==CT;function Aee(){const{caseless:c,skipUndefined:d}=_ie(this)&&this||{},p={},x=(A,N)=>{const O=c&&Die(p,N)||N;IH(p[O])&&IH(A)?p[O]=Aee(p[O],A):IH(A)?p[O]=Aee({},A):X3(A)?p[O]=A.slice():(!d||!j3(A))&&(p[O]=A)};for(let A=0,N=arguments.length;A<N;A++)arguments[A]&&iB(arguments[A],x);return p}const Vfe=(c,d,p,{allOwnKeys:x}={})=>(iB(d,(A,N)=>{p&&mp(A)?c[N]=Eie(A,p):c[N]=A},{allOwnKeys:x}),c),jfe=c=>(c.charCodeAt(0)===65279&&(c=c.slice(1)),c),Ufe=(c,d,p,x)=>{c.prototype=Object.create(d.prototype,x),c.prototype.constructor=c,Object.defineProperty(c,"super",{value:d.prototype}),p&&Object.assign(c.prototype,p)},Zfe=(c,d,p,x)=>{let A,N,O;const H={};if(d=d||{},c==null)return d;do{for(A=Object.getOwnPropertyNames(c),N=A.length;N-- >0;)O=A[N],(!x||x(O,c,d))&&!H[O]&&(d[O]=c[O],H[O]=!0);c=p!==!1&&fte(c)}while(c&&(!p||p(c,d))&&c!==Object.prototype);return d},Wfe=(c,d,p)=>{c=String(c),(p===void 0||p>c.length)&&(p=c.length),p-=d.length;const x=c.indexOf(d,p);return x!==-1&&x===p},qfe=c=>{if(!c)return null;if(X3(c))return c;let d=c.length;if(!kie(d))return null;const p=new Array(d);for(;d-- >0;)p[d]=c[d];return p},Gfe=(c=>d=>c&&d instanceof c)(typeof Uint8Array<"u"&&fte(Uint8Array)),Kfe=(c,d)=>{const x=(c&&c[mz]).call(c);let A;for(;(A=x.next())&&!A.done;){const N=A.value;d.call(c,N[0],N[1])}},Yfe=(c,d)=>{let p;const x=[];for(;(p=c.exec(d))!==null;)x.push(p);return x},Xfe=uy("HTMLFormElement"),Qfe=c=>c.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(p,x,A){return x.toUpperCase()+A}),Moe=(({hasOwnProperty:c})=>(d,p)=>c.call(d,p))(Object.prototype),Jfe=uy("RegExp"),Oie=(c,d)=>{const p=Object.getOwnPropertyDescriptors(c),x={};iB(p,(A,N)=>{let O;(O=d(A,N,c))!==!1&&(x[N]=O||A)}),Object.defineProperties(c,x)},eme=c=>{Oie(c,(d,p)=>{if(mp(c)&&["arguments","caller","callee"].indexOf(p)!==-1)return!1;const x=c[p];if(mp(x)){if(d.enumerable=!1,"writable"in d){d.writable=!1;return}d.set||(d.set=()=>{throw Error("Can not rewrite read-only method '"+p+"'")})}})},tme=(c,d)=>{const p={},x=A=>{A.forEach(N=>{p[N]=!0})};return X3(c)?x(c):x(String(c).split(d)),p},nme=()=>{},ome=(c,d)=>c!=null&&Number.isFinite(c=+c)?c:d;function sme(c){return!!(c&&mp(c.append)&&c[Tie]==="FormData"&&c[mz])}const rme=c=>{const d=new Array(10),p=(x,A)=>{if(aB(x)){if(d.indexOf(x)>=0)return;if(rB(x))return x;if(!("toJSON"in x)){d[A]=x;const N=X3(x)?[]:{};return iB(x,(O,H)=>{const U=p(O,A+1);!j3(U)&&(N[H]=U)}),d[A]=void 0,N}}return x};return p(c,0)},ame=uy("AsyncFunction"),ime=c=>c&&(aB(c)||mp(c))&&mp(c.then)&&mp(c.catch),Rie=((c,d)=>c?setImmediate:d?((p,x)=>(CT.addEventListener("message",({source:A,data:N})=>{A===CT&&N===p&&x.length&&x.shift()()},!1),A=>{x.push(A),CT.postMessage(p,"*")}))(`axios@${Math.random()}`,[]):p=>setTimeout(p))(typeof setImmediate=="function",mp(CT.postMessage)),lme=typeof queueMicrotask<"u"?queueMicrotask.bind(CT):typeof process<"u"&&process.nextTick||Rie,cme=c=>c!=null&&mp(c[mz]),un={isArray:X3,isArrayBuffer:Aie,isBuffer:rB,isFormData:Lfe,isArrayBufferView:Afe,isString:kfe,isNumber:kie,isBoolean:Dfe,isObject:aB,isPlainObject:IH,isEmptyObject:_fe,isReadableStream:Ffe,isRequest:$fe,isResponse:Ife,isHeaders:Hfe,isUndefined:j3,isDate:Ofe,isFile:Rfe,isBlob:Nfe,isRegExp:Jfe,isFunction:mp,isStream:Bfe,isURLSearchParams:Pfe,isTypedArray:Gfe,isFileList:Mfe,forEach:iB,merge:Aee,extend:Vfe,trim:zfe,stripBOM:jfe,inherits:Ufe,toFlatObject:Zfe,kindOf:hz,kindOfTest:uy,endsWith:Wfe,toArray:qfe,forEachEntry:Kfe,matchAll:Yfe,isHTMLForm:Xfe,hasOwnProperty:Moe,hasOwnProp:Moe,reduceDescriptors:Oie,freezeMethods:eme,toObjectSet:tme,toCamelCase:Qfe,noop:nme,toFiniteNumber:ome,findKey:Die,global:CT,isContextDefined:_ie,isSpecCompliantForm:sme,toJSONObject:rme,isAsyncFn:ame,isThenable:ime,setImmediate:Rie,asap:lme,isIterable:cme};function Qr(c,d,p,x,A){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=c,this.name="AxiosError",d&&(this.code=d),p&&(this.config=p),x&&(this.request=x),A&&(this.response=A,this.status=A.status?A.status:null)}un.inherits(Qr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:un.toJSONObject(this.config),code:this.code,status:this.status}}});const Nie=Qr.prototype,Mie={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(c=>{Mie[c]={value:c}});Object.defineProperties(Qr,Mie);Object.defineProperty(Nie,"isAxiosError",{value:!0});Qr.from=(c,d,p,x,A,N)=>{const O=Object.create(Nie);un.toFlatObject(c,O,function(Y){return Y!==Error.prototype},V=>V!=="isAxiosError");const H=c&&c.message?c.message:"Error",U=d==null&&c?c.code:d;return Qr.call(O,H,U,p,x,A),c&&O.cause==null&&Object.defineProperty(O,"cause",{value:c,configurable:!0}),O.name=c&&c.name||"Error",N&&Object.assign(O,N),O};const ume=null;function kee(c){return un.isPlainObject(c)||un.isArray(c)}function Bie(c){return un.endsWith(c,"[]")?c.slice(0,-2):c}function Boe(c,d,p){return c?c.concat(d).map(function(A,N){return A=Bie(A),!p&&N?"["+A+"]":A}).join(p?".":""):d}function dme(c){return un.isArray(c)&&!c.some(kee)}const fme=un.toFlatObject(un,{},null,function(d){return/^is[A-Z]/.test(d)});function pz(c,d,p){if(!un.isObject(c))throw new TypeError("target must be an object");d=d||new FormData,p=un.toFlatObject(p,{metaTokens:!0,dots:!1,indexes:!1},!1,function($e,ve){return!un.isUndefined(ve[$e])});const x=p.metaTokens,A=p.visitor||Y,N=p.dots,O=p.indexes,U=(p.Blob||typeof Blob<"u"&&Blob)&&un.isSpecCompliantForm(d);if(!un.isFunction(A))throw new TypeError("visitor must be a function");function V(Ee){if(Ee===null)return"";if(un.isDate(Ee))return Ee.toISOString();if(un.isBoolean(Ee))return Ee.toString();if(!U&&un.isBlob(Ee))throw new Qr("Blob is not supported. Use a Buffer instead.");return un.isArrayBuffer(Ee)||un.isTypedArray(Ee)?U&&typeof Blob=="function"?new Blob([Ee]):Buffer.from(Ee):Ee}function Y(Ee,$e,ve){let ct=Ee;if(Ee&&!ve&&typeof Ee=="object"){if(un.endsWith($e,"{}"))$e=x?$e:$e.slice(0,-2),Ee=JSON.stringify(Ee);else if(un.isArray(Ee)&&dme(Ee)||(un.isFileList(Ee)||un.endsWith($e,"[]"))&&(ct=un.toArray(Ee)))return $e=Bie($e),ct.forEach(function(J,vt){!(un.isUndefined(J)||J===null)&&d.append(O===!0?Boe([$e],vt,N):O===null?$e:$e+"[]",V(J))}),!1}return kee(Ee)?!0:(d.append(Boe(ve,$e,N),V(Ee)),!1)}const ne=[],ue=Object.assign(fme,{defaultVisitor:Y,convertValue:V,isVisitable:kee});function we(Ee,$e){if(!un.isUndefined(Ee)){if(ne.indexOf(Ee)!==-1)throw Error("Circular reference detected in "+$e.join("."));ne.push(Ee),un.forEach(Ee,function(ct,Ue){(!(un.isUndefined(ct)||ct===null)&&A.call(d,ct,un.isString(Ue)?Ue.trim():Ue,$e,ue))===!0&&we(ct,$e?$e.concat(Ue):[Ue])}),ne.pop()}}if(!un.isObject(c))throw new TypeError("data must be an object");return we(c),d}function Loe(c){const d={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(c).replace(/[!'()~]|%20|%00/g,function(x){return d[x]})}function mte(c,d){this._pairs=[],c&&pz(c,this,d)}const Lie=mte.prototype;Lie.append=function(d,p){this._pairs.push([d,p])};Lie.toString=function(d){const p=d?function(x){return d.call(this,x,Loe)}:Loe;return this._pairs.map(function(A){return p(A[0])+"="+p(A[1])},"").join("&")};function mme(c){return encodeURIComponent(c).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Pie(c,d,p){if(!d)return c;const x=p&&p.encode||mme;un.isFunction(p)&&(p={serialize:p});const A=p&&p.serialize;let N;if(A?N=A(d,p):N=un.isURLSearchParams(d)?d.toString():new mte(d,p).toString(x),N){const O=c.indexOf("#");O!==-1&&(c=c.slice(0,O)),c+=(c.indexOf("?")===-1?"?":"&")+N}return c}class Poe{constructor(){this.handlers=[]}use(d,p,x){return this.handlers.push({fulfilled:d,rejected:p,synchronous:x?x.synchronous:!1,runWhen:x?x.runWhen:null}),this.handlers.length-1}eject(d){this.handlers[d]&&(this.handlers[d]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(d){un.forEach(this.handlers,function(x){x!==null&&d(x)})}}const Fie={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hme=typeof URLSearchParams<"u"?URLSearchParams:mte,gme=typeof FormData<"u"?FormData:null,pme=typeof Blob<"u"?Blob:null,bme={isBrowser:!0,classes:{URLSearchParams:hme,FormData:gme,Blob:pme},protocols:["http","https","file","blob","url","data"]},hte=typeof window<"u"&&typeof document<"u",Dee=typeof navigator=="object"&&navigator||void 0,yme=hte&&(!Dee||["ReactNative","NativeScript","NS"].indexOf(Dee.product)<0),vme=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xme=hte&&window.location.href||"http://localhost",wme=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hte,hasStandardBrowserEnv:yme,hasStandardBrowserWebWorkerEnv:vme,navigator:Dee,origin:xme},Symbol.toStringTag,{value:"Module"})),ph={...wme,...bme};function Cme(c,d){return pz(c,new ph.classes.URLSearchParams,{visitor:function(p,x,A,N){return ph.isNode&&un.isBuffer(p)?(this.append(x,p.toString("base64")),!1):N.defaultVisitor.apply(this,arguments)},...d})}function Sme(c){return un.matchAll(/\w+|\[(\w*)]/g,c).map(d=>d[0]==="[]"?"":d[1]||d[0])}function Eme(c){const d={},p=Object.keys(c);let x;const A=p.length;let N;for(x=0;x<A;x++)N=p[x],d[N]=c[N];return d}function $ie(c){function d(p,x,A,N){let O=p[N++];if(O==="__proto__")return!0;const H=Number.isFinite(+O),U=N>=p.length;return O=!O&&un.isArray(A)?A.length:O,U?(un.hasOwnProp(A,O)?A[O]=[A[O],x]:A[O]=x,!H):((!A[O]||!un.isObject(A[O]))&&(A[O]=[]),d(p,x,A[O],N)&&un.isArray(A[O])&&(A[O]=Eme(A[O])),!H)}if(un.isFormData(c)&&un.isFunction(c.entries)){const p={};return un.forEachEntry(c,(x,A)=>{d(Sme(x),A,p,0)}),p}return null}function Tme(c,d,p){if(un.isString(c))try{return(d||JSON.parse)(c),un.trim(c)}catch(x){if(x.name!=="SyntaxError")throw x}return(p||JSON.stringify)(c)}const lB={transitional:Fie,adapter:["xhr","http","fetch"],transformRequest:[function(d,p){const x=p.getContentType()||"",A=x.indexOf("application/json")>-1,N=un.isObject(d);if(N&&un.isHTMLForm(d)&&(d=new FormData(d)),un.isFormData(d))return A?JSON.stringify($ie(d)):d;if(un.isArrayBuffer(d)||un.isBuffer(d)||un.isStream(d)||un.isFile(d)||un.isBlob(d)||un.isReadableStream(d))return d;if(un.isArrayBufferView(d))return d.buffer;if(un.isURLSearchParams(d))return p.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),d.toString();let H;if(N){if(x.indexOf("application/x-www-form-urlencoded")>-1)return Cme(d,this.formSerializer).toString();if((H=un.isFileList(d))||x.indexOf("multipart/form-data")>-1){const U=this.env&&this.env.FormData;return pz(H?{"files[]":d}:d,U&&new U,this.formSerializer)}}return N||A?(p.setContentType("application/json",!1),Tme(d)):d}],transformResponse:[function(d){const p=this.transitional||lB.transitional,x=p&&p.forcedJSONParsing,A=this.responseType==="json";if(un.isResponse(d)||un.isReadableStream(d))return d;if(d&&un.isString(d)&&(x&&!this.responseType||A)){const O=!(p&&p.silentJSONParsing)&&A;try{return JSON.parse(d,this.parseReviver)}catch(H){if(O)throw H.name==="SyntaxError"?Qr.from(H,Qr.ERR_BAD_RESPONSE,this,null,this.response):H}}return d}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ph.classes.FormData,Blob:ph.classes.Blob},validateStatus:function(d){return d>=200&&d<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};un.forEach(["delete","get","head","post","put","patch"],c=>{lB.headers[c]={}});const Ame=un.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kme=c=>{const d={};let p,x,A;return c&&c.split(`
`).forEach(function(O){A=O.indexOf(":"),p=O.substring(0,A).trim().toLowerCase(),x=O.substring(A+1).trim(),!(!p||d[p]&&Ame[p])&&(p==="set-cookie"?d[p]?d[p].push(x):d[p]=[x]:d[p]=d[p]?d[p]+", "+x:x)}),d},Foe=Symbol("internals");function VM(c){return c&&String(c).trim().toLowerCase()}function HH(c){return c===!1||c==null?c:un.isArray(c)?c.map(HH):String(c)}function Dme(c){const d=Object.create(null),p=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let x;for(;x=p.exec(c);)d[x[1]]=x[2];return d}const _me=c=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(c.trim());function KJ(c,d,p,x,A){if(un.isFunction(x))return x.call(this,d,p);if(A&&(d=p),!!un.isString(d)){if(un.isString(x))return d.indexOf(x)!==-1;if(un.isRegExp(x))return x.test(d)}}function Ome(c){return c.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(d,p,x)=>p.toUpperCase()+x)}function Rme(c,d){const p=un.toCamelCase(" "+d);["get","set","has"].forEach(x=>{Object.defineProperty(c,x+p,{value:function(A,N,O){return this[x].call(this,d,A,N,O)},configurable:!0})})}let hp=class{constructor(d){d&&this.set(d)}set(d,p,x){const A=this;function N(H,U,V){const Y=VM(U);if(!Y)throw new Error("header name must be a non-empty string");const ne=un.findKey(A,Y);(!ne||A[ne]===void 0||V===!0||V===void 0&&A[ne]!==!1)&&(A[ne||U]=HH(H))}const O=(H,U)=>un.forEach(H,(V,Y)=>N(V,Y,U));if(un.isPlainObject(d)||d instanceof this.constructor)O(d,p);else if(un.isString(d)&&(d=d.trim())&&!_me(d))O(kme(d),p);else if(un.isObject(d)&&un.isIterable(d)){let H={},U,V;for(const Y of d){if(!un.isArray(Y))throw TypeError("Object iterator must return a key-value pair");H[V=Y[0]]=(U=H[V])?un.isArray(U)?[...U,Y[1]]:[U,Y[1]]:Y[1]}O(H,p)}else d!=null&&N(p,d,x);return this}get(d,p){if(d=VM(d),d){const x=un.findKey(this,d);if(x){const A=this[x];if(!p)return A;if(p===!0)return Dme(A);if(un.isFunction(p))return p.call(this,A,x);if(un.isRegExp(p))return p.exec(A);throw new TypeError("parser must be boolean|regexp|function")}}}has(d,p){if(d=VM(d),d){const x=un.findKey(this,d);return!!(x&&this[x]!==void 0&&(!p||KJ(this,this[x],x,p)))}return!1}delete(d,p){const x=this;let A=!1;function N(O){if(O=VM(O),O){const H=un.findKey(x,O);H&&(!p||KJ(x,x[H],H,p))&&(delete x[H],A=!0)}}return un.isArray(d)?d.forEach(N):N(d),A}clear(d){const p=Object.keys(this);let x=p.length,A=!1;for(;x--;){const N=p[x];(!d||KJ(this,this[N],N,d,!0))&&(delete this[N],A=!0)}return A}normalize(d){const p=this,x={};return un.forEach(this,(A,N)=>{const O=un.findKey(x,N);if(O){p[O]=HH(A),delete p[N];return}const H=d?Ome(N):String(N).trim();H!==N&&delete p[N],p[H]=HH(A),x[H]=!0}),this}concat(...d){return this.constructor.concat(this,...d)}toJSON(d){const p=Object.create(null);return un.forEach(this,(x,A)=>{x!=null&&x!==!1&&(p[A]=d&&un.isArray(x)?x.join(", "):x)}),p}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([d,p])=>d+": "+p).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(d){return d instanceof this?d:new this(d)}static concat(d,...p){const x=new this(d);return p.forEach(A=>x.set(A)),x}static accessor(d){const x=(this[Foe]=this[Foe]={accessors:{}}).accessors,A=this.prototype;function N(O){const H=VM(O);x[H]||(Rme(A,O),x[H]=!0)}return un.isArray(d)?d.forEach(N):N(d),this}};hp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);un.reduceDescriptors(hp.prototype,({value:c},d)=>{let p=d[0].toUpperCase()+d.slice(1);return{get:()=>c,set(x){this[p]=x}}});un.freezeMethods(hp);function YJ(c,d){const p=this||lB,x=d||p,A=hp.from(x.headers);let N=x.data;return un.forEach(c,function(H){N=H.call(p,N,A.normalize(),d?d.status:void 0)}),A.normalize(),N}function Iie(c){return!!(c&&c.__CANCEL__)}function Q3(c,d,p){Qr.call(this,c??"canceled",Qr.ERR_CANCELED,d,p),this.name="CanceledError"}un.inherits(Q3,Qr,{__CANCEL__:!0});function Hie(c,d,p){const x=p.config.validateStatus;!p.status||!x||x(p.status)?c(p):d(new Qr("Request failed with status code "+p.status,[Qr.ERR_BAD_REQUEST,Qr.ERR_BAD_RESPONSE][Math.floor(p.status/100)-4],p.config,p.request,p))}function Nme(c){const d=/^([-+\w]{1,25})(:?\/\/|:)/.exec(c);return d&&d[1]||""}function Mme(c,d){c=c||10;const p=new Array(c),x=new Array(c);let A=0,N=0,O;return d=d!==void 0?d:1e3,function(U){const V=Date.now(),Y=x[N];O||(O=V),p[A]=U,x[A]=V;let ne=N,ue=0;for(;ne!==A;)ue+=p[ne++],ne=ne%c;if(A=(A+1)%c,A===N&&(N=(N+1)%c),V-O<d)return;const we=Y&&V-Y;return we?Math.round(ue*1e3/we):void 0}}function Bme(c,d){let p=0,x=1e3/d,A,N;const O=(V,Y=Date.now())=>{p=Y,A=null,N&&(clearTimeout(N),N=null),c(...V)};return[(...V)=>{const Y=Date.now(),ne=Y-p;ne>=x?O(V,Y):(A=V,N||(N=setTimeout(()=>{N=null,O(A)},x-ne)))},()=>A&&O(A)]}const qH=(c,d,p=3)=>{let x=0;const A=Mme(50,250);return Bme(N=>{const O=N.loaded,H=N.lengthComputable?N.total:void 0,U=O-x,V=A(U),Y=O<=H;x=O;const ne={loaded:O,total:H,progress:H?O/H:void 0,bytes:U,rate:V||void 0,estimated:V&&H&&Y?(H-O)/V:void 0,event:N,lengthComputable:H!=null,[d?"download":"upload"]:!0};c(ne)},p)},$oe=(c,d)=>{const p=c!=null;return[x=>d[0]({lengthComputable:p,total:c,loaded:x}),d[1]]},Ioe=c=>(...d)=>un.asap(()=>c(...d)),Lme=ph.hasStandardBrowserEnv?((c,d)=>p=>(p=new URL(p,ph.origin),c.protocol===p.protocol&&c.host===p.host&&(d||c.port===p.port)))(new URL(ph.origin),ph.navigator&&/(msie|trident)/i.test(ph.navigator.userAgent)):()=>!0,Pme=ph.hasStandardBrowserEnv?{write(c,d,p,x,A,N,O){if(typeof document>"u")return;const H=[`${c}=${encodeURIComponent(d)}`];un.isNumber(p)&&H.push(`expires=${new Date(p).toUTCString()}`),un.isString(x)&&H.push(`path=${x}`),un.isString(A)&&H.push(`domain=${A}`),N===!0&&H.push("secure"),un.isString(O)&&H.push(`SameSite=${O}`),document.cookie=H.join("; ")},read(c){if(typeof document>"u")return null;const d=document.cookie.match(new RegExp("(?:^|; )"+c+"=([^;]*)"));return d?decodeURIComponent(d[1]):null},remove(c){this.write(c,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Fme(c){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(c)}function $me(c,d){return d?c.replace(/\/?\/$/,"")+"/"+d.replace(/^\/+/,""):c}function zie(c,d,p){let x=!Fme(d);return c&&(x||p==!1)?$me(c,d):d}const Hoe=c=>c instanceof hp?{...c}:c;function DT(c,d){d=d||{};const p={};function x(V,Y,ne,ue){return un.isPlainObject(V)&&un.isPlainObject(Y)?un.merge.call({caseless:ue},V,Y):un.isPlainObject(Y)?un.merge({},Y):un.isArray(Y)?Y.slice():Y}function A(V,Y,ne,ue){if(un.isUndefined(Y)){if(!un.isUndefined(V))return x(void 0,V,ne,ue)}else return x(V,Y,ne,ue)}function N(V,Y){if(!un.isUndefined(Y))return x(void 0,Y)}function O(V,Y){if(un.isUndefined(Y)){if(!un.isUndefined(V))return x(void 0,V)}else return x(void 0,Y)}function H(V,Y,ne){if(ne in d)return x(V,Y);if(ne in c)return x(void 0,V)}const U={url:N,method:N,data:N,baseURL:O,transformRequest:O,transformResponse:O,paramsSerializer:O,timeout:O,timeoutMessage:O,withCredentials:O,withXSRFToken:O,adapter:O,responseType:O,xsrfCookieName:O,xsrfHeaderName:O,onUploadProgress:O,onDownloadProgress:O,decompress:O,maxContentLength:O,maxBodyLength:O,beforeRedirect:O,transport:O,httpAgent:O,httpsAgent:O,cancelToken:O,socketPath:O,responseEncoding:O,validateStatus:H,headers:(V,Y,ne)=>A(Hoe(V),Hoe(Y),ne,!0)};return un.forEach(Object.keys({...c,...d}),function(Y){const ne=U[Y]||A,ue=ne(c[Y],d[Y],Y);un.isUndefined(ue)&&ne!==H||(p[Y]=ue)}),p}const Vie=c=>{const d=DT({},c);let{data:p,withXSRFToken:x,xsrfHeaderName:A,xsrfCookieName:N,headers:O,auth:H}=d;if(d.headers=O=hp.from(O),d.url=Pie(zie(d.baseURL,d.url,d.allowAbsoluteUrls),c.params,c.paramsSerializer),H&&O.set("Authorization","Basic "+btoa((H.username||"")+":"+(H.password?unescape(encodeURIComponent(H.password)):""))),un.isFormData(p)){if(ph.hasStandardBrowserEnv||ph.hasStandardBrowserWebWorkerEnv)O.setContentType(void 0);else if(un.isFunction(p.getHeaders)){const U=p.getHeaders(),V=["content-type","content-length"];Object.entries(U).forEach(([Y,ne])=>{V.includes(Y.toLowerCase())&&O.set(Y,ne)})}}if(ph.hasStandardBrowserEnv&&(x&&un.isFunction(x)&&(x=x(d)),x||x!==!1&&Lme(d.url))){const U=A&&N&&Pme.read(N);U&&O.set(A,U)}return d},Ime=typeof XMLHttpRequest<"u",Hme=Ime&&function(c){return new Promise(function(p,x){const A=Vie(c);let N=A.data;const O=hp.from(A.headers).normalize();let{responseType:H,onUploadProgress:U,onDownloadProgress:V}=A,Y,ne,ue,we,Ee;function $e(){we&&we(),Ee&&Ee(),A.cancelToken&&A.cancelToken.unsubscribe(Y),A.signal&&A.signal.removeEventListener("abort",Y)}let ve=new XMLHttpRequest;ve.open(A.method.toUpperCase(),A.url,!0),ve.timeout=A.timeout;function ct(){if(!ve)return;const J=hp.from("getAllResponseHeaders"in ve&&ve.getAllResponseHeaders()),en={data:!H||H==="text"||H==="json"?ve.responseText:ve.response,status:ve.status,statusText:ve.statusText,headers:J,config:c,request:ve};Hie(function(ie){p(ie),$e()},function(ie){x(ie),$e()},en),ve=null}"onloadend"in ve?ve.onloadend=ct:ve.onreadystatechange=function(){!ve||ve.readyState!==4||ve.status===0&&!(ve.responseURL&&ve.responseURL.indexOf("file:")===0)||setTimeout(ct)},ve.onabort=function(){ve&&(x(new Qr("Request aborted",Qr.ECONNABORTED,c,ve)),ve=null)},ve.onerror=function(vt){const en=vt&&vt.message?vt.message:"Network Error",Qe=new Qr(en,Qr.ERR_NETWORK,c,ve);Qe.event=vt||null,x(Qe),ve=null},ve.ontimeout=function(){let vt=A.timeout?"timeout of "+A.timeout+"ms exceeded":"timeout exceeded";const en=A.transitional||Fie;A.timeoutErrorMessage&&(vt=A.timeoutErrorMessage),x(new Qr(vt,en.clarifyTimeoutError?Qr.ETIMEDOUT:Qr.ECONNABORTED,c,ve)),ve=null},N===void 0&&O.setContentType(null),"setRequestHeader"in ve&&un.forEach(O.toJSON(),function(vt,en){ve.setRequestHeader(en,vt)}),un.isUndefined(A.withCredentials)||(ve.withCredentials=!!A.withCredentials),H&&H!=="json"&&(ve.responseType=A.responseType),V&&([ue,Ee]=qH(V,!0),ve.addEventListener("progress",ue)),U&&ve.upload&&([ne,we]=qH(U),ve.upload.addEventListener("progress",ne),ve.upload.addEventListener("loadend",we)),(A.cancelToken||A.signal)&&(Y=J=>{ve&&(x(!J||J.type?new Q3(null,c,ve):J),ve.abort(),ve=null)},A.cancelToken&&A.cancelToken.subscribe(Y),A.signal&&(A.signal.aborted?Y():A.signal.addEventListener("abort",Y)));const Ue=Nme(A.url);if(Ue&&ph.protocols.indexOf(Ue)===-1){x(new Qr("Unsupported protocol "+Ue+":",Qr.ERR_BAD_REQUEST,c));return}ve.send(N||null)})},zme=(c,d)=>{const{length:p}=c=c?c.filter(Boolean):[];if(d||p){let x=new AbortController,A;const N=function(V){if(!A){A=!0,H();const Y=V instanceof Error?V:this.reason;x.abort(Y instanceof Qr?Y:new Q3(Y instanceof Error?Y.message:Y))}};let O=d&&setTimeout(()=>{O=null,N(new Qr(`timeout ${d} of ms exceeded`,Qr.ETIMEDOUT))},d);const H=()=>{c&&(O&&clearTimeout(O),O=null,c.forEach(V=>{V.unsubscribe?V.unsubscribe(N):V.removeEventListener("abort",N)}),c=null)};c.forEach(V=>V.addEventListener("abort",N));const{signal:U}=x;return U.unsubscribe=()=>un.asap(H),U}},Vme=function*(c,d){let p=c.byteLength;if(p<d){yield c;return}let x=0,A;for(;x<p;)A=x+d,yield c.slice(x,A),x=A},jme=async function*(c,d){for await(const p of Ume(c))yield*Vme(p,d)},Ume=async function*(c){if(c[Symbol.asyncIterator]){yield*c;return}const d=c.getReader();try{for(;;){const{done:p,value:x}=await d.read();if(p)break;yield x}}finally{await d.cancel()}},zoe=(c,d,p,x)=>{const A=jme(c,d);let N=0,O,H=U=>{O||(O=!0,x&&x(U))};return new ReadableStream({async pull(U){try{const{done:V,value:Y}=await A.next();if(V){H(),U.close();return}let ne=Y.byteLength;if(p){let ue=N+=ne;p(ue)}U.enqueue(new Uint8Array(Y))}catch(V){throw H(V),V}},cancel(U){return H(U),A.return()}},{highWaterMark:2})},Voe=64*1024,{isFunction:_H}=un,Zme=(({Request:c,Response:d})=>({Request:c,Response:d}))(un.global),{ReadableStream:joe,TextEncoder:Uoe}=un.global,Zoe=(c,...d)=>{try{return!!c(...d)}catch{return!1}},Wme=c=>{c=un.merge.call({skipUndefined:!0},Zme,c);const{fetch:d,Request:p,Response:x}=c,A=d?_H(d):typeof fetch=="function",N=_H(p),O=_H(x);if(!A)return!1;const H=A&&_H(joe),U=A&&(typeof Uoe=="function"?(Ee=>$e=>Ee.encode($e))(new Uoe):async Ee=>new Uint8Array(await new p(Ee).arrayBuffer())),V=N&&H&&Zoe(()=>{let Ee=!1;const $e=new p(ph.origin,{body:new joe,method:"POST",get duplex(){return Ee=!0,"half"}}).headers.has("Content-Type");return Ee&&!$e}),Y=O&&H&&Zoe(()=>un.isReadableStream(new x("").body)),ne={stream:Y&&(Ee=>Ee.body)};A&&["text","arrayBuffer","blob","formData","stream"].forEach(Ee=>{!ne[Ee]&&(ne[Ee]=($e,ve)=>{let ct=$e&&$e[Ee];if(ct)return ct.call($e);throw new Qr(`Response type '${Ee}' is not supported`,Qr.ERR_NOT_SUPPORT,ve)})});const ue=async Ee=>{if(Ee==null)return 0;if(un.isBlob(Ee))return Ee.size;if(un.isSpecCompliantForm(Ee))return(await new p(ph.origin,{method:"POST",body:Ee}).arrayBuffer()).byteLength;if(un.isArrayBufferView(Ee)||un.isArrayBuffer(Ee))return Ee.byteLength;if(un.isURLSearchParams(Ee)&&(Ee=Ee+""),un.isString(Ee))return(await U(Ee)).byteLength},we=async(Ee,$e)=>{const ve=un.toFiniteNumber(Ee.getContentLength());return ve??ue($e)};return async Ee=>{let{url:$e,method:ve,data:ct,signal:Ue,cancelToken:J,timeout:vt,onDownloadProgress:en,onUploadProgress:Qe,responseType:ie,headers:it,withCredentials:Tn="same-origin",fetchOptions:mn}=Vie(Ee),qe=d||fetch;ie=ie?(ie+"").toLowerCase():"text";let Oe=zme([Ue,J&&J.toAbortSignal()],vt),Yo=null;const pt=Oe&&Oe.unsubscribe&&(()=>{Oe.unsubscribe()});let Pt;try{if(Qe&&V&&ve!=="get"&&ve!=="head"&&(Pt=await we(it,ct))!==0){let ee=new p($e,{method:"POST",body:ct,duplex:"half"}),Me;if(un.isFormData(ct)&&(Me=ee.headers.get("content-type"))&&it.setContentType(Me),ee.body){const[wt,je]=$oe(Pt,qH(Ioe(Qe)));ct=zoe(ee.body,Voe,wt,je)}}un.isString(Tn)||(Tn=Tn?"include":"omit");const P=N&&"credentials"in p.prototype,Vt={...mn,signal:Oe,method:ve.toUpperCase(),headers:it.normalize().toJSON(),body:ct,duplex:"half",credentials:P?Tn:void 0};Yo=N&&new p($e,Vt);let at=await(N?qe(Yo,mn):qe($e,Vt));const Qn=Y&&(ie==="stream"||ie==="response");if(Y&&(en||Qn&&pt)){const ee={};["status","statusText","headers"].forEach(Bt=>{ee[Bt]=at[Bt]});const Me=un.toFiniteNumber(at.headers.get("content-length")),[wt,je]=en&&$oe(Me,qH(Ioe(en),!0))||[];at=new x(zoe(at.body,Voe,wt,()=>{je&&je(),pt&&pt()}),ee)}ie=ie||"text";let cn=await ne[un.findKey(ne,ie)||"text"](at,Ee);return!Qn&&pt&&pt(),await new Promise((ee,Me)=>{Hie(ee,Me,{data:cn,headers:hp.from(at.headers),status:at.status,statusText:at.statusText,config:Ee,request:Yo})})}catch(P){throw pt&&pt(),P&&P.name==="TypeError"&&/Load failed|fetch/i.test(P.message)?Object.assign(new Qr("Network Error",Qr.ERR_NETWORK,Ee,Yo),{cause:P.cause||P}):Qr.from(P,P&&P.code,Ee,Yo)}}},qme=new Map,jie=c=>{let d=c&&c.env||{};const{fetch:p,Request:x,Response:A}=d,N=[x,A,p];let O=N.length,H=O,U,V,Y=qme;for(;H--;)U=N[H],V=Y.get(U),V===void 0&&Y.set(U,V=H?new Map:Wme(d)),Y=V;return V};jie();const gte={http:ume,xhr:Hme,fetch:{get:jie}};un.forEach(gte,(c,d)=>{if(c){try{Object.defineProperty(c,"name",{value:d})}catch{}Object.defineProperty(c,"adapterName",{value:d})}});const Woe=c=>`- ${c}`,Gme=c=>un.isFunction(c)||c===null||c===!1;function Kme(c,d){c=un.isArray(c)?c:[c];const{length:p}=c;let x,A;const N={};for(let O=0;O<p;O++){x=c[O];let H;if(A=x,!Gme(x)&&(A=gte[(H=String(x)).toLowerCase()],A===void 0))throw new Qr(`Unknown adapter '${H}'`);if(A&&(un.isFunction(A)||(A=A.get(d))))break;N[H||"#"+O]=A}if(!A){const O=Object.entries(N).map(([U,V])=>`adapter ${U} `+(V===!1?"is not supported by the environment":"is not available in the build"));let H=p?O.length>1?`since :
`+O.map(Woe).join(`
`):" "+Woe(O[0]):"as no adapter specified";throw new Qr("There is no suitable adapter to dispatch the request "+H,"ERR_NOT_SUPPORT")}return A}const Uie={getAdapter:Kme,adapters:gte};function XJ(c){if(c.cancelToken&&c.cancelToken.throwIfRequested(),c.signal&&c.signal.aborted)throw new Q3(null,c)}function qoe(c){return XJ(c),c.headers=hp.from(c.headers),c.data=YJ.call(c,c.transformRequest),["post","put","patch"].indexOf(c.method)!==-1&&c.headers.setContentType("application/x-www-form-urlencoded",!1),Uie.getAdapter(c.adapter||lB.adapter,c)(c).then(function(x){return XJ(c),x.data=YJ.call(c,c.transformResponse,x),x.headers=hp.from(x.headers),x},function(x){return Iie(x)||(XJ(c),x&&x.response&&(x.response.data=YJ.call(c,c.transformResponse,x.response),x.response.headers=hp.from(x.response.headers))),Promise.reject(x)})}const Zie="1.13.2",bz={};["object","boolean","number","function","string","symbol"].forEach((c,d)=>{bz[c]=function(x){return typeof x===c||"a"+(d<1?"n ":" ")+c}});const Goe={};bz.transitional=function(d,p,x){function A(N,O){return"[Axios v"+Zie+"] Transitional option '"+N+"'"+O+(x?". "+x:"")}return(N,O,H)=>{if(d===!1)throw new Qr(A(O," has been removed"+(p?" in "+p:"")),Qr.ERR_DEPRECATED);return p&&!Goe[O]&&(Goe[O]=!0,console.warn(A(O," has been deprecated since v"+p+" and will be removed in the near future"))),d?d(N,O,H):!0}};bz.spelling=function(d){return(p,x)=>(console.warn(`${x} is likely a misspelling of ${d}`),!0)};function Yme(c,d,p){if(typeof c!="object")throw new Qr("options must be an object",Qr.ERR_BAD_OPTION_VALUE);const x=Object.keys(c);let A=x.length;for(;A-- >0;){const N=x[A],O=d[N];if(O){const H=c[N],U=H===void 0||O(H,N,c);if(U!==!0)throw new Qr("option "+N+" must be "+U,Qr.ERR_BAD_OPTION_VALUE);continue}if(p!==!0)throw new Qr("Unknown option "+N,Qr.ERR_BAD_OPTION)}}const zH={assertOptions:Yme,validators:bz},Av=zH.validators;let TT=class{constructor(d){this.defaults=d||{},this.interceptors={request:new Poe,response:new Poe}}async request(d,p){try{return await this._request(d,p)}catch(x){if(x instanceof Error){let A={};Error.captureStackTrace?Error.captureStackTrace(A):A=new Error;const N=A.stack?A.stack.replace(/^.+\n/,""):"";try{x.stack?N&&!String(x.stack).endsWith(N.replace(/^.+\n.+\n/,""))&&(x.stack+=`
`+N):x.stack=N}catch{}}throw x}}_request(d,p){typeof d=="string"?(p=p||{},p.url=d):p=d||{},p=DT(this.defaults,p);const{transitional:x,paramsSerializer:A,headers:N}=p;x!==void 0&&zH.assertOptions(x,{silentJSONParsing:Av.transitional(Av.boolean),forcedJSONParsing:Av.transitional(Av.boolean),clarifyTimeoutError:Av.transitional(Av.boolean)},!1),A!=null&&(un.isFunction(A)?p.paramsSerializer={serialize:A}:zH.assertOptions(A,{encode:Av.function,serialize:Av.function},!0)),p.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?p.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:p.allowAbsoluteUrls=!0),zH.assertOptions(p,{baseUrl:Av.spelling("baseURL"),withXsrfToken:Av.spelling("withXSRFToken")},!0),p.method=(p.method||this.defaults.method||"get").toLowerCase();let O=N&&un.merge(N.common,N[p.method]);N&&un.forEach(["delete","get","head","post","put","patch","common"],Ee=>{delete N[Ee]}),p.headers=hp.concat(O,N);const H=[];let U=!0;this.interceptors.request.forEach(function($e){typeof $e.runWhen=="function"&&$e.runWhen(p)===!1||(U=U&&$e.synchronous,H.unshift($e.fulfilled,$e.rejected))});const V=[];this.interceptors.response.forEach(function($e){V.push($e.fulfilled,$e.rejected)});let Y,ne=0,ue;if(!U){const Ee=[qoe.bind(this),void 0];for(Ee.unshift(...H),Ee.push(...V),ue=Ee.length,Y=Promise.resolve(p);ne<ue;)Y=Y.then(Ee[ne++],Ee[ne++]);return Y}ue=H.length;let we=p;for(;ne<ue;){const Ee=H[ne++],$e=H[ne++];try{we=Ee(we)}catch(ve){$e.call(this,ve);break}}try{Y=qoe.call(this,we)}catch(Ee){return Promise.reject(Ee)}for(ne=0,ue=V.length;ne<ue;)Y=Y.then(V[ne++],V[ne++]);return Y}getUri(d){d=DT(this.defaults,d);const p=zie(d.baseURL,d.url,d.allowAbsoluteUrls);return Pie(p,d.params,d.paramsSerializer)}};un.forEach(["delete","get","head","options"],function(d){TT.prototype[d]=function(p,x){return this.request(DT(x||{},{method:d,url:p,data:(x||{}).data}))}});un.forEach(["post","put","patch"],function(d){function p(x){return function(N,O,H){return this.request(DT(H||{},{method:d,headers:x?{"Content-Type":"multipart/form-data"}:{},url:N,data:O}))}}TT.prototype[d]=p(),TT.prototype[d+"Form"]=p(!0)});let Xme=class Wie{constructor(d){if(typeof d!="function")throw new TypeError("executor must be a function.");let p;this.promise=new Promise(function(N){p=N});const x=this;this.promise.then(A=>{if(!x._listeners)return;let N=x._listeners.length;for(;N-- >0;)x._listeners[N](A);x._listeners=null}),this.promise.then=A=>{let N;const O=new Promise(H=>{x.subscribe(H),N=H}).then(A);return O.cancel=function(){x.unsubscribe(N)},O},d(function(N,O,H){x.reason||(x.reason=new Q3(N,O,H),p(x.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(d){if(this.reason){d(this.reason);return}this._listeners?this._listeners.push(d):this._listeners=[d]}unsubscribe(d){if(!this._listeners)return;const p=this._listeners.indexOf(d);p!==-1&&this._listeners.splice(p,1)}toAbortSignal(){const d=new AbortController,p=x=>{d.abort(x)};return this.subscribe(p),d.signal.unsubscribe=()=>this.unsubscribe(p),d.signal}static source(){let d;return{token:new Wie(function(A){d=A}),cancel:d}}};function Qme(c){return function(p){return c.apply(null,p)}}function Jme(c){return un.isObject(c)&&c.isAxiosError===!0}const _ee={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(_ee).forEach(([c,d])=>{_ee[d]=c});function qie(c){const d=new TT(c),p=Eie(TT.prototype.request,d);return un.extend(p,TT.prototype,d,{allOwnKeys:!0}),un.extend(p,d,null,{allOwnKeys:!0}),p.create=function(A){return qie(DT(c,A))},p}const gd=qie(lB);gd.Axios=TT;gd.CanceledError=Q3;gd.CancelToken=Xme;gd.isCancel=Iie;gd.VERSION=Zie;gd.toFormData=pz;gd.AxiosError=Qr;gd.Cancel=gd.CanceledError;gd.all=function(d){return Promise.all(d)};gd.spread=Qme;gd.isAxiosError=Jme;gd.mergeConfig=DT;gd.AxiosHeaders=hp;gd.formToJSON=c=>$ie(un.isHTMLForm(c)?new FormData(c):c);gd.getAdapter=Uie.getAdapter;gd.HttpStatusCode=_ee;gd.default=gd;const{Axios:U2e,AxiosError:Z2e,CanceledError:W2e,isCancel:q2e,CancelToken:G2e,VERSION:K2e,all:Y2e,Cancel:X2e,isAxiosError:Q2e,spread:J2e,toFormData:exe,AxiosHeaders:txe,HttpStatusCode:nxe,formToJSON:oxe,getAdapter:sxe,mergeConfig:rxe}=gd,Ys=gd.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});Ys.interceptors.request.use(c=>{const d=localStorage.getItem("admin_token");return d&&(c.headers.Authorization=`Bearer ${d}`),c});Ys.interceptors.response.use(c=>c,async c=>(c.response?.status===401&&(localStorage.removeItem("admin_token"),window.location.href="/admin/"),Promise.reject(c)));function Gie(c,d,p){if(typeof c=="function"?c===d:c.has(d))return arguments.length<3?d:p;throw new TypeError("Private element is not present on this object")}function ehe(c,d){if(d.has(c))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Koe(c,d){return c.get(Gie(c,d))}function the(c,d,p){ehe(c,d),d.set(c,p)}function nhe(c,d,p){return c.set(Gie(c,d),p),p}const ohe=100,Rs={},she=()=>{Rs.previousActiveElement instanceof HTMLElement?(Rs.previousActiveElement.focus(),Rs.previousActiveElement=null):document.body&&document.body.focus()},rhe=c=>new Promise(d=>{if(!c)return d();const p=window.scrollX,x=window.scrollY;Rs.restoreFocusTimeout=setTimeout(()=>{she(),d()},ohe),window.scrollTo(p,x)}),Kie="swal2-",ahe=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],yn=ahe.reduce((c,d)=>(c[d]=Kie+d,c),{}),ihe=["success","warning","info","question","error"],GH=ihe.reduce((c,d)=>(c[d]=Kie+d,c),{}),Yie="SweetAlert2:",pte=c=>c.charAt(0).toUpperCase()+c.slice(1),gg=c=>{console.warn(`${Yie} ${typeof c=="object"?c.join(" "):c}`)},OT=c=>{console.error(`${Yie} ${c}`)},Yoe=[],lhe=c=>{Yoe.includes(c)||(Yoe.push(c),gg(c))},Xie=(c,d=null)=>{lhe(`"${c}" is deprecated and will be removed in the next major release.${d?` Use "${d}" instead.`:""}`)},yz=c=>typeof c=="function"?c():c,bte=c=>c&&typeof c.toPromise=="function",cB=c=>bte(c)?c.toPromise():Promise.resolve(c),yte=c=>c&&Promise.resolve(c)===c,pg=()=>document.body.querySelector(`.${yn.container}`),uB=c=>{const d=pg();return d?d.querySelector(c):null},O0=c=>uB(`.${c}`),zi=()=>O0(yn.popup),J3=()=>O0(yn.icon),che=()=>O0(yn["icon-content"]),Qie=()=>O0(yn.title),vte=()=>O0(yn["html-container"]),Jie=()=>O0(yn.image),xte=()=>O0(yn["progress-steps"]),vz=()=>O0(yn["validation-message"]),_v=()=>uB(`.${yn.actions} .${yn.confirm}`),eD=()=>uB(`.${yn.actions} .${yn.cancel}`),RT=()=>uB(`.${yn.actions} .${yn.deny}`),uhe=()=>O0(yn["input-label"]),tD=()=>uB(`.${yn.loader}`),dB=()=>O0(yn.actions),ele=()=>O0(yn.footer),xz=()=>O0(yn["timer-progress-bar"]),wte=()=>O0(yn.close),dhe=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Cte=()=>{const c=zi();if(!c)return[];const d=c.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),p=Array.from(d).sort((N,O)=>{const H=parseInt(N.getAttribute("tabindex")||"0"),U=parseInt(O.getAttribute("tabindex")||"0");return H>U?1:H<U?-1:0}),x=c.querySelectorAll(dhe),A=Array.from(x).filter(N=>N.getAttribute("tabindex")!=="-1");return[...new Set(p.concat(A))].filter(N=>gp(N))},Ste=()=>bx(document.body,yn.shown)&&!bx(document.body,yn["toast-shown"])&&!bx(document.body,yn["no-backdrop"]),wz=()=>{const c=zi();return c?bx(c,yn.toast):!1},fhe=()=>{const c=zi();return c?c.hasAttribute("data-loading"):!1},R0=(c,d)=>{if(c.textContent="",d){const x=new DOMParser().parseFromString(d,"text/html"),A=x.querySelector("head");A&&Array.from(A.childNodes).forEach(O=>{c.appendChild(O)});const N=x.querySelector("body");N&&Array.from(N.childNodes).forEach(O=>{O instanceof HTMLVideoElement||O instanceof HTMLAudioElement?c.appendChild(O.cloneNode(!0)):c.appendChild(O)})}},bx=(c,d)=>{if(!d)return!1;const p=d.split(/\s+/);for(let x=0;x<p.length;x++)if(!c.classList.contains(p[x]))return!1;return!0},mhe=(c,d)=>{Array.from(c.classList).forEach(p=>{!Object.values(yn).includes(p)&&!Object.values(GH).includes(p)&&!Object.values(d.showClass||{}).includes(p)&&c.classList.remove(p)})},D0=(c,d,p)=>{if(mhe(c,d),!d.customClass)return;const x=d.customClass[p];if(x){if(typeof x!="string"&&!x.forEach){gg(`Invalid type of customClass.${p}! Expected string or iterable object, got "${typeof x}"`);return}Hi(c,x)}},Cz=(c,d)=>{if(!d)return null;switch(d){case"select":case"textarea":case"file":return c.querySelector(`.${yn.popup} > .${yn[d]}`);case"checkbox":return c.querySelector(`.${yn.popup} > .${yn.checkbox} input`);case"radio":return c.querySelector(`.${yn.popup} > .${yn.radio} input:checked`)||c.querySelector(`.${yn.popup} > .${yn.radio} input:first-child`);case"range":return c.querySelector(`.${yn.popup} > .${yn.range} input`);default:return c.querySelector(`.${yn.popup} > .${yn.input}`)}},tle=c=>{if(c.focus(),c.type!=="file"){const d=c.value;c.value="",c.value=d}},nle=(c,d,p)=>{!c||!d||(typeof d=="string"&&(d=d.split(/\s+/).filter(Boolean)),d.forEach(x=>{Array.isArray(c)?c.forEach(A=>{p?A.classList.add(x):A.classList.remove(x)}):p?c.classList.add(x):c.classList.remove(x)}))},Hi=(c,d)=>{nle(c,d,!0)},z1=(c,d)=>{nle(c,d,!1)},NC=(c,d)=>{const p=Array.from(c.children);for(let x=0;x<p.length;x++){const A=p[x];if(A instanceof HTMLElement&&bx(A,d))return A}},AT=(c,d,p)=>{p===`${parseInt(`${p}`)}`&&(p=parseInt(p)),p||parseInt(`${p}`)===0?c.style.setProperty(d,typeof p=="number"?`${p}px`:p):c.style.removeProperty(d)},Xf=(c,d="flex")=>{c&&(c.style.display=d)},yh=c=>{c&&(c.style.display="none")},Ete=(c,d="block")=>{c&&new MutationObserver(()=>{fB(c,c.innerHTML,d)}).observe(c,{childList:!0,subtree:!0})},Xoe=(c,d,p,x)=>{const A=c.querySelector(d);A&&A.style.setProperty(p,x)},fB=(c,d,p="flex")=>{d?Xf(c,p):yh(c)},gp=c=>!!(c&&(c.offsetWidth||c.offsetHeight||c.getClientRects().length)),hhe=()=>!gp(_v())&&!gp(RT())&&!gp(eD()),Oee=c=>c.scrollHeight>c.clientHeight,ghe=(c,d)=>{let p=c;for(;p&&p!==d;){if(Oee(p))return!0;p=p.parentElement}return!1},ole=c=>{const d=window.getComputedStyle(c),p=parseFloat(d.getPropertyValue("animation-duration")||"0"),x=parseFloat(d.getPropertyValue("transition-duration")||"0");return p>0||x>0},Tte=(c,d=!1)=>{const p=xz();p&&gp(p)&&(d&&(p.style.transition="none",p.style.width="100%"),setTimeout(()=>{p.style.transition=`width ${c/1e3}s linear`,p.style.width="0%"},10))},phe=()=>{const c=xz();if(!c)return;const d=parseInt(window.getComputedStyle(c).width);c.style.removeProperty("transition"),c.style.width="100%";const p=parseInt(window.getComputedStyle(c).width),x=d/p*100;c.style.width=`${x}%`},bhe=()=>typeof window>"u"||typeof document>"u",yhe=`
 <div aria-labelledby="${yn.title}" aria-describedby="${yn["html-container"]}" class="${yn.popup}" tabindex="-1">
   <button type="button" class="${yn.close}"></button>
   <ul class="${yn["progress-steps"]}"></ul>
   <div class="${yn.icon}"></div>
   <img class="${yn.image}" />
   <h2 class="${yn.title}" id="${yn.title}"></h2>
   <div class="${yn["html-container"]}" id="${yn["html-container"]}"></div>
   <input class="${yn.input}" id="${yn.input}" />
   <input type="file" class="${yn.file}" />
   <div class="${yn.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${yn.select}" id="${yn.select}"></select>
   <div class="${yn.radio}"></div>
   <label class="${yn.checkbox}">
     <input type="checkbox" id="${yn.checkbox}" />
     <span class="${yn.label}"></span>
   </label>
   <textarea class="${yn.textarea}" id="${yn.textarea}"></textarea>
   <div class="${yn["validation-message"]}" id="${yn["validation-message"]}"></div>
   <div class="${yn.actions}">
     <div class="${yn.loader}"></div>
     <button type="button" class="${yn.confirm}"></button>
     <button type="button" class="${yn.deny}"></button>
     <button type="button" class="${yn.cancel}"></button>
   </div>
   <div class="${yn.footer}"></div>
   <div class="${yn["timer-progress-bar-container"]}">
     <div class="${yn["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),vhe=()=>{const c=pg();return c?(c.remove(),z1([document.documentElement,document.body],[yn["no-backdrop"],yn["toast-shown"],yn["has-column"]]),!0):!1},vT=()=>{Rs.currentInstance&&Rs.currentInstance.resetValidationMessage()},xhe=()=>{const c=zi();if(!c)return;const d=NC(c,yn.input),p=NC(c,yn.file),x=c.querySelector(`.${yn.range} input`),A=c.querySelector(`.${yn.range} output`),N=NC(c,yn.select),O=c.querySelector(`.${yn.checkbox} input`),H=NC(c,yn.textarea);d&&(d.oninput=vT),p&&(p.onchange=vT),N&&(N.onchange=vT),O&&(O.onchange=vT),H&&(H.oninput=vT),x&&A&&(x.oninput=()=>{vT(),A.value=x.value},x.onchange=()=>{vT(),A.value=x.value})},whe=c=>{if(typeof c=="string"){const d=document.querySelector(c);if(!d)throw new Error(`Target element "${c}" not found`);return d}return c},Che=c=>{const d=zi();d&&(d.setAttribute("role",c.toast?"alert":"dialog"),d.setAttribute("aria-live",c.toast?"polite":"assertive"),c.toast||d.setAttribute("aria-modal","true"))},She=c=>{window.getComputedStyle(c).direction==="rtl"&&(Hi(pg(),yn.rtl),Rs.isRTL=!0)},Ehe=c=>{const d=vhe();if(bhe()){OT("SweetAlert2 requires document to initialize");return}const p=document.createElement("div");p.className=yn.container,d&&Hi(p,yn["no-transition"]),R0(p,yhe),p.dataset.swal2Theme=c.theme;const x=whe(c.target||"body");x.appendChild(p),c.topLayer&&(p.setAttribute("popover",""),p.showPopover()),Che(c),She(x),xhe()},Ate=(c,d)=>{c instanceof HTMLElement?d.appendChild(c):typeof c=="object"?The(c,d):c&&R0(d,c)},The=(c,d)=>{"jquery"in c?Ahe(d,c):R0(d,c.toString())},Ahe=(c,d)=>{if(c.textContent="",0 in d)for(let p=0;p in d;p++)c.appendChild(d[p].cloneNode(!0));else c.appendChild(d.cloneNode(!0))},khe=(c,d)=>{const p=dB(),x=tD();!p||!x||(!d.showConfirmButton&&!d.showDenyButton&&!d.showCancelButton?yh(p):Xf(p),D0(p,d,"actions"),Dhe(p,x,d),R0(x,d.loaderHtml||""),D0(x,d,"loader"))};function Dhe(c,d,p){const x=_v(),A=RT(),N=eD();!x||!A||!N||(JJ(x,"confirm",p),JJ(A,"deny",p),JJ(N,"cancel",p),_he(x,A,N,p),p.reverseButtons&&(p.toast?(c.insertBefore(N,x),c.insertBefore(A,x)):(c.insertBefore(N,d),c.insertBefore(A,d),c.insertBefore(x,d))))}function _he(c,d,p,x){if(!x.buttonsStyling){z1([c,d,p],yn.styled);return}Hi([c,d,p],yn.styled),x.confirmButtonColor&&c.style.setProperty("--swal2-confirm-button-background-color",x.confirmButtonColor),x.denyButtonColor&&d.style.setProperty("--swal2-deny-button-background-color",x.denyButtonColor),x.cancelButtonColor&&p.style.setProperty("--swal2-cancel-button-background-color",x.cancelButtonColor),QJ(c),QJ(d),QJ(p)}function QJ(c){const d=window.getComputedStyle(c);if(d.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const p=d.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");c.style.setProperty("--swal2-action-button-focus-box-shadow",d.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${p}`))}function JJ(c,d,p){const x=pte(d);fB(c,p[`show${x}Button`],"inline-block"),R0(c,p[`${d}ButtonText`]||""),c.setAttribute("aria-label",p[`${d}ButtonAriaLabel`]||""),c.className=yn[d],D0(c,p,`${d}Button`)}const Ohe=(c,d)=>{const p=wte();p&&(R0(p,d.closeButtonHtml||""),D0(p,d,"closeButton"),fB(p,d.showCloseButton),p.setAttribute("aria-label",d.closeButtonAriaLabel||""))},Rhe=(c,d)=>{const p=pg();p&&(Nhe(p,d.backdrop),Mhe(p,d.position),Bhe(p,d.grow),D0(p,d,"container"))};function Nhe(c,d){typeof d=="string"?c.style.background=d:d||Hi([document.documentElement,document.body],yn["no-backdrop"])}function Mhe(c,d){d&&(d in yn?Hi(c,yn[d]):(gg('The "position" parameter is not valid, defaulting to "center"'),Hi(c,yn.center)))}function Bhe(c,d){d&&Hi(c,yn[`grow-${d}`])}var cc={innerParams:new WeakMap,domCache:new WeakMap};const Lhe=["input","file","range","select","radio","checkbox","textarea"],Phe=(c,d)=>{const p=zi();if(!p)return;const x=cc.innerParams.get(c),A=!x||d.input!==x.input;Lhe.forEach(N=>{const O=NC(p,yn[N]);O&&(Ihe(N,d.inputAttributes),O.className=yn[N],A&&yh(O))}),d.input&&(A&&Fhe(d),Hhe(d))},Fhe=c=>{if(!c.input)return;if(!hd[c.input]){OT(`Unexpected type of input! Expected ${Object.keys(hd).join(" | ")}, got "${c.input}"`);return}const d=sle(c.input);if(!d)return;const p=hd[c.input](d,c);Xf(d),c.inputAutoFocus&&setTimeout(()=>{tle(p)})},$he=c=>{for(let d=0;d<c.attributes.length;d++){const p=c.attributes[d].name;["id","type","value","style"].includes(p)||c.removeAttribute(p)}},Ihe=(c,d)=>{const p=zi();if(!p)return;const x=Cz(p,c);if(x){$he(x);for(const A in d)x.setAttribute(A,d[A])}},Hhe=c=>{if(!c.input)return;const d=sle(c.input);d&&D0(d,c,"input")},kte=(c,d)=>{!c.placeholder&&d.inputPlaceholder&&(c.placeholder=d.inputPlaceholder)},mB=(c,d,p)=>{if(p.inputLabel){const x=document.createElement("label"),A=yn["input-label"];x.setAttribute("for",c.id),x.className=A,typeof p.customClass=="object"&&Hi(x,p.customClass.inputLabel),x.innerText=p.inputLabel,d.insertAdjacentElement("beforebegin",x)}},sle=c=>{const d=zi();if(d)return NC(d,yn[c]||yn.input)},KH=(c,d)=>{["string","number"].includes(typeof d)?c.value=`${d}`:yte(d)||gg(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof d}"`)},hd={};hd.text=hd.email=hd.password=hd.number=hd.tel=hd.url=hd.search=hd.date=hd["datetime-local"]=hd.time=hd.week=hd.month=(c,d)=>{const p=c;return KH(p,d.inputValue),mB(p,p,d),kte(p,d),p.type=d.input,p};hd.file=(c,d)=>{const p=c;return mB(p,p,d),kte(p,d),p};hd.range=(c,d)=>{const p=c,x=p.querySelector("input"),A=p.querySelector("output");return x&&(KH(x,d.inputValue),x.type=d.input,mB(x,c,d)),A&&KH(A,d.inputValue),c};hd.select=(c,d)=>{const p=c;if(p.textContent="",d.inputPlaceholder){const x=document.createElement("option");R0(x,d.inputPlaceholder),x.value="",x.disabled=!0,x.selected=!0,p.appendChild(x)}return mB(p,p,d),p};hd.radio=c=>{const d=c;return d.textContent="",c};hd.checkbox=(c,d)=>{const p=zi();if(!p)throw new Error("Popup not found");const x=Cz(p,"checkbox");if(!x)throw new Error("Checkbox input not found");x.value="1",x.checked=!!d.inputValue;const N=c.querySelector("span");if(N){const O=d.inputPlaceholder||d.inputLabel;O&&R0(N,O)}return x};hd.textarea=(c,d)=>{const p=c;KH(p,d.inputValue),kte(p,d),mB(p,p,d);const x=A=>parseInt(window.getComputedStyle(A).marginLeft)+parseInt(window.getComputedStyle(A).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const A=zi();if(!A)return;const N=parseInt(window.getComputedStyle(A).width),O=()=>{if(!document.body.contains(p))return;const H=p.offsetWidth+x(p),U=zi();U&&(H>N?U.style.width=`${H}px`:AT(U,"width",d.width))};new MutationObserver(O).observe(p,{attributes:!0,attributeFilter:["style"]})}}),p};const zhe=(c,d)=>{const p=vte();p&&(Ete(p),D0(p,d,"htmlContainer"),d.html?(Ate(d.html,p),Xf(p,"block")):d.text?(p.textContent=d.text,Xf(p,"block")):yh(p),Phe(c,d))},Vhe=(c,d)=>{const p=ele();p&&(Ete(p),fB(p,!!d.footer,"block"),d.footer&&Ate(d.footer,p),D0(p,d,"footer"))},jhe=(c,d)=>{const p=cc.innerParams.get(c),x=J3();if(!x)return;if(p&&d.icon===p.icon){Joe(x,d),Qoe(x,d);return}if(!d.icon&&!d.iconHtml){yh(x);return}if(d.icon&&Object.keys(GH).indexOf(d.icon)===-1){OT(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${d.icon}"`),yh(x);return}Xf(x),Joe(x,d),Qoe(x,d),Hi(x,d.showClass&&d.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",rle)},Qoe=(c,d)=>{for(const[p,x]of Object.entries(GH))d.icon!==p&&z1(c,x);Hi(c,d.icon&&GH[d.icon]),Whe(c,d),rle(),D0(c,d,"icon")},rle=()=>{const c=zi();if(!c)return;const d=window.getComputedStyle(c).getPropertyValue("background-color"),p=c.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let x=0;x<p.length;x++)p[x].style.backgroundColor=d},Uhe=c=>`
  ${c.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${c.animation?'<div class="swal2-success-fix"></div>':""}
  ${c.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,Zhe=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Joe=(c,d)=>{if(!d.icon&&!d.iconHtml)return;let p=c.innerHTML,x="";d.iconHtml?x=ese(d.iconHtml):d.icon==="success"?(x=Uhe(d),p=p.replace(/ style=".*?"/g,"")):d.icon==="error"?x=Zhe:d.icon&&(x=ese({question:"?",warning:"!",info:"i"}[d.icon])),p.trim()!==x.trim()&&R0(c,x)},Whe=(c,d)=>{if(d.iconColor){c.style.color=d.iconColor,c.style.borderColor=d.iconColor;for(const p of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Xoe(c,p,"background-color",d.iconColor);Xoe(c,".swal2-success-ring","border-color",d.iconColor)}},ese=c=>`<div class="${yn["icon-content"]}">${c}</div>`,qhe=(c,d)=>{const p=Jie();if(p){if(!d.imageUrl){yh(p);return}Xf(p,""),p.setAttribute("src",d.imageUrl),p.setAttribute("alt",d.imageAlt||""),AT(p,"width",d.imageWidth),AT(p,"height",d.imageHeight),p.className=yn.image,D0(p,d,"image")}};let Dte=!1,ale=0,ile=0,lle=0,cle=0;const Ghe=c=>{c.addEventListener("mousedown",YH),document.body.addEventListener("mousemove",XH),c.addEventListener("mouseup",QH),c.addEventListener("touchstart",YH),document.body.addEventListener("touchmove",XH),c.addEventListener("touchend",QH)},Khe=c=>{c.removeEventListener("mousedown",YH),document.body.removeEventListener("mousemove",XH),c.removeEventListener("mouseup",QH),c.removeEventListener("touchstart",YH),document.body.removeEventListener("touchmove",XH),c.removeEventListener("touchend",QH)},YH=c=>{const d=zi();if(!d)return;const p=J3();if(c.target===d||p&&p.contains(c.target)){Dte=!0;const x=ule(c);ale=x.clientX,ile=x.clientY,lle=parseInt(d.style.insetInlineStart)||0,cle=parseInt(d.style.insetBlockStart)||0,Hi(d,"swal2-dragging")}},XH=c=>{const d=zi();if(d&&Dte){let{clientX:p,clientY:x}=ule(c);const A=p-ale;d.style.insetInlineStart=`${lle+(Rs.isRTL?-A:A)}px`,d.style.insetBlockStart=`${cle+(x-ile)}px`}},QH=()=>{const c=zi();Dte=!1,z1(c,"swal2-dragging")},ule=c=>{let d=0,p=0;return c.type.startsWith("mouse")?(d=c.clientX,p=c.clientY):c.type.startsWith("touch")&&(d=c.touches[0].clientX,p=c.touches[0].clientY),{clientX:d,clientY:p}},Yhe=(c,d)=>{const p=pg(),x=zi();if(!(!p||!x)){if(d.toast){AT(p,"width",d.width),x.style.width="100%";const A=tD();A&&x.insertBefore(A,J3())}else AT(x,"width",d.width);AT(x,"padding",d.padding),d.color&&(x.style.color=d.color),d.background&&(x.style.background=d.background),yh(vz()),Xhe(x,d),d.draggable&&!d.toast?(Hi(x,yn.draggable),Ghe(x)):(z1(x,yn.draggable),Khe(x))}},Xhe=(c,d)=>{const p=d.showClass||{};c.className=`${yn.popup} ${gp(c)?p.popup:""}`,d.toast?(Hi([document.documentElement,document.body],yn["toast-shown"]),Hi(c,yn.toast)):Hi(c,yn.modal),D0(c,d,"popup"),typeof d.customClass=="string"&&Hi(c,d.customClass),d.icon&&Hi(c,yn[`icon-${d.icon}`])},Qhe=(c,d)=>{const p=xte();if(!p)return;const{progressSteps:x,currentProgressStep:A}=d;if(!x||x.length===0||A===void 0){yh(p);return}Xf(p),p.textContent="",A>=x.length&&gg("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),x.forEach((N,O)=>{const H=Jhe(N);if(p.appendChild(H),O===A&&Hi(H,yn["active-progress-step"]),O!==x.length-1){const U=ege(d);p.appendChild(U)}})},Jhe=c=>{const d=document.createElement("li");return Hi(d,yn["progress-step"]),R0(d,c),d},ege=c=>{const d=document.createElement("li");return Hi(d,yn["progress-step-line"]),c.progressStepsDistance&&AT(d,"width",c.progressStepsDistance),d},tge=(c,d)=>{const p=Qie();p&&(Ete(p),fB(p,!!(d.title||d.titleText),"block"),d.title&&Ate(d.title,p),d.titleText&&(p.innerText=d.titleText),D0(p,d,"title"))},dle=(c,d)=>{var p;Yhe(c,d),Rhe(c,d),Qhe(c,d),jhe(c,d),qhe(c,d),tge(c,d),Ohe(c,d),zhe(c,d),khe(c,d),Vhe(c,d);const x=zi();typeof d.didRender=="function"&&x&&d.didRender(x),(p=Rs.eventEmitter)===null||p===void 0||p.emit("didRender",x)},nge=()=>gp(zi()),fle=()=>{var c;return(c=_v())===null||c===void 0?void 0:c.click()},oge=()=>{var c;return(c=RT())===null||c===void 0?void 0:c.click()},sge=()=>{var c;return(c=eD())===null||c===void 0?void 0:c.click()},nD=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),mle=c=>{if(c.keydownTarget&&c.keydownHandlerAdded&&c.keydownHandler){const d=c.keydownHandler;c.keydownTarget.removeEventListener("keydown",d,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!1}},rge=(c,d,p)=>{if(mle(c),!d.toast){const x=N=>ige(d,N,p);c.keydownHandler=x;const A=d.keydownListenerCapture?window:zi();if(A){c.keydownTarget=A,c.keydownListenerCapture=d.keydownListenerCapture;const N=x;c.keydownTarget.addEventListener("keydown",N,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!0}}},Ree=(c,d)=>{var p;const x=Cte();if(x.length){c=c+d,c===-2&&(c=x.length-1),c===x.length?c=0:c===-1&&(c=x.length-1),x[c].focus();return}(p=zi())===null||p===void 0||p.focus()},hle=["ArrowRight","ArrowDown"],age=["ArrowLeft","ArrowUp"],ige=(c,d,p)=>{c&&(d.isComposing||d.keyCode===229||(c.stopKeydownPropagation&&d.stopPropagation(),d.key==="Enter"?lge(d,c):d.key==="Tab"?cge(d):[...hle,...age].includes(d.key)?uge(d.key):d.key==="Escape"&&dge(d,c,p)))},lge=(c,d)=>{if(!yz(d.allowEnterKey))return;const p=zi();if(!p||!d.input)return;const x=Cz(p,d.input);if(c.target&&x&&c.target instanceof HTMLElement&&c.target.outerHTML===x.outerHTML){if(["textarea","file"].includes(d.input))return;fle(),c.preventDefault()}},cge=c=>{const d=c.target,p=Cte();let x=-1;for(let A=0;A<p.length;A++)if(d===p[A]){x=A;break}c.shiftKey?Ree(x,-1):Ree(x,1),c.stopPropagation(),c.preventDefault()},uge=c=>{const d=dB(),p=_v(),x=RT(),A=eD();if(!d||!p||!x||!A)return;const N=[p,x,A];if(document.activeElement instanceof HTMLElement&&!N.includes(document.activeElement))return;const O=hle.includes(c)?"nextElementSibling":"previousElementSibling";let H=document.activeElement;if(H){for(let U=0;U<d.children.length;U++){if(H=H[O],!H)return;if(H instanceof HTMLButtonElement&&gp(H))break}H instanceof HTMLButtonElement&&H.focus()}},dge=(c,d,p)=>{c.preventDefault(),yz(d.allowEscapeKey)&&p(nD.esc)};var U3={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const fge=()=>{const c=pg();Array.from(document.body.children).forEach(p=>{p.contains(c)||(p.hasAttribute("aria-hidden")&&p.setAttribute("data-previous-aria-hidden",p.getAttribute("aria-hidden")||""),p.setAttribute("aria-hidden","true"))})},gle=()=>{Array.from(document.body.children).forEach(d=>{d.hasAttribute("data-previous-aria-hidden")?(d.setAttribute("aria-hidden",d.getAttribute("data-previous-aria-hidden")||""),d.removeAttribute("data-previous-aria-hidden")):d.removeAttribute("aria-hidden")})},ple=typeof window<"u"&&!!window.GestureEvent,mge=()=>{if(ple&&!bx(document.body,yn.iosfix)){const c=document.body.scrollTop;document.body.style.top=`${c*-1}px`,Hi(document.body,yn.iosfix),hge()}},hge=()=>{const c=pg();if(!c)return;let d;c.ontouchstart=p=>{d=gge(p)},c.ontouchmove=p=>{d&&(p.preventDefault(),p.stopPropagation())}},gge=c=>{const d=c.target,p=pg(),x=vte();return!p||!x||pge(c)||bge(c)?!1:d===p||!Oee(p)&&d instanceof HTMLElement&&!ghe(d,x)&&d.tagName!=="INPUT"&&d.tagName!=="TEXTAREA"&&!(Oee(x)&&x.contains(d))},pge=c=>!!(c.touches&&c.touches.length&&c.touches[0].touchType==="stylus"),bge=c=>c.touches&&c.touches.length>1,yge=()=>{if(bx(document.body,yn.iosfix)){const c=parseInt(document.body.style.top,10);z1(document.body,yn.iosfix),document.body.style.top="",document.body.scrollTop=c*-1}},vge=()=>{const c=document.createElement("div");c.className=yn["scrollbar-measure"],document.body.appendChild(c);const d=c.getBoundingClientRect().width-c.clientWidth;return document.body.removeChild(c),d};let z3=null;const xge=c=>{z3===null&&(document.body.scrollHeight>window.innerHeight||c==="scroll")&&(z3=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${z3+vge()}px`)},wge=()=>{z3!==null&&(document.body.style.paddingRight=`${z3}px`,z3=null)};function ble(c,d,p,x){wz()?tse(c,x):(rhe(p).then(()=>tse(c,x)),mle(Rs)),ple?(d.setAttribute("style","display:none !important"),d.removeAttribute("class"),d.innerHTML=""):d.remove(),Ste()&&(wge(),yge(),gle()),Cge()}function Cge(){z1([document.documentElement,document.body],[yn.shown,yn["height-auto"],yn["no-backdrop"],yn["toast-shown"]])}function MC(c){c=Ege(c);const d=U3.swalPromiseResolve.get(this),p=Sge(this);this.isAwaitingPromise?c.isDismissed||(hB(this),d(c)):p&&d(c)}const Sge=c=>{const d=zi();if(!d)return!1;const p=cc.innerParams.get(c);if(!p||bx(d,p.hideClass.popup))return!1;z1(d,p.showClass.popup),Hi(d,p.hideClass.popup);const x=pg();return z1(x,p.showClass.backdrop),Hi(x,p.hideClass.backdrop),Tge(c,d,p),!0};function yle(c){const d=U3.swalPromiseReject.get(this);hB(this),d&&d(c)}const hB=c=>{c.isAwaitingPromise&&(delete c.isAwaitingPromise,cc.innerParams.get(c)||c._destroy())},Ege=c=>typeof c>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},c),Tge=(c,d,p)=>{var x;const A=pg(),N=ole(d);typeof p.willClose=="function"&&p.willClose(d),(x=Rs.eventEmitter)===null||x===void 0||x.emit("willClose",d),N&&A?Age(c,d,A,!!p.returnFocus,p.didClose):A&&ble(c,A,!!p.returnFocus,p.didClose)},Age=(c,d,p,x,A)=>{Rs.swalCloseEventFinishedCallback=ble.bind(null,c,p,x,A);const N=function(O){if(O.target===d){var H;(H=Rs.swalCloseEventFinishedCallback)===null||H===void 0||H.call(Rs),delete Rs.swalCloseEventFinishedCallback,d.removeEventListener("animationend",N),d.removeEventListener("transitionend",N)}};d.addEventListener("animationend",N),d.addEventListener("transitionend",N)},tse=(c,d)=>{setTimeout(()=>{var p;typeof d=="function"&&d.bind(c.params)(),(p=Rs.eventEmitter)===null||p===void 0||p.emit("didClose"),c._destroy&&c._destroy()})},Z3=c=>{let d=zi();if(d||new _o,d=zi(),!d)return;const p=tD();wz()?yh(J3()):kge(d,c),Xf(p),d.setAttribute("data-loading","true"),d.setAttribute("aria-busy","true"),d.focus()},kge=(c,d)=>{const p=dB(),x=tD();!p||!x||(!d&&gp(_v())&&(d=_v()),Xf(p),d&&(yh(d),x.setAttribute("data-button-to-replace",d.className),p.insertBefore(x,d)),Hi([c,p],yn.loading))},Dge=(c,d)=>{d.input==="select"||d.input==="radio"?Mge(c,d):["text","email","number","tel","textarea"].some(p=>p===d.input)&&(bte(d.inputValue)||yte(d.inputValue))&&(Z3(_v()),Bge(c,d))},_ge=(c,d)=>{const p=c.getInput();if(!p)return null;switch(d.input){case"checkbox":return Oge(p);case"radio":return Rge(p);case"file":return Nge(p);default:return d.inputAutoTrim?p.value.trim():p.value}},Oge=c=>c.checked?1:0,Rge=c=>c.checked?c.value:null,Nge=c=>c.files&&c.files.length?c.getAttribute("multiple")!==null?c.files:c.files[0]:null,Mge=(c,d)=>{const p=zi();if(!p)return;const x=A=>{d.input==="select"?Lge(p,JH(A),d):d.input==="radio"&&Pge(p,JH(A),d)};bte(d.inputOptions)||yte(d.inputOptions)?(Z3(_v()),cB(d.inputOptions).then(A=>{c.hideLoading(),x(A)})):typeof d.inputOptions=="object"?x(d.inputOptions):OT(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof d.inputOptions}`)},Bge=(c,d)=>{const p=c.getInput();p&&(yh(p),cB(d.inputValue).then(x=>{p.value=d.input==="number"?`${parseFloat(x)||0}`:`${x}`,Xf(p),p.focus(),c.hideLoading()}).catch(x=>{OT(`Error in inputValue promise: ${x}`),p.value="",Xf(p),p.focus(),c.hideLoading()}))};function Lge(c,d,p){const x=NC(c,yn.select);if(!x)return;const A=(N,O,H)=>{const U=document.createElement("option");U.value=H,R0(U,O),U.selected=vle(H,p.inputValue),N.appendChild(U)};d.forEach(N=>{const O=N[0],H=N[1];if(Array.isArray(H)){const U=document.createElement("optgroup");U.label=O,U.disabled=!1,x.appendChild(U),H.forEach(V=>A(U,V[1],V[0]))}else A(x,H,O)}),x.focus()}function Pge(c,d,p){const x=NC(c,yn.radio);if(!x)return;d.forEach(N=>{const O=N[0],H=N[1],U=document.createElement("input"),V=document.createElement("label");U.type="radio",U.name=yn.radio,U.value=O,vle(O,p.inputValue)&&(U.checked=!0);const Y=document.createElement("span");R0(Y,H),Y.className=yn.label,V.appendChild(U),V.appendChild(Y),x.appendChild(V)});const A=x.querySelectorAll("input");A.length&&A[0].focus()}const JH=c=>{const d=[];return c instanceof Map?c.forEach((p,x)=>{let A=p;typeof A=="object"&&(A=JH(A)),d.push([x,A])}):Object.keys(c).forEach(p=>{let x=c[p];typeof x=="object"&&(x=JH(x)),d.push([p,x])}),d},vle=(c,d)=>!!d&&d!==null&&d!==void 0&&d.toString()===c.toString(),Fge=c=>{const d=cc.innerParams.get(c);c.disableButtons(),d.input?xle(c,"confirm"):Ote(c,!0)},$ge=c=>{const d=cc.innerParams.get(c);c.disableButtons(),d.returnInputValueOnDeny?xle(c,"deny"):_te(c,!1)},Ige=(c,d)=>{c.disableButtons(),d(nD.cancel)},xle=(c,d)=>{const p=cc.innerParams.get(c);if(!p.input){OT(`The "input" parameter is needed to be set when using returnInputValueOn${pte(d)}`);return}const x=c.getInput(),A=_ge(c,p);p.inputValidator?Hge(c,A,d):x&&!x.checkValidity()?(c.enableButtons(),c.showValidationMessage(p.validationMessage||x.validationMessage)):d==="deny"?_te(c,A):Ote(c,A)},Hge=(c,d,p)=>{const x=cc.innerParams.get(c);c.disableInput(),Promise.resolve().then(()=>cB(x.inputValidator(d,x.validationMessage))).then(N=>{c.enableButtons(),c.enableInput(),N?c.showValidationMessage(N):p==="deny"?_te(c,d):Ote(c,d)})},_te=(c,d)=>{const p=cc.innerParams.get(c);p.showLoaderOnDeny&&Z3(RT()),p.preDeny?(c.isAwaitingPromise=!0,Promise.resolve().then(()=>cB(p.preDeny(d,p.validationMessage))).then(A=>{A===!1?(c.hideLoading(),hB(c)):c.close({isDenied:!0,value:typeof A>"u"?d:A})}).catch(A=>wle(c,A))):c.close({isDenied:!0,value:d})},nse=(c,d)=>{c.close({isConfirmed:!0,value:d})},wle=(c,d)=>{c.rejectPromise(d)},Ote=(c,d)=>{const p=cc.innerParams.get(c);p.showLoaderOnConfirm&&Z3(),p.preConfirm?(c.resetValidationMessage(),c.isAwaitingPromise=!0,Promise.resolve().then(()=>cB(p.preConfirm(d,p.validationMessage))).then(A=>{gp(vz())||A===!1?(c.hideLoading(),hB(c)):nse(c,typeof A>"u"?d:A)}).catch(A=>wle(c,A))):nse(c,d)};function ez(){const c=cc.innerParams.get(this);if(!c)return;const d=cc.domCache.get(this);yh(d.loader),wz()?c.icon&&Xf(J3()):zge(d),z1([d.popup,d.actions],yn.loading),d.popup.removeAttribute("aria-busy"),d.popup.removeAttribute("data-loading"),d.confirmButton.disabled=!1,d.denyButton.disabled=!1,d.cancelButton.disabled=!1}const zge=c=>{const d=c.loader.getAttribute("data-button-to-replace"),p=d?c.popup.getElementsByClassName(d):[];p.length?Xf(p[0],"inline-block"):hhe()&&yh(c.actions)};function Cle(){const c=cc.innerParams.get(this),d=cc.domCache.get(this);return d?Cz(d.popup,c.input):null}function Sle(c,d,p){const x=cc.domCache.get(c);d.forEach(A=>{x[A].disabled=p})}function Ele(c,d){const p=zi();if(!(!p||!c))if(c.type==="radio"){const x=p.querySelectorAll(`[name="${yn.radio}"]`);for(let A=0;A<x.length;A++)x[A].disabled=d}else c.disabled=d}function Tle(){Sle(this,["confirmButton","denyButton","cancelButton"],!1)}function Ale(){Sle(this,["confirmButton","denyButton","cancelButton"],!0)}function kle(){Ele(this.getInput(),!1)}function Dle(){Ele(this.getInput(),!0)}function _le(c){const d=cc.domCache.get(this),p=cc.innerParams.get(this);R0(d.validationMessage,c),d.validationMessage.className=yn["validation-message"],p.customClass&&p.customClass.validationMessage&&Hi(d.validationMessage,p.customClass.validationMessage),Xf(d.validationMessage);const x=this.getInput();x&&(x.setAttribute("aria-invalid","true"),x.setAttribute("aria-describedby",yn["validation-message"]),tle(x),Hi(x,yn.inputerror))}function Ole(){const c=cc.domCache.get(this);c.validationMessage&&yh(c.validationMessage);const d=this.getInput();d&&(d.removeAttribute("aria-invalid"),d.removeAttribute("aria-describedby"),z1(d,yn.inputerror))}const BC={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},Vge=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],jge={allowEnterKey:void 0},Uge=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Rle=c=>Object.prototype.hasOwnProperty.call(BC,c),Nle=c=>Vge.indexOf(c)!==-1,Mle=c=>jge[c],Zge=c=>{Rle(c)||gg(`Unknown parameter "${c}"`)},Wge=c=>{Uge.includes(c)&&gg(`The parameter "${c}" is incompatible with toasts`)},qge=c=>{const d=Mle(c);d&&Xie(c,d)},Ble=c=>{c.backdrop===!1&&c.allowOutsideClick&&gg('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),c.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(c.theme)&&gg(`Invalid theme "${c.theme}"`);for(const d in c)Zge(d),c.toast&&Wge(d),qge(d)};function Lle(c){const d=pg(),p=zi(),x=cc.innerParams.get(this);if(!p||bx(p,x.hideClass.popup)){gg("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const A=Gge(c),N=Object.assign({},x,A);Ble(N),d&&(d.dataset.swal2Theme=N.theme),dle(this,N),cc.innerParams.set(this,N),Object.defineProperties(this,{params:{value:Object.assign({},this.params,c),writable:!1,enumerable:!0}})}const Gge=c=>{const d={};return Object.keys(c).forEach(p=>{if(Nle(p)){const x=c;d[p]=x[p]}else gg(`Invalid parameter to update: ${p}`)}),d};function Ple(){var c;const d=cc.domCache.get(this),p=cc.innerParams.get(this);if(!p){Fle(this);return}d.popup&&Rs.swalCloseEventFinishedCallback&&(Rs.swalCloseEventFinishedCallback(),delete Rs.swalCloseEventFinishedCallback),typeof p.didDestroy=="function"&&p.didDestroy(),(c=Rs.eventEmitter)===null||c===void 0||c.emit("didDestroy"),Kge(this)}const Kge=c=>{Fle(c),delete c.params,delete Rs.keydownHandler,delete Rs.keydownTarget,delete Rs.currentInstance},Fle=c=>{c.isAwaitingPromise?(eee(cc,c),c.isAwaitingPromise=!0):(eee(U3,c),eee(cc,c),delete c.isAwaitingPromise,delete c.disableButtons,delete c.enableButtons,delete c.getInput,delete c.disableInput,delete c.enableInput,delete c.hideLoading,delete c.disableLoading,delete c.showValidationMessage,delete c.resetValidationMessage,delete c.close,delete c.closePopup,delete c.closeModal,delete c.closeToast,delete c.rejectPromise,delete c.update,delete c._destroy)},eee=(c,d)=>{for(const p in c)c[p].delete(d)};var Yge=Object.freeze({__proto__:null,_destroy:Ple,close:MC,closeModal:MC,closePopup:MC,closeToast:MC,disableButtons:Ale,disableInput:Dle,disableLoading:ez,enableButtons:Tle,enableInput:kle,getInput:Cle,handleAwaitingPromise:hB,hideLoading:ez,rejectPromise:yle,resetValidationMessage:Ole,showValidationMessage:_le,update:Lle});const Xge=(c,d,p)=>{c.toast?Qge(c,d,p):(epe(d),tpe(d),npe(c,d,p))},Qge=(c,d,p)=>{d.popup.onclick=()=>{c&&(Jge(c)||c.timer||c.input)||p(nD.close)}},Jge=c=>!!(c.showConfirmButton||c.showDenyButton||c.showCancelButton||c.showCloseButton);let tz=!1;const epe=c=>{c.popup.onmousedown=()=>{c.container.onmouseup=function(d){c.container.onmouseup=()=>{},d.target===c.container&&(tz=!0)}}},tpe=c=>{c.container.onmousedown=d=>{d.target===c.container&&d.preventDefault(),c.popup.onmouseup=function(p){c.popup.onmouseup=()=>{},(p.target===c.popup||p.target instanceof HTMLElement&&c.popup.contains(p.target))&&(tz=!0)}}},npe=(c,d,p)=>{d.container.onclick=x=>{if(tz){tz=!1;return}x.target===d.container&&yz(c.allowOutsideClick)&&p(nD.backdrop)}},ope=c=>typeof c=="object"&&c.jquery,ose=c=>c instanceof Element||ope(c),spe=c=>{const d={};return typeof c[0]=="object"&&!ose(c[0])?Object.assign(d,c[0]):["title","html","icon"].forEach((p,x)=>{const A=c[x];typeof A=="string"||ose(A)?d[p]=A:A!==void 0&&OT(`Unexpected type of ${p}! Expected "string" or "Element", got ${typeof A}`)}),d};function rpe(...c){return new this(...c)}function ape(c){class d extends this{_main(x,A){return super._main(x,Object.assign({},c,A))}}return d}const ipe=()=>Rs.timeout&&Rs.timeout.getTimerLeft(),$le=()=>{if(Rs.timeout)return phe(),Rs.timeout.stop()},Ile=()=>{if(Rs.timeout){const c=Rs.timeout.start();return Tte(c),c}},lpe=()=>{const c=Rs.timeout;return c&&(c.running?$le():Ile())},cpe=c=>{if(Rs.timeout){const d=Rs.timeout.increase(c);return Tte(d,!0),d}},upe=()=>!!(Rs.timeout&&Rs.timeout.isRunning());let sse=!1;const Nee={};function dpe(c="data-swal-template"){Nee[c]=this,sse||(document.body.addEventListener("click",fpe),sse=!0)}const fpe=c=>{for(let d=c.target;d&&d!==document;d=d.parentNode)for(const p in Nee){const x=d.getAttribute&&d.getAttribute(p);if(x){Nee[p].fire({template:x});return}}};class mpe{constructor(){this.events={}}_getHandlersByEventName(d){return typeof this.events[d]>"u"&&(this.events[d]=[]),this.events[d]}on(d,p){const x=this._getHandlersByEventName(d);x.includes(p)||x.push(p)}once(d,p){const x=(...A)=>{this.removeListener(d,x),p.apply(this,A)};this.on(d,x)}emit(d,...p){this._getHandlersByEventName(d).forEach(x=>{try{x.apply(this,p)}catch(A){console.error(A)}})}removeListener(d,p){const x=this._getHandlersByEventName(d),A=x.indexOf(p);A>-1&&x.splice(A,1)}removeAllListeners(d){this.events[d]!==void 0&&(this.events[d].length=0)}reset(){this.events={}}}Rs.eventEmitter=new mpe;const hpe=(c,d)=>{Rs.eventEmitter&&Rs.eventEmitter.on(c,d)},gpe=(c,d)=>{Rs.eventEmitter&&Rs.eventEmitter.once(c,d)},ppe=(c,d)=>{if(Rs.eventEmitter){if(!c){Rs.eventEmitter.reset();return}d?Rs.eventEmitter.removeListener(c,d):Rs.eventEmitter.removeAllListeners(c)}};var bpe=Object.freeze({__proto__:null,argsToParams:spe,bindClickHandler:dpe,clickCancel:sge,clickConfirm:fle,clickDeny:oge,enableLoading:Z3,fire:rpe,getActions:dB,getCancelButton:eD,getCloseButton:wte,getConfirmButton:_v,getContainer:pg,getDenyButton:RT,getFocusableElements:Cte,getFooter:ele,getHtmlContainer:vte,getIcon:J3,getIconContent:che,getImage:Jie,getInputLabel:uhe,getLoader:tD,getPopup:zi,getProgressSteps:xte,getTimerLeft:ipe,getTimerProgressBar:xz,getTitle:Qie,getValidationMessage:vz,increaseTimer:cpe,isDeprecatedParameter:Mle,isLoading:fhe,isTimerRunning:upe,isUpdatableParameter:Nle,isValidParameter:Rle,isVisible:nge,mixin:ape,off:ppe,on:hpe,once:gpe,resumeTimer:Ile,showLoading:Z3,stopTimer:$le,toggleTimer:lpe});class ype{constructor(d,p){this.callback=d,this.remaining=p,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(d){const p=this.running;return p&&this.stop(),this.remaining+=d,p&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Hle=["swal-title","swal-html","swal-footer"],vpe=c=>{const d=typeof c.template=="string"?document.querySelector(c.template):c.template;if(!d)return{};const p=d.content;return kpe(p),Object.assign(xpe(p),wpe(p),Cpe(p),Spe(p),Epe(p),Tpe(p),Ape(p,Hle))},xpe=c=>{const d={};return Array.from(c.querySelectorAll("swal-param")).forEach(x=>{_T(x,["name","value"]);const A=x.getAttribute("name"),N=x.getAttribute("value");!A||!N||(A in BC&&typeof BC[A]=="boolean"?d[A]=N!=="false":A in BC&&typeof BC[A]=="object"?d[A]=JSON.parse(N):d[A]=N)}),d},wpe=c=>{const d={};return Array.from(c.querySelectorAll("swal-function-param")).forEach(x=>{const A=x.getAttribute("name"),N=x.getAttribute("value");!A||!N||(d[A]=new Function(`return ${N}`)())}),d},Cpe=c=>{const d={};return Array.from(c.querySelectorAll("swal-button")).forEach(x=>{_T(x,["type","color","aria-label"]);const A=x.getAttribute("type");if(!(!A||!["confirm","cancel","deny"].includes(A))){if(d[`${A}ButtonText`]=x.innerHTML,d[`show${pte(A)}Button`]=!0,x.hasAttribute("color")){const N=x.getAttribute("color");N!==null&&(d[`${A}ButtonColor`]=N)}if(x.hasAttribute("aria-label")){const N=x.getAttribute("aria-label");N!==null&&(d[`${A}ButtonAriaLabel`]=N)}}}),d},Spe=c=>{const d={},p=c.querySelector("swal-image");return p&&(_T(p,["src","width","height","alt"]),p.hasAttribute("src")&&(d.imageUrl=p.getAttribute("src")||void 0),p.hasAttribute("width")&&(d.imageWidth=p.getAttribute("width")||void 0),p.hasAttribute("height")&&(d.imageHeight=p.getAttribute("height")||void 0),p.hasAttribute("alt")&&(d.imageAlt=p.getAttribute("alt")||void 0)),d},Epe=c=>{const d={},p=c.querySelector("swal-icon");return p&&(_T(p,["type","color"]),p.hasAttribute("type")&&(d.icon=p.getAttribute("type")),p.hasAttribute("color")&&(d.iconColor=p.getAttribute("color")),d.iconHtml=p.innerHTML),d},Tpe=c=>{const d={},p=c.querySelector("swal-input");p&&(_T(p,["type","label","placeholder","value"]),d.input=p.getAttribute("type")||"text",p.hasAttribute("label")&&(d.inputLabel=p.getAttribute("label")),p.hasAttribute("placeholder")&&(d.inputPlaceholder=p.getAttribute("placeholder")),p.hasAttribute("value")&&(d.inputValue=p.getAttribute("value")));const x=Array.from(c.querySelectorAll("swal-input-option"));return x.length&&(d.inputOptions={},x.forEach(A=>{_T(A,["value"]);const N=A.getAttribute("value");if(!N)return;const O=A.innerHTML;d.inputOptions[N]=O})),d},Ape=(c,d)=>{const p={};for(const x in d){const A=d[x],N=c.querySelector(A);N&&(_T(N,[]),p[A.replace(/^swal-/,"")]=N.innerHTML.trim())}return p},kpe=c=>{const d=Hle.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(c.children).forEach(p=>{const x=p.tagName.toLowerCase();d.includes(x)||gg(`Unrecognized element <${x}>`)})},_T=(c,d)=>{Array.from(c.attributes).forEach(p=>{d.indexOf(p.name)===-1&&gg([`Unrecognized attribute "${p.name}" on <${c.tagName.toLowerCase()}>.`,`${d.length?`Allowed attributes are: ${d.join(", ")}`:"To set the value, use HTML within the element."}`])})},zle=10,Dpe=c=>{var d,p;const x=pg(),A=zi();if(!x||!A)return;typeof c.willOpen=="function"&&c.willOpen(A),(d=Rs.eventEmitter)===null||d===void 0||d.emit("willOpen",A);const O=window.getComputedStyle(document.body).overflowY;if(Rpe(x,A,c),setTimeout(()=>{_pe(x,A)},zle),Ste()&&(Ope(x,c.scrollbarPadding!==void 0?c.scrollbarPadding:!1,O),fge()),!wz()&&!Rs.previousActiveElement&&(Rs.previousActiveElement=document.activeElement),typeof c.didOpen=="function"){const H=c.didOpen;setTimeout(()=>H(A))}(p=Rs.eventEmitter)===null||p===void 0||p.emit("didOpen",A)},nz=c=>{const d=zi();if(!d||c.target!==d)return;const p=pg();p&&(d.removeEventListener("animationend",nz),d.removeEventListener("transitionend",nz),p.style.overflowY="auto",z1(p,yn["no-transition"]))},_pe=(c,d)=>{ole(d)?(c.style.overflowY="hidden",d.addEventListener("animationend",nz),d.addEventListener("transitionend",nz)):c.style.overflowY="auto"},Ope=(c,d,p)=>{mge(),d&&p!=="hidden"&&xge(p),setTimeout(()=>{c.scrollTop=0})},Rpe=(c,d,p)=>{var x;(x=p.showClass)!==null&&x!==void 0&&x.backdrop&&Hi(c,p.showClass.backdrop),p.animation?(d.style.setProperty("opacity","0","important"),Xf(d,"grid"),setTimeout(()=>{var A;(A=p.showClass)!==null&&A!==void 0&&A.popup&&Hi(d,p.showClass.popup),d.style.removeProperty("opacity")},zle)):Xf(d,"grid"),Hi([document.documentElement,document.body],yn.shown),p.heightAuto&&p.backdrop&&!p.toast&&Hi([document.documentElement,document.body],yn["height-auto"])};var rse={email:(c,d)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(c)?Promise.resolve():Promise.resolve(d||"Invalid email address"),url:(c,d)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(c)?Promise.resolve():Promise.resolve(d||"Invalid URL")};function Npe(c){c.inputValidator||(c.input==="email"&&(c.inputValidator=rse.email),c.input==="url"&&(c.inputValidator=rse.url))}function Mpe(c){(!c.target||typeof c.target=="string"&&!document.querySelector(c.target)||typeof c.target!="string"&&!c.target.appendChild)&&(gg('Target parameter is not valid, defaulting to "body"'),c.target="body")}function Bpe(c){Npe(c),c.showLoaderOnConfirm&&!c.preConfirm&&gg(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Mpe(c),typeof c.title=="string"&&(c.title=c.title.split(`
`).join("<br />")),Ehe(c)}let kv;var OH=new WeakMap;class pd{constructor(...d){if(the(this,OH,Promise.resolve({isConfirmed:!1,isDenied:!1,isDismissed:!0})),typeof window>"u")return;kv=this;const p=Object.freeze(this.constructor.argsToParams(d));this.params=p,this.isAwaitingPromise=!1,nhe(OH,this,this._main(kv.params))}_main(d,p={}){if(Ble(Object.assign({},p,d)),Rs.currentInstance){const N=U3.swalPromiseResolve.get(Rs.currentInstance),{isAwaitingPromise:O}=Rs.currentInstance;Rs.currentInstance._destroy(),O||N({isDismissed:!0}),Ste()&&gle()}Rs.currentInstance=kv;const x=Ppe(d,p);Bpe(x),Object.freeze(x),Rs.timeout&&(Rs.timeout.stop(),delete Rs.timeout),clearTimeout(Rs.restoreFocusTimeout);const A=Fpe(kv);return dle(kv,x),cc.innerParams.set(kv,x),Lpe(kv,A,x)}then(d){return Koe(OH,this).then(d)}finally(d){return Koe(OH,this).finally(d)}}const Lpe=(c,d,p)=>new Promise((x,A)=>{const N=O=>{c.close({isDismissed:!0,dismiss:O,isConfirmed:!1,isDenied:!1})};U3.swalPromiseResolve.set(c,x),U3.swalPromiseReject.set(c,A),d.confirmButton.onclick=()=>{Fge(c)},d.denyButton.onclick=()=>{$ge(c)},d.cancelButton.onclick=()=>{Ige(c,N)},d.closeButton.onclick=()=>{N(nD.close)},Xge(p,d,N),rge(Rs,p,N),Dge(c,p),Dpe(p),$pe(Rs,p,N),Ipe(d,p),setTimeout(()=>{d.container.scrollTop=0})}),Ppe=(c,d)=>{const p=vpe(c),x=Object.assign({},BC,d,p,c);return x.showClass=Object.assign({},BC.showClass,x.showClass),x.hideClass=Object.assign({},BC.hideClass,x.hideClass),x.animation===!1&&(x.showClass={backdrop:"swal2-noanimation"},x.hideClass={}),x},Fpe=c=>{const d={popup:zi(),container:pg(),actions:dB(),confirmButton:_v(),denyButton:RT(),cancelButton:eD(),loader:tD(),closeButton:wte(),validationMessage:vz(),progressSteps:xte()};return cc.domCache.set(c,d),d},$pe=(c,d,p)=>{const x=xz();yh(x),d.timer&&(c.timeout=new ype(()=>{p("timer"),delete c.timeout},d.timer),d.timerProgressBar&&x&&(Xf(x),D0(x,d,"timerProgressBar"),setTimeout(()=>{c.timeout&&c.timeout.running&&Tte(d.timer)})))},Ipe=(c,d)=>{if(!d.toast){if(!yz(d.allowEnterKey)){Xie("allowEnterKey"),Vpe();return}Hpe(c)||zpe(c,d)||Ree(-1,1)}},Hpe=c=>{const d=Array.from(c.popup.querySelectorAll("[autofocus]"));for(const p of d)if(p instanceof HTMLElement&&gp(p))return p.focus(),!0;return!1},zpe=(c,d)=>d.focusDeny&&gp(c.denyButton)?(c.denyButton.focus(),!0):d.focusCancel&&gp(c.cancelButton)?(c.cancelButton.focus(),!0):d.focusConfirm&&gp(c.confirmButton)?(c.confirmButton.focus(),!0):!1,Vpe=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};pd.prototype.disableButtons=Ale;pd.prototype.enableButtons=Tle;pd.prototype.getInput=Cle;pd.prototype.disableInput=Dle;pd.prototype.enableInput=kle;pd.prototype.hideLoading=ez;pd.prototype.disableLoading=ez;pd.prototype.showValidationMessage=_le;pd.prototype.resetValidationMessage=Ole;pd.prototype.close=MC;pd.prototype.closePopup=MC;pd.prototype.closeModal=MC;pd.prototype.closeToast=MC;pd.prototype.rejectPromise=yle;pd.prototype.update=Lle;pd.prototype._destroy=Ple;Object.assign(pd,bpe);Object.keys(Yge).forEach(c=>{pd[c]=function(...d){if(kv&&kv[c])return kv[c](...d)}});pd.DismissReason=nD;pd.version="11.26.17";const _o=pd;_o.default=_o;typeof document<"u"&&(function(c,d){var p=c.createElement("style");if(c.getElementsByTagName("head")[0].appendChild(p),p.styleSheet)p.styleSheet.disabled||(p.styleSheet.cssText=d);else try{p.innerHTML=d}catch{p.innerText=d}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');function jpe(){const[c,d]=Ke.useState(""),[p,x]=Ke.useState(""),[A,N]=Ke.useState(!1),O=Y3(),H=fz(V=>V.login),U=async V=>{V.preventDefault(),N(!0);try{const Y=await Ys.post("/auth.php?action=login",{email:c,password:p});Y.data.success?(H(Y.data.token,Y.data.user),O("/dashboard")):_o.fire("Hata",Y.data.error||"Giri baarsz","error")}catch(Y){_o.fire("Hata",Y.response?.data?.error||"Sunucu hatas","error")}finally{N(!1)}};return j.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:j.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl overflow-hidden",children:[j.jsxs("div",{className:"p-8",children:[j.jsxs("div",{className:"text-center mb-8",children:[j.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-xl flex items-center justify-center mx-auto mb-4",children:j.jsxs("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),j.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Admin Panel Giri"})]}),j.jsxs("form",{onSubmit:U,className:"space-y-6",children:[j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"E-posta"}),j.jsx("input",{type:"email",value:c,onChange:V=>d(V.target.value),required:!0,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"admin@example.com"})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"ifre"}),j.jsx("input",{type:"password",value:p,onChange:V=>x(V.target.value),required:!0,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:""})]}),j.jsx("button",{type:"submit",disabled:A,className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:A?"Giri yaplyor...":"Giri Yap"})]})]}),j.jsx("div",{className:"bg-gray-50 px-8 py-4 border-t border-gray-100",children:j.jsx("p",{className:"text-xs text-gray-500 text-center",children:" 2026 Mekan Fotorafs"})})]})})}function Upe(){const[c,d]=Ke.useState(null),[p,x]=Ke.useState(!0);Ke.useEffect(()=>{A()},[]);const A=async()=>{try{const N=await Ys.get("/dashboard.php");N.data.success&&d(N.data)}catch(N){console.error("Failed to load dashboard:",N)}finally{x(!1)}};return p?j.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):j.jsxs("div",{className:"space-y-6",children:[j.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Dashboard"}),j.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[j.jsx(RH,{title:"Aktif Hizmet",value:c?.stats?.services||0,icon:"",color:"blue"}),j.jsx(RH,{title:"SEO Sayfas",value:c?.stats?.seo_pages||0,icon:"",color:"green"}),j.jsx(RH,{title:"Toplam Teklif",value:c?.stats?.total_quotes||0,icon:"",color:"purple"}),j.jsx(RH,{title:"Yeni Talep",value:c?.stats?.new_quotes||0,icon:"",color:"red"})]}),j.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[j.jsx("h2",{className:"text-xl font-bold mb-4",children:"Son Teklif Talepleri"}),j.jsx("div",{className:"overflow-x-auto",children:j.jsxs("table",{className:"w-full",children:[j.jsx("thead",{className:"bg-gray-50",children:j.jsxs("tr",{children:[j.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-600",children:"Mteri"}),j.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-600",children:"Hizmet"}),j.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-600",children:"Durum"}),j.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-600",children:"Tarih"})]})}),j.jsx("tbody",{children:c?.recent_quotes?.map(N=>j.jsxs("tr",{className:"border-t",children:[j.jsx("td",{className:"px-4 py-3 text-sm",children:N.name}),j.jsx("td",{className:"px-4 py-3 text-sm",children:N.service}),j.jsx("td",{className:"px-4 py-3 text-sm",children:N.status}),j.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:new Date(N.created_at).toLocaleDateString("tr-TR")})]},N.id))})]})})]})]})}function RH({title:c,value:d,icon:p,color:x}){const A={blue:"bg-blue-500",green:"bg-green-500",purple:"bg-purple-500",red:"bg-red-500"};return j.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:j.jsxs("div",{className:"flex items-center justify-between",children:[j.jsxs("div",{children:[j.jsx("p",{className:"text-sm text-gray-600 mb-1",children:c}),j.jsx("p",{className:"text-3xl font-bold text-gray-800",children:d})]}),j.jsx("div",{className:`w-12 h-12 ${A[x]} rounded-lg flex items-center justify-center text-2xl`,children:p})]})})}const Rte=Ke.createContext({});function Nte(c){const d=Ke.useRef(null);return d.current===null&&(d.current=c()),d.current}const Vle=typeof window<"u",jle=Vle?Ke.useLayoutEffect:Ke.useEffect,Sz=Ke.createContext(null);function Mte(c,d){c.indexOf(d)===-1&&c.push(d)}function Bte(c,d){const p=c.indexOf(d);p>-1&&c.splice(p,1)}const Ov=(c,d,p)=>p>d?d:p<c?c:p;let Lte=()=>{};const xx={},Ule=c=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(c);function Zle(c){return typeof c=="object"&&c!==null}const Wle=c=>/^0[^.\s]+$/u.test(c);function Pte(c){let d;return()=>(d===void 0&&(d=c()),d)}const I1=c=>c,Zpe=(c,d)=>p=>d(c(p)),gB=(...c)=>c.reduce(Zpe),QM=(c,d,p)=>{const x=d-c;return x===0?1:(p-c)/x};class Fte{constructor(){this.subscriptions=[]}add(d){return Mte(this.subscriptions,d),()=>Bte(this.subscriptions,d)}notify(d,p,x){const A=this.subscriptions.length;if(A)if(A===1)this.subscriptions[0](d,p,x);else for(let N=0;N<A;N++){const O=this.subscriptions[N];O&&O(d,p,x)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const yx=c=>c*1e3,$1=c=>c/1e3;function qle(c,d){return d?c*(1e3/d):0}const Gle=(c,d,p)=>(((1-3*p+3*d)*c+(3*p-6*d))*c+3*d)*c,Wpe=1e-7,qpe=12;function Gpe(c,d,p,x,A){let N,O,H=0;do O=d+(p-d)/2,N=Gle(O,x,A)-c,N>0?p=O:d=O;while(Math.abs(N)>Wpe&&++H<qpe);return O}function pB(c,d,p,x){if(c===d&&p===x)return I1;const A=N=>Gpe(N,0,1,c,p);return N=>N===0||N===1?N:Gle(A(N),d,x)}const Kle=c=>d=>d<=.5?c(2*d)/2:(2-c(2*(1-d)))/2,Yle=c=>d=>1-c(1-d),Xle=pB(.33,1.53,.69,.99),$te=Yle(Xle),Qle=Kle($te),Jle=c=>(c*=2)<1?.5*$te(c):.5*(2-Math.pow(2,-10*(c-1))),Ite=c=>1-Math.sin(Math.acos(c)),ece=Yle(Ite),tce=Kle(Ite),Kpe=pB(.42,0,1,1),Ype=pB(0,0,.58,1),nce=pB(.42,0,.58,1),Xpe=c=>Array.isArray(c)&&typeof c[0]!="number",oce=c=>Array.isArray(c)&&typeof c[0]=="number",Qpe={linear:I1,easeIn:Kpe,easeInOut:nce,easeOut:Ype,circIn:Ite,circInOut:tce,circOut:ece,backIn:$te,backInOut:Qle,backOut:Xle,anticipate:Jle},Jpe=c=>typeof c=="string",ase=c=>{if(oce(c)){Lte(c.length===4);const[d,p,x,A]=c;return pB(d,p,x,A)}else if(Jpe(c))return Qpe[c];return c},NH=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function e0e(c,d){let p=new Set,x=new Set,A=!1,N=!1;const O=new WeakSet;let H={delta:0,timestamp:0,isProcessing:!1};function U(Y){O.has(Y)&&(V.schedule(Y),c()),Y(H)}const V={schedule:(Y,ne=!1,ue=!1)=>{const Ee=ue&&A?p:x;return ne&&O.add(Y),Ee.has(Y)||Ee.add(Y),Y},cancel:Y=>{x.delete(Y),O.delete(Y)},process:Y=>{if(H=Y,A){N=!0;return}A=!0,[p,x]=[x,p],p.forEach(U),p.clear(),A=!1,N&&(N=!1,V.process(Y))}};return V}const t0e=40;function sce(c,d){let p=!1,x=!0;const A={delta:0,timestamp:0,isProcessing:!1},N=()=>p=!0,O=NH.reduce((J,vt)=>(J[vt]=e0e(N),J),{}),{setup:H,read:U,resolveKeyframes:V,preUpdate:Y,update:ne,preRender:ue,render:we,postRender:Ee}=O,$e=()=>{const J=xx.useManualTiming?A.timestamp:performance.now();p=!1,xx.useManualTiming||(A.delta=x?1e3/60:Math.max(Math.min(J-A.timestamp,t0e),1)),A.timestamp=J,A.isProcessing=!0,H.process(A),U.process(A),V.process(A),Y.process(A),ne.process(A),ue.process(A),we.process(A),Ee.process(A),A.isProcessing=!1,p&&d&&(x=!1,c($e))},ve=()=>{p=!0,x=!0,A.isProcessing||c($e)};return{schedule:NH.reduce((J,vt)=>{const en=O[vt];return J[vt]=(Qe,ie=!1,it=!1)=>(p||ve(),en.schedule(Qe,ie,it)),J},{}),cancel:J=>{for(let vt=0;vt<NH.length;vt++)O[NH[vt]].cancel(J)},state:A,steps:O}}const{schedule:Dc,cancel:PC,state:_m,steps:tee}=sce(typeof requestAnimationFrame<"u"?requestAnimationFrame:I1,!0);let VH;function n0e(){VH=void 0}const mg={now:()=>(VH===void 0&&mg.set(_m.isProcessing||xx.useManualTiming?_m.timestamp:performance.now()),VH),set:c=>{VH=c,queueMicrotask(n0e)}},rce=c=>d=>typeof d=="string"&&d.startsWith(c),ace=rce("--"),o0e=rce("var(--"),Hte=c=>o0e(c)?s0e.test(c.split("/*")[0].trim()):!1,s0e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function ise(c){return typeof c!="string"?!1:c.split("/*")[0].includes("var(--")}const oD={test:c=>typeof c=="number",parse:parseFloat,transform:c=>c},JM={...oD,transform:c=>Ov(0,1,c)},MH={...oD,default:1},qM=c=>Math.round(c*1e5)/1e5,zte=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function r0e(c){return c==null}const a0e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Vte=(c,d)=>p=>!!(typeof p=="string"&&a0e.test(p)&&p.startsWith(c)||d&&!r0e(p)&&Object.prototype.hasOwnProperty.call(p,d)),ice=(c,d,p)=>x=>{if(typeof x!="string")return x;const[A,N,O,H]=x.match(zte);return{[c]:parseFloat(A),[d]:parseFloat(N),[p]:parseFloat(O),alpha:H!==void 0?parseFloat(H):1}},i0e=c=>Ov(0,255,c),nee={...oD,transform:c=>Math.round(i0e(c))},ST={test:Vte("rgb","red"),parse:ice("red","green","blue"),transform:({red:c,green:d,blue:p,alpha:x=1})=>"rgba("+nee.transform(c)+", "+nee.transform(d)+", "+nee.transform(p)+", "+qM(JM.transform(x))+")"};function l0e(c){let d="",p="",x="",A="";return c.length>5?(d=c.substring(1,3),p=c.substring(3,5),x=c.substring(5,7),A=c.substring(7,9)):(d=c.substring(1,2),p=c.substring(2,3),x=c.substring(3,4),A=c.substring(4,5),d+=d,p+=p,x+=x,A+=A),{red:parseInt(d,16),green:parseInt(p,16),blue:parseInt(x,16),alpha:A?parseInt(A,16)/255:1}}const Mee={test:Vte("#"),parse:l0e,transform:ST.transform},bB=c=>({test:d=>typeof d=="string"&&d.endsWith(c)&&d.split(" ").length===1,parse:parseFloat,transform:d=>`${d}${c}`}),RC=bB("deg"),Dv=bB("%"),is=bB("px"),c0e=bB("vh"),u0e=bB("vw"),lse={...Dv,parse:c=>Dv.parse(c)/100,transform:c=>Dv.transform(c*100)},P3={test:Vte("hsl","hue"),parse:ice("hue","saturation","lightness"),transform:({hue:c,saturation:d,lightness:p,alpha:x=1})=>"hsla("+Math.round(c)+", "+Dv.transform(qM(d))+", "+Dv.transform(qM(p))+", "+qM(JM.transform(x))+")"},qd={test:c=>ST.test(c)||Mee.test(c)||P3.test(c),parse:c=>ST.test(c)?ST.parse(c):P3.test(c)?P3.parse(c):Mee.parse(c),transform:c=>typeof c=="string"?c:c.hasOwnProperty("red")?ST.transform(c):P3.transform(c),getAnimatableNone:c=>{const d=qd.parse(c);return d.alpha=0,qd.transform(d)}},d0e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function f0e(c){return isNaN(c)&&typeof c=="string"&&(c.match(zte)?.length||0)+(c.match(d0e)?.length||0)>0}const lce="number",cce="color",m0e="var",h0e="var(",cse="${}",g0e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eB(c){const d=c.toString(),p=[],x={color:[],number:[],var:[]},A=[];let N=0;const H=d.replace(g0e,U=>(qd.test(U)?(x.color.push(N),A.push(cce),p.push(qd.parse(U))):U.startsWith(h0e)?(x.var.push(N),A.push(m0e),p.push(U)):(x.number.push(N),A.push(lce),p.push(parseFloat(U))),++N,cse)).split(cse);return{values:p,split:H,indexes:x,types:A}}function uce(c){return eB(c).values}function dce(c){const{split:d,types:p}=eB(c),x=d.length;return A=>{let N="";for(let O=0;O<x;O++)if(N+=d[O],A[O]!==void 0){const H=p[O];H===lce?N+=qM(A[O]):H===cce?N+=qd.transform(A[O]):N+=A[O]}return N}}const p0e=c=>typeof c=="number"?0:qd.test(c)?qd.getAnimatableNone(c):c;function b0e(c){const d=uce(c);return dce(c)(d.map(p0e))}const FC={test:f0e,parse:uce,createTransformer:dce,getAnimatableNone:b0e};function oee(c,d,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?c+(d-c)*6*p:p<1/2?d:p<2/3?c+(d-c)*(2/3-p)*6:c}function y0e({hue:c,saturation:d,lightness:p,alpha:x}){c/=360,d/=100,p/=100;let A=0,N=0,O=0;if(!d)A=N=O=p;else{const H=p<.5?p*(1+d):p+d-p*d,U=2*p-H;A=oee(U,H,c+1/3),N=oee(U,H,c),O=oee(U,H,c-1/3)}return{red:Math.round(A*255),green:Math.round(N*255),blue:Math.round(O*255),alpha:x}}function oz(c,d){return p=>p>0?d:c}const xu=(c,d,p)=>c+(d-c)*p,see=(c,d,p)=>{const x=c*c,A=p*(d*d-x)+x;return A<0?0:Math.sqrt(A)},v0e=[Mee,ST,P3],x0e=c=>v0e.find(d=>d.test(c));function use(c){const d=x0e(c);if(!d)return!1;let p=d.parse(c);return d===P3&&(p=y0e(p)),p}const dse=(c,d)=>{const p=use(c),x=use(d);if(!p||!x)return oz(c,d);const A={...p};return N=>(A.red=see(p.red,x.red,N),A.green=see(p.green,x.green,N),A.blue=see(p.blue,x.blue,N),A.alpha=xu(p.alpha,x.alpha,N),ST.transform(A))},Bee=new Set(["none","hidden"]);function w0e(c,d){return Bee.has(c)?p=>p<=0?c:d:p=>p>=1?d:c}function C0e(c,d){return p=>xu(c,d,p)}function jte(c){return typeof c=="number"?C0e:typeof c=="string"?Hte(c)?oz:qd.test(c)?dse:T0e:Array.isArray(c)?fce:typeof c=="object"?qd.test(c)?dse:S0e:oz}function fce(c,d){const p=[...c],x=p.length,A=c.map((N,O)=>jte(N)(N,d[O]));return N=>{for(let O=0;O<x;O++)p[O]=A[O](N);return p}}function S0e(c,d){const p={...c,...d},x={};for(const A in p)c[A]!==void 0&&d[A]!==void 0&&(x[A]=jte(c[A])(c[A],d[A]));return A=>{for(const N in x)p[N]=x[N](A);return p}}function E0e(c,d){const p=[],x={color:0,var:0,number:0};for(let A=0;A<d.values.length;A++){const N=d.types[A],O=c.indexes[N][x[N]],H=c.values[O]??0;p[A]=H,x[N]++}return p}const T0e=(c,d)=>{const p=FC.createTransformer(d),x=eB(c),A=eB(d);return x.indexes.var.length===A.indexes.var.length&&x.indexes.color.length===A.indexes.color.length&&x.indexes.number.length>=A.indexes.number.length?Bee.has(c)&&!A.values.length||Bee.has(d)&&!x.values.length?w0e(c,d):gB(fce(E0e(x,A),A.values),p):oz(c,d)};function mce(c,d,p){return typeof c=="number"&&typeof d=="number"&&typeof p=="number"?xu(c,d,p):jte(c)(c,d)}const A0e=c=>{const d=({timestamp:p})=>c(p);return{start:(p=!0)=>Dc.update(d,p),stop:()=>PC(d),now:()=>_m.isProcessing?_m.timestamp:mg.now()}},hce=(c,d,p=10)=>{let x="";const A=Math.max(Math.round(d/p),2);for(let N=0;N<A;N++)x+=Math.round(c(N/(A-1))*1e4)/1e4+", ";return`linear(${x.substring(0,x.length-2)})`},sz=2e4;function Ute(c){let d=0;const p=50;let x=c.next(d);for(;!x.done&&d<sz;)d+=p,x=c.next(d);return d>=sz?1/0:d}function k0e(c,d=100,p){const x=p({...c,keyframes:[0,d]}),A=Math.min(Ute(x),sz);return{type:"keyframes",ease:N=>x.next(A*N).value/d,duration:$1(A)}}const D0e=5;function gce(c,d,p){const x=Math.max(d-D0e,0);return qle(p-c(x),d-x)}const Vu={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ree=.001;function _0e({duration:c=Vu.duration,bounce:d=Vu.bounce,velocity:p=Vu.velocity,mass:x=Vu.mass}){let A,N,O=1-d;O=Ov(Vu.minDamping,Vu.maxDamping,O),c=Ov(Vu.minDuration,Vu.maxDuration,$1(c)),O<1?(A=V=>{const Y=V*O,ne=Y*c,ue=Y-p,we=Lee(V,O),Ee=Math.exp(-ne);return ree-ue/we*Ee},N=V=>{const ne=V*O*c,ue=ne*p+p,we=Math.pow(O,2)*Math.pow(V,2)*c,Ee=Math.exp(-ne),$e=Lee(Math.pow(V,2),O);return(-A(V)+ree>0?-1:1)*((ue-we)*Ee)/$e}):(A=V=>{const Y=Math.exp(-V*c),ne=(V-p)*c+1;return-ree+Y*ne},N=V=>{const Y=Math.exp(-V*c),ne=(p-V)*(c*c);return Y*ne});const H=5/c,U=R0e(A,N,H);if(c=yx(c),isNaN(U))return{stiffness:Vu.stiffness,damping:Vu.damping,duration:c};{const V=Math.pow(U,2)*x;return{stiffness:V,damping:O*2*Math.sqrt(x*V),duration:c}}}const O0e=12;function R0e(c,d,p){let x=p;for(let A=1;A<O0e;A++)x=x-c(x)/d(x);return x}function Lee(c,d){return c*Math.sqrt(1-d*d)}const N0e=["duration","bounce"],M0e=["stiffness","damping","mass"];function fse(c,d){return d.some(p=>c[p]!==void 0)}function B0e(c){let d={velocity:Vu.velocity,stiffness:Vu.stiffness,damping:Vu.damping,mass:Vu.mass,isResolvedFromDuration:!1,...c};if(!fse(c,M0e)&&fse(c,N0e))if(c.visualDuration){const p=c.visualDuration,x=2*Math.PI/(p*1.2),A=x*x,N=2*Ov(.05,1,1-(c.bounce||0))*Math.sqrt(A);d={...d,mass:Vu.mass,stiffness:A,damping:N}}else{const p=_0e(c);d={...d,...p,mass:Vu.mass},d.isResolvedFromDuration=!0}return d}function rz(c=Vu.visualDuration,d=Vu.bounce){const p=typeof c!="object"?{visualDuration:c,keyframes:[0,1],bounce:d}:c;let{restSpeed:x,restDelta:A}=p;const N=p.keyframes[0],O=p.keyframes[p.keyframes.length-1],H={done:!1,value:N},{stiffness:U,damping:V,mass:Y,duration:ne,velocity:ue,isResolvedFromDuration:we}=B0e({...p,velocity:-$1(p.velocity||0)}),Ee=ue||0,$e=V/(2*Math.sqrt(U*Y)),ve=O-N,ct=$1(Math.sqrt(U/Y)),Ue=Math.abs(ve)<5;x||(x=Ue?Vu.restSpeed.granular:Vu.restSpeed.default),A||(A=Ue?Vu.restDelta.granular:Vu.restDelta.default);let J;if($e<1){const en=Lee(ct,$e);J=Qe=>{const ie=Math.exp(-$e*ct*Qe);return O-ie*((Ee+$e*ct*ve)/en*Math.sin(en*Qe)+ve*Math.cos(en*Qe))}}else if($e===1)J=en=>O-Math.exp(-ct*en)*(ve+(Ee+ct*ve)*en);else{const en=ct*Math.sqrt($e*$e-1);J=Qe=>{const ie=Math.exp(-$e*ct*Qe),it=Math.min(en*Qe,300);return O-ie*((Ee+$e*ct*ve)*Math.sinh(it)+en*ve*Math.cosh(it))/en}}const vt={calculatedDuration:we&&ne||null,next:en=>{const Qe=J(en);if(we)H.done=en>=ne;else{let ie=en===0?Ee:0;$e<1&&(ie=en===0?yx(Ee):gce(J,en,Qe));const it=Math.abs(ie)<=x,Tn=Math.abs(O-Qe)<=A;H.done=it&&Tn}return H.value=H.done?O:Qe,H},toString:()=>{const en=Math.min(Ute(vt),sz),Qe=hce(ie=>vt.next(en*ie).value,en,30);return en+"ms "+Qe},toTransition:()=>{}};return vt}rz.applyToOptions=c=>{const d=k0e(c,100,rz);return c.ease=d.ease,c.duration=yx(d.duration),c.type="keyframes",c};function Pee({keyframes:c,velocity:d=0,power:p=.8,timeConstant:x=325,bounceDamping:A=10,bounceStiffness:N=500,modifyTarget:O,min:H,max:U,restDelta:V=.5,restSpeed:Y}){const ne=c[0],ue={done:!1,value:ne},we=it=>H!==void 0&&it<H||U!==void 0&&it>U,Ee=it=>H===void 0?U:U===void 0||Math.abs(H-it)<Math.abs(U-it)?H:U;let $e=p*d;const ve=ne+$e,ct=O===void 0?ve:O(ve);ct!==ve&&($e=ct-ne);const Ue=it=>-$e*Math.exp(-it/x),J=it=>ct+Ue(it),vt=it=>{const Tn=Ue(it),mn=J(it);ue.done=Math.abs(Tn)<=V,ue.value=ue.done?ct:mn};let en,Qe;const ie=it=>{we(ue.value)&&(en=it,Qe=rz({keyframes:[ue.value,Ee(ue.value)],velocity:gce(J,it,ue.value),damping:A,stiffness:N,restDelta:V,restSpeed:Y}))};return ie(0),{calculatedDuration:null,next:it=>{let Tn=!1;return!Qe&&en===void 0&&(Tn=!0,vt(it),ie(it)),en!==void 0&&it>=en?Qe.next(it-en):(!Tn&&vt(it),ue)}}}function L0e(c,d,p){const x=[],A=p||xx.mix||mce,N=c.length-1;for(let O=0;O<N;O++){let H=A(c[O],c[O+1]);if(d){const U=Array.isArray(d)?d[O]||I1:d;H=gB(U,H)}x.push(H)}return x}function P0e(c,d,{clamp:p=!0,ease:x,mixer:A}={}){const N=c.length;if(Lte(N===d.length),N===1)return()=>d[0];if(N===2&&d[0]===d[1])return()=>d[1];const O=c[0]===c[1];c[0]>c[N-1]&&(c=[...c].reverse(),d=[...d].reverse());const H=L0e(d,x,A),U=H.length,V=Y=>{if(O&&Y<c[0])return d[0];let ne=0;if(U>1)for(;ne<c.length-2&&!(Y<c[ne+1]);ne++);const ue=QM(c[ne],c[ne+1],Y);return H[ne](ue)};return p?Y=>V(Ov(c[0],c[N-1],Y)):V}function F0e(c,d){const p=c[c.length-1];for(let x=1;x<=d;x++){const A=QM(0,d,x);c.push(xu(p,1,A))}}function $0e(c){const d=[0];return F0e(d,c.length-1),d}function I0e(c,d){return c.map(p=>p*d)}function H0e(c,d){return c.map(()=>d||nce).splice(0,c.length-1)}function GM({duration:c=300,keyframes:d,times:p,ease:x="easeInOut"}){const A=Xpe(x)?x.map(ase):ase(x),N={done:!1,value:d[0]},O=I0e(p&&p.length===d.length?p:$0e(d),c),H=P0e(O,d,{ease:Array.isArray(A)?A:H0e(d,A)});return{calculatedDuration:c,next:U=>(N.value=H(U),N.done=U>=c,N)}}const z0e=c=>c!==null;function Zte(c,{repeat:d,repeatType:p="loop"},x,A=1){const N=c.filter(z0e),H=A<0||d&&p!=="loop"&&d%2===1?0:N.length-1;return!H||x===void 0?N[H]:x}const V0e={decay:Pee,inertia:Pee,tween:GM,keyframes:GM,spring:rz};function pce(c){typeof c.type=="string"&&(c.type=V0e[c.type])}class Wte{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(d=>{this.resolve=d})}notifyFinished(){this.resolve()}then(d,p){return this.finished.then(d,p)}}const j0e=c=>c/100;class qte extends Wte{constructor(d){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:p}=this.options;p&&p.updatedAt!==mg.now()&&this.tick(mg.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=d,this.initAnimation(),this.play(),d.autoplay===!1&&this.pause()}initAnimation(){const{options:d}=this;pce(d);const{type:p=GM,repeat:x=0,repeatDelay:A=0,repeatType:N,velocity:O=0}=d;let{keyframes:H}=d;const U=p||GM;U!==GM&&typeof H[0]!="number"&&(this.mixKeyframes=gB(j0e,mce(H[0],H[1])),H=[0,100]);const V=U({...d,keyframes:H});N==="mirror"&&(this.mirroredGenerator=U({...d,keyframes:[...H].reverse(),velocity:-O})),V.calculatedDuration===null&&(V.calculatedDuration=Ute(V));const{calculatedDuration:Y}=V;this.calculatedDuration=Y,this.resolvedDuration=Y+A,this.totalDuration=this.resolvedDuration*(x+1)-A,this.generator=V}updateTime(d){const p=Math.round(d-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=p}tick(d,p=!1){const{generator:x,totalDuration:A,mixKeyframes:N,mirroredGenerator:O,resolvedDuration:H,calculatedDuration:U}=this;if(this.startTime===null)return x.next(0);const{delay:V=0,keyframes:Y,repeat:ne,repeatType:ue,repeatDelay:we,type:Ee,onUpdate:$e,finalKeyframe:ve}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,d):this.speed<0&&(this.startTime=Math.min(d-A/this.speed,this.startTime)),p?this.currentTime=d:this.updateTime(d);const ct=this.currentTime-V*(this.playbackSpeed>=0?1:-1),Ue=this.playbackSpeed>=0?ct<0:ct>A;this.currentTime=Math.max(ct,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=A);let J=this.currentTime,vt=x;if(ne){const it=Math.min(this.currentTime,A)/H;let Tn=Math.floor(it),mn=it%1;!mn&&it>=1&&(mn=1),mn===1&&Tn--,Tn=Math.min(Tn,ne+1),Tn%2&&(ue==="reverse"?(mn=1-mn,we&&(mn-=we/H)):ue==="mirror"&&(vt=O)),J=Ov(0,1,mn)*H}const en=Ue?{done:!1,value:Y[0]}:vt.next(J);N&&(en.value=N(en.value));let{done:Qe}=en;!Ue&&U!==null&&(Qe=this.playbackSpeed>=0?this.currentTime>=A:this.currentTime<=0);const ie=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Qe);return ie&&Ee!==Pee&&(en.value=Zte(Y,this.options,ve,this.speed)),$e&&$e(en.value),ie&&this.finish(),en}then(d,p){return this.finished.then(d,p)}get duration(){return $1(this.calculatedDuration)}get iterationDuration(){const{delay:d=0}=this.options||{};return this.duration+$1(d)}get time(){return $1(this.currentTime)}set time(d){d=yx(d),this.currentTime=d,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=d:this.driver&&(this.startTime=this.driver.now()-d/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(d){this.updateTime(mg.now());const p=this.playbackSpeed!==d;this.playbackSpeed=d,p&&(this.time=$1(this.currentTime))}play(){if(this.isStopped)return;const{driver:d=A0e,startTime:p}=this.options;this.driver||(this.driver=d(A=>this.tick(A))),this.options.onPlay?.();const x=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=x):this.holdTime!==null?this.startTime=x-this.holdTime:this.startTime||(this.startTime=p??x),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mg.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(d){return this.startTime=0,this.tick(d,!0)}attachTimeline(d){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),d.observe(this)}}function U0e(c){for(let d=1;d<c.length;d++)c[d]??(c[d]=c[d-1])}const ET=c=>c*180/Math.PI,Fee=c=>{const d=ET(Math.atan2(c[1],c[0]));return $ee(d)},Z0e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:c=>(Math.abs(c[0])+Math.abs(c[3]))/2,rotate:Fee,rotateZ:Fee,skewX:c=>ET(Math.atan(c[1])),skewY:c=>ET(Math.atan(c[2])),skew:c=>(Math.abs(c[1])+Math.abs(c[2]))/2},$ee=c=>(c=c%360,c<0&&(c+=360),c),mse=Fee,hse=c=>Math.sqrt(c[0]*c[0]+c[1]*c[1]),gse=c=>Math.sqrt(c[4]*c[4]+c[5]*c[5]),W0e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hse,scaleY:gse,scale:c=>(hse(c)+gse(c))/2,rotateX:c=>$ee(ET(Math.atan2(c[6],c[5]))),rotateY:c=>$ee(ET(Math.atan2(-c[2],c[0]))),rotateZ:mse,rotate:mse,skewX:c=>ET(Math.atan(c[4])),skewY:c=>ET(Math.atan(c[1])),skew:c=>(Math.abs(c[1])+Math.abs(c[4]))/2};function Iee(c){return c.includes("scale")?1:0}function Hee(c,d){if(!c||c==="none")return Iee(d);const p=c.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let x,A;if(p)x=W0e,A=p;else{const H=c.match(/^matrix\(([-\d.e\s,]+)\)$/u);x=Z0e,A=H}if(!A)return Iee(d);const N=x[d],O=A[1].split(",").map(G0e);return typeof N=="function"?N(O):O[N]}const q0e=(c,d)=>{const{transform:p="none"}=getComputedStyle(c);return Hee(p,d)};function G0e(c){return parseFloat(c.trim())}const sD=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rD=new Set(sD),pse=c=>c===oD||c===is,K0e=new Set(["x","y","z"]),Y0e=sD.filter(c=>!K0e.has(c));function X0e(c){const d=[];return Y0e.forEach(p=>{const x=c.getValue(p);x!==void 0&&(d.push([p,x.get()]),x.set(p.startsWith("scale")?1:0))}),d}const LC={width:({x:c},{paddingLeft:d="0",paddingRight:p="0"})=>c.max-c.min-parseFloat(d)-parseFloat(p),height:({y:c},{paddingTop:d="0",paddingBottom:p="0"})=>c.max-c.min-parseFloat(d)-parseFloat(p),top:(c,{top:d})=>parseFloat(d),left:(c,{left:d})=>parseFloat(d),bottom:({y:c},{top:d})=>parseFloat(d)+(c.max-c.min),right:({x:c},{left:d})=>parseFloat(d)+(c.max-c.min),x:(c,{transform:d})=>Hee(d,"x"),y:(c,{transform:d})=>Hee(d,"y")};LC.translateX=LC.x;LC.translateY=LC.y;const kT=new Set;let zee=!1,Vee=!1,jee=!1;function bce(){if(Vee){const c=Array.from(kT).filter(x=>x.needsMeasurement),d=new Set(c.map(x=>x.element)),p=new Map;d.forEach(x=>{const A=X0e(x);A.length&&(p.set(x,A),x.render())}),c.forEach(x=>x.measureInitialState()),d.forEach(x=>{x.render();const A=p.get(x);A&&A.forEach(([N,O])=>{x.getValue(N)?.set(O)})}),c.forEach(x=>x.measureEndState()),c.forEach(x=>{x.suspendedScrollY!==void 0&&window.scrollTo(0,x.suspendedScrollY)})}Vee=!1,zee=!1,kT.forEach(c=>c.complete(jee)),kT.clear()}function yce(){kT.forEach(c=>{c.readKeyframes(),c.needsMeasurement&&(Vee=!0)})}function Q0e(){jee=!0,yce(),bce(),jee=!1}class Gte{constructor(d,p,x,A,N,O=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...d],this.onComplete=p,this.name=x,this.motionValue=A,this.element=N,this.isAsync=O}scheduleResolve(){this.state="scheduled",this.isAsync?(kT.add(this),zee||(zee=!0,Dc.read(yce),Dc.resolveKeyframes(bce))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:d,name:p,element:x,motionValue:A}=this;if(d[0]===null){const N=A?.get(),O=d[d.length-1];if(N!==void 0)d[0]=N;else if(x&&p){const H=x.readValue(p,O);H!=null&&(d[0]=H)}d[0]===void 0&&(d[0]=O),A&&N===void 0&&A.set(d[0])}U0e(d)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(d=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,d),kT.delete(this)}cancel(){this.state==="scheduled"&&(kT.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const J0e=c=>c.startsWith("--");function e1e(c,d,p){J0e(d)?c.style.setProperty(d,p):c.style[d]=p}const t1e=Pte(()=>window.ScrollTimeline!==void 0),n1e={};function o1e(c,d){const p=Pte(c);return()=>n1e[d]??p()}const vce=o1e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ZM=([c,d,p,x])=>`cubic-bezier(${c}, ${d}, ${p}, ${x})`,bse={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ZM([0,.65,.55,1]),circOut:ZM([.55,0,1,.45]),backIn:ZM([.31,.01,.66,-.59]),backOut:ZM([.33,1.53,.69,.99])};function xce(c,d){if(c)return typeof c=="function"?vce()?hce(c,d):"ease-out":oce(c)?ZM(c):Array.isArray(c)?c.map(p=>xce(p,d)||bse.easeOut):bse[c]}function s1e(c,d,p,{delay:x=0,duration:A=300,repeat:N=0,repeatType:O="loop",ease:H="easeOut",times:U}={},V=void 0){const Y={[d]:p};U&&(Y.offset=U);const ne=xce(H,A);Array.isArray(ne)&&(Y.easing=ne);const ue={delay:x,duration:A,easing:Array.isArray(ne)?"linear":ne,fill:"both",iterations:N+1,direction:O==="reverse"?"alternate":"normal"};return V&&(ue.pseudoElement=V),c.animate(Y,ue)}function wce(c){return typeof c=="function"&&"applyToOptions"in c}function r1e({type:c,...d}){return wce(c)&&vce()?c.applyToOptions(d):(d.duration??(d.duration=300),d.ease??(d.ease="easeOut"),d)}class a1e extends Wte{constructor(d){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!d)return;const{element:p,name:x,keyframes:A,pseudoElement:N,allowFlatten:O=!1,finalKeyframe:H,onComplete:U}=d;this.isPseudoElement=!!N,this.allowFlatten=O,this.options=d,Lte(typeof d.type!="string");const V=r1e(d);this.animation=s1e(p,x,A,V,N),V.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!N){const Y=Zte(A,this.options,H,this.speed);this.updateMotionValue?this.updateMotionValue(Y):e1e(p,x,Y),this.animation.cancel()}U?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:d}=this;d==="idle"||d==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const d=this.animation.effect?.getComputedTiming?.().duration||0;return $1(Number(d))}get iterationDuration(){const{delay:d=0}=this.options||{};return this.duration+$1(d)}get time(){return $1(Number(this.animation.currentTime)||0)}set time(d){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=yx(d)}get speed(){return this.animation.playbackRate}set speed(d){d<0&&(this.finishedTime=null),this.animation.playbackRate=d}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(d){this.manualStartTime=this.animation.startTime=d}attachTimeline({timeline:d,observe:p}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,d&&t1e()?(this.animation.timeline=d,I1):p(this)}}const Cce={anticipate:Jle,backInOut:Qle,circInOut:tce};function i1e(c){return c in Cce}function l1e(c){typeof c.ease=="string"&&i1e(c.ease)&&(c.ease=Cce[c.ease])}const aee=10;class c1e extends a1e{constructor(d){l1e(d),pce(d),super(d),d.startTime!==void 0&&(this.startTime=d.startTime),this.options=d}updateMotionValue(d){const{motionValue:p,onUpdate:x,onComplete:A,element:N,...O}=this.options;if(!p)return;if(d!==void 0){p.set(d);return}const H=new qte({...O,autoplay:!1}),U=Math.max(aee,mg.now()-this.startTime),V=Ov(0,aee,U-aee);p.setWithVelocity(H.sample(Math.max(0,U-V)).value,H.sample(U).value,V),H.stop()}}const yse=(c,d)=>d==="zIndex"?!1:!!(typeof c=="number"||Array.isArray(c)||typeof c=="string"&&(FC.test(c)||c==="0")&&!c.startsWith("url("));function u1e(c){const d=c[0];if(c.length===1)return!0;for(let p=0;p<c.length;p++)if(c[p]!==d)return!0}function d1e(c,d,p,x){const A=c[0];if(A===null)return!1;if(d==="display"||d==="visibility")return!0;const N=c[c.length-1],O=yse(A,d),H=yse(N,d);return!O||!H?!1:u1e(c)||(p==="spring"||wce(p))&&x}function Uee(c){c.duration=0,c.type="keyframes"}const f1e=new Set(["opacity","clipPath","filter","transform"]),m1e=Pte(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function h1e(c){const{motionValue:d,name:p,repeatDelay:x,repeatType:A,damping:N,type:O}=c;if(!(d?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:U,transformTemplate:V}=d.owner.getProps();return m1e()&&p&&f1e.has(p)&&(p!=="transform"||!V)&&!U&&!x&&A!=="mirror"&&N!==0&&O!=="inertia"}const g1e=40;class p1e extends Wte{constructor({autoplay:d=!0,delay:p=0,type:x="keyframes",repeat:A=0,repeatDelay:N=0,repeatType:O="loop",keyframes:H,name:U,motionValue:V,element:Y,...ne}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=mg.now();const ue={autoplay:d,delay:p,type:x,repeat:A,repeatDelay:N,repeatType:O,name:U,motionValue:V,element:Y,...ne},we=Y?.KeyframeResolver||Gte;this.keyframeResolver=new we(H,(Ee,$e,ve)=>this.onKeyframesResolved(Ee,$e,ue,!ve),U,V,Y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(d,p,x,A){this.keyframeResolver=void 0;const{name:N,type:O,velocity:H,delay:U,isHandoff:V,onUpdate:Y}=x;this.resolvedAt=mg.now(),d1e(d,N,O,H)||((xx.instantAnimations||!U)&&Y?.(Zte(d,x,p)),d[0]=d[d.length-1],Uee(x),x.repeat=0);const ue={startTime:A?this.resolvedAt?this.resolvedAt-this.createdAt>g1e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:p,...x,keyframes:d},we=!V&&h1e(ue)?new c1e({...ue,element:ue.motionValue.owner.current}):new qte(ue);we.finished.then(()=>this.notifyFinished()).catch(I1),this.pendingTimeline&&(this.stopTimeline=we.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=we}get finished(){return this._animation?this.animation.finished:this._finished}then(d,p){return this.finished.finally(d).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Q0e()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(d){this.animation.time=d}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(d){this.animation.speed=d}get startTime(){return this.animation.startTime}attachTimeline(d){return this._animation?this.stopTimeline=this.animation.attachTimeline(d):this.pendingTimeline=d,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const b1e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function y1e(c){const d=b1e.exec(c);if(!d)return[,];const[,p,x,A]=d;return[`--${p??x}`,A]}function Sce(c,d,p=1){const[x,A]=y1e(c);if(!x)return;const N=window.getComputedStyle(d).getPropertyValue(x);if(N){const O=N.trim();return Ule(O)?parseFloat(O):O}return Hte(A)?Sce(A,d,p+1):A}function Kte(c,d){return c?.[d]??c?.default??c}const v1e={type:"spring",stiffness:500,damping:25,restSpeed:10},x1e=c=>({type:"spring",stiffness:550,damping:c===0?2*Math.sqrt(550):30,restSpeed:10}),w1e={type:"keyframes",duration:.8},C1e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},S1e=(c,{keyframes:d})=>d.length>2?w1e:rD.has(c)?c.startsWith("scale")?x1e(d[1]):v1e:C1e;function E1e({when:c,delay:d,delayChildren:p,staggerChildren:x,staggerDirection:A,repeat:N,repeatType:O,repeatDelay:H,from:U,elapsed:V,...Y}){return!!Object.keys(Y).length}const T1e=c=>c!==null;function A1e(c,{repeat:d,repeatType:p="loop"},x){const A=c.filter(T1e),N=d&&p!=="loop"&&d%2===1?0:A.length-1;return A[N]}function Ece(c,d,p,x=0,A=1){const N=Array.from(c).sort((V,Y)=>V.sortNodePosition(Y)).indexOf(d),O=c.size,H=(O-1)*x;return typeof p=="function"?p(N,O):A===1?N*x:H-N*x}const Yte=(c,d,p,x={},A,N)=>O=>{const H=Kte(x,c)||{},U=H.delay||x.delay||0;let{elapsed:V=0}=x;V=V-yx(U);const Y={keyframes:Array.isArray(p)?p:[null,p],ease:"easeOut",velocity:d.getVelocity(),...H,delay:-V,onUpdate:ue=>{d.set(ue),H.onUpdate&&H.onUpdate(ue)},onComplete:()=>{O(),H.onComplete&&H.onComplete()},name:c,motionValue:d,element:N?void 0:A};E1e(H)||Object.assign(Y,S1e(c,Y)),Y.duration&&(Y.duration=yx(Y.duration)),Y.repeatDelay&&(Y.repeatDelay=yx(Y.repeatDelay)),Y.from!==void 0&&(Y.keyframes[0]=Y.from);let ne=!1;if((Y.type===!1||Y.duration===0&&!Y.repeatDelay)&&(Uee(Y),Y.delay===0&&(ne=!0)),(xx.instantAnimations||xx.skipAnimations)&&(ne=!0,Uee(Y),Y.delay=0),Y.allowFlatten=!H.type&&!H.ease,ne&&!N&&d.get()!==void 0){const ue=A1e(Y.keyframes,H);if(ue!==void 0){Dc.update(()=>{Y.onUpdate(ue),Y.onComplete()});return}}return H.isSync?new qte(Y):new p1e(Y)},Tce=new Set(["width","height","top","left","right","bottom",...sD]),vse=30,k1e=c=>!isNaN(parseFloat(c));class D1e{constructor(d,p={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=x=>{const A=mg.now();if(this.updatedAt!==A&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(x),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const N of this.dependents)N.dirty()},this.hasAnimated=!1,this.setCurrent(d),this.owner=p.owner}setCurrent(d){this.current=d,this.updatedAt=mg.now(),this.canTrackVelocity===null&&d!==void 0&&(this.canTrackVelocity=k1e(this.current))}setPrevFrameValue(d=this.current){this.prevFrameValue=d,this.prevUpdatedAt=this.updatedAt}onChange(d){return this.on("change",d)}on(d,p){this.events[d]||(this.events[d]=new Fte);const x=this.events[d].add(p);return d==="change"?()=>{x(),Dc.read(()=>{this.events.change.getSize()||this.stop()})}:x}clearListeners(){for(const d in this.events)this.events[d].clear()}attach(d,p){this.passiveEffect=d,this.stopPassiveEffect=p}set(d){this.passiveEffect?this.passiveEffect(d,this.updateAndNotify):this.updateAndNotify(d)}setWithVelocity(d,p,x){this.set(p),this.prev=void 0,this.prevFrameValue=d,this.prevUpdatedAt=this.updatedAt-x}jump(d,p=!0){this.updateAndNotify(d),this.prev=d,this.prevUpdatedAt=this.prevFrameValue=void 0,p&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(d){this.dependents||(this.dependents=new Set),this.dependents.add(d)}removeDependent(d){this.dependents&&this.dependents.delete(d)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const d=mg.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||d-this.updatedAt>vse)return 0;const p=Math.min(this.updatedAt-this.prevUpdatedAt,vse);return qle(parseFloat(this.current)-parseFloat(this.prevFrameValue),p)}start(d){return this.stop(),new Promise(p=>{this.hasAnimated=!0,this.animation=d(p),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function W3(c,d){return new D1e(c,d)}function xse(c){const d=[{},{}];return c?.values.forEach((p,x)=>{d[0][x]=p.get(),d[1][x]=p.getVelocity()}),d}function Xte(c,d,p,x){if(typeof d=="function"){const[A,N]=xse(x);d=d(p!==void 0?p:c.custom,A,N)}if(typeof d=="string"&&(d=c.variants&&c.variants[d]),typeof d=="function"){const[A,N]=xse(x);d=d(p!==void 0?p:c.custom,A,N)}return d}function V3(c,d,p){const x=c.getProps();return Xte(x,d,p!==void 0?p:x.custom,c)}const Zee=c=>Array.isArray(c);function _1e(c,d,p){c.hasValue(d)?c.getValue(d).set(p):c.addValue(d,W3(p))}function O1e(c){return Zee(c)?c[c.length-1]||0:c}function R1e(c,d){const p=V3(c,d);let{transitionEnd:x={},transition:A={},...N}=p||{};N={...N,...x};for(const O in N){const H=O1e(N[O]);_1e(c,O,H)}}const bh=c=>!!(c&&c.getVelocity);function N1e(c){return!!(bh(c)&&c.add)}function Wee(c,d){const p=c.getValue("willChange");if(N1e(p))return p.add(d);if(!p&&xx.WillChange){const x=new xx.WillChange("auto");c.addValue("willChange",x),x.add(d)}}function Qte(c){return c.replace(/([A-Z])/g,d=>`-${d.toLowerCase()}`)}const M1e="framerAppearId",Ace="data-"+Qte(M1e);function kce(c){return c.props[Ace]}function B1e({protectedKeys:c,needsAnimating:d},p){const x=c.hasOwnProperty(p)&&d[p]!==!0;return d[p]=!1,x}function Dce(c,d,{delay:p=0,transitionOverride:x,type:A}={}){let{transition:N=c.getDefaultTransition(),transitionEnd:O,...H}=d;x&&(N=x);const U=[],V=A&&c.animationState&&c.animationState.getState()[A];for(const Y in H){const ne=c.getValue(Y,c.latestValues[Y]??null),ue=H[Y];if(ue===void 0||V&&B1e(V,Y))continue;const we={delay:p,...Kte(N||{},Y)},Ee=ne.get();if(Ee!==void 0&&!ne.isAnimating&&!Array.isArray(ue)&&ue===Ee&&!we.velocity)continue;let $e=!1;if(window.MotionHandoffAnimation){const ct=kce(c);if(ct){const Ue=window.MotionHandoffAnimation(ct,Y,Dc);Ue!==null&&(we.startTime=Ue,$e=!0)}}Wee(c,Y),ne.start(Yte(Y,ne,ue,c.shouldReduceMotion&&Tce.has(Y)?{type:!1}:we,c,$e));const ve=ne.animation;ve&&U.push(ve)}return O&&Promise.all(U).then(()=>{Dc.update(()=>{O&&R1e(c,O)})}),U}function qee(c,d,p={}){const x=V3(c,d,p.type==="exit"?c.presenceContext?.custom:void 0);let{transition:A=c.getDefaultTransition()||{}}=x||{};p.transitionOverride&&(A=p.transitionOverride);const N=x?()=>Promise.all(Dce(c,x,p)):()=>Promise.resolve(),O=c.variantChildren&&c.variantChildren.size?(U=0)=>{const{delayChildren:V=0,staggerChildren:Y,staggerDirection:ne}=A;return L1e(c,d,U,V,Y,ne,p)}:()=>Promise.resolve(),{when:H}=A;if(H){const[U,V]=H==="beforeChildren"?[N,O]:[O,N];return U().then(()=>V())}else return Promise.all([N(),O(p.delay)])}function L1e(c,d,p=0,x=0,A=0,N=1,O){const H=[];for(const U of c.variantChildren)U.notify("AnimationStart",d),H.push(qee(U,d,{...O,delay:p+(typeof x=="function"?0:x)+Ece(c.variantChildren,U,x,A,N)}).then(()=>U.notify("AnimationComplete",d)));return Promise.all(H)}function P1e(c,d,p={}){c.notify("AnimationStart",d);let x;if(Array.isArray(d)){const A=d.map(N=>qee(c,N,p));x=Promise.all(A)}else if(typeof d=="string")x=qee(c,d,p);else{const A=typeof d=="function"?V3(c,d,p.custom):d;x=Promise.all(Dce(c,A,p))}return x.then(()=>{c.notify("AnimationComplete",d)})}const F1e={test:c=>c==="auto",parse:c=>c},_ce=c=>d=>d.test(c),Oce=[oD,is,Dv,RC,u0e,c0e,F1e],wse=c=>Oce.find(_ce(c));function $1e(c){return typeof c=="number"?c===0:c!==null?c==="none"||c==="0"||Wle(c):!0}const I1e=new Set(["brightness","contrast","saturate","opacity"]);function H1e(c){const[d,p]=c.slice(0,-1).split("(");if(d==="drop-shadow")return c;const[x]=p.match(zte)||[];if(!x)return c;const A=p.replace(x,"");let N=I1e.has(d)?1:0;return x!==p&&(N*=100),d+"("+N+A+")"}const z1e=/\b([a-z-]*)\(.*?\)/gu,Gee={...FC,getAnimatableNone:c=>{const d=c.match(z1e);return d?d.map(H1e).join(" "):c}},Cse={...oD,transform:Math.round},V1e={rotate:RC,rotateX:RC,rotateY:RC,rotateZ:RC,scale:MH,scaleX:MH,scaleY:MH,scaleZ:MH,skew:RC,skewX:RC,skewY:RC,distance:is,translateX:is,translateY:is,translateZ:is,x:is,y:is,z:is,perspective:is,transformPerspective:is,opacity:JM,originX:lse,originY:lse,originZ:is},Jte={borderWidth:is,borderTopWidth:is,borderRightWidth:is,borderBottomWidth:is,borderLeftWidth:is,borderRadius:is,radius:is,borderTopLeftRadius:is,borderTopRightRadius:is,borderBottomRightRadius:is,borderBottomLeftRadius:is,width:is,maxWidth:is,height:is,maxHeight:is,top:is,right:is,bottom:is,left:is,inset:is,insetBlock:is,insetBlockStart:is,insetBlockEnd:is,insetInline:is,insetInlineStart:is,insetInlineEnd:is,padding:is,paddingTop:is,paddingRight:is,paddingBottom:is,paddingLeft:is,paddingBlock:is,paddingBlockStart:is,paddingBlockEnd:is,paddingInline:is,paddingInlineStart:is,paddingInlineEnd:is,margin:is,marginTop:is,marginRight:is,marginBottom:is,marginLeft:is,marginBlock:is,marginBlockStart:is,marginBlockEnd:is,marginInline:is,marginInlineStart:is,marginInlineEnd:is,backgroundPositionX:is,backgroundPositionY:is,...V1e,zIndex:Cse,fillOpacity:JM,strokeOpacity:JM,numOctaves:Cse},j1e={...Jte,color:qd,backgroundColor:qd,outlineColor:qd,fill:qd,stroke:qd,borderColor:qd,borderTopColor:qd,borderRightColor:qd,borderBottomColor:qd,borderLeftColor:qd,filter:Gee,WebkitFilter:Gee},Rce=c=>j1e[c];function Nce(c,d){let p=Rce(c);return p!==Gee&&(p=FC),p.getAnimatableNone?p.getAnimatableNone(d):void 0}const U1e=new Set(["auto","none","0"]);function Z1e(c,d,p){let x=0,A;for(;x<c.length&&!A;){const N=c[x];typeof N=="string"&&!U1e.has(N)&&eB(N).values.length&&(A=c[x]),x++}if(A&&p)for(const N of d)c[N]=Nce(p,A)}class W1e extends Gte{constructor(d,p,x,A,N){super(d,p,x,A,N,!0)}readKeyframes(){const{unresolvedKeyframes:d,element:p,name:x}=this;if(!p||!p.current)return;super.readKeyframes();for(let Y=0;Y<d.length;Y++){let ne=d[Y];if(typeof ne=="string"&&(ne=ne.trim(),Hte(ne))){const ue=Sce(ne,p.current);ue!==void 0&&(d[Y]=ue),Y===d.length-1&&(this.finalKeyframe=ne)}}if(this.resolveNoneKeyframes(),!Tce.has(x)||d.length!==2)return;const[A,N]=d,O=wse(A),H=wse(N),U=ise(A),V=ise(N);if(U!==V&&LC[x]){this.needsMeasurement=!0;return}if(O!==H)if(pse(O)&&pse(H))for(let Y=0;Y<d.length;Y++){const ne=d[Y];typeof ne=="string"&&(d[Y]=parseFloat(ne))}else LC[x]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:d,name:p}=this,x=[];for(let A=0;A<d.length;A++)(d[A]===null||$1e(d[A]))&&x.push(A);x.length&&Z1e(d,x,p)}measureInitialState(){const{element:d,unresolvedKeyframes:p,name:x}=this;if(!d||!d.current)return;x==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=LC[x](d.measureViewportBox(),window.getComputedStyle(d.current)),p[0]=this.measuredOrigin;const A=p[p.length-1];A!==void 0&&d.getValue(x,A).jump(A,!1)}measureEndState(){const{element:d,name:p,unresolvedKeyframes:x}=this;if(!d||!d.current)return;const A=d.getValue(p);A&&A.jump(this.measuredOrigin,!1);const N=x.length-1,O=x[N];x[N]=LC[p](d.measureViewportBox(),window.getComputedStyle(d.current)),O!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=O),this.removedTransforms?.length&&this.removedTransforms.forEach(([H,U])=>{d.getValue(H).set(U)}),this.resolveNoneKeyframes()}}function q1e(c,d,p){if(c instanceof EventTarget)return[c];if(typeof c=="string"){let x=document;const A=p?.[c]??x.querySelectorAll(c);return A?Array.from(A):[]}return Array.from(c)}const Mce=(c,d)=>d&&typeof c=="number"?d.transform(c):c;function Bce(c){return Zle(c)&&"offsetHeight"in c}const{schedule:ene}=sce(queueMicrotask,!1),cy={x:!1,y:!1};function Lce(){return cy.x||cy.y}function G1e(c){return c==="x"||c==="y"?cy[c]?null:(cy[c]=!0,()=>{cy[c]=!1}):cy.x||cy.y?null:(cy.x=cy.y=!0,()=>{cy.x=cy.y=!1})}function Pce(c,d){const p=q1e(c),x=new AbortController,A={passive:!0,...d,signal:x.signal};return[p,A,()=>x.abort()]}function Sse(c){return!(c.pointerType==="touch"||Lce())}function K1e(c,d,p={}){const[x,A,N]=Pce(c,p),O=H=>{if(!Sse(H))return;const{target:U}=H,V=d(U,H);if(typeof V!="function"||!U)return;const Y=ne=>{Sse(ne)&&(V(ne),U.removeEventListener("pointerleave",Y))};U.addEventListener("pointerleave",Y,A)};return x.forEach(H=>{H.addEventListener("pointerenter",O,A)}),N}const Fce=(c,d)=>d?c===d?!0:Fce(c,d.parentElement):!1,tne=c=>c.pointerType==="mouse"?typeof c.button!="number"||c.button<=0:c.isPrimary!==!1,Y1e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $ce(c){return Y1e.has(c.tagName)||c.isContentEditable===!0}const jH=new WeakSet;function Ese(c){return d=>{d.key==="Enter"&&c(d)}}function iee(c,d){c.dispatchEvent(new PointerEvent("pointer"+d,{isPrimary:!0,bubbles:!0}))}const X1e=(c,d)=>{const p=c.currentTarget;if(!p)return;const x=Ese(()=>{if(jH.has(p))return;iee(p,"down");const A=Ese(()=>{iee(p,"up")}),N=()=>iee(p,"cancel");p.addEventListener("keyup",A,d),p.addEventListener("blur",N,d)});p.addEventListener("keydown",x,d),p.addEventListener("blur",()=>p.removeEventListener("keydown",x),d)};function Tse(c){return tne(c)&&!Lce()}function Q1e(c,d,p={}){const[x,A,N]=Pce(c,p),O=H=>{const U=H.currentTarget;if(!Tse(H))return;jH.add(U);const V=d(U,H),Y=(we,Ee)=>{window.removeEventListener("pointerup",ne),window.removeEventListener("pointercancel",ue),jH.has(U)&&jH.delete(U),Tse(we)&&typeof V=="function"&&V(we,{success:Ee})},ne=we=>{Y(we,U===window||U===document||p.useGlobalTarget||Fce(U,we.target))},ue=we=>{Y(we,!1)};window.addEventListener("pointerup",ne,A),window.addEventListener("pointercancel",ue,A)};return x.forEach(H=>{(p.useGlobalTarget?window:H).addEventListener("pointerdown",O,A),Bce(H)&&(H.addEventListener("focus",V=>X1e(V,A)),!$ce(H)&&!H.hasAttribute("tabindex")&&(H.tabIndex=0))}),N}function Ice(c){return Zle(c)&&"ownerSVGElement"in c}function J1e(c){return Ice(c)&&c.tagName==="svg"}const ebe=[...Oce,qd,FC],tbe=c=>ebe.find(_ce(c)),Ase=()=>({translate:0,scale:1,origin:0,originPoint:0}),F3=()=>({x:Ase(),y:Ase()}),kse=()=>({min:0,max:0}),Cf=()=>({x:kse(),y:kse()}),Kee={current:null},Hce={current:!1},nbe=typeof window<"u";function obe(){if(Hce.current=!0,!!nbe)if(window.matchMedia){const c=window.matchMedia("(prefers-reduced-motion)"),d=()=>Kee.current=c.matches;c.addEventListener("change",d),d()}else Kee.current=!1}const sbe=new WeakMap;function Ez(c){return c!==null&&typeof c=="object"&&typeof c.start=="function"}function tB(c){return typeof c=="string"||Array.isArray(c)}const nne=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],one=["initial",...nne];function Tz(c){return Ez(c.animate)||one.some(d=>tB(c[d]))}function zce(c){return!!(Tz(c)||c.variants)}function rbe(c,d,p){for(const x in d){const A=d[x],N=p[x];if(bh(A))c.addValue(x,A);else if(bh(N))c.addValue(x,W3(A,{owner:c}));else if(N!==A)if(c.hasValue(x)){const O=c.getValue(x);O.liveStyle===!0?O.jump(A):O.hasAnimated||O.set(A)}else{const O=c.getStaticValue(x);c.addValue(x,W3(O!==void 0?O:A,{owner:c}))}}for(const x in p)d[x]===void 0&&c.removeValue(x);return d}const Dse=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let az={};function Vce(c){az=c}function abe(){return az}class ibe{scrapeMotionValuesFromProps(d,p,x){return{}}constructor({parent:d,props:p,presenceContext:x,reducedMotionConfig:A,blockInitialAnimation:N,visualState:O},H={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Gte,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const ue=mg.now();this.renderScheduledAt<ue&&(this.renderScheduledAt=ue,Dc.render(this.render,!1,!0))};const{latestValues:U,renderState:V}=O;this.latestValues=U,this.baseTarget={...U},this.initialValues=p.initial?{...U}:{},this.renderState=V,this.parent=d,this.props=p,this.presenceContext=x,this.depth=d?d.depth+1:0,this.reducedMotionConfig=A,this.options=H,this.blockInitialAnimation=!!N,this.isControllingVariants=Tz(p),this.isVariantNode=zce(p),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(d&&d.current);const{willChange:Y,...ne}=this.scrapeMotionValuesFromProps(p,{},this);for(const ue in ne){const we=ne[ue];U[ue]!==void 0&&bh(we)&&we.set(U[ue])}}mount(d){this.current=d,sbe.set(d,this),this.projection&&!this.projection.instance&&this.projection.mount(d),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((p,x)=>this.bindToMotionValue(x,p)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Hce.current||obe(),this.shouldReduceMotion=Kee.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),PC(this.notifyUpdate),PC(this.render),this.valueSubscriptions.forEach(d=>d()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const d in this.events)this.events[d].clear();for(const d in this.features){const p=this.features[d];p&&(p.unmount(),p.isMounted=!1)}this.current=null}addChild(d){this.children.add(d),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(d)}removeChild(d){this.children.delete(d),this.enteringChildren&&this.enteringChildren.delete(d)}bindToMotionValue(d,p){this.valueSubscriptions.has(d)&&this.valueSubscriptions.get(d)();const x=rD.has(d);x&&this.onBindTransform&&this.onBindTransform();const A=p.on("change",O=>{this.latestValues[d]=O,this.props.onUpdate&&Dc.preRender(this.notifyUpdate),x&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let N;typeof window<"u"&&window.MotionCheckAppearSync&&(N=window.MotionCheckAppearSync(this,d,p)),this.valueSubscriptions.set(d,()=>{A(),N&&N(),p.owner&&p.stop()})}sortNodePosition(d){return!this.current||!this.sortInstanceNodePosition||this.type!==d.type?0:this.sortInstanceNodePosition(this.current,d.current)}updateFeatures(){let d="animation";for(d in az){const p=az[d];if(!p)continue;const{isEnabled:x,Feature:A}=p;if(!this.features[d]&&A&&x(this.props)&&(this.features[d]=new A(this)),this.features[d]){const N=this.features[d];N.isMounted?N.update():(N.mount(),N.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Cf()}getStaticValue(d){return this.latestValues[d]}setStaticValue(d,p){this.latestValues[d]=p}update(d,p){(d.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=d,this.prevPresenceContext=this.presenceContext,this.presenceContext=p;for(let x=0;x<Dse.length;x++){const A=Dse[x];this.propEventSubscriptions[A]&&(this.propEventSubscriptions[A](),delete this.propEventSubscriptions[A]);const N="on"+A,O=d[N];O&&(this.propEventSubscriptions[A]=this.on(A,O))}this.prevMotionValues=rbe(this,this.scrapeMotionValuesFromProps(d,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(d){return this.props.variants?this.props.variants[d]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(d){const p=this.getClosestVariantNode();if(p)return p.variantChildren&&p.variantChildren.add(d),()=>p.variantChildren.delete(d)}addValue(d,p){const x=this.values.get(d);p!==x&&(x&&this.removeValue(d),this.bindToMotionValue(d,p),this.values.set(d,p),this.latestValues[d]=p.get())}removeValue(d){this.values.delete(d);const p=this.valueSubscriptions.get(d);p&&(p(),this.valueSubscriptions.delete(d)),delete this.latestValues[d],this.removeValueFromRenderState(d,this.renderState)}hasValue(d){return this.values.has(d)}getValue(d,p){if(this.props.values&&this.props.values[d])return this.props.values[d];let x=this.values.get(d);return x===void 0&&p!==void 0&&(x=W3(p===null?void 0:p,{owner:this}),this.addValue(d,x)),x}readValue(d,p){let x=this.latestValues[d]!==void 0||!this.current?this.latestValues[d]:this.getBaseTargetFromProps(this.props,d)??this.readValueFromInstance(this.current,d,this.options);return x!=null&&(typeof x=="string"&&(Ule(x)||Wle(x))?x=parseFloat(x):!tbe(x)&&FC.test(p)&&(x=Nce(d,p)),this.setBaseTarget(d,bh(x)?x.get():x)),bh(x)?x.get():x}setBaseTarget(d,p){this.baseTarget[d]=p}getBaseTarget(d){const{initial:p}=this.props;let x;if(typeof p=="string"||typeof p=="object"){const N=Xte(this.props,p,this.presenceContext?.custom);N&&(x=N[d])}if(p&&x!==void 0)return x;const A=this.getBaseTargetFromProps(this.props,d);return A!==void 0&&!bh(A)?A:this.initialValues[d]!==void 0&&x===void 0?void 0:this.baseTarget[d]}on(d,p){return this.events[d]||(this.events[d]=new Fte),this.events[d].add(p)}notify(d,...p){this.events[d]&&this.events[d].notify(...p)}scheduleRenderMicrotask(){ene.render(this.render)}}class $C{constructor(d){this.isMounted=!1,this.node=d}update(){}}class jce extends ibe{constructor(){super(...arguments),this.KeyframeResolver=W1e}sortInstanceNodePosition(d,p){return d.compareDocumentPosition(p)&2?1:-1}getBaseTargetFromProps(d,p){const x=d.style;return x?x[p]:void 0}removeValueFromRenderState(d,{vars:p,style:x}){delete p[d],delete x[d]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:d}=this.props;bh(d)&&(this.childSubscription=d.on("change",p=>{this.current&&(this.current.textContent=`${p}`)}))}}function Uce({top:c,left:d,right:p,bottom:x}){return{x:{min:d,max:p},y:{min:c,max:x}}}function lbe({x:c,y:d}){return{top:d.min,right:c.max,bottom:d.max,left:c.min}}function cbe(c,d){if(!d)return c;const p=d({x:c.left,y:c.top}),x=d({x:c.right,y:c.bottom});return{top:p.y,left:p.x,bottom:x.y,right:x.x}}function lee(c){return c===void 0||c===1}function Yee({scale:c,scaleX:d,scaleY:p}){return!lee(c)||!lee(d)||!lee(p)}function wT(c){return Yee(c)||Zce(c)||c.z||c.rotate||c.rotateX||c.rotateY||c.skewX||c.skewY}function Zce(c){return _se(c.x)||_se(c.y)}function _se(c){return c&&c!=="0%"}function iz(c,d,p){const x=c-p,A=d*x;return p+A}function Ose(c,d,p,x,A){return A!==void 0&&(c=iz(c,A,x)),iz(c,p,x)+d}function Xee(c,d=0,p=1,x,A){c.min=Ose(c.min,d,p,x,A),c.max=Ose(c.max,d,p,x,A)}function Wce(c,{x:d,y:p}){Xee(c.x,d.translate,d.scale,d.originPoint),Xee(c.y,p.translate,p.scale,p.originPoint)}const Rse=.999999999999,Nse=1.0000000000001;function ube(c,d,p,x=!1){const A=p.length;if(!A)return;d.x=d.y=1;let N,O;for(let H=0;H<A;H++){N=p[H],O=N.projectionDelta;const{visualElement:U}=N.options;U&&U.props.style&&U.props.style.display==="contents"||(x&&N.options.layoutScroll&&N.scroll&&N!==N.root&&I3(c,{x:-N.scroll.offset.x,y:-N.scroll.offset.y}),O&&(d.x*=O.x.scale,d.y*=O.y.scale,Wce(c,O)),x&&wT(N.latestValues)&&I3(c,N.latestValues))}d.x<Nse&&d.x>Rse&&(d.x=1),d.y<Nse&&d.y>Rse&&(d.y=1)}function $3(c,d){c.min=c.min+d,c.max=c.max+d}function Mse(c,d,p,x,A=.5){const N=xu(c.min,c.max,A);Xee(c,d,p,N,x)}function I3(c,d){Mse(c.x,d.x,d.scaleX,d.scale,d.originX),Mse(c.y,d.y,d.scaleY,d.scale,d.originY)}function qce(c,d){return Uce(cbe(c.getBoundingClientRect(),d))}function dbe(c,d,p){const x=qce(c,p),{scroll:A}=d;return A&&($3(x.x,A.offset.x),$3(x.y,A.offset.y)),x}const fbe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mbe=sD.length;function hbe(c,d,p){let x="",A=!0;for(let N=0;N<mbe;N++){const O=sD[N],H=c[O];if(H===void 0)continue;let U=!0;if(typeof H=="number"?U=H===(O.startsWith("scale")?1:0):U=parseFloat(H)===0,!U||p){const V=Mce(H,Jte[O]);if(!U){A=!1;const Y=fbe[O]||O;x+=`${Y}(${V}) `}p&&(d[O]=V)}}return x=x.trim(),p?x=p(d,A?"":x):A&&(x="none"),x}function sne(c,d,p){const{style:x,vars:A,transformOrigin:N}=c;let O=!1,H=!1;for(const U in d){const V=d[U];if(rD.has(U)){O=!0;continue}else if(ace(U)){A[U]=V;continue}else{const Y=Mce(V,Jte[U]);U.startsWith("origin")?(H=!0,N[U]=Y):x[U]=Y}}if(d.transform||(O||p?x.transform=hbe(d,c.transform,p):x.transform&&(x.transform="none")),H){const{originX:U="50%",originY:V="50%",originZ:Y=0}=N;x.transformOrigin=`${U} ${V} ${Y}`}}function Gce(c,{style:d,vars:p},x,A){const N=c.style;let O;for(O in d)N[O]=d[O];A?.applyProjectionStyles(N,x);for(O in p)N.setProperty(O,p[O])}function Bse(c,d){return d.max===d.min?0:c/(d.max-d.min)*100}const jM={correct:(c,d)=>{if(!d.target)return c;if(typeof c=="string")if(is.test(c))c=parseFloat(c);else return c;const p=Bse(c,d.target.x),x=Bse(c,d.target.y);return`${p}% ${x}%`}},gbe={correct:(c,{treeScale:d,projectionDelta:p})=>{const x=c,A=FC.parse(c);if(A.length>5)return x;const N=FC.createTransformer(c),O=typeof A[0]!="number"?1:0,H=p.x.scale*d.x,U=p.y.scale*d.y;A[0+O]/=H,A[1+O]/=U;const V=xu(H,U,.5);return typeof A[2+O]=="number"&&(A[2+O]/=V),typeof A[3+O]=="number"&&(A[3+O]/=V),N(A)}},Qee={borderRadius:{...jM,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jM,borderTopRightRadius:jM,borderBottomLeftRadius:jM,borderBottomRightRadius:jM,boxShadow:gbe};function Kce(c,{layout:d,layoutId:p}){return rD.has(c)||c.startsWith("origin")||(d||p!==void 0)&&(!!Qee[c]||c==="opacity")}function rne(c,d,p){const x=c.style,A=d?.style,N={};if(!x)return N;for(const O in x)(bh(x[O])||A&&bh(A[O])||Kce(O,c)||p?.getValue(O)?.liveStyle!==void 0)&&(N[O]=x[O]);return N}function pbe(c){return window.getComputedStyle(c)}class bbe extends jce{constructor(){super(...arguments),this.type="html",this.renderInstance=Gce}readValueFromInstance(d,p){if(rD.has(p))return this.projection?.isProjecting?Iee(p):q0e(d,p);{const x=pbe(d),A=(ace(p)?x.getPropertyValue(p):x[p])||0;return typeof A=="string"?A.trim():A}}measureInstanceViewportBox(d,{transformPagePoint:p}){return qce(d,p)}build(d,p,x){sne(d,p,x.transformTemplate)}scrapeMotionValuesFromProps(d,p,x){return rne(d,p,x)}}const ybe={offset:"stroke-dashoffset",array:"stroke-dasharray"},vbe={offset:"strokeDashoffset",array:"strokeDasharray"};function xbe(c,d,p=1,x=0,A=!0){c.pathLength=1;const N=A?ybe:vbe;c[N.offset]=is.transform(-x);const O=is.transform(d),H=is.transform(p);c[N.array]=`${O} ${H}`}const wbe=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Yce(c,{attrX:d,attrY:p,attrScale:x,pathLength:A,pathSpacing:N=1,pathOffset:O=0,...H},U,V,Y){if(sne(c,H,V),U){c.style.viewBox&&(c.attrs.viewBox=c.style.viewBox);return}c.attrs=c.style,c.style={};const{attrs:ne,style:ue}=c;ne.transform&&(ue.transform=ne.transform,delete ne.transform),(ue.transform||ne.transformOrigin)&&(ue.transformOrigin=ne.transformOrigin??"50% 50%",delete ne.transformOrigin),ue.transform&&(ue.transformBox=Y?.transformBox??"fill-box",delete ne.transformBox);for(const we of wbe)ne[we]!==void 0&&(ue[we]=ne[we],delete ne[we]);d!==void 0&&(ne.x=d),p!==void 0&&(ne.y=p),x!==void 0&&(ne.scale=x),A!==void 0&&xbe(ne,A,N,O,!1)}const Xce=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Qce=c=>typeof c=="string"&&c.toLowerCase()==="svg";function Cbe(c,d,p,x){Gce(c,d,void 0,x);for(const A in d.attrs)c.setAttribute(Xce.has(A)?A:Qte(A),d.attrs[A])}function Jce(c,d,p){const x=rne(c,d,p);for(const A in c)if(bh(c[A])||bh(d[A])){const N=sD.indexOf(A)!==-1?"attr"+A.charAt(0).toUpperCase()+A.substring(1):A;x[N]=c[A]}return x}class Sbe extends jce{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Cf}getBaseTargetFromProps(d,p){return d[p]}readValueFromInstance(d,p){if(rD.has(p)){const x=Rce(p);return x&&x.default||0}return p=Xce.has(p)?p:Qte(p),d.getAttribute(p)}scrapeMotionValuesFromProps(d,p,x){return Jce(d,p,x)}build(d,p,x){Yce(d,p,this.isSVGTag,x.transformTemplate,x.style)}renderInstance(d,p,x,A){Cbe(d,p,x,A)}mount(d){this.isSVGTag=Qce(d.tagName),super.mount(d)}}const Ebe=one.length;function eue(c){if(!c)return;if(!c.isControllingVariants){const p=c.parent?eue(c.parent)||{}:{};return c.props.initial!==void 0&&(p.initial=c.props.initial),p}const d={};for(let p=0;p<Ebe;p++){const x=one[p],A=c.props[x];(tB(A)||A===!1)&&(d[x]=A)}return d}function tue(c,d){if(!Array.isArray(d))return!1;const p=d.length;if(p!==c.length)return!1;for(let x=0;x<p;x++)if(d[x]!==c[x])return!1;return!0}const Tbe=[...nne].reverse(),Abe=nne.length;function kbe(c){return d=>Promise.all(d.map(({animation:p,options:x})=>P1e(c,p,x)))}function Dbe(c){let d=kbe(c),p=Lse(),x=!0;const A=U=>(V,Y)=>{const ne=V3(c,Y,U==="exit"?c.presenceContext?.custom:void 0);if(ne){const{transition:ue,transitionEnd:we,...Ee}=ne;V={...V,...Ee,...we}}return V};function N(U){d=U(c)}function O(U){const{props:V}=c,Y=eue(c.parent)||{},ne=[],ue=new Set;let we={},Ee=1/0;for(let ve=0;ve<Abe;ve++){const ct=Tbe[ve],Ue=p[ct],J=V[ct]!==void 0?V[ct]:Y[ct],vt=tB(J),en=ct===U?Ue.isActive:null;en===!1&&(Ee=ve);let Qe=J===Y[ct]&&J!==V[ct]&&vt;if(Qe&&x&&c.manuallyAnimateOnMount&&(Qe=!1),Ue.protectedKeys={...we},!Ue.isActive&&en===null||!J&&!Ue.prevProp||Ez(J)||typeof J=="boolean")continue;const ie=_be(Ue.prevProp,J);let it=ie||ct===U&&Ue.isActive&&!Qe&&vt||ve>Ee&&vt,Tn=!1;const mn=Array.isArray(J)?J:[J];let qe=mn.reduce(A(ct),{});en===!1&&(qe={});const{prevResolvedValues:Oe={}}=Ue,Yo={...Oe,...qe},pt=Vt=>{it=!0,ue.has(Vt)&&(Tn=!0,ue.delete(Vt)),Ue.needsAnimating[Vt]=!0;const at=c.getValue(Vt);at&&(at.liveStyle=!1)};for(const Vt in Yo){const at=qe[Vt],Qn=Oe[Vt];if(we.hasOwnProperty(Vt))continue;let cn=!1;Zee(at)&&Zee(Qn)?cn=!tue(at,Qn):cn=at!==Qn,cn?at!=null?pt(Vt):ue.add(Vt):at!==void 0&&ue.has(Vt)?pt(Vt):Ue.protectedKeys[Vt]=!0}Ue.prevProp=J,Ue.prevResolvedValues=qe,Ue.isActive&&(we={...we,...qe}),x&&c.blockInitialAnimation&&(it=!1);const Pt=Qe&&ie;it&&(!Pt||Tn)&&ne.push(...mn.map(Vt=>{const at={type:ct};if(typeof Vt=="string"&&x&&!Pt&&c.manuallyAnimateOnMount&&c.parent){const{parent:Qn}=c,cn=V3(Qn,Vt);if(Qn.enteringChildren&&cn){const{delayChildren:ee}=cn.transition||{};at.delay=Ece(Qn.enteringChildren,c,ee)}}return{animation:Vt,options:at}}))}if(ue.size){const ve={};if(typeof V.initial!="boolean"){const ct=V3(c,Array.isArray(V.initial)?V.initial[0]:V.initial);ct&&ct.transition&&(ve.transition=ct.transition)}ue.forEach(ct=>{const Ue=c.getBaseTarget(ct),J=c.getValue(ct);J&&(J.liveStyle=!0),ve[ct]=Ue??null}),ne.push({animation:ve})}let $e=!!ne.length;return x&&(V.initial===!1||V.initial===V.animate)&&!c.manuallyAnimateOnMount&&($e=!1),x=!1,$e?d(ne):Promise.resolve()}function H(U,V){if(p[U].isActive===V)return Promise.resolve();c.variantChildren?.forEach(ne=>ne.animationState?.setActive(U,V)),p[U].isActive=V;const Y=O(U);for(const ne in p)p[ne].protectedKeys={};return Y}return{animateChanges:O,setActive:H,setAnimateFunction:N,getState:()=>p,reset:()=>{p=Lse()}}}function _be(c,d){return typeof d=="string"?d!==c:Array.isArray(d)?!tue(d,c):!1}function xT(c=!1){return{isActive:c,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Lse(){return{animate:xT(!0),whileInView:xT(),whileHover:xT(),whileTap:xT(),whileDrag:xT(),whileFocus:xT(),exit:xT()}}const nue=1e-4,Obe=1-nue,Rbe=1+nue,oue=.01,Nbe=0-oue,Mbe=0+oue;function hg(c){return c.max-c.min}function Bbe(c,d,p){return Math.abs(c-d)<=p}function Pse(c,d,p,x=.5){c.origin=x,c.originPoint=xu(d.min,d.max,c.origin),c.scale=hg(p)/hg(d),c.translate=xu(p.min,p.max,c.origin)-c.originPoint,(c.scale>=Obe&&c.scale<=Rbe||isNaN(c.scale))&&(c.scale=1),(c.translate>=Nbe&&c.translate<=Mbe||isNaN(c.translate))&&(c.translate=0)}function KM(c,d,p,x){Pse(c.x,d.x,p.x,x?x.originX:void 0),Pse(c.y,d.y,p.y,x?x.originY:void 0)}function Fse(c,d,p){c.min=p.min+d.min,c.max=c.min+hg(d)}function Lbe(c,d,p){Fse(c.x,d.x,p.x),Fse(c.y,d.y,p.y)}function $se(c,d,p){c.min=d.min-p.min,c.max=c.min+hg(d)}function lz(c,d,p){$se(c.x,d.x,p.x),$se(c.y,d.y,p.y)}function Ise(c,d,p,x,A){return c-=d,c=iz(c,1/p,x),A!==void 0&&(c=iz(c,1/A,x)),c}function Pbe(c,d=0,p=1,x=.5,A,N=c,O=c){if(Dv.test(d)&&(d=parseFloat(d),d=xu(O.min,O.max,d/100)-O.min),typeof d!="number")return;let H=xu(N.min,N.max,x);c===N&&(H-=d),c.min=Ise(c.min,d,p,H,A),c.max=Ise(c.max,d,p,H,A)}function Hse(c,d,[p,x,A],N,O){Pbe(c,d[p],d[x],d[A],d.scale,N,O)}const Fbe=["x","scaleX","originX"],$be=["y","scaleY","originY"];function zse(c,d,p,x){Hse(c.x,d,Fbe,p?p.x:void 0,x?x.x:void 0),Hse(c.y,d,$be,p?p.y:void 0,x?x.y:void 0)}function Vse(c,d){c.min=d.min,c.max=d.max}function ly(c,d){Vse(c.x,d.x),Vse(c.y,d.y)}function jse(c,d){c.translate=d.translate,c.scale=d.scale,c.originPoint=d.originPoint,c.origin=d.origin}function Use(c){return c.translate===0&&c.scale===1}function sue(c){return Use(c.x)&&Use(c.y)}function Zse(c,d){return c.min===d.min&&c.max===d.max}function Ibe(c,d){return Zse(c.x,d.x)&&Zse(c.y,d.y)}function Wse(c,d){return Math.round(c.min)===Math.round(d.min)&&Math.round(c.max)===Math.round(d.max)}function rue(c,d){return Wse(c.x,d.x)&&Wse(c.y,d.y)}function qse(c){return hg(c.x)/hg(c.y)}function Gse(c,d){return c.translate===d.translate&&c.scale===d.scale&&c.originPoint===d.originPoint}function F1(c){return[c("x"),c("y")]}function Hbe(c,d,p){let x="";const A=c.x.translate/d.x,N=c.y.translate/d.y,O=p?.z||0;if((A||N||O)&&(x=`translate3d(${A}px, ${N}px, ${O}px) `),(d.x!==1||d.y!==1)&&(x+=`scale(${1/d.x}, ${1/d.y}) `),p){const{transformPerspective:V,rotate:Y,rotateX:ne,rotateY:ue,skewX:we,skewY:Ee}=p;V&&(x=`perspective(${V}px) ${x}`),Y&&(x+=`rotate(${Y}deg) `),ne&&(x+=`rotateX(${ne}deg) `),ue&&(x+=`rotateY(${ue}deg) `),we&&(x+=`skewX(${we}deg) `),Ee&&(x+=`skewY(${Ee}deg) `)}const H=c.x.scale*d.x,U=c.y.scale*d.y;return(H!==1||U!==1)&&(x+=`scale(${H}, ${U})`),x||"none"}const aue=["TopLeft","TopRight","BottomLeft","BottomRight"],zbe=aue.length,Kse=c=>typeof c=="string"?parseFloat(c):c,Yse=c=>typeof c=="number"||is.test(c);function Vbe(c,d,p,x,A,N){A?(c.opacity=xu(0,p.opacity??1,jbe(x)),c.opacityExit=xu(d.opacity??1,0,Ube(x))):N&&(c.opacity=xu(d.opacity??1,p.opacity??1,x));for(let O=0;O<zbe;O++){const H=`border${aue[O]}Radius`;let U=Xse(d,H),V=Xse(p,H);if(U===void 0&&V===void 0)continue;U||(U=0),V||(V=0),U===0||V===0||Yse(U)===Yse(V)?(c[H]=Math.max(xu(Kse(U),Kse(V),x),0),(Dv.test(V)||Dv.test(U))&&(c[H]+="%")):c[H]=V}(d.rotate||p.rotate)&&(c.rotate=xu(d.rotate||0,p.rotate||0,x))}function Xse(c,d){return c[d]!==void 0?c[d]:c.borderRadius}const jbe=iue(0,.5,ece),Ube=iue(.5,.95,I1);function iue(c,d,p){return x=>x<c?0:x>d?1:p(QM(c,d,x))}function Zbe(c,d){const p=mg.now(),x=({timestamp:A})=>{const N=A-p;N>=d&&(PC(x),c(N-d))};return Dc.setup(x,!0),()=>PC(x)}function nB(c,d,p,x={passive:!0}){return c.addEventListener(d,p,x),()=>c.removeEventListener(d,p)}function UH(c){return bh(c)?c.get():c}function Wbe(c,d,p){const x=bh(c)?c:W3(c);return x.start(Yte("",x,d,p)),x.animation}const qbe=(c,d)=>c.depth-d.depth;class Gbe{constructor(){this.children=[],this.isDirty=!1}add(d){Mte(this.children,d),this.isDirty=!0}remove(d){Bte(this.children,d),this.isDirty=!0}forEach(d){this.isDirty&&this.children.sort(qbe),this.isDirty=!1,this.children.forEach(d)}}class Kbe{constructor(){this.members=[]}add(d){Mte(this.members,d),d.scheduleRender()}remove(d){if(Bte(this.members,d),d===this.prevLead&&(this.prevLead=void 0),d===this.lead){const p=this.members[this.members.length-1];p&&this.promote(p)}}relegate(d){const p=this.members.findIndex(A=>d===A);if(p===0)return!1;let x;for(let A=p;A>=0;A--){const N=this.members[A];if(N.isPresent!==!1){x=N;break}}return x?(this.promote(x),!0):!1}promote(d,p){const x=this.lead;if(d!==x&&(this.prevLead=x,this.lead=d,d.show(),x)){x.instance&&x.scheduleRender(),d.scheduleRender(),d.resumeFrom=x,p&&(d.resumeFrom.preserveOpacity=!0),x.snapshot&&(d.snapshot=x.snapshot,d.snapshot.latestValues=x.animationValues||x.latestValues),d.root&&d.root.isUpdating&&(d.isLayoutDirty=!0);const{crossfade:A}=d.options;A===!1&&x.hide()}}exitAnimationComplete(){this.members.forEach(d=>{const{options:p,resumingFrom:x}=d;p.onExitComplete&&p.onExitComplete(),x&&x.options.onExitComplete&&x.options.onExitComplete()})}scheduleRender(){this.members.forEach(d=>{d.instance&&d.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const ZH={hasAnimatedSinceResize:!0,hasEverUpdated:!1},cee=["","X","Y","Z"],Ybe=1e3;let Xbe=0;function uee(c,d,p,x){const{latestValues:A}=d;A[c]&&(p[c]=A[c],d.setStaticValue(c,0),x&&(x[c]=0))}function lue(c){if(c.hasCheckedOptimisedAppear=!0,c.root===c)return;const{visualElement:d}=c.options;if(!d)return;const p=kce(d);if(window.MotionHasOptimisedAnimation(p,"transform")){const{layout:A,layoutId:N}=c.options;window.MotionCancelOptimisedAnimation(p,"transform",Dc,!(A||N))}const{parent:x}=c;x&&!x.hasCheckedOptimisedAppear&&lue(x)}function cue({attachResizeListener:c,defaultParent:d,measureScroll:p,checkIsScrollRoot:x,resetTransform:A}){return class{constructor(O={},H=d?.()){this.id=Xbe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(eye),this.nodes.forEach(sye),this.nodes.forEach(rye),this.nodes.forEach(tye)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=O,this.root=H?H.root||H:this,this.path=H?[...H.path,H]:[],this.parent=H,this.depth=H?H.depth+1:0;for(let U=0;U<this.path.length;U++)this.path[U].shouldResetTransform=!0;this.root===this&&(this.nodes=new Gbe)}addEventListener(O,H){return this.eventHandlers.has(O)||this.eventHandlers.set(O,new Fte),this.eventHandlers.get(O).add(H)}notifyListeners(O,...H){const U=this.eventHandlers.get(O);U&&U.notify(...H)}hasListeners(O){return this.eventHandlers.has(O)}mount(O){if(this.instance)return;this.isSVG=Ice(O)&&!J1e(O),this.instance=O;const{layoutId:H,layout:U,visualElement:V}=this.options;if(V&&!V.current&&V.mount(O),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(U||H)&&(this.isLayoutDirty=!0),c){let Y,ne=0;const ue=()=>this.root.updateBlockedByResize=!1;Dc.read(()=>{ne=window.innerWidth}),c(O,()=>{const we=window.innerWidth;we!==ne&&(ne=we,this.root.updateBlockedByResize=!0,Y&&Y(),Y=Zbe(ue,250),ZH.hasAnimatedSinceResize&&(ZH.hasAnimatedSinceResize=!1,this.nodes.forEach(ere)))})}H&&this.root.registerSharedNode(H,this),this.options.animate!==!1&&V&&(H||U)&&this.addEventListener("didUpdate",({delta:Y,hasLayoutChanged:ne,hasRelativeLayoutChanged:ue,layout:we})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const Ee=this.options.transition||V.getDefaultTransition()||uye,{onLayoutAnimationStart:$e,onLayoutAnimationComplete:ve}=V.getProps(),ct=!this.targetLayout||!rue(this.targetLayout,we),Ue=!ne&&ue;if(this.options.layoutRoot||this.resumeFrom||Ue||ne&&(ct||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const J={...Kte(Ee,"layout"),onPlay:$e,onComplete:ve};(V.shouldReduceMotion||this.options.layoutRoot)&&(J.delay=0,J.type=!1),this.startAnimation(J),this.setAnimationOrigin(Y,Ue)}else ne||ere(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=we})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const O=this.getStack();O&&O.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),PC(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aye),this.animationId++)}getTransformTemplate(){const{visualElement:O}=this.options;return O&&O.getProps().transformTemplate}willUpdate(O=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&lue(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let Y=0;Y<this.path.length;Y++){const ne=this.path[Y];ne.shouldResetTransform=!0,ne.updateScroll("snapshot"),ne.options.layoutRoot&&ne.willUpdate(!1)}const{layoutId:H,layout:U}=this.options;if(H===void 0&&!U)return;const V=this.getTransformTemplate();this.prevTransformTemplateValue=V?V(this.latestValues,""):void 0,this.updateSnapshot(),O&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Qse);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Jse);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(oye),this.nodes.forEach(Qbe),this.nodes.forEach(Jbe)):this.nodes.forEach(Jse),this.clearAllSnapshots();const H=mg.now();_m.delta=Ov(0,1e3/60,H-_m.timestamp),_m.timestamp=H,_m.isProcessing=!0,tee.update.process(_m),tee.preRender.process(_m),tee.render.process(_m),_m.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ene.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nye),this.sharedNodes.forEach(iye)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Dc.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Dc.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hg(this.snapshot.measuredBox.x)&&!hg(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let U=0;U<this.path.length;U++)this.path[U].updateScroll();const O=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Cf(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:H}=this.options;H&&H.notify("LayoutMeasure",this.layout.layoutBox,O?O.layoutBox:void 0)}updateScroll(O="measure"){let H=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===O&&(H=!1),H&&this.instance){const U=x(this.instance);this.scroll={animationId:this.root.animationId,phase:O,isRoot:U,offset:p(this.instance),wasRoot:this.scroll?this.scroll.isRoot:U}}}resetTransform(){if(!A)return;const O=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,H=this.projectionDelta&&!sue(this.projectionDelta),U=this.getTransformTemplate(),V=U?U(this.latestValues,""):void 0,Y=V!==this.prevTransformTemplateValue;O&&this.instance&&(H||wT(this.latestValues)||Y)&&(A(this.instance,V),this.shouldResetTransform=!1,this.scheduleRender())}measure(O=!0){const H=this.measurePageBox();let U=this.removeElementScroll(H);return O&&(U=this.removeTransform(U)),dye(U),{animationId:this.root.animationId,measuredBox:H,layoutBox:U,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:O}=this.options;if(!O)return Cf();const H=O.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(fye))){const{scroll:V}=this.root;V&&($3(H.x,V.offset.x),$3(H.y,V.offset.y))}return H}removeElementScroll(O){const H=Cf();if(ly(H,O),this.scroll?.wasRoot)return H;for(let U=0;U<this.path.length;U++){const V=this.path[U],{scroll:Y,options:ne}=V;V!==this.root&&Y&&ne.layoutScroll&&(Y.wasRoot&&ly(H,O),$3(H.x,Y.offset.x),$3(H.y,Y.offset.y))}return H}applyTransform(O,H=!1){const U=Cf();ly(U,O);for(let V=0;V<this.path.length;V++){const Y=this.path[V];!H&&Y.options.layoutScroll&&Y.scroll&&Y!==Y.root&&I3(U,{x:-Y.scroll.offset.x,y:-Y.scroll.offset.y}),wT(Y.latestValues)&&I3(U,Y.latestValues)}return wT(this.latestValues)&&I3(U,this.latestValues),U}removeTransform(O){const H=Cf();ly(H,O);for(let U=0;U<this.path.length;U++){const V=this.path[U];if(!V.instance||!wT(V.latestValues))continue;Yee(V.latestValues)&&V.updateSnapshot();const Y=Cf(),ne=V.measurePageBox();ly(Y,ne),zse(H,V.latestValues,V.snapshot?V.snapshot.layoutBox:void 0,Y)}return wT(this.latestValues)&&zse(H,this.latestValues),H}setTargetDelta(O){this.targetDelta=O,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(O){this.options={...this.options,...O,crossfade:O.crossfade!==void 0?O.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_m.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(O=!1){const H=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=H.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=H.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=H.isSharedProjectionDirty);const U=!!this.resumingFrom||this!==H;if(!(O||U&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:Y,layoutId:ne}=this.options;if(!this.layout||!(Y||ne))return;this.resolvedRelativeTargetAt=_m.timestamp;const ue=this.getClosestProjectingParent();ue&&this.linkedParentVersion!==ue.layoutVersion&&!ue.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(ue&&ue.layout?this.createRelativeTarget(ue,this.layout.layoutBox,ue.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Cf(),this.targetWithTransforms=Cf()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Lbe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ly(this.target,this.layout.layoutBox),Wce(this.target,this.targetDelta)):ly(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,ue&&!!ue.resumingFrom==!!this.resumingFrom&&!ue.options.layoutScroll&&ue.target&&this.animationProgress!==1?this.createRelativeTarget(ue,this.target,ue.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Yee(this.parent.latestValues)||Zce(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(O,H,U){this.relativeParent=O,this.linkedParentVersion=O.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cf(),this.relativeTargetOrigin=Cf(),lz(this.relativeTargetOrigin,H,U),ly(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const O=this.getLead(),H=!!this.resumingFrom||this!==O;let U=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(U=!1),H&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(U=!1),this.resolvedRelativeTargetAt===_m.timestamp&&(U=!1),U)return;const{layout:V,layoutId:Y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(V||Y))return;ly(this.layoutCorrected,this.layout.layoutBox);const ne=this.treeScale.x,ue=this.treeScale.y;ube(this.layoutCorrected,this.treeScale,this.path,H),O.layout&&!O.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(O.target=O.layout.layoutBox,O.targetWithTransforms=Cf());const{target:we}=O;if(!we){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(jse(this.prevProjectionDelta.x,this.projectionDelta.x),jse(this.prevProjectionDelta.y,this.projectionDelta.y)),KM(this.projectionDelta,this.layoutCorrected,we,this.latestValues),(this.treeScale.x!==ne||this.treeScale.y!==ue||!Gse(this.projectionDelta.x,this.prevProjectionDelta.x)||!Gse(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",we))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(O=!0){if(this.options.visualElement?.scheduleRender(),O){const H=this.getStack();H&&H.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=F3(),this.projectionDelta=F3(),this.projectionDeltaWithTransform=F3()}setAnimationOrigin(O,H=!1){const U=this.snapshot,V=U?U.latestValues:{},Y={...this.latestValues},ne=F3();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!H;const ue=Cf(),we=U?U.source:void 0,Ee=this.layout?this.layout.source:void 0,$e=we!==Ee,ve=this.getStack(),ct=!ve||ve.members.length<=1,Ue=!!($e&&!ct&&this.options.crossfade===!0&&!this.path.some(cye));this.animationProgress=0;let J;this.mixTargetDelta=vt=>{const en=vt/1e3;tre(ne.x,O.x,en),tre(ne.y,O.y,en),this.setTargetDelta(ne),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lz(ue,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lye(this.relativeTarget,this.relativeTargetOrigin,ue,en),J&&Ibe(this.relativeTarget,J)&&(this.isProjectionDirty=!1),J||(J=Cf()),ly(J,this.relativeTarget)),$e&&(this.animationValues=Y,Vbe(Y,V,this.latestValues,en,Ue,ct)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=en},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(O){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(PC(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Dc.update(()=>{ZH.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=W3(0)),this.currentAnimation=Wbe(this.motionValue,[0,1e3],{...O,velocity:0,isSync:!0,onUpdate:H=>{this.mixTargetDelta(H),O.onUpdate&&O.onUpdate(H)},onStop:()=>{},onComplete:()=>{O.onComplete&&O.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const O=this.getStack();O&&O.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ybe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const O=this.getLead();let{targetWithTransforms:H,target:U,layout:V,latestValues:Y}=O;if(!(!H||!U||!V)){if(this!==O&&this.layout&&V&&uue(this.options.animationType,this.layout.layoutBox,V.layoutBox)){U=this.target||Cf();const ne=hg(this.layout.layoutBox.x);U.x.min=O.target.x.min,U.x.max=U.x.min+ne;const ue=hg(this.layout.layoutBox.y);U.y.min=O.target.y.min,U.y.max=U.y.min+ue}ly(H,U),I3(H,Y),KM(this.projectionDeltaWithTransform,this.layoutCorrected,H,Y)}}registerSharedNode(O,H){this.sharedNodes.has(O)||this.sharedNodes.set(O,new Kbe),this.sharedNodes.get(O).add(H);const V=H.options.initialPromotionConfig;H.promote({transition:V?V.transition:void 0,preserveFollowOpacity:V&&V.shouldPreserveFollowOpacity?V.shouldPreserveFollowOpacity(H):void 0})}isLead(){const O=this.getStack();return O?O.lead===this:!0}getLead(){const{layoutId:O}=this.options;return O?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:O}=this.options;return O?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:O}=this.options;if(O)return this.root.sharedNodes.get(O)}promote({needsReset:O,transition:H,preserveFollowOpacity:U}={}){const V=this.getStack();V&&V.promote(this,U),O&&(this.projectionDelta=void 0,this.needsReset=!0),H&&this.setOptions({transition:H})}relegate(){const O=this.getStack();return O?O.relegate(this):!1}resetSkewAndRotation(){const{visualElement:O}=this.options;if(!O)return;let H=!1;const{latestValues:U}=O;if((U.z||U.rotate||U.rotateX||U.rotateY||U.rotateZ||U.skewX||U.skewY)&&(H=!0),!H)return;const V={};U.z&&uee("z",O,V,this.animationValues);for(let Y=0;Y<cee.length;Y++)uee(`rotate${cee[Y]}`,O,V,this.animationValues),uee(`skew${cee[Y]}`,O,V,this.animationValues);O.render();for(const Y in V)O.setStaticValue(Y,V[Y]),this.animationValues&&(this.animationValues[Y]=V[Y]);O.scheduleRender()}applyProjectionStyles(O,H){if(!this.instance||this.isSVG)return;if(!this.isVisible){O.visibility="hidden";return}const U=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,O.visibility="",O.opacity="",O.pointerEvents=UH(H?.pointerEvents)||"",O.transform=U?U(this.latestValues,""):"none";return}const V=this.getLead();if(!this.projectionDelta||!this.layout||!V.target){this.options.layoutId&&(O.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,O.pointerEvents=UH(H?.pointerEvents)||""),this.hasProjected&&!wT(this.latestValues)&&(O.transform=U?U({},""):"none",this.hasProjected=!1);return}O.visibility="";const Y=V.animationValues||V.latestValues;this.applyTransformsToTarget();let ne=Hbe(this.projectionDeltaWithTransform,this.treeScale,Y);U&&(ne=U(Y,ne)),O.transform=ne;const{x:ue,y:we}=this.projectionDelta;O.transformOrigin=`${ue.origin*100}% ${we.origin*100}% 0`,V.animationValues?O.opacity=V===this?Y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:Y.opacityExit:O.opacity=V===this?Y.opacity!==void 0?Y.opacity:"":Y.opacityExit!==void 0?Y.opacityExit:0;for(const Ee in Qee){if(Y[Ee]===void 0)continue;const{correct:$e,applyTo:ve,isCSSVariable:ct}=Qee[Ee],Ue=ne==="none"?Y[Ee]:$e(Y[Ee],V);if(ve){const J=ve.length;for(let vt=0;vt<J;vt++)O[ve[vt]]=Ue}else ct?this.options.visualElement.renderState.vars[Ee]=Ue:O[Ee]=Ue}this.options.layoutId&&(O.pointerEvents=V===this?UH(H?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(O=>O.currentAnimation?.stop()),this.root.nodes.forEach(Qse),this.root.sharedNodes.clear()}}}function Qbe(c){c.updateLayout()}function Jbe(c){const d=c.resumeFrom?.snapshot||c.snapshot;if(c.isLead()&&c.layout&&d&&c.hasListeners("didUpdate")){const{layoutBox:p,measuredBox:x}=c.layout,{animationType:A}=c.options,N=d.source!==c.layout.source;A==="size"?F1(Y=>{const ne=N?d.measuredBox[Y]:d.layoutBox[Y],ue=hg(ne);ne.min=p[Y].min,ne.max=ne.min+ue}):uue(A,d.layoutBox,p)&&F1(Y=>{const ne=N?d.measuredBox[Y]:d.layoutBox[Y],ue=hg(p[Y]);ne.max=ne.min+ue,c.relativeTarget&&!c.currentAnimation&&(c.isProjectionDirty=!0,c.relativeTarget[Y].max=c.relativeTarget[Y].min+ue)});const O=F3();KM(O,p,d.layoutBox);const H=F3();N?KM(H,c.applyTransform(x,!0),d.measuredBox):KM(H,p,d.layoutBox);const U=!sue(O);let V=!1;if(!c.resumeFrom){const Y=c.getClosestProjectingParent();if(Y&&!Y.resumeFrom){const{snapshot:ne,layout:ue}=Y;if(ne&&ue){const we=Cf();lz(we,d.layoutBox,ne.layoutBox);const Ee=Cf();lz(Ee,p,ue.layoutBox),rue(we,Ee)||(V=!0),Y.options.layoutRoot&&(c.relativeTarget=Ee,c.relativeTargetOrigin=we,c.relativeParent=Y)}}}c.notifyListeners("didUpdate",{layout:p,snapshot:d,delta:H,layoutDelta:O,hasLayoutChanged:U,hasRelativeLayoutChanged:V})}else if(c.isLead()){const{onExitComplete:p}=c.options;p&&p()}c.options.transition=void 0}function eye(c){c.parent&&(c.isProjecting()||(c.isProjectionDirty=c.parent.isProjectionDirty),c.isSharedProjectionDirty||(c.isSharedProjectionDirty=!!(c.isProjectionDirty||c.parent.isProjectionDirty||c.parent.isSharedProjectionDirty)),c.isTransformDirty||(c.isTransformDirty=c.parent.isTransformDirty))}function tye(c){c.isProjectionDirty=c.isSharedProjectionDirty=c.isTransformDirty=!1}function nye(c){c.clearSnapshot()}function Qse(c){c.clearMeasurements()}function Jse(c){c.isLayoutDirty=!1}function oye(c){const{visualElement:d}=c.options;d&&d.getProps().onBeforeLayoutMeasure&&d.notify("BeforeLayoutMeasure"),c.resetTransform()}function ere(c){c.finishAnimation(),c.targetDelta=c.relativeTarget=c.target=void 0,c.isProjectionDirty=!0}function sye(c){c.resolveTargetDelta()}function rye(c){c.calcProjection()}function aye(c){c.resetSkewAndRotation()}function iye(c){c.removeLeadSnapshot()}function tre(c,d,p){c.translate=xu(d.translate,0,p),c.scale=xu(d.scale,1,p),c.origin=d.origin,c.originPoint=d.originPoint}function nre(c,d,p,x){c.min=xu(d.min,p.min,x),c.max=xu(d.max,p.max,x)}function lye(c,d,p,x){nre(c.x,d.x,p.x,x),nre(c.y,d.y,p.y,x)}function cye(c){return c.animationValues&&c.animationValues.opacityExit!==void 0}const uye={duration:.45,ease:[.4,0,.1,1]},ore=c=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(c),sre=ore("applewebkit/")&&!ore("chrome/")?Math.round:I1;function rre(c){c.min=sre(c.min),c.max=sre(c.max)}function dye(c){rre(c.x),rre(c.y)}function uue(c,d,p){return c==="position"||c==="preserve-aspect"&&!Bbe(qse(d),qse(p),.2)}function fye(c){return c!==c.root&&c.scroll?.wasRoot}const mye=cue({attachResizeListener:(c,d)=>nB(c,"resize",d),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dee={current:void 0},due=cue({measureScroll:c=>({x:c.scrollLeft,y:c.scrollTop}),defaultParent:()=>{if(!dee.current){const c=new mye({});c.mount(window),c.setOptions({layoutScroll:!0}),dee.current=c}return dee.current},resetTransform:(c,d)=>{c.style.transform=d!==void 0?d:"none"},checkIsScrollRoot:c=>window.getComputedStyle(c).position==="fixed"}),ane=Ke.createContext({transformPagePoint:c=>c,isStatic:!1,reducedMotion:"never"});function are(c,d){if(typeof c=="function")return c(d);c!=null&&(c.current=d)}function hye(...c){return d=>{let p=!1;const x=c.map(A=>{const N=are(A,d);return!p&&typeof N=="function"&&(p=!0),N});if(p)return()=>{for(let A=0;A<x.length;A++){const N=x[A];typeof N=="function"?N():are(c[A],null)}}}}function gye(...c){return Ke.useCallback(hye(...c),c)}class pye extends Ke.Component{getSnapshotBeforeUpdate(d){const p=this.props.childRef.current;if(p&&d.isPresent&&!this.props.isPresent){const x=p.offsetParent,A=Bce(x)&&x.offsetWidth||0,N=this.props.sizeRef.current;N.height=p.offsetHeight||0,N.width=p.offsetWidth||0,N.top=p.offsetTop,N.left=p.offsetLeft,N.right=A-N.width-N.left}return null}componentDidUpdate(){}render(){return this.props.children}}function bye({children:c,isPresent:d,anchorX:p,root:x}){const A=Ke.useId(),N=Ke.useRef(null),O=Ke.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:H}=Ke.useContext(ane),U=c.props?.ref??c?.ref,V=gye(N,U);return Ke.useInsertionEffect(()=>{const{width:Y,height:ne,top:ue,left:we,right:Ee}=O.current;if(d||!N.current||!Y||!ne)return;const $e=p==="left"?`left: ${we}`:`right: ${Ee}`;N.current.dataset.motionPopId=A;const ve=document.createElement("style");H&&(ve.nonce=H);const ct=x??document.head;return ct.appendChild(ve),ve.sheet&&ve.sheet.insertRule(`
          [data-motion-pop-id="${A}"] {
            position: absolute !important;
            width: ${Y}px !important;
            height: ${ne}px !important;
            ${$e}px !important;
            top: ${ue}px !important;
          }
        `),()=>{ct.contains(ve)&&ct.removeChild(ve)}},[d]),j.jsx(pye,{isPresent:d,childRef:N,sizeRef:O,children:Ke.cloneElement(c,{ref:V})})}const yye=({children:c,initial:d,isPresent:p,onExitComplete:x,custom:A,presenceAffectsLayout:N,mode:O,anchorX:H,root:U})=>{const V=Nte(vye),Y=Ke.useId();let ne=!0,ue=Ke.useMemo(()=>(ne=!1,{id:Y,initial:d,isPresent:p,custom:A,onExitComplete:we=>{V.set(we,!0);for(const Ee of V.values())if(!Ee)return;x&&x()},register:we=>(V.set(we,!1),()=>V.delete(we))}),[p,V,x]);return N&&ne&&(ue={...ue}),Ke.useMemo(()=>{V.forEach((we,Ee)=>V.set(Ee,!1))},[p]),Ke.useEffect(()=>{!p&&!V.size&&x&&x()},[p]),O==="popLayout"&&(c=j.jsx(bye,{isPresent:p,anchorX:H,root:U,children:c})),j.jsx(Sz.Provider,{value:ue,children:c})};function vye(){return new Map}function fue(c=!0){const d=Ke.useContext(Sz);if(d===null)return[!0,null];const{isPresent:p,onExitComplete:x,register:A}=d,N=Ke.useId();Ke.useEffect(()=>{if(c)return A(N)},[c]);const O=Ke.useCallback(()=>c&&x&&x(N),[N,x,c]);return!p&&x?[!1,O]:[!0]}const BH=c=>c.key||"";function ire(c){const d=[];return Ke.Children.forEach(c,p=>{Ke.isValidElement(p)&&d.push(p)}),d}const aD=({children:c,custom:d,initial:p=!0,onExitComplete:x,presenceAffectsLayout:A=!0,mode:N="sync",propagate:O=!1,anchorX:H="left",root:U})=>{const[V,Y]=fue(O),ne=Ke.useMemo(()=>ire(c),[c]),ue=O&&!V?[]:ne.map(BH),we=Ke.useRef(!0),Ee=Ke.useRef(ne),$e=Nte(()=>new Map),ve=Ke.useRef(new Set),[ct,Ue]=Ke.useState(ne),[J,vt]=Ke.useState(ne);jle(()=>{we.current=!1,Ee.current=ne;for(let ie=0;ie<J.length;ie++){const it=BH(J[ie]);ue.includes(it)?($e.delete(it),ve.current.delete(it)):$e.get(it)!==!0&&$e.set(it,!1)}},[J,ue.length,ue.join("-")]);const en=[];if(ne!==ct){let ie=[...ne];for(let it=0;it<J.length;it++){const Tn=J[it],mn=BH(Tn);ue.includes(mn)||(ie.splice(it,0,Tn),en.push(Tn))}return N==="wait"&&en.length&&(ie=en),vt(ire(ie)),Ue(ne),null}const{forceRender:Qe}=Ke.useContext(Rte);return j.jsx(j.Fragment,{children:J.map(ie=>{const it=BH(ie),Tn=O&&!V?!1:ne===J||ue.includes(it),mn=()=>{if(ve.current.has(it))return;if(ve.current.add(it),$e.has(it))$e.set(it,!0);else return;let qe=!0;$e.forEach(Oe=>{Oe||(qe=!1)}),qe&&(Qe?.(),vt(Ee.current),O&&Y?.(),x&&x())};return j.jsx(yye,{isPresent:Tn,initial:!we.current||p?void 0:!1,custom:d,presenceAffectsLayout:A,mode:N,root:U,onExitComplete:Tn?void 0:mn,anchorX:H,children:ie},it)})})},mue=Ke.createContext({strict:!1}),lre={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let cre=!1;function xye(){if(cre)return;const c={};for(const d in lre)c[d]={isEnabled:p=>lre[d].some(x=>!!p[x])};Vce(c),cre=!0}function hue(){return xye(),abe()}function wye(c){const d=hue();for(const p in c)d[p]={...d[p],...c[p]};Vce(d)}const Cye=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cz(c){return c.startsWith("while")||c.startsWith("drag")&&c!=="draggable"||c.startsWith("layout")||c.startsWith("onTap")||c.startsWith("onPan")||c.startsWith("onLayout")||Cye.has(c)}let gue=c=>!cz(c);function Sye(c){typeof c=="function"&&(gue=d=>d.startsWith("on")?!cz(d):c(d))}try{Sye(require("@emotion/is-prop-valid").default)}catch{}function Eye(c,d,p){const x={};for(const A in c)A==="values"&&typeof c.values=="object"||(gue(A)||p===!0&&cz(A)||!d&&!cz(A)||c.draggable&&A.startsWith("onDrag"))&&(x[A]=c[A]);return x}const Az=Ke.createContext({});function Tye(c,d){if(Tz(c)){const{initial:p,animate:x}=c;return{initial:p===!1||tB(p)?p:void 0,animate:tB(x)?x:void 0}}return c.inherit!==!1?d:{}}function Aye(c){const{initial:d,animate:p}=Tye(c,Ke.useContext(Az));return Ke.useMemo(()=>({initial:d,animate:p}),[ure(d),ure(p)])}function ure(c){return Array.isArray(c)?c.join(" "):c}const ine=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pue(c,d,p){for(const x in d)!bh(d[x])&&!Kce(x,p)&&(c[x]=d[x])}function kye({transformTemplate:c},d){return Ke.useMemo(()=>{const p=ine();return sne(p,d,c),Object.assign({},p.vars,p.style)},[d])}function Dye(c,d){const p=c.style||{},x={};return pue(x,p,c),Object.assign(x,kye(c,d)),x}function _ye(c,d){const p={},x=Dye(c,d);return c.drag&&c.dragListener!==!1&&(p.draggable=!1,x.userSelect=x.WebkitUserSelect=x.WebkitTouchCallout="none",x.touchAction=c.drag===!0?"none":`pan-${c.drag==="x"?"y":"x"}`),c.tabIndex===void 0&&(c.onTap||c.onTapStart||c.whileTap)&&(p.tabIndex=0),p.style=x,p}const bue=()=>({...ine(),attrs:{}});function Oye(c,d,p,x){const A=Ke.useMemo(()=>{const N=bue();return Yce(N,d,Qce(x),c.transformTemplate,c.style),{...N.attrs,style:{...N.style}}},[d]);if(c.style){const N={};pue(N,c.style,c),A.style={...N,...A.style}}return A}const Rye=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lne(c){return typeof c!="string"||c.includes("-")?!1:!!(Rye.indexOf(c)>-1||/[A-Z]/u.test(c))}function Nye(c,d,p,{latestValues:x},A,N=!1,O){const U=(O??lne(c)?Oye:_ye)(d,x,A,c),V=Eye(d,typeof c=="string",N),Y=c!==Ke.Fragment?{...V,...U,ref:p}:{},{children:ne}=d,ue=Ke.useMemo(()=>bh(ne)?ne.get():ne,[ne]);return Ke.createElement(c,{...Y,children:ue})}function Mye({scrapeMotionValuesFromProps:c,createRenderState:d},p,x,A){return{latestValues:Bye(p,x,A,c),renderState:d()}}function Bye(c,d,p,x){const A={},N=x(c,{});for(const ue in N)A[ue]=UH(N[ue]);let{initial:O,animate:H}=c;const U=Tz(c),V=zce(c);d&&V&&!U&&c.inherit!==!1&&(O===void 0&&(O=d.initial),H===void 0&&(H=d.animate));let Y=p?p.initial===!1:!1;Y=Y||O===!1;const ne=Y?H:O;if(ne&&typeof ne!="boolean"&&!Ez(ne)){const ue=Array.isArray(ne)?ne:[ne];for(let we=0;we<ue.length;we++){const Ee=Xte(c,ue[we]);if(Ee){const{transitionEnd:$e,transition:ve,...ct}=Ee;for(const Ue in ct){let J=ct[Ue];if(Array.isArray(J)){const vt=Y?J.length-1:0;J=J[vt]}J!==null&&(A[Ue]=J)}for(const Ue in $e)A[Ue]=$e[Ue]}}}return A}const yue=c=>(d,p)=>{const x=Ke.useContext(Az),A=Ke.useContext(Sz),N=()=>Mye(c,d,x,A);return p?N():Nte(N)},Lye=yue({scrapeMotionValuesFromProps:rne,createRenderState:ine}),Pye=yue({scrapeMotionValuesFromProps:Jce,createRenderState:bue}),Fye=Symbol.for("motionComponentSymbol");function $ye(c,d,p){const x=Ke.useRef(p);Ke.useInsertionEffect(()=>{x.current=p});const A=Ke.useRef(null);return Ke.useCallback(N=>{N&&c.onMount?.(N),d&&(N?d.mount(N):d.unmount());const O=x.current;if(typeof O=="function")if(N){const H=O(N);typeof H=="function"&&(A.current=H)}else A.current?(A.current(),A.current=null):O(N);else O&&(O.current=N)},[d])}const vue=Ke.createContext({});function WM(c){return c&&typeof c=="object"&&Object.prototype.hasOwnProperty.call(c,"current")}function Iye(c,d,p,x,A,N){const{visualElement:O}=Ke.useContext(Az),H=Ke.useContext(mue),U=Ke.useContext(Sz),V=Ke.useContext(ane).reducedMotion,Y=Ke.useRef(null);x=x||H.renderer,!Y.current&&x&&(Y.current=x(c,{visualState:d,parent:O,props:p,presenceContext:U,blockInitialAnimation:U?U.initial===!1:!1,reducedMotionConfig:V,isSVG:N}));const ne=Y.current,ue=Ke.useContext(vue);ne&&!ne.projection&&A&&(ne.type==="html"||ne.type==="svg")&&Hye(Y.current,p,A,ue);const we=Ke.useRef(!1);Ke.useInsertionEffect(()=>{ne&&we.current&&ne.update(p,U)});const Ee=p[Ace],$e=Ke.useRef(!!Ee&&!window.MotionHandoffIsComplete?.(Ee)&&window.MotionHasOptimisedAnimation?.(Ee));return jle(()=>{ne&&(we.current=!0,window.MotionIsMounted=!0,ne.updateFeatures(),ne.scheduleRenderMicrotask(),$e.current&&ne.animationState&&ne.animationState.animateChanges())}),Ke.useEffect(()=>{ne&&(!$e.current&&ne.animationState&&ne.animationState.animateChanges(),$e.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(Ee)}),$e.current=!1),ne.enteringChildren=void 0)}),ne}function Hye(c,d,p,x){const{layoutId:A,layout:N,drag:O,dragConstraints:H,layoutScroll:U,layoutRoot:V,layoutCrossfade:Y}=d;c.projection=new p(c.latestValues,d["data-framer-portal-id"]?void 0:xue(c.parent)),c.projection.setOptions({layoutId:A,layout:N,alwaysMeasureLayout:!!O||H&&WM(H),visualElement:c,animationType:typeof N=="string"?N:"both",initialPromotionConfig:x,crossfade:Y,layoutScroll:U,layoutRoot:V})}function xue(c){if(c)return c.options.allowProjection!==!1?c.projection:xue(c.parent)}function fee(c,{forwardMotionProps:d=!1,type:p}={},x,A){x&&wye(x);const N=p?p==="svg":lne(c),O=N?Pye:Lye;function H(V,Y){let ne;const ue={...Ke.useContext(ane),...V,layoutId:zye(V)},{isStatic:we}=ue,Ee=Aye(V),$e=O(V,we);if(!we&&Vle){Vye();const ve=jye(ue);ne=ve.MeasureLayout,Ee.visualElement=Iye(c,$e,ue,A,ve.ProjectionNode,N)}return j.jsxs(Az.Provider,{value:Ee,children:[ne&&Ee.visualElement?j.jsx(ne,{visualElement:Ee.visualElement,...ue}):null,Nye(c,V,$ye($e,Ee.visualElement,Y),$e,we,d,N)]})}H.displayName=`motion.${typeof c=="string"?c:`create(${c.displayName??c.name??""})`}`;const U=Ke.forwardRef(H);return U[Fye]=c,U}function zye({layoutId:c}){const d=Ke.useContext(Rte).id;return d&&c!==void 0?d+"-"+c:c}function Vye(c,d){Ke.useContext(mue).strict}function jye(c){const d=hue(),{drag:p,layout:x}=d;if(!p&&!x)return{};const A={...p,...x};return{MeasureLayout:p?.isEnabled(c)||x?.isEnabled(c)?A.MeasureLayout:void 0,ProjectionNode:A.ProjectionNode}}function Uye(c,d){if(typeof Proxy>"u")return fee;const p=new Map,x=(N,O)=>fee(N,O,c,d),A=(N,O)=>x(N,O);return new Proxy(A,{get:(N,O)=>O==="create"?x:(p.has(O)||p.set(O,fee(O,void 0,c,d)),p.get(O))})}const Zye=(c,d)=>d.isSVG??lne(c)?new Sbe(d):new bbe(d,{allowProjection:c!==Ke.Fragment});class Wye extends $C{constructor(d){super(d),d.animationState||(d.animationState=Dbe(d))}updateAnimationControlsSubscription(){const{animate:d}=this.node.getProps();Ez(d)&&(this.unmountControls=d.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:d}=this.node.getProps(),{animate:p}=this.node.prevProps||{};d!==p&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let qye=0;class Gye extends $C{constructor(){super(...arguments),this.id=qye++}update(){if(!this.node.presenceContext)return;const{isPresent:d,onExitComplete:p}=this.node.presenceContext,{isPresent:x}=this.node.prevPresenceContext||{};if(!this.node.animationState||d===x)return;const A=this.node.animationState.setActive("exit",!d);p&&!d&&A.then(()=>{p(this.id)})}mount(){const{register:d,onExitComplete:p}=this.node.presenceContext||{};p&&p(this.id),d&&(this.unmount=d(this.id))}unmount(){}}const Kye={animation:{Feature:Wye},exit:{Feature:Gye}};function yB(c){return{point:{x:c.pageX,y:c.pageY}}}const Yye=c=>d=>tne(d)&&c(d,yB(d));function YM(c,d,p,x){return nB(c,d,Yye(p),x)}const wue=({current:c})=>c?c.ownerDocument.defaultView:null,dre=(c,d)=>Math.abs(c-d);function Xye(c,d){const p=dre(c.x,d.x),x=dre(c.y,d.y);return Math.sqrt(p**2+x**2)}const fre=new Set(["auto","scroll"]);class Cue{constructor(d,p,{transformPagePoint:x,contextWindow:A=window,dragSnapToOrigin:N=!1,distanceThreshold:O=3,element:H}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=we=>{this.handleScroll(we.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const we=hee(this.lastMoveEventInfo,this.history),Ee=this.startEvent!==null,$e=Xye(we.offset,{x:0,y:0})>=this.distanceThreshold;if(!Ee&&!$e)return;const{point:ve}=we,{timestamp:ct}=_m;this.history.push({...ve,timestamp:ct});const{onStart:Ue,onMove:J}=this.handlers;Ee||(Ue&&Ue(this.lastMoveEvent,we),this.startEvent=this.lastMoveEvent),J&&J(this.lastMoveEvent,we)},this.handlePointerMove=(we,Ee)=>{this.lastMoveEvent=we,this.lastMoveEventInfo=mee(Ee,this.transformPagePoint),Dc.update(this.updatePoint,!0)},this.handlePointerUp=(we,Ee)=>{this.end();const{onEnd:$e,onSessionEnd:ve,resumeAnimation:ct}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&ct&&ct(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Ue=hee(we.type==="pointercancel"?this.lastMoveEventInfo:mee(Ee,this.transformPagePoint),this.history);this.startEvent&&$e&&$e(we,Ue),ve&&ve(we,Ue)},!tne(d))return;this.dragSnapToOrigin=N,this.handlers=p,this.transformPagePoint=x,this.distanceThreshold=O,this.contextWindow=A||window;const U=yB(d),V=mee(U,this.transformPagePoint),{point:Y}=V,{timestamp:ne}=_m;this.history=[{...Y,timestamp:ne}];const{onSessionStart:ue}=p;ue&&ue(d,hee(V,this.history)),this.removeListeners=gB(YM(this.contextWindow,"pointermove",this.handlePointerMove),YM(this.contextWindow,"pointerup",this.handlePointerUp),YM(this.contextWindow,"pointercancel",this.handlePointerUp)),H&&this.startScrollTracking(H)}startScrollTracking(d){let p=d.parentElement;for(;p;){const x=getComputedStyle(p);(fre.has(x.overflowX)||fre.has(x.overflowY))&&this.scrollPositions.set(p,{x:p.scrollLeft,y:p.scrollTop}),p=p.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(d){const p=this.scrollPositions.get(d);if(!p)return;const x=d===window,A=x?{x:window.scrollX,y:window.scrollY}:{x:d.scrollLeft,y:d.scrollTop},N={x:A.x-p.x,y:A.y-p.y};N.x===0&&N.y===0||(x?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=N.x,this.lastMoveEventInfo.point.y+=N.y):this.history.length>0&&(this.history[0].x-=N.x,this.history[0].y-=N.y),this.scrollPositions.set(d,A),Dc.update(this.updatePoint,!0))}updateHandlers(d){this.handlers=d}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),PC(this.updatePoint)}}function mee(c,d){return d?{point:d(c.point)}:c}function mre(c,d){return{x:c.x-d.x,y:c.y-d.y}}function hee({point:c},d){return{point:c,delta:mre(c,Sue(d)),offset:mre(c,Qye(d)),velocity:Jye(d,.1)}}function Qye(c){return c[0]}function Sue(c){return c[c.length-1]}function Jye(c,d){if(c.length<2)return{x:0,y:0};let p=c.length-1,x=null;const A=Sue(c);for(;p>=0&&(x=c[p],!(A.timestamp-x.timestamp>yx(d)));)p--;if(!x)return{x:0,y:0};const N=$1(A.timestamp-x.timestamp);if(N===0)return{x:0,y:0};const O={x:(A.x-x.x)/N,y:(A.y-x.y)/N};return O.x===1/0&&(O.x=0),O.y===1/0&&(O.y=0),O}function eve(c,{min:d,max:p},x){return d!==void 0&&c<d?c=x?xu(d,c,x.min):Math.max(c,d):p!==void 0&&c>p&&(c=x?xu(p,c,x.max):Math.min(c,p)),c}function hre(c,d,p){return{min:d!==void 0?c.min+d:void 0,max:p!==void 0?c.max+p-(c.max-c.min):void 0}}function tve(c,{top:d,left:p,bottom:x,right:A}){return{x:hre(c.x,p,A),y:hre(c.y,d,x)}}function gre(c,d){let p=d.min-c.min,x=d.max-c.max;return d.max-d.min<c.max-c.min&&([p,x]=[x,p]),{min:p,max:x}}function nve(c,d){return{x:gre(c.x,d.x),y:gre(c.y,d.y)}}function ove(c,d){let p=.5;const x=hg(c),A=hg(d);return A>x?p=QM(d.min,d.max-x,c.min):x>A&&(p=QM(c.min,c.max-A,d.min)),Ov(0,1,p)}function sve(c,d){const p={};return d.min!==void 0&&(p.min=d.min-c.min),d.max!==void 0&&(p.max=d.max-c.min),p}const Jee=.35;function rve(c=Jee){return c===!1?c=0:c===!0&&(c=Jee),{x:pre(c,"left","right"),y:pre(c,"top","bottom")}}function pre(c,d,p){return{min:bre(c,d),max:bre(c,p)}}function bre(c,d){return typeof c=="number"?c:c[d]||0}const ave=new WeakMap;class ive{constructor(d){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Cf(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=d}start(d,{snapToCursor:p=!1,distanceThreshold:x}={}){const{presenceContext:A}=this.visualElement;if(A&&A.isPresent===!1)return;const N=ne=>{p?(this.stopAnimation(),this.snapToCursor(yB(ne).point)):this.pauseAnimation()},O=(ne,ue)=>{this.stopAnimation();const{drag:we,dragPropagation:Ee,onDragStart:$e}=this.getProps();if(we&&!Ee&&(this.openDragLock&&this.openDragLock(),this.openDragLock=G1e(we),!this.openDragLock))return;this.latestPointerEvent=ne,this.latestPanInfo=ue,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),F1(ct=>{let Ue=this.getAxisMotionValue(ct).get()||0;if(Dv.test(Ue)){const{projection:J}=this.visualElement;if(J&&J.layout){const vt=J.layout.layoutBox[ct];vt&&(Ue=hg(vt)*(parseFloat(Ue)/100))}}this.originPoint[ct]=Ue}),$e&&Dc.postRender(()=>$e(ne,ue)),Wee(this.visualElement,"transform");const{animationState:ve}=this.visualElement;ve&&ve.setActive("whileDrag",!0)},H=(ne,ue)=>{this.latestPointerEvent=ne,this.latestPanInfo=ue;const{dragPropagation:we,dragDirectionLock:Ee,onDirectionLock:$e,onDrag:ve}=this.getProps();if(!we&&!this.openDragLock)return;const{offset:ct}=ue;if(Ee&&this.currentDirection===null){this.currentDirection=lve(ct),this.currentDirection!==null&&$e&&$e(this.currentDirection);return}this.updateAxis("x",ue.point,ct),this.updateAxis("y",ue.point,ct),this.visualElement.render(),ve&&ve(ne,ue)},U=(ne,ue)=>{this.latestPointerEvent=ne,this.latestPanInfo=ue,this.stop(ne,ue),this.latestPointerEvent=null,this.latestPanInfo=null},V=()=>F1(ne=>this.getAnimationState(ne)==="paused"&&this.getAxisMotionValue(ne).animation?.play()),{dragSnapToOrigin:Y}=this.getProps();this.panSession=new Cue(d,{onSessionStart:N,onStart:O,onMove:H,onSessionEnd:U,resumeAnimation:V},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:Y,distanceThreshold:x,contextWindow:wue(this.visualElement),element:this.visualElement.current})}stop(d,p){const x=d||this.latestPointerEvent,A=p||this.latestPanInfo,N=this.isDragging;if(this.cancel(),!N||!A||!x)return;const{velocity:O}=A;this.startAnimation(O);const{onDragEnd:H}=this.getProps();H&&Dc.postRender(()=>H(x,A))}cancel(){this.isDragging=!1;const{projection:d,animationState:p}=this.visualElement;d&&(d.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:x}=this.getProps();!x&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),p&&p.setActive("whileDrag",!1)}updateAxis(d,p,x){const{drag:A}=this.getProps();if(!x||!LH(d,A,this.currentDirection))return;const N=this.getAxisMotionValue(d);let O=this.originPoint[d]+x[d];this.constraints&&this.constraints[d]&&(O=eve(O,this.constraints[d],this.elastic[d])),N.set(O)}resolveConstraints(){const{dragConstraints:d,dragElastic:p}=this.getProps(),x=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,A=this.constraints;d&&WM(d)?this.constraints||(this.constraints=this.resolveRefConstraints()):d&&x?this.constraints=tve(x.layoutBox,d):this.constraints=!1,this.elastic=rve(p),A!==this.constraints&&x&&this.constraints&&!this.hasMutatedConstraints&&F1(N=>{this.constraints!==!1&&this.getAxisMotionValue(N)&&(this.constraints[N]=sve(x.layoutBox[N],this.constraints[N]))})}resolveRefConstraints(){const{dragConstraints:d,onMeasureDragConstraints:p}=this.getProps();if(!d||!WM(d))return!1;const x=d.current,{projection:A}=this.visualElement;if(!A||!A.layout)return!1;const N=dbe(x,A.root,this.visualElement.getTransformPagePoint());let O=nve(A.layout.layoutBox,N);if(p){const H=p(lbe(O));this.hasMutatedConstraints=!!H,H&&(O=Uce(H))}return O}startAnimation(d){const{drag:p,dragMomentum:x,dragElastic:A,dragTransition:N,dragSnapToOrigin:O,onDragTransitionEnd:H}=this.getProps(),U=this.constraints||{},V=F1(Y=>{if(!LH(Y,p,this.currentDirection))return;let ne=U&&U[Y]||{};O&&(ne={min:0,max:0});const ue=A?200:1e6,we=A?40:1e7,Ee={type:"inertia",velocity:x?d[Y]:0,bounceStiffness:ue,bounceDamping:we,timeConstant:750,restDelta:1,restSpeed:10,...N,...ne};return this.startAxisValueAnimation(Y,Ee)});return Promise.all(V).then(H)}startAxisValueAnimation(d,p){const x=this.getAxisMotionValue(d);return Wee(this.visualElement,d),x.start(Yte(d,x,0,p,this.visualElement,!1))}stopAnimation(){F1(d=>this.getAxisMotionValue(d).stop())}pauseAnimation(){F1(d=>this.getAxisMotionValue(d).animation?.pause())}getAnimationState(d){return this.getAxisMotionValue(d).animation?.state}getAxisMotionValue(d){const p=`_drag${d.toUpperCase()}`,x=this.visualElement.getProps(),A=x[p];return A||this.visualElement.getValue(d,(x.initial?x.initial[d]:void 0)||0)}snapToCursor(d){F1(p=>{const{drag:x}=this.getProps();if(!LH(p,x,this.currentDirection))return;const{projection:A}=this.visualElement,N=this.getAxisMotionValue(p);if(A&&A.layout){const{min:O,max:H}=A.layout.layoutBox[p],U=N.get()||0;N.set(d[p]-xu(O,H,.5)+U)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:d,dragConstraints:p}=this.getProps(),{projection:x}=this.visualElement;if(!WM(p)||!x||!this.constraints)return;this.stopAnimation();const A={x:0,y:0};F1(O=>{const H=this.getAxisMotionValue(O);if(H&&this.constraints!==!1){const U=H.get();A[O]=ove({min:U,max:U},this.constraints[O])}});const{transformTemplate:N}=this.visualElement.getProps();this.visualElement.current.style.transform=N?N({},""):"none",x.root&&x.root.updateScroll(),x.updateLayout(),this.resolveConstraints(),F1(O=>{if(!LH(O,d,null))return;const H=this.getAxisMotionValue(O),{min:U,max:V}=this.constraints[O];H.set(xu(U,V,A[O]))})}addListeners(){if(!this.visualElement.current)return;ave.set(this.visualElement,this);const d=this.visualElement.current,p=YM(d,"pointerdown",U=>{const{drag:V,dragListener:Y=!0}=this.getProps();V&&Y&&!$ce(U.target)&&this.start(U)}),x=()=>{const{dragConstraints:U}=this.getProps();WM(U)&&U.current&&(this.constraints=this.resolveRefConstraints())},{projection:A}=this.visualElement,N=A.addEventListener("measure",x);A&&!A.layout&&(A.root&&A.root.updateScroll(),A.updateLayout()),Dc.read(x);const O=nB(window,"resize",()=>this.scalePositionWithinConstraints()),H=A.addEventListener("didUpdate",(({delta:U,hasLayoutChanged:V})=>{this.isDragging&&V&&(F1(Y=>{const ne=this.getAxisMotionValue(Y);ne&&(this.originPoint[Y]+=U[Y].translate,ne.set(ne.get()+U[Y].translate))}),this.visualElement.render())}));return()=>{O(),p(),N(),H&&H()}}getProps(){const d=this.visualElement.getProps(),{drag:p=!1,dragDirectionLock:x=!1,dragPropagation:A=!1,dragConstraints:N=!1,dragElastic:O=Jee,dragMomentum:H=!0}=d;return{...d,drag:p,dragDirectionLock:x,dragPropagation:A,dragConstraints:N,dragElastic:O,dragMomentum:H}}}function LH(c,d,p){return(d===!0||d===c)&&(p===null||p===c)}function lve(c,d=10){let p=null;return Math.abs(c.y)>d?p="y":Math.abs(c.x)>d&&(p="x"),p}class cve extends $C{constructor(d){super(d),this.removeGroupControls=I1,this.removeListeners=I1,this.controls=new ive(d)}mount(){const{dragControls:d}=this.node.getProps();d&&(this.removeGroupControls=d.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||I1}update(){const{dragControls:d}=this.node.getProps(),{dragControls:p}=this.node.prevProps||{};d!==p&&(this.removeGroupControls(),d&&(this.removeGroupControls=d.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const yre=c=>(d,p)=>{c&&Dc.postRender(()=>c(d,p))};class uve extends $C{constructor(){super(...arguments),this.removePointerDownListener=I1}onPointerDown(d){this.session=new Cue(d,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wue(this.node)})}createPanHandlers(){const{onPanSessionStart:d,onPanStart:p,onPan:x,onPanEnd:A}=this.node.getProps();return{onSessionStart:yre(d),onStart:yre(p),onMove:x,onEnd:(N,O)=>{delete this.session,A&&Dc.postRender(()=>A(N,O))}}}mount(){this.removePointerDownListener=YM(this.node.current,"pointerdown",d=>this.onPointerDown(d))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let gee=!1;class dve extends Ke.Component{componentDidMount(){const{visualElement:d,layoutGroup:p,switchLayoutGroup:x,layoutId:A}=this.props,{projection:N}=d;N&&(p.group&&p.group.add(N),x&&x.register&&A&&x.register(N),gee&&N.root.didUpdate(),N.addEventListener("animationComplete",()=>{this.safeToRemove()}),N.setOptions({...N.options,onExitComplete:()=>this.safeToRemove()})),ZH.hasEverUpdated=!0}getSnapshotBeforeUpdate(d){const{layoutDependency:p,visualElement:x,drag:A,isPresent:N}=this.props,{projection:O}=x;return O&&(O.isPresent=N,gee=!0,A||d.layoutDependency!==p||p===void 0||d.isPresent!==N?O.willUpdate():this.safeToRemove(),d.isPresent!==N&&(N?O.promote():O.relegate()||Dc.postRender(()=>{const H=O.getStack();(!H||!H.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:d}=this.props.visualElement;d&&(d.root.didUpdate(),ene.postRender(()=>{!d.currentAnimation&&d.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:d,layoutGroup:p,switchLayoutGroup:x}=this.props,{projection:A}=d;gee=!0,A&&(A.scheduleCheckAfterUnmount(),p&&p.group&&p.group.remove(A),x&&x.deregister&&x.deregister(A))}safeToRemove(){const{safeToRemove:d}=this.props;d&&d()}render(){return null}}function Eue(c){const[d,p]=fue(),x=Ke.useContext(Rte);return j.jsx(dve,{...c,layoutGroup:x,switchLayoutGroup:Ke.useContext(vue),isPresent:d,safeToRemove:p})}const fve={pan:{Feature:uve},drag:{Feature:cve,ProjectionNode:due,MeasureLayout:Eue}};function vre(c,d,p){const{props:x}=c;c.animationState&&x.whileHover&&c.animationState.setActive("whileHover",p==="Start");const A="onHover"+p,N=x[A];N&&Dc.postRender(()=>N(d,yB(d)))}class mve extends $C{mount(){const{current:d}=this.node;d&&(this.unmount=K1e(d,(p,x)=>(vre(this.node,x,"Start"),A=>vre(this.node,A,"End"))))}unmount(){}}class hve extends $C{constructor(){super(...arguments),this.isActive=!1}onFocus(){let d=!1;try{d=this.node.current.matches(":focus-visible")}catch{d=!0}!d||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gB(nB(this.node.current,"focus",()=>this.onFocus()),nB(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function xre(c,d,p){const{props:x}=c;if(c.current instanceof HTMLButtonElement&&c.current.disabled)return;c.animationState&&x.whileTap&&c.animationState.setActive("whileTap",p==="Start");const A="onTap"+(p==="End"?"":p),N=x[A];N&&Dc.postRender(()=>N(d,yB(d)))}class gve extends $C{mount(){const{current:d}=this.node;d&&(this.unmount=Q1e(d,(p,x)=>(xre(this.node,x,"Start"),(A,{success:N})=>xre(this.node,A,N?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ete=new WeakMap,pee=new WeakMap,pve=c=>{const d=ete.get(c.target);d&&d(c)},bve=c=>{c.forEach(pve)};function yve({root:c,...d}){const p=c||document;pee.has(p)||pee.set(p,{});const x=pee.get(p),A=JSON.stringify(d);return x[A]||(x[A]=new IntersectionObserver(bve,{root:c,...d})),x[A]}function vve(c,d,p){const x=yve(d);return ete.set(c,p),x.observe(c),()=>{ete.delete(c),x.unobserve(c)}}const xve={some:0,all:1};class wve extends $C{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:d={}}=this.node.getProps(),{root:p,margin:x,amount:A="some",once:N}=d,O={root:p?p.current:void 0,rootMargin:x,threshold:typeof A=="number"?A:xve[A]},H=U=>{const{isIntersecting:V}=U;if(this.isInView===V||(this.isInView=V,N&&!V&&this.hasEnteredView))return;V&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",V);const{onViewportEnter:Y,onViewportLeave:ne}=this.node.getProps(),ue=V?Y:ne;ue&&ue(U)};return vve(this.node.current,O,H)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:d,prevProps:p}=this.node;["amount","margin","root"].some(Cve(d,p))&&this.startObserver()}unmount(){}}function Cve({viewport:c={}},{viewport:d={}}={}){return p=>c[p]!==d[p]}const Sve={inView:{Feature:wve},tap:{Feature:gve},focus:{Feature:hve},hover:{Feature:mve}},Eve={layout:{ProjectionNode:due,MeasureLayout:Eue}},Tve={...Kye,...Sve,...fve,...Eve},yl=Uye(Tve,Zye);function Ave(){const[c,d]=Ke.useState([]),[p,x]=Ke.useState([]),[A,N]=Ke.useState([]),[O,H]=Ke.useState([]),[U,V]=Ke.useState(null),[Y,ne]=Ke.useState(null),[ue,we]=Ke.useState([]),[Ee,$e]=Ke.useState([]),[ve,ct]=Ke.useState([]),[Ue,J]=Ke.useState(!0),[vt,en]=Ke.useState("locations"),[Qe,ie]=Ke.useState(""),[it,Tn]=Ke.useState("all"),[mn,qe]=Ke.useState(""),[Oe,Yo]=Ke.useState("all"),[pt,Pt]=Ke.useState(""),[P,Vt]=Ke.useState("all"),[at,Qn]=Ke.useState({suffix:"-mekan-fotografcisi",titleTemplate:"{name} Mekan Fotorafs"});Ke.useEffect(()=>{je(),cn()},[]);const cn=async()=>{try{const Le=await Ys.get("/admin-update.php?table=settings&action=list");if(Le.data.success){const Tt=Le.data.data,sn=Tt.find(Xo=>Xo.key==="seo_location_suffix")?.value||"-mekan-fotografcisi",Zn=Tt.find(Xo=>Xo.key==="seo_location_title_template")?.value||"{name} Mekan Fotorafs";Qn({suffix:sn,titleTemplate:Zn})}}catch{console.error("Failed to load SEO settings")}},ee=(Le,Tt)=>{Tt==="province"?we(sn=>sn.includes(Le)?sn.filter(Zn=>Zn!==Le):[...sn,Le]):Tt==="district"?$e(sn=>sn.includes(Le)?sn.filter(Zn=>Zn!==Le):[...sn,Le]):Tt==="town"&&ct(sn=>sn.includes(Le)?sn.filter(Zn=>Zn!==Le):[...sn,Le])},Me=(Le,Tt)=>{const sn=Le.map(Zn=>Zn.id);Tt==="province"?we(Zn=>Zn.length===sn.length?[]:sn):Tt==="district"?$e(Zn=>Zn.length===sn.length?[]:sn):Tt==="town"&&ct(Zn=>Zn.length===sn.length?[]:sn)},wt=(Le,Tt,sn)=>Le.filter(Zn=>{const Xo=Zn.name.toLowerCase().includes(Tt.toLowerCase()),Jo=sn==="all"?!0:sn==="active"?Zn.is_active:!Zn.is_active;return Xo&&Jo}),je=async()=>{J(!0);try{const Le=await Ys.get("/admin-update.php?table=locations_province&action=list");Le.data.success&&(d(Le.data.data||[]),we([]))}catch{console.error("Failed to load provinces")}finally{J(!1)}},Bt=async Le=>{try{const Tt=await Ys.get(`/admin-update.php?action=list&table=locations_district&province_id=${Le}`);Tt.data.success&&(x(Tt.data.data||[]),$e([]))}catch{console.error("Failed to load districts")}},Ze=async Le=>{try{const Tt=await Ys.get(`/admin-update.php?action=list&table=locations_town&district_id=${Le}`);Tt.data.success&&(N(Tt.data.data||[]),ct([]))}catch{console.error("Failed to load towns")}},bt=async Le=>{try{const Tt=await Ys.get(`/admin-update.php?action=get-distances&province_id=${Le}`);Tt.data.success&&H(Tt.data.data||[])}catch{console.error("Failed to load distances")}},X=Le=>{V(Le),ne(null),N([]),vt==="locations"?Bt(Le.id):bt(Le.id)},jo=Le=>{ne(Le),Ze(Le.id)},vo=async(Le,Tt,sn)=>{try{await Ys.post("/admin-update.php",{action:"update",table:sn,id:Le,data:{is_active:!Tt}}),sn==="locations_province"?je():sn==="locations_district"?Bt(U.id):sn==="locations_town"&&Ze(Y.id),_o.fire({title:"Gncellendi",icon:"success",timer:800,showConfirmButton:!1,toast:!0,position:"bottom-end"})}catch(Zn){console.error("Toggle Error:",Zn);const Xo=Zn.response?.data?.error||"Gncelleme baarsz";_o.fire("Hata",Xo,"error")}},Mo=async(Le,Tt,sn)=>{if(sn.length===0)return;const Zn=Tt==="delete"?"silmek":Tt==="activate"?"aktif etmek":"pasif yapmak";if((await _o.fire({title:"Emin misiniz?",text:`${sn.length} adet kayd ${Zn} istediinize emin misiniz?`,icon:Tt==="delete"?"warning":"question",showCancelButton:!0,confirmButtonText:"Evet",cancelButtonText:"ptal"})).isConfirmed)try{Tt==="delete"?await Ys.post("/admin-update.php",{action:"delete",table:Le,ids:sn}):await Ys.post("/admin-update.php",{action:"update",table:Le,ids:sn,data:{is_active:Tt==="activate"}}),_o.fire("Baarl","lem tamamland","success"),Le==="locations_province"?(je(),Tt==="delete"&&(V(null),x([]))):Le==="locations_district"?(Bt(U.id),Tt==="delete"&&(ne(null),N([]))):Le==="locations_town"&&Ze(Y.id)}catch{_o.fire("Hata","lem gerekletirilemedi","error")}},Io=async(Le,Tt)=>{if((await _o.fire({title:"Emin misiniz?",text:"Bu ilem ve altndaki tm bal veriler silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal",customClass:{confirmButton:"bg-red-500 rounded-xl px-6 py-2.5 font-bold",cancelButton:"bg-gray-100 text-gray-600 rounded-xl px-6 py-2.5 font-bold"}})).isConfirmed)try{await Ys.post("/admin-update.php",{action:"delete",table:Tt,id:Le}),Tt==="locations_province"?(je(),V(null),ne(null),N([])):Tt==="locations_district"?(Bt(U.id),ne(null),N([])):Tt==="locations_town"?Ze(Y.id):Tt==="locations_city_distance"&&bt(U.id),_o.fire("Silindi","","success")}catch(Zn){console.error("Delete Error:",Zn);const Xo=Zn.response?.data?.error||"Silme baarsz";_o.fire("Hata",Xo,"error")}},zs=async()=>{if((await _o.fire({title:"Verileri Gncelle",text:"Tm Trkiye il, ile ve mahalle verileri GitHub zerinden ekilip gncellenecektir. Bu ilem uzun srebilir ve arka planda devam eder.",icon:"info",showCancelButton:!0,confirmButtonText:"imdi Balat",cancelButtonText:"ptal"})).isConfirmed)try{await Ys.post("/admin-update.php",{action:"import-locations"}),_o.fire("Balatld","lem arka planda balatld. Tamamlandnda veriler gncellenmi olacak.","success")}catch{_o.fire("Hata","lem balatlamad","error")}},Ne=async()=>{const{value:Le}=await _o.fire({title:"Yeni l Ekle",input:"text",inputLabel:"l Ad",inputPlaceholder:"rn: stanbul, Antalya...",showCancelButton:!0,confirmButtonText:"Ekle",cancelButtonText:"ptal"});if(Le)try{await Ys.post("/admin-update.php",{action:"save-location",table:"locations_province",name:Le}),je()}catch{_o.fire("Hata","Eklenemedi","error")}},Ge=async()=>{if(!U)return;const{value:Le}=await _o.fire({title:"Yeni le Ekle",input:"text",inputLabel:"le Ad",inputPlaceholder:"rn: Ka, Bodrum...",showCancelButton:!0,confirmButtonText:"Ekle",cancelButtonText:"ptal"});if(Le)try{await Ys.post("/admin-update.php",{action:"save-location",table:"locations_district",name:Le,province_id:U.id}),Bt(U.id)}catch{_o.fire("Hata","Eklenemedi","error")}},tt=async()=>{if(!Y)return;const{value:Le}=await _o.fire({title:"Yeni Mahalle/Belde Ekle",input:"text",inputLabel:"Mahalle/Belde Ad",inputPlaceholder:"rn: Gcek, Kalkan, Bitez...",showCancelButton:!0,confirmButtonText:"Ekle",cancelButtonText:"ptal"});if(Le)try{await Ys.post("/admin-update.php",{action:"save-location",table:"locations_town",name:Le,district_id:Y.id}),Ze(Y.id)}catch{_o.fire("Hata","Eklenemedi","error")}},Be=async()=>{if(!(!Y||!U))try{const Tt=(await Ys.post("/admin-update.php",{action:"get-available-towns",province:U.name,district:Y.name})).data.data;if(!Tt||Tt.length===0){_o.fire("Bilgi","Bu blge iin hazr mahalle bulunamad. Ltfen manuel ekleyin.","info");return}const{value:sn}=await _o.fire({title:"Ktphaneden Se",input:"select",inputOptions:Tt.reduce((Zn,Xo)=>({...Zn,[Xo]:Xo}),{}),inputPlaceholder:"Mahalle Seiniz",showCancelButton:!0,confirmButtonText:"Ekle"});sn&&(await Ys.post("/admin-update.php",{action:"save-location",table:"locations_town",name:sn,district_id:Y.id}),Ze(Y.id),_o.fire("Eklendi","","success"))}catch(Le){console.error(Le),_o.fire("Hata","Liste alnamad","error")}},[Je,Rt]=Ke.useState(null),yt=async Le=>{const Tt=`${Le.slug}${at.suffix}`;try{const Zn=(await Ys.get(`/admin-update.php?table=posts&action=list&post_type=seo_page&slug=${Tt}`)).data.data?.[0];if(Zn)Rt(Zn);else{const Xo=at.titleTemplate.replace("{name}",Le.name);Rt({title:Xo,slug:Tt,content:`<p>${Le.name} blgesinde profesyonel mekan ekimi hizmetleri.</p>`,excerpt:`${Le.name} mekan fotorafs, otel, villa ve emlak ekimi hizmetleri.`,post_type:"seo_page",post_status:"draft"})}}catch(sn){console.error("Error fetching page content",sn),_o.fire("Hata","erik yklenemedi","error")}},Un=async()=>{try{await Ys.post("/admin-update.php",{action:"save-post",...Je}),_o.fire("Kaydedildi","erik gncellendi","success"),Rt(null)}catch{_o.fire("Hata","Kaydetme baarsz","error")}},Dt=({search:Le,setSearch:Tt,filter:sn,setFilter:Zn,items:Xo,selectedIds:Jo,onToggleAll:ko,type:mr,table:Ho})=>j.jsxs("div",{className:"flex flex-col gap-2 mb-4 px-1",children:[j.jsxs("div",{className:"flex gap-2",children:[j.jsx("input",{type:"text",placeholder:"Ara...",value:Le,onChange:os=>Tt(os.target.value),className:"w-full px-3 py-1.5 text-xs border border-gray-200 rounded-lg focus:outline-none focus:border-blue-400 shadow-inner bg-gray-50/50"}),j.jsxs("select",{value:sn,onChange:os=>Zn(os.target.value),className:"px-2 py-1.5 text-xs border border-gray-200 rounded-lg focus:outline-none focus:border-blue-400 bg-white",children:[j.jsx("option",{value:"all",children:"Tm"}),j.jsx("option",{value:"active",children:"Aktif"}),j.jsx("option",{value:"passive",children:"Pasif"})]})]}),j.jsxs("div",{className:"flex justify-between items-center px-2 py-1 bg-gray-50/80 rounded-lg border border-gray-100",children:[j.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[j.jsx("input",{type:"checkbox",className:"w-3.5 h-3.5 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:Xo.length>0&&Jo.length===Xo.length,onChange:()=>ko(Xo,mr)}),j.jsxs("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-tighter",children:["Tmn Se (",Jo.length,")"]})]}),Jo.length>0&&j.jsxs("div",{className:"flex gap-1",children:[j.jsx("button",{onClick:()=>Mo(Ho,"activate",Jo),className:"bg-green-100 text-green-700 font-bold px-2 py-0.5 rounded text-[9px] hover:bg-green-200",children:"AKTF"}),j.jsx("button",{onClick:()=>Mo(Ho,"deactivate",Jo),className:"bg-red-100 text-red-700 font-bold px-2 py-0.5 rounded text-[9px] hover:bg-red-200",children:"PASF"}),j.jsx("button",{onClick:()=>Mo(Ho,"delete",Jo),className:"bg-gray-200 text-gray-700 font-bold px-2 py-0.5 rounded text-[9px] hover:bg-gray-300",children:"SL"})]})]})]});return Ue&&c.length===0?j.jsxs("div",{className:"flex flex-col items-center justify-center py-24 gap-4",children:[j.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),j.jsx("p",{className:"text-gray-500 font-medium",children:"Veriler Ykleniyor..."})]}):j.jsxs(yl.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[j.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 bg-white/50 backdrop-blur-md p-6 rounded-[2rem] border border-white shadow-sm",children:[j.jsxs("div",{children:[j.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Lokasyon Ynetimi"}),j.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Trkiye il, ile ve mahalle verileri"})]}),j.jsxs("div",{className:"flex items-center gap-2 bg-gray-100/50 p-1.5 rounded-2xl border border-gray-200 shadow-inner",children:[j.jsx("button",{onClick:()=>en("locations"),className:`px-6 py-2 rounded-xl font-bold transition-all ${vt==="locations"?"bg-white text-blue-600 shadow-md translate-y-[-1px]":"text-gray-500 hover:text-gray-700"}`,children:" Yerleimler"}),j.jsx("button",{onClick:()=>{en("distances"),U&&bt(U.id)},className:`px-6 py-2 rounded-xl font-bold transition-all ${vt==="distances"?"bg-white text-blue-600 shadow-md translate-y-[-1px]":"text-gray-500 hover:text-gray-700"}`,children:" Mesafeler"}),j.jsx("div",{className:"w-px h-6 bg-gray-200 mx-1"}),j.jsx("button",{onClick:zs,className:"px-6 py-2 rounded-xl font-bold text-gray-600 hover:text-blue-600 hover:bg-white transition-all",title:"Tm verileri GitHub'dan gncelle",children:" Gncelle"})]})]}),j.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 h-[calc(100vh-280px)]",children:[j.jsxs("div",{className:"flex flex-col h-full space-y-4",children:[j.jsxs("div",{className:"flex justify-between items-center px-4",children:[j.jsxs("h2",{className:"text-lg font-black text-gray-800 tracking-tight flex items-center gap-2",children:[j.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 text-xs",children:"81"}),"ller"]}),j.jsx("button",{onClick:Ne,className:"w-8 h-8 flex items-center justify-center bg-white hover:bg-blue-50 border border-gray-200 text-blue-600 rounded-xl transition-all shadow-sm font-bold",children:"+"})]}),j.jsx(Dt,{search:Qe,setSearch:ie,filter:it,setFilter:Tn,items:wt(c,Qe,it),selectedIds:ue,onToggleAll:Me,type:"province",table:"locations_province"}),j.jsx("div",{className:"flex-1 bg-white rounded-[2rem] shadow-sm border border-gray-100 overflow-hidden overflow-y-auto custom-scrollbar",children:wt(c,Qe,it).map(Le=>j.jsx("div",{className:`p-5 border-b border-gray-50 cursor-pointer transition-all ${U?.id===Le.id?"bg-blue-50/50 border-l-4 border-l-blue-500":"hover:bg-gray-50/50"}`,onClick:()=>X(Le),children:j.jsxs("div",{className:"flex justify-between items-center group",children:[j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer",checked:ue.includes(Le.id),onChange:Tt=>{Tt.stopPropagation(),ee(Le.id,"province")}}),j.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center font-bold text-sm shadow-sm transition-all ${U?.id===Le.id?"bg-blue-500 text-white":"bg-gray-50 text-gray-400 group-hover:bg-white group-hover:text-blue-500"}`,children:Le.plate_code||"??"}),j.jsxs("div",{children:[j.jsx("span",{className:`font-bold block transition-colors ${U?.id===Le.id?"text-blue-900":"text-gray-700"}`,children:Le.name}),j.jsxs("div",{className:"flex gap-2 mt-1",children:[j.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),yt(Le)},className:"text-[10px] text-gray-300 hover:text-blue-500 flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all scale-95 hover:scale-100",children:" Dzenle"}),j.jsx("a",{href:`/${Le.slug}${at.suffix}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-gray-300 hover:text-blue-500 flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all scale-95 hover:scale-100",onClick:Tt=>Tt.stopPropagation(),children:" Gr"})]})]})]}),j.jsxs("div",{className:"flex gap-2",children:[j.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),vo(Le.id,Le.is_active,"locations_province")},className:`w-2.5 h-2.5 rounded-full ring-4 ring-transparent ${Le.is_active?"bg-green-500 shadow-[0_0_10px_rgba(34,197,94,0.4)]":"bg-red-300"}`,title:Le.is_active?"Aktif":"Pasif"}),j.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),Io(Le.id,"locations_province")},className:"text-xs text-red-500 opacity-0 group-hover:opacity-20 hover:!opacity-100 transition-all",children:""})]})]})},Le.id))})]}),j.jsx(aD,{mode:"wait",children:vt==="locations"?j.jsxs(j.Fragment,{children:[j.jsxs(yl.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex flex-col h-full space-y-4",children:[j.jsxs("div",{className:"flex justify-between items-center px-4",children:[j.jsxs("div",{children:[j.jsx("h2",{className:"text-lg font-black text-gray-800 tracking-tight",children:"leler"}),U&&j.jsx("span",{className:"text-[10px] text-blue-500 font-bold uppercase tracking-widest",children:U.name})]}),U&&j.jsx("button",{onClick:Ge,className:"w-8 h-8 flex items-center justify-center bg-white hover:bg-blue-50 border border-gray-200 text-blue-600 rounded-xl transition-all shadow-sm font-bold",children:"+"})]}),U&&j.jsx(Dt,{search:mn,setSearch:qe,filter:Oe,setFilter:Yo,items:wt(p,mn,Oe),selectedIds:Ee,onToggleAll:Me,type:"district",table:"locations_district"}),j.jsx("div",{className:"flex-1 bg-white rounded-[2rem] shadow-sm border border-gray-100 overflow-hidden overflow-y-auto custom-scrollbar",children:U?p.length===0?j.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300 p-8",children:[j.jsx("span",{className:"text-3xl mb-2",children:""}),j.jsx("span",{className:"text-xs uppercase font-bold tracking-widest",children:"Henz ile yok"})]}):wt(p,mn,Oe).map(Le=>j.jsx("div",{className:`p-5 border-b border-gray-50 cursor-pointer transition-all ${Y?.id===Le.id?"bg-blue-50/50 border-l-4 border-l-blue-500":"hover:bg-gray-50/50"}`,onClick:()=>jo(Le),children:j.jsxs("div",{className:"flex justify-between items-center group",children:[j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer",checked:Ee.includes(Le.id),onChange:Tt=>{Tt.stopPropagation(),ee(Le.id,"district")}}),j.jsxs("div",{children:[j.jsx("span",{className:`font-bold block ${Y?.id===Le.id?"text-blue-900":"text-gray-700"}`,children:Le.name}),j.jsxs("div",{className:"flex gap-2 mt-1",children:[j.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),yt(Le)},className:"text-[10px] text-gray-300 hover:text-blue-500 flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all",children:" Dzenle"}),j.jsx("a",{href:`/${Le.slug}${at.suffix}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-gray-300 hover:text-blue-500 flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all",onClick:Tt=>Tt.stopPropagation(),children:" Gr"})]})]})]}),j.jsxs("div",{className:"flex gap-2",children:[j.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),vo(Le.id,Le.is_active,"locations_district")},className:`w-2.5 h-2.5 rounded-full ${Le.is_active?"bg-green-500":"bg-red-300"}`,title:Le.is_active?"Aktif":"Pasif"}),j.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),Io(Le.id,"locations_district")},className:"text-xs text-red-500 opacity-0 group-hover:opacity-20 hover:!opacity-100 transition-all",children:""})]})]})},Le.id)):j.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300 p-8 grayscale opacity-50",children:[j.jsx("span",{className:"text-5xl mb-4",children:""}),j.jsx("span",{className:"text-xs uppercase font-black tracking-widest bg-gray-100 px-4 py-2 rounded-full",children:"Sol taraftan il sein"})]})})]},"districts"),j.jsxs(yl.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex flex-col h-full space-y-4",children:[j.jsxs("div",{className:"flex justify-between items-center px-4",children:[j.jsxs("div",{children:[j.jsx("h2",{className:"text-lg font-black text-gray-800 tracking-tight",children:"Mahalleler"}),Y&&j.jsx("span",{className:"text-[10px] text-blue-500 font-bold uppercase tracking-widest",children:Y.name})]}),Y&&j.jsxs("div",{className:"flex gap-2",children:[j.jsx("button",{onClick:Be,className:"w-8 h-8 flex items-center justify-center bg-blue-50 hover:bg-blue-100 border border-blue-200 text-blue-600 rounded-xl transition-all shadow-sm text-xs",title:"Ktphaneden Aktar",children:""}),j.jsx("button",{onClick:tt,className:"w-8 h-8 flex items-center justify-center bg-white hover:bg-gray-50 border border-gray-200 text-blue-600 rounded-xl transition-all shadow-sm font-bold",children:"+"})]})]}),Y&&j.jsx(Dt,{search:pt,setSearch:Pt,filter:P,setFilter:Vt,items:wt(A,pt,P),selectedIds:ve,onToggleAll:Me,type:"town",table:"locations_town"}),j.jsx("div",{className:"flex-1 bg-white rounded-[2rem] shadow-sm border border-gray-100 overflow-hidden overflow-y-auto custom-scrollbar",children:Y?A.length===0?j.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300 p-8",children:[j.jsx("span",{className:"text-3xl mb-2",children:""}),j.jsx("span",{className:"text-xs uppercase font-bold tracking-widest",children:"Henz mahalle yok"})]}):wt(A,pt,P).map(Le=>j.jsx("div",{className:"p-5 border-b border-gray-50 hover:bg-gray-50/50 transition-all group",children:j.jsxs("div",{className:"flex justify-between items-center",children:[j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer",checked:ve.includes(Le.id),onChange:Tt=>{Tt.stopPropagation(),ee(Le.id,"town")}}),j.jsxs("div",{children:[j.jsx("span",{className:"font-bold text-gray-700 block",children:Le.name}),j.jsxs("div",{className:"flex gap-2 mt-1",children:[j.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),yt(Le)},className:"text-[10px] text-gray-300 hover:text-blue-500 opacity-0 group-hover:opacity-100 transition-all",children:" Dzenle"}),j.jsx("a",{href:`/${Le.slug}${at.suffix}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-gray-300 hover:text-blue-500 opacity-0 group-hover:opacity-100 transition-all",onClick:Tt=>Tt.stopPropagation(),children:" Gr"})]})]})]}),j.jsxs("div",{className:"flex gap-2 items-center",children:[j.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),vo(Le.id,Le.is_active,"locations_town")},className:`px-3 py-1 rounded-lg text-[9px] font-black tracking-tighter transition-all ${Le.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:Le.is_active?"AKTF":"PASF"}),j.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),Io(Le.id,"locations_town")},className:"text-red-500 opacity-0 group-hover:opacity-20 hover:!opacity-100 transition-all text-xs",children:""})]})]})},Le.id)):j.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300 p-8 grayscale opacity-50",children:[j.jsx("span",{className:"text-5xl mb-4",children:""}),j.jsx("span",{className:"text-xs uppercase font-black tracking-widest bg-gray-100 px-4 py-2 rounded-full",children:"le sein"})]})})]},"towns")]}):j.jsx(yl.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},className:"lg:col-span-2 flex flex-col h-full bg-white rounded-[2rem] border border-gray-100 shadow-sm overflow-hidden",children:U?j.jsxs("div",{className:"flex flex-col h-full",children:[j.jsxs("div",{className:"p-8 border-b border-gray-50 bg-gray-50/50",children:[j.jsxs("div",{className:"flex justify-between items-center mb-6",children:[j.jsxs("h3",{className:"text-2xl font-black text-gray-900 tracking-tight",children:[U.name," kl Mesafeler"]}),j.jsxs("div",{className:"bg-blue-100 text-blue-700 font-black px-4 py-2 rounded-2xl text-xs uppercase tracking-widest",children:[O.length," ehir Kaytl"]})]}),j.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[j.jsxs("div",{className:"bg-white p-4 rounded-3xl border border-gray-100 shadow-sm",children:[j.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase block mb-1",children:"En Yakn"}),j.jsx("span",{className:"text-lg font-bold text-gray-800",children:O.length>0?O.sort((Le,Tt)=>Le.distance_km-Tt.distance_km).filter(Le=>Le.distance_km>0)[0]?.to_province_name:"-"})]}),j.jsxs("div",{className:"bg-white p-4 rounded-3xl border border-gray-100 shadow-sm",children:[j.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase block mb-1",children:"En Uzak"}),j.jsx("span",{className:"text-lg font-bold text-gray-800",children:O.length>0?O.sort((Le,Tt)=>Tt.distance_km-Le.distance_km)[0]?.to_province_name:"-"})]})]})]}),j.jsx("div",{className:"flex-1 p-8 overflow-y-auto custom-scrollbar",children:j.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[O.map(Le=>j.jsxs("div",{className:"group bg-gray-50 hover:bg-white hover:shadow-lg hover:shadow-blue-500/5 p-5 rounded-3xl border border-transparent hover:border-blue-100 transition-all",children:[j.jsxs("div",{className:"flex justify-between items-center mb-2",children:[j.jsx("span",{className:"font-bold text-gray-700",children:Le.to_province_name}),j.jsxs("span",{className:"text-blue-600 font-black text-sm",children:[Le.distance_km," km"]})]}),j.jsx("div",{className:"w-full bg-gray-200 h-1 rounded-full overflow-hidden",children:j.jsx("div",{className:"bg-blue-500 h-full rounded-full transition-all duration-1000",style:{width:`${Math.min(100,Le.distance_km/2e3*100)}%`}})})]},Le.id)),O.length===0&&j.jsx("div",{className:"col-span-full py-12 text-center text-gray-400 font-medium",children:"Bu il iin mesafe verisi bulunamad."})]})})]}):j.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300 p-8 grayscale opacity-50",children:[j.jsx("span",{className:"text-6xl mb-6",children:""}),j.jsx("span",{className:"text-xs uppercase font-black tracking-widest bg-gray-100 px-6 py-3 rounded-full",children:"Mesafeleri grmek iin listeden il sein"})]})},"distances_view")})]}),Je&&j.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:j.jsxs(yl.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden border border-white",children:[j.jsxs("div",{className:"p-8 border-b border-gray-100 flex justify-between items-center bg-gray-50/80",children:[j.jsxs("div",{children:[j.jsx("h2",{className:"text-2xl font-black text-gray-900 tracking-tight",children:"erik Dzenle"}),j.jsx("p",{className:"text-gray-500 text-xs mt-0.5",children:"SEO uyumlu lokasyon sayfas ayarlar"})]}),j.jsx("button",{onClick:()=>Rt(null),className:"w-10 h-10 flex items-center justify-center bg-white rounded-full text-gray-400 hover:text-gray-600 shadow-sm border border-gray-100 transition-all",children:""})]}),j.jsxs("div",{className:"p-8 overflow-y-auto custom-scrollbar space-y-8",children:[j.jsxs("div",{className:"bg-blue-500 text-white rounded-3xl p-6 flex gap-4 shadow-lg shadow-blue-500/20",children:[j.jsx("span",{className:"text-2xl",children:""}),j.jsxs("div",{children:[j.jsx("h4",{className:"font-black text-sm uppercase tracking-widest",children:"SEO Tavsiyesi"}),j.jsx("p",{className:"text-sm opacity-90 mt-1 font-medium leading-relaxed",children:"Her lokasyon iin zgn balk ve ierik girmek SEO performansn artrr. ehir/semt ismini balkta ve metnin ilk paragrafnda geirmeye zen gsterin."})]})]}),j.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[j.jsxs("div",{className:"space-y-2",children:[j.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Sayfa Bal (H1)"}),j.jsx("input",{type:"text",value:Je.title,onChange:Le=>Rt({...Je,title:Le.target.value}),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none font-bold text-gray-800 transition-all"})]}),j.jsxs("div",{className:"space-y-2",children:[j.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"URL (Slug)"}),j.jsx("input",{type:"text",value:Je.slug,readOnly:!0,disabled:!0,className:"w-full px-5 py-4 bg-gray-100/50 border border-gray-100 rounded-2xl text-gray-400 font-mono text-xs cursor-not-allowed select-none",title:"Lokasyon URL yaps standarttr, deitirilemez."})]})]}),j.jsxs("div",{className:"space-y-2",children:[j.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"erik (HTML)"}),j.jsx("textarea",{value:Je.content||"",onChange:Le=>Rt({...Je,content:Le.target.value}),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none font-mono text-sm h-64 transition-all",placeholder:"<p>Sayfa ierii...</p>"}),j.jsx("p",{className:"text-[10px] text-gray-400 font-bold px-1",children:"Tip: HTML etiketleri (<h2>, <p>, <ul>) kullanabilirsiniz."})]}),j.jsxs("div",{className:"space-y-2",children:[j.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Meta Aklamas (Description)"}),j.jsx("textarea",{value:Je.excerpt||"",onChange:Le=>Rt({...Je,excerpt:Le.target.value}),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none text-sm h-28 transition-all",placeholder:"Google arama sonularnda grnecek ksa aklama..."})]})]}),j.jsxs("div",{className:"p-8 border-t border-gray-100 bg-gray-50/80 flex justify-end gap-3",children:[j.jsx("button",{onClick:()=>Rt(null),className:"px-8 py-3 bg-white border border-gray-200 text-gray-700 font-black rounded-2xl hover:bg-gray-100 transition-all uppercase tracking-widest text-xs",children:"ptal"}),j.jsx("button",{onClick:Un,className:"px-8 py-3 bg-blue-600 text-white font-black rounded-2xl hover:bg-blue-700 shadow-xl shadow-blue-500/20 transition-all uppercase tracking-widest text-xs",children:"Kaydet"})]})]})})]})}function kve(){const[c,d]=Ke.useState([]),[p,x]=Ke.useState(!0),A=Y3();Ke.useEffect(()=>{N()},[]);const N=async()=>{try{const H=await Ys.get("/admin-update.php?table=posts&action=list&post_type=service");H.data.success&&d(H.data.data||[])}catch(H){console.error("Failed to load services:",H)}finally{x(!1)}},O=async H=>{if((await _o.fire({title:"Emin misiniz?",text:"Bu hizmet kalc olarak silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal"})).isConfirmed)try{await Ys.post("/admin-update.php",{action:"delete",table:"posts",id:H}),N(),_o.fire("Silindi!","Hizmet baaryla silindi.","success")}catch{_o.fire("Hata","Silme ilemi baarsz","error")}};return p?j.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):j.jsxs(yl.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},className:"space-y-6",children:[j.jsxs("div",{className:"flex justify-between items-center",children:[j.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Hizmetler"}),j.jsx("button",{onClick:()=>A("/services/new"),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold shadow-lg shadow-blue-500/20 transition transform hover:-translate-y-0.5 active:scale-95",children:"+ Yeni Hizmet Ekle"})]}),j.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:j.jsxs("table",{className:"w-full",children:[j.jsx("thead",{className:"bg-gray-50/50 border-b border-gray-100",children:j.jsxs("tr",{children:[j.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Hizmet Ad"}),j.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"URL (Slug)"}),j.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Durum"}),j.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-400 uppercase tracking-widest",children:"lemler"})]})}),j.jsx("tbody",{className:"divide-y divide-gray-100",children:c.map(H=>j.jsxs("tr",{className:"group hover:bg-blue-50/30 transition-colors",children:[j.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j.jsx("div",{className:"text-sm font-semibold text-gray-800",children:H.title})}),j.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j.jsxs("div",{className:"text-xs text-blue-500 font-mono",children:["/services/",H.slug]})}),j.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black tracking-widest uppercase ${H.post_status==="publish"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:H.post_status==="publish"?"YAYINDA":"TASLAK"})}),j.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[j.jsx("button",{onClick:()=>A(`/services/edit/${H.id}`),className:"text-blue-600 hover:text-blue-900 bg-blue-50 px-4 py-1.5 rounded-lg transition-colors",children:"Dzenle"}),j.jsx("button",{onClick:()=>O(H.id),className:"text-red-500 hover:text-red-900 px-2 py-1.5 rounded-lg opacity-40 group-hover:opacity-100 transition-opacity",children:"Sil"})]})]},H.id))})]})})]})}function Dve(){const[c,d]=Ke.useState([]),[p,x]=Ke.useState(!0),A=Y3();Ke.useEffect(()=>{N()},[]);const N=async()=>{try{const H=await Ys.get("/admin-update.php?table=posts&action=list&post_type=page");H.data.success&&d(H.data.data||[])}catch(H){console.error("Failed to load pages:",H)}finally{x(!1)}},O=async H=>{if((await _o.fire({title:"Emin misiniz?",text:"Bu sayfa kalc olarak silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal"})).isConfirmed)try{await Ys.post("/admin-update.php",{action:"delete",table:"posts",id:H}),N(),_o.fire("Silindi!","Sayfa baaryla silindi.","success")}catch{_o.fire("Hata","Silme ilemi baarsz","error")}};return p?j.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):j.jsxs(yl.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[j.jsxs("div",{className:"flex justify-between items-center",children:[j.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Kurumsal Sayfalar"}),j.jsx("button",{onClick:()=>A("/pages/new"),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold shadow-lg shadow-blue-500/20 transition transform hover:-translate-y-0.5 active:scale-95",children:"+ Yeni Sayfa Ekle"})]}),j.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:j.jsxs("table",{className:"w-full",children:[j.jsx("thead",{className:"bg-gray-50/50 border-b border-gray-100",children:j.jsxs("tr",{children:[j.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Sayfa Bal"}),j.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"URL"}),j.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Durum"}),j.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-400 uppercase tracking-widest",children:"lemler"})]})}),j.jsxs("tbody",{className:"divide-y divide-gray-100",children:[c.map(H=>j.jsxs(yl.tr,{layout:!0,className:"group hover:bg-blue-50/30 transition-colors",children:[j.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j.jsx("div",{className:"text-sm font-semibold text-gray-800",children:H.title})}),j.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j.jsxs("div",{className:"text-xs text-gray-400",children:["/",H.slug]})}),j.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black tracking-widest uppercase ${H.post_status==="publish"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:H.post_status==="publish"?"YAYINDA":"TASLAK"})}),j.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[j.jsx("button",{onClick:()=>A(`/pages/edit/${H.id}`),className:"text-blue-600 hover:text-blue-900 bg-blue-50 px-4 py-1.5 rounded-lg transition-colors",children:"Dzenle"}),j.jsx("button",{onClick:()=>O(H.id),className:"text-red-500 hover:text-red-900 px-2 py-1.5 rounded-lg opacity-40 group-hover:opacity-100 transition-opacity",children:"Sil"})]})]},H.id)),c.length===0&&j.jsx("tr",{children:j.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-gray-400 italic",children:"Henz sayfa oluturulmam."})})]})]})})]})}function _ve(){const[c,d]=Ke.useState([]),[p,x]=Ke.useState(!0),[A,N]=Ke.useState("");Ke.useEffect(()=>{O()},[]);const O=async()=>{try{const we=await Ys.get("/admin-update.php?table=posts&action=list&post_type=seo_page");we.data.success&&d(we.data.data||[])}catch{console.error("Failed to load SEO pages")}finally{x(!1)}},H=async(we,Ee)=>{const $e=Ee==="publish"?"draft":"publish";try{await Ys.post("/admin-update.php",{action:"update",table:"posts",id:we,data:{post_status:$e}}),O()}catch{_o.fire("Hata","Durum gncellenemedi","error")}},[U,V]=Ke.useState(null),Y=we=>{V({...we})},ne=async()=>{try{await Ys.post("/admin-update.php",{action:"save-post",...U}),_o.fire("Kaydedildi","Sayfa ierii gncellendi","success"),V(null),O()}catch{_o.fire("Hata","Kaydetme baarsz","error")}},ue=c.filter(we=>we.title?.toLowerCase().includes(A.toLowerCase())||we.slug?.toLowerCase().includes(A.toLowerCase()));return p?j.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):j.jsxs(yl.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[j.jsx("div",{className:"flex justify-between items-center",children:j.jsxs("div",{children:[j.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Dinamik SEO Sayfalar"}),j.jsx("p",{className:"text-gray-500 text-sm",children:"Lokasyon ve hizmet kombinasyonlarndan oluan sayfalar"})]})}),j.jsxs("div",{className:"flex gap-4 items-center bg-white p-4 rounded-2xl border border-gray-100 shadow-sm",children:[j.jsx("span",{className:"text-gray-400 ml-2",children:""}),j.jsx("input",{type:"text",placeholder:"Sayfa veya URL ara...",value:A,onChange:we=>N(we.target.value),className:"flex-1 bg-transparent border-none focus:ring-0 text-sm font-medium outline-none"})]}),j.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:j.jsxs("table",{className:"w-full",children:[j.jsx("thead",{className:"bg-gray-50/50 border-b border-gray-100",children:j.jsxs("tr",{children:[j.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Sayfa / Balk"}),j.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"URL (Slug)"}),j.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Tip"}),j.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Durum"}),j.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-400 uppercase tracking-widest",children:"lem"})]})}),j.jsx("tbody",{className:"divide-y divide-gray-100",children:ue.map(we=>j.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[j.jsxs("td",{className:"px-6 py-4",children:[j.jsx("div",{className:"text-sm font-bold text-gray-800 line-clamp-1",children:we.title}),j.jsx("div",{className:"text-[10px] text-gray-400 mt-0.5 line-clamp-1",children:we.excerpt})]}),j.jsx("td",{className:"px-6 py-4",children:j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsxs("div",{className:"text-xs font-mono text-blue-500",children:["/",we.slug]}),j.jsx("a",{href:`/${we.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-600 transition-colors",title:"Sayfay Grntle",children:""})]})}),j.jsx("td",{className:"px-6 py-4",children:j.jsx("span",{className:"px-2 py-0.5 rounded bg-gray-100 text-[10px] font-black uppercase text-gray-500 tracking-tighter",children:we.post_type})}),j.jsx("td",{className:"px-6 py-4",children:j.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold ${we.post_status==="publish"?"text-green-600 bg-green-50":"text-gray-500 bg-gray-100"}`,children:we.post_status==="publish"?"YAYINDA":"TASLAK"})}),j.jsx("td",{className:"px-6 py-4 text-right",children:j.jsxs("div",{className:"flex justify-end gap-2",children:[j.jsx("button",{onClick:()=>Y(we),className:"px-3 py-1.5 bg-blue-50 text-blue-600 hover:bg-blue-100 rounded-lg text-xs font-bold transition-colors",children:"Dzenle "}),j.jsx("button",{onClick:()=>H(we.id,we.post_status),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-colors ${we.post_status==="publish"?"bg-amber-50 text-amber-600 hover:bg-amber-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,children:we.post_status==="publish"?"Pasifletir":"Yaynla"})]})})]},we.id))})]})}),U&&j.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:j.jsxs(yl.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden",children:[j.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[j.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Sayfa Dzenle"}),j.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-gray-600",children:""})]}),j.jsxs("div",{className:"p-6 overflow-y-auto custom-scrollbar space-y-6",children:[j.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[j.jsxs("div",{children:[j.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Sayfa Bal (H1)"}),j.jsx("input",{type:"text",value:U.title,onChange:we=>V({...U,title:we.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none font-bold text-gray-800"})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"URL (Slug)"}),j.jsx("input",{type:"text",value:U.slug,onChange:we=>V({...U,slug:we.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none font-mono text-sm text-gray-600"})]})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"erik (HTML)"}),j.jsx("textarea",{value:U.content||"",onChange:we=>V({...U,content:we.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none font-mono text-sm h-64",placeholder:"<p>Sayfa ierii...</p>"}),j.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"HTML etiketleri kullanabilirsiniz."})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Meta Aklamas (Description)"}),j.jsx("textarea",{value:U.excerpt||"",onChange:we=>V({...U,excerpt:we.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm h-24",placeholder:"Google arama sonularnda grnecek ksa aklama..."})]})]}),j.jsxs("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end gap-3",children:[j.jsx("button",{onClick:()=>V(null),className:"px-6 py-2.5 bg-white border border-gray-200 text-gray-700 font-bold rounded-xl hover:bg-gray-50 transition-colors",children:"ptal"}),j.jsx("button",{onClick:ne,className:"px-6 py-2.5 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all",children:"Deiiklikleri Kaydet"})]})]})})]})}function Ove(){const[c,d]=Ke.useState([]),[p,x]=Ke.useState(!0),[A,N]=Ke.useState("all"),[O,H]=Ke.useState(null);Ke.useEffect(()=>{U()},[]);const U=async()=>{try{const ue=await Ys.get("/admin-update.php?table=quotes&action=list");if(ue.data.success){const we=(ue.data.data||[]).sort((Ee,$e)=>new Date($e.created_at)-new Date(Ee.created_at));d(we)}}catch(ue){console.error("Failed to load quotes:",ue)}finally{x(!1)}},V=async ue=>{try{await Ys.post("/admin-update.php",{action:"update",table:"quotes",id:ue.id,data:{is_read:!ue.is_read}}),U(),O?.id===ue.id&&H({...ue,is_read:!ue.is_read})}catch{_o.fire("Hata","Durum gncellenemedi","error")}},Y=async ue=>{if((await _o.fire({title:"Emin misiniz?",text:"Bu talep kalc olarak silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal"})).isConfirmed)try{await Ys.post("/admin-update.php",{action:"delete",table:"quotes",id:ue}),U(),H(null),_o.fire("Silindi!","Talep baaryla silindi.","success")}catch{_o.fire("Hata","Silme ilemi baarsz","error")}},ne=c.filter(ue=>A==="new"?!ue.is_read:A==="read"?ue.is_read:!0);return p?j.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):j.jsxs(yl.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[j.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[j.jsxs("div",{children:[j.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Teklif Talepleri"}),j.jsx("p",{className:"text-gray-500 text-sm",children:"Gelen i talepleri ve mteri mesajlar"})]}),j.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl",children:[{id:"all",label:"Tm",count:c.length},{id:"new",label:"Yeni",count:c.filter(ue=>!ue.is_read).length},{id:"read",label:"Okundu",count:c.filter(ue=>ue.is_read).length}].map(ue=>j.jsxs("button",{onClick:()=>N(ue.id),className:`px-4 py-1.5 rounded-lg text-xs font-bold transition-all ${A===ue.id?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[ue.label," (",ue.count,")"]},ue.id))})]}),j.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[j.jsxs("div",{className:`xl:col-span-1 space-y-3 max-h-[700px] overflow-y-auto pr-2 custom-scrollbar ${O?"hidden xl:block":"block"}`,children:[ne.map(ue=>j.jsxs(yl.div,{layout:!0,onClick:()=>H(ue),className:`p-4 rounded-2xl border cursor-pointer transition-all ${O?.id===ue.id?"bg-blue-600 border-blue-600 text-white shadow-lg shadow-blue-200":`bg-white hover:bg-gray-50 border-gray-100 ${ue.is_read?"":"border-l-4 border-l-blue-500"}`}`,children:[j.jsxs("div",{className:"flex justify-between items-start mb-1",children:[j.jsx("span",{className:"text-xs font-black uppercase opacity-60 tracking-widest",children:ue.service||"Genel"}),j.jsx("span",{className:"text-[10px] opacity-60",children:new Date(ue.created_at).toLocaleDateString("tr-TR")})]}),j.jsx("div",{className:`font-bold ${O?.id===ue.id?"text-white":"text-gray-800"}`,children:ue.name}),j.jsx("div",{className:"text-xs truncate opacity-70",children:ue.email})]},ue.id)),ne.length===0&&j.jsx("div",{className:"text-center py-12 text-gray-400 italic bg-white rounded-3xl border border-dashed border-gray-200",children:"Talep bulunamad."})]}),j.jsx("div",{className:`xl:col-span-2 ${O?"block":"hidden xl:flex"}`,children:j.jsx(aD,{mode:"wait",children:O?j.jsxs(yl.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"bg-white rounded-3xl border border-gray-100 shadow-sm p-8 h-full flex flex-col",children:[j.jsxs("div",{className:"flex justify-between items-start mb-8",children:[j.jsx("button",{onClick:()=>H(null),className:"xl:hidden p-2 hover:bg-gray-100 rounded-lg text-gray-400",children:" Geri"}),j.jsxs("div",{className:"flex gap-2",children:[j.jsx("button",{onClick:()=>V(O),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${O.is_read?"bg-gray-100 text-gray-600":"bg-green-100 text-green-700"}`,children:O.is_read?"Okunmad Olarak aretle":"Okundu Olarak aretle"}),j.jsx("button",{onClick:()=>Y(O.id),className:"p-2 text-red-400 hover:bg-red-50 rounded-xl transition-colors",children:""})]})]}),j.jsxs("div",{className:"space-y-6 flex-1",children:[j.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[j.jsxs("div",{children:[j.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-2",children:"Mteri Bilgileri"}),j.jsxs("div",{className:"space-y-3",children:[j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),j.jsx("div",{className:"text-lg font-bold text-gray-800",children:O.name})]}),j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),j.jsx("div",{className:"text-sm text-gray-600 font-medium",children:O.email})]}),j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),j.jsx("div",{className:"text-sm text-gray-600 font-medium",children:O.phone})]})]})]}),j.jsxs("div",{children:[j.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-2",children:"Talep Detaylar"}),j.jsxs("div",{className:"space-y-3",children:[j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("span",{className:"w-8 h-8 rounded-full bg-amber-50 text-amber-500 flex items-center justify-center text-xs",children:""}),j.jsxs("div",{children:[j.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:"Hizmet"}),j.jsx("div",{className:"text-sm font-bold text-gray-800",children:O.service||"Genel"})]})]}),j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("span",{className:"w-8 h-8 rounded-full bg-amber-50 text-amber-500 flex items-center justify-center text-xs",children:""}),j.jsxs("div",{children:[j.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:"Tarih"}),j.jsx("div",{className:"text-sm font-bold text-gray-800",children:new Date(O.created_at).toLocaleString("tr-TR")})]})]})]})]})]}),j.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-50",children:[j.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Mesaj / Ek Bilgiler"}),j.jsx("div",{className:"bg-gray-50 p-6 rounded-2xl text-gray-700 leading-relaxed whitespace-pre-wrap italic",children:O.message||"Ek bilgi belirtilmemi."})]})]}),j.jsxs("p",{className:"text-[9px] text-gray-300 mt-8 text-center uppercase tracking-widest font-bold",children:["ID: ",O.id]})]},O.id):j.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-300 border-2 border-dashed border-gray-100 rounded-3xl bg-gray-50/30",children:[j.jsx("span",{className:"text-6xl mb-4",children:""}),j.jsx("p",{className:"font-bold tracking-tight uppercase text-xs opacity-50",children:"Detaylar grmek iin bir talep sein"})]})})})]})]})}function Rve(){const[c,d]=Ke.useState([]),[p,x]=Ke.useState([]),[A,N]=Ke.useState(null),[O,H]=Ke.useState(null),[U,V]=Ke.useState(!0),[Y,ne]=Ke.useState(!1);Ke.useEffect(()=>{ue(A)},[A]);const ue=async Ue=>{V(!0);try{const J=await Ys.get(`/media.php?action=list&folder_id=${Ue||""}`);J.data.success&&(d(J.data.folders),x(J.data.files),H(J.data.parent_id))}catch{console.error("Failed to load media")}finally{V(!1)}},we=async()=>{const{value:Ue}=await _o.fire({title:"Yeni Klasr",input:"text",inputLabel:"Klasr Ad",inputPlaceholder:"rn: Villalar, Dn ekimleri...",showCancelButton:!0,confirmButtonText:"Olutur",cancelButtonText:"ptal",customClass:{confirmButton:"bg-blue-600 rounded-xl px-6 py-2.5 font-bold",cancelButton:"bg-gray-100 text-gray-600 rounded-xl px-6 py-2.5 font-bold"}});if(Ue)try{await Ys.post("/media.php",{action:"create-folder",name:Ue,parent_id:A}),ue(A)}catch{_o.fire("Hata","Klasr oluturulamad","error")}},Ee=async Ue=>{const J=Array.from(Ue.target.files);if(J.length===0)return;ne(!0);let vt=0,en=0;try{await Promise.all(J.map(async Qe=>{const ie=new FormData;ie.append("file",Qe),ie.append("folder_id",A||""),ie.append("action","upload");try{await Ys.post("/media.php",ie,{headers:{"Content-Type":"multipart/form-data"}}),vt++}catch(it){console.error("Upload failed for file:",Qe.name,it),en++}})),ue(A),en===0?_o.fire({title:"Yklendi",text:`${vt} dosya baaryla yklendi.`,icon:"success",timer:1500,showConfirmButton:!1}):_o.fire({title:"Tamamland",text:`${vt} dosya yklendi, ${en} dosya ise yklenemedi.`,icon:"warning"})}catch{_o.fire("Hata","Ykleme ilemi balatlamad","error")}finally{ne(!1),Ue.target.value=""}},$e=(Ue,J="url")=>{navigator.clipboard.writeText(Ue),_o.fire({title:J==="url"?"Link Kopyaland":"Kod Kopyaland",text:J==="url"?"Resim adresi panoya kopyaland.":"Galeri kodu panoya kopyaland.",icon:"success",timer:1e3,showConfirmButton:!1,toast:!0,position:"bottom-end"})},ve=async Ue=>{if((await _o.fire({title:"Emin misiniz?",text:"Bu dosya kalc olarak silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal"})).isConfirmed)try{await Ys.post("/media.php",{action:"delete-file",id:Ue}),ue(A)}catch{_o.fire("Hata","Silinemedi","error")}},ct=async Ue=>{if((await _o.fire({title:"Emin misiniz?",text:"Klasrn iindeki her ey silinecektir (Dosyalar varsa nce onlar silmelisiniz).",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal"})).isConfirmed)try{await Ys.post("/media.php",{action:"delete-folder",id:Ue}),ue(A)}catch(vt){_o.fire("Hata",vt.response?.data?.error||"Silinemedi","error")}};return j.jsxs(yl.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[j.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[j.jsxs("div",{children:[j.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Medya Ktphanesi"}),j.jsx("p",{className:"text-gray-500 text-sm",children:"Grsellerinizi ve galeri klasrlerinizi ynetin"})]}),j.jsxs("div",{className:"flex gap-2",children:[j.jsxs("button",{onClick:we,className:"px-5 py-2.5 bg-white border border-gray-200 text-gray-700 hover:bg-gray-50 rounded-xl font-bold transition-all shadow-sm flex items-center gap-2",children:[j.jsx("span",{children:""})," Yeni Klasr"]}),j.jsxs("label",{className:`px-5 py-2.5 ${Y?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"} text-white rounded-xl font-bold cursor-pointer transition-all shadow-lg shadow-blue-500/20 flex items-center gap-2`,children:[j.jsx("span",{children:Y?"":""}),Y?"Ykleniyor...":"Dosya Ykle",j.jsx("input",{type:"file",className:"hidden",onChange:Ee,disabled:Y,accept:"image/*",multiple:!0})]})]})]}),j.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white/50 backdrop-blur-sm rounded-2xl border border-gray-100",children:[j.jsx("button",{onClick:()=>N(null),className:`px-3 py-1 rounded-lg text-xs font-black tracking-widest uppercase transition-colors ${A?"text-gray-400 hover:text-blue-500":"bg-blue-100 text-blue-600"}`,children:"ROOT"}),A&&j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("span",{className:"text-gray-300",children:"/"}),j.jsxs("button",{onClick:()=>N(O),className:"flex items-center gap-1.5 px-3 py-1 rounded-lg text-xs font-bold text-blue-500 hover:bg-blue-50 transition-colors",children:[j.jsx("span",{className:"text-sm",children:""})," Geri Dn"]})]})]}),U?j.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-6 animate-pulse",children:[...Array(12)].map((Ue,J)=>j.jsx("div",{className:"aspect-square bg-gray-100 rounded-3xl"},J))}):j.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-6",children:[j.jsxs(aD,{mode:"popLayout",children:[c.map(Ue=>j.jsxs(yl.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"group relative aspect-square bg-white rounded-3xl shadow-sm border border-gray-100 hover:border-blue-400 hover:shadow-xl hover:shadow-blue-500/5 transition-all p-4 flex flex-col items-center justify-center cursor-pointer",onClick:()=>N(Ue.id),children:[j.jsxs("div",{className:"absolute inset-0 bg-blue-900/60 opacity-0 group-hover:opacity-100 transition-all flex flex-col items-center justify-center gap-3 rounded-3xl z-10",children:[j.jsx("button",{onClick:J=>{J.stopPropagation(),$e(`[gallery id="${Ue.id}"]`,"shortcode")},className:"w-12 h-12 bg-white rounded-xl text-green-600 shadow-xl hover:scale-110 active:scale-95 transition-all flex items-center justify-center",title:"Galeri Kodunu Kopyala",children:""}),j.jsx("div",{className:"text-[10px] text-white/80 font-black tracking-widest uppercase",children:"Galeri Kodu"})]}),j.jsx("div",{className:"text-5xl mb-2 drop-shadow-sm group-hover:scale-110 transition-transform",children:""}),j.jsx("span",{className:"text-[11px] font-bold text-gray-700 text-center truncate w-full px-2 uppercase tracking-tighter",children:Ue.name}),j.jsx("button",{onClick:J=>{J.stopPropagation(),ct(Ue.id)},className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 p-1.5 text-red-500 hover:bg-red-50 rounded-xl transition-all z-20",children:""})]},Ue.id)),p.map(Ue=>j.jsxs(yl.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"group relative aspect-square bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden hover:border-blue-400 hover:shadow-xl hover:shadow-blue-500/5 transition-all",children:[j.jsxs("div",{className:"w-full h-full relative",children:[Ue.mime_type?.startsWith("image/")?j.jsx("img",{src:Ue.public_url,alt:Ue.alt,className:"w-full h-full object-cover"}):j.jsx("div",{className:"w-full h-full flex items-center justify-center text-4xl bg-gray-50",children:""}),j.jsxs("div",{className:"absolute inset-0 bg-blue-900/60 opacity-0 group-hover:opacity-100 transition-all flex flex-col items-center justify-center gap-3",children:[j.jsx("div",{className:"flex gap-2",children:j.jsx("button",{onClick:()=>$e(Ue.public_url),className:"w-12 h-12 bg-white rounded-xl text-blue-600 shadow-xl hover:scale-110 active:scale-95 transition-all flex items-center justify-center",title:"Link Kopyala",children:""})}),j.jsx("div",{className:"text-[10px] text-white/80 font-black tracking-widest uppercase",children:"Link Kopyala"})]})]}),j.jsx("div",{className:"absolute top-2 right-2 flex gap-1",children:j.jsx("button",{onClick:()=>ve(Ue.id),className:"opacity-0 group-hover:opacity-100 w-7 h-7 bg-red-500/80 backdrop-blur-md text-white rounded-lg flex items-center justify-center text-xs hover:bg-red-600 transition-all shadow-lg",children:""})}),j.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-2 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:j.jsxs("p",{className:"text-[9px] font-bold text-white truncate uppercase tracking-tighter",children:[(Ue.file_size/1024).toFixed(1)," KB"]})})]},Ue.id))]}),c.length===0&&p.length===0&&j.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center justify-center text-gray-300 border-2 border-dashed border-gray-100 rounded-[3rem] bg-gray-50/20",children:[j.jsx("span",{className:"text-6xl mb-4",children:""}),j.jsx("p",{className:"font-black uppercase text-xs tracking-[0.2em] opacity-30",children:"Buralar ok Issz..."})]})]})]})}function Nve(){const[c,d]=Ke.useState([]),[p,x]=Ke.useState(!0);Ke.useEffect(()=>{A()},[]);const A=async()=>{try{const V=await Ys.get("/pexels-images.php");V.data.success&&d(V.data.images)}catch(V){console.error("Failed to load images",V),_o.fire("Hata","Grseller yklenemedi","error")}finally{x(!1)}},N=async V=>{try{const Y=!V.is_visible;d(ne=>ne.map(ue=>ue.id===V.id?{...ue,is_visible:Y}:ue)),await Ys.post("/pexels-images.php",{action:"toggle",id:V.id,is_visible:Y})}catch{_o.fire("Hata","Durum gncellenemedi","error"),A()}},O=async V=>{if((await _o.fire({title:"Emin misiniz?",text:"Bu grsel koleksiyondan kaldrlacak.",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, Sil",cancelButtonText:"ptal"})).isConfirmed)try{await Ys.post("/pexels-images.php",{action:"delete",id:V}),d(ne=>ne.filter(ue=>ue.id!==V)),_o.fire("Silindi","Grsel kaldrld.","success")}catch{_o.fire("Hata","Silinemedi","error")}},H=async()=>{x(!0);try{const V=await Ys.post("/pexels-images.php",{action:"sync"});V.data.success&&(_o.fire("Eitlendi",`${V.data.synced_count} yeni grsel eklendi.`,"success"),A())}catch(V){console.error("Sync error:",V);const Y=V.response?.data?.error||V.message||"Senkronizasyon baarsz oldu.",ne=V.response?.data?.file?`
File: ${V.response.data.file}:${V.response.data.line}`:"";_o.fire("Hata",Y+ne,"error")}finally{x(!1)}},U=async()=>{const{value:V}=await _o.fire({title:"Yeni Pexels Grseli",input:"url",inputLabel:"Grsel URL (Pexels src)",inputPlaceholder:"https://images.pexels.com/...",showCancelButton:!0,confirmButtonText:"Ekle",cancelButtonText:"ptal"});if(V)try{await Ys.post("/pexels-images.php",{action:"add",image_url:V,photographer:"Admin Added"}),A(),_o.fire("Baarl","Grsel eklendi","success")}catch{_o.fire("Hata","Ekleme baarsz","error")}};return p?j.jsx("div",{className:"p-8 text-center text-gray-500",children:"Ykleniyor..."}):j.jsxs(yl.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[j.jsxs("div",{className:"flex justify-between items-center",children:[j.jsxs("div",{children:[j.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Pexels Koleksiyonu"}),j.jsx("p",{className:"text-gray-500 text-sm",children:"Sitede rastgele gsterilen arka plan grsellerini ynetin."})]}),j.jsxs("div",{className:"flex gap-2",children:[j.jsx("button",{onClick:H,disabled:p,className:"px-6 py-2.5 bg-gray-600 text-white rounded-xl font-bold hover:bg-gray-700 transition-all shadow-sm",children:" Senkronize Et"}),j.jsx("button",{onClick:U,className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-500/30 hover:bg-indigo-700 hover:scale-105 transition-all",children:"+ Yeni Ekle"})]})]}),j.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:j.jsx(aD,{children:c.map(V=>j.jsxs(yl.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:`group relative rounded-3xl overflow-hidden shadow-sm border-2 transition-all ${V.is_visible?"border-transparent shadow-md":"border-red-200 grayscale opacity-70"}`,children:[j.jsxs("div",{className:"aspect-[3/4] relative",children:[j.jsx("img",{src:V.image_url,alt:V.photographer,className:"w-full h-full object-cover",loading:"lazy"}),j.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center gap-3",children:[j.jsx("button",{onClick:()=>N(V),className:`px-4 py-2 rounded-lg font-bold text-xs uppercase tracking-wider ${V.is_visible?"bg-red-500 text-white":"bg-green-500 text-white"}`,children:V.is_visible?"Pasifletir":"Aktifletir"}),j.jsx("button",{onClick:()=>O(V.id),className:"p-2 bg-white/20 text-white rounded-full hover:bg-red-600 transition-colors",title:"Sil",children:""})]}),j.jsx("div",{className:"absolute top-3 right-3",children:j.jsx("span",{className:`w-3 h-3 rounded-full block shadow-sm ${V.is_visible?"bg-green-500":"bg-red-500"}`})})]}),j.jsx("div",{className:"p-3 bg-white text-xs text-center text-gray-500 font-medium truncate",children:V.photographer||"Fotoraf Bilinmiyor"})]},V.id))})}),c.length===0&&j.jsx("div",{className:"text-center py-20 bg-gray-50 rounded-3xl border-2 border-dashed border-gray-200 text-gray-400",children:"Henz grsel eklenmemi."})]})}var bee={exports:{}},yee,wre;function Mve(){if(wre)return yee;wre=1;var c="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return yee=c,yee}var vee,Cre;function Bve(){if(Cre)return vee;Cre=1;var c=Mve();function d(){}function p(){}return p.resetWarningCache=d,vee=function(){function x(O,H,U,V,Y,ne){if(ne!==c){var ue=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ue.name="Invariant Violation",ue}}x.isRequired=x;function A(){return x}var N={array:x,bigint:x,bool:x,func:x,number:x,object:x,string:x,symbol:x,any:x,arrayOf:A,element:x,elementType:x,instanceOf:A,node:x,objectOf:A,oneOf:A,oneOfType:A,shape:A,exact:A,checkPropTypes:p,resetWarningCache:d};return N.PropTypes=N,N},vee}var Sre;function Lve(){return Sre||(Sre=1,bee.exports=Bve()()),bee.exports}var jn=Lve(),tte=function(){return tte=Object.assign||function(c){for(var d,p=1,x=arguments.length;p<x;p++){d=arguments[p];for(var A in d)Object.prototype.hasOwnProperty.call(d,A)&&(c[A]=d[A])}return c},tte.apply(this,arguments)},Tue={onActivate:jn.func,onAddUndo:jn.func,onBeforeAddUndo:jn.func,onBeforeExecCommand:jn.func,onBeforeGetContent:jn.func,onBeforeRenderUI:jn.func,onBeforeSetContent:jn.func,onBeforePaste:jn.func,onBlur:jn.func,onChange:jn.func,onClearUndos:jn.func,onClick:jn.func,onContextMenu:jn.func,onCommentChange:jn.func,onCompositionEnd:jn.func,onCompositionStart:jn.func,onCompositionUpdate:jn.func,onCopy:jn.func,onCut:jn.func,onDblclick:jn.func,onDeactivate:jn.func,onDirty:jn.func,onDrag:jn.func,onDragDrop:jn.func,onDragEnd:jn.func,onDragGesture:jn.func,onDragOver:jn.func,onDrop:jn.func,onExecCommand:jn.func,onFocus:jn.func,onFocusIn:jn.func,onFocusOut:jn.func,onGetContent:jn.func,onHide:jn.func,onInit:jn.func,onInput:jn.func,onKeyDown:jn.func,onKeyPress:jn.func,onKeyUp:jn.func,onLoadContent:jn.func,onMouseDown:jn.func,onMouseEnter:jn.func,onMouseLeave:jn.func,onMouseMove:jn.func,onMouseOut:jn.func,onMouseOver:jn.func,onMouseUp:jn.func,onNodeChange:jn.func,onObjectResizeStart:jn.func,onObjectResized:jn.func,onObjectSelected:jn.func,onPaste:jn.func,onPostProcess:jn.func,onPostRender:jn.func,onPreProcess:jn.func,onProgressState:jn.func,onRedo:jn.func,onRemove:jn.func,onReset:jn.func,onSaveContent:jn.func,onSelectionChange:jn.func,onSetAttrib:jn.func,onSetContent:jn.func,onShow:jn.func,onSubmit:jn.func,onUndo:jn.func,onVisualAid:jn.func,onSkinLoadError:jn.func,onThemeLoadError:jn.func,onModelLoadError:jn.func,onPluginLoadError:jn.func,onIconsLoadError:jn.func,onLanguageLoadError:jn.func,onScriptsLoad:jn.func,onScriptsLoadError:jn.func},Pve=tte({apiKey:jn.string,licenseKey:jn.string,id:jn.string,inline:jn.bool,init:jn.object,initialValue:jn.string,onEditorChange:jn.func,value:jn.string,tagName:jn.string,tabIndex:jn.number,cloudChannel:jn.string,plugins:jn.oneOfType([jn.string,jn.array]),toolbar:jn.oneOfType([jn.string,jn.array]),disabled:jn.bool,readonly:jn.bool,textareaName:jn.string,tinymceScriptSrc:jn.oneOfType([jn.string,jn.arrayOf(jn.string),jn.arrayOf(jn.shape({src:jn.string,async:jn.bool,defer:jn.bool}))]),rollback:jn.oneOfType([jn.number,jn.oneOf([!1])]),scriptLoading:jn.shape({async:jn.bool,defer:jn.bool,delay:jn.number})},Tue),Aue=function(c){var d=c;return d&&d.tinymce?d.tinymce:null},xee=function(c){return typeof c=="function"},Ere=function(c){return c in Tue},Tre=function(c){return c.substr(2)},Fve=function(c,d,p,x,A,N,O){var H=Object.keys(A).filter(Ere),U=Object.keys(N).filter(Ere),V=H.filter(function(ne){return N[ne]===void 0}),Y=U.filter(function(ne){return A[ne]===void 0});V.forEach(function(ne){var ue=Tre(ne),we=O[ue];p(ue,we),delete O[ue]}),Y.forEach(function(ne){var ue=x(c,ne),we=Tre(ne);O[we]=ue,d(we,ue)})},$ve=function(c,d,p,x,A){return Fve(A,c.on.bind(c),c.off.bind(c),function(N,O){return function(H){var U;return(U=N(O))===null||U===void 0?void 0:U(H,c)}},d,p,x)},Are=0,kue=function(c){var d=Date.now(),p=Math.floor(Math.random()*1e9);return Are++,c+"_"+p+Are+String(d)},kre=function(c){return c!==null&&(c.tagName.toLowerCase()==="textarea"||c.tagName.toLowerCase()==="input")},Dre=function(c){return typeof c>"u"||c===""?[]:Array.isArray(c)?c:c.split(" ")},Ive=function(c,d){return Dre(c).concat(Dre(d))},Hve=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},zve=function(c){if(!("isConnected"in Node.prototype)){for(var d=c,p=c.parentNode;p!=null;)d=p,p=d.parentNode;return d===c.ownerDocument}return c.isConnected},_re=function(c,d){c!==void 0&&(c.mode!=null&&typeof c.mode=="object"&&typeof c.mode.set=="function"?c.mode.set(d):c.setMode(d))},Vve=function(c){var d=Aue(c);if(!d)throw new Error("tinymce should have been loaded into global scope");return d},Ore=function(c){return c.options&&c.options.isRegistered("disabled")},nte=function(){return nte=Object.assign||function(c){for(var d,p=1,x=arguments.length;p<x;p++){d=arguments[p];for(var A in d)Object.prototype.hasOwnProperty.call(d,A)&&(c[A]=d[A])}return c},nte.apply(this,arguments)},jve=function(c,d,p){var x,A,N=c.createElement("script");N.referrerPolicy="origin",N.type="application/javascript",N.id=d.id,N.src=d.src,N.async=(x=d.async)!==null&&x!==void 0?x:!1,N.defer=(A=d.defer)!==null&&A!==void 0?A:!1;var O=function(){N.removeEventListener("load",O),N.removeEventListener("error",H),p(d.src)},H=function(U){N.removeEventListener("load",O),N.removeEventListener("error",H),p(d.src,U)};N.addEventListener("load",O),N.addEventListener("error",H),c.head&&c.head.appendChild(N)},Uve=function(c){var d={},p=function(O,H){var U=d[O];U.done=!0,U.error=H;for(var V=0,Y=U.handlers;V<Y.length;V++){var ne=Y[V];ne(O,H)}U.handlers=[]},x=function(O,H,U){var V=function(Ue){return U!==void 0?U(Ue):console.error(Ue)};if(O.length===0){V(new Error("At least one script must be provided"));return}for(var Y=0,ne=!1,ue=function(Ue,J){ne||(J?(ne=!0,V(J)):++Y===O.length&&H())},we=0,Ee=O;we<Ee.length;we++){var $e=Ee[we],ve=d[$e.src];if(ve)ve.done?ue($e.src,ve.error):ve.handlers.push(ue);else{var ct=kue("tiny-");d[$e.src]={id:ct,src:$e.src,done:!1,error:null,handlers:[ue]},jve(c,nte({id:ct},$e),p)}}},A=function(){for(var O,H=0,U=Object.values(d);H<U.length;H++){var V=U[H],Y=c.getElementById(V.id);Y!=null&&Y.tagName==="SCRIPT"&&((O=Y.parentNode)===null||O===void 0||O.removeChild(Y))}d={}},N=function(){return c};return{loadScripts:x,deleteScripts:A,getDocument:N}},Zve=function(){var c=[],d=function(A){var N=c.find(function(O){return O.getDocument()===A});return N===void 0&&(N=Uve(A),c.push(N)),N},p=function(A,N,O,H,U){var V=function(){return d(A).loadScripts(N,H,U)};O>0?setTimeout(V,O):V()},x=function(){for(var A=c.pop();A!=null;A=c.pop())A.deleteScripts()};return{loadList:p,reinitialize:x}},Wve=Zve(),qve=(function(){var c=function(d,p){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,A){x.__proto__=A}||function(x,A){for(var N in A)Object.prototype.hasOwnProperty.call(A,N)&&(x[N]=A[N])},c(d,p)};return function(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");c(d,p);function x(){this.constructor=d}d.prototype=p===null?Object.create(p):(x.prototype=p.prototype,new x)}})(),H3=function(){return H3=Object.assign||function(c){for(var d,p=1,x=arguments.length;p<x;p++){d=arguments[p];for(var A in d)Object.prototype.hasOwnProperty.call(d,A)&&(c[A]=d[A])}return c},H3.apply(this,arguments)},wee="change keyup compositionend setcontent CommentChange",Gve=(function(c){qve(d,c);function d(p){var x,A,N,O=c.call(this,p)||this;return O.rollbackTimer=void 0,O.valueCursor=void 0,O.rollbackChange=function(){var H=O.editor,U=O.props.value;H&&U&&U!==O.currentContent&&H.undoManager.ignore(function(){if(H.setContent(U),O.valueCursor&&(!O.inline||H.hasFocus()))try{H.selection.moveToBookmark(O.valueCursor)}catch{}}),O.rollbackTimer=void 0},O.handleBeforeInput=function(H){if(O.props.value!==void 0&&O.props.value===O.currentContent&&O.editor&&(!O.inline||O.editor.hasFocus()))try{O.valueCursor=O.editor.selection.getBookmark(3)}catch{}},O.handleBeforeInputSpecial=function(H){(H.key==="Enter"||H.key==="Backspace"||H.key==="Delete")&&O.handleBeforeInput(H)},O.handleEditorChange=function(H){var U=O.editor;if(U&&U.initialized){var V=U.getContent();O.props.value!==void 0&&O.props.value!==V&&O.props.rollback!==!1&&(O.rollbackTimer||(O.rollbackTimer=window.setTimeout(O.rollbackChange,typeof O.props.rollback=="number"?O.props.rollback:200))),V!==O.currentContent&&(O.currentContent=V,xee(O.props.onEditorChange)&&O.props.onEditorChange(V,U))}},O.handleEditorChangeSpecial=function(H){(H.key==="Backspace"||H.key==="Delete")&&O.handleEditorChange(H)},O.initialise=function(H){var U,V,Y;H===void 0&&(H=0);var ne=O.elementRef.current;if(ne){if(!zve(ne)){if(H===0)setTimeout(function(){return O.initialise(1)},1);else if(H<100)setTimeout(function(){return O.initialise(H+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var ue=Vve(O.view),we=H3(H3(H3(H3({},O.props.init),{selector:void 0,target:ne,disabled:O.props.disabled,readonly:O.props.readonly,inline:O.inline,plugins:Ive((U=O.props.init)===null||U===void 0?void 0:U.plugins,O.props.plugins),toolbar:(V=O.props.toolbar)!==null&&V!==void 0?V:(Y=O.props.init)===null||Y===void 0?void 0:Y.toolbar}),O.props.licenseKey?{license_key:O.props.licenseKey}:{}),{setup:function(Ee){O.editor=Ee,O.bindHandlers({}),O.inline&&!kre(ne)&&Ee.once("PostRender",function($e){Ee.setContent(O.getInitialValue(),{no_events:!0})}),O.props.init&&xee(O.props.init.setup)&&O.props.init.setup(Ee),O.props.disabled&&(Ore(O.editor)?O.editor.options.set("disabled",O.props.disabled):O.editor.mode.set("readonly"))},init_instance_callback:function(Ee){var $e,ve=O.getInitialValue();O.currentContent=($e=O.currentContent)!==null&&$e!==void 0?$e:Ee.getContent(),O.currentContent!==ve&&(O.currentContent=ve,Ee.setContent(ve),Ee.undoManager.clear(),Ee.undoManager.add(),Ee.setDirty(!1)),O.props.init&&xee(O.props.init.init_instance_callback)&&O.props.init.init_instance_callback(Ee)}});O.inline||(ne.style.visibility=""),kre(ne)&&(ne.value=O.getInitialValue()),ue.init(we)}},O.id=O.props.id||kue("tiny-react"),O.elementRef=Ke.createRef(),O.inline=(N=(x=O.props.inline)!==null&&x!==void 0?x:(A=O.props.init)===null||A===void 0?void 0:A.inline)!==null&&N!==void 0?N:!1,O.boundHandlers={},O}return Object.defineProperty(d.prototype,"view",{get:function(){var p,x;return(x=(p=this.elementRef.current)===null||p===void 0?void 0:p.ownerDocument.defaultView)!==null&&x!==void 0?x:window},enumerable:!1,configurable:!0}),d.prototype.componentDidUpdate=function(p){var x=this,A,N;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(p),this.editor.initialized)){if(this.currentContent=(A=this.currentContent)!==null&&A!==void 0?A:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==p.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var O=this.editor;O.undoManager.transact(function(){var U;if(!x.inline||O.hasFocus())try{U=O.selection.getBookmark(3)}catch{}var V=x.valueCursor;if(O.setContent(x.props.value),!x.inline||O.hasFocus())for(var Y=0,ne=[U,V];Y<ne.length;Y++){var ue=ne[Y];if(ue)try{O.selection.moveToBookmark(ue),x.valueCursor=ue;break}catch{}}})}if(this.props.readonly!==p.readonly){var H=(N=this.props.readonly)!==null&&N!==void 0?N:!1;_re(this.editor,H?"readonly":"design")}this.props.disabled!==p.disabled&&(Ore(this.editor)?this.editor.options.set("disabled",this.props.disabled):_re(this.editor,this.props.disabled?"readonly":"design"))}},d.prototype.componentDidMount=function(){var p=this,x,A,N,O,H;if(Aue(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(A=(x=this.props).onScriptsLoadError)===null||A===void 0||A.call(x,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((N=this.elementRef.current)===null||N===void 0)&&N.ownerDocument){var U=function(){var Y,ne;(ne=(Y=p.props).onScriptsLoad)===null||ne===void 0||ne.call(Y),p.initialise()},V=function(Y){var ne,ue;(ue=(ne=p.props).onScriptsLoadError)===null||ue===void 0||ue.call(ne,Y)};Wve.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(H=(O=this.props.scriptLoading)===null||O===void 0?void 0:O.delay)!==null&&H!==void 0?H:0,U,V)}},d.prototype.componentWillUnmount=function(){var p=this,x=this.editor;x&&(x.off(wee,this.handleEditorChange),x.off(this.beforeInputEvent(),this.handleBeforeInput),x.off("keypress",this.handleEditorChangeSpecial),x.off("keydown",this.handleBeforeInputSpecial),x.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(A){x.off(A,p.boundHandlers[A])}),this.boundHandlers={},x.remove(),this.editor=void 0)},d.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},d.prototype.beforeInputEvent=function(){return Hve()?"beforeinput SelectionChange":"SelectionChange"},d.prototype.renderInline=function(){var p=this.props.tagName,x=p===void 0?"div":p;return Ke.createElement(x,{ref:this.elementRef,id:this.id,tabIndex:this.props.tabIndex})},d.prototype.renderIframe=function(){return Ke.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id,tabIndex:this.props.tabIndex})},d.prototype.getScriptSources=function(){var p,x,A=(p=this.props.scriptLoading)===null||p===void 0?void 0:p.async,N=(x=this.props.scriptLoading)===null||x===void 0?void 0:x.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:A,defer:N}]:this.props.tinymceScriptSrc.map(function(V){return typeof V=="string"?{src:V,async:A,defer:N}:V});var O=this.props.cloudChannel,H=this.props.apiKey?this.props.apiKey:"no-api-key",U="https://cdn.tiny.cloud/1/".concat(H,"/tinymce/").concat(O,"/tinymce.min.js");return[{src:U,async:A,defer:N}]},d.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},d.prototype.bindHandlers=function(p){var x=this;if(this.editor!==void 0){$ve(this.editor,p,this.props,this.boundHandlers,function(H){return x.props[H]});var A=function(H){return H.onEditorChange!==void 0||H.value!==void 0},N=A(p),O=A(this.props);!N&&O?(this.editor.on(wee,this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):N&&!O&&(this.editor.off(wee,this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},d.propTypes=Pve,d.defaultProps={cloudChannel:"8"},d})(Ke.Component),Cee={exports:{}},Rre;function Kve(){return Rre||(Rre=1,(function(c){(function(){var d=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},p=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},x=function(e,t){var o=Array.prototype.slice.call(e);return o.sort(t)},A=function(e,t){return N(function(o,r){return e.eq(t(o),t(r))})},N=function(e){return{eq:e}},O=N(function(e,t){return e===t}),H=O,U=function(e){return N(function(t,o){if(t.length!==o.length)return!1;for(var r=t.length,l=0;l<r;l++)if(!e.eq(t[l],o[l]))return!1;return!0})},V=function(e,t){return A(U(e),function(o){return x(o,t)})},Y=function(e){return N(function(t,o){var r=Object.keys(t),l=Object.keys(o);if(!V(H).eq(r,l))return!1;for(var h=r.length,v=0;v<h;v++){var T=r[v];if(!e.eq(t[T],o[T]))return!1}return!0})},ne=N(function(e,t){if(e===t)return!0;var o=d(e),r=d(t);return o!==r?!1:p(o)?e===t:o==="array"?U(ne).eq(e,t):o==="object"?Y(ne).eq(e,t):!1});const ue=Object.getPrototypeOf,we=(e,t,o)=>o(e,t.prototype)?!0:e.constructor?.name===t.name,Ee=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&we(e,String,(o,r)=>r.isPrototypeOf(o))?"string":t},$e=e=>t=>Ee(t)===e,ve=e=>t=>typeof t===e,ct=e=>t=>e===t,Ue=(e,t)=>vt(e)&&we(e,t,(o,r)=>ue(o)===r),J=$e("string"),vt=$e("object"),en=e=>Ue(e,Object),Qe=$e("array"),ie=ct(null),it=ve("boolean"),Tn=ct(void 0),mn=e=>e==null,qe=e=>!mn(e),Oe=ve("function"),Yo=ve("number"),pt=(e,t)=>{if(Qe(e)){for(let o=0,r=e.length;o<r;++o)if(!t(e[o]))return!1;return!0}return!1},Pt=()=>{},P=(e,t)=>(...o)=>e(t.apply(null,o)),Vt=(e,t)=>o=>e(t(o)),at=e=>()=>e,Qn=e=>e,cn=(e,t)=>e===t;function ee(e,...t){return(...o)=>{const r=t.concat(o);return e.apply(null,r)}}const Me=e=>t=>!e(t),wt=e=>()=>{throw new Error(e)},je=e=>e(),Bt=e=>{e()},Ze=at(!1),bt=at(!0);class X{tag;value;static singletonNone=new X(!1);constructor(t,o){this.tag=t,this.value=o}static some(t){return new X(!0,t)}static none(){return X.singletonNone}fold(t,o){return this.tag?o(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?X.some(t(this.value)):X.none()}bind(t){return this.tag?t(this.value):X.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:X.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return qe(t)?X.some(t):X.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const jo=Array.prototype.slice,vo=Array.prototype.indexOf,Mo=Array.prototype.push,Io=(e,t)=>vo.call(e,t),zs=(e,t)=>{const o=Io(e,t);return o===-1?X.none():X.some(o)},Ne=(e,t)=>Io(e,t)>-1,Ge=(e,t)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];if(t(l,o))return!0}return!1},tt=(e,t)=>{const o=e.length,r=new Array(o);for(let l=0;l<o;l++){const h=e[l];r[l]=t(h,l)}return r},Be=(e,t)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];t(l,o)}},Je=(e,t)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];t(r,o)}},Rt=(e,t)=>{const o=[],r=[];for(let l=0,h=e.length;l<h;l++){const v=e[l];(t(v,l)?o:r).push(v)}return{pass:o,fail:r}},yt=(e,t)=>{const o=[];for(let r=0,l=e.length;r<l;r++){const h=e[r];t(h,r)&&o.push(h)}return o},Un=(e,t)=>{if(e.length===0)return[];{let o=t(e[0]);const r=[];let l=[];for(let h=0,v=e.length;h<v;h++){const T=e[h],k=t(T);k!==o&&(r.push(l),l=[]),o=k,l.push(T)}return l.length!==0&&r.push(l),r}},Dt=(e,t,o)=>(Je(e,(r,l)=>{o=t(o,r,l)}),o),Le=(e,t,o)=>(Be(e,(r,l)=>{o=t(o,r,l)}),o),Tt=(e,t,o)=>{for(let r=0,l=e.length;r<l;r++){const h=e[r];if(t(h,r))return X.some(h);if(o(h,r))break}return X.none()},sn=(e,t)=>Tt(e,t,Ze),Zn=(e,t)=>{for(let o=0,r=e.length;o<r;o++){const l=e[o];if(t(l,o))return X.some(o)}return X.none()},Xo=(e,t)=>{for(let o=e.length-1;o>=0;o--)if(t(e[o],o))return X.some(o);return X.none()},Jo=e=>{const t=[];for(let o=0,r=e.length;o<r;++o){if(!Qe(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Mo.apply(t,e[o])}return t},ko=(e,t)=>Jo(tt(e,t)),mr=(e,t)=>{for(let o=0,r=e.length;o<r;++o){const l=e[o];if(t(l,o)!==!0)return!1}return!0},Ho=e=>{const t=jo.call(e,0);return t.reverse(),t},os=(e,t)=>yt(e,o=>!Ne(t,o)),Vs=(e,t)=>{const o={};for(let r=0,l=e.length;r<l;r++){const h=e[r];o[String(h)]=t(h,r)}return o},Ss=(e,t)=>{const o=jo.call(e,0);return o.sort(t),o},Xs=(e,t)=>t>=0&&t<e.length?X.some(e[t]):X.none(),gs=e=>Xs(e,0),Wr=e=>Xs(e,e.length-1),Es=Oe(Array.from)?Array.from:e=>jo.call(e),$r=(e,t)=>{for(let o=0;o<e.length;o++){const r=t(e[o],o);if(r.isSome())return r}return X.none()},Ma=(e,t)=>{const o=[],r=Oe(t)?l=>Ge(o,h=>t(h,l)):l=>Ne(o,l);for(let l=0,h=e.length;l<h;l++){const v=e[l];r(v)||o.push(v)}return o},Hn=Object.keys,ts=Object.hasOwnProperty,Oo=(e,t)=>{const o=Hn(e);for(let r=0,l=o.length;r<l;r++){const h=o[r],v=e[h];t(v,h)}},ci=(e,t)=>Ba(e,(o,r)=>({k:r,v:t(o,r)})),Ba=(e,t)=>{const o={};return Oo(e,(r,l)=>{const h=t(r,l);o[h.k]=h.v}),o},Mn=e=>(t,o)=>{e[o]=t},Zt=(e,t,o,r)=>{Oo(e,(l,h)=>{(t(l,h)?o:r)(l,h)})},Gt=(e,t)=>{const o={},r={};return Zt(e,t,Mn(o),Mn(r)),{t:o,f:r}},Yn=(e,t)=>{const o={};return Zt(e,t,Mn(o),Pt),o},Gn=(e,t)=>{const o=[];return Oo(e,(r,l)=>{o.push(t(r,l))}),o},yo=e=>Gn(e,Qn),Ro=(e,t)=>Jn(e,t)?X.from(e[t]):X.none(),Jn=(e,t)=>ts.call(e,t),ls=(e,t)=>Jn(e,t)&&e[t]!==void 0&&e[t]!==null,La=(e,t,o=ne)=>Y(o).eq(e,t),hi={generate:e=>{if(!Qe(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],o={};return Be(e,(r,l)=>{const h=Hn(r);if(h.length!==1)throw new Error("one and only one name per case");const v=h[0],T=r[v];if(o[v]!==void 0)throw new Error("duplicate key detected:"+v);if(v==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Qe(T))throw new Error("case arguments must be an array");t.push(v),o[v]=(...k)=>{const B=k.length;if(B!==T.length)throw new Error("Wrong number of arguments to case "+v+". Expected "+T.length+" ("+T+"), got "+B);return{fold:(...G)=>{if(G.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+G.length);return G[l].apply(null,k)},match:G=>{const Q=Hn(G);if(t.length!==Q.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+Q.join(","));if(!mr(t,ke=>Ne(Q,ke)))throw new Error("Not all branches were specified when using match. Specified: "+Q.join(", ")+`
Required: `+t.join(", "));return G[v].apply(null,k)},log:G=>{console.log(G,{constructors:t,constructor:v,params:k})}}}}),o}},Pn=e=>{let t=e;return{get:()=>t,set:l=>{t=l}}},er=e=>{const t=h=>h(e),o=at(e),r=()=>l,l={tag:!0,inner:e,fold:(h,v)=>v(e),isValue:bt,isError:Ze,map:h=>Fe.value(h(e)),mapError:r,bind:t,exists:t,forall:t,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:h=>{h(e)},toOptional:()=>X.some(e)};return l},tr=e=>{const t=()=>o,o={tag:!1,inner:e,fold:(r,l)=>r(e),isValue:Ze,isError:bt,map:t,mapError:r=>Fe.error(r(e)),bind:t,exists:Ze,forall:bt,getOr:Qn,or:Qn,getOrThunk:je,orThunk:je,getOrDie:wt(String(e)),each:Pt,toOptional:X.none};return o},Fe={value:er,error:tr,fromOption:(e,t)=>e.fold(()=>tr(t),er)},ze=typeof window<"u"?window:Function("return this;")(),nt=()=>{const e=window.crypto.getRandomValues(new Uint8Array(16));return e[6]=e[6]&15|64,e[8]=e[8]&63|128,e},gn=()=>{const e=nt(),t=(o,r)=>{let l="";for(let h=o;h<=r;++h){const v=e[h].toString(16).padStart(2,"0");l+=v}return l};return`${t(0,3)}-${t(4,5)}-${t(6,7)}-${t(8,9)}-${t(10,15)}`},To=(e,t,o)=>Math.min(Math.max(e,t),o),co=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Zo=0;const us=e=>{const o=new Date().getTime(),r=Math.floor(co()*1e9);return Zo++,e+"_"+r+Zo+String(o)},Ao=()=>window.isSecureContext?window.crypto.randomUUID():gn(),Qs=(e,t)=>t,me=(e,t)=>en(e)&&en(t)?jt(e,t):t,He=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<t.length;r++){const l=t[r];for(const h in l)Jn(l,h)&&(o[h]=e(o[h],l[h]))}return o},jt=He(me),xn=He(Qs),qt=(e,t,o=cn)=>e.exists(r=>o(r,t)),xo=(e,t,o=cn)=>Bn(e,t,o).getOr(e.isNone()&&t.isNone()),oo=e=>{const t=[],o=r=>{t.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return t},Bn=(e,t,o)=>e.isSome()&&t.isSome()?X.some(o(e.getOrDie(),t.getOrDie())):X.none(),Uo=(e,t,o,r)=>e.isSome()&&t.isSome()&&o.isSome()?X.some(r(e.getOrDie(),t.getOrDie(),o.getOrDie())):X.none(),vs=e=>e.bind(Qn),Ts=(e,t)=>e?X.some(t):X.none(),As=(e,t)=>{let o=t??ze;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},sa=(e,t)=>{const o=e.split(".");return As(o,t)};hi.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Sa=e=>{const t=[],o=[];return Be(e,r=>{r.fold(l=>{t.push(l)},l=>{o.push(l)})}),{errors:t,values:o}},Qf=e=>{const t=Pn(X.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(X.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:T=>{o(),t.set(X.some(T))}}},Tr=e=>{const t=Pn(X.none()),o=()=>t.get().each(T=>clearInterval(T));return{clear:()=>{o(),t.set(X.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:T=>{o(),t.set(X.some(setInterval(T,e)))}}},Ps=()=>{const e=Qf(Pt);return{...e,on:o=>e.get().each(o)}},ir=(e,t)=>e.substring(t),Vi=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t,wi=(e,t)=>wo(e,t)?ir(e,t.length):e,Ir=(e,t,o=0,r)=>{const l=e.indexOf(t,o);return l!==-1?Tn(r)?!0:l+t.length<=r:!1},wo=(e,t)=>Vi(e,t,0),Ci=(e,t)=>Vi(e,t,e.length-t.length),ni=e=>t=>t.replace(e,""),Jr=ni(/^\s+|\s+$/g),Sf=ni(/^\s+/g),uc=ni(/\s+$/g),Hr=e=>e.length>0,wu=e=>!Hr(e),dc=(e,t)=>t<=0?"":new Array(t+1).join(e),Ef=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?X.none():X.some(o)},An=(e,t)=>{let o=null;return{cancel:()=>{ie(o)||(clearTimeout(o),o=null)},throttle:(...h)=>{ie(o)&&(o=setTimeout(()=>{o=null,e.apply(null,h)},t))}}},Cu=(e,t)=>{let o=null;const r=()=>{ie(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...h)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,h)},t)}}},Ri=e=>{let t=!1,o;return(...r)=>(t||(t=!0,o=e.apply(null,r)),o)},gi="\uFEFF",qr="",Gd="",Si=e=>e===gi,sl=e=>e.replace(/\uFEFF/g,""),Tf=e=>{const t={};return Be(e,o=>{t[o]={}}),Hn(t)},Jf=e=>e.length!==void 0,Su=Array.isArray,Kd=e=>{if(Su(e))return e;{const t=[];for(let o=0,r=e.length;o<r;o++)t[o]=e[o];return t}},Dl=(e,t,o)=>{if(!e)return!1;if(o=o||e,Jf(e)){for(let r=0,l=e.length;r<l;r++)if(t.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(Jn(e,r)&&t.call(o,e[r],r,e)===!1)return!1;return!0},Wc=(e,t)=>{const o=[];return Dl(e,(r,l)=>{o.push(t(r,l,e))}),o},qc=(e,t)=>{const o=[];return Dl(e,(r,l)=>{(!t||t(r,l,e))&&o.push(r)}),o},fn=(e,t)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===t)return o}return-1},Eu=(e,t,o,r)=>{let l=Tn(o)?e[0]:o;for(let h=0;h<e.length;h++)l=t.call(r,l,e[h],h);return l},bd=(e,t,o)=>{for(let r=0,l=e.length;r<l;r++)if(t.call(o,e[r],r,e))return r;return-1},jl=e=>e[e.length-1],rl=(e,t,o,r)=>{const l=e.isiOS()&&/ipad/i.test(o)===!0,h=e.isiOS()&&!l,v=e.isiOS()||e.isAndroid(),T=v||r("(pointer:coarse)"),k=l||!h&&v&&r("(min-device-width:768px)"),B=h||v&&!k,W=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,G=!B&&!k&&!W;return{isiPad:at(l),isiPhone:at(h),isTablet:at(k),isPhone:at(B),isTouch:at(T),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:at(W),isDesktop:at(G)}},ju=(e,t)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(t))return r}},ji=(e,t)=>{const o=ju(e,t);if(!o)return{major:0,minor:0};const r=l=>Number(t.replace(o,"$"+l));return fc(r(1),r(2))},oi=(e,t)=>{const o=String(t).toLowerCase();return e.length===0?_l():ji(e,o)},_l=()=>fc(0,0),fc=(e,t)=>({major:e,minor:t}),Ws={nu:fc,detect:oi,unknown:_l},Af=(e,t)=>$r(t.brands,o=>{const r=o.brand.toLowerCase();return sn(e,l=>r===l.brand?.toLowerCase()).map(l=>({current:l.name,version:Ws.nu(parseInt(o.version,10),0)}))}),te=(e,t)=>{const o=String(t).toLowerCase();return sn(e,r=>r.search(o))},be=(e,t)=>te(e,t).map(o=>{const r=Ws.detect(o.versionRegexes,t);return{current:o.name,version:r}}),Pe=(e,t)=>te(e,t).map(o=>{const r=Ws.detect(o.versionRegexes,t);return{current:o.name,version:r}}),Nt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,qn=e=>t=>Ir(t,e),ps=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Ir(e,"edge/")&&Ir(e,"chrome")&&Ir(e,"safari")&&Ir(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Nt],search:e=>Ir(e,"chrome")&&!Ir(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Ir(e,"msie")||Ir(e,"trident")},{name:"Opera",versionRegexes:[Nt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:qn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:qn("firefox")},{name:"Safari",versionRegexes:[Nt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Ir(e,"safari")||Ir(e,"mobile/"))&&Ir(e,"applewebkit")}],lr=[{name:"Windows",search:qn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Ir(e,"iphone")||Ir(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:qn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:qn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:qn("linux"),versionRegexes:[]},{name:"Solaris",search:qn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:qn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:qn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ja={browsers:at(ps),oses:at(lr)},Ei="Edge",Ol="Chromium",se="IE",Ae="Opera",Xe="Firefox",Et="Safari",pn=()=>Wn({current:void 0,version:Ws.unknown()}),Wn=e=>{const t=e.current,o=e.version,r=l=>()=>t===l;return{current:t,version:o,isEdge:r(Ei),isChromium:r(Ol),isIE:r(se),isOpera:r(Ae),isFirefox:r(Xe),isSafari:r(Et)}},Po={unknown:pn,nu:Wn},qs="Windows",_s="iOS",Ni="Android",Ea="Linux",Yd="macOS",Om="Solaris",kf="FreeBSD",Gc="ChromeOS",N0=()=>M0({current:void 0,version:Ws.unknown()}),M0=e=>{const t=e.current,o=e.version,r=l=>()=>t===l;return{current:t,version:o,isWindows:r(qs),isiOS:r(_s),isAndroid:r(Ni),isMacOS:r(Yd),isLinux:r(Ea),isSolaris:r(Om),isFreeBSD:r(kf),isChromeOS:r(Gc)}},pe={unknown:N0,nu:M0},dt={detect:(e,t,o)=>{const r=ja.browsers(),l=ja.oses(),h=t.bind(k=>Af(r,k)).orThunk(()=>be(r,e)).fold(Po.unknown,Po.nu),v=Pe(l,e).fold(pe.unknown,pe.nu),T=rl(v,h,e,o);return{browser:h,os:v,deviceType:T}}},Yt=e=>window.matchMedia(e).matches;let po=Ri(()=>dt.detect(window.navigator.userAgent,X.from(window.navigator.userAgentData),Yt));const bs=()=>po(),Ta=(e,t)=>sa(e,t),al=(e,t)=>{const o=Ta(e,t);if(o==null)throw new Error(e+" not available on this browser");return o},Ui=Object.getPrototypeOf,Ul=e=>al("HTMLElement",e),Xd=e=>{const t=sa("ownerDocument.defaultView",e);return vt(e)&&(Ul(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Ui(e).constructor.name))},Zl=window.navigator.userAgent,Rm=bs(),Wl=Rm.browser,il=Rm.os,Qd=Rm.deviceType,_c=Zl.indexOf("Windows Phone")!==-1,ds={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Wl.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Wl.isIE(),windowsPhone:_c,browser:{current:Wl.current,version:Wl.version,isChromium:Wl.isChromium,isEdge:Wl.isEdge,isFirefox:Wl.isFirefox,isIE:Wl.isIE,isOpera:Wl.isOpera,isSafari:Wl.isSafari},os:{current:il.current,version:il.version,isAndroid:il.isAndroid,isChromeOS:il.isChromeOS,isFreeBSD:il.isFreeBSD,isiOS:il.isiOS,isLinux:il.isLinux,isMacOS:il.isMacOS,isSolaris:il.isSolaris,isWindows:il.isWindows},deviceType:{isDesktop:Qd.isDesktop,isiPad:Qd.isiPad,isiPhone:Qd.isiPhone,isPhone:Qd.isPhone,isTablet:Qd.isTablet,isTouch:Qd.isTouch,isWebView:Qd.isWebView}},vh=/^\s*|\s*$/g,pp=e=>mn(e)?"":(""+e).replace(vh,""),Aa=(e,t)=>t?t==="array"&&Su(e)?!0:typeof e===t:e!==void 0,B0=(e,t,o={})=>{const r=J(e)?e.split(t||","):e||[];let l=r.length;for(;l--;)o[r[l]]={};return o},j1=Jn,U1=(e,...t)=>{for(let o=0;o<t.length;o++){const r=t[o];for(const l in r)if(Jn(r,l)){const h=r[l];h!==void 0&&(e[l]=h)}}return e},Z1=function(e,t,o,r){r=r||this,e&&(o&&(e=e[o]),Dl(e,(l,h)=>t.call(r,l,h,o)===!1?!1:(Z1(l,t,o,r),!0)))},an={trim:pp,isArray:Su,is:Aa,toArray:Kd,makeMap:B0,each:Dl,map:Wc,grep:qc,inArray:fn,hasOwn:j1,extend:U1,walk:Z1,resolve:(e,t=window)=>{const o=e.split(".");for(let r=0,l=o.length;r<l&&(t=t[o[r]],!!t);r++);return t},explode:(e,t)=>Qe(e)?e:e===""?[]:Wc(e.split(t||","),pp),_addCacheSuffix:e=>{const t=ds.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Kc=(e,t)=>{const r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,e),new Error(l)}return yg(r.childNodes[0])},bg=(e,t)=>{const r=(t||document).createElement(e);return yg(r)},yd=(e,t)=>{const r=(t||document).createTextNode(e);return yg(r)},yg=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},De={fromHtml:Kc,fromTag:bg,fromText:yd,fromDom:yg,fromPoint:(e,t,o)=>X.from(e.dom.elementFromPoint(t,o)).map(yg)},Yc=(e,t)=>{t.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},vl=(e,t)=>{t.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},xh=(e,t,o)=>{const r=e.document.createRange();return Yc(r,t),vl(r,o),r},wh=(e,t,o,r,l)=>{const h=e.document.createRange();return h.setStart(t.dom,o),h.setEnd(r.dom,l),h},Rl=hi.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Oc=(e,t,o)=>t(De.fromDom(o.startContainer),o.startOffset,De.fromDom(o.endContainer),o.endOffset),L0=(e,t)=>t.match({domRange:o=>({ltr:at(o),rtl:X.none}),relative:(o,r)=>({ltr:Ri(()=>xh(e,o,r)),rtl:Ri(()=>X.some(xh(e,r,o)))}),exact:(o,r,l,h)=>({ltr:Ri(()=>wh(e,o,r,l,h)),rtl:Ri(()=>X.some(wh(e,l,h,o,r)))})}),bp=(e,t)=>{const o=t.ltr();return o.collapsed?t.rtl().filter(l=>l.collapsed===!1).map(l=>Rl.rtl(De.fromDom(l.endContainer),l.endOffset,De.fromDom(l.startContainer),l.startOffset)).getOrThunk(()=>Oc(e,Rl.ltr,o)):Oc(e,Rl.ltr,o)},yp=(e,t)=>{const o=L0(e,t);return bp(e,o)};Rl.ltr,Rl.rtl;const xl=8,vp=9,Tu=11,Ch=1,P0=3,wl=(e,t)=>{const o=e.dom;if(o.nodeType!==Ch)return!1;{const r=o;if(r.matches!==void 0)return r.matches(t);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(t);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Nm=e=>e.nodeType!==Ch&&e.nodeType!==vp&&e.nodeType!==Tu||e.childElementCount===0,Uu=(e,t)=>{const o=t===void 0?document:t.dom;return Nm(o)?[]:tt(o.querySelectorAll(e),De.fromDom)},tm=(e,t)=>{const o=t===void 0?document:t.dom;return Nm(o)?X.none():X.from(o.querySelector(e)).map(De.fromDom)},ss=(e,t)=>e.dom===t.dom,mc=(e,t)=>{const o=e.dom,r=t.dom;return o===r?!1:o.contains(r)},Sh=wl,G1=(e,t)=>{const o=[],r=h=>(o.push(h),t(h));let l=t(e);do l=l.bind(r);while(l.isSome());return o},rs=e=>e.dom.nodeName.toLowerCase(),nm=e=>e.dom.nodeType,Ti=e=>t=>nm(t)===e,vd=e=>nm(e)===xl||rs(e)==="#comment",xd=e=>fa(e)&&Xd(e.dom),fa=Ti(Ch),xs=Ti(P0),F0=Ti(vp),wd=Ti(Tu),Pa=e=>t=>fa(t)&&rs(t)===e,Au=e=>De.fromDom(e.dom.ownerDocument),Xc=e=>F0(e)?e:Au(e),si=e=>De.fromDom(Xc(e).dom.documentElement),Zu=e=>De.fromDom(Xc(e).dom.defaultView),Zi=e=>X.from(e.dom.parentNode).map(De.fromDom),Qc=e=>X.from(e.dom.parentElement).map(De.fromDom),ll=(e,t)=>{const o=Oe(t)?t:Ze;let r=e.dom;const l=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const h=r.parentNode,v=De.fromDom(h);if(l.push(v),o(v)===!0)break;r=h}return l},Fs=e=>{const t=o=>yt(o,r=>!ss(e,r));return Zi(e).map(ma).map(t).getOr([])},Wu=e=>X.from(e.dom.previousSibling).map(De.fromDom),Za=e=>X.from(e.dom.nextSibling).map(De.fromDom),Wi=e=>Ho(G1(e,Wu)),Fa=e=>G1(e,Za),ma=e=>tt(e.dom.childNodes,De.fromDom),Jc=(e,t)=>{const o=e.dom.childNodes;return X.from(o[t]).map(De.fromDom)},ri=e=>Jc(e,0),ai=e=>Jc(e,e.dom.childNodes.length-1),om=e=>e.dom.childNodes.length,xp=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return De.fromDom(t)},wp=e=>wd(e)&&qe(e.dom.host),ra=e=>De.fromDom(e.dom.getRootNode()),Mm=e=>wp(e)?e:xp(Xc(e)),Eh=e=>wp(e)?e:De.fromDom(Xc(e).dom.body),Df=e=>{const t=ra(e);return wp(t)?X.some(t):X.none()},uo=e=>De.fromDom(e.dom.host),ku=e=>{if(qe(e.target)){const t=De.fromDom(e.target);if(fa(t)&&ea(t)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return gs(o)}}return X.from(e.target)},ea=e=>qe(e.dom.shadowRoot),ii=(e,t,o,r,l,h,v)=>({target:e,x:t,y:o,stop:r,prevent:l,kill:h,raw:v}),$a=e=>{const t=De.fromDom(ku(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),l=P(r,o);return ii(t,e.clientX,e.clientY,o,r,l,e)},cr=(e,t)=>o=>{e(o)&&t($a(o))},Rc=(e,t,o,r,l)=>{const h=cr(o,r);return e.dom.addEventListener(t,h,l),{unbind:ee(eu,e,t,h,l)}},Cp=(e,t,o,r)=>Rc(e,t,o,r,!1),eu=(e,t,o,r)=>{e.dom.removeEventListener(t,o,r)},qu=bt,vg=(e,t,o)=>Cp(e,t,qu,o),Cl=()=>De.fromDom(document),Ia=(e,t=!1)=>e.dom.focus({preventScroll:t}),Js=e=>{const t=ra(e).dom;return e.dom===t.activeElement},Nl=(e=Cl())=>X.from(e.dom.activeElement).map(De.fromDom),Du=e=>Nl(ra(e)).filter(t=>e.dom.contains(t.dom)),cl=(e,t)=>{Zi(e).each(r=>{r.dom.insertBefore(t.dom,e.dom)})},Sl=(e,t)=>{Za(e).fold(()=>{Zi(e).each(l=>{$s(l,t)})},r=>{cl(r,t)})},Jd=(e,t)=>{ri(e).fold(()=>{$s(e,t)},r=>{e.dom.insertBefore(t.dom,r.dom)})},$s=(e,t)=>{e.dom.appendChild(t.dom)},Ml=(e,t)=>{cl(e,t),$s(t,e)},Bm=(e,t)=>{Be(t,o=>{cl(e,o)})},Th=(e,t)=>{Be(t,(o,r)=>{const l=r===0?e:t[r-1];Sl(l,o)})},hc=(e,t)=>{Be(t,o=>{$s(e,o)})},Co=(e,t,o)=>{if(J(o)||it(o)||Yo(o))e.setAttribute(t,o+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},Or=(e,t,o)=>{Co(e.dom,t,o)},Wa=(e,t)=>{const o=e.dom;Oo(t,(r,l)=>{Co(o,l,r)})},yr=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?void 0:o},ul=(e,t)=>X.from(yr(e,t)),Gr=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):!1},li=(e,t)=>{e.dom.removeAttribute(t)},ef=e=>{const t=e.dom.attributes;return t==null||t.length===0},cs=e=>Le(e.dom.attributes,(t,o)=>(t[o.name]=o.value,t),{}),ql=e=>{e.dom.textContent="",Be(ma(e),t=>{ws(t)})},ws=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Gl=e=>{const t=ma(e);t.length>0&&Th(e,t),ws(e)},pi=(e,t)=>De.fromDom(e.dom.cloneNode(t)),Ai=e=>pi(e,!1),_f=e=>pi(e,!0),xg=(e,t)=>{const o=De.fromTag(t),r=cs(e);return Wa(o,r),o},qa=(e,t)=>{const o=xg(e,t);Sl(e,o);const r=ma(e);return hc(o,r),ws(e),o},Of=(e,t)=>{const r=(t||document).createElement("div");return r.innerHTML=e,ma(De.fromDom(r))},Cd=e=>tt(e,De.fromDom),Mi=e=>e.dom.innerHTML,tf=(e,t)=>{const r=Au(e).dom,l=De.fromDom(r.createDocumentFragment()),h=Of(t,r);hc(l,h),ql(e),$s(e,l)},wg=e=>{const t=De.fromTag("div"),o=De.fromDom(e.dom.cloneNode(!0));return $s(t,o),Mi(t)},Gu=e=>e.style!==void 0&&Oe(e.style.getPropertyValue),hr=e=>{const t=xs(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const o=t.ownerDocument;return Df(De.fromDom(t)).fold(()=>o.body.contains(t),Vt(hr,uo))},$0=(e,t,o)=>{if(!J(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Gu(e)&&e.style.setProperty(t,o)},Cg=(e,t)=>{Gu(e)&&e.style.removeProperty(t)},Bl=(e,t,o)=>{const r=e.dom;$0(r,t,o)},dl=(e,t)=>{const o=e.dom;Oo(t,(r,l)=>{$0(o,l,r)})},ka=(e,t)=>{const o=e.dom,l=window.getComputedStyle(o).getPropertyValue(t);return l===""&&!hr(e)?Sd(o,t):l},Sd=(e,t)=>Gu(e)?e.style.getPropertyValue(t):"",ui=(e,t)=>{const o=e.dom,r=Sd(o,t);return X.from(r).filter(l=>l.length>0)},nf=e=>{const t={},o=e.dom;if(Gu(o))for(let r=0;r<o.style.length;r++){const l=o.style.item(r);t[l]=o.style[l]}return t},Sg=(e,t)=>{const o=e.dom;Cg(o,t),qt(ul(e,"style").map(Jr),"")&&li(e,"style")},Eg=e=>e.dom.offsetWidth,Ed=((e,t)=>{const o=(T,k)=>{if(!Yo(k)&&!k.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+k);const B=T.dom;Gu(B)&&(B.style[e]=k+"px")},r=T=>{const k=t(T);if(k<=0||k===null){const B=ka(T,e);return parseFloat(B)||0}return k},l=r,h=(T,k)=>Le(k,(B,W)=>{const G=ka(T,W),Q=G===void 0?0:parseInt(G,10);return isNaN(Q)?B:B+Q},0);return{set:o,get:r,getOuter:l,aggregate:h,max:(T,k,B)=>{const W=h(T,B);return k>W?k-W:0}}})("height",e=>{const t=e.dom;return hr(e)?t.getBoundingClientRect().height:t.offsetHeight}),dy=e=>Ed.get(e),sm=(e,t)=>({left:e,top:t,translate:(r,l)=>sm(e+r,t+l)}),gc=sm,Y1=e=>{const t=e.getBoundingClientRect();return gc(t.left,t.top)},Ah=(e,t)=>e!==void 0?e:t!==void 0?t:0,Rf=e=>{const t=e.dom.ownerDocument,o=t.body,r=t.defaultView,l=t.documentElement;if(o===e.dom)return gc(o.offsetLeft,o.offsetTop);const h=Ah(r?.pageYOffset,l.scrollTop),v=Ah(r?.pageXOffset,l.scrollLeft),T=Ah(l.clientTop,o.clientTop),k=Ah(l.clientLeft,o.clientLeft);return rm(e).translate(v-k,h-T)},rm=e=>{const t=e.dom,r=t.ownerDocument.body;return r===t?gc(r.offsetLeft,r.offsetTop):hr(e)?Y1(t):gc(0,0)},Tg=e=>{const t=e!==void 0?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return gc(o,r)},Ag=(e,t,o)=>{const l=(o!==void 0?o.dom:document).defaultView;l&&l.scrollTo(e,t)},tu=(e,t)=>{bs().browser.isSafari()&&Oe(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},fy=(e,t)=>{const o=h=>{if(!e(h))throw new Error("Can only get "+t+" value of a "+t+" node");return r(h).getOr("")},r=h=>e(h)?X.from(h.dom.nodeValue):X.none();return{get:o,getOption:r,set:(h,v)=>{if(!e(h))throw new Error("Can only set raw "+t+" value of a "+t+" node");h.dom.nodeValue=v}}},_u=(e,t)=>{const r=document.createDocumentFragment();return Be(e,l=>{r.appendChild(l.dom)}),De.fromDom(r)},ur=fy(xs,"text"),bi=e=>ur.get(e),Td=e=>ur.getOption(e),Sp=(e,t)=>ur.set(e,t),nu=(e,t)=>{const o=yr(e,t);return o===void 0||o===""?[]:o.split(" ")},Nf=(e,t,o)=>{const l=nu(e,t).concat([o]);return Or(e,t,l.join(" ")),!0},kg=(e,t,o)=>{const r=yt(nu(e,t),l=>l!==o);return r.length>0?Or(e,t,r.join(" ")):li(e,t),!1};var Ad=(e,t,o,r,l)=>e(o,r)?X.some(o):Oe(l)&&l(o)?X.none():t(o,r,l);const kd=(e,t,o)=>{let r=e.dom;const l=Oe(o)?o:Ze;for(;r.parentNode;){r=r.parentNode;const h=De.fromDom(r);if(t(h))return X.some(h);if(l(h))break}return X.none()},nr=(e,t,o)=>Ad((l,h)=>h(l),kd,e,t,o),Dg=(e,t)=>{const o=e.dom;return o.parentNode?ha(De.fromDom(o.parentNode),r=>!ss(e,r)&&t(r)):X.none()},ha=(e,t)=>{const o=l=>t(De.fromDom(l));return sn(e.dom.childNodes,o).map(De.fromDom)},kh=(e,t)=>{const o=r=>{for(let l=0;l<r.childNodes.length;l++){const h=De.fromDom(r.childNodes[l]);if(t(h))return X.some(h);const v=o(r.childNodes[l]);if(v.isSome())return v}return X.none()};return o(e.dom)},Da=(e,t,o)=>kd(e,r=>wl(r,t),o),Ku=(e,t)=>tm(t,e),El=(e,t,o)=>Ad((l,h)=>wl(l,h),Da,e,t,o),of=e=>e.dom.classList!==void 0,_g=e=>nu(e,"class"),ou=(e,t)=>Nf(e,"class",t),Ou=(e,t)=>kg(e,"class",t),Lm=(e,t)=>Ne(_g(e),t)?Ou(e,t):ou(e,t),pc=(e,t)=>{of(e)?e.dom.classList.add(t):ou(e,t)},Dd=e=>{(of(e)?e.dom.classList:_g(e)).length===0&&li(e,"class")},aa=(e,t)=>{of(e)?e.dom.classList.remove(t):Ou(e,t),Dd(e)},ta=(e,t)=>{const o=of(e)?e.dom.classList.toggle(t):Lm(e,t);return Dd(e),o},ki=(e,t)=>of(e)&&e.dom.classList.contains(t),Pm=(e,t)=>{Be(t,o=>{pc(e,o)})},_d=(e,t)=>{Be(t,o=>{aa(e,o)})},or=e=>El(e,"[contenteditable]"),Cr=(e,t=!1)=>hr(e)?e.dom.isContentEditable:or(e).fold(at(t),o=>Ll(o)==="true"),Ll=e=>e.dom.contentEditable,L=(e,t)=>{e.dom.contentEditable=t?"true":"false"},z=(e,t,o)=>yt(ll(e,o),t),ae=(e,t)=>yt(ma(e),t),xe=(e,t)=>{let o=[];return Be(ma(e),r=>{t(r)&&(o=o.concat([r])),o=o.concat(xe(r,t))}),o},We=(e,t,o)=>z(e,r=>wl(r,t),o),kt=(e,t)=>Uu(t,e),wn=(e,t,o)=>kd(e,t,o).isSome(),_n=(e,t)=>Dg(e,t).isSome(),Fo=(e,t)=>kh(e,t).isSome(),as=(e,t)=>wn(e,ee(ss,t)),Br=(e,t,o)=>Da(e,t,o).isSome(),ia=(e,t,o)=>El(e,t,o).isSome(),yi=e=>Oe(e)?e:Ze,Nc=(e,t,o)=>{let r=e.dom;const l=yi(o);for(;r.parentNode;){r=r.parentNode;const h=De.fromDom(r),v=t(h);if(v.isSome())return v;if(l(h))break}return X.none()},Yu=(e,t,o)=>{const r=t(e),l=yi(o);return r.orThunk(()=>l(e)?X.none():Nc(e,t,l))},sf=e=>Td(e).filter(t=>t.trim().length!==0||t.indexOf(qr)>-1).isSome(),di=e=>xd(e)&&yr(e,"contenteditable")==="false",Bi=["img","br"],am=e=>sf(e)||Ne(Bi,rs(e))||di(e),im=e=>kh(e,am),Dh={create:(e,t,o,r)=>({start:e,soffset:t,finish:o,foffset:r})},Ru=hi.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),_h=(e,t,o,r)=>e.fold(t,o,r),X1=e=>e.fold(Qn,Qn,Qn),Q1=Ru.before,Is=Ru.on,Ha=Ru.after,Ga={before:Q1,on:Is,after:Ha,cata:_h,getStart:X1},Pl=hi.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ep=e=>Pl.exact(e.start,e.soffset,e.finish,e.foffset),Og=e=>e.match({domRange:t=>De.fromDom(t.startContainer),relative:(t,o)=>Ga.getStart(t),exact:(t,o,r,l)=>t}),Rg=Pl.domRange,Tp=Pl.relative,Cx=Pl.exact,$m=e=>{const t=Og(e);return Zu(t)},I0=Dh.create,Oh={domRange:Rg,relative:Tp,exact:Cx,exactFromRange:Ep,getWin:$m,range:I0},Rv=(e,t,o)=>X.from(e.caretPositionFromPoint?.(t,o)).bind(r=>{if(r.offsetNode===null)return X.none();const l=e.createRange();return l.setStart(r.offsetNode,r.offset),l.collapse(),X.some(l)}),Li=(e,t,o)=>X.from(e.caretRangeFromPoint?.(t,o)),Di=(e,t,o)=>e.caretPositionFromPoint?Rv(e,t,o):e.caretRangeFromPoint?Li(e,t,o):X.none(),Rh=(e,t,o)=>{const r=e.document;return Di(r,t,o).map(l=>Dh.create(De.fromDom(l.startContainer),l.startOffset,De.fromDom(l.endContainer),l.endOffset))},Im=(e,t)=>{const o=rs(e);return o==="input"?Ga.after(e):Ne(["br","img"],o)?t===0?Ga.before(e):Ga.after(e):Ga.on(e,t)},my=(e,t)=>{const o=e.fold(Ga.before,Im,Ga.after),r=t.fold(Ga.before,Im,Ga.after);return Oh.relative(o,r)},bc=(e,t,o,r)=>{const l=Im(e,t),h=Im(o,r);return Oh.relative(l,h)},hy=e=>e.match({domRange:t=>{const o=De.fromDom(t.startContainer),r=De.fromDom(t.endContainer);return bc(o,t.startOffset,r,t.endOffset)},relative:my,exact:bc}),rf=e=>{const t=Oh.getWin(e).dom,o=(l,h,v,T)=>wh(t,l,h,v,T),r=hy(e);return yp(t,r).match({ltr:o,rtl:o})},J1=(e,t,o)=>Rh(e,t,o),su=e=>{const t=e===void 0?window:e;return bs().browser.isFirefox()?X.none():X.from(t.visualViewport)},H0=(e,t,o,r)=>({x:e,y:t,width:o,height:r,right:e+o,bottom:t+r}),Nu=e=>{const t=e===void 0?window:e,o=t.document,r=Tg(De.fromDom(o));return su(t).fold(()=>{const l=t.document.documentElement,h=l.clientWidth,v=l.clientHeight;return H0(r.left,r.top,h,v)},l=>H0(Math.max(l.pageLeft,r.left),Math.max(l.pageTop,r.top),l.width,l.height))};class Ka{rootNode;node;constructor(t,o){this.node=t,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,o,r,l){if(t){if(!l&&t[o])return t[o];if(t!==this.rootNode){let h=t[r];if(h)return h;for(let v=t.parentNode;v&&v!==this.rootNode;v=v.parentNode)if(h=v[r],h)return h}}}findPreviousNode(t,o){if(t){const r=t.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let h=r.lastChild;h;h=h.lastChild)if(!h.lastChild)return h}return r}const l=t.parentNode;if(l&&l!==this.rootNode)return l}}}const gy=/^[ \t\r\n]*$/,Ap=e=>gy.test(e),Nv=e=>{for(const t of e)if(!Si(t))return!1;return!0},py=e=>" \f	\v".indexOf(e)!==-1,Mv=e=>e===`
`||e==="\r",Bv=(e,t)=>t<e.length&&t>=0?Mv(e[t]):!1,z0=(e,t=4,o=!0,r=!0)=>{const l=dc(" ",t),h=e.replace(/\t/g,l);return Le(h,(T,k)=>py(k)||k===qr?T.pcIsSpace||T.str===""&&o||T.str.length===h.length-1&&r||Bv(h,T.str.length+1)?{pcIsSpace:!1,str:T.str+qr}:{pcIsSpace:!0,str:T.str+" "}:{pcIsSpace:Mv(k),str:T.str+k},{pcIsSpace:!1,str:""}).str},kp=e=>t=>!!t&&t.nodeType===e,eb=e=>!!e&&!Object.getPrototypeOf(e),Cn=kp(1),ru=e=>Cn(e)&&xd(De.fromDom(e)),Sx=e=>Cn(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",au=e=>{const t=e.toLowerCase();return o=>qe(o)&&o.nodeName.toLowerCase()===t},Xu=e=>{const t=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return Ne(t,r)}return!1}},tb=(e,t)=>{const o=t.toLowerCase().split(" ");return r=>{if(Cn(r)){const l=r.ownerDocument.defaultView;if(l)for(let h=0;h<o.length;h++){const v=l.getComputedStyle(r,null);if((v?v.getPropertyValue(e):null)===o[h])return!0}}return!1}},Ex=e=>t=>Cn(t)&&t.hasAttribute(e),Hm=e=>Cn(e)&&e.hasAttribute("data-mce-bogus"),Tx=e=>Cn(e)&&e.getAttribute("data-mce-bogus")==="all",iu=e=>Cn(e)&&e.tagName==="TABLE",Ax=e=>t=>!!(ru(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),af=Xu(["textarea","input"]),dn=kp(3),Dp=kp(4),Pi=kp(7),ns=kp(8),zm=kp(9),_p=kp(11),la=au("br"),Od=au("img"),Op=au("a"),Mu=Ax("true"),na=Ax("false"),lm=e=>ru(e)&&e.isContentEditable&&qe(e.parentElement)&&!e.parentElement.isContentEditable,Rp=Xu(["td","th"]),by=Xu(["td","th","caption"]),Nh=au("template"),Rd=Xu(["video","audio","object","embed"]),V0=au("li"),j0=au("details"),yy=au("summary"),vy="uc-video",Np=e=>e.nodeName.toLowerCase()===vy,xy={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},nb=(e,t,o)=>{const r=De.fromDom(t),l=De.fromDom(e),h=o.getWhitespaceElements();return wn(l,T=>Jn(h,rs(T)),ee(ss,r))},IC=e=>Cn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Lv=(e,t)=>Cn(e)&&Jn(t.getNonEmptyElements(),e.nodeName),Tl=Ex("data-mce-bookmark"),lu=e=>Qc(De.fromDom(e)).exists(t=>!Cr(t)),U0=(e,t,o)=>Ap(e.data)&&!nb(e,t,o),HC=(e,t,o,r)=>dn(e)&&!U0(e,t,o)&&(!r.includeZwsp||!Nv(e.data)),Bu=(e,t,o,r)=>Oe(r.isContent)&&r.isContent(t)||Lv(t,e)||Tl(t)||IC(t)||HC(t,o,e,r)||na(t)||Mu(t)&&lu(t),fo=(e,t,o)=>{const r={...xy,...o};if(r.checkRootAsContent&&Bu(e,t,t,r))return!1;let l=t.firstChild,h=0;if(!l)return!0;const v=new Ka(l,t);do{if(r.skipBogus&&Cn(l)){const T=l.getAttribute("data-mce-bogus");if(T){l=v.next(T==="all");continue}}if(ns(l)){l=v.next(!0);continue}if(la(l)){h++,l=v.next();continue}if(Bu(e,l,t,r))return!1;l=v.next()}while(l);return h<=1},_a=(e,t,o)=>fo(e,t.dom,{checkRootAsContent:!0,...o}),Mp=(e,t,o)=>Bu(e,t,t,{includeZwsp:xy.includeZwsp,...o}),ob=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},Ng=e=>ob(e)!=="html",Z0=e=>Ng(e.nodeName),W0=e=>ob(e.nodeName),Mh=["svg","math"],Pv=()=>{const e=Ps(),t=()=>e.get().map(W0).getOr("html");return{track:l=>(Z0(l)?e.set(l):e.get().exists(h=>!h.contains(l))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},cm="data-mce-block",Fv=e=>yt(Hn(e),t=>!/[A-Z]/.test(t)),sb=e=>tt(Fv(e),t=>{const o=CSS.escape(t);return`${o}:`+tt(Mh,r=>`not(${r} ${o})`).join(":")}).join(","),ga=(e,t)=>qe(t.querySelector(e))?(t.setAttribute(cm,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(cm),!1),Qu=(e,t)=>{const o=sb(e.getTransparentElements()),r=sb(e.getBlockElements());return yt(t.querySelectorAll(o),l=>ga(r,l))},Mc=(e,t,o)=>{const r=o?"lastChild":"firstChild";for(let l=t[r];l;l=l[r])if(fo(e,l,{checkRootAsContent:!0})){l.parentNode?.removeChild(l);return}},Mg=(e,t,o)=>{const r=document.createRange(),l=t.parentNode;if(l){r.setStartBefore(t),r.setEndBefore(o);const h=r.extractContents();Mc(e,h,!0),r.setStartAfter(o),r.setEndAfter(t);const v=r.extractContents();Mc(e,v,!1),fo(e,h,{checkRootAsContent:!0})||l.insertBefore(h,t),fo(e,o,{checkRootAsContent:!0})||l.insertBefore(o,t),fo(e,v,{checkRootAsContent:!0})||l.insertBefore(v,t),l.removeChild(t)}},Kl=(e,t,o)=>{const r=e.getBlockElements(),l=De.fromDom(t),h=T=>rs(T)in r,v=T=>ss(T,l);Be(Cd(o),T=>{kd(T,h,v).each(k=>{const B=ae(T,W=>h(W)&&!e.isValidChild(rs(k),rs(W)));if(B.length>0){const W=Qc(k);Be(B,G=>{kd(G,h,v).each(Q=>{Mg(e,Q.dom,G.dom)})}),W.each(G=>Qu(e,G.dom))}})})},Bh=(e,t,o)=>{Be([...o,...Ya(e,t)?[t]:[]],r=>Be(kt(De.fromDom(r),r.nodeName.toLowerCase()),l=>{Yl(e,l.dom)&&Gl(l)}))},fl=(e,t)=>{const o=Qu(e,t);Kl(e,t,o),Bh(e,t,o)},yc=(e,t)=>{if(ab(e,t)){const o=sb(e.getBlockElements());ga(o,t)}},rb=(e,t,o)=>{const r=h=>ss(h,De.fromDom(t)),l=ll(De.fromDom(o),r);Xs(l,l.length-2).filter(fa).fold(()=>fl(e,t),h=>fl(e,h.dom))},Wt=e=>e.hasAttribute(cm),Bc=(e,t)=>Jn(e.getTransparentElements(),t),ab=(e,t)=>Cn(t)&&Bc(e,t.nodeName),Ya=(e,t)=>ab(e,t)&&Wt(t),Yl=(e,t)=>ab(e,t)&&!Wt(t),cu=(e,t)=>t.type===1&&Bc(e,t.name)&&J(t.attr(cm)),kx=bs().browser,lf=e=>sn(e,fa),q0=e=>kx.isFirefox()&&rs(e)==="table"?lf(ma(e)).filter(t=>rs(t)==="caption").bind(t=>lf(Fa(t)).map(o=>{const r=o.dom.offsetTop,l=t.dom.offsetTop,h=t.dom.offsetHeight;return r<=l?-h:0})).getOr(0):0,Ar=(e,t)=>e.children&&Ne(e.children,t),vr=(e,t,o)=>{let r=0,l=0;const h=e.ownerDocument;if(o=o||e,t){if(o===e&&t.getBoundingClientRect&&ka(De.fromDom(e),"position")==="static"){const T=t.getBoundingClientRect();return r=T.left+(h.documentElement.scrollLeft||e.scrollLeft)-h.documentElement.clientLeft,l=T.top+(h.documentElement.scrollTop||e.scrollTop)-h.documentElement.clientTop,{x:r,y:l}}let v=t;for(;v&&v!==o&&v.nodeType&&!Ar(v,o);){const T=v;r+=T.offsetLeft||0,l+=T.offsetTop||0,v=T.offsetParent}for(v=t.parentNode;v&&v!==o&&v.nodeType&&!Ar(v,o);)r-=v.scrollLeft||0,l-=v.scrollTop||0,v=v.parentNode;l+=q0(De.fromDom(t))}return{x:r,y:l}},um=(e,t)=>{const o=t.crossOrigin;return t.contentCssCors?"anonymous":Oe(o)?o(e):void 0},Bp=(e,t={})=>{let o=0;const r={},l=De.fromDom(e),h=Xc(l),v=rt=>{t.referrerPolicy=rt},T=rt=>{t.contentCssCors=rt},k=rt=>{t.crossOrigin=rt},B=rt=>{$s(Mm(l),rt)},W=rt=>{const ut=Mm(l);Ku(ut,"#"+rt).each(ws)},G=rt=>Ro(r,rt).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),Q=rt=>new Promise((ut,Ft)=>{let Jt;const Rn=an._addCacheSuffix(rt),io=G(Rn);r[Rn]=io,io.count++;const Lt=(Lo,Zs)=>{Be(Lo,Bt),io.status=Zs,io.passed=[],io.failed=[],Jt&&(Jt.onload=null,Jt.onerror=null,Jt=null)},Ct=()=>Lt(io.passed,2),$t=()=>Lt(io.failed,3);if(ut&&io.passed.push(ut),Ft&&io.failed.push(Ft),io.status===1)return;if(io.status===2){Ct();return}if(io.status===3){$t();return}io.status=1;const On=De.fromTag("link",h.dom);Wa(On,{rel:"stylesheet",type:"text/css",id:io.id});const Bo=um(rt,t);Bo!==void 0&&Or(On,"crossOrigin",Bo),t.referrerPolicy&&Or(On,"referrerpolicy",t.referrerPolicy),Jt=On.dom,Jt.onload=Ct,Jt.onerror=$t,B(On),Or(On,"href",Rn)}),ce=(rt,ut)=>{const Ft=G(rt);r[rt]=Ft,Ft.count++;const Jt=De.fromTag("style",h.dom);Wa(Jt,{rel:"stylesheet",type:"text/css",id:Ft.id,"data-mce-key":rt}),Jt.dom.innerHTML=ut,B(Jt)},ke=rt=>Promise.allSettled(tt(rt,Ft=>Q(Ft).then(at(Ft)))).then(Ft=>{const Jt=Rt(Ft,Rn=>Rn.status==="fulfilled");return Jt.fail.length>0?Promise.reject(tt(Jt.fail,Rn=>Rn.reason)):tt(Jt.pass,Rn=>Rn.value)}),ge=rt=>{const ut=an._addCacheSuffix(rt);Ro(r,ut).each(Ft=>{--Ft.count===0&&(delete r[ut],W(Ft.id))})};return{load:Q,loadRawCss:ce,loadAll:ke,unload:ge,unloadRawCss:rt=>{Ro(r,rt).each(ut=>{--ut.count===0&&(delete r[rt],W(ut.id))})},unloadAll:rt=>{Be(rt,ut=>{ge(ut)})},_setReferrerPolicy:v,_setContentCssCors:T,_setCrossOrigin:k}},Vm=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const h=ra(o).dom;return X.from(e.get(h)).getOrThunk(()=>{const v=Bp(h,r);return e.set(h,v),v})}}})(),wy=e=>e.nodeName.toLowerCase()==="span",cf=(e,t)=>qe(e)&&(Mp(t,e)||t.isInline(e.nodeName.toLowerCase())),Bg=(e,t,o)=>{const r=new Ka(e,t).prev(!1),l=new Ka(e,t).next(!1),h=Tn(r)||cf(r,o),v=Tn(l)||cf(l,o);return h&&v},Fi=e=>wy(e)&&e.getAttribute("data-mce-type")==="bookmark",Dx=(e,t,o)=>dn(e)&&e.data.length>0&&Bg(e,t,o),ht=e=>Cn(e)?e.childNodes.length>0:!1,Ju=e=>_p(e)||zm(e),Lp=(e,t,o,r)=>{const l=r||t;if(Cn(t)&&Fi(t))return t;const h=t.childNodes;for(let v=h.length-1;v>=0;v--)Lp(e,h[v],o,l);if(Cn(t)){const v=t.childNodes;v.length===1&&Fi(v[0])&&t.parentNode?.insertBefore(v[0],t)}return!Ju(t)&&!Mp(o,t)&&!ht(t)&&!Dx(t,l,o)&&e.remove(t),t},Oa=an.makeMap,Xl=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qi=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dr=/[<>&\"\']/g,Fl=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,jm={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},Lh={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},ml={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},ib=e=>{const t=De.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Cy=(e,t)=>{const o={};if(e){const r=e.split(",");t=t||10;for(let l=0;l<r.length;l+=2){const h=String.fromCharCode(parseInt(r[l],t));if(!Lh[h]){const v="&"+r[l+1]+";";o[h]=v,o[v]=h}}return o}else return},Sy=Cy("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),za=(e,t)=>e.replace(t?Xl:qi,o=>Lh[o]||o),vc=e=>(""+e).replace(dr,t=>Lh[t]||t),Um=(e,t)=>e.replace(t?Xl:qi,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Lh[o]||"&#"+o.charCodeAt(0)+";"),Ey=(e,t,o)=>{const r=o||Sy;return e.replace(t?Xl:qi,l=>Lh[l]||r[l]||l)},ed={encodeRaw:za,encodeAllRaw:vc,encodeNumeric:Um,encodeNamed:Ey,getEncodeFunc:(e,t)=>{const o=Cy(t)||Sy,r=(v,T)=>v.replace(T?Xl:qi,k=>Lh[k]!==void 0?Lh[k]:o[k]!==void 0?o[k]:k.length>1?"&#"+((k.charCodeAt(0)-55296)*1024+(k.charCodeAt(1)-56320)+65536)+";":"&#"+k.charCodeAt(0)+";"),l=(v,T)=>Ey(v,T,o),h=Oa(e.replace(/\+/g,","));return h.named&&h.numeric?r:h.named?t?l:Ey:h.numeric?Um:za},decode:e=>e.replace(Fl,(t,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):jm[o]||String.fromCharCode(o)):ml[t]||Sy[t]||ib(t))},Xa=(e,t)=>(e=an.trim(e),e?e.split(t||" "):[]),$l=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),td=e=>vt(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",uu=e=>{const t=o=>Qe(o)?tt(o,t):td(o)?new RegExp(o.source,o.flags):vt(o)?ci(o,t):o;return t(e)},xc=e=>{const t=/^(~)?(.+)$/;return ko(Xa(e,","),o=>{const r=t.exec(o);if(r){const h=r[1]==="~"?"span":"div",v=r[2];return[{cloneName:h,name:v}]}else return[]})},$i=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Mf=e=>{let t,o;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress template time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const r=[t,o].join(" ");return{blockContent:t,phrasingContent:o,flowContent:r}},Jl=e=>{const{blockContent:t,phrasingContent:o,flowContent:r}=Mf(e),l=h=>Object.freeze(h.split(" "));return Object.freeze({blockContent:l(t),phrasingContent:l(o),flowContent:l(r)})},ec={html4:Ri(()=>Jl("html4")),html5:Ri(()=>Jl("html5")),"html5-strict":Ri(()=>Jl("html5-strict"))},lb=(e,t)=>{const{blockContent:o,phrasingContent:r,flowContent:l}=ec[e]();return t==="blocks"?X.some(o):t==="phrasing"?X.some(r):t==="flow"?X.some(l):X.none()},Gi=e=>{const t=$i(e),{phrasingContent:o,flowContent:r}=Mf(e),l={},h=(k,B,W)=>{l[k]={attributes:Vs(B,at({})),attributesOrder:B,children:Vs(W,at({}))}},v=(k,B="",W="")=>{const G=Xa(W),Q=Xa(k);let ce=Q.length;const ke=[...t,...Xa(B)];for(;ce--;)h(Q[ce],ke.slice(),G)},T=(k,B)=>{const W=Xa(k),G=Xa(B);let Q=W.length;for(;Q--;){const ce=l[W[Q]];for(let ke=0,ge=G.length;ke<ge;ke++)ce.attributes[G[ke]]={},ce.attributesOrder.push(G[ke])}};return e!=="html5-strict"&&(Be(Xa("acronym applet basefont big font strike tt"),W=>{v(W,"",o)}),Be(Xa("center dir isindex noframes"),W=>{v(W,"",r)})),v("html","manifest","head body"),v("head","","base command link meta noscript script style title"),v("title hr noscript br"),v("base","href target"),v("link","href rel media hreflang type sizes hreflang"),v("meta","name http-equiv content charset property"),v("style","media type scoped"),v("script","src async defer type charset"),v("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),v("dd div","",r),v("address dt caption","",e==="html4"?o:r),v("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),v("blockquote","cite",r),v("ol","reversed start type","li"),v("ul","","li"),v("li","value",r),v("dl","","dt dd"),v("a","href target rel media hreflang type",e==="html4"?o:r),v("q","cite",o),v("ins del","cite datetime",r),v("img","src sizes srcset alt usemap ismap width height"),v("iframe","src name width height",r),v("embed","src type width height"),v("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),v("param","name value"),v("map","name",[r,"area"].join(" ")),v("area","alt coords shape href target rel media hreflang type"),v("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),v("colgroup","span","col"),v("col","span"),v("tbody thead tfoot","","tr"),v("tr","","td th"),v("td","colspan rowspan headers",r),v("th","colspan rowspan headers scope abbr",r),v("form","accept-charset action autocomplete enctype method name novalidate target",r),v("fieldset","disabled form name",[r,"legend"].join(" ")),v("label","form for",o),v("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),v("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:o),v("select","disabled form multiple name required size","option optgroup"),v("optgroup","disabled label","option"),v("option","disabled label selected value"),v("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),v("menu","type label",[r,"li"].join(" ")),v("noscript","",r),e!=="html4"&&(v("wbr"),v("ruby","",[o,"rt rp"].join(" ")),v("figcaption","",r),v("mark rt rp bdi","",o),v("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),v("canvas","width height",r),v("data","value",o),v("video","src crossorigin poster preload autoplay mediagroup loop controlslist disablepictureinpicture disableremoteplayback playsinline muted controls width height buffered",[r,"track source"].join(" ")),v("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),v("picture","","img source"),v("source","src srcset type media sizes"),v("track","kind src srclang label default"),v("datalist","",[o,"option"].join(" ")),v("article section nav aside main header footer","",r),v("hgroup","","h1 h2 h3 h4 h5 h6"),v("figure","",[r,"figcaption"].join(" ")),v("time","datetime",o),v("dialog","open",r),v("command","type label icon disabled checked radiogroup command"),v("output","for form name",o),v("progress","value max",o),v("meter","value min max low high optimum",o),v("details","open",[r,"summary"].join(" ")),v("keygen","autofocus challenge disabled form keytype name"),h("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(T("script","language xml:space"),T("style","xml:space"),T("object","declare classid code codebase codetype archive standby align border hspace vspace"),T("embed","align name hspace vspace"),T("param","valuetype type"),T("a","charset name rev shape coords"),T("br","clear"),T("applet","codebase archive code object alt name width height align hspace vspace"),T("img","name longdesc align border hspace vspace"),T("iframe","longdesc frameborder marginwidth marginheight scrolling align"),T("font basefont","size color face"),T("input","usemap align"),T("select"),T("textarea"),T("h1 h2 h3 h4 h5 h6 div p legend caption","align"),T("ul","type compact"),T("li","type"),T("ol dl menu dir","compact"),T("pre","width xml:space"),T("hr","align noshade size width"),T("isindex","prompt"),T("table","summary width frame rules cellspacing cellpadding align bgcolor"),T("col","width align char charoff valign"),T("colgroup","width align char charoff valign"),T("thead","align char charoff valign"),T("tr","align char charoff valign bgcolor"),T("th","axis align char charoff valign nowrap bgcolor width height"),T("form","accept"),T("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),T("tfoot","align char charoff valign"),T("tbody","align char charoff valign"),T("area","nohref"),T("body","background bgcolor text link vlink alink")),e!=="html4"&&(T("input button select textarea","autofocus"),T("input textarea","placeholder"),T("a","download"),T("link script img","crossorigin"),T("img","loading"),T("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&Be([l.video,l.audio],k=>{delete k.children.audio,delete k.children.video}),Be(Xa("a form meter progress dfn"),k=>{l[k]&&delete l[k].children[k]}),delete l.caption.children.table,delete l.script,l},Lu=e=>e==="-"?"remove":"add",Bf=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return X.from(t.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},Lf=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return ko(Xa(e,","),o=>{const r=t.exec(o);if(r){const l=r[1],h=l?Lu(l):"replace",v=r[2],T=ko(Xa(r[3],"|"),k=>Bf(k).toArray());return[{operation:h,name:v,validChildren:T}]}else return[]})},dm=(e,t)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:l,attributesOrder:h}=t;return Be(Xa(e,"|"),v=>{const T=o.exec(v);if(T){const k={},B=T[1],W=T[2].replace(/[\\:]:/g,":"),G=T[3],Q=T[4];if(B==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(W),k.required=!0),B==="-"){delete l[W],h.splice(an.inArray(h,W),1);return}if(G&&(G==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:W,value:Q}),k.defaultValue=Q):G==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:W,value:Q}),k.forcedValue=Q):G==="<"&&(k.validValues=an.makeMap(Q,"?"))),r.test(W)){const ce=k;t.attributePatterns=t.attributePatterns||[],ce.pattern=$l(W),t.attributePatterns.push(ce)}else l[W]||h.push(W),l[W]=k}})},cb=(e,t)=>{Oo(e.attributes,(o,r)=>{t.attributes[r]=o}),t.attributesOrder.push(...e.attributesOrder)},Ph=(e,t)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return ko(Xa(t,","),r=>{const l=o.exec(r);if(l){const h=l[1],v=l[2],T=l[3],k=l[4],B=l[5],W={attributes:{},attributesOrder:[]};if(e.each(G=>cb(G,W)),h==="#"?W.paddEmpty=!0:h==="-"&&(W.removeEmpty=!0),k==="!"&&(W.removeEmptyAttrs=!0),B&&dm(B,W),T&&(W.outputName=v),v==="@")if(e.isNone())e=X.some(W);else return[];return[T?{name:v,element:W,aliasName:T}:{name:v,element:W}]}else return[]})},Zm={},G0=an.makeMap,kr=an.each,$v=an.extend,Pf=an.explode,Pp=(e,t={})=>{const o=G0(e," ",G0(e.toUpperCase()," "));return $v(o,t)},Ty=e=>Pp("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Fh=(e,t)=>{if(e){const o={};return J(e)&&(e={"*":e}),kr(e,(r,l)=>{o[l]=o[l.toUpperCase()]=t==="map"?G0(r,/[, ]/):Pf(r,/[, ]/)}),o}else return},Bs=(e={})=>{const t={},o={};let r=[];const l={},h={},v={},T=(Do,Ks,bl)=>{const Va=e[Do];if(Va)return G0(Va,/[, ]/,G0(Va.toUpperCase(),/[, ]/));{let Xr=Zm[Do];return Xr||(Xr=Pp(Ks,bl),Zm[Do]=Xr),Xr}},k=e.schema??"html5",B=Gi(k);e.verify_html===!1&&(e.valid_elements="*[*]");const W=Fh(e.valid_styles),G=Fh(e.invalid_styles,"map"),Q=Fh(e.valid_classes,"map"),ce=T("whitespace_elements","pre script noscript style textarea video audio iframe object code"),ke=T("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ge=T("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Te=T("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),ot="td th iframe video audio object script code",rt=T("non_empty_elements",ot+" pre svg textarea summary",ge),ut=T("move_caret_before_on_enter_elements",ot+" table",ge),Ft="h1 h2 h3 h4 h5 h6",Jt=T("text_block_elements",Ft+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Rn=T("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing colgroup col",Jt),io=T("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Lt=T("transparent_elements","a ins del canvas map"),Ct=T("wrap_block_elements","pre "+Ft);kr("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Do=>{h[Do]=new RegExp("</"+Do+"[^>]*>","gi")});const $t=Do=>{const Ks=X.from(t["@"]),bl=/[*?+]/;Be(Ph(Ks,Do??""),({name:Va,element:Xr,aliasName:nl})=>{if(nl&&(t[nl]=Xr),bl.test(Va)){const Dm=Xr;Dm.pattern=$l(Va),r.push(Dm)}else t[Va]=Xr})},On=Do=>{r=[],Be(Hn(t),Ks=>{delete t[Ks]}),$t(Do)},Bo=(Do,Ks)=>{delete Zm.text_block_elements,delete Zm.block_elements;const bl=Ks.extends?!Wd(Ks.extends):!1,Va=Ks.extends;if(o[Do]=Va?o[Va]:{},l[Do]=Va??Do,rt[Do.toUpperCase()]={},rt[Do]={},bl||(Rn[Do.toUpperCase()]={},Rn[Do]={}),Va&&!t[Do]&&t[Va]){const Xr=uu(t[Va]);delete Xr.removeEmptyAttrs,delete Xr.removeEmpty,t[Do]=Xr}else t[Do]={attributesOrder:[],attributes:{}};if(Qe(Ks.attributes)){const Xr=Dm=>{nl.attributesOrder.push(Dm),nl.attributes[Dm]={}},nl=t[Do]??{};delete nl.attributesDefault,delete nl.attributesForced,delete nl.attributePatterns,delete nl.attributesRequired,nl.attributesOrder=[],nl.attributes={},Be(Ks.attributes,Dm=>{const vf=$i(k);Bf(Dm).each(({preset:fg,name:ay})=>{fg?ay==="global"&&Be(vf,Xr):Xr(ay)})}),t[Do]=nl}if(it(Ks.padEmpty)){const Xr=t[Do]??{};Xr.paddEmpty=Ks.padEmpty,t[Do]=Xr}if(Qe(Ks.children)){const Xr={},nl=vf=>{Xr[vf]={}},Dm=vf=>{lb(k,vf).each(fg=>{Be(fg,nl)})};Be(Ks.children,vf=>{Bf(vf).each(({preset:fg,name:ay})=>{fg?Dm(ay):nl(ay)})}),o[Do]=Xr}Va&&Oo(o,(Xr,nl)=>{Xr[Va]&&(o[nl]=Xr=$v({},o[nl]),Xr[Do]=Xr[Va])})},Lo=Do=>{Be(xc(Do??""),({name:Ks,cloneName:bl})=>{Bo(Ks,{extends:bl})})},Zs=(Do,Ks)=>{v[Do]=Ks},Pr=Do=>{vt(Do)?Oo(Do,(Ks,bl)=>{const Va=Ks.componentUrl;J(Va)&&Zs(bl,Va),Bo(bl,Ks)}):J(Do)&&Lo(Do)},Ca=Do=>{Be(Lf(Do??""),({operation:Ks,name:bl,validChildren:Va})=>{const Xr=Ks==="replace"?{"#comment":{}}:o[bl],nl=vf=>{Ks==="remove"?delete Xr[vf]:Xr[vf]={}},Dm=vf=>{lb(k,vf).each(fg=>{Be(fg,nl)})};Be(Va,({preset:vf,name:fg})=>{vf?Dm(fg):nl(fg)}),o[bl]=Xr})},ti=Do=>{const Ks=t[Do];if(Ks)return Ks;let bl=r.length;for(;bl--;){const Va=r[bl];if(Va.pattern.test(Do))return Va}},jc=()=>{e.valid_elements?(On(e.valid_elements),kr(B,(Do,Ks)=>{o[Ks]=Do.children})):(kr(B,(Do,Ks)=>{t[Ks]={attributes:Do.attributes,attributesOrder:Do.attributesOrder},o[Ks]=Do.children}),kr(Xa("strong/b em/i"),Do=>{const Ks=Xa(Do,"/");t[Ks[1]].outputName=Ks[0]}),kr(io,(Do,Ks)=>{t[Ks]&&(e.padd_empty_block_inline_children&&(t[Ks].paddInEmptyBlock=!0),t[Ks].removeEmpty=!0)}),kr(Xa("ol ul blockquote a table tbody"),Do=>{t[Do]&&(t[Do].removeEmpty=!0)}),kr(Xa("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Do=>{t[Do]&&(t[Do].paddEmpty=!0)}),kr(Xa("span"),Do=>{t[Do].removeEmptyAttrs=!0})),delete t.svg,Pr(e.custom_elements),Ca(e.valid_children),$t(e.extended_valid_elements),Ca("+ol[ul|ol],+ul[ul|ol]"),kr({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Do,Ks)=>{t[Ks]&&(t[Ks].parentsRequired=Xa(Do))}),e.invalid_elements&&kr(Pf(e.invalid_elements),Do=>{t[Do]&&delete t[Do]}),ti("span")||$t("span[!data-mce-type|*]")},Am=at(W),$n=at(G),go=at(Q),_r=at(Te),br=at(Rn),vu=at(Jt),Ht=at(io),Sn=at(Object.seal(ge)),Xn=at(ke),Ms=at(rt),Cs=at(ut),Zr=at(ce),km=at(Lt),dp=at(Ct),dg=at(Object.seal(h)),fh=(Do,Ks)=>{const bl=o[Do.toLowerCase()];return!!(bl&&bl[Ks.toLowerCase()])},Tv=(Do,Ks)=>{const bl=ti(Do);if(bl)if(Ks){if(bl.attributes[Ks])return!0;const Va=bl.attributePatterns;if(Va){let Xr=Va.length;for(;Xr--;)if(Va[Xr].pattern.test(Ks))return!0}}else return!0;return!1},Wd=Do=>Jn(br(),Do),Yf=Do=>!wo(Do,"#")&&Tv(Do)&&!Wd(Do),ry=Do=>Jn(dp(),Do)||Yf(Do),DC=at(l),O3=at(v);return jc(),{type:k,children:o,elements:t,getValidStyles:Am,getValidClasses:go,getBlockElements:br,getInvalidStyles:$n,getVoidElements:Sn,getTextBlockElements:vu,getTextInlineElements:Ht,getBoolAttrs:_r,getElementRule:ti,getSelfClosingElements:Xn,getNonEmptyElements:Ms,getMoveCaretBeforeOnEnterElements:Cs,getWhitespaceElements:Zr,getTransparentElements:km,getSpecialElements:dg,getComponentUrls:O3,isValidChild:fh,isValid:Tv,isBlock:Wd,isInline:Yf,isWrapper:ry,getCustomElements:DC,addValidElements:$t,setValidElements:On,addCustomElements:Pr,addValidChildren:Ca}},ba=e=>({value:xr(e)}),xr=e=>wi(e,"#").toUpperCase(),Rr=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},Ra=e=>{const t=Rr(e.red)+Rr(e.green)+Rr(e.blue);return ba(t)},Pu=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Ff=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Fp=(e,t,o,r)=>({red:e,green:t,blue:o,alpha:r}),ub=(e,t,o,r)=>{const l=parseInt(e,10),h=parseInt(t,10),v=parseInt(o,10),T=parseFloat(r);return Fp(l,h,v,T)},fm=e=>Pu.test(e)?"rgb":Ff.test(e)?"rgba":"other",vi=e=>{const t=Pu.exec(e);if(t!==null)return X.some(ub(t[1],t[2],t[3],"1"));const o=Ff.exec(e);return o!==null?X.some(ub(o[1],o[2],o[3],o[4])):X.none()},Lc=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,wc=e=>vi(e).map(Ra).map(t=>"#"+t.value).getOr(e),mm=(e={},t)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,h={};let v,T;const k=gi;t&&(v=t.getValidStyles(),T=t.getInvalidStyles());const B=(`\\" \\' \\; \\: ; : `+k).split(" ");for(let G=0;G<B.length;G++)h[B[G]]=k+G,h[k+G]=B[G];const W={parse:G=>{const Q={};let ce=!1;const ke=e.url_converter,ge=e.url_converter_scope||W,Te=(Lt,Ct,$t)=>{const On=Q[Lt+"-top"+Ct];if(!On)return;const Bo=Q[Lt+"-right"+Ct];if(!Bo)return;const Lo=Q[Lt+"-bottom"+Ct];if(!Lo)return;const Zs=Q[Lt+"-left"+Ct];if(!Zs)return;const Pr=[On,Bo,Lo,Zs];let Ca=Pr.length-1;for(;Ca--&&Pr[Ca]===Pr[Ca+1];);Ca>-1&&$t||(Q[Lt+Ct]=Ca===-1?Pr[0]:Pr.join(" "),delete Q[Lt+"-top"+Ct],delete Q[Lt+"-right"+Ct],delete Q[Lt+"-bottom"+Ct],delete Q[Lt+"-left"+Ct])},ot=Lt=>{const Ct=Q[Lt];if(!Ct)return;const $t=Ct.indexOf(",")>-1?[Ct]:Ct.split(" ");let On=$t.length;for(;On--;)if($t[On]!==$t[0])return!1;return Q[Lt]=$t[0],!0},rt=(Lt,Ct,$t,On)=>{ot(Ct)&&ot($t)&&ot(On)&&(Q[Lt]=Q[Ct]+" "+Q[$t]+" "+Q[On],delete Q[Ct],delete Q[$t],delete Q[On])},ut=Lt=>(ce=!0,h[Lt]),Ft=(Lt,Ct)=>(ce&&(Lt=Lt.replace(/\uFEFF[0-9]/g,$t=>h[$t])),Ct||(Lt=Lt.replace(/\\([\'\";:])/g,"$1")),Lt),Jt=Lt=>String.fromCharCode(parseInt(Lt.slice(1),16)),Rn=Lt=>Lt.replace(/\\[0-9a-f]+/gi,Jt),io=(Lt,Ct,$t,On,Bo,Lo)=>{if(Bo=Bo||Lo,Bo)return Bo=Ft(Bo),"'"+Bo.replace(/\'/g,"\\'")+"'";if(Ct=Ft(Ct||$t||On||""),!e.allow_script_urls){const Zs=Ct.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Zs)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Zs))return""}return ke&&(Ct=ke.call(ge,Ct,"style")),"url('"+Ct.replace(/\'/g,"\\'")+"')"};if(G){G=G.replace(/[\u0000-\u001F]/g,""),G=G.replace(/\\[\"\';:\uFEFF]/g,ut).replace(/\"[^\"]+\"|\'[^\']+\'/g,Ct=>Ct.replace(/[;:]/g,ut));let Lt;for(;Lt=r.exec(G);){r.lastIndex=Lt.index+Lt[0].length;let Ct=Lt[1].replace(l,"").toLowerCase(),$t=Lt[2].replace(l,"");if(Ct&&$t){if(Ct=Rn(Ct),$t=Rn($t),Ct.indexOf(k)!==-1||Ct.indexOf('"')!==-1||!e.allow_script_urls&&(Ct==="behavior"||/expression\s*\(|\/\*|\*\//.test($t)))continue;Ct==="font-weight"&&$t==="700"?$t="bold":(Ct==="color"||Ct==="background-color")&&($t=$t.toLowerCase()),fm($t)==="rgb"&&vi($t).each(On=>{$t=wc(Lc(On)).toLowerCase()}),$t=$t.replace(o,io),Q[Ct]=ce?Ft($t,!0):$t}}Te("border","",!0),Te("border","-width"),Te("border","-color"),Te("border","-style"),Te("padding",""),Te("margin",""),rt("border","border-width","border-style","border-color"),Q.border==="medium none"&&delete Q.border,Q["border-image"]==="none"&&delete Q["border-image"]}return Q},serialize:(G,Q)=>{let ce="";const ke=(Te,ot)=>{const rt=ot[Te];if(rt)for(let ut=0,Ft=rt.length;ut<Ft;ut++){const Jt=rt[ut],Rn=G[Jt];Rn&&(ce+=(ce.length>0?" ":"")+Jt+": "+Rn+";")}},ge=(Te,ot)=>{if(!T||!ot)return!0;let rt=T["*"];return rt&&rt[Te]?!1:(rt=T[ot],!(rt&&rt[Te]))};return Q&&v?(ke("*",v),ke(Q,v)):Oo(G,(Te,ot)=>{Te&&ge(ot,Q)&&(ce+=(ce.length>0?" ":"")+ot+": "+Te+";")}),ce}};return W},Nd={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},$h=e=>e instanceof Event||Oe(e.initEvent),$p=e=>e.isDefaultPrevented===bt||e.isDefaultPrevented===Ze,nd=e=>mn(e.preventDefault)||$h(e),db=(e,t)=>{const o=t??{};for(const r in e)Jn(Nd,r)||(o[r]=e[r]);return qe(e.composedPath)&&(o.composedPath=()=>e.composedPath()),qe(e.getModifierState)&&(o.getModifierState=r=>e.getModifierState(r)),qe(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},Ip=(e,t,o,r)=>{const l=db(t,r);return l.type=e,mn(l.target)&&(l.target=l.srcElement??o),nd(t)&&(l.preventDefault=()=>{l.defaultPrevented=!0,l.isDefaultPrevented=bt,Oe(t.preventDefault)&&t.preventDefault()},l.stopPropagation=()=>{l.cancelBubble=!0,l.isPropagationStopped=bt,Oe(t.stopPropagation)&&t.stopPropagation()},l.stopImmediatePropagation=()=>{l.isImmediatePropagationStopped=bt,l.stopPropagation()},$p(l)||(l.isDefaultPrevented=l.defaultPrevented===!0?bt:Ze,l.isPropagationStopped=l.cancelBubble===!0?bt:Ze,l.isImmediatePropagationStopped=Ze)),l},fb="mce-data-",Hp=/^(?:mouse|contextmenu)|click/,Md=(e,t,o,r)=>{e.addEventListener(t,o,r||!1)},$f=(e,t,o,r)=>{e.removeEventListener(t,o,r||!1)},Ki=e=>qe(e)&&Hp.test(e.type),Bd=(e,t)=>{const o=Ip(e.type,e,document,t);if(Ki(e)&&Tn(e.pageX)&&!Tn(e.clientX)){const r=o.target.ownerDocument||document,l=r.documentElement,h=r.body,v=o;v.pageX=e.clientX+(l&&l.scrollLeft||h&&h.scrollLeft||0)-(l&&l.clientLeft||h&&h.clientLeft||0),v.pageY=e.clientY+(l&&l.scrollTop||h&&h.scrollTop||0)-(l&&l.clientTop||h&&h.clientTop||0)}return o},zp=(e,t,o)=>{const r=e.document,l={type:"ready"};if(o.domLoaded){t(l);return}const h=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,v=()=>{$f(e,"DOMContentLoaded",v),$f(e,"load",v),o.domLoaded||(o.domLoaded=!0,t(l)),e=null};h()?v():Md(e,"DOMContentLoaded",v),o.domLoaded||Md(e,"load",v)};class Ld{static Event=new Ld;domLoaded=!1;events={};expando;hasFocusIn;count=1;constructor(){this.expando=fb+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,o,r,l){const h=this;let v;const T=window,k=Q=>{h.executeHandlers(Bd(Q||T.event),B)};if(!t||dn(t)||ns(t))return r;let B;t[h.expando]?B=t[h.expando]:(B=h.count++,t[h.expando]=B,h.events[B]={}),l=l||t;const W=o.split(" ");let G=W.length;for(;G--;){let Q=W[G],ce=k,ke=!1,ge=!1;if(Q==="DOMContentLoaded"&&(Q="ready"),h.domLoaded&&Q==="ready"&&t.readyState==="complete"){r.call(l,Bd({type:Q}));continue}!h.hasFocusIn&&(Q==="focusin"||Q==="focusout")&&(ke=!0,ge=Q==="focusin"?"focus":"blur",ce=Te=>{const ot=Bd(Te||T.event);ot.type=ot.type==="focus"?"focusin":"focusout",h.executeHandlers(ot,B)}),v=h.events[B][Q],v?Q==="ready"&&h.domLoaded?r(Bd({type:Q})):v.push({func:r,scope:l}):(h.events[B][Q]=v=[{func:r,scope:l}],v.fakeName=ge,v.capture=ke,v.nativeHandler=ce,Q==="ready"?zp(t,ce,h):Md(t,ge||Q,ce,ke))}return t=v=null,r}unbind(t,o,r){if(!t||dn(t)||ns(t))return this;const l=t[this.expando];if(l){let h=this.events[l];if(o){const v=o.split(" ");let T=v.length;for(;T--;){const k=v[T],B=h[k];if(B){if(r){let W=B.length;for(;W--;)if(B[W].func===r){const G=B.nativeHandler,Q=B.fakeName,ce=B.capture,ke=B.slice(0,W).concat(B.slice(W+1));ke.nativeHandler=G,ke.fakeName=Q,ke.capture=ce,h[k]=ke}}(!r||B.length===0)&&(delete h[k],$f(t,B.fakeName||k,B.nativeHandler,B.capture))}}}else Oo(h,(v,T)=>{$f(t,v.fakeName||T,v.nativeHandler,v.capture)}),h={};for(const v in h)if(Jn(h,v))return this;delete this.events[l];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,o,r){return this.dispatch(t,o,r)}dispatch(t,o,r){if(!t||dn(t)||ns(t))return this;const l=Bd({type:o,target:t},r);do{const h=t[this.expando];h&&this.executeHandlers(l,h),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!l.isPropagationStopped());return this}clean(t){if(!t||dn(t)||ns(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const o=t.getElementsByTagName("*");let r=o.length;for(;r--;)t=o[r],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,o){const r=this.events[o],l=r&&r[t.type];if(l)for(let h=0,v=l.length;h<v;h++){const T=l[h];if(T&&T.func.call(T.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}const Cc=an.each,Iv=an.grep,Ay="data-mce-style",Vp=an.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),K0=(e,t,o)=>{mn(o)||o===""?li(e,t):Or(e,t,o)},Pd=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),Lg=(e,t)=>{let o=0;if(e)for(let r=e.nodeType,l=e.previousSibling;l;l=l.previousSibling){const h=l.nodeType;t&&dn(l)&&(h===r||!l.data.length)||(o++,r=h)}return o},od=(e,t)=>{const o=yr(t,"style"),r=e.serialize(e.parse(o),rs(t));K0(t,Ay,r)},Y0=(e,t)=>Yo(e)?Jn(Vp,t)?e+"":e+"px":e,ky=(e,t,o)=>{const r=Pd(t);mn(o)||o===""?Sg(e,r):Bl(e,r,Y0(o,r))},Ox=(e,t,o)=>{const r=t.keep_values,l={set:(v,T,k)=>{const B=De.fromDom(v);Oe(t.url_converter)&&qe(T)&&(T=t.url_converter.call(t.url_converter_scope||o(),String(T),k,v));const W="data-mce-"+k;K0(B,W,T),K0(B,k,T)},get:(v,T)=>{const k=De.fromDom(v);return yr(k,"data-mce-"+T)||yr(k,T)}},h={style:{set:(v,T)=>{const k=De.fromDom(v);r&&K0(k,Ay,T),li(k,"style"),J(T)&&dl(k,e.parse(T))},get:v=>{const T=De.fromDom(v),k=yr(T,Ay)||yr(T,"style");return e.serialize(e.parse(k),rs(T))}}};return r&&(h.href=h.src=l),h},hs=(e,t={})=>{const o={},r=window,l={};let h=0;const v=!0,T=!0,k=Vm.forElement(De.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy,crossOrigin:gt=>{const St=t.crossOrigin;if(Oe(St))return St(gt,"stylesheet")}}),B=[],W=t.schema?t.schema:Bs({}),G=mm({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),Q=t.ownEvents?new Ld:Ld.Event,ce=W.getBlockElements(),ke=gt=>J(gt)?Jn(ce,gt):Cn(gt)&&(Jn(ce,gt.nodeName)||Ya(W,gt)),ge=gt=>gt&&e&&J(gt)?e.getElementById(gt):gt,Te=gt=>{const St=ge(gt);return qe(St)?De.fromDom(St):null},ot=(gt,St,zn="")=>{let En;const $o=Te(gt);if(qe($o)&&fa($o)){const wr=kH[St];wr&&wr.get?En=wr.get($o.dom,St):En=yr($o,St)}return qe(En)?En:zn},rt=gt=>{const St=ge(gt);return mn(St)?[]:St.attributes},ut=(gt,St,zn)=>{go(gt,En=>{if(Cn(En)){const $o=De.fromDom(En),wr=zn===""?null:zn,zl=yr($o,St),iy=kH[St];iy&&iy.set?iy.set($o.dom,wr,St):K0($o,St,wr),zl!==wr&&t.onSetAttrib&&t.onSetAttrib({attrElm:$o.dom,attrName:St,attrValue:wr})}})},Ft=(gt,St)=>gt.cloneNode(St),Jt=()=>t.root_element||e.body,Rn=gt=>{const St=Nu(gt);return{x:St.x,y:St.y,w:St.width,h:St.height}},io=(gt,St)=>vr(e.body,ge(gt),St),Lt=(gt,St,zn)=>{go(gt,En=>{const $o=De.fromDom(En);ky($o,St,zn),t.update_styles&&od(G,$o)})},Ct=(gt,St)=>{go(gt,zn=>{const En=De.fromDom(zn);Oo(St,($o,wr)=>{ky(En,wr,$o)}),t.update_styles&&od(G,En)})},$t=(gt,St,zn)=>{const En=ge(gt);if(!(mn(En)||!ru(En)&&!Sx(En)))return zn?ka(De.fromDom(En),Pd(St)):(St=St.replace(/-(\D)/g,($o,wr)=>wr.toUpperCase()),St==="float"&&(St="cssFloat"),En.style?En.style[St]:void 0)},On=gt=>{const St=ge(gt);if(!St)return{w:0,h:0};let zn=$t(St,"width"),En=$t(St,"height");return(!zn||zn.indexOf("px")===-1)&&(zn="0"),(!En||En.indexOf("px")===-1)&&(En="0"),{w:parseInt(zn,10)||St.offsetWidth||St.clientWidth,h:parseInt(En,10)||St.offsetHeight||St.clientHeight}},Bo=gt=>{const St=ge(gt),zn=io(St),En=On(St);return{x:zn.x,y:zn.y,w:En.w,h:En.h}},Lo=(gt,St)=>{if(!gt)return!1;const zn=Qe(gt)?gt:[gt];return Ge(zn,En=>wl(De.fromDom(En),St))},Zs=(gt,St,zn,En)=>{const $o=[];let wr=ge(gt);En=En===void 0;const zl=zn||(Jt().nodeName!=="BODY"?Jt().parentNode:null);if(J(St))if(St==="*")St=Cn;else{const iy=St;St=P1=>Lo(P1,iy)}for(;wr&&!(wr===zl||mn(wr.nodeType)||zm(wr)||_p(wr));){if(!St||St(wr))if(En)$o.push(wr);else return[wr];wr=wr.parentNode}return En?$o:null},Pr=(gt,St,zn)=>{const En=Zs(gt,St,zn,!1);return En&&En.length>0?En[0]:null},Ca=(gt,St,zn)=>{let En=St;if(gt){J(St)&&(En=$o=>Lo($o,St));for(let $o=gt[zn];$o;$o=$o[zn])if(Oe(En)&&En($o))return $o}return null},ti=(gt,St)=>Ca(gt,St,"nextSibling"),jc=(gt,St)=>Ca(gt,St,"previousSibling"),Am=gt=>Oe(gt.querySelectorAll),$n=(gt,St)=>{const zn=ge(St)??t.root_element??e;return Am(zn)?Es(zn.querySelectorAll(gt)):[]},go=function(gt,St,zn){const En=zn??this;if(Qe(gt)){const $o=[];return Cc(gt,(wr,zl)=>{const iy=ge(wr);iy&&$o.push(St.call(En,iy,zl))}),$o}else{const $o=ge(gt);return $o?St.call(En,$o):!1}},_r=(gt,St)=>{go(gt,zn=>{Oo(St,(En,$o)=>{ut(zn,$o,En)})})},br=(gt,St)=>{go(gt,zn=>{const En=De.fromDom(zn);tf(En,St)})},vu=(gt,St,zn,En,$o)=>go(gt,wr=>{const zl=J(St)?e.createElement(St):St;return qe(zn)&&_r(zl,zn),En&&(!J(En)&&En.nodeType?zl.appendChild(En):J(En)&&br(zl,En)),$o?zl:wr.appendChild(zl)}),Ht=(gt,St,zn)=>vu(e.createElement(gt),gt,St,zn,!0),Sn=ed.decode,Xn=ed.encodeAllRaw,Ms=(gt,St,zn="")=>{let En="<"+gt;for(const $o in St)ls(St,$o)&&(En+=" "+$o+'="'+Xn(St[$o])+'"');return wu(zn)&&Jn(W.getVoidElements(),gt)?En+" />":En+">"+zn+"</"+gt+">"},Cs=gt=>{const St=e.createElement("div"),zn=e.createDocumentFragment();zn.appendChild(St),gt&&(St.innerHTML=gt);let En;for(;En=St.firstChild;)zn.appendChild(En);return zn.removeChild(St),zn},Zr=(gt,St)=>go(gt,zn=>{const En=De.fromDom(zn);return St&&Be(ma(En),$o=>{xs($o)&&$o.dom.length===0?ws($o):cl(En,$o)}),ws(En),En.dom}),km=gt=>go(gt,St=>{const zn=St.attributes;for(let En=zn.length-1;En>=0;En--)St.removeAttributeNode(zn.item(En))}),dp=gt=>G.parse(gt),dg=(gt,St)=>G.serialize(gt,St),fh=gt=>{if(OC!==hs.DOM&&e===document){if(o[gt])return;o[gt]=!0}let St=e.getElementById("mceDefaultStyles");if(!St){St=e.createElement("style"),St.id="mceDefaultStyles",St.type="text/css";const zn=e.head;zn.firstChild?zn.insertBefore(St,zn.firstChild):zn.appendChild(St)}St.styleSheet?St.styleSheet.cssText+=gt:St.appendChild(e.createTextNode(gt))},Tv=gt=>{gt||(gt=""),Be(gt.split(","),St=>{l[St]=!0,k.load(St).catch(Pt)})},Wd=(gt,St,zn)=>{go(gt,En=>{if(Cn(En)){const $o=De.fromDom(En),wr=St.split(" ");Be(wr,zl=>{qe(zn)?(zn?pc:aa)($o,zl):ta($o,zl)})}})},Yf=(gt,St)=>{Wd(gt,St,!0)},ry=(gt,St)=>{Wd(gt,St,!1)},DC=(gt,St)=>{const zn=Te(gt),En=St.split(" ");return qe(zn)&&mr(En,$o=>ki(zn,$o))},O3=gt=>{go(gt,St=>Sg(De.fromDom(St),"display"))},Do=gt=>{go(gt,St=>Bl(De.fromDom(St),"display","none"))},Ks=gt=>{const St=Te(gt);return qe(St)&&qt(ui(St,"display"),"none")},bl=gt=>(gt||"mce_")+h++,Va=gt=>{const St=Te(gt);return qe(St)?Cn(St.dom)?St.dom.outerHTML:wg(St):""},Xr=(gt,St)=>{go(gt,zn=>{Cn(zn)&&(zn.outerHTML=St)})},nl=(gt,St)=>{const zn=ge(St);return go(gt,En=>{const $o=zn?.parentNode,wr=zn?.nextSibling;return $o&&(wr?$o.insertBefore(En,wr):$o.appendChild(En)),En})},Dm=(gt,St,zn)=>go(St,En=>{const $o=Qe(St)?gt.cloneNode(!0):gt;return zn&&Cc(Iv(En.childNodes),wr=>{$o.appendChild(wr)}),En.parentNode?.replaceChild($o,En),En}),vf=(gt,St)=>{if(gt.nodeName!==St.toUpperCase()){const zn=Ht(St);return Cc(rt(gt),En=>{ut(zn,En.nodeName,ot(gt,En.nodeName))}),Dm(zn,gt,!0),zn}else return gt},fg=(gt,St)=>{let zn=gt;for(;zn;){let En=St;for(;En&&zn!==En;)En=En.parentNode;if(zn===En)break;zn=zn.parentNode}return!zn&&gt.ownerDocument?gt.ownerDocument.documentElement:zn},ay=(gt,St,zn)=>en(St)?fo(W,gt,{...zn,isContent:$o=>{const wr=$o.nodeName.toLowerCase();return!!St[wr]}}):fo(W,gt,zn),R3=()=>e.createRange(),N3=(gt,St,zn)=>{let En=R3(),$o,wr;if(gt&&St&&gt.parentNode&&St.parentNode){const zl=gt.parentNode;return En.setStart(zl,Lg(gt)),En.setEnd(St.parentNode,Lg(St)),$o=En.extractContents(),En=R3(),En.setStart(St.parentNode,Lg(St)+1),En.setEnd(zl,Lg(gt)+1),wr=En.extractContents(),zl.insertBefore(Lp(OC,$o,W),gt),zn?zl.insertBefore(zn,gt):zl.insertBefore(St,gt),zl.insertBefore(Lp(OC,wr,W),gt),Zr(gt),zn||St}else return},yT=(gt,St,zn,En)=>{if(Qe(gt)){let $o=gt.length;const wr=[];for(;$o--;)wr[$o]=yT(gt[$o],St,zn,En);return wr}else return t.collect&&(gt===e||gt===r)&&B.push([gt,St,zn,En]),Q.bind(gt,St,zn,En||OC)},L1=(gt,St,zn)=>{if(Qe(gt)){let En=gt.length;const $o=[];for(;En--;)$o[En]=L1(gt[En],St,zn);return $o}else{if(B.length>0&&(gt===e||gt===r)){let En=B.length;for(;En--;){const[$o,wr,zl]=B[En];gt===$o&&(!St||St===wr)&&(!zn||zn===zl)&&Q.unbind($o,wr,zl)}}return Q.unbind(gt,St,zn)}},_C=(gt,St,zn)=>Q.dispatch(gt,St,zn),LM=(gt,St,zn)=>Q.dispatch(gt,St,zn),M3=gt=>{if(gt&&ru(gt)){const St=gt.getAttribute("data-mce-contenteditable");return St&&St!=="inherit"?St:gt.contentEditable!=="inherit"?gt.contentEditable:null}else return null},OC={doc:e,settings:t,win:r,files:l,stdMode:v,boxModel:T,styleSheetLoader:k,boundEvents:B,styles:G,schema:W,events:Q,isBlock:ke,root:null,clone:Ft,getRoot:Jt,getViewPort:Rn,getRect:Bo,getSize:On,getParent:Pr,getParents:Zs,get:ge,getNext:ti,getPrev:jc,select:$n,is:Lo,add:vu,create:Ht,createHTML:Ms,createFragment:Cs,remove:Zr,setStyle:Lt,getStyle:$t,setStyles:Ct,removeAllAttribs:km,setAttrib:ut,setAttribs:_r,getAttrib:ot,getPos:io,parseStyle:dp,serializeStyle:dg,addStyle:fh,loadCSS:Tv,addClass:Yf,removeClass:ry,hasClass:DC,toggleClass:Wd,show:O3,hide:Do,isHidden:Ks,uniqueId:bl,setHTML:br,getOuterHTML:Va,setOuterHTML:Xr,decode:Sn,encode:Xn,insertAfter:nl,replace:Dm,rename:vf,findCommonAncestor:fg,run:go,getAttribs:rt,isEmpty:ay,createRng:R3,nodeIndex:Lg,split:N3,bind:yT,unbind:L1,fire:LM,dispatch:_C,getContentEditable:M3,getContentEditableParent:gt=>{const St=Jt();let zn=null;for(let En=gt;En&&En!==St&&(zn=M3(En),zn===null);En=En.parentNode);return zn},isEditable:gt=>{if(qe(gt)){const St=Cn(gt)?gt:gt.parentElement;return qe(St)&&ru(St)&&Cr(De.fromDom(St))}else return!1},destroy:()=>{if(B.length>0){let gt=B.length;for(;gt--;){const[St,zn,En]=B[gt];Q.unbind(St,zn,En)}}Oo(l,(gt,St)=>{k.unload(St),delete l[St]})},isChildOf:(gt,St)=>gt===St||St.contains(gt),dumpRng:gt=>"startContainer: "+gt.startContainer.nodeName+", startOffset: "+gt.startOffset+", endContainer: "+gt.endContainer.nodeName+", endOffset: "+gt.endOffset},kH=Ox(G,t,at(OC));return OC};hs.DOM=hs(document),hs.nodeIndex=Lg;const jp=hs.DOM,Ls=0,tc=1,Ih=2,X0=3;class sr{static ScriptLoader=new sr;settings;states={};queue=[];scriptLoadedCallbacks={};queueLoadedCallbacks=[];loading=!1;constructor(t={}){this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}_setCrossOrigin(t){this.settings.crossOrigin=t}loadScript(t){return new Promise((o,r)=>{const l=jp,h=document;let v;const T=()=>{l.remove(W),v&&(v.onerror=v.onload=v=null)},k=()=>{T(),o()},B=()=>{T(),r("Failed to load script: "+t)},W=l.uniqueId();v=h.createElement("script"),v.id=W,v.type="text/javascript",v.src=an._addCacheSuffix(t),this.settings.referrerPolicy&&l.setAttrib(v,"referrerpolicy",this.settings.referrerPolicy);const G=this.settings.crossOrigin;if(Oe(G)){const Q=G(t);Q!==void 0&&l.setAttrib(v,"crossorigin",Q)}v.onload=k,v.onerror=B,(h.head||h.body).appendChild(v)})}isDone(t){return this.states[t]===Ih}markDone(t){this.states[t]=Ih}add(t){const o=this;return o.queue.push(t),o.states[t]===void 0&&(o.states[t]=Ls),new Promise((l,h)=>{o.scriptLoadedCallbacks[t]||(o.scriptLoadedCallbacks[t]=[]),o.scriptLoadedCallbacks[t].push({resolve:l,reject:h})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const o=this,r=(k,B)=>{Ro(o.scriptLoadedCallbacks,B).each(W=>{Be(W,G=>G[k](B))}),delete o.scriptLoadedCallbacks[B]},l=k=>{const B=yt(k,W=>W.status==="rejected");return B.length>0?Promise.reject(ko(B,({reason:W})=>Qe(W)?W:[W])):Promise.resolve()},h=k=>Promise.allSettled(tt(k,B=>o.states[B]===Ih?(r("resolve",B),Promise.resolve()):o.states[B]===X0?(r("reject",B),Promise.reject(B)):(o.states[B]=tc,o.loadScript(B).then(()=>{o.states[B]=Ih,r("resolve",B);const W=o.queue;return W.length>0?(o.queue=[],h(W).then(l)):Promise.resolve()},()=>(o.states[B]=X0,r("reject",B),Promise.reject(B)))))),v=k=>(o.loading=!0,h(k).then(B=>{o.loading=!1;const W=o.queueLoadedCallbacks.shift();return X.from(W).each(Bt),l(B)})),T=Tf(t);return o.loading?new Promise((k,B)=>{o.queueLoadedCallbacks.push(()=>{v(T).then(k,B)})}):v(T)}getScriptAttributes(t){const o={};this.settings.referrerPolicy&&(o.referrerpolicy=this.settings.referrerPolicy);const r=this.settings.crossOrigin;if(Oe(r)){const l=r(t);J(l)&&(o.crossorigin=l)}return o}}const Hv=(e,t)=>{const o=e.indexOf(t);return o!==-1&&e.indexOf(t,o+1)>o},mb=e=>vt(e)&&Jn(e,"raw"),zv=e=>Qe(e)&&e.length>1,Up={},hb=Pn("en"),Rx=()=>Ro(Up,hb.get()),Fu={getData:()=>ci(Up,e=>({...e})),setCode:e=>{e&&hb.set(e)},getCode:()=>hb.get(),add:(e,t)=>{let o=Up[e];o||(Up[e]=o={});const r=tt(Hn(t),l=>l.toLowerCase());Oo(t,(l,h)=>{const v=h.toLowerCase();v!==h&&Hv(r,v)?(Jn(t,v)||(o[v]=l),o[h]=l):o[v]=l})},translate:e=>{const t=Rx().getOr({}),o=T=>Oe(T)?Object.prototype.toString.call(T):r(T)?"":""+T,r=T=>T===""||T===null||T===void 0,l=T=>{const k=o(T);return Jn(t,k)?o(t[k]):Ro(t,k.toLowerCase()).map(o).getOr(k)},h=T=>T.replace(/{context:\w+}$/,""),v=T=>T.replaceAll("...",Gd);if(r(e))return"";if(mb(e))return v(o(e.raw));if(zv(e)){const T=e.slice(1),k=l(e[0]).replace(/\{([0-9]+)\}/g,(B,W)=>Jn(T,W)?o(T[W]):B);return v(h(k))}return v(h(l(e)))},isRtl:()=>Rx().bind(e=>Ro(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Jn(Up,e)},Yi=()=>{const e=[],t={},o={},r=[],l=(ge,Te)=>{const ot=yt(r,rt=>rt.name===ge&&rt.state===Te);Be(ot,rt=>rt.resolve())},h=ge=>Jn(t,ge),v=ge=>Jn(o,ge),T=ge=>{if(o[ge])return o[ge].instance},k=(ge,Te)=>{const ot=Fu.getCode(),rt=","+(Te||"")+",";!ot||Te&&rt.indexOf(","+ot+",")===-1||sr.ScriptLoader.add(t[ge]+"/langs/"+ot+".js")},B=(ge,Te)=>{Yi.languageLoad!==!1&&(h(ge)?k(ge,Te):ke(ge,"loaded").then(()=>k(ge,Te)))},W=(ge,Te)=>(e.push(Te),o[ge]={instance:Te},l(ge,"added"),Te),G=ge=>{delete t[ge],delete o[ge]},Q=(ge,Te)=>J(Te)?J(ge)?{prefix:"",resource:Te,suffix:""}:{prefix:ge.prefix,resource:Te,suffix:ge.suffix}:Te,ce=(ge,Te)=>{if(t[ge])return Promise.resolve();let ot=J(Te)?Te:Te.prefix+Te.resource+Te.suffix;ot.indexOf("/")!==0&&ot.indexOf("://")===-1&&(ot=Yi.baseURL+"/"+ot),t[ge]=ot.substring(0,ot.lastIndexOf("/"));const rt=()=>(l(ge,"loaded"),Promise.resolve());return o[ge]?rt():sr.ScriptLoader.add(ot).then(rt)},ke=(ge,Te="added")=>Te==="added"&&v(ge)||Te==="loaded"&&h(ge)?Promise.resolve():new Promise(ot=>{r.push({name:ge,state:Te,resolve:ot})});return{items:e,urls:t,lookup:o,get:T,requireLangPack:B,add:W,remove:G,createUrl:Q,load:ce,waitFor:ke}};Yi.languageLoad=!0,Yi.baseURL="",Yi.PluginManager=Yi(),Yi.ThemeManager=Yi(),Yi.ModelManager=Yi();const Hh=at("mce-annotation"),sd=at("data-mce-annotation"),hm=at("data-mce-annotation-uid"),Wp=at("data-mce-annotation-active"),ca=at("data-mce-annotation-classes"),Q0=at("data-mce-annotation-attrs"),zC=e=>t=>ss(t,e),pb=(e,t)=>{const o=e.selection.getRng(),r=De.fromDom(o.startContainer),l=De.fromDom(e.getBody()),h=t.fold(()=>"."+Hh(),k=>`[${sd()}="${k}"]`),v=Jc(r,o.startOffset).getOr(r);return El(v,h,zC(l)).bind(k=>ul(k,`${hm()}`).bind(B=>ul(k,`${sd()}`).map(W=>{const G=bb(e,B);return{uid:B,name:W,elements:G}})))},Vv=e=>fa(e)&&ki(e,Hh()),jv=(e,t)=>Gr(e,"data-mce-bogus")||Br(e,'[data-mce-bogus="all"]',zC(t)),bb=(e,t)=>{const o=De.fromDom(e.getBody()),r=kt(o,`[${hm()}="${t}"]`);return yt(r,l=>!jv(l,o))},If=(e,t)=>{const o=De.fromDom(e.getBody()),r=kt(o,`[${sd()}="${t}"]`),l={};return Be(r,h=>{if(!jv(h,o)){const v=yr(h,hm()),T=Ro(l,v).getOr([]);l[v]=T.concat([h])}}),l},zh=(e,t)=>{const o=Pn({}),r=()=>({listeners:[],previous:Ps()}),l=(G,Q)=>{h(G,ce=>(Q(ce),ce))},h=(G,Q)=>{const ce=o.get(),ke=Ro(ce,G).getOrThunk(r),ge=Q(ke);ce[G]=ge,o.set(ce)},v=(G,Q,ce)=>{l(G,ke=>{Be(ke.listeners,ge=>ge(!0,G,{uid:Q,nodes:tt(ce,Te=>Te.dom)}))})},T=G=>{l(G,Q=>{Be(Q.listeners,ce=>ce(!1,G))})},k=(G,Q)=>{Be(bb(e,G),ce=>{Q?Or(ce,Wp(),"true"):li(ce,Wp())})},B=Cu(()=>{const G=Ss(t.getNames());Be(G,Q=>{h(Q,ce=>{const ke=ce.previous.get();return pb(e,X.some(Q)).fold(()=>{ke.each(ge=>{T(Q),ce.previous.clear(),k(ge,!1)})},({uid:ge,name:Te,elements:ot})=>{qt(ke,ge)||(ke.each(rt=>k(rt,!1)),v(Te,ge,ot),ce.previous.set(ge),k(ge,!0))}),{previous:ce.previous,listeners:ce.listeners}})})},30);return e.on("remove",()=>{B.cancel()}),e.on("NodeChange",()=>{B.throttle()}),{addListener:(G,Q)=>{h(G,ce=>({previous:ce.previous,listeners:ce.listeners.concat([Q])}))}}},qp=(e,t)=>{const o=sd(),r=h=>X.from(h.attr(o)).bind(t.lookup),l=h=>{h.attr(hm(),null),h.attr(sd(),null),h.attr(Wp(),null);const v=X.from(h.attr(Q0())).map(W=>W.split(",")).getOr([]),T=X.from(h.attr(ca())).map(W=>W.split(",")).getOr([]);Be(v,W=>h.attr(W,null));const k=h.attr("class")?.split(" ")??[],B=os(k,[Hh()].concat(T));h.attr("class",B.length>0?B.join(" "):null),h.attr(ca(),null),h.attr(Q0(),null)};e.serializer.addTempAttr(Wp()),e.serializer.addAttributeFilter(o,h=>{for(const v of h)r(v).each(T=>{T.persistent===!1&&(v.name==="span"?v.unwrap():l(v))})})},Gp=()=>{const e={};return{register:(l,h)=>{e[l]={name:l,settings:h}},lookup:l=>Ro(e,l).map(h=>h.settings),getNames:()=>Hn(e)}},Dy=(e,t,o=Ze)=>{const r=new Ka(e,t),l=h=>{let v;do v=r[h]();while(v&&!dn(v)&&!o(v));return X.from(v).filter(dn)};return{current:()=>X.from(r.current()).filter(dn),next:()=>l("next"),prev:()=>l("prev"),prev2:()=>l("prev2")}},du=(e,t)=>{const o=t||(v=>e.isBlock(v)||la(v)||na(v)),r=(v,T,k,B)=>{if(dn(v)){const W=B(v,T,v.data);if(W!==-1)return X.some({container:v,offset:W})}return k().bind(W=>r(W.container,W.offset,k,B))};return{backwards:(v,T,k,B)=>{const W=Dy(v,B??e.getRoot(),o);return r(v,T,()=>W.prev().map(G=>({container:G,offset:G.length})),k).getOrNull()},forwards:(v,T,k,B)=>{const W=Dy(v,B??e.getRoot(),o);return r(v,T,()=>W.next().map(G=>({container:G,offset:0})),k).getOrNull()}}},uf=["td","th"],J0=["thead","tbody","tfoot"],VC=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Px=["li","dd","dt"],Uv=["ul","ol","dl"],_y=["pre","script","textarea","style"],gm=e=>{let t;return o=>(t=t||Vs(e,bt),Jn(t,rs(o)))},Fx=e=>rs(e)==="table",Fd=e=>fa(e)&&rs(e)==="br",Sc=gm(VC),$d=gm(Uv),fu=gm(Px),e1=gm(J0),Vh=gm(uf),Oy=gm(_y),Zv=e=>{const t=[];let o=e.dom;for(;o;)t.push(De.fromDom(o)),o=o.lastChild;return t},yb=e=>{const t=kt(e,"br"),o=yt(Zv(e).slice(-1),Fd);t.length===o.length&&Be(o,ws)},Fg=()=>{const e=De.fromTag("br");return Or(e,"data-mce-bogus","1"),e},jh=e=>{ql(e),$s(e,Fg())},Nr=(e,t)=>{ai(e).each(o=>{Wu(o).each(r=>{t.isBlock(rs(e))&&Fd(o)&&t.isBlock(rs(r))&&ws(o)})})},Ii=gi,$g=Si,Pc=sl,vb=e=>e.insertContent(Ii,{preserve_zwsp:!0}),Dr=Cn,rd=dn,Hf=e=>(rd(e)&&(e=e.parentNode),Dr(e)&&e.hasAttribute("data-mce-caret")),pm=e=>rd(e)&&$g(e.data),ad=e=>Hf(e)||pm(e),Ry=e=>e.firstChild!==e.lastChild||!la(e.firstChild),$x=(e,t)=>{const r=(e.ownerDocument??document).createTextNode(Ii),l=e.parentNode;if(t){const h=e.previousSibling;if(rd(h)){if(ad(h))return h;if(Xi(h))return h.splitText(h.data.length-1)}l?.insertBefore(r,e)}else{const h=e.nextSibling;if(rd(h)){if(ad(h))return h;if(mu(h))return h.splitText(1),h}e.nextSibling?l?.insertBefore(r,e.nextSibling):l?.appendChild(r)}return r},Wm=e=>{const t=e.container();return dn(t)?t.data.charAt(e.offset())===Ii||e.isAtStart()&&pm(t.previousSibling):!1},Ig=e=>{const t=e.container();return dn(t)?t.data.charAt(e.offset()-1)===Ii||e.isAtEnd()&&pm(t.nextSibling):!1},Qa=(e,t,o)=>{const l=(t.ownerDocument??document).createElement(e);l.setAttribute("data-mce-caret",o?"before":"after"),l.setAttribute("data-mce-bogus","all"),l.appendChild(Fg().dom);const h=t.parentNode;return o?h?.insertBefore(l,t):t.nextSibling?h?.insertBefore(l,t.nextSibling):h?.appendChild(l),l},mu=e=>rd(e)&&e.data[0]===Ii,Xi=e=>rd(e)&&e.data[e.data.length-1]===Ii,nc=e=>{const t=e.getElementsByTagName("br"),o=t[t.length-1];Hm(o)&&o.parentNode?.removeChild(o)},df=e=>e&&e.hasAttribute("data-mce-caret")?(nc(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Ny=e=>Hf(e.startContainer),Uh=Math.round,qm=e=>e?{left:Uh(e.left),top:Uh(e.top),bottom:Uh(e.bottom),right:Uh(e.right),width:Uh(e.width),height:Uh(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Hg=(e,t)=>(e=qm(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),My=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,xb=(e,t,o)=>e>=0&&e<=Math.min(t.height,o.height)/2,Zh=(e,t)=>{const o=Math.min(t.height/2,e.height/2);return e.bottom-o<t.top?!0:e.top>t.bottom?!1:xb(t.top-e.bottom,e,t)},Gm=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:xb(t.bottom-e.top,e,t),Wv=(e,t,o)=>t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom,t1=e=>Le(e,(t,o)=>t.fold(()=>X.some(o),r=>{const l=Math.min(o.left,r.left),h=Math.min(o.top,r.top),v=Math.max(o.right,r.right),T=Math.max(o.bottom,r.bottom);return X.some({top:h,right:v,bottom:T,left:l,width:v-l,height:T-h})}),X.none()),qv=(e,t,o)=>{const r=Math.max(Math.min(t,e.left+e.width),e.left),l=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((t-r)*(t-r)+(o-l)*(o-l))},Gv=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),hl=e=>{const t=e.startContainer,o=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===o+1?t.childNodes[o]:null},zg=(e,t)=>{if(Cn(e)&&e.hasChildNodes()){const o=e.childNodes,r=To(t,0,o.length-1);return o[r]}else return e},id=(e,t)=>{if(!(t<0&&Cn(e)&&e.hasChildNodes()))return zg(e,t)},Kv=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),wb=e=>J(e)&&e.charCodeAt(0)>=768&&Kv.test(e),Cb=(...e)=>t=>{for(let o=0;o<e.length;o++)if(e[o](t))return!0;return!1},Sb=(...e)=>t=>{for(let o=0;o<e.length;o++)if(!e[o](t))return!1;return!0},By=Mu,Yv=na,Xv=la,Kp=dn,Qi=Xu(["script","style","textarea"]),Kr=Xu(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Al=Xu(["table"]),kl=ad,ya=e=>kl(e)?!1:Kp(e)?!Qi(e.parentNode):Kr(e)||Xv(e)||Al(e)||Km(e),_i=e=>Cn(e)&&e.getAttribute("unselectable")==="true",Km=e=>!_i(e)&&Yv(e),Id=(e,t)=>{for(let o=e.parentNode;o&&o!==t;o=o.parentNode){if(Km(o))return!1;if(By(o))return!0}return!0},Ly=e=>Km(e)?!Le(Es(e.getElementsByTagName("*")),(t,o)=>t||By(o),!1):!1,Eb=e=>Kr(e)||Ly(e),zf=(e,t)=>ya(e)&&Id(e,t),Qv=Cn,Jv=ya,Wh=tb("display","block table"),Py=tb("float","left right"),n1=Sb(Qv,Jv,Me(Py)),Ix=Me(tb("white-space","pre pre-line pre-wrap")),Tb=dn,bm=la,Fy=hs.nodeIndex,Ab=id,o1=e=>e?e.createRange():hs.DOM.createRng(),Vg=e=>J(e)&&/[\r\n\t ]/.test(e),Ym=e=>!!e.setStart&&!!e.setEnd,jg=e=>{const t=e.startContainer,o=e.startOffset;if(Vg(e.toString())&&Ix(t.parentNode)&&dn(t)){const r=t.data;if(Vg(r[o-1])||Vg(r[o+1]))return!0}return!1},s1=e=>{const t=e.ownerDocument,o=o1(t),r=t.createTextNode(qr),l=e.parentNode;l.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const h=qm(o.getBoundingClientRect());return l.removeChild(r),h},$y=e=>{const t=e.startContainer,o=e.endContainer,r=e.startOffset,l=e.endOffset;if(t===o&&dn(o)&&r===0&&l===1){const h=e.cloneRange();return h.setEndAfter(o),Il(h)}else return null},Vf=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Il=e=>{let t;const o=e.getClientRects();return o.length>0?t=qm(o[0]):t=qm(e.getBoundingClientRect()),!Ym(e)&&bm(e)&&Vf(t)?s1(e):Vf(t)&&Ym(e)?$y(e)??t:t},oc=(e,t)=>{const o=Hg(e,t);return o.width=1,o.right=o.left+1,o},qh=e=>{const t=[],o=v=>{v.height!==0&&(t.length>0&&My(v,t[t.length-1])||t.push(v))},r=(v,T)=>{const k=o1(v.ownerDocument);if(T<v.data.length){if(wb(v.data[T]))return;if(wb(v.data[T-1])&&(k.setStart(v,T),k.setEnd(v,T+1),!jg(k))){o(oc(Il(k),!1));return}}T>0&&(k.setStart(v,T-1),k.setEnd(v,T),jg(k)||o(oc(Il(k),!1))),T<v.data.length&&(k.setStart(v,T),k.setEnd(v,T+1),jg(k)||o(oc(Il(k),!0)))},l=e.container(),h=e.offset();if(Tb(l))return r(l,h),t;if(Qv(l))if(e.isAtEnd()){const v=Ab(l,h);Tb(v)&&r(v,v.data.length),n1(v)&&!bm(v)&&o(oc(Il(v),!1))}else{const v=Ab(l,h);if(Tb(v)&&r(v,0),n1(v)&&e.isAtEnd())return o(oc(Il(v),!1)),t;const T=Ab(e.container(),e.offset()-1);n1(T)&&!bm(T)&&(Wh(T)||Wh(v)||!n1(v))&&o(oc(Il(T),!1)),n1(v)&&o(oc(Il(v),!0))}return t},_t=(e,t,o)=>{const r=()=>(Tb(e),t===0),l=()=>Tb(e)?t>=e.data.length:t>=e.childNodes.length,h=()=>{const W=o1(e.ownerDocument);return W.setStart(e,t),W.setEnd(e,t),W},v=()=>(o||(o=qh(_t(e,t))),o),T=()=>v().length>0,k=W=>W&&e===W.container()&&t===W.offset(),B=W=>Ab(e,W?t-1:t);return{container:at(e),offset:at(t),toRange:h,getClientRects:v,isVisible:T,isAtStart:r,isAtEnd:l,isEqual:k,getNode:B}};_t.fromRangeStart=e=>_t(e.startContainer,e.startOffset),_t.fromRangeEnd=e=>_t(e.endContainer,e.endOffset),_t.after=e=>_t(e.parentNode,Fy(e)+1),_t.before=e=>_t(e.parentNode,Fy(e)),_t.isAbove=(e,t)=>Bn(gs(t.getClientRects()),Wr(e.getClientRects()),Zh).getOr(!1),_t.isBelow=(e,t)=>Bn(Wr(t.getClientRects()),gs(e.getClientRects()),Gm).getOr(!1),_t.isAtStart=e=>e?e.isAtStart():!1,_t.isAtEnd=e=>e?e.isAtEnd():!1,_t.isTextPosition=e=>e?dn(e.container()):!1,_t.isElementPosition=e=>!_t.isTextPosition(e);const Yp=(e,t)=>{dn(t)&&t.data.length===0&&e.remove(t)},Iy=(e,t,o)=>{t.insertNode(o),Yp(e,o.previousSibling),Yp(e,o.nextSibling)},Fc=(e,t,o)=>{const r=X.from(o.firstChild),l=X.from(o.lastChild);t.insertNode(o),r.each(h=>Yp(e,h.previousSibling)),l.each(h=>Yp(e,h.nextSibling))},Xp=(e,t,o)=>{_p(o)?Fc(e,t,o):Iy(e,t,o)},ym=dn,Hy=Hm,e2=hs.nodeIndex,Gh=e=>{const t=e.parentNode;return Hy(t)?Gh(t):t},kb=e=>e?Eu(e.childNodes,(t,o)=>(Hy(o)&&o.nodeName!=="BR"?t=t.concat(kb(o)):t.push(o),t),[]):[],jf=(e,t)=>{let o=e;for(;(o=o.previousSibling)&&ym(o);)t+=o.data.length;return t},Qp=e=>t=>e===t,zy=e=>{let t,o;t=kb(Gh(e)),o=bd(t,Qp(e),e),t=t.slice(0,o+1);const r=Eu(t,(l,h,v)=>(ym(h)&&ym(t[v-1])&&l++,l),0);return t=qc(t,Xu([e.nodeName])),o=bd(t,Qp(e),e),o-r},Ec=e=>(ym(e)?"text()":e.nodeName.toLowerCase())+"["+zy(e)+"]",ld=(e,t,o)=>{const r=[];for(let l=t.parentNode;l&&l!==e;l=l.parentNode)r.push(l);return r},cd=(e,t)=>{let o=[],r=t.container(),l=t.offset(),h;if(ym(r))h=jf(r,l);else{const T=r.childNodes;l>=T.length?(h="after",l=T.length-1):h="before",r=T[l]}o.push(Ec(r));let v=ld(e,r);return v=qc(v,Me(Hm)),o=o.concat(Wc(v,T=>Ec(T))),o.reverse().join("/")+","+h},Hx=(e,t,o)=>{let r=kb(e);return r=qc(r,(l,h)=>!ym(l)||!ym(r[h-1])),r=qc(r,Xu([t])),r[o]},Jp=(e,t)=>{let o=e,r=0;for(;ym(o);){const l=o.data.length;if(t>=r&&t<=r+l){e=o,t=t-r;break}if(!ym(o.nextSibling)){e=o,t=l;break}r+=l,o=o.nextSibling}return ym(e)&&t>e.data.length&&(t=e.data.length),_t(e,t)},t2=(e,t)=>{if(!t)return null;const o=t.split(","),r=o[0].split("/"),l=o.length>1?o[1]:"before",h=Eu(r,(v,T)=>{const k=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(T);return k?(k[1]==="text()"&&(k[1]="#text"),Hx(v,k[1],parseInt(k[2],10))):null},e);if(!h)return null;if(!ym(h)&&h.parentNode){let v;return l==="after"?v=e2(h)+1:v=e2(h),_t(h.parentNode,v)}return Jp(h,parseInt(l,10))},Db=na,n2=(e,t,o)=>{let r=e(t.data.slice(0,o)).length;for(let l=t.previousSibling;l&&dn(l);l=l.previousSibling)r+=e(l.data).length;return r},o2=(e,t,o,r,l)=>{const h=l?r.startContainer:r.endContainer;let v=l?r.startOffset:r.endOffset;const T=[],k=e.getRoot();if(dn(h))T.push(o?n2(t,h,v):v);else{let B=0;const W=h.childNodes;v>=W.length&&W.length&&(B=1,v=Math.max(0,W.length-1)),T.push(e.nodeIndex(W[v],o)+B)}for(let B=h;B&&B!==k;B=B.parentNode)T.push(e.nodeIndex(B,o));return T},fs=(e,t,o,r)=>{const l=t.dom,h=o2(l,e,o,r,!0),v=t.isForward(),T=Ny(r)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:h,forward:v,...T};{const k=o2(l,e,o,r,!1);return{start:h,end:k,forward:v,...T}}},so=(e,t,o)=>{let r=0;return an.each(e.select(t),l=>{if(l.getAttribute("data-mce-bogus")!=="all"){if(l===o)return!1;r++;return}}),r},r1=(e,t)=>{let o=t?e.startContainer:e.endContainer,r=t?e.startOffset:e.endOffset;if(Cn(o)&&o.nodeName==="TR"){const l=o.childNodes;o=l[Math.min(t?r:r-1,l.length-1)],o&&(r=t?0:o.childNodes.length,t?e.setStart(o,r):e.setEnd(o,r))}},Vy=e=>(r1(e,!0),r1(e,!1),e),a1=(e,t)=>{if(Cn(e)&&(e=zg(e,t),Db(e)))return e;if(ad(e)){dn(e)&&Hf(e)&&(e=e.parentNode);let o=e.previousSibling;if(Db(o)||(o=e.nextSibling,Db(o)))return o}},s2=e=>a1(e.startContainer,e.startOffset)||a1(e.endContainer,e.endOffset),i1=(e,t,o)=>{const r=o.getNode(),l=o.getRng();if(r.nodeName==="IMG"||Db(r)){const v=r.nodeName;return{name:v,index:so(o.dom,v,r)}}const h=s2(l);if(h){const v=h.tagName;return{name:v,index:so(o.dom,v,h)}}return fs(e,o,t,l)},oa=e=>{const t=e.getRng();return{start:cd(e.dom.getRoot(),_t.fromRangeStart(t)),end:cd(e.dom.getRoot(),_t.fromRangeEnd(t)),forward:e.isForward()}},_b=e=>({rng:e.getRng(),forward:e.isForward()}),l1=(e,t,o)=>{const r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},Xm=(e,t)=>{const o=e.dom;let r=e.getRng();const l=o.uniqueId(),h=e.isCollapsed(),v=e.getNode(),T=v.nodeName,k=e.isForward();if(T==="IMG")return{name:T,index:so(o,T,v)};const B=Vy(r.cloneRange());if(!h){B.collapse(!1);const G=l1(o,l+"_end",t);Xp(o,B,G)}r=Vy(r),r.collapse(!0);const W=l1(o,l+"_start",t);return Xp(o,r,W),e.moveToBookmark({id:l,keep:!0,forward:k}),{id:l,forward:k}},Mt=(e,t,o=!1)=>t===2?i1(Pc,o,e):t===3?oa(e):t?_b(e):Xm(e,!1),ff=ee(i1,Qn,!0),vm=e=>e===1,Hd=e=>e===-1;var Tc;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Tc||(Tc={}));const Qm=(e,t,o)=>e.stype===Tc.Error?t(e.serror):o(e.svalue),e0=e=>{const t=[],o=[];return Be(e,r=>{Qm(r,l=>o.push(l),l=>t.push(l))}),{values:t,errors:o}},xm=(e,t)=>e.stype===Tc.Error?{stype:Tc.Error,serror:t(e.serror)}:e,jC=(e,t)=>e.stype===Tc.Value?{stype:Tc.Value,svalue:t(e.svalue)}:e,t0=(e,t)=>e.stype===Tc.Value?t(e.svalue):e,Lr=(e,t)=>e.stype===Tc.Error?t(e.serror):e,mf=e=>({stype:Tc.Value,svalue:e}),r2=e=>({stype:Tc.Error,serror:e}),sc={fromResult:e=>e.fold(r2,mf),toResult:e=>Qm(e,Fe.error,Fe.value),svalue:mf,partition:e0,serror:r2,bind:t0,bindError:Lr,map:jC,mapError:xm,fold:Qm},n0=e=>vt(e)&&Hn(e).length>100?" removed due to size":JSON.stringify(e,null,2),jy=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:at("... (only showing first ten failures)")}]):e;return tt(t,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},Uy=(e,t)=>sc.serror([{path:e,getErrorInfo:t}]),Zy=(e,t,o)=>Uy(e,()=>'Could not find valid *required* value for "'+t+'" in '+n0(o)),zx=(e,t)=>Uy(e,at(t)),a2=e=>{const t=(r,l)=>sc.bindError(e(l),h=>zx(r,h)),o=at("val");return{extract:t,toString:o}},Ob=a2(sc.svalue),a=at(Ob),u=(e,t)=>a2(o=>{const r=typeof o;return e(o)?sc.svalue(o):sc.serror(`Expected type: ${t} but got: ${r}`)}),g=u(Yo,"number"),C=u(J,"string"),R=u(Oe,"function"),F=()=>({tag:"required",process:{}}),re=e=>({tag:"defaultedThunk",process:e}),fe=e=>re(at(e)),lt=()=>({tag:"option",process:{}}),Ut=(e,t,o,r)=>({tag:"field",key:e,newKey:t,presence:o,prop:r}),bn=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},Dn=(e,t)=>sc.svalue(jt(t,xn.apply(void 0,e))),Xt=e=>P(sc.serror,Jo)(e),Os={consolidateObj:(e,t)=>{const o=sc.partition(e);return o.errors.length>0?Xt(o.errors):Dn(o.values,t)},consolidateArr:e=>{const t=sc.partition(e);return t.errors.length>0?Xt(t.errors):sc.svalue(t.values)}},fi=(e,t,o,r)=>Ro(t,o).fold(()=>Zy(e,o,t),r),et=(e,t,o,r)=>{const l=Ro(e,t).getOrThunk(()=>o(e));return r(l)},ft=(e,t,o)=>o(Ro(e,t)),zt=(e,t,o,r)=>{const l=Ro(e,t).map(h=>h===!0?o(e):h);return r(l)},hn=(e,t,o,r,l)=>{const h=T=>l.extract(t.concat([r]),T),v=T=>T.fold(()=>sc.svalue(X.none()),k=>{const B=l.extract(t.concat([r]),k);return sc.map(B,X.some)});switch(e.tag){case"required":return fi(t,o,r,h);case"defaultedThunk":return et(o,r,e.process,h);case"option":return ft(o,r,v);case"defaultedOptionThunk":return zt(o,r,e.process,v);case"mergeWithThunk":return et(o,r,at({}),T=>{const k=jt(e.process(o),T);return h(k)})}},ms=(e,t,o)=>{const r={},l=[];for(const h of o)bn(h,(v,T,k,B)=>{const W=hn(k,e,t,v,B);sc.fold(W,G=>{l.push(...G)},G=>{r[T]=G})},(v,T)=>{r[v]=T(t)});return l.length>0?sc.serror(l):sc.svalue(r)},js=e=>({extract:(r,l)=>ms(r,l,e),toString:()=>`obj{
`+tt(e,l=>bn(l,(h,v,T,k)=>h+" -> "+k.toString(),(h,v)=>"state("+h+")")).join(`
`)+"}"}),Go=e=>({extract:(r,l)=>{const h=tt(l,(v,T)=>e.extract(r.concat(["["+T+"]"]),v));return Os.consolidateArr(h)},toString:()=>"array("+e.toString()+")"}),rr=P(Go,js),Mr=e=>a2(t=>e(t).fold(sc.serror,sc.svalue)),zr=(e,t,o)=>{const r=t.extract([e],o);return sc.mapError(r,l=>({input:o,errors:l}))},hf=(e,t,o)=>sc.toResult(zr(e,t,o)),Jm=e=>`Errors: 
`+jy(e.errors).join(`
`)+`

Input object: `+n0(e.input),gl=Ut,o0=e=>gl(e,e,F(),a()),NT=(e,t)=>gl(e,e,F(),t),UC=e=>NT(e,C),MT=e=>NT(e,R),iD=(e,t)=>gl(e,e,F(),Go(t)),Us=e=>gl(e,e,lt(),a()),eh=(e,t)=>gl(e,e,lt(),t),c1=e=>eh(e,C),vB=e=>eh(e,R),Wy=(e,t)=>gl(e,e,fe(t),a()),Gs=(e,t,o)=>gl(e,e,fe(t),o),lD=(e,t)=>Gs(e,t,g),cD=(e,t,o)=>Gs(e,t,Go(o)),xB=e=>e.type==="inline-command"||e.type==="inline-format",wB=e=>e.type==="block-command"||e.type==="block-format",i2=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,uD=e=>{const t=r=>Fe.error({message:r,pattern:e}),o=(r,l,h)=>{if(e.format!==void 0){let v;if(Qe(e.format)){if(!mr(e.format,J))return t(r+" pattern has non-string items in the `format` array");v=e.format}else if(J(e.format))v=[e.format];else return t(r+" pattern has non-string `format` parameter");return Fe.value(l(v))}else return e.cmd!==void 0?J(e.cmd)?Fe.value(h(e.cmd,e.value)):t(r+" pattern has non-string `cmd` parameter"):t(r+" pattern is missing both `format` and `cmd` parameters")};if(!vt(e))return t("Raw pattern is not an object");if(!J(e.start))return t("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!J(e.end))return t("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return t("Inline pattern has empty `start` and `end` parameters");let r=e.start,l=e.end;return l.length===0&&(l=r,r=""),o("Inline",h=>({type:"inline-format",start:r,end:l,format:h}),(h,v)=>({type:"inline-command",start:r,end:l,cmd:h,value:v}))}else{if(e.replacement!==void 0)return J(e.replacement)?e.start.length===0?t("Replacement pattern has empty `start` parameter"):Fe.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter");{const r=e.trigger??"space";return e.start.length===0?t("Block pattern has empty `start` parameter"):o("Block",l=>({type:"block-format",start:e.start,format:l[0],trigger:r}),(l,h)=>({type:"block-command",start:e.start,cmd:l,value:h,trigger:r}))}}},dD=e=>yt(e,wB),l2=e=>yt(e,xB),fD=(e,t)=>({inlinePatterns:l2(e),blockPatterns:dD(e),dynamicPatternsLookup:t}),c2=(e,t)=>({...e,blockPatterns:yt(e.blockPatterns,o=>i2(o,t))}),BT=e=>{const t=Sa(tt(e,uD));return Be(t.errors,o=>console.error(o.message,o.pattern)),t.values},mD=e=>t=>{const o=e(t);return BT(o)},Vx=(e,t)=>e.dispatch("PreProcess",t),ZC=(e,t)=>e.dispatch("PostProcess",t),WC=e=>{e.dispatch("remove")},LT=e=>{e.dispatch("detach")},hD=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},PT=(e,t,o,r,l)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:r,origin:l})},qC=(e,t,o,r,l)=>{e.dispatch("ObjectResized",{target:t,width:o,height:r,origin:l})},FT=e=>{e.dispatch("PreInit")},fr=e=>{e.dispatch("PostRender")},$T=e=>{e.dispatch("Init")},GC=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},jx=(e,t,o)=>{e.dispatch(t,o)},s0=(e,t,o,r)=>{e.dispatch("FormatApply",{format:t,node:o,vars:r})},KC=(e,t,o,r)=>{e.dispatch("FormatRemove",{format:t,node:o,vars:r})},gD=(e,t)=>e.dispatch("BeforeSetContent",t),IT=(e,t)=>e.dispatch("SetContent",t),qy=(e,t)=>e.dispatch("BeforeGetContent",t),HT=(e,t)=>e.dispatch("GetContent",t),u2=(e,t)=>{e.dispatch("AutocompleterStart",t)},d2=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},YC=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},u1=e=>{e.dispatch("AutocompleterEnd")},zT=(e,t,o)=>e.dispatch("PastePreProcess",{content:t,internal:o}),VT=(e,t,o)=>e.dispatch("PastePostProcess",{node:t,internal:o}),jT=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),UT=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),CB=(e,t)=>e.dispatch("DisabledStateChange",{state:t}),ZT=e=>e.dispatch("CloseActiveTooltips"),Ux=bs().deviceType,Zx=Ux.isTouch(),f2=hs.DOM,Wx=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Le(t,(o,r)=>{const l=r.split("="),h=l[0],v=l.length>1?l[1]:h;return o[Jr(h)]=Jr(v),o},{})},qx=e=>Ue(e,RegExp),Vn=e=>t=>t.options.get(e),d1=e=>J(e)||vt(e),Ug=(e,t="")=>o=>{const r=J(o);if(r)if(o.indexOf("=")!==-1){const l=Wx(o);return{value:Ro(l,e.id).getOr(t),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},m2=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("crossorigin",{processor:"function",default:at(void 0)}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.editorManager.documentBaseURL}),t("body_id",{processor:Ug(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:Ug(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:r=>{const l=J(r)&&Hr(r);return l?{value:r,valid:l}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:r=>{const l=Ne(["block","linebreak","invert","default"],r);return l?{value:r,valid:l}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:r=>it(r)?{valid:!0,value:r}:J(r)?{valid:!0,value:r}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:r=>{const l=r===!1||J(r)||pt(r,J);return l?J(r)?{value:tt(r.split(","),Jr),valid:l}:Qe(r)?{value:r,valid:l}:r===!1?{value:[],valid:l}:{value:r,valid:l}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:g2(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:r=>{const l=J(r)||pt(r,J);return l?{value:Qe(r)?r:tt(r.split(","),Jr),valid:l}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("extended_mathml_attributes",{processor:"string[]"}),t("extended_mathml_elements",{processor:"string[]"}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:r=>{const l=it(r)||J(r);return l?r===!1||Ux.isiPhone()||Ux.isiPad()?{value:"",valid:l}:{value:r===!0?"table,img,figure.image,div,video,iframe":r,valid:l}:{valid:!1,message:"Must be boolean or a string"}},default:!Zx}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("onboarding",{processor:"boolean",default:!0}),t("tiny_cloud_entry_url",{processor:"string"}),t("theme",{processor:r=>r===!1||J(r)||Oe(r),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:r=>{const l=r===!1||J(r);return l?{value:r===!1?"":r,valid:l}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("disabled",{processor:r=>it(r)?(e.initialized&&nh(e)!==r&&Promise.resolve().then(()=>{CB(e,r)}),{valid:!0,value:r}):{valid:!1,message:"The value must be a boolean."},default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(e.hasPlugin("help")?". Press ALT-0 for help.":"")}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_html_in_comments",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("allow_mathml_annotation_encodings",{processor:r=>{const l=pt(r,J);return l?{value:r,valid:l}:{valid:!1,message:"Must be an array of strings."}},default:[]}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:d1}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:d1}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:d1}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:d1}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:r=>J(r)||r===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:r=>pt(r,vt)||r===!1?{value:BT(r===!1?[]:r),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:r=>Oe(r)?{value:mD(r),valid:!0}:{valid:!1,message:"Must be a single function"},default:r=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:r=>pt(r,qx)?{value:r,valid:!0}:qx(r)?{value:[r],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:r=>{const l=Ne(["inherited","collapsed","expanded"],r);return l?{value:r,valid:l}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:r=>{const l=Ne(["inherited","collapsed","expanded"],r);return l?{value:r,valid:l}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),t("user_id",{processor:"string",default:"Anonymous"}),t("fetch_users",{processor:r=>r===void 0?{valid:!0,value:void 0}:Oe(r)?{valid:!0,value:r}:{valid:!1,message:"fetch_users must be a function that returns a Promise<ExpectedUser[]>"}});const o=rr([UC("mimeType"),iD("extensions",Mr(r=>J(r)?Fe.value(r):Fe.error("Extensions must be an array of strings")))]);t("documents_file_types",{processor:r=>hf("documents_file_types",o,r).fold(l=>({valid:!1,message:"Must be a non-empty array of objects matching the configuration schema: https://www.tiny.cloud/docs/tinymce/latest/uploadcare-documents/#documents-file-types"}),l=>({valid:!0,value:l}))}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:Fu.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:f2.getAttrib(e.getElement(),"placeholder")})}),t("lists_indent_on_tab",{processor:"boolean",default:!0}),t("list_max_depth",{processor:r=>{const l=Yo(r);if(l){if(r<0)throw new Error("list_max_depth cannot be set to lower than 0");return{value:r,valid:l}}else return{valid:!1,message:"Must be a number"}}})},WT=Vn("iframe_attrs"),XC=Vn("doctype"),QC=Vn("document_base_url"),qT=Vn("body_id"),GT=Vn("body_class"),KT=Vn("content_security_policy"),Gx=Vn("br_in_pre"),pl=Vn("forced_root_block"),th=Vn("forced_root_block_attrs"),Kx=Vn("newline_behavior"),YT=Vn("br_newline_selector"),XT=Vn("no_newline_selector"),QT=Vn("keep_styles"),Yx=Vn("end_container_on_empty_block"),JC=Vn("automatic_uploads"),JT=Vn("images_reuse_filename"),eA=Vn("images_replace_blob_uris"),h2=Vn("icons"),eS=Vn("icons_url"),Xx=Vn("images_upload_url"),tS=Vn("images_upload_base_path"),pD=Vn("images_upload_credentials"),tA=Vn("images_upload_handler"),nA=Vn("content_css_cors"),Qx=Vn("referrer_policy"),Rb=Vn("crossorigin"),oA=Vn("language"),sA=Vn("language_url"),Jx=Vn("indent_use_margin"),bD=Vn("indentation"),yD=Vn("content_css"),Nb=Vn("content_style"),nS=Vn("font_css"),vD=Vn("directionality"),xD=Vn("inline_boundaries_selector"),rA=Vn("object_resizing"),wD=Vn("resize_img_proportional"),oS=Vn("placeholder"),ew=Vn("event_root"),sS=Vn("service_message"),Zg=Vn("theme"),aA=Vn("theme_url"),tw=Vn("model"),CD=Vn("model_url"),f1=Vn("inline_boundaries"),SD=Vn("formats"),ED=Vn("preview_styles"),SB=Vn("format_empty_lines"),EB=Vn("format_noneditable_selector"),Gy=Vn("custom_ui_selector"),g2=Vn("inline"),rS=Vn("hidden_input"),TD=Vn("submit_patch"),AD=Vn("add_form_submit_trigger"),nw=Vn("add_unload_trigger"),iA=Vn("custom_undo_redo_levels"),lA=Vn("disable_nodechange"),p2=Vn("readonly"),ow=Vn("editable_root"),aS=Vn("content_css_cors"),b2=Vn("plugins"),iS=Vn("external_plugins"),kD=Vn("block_unsupported_drop"),y2=Vn("visual"),cA=Vn("visual_table_class"),sw=Vn("visual_anchor_class"),rw=Vn("iframe_aria_text"),Mb=Vn("setup"),DD=Vn("init_instance_callback"),Wg=Vn("urlconverter_callback"),_D=Vn("auto_focus"),uA=Vn("browser_spellcheck"),OD=Vn("protect"),TB=Vn("paste_block_drop"),aw=Vn("paste_data_images"),RD=Vn("paste_preprocess"),ND=Vn("paste_postprocess"),MD=Vn("newdocument_content"),lS=Vn("paste_webkit_styles"),BD=Vn("paste_remove_styles_if_webkit"),dA=Vn("paste_merge_formats"),cS=Vn("smart_paste"),LD=Vn("paste_as_text"),PD=Vn("paste_tab_spaces"),uS=Vn("allow_html_data_urls"),fA=Vn("text_patterns"),lo=Vn("text_patterns_lookup"),v2=Vn("noneditable_class"),mA=Vn("editable_class"),FD=Vn("noneditable_regexp"),dS=Vn("preserve_cdata"),x2=Vn("highlight_on_focus"),iw=Vn("xss_sanitization"),w2=Vn("init_content_sync"),Ky=e=>e.options.isSet("text_patterns_lookup"),fS=e=>an.explode(e.options.get("font_size_style_values")),mS=e=>an.explode(e.options.get("font_size_classes")),hA=e=>e.options.get("encoding")==="xml",hS=e=>an.explode(e.options.get("images_file_types")),gA=Vn("table_tab_navigation"),Yy=Vn("details_initial_state"),r0=Vn("details_serialized_state"),Xy=Vn("sandbox_iframes"),a0=e=>e.options.get("sandbox_iframes_exclusions"),i0=Vn("convert_unsafe_embeds"),pA=Vn("license_key"),C2=Vn("api_key"),nh=Vn("disabled"),bA=Vn("user_id"),yA=Vn("fetch_users"),gS=Vn("lists_indent_on_tab"),pS=e=>X.from(e.options.get("list_max_depth")),vA=Cn,xA=dn,$D=e=>{const t=e.parentNode;t&&t.removeChild(e)},wA=e=>{const t=Pc(e);return{count:e.length-t.length,text:t}},Bb=e=>{let t;for(;(t=e.data.lastIndexOf(Ii))!==-1;)e.deleteData(t,1)},bS=(e,t)=>(Lb(e),t),CA=(e,t)=>{const o=wA(e.data.substr(0,t.offset())),r=wA(e.data.substr(t.offset()));return(o.text+r.text).length>0?(Bb(e),_t(e,t.offset()-o.count)):t},yS=(e,t)=>{const o=t.container(),r=zs(Es(o.childNodes),e).map(l=>l<t.offset()?_t(o,t.offset()-1):t).getOr(t);return Lb(e),r},vS=(e,t)=>xA(e)&&t.container()===e?CA(e,t):bS(e,t),xS=(e,t)=>t.container()===e.parentNode?yS(e,t):bS(e,t),ID=(e,t)=>_t.isTextPosition(t)?vS(e,t):xS(e,t),Lb=e=>{vA(e)&&ad(e)&&(Ry(e)?e.removeAttribute("data-mce-caret"):$D(e)),xA(e)&&(Bb(e),e.data.length===0&&$D(e))},Pb=na,lw=Rd,cw=Rp,SA="*[contentEditable=false],video,audio,embed,object",HD=(e,t,o)=>{const r=Hg(t.getBoundingClientRect(),o);let l,h;if(e.tagName==="BODY"){const T=e.ownerDocument.documentElement;l=e.scrollLeft||T.scrollLeft,h=e.scrollTop||T.scrollTop}else{const T=e.getBoundingClientRect();l=e.scrollLeft-T.left,h=e.scrollTop-T.top}r.left+=l,r.right+=l,r.top+=h,r.bottom+=h,r.width=1;let v=t.offsetWidth-t.clientWidth;return v>0&&(o&&(v*=-1),r.left+=v,r.right+=v),r},EA=e=>{const t=kt(De.fromDom(e),SA);for(let o=0;o<t.length;o++){const r=t[o].dom;let l=r.previousSibling;if(Xi(l)){const h=l.data;h.length===1?l.parentNode?.removeChild(l):l.deleteData(h.length-1,1)}l=r.nextSibling,mu(l)&&(l.data.length===1?l.parentNode?.removeChild(l):l.deleteData(0,1))}},zo=(e,t,o,r)=>{const l=Ps();let h,v;const T=pl(e),k=e.dom,B=(ge,Te)=>{let ot;if(W(),cw(Te))return null;if(o(Te)){const rt=Qa(T,Te,ge),ut=HD(t,Te,ge);k.setStyle(rt,"top",ut.top),k.setStyle(rt,"caret-color","transparent"),v=rt;const Ft=k.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});k.setStyles(Ft,{...ut}),k.add(t,Ft),l.set({caret:Ft,element:Te,before:ge}),ge&&k.addClass(Ft,"mce-visual-caret-before"),G(),ot=Te.ownerDocument.createRange(),ot.setStart(rt,0),ot.setEnd(rt,0)}else return v=$x(Te,ge),ot=Te.ownerDocument.createRange(),Uf(v.nextSibling)?(ot.setStart(v,0),ot.setEnd(v,0)):(ot.setStart(v,1),ot.setEnd(v,1)),ot;return ot},W=()=>{EA(t),v&&(Lb(v),v=null),l.on(ge=>{k.remove(ge.caret),l.clear()}),h&&(clearInterval(h),h=void 0)},G=()=>{h=window.setInterval(()=>{l.on(ge=>{r()?k.toggleClass(ge.caret,"mce-visual-caret-hidden"):k.addClass(ge.caret,"mce-visual-caret-hidden")})},500)},Q=()=>{l.on(ge=>{const Te=HD(t,ge.element,ge.before);k.setStyles(ge.caret,{...Te})})},ce=()=>clearInterval(h),ke=()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";return{isShowing:l.isSet,show:B,hide:W,getCss:ke,reposition:Q,destroy:ce}},uw=()=>ds.browser.isFirefox(),Uf=e=>Pb(e)||lw(e),S2=e=>(Uf(e)||iu(e)&&uw())&&Qc(De.fromDom(e)).exists(Cr),zD=Mu,dw=na,VD=Rd,wS=tb("display","block table table-cell table-row table-caption list-item"),CS=ad,E2=Hf,Kh=Cn,Qy=dn,jD=ya,Fb=(e,t)=>{let o;for(;o=e(t);)if(!E2(o))return o;return null},T2=(e,t,o,r,l)=>{const h=new Ka(e,r),v=dw(e)||E2(e);let T;if(Hd(t)){if(v&&(T=Fb(h.prev.bind(h),!0),o(T)))return T;for(;T=Fb(h.prev.bind(h),l);)if(o(T))return T}if(vm(t)){if(v&&(T=Fb(h.next.bind(h),!0),o(T)))return T;for(;T=Fb(h.next.bind(h),l);)if(o(T))return T}return null},fw=(e,t)=>{const o=l=>zD(l.dom),r=l=>l.dom===t;return kd(De.fromDom(e),o,r).map(l=>l.dom).getOr(t)},Hl=e=>Cn(e)&&ka(De.fromDom(e),"position")==="absolute",UD=(e,t)=>e.parentNode!==t,SS=(e,t)=>dw(e)&&Hl(e)&&UD(e,t),m1=(e,t)=>{for(;e&&e!==t;){if(wS(e)&&!SS(e,t))return e;e=e.parentNode}return null},qg=(e,t,o)=>m1(e.container(),o)===m1(t.container(),o),ES=(e,t)=>{if(!t)return X.none();const o=t.container(),r=t.offset();return Kh(o)?X.from(o.childNodes[r+e]):X.none()},TA=(e,t)=>{const r=(t.ownerDocument??document).createRange();return e?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),r},ZD=(e,t,o)=>m1(t,e)===m1(o,e),mw=(e,t,o)=>{const r=e?"previousSibling":"nextSibling";let l=o;for(;l&&l!==t;){let h=l[r];if(h&&CS(h)&&(h=h[r]),dw(h)||VD(h)){if(ZD(t,h,l))return h;break}if(jD(h))break;l=l.parentNode}return null},A2=ee(TA,!0),h1=ee(TA,!1),hw=(e,t,o)=>{let r;const l=ee(mw,!0,t),h=ee(mw,!1,t),v=o.startContainer,T=o.startOffset;if(Hf(v)){const k=Qy(v)?v.parentNode:v,B=k.getAttribute("data-mce-caret");if(B==="before"&&(r=k.nextSibling,S2(r)))return A2(r);if(B==="after"&&(r=k.previousSibling,S2(r)))return h1(r)}if(!o.collapsed)return o;if(dn(v)){if(CS(v)){if(e===1){if(r=h(v),r)return A2(r);if(r=l(v),r)return h1(r)}if(e===-1){if(r=l(v),r)return h1(r);if(r=h(v),r)return A2(r)}return o}if(Xi(v)&&T>=v.data.length-1)return e===1&&(r=h(v),r)?A2(r):o;if(mu(v)&&T<=1)return e===-1&&(r=l(v),r)?h1(r):o;if(T===v.data.length)return r=h(v),r?A2(r):o;if(T===0)return r=l(v),r?h1(r):o}return o},gw=(e,t)=>ES(e?0:-1,t).filter(dw),g1=(e,t,o)=>{const r=hw(e,t,o);return e===-1?_t.fromRangeStart(r):_t.fromRangeEnd(r)},k2=e=>X.from(e.getNode()).map(De.fromDom),TS=e=>X.from(e.getNode(!0)).map(De.fromDom),pw=(e,t)=>{let o=t;for(;o=e(o);)if(o.isVisible())return o;return o},Yh=(e,t)=>{const o=qg(e,t);return!o&&la(e.getNode())?!0:o},AA=na,Gg=dn,AS=Cn,bw=la,Jy=ya,D2=Eb,yw=zf,WD=(e,t)=>{const o=[];let r=e;for(;r&&r!==t;)o.push(r),r=r.parentNode;return o},kA=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,vw=(e,t)=>{if(vm(e)){if(Jy(t.previousSibling)&&!Gg(t.previousSibling))return _t.before(t);if(Gg(t))return _t(t,0)}if(Hd(e)){if(Jy(t.nextSibling)&&!Gg(t.nextSibling))return _t.after(t);if(Gg(t))return _t(t,t.data.length)}return Hd(e)?bw(t)?_t.before(t):_t.after(t):_t.before(t)},qD=(e,t)=>{const o=t.nextSibling;return o&&Jy(o)?Gg(o)?_t(o,0):_t.before(o):kS(1,_t.after(t),e)},kS=(e,t,o)=>{let r,l,h,v;if(!AS(o)||!t)return null;if(t.isEqual(_t.after(o))&&o.lastChild){if(v=_t.after(o.lastChild),Hd(e)&&Jy(o.lastChild)&&AS(o.lastChild))return bw(o.lastChild)?_t.before(o.lastChild):v}else v=t;const T=v.container();let k=v.offset();if(Gg(T)){if(Hd(e)&&k>0)return _t(T,--k);if(vm(e)&&k<T.length)return _t(T,++k);r=T}else{if(Hd(e)&&k>0&&(l=kA(T,k-1),Jy(l)))return!D2(l)&&(h=T2(l,e,yw,l),h)?Gg(h)?_t(h,h.data.length):_t.after(h):Gg(l)?_t(l,l.data.length):_t.before(l);if(vm(e)&&k<T.childNodes.length&&(l=kA(T,k),Jy(l)))return bw(l)?qD(o,l):!D2(l)&&(h=T2(l,e,yw,l),h)?Gg(h)?_t(h,0):_t.before(h):Gg(l)?_t(l,0):_t.after(l);r=l||v.getNode()}if(r&&(vm(e)&&v.isAtEnd()||Hd(e)&&v.isAtStart())&&(r=T2(r,e,bt,o,!0),yw(r,o)))return vw(e,r);l=r&&T2(r,e,yw,o);const B=jl(yt(WD(T,o),AA));return B&&(!l||!B.contains(l))?(vm(e)?v=_t.after(B):v=_t.before(B),v):l?vw(e,l):null},Xh=e=>({next:t=>kS(1,t,e),prev:t=>kS(-1,t,e)}),DS=(e,t,o)=>{const r=e?_t.before(o):_t.after(o);return Zf(e,t,r)},GD=e=>la(e)?_t.before(e):_t.after(e),DA=e=>_t.isTextPosition(e)?e.offset()===0:ya(e.getNode()),_A=e=>{if(_t.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return ya(e.getNode(!0))},OA=(e,t)=>!_t.isTextPosition(e)&&!_t.isTextPosition(t)&&e.getNode()===t.getNode(!0),KD=e=>!_t.isTextPosition(e)&&la(e.getNode()),Na=(e,t,o)=>e?!OA(t,o)&&!KD(t)&&_A(t)&&DA(o):!OA(o,t)&&DA(t)&&_A(o),Zf=(e,t,o)=>{const r=Xh(t);return X.from(e?r.next(o):r.prev(o))},ev=(e,t,o)=>Zf(e,t,o).bind(r=>qg(o,r,t)&&Na(e,o,r)?Zf(e,t,r):X.some(r)),m=(e,t,o,r)=>ev(e,t,o).bind(l=>r(l)?m(e,t,l,r):X.some(l)),y=(e,t)=>{const o=e?t.firstChild:t.lastChild;return dn(o)?X.some(_t(o,e?0:o.data.length)):o?ya(o)?X.some(e?_t.before(o):GD(o)):DS(e,t,o):X.none()},E=ee(Zf,!0),D=ee(Zf,!1),$=ee(y,!0),q=ee(y,!1),oe="_mce_caret",de=e=>Cn(e)&&e.id===oe,Ce=(e,t)=>{let o=t;for(;o&&o!==e;){if(de(o))return o;o=o.parentNode}return null},Ve=e=>J(e.start),mt=e=>Jn(e,"rng"),tn=e=>Jn(e,"id"),Fn=e=>Jn(e,"name"),Nn=e=>an.isArray(e.start),ro=e=>!Fn(e)&&it(e.forward)?e.forward:!0,It=(e,t)=>(Cn(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),nn=(e,t)=>{const o=X.from(t2(e.getRoot(),t.start)),r=X.from(t2(e.getRoot(),t.end));return Bn(o,r,(l,h)=>{const v=e.createRng();return v.setStart(l.container(),l.offset()),v.setEnd(h.container(),h.offset()),{range:v,forward:ro(t)}})},So=(e,t)=>{const r=(e.ownerDocument??document).createTextNode(Ii);e.appendChild(r),t.setStart(r,0),t.setEnd(r,0)},Qo=e=>!e.hasChildNodes(),Kn=(e,t)=>q(e).fold(Ze,o=>(t.setStart(o.container(),o.offset()),t.setEnd(o.container(),o.offset()),!0)),Sr=(e,t,o)=>Qo(t)&&Ce(e,t)?(So(t,o),!0):!1,Er=(e,t,o,r)=>{const l=o[t?"start":"end"],h=e.getRoot();if(l){let v=h,T=l[0];for(let k=l.length-1;v&&k>=1;k--){const B=v.childNodes;if(Sr(h,v,r))return!0;if(l[k]>B.length-1)return Sr(h,v,r)?!0:Kn(v,r);v=B[l[k]]}dn(v)&&(T=Math.min(l[0],v.data.length)),Cn(v)&&(T=Math.min(l[0],v.childNodes.length)),t?r.setStart(v,T):r.setEnd(v,T)}return!0},Wo=e=>dn(e)&&e.data.length>0,Ji=(e,t,o)=>{const r=e.get(o.id+"_"+t),l=r?.parentNode,h=o.keep;if(r&&l){let v,T;if(t==="start"?h?r.hasChildNodes()?(v=r.firstChild,T=1):Wo(r.nextSibling)?(v=r.nextSibling,T=0):Wo(r.previousSibling)?(v=r.previousSibling,T=r.previousSibling.data.length):(v=l,T=e.nodeIndex(r)+1):(v=l,T=e.nodeIndex(r)):h?r.hasChildNodes()?(v=r.firstChild,T=1):Wo(r.previousSibling)?(v=r.previousSibling,T=r.previousSibling.data.length):(v=l,T=e.nodeIndex(r)):(v=l,T=e.nodeIndex(r)),!h){const k=r.previousSibling,B=r.nextSibling;an.each(an.grep(r.childNodes),G=>{dn(G)&&(G.data=G.data.replace(/\uFEFF/g,""))});let W;for(;W=e.get(o.id+"_"+t);)e.remove(W,!0);if(dn(B)&&dn(k)&&!ds.browser.isOpera()){const G=k.data.length;k.appendData(B.data),e.remove(B),v=k,T=G}}return X.some(_t(v,T))}else return X.none()},Cm=(e,t)=>{const o=e.createRng();return Er(e,!0,t,o)&&Er(e,!1,t,o)?X.some({range:o,forward:ro(t)}):X.none()},l0=(e,t)=>{const o=Ji(e,"start",t),r=Ji(e,"end",t);return Bn(o,r.or(o),(l,h)=>{const v=e.createRng();return v.setStart(It(e,l.container()),l.offset()),v.setEnd(It(e,h.container()),h.offset()),{range:v,forward:ro(t)}})},p1=(e,t)=>X.from(e.select(t.name)[t.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),$b=(e,t)=>{const o=e.dom;if(t){if(Nn(t))return Cm(o,t);if(Ve(t))return nn(o,t);if(tn(t))return l0(o,t);if(Fn(t))return p1(o,t);if(mt(t))return X.some({range:t.rng,forward:ro(t)})}return X.none()},Vr=(e,t,o)=>Mt(e,t,o),ud=(e,t)=>{$b(e,t).each(({range:o,forward:r})=>{e.setRng(o,r)})},xi=e=>Cn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",$u=(e=>t=>e===t)(qr),Wf=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,$c=e=>!Wf(e)&&!$u(e)&&!Si(e),xw=e=>{const t=[];if(e)for(let o=0;o<e.rangeCount;o++)t.push(e.getRangeAt(o));return t},_2=e=>ko(e,t=>{const o=hl(t);return o?[De.fromDom(o)]:[]}),c0=e=>xw(e).length>1,Iu=e=>yt(_2(e),Vh),YD=e=>kt(e,"td[data-mce-selected],th[data-mce-selected]"),RA=(e,t)=>{const o=YD(t);return o.length>0?o:Iu(e)},eo=e=>RA(xw(e.selection.getSel()),De.fromDom(e.getBody())),Vd=(e,t)=>Da(e,"table",t),XD=e=>{const t=e.startContainer,o=e.startOffset;return dn(t)?o===0?X.some(De.fromDom(t)):X.none():X.from(t.childNodes[o]).map(De.fromDom)},ww=e=>{const t=e.endContainer,o=e.endOffset;return dn(t)?o===t.data.length?X.some(De.fromDom(t)):X.none():X.from(t.childNodes[o-1]).map(De.fromDom)},NA=e=>ri(e).fold(at([e]),t=>[e].concat(NA(t))),Ib=e=>ai(e).fold(at([e]),t=>rs(t)==="br"?Wu(t).map(o=>[e].concat(Ib(o))).getOr([]):[e].concat(Ib(t))),QD=(e,t)=>Bn(XD(t),ww(t),(o,r)=>{const l=sn(NA(e),ee(ss,o)),h=sn(Ib(e),ee(ss,r));return l.isSome()&&h.isSome()}).getOr(!1),MA=(e,t,o,r)=>{const l=o,h=new Ka(o,l),v=Yn(e.schema.getMoveCaretBeforeOnEnterElements(),(k,B)=>!Ne(["td","th","table"],B.toLowerCase()));let T=o;do{if(dn(T)&&an.trim(T.data).length!==0){r?t.setStart(T,0):t.setEnd(T,T.data.length);return}if(v[T.nodeName]){r?t.setStartBefore(T):T.nodeName==="BR"?t.setEndBefore(T):t.setEndAfter(T);return}}while(T=r?h.next():h.prev());l.nodeName==="BODY"&&(r?t.setStart(l,0):t.setEnd(l,l.childNodes.length))},_S=e=>{const t=e.selection.getSel();return qe(t)&&t.rangeCount>0},OS=(e,t)=>{const o=eo(e);o.length>0?Be(o,r=>{const l=r.dom,h=e.dom.createRng();h.setStartBefore(l),h.setEndAfter(l),t(h,!0)}):t(e.selection.getRng(),!1)},BA=(e,t,o)=>{const r=Xm(e,t);o(r),e.moveToBookmark(r)},RS=(e,t)=>e.startContainer===e.endContainer&&e.endOffset-e.startOffset===1&&t(e.startContainer.childNodes[e.startOffset]),kz=e=>RS(e,ru),Dz=e=>RS(e,dn),_z=e=>RS(e,Op),NS=e=>Yo(e?.nodeType),MS=e=>Cn(e)&&!xi(e)&&!de(e)&&!Hm(e),AB=(e,t)=>{if(MS(t)&&!/^(TD|TH)$/.test(t.nodeName)){const o=e.getAttrib(t,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},kB=(e,t,o)=>{const{selection:r,dom:l}=e,h=r.getNode(),v=na(h);BA(r,!0,()=>{t()}),v&&na(h)&&l.isChildOf(h,e.getBody())?e.selection.select(h):o(r.getStart())&&DB(l,r)},DB=(e,t)=>{const o=t.getRng(),{startContainer:r,startOffset:l}=o,h=t.getNode();if(!AB(e,h)&&Cn(r)){const v=r.childNodes,T=e.getRoot();let k;if(l<v.length){const B=v[l];k=new Ka(B,e.getParent(B,e.isBlock)??T)}else{const B=v[v.length-1];k=new Ka(B,e.getParent(B,e.isBlock)??T),k.next(!0)}for(let B=k.current();B;B=k.next()){if(e.getContentEditable(B)==="false")return;if(dn(B)&&!JD(B)){o.setStart(B,0),t.setRng(o);return}}}},_B=(e,t,o)=>{if(e){const r=t?"nextSibling":"previousSibling";for(e=e[r];e;e=e[r])if(Cn(e)||!JD(e))return e}},BS=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Ya(e,t),Cw=(e,t,o)=>e.schema.isValidChild(t,o),JD=(e,t=!1)=>{if(qe(e)&&dn(e)){const o=t?e.data.replace(/ /g,""):e.data;return Ap(o)}else return!1},Oz=e=>qe(e)&&dn(e)&&e.length===0,Rz=(e,t)=>{const o="[data-mce-cef-wrappable]",r=EB(e),l=wu(r)?o:`${o},${r}`;return wl(De.fromDom(t),l)},OB=(e,t)=>{const o=e.dom;return MS(t)&&o.getContentEditable(t)==="false"&&Rz(e,t)&&o.select('[contenteditable="true"]',t).length===0},Hb=(e,t)=>Oe(e)?e(t):(qe(t)&&(e=e.replace(/%(\w+)/g,(o,r)=>t[r]||o)),e),LS=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),LA=(e,t)=>{if(mn(e))return null;{let o=String(e);return(t==="color"||t==="backgroundColor")&&(o=wc(o)),t==="fontWeight"&&e===700&&(o="bold"),t==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},PS=(e,t,o)=>{const r=e.getStyle(t,o);return LA(r,o)},RB=(e,t)=>{let o;return e.getParent(t,r=>Cn(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},PA=(e,t,o)=>e.getParents(t,o,e.getRoot()),e_=(e,t,o)=>{const r=e.formatter.get(t);return qe(r)&&Ge(r,o)},FA=(e,t)=>e_(e,t,r=>{const l=h=>Oe(h)||h.length>1&&h.charAt(0)==="%";return Ge(["styles","attributes"],h=>Ro(r,h).exists(v=>{const T=Qe(v)?v:yo(v);return Ge(T,l)}))}),NB=(e,t,o)=>{const r=["inline","block","selector","attributes","styles","classes"],l=h=>Yn(h,(v,T)=>Ge(r,k=>k===T));return e_(e,t,h=>{const v=l(h);return e_(e,o,T=>{const k=l(T);return La(v,k)})})},u0=e=>ls(e,"block"),Nz=e=>u0(e)&&e.wrapper===!0,Mz=e=>u0(e)&&e.wrapper!==!0,Kg=e=>ls(e,"selector"),hu=e=>ls(e,"inline"),cne=e=>Kg(e)&&hu(e)&&qt(Ro(e,"mixed"),!0),t_=e=>Kg(e)&&e.expand!==!1&&!hu(e),une=e=>{const t=[];let o=e;for(;o;){if(dn(o)&&o.data!==Ii||o.childNodes.length>1)return[];Cn(o)&&t.push(o),o=o.firstChild}return t},MB=e=>une(e).length>0,n_=e=>de(e.dom)&&MB(e.dom),FS=xi,BB=PA,Ja=JD,o_=BS,$A=e=>la(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,$S=(e,t)=>{let o=t;for(;o;){if(Cn(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:t;o=o.parentNode}return t},b1=(e,t,o,r)=>{const l=t.data;if(e){for(let h=o;h>0;h--)if(r(l.charAt(h-1)))return h}else for(let h=o;h<l.length;h++)if(r(l.charAt(h)))return h;return-1},IA=(e,t,o)=>b1(e,t,o,r=>$u(r)||Wf(r)),Sw=(e,t,o)=>b1(e,t,o,$c),s_=(e,t,o,r,l,h)=>{let v;const T=e.getParent(o,G=>lm(G)||e.isBlock(G)),k=qe(T)?T:t,B=(G,Q,ce)=>{const ke=du(e),ge=l?ke.backwards:ke.forwards;return X.from(ge(G,Q,(Te,ot)=>FS(Te.parentNode)?-1:(v=Te,ce(l,Te,ot)),k))};return B(o,r,IA).bind(G=>h?B(G.container,G.offset+(l?-1:0),Sw):X.some(G)).orThunk(()=>v?X.some({container:v,offset:l?0:v.length}):X.none())},LB=(e,t,o,r,l)=>{const h=r[l];dn(r)&&wu(r.data)&&h&&(r=h);const v=BB(e,r);for(let T=0;T<v.length;T++)for(let k=0;k<t.length;k++){const B=t[k];if(!(qe(B.collapsed)&&B.collapsed!==o.collapsed)&&Kg(B)&&e.is(v[T],B.selector))return v[T]}return r},PB=(e,t,o,r)=>{let l=o;const h=e.getRoot(),v=t[0];if(u0(v)&&(l=v.wrapper?null:e.getParent(o,v.block,h)),!l){const T=e.getParent(o,"LI,TD,TH,SUMMARY")??h;l=e.getParent(dn(o)?o.parentNode:o,k=>k!==h&&o_(e.schema,k),T)}if(l&&u0(v)&&v.wrapper&&(l=BB(e,l,"ul,ol").reverse()[0]||l),!l)for(l=o;l&&l[r]&&!e.isBlock(l[r])&&(l=l[r],!LS(l,"br")););return l||o},r_=(e,t,o,r)=>{const l=o.parentNode;return qe(o[r])?!1:l===t||mn(l)||e.isBlock(l)?!0:r_(e,t,l,r)},HA=(e,t,o,r,l,h)=>{let v=o;const T=l?"previousSibling":"nextSibling",k=e.getRoot();if(dn(o)&&!Ja(o)&&(l?r>0:r<o.data.length))return o;for(;v;){if(lm(v))return o;if(!t[0].block_expand&&e.isBlock(v))return h?v:o;for(let B=v[T];B;B=B[T]){const W=dn(B)&&!r_(e,k,B,T);if(!FS(B)&&!$A(B)&&!Ja(B,W))return v}if(v===k||v.parentNode===k){o=v;break}v=v.parentNode}return o},zA=e=>FS(e.parentNode)||FS(e),y1=(e,t,o,r={})=>{const{includeTrailingSpace:l=!1,expandToBlock:h=!0}=r,v=e.getParent(t.commonAncestorContainer,ce=>lm(ce)),T=qe(v)?v:e.getRoot();let{startContainer:k,startOffset:B,endContainer:W,endOffset:G}=t;const Q=o[0];return Cn(k)&&k.hasChildNodes()&&(k=zg(k,B),dn(k)&&(B=0)),Cn(W)&&W.hasChildNodes()&&(W=zg(W,t.collapsed?G:G-1),dn(W)&&(G=W.data.length)),k=$S(e,k),W=$S(e,W),zA(k)&&(k=FS(k)?k:k.parentNode,t.collapsed?k=k.previousSibling||k:k=k.nextSibling||k,dn(k)&&(B=t.collapsed?k.length:0)),zA(W)&&(W=FS(W)?W:W.parentNode,t.collapsed?W=W.nextSibling||W:W=W.previousSibling||W,dn(W)&&(G=t.collapsed?0:W.length)),t.collapsed&&(s_(e,T,k,B,!0,l).each(({container:ge,offset:Te})=>{k=ge,B=Te}),s_(e,T,W,G,!1,l).each(({container:ge,offset:Te})=>{W=ge,G=Te})),(hu(Q)||Q.block_expand)&&((!hu(Q)||!dn(k)||B===0)&&(k=HA(e,o,k,B,!0,h)),(!hu(Q)||!dn(W)||G===W.data.length)&&(W=HA(e,o,W,G,!1,h))),t_(Q)&&(k=LB(e,o,t,k,"previousSibling"),W=LB(e,o,t,W,"nextSibling")),(u0(Q)||Kg(Q))&&(k=PB(e,o,k,"previousSibling"),W=PB(e,o,W,"nextSibling"),u0(Q)&&(e.isBlock(k)||(k=HA(e,o,k,B,!0,h),dn(k)&&(B=0)),e.isBlock(W)||(W=HA(e,o,W,G,!1,h),dn(W)&&(G=W.data.length)))),Cn(k)&&k.parentNode&&(B=e.nodeIndex(k),k=k.parentNode),Cn(W)&&W.parentNode&&(G=e.nodeIndex(W)+1,W=W.parentNode),{startContainer:k,startOffset:B,endContainer:W,endOffset:G}},Yg=(e,t,o)=>{const r=t.startOffset,l=zg(t.startContainer,r),h=t.endOffset,v=zg(t.endContainer,h-1),T=ge=>{const Te=ge[0];dn(Te)&&Te===l&&r>=Te.data.length&&ge.splice(0,1);const ot=ge[ge.length-1];return h===0&&ge.length>0&&ot===v&&dn(ot)&&ge.splice(ge.length-1,1),ge},k=(ge,Te,ot)=>{const rt=[];for(;ge&&ge!==ot;ge=ge[Te])rt.push(ge);return rt},B=(ge,Te)=>e.getParent(ge,ot=>ot.parentNode===Te,Te),W=(ge,Te,ot)=>{const rt=ot?"nextSibling":"previousSibling";for(let ut=ge,Ft=ut.parentNode;ut&&ut!==Te;ut=Ft){Ft=ut.parentNode;const Jt=k(ut===ge?ut:ut[rt],rt);Jt.length&&(ot||Jt.reverse(),o(T(Jt)))}};if(l===v)return o(T([l]));const G=e.findCommonAncestor(l,v)??e.getRoot();if(e.isChildOf(l,v))return W(l,G,!0);if(e.isChildOf(v,l))return W(v,G);const Q=B(l,G)||l,ce=B(v,G)||v;W(l,Q,!0);const ke=k(Q===l?Q:Q.nextSibling,"nextSibling",ce===v?ce.nextSibling:ce);ke.length&&o(T(ke)),W(v,ce)},O2=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"],FB=e=>xs(e)&&bi(e)===Ii,Bz=(e,t,o,r)=>Qc(t).fold(()=>"skipping",l=>r==="br"||FB(t)?"valid":Vv(t)?"existing":de(t.dom)?"caret":Ge(O2,h=>wl(t,h))?"valid-block":!Cw(e,o,r)||!Cw(e,rs(l),o)?"invalid-child":"valid"),Lz=(e,t)=>{const o=y1(e.dom,t,[{inline:"span"}]);t.setStart(o.startContainer,o.startOffset),t.setEnd(o.endContainer,o.endOffset),e.selection.setRng(t)},$B=(e,t,o,r,l,h)=>{const{uid:v=t,...T}=o;pc(e,Hh()),Or(e,`${hm()}`,v),Or(e,`${sd()}`,r);const{attributes:k={},classes:B=[]}=l(v,T);if(Wa(e,k),Pm(e,B),h){B.length>0&&Or(e,`${ca()}`,B.join(","));const W=Hn(k);W.length>0&&Or(e,`${Q0()}`,W.join(","))}},Pz=e=>{aa(e,Hh()),li(e,`${hm()}`),li(e,`${sd()}`),li(e,`${Wp()}`);const t=ul(e,`${Q0()}`).map(r=>r.split(",")).getOr([]),o=ul(e,`${ca()}`).map(r=>r.split(",")).getOr([]);Be(t,r=>li(e,r)),_d(e,o),li(e,`${ca()}`),li(e,`${Q0()}`)},IB=(e,t,o,r,l)=>{const h=De.fromTag("span",e);return $B(h,t,o,r,l,!1),h},Fz=(e,t,o,r,l,h)=>{const v=[],T=IB(e.getDoc(),o,h,r,l),k=Ps(),B=()=>{k.clear()},W=()=>k.get().getOrThunk(()=>{const ke=Ai(T);return v.push(ke),k.set(ke),ke}),G=ke=>{Be(ke,Q)},Q=ke=>{switch(Bz(e,ke,"span",rs(ke))){case"invalid-child":{B();const Te=ma(ke);G(Te),B();break}case"valid-block":{B(),$B(ke,o,h,r,l,!0);break}case"valid":{const Te=W();Ml(ke,Te);break}}},ce=ke=>{const ge=tt(ke,De.fromDom);G(ge)};return Yg(e.dom,t,ke=>{B(),ce(ke)}),v},HB=(e,t,o,r)=>{e.undoManager.transact(()=>{const l=e.selection,h=l.getRng(),v=eo(e).length>0,T=us("mce-annotation");if(h.collapsed&&!v&&Lz(e,h),l.getRng().collapsed&&!v){const k=IB(e.getDoc(),T,r,t,o.decorate);tf(k,qr),l.getRng().insertNode(k.dom),l.select(k.dom)}else BA(l,!1,()=>{OS(e,k=>{Fz(e,k,T,t,o.decorate,r)})})})},zB=e=>{const t=Gp();qp(e,t);const o=zh(e,t),r=Pa("span"),l=h=>{Be(h,v=>{r(v)?Gl(v):Pz(v)})};return{register:(h,v)=>{t.register(h,v)},annotate:(h,v)=>{t.lookup(h).each(T=>{HB(e,h,T,v)})},annotationChanged:(h,v)=>{o.addListener(h,v)},remove:h=>{pb(e,X.some(h)).each(({elements:v})=>{const T=e.selection.getBookmark();l(v),e.selection.moveToBookmark(T)})},removeAll:h=>{const v=e.selection.getBookmark();Oo(If(e,h),(T,k)=>{l(T)}),e.selection.moveToBookmark(v)},getAll:h=>{const v=If(e,h);return ci(v,T=>tt(T,k=>k.dom))}}},Ew=e=>({getBookmark:ee(Vr,e),moveToBookmark:ee(ud,e)});Ew.isBookmarkNode=xi;const VB=(e,t,o)=>o.collapsed?!1:Ge(o.getClientRects(),r=>Wv(r,e,t)),$z=(e,t)=>{const o=xs(t)?bi(t).length:ma(t).length+1;return e>o?o:e<0?0:e},Iz=e=>Oh.range(e.start,$z(e.soffset,e.start),e.finish,$z(e.foffset,e.finish)),Ic=(e,t)=>!eb(t.dom)&&(mc(e,t)||ss(e,t)),IS=e=>t=>Ic(e,t.start)&&Ic(e,t.finish),Hu=e=>e.inline||ds.browser.isFirefox(),Xg=e=>Oh.range(De.fromDom(e.startContainer),e.startOffset,De.fromDom(e.endContainer),e.endOffset),Hz=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?X.none():X.from(t.getRangeAt(0))).map(Xg)},jB=e=>{const t=Zu(e);return Hz(t.dom).filter(IS(e))},zz=(e,t)=>X.from(t).filter(IS(e)).map(Iz),a_=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),X.some(t)}catch{return X.none()}},VA=e=>{const t=Hu(e)?jB(De.fromDom(e.getBody())):X.none();e.bookmark=t.isSome()?t:e.bookmark},jA=e=>(e.bookmark?e.bookmark:X.none()).bind(o=>zz(De.fromDom(e.getBody()),o)).bind(a_),Vz=e=>{jA(e).each(t=>e.selection.setRng(t))},UB={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},oh=(e,t)=>(Yo(t)||(t=0),window.setTimeout(e,t)),gf=(e,t)=>(Yo(t)||(t=0),window.setInterval(e,t)),Qg={setEditorTimeout:(e,t,o)=>oh(()=>{e.removed||t()},o),setEditorInterval:(e,t,o)=>{const r=gf(()=>{e.removed?window.clearInterval(r):t()},o);return r}},d0=e=>e.type==="nodechange"&&e.selectionChange,i_=(e,t)=>{const o=()=>{t.throttle()};hs.DOM.bind(document,"mouseup",o),e.on("remove",()=>{hs.DOM.unbind(document,"mouseup",o)})},jz=(e,t)=>{e.on("mouseup touchend",o=>{t.throttle()})},Uz=(e,t)=>{jz(e,t),e.on("keyup NodeChange AfterSetSelectionRange",o=>{d0(o)||VA(e)})},ZB=e=>{const t=An(()=>{VA(e)},0);e.on("init",()=>{e.inline&&i_(e,t),Uz(e,t)}),e.on("remove",()=>{t.cancel()})};let Tw;const UA=hs.DOM,Zz=e=>Cn(e)&&UB.isEditorUIElement(e),HS=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},ZA=(e,t)=>{const o=Gy(e);return UA.getParent(t,l=>Zz(l)||(o?e.dom.is(l,o):!1))!==null},l_=e=>{try{const t=ra(De.fromDom(e.getElement()));return Nl(t).fold(()=>document.body,o=>o.dom)}catch{return document.body}},Wz=(e,t)=>{const o=t.editor;ZB(o);const r=(l,h)=>{if(x2(l)&&l.inline!==!0){const v=De.fromDom(l.getContainer());h(v,"tox-edit-focus")}};o.on("focusin",()=>{const l=e.focusedEditor;HS(l_(o))&&r(o,pc),l!==o&&(l&&l.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:l}),o.focus(!0))}),o.on("focusout",()=>{Qg.setEditorTimeout(o,()=>{const l=e.focusedEditor;(!HS(l_(o))||l!==o)&&r(o,aa),!ZA(o,l_(o))&&l===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Tw||(Tw=l=>{const h=e.activeEditor;h&&ku(l).each(v=>{const T=v;T.ownerDocument===document&&T!==document.body&&!ZA(h,T)&&e.focusedEditor===h&&(h.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},UA.bind(document,"focusin",Tw))},qz=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Tw&&(UA.unbind(document,"focusin",Tw),Tw=null)},WB=e=>{e.on("AddEditor",ee(Wz,e)),e.on("RemoveEditor",ee(qz,e))},c_=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="true"),qB=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="false")!==null,u_=e=>e.collapsed?X.from(zg(e.startContainer,e.startOffset)).map(De.fromDom):X.none(),Gz=(e,t)=>u_(t).bind(o=>e1(o)?X.some(o):mc(e,o)?X.none():X.some(e)),Kz=(e,t)=>{Gz(De.fromDom(e.getBody()),t).bind(o=>$(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},d_=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},Yz=e=>Js(e)||Du(e).isSome(),GB=e=>qe(e.iframeElement)&&Js(De.fromDom(e.iframeElement)),Xz=e=>{const t=e.getBody();return t&&Yz(De.fromDom(t))},Qz=e=>{const t=ra(De.fromDom(e.getElement()));return Nl(t).filter(o=>!HS(o.dom)&&ZA(e,o.dom)).isSome()},Aw=e=>e.inline?Xz(e):GB(e),KB=e=>Aw(e)||Qz(e),fne=e=>{const t=e.selection,o=e.getBody();let r=t.getRng();e.quirks.refreshContentEditable();const l=v=>{jA(v).each(T=>{v.selection.setRng(T),r=T})};!Aw(e)&&e.hasEditableRoot()&&l(e);const h=c_(e,t.getNode());if(h&&e.dom.isChildOf(h,o)){qB(e,h)||d_(o),d_(h),e.hasEditableRoot()||l(e),Kz(e,r),WA(e);return}e.inline||(ds.browser.isOpera()||d_(o),e.getWin().focus()),(ds.browser.isFirefox()||e.inline)&&(d_(o),Kz(e,r)),WA(e)},WA=e=>e.editorManager.setActive(e),YB=(e,t)=>{e.removed||(t?WA(e):fne(e))},Ln={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Ln.metaKeyPressed(e),metaKeyPressed:e=>ds.os.isMacOS()||ds.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},R2="data-mce-selected",Jz=`table,img,figure.image,hr,video,span.mce-preview-object,details,${vy}`,eV=Math.abs,f_=Math.round,XB={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},tV=e=>e.type==="longpress"||e.type.indexOf("touch")===0,nV=(e,t)=>{const o=t.dom,r=t.getDoc(),l=document,h=t.getBody();let v,T,k,B,W,G,Q,ce,ke,ge,Te,ot,rt,ut,Ft;const Jt=Ht=>qe(Ht)&&(Od(Ht)||o.is(Ht,"figure.image")),Rn=Ht=>Rd(Ht)||o.hasClass(Ht,"mce-preview-object"),io=(Ht,Sn)=>{if(tV(Ht)){const Xn=Ht.touches[0];return Jt(Ht.target)&&!VB(Xn.clientX,Xn.clientY,Sn)}else return Jt(Ht.target)&&!VB(Ht.clientX,Ht.clientY,Sn)},Lt=Ht=>{const Sn=Ht.target;io(Ht,t.selection.getRng())&&!Ht.isDefaultPrevented()&&t.selection.select(Sn)},Ct=Ht=>o.hasClass(Ht,"mce-preview-object")&&qe(Ht.firstElementChild)?[Ht,Ht.firstElementChild]:o.is(Ht,"figure.image")?[Ht.querySelector("img")]:[Ht],$t=Ht=>{const Sn=rA(t);return!Sn||t.mode.isReadOnly()||Ht.getAttribute("data-mce-resize")==="false"||Ht===t.getBody()?!1:o.hasClass(Ht,"mce-preview-object")&&qe(Ht.firstElementChild)?wl(De.fromDom(Ht.firstElementChild),Sn):wl(De.fromDom(Ht),Sn)},On=(Ht,Sn)=>{if(Rn(Sn))return Ht.create("img",{src:ds.transparentSrc});if(iu(Sn)){const Ms=wo(B.name,"n")?gs:Wr,Cs=Sn.cloneNode(!0);return Ms(Ht.select("tr",Cs)).each(Zr=>{const km=Ht.select("td,th",Zr);Ht.setStyle(Zr,"height",null),Be(km,dp=>Ht.setStyle(dp,"height",null))}),Cs}else return Sn.cloneNode(!0)},Bo=(Ht,Sn,Xn)=>{Ht[Sn]=Xn;const Ms=400;if(Ht.width>Ms&&!(Sn==="width"&&Xn<Ms))Ht[Sn]=Xn,o.setStyle(Ht,Sn,Xn);else{const Cs=Sn==="height"?Ms*(ge??1):Ms;Ht[Sn]=Cs,o.setStyle(Ht,Sn,Cs)}},Lo=(Ht,Sn,Xn)=>{if(qe(Xn)){const Ms=Ct(Ht);Be(Ms,Cs=>{Np(Cs)?Bo(Cs,Sn,Xn):Cs.style[Sn]||!t.schema.isValid(Cs.nodeName.toLowerCase(),Sn)?o.setStyle(Cs,Sn,Xn):o.setAttrib(Cs,Sn,""+Xn)})}},Zs=(Ht,Sn,Xn)=>{Lo(Ht,"width",Sn),Lo(Ht,"height",Xn)},Pr=Ht=>{let Sn,Xn,Ms,Cs,Zr;Sn=Ht.screenX-G,Xn=Ht.screenY-Q,ot=Sn*B[2]+ce,rt=Xn*B[3]+ke,ot=ot<5?5:ot,rt=rt<5?5:rt,(Jt(v)||Rn(v)||Np(v))&&wD(t)!==!1?Ms=!Ln.modifierPressed(Ht):Ms=Ln.modifierPressed(Ht),Ms&&(eV(Sn)>eV(Xn)?(rt=f_(ot*ge),ot=f_(rt/ge)):(ot=f_(rt/ge),rt=f_(ot*ge))),Zs(T,ot,rt),Cs=B.startPos.x+Sn,Zr=B.startPos.y+Xn,Cs=Cs>0?Cs:0,Zr=Zr>0?Zr:0,o.setStyles(k,{left:Cs,top:Zr,display:"block"}),k.innerHTML=ot+" &times; "+rt,Sn=h.scrollWidth-ut,Xn=h.scrollHeight-Ft,Sn+Xn!==0&&o.setStyles(k,{left:Cs-Sn,top:Zr-Xn}),Te||(PT(t,v,ce,ke,"corner-"+B.name),Te=!0)},Ca=()=>{const Ht=Te;Te=!1,Ht&&(Lo(v,"width",ot),Lo(v,"height",rt)),o.unbind(r,"mousemove",Pr),o.unbind(r,"mouseup",Ca),l!==r&&(o.unbind(l,"mousemove",Pr),o.unbind(l,"mouseup",Ca)),o.remove(T),o.remove(k),o.remove(W),ti(v),Ht&&(qC(t,v,ot,rt,"corner-"+B.name),o.setAttrib(v,"style",o.getAttrib(v,"style"))),t.nodeChanged()},ti=Ht=>{_r();const Sn=o.getPos(Ht,h),Xn=Sn.x,Ms=Sn.y,Cs=Ht.getBoundingClientRect(),Zr=Cs.width||Cs.right-Cs.left,km=Cs.height||Cs.bottom-Cs.top;v!==Ht&&(Am(),v=Ht,ot=rt=0);const dp=t.dispatch("ObjectSelected",{target:Ht});$t(Ht)&&!dp.isDefaultPrevented()?Oo(XB,(dg,fh)=>{const Tv=Yf=>{const ry=Ct(v)[0];G=Yf.screenX,Q=Yf.screenY,ce=ry.clientWidth,ke=ry.clientHeight,ge=ke/ce,B=dg,B.name=fh,B.startPos={x:Zr*dg[0]+Xn,y:km*dg[1]+Ms},ut=h.scrollWidth,Ft=h.scrollHeight,W=o.add(h,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(W,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),T=On(o,v),o.addClass(T,"mce-clonedresizable"),o.setAttrib(T,"data-mce-bogus","all"),T.contentEditable="false",o.setStyles(T,{left:Xn,top:Ms,margin:0}),Zs(T,Zr,km),T.removeAttribute(R2),h.appendChild(T),o.bind(r,"mousemove",Pr),o.bind(r,"mouseup",Ca),l!==r&&(o.bind(l,"mousemove",Pr),o.bind(l,"mouseup",Ca)),k=o.add(h,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ce+" &times; "+ke)};let Wd=o.get("mceResizeHandle"+fh);Wd&&o.remove(Wd),Wd=o.add(h,"div",{id:"mceResizeHandle"+fh,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+fh+"-resize; margin:0; padding:0"}),o.bind(Wd,"mousedown",Yf=>{Yf.stopImmediatePropagation(),Yf.preventDefault(),Tv(Yf)}),dg.elm=Wd,o.setStyles(Wd,{left:Zr*dg[0]+Xn-Wd.offsetWidth/2,top:km*dg[1]+Ms-Wd.offsetHeight/2})}):Am(!1)},jc=An(ti,0),Am=(Ht=!0)=>{jc.cancel(),_r(),v&&Ht&&v.removeAttribute(R2),Oo(XB,(Sn,Xn)=>{const Ms=o.get("mceResizeHandle"+Xn);Ms&&(o.unbind(Ms),o.remove(Ms))})},$n=(Ht,Sn)=>o.isChildOf(Ht,Sn),go=Ht=>{if(Te||t.removed||t.composing)return;const Sn=Ht.type==="mousedown"?Ht.target:e.getNode(),Xn=El(De.fromDom(Sn),Jz).map(Cs=>Cs.dom).filter(Cs=>o.isEditable(Cs.parentElement)||Cs.nodeName==="IMG"&&o.isEditable(Cs)).getOrUndefined(),Ms=qe(Xn)?o.getAttrib(Xn,R2,"1"):"1";if(Be(o.select(`img[${R2}],hr[${R2}]`),Cs=>{Cs.removeAttribute(R2)}),qe(Xn)&&$n(Xn,h)&&KB(t)){br();const Cs=e.getStart(!0);if($n(Cs,Xn)&&$n(e.getEnd(!0),Xn)){o.setAttrib(Xn,R2,Ms),jc.throttle(Xn);return}}Am()},_r=()=>{Oo(XB,Ht=>{Ht.elm&&(o.unbind(Ht.elm),delete Ht.elm)})},br=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{br(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",go),t.on("keyup compositionend",Ht=>{v&&v.nodeName==="TABLE"&&go(Ht)}),t.on("hide blur",Am),t.on("contextmenu longpress",Lt,!0)}),t.on("remove",_r),{isResizable:$t,showResizeRect:ti,hideResizeRect:Am,updateResizeRect:go,destroy:()=>{jc.cancel(),v=T=W=null}}},QB=(e,t,o)=>{const r=Zu(De.fromDom(o));return J1(r.dom,e,t).map(l=>{const h=o.createRange();return h.setStart(l.start.dom,l.soffset),h.setEnd(l.finish.dom,l.foffset),h}).getOrUndefined()},zb=(e,t)=>qe(e)&&qe(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,oV=(e,t,o)=>{let r=e;for(;r&&r!==t;){if(o(r))return r;r=r.parentNode}return null},m_=(e,t,o)=>oV(e,t,o)!==null,JB=(e,t,o)=>m_(e,t,r=>r.nodeName===o),e6=(e,t)=>ad(e)&&!m_(e,t,de),h_=(e,t,o)=>{const r=t.parentNode;if(r){const l=new Ka(t,e.getParent(r,e.isBlock)||e.getRoot());let h;for(;h=l[o?"prev":"next"]();)if(la(h))return!0}return!1},g_=(e,t)=>e.previousSibling?.nodeName===t,mne=(e,t)=>{let o=t;for(;o&&o!==e;){if(na(o))return!0;o=o.parentNode}return!1},p_=(e,t,o,r,l)=>{const h=e.getRoot(),v=e.schema.getNonEmptyElements(),T=l.parentNode;let k,B;if(!T)return X.none();const W=e.getParent(T,e.isBlock)||h;if(r&&la(l)&&t&&e.isEmpty(W))return X.some(_t(T,e.nodeIndex(l)));const G=new Ka(l,W);for(;B=G[r?"prev":"next"]();){if(e.getContentEditableParent(B)==="false"||e6(B,h))return X.none();if(dn(B)&&B.data.length>0)return JB(B,h,"A")?X.none():X.some(_t(B,r?B.data.length:0));if(e.isBlock(B)||v[B.nodeName.toLowerCase()])return X.none();k=B}return ns(k)?X.none():o&&k?X.some(_t(k,0)):X.none()},sV=(e,t,o,r)=>{const l=e.getRoot();let h,v=!1,T=o?r.startContainer:r.endContainer,k=o?r.startOffset:r.endOffset;const B=Cn(T)&&k===T.childNodes.length,W=e.schema.getNonEmptyElements();let G=o;if(ad(T))return X.none();if(Cn(T)&&k>T.childNodes.length-1&&(G=!1),zm(T)&&(T=l,k=0),T===l){if(G&&(h=T.childNodes[k>0?k-1:0],h&&(ad(h)||W[h.nodeName]||iu(h))))return X.none();if(T.hasChildNodes()){if(k=Math.min(!G&&k>0?k-1:k,T.childNodes.length-1),T=T.childNodes[k],k=dn(T)&&B?T.data.length:0,!t&&T===l.lastChild&&iu(T)||mne(l,T)||ad(T)||j0(T))return X.none();if(T.hasChildNodes()&&!iu(T)){h=T;const Q=new Ka(T,l);do{if(na(h)||ad(h)){v=!1;break}if(dn(h)&&h.data.length>0){k=G?0:h.data.length,T=h,v=!0;break}if(W[h.nodeName.toLowerCase()]&&!by(h)){k=e.nodeIndex(h),T=h.parentNode,G||k++,v=!0;break}}while(h=G?Q.next():Q.prev())}}}return t&&(dn(T)&&k===0&&p_(e,B,t,!0,T).each(Q=>{T=Q.container(),k=Q.offset(),v=!0}),Cn(T)&&(h=T.childNodes[k],h||(h=T.childNodes[k-1]),h&&la(h)&&!g_(h,"A")&&!h_(e,h,!1)&&!h_(e,h,!0)&&p_(e,B,t,!0,h).each(Q=>{T=Q.container(),k=Q.offset(),v=!0}))),G&&!t&&dn(T)&&k===T.data.length&&p_(e,B,t,!1,T).each(Q=>{T=Q.container(),k=Q.offset(),v=!0}),v&&T?X.some(_t(T,k)):X.none()},qA=(e,t)=>{const o=t.collapsed,r=t.cloneRange(),l=_t.fromRangeStart(t);return sV(e,o,!0,r).each(h=>{(!o||!_t.isAbove(l,h))&&r.setStart(h.container(),h.offset())}),o||sV(e,o,!1,r).each(h=>{r.setEnd(h.container(),h.offset())}),o&&r.collapse(!0),zb(t,r)?X.none():X.some(r)},GA=(e,t)=>e.splitText(t),kw=e=>{let t=e.startContainer,o=e.startOffset,r=e.endContainer,l=e.endOffset;if(t===r&&dn(t)){if(o>0&&o<t.data.length)if(r=GA(t,o),t=r.previousSibling,l>o){l=l-o;const h=GA(r,l).previousSibling;t=r=h,l=h.data.length,o=0}else l=0}else if(dn(t)&&o>0&&o<t.data.length&&(t=GA(t,o),o=0),dn(r)&&l>0&&l<r.data.length){const h=GA(r,l).previousSibling;r=h,l=h.data.length}return{startContainer:t,startOffset:o,endContainer:r,endOffset:l}},f0=e=>({walk:(h,v)=>Yg(e,h,v),split:kw,expand:(h,v={type:"word"})=>{if(v.type==="word"){const T=y1(e,h,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),k=e.createRng();return k.setStart(T.startContainer,T.startOffset),k.setEnd(T.endContainer,T.endOffset),k}return h},normalize:h=>qA(e,h).fold(Ze,v=>(h.setStart(v.startContainer,v.startOffset),h.setEnd(v.endContainer,v.endOffset),!0))});f0.compareRanges=zb,f0.getCaretRangeFromPoint=QB,f0.getSelectedNode=hl,f0.getNode=zg;const rV=(e,t)=>e.view(t).fold(at([]),r=>{const l=e.owner(r),h=rV(e,l);return[r].concat(h)}),hne=(e,t)=>{const o=t.owner(e);return rV(t,o)};var pne=Object.freeze({__proto__:null,view:e=>(e.dom===document?X.none():X.from(e.dom.defaultView?.frameElement)).map(De.fromDom),owner:e=>Xc(e)});const aV=e=>{const t=Cl(),o=Tg(t),r=hne(e,pne),l=rm(e),h=Dt(r,(v,T)=>{const k=rm(T);return{left:v.left+k.left,top:v.top+k.top}},{left:0,top:0});return gc(h.left+l.left+o.left,h.top+l.top+o.top)},KA=e=>rs(e)==="textarea",iV=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),t6=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},bne=(e,t)=>{const o=ma(e);if(o.length===0||KA(e))return{element:e,offset:t};if(t<o.length&&!KA(o[t]))return{element:o[t],offset:0};{const r=o[o.length-1];return KA(r)?{element:e,offset:t}:rs(r)==="img"?{element:r,offset:1}:xs(r)?{element:r,offset:bi(r).length}:{element:r,offset:ma(r).length}}},n6=(e,t)=>{const o=Rf(e),r=dy(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:t}},o6=(e,t)=>{const o=bne(e,t),r=De.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Ii+"</span>");return cl(o.element,r),n6(r,()=>ws(r))},lV=e=>n6(De.fromDom(e),Pt),s6=(e,t,o,r)=>{uV(e,(l,h)=>cV(e,t,o,r),o)},r6=(e,t,o,r,l)=>{const h={elm:r.element.dom,alignToTop:l};if(iV(e,h))return;const v=Tg(t).top;o(e,t,v,r,l),t6(e,h)},cV=(e,t,o,r)=>{const l=De.fromDom(e.getBody()),h=De.fromDom(e.getDoc());Eg(l);const v=o6(De.fromDom(o.startContainer),o.startOffset);r6(e,h,t,v,r),v.cleanup()},a6=(e,t,o,r)=>{const l=De.fromDom(e.getDoc());r6(e,l,o,lV(t),r)},uV=(e,t,o)=>{const r=o.startContainer,l=o.startOffset,h=o.endContainer,v=o.endOffset;t(De.fromDom(r),De.fromDom(h));const T=e.dom.createRng();T.setStart(r,l),T.setEnd(h,v),e.selection.setRng(o)},b_=(e,t,o,r,l)=>{const h=t.pos,v=30;if(r)Ag(h.left,Math.max(0,h.top-v),l);else{const T=h.top-o+t.height+v;Ag(-e.getBody().getBoundingClientRect().left,T,l)}},i6=(e,t,o,r,l,h)=>{const v=r+o,T=l.pos.top,k=l.bottom,B=k-T>=r;T<o?b_(e,l,r,h!==!1,t):T>v?b_(e,l,r,B?h!==!1:h===!0,t):k>v&&!B&&b_(e,l,r,h===!0,t)},l6=(e,t,o,r,l)=>{const h=Zu(t).dom.innerHeight;i6(e,t,o,h,r,l)},c6=(e,t,o,r,l)=>{const h=Zu(t).dom.innerHeight;i6(e,t,o,h,r,l);const v=aV(r.element),T=Nu(window);v.top<T.y?tu(r.element,l!==!1):v.top>T.bottom&&tu(r.element,l===!0)},dV=(e,t,o)=>s6(e,l6,t,o),fV=(e,t,o)=>a6(e,t,l6,o),mV=(e,t,o)=>s6(e,c6,t,o),hV=(e,t,o)=>a6(e,t,c6,o),In=(e,t,o)=>{(e.inline?fV:hV)(e,t,o)},sh=(e,t,o)=>{(e.inline?dV:mV)(e,t,o)},gV=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),u6=(e,t,o,r,l)=>{const h=o?t.startContainer:t.endContainer,v=o?t.startOffset:t.endOffset;return X.from(h).map(De.fromDom).map(T=>!r||!t.collapsed?Jc(T,l(T,v)).getOr(T):T).bind(T=>fa(T)?X.some(T):Zi(T).filter(fa)).map(T=>T.dom).getOr(e)},YA=(e,t,o=!1)=>u6(e,t,!0,o,(r,l)=>Math.min(om(r),l)),y_=(e,t,o=!1)=>u6(e,t,!1,o,(r,l)=>l>0?l-1:l),v_=(e,t)=>{const o=e;for(;e&&dn(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||o},x_=(e,t)=>{if(!t)return e;let o=t.startContainer,r=t.endContainer;const l=t.startOffset,h=t.endOffset;let v=t.commonAncestorContainer;t.collapsed||(o===r&&h-l<2&&o.hasChildNodes()&&(v=o.childNodes[l]),dn(o)&&dn(r)&&(o.length===l?o=v_(o.nextSibling,!0):o=o.parentNode,h===0?r=v_(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(v=o)));const T=dn(v)?v.parentNode:v;return ru(T)?T:e},pV=(e,t,o,r)=>{const l=[],h=e.getRoot(),v=e.getParent(o||YA(h,t,t.collapsed),e.isBlock),T=e.getParent(r||y_(h,t,t.collapsed),e.isBlock);if(v&&v!==h&&l.push(v),v&&T&&v!==T){let k;const B=new Ka(v,h);for(;(k=B.next())&&k!==T;)e.isBlock(k)&&l.push(k)}return T&&v!==T&&T!==h&&l.push(T),l},d6=(e,t,o)=>X.from(t).bind(r=>X.from(r.parentNode).map(l=>{const h=e.nodeIndex(r),v=e.createRng();return v.setStart(l,h),v.setEnd(l,h+1),o&&(MA(e,v,r,!0),MA(e,v,r,!1)),v})),w_=(e,t)=>tt(t,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),bV={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},XA=(e,t,o)=>{const r=o?"lastChild":"firstChild",l=o?"prev":"next";if(e[r])return e[r];if(e!==t){let h=e[l];if(h)return h;for(let v=e.parent;v&&v!==t;v=v.parent)if(h=v[l],h)return h}},yV=e=>{const t=e.value??"";if(!Ap(t))return!1;const o=e.parent;return!(o&&(o.name!=="span"||o.attr("style"))&&/^[ ]+$/.test(t))},f6=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Hc{static create(t,o){const r=new Hc(t,bV[t]||1);return o&&Oo(o,(l,h)=>{r.attr(h,l)}),r}name;type;attributes;value;parent;firstChild;lastChild;next;prev;raw;constructor(t,o){this.name=t,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(t){const o=this;return t.parent&&t.remove(),o.insert(t,o),o.remove(),o}attr(t,o){const r=this;if(!J(t))return qe(t)&&Oo(t,(h,v)=>{r.attr(v,h)}),r;const l=r.attributes;if(l){if(o!==void 0){if(o===null){if(t in l.map){delete l.map[t];let h=l.length;for(;h--;)if(l[h].name===t)return l.splice(h,1),r}return r}if(t in l.map){let h=l.length;for(;h--;)if(l[h].name===t){l[h].value=o;break}}else l.push({name:t,value:o});return l.map[t]=o,r}return l.map[t]}}clone(){const t=this,o=new Hc(t.name,t.type),r=t.attributes;if(r){const l=[];l.map={};for(let h=0,v=r.length;h<v;h++){const T=r[h];T.name!=="id"&&(l[l.length]={name:T.name,value:T.value},l.map[T.name]=T.value)}o.attributes=l}return o.value=t.value,o}wrap(t){const o=this;return o.parent&&(o.parent.insert(t,o),t.append(o)),o}unwrap(){const t=this;for(let o=t.firstChild;o;){const r=o.next;t.insert(o,t,!0),o=r}t.remove()}remove(){const t=this,o=t.parent,r=t.next,l=t.prev;return o&&(o.firstChild===t?(o.firstChild=r,r&&(r.prev=null)):l&&(l.next=r),o.lastChild===t?(o.lastChild=l,l&&(l.next=null)):r&&(r.prev=l),t.parent=t.next=t.prev=null),t}append(t){const o=this;t.parent&&t.remove();const r=o.lastChild;return r?(r.next=t,t.prev=r,o.lastChild=t):o.lastChild=o.firstChild=t,t.parent=o,t}insert(t,o,r){t.parent&&t.remove();const l=o.parent||this;return r?(o===l.firstChild?l.firstChild=t:o.prev&&(o.prev.next=t),t.prev=o.prev,t.next=o,o.prev=t):(o===l.lastChild?l.lastChild=t:o.next&&(o.next.prev=t),t.next=o.next,t.prev=o,o.next=t),t.parent=l,t}getAll(t){const o=this,r=[];for(let l=o.firstChild;l;l=XA(l,o))l.name===t&&r.push(l);return r}children(){const t=this,o=[];for(let r=t.firstChild;r;r=r.next)o.push(r);return o}empty(){const t=this;if(t.firstChild){const o=[];for(let l=t.firstChild;l;l=XA(l,t))o.push(l);let r=o.length;for(;r--;){const l=o[r];l.parent=l.firstChild=l.lastChild=l.next=l.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,o={},r){const l=this;let h=l.firstChild;if(f6(l))return!1;if(h)do{if(h.type===1){if(h.attr("data-mce-bogus"))continue;if(t[h.name]||f6(h))return!1}if(h.type===8||h.type===3&&!yV(h)||h.type===3&&h.parent&&o[h.parent.name]&&Ap(h.value??"")||r&&r(h))return!1}while(h=XA(h,l));return!0}walk(t){return XA(this,null,t)}}const vV=an.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),m6=e=>J(e.nodeValue)&&e.nodeValue.includes(Ii),h6=e=>`${e.length===0?"":`${tt(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,xV=(e,t)=>t.querySelectorAll(h6(e)),g6=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>m6(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),C_=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(m6(t)){const o=t.parentNode;return o&&Jn(vV,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),QA=e=>g6(e).nextNode()!==null,wV=e=>C_(e).nextNode()!==null,CV=(e,t)=>t.querySelector(h6(e))!==null,SV=(e,t)=>{Be(xV(e,t),o=>{const r=De.fromDom(o);yr(r,"data-mce-bogus")==="all"?ws(r):Be(e,l=>{Gr(r,l)&&li(r,l)})})},p6=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},EV=P(p6,g6),TV=P(p6,C_),b6=(e,t)=>{const o=[{condition:ee(CV,t),action:ee(SV,t)},{condition:QA,action:EV},{condition:wV,action:TV}];let r=e,l=!1;return Be(o,({condition:h,action:v})=>{h(r)&&(l||(r=e.cloneNode(!0),l=!0),v(r))}),r},y6=e=>{const t=kt(e,"[data-mce-bogus]");Be(t,o=>{yr(o,"data-mce-bogus")==="all"?ws(o):Fd(o)?(cl(o,De.fromText(gi)),ws(o)):Gl(o)})},v6=e=>{const t=kt(e,"input");Be(t,o=>{li(o,"name")})},AV=(e,t)=>{const o=pl(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(r,"")},kV=(e,t)=>{const o=e.getDoc(),r=ra(De.fromDom(e.getBody())),l=De.fromTag("div",o);Or(l,"data-mce-bogus","all"),dl(l,{position:"fixed",left:"-9999999px",top:"0"}),tf(l,t.innerHTML),y6(l),v6(l);const h=Eh(r);$s(h,l);const v=Pc(l.dom.innerText);return ws(l),v},DV=(e,t,o)=>{let r;return t.format==="raw"?r=an.trim(Pc(b6(o,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?r=kV(e,o):t.format==="tree"?r=e.serializer.serialize(o,t):r=AV(e,e.serializer.serialize(o,t)),t.format!=="text"&&!Oy(De.fromDom(o))&&J(r)?an.trim(r):r},_V=(e,t)=>X.from(e.getBody()).fold(at(t.format==="tree"?new Hc("body",11):""),o=>DV(e,t,o)),x6=an.makeMap,S_=e=>{const t=[];e=e||{};const o=e.indent,r=x6(e.indent_before||""),l=x6(e.indent_after||""),h=ed.getEncodeFunc(e.entity_encoding||"raw",e.entities),v=e.element_format!=="xhtml";return{start:(T,k,B)=>{if(o&&r[T]&&t.length>0){const W=t[t.length-1];W.length>0&&W!==`
`&&t.push(`
`)}if(t.push("<",T),k)for(let W=0,G=k.length;W<G;W++){const Q=k[W];t.push(" ",Q.name,'="',h(Q.value,!0),'"')}if(!B||v?t[t.length]=">":t[t.length]=" />",B&&o&&l[T]&&t.length>0){const W=t[t.length-1];W.length>0&&W!==`
`&&t.push(`
`)}},end:T=>{let k;t.push("</",T,">"),o&&l[T]&&t.length>0&&(k=t[t.length-1],k.length>0&&k!==`
`&&t.push(`
`))},text:(T,k)=>{T.length>0&&(t[t.length]=k?T:h(T))},cdata:T=>{t.push("<![CDATA[",T,"]]>")},comment:T=>{t.push("<!--",T,"-->")},pi:(T,k)=>{k?t.push("<?",T," ",h(k),"?>"):t.push("<?",T,"?>"),o&&t.push(`
`)},doctype:T=>{t.push("<!DOCTYPE",T,">",o?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},tv=(e={},t=Bs())=>{const o=S_(e);return e.validate="validate"in e?e.validate:!0,{serialize:l=>{const h=e.validate,v={3:k=>{o.text(k.value??"",k.raw)},8:k=>{o.comment(k.value??"")},7:k=>{o.pi(k.name,k.value)},10:k=>{o.doctype(k.value??"")},4:k=>{o.cdata(k.value??"")},11:k=>{let B=k;if(B=B.firstChild)do T(B);while(B=B.next)}};o.reset();const T=k=>{const B=v[k.type];if(B)B(k);else{const W=k.name,G=W in t.getVoidElements();let Q=k.attributes;if(h&&Q&&Q.length>1){const ce=[];ce.map={};const ke=t.getElementRule(k.name);if(ke){for(let ge=0,Te=ke.attributesOrder.length;ge<Te;ge++){const ot=ke.attributesOrder[ge];if(ot in Q.map){const rt=Q.map[ot];ce.map[ot]=rt,ce.push({name:ot,value:rt})}}for(let ge=0,Te=Q.length;ge<Te;ge++){const ot=Q[ge].name;if(!(ot in ce.map)){const rt=Q.map[ot];ce.map[ot]=rt,ce.push({name:ot,value:rt})}}Q=ce}}if(o.start(W,Q,G),Ng(W))J(k.value)&&o.text(k.value,!0),o.end(W);else if(!G){let ce=k.firstChild;if(ce){(W==="pre"||W==="textarea")&&ce.type===3&&ce.value?.[0]===`
`&&o.text(`
`,!0);do T(ce);while(ce=ce.next)}o.end(W)}}};return l.type===1&&!e.inner?T(l):l.type===3?v[3](l):v[11](l),o.getContent()}}},w6=new Set;Be(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{w6.add(t)});const zS=new Set;Be(["background-color"],t=>{zS.add(t)});const nv=["font","text-decoration","text-emphasis"],JA=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),Dw=(e,t)=>Hn(JA(e,t)),OV=e=>w6.has(e),RV=e=>zS.has(e),C6=(e,t)=>Ge(Dw(e,t),o=>OV(o)),S6=(e,t)=>C6(e,t)&&Ge(Dw(e,t),o=>RV(o)),NV=e=>yt(e,t=>Ge(nv,o=>wo(t,o))),MV=(e,t,o)=>{const r=Dw(e,t),l=Dw(e,o),h=v=>{const T=e.getStyle(t,v)??"",k=e.getStyle(o,v)??"";return Hr(T)&&Hr(k)&&T!==k};return Ge(r,v=>{const T=k=>Ge(k,B=>B===v);if(!T(l)&&T(nv)){const k=NV(l);return Ge(k,h)}else return h(v)})},E_=(e,t,o)=>X.from(o.container()).filter(dn).exists(r=>{const l=e?0:-1;return t(r.data.charAt(o.offset()+l))}),T_=ee(E_,!0,Wf),ek=ee(E_,!1,Wf),BV=e=>{const t=e.container();return dn(t)&&(t.data.length===0||$g(t.data)&&Ew.isBookmarkNode(t.parentNode))},ov=(e,t)=>o=>ES(e?0:-1,o).filter(t).isSome(),E6=e=>Od(e)&&ka(De.fromDom(e),"display")==="block",A_=e=>na(e)&&!Tx(e),k_=ov(!0,E6),T6=ov(!1,E6),VS=ov(!0,Rd),jS=ov(!1,Rd),US=ov(!0,iu),D_=ov(!1,iu),Vb=ov(!0,A_),v1=ov(!1,A_),A6=e=>e.slice(0,-1),LV=(e,t,o)=>mc(t,e)?A6(ll(e,r=>o(r)||ss(r,t))):[],k6=(e,t)=>LV(e,t,Ze),Jg=(e,t)=>[e].concat(k6(e,t)),tk=(e,t,o)=>m(e,t,o,BV),D6=e=>t=>e.isBlock(rs(t)),__=(e,t,o)=>sn(Jg(De.fromDom(t.container()),e),D6(o)),O_=(e,t,o,r)=>tk(e,t.dom,o).forall(l=>__(t,o,r).fold(()=>!qg(l,o,t.dom),h=>!qg(l,o,t.dom)&&mc(h,De.fromDom(l.container())))),R_=(e,t,o,r)=>__(t,o,r).fold(()=>tk(e,t.dom,o).forall(l=>!qg(l,o,t.dom)),l=>tk(e,l.dom,o).isNone()),nk=ee(R_,!1),N_=ee(R_,!0),_6=ee(O_,!1),O6=ee(O_,!0),R6=e=>k2(e).exists(Fd),ok=(e,t,o,r)=>{const l=yt(Jg(De.fromDom(o.container()),t),v=>r.isBlock(rs(v))),h=gs(l).getOr(t);return Zf(e,h.dom,o).filter(R6)},M_=(e,t,o)=>k2(t).exists(Fd)||ok(!0,e,t,o).isSome(),sk=(e,t,o)=>TS(t).exists(Fd)||ok(!1,e,t,o).isSome(),N6=ee(ok,!1),PV=ee(ok,!0),M6=e=>_t.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),B6=(e,t,o)=>{const r=yt(Jg(De.fromDom(t.container()),e),l=>o.isBlock(rs(l)));return gs(r).getOr(e)},L6=(e,t,o)=>M6(t)?ek(t):ek(t)||D(B6(e,t,o).dom,t).exists(ek),P6=(e,t,o)=>M6(t)?T_(t):T_(t)||E(B6(e,t,o).dom,t).exists(T_),FV=e=>Ne(["pre","pre-wrap"],e),rk=e=>k2(e).bind(t=>nr(t,fa)).exists(t=>FV(ka(t,"white-space"))),yne=(e,t)=>D(e.dom,t).isNone(),vne=(e,t)=>E(e.dom,t).isNone(),$V=(e,t,o)=>yne(e,t)||vne(e,t)||nk(e,t,o)||N_(e,t,o)||sk(e,t,o)||M_(e,t,o),xne=e=>qe(e)&&na(e)&&wS(e),F6=(e,t)=>o=>xne(new Ka(o,e)[t]()),dd=(e,t)=>{const o=E(e.dom,t).getOr(t),r=F6(e.dom,"next");return t.isAtEnd()&&(r(t.container())||r(o.container()))},IV=(e,t)=>{const o=D(e.dom,t).getOr(t),r=F6(e.dom,"prev");return t.isAtStart()&&(r(t.container())||r(o.container()))},HV=(e,t,o)=>rk(t)?!1:$V(e,t,o)||L6(e,t,o)||P6(e,t,o),ZS=(e,t,o)=>rk(t)?!1:nk(e,t,o)||_6(e,t,o)||sk(e,t,o)||L6(e,t,o)||IV(e,t),zV=e=>{const t=e.container(),o=e.offset();return dn(t)&&o<t.data.length?_t(t,o+1):e},fd=(e,t,o)=>rk(t)?!1:N_(e,t,o)||O6(e,t,o)||M_(e,t,o)||P6(e,t,o)||dd(e,t),$6=(e,t,o)=>ZS(e,t,o)||fd(e,zV(t),o),I6=(e,t)=>$u(e.charAt(t)),VV=(e,t)=>Wf(e.charAt(t)),jV=e=>{const t=e.container();return dn(t)&&Ir(t.data,qr)},UV=e=>{const t=e.split("");return tt(t,(o,r)=>$u(o)&&r>0&&r<t.length-1&&$c(t[r-1])&&$c(t[r+1])?" ":o).join("")},ZV=(e,t,o,r)=>{const l=t.data,h=_t(t,0);return!o&&I6(l,0)&&!$6(e,h,r)?(t.data=" "+l.slice(1),!0):o&&VV(l,0)&&ZS(e,h,r)?(t.data=qr+l.slice(1),!0):!1},WV=e=>{const t=e.data,o=UV(t);return o!==t?(e.data=o,!0):!1},qf=(e,t,o,r)=>{const l=t.data,h=_t(t,l.length-1);return!o&&I6(l,l.length-1)&&!$6(e,h,r)?(t.data=l.slice(0,-1)+" ",!0):o&&VV(l,l.length-1)&&fd(e,h,r)?(t.data=l.slice(0,-1)+qr,!0):!1},H6=(e,t,o)=>{const r=t.container();if(!dn(r))return X.none();if(jV(t)){const l=ZV(e,r,!1,o)||WV(r)||qf(e,r,!1,o);return Ts(l,t)}else if($6(e,t,o)){const l=ZV(e,r,!0,o)||qf(e,r,!0,o);return Ts(l,t)}else return X.none()},z6=e=>{const t=De.fromDom(e.getBody());e.selection.isCollapsed()&&H6(t,_t.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},V6=(e,t,o,r)=>{if(o===0)return;const l=De.fromDom(e),h=kd(l,B=>r.isBlock(rs(B))).getOr(l),v=e.data.slice(t,t+o),T=t+o>=e.data.length&&fd(h,_t(e,e.data.length),r),k=t===0&&ZS(h,_t(e,0),r);e.replaceData(t,o,z0(v,4,k,T))},ak=(e,t,o)=>{const r=e.data.slice(t),l=r.length-Sf(r).length;V6(e,t,l,o)},ik=(e,t,o)=>{const r=e.data.slice(0,t),l=r.length-uc(r).length;V6(e,t-l,l,o)},lk=(e,t,o,r,l=!0)=>{const h=uc(e.data).length,v=l?e:t,T=l?t:e;return l?v.appendData(T.data):v.insertData(0,T.data),ws(De.fromDom(T)),r&&ak(v,h,o),v},qV=(e,t)=>{const o=e.container(),r=e.offset();return!_t.isTextPosition(e)&&o===t.parentNode&&r>_t.before(t).offset()},GV=(e,t)=>qV(t,e)?_t(t.container(),t.offset()-1):t,KV=e=>dn(e)?_t(e,0):_t.before(e),YV=e=>dn(e)?_t(e,e.data.length):_t.after(e),B_=e=>ya(e.previousSibling)?X.some(YV(e.previousSibling)):e.previousSibling?q(e.previousSibling):X.none(),j6=e=>ya(e.nextSibling)?X.some(KV(e.nextSibling)):e.nextSibling?$(e.nextSibling):X.none(),U6=(e,t)=>X.from(t.previousSibling?t.previousSibling:t.parentNode).bind(o=>D(e,_t.before(o))).orThunk(()=>E(e,_t.after(t))),XV=(e,t)=>E(e,_t.after(t)).orThunk(()=>D(e,_t.before(t))),wne=(e,t)=>B_(t).orThunk(()=>j6(t)).orThunk(()=>U6(e,t)),QV=(e,t)=>j6(t).orThunk(()=>B_(t)).orThunk(()=>XV(e,t)),JV=(e,t,o)=>e?QV(t,o):wne(t,o),Cne=(e,t,o)=>JV(e,t,o).map(ee(GV,o)),Z6=(e,t,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),t)})},ar=e=>t=>t.dom===e,WS=(e,t)=>t&&Jn(e.schema.getBlockElements(),rs(t)),jb=(e,t,o)=>{if(_a(e,t)){const r=De.fromHtml('<br data-mce-bogus="1">');return o?Be(ma(t),l=>{n_(l)||ws(l)}):ql(t),$s(t,r),X.some(_t.before(r.dom))}else return X.none()},N2=(e,t,o,r)=>{const l=Wu(e).filter(xs),h=Za(e).filter(xs);return ws(e),Uo(l,h,t,(v,T,k)=>{const B=v.dom,W=T.dom,G=B.data.length;return lk(B,W,o,r),k.container()===W?_t(B,G):k}).orThunk(()=>(r&&(l.each(v=>ik(v.dom,v.dom.length,o)),h.each(v=>ak(v.dom,0,o))),t))},ck=(e,t)=>Jn(e.schema.getTextInlineElements(),rs(t)),x1=(e,t,o,r=!0,l=!1)=>{const h=Cne(t,e.getBody(),o.dom),v=kd(o,ee(WS,e),ar(e.getBody())),T=N2(o,h,e.schema,ck(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):v.bind(k=>jb(e.schema,k,l)).fold(()=>{r&&Z6(e,t,T)},k=>{r&&Z6(e,t,X.some(k))})},L_=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,W6=e=>L_.test(e),M2=(e,t)=>wl(De.fromDom(t),xD(e))&&!Ya(e.schema,t)&&e.dom.isEditable(t),P_=e=>hs.DOM.getStyle(e,"direction",!0)==="rtl"||W6(e.textContent??""),q6=(e,t,o)=>yt(hs.DOM.getParents(o.container(),"*",t),e),sv=(e,t,o)=>{const r=q6(e,t,o);return X.from(r[r.length-1])},ej=(e,t,o)=>{const r=m1(t,e),l=m1(o,e);return qe(r)&&r===l},tj=e=>Wm(e)||Ig(e),Jh=(e,t)=>{const o=t.container(),r=t.offset();return e?pm(o)?dn(o.nextSibling)?_t(o.nextSibling,0):_t.after(o):Wm(t)?_t(o,r+1):t:pm(o)?dn(o.previousSibling)?_t(o.previousSibling,o.previousSibling.data.length):_t.before(o):Ig(t)?_t(o,r-1):t},G6=ee(Jh,!0),K6=ee(Jh,!1),F_=(e,t)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(t),e.off("beforeinput input",o)},Y6=e=>{e.execCommand("delete")},$_=e=>F_(e,"Delete"),nj=e=>F_(e,"ForwardDelete"),Sne=e=>t=>qt(Zi(t),e,ss),oj=e=>Sc(e)||fu(e),I_=(e,t)=>mc(e,t)?nr(t,oj,Sne(e)):X.none(),X6=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},Q6=(e,t,o)=>Bn($(o),q(o),(r,l)=>{const h=Jh(!0,r),v=Jh(!1,l),T=Jh(!1,t);return e?E(o,T).exists(k=>k.isEqual(v)&&t.isEqual(h)):D(o,T).exists(k=>k.isEqual(h)&&t.isEqual(v))}).getOr(!0),J6=e=>(vd(e)?Wu(e):ai(e)).bind(J6).orThunk(()=>X.some(e)),sj=(e,t,o,r=!0)=>{t.deleteContents();const l=J6(o).getOr(o),h=De.fromDom(e.dom.getParent(l.dom,e.dom.isBlock)??o.dom);if(h.dom===e.getBody()?X6(e,r):_a(e.schema,h,{checkRootAsContent:!1})&&(jh(h),r&&e.selection.setCursorLocation(h.dom,0)),!ss(o,h)){const v=qt(Zi(h),o)?[]:Fs(h);Be(v.concat(ma(o)),T=>{!ss(T,h)&&!mc(T,h)&&_a(e.schema,T)&&ws(T)})}},rj=e=>t=>ss(e,t),jd=e=>kt(e,"td,th"),aj=(e,t)=>Vd(De.fromDom(e),t),ij=e=>Bn(e.startTable,e.endTable,(t,o)=>{const r=Fo(t,h=>ss(h,o)),l=Fo(o,h=>ss(h,t));return!r&&!l?e:{...e,startTable:r?X.none():e.startTable,endTable:l?X.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),e8=e=>ij(e),Ene=(e,t)=>{const o=aj(e.startContainer,t),r=aj(e.endContainer,t),l=o.isSome(),h=r.isSome(),v=Bn(o,r,ss).getOr(!1);return e8({startTable:o,endTable:r,isStartInTable:l,isEndInTable:h,isSameTable:v,isMultiTable:!v&&l&&h})},H_=(e,t)=>({start:e,end:t}),lj=(e,t,o)=>({rng:e,table:t,cells:o}),qS=hi.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),_w=(e,t)=>El(De.fromDom(e),"td,th",t),cj=e=>!ss(e.start,e.end),t8=(e,t)=>Vd(e.start,t).bind(o=>Vd(e.end,t).bind(r=>Ts(ss(o,r),o))),uj=(e,t)=>!cj(e)&&t8(e,t).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),ua=(e,t)=>{const o=_w(e.startContainer,t),r=_w(e.endContainer,t);return Bn(o,r,H_)},dj=e=>t=>Vd(t,e).bind(o=>Wr(jd(o)).map(r=>H_(t,r))),fj=e=>t=>Vd(t,e).bind(o=>gs(jd(o)).map(r=>H_(r,t))),B2=e=>t=>t8(t,e).map(o=>lj(t,o,jd(o))),z_=(e,t,o,r)=>{if(o.collapsed||!e.forall(cj))return X.none();if(t.isSameTable){const l=e.bind(B2(r));return X.some({start:l,end:l})}else{const l=_w(o.startContainer,r),h=_w(o.endContainer,r),v=l.bind(dj(r)).bind(B2(r)),T=h.bind(fj(r)).bind(B2(r));return X.some({start:v,end:T})}},n8=(e,t)=>Zn(e,o=>ss(o,t)),V_=e=>Bn(n8(e.cells,e.rng.start),n8(e.cells,e.rng.end),(t,o)=>e.cells.slice(t,o+1)),mj=(e,t,o)=>e.exists(r=>uj(r,o)&&QD(r.start,t)),j_=(e,t)=>{const{startTable:o,endTable:r}=t,l=e.cloneRange();return o.each(h=>l.setStartAfter(h.dom)),r.each(h=>l.setEndBefore(h.dom)),l},hj=(e,t,o,r)=>z_(e,t,o,r).bind(({start:l,end:h})=>l.or(h)).bind(l=>{const{isSameTable:h}=t,v=V_(l).getOr([]);if(h&&l.cells.length===v.length)return X.some(qS.fullTable(l.table));if(v.length>0){if(h)return X.some(qS.partialTable(v,X.none()));{const T=j_(o,t);return X.some(qS.partialTable(v,X.some({...t,rng:T})))}}else return X.none()}),Tne=(e,t,o,r)=>z_(e,t,o,r).bind(({start:l,end:h})=>{const v=l.bind(V_).getOr([]),T=h.bind(V_).getOr([]);if(v.length>0&&T.length>0){const k=j_(o,t);return X.some(qS.multiTable(v,T,k))}else return X.none()}),Ane=(e,t)=>{const o=rj(e),r=ua(t,o),l=Ene(t,o);return mj(r,t,o)?r.map(h=>qS.singleCellTable(t,h.start)):l.isMultiTable?Tne(r,l,t,o):hj(r,l,t,o)},o8=e=>Be(e,t=>{li(t,"contenteditable"),jh(t)}),gj=(e,t)=>X.from(e.dom.getParent(t,e.dom.isBlock)).map(De.fromDom),pj=(e,t,o)=>{o.each(r=>{t?ws(r):(jh(r),e.selection.setCursorLocation(r.dom,0))})},U_=(e,t,o,r)=>{const l=o.cloneRange();r?(l.setStart(o.startContainer,o.startOffset),l.setEndAfter(t.dom.lastChild)):(l.setStartBefore(t.dom.firstChild),l.setEnd(o.endContainer,o.endOffset)),uk(e,l,t,!1).each(h=>h())},Z_=e=>{const t=eo(e),o=De.fromDom(e.selection.getNode());Rp(o.dom)&&_a(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),t.length>1&&Ge(t,r=>ss(r,o))&&Or(o,"data-mce-selected","1")},s8=(e,t,o)=>X.some(()=>{const r=e.selection.getRng(),l=o.bind(({rng:h,isStartInTable:v})=>{const T=gj(e,v?h.endContainer:h.startContainer);h.deleteContents(),pj(e,v,T.filter(ee(_a,e.schema)));const k=v?t[0]:t[t.length-1];return U_(e,k,r,v),_a(e.schema,k)?X.none():X.some(v?t.slice(1):t.slice(0,-1))}).getOr(t);o8(l),Z_(e)}),Ns=(e,t,o,r)=>X.some(()=>{const l=e.selection.getRng(),h=t[0],v=o[o.length-1];U_(e,h,l,!0),U_(e,v,l,!1);const T=_a(e.schema,h)?t:t.slice(1),k=_a(e.schema,v)?o:o.slice(0,-1);o8(T.concat(k)),r.deleteContents(),Z_(e)}),uk=(e,t,o,r=!0)=>X.some(()=>{sj(e,t,o,r)}),GS=(e,t)=>X.some(()=>x1(e,!1,t)),KS=(e,t,o)=>Ane(t,o).bind(r=>r.fold(ee(uk,e),ee(GS,e),ee(s8,e),ee(Ns,e))),YS=(e,t)=>W_(e,t),XS=(e,t,o,r)=>a8(t,r).fold(()=>KS(e,t,o),l=>YS(e,l)),r8=(e,t,o)=>{const r=De.fromDom(e.getBody()),l=e.selection.getRng();return o.length!==0?s8(e,o,X.none()):XS(e,r,l,t)},bj=(e,t)=>sn(Jg(t,e),Vh),a8=(e,t)=>sn(Jg(t,e),Pa("caption")),kne=(e,t,o,r,l)=>ev(o,e.getBody(),l).bind(h=>bj(t,De.fromDom(h.getNode())).bind(v=>ss(v,r)?X.none():X.some(Pt))),W_=(e,t)=>X.some(()=>{jh(t),e.selection.setCursorLocation(t.dom,0)}),yj=(e,t,o,r)=>$(e.dom).bind(l=>q(e.dom).map(h=>t?o.isEqual(l)&&r.isEqual(h):o.isEqual(h)&&r.isEqual(l))).getOr(!0),Dne=(e,t)=>W_(e,t),vj=(e,t,o)=>a8(e,De.fromDom(o.getNode())).fold(()=>X.some(Pt),r=>Ts(!ss(r,t),Pt)),xj=(e,t,o,r,l)=>ev(o,e.getBody(),l).fold(()=>X.some(Pt),h=>yj(r,o,l,h)?Dne(e,r):vj(t,r,h)),_ne=(e,t,o,r)=>{const l=_t.fromRangeStart(e.selection.getRng());return bj(o,r).bind(h=>_a(e.schema,h,{checkRootAsContent:!1})?W_(e,h):kne(e,o,t,h,l))},wj=(e,t,o,r)=>{const l=_t.fromRangeStart(e.selection.getRng());return _a(e.schema,r)?W_(e,r):xj(e,o,t,r,l)},va=(e,t)=>e?US(t):D_(t),One=(e,t)=>{const o=_t.fromRangeStart(e.selection.getRng());return va(t,o)||Zf(t,e.getBody(),o).exists(r=>va(t,r))},Rne=(e,t,o)=>{const r=De.fromDom(e.getBody());return a8(r,o).fold(()=>_ne(e,t,r,o).orThunk(()=>Ts(One(e,t),Pt)),l=>wj(e,t,r,l))},q_=(e,t)=>{const o=De.fromDom(e.selection.getStart(!0)),r=eo(e);return e.selection.isCollapsed()&&r.length===0?Rne(e,t,o):r8(e,o,r)},m0=(e,t)=>{let o=t;for(;o&&o!==e;){if(Mu(o)||na(o))return o;o=o.parentNode}return null},Cj=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],Sj=an.each,h0=e=>{const t=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(h,v)=>{if(h.nodeName!==v.nodeName||h.nodeType!==v.nodeType)return!1;const T=B=>{const W={};return Sj(t.getAttribs(B),G=>{const Q=G.nodeName.toLowerCase();Q!=="style"&&!l(Q)&&(W[Q]=t.getAttrib(B,Q))}),W},k=(B,W)=>{for(const G in B)if(Jn(B,G)){const Q=W[G];if(Tn(Q)||B[G]!==Q)return!1;delete W[G]}for(const G in W)if(Jn(W,G))return!1;return!0};return Cn(h)&&Cn(v)&&(!k(T(h),T(v))||!k(t.parseStyle(t.getAttrib(h,"style")),t.parseStyle(t.getAttrib(v,"style"))))?!1:!xi(h)&&!xi(v)},l=h=>Ge(Cj,v=>wo(h,v))||o.has(h);return{compare:r,isAttributeInternal:l}},gr=(e,t)=>{if(dn(e))return{container:e,offset:t};const o=f0.getNode(e,t);return dn(o)?{container:o,offset:t>=e.childNodes.length?o.data.length:0}:o.previousSibling&&dn(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&dn(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:t}},Ac=e=>{const t=e.cloneRange(),o=gr(e.startContainer,e.startOffset);t.setStart(o.container,o.offset);const r=gr(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},rh=hs.DOM,Ej=()=>rh.create("span",{"data-mce-type":"bookmark"}),i8=(e,t,o)=>{if(Cn(e)){const r=o();return e.hasChildNodes()?t===e.childNodes.length?e.appendChild(r):e.insertBefore(r,e.childNodes[t]):e.appendChild(r),{container:r,offset:0}}else return{container:e,offset:t}},l8=(e,t)=>{const o=r=>{let l=r.parentNode?.firstChild,h=0;for(;l;){if(l===r)return h;(!Cn(l)||l.getAttribute("data-mce-type")!=="bookmark")&&h++,l=l.nextSibling}return-1};if(Cn(e)&&qe(e.parentNode)){const r=e;t=o(e),e=e.parentNode,rh.remove(r),!e.hasChildNodes()&&rh.isBlock(e)&&e.appendChild(rh.create("br"))}return{container:e,offset:t}},c8=(e,t,o,r)=>{const l=rh.createRng();return l.setStart(e,t),l.setEnd(o,r),Ac(l)},w1=(e,t=Ej)=>{const{container:o,offset:r}=i8(e.startContainer,e.startOffset,t);if(e.collapsed)return{startContainer:o,startOffset:r};{const{container:l,offset:h}=i8(e.endContainer,e.endOffset,t);return{startContainer:o,startOffset:r,endContainer:l,endOffset:h}}},eg=e=>{const{container:t,offset:o}=l8(e.startContainer,e.startOffset);if(!Tn(e.endContainer)&&!Tn(e.endOffset)){const{container:r,offset:l}=l8(e.endContainer,e.endOffset);return c8(t,o,r,l)}else return c8(t,o,t,o)},G_=(e,t,o,r)=>{if(an.each(o.styles,(l,h)=>{e.setStyle(t,h,Hb(l,r))}),o.styles){const l=e.getAttrib(t,"style");l&&e.setAttrib(t,"data-mce-style",l)}},L2=(e,t,o,r,l)=>{const h=e.dom;Oe(o.onformat)&&o.onformat(t,o,r,l),G_(h,t,o,r),an.each(o.attributes,(v,T)=>{h.setAttrib(t,T,Hb(v,r))}),an.each(o.classes,v=>{const T=Hb(v,r);h.hasClass(t,T)||h.addClass(t,T)})},Tj=e=>!Qe(e.attributes)&&!Qe(e.styles),K_=LS,u8=(e,t,o)=>{const r=e.formatter.get(o);if(r)for(let l=0;l<r.length;l++){const h=r[l];if(Kg(h)&&h.inherit===!1&&e.dom.is(t,h.selector))return!0}return!1},dk=(e,t,o,r,l)=>{const h=e.dom.getRoot();if(t===h)return!1;const v=e.dom.getParent(t,T=>u8(e,T,o)?!0:T.parentNode===h||!!tg(e,T,o,r,!0));return!!tg(e,v,o,r,l)},fk=(e,t,o)=>hu(o)&&K_(t,o.inline)||u0(o)&&K_(t,o.block)?!0:Kg(o)?Cn(t)&&e.is(t,o.selector):!1,d8=(e,t,o,r,l,h)=>{const v=o[r],T=r==="attributes";if(Oe(o.onmatch))return o.onmatch(t,o,r);if(v){if(Jf(v)){for(let k=0;k<v.length;k++)if(T?e.getAttrib(t,v[k]):PS(e,t,v[k]))return!0}else for(const k in v)if(Jn(v,k)){const B=T?e.getAttrib(t,k):PS(e,t,k),W=Hb(v[k],h),G=mn(B)||wu(B);if(G&&mn(W))continue;if(l&&G&&!o.exact||(!l||o.exact)&&!K_(B,LA(W,k)))return!1}}return!0},tg=(e,t,o,r,l)=>{const h=e.formatter.get(o),v=e.dom;if(h&&Cn(t))for(let T=0;T<h.length;T++){const k=h[T];if(fk(e.dom,t,k)&&d8(v,t,k,"attributes",l,r)&&d8(v,t,k,"styles",l,r)){const B=k.classes;if(B){for(let W=0;W<B.length;W++)if(!e.dom.hasClass(t,Hb(B[W],r)))return}return k}}},Y_=(e,t,o,r,l)=>{if(r)return dk(e,r,t,o,l);if(r=e.selection.getNode(),dk(e,r,t,o,l))return!0;const h=e.selection.getStart();return!!(h!==r&&dk(e,h,t,o,l))},X_=(e,t,o)=>{const r=[],l={},h=e.selection.getStart();return e.dom.getParent(h,v=>{for(let T=0;T<t.length;T++){const k=t[T];!l[k]&&tg(e,v,k,o)&&(l[k]=!0,r.push(k))}},e.dom.getRoot()),r},f8=(e,t)=>{const o=l=>ss(l,De.fromDom(e.getBody())),r=(l,h)=>tg(e,l.dom,h)?X.some(h):X.none();return X.from(e.selection.getStart(!0)).bind(l=>Yu(De.fromDom(l),h=>$r(t,v=>r(h,v)),o)).getOrNull()},Q_=(e,t)=>{const o=e.formatter.get(t),r=e.dom;if(o&&e.selection.isEditable()){const l=e.selection.getStart(),h=PA(r,l);for(let v=o.length-1;v>=0;v--){const T=o[v];if(!Kg(T))return!0;for(let k=h.length-1;k>=0;k--)if(r.is(h[k],T.selector))return!0}}return!1},Nne=(e,t,o)=>Le(o,(r,l)=>{const h=FA(e,l);return e.formatter.matchNode(t,l,{},h)?r.concat([l]):r},[]),rc=Ii,Aj=(e,t)=>e.importNode(t,!0),kj=e=>{if(e){const t=new Ka(e,e);for(let o=t.current();o;o=t.next())if(dn(o))return o}return null},J_=e=>{const t=De.fromTag("span");return Wa(t,{id:oe,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&$s(t,De.fromText(rc)),t},Dj=e=>{const t=kj(e);return t&&t.data.charAt(0)===rc&&t.deleteData(0,1),t},eO=(e,t,o)=>{const r=e.dom,l=e.selection;if(MB(t))x1(e,!1,De.fromDom(t),o,!0);else{const h=l.getRng(),v=r.getParent(t,r.isBlock),T=h.startContainer,k=h.startOffset,B=h.endContainer,W=h.endOffset,G=Dj(t);r.remove(t,!0),T===G&&k>0&&h.setStart(G,k-1),B===G&&W>0&&h.setEnd(G,W-1),v&&r.isEmpty(v)&&jh(De.fromDom(v)),l.setRng(h)}},tO=(e,t,o)=>{const r=e.dom,l=e.selection;if(t)eO(e,t,o);else if(t=Ce(e.getBody(),l.getStart()),!t)for(;t=r.get(oe);)eO(e,t,o)},m8=(e,t,o)=>{const r=e.dom,l=r.getParent(o,ee(BS,e.schema));l&&r.isEmpty(l)?o.parentNode?.replaceChild(t,o):(yb(De.fromDom(o)),r.isEmpty(o)?o.parentNode?.replaceChild(t,o):r.insertAfter(t,o))},Ow=(e,t)=>(e.appendChild(t),t),h8=(e,t)=>{const o=Dt(e,(l,h)=>Ow(l,h.cloneNode(!1)),t),r=o.ownerDocument??document;return Ow(o,r.createTextNode(rc))},g8=(e,t,o,r,l,h)=>{const v=e.formatter,T=e.dom,k=yt(Hn(v.get()),G=>G!==r&&!Ir(G,"removeformat")),B=Nne(e,o,k);if(yt(B,G=>!NB(e,G,r)).length>0){const G=o.cloneNode(!1);return T.add(t,G),v.remove(r,l,G,h),T.remove(G),X.some(G)}else return X.none()},p8=e=>Sp(e,bi(e).replace(new RegExp(`${qr}$`)," ")),rv=(e,t)=>{const o=()=>{t!==null&&!e.dom.isEmpty(t)&&Wu(De.fromDom(t)).each(r=>{xs(r)?p8(r):kh(r,l=>xs(l)).each(l=>{xs(l)&&p8(l)})})};e.once("input",r=>{r.data&&!Wf(r.data)&&(r.isComposing?e.once("compositionend",()=>{o()}):o())})},b8=(e,t,o)=>{let r;const l=e.selection,h=e.formatter.get(t);if(!h)return;const v=l.getRng();let T=v.startOffset;const B=v.startContainer.nodeValue;r=Ce(e.getBody(),l.getStart());const W=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(B&&T>0&&T<B.length&&W.test(B.charAt(T))&&W.test(B.charAt(T-1))){const G=l.getBookmark();v.collapse(!0);let Q=y1(e.dom,v,h);Q=kw(Q),e.formatter.apply(t,o,Q),l.moveToBookmark(G)}else{let G=r?kj(r):null;(!r||G?.data!==rc)&&(r=Aj(e.getDoc(),J_(!0).dom),G=r.firstChild,v.insertNode(r),T=1,rv(e,r)),e.formatter.apply(t,o,r),l.setCursorLocation(G,T)}},y8=(e,t,o,r)=>{const l=e.dom,h=e.selection;let v=!1;const T=e.formatter.get(t);if(!T)return;const k=h.getRng(),B=k.startContainer,W=k.startOffset;let G=B;dn(B)&&(W!==B.data.length&&(v=!0),G=G.parentNode);const Q=[];let ce;for(;G;){if(tg(e,G,t,o,r)){ce=G;break}G.nextSibling&&(v=!0),Q.push(G),G=G.parentNode}if(ce)if(v){const ke=h.getBookmark();k.collapse(!0);let ge=y1(l,k,T,{includeTrailingSpace:!0});ge=kw(ge),e.formatter.remove(t,o,ge,r),h.moveToBookmark(ke)}else{const ke=Ce(e.getBody(),ce),ge=qe(ke)?l.getParents(ce.parentNode,bt,ke):[],Te=J_(!1).dom;m8(e,Te,ke??ce);const ot=g8(e,Te,ce,t,o,r),rt=h8([...Q,...ot.toArray(),...ge],Te);ke&&eO(e,ke,qe(ke)),h.setCursorLocation(rt,1),rv(e,Te),l.isEmpty(ce)&&l.remove(ce)}},v8=(e,t,o)=>{const r=e.selection,l=e.getBody();tO(e,null,o),(t===8||t===46)&&r.isCollapsed()&&r.getStart().innerHTML===rc&&tO(e,Ce(l,r.getStart()),!0),(t===37||t===39)&&tO(e,Ce(l,r.getStart()),!0)},x8=e=>dn(e)&&Ci(e.data,qr),w8=e=>{e.on("mouseup keydown",t=>{v8(e,t.keyCode,x8(e.selection.getRng().endContainer))})},C8=e=>{const t=J_(!1),o=h8(e,t.dom);return{caretContainer:t,caretPosition:_t(o,0)}},nO=(e,t)=>{const{caretContainer:o,caretPosition:r}=C8(t);return cl(De.fromDom(e),o),ws(De.fromDom(e)),r},_j=(e,t)=>{const{caretContainer:o,caretPosition:r}=C8(t);return e.insertNode(o.dom),r},S8=(e,t)=>{if(de(t.dom))return!1;const o=e.schema.getTextInlineElements();return Jn(o,rs(t))&&!de(t.dom)&&!Hm(t.dom)},E8=["fontWeight","fontStyle","color","fontSize","fontFamily"],Oj=e=>vt(e.styles)&&Ge(Hn(e.styles),t=>Ne(E8,t)),Rj=e=>sn(e,t=>hu(t)&&t.inline==="span"&&Oj(t)),Nj=(e,t)=>{const o=e.get(t);return Qe(o)?Rj(o):X.none()},oO=(e,t)=>D(t,_t.fromRangeStart(e)).isNone(),T8=(e,t)=>E(t,_t.fromRangeEnd(e)).exists(o=>!la(o.getNode())||E(t,o).isSome())===!1,Mj=e=>t=>V0(t)&&e.isEditable(t),A8=(e,t)=>tt(e.getSelectedBlocks(),(o,r)=>r===0&&t(o)?e.dom.getParent(o,V0)??o:o),sO=e=>{if(e.isCollapsed())return[];const t=e.getRng(),o=A8(e,r=>oO(t,r)&&!V0(r));if(o.length===1)return oO(t,o[0])&&T8(t,o[0])?o:[];{const r=gs(o).filter(v=>oO(t,v)).toArray(),l=Wr(o).filter(v=>T8(t,v)).toArray(),h=o.slice(1,-1);return r.concat(h).concat(l)}},rO=e=>yt(sO(e),Mj(e.dom)),k8=e=>yt(A8(e,t=>!V0(t)),Mj(e.dom)),D8=an.each,aO=e=>Cn(e)&&!xi(e)&&!de(e)&&!Hm(e),_8=(e,t)=>{for(let o=e;o;o=o[t]){if(dn(o)&&Hr(o.data))return e;if(Cn(o)&&!xi(o))return o}return e},O8=(e,t,o)=>{const r=h0(e),l=ru(t)&&e.dom.isEditable(t),h=ru(o)&&e.dom.isEditable(o);if(l&&h){const v=_8(t,"previousSibling"),T=_8(o,"nextSibling");if(r.compare(v,T)){for(let k=v.nextSibling;k&&k!==T;){const B=k;k=k.nextSibling,v.appendChild(B)}return e.dom.remove(T),an.each(an.grep(T.childNodes),k=>{v.appendChild(k)}),v}}return o},R8=(e,t,o,r)=>{if(r&&t.merge_siblings!==!1){const l=O8(e,_B(r),r)??r;O8(e,l,_B(l,!0))}},Bj=(e,t,o)=>{if(t.clear_child_styles){const r=t.links?"*:not(a)":"*";D8(e.select(r,o),l=>{aO(l)&&e.isEditable(l)&&D8(t.styles,(h,v)=>{e.setStyle(l,v,"")})})}},iO=(e,t,o)=>{D8(e.childNodes,r=>{aO(r)&&(t(r)&&o(r),r.hasChildNodes()&&iO(r,t,o))})},Lj=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},lO=(e,t)=>o=>!!(o&&PS(e,o,t)),N8=(e,t,o)=>r=>{e.setStyle(r,t,o),r.getAttribute("style")===""&&r.removeAttribute("style"),Lj(e,r)},P2=hi.generate([{keep:[]},{rename:["name"]},{removed:[]}]),Ub=/^(src|href|style)$/,cO=an.each,QS=LS,Pj=e=>/^(TR|TH|TD)$/.test(e.nodeName),M8=(e,t,o)=>e.isChildOf(t,o)&&t!==o&&!e.isBlock(o),uO=(e,t,o)=>{let r=t[o?"startContainer":"endContainer"],l=t[o?"startOffset":"endOffset"];if(Cn(r)){const h=r.childNodes.length-1;!o&&l&&l--,r=r.childNodes[l>h?h:l]}return dn(r)&&o&&l>=r.data.length&&(r=new Ka(r,e.getBody()).next()||r),dn(r)&&!o&&l===0&&(r=new Ka(r,e.getBody()).prev()||r),r},dO=(e,t)=>{const o=t?"firstChild":"lastChild",r=e[o];return Pj(e)&&r?e.nodeName==="TR"&&r[o]||r:e},mk=(e,t,o,r)=>{const l=e.create(o,r);return t.parentNode?.insertBefore(l,t),l.appendChild(t),l},fO=(e,t,o,r,l)=>{const h=De.fromDom(t),v=De.fromDom(e.create(r,l)),T=o?Fa(h):Wi(h);return hc(v,T),o?(cl(h,v),Jd(v,h)):(Sl(h,v),$s(v,h)),v.dom},Fj=(e,t)=>t.links&&e.nodeName==="A",B8=(e,t,o)=>{const r=t.parentNode;let l;const h=e.dom,v=pl(e);u0(o)&&r===h.getRoot()&&(!o.list_block||!QS(t,o.list_block))&&Be(Es(t.childNodes),T=>{Cw(e,v,T.nodeName.toLowerCase())?l?l.appendChild(T):(l=mk(h,T,v),h.setAttribs(l,th(e))):l=null}),!(cne(o)&&!QS(o.inline,t))&&h.remove(t,!0)},L8=(e,t,o)=>Yo(e)?{name:t,value:null}:{name:e,value:Hb(t,o)},P8=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},F8=(e,t,o,r,l)=>{let h=!1;cO(o.styles,(v,T)=>{const{name:k,value:B}=L8(T,v,r),W=LA(B,k);(o.remove_similar||ie(B)||!Cn(l)||QS(PS(e,l,k),W))&&e.setStyle(t,k,""),h=!0}),h&&P8(e,t)},F2=(e,t,o)=>{t==="removeformat"?Be(k8(e.selection),r=>{Be(E8,l=>e.dom.setStyle(r,l,"")),P8(e.dom,r)}):Nj(e.formatter,t).each(r=>{Be(k8(e.selection),l=>F8(e.dom,l,r,o,null))})},hk=(e,t,o,r,l)=>{const h=e.dom,v=h0(e),T=e.schema;if(hu(t)&&Bc(T,t.inline)&&Ya(T,r)&&r.parentElement===e.getBody())return B8(e,r,t),P2.removed();if(!t.ceFalseOverride&&r&&h.getContentEditableParent(r)==="false"||r&&!fk(h,r,t)&&!Fj(r,t))return P2.keep();const k=r,B=t.preserve_attributes;if(hu(t)&&t.remove==="all"&&Qe(B)){const W=yt(h.getAttribs(k),G=>Ne(B,G.name.toLowerCase()));if(h.removeAllAttribs(k),Be(W,G=>h.setAttrib(k,G.name,G.value)),W.length>0)return P2.rename("span")}if(t.remove!=="all"){F8(h,k,t,o,l),cO(t.attributes,(G,Q)=>{const{name:ce,value:ke}=L8(Q,G,o);if(t.remove_similar||ie(ke)||!Cn(l)||QS(h.getAttrib(l,ce),ke)){if(ce==="class"){const ge=h.getAttrib(k,ce);if(ge){let Te="";if(Be(ge.split(/\s+/),ot=>{/mce\-\w+/.test(ot)&&(Te+=(Te?" ":"")+ot)}),Te){h.setAttrib(k,ce,Te);return}}}if(Ub.test(ce)&&k.removeAttribute("data-mce-"+ce),ce==="style"&&Xu(["li"])(k)&&h.getStyle(k,"list-style-type")==="none"){k.removeAttribute(ce),h.setStyle(k,"list-style-type","none");return}ce==="class"&&k.removeAttribute("className"),k.removeAttribute(ce)}}),cO(t.classes,G=>{G=Hb(G,o),(!Cn(l)||h.hasClass(l,G))&&h.removeClass(k,G)});const W=h.getAttribs(k);for(let G=0;G<W.length;G++){const Q=W[G].nodeName;if(!v.isAttributeInternal(Q))return P2.keep()}}return t.remove!=="none"?(B8(e,k,t),P2.removed()):P2.keep()},$j=(e,t,o,r,l)=>{let h;return t.parentNode&&Be(PA(e.dom,t.parentNode).reverse(),v=>{if(!h&&Cn(v)&&v.id!=="_start"&&v.id!=="_end"){const T=tg(e,v,o,r,l);T&&T.split!==!1&&(h=v)}}),h},Ij=(e,t,o,r)=>hk(e,t,o,r,r).fold(at(r),l=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,l)),at(null)),mO=(e,t,o,r,l,h,v,T)=>{let k,B;const W=e.dom;if(o){const G=o.parentNode;for(let Q=r.parentNode;Q&&Q!==G;Q=Q.parentNode){let ce=W.clone(Q,!1);for(let ke=0;ke<t.length&&(ce=Ij(e,t[ke],T,ce),ce!==null);ke++);ce&&(k&&ce.appendChild(k),B||(B=ce),k=ce)}(!v.mixed||!W.isBlock(o))&&(r=W.split(o,r)??r),k&&B&&(l.parentNode?.insertBefore(k,l),B.appendChild(l),hu(v)&&R8(e,v,T,k))}return r},Hj=(e,t,o,r,l)=>{const h=e.formatter.get(t),v=h[0],T=e.dom,k=e.selection,B=ge=>{const Te=$j(e,ge,t,o,l);return mO(e,h,Te,ge,ge,!0,v,o)},W=ge=>xi(ge)&&Cn(ge)&&(ge.id==="_start"||ge.id==="_end"),G=ge=>Ge(h,Te=>JS(e,Te,o,ge,ge)),Q=ge=>{const Te=Es(ge.childNodes),rt=G(ge)||Ge(h,Jt=>fk(T,ge,Jt)),ut=ge.parentNode;if(!rt&&qe(ut)&&t_(v)&&G(ut),v.deep&&Te.length)for(let Jt=0;Jt<Te.length;Jt++)Q(Te[Jt]);Be(["underline","line-through","overline"],Jt=>{Cn(ge)&&e.dom.getStyle(ge,"text-decoration")===Jt&&ge.parentNode&&RB(T,ge.parentNode)===Jt&&JS(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Jt}},void 0,ge)})},ce=ge=>{const Te=T.get(ge?"_start":"_end");if(Te){let ot=Te[ge?"firstChild":"lastChild"];return W(ot)&&(ot=ot[ge?"firstChild":"lastChild"]),dn(ot)&&ot.data.length===0&&(ot=ge?Te.previousSibling||Te.nextSibling:Te.nextSibling||Te.previousSibling),T.remove(Te,!0),ot}else return null},ke=ge=>{let Te,ot,rt=y1(T,ge,h,{includeTrailingSpace:ge.collapsed});if(v.split){if(rt=kw(rt),Te=uO(e,rt,!0),ot=uO(e,rt),Te!==ot){if(Te=dO(Te,!0),ot=dO(ot,!1),M8(T,Te,ot)){const Ft=X.from(Te.firstChild).getOr(Te);B(fO(T,Ft,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ce(!0);return}if(M8(T,ot,Te)){const Ft=X.from(ot.lastChild).getOr(ot);B(fO(T,Ft,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ce(!1);return}Te=mk(T,Te,"span",{id:"_start","data-mce-type":"bookmark"}),ot=mk(T,ot,"span",{id:"_end","data-mce-type":"bookmark"});const ut=T.createRng();ut.setStartAfter(Te),ut.setEndBefore(ot),Yg(T,ut,Ft=>{Be(Ft,Jt=>{!xi(Jt)&&!xi(Jt.parentNode)&&B(Jt)})}),B(Te),B(ot),Te=ce(!0),ot=ce()}else Te=ot=B(Te);rt.startContainer=Te.parentNode?Te.parentNode:Te,rt.startOffset=T.nodeIndex(Te),rt.endContainer=ot.parentNode?ot.parentNode:ot,rt.endOffset=T.nodeIndex(ot)+1}Yg(T,rt,ut=>{Be(ut,Q)})};if(r){if(NS(r)){const ge=T.createRng();ge.setStartBefore(r),ge.setEndAfter(r),ke(ge)}else ke(r);KC(e,t,r,o);return}!k.isCollapsed()||!hu(v)||eo(e).length?(kB(e,()=>OS(e,ke),ge=>hu(v)&&Y_(e,t,o,ge)),e.nodeChanged()):y8(e,t,o,l),F2(e,t,o),KC(e,t,r,o)},gk=(e,t,o,r,l)=>{(r||e.selection.isEditable())&&Hj(e,t,o,r,l)},$8=(e,t,o,r)=>hk(e,t,o,r).fold(()=>X.some(r),l=>X.some(e.dom.rename(r,l)),X.none),JS=(e,t,o,r,l)=>hk(e,t,o,r,l).fold(Ze,h=>(e.dom.rename(r,h),!0),bt),I8=["fontsize","subscript","superscript"],pk=["strikethrough",...I8],zj=(e,t,o)=>qe(e.matchNode(t.dom,o,{},o==="fontsize")),bk=(e,t)=>Ge(I8,o=>zj(e,t,o)),Vj=e=>Ne(pk,e),H8=(e,t,o,r,l)=>{const h=ll(t,e).filter(fa);return Xo(h,o).map(v=>{const T=h[v],k=r(T),B=[...l(Ai(T)).toArray(),...ko(h.slice(0,v),W=>o(W)?l(W).toArray():[Ai(W)])];return{container:T,innerWrapper:k,outerWrappers:B}})},z8=(e,t,o,r)=>{Be(ma(e),l=>{fa(l)&&o(l)&&r(l).isNone()&&Gl(l)}),Be(ma(e),l=>$s(t,l)),Jd(e,t)},V8=(e,t)=>{if(t.length>0){const o=t[t.length-1];cl(e,o);const r=Le(t.slice(0,t.length-1),(l,h)=>($s(l,h),h),o);$s(r,e)}},jj=(e,t,o,r,l)=>{const h=v=>ss(De.fromDom(e.getRoot()),v)||e.isBlock(v.dom);Be(t,v=>{H8(h,v,o,r,l).each(({container:T,innerWrapper:k,outerWrappers:B})=>{e.split(T.dom,v.dom),z8(v,k,o,l),V8(v,B)})})},hO=(e,t,o)=>{const r=T=>qe(tg(e,T.dom,t)),l=T=>{const k=De.fromTag(rs(T)),B=tg(e,T.dom,t,{});return qe(B)&&Tj(B)&&L2(e,k.dom,B),k},h=T=>{const k=tg(e,T.dom,t,{});return qe(k)?$8(e,k,{},T.dom).map(De.fromDom):X.some(T)},v=w1(e.selection.getRng());jj(e.dom,o,r,l,h),e.selection.setRng(eg(v))},Uj=(e,t)=>ko(t,o=>{const r=xe(o,l=>bk(e,l));return bk(e,o)?[o,...r]:r}),Zj=(e,t,o)=>{if(Vj(t)){const r=Uj(e.formatter,o);hO(e,"strikethrough",r)}},Wj=(e,t)=>{const o=yt(t,r=>bk(e.formatter,r));hO(e,"strikethrough",o)},Gf=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),j8=e=>e.name==="summary",qj=(e,t)=>{let o=e;for(;o=o.walk();)t(o)},gO=(e,t,o,r)=>{const l=o.name;for(let h=0,v=e.length;h<v;h++){const T=e[h];if(T.name===l){const k=r.nodes[l];k?k.nodes.push(o):r.nodes[l]={filter:T,nodes:[o]}}}if(o.attributes)for(let h=0,v=t.length;h<v;h++){const T=t[h],k=T.name;if(k in o.attributes.map){const B=r.attributes[k];B?B.nodes.push(o):r.attributes[k]={filter:T,nodes:[o]}}}},Gj=(e,t,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&qj(o,l=>{gO(e,t,l,r)}),r},U8=(e,t)=>{const o=(r,l)=>{Oo(r,h=>{const v=Es(h.nodes);Be(h.filter.callbacks,T=>{for(let k=v.length-1;k>=0;k--){const B=v[k];(!(l?B.attr(h.filter.name)!==void 0:B.name===h.filter.name)||mn(B.parent))&&v.splice(k,1)}v.length>0&&T(v,h.filter.name,t)})})};o(e.nodes,!1),o(e.attributes,!0)},Z8=(e,t,o,r={})=>{const l=Gj(e,t,o);U8(l,r)},av=(e,t,o,r)=>{if((e.pad_empty_with_br||t.insert)&&o(r)){const h=new Hc("br",1);t.insert&&h.attr("data-mce-bogus","1"),r.empty().append(h)}else r.empty().append(new Hc("#text",3)).value=qr},Rw=e=>Kj(e,"#text")&&e?.firstChild?.value===qr,Kj=(e,t)=>{const o=e?.firstChild;return qe(o)&&o===e.lastChild&&o.name===t},Yj=(e,t)=>e.getElementRule(t.name)?.paddEmpty===!0,eE=(e,t,o,r)=>r.isEmpty(t,o,l=>Yj(e,l)),g0=(e,t)=>qe(e)&&(t(e)||e.name==="br"),Xj=e=>{let t;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(t=o)}return X.from(t)},Qj=e=>{const t=[];for(let o=e.firstChild;qe(o);o=o.walk())t.push(o);return t},Nw=(e,t,o=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const l of r)o&&!t.isValidChild(o.name,l.name)&&Nw(l,t,o);e.unwrap()}},W8=(e,t,o,r=Pt)=>{const l=t.getTextBlockElements(),h=t.getNonEmptyElements(),v=t.getWhitespaceElements(),T=an.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),k=new Set,B=W=>W!==o&&!T[W.name];for(let W=0;W<e.length;W++){const G=e[W];let Q,ce,ke;if(!G.parent||k.has(G))continue;if(l[G.name]&&G.parent.name==="li"){let Te=G.next;for(;Te&&l[Te.name];){Te.name="li",k.add(Te),G.parent.insert(Te,G.parent);Te=Te.next}G.unwrap();continue}const ge=[G];for(Q=G.parent;Q&&!t.isValidChild(Q.name,G.name)&&B(Q);Q=Q.parent)ge.push(Q);if(Q&&ge.length>1)if(tE(t,G,Q))Nw(G,t);else{ge.reverse(),ce=ge[0].clone(),r(ce);let Te=ce;for(let ot=0;ot<ge.length-1;ot++){t.isValidChild(Te.name,ge[ot].name)&&ot>0?(ke=ge[ot].clone(),r(ke),Te.append(ke)):ke=Te;for(let rt=ge[ot].firstChild;rt&&rt!==ge[ot+1];){const ut=rt.next;ke.append(rt),rt=ut}Te=ke}eE(t,h,v,ce)?Q.insert(G,ge[0],!0):(Q.insert(ce,ge[0],!0),Q.insert(G,ce)),Q=ge[0],(eE(t,h,v,Q)||Kj(Q,"br"))&&Q.empty().remove()}else if(G.parent){if(G.name==="li"){let Te=G.prev;if(Te&&(Te.name==="ul"||Te.name==="ol")){Te.append(G);continue}if(Te=G.next,Te&&(Te.name==="ul"||Te.name==="ol")&&Te.firstChild){Te.insert(G,Te.firstChild,!0);continue}const ot=new Hc("ul",1);r(ot),G.wrap(ot);continue}if(t.isValidChild(G.parent.name,"div")&&t.isValidChild("div",G.name)){const Te=new Hc("div",1);r(Te),G.wrap(Te)}else Nw(G,t)}}},pO=(e,t)=>{let o=e;for(;o;){if(o.name===t)return!0;o=o.parent}return!1},tE=(e,t,o=t.parent)=>o?e.children[t.name]&&!e.isValidChild(o.name,t.name)||t.name==="a"&&pO(o,"a")?!0:j8(o)&&Gf(t)?!(o?.firstChild===t&&o?.lastChild===t):!1:!1,q8=(e,t,o,r)=>{const l=document.createRange();return l.setStart(e,t),l.setEnd(o,r),l},Jj=e=>{const t=_t.fromRangeStart(e),o=_t.fromRangeEnd(e),r=e.commonAncestorContainer;return Zf(!1,r,o).map(l=>!qg(t,o,r)&&qg(t,l,r)?q8(t.container(),t.offset(),l.container(),l.offset()):e).getOr(e)},bO=e=>e.collapsed?e:Jj(e),Zb=an.explode,G8=()=>{const e={};return{addFilter:(l,h)=>{Be(Zb(l),v=>{Jn(e,v)||(e[v]={name:v,callbacks:[]}),e[v].callbacks.push(h)})},getFilters:()=>yo(e),removeFilter:(l,h)=>{Be(Zb(l),v=>{if(Jn(e,v))if(qe(h)){const T=e[v],k=yt(T.callbacks,B=>B!==h);k.length>0?T.callbacks=k:delete e[v]}else delete e[v]})}}},eU=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),tU=e=>e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),ks=(e,t)=>{Be(t,o=>{e.attr(o,null)})},nU=(e,t,o)=>{e.addNodeFilter("font",r=>{Be(r,l=>{const h=t.parse(l.attr("style")),v=l.attr("color"),T=l.attr("face"),k=l.attr("size");v&&(h.color=v),T&&(h["font-family"]=T),k&&Ef(k).each(B=>{h["font-size"]=o[B-1]}),l.name="span",l.attr("style",t.serialize(h)),ks(l,["color","face","size"])})})},oU=(e,t,o)=>{e.addNodeFilter("strike",r=>{const l=t.type!=="html4";Be(r,h=>{if(l)h.name="s";else{const v=o.parse(h.attr("style"));v["text-decoration"]="line-through",h.name="span",h.attr("style",o.serialize(v))}})})},K8=(e,t,o)=>{const r=mm();t.convert_fonts_to_spans&&nU(e,r,an.explode(t.font_size_legacy_values??"")),oU(e,o,r)},sU=(e,t,o)=>{t.inline_styles&&K8(e,t,o)},rU=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),el=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},aU=e=>{try{return decodeURIComponent(e)}catch{return e}},yO=e=>{const[t,...o]=e.split(","),r=o.join(","),l=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(l){const h=l[2]===";base64",v=aU(r),T=h?el(v):v;return X.some({type:l[1],data:T,base64Encoded:h})}else return X.none()},Y8=(e,t,o=!0)=>{let r=t;if(o)try{r=atob(t)}catch{return X.none()}const l=new Uint8Array(r.length);for(let h=0;h<l.length;h++)l[h]=r.charCodeAt(h);return X.some(new Blob([l],{type:e}))},iU=e=>new Promise((t,o)=>{yO(e).bind(({type:r,data:l,base64Encoded:h})=>Y8(r,l,h)).fold(()=>o("Invalid data URI"),t)}),mi=e=>wo(e,"blob:")?rU(e):wo(e,"data:")?iU(e):Promise.reject("Unknown URI format"),vO=e=>new Promise((t,o)=>{const r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=()=>{o(r.error?.message)},r.readAsDataURL(e)});let X8=0;const lU=e=>"blobid"+X8++,xO=(e,t,o)=>yO(e).bind(({data:r,type:l,base64Encoded:h})=>{if(t&&!h)return X.none();{const v=h?r:btoa(r);return o(v,l)}}),Q8=(e,t,o)=>{const r=e.create(lU(),t,o);return e.add(r),r},C1=(e,t,o=!1)=>xO(t,o,(r,l)=>X.from(e.getByData(r,l)).orThunk(()=>Y8(l,r).map(h=>Q8(e,h,r)))),wO=(e,t)=>{const o=()=>Promise.reject("Invalid data URI");if(wo(t,"blob:")){const r=e.getByUri(t);return qe(r)?Promise.resolve(r):mi(t).then(l=>vO(l).then(h=>xO(h,!1,v=>X.some(Q8(e,l,v))).getOrThunk(o)))}else return wo(t,"data:")?C1(e,t).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},cU=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,uU=e=>X.from(e.match(cU)).bind(t=>Xs(t,1)).map(t=>wo(t,"www.")?t.substring(4):t),yk=(e,t)=>{X.from(e.attr("src")).bind(uU).forall(o=>!Ne(t,o))&&e.attr("sandbox","")},CO=(e,t)=>wo(e,`${t}/`),dU=e=>Tn(e)?"iframe":CO(e,"image")?"img":CO(e,"video")?"video":CO(e,"audio")?"audio":"iframe",ac=({type:e,src:t,width:o,height:r}={},l,h)=>{const v=dU(e),T=new Hc(v,1);return T.attr(v==="audio"?{src:t}:{src:t,width:o,height:r}),(v==="audio"||v==="video")&&T.attr("controls",""),v==="iframe"&&l&&yk(T,h),T},fU=e=>qe(e.attr("data-mce-bogus")),iv=e=>e.attr("src")===ds.transparentSrc||qe(e.attr("data-mce-placeholder")),mU=(e,t)=>{const{blob_cache:o}=t;if(o){const r=l=>{const h=l.attr("src");iv(l)||fU(l)||mn(h)||C1(o,h,!0).each(v=>{l.attr("src",v.blobUri())})};e.addAttributeFilter("src",l=>Be(l,r))}},hU=(e,t)=>{const o=e.schema;e.addAttributeFilter("href",v=>{let T=v.length;const k=W=>W.split(" ").filter(Q=>Q.length>0).concat(["noopener"]).sort().join(" "),B=W=>{const G=W?an.trim(W):"";return/\b(noopener)\b/g.test(G)?G:k(G)};if(!t.allow_unsafe_link_target)for(;T--;){const W=v[T];W.name==="a"&&W.attr("target")==="_blank"&&W.attr("rel",B(W.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",v=>{let T=v.length,k,B,W,G;for(;T--;)if(G=v[T],G.name==="a"&&G.firstChild&&!G.attr("href"))for(W=G.parent,k=G.lastChild;k&&W;)B=k.prev,W.insert(k,G),k=B}),t.fix_list_elements&&e.addNodeFilter("ul,ol",v=>{let T=v.length,k,B;for(;T--;)if(k=v[T],B=k.parent,B&&(B.name==="ul"||B.name==="ol"))if(k.prev&&k.prev.name==="li")k.prev.append(k);else{const W=new Hc("li",1);W.attr("style","list-style-type: none"),k.wrap(W)}});const r=o.getValidClasses();t.validate&&r&&e.addAttributeFilter("class",v=>{let T=v.length;for(;T--;){const k=v[T],B=k.attr("class")??"",W=an.explode(B," ");let G="";for(let Q=0;Q<W.length;Q++){const ce=W[Q];let ke=!1,ge=r["*"];ge&&ge[ce]&&(ke=!0),ge=r[k.name],!ke&&ge&&ge[ce]&&(ke=!0),ke&&(G&&(G+=" "),G+=ce)}G.length||(G=null),k.attr("class",G)}}),mU(e,t);const l=t.sandbox_iframes??!1,h=Ma(t.sandbox_iframes_exclusions??[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",v=>Be(v,T=>{T.replace(ac({type:T.attr("type"),src:T.name==="object"?T.attr("data"):T.attr("src"),width:T.attr("width"),height:T.attr("height")},l,h))})),l&&e.addNodeFilter("iframe",v=>Be(v,T=>yk(T,h)))};const{entries:J8,setPrototypeOf:eL,isFrozen:gU,getPrototypeOf:pU,getOwnPropertyDescriptor:bU}=Object;let{freeze:Sm,seal:ep,create:nE}=Object,{apply:SO,construct:EO}=typeof Reflect<"u"&&Reflect;Sm||(Sm=function(t){return t}),ep||(ep=function(t){return t}),SO||(SO=function(t,o,r){return t.apply(o,r)}),EO||(EO=function(t,o){return new t(...o)});const TO=Ud(Array.prototype.forEach),oE=Ud(Array.prototype.lastIndexOf),tL=Ud(Array.prototype.pop),$2=Ud(Array.prototype.push),yU=Ud(Array.prototype.splice),vk=Ud(String.prototype.toLowerCase),AO=Ud(String.prototype.toString),nL=Ud(String.prototype.match),p0=Ud(String.prototype.replace),I2=Ud(String.prototype.indexOf),xk=Ud(String.prototype.trim),ah=Ud(Object.prototype.hasOwnProperty),gu=Ud(RegExp.prototype.test),b0=wk(TypeError);function Ud(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var o=arguments.length,r=new Array(o>1?o-1:0),l=1;l<o;l++)r[l-1]=arguments[l];return SO(e,t,r)}}function wk(e){return function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return EO(e,o)}}function da(e,t){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vk;eL&&eL(e,null);let r=t.length;for(;r--;){let l=t[r];if(typeof l=="string"){const h=o(l);h!==l&&(gU(t)||(t[r]=h),l=h)}e[l]=!0}return e}function kO(e){for(let t=0;t<e.length;t++)ah(e,t)||(e[t]=null);return e}function y0(e){const t=nE(null);for(const[o,r]of J8(e))ah(e,o)&&(Array.isArray(r)?t[o]=kO(r):r&&typeof r=="object"&&r.constructor===Object?t[o]=y0(r):t[o]=r);return t}function Mw(e,t){for(;e!==null;){const r=bU(e,t);if(r){if(r.get)return Ud(r.get);if(typeof r.value=="function")return Ud(r.value)}e=pU(e)}function o(){return null}return o}const DO=Sm(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),lv=Sm(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ck=Sm(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),oL=Sm(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Sk=Sm(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ek=Sm(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),_O=Sm(["#text"]),OO=Sm(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Tk=Sm(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),RO=Sm(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),tp=Sm(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),cv=ep(/\{\{[\w\W]*|[\w\W]*\}\}/gm),np=ep(/<%[\w\W]*|[\w\W]*%>/gm),vU=ep(/\$\{[\w\W]*/gm),xU=ep(/^data-[\-\w.\u00B7-\uFFFF]+$/),wU=ep(/^aria-[\-\w]+$/),sL=ep(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),CU=ep(/^(?:\w+script|data):/i),SU=ep(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),rL=ep(/^html$/i),EU=ep(/^[a-z][.\w]*(-[.\w]+)+$/i);var aL=Object.freeze({__proto__:null,ARIA_ATTR:wU,ATTR_WHITESPACE:SU,CUSTOM_ELEMENT:EU,DATA_ATTR:xU,DOCTYPE_NAME:rL,ERB_EXPR:np,IS_ALLOWED_URI:sL,IS_SCRIPT_OR_DATA:CU,MUSTACHE_EXPR:cv,TMPLIT_EXPR:vU});const sE={element:1,text:3,progressingInstruction:7,comment:8,document:9},TU=function(){return typeof window>"u"?null:window},AU=function(t,o){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const l="data-tt-policy-suffix";o&&o.hasAttribute(l)&&(r=o.getAttribute(l));const h="dompurify"+(r?"#"+r:"");try{return t.createPolicy(h,{createHTML(v){return v},createScriptURL(v){return v}})}catch{return console.warn("TrustedTypes policy "+h+" could not be created."),null}},Ak=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function kk(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:TU();const t=Hs=>kk(Hs);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==sE.document||!e.Element)return t.isSupported=!1,t;let{document:o}=e;const r=o,l=r.currentScript,{DocumentFragment:h,HTMLTemplateElement:v,Node:T,Element:k,NodeFilter:B,NamedNodeMap:W=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:G,DOMParser:Q,trustedTypes:ce}=e,ke=k.prototype,ge=Mw(ke,"cloneNode"),Te=Mw(ke,"remove"),ot=Mw(ke,"nextSibling"),rt=Mw(ke,"childNodes"),ut=Mw(ke,"parentNode");if(typeof v=="function"){const Hs=o.createElement("template");Hs.content&&Hs.content.ownerDocument&&(o=Hs.content.ownerDocument)}let Ft,Jt="";const{implementation:Rn,createNodeIterator:io,createDocumentFragment:Lt,getElementsByTagName:Ct}=o,{importNode:$t}=r;let On=Ak();t.isSupported=typeof J8=="function"&&typeof ut=="function"&&Rn&&Rn.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Bo,ERB_EXPR:Lo,TMPLIT_EXPR:Zs,DATA_ATTR:Pr,ARIA_ATTR:Ca,IS_SCRIPT_OR_DATA:ti,ATTR_WHITESPACE:jc,CUSTOM_ELEMENT:Am}=aL;let{IS_ALLOWED_URI:$n}=aL,go=null;const _r=da({},[...DO,...lv,...Ck,...Sk,..._O]);let br=null;const vu=da({},[...OO,...Tk,...RO,...tp]);let Ht=Object.seal(nE(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Sn=null,Xn=null,Ms=!0,Cs=!0,Zr=!1,km=!0,dp=!1,dg=!0,fh=!1,Tv=!1,Wd=!1,Yf=!1,ry=!1,DC=!1,O3=!0,Do=!1;const Ks="user-content-";let bl=!0,Va=!1,Xr={},nl=null;const Dm=da({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let vf=null;const fg=da({},["audio","video","img","source","image","track"]);let ay=null;const R3=da({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),N3="http://www.w3.org/1998/Math/MathML",yT="http://www.w3.org/2000/svg",L1="http://www.w3.org/1999/xhtml";let _C=L1,LM=!1,M3=null;const soe=da({},[N3,yT,L1],AO);let PM=da({},["mi","mo","mn","ms","mtext"]),FM=da({},["annotation-xml"]);const roe=da({},["title","style","font","a","script"]);let B3=null;const OC=["application/xhtml+xml","text/html"],kH="text/html";let gt=null,St=null;const zn=o.createElement("form"),En=function(At){return At instanceof RegExp||At instanceof Function},$o=function(){let At=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(St&&St===At)){if((!At||typeof At!="object")&&(At={}),At=y0(At),B3=OC.indexOf(At.PARSER_MEDIA_TYPE)===-1?kH:At.PARSER_MEDIA_TYPE,gt=B3==="application/xhtml+xml"?AO:vk,go=ah(At,"ALLOWED_TAGS")?da({},At.ALLOWED_TAGS,gt):_r,br=ah(At,"ALLOWED_ATTR")?da({},At.ALLOWED_ATTR,gt):vu,M3=ah(At,"ALLOWED_NAMESPACES")?da({},At.ALLOWED_NAMESPACES,AO):soe,ay=ah(At,"ADD_URI_SAFE_ATTR")?da(y0(R3),At.ADD_URI_SAFE_ATTR,gt):R3,vf=ah(At,"ADD_DATA_URI_TAGS")?da(y0(fg),At.ADD_DATA_URI_TAGS,gt):fg,nl=ah(At,"FORBID_CONTENTS")?da({},At.FORBID_CONTENTS,gt):Dm,Sn=ah(At,"FORBID_TAGS")?da({},At.FORBID_TAGS,gt):y0({}),Xn=ah(At,"FORBID_ATTR")?da({},At.FORBID_ATTR,gt):y0({}),Xr=ah(At,"USE_PROFILES")?At.USE_PROFILES:!1,Ms=At.ALLOW_ARIA_ATTR!==!1,Cs=At.ALLOW_DATA_ATTR!==!1,Zr=At.ALLOW_UNKNOWN_PROTOCOLS||!1,km=At.ALLOW_SELF_CLOSE_IN_ATTR!==!1,dp=At.SAFE_FOR_TEMPLATES||!1,dg=At.SAFE_FOR_XML!==!1,fh=At.WHOLE_DOCUMENT||!1,Yf=At.RETURN_DOM||!1,ry=At.RETURN_DOM_FRAGMENT||!1,DC=At.RETURN_TRUSTED_TYPE||!1,Wd=At.FORCE_BODY||!1,O3=At.SANITIZE_DOM!==!1,Do=At.SANITIZE_NAMED_PROPS||!1,bl=At.KEEP_CONTENT!==!1,Va=At.IN_PLACE||!1,$n=At.ALLOWED_URI_REGEXP||sL,_C=At.NAMESPACE||L1,PM=At.MATHML_TEXT_INTEGRATION_POINTS||PM,FM=At.HTML_INTEGRATION_POINTS||FM,Ht=At.CUSTOM_ELEMENT_HANDLING||{},At.CUSTOM_ELEMENT_HANDLING&&En(At.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ht.tagNameCheck=At.CUSTOM_ELEMENT_HANDLING.tagNameCheck),At.CUSTOM_ELEMENT_HANDLING&&En(At.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ht.attributeNameCheck=At.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),At.CUSTOM_ELEMENT_HANDLING&&typeof At.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ht.allowCustomizedBuiltInElements=At.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),dp&&(Cs=!1),ry&&(Yf=!0),Xr&&(go=da({},_O),br=[],Xr.html===!0&&(da(go,DO),da(br,OO)),Xr.svg===!0&&(da(go,lv),da(br,Tk),da(br,tp)),Xr.svgFilters===!0&&(da(go,Ck),da(br,Tk),da(br,tp)),Xr.mathMl===!0&&(da(go,Sk),da(br,RO),da(br,tp))),At.ADD_TAGS&&(go===_r&&(go=y0(go)),da(go,At.ADD_TAGS,gt)),At.ADD_ATTR&&(br===vu&&(br=y0(br)),da(br,At.ADD_ATTR,gt)),At.ADD_URI_SAFE_ATTR&&da(ay,At.ADD_URI_SAFE_ATTR,gt),At.FORBID_CONTENTS&&(nl===Dm&&(nl=y0(nl)),da(nl,At.FORBID_CONTENTS,gt)),bl&&(go["#text"]=!0),fh&&da(go,["html","head","body"]),go.table&&(da(go,["tbody"]),delete Sn.tbody),At.TRUSTED_TYPES_POLICY){if(typeof At.TRUSTED_TYPES_POLICY.createHTML!="function")throw b0('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof At.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw b0('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Ft=At.TRUSTED_TYPES_POLICY,Jt=Ft.createHTML("")}else Ft===void 0&&(Ft=AU(ce,l)),Ft!==null&&typeof Jt=="string"&&(Jt=Ft.createHTML(""));Sm&&Sm(At),St=At}},wr=da({},[...lv,...Ck,...oL]),zl=da({},[...Sk,...Ek]),iy=function(At){let bo=ut(At);(!bo||!bo.tagName)&&(bo={namespaceURI:_C,tagName:"template"});const Ds=vk(At.tagName),Uc=vk(bo.tagName);return M3[At.namespaceURI]?At.namespaceURI===yT?bo.namespaceURI===L1?Ds==="svg":bo.namespaceURI===N3?Ds==="svg"&&(Uc==="annotation-xml"||PM[Uc]):!!wr[Ds]:At.namespaceURI===N3?bo.namespaceURI===L1?Ds==="math":bo.namespaceURI===yT?Ds==="math"&&FM[Uc]:!!zl[Ds]:At.namespaceURI===L1?bo.namespaceURI===yT&&!FM[Uc]||bo.namespaceURI===N3&&!PM[Uc]?!1:!zl[Ds]&&(roe[Ds]||!wr[Ds]):!!(B3==="application/xhtml+xml"&&M3[At.namespaceURI]):!1},P1=function(At){$2(t.removed,{element:At});try{ut(At).removeChild(At)}catch{Te(At)}},L3=function(At,bo){try{$2(t.removed,{attribute:bo.getAttributeNode(At),from:bo})}catch{$2(t.removed,{attribute:null,from:bo})}if(bo.removeAttribute(At),At==="is")if(Yf||ry)try{P1(bo)}catch{}else try{bo.setAttribute(At,"")}catch{}},aoe=function(At){let bo=null,Ds=null;if(Wd)At="<remove></remove>"+At;else{const xf=nL(At,/^[\r\n\t ]+/);Ds=xf&&xf[0]}B3==="application/xhtml+xml"&&_C===L1&&(At='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+At+"</body></html>");const Uc=Ft?Ft.createHTML(At):At;if(_C===L1)try{bo=new Q().parseFromString(Uc,B3)}catch{}if(!bo||!bo.documentElement){bo=Rn.createDocument(_C,"template",null);try{bo.documentElement.innerHTML=LM?Jt:Uc}catch{}}const mh=bo.body||bo.documentElement;return At&&Ds&&mh.insertBefore(o.createTextNode(Ds),mh.childNodes[0]||null),_C===L1?Ct.call(bo,fh?"html":"body")[0]:fh?bo.documentElement:mh},ioe=function(At){return io.call(At.ownerDocument||At,At,B.SHOW_ELEMENT|B.SHOW_COMMENT|B.SHOW_TEXT|B.SHOW_PROCESSING_INSTRUCTION|B.SHOW_CDATA_SECTION,null)},$J=function(At){return At instanceof G&&(typeof At.nodeName!="string"||typeof At.textContent!="string"||typeof At.removeChild!="function"||!(At.attributes instanceof W)||typeof At.removeAttribute!="function"||typeof At.setAttribute!="function"||typeof At.namespaceURI!="string"||typeof At.insertBefore!="function"||typeof At.hasChildNodes!="function")},loe=function(At){return typeof T=="function"&&At instanceof T};function hx(Hs,At,bo){TO(Hs,Ds=>{Ds.call(t,At,bo,St)})}const coe=function(At){let bo=null;if(hx(On.beforeSanitizeElements,At,null),$J(At))return P1(At),!0;const Ds=gt(At.nodeName);if(hx(On.uponSanitizeElement,At,{tagName:Ds,allowedTags:go}),dg&&At.hasChildNodes()&&!loe(At.firstElementChild)&&gu(/<[/\w!]/g,At.innerHTML)&&gu(/<[/\w!]/g,At.textContent)||At.nodeType===sE.progressingInstruction||dg&&At.nodeType===sE.comment&&gu(/<[/\w]/g,At.data))return P1(At),!0;if(!go[Ds]||Sn[Ds]){if(!Sn[Ds]&&doe(Ds)&&(Ht.tagNameCheck instanceof RegExp&&gu(Ht.tagNameCheck,Ds)||Ht.tagNameCheck instanceof Function&&Ht.tagNameCheck(Ds)))return!1;if(bl&&!nl[Ds]){const Uc=ut(At)||At.parentNode,mh=rt(At)||At.childNodes;if(mh&&Uc){const xf=mh.length;for(let fp=xf-1;fp>=0;--fp){const gx=ge(mh[fp],!0);gx.__removalCount=(At.__removalCount||0)+1,Uc.insertBefore(gx,ot(At))}}}return P1(At),!0}return At instanceof k&&!iy(At)||(Ds==="noscript"||Ds==="noembed"||Ds==="noframes")&&gu(/<\/no(script|embed|frames)/i,At.innerHTML)?(P1(At),!0):(dp&&At.nodeType===sE.text&&(bo=At.textContent,TO([Bo,Lo,Zs],Uc=>{bo=p0(bo,Uc," ")}),At.textContent!==bo&&($2(t.removed,{element:At.cloneNode()}),At.textContent=bo)),hx(On.afterSanitizeElements,At,null),!1)},uoe=function(At,bo,Ds){if(O3&&(bo==="id"||bo==="name")&&(Ds in o||Ds in zn))return!1;if(!(Cs&&!Xn[bo]&&gu(Pr,bo))){if(!(Ms&&gu(Ca,bo))){if(!br[bo]||Xn[bo]){if(!(doe(At)&&(Ht.tagNameCheck instanceof RegExp&&gu(Ht.tagNameCheck,At)||Ht.tagNameCheck instanceof Function&&Ht.tagNameCheck(At))&&(Ht.attributeNameCheck instanceof RegExp&&gu(Ht.attributeNameCheck,bo)||Ht.attributeNameCheck instanceof Function&&Ht.attributeNameCheck(bo))||bo==="is"&&Ht.allowCustomizedBuiltInElements&&(Ht.tagNameCheck instanceof RegExp&&gu(Ht.tagNameCheck,Ds)||Ht.tagNameCheck instanceof Function&&Ht.tagNameCheck(Ds))))return!1}else if(!ay[bo]){if(!gu($n,p0(Ds,jc,""))){if(!((bo==="src"||bo==="xlink:href"||bo==="href")&&At!=="script"&&I2(Ds,"data:")===0&&vf[At])){if(!(Zr&&!gu(ti,p0(Ds,jc,"")))){if(Ds)return!1}}}}}}return!0},doe=function(At){return At!=="annotation-xml"&&nL(At,Am)},foe=function(At){hx(On.beforeSanitizeAttributes,At,null);const{attributes:bo}=At;if(!bo||$J(At))return;const Ds={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:br,forceKeepAttr:void 0};let Uc=bo.length;for(;Uc--;){const mh=bo[Uc],{name:xf,namespaceURI:fp,value:gx}=mh,$M=gt(xf),IJ=gx;let hh=xf==="value"?IJ:xk(IJ);if(Ds.attrName=$M,Ds.attrValue=hh,Ds.keepAttr=!0,Ds.forceKeepAttr=void 0,hx(On.uponSanitizeAttribute,At,Ds),hh=Ds.attrValue,Do&&($M==="id"||$M==="name")&&(L3(xf,At),hh=Ks+hh),dg&&gu(/((--!?|])>)|<\/(style|title)/i,hh)){L3(xf,At);continue}if(Ds.forceKeepAttr)continue;if(!Ds.keepAttr){L3(xf,At);continue}if(!km&&gu(/\/>/i,hh)){L3(xf,At);continue}dp&&TO([Bo,Lo,Zs],hoe=>{hh=p0(hh,hoe," ")});const moe=gt(At.nodeName);if(!uoe(moe,$M,hh)){L3(xf,At);continue}if(Ft&&typeof ce=="object"&&typeof ce.getAttributeType=="function"&&!fp)switch(ce.getAttributeType(moe,$M)){case"TrustedHTML":{hh=Ft.createHTML(hh);break}case"TrustedScriptURL":{hh=Ft.createScriptURL(hh);break}}if(hh!==IJ)try{fp?At.setAttributeNS(fp,xf,hh):At.setAttribute(xf,hh),$J(At)?P1(At):tL(t.removed)}catch{L3(xf,At)}}hx(On.afterSanitizeAttributes,At,null)},Oue=function Hs(At){let bo=null;const Ds=ioe(At);for(hx(On.beforeSanitizeShadowDOM,At,null);bo=Ds.nextNode();)hx(On.uponSanitizeShadowNode,bo,null),coe(bo),foe(bo),bo.content instanceof h&&Hs(bo.content);hx(On.afterSanitizeShadowDOM,At,null)};return t.sanitize=function(Hs){let At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},bo=null,Ds=null,Uc=null,mh=null;if(LM=!Hs,LM&&(Hs="<!-->"),typeof Hs!="string"&&!loe(Hs))if(typeof Hs.toString=="function"){if(Hs=Hs.toString(),typeof Hs!="string")throw b0("dirty is not a string, aborting")}else throw b0("toString is not a function");if(!t.isSupported)return Hs;if(Tv||$o(At),t.removed=[],typeof Hs=="string"&&(Va=!1),Va){if(Hs.nodeName){const gx=gt(Hs.nodeName);if(!go[gx]||Sn[gx])throw b0("root node is forbidden and cannot be sanitized in-place")}}else if(Hs instanceof T)bo=aoe("<!---->"),Ds=bo.ownerDocument.importNode(Hs,!0),Ds.nodeType===sE.element&&Ds.nodeName==="BODY"||Ds.nodeName==="HTML"?bo=Ds:bo.appendChild(Ds);else{if(!Yf&&!dp&&!fh&&Hs.indexOf("<")===-1)return Ft&&DC?Ft.createHTML(Hs):Hs;if(bo=aoe(Hs),!bo)return Yf?null:DC?Jt:""}bo&&Wd&&P1(bo.firstChild);const xf=ioe(Va?Hs:bo);for(;Uc=xf.nextNode();)coe(Uc),foe(Uc),Uc.content instanceof h&&Oue(Uc.content);if(Va)return Hs;if(Yf){if(ry)for(mh=Lt.call(bo.ownerDocument);bo.firstChild;)mh.appendChild(bo.firstChild);else mh=bo;return(br.shadowroot||br.shadowrootmode)&&(mh=$t.call(r,mh,!0)),mh}let fp=fh?bo.outerHTML:bo.innerHTML;return fh&&go["!doctype"]&&bo.ownerDocument&&bo.ownerDocument.doctype&&bo.ownerDocument.doctype.name&&gu(rL,bo.ownerDocument.doctype.name)&&(fp="<!DOCTYPE "+bo.ownerDocument.doctype.name+`>
`+fp),dp&&TO([Bo,Lo,Zs],gx=>{fp=p0(fp,gx," ")}),Ft&&DC?Ft.createHTML(fp):fp},t.setConfig=function(){let Hs=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$o(Hs),Tv=!0},t.clearConfig=function(){St=null,Tv=!1},t.isValidAttribute=function(Hs,At,bo){St||$o({});const Ds=gt(Hs),Uc=gt(At);return uoe(Ds,Uc,bo)},t.addHook=function(Hs,At){typeof At=="function"&&$2(On[Hs],At)},t.removeHook=function(Hs,At){if(At!==void 0){const bo=oE(On[Hs],At);return bo===-1?void 0:yU(On[Hs],bo,1)[0]}return tL(On[Hs])},t.removeHooks=function(Hs){On[Hs]=[]},t.removeAllHooks=function(){On=Ak()},t}var Dk=kk();const iL=an.each,kU=an.trim,lL=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],cL={ftp:21,http:80,https:443,mailto:25},NO=["img","video"],uL=(e,t)=>qe(e)?!e:qe(t)?!Ne(NO,t):!0,dL=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},_k=(e,t,o)=>{const r=dL(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?uL(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class op{static parseDataUri(t){let o;const r=decodeURIComponent(t).split(","),l=/data:([^;]+)/.exec(r[0]);return l&&(o=l[1]),{type:o,data:r[1]}}static isDomSafe(t,o,r={}){if(r.allow_script_urls)return!0;{const l=ed.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!_k(r,l,o)}}static getDocumentBaseUrl(t){let o;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?o=t.href??"":o=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(o)&&(o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(o)||(o+="/")),o}source;protocol;authority;userInfo;user;password;host;port;relative;path="";directory="";file;query;anchor;settings;constructor(t,o={}){t=kU(t),this.settings=o;const r=o.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){l.source=t;return}const h=t.indexOf("//")===0;if(t.indexOf("/")===0&&!h&&(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const T=r?r.path:new op(document.location.href).directory;if(r?.protocol==="")t="//mce_host"+l.toAbsPath(T,t);else{const k=/([^#?]*)([#?]?.*)/.exec(t);k&&(t=(r&&r.protocol||"http")+"://mce_host"+l.toAbsPath(T,k[1])+k[2])}}t=t.replace(/@@/g,"(mce_at)");const v=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);v&&iL(lL,(T,k)=>{let B=v[k];B&&(B=B.replace(/\(mce_at\)/g,"@@")),l[T]=B}),r&&(l.protocol||(l.protocol=r.protocol),l.userInfo||(l.userInfo=r.userInfo),!l.port&&l.host==="mce_host"&&(l.port=r.port),(!l.host||l.host==="mce_host")&&(l.host=r.host),l.source=""),h&&(l.protocol="")}setPath(t){const o=/^(.*?)\/?(\w+)?$/.exec(t);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const o=new op(t,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),l=o.getURI();if(r===l||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===l)return r;let h=this.toRelPath(this.path,o.path);return o.query&&(h+="?"+o.query),o.anchor&&(h+="#"+o.anchor),h}toAbsolute(t,o){const r=new op(t,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const o=this.protocol?cL[this.protocol]:null;if(o&&(this.port||o)==(t.port||o))return!0}return!1}toRelPath(t,o){let r=0,l="",h,v;const T=t.substring(0,t.lastIndexOf("/")).split("/"),k=o.split("/");if(T.length>=k.length){for(h=0,v=T.length;h<v;h++)if(h>=k.length||T[h]!==k[h]){r=h+1;break}}if(T.length<k.length){for(h=0,v=k.length;h<v;h++)if(h>=T.length||T[h]!==k[h]){r=h+1;break}}if(r===1)return o;for(h=0,v=T.length-(r-1);h<v;h++)l+="../";for(h=r-1,v=k.length;h<v;h++)h!==r-1?l+="/"+k[h]:l+=k[h];return l}toAbsPath(t,o){let r=0;const l=/\/$/.test(o)?"/":"",h=t.split("/"),v=o.split("/"),T=[];iL(h,G=>{G&&T.push(G)});const k=[];for(let G=v.length-1;G>=0;G--)if(!(v[G].length===0||v[G]===".")){if(v[G]===".."){r++;continue}if(r>0){r--;continue}k.push(v[G])}const B=T.length-r;let W;return B<=0?W=Ho(k).join("/"):W=T.slice(0,B).join("/")+"/"+Ho(k).join("/"),W.indexOf("/")!==0&&(W="/"+W),l&&W.lastIndexOf("/")!==W.length-1&&(W+=l),W}getURI(t=!1){let o;return(!this.source||t)&&(o="",t||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const DU=an.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),sp="data-mce-type";let ng=0;const rE=(e,t,o,r,l)=>{const h=t.validate,v=o.getSpecialElements();e.nodeType===xl&&(!t.allow_conditional_comments&&/^\[if/i.test(e.nodeValue??"")&&(e.nodeValue=" "+e.nodeValue),t.sanitize&&t.allow_html_in_comments&&J(e.nodeValue)&&(e.nodeValue=eU(e.nodeValue)));const T=l?.tagName??e.nodeName.toLowerCase();if(r!=="html"&&o.isValid(r)){qe(l)&&(l.allowedTags[T]=!0);return}if(e.nodeType!==Ch||T==="body")return;const k=De.fromDom(e),B=Gr(k,sp),W=yr(k,"data-mce-bogus");if(!B&&J(W)){W==="all"?ws(k):Gl(k);return}const G=o.getElementRule(T);if(h&&!G){Jn(v,T)?ws(k):Gl(k);return}else qe(l)&&(l.allowedTags[T]=!0);if(h&&G&&!B){if(Be(G.attributesForced??[],Q=>{Or(k,Q.name,Q.value==="{$uid}"?`mce_${ng++}`:Q.value)}),Be(G.attributesDefault??[],Q=>{Gr(k,Q.name)||Or(k,Q.name,Q.value==="{$uid}"?`mce_${ng++}`:Q.value)}),G.attributesRequired&&!Ge(G.attributesRequired,Q=>Gr(k,Q))){Gl(k);return}if(G.removeEmptyAttrs&&ef(k)){Gl(k);return}G.outputName&&G.outputName!==T&&qa(k,G.outputName)}},fL=(e,t,o,r,l)=>{const h=e.tagName.toLowerCase(),{attrName:v,attrValue:T}=l;l.keepAttr=aE(t,o,r,h,v,T),l.keepAttr?(l.allowedAttributes[v]=!0,BO(v,o,e.nodeName)&&(l.attrValue=v),t.allow_svg_data_urls&&wo(T,"data:image/svg+xml")&&(l.forceKeepAttr=!0)):MO(e,v)&&(l.forceKeepAttr=!0)},aE=(e,t,o,r,l,h)=>o!=="html"&&!Ng(r)?!0:!(l in DU&&_k(e,h,r))&&(!e.validate||t.isValid(r,l)||wo(l,"data-")||wo(l,"aria-")),MO=(e,t)=>e.hasAttribute(sp)&&(t==="id"||t==="class"||t==="style"),BO=(e,t,o)=>e in t.getBoolAttrs()&&!Jn(t.getCustomElements(),o.toLowerCase()),mL=(e,t,o,r)=>{const{attributes:l}=e;for(let h=l.length-1;h>=0;h--){const v=l[h],T=v.name,k=v.value;!aE(t,o,r,e.tagName.toLowerCase(),T,k)&&!MO(e,T)?e.removeAttribute(T):BO(T,o,e.nodeName)&&e.setAttribute(T,T)}},hL=(e,t,o)=>{const r=Dk();return r.addHook("uponSanitizeElement",(l,h)=>{rE(l,e,t,o.track(l),h)}),r.addHook("uponSanitizeAttribute",(l,h)=>{fL(l,e,t,o.current(),h)}),r},gL=(e,t)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body","html"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=t,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},pL=e=>{const t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(r=>`xlink:${r}`),o={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t};Dk().sanitize(e,o)},Ok=(e,t)=>{const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},r=Dk(),l=t.allow_mathml_annotation_encodings,h=Qe(l)&&l.length>0,v=k=>{const B=k.getAttribute("encoding");return h&&J(B)&&Ne(l,B)},T=(k,B)=>h&&B==="semantics"?X.some(!0):B==="annotation"?X.some(Cn(k)&&v(k)):Qe(t.extended_mathml_elements)&&t.extended_mathml_elements.includes(B)?X.from(!0):X.none();r.addHook("uponSanitizeElement",(k,B)=>{const W=B.tagName??k.nodeName.toLowerCase();T(k,W).each(Q=>{B.allowedTags[W]=Q,!Q&&t.sanitize&&Cn(k)&&k.remove()})}),r.addHook("uponSanitizeAttribute",(k,B)=>{Qe(t.extended_mathml_attributes)&&t.extended_mathml_attributes.includes(B.attrName)&&(B.forceKeepAttr=!0)}),r.sanitize(e,o)},LO=e=>t=>{const o=W0(t);if(o==="svg")pL(t);else if(o==="math")Ok(t,e);else throw new Error("Not a namespace element")},_U=(e,t)=>{const o=Pv();if(e.sanitize){const r=hL(e,t,o);return{sanitizeHtmlElement:(h,v)=>{r.sanitize(h,gL(e,v)),r.removed=[],o.reset()},sanitizeNamespaceElement:LO(e)}}else return{sanitizeHtmlElement:(h,v)=>{const T=document.createNodeIterator(h,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let k;for(;k=T.nextNode();){const B=o.track(k);rE(k,e,t,B),Cn(k)&&mL(k,e,t,B)}o.reset()},sanitizeNamespaceElement:Pt}},bL=["script","style","template","param","meta","title","link"],yL=an.makeMap,vL=an.extend,PO=(e,t,o,r,l)=>{const h=e.name,v=h in o&&h!=="title"&&h!=="textarea"&&h!=="noscript",T=t.childNodes;for(let k=0,B=T.length;k<B;k++){const W=T[k],G=new Hc(W.nodeName.toLowerCase(),W.nodeType);if(Cn(W)){const Q=W.attributes;for(let ce=0,ke=Q.length;ce<ke;ce++){const ge=Q[ce];G.attr(ge.name,ge.value)}Ng(G.name)&&(r(W),G.value=W.innerHTML)}else dn(W)?(G.value=W.data,v&&(G.raw=!0)):ns(W)?G.value=l?tU(W.data):W.data:(Dp(W)||Pi(W))&&(G.value=W.data);if(Nh(W)){const Q=Hc.create("#text");Q.value=W.innerHTML,Q.raw=!0,G.append(Q)}else Ng(G.name)||PO(G,W,o,r,l);e.append(G)}},OU=(e,t,o)=>{const r=[];for(let l=e,h=l;l;h=l,l=l.walk()){const v=l;Be(t,T=>T(v)),mn(v.parent)&&v!==e?l=h:r.push(v)}for(let l=r.length-1;l>=0;l--){const h=r[l];Be(o,v=>v(h))}},RU=(e,t,o,r)=>{const l=o.validate,h=t.getNonEmptyElements(),v=t.getWhitespaceElements(),T=vL(yL(bL),t.getBlockElements()),k=Ty(t),B=/[ \t\r\n]+/g,W=/^[ \t\r\n]+/,G=/[ \t\r\n]+$/,Q=rt=>{let ut=rt.parent;for(;qe(ut);){if(ut.name in v)return!0;ut=ut.parent}return!1},ce=rt=>{let ut=rt;for(;qe(ut);){if(ut.name in k)return eE(t,h,v,ut);ut=ut.parent}return!1},ke=rt=>rt.name in T||cu(t,rt)||Ng(rt.name)&&rt.parent===e,ge=(rt,ut)=>{const Ft=ut?rt.prev:rt.next;return qe(Ft)||mn(rt.parent)?!1:ke(rt.parent)&&(rt.parent!==e||r.isRootContent===!0)};return[rt=>{if(rt.type===3&&!Q(rt)){let ut=rt.value??"";ut=ut.replace(B," "),(g0(rt.prev,ke)||ge(rt,!0))&&(ut=ut.replace(W,"")),ut.length===0||ut===" "&&rt.prev&&rt.prev.type===xl&&rt.next&&rt.next.type===xl?rt.remove():rt.value=ut}},rt=>{if(rt.type===1){const ut=t.getElementRule(rt.name);if(l&&ut){const Ft=eE(t,h,v,rt);ut.paddInEmptyBlock&&Ft&&ce(rt)?av(o,r,ke,rt):ut.removeEmpty&&Ft?ke(rt)?rt.remove():rt.unwrap():ut.paddEmpty&&(Ft||Rw(rt))&&av(o,r,ke,rt)}}else if(rt.type===3&&!Q(rt)){let ut=rt.value??"";(rt.next&&ke(rt.next)||ge(rt,!1))&&(ut=ut.replace(G,"")),ut.length===0?rt.remove():rt.value=ut}}]},FO=(e,t)=>{const o=t.forced_root_block??e.forced_root_block;return o===!1?"":o===!0?"p":o},xL=' xmlns="http://www.w3.org/1999/xhtml"',Bw=(e={},t=Bs())=>{const o=G8(),r=G8(),l={validate:!0,root_name:"body",sanitize:!0,allow_html_in_comments:!1,...e},h=new DOMParser,v=_U(l,t),T=(ut,Ft,Jt="html",Rn=!1)=>{const io=Jt==="xhtml",Lt=io?"application/xhtml+xml":"text/html",Ct=Jn(t.getSpecialElements(),Ft.toLowerCase()),$t=Ct?`<${Ft}>${ut}</${Ft}>`:ut,On=()=>/^[\s]*<head/i.test(ut)||/^[\s]*<html/i.test(ut)||/^[\s]*<!DOCTYPE/i.test(ut)?`<html${io?xL:""}>${$t}</html>`:io?`<html${xL}><head></head><body>${$t}</body></html>`:`<body>${$t}</body>`,Bo=h.parseFromString(On(),Lt),Lo=Rn?Bo.documentElement:Bo.body;return v.sanitizeHtmlElement(Lo,Lt),Ct?Lo.firstChild:Lo},k=o.addFilter,B=o.getFilters,W=o.removeFilter,G=r.addFilter,Q=r.getFilters,ce=r.removeFilter,ke=(ut,Ft)=>{tE(t,ut)&&Ft.push(ut)},ge=(ut,Ft)=>{const Jt=J(Ft.attr(sp)),Rn=Ft.type===1&&!Jn(ut,Ft.name)&&!cu(t,Ft)&&!Ng(Ft.name);return Ft.type===3||Rn&&!Jt},Te=(ut,Ft)=>{const Jt=vL(yL(bL),t.getBlockElements()),Rn=/^[ \t\r\n]+/,io=/[ \t\r\n]+$/;let Lt=ut.firstChild,Ct=null;const $t=On=>{On&&(Lt=On.firstChild,Lt&&Lt.type===3&&(Lt.value=Lt.value?.replace(Rn,"")),Lt=On.lastChild,Lt&&Lt.type===3&&(Lt.value=Lt.value?.replace(io,"")))};if(t.isValidChild(ut.name,Ft.toLowerCase())){for(;Lt;){const On=Lt.next;ge(Jt,Lt)?(Ct||(Ct=new Hc(Ft,1),Ct.attr(l.forced_root_block_attrs),ut.insert(Ct,Lt)),Ct.append(Lt)):($t(Ct),Ct=null),Lt=On}$t(Ct)}},rt={schema:t,addAttributeFilter:G,getAttributeFilters:Q,removeAttributeFilter:ce,addNodeFilter:k,getNodeFilters:B,removeNodeFilter:W,parse:(ut,Ft={})=>{const Jt=l.validate,Rn=(Ft.context??l.root_name)==="#document",io=Ft.context??(Rn?"html":l.root_name),Lt=T(ut,io,Ft.format,Rn);fl(t,Lt);const Ct=new Hc(io,11);PO(Ct,Lt,t.getSpecialElements(),v.sanitizeNamespaceElement,l.sanitize&&l.allow_html_in_comments),Lt.innerHTML="";const[$t,On]=RU(Ct,t,l,Ft),Bo=[],Lo=Jt?ti=>ke(ti,Bo):Pt,Zs={nodes:{},attributes:{}},Pr=ti=>gO(B(),Q(),ti,Zs);OU(Ct,[$t,Pr],[On,Lo]),Bo.reverse(),Jt&&Bo.length>0&&(Ft.context?Ft.invalid=!0:W8(Bo,t,Ct,Pr));const Ca=FO(l,Ft);return Ca&&(Ct.name==="body"||Ft.isRootContent)&&Te(Ct,Ca),Ft.invalid||U8(Zs,Ft),Ct}};return hU(rt,l),sU(rt,l,t),rt},Rk=e=>e instanceof Hc,NU=e=>Rk(e)?tv({validate:!1}).serialize(e):e,wL=(e,t,o)=>{const r=NU(e),l=t(r);if(l.isDefaultPrevented())return l;if(Rk(e))if(l.content!==r){const h=Bw({validate:!1,forced_root_block:!1,...o}).parse(l.content,{context:e.name});return{...l,content:h}}else return{...l,content:e};else return l},CL=e=>({sanitize:iw(e),sandbox_iframes:Xy(e),sandbox_iframes_exclusions:a0(e)}),SL=(e,t)=>{if(t.no_events)return Fe.value(t);{const o=qy(e,t);return o.isDefaultPrevented()?Fe.error(HT(e,{content:"",...o}).content):Fe.value(o)}},iE=(e,t,o)=>o.no_events?t:wL(t,l=>HT(e,{...o,content:l}),CL(e)).content,lE=(e,t)=>{if(t.no_events)return Fe.value(t);{const o=wL(t.content,r=>gD(e,{...t,content:r}),CL(e));return o.isDefaultPrevented()?(IT(e,o),Fe.error(void 0)):Fe.value(o)}},$O=(e,t,o)=>{o.no_events||IT(e,{...o,content:t})},MU="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),BU=["content_css_cors"],LU="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),IO=[{name:"export",replacedWith:"Export to PDF"}],EL=(e,t)=>{const o=yt(t,r=>Jn(e,r));return Ss(o)},PU=e=>{const t=EL(e,MU),o=e.forced_root_block;return(o===!1||o==="")&&t.push("forced_root_block (false only)"),Ss(t)},HO=e=>EL(e,BU),TL=(e,t)=>{const o=an.makeMap(e.plugins," "),l=yt(t,h=>Jn(o,h));return Ss(l)},FU=e=>TL(e,LU),$U=e=>TL(e,IO.map(t=>t.name)),IU=(e,t)=>{const o=PU(e),r=FU(t),l=r.length>0,h=o.length>0,v=t.theme==="mobile";if(l||h||v){const k=v?`

Themes:
- mobile`:"",B=l?`

Plugins:
- ${r.join(`
- `)}`:"",W=h?`

Options:
- ${o.join(`
- `)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 8.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/8/migration-from-7x/ for more information."+k+B+W)}},HU=e=>sn(IO,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),zU=(e,t)=>{const o=HO(e),r=$U(t),l=r.length>0,h=o.length>0;if(l||h){const T=l?`

Plugins:
- ${r.map(HU).join(`
- `)}`:"",k=h?`

Options:
- ${o.join(`
- `)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+T+k)}},VU=(e,t)=>{IU(e,t),zU(e,t)},Nk={fire:'The "fire" event api has been deprecated and will be removed in TinyMCE 9. Use "dispatch" instead.',selectionSetContent:'The "editor.selection.setContent" method has been deprecated and will be removed in TinyMCE 9. Use "editor.insertContent" instead.'},cE=e=>{console.warn(Nk[e],new Error().stack)},AL=e=>e.dom.length===0?(ws(e),X.none()):X.some(e),jU=(e,t)=>e.filter(o=>Ew.isBookmarkNode(o.dom)).bind(t?Za:Wu),Mk=(e,t,o,r,l)=>{const h=e.dom,v=t.dom,T=r?h.length:v.length;r?(lk(h,v,l,!1,!r),o.setStart(v,T)):(lk(v,h,l,!1,!r),o.setEnd(v,T))},UU=(e,t,o)=>{Zi(e).each(r=>{const l=e.dom;t&&ZS(r,_t(l,0),o)?ak(l,0,o):!t&&fd(r,_t(l,l.length),o)&&ik(l,l.length,o)})},kL=(e,t,o,r,l)=>{e.bind(h=>((r?ik:ak)(h.dom,r?h.dom.length:0,l),t.filter(xs).map(T=>Mk(h,T,o,r,l)))).orThunk(()=>jU(t,r).or(t).filter(xs).map(v=>UU(v,r,l)))},ZU=(e,t,o)=>{const r=X.from(t.firstChild).map(De.fromDom),l=X.from(t.lastChild).map(De.fromDom);e.deleteContents(),e.insertNode(t);const h=r.bind(Wu).filter(xs).bind(AL),v=l.bind(Za).filter(xs).bind(AL);kL(h,r,e,!0,o),kL(v,l,e,!1,o),e.collapse(!1)},WU=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),qU=(e,t)=>{if(t.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),l=r?{context:r.nodeName.toLowerCase()}:{},h=e.parser.parse(t.content,{forced_root_block:!1,...l,...t});return tv({validate:!1},e.schema).serialize(h)}else return t.content},Bk=(e,t,o={})=>{const r=WU(o,t);lE(e,r).each(l=>{const h=qU(e,l),v=e.selection.getRng();ZU(v,v.createContextualFragment(h),e.schema),e.selection.setRng(v),sh(e,v),$O(e,h,l)})},GU=(e,t,o={})=>{cE("selectionSetContent"),Bk(e,t,o)},KU=e=>qe(e.firstChild)&&e.firstChild===e.lastChild,YU=e=>e.name==="br"||e.value===qr,XU=(e,t)=>e.getBlockElements()[t.name]&&KU(t)&&YU(t.firstChild),QU=(e,t)=>{const o=e.getNonEmptyElements();return qe(t)&&(t.isEmpty(o)||XU(e,t))},Mne=(e,t)=>{let o=t.firstChild,r=t.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),QU(e,r)&&(r=r?.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},rp=e=>{const t=e.firstChild,o=e.lastChild;return t&&t.nodeName==="META"&&t.parentNode?.removeChild(t),o&&o.id==="mce_marker"&&o.parentNode?.removeChild(o),e},DL=(e,t,o)=>{const r=t.serialize(o),l=e.createFragment(r);return rp(l)},JU=e=>yt(e?.childNodes??[],t=>t.nodeName==="LI"),_L=e=>e.data===qr||la(e),eZ=e=>qe(e?.firstChild)&&e.firstChild===e.lastChild&&_L(e.firstChild),tZ=e=>!e.firstChild||eZ(e),Bne=e=>e.length>0&&tZ(e[e.length-1])?e.slice(0,-1):e,pu=(e,t)=>{const o=e.getParent(t,e.isBlock);return o&&o.nodeName==="LI"?o:null},nZ=(e,t)=>!!pu(e,t),zO=(e,t)=>{const o=t.cloneRange(),r=t.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},OL=(e,t)=>{const o=_t.before(e),l=Xh(t).next(o);return l?l.toRange():null},uE=(e,t)=>{const o=_t.after(e),l=Xh(t).prev(o);return l?l.toRange():null},oZ=(e,t,o,r)=>{const l=zO(e,r),h=e.parentNode;return h&&(h.insertBefore(l[0],e),an.each(t,v=>{h.insertBefore(v,e)}),h.insertBefore(l[1],e),h.removeChild(e)),uE(t[t.length-1],o)},sZ=(e,t,o)=>{const r=e.parentNode;return r&&an.each(t,l=>{r.insertBefore(l,e)}),OL(e,o)},rZ=(e,t,o,r)=>(r.insertAfter(t.reverse(),e),uE(t[0],o)),aZ=(e,t,o,r)=>{const l=DL(t,e,r),h=pu(t,o.startContainer),v=Bne(JU(l.firstChild)),T=1,k=2,B=t.getRoot(),W=G=>{const Q=_t.fromRangeStart(o),ce=Xh(t.getRoot()),ge=(G===T?ce.prev(Q):ce.next(Q))?.getNode();return ge?pu(t,ge)!==h:!0};return h?W(T)?sZ(h,v,B):W(k)?rZ(h,v,B,t):oZ(h,v,B,o):null},iZ=["pre"],RL=(e,t,o,r)=>{const l=t.firstChild,h=t.lastChild,v=h.attr("data-mce-type")==="bookmark"?h.prev:h,T=l===v,k=Ne(iZ,l.name);if(T&&k){const B=l.attr("contenteditable")!=="false",W=e.getParent(o,e.isBlock)?.nodeName.toLowerCase()===l.name,G=X.from(m0(r,o)).forall(Mu);return B&&W&&G}else return!1},VO=Rp,NL=(e,t,o)=>{if(qe(o)){const r=e.getParent(t.endContainer,VO);return o===r&&QD(De.fromDom(o),t)}else return!1},ML=(e,t)=>{if(e.isBlock(t)&&e.isEditable(t)){const o=t.childNodes;return o.length===1&&la(o[0])||o.length===0}else return!1},lZ=(e,t,o)=>{o.getAttribute("data-mce-bogus")==="all"?o.parentNode?.insertBefore(e.dom.createFragment(t),o):ML(e.dom,o)?e.dom.setHTML(o,t):Bk(e,t,{no_events:!0})},cZ=(e,t,o)=>{X.from(e.getParent(t,"td,th")).map(De.fromDom).each(r=>Nr(r,o))},uZ=(e,t)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(t){const l=e.getBody(),h=h0(e),v="*[data-mce-fragment]",T=r.select(v);an.each(T,k=>{const B=Q=>qe(o[Q.nodeName.toLowerCase()]),W=Q=>Q.childNodes.length===1;if((Q=>!(C6(r,Q)||S6(r,Q)))(k)&&B(k)&&W(k)){const Q=Dw(r,k),ce=(ot,rt)=>mr(ot,ut=>Ne(rt,ut)),ke=ot=>W(k)&&r.is(ot,v)&&B(ot)&&(ot.nodeName===k.nodeName&&ce(Q,Dw(r,ot))||ke(ot.children[0])),ge=ot=>qe(ot)&&ot!==l&&(h.compare(k,ot)||ge(ot.parentElement)),Te=ot=>qe(ot)&&ot!==l&&r.is(ot,v)&&(MV(r,k,ot)||Te(ot.parentElement));(ke(k.children[0])||ge(k.parentElement)&&!Te(k.parentElement))&&r.remove(k,!0)}}),Wj(e,Cd(T))}},dZ=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},fZ=e=>{an.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},Lk=e=>!!e.getAttribute("data-mce-fragment"),BL=(e,t)=>qe(t)&&!e.schema.getVoidElements()[t.nodeName],LL=(e,t)=>{let o;const r=e.dom,l=e.selection;if(!t)return;l.scrollIntoView(t);const h=m0(e.getBody(),t);if(h&&r.getContentEditable(h)==="false"){r.remove(t),l.select(h);return}let v=r.createRng();const T=t.previousSibling;if(dn(T)){v.setStart(T,T.nodeValue?.length??0);const W=t.nextSibling;dn(W)&&(T.appendData(W.data),W.parentNode?.removeChild(W))}else v.setStartBefore(t),v.setEndBefore(t);const k=W=>{let G=_t.fromRangeStart(W);return G=Xh(e.getBody()).next(G),G?.toRange()},B=r.getParent(t,r.isBlock);if(r.remove(t),B&&r.isEmpty(B)){const W=VO(B);ql(De.fromDom(B)),v.setStart(B,0),v.setEnd(B,0),!W&&!Lk(B)&&(o=k(v))?(v=o,r.remove(B)):r.add(B,r.create("br",W?{}:{"data-mce-bogus":"1"}))}l.setRng(v)},mZ=e=>{const t=e.dom,o=bO(e.selection.getRng());e.selection.setRng(o);const r=t.getParent(o.startContainer,VO);NL(t,o,r)?uk(e,o,De.fromDom(r)):_z(o)||Dz(o)?o.deleteContents():e.getDoc().execCommand("Delete",!1)},PL=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return X.some(t);return X.none()},hZ=(e,t,o)=>Ge(o.children(),Gf)&&e.getParent(t,e.isBlock)?.nodeName==="SUMMARY",gZ=(e,t,o)=>{const r=e.selection,l=e.dom,h=e.parser,v=o.merge,T=tv({validate:!0},e.schema),k='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(t=Pc(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,k);let B=r.getRng();const W=B.startContainer,G=e.getBody();W===G&&r.isCollapsed()&&l.isBlock(G.firstChild)&&BL(e,G.firstChild)&&l.isEmpty(G.firstChild)&&(B=l.createRng(),B.setStart(G.firstChild,0),B.setEnd(G.firstChild,0),r.setRng(B)),r.isCollapsed()||mZ(e);const Q=r.getNode(),ce={context:Q.nodeName.toLowerCase(),data:o.data,insert:!0},ke=h.parse(t,ce);if(o.paste===!0&&Mne(e.schema,ke)&&nZ(l,Q))return B=aZ(T,l,r.getRng(),ke),B&&r.setRng(B),t;o.paste===!0&&RL(l,ke,Q,e.getBody())&&ke.firstChild?.unwrap(),dZ(ke);let ge=ke.lastChild;if(ge&&ge.attr("id")==="mce_marker"){const Te=ge;for(ge=ge.prev;ge&&ge.name!=="table";ge=ge.walk(!0))if(ge.type===3||!l.isBlock(ge.name)){ge.parent&&e.schema.isValidChild(ge.parent.name,"span")&&ge.parent.insert(Te,ge,ge.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(Q),!ce.invalid&&!hZ(l,Q,ke))t=T.serialize(ke),lZ(e,t,Q);else{Bk(e,k);let Te=r.getNode(),ot;const rt=e.getBody();for(zm(Te)?Te=ot=rt:ot=Te;ot&&ot!==rt;)Te=ot,ot=ot.parentNode;t=Te===rt?rt.innerHTML:l.getOuterHTML(Te);const ut=h.parse(t),Ft=PL(ut),Jt=Ft.bind(Xj).getOr(ut);Ft.each(Lt=>Lt.replace(ke));const Rn=Qj(ke);ke.unwrap();const io=yt(Rn,Lt=>tE(e.schema,Lt));W8(io,e.schema,Jt),Z8(h.getNodeFilters(),h.getAttributeFilters(),ut),t=T.serialize(ut),Te===rt?l.setHTML(rt,t):l.setOuterHTML(Te,t)}return uZ(e,v),LL(e,l.get("mce_marker")),fZ(e.getBody()),cZ(l,r.getStart(),e.schema),rb(e.schema,e.getBody(),r.getStart()),t},pZ=e=>{Aw(e)&&$(e.getBody()).each(t=>{const o=t.getNode(),r=iu(o)?$(o).getOr(t):t;e.selection.setRng(r.toRange())})},dE=(e,t,o)=>{e.dom.setHTML(e.getBody(),t),o!==!0&&pZ(e)},jO=(e,t,o,r)=>{if(o=Pc(o),o.length===0||/^\s+$/.test(o)){const l='<br data-mce-bogus="1">';t.nodeName==="TABLE"?o="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(o="<li>"+l+"</li>");const h=pl(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),h.toLowerCase())?(o=l,o=e.dom.createHTML(h,th(e),o)):o||(o=l),dE(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=tv({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const l=Oy(De.fromDom(t))?o:an.trim(o);return dE(e,l,r.no_selection),{content:l,html:l}}},bZ=(e,t,o,r)=>{Z8(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const l=tv({validate:!1},e.schema).serialize(o),h=Pc(Oy(De.fromDom(t))?l:an.trim(l));return dE(e,h,r.no_selection),{content:o,html:h}},UO=(e,t,o)=>X.from(e.getBody()).map(r=>Rk(t)?bZ(e,r,t,o):jO(e,r,t,o)).getOr({content:t,html:Rk(o.content)?"":o.content}),fE={},FL=Xu(["pre"]),yZ=(e,t)=>{fE[e]||(fE[e]=[]),fE[e].push(t)},vZ=(e,t)=>{Jn(fE,e)&&Be(fE[e],o=>{o(t)})};yZ("pre",e=>{const t=e.selection.getRng(),o=l=>h=>{const v=h.previousSibling;return FL(v)&&Ne(l,v)},r=(l,h)=>{const v=De.fromDom(h),T=Xc(v).dom;ws(v),hc(De.fromDom(l),[De.fromTag("br",T),De.fromTag("br",T),...ma(v)])};if(!t.collapsed){const l=e.selection.getSelectedBlocks(),h=yt(yt(l,FL),o(l));Be(h,v=>{r(v.previousSibling,v)})}});const $L=an.each,xZ=(e,t,o,r)=>{const l=h=>{if(ru(h)&&Cn(h.parentNode)&&e.isEditable(h)){const v=RB(e,h.parentNode);e.getStyle(h,"color")&&v?e.setStyle(h,"text-decoration",v):e.getStyle(h,"text-decoration")===v&&e.setStyle(h,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(an.walk(r,l,"childNodes"),l(r))},IL=(e,t,o,r)=>{if(t.styles&&t.styles.backgroundColor){const l=lO(e,"fontSize");iO(r,h=>l(h)&&e.isEditable(h),N8(e,"backgroundColor",Hb(t.styles.backgroundColor,o)))}},wZ=(e,t,o,r)=>{if(hu(t)&&(t.inline==="sub"||t.inline==="sup")){const l=lO(e,"fontSize");iO(r,v=>l(v)&&e.isEditable(v),N8(e,"fontSize",""));const h=yt(e.select(t.inline==="sup"?"sub":"sup",r),e.isEditable);e.remove(h,!0)}},CZ=(e,t,o,r)=>{$L(t,l=>{hu(l)&&$L(e.dom.select(l.inline,r),h=>{aO(h)&&JS(e,l,o,h,l.exact?h:null)}),Bj(e.dom,l,r)})},SZ=(e,t,o,r,l)=>{const h=l.parentNode;tg(e,h,o,r)&&JS(e,t,r,l)||t.merge_with_parents&&h&&e.dom.getParent(h,v=>tg(e,v,o,r)?(JS(e,t,r,l),!0):!1)},EZ=an.each,TZ=(e,t,o,r)=>{if(SB(e)&&hu(t)&&o.parentNode){const l=Ty(e.schema),h=_n(De.fromDom(o),v=>de(v.dom));return ls(l,r)&&fo(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!h}else return!1},AZ=(e,t,o,r)=>{const l=e.formatter.get(t),h=l[0],v=!r&&e.selection.isCollapsed(),T=e.dom,k=e.selection,B=(ce,ke)=>{let ge=!1;return EZ(ce,Te=>Kg(Te)?T.getContentEditable(ke)==="false"&&!Te.ceFalseOverride||qe(Te.collapsed)&&Te.collapsed!==v?!0:T.is(ke,Te.selector)&&!de(ke)?(L2(e,ke,Te,o,ke),ge=!0,!1):!0:!1),ge},W=ce=>{if(J(ce)){const ke=T.create(ce);return L2(e,ke,h,o,r),ke}else return null},G=(ce,ke,ge)=>{const Te=[];let ot=!0;const rt=h.inline||h.block,ut=W(rt),Ft=io=>Nz(h)&&tg(e,io,t,o),Jt=(io,Lt,Ct)=>{const $t=Mz(h)&&BS(e.schema,io)&&Cw(e,Lt,rt);return Ct&&$t},Rn=(io,Lt,Ct,$t)=>{const On=io.nodeName.toLowerCase(),Bo=Cw(e,rt,On)&&Cw(e,Lt,rt),Lo=!ge&&dn(io)&&$g(io.data),Zs=de(io),Pr=!hu(h)||!ce.isBlock(io);return(Ct||$t)&&Bo&&!Lo&&!Zs&&Pr};Yg(ce,ke,io=>{let Lt;const Ct=$t=>{let On=!1,Bo=ot,Lo=!1;const Zs=$t.parentNode,Pr=Zs.nodeName.toLowerCase(),Ca=ce.getContentEditable($t);qe(Ca)&&(Bo=ot,ot=Ca==="true",On=!0,Lo=OB(e,$t));const ti=ot&&!On;if(la($t)&&!TZ(e,h,$t,Pr)){Lt=null,u0(h)&&ce.remove($t);return}if(Ft($t)){Lt=null;return}if(Jt($t,Pr,ti)){const jc=ce.rename($t,rt);L2(e,jc,h,o,$t),Te.push(jc),Lt=null;return}if(Kg(h)){let jc=B(l,$t);if(!jc&&qe(Zs)&&t_(h)&&(jc=B(l,Zs)),!hu(h)||jc){Lt=null;return}}qe(ut)&&Rn($t,Pr,ti,Lo)?(Lt||(Lt=ce.clone(ut,!1),Zs.insertBefore(Lt,$t),Te.push(Lt)),Lo&&On&&(ot=Bo),Lt.appendChild($t)):(Lt=null,Be(Es($t.childNodes),Ct),On&&(ot=Bo),Lt=null)};Be(io,Ct)}),h.links===!0&&Be(Te,io=>{const Lt=Ct=>{Ct.nodeName==="A"&&L2(e,Ct,h,o,r),Be(Es(Ct.childNodes),Lt)};Lt(io)}),Zj(e,t,Cd(Te)),Be(Te,io=>{const Lt=On=>{let Bo=0;return Be(On.childNodes,Lo=>{!Oz(Lo)&&!xi(Lo)&&Bo++}),Bo},Ct=On=>sn(On.childNodes,MS).filter(Lo=>ce.getContentEditable(Lo)!=="false"&&fk(ce,Lo,h)).map(Lo=>{const Zs=ce.clone(Lo,!1);return L2(e,Zs,h,o,On),ce.replace(Zs,On,!0),ce.remove(Lo,!0),Zs}).getOr(On),$t=Lt(io);if((Te.length>1||!ce.isBlock(io))&&$t===0){ce.remove(io,!0);return}(hu(h)||u0(h)&&h.wrapper)&&(!h.exact&&$t===1&&(io=Ct(io)),CZ(e,l,o,io),SZ(e,h,t,o,io),IL(ce,h,o,io),xZ(ce,h,o,io),wZ(ce,h,o,io),R8(e,h,o,io))})},Q=NS(r)?r:k.getNode();if(T.getContentEditable(Q)==="false"&&!OB(e,Q)){r=Q,B(l,r),s0(e,t,r,o);return}if(h){if(r)if(NS(r)){if(!B(l,r)){const ce=T.createRng();ce.setStartBefore(r),ce.setEndAfter(r),G(T,y1(T,ce,l),!0)}}else G(T,r,!0);else!v||!hu(h)||eo(e).length?(k.setRng(bO(k.getRng())),kB(e,()=>{OS(e,(ce,ke)=>{const ge=ke?ce:y1(T,ce,l);G(T,ge,!1)})},bt),e.nodeChanged()):b8(e,t,o),Nj(e.formatter,t).each(ce=>{const ke=rO(e.selection);Be(ke,ge=>G_(T,ge,ce,o))});vZ(t,e)}s0(e,t,r,o)},HL=(e,t,o,r)=>{(r||e.selection.isEditable())&&AZ(e,t,o,r)},H2=e=>Jn(e,"vars"),Pk=(e,t)=>{e.set({}),t.on("NodeChange",o=>{VL(t,o.element,e.get())}),t.on("FormatApply FormatRemove",o=>{const r=X.from(o.node).map(l=>NS(l)?l:l.startContainer).bind(l=>Cn(l)?X.some(l):X.from(l.parentElement)).getOrThunk(()=>ZO(t));VL(t,r,e.get())})},ZO=e=>e.selection.getStart(),WO=(e,t,o,r,l)=>Tt(t,T=>{const k=e.formatter.matchNode(T,o,l??{},r);return!Tn(k)},T=>u8(e,T,o)?!0:r?!1:qe(e.formatter.matchNode(T,o,l,!0))),zL=(e,t)=>{const o=t??ZO(e);return yt(PA(e.dom,o),r=>Cn(r)&&!Hm(r))},VL=(e,t,o)=>{const r=zL(e,t);Oo(o,(l,h)=>{const v=T=>{const k=WO(e,r,h,T.similar,H2(T)?T.vars:void 0),B=k.isSome();if(T.state.get()!==B){T.state.set(B);const W=k.getOr(t);H2(T)?T.callback(B,{node:W,format:h,parents:r}):Be(T.callbacks,G=>G(B,{node:W,format:h,parents:r}))}};Be([l.withSimilar,l.withoutSimilar],v),Be(l.withVars,v)})},qO=(e,t,o,r,l,h)=>{const v=t.get();Be(o.split(","),T=>{const k=Ro(v,T).getOrThunk(()=>{const W={withSimilar:{state:Pn(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Pn(!1),similar:!1,callbacks:[]},withVars:[]};return v[T]=W,W}),B=()=>{const W=zL(e);return WO(e,W,T,l,h).isSome()};if(Tn(h)){const W=l?k.withSimilar:k.withoutSimilar;W.callbacks.push(r),W.callbacks.length===1&&W.state.set(B())}else k.withVars.push({state:Pn(B()),similar:l,vars:h,callback:r})}),t.set(v)},kZ=(e,t,o)=>{const r=e.get();Be(t.split(","),l=>Ro(r,l).each(h=>{r[l]={withSimilar:{...h.withSimilar,callbacks:yt(h.withSimilar.callbacks,v=>v!==o)},withoutSimilar:{...h.withoutSimilar,callbacks:yt(h.withoutSimilar.callbacks,v=>v!==o)},withVars:yt(h.withVars,v=>v.callback!==o)}})),e.set(r)},DZ=(e,t,o,r,l,h)=>(qO(e,t,o,r,l,h),{unbind:()=>kZ(t,o,r)}),_Z=(e,t,o,r)=>{const l=e.formatter.get(t);l&&(Y_(e,t,o,r)&&(!("toggle"in l[0])||l[0].toggle)?gk(e,t,o,r):HL(e,t,o,r))},GO=(e,t,o)=>({element:e,width:t,rows:o}),jL=(e,t)=>({element:e,cells:t}),Fk=(e,t)=>({x:e,y:t}),Lw=(e,t)=>ul(e,t).bind(Ef).getOr(1),OZ=(e,t,o,r,l)=>{const h=Lw(l,"rowspan"),v=Lw(l,"colspan"),T=e.rows;for(let k=o;k<o+h;k++){T[k]||(T[k]=jL(_f(r),[]));for(let B=t;B<t+v;B++){const W=T[k].cells;W[B]=k===o&&B===t?l:Ai(l)}}},Pw=(e,t,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[t]},ih=(e,t,o)=>{for(;Pw(e,t,o);)t++;return t},Fw=e=>Le(e,(t,o)=>o.cells.length>t?o.cells.length:t,0),jr=(e,t)=>{const o=e.rows;for(let r=0;r<o.length;r++){const l=o[r].cells;for(let h=0;h<l.length;h++)if(ss(l[h],t))return X.some(Fk(h,r))}return X.none()},$w=(e,t,o,r,l)=>{const h=[],v=e.rows;for(let T=o;T<=l;T++){const k=v[T].cells,B=t<r?k.slice(t,r+1):k.slice(r,t+1);h.push(jL(v[T].element,B))}return h},UL=(e,t,o)=>{const r=t.x,l=t.y,h=o.x,v=o.y,T=l<v?$w(e,r,l,h,v):$w(e,r,v,h,l);return GO(e.element,Fw(T),T)},ZL=(e,t)=>{const o=Ai(e.element),r=De.fromTag("tbody");return hc(r,t),$s(o,r),o},$k=e=>tt(e.rows,t=>{const o=tt(t.cells,l=>{const h=_f(l);return li(h,"colspan"),li(h,"rowspan"),h}),r=Ai(t.element);return hc(r,o),r}),KO=e=>{const t=GO(Ai(e),0,[]);return Be(kt(e,"tr"),(o,r)=>{Be(kt(o,"td,th"),(l,h)=>{OZ(t,ih(t,h,r),r,o,l)})}),GO(t.element,Fw(t.rows),t.rows)},YO=e=>ZL(e,$k(e)),XO=(e,t,o)=>jr(e,t).bind(r=>jr(e,o).map(l=>UL(e,r,l))),QO=e=>sn(e,t=>rs(t)==="ul"||rs(t)==="ol"),Ik=(e,t)=>sn(e,o=>rs(o)==="li"&&QD(o,t)).fold(at([]),o=>QO(e).map(r=>{const l=De.fromTag(rs(r)),h=Yn(nf(r),(v,T)=>wo(T,"list-style"));return dl(l,h),[De.fromTag("li"),l]}).getOr([])),JO=(e,t)=>{const o=Le(t,(r,l)=>($s(l,r),l),e);return t.length>0?_u([o]):o},WL=e=>fu(e)?Zi(e).filter($d).fold(at([]),t=>[e,t]):$d(e)?[e]:[],qL=(e,t,o)=>{const r=De.fromDom(t.commonAncestorContainer),l=Jg(r,e),h=yt(l,k=>o.isWrapper(rs(k))),v=Ik(l,t),T=h.concat(v.length?v:WL(r));return tt(T,Ai)},e5=()=>_u([]),GL=(e,t,o)=>JO(De.fromDom(t.cloneContents()),qL(e,t,o)),KL=(e,t)=>Da(t,"table",ee(ss,e)),z2=(e,t)=>KL(e,t[0]).bind(o=>{const r=t[0],l=t[t.length-1],h=KO(o);return XO(h,r,l).map(v=>_u([YO(v)]))}).getOrThunk(e5),YL=(e,t,o)=>t.length>0&&t[0].collapsed?e5():GL(e,t[0],o),t5=(e,t,o)=>{const r=RA(t,e);return r.length>0?z2(e,r):YL(e,t,o)},Hk=(e,t)=>t>=0&&t<e.length&&Wf(e.charAt(t)),XL=e=>Pc(e.innerText),QL=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),JL=e=>X.from(e.selection.getRng()).map(t=>{const o=X.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),r=e.getBody(),l=QL(o),h=De.fromDom(t.cloneContents());y6(h),v6(h);const v=e.dom.add(r,l,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},h.dom),T=XL(v),k=Pc(v.textContent??"");if(e.dom.remove(v),Hk(k,0)||Hk(k,k.length-1)){const B=o.getOr(r),W=XL(B),G=W.indexOf(T);if(G===-1)return T;{const Q=Hk(W,G-1),ce=Hk(W,G+T.length);return(Q?" ":"")+T+(ce?" ":"")}}else return T}).getOr(""),eP=(e,t)=>{const o=e.selection.getRng(),r=e.dom.create("body"),l=e.selection.getSel(),h=w_(e,xw(l)),v=t.contextual?t5(De.fromDom(e.getBody()),h,e.schema).dom:o.cloneContents();return v&&r.appendChild(v),e.selection.serializer.serialize(r,t)},zk=(e,t)=>{if(t.format==="text")return JL(e);{const o=eP(e,t);return t.format==="tree"?o:e.selection.isCollapsed()?"":o}},tP=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),nP=(e,t,o={})=>{const r=tP(o,t);return SL(e,r).fold(Qn,l=>{const h=zk(e,l);return iE(e,h,l)})},Vk=0,n5=1,o5=2,oP=(e,t)=>{const o=e.length+t.length+2,r=new Array(o),l=new Array(o),h=(W,G,Q)=>({start:W,end:G,diag:Q}),v=(W,G,Q,ce,ke)=>{const ge=k(W,G,Q,ce);if(ge===null||ge.start===G&&ge.diag===G-ce||ge.end===W&&ge.diag===W-Q){let Te=W,ot=Q;for(;Te<G||ot<ce;)Te<G&&ot<ce&&e[Te]===t[ot]?(ke.push([Vk,e[Te]]),++Te,++ot):G-W>ce-Q?(ke.push([o5,e[Te]]),++Te):(ke.push([n5,t[ot]]),++ot)}else{v(W,ge.start,Q,ge.start-ge.diag,ke);for(let Te=ge.start;Te<ge.end;++Te)ke.push([Vk,e[Te]]);v(ge.end,G,ge.end-ge.diag,ce,ke)}},T=(W,G,Q,ce)=>{let ke=W;for(;ke-G<ce&&ke<Q&&e[ke]===t[ke-G];)++ke;return h(W,ke,G)},k=(W,G,Q,ce)=>{const ke=G-W,ge=ce-Q;if(ke===0||ge===0)return null;const Te=ke-ge,ot=ge+ke,rt=(ot%2===0?ot:ot+1)/2;r[1+rt]=W,l[1+rt]=G+1;let ut,Ft,Jt,Rn,io;for(ut=0;ut<=rt;++ut){for(Ft=-ut;Ft<=ut;Ft+=2){for(Jt=Ft+rt,Ft===-ut||Ft!==ut&&r[Jt-1]<r[Jt+1]?r[Jt]=r[Jt+1]:r[Jt]=r[Jt-1]+1,Rn=r[Jt],io=Rn-W+Q-Ft;Rn<G&&io<ce&&e[Rn]===t[io];)r[Jt]=++Rn,++io;if(Te%2!==0&&Te-ut<=Ft&&Ft<=Te+ut&&l[Jt-Te]<=r[Jt])return T(l[Jt-Te],Ft+W-Q,G,ce)}for(Ft=Te-ut;Ft<=Te+ut;Ft+=2){for(Jt=Ft+rt-Te,Ft===Te-ut||Ft!==Te+ut&&l[Jt+1]<=l[Jt-1]?l[Jt]=l[Jt+1]-1:l[Jt]=l[Jt-1],Rn=l[Jt]-1,io=Rn-W+Q-Ft;Rn>=W&&io>=Q&&e[Rn]===t[io];)l[Jt]=Rn--,io--;if(Te%2===0&&-ut<=Ft&&Ft<=ut&&l[Jt]<=r[Jt+Te])return T(l[Jt],Ft+W-Q,G,ce)}}return null},B=[];return v(0,e.length,0,t.length,B),B},s5=e=>Cn(e)?e.outerHTML:dn(e)?ed.encodeRaw(e.data,!1):ns(e)?"<!--"+e.data+"-->":"",sP=e=>{let t;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);t=o.firstChild;)r.appendChild(t);return r},rP=(e,t,o)=>{const r=sP(t);if(e.hasChildNodes()&&o<e.childNodes.length){const l=e.childNodes[o];e.insertBefore(r,l)}else e.appendChild(r)},aP=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const o=e.childNodes[t];e.removeChild(o)}},r5=(e,t)=>{let o=0;Be(e,r=>{r[0]===Vk?o++:r[0]===n5?(rP(t,r[1],o),o++):r[0]===o5&&aP(t,o)})},iP=(e,t)=>yt(tt(Es(e.childNodes),P(Pc,s5)),o=>o.length>0),lP=(e,t)=>{const o=tt(Es(t.childNodes),s5);return r5(oP(o,e),t),t},cP=Ri(()=>document.implementation.createHTMLDocument("undo")),uP=e=>e.querySelector(`iframe, ${vy}`)!==null,dP=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),fP=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),mE=e=>{const t=e.serializer.getTempAttrs(),o=b6(e.getBody(),t);return uP(o)?dP(iP(o)):fP(Pc(o.innerHTML))},hE=(e,t,o)=>{const r=o?t.beforeBookmark:t.bookmark;t.type==="fragmented"?lP(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:qe(r)&&Nn(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},Iw=e=>e.type==="fragmented"?e.fragments.join(""):e.content,a5=(e,t)=>{const o=De.fromTag("body",cP());return tf(o,Iw(t)),Be(kt(o,"*[data-mce-bogus]"),Gl),e&&Be(kt(o,"details[open]"),r=>li(r,"open")),Mi(o)},RZ=(e,t)=>Iw(e)===Iw(t),mP=(e,t,o)=>a5(e,t)===a5(e,o),Hw=(e,t,o)=>!t||!o?!1:RZ(t,o)?!0:mP(e,t,o),gE=e=>e.get()===0,uv=(e,t,o)=>{gE(o)&&(e.typing=t)},jk=(e,t)=>{e.typing&&(uv(e,!1,t),e.add())},hP=e=>{e.typing&&(e.typing=!1,e.add())},zw=(e,t,o)=>{gE(t)&&o.set(ff(e.selection))},i5=(e,t,o,r,l,h,v)=>{const T=mE(e),k=an.extend(h||{},T);if(!gE(r)||e.removed)return null;const B=t.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:k,lastLevel:B,originalEvent:v}).isDefaultPrevented()||B&&Hw(e.readonly,B,k))return null;t.data[o.get()]&&l.get().each(Q=>{t.data[o.get()].beforeBookmark=Q});const W=iA(e);if(W&&t.data.length>W){for(let Q=0;Q<t.data.length-1;Q++)t.data[Q]=t.data[Q+1];t.data.length--,o.set(t.data.length)}k.bookmark=ff(e.selection),o.get()<t.data.length-1&&(t.data.length=o.get()+1),t.data.push(k),o.set(t.data.length-1);const G={level:k,lastLevel:B,originalEvent:v};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",G),e.dispatch("change",G)):e.dispatch("AddUndo",G),k},l5=(e,t,o)=>{t.data=[],o.set(0),t.typing=!1,e.dispatch("ClearUndos")},Vw=(e,t,o,r,l)=>{if(t.transact(r)){const h=t.data[o.get()].bookmark,v=t.data[o.get()-1];hE(e,v,!0),t.transact(l)&&(t.data[o.get()-1].beforeBookmark=h)}},dv=(e,t,o)=>{let r;return t.get()<o.length-1&&(t.set(t.get()+1),r=o[t.get()],hE(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},gP=(e,t,o,r)=>{let l;return t.typing&&(t.add(),t.typing=!1,uv(t,!1,o)),r.get()>0&&(r.set(r.get()-1),l=t.data[r.get()],hE(e,l,!0),e.setDirty(!0),e.dispatch("Undo",{level:l})),l},NZ=e=>{e.clear(),e.add()},MZ=(e,t,o)=>o.get()>0||t.typing&&t.data[0]&&!Hw(e.readonly,mE(e),t.data[0]),pP=(e,t)=>t.get()<e.data.length-1&&!e.typing,bP=(e,t,o)=>(jk(e,t),e.beforeChange(),e.ignore(o),e.add()),yP=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},BZ=(e,t)=>{const o=e.dom,r=qe(t)?t:e.getBody();Be(o.select("table,a",r),l=>{switch(l.nodeName){case"TABLE":const h=cA(e),v=o.getAttrib(l,"border");(!v||v==="0")&&e.hasVisual?o.addClass(l,h):o.removeClass(l,h);break;case"A":if(!o.getAttrib(l,"href")){const T=o.getAttrib(l,"name")||l.id,k=sw(e);T&&e.hasVisual?o.addClass(l,k):o.removeClass(l,k)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},Wb=e=>({init:{bindEvents:Pt},undoManager:{beforeChange:(t,o)=>zw(e,t,o),add:(t,o,r,l,h,v)=>i5(e,t,o,r,l,h,v),undo:(t,o,r)=>gP(e,t,o,r),redo:(t,o)=>dv(e,t,o),clear:(t,o)=>l5(e,t,o),reset:t=>NZ(t),hasUndo:(t,o)=>MZ(e,t,o),hasRedo:(t,o)=>pP(t,o),transact:(t,o,r)=>bP(t,o,r),ignore:(t,o)=>yP(t,o),extra:(t,o,r,l)=>Vw(e,t,o,r,l)},formatter:{match:(t,o,r,l)=>Y_(e,t,o,r,l),matchAll:(t,o)=>X_(e,t,o),matchNode:(t,o,r,l)=>tg(e,t,o,r,l),canApply:t=>Q_(e,t),closest:t=>f8(e,t),apply:(t,o,r)=>HL(e,t,o,r),remove:(t,o,r,l)=>gk(e,t,o,r,l),toggle:(t,o,r)=>_Z(e,t,o,r),formatChanged:(t,o,r,l,h)=>DZ(e,t,o,r,l,h)},editor:{getContent:t=>_V(e,t),setContent:(t,o)=>UO(e,t,o),insertContent:(t,o)=>gZ(e,t,o),addVisual:t=>BZ(e,t)},selection:{getContent:(t,o)=>nP(e,t,o)},autocompleter:{addDecoration:Pt,removeDecoration:Pt},raw:{getModel:()=>X.none()}}),V2=e=>{const t=B=>vt(B)?B:{},{init:o,undoManager:r,formatter:l,editor:h,selection:v,autocompleter:T,raw:k}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(B,W,G)=>r.transact(G),ignore:(B,W)=>r.ignore(W),extra:(B,W,G,Q)=>r.extra(G,Q)},formatter:{match:(B,W,G,Q)=>l.match(B,t(W),Q),matchAll:l.matchAll,matchNode:l.matchNode,canApply:B=>l.canApply(B),closest:B=>l.closest(B),apply:(B,W,G)=>l.apply(B,t(W)),remove:(B,W,G,Q)=>l.remove(B,t(W)),toggle:(B,W,G)=>l.toggle(B,t(W)),formatChanged:(B,W,G,Q,ce)=>l.formatChanged(W,G,Q,ce)},editor:{getContent:B=>h.getContent(B),setContent:(B,W)=>({content:h.setContent(B,W),html:""}),insertContent:(B,W)=>(h.insertContent(B),""),addVisual:h.addVisual},selection:{getContent:(B,W)=>v.getContent(W)},autocompleter:{addDecoration:T.addDecoration,removeDecoration:T.removeDecoration},raw:{getModel:()=>X.some(k.getRawModel())}}},vP=()=>{const e=at(null),t=at("");return{init:{bindEvents:Pt},undoManager:{beforeChange:Pt,add:e,undo:e,redo:e,clear:Pt,reset:Pt,hasUndo:Ze,hasRedo:Ze,transact:e,ignore:Pt,extra:Pt},formatter:{match:Ze,matchAll:at([]),matchNode:at(void 0),canApply:Ze,closest:t,apply:Pt,remove:Pt,toggle:Pt,formatChanged:at({unbind:Pt})},editor:{getContent:t,setContent:at({content:"",html:""}),insertContent:at(""),addVisual:Pt},selection:{getContent:t},autocompleter:{addDecoration:Pt,removeDecoration:Pt},raw:{getModel:at(X.none())}}},v0=e=>Jn(e.plugins,"rtc"),LZ=e=>Ro(e.plugins,"rtc").bind(t=>X.from(t.setup)),PZ=e=>{const t=e;return LZ(e).fold(()=>(t.rtcInstance=Wb(e),X.none()),o=>(t.rtcInstance=vP(),X.some(()=>o().then(r=>(t.rtcInstance=V2(r),r.rtc.isRemote)))))},c5=e=>e.rtcInstance?e.rtcInstance:Wb(e),xa=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},ap=(e,t,o)=>{xa(e).undoManager.beforeChange(t,o)},xP=(e,t,o,r,l,h,v)=>xa(e).undoManager.add(t,o,r,l,h,v),u5=(e,t,o,r)=>xa(e).undoManager.undo(t,o,r),d5=(e,t,o)=>xa(e).undoManager.redo(t,o),Uk=(e,t,o)=>{xa(e).undoManager.clear(t,o)},FZ=(e,t)=>{xa(e).undoManager.reset(t)},wP=(e,t,o)=>xa(e).undoManager.hasUndo(t,o),pE=(e,t,o)=>xa(e).undoManager.hasRedo(t,o),$Z=(e,t,o,r)=>xa(e).undoManager.transact(t,o,r),Zk=(e,t,o)=>{xa(e).undoManager.ignore(t,o)},f5=(e,t,o,r,l)=>{xa(e).undoManager.extra(t,o,r,l)},CP=(e,t,o,r,l)=>xa(e).formatter.match(t,o,r,l),bE=(e,t,o)=>xa(e).formatter.matchAll(t,o),IZ=(e,t,o,r,l)=>xa(e).formatter.matchNode(t,o,r,l),HZ=(e,t)=>xa(e).formatter.canApply(t),x0=(e,t)=>xa(e).formatter.closest(t),Em=(e,t,o,r)=>{xa(e).formatter.apply(t,o,r)},yE=(e,t,o,r,l)=>{xa(e).formatter.remove(t,o,r,l)},Tm=(e,t,o,r)=>{xa(e).formatter.toggle(t,o,r)},zZ=(e,t,o,r,l,h)=>xa(e).formatter.formatChanged(t,o,r,l,h),wa=(e,t)=>c5(e).editor.getContent(t),VZ=(e,t,o)=>c5(e).editor.setContent(t,o),qb=(e,t,o)=>c5(e).editor.insertContent(t,o),vE=(e,t,o)=>xa(e).selection.getContent(t,o),SP=(e,t)=>xa(e).editor.addVisual(t),Wk=e=>xa(e).init.bindEvents(),m5=(e,t={})=>{const o=t.format?t.format:"html";return vE(e,o,t)},EP=(e,t,o)=>{if(Jn(e,t)){const r=yt(e[t],l=>l!==o);r.length===0?delete e[t]:e[t]=r}};var h5=(e,t)=>{let o,r;const l=(T,k)=>sn(k,B=>e.is(B,T)),h=T=>e.getParents(T,void 0,e.getRoot()),v=()=>{o={},r={},t.on("NodeChange",T=>{const k=T.element,B=h(k),W={};Oo(o,(G,Q)=>{l(Q,B).each(ce=>{r[Q]||(Be(G,ke=>{ke(!0,{node:ce,selector:Q,parents:B})}),r[Q]=G),W[Q]=G})}),Oo(r,(G,Q)=>{W[Q]||(delete r[Q],Be(G,ce=>{ce(!1,{node:k,selector:Q,parents:B})}))})})};return{selectorChangedWithUnbind:(T,k)=>(o||v(),o[T]||(o[T]=[]),o[T].push(k),l(T,h(t.selection.getStart())).each(()=>{r[T]=o[T]}),{unbind:()=>{EP(o,T,k),EP(r,T,k)}})}};const TP=e=>!!(e&&e.ownerDocument)&&mc(De.fromDom(e.ownerDocument),De.fromDom(e)),AP=e=>e?TP(e.startContainer)&&TP(e.endContainer):!1,g5=(e,t,o,r)=>{let l,h;const{selectorChangedWithUnbind:v}=h5(e,r),T=($n,go)=>{const _r=e.createRng();qe($n)&&qe(go)?(_r.setStart($n,go),_r.setEnd($n,go),Ft(_r),ot(!1)):(MA(e,_r,r.getBody(),!0),Ft(_r))},k=$n=>m5(r,$n),B=($n,go)=>GU(r,$n,go),W=$n=>YA(r.getBody(),ut(),$n),G=$n=>y_(r.getBody(),ut(),$n),Q=($n,go)=>jc.getBookmark($n,go),ce=$n=>jc.moveToBookmark($n),ke=($n,go)=>(d6(e,$n,go).each(Ft),$n),ge=()=>{const $n=ut(),go=rt();return!$n||$n.item?!1:$n.compareEndPoints?$n.compareEndPoints("StartToEnd",$n)===0:!go||$n.collapsed},Te=()=>{if(r.mode.isReadOnly())return!1;const $n=ut(),go=r.getBody().querySelectorAll('[data-mce-selected="1"]');return go.length>0?mr(go,_r=>e.isEditable(_r.parentElement)):gV(e,$n)},ot=$n=>{const go=ut();go.collapse(!!$n),Ft(go)},rt=()=>t.getSelection?t.getSelection():t.document.selection,ut=()=>{let $n;const go=(br,vu,Ht)=>{try{return vu.compareBoundaryPoints(br,Ht)}catch{return-1}},_r=t.document;if(qe(r.bookmark)&&!Aw(r)){const br=jA(r);if(br.isSome())return br.map(vu=>w_(r,[vu])[0]).getOr(_r.createRange())}try{const br=rt();br&&!eb(br.anchorNode)&&(br.rangeCount>0?$n=br.getRangeAt(0):$n=_r.createRange(),$n=w_(r,[$n])[0])}catch{}if($n||($n=_r.createRange()),zm($n.startContainer)&&$n.collapsed){const br=e.getRoot();$n.setStart(br,0),$n.setEnd(br,0)}return l&&h&&(go($n.START_TO_START,$n,l)===0&&go($n.END_TO_END,$n,l)===0?$n=h:(l=null,h=null)),$n},Ft=($n,go)=>{if(!AP($n))return;const _r=rt();if($n=r.dispatch("SetSelectionRange",{range:$n,forward:go}).range,_r){h=$n;try{_r.removeAllRanges(),_r.addRange($n)}catch{}go===!1&&_r.extend&&(_r.collapse($n.endContainer,$n.endOffset),_r.extend($n.startContainer,$n.startOffset)),l=_r.rangeCount>0?_r.getRangeAt(0):null}if(!$n.collapsed&&$n.startContainer===$n.endContainer&&_r?.setBaseAndExtent&&$n.endOffset-$n.startOffset<2&&$n.startContainer.hasChildNodes()){const vu=$n.startContainer.childNodes[$n.startOffset];vu&&vu.nodeName==="IMG"&&(_r.setBaseAndExtent($n.startContainer,$n.startOffset,$n.endContainer,$n.endOffset),(_r.anchorNode!==$n.startContainer||_r.focusNode!==$n.endContainer)&&_r.setBaseAndExtent(vu,0,vu,1))}r.dispatch("AfterSetSelectionRange",{range:$n,forward:go})},Jt=$n=>(Bk(r,e.getOuterHTML($n)),$n),Rn=()=>x_(r.getBody(),ut()),io=($n,go)=>pV(e,ut(),$n,go),Lt=()=>{const $n=rt(),go=$n?.anchorNode,_r=$n?.focusNode;if(!$n||!go||!_r||eb(go)||eb(_r))return!0;const br=e.createRng(),vu=e.createRng();try{br.setStart(go,$n.anchorOffset),br.collapse(!0),vu.setStart(_r,$n.focusOffset),vu.collapse(!0)}catch{return!0}return br.compareBoundaryPoints(br.START_TO_START,vu)<=0},ti={dom:e,win:t,serializer:o,editor:r,expand:($n={type:"word"})=>Ft(f0(e).expand(ut(),$n)),collapse:ot,setCursorLocation:T,getContent:k,setContent:B,getBookmark:Q,moveToBookmark:ce,select:ke,isCollapsed:ge,isEditable:Te,isForward:Lt,setNode:Jt,getNode:Rn,getSel:rt,setRng:Ft,getRng:ut,getStart:W,getEnd:G,getSelectedBlocks:io,normalize:()=>{const $n=ut(),go=rt();if(!c0(go)&&_S(r)){const _r=qA(e,$n);return _r.each(br=>{Ft(br,Lt())}),_r.getOr($n)}return $n},selectorChanged:($n,go)=>(v($n,go),ti),selectorChangedWithUnbind:v,getScrollContainer:()=>{let $n,go=e.getRoot();for(;go&&go.nodeName!=="BODY";){if(go.scrollHeight>go.clientHeight){$n=go;break}go=go.parentNode}return $n},scrollIntoView:($n,go)=>{qe($n)?In(r,$n,go):sh(r,ut(),go)},placeCaretAt:($n,go)=>Ft(QB($n,go,r.getDoc())),getBoundingClientRect:()=>{const $n=ut();return $n.collapsed?_t.fromRangeStart($n).getClientRects()[0]:$n.getBoundingClientRect()},destroy:()=>{t=l=h=null,Am.destroy()}},jc=Ew(ti),Am=nV(ti,r);return ti.bookmarkManager=jc,ti.controlSelection=Am,ti},p5=(e,t,o)=>{t.addNodeFilter("br",(r,l,h)=>{const v=an.extend({},o.getBlockElements()),T=o.getNonEmptyElements(),k=o.getWhitespaceElements();v.body=1;const B=W=>W.name in v||cu(o,W);for(let W=0,G=r.length;W<G;W++){let Q=r[W],ce=Q.parent;if(ce&&B(ce)&&Q===ce.lastChild){let ke=Q.prev;for(;ke;){const ge=ke.name;if(ge!=="span"||ke.attr("data-mce-type")!=="bookmark"){ge==="br"&&(Q=null);break}ke=ke.prev}if(Q&&(Q.remove(),eE(o,T,k,ce))){const ge=o.getElementRule(ce.name);ge&&(ge.removeEmpty?ce.remove():ge.paddEmpty&&av(e,h,B,ce))}}else{let ke=Q;for(;ce&&ce.firstChild===ke&&ce.lastChild===ke&&(ke=ce,!v[ce.name]);)ce=ce.parent;if(ke===ce){const ge=new Hc("#text",3);ge.value=qr,Q.replace(ge)}}}})},kP=(e,t,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,l)=>{let h=r.length;for(;h--;){const v=r[h];v.attr("tabindex",v.attr("data-mce-tabindex")),v.attr(l,null)}}),e.addAttributeFilter("src,href,style",(r,l)=>{const h="data-mce-"+l,v=t.url_converter,T=t.url_converter_scope;let k=r.length;for(;k--;){const B=r[k];let W=B.attr(h);W!==void 0?(B.attr(l,W.length>0?W:null),B.attr(h,null)):(W=B.attr(l),l==="style"?W=o.serializeStyle(o.parseStyle(W),B.name):v&&(W=v.call(T,W,l,B.name)),B.attr(l,W.length>0?W:null))}}),e.addAttributeFilter("class",r=>{let l=r.length;for(;l--;){const h=r[l];let v=h.attr("class");v&&(v=v.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),h.attr("class",v.length>0?v:null))}}),e.addAttributeFilter("data-mce-type",(r,l,h)=>{let v=r.length;for(;v--;){const T=r[v];T.attr("data-mce-type")==="bookmark"&&!h.cleanup&&(X.from(T.firstChild).exists(B=>!$g(B.value??""))?T.unwrap():T.remove())}}),e.addNodeFilter("script,style",(r,l)=>{const h=T=>T.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let v=r.length;for(;v--;){const T=r[v],k=T.firstChild,B=k?.value??"";if(l==="script"){const W=T.attr("type");W&&T.attr("type",W==="mce-no/type"?null:W.replace(/^mce\-/,"")),t.element_format==="xhtml"&&k&&B.length>0&&(k.value=`// <![CDATA[
`+h(B)+`
// ]]>`)}else t.element_format==="xhtml"&&k&&B.length>0&&(k.value=`<!--
`+h(B)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let l=r.length;for(;l--;){const h=r[l],v=h.value;t.preserve_cdata&&v?.indexOf("[CDATA[")===0?(h.name="#cdata",h.type=4,h.value=o.decode(v.replace(/^\[CDATA\[|\]\]$/g,""))):v?.indexOf("mce:protected ")===0&&(h.name="#text",h.type=3,h.raw=!0,h.value=unescape(v).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,l)=>{let h=r.length;for(;h--;){const v=r[h];v.type===7?v.remove():v.type===1&&l==="input"&&!v.attr("type")&&v.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{Be(r,l=>{l.attr("data-mce-type")==="format-caret"&&(l.isEmpty(e.schema.getNonEmptyElements())?l.remove():l.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,l)=>{let h=r.length;for(;h--;)r[h].attr(l,null)}),t.remove_trailing_brs&&p5(t,e,e.schema)},qk=e=>{const t=r=>r?.name==="br",o=e.lastChild;if(t(o)){const r=o.prev;t(r)&&(o.remove(),r.remove())}},jZ=(e,t,o)=>{let r;const l=e.dom;let h=t.cloneNode(!0);const v=document.implementation;if(v.createHTMLDocument){const T=v.createHTMLDocument("");an.each(h.nodeName==="BODY"?h.childNodes:[h],k=>{T.body.appendChild(T.importNode(k,!0))}),h.nodeName!=="BODY"?h=T.body.firstChild:h=T.body,r=l.doc,l.doc=T}return Vx(e,{...o,node:h}),r&&(l.doc=r),h},UZ=(e,t)=>qe(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,ZZ=(e,t,o)=>UZ(e,o)?jZ(e,t,o):t,WZ=(e,t,o)=>{an.inArray(t,o)===-1&&(e.addAttributeFilter(o,(r,l)=>{let h=r.length;for(;h--;)r[h].attr(l,null)}),t.push(o))},qZ=(e,t,o)=>!t.no_events&&e?ZC(e,{...t,content:o}).content:o,DP=(e,t,o)=>{const r=Pc(o.getInner?t.innerHTML:e.getOuterHTML(t));return o.selection||Oy(De.fromDom(t))?r:an.trim(r)},GZ=(e,t,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,l=e.parse(t,r);return qk(l),l},KZ=(e,t,o)=>tv(e,t).serialize(o),_P=(e,t,o,r,l)=>{const h=KZ(t,o,r);return qZ(e,l,h)},YZ=(e,t)=>{const o=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},l=t&&t.dom?t.dom:hs.DOM,h=t&&t.schema?t.schema:Bs(r),v=Bw(r,h);kP(v,r,l);const T=(k,B={})=>{const{indent:W,entity_encoding:G,...Q}=B,ce={format:"html",...Q},ke=ZZ(t,k,ce),ge=DP(l,ke,ce),Te=GZ(v,ge,ce);if(ce.format==="tree")return Te;const ot={...r,...qe(W)?{indent:W}:{},...qe(G)?{entity_encoding:G}:{}};return _P(t,ot,h,Te,ce)};return{schema:h,addNodeFilter:v.addNodeFilter,addAttributeFilter:v.addAttributeFilter,serialize:T,addRules:h.addValidElements,setRules:h.setValidElements,addTempAttr:ee(WZ,v,o),getTempAttrs:at(o),getNodeFilters:v.getNodeFilters,getAttributeFilters:v.getAttributeFilters,removeNodeFilter:v.removeNodeFilter,removeAttributeFilter:v.removeAttributeFilter}},b5=(e,t)=>{const o=YZ(e,t);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},xE="html",XZ=(e,t)=>({...e,format:t,get:!0,getInner:!0}),QZ=(e,t={})=>{const o=t.format?t.format:xE,r=XZ(t,o);return SL(e,r).fold(Qn,l=>{const h=wa(e,l);return iE(e,h,l)})},OP="html",RP=(e,t)=>({format:OP,...e,set:!0,content:t}),y5=(e,t,o={})=>{const r=RP(o,t);lE(e,r).each(l=>{const h=VZ(e,l.content,l);$O(e,h.html,l)})},wE=hs.DOM,md=e=>{wE.setStyle(e.id,"display",e.orgDisplay)},Gk=e=>X.from(e).each(t=>t.destroy()),NP=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const o=e.selection;if(o){const r=o.dom;t.selection=o.win=o.dom=r.doc=null}},v5=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),wE.unbind(t,"submit reset",e.formEventDelegate))},x5=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:o}=e,r=e.getBody(),l=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&qe(l?.nextSibling)&&wE.remove(l.nextSibling),WC(e),e.editorManager.remove(e),!e.inline&&r&&md(e),LT(e),wE.remove(e.getContainer()),Gk(t),Gk(o),e.destroy()}},MP=(e,t)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Gk(o),Gk(r)),v5(e),NP(e),e.destroyed=!0}},Kk=(()=>{const e={};return{add:(l,h)=>{e[l]=h},get:l=>e[l]?e[l]:{icons:{}},has:l=>Jn(e,l)}})(),jw=Yi.ModelManager,w5=(e,t)=>t.dom[e],C5=(e,t)=>parseInt(ka(t,e),10),lh=ee(w5,"clientWidth"),eW=ee(w5,"clientHeight"),tW=ee(C5,"margin-top"),Lne=ee(C5,"margin-left"),S5=e=>e.dom.getBoundingClientRect(),nW=(e,t,o)=>{const r=lh(e),l=eW(e);return t>=0&&o>=0&&t<=r&&o<=l},Pne=(e,t,o,r)=>{const l=S5(t),h=e?l.left+t.dom.clientLeft+Lne(t):0,v=e?l.top+t.dom.clientTop+tW(t):0,T=o-h,k=r-v;return{x:T,y:k}},oW=(e,t,o)=>{const r=De.fromDom(e.getBody()),l=e.inline?r:si(r),h=Pne(e.inline,l,t,o);return nW(l,h.x,h.y)},E5=e=>X.from(e).map(De.fromDom),ip=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return E5(t).map(hr).getOr(!1)};var T5=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const CE=e=>{const t=[],o=()=>{const Q=e.theme;return Q&&Q.getNotificationManagerImpl?Q.getNotificationManagerImpl():T5()},r=()=>X.from(t[0]),l=(Q,ce)=>Q.type===ce.type&&Q.text===ce.text&&!Q.progressBar&&!Q.timeout&&!ce.progressBar&&!ce.timeout,h=()=>{r().each(Q=>{Q.reposition()})},v=Q=>{t.push(Q)},T=Q=>{Zn(t,ce=>ce===Q).each(ce=>{t.splice(ce,1)})},k=(Q,ce=!0)=>e.removed||!ip(e)?{}:(ce&&e.dispatch("BeforeOpenNotification",{notification:Q}),sn(t,ke=>l(o().getArgs(ke),Q)).getOrThunk(()=>{e.editorManager.setActive(e);const ke=o().open(Q,()=>{T(ke)},()=>KB(e));return v(ke),h(),e.dispatch("OpenNotification",{notification:{...ke}}),ke})),B=()=>{r().each(Q=>{o().close(Q),T(Q),h()})},W=at(t);return(Q=>{Q.on("SkinLoaded",()=>{const ce=sS(Q);ce&&k({text:ce,type:"warning",timeout:0},!1),h()}),Q.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(h)}),Q.on("remove",()=>{Be(t.slice(),ce=>{o().close(ce)})}),Q.on("keydown",ce=>{const ke=ce.key?.toLowerCase()==="f12"||ce.keyCode===123;ce.altKey&&ke&&(ce.preventDefault(),r().map(ge=>De.fromDom(ge.getEl())).each(ge=>Ia(ge)))})})(e),{open:k,close:B,getNotifications:W}},fv=Yi.PluginManager,j2=Yi.ThemeManager;var A5=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const BP=e=>{let t=[];const o=()=>{const Te=e.theme;return Te&&Te.getWindowManagerImpl?Te.getWindowManagerImpl():A5()},r=(Te,ot)=>(...rt)=>ot?ot.apply(Te,rt):void 0,l=Te=>{e.dispatch("OpenWindow",{dialog:Te})},h=Te=>{e.dispatch("CloseWindow",{dialog:Te})},v=(Te,ot)=>{t.push({instanceApi:Te,triggerElement:ot}),l(Te)},T=Te=>{h(Te);const ot=$r(t,({instanceApi:rt,triggerElement:ut})=>rt===Te?ut:X.none());t=yt(t,({instanceApi:rt})=>rt!==Te),t.length===0?e.focus():ot.filter(hr).each(Ia)},k=()=>X.from(t[t.length-1]),B=Te=>{e.editorManager.setActive(e),VA(e);const ot=Nl();e.ui.show();const rt=Te();return v(rt,ot),rt},W=(Te,ot)=>B(()=>o().open(Te,ot,T)),G=Te=>B(()=>o().openUrl(Te,T)),Q=Te=>{t.length!==0&&Te.each(ot=>Ia(ot))},ce=(Te,ot,rt)=>{const ut=Nl(),Ft=o();Ft.alert(Te,r(rt||Ft,()=>{Q(ut),ot?.()}))},ke=(Te,ot,rt)=>{const ut=Nl(),Ft=o();Ft.confirm(Te,r(rt||Ft,Jt=>{Q(ut),ot?.(Jt)}))},ge=()=>{k().each(({instanceApi:Te})=>{o().close(Te),T(Te)})};return e.on("remove",()=>{Be(t,({instanceApi:Te})=>{o().close(Te)})}),{open:W,openUrl:G,alert:ce,confirm:ke,close:ge}},k5=(e,t)=>{e.notificationManager.open({type:"error",text:t})},Yk=(e,t)=>{e._skinLoaded?k5(e,t):e.on("SkinLoaded",()=>{k5(e,t)})},sW=(e,t)=>{Yk(e,Fu.translate(["Failed to upload image: {0}",t]))},Gb=(e,t,o)=>{jx(e,t,{message:o}),console.error(o)},U2=(e,t,o)=>o?`Failed to load ${e}: ${o} from url ${t}`:`Failed to load ${e} url: ${t}`,LP=(e,t,o)=>{Gb(e,"PluginLoadError",U2("plugin",t,o))},rW=(e,t,o)=>{Gb(e,"IconsLoadError",U2("icons",t,o))},Z2=(e,t,o)=>{Gb(e,"LanguageLoadError",U2("language",t,o))},PP=(e,t,o)=>{Gb(e,"ThemeLoadError",U2("theme",t,o))},aW=(e,t,o)=>{Gb(e,"ModelLoadError",U2("model",t,o))},FP=(e,t)=>{Gb(e,"LicenseKeyManagerLoadError",U2("license key manager",t))},iW=(e,t)=>{Gb(e,"ComponentLoadError",U2("component",t))},lW=(e,t,o)=>{const r=Fu.translate(["Failed to initialize plugin: {0}",t]);jx(e,"PluginLoadError",{message:r}),Xk(r,o),Yk(e,r)},Xk=(e,...t)=>{const o=window.console;o&&(o.error?o.error(e,...t):o.log(e,...t))},$P=new WeakMap,cW=e=>{if($P.has(e))return;$P.set(e,!0);const t=()=>{e.on("SwitchMode",r=>{const{mode:l}=r;l!=="readonly"&&e.mode.set("readonly")})},o=()=>{e.on("DisabledStateChange",r=>{const{state:l}=r;l||r.preventDefault()},!0)};e.initialized?(e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)):e.on("init",()=>{e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)}),o(),t()},D5=(e,t)=>{const{type:o,message:r}=t;e.notificationManager.open({type:o,text:r})},uW=e=>{switch(e){case"error":return console.error;case"info":return console.info;case"warn":return console.warn;default:return console.log}},_5=e=>{uW(e.type)(e.message)},S1=(e,t)=>{const{console:o,editor:r}=t;qe(r)&&(e._skinLoaded?D5(e,r):e.on("SkinLoaded",()=>{D5(e,r)})),qe(o)&&_5(o)},O5="Read more: https://www.tiny.cloud/docs/tinymce/latest/license-key/",SE="Make sure to provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms.",IP=e=>{const t="The editor is disabled because a TinyMCE license key has not been provided.";S1(e,{console:{type:"error",message:[`${t}`,SE,O5].join(" ")},editor:{type:"warning",message:`${t}`}})},HP=(e,t)=>{const o=`${t==="online"?"API":"license"} key`,r=`The editor is disabled because the TinyMCE ${o} could not be validated.`;S1(e,{console:{type:"error",message:[`${r}`,`The TinyMCE Commercial License Key Manager plugin is required for the provided ${o} to be validated but could not be loaded.`,O5].join(" ")},editor:{type:"warning",message:`${r}`}})},zP=(e,t,o)=>{const r=`The "${t}" plugin requires a valid TinyMCE license key.`;S1(e,{console:{type:"error",message:[`${r}`,O5].join(" ")},...o?{}:{editor:{type:"warning",message:"One or more premium plugins are disabled due to license key restrictions."}}})},EE="licensekeymanager",VP=e=>J(C2(e))?"online":"offline",dW=e=>{const t=pA(e)?.toLowerCase();return t==="gpl"?"gpl":mn(t)?"no_key":"non_gpl"},R5=e=>{const t=VP(e),o=dW(e),r=new Set([...b2(e),...Hn(iS(e))]).has(EE);return o!=="gpl"||t==="online"||r?{type:"use_plugin",onlineStatus:t,licenseKeyType:o,forcePlugin:r}:{type:"use_gpl",onlineStatus:t,licenseKeyType:o,forcePlugin:r}},jP=e=>t=>{let o=!1;return{validate:r=>{const{plugin:l}=r,h=J(l);return h&&(zP(t,l,o),o=!0),Promise.resolve(e&&!h)}}},fW=jP(!1),Qk=jP(!0),TE="manager",N5=EE,B5=(()=>{const e=Yi();return{load:(l,h)=>{if(R5(l).type==="use_plugin"){const k=Ro(iS(l),N5).map(Jr).filter(Hr).getOr(`plugins/${N5}/plugin${h}.js`);e.load(TE,k).catch(()=>{FP(l,k)})}},add:l=>{e.add(TE,l)},init:l=>{const h=k=>{Object.defineProperty(l,"licenseKeyManager",{value:k,writable:!1,configurable:!1,enumerable:!0})},v=R5(l),T=e.get(TE);if(qe(T)){const k=T(l,e.urls[TE]);h(k)}else switch(v.type){case"use_gpl":{h(Qk(l));break}case"use_plugin":{cW(l),h(fW(l)),v.onlineStatus==="offline"&&v.licenseKeyType==="no_key"?IP(l):HP(l,v.onlineStatus);break}}l.licenseKeyManager.validate({})}}})(),mW=e=>{X.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},L5=(e,t,o)=>{try{e.getDoc().execCommand(t,!1,String(o))}catch{}},UP=(e,t)=>{L5(e,"StyleWithCSS",t),L5(e,"enableInlineTableEditing",t),L5(e,"enableObjectResizing",t)},P5=e=>{e.selection.setRng(e.selection.getRng())},ZP=(e,t,o)=>{ki(e,t)&&!o?aa(e,t):o&&pc(e,t)},F5=e=>{const t=De.fromDom(e.getBody());ZP(t,"mce-content-readonly",!0),e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),mW(e)},WP=e=>{const t=De.fromDom(e.getBody());ZP(t,"mce-content-readonly",!1),e.hasEditableRoot()&&L(t,!0),UP(e,!1),KB(e)&&e.focus(),P5(e),e.nodeChanged()},Kb=e=>nh(e),W2="data-mce-contenteditable",AE=e=>{Be(kt(e,'*[contenteditable="true"]'),t=>{Or(t,W2,"true"),L(t,!1)})},w0=e=>{Be(kt(e,`*[${W2}="true"]`),t=>{li(t,W2),L(t,!0)})},qP=(e,t)=>{const o=De.fromDom(e.getBody());t?(F5(e),L(o,!1),AE(o)):(w0(o),WP(e))},$5=e=>{e.serializer?Oi(e):e.on("PreInit",()=>{Oi(e)})},Oi=e=>{e.parser.addAttributeFilter("contenteditable",t=>{Kb(e)&&Be(t,o=>{o.attr(W2,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(W2,t=>{Kb(e)&&Be(t,o=>{o.attr("contenteditable",o.attr(W2))})}),e.serializer.addTempAttr(W2)},I5=e=>e.type==="click",Jk=["copy"],Yb=e=>Ne(Jk,e.type),GP=(e,t)=>El(t,"a",r=>ss(r,De.fromDom(e.getBody()))).bind(r=>ul(r,"href")),H5=(e,t)=>ia(t,"details",r=>ss(r,De.fromDom(e.getBody()))),hW=(e,t)=>{if(I5(t)&&!Ln.metaKeyPressed(t)){const o=De.fromDom(t.target);GP(e,o).fold(()=>{H5(e,o)&&t.preventDefault()},r=>{if(t.preventDefault(),/^#/.test(r)){const l=e.dom.select(`${r},[name="${wi(r,"#")}"]`);l.length&&e.selection.scrollIntoView(l[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Yb(t)&&e.dispatch(t.type,t)},Uw=e=>{e.on("ShowCaret ObjectSelected",t=>{Kb(e)&&t.preventDefault()}),e.on("DisabledStateChange",t=>{t.isDefaultPrevented()||qP(e,t.state)})},gW=e=>{$5(e),Uw(e)},pW=e=>/^[a-z0-9\-]+$/i.test(e),mv=e=>"content/"+e+"/content.css",bW=e=>tinymce.Resource.has(mv(e)),q2=e=>Xb(e,yD(e)),yW=e=>Xb(e,nS(e)),Xb=(e,t)=>{const o=e.editorManager.baseURL+"/skins/content",l=`content${e.editorManager.suffix}.css`;return tt(t,h=>bW(h)?h:pW(h)&&!e.inline?`${o}/${h}/${l}`:e.documentBaseURI.toAbsolute(h))},vW=e=>{e.contentCSS=e.contentCSS.concat(q2(e),yW(e))},og=e=>e?Es(e.getElementsByTagName("img")):[],G2=(e,t)=>{const o={};return{findAll:(l,h=bt)=>{const v=yt(og(l),k=>{const B=k.src;return k.hasAttribute("data-mce-bogus")||k.hasAttribute("data-mce-placeholder")||!B||B===ds.transparentSrc?!1:wo(B,"blob:")?!e.isUploaded(B)&&h(k):wo(B,"data:")?h(k):!1}),T=tt(v,k=>{const B=k.src;if(Jn(o,B))return o[B].then(W=>J(W)?W:{image:k,blobInfo:W.blobInfo});{const W=wO(t,B).then(G=>(delete o[B],{image:k,blobInfo:G})).catch(G=>(delete o[B],G));return o[B]=W,W}});return Promise.all(T)}}},KP=()=>{let o={};const r=(Q,ce)=>({status:Q,resultUri:ce}),l=Q=>Q in o;return{hasBlobUri:l,getResultUri:Q=>{const ce=o[Q];return ce?ce.resultUri:null},isPending:Q=>l(Q)?o[Q].status===1:!1,isUploaded:Q=>l(Q)?o[Q].status===2:!1,markPending:Q=>{o[Q]=r(1,null)},markUploaded:(Q,ce)=>{o[Q]=r(2,ce)},removeFailed:Q=>{delete o[Q]},destroy:()=>{o={}}}};let kE=0;const z5=()=>{const e=()=>Math.round(co()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},xW=e=>e+kE+++z5(),Zw=()=>{let e=[];const t=G=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[G.toLowerCase()]||"dat",o=(G,Q,ce,ke,ge)=>{if(J(G))return r({id:G,name:ke,filename:ge,blob:Q,base64:ce});if(vt(G))return r(G);throw new Error("Unknown input type")},r=G=>{if(!G.blob||!G.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const Q=G.id||xW("blobid"),ce=G.name||Q,ke=G.blob;return{id:at(Q),name:at(ce),filename:at(G.filename||ce+"."+t(ke.type)),blob:at(ke),base64:at(G.base64),blobUri:at(G.blobUri||URL.createObjectURL(ke)),uri:at(G.uri)}},l=G=>{v(G.id())||e.push(G)},h=G=>sn(e,G).getOrUndefined(),v=G=>h(Q=>Q.id()===G);return{create:o,add:l,get:v,getByUri:G=>h(Q=>Q.blobUri()===G),getByData:(G,Q)=>h(ce=>ce.base64()===G&&ce.blob().type===Q),findFirst:h,removeByUri:G=>{e=yt(e,Q=>Q.blobUri()===G?(URL.revokeObjectURL(Q.blobUri()),!1):!0)},destroy:()=>{Be(e,G=>{URL.revokeObjectURL(G.blobUri())}),e=[]}}},wW=(e,t)=>{const o={},r=(ge,Te)=>ge?ge.replace(/\/$/,"")+"/"+Te.replace(/^\//,""):Te,l=(ge,Te)=>new Promise((ot,rt)=>{const ut=new XMLHttpRequest;ut.open("POST",t.url),ut.withCredentials=t.credentials,ut.upload.onprogress=Jt=>{Te(Jt.loaded/Jt.total*100)},ut.onerror=()=>{rt("Image upload failed due to a XHR Transport error. Code: "+ut.status)},ut.onload=()=>{if(ut.status<200||ut.status>=300){rt("HTTP Error: "+ut.status);return}const Jt=JSON.parse(ut.responseText);if(!Jt||!J(Jt.location)){rt("Invalid JSON: "+ut.responseText);return}ot(r(t.basePath,Jt.location))};const Ft=new FormData;Ft.append("file",ge.blob(),ge.filename()),ut.send(Ft)}),h=Oe(t.handler)?t.handler:l,v=()=>new Promise(ge=>{ge([])}),T=(ge,Te)=>({url:Te,blobInfo:ge,status:!0}),k=(ge,Te)=>({url:"",blobInfo:ge,status:!1,error:Te}),B=(ge,Te)=>{an.each(o[ge],ot=>{ot(Te)}),delete o[ge]},W=(ge,Te,ot)=>(e.markPending(ge.blobUri()),new Promise(rt=>{let ut,Ft;try{const Jt=()=>{ut&&(ut.close(),Ft=Pt)},Rn=Lt=>{Jt();const Ct=J(Lt)?Lt:Lt.url;e.markUploaded(ge.blobUri(),Ct),B(ge.blobUri(),T(ge,Ct)),rt(T(ge,Ct))},io=Lt=>{Jt(),e.removeFailed(ge.blobUri()),B(ge.blobUri(),k(ge,Lt)),rt(k(ge,Lt))};Ft=Lt=>{Lt<0||Lt>100||X.from(ut).orThunk(()=>X.from(ot).map(je)).each(Ct=>{ut=Ct,Ct.progressBar.value(Lt)})},Te(ge,Ft).then(Rn,Lt=>{io(J(Lt)?{message:Lt}:Lt)})}catch(Jt){rt(k(ge,Jt))}})),G=ge=>ge===l,Q=ge=>{const Te=ge.blobUri();return new Promise(ot=>{o[Te]=o[Te]||[],o[Te].push(ot)})},ce=(ge,Te)=>(ge=an.grep(ge,ot=>!e.isUploaded(ot.blobUri())),Promise.all(an.map(ge,ot=>e.isPending(ot.blobUri())?Q(ot):W(ot,h,Te))));return{upload:(ge,Te)=>!t.url&&G(h)?v():ce(ge,Te)}},sg=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),DE=(e,t)=>wW(t,{url:Xx(e),basePath:tS(e),credentials:pD(e),handler:tA(e)}),YP=e=>{const t=KP(),o=DE(e,t);return{upload:(r,l=!0)=>o.upload(r,l?sg(e):void 0)}},V5=(e,t)=>e.dom.isEmpty(t.dom)&&qe(e.schema.getTextBlockElements()[rs(t)]),j5=e=>t=>{V5(e,t)&&$s(t,De.fromHtml('<br data-mce-bogus="1" />'))},K2=e=>{const t=Zw();let o,r;const l=KP(),h=[],v=ut=>Ft=>e.selection?ut(Ft):[],T=ut=>ut+(ut.indexOf("?")===-1?"?":"&")+new Date().getTime(),k=(ut,Ft,Jt)=>{let Rn=0;do Rn=ut.indexOf(Ft,Rn),Rn!==-1&&(ut=ut.substring(0,Rn)+Jt+ut.substr(Rn+Ft.length),Rn+=Jt.length-Ft.length+1);while(Rn!==-1);return ut},B=(ut,Ft,Jt)=>{const Rn=`src="${Jt}"${Jt===ds.transparentSrc?' data-mce-placeholder="1"':""}`;return ut=k(ut,`src="${Ft}"`,Rn),ut=k(ut,'data-mce-src="'+Ft+'"','data-mce-src="'+Jt+'"'),ut},W=(ut,Ft)=>{Be(e.undoManager.data,Jt=>{Jt.type==="fragmented"?Jt.fragments=tt(Jt.fragments,Rn=>B(Rn,ut,Ft)):Jt.content=B(Jt.content,ut,Ft)})},G=(ut,Ft)=>{const Jt=e.convertURL(Ft,"src");W(ut.src,Ft),Wa(De.fromDom(ut),{src:JT(e)?T(Ft):Ft,"data-mce-src":Jt})},Q=()=>(o||(o=DE(e,l)),Te().then(v(ut=>{const Ft=tt(ut,Jt=>Jt.blobInfo);return o.upload(Ft,sg(e)).then(v(Jt=>{const Rn=[];let io=!1;const Lt=tt(Jt,(Ct,$t)=>{const{blobInfo:On,image:Bo}=ut[$t];let Lo=!1;return Ct.status&&eA(e)?(Ct.url&&!Ir(Bo.src,Ct.url)&&(io=!0),t.removeByUri(Bo.src),v0(e)||G(Bo,Ct.url)):Ct.error&&(Ct.error.remove&&(W(Bo.src,ds.transparentSrc),Rn.push(Bo),Lo=!0),sW(e,Ct.error.message)),{element:Bo,status:Ct.status,uploadUri:Ct.url,blobInfo:On,removed:Lo}});return Rn.length>0&&!v0(e)?e.undoManager.transact(()=>{Be(Cd(Rn),Ct=>{const $t=Zi(Ct);ws(Ct),$t.each(j5(e)),t.removeByUri(Ct.dom.src)})}):io&&e.undoManager.dispatchChange(),Lt}))}))),ce=()=>JC(e)?Q():Promise.resolve([]),ke=ut=>mr(h,Ft=>Ft(ut)),ge=ut=>{h.push(ut)},Te=()=>(r||(r=G2(l,t)),r.findAll(e.getBody(),ke).then(v(ut=>{const Ft=yt(ut,Jt=>J(Jt)?(Yk(e,Jt),!1):Jt.uriType!=="blob");return v0(e)||Be(Ft,Jt=>{W(Jt.image.src,Jt.blobInfo.blobUri()),Jt.image.src=Jt.blobInfo.blobUri(),Jt.image.removeAttribute("data-mce-src")}),Ft}))),ot=()=>{t.destroy(),l.destroy(),r=o=null},rt=ut=>ut.replace(/src="(blob:[^"]+)"/g,(Ft,Jt)=>{const Rn=l.getResultUri(Jt);if(Rn)return'src="'+Rn+'"';let io=t.getByUri(Jt);return io||(io=Le(e.editorManager.get(),(Lt,Ct)=>Lt||Ct.editorUpload&&Ct.editorUpload.blobCache.getByUri(Jt),void 0)),io?'src="data:'+io.blob().type+";base64,"+io.base64()+'"':Ft});return e.on("SetContent",()=>{JC(e)?ce():Te()}),e.on("RawSaveContent",ut=>{ut.content=rt(ut.content)}),e.on("GetContent",ut=>{ut.source_view||ut.format==="raw"||ut.format==="tree"||(ut.content=rt(ut.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",ut=>{Be(ut,Ft=>{const Jt=Ft.attr("src");if(!Jt||t.getByUri(Jt))return;const Rn=l.getResultUri(Jt);Rn&&Ft.attr("src",Rn)})})}),{blobCache:t,addFilter:ge,uploadImages:Q,uploadImagesAuto:ce,scanForImages:Te,destroy:ot}},U5=e=>{const t=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:l=>{t.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:l=>{t.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const l={inline:"span",styles:{textDecoration:"line-through"},exact:!0},h={inline:"strike",remove:"all",preserve_attributes:["class","style"]},v={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[v,l,h]:[l,v,h]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"},remove_similar:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(l,h,v)=>Cn(l)&&l.hasAttribute("href"),onformat:(l,h,v)=>{an.each(v,(T,k)=>{t.setAttrib(l,k,T)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":l=>l?.customValue??null}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return an.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),l=>{r[l]={block:l,remove:"all"}}),r},XP={remove_similar:!0,inherit:!1},Ww={selector:"td,th",...XP},CW={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Ww},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Ww},tablecellbordercolor:{styles:{borderColor:"%value"},...Ww},tablecellclass:{classes:["%value"],...Ww},tableclass:{selector:"table",classes:["%value"],...XP},tablecellborderstyle:{styles:{borderStyle:"%value"},...Ww},tablecellborderwidth:{styles:{borderWidth:"%value"},...Ww}},SW=at(CW),EW=e=>{const t={},o=v=>qe(v)?t[v]:t,r=v=>Jn(t,v),l=(v,T)=>{v&&(J(v)?(Qe(T)||(T=[T]),Be(T,k=>{Tn(k.deep)&&(k.deep=!Kg(k)),Tn(k.split)&&(k.split=!Kg(k)||hu(k)),Tn(k.remove)&&Kg(k)&&!hu(k)&&(k.remove="none"),Kg(k)&&hu(k)&&(k.mixed=!0,k.block_expand=!0),J(k.classes)&&(k.classes=k.classes.split(/\s+/))}),t[v]=T):Oo(v,(k,B)=>{l(B,k)}))},h=v=>(v&&t[v]&&delete t[v],t);return l(U5(e)),l(SW()),l(SD(e)),{get:o,has:r,register:l,unregister:h}},e4=an.each,Zd=hs.DOM,rg=e=>qe(e)&&vt(e),QP=(e,t)=>{const o=t&&t.schema||Bs({}),r=(k,B)=>{B.classes.length>0&&Zd.addClass(k,B.classes.join(" ")),Zd.setAttribs(k,B.attrs)},l=k=>{const B=J(k)?{name:k,classes:[],attrs:{}}:k,W=Zd.create(B.name);return r(W,B),W},h=(k,B)=>{const G=o.getElementRule(k.nodeName.toLowerCase())?.parentsRequired;return G&&G.length?B&&Ne(G,B)?B:G[0]:!1},v=(k,B,W)=>{let G;const Q=B[0],ce=rg(Q)?Q.name:void 0,ke=h(k,ce);if(ke)ce===ke?(G=Q,B=B.slice(1)):G=ke;else if(Q)G=Q,B=B.slice(1);else if(!W)return k;const ge=G?l(G):Zd.create("div");ge.appendChild(k),W&&an.each(W,ot=>{const rt=l(ot);ge.insertBefore(rt,k)});const Te=rg(G)?G.siblings:void 0;return v(ge,B,Te)},T=Zd.create("div");if(e.length>0){const k=e[0],B=l(k),W=rg(k)?k.siblings:void 0;T.appendChild(v(B,e.slice(1),W))}return T},TW=e=>{e=an.trim(e);let t="div";const o={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,l,h,v,T)=>{switch(l){case"#":o.attrs.id=h;break;case".":o.classes.push(h);break;case":":an.inArray("checked disabled enabled read-only required".split(" "),h)!==-1&&(o.attrs[h]=h);break}if(v==="["){const k=T.match(/([\w\-]+)(?:\=\"([^\"]+))?/);k&&(o.attrs[k[1]]=k[2])}return""})),o.name=t||"div",o},AW=e=>J(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),an.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const o=an.map(t.split(/(?:~\+|~|\+)/),TW),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],kW=(e,t)=>{let o="",r=ED(e);if(r==="")return"";const l=Q=>J(Q)?Q.replace(/%(\w+)/g,""):"",h=(Q,ce)=>Zd.getStyle(ce??e.getBody(),Q,!0);if(J(t)){const Q=e.formatter.get(t);if(!Q)return"";t=Q[0]}if("preview"in t){const Q=t.preview;if(Q===!1)return"";r=Q||r}let v=t.block||t.inline||"span",T;const k=AW(t.selector);k.length>0?(k[0].name||(k[0].name=v),v=t.selector,T=QP(k,e)):T=QP([v],e);const B=Zd.select(v,T)[0]||T.firstChild;e4(t.styles,(Q,ce)=>{const ke=l(Q);ke&&Zd.setStyle(B,ce,ke)}),e4(t.attributes,(Q,ce)=>{const ke=l(Q);ke&&Zd.setAttrib(B,ce,ke)}),e4(t.classes,Q=>{const ce=l(Q);Zd.hasClass(B,ce)||Zd.addClass(B,ce)}),e.dispatch("PreviewFormats"),Zd.setStyles(T,{position:"absolute",left:-65535}),e.getBody().appendChild(T);const W=h("fontSize"),G=/px$/.test(W)?parseInt(W,10):0;return e4(r.split(" "),Q=>{let ce=h(Q,B);if(!(Q==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ce)&&(ce=h(Q),wc(ce).toLowerCase()==="#ffffff"))&&!(Q==="color"&&wc(ce).toLowerCase()==="#000000")){if(Q==="font-size"&&/em|%$/.test(ce)){if(G===0)return;ce=parseFloat(ce)/(/%$/.test(ce)?100:1)*G+"px"}Q==="border"&&ce&&(o+="padding:0 2px;"),o+=Q+":"+ce+";"}}),e.dispatch("AfterPreviewFormats"),Zd.remove(T),o},DW=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},JP=e=>{const t=EW(e),o=Pn({});return DW(e),w8(e),v0(e)||Pk(o,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(r,l,h)=>{Em(e,r,l,h)},remove:(r,l,h,v)=>{yE(e,r,l,h,v)},toggle:(r,l,h)=>{Tm(e,r,l,h)},match:(r,l,h,v)=>CP(e,r,l,h,v),closest:r=>x0(e,r),matchAll:(r,l)=>bE(e,r,l),matchNode:(r,l,h,v)=>IZ(e,r,l,h,v),canApply:r=>HZ(e,r),formatChanged:(r,l,h,v)=>zZ(e,o,r,l,h,v),getCssText:ee(kW,e)}},eF=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},_W=(e,t,o)=>{const r=Pn(!1),l=k=>{uv(t,!1,o),t.add({},k)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",k=>{const B=k.command;eF(B)||(jk(t,o),t.beforeChange())}),e.on("ExecCommand",k=>{const B=k.command;eF(B)||l(k)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("dragend",l),e.on("keyup",k=>{const B=k.keyCode;if(k.isDefaultPrevented())return;const W=ds.os.isMacOS()&&k.key==="Meta";(B>=33&&B<=36||B>=37&&B<=40||B===45||k.ctrlKey||W)&&(l(),e.nodeChanged()),(B===46||B===8)&&e.nodeChanged(),r.get()&&t.typing&&!Hw(e.readonly,mE(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",k=>{const B=k.keyCode;if(k.isDefaultPrevented())return;if(B>=33&&B<=36||B>=37&&B<=40||B===45){t.typing&&l(k);return}const W=k.ctrlKey&&!k.altKey||k.metaKey;if((B<16||B>20)&&B!==224&&B!==91&&!t.typing&&!W){t.beforeChange(),uv(t,!0,o),t.add({},k),r.set(!0);return}(ds.os.isMacOS()?k.metaKey:k.ctrlKey&&!k.altKey)&&t.beforeChange()}),e.on("mousedown",k=>{t.typing&&l(k)});const h=k=>k.inputType==="insertReplacementText",v=k=>k.inputType==="insertText"&&k.data===null,T=k=>k.inputType==="insertFromPaste"||k.inputType==="insertFromDrop";e.on("input",k=>{k.inputType&&(h(k)||v(k)||T(k))&&l(k)}),e.on("AddUndo Undo Redo ClearUndos",k=>{k.isDefaultPrevented()||e.nodeChanged()})},OW=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},RW=e=>{const t=Ps(),o=Pn(0),r=Pn(0),l={data:[],typing:!1,beforeChange:()=>{ap(e,o,t)},add:(h,v)=>xP(e,l,r,o,t,h,v),dispatchChange:()=>{e.setDirty(!0);const h=mE(e);h.bookmark=ff(e.selection),e.dispatch("change",{level:h,lastLevel:Xs(l.data,r.get()).getOrUndefined()})},undo:()=>u5(e,l,o,r),redo:()=>d5(e,r,l.data),clear:()=>{Uk(e,l,r)},reset:()=>{FZ(e,l)},hasUndo:()=>wP(e,l,r),hasRedo:()=>pE(e,l,r),transact:h=>$Z(e,l,o,h),ignore:h=>{Zk(e,o,h)},extra:(h,v)=>{f5(e,l,r,h,v)}};return v0(e)||_W(e,l,o),OW(e),l},NW=[9,27,Ln.HOME,Ln.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Ln.DOWN,Ln.UP,Ln.LEFT,Ln.RIGHT].concat(ds.browser.isFirefox()?[224]:[]),tF="data-mce-placeholder",nF=e=>e.type==="keydown"||e.type==="keyup",oF=e=>{const t=e.keyCode;return t===Ln.BACKSPACE||t===Ln.DELETE},MW=e=>{if(nF(e)){const t=e.keyCode;return!oF(e)&&(Ln.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||Ne(NW,t))}else return!1},BW=e=>nF(e)&&!(oF(e)||e.type==="keyup"&&e.keyCode===229),hv=(e,t,o)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const r=t.firstElementChild;return r?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},LW=e=>{const t=e.dom,o=pl(e),r=oS(e)??"",l=(h,v)=>{if(MW(h))return;const T=e.getBody(),k=BW(h)?!1:hv(t,T,o);(t.getAttrib(T,tF)!==""!==k||v)&&(t.setAttrib(T,tF,k?r:null),GC(e,k),e.on(k?"keydown":"keyup",l),e.off(k?"keyup":"keydown",l))};Hr(r)&&e.on("init",h=>{l(h,!0),e.on("change SetContent ExecCommand",l),e.on("paste",v=>Qg.setEditorTimeout(e,()=>l(v)))})},PW=e=>t=>qe(t)&&t.nodeName.toLowerCase()===e,qw=e=>t=>qe(t)&&e.test(t.nodeName),C0=e=>qe(e)&&e.nodeType===3,t4=e=>qe(e)&&e.nodeType===1,ag=qw(/^(OL|UL|DL)$/),FW=qw(/^(OL|UL)$/),n4=qw(/^(LI|DT|DD)$/),$W=qw(/^(DT|DD)$/),Y2=PW("br"),IW=e=>e.parentNode?.firstChild===e,Z5=(e,t)=>qe(t)&&t.nodeName in e.schema.getTextBlockElements(),W5=(e,t)=>qe(e)&&e.nodeName in t,HW=(e,t)=>qe(t)&&t.nodeName in e.schema.getVoidElements(),zW=(e,t)=>Y2(t)?e.isBlock(t.nextSibling)&&!Y2(t.previousSibling):!1,X2=(e,t,o)=>{const r=e.isEmpty(t);return o&&e.select("span[data-mce-type=bookmark]",t).length>0?!1:r},sF=(e,t)=>e.isChildOf(t,e.getRoot()),rF=hs.DOM,VW=(e,t)=>{const o=t.parentElement;if(o&&o.nodeName==="LI"&&o.firstChild===t){const r=o.previousSibling;r&&r.nodeName==="LI"?(r.appendChild(t),X2(e,o)&&rF.remove(o)):rF.setStyle(o,"listStyleType","none")}if(ag(o)){const r=o.previousSibling;r&&r.nodeName==="LI"&&r.appendChild(t)}},q5=(e,t)=>{const o=an.grep(e.select("ol,ul",t));an.each(o,r=>{VW(e,r)})},aF=(e,t)=>{if(C0(e))return{container:e,offset:t};const o=f0.getNode(e,t);return C0(o)?{container:o,offset:t>=e.childNodes.length?o.data.length:0}:o.previousSibling&&C0(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&C0(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:t}},G5=e=>{const t=e.cloneRange(),o=aF(e.startContainer,e.startOffset);t.setStart(o.container,o.offset);const r=aF(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},iF=["OL","UL","DL"],lF=iF.join(","),_E=(e,t)=>{const o=e.selection.getStart(!0);return e.dom.getParent(o,lF,OE(e,o))},cF=(e,t)=>qe(e)&&t.length===1&&t[0]===e,jW=e=>yt(e.querySelectorAll(lF),ag),UW=e=>{const t=_E(e),o=e.selection.getSelectedBlocks();return cF(t,o)?jW(t):yt(o,r=>ag(r)&&t!==r)},ZW=(e,t)=>{const o=an.map(t,r=>{const l=e.dom.getParent(r,"li,dd,dt",OE(e,r));return l||r});return Ma(o)},K5=e=>{const t=e.selection.getSelectedBlocks();return yt(ZW(e,t),n4)},WW=e=>yt(K5(e),$W),Y5=(e,t)=>{const o=e.dom.getParents(t,"TD,TH");return o.length>0?o[0]:e.getBody()},qW=(e,t)=>!ag(t)&&!n4(t)&&Ge(iF,o=>e.isValidChild(t.nodeName,o)),OE=(e,t)=>{const o=e.dom.getParents(t,e.dom.isBlock),r=h=>h.nodeName.toLowerCase()!==pl(e);return sn(o,h=>r(h)&&qW(e.schema,h)).getOr(e.getBody())},uF=e=>Zi(e).exists(t=>n4(t.dom)&&ri(t).exists(o=>!ag(o.dom))&&ai(t).exists(o=>!ag(o.dom))),dF=(e,t)=>{const o=e.dom.getParents(t,"ol,ul",OE(e,t));return Wr(o)},GW=e=>{const t=dF(e,e.selection.getStart()),o=yt(e.selection.getSelectedBlocks(),FW);return t.toArray().concat(o)},KW=e=>{const t=e.selection.getStart();return e.dom.getParents(t,"ol,ul",OE(e,t))},YW=e=>{const t=GW(e),o=KW(e);return sn(o,r=>uF(De.fromDom(r))).fold(()=>XW(e,t),r=>[r])},XW=(e,t)=>{const o=tt(t,r=>dF(e,r).getOr(r));return Ma(o)},o4=e=>/\btox\-/.test(e.className),fF=(e,t)=>t!==null&&!e.dom.isEditable(t),QW=e=>{const t=_E(e);return fF(e,t)||!e.selection.isEditable()},X5=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return fF(e,o)||!e.selection.isEditable()},gv=(e,t,o)=>e.dispatch("ListMutation",{action:t,element:o}),Q5=(e,t,o={})=>{const r=e.dom,l=e.schema.getBlockElements(),h=r.createFragment(),v=pl(e),T=th(e);let k,B,W=!1;for(B=r.create(v,{...T,...o.style?{style:o.style}:{}}),W5(t.firstChild,l)||h.appendChild(B);k=t.firstChild;){const G=k.nodeName;!W&&(G!=="SPAN"||k.getAttribute("data-mce-type")!=="bookmark")&&(W=!0),W5(k,l)?(h.appendChild(k),B=null):(B||(B=r.create(v,T),h.appendChild(B)),B.appendChild(k))}return!W&&B&&B.appendChild(r.create("br",{"data-mce-bogus":"1"})),h},Gw=e=>Sh(e,"OL,UL"),$ne=e=>Sh(e,"LI"),J5=e=>ri(e).exists(Gw),JW=e=>ai(e).exists(Gw),mF=(e,t)=>pS(e).map(o=>o>=t).getOr(!0),Q2=e=>"listAttributes"in e,hF=e=>"isComment"in e,eq=e=>"isFragment"in e,gF=e=>e.depth>0,tq=e=>e.isSelected,nq=e=>{const t=ma(e),o=JW(e)?t.slice(0,-1):t;return tt(o,_f)},eR=(e,t,o)=>Zi(e).filter(fa).map(r=>({depth:t,dirty:!1,isSelected:o,content:nq(e),itemAttributes:cs(e),listAttributes:cs(r),listType:rs(r),isInPreviousLi:!1})),s4=(e,t)=>{$s(e.item,t.list)},oq=e=>{for(let t=1;t<e.length;t++)s4(e[t-1],e[t])},pF=(e,t)=>{Bn(Wr(e),gs(t),s4)},sq=(e,t)=>{const o={list:De.fromTag(t,e),item:De.fromTag("li",e)};return $s(o.list,o.item),o},rq=(e,t,o)=>{const r=[];for(let l=0;l<o;l++)r.push(sq(e,Q2(t)?t.listType:t.parentListType));return r},aq=(e,t)=>{for(let o=0;o<e.length-1;o++)Bl(e[o].item,"list-style-type","none");Wr(e).each(o=>{Q2(t)&&(Wa(o.list,t.listAttributes),Wa(o.item,t.itemAttributes)),hc(o.item,t.content)})},iq=(e,t)=>{rs(e.list)!==t.listType&&(e.list=qa(e.list,t.listType)),Wa(e.list,t.listAttributes)},lq=(e,t,o)=>{const r=De.fromTag("li",e);return Wa(r,t),hc(r,o),r},cq=(e,t)=>{$s(e.list,t),e.item=t},bF=(e,t,o)=>{const r=t.slice(0,o.depth);return Wr(r).each(l=>{if(Q2(o)){const h=lq(e,o.itemAttributes,o.content);cq(l,h),iq(l,o)}else if(eq(o))hc(l.item,o.content);else{const h=De.fromHtml(`<!--${o.content}-->`);$s(l.list,h)}}),r},uq=(e,t,o)=>{const r=rq(e,o,o.depth-t.length);return oq(r),aq(r,o),pF(t,r),t.concat(r)},dq=(e,t)=>{let o=X.none();const r=Le(t,(l,h,v)=>hF(h)?v===0?(o=X.some(h),l):bF(e,l,h):h.depth>l.length?uq(e,l,h):bF(e,l,h),[]);return o.each(l=>{const h=De.fromHtml(`<!--${l.content}-->`);gs(r).each(v=>{Jd(v.list,h)})}),gs(r).map(l=>l.list)},fq=(e,t,o)=>{switch(t){case"Indent":if(mF(e,o.depth))o.depth++;else return;break;case"Outdent":o.depth--;break;case"Flatten":o.depth=0}o.dirty=!0},tR=(e,t)=>{Q2(e)&&Q2(t)&&(e.listType=t.listType,e.listAttributes={...t.listAttributes})},mq=e=>{e.listAttributes=Yn(e.listAttributes,(t,o)=>o!=="start")},hq=(e,t)=>{const o=e[t].depth,r=h=>h.depth===o&&!h.dirty,l=h=>h.depth<o;return Tt(Ho(e.slice(0,t)),r,l).orThunk(()=>Tt(e.slice(t+1),r,l))},yF=e=>(Be(e,(t,o)=>{hq(e,o).fold(()=>{t.dirty&&Q2(t)&&mq(t)},r=>tR(t,r))}),e),vF=(e,t,o,r)=>{if(vd(r))return[{depth:e+1,content:r.dom.nodeValue??"",dirty:!1,isSelected:!1,isComment:!0}];t.each(v=>{ss(v.start,r)&&o.set(!0)});const l=eR(r,e,o.get());t.each(v=>{ss(v.end,r)&&o.set(!1)});const h=ai(r).filter(Gw).map(v=>RE(e,t,o,v)).getOr([]);return l.toArray().concat(h)},gq=(e,t,o,r)=>ri(r).filter(Gw).fold(()=>vF(e,t,o,r),l=>{const h=Le(ma(r),(v,T,k)=>{if(k===0)return v;if($ne(T))return v.concat(vF(e,t,o,T));{const B={isFragment:!0,depth:e,content:[T],isSelected:!1,dirty:!1,parentListType:rs(l)};return v.concat(B)}},[]);return RE(e,t,o,l).concat(h)}),RE=(e,t,o,r)=>ko(ma(r),l=>{const h=Gw(l)?RE:gq,v=e+1;return h(v,t,o,l)}),J2=(e,t)=>{const o=Pn(!1),r=0;return tt(e,l=>({sourceList:l,entries:RE(r,t,o,l)}))},xF=(e,t)=>{const o=yF(t);return tt(o,r=>{const l=hF(r)?_u([De.fromHtml(`<!--${r.content}-->`)]):_u(r.content),h=Q2(r)?r.itemAttributes:{};return De.fromDom(Q5(e,l.dom,h))})},pq=(e,t)=>{const o=yF(t);return dq(e.contentDocument,o).toArray()},bq=(e,t)=>ko(Un(t,gF),o=>gs(o).exists(gF)?pq(e,o):xF(e,o)),yq=(e,t,o)=>{Be(yt(t,tq),r=>fq(e,o,r))},vq=e=>{const t=tt(K5(e),De.fromDom);return Bn(sn(t,Me(J5)),sn(Ho(t),Me(J5)),(o,r)=>({start:o,end:r}))},Kw=(e,t,o)=>{const r=J2(t,vq(e));Be(r,l=>{yq(e,l.entries,o);const h=bq(e,l.entries);Be(h,v=>{gv(e,o==="Indent"?"IndentList":"OutdentList",v.dom)}),Bm(l.sourceList,h),ws(l.sourceList)})},xq=e=>pS(e).forall(t=>{const o=e.selection.getSelectedBlocks();return Ge(o,r=>El(De.fromDom(r),"li").forall(l=>We(l,"ol,ul").length<=t))}),E1=hs.DOM,nR=(e,t,o)=>{const r=B=>{const W=B.parentNode;W&&an.each(l,G=>{W.insertBefore(G,o.parentNode)}),E1.remove(B)},l=E1.select('span[data-mce-type="bookmark"]',t),h=Q5(e,o),v=E1.createRng();v.setStartAfter(o),v.setEndAfter(t);const T=v.extractContents();for(let B=T.firstChild;B;B=B.firstChild)if(B.nodeName==="LI"&&e.dom.isEmpty(B)){E1.remove(B);break}e.dom.isEmpty(T)||E1.insertAfter(T,t),E1.insertAfter(h,t);const k=o.parentElement;k&&X2(e.dom,k)&&r(k),E1.remove(o),X2(e.dom,t)&&E1.remove(t)},wq=Pa("dd"),oR=Pa("dt"),r4=(e,t)=>{wq(t)?qa(t,"dt"):oR(t)&&Qc(t).each(o=>nR(e,o.dom,t.dom))},Cq=e=>{oR(e)&&qa(e,"dd")},Sq=(e,t,o)=>{t==="Indent"?Be(o,Cq):Be(o,r=>r4(e,r))},Eq=(e,t)=>{const o=Cd(YW(e)),r=Cd(WW(e));let l=!1;if(o.length||r.length){const h=e.selection.getBookmark();Kw(e,o,t),Sq(e,t,r),e.selection.moveToBookmark(h),e.selection.setRng(G5(e.selection.getRng())),e.nodeChanged(),l=!0}return l},sR=(e,t)=>!QW(e)&&Eq(e,t),wF=e=>sR(e,"Indent"),NE=e=>sR(e,"Outdent"),a4=e=>sR(e,"Flatten"),Yw=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Tq=(e,t,o)=>{const r=o["list-style-type"]?o["list-style-type"]:null;e.setStyle(t,"list-style-type",r)},CF=(e,t)=>{an.each(t,(o,r)=>{e.setAttribute(r,o)})},Aq=(e,t,o)=>{CF(t,o["list-attributes"]),an.each(e.select("li",t),r=>{CF(r,o["list-item-attributes"])})},Xw=(e,t,o)=>{Tq(e,t,o),Aq(e,t,o)},kq=(e,t,o)=>{an.each(o,r=>e.setStyle(t,r,""))},i4=(e,t)=>qe(t)&&!W5(t,e.schema.getBlockElements()),rR=(e,t,o,r)=>{let l=t[o?"startContainer":"endContainer"];const h=t[o?"startOffset":"endOffset"];t4(l)&&(l=l.childNodes[Math.min(h,l.childNodes.length-1)]||l),!o&&Y2(l.nextSibling)&&(l=l.nextSibling);const v=k=>{for(;!e.dom.isBlock(k)&&k.parentNode&&r!==k;)k=k.parentNode;return k},T=(k,B)=>{const W=new Ka(k,v(k)),G=B?"next":"prev";let Q;for(;Q=W[G]();)if(!(HW(e,Q)||Si(Q.textContent)||Q.textContent?.length===0))return X.some(Q);return X.none()};if(o&&C0(l))if(Si(l.textContent))l=T(l,!1).getOr(l);else for(l.parentNode!==null&&i4(e,l.parentNode)&&(l=l.parentNode);l.previousSibling!==null&&(i4(e,l.previousSibling)||C0(l.previousSibling));)l=l.previousSibling;if(!o&&C0(l))if(Si(l.textContent))l=T(l,!0).getOr(l);else for(l.parentNode!==null&&i4(e,l.parentNode)&&(l=l.parentNode);l.nextSibling!==null&&(i4(e,l.nextSibling)||C0(l.nextSibling));)l=l.nextSibling;for(;l.parentNode!==r;){const k=l.parentNode;if(Z5(e,l)||/^(TD|TH)$/.test(k.nodeName))return l;l=k}return l},Dq=(e,t,o)=>{const r=[],l=e.dom,h=rR(e,t,!0,o),v=rR(e,t,!1,o);let T;const k=[];for(let B=h;B&&(k.push(B),B!==v);B=B.nextSibling);return an.each(k,B=>{if(Z5(e,B)){r.push(B),T=null;return}if(l.isBlock(B)||Y2(B)){Y2(B)&&l.remove(B),T=null;return}const W=B.nextSibling;if(Ew.isBookmarkNode(B)&&(ag(W)||Z5(e,W)||!W&&B.parentNode===o)){T=null;return}T||(T=l.create("p"),B.parentNode?.insertBefore(T,B),r.push(T)),T.appendChild(B)}),r},_q=(e,t,o)=>{const r=e.getStyle(t,"list-style-type");let l=o?o["list-style-type"]:"";return l=l===null?"":l,r===l},Oq=(e,t)=>{const o=e.selection.getStart(!0),r=rR(e,t,!0,e.getBody());return as(De.fromDom(r),De.fromDom(t.commonAncestorContainer))?t.commonAncestorContainer:o},aR=(e,t,o)=>{const r=e.selection.getRng();let l="LI";const h=OE(e,Oq(e,r)),v=e.dom;if(v.getContentEditable(e.selection.getNode())==="false")return;t=t.toUpperCase(),t==="DL"&&(l="DT");const T=w1(r),k=yt(Dq(e,r,h),e.dom.isEditable);an.each(k,B=>{let W;const G=B.previousSibling,Q=B.parentNode;n4(Q)||(G&&ag(G)&&G.nodeName===t&&_q(v,G,o)?(W=G,B=v.rename(B,l),G.appendChild(B)):(W=v.create(t),Q.insertBefore(W,B),W.appendChild(B),B=v.rename(B,l)),kq(v,B,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Xw(v,W,o),iR(e.dom,W))}),e.selection.setRng(eg(T))},Rq=(e,t)=>ag(e)&&e.nodeName===t?.nodeName,SF=(e,t,o)=>{const r=e.getStyle(t,"list-style-type",!0),l=e.getStyle(o,"list-style-type",!0);return r===l},Nq=(e,t)=>e.className===t.className,EF=(e,t,o)=>Rq(t,o)&&SF(e,t,o)&&Nq(t,o),iR=(e,t)=>{let o,r=t.nextSibling;if(EF(e,t,r)){const l=r;for(;o=l.firstChild;)t.appendChild(o);e.remove(l)}if(r=t.previousSibling,EF(e,t,r)){const l=r;for(;o=l.lastChild;)t.insertBefore(o,t.firstChild);e.remove(l)}},Mq=(e,t,o,r)=>{if(t.nodeName!==o){const l=e.dom.rename(t,o);Xw(e.dom,l,r),gv(e,Yw(o),l)}else Xw(e.dom,t,r),gv(e,Yw(o),t)},Bq=(e,t,o,r)=>{if(t.classList.forEach((l,h,v)=>{l.startsWith("tox-")&&(v.remove(l),v.length===0&&t.removeAttribute("class"))}),t.nodeName!==o){const l=e.dom.rename(t,o);Xw(e.dom,l,r),gv(e,Yw(o),l)}else Xw(e.dom,t,r),gv(e,Yw(o),t)},lR=(e,t,o,r,l)=>{const h=ag(t);if(h&&t.nodeName===r&&!TF(l)&&!o4(t))a4(e);else{aR(e,r,l);const v=w1(e.selection.getRng()),T=h?[t,...o]:o,k=h&&o4(t)?Bq:Mq;an.each(T,B=>{k(e,B,r,l)}),e.selection.setRng(eg(v))}},TF=e=>"list-style-type"in e,Lq=(e,t,o,r)=>{if(t!==e.getBody())if(t)if(t.nodeName===o&&!TF(r)&&!o4(t))a4(e);else{const l=w1(e.selection.getRng());o4(t)&&t.classList.forEach((v,T,k)=>{v.startsWith("tox-")&&(k.remove(v),k.length===0&&t.removeAttribute("class"))}),Xw(e.dom,t,r);const h=e.dom.rename(t,o);iR(e.dom,h),e.selection.setRng(eg(l)),aR(e,o,r),gv(e,Yw(o),h)}else aR(e,o,r),gv(e,Yw(o),t)},cR=(e,t,o)=>{const r=_E(e);if(X5(e,r))return;const l=UW(e),h=vt(o)?o:{};l.length>0?lR(e,r,l,t,h):Lq(e,r,t,h)},AF=(e,t,o,r)=>{let l=t.startContainer;const h=t.startOffset;if(C0(l)&&(o?h<l.data.length:h>0))return l;const v=e.schema.getNonEmptyElements();t4(l)&&(l=f0.getNode(l,h));const T=new Ka(l,r);o&&zW(e.dom,l)&&T.next();const k=o?T.next.bind(T):T.prev2.bind(T);for(;l=k();)if(l.nodeName==="LI"&&!l.hasChildNodes()||v[l.nodeName]||C0(l)&&l.data.length>0)return l;return null},kF=(e,t)=>{const o=t.childNodes;return o.length===1&&!ag(o[0])&&e.isBlock(o[0])},Pq=e=>X.from(e).map(De.fromDom).filter(xd).exists(t=>Cr(t)&&!Ne(["details"],rs(t))),Fq=(e,t)=>{kF(e,t)&&Pq(t.firstChild)&&e.remove(t.firstChild,!0)},DF=(e,t,o)=>{let r;const l=kF(e,o)?o.firstChild:o;if(Fq(e,t),!X2(e,t,!0))for(;r=t.firstChild;)l.appendChild(r)},uR=(e,t,o)=>{let r;const l=t.parentNode;if(!sF(e,t)||!sF(e,o))return;ag(o.lastChild)&&(r=o.lastChild),l===o.lastChild&&Y2(l.previousSibling)&&e.remove(l.previousSibling);const h=o.lastChild;h&&Y2(h)&&t.hasChildNodes()&&e.remove(h),X2(e,o,!0)&&ql(De.fromDom(o)),DF(e,t,o),r&&o.appendChild(r);const T=mc(De.fromDom(o),De.fromDom(t))?e.getParents(t,ag,o):[];e.remove(t),Be(T,k=>{X2(e,k)&&k!==e.getRoot()&&e.remove(k)})},$q=(e,t,o)=>{ql(De.fromDom(o)),uR(e.dom,t,o),e.selection.setCursorLocation(o,0)},Iq=(e,t,o,r)=>{const l=e.dom;if(l.isEmpty(r))$q(e,o,r);else{const h=w1(t);uR(l,o,r),e.selection.setRng(eg(h))}},Hq=(e,t,o,r)=>{const l=w1(t);uR(e.dom,o,r);const h=eg(l);e.selection.setRng(h)},zq=(e,t)=>{const o=e.dom,r=e.selection,l=r.getStart(),h=Y5(e,l),v=o.getParent(r.getStart(),"LI",h);if(v){const T=v.parentElement;if(T===e.getBody()&&X2(o,T))return!0;const k=G5(r.getRng()),B=o.getParent(AF(e,k,t,h),"LI",h),W=B&&(t?o.isChildOf(v,B):o.isChildOf(B,v));if(B&&B!==v&&!W)return e.undoManager.transact(()=>{t?Iq(e,k,B,v):IW(v)?NE(e):Hq(e,k,v,B)}),!0;if(W&&!t&&B!==v){const G=k.commonAncestorContainer.parentElement;return!G||o.isChildOf(B,G)?!1:(e.undoManager.transact(()=>{const Q=w1(k);DF(o,G,B),G.remove();const ce=eg(Q);e.selection.setRng(ce)}),!0)}else if(!B&&!t&&k.startOffset===0&&k.endOffset===0)return e.undoManager.transact(()=>{a4(e)}),!0}return!1},Vq=(e,t,o)=>{const r=e.getParent(t.parentNode,e.isBlock,o);e.remove(t),r&&e.isEmpty(r)&&e.remove(r)},jq=(e,t)=>{const o=e.dom,r=e.selection.getStart(),l=Y5(e,r),h=o.getParent(r,o.isBlock,l);if(h&&o.isEmpty(h,void 0,{checkRootAsContent:!0})){const v=G5(e.selection.getRng()),T=AF(e,v,t,l),k=o.getParent(T,"LI",l);if(T&&k){const B=ce=>Ne(["td","th","caption"],rs(ce)),W=ce=>ce.dom===l,G=nr(De.fromDom(k),B,W),Q=nr(De.fromDom(v.startContainer),B,W);return xo(G,Q,ss)?(e.undoManager.transact(()=>{const ce=k.parentNode;Vq(o,h,l),iR(o,ce),e.selection.select(T,!0),e.selection.collapse(t)}),!0):!1}}return!1},Uq=(e,t)=>zq(e,t)||jq(e,t),dR=e=>{const t=e.selection.getStart(),o=Y5(e,t),r=e.dom.getParent(t,"LI,DT,DD",o);return qe(r)||K5(e).length>0},Zq=e=>dR(e)?(e.undoManager.transact(()=>{let t=!0;const o=()=>t=!1;e.on("input",o),e.execCommand("Delete"),e.off("input",o),t&&e.dispatch("input"),q5(e.dom,e.getBody())}),!0):!1,fR=(e,t)=>{const o=e.selection;return!X5(e,o.getNode())&&(o.isCollapsed()?Uq(e,t):Zq(e))},Wq=(e,t)=>({block:e,position:t}),qq=(e,t)=>({from:e,to:t}),l4=(e,t)=>{const o=De.fromDom(e),r=De.fromDom(t.container());return I_(o,r).map(l=>Wq(l,t))},Gq=e=>!(mc(e.to.block,e.from.block)||mc(e.from.block,e.to.block)),Kq=e=>!ss(e.from.block,e.to.block),mR=(e,t)=>nr(t,l=>Vh(l)||Mu(l.dom),l=>ss(l,e)).filter(fa).getOr(e),Yq=(e,t)=>{const o=De.fromDom(e);return ss(mR(o,t.from.block),mR(o,t.to.block))},Xq=e=>na(e.from.block.dom)===!1&&na(e.to.block.dom)===!1,Qq=e=>{const t=o=>Sc(o)||Wt(o.dom)||fu(o);return t(e.from.block)&&t(e.to.block)},Jq=(e,t,o,r)=>la(r.position.getNode())&&!_a(e,r.block)?y(!1,r.block.dom).bind(l=>l.isEqual(r.position)?Zf(o,t,l).bind(h=>l4(t,h)):X.some(r)).getOr(r):r,hR=(e,t,o,r)=>{const l=l4(t,_t.fromRangeStart(r)),h=l.bind(v=>Zf(o,t,v.position).bind(T=>l4(t,T).map(k=>Jq(e,t,o,k))));return Bn(l,h,qq).filter(v=>Kq(v)&&Yq(t,v)&&Xq(v)&&Qq(v)&&Gq(v))},_F=(e,t,o,r)=>r.collapsed?hR(e,t,o,r):X.none(),Ine=(e,t)=>{const o=ma(e);return Zn(o,r=>t.isBlock(rs(r))).fold(at(o),r=>o.slice(0,r))},Qw=(e,t)=>{const o=Ine(e,t);return Be(o,ws),o},eG=(e,t,o)=>{const r=Jg(o,t);return sn(r.reverse(),l=>_a(e,l)).each(ws)},Hne=(e,t)=>yt(Wi(t),o=>!_a(e,o)).length===0,zne=(e,t,o,r,l)=>{if(_a(r,o))return jh(o),$(o.dom);Hne(r,l)&&_a(r,t)&&cl(l,De.fromTag("br"));const h=D(o.dom,_t.before(l.dom));return Be(Qw(t,r),v=>{cl(l,v)}),eG(r,e,t),h},Vne=(e,t)=>e.isInline(rs(t)),S0=(e,t,o,r)=>{if(_a(r,o)){if(_a(r,t)){const v=Dt((T=>{const k=(B,W)=>ri(B).fold(()=>W,G=>Vne(r,G)?k(G,W.concat(Ai(G))):W);return k(T,[])})(o),(T,k)=>(Ml(T,k),k),Fg());ql(t),$s(t,v)}return ws(o),$(t.dom)}const l=q(o.dom);return Be(Qw(t,r),h=>{$s(o,h)}),eG(r,e,t),l},ME=(e,t)=>{const o=Jg(t,e);return X.from(o[o.length-1])},E0=(e,t)=>mc(t,e)?ME(t,e):X.none(),pv=(e,t)=>{y(e,t.dom).bind(o=>X.from(o.getNode())).map(De.fromDom).filter(Fd).each(ws)},c4=(e,t,o,r)=>(pv(!0,t),pv(!1,o),E0(t,o).fold(ee(S0,e,t,o,r),ee(zne,e,t,o,r))),gR=(e,t,o,r,l)=>t?c4(e,r,o,l):c4(e,o,r,l),ex=(e,t)=>{const o=De.fromDom(e.getBody());return _F(e.schema,o.dom,t,e.selection.getRng()).map(l=>()=>{gR(o,t,l.from.block,l.to.block,e.schema).each(h=>{e.selection.setRng(h.toRange())})})},tG=(e,t,o)=>{const r=t.getRng();return Bn(I_(e,De.fromDom(r.startContainer)),I_(e,De.fromDom(r.endContainer)),(l,h)=>ss(l,h)?X.none():X.some(()=>{r.deleteContents(),gR(e,!0,l,h,o).each(v=>{t.setRng(v.toRange())})})).getOr(X.none())},pR=(e,t)=>{const o=De.fromDom(t),r=ee(ss,e);return kd(o,Vh,r).isSome()},jne=(e,t)=>pR(e,t.startContainer)||pR(e,t.endContainer),nG=(e,t)=>{const o=D(e.dom,_t.fromRangeStart(t)).isNone(),r=E(e.dom,_t.fromRangeEnd(t)).isNone();return!jne(e,t)&&o&&r},BE=e=>X.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),OF=e=>{const t=De.fromDom(e.getBody()),o=e.selection.getRng();return nG(t,o)?BE(e):tG(t,e.selection,e.schema)},tl=(e,t)=>e.selection.isCollapsed()?X.none():OF(e),Qb=(e,t,o,r,l)=>X.from(t._selectionOverrides.showCaret(e,o,r,l)),oG=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},T1=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?X.none():X.some(oG(t)),tx=(e,t,o)=>{const r=hw(1,e.getBody(),t),l=_t.fromRangeStart(r),h=l.getNode();if(Uf(h))return Qb(1,e,h,!l.isAtEnd(),!1);const v=l.getNode(!0);if(Uf(v))return Qb(1,e,v,!1,!1);const T=m0(e.dom.getRoot(),l.getNode());return Uf(T)?Qb(1,e,T,!1,o):X.none()},Jb=(e,t,o)=>t.collapsed?tx(e,t,o).getOr(t):t,sG=e=>Vb(e)||VS(e),rG=e=>v1(e)||jS(e),bR=(e,t)=>{dn(t)&&t.data.length===0&&e.remove(t)},u4=(e,t,o,r,l,h)=>{Qb(r,e,h.getNode(!l),l,!0).each(v=>{if(t.collapsed){const T=t.cloneRange();l?T.setEnd(v.startContainer,v.startOffset):T.setStart(v.endContainer,v.endOffset),T.deleteContents()}else t.deleteContents();e.selection.setRng(v)}),bR(e.dom,o)},RF=(e,t)=>{const o=e.selection.getRng();if(!dn(o.commonAncestorContainer))return X.none();const r=t?1:-1,l=Xh(e.getBody()),h=ee(pw,t?l.next:l.prev),v=t?sG:rG,T=g1(r,e.getBody(),o),k=h(T),B=k&&Jh(t,k);if(!B||!Yh(T,B))return X.none();if(v(B))return X.some(()=>u4(e,o,T.getNode(),r,t,B));const W=h(B);return W&&v(W)&&Yh(B,W)?X.some(()=>u4(e,o,T.getNode(),r,t,W)):X.none()},d4=(e,t)=>RF(e,t),yR=(e,t)=>{const o=e.getBody();return t?$(o).filter(Vb):q(o).filter(v1)},vR=e=>{const t=e.selection.getRng();return!t.collapsed&&(yR(e,!0).exists(o=>o.isEqual(_t.fromRangeStart(t)))||yR(e,!1).exists(o=>o.isEqual(_t.fromRangeEnd(t))))},xR=e=>qe(e)&&(Vh(De.fromDom(e))||fu(De.fromDom(e))),ch=hi.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),aG=(e,t)=>{const o=t.getNode(!e),r=e?"after":"before";return Cn(o)&&o.getAttribute("data-mce-caret")===r},iG=(e,t,o,r,l)=>{const h=v=>l.isInline(v.nodeName.toLowerCase())&&!qg(o,r,e);return gw(!t,o).fold(()=>gw(t,r).fold(Ze,h),h)},NF=(e,t,o,r,l)=>{const h=l.getNode(!o);return I_(De.fromDom(t),De.fromDom(r.getNode())).map(v=>_a(e,v)?ch.remove(v.dom):ch.moveToElement(h)).orThunk(()=>X.some(ch.moveToElement(h)))},MF=(e,t,o,r)=>Zf(t,e,o).bind(l=>xR(l.getNode())||iG(e,t,o,l,r)?X.none():t&&na(l.getNode())||!t&&na(l.getNode(!0))?NF(r,e,t,o,l):t&&v1(o)||!t&&Vb(o)?X.some(ch.moveToPosition(l)):X.none()),wR=(e,t)=>mn(t)?X.none():e&&na(t.nextSibling)?X.some(ch.moveToElement(t.nextSibling)):!e&&na(t.previousSibling)?X.some(ch.moveToElement(t.previousSibling)):X.none(),BF=(e,t,o)=>o.fold(r=>X.some(ch.remove(r)),r=>X.some(ch.moveToElement(r)),r=>qg(t,r,e)?X.none():X.some(ch.moveToPosition(r))),lG=(e,t,o,r)=>aG(t,o)?wR(t,o.getNode(!t)).orThunk(()=>MF(e,t,o,r)):MF(e,t,o,r).bind(l=>BF(e,o,l)),cG=(e,t,o,r)=>{const l=hw(t?1:-1,e,o),h=_t.fromRangeStart(l),v=De.fromDom(e);return!t&&v1(h)?X.some(ch.remove(h.getNode(!0))):t&&Vb(h)?X.some(ch.remove(h.getNode())):!t&&Vb(h)&&sk(v,h,r)?N6(v,h,r).map(T=>ch.remove(T.getNode())):t&&v1(h)&&M_(v,h,r)?PV(v,h,r).map(T=>ch.remove(T.getNode())):lG(e,t,h,r)},Jw=(e,t)=>o=>(e._selectionOverrides.hideFakeCaret(),x1(e,t,De.fromDom(o)),!0),LF=(e,t)=>o=>{const r=t?_t.before(o):_t.after(o);return e.selection.setRng(r.toRange()),!0},uG=e=>t=>(e.selection.setRng(t.toRange()),!0),CR=(e,t)=>X.from(m0(e.getBody(),t)),dG=(e,t)=>{const o=e.selection.getNode();return CR(e,o).filter(na).fold(()=>cG(e.getBody(),t,e.selection.getRng(),e.schema).map(r=>()=>r.fold(Jw(e,t),LF(e,t),uG(e))),()=>X.some(Pt))},PF=e=>{Be(kt(e,".mce-offscreen-selection"),ws)},fG=(e,t)=>{const o=e.selection.getNode();return na(o)&&!Rp(o)?CR(e,o.parentNode).filter(na).fold(()=>X.some(()=>{PF(De.fromDom(e.getBody())),x1(e,t,De.fromDom(e.selection.getNode())),X6(e)}),()=>X.some(Pt)):vR(e)?X.some(()=>{sj(e,e.selection.getRng(),De.fromDom(e.getBody()))}):X.none()},SR=e=>{const t=e.dom,o=e.selection,r=m0(e.getBody(),o.getNode());if(Mu(r)&&t.isBlock(r)&&t.isEmpty(r)){const l=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(l),o.setRng(_t.before(l).toRange())}return!0},f4=(e,t)=>e.selection.isCollapsed()?dG(e,t):fG(e,t),m4=(e,t)=>{const o=e.dom,r=o.getParent(e.selection.getStart(),o.isBlock),l=o.getParent(e.selection.getEnd(),o.isBlock),h=e.getBody();if(r?.nodeName?.toLowerCase()==="div"&&r&&l&&r===h.firstChild&&l===h.lastChild&&!o.isEmpty(h)){const T=r.cloneNode(!1),k=()=>{if(t?nj(e):$_(e),h.firstChild!==r){const B=w1(e.selection.getRng(),()=>document.createElement("span"));Array.from(h.childNodes).forEach(W=>T.appendChild(W)),h.appendChild(T),e.selection.setRng(eg(B))}};return X.some(k)}return X.none()},FF=(e,t)=>{const o=_t.fromRangeStart(e.selection.getRng());return Zf(t,e.getBody(),o).filter(r=>t?k_(r):T6(r)).bind(r=>ES(t?0:-1,r)).map(r=>()=>e.selection.select(r))},h4=(e,t)=>e.selection.isCollapsed()?FF(e,t):X.none(),nx=dn,$F=e=>nx(e)&&e.data[0]===Ii,IF=e=>nx(e)&&e.data[e.data.length-1]===Ii,HF=e=>(e.ownerDocument??document).createTextNode(Ii),ER=e=>{if(nx(e.previousSibling))return IF(e.previousSibling)||e.previousSibling.appendData(Ii),e.previousSibling;if(nx(e))return $F(e)||e.insertData(0,Ii),e;{const t=HF(e);return e.parentNode?.insertBefore(t,e),t}},LE=e=>{if(nx(e.nextSibling))return $F(e.nextSibling)||e.nextSibling.insertData(0,Ii),e.nextSibling;if(nx(e))return IF(e)||e.appendData(Ii),e;{const t=HF(e);return e.nextSibling?e.parentNode?.insertBefore(t,e.nextSibling):e.parentNode?.appendChild(t),t}},bv=(e,t)=>e?ER(t):LE(t),TR=ee(bv,!0),zF=ee(bv,!1),AR=(e,t)=>dn(e.container())?bv(t,e.container()):bv(t,e.getNode()),PE=(e,t)=>{const o=t.get();return o&&e.container()===o&&pm(o)},kR=(e,t)=>t.fold(o=>{Lb(e.get());const r=TR(o);return e.set(r),X.some(_t(r,r.length-1))},o=>$(o).map(r=>{if(PE(r,e)){const l=e.get();return _t(l,1)}else{Lb(e.get());const l=AR(r,!0);return e.set(l),_t(l,1)}}),o=>q(o).map(r=>{if(PE(r,e)){const l=e.get();return _t(l,l.length-1)}else{Lb(e.get());const l=AR(r,!1);return e.set(l),_t(l,l.length-1)}}),o=>{Lb(e.get());const r=zF(o);return e.set(r),X.some(_t(r,1))}),VF=(e,t)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,t);if(r.isSome())return r}return X.none()},kc=hi.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),g4=(e,t)=>{const o=m1(t,e);return o||e},jF=(e,t,o)=>{const r=G6(o),l=g4(t,r.container());return sv(e,l,r).fold(()=>E(l,r).bind(ee(sv,e,l)).map(h=>kc.before(h)),X.none)},FE=(e,t)=>Ce(e,t)===null,DR=(e,t,o)=>sv(e,t,o).filter(ee(FE,t)),_R=(e,t,o)=>{const r=K6(o);return DR(e,t,r).bind(l=>D(l,r).isNone()?X.some(kc.start(l)):X.none())},UF=(e,t,o)=>{const r=G6(o);return DR(e,t,r).bind(l=>E(l,r).isNone()?X.some(kc.end(l)):X.none())},ZF=(e,t,o)=>{const r=K6(o),l=g4(t,r.container());return sv(e,l,r).fold(()=>D(l,r).bind(ee(sv,e,l)).map(h=>kc.after(h)),X.none)},WF=e=>!P_(OR(e)),T0=(e,t,o)=>VF([jF,_R,UF,ZF],[e,t,o]).filter(WF),OR=e=>e.fold(Qn,Qn,Qn,Qn),qF=e=>e.fold(at("before"),at("start"),at("end"),at("after")),p4=e=>e.fold(kc.before,kc.before,kc.after,kc.after),RR=e=>e.fold(kc.start,kc.start,kc.end,kc.end),NR=(e,t)=>qF(e)===qF(t)&&OR(e)===OR(t),mG=(e,t,o,r,l,h)=>Bn(sv(t,o,r),sv(t,o,l),(v,T)=>v!==T&&ej(o,v,T)?kc.after(e?v:T):h).getOr(h),GF=(e,t)=>e.fold(bt,o=>!NR(o,t)),hG=(e,t,o,r,l)=>{const h=Jh(e,l);return Zf(e,o,h).map(ee(Jh,e)).fold(()=>r.map(p4),k=>T0(t,o,k).map(ee(mG,e,t,o,h,k)).filter(ee(GF,r))).filter(WF)},gG=(e,t)=>e?t.fold(P(X.some,kc.start),X.none,P(X.some,kc.after),X.none):t.fold(X.none,P(X.some,kc.before),X.none,P(X.some,kc.end)),pG=(e,t,o,r)=>{const l=Jh(e,r),h=T0(t,o,l);return T0(t,o,l).bind(ee(gG,e)).orThunk(()=>hG(e,t,o,h,r))},bG=e=>Oe(e.selection.getSel().modify),KF=(e,t,o)=>{const r=e?1:-1;return t.setRng(_t(o.container(),o.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},yG=(e,t)=>{const o=t.selection.getRng(),r=e?_t.fromRangeEnd(o):_t.fromRangeStart(o);return bG(t)?e&&Wm(r)?KF(!0,t.selection,r):!e&&Ig(r)?KF(!1,t.selection,r):!1:!1};var A1;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(A1||(A1={}));const b4=(e,t)=>e===-1?Ho(t):t,vG=(e,t,o)=>e===1?t.next(o):t.prev(o),xG=(e,t,o,r)=>la(r.getNode(t===1))?A1.Br:qg(o,r)===!1?A1.Block:A1.Wrap,YF=(e,t,o,r)=>{const l=Xh(o);let h=r;const v=[];for(;h;){const T=vG(t,l,h);if(!T)break;if(la(T.getNode(!1)))return t===1?{positions:b4(t,v).concat([T]),breakType:A1.Br,breakAt:X.some(T)}:{positions:b4(t,v),breakType:A1.Br,breakAt:X.some(T)};if(!T.isVisible()){h=T;continue}if(e(h,T)){const k=xG(o,t,h,T);return{positions:b4(t,v),breakType:k,breakAt:X.some(T)}}v.push(T),h=T}return{positions:b4(t,v),breakType:A1.Eol,breakAt:X.none()}},MR=(e,t,o,r)=>t(o,r).breakAt.map(l=>{const h=t(o,l).positions;return e===-1?h.concat(l):[l].concat(h)}).getOr([]),BR=(e,t)=>Le(e,(o,r)=>o.fold(()=>X.some(r),l=>Bn(gs(l.getClientRects()),gs(r.getClientRects()),(h,v)=>{const T=Math.abs(t-h.left);return Math.abs(t-v.left)<=T?r:l}).or(o)),X.none()),ox=(e,t)=>gs(t.getClientRects()).bind(o=>BR(e,o.left)),zc=ee(YF,_t.isAbove,-1),$E=ee(YF,_t.isBelow,1),IE=ee(MR,-1,zc),yv=ee(MR,1,$E),y4=(e,t)=>zc(e,t).breakAt.isNone(),pf=(e,t)=>$E(e,t).breakAt.isNone(),sx=e=>$(e).map(t=>[t].concat($E(e,t).positions)).getOr([]),XF=e=>q(e).map(t=>zc(e,t).positions.concat(t)).getOr([]),QF=(e,t)=>ox(IE(e,t),t),LR=(e,t)=>ox(yv(e,t),t),wG=na,PR=(e,t)=>Math.abs(e.left-t),v4=(e,t)=>Math.abs(e.right-t),FR=e=>ls(e,"node"),JF=(e,t)=>Eu(e,(o,r)=>{const l=Math.min(PR(o,t),v4(o,t)),h=Math.min(PR(r,t),v4(r,t));return h===l&&FR(r)&&wG(r.node)||h<l?r:o}),CG=e=>{const t=o=>tt(o,r=>{const l=qm(r);return l.node=e,l});if(Cn(e))return t(e.getClientRects());if(dn(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),t(o.getClientRects())}else return[]},$R=e=>ko(e,CG);var bf;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(bf||(bf={}));const IR=(e,t,o,r)=>{let l=r;for(;l=T2(l,e,zf,t);)if(o(l))return},e7=(e,t,o,r,l,h)=>{let v=0;const T=[],k=G=>{let Q=$R([G]);e===bf.Up&&(Q=Q.reverse());for(let ce=0;ce<Q.length;ce++){const ke=Q[ce];if(!o(ke,B)){if(T.length>0&&t(ke,jl(T))&&v++,ke.line=v,l(ke))return!0;T.push(ke)}}return!1},B=jl(h.getClientRects());if(!B)return T;const W=h.getNode();return W&&(k(W),IR(e,r,k,W)),T},x4=(e,t)=>t.line>e,HR=(e,t)=>t.line===e,t7=ee(e7,bf.Up,Zh,Gm),n7=ee(e7,bf.Down,Gm,Zh),zR=e=>jl(e.getClientRects()),SG=(e,t,o,r)=>{const l=Xh(t);let h,v,T,k;const B=[];let W=0;e===bf.Down?(h=l.next,v=Gm,T=Zh,k=_t.after(r)):(h=l.prev,v=Zh,T=Gm,k=_t.before(r));const G=zR(k);do{if(!k.isVisible())continue;const Q=zR(k);if(T(Q,G))continue;B.length>0&&v(Q,jl(B))&&W++;const ce=qm(Q);if(ce.position=k,ce.line=W,o(ce))return B;B.push(ce)}while(k=h(k));return B},o7=e=>t=>x4(e,t),VR=e=>t=>HR(e,t),k1=(e,t)=>{e.selection.setRng(t),sh(e,e.selection.getRng())},jR=(e,t,o)=>X.some(Jb(e,t,o)),UR=(e,t)=>{const o=e.getNode(t===-1);return qe(o)&&Hl(o)?X.some(o):X.none()},s7=(e,t)=>{const o=e.dom.createRng();return o.selectNode(t),o},r7=(e,t,o,r,l,h)=>{const v=t===1,T=Xh(e.getBody()),k=ee(pw,v?T.next:T.prev),B=v?r:l;if(!o.collapsed){const ke=hl(o);if(h(ke))if(Hl(ke)){const ge=g1(t,e.getBody(),o);return X.from(k(ge)).map(Te=>Te.toRange())}else return Qb(t,e,ke,t===-1,!1);else if(vR(e)){const ge=o.cloneRange();return ge.collapse(t===-1),X.from(ge)}}const W=g1(t,e.getBody(),o);if(B(W))return T1(e,W.getNode(!v));let G=k(W);const Q=Ny(o);if(G)G=Jh(v,G);else return Q?X.some(o):X.none();if(B(G))return UR(G,t).fold(()=>Qb(t,e,G?.getNode(!v),v,!1),ke=>X.some(s7(e,ke)));const ce=k(G);return ce&&B(ce)&&Yh(G,ce)?UR(G,t).fold(()=>Qb(t,e,ce.getNode(!v),v,!1),ke=>X.some(s7(e,ke))):Q?jR(e,G.toRange(),!1):X.none()},a7=(e,t,o,r,l,h)=>{const v=g1(t,e.getBody(),o),T=jl(v.getClientRects()),k=t===bf.Down,B=e.getBody();if(!T)return X.none();if(vR(e)){const Te=k?_t.fromRangeEnd(o):_t.fromRangeStart(o);return(k?LR:QF)(B,Te).orThunk(()=>X.from(Te)).map(rt=>rt.toRange())}const G=(k?n7:t7)(B,o7(1),v),Q=yt(G,VR(1)),ce=T.left,ke=JF(Q,ce);if(ke&&h(ke.node)){const Te=Math.abs(ce-ke.left),ot=Math.abs(ce-ke.right);return Qb(t,e,ke.node,Te<ot,!1)}let ge;if(r(v)?ge=v.getNode():l(v)?ge=v.getNode(!0):ge=hl(o),ge){const Te=SG(t,B,o7(1),ge);let ot=JF(yt(Te,VR(1)),ce);if(ot||(ot=jl(yt(Te,VR(0))),ot))return jR(e,ot.position.toRange(),!1)}return Q.length===0?w4(e,k).filter(k?l:r).map(Te=>Jb(e,Te.toRange(),!1)):X.none()},w4=(e,t)=>{const o=e.selection.getRng(),r=t?_t.fromRangeEnd(o):_t.fromRangeStart(o),l=fw(r.container(),e.getBody());if(t){const h=$E(l,r);return Wr(h.positions)}else{const h=zc(l,r);return gs(h.positions)}},C4=(e,t,o)=>w4(e,t).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),eC=(e,t)=>{const o=e.dom.createRng();o.setStart(t.container(),t.offset()),o.setEnd(t.container(),t.offset()),e.selection.setRng(o)},ZR=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},S4=(e,t,o)=>kR(t,o).map(r=>(eC(e,r),o)),i7=(e,t,o)=>{const r=_t.fromRangeStart(e);if(e.collapsed)return r;{const l=_t.fromRangeEnd(e);return o?D(t,l).getOr(l):E(t,r).getOr(r)}},l7=(e,t,o)=>{const r=e.getBody(),l=i7(e.selection.getRng(),r,o),h=ee(M2,e);return pG(o,h,r,l).bind(T=>S4(e,t,T))},WR=(e,t,o)=>{const r=tt(kt(De.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),v=>v.dom),l=yt(r,e),h=yt(o,e);Be(os(l,h),ee(ZR,!1)),Be(os(h,l),ee(ZR,!0))},c7=(e,t)=>{const o=t.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=_t.fromRangeStart(e.selection.getRng());_t.isTextPosition(r)&&!tj(r)&&(eC(e,ID(o,r)),t.set(null))}},u7=(e,t,o,r)=>{if(t.selection.isCollapsed()){const l=yt(r,e);Be(l,h=>{const v=_t.fromRangeStart(t.selection.getRng());T0(e,t.getBody(),v).bind(T=>S4(t,o,T))})}},qR=(e,t,o)=>f1(e)?l7(e,t,o).isSome():!1,d7=(e,t,o)=>f1(t)?yG(e,t):!1,EG=e=>{const t=Pn(null),o=ee(M2,e);return e.on("NodeChange",r=>{f1(e)&&(WR(o,e.dom,r.parents),c7(e,t),u7(o,e,t,r.parents))}),t},E4=ee(d7,!0),TG=ee(d7,!1),vv=(e,t,o)=>{if(f1(e)){const r=w4(e,t).getOrThunk(()=>{const l=e.selection.getRng();return t?_t.fromRangeEnd(l):_t.fromRangeStart(l)});return T0(ee(M2,e),e.getBody(),r).exists(l=>{const h=p4(l);return kR(o,h).exists(v=>(eC(e,v),!0))})}else return!1},AG=(e,t)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(t.container(),t.offset()),o},kG=e=>Bn($(e),q(e),(t,o)=>{const r=Jh(!0,t),l=Jh(!1,o);return E(e,r).forall(h=>h.isEqual(l))}).getOr(!0),f7=(e,t)=>o=>kR(t,o).map(r=>()=>eC(e,r)),m7=(e,t,o,r)=>{const l=e.getBody(),h=ee(M2,e);e.undoManager.ignore(()=>{e.selection.setRng(AG(o,r)),$_(e),T0(h,l,_t.fromRangeStart(e.selection.getRng())).map(RR).bind(f7(e,t)).each(Bt)}),e.nodeChanged()},h7=(e,t)=>{const o=m1(t,e);return o||e},g7=(e,t,o,r)=>{const l=h7(e.getBody(),r.container()),h=ee(M2,e),v=T0(h,l,r);return v.bind(k=>o?k.fold(at(X.some(RR(k))),X.none,at(X.some(p4(k))),X.none):k.fold(X.none,at(X.some(p4(k))),X.none,at(X.some(RR(k))))).map(f7(e,t)).getOrThunk(()=>{const k=ev(o,l,r),B=k.bind(W=>T0(h,l,W));return Bn(v,B,()=>sv(h,l,r).bind(W=>kG(W)?X.some(()=>{x1(e,o,De.fromDom(W))}):X.none())).getOrThunk(()=>B.bind(()=>k.map(W=>()=>{o?m7(e,t,r,W):m7(e,t,W,r)})))})},GR=(e,t,o)=>{if(e.selection.isCollapsed()&&f1(e)){const r=_t.fromRangeStart(e.selection.getRng());return g7(e,t,o,r)}return X.none()},DG=e=>om(e)>1,p7=(e,t)=>{const o=De.fromDom(e.getBody()),r=De.fromDom(e.selection.getStart()),l=Jg(r,o);return Zn(l,t).fold(at(l),h=>l.slice(0,h))},_G=e=>om(e)===1,OG=e=>p7(e,t=>e.schema.isBlock(rs(t))||DG(t)),b7=e=>p7(e,t=>e.schema.isBlock(rs(t))),RG=(e,t)=>{const o=ee(S8,e);return ko(t,r=>o(r)?[r.dom]:[])},KR=e=>{const t=b7(e);return RG(e,t)},NG=(e,t,o,r)=>{const l=RG(t,r);if(l.length===0)x1(t,e,o);else{const h=nO(o.dom,l);t.selection.setRng(h.toRange())}},MG=(e,t)=>{const o=yt(OG(e),_G);return Wr(o).bind(r=>{const l=_t.fromRangeStart(e.selection.getRng());return Q6(t,l,r.dom)&&!n_(r)?X.some(()=>NG(t,e,r,o)):X.none()})},BG=(e,t)=>{const o=t.parentElement;return la(t)&&!ie(o)&&e.dom.isEmpty(o)},LG=e=>n_(De.fromDom(e)),y7=(e,t)=>{const o=e.selection.getStart(),r=BG(e,o)||LG(o)?nO(o,t):_j(e.selection.getRng(),t);e.selection.setRng(r.toRange())},v7=(e,t)=>{const o=os(t,KR(e));o.length>0&&y7(e,o)},YR=e=>dn(e.startContainer),PG=e=>e.startOffset===0&&YR(e),FG=(e,t)=>{const o=t.startContainer.parentElement;return!ie(o)&&S8(e,De.fromDom(o))},$G=e=>{const t=e.startContainer.parentNode,o=e.endContainer.parentNode;return!ie(t)&&!ie(o)&&t.isEqualNode(o)},IG=e=>{const t=e.endContainer;return e.endOffset===(dn(t)?t.length:t.childNodes.length)},HG=e=>$G(e)&&IG(e),zG=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),VG=e=>HG(e)||zG(e),jG=e=>{const t=e.selection.getRng();return PG(t)&&FG(e,t)&&VG(t)},UG=e=>{if(jG(e)){const t=KR(e);return X.some(()=>{$_(e),v7(e,t)})}else return X.none()},XR=(e,t)=>e.selection.isCollapsed()?MG(e,t):UG(e),x7=(e,t)=>wn(e,o=>de(o.dom),o=>t.isBlock(rs(o))),ZG=e=>x7(De.fromDom(e.selection.getStart()),e.schema),WG=e=>{const t=e.selection.getRng();return t.collapsed&&(YR(t)||e.dom.isEmpty(t.startContainer))&&!ZG(e)},HE=e=>(WG(e)&&y7(e,[]),!0),tC=(e,t,o)=>qe(o)?X.some(()=>{e._selectionOverrides.hideFakeCaret(),x1(e,t,De.fromDom(o))}):X.none(),qG=(e,t)=>{const o=t?VS:jS,l=g1(t?1:-1,e.getBody(),e.selection.getRng());return o(l)?tC(e,t,l.getNode(!t)):X.from(Jh(t,l)).filter(h=>o(h)&&Yh(l,h)).bind(h=>tC(e,t,h.getNode(!t)))},GG=(e,t)=>{const o=e.selection.getNode();return Rd(o)?tC(e,t,o):X.none()},T4=(e,t)=>e.selection.isCollapsed()?qG(e,t):GG(e,t),QR=e=>nr(e,t=>Mu(t.dom)||na(t.dom)).exists(t=>Mu(t.dom)),JR=e=>Ef(e??"").getOr(0),w7=(e,t)=>{const o=e||Fx(t)?"margin":"padding",r=ka(t,"direction")==="rtl"?"-right":"-left";return o+r},Une=(e,t,o,r,l,h)=>{const v=w7(o,De.fromDom(h)),T=JR(e.getStyle(h,v));if(t==="outdent"){const k=Math.max(0,T-r);e.setStyle(h,v,k?k+l:"")}else{const k=T+r+l;e.setStyle(h,v,k)}},KG=(e,t)=>mr(t,o=>{const r=w7(Jx(e),o),l=ui(o,r).map(JR).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&l>0}),C7=e=>{const t=S7(e);return!e.mode.isReadOnly()&&(t.length>1||KG(e,t))},YG=e=>!e.mode.isReadOnly()&&xq(e),nC=e=>$d(e)||fu(e),XG=e=>Zi(e).exists(nC),S7=e=>yt(Cd(e.selection.getSelectedBlocks()),t=>!nC(t)&&!XG(t)&&QR(t)),E7=(e,t)=>{if(e.mode.isReadOnly())return;const{dom:o}=e,r=bD(e),l=/[a-z%]+$/i.exec(r)?.[0]??"px",h=JR(r),v=Jx(e);Be(S7(e),T=>{Une(o,t,v,h,l,T.dom)}),t==="indent"?wF(e):NE(e)},T7=e=>E7(e,"indent"),ey=e=>E7(e,"outdent"),yf=e=>{if(e.selection.isCollapsed()&&C7(e)){const t=e.dom,o=e.selection.getRng(),r=_t.fromRangeStart(o),l=t.getParent(o.startContainer,t.isBlock);if(l!==null&&nk(De.fromDom(l),r,e.schema))return X.some(()=>ey(e))}return X.none()},A7=(e,t)=>{const o=bO(e.selection.getRng());return kz(o)?X.some(()=>x1(e,t,De.fromDom(e.selection.getNode()))):X.none()},rx=(e,t)=>e.selection.isCollapsed()?X.none():A7(e,t),ty=(e,t,o)=>$r([yf,f4,d4,(r,l)=>GR(r,t,l),ex,q_,h4,T4,tl,XR,m4,rx],r=>r(e,o)).filter(r=>e.selection.isEditable()),lp=(e,t)=>{ty(e,t,!1).fold(()=>{e.selection.isEditable()&&($_(e),X6(e))},Bt),dR(e)&&q5(e.dom,e.getBody())},zE=(e,t)=>{ty(e,t,!0).fold(()=>{e.selection.isEditable()&&nj(e)},Bt),dR(e)&&q5(e.dom,e.getBody())},eN=(e,t)=>{e.addCommand("delete",()=>{lp(e,t)}),e.addCommand("forwardDelete",()=>{zE(e,t)})},A4=5,k7=400,tN=e=>e.touches===void 0||e.touches.length!==1?X.none():X.some(e.touches[0]),QG=(e,t)=>{const o=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return o>A4||r>A4},JG=e=>{const t=Ps(),o=Pn(!1),r=Cu(l=>{e.dispatch("longpress",{...l,type:"longpress"}),o.set(!0)},k7);e.on("touchstart",l=>{tN(l).each(h=>{r.cancel();const v={x:h.clientX,y:h.clientY,target:l.target};r.throttle(l),o.set(!1),t.set(v)})},!0),e.on("touchmove",l=>{r.cancel(),tN(l).each(h=>{t.on(v=>{QG(h,v)&&(t.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",l=>{r.cancel(),l.type!=="touchcancel"&&t.get().filter(h=>h.target.isEqualNode(l.target)).each(()=>{o.get()?l.preventDefault():e.dispatch("tap",{...l,type:"tap"})})},!0)},k4=(e,t)=>Jn(e,t.nodeName),D7=(e,t)=>dn(t)?!0:Cn(t)?!k4(e.getBlockElements(),t)&&!xi(t)&&!Ya(e,t)&&!Z0(t)&&!Nh(t):!1,_7=(e,t,o)=>Ge(k6(De.fromDom(o),De.fromDom(t)),r=>k4(e,r.dom)),eK=(e,t)=>{if(dn(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||k4(e,t.nextSibling)||Z0(t.nextSibling)}return!1},O7=e=>e.dom.create(pl(e),th(e)),Zne=e=>{const t=e.dom,o=e.selection,r=e.schema,l=r.getBlockElements(),h=o.getStart(),v=e.getBody();let T,k,B=null;const W=pl(e);if(!h||!Cn(h))return;const G=v.nodeName.toLowerCase();if(!r.isValidChild(G,W.toLowerCase())||_7(l,v,h))return;if(v.firstChild===v.lastChild&&la(v.firstChild)){T=O7(e),T.appendChild(Fg().dom),v.replaceChild(T,v.firstChild),e.selection.setCursorLocation(T,0),e.nodeChanged();return}let Q=v.firstChild;for(;Q;)if(Cn(Q)&&yc(r,Q),D7(r,Q)){if(eK(l,Q)){k=Q,Q=Q.nextSibling,t.remove(k);continue}if(!T){if(!B&&e.hasFocus()&&(B=w1(e.selection.getRng(),()=>document.createElement("span"))),!Q.parentNode){Q=null;break}T=O7(e),v.insertBefore(T,Q)}k=Q,Q=Q.nextSibling,T.appendChild(k)}else T=null,Q=Q.nextSibling;B&&(e.selection.setRng(eg(B)),e.nodeChanged())},tK=(e,t,o)=>{const r=De.fromDom(O7(e)),l=Fg();$s(r,l),o(t,r);const h=document.createRange();return h.setStartBefore(l.dom),h.setEndBefore(l.dom),h},cp=e=>{e.on("NodeChange",()=>Zne(e))},R7=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,nK=(e,t,o)=>function(r){const l=arguments,h=l[l.length-2],v=h>0?t.charAt(h-1):"";if(v==='"')return r;if(v===">"){const T=t.lastIndexOf("<",h);if(T!==-1&&t.substring(T,h).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(l[0])+'">'+e.dom.encode(typeof l[1]=="string"?l[1]:l[0])+"</span>"},ax=(e,t,o)=>{let r=t.length,l=o.content;if(o.format!=="raw"){for(;r--;)l=l.replace(t[r],nK(e,l,v2(e)));o.content=l}},N7=(e,t)=>mr(e,o=>{const r=t.match(o);return r!==null&&r[0].length===t.length}),oK=e=>{const t="contenteditable",o=" "+an.trim(mA(e))+" ",r=" "+an.trim(v2(e))+" ",l=R7(o),h=R7(r),v=FD(e);v.length>0&&e.on("BeforeSetContent",T=>{ax(e,v,T)}),e.parser.addAttributeFilter("class",T=>{let k=T.length;for(;k--;){const B=T[k];l(B)?B.attr(t,"true"):h(B)&&B.attr(t,"false")}}),e.serializer.addAttributeFilter(t,T=>{let k=T.length;for(;k--;){const B=T[k];if(!l(B)&&!h(B))continue;const W=B.attr("data-mce-content");v.length>0&&W?N7(v,W)?(B.name="#text",B.type=3,B.raw=!0,B.value=W):B.remove():B.attr(t,null)}})},D4=e=>Ku(De.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),_4=(e,t)=>{t.hasAttribute("data-mce-caret")&&(df(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},M7=(e,t)=>{const o=D4(e);if(o){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),_4(e,o);return}Ry(o)&&(_4(e,o),e.undoManager.add())}},B7=e=>{e.on("keyup compositionstart",ee(M7,e))},L7=na,P7=(e,t,o)=>r7(t,e,o,Vb,v1,L7),F7=(e,t,o)=>a7(t,e,o,h=>Vb(h)||US(h),h=>v1(h)||D_(h),L7),$7=e=>{const t=e.dom.create(pl(e));return t.innerHTML='<br data-mce-bogus="1">',t},O4=(e,t,o)=>{const r=Xh(e.getBody()),l=ee(pw,t===1?r.next:r.prev);if(o.collapsed){const h=e.dom.getParent(o.startContainer,"PRE");if(!h)return;if(!l(_t.fromRangeStart(o))){const T=De.fromDom($7(e));t===1?Sl(De.fromDom(h),T):cl(De.fromDom(h),T),e.selection.select(T.dom,!0),e.selection.collapse()}}},sK=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return P7(o,e,r).orThunk(()=>(O4(e,o,r),X.none()))},rK=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return F7(o,e,r).orThunk(()=>(O4(e,o,r),X.none()))},aK=(e,t)=>{const o=t?e.getEnd(!0):e.getStart(!0);return P_(o)?!t:t},I7=(e,t)=>sK(e,aK(e.selection,t)).exists(o=>(k1(e,o),!0)),H7=(e,t)=>rK(e,t).exists(o=>(k1(e,o),!0)),z7=(e,t)=>C4(e,t,t?v1:Vb),R4=(e,t)=>yR(e,!t).map(o=>{const r=o.toRange(),l=e.selection.getRng();return t?r.setStart(l.startContainer,l.startOffset):r.setEnd(l.endContainer,l.endOffset),r}).exists(o=>(k1(e,o),!0)),V7=(e,t)=>{const o=v=>ss(v,t),r=v=>Mu(v.dom),l=De.fromDom(e.container());return nr(l,r,o).filter(v=>!o(v))},j7=(e,t,o)=>(o?LR:QF)(e.getBody(),t).map(l=>l.toRange()),iK=(e,t)=>{const o=_t.fromRangeStart(e.selection.getRng()),r=_t.fromRangeEnd(e.selection.getRng()),l=De.fromDom(e.getBody());return vs(Bn(V7(o,l),V7(r,l),(v,T)=>ss(v,T)?X.some(v):X.none())).fold(Ze,v=>t&&pf(v.dom,r)||!t&&y4(v.dom,o)?j7(e,t?r:o,t).exists(T=>(k1(e,T),!0)):!1)},D1=(e,t)=>iK(e,t),nN=e=>Ne(["figcaption"],rs(e)),lK=(e,t,o)=>{const r=ee(ss,t);return nr(De.fromDom(e.container()),l=>o.isBlock(rs(l)),r).filter(nN)},cK=(e,t,o)=>t?pf(e.dom,o):y4(e.dom,o),uK=(e,t)=>{const o=De.fromDom(e.getBody()),r=_t.fromRangeStart(e.selection.getRng());return lK(r,o,e.schema).exists(()=>{if(cK(o,t,r)){const h=tK(e,o,t?$s:Jd);return e.selection.setRng(h),!0}else return!1})},N4=(e,t)=>e.selection.isCollapsed()?uK(e,t):!1,oN=(e,t,o)=>{const r=e.selection.getRng(),l=_t.fromRangeStart(r);return e.getBody().firstChild===t&&y4(o,l)?(e.execCommand("InsertNewBlockBefore"),!0):!1},U7=(e,t)=>{const o=e.selection.getRng(),r=_t.fromRangeStart(o);return e.getBody().lastChild===t&&pf(t,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},Z7=(e,t)=>t?X.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>U7(e,o)).getOr(!1):X.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>X.from(e.dom.getParent(o,"details")).map(r=>oN(e,r,o))).getOr(!1),sN=(e,t)=>Z7(e,t),W7={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},VE=e=>tt(e,t=>({...W7,...t})),M4=e=>tt(e,t=>({...W7,...t})),rN=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,q7=(e,t)=>ko(VE(e),o=>rN(o,t)?[o]:[]),G7=(e,t)=>ko(M4(e),o=>rN(o,t)?[o]:[]),No=(e,...t)=>()=>e.apply(null,t),xv=(e,t)=>sn(q7(e,t),o=>o.action()),B4=(e,t)=>$r(G7(e,t),o=>o.action()),oC=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return r7(e,o,r,VS,jS,Rd).exists(l=>(k1(e,l),!0))},K7=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return a7(e,o,r,VS,jS,Rd).exists(l=>(k1(e,l),!0))},aN=(e,t)=>C4(e,t,t?jS:VS),dK=(e,t)=>Y7(e,t,bt),Y7=(e,t,o)=>ko(ma(e),r=>wl(r,t)?o(r)?[r]:[]:Y7(r,t,o)),X7=(e,t,o=Ze)=>{if(o(t))return X.none();if(Ne(e,rs(t)))return X.some(t);const r=l=>wl(l,"table")||o(l);return Da(t,e.join(","),r)},fK=(e,t)=>X7(["td","th"],e,t),Q7=e=>dK(e,"th,td"),mK=(e,t)=>El(e,"table",t),J7=hi.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),jE={...J7,none:e=>J7.none(e)},iN=(e,t,o,r,l=bt)=>{const h=r===1;if(!h&&o<=0)return jE.first(e[0]);if(h&&o>=e.length-1)return jE.last(e[e.length-1]);{const v=o+r,T=e[v];return l(T)?jE.middle(t,T):iN(e,t,v,r,l)}},e$=(e,t)=>mK(e,t).bind(o=>{const r=Q7(o);return Zn(r,h=>ss(e,h)).map(h=>({index:h,all:r}))}),hK=(e,t,o)=>e$(e,o).fold(()=>jE.none(e),l=>iN(l.all,e,l.index,1,t)),gK=(e,t,o)=>e$(e,o).fold(()=>jE.none(),l=>iN(l.all,e,l.index,-1,t));var lN=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],pK=()=>{const e=B=>De.fromDom(B.dom.cloneNode(!1)),t=B=>Xc(B).dom,o=B=>fa(B)?rs(B)==="body"?!0:Ne(lN,rs(B)):!1,r=B=>fa(B)?Ne(["br","img","hr","input"],rs(B)):!1,l=B=>fa(B)&&yr(B,"contenteditable")==="false",h=(B,W)=>B.dom.compareDocumentPosition(W.dom),v=(B,W)=>{const G=cs(B);Wa(W,G)},T=B=>{const W=rs(B);return Ne(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],W)},k=B=>fa(B)?ul(B,"lang"):X.none();return{up:at({selector:Da,closest:El,predicate:kd,all:ll}),down:at({selector:kt,predicate:xe}),styles:at({get:ka,getRaw:ui,set:Bl,remove:Sg}),attrs:at({get:yr,set:Or,remove:li,copyTo:v}),insert:at({before:cl,after:Sl,afterAll:Th,append:$s,appendAll:hc,prepend:Jd,wrap:Ml}),remove:at({unwrap:Gl,remove:ws}),create:at({nu:De.fromTag,clone:e,text:De.fromText}),query:at({comparePosition:h,prevSibling:Wu,nextSibling:Za}),property:at({children:ma,name:rs,parent:Zi,document:t,isText:xs,isComment:vd,isElement:fa,isSpecial:T,getLanguage:k,getText:bi,setText:Sp,isBoundary:o,isEmptyTag:r,isNonEditable:l}),eq:ss,is:Sh}};const _1=(e,t)=>({element:e,offset:t}),cN=(e,t)=>{if(e.property().isText(t))return _1(t,e.property().getText(t).length);{const o=e.property().children(t);return o.length>0?cN(e,o[o.length-1]):_1(t,o.length)}},L4=(e,t,o)=>{const r=e.property().children(t);return r.length>0&&o<r.length?L4(e,r[o],0):r.length>0&&e.property().isElement(t)&&r.length===o?cN(e,r[r.length-1]):_1(t,o)},t$=L4,uN=pK(),wv=(e,t)=>t$(uN,e,t),dN=us("image"),ig=e=>{const t=e;return X.from(t[dN])},ix=(e,t)=>{const o=e;o[dN]=t},P4=us("event"),fN=e=>{const t=e;return X.from(t[P4])},F4=e=>t=>{const o=t;o[P4]=e},n$=(e,t)=>F4(t)(e),o$=F4(0),bK=F4(2),yK=F4(1),vK=(e=>t=>{const o=t;return X.from(o[P4]).exists(r=>r===e)})(0),s$=()=>Object.freeze({length:0,item:e=>null}),mN=us("mode"),xK=e=>{const t=e;return X.from(t[mN])},ny=e=>t=>{const o=t;o[mN]=e},UE=(e,t)=>ny(t)(e),hN=ny(0),$4=ny(2),gN=ny(1),r$=e=>t=>{const o=t;return X.from(o[mN]).exists(r=>r===e)},sC=r$(0),a$=r$(1),i$=(e,t)=>({...t,get length(){return t.length},add:(o,r)=>{if(sC(e))if(J(o)){if(!Tn(r))return t.add(o,r)}else return t.add(o);return null},remove:o=>{sC(e)&&t.remove(o)},clear:()=>{sC(e)&&t.clear()}}),I4=["none","copy","link","move"],l$=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],rC=()=>{const e=new window.DataTransfer;let t="move",o="all";const r={get dropEffect(){return t},set dropEffect(l){Ne(I4,l)&&(t=l)},get effectAllowed(){return o},set effectAllowed(l){vK(r)&&Ne(l$,l)&&(o=l)},get items(){return i$(r,e.items)},get files(){return a$(r)?s$():e.files},get types(){return e.types},setDragImage:(l,h,v)=>{sC(r)&&(ix(r,{image:l,x:h,y:v}),e.setDragImage(l,h,v))},getData:l=>a$(r)?"":e.getData(l),setData:(l,h)=>{sC(r)&&e.setData(l,h)},clearData:l=>{sC(r)&&e.clearData(l)}};return hN(r),r},wK=e=>{const t=rC(),o=xK(e);return $4(e),o$(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,ig(e).each(r=>t.setDragImage(r.image,r.x,r.y)),Be(e.types,r=>{r!=="Files"&&t.setData(r,e.getData(r))}),Be(e.files,r=>t.items.add(r)),fN(e).each(r=>{n$(t,r)}),o.each(r=>{UE(e,r),UE(t,r)}),t},c$=e=>{const t=e.getData("text/html");return t===""?X.none():X.some(t)},u$=(e,t)=>e.setData("text/html",t),CK=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),SK=(e,t)=>ko(t,o=>{const r=CK(qm(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),d$=(e,t,o)=>Le(e,(r,l)=>r.fold(()=>X.some(l),h=>{const v=Math.sqrt(Math.abs(h.x-t)+Math.abs(h.y-o)),T=Math.sqrt(Math.abs(l.x-t)+Math.abs(l.y-o));return X.some(T<v?l:h)}),X.none()),f$=(e,t,o,r,l)=>{const h=kt(De.fromDom(o),"td,th,caption").map(T=>T.dom),v=yt(SK(e,h),T=>t(T,l));return d$(v,r,l).map(T=>T.cell)},EK=e=>e.bottom,m$=e=>e.top,ZE=(e,t)=>e.y<t,TK=(e,t)=>e.y>t,h$=ee(f$,EK,ZE),g$=ee(f$,m$,TK),p$=(e,t)=>gs(t.getClientRects()).bind(o=>h$(e,o.left,o.top)).bind(o=>ox(XF(o),t)),pN=(e,t)=>Wr(t.getClientRects()).bind(o=>g$(e,o.left,o.top)).bind(o=>ox(sx(o),t)),b$=(e,t,o)=>o.breakAt.exists(r=>e(t,r).breakAt.isSome()),AK=e=>e.breakType===A1.Wrap&&e.positions.length===0,y$=e=>e.breakType===A1.Br&&e.positions.length===1,v$=(e,t,o)=>{const r=e(t,o);return AK(r)||!la(o.getNode())&&y$(r)?!b$(e,t,r):r.breakAt.isNone()},kK=ee(v$,zc),DK=ee(v$,$E),bN=(e,t,o)=>{const r=_t.fromRangeStart(t);return y(!e,o).exists(l=>l.isEqual(r))},_K=(e,t,o,r)=>{const l=e.selection.getRng(),h=t?1:-1;return uw()&&bN(t,l,o)?(Qb(h,e,o,!t,!1).each(v=>{k1(e,v)}),!0):!1},OK=(e,t,o)=>p$(t,o).orThunk(()=>gs(o.getClientRects()).bind(r=>BR(IE(e,_t.before(t)),r.left))).getOr(_t.before(t)),H4=(e,t,o)=>pN(t,o).orThunk(()=>gs(o.getClientRects()).bind(r=>BR(yv(e,_t.after(t)),r.left))).getOr(_t.after(t)),x$=(e,t)=>{const o=t.getNode(e);return iu(o)?X.some(o):X.none()},yN=(e,t,o)=>{t.undoManager.transact(()=>{const r=e?Sl:cl,l=tK(t,De.fromDom(o),r);k1(t,l)})},vN=(e,t,o)=>{const r=x$(!!t,o),l=t===!1;r.fold(()=>k1(e,o.toRange()),h=>y(l,e.getBody()).filter(v=>v.isEqual(o)).fold(()=>k1(e,o.toRange()),v=>yN(t,e,h)))},w$=(e,t,o,r)=>{const l=e.selection.getRng(),h=_t.fromRangeStart(l),v=e.getBody();if(!t&&kK(r,h)){const T=OK(v,o,h);return vN(e,t,T),!0}else if(t&&DK(r,h)){const T=H4(v,o,h);return vN(e,t,T),!0}else return!1},xN=(e,t,o)=>X.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>X.from(e.dom.getParent(r,"table")).map(l=>o(e,t,l,r))).getOr(!1),C$=(e,t)=>xN(e,t,_K),wN=(e,t)=>xN(e,t,w$),RK=e=>{const t=Oh.exact(e,0,e,0);return rf(t)},NK=e=>aC(e)||Fs(e).some(t=>xd(t)&&aC(t)),WE=(e,t,o)=>o.fold(X.none,X.none,(r,l)=>im(l).map(h=>RK(h)),r=>e.mode.isReadOnly()||!MK(r)||!NK(r)?X.none():(e.execCommand("mceTableInsertRowAfter"),S$(e,t,r))),MK=e=>nr(e,Pa("table")).exists(Cr),S$=(e,t,o)=>WE(e,t,hK(o,aC)),BK=(e,t,o)=>WE(e,t,gK(o,aC)),aC=e=>Cr(e)||Fo(e,LK),LK=e=>xd(e)&&Cr(e),E$=(e,t)=>{const o=["table","li","dl"],r=De.fromDom(e.getBody()),l=T=>{const k=rs(T);return ss(T,r)||Ne(o,k)},h=e.selection.getRng(),v=De.fromDom(t?h.endContainer:h.startContainer);return fK(v,l).map(T=>(mK(T,l).each(W=>{e.model.table.clearSelectedCells(W.dom)}),e.selection.collapse(!t),(t?S$:BK)(e,l,T).each(W=>{e.selection.setRng(W)}),!0)).getOr(!1)},T$=(e,t,o)=>{const r=ds.os.isMacOS()||ds.os.isiOS(),l=ds.browser.isFirefox();xv([{keyCode:Ln.RIGHT,action:No(I7,e,!0)},{keyCode:Ln.LEFT,action:No(I7,e,!1)},{keyCode:Ln.UP,action:No(H7,e,!1)},{keyCode:Ln.DOWN,action:No(H7,e,!0)},...r?[{keyCode:Ln.UP,action:No(R4,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Ln.DOWN,action:No(R4,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Ln.RIGHT,action:No(C$,e,!0)},{keyCode:Ln.LEFT,action:No(C$,e,!1)},{keyCode:Ln.UP,action:No(wN,e,!1)},{keyCode:Ln.DOWN,action:No(wN,e,!0)},{keyCode:Ln.UP,action:No(wN,e,!1)},{keyCode:Ln.UP,action:No(sN,e,!1)},{keyCode:Ln.DOWN,action:No(sN,e,!0)},{keyCode:Ln.RIGHT,action:No(oC,e,!0)},{keyCode:Ln.LEFT,action:No(oC,e,!1)},{keyCode:Ln.UP,action:No(K7,e,!1)},{keyCode:Ln.DOWN,action:No(K7,e,!0)},{keyCode:Ln.RIGHT,action:No(qR,e,t,!0)},{keyCode:Ln.LEFT,action:No(qR,e,t,!1)},{keyCode:Ln.RIGHT,ctrlKey:!r,altKey:r,action:No(E4,e,t)},{keyCode:Ln.LEFT,ctrlKey:!r,altKey:r,action:No(TG,e,t)},{keyCode:Ln.UP,action:No(N4,e,!1)},{keyCode:Ln.DOWN,action:No(N4,e,!0)},...l?[{keyCode:Ln.UP,action:No(D1,e,!1)},{keyCode:Ln.DOWN,action:No(D1,e,!0)}]:[]],o).each(h=>{o.preventDefault()})},PK=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||T$(e,t,o)})},A0=(e,t)=>({container:e,offset:t}),z4=hs.DOM,V4=e=>t=>e===t?-1:0,FK=e=>t=>e.isBlock(t)||Ne(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",CN=(e,t,o)=>{if(dn(e)&&t>=0)return X.some(A0(e,t));{const r=du(z4);return X.from(r.backwards(e,t,V4(e),o)).map(l=>A0(l.container,l.container.data.length))}},SN=(e,t,o)=>{if(dn(e)&&t>=e.length)return X.some(A0(e,t));{const r=du(z4);return X.from(r.forwards(e,t,V4(e),o)).map(l=>A0(l.container,0))}},EN=(e,t,o)=>{if(!dn(e))return X.none();const r=e.data;if(t>=0&&t<=r.length)return X.some(A0(e,t));{const l=du(z4);return X.from(l.backwards(e,t,V4(e),o)).bind(h=>{const v=h.container.data;return EN(h.container,t+v.length,o)})}},TN=(e,t,o)=>{if(!dn(e))return X.none();const r=e.data;if(t<=r.length)return X.some(A0(e,t));{const l=du(z4);return X.from(l.forwards(e,t,V4(e),o)).bind(h=>TN(h.container,t-r.length,o))}},AN=(e,t,o,r,l)=>{const h=du(e,FK(e));return X.from(h.backwards(t,o,r,l))},$K=e=>e.collapsed&&dn(e.startContainer),IK=e=>Pc(e.toString().replace(/\u00A0/g," ")),A$=e=>e!==""&&` \uFEFF\f
\r	\v`.indexOf(e)!==-1,ic=(e,t)=>e.substring(t.length),HK=(e,t,o,r=!1)=>{let l;const h=o.charAt(0);for(l=t-1;l>=0;l--){const v=e.charAt(l);if(!r&&A$(v))return X.none();if(h===v&&Ir(e,o,l,t))break}return X.some(l)},kN=(e,t,o,r=!1)=>{if(!$K(t))return X.none();const l={text:"",offset:0},h=(T,k,B)=>(l.text=B+l.text,l.offset+=k,HK(l.text,l.offset,o,r).getOr(k)),v=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return AN(e,t.startContainer,t.startOffset,h,v).bind(T=>{const k=t.cloneRange();if(k.setStart(T.container,T.offset),k.setEnd(t.endContainer,t.endOffset),k.collapsed)return X.none();const B=IK(k);return B.lastIndexOf(o)!==0?X.none():X.some({text:ic(B,o),range:k,trigger:o})})},zK=e=>e.nodeType===P0,k$=e=>e.nodeType===Ch,j4=e=>{if(zK(e))return A0(e,e.data.length);{const t=e.childNodes;return t.length>0?j4(t[t.length-1]):A0(e,t.length)}},DN=(e,t)=>{const o=e.childNodes;return o.length>0&&t<o.length?DN(o[t],0):o.length>0&&k$(e)&&o.length===t?j4(o[o.length-1]):A0(e,t)},qE=(e,t)=>{const o=e.getParent(t.container,e.isBlock)??e.getRoot();return AN(e,t.container,t.offset,(r,l)=>l===0?-1:l,o).filter(r=>{const l=r.container.data.charAt(r.offset-1);return!A$(l)}).isSome()},VK=e=>t=>{const o=DN(t.startContainer,t.startOffset);return!qE(e,o)},jK=(e,t,o)=>$r(o.triggers,r=>kN(e,t,r)),UK=(e,t)=>{const o=t(),r=e.selection.getRng();return jK(e.dom,r,o).bind(l=>D$(e,t,l))},D$=(e,t,o,r={})=>{const l=t(),v=e.selection.getRng().startContainer.nodeValue??"",T=yt(l.lookupByTrigger(o.trigger),B=>o.text.length>=B.minChars&&B.matches.getOrThunk(()=>VK(e.dom))(o.range,v,o.text));if(T.length===0)return X.none();const k=Promise.all(tt(T,B=>B.fetch(o.text,B.maxResults,r).then(G=>({matchText:o.text,items:G,columns:B.columns,onAction:B.onAction,highlightOn:B.highlightOn}))));return X.some({lookupData:k,context:o})},ZK=UC("type"),WK=MT("fetch"),qK=MT("onAction"),GK=e=>Wy("columns",e),KK=js([ZK,UC("trigger"),lD("minChars",1),GK(1),lD("maxResults",10),vB("matches"),WK,qK,cD("highlightOn",[],C)]),YK=e=>hf("Autocompleter",KK,e),XK=()=>{const e={},t={},o={},r={},l={},h={},v={},T={},k={},B=(ce,ke)=>(ge,Te)=>{ce[ge.toLowerCase()]={...Te,type:ke}},W=(ce,ke)=>(ge,Te)=>{ce[ge.toLowerCase()]={type:ke,...Te}},G=(ce,ke)=>r[ce.toLowerCase()]=ke,Q=(ce,ke)=>v[ce.toLowerCase()]=ke;return{addButton:B(e,"button"),addGroupToolbarButton:B(e,"grouptoolbarbutton"),addToggleButton:B(e,"togglebutton"),addMenuButton:B(e,"menubutton"),addSplitButton:B(e,"splitbutton"),addMenuItem:B(t,"menuitem"),addNestedMenuItem:B(t,"nestedmenuitem"),addToggleMenuItem:B(t,"togglemenuitem"),addAutocompleter:B(o,"autocompleter"),addContextMenu:B(l,"contextmenu"),addContextToolbar:B(h,"contexttoolbar"),addContextForm:W(h,"contextform"),addSidebar:B(T,"sidebar"),addView:B(k,"views"),addIcon:G,addContext:Q,getAll:()=>({buttons:e,menuItems:t,icons:r,popups:o,contextMenus:l,contextToolbars:h,sidebars:T,views:k,contexts:v})}},QK=e=>{const t=e.ui.registry.getAll().popups,o=ci(t,v=>YK(v).fold(T=>{throw new Error(Jm(T))},Qn)),r=Tf(Gn(o,v=>v.trigger)),l=yo(o);return{dataset:o,triggers:r,lookupByTrigger:v=>yt(l,T=>T.trigger===v)}},JK=(e,t)=>{const o=Cu(t.load,50);e.on("input",r=>{r.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",r=>{const l=r.which;l===8?o.throttle():l===27?(o.cancel(),t.cancelIfNecessary()):(l===38||l===40)&&o.cancel()},!0),e.on("remove",o.cancel)},eY=e=>{const t=Ps(),o=Pn(!1),r=t.isSet,l=()=>{r()&&(u1(e),o.set(!1),t.clear())},h=G=>{r()||t.set({trigger:G.trigger,matchLength:G.text.length})},v=Ri(()=>QK(e)),T=G=>t.get().map(Q=>kN(e.dom,e.selection.getRng(),Q.trigger,!0).bind(ce=>D$(e,v,ce,G))).getOrThunk(()=>UK(e,v)),k=G=>{T(G).fold(l,Q=>{h(Q.context),Q.lookupData.then(ce=>{t.get().map(ke=>{const ge=Q.context;ke.trigger===ge.trigger&&(t.set({...ke,matchLength:ge.text.length}),o.get()?(YC(e,{range:ge.range}),d2(e,{lookupData:ce})):(o.set(!0),YC(e,{range:ge.range}),u2(e,{lookupData:ce})))})})})},B=(G,Q)=>{const ce=G.compareBoundaryPoints(window.Range.START_TO_START,Q),ke=G.compareBoundaryPoints(window.Range.END_TO_END,Q);return ce>=0&&ke<=0},W=()=>t.get().bind(({trigger:G})=>{const Q=e.selection.getRng();return kN(e.dom,Q,G,o.get()).filter(({range:ce})=>B(Q,ce)).map(({range:ce})=>ce)});e.addCommand("mceAutocompleterReload",(G,Q)=>{const ce=vt(Q)?Q.fetchOptions:{};k(ce)}),e.addCommand("mceAutocompleterClose",l),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{W().each(G=>{YC(e,{range:G})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>W().isSome()),JK(e,{cancelIfNecessary:l,load:k})},_$=bs().browser.isSafari(),_N=e=>jh(De.fromDom(e)),O$=(e,t)=>e.startOffset===0&&e.endOffset===t.textContent?.length,U4=(e,t)=>X.from(e.getParent(t.container(),"details")),R$=(e,t)=>U4(e,t).isSome(),nY=(e,t)=>{const o=X.from(e.getParent(t.startContainer,"details")),r=X.from(e.getParent(t.endContainer,"details"));if(o.isSome()||r.isSome()){const l=o.bind(h=>X.from(e.select("summary",h)[0]));return X.some({startSummary:l,startDetails:o,endDetails:r})}else return X.none()},N$=(e,t)=>$(t).exists(o=>o.isEqual(e)),oY=(e,t)=>q(t).exists(o=>la(o.getNode())&&D(t,o).exists(r=>r.isEqual(e))||o.isEqual(e)),M$=(e,t)=>t.startSummary.exists(o=>N$(e,o)),sY=(e,t)=>t.startSummary.exists(o=>oY(e,o)),B$=(e,t)=>t.startDetails.exists(o=>D(o,e).forall(r=>t.startSummary.exists(l=>!l.contains(e.container())&&l.contains(r.container())))),L$=(e,t,o)=>o.startDetails.exists(r=>E(e,t).forall(l=>!r.contains(l.container()))),P$=(e,t)=>{const o=t.getNode();Tn(o)||e.selection.setCursorLocation(o,t.offset())},F$=(e,t,o)=>{const r=e.dom.getParent(t.container(),"details");if(r&&!r.open){const l=e.dom.select("summary",r)[0];l&&(o?$(l):q(l)).each(v=>P$(e,v))}else P$(e,t)},rY=(e,t)=>{const o=k=>k.contains(e.startContainer),r=k=>k.contains(e.endContainer),l=t.startSummary.exists(o),h=t.startSummary.exists(r),v=t.startDetails.forall(k=>t.endDetails.forall(B=>k!==B));return(l||h)&&!(l&&h)||v},$$=(e,t,o)=>{const{dom:r,selection:l}=e,h=e.getBody();if(o==="character"){const v=_t.fromRangeStart(l.getRng()),T=r.getParent(v.container(),r.isBlock),k=U4(r,v),B=T&&r.isEmpty(T),W=ie(T?.previousSibling),G=ie(T?.nextSibling);return B&&(t?G:W)&&ev(!t,h,v).exists(ke=>R$(r,ke)&&!xo(k,U4(r,ke)))?!0:ev(t,h,v).fold(Ze,Q=>{const ce=U4(r,Q);if(R$(r,Q)&&!xo(k,ce)){if(t||F$(e,Q,!1),T&&B){if(t&&W)return!0;if(!t&&G)return!0;F$(e,Q,t),e.dom.remove(T)}return!0}else return!1})}else return!1},I$=(e,t,o,r)=>{const h=e.selection.getRng(),v=_t.fromRangeStart(h),T=e.getBody();return r==="selection"?rY(h,t):o?sY(v,t)||L$(T,v,t):M$(v,t)||B$(v,t)},aY=(e,t,o)=>nY(e.dom,e.selection.getRng()).fold(()=>$$(e,t,o),r=>I$(e,r,t,o)||$$(e,t,o)),iY=(e,t,o)=>{const r=e.selection,l=r.getNode(),h=r.getRng(),v=_t.fromRangeStart(h);return yy(l)?(o==="selection"&&O$(h,l)||Q6(t,v,l)?_N(l):e.undoManager.transact(()=>{const T=r.getSel();let{anchorNode:k,anchorOffset:B,focusNode:W,focusOffset:G}=T??{};const Q=()=>{qe(k)&&qe(B)&&qe(W)&&qe(G)&&T?.setBaseAndExtent(k,B,W,G)},ce=()=>{k=T?.anchorNode,B=T?.anchorOffset,W=T?.focusNode,G=T?.focusOffset},ke=(Te,ot)=>{Be(Te.childNodes,rt=>{NS(rt)&&ot.appendChild(rt)})},ge=e.dom.create("span",{"data-mce-bogus":"1"});ke(l,ge),l.appendChild(ge),Q(),(o==="word"||o==="line")&&T?.modify("extend",t?"right":"left",o),!r.isCollapsed()&&O$(r.getRng(),ge)?_N(l):(e.execCommand(t?"ForwardDelete":"Delete"),ce(),ke(ge,l),Q()),e.dom.remove(ge)}),!0):!1},Cv=(e,t,o)=>aY(e,t,o)||_$&&iY(e,t,o)?X.some(Pt):X.none(),H$=e=>(t,o,r={})=>{const l=t.getBody(),h={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:l,currentTarget:l,eventPhase:Event.AT_TARGET,originalTarget:l,explicitOriginalTarget:l,isTrusted:!1,srcElement:l,cancelable:!1,preventDefault:Pt,inputType:o},v=db(new InputEvent(e));return t.dispatch(e,{...v,...h,...r})},GE=H$("input"),KE=H$("beforeinput"),z$=bs(),V$=z$.os,j$=V$.isMacOS()||V$.isiOS(),U$=z$.browser.isFirefox(),cY=(e,t,o)=>{const r=o.keyCode===Ln.BACKSPACE?"deleteContentBackward":"deleteContentForward",l=e.selection.isCollapsed(),h=l?"character":"selection",v=T=>l?T?"word":"line":"selection";B4([{keyCode:Ln.BACKSPACE,action:No(yf,e)},{keyCode:Ln.BACKSPACE,action:No(f4,e,!1)},{keyCode:Ln.DELETE,action:No(f4,e,!0)},{keyCode:Ln.BACKSPACE,action:No(d4,e,!1)},{keyCode:Ln.DELETE,action:No(d4,e,!0)},{keyCode:Ln.BACKSPACE,action:No(GR,e,t,!1)},{keyCode:Ln.DELETE,action:No(GR,e,t,!0)},{keyCode:Ln.BACKSPACE,action:No(q_,e,!1)},{keyCode:Ln.DELETE,action:No(q_,e,!0)},{keyCode:Ln.BACKSPACE,action:No(Cv,e,!1,h)},{keyCode:Ln.DELETE,action:No(Cv,e,!0,h)},...j$?[{keyCode:Ln.BACKSPACE,altKey:!0,action:No(Cv,e,!1,v(!0))},{keyCode:Ln.DELETE,altKey:!0,action:No(Cv,e,!0,v(!0))},{keyCode:Ln.BACKSPACE,metaKey:!0,action:No(Cv,e,!1,v(!1))}]:[{keyCode:Ln.BACKSPACE,ctrlKey:!0,action:No(Cv,e,!1,v(!0))},{keyCode:Ln.DELETE,ctrlKey:!0,action:No(Cv,e,!0,v(!0))}],{keyCode:Ln.BACKSPACE,action:No(h4,e,!1)},{keyCode:Ln.DELETE,action:No(h4,e,!0)},{keyCode:Ln.BACKSPACE,action:No(T4,e,!1)},{keyCode:Ln.DELETE,action:No(T4,e,!0)},{keyCode:Ln.BACKSPACE,action:No(tl,e,!1)},{keyCode:Ln.DELETE,action:No(tl,e,!0)},{keyCode:Ln.BACKSPACE,action:No(ex,e,!1)},{keyCode:Ln.DELETE,action:No(ex,e,!0)},{keyCode:Ln.BACKSPACE,action:No(XR,e,!1)},{keyCode:Ln.DELETE,action:No(XR,e,!0)},{keyCode:Ln.BACKSPACE,action:No(m4,e,!1)},{keyCode:Ln.DELETE,action:No(m4,e,!0)},{keyCode:Ln.BACKSPACE,action:No(rx,e,!1)},{keyCode:Ln.DELETE,action:No(rx,e,!0)}],o).filter(T=>e.selection.isEditable()).each(T=>{o.preventDefault(),KE(e,r).isDefaultPrevented()||(T(),GE(e,r))})},uY=(e,t,o,r)=>xv([{keyCode:Ln.BACKSPACE,action:No(SR,e)},{keyCode:Ln.DELETE,action:No(SR,e)},...j$?[{keyCode:Ln.BACKSPACE,altKey:!0,action:No(HE,e)},{keyCode:Ln.DELETE,altKey:!0,action:No(HE,e)},...o?[{keyCode:U$?224:91,action:No(()=>(v7(e,r),HE(e)))}]:[]]:[{keyCode:Ln.BACKSPACE,ctrlKey:!0,action:No(HE,e)},{keyCode:Ln.DELETE,ctrlKey:!0,action:No(HE,e)}]],t),dY=(e,t)=>{let o=!1,r=[];e.on("keydown",l=>{o=l.keyCode===Ln.BACKSPACE,r=KR(e),l.isDefaultPrevented()||cY(e,t,l)}),e.on("keyup",l=>{l.isDefaultPrevented()||(uY(e,l,o,r),r.length=0),o=!1})},fY=(e,t)=>{const o=De.fromDom(e),r=De.fromDom(t),l=Pa("span"),h=ee(ss,o),v=k=>fa(k)&&ui(k,"font-size").isSome(),T=[...v(r)?[r]:[],...z(r,v,h)];Be(T.slice(1),k=>{Sg(k,"font-size"),li(k,"data-mce-style"),l(k)&&ef(k)&&Gl(k)})},mY=e=>{for(;e;){if(Cn(e)||dn(e)&&e.data&&/[\r\n\s]/.test(e.data))return X.from(De.fromDom(e));e=e.nextSibling}return X.none()},iC=(e,t)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const h=k=>/^(ul|ol|dl)$/.test(rs(k)),v=k=>h(k)?X.from(k):kh(k,h),T=k=>o.isEmpty(k.dom);mY(t.firstChild).each(k=>{v(k).fold(()=>{if(T(k)){const B=wv(k,0).element;fa(B)&&!Fd(B)&&$s(B,De.fromText(qr))}},B=>{cl(B,De.fromText(qr))})})}const l=o.createRng();if(t.normalize(),t.hasChildNodes()){const h=new Ka(t,t);let v=t,T;for(;T=h.current();){if(dn(T)){l.setStart(T,0),l.setEnd(T,0);break}if(r[T.nodeName.toLowerCase()]){l.setStartBefore(T),l.setEndBefore(T);break}v=T,T=h.next()}T||(l.setStart(v,0),l.setEnd(v,0))}else la(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(l.setStartBefore(t),l.setEndBefore(t)):(l.setStartAfter(t),l.setEndAfter(t)):(l.setStart(t,0),l.setEnd(t,0));e.selection.setRng(l),sh(e,l)},YE=(e,t)=>{const o=e.getRoot();let r,l=t;for(;l!==o&&l&&e.getContentEditable(l)!=="false";){if(e.getContentEditable(l)==="true"){r=l;break}l=l.parentNode}return l!==o?r:o},ON=e=>X.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),Gne=e=>ON(e).fold(at(""),t=>t.nodeName.toUpperCase()),hY=e=>ON(e).filter(t=>fu(De.fromDom(t))).isSome(),lC=e=>{e.innerHTML='<br data-mce-bogus="1">'},Z$=(e,t,o)=>{const r=e.dom;X.from(o.style).map(r.parseStyle).each(k=>{const W={...nf(De.fromDom(t)),...k};r.setStyles(t,W)});const l=X.from(o.class).map(k=>k.split(/\s+/)),h=X.from(t.className).map(k=>yt(k.split(/\s+/),B=>B!==""));Bn(l,h,(k,B)=>{const W=yt(B,Q=>!Ne(k,Q)),G=[...k,...W];r.setAttrib(t,"class",G.join(" "))});const v=["style","class"],T=Yn(o,(k,B)=>!Ne(v,B));r.setAttribs(t,T)},cC=(e,t)=>{if(pl(e).toLowerCase()===t.tagName.toLowerCase()){const r=th(e);Z$(e,t,r)}},W$=(e,t,o,r,l=!0,h,v)=>{const T=e.dom,k=e.schema,B=pl(e),W=o?o.nodeName.toUpperCase():"";let G=t;const Q=k.getTextInlineElements();let ce;h||W==="TABLE"||W==="HR"?ce=T.create(h||B,v||{}):ce=o.cloneNode(!1);let ke=ce;if(!l)T.setAttrib(ce,"style",null),T.setAttrib(ce,"class",null);else{do if(Q[G.nodeName]){if(de(G)||xi(G))continue;const ge=G.cloneNode(!1);T.setAttrib(ge,"id",""),ce.hasChildNodes()?(ge.appendChild(ce.firstChild),ce.appendChild(ge)):(ke=ge,ce.appendChild(ge))}while((G=G.parentNode)&&G!==r);ce.nodeName!=="LI"&&fY(ce,ke)}return cC(e,ce),lC(ke),ce},q$=(e,t)=>e.dom.getParent(t,j0),G$=(e,t,o)=>{let r=t;for(;r&&r!==e&&ie(r.nextSibling);){const l=r.parentElement;if(!l||!o(l))return j0(l);r=l}return!1},gY=(e,t,o)=>!t&&o.nodeName.toLowerCase()===pl(e)&&e.dom.isEmpty(o)&&G$(e.getBody(),o,r=>Jn(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),pY=(e,t,o)=>{const r=t(pl(e)),l=q$(e,o);l&&(e.dom.insertAfter(r,l),iC(e,r),(o.parentElement?.childNodes?.length??0)>1&&e.dom.remove(o))},bY=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,K$=e=>e.parentNode?.firstChild===e,Y$=(e,t)=>{const o=e?.parentNode;return qe(o)&&o.nodeName===t},Z4=e=>qe(e)&&/^(OL|UL|LI)$/.test(e.nodeName),RN=e=>qe(e)&&/^(LI|DT|DD)$/.test(e.nodeName),yY=e=>Z4(e)&&Z4(e.parentNode),W4=e=>{const t=e.parentNode;return RN(t)?t:e},XE=(e,t,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!Cn(r);)r=r[o?"nextSibling":"previousSibling"];return r===t},X$=e=>Le(Gn(nf(De.fromDom(e)),(t,o)=>`${o}: ${t};`),(t,o)=>t+o,""),vY=(e,t,o,r,l)=>{const h=e.dom,v=e.selection.getRng(),T=o.parentNode;if(o===e.getBody()||!T)return;yY(o)&&(l="LI");const k=RN(r)?X$(r):void 0;let B=RN(r)&&k?t(l,{style:X$(r)}):t(l);if(XE(o,r,!0)&&XE(o,r,!1))if(Y$(o,"LI")){const W=W4(o);h.insertAfter(B,W),K$(o)?h.remove(W):h.remove(o)}else h.replace(B,o);else if(XE(o,r,!0))Y$(o,"LI")?(h.insertAfter(B,W4(o)),B.appendChild(h.doc.createTextNode(" ")),B.appendChild(o)):T.insertBefore(B,o),h.remove(r);else if(XE(o,r,!1))h.insertAfter(B,W4(o)),h.remove(r);else{o=W4(o);const W=v.cloneRange();W.setStartAfter(r),W.setEndAfter(o);const G=W.extractContents();if(l==="LI"&&bY(G,"LI")){const Q=yt(tt(B.children,De.fromDom),Me(Pa("br")));B=G.firstChild,h.insertAfter(G,o),Be(Q,ce=>Jd(De.fromDom(B),ce)),k&&B.setAttribute("style",k)}else h.insertAfter(G,o),h.insertAfter(B,o);h.remove(r)}iC(e,B)},xY=e=>{Be(xe(De.fromDom(e),xs),t=>{const o=t.dom;o.nodeValue=Pc(o.data)})},wY=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},Kne=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),NN=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,CY=(e,t)=>e.nodeName===t||e.nextSibling&&e.nextSibling.nodeName===t,MN=(e,t)=>qe(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",SY=(e,t,o)=>{const r=[];if(!o)return;let l=o;for(;l=l.firstChild;){if(e.isBlock(l))return;Cn(l)&&!t[l.nodeName.toLowerCase()]&&r.push(l)}let h=r.length;for(;h--;)l=r[h],(!l.hasChildNodes()||l.firstChild===l.lastChild&&l.firstChild?.nodeValue===""||Kne(e,l))&&e.remove(l)},BN=(e,t,o)=>dn(t)?e?o===1&&t.data.charAt(o-1)===Ii?0:o:o===t.data.length-1&&t.data.charAt(o)===Ii?t.data.length:o:o,Q$=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,BN(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,BN(!1,e.endContainer,e.endOffset)),t},EY=e=>{let t=e;do dn(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},LN=(e,t,o,r,l)=>{const h=e.dom,v=YE(h,r)??h.getRoot();let T=h.getParent(r,h.isBlock);if(!T||!MN(h,T)){if(T=T||v,!T.hasChildNodes()){const G=h.create(t);return cC(e,G),T.appendChild(G),o.setStart(G,0),o.setEnd(G,0),G}let k=r;for(;k&&k.parentNode!==T;)k=k.parentNode;let B;for(;k&&!h.isBlock(k);)B=k,k=k.previousSibling;const W=B?.parentElement?.nodeName;if(B&&W&&e.schema.isValidChild(W,t.toLowerCase())){const G=B.parentNode,Q=h.create(t);for(cC(e,Q),G.insertBefore(Q,B),k=B;k&&!h.isBlock(k);){const ce=k.nextSibling;Q.appendChild(k),k=ce}o.setStart(r,l),o.setEnd(r,l)}}return r},O1=(e,t)=>{t.normalize();const o=t.lastChild;(!o||Cn(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(t,"br")},J$=(e,t)=>{const o=Yx(e);return mn(t)?!1:J(o)?Ne(an.explode(o),t.nodeName.toLowerCase()):o},QE={insert:(e,t)=>{let o,r,l,h,v=!1;const T=e.dom,k=e.schema,B=k.getNonEmptyElements(),W=e.selection.getRng(),G=pl(e),Q=De.fromDom(W.startContainer),ce=Jc(Q,W.startOffset),ke=ce.exists($t=>xd($t)&&!Cr($t)),ge=W.collapsed&&ke,Te=($t,On)=>W$(e,o,Rn,Jt,QT(e),$t,On),ot=$t=>{const On=BN($t,o,r);if(dn(o)&&($t?On>0:On<o.data.length))return!1;if((o.parentNode===Rn||o===Rn)&&v&&!$t||$t&&Cn(o)&&o===Rn.firstChild)return!0;if(NN(o,"TABLE")||NN(o,"HR"))return CY(o,"BR")?!$t:v&&!$t||!v&&$t;const Bo=new Ka(o,Rn);dn(o)&&($t&&On===0?Bo.prev():!$t&&On===o.data.length&&Bo.next());let Lo;for(;Lo=Bo.current();){if(Cn(Lo)){if(!Lo.getAttribute("data-mce-bogus")){const Zs=Lo.nodeName.toLowerCase();if(B[Zs]&&Zs!=="br")return!1}}else if(dn(Lo)&&!Ap(Lo.data))return!1;$t?Bo.prev():Bo.next()}return!0},rt=()=>{let $t;return/^(H[1-6]|PRE|FIGURE)$/.test(l)&&io!=="HGROUP"?$t=Te(G):$t=Te(),J$(e,h)&&MN(T,h)&&T.isEmpty(Rn,void 0,{includeZwsp:!0})?$t=T.split(h,Rn):T.insertAfter($t,Rn),iC(e,$t),$t};qA(T,W).each($t=>{W.setStart($t.startContainer,$t.startOffset),W.setEnd($t.endContainer,$t.endOffset)}),o=W.startContainer,r=W.startOffset;const ut=!!(t&&t.shiftKey),Ft=!!(t&&t.ctrlKey);Cn(o)&&o.hasChildNodes()&&!ge&&(v=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,v&&dn(o)?r=o.data.length:r=0);const Jt=YE(T,o);if(!Jt||wY(e,o))return;ut||(o=LN(e,G,W,o,r));let Rn=T.getParent(o,T.isBlock)||T.getRoot();h=qe(Rn?.parentNode)?T.getParent(Rn.parentNode,T.isBlock):null,l=Rn?Rn.nodeName.toUpperCase():"";const io=h?h.nodeName.toUpperCase():"";if(io==="LI"&&!Ft){const $t=h;Rn=$t,h=$t.parentNode,l=io}if(Cn(h)&&gY(e,ut,Rn))return pY(e,Te,Rn);if(/^(LI|DT|DD)$/.test(l)&&Cn(h)&&T.isEmpty(Rn)){vY(e,Te,h,Rn,G);return}if(!ge&&(Rn===e.getBody()||!MN(T,Rn)))return;const Lt=Rn.parentNode;let Ct;if(ge)Ct=Te(G),ce.fold(()=>{$s(Q,De.fromDom(Ct))},$t=>{cl($t,De.fromDom(Ct))}),e.selection.setCursorLocation(Ct,0);else if(Hf(Rn))Ct=df(Rn),T.isEmpty(Rn)&&lC(Rn),cC(e,Ct),iC(e,Ct);else if(ot(!1))Ct=rt();else if(ot(!0)&&Lt){const $t=_t.fromRangeStart(W),On=D_($t),Bo=De.fromDom(Rn),Zs=sk(Bo,$t,e.schema)?N6(Bo,$t,e.schema).bind(Ca=>X.from(Ca.getNode())):X.none();Ct=Lt.insertBefore(Te(),Rn);const Pr=NN(Rn,"HR")||On?Ct:Zs.getOr(Rn);iC(e,Pr)}else{const $t=Q$(W).cloneRange();$t.setEndAfter(Rn);const On=$t.extractContents();xY(On),EY(On),Ct=On.firstChild,Rn===Ct?qe(Lt)&&T.insertAfter(On,Lt):T.insertAfter(On,Rn),SY(T,B,Ct),O1(T,Rn),T.isEmpty(Rn)&&lC(Rn),Ct.normalize(),T.isEmpty(Ct)?(T.remove(Ct),rt()):(cC(e,Ct),iC(e,Ct))}T.setAttrib(Ct,"id",""),e.dispatch("NewBlock",{newBlock:Ct})},fakeEventName:"insertParagraph"},PN=(e,t,o)=>{const r=new Ka(t,o);let l;const h=e.getNonEmptyElements();for(;l=r.next();)if(h[l.nodeName.toLowerCase()]||dn(l)&&l.length>0)return!0;return!1},FN=(e,t,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),sh(e,r)},eI=(e,t)=>{const o=e.selection,r=e.dom,l=o.getRng();let h,v=!1;qA(r,l).each(ce=>{l.setStart(ce.startContainer,ce.startOffset),l.setEnd(ce.endContainer,ce.endOffset)});let T=l.startOffset,k=l.startContainer;if(Cn(k)&&k.hasChildNodes()){const ce=T>k.childNodes.length-1;k=k.childNodes[Math.min(T,k.childNodes.length-1)]||k,ce&&dn(k)?T=k.data.length:T=0}let B=r.getParent(k,r.isBlock);const W=B&&B.parentNode?r.getParent(B.parentNode,r.isBlock):null,G=W?W.nodeName.toUpperCase():"",Q=!!(t&&t.ctrlKey);G==="LI"&&!Q&&(B=W),dn(k)&&T>=k.data.length&&(PN(e.schema,k,B||r.getRoot())||(h=r.create("br"),l.insertNode(h),l.setStartAfter(h),l.setEndAfter(h),v=!0)),h=r.create("br"),Xp(r,l,h),FN(e,h,v),e.undoManager.add()},AY=(e,t)=>{const o=De.fromTag("br");cl(De.fromDom(t),o),e.undoManager.add()},kY=(e,t)=>{_Y(e.getBody(),t)||Sl(De.fromDom(t),De.fromTag("br"));const o=De.fromTag("br");Sl(De.fromDom(t),o),FN(e,o.dom,!1),e.undoManager.add()},DY=e=>la(e.getNode()),_Y=(e,t)=>DY(_t.after(t))?!0:E(e,_t.after(t)).map(o=>la(o.getNode())).getOr(!1),tI=e=>e&&e.nodeName==="A"&&"href"in e,nI=e=>e.fold(Ze,tI,tI,Ze),OY=e=>{const t=ee(M2,e),o=_t.fromRangeStart(e.selection.getRng());return T0(t,e.getBody(),o).filter(nI)},RY=(e,t)=>{t.fold(Pt,ee(AY,e),ee(kY,e),Pt)},sI={insert:(e,t)=>{const o=OY(e);o.isSome()?o.each(ee(RY,e)):eI(e,t)},fakeEventName:"insertLineBreak"},rI=(e,t)=>ON(e).filter(o=>t.length>0&&wl(De.fromDom(o),t)).isSome(),NY=e=>rI(e,YT(e)),MY=e=>rI(e,XT(e)),uh=hi.generate([{br:[]},{block:[]},{none:[]}]),BY=(e,t)=>MY(e),aI=e=>(t,o)=>hY(t)===e,iI=(e,t)=>(o,r)=>Gne(o)===e.toUpperCase()===t,q4=e=>{const t=YE(e.dom,e.selection.getStart());return mn(t)},JE=e=>iI("pre",e),LY=()=>iI("summary",!0),uC=e=>(t,o)=>Gx(t)===e,$N=(e,t)=>NY(e),G4=(e,t)=>t,PY=e=>{const t=pl(e),o=YE(e.dom,e.selection.getStart());return qe(o)&&e.schema.isValidChild(o.nodeName,t)},lI=e=>{const t=e.selection.getRng(),o=De.fromDom(t.startContainer),l=Jc(o,t.startOffset).map(h=>xd(h)&&!Cr(h));return t.collapsed&&l.getOr(!0)},lg=(e,t)=>(o,r)=>Le(e,(h,v)=>h&&v(o,r),!0)?X.some(t):X.none(),FY=(e,t)=>VF([lg([BY],uh.none()),lg([JE(!0),q4],uh.none()),lg([LY()],uh.br()),lg([JE(!0),uC(!1),G4],uh.br()),lg([JE(!0),uC(!1)],uh.block()),lg([JE(!0),uC(!0),G4],uh.block()),lg([JE(!0),uC(!0)],uh.br()),lg([aI(!0),G4],uh.br()),lg([aI(!0)],uh.block()),lg([$N],uh.br()),lg([G4],uh.br()),lg([PY],uh.block()),lg([lI],uh.block())],[e,!!(t&&t.shiftKey)]).getOr(uh.none()),K4=(e,t,o)=>{t.mode.isReadOnly()||(t.selection.isCollapsed()||Y6(t),!(qe(o)&&KE(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,o),qe(o)&&GE(t,e.fakeEventName)))},cI=(e,t)=>{if(e.mode.isReadOnly())return;const o=()=>K4(sI,e,t),r=()=>K4(QE,e,t),l=FY(e,t);switch(Kx(e)){case"linebreak":l.fold(o,o,Pt);break;case"block":l.fold(r,r,Pt);break;case"invert":l.fold(r,o,Pt);break;default:l.fold(o,r,Pt);break}},uI=bs(),$Y=uI.os.isiOS()&&uI.browser.isSafari(),IN=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),hP(e.undoManager),e.undoManager.transact(()=>{cI(e,t)}))},Y4=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(dn(t)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=t.data.charAt(e.startOffset-1);return o.test(r)}else return!1},dI=e=>{let t=X.none();const o=l=>{t=X.some(l.selection.getBookmark()),l.undoManager.add()},r=(l,h)=>{l.undoManager.undo(),t.fold(Pt,v=>l.selection.moveToBookmark(v)),IN(l,h),t=X.none()};e.on("keydown",l=>{l.keyCode===Ln.ENTER&&($Y&&Y4(e.selection.getRng())?o(e):IN(e,l))}),e.on("keyup",l=>{l.keyCode===Ln.ENTER&&t.each(()=>r(e,l))})},fI=(e,t,o)=>{const r=ds.os.isMacOS()||ds.os.isiOS();xv([{keyCode:Ln.END,action:No(z7,e,!0)},{keyCode:Ln.HOME,action:No(z7,e,!1)},...r?[]:[{keyCode:Ln.HOME,action:No(R4,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Ln.END,action:No(R4,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Ln.END,action:No(aN,e,!0)},{keyCode:Ln.HOME,action:No(aN,e,!1)},{keyCode:Ln.END,action:No(vv,e,!0,t)},{keyCode:Ln.HOME,action:No(vv,e,!1,t)}],o).each(l=>{o.preventDefault()})},IY=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||fI(e,t,o)})},HY=e=>{e.on("input",t=>{t.isComposing||z6(e)})},X4=bs(),zY=(e,t,o)=>{xv([{keyCode:Ln.PAGE_UP,action:No(vv,e,!1,t)},{keyCode:Ln.PAGE_DOWN,action:No(vv,e,!0,t)}],o)},HN=e=>e.stopImmediatePropagation(),mI=e=>e.keyCode===Ln.PAGE_UP||e.keyCode===Ln.PAGE_DOWN,zN=(e,t,o)=>{o&&!e.get()?t.on("NodeChange",HN,!0):!o&&e.get()&&t.off("NodeChange",HN),e.set(o)},VY=(e,t)=>{if(X4.os.isMacOS())return;const o=Pn(!1);e.on("keydown",r=>{mI(r)&&zN(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||zY(e,t,r),mI(r)&&o.get()&&(zN(o,e,!1),e.nodeChanged())})},hI=(e,t)=>e===t||e.contains(t),jY=(e,t)=>!hI(e.getBody(),t.startContainer)||!hI(e.getBody(),t.endContainer)?!0:gV(e.dom,t),UY=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||Ge(t.getTargetRanges(),o=>!jY(e,o)))&&t.preventDefault()})},gI=(e,t)=>{const o=t.container(),r=t.offset();return dn(o)?(o.insertData(r,e),X.some(_t(o,r+e.length))):k2(t).map(l=>{const h=De.fromText(e);return t.isAtEnd()?Sl(l,h):cl(l,h),_t(h.dom,e.length)})},lx=ee(gI,qr),pI=ee(gI," "),ZY=(e,t,o)=>HV(e,t,o)?lx(t):pI(t),bI=e=>t=>t.fold(o=>D(e.dom,_t.before(o)),o=>$(o),o=>q(o),o=>E(e.dom,_t.after(o))),WY=(e,t,o)=>r=>HV(e,r,o)?lx(t):pI(t),yI=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},qY=(e,t)=>e.isEditable(e.getParent(t,"summary")),vI=e=>{const t=_t.fromRangeStart(e.selection.getRng()),o=De.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=ee(M2,e),l=_t.fromRangeStart(e.selection.getRng());return T0(r,e.getBody(),l).bind(bI(o)).map(h=>()=>WY(o,t,e.schema)(h).each(yI(e)))}else return X.none()},GY=e=>{const t=()=>{const o=De.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=_t.fromRangeStart(e.selection.getRng());ZY(o,r,e.schema).each(yI(e))};return Ts(ds.browser.isFirefox()&&e.selection.isEditable()&&qY(e.dom,e.selection.getRng().startContainer),t)},KY=(e,t)=>{B4([{keyCode:Ln.SPACEBAR,action:No(vI,e)},{keyCode:Ln.SPACEBAR,action:No(GY,e)}],t).each(o=>{t.preventDefault(),KE(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),GE(e,"insertText",{data:" "}))})},Xne=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||KY(e,t)})},Q4=e=>gA(e)?[{keyCode:Ln.TAB,action:No(E$,e,!0)},{keyCode:Ln.TAB,shiftKey:!0,action:No(E$,e,!1)}]:[],YY=(e,t)=>{xv([...Q4(e)],t).each(o=>{t.preventDefault()})},XY=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||YY(e,t)})},QY=e=>{if(e.addShortcut("Meta+P","","mcePrint"),eY(e),v0(e))return Pn(null);{const t=EG(e);return UY(e),B7(e),PK(e,t),dY(e,t),dI(e),Xne(e),HY(e),XY(e),IY(e,t),VY(e,t),t}},JY=(e,t)=>{const o=_E(e);o===null||X5(e,o)||e.undoManager.transact(()=>{vt(t.styles)&&e.dom.setStyles(o,t.styles),vt(t.attrs)&&Oo(t.attrs,(r,l)=>e.dom.setAttrib(o,l,r))})},VN=(e,t)=>()=>{const o=_E(e);return qe(o)&&o.nodeName===t},eX=e=>{e.addCommand("InsertUnorderedList",(t,o)=>{cR(e,"UL",o)}),e.addCommand("InsertOrderedList",(t,o)=>{cR(e,"OL",o)}),e.addCommand("InsertDefinitionList",(t,o)=>{cR(e,"DL",o)}),e.addCommand("RemoveList",()=>{a4(e)}),e.addCommand("mceListUpdate",(t,o)=>{vt(o)&&JY(e,o)}),e.addCommand("mceListBackspaceDelete",(t,o)=>{fR(e,o)}),e.addQueryStateHandler("InsertUnorderedList",VN(e,"UL")),e.addQueryStateHandler("InsertOrderedList",VN(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",VN(e,"DL"))},tX=e=>{e.on("keydown",t=>{t.keyCode===Ln.BACKSPACE?fR(e,!1)&&t.preventDefault():t.keyCode===Ln.DELETE&&fR(e,!0)&&t.preventDefault()})},xI=e=>e.type===3,wI=e=>e.length===0,nX=e=>{const t=(l,h)=>{const v=Hc.create("li");Be(l,T=>v.append(T)),h?e.insert(v,h,!0):e.append(v)},o=(l,h)=>xI(h)?[...l,h]:!wI(l)&&!xI(h)?(t(l,h),[]):l,r=Le(e.children(),o,[]);wI(r)||t(r)},oX=e=>{e.on("PreInit",()=>{const{parser:t}=e;t.addNodeFilter("ul,ol",o=>Be(o,nX))})},sX=e=>{e.on("keydown",t=>{t.keyCode!==Ln.TAB||Ln.metaKeyPressed(t)||e.undoManager.transact(()=>{(t.shiftKey?NE(e):wF(e))&&t.preventDefault()})})},rX=e=>{gS(e)&&sX(e)},Yr=e=>{tX(e),eX(e),oX(e),rX(e)};class aX{editor;lastPath=[];constructor(t){this.editor=t;let o;const r=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",l=>{const h=t.selection.getRng(),v={startContainer:h.startContainer,startOffset:h.startOffset,endContainer:h.endContainer,endOffset:h.endOffset};(l.type==="nodechange"||!zb(v,o))&&t.dispatch("SelectionChange"),o=v}),t.on("contextmenu",()=>{VA(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const l=t.selection.getStart(!0);l&&_S(t)&&!r.isSameElementPath(l)&&t.dom.isChildOf(l,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",l=>{!l.isDefaultPrevented()&&_S(t)&&(t.selection.getNode().nodeName==="IMG"?Qg.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const o=this.editor,r=o.selection;let l;if(o.initialized&&r&&!lA(o)&&!nh(o)){const h=o.getBody();l=r.getStart(!0)||h,(l.ownerDocument!==o.getDoc()||!o.dom.isChildOf(l,h))&&(l=h);const v=[];o.dom.getParent(l,T=>T===h?!0:(v.push(T),!1)),o.dispatch("NodeChange",{...t,element:l,parents:v})}}isSameElementPath(t){let o;const r=this.editor,l=Ho(r.dom.getParents(t,bt,r.getBody()));if(l.length===this.lastPath.length){for(o=l.length;o>=0&&l[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=l,!0}return this.lastPath=l,!1}}const jN="x-tinymce/html",J4=at(jN),eT="<!-- "+jN+" -->",CI=e=>eT+e,iX=e=>e.replace(eT,""),SI=e=>e.indexOf(eT)!==-1,lX=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),EI=(e,t)=>{let o="<"+e;const r=Gn(t,(l,h)=>h+'="'+ed.encodeAllRaw(l)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},e3=(e,t,o)=>{const r=e.split(/\n\n/),l=EI(t,o),h="</"+t+">",v=tt(r,k=>k.split(/\n/).join("<br />")),T=k=>l+k+h;return v.length===1?v[0]:tt(v,T).join("")},TI="%MCEPASTEBIN%",cX=(e,t)=>{const{dom:o,selection:r}=e,l=e.getBody();t.set(r.getRng());const h=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},TI);ds.browser.isFirefox()&&o.setStyle(h,"left",o.getStyle(l,"direction",!0)==="rtl"?65535:-65535),o.bind(h,"beforedeactivate focusin focusout",v=>{v.stopPropagation()}),h.focus(),r.select(h,!0)},UN=(e,t)=>{const o=e.dom;if(ZN(e)){let r;const l=t.get();for(;r=ZN(e);)o.remove(r),o.unbind(r);l&&e.selection.setRng(l)}t.set(null)},ZN=e=>e.dom.get("mcepastebin"),uX=e=>qe(e)&&e.id==="mcepastebin",dX=e=>{const t=e.dom,o=(v,T)=>{v.appendChild(T),t.remove(T,!0)},[r,...l]=yt(e.getBody().childNodes,uX);Be(l,v=>{o(r,v)});const h=t.select("div[id=mcepastebin]",r);for(let v=h.length-1;v>=0;v--){const T=t.create("div");r.insertBefore(T,h[v]),o(T,h[v])}return r?r.innerHTML:""},AI=e=>e===TI,kI=e=>{const t=Pn(null);return{create:()=>cX(e,t),remove:()=>UN(e,t),getEl:()=>ZN(e),getHtml:()=>dX(e),getLastRng:t.get}},DI=(e,t)=>(an.each(t,o=>{Ue(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),fX=e=>{const t=Bs(),o=Bw({},t);let r="";const l=t.getVoidElements(),h=an.makeMap("script noscript style textarea video audio iframe object"," "),v=t.getBlockElements(),T=k=>{const B=k.name,W=k;if(B==="br"){r+=`
`;return}if(B!=="wbr"){if(l[B]&&(r+=" "),h[B]){r+=" ";return}if(k.type===3&&(r+=k.value),!(k.name in t.getVoidElements())){let G=k.firstChild;if(G)do T(G);while(G=G.next)}v[B]&&W.next&&(r+=`
`,B==="p"&&(r+=`
`))}};return e=DI(e,[/<!\[[^\]]+\]>/g]),T(o.parse(e)),r},WN=e=>(e=DI(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,l)=>!r&&!l?" ":qr],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),mX=e=>{let t=0;return()=>e+t++},hX=e=>{const t=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return an.hasOwn(o,t)?"image/"+o[t]:"image/"+t},gX=(e,t)=>{const o=Bw({sanitize:iw(e),sandbox_iframes:Xy(e),sandbox_iframes_exclusions:a0(e),convert_unsafe_embeds:i0(e)},e.schema);o.addNodeFilter("meta",l=>{an.each(l,h=>{h.remove()})});const r=o.parse(t,{forced_root_block:!1,isRootContent:!0});return tv({validate:!0},e.schema).serialize(r)},t3=(e,t)=>({content:e,cancelled:t}),pX=(e,t,o)=>{const r=e.dom.create("div",{style:"display:none"},t),l=VT(e,r,o);return t3(l.node.innerHTML,l.isDefaultPrevented())},_I=(e,t,o)=>{const r=zT(e,t,o),l=gX(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?pX(e,l,o):t3(l,r.isDefaultPrevented())},bX=(e,t,o)=>_I(e,t,o),tT=(e,t)=>(e.insertContent(t,{merge:dA(e),paste:!0}),!0),qN=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),OI=(e,t)=>qN(t)&&Ge(hS(e),o=>Ci(t.toLowerCase(),`.${o.toLowerCase()}`)),yX=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),vX=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),xX=(e,t,o)=>!e.selection.isCollapsed()&&qN(t)?vX(e,t,o):!1,wX=(e,t,o)=>OI(e,t)?yX(e,t,o):!1,RI=(e,t)=>{an.each([xX,wX,tT],o=>!o(e,t,tT))},CX=(e,t,o)=>{o||!cS(e)?tT(e,t):RI(e,t)},NI=mX("mceclip"),n3=e=>{const t=rC();return u$(t,e),$4(t),t},o3=(e,t,o,r,l)=>{const h=bX(e,t,o);if(!h.cancelled){const v=h.content,T=()=>CX(e,v,r);l?KE(e,"insertFromPaste",{dataTransfer:n3(v)}).isDefaultPrevented()||(T(),GE(e,"insertFromPaste")):T()}},dC=(e,t,o,r)=>{const l=o||SI(t);o3(e,iX(t),l,!1,r)},GN=(e,t,o)=>{const r=e.dom.encode(t).replace(/\r\n/g,`
`),l=z0(r,PD(e)),h=e3(l,pl(e),th(e));o3(e,h,!1,!0,o)},MI=e=>{const t={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{t[r]=e.getData(r)}catch{t[r]=""}}return t},cg=(e,t)=>t in e&&e[t].length>0,BI=e=>cg(e,"text/html")||cg(e,"text/plain"),fC=(e,t)=>{const o=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return qe(o)?e.dom.encode(o[1]):void 0},nT=(e,t,o,r)=>{const l=NI(),h=JT(e)&&qe(o.name),v=h?fC(e,o.name):l,T=h?o.name:void 0,k=t.create(l,o,r,v,T);return t.add(k),k},SX=(e,t)=>{yO(t.uri).each(({data:o,type:r,base64Encoded:l})=>{const h=l?o:btoa(o),v=t.file,T=e.editorUpload.blobCache,B=T.getByData(h,r)??nT(e,T,v,h);dC(e,`<img src="${B.blobUri()}">`,!1,!0)})},EX=e=>e.type==="paste",mC=e=>Promise.all(tt(e,t=>vO(t).then(o=>({file:t,uri:o})))),TX=e=>{const t=hS(e);return o=>wo(o.type,"image/")&&Ge(t,r=>hX(r)===o.type)},KN=(e,t)=>{const o=t.items?ko(Es(t.items),l=>l.kind==="file"?[l.getAsFile()]:[]):[],r=t.files?Es(t.files):[];return yt(o.length>0?o:r,TX(e))},LI=(e,t,o)=>{const r=EX(t)?t.clipboardData:t.dataTransfer;if(aw(e)&&r){const l=KN(e,r);if(l.length>0)return t.preventDefault(),mC(l).then(h=>{o&&e.selection.setRng(o),Be(h,v=>{SX(e,v)})}),!0}return!1},PI=e=>ds.os.isAndroid()&&e.clipboardData?.items?.length===0,FI=e=>Ln.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,oT=(e,t,o,r,l)=>{let h=WN(o);const v=cg(t,J4())||SI(o),T=!v&&lX(h),k=qN(h);(AI(h)||!h.length||T&&!k)&&(r=!0),(r||k)&&(cg(t,"text/plain")&&T?h=t["text/plain"]:h=fX(h)),!AI(h)&&(r?GN(e,h,l):dC(e,h,v,l))},$I=(e,t,o)=>{let r;const l=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",h=>{FI(h)&&!h.isDefaultPrevented()&&(r=h.shiftKey&&h.keyCode===86)}),e.on("paste",h=>{if(h.isDefaultPrevented()||PI(h))return;const v=o.get()==="text"||r;r=!1;const T=MI(h.clipboardData);!BI(T)&&LI(e,h,l())||(cg(T,"text/html")?(h.preventDefault(),oT(e,T,T["text/html"],v,!0)):cg(T,"text/plain")&&cg(T,"text/uri-list")?(h.preventDefault(),oT(e,T,T["text/plain"],v,!0)):(t.create(),Qg.setEditorTimeout(e,()=>{const k=t.getHtml();t.remove(),oT(e,T,k,v,!1)},0)))})},AX=e=>{const t=l=>wo(l,"webkit-fake-url"),o=l=>wo(l,"data:"),r=l=>l.data?.paste===!0;e.parser.addNodeFilter("img",(l,h,v)=>{if(!aw(e)&&r(v))for(const T of l){const k=T.attr("src");J(k)&&!T.attr("data-mce-object")&&k!==ds.transparentSrc&&(t(k)||!uS(e)&&o(k))&&T.remove()}})},kX=(e,t,o)=>{$I(e,t,o),AX(e)},II=(e,t)=>{t.get()==="text"?(t.set("html"),jT(e,!1)):(t.set("text"),jT(e,!0)),e.focus()},DX=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{II(e,t)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&dC(e,r.html,r.internal,!1),r.text&&GN(e,r.text,!1)})},HI=(e,t,o)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",o),e.setData(J4(),t),!0}catch{return!1}else return!1},s3=(e,t,o,r)=>{HI(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):o(t.html,r)},YN=e=>(t,o)=>{const{dom:r,selection:l}=e,h=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),v=r.create("div",{contenteditable:"true"},t);r.setStyles(h,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),h.appendChild(v),r.add(e.getBody(),h);const T=l.getRng();v.focus();const k=r.createRng();k.selectNodeContents(v),l.setRng(k),Qg.setEditorTimeout(e,()=>{l.setRng(T),r.remove(h),o()},0)},zI=e=>({html:CI(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),_X=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),VI=e=>!e.selection.isCollapsed()||_X(e),jI=(e,t)=>o=>{!o.isDefaultPrevented()&&VI(e)&&e.selection.isEditable()&&s3(o,zI(e),YN(e),()=>{if(ds.browser.isChromium()||ds.browser.isFirefox()){const r=e.selection.getRng();Qg.setEditorTimeout(e,()=>{e.selection.setRng(r),lp(e,t)},0)}else lp(e,t)})},XN=e=>t=>{!t.isDefaultPrevented()&&VI(e)&&s3(t,zI(e),YN(e),Pt)},OX=(e,t)=>{e.on("cut",jI(e,t)),e.on("copy",XN(e))},QN=(e,t)=>f0.getCaretRangeFromPoint(t.clientX??0,t.clientY??0,e.getDoc()),UI=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},ZI=(e,t)=>{t&&e.selection.setRng(t),e.focus()},WI=e=>Ge(e.files,t=>/^image\//.test(t.type)),RX=(e,t,o,r)=>{const l=e.getParent(o,v=>Ya(t,v));if(!ie(e.getParent(o,"summary")))return!0;if(l&&Jn(r,"text/html")){const v=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!ie(v.querySelector(l.nodeName.toLowerCase()))}else return!1},NX=e=>{e.on("input",t=>{const o=r=>ie(r.querySelector("summary"));if(t.inputType==="deleteByDrag"){const r=yt(e.dom.select("details"),o);Be(r,l=>{la(l.firstChild)&&l.firstChild.remove();const h=e.dom.create("summary");h.appendChild(Fg().dom),l.prepend(h)})}})},r3=(e,t)=>{TB(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),aw(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&WI(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=QN(e,o);if(mn(r))return;const l=MI(o.dataTransfer),h=cg(l,J4());if((!BI(l)||UI(l))&&LI(e,o,r))return;const v=l[J4()],T=v||l["text/html"]||l["text/plain"],k=RX(e.dom,e.schema,r.startContainer,l),B=t.get();B&&!k||T&&(o.preventDefault(),Qg.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(v||B&&k)&&e.execCommand("Delete"),ZI(e,r);const W=WN(T);l["text/html"]?dC(e,W,h,!0):GN(e,W,!0)})}))}),e.on("dragstart",o=>{t.set(!0)}),e.on("dragover dragend",o=>{aw(e)&&!t.get()&&(o.preventDefault(),ZI(e,QN(e,o))),o.type==="dragend"&&t.set(!1)}),NX(e)},MX=e=>{const t=l=>h=>{l(e,h)},o=RD(e);Oe(o)&&e.on("PastePreProcess",t(o));const r=ND(e);Oe(r)&&e.on("PastePostProcess",t(r))},BX=(e,t)=>{e.on("PastePreProcess",o=>{o.content=t(e,o.content,o.internal)})},qI=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,JN=e=>an.trim(e).replace(qI,wc).toLowerCase(),LX=(e,t,o)=>{const r=lS(e);if(o||r==="all"||!BD(e))return t;const l=r?r.split(/[, ]/):[];if(l&&r!=="none"){const h=e.dom,v=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(T,k,B,W)=>{const G=h.parseStyle(h.decode(B)),Q={};for(let ke=0;ke<l.length;ke++){const ge=G[l[ke]];let Te=ge,ot=h.getStyle(v,l[ke],!0);/color/.test(l[ke])&&(Te=JN(Te),ot=JN(ot)),ot!==Te&&(Q[l[ke]]=ge)}const ce=h.serializeStyle(Q,"span");return ce?k+' style="'+ce+'"'+W:k+W})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(h,v,T,k)=>v+' style="'+T+'"'+k),t},PX=e=>{(ds.browser.isChromium()||ds.browser.isSafari())&&BX(e,LX)},FX=(e,t)=>{const o=Pn(!1),r=Pn(LD(e)?"text":"html"),l=kI(e);PX(e),DX(e,r),MX(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>r.get()==="text"),e.on("PreInit",()=>{OX(e,t),r3(e,o),kX(e,l,r)})},$X=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},IX=e=>{e.parser.addNodeFilter("details",t=>{const o=Yy(e);Be(t,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const o=r0(e);Be(t,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})})},GI=e=>{$X(e),IX(e)},HX=la,KI=dn,zX=e=>na(e.dom),VX=e=>Mu(e.dom),YI=e=>t=>ss(De.fromDom(e),t),jX=(e,t,o)=>nr(De.fromDom(e),r=>VX(r)||o.isBlock(rs(r)),YI(t)).getOr(De.fromDom(t)).dom,XI=(e,t)=>nr(De.fromDom(e),zX,YI(t)),QI=(e,t,o)=>{const r=new Ka(e,t),l=o?r.next.bind(r):r.prev.bind(r);let h=e;for(let v=o?e:l();v&&!HX(v);v=l())ya(v)&&(h=v);return h},JI=(e,t,o)=>{const l=_t.fromRangeStart(e).getNode(),h=jX(l,t,o),v=QI(l,h,!1),T=QI(l,h,!0),k=document.createRange();return XI(v,h).fold(()=>{KI(v)?k.setStart(v,0):k.setStartBefore(v)},B=>k.setStartBefore(B.dom)),XI(T,h).fold(()=>{KI(T)?k.setEnd(T,T.data.length):k.setEndAfter(T)},B=>k.setEndAfter(B.dom)),k},e9=e=>{const t=JI(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(bO(t))},UX=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),e9(e))})};var hC;(function(e){e.Before="before",e.After="after"})(hC||(hC={}));const ZX=(e,t)=>Math.abs(e.left-t),sT=(e,t)=>Math.abs(e.right-t),WX=(e,t)=>e>=t.top&&e<=t.bottom,qX=(e,t)=>e.top<t.bottom&&e.bottom>t.top,t9=(e,t)=>{const o=Gv(e,t)/Math.min(e.height,t.height);return qX(e,t)&&o>.5},GX=(e,t)=>{const o=yt(e,r=>WX(t,r));return t1(o).fold(()=>[[],e],r=>{const{pass:l,fail:h}=Rt(e,v=>t9(v,r));return[l,h]})},KX=(e,t)=>({node:e.node,position:ZX(e,t)<sT(e,t)?hC.Before:hC.After}),YX=(e,t,o)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),eM=(e,t,o,r)=>{const l=G=>ya(G.node)?X.some(G):Cn(G.node)?eM(Es(G.node.childNodes),t,o,!1):X.none(),h=(G,Q,ce)=>l(Q).filter(ke=>Math.abs(ce(G,t,o)-ce(ke,t,o))<2&&dn(ke.node)),v=(G,Q)=>{const ce=Ss(G,(ke,ge)=>Q(ke,t,o)-Q(ge,t,o));return $r(ce,l).map(ke=>r&&!dn(ke.node)&&ce.length>1?h(ke,ce[1],Q).getOr(ke):ke)},[T,k]=GX($R(e),o),{pass:B,fail:W}=Rt(k,G=>G.top<o);return v(T,YX).orThunk(()=>v(W,qv)).orThunk(()=>v(B,qv))},XX=(e,t,o,r)=>{const l=(h,v)=>{const T=B=>Cn(B)&&B.classList.contains("mce-drag-container"),k=yt(h.dom.childNodes,Me(T));return v.fold(()=>eM(k,o,r,!0),B=>{const W=yt(k,G=>G!==B.dom);return eM(W,o,r,!0)}).orThunk(()=>(ss(h,e)?X.none():Qc(h)).bind(W=>l(W,X.some(h))))};return l(t,X.none())},a3=(e,t,o)=>{const r=De.fromDom(e),l=Xc(r),v=De.fromPoint(l,t,o).filter(T=>mc(r,T)).getOr(r);return XX(r,v,t,o)},tM=(e,t,o)=>a3(e,t,o).filter(r=>S2(r.node)).map(r=>KX(r,t)),nM=e=>{const t=e.getBoundingClientRect(),o=e.ownerDocument,r=o.documentElement,l=o.defaultView;return{top:t.top+(l?.scrollY??0)-r.clientTop,left:t.left+(l?.scrollX??0)-r.clientLeft}},QX=e=>e.inline?nM(e.getBody()):{left:0,top:0},JX=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},eQ=e=>{const t=e.getBody(),o=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},l={left:t.scrollLeft||o.scrollLeft,top:t.scrollTop||o.scrollTop};return e.inline?r:l},Qne=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const o=nM(e.getContentAreaContainer()),r=eQ(e);return{left:t.pageX-o.left+r.left,top:t.pageY-o.top+r.top}}return{left:t.pageX,top:t.pageY}},tQ=(e,t,o)=>({pageX:o.left-e.left+t.left,pageY:o.top-e.top+t.top}),nQ=(e,t)=>tQ(QX(e),JX(e),Qne(e,t)),i3=e=>({target:e,srcElement:e}),l3=(e,t,o,r)=>({...t,dataTransfer:r,type:e,...i3(o)}),oQ=(e,t,o)=>{const r=wt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:Pt,stopImmediatePropagation:Pt,stopPropagation:Pt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:o,...i3(t)}},sQ=(e,t)=>{const o=wK(e);return t==="dragstart"?(o$(o),hN(o)):t==="drop"?(bK(o),$4(o)):(yK(o),gN(o)),o},rQ=(e,t,o,r)=>{const l=sQ(o,e);return Tn(r)?oQ(e,t,l):l3(e,r,t,l)},rT=32,aQ=100,gC=8,aT=16,n9=na,iQ=Cb(n9,Mu),o9=(e,t,o)=>n9(o)&&o!==t&&e.isEditable(o.parentElement),lQ=(e,t,o)=>mn(t)||t===o||e.dom.isChildOf(t,o)?!1:e.dom.isEditable(t),Jne=(e,t,o,r)=>{const l=e.dom,h=t.cloneNode(!0);l.setStyles(h,{width:o,height:r}),l.setAttrib(h,"data-mce-selected",null);const v=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(v,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),l.setStyles(h,{margin:0,boxSizing:"border-box"}),v.appendChild(h),v},cQ=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},c3=(e,t)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+t,behavior:"smooth"})},s9=c3("left",-rT),oM=c3("left",rT),u3=c3("top",-rT),iT=c3("top",rT),r9=(e,t,o,r,l,h,v,T,k,B,W,G)=>{let Q=0,ce=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+o>l&&(Q=t.pageX+o-l),t.pageY+r>h&&(ce=t.pageY+r-h),e.style.width=o-Q+"px",e.style.height=r-ce+"px";const ke=k.clientHeight,ge=k.clientWidth,Te=v+k.getBoundingClientRect().top,ot=T+k.getBoundingClientRect().left;W.on(rt=>{rt.intervalId.clear(),rt.dragging&&G&&(v+gC>=ke?rt.intervalId.set(iT(B)):v-gC<=0?rt.intervalId.set(u3(B)):T+gC>=ge?rt.intervalId.set(oM(B)):T-gC<=0?rt.intervalId.set(s9(B)):Te+aT>=window.innerHeight?rt.intervalId.set(iT(window)):Te-aT<=0?rt.intervalId.set(u3(window)):ot+aT>=window.innerWidth?rt.intervalId.set(oM(window)):ot-aT<=0&&rt.intervalId.set(s9(window)))})},a9=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},uQ=(e,t)=>{const o=e.getParent(t.parentNode,e.isBlock);a9(t),o&&o!==e.getRoot()&&e.isEmpty(o)&&jh(De.fromDom(o))},dQ=e=>e.button===0,fQ=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),i9=(e,t)=>o=>{if(dQ(o)){const r=sn(t.dom.getParents(o.target),iQ).getOr(null);if(qe(r)&&o9(t.dom,t.getBody(),r)){const l=t.dom.getPos(r),h=t.getBody(),v=t.getDoc().documentElement;e.set({element:r,dataTransfer:rC(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(t.inline?h.scrollWidth:v.offsetWidth)-2,maxY:(t.inline?h.scrollHeight:v.offsetHeight)-2,relX:o.pageX-l.x,relY:o.pageY-l.y,width:r.offsetWidth,height:r.offsetHeight,ghost:Jne(t,r,r.offsetWidth,r.offsetHeight),intervalId:Tr(aQ)})}}},mQ=(e,t,o)=>{e._selectionOverrides.hideFakeCaret(),tM(e.getBody(),t,o).fold(()=>e.selection.placeCaretAt(t,o),r=>{const l=e._selectionOverrides.showCaret(1,r.node,r.position===hC.Before,!1);l?e.selection.setRng(l):e.selection.placeCaretAt(t,o)})},pC=(e,t,o,r,l)=>{t==="dragstart"&&u$(r,e.dom.getOuterHTML(o));const h=rQ(t,o,r,l);return e.dispatch(t,h)},hQ=(e,t)=>{const o=An((l,h)=>mQ(t,l,h),0);t.on("remove",o.cancel);const r=e;return l=>e.on(h=>{const v=Math.max(Math.abs(l.screenX-h.screenX),Math.abs(l.screenY-h.screenY));if(!h.dragging&&v>10){const T=pC(t,"dragstart",h.element,h.dataTransfer,l);if(qe(T.dataTransfer)&&(h.dataTransfer=T.dataTransfer),T.isDefaultPrevented())return;h.dragging=!0,t.focus()}if(h.dragging){const T=l.currentTarget===t.getDoc().documentElement,k=fQ(h,nQ(t,l));cQ(h.ghost,t.getBody()),r9(h.ghost,k,h.width,h.height,h.maxX,h.maxY,l.clientY,l.clientX,t.getContentAreaContainer(),t.getWin(),r,T),o.throttle(l.clientX,l.clientY)}})},gQ=e=>{const t=e.getSel();if(qe(t)){const r=t.getRangeAt(0).startContainer;return dn(r)?r.parentNode:r}else return null},sM=(e,t)=>o=>{e.on(r=>{if(r.intervalId.clear(),r.dragging){if(lQ(t,gQ(t.selection),r.element)){const l=t.getDoc().elementFromPoint(o.clientX,o.clientY)??t.getBody();pC(t,"drop",l,r.dataTransfer,o).isDefaultPrevented()||t.undoManager.transact(()=>{uQ(t.dom,r.element),c$(r.dataTransfer).each(v=>t.insertContent(v)),t._selectionOverrides.hideFakeCaret()})}pC(t,"dragend",t.getBody(),r.dataTransfer,o)}}),l9(e)},rM=(e,t,o)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&o.fold(()=>pC(t,"dragend",r.element,r.dataTransfer),l=>pC(t,"dragend",r.element,r.dataTransfer,l))}),l9(e)},eoe=(e,t)=>o=>rM(e,t,X.some(o)),l9=e=>{e.on(t=>{t.intervalId.clear(),a9(t.ghost)}),e.clear()},c9=e=>{const t=Ps(),o=hs.DOM,r=document,l=i9(t,e),h=hQ(t,e),v=sM(t,e),T=eoe(t,e);e.on("mousedown",l),e.on("mousemove",h),e.on("mouseup",v),o.bind(r,"mousemove",h),o.bind(r,"mouseup",T),e.on("remove",()=>{o.unbind(r,"mousemove",h),o.unbind(r,"mouseup",T)}),e.on("keydown",k=>{k.keyCode===Ln.ESC&&rM(t,e,X.none())})},pQ=e=>{const t=l=>{if(!l.isDefaultPrevented()){const h=l.dataTransfer;h&&(Ne(h.types,"Files")||h.files.length>0)&&(l.preventDefault(),l.type==="drop"&&Yk(e,"Dropped file type is not supported"))}},o=l=>{ZA(e,l.target)&&t(l)},r=()=>{const l=hs.DOM,h=e.dom,v=document,T=e.inline?e.getBody():e.getDoc(),k=["drop","dragover"];Be(k,B=>{l.bind(v,B,o),h.bind(T,B,t)}),e.on("remove",()=>{Be(k,B=>{l.unbind(v,B,o),h.unbind(T,B,t)})})};e.on("init",()=>{Qg.setEditorTimeout(e,r,0)})},aM=e=>{c9(e),kD(e)&&pQ(e)},bQ=e=>{const t=An(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=Jb(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},yQ=e=>{e.on("init",()=>{e.on("focusin",t=>{const o=t.target;if(Rd(o)){const r=m0(e.getBody(),o),l=na(r)?r:o;e.selection.getNode()!==l&&T1(e,l).each(h=>e.selection.setRng(h))}})})},lT=na,iM=(e,t)=>m0(e.getBody(),t),d3=e=>{const t=e.selection,o=e.dom,r=e.getBody(),l=zo(e,r,o.isBlock,()=>Aw(e)),h="sel-"+o.uniqueId(),v="data-mce-selected";let T;const k=Lt=>qe(Lt)&&o.hasClass(Lt,"mce-offscreen-selection"),B=Lt=>Lt!==r&&(lT(Lt)||Rd(Lt))&&o.isChildOf(Lt,r)&&o.isEditable(Lt.parentNode),W=Lt=>{Lt&&t.setRng(Lt)},G=(Lt,Ct,$t,On=!0)=>e.dispatch("ShowCaret",{target:Ct,direction:Lt,before:$t}).isDefaultPrevented()?null:(On&&t.scrollIntoView(Ct,Lt===-1),l.show($t,Ct)),Q=Lt=>{Lt.hasAttribute("data-mce-caret")&&(df(Lt),t.scrollIntoView(Lt))},ce=()=>{e.on("click",Ct=>{o.isEditable(Ct.target)||(Ct.preventDefault(),e.focus())}),e.on("blur NewBlock",Jt),e.on("ResizeWindow FullscreenStateChanged",l.reposition),e.on("tap",Ct=>{const $t=Ct.target,On=iM(e,$t);lT(On)?(Ct.preventDefault(),T1(e,On).each(Ft)):B($t)&&T1(e,$t).each(Ft)},!0),e.on("mousedown",Ct=>{const $t=Ct.target;if($t!==r&&$t.nodeName!=="HTML"&&!o.isChildOf($t,r)||!oW(e,Ct.clientX,Ct.clientY))return;Jt(),io();const On=iM(e,$t);lT(On)?(Ct.preventDefault(),T1(e,On).each(Ft)):tM(r,Ct.clientX,Ct.clientY).each(Bo=>{Ct.preventDefault();const Lo=G(1,Bo.node,Bo.position===hC.Before,!1);W(Lo),ru(On)?On.focus():e.getBody().focus()})}),e.on("keypress",Ct=>{Ln.modifierPressed(Ct)||lT(t.getNode())&&Ct.preventDefault()}),e.on("GetSelectionRange",Ct=>{let $t=Ct.range;if(T){if(!T.parentNode){T=null;return}$t=$t.cloneRange(),$t.selectNode(T),Ct.range=$t}}),e.on("focusin",Ct=>{if(!Rd(Ct.target)&&e.getBody().contains(Ct.target)&&Ct.target!==e.getBody()&&!e.dom.isEditable(Ct.target.parentNode)){l.isShowing()&&l.hide(),Ct.target.contains(e.selection.getNode())||(e.selection.select(Ct.target,!0),e.selection.collapse(!0));const $t=Ft(e.selection.getRng(),!0);$t&&e.selection.setRng($t)}}),e.on("SetSelectionRange",Ct=>{Ct.range=Te(Ct.range);const $t=Ft(Ct.range,Ct.forward);$t&&(Ct.range=$t)});const Lt=Ct=>Cn(Ct)&&Ct.id==="mcepastebin";e.on("AfterSetSelectionRange",Ct=>{const $t=Ct.range,On=$t.startContainer.parentElement;!ge($t)&&!Lt(On)&&io(),k(On)||Jt()}),aM(e),bQ(e),yQ(e)},ke=Lt=>ad(Lt)||mu(Lt)||Xi(Lt),ge=Lt=>ke(Lt.startContainer)||ke(Lt.endContainer),Te=Lt=>{const Ct=e.schema.getVoidElements(),$t=o.createRng(),On=Lt.startContainer,Bo=Lt.startOffset,Lo=Lt.endContainer,Zs=Lt.endOffset;return Jn(Ct,On.nodeName.toLowerCase())?Bo===0?$t.setStartBefore(On):$t.setStartAfter(On):$t.setStart(On,Bo),Jn(Ct,Lo.nodeName.toLowerCase())?Zs===0?$t.setEndBefore(Lo):$t.setEndAfter(Lo):$t.setEnd(Lo,Zs),$t},ot=(Lt,Ct)=>{const $t=De.fromDom(e.getBody()),On=e.getDoc(),Bo=Ku($t,"#"+h).getOrThunk(()=>{const Pr=De.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',On);return Or(Pr,"id",h),$s($t,Pr),Pr}),Lo=o.createRng();ql(Bo),hc(Bo,[De.fromText(qr,On),De.fromDom(Ct),De.fromText(qr,On)]),Lo.setStart(Bo.dom.firstChild,1),Lo.setEnd(Bo.dom.lastChild,0),dl(Bo,{top:o.getPos(Lt,e.getBody()).y+"px"}),Ia(Bo);const Zs=t.getSel();return Zs&&(Zs.removeAllRanges(),Zs.addRange(Lo)),Lo},rt=Lt=>{const Ct=e.getDoc().createElement("div");Ct.style.width=Lt.style.width,Ct.style.height=Lt.style.height;const $t=Lt.getAttribute("width");$t&&Ct.setAttribute("width",$t);const On=Lt.getAttribute("height");return On&&Ct.setAttribute("height",On),Ct},ut=Lt=>{const Ct=Np(Lt)?rt(Lt):Lt.cloneNode(!0),$t=e.dispatch("ObjectSelected",{target:Lt,targetClone:Ct});if($t.isDefaultPrevented())return null;const On=ot(Lt,$t.targetClone),Bo=De.fromDom(Lt);return Be(kt(De.fromDom(e.getBody()),`*[${v}]`),Lo=>{ss(Bo,Lo)||li(Lo,v)}),o.getAttrib(Lt,v)||Lt.setAttribute(v,"1"),T=Lt,io(),On},Ft=(Lt,Ct)=>{if(!Lt)return null;if(Lt.collapsed){if(!ge(Lt)){const Lo=Ct?1:-1,Zs=g1(Lo,r,Lt),Pr=Zs.getNode(!Ct);if(qe(Pr)){if(S2(Pr))return G(Lo,Pr,Ct?!Zs.isAtEnd():!1,!1);if(pm(Pr)&&na(Pr.nextSibling)){const ti=o.createRng();return ti.setStart(Pr,0),ti.setEnd(Pr,0),ti}}const Ca=Zs.getNode(Ct);if(qe(Ca)){if(S2(Ca))return G(Lo,Ca,Ct?!1:!Zs.isAtEnd(),!1);if(pm(Ca)&&na(Ca.previousSibling)){const ti=o.createRng();return ti.setStart(Ca,1),ti.setEnd(Ca,1),ti}}}return null}let $t=Lt.startContainer,On=Lt.startOffset;const Bo=Lt.endOffset;if(dn($t)&&On===0&&lT($t.parentNode)&&($t=$t.parentNode,On=o.nodeIndex($t),$t=$t.parentNode),!Cn($t))return null;if(Bo===On+1&&$t===Lt.endContainer){const Lo=$t.childNodes[On];if(B(Lo))return ut(Lo)}return null},Jt=()=>{T&&T.removeAttribute(v),Ku(De.fromDom(e.getBody()),"#"+h).each(ws),T=null},Rn=()=>{l.destroy(),T=null},io=()=>{l.hide()};return v0(e)||ce(),{showCaret:G,showBlockCaretContainer:Q,hideFakeCaret:io,destroy:Rn}},u9=(e,t)=>{let o=t;for(let r=e.previousSibling;dn(r);r=r.previousSibling)o+=r.data.length;return o},lM=(e,t,o,r,l)=>{if(dn(o)&&(r<0||r>o.data.length))return[];const h=l&&dn(o)?[u9(o,r)]:[r];let v=o;for(;v!==t&&v.parentNode;)h.push(e.nodeIndex(v,l)),v=v.parentNode;return v===t?h.reverse():[]},cM=(e,t,o,r,l,h,v=!1)=>{const T=lM(e,t,o,r,v),k=lM(e,t,l,h,v);return{start:T,end:k}},d9=(e,t)=>{const o=t.slice(),r=o.pop();return Yo(r)?Le(o,(h,v)=>h.bind(T=>X.from(T.childNodes[v])),X.some(e)).bind(h=>dn(h)&&(r<0||r>h.data.length)?X.none():X.some({node:h,offset:r})):X.none()},uM=(e,t)=>d9(e,t.start).bind(({node:o,offset:r})=>d9(e,t.end).map(({node:l,offset:h})=>{const v=document.createRange();return v.setStart(o,r),v.setEnd(l,h),v})),vQ=(e,t,o,r=!1)=>cM(e,t,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),bC=(e,t,o)=>{if(t&&e.isEmpty(t)&&!o(t)){const r=t.parentNode;e.remove(t,dn(t.firstChild)&&Ap(t.firstChild.data)),bC(e,r,o)}},f3=(e,t,o,r=!0)=>{const l=t.startContainer.parentNode,h=t.endContainer.parentNode;t.deleteContents(),r&&!o(t.startContainer)&&(dn(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),dn(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),bC(e,l,o),l!==h&&bC(e,h,o))},yC=(e,t)=>X.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),dM=(e,t,o)=>{const r=e.dynamicPatternsLookup({text:o,block:t});return{...e,blockPatterns:dD(r).concat(e.blockPatterns),inlinePatterns:l2(r).concat(e.inlinePatterns)}},fM=(e,t,o,r)=>{const l=e.createRng();return l.setStart(t,0),l.setEnd(o,r),l.toString()},f9=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),m3=(e,t)=>{const o=e.createRng();return o.setStartAfter(t.start),o.setEndBefore(t.end),o},m9=(e,t,o)=>{const r=uM(e.getRoot(),o).getOrDie("Unable to resolve path range"),l=r.startContainer,h=r.endContainer,v=r.endOffset===0?h:h.splitText(r.endOffset),T=r.startOffset===0?l:l.splitText(r.startOffset),k=T.parentNode,B=v.parentNode;return{prefix:t,end:B.insertBefore(f9(e,t+"-end"),v),start:k.insertBefore(f9(e,t+"-start"),T)}},h9=(e,t,o)=>{bC(e,e.get(t.prefix+"-end"),o),bC(e,e.get(t.prefix+"-start"),o)},cT=e=>e.start.length===0,xQ=e=>(t,o)=>{const l=t.data.substring(0,o),h=l.lastIndexOf(e.charAt(e.length-1)),v=l.lastIndexOf(e);return v!==-1?v+e.length:h!==-1?h+1:-1},g9=(e,t,o,r)=>{const l=t.start;return AN(e,r.container,r.offset,xQ(l),o).bind(v=>{const T=o.textContent?.indexOf(l)??-1;if(T!==-1&&v.offset>=T+l.length){const B=e.createRng();return B.setStart(v.container,v.offset-l.length),B.setEnd(v.container,v.offset),X.some(B)}else{const B=v.offset-l.length;return EN(v.container,B,o).map(W=>{const G=e.createRng();return G.setStart(W.container,W.offset),G.setEnd(v.container,v.offset),G}).filter(W=>W.toString()===l).orThunk(()=>g9(e,t,o,A0(v.container,0)))}})},wQ=(e,t,o,r,l,h=!1)=>{if(t.start.length===0&&!h){const v=e.createRng();return v.setStart(o,r),v.setEnd(o,r),X.some(v)}return CN(o,r,l).bind(v=>g9(e,t,l,v).bind(k=>{if(h){if(k.endContainer===v.container&&k.endOffset===v.offset)return X.none();if(v.offset===0&&k.endContainer.textContent?.length===k.endOffset)return X.none()}return X.some(k)}))},p9=(e,t,o,r)=>{const l=e.dom,h=l.getRoot(),v=o.pattern,T=o.position.container,k=o.position.offset;return EN(T,k-o.pattern.end.length,t).bind(B=>{const W=cM(l,h,B.container,B.offset,T,k,r);if(cT(v))return X.some({matches:[{pattern:v,startRng:W,endRng:W}],position:B});{const G=h3(e,o.remainingPatterns,B.container,B.offset,t,r),Q=G.getOr({matches:[],position:B}),ce=Q.position;return wQ(l,v,ce.container,ce.offset,t,G.isNone()).map(ge=>{const Te=vQ(l,h,ge,r);return{matches:Q.matches.concat([{pattern:v,startRng:Te,endRng:W}]),position:A0(ge.startContainer,ge.startOffset)}})}})},h3=(e,t,o,r,l,h)=>{const v=e.dom;return CN(o,r,v.getRoot()).bind(T=>{const k=fM(v,l,o,r);for(let B=0;B<t.length;B++){const W=t[B];if(!Ci(k,W.end))continue;const G=t.slice();G.splice(B,1);const Q=p9(e,l,{pattern:W,remainingPatterns:G,position:T},h);if(Q.isNone()&&r>0)return h3(e,t,o,r-1,l,h);if(Q.isSome())return Q}return X.none()})},b9=(e,t,o)=>{e.selection.setRng(o),t.type==="inline-format"?Be(t.format,r=>{e.formatter.apply(r)}):e.execCommand(t.cmd,!1,t.value)},CQ=(e,t,o,r)=>{const l=m3(e.dom,o);f3(e.dom,l,r),b9(e,t,l)},SQ=(e,t,o,r,l)=>{const h=e.dom,v=m3(h,r),T=m3(h,o);f3(h,T,l),f3(h,v,l);const k={prefix:o.prefix,start:o.end,end:r.start},B=m3(h,k);b9(e,t,B)},EQ=(e,t)=>{const o=us("mce_textpattern"),r=Dt(t,(l,h)=>{const v=m9(e,o+`_end${l.length}`,h.endRng);return l.concat([{...h,endMarker:v}])},[]);return Dt(r,(l,h)=>{const v=r.length-l.length-1,T=cT(h.pattern)?h.endMarker:m9(e,o+`_start${v}`,h.startRng);return l.concat([{...h,startMarker:T}])},[])},TQ=e=>Ss(e,(t,o)=>o.end.length-t.end.length),AQ=(e,t)=>{const o=mr(e,r=>Ge(t,l=>r.pattern.start===l.pattern.start&&r.pattern.end===l.pattern.end));return e.length===t.length?o?e:t:e.length>t.length?e:t},y9=(e,t,o,r,l,h)=>{const v=h3(e,l.inlinePatterns,o,r,t,h).fold(()=>[],k=>k.matches),T=h3(e,TQ(l.inlinePatterns),o,r,t,h).fold(()=>[],k=>k.matches);return AQ(v,T)},mM=(e,t)=>{if(t.length===0)return;const o=e.dom,r=e.selection.getBookmark(),l=EQ(o,t);Be(l,h=>{const v=o.getParent(h.startMarker.start,o.isBlock),T=k=>k===v;cT(h.pattern)?CQ(e,h.pattern,h.endMarker,T):SQ(e,h.pattern,h.startMarker,h.endMarker,T),h9(o,h.endMarker,T),h9(o,h.startMarker,T)}),e.selection.moveToBookmark(r)},v9=(e,t,o)=>SN(t,0,t).map(r=>{const l=r.container;return TN(l,o.start.length,t).each(h=>{const v=e.createRng();v.setStart(l,0),v.setEnd(h.container,h.offset),f3(e,v,T=>T===t)}),l}),g3=e=>(t,o)=>{const r=t.dom,l=o.pattern,h=uM(r.getRoot(),o.range).getOrDie("Unable to resolve path range"),v=(T,k)=>{const B=k.get(T);return Qe(B)&&gs(B).exists(W=>Jn(W,"block"))};return yC(t,h).each(T=>{l.type==="block-format"?v(l.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,T,l),t.formatter.apply(l.format)}):l.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,T,l),t.execCommand(l.cmd,!1,l.value)})}),!0},kQ=e=>Ss(e,(t,o)=>o.start.length-t.start.length),x9=e=>(t,o)=>{const r=kQ(t),l=o.replace(qr," ");return sn(r,h=>e(h,o,l))},w9=(e,t)=>(o,r,l,h,v=r.textContent??"")=>{const T=o.dom,k=pl(o);return T.is(r,k)?e(l.blockPatterns,v).map(B=>t&&an.trim(v).length===B.start.length?[]:[{pattern:B,range:cM(T,T.getRoot(),r,0,r,0,h)}]).getOr([]):[]},DQ=e=>/^\s[^\s]/.test(e),_Q=g3((e,t,o)=>{v9(e,t,o).each(r=>{const l=De.fromDom(r),h=bi(l);DQ(h)&&Sp(l,h.slice(1))})}),p3=x9((e,t,o)=>t.indexOf(e.start)===0||o.indexOf(e.start)===0),OQ=w9(p3,!0),RQ=(e,t)=>{const o=e.selection.getRng();return yC(e,o).map(r=>{const l=Math.max(0,o.startOffset),h=dM(t,r,r.textContent??""),v=y9(e,r,o.startContainer,l,h,!0),T=OQ(e,r,h,!0);return{inlineMatches:v,blockMatches:T}}).filter(({inlineMatches:r,blockMatches:l})=>l.length>0||r.length>0)},NQ=(e,t)=>{if(t.length===0)return;const o=e.selection.getBookmark();Be(t,r=>_Q(e,r)),e.selection.moveToBookmark(o)},MQ=g3(v9),BQ=x9((e,t,o)=>t===e.start||o===e.start),LQ=w9(BQ,!1),PQ=(e,t)=>{const o=e.selection.getRng();return yC(e,o).map(r=>{const l=Math.max(0,o.startOffset),h=fM(e.dom,r,o.startContainer,l),v=dM(t,r,h);return LQ(e,r,v,!1,h)}).filter(r=>r.length>0)},FQ=(e,t)=>{Be(t,o=>MQ(e,o))},$Q=(e,t)=>RQ(e,t).fold(Ze,({inlineMatches:o,blockMatches:r})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{vb(e),mM(e,o),NQ(e,r);const l=e.selection.getRng(),h=CN(l.startContainer,l.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),h.each(v=>{const T=v.container;T.data.charAt(v.offset-1)===gi&&(T.deleteData(v.offset-1,1),bC(e.dom,T.parentNode,k=>k===e.dom.getRoot()))})}),!0)),C9=(e,t)=>{const o=e.selection.getRng();yC(e,o).map(r=>{const l=Math.max(0,o.startOffset-1),h=fM(e.dom,r,o.startContainer,l),v=dM(t,r,h),T=y9(e,r,o.startContainer,l,v,!1);T.length>0&&e.undoManager.transact(()=>{mM(e,T)})})},IQ=(e,t)=>PQ(e,t).fold(Ze,o=>(e.undoManager.transact(()=>{FQ(e,o)}),!0)),hM=(e,t,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],t))return!0;return!1},HQ=(e,t)=>hM(e,t,(o,r)=>o===r.keyCode&&!Ln.modifierPressed(r)),zQ=(e,t)=>hM(e,t,(o,r)=>o.charCodeAt(0)===r.charCode),S9=e=>{const t=[",",".",";",":","!","?"],o=[32],r=()=>fD(fA(e).filter(v=>v.type==="inline-command"||v.type==="block-command"?e.queryCommandSupported(v.cmd):!0),lo(e)),l=()=>Ky(e);e.on("keydown",v=>{if(v.keyCode===13&&!Ln.modifierPressed(v)&&e.selection.isCollapsed()&&e.selection.isEditable()){const T=c2(r(),"enter");(T.inlinePatterns.length>0||T.blockPatterns.length>0||l())&&$Q(e,T)&&v.preventDefault()}},!0),e.on("keydown",v=>{if(v.keyCode===32&&e.selection.isCollapsed()&&e.selection.isEditable()){const T=c2(r(),"space");(T.blockPatterns.length>0||l())&&IQ(e,T)&&v.preventDefault()}},!0);const h=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const v=c2(r(),"space");(v.inlinePatterns.length>0||l())&&C9(e,v)}};e.on("keyup",v=>{HQ(o,v)&&h()}),e.on("keypress",v=>{zQ(t,v)&&Qg.setEditorTimeout(e,h)})},uT=e=>{S9(e)},VQ=e=>{const t=an.each,o=Ln.BACKSPACE,r=Ln.DELETE,l=e.dom,h=e.selection,v=e.parser,T=ds.browser,k=T.isFirefox(),B=T.isChromium()||T.isSafari(),W=ds.deviceType.isiPhone()||ds.deviceType.isiPad(),G=ds.os.isMacOS()||ds.os.isiOS(),Q=(Ht,Sn)=>{try{e.getDoc().execCommand(Ht,!1,String(Sn))}catch{}},ce=Ht=>Ht.isDefaultPrevented(),ke=()=>{const Ht=Xn=>{const Ms=l.create("body"),Cs=Xn.cloneContents();return Ms.appendChild(Cs),h.serializer.serialize(Ms,{format:"html"})},Sn=Xn=>{const Ms=Ht(Xn),Cs=l.createRng();Cs.selectNode(e.getBody());const Zr=Ht(Cs);return Ms===Zr};e.on("keydown",Xn=>{const Ms=Xn.keyCode;if(!ce(Xn)&&(Ms===r||Ms===o)&&e.selection.isEditable()){const Cs=e.selection.isCollapsed(),Zr=e.getBody();if(Cs&&!fo(e.schema,Zr)||!Cs&&!Sn(e.selection.getRng()))return;Xn.preventDefault(),e.setContent(""),Zr.firstChild&&l.isBlock(Zr.firstChild)?e.selection.setCursorLocation(Zr.firstChild,0):e.selection.setCursorLocation(Zr,0),e.nodeChanged()}})},ge=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},Te=()=>{e.inline||l.bind(e.getDoc(),"mousedown mouseup",Ht=>{let Sn;if(Ht.target===e.getDoc().documentElement)if(Sn=h.getRng(),e.getDoc().getSelection()?.anchorNode!==null&&e.getBody().focus(),Ht.type==="mousedown"){if(ad(Sn.startContainer))return;h.placeCaretAt(Ht.clientX,Ht.clientY)}else h.setRng(Sn)})},ot=()=>{e.on("keydown",Ht=>{if(!ce(Ht)&&Ht.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(h.isCollapsed()&&h.getRng().startOffset===0){const Sn=h.getNode(),Xn=Sn.previousSibling;if(Sn.nodeName==="HR"){l.remove(Sn),Ht.preventDefault();return}Xn&&Xn.nodeName&&Xn.nodeName.toLowerCase()==="hr"&&(l.remove(Xn),Ht.preventDefault())}}})},rt=()=>{Range.prototype.getClientRects||e.on("mousedown",Ht=>{if(!ce(Ht)&&Ht.target.nodeName==="HTML"){const Sn=e.getBody();Sn.blur(),Qg.setEditorTimeout(e,()=>{Sn.focus()})}})},ut=()=>{const Ht=sw(e);e.on("click",Sn=>{const Xn=Sn.target;/^(IMG|HR)$/.test(Xn.nodeName)&&l.isEditable(Xn)&&(Sn.preventDefault(),e.selection.select(Xn),e.nodeChanged()),Xn.nodeName==="A"&&l.hasClass(Xn,Ht)&&Xn.childNodes.length===0&&l.isEditable(Xn.parentNode)&&(Sn.preventDefault(),h.select(Xn))})},Ft=()=>{const Ht=Sn=>Sn.nodeName==="IMG"&&e.dom.isEditable(Sn);e.on("mousedown",Sn=>{Bn(X.from(Sn.clientX),X.from(Sn.clientY),(Xn,Ms)=>{const Cs=e.getDoc().caretPositionFromPoint(Xn,Ms),Zr=Cs?.offsetNode?.childNodes[Cs.offset-(Cs.offset>0?1:0)]||Cs?.offsetNode;if(qe(Zr)&&Ht(Zr)){const km=Zr.getBoundingClientRect();Sn.preventDefault(),e.hasFocus()||e.focus(),e.selection.select(Zr),Sn.clientX<km.left||Sn.clientY<km.top?e.selection.collapse(!0):(Sn.clientX>km.right||Sn.clientY>km.bottom)&&e.selection.collapse(!1)}})})},Jt=()=>{const Ht=()=>{const Xn=l.getAttribs(h.getStart().cloneNode(!1));return()=>{const Ms=h.getStart();Ms!==e.getBody()&&(l.setAttrib(Ms,"style",null),t(Xn,Cs=>{Ms.setAttributeNode(Cs.cloneNode(!0))}))}},Sn=()=>!h.isCollapsed()&&l.getParent(h.getStart(),l.isBlock)!==l.getParent(h.getEnd(),l.isBlock);e.on("keypress",Xn=>{let Ms;return!ce(Xn)&&(Xn.keyCode===8||Xn.keyCode===46)&&Sn()?(Ms=Ht(),e.getDoc().execCommand("delete",!1),Ms(),Xn.preventDefault(),!1):!0}),l.bind(e.getDoc(),"cut",Xn=>{if(!ce(Xn)&&Sn()){const Ms=Ht();Qg.setEditorTimeout(e,()=>{Ms()})}})},Rn=()=>{e.on("keydown",Ht=>{if(!ce(Ht)&&Ht.keyCode===o&&h.isCollapsed()&&h.getRng().startOffset===0){const Sn=h.getNode().previousSibling;if(Sn&&Sn.nodeName&&Sn.nodeName.toLowerCase()==="table")return Ht.preventDefault(),!1}return!0})},io=()=>{e.on("keydown",Ht=>{if(ce(Ht)||Ht.keyCode!==Ln.BACKSPACE)return;let Sn=h.getRng();const Xn=Sn.startContainer,Ms=Sn.startOffset,Cs=l.getRoot();let Zr=Xn;if(!(!Sn.collapsed||Ms!==0)){for(;Zr.parentNode&&Zr.parentNode.firstChild===Zr&&Zr.parentNode!==Cs;)Zr=Zr.parentNode;Zr.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Zr),Sn=l.createRng(),Sn.setStart(Xn,0),Sn.setEnd(Xn,0),h.setRng(Sn))}})},Lt=()=>{const Ht=Pa("figcaption");e.on("keydown",Sn=>{if(Sn.keyCode===Ln.LEFT||Sn.keyCode===Ln.RIGHT){const Xn=De.fromDom(e.selection.getNode());Ht(Xn)&&e.selection.isCollapsed()&&Zi(Xn).bind(Ms=>e.selection.getRng().startOffset===0&&Sn.keyCode===Ln.LEFT?Wu(Ms):e.selection.getRng().endOffset===Xn.dom.textContent?.length&&Sn.keyCode===Ln.RIGHT?Za(Ms):X.none()).each(Ms=>{e.selection.setCursorLocation(Ms.dom,0)})}})},Ct=()=>{const Ht=()=>{Q("StyleWithCSS",!1),Q("enableInlineTableEditing",!1),rA(e)||Q("enableObjectResizing",!1)};p2(e)||e.on("BeforeExecCommand mousedown",Ht)},$t=()=>{const Ht=()=>{t(l.select("a:not([data-mce-block])"),Sn=>{let Xn=Sn.parentNode;const Ms=l.getRoot();if(Xn?.lastChild===Sn){for(;Xn&&!l.isBlock(Xn);){if(Xn.parentNode?.lastChild!==Xn||Xn===Ms)return;Xn=Xn.parentNode}l.add(Xn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Sn=>{(Sn.type==="setcontent"||Sn.command==="mceInsertLink")&&Ht()})},On=()=>{e.on("init",()=>{Q("DefaultParagraphSeparator",pl(e))})},Bo=Ht=>{const Sn=Ht.getBody(),Xn=Ht.selection.getRng();return Xn.startContainer===Xn.endContainer&&Xn.startContainer===Sn&&Xn.startOffset===0&&Xn.endOffset===Sn.childNodes.length},Lo=()=>{e.on("keyup focusin mouseup",Ht=>{!Ln.modifierPressed(Ht)&&!Bo(e)&&h.normalize()},!0)},Zs=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Pr=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Ca=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",Ht=>{let Sn;Ht.target.nodeName==="HTML"&&(Sn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Sn),e.selection.normalize(),e.nodeChanged())}))},ti=()=>{G&&e.on("keydown",Ht=>{Ln.metaKeyPressed(Ht)&&!Ht.shiftKey&&(Ht.keyCode===37||Ht.keyCode===39)&&(Ht.preventDefault(),e.selection.getSel().modify("move",Ht.keyCode===37?"backward":"forward","lineboundary"))})},jc=()=>{e.on("click",Ht=>{let Sn=Ht.target;do if(Sn.tagName==="A"){Ht.preventDefault();return}while(Sn=Sn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Am=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",Ht=>{Ht.preventDefault()})})},$n=()=>{v.addNodeFilter("br",Ht=>{let Sn=Ht.length;for(;Sn--;)Ht[Sn].attr("class")==="Apple-interchange-newline"&&Ht[Sn].remove()})},go=Pt,_r=()=>{if(!k||e.removed)return!1;const Ht=e.selection.getSel();return!Ht||!Ht.rangeCount||Ht.rangeCount===0},br=()=>{B&&(Te(),ut(),Am(),ge(),W&&(Pr(),Ca(),jc())),k&&(rt(),Ct(),Zs(),ti())},vu=()=>{io(),ke(),ds.windowsPhone||Lo(),B&&(Te(),ut(),On(),Am(),Rn(),$n(),W?(Pr(),Ca(),jc()):ge()),k&&(Lt(),Ft(),ot(),rt(),Jt(),Ct(),$t(),Zs(),ti(),Rn())};return v0(e)?br():vu(),{refreshContentEditable:go,isHidden:_r}};class gM extends Error{url;constructor(t,o){super(t),this.url=o}}const pM={},jQ=(e,t,o)=>new Promise((r,l)=>{const h=De.fromTag("script");Wa(h,{type:"text/javascript",src:e,...o});const v=()=>{ws(h)};vg(h,"load",()=>{v(),r()}),vg(h,"error",()=>{v(),l(new Error(`Failed to load script url: ${e}`))}),$s(xp(t),h)}),E9=async(e,t)=>{const o=sr.ScriptLoader.getScriptAttributes(e);return await jQ(e,t,o).catch(()=>Promise.reject(new gM(`Failed to load component url: ${e}`,e))),e},UQ=e=>Gn(e,(t,o)=>Ro(pM,t).getOrThunk(()=>{if(mn(window.customElements.get(o))){const r=E9(t,Cl());return pM[t]=r,r}else return Promise.resolve(t)}).catch(r=>(delete pM[t],Promise.reject(r)))),T9=(e,t)=>{const o=Ma(yo(e));return tt(o,r=>E9(r,De.fromDom(t)))},ZQ=e=>{const t=e.schema.getComponentUrls();return e.inline?UQ(t):T9(t,e.getDoc())},A9=async e=>{const t=ZQ(e),o=yt(await Promise.allSettled(t),r=>r.status==="rejected");o.length>0&&Be(o,r=>{if(r.reason instanceof gM){const{url:l}=r.reason;iW(e,l)}})},WQ=e=>{A9(e)},bM=hs.DOM,qQ=(e,t)=>{const o=De.fromDom(e.getBody()),r=Mm(ra(o)),l=De.fromTag("style");Or(l,"type","text/css"),$s(l,De.fromText(t)),$s(r,l),e.on("remove",()=>{ws(l)})},GQ=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,yM=e=>Yn(e,t=>Tn(t)===!1),k9=e=>{const t=e.options.get,o=e.editorUpload.blobCache;return yM({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_html_in_comments:t("allow_html_in_comments"),allow_mathml_annotation_encodings:t("allow_mathml_annotation_encodings"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),extended_mathml_attributes:t("extended_mathml_attributes"),extended_mathml_elements:t("extended_mathml_elements"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:GQ(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:a0(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},D9=e=>{const t=e.options.get;return yM({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},KQ=e=>{const t=e.options.get;return{...k9(e),...D9(e),...yM({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},YQ=e=>{const t=Bw(k9(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const l=e.dom,h="data-mce-"+r;let v=o.length;for(;v--;){const T=o[v];let k=T.attr(r);if(k&&!T.attr(h)){if(k.indexOf("data:")===0||k.indexOf("blob:")===0)continue;r==="style"?(k=l.serializeStyle(l.parseStyle(k),T.name),k.length||(k=null),T.attr(h,k),T.attr(r,k)):r==="tabindex"?(T.attr(h,k),T.attr(r,null)):T.attr(h,e.convertURL(k,r,T.name))}}}),t.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const l=o[r],h=l.attr("type")||"no/type";h.indexOf("mce-")!==0&&l.attr("type","mce-"+h)}}),dS(e)&&t.addNodeFilter("#cdata",o=>{let r=o.length;for(;r--;){const l=o[r];l.type=8,l.name="#comment",l.value="[CDATA["+e.dom.encode(l.value??"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const l=e.schema.getNonEmptyElements();for(;r--;){const h=o[r];h.isEmpty(l)&&h.getAll("br").length===0&&h.append(new Hc("br",1))}}),t},_9=e=>{const t=_D(e);t&&Qg.setEditorTimeout(e,()=>{let o;t===!0?o=e:o=e.editorManager.get(t),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},vM=e=>{const t=e.dom.getRoot();!e.inline&&(!_S(e)||e.selection.getStart(!0)===t)&&$(t).each(o=>{const r=o.getNode(),l=iu(r)?$(r).getOr(o):o;e.selection.setRng(l.toRange())})},O9=e=>{e.bindPendingEventDelegates(),e.initialized=!0,$T(e),e.focus(!0),vM(e),e.nodeChanged({initial:!0});const t=DD(e);Oe(t)&&t.call(e,e),_9(e),Kb(e)&&qP(e,!0)},b3=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,XQ=(e,t,o)=>{const{pass:r,fail:l}=Rt(t,T=>tinymce.Resource.has(mv(T))),v=[...r.map(T=>{const k=tinymce.Resource.get(mv(T));return J(k)?Promise.resolve(b3(e).loadRawCss(T,k)):Promise.resolve()}),b3(e).loadAll(l)];return e.inline?v:v.concat([e.ui.styleSheetLoader.loadAll(o)])},R9=e=>{const t=b3(e),o=nS(e),r=e.contentCSS,l=()=>{t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},h=()=>{e.removed?l():e.on("remove",l)};if(e.contentStyles.length>0){let k="";an.each(e.contentStyles,B=>{k+=B+`\r
`}),e.dom.addStyle(k)}const v=Promise.all(XQ(e,r,o)).then(h).catch(h),T=Nb(e);return T&&qQ(e,T),v},QQ=e=>{const t=e.getDoc(),o=e.getBody();FT(e),uA(e)||(t.body.spellcheck=!1,bM.setAttrib(o,"spellcheck","false")),e.quirks=VQ(e),fr(e);const r=vD(e);r!==void 0&&(o.dir=r);const l=OD(e);l&&e.on("BeforeSetContent",h=>{an.each(l,v=>{h.content=h.content.replace(v,T=>"<!--mce:protected "+escape(T)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",h=>{e.composing=h.type==="compositionstart"})},N9=e=>{v0(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},y3=e=>{e.removed!==!0&&(N9(e),O9(e))},JQ=e=>{let t=!1;const o=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(o),t=!0,e.setProgressState(!1)}},M9=e=>{const t=e.getElement();let o=e.getDoc();e.inline&&(bM.addClass(t,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const r=e.getBody();r.disabled=!0,e.readonly=p2(e),e._editableRoot=ow(e),!nh(e)&&e.hasEditableRoot()&&(e.inline&&bM.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=K2(e),e.schema=Bs(D9(e)),e.dom=hs(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:nA(e),referrerPolicy:Qx(e),crossOrigin:Rb(e),onSetAttrib:v=>{e.dispatch("SetAttrib",v)}}),e.parser=YQ(e),e.serializer=b5(KQ(e),e),e.selection=g5(e.dom,e.getWin(),e.serializer,e),e.annotator=zB(e),e.formatter=JP(e),e.undoManager=RW(e),e._nodeChangeDispatcher=new aX(e),e._selectionOverrides=d3(e),Yr(e),JG(e),GI(e),oK(e),v0(e)||(UX(e),uT(e));const l=QY(e);eN(e,l),cp(e),LW(e),FX(e,l);const h=PZ(e);QQ(e),WQ(e),h.fold(()=>{const v=JQ(e);R9(e).then(()=>{y3(e),v()})},v=>{e.setProgressState(!0),R9(e).then(()=>{v().then(T=>{e.setProgressState(!1),y3(e),Wk(e)},T=>{e.notificationManager.open({type:"error",text:String(T)}),y3(e),Wk(e)})})})},dT=hs.DOM,v3=(e,t,o,r)=>{const l=De.fromTag("iframe");return r.each(h=>Or(l,"tabindex",h)),Wa(l,o),Wa(l,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",...ds.browser.isFirefox()?{title:t}:{}}),pc(l,"tox-edit-area__iframe"),l},B9=e=>{let t=XC(e)+"<html><head>";QC(e)!==e.editorManager.documentBaseURL&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=qT(e),r=GT(e),l=e.translate(rw(e)),h=ds.browser.isFirefox()?"":`aria-label="${l}"`;return KT(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+KT(e)+'" />'),t+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" ${h}><br></body></html>`,t},L9=(e,t)=>{const o=rw(e),r=e.translate(o),l=ul(De.fromDom(e.getElement()),"tabindex").bind(Ef),h=v3(e.id,r,WT(e),l).dom;h.onload=()=>{h.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=h,e.iframeHTML=B9(e),dT.add(t.iframeContainer,h)},P9=e=>{const t=e.iframeElement,o=()=>{e.contentDocument=t.contentDocument,M9(e)};if(w2(e)||ds.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),o()}else{const r=vg(De.fromDom(t),"load",()=>{r.unbind(),o()});t.srcdoc=e.iframeHTML}},eJ=(e,t)=>{L9(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=dT.isHidden(t.editorContainer)),e.getElement().style.display="none",dT.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,P9(e)},F9=hs.DOM,tJ=(e,t,o)=>{const r=fv.get(o),l=fv.urls[o]||e.editorManager.documentBaseURL.replace(/\/$/,"");if(o=an.trim(o),r&&an.inArray(t,o)===-1){if(e.plugins[o])return;try{const h=r(e,l)||{};e.plugins[o]=h,Oe(h.init)&&(h.init(e,l),t.push(o))}catch(h){lW(e,o,h)}}},nJ=e=>{const t=o=>{o.keyCode===Ln.ESC&&!o.defaultPrevented&&ZT(e).isDefaultPrevented()&&o.preventDefault()};document.addEventListener("keyup",t),e.inline||e.on("keyup",t),e.on("remove",()=>{document.removeEventListener("keyup",t),e.inline||e.off("keyup",t)})},R1=e=>e.replace(/^\-/,""),$9=e=>{const t=[];Be(b2(e),o=>{tJ(e,t,R1(o))})},oJ=e=>{const t=an.trim(h2(e)),o=e.ui.registry.getAll().icons,r={...Kk.get("default").icons,...Kk.get(t).icons};Oo(r,(l,h)=>{Jn(o,h)||e.ui.registry.addIcon(h,l)})},I9=e=>{const t=Zg(e);if(J(t)){const o=j2.get(t);e.theme=o(e,j2.urls[t])||{},Oe(e.theme.init)&&e.theme.init(e,j2.urls[t]||e.editorManager.documentBaseURL.replace(/\/$/,""))}else e.theme={}},sJ=e=>{const t=tw(e),o=jw.get(t);e.model=o(e,jw.urls[t])},rJ=e=>{B5.init(e)},xM=e=>{const t=e.theme.renderUI;return t?t():z9(e)},x3=e=>{const t=e.getElement(),r=Zg(e)(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},H9=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),aJ=e=>{const t=F9.create("div");return F9.insertAfter(t,e),H9(t,t)},z9=e=>{const t=e.getElement();return e.inline?H9(null):aJ(t)},V9=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,J(Zg(e))?xM(e):Oe(Zg(e))?x3(e):z9(e)},iJ=(e,t)=>{const o={show:X.from(t.show).getOr(Pt),hide:X.from(t.hide).getOr(Pt),isEnabled:X.from(t.isEnabled).getOr(bt),setEnabled:r=>{r&&(e.mode.get()==="readonly"||Kb(e))||X.from(t.setEnabled).each(h=>h(r))}};e.ui={...e.ui,...o}},j9=async e=>{e.dispatch("ScriptsLoaded"),oJ(e),nJ(e),I9(e),sJ(e),rJ(e),$9(e);const t=await V9(e);iJ(e,X.from(t.api).getOr({})),e.editorContainer=t.editorContainer,vW(e),e.inline?M9(e):eJ(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},cx=hs.DOM,U9=e=>e.charAt(0)==="-",lJ=(e,t)=>{const o=oA(t),r=sA(t);if(!Fu.hasCode(o)&&o!=="en"){const l=Hr(r)?r:`${t.editorManager.baseURL}/langs/${o}.js`;e.add(l).catch(()=>{Z2(t,l,o)})}},cJ=(e,t)=>{const o=Zg(e);if(J(o)&&!U9(o)&&!Jn(j2.urls,o)){const r=aA(e),l=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${t}.js`;j2.load(o,l).catch(()=>{PP(e,l,o)})}},uJ=(e,t)=>{const o=tw(e);if(o!=="plugin"&&!Jn(jw.urls,o)){const r=CD(e),l=J(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${t}.js`;jw.load(o,l).catch(()=>{aW(e,l,o)})}},Z9=(e,t)=>{B5.load(e,t)},w3=e=>X.from(eS(e)).filter(Hr).map(t=>({url:t,name:X.none()})),C3=(e,t,o)=>X.from(t).filter(r=>Hr(r)&&!Kk.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:X.some(r)})),dJ=(e,t,o)=>{const r=C3(t,"default",o),l=w3(t).orThunk(()=>C3(t,h2(t),""));Be(oo([r,l]),h=>{e.add(h.url).catch(()=>{rW(t,h.url,h.name.getOrUndefined())})})},W9=(e,t)=>{const o=(r,l)=>{r!=="licensekeymanager"&&fv.load(r,l).catch(()=>{LP(e,l,r)})};Oo(iS(e),(r,l)=>{o(l,r),e.options.set("plugins",b2(e).concat(l))}),Be(b2(e),r=>{r=an.trim(r),r&&!fv.urls[r]&&!U9(r)&&o(r,`plugins/${r}/plugin${t}.js`)})},q9=e=>{const t=Zg(e);return!J(t)||qe(j2.get(t))},fJ=e=>{const t=tw(e);return qe(jw.get(t))},G9=(e,t)=>{const o=sr.ScriptLoader,r=()=>{!e.removed&&q9(e)&&fJ(e)&&j9(e)};cJ(e,t),uJ(e,t),Z9(e,t),lJ(o,e),dJ(o,e,t),W9(e,t),o.loadQueue().then(r,r)},mJ=(e,t)=>Vm.forElement(e,{contentCssCors:aS(t),referrerPolicy:Qx(t)}),hJ=e=>{const t=e.id;Fu.setCode(oA(e));const o=()=>{cx.unbind(window,"ready",o),e.render()};if(!Ld.Event.domLoaded){cx.bind(window,"ready",o);return}if(!e.getElement())return;const r=De.fromDom(e.getElement()),l=cs(r);e.on("remove",()=>{Je(r.dom.attributes,v=>li(r,v.name)),Wa(r,l)}),e.ui.styleSheetLoader=mJ(r,e),g2(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const h=e.getElement().form||cx.getParent(t,"form");h&&(e.formElement=h,rS(e)&&!af(e.getElement())&&(cx.insertAfter(cx.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=v=>{e.dispatch(v.type,v)},cx.bind(h,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),TD(e)&&!h.submit.nodeType&&!h.submit.length&&!h._mceOldSubmit&&(h._mceOldSubmit=h.submit,h.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),h._mceOldSubmit(h)))),e.windowManager=BP(e),e.notificationManager=CE(e),hA(e)&&e.on("GetContent",v=>{v.save&&(v.content=cx.encode(v.content))}),AD(e)&&e.on("submit",()=>{e.initialized&&e.save()}),nw(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),G9(e,e.suffix)},K9=["#E41B60","#AD1457","#1939EC","#001CB5","#648000","#465B00","#006CE7","#0054B4","#00838F","#006064","#00866F","#004D40","#51742F","#385021","#CF4900","#A84600","#CC0000","#6A1B9A","#9C27B0","#6A00AB","#3041BA","#0A1877","#774433","#452B24","#607D8B","#455A64"],gJ=e=>Intl.Segmenter?`${new Intl.Segmenter().segment(e)[Symbol.iterator]().next().value?.segment}`:e.trim()[0],Y9=(e,t)=>{let o=5381;for(let r=0;r<e.length;r++)o=(o<<5)+o+e.charCodeAt(r);return(o>>>0)%(t+1)},X9=e=>{const t=Y9(e??"",K9.length-1);return K9[t]},Q9=(e,t,o)=>{const r=o/2;return`<svg height="${o}" width="${o}" xmlns="http://www.w3.org/2000/svg"><circle cx="${r}" cy="${r}" r="${r}" fill="${t}"/><text x="50%" y="50%" text-anchor="middle" dominant-baseline="central" fill="#FFF" font-family="sans-serif" font-size="${r}">`+e+"</text></svg>"},J9=(e,t,o)=>"data:image/svg+xml,"+encodeURIComponent(Q9(e,t,o)),S3=(e,t={size:36})=>J9(gJ(e.name),X9(e.id),t.size),eH=js([o0("id"),c1("name"),c1("avatar"),Us("custom")]),wM=e=>{const t={};return Oo(e,(o,r)=>{o.each(l=>{t[r]=l})}),t},tH=e=>{if(!Array.isArray(e))throw new Error("fetch_users must return an array");const t=tt(e,l=>hf("Invalid user object",eH,l)),{errors:o,values:r}=Sa(t);if(o.length>0){const l=tt(o,(h,v)=>`User at index ${v}: ${Jm(h)}`);console.warn(`User validation errors:
`+l.join(`
`))}return tt(r,l=>{const{id:h,name:v,avatar:T,...k}=l;return{id:h,name:v.getOr(h),avatar:T.getOr(S3({id:h,name:v.getOr(h)})),...wM(k)}})},nH=e=>{const t=new Map,o=new Map,r=B=>X.from(t.get(B)),l=(B,W)=>{t.set(W,B)},h=(B,W)=>X.from(o.get(B)).each(({reject:G})=>{G(W),o.delete(B)}),v=(B,W)=>X.from(o.get(B)).each(({resolve:G})=>{G(W),o.delete(B)}),T=B=>{const W=yA(e);if(Array.isArray(B)){if(!W)return Vs(B,Q=>Promise.resolve({id:Q,name:Q,avatar:S3({id:Q,name:Q})}))}else return{};const G=Ma(yt(B,Q=>!r(Q).isSome()));return Be(G,Q=>{const ce=new Promise((ke,ge)=>{o.set(Q,{resolve:ke,reject:ge})});l(ce,Q)}),G.length>0&&W(G).then(tH).then(Q=>{const ce=new Set(tt(Q,ke=>ke.id));Be(Q,ke=>v(ke.id,ke)),Be(G,ke=>{ce.has(ke)||h(ke,new Error(`User ${ke} not found`))})}).catch(Q=>{Be(G,ce=>h(ce,Q instanceof Error?Q:new Error("Network error")))}),Le(B,(Q,ce)=>(Q[ce]=r(ce).getOr(Promise.resolve({id:ce,name:ce,avatar:S3({id:ce,name:ce})})),Q),{})},k=bA(e);return Object.freeze({userId:k,fetchUsers:T})},oH=e=>nH(e),pJ=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,Kb(e)||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),UT(e,t))},bJ=e=>e._editableRoot,sH=(e,t)=>({sections:at(e),options:at(t)}),CM=bs().deviceType,SM=CM.isPhone(),rH=CM.isTablet(),ux=e=>{if(mn(e))return[];{const t=Qe(e)?e:e.split(/[ ,]/),o=tt(t,Jr);return yt(o,Hr)}},EM=(e,t)=>{const o=Gt(t,(r,l)=>Ne(e,l));return sH(o.t,o.f)},E3=(e,t,o={})=>{const r=e.sections(),l=Ro(r,t).getOr({});return an.extend({},o,l)},T3=(e,t)=>Jn(e.sections(),t),aH=(e,t)=>T3(e,t)?e.sections()[t]:{},iH=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Ro(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),TM=(e,t)=>{const o=t.external_plugins??{};return e&&e.external_plugins?an.extend({},e.external_plugins,o):o},lH=(e,t)=>[...ux(e),...ux(t)],cH=(e,t,o,r)=>e&&T3(t,"mobile")?r:o,yJ=(e,t,o,r)=>{const l=ux(o.forced_plugins),h=ux(r.plugins),v=aH(t,"mobile"),T=v.plugins?ux(v.plugins):h,k=cH(e,t,h,T),B=lH(l,k);return an.extend(r,{forced_plugins:l,plugins:B})},uH=(e,t)=>e&&T3(t,"mobile"),vJ=(e,t,o,r,l)=>{const h=e?{mobile:iH(l.mobile??{},t)}:{},v=EM(["mobile"],jt(h,l)),T=an.extend(o,r,v.options(),uH(e,v)?E3(v,"mobile"):{},{external_plugins:TM(r,v.options())});return yJ(e,v,r,T)},xJ=(e,t)=>{const o=xn(t);return vJ(SM||rH,SM,o,e,o)},wJ=(e,t)=>SP(e,t),dH=e=>{const t=(r,l)=>{e.formatter.toggle(r,l),e.nodeChanged()},o=r=>()=>{Be("left,center,right,justify".split(","),l=>{r!==l&&e.formatter.remove("align"+l)}),r!=="none"&&t("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},CJ=e=>{const t=o=>()=>{const r=e.selection,l=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return Ge(l,h=>qe(e.formatter.matchNode(h,o)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},fH=e=>{dH(e),CJ(e)},A3=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const o=e.getDoc();let r;try{o.execCommand(t)}catch{r=!0}if(t==="paste"&&!o.queryCommandEnabled(t)&&(r=!0),r||!o.queryCommandSupported(t)){let l=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(ds.os.isMacOS()||ds.os.isiOS())&&(l=l.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:l,type:"error"})}}})},SJ=(e,t,o,r)=>{const l=De.fromDom(e.getRoot());return ZS(l,_t.fromRangeStart(t),r)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),fd(l,_t.fromRangeEnd(t),r)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},mH=e=>{if(typeof e!="string"){const t=an.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},EJ=(e,t)=>{const o=e.selection,r=e.dom;return/^ | $/.test(t)?SJ(r,o.getRng(),t,e.schema):t},fT=(e,t)=>{if(e.selection.isEditable()){const{content:o,details:r}=mH(t);lE(e,{...r,content:EJ(e,o),format:"html",set:!1,selection:!0}).each(l=>{const h=qb(e,l.content,r);$O(e,h,l),e.addVisual()})}},AM=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,o,r)=>{fT(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,o,r)=>{fT(e,e.dom.encode(r))},insertHTML:(t,o,r)=>{fT(e,r)},mceInsertContent:(t,o,r)=>{fT(e,r)},mceSetContent:(t,o,r)=>{e.setContent(r)},mceReplaceContent:(t,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(MD(e))}})},TJ={"font-size":"size","font-family":"face"},AJ=Pa("font"),hH=(e,t,o)=>{const r=h=>ui(h,e).orThunk(()=>AJ(h)?Ro(TJ,e).bind(v=>ul(h,v)):X.none()),l=h=>ss(De.fromDom(t),h);return Yu(De.fromDom(o),h=>r(h),l)},kJ=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),DJ=(e,t)=>X.from(hs.DOM.getStyle(t,e,!0)),gH=e=>(t,o)=>X.from(o).map(De.fromDom).filter(fa).bind(r=>hH(e,t,r.dom).or(DJ(e,r.dom))).getOr(""),_J=gH("font-size"),OJ=P(kJ,gH("font-family")),pH=e=>$(e.getBody()).bind(t=>{const o=t.container();return X.from(dn(o)?o.parentNode:o)}),bH=e=>X.from(e.selection.getRng()).bind(t=>{const o=e.getBody();return t.startContainer===o&&t.startOffset===0?X.none():X.from(e.selection.getStart(!0))}),RJ=(e,t)=>bH(e).orThunk(ee(pH,e)).map(De.fromDom).filter(fa).bind(t),kM=(e,t)=>RJ(e,Vt(X.some,t)),yH=(e,t)=>{if(/^[0-9.]+$/.test(t)){const o=parseInt(t,10);if(o>=1&&o<=7){const r=fS(e),l=mS(e);return l.length>0?l[o-1]||t:r[o-1]||t}else return t}else return t},NJ=e=>{const t=e.split(/\s*,\s*/);return tt(t,o=>o.indexOf(" ")!==-1&&!(wo(o,'"')||wo(o,"'"))?`'${o}'`:o).join(",")},n=(e,t)=>{const o=yH(e,t);e.formatter.toggle("fontname",{value:NJ(o)}),e.nodeChanged()},s=e=>kM(e,t=>OJ(e.getBody(),t.dom)).getOr(""),i=(e,t)=>{e.formatter.toggle("fontsize",{value:yH(e,t)}),e.nodeChanged()},f=e=>kM(e,t=>_J(e.getBody(),t.dom)).getOr(""),b=e=>kM(e,t=>{const o=De.fromDom(e.getBody()),r=Yu(t,h=>ui(h,"line-height"),ee(ss,o)),l=()=>{const h=parseFloat(ka(t,"line-height")),v=parseFloat(ka(t,"font-size"));return String(h/v)};return r.getOrThunk(l)}).getOr(""),w=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},S=e=>{const t=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{t(o)},"ForeColor,HiliteColor":(o,r,l)=>{t(o,{value:l})},BackColor:(o,r,l)=>{t("hilitecolor",{value:l})},FontName:(o,r,l)=>{n(e,l)},FontSize:(o,r,l)=>{i(e,l)},LineHeight:(o,r,l)=>{w(e,l)},Lang:(o,r,l)=>{t(o,{value:l.code,customValue:l.customCode??null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(o,r,l)=>{t(J(l)?l:"p")},mceToggleFormat:(o,r,l)=>{t(l)}})},_=e=>{const t=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>t(o),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>s(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>f(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>b(e))},M=e=>{S(e),_(e)},I=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},Z=e=>{e.editorCommands.addCommands({Indent:()=>{T7(e)},Outdent:()=>{ey(e)}}),e.editorCommands.addCommands({Outdent:()=>C7(e),Indent:()=>YG(e)},"state")},K=e=>{const t=(o,r,l)=>{if(e.mode.isReadOnly())return;const h=J(l)?{href:l}:l,v=e.dom.getParent(e.selection.getNode(),"a");vt(h)&&J(h.href)&&(h.href=h.href.replace(/ /g,"%20").replace(/&amp;/g,"&"),(!v||!h.href)&&e.formatter.remove("link"),h.href&&e.formatter.apply("link",h,v))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},le=(e,t,o,r)=>{const l=e.dom,h=T=>l.isBlock(T)&&T.parentElement===o,v=h(t)?t:l.getParent(r,h,o);return X.from(v).map(De.fromDom)},he=(e,t)=>{if(e.mode.isReadOnly())return;const o=e.dom,r=e.selection.getRng(),l=t?e.selection.getStart():e.selection.getEnd(),h=t?r.startContainer:r.endContainer,v=YE(o,h);if(!v||!v.isContentEditable)return;const T=t?cl:Sl,k=pl(e);le(e,l,v,h).each(B=>{const W=W$(e,h,B.dom,v,!1,k);T(B,De.fromDom(W)),e.selection.setCursorLocation(W,0),e.dispatch("NewBlock",{newBlock:W}),GE(e,"insertParagraph")})},ye=e=>he(e,!0),_e=e=>he(e,!1),Ie=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{ye(e)},InsertNewBlockAfter:()=>{_e(e)}})},Se=e=>{e.editorCommands.addCommands({insertParagraph:()=>{K4(QE,e)},mceInsertNewLine:(t,o,r)=>{cI(e,r)},InsertLineBreak:(t,o,r)=>{K4(sI,e)}})},Ye=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,o,r)=>{let l=0;e.dom.getParent(e.selection.getNode(),h=>Cn(h)&&l++===r?(e.selection.select(h),!1):!0,e.getBody())},mceSelectNode:(t,o,r)=>{e.selection.select(r)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),Mu);if(t){const o=e.dom.createRng();o.selectNodeContents(t),e.selection.setRng(o)}}})},st=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,o,r)=>{const l=r??e.selection.getNode();if(l!==e.getBody()){const h=e.selection.getBookmark();e.dom.remove(l,!0),e.selection.moveToBookmark(h)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,o,r)=>{YB(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},xt=e=>{fH(e),A3(e),I(e),Ye(e),AM(e),K(e),Z(e),Ie(e),Se(e),M(e),st(e)},Ot=["toggleview"],kn=e=>Ne(Ot,e.toLowerCase());class Qt{editor;commands={state:{},exec:{},value:{}};constructor(t){this.editor=t}execCommand(t,o=!1,r,l){const h=this.editor,v=t.toLowerCase(),T=l?.skip_focus;if(h.removed||(v!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(v)&&!T?h.focus():Vz(h)),h.dispatch("BeforeExecCommand",{command:t,ui:o,value:r}).isDefaultPrevented()))return!1;const B=this.commands.exec[v];return Oe(B)?(B(v,o,r,l),h.dispatch("ExecCommand",{command:t,ui:o,value:r,args:l}),!0):!1}queryCommandState(t){if(!kn(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=t.toLowerCase(),r=this.commands.state[o];return Oe(r)?r(o):!1}queryCommandValue(t){if(!kn(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=t.toLowerCase(),r=this.commands.value[o];return Oe(r)?r(o):""}addCommands(t,o="exec"){const r=this.commands;Oo(t,(l,h)=>{Be(h.toLowerCase().split(","),v=>{r[o][v]=l})})}addCommand(t,o,r){const l=t.toLowerCase();this.commands.exec[l]=(h,v,T,k)=>o.call(r??this.editor,v,T,k)}removeCommand(t,o){const r=t.toLowerCase();o?delete this.commands[o][r]:(delete this.commands.exec[r],delete this.commands.state[r],delete this.commands.value[r])}queryCommandSupported(t){const o=t.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(t,o,r){this.commands.state[t.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(t,o,r){this.commands.value[t.toLowerCase()]=()=>o.call(r??this.editor)}}const rn=an.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class on{static isNative(t){return!!rn[t.toLowerCase()]}settings;scope;toggleEvent;bindings={};constructor(t){this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Ze}fire(t,o){return this.dispatch(t,o)}dispatch(t,o){const r=t.toLowerCase(),l=Ip(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);const h=this.bindings[r];if(h)for(let v=0,T=h.length;v<T;v++){const k=h[v];if(!k.removed){if(k.once&&this.off(r,k.func),l.isImmediatePropagationStopped())return l;if(k.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l}on(t,o,r,l){if(o===!1&&(o=Ze),o){const h={func:o,removed:!1};l&&an.extend(h,l);const v=t.toLowerCase().split(" ");let T=v.length;for(;T--;){const k=v[T];let B=this.bindings[k];B||(B=[],this.toggleEvent(k,!0)),r?B=[h,...B]:B=[...B,h],this.bindings[k]=B}}return this}off(t,o){if(t){const r=t.toLowerCase().split(" ");let l=r.length;for(;l--;){const h=r[l];let v=this.bindings[h];if(!h)return Oo(this.bindings,(T,k)=>{this.toggleEvent(k,!1),delete this.bindings[k]}),this;if(v){if(!o)v.length=0;else{const T=Rt(v,k=>k.func===o);v=T.fail,this.bindings[h]=v,Be(T.pass,k=>{k.removed=!0})}v.length||(this.toggleEvent(t,!1),delete this.bindings[h])}}}else Oo(this.bindings,(r,l)=>{this.toggleEvent(l,!1)}),this.bindings={};return this}once(t,o,r){return this.on(t,o,r,{once:!0})}has(t){t=t.toLowerCase();const o=this.bindings[t];return!(!o||o.length===0)}}const mo=e=>(e._eventDispatcher||(e._eventDispatcher=new on({scope:e,toggleEvent:(t,o)=>{on.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,o)}})),e._eventDispatcher),to={fire(e,t,o){return cE("fire"),this.dispatch(e,t,o)},dispatch(e,t,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return Ip(e.toLowerCase(),t??{},r);const l=mo(r).dispatch(e,t);if(o!==!1&&r.parent){let h=r.parent();for(;h&&!l.isPropagationStopped();)h.dispatch(e,l,!1),h=h.parent?h.parent():void 0}return l},on(e,t,o){return mo(this).on(e,t,o)},off(e,t){return mo(this).off(e,t)},once(e,t){return mo(this).once(e,t)},hasEventListeners(e){return mo(this).has(e)}},ys=hs.DOM;let ho;const Vo=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const o=ew(e);return o?(e.eventRoot||(e.eventRoot=ys.select(o)[0]),e.eventRoot):e.getBody()},no=e=>!e.hidden&&!Kb(e),Kt=(e,t,o)=>{no(e)?e.dispatch(t,o):Kb(e)&&hW(e,o)},vn=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const o=Vo(e,t);if(ew(e)){if(ho||(ho={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||ho&&(Oo(ho,(l,h)=>{e.dom.unbind(Vo(e,h))}),ho=null)})),ho[t])return;const r=l=>{const h=l.target,v=e.editorManager.get();let T=v.length;for(;T--;){const k=v[T].getBody();(k===h||ys.isChildOf(h,k))&&Kt(v[T],t,l)}};ho[t]=r,ys.bind(o,t,r)}else{const r=l=>{Kt(e,t,l)};ys.bind(o,t,r),e.delegates[t]=r}},Eo={...to,bindPendingEventDelegates(){const e=this;an.each(e._pendingNativeEvents,t=>{vn(e,t)})},toggleNativeEvent(e,t){const o=this;e==="focus"||e==="blur"||o.removed||(t?o.initialized?vn(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(Vo(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),o=e.dom;e.delegates&&(Oo(e.delegates,(r,l)=>{e.dom.unbind(Vo(e,l),l,r)}),delete e.delegates),!e.inline&&t&&o&&(t.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(t),o.unbind(e.getContainer()))}},Ko=e=>J(e)?{value:e.split(/[ ,]/),valid:!0}:pt(e,J)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},ao=e=>{const t=(()=>{switch(e){case"array":return Qe;case"boolean":return it;case"function":return Oe;case"number":return Yo;case"object":return vt;case"string":return J;case"string[]":return Ko;case"object[]":return o=>pt(o,vt);case"regexp":return o=>Ue(o,RegExp);default:return bt}})();return o=>zu(o,t,`The value must be a ${e}.`)},qo=e=>J(e.processor),Ur=(e,t)=>{const o=wu(t.message)?"":`. ${t.message}`;return e+o},pr=e=>e.valid,zu=(e,t,o="")=>{const r=t(e);return it(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},ei=(e,t,o)=>{if(!Tn(t)){const r=zu(t,o);if(pr(r))return r.value;console.error(Ur(`Invalid default value passed for the "${e}" option`,r))}},Kf=(e,t,o=t)=>{const r={},l={},h=(ce,ke,ge)=>{const Te=zu(ke,ge);return pr(Te)?(l[ce]=Te.value,!0):(console.warn(Ur(`Invalid value passed for the ${ce} option`,Te)),!1)},v=(ce,ke)=>{const ge=qo(ke)?ao(ke.processor):ke.processor,Te=ei(ce,ke.default,ge);r[ce]={...ke,default:Te,processor:ge},Ro(l,ce).orThunk(()=>Ro(t,ce)).each(rt=>h(ce,rt,ge))},T=ce=>Jn(r,ce);return{register:v,isRegistered:T,get:ce=>Ro(l,ce).orThunk(()=>Ro(r,ce).map(ke=>ke.default)).getOrUndefined(),set:(ce,ke)=>{if(T(ce)){const ge=r[ce];return ge.immutable?(console.error(`"${ce}" is an immutable option and cannot be updated`),!1):h(ce,ke,ge.processor)}else return console.warn(`"${ce}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:ce=>{const ke=T(ce);return ke&&delete l[ce],ke},isSet:ce=>Jn(l,ce),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(ce,ke)=>it(ke)||Yo(ke)||J(ke)||ie(ke)||Qe(ke)||en(ke)?ke:Object.prototype.toString.call(ke))))}catch(ce){console.error(ce)}}}},Vc=(e,t)=>{e.dom.contentEditable="true"},dh=(e,t)=>{const o=De.fromDom(e.getBody());t?(e.readonly=!0,e.hasEditableRoot()&&Vc(o),F5(e)):(e.readonly=!1,WP(e))},bu=e=>e.readonly,ug=e=>{const t=e.undoManager.add();qe(t)&&(e.undoManager.undo(),e.undoManager.reset())},Sv=e=>Ge(e,t=>t.type==="characterData"||t.type==="childList"),N1=e=>{const t=r=>{bu(e)&&Sv(r)&&ug(e)},o=new MutationObserver(t);e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",r=>{bu(e)&&r.preventDefault()}),e.on("BeforeExecCommand",r=>{(r.command==="Undo"||r.command==="Redo")&&bu(e)&&r.preventDefault()}),e.on("compositionstart",()=>{bu(e)&&o.observe(e.getBody(),{characterData:!0,childList:!0,subtree:!0})}),e.on("compositionend",()=>{if(bu(e)){const r=o.takeRecords();t(r)}o.disconnect()})},vC=["design","readonly"],M1=(e,t,o,r)=>{const l=o[t.get()],h=o[r];try{h.activate()}catch(v){console.error(`problem while activating editor mode ${r}:`,v);return}l.deactivate(),l.editorReadOnly!==h.editorReadOnly&&dh(e,h.editorReadOnly),t.set(r),hD(e,r)},mT=(e,t,o,r)=>{if(!(r===o.get()||e.initialized&&Kb(e))){if(!Jn(t,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?M1(e,o,t,r):e.on("init",()=>M1(e,o,t,r))}},DM=(e,t,o)=>{if(Ne(vC,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${t}:`,r)}}}}},xC=e=>{const t=Pn("design"),o=Pn({design:{activate:Pt,deactivate:Pt,editorReadOnly:!1},readonly:{activate:Pt,deactivate:Pt,editorReadOnly:!0}});return N1(e),gW(e),{isReadOnly:()=>bu(e),set:r=>mT(e,o.get(),t,r),get:()=>t.get(),register:(r,l)=>{o.set(DM(o.get(),r,l))}}},wC=an.each,CC=an.explode,vH={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},_M=an.makeMap("alt,ctrl,shift,meta,access"),MJ=e=>e in _M,OM=e=>{const t={},o=ds.os.isMacOS()||ds.os.isiOS();wC(CC(e.toLowerCase(),"+"),h=>{MJ(h)?t[h]=!0:/^[0-9]{2,}$/.test(h)?t.keyCode=parseInt(h,10):(t.charCode=h.charCodeAt(0),t.keyCode=vH[h]||h.toUpperCase().charCodeAt(0))});const r=[t.keyCode];let l;for(l in _M)t[l]?r.push(l):t[l]=!1;return t.id=r.join(","),t.access&&(t.alt=!0,o?t.ctrl=!0:t.shift=!0),t.meta&&(o?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class SC{editor;shortcuts={};pendingPatterns=[];constructor(t){this.editor=t;const o=this;t.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(wC(o.shortcuts,l=>{o.matchShortcut(r,l)&&(o.pendingPatterns=l.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(l))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(t,o,r,l){const h=this,v=h.normalizeCommandFunc(r);return wC(CC(an.trim(t)),T=>{const k=h.createShortcut(T,o,v,l);h.shortcuts[k.id]=k}),!0}remove(t){const o=this.createShortcut(t);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(t){const o=this,r=t;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:an.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(t,o,r,l){const h=an.map(CC(t,">"),OM);return h[h.length-1]=an.extend(h[h.length-1],{func:r,scope:l||this.editor}),an.extend(h[0],{desc:this.editor.translate(o),subpatterns:h.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,o){return!o||o.ctrl!==t.ctrlKey||o.meta!==t.metaKey||o.alt!==t.altKey||o.shift!==t.shiftKey?!1:t.keyCode===o.keyCode||t.charCode&&t.charCode===o.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const EC=()=>{const e=XK();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},up=hs.DOM,RM=an.extend,xH=an.each;class hT{baseUri;id;editorUid;plugins={};documentBaseURI;baseURI;contentCSS=[];contentStyles=[];ui;mode;options;editorUpload;userLookup;shortcuts;loadedCSS={};editorCommands;suffix;editorManager;hidden;inline;hasVisual;isNotDirty=!1;annotator;bodyElement;bookmark;composing=!1;container;contentAreaContainer;contentDocument;contentWindow;delegates;destroyed=!1;dom;editorContainer;eventRoot;formatter;formElement;formEventDelegate;hasHiddenInput=!1;iframeElement=null;iframeHTML;initialized=!1;notificationManager;orgDisplay;orgVisibility;parser;quirks;readonly=!1;removed=!1;schema;selection;serializer;startContent="";targetElm;theme;model;undoManager;windowManager;licenseKeyManager;_beforeUnload;_eventDispatcher;_nodeChangeDispatcher;_pendingNativeEvents=[];_selectionOverrides;_skinLoaded=!1;_editableRoot=!0;bindPendingEventDelegates;toggleNativeEvent;unbindAllNativeEvents;fire;dispatch;on;off;once;hasEventListeners;constructor(t,o,r){this.editorManager=r,RM(this,Eo);const l=this;this.id=t,this.editorUid=Ao(),this.hidden=!1;const h=xJ(r.defaultOptions,o);this.options=Kf(l,h,o),m2(l),this.userLookup=oH(this);const v=this.options.get;v("deprecation_warnings")&&VU(o,h);const T=v("suffix");T&&(r.suffix=T),this.suffix=r.suffix;const k=v("base_url");k&&r._setBaseUrl(k),this.baseUri=r.baseURI;const B=Qx(l);B&&(sr.ScriptLoader._setReferrerPolicy(B),hs.DOM.styleSheetLoader._setReferrerPolicy(B)),sr.ScriptLoader._setCrossOrigin(ce=>Rb(l)(ce,"script")),hs.DOM.styleSheetLoader._setCrossOrigin(ce=>Rb(l)(ce,"stylesheet"));const W=aS(l);qe(W)&&hs.DOM.styleSheetLoader._setContentCssCors(W),Yi.languageLoad=v("language_load"),Yi.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new op(QC(l),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=g2(l),this.hasVisual=y2(l),this.shortcuts=new SC(this),this.editorCommands=new Qt(this),xt(this);const G=v("cache_suffix");G&&(ds.cacheSuffix=G.replace(/^[\?\&]+/,"")),this.ui={registry:EC(),styleSheetLoader:void 0,show:Pt,hide:Pt,setEnabled:Pt,isEnabled:bt},this.mode=xC(l),Object.defineProperty(this,"editorUid",{writable:!1,configurable:!1,enumerable:!0}),r.dispatch("SetupEditor",{editor:this});const Q=Mb(l);Oe(Q)&&Q.call(l,l)}render(){hJ(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return Aw(this)}translate(t){return Fu.translate(t)}getParam(t,o,r){const l=this.options;return l.isRegistered(t)||(qe(r)?l.register(t,{processor:r,default:o}):l.register(t,{processor:bt,default:o})),!l.isSet(t)&&!Tn(o)?o:l.get(t)}hasPlugin(t,o){return Ne(b2(this),t)?o?fv.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,o,r){this.editorCommands.addCommand(t,o,r)}addQueryStateHandler(t,o,r){this.editorCommands.addQueryStateHandler(t,o,r)}addQueryValueHandler(t,o,r){this.editorCommands.addQueryValueHandler(t,o,r)}addShortcut(t,o,r,l){this.shortcuts.add(t,o,r,l)}execCommand(t,o,r,l){return this.editorCommands.execCommand(t,o,r,l)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(up.show(t.getContainer()),up.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(up.hide(t.getContainer()),up.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,o){this.dispatch("ProgressState",{state:t,time:o})}load(t={}){const o=this,r=o.getElement();if(!o.removed&&r){const l={...t,load:!0},h=af(r)?r.value:r.innerHTML;o.setContent(h,l),l.no_events||o.dispatch("LoadContent",{...l,element:r})}}save(t={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const l={...t,save:!0,element:r};let h=o.getContent(l);const v={...l,content:h};if(v.no_events||o.dispatch("SaveContent",v),v.format==="raw"&&o.dispatch("RawSaveContent",v),h=v.content,af(r))r.value=h;else{(t.is_removing||!o.inline)&&(r.innerHTML=h);const T=up.getParent(o.id,"form");T&&xH(T.elements,k=>k.name===o.id?(k.value=h,!1):!0)}return v.element=l.element=r=null,v.set_dirty!==!1&&o.setDirty(!1),h}setContent(t,o){y5(this,t,o)}getContent(t){return QZ(this,t)}insertContent(t,o){o&&(t=RM({content:t},o)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?y5(this,this.startContent,{initial:!0,format:"raw"}):y5(this,t,{initial:!0}),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const o=!this.isNotDirty;this.isNotDirty=!t,t&&t!==o&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||up.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=up.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const o=t.iframeElement;o&&(t.contentWindow=o.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const o=t.getWin();o&&(t.contentDocument=o.document)}return t.contentDocument}getBody(){const t=this.getDoc();return this.bodyElement??t?.body??null}convertURL(t,o,r){const l=this,h=l.options.get,v=Wg(l);if(Oe(v))return v.call(l,t,r,!0,o);if(!h("convert_urls")||r==="link"||vt(r)&&r.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const T=new op(t);return T.protocol!=="http"&&T.protocol!=="https"&&T.protocol!==""?t:h("relative_urls")?l.documentBaseURI.toRelative(t):(t=l.documentBaseURI.toAbsolute(t,h("remove_script_host")),t)}addVisual(t){wJ(this,t)}setEditableRoot(t){pJ(this,t)}hasEditableRoot(){return bJ(this)}remove(){x5(this)}destroy(t){MP(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Ev=hs.DOM,gT=an.each;let pT=!1,dx,lc=[];const oy=e=>{const t=e.type;gT(k0.get(),o=>{switch(t){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},k3=e=>{if(e!==pT){const t=hs.DOM;e?(t.bind(window,"resize",oy),t.bind(window,"scroll",oy)):(t.unbind(window,"resize",oy),t.unbind(window,"scroll",oy)),pT=e}},D3=e=>{const t=lc;return lc=yt(lc,o=>e!==o),k0.activeEditor===e&&(k0.activeEditor=lc.length>0?lc[0]:null),k0.focusedEditor===e&&(k0.focusedEditor=null),t.length!==lc.length},BJ=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(D3(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},_3=document.compatMode!=="CSS1Compat",k0={...to,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,pageUid:Ao(),majorVersion:"8",minorVersion:"3.2",releaseDate:"2026-01-14",i18n:Fu,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",o="",r=op.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const l=window.tinymce||window.tinyMCEPreInit;if(l)t=l.base||l.baseURL,o=l.suffix;else{const h=document.getElementsByTagName("script");for(let v=0;v<h.length;v++){const T=h[v].src||"";if(T==="")continue;const k=T.substring(T.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(T)){k.indexOf(".min")!==-1&&(o=".min"),t=T.substring(0,T.lastIndexOf("/"));break}}if(!t&&document.currentScript){const v=document.currentScript.src;v.indexOf(".min")!==-1&&(o=".min"),t=v.substring(0,v.lastIndexOf("/"))}}e.baseURL=new op(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new op(e.baseURL),e.suffix=o,WB(e),Be(["majorVersion","minorVersion","releaseDate","pageUid","_addLicenseKeyManager"],h=>Object.defineProperty(e,h,{writable:!1,configurable:!1,enumerable:!0}))},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&Oo(r,(l,h)=>{Yi.PluginManager.urls[h]=l})},init(e){const t=this;let o;const r=an.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=(W,G)=>W.inline&&G.tagName.toLowerCase()in r,h=W=>{let G=W.id;return G||(G=Ro(W,"name").filter(Q=>!Ev.get(Q)).getOrThunk(Ev.uniqueId),W.setAttribute("id",G)),G},v=W=>{const G=e[W];if(G)return G.apply(t,[])},T=W=>ds.browser.isIE()||ds.browser.isEdge()?(Xk("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/8/support/#supportedwebbrowsers"),[]):_3?(Xk("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):J(W.selector)?Ev.select(W.selector):qe(W.target)?[W.target]:[];let k=W=>{o=W};const B=()=>{let W=0;const G=[];let Q;const ce=(ke,ge,Te)=>{const ot=new hT(ke,ge,t);G.push(ot),ot.on("init",()=>{++W===Q.length&&k(G)}),ot.targetElm=ot.targetElm||Te,ot.render()};Ev.unbind(window,"ready",B),v("onpageload"),Q=Ma(T(e)),an.each(Q,ke=>{BJ(t.get(ke.id))}),Q=an.grep(Q,ke=>!t.get(ke.id)),Q.length===0?k([]):gT(Q,ke=>{l(e,ke)?Xk("Could not initialize inline editor on invalid inline target element",ke):ce(h(ke),e,ke)})};return Ev.bind(window,"ready",B),new Promise(W=>{o?W(o):k=G=>{W(G)}})},get(e){return arguments.length===0?lc.slice(0):J(e)?sn(lc,t=>t.id===e).getOr(null):Yo(e)&&lc[e]?lc[e]:null},add(e){const t=this,o=t.get(e.id);return o===e||(o===null&&lc.push(e),k3(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),dx||(dx=r=>{const l=t.dispatch("BeforeUnload");if(l.returnValue)return r.preventDefault(),r.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",dx))),e},createEditor(e,t){return this.add(new hT(e,t,this))},remove(e){const t=this;let o;if(!e){for(let r=lc.length-1;r>=0;r--)t.remove(lc[r]);return}if(J(e)){gT(Ev.select(e),r=>{o=t.get(r.id),o&&t.remove(o)});return}return o=e,ie(t.get(o.id))?null:(D3(o)&&t.dispatch("RemoveEditor",{editor:o}),lc.length===0&&window.removeEventListener("beforeunload",dx),o.remove(),k3(lc.length>0),o)},execCommand(e,t,o){const r=this,l=vt(o)?o.id??o.index:o;switch(e){case"mceAddEditor":{if(!r.get(l)){const h=o.options;new hT(l,h,r).render()}return!0}case"mceRemoveEditor":{const h=r.get(l);return h&&h.remove(),!0}case"mceToggleEditor":{const h=r.get(l);return h?(h.isHidden()?h.show():h.hide(),!0):(r.execCommand("mceAddEditor",!1,o),!0)}}return r.activeEditor?r.activeEditor.execCommand(e,t,o):!1},triggerSave:()=>{gT(lc,e=>{e.save()})},addI18n:(e,t)=>{Fu.add(e,t)},translate:e=>Fu.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new op(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new op(this.baseURL)},_addLicenseKeyManager:e=>B5.add(e)};k0.setup();const bT=(()=>{const e=Ps(),t=h=>({items:h,types:Hn(h),getType:v=>Ro(h,v).getOrUndefined()}),o=h=>{e.set(h)},r=()=>e.get().getOrUndefined(),l=e.clear;return{FakeClipboardItem:t,write:o,read:r,clear:l}})(),wH=Math.min,TC=Math.max,yu=Math.round,fx=(e,t,o)=>{let r=t.x,l=t.y;const h=e.w,v=e.h,T=t.w,k=t.h,B=(o||"").split("");return B[0]==="b"&&(l+=k),B[1]==="r"&&(r+=T),B[0]==="c"&&(l+=yu(k/2)),B[1]==="c"&&(r+=yu(T/2)),B[3]==="b"&&(l-=v),B[4]==="r"&&(r-=h),B[3]==="c"&&(l-=yu(v/2)),B[4]==="c"&&(r-=yu(h/2)),mx(r,l,h,v)},LJ=(e,t,o,r)=>{for(let l=0;l<r.length;l++){const h=fx(e,t,r[l]);if(h.x>=o.x&&h.x+h.w<=o.w+o.x&&h.y>=o.y&&h.y+h.h<=o.h+o.y)return r[l]}return null},CH=(e,t,o)=>mx(e.x-t,e.y-o,e.w+t*2,e.h+o*2),NM=(e,t)=>{const o=TC(e.x,t.x),r=TC(e.y,t.y),l=wH(e.x+e.w,t.x+t.w),h=wH(e.y+e.h,t.y+t.h);return l-o<0||h-r<0?null:mx(o,r,l-o,h-r)},SH=(e,t,o)=>{let r=e.x,l=e.y,h=e.x+e.w,v=e.y+e.h;const T=t.x+t.w,k=t.y+t.h,B=TC(0,t.x-r),W=TC(0,t.y-l),G=TC(0,h-T),Q=TC(0,v-k);return r+=B,l+=W,o&&(h+=B,v+=W,r-=G,l-=Q),h-=G,v-=Q,mx(r,l,h-r,v-l)},mx=(e,t,o,r)=>({x:e,y:t,w:o,h:r}),B1={inflate:CH,relativePosition:fx,findBestRelativePosition:LJ,intersect:NM,clamp:SH,create:mx,fromClientRect:e=>mx(e.left,e.top,e.width,e.height)},AC=(e,t,o=1e3)=>{let r=!1,l=null;const h=B=>(...W)=>{r||(r=!0,l!==null&&(window.clearTimeout(l),l=null),B.apply(null,W))},v=h(e),T=h(t);return{start:(...B)=>{!r&&l===null&&(l=window.setTimeout(()=>T.apply(null,B),o))},resolve:v,reject:T}},EH=(()=>{const e={},t={},o={};return{load:(k,B)=>{const W=`Script at URL "${B}" failed to load`,G=`Script at URL "${B}" did not call \`tinymce.Resource.add('${k}', data)\` within 1 second`;if(e[k]!==void 0)return e[k];{const Q=new Promise((ce,ke)=>{const ge=AC(ce,ke);t[k]=ge.resolve,sr.ScriptLoader.loadScript(B).then(()=>ge.start(G),()=>ge.reject(W))});return e[k]=Q,Q}},add:(k,B)=>{t[k]!==void 0&&(t[k](B),delete t[k]),e[k]=Promise.resolve(B),o[k]=B},has:k=>k in o,get:k=>o[k],unload:k=>{delete e[k],delete o[k]}}})(),MM=()=>(()=>{let e={},t=[];const o={getItem:r=>{const l=e[r];return l||null},setItem:(r,l)=>{t.push(r),e[r]=String(l)},key:r=>t[r],removeItem:r=>{t=t.filter(l=>l===r),delete e[r]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),o})();let kC;try{const e="__storage_test__";kC=window.localStorage,kC.setItem(e,e),kC.removeItem(e)}catch{kC=MM()}var sy=kC;const TH={geom:{Rect:B1},util:{Delay:Qg,Tools:an,VK:Ln,URI:op,EventDispatcher:on,Observable:to,I18n:Fu,LocalStorage:sy,ImageUploader:YP},dom:{EventUtils:Ld,TreeWalker:Ka,TextSeeker:du,DOMUtils:hs,ScriptLoader:sr,RangeUtils:f0,Serializer:b5,StyleSheetLoader:Bp,ControlSelection:nV,BookmarkManager:Ew,Selection:g5,Event:Ld.Event},html:{Styles:mm,Entities:ed,Node:Hc,Schema:Bs,DomParser:Bw,Writer:S_,Serializer:tv},Env:ds,AddOnManager:Yi,Annotator:zB,Formatter:JP,UndoManager:RW,EditorCommands:Qt,WindowManager:BP,NotificationManager:CE,EditorObservable:Eo,Shortcuts:SC,Editor:hT,FocusManager:UB,EditorManager:k0,DOM:hs.DOM,ScriptLoader:sr.ScriptLoader,PluginManager:fv,ThemeManager:j2,ModelManager:jw,IconManager:Kk,Resource:EH,FakeClipboard:bT,trim:an.trim,isArray:an.isArray,is:an.is,toArray:an.toArray,makeMap:an.makeMap,each:an.each,map:an.map,grep:an.grep,inArray:an.inArray,extend:an.extend,walk:an.walk,resolve:an.resolve,explode:an.explode,_addCacheSuffix:an._addCacheSuffix},BM=an.extend(k0,TH),AH=e=>{try{c.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(BM),AH(BM)})()})(Cee)),Cee.exports}Kve();var Nre={},Mre={},Bre;function Yve(){return Bre||(Bre=1,tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',"checkmark-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.8 5a1 1 0 0 0-1.4.3l-5.4 8-2-2.1a1 1 0 1 0-1.5 1.4l3 3a1 1 0 0 0 1.5-.2l6-9a1 1 0 0 0-.2-1.4Z"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',"close-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.7 5.3a1 1 0 0 0-1.3 0L12 10.6 8.6 7.3a1 1 0 0 0-1.3 1.3l3.3 3.4-3.3 3.4a1 1 0 0 0 1.3 1.3l3.4-3.3 3.4 3.3a1 1 0 0 0 1.3-1.3L13.4 12l3.3-3.4a1 1 0 0 0 0-1.3Z"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-gear-properties":'<svg height="24" width="24"><path d="M17.3 14.5a7.1 7.1 0 0 1 1.2.6l1.5-.5 1 1.8-1.2 1V18.7l1.2 1-1 1.6-1.5-.4a4.5 4.5 0 0 1-.6.3 7.1 7.1 0 0 1-.6.3L17 23h-2l-.3-1.5a7.4 7.4 0 0 1-.6-.3 4.5 4.5 0 0 1-.6-.3l-1.5.5-1-1.8 1.2-1a3.9 3.9 0 0 1 0-.6v-.7l-1.2-1 1-1.6 1.5.4a4.5 4.5 0 0 1 1.2-.6L15 13h2zM16 16a2 2 0 0 0-1.5.6A1.9 1.9 0 0 0 14 18c0 .6.2 1 .6 1.4s1 .6 1.5.6 1-.2 1.5-.6.6-.8.6-1.4-.2-1-.6-1.4A2 2 0 0 0 16 16z" fill-rule="evenodd"/><path d="M19 7.6V12h-2V9h-4V5H7v14h3v2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h7.4z"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',feedback:'<svg width="24" height="24"><path fill-rule="evenodd" d="M16 6c1 0 2 1 2 2v5c0 1-1 2-2 2h-3l-4 3v-3H8c-1 0-2-1-2-2V8c0-1 1-2 2-2h8Zm-7 5v1h4v-1H9Zm0-2v1h6V9H9Z"/></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg height="48" width="48"><path d="M8 14a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 34a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-default":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M12 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M16 31h6v6h-6z"/><path d="M16 31h6v6h-6z"/><path d="M18 12h22v4H18zm4 10h18v4H22zm4 10h14v4H26z" opacity=".2"/></svg>',"list-bull-disc":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-square":'<svg height="48" width="48"><path d="M8 21h6v6H8zm0 10h6v6H8zm0-20h6v6H8z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',"suggestededits-badge":'<svg height="24" width="24"><path d="M11 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9.7a6 6 0 0 1-2 .3v9H7V5h4a6 6 0 0 1 0-2z"/><path d="M15 13v-2h-4v2zm-3 2H9v2h3zm-1-8H9v2h2zm4 10v-2h-2v2z"/><path d="M21 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0z" class="tox-icon--badge"/></svg>',suggestededits:'<svg width="24" height="24"><path d="M7 3h7.4L19 7.6V19a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2Zm0 16h10V9h-3V5H7v14Z" clip-rule="evenodd"/><path d="M9 7h2v2H9V7Zm2 4h4v2h-4v-2Zm-2 4h3v2H9v-2Z"/><path d="M9 7h2v2H9V7Zm4 8h2v2h-2v-2Z"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',"upload-from-device":'<svg width="24" height="25"><path d="M11 19a1 1 0 1 0 2 0v-3.2l1.5 1a1 1 0 1 0 1-1.7L12 12.8l-3.5 2.3a1 1 0 0 0 1 1.7l1.5-1V19Z"/><path d="M9.6 4c.3 0 .6.2.8.5l1.3 2h6.7c.7 0 1.4.2 1.8.7.5.5.8 1.2.8 1.9v8.3c0 .7-.3 1.3-.8 1.8a2.6 2.6 0 0 1-1.8.8H16v-2h2.4a.6.6 0 0 0 .4-.2.6.6 0 0 0 .2-.4V9a.6.6 0 0 0-.2-.5.6.6 0 0 0-.4-.1h-7.2a1 1 0 0 1-.8-.5L9 6H5.6a.6.6 0 0 0-.4.2.6.6 0 0 0-.2.4v10.8c0 .1 0 .3.2.4a.6.6 0 0 0 .4.2H8v2H5.6a2.6 2.6 0 0 1-1.8-.8 2.7 2.7 0 0 1-.8-1.8V6.6c0-.7.3-1.3.8-1.8A2.6 2.6 0 0 1 5.6 4h4Z"/></svg>',"upload-from-link":'<svg height="25" width="24"><path d="M11.5 11.8a1 1 0 0 1 1.9-.5 5 5 0 0 1-1.3 4.8l-2.4 2.3A4 4 0 1 1 4 13L5 12a1 1 0 0 1 1.4 1.4l-.7.8A2 2 0 1 0 8.3 17l2.4-2.4a3 3 0 0 0 .8-2.8z"/><path d="M10.1 11.8a1 1 0 0 1-2 .5 5 5 0 0 1 1.4-4.8L12 5.1a4 4 0 0 1 5.5 5.6l-.7.8a1 1 0 0 1-1.5-1.4l.8-.8a2 2 0 1 0-2.7-2.7l-2.4 2.3a3 3 0 0 0-.8 3zm5.7 7.2a1 1 0 1 0 2 0v-3l1.4 1.1a1 1 0 0 0 1.2-1.5l-3.6-2.9-3.6 2.9a1 1 0 0 0 1.2 1.5l1.4-1z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}})),Mre}var Lre;function Xve(){return Lre||(Lre=1,Yve()),Nre}Xve();var Pre={},Fre={},$re;function Qve(){return $re||($re=1,(function(){const c=Object.getPrototypeOf,d=(n,s,i)=>i(n,s.prototype)?!0:n.constructor?.name===s.name,p=n=>{const s=typeof n;return n===null?"null":s==="object"&&Array.isArray(n)?"array":s==="object"&&d(n,String,(i,f)=>f.isPrototypeOf(i))?"string":s},x=n=>s=>p(s)===n,A=n=>s=>typeof s===n,N=n=>s=>n===s,O=(n,s)=>U(n)&&d(n,s,(i,f)=>c(i)===f),H=x("string"),U=x("object"),V=n=>O(n,Object),Y=x("array"),ne=N(null),ue=A("boolean"),we=N(void 0),Ee=n=>n==null,$e=n=>!Ee(n),ve=A("function"),ct=A("number"),Ue=(n,s)=>{if(Y(n)){for(let i=0,f=n.length;i<f;++i)if(!s(n[i]))return!1;return!0}return!1},J=()=>{},vt=n=>()=>n(),en=(n,s)=>(...i)=>n(s.apply(null,i)),Qe=(n,s)=>i=>n(s(i)),ie=n=>()=>n,it=n=>n,Tn=(n,s)=>n===s;function mn(n,...s){return(...i)=>{const f=s.concat(i);return n.apply(null,f)}}const qe=n=>s=>!n(s),Oe=n=>()=>{throw new Error(n)},Yo=n=>n(),pt=ie(!1),Pt=ie(!0);class P{tag;value;static singletonNone=new P(!1);constructor(s,i){this.tag=s,this.value=i}static some(s){return new P(!0,s)}static none(){return P.singletonNone}fold(s,i){return this.tag?i(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?P.some(s(this.value)):P.none()}bind(s){return this.tag?s(this.value):P.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:P.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return $e(s)?P.some(s):P.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Vt=Array.prototype.slice,at=Array.prototype.indexOf,Qn=Array.prototype.push,cn=(n,s)=>at.call(n,s),ee=(n,s)=>{const i=cn(n,s);return i===-1?P.none():P.some(i)},Me=(n,s)=>cn(n,s)>-1,wt=(n,s)=>{for(let i=0,f=n.length;i<f;i++){const b=n[i];if(s(b,i))return!0}return!1},je=(n,s)=>{const i=[];for(let f=0;f<n;f++)i.push(s(f));return i},Bt=(n,s)=>{const i=[];for(let f=0;f<n.length;f+=s){const b=Vt.call(n,f,f+s);i.push(b)}return i},Ze=(n,s)=>{const i=n.length,f=new Array(i);for(let b=0;b<i;b++){const w=n[b];f[b]=s(w,b)}return f},bt=(n,s)=>{for(let i=0,f=n.length;i<f;i++){const b=n[i];s(b,i)}},X=(n,s)=>{for(let i=n.length-1;i>=0;i--){const f=n[i];s(f,i)}},jo=(n,s)=>{const i=[],f=[];for(let b=0,w=n.length;b<w;b++){const S=n[b];(s(S,b)?i:f).push(S)}return{pass:i,fail:f}},vo=(n,s)=>{const i=[];for(let f=0,b=n.length;f<b;f++){const w=n[f];s(w,f)&&i.push(w)}return i},Mo=(n,s,i)=>(X(n,(f,b)=>{i=s(i,f,b)}),i),Io=(n,s,i)=>(bt(n,(f,b)=>{i=s(i,f,b)}),i),zs=(n,s,i)=>{for(let f=0,b=n.length;f<b;f++){const w=n[f];if(s(w,f))return P.some(w);if(i(w,f))break}return P.none()},Ne=(n,s)=>zs(n,s,pt),Ge=(n,s)=>{for(let i=0,f=n.length;i<f;i++){const b=n[i];if(s(b,i))return P.some(i)}return P.none()},tt=n=>{const s=[];for(let i=0,f=n.length;i<f;++i){if(!Y(n[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+n);Qn.apply(s,n[i])}return s},Be=(n,s)=>tt(Ze(n,s)),Je=(n,s)=>{for(let i=0,f=n.length;i<f;++i){const b=n[i];if(s(b,i)!==!0)return!1}return!0},Rt=n=>{const s=Vt.call(n,0);return s.reverse(),s},yt=(n,s)=>vo(n,i=>!Me(s,i)),Un=(n,s)=>{const i={};for(let f=0,b=n.length;f<b;f++){const w=n[f];i[String(w)]=s(w,f)}return i},Dt=n=>[n],Le=(n,s)=>{const i=Vt.call(n,0);return i.sort(s),i},Tt=(n,s)=>s>=0&&s<n.length?P.some(n[s]):P.none(),sn=n=>Tt(n,0),Zn=n=>Tt(n,n.length-1),Xo=ve(Array.from)?Array.from:n=>Vt.call(n),Jo=(n,s)=>{for(let i=0;i<n.length;i++){const f=s(n[i],i);if(f.isSome())return f}return P.none()},ko=Object.keys,mr=Object.hasOwnProperty,Ho=(n,s)=>{const i=ko(n);for(let f=0,b=i.length;f<b;f++){const w=i[f],S=n[w];s(S,w)}},os=(n,s)=>Vs(n,(i,f)=>({k:f,v:s(i,f)})),Vs=(n,s)=>{const i={};return Ho(n,(f,b)=>{const w=s(f,b);i[w.k]=w.v}),i},Ss=n=>(s,i)=>{n[i]=s},Xs=(n,s,i,f)=>{Ho(n,(b,w)=>{(s(b,w)?i:f)(b,w)})},gs=(n,s)=>{const i={},f={};return Xs(n,s,Ss(i),Ss(f)),{t:i,f}},Wr=(n,s)=>{const i={};return Xs(n,s,Ss(i),J),i},Es=(n,s)=>{const i=[];return Ho(n,(f,b)=>{i.push(s(f,b))}),i},$r=(n,s)=>{const i=ko(n);for(let f=0,b=i.length;f<b;f++){const w=i[f],S=n[w];if(s(S,w,n))return P.some(S)}return P.none()},Ma=n=>Es(n,it),Hn=(n,s)=>ts(n,s)?P.from(n[s]):P.none(),ts=(n,s)=>mr.call(n,s),Oo=(n,s)=>ts(n,s)&&n[s]!==void 0&&n[s]!==null,Ba={generate:n=>{if(!Y(n))throw new Error("cases must be an array");if(n.length===0)throw new Error("there must be at least one case");const s=[],i={};return bt(n,(f,b)=>{const w=ko(f);if(w.length!==1)throw new Error("one and only one name per case");const S=w[0],_=f[S];if(i[S]!==void 0)throw new Error("duplicate key detected:"+S);if(S==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Y(_))throw new Error("case arguments must be an array");s.push(S),i[S]=(...M)=>{const I=M.length;if(I!==_.length)throw new Error("Wrong number of arguments to case "+S+". Expected "+_.length+" ("+_+"), got "+I);return{fold:(...K)=>{if(K.length!==n.length)throw new Error("Wrong number of arguments to fold. Expected "+n.length+", got "+K.length);return K[b].apply(null,M)},match:K=>{const le=ko(K);if(s.length!==le.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+le.join(","));if(!Je(s,ye=>Me(le,ye)))throw new Error("Not all branches were specified when using match. Specified: "+le.join(", ")+`
Required: `+s.join(", "));return K[S].apply(null,M)},log:K=>{console.log(K,{constructors:s,constructor:S,params:M})}}}}),i}},Mn=n=>{let s=n;return{get:()=>s,set:b=>{s=b}}},Zt=n=>{let s=P.none(),i=[];const f=I=>Zt(Z=>{b(K=>{Z(I(K))})}),b=I=>{S()?M(I):i.push(I)},w=I=>{S()||(s=P.some(I),_(i),i=[])},S=()=>s.isSome(),_=I=>{bt(I,M)},M=I=>{s.each(Z=>{setTimeout(()=>{I(Z)},0)})};return n(w),{get:b,map:f,isReady:S}},Yn={nu:Zt,pure:n=>Zt(s=>{s(n)})},Gn=n=>{setTimeout(()=>{throw n},0)},yo=n=>{const s=M=>{n().then(M,Gn)};return{map:M=>yo(()=>n().then(M)),bind:M=>yo(()=>n().then(I=>M(I).toPromise())),anonBind:M=>yo(()=>n().then(()=>M.toPromise())),toLazy:()=>Yn.nu(s),toCached:()=>{let M=null;return yo(()=>(M===null&&(M=n()),M))},toPromise:n,get:s}},ls={nu:n=>yo(()=>new Promise(n)),pure:n=>yo(()=>Promise.resolve(n))},La=n=>{const s=w=>w(n),i=ie(n),f=()=>b,b={tag:!0,inner:n,fold:(w,S)=>S(n),isValue:Pt,isError:pt,map:w=>Pn.value(w(n)),mapError:f,bind:s,exists:s,forall:s,getOr:i,or:f,getOrThunk:i,orThunk:f,getOrDie:i,each:w=>{w(n)},toOptional:()=>P.some(n)};return b},ol=n=>{const s=()=>i,i={tag:!1,inner:n,fold:(f,b)=>f(n),isValue:pt,isError:Pt,map:s,mapError:f=>Pn.error(f(n)),bind:s,exists:pt,forall:Pt,getOr:it,or:it,getOrThunk:Yo,orThunk:Yo,getOrDie:Oe(String(n)),each:J,toOptional:P.none};return i},Pn={value:La,error:ol,fromOption:(n,s)=>n.fold(()=>ol(s),La)},er=n=>({...n,toCached:()=>er(n.toCached()),bindFuture:M=>er(n.bind(I=>I.fold(Z=>ls.pure(Pn.error(Z)),Z=>M(Z)))),bindResult:M=>er(n.map(I=>I.bind(M))),mapResult:M=>er(n.map(I=>I.map(M))),mapError:M=>er(n.map(I=>I.mapError(M))),foldResult:(M,I)=>n.map(Z=>Z.fold(M,I)),withTimeout:(M,I)=>er(ls.nu(Z=>{let K=!1;const le=setTimeout(()=>{K=!0,Z(Pn.error(I()))},M);n.get(he=>{K||(clearTimeout(le),Z(he))})}))}),tr=n=>er(ls.nu(n)),Vl=n=>er(ls.pure(Pn.value(n))),To={nu:tr,wrap:er,pure:Vl,value:Vl,error:n=>er(ls.pure(Pn.error(n))),fromResult:n=>er(ls.pure(n)),fromFuture:n=>er(n.map(Pn.value)),fromPromise:n=>tr(s=>{n.then(i=>{s(Pn.value(i))},i=>{s(Pn.error(i))})})},co=typeof window<"u"?window:Function("return this;")(),Zo=(n,s,i,f)=>{const b=n+s;return b>f?i:b<i?f:b},us=(n,s,i)=>Math.min(Math.max(n,s),i),Ao=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Qs=0;const me=n=>{const i=new Date().getTime(),f=Math.floor(Ao()*1e9);return Qs++,n+"_"+f+Qs+String(i)},He=(n,s)=>s,jt=(n,s)=>V(n)&&V(s)?qt(n,s):s,xn=n=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const i={};for(let f=0;f<s.length;f++){const b=s[f];for(const w in b)ts(b,w)&&(i[w]=n(i[w],b[w]))}return i},qt=xn(jt),xo=xn(He),oo=(n,s,i=Tn)=>n.exists(f=>i(f,s)),Bn=(n,s,i=Tn)=>Ts(n,s,i).getOr(n.isNone()&&s.isNone()),Uo=n=>{const s=[],i=f=>{s.push(f)};for(let f=0;f<n.length;f++)n[f].each(i);return s},vs=n=>{const s=[];for(let i=0;i<n.length;i++){const f=n[i];if(f.isSome())s.push(f.getOrDie());else return P.none()}return P.some(s)},Ts=(n,s,i)=>n.isSome()&&s.isSome()?P.some(i(n.getOrDie(),s.getOrDie())):P.none(),As=(n,s,i,f)=>n.isSome()&&s.isSome()&&i.isSome()?P.some(f(n.getOrDie(),s.getOrDie(),i.getOrDie())):P.none(),sa=(n,s)=>n!=null?P.some(s(n)):P.none(),Sa=(n,s)=>n?P.some(s):P.none(),Qf=n=>n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Tr=(n,s)=>{let i=s??co;for(let f=0;f<n.length&&i!==void 0&&i!==null;++f)i=i[n[f]];return i},Ps=(n,s)=>{const i=n.split(".");return Tr(i,s)};Ba.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const ir=n=>{const s=[],i=[];return bt(n,f=>{f.fold(b=>{s.push(b)},b=>{i.push(b)})}),{errors:s,values:i}},Vi=n=>{const s=Mn(P.none()),i=()=>s.get().each(n);return{clear:()=>{i(),s.set(P.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:_=>{i(),s.set(P.some(_))}}},wi=()=>Vi(n=>n.destroy()),Ir=()=>Vi(n=>n.unbind()),wo=()=>{const n=Vi(J);return{...n,on:i=>n.get().each(i)}},Ci=(n,s)=>n+s,ni=(n,s)=>n.substring(s),Jr=(n,s,i)=>s===""||n.length>=s.length&&n.substr(i,i+s.length)===s,Sf=(n,s)=>wu(n,s)?ni(n,s.length):n,uc=(n,s)=>dc(n,s)?n:Ci(n,s),Hr=(n,s,i=0,f)=>{const b=n.indexOf(s,i);return b!==-1?we(f)?!0:b+s.length<=f:!1},wu=(n,s)=>Jr(n,s,0),dc=(n,s)=>Jr(n,s,n.length-s.length),An=(n=>s=>s.replace(n,""))(/^\s+|\s+$/g),Cu=n=>n.length>0,Ri=n=>!Cu(n),gi=n=>{const s=parseFloat(n);return isNaN(s)?P.none():P.some(s)},qr=(n,s)=>{let i=null,f=null;return{cancel:()=>{ne(i)||(clearTimeout(i),i=null,f=null)},throttle:(...S)=>{f=S,ne(i)&&(i=setTimeout(()=>{const _=f;i=null,f=null,n.apply(null,_)},s))}}},Gd=(n,s)=>{let i=null;return{cancel:()=>{ne(i)||(clearTimeout(i),i=null)},throttle:(...w)=>{ne(i)&&(i=setTimeout(()=>{i=null,n.apply(null,w)},s))}}},Si=(n,s)=>{let i=null;const f=()=>{ne(i)||(clearTimeout(i),i=null)};return{cancel:f,throttle:(...w)=>{f(),i=setTimeout(()=>{i=null,n.apply(null,w)},s)}}},sl=n=>{let s=!1,i;return(...f)=>(s||(s=!0,i=n.apply(null,f)),i)},Tf="\uFEFF",Jf="",Su=(n,s)=>{const f=(s||document).createElement("div");if(f.innerHTML=n,!f.hasChildNodes()||f.childNodes.length>1){const b="HTML does not have a single root node";throw console.error(b,n),new Error(b)}return Wc(f.childNodes[0])},Kd=(n,s)=>{const f=(s||document).createElement(n);return Wc(f)},Dl=(n,s)=>{const f=(s||document).createTextNode(n);return Wc(f)},Wc=n=>{if(n==null)throw new Error("Node cannot be null or undefined");return{dom:n}},fn={fromHtml:Su,fromTag:Kd,fromText:Dl,fromDom:Wc,fromPoint:(n,s,i)=>P.from(n.dom.elementFromPoint(s,i)).map(Wc)},Eu=(n,s)=>{s.fold(i=>{n.setStartBefore(i.dom)},(i,f)=>{n.setStart(i.dom,f)},i=>{n.setStartAfter(i.dom)})},bd=(n,s)=>{s.fold(i=>{n.setEndBefore(i.dom)},(i,f)=>{n.setEnd(i.dom,f)},i=>{n.setEndAfter(i.dom)})},jl=(n,s,i)=>{const f=n.document.createRange();return Eu(f,s),bd(f,i),f},rl=(n,s,i,f,b)=>{const w=n.document.createRange();return w.setStart(s.dom,i),w.setEnd(f.dom,b),w},ju=n=>({left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.width,height:n.height}),ji=n=>{const s=n.getClientRects(),i=s.length>0?s[0]:n.getBoundingClientRect();return i.width>0||i.height>0?P.some(i).map(ju):P.none()},oi=n=>{const s=n.getBoundingClientRect();return s.width>0||s.height>0?P.some(s).map(ju):P.none()},_l=Ba.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),fc=(n,s,i)=>s(fn.fromDom(i.startContainer),i.startOffset,fn.fromDom(i.endContainer),i.endOffset),Ws=(n,s)=>s.match({domRange:i=>({ltr:ie(i),rtl:P.none}),relative:(i,f)=>({ltr:sl(()=>jl(n,i,f)),rtl:sl(()=>P.some(jl(n,f,i)))}),exact:(i,f,b,w)=>({ltr:sl(()=>rl(n,i,f,b,w)),rtl:sl(()=>P.some(rl(n,b,w,i,f)))})}),Af=(n,s)=>{const i=s.ltr();return i.collapsed?s.rtl().filter(b=>b.collapsed===!1).map(b=>_l.rtl(fn.fromDom(b.endContainer),b.endOffset,fn.fromDom(b.startContainer),b.startOffset)).getOrThunk(()=>fc(n,_l.ltr,i)):fc(n,_l.ltr,i)},te=(n,s)=>{const i=Ws(n,s);return Af(n,i)},be=(n,s)=>te(n,s).match({ltr:(f,b,w,S)=>{const _=n.document.createRange();return _.setStart(f.dom,b),_.setEnd(w.dom,S),_},rtl:(f,b,w,S)=>{const _=n.document.createRange();return _.setStart(w.dom,S),_.setEnd(f.dom,b),_}});_l.ltr,_l.rtl;const Pe=9,Nt=11,qn=1,ps=3,lr=(n,s)=>{const i=n.dom;if(i.nodeType!==qn)return!1;{const f=i;if(f.matches!==void 0)return f.matches(s);if(f.msMatchesSelector!==void 0)return f.msMatchesSelector(s);if(f.webkitMatchesSelector!==void 0)return f.webkitMatchesSelector(s);if(f.mozMatchesSelector!==void 0)return f.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},ja=n=>n.nodeType!==qn&&n.nodeType!==Pe&&n.nodeType!==Nt||n.childElementCount===0,Ei=(n,s)=>{const i=s===void 0?document:s.dom;return ja(i)?[]:Ze(i.querySelectorAll(n),fn.fromDom)},Ol=(n,s)=>{const i=s===void 0?document:s.dom;return ja(i)?P.none():P.from(i.querySelector(n)).map(fn.fromDom)},se=(n,s)=>n.dom===s.dom,Ae=(n,s)=>{const i=n.dom,f=s.dom;return i===f?!1:i.contains(f)},Xe=(n,s,i,f)=>{const b=n.isiOS()&&/ipad/i.test(i)===!0,w=n.isiOS()&&!b,S=n.isiOS()||n.isAndroid(),_=S||f("(pointer:coarse)"),M=b||!w&&S&&f("(min-device-width:768px)"),I=w||S&&!M,Z=s.isSafari()&&n.isiOS()&&/safari/i.test(i)===!1,K=!I&&!M&&!Z;return{isiPad:ie(b),isiPhone:ie(w),isTablet:ie(M),isPhone:ie(I),isTouch:ie(_),isAndroid:n.isAndroid,isiOS:n.isiOS,isWebView:ie(Z),isDesktop:ie(K)}},Et=(n,s)=>{for(let i=0;i<n.length;i++){const f=n[i];if(f.test(s))return f}},pn=(n,s)=>{const i=Et(n,s);if(!i)return{major:0,minor:0};const f=b=>Number(s.replace(i,"$"+b));return qs(f(1),f(2))},Wn=(n,s)=>{const i=String(s).toLowerCase();return n.length===0?Po():pn(n,i)},Po=()=>qs(0,0),qs=(n,s)=>({major:n,minor:s}),_s={nu:qs,detect:Wn,unknown:Po},Ni=(n,s)=>Jo(s.brands,i=>{const f=i.brand.toLowerCase();return Ne(n,b=>f===b.brand?.toLowerCase()).map(b=>({current:b.name,version:_s.nu(parseInt(i.version,10),0)}))}),Ea=(n,s)=>{const i=String(s).toLowerCase();return Ne(n,f=>f.search(i))},Yd=(n,s)=>Ea(n,s).map(i=>{const f=_s.detect(i.versionRegexes,s);return{current:i.name,version:f}}),Om=(n,s)=>Ea(n,s).map(i=>{const f=_s.detect(i.versionRegexes,s);return{current:i.name,version:f}}),kf=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Gc=n=>s=>Hr(s,n),N0=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:n=>Hr(n,"edge/")&&Hr(n,"chrome")&&Hr(n,"safari")&&Hr(n,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,kf],search:n=>Hr(n,"chrome")&&!Hr(n,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:n=>Hr(n,"msie")||Hr(n,"trident")},{name:"Opera",versionRegexes:[kf,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Gc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Gc("firefox")},{name:"Safari",versionRegexes:[kf,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:n=>(Hr(n,"safari")||Hr(n,"mobile/"))&&Hr(n,"applewebkit")}],M0=[{name:"Windows",search:Gc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:n=>Hr(n,"iphone")||Hr(n,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Gc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Gc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Gc("linux"),versionRegexes:[]},{name:"Solaris",search:Gc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Gc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Gc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],pe={browsers:ie(N0),oses:ie(M0)},Re="Edge",dt="Chromium",Yt="IE",po="Opera",bs="Firefox",Ta="Safari",al=()=>Ui({current:void 0,version:_s.unknown()}),Ui=n=>{const s=n.current,i=n.version,f=b=>()=>s===b;return{current:s,version:i,isEdge:f(Re),isChromium:f(dt),isIE:f(Yt),isOpera:f(po),isFirefox:f(bs),isSafari:f(Ta)}},Ul={unknown:al,nu:Ui},Xd="Windows",Zl="iOS",Rm="Android",Wl="Linux",il="macOS",Qd="Solaris",_c="FreeBSD",ds="ChromeOS",vh=()=>pp({current:void 0,version:_s.unknown()}),pp=n=>{const s=n.current,i=n.version,f=b=>()=>s===b;return{current:s,version:i,isWindows:f(Xd),isiOS:f(Zl),isAndroid:f(Rm),isMacOS:f(il),isLinux:f(Wl),isSolaris:f(Qd),isFreeBSD:f(_c),isChromeOS:f(ds)}},Aa={unknown:vh,nu:pp},j1={detect:(n,s,i)=>{const f=pe.browsers(),b=pe.oses(),w=s.bind(M=>Ni(f,M)).orThunk(()=>Yd(f,n)).fold(Ul.unknown,Ul.nu),S=Om(b,n).fold(Aa.unknown,Aa.nu),_=Xe(S,w,n,i);return{browser:w,os:S,deviceType:_}}},U1=n=>window.matchMedia(n).matches;let Z1=sl(()=>j1.detect(window.navigator.userAgent,P.from(window.navigator.userAgentData),U1));const Ua=()=>Z1(),em=(n,s)=>Ps(n,s),W1=(n,s)=>{const i=em(n,s);if(i==null)throw new Error(n+" not available on this browser");return i},an=Object.getPrototypeOf,Kc=n=>W1("HTMLElement",n),bg=n=>{const s=Ps("ownerDocument.defaultView",n);return U(n)&&(Kc(s).prototype.isPrototypeOf(n)||/^HTML\w*Element$/.test(an(n).constructor.name))},yd=n=>n.dom.nodeName.toLowerCase(),yg=n=>n.dom.nodeType,q1=n=>s=>yg(s)===n,De=n=>Yc(n)&&bg(n.dom),Yc=q1(qn),vl=q1(ps),xh=q1(Pe),wh=q1(Nt),Rl=n=>s=>Yc(s)&&yd(s)===n,Oc=n=>fn.fromDom(n.dom.ownerDocument),L0=n=>xh(n)?n:Oc(n),bp=n=>fn.fromDom(L0(n).dom.documentElement),yp=n=>fn.fromDom(L0(n).dom.defaultView),xl=n=>P.from(n.dom.parentNode).map(fn.fromDom),vp=n=>xl(n),Tu=n=>P.from(n.dom.parentElement).map(fn.fromDom),Ch=(n,s)=>{const i=ve(s)?s:pt;let f=n.dom;const b=[];for(;f.parentNode!==null&&f.parentNode!==void 0;){const w=f.parentNode,S=fn.fromDom(w);if(b.push(S),i(S)===!0)break;f=w}return b},P0=n=>P.from(n.dom.offsetParent).map(fn.fromDom),wl=n=>P.from(n.dom.previousSibling).map(fn.fromDom),Nm=n=>P.from(n.dom.nextSibling).map(fn.fromDom),Uu=n=>Ze(n.dom.childNodes,fn.fromDom),tm=(n,s)=>{const i=n.dom.childNodes;return P.from(i[s]).map(fn.fromDom)},ss=n=>tm(n,0),mc=(n,s)=>({element:n,offset:s}),Sh=(n,s)=>{const i=Uu(n);return i.length>0&&s<i.length?mc(i[s],0):mc(n,s)},G1=(n,s,i,f)=>{const w=Oc(n).dom.createRange();return w.setStart(n.dom,s),w.setEnd(i.dom,f),w},rs=(n,s,i,f)=>{const b=G1(n,s,i,f),w=se(n,i)&&s===f;return b.collapsed&&!w},nm=n=>wh(n)&&$e(n.dom.host),Ti=n=>fn.fromDom(n.dom.getRootNode()),vd=n=>nm(n)?n:fn.fromDom(L0(n).dom.body),xd=n=>fa(n).isSome(),fa=n=>{const s=Ti(n);return nm(s)?P.some(s):P.none()},xs=n=>fn.fromDom(n.dom.host),F0=n=>{if($e(n.target)){const s=fn.fromDom(n.target);if(Yc(s)&&wd(s)&&n.composed&&n.composedPath){const i=n.composedPath();if(i)return sn(i)}}return P.from(n.target)},wd=n=>$e(n.dom.shadowRoot),Pa=(n,s,i,f,b,w,S)=>({target:n,x:s,y:i,stop:f,prevent:b,kill:w,raw:S}),Au=n=>{const s=fn.fromDom(F0(n).getOr(n.target)),i=()=>n.stopPropagation(),f=()=>n.preventDefault(),b=en(f,i);return Pa(s,n.clientX,n.clientY,i,f,b,n)},Xc=(n,s)=>i=>{n(i)&&s(Au(i))},si=(n,s,i,f,b)=>{const w=Xc(i,f);return n.dom.addEventListener(s,w,b),{unbind:mn(Qc,n,s,w,b)}},Zu=(n,s,i,f)=>si(n,s,i,f,!1),Zi=(n,s,i,f)=>si(n,s,i,f,!0),Qc=(n,s,i,f)=>{n.dom.removeEventListener(s,i,f)},ll=Pt,Fs=(n,s,i)=>Zu(n,s,ll,i),Wu=(n,s,i)=>Zi(n,s,ll,i),Za=Au,Wi=()=>fn.fromDom(document),Fa=(n,s=!1)=>n.dom.focus({preventScroll:s}),ma=n=>n.dom.blur(),Jc=n=>{const s=Ti(n).dom;return n.dom===s.activeElement},ri=(n=Wi())=>P.from(n.dom.activeElement).map(fn.fromDom),ai=n=>ri(Ti(n)).filter(s=>n.dom.contains(s.dom)),om=(n,s)=>{xl(n).each(f=>{f.dom.insertBefore(s.dom,n.dom)})},xp=(n,s)=>{Nm(n).fold(()=>{xl(n).each(b=>{ra(b,s)})},f=>{om(f,s)})},wp=(n,s)=>{ss(n).fold(()=>{ra(n,s)},f=>{n.dom.insertBefore(s.dom,f.dom)})},ra=(n,s)=>{n.dom.appendChild(s.dom)},Mm=(n,s,i)=>{tm(n,i).fold(()=>{ra(n,s)},f=>{om(f,s)})},Eh=(n,s)=>{bt(s,i=>{ra(n,i)})},Df=(n,s,i)=>{if(H(i)||ue(i)||ct(i))n.setAttribute(s,i+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",i,":: Element ",n),new Error("Attribute value was not simple")},uo=(n,s,i)=>{Df(n.dom,s,i)},ku=(n,s)=>{const i=n.dom;Ho(s,(f,b)=>{Df(i,b,f)})},ea=(n,s)=>{const i=n.dom.getAttribute(s);return i===null?void 0:i},ii=(n,s)=>P.from(ea(n,s)),$a=(n,s)=>{const i=n.dom;return i&&i.hasAttribute?i.hasAttribute(s):!1},cr=(n,s)=>{n.dom.removeAttribute(s)},Rc=n=>Io(n.dom.attributes,(s,i)=>(s[i.name]=i.value,s),{}),Cp=n=>{n.dom.textContent="",bt(Uu(n),s=>{eu(s)})},eu=n=>{const s=n.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},qu=(n,s)=>fn.fromDom(n.dom.cloneNode(s)),vg=n=>qu(n,!1),Cl=n=>qu(n,!0),Ia=(n,s)=>{const f=(s||document).createElement("div");return f.innerHTML=n,Uu(fn.fromDom(f))},Js=n=>n.dom.innerHTML,Nl=(n,s)=>{const f=Oc(n).dom,b=fn.fromDom(f.createDocumentFragment()),w=Ia(s,f);Eh(b,w),Cp(n),ra(n,b)},Du=n=>{const s=fn.fromTag("div"),i=fn.fromDom(n.dom.cloneNode(!0));return ra(s,i),Js(s)},cl=n=>{if(nm(n))return"#shadow-root";{const s=vg(n);return Du(s)}},Sl=n=>new Promise((s,i)=>{const f=()=>{w(),s(n)},b=[Fs(n,"load",f),Fs(n,"error",()=>{w(),i("Unable to load data from image: "+n.dom.src)})],w=()=>bt(b,S=>S.unbind());n.dom.complete&&f()}),Jd=n=>n.style!==void 0&&ve(n.style.getPropertyValue),$s=n=>{const s=vl(n)?n.dom.parentNode:n.dom;if(s==null||s.ownerDocument===null)return!1;const i=s.ownerDocument;return fa(fn.fromDom(s)).fold(()=>i.body.contains(s),Qe($s,xs))},Ml=()=>Bm(fn.fromDom(document)),Bm=n=>{const s=n.dom.body;if(s==null)throw new Error("Body is not available yet");return fn.fromDom(s)},Th=(n,s,i)=>{if(!H(i))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",i,":: Element ",n),new Error("CSS value must be a string: "+i);Jd(n)&&n.style.setProperty(s,i)},hc=(n,s)=>{Jd(n)&&n.style.removeProperty(s)},Co=(n,s,i)=>{const f=n.dom;Th(f,s,i)},Or=(n,s)=>{const i=n.dom;Ho(s,(f,b)=>{Th(i,b,f)})},Wa=(n,s)=>{const i=n.dom;Ho(s,(f,b)=>{f.fold(()=>{hc(i,b)},w=>{Th(i,b,w)})})},yr=(n,s)=>{const i=n.dom,b=window.getComputedStyle(i).getPropertyValue(s);return b===""&&!$s(n)?ul(i,s):b},ul=(n,s)=>Jd(n)?n.style.getPropertyValue(s):"",Gr=(n,s)=>{const i=n.dom,f=ul(i,s);return P.from(f).filter(b=>b.length>0)},li=n=>{const s={},i=n.dom;if(Jd(i))for(let f=0;f<i.style.length;f++){const b=i.style.item(f);s[b]=i.style[b]}return s},ef=(n,s,i)=>{const f=fn.fromTag(n);return Co(f,s,i),Gr(f,s).isSome()},cs=(n,s)=>{const i=n.dom;hc(i,s),oo(ii(n,"style").map(An),"")&&cr(n,"style")},ql=n=>n.dom.offsetWidth,ws=(n,s)=>{const i=(_,M)=>{if(!ct(M)&&!M.match(/^[0-9]+$/))throw new Error(n+".set accepts only positive integer values. Value was "+M);const I=_.dom;Jd(I)&&(I.style[n]=M+"px")},f=_=>{const M=s(_);if(M<=0||M===null){const I=yr(_,n);return parseFloat(I)||0}return M},b=f,w=(_,M)=>Io(M,(I,Z)=>{const K=yr(_,Z),le=K===void 0?0:parseInt(K,10);return isNaN(le)?I:I+le},0);return{set:i,get:f,getOuter:b,aggregate:w,max:(_,M,I)=>{const Z=w(_,I);return M>Z?M-Z:0}}},Gl=ws("height",n=>{const s=n.dom;return $s(n)?s.getBoundingClientRect().height:s.offsetHeight}),pi=n=>Gl.get(n),Ai=n=>Gl.getOuter(n),_f=(n,s)=>{const i=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],f=Gl.max(n,s,i);Co(n,"max-height",f+"px")},xg=n=>n.offsetWidth<=0&&n.offsetHeight<=0,qa=n=>!xg(n.dom),Of=ws("width",n=>{const s=n.dom;return $s(n)?s.getBoundingClientRect().width:s.offsetWidth}),Cd=(n,s)=>Of.set(n,s),Mi=n=>Of.get(n),tf=n=>Of.getOuter(n),wg=(n,s)=>{const i=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],f=Of.max(n,s,i);Co(n,"max-width",f+"px")},Gu=(n,s)=>({left:n,top:s,translate:(f,b)=>Gu(n+f,s+b)}),hr=Gu,$0=n=>{const s=n.getBoundingClientRect();return hr(s.left,s.top)},Cg=(n,s)=>n!==void 0?n:s!==void 0?s:0,Bl=n=>{const s=n.dom.ownerDocument,i=s.body,f=s.defaultView,b=s.documentElement;if(i===n.dom)return hr(i.offsetLeft,i.offsetTop);const w=Cg(f?.pageYOffset,b.scrollTop),S=Cg(f?.pageXOffset,b.scrollLeft),_=Cg(b.clientTop,i.clientTop),M=Cg(b.clientLeft,i.clientLeft);return dl(n).translate(S-M,w-_)},dl=n=>{const s=n.dom,f=s.ownerDocument.body;return f===s?hr(f.offsetLeft,f.offsetTop):$s(n)?$0(s):hr(0,0)},ka=n=>{const s=n!==void 0?n.dom:document,i=s.body.scrollLeft||s.documentElement.scrollLeft,f=s.body.scrollTop||s.documentElement.scrollTop;return hr(i,f)},Sd=(n,s,i)=>{const b=(i!==void 0?i.dom:document).defaultView;b&&b.scrollTo(n,s)},nf=((n,s)=>{const i=w=>{if(!n(w))throw new Error("Can only get "+s+" value of a "+s+" node");return f(w).getOr("")},f=w=>n(w)?P.from(w.dom.nodeValue):P.none();return{get:i,getOption:f,set:(w,S)=>{if(!n(w))throw new Error("Can only set raw "+s+" value of a "+s+" node");w.dom.nodeValue=S}}})(vl,"text"),Sg=n=>nf.get(n),Eg=(n,s)=>i=>K1(i)==="rtl"?s:n,K1=n=>yr(n,"direction")==="rtl"?"rtl":"ltr",Ed=(n,s)=>{const i=ea(n,s);return i===void 0||i===""?[]:i.split(" ")},dy=(n,s,i)=>{const b=Ed(n,s).concat([i]);return uo(n,s,b.join(" ")),!0},sm=(n,s,i)=>{const f=vo(Ed(n,s),b=>b!==i);return f.length>0?uo(n,s,f.join(" ")):cr(n,s),!1};var gc=(n,s,i,f,b)=>n(i,f)?P.some(i):ve(b)&&b(i)?P.none():s(i,f,b);const Y1=(n,s,i)=>{let f=n.dom;const b=ve(i)?i:pt;for(;f.parentNode;){f=f.parentNode;const w=fn.fromDom(f);if(s(w))return P.some(w);if(b(w))break}return P.none()},Ah=(n,s,i)=>gc((b,w)=>w(b),Y1,n,s,i),Rf=(n,s)=>{const i=n.dom;return i.parentNode?rm(fn.fromDom(i.parentNode),f=>!se(n,f)&&s(f)):P.none()},rm=(n,s)=>{const i=b=>s(fn.fromDom(b));return Ne(n.dom.childNodes,i).map(fn.fromDom)},Tg=(n,s)=>{const i=f=>{for(let b=0;b<f.childNodes.length;b++){const w=fn.fromDom(f.childNodes[b]);if(s(w))return P.some(w);const S=i(f.childNodes[b]);if(S.isSome())return S}return P.none()};return i(n.dom)},Ag=n=>Ol(n),tu=(n,s,i)=>Y1(n,f=>lr(f,s),i),fy=(n,s)=>Rf(n,i=>lr(i,s)),_u=(n,s)=>rm(n,i=>lr(i,s)),ur=(n,s)=>Ol(s,n),bi=(n,s,i)=>gc((b,w)=>lr(b,w),tu,n,s,i),Td=(n,s)=>{n.dom.checked=s},Sp=n=>n.dom.checked,nu=n=>n.dom.classList!==void 0,Nf=n=>Ed(n,"class"),kg=(n,s)=>dy(n,"class",s),Ad=(n,s)=>sm(n,"class",s),kd=(n,s)=>Me(Nf(n),s)?Ad(n,s):kg(n,s),nr=(n,s)=>{nu(n)?n.dom.classList.add(s):kg(n,s)},Dg=n=>{(nu(n)?n.dom.classList:Nf(n)).length===0&&cr(n,"class")},ha=(n,s)=>{nu(n)?n.dom.classList.remove(s):Ad(n,s),Dg(n)},kh=(n,s)=>{const i=nu(n)?n.dom.classList.toggle(s):kd(n,s);return Dg(n),i},Da=(n,s)=>nu(n)&&n.dom.classList.contains(s),Ku=(n,s)=>{bt(s,i=>{nr(n,i)})},El=(n,s)=>{bt(s,i=>{ha(n,i)})},of=(n,s)=>{bt(s,i=>{kh(n,i)})},_g=(n,s)=>Je(s,i=>Da(n,i)),ou=n=>{const s=n.dom.classList,i=new Array(s.length);for(let f=0;f<s.length;f++){const b=s.item(f);b!==null&&(i[f]=b)}return i},Ou=n=>nu(n)?ou(n):Nf(n),Lm=n=>n.dom.textContent,pc=n=>n.dom.value,Dd=(n,s)=>{if(s===void 0)throw new Error("Value.set was undefined");n.dom.value=s},aa=(n,s,i)=>vo(Ch(n,i),s),ta=(n,s)=>Ei(s,n),ki=(n,s,i)=>Ah(n,s,i).isSome(),Pm=(n,s,i)=>bi(n,s,i).isSome(),_d=n=>ve(n)?n:pt,or=(n,s,i)=>{let f=n.dom;const b=_d(i);for(;f.parentNode;){f=f.parentNode;const w=fn.fromDom(f),S=s(w);if(S.isSome())return S;if(b(w))break}return P.none()},Cr=(n,s,i)=>{const f=s(n),b=_d(i);return f.orThunk(()=>b(n)?P.none():or(n,s,b))},L={create:(n,s,i,f)=>({start:n,soffset:s,finish:i,foffset:f})},z=Ba.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),ae=(n,s,i,f)=>n.fold(s,i,f),xe=n=>n.fold(it,it,it),We=z.before,kt=z.on,wn=z.after,_n={before:We,on:kt,after:wn,cata:ae,getStart:xe},Fo=Ba.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),as=n=>Fo.exact(n.start,n.soffset,n.finish,n.foffset),Br=n=>n.match({domRange:s=>fn.fromDom(s.startContainer),relative:(s,i)=>_n.getStart(s),exact:(s,i,f,b)=>s}),ia=Fo.domRange,yi=Fo.relative,Nc=Fo.exact,Yu=n=>{const s=Br(n);return yp(s)},sf=L.create,di={domRange:ia,relative:yi,exact:Nc,exactFromRange:as,getWin:Yu,range:sf},Bi=n=>P.from(n.getSelection()),am=n=>{if(n.rangeCount>0){const s=n.getRangeAt(0),i=n.getRangeAt(n.rangeCount-1);return P.some(L.create(fn.fromDom(s.startContainer),s.startOffset,fn.fromDom(i.endContainer),i.endOffset))}else return P.none()},im=n=>{if(n.anchorNode===null||n.focusNode===null)return am(n);{const s=fn.fromDom(n.anchorNode),i=fn.fromDom(n.focusNode);return rs(s,n.anchorOffset,i,n.focusOffset)?P.some(L.create(s,n.anchorOffset,i,n.focusOffset)):am(n)}},Fm=n=>Bi(n).filter(s=>s.rangeCount>0).bind(im),Dh=(n,s)=>{const i=be(n,s);return ji(i)},Ru=(n,s)=>{const i=be(n,s);return oi(i)},_h={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},X1=(()=>{const n="[0-9]+",i="[eE]"+("[+-]?"+n),f="\\.",b=_=>`(?:${_})?`,S=`[+-]?(?:${["Infinity",n+f+b(n)+b(i),f+n+b(i),n+b(i)].join("|")})`;return new RegExp(`^(${S})(.*)$`)})(),Q1=(n,s)=>wt(s,i=>wt(_h[i],f=>n===f)),Is=(n,s)=>P.from(X1.exec(n)).bind(f=>{const b=Number(f[1]),w=f[2];return Q1(w,s)?P.some({value:b,unit:w}):P.none()}),Ha=(n,s)=>Is(n,s).map(({value:i,unit:f})=>i+f),Ga=n=>{const s=n===void 0?window:n;return Ua().browser.isFirefox()?P.none():P.from(s.visualViewport)},Pl=(n,s,i,f)=>({x:n,y:s,width:i,height:f,right:n+i,bottom:s+f}),Ep=n=>{const s=n===void 0?window:n,i=s.document,f=ka(fn.fromDom(i));return Ga(s).fold(()=>{const b=s.document.documentElement,w=b.clientWidth,S=b.clientHeight;return Pl(f.left,f.top,w,S)},b=>Pl(Math.max(b.pageLeft,f.left),Math.max(b.pageTop,f.top),b.width,b.height))},Og=(n,s)=>n.view(s).fold(ie([]),f=>{const b=n.owner(f),w=Og(n,b);return[f].concat(w)}),Rg=(n,s)=>{const i=s.owner(n),f=Og(s,i);return P.some(f)};var $m=Object.freeze({__proto__:null,view:n=>(n.dom===document?P.none():P.from(n.dom.defaultView?.frameElement)).map(fn.fromDom),owner:n=>Oc(n)});const I0=n=>{const s=Wi(),i=ka(s);return Rg(n,$m).fold(mn(Bl,n),b=>{const w=dl(n),S=Mo(b,(_,M)=>{const I=dl(M);return{left:_.left+I.left,top:_.top+I.top}},{left:0,top:0});return hr(S.left+w.left+i.left,S.top+w.top+i.top)})},Oh=(n,s,i)=>({point:n,width:s,height:i}),Rv=(n,s,i,f)=>({x:n,y:s,width:i,height:f}),Li=(n,s,i,f)=>({x:n,y:s,width:i,height:f,right:n+i,bottom:s+f}),Di=n=>{const s=Bl(n),i=tf(n),f=Ai(n);return Li(s.left,s.top,i,f)},Rh=n=>{const s=I0(n),i=tf(n),f=Ai(n);return Li(s.left,s.top,i,f)},Im=(n,s)=>{const i=Math.max(n.x,s.x),f=Math.max(n.y,s.y),b=Math.min(n.right,s.right),w=Math.min(n.bottom,s.bottom),S=b-i,_=w-f;return Li(i,f,S,_)},my=(n,s)=>Io(s,(i,f)=>Im(i,f),n),bc=()=>Ep(window),hy=(n,s)=>se(n.element,s.event.target),rf=n=>(oo(Gr(n,"position"),"fixed")?P.none():P0(n)).orThunk(()=>{const f=fn.fromTag("span");return xl(n).bind(b=>{ra(b,f);const w=P0(f);return eu(f),w})}),J1=n=>rf(n).map(Bl).getOrThunk(()=>hr(0,0)),su=(n,s)=>{const i=P.from(ea(n,"id")).getOrThunk(()=>{const f=me("aria");return uo(s,"id",f),f});uo(n,"aria-describedby",i)},H0=n=>{cr(n,"aria-describedby")};var Nu;(function(n){n[n.Error=0]="Error",n[n.Value=1]="Value"})(Nu||(Nu={}));const Ka=(n,s,i)=>n.stype===Nu.Error?s(n.serror):i(n.svalue),gy=n=>{const s=[],i=[];return bt(n,f=>{Ka(f,b=>i.push(b),b=>s.push(b))}),{values:s,errors:i}},Ap=(n,s)=>n.stype===Nu.Error?{stype:Nu.Error,serror:s(n.serror)}:n,Nv=(n,s)=>n.stype===Nu.Value?{stype:Nu.Value,svalue:s(n.svalue)}:n,py=(n,s)=>n.stype===Nu.Value?s(n.svalue):n,Mv=(n,s)=>n.stype===Nu.Error?s(n.serror):n,Bv=n=>({stype:Nu.Value,svalue:n}),z0=n=>({stype:Nu.Error,serror:n}),Cn={fromResult:n=>n.fold(z0,Bv),toResult:n=>Ka(n,Pn.error,Pn.value),svalue:Bv,partition:gy,serror:z0,bind:py,bindError:Mv,map:Nv,mapError:Ap,fold:Ka},ru=n=>U(n)&&ko(n).length>100?" removed due to size":JSON.stringify(n,null,2),Sx=n=>{const s=n.length>10?n.slice(0,10).concat([{path:[],getErrorInfo:ie("... (only showing first ten failures)")}]):n;return Ze(s,i=>"Failed path: ("+i.path.join(" > ")+`)
`+i.getErrorInfo())},au=(n,s)=>Cn.serror([{path:n,getErrorInfo:s}]),Xu=(n,s,i)=>au(n,()=>'Could not find valid *required* value for "'+s+'" in '+ru(i)),tb=(n,s)=>au(n,()=>'Choice schema did not contain choice key: "'+s+'"'),Ex=(n,s,i)=>au(n,()=>'The chosen schema: "'+i+'" did not exist in branches: '+ru(s)),Hm=(n,s)=>au(n,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),Tx=(n,s)=>au(n,ie(s)),iu=n=>{const s=(f,b)=>Cn.bindError(n(b),w=>Tx(f,w)),i=ie("val");return{extract:s,toString:i}},Ax=iu(Cn.svalue),af=ie(Ax),dn=(n,s)=>iu(i=>{const f=typeof i;return n(i)?Cn.svalue(i):Cn.serror(`Expected type: ${s} but got: ${f}`)}),Dp=dn(ct,"number"),Pi=dn(H,"string"),ns=dn(ue,"boolean"),zm=dn(ve,"function"),_p=n=>{if(Object(n)!==n)return!0;switch({}.toString.call(n).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(n).every(s=>_p(n[s]));default:return!1}},la=iu(n=>_p(n)?Cn.svalue(n):Cn.serror("Expected value to be acceptable for sending via postMessage")),Od=()=>({tag:"required",process:{}}),Op=n=>({tag:"defaultedThunk",process:n}),Mu=n=>Op(ie(n)),na=()=>({tag:"option",process:{}}),lm=n=>({tag:"mergeWithThunk",process:n}),Rp=n=>lm(ie(n)),by=(n,s,i,f)=>({tag:"field",key:n,newKey:s,presence:i,prop:f}),Nh=(n,s)=>({tag:"custom",newKey:n,instantiator:s}),Rd=(n,s,i)=>{switch(n.tag){case"field":return s(n.key,n.newKey,n.presence,n.prop);case"custom":return i(n.newKey,n.instantiator)}},V0=(n,s)=>Cn.svalue(qt(s,xo.apply(void 0,n))),j0=n=>en(Cn.serror,tt)(n),Np={consolidateObj:(n,s)=>{const i=Cn.partition(n);return i.errors.length>0?j0(i.errors):V0(i.values,s)},consolidateArr:n=>{const s=Cn.partition(n);return s.errors.length>0?j0(s.errors):Cn.svalue(s.values)}},xy=(n,s,i,f)=>Hn(s,i).fold(()=>Xu(n,i,s),f),nb=(n,s,i,f)=>{const b=Hn(n,s).getOrThunk(()=>i(n));return f(b)},IC=(n,s,i)=>i(Hn(n,s)),Lv=(n,s,i,f)=>{const b=Hn(n,s).map(w=>w===!0?i(n):w);return f(b)},Tl=(n,s,i,f,b)=>{const w=_=>b.extract(s.concat([f]),_),S=_=>_.fold(()=>Cn.svalue(P.none()),M=>{const I=b.extract(s.concat([f]),M);return Cn.map(I,P.some)});switch(n.tag){case"required":return xy(s,i,f,w);case"defaultedThunk":return nb(i,f,n.process,w);case"option":return IC(i,f,S);case"defaultedOptionThunk":return Lv(i,f,n.process,S);case"mergeWithThunk":return nb(i,f,ie({}),_=>{const M=qt(n.process(i),_);return w(M)})}},lu=(n,s,i)=>{const f={},b=[];for(const w of i)Rd(w,(S,_,M,I)=>{const Z=Tl(M,n,s,S,I);Cn.fold(Z,K=>{b.push(...K)},K=>{f[_]=K})},(S,_)=>{f[S]=_(s)});return b.length>0?Cn.serror(b):Cn.svalue(f)},U0=n=>({extract:(f,b)=>n().extract(f,b),toString:()=>n().toString()}),HC=n=>ko(Wr(n,$e)),Bu=n=>{const s=fo(n),i=Mo(n,(b,w)=>Rd(w,S=>qt(b,{[S]:!0}),ie(b)),{});return{extract:(b,w)=>{const S=ue(w)?[]:HC(w),_=vo(S,M=>!Oo(i,M));return _.length===0?s.extract(b,w):Hm(b,_)},toString:s.toString}},fo=n=>({extract:(f,b)=>lu(f,b,n),toString:()=>`obj{
`+Ze(n,b=>Rd(b,(w,S,_,M)=>w+" -> "+M.toString(),(w,S)=>"state("+w+")")).join(`
`)+"}"}),_a=n=>({extract:(f,b)=>{const w=Ze(b,(S,_)=>n.extract(f.concat(["["+_+"]"]),S));return Np.consolidateArr(w)},toString:()=>"array("+n.toString()+")"}),Mp=(n,s)=>{const i=s!==void 0?s:it;return{extract:(w,S)=>{const _=[];for(const M of n){const I=M.extract(w,S);if(I.stype===Nu.Value)return{stype:Nu.Value,svalue:i(I.svalue)};_.push(I)}return Np.consolidateArr(_)},toString:()=>"oneOf("+Ze(n,w=>w.toString()).join(", ")+")"}},ob=(n,s)=>{const i=(w,S)=>_a(iu(n)).extract(w,S);return{extract:(w,S)=>{const _=ko(S),M=i(w,_);return Cn.bind(M,I=>{const Z=Ze(I,K=>by(K,K,Od(),s));return fo(Z).extract(w,S)})},toString:()=>"setOf("+s.toString()+")"}},Ng=(n,s)=>{const i=sl(s);return{extract:(w,S)=>i().extract(w,S),toString:()=>i().toString()}},Z0=en(_a,fo),W0=(n,s,i,f)=>Hn(i,f).fold(()=>Ex(n,i,f),w=>w.extract(n.concat(["branch: "+f]),s)),Mh=(n,s)=>({extract:(b,w)=>Hn(w,n).fold(()=>tb(b,n),_=>W0(b,w,s,_)),toString:()=>"chooseOn("+n+"). Possible values: "+ko(s)}),Pv=()=>_a(Ax),cm=n=>iu(s=>n(s).fold(Cn.serror,Cn.svalue)),Fv=(n,s)=>ob(i=>Cn.fromResult(n(i)),s),sb=(n,s,i)=>{const f=s.extract([n],i);return Cn.mapError(f,b=>({input:i,errors:b}))},ga=(n,s,i)=>Cn.toResult(sb(n,s,i)),Qu=n=>n.fold(s=>{throw new Error(Mg(s))},it),Mc=(n,s,i)=>Qu(ga(n,s,i)),Mg=n=>`Errors: 
`+Sx(n.errors).join(`
`)+`

Input object: `+ru(n.input),Kl=(n,s)=>Mh(n,os(s,fo)),Bh=(n,s)=>Ng(n,s),fl=by,yc=Nh,rb=n=>cm(s=>Me(n,s)?Pn.value(s):Pn.error(`Unsupported value: "${s}", choose one of "${n.join(", ")}".`)),Wt=n=>fl(n,n,Od(),af()),Bc=(n,s)=>fl(n,n,Od(),s),ab=n=>Bc(n,Dp),Ya=n=>Bc(n,Pi),Yl=(n,s)=>fl(n,n,Od(),rb(s)),cu=n=>Bc(n,zm),kx=(n,s)=>fl(n,n,na(),iu(i=>Cn.serror("The field: "+n+" is forbidden. "+s))),lf=(n,s)=>fl(n,n,Od(),fo(s)),q0=(n,s)=>fl(n,n,Od(),Z0(s)),Ar=(n,s)=>fl(n,n,Od(),_a(s)),vr=n=>fl(n,n,na(),af()),um=(n,s)=>fl(n,n,na(),s),Bp=n=>um(n,Dp),pa=n=>um(n,Pi),Vm=(n,s)=>um(n,rb(s)),wy=n=>um(n,ns),cf=n=>um(n,zm),Bg=(n,s)=>um(n,_a(s)),Fi=(n,s)=>um(n,fo(s)),Dx=(n,s)=>um(n,Bu(s)),ht=(n,s)=>fl(n,n,Mu(s),af()),Ju=(n,s,i)=>fl(n,n,Mu(s),i),Lp=(n,s)=>Ju(n,s,Dp),Oa=(n,s)=>Ju(n,s,Pi),Xl=(n,s,i)=>Ju(n,s,rb(i)),qi=(n,s)=>Ju(n,s,ns),dr=(n,s)=>Ju(n,s,zm),Fl=(n,s)=>Ju(n,s,la),jm=(n,s,i)=>Ju(n,s,_a(i)),Lh=(n,s,i)=>Ju(n,s,fo(i)),ml=(n,s)=>{const i={};return Ho(n,(f,b)=>{Me(s,b)||(i[b]=f)}),i},ib=(n,s)=>({[n]:s}),Cy=n=>{const s={};return bt(n,i=>{s[i.key]=i.value}),s},Sy=(n,s)=>ml(n,s),za=(n,s)=>ib(n,s),vc=n=>Cy(n),Um=(n,s)=>n.length===0?Pn.value(s):Pn.value(qt(s,xo.apply(void 0,n))),Ey=n=>Pn.error(tt(n)),_x=(n,s)=>{const i=ir(n);return i.errors.length>0?Ey(i.errors):Um(i.values,s)},Ql=ie,ed=Ql("touchstart"),Xa=Ql("touchmove"),$l=Ql("touchend"),td=Ql("touchcancel"),uu=Ql("mousedown"),xc=Ql("mousemove"),$i=Ql("mouseout"),Mf=Ql("mouseup"),Jl=Ql("mouseover"),ec=Ql("focusin"),lb=Ql("focusout"),Gi=Ql("keydown"),Lu=Ql("keyup"),Bf=Ql("input"),Lf=Ql("change"),dm=Ql("click"),cb=Ql("transitioncancel"),Ph=Ql("transitionend"),Zm=Ql("transitionstart"),G0=Ql("selectstart"),kr=n=>ie("alloy."+n),$v={tap:kr("tap")},Pf=kr("focus"),Pp=kr("blur.post"),Ty=kr("paste.post"),Fh=kr("receive"),Bs=kr("execute"),ba=kr("focus.item"),xr=$v.tap,Rr=kr("longpress"),Ra=kr("sandbox.close"),Pu=kr("typeahead.cancel"),Ff=kr("system.init"),Fp=kr("system.touchmove"),ub=kr("system.touchend"),fm=kr("system.scroll"),vi=kr("system.resize"),Lc=kr("system.attached"),wc=kr("system.detached"),mm=kr("system.dismissRequested"),Nd=kr("system.repositionRequested"),$h=kr("focusmanager.shifted"),$p=kr("slotcontainer.visibility"),nd=kr("system.external.element.scroll"),db=kr("change.tab"),Ip=kr("dismiss.tab"),fb=kr("highlight"),Hp=kr("dehighlight"),Md=n=>cl(n),$f="unknown";var Ki;(function(n){n[n.STOP=0]="STOP",n[n.NORMAL=1]="NORMAL",n[n.LOGGING=2]="LOGGING"})(Ki||(Ki={}));const Bd=Mn({}),zp=(n,s)=>{const i=[],f=new Date().getTime();return{logEventCut:(b,w,S)=>{i.push({outcome:"cut",target:w,purpose:S})},logEventStopped:(b,w,S)=>{i.push({outcome:"stopped",target:w,purpose:S})},logNoParent:(b,w,S)=>{i.push({outcome:"no-parent",target:w,purpose:S})},logEventNoHandlers:(b,w)=>{i.push({outcome:"no-handlers-left",target:w})},logEventResponse:(b,w,S)=>{i.push({outcome:"response",purpose:S,target:w})},write:()=>{const b=new Date().getTime();Me(["mousemove","mouseover","mouseout",Ff()],n)||console.log(n,{event:n,time:b-f,target:s.dom,sequence:Ze(i,w=>Me(["cut","stopped","response"],w.outcome)?"{"+w.purpose+"} "+w.outcome+" at ("+Md(w.target)+")":w.outcome)})}}},Ld=(n,s,i)=>{switch(Hn(Bd.get(),n).orThunk(()=>{const b=ko(Bd.get());return Jo(b,w=>n.indexOf(w)>-1?P.some(Bd.get()[w]):P.none())}).getOr(Ki.NORMAL)){case Ki.NORMAL:return i(K0());case Ki.LOGGING:{const b=zp(n,s),w=i(b);return b.write(),w}case Ki.STOP:return!0}},Cc=["alloy/data/Fields","alloy/debugging/Debugging"],Iv=()=>{const n=new Error;if(n.stack!==void 0){const s=n.stack.split(`
`);return Ne(s,i=>i.indexOf("alloy")>0&&!wt(Cc,f=>i.indexOf(f)>-1)).getOr($f)}else return $f},Ay={logEventCut:J,logEventStopped:J,logNoParent:J,logEventNoHandlers:J,logEventResponse:J,write:J},Vp=(n,s,i)=>Ld(n,s,i),K0=ie(Ay),Pd=ie([Wt("menu"),Wt("selectedMenu")]),Lg=ie([Wt("item"),Wt("selectedItem")]);ie(fo(Lg().concat(Pd())));const od=ie(fo(Lg())),Y0=lf("initSize",[Wt("numColumns"),Wt("numRows")]),ky=()=>Bc("markers",od()),Ox=()=>lf("markers",[Wt("backgroundMenu")].concat(Pd()).concat(Lg())),hs=n=>lf("markers",Ze(n,Wt)),jp=(n,s,i)=>(Iv(),fl(s,s,i,cm(f=>Pn.value((...b)=>f.apply(void 0,b))))),Ls=n=>jp("onHandler",n,Mu(J)),tc=n=>jp("onKeyboardHandler",n,Mu(P.none)),Ih=n=>jp("onHandler",n,Od()),X0=n=>jp("onKeyboardHandler",n,Od()),sr=(n,s)=>yc(n,ie(s)),Hv=n=>yc(n,it),mb=ie(Y0),zv=(n,s,i)=>{const f=i.toString(),b=f.indexOf(")")+1,w=f.indexOf("("),S=f.substring(w+1,b-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:s,parameters:Up(S.slice(0,1).concat(S.slice(3)))}),n},Up=n=>Ze(n,s=>dc(s,"/*")?s.substring(0,s.length-2):s),hb=(n,s)=>{const i=n.toString(),f=i.indexOf(")")+1,b=i.indexOf("("),w=i.substring(b+1,f-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:s,parameters:Up(w)}),n},Rx=(n,s)=>{const i=s.toString(),f=i.indexOf(")")+1,b=i.indexOf("("),w=i.substring(b+1,f-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Up(w.slice(1))}),n},Nx=(n,s)=>{let i=null;return{cancel:()=>{i!==null&&(clearTimeout(i),i=null)},schedule:(...w)=>{i=setTimeout(()=>{n.apply(null,w),i=null},s)}}},Mx=5,Zp=400,gb=n=>{const s=n.raw;return s.touches===void 0||s.touches.length!==1?P.none():P.some(s.touches[0])},Bx=(n,s)=>{const i=Math.abs(n.clientX-s.x),f=Math.abs(n.clientY-s.y);return i>Mx||f>Mx},Lx=n=>{const s=wo(),i=Mn(!1),f=Nx(I=>{n.triggerEvent(Rr(),I),i.set(!0)},Zp),b=I=>(gb(I).each(Z=>{f.cancel();const K={x:Z.clientX,y:Z.clientY,target:I.target};f.schedule(I),i.set(!1),s.set(K)}),P.none()),w=I=>(f.cancel(),gb(I).each(Z=>{s.on(K=>{Bx(Z,K)&&s.clear()})}),P.none()),S=I=>{f.cancel();const Z=K=>se(K.target,I.target);return s.get().filter(Z).map(K=>i.get()?(I.prevent(),!1):n.triggerEvent(xr(),I))},_=vc([{key:ed(),value:b},{key:Xa(),value:w},{key:$l(),value:S}]);return{fireIfReady:(I,Z)=>Hn(_,Z).bind(K=>K(I))}};var Pg;(function(n){n.OnFocusMode="onFocus",n.OnEnterOrSpaceMode="onEnterOrSpace",n.OnApiMode="onApi"})(Pg||(Pg={}));const Fu="placeholder",Yi=Ba.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Hh=n=>ts(n,"uiType"),sd=(n,s,i,f)=>n.exists(b=>b!==i.owner)?Yi.single(!0,ie(i)):Hn(f,i.name).fold(()=>{throw new Error("Unknown placeholder component: "+i.name+`
Known: [`+ko(f)+`]
Namespace: `+n.getOr("none")+`
Spec: `+JSON.stringify(i,null,2))},b=>b.replace()),hm=(n,s,i,f)=>Hh(i)&&i.uiType===Fu?sd(n,s,i,f):Yi.single(!1,ie(i)),Wp=(n,s,i,f)=>hm(n,s,i,f).fold((w,S)=>{const _=Hh(i)?S(s,i.config,i.validated):S(s),M=Hn(_,"components").getOr([]),I=Be(M,Z=>Wp(n,s,Z,f));return[{..._,components:I}]},(w,S)=>{if(Hh(i)){const _=S(s,i.config,i.validated);return i.validated.preprocess.getOr(it)(_)}else return S(s)}),ca=(n,s,i,f)=>Be(i,b=>Wp(n,s,b,f)),Q0=(n,s)=>{let i=!1;const f=()=>i,b=()=>{if(i)throw new Error("Trying to use the same placeholder more than once: "+n);return i=!0,s},w=()=>s.fold((S,_)=>S,(S,_)=>S);return{name:ie(n),required:w,used:f,replace:b}},zC=(n,s,i,f)=>{const b=os(f,(S,_)=>Q0(_,S)),w=ca(n,s,i,b);return Ho(b,S=>{if(S.used()===!1&&S.required())throw new Error("Placeholder: "+S.name()+` was not found in components list
Namespace: `+n.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),w},pb=Yi.single,Vv=Yi.multiple,jv=ie(Fu),bb=Ba.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),If=ht("factory",{sketch:it}),zh=ht("schema",[]),qp=Wt("name"),Gp=fl("pname","pname",Op(n=>"<alloy."+me(n.name)+">"),af()),Dy=yc("schema",()=>[vr("preprocess")]),du=ht("defaults",ie({})),uf=ht("overrides",ie({})),J0=fo([If,zh,qp,Gp,du,uf]),VC=fo([If,zh,qp,du,uf]),Px=fo([If,zh,qp,Gp,du,uf]),Uv=fo([If,Dy,qp,Wt("unit"),Gp,du,uf]),_y=n=>n.fold(P.some,P.none,P.some,P.some),gm=n=>{const s=i=>i.name;return n.fold(s,s,s,s)},Fx=n=>n.fold(it,it,it,it),Fd=(n,s)=>i=>{const f=Mc("Converting part type",s,i);return n(f)},Sc=Fd(bb.required,J0),$d=Fd(bb.external,VC),fu=Fd(bb.optional,Px),e1=Fd(bb.group,Uv),Vh=ie("entirety");var Oy=Object.freeze({__proto__:null,required:Sc,external:$d,optional:fu,group:e1,asNamedPart:_y,name:gm,asCommon:Fx,original:Vh});const Zv=(n,s,i,f)=>qt(s.defaults(n,i,f),i,{uid:n.partUids[s.name]},s.overrides(n,i,f)),yb=(n,s,i)=>{const f={},b={};return bt(i,w=>{w.fold(S=>{f[S.pname]=pb(!0,(_,M,I)=>S.factory.sketch(Zv(_,S,M,I)))},S=>{const _=s.parts[S.name];b[S.name]=ie(S.factory.sketch(Zv(s,S,_[Vh()]),_))},S=>{f[S.pname]=pb(!1,(_,M,I)=>S.factory.sketch(Zv(_,S,M,I)))},S=>{f[S.pname]=Vv(!0,(_,M,I)=>{const Z=_[S.name];return Ze(Z,K=>S.factory.sketch(qt(S.defaults(_,K,I),K,S.overrides(_,K))))})})}),{internals:ie(f),externals:ie(b)}},Fg=(n,s)=>{const i={};return bt(s,f=>{_y(f).each(b=>{const w=jh(n,b.pname);i[b.name]=S=>{const _=Mc("Part: "+b.name+" in "+n,fo(b.schema),S);return{...w,config:S,validated:_}}})}),i},jh=(n,s)=>({uiType:jv(),owner:n,name:s}),Nr=(n,s,i)=>({uiType:jv(),owner:n,name:s,config:i,validated:{}}),Ii=n=>Be(n,s=>s.fold(P.none,P.some,P.none,P.none).map(i=>lf(i.name,i.schema.concat([Hv(Vh())]))).toArray()),$g=n=>Ze(n,gm),Pc=(n,s,i)=>yb(n,s,i),vb=(n,s,i)=>zC(P.some(n),s,s.components,i),Dr=(n,s,i)=>{const f=s.partUids[i];return n.getSystem().getByUid(f).toOptional()},rd=(n,s,i)=>Dr(n,s,i).getOrDie("Could not find part: "+i),Hf=(n,s,i)=>{const f={},b=s.partUids,w=n.getSystem();return bt(i,S=>{f[S]=ie(w.getByUid(b[S]))}),f},pm=(n,s)=>{const i=n.getSystem();return os(s.partUids,(f,b)=>ie(i.getByUid(f)))},ad=n=>ko(n.partUids),Ry=(n,s,i)=>{const f={},b=s.partUids,w=n.getSystem();return bt(i,S=>{f[S]=ie(w.getByUid(b[S]).getOrDie())}),f},$x=(n,s)=>{const i=$g(s);return vc(Ze(i,f=>({key:f,value:n+"-"+f})))},Wm=n=>fl("partUids","partUids",lm(s=>$x(s.uid,n)),af());var Ig=Object.freeze({__proto__:null,generate:Fg,generateOne:Nr,schemas:Ii,names:$g,substitutes:Pc,components:vb,defaultUids:$x,defaultUidsSchema:Wm,getAllParts:pm,getAllPartNames:ad,getPart:Dr,getPartOrDie:rd,getParts:Hf,getPartsOrDie:Ry});const Qa=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],mu=(n,s,i,f=1)=>{const b=n*f,w=s*f,S=M=>Hn(i,M).getOr([]),_=(M,I,Z)=>{const K=yt(Qa,Z);return{offset:hr(M,I),classesOn:Be(Z,S),classesOff:Be(K,S)}};return{southeast:()=>_(-n,s,["top","alignLeft"]),southwest:()=>_(n,s,["top","alignRight"]),south:()=>_(-n/2,s,["top","alignCentre"]),northeast:()=>_(-n,-s,["bottom","alignLeft"]),northwest:()=>_(n,-s,["bottom","alignRight"]),north:()=>_(-n/2,-s,["bottom","alignCentre"]),east:()=>_(n,-s/2,["valignCentre","left"]),west:()=>_(-n,-s/2,["valignCentre","right"]),insetNortheast:()=>_(b,w,["top","alignLeft","inset"]),insetNorthwest:()=>_(-b,w,["top","alignRight","inset"]),insetNorth:()=>_(-b/2,w,["top","alignCentre","inset"]),insetSoutheast:()=>_(b,-w,["bottom","alignLeft","inset"]),insetSouthwest:()=>_(-b,-w,["bottom","alignRight","inset"]),insetSouth:()=>_(-b/2,-w,["bottom","alignCentre","inset"]),insetEast:()=>_(-b,-w/2,["valignCentre","right","inset"]),insetWest:()=>_(b,-w/2,["valignCentre","left","inset"])}},Xi=()=>mu(0,0,{}),nc=(n,s,i,f,b,w,S,_=!1)=>({x:n,y:s,bubble:i,direction:f,placement:b,restriction:w,label:`${S}-${b}`,alwaysFit:_}),df=Ba.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Ny=(n,s,i,f,b,w,S,_,M)=>n.fold(s,i,f,b,w,S,_,M),Uh=(n,s,i,f)=>n.fold(s,s,f,f,s,f,i,i),qm=(n,s,i,f)=>n.fold(s,f,s,f,i,i,s,f),Hg=df.southeast,My=df.southwest,xb=df.northeast,Zh=df.northwest,Gm=df.south,Wv=df.north,t1=df.east,qv=df.west,Gv=(n,s)=>{switch(s){case 1:return n.x;case 0:return n.x+n.width;case 2:return n.y;case 3:return n.y+n.height}},hl=(n,s)=>Un(["left","right","top","bottom"],i=>Hn(s,i).map(f=>Gv(n,f))),zg=(n,s,i)=>{const f=(M,I)=>s[M].map(Z=>{const K=M==="top"||M==="bottom",le=K?i.top:i.left,ye=(M==="left"||M==="top"?Math.max:Math.min)(Z,I)+le;return K?us(ye,n.y,n.bottom):us(ye,n.x,n.right)}).getOr(I),b=f("left",n.x),w=f("top",n.y),S=f("right",n.right),_=f("bottom",n.bottom);return Li(b,w,S-b,_-w)},id="layout",Kv=n=>n.x,wb=(n,s)=>n.x+n.width/2-s.width/2,Cb=(n,s)=>n.x+n.width-s.width,Sb=(n,s)=>n.y-s.height,By=n=>n.y+n.height,Yv=(n,s)=>n.y+n.height/2-s.height/2,Xv=n=>n.x+n.width,Kp=(n,s)=>n.x-s.width,Qi=(n,s,i)=>nc(Kv(n),By(n),i.southeast(),Hg(),"southeast",hl(n,{left:1,top:3}),id),Kr=(n,s,i)=>nc(Cb(n,s),By(n),i.southwest(),My(),"southwest",hl(n,{right:0,top:3}),id),Al=(n,s,i)=>nc(Kv(n),Sb(n,s),i.northeast(),xb(),"northeast",hl(n,{left:1,bottom:2}),id),kl=(n,s,i)=>nc(Cb(n,s),Sb(n,s),i.northwest(),Zh(),"northwest",hl(n,{right:0,bottom:2}),id),ya=(n,s,i)=>nc(wb(n,s),Sb(n,s),i.north(),Wv(),"north",hl(n,{bottom:2}),id),_i=(n,s,i)=>nc(wb(n,s),By(n),i.south(),Gm(),"south",hl(n,{top:3}),id),Km=(n,s,i)=>nc(Xv(n),Yv(n,s),i.east(),t1(),"east",hl(n,{left:0}),id),Id=(n,s,i)=>nc(Kp(n,s),Yv(n,s),i.west(),qv(),"west",hl(n,{right:1}),id),Ly=()=>[Qi,Kr,Al,kl,_i,ya,Km,Id],Eb=()=>[Kr,Qi,kl,Al,_i,ya,Km,Id],zf=()=>[Al,kl,Qi,Kr,ya,_i],Qv=()=>[kl,Al,Kr,Qi,ya,_i],Jv=()=>[Qi,Kr,Al,kl,_i,ya],Wh=()=>[Kr,Qi,kl,Al,_i,ya],Py="data-alloy-placement",n1=(n,s)=>{uo(n,Py,s)},Ix=n=>ii(n,Py),Tb=n=>cr(n,Py),bm="layout-inset",Fy=n=>n.x,Ab=(n,s)=>n.x+n.width/2-s.width/2,o1=(n,s)=>n.x+n.width-s.width,Vg=n=>n.y,Ym=(n,s)=>n.y+n.height-s.height,jg=(n,s)=>n.y+n.height/2-s.height/2,s1=(n,s,i)=>nc(o1(n,s),Ym(n,s),i.insetSouthwest(),Zh(),"southwest",hl(n,{right:0,bottom:3}),bm),$y=(n,s,i)=>nc(Fy(n),Ym(n,s),i.insetSoutheast(),xb(),"southeast",hl(n,{left:1,bottom:3}),bm),Vf=(n,s,i)=>nc(o1(n,s),Vg(n),i.insetNorthwest(),My(),"northwest",hl(n,{right:0,top:2}),bm),Il=(n,s,i)=>nc(Fy(n),Vg(n),i.insetNortheast(),Hg(),"northeast",hl(n,{left:1,top:2}),bm),oc=(n,s,i)=>nc(Ab(n,s),Vg(n),i.insetNorth(),Gm(),"north",hl(n,{top:2}),bm),qh=(n,s,i)=>nc(Ab(n,s),Ym(n,s),i.insetSouth(),Wv(),"south",hl(n,{bottom:3}),bm),_t=(n,s,i)=>nc(o1(n,s),jg(n,s),i.insetEast(),qv(),"east",hl(n,{right:0}),bm),Yp=(n,s,i)=>nc(Fy(n),jg(n,s),i.insetWest(),t1(),"west",hl(n,{left:1}),bm),Iy=n=>{switch(n){case"north":return oc;case"northeast":return Il;case"northwest":return Vf;case"south":return qh;case"southeast":return $y;case"southwest":return s1;case"east":return _t;case"west":return Yp}},Fc=(n,s,i,f,b)=>Ix(f).map(Iy).getOr(oc)(n,s,i,f,b),Xp=n=>{switch(n){case"north":return qh;case"northeast":return $y;case"northwest":return s1;case"south":return oc;case"southeast":return Il;case"southwest":return Vf;case"east":return Yp;case"west":return _t}},ym=(n,s,i,f,b)=>Ix(f).map(Xp).getOr(oc)(n,s,i,f,b),Hy=(n,s)=>{_f(n,Math.floor(s))},e2=ie((n,s)=>{Hy(n,s),Or(n,{"overflow-x":"hidden","overflow-y":"auto"})}),Gh=ie((n,s)=>{Hy(n,s)}),kb=ie((n,s)=>{wg(n,Math.floor(s))});var jf;(function(n){n.TopToBottom="toptobottom",n.BottomToTop="bottomtotop"})(jf||(jf={}));const Qp="data-alloy-vertical-dir",zy=n=>ki(n,s=>Yc(s)&&ea(s,"data-alloy-vertical-dir")===jf.BottomToTop);var Ec;(function(n){n[n.HighlightMenuAndItem=0]="HighlightMenuAndItem",n[n.HighlightJustMenu=1]="HighlightJustMenu",n[n.HighlightNone=2]="HighlightNone"})(Ec||(Ec={}));const ld={init:()=>cd({readState:ie("No State required")})},cd=n=>n,Hx={can:Pt,abort:pt,run:J},Jp=n=>{if(!Oo(n,"can")&&!Oo(n,"abort")&&!Oo(n,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(n,null,2)+" does not have can, abort, or run!");return{...Hx,...n}},t2=(n,s)=>(...i)=>Io(n,(f,b)=>f&&s(b).apply(void 0,i),!0),Db=(n,s)=>(...i)=>Io(n,(f,b)=>f||s(b).apply(void 0,i),!1),n2=n=>ve(n)?{can:Pt,abort:pt,run:n}:n,o2=n=>{const s=t2(n,b=>b.can),i=Db(n,b=>b.abort);return{can:s,abort:i,run:(...b)=>{bt(n,w=>{w.run.apply(void 0,b)})}}},fs=(n,s)=>{a1(n,n.element,s,{})},so=(n,s,i)=>{a1(n,n.element,s,i)},r1=n=>{fs(n,Bs())},Vy=(n,s,i)=>{a1(n,s,i,{})},a1=(n,s,i,f)=>{const b={target:s,...f};n.getSystem().triggerEvent(i,s,b)},s2=(n,s,i,f)=>{const b={...f,target:s};n.getSystem().triggerEvent(i,s,b)},i1=(n,s,i,f)=>{n.getSystem().triggerEvent(i,s,f.event)},oa=n=>vc(n),_b=(n,s)=>({key:n,value:Jp({abort:s})}),l1=(n,s)=>({key:n,value:Jp({can:s})}),Xm=n=>({key:n,value:Jp({run:(s,i)=>{i.event.prevent()}})}),Mt=(n,s)=>({key:n,value:Jp({run:s})}),ff=(n,s,i)=>({key:n,value:Jp({run:(f,b)=>{s.apply(void 0,[f,b].concat(i))}})}),vm=n=>s=>Mt(n,s),Hd=n=>s=>({key:n,value:Jp({run:(i,f)=>{hy(i,f)&&s(i,f)}})}),Tc=(n,s)=>Mt(n,(i,f)=>{i.getSystem().getByUid(s).each(b=>{i1(b,b.element,n,f)})}),Qm=(n,s,i)=>{const f=s.partUids[i];return Tc(n,f)},e0=(n,s)=>Mt(n,(i,f)=>{const b=f.event,w=i.getSystem().getByDom(b.target).getOrThunk(()=>Cr(b.target,_=>i.getSystem().getByDom(_).toOptional(),pt).getOr(i));s(i,w,f)}),xm=n=>Mt(n,(s,i)=>{i.cut()}),jC=n=>Mt(n,(s,i)=>{i.stop()}),t0=(n,s)=>Hd(n)(s),Lr=Hd(Lc()),mf=Hd(wc()),r2=Hd(Ff()),wm=vm(Bs()),zd=n=>({classes:we(n.classes)?[]:n.classes,attributes:we(n.attributes)?{}:n.attributes,styles:we(n.styles)?{}:n.styles}),sc=(n,s)=>({...n,attributes:{...n.attributes,...s.attributes},styles:{...n.styles,...s.styles},classes:n.classes.concat(s.classes)}),n0=(n,s,i)=>wm(f=>{i(f,n,s)}),jy=(n,s,i)=>r2((f,b)=>{i(f,n,s)}),Uy=(n,s,i,f,b,w)=>{const S=Bu(n),_=Fi(s,[Dx("config",n)]);return Ob(S,_,s,i,f,b,w)},Zy=(n,s,i,f,b,w)=>{const S=n,_=Fi(s,[um("config",n)]);return Ob(S,_,s,i,f,b,w)},zx=(n,s,i)=>zv((b,...w)=>{const S=[b].concat(w);return b.config({name:ie(n)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+n+". Using API: "+i)},_=>{const M=Array.prototype.slice.call(S,1);return s.apply(void 0,[b,_.config,_.state].concat(M))})},i,s),a2=n=>({key:n,value:void 0}),Ob=(n,s,i,f,b,w,S)=>{const _=K=>Oo(K,i)?K[i]():P.none(),M=os(b,(K,le)=>zx(i,K,le)),Z={...os(w,(K,le)=>hb(K,le)),...M,revoke:mn(a2,i),config:K=>{const le=Mc(i+"-config",n,K);return{key:i,value:{config:le,me:Z,configAsRaw:sl(()=>Mc(i+"-config",n,K)),initialConfig:K,state:S}}},schema:ie(s),exhibit:(K,le)=>Ts(_(K),Hn(f,"exhibit"),(he,ye)=>ye(le,he.config,he.state)).getOrThunk(()=>zd({})),name:ie(i),handlers:K=>_(K).map(le=>Hn(f,"events").getOr(()=>({}))(le.config,le.state)).getOr({})};return Z},a=n=>vc(n),u=Bu([Wt("fields"),Wt("name"),ht("active",{}),ht("apis",{}),ht("state",ld),ht("extra",{})]),g=n=>{const s=Mc("Creating behaviour: "+n.name,u,n);return Uy(s.fields,s.name,s.active,s.apis,s.extra,s.state)},C=Bu([Wt("branchKey"),Wt("branches"),Wt("name"),ht("active",{}),ht("apis",{}),ht("state",ld),ht("extra",{})]),R=n=>{const s=Mc("Creating behaviour: "+n.name,C,n);return Zy(Kl(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},F=ie(void 0),re=(n,s)=>{const i=oa(s);return g({fields:[Wt("enabled")],name:n,active:{events:ie(i)}})},fe=(n,s)=>{const i=re(n,s);return{key:n,value:{config:{},me:i,configAsRaw:ie({}),initialConfig:{},state:ld}}},lt=n=>({init:()=>{const i=Mn(n);return{get:()=>i.get(),set:_=>i.set(_),clear:()=>i.set(n),readState:()=>i.get()}}}),Ut=(n,s)=>{s.ignore||(Fa(n.element),s.onFocus(n))};var Xt=Object.freeze({__proto__:null,focus:Ut,blur:(n,s)=>{s.ignore||ma(n.element)},isFocused:n=>Jc(n.element)}),Os=Object.freeze({__proto__:null,exhibit:(n,s)=>{const i=s.ignore?{}:{attributes:{tabindex:"-1"}};return zd(i)},events:n=>oa([Mt(Pf(),(s,i)=>{Ut(s,n),i.stop()})].concat(n.stopMousedown?[Mt(uu(),(s,i)=>{i.event.prevent()})]:[]))}),fi=[Ls("onFocus"),ht("stopMousedown",!1),ht("ignore",!1)];const et=g({fields:fi,name:"focusing",active:Os,apis:Xt}),ft=[8],zt=[9],hn=[13],ms=[27],js=[32],Go=[37],rr=[38],Mr=[39],zr=[40],hf=ie("tooltipping.close.all"),Jm=ie("dismiss.popups"),gl=ie("reposition.popups"),o0=ie("mouse.released"),NT=(n,s,i)=>{const f=Rt(n.slice(0,s)),b=Rt(n.slice(s+1));return Ne(f.concat(b),i)},UC=(n,s,i)=>{const f=Rt(n.slice(0,s));return Ne(f,i)},MT=(n,s,i)=>{const f=n.slice(0,s),b=n.slice(s+1);return Ne(b.concat(f),i)},iD=(n,s,i)=>{const f=n.slice(s+1);return Ne(f,i)},Us=n=>s=>{const i=s.raw;return Me(n,i.which)},eh=n=>s=>Je(n,i=>i(s)),c1=n=>n.raw.shiftKey===!0,vB=n=>n.raw.ctrlKey===!0,Wy=qe(c1),Gs=(n,s)=>({matches:n,classification:s}),lD=(n,s)=>Ne(n,f=>f.matches(s)).map(f=>f.classification),cD=(n,s,i,f)=>{const b=ta(n.element,"."+s.highlightClass);bt(b,w=>{wt(f,_=>se(_.element,w))||(ha(w,s.highlightClass),n.getSystem().getByDom(w).each(_=>{s.onDehighlight(n,_),fs(_,Hp())}))})},xB=(n,s,i)=>cD(n,s,i,[]),wB=(n,s,i,f)=>{c2(n,s,i,f)&&(ha(f.element,s.highlightClass),s.onDehighlight(n,f),fs(f,Hp()))},i2=(n,s,i,f)=>{cD(n,s,i,[f]),c2(n,s,i,f)||(nr(f.element,s.highlightClass),s.onHighlight(n,f),fs(f,fb()))},uD=(n,s,i)=>{Vx(n,s).each(f=>{i2(n,s,i,f)})},dD=(n,s,i)=>{ZC(n,s).each(f=>{i2(n,s,i,f)})},l2=(n,s,i,f)=>{mD(n,s,i,f).fold(b=>{throw b},b=>{i2(n,s,i,b)})},fD=(n,s,i,f)=>{const b=PT(n,s);Ne(b,f).each(S=>{i2(n,s,i,S)})},c2=(n,s,i,f)=>Da(f.element,s.highlightClass),BT=(n,s,i)=>ur(n.element,"."+s.highlightClass).bind(f=>n.getSystem().getByDom(f).toOptional()),mD=(n,s,i,f)=>{const b=ta(n.element,"."+s.itemClass);return P.from(b[f]).fold(()=>Pn.error(new Error("No element found with index "+f)),n.getSystem().getByDom)},Vx=(n,s,i)=>ur(n.element,"."+s.itemClass).bind(f=>n.getSystem().getByDom(f).toOptional()),ZC=(n,s,i)=>{const f=ta(n.element,"."+s.itemClass);return(f.length>0?P.some(f[f.length-1]):P.none()).bind(w=>n.getSystem().getByDom(w).toOptional())},WC=(n,s,i,f)=>{const b=ta(n.element,"."+s.itemClass);return Ge(b,S=>Da(S,s.highlightClass)).bind(S=>{const _=Zo(S,f,0,b.length-1);return n.getSystem().getByDom(b[_]).toOptional()})},LT=(n,s,i)=>WC(n,s,i,-1),hD=(n,s,i)=>WC(n,s,i,1),PT=(n,s,i)=>{const f=ta(n.element,"."+s.itemClass);return Uo(Ze(f,b=>n.getSystem().getByDom(b).toOptional()))};var qC=Object.freeze({__proto__:null,dehighlightAll:xB,dehighlight:wB,highlight:i2,highlightFirst:uD,highlightLast:dD,highlightAt:l2,highlightBy:fD,isHighlighted:c2,getHighlighted:BT,getFirst:Vx,getLast:ZC,getPrevious:LT,getNext:hD,getCandidates:PT}),FT=[Wt("highlightClass"),Wt("itemClass"),Ls("onHighlight"),Ls("onDehighlight")];const fr=g({fields:FT,name:"highlighting",apis:qC}),$T=(n,s,i)=>{s.exists(b=>i.exists(w=>se(w,b)))||so(n,$h(),{prevFocus:s,newFocus:i})},GC=()=>{const n=i=>ai(i.element);return{get:n,set:(i,f)=>{const b=n(i);i.getSystem().triggerFocus(f,i.element);const w=n(i);$T(i,b,w)}}},jx=()=>{const n=i=>fr.getHighlighted(i).map(f=>f.element);return{get:n,set:(i,f)=>{const b=n(i);i.getSystem().getByDom(f).fold(J,S=>{fr.highlight(i,S)});const w=n(i);$T(i,b,w)}}},s0=(n,s,i,f,b)=>{const w=()=>n.concat([ht("focusManager",GC()),Ju("focusInside","onFocus",cm(I=>Me(["onFocus","onEnterOrSpace","onApi"],I)?Pn.value(I):Pn.error("Invalid value for focusInside"))),sr("handler",M),sr("state",s),sr("sendFocusIn",b)]),S=(I,Z,K,le,he)=>{const ye=K(I,Z,le,he);return lD(ye,Z.event).bind(_e=>_e(I,Z,le,he))},M={schema:w,processKey:S,toEvents:(I,Z)=>{const K=I.focusInside!==Pg.OnFocusMode?P.none():b(I).map(ye=>Mt(Pf(),(_e,Ie)=>{ye(_e,I,Z),Ie.stop()})),le=(ye,_e)=>{const Ie=Us(js.concat(hn))(_e.event);I.focusInside===Pg.OnEnterOrSpaceMode&&Ie&&hy(ye,_e)&&b(I).each(Se=>{Se(ye,I,Z),_e.stop()})},he=[Mt(Gi(),(ye,_e)=>{S(ye,_e,i,I,Z).fold(()=>{le(ye,_e)},Ie=>{_e.stop()})}),Mt(Lu(),(ye,_e)=>{S(ye,_e,f,I,Z).each(Ie=>{_e.stop()})})];return oa(K.toArray().concat(he))}};return M},KC=n=>{const s=[vr("onEscape"),vr("onEnter"),ht("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),ht("firstTabstop",0),ht("useTabstopAt",Pt),vr("visibilitySelector")].concat([n]),i=(Se,Ye)=>{const st=Se.visibilitySelector.bind(xt=>bi(Ye,xt)).getOr(Ye);return pi(st)>0},f=(Se,Ye)=>{const st=ta(Se.element,Ye.selector),xt=vo(st,Ot=>i(Ye,Ot));return P.from(xt[Ye.firstTabstop])},b=(Se,Ye)=>Ye.focusManager.get(Se).bind(st=>bi(st,Ye.selector)),w=(Se,Ye)=>i(Se,Ye)&&Se.useTabstopAt(Ye),S=(Se,Ye,st)=>{f(Se,Ye).each(xt=>{Ye.focusManager.set(Se,xt)})},_=(Se,Ye,st,xt,Ot)=>Ot(Ye,st,kn=>w(xt,kn)).fold(()=>xt.cyclic?P.some(!0):P.none(),kn=>(xt.focusManager.set(Se,kn),P.some(!0))),M=(Se,Ye,st,xt)=>{const Ot=vo(ta(Se.element,st.selector),kn=>i(st,kn));return b(Se,st).bind(kn=>Ge(Ot,mn(se,kn)).bind(rn=>_(Se,Ot,rn,st,xt)))},I=(Se,Ye,st)=>{const xt=st.cyclic?NT:UC;return M(Se,Ye,st,xt)},Z=(Se,Ye,st)=>{const xt=st.cyclic?MT:iD;return M(Se,Ye,st,xt)},K=Se=>vp(Se).bind(ss).exists(Ye=>se(Ye,Se)),le=(Se,Ye,st)=>b(Se,st).filter(xt=>!st.useTabstopAt(xt)).bind(xt=>(K(xt)?I:Z)(Se,Ye,st)),he=(Se,Ye,st)=>st.onEnter.bind(xt=>xt(Se,Ye)),ye=(Se,Ye,st)=>(Se.getSystem().broadcastOn([hf()],{closedTooltip:()=>{Ye.stop()}}),Ye.isStopped()?P.none():st.onEscape.bind(xt=>xt(Se,Ye))),_e=ie([Gs(eh([c1,Us(zt)]),I),Gs(Us(zt),Z),Gs(eh([Wy,Us(hn)]),he)]),Ie=ie([Gs(Us(ms),ye),Gs(Us(zt),le)]);return s0(s,ld.init,_e,Ie,()=>P.some(S))};var gD=KC(yc("cyclic",pt)),IT=KC(yc("cyclic",Pt));const qy=n=>Rl("input")(n)&&ea(n,"type")!=="radio"||Rl("textarea")(n),HT=(n,s,i)=>(Vy(n,i,Bs()),P.some(!0)),u2=(n,s,i)=>qy(i)&&Us(js)(s.event)?P.none():HT(n,s,i),d2=(n,s)=>P.some(!0),YC=[ht("execute",u2),ht("useSpace",!1),ht("useEnter",!0),ht("useControlEnter",!1),ht("useDown",!1)],u1=(n,s,i)=>i.execute(n,s,n.element),zT=(n,s,i,f)=>{const b=i.useSpace&&!qy(n.element)?js:[],w=i.useEnter?hn:[],S=i.useDown?zr:[],_=b.concat(w).concat(S);return[Gs(Us(_),u1)].concat(i.useControlEnter?[Gs(eh([vB,Us(hn)]),u1)]:[])},VT=(n,s,i,f)=>i.useSpace&&!qy(n.element)?[Gs(Us(js),d2)]:[];var jT=s0(YC,ld.init,zT,VT,()=>P.none());const UT=()=>{const n=wo();return cd({readState:()=>n.get().map(b=>({numRows:String(b.numRows),numColumns:String(b.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(b,w)=>{n.set({numRows:b,numColumns:w})},getNumRows:()=>n.get().map(b=>b.numRows),getNumColumns:()=>n.get().map(b=>b.numColumns)})};var ZT=Object.freeze({__proto__:null,flatgrid:UT,init:n=>n.state(n)});const Ux=n=>(s,i,f,b)=>{const w=n(s.element);return qx(w,s,i,f,b)},Zx=(n,s)=>{const i=Eg(n,s);return Ux(i)},f2=(n,s)=>{const i=Eg(s,n);return Ux(i)},Wx=n=>(s,i,f,b)=>qx(n,s,i,f,b),qx=(n,s,i,f,b)=>f.focusManager.get(s).bind(S=>n(s.element,S,f,b)).map(S=>(f.focusManager.set(s,S),!0)),Vn=Wx,d1=Wx,Ug=Wx,m2=(n,s)=>Ge(n,s).map(i=>({index:i,candidates:n})),WT=(n,s,i)=>{const f=S=>se(S,s),b=ta(n,i),w=vo(b,qa);return m2(w,f)},XC=(n,s)=>Ge(n,i=>se(s,i)),QC=(n,s,i,f)=>{const b=Math.floor(s/i),w=s%i;return f(b,w).bind(S=>{const _=S.row*i+S.column;return _>=0&&_<n.length?P.some(n[_]):P.none()})},qT=(n,s,i,f,b)=>QC(n,s,f,(w,S)=>{const M=w===i-1?n.length-w*f:f,I=Zo(S,b,0,M-1);return P.some({row:w,column:I})}),GT=(n,s,i,f,b)=>QC(n,s,f,(w,S)=>{const _=Zo(w,b,0,i-1),I=_===i-1?n.length-_*f:f,Z=us(S,0,I-1);return P.some({row:_,column:Z})}),KT=(n,s,i,f)=>qT(n,s,i,f,1),Gx=(n,s,i,f)=>qT(n,s,i,f,-1),pl=(n,s,i,f)=>GT(n,s,i,f,-1),th=(n,s,i,f)=>GT(n,s,i,f,1),Kx=[Wt("selector"),ht("execute",u2),tc("onEscape"),ht("captureTab",!1),mb()],YT=(n,s,i)=>{ur(n.element,s.selector).each(f=>{s.focusManager.set(n,f)})},XT=(n,s)=>s.focusManager.get(n).bind(i=>bi(i,s.selector)),QT=(n,s,i,f)=>XT(n,i).bind(b=>i.execute(n,s,b)),Yx=n=>(s,i,f,b)=>WT(s,i,f.selector).bind(w=>n(w.candidates,w.index,b.getNumRows().getOr(f.initSize.numRows),b.getNumColumns().getOr(f.initSize.numColumns))),JC=(n,s,i)=>i.captureTab?P.some(!0):P.none(),JT=(n,s,i)=>i.onEscape(n,s),eA=Yx(Gx),h2=Yx(KT),eS=Yx(pl),Xx=Yx(th),tS=ie([Gs(Us(Go),Zx(eA,h2)),Gs(Us(Mr),f2(eA,h2)),Gs(Us(rr),Vn(eS)),Gs(Us(zr),d1(Xx)),Gs(eh([c1,Us(zt)]),JC),Gs(eh([Wy,Us(zt)]),JC),Gs(Us(js.concat(hn)),QT)]),pD=ie([Gs(Us(ms),JT),Gs(Us(js),d2)]);var tA=s0(Kx,UT,tS,pD,()=>P.some(YT));const nA=(n,s,i,f,b)=>{const w=_=>yd(_)==="button"&&ea(_,"disabled")==="disabled",S=(_,M,I)=>b(_,M,f,0,I.length-1,I[M],Z=>w(I[Z])?S(_,Z,I):P.from(I[Z]));return WT(n,i,s).bind(_=>{const M=_.index,I=_.candidates;return S(M,M,I)})},Qx=(n,s,i,f)=>nA(n,s,i,f,(b,w,S,_,M,I,Z)=>{const K=us(w+S,_,M);return K===b?P.from(I):Z(K)}),Rb=(n,s,i,f)=>nA(n,s,i,f,(b,w,S,_,M,I,Z)=>{const K=Zo(w,S,_,M);return K===b?P.none():Z(K)}),oA=[Wt("selector"),ht("getInitial",P.none),ht("execute",u2),tc("onEscape"),ht("executeOnMove",!1),ht("allowVertical",!0),ht("allowHorizontal",!0),ht("cycles",!0)],sA=(n,s)=>s.focusManager.get(n).bind(i=>bi(i,s.selector)),Jx=(n,s,i)=>sA(n,i).bind(f=>i.execute(n,s,f)),bD=(n,s,i)=>{s.getInitial(n).orThunk(()=>ur(n.element,s.selector)).each(f=>{s.focusManager.set(n,f)})},yD=(n,s,i)=>(i.cycles?Rb:Qx)(n,i.selector,s,-1),Nb=(n,s,i)=>(i.cycles?Rb:Qx)(n,i.selector,s,1),nS=n=>(s,i,f,b)=>n(s,i,f,b).bind(()=>f.executeOnMove?Jx(s,i,f):P.some(!0)),vD=(n,s,i)=>i.onEscape(n,s),xD=(n,s,i,f)=>{const b=[...i.allowHorizontal?Go:[]].concat(i.allowVertical?rr:[]),w=[...i.allowHorizontal?Mr:[]].concat(i.allowVertical?zr:[]);return[Gs(Us(b),nS(Zx(yD,Nb))),Gs(Us(w),nS(f2(yD,Nb))),Gs(Us(hn),Jx),Gs(Us(js),Jx)]},rA=ie([Gs(Us(js),d2),Gs(Us(ms),vD)]);var wD=s0(oA,ld.init,xD,rA,()=>P.some(bD));const oS=(n,s,i)=>P.from(n[s]).bind(f=>P.from(f[i]).map(b=>({rowIndex:s,columnIndex:i,cell:b}))),ew=(n,s,i,f)=>{const w=n[s].length,S=Zo(i,f,0,w-1);return oS(n,s,S)},sS=(n,s,i,f)=>{const b=Zo(i,f,0,n.length-1),w=n[b].length,S=us(s,0,w-1);return oS(n,b,S)},Zg=(n,s,i,f)=>{const w=n[s].length,S=us(i+f,0,w-1);return oS(n,s,S)},aA=(n,s,i,f)=>{const b=us(i+f,0,n.length-1),w=n[b].length,S=us(s,0,w-1);return oS(n,b,S)},tw=(n,s,i)=>ew(n,s,i,1),CD=(n,s,i)=>ew(n,s,i,-1),f1=(n,s,i)=>sS(n,i,s,-1),SD=(n,s,i)=>sS(n,i,s,1),ED=(n,s,i)=>Zg(n,s,i,-1),SB=(n,s,i)=>Zg(n,s,i,1),EB=(n,s,i)=>aA(n,i,s,-1),Gy=(n,s,i)=>aA(n,i,s,1),g2=[lf("selectors",[Wt("row"),Wt("cell")]),ht("cycles",!0),ht("previousSelector",P.none),ht("execute",u2)],rS=(n,s,i)=>{s.previousSelector(n).orThunk(()=>{const b=s.selectors;return ur(n.element,b.cell)}).each(b=>{s.focusManager.set(n,b)})},TD=(n,s,i)=>ai(n.element).bind(f=>i.execute(n,s,f)),AD=(n,s)=>Ze(n,i=>ta(i,s.selectors.cell)),nw=(n,s)=>(i,f,b)=>{const w=b.cycles?n:s;return bi(f,b.selectors.row).bind(S=>{const _=ta(S,b.selectors.cell);return XC(_,f).bind(M=>{const I=ta(i,b.selectors.row);return XC(I,S).bind(Z=>{const K=AD(I,b);return w(K,Z,M).map(le=>le.cell)})})})},iA=nw(CD,ED),lA=nw(tw,SB),p2=nw(f1,EB),ow=nw(SD,Gy),aS=ie([Gs(Us(Go),Zx(iA,lA)),Gs(Us(Mr),f2(iA,lA)),Gs(Us(rr),Vn(p2)),Gs(Us(zr),d1(ow)),Gs(Us(js.concat(hn)),TD)]),b2=ie([Gs(Us(js),d2)]);var iS=s0(g2,ld.init,aS,b2,()=>P.some(rS));const kD=[Wt("selector"),ht("execute",u2),ht("moveOnTab",!1)],y2=(n,s,i)=>i.focusManager.get(n).bind(f=>i.execute(n,s,f)),cA=(n,s,i)=>{ur(n.element,s.selector).each(f=>{s.focusManager.set(n,f)})},sw=(n,s,i)=>Rb(n,i.selector,s,-1),rw=(n,s,i)=>Rb(n,i.selector,s,1),Mb=(n,s,i,f)=>i.moveOnTab?Ug(sw)(n,s,i,f):P.none(),DD=(n,s,i,f)=>i.moveOnTab?Ug(rw)(n,s,i,f):P.none(),Wg=ie([Gs(Us(rr),Ug(sw)),Gs(Us(zr),Ug(rw)),Gs(eh([c1,Us(zt)]),Mb),Gs(eh([Wy,Us(zt)]),DD),Gs(Us(hn),y2),Gs(Us(js),y2)]),_D=ie([Gs(Us(js),d2)]);var uA=s0(kD,ld.init,Wg,_D,()=>P.some(cA));const OD=[tc("onSpace"),tc("onEnter"),tc("onShiftEnter"),tc("onLeft"),tc("onRight"),tc("onTab"),tc("onShiftTab"),tc("onUp"),tc("onDown"),tc("onEscape"),ht("stopSpaceKeyup",!1),vr("focusIn")],TB=(n,s,i)=>[Gs(Us(js),i.onSpace),Gs(eh([Wy,Us(hn)]),i.onEnter),Gs(eh([c1,Us(hn)]),i.onShiftEnter),Gs(eh([c1,Us(zt)]),i.onShiftTab),Gs(eh([Wy,Us(zt)]),i.onTab),Gs(Us(rr),i.onUp),Gs(Us(zr),i.onDown),Gs(Us(Go),i.onLeft),Gs(Us(Mr),i.onRight),Gs(Us(js),i.onSpace)],aw=(n,s,i)=>[...i.stopSpaceKeyup?[Gs(Us(js),d2)]:[],Gs(Us(ms),i.onEscape)];var RD=s0(OD,ld.init,TB,aw,n=>n.focusIn);const ND=gD.schema(),MD=IT.schema(),lS=wD.schema(),BD=tA.schema(),dA=iS.schema(),cS=jT.schema(),LD=uA.schema(),PD=RD.schema();var uS=Object.freeze({__proto__:null,acyclic:ND,cyclic:MD,flow:lS,flatgrid:BD,matrix:dA,execution:cS,menu:LD,special:PD});const fA=n=>Oo(n,"setGridSize"),lo=R({branchKey:"mode",branches:uS,name:"keying",active:{events:(n,s)=>n.handler.toEvents(n,s)},apis:{focusIn:(n,s,i)=>{s.sendFocusIn(s).fold(()=>{n.getSystem().triggerFocus(n.element,n.element)},f=>{f(n,s,i)})},setGridSize:(n,s,i,f,b)=>{fA(i)?i.setGridSize(f,b):console.error("Layout does not support setGridSize")}},state:ZT}),v2=me("alloy-premade"),mA=n=>(Object.defineProperty(n.element.dom,v2,{value:n.uid,writable:!0}),za(v2,n)),FD=n=>ts(n.dom,v2),dS=n=>Hn(n,v2),x2=n=>Rx((s,...i)=>n(s.getApis(),s,...i),n),iw=n=>n.getSystem().isConnected(),w2=n=>{fs(n,wc());const s=n.components();bt(s,w2)},Ky=n=>{const s=n.components();bt(s,Ky),fs(n,Lc())},fS=(n,s)=>{n.getSystem().addToWorld(s),$s(n.element)&&Ky(s)},mS=n=>{w2(n),n.getSystem().removeFromWorld(n)},hA=(n,s)=>{ra(n.element,s.element)},hS=n=>{bt(n.components(),s=>eu(s.element)),Cp(n.element),n.syncComponents()},gA=(n,s,i)=>{const f=n.components();hS(n);const b=i(s),w=yt(f,b);bt(w,S=>{w2(S),n.getSystem().removeFromWorld(S)}),bt(b,S=>{iw(S)?hA(n,S):(n.getSystem().addToWorld(S),hA(n,S),$s(n.element)&&Ky(S))}),n.syncComponents()},Yy=(n,s,i)=>{const f=n.components(),b=Be(s,_=>dS(_).toArray());bt(f,_=>{Me(b,_)||mS(_)});const w=i(s),S=yt(f,w);bt(S,_=>{iw(_)&&mS(_)}),bt(w,_=>{iw(_)||fS(n,_)}),n.syncComponents()},r0=(n,s)=>{Xy(n,s,ra)},Xy=(n,s,i)=>{n.getSystem().addToWorld(s),i(n.element,s.element),$s(n.element)&&Ky(s),n.syncComponents()},a0=n=>{w2(n),eu(n.element),n.getSystem().removeFromWorld(n)},i0=n=>{const s=xl(n.element).bind(i=>n.getSystem().getByDom(i).toOptional());a0(n),s.each(i=>{i.syncComponents()})},pA=n=>{const s=n.components();bt(s,a0),Cp(n.element),n.syncComponents()},C2=(n,s)=>{bA(n,s,ra)},nh=(n,s)=>{bA(n,s,xp)},bA=(n,s,i)=>{i(n,s.element);const f=Uu(s.element);bt(f,b=>{s.getByDom(b).each(Ky)})},yA=n=>{const s=Uu(n.element);bt(s,i=>{n.getByDom(i).each(w2)}),eu(n.element)},gS=(n,s,i)=>tm(n,s).map(b=>{if(i.exists(S=>!se(S,b))){const S=i.map(yd).getOr("span"),_=fn.fromTag(S);return om(b,_),_}else return b}),pS=(n,s,i)=>{i.fold(()=>ra(n,s),f=>{se(f,s)||(om(f,s),eu(f))})},vA=(n,s,i)=>{const f=Ze(s,i),b=Uu(n);return bt(b.slice(f.length),eu),f},xA=(n,s,i,f)=>{const b=tm(n,s),w=f(i,b),S=gS(n,s,b);return pS(n,w.element,S),w},$D=(n,s,i)=>vA(n,s,(f,b)=>xA(n,b,f,i)),wA=(n,s)=>vA(n,s,(i,f)=>{const b=tm(n,f);return pS(n,i,b),i}),Bb=(n,s)=>{const i=Ti(s),f=ri(i).bind(w=>{const S=_=>se(w,_);return S(s)?P.some(s):Tg(s,S)}),b=n(s);return f.each(w=>{ri(i).filter(S=>se(S,w)).fold(()=>{Fa(w)},J)}),b},bS=(n,s)=>{Bb(()=>{gA(n,s,()=>Ze(s,n.getSystem().build))},n.element)},CA=(n,s)=>{Bb(()=>{Yy(n,s,()=>$D(n.element,s,n.getSystem().buildOrPatch))},n.element)},yS=(n,s,i,f)=>{mS(s);const b=xA(n.element,i,f,n.getSystem().buildOrPatch);fS(n,b),n.syncComponents()},vS=(n,s,i)=>{const f=n.getSystem().build(i);Xy(n,f,s)},xS=(n,s,i,f)=>{i0(s),vS(n,(b,w)=>Mm(b,w,i),f)},ID=(n,s,i,f)=>(s.reuseDom?CA:bS)(n,f),Lb=(n,s,i,f)=>{vS(n,ra,f)},Pb=(n,s,i,f)=>{vS(n,wp,f)},lw=(n,s,i,f)=>{const b=cw(n);Ne(b,S=>se(f.element,S.element)).each(i0)},cw=(n,s)=>n.components(),SA=(n,s,i,f,b)=>{const w=cw(n);return P.from(w[f]).map(S=>(b.fold(()=>i0(S),_=>{(s.reuseDom?yS:xS)(n,S,f,_)}),S))};var EA=Object.freeze({__proto__:null,append:Lb,prepend:Pb,remove:lw,replaceAt:SA,replaceBy:(n,s,i,f,b)=>{const w=cw(n);return Ge(w,f).bind(S=>SA(n,s,i,S,b))},set:ID,contents:cw});const zo=g({fields:[qi("reuseDom",!0)],name:"replacing",apis:EA}),uw=(n,s,i)=>se(s,n.element)&&!se(s,i),Uf=oa([l1(Pf(),(n,s)=>{const i=s.event,f=i.originator,b=i.target;return uw(n,f,b)?(console.warn(Pf()+` did not get interpreted by the desired target. 
Originator: `+Md(f)+`
Target: `+Md(b)+`
Check the `+Pf()+" event handlers"),!1):!0})]);var S2=Object.freeze({__proto__:null,events:Uf});const zD=ie("alloy-id-"),dw=ie("data-alloy-id"),VD=zD(),wS=dw(),CS=(n,s)=>{const i=me(VD+n);return E2(s,i),i},E2=(n,s)=>{Object.defineProperty(n.dom,wS,{value:s,writable:!0})},Kh=n=>{const s=Yc(n)?n.dom[wS]:null;return P.from(s)},Qy=n=>me(n),jD=it,Fb=n=>{const s=b=>`The component must be in a context to execute: ${b}`+(n?`
`+Md(n().element)+" is not in context.":""),i=b=>()=>{throw new Error(s(b))},f=b=>()=>{console.warn(s(b))};return{debugInfo:ie("fake"),triggerEvent:f("triggerEvent"),triggerFocus:f("triggerFocus"),triggerEscape:f("triggerEscape"),broadcast:f("broadcast"),broadcastOn:f("broadcastOn"),broadcastEvent:f("broadcastEvent"),build:i("build"),buildOrPatch:i("buildOrPatch"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:pt}},T2=Fb(),fw=(n,s)=>{const i=Ze(s,b=>Fi(b.name(),[Wt("config"),ht("state",ld)])),f=ga("component.behaviours",fo(i),n.behaviours).fold(b=>{throw new Error(Mg(b)+`
Complete spec:
`+JSON.stringify(n,null,2))},it);return{list:s,data:os(f,b=>{const w=b.map(S=>({config:S.config,state:S.state.init(S.config)}));return ie(w)})}},Hl=n=>n.list,UD=n=>n.data,SS=(n,s)=>{const i={};return Ho(n,(f,b)=>{Ho(f,(w,S)=>{const _=Hn(i,S).getOr([]);i[S]=_.concat([s(b,w)])})}),i},m1=(n,s,i,f)=>{const b={...s};bt(i,Z=>{b[Z.name()]=Z.exhibit(n,f)});const w=SS(b,(Z,K)=>({name:Z,modification:K})),S=Z=>Mo(Z,(K,le)=>({...le.modification,...K}),{}),_=Mo(w.classes,(Z,K)=>K.modification.concat(Z),[]),M=S(w.attributes),I=S(w.styles);return zd({classes:_,attributes:M,styles:I})},qg=(n,s,i,f)=>{try{const b=Le(i,(w,S)=>{const _=w[s],M=S[s],I=f.indexOf(_),Z=f.indexOf(M);if(I===-1)throw new Error("The ordering for "+n+" does not have an entry for "+_+`.
Order specified: `+JSON.stringify(f,null,2));if(Z===-1)throw new Error("The ordering for "+n+" does not have an entry for "+M+`.
Order specified: `+JSON.stringify(f,null,2));return I<Z?-1:Z<I?1:0});return Pn.value(b)}catch(b){return Pn.error([b])}},ES=(n,s)=>({handler:n,purpose:s}),TA=(n,s)=>({cHandler:n,purpose:s}),ZD=(n,s)=>TA(mn.apply(void 0,[n.handler].concat(s)),n.purpose),mw=n=>n.cHandler,A2=(n,s)=>({name:n,handler:s}),h1=(n,s)=>{const i={};return bt(n,f=>{i[f.name()]=f.handlers(s)}),i},hw=(n,s,i)=>{const f={...i,...h1(s,n)};return SS(f,A2)},gw=(n,s,i,f)=>{const b=hw(n,i,f);return pw(b,s)},g1=n=>{const s=n2(n);return(i,f,...b)=>{const w=[i,f].concat(b);s.abort.apply(void 0,w)?f.stop():s.can.apply(void 0,w)&&s.run.apply(void 0,w)}},k2=(n,s)=>Pn.error(["The event ("+n+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ze(s,i=>i.name),null,2)]),TS=(n,s,i)=>{const f=s[i];return f?qg("Event: "+i,"name",n,f).map(b=>{const w=Ze(b,S=>S.handler);return o2(w)}):k2(i,n)},pw=(n,s)=>{const i=Es(n,(f,b)=>(f.length===1?Pn.value(f[0].handler):TS(f,s,b)).map(S=>{const _=g1(S),M=f.length>1?vo(s[b],I=>wt(f,Z=>Z.name===I)).join(" > "):f[0].name;return za(b,ES(_,M))}));return _x(i,{})},Yh="alloy.base.behaviour",AA=fo([fl("dom","dom",Od(),fo([Wt("tag"),ht("styles",{}),ht("classes",[]),ht("attributes",{}),vr("value"),vr("innerHtml")])),Wt("components"),Wt("uid"),ht("events",{}),ht("apis",{}),fl("eventOrder","eventOrder",Rp({[Bs()]:["disabling",Yh,"toggling","typeaheadevents"],[Pf()]:[Yh,"focusing","keying"],[Ff()]:[Yh,"disabling","toggling","representing","tooltipping"],[Bf()]:[Yh,"representing","streaming","invalidating"],[wc()]:[Yh,"representing","item-events","toolbar-button-events","tooltipping"],[uu()]:["focusing",Yh,"item-type-events"],[ed()]:["focusing",Yh,"item-type-events"],[Jl()]:["item-type-events","tooltipping"],[Fh()]:["receiving","reflecting","tooltipping"]}),af()),vr("domModification")]),Gg=n=>ga("custom.definition",AA,n),AS=n=>({...n.dom,uid:n.uid,domChildren:Ze(n.components,s=>s.element)}),bw=n=>n.domModification.fold(()=>zd({}),zd),Jy=n=>n.events,D2=(n,s)=>{const i=ko(n),f=ko(s),b=yt(f,i),w=gs(n,(S,_)=>!ts(s,_)||S!==s[_]).t;return{toRemove:b,toSet:w}},yw=(n,s)=>{const{class:i,style:f,...b}=Rc(s),{toSet:w,toRemove:S}=D2(n.attributes,b),_=()=>{bt(S,st=>cr(s,st)),ku(s,w)},M=li(s),{toSet:I,toRemove:Z}=D2(n.styles,M),K=()=>{bt(Z,st=>cs(s,st)),Or(s,I)},le=Ou(s),he=yt(le,n.classes),ye=yt(n.classes,le),_e=()=>{Ku(s,ye),El(s,he)},Ie=st=>{Nl(s,st)},Se=()=>{const st=n.domChildren;wA(s,st)},Ye=()=>{const st=s,xt=n.value.getOrUndefined();xt!==pc(st)&&Dd(st,xt??"")};return _(),_e(),K(),n.innerHtml.fold(Se,Ie),Ye(),s},WD=n=>{const s=fn.fromTag(n.tag);ku(s,n.attributes),Ku(s,n.classes),Or(s,n.styles),n.innerHtml.each(f=>Nl(s,f));const i=n.domChildren;return Eh(s,i),n.value.each(f=>{Dd(s,f)}),s},kA=(n,s)=>{try{const i=yw(n,s);return P.some(i)}catch{return P.none()}},vw=n=>n.innerHtml.isSome()&&n.domChildren.length>0,qD=(n,s)=>{const i=b=>yd(b)===n.tag&&!vw(n)&&!FD(b),f=s.filter(i).bind(b=>kA(n,b)).getOrThunk(()=>WD(n));return E2(f,n.uid),f},kS=n=>{const s=Hn(n,"behaviours").getOr({});return Be(ko(s),i=>{const f=s[i];return $e(f)?[f.me]:[]})},Xh=(n,s)=>fw(n,s),DS=n=>{const s=kS(n);return Xh(n,s)},GD=(n,s,i)=>{const f=AS(n),b=bw(n),w={"alloy.base.modification":b},S=s.length>0?m1(i,w,s,f):b;return sc(f,S)},DA=(n,s,i)=>{const f={"alloy.base.behaviour":Jy(n)};return gw(i,n.eventOrder,s,f).getOrDie()},_A=(n,s)=>{const i=()=>st,f=Mn(T2),b=Qu(Gg(n)),w=DS(n),S=Hl(w),_=UD(w),M=GD(b,S,_),I=qD(M,s),Z=DA(b,S,_),K=Mn(b.components),le=xt=>{f.set(xt)},he=()=>{f.set(Fb(i))},ye=()=>{const xt=Uu(I),Ot=Be(xt,kn=>f.get().getByDom(kn).fold(()=>[],Dt));K.set(Ot)},_e=xt=>{const Ot=_;return(ve(Ot[xt.name()])?Ot[xt.name()]:()=>{throw new Error("Could not find "+xt.name()+" in "+JSON.stringify(n,null,2))})()},Ie=xt=>ve(_[xt.name()]),Se=()=>b.apis,Ye=xt=>_[xt]().map(Ot=>Ot.state.readState()).getOr("not enabled"),st={uid:n.uid,getSystem:f.get,config:_e,hasConfigured:Ie,spec:n,readState:Ye,getApis:Se,connect:le,disconnect:he,element:I,syncComponents:ye,components:K.get,events:Z};return st},OA=(n,s)=>{const i=Hn(n,"components").getOr([]);return s.fold(()=>Ze(i,E),f=>Ze(i,(b,w)=>y(b,tm(f,w))))},KD=(n,s)=>{const{events:i,...f}=jD(n),b=OA(f,s),w={...f,events:{...S2,...i},components:b};return Pn.value(_A(w,s))},Na=n=>{const s=fn.fromText(n);return Zf({element:s})},Zf=n=>{const s=Mc("external.component",Bu([Wt("element"),vr("uid")]),n),i=Mn(Fb()),f=_=>{i.set(_)},b=()=>{i.set(Fb(()=>S))},w=s.uid.getOrThunk(()=>Qy("external"));E2(s.element,w);const S={uid:w,getSystem:i.get,config:P.none,hasConfigured:pt,connect:f,disconnect:b,getApis:()=>({}),element:s.element,spec:n,readState:ie("No state"),syncComponents:J,components:ie([]),events:{}};return mA(S)},ev=Qy,m=n=>ts(n,"uid"),y=(n,s)=>dS(n).getOrThunk(()=>{const i=m(n)?n:{uid:ev(""),...n};return KD(i,s).getOrDie()}),E=n=>y(n,P.none()),D=mA;var de=Object.freeze({__proto__:null,block:(n,s,i,f)=>{uo(n.element,"aria-busy",!0);const b=s.getRoot(n).getOr(n),w=a([lo.config({mode:"special",onTab:()=>P.some(!0),onShiftTab:()=>P.some(!0)}),et.config({})]),S=f(b,w),_=b.getSystem().build(S);zo.append(b,D(_)),_.hasConfigured(lo)&&s.focus&&lo.focusIn(_),i.isBlocked()||s.onBlock(n),i.blockWith(()=>zo.remove(b,_))},unblock:(n,s,i)=>{cr(n.element,"aria-busy"),i.isBlocked()&&s.onUnblock(n),i.clear()},isBlocked:(n,s,i)=>i.isBlocked()}),Ce=[dr("getRoot",P.none),qi("focus",!0),Ls("onBlock"),Ls("onUnblock")],mt=Object.freeze({__proto__:null,init:()=>{const n=wi(),s=i=>{n.set({destroy:i})};return cd({readState:n.isSet,blockWith:s,clear:n.clear,isBlocked:n.isSet})}});const tn=g({fields:Ce,name:"blocking",apis:de,state:mt});var Nn=Object.freeze({__proto__:null,getCurrent:(n,s,i)=>s.find(n)});const ro=[Wt("find")],It=g({fields:ro,name:"composing",apis:Nn});var Qo=Object.freeze({__proto__:null,getCoupled:(n,s,i,f)=>i.getOrCreate(n,s,f),getExistingCoupled:(n,s,i,f)=>i.getExisting(n,s,f)}),Kn=[Bc("others",Fv(Pn.value,af()))],Er=Object.freeze({__proto__:null,init:()=>{const n={},s=(w,S)=>{if(ko(w.others).length===0)throw new Error("Cannot find any known coupled components");return Hn(n,S)},i=(w,S,_)=>s(S,_).getOrThunk(()=>{const I=Hn(S.others,_).getOrDie("No information found for coupled component: "+_)(w),Z=w.getSystem().build(I);return n[_]=Z,Z}),f=(w,S,_)=>s(S,_).orThunk(()=>(Hn(S.others,_).getOrDie("No information found for coupled component: "+_),P.none())),b=ie({});return cd({readState:b,getExisting:f,getOrCreate:i})}});const Wo=g({fields:Kn,name:"coupling",apis:Qo,state:Er}),Ji=["input","button","textarea","select"],Cm=(n,s,i)=>{(s.disabled()?$u:Wf)(n,s)},l0=(n,s)=>s.useNative===!0&&Me(Ji,yd(n.element)),p1=n=>$a(n.element,"disabled"),$b=n=>{uo(n.element,"disabled","disabled")},Vr=n=>{cr(n.element,"disabled")},ud=n=>ea(n.element,"aria-disabled")==="true",xi=n=>{uo(n.element,"aria-disabled","true")},Qh=n=>{uo(n.element,"aria-disabled","false")},$u=(n,s,i)=>{s.disableClass.each(b=>{nr(n.element,b)}),(l0(n,s)?$b:xi)(n),s.onDisabled(n)},Wf=(n,s,i)=>{s.disableClass.each(b=>{ha(n.element,b)}),(l0(n,s)?Vr:Qh)(n),s.onEnabled(n)},$c=(n,s)=>l0(n,s)?p1(n):ud(n);var _2=Object.freeze({__proto__:null,enable:Wf,disable:$u,isDisabled:$c,onLoad:Cm,set:(n,s,i,f)=>{(f?$u:Wf)(n,s)}}),YD=Object.freeze({__proto__:null,exhibit:(n,s)=>zd({classes:s.disabled()?s.disableClass.toArray():[]}),events:(n,s)=>oa([_b(Bs(),(i,f)=>$c(i,n)),jy(n,s,Cm)])}),RA=[dr("disabled",pt),ht("useNative",!0),vr("disableClass"),Ls("onDisabled"),Ls("onEnabled")];const eo=g({fields:RA,name:"disabling",active:YD,apis:_2}),Vd=(n,s,i,f,b)=>{const w=S=>S+"px";return{position:n,left:s.map(w),top:i.map(w),right:f.map(w),bottom:b.map(w)}},XD=n=>({...n,position:P.some(n.position)}),ww=(n,s)=>{Wa(n,XD(s))},NA=(n,s)=>{const i=n.element;nr(i,s.transitionClass),ha(i,s.fadeOutClass),nr(i,s.fadeInClass),s.onShow(n)},Ib=(n,s)=>{const i=n.element;nr(i,s.transitionClass),ha(i,s.fadeInClass),nr(i,s.fadeOutClass),s.onHide(n)},QD=(n,s)=>n.y<s.bottom&&n.bottom>s.y,MA=(n,s)=>n.y>=s.y,_S=(n,s)=>n.bottom<=s.bottom,OS=(n,s,i)=>({location:"top",leftX:s,topY:i.bounds.y-n.y}),BA=(n,s,i)=>({location:"bottom",leftX:s,bottomY:n.bottom-i.bounds.bottom}),RS=n=>n.box.x-n.win.x,kz=(n,s,i)=>{const f=s.win,b=s.box,w=RS(s);return Jo(n,S=>{switch(S){case"bottom":return _S(b,i.bounds)?P.none():P.some(BA(f,w,i));case"top":return MA(b,i.bounds)?P.none():P.some(OS(f,w,i));default:return P.none()}}).getOr({location:"no-dock"})},Dz=(n,s,i)=>Je(n,f=>{switch(f){case"bottom":return _S(s,i.bounds);case"top":return MA(s,i.bounds)}}),_z=(n,s)=>{const i=s.optScrollEnv.fold(ie(n.bounds.y),f=>f.scrollElmTop+(n.bounds.y-f.currentScrollTop));return hr(n.bounds.x,i)},NS=(n,s)=>{const i=s.optScrollEnv.fold(ie(n.y),f=>n.y+f.currentScrollTop-f.scrollElmTop);return hr(n.x,i)},MS=(n,s,i)=>i.getInitialPos().map(f=>{const b=_z(f,s);return{box:Li(b.left,b.top,Mi(n),pi(n)),location:f.location}}),AB=(n,s,i,f,b)=>{const w=NS(s,i),S=Li(w.left,w.top,s.width,s.height);f.setInitialPos({style:li(n),position:yr(n,"position")||"static",bounds:S,location:b.location})},kB=(n,s,i,f,b)=>{f.getInitialPos().fold(()=>AB(n,s,i,f,b),()=>J)},DB=(n,s,i)=>i.getInitialPos().bind(f=>{switch(i.clearInitialPos(),f.position){case"static":return P.some({morph:"static"});case"absolute":const b=rf(n).getOr(Ml()),w=Di(b),S=b.dom.scrollTop??0;return P.some({morph:"absolute",positionCss:Vd("absolute",Hn(f.style,"left").map(_=>s.x-w.x),Hn(f.style,"top").map(_=>s.y-w.y+S),Hn(f.style,"right").map(_=>w.right-s.right),Hn(f.style,"bottom").map(_=>w.bottom-s.bottom))});default:return P.none()}}),_B=(n,s,i)=>MS(n,s,i).filter(({box:f})=>Dz(i.getModes(),f,s)).bind(({box:f})=>DB(n,f,i)),BS=n=>{switch(n.location){case"top":return P.some({morph:"fixed",positionCss:Vd("fixed",P.some(n.leftX),P.some(n.topY),P.none(),P.none())});case"bottom":return P.some({morph:"fixed",positionCss:Vd("fixed",P.some(n.leftX),P.none(),P.none(),P.some(n.bottomY))});default:return P.none()}},Cw=(n,s,i)=>{const f=Di(n),b=bc(),w=kz(i.getModes(),{win:b,box:f},s);return w.location==="top"||w.location==="bottom"?(AB(n,f,s,i,w),BS(w)):P.none()},JD=(n,s,i)=>_B(n,s,i).orThunk(()=>s.optScrollEnv.bind(f=>MS(n,s,i)).bind(({box:f,location:b})=>{const w=bc(),S=RS({win:w,box:f}),_=b==="top"?OS(w,S,s):BA(w,S,s);return BS(_)})),Oz=(n,s,i)=>{const f=n.element;return oo(Gr(f,"position"),"fixed")?JD(f,s,i):Cw(f,s,i)},Rz=(n,s,i)=>{const f=n.element;return MS(f,s,i).bind(({box:b})=>DB(f,b,i))},OB=(n,s,i,f)=>{const b=Di(n),w=bc(),S=RS({win:w,box:b}),_=f(w,S,s);return _.location==="bottom"||_.location==="top"?(kB(n,b,s,i,_),BS(_)):P.none()},Hb=(n,s,i)=>{i.setDocked(!1),bt(["left","right","top","bottom","position"],f=>cs(n.element,f)),s.onUndocked(n)},LS=(n,s,i,f)=>{const b=f.position==="fixed";i.setDocked(b),ww(n.element,f),(b?s.onDocked:s.onUndocked)(n)},LA=(n,s,i,f,b=!1)=>{s.contextual.each(w=>{w.lazyContext(n).each(S=>{const _=QD(S,f.bounds);_!==i.isVisible()&&(i.setVisible(_),b&&!_?(Ku(n.element,[w.fadeOutClass]),w.onHide(n)):(_?NA:Ib)(n,w))})})},PS=(n,s,i,f,b)=>{LA(n,s,i,f,!0),LS(n,s,i,b.positionCss)},RB=(n,s,i,f,b)=>{switch(b.morph){case"static":return Hb(n,s,i);case"absolute":return LS(n,s,i,b.positionCss);case"fixed":return PS(n,s,i,f,b)}},PA=(n,s,i)=>{const f=s.lazyViewport(n);LA(n,s,i,f),Oz(n,f,i).each(b=>{RB(n,s,i,f,b)})},e_=(n,s,i)=>{const f=n.element;i.setDocked(!1);const b=s.lazyViewport(n);Rz(n,b,i).each(w=>{switch(w.morph){case"static":{Hb(n,s,i);break}case"absolute":{LS(n,s,i,w.positionCss);break}}}),i.setVisible(!0),s.contextual.each(w=>{El(f,[w.fadeInClass,w.fadeOutClass,w.transitionClass]),w.onShow(n)}),FA(n,s,i)},FA=(n,s,i)=>{n.getSystem().isConnected()&&PA(n,s,i)},NB=(n,s,i)=>{i.isDocked()&&e_(n,s,i)},u0=n=>(s,i,f)=>{const b=i.lazyViewport(s);OB(s.element,b,f,n).each(S=>{PS(s,i,f,b,S)})},Nz=u0(OS),Mz=u0(BA);var t_=Object.freeze({__proto__:null,refresh:FA,reset:NB,isDocked:(n,s,i)=>i.isDocked(),getModes:(n,s,i)=>i.getModes(),setModes:(n,s,i,f)=>i.setModes(f),forceDockToTop:Nz,forceDockToBottom:Mz}),MB=Object.freeze({__proto__:null,events:(n,s)=>oa([t0(Ph(),(i,f)=>{n.contextual.each(b=>{Da(i.element,b.transitionClass)&&(El(i.element,[b.transitionClass,b.fadeInClass]),(s.isVisible()?b.onShown:b.onHidden)(i)),f.stop()})}),Mt(fm(),(i,f)=>{FA(i,n,s)}),Mt(nd(),(i,f)=>{FA(i,n,s)}),Mt(vi(),(i,f)=>{NB(i,n,s)})])}),n_=[Fi("contextual",[Ya("fadeInClass"),Ya("fadeOutClass"),Ya("transitionClass"),cu("lazyContext"),Ls("onShow"),Ls("onShown"),Ls("onHide"),Ls("onHidden")]),dr("lazyViewport",()=>({bounds:bc(),optScrollEnv:P.none()})),jm("modes",["top","bottom"],Pi),Ls("onDocked"),Ls("onUndocked")],BB=Object.freeze({__proto__:null,init:n=>{const s=Mn(!1),i=Mn(!0),f=wo(),b=Mn(n.modes),w=()=>`docked:  ${s.get()}, visible: ${i.get()}, modes: ${b.get().join(",")}`;return cd({isDocked:s.get,setDocked:s.set,getInitialPos:f.get,setInitialPos:f.set,clearInitialPos:f.clear,isVisible:i.get,setVisible:i.set,getModes:b.get,setModes:b.set,readState:w})}});const Ja=g({fields:n_,name:"docking",active:MB,apis:t_,state:BB}),o_=Ba.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),$A=n=>s=>s.translate(-n.left,-n.top),$S=n=>s=>s.translate(n.left,n.top),b1=n=>(s,i)=>Io(n,(f,b)=>b(f),hr(s,i)),IA=(n,s,i)=>n.fold(b1([$S(i),$A(s)]),b1([$A(s)]),b1([])),Sw=(n,s,i)=>n.fold(b1([$S(i)]),b1([]),b1([$S(s)])),s_=(n,s,i)=>n.fold(b1([]),b1([$A(i)]),b1([$S(s),$A(i)])),LB=(n,s,i,f,b,w)=>{const S=Sw(n,b,w),_=Sw(s,b,w);return Math.abs(S.left-_.left)<=i&&Math.abs(S.top-_.top)<=f},PB=(n,s,i,f,b,w)=>{const S=Sw(n,b,w),_=Sw(s,b,w),M=Math.abs(S.left-_.left),I=Math.abs(S.top-_.top);return hr(M,I)},r_=(n,s,i)=>{const f=n.fold((b,w)=>({position:P.some("absolute"),left:P.some(b+"px"),top:P.some(w+"px")}),(b,w)=>({position:P.some("absolute"),left:P.some(b-i.left+"px"),top:P.some(w-i.top+"px")}),(b,w)=>({position:P.some("fixed"),left:P.some(b+"px"),top:P.some(w+"px")}));return{right:P.none(),bottom:P.none(),...f}},HA=(n,s,i)=>n.fold((f,b)=>y1(f+s,b+i),(f,b)=>Yg(f+s,b+i),(f,b)=>O2(f+s,b+i)),zA=(n,s,i,f)=>{const b=(w,S)=>(_,M)=>{const I=w(s,i,f);return S(_.getOr(I.left),M.getOr(I.top))};return n.fold(b(s_,y1),b(Sw,Yg),b(IA,O2))},y1=o_.offset,Yg=o_.absolute,O2=o_.fixed,FB=(n,s)=>{const i=ea(n,s);return we(i)?NaN:parseInt(i,10)},Bz=(n,s)=>{const i=n.element,f=FB(i,s.leftAttr),b=FB(i,s.topAttr);return isNaN(f)||isNaN(b)?P.none():P.some(hr(f,b))},Lz=(n,s,i)=>{const f=n.element;uo(f,s.leftAttr,i.left+"px"),uo(f,s.topAttr,i.top+"px")},$B=(n,s)=>{const i=n.element;cr(i,s.leftAttr),cr(i,s.topAttr)},Pz=(n,s,i,f)=>Bz(n,s).fold(()=>i,b=>O2(b.left+f.left,b.top+f.top)),IB=(n,s,i,f,b,w)=>{const S=Pz(n,s,i,f),_=s.mustSnap?zB(n,s,S,b,w):Ew(n,s,S,b,w),M=IA(S,b,w);return Lz(n,s,M),_.fold(()=>({coord:O2(M.left,M.top),extra:P.none()}),I=>({coord:I.output,extra:I.extra}))},Fz=(n,s)=>{$B(n,s)},HB=(n,s,i,f)=>Jo(n,b=>{const w=b.sensor;return LB(s,w,b.range.left,b.range.top,i,f)?P.some({output:zA(b.output,s,i,f),extra:b.extra}):P.none()}),zB=(n,s,i,f,b)=>{const w=s.getSnapPoints(n);return HB(w,i,f,b).orThunk(()=>Io(w,(M,I)=>{const Z=I.sensor,K=PB(i,Z,I.range.left,I.range.top,f,b);return M.deltas.fold(()=>({deltas:P.some(K),snap:P.some(I)}),le=>{const he=(K.left+K.top)/2,ye=(le.left+le.top)/2;return he<=ye?{deltas:P.some(K),snap:P.some(I)}:M})},{deltas:P.none(),snap:P.none()}).snap.map(M=>({output:zA(M.output,i,f,b),extra:M.extra})))},Ew=(n,s,i,f,b)=>{const w=s.getSnapPoints(n);return HB(w,i,f,b)},VB=(n,s,i)=>({coord:zA(n.output,n.output,s,i),extra:n.extra});var Iz=Object.freeze({__proto__:null,snapTo:(n,s,i,f)=>{const b=s.getTarget(n.element);if(s.repositionTarget){const w=Oc(n.element),S=ka(w),_=J1(b),M=VB(f,S,_),I=r_(M.coord,S,_);Wa(b,I)}}});const Ic=(n,s)=>Lh(n,{},Ze(s,i=>kx(i.name(),"Cannot configure "+i.name()+" for "+n)).concat([yc("dump",it)])),IS=n=>n.dump,Hu=(n,s)=>({...a(s),...n.dump}),Xg={field:Ic,augment:Hu,get:IS},Hz=(n,s)=>(n.length>0?[lf("parts",n)]:[]).concat([Wt("uid"),ht("dom",{}),ht("components",[]),Hv("originalSpec"),ht("debug.sketcher",{})]).concat(s),jB=(n,s,i,f,b)=>{const w=Hz(f,b);return Mc(n+" [SpecSchema]",Bu(w.concat(s)),i)},zz=(n,s,i,f)=>{const b=jA(f),w=jB(n,s,b,[],[]);return i(w,b)},a_=(n,s,i,f,b)=>{const w=jA(b),S=Ii(i),_=Wm(i),M=jB(n,s,w,S,[_]),I=Pc(n,M,i),Z=vb(n,M,I.internals());return f(M,Z,w,I.externals())},VA=n=>ts(n,"uid"),jA=n=>VA(n)?n:{...n,uid:Qy("uid")},Vz=n=>n.uid!==void 0,dne=Bu([Wt("name"),Wt("factory"),Wt("configFields"),ht("apis",{}),ht("extraApis",{})]),UB=Bu([Wt("name"),Wt("factory"),Wt("configFields"),Wt("partFields"),ht("apis",{}),ht("extraApis",{})]),oh=n=>{const s=Mc("Sketcher for "+n.name,dne,n),i=w=>zz(s.name,s.configFields,s.factory,w),f=os(s.apis,x2),b=os(s.extraApis,(w,S)=>hb(w,S));return{name:s.name,configFields:s.configFields,sketch:i,...f,...b}},gf=n=>{const s=Mc("Sketcher for "+n.name,UB,n),i=S=>a_(s.name,s.configFields,s.partFields,s.factory,S),f=Fg(s.name,s.partFields),b=os(s.apis,x2),w=os(s.extraApis,(S,_)=>hb(S,_));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:i,parts:f,...b,...w}},d0=oh({name:"Container",factory:n=>{const{attributes:s,...i}=n.dom;return{uid:n.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...i},components:n.components,behaviours:IS(n.containerBehaviours),events:n.events,domModification:n.domModification,eventOrder:n.eventOrder}},configFields:[ht("components",[]),Ic("containerBehaviours",[]),ht("events",{}),ht("domModification",{}),ht("eventOrder",{})]}),i_="data-initial-z-index",jz=n=>{xl(n.element).filter(Yc).each(s=>{ii(s,i_).fold(()=>cs(s,"z-index"),i=>Co(s,"z-index",i)),cr(s,i_)})},Uz=n=>{xl(n.element).filter(Yc).each(s=>{Gr(s,"z-index").each(i=>{uo(s,i_,i)}),Co(s,"z-index",yr(n.element,"z-index"))})},ZB=(n,s)=>{n.getSystem().addToGui(s),Uz(s)},Tw=n=>{jz(n),n.getSystem().removeFromGui(n)},UA=(n,s,i)=>n.getSystem().build(d0.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:i}));var Zz=Fi("snaps",[Wt("getSnapPoints"),Ls("onSensor"),Wt("leftAttr"),Wt("topAttr"),ht("lazyViewport",bc),ht("mustSnap",!1)]);const HS=[ht("useFixed",pt),Wt("blockerClass"),ht("getTarget",it),ht("onDrag",J),ht("repositionTarget",!0),ht("onDrop",J),dr("getBounds",bc),Zz],ZA=n=>As(Gr(n,"left"),Gr(n,"top"),Gr(n,"position"),(s,i,f)=>(f==="fixed"?O2:y1)(parseInt(s,10),parseInt(i,10))).getOrThunk(()=>{const s=Bl(n);return Yg(s.left,s.top)}),l_=(n,s,i,f,b)=>{const w=b.bounds,S=Sw(s,i,f),_=us(S.left,w.x,w.x+w.width-b.width),M=us(S.top,w.y,w.y+w.height-b.height),I=Yg(_,M);return s.fold(()=>{const Z=s_(I,i,f);return y1(Z.left,Z.top)},ie(I),()=>{const Z=IA(I,i,f);return O2(Z.left,Z.top)})},Wz=(n,s,i,f,b,w,S)=>{const _=s.fold(()=>{const M=HA(i,w.left,w.top),I=IA(M,f,b);return O2(I.left,I.top)},M=>{const I=IB(n,M,i,w,f,b);return I.extra.each(Z=>{M.onSensor(n,Z)}),I.coord});return l_(n,_,f,b,S)},qz=(n,s,i,f)=>{const b=s.getTarget(n.element);if(s.repositionTarget){const w=Oc(n.element),S=ka(w),_=J1(b),M=ZA(b),I=Wz(n,s.snaps,M,S,_,f,i),Z=r_(I,S,_);Wa(b,Z)}s.onDrag(n,b,f)},WB=(n,s)=>({bounds:n.getBounds(),height:Ai(s.element),width:tf(s.element)}),c_=(n,s,i,f,b)=>{const w=i.update(f,b),S=i.getStartData().getOrThunk(()=>WB(s,n));w.each(_=>{qz(n,s,S,_)})},qB=(n,s,i,f)=>{s.each(Tw),i.snaps.each(w=>{Fz(n,w)});const b=i.getTarget(n.element);f.reset(),i.onDrop(n,b)},u_=n=>(s,i)=>{const f=b=>{i.setStartData(WB(s,b))};return oa([Mt(fm(),b=>{i.getStartData().each(()=>f(b))}),...n(s,i,f)])},Gz=n=>oa([Mt(uu(),n.forceDrop),Mt(Mf(),n.drop),Mt(xc(),(s,i)=>{n.move(i.event)}),Mt($i(),n.delayDrop)]);var Yz=Object.freeze({__proto__:null,getData:n=>P.from(hr(n.x,n.y)),getDelta:(n,s)=>hr(s.left-n.left,s.top-n.top)});const GB=(n,s,i)=>[Mt(uu(),(f,b)=>{if(b.event.raw.button!==0)return;b.stop();const S=()=>qB(f,P.some(I),n,s),_=Nx(S,200),M={drop:S,delayDrop:_.schedule,forceDrop:S,move:K=>{_.cancel(),c_(f,n,s,Yz,K)}},I=UA(f,n.blockerClass,Gz(M));i(f),ZB(f,I)})],Xz=[...HS,sr("dragger",{handlers:u_(GB)})],Qz=n=>oa([Mt(ed(),n.forceDrop),Mt($l(),n.drop),Mt(td(),n.drop),Mt(Xa(),(s,i)=>{n.move(i.event)})]),Aw=n=>{const s=n[0];return P.some(hr(s.clientX,s.clientY))};var WA=Object.freeze({__proto__:null,getData:n=>{const i=n.raw.touches;return i.length===1?Aw(i):P.none()},getDelta:(n,s)=>hr(s.left-n.left,s.top-n.top)});const YB=(n,s,i)=>{const f=wo(),b=w=>{qB(w,f.get(),n,s),f.clear()};return[Mt(ed(),(w,S)=>{S.stop();const _=()=>b(w),M={drop:_,delayDrop:J,forceDrop:_,move:K=>{c_(w,n,s,WA,K)}},I=UA(w,n.blockerClass,Qz(M));f.set(I),i(w),ZB(w,I)}),Mt(Xa(),(w,S)=>{S.stop(),c_(w,n,s,WA,S.event)}),Mt($l(),(w,S)=>{S.stop(),b(w)}),Mt(td(),b)]},Ln=[...HS,sr("dragger",{handlers:u_(YB)})],R2=(n,s,i)=>[...GB(n,s,i),...YB(n,s,i)],Jz=[...HS,sr("dragger",{handlers:u_(R2)})];var tV=Object.freeze({__proto__:null,mouse:Xz,touch:Ln,mouseOrTouch:Jz}),QB=Object.freeze({__proto__:null,init:()=>{let n=P.none(),s=P.none();const i=()=>{n=P.none(),s=P.none()},f=(M,I)=>{const Z=n.map(K=>M.getDelta(K,I));return n=P.some(I),Z},b=(M,I)=>M.getData(I).bind(Z=>f(M,Z)),w=M=>{s=P.some(M)},S=()=>s,_=ie({});return cd({readState:_,reset:i,update:b,getStartData:S,setStartData:w})}});const zb=R({branchKey:"mode",branches:tV,name:"dragging",active:{events:(n,s)=>n.dragger.handlers(n,s)},extra:{snap:n=>({sensor:n.sensor,range:n.range,output:n.output,extra:P.from(n.extra)})},state:QB,apis:Iz}),oV=["input","textarea"],m_=n=>{const s=yd(n);return Me(oV,s)},JB=(n,s)=>{const i=s.getRoot(n).getOr(n.element);ha(i,s.invalidClass),s.notify.each(f=>{m_(n.element)&&uo(n.element,"aria-invalid",!1),f.getContainer(n).each(b=>{Nl(b,f.validHtml)}),f.onValid(n)})},e6=(n,s,i,f)=>{const b=s.getRoot(n).getOr(n.element);nr(b,s.invalidClass),s.notify.each(w=>{m_(n.element)&&uo(n.element,"aria-invalid",!0),w.getContainer(n).each(S=>{Nl(S,f)}),w.onInvalid(n,f)})},h_=(n,s,i)=>s.validator.fold(()=>ls.pure(Pn.value(!0)),f=>f.validate(n)),g_=(n,s,i)=>(s.notify.each(f=>{f.onValidate(n)}),h_(n,s).map(f=>n.getSystem().isConnected()?f.fold(b=>(e6(n,s,i,b),Pn.error(b)),b=>(JB(n,s),Pn.value(b))):Pn.error("No longer in system")));var p_=Object.freeze({__proto__:null,markValid:JB,markInvalid:e6,query:h_,run:g_,isInvalid:(n,s)=>{const i=s.getRoot(n).getOr(n.element);return Da(i,s.invalidClass)}}),qA=Object.freeze({__proto__:null,events:(n,s)=>n.validator.map(i=>oa([Mt(i.onEvent,f=>{g_(f,n,s).get(it)})].concat(i.validateOnLoad?[Lr(f=>{g_(f,n,s).get(J)})]:[]))).getOr({})}),GA=[Wt("invalidClass"),ht("getRoot",P.none),Fi("notify",[ht("aria","alert"),ht("getContainer",P.none),ht("validHtml",""),Ls("onValid"),Ls("onInvalid"),Ls("onValidate")]),Fi("validator",[Wt("validate"),ht("onEvent","input"),ht("validateOnLoad",!0)])];const kw=(n,s,i)=>{s.store.manager.onLoad(n,s,i)},f0=(n,s,i)=>{s.store.manager.onUnload(n,s,i)};var gne=Object.freeze({__proto__:null,onLoad:kw,onUnload:f0,setValue:(n,s,i,f)=>{s.store.manager.setValue(n,s,i,f)},getValue:(n,s,i)=>s.store.manager.getValue(n,s,i),getState:(n,s,i)=>i}),aV=Object.freeze({__proto__:null,events:(n,s)=>{const i=n.resetOnDom?[Lr((f,b)=>{kw(f,n,s)}),mf((f,b)=>{f0(f,n,s)})]:[jy(n,s,kw)];return oa(i)}});const KA=()=>{const n=Mn(null),s=()=>({mode:"memory",value:n.get()}),i=()=>n.get()===null,f=()=>{n.set(null)};return cd({set:n.set,get:n.get,isNotSet:i,clear:f,readState:s})},iV=()=>cd({readState:J}),t6=()=>{const n=Mn({}),s=Mn({});return cd({readState:()=>({mode:"dataset",dataByValue:n.get(),dataByText:s.get()}),lookup:S=>Hn(n.get(),S).orThunk(()=>Hn(s.get(),S)),update:S=>{const _=n.get(),M=s.get(),I={},Z={};bt(S,K=>{I[K.value]=K,Hn(K,"meta").each(le=>{Hn(le,"text").each(he=>{Z[he]=K})})}),n.set({..._,...I}),s.set({...M,...Z})},clear:()=>{n.set({}),s.set({})}})};var n6=Object.freeze({__proto__:null,memory:KA,dataset:t6,manual:iV,init:n=>n.store.manager.state(n)});const o6=(n,s,i,f)=>{const b=s.store;i.update([f]),b.setValue(n,f),s.onSetValue(n,f)},lV=(n,s,i)=>{const f=s.store,b=f.getDataKey(n);return i.lookup(b).getOrThunk(()=>f.getFallbackEntry(b))},s6=(n,s,i)=>{s.store.initialValue.each(b=>{o6(n,s,i,b)})},r6=(n,s,i)=>{i.clear()};var cV=[vr("initialValue"),Wt("getFallbackEntry"),Wt("getDataKey"),Wt("setValue"),sr("manager",{setValue:o6,getValue:lV,onLoad:s6,onUnload:r6,state:t6})];const a6=(n,s,i)=>s.store.getValue(n),uV=(n,s,i,f)=>{s.store.setValue(n,f),s.onSetValue(n,f)},b_=(n,s,i)=>{s.store.initialValue.each(f=>{s.store.setValue(n,f)})};var i6=[Wt("getValue"),ht("setValue",J),vr("initialValue"),sr("manager",{setValue:uV,getValue:a6,onLoad:b_,onUnload:J,state:ld.init})];const l6=(n,s,i,f)=>{i.set(f),s.onSetValue(n,f)},c6=(n,s,i)=>i.get(),dV=(n,s,i)=>{s.store.initialValue.each(f=>{i.isNotSet()&&i.set(f)})},fV=(n,s,i)=>{i.clear()};var mV=[vr("initialValue"),sr("manager",{setValue:l6,getValue:c6,onLoad:dV,onUnload:fV,state:KA})],hV=[Ju("store",{mode:"memory"},Kl("mode",{memory:mV,manual:i6,dataset:cV})),Ls("onSetValue"),ht("resetOnDom",!1)];const In=g({fields:hV,name:"representing",active:aV,apis:gne,extra:{setValueFrom:(n,s)=>{const i=In.getValue(s);In.setValue(n,i)}},state:n6}),sh=g({fields:GA,name:"invalidating",active:qA,apis:p_,extra:{validation:n=>s=>{const i=In.getValue(s);return ls.pure(n(i))}}});var u6=Object.freeze({__proto__:null,exhibit:(n,s)=>zd({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const YA=Ba.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),y_=(n,s,i,f,b,w)=>{const S=s.rect,_=S.x-i,M=S.y-f,I=S.width,Z=S.height,K=b-(_+I),le=w-(M+Z),he=P.some(_),ye=P.some(M),_e=P.some(K),Ie=P.some(le),Se=P.none();return Ny(s.direction,()=>Vd(n,he,ye,Se,Se),()=>Vd(n,Se,ye,_e,Se),()=>Vd(n,he,Se,Se,Ie),()=>Vd(n,Se,Se,_e,Ie),()=>Vd(n,he,ye,Se,Se),()=>Vd(n,he,Se,Se,Ie),()=>Vd(n,he,ye,Se,Se),()=>Vd(n,Se,ye,_e,Se))},v_=(n,s)=>n.fold(()=>{const i=s.rect;return Vd("absolute",P.some(i.x),P.some(i.y),P.none(),P.none())},(i,f,b,w)=>y_("absolute",s,i,f,b,w),(i,f,b,w)=>y_("fixed",s,i,f,b,w)),x_=(n,s)=>{const i=mn(I0,s),f=n.fold(i,i,()=>{const S=ka();return I0(s).translate(-S.left,-S.top)}),b=tf(s),w=Ai(s);return Li(f.left,f.top,b,w)},pV=(n,s)=>s.fold(()=>n.fold(bc,bc,Li),i=>n.fold(ie(i),ie(i),()=>{const f=d6(n,i.x,i.y);return Li(f.left,f.top,i.width,i.height)})),d6=(n,s,i)=>{const f=hr(s,i),b=()=>{const w=ka();return f.translate(-w.left,-w.top)};return n.fold(ie(f),ie(f),b)},w_=(n,s,i,f)=>n.fold(s,i,f);YA.none;const bV=YA.relative,XA=YA.fixed,yV=(n,s)=>({anchorBox:n,origin:s}),f6=(n,s)=>yV(n,s),Hc=Ba.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),vV=(n,s)=>{const{x:i,y:f,right:b,bottom:w}=s,{x:S,y:_,right:M,bottom:I,width:Z,height:K}=n,le=S>=i&&S<=b,he=_>=f&&_<=w,ye=le&&he,_e=M<=b&&M>=i,Ie=I<=w&&I>=f,Se=_e&&Ie,Ye=Math.min(Z,S>=i?b-S:M-i),st=Math.min(K,_>=f?w-_:I-f);return{originInBounds:ye,sizeInBounds:Se,visibleW:Ye,visibleH:st}},m6=(n,s)=>{const{x:i,y:f,right:b,bottom:w}=s,{x:S,y:_,width:M,height:I}=n,Z=Math.max(i,b-M),K=Math.max(f,w-I),le=us(S,i,Z),he=us(_,f,K),ye=Math.min(le+M,b)-le,_e=Math.min(he+I,w)-he;return Li(le,he,ye,_e)},h6=(n,s,i)=>{const f=ie(s.bottom-i.y),b=ie(i.bottom-s.y),w=Uh(n,b,b,f),S=ie(s.right-i.x),_=ie(i.right-s.x);return{maxWidth:qm(n,_,_,S),maxHeight:w}},xV=(n,s,i,f)=>{const b=n.bubble,w=b.offset,S=zg(f,n.restriction,w),_=n.x+w.left,M=n.y+w.top,I=Li(_,M,s,i),{originInBounds:Z,sizeInBounds:K,visibleW:le,visibleH:he}=vV(I,S),ye=Z&&K,_e=ye?I:m6(I,S),Ie=_e.width>0&&_e.height>0,{maxWidth:Se,maxHeight:Ye}=h6(n.direction,_e,f),st={rect:_e,maxHeight:Ye,maxWidth:Se,direction:n.direction,placement:n.placement,classes:{on:b.classesOn,off:b.classesOff},layout:n.label,testY:M};return ye||n.alwaysFit?Hc.fit(st):Hc.nofit(st,le,he,Ie)},g6=(n,s,i,f,b,w)=>{const S=f.width,_=f.height,M=(Z,K,le,he,ye)=>{const _e=Z(i,f,b,n,w),Ie=xV(_e,S,_,w);return Ie.fold(ie(Ie),(Se,Ye,st,xt)=>(ye===xt?st>he||Ye>le:!ye&&xt)?Ie:Hc.nofit(K,le,he,ye))};return Io(s,(Z,K)=>{const le=mn(M,K);return Z.fold(ie(Z),le)},Hc.nofit({rect:i,maxHeight:f.height,maxWidth:f.width,direction:Hg(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:i.y},-1,-1,!1)).fold(it,it)},C_=["top","bottom","right","left"],QA="data-alloy-transition-timer",wV=(n,s)=>_g(n,s.classes),CV=(n,s,i)=>i.exists(f=>{const b=n.mode;return b==="all"?!0:f[b]!==s[b]}),SV=(n,s)=>{const i=f=>parseFloat(f).toFixed(3);return $r(s,(f,b)=>{const w=n[b].map(i),S=f.map(i);return!Bn(w,S)}).isSome()},p6=n=>{const s=w=>{const _=yr(n,w).split(/\s*,\s*/);return vo(_,Cu)},i=w=>{if(H(w)&&/^[\d.]+/.test(w)){const S=parseFloat(w);return dc(w,"ms")?S:S*1e3}else return 0},f=s("transition-delay"),b=s("transition-duration");return Io(b,(w,S,_)=>{const M=i(f[_])+i(S);return Math.max(w,M)},0)},EV=(n,s)=>{const i=Ir(),f=Ir();let b;const w=I=>{const Z=I.raw.pseudoElement??"";return se(I.target,n)&&Ri(Z)&&Me(C_,I.raw.propertyName)},S=I=>{if(Ee(I)||w(I)){i.clear(),f.clear();const Z=I?.raw.type;(Ee(Z)||Z===Ph())&&(clearTimeout(b),cr(n,QA),El(n,s.classes))}},_=Fs(n,Zm(),I=>{w(I)&&(_.unbind(),i.set(Fs(n,Ph(),S)),f.set(Fs(n,cb(),S)))}),M=p6(n);window.requestAnimationFrame(()=>{b=setTimeout(S,M+17),uo(n,QA,b)})},TV=(n,s)=>{Ku(n,s.classes),ii(n,QA).each(i=>{clearTimeout(parseInt(i,10)),cr(n,QA)}),EV(n,s)},b6=(n,s,i,f,b,w)=>{const S=CV(f,b,w);if(S||wV(n,f)){Co(n,"position",i.position);const _=x_(s,n),M=v_(s,{...b,rect:_}),I=Un(C_,Z=>M[Z]);SV(i,I)&&(Wa(n,I),S&&TV(n,f),ql(n))}else El(n,f.classes)},y6=n=>({width:Math.ceil(tf(n)),height:Ai(n)}),v6=(n,s,i,f)=>{cs(s,"max-height"),cs(s,"max-width");const b=y6(s);return g6(s,f.preference,n,b,i,f.bounds)},AV=(n,s)=>{const i=s.classes;El(n,i.off),Ku(n,i.on)},kV=(n,s,i)=>{const f=i.maxHeightFunction;f(n,s.maxHeight)},DV=(n,s,i)=>{const f=i.maxWidthFunction;f(n,s.maxWidth)},_V=(n,s,i)=>{const f=v_(i.origin,s);i.transition.each(b=>{b6(n,i.origin,f,b,s,i.lastPlacement)}),ww(n,f)},x6=(n,s)=>{n1(n,s.placement)},S_=(n,s,i)=>n[s]===void 0?i:n[s],tv=(n,s,i,f,b,w,S,_)=>{const M=S_(S,"maxHeightFunction",e2()),I=S_(S,"maxWidthFunction",J),Z=n.anchorBox,K=n.origin,le={bounds:pV(K,w),origin:K,preference:f,maxHeightFunction:M,maxWidthFunction:I,lastPlacement:b,transition:_};return w6(Z,s,i,le)},w6=(n,s,i,f)=>{const b=v6(n,s,i,f);return _V(s,b,f),x6(s,b),AV(s,b),kV(s,b,f),DV(s,b,f),{layout:b.layout,placement:b.placement}},zS=it,nv=()=>Fi("layouts",[Wt("onLtr"),Wt("onRtl"),vr("onBottomLtr"),vr("onBottomRtl")]),JA=(n,s,i,f,b,w,S)=>{const _=S.map(zy).getOr(!1),M=s.layouts.map(he=>he.onLtr(n)),I=s.layouts.map(he=>he.onRtl(n)),Z=_?s.layouts.bind(he=>he.onBottomLtr.map(ye=>ye(n))).or(M).getOr(b):M.getOr(i),K=_?s.layouts.bind(he=>he.onBottomRtl.map(ye=>ye(n))).or(I).getOr(w):I.getOr(f);return Eg(Z,K)(n)},Dw=(n,s,i)=>{const f=s.hotspot,b=x_(i,f.element),w=JA(n.element,s,Jv(),Wh(),zf(),Qv(),P.some(s.hotspot.element));return P.some(zS({anchorBox:b,bubble:s.bubble.getOr(Xi()),overrides:s.overrides,layouts:w}))};var OV=[Wt("hotspot"),vr("bubble"),ht("overrides",{}),nv(),sr("placement",Dw)];const RV=(n,s,i)=>{const f=d6(i,s.x,s.y),b=Li(f.left,f.top,s.width,s.height),w=JA(n.element,s,Ly(),Eb(),Ly(),Eb(),P.none());return P.some(zS({anchorBox:b,bubble:s.bubble,overrides:s.overrides,layouts:w}))};var C6=[Wt("x"),Wt("y"),ht("height",0),ht("width",0),ht("bubble",Xi()),ht("overrides",{}),nv(),sr("placement",RV)];const S6=Ba.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),NV=n=>n.fold(it,(s,i,f)=>s.translate(-i,-f)),MV=n=>n.fold(it,it),E_=n=>Io(n,(s,i)=>s.translate(i.left,i.top),hr(0,0)),T_=n=>{const s=Ze(n,NV);return E_(s)},ek=n=>{const s=Ze(n,MV);return E_(s)},BV=S6.screen,ov=S6.absolute,E6=(n,s,i)=>{const f=yp(i.root).dom,b=w=>{const S=Oc(w),_=Oc(n.element);return se(S,_)};return P.from(f.frameElement).map(fn.fromDom).filter(b).map(Bl)},A_=(n,s,i)=>{const f=Oc(n.element),b=ka(f),w=E6(n,s,i).getOr(b);return ov(w,b.left,b.top)},k_=(n,s,i,f)=>{const b=BV(hr(n,s));return P.some(Oh(b,i,f))},T6=(n,s,i,f,b)=>n.map(w=>{const S=[s,w.point],_=w_(f,()=>ek(S),()=>ek(S),()=>T_(S)),M=Rv(_.left,_.top,w.width,w.height),I=i.showAbove?zf():Jv(),Z=i.showAbove?Qv():Wh(),K=JA(b,i,I,Z,I,Z,P.none());return zS({anchorBox:M,bubble:i.bubble.getOr(Xi()),overrides:i.overrides,layouts:K})}),VS=(n,s,i)=>{const f=A_(n,i,s);return s.node.filter($s).bind(b=>{const w=b.dom.getBoundingClientRect(),S=k_(w.left,w.top,w.width,w.height),_=s.node.getOr(n.element);return T6(S,f,s,i,_)})};var jS=[Wt("node"),Wt("root"),vr("bubble"),nv(),ht("overrides",{}),ht("showAbove",!1),sr("placement",VS)];const US=(n,s)=>({element:n,offset:s}),D_=(n,s)=>{const i=Uu(n);if(i.length===0)return US(n,s);if(s<i.length)return US(i[s],0);{const f=i[i.length-1],b=vl(f)?Sg(f).length:Uu(f).length;return US(f,b)}},Vb=(n,s)=>vl(n)?US(n,s):D_(n,s),v1=n=>n.foffset!==void 0,A6=(n,s)=>s.getSelection.getOrThunk(()=>()=>Fm(n))().map(f=>{if(v1(f)){const b=Vb(f.start,f.soffset),w=Vb(f.finish,f.foffset);return di.range(b.element,b.offset,w.element,w.offset)}else return f}),LV=(n,s,i)=>{const f=yp(s.root).dom,b=A_(n,i,s),w=A6(f,s).bind(M=>{if(v1(M))return Ru(f,di.exactFromRange(M)).orThunk(()=>{const Z=fn.fromText(Tf);om(M.start,Z);const K=Dh(f,di.exact(Z,0,Z,1));return eu(Z),K}).bind(Z=>k_(Z.left,Z.top,Z.width,Z.height));{const I=os(M,K=>K.dom.getBoundingClientRect()),Z={left:Math.min(I.firstCell.left,I.lastCell.left),right:Math.max(I.firstCell.right,I.lastCell.right),top:Math.min(I.firstCell.top,I.lastCell.top),bottom:Math.max(I.firstCell.bottom,I.lastCell.bottom)};return k_(Z.left,Z.top,Z.right-Z.left,Z.bottom-Z.top)}}),_=A6(f,s).bind(M=>v1(M)?Yc(M.start)?P.some(M.start):Tu(M.start):P.some(M.firstCell)).getOr(n.element);return T6(w,b,s,i,_)};var k6=[vr("getSelection"),Wt("root"),vr("bubble"),nv(),ht("overrides",{}),ht("showAbove",!1),sr("placement",LV)];const Jg="link-layout",tk=n=>n.x+n.width,D6=(n,s)=>n.x-s.width,__=(n,s)=>n.y-s.height+n.height,O_=n=>n.y,R_=(n,s,i)=>nc(tk(n),O_(n),i.southeast(),Hg(),"southeast",hl(n,{left:0,top:2}),Jg),nk=(n,s,i)=>nc(D6(n,s),O_(n),i.southwest(),My(),"southwest",hl(n,{right:1,top:2}),Jg),N_=(n,s,i)=>nc(tk(n),__(n,s),i.northeast(),xb(),"northeast",hl(n,{left:0,bottom:3}),Jg),_6=(n,s,i)=>nc(D6(n,s),__(n,s),i.northwest(),Zh(),"northwest",hl(n,{right:1,bottom:3}),Jg),O6=()=>[R_,nk,N_,_6],R6=()=>[nk,R_,_6,N_],ok=(n,s,i)=>{const f=x_(i,s.item.element),b=JA(n.element,s,O6(),R6(),O6(),R6(),P.none());return P.some(zS({anchorBox:f,bubble:Xi(),overrides:s.overrides,layouts:b}))};var M_=[Wt("item"),nv(),ht("overrides",{}),sr("placement",ok)],sk=Kl("type",{selection:k6,node:jS,hotspot:OV,submenu:M_,makeshift:C6});const N6=[Ar("classes",Pi),Xl("mode","all",["all","layout","placement"])],PV=[ht("useFixed",pt),vr("getBounds")],M6=[Bc("anchor",sk),Fi("transition",N6)],B6=()=>{const n=document.documentElement;return XA(0,0,n.clientWidth,n.clientHeight)},L6=n=>{const s=Bl(n.element),i=n.element.dom.getBoundingClientRect();return bV(s.left,s.top,i.width,i.height)},P6=(n,s,i,f,b,w)=>{const S=f6(s.anchorBox,n);return tv(S,f.element,s.bubble,s.layouts,b,i,s.overrides,w)},FV=(n,s,i,f,b)=>{const w=P.none();rk(n,s,i,f,b,w)},rk=(n,s,i,f,b,w)=>{const S=Mc("placement.info",fo(M6),b),_=S.anchor,M=f.element,I=i.get(f.uid);Bb(()=>{Co(M,"position","fixed");const Z=Gr(M,"visibility");Co(M,"visibility","hidden");const K=s.useFixed()?B6():L6(n);_.placement(n,_,K).each(le=>{const he=w.orThunk(()=>s.getBounds.map(Yo)),ye=P6(K,le,he,f,I,S.transition);i.set(f.uid,ye)}),Z.fold(()=>{cs(M,"visibility")},le=>{Co(M,"visibility",le)}),Gr(M,"left").isNone()&&Gr(M,"top").isNone()&&Gr(M,"right").isNone()&&Gr(M,"bottom").isNone()&&oo(Gr(M,"position"),"fixed")&&cs(M,"position")},M)};var $V=Object.freeze({__proto__:null,position:FV,positionWithinBounds:rk,getMode:(n,s,i)=>s.useFixed()?"fixed":"absolute",reset:(n,s,i,f)=>{const b=f.element;bt(["position","left","right","top","bottom"],w=>cs(b,w)),Tb(b),i.clear(f.uid)}}),F6=Object.freeze({__proto__:null,init:()=>{let n={};return cd({readState:()=>n,clear:b=>{$e(b)?delete n[b]:n={}},set:(b,w)=>{n[b]=w},get:b=>Hn(n,b)})}});const dd=g({fields:PV,name:"positioning",active:u6,apis:$V,state:F6}),IV=(n,s)=>s.universal?n:vo(n,i=>Me(s.channels,i));var ZS=Object.freeze({__proto__:null,events:n=>oa([Mt(Fh(),(s,i)=>{const f=n.channels,b=ko(f),w=i,S=IV(b,w);bt(S,_=>{const M=f[_],I=M.schema,Z=Mc("channel["+_+`] data
Receiver: `+Md(s.element),I,w.data);M.onReceive(s,Z)})})])}),zV=[Bc("channels",Fv(Pn.value,Bu([Ih("onReceive"),ht("schema",af())])))];const fd=g({fields:zV,name:"receiving",active:ZS});var I6=Object.freeze({__proto__:null,events:(n,s)=>{const i=(f,b)=>{n.updateState.each(w=>{const S=w(f,b);s.set(S)}),n.renderComponents.each(w=>{const S=w(b,s.get());(n.reuseDom?CA:bS)(f,S)})};return oa([Mt(Fh(),(f,b)=>{const w=b;if(!w.universal){const S=n.channel;Me(w.channels,S)&&i(f,w.data)}}),Lr((f,b)=>{n.initialData.each(w=>{i(f,w)})})])}}),jV=Object.freeze({__proto__:null,getState:(n,s,i)=>i}),UV=[Wt("channel"),vr("renderComponents"),vr("updateState"),vr("initialData"),qi("reuseDom",!0)],WV=Object.freeze({__proto__:null,init:()=>{const n=Mn(P.none()),s=()=>n.set(P.none());return{readState:()=>n.get().getOr("none"),get:n.get,set:n.set,clear:s}}});const qf=g({fields:UV,name:"reflecting",active:I6,apis:jV,state:WV}),H6=(n,s,i,f)=>{i.get().each(S=>{pA(n)});const b=s.getAttachPoint(n);r0(b,n);const w=n.getSystem().build(f);return r0(n,w),i.set(w),w},z6=(n,s,i,f)=>{const b=H6(n,s,i,f);return s.onOpen(n,b),b},V6=(n,s,i,f)=>i.get().map(()=>H6(n,s,i,f)),ak=(n,s,i,f,b)=>{B_(n,s),z6(n,s,i,f),b(),U6(n,s)},ik=(n,s,i)=>{i.get().each(f=>{pA(n),i0(n),s.onClose(n,f),i.clear()})},lk=(n,s,i)=>i.isOpen(),qV=(n,s,i,f)=>lk(n,s,i)&&i.get().exists(b=>s.isPartOf(n,b,f)),GV=(n,s,i)=>i.get(),KV=(n,s,i,f)=>{Gr(n.element,s).fold(()=>{cr(n.element,i)},b=>{uo(n.element,i,b)}),Co(n.element,s,f)},YV=(n,s,i)=>{ii(n.element,i).fold(()=>cs(n.element,s),f=>Co(n.element,s,f))},B_=(n,s,i)=>{const f=s.getAttachPoint(n);Co(n.element,"position",dd.getMode(f)),KV(n,"visibility",s.cloakVisibilityAttr,"hidden")},j6=n=>wt(["top","left","right","bottom"],s=>Gr(n,s).isSome()),U6=(n,s,i)=>{j6(n.element)||cs(n.element,"position"),YV(n,"visibility",s.cloakVisibilityAttr)};var XV=Object.freeze({__proto__:null,cloak:B_,decloak:U6,open:z6,openWhileCloaked:ak,close:ik,isOpen:lk,isPartOf:qV,getState:GV,setContent:V6}),QV=Object.freeze({__proto__:null,events:(n,s)=>oa([Mt(Ra(),(i,f)=>{ik(i,n,s)})])}),JV=[Ls("onOpen"),Ls("onClose"),Wt("isPartOf"),Wt("getAttachPoint"),ht("cloakVisibilityAttr","data-precloak-visibility")],Z6=Object.freeze({__proto__:null,init:()=>{const n=wo(),s=ie("not-implemented");return cd({readState:s,isOpen:n.isSet,clear:n.clear,set:n.set,get:n.get})}});const ar=g({fields:JV,name:"sandboxing",active:QV,apis:XV,state:Z6}),WS=(n,s)=>s.getAnimationRoot.fold(()=>n.element,i=>i(n)),jb=n=>n.dimension.property,N2=(n,s)=>n.dimension.getDimension(s),ck=(n,s)=>{const i=WS(n,s);El(i,[s.shrinkingClass,s.growingClass])},x1=(n,s)=>{ha(n.element,s.openClass),nr(n.element,s.closedClass),Co(n.element,jb(s),"0px"),ql(n.element)},L_=(n,s)=>{ha(n.element,s.closedClass),nr(n.element,s.openClass),cs(n.element,jb(s))},W6=(n,s,i,f)=>{i.setCollapsed(),Co(n.element,jb(s),N2(s,n.element)),ck(n,s),x1(n,s),s.onStartShrink(n),s.onShrunk(n)},M2=(n,s,i,f)=>{const b=f.getOrThunk(()=>N2(s,n.element));i.setCollapsed(),Co(n.element,jb(s),b),ql(n.element);const w=WS(n,s);ha(w,s.growingClass),nr(w,s.shrinkingClass),x1(n,s),s.onStartShrink(n)},P_=(n,s,i)=>{const f=N2(s,n.element);(f==="0px"?W6:M2)(n,s,i,P.some(f))},q6=(n,s,i)=>{const f=WS(n,s),b=Da(f,s.shrinkingClass),w=N2(s,n.element);L_(n,s);const S=N2(s,n.element);(b?()=>{Co(n.element,jb(s),w),ql(n.element)}:()=>{x1(n,s)})(),ha(f,s.shrinkingClass),nr(f,s.growingClass),L_(n,s),Co(n.element,jb(s),S),i.setExpanded(),s.onStartGrow(n)},sv=(n,s,i)=>{if(i.isExpanded()){cs(n.element,jb(s));const f=N2(s,n.element);Co(n.element,jb(s),f)}},ej=(n,s,i)=>{i.isExpanded()||q6(n,s,i)},tj=(n,s,i)=>{i.isExpanded()&&P_(n,s,i)},Jh=(n,s,i)=>{i.isExpanded()&&W6(n,s,i)},G6=(n,s,i)=>i.isExpanded(),K6=(n,s,i)=>i.isCollapsed(),F_=(n,s,i)=>{const f=WS(n,s);return Da(f,s.growingClass)===!0},Y6=(n,s,i)=>{const f=WS(n,s);return Da(f,s.shrinkingClass)===!0};var oj=Object.freeze({__proto__:null,refresh:sv,grow:ej,shrink:tj,immediateShrink:Jh,hasGrown:G6,hasShrunk:K6,isGrowing:F_,isShrinking:Y6,isTransitioning:(n,s,i)=>F_(n,s)||Y6(n,s),toggleGrow:(n,s,i)=>{(i.isExpanded()?P_:q6)(n,s,i)},disableTransitions:ck,immediateGrow:(n,s,i)=>{i.isExpanded()||(L_(n,s),Co(n.element,jb(s),N2(s,n.element)),ck(n,s),i.setExpanded(),s.onStartGrow(n),s.onGrown(n))}}),Q6=Object.freeze({__proto__:null,exhibit:(n,s,i)=>{const f=s.expanded;return zd(f?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:za(s.dimension.property,"0px")})},events:(n,s)=>oa([t0(Ph(),(i,f)=>{f.event.raw.propertyName===n.dimension.property&&(ck(i,n),s.isExpanded()&&cs(i.element,n.dimension.property),(s.isExpanded()?n.onGrown:n.onShrunk)(i))})])}),J6=[Wt("closedClass"),Wt("openClass"),Wt("shrinkingClass"),Wt("growingClass"),vr("getAnimationRoot"),Ls("onShrunk"),Ls("onStartShrink"),Ls("onGrown"),Ls("onStartGrow"),ht("expanded",!1),Bc("dimension",Kl("property",{width:[sr("property","width"),sr("getDimension",n=>Mi(n)+"px")],height:[sr("property","height"),sr("getDimension",n=>pi(n)+"px")]}))],rj=Object.freeze({__proto__:null,init:n=>{const s=Mn(n.expanded),i=()=>"expanded: "+s.get();return cd({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:mn(s.set,!1),setExpanded:mn(s.set,!0),readState:i})}});const jd=g({fields:J6,name:"sliding",active:Q6,apis:oj,state:rj});var ij=Object.freeze({__proto__:null,events:(n,s)=>{const f=n.stream.streams.setup(n,s);return oa([Mt(n.event,f),mf(()=>s.cancel())].concat(n.cancelEvent.map(b=>[Mt(b,()=>s.cancel())]).getOr([])))}});const e8=n=>{const s=Mn(null);return cd({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:w=>{s.set(w)},cancel:()=>{const w=s.get();w!==null&&w.cancel()}})};var H_=Object.freeze({__proto__:null,throttle:e8,init:n=>n.stream.streams.state(n)});const lj=(n,s)=>{const i=n.stream,f=Si(n.onStream,i.delay);return s.setTimer(f),(b,w)=>{f.throttle(b,w),i.stopEvent&&w.stop()}};var qS=[Bc("stream",Kl("mode",{throttle:[Wt("delay"),ht("stopEvent",!0),sr("streams",{setup:lj,state:e8})]})),ht("event","input"),vr("cancelEvent"),Ih("onStream")];const _w=g({fields:qS,name:"streaming",active:ij,state:H_});var t8=Object.freeze({__proto__:null,exhibit:(n,s)=>zd({attributes:vc([{key:s.tabAttr,value:"true"}])})}),uj=[ht("tabAttr","data-alloy-tabstop")];const ua=g({fields:uj,name:"tabstopping",active:t8}),dj=(n,s,i)=>{const f=s.aria;f.update(n,f,i.get())},fj=(n,s,i)=>{s.toggleClass.each(f=>{i.get()?nr(n.element,f):ha(n.element,f)})},B2=(n,s,i,f)=>{const b=i.get();i.set(f),fj(n,s,i),dj(n,s,i),b!==f&&s.onToggled(n,f)},z_=(n,s,i)=>{B2(n,s,i,!i.get())},n8=(n,s,i)=>{B2(n,s,i,!0)},V_=(n,s,i)=>{B2(n,s,i,!1)},mj=(n,s,i)=>i.get(),j_=(n,s,i)=>{B2(n,s,i,s.selected)};var hj=Object.freeze({__proto__:null,onLoad:j_,toggle:z_,isOn:mj,on:n8,off:V_,set:B2}),o8=Object.freeze({__proto__:null,exhibit:()=>zd({}),events:(n,s)=>{const i=n0(n,s,z_),f=jy(n,s,j_);return oa(tt([n.toggleOnExecute?[i]:[],[f]]))}});const gj=(n,s,i)=>{uo(n.element,"aria-pressed",i),s.syncWithExpanded&&Z_(n,s,i)},pj=(n,s,i)=>{uo(n.element,"aria-selected",i)},U_=(n,s,i)=>{uo(n.element,"aria-checked",i)},Z_=(n,s,i)=>{uo(n.element,"aria-expanded",i)};var s8=[ht("selected",!1),vr("toggleClass"),ht("toggleOnExecute",!0),Ls("onToggled"),Ju("aria",{mode:"none"},Kl("mode",{pressed:[ht("syncWithExpanded",!1),sr("update",gj)],checked:[sr("update",U_)],expanded:[sr("update",Z_)],selected:[sr("update",pj)],none:[sr("update",J)]}))];const Ns=g({fields:s8,name:"toggling",active:o8,apis:hj,state:lt(!1)}),uk=me("tooltip.exclusive"),GS=me("tooltip.show"),KS=me("tooltip.hide"),YS=me("tooltip.immediateHide"),XS=me("tooltip.immediateShow"),r8=(n,s,i)=>{n.getSystem().broadcastOn([uk],{})};var yj=Object.freeze({__proto__:null,hideAllExclusive:r8,immediateOpenClose:(n,s,i,f)=>fs(n,f?XS:YS),isEnabled:(n,s,i)=>i.isEnabled(),setComponents:(n,s,i,f)=>{i.getTooltip().each(b=>{b.getSystem().isConnected()&&zo.set(b,f)})},setEnabled:(n,s,i,f)=>i.setEnabled(f)}),vj=Object.freeze({__proto__:null,events:(n,s)=>{const i=S=>{s.getTooltip().each(_=>{_.getSystem().isConnected()&&(i0(_),n.onHide(S,_),s.clearTooltip())}),s.clearTimer()},f=S=>{if(!s.isShowing()&&s.isEnabled()){r8(S);const _=n.lazySink(S).getOrDie(),M=S.getSystem().build({dom:n.tooltipDom,components:n.tooltipComponents,events:oa(n.mode==="normal"?[Mt(Jl(),I=>{fs(S,GS)}),Mt($i(),I=>{fs(S,KS)})]:[]),behaviours:a([zo.config({})])});s.setTooltip(M),r0(_,M),n.onShow(S,M),dd.position(_,M,{anchor:n.anchor(S)})}},b=S=>{s.getTooltip().each(_=>{const M=n.lazySink(S).getOrDie();dd.position(M,_,{anchor:n.anchor(S)})})},w=()=>{switch(n.mode){case"normal":return[Mt(ec(),S=>{fs(S,XS)}),Mt(Pp(),S=>{fs(S,YS)}),Mt(Jl(),S=>{fs(S,GS)}),Mt($i(),S=>{fs(S,KS)})];case"follow-highlight":return[Mt(fb(),(S,_)=>{fs(S,GS)}),Mt(Hp(),S=>{fs(S,KS)})];case"children-normal":return[Mt(ec(),(S,_)=>{ai(S.element).each(M=>{lr(_.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{fs(S,XS)},I=>{s.isShowing()&&(n.onShow(S,I),b(S))})})}),Mt(Pp(),S=>{ai(S.element).fold(()=>{fs(S,YS)},J)}),Mt(Jl(),S=>{ur(S.element,"[data-mce-tooltip]:hover").each(_=>{s.getTooltip().fold(()=>{fs(S,GS)},M=>{s.isShowing()&&(n.onShow(S,M),b(S))})})}),Mt($i(),S=>{ur(S.element,"[data-mce-tooltip]:hover").fold(()=>{fs(S,KS)},J)})];default:return[Mt(ec(),(S,_)=>{ai(S.element).each(M=>{lr(_.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{fs(S,XS)},I=>{s.isShowing()&&(n.onShow(S,I),b(S))})})}),Mt(Pp(),S=>{ai(S.element).fold(()=>{fs(S,YS)},J)})]}};return oa(tt([[r2(S=>{n.onSetup(S)}),Mt(GS,S=>{s.resetTimer(()=>{f(S)},n.delayForShow())}),Mt(KS,S=>{s.resetTimer(()=>{i(S)},n.delayForHide())}),Mt(XS,S=>{s.resetTimer(()=>{f(S)},0)}),Mt(YS,S=>{s.resetTimer(()=>{i(S)},0)}),Mt(Fh(),(S,_)=>{const M=_;M.universal||(Me(M.channels,uk)||Me(M.channels,hf()))&&(M.data.closedTooltip&&s.isShowing()&&M.data.closedTooltip(),i(S))}),mf(S=>{i(S)})],w()]))}}),xj=[Wt("lazySink"),Wt("tooltipDom"),ht("exclusive",!0),ht("tooltipComponents",[]),dr("delayForShow",ie(300)),dr("delayForHide",ie(100)),dr("onSetup",J),Xl("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),ht("anchor",n=>({type:"hotspot",hotspot:n,layouts:{onLtr:ie([_i,ya,Qi,Al,Kr,kl]),onRtl:ie([_i,ya,Qi,Al,Kr,kl])},bubble:mu(0,-2,{})})),Ls("onHide"),Ls("onShow")],wj=Object.freeze({__proto__:null,init:()=>{const n=Mn(!0),s=wo(),i=wo(),f=()=>{s.on(clearTimeout)},b=(S,_)=>{f(),s.set(setTimeout(S,_))},w=ie("not-implemented");return cd({getTooltip:i.get,isShowing:i.isSet,setTooltip:i.set,clearTooltip:i.clear,clearTimer:f,resetTimer:b,readState:w,isEnabled:()=>n.get(),setEnabled:S=>n.set(S)})}});const va=g({fields:xj,name:"tooltipping",active:vj,state:wj,apis:yj});var q_=Object.freeze({__proto__:null,events:()=>oa([_b(G0(),Pt)]),exhibit:()=>zd({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const m0=g({fields:[],name:"unselecting",active:q_}),Cj=n=>{const s=n.dom.attributes!==void 0?n.dom.attributes:[];return Io(s,(i,f)=>f.name==="class"?i:{...i,[f.name]:f.value},{})},Sj=n=>Array.prototype.slice.call(n.dom.classList,0),h0=n=>{const s=fn.fromHtml(n),i=Uu(s),f=Cj(s),b=Sj(s),w=i.length===0?{}:{innerHtml:Js(s)};return{tag:yd(s),classes:b,attributes:f,...w}},gr=n=>{const s=Vz(n)&&Oo(n,"uid")?n.uid:Qy("memento");return{get:w=>w.getSystem().getByUid(s).getOrDie(),getOpt:w=>w.getSystem().getByUid(s).toOptional(),asSpec:()=>({...n,uid:s})}},Ac=Ig,rh=Oy,Ej=(n,s)=>{const i=Mn(!1),f=Mn(!1);return{stop:()=>{i.set(!0)},cut:()=>{f.set(!0)},isStopped:i.get,isCut:f.get,event:n,setSource:s.set,getSource:s.get}},i8=n=>{const s=Mn(!1);return{stop:()=>{s.set(!0)},cut:J,isStopped:s.get,isCut:pt,event:n,setSource:Oe("Cannot set source of a broadcasted event"),getSource:Oe("Cannot get source of a broadcasted event")}},l8=n=>n.raw.which===ft[0]&&!Me(["input","textarea"],yd(n.target))&&!Pm(n.target,'[contenteditable="true"]'),c8=(n,s)=>{const i={stopBackspace:!0,...s},f=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],b=Lx(i),w=Ze(f.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),he=>Fs(n,he,ye=>{b.fireIfReady(ye,he).each(Ie=>{Ie&&ye.kill()}),i.triggerEvent(he,ye)&&ye.kill()})),S=wo(),_=Fs(n,"paste",he=>{b.fireIfReady(he,"paste").each(_e=>{_e&&he.kill()}),i.triggerEvent("paste",he)&&he.kill(),S.set(setTimeout(()=>{i.triggerEvent(Ty(),he)},0))}),M=Fs(n,"keydown",he=>{i.triggerEvent("keydown",he)?he.kill():i.stopBackspace&&l8(he)&&he.prevent()}),I=Fs(n,"focusin",he=>{i.triggerEvent("focusin",he)&&he.kill()}),Z=wo(),K=Fs(n,"focusout",he=>{i.triggerEvent("focusout",he)&&he.kill(),Z.set(setTimeout(()=>{i.triggerEvent(Pp(),he)},0))});return{unbind:()=>{bt(w,he=>{he.unbind()}),M.unbind(),I.unbind(),K.unbind(),_.unbind(),S.on(clearTimeout),Z.on(clearTimeout)}}},w1=(n,s)=>{const i=Hn(n,"target").getOr(s);return Mn(i)},eg=Ba.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),G_=(n,s,i,f,b,w)=>{const S=n(s,f),_=Ej(i,b);return S.fold(()=>(w.logEventNoHandlers(s,f),eg.complete()),M=>{const I=M.descHandler;return mw(I)(_),_.isStopped()?(w.logEventStopped(s,M.element,I.purpose),eg.stopped()):_.isCut()?(w.logEventCut(s,M.element,I.purpose),eg.complete()):xl(M.element).fold(()=>(w.logNoParent(s,M.element,I.purpose),eg.complete()),K=>(w.logEventResponse(s,M.element,I.purpose),eg.resume(K)))})},L2=(n,s,i,f,b,w)=>G_(n,s,i,f,b,w).fold(Pt,S=>L2(n,s,i,S,b,w),pt),Tj=(n,s,i,f,b)=>{const w=w1(i,f);return G_(n,s,i,f,w,b)},K_=(n,s,i)=>{const f=i8(s);return bt(n,b=>{const w=b.descHandler;mw(w)(f)}),f.isStopped()},u8=(n,s,i,f)=>dk(n,s,i,i.target,f),dk=(n,s,i,f,b)=>{const w=w1(i,f);return L2(n,s,i,f,w,b)},fk=(n,s)=>({element:n,descHandler:s}),d8=(n,s)=>({id:n,descHandler:s}),tg=()=>{const n={},s=(S,_,M)=>{Ho(M,(I,Z)=>{const K=n[Z]!==void 0?n[Z]:{};K[_]=ZD(I,S),n[Z]=K})},i=(S,_)=>Kh(_).bind(M=>Hn(S,M)).map(M=>fk(_,M));return{registerId:s,unregisterId:S=>{Ho(n,(_,M)=>{ts(_,S)&&delete _[S]})},filterByType:S=>Hn(n,S).map(_=>Es(_,(M,I)=>d8(I,M))).getOr([]),find:(S,_,M)=>Hn(n,_).bind(I=>Cr(M,Z=>i(I,Z),S))}},Y_=()=>{const n=tg(),s={},i=I=>{const Z=I.element;return Kh(Z).getOrThunk(()=>CS("uid-",I.element))},f=(I,Z)=>{const K=s[Z];if(K===I)w(I);else throw new Error('The tagId "'+Z+'" is already used by: '+Md(K.element)+`
Cannot use it for: `+Md(I.element)+`
The conflicting element is`+($s(K.element)?" ":" not ")+"already in the DOM")},b=I=>{const Z=i(I);Oo(s,Z)&&f(I,Z);const K=[I];n.registerId(K,Z,I.events),s[Z]=I},w=I=>{Kh(I.element).each(Z=>{delete s[Z],n.unregisterId(Z)})};return{find:(I,Z,K)=>n.find(I,Z,K),filter:I=>n.filterByType(I),register:b,unregister:w,getById:I=>Hn(s,I)}},X_=n=>{const s=Se=>xl(n.element).fold(Pt,Ye=>se(Se,Ye)),i=Y_(),f=(Se,Ye)=>i.find(s,Se,Ye),b=c8(n.element,{triggerEvent:(Se,Ye)=>Vp(Se,Ye.target,st=>u8(f,Se,Ye,st))}),w={debugInfo:ie("real"),triggerEvent:(Se,Ye,st)=>{Vp(Se,Ye,xt=>dk(f,Se,st,Ye,xt))},triggerFocus:(Se,Ye)=>{Kh(Se).fold(()=>{Fa(Se)},st=>{Vp(Pf(),Se,xt=>(Tj(f,Pf(),{originator:Ye,kill:J,prevent:J,target:Se},Se,xt),!1))})},triggerEscape:(Se,Ye)=>{w.triggerEvent("keydown",Se.element,Ye.event)},getByUid:Se=>_e(Se),getByDom:Se=>Ie(Se),build:E,buildOrPatch:y,addToGui:Se=>{M(Se)},removeFromGui:Se=>{I(Se)},addToWorld:Se=>{S(Se)},removeFromWorld:Se=>{_(Se)},broadcast:Se=>{le(Se)},broadcastOn:(Se,Ye)=>{he(Se,Ye)},broadcastEvent:(Se,Ye)=>{ye(Se,Ye)},isConnected:Pt},S=Se=>{Se.connect(w),vl(Se.element)||(i.register(Se),bt(Se.components(),S),w.triggerEvent(Ff(),Se.element,{target:Se.element}))},_=Se=>{vl(Se.element)||(bt(Se.components(),_),i.unregister(Se)),Se.disconnect()},M=Se=>{r0(n,Se)},I=Se=>{i0(Se)},Z=()=>{b.unbind(),eu(n.element)},K=Se=>{const Ye=i.filter(Fh());bt(Ye,st=>{const xt=st.descHandler;mw(xt)(Se)})},le=Se=>{K({universal:!0,data:Se})},he=(Se,Ye)=>{K({universal:!1,channels:Se,data:Ye})},ye=(Se,Ye)=>{const st=i.filter(Se);return K_(st,Ye)},_e=Se=>i.getById(Se).fold(()=>Pn.error(new Error('Could not find component with uid: "'+Se+'" in system.')),Pn.value),Ie=Se=>{const Ye=Kh(Se).getOr("not found");return _e(Ye)};return S(n),{root:n,element:n.element,destroy:Z,add:M,remove:I,getByUid:_e,getByDom:Ie,addToWorld:S,removeFromWorld:_,broadcast:le,broadcastOn:he,broadcastEvent:ye}},f8=()=>{const n=(s,i)=>{i.stop(),r1(s)};return[Mt(dm(),n),Mt(xr(),n),xm(ed()),xm(uu())]},Q_=n=>{const s=i=>wm((f,b)=>{i(f),b.stop()});return oa(tt([n.map(s).toArray(),f8()]))},rc=oh({name:"Button",factory:n=>{const s=Q_(n.action),i=n.dom.tag,f=w=>Hn(n.dom,"attributes").bind(S=>Hn(S,w)),b=()=>{if(i==="button"){const w=f("type").getOr("button"),S=f("role").map(_=>({role:_})).getOr({});return{type:w,...S}}else return{role:n.role.getOr(f("role").getOr("button"))}};return{uid:n.uid,dom:n.dom,components:n.components,events:s,behaviours:Xg.augment(n.buttonBehaviours,[et.config({}),lo.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:b()},eventOrder:n.eventOrder}},configFields:[ht("uid",void 0),Wt("dom"),ht("components",[]),Xg.field("buttonBehaviours",[et,lo]),vr("action"),vr("role"),ht("eventOrder",{})]}),Aj=ie([ht("shell",!1),Wt("makeItem"),ht("setupItem",J),Xg.field("listBehaviours",[zo])]),J_=fu({name:"items",overrides:()=>({behaviours:a([zo.config({})])})}),Dj=ie([J_]),eO=ie("CustomList"),tO=(n,s,i,f)=>{const b=(_,M)=>{S(_).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},I=>{const Z=zo.contents(I),K=M.length,le=K-Z.length,he=le>0?je(le,()=>n.makeItem()):[],ye=Z.slice(K);bt(ye,Ie=>zo.remove(I,Ie)),bt(he,Ie=>zo.append(I,Ie));const _e=zo.contents(I);bt(_e,(Ie,Se)=>{n.setupItem(_,Ie,M[Se],Se)})})},w=n.shell?{behaviours:[zo.config({})],components:[]}:{behaviours:[],components:s},S=_=>n.shell?P.some(_):Dr(_,n,"items");return{uid:n.uid,dom:n.dom,components:w.components,behaviours:Hu(n.listBehaviours,w.behaviours),apis:{setItems:b}}},m8=gf({name:eO(),configFields:Aj(),partFields:Dj(),factory:tO,apis:{setItems:(n,s,i)=>{n.setItems(s,i)}}}),Ow="aria-controls",h8=n=>Ah(n,i=>{if(!Yc(i))return!1;const f=ea(i,"id");return f!==void 0&&f.indexOf(Ow)>-1}).bind(i=>{const f=ea(i,"id"),b=Ti(i);return ur(b,`[${Ow}="${f}"]`)}),g8=()=>{const n=me(Ow);return{id:n,link:f=>{uo(f,Ow,n)},unlink:f=>{cr(f,Ow)}}},p8=(n,s)=>h8(s).exists(i=>rv(n,i)),rv=(n,s)=>ki(s,i=>se(i,n.element),pt)||p8(n,s),b8="alloy.item-hover",y8="alloy.item-focus",v8="alloy.item-toggled",x8=n=>{(ai(n.element).isNone()||et.isFocused(n))&&(et.isFocused(n)||et.focus(n),so(n,b8,{item:n}))},w8=n=>{so(n,y8,{item:n})},C8=(n,s)=>{so(n,v8,{item:n,state:s})},nO=ie(b8),_j=ie(y8),S8=ie(v8),E8=n=>n.role.fold(()=>n.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),it),Oj=(n,s)=>({aria:{mode:s?"selected":"checked"},...Wr(n,(i,f)=>f!=="exclusive"),onToggled:(i,f)=>{ve(n.onToggled)&&n.onToggled(i,f),C8(i,f)}}),Rj=n=>({dom:n.dom,domModification:{...n.domModification,attributes:{role:E8(n),...n.domModification.attributes,"aria-haspopup":n.hasSubmenu,...n.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Xg.augment(n.itemBehaviours,[n.toggling.fold(Ns.revoke,s=>Ns.config(Oj(s,n.role.exists(i=>i==="option")))),et.config({ignore:n.ignoreFocus,stopMousedown:n.ignoreFocus,onFocus:s=>{w8(s)}}),lo.config({mode:"execution"}),In.config({store:{mode:"memory",initialValue:n.data}}),fe("item-type-events",[...f8(),Mt(Jl(),x8),Mt(ba(),et.focus)])]),components:n.components,eventOrder:n.eventOrder});var oO=[Wt("data"),Wt("components"),Wt("dom"),ht("hasSubmenu",!1),vr("toggling"),vr("role"),Xg.field("itemBehaviours",[Ns,et,lo,In]),ht("ignoreFocus",!1),ht("domModification",{}),sr("builder",Rj),ht("eventOrder",{})];const T8=n=>({dom:n.dom,components:n.components,events:oa([jC(ba())])});var A8=[Wt("dom"),Wt("components"),sr("builder",T8)];const sO=ie("item-widget"),rO=ie([Sc({name:"widget",overrides:n=>({behaviours:a([In.config({store:{mode:"manual",getValue:s=>n.data,setValue:J}})])})})]),k8=n=>{const s=Pc(sO(),n,rO()),i=vb(sO(),n,s.internals()),f=w=>Dr(w,n,"widget").map(S=>(lo.focusIn(S),S)),b=(w,S)=>(qy(S.event.target)||n.autofocus&&S.setSource(w.element),P.none());return{dom:n.dom,components:i,domModification:n.domModification,events:oa([wm((w,S)=>{f(w).each(_=>{S.stop()})}),Mt(Jl(),x8),Mt(ba(),(w,S)=>{n.autofocus?f(w):et.focus(w)})]),behaviours:Xg.augment(n.widgetBehaviours,[In.config({store:{mode:"memory",initialValue:n.data}}),et.config({ignore:n.ignoreFocus,onFocus:w=>{w8(w)}}),lo.config({mode:"special",focusIn:n.autofocus?w=>{f(w)}:F(),onLeft:b,onRight:b,onEscape:(w,S)=>!et.isFocused(w)&&!n.autofocus?(et.focus(w),P.some(!0)):(n.autofocus&&S.setSource(w.element),P.none())})])}};var aO=[Wt("uid"),Wt("data"),Wt("components"),Wt("dom"),ht("autofocus",!1),ht("ignoreFocus",!1),Xg.field("widgetBehaviours",[In,et,lo]),ht("domModification",{}),Wm(rO()),sr("builder",k8)];const _8=Kl("type",{widget:aO,item:oO,separator:A8}),O8=(n,s)=>({mode:"flatgrid",selector:"."+n.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:n.focusManager}),R8=(n,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+n.markers.item},previousSelector:s.previousSelector,focusManager:n.focusManager}),Bj=(n,s)=>({mode:"menu",selector:"."+n.markers.item,moveOnTab:s.moveOnTab,focusManager:n.focusManager}),iO=ie([e1({factory:{sketch:n=>{const s=Mc("menu.spec item",_8,n);return s.builder(s)}},name:"items",unit:"item",defaults:(n,s)=>ts(s,"uid")?s:{...s,uid:Qy("item")},overrides:(n,s)=>({type:s.type,ignoreFocus:n.fakeFocus,domModification:{classes:[n.markers.item]}})})]),Lj=ie([pa("role"),Wt("value"),Wt("items"),Wt("dom"),Wt("components"),ht("eventOrder",{}),Ic("menuBehaviours",[fr,In,It,lo]),Ju("movement",{mode:"menu",moveOnTab:!0},Kl("mode",{grid:[mb(),sr("config",O8)],matrix:[sr("config",R8),Wt("rowSelector"),ht("previousSelector",P.none)],menu:[ht("moveOnTab",!0),sr("config",Bj)]})),ky(),ht("fakeFocus",!1),ht("focusManager",GC()),Ls("onHighlight"),Ls("onDehighlight"),ht("showMenuRole",!0)]),lO=ie("alloy.menu-focus"),N8=(n,s)=>{const i=ta(n.element,'[role="menuitemradio"][aria-checked="true"]');bt(i,f=>{se(f,s.element)||n.getSystem().getByDom(f).each(b=>{Ns.off(b)})})},P2=(n,s,i,f)=>({uid:n.uid,dom:n.dom,markers:n.markers,behaviours:Hu(n.menuBehaviours,[fr.config({highlightClass:n.markers.selectedItem,itemClass:n.markers.item,onHighlight:n.onHighlight,onDehighlight:n.onDehighlight}),In.config({store:{mode:"memory",initialValue:n.value}}),It.config({find:P.some}),lo.config(n.movement.config(n,n.movement))]),events:oa([Mt(_j(),(b,w)=>{const S=w.event;b.getSystem().getByDom(S.target).each(_=>{fr.highlight(b,_),w.stop(),so(b,lO(),{menu:b,item:_})})}),Mt(nO(),(b,w)=>{const S=w.event.item;fr.highlight(b,S)}),Mt(S8(),(b,w)=>{const{item:S,state:_}=w.event;_&&ea(S.element,"role")==="menuitemradio"&&N8(b,S)})]),components:s,eventOrder:n.eventOrder,...n.showMenuRole?{domModification:{attributes:{role:n.role.getOr("menu")}}}:{}}),Ub=gf({name:"Menu",configFields:Lj(),partFields:iO(),factory:P2}),cO=n=>Vs(n,(s,i)=>({k:s,v:i})),QS=(n,s,i,f)=>Hn(i,f).bind(b=>Hn(n,b).bind(w=>{const S=QS(n,s,i,w);return P.some([w].concat(S))})).getOr([]),Pj=(n,s)=>{const i={};Ho(n,(S,_)=>{bt(S,M=>{i[M]=_})});const f=s,b=cO(s),w=os(b,(S,_)=>[_].concat(QS(i,f,b,_)));return os(i,S=>Hn(w,S).getOr([S]))},M8=()=>{const n=Mn({}),s=Mn({}),i=Mn({}),f=wo(),b=Mn({}),w=()=>{n.set({}),s.set({}),i.set({}),f.clear()},S=()=>f.get().isNone(),_=(Ot,kn)=>{s.set({...s.get(),[Ot]:{type:"prepared",menu:kn}})},M=(Ot,kn,Qt,rn)=>{f.set(Ot),n.set(Qt),s.set(kn),b.set(rn);const on=Pj(rn,Qt);i.set(on)},I=Ot=>$r(n.get(),(kn,Qt)=>kn===Ot),Z=(Ot,kn,Qt)=>_e(Ot).bind(rn=>I(Ot).bind(on=>kn(on).map(mo=>({triggeredMenu:rn,triggeringItem:mo,triggeringPath:Qt})))),K=(Ot,kn)=>{const Qt=vo(Se(Ot).toArray(),rn=>_e(rn).isSome());return Hn(i.get(),Ot).bind(rn=>{const on=Rt(Qt.concat(rn)),mo=Be(on,(to,ys)=>Z(to,kn,on.slice(0,ys+1)).fold(()=>oo(f.get(),to)?[]:[P.none()],ho=>[P.some(ho)]));return vs(mo)})},le=Ot=>Hn(n.get(),Ot).map(kn=>{const Qt=Hn(i.get(),Ot).getOr([]);return[kn].concat(Qt)}),he=Ot=>Hn(i.get(),Ot).bind(kn=>kn.length>1?P.some(kn.slice(1)):P.none()),ye=Ot=>Hn(i.get(),Ot),_e=Ot=>Ie(Ot).bind(uO),Ie=Ot=>Hn(s.get(),Ot),Se=Ot=>Hn(n.get(),Ot);return{setMenuBuilt:_,setContents:M,expand:le,refresh:ye,collapse:he,lookupMenu:Ie,lookupItem:Se,otherMenus:Ot=>{const kn=b.get();return yt(ko(kn),Ot)},getPrimary:()=>f.get().bind(_e),getMenus:()=>s.get(),clear:w,isClear:S,getTriggeringPath:K}},uO=n=>n.type==="prepared"?P.some(n.menu):P.none(),dO={init:M8,extractPreparedMenu:uO},mk=me("tiered-menu-item-highlight"),fO=me("tiered-menu-item-dehighlight"),Fj=(n,s)=>{const i=wo(),f=(Kt,vn,Eo)=>os(Eo,(Ko,ao)=>{const qo=()=>Ub.sketch({...Ko,value:ao,markers:n.markers,fakeFocus:n.fakeFocus,onHighlight:(Ur,pr)=>{so(Ur,mk,{menuComp:Ur,itemComp:pr})},onDehighlight:(Ur,pr)=>{so(Ur,fO,{menuComp:Ur,itemComp:pr})},focusManager:n.fakeFocus?jx():GC()});return ao===vn?{type:"prepared",menu:Kt.getSystem().build(qo())}:{type:"notbuilt",nbMenu:qo}}),b=dO.init(),w=Kt=>{const vn=f(Kt,n.data.primary,n.data.menus),Eo=M();return b.setContents(n.data.primary,vn,n.data.expansions,Eo),b.getPrimary()},S=Kt=>In.getValue(Kt).value,_=(Kt,vn,Eo)=>Jo(vn,Ko=>{if(!Ko.getSystem().isConnected())return P.none();const ao=fr.getCandidates(Ko);return Ne(ao,qo=>S(qo)===Eo)}),M=Kt=>os(n.data.menus,(vn,Eo)=>Be(vn.items,Ko=>Ko.type==="separator"?[]:[Ko.data.value])),I=fr.highlight,Z=(Kt,vn)=>{I(Kt,vn),fr.getHighlighted(vn).orThunk(()=>fr.getFirst(vn)).each(Eo=>{n.fakeFocus?fr.highlight(vn,Eo):Vy(Kt,Eo.element,ba())})},K=(Kt,vn)=>Uo(Ze(vn,Eo=>Kt.lookupMenu(Eo).bind(Ko=>Ko.type==="prepared"?P.some(Ko.menu):P.none()))),le=(Kt,vn,Eo)=>{const Ko=K(vn,vn.otherMenus(Eo));bt(Ko,ao=>{El(ao.element,[n.markers.backgroundMenu]),n.stayInDom||zo.remove(Kt,ao)})},he=Kt=>i.get().getOrThunk(()=>{const vn={},Eo=ta(Kt.element,`.${n.markers.item}`),Ko=vo(Eo,ao=>ea(ao,"aria-haspopup")==="true");return bt(Ko,ao=>{Kt.getSystem().getByDom(ao).each(qo=>{const Ur=S(qo);vn[Ur]=qo})}),i.set(vn),vn}),ye=(Kt,vn)=>{const Eo=he(Kt);Ho(Eo,(Ko,ao)=>{const qo=Me(vn,ao);uo(Ko.element,"aria-expanded",qo)})},_e=(Kt,vn,Eo)=>P.from(Eo[0]).bind(Ko=>vn.lookupMenu(Ko).bind(ao=>{if(ao.type==="notbuilt")return P.none();{const qo=ao.menu,Ur=K(vn,Eo.slice(1));return bt(Ur,pr=>{nr(pr.element,n.markers.backgroundMenu)}),$s(qo.element)||zo.append(Kt,D(qo)),El(qo.element,[n.markers.backgroundMenu]),Z(Kt,qo),le(Kt,vn,Eo),P.some(qo)}}));let Ie;(function(Kt){Kt[Kt.HighlightSubmenu=0]="HighlightSubmenu",Kt[Kt.HighlightParent=1]="HighlightParent"})(Ie||(Ie={}));const Se=(Kt,vn,Eo)=>{if(Eo.type==="notbuilt"){const Ko=Kt.getSystem().build(Eo.nbMenu());return b.setMenuBuilt(vn,Ko),Ko}else return Eo.menu},Ye=(Kt,vn,Eo=Ie.HighlightSubmenu)=>{if(vn.hasConfigured(eo)&&eo.isDisabled(vn))return P.some(vn);{const Ko=S(vn);return b.expand(Ko).bind(ao=>(ye(Kt,ao),P.from(ao[0]).bind(qo=>b.lookupMenu(qo).bind(Ur=>{const pr=Se(Kt,qo,Ur);return $s(pr.element)||zo.append(Kt,D(pr)),n.onOpenSubmenu(Kt,vn,pr,Rt(ao)),Eo===Ie.HighlightSubmenu?(fr.highlightFirst(pr),_e(Kt,b,ao)):(fr.dehighlightAll(pr),P.some(vn))}))))}},st=(Kt,vn)=>{const Eo=S(vn);return b.collapse(Eo).bind(Ko=>(ye(Kt,Ko),_e(Kt,b,Ko).map(ao=>(n.onCollapseMenu(Kt,vn,ao),ao))))},xt=(Kt,vn)=>{const Eo=S(vn);return b.refresh(Eo).bind(Ko=>(ye(Kt,Ko),_e(Kt,b,Ko)))},Ot=(Kt,vn)=>qy(vn.element)?P.none():Ye(Kt,vn,Ie.HighlightSubmenu),kn=(Kt,vn)=>qy(vn.element)?P.none():st(Kt,vn),Qt=(Kt,vn)=>st(Kt,vn).orThunk(()=>n.onEscape(Kt,vn).map(()=>Kt)),rn=Kt=>(vn,Eo)=>bi(Eo.getSource(),`.${n.markers.item}`).bind(Ko=>vn.getSystem().getByDom(Ko).toOptional().bind(ao=>Kt(vn,ao).map(Pt))),on=oa([Mt(lO(),(Kt,vn)=>{const Eo=vn.event.item;b.lookupItem(S(Eo)).each(()=>{const Ko=vn.event.menu;fr.highlight(Kt,Ko);const ao=S(vn.event.item);b.refresh(ao).each(qo=>le(Kt,b,qo))})}),wm((Kt,vn)=>{const Eo=vn.event.target;Kt.getSystem().getByDom(Eo).each(Ko=>{S(Ko).indexOf("collapse-item")===0&&st(Kt,Ko),Ye(Kt,Ko,Ie.HighlightSubmenu).fold(()=>{n.onExecute(Kt,Ko)},J)})}),Lr((Kt,vn)=>{w(Kt).each(Eo=>{zo.append(Kt,D(Eo)),n.onOpenMenu(Kt,Eo),n.highlightOnOpen===Ec.HighlightMenuAndItem?Z(Kt,Eo):n.highlightOnOpen===Ec.HighlightJustMenu&&I(Kt,Eo)})}),Mt(mk,(Kt,vn)=>{n.onHighlightItem(Kt,vn.event.menuComp,vn.event.itemComp)}),Mt(fO,(Kt,vn)=>{n.onDehighlightItem(Kt,vn.event.menuComp,vn.event.itemComp)}),...n.navigateOnHover?[Mt(nO(),(Kt,vn)=>{const Eo=vn.event.item;xt(Kt,Eo),Ye(Kt,Eo,Ie.HighlightParent),n.onHover(Kt,Eo)})]:[]]),mo=Kt=>fr.getHighlighted(Kt).bind(fr.getHighlighted),to=Kt=>{mo(Kt).each(vn=>{st(Kt,vn)})},ys=Kt=>{b.getPrimary().each(vn=>{Z(Kt,vn)})},ho=Kt=>P.from(Kt.components()[0]).filter(vn=>ea(vn.element,"role")==="menu"),no={collapseMenu:to,highlightPrimary:ys,repositionMenus:Kt=>{b.getPrimary().bind(Eo=>mo(Kt).bind(Ko=>{const ao=S(Ko),qo=Ma(b.getMenus()),Ur=Uo(Ze(qo,dO.extractPreparedMenu));return b.getTriggeringPath(ao,pr=>_(Kt,Ur,pr))}).map(Ko=>({primary:Eo,triggeringPath:Ko}))).fold(()=>{ho(Kt).each(Eo=>{n.onRepositionMenu(Kt,Eo,[])})},({primary:Eo,triggeringPath:Ko})=>{n.onRepositionMenu(Kt,Eo,Ko)})}};return{uid:n.uid,dom:n.dom,markers:n.markers,behaviours:Hu(n.tmenuBehaviours,[lo.config({mode:"special",onRight:rn(Ot),onLeft:rn(kn),onEscape:rn(Qt),focusIn:(Kt,vn)=>{b.getPrimary().each(Eo=>{Vy(Kt,Eo.element,ba())})}}),fr.config({highlightClass:n.markers.selectedMenu,itemClass:n.markers.menu}),It.config({find:Kt=>fr.getHighlighted(Kt)}),zo.config({})]),eventOrder:n.eventOrder,apis:no,events:on}},B8=ie("collapse-item"),L8=(n,s,i)=>({primary:n,menus:s,expansions:i}),P8=(n,s)=>({primary:n,menus:za(n,s),expansions:{}}),F8=n=>({value:me(B8()),meta:{text:n}}),F2=oh({name:"TieredMenu",configFields:[X0("onExecute"),X0("onEscape"),Ih("onOpenMenu"),Ih("onOpenSubmenu"),Ls("onRepositionMenu"),Ls("onCollapseMenu"),ht("highlightOnOpen",Ec.HighlightMenuAndItem),lf("data",[Wt("primary"),Wt("menus"),Wt("expansions")]),ht("fakeFocus",!1),Ls("onHighlightItem"),Ls("onDehighlightItem"),Ls("onHover"),Ox(),Wt("dom"),ht("navigateOnHover",!0),ht("stayInDom",!1),Ic("tmenuBehaviours",[lo,fr,It,zo]),ht("eventOrder",{})],apis:{collapseMenu:(n,s)=>{n.collapseMenu(s)},highlightPrimary:(n,s)=>{n.highlightPrimary(s)},repositionMenus:(n,s)=>{n.repositionMenus(s)}},factory:Fj,extraApis:{tieredData:L8,singleData:P8,collapseItem:F8}}),hk=ie("sink"),$j=ie(fu({name:hk(),overrides:ie({dom:{tag:"div"},behaviours:a([dd.config({useFixed:Pt})]),events:oa([xm(Gi()),xm(uu()),xm(dm())])})})),Ij=Bu([ht("isExtraPart",pt),Fi("fireEventInstead",[ht("event",mm())])]),mO=n=>{const s=Mc("Dismissal",Ij,n);return{[Jm()]:{schema:Bu([Wt("target")]),onReceive:(i,f)=>{ar.isOpen(i)&&(ar.isPartOf(i,f.target)||s.isExtraPart(i,f.target)||s.fireEventInstead.fold(()=>ar.close(i),w=>fs(i,w.event)))}}}},Hj=Bu([Fi("fireEventInstead",[ht("event",Nd())]),cu("doReposition")]),gk=n=>{const s=Mc("Reposition",Hj,n);return{[gl()]:{onReceive:i=>{ar.isOpen(i)&&s.fireEventInstead.fold(()=>s.doReposition(i),f=>fs(i,f.event))}}}},$8=(n,s)=>{const i=n.getHotspot(s).getOr(s),f="hotspot",b=n.getAnchorOverrides();return n.layouts.fold(()=>({type:f,hotspot:i,overrides:b}),w=>({type:f,hotspot:i,overrides:b,layouts:w}))},JS=(n,s,i)=>{const f=n.fetch;return f(i).map(s)},I8=(n,s,i,f,b,w,S)=>{const _=JS(n,s,f),M=H8(f,n);return _.map(I=>I.bind(Z=>{const K=Z.menus[Z.primary];return P.from(K).each(le=>{n.listRole.each(he=>{le.role=he})}),P.from(F2.sketch({...w.menu(),uid:Qy(""),data:Z,highlightOnOpen:S,onOpenMenu:(le,he)=>{const ye=M().getOrDie();dd.position(ye,he,{anchor:i}),ar.decloak(b)},onOpenSubmenu:(le,he,ye)=>{const _e=M().getOrDie();dd.position(_e,ye,{anchor:{type:"submenu",item:he}}),ar.decloak(b)},onRepositionMenu:(le,he,ye)=>{const _e=M().getOrDie();dd.position(_e,he,{anchor:i}),bt(ye,Ie=>{dd.position(_e,Ie.triggeredMenu,{anchor:{type:"submenu",item:Ie.triggeringItem}})})},onEscape:()=>(et.focus(f),ar.close(b),P.some(!0))}))}))},pk=(n,s,i,f,b,w,S)=>{const _=$8(n,i);return I8(n,s,_,i,f,b,S).map(I=>(I.fold(()=>{ar.isOpen(f)&&ar.close(f)},Z=>{ar.cloak(f),ar.open(f,Z),w(f)}),f))},zj=(n,s,i,f,b,w,S)=>(ar.close(f),ls.pure(f)),bk=(n,s,i,f,b,w)=>{const S=Wo.getCoupled(i,"sandbox");return(ar.isOpen(S)?zj:pk)(n,s,i,S,f,b,w)},Vj=(n,s,i)=>{const f=It.getCurrent(s).getOr(s),b=Mi(n.element);i?Co(f.element,"min-width",b+"px"):Cd(f.element,b)},H8=(n,s)=>n.getSystem().getByUid(s.uid+"-"+hk()).map(i=>()=>Pn.value(i)).getOrThunk(()=>s.lazySink.fold(()=>()=>Pn.error(new Error("No internal sink is specified, nor could an external sink be found")),i=>()=>i(n))),z8=n=>{ar.getState(n).each(s=>{F2.repositionMenus(s)})},V8=(n,s,i)=>{const f=g8(),b=(_,M)=>{const I=$8(n,s);f.link(s.element),n.matchWidth&&Vj(I.hotspot,M,n.useMinWidth),n.onOpen(I,_,M),i!==void 0&&i.onOpen!==void 0&&i.onOpen(_,M)},w=(_,M)=>{f.unlink(s.element),S().getOr(M).element.dom.dispatchEvent(new window.FocusEvent("focusout")),i!==void 0&&i.onClose!==void 0&&i.onClose(_,M)},S=H8(s,n);return{dom:{tag:"div",classes:n.sandboxClasses,attributes:{id:f.id}},behaviours:Xg.augment(n.sandboxBehaviours,[In.config({store:{mode:"memory",initialValue:s}}),ar.config({onOpen:b,onClose:w,isPartOf:(_,M,I)=>rv(M,I)||rv(s,I),getAttachPoint:()=>S().getOrDie()}),It.config({find:_=>ar.getState(_).bind(M=>It.getCurrent(M))}),fd.config({channels:{...mO({isExtraPart:pt}),...gk({doReposition:z8})}})])}},jj=n=>{const s=Wo.getCoupled(n,"sandbox");z8(s)},hO=()=>[ht("sandboxClasses",[]),Xg.field("sandboxBehaviours",[It,fd,ar,In])],Uj=ie([Wt("dom"),Wt("fetch"),Ls("onOpen"),tc("onExecute"),ht("getHotspot",P.some),ht("getAnchorOverrides",ie({})),nv(),Ic("dropdownBehaviours",[Ns,Wo,lo,et]),Wt("toggleClass"),ht("eventOrder",{}),vr("lazySink"),ht("matchWidth",!1),ht("useMinWidth",!1),vr("role"),vr("listRole")].concat(hO())),Zj=ie([$d({schema:[Ox(),ht("fakeFocus",!1)],name:"menu",defaults:n=>({onExecute:n.onExecute})}),$j()]),Wj=(n,s,i,f)=>{const b=Z=>Hn(n.dom,"attributes").bind(K=>Hn(K,Z)),w=Z=>{ar.getState(Z).each(K=>{F2.highlightPrimary(K)})},S=(Z,K,le)=>bk(n,it,Z,f,K,le),_=Z=>{S(Z,w,Ec.HighlightMenuAndItem).get(J)},M={expand:Z=>{Ns.isOn(Z)||S(Z,J,Ec.HighlightNone).get(J)},open:Z=>{Ns.isOn(Z)||S(Z,J,Ec.HighlightMenuAndItem).get(J)},refetch:Z=>Wo.getExistingCoupled(Z,"sandbox").fold(()=>S(Z,J,Ec.HighlightMenuAndItem).map(J),le=>pk(n,it,Z,le,f,J,Ec.HighlightMenuAndItem).map(J)),isOpen:Ns.isOn,close:Z=>{Ns.isOn(Z)&&S(Z,J,Ec.HighlightMenuAndItem).get(J)},repositionMenus:Z=>{Ns.isOn(Z)&&jj(Z)}},I=(Z,K)=>(r1(Z),P.some(!0));return{uid:n.uid,dom:n.dom,components:s,behaviours:Hu(n.dropdownBehaviours,[Ns.config({toggleClass:n.toggleClass,aria:{mode:"expanded"}}),Wo.config({others:{sandbox:Z=>V8(n,Z,{onOpen:()=>Ns.on(Z),onClose:()=>Ns.off(Z)})}}),lo.config({mode:"special",onSpace:I,onEnter:I,onDown:(Z,K)=>{if(Gf.isOpen(Z)){const le=Wo.getCoupled(Z,"sandbox");w(le)}else Gf.open(Z);return P.some(!0)},onEscape:(Z,K)=>Gf.isOpen(Z)?(Gf.close(Z),P.some(!0)):P.none()}),et.config({})]),events:Q_(P.some(_)),eventOrder:{...n.eventOrder,[Bs()]:["disabling","toggling","alloy.base.behaviour"]},apis:M,domModification:{attributes:{"aria-haspopup":n.listRole.getOr("true"),...n.role.fold(()=>({}),Z=>({role:Z})),...n.dom.tag==="button"?{type:b("type").getOr("button")}:{}}}}},Gf=gf({name:"Dropdown",configFields:Uj(),partFields:Zj(),factory:Wj,apis:{open:(n,s)=>n.open(s),refetch:(n,s)=>n.refetch(s),expand:(n,s)=>n.expand(s),close:(n,s)=>n.close(s),isOpen:(n,s)=>n.isOpen(s),repositionMenus:(n,s)=>n.repositionMenus(s)}}),j8="form",qj=[Ic("formBehaviours",[In])],gO=n=>"<alloy.field."+n+">",Gj=n=>{const s=(()=>{const w=[];return{field:(_,M)=>(w.push(_),Nr(j8,gO(_),M)),record:ie(w)}})(),i=n(s),f=s.record(),b=Ze(f,w=>Sc({name:w,pname:gO(w)}));return a_(j8,qj,b,Z8,i)},U8=(n,s)=>n.fold(()=>Pn.error(s),Pn.value),Z8=(n,s)=>({uid:n.uid,dom:n.dom,components:s,behaviours:Hu(n.formBehaviours,[In.config({store:{mode:"manual",getValue:i=>{const f=pm(i,n);return os(f,(b,w)=>b().bind(S=>{const _=It.getCurrent(S);return U8(_,new Error(`Cannot find a current component to extract the value from for form part '${w}': `+Md(S.element)))}).map(In.getValue))},setValue:(i,f)=>{Ho(f,(b,w)=>{Dr(i,n,w).each(S=>{It.getCurrent(S).each(_=>{In.setValue(_,b)})})})}}})]),apis:{getField:(i,f)=>Dr(i,n,f).bind(It.getCurrent)}}),av={getField:x2((n,s,i)=>n.getField(s,i)),sketch:Gj},Rw=ie([Wt("dom"),ht("shell",!0),Ic("toolbarBehaviours",[zo])]),Yj=ie([fu({name:"groups",overrides:()=>({behaviours:a([zo.config({})])})})]),eE=(n,s,i,f)=>{const b=(_,M)=>{w(_).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},I=>{zo.set(I,M)})},w=_=>n.shell?P.some(_):Dr(_,n,"groups"),S=n.shell?{behaviours:[zo.config({})],components:[]}:{behaviours:[],components:s};return{uid:n.uid,dom:n.dom,components:S.components,behaviours:Hu(n.toolbarBehaviours,S.behaviours),apis:{setGroups:b,refresh:J},domModification:{attributes:{role:"group"}}}},g0=gf({name:"Toolbar",configFields:Rw(),partFields:Yj(),factory:eE,apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)}}}),Xj=ie([hs(["toggledClass"]),Wt("lazySink"),cu("fetch"),cf("getBounds"),Fi("fireDismissalEventInstead",[ht("event",mm())]),nv(),Ls("onToggled")]),Qj=ie([$d({name:"button",overrides:n=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:a([Ns.config({toggleClass:n.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:n.onToggled})])})}),$d({factory:g0,schema:Rw(),name:"toolbar",overrides:n=>({toolbarBehaviours:a([lo.config({mode:"cyclic",onEscape:s=>(Dr(s,n,"button").each(et.focus),P.none())})])})})]),Nw=wo(),W8=(n,s)=>{Nw.set(!0),pO(n,s),Nw.clear()},pO=(n,s)=>{const i=Wo.getCoupled(n,"toolbarSandbox");ar.isOpen(i)?ar.close(i):ar.open(i,s.toolbar())},tE=(n,s,i,f)=>{const b=i.getBounds.map(S=>S()),w=i.lazySink(n).getOrDie();dd.positionWithinBounds(w,s,{anchor:{type:"hotspot",hotspot:n,layouts:f,overrides:{maxWidthFunction:kb()}}},b)},q8=(n,s,i,f,b)=>{g0.setGroups(s,b),tE(n,s,i,f),Ns.on(n)},Jj=(n,s,i)=>{const f=g8(),b=(S,_)=>{const M=Nw.get().getOr(!1);i.fetch().get(I=>{q8(n,_,i,s.layouts,I),f.link(n.element),M||lo.focusIn(_)})},w=()=>{Ns.off(n),Nw.get().getOr(!1)||et.focus(n),f.unlink(n.element)};return{dom:{tag:"div",attributes:{id:f.id}},behaviours:a([lo.config({mode:"special",onEscape:S=>(ar.close(S),P.some(!0))}),ar.config({onOpen:b,onClose:w,isPartOf:(S,_,M)=>rv(_,M)||rv(n,M),getAttachPoint:()=>i.lazySink(n).getOrDie()}),fd.config({channels:{...mO({isExtraPart:pt,...i.fireDismissalEventInstead.map(S=>({fireEventInstead:{event:S.event}})).getOr({})}),...gk({doReposition:()=>{ar.getState(Wo.getCoupled(n,"toolbarSandbox")).each(S=>{tE(n,S,i,s.layouts)})}})}})])}},Zb=gf({name:"FloatingToolbarButton",factory:(n,s,i,f)=>({...rc.sketch({...f.button(),action:b=>{pO(b,f)},buttonBehaviours:Xg.augment({dump:f.button().buttonBehaviours},[Wo.config({others:{toolbarSandbox:b=>Jj(b,i,n)}})])}),apis:{setGroups:(b,w)=>{ar.getState(Wo.getCoupled(b,"toolbarSandbox")).each(S=>{q8(b,S,n,i.layouts,w)})},reposition:b=>{ar.getState(Wo.getCoupled(b,"toolbarSandbox")).each(w=>{tE(b,w,n,i.layouts)})},toggle:b=>{pO(b,f)},toggleWithoutFocusing:b=>{W8(b,f)},getToolbar:b=>ar.getState(Wo.getCoupled(b,"toolbarSandbox")),isOpen:b=>ar.isOpen(Wo.getCoupled(b,"toolbarSandbox"))}}),configFields:Xj(),partFields:Qj(),apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)},reposition:(n,s)=>{n.reposition(s)},toggle:(n,s)=>{n.toggle(s)},toggleWithoutFocusing:(n,s)=>{n.toggleWithoutFocusing(s)},getToolbar:(n,s)=>n.getToolbar(s),isOpen:(n,s)=>n.isOpen(s)}}),G8=ie([ht("prefix","form-field"),Ic("fieldBehaviours",[It,In])]),eU=ie([fu({schema:[Wt("dom")],name:"label"}),fu({factory:{sketch:n=>({uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}})},schema:[Wt("text")],name:"aria-descriptor"}),Sc({factory:{sketch:n=>{const s=Sy(n,["factory"]);return n.factory.sketch(s)}},schema:[Wt("factory")],name:"field"})]),tU=(n,s,i,f)=>{const b=Hu(n.fieldBehaviours,[It.config({find:_=>Dr(_,n,"field")}),In.config({store:{mode:"manual",getValue:_=>It.getCurrent(_).bind(In.getValue),setValue:(_,M)=>{It.getCurrent(_).each(I=>{In.setValue(I,M)})}}})]),w=oa([Lr((_,M)=>{const I=Hf(_,n,["label","field","aria-descriptor"]);I.field().each(Z=>{const K=me(n.prefix);I.label().each(le=>{uo(le.element,"for",K),uo(Z.element,"id",K)}),I["aria-descriptor"]().each(le=>{const he=me(n.prefix);uo(le.element,"id",he),uo(Z.element,"aria-describedby",he)})})})]),S={getField:_=>Dr(_,n,"field"),getLabel:_=>Dr(_,n,"label")};return{uid:n.uid,dom:n.dom,components:s,behaviours:b,events:w,apis:S}},ks=gf({name:"FormField",configFields:G8(),partFields:eU(),factory:tU,apis:{getField:(n,s)=>n.getField(s),getLabel:(n,s)=>n.getLabel(s)}}),nU=ie([ht("field1Name","field1"),ht("field2Name","field2"),Ih("onLockedChange"),hs(["lockClass"]),ht("locked",!1),Xg.field("coupledFieldBehaviours",[It,In]),dr("onInput",J)]),oU=(n,s,i)=>Dr(n,s,i).bind(It.getCurrent),K8=(n,s)=>Sc({factory:ks,name:n,overrides:i=>({fieldBehaviours:a([fe("coupled-input-behaviour",[Mt(Bf(),f=>{oU(f,i,s).each(b=>{Dr(f,i,"lock").each(w=>{Ns.isOn(w)&&i.onLockedChange(f,b,w),i.onInput(f)})})})])])})}),sU=ie([K8("field1","field2"),K8("field2","field1"),Sc({factory:rc,schema:[Wt("dom")],name:"lock",overrides:n=>({buttonBehaviours:a([Ns.config({selected:n.locked,toggleClass:n.markers.lockClass,aria:{mode:"pressed"}})])})})]),rU=(n,s,i,f)=>({uid:n.uid,dom:n.dom,components:s,behaviours:Xg.augment(n.coupledFieldBehaviours,[It.config({find:P.some}),In.config({store:{mode:"manual",getValue:b=>{const w=Ry(b,n,["field1","field2"]);return{[n.field1Name]:In.getValue(w.field1()),[n.field2Name]:In.getValue(w.field2())}},setValue:(b,w)=>{const S=Ry(b,n,["field1","field2"]);Oo(w,n.field1Name)&&In.setValue(S.field1(),w[n.field1Name]),Oo(w,n.field2Name)&&In.setValue(S.field2(),w[n.field2Name])}}})]),apis:{getField1:b=>Dr(b,n,"field1"),getField2:b=>Dr(b,n,"field2"),getLock:b=>Dr(b,n,"lock")}}),el=gf({name:"FormCoupledInputs",configFields:nU(),partFields:sU(),factory:rU,apis:{getField1:(n,s)=>n.getField1(s),getField2:(n,s)=>n.getField2(s),getLock:(n,s)=>n.getLock(s)}}),aU=(n,s)=>{const i=Ze(n.options,b=>({dom:{tag:"option",value:b.value,innerHtml:b.text}})),f=n.data.map(b=>za("initialValue",b)).getOr({});return{uid:n.uid,dom:{tag:"select",classes:n.selectClasses,attributes:n.selectAttributes},components:i,behaviours:Hu(n.selectBehaviours,[et.config({}),In.config({store:{mode:"manual",getValue:b=>pc(b.element),setValue:(b,w)=>{const S=sn(n.options);Ne(n.options,M=>M.value===w).isSome()?Dd(b.element,w):b.element.dom.selectedIndex===-1&&w===""&&S.each(M=>Dd(b.element,M.value))},...f}})])}},yO=oh({name:"HtmlSelect",configFields:[Wt("options"),Ic("selectBehaviours",[et,In]),ht("selectClasses",[]),ht("selectAttributes",{}),vr("data")],factory:aU}),Y8=(n,s,i,f,b)=>{const w=()=>n.lazySink(s),S=f.type==="horizontal"?{layouts:{onLtr:()=>Jv(),onRtl:()=>Wh()}}:{},_=I=>I.length===2,M=I=>_(I)?S:{};return F2.sketch({dom:{tag:"div"},data:f.data,markers:f.menu.markers,highlightOnOpen:f.menu.highlightOnOpen,fakeFocus:f.menu.fakeFocus,onEscape:()=>(ar.close(s),n.onEscape.map(I=>I(s)),P.some(!0)),onExecute:()=>P.some(!0),onOpenMenu:(I,Z)=>{dd.positionWithinBounds(w().getOrDie(),Z,i,b())},onOpenSubmenu:(I,Z,K,le)=>{const he=w().getOrDie();dd.position(he,K,{anchor:{type:"submenu",item:Z,...M(le)}})},onRepositionMenu:(I,Z,K)=>{const le=w().getOrDie();dd.positionWithinBounds(le,Z,i,b()),bt(K,he=>{const ye=M(he.triggeringPath);dd.position(le,he.triggeredMenu,{anchor:{type:"submenu",item:he.triggeringItem,...ye}})})}})},iU=(n,s)=>{const i=(le,he)=>n.getRelated(le).exists(_e=>rv(_e,he)),f=(le,he)=>{ar.setContent(le,he)},b=(le,he,ye)=>{const _e=P.none;w(le,he,ye,_e)},w=(le,he,ye,_e)=>{const Ie=n.lazySink(le).getOrDie();ar.openWhileCloaked(le,he,()=>dd.positionWithinBounds(Ie,le,ye,_e())),In.setValue(le,P.some({mode:"position",config:ye,getBounds:_e}))},S=(le,he,ye)=>{_(le,he,ye,P.none)},_=(le,he,ye,_e)=>{const Ie=Y8(n,le,he,ye,_e);ar.open(le,Ie),In.setValue(le,P.some({mode:"menu",menu:Ie}))},M=le=>{ar.isOpen(le)&&(In.setValue(le,P.none()),ar.close(le))},I=le=>ar.getState(le),Z=le=>{ar.isOpen(le)&&In.getValue(le).each(he=>{switch(he.mode){case"menu":ar.getState(le).each(F2.repositionMenus);break;case"position":const ye=n.lazySink(le).getOrDie();dd.positionWithinBounds(ye,le,he.config,he.getBounds());break}})},K={setContent:f,showAt:b,showWithinBounds:w,showMenuAt:S,showMenuWithinBounds:_,hide:M,getContent:I,reposition:Z,isOpen:ar.isOpen};return{uid:n.uid,dom:n.dom,behaviours:Hu(n.inlineBehaviours,[ar.config({isPartOf:(le,he,ye)=>rv(he,ye)||i(le,ye),getAttachPoint:le=>n.lazySink(le).getOrDie(),onOpen:le=>{n.onShow(le)},onClose:le=>{n.onHide(le)}}),In.config({store:{mode:"memory",initialValue:P.none()}}),fd.config({channels:{...mO({isExtraPart:s.isExtraPart,...n.fireDismissalEventInstead.map(le=>({fireEventInstead:{event:le.event}})).getOr({})}),...gk({...n.fireRepositionEventInstead.map(le=>({fireEventInstead:{event:le.event}})).getOr({}),doReposition:Z})}})]),eventOrder:n.eventOrder,apis:K}},mi=oh({name:"InlineView",configFields:[Wt("lazySink"),Ls("onShow"),Ls("onHide"),cf("onEscape"),Ic("inlineBehaviours",[ar,In,fd]),Fi("fireDismissalEventInstead",[ht("event",mm())]),Fi("fireRepositionEventInstead",[ht("event",Nd())]),ht("getRelated",P.none),ht("isExtraPart",pt),ht("eventOrder",P.none)],factory:iU,apis:{showAt:(n,s,i,f)=>{n.showAt(s,i,f)},showWithinBounds:(n,s,i,f,b)=>{n.showWithinBounds(s,i,f,b)},showMenuAt:(n,s,i,f)=>{n.showMenuAt(s,i,f)},showMenuWithinBounds:(n,s,i,f,b)=>{n.showMenuWithinBounds(s,i,f,b)},hide:(n,s)=>{n.hide(s)},isOpen:(n,s)=>n.isOpen(s),getContent:(n,s)=>n.getContent(s),setContent:(n,s,i)=>{n.setContent(s,i)},reposition:(n,s)=>{n.reposition(s)}}}),vO=ie([Oa("type","text"),vr("data"),ht("inputAttributes",{}),ht("inputStyles",{}),ht("tag","input"),ht("inputClasses",[]),Ls("onSetValue"),dr("fromInputValue",it),dr("toInputValue",it),ht("styles",{}),ht("eventOrder",{}),Ic("inputBehaviours",[In,et]),ht("selectOnFocus",!0)]),X8=n=>a([et.config({onFocus:n.selectOnFocus?s=>{const i=s.element,f=pc(i);n.type!=="range"&&i.dom.setSelectionRange(0,f.length)}:J})]),lU=n=>({...X8(n),...Hu(n.inputBehaviours,[In.config({store:{mode:"manual",...n.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>n.fromInputValue(pc(s.element)),setValue:(s,i)=>{pc(s.element)!==i&&Dd(s.element,n.toInputValue(i))}},onSetValue:n.onSetValue})])}),xO=n=>({tag:n.tag,attributes:{type:n.type,...n.inputAttributes},styles:n.inputStyles,classes:n.inputClasses}),Q8=(n,s)=>({uid:n.uid,dom:xO(n),components:[],behaviours:lU(n),eventOrder:n.eventOrder}),C1=oh({name:"Input",configFields:vO(),factory:Q8}),wO=Fg(sO(),rO()),cU=(n,s)=>{const i=ii(n,"id").fold(()=>{const f=me("dialog-label");return uo(s,"id",f),f},it);uo(n,"aria-labelledby",i)},uU=ie([Wt("lazySink"),vr("dragBlockClass"),dr("getBounds",bc),ht("useTabstopAt",Pt),ht("firstTabstop",0),ht("eventOrder",{}),Ic("modalBehaviours",[lo]),tc("onExecute"),X0("onEscape")]),yk={sketch:it},CO=ie([fu({name:"draghandle",overrides:(n,s)=>({behaviours:a([zb.config({mode:"mouse",getTarget:i=>tu(i,'[role="dialog"]').getOr(i),blockerClass:n.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:n.getDragBounds})])})}),Sc({schema:[Wt("dom")],name:"title"}),Sc({factory:yk,schema:[Wt("dom")],name:"close"}),Sc({factory:yk,schema:[Wt("dom")],name:"body"}),fu({factory:yk,schema:[Wt("dom")],name:"footer"}),$d({factory:{sketch:(n,s)=>({...n,dom:s.dom,components:s.components})},schema:[ht("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),ht("components",[])],name:"blocker"})]),dU=(n,s,i,f)=>{const b=wo(),w=ye=>{b.set(ye);const _e=n.lazySink(ye).getOrDie(),Ie=f.blocker(),Se=_e.getSystem().build({...Ie,components:Ie.components.concat([D(ye)]),behaviours:a([et.config({}),fe("dialog-blocker-events",[t0(ec(),()=>{tn.isBlocked(ye)?J():lo.focusIn(ye)})])])});r0(_e,Se),lo.focusIn(ye)},S=ye=>{b.clear(),xl(ye.element).each(_e=>{ye.getSystem().getByDom(_e).each(Ie=>{i0(Ie)})})},_=ye=>rd(ye,n,"body"),M=ye=>Dr(ye,n,"footer"),I=(ye,_e)=>{tn.block(ye,_e)},Z=ye=>{tn.unblock(ye)},K=me("modal-events"),le={...n.eventOrder,[Lc()]:[K].concat(n.eventOrder["alloy.system.attached"]||[])},he=Ua();return{uid:n.uid,dom:n.dom,components:s,apis:{show:w,hide:S,getBody:_,getFooter:M,setIdle:Z,setBusy:I},eventOrder:le,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Hu(n.modalBehaviours,[zo.config({}),lo.config({mode:"cyclic",onEnter:n.onExecute,onEscape:n.onEscape,useTabstopAt:n.useTabstopAt,firstTabstop:n.firstTabstop}),tn.config({getRoot:b.get}),fe(K,[Lr(ye=>{const _e=rd(ye,n,"title").element,Ie=Lm(_e);he.os.isMacOS()&&$e(Ie)?uo(ye.element,"aria-label",Ie):cU(ye.element,_e)})])])}},ac=gf({name:"ModalDialog",configFields:uU(),partFields:CO(),factory:dU,apis:{show:(n,s)=>{n.show(s)},hide:(n,s)=>{n.hide(s)},getBody:(n,s)=>n.getBody(s),getFooter:(n,s)=>n.getFooter(s),setBusy:(n,s,i)=>{n.setBusy(s,i)},setIdle:(n,s)=>{n.setIdle(s)}}}),fU=fu({schema:[Wt("dom")],name:"label"}),iv=n=>fu({name:""+n+"-edge",overrides:s=>s.model.manager.edgeActions[n].fold(()=>({}),f=>({events:oa([ff(ed(),(b,w,S)=>f(b,S),[s]),ff(uu(),(b,w,S)=>f(b,S),[s]),ff(xc(),(b,w,S)=>{S.mouseIsDown.get()&&f(b,S)},[s])])}))}),mU=iv("top-left"),hU=iv("top"),J8=iv("top-right"),eL=iv("right"),gU=iv("bottom-right"),pU=iv("bottom"),bU=iv("bottom-left"),Sm=iv("left"),ep=Sc({name:"thumb",defaults:ie({dom:{styles:{position:"absolute"}}}),overrides:n=>({events:oa([Qm(ed(),n,"spectrum"),Qm(Xa(),n,"spectrum"),Qm($l(),n,"spectrum"),Qm(uu(),n,"spectrum"),Qm(xc(),n,"spectrum"),Qm(Mf(),n,"spectrum")])})}),nE=n=>c1(n.event),SO=Sc({schema:[yc("mouseIsDown",()=>Mn(!1))],name:"spectrum",overrides:n=>{const i=n.model.manager,f=(b,w)=>i.getValueFromEvent(w).map(S=>i.setValueFrom(b,n,S));return{behaviours:a([lo.config({mode:"special",onLeft:(b,w)=>i.onLeft(b,n,nE(w)),onRight:(b,w)=>i.onRight(b,n,nE(w)),onUp:(b,w)=>i.onUp(b,n,nE(w)),onDown:(b,w)=>i.onDown(b,n,nE(w))}),ua.config({}),et.config({})]),events:oa([Mt(ed(),f),Mt(Xa(),f),Mt(uu(),f),Mt(xc(),(b,w)=>{n.mouseIsDown.get()&&f(b,w)})])}}});var EO=[fU,Sm,eL,hU,pU,mU,J8,bU,gU,ep,SO];const oE=ie("slider.change.value"),tL=n=>n.type.indexOf("touch")!==-1,$2=n=>{const s=n.event.raw;if(tL(s)){const i=s;return i.touches!==void 0&&i.touches.length===1?P.some(i.touches[0]).map(f=>hr(f.clientX,f.clientY)):P.none()}else{const i=s;return i.clientX!==void 0?P.some(i).map(f=>hr(f.clientX,f.clientY)):P.none()}},yU="top",vk="right",AO="bottom",nL="left",p0=n=>n.model.minX,I2=n=>n.model.minY,xk=n=>n.model.minX-1,ah=n=>n.model.minY-1,gu=n=>n.model.maxX,b0=n=>n.model.maxY,Ud=n=>n.model.maxX+1,wk=n=>n.model.maxY+1,da=(n,s,i)=>s(n)-i(n),kO=n=>da(n,gu,p0),y0=n=>da(n,b0,I2),Mw=n=>kO(n)/2,DO=n=>y0(n)/2,lv=(n,s)=>s?n.stepSize*n.speedMultiplier:n.stepSize,Ck=n=>n.snapToGrid,oL=n=>n.snapStart,Sk=n=>n.rounded,Ek=(n,s)=>n[s+"-edge"]!==void 0,_O=n=>Ek(n,nL),OO=n=>Ek(n,vk),Tk=n=>Ek(n,yU),RO=n=>Ek(n,AO),tp=n=>n.model.value.get(),cv=(n,s)=>({x:n,y:s}),np=(n,s)=>{so(n,oE(),{value:s})},vU=(n,s)=>{np(n,cv(xk(s),ah(s)))},xU=(n,s)=>{np(n,ah(s))},wU=(n,s)=>{np(n,cv(Mw(s),ah(s)))},sL=(n,s)=>{np(n,cv(Ud(s),ah(s)))},CU=(n,s)=>{np(n,Ud(s))},SU=(n,s)=>{np(n,cv(Ud(s),DO(s)))},rL=(n,s)=>{np(n,cv(Ud(s),wk(s)))},EU=(n,s)=>{np(n,wk(s))},aL=(n,s)=>{np(n,cv(Mw(s),wk(s)))},sE=(n,s)=>{np(n,cv(xk(s),wk(s)))},TU=(n,s)=>{np(n,xk(s))},AU=(n,s)=>{np(n,cv(xk(s),DO(s)))},Ak=(n,s,i,f)=>n<s?n:n>i?i:n===s?s-1:Math.max(s,n-f),kk=(n,s,i,f)=>n>i?n:n<s?s:n===i?i+1:Math.min(i,n+f),Dk=(n,s,i)=>Math.max(s,Math.min(i,n)),iL=(n,s,i,f,b)=>b.fold(()=>{const w=n-s,S=Math.round(w/f)*f;return Dk(s+S,s-1,i+1)},w=>{const S=(n-w)%f,_=Math.round(S/f),M=Math.floor((n-w)/f),I=Math.floor((i-w)/f),Z=Math.min(I,M+_),K=w+Z*f;return Math.max(w,K)}),kU=(n,s,i)=>Math.min(i,Math.max(n,s))-s,lL=n=>{const{min:s,max:i,range:f,value:b,step:w,snap:S,snapStart:_,rounded:M,hasMinEdge:I,hasMaxEdge:Z,minBound:K,maxBound:le,screenRange:he}=n,ye=I?s-1:s,_e=Z?i+1:i;if(b<K)return ye;if(b>le)return _e;{const Ie=kU(b,K,le),Se=Dk(Ie/he*f+s,ye,_e);return S&&Se>=s&&Se<=i?iL(Se,s,i,w,_):M?Math.round(Se):Se}},cL=n=>{const{min:s,max:i,range:f,value:b,hasMinEdge:w,hasMaxEdge:S,maxBound:_,maxOffset:M,centerMinEdge:I,centerMaxEdge:Z}=n;return b<s?w?0:I:b>i?S?_:Z:(b-s)/f*M},NO="top",uL="right",dL="bottom",_k="left",op="width",DU="height",sp=n=>n.element.dom.getBoundingClientRect(),ng=(n,s)=>n[s],rE=n=>{const s=sp(n);return ng(s,_k)},fL=n=>{const s=sp(n);return ng(s,uL)},aE=n=>{const s=sp(n);return ng(s,NO)},MO=n=>{const s=sp(n);return ng(s,dL)},BO=n=>{const s=sp(n);return ng(s,op)},mL=n=>{const s=sp(n);return ng(s,DU)},hL=(n,s,i)=>(n+s)/2-i,gL=(n,s)=>{const i=sp(n),f=sp(s),b=ng(i,_k),w=ng(i,uL),S=ng(f,_k);return hL(b,w,S)},pL=(n,s)=>{const i=sp(n),f=sp(s),b=ng(i,NO),w=ng(i,dL),S=ng(f,NO);return hL(b,w,S)},Ok=(n,s)=>{so(n,oE(),{value:s})},LO=(n,s,i)=>{const f={min:p0(s),max:gu(s),range:kO(s),value:i,step:lv(s),snap:Ck(s),snapStart:oL(s),rounded:Sk(s),hasMinEdge:_O(s),hasMaxEdge:OO(s),minBound:rE(n),maxBound:fL(n),screenRange:BO(n)};return lL(f)},_U=(n,s,i)=>{const f=LO(n,s,i);return Ok(n,f),f},bL=(n,s)=>{const i=p0(s);Ok(n,i)},yL=(n,s)=>{const i=gu(s);Ok(n,i)},vL=(n,s,i,f)=>{const w=(n>0?kk:Ak)(tp(i),p0(i),gu(i),lv(i,f));return Ok(s,w),P.some(w)},PO=n=>(s,i,f)=>vL(n,s,i,f).map(Pt),OU=n=>$2(n).map(i=>i.left),RU=(n,s,i,f,b)=>{const S=BO(n),_=f.bind(Z=>P.some(gL(Z,n))).getOr(0),M=b.bind(Z=>P.some(gL(Z,n))).getOr(S),I={min:p0(s),max:gu(s),range:kO(s),value:i,hasMinEdge:_O(s),hasMaxEdge:OO(s),minBound:rE(n),maxBound:fL(n),maxOffset:S,centerMinEdge:_,centerMaxEdge:M};return cL(I)},FO=(n,s,i,f,b,w)=>{const S=RU(s,w,i,f,b);return rE(s)-rE(n)+S},xL=(n,s,i,f)=>{const b=tp(i),w=FO(n,f.getSpectrum(n),b,f.getLeftEdge(n),f.getRightEdge(n),i),S=Mi(s.element)/2;Co(s.element,"left",w-S+"px")},Bw=PO(-1),Rk=PO(1),NU=P.none,wL=P.none,CL={"top-left":P.none(),top:P.none(),"top-right":P.none(),right:P.some(CU),"bottom-right":P.none(),bottom:P.none(),"bottom-left":P.none(),left:P.some(TU)};var SL=Object.freeze({__proto__:null,setValueFrom:_U,setToMin:bL,setToMax:yL,findValueOfOffset:LO,getValueFromEvent:OU,findPositionOfValue:FO,setPositionFromValue:xL,onLeft:Bw,onRight:Rk,onUp:NU,onDown:wL,edgeActions:CL});const iE=(n,s)=>{so(n,oE(),{value:s})},lE=(n,s,i)=>{const f={min:I2(s),max:b0(s),range:y0(s),value:i,step:lv(s),snap:Ck(s),snapStart:oL(s),rounded:Sk(s),hasMinEdge:Tk(s),hasMaxEdge:RO(s),minBound:aE(n),maxBound:MO(n),screenRange:mL(n)};return lL(f)},$O=(n,s,i)=>{const f=lE(n,s,i);return iE(n,f),f},MU=(n,s)=>{const i=I2(s);iE(n,i)},BU=(n,s)=>{const i=b0(s);iE(n,i)},LU=(n,s,i,f)=>{const w=(n>0?kk:Ak)(tp(i),I2(i),b0(i),lv(i,f));return iE(s,w),P.some(w)},IO=n=>(s,i,f)=>LU(n,s,i,f).map(Pt),EL=n=>$2(n).map(i=>i.top),PU=(n,s,i,f,b)=>{const S=mL(n),_=f.bind(Z=>P.some(pL(Z,n))).getOr(0),M=b.bind(Z=>P.some(pL(Z,n))).getOr(S),I={min:I2(s),max:b0(s),range:y0(s),value:i,hasMinEdge:Tk(s),hasMaxEdge:RO(s),minBound:aE(n),maxBound:MO(n),maxOffset:S,centerMinEdge:_,centerMaxEdge:M};return cL(I)},HO=(n,s,i,f,b,w)=>{const S=PU(s,w,i,f,b);return aE(s)-aE(n)+S},TL=(n,s,i,f)=>{const b=tp(i),w=HO(n,f.getSpectrum(n),b,f.getTopEdge(n),f.getBottomEdge(n),i),S=pi(s.element)/2;Co(s.element,"top",w-S+"px")},FU=P.none,$U=P.none,IU=IO(-1),HU=IO(1),zU={"top-left":P.none(),top:P.some(xU),"top-right":P.none(),right:P.none(),"bottom-right":P.none(),bottom:P.some(EU),"bottom-left":P.none(),left:P.none()};var VU=Object.freeze({__proto__:null,setValueFrom:$O,setToMin:MU,setToMax:BU,findValueOfOffset:lE,getValueFromEvent:EL,findPositionOfValue:HO,setPositionFromValue:TL,onLeft:FU,onRight:$U,onUp:IU,onDown:HU,edgeActions:zU});const Nk=(n,s)=>{so(n,oE(),{value:s})},cE=(n,s)=>({x:n,y:s}),AL=(n,s,i)=>{const f=LO(n,s,i.left),b=lE(n,s,i.top),w=cE(f,b);return Nk(n,w),w},jU=(n,s,i,f,b)=>{const w=n>0?kk:Ak,S=s?tp(f).x:w(tp(f).x,p0(f),gu(f),lv(f,b)),_=s?w(tp(f).y,I2(f),b0(f),lv(f,b)):tp(f).y;return Nk(i,cE(S,_)),P.some(S)},Mk=(n,s)=>(i,f,b)=>jU(n,s,i,f,b).map(Pt),UU=(n,s)=>{const i=p0(s),f=I2(s);Nk(n,cE(i,f))},kL=(n,s)=>{const i=gu(s),f=b0(s);Nk(n,cE(i,f))},ZU=n=>$2(n),WU=(n,s,i,f)=>{const b=tp(i),w=FO(n,f.getSpectrum(n),b.x,f.getLeftEdge(n),f.getRightEdge(n),i),S=HO(n,f.getSpectrum(n),b.y,f.getTopEdge(n),f.getBottomEdge(n),i),_=Mi(s.element)/2,M=pi(s.element)/2;Co(s.element,"left",w-_+"px"),Co(s.element,"top",S-M+"px")},qU=Mk(-1,!1),Bk=Mk(1,!1),GU=Mk(-1,!0),KU=Mk(1,!0),YU={"top-left":P.some(vU),top:P.some(wU),"top-right":P.some(sL),right:P.some(SU),"bottom-right":P.some(rL),bottom:P.some(aL),"bottom-left":P.some(sE),left:P.some(AU)};var XU=Object.freeze({__proto__:null,setValueFrom:AL,setToMin:UU,setToMax:kL,getValueFromEvent:ZU,setPositionFromValue:WU,onLeft:qU,onRight:Bk,onUp:GU,onDown:KU,edgeActions:YU});const QU=[ht("stepSize",1),ht("speedMultiplier",10),ht("onChange",J),ht("onChoose",J),ht("onInit",J),ht("onDragStart",J),ht("onDragEnd",J),ht("snapToGrid",!1),ht("rounded",!0),vr("snapStart"),Bc("model",Kl("mode",{x:[ht("minX",0),ht("maxX",100),yc("value",n=>Mn(n.mode.minX)),Wt("getInitialValue"),sr("manager",SL)],y:[ht("minY",0),ht("maxY",100),yc("value",n=>Mn(n.mode.minY)),Wt("getInitialValue"),sr("manager",VU)],xy:[ht("minX",0),ht("maxX",100),ht("minY",0),ht("maxY",100),yc("value",n=>Mn({x:n.mode.minX,y:n.mode.minY})),Wt("getInitialValue"),sr("manager",XU)]})),Ic("sliderBehaviours",[lo,In]),yc("mouseIsDown",()=>Mn(!1))],rp=gf({name:"Slider",configFields:QU,partFields:EO,factory:(n,s,i,f)=>{const b=Ot=>rd(Ot,n,"thumb"),w=Ot=>rd(Ot,n,"spectrum"),S=Ot=>Dr(Ot,n,"left-edge"),_=Ot=>Dr(Ot,n,"right-edge"),M=Ot=>Dr(Ot,n,"top-edge"),I=Ot=>Dr(Ot,n,"bottom-edge"),Z=n.model,K=Z.manager,le=(Ot,kn)=>{K.setPositionFromValue(Ot,kn,n,{getLeftEdge:S,getRightEdge:_,getTopEdge:M,getBottomEdge:I,getSpectrum:w})},he=(Ot,kn)=>{Z.value.set(kn);const Qt=b(Ot);le(Ot,Qt)},ye=(Ot,kn)=>{he(Ot,kn);const Qt=b(Ot);return n.onChange(Ot,Qt,kn),P.some(!0)},_e=Ot=>{K.setToMin(Ot,n)},Ie=Ot=>{K.setToMax(Ot,n)},Se=Ot=>{const kn=()=>{Dr(Ot,n,"thumb").each(rn=>{const on=Z.value.get();n.onChoose(Ot,rn,on)})},Qt=n.mouseIsDown.get();n.mouseIsDown.set(!1),Qt&&kn()},Ye=(Ot,kn)=>{kn.stop(),n.mouseIsDown.set(!0),n.onDragStart(Ot,b(Ot))},st=(Ot,kn)=>{kn.stop(),n.onDragEnd(Ot,b(Ot)),Se(Ot)},xt=Ot=>{Dr(Ot,n,"spectrum").map(lo.focusIn)};return{uid:n.uid,dom:n.dom,components:s,behaviours:Hu(n.sliderBehaviours,[lo.config({mode:"special",focusIn:xt}),In.config({store:{mode:"manual",getValue:Ot=>Z.value.get(),setValue:he}}),fd.config({channels:{[o0()]:{onReceive:Se}}})]),events:oa([Mt(oE(),(Ot,kn)=>{ye(Ot,kn.event.value)}),Lr((Ot,kn)=>{const Qt=Z.getInitialValue();Z.value.set(Qt);const rn=b(Ot);le(Ot,rn);const on=w(Ot);n.onInit(Ot,rn,on,Z.value.get())}),Mt(ed(),Ye),Mt($l(),st),Mt(uu(),(Ot,kn)=>{xt(Ot),Ye(Ot,kn)}),Mt(Mf(),st)]),apis:{resetToMin:_e,resetToMax:Ie,setValue:he,refresh:le},domModification:{styles:{position:"relative"}}}},apis:{setValue:(n,s,i)=>{n.setValue(s,i)},resetToMin:(n,s)=>{n.resetToMin(s)},resetToMax:(n,s)=>{n.resetToMax(s)},refresh:(n,s)=>{n.refresh(s)}}}),DL="container",JU=[Ic("slotBehaviours",[])],_L=n=>"<alloy.field."+n+">",eZ=n=>{const s=(()=>{const w=[];return{slot:(_,M)=>(w.push(_),Nr(DL,_L(_),M)),record:ie(w)}})(),i=n(s),f=s.record(),b=Ze(f,w=>Sc({name:w,pname:_L(w)}));return a_(DL,JU,b,tZ,i)},tZ=(n,s)=>{const i=_e=>ad(n),f=(_e,Ie)=>Dr(_e,n,Ie),b=(_e,Ie)=>(Se,Ye)=>Dr(Se,n,Ye).map(st=>_e(st,Ye)).getOr(Ie),w=_e=>(Ie,Se)=>{bt(Se,Ye=>_e(Ie,Ye))},S=(_e,Ie)=>ea(_e.element,"aria-hidden")!=="true",_=(_e,Ie)=>{if(!S(_e)){const Se=_e.element;cs(Se,"display"),cr(Se,"aria-hidden"),so(_e,$p(),{name:Ie,visible:!0})}},M=(_e,Ie)=>{if(S(_e)){const Se=_e.element;Co(Se,"display","none"),uo(Se,"aria-hidden","true"),so(_e,$p(),{name:Ie,visible:!1})}},I=b(S,!1),Z=b(M),K=w(Z),le=_e=>K(_e,i()),he=b(_),ye={getSlotNames:i,getSlot:f,isShowing:I,hideSlot:Z,hideAllSlots:le,showSlot:he};return{uid:n.uid,dom:n.dom,components:s,behaviours:IS(n.slotBehaviours),apis:ye}},pu={...os({getSlotNames:(n,s)=>n.getSlotNames(s),getSlot:(n,s,i)=>n.getSlot(s,i),isShowing:(n,s,i)=>n.isShowing(s,i),hideSlot:(n,s,i)=>n.hideSlot(s,i),hideAllSlots:(n,s)=>n.hideAllSlots(s),showSlot:(n,s,i)=>n.showSlot(s,i)},n=>x2(n)),sketch:eZ},nZ=(n,s)=>Io(n,(b,w)=>s(w,b.len).fold(ie(b),_=>({len:_.finish,list:b.list.concat([_])})),{len:0,list:[]}).list,zO=(n,s,i)=>({within:n,extra:s,withinWidth:i}),OL=(n,s,i)=>{const f=nZ(n,(_,M)=>{const I=i(_);return P.some({element:_,start:M,finish:M+I,width:I})}),b=vo(f,_=>_.finish<=s),w=Mo(b,(_,M)=>_+M.width,0),S=f.slice(b.length);return{within:b,extra:S,withinWidth:w}},uE=n=>Ze(n,s=>s.element),oZ=(n,s,i)=>{const f=uE(n.concat(s));return zO(f,[],i)},sZ=(n,s,i,f)=>{const b=uE(n).concat([i]);return zO(b,uE(s),f)},rZ=(n,s,i)=>zO(uE(n),[],i),aZ=(n,s,i)=>{const f=OL(s,n,i);return f.extra.length===0?P.some(f):P.none()},iZ=(n,s,i,f)=>{const b=aZ(n,s,i).getOrThunk(()=>OL(s,n-i(f),i)),w=b.within,S=b.extra,_=b.withinWidth;return S.length===1&&S[0].width<=i(f)?oZ(w,S,_):S.length>=1?sZ(w,S,f,_):rZ(w,S,_)},RL=(n,s)=>{const i=Ze(s,f=>D(f));g0.setGroups(n,i)},VO=n=>Jo(n,s=>ai(s.element).bind(i=>s.getSystem().getByDom(i).toOptional())),NL=(n,s,i)=>{const f=s.builtGroups.get();if(f.length===0)return;const b=rd(n,s,"primary"),w=Wo.getCoupled(n,"overflowGroup");Co(b.element,"visibility","hidden");const S=f.concat([w]),_=VO(S);i([]),RL(b,S);const M=Mi(b.element),I=iZ(M,s.builtGroups.get(),Z=>Math.ceil(Z.element.dom.getBoundingClientRect().width),w);I.extra.length===0?(zo.remove(b,w),i([])):(RL(b,I.within),i(I.extra)),cs(b.element,"visibility"),ql(b.element),_.each(et.focus)},ML=ie([Ic("splitToolbarBehaviours",[Wo]),yc("builtGroups",()=>Mn([]))]),lZ=ie([hs(["overflowToggledClass"]),cf("getOverflowBounds"),Wt("lazySink"),yc("overflowGroups",()=>Mn([])),Ls("onOpened"),Ls("onClosed")].concat(ML())),cZ=ie([Sc({factory:g0,schema:Rw(),name:"primary"}),$d({schema:Rw(),name:"overflow"}),$d({name:"overflow-button"}),$d({name:"overflow-group"})]),uZ=ie([Wt("items"),hs(["itemSelector"]),Ic("tgroupBehaviours",[lo])]),dZ=ie([e1({name:"items",unit:"item"})]),fZ=(n,s,i,f)=>({uid:n.uid,dom:n.dom,components:s,behaviours:Hu(n.tgroupBehaviours,[lo.config({mode:"flow",selector:n.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),Lk=gf({name:"ToolbarGroup",configFields:uZ(),partFields:dZ(),factory:fZ}),BL=n=>Ze(n,s=>D(s)),LL=(n,s,i)=>{NL(n,i,f=>{i.overflowGroups.set(f),s.getOpt(n).each(b=>{Zb.setGroups(b,BL(f))})})},mZ=(n,s,i,f)=>{const b=gr(Zb.sketch({fetch:()=>ls.nu(w=>{w(BL(n.overflowGroups.get()))}),layouts:{onLtr:()=>[Kr,Qi],onRtl:()=>[Qi,Kr],onBottomLtr:()=>[kl,Al],onBottomRtl:()=>[Al,kl]},getBounds:i.getOverflowBounds,lazySink:n.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:n.markers.overflowToggledClass},parts:{button:f["overflow-button"](),toolbar:f.overflow()},onToggled:(w,S)=>n[S?"onOpened":"onClosed"](w)}));return{uid:n.uid,dom:n.dom,components:s,behaviours:Hu(n.splitToolbarBehaviours,[Wo.config({others:{overflowGroup:()=>Lk.sketch({...f["overflow-group"](),items:[b.asSpec()]})}})]),apis:{setGroups:(w,S)=>{n.builtGroups.set(Ze(S,w.getSystem().build)),LL(w,b,n)},refresh:w=>LL(w,b,n),toggle:w=>{b.getOpt(w).each(S=>{Zb.toggle(S)})},toggleWithoutFocusing:w=>{b.getOpt(w).each(Zb.toggleWithoutFocusing)},isOpen:w=>b.getOpt(w).map(Zb.isOpen).getOr(!1),reposition:w=>{b.getOpt(w).each(S=>{Zb.reposition(S)})},getOverflow:w=>b.getOpt(w).bind(Zb.getToolbar)},domModification:{attributes:{role:"group"}}}},PL=gf({name:"SplitFloatingToolbar",configFields:lZ(),partFields:cZ(),factory:mZ,apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)},refresh:(n,s)=>{n.refresh(s)},reposition:(n,s)=>{n.reposition(s)},toggle:(n,s)=>{n.toggle(s)},toggleWithoutFocusing:(n,s)=>{n.toggle(s)},isOpen:(n,s)=>n.isOpen(s),getOverflow:(n,s)=>n.getOverflow(s)}}),hZ=ie([hs(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Ls("onOpened"),Ls("onClosed")].concat(ML())),gZ=ie([Sc({factory:g0,schema:Rw(),name:"primary"}),Sc({factory:g0,schema:Rw(),name:"overflow",overrides:n=>({toolbarBehaviours:a([jd.config({dimension:{property:"height"},closedClass:n.markers.closedClass,openClass:n.markers.openClass,shrinkingClass:n.markers.shrinkingClass,growingClass:n.markers.growingClass,onShrunk:s=>{Dr(s,n,"overflow-button").each(i=>{Ns.off(i)}),n.onClosed(s)},onGrown:s=>{n.onOpened(s)},onStartGrow:s=>{Dr(s,n,"overflow-button").each(Ns.on)}}),lo.config({mode:"acyclic",onEscape:s=>(Dr(s,n,"overflow-button").each(et.focus),P.some(!0))})])})}),$d({name:"overflow-button",overrides:n=>({buttonBehaviours:a([Ns.config({toggleClass:n.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),$d({name:"overflow-group"})]),pZ=(n,s)=>Dr(n,s,"overflow").map(jd.hasGrown).getOr(!1),dE=(n,s,i)=>{Dr(n,s,"overflow-button").each(f=>{Dr(n,s,"overflow").each(b=>{if(jO(n,s),jd.hasShrunk(b)){const w=s.onOpened;s.onOpened=S=>{i||lo.focusIn(b),w(S),s.onOpened=w}}else{const w=s.onClosed;s.onClosed=S=>{i||et.focus(f),w(S),s.onClosed=w}}jd.toggleGrow(b)})})},jO=(n,s)=>{Dr(n,s,"overflow").each(i=>{NL(n,s,f=>{const b=Ze(f,w=>D(w));g0.setGroups(i,b)}),Dr(n,s,"overflow-button").each(f=>{jd.hasGrown(i)&&Ns.on(f)}),jd.refresh(i)})},bZ=(n,s,i,f)=>{const b="alloy.toolbar.toggle",w=(S,_)=>{const M=Ze(_,S.getSystem().build);n.builtGroups.set(M)};return{uid:n.uid,dom:n.dom,components:s,behaviours:Hu(n.splitToolbarBehaviours,[Wo.config({others:{overflowGroup:S=>Lk.sketch({...f["overflow-group"](),items:[rc.sketch({...f["overflow-button"](),action:_=>{fs(S,b)}})]})}}),fe("toolbar-toggle-events",[Mt(b,S=>{dE(S,n,!1)})])]),apis:{setGroups:(S,_)=>{w(S,_),jO(S,n)},refresh:S=>jO(S,n),toggle:S=>{dE(S,n,!1)},toggleWithoutFocusing:S=>{dE(S,n,!0)},isOpen:S=>pZ(S,n)},domModification:{attributes:{role:"group"}}}},UO=gf({name:"SplitSlidingToolbar",configFields:hZ(),partFields:gZ(),factory:bZ,apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)},refresh:(n,s)=>{n.refresh(s)},toggle:(n,s)=>{n.toggle(s)},isOpen:(n,s)=>n.isOpen(s)}}),fE=(n,s)=>({uid:n.uid,dom:n.dom,components:n.components,events:Q_(n.action),behaviours:Hu(n.tabButtonBehaviours,[et.config({}),lo.config({mode:"execution",useSpace:!0,useEnter:!0}),In.config({store:{mode:"memory",initialValue:n.value}})]),domModification:n.domModification}),FL=oh({name:"TabButton",configFields:[ht("uid",void 0),Wt("value"),fl("dom","dom",lm(()=>({attributes:{role:"tab",id:me("aria"),"aria-selected":"false"}})),af()),vr("action"),ht("domModification",{}),Ic("tabButtonBehaviours",[et,lo,In]),Wt("view")],factory:fE}),yZ=ie([Wt("tabs"),Wt("dom"),ht("clickToDismiss",!1),Ic("tabbarBehaviours",[fr,lo]),hs(["tabClass","selectedClass"])]),vZ=e1({factory:FL,name:"tabs",unit:"tab",overrides:n=>{const s=(f,b)=>{fr.dehighlight(f,b),so(f,Ip(),{tabbar:f,button:b})},i=(f,b)=>{fr.highlight(f,b),so(f,db(),{tabbar:f,button:b})};return{action:f=>{const b=f.getSystem().getByUid(n.uid).getOrDie(),w=fr.isHighlighted(b,f);(w&&n.clickToDismiss?s:w?J:i)(b,f)},domModification:{classes:[n.markers.tabClass]}}}}),$L=ie([vZ]),xZ=(n,s,i,f)=>({uid:n.uid,dom:n.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Hu(n.tabbarBehaviours,[fr.config({highlightClass:n.markers.selectedClass,itemClass:n.markers.tabClass,onHighlight:(b,w)=>{uo(w.element,"aria-selected","true")},onDehighlight:(b,w)=>{uo(w.element,"aria-selected","false")}}),lo.config({mode:"flow",getInitial:b=>fr.getHighlighted(b).map(w=>w.element),selector:"."+n.markers.tabClass,executeOnMove:!0})])}),IL=gf({name:"Tabbar",configFields:yZ(),partFields:$L(),factory:xZ}),wZ=(n,s)=>({uid:n.uid,dom:n.dom,behaviours:Hu(n.tabviewBehaviours,[zo.config({})]),domModification:{attributes:{role:"tabpanel"}}}),CZ=oh({name:"Tabview",configFields:[Ic("tabviewBehaviours",[zo])],factory:wZ}),SZ=ie([ht("selectFirst",!0),Ls("onChangeTab"),Ls("onDismissTab"),ht("tabs",[]),Ic("tabSectionBehaviours",[])]),EZ=Sc({factory:IL,schema:[Wt("dom"),lf("markers",[Wt("tabClass"),Wt("selectedClass")])],name:"tabbar",defaults:n=>({tabs:n.tabs})}),TZ=Sc({factory:CZ,name:"tabview"}),AZ=ie([EZ,TZ]),HL=(n,s,i,f)=>{const b=S=>{const _=In.getValue(S);Dr(S,n,"tabview").each(M=>{Ne(n.tabs,Z=>Z.value===_).each(Z=>{const K=Z.view();ii(S.element,"id").each(le=>{uo(M.element,"aria-labelledby",le)}),zo.set(M,K),n.onChangeTab(M,S,K)})})},w=(S,_)=>{Dr(S,n,"tabbar").each(M=>{_(M).each(r1)})};return{uid:n.uid,dom:n.dom,components:s,behaviours:IS(n.tabSectionBehaviours),events:oa(tt([n.selectFirst?[Lr((S,_)=>{w(S,fr.getFirst)})]:[],[Mt(db(),(S,_)=>{const M=_.event.button;b(M)}),Mt(Ip(),(S,_)=>{const M=_.event.button;n.onDismissTab(S,M)})]])),apis:{getViewItems:S=>Dr(S,n,"tabview").map(_=>zo.contents(_)).getOr([]),showTab:(S,_)=>{w(S,I=>{const Z=fr.getCandidates(I);return Ne(Z,le=>In.getValue(le)===_).filter(le=>!fr.isHighlighted(I,le))})}}}},H2=gf({name:"TabSection",configFields:SZ(),partFields:AZ(),factory:HL,apis:{getViewItems:(n,s)=>n.getViewItems(s),showTab:(n,s,i)=>{n.showTab(s,i)}}}),Pk=(n,s,i)=>{const f=In.getValue(i);In.setValue(s,f),WO(s)},ZO=(n,s)=>{const i=n.element,f=pc(i),b=i.dom;ea(i,"type")!=="number"&&s(b,f)},WO=n=>{ZO(n,(s,i)=>s.setSelectionRange(i.length,i.length))},zL=(n,s)=>{ZO(n,(i,f)=>i.setSelectionRange(s,f.length))},VL=(n,s,i)=>{if(n.selectsOver){const f=In.getValue(s),b=n.getDisplayText(f),w=In.getValue(i);return n.getDisplayText(w).indexOf(b)===0?P.some(()=>{Pk(n,s,i),zL(s,b.length)}):P.none()}else return P.none()},qO=ie("alloy.typeahead.itemexecute"),kZ=(n,s,i,f)=>{const b=(K,le,he)=>{n.previewing.set(!1);const ye=Wo.getCoupled(K,"sandbox");if(ar.isOpen(ye))It.getCurrent(ye).each(_e=>{fr.getHighlighted(_e).fold(()=>{he(_e)},()=>{i1(ye,_e.element,"keydown",le)})});else{const _e=Ie=>{It.getCurrent(Ie).each(he)};pk(n,S(K),K,ye,f,_e,Ec.HighlightMenuAndItem).get(J)}},w=X8(n),S=K=>le=>le.map(he=>{const ye=Ma(he.menus),_e=Be(ye,Se=>vo(Se.items,Ye=>Ye.type==="item"));return In.getState(K).update(Ze(_e,Se=>Se.data)),he}),_=K=>It.getCurrent(K),M="typeaheadevents",I=[et.config({}),In.config({onSetValue:n.onSetValue,store:{mode:"dataset",getDataKey:K=>pc(K.element),getFallbackEntry:K=>({value:K,meta:{}}),setValue:(K,le)=>{Dd(K.element,n.model.getDisplayText(le))},...n.initialData.map(K=>za("initialValue",K)).getOr({})}}),_w.config({stream:{mode:"throttle",delay:n.responseTime,stopEvent:!1},onStream:(K,le)=>{const he=Wo.getCoupled(K,"sandbox");if(et.isFocused(K)&&pc(K.element).length>=n.minChars){const _e=_(he).bind(Se=>fr.getHighlighted(Se).map(In.getValue));n.previewing.set(!0);const Ie=Se=>{_(he).each(Ye=>{_e.fold(()=>{n.model.selectsOver&&fr.highlightFirst(Ye)},st=>{fr.highlightBy(Ye,xt=>In.getValue(xt).value===st.value),fr.getHighlighted(Ye).orThunk(()=>(fr.highlightFirst(Ye),P.none()))})})};pk(n,S(K),K,he,f,Ie,Ec.HighlightJustMenu).get(J)}},cancelEvent:Pu()}),lo.config({mode:"special",onDown:(K,le)=>(b(K,le,fr.highlightFirst),P.some(!0)),onEscape:K=>{const le=Wo.getCoupled(K,"sandbox");return ar.isOpen(le)?(ar.close(le),P.some(!0)):P.none()},onUp:(K,le)=>(b(K,le,fr.highlightLast),P.some(!0)),onEnter:K=>{const le=Wo.getCoupled(K,"sandbox"),he=ar.isOpen(le);if(he&&!n.previewing.get())return _(le).bind(ye=>fr.getHighlighted(ye)).map(ye=>(so(K,qO(),{item:ye}),!0));{const ye=In.getValue(K);return fs(K,Pu()),n.onExecute(le,K,ye),he&&ar.close(le),P.some(!0)}}}),Ns.config({toggleClass:n.markers.openClass,aria:{mode:"expanded"}}),Wo.config({others:{sandbox:K=>V8(n,K,{onOpen:()=>Ns.on(K),onClose:()=>{n.lazyTypeaheadComp.get().each(le=>cr(le.element,"aria-activedescendant")),Ns.off(K)}})}}),fe(M,[Lr(K=>{n.lazyTypeaheadComp.set(P.some(K))}),mf(K=>{n.lazyTypeaheadComp.set(P.none())}),wm(K=>{const le=J;bk(n,S(K),K,f,le,Ec.HighlightMenuAndItem).get(J)}),Mt(qO(),(K,le)=>{const he=Wo.getCoupled(K,"sandbox");Pk(n.model,K,le.event.item),fs(K,Pu()),n.onItemExecute(K,he,le.event.item,In.getValue(K)),ar.close(he),WO(K)})].concat(n.dismissOnBlur?[Mt(Pp(),K=>{const le=Wo.getCoupled(K,"sandbox");ai(le.element).isNone()&&ar.close(le)})]:[]))],Z={[wc()]:[In.name(),_w.name(),M],...n.eventOrder};return{uid:n.uid,dom:xO(qt(n,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...w,...Hu(n.typeaheadBehaviours,I)},eventOrder:Z}},DZ=ie([vr("lazySink"),Wt("fetch"),ht("minChars",5),ht("responseTime",1e3),Ls("onOpen"),ht("getHotspot",P.some),ht("getAnchorOverrides",ie({})),ht("layouts",P.none()),ht("eventOrder",{}),Lh("model",{},[ht("getDisplayText",n=>n.meta!==void 0&&n.meta.text!==void 0?n.meta.text:n.value),ht("selectsOver",!0),ht("populateFromBrowse",!0)]),Ls("onSetValue"),tc("onExecute"),Ls("onItemExecute"),ht("inputClasses",[]),ht("inputAttributes",{}),ht("inputStyles",{}),ht("matchWidth",!0),ht("useMinWidth",!1),ht("dismissOnBlur",!0),hs(["openClass"]),vr("initialData"),vr("listRole"),Ic("typeaheadBehaviours",[et,In,_w,lo,Ns,Wo]),yc("lazyTypeaheadComp",()=>Mn(P.none)),yc("previewing",()=>Mn(!0))].concat(vO()).concat(hO())),_Z=ie([$d({schema:[Ox()],name:"menu",overrides:n=>({fakeFocus:!0,onHighlightItem:(s,i,f)=>{n.previewing.get()?n.lazyTypeaheadComp.get().each(b=>{VL(n.model,b,f).fold(()=>{n.model.selectsOver?(fr.dehighlight(i,f),n.previewing.set(!0)):n.previewing.set(!1)},(w=>{w(),n.previewing.set(!1)}))}):n.lazyTypeaheadComp.get().each(b=>{n.model.populateFromBrowse&&Pk(n.model,b,f),ii(f.element,"id").each(w=>uo(b.element,"aria-activedescendant",w))})},onExecute:(s,i)=>n.lazyTypeaheadComp.get().map(f=>(so(f,qO(),{item:i}),!0)),onHover:(s,i)=>{n.previewing.set(!1),n.lazyTypeaheadComp.get().each(f=>{n.model.populateFromBrowse&&Pk(n.model,f,i)})}})})]),GO=gf({name:"Typeahead",configFields:DZ(),partFields:_Z(),factory:kZ});var jL=tinymce.util.Tools.resolve("tinymce.ThemeManager"),Fk=tinymce.util.Tools.resolve("tinymce.util.Delay"),Lw=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),OZ=tinymce.util.Tools.resolve("tinymce.EditorManager"),Pw=tinymce.util.Tools.resolve("tinymce.Env"),ih;(function(n){n.default="wrap",n.floating="floating",n.sliding="sliding",n.scrolling="scrolling"})(ih||(ih={}));var Fw;(function(n){n.auto="auto",n.top="top",n.bottom="bottom"})(Fw||(Fw={}));const jr=n=>s=>s.options.get(n),$w=n=>s=>P.from(n(s)),UL=n=>{const s=Pw.deviceType.isPhone(),i=Pw.deviceType.isTablet()||s,f=n.options.register,b=S=>H(S)||S===!1,w=S=>H(S)||ct(S);f("skin",{processor:S=>H(S)||S===!1,default:"oxide"}),f("skin_url",{processor:"string"}),f("height",{processor:w,default:Math.max(n.getElement().offsetHeight,400)}),f("width",{processor:w,default:Lw.DOM.getStyle(n.getElement(),"width")}),f("min_height",{processor:"number",default:100}),f("min_width",{processor:"number"}),f("max_height",{processor:"number"}),f("max_width",{processor:"number"}),f("style_formats",{processor:"object[]"}),f("style_formats_merge",{processor:"boolean",default:!1}),f("style_formats_autohide",{processor:"boolean",default:!1}),f("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),f("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),f("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),f("font_size_input_default_unit",{processor:"string",default:"pt"}),f("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),f("content_langs",{processor:"object[]"}),f("removed_menuitems",{processor:"string",default:""}),f("menubar",{processor:S=>H(S)||ue(S),default:!s}),f("menu",{processor:"object",default:{}}),f("toolbar",{processor:S=>ue(S)||H(S)||Y(S)?{value:S,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),je(9,S=>{f("toolbar"+(S+1),{processor:"string"})}),f("toolbar_mode",{processor:"string",default:i?"scrolling":"floating"}),f("toolbar_groups",{processor:"object",default:{}}),f("toolbar_location",{processor:"string",default:Fw.auto}),f("toolbar_persist",{processor:"boolean",default:!1}),f("toolbar_sticky",{processor:"boolean",default:n.inline}),f("toolbar_sticky_offset",{processor:"number",default:0}),f("fixed_toolbar_container",{processor:"string",default:""}),f("fixed_toolbar_container_target",{processor:"object"}),f("ui_mode",{processor:"string",default:"combined"}),f("file_picker_callback",{processor:"function"}),f("file_picker_validator_handler",{processor:"function"}),f("file_picker_types",{processor:"string"}),f("typeahead_urls",{processor:"boolean",default:!0}),f("anchor_top",{processor:b,default:"#top"}),f("anchor_bottom",{processor:b,default:"#bottom"}),f("draggable_modal",{processor:"boolean",default:!1}),f("statusbar",{processor:"boolean",default:!0}),f("elementpath",{processor:"boolean",default:!0}),f("branding",{processor:"boolean",default:!0}),f("promotion",{processor:"boolean",default:!0}),f("resize",{processor:S=>S==="both"||ue(S),default:!Pw.deviceType.isTouch()}),f("sidebar_show",{processor:"string"}),f("help_accessibility",{processor:"boolean",default:n.hasPlugin("help")}),f("default_font_stack",{processor:"string[]",default:[]})},ZL=jr("readonly"),$k=jr("disabled"),KO=jr("height"),YO=jr("width"),XO=$w(jr("min_width")),QO=$w(jr("min_height")),Ik=$w(jr("max_width")),JO=$w(jr("max_height")),WL=$w(jr("style_formats")),qL=jr("style_formats_merge"),e5=jr("style_formats_autohide"),GL=jr("content_langs"),KL=jr("removed_menuitems"),z2=jr("toolbar_mode"),YL=jr("toolbar_groups"),t5=jr("toolbar_location"),Hk=jr("fixed_toolbar_container"),XL=jr("fixed_toolbar_container_target"),QL=jr("toolbar_persist"),JL=jr("toolbar_sticky_offset"),eP=jr("menubar"),zk=jr("toolbar"),tP=jr("file_picker_callback"),nP=jr("file_picker_validator_handler"),Vk=jr("font_size_input_default_unit"),n5=jr("file_picker_types"),o5=jr("typeahead_urls"),oP=jr("anchor_top"),s5=jr("anchor_bottom"),sP=jr("draggable_modal"),rP=jr("statusbar"),aP=jr("elementpath"),r5=jr("branding"),iP=jr("resize"),lP=jr("paste_as_text"),cP=jr("sidebar_show"),uP=jr("promotion"),dP=jr("help_accessibility"),fP=jr("default_font_stack"),mE=jr("skin"),hE=n=>n.options.get("skin")===!1,Iw=n=>n.options.get("menubar")!==!1,a5=n=>{const s=n.options.get("skin_url");if(hE(n))return s;if(s)return n.documentBaseURI.toAbsolute(s);{const i=n.options.get("skin");return OZ.baseURL+"/skins/ui/"+i}},RZ=n=>P.from(n.options.get("skin_url")),mP=n=>n.options.get("line_height_formats").split(" "),Hw=n=>{const s=zk(n),i=H(s),f=Y(s)&&s.length>0;return!uv(n)&&(f||i||s===!0)},gE=n=>{const s=je(9,f=>n.options.get("toolbar"+(f+1))),i=vo(s,H);return Sa(i.length>0,i)},uv=n=>gE(n).fold(()=>{const s=zk(n);return Ue(s,H)&&s.length>0},Pt),jk=n=>t5(n)===Fw.bottom,hP=n=>{if(!n.inline)return P.none();const s=Hk(n)??"";if(s.length>0)return ur(Ml(),s);const i=XL(n);return $e(i)?P.some(fn.fromDom(i)):P.none()},zw=n=>n.inline&&hP(n).isSome(),i5=n=>hP(n).getOrThunk(()=>vd(Ti(fn.fromDom(n.getElement())))),l5=n=>n.inline&&!Iw(n)&&!Hw(n)&&!uv(n),Vw=n=>(n.options.get("toolbar_sticky")||n.inline)&&!zw(n)&&!l5(n),dv=n=>!zw(n)&&n.options.get("ui_mode")==="split",gP=n=>{const s=n.options.get("menu");return os(s,i=>({...i,items:i.items}))};var NZ=Object.freeze({__proto__:null,get ToolbarMode(){return ih},get ToolbarLocation(){return Fw},register:UL,getSkinUrl:a5,getSkinUrlOption:RZ,isReadOnly:ZL,isDisabled:$k,getSkin:mE,isSkinDisabled:hE,getHeightOption:KO,getWidthOption:YO,getMinWidthOption:XO,getMinHeightOption:QO,getMaxWidthOption:Ik,getMaxHeightOption:JO,getUserStyleFormats:WL,shouldMergeStyleFormats:qL,shouldAutoHideStyleFormats:e5,getLineHeightFormats:mP,getContentLanguages:GL,getRemovedMenuItems:KL,isMenubarEnabled:Iw,isMultipleToolbars:uv,isToolbarEnabled:Hw,isToolbarPersist:QL,getMultipleToolbarsOption:gE,getUiContainer:i5,useFixedContainer:zw,isSplitUiMode:dv,getToolbarMode:z2,isDraggableModal:sP,isDistractionFree:l5,isStickyToolbar:Vw,getStickyToolbarOffset:JL,getToolbarLocation:t5,isToolbarLocationBottom:jk,getToolbarGroups:YL,getMenus:gP,getMenubar:eP,getToolbar:zk,getFilePickerCallback:tP,getFilePickerTypes:n5,useTypeaheadUrls:o5,getAnchorTop:oP,getAnchorBottom:s5,getFilePickerValidatorHandler:nP,getFontSizeInputDefaultUnit:Vk,useStatusBar:rP,useElementPath:aP,promotionEnabled:uP,useBranding:r5,getResize:iP,getPasteAsText:lP,getSidebarShow:cP,useHelpAccessibility:dP,getDefaultFontStack:fP});const MZ=["visible","hidden","clip"],pP=n=>An(n).length>0&&!Me(MZ,n),bP=n=>{if(De(n)){const s=yr(n,"overflow-x"),i=yr(n,"overflow-y");return pP(s)||pP(i)}else return!1},yP=n=>n.plugins.fullscreen&&n.plugins.fullscreen.isFullscreen(),BZ=(n,s)=>{const i=aa(s,bP),f=i.length===0?fa(s).map(xs).map(b=>aa(b,bP)).getOr([]):i;return sn(f).map(b=>({element:b,others:f.slice(1),isFullscreen:()=>yP(n)}))},Wb=(n,s)=>dv(n)?BZ(n,s):P.none(),V2=n=>{const s=[...Ze(n.others,Di),bc()];return n.isFullscreen()?bc():my(Di(n.element),s)};const{entries:vP,setPrototypeOf:v0,isFrozen:LZ,getPrototypeOf:PZ,getOwnPropertyDescriptor:c5}=Object;let{freeze:xa,seal:ap,create:xP}=Object,{apply:u5,construct:d5}=typeof Reflect<"u"&&Reflect;xa||(xa=function(s){return s}),ap||(ap=function(s){return s}),u5||(u5=function(s,i,f){return s.apply(i,f)}),d5||(d5=function(s,i){return new s(...i)});const Uk=Tm(Array.prototype.forEach),FZ=Tm(Array.prototype.lastIndexOf),wP=Tm(Array.prototype.pop),pE=Tm(Array.prototype.push),$Z=Tm(Array.prototype.splice),Zk=Tm(String.prototype.toLowerCase),f5=Tm(String.prototype.toString),CP=Tm(String.prototype.match),bE=Tm(String.prototype.replace),IZ=Tm(String.prototype.indexOf),HZ=Tm(String.prototype.trim),x0=Tm(Object.prototype.hasOwnProperty),Em=Tm(RegExp.prototype.test),yE=zZ(TypeError);function Tm(n){return function(s){s instanceof RegExp&&(s.lastIndex=0);for(var i=arguments.length,f=new Array(i>1?i-1:0),b=1;b<i;b++)f[b-1]=arguments[b];return u5(n,s,f)}}function zZ(n){return function(){for(var s=arguments.length,i=new Array(s),f=0;f<s;f++)i[f]=arguments[f];return d5(n,i)}}function wa(n,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Zk;v0&&v0(n,null);let f=s.length;for(;f--;){let b=s[f];if(typeof b=="string"){const w=i(b);w!==b&&(LZ(s)||(s[f]=w),b=w)}n[b]=!0}return n}function VZ(n){for(let s=0;s<n.length;s++)x0(n,s)||(n[s]=null);return n}function qb(n){const s=xP(null);for(const[i,f]of vP(n))x0(n,i)&&(Array.isArray(f)?s[i]=VZ(f):f&&typeof f=="object"&&f.constructor===Object?s[i]=qb(f):s[i]=f);return s}function vE(n,s){for(;n!==null;){const f=c5(n,s);if(f){if(f.get)return Tm(f.get);if(typeof f.value=="function")return Tm(f.value)}n=PZ(n)}function i(){return null}return i}const SP=xa(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Wk=xa(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),m5=xa(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),EP=xa(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),h5=xa(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),TP=xa(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),AP=xa(["#text"]),g5=xa(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),p5=xa(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),kP=xa(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),qk=xa(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),jZ=ap(/\{\{[\w\W]*|[\w\W]*\}\}/gm),UZ=ap(/<%[\w\W]*|[\w\W]*%>/gm),ZZ=ap(/\$\{[\w\W]*/gm),WZ=ap(/^data-[\-\w.\u00B7-\uFFFF]+$/),qZ=ap(/^aria-[\-\w]+$/),DP=ap(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),GZ=ap(/^(?:\w+script|data):/i),KZ=ap(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),_P=ap(/^html$/i),YZ=ap(/^[a-z][.\w]*(-[.\w]+)+$/i);var b5=Object.freeze({__proto__:null,ARIA_ATTR:qZ,ATTR_WHITESPACE:KZ,CUSTOM_ELEMENT:YZ,DATA_ATTR:WZ,DOCTYPE_NAME:_P,ERB_EXPR:UZ,IS_ALLOWED_URI:DP,IS_SCRIPT_OR_DATA:GZ,MUSTACHE_EXPR:jZ,TMPLIT_EXPR:ZZ});const xE={element:1,text:3,progressingInstruction:7,comment:8,document:9},XZ=function(){return typeof window>"u"?null:window},QZ=function(s,i){if(typeof s!="object"||typeof s.createPolicy!="function")return null;let f=null;const b="data-tt-policy-suffix";i&&i.hasAttribute(b)&&(f=i.getAttribute(b));const w="dompurify"+(f?"#"+f:"");try{return s.createPolicy(w,{createHTML(S){return S},createScriptURL(S){return S}})}catch{return console.warn("TrustedTypes policy "+w+" could not be created."),null}},OP=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function RP(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:XZ();const s=t=>RP(t);if(s.version="3.2.6",s.removed=[],!n||!n.document||n.document.nodeType!==xE.document||!n.Element)return s.isSupported=!1,s;let{document:i}=n;const f=i,b=f.currentScript,{DocumentFragment:w,HTMLTemplateElement:S,Node:_,Element:M,NodeFilter:I,NamedNodeMap:Z=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:K,DOMParser:le,trustedTypes:he}=n,ye=M.prototype,_e=vE(ye,"cloneNode"),Ie=vE(ye,"remove"),Se=vE(ye,"nextSibling"),Ye=vE(ye,"childNodes"),st=vE(ye,"parentNode");if(typeof S=="function"){const t=i.createElement("template");t.content&&t.content.ownerDocument&&(i=t.content.ownerDocument)}let xt,Ot="";const{implementation:kn,createNodeIterator:Qt,createDocumentFragment:rn,getElementsByTagName:on}=i,{importNode:mo}=f;let to=OP();s.isSupported=typeof vP=="function"&&typeof st=="function"&&kn&&kn.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ys,ERB_EXPR:ho,TMPLIT_EXPR:Vo,DATA_ATTR:no,ARIA_ATTR:Kt,IS_SCRIPT_OR_DATA:vn,ATTR_WHITESPACE:Eo,CUSTOM_ELEMENT:Ko}=b5;let{IS_ALLOWED_URI:ao}=b5,qo=null;const Ur=wa({},[...SP,...Wk,...m5,...h5,...AP]);let pr=null;const zu=wa({},[...g5,...p5,...kP,...qk]);let ei=Object.seal(xP(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Kf=null,Vc=null,dh=!0,bu=!0,ug=!1,Sv=!0,N1=!1,vC=!0,M1=!1,mT=!1,DM=!1,xC=!1,wC=!1,CC=!1,vH=!0,_M=!1;const MJ="user-content-";let OM=!0,SC=!1,EC={},up=null;const RM=wa({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let xH=null;const hT=wa({},["audio","video","img","source","image","track"]);let Ev=null;const gT=wa({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pT="http://www.w3.org/1998/Math/MathML",dx="http://www.w3.org/2000/svg",lc="http://www.w3.org/1999/xhtml";let oy=lc,k3=!1,D3=null;const BJ=wa({},[pT,dx,lc],f5);let _3=wa({},["mi","mo","mn","ms","mtext"]),k0=wa({},["annotation-xml"]);const noe=wa({},["title","style","font","a","script"]);let bT=null;const wH=["application/xhtml+xml","text/html"],TC="text/html";let yu=null,fx=null;const LJ=i.createElement("form"),CH=function(o){return o instanceof RegExp||o instanceof Function},NM=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(fx&&fx===o)){if((!o||typeof o!="object")&&(o={}),o=qb(o),bT=wH.indexOf(o.PARSER_MEDIA_TYPE)===-1?TC:o.PARSER_MEDIA_TYPE,yu=bT==="application/xhtml+xml"?f5:Zk,qo=x0(o,"ALLOWED_TAGS")?wa({},o.ALLOWED_TAGS,yu):Ur,pr=x0(o,"ALLOWED_ATTR")?wa({},o.ALLOWED_ATTR,yu):zu,D3=x0(o,"ALLOWED_NAMESPACES")?wa({},o.ALLOWED_NAMESPACES,f5):BJ,Ev=x0(o,"ADD_URI_SAFE_ATTR")?wa(qb(gT),o.ADD_URI_SAFE_ATTR,yu):gT,xH=x0(o,"ADD_DATA_URI_TAGS")?wa(qb(hT),o.ADD_DATA_URI_TAGS,yu):hT,up=x0(o,"FORBID_CONTENTS")?wa({},o.FORBID_CONTENTS,yu):RM,Kf=x0(o,"FORBID_TAGS")?wa({},o.FORBID_TAGS,yu):qb({}),Vc=x0(o,"FORBID_ATTR")?wa({},o.FORBID_ATTR,yu):qb({}),EC=x0(o,"USE_PROFILES")?o.USE_PROFILES:!1,dh=o.ALLOW_ARIA_ATTR!==!1,bu=o.ALLOW_DATA_ATTR!==!1,ug=o.ALLOW_UNKNOWN_PROTOCOLS||!1,Sv=o.ALLOW_SELF_CLOSE_IN_ATTR!==!1,N1=o.SAFE_FOR_TEMPLATES||!1,vC=o.SAFE_FOR_XML!==!1,M1=o.WHOLE_DOCUMENT||!1,xC=o.RETURN_DOM||!1,wC=o.RETURN_DOM_FRAGMENT||!1,CC=o.RETURN_TRUSTED_TYPE||!1,DM=o.FORCE_BODY||!1,vH=o.SANITIZE_DOM!==!1,_M=o.SANITIZE_NAMED_PROPS||!1,OM=o.KEEP_CONTENT!==!1,SC=o.IN_PLACE||!1,ao=o.ALLOWED_URI_REGEXP||DP,oy=o.NAMESPACE||lc,_3=o.MATHML_TEXT_INTEGRATION_POINTS||_3,k0=o.HTML_INTEGRATION_POINTS||k0,ei=o.CUSTOM_ELEMENT_HANDLING||{},o.CUSTOM_ELEMENT_HANDLING&&CH(o.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ei.tagNameCheck=o.CUSTOM_ELEMENT_HANDLING.tagNameCheck),o.CUSTOM_ELEMENT_HANDLING&&CH(o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ei.attributeNameCheck=o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),o.CUSTOM_ELEMENT_HANDLING&&typeof o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ei.allowCustomizedBuiltInElements=o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),N1&&(bu=!1),wC&&(xC=!0),EC&&(qo=wa({},AP),pr=[],EC.html===!0&&(wa(qo,SP),wa(pr,g5)),EC.svg===!0&&(wa(qo,Wk),wa(pr,p5),wa(pr,qk)),EC.svgFilters===!0&&(wa(qo,m5),wa(pr,p5),wa(pr,qk)),EC.mathMl===!0&&(wa(qo,h5),wa(pr,kP),wa(pr,qk))),o.ADD_TAGS&&(qo===Ur&&(qo=qb(qo)),wa(qo,o.ADD_TAGS,yu)),o.ADD_ATTR&&(pr===zu&&(pr=qb(pr)),wa(pr,o.ADD_ATTR,yu)),o.ADD_URI_SAFE_ATTR&&wa(Ev,o.ADD_URI_SAFE_ATTR,yu),o.FORBID_CONTENTS&&(up===RM&&(up=qb(up)),wa(up,o.FORBID_CONTENTS,yu)),OM&&(qo["#text"]=!0),M1&&wa(qo,["html","head","body"]),qo.table&&(wa(qo,["tbody"]),delete Kf.tbody),o.TRUSTED_TYPES_POLICY){if(typeof o.TRUSTED_TYPES_POLICY.createHTML!="function")throw yE('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof o.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw yE('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');xt=o.TRUSTED_TYPES_POLICY,Ot=xt.createHTML("")}else xt===void 0&&(xt=QZ(he,b)),xt!==null&&typeof Ot=="string"&&(Ot=xt.createHTML(""));xa&&xa(o),fx=o}},SH=wa({},[...Wk,...m5,...EP]),mx=wa({},[...h5,...TP]),ooe=function(o){let r=st(o);(!r||!r.tagName)&&(r={namespaceURI:oy,tagName:"template"});const l=Zk(o.tagName),h=Zk(r.tagName);return D3[o.namespaceURI]?o.namespaceURI===dx?r.namespaceURI===lc?l==="svg":r.namespaceURI===pT?l==="svg"&&(h==="annotation-xml"||_3[h]):!!SH[l]:o.namespaceURI===pT?r.namespaceURI===lc?l==="math":r.namespaceURI===dx?l==="math"&&k0[h]:!!mx[l]:o.namespaceURI===lc?r.namespaceURI===dx&&!k0[h]||r.namespaceURI===pT&&!_3[h]?!1:!mx[l]&&(noe[l]||!SH[l]):!!(bT==="application/xhtml+xml"&&D3[o.namespaceURI]):!1},B1=function(o){pE(s.removed,{element:o});try{st(o).removeChild(o)}catch{Ie(o)}},AC=function(o,r){try{pE(s.removed,{attribute:r.getAttributeNode(o),from:r})}catch{pE(s.removed,{attribute:null,from:r})}if(r.removeAttribute(o),o==="is")if(xC||wC)try{B1(r)}catch{}else try{r.setAttribute(o,"")}catch{}},PJ=function(o){let r=null,l=null;if(DM)o="<remove></remove>"+o;else{const T=CP(o,/^[\r\n\t ]+/);l=T&&T[0]}bT==="application/xhtml+xml"&&oy===lc&&(o='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+o+"</body></html>");const h=xt?xt.createHTML(o):o;if(oy===lc)try{r=new le().parseFromString(h,bT)}catch{}if(!r||!r.documentElement){r=kn.createDocument(oy,"template",null);try{r.documentElement.innerHTML=k3?Ot:h}catch{}}const v=r.body||r.documentElement;return o&&l&&v.insertBefore(i.createTextNode(l),v.childNodes[0]||null),oy===lc?on.call(r,M1?"html":"body")[0]:M1?r.documentElement:v},EH=function(o){return Qt.call(o.ownerDocument||o,o,I.SHOW_ELEMENT|I.SHOW_COMMENT|I.SHOW_TEXT|I.SHOW_PROCESSING_INSTRUCTION|I.SHOW_CDATA_SECTION,null)},MM=function(o){return o instanceof K&&(typeof o.nodeName!="string"||typeof o.textContent!="string"||typeof o.removeChild!="function"||!(o.attributes instanceof Z)||typeof o.removeAttribute!="function"||typeof o.setAttribute!="function"||typeof o.namespaceURI!="string"||typeof o.insertBefore!="function"||typeof o.hasChildNodes!="function")},kC=function(o){return typeof _=="function"&&o instanceof _};function sy(t,o,r){Uk(t,l=>{l.call(s,o,r,fx)})}const TH=function(o){let r=null;if(sy(to.beforeSanitizeElements,o,null),MM(o))return B1(o),!0;const l=yu(o.nodeName);if(sy(to.uponSanitizeElement,o,{tagName:l,allowedTags:qo}),vC&&o.hasChildNodes()&&!kC(o.firstElementChild)&&Em(/<[/\w!]/g,o.innerHTML)&&Em(/<[/\w!]/g,o.textContent)||o.nodeType===xE.progressingInstruction||vC&&o.nodeType===xE.comment&&Em(/<[/\w]/g,o.data))return B1(o),!0;if(!qo[l]||Kf[l]){if(!Kf[l]&&AH(l)&&(ei.tagNameCheck instanceof RegExp&&Em(ei.tagNameCheck,l)||ei.tagNameCheck instanceof Function&&ei.tagNameCheck(l)))return!1;if(OM&&!up[l]){const h=st(o)||o.parentNode,v=Ye(o)||o.childNodes;if(v&&h){const T=v.length;for(let k=T-1;k>=0;--k){const B=_e(v[k],!0);B.__removalCount=(o.__removalCount||0)+1,h.insertBefore(B,Se(o))}}}return B1(o),!0}return o instanceof M&&!ooe(o)||(l==="noscript"||l==="noembed"||l==="noframes")&&Em(/<\/no(script|embed|frames)/i,o.innerHTML)?(B1(o),!0):(N1&&o.nodeType===xE.text&&(r=o.textContent,Uk([ys,ho,Vo],h=>{r=bE(r,h," ")}),o.textContent!==r&&(pE(s.removed,{element:o.cloneNode()}),o.textContent=r)),sy(to.afterSanitizeElements,o,null),!1)},BM=function(o,r,l){if(vH&&(r==="id"||r==="name")&&(l in i||l in LJ))return!1;if(!(bu&&!Vc[r]&&Em(no,r))){if(!(dh&&Em(Kt,r))){if(!pr[r]||Vc[r]){if(!(AH(o)&&(ei.tagNameCheck instanceof RegExp&&Em(ei.tagNameCheck,o)||ei.tagNameCheck instanceof Function&&ei.tagNameCheck(o))&&(ei.attributeNameCheck instanceof RegExp&&Em(ei.attributeNameCheck,r)||ei.attributeNameCheck instanceof Function&&ei.attributeNameCheck(r))||r==="is"&&ei.allowCustomizedBuiltInElements&&(ei.tagNameCheck instanceof RegExp&&Em(ei.tagNameCheck,l)||ei.tagNameCheck instanceof Function&&ei.tagNameCheck(l))))return!1}else if(!Ev[r]){if(!Em(ao,bE(l,Eo,""))){if(!((r==="src"||r==="xlink:href"||r==="href")&&o!=="script"&&IZ(l,"data:")===0&&xH[o])){if(!(ug&&!Em(vn,bE(l,Eo,"")))){if(l)return!1}}}}}}return!0},AH=function(o){return o!=="annotation-xml"&&CP(o,Ko)},FJ=function(o){sy(to.beforeSanitizeAttributes,o,null);const{attributes:r}=o;if(!r||MM(o))return;const l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:pr,forceKeepAttr:void 0};let h=r.length;for(;h--;){const v=r[h],{name:T,namespaceURI:k,value:B}=v,W=yu(T),G=B;let Q=T==="value"?G:HZ(G);if(l.attrName=W,l.attrValue=Q,l.keepAttr=!0,l.forceKeepAttr=void 0,sy(to.uponSanitizeAttribute,o,l),Q=l.attrValue,_M&&(W==="id"||W==="name")&&(AC(T,o),Q=MJ+Q),vC&&Em(/((--!?|])>)|<\/(style|title)/i,Q)){AC(T,o);continue}if(l.forceKeepAttr)continue;if(!l.keepAttr){AC(T,o);continue}if(!Sv&&Em(/\/>/i,Q)){AC(T,o);continue}N1&&Uk([ys,ho,Vo],ke=>{Q=bE(Q,ke," ")});const ce=yu(o.nodeName);if(!BM(ce,W,Q)){AC(T,o);continue}if(xt&&typeof he=="object"&&typeof he.getAttributeType=="function"&&!k)switch(he.getAttributeType(ce,W)){case"TrustedHTML":{Q=xt.createHTML(Q);break}case"TrustedScriptURL":{Q=xt.createScriptURL(Q);break}}if(Q!==G)try{k?o.setAttributeNS(k,T,Q):o.setAttribute(T,Q),MM(o)?B1(o):wP(s.removed)}catch{AC(T,o)}}sy(to.afterSanitizeAttributes,o,null)},e=function t(o){let r=null;const l=EH(o);for(sy(to.beforeSanitizeShadowDOM,o,null);r=l.nextNode();)sy(to.uponSanitizeShadowNode,r,null),TH(r),FJ(r),r.content instanceof w&&t(r.content);sy(to.afterSanitizeShadowDOM,o,null)};return s.sanitize=function(t){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=null,l=null,h=null,v=null;if(k3=!t,k3&&(t="<!-->"),typeof t!="string"&&!kC(t))if(typeof t.toString=="function"){if(t=t.toString(),typeof t!="string")throw yE("dirty is not a string, aborting")}else throw yE("toString is not a function");if(!s.isSupported)return t;if(mT||NM(o),s.removed=[],typeof t=="string"&&(SC=!1),SC){if(t.nodeName){const B=yu(t.nodeName);if(!qo[B]||Kf[B])throw yE("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof _)r=PJ("<!---->"),l=r.ownerDocument.importNode(t,!0),l.nodeType===xE.element&&l.nodeName==="BODY"||l.nodeName==="HTML"?r=l:r.appendChild(l);else{if(!xC&&!N1&&!M1&&t.indexOf("<")===-1)return xt&&CC?xt.createHTML(t):t;if(r=PJ(t),!r)return xC?null:CC?Ot:""}r&&DM&&B1(r.firstChild);const T=EH(SC?t:r);for(;h=T.nextNode();)TH(h),FJ(h),h.content instanceof w&&e(h.content);if(SC)return t;if(xC){if(wC)for(v=rn.call(r.ownerDocument);r.firstChild;)v.appendChild(r.firstChild);else v=r;return(pr.shadowroot||pr.shadowrootmode)&&(v=mo.call(f,v,!0)),v}let k=M1?r.outerHTML:r.innerHTML;return M1&&qo["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&Em(_P,r.ownerDocument.doctype.name)&&(k="<!DOCTYPE "+r.ownerDocument.doctype.name+`>
`+k),N1&&Uk([ys,ho,Vo],B=>{k=bE(k,B," ")}),xt&&CC?xt.createHTML(k):k},s.setConfig=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};NM(t),mT=!0},s.clearConfig=function(){fx=null,mT=!1},s.isValidAttribute=function(t,o,r){fx||NM({});const l=yu(t),h=yu(o);return BM(l,h,r)},s.addHook=function(t,o){typeof o=="function"&&pE(to[t],o)},s.removeHook=function(t,o){if(o!==void 0){const r=FZ(to[t],o);return r===-1?void 0:$Z(to[t],r,1)[0]}return wP(to[t])},s.removeHooks=function(t){to[t]=[]},s.removeAllHooks=function(){to=OP()},s}var y5=RP();const wE=n=>y5().sanitize(n);var md=tinymce.util.Tools.resolve("tinymce.util.I18n");const Gk={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-disc":!0,"list-bull-default":!0,"list-bull-square":!0},NP="temporary-placeholder",v5=n=>()=>Hn(n,NP).getOr("!not found!"),x5=(n,s)=>{const i=n.toLowerCase();if(md.isRtl()){const f=uc(i,"-rtl");return ts(s,f)?f:i}else return i},MP=(n,s)=>Hn(s,x5(n,s)),JZ=(n,s)=>{const i=s();return MP(n,i).getOrThunk(v5(i))},Kk=(n,s,i)=>{const f=s();return MP(n,f).or(i).getOrThunk(v5(f))},jw=n=>md.isRtl()?ts(Gk,n):!1,w5=()=>fe("add-focusable",[Lr(n=>{_u(n.element,"svg").each(s=>uo(s,"focusable","false"))})]),C5=(n,s,i,f)=>{const b=jw(s)?["tox-icon--flip"]:[],w=Hn(i,x5(s,i)).or(f).getOrThunk(v5(i));return{dom:{tag:n.tag,attributes:n.attributes??{},classes:n.classes.concat(b),innerHtml:w},behaviours:a([...n.behaviours??[],w5()]),eventOrder:n.eventOrder??{}}},lh=(n,s,i,f=P.none())=>C5(s,n,i(),f),eW=(n,s,i)=>{const f=i(),b=Ne(n,w=>ts(f,x5(w,f)));return C5(s,b.getOr(NP),f,P.none())},tW={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},S5=oh({name:"Notification",factory:n=>{const s=me("notification-text"),i=gr({dom:h0(`<p id=${s}>${wE(n.backstageProvider.translate(n.text))}</p>`),behaviours:a([zo.config({})])}),f=ye=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${ye}%`}}}),b=ye=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${ye}%`}}),w=gr({dom:{tag:"div",classes:n.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(0)]},b(0)],behaviours:a([zo.config({})])}),M={updateProgress:(ye,_e)=>{ye.getSystem().isConnected()&&w.getOpt(ye).each(Ie=>{zo.set(Ie,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(_e)]},b(_e)])})},updateText:(ye,_e)=>{if(ye.getSystem().isConnected()){const Ie=i.get(ye);zo.set(Ie,[Na(_e)])}}},I=tt([n.icon.toArray(),[n.level],P.from(tW[n.level]).toArray()]),Z=gr(rc.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":n.backstageProvider.translate("Close")}},components:[lh("close",{tag:"span",classes:["tox-icon"]},n.iconProvider)],buttonBehaviours:a([ua.config({}),va.config({...n.backstageProvider.tooltips.getConfig({tooltipText:n.backstageProvider.translate("Close")})})]),action:ye=>{n.onAction(ye)}})),K=eW(I,{tag:"div",classes:["tox-notification__icon"]},n.iconProvider),le={dom:{tag:"div",classes:["tox-notification__body"]},components:[i.asSpec()],behaviours:a([zo.config({})])},he=[K,le];return{uid:n.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":s},classes:["tox-notification","tox-notification--in",`tox-notification--${n.level}`]},behaviours:a([ua.config({}),et.config({}),lo.config({mode:"special",onEscape:ye=>(n.onAction(ye),P.some(!0))})]),components:he.concat(n.progress?[w.asSpec()]:[]).concat([Z.asSpec()]),apis:M}},configFields:[Xl("level","info",["success","error","warning","warn","info"]),Wt("progress"),vr("icon"),Wt("onAction"),Wt("text"),Wt("iconProvider"),Wt("backstageProvider")],apis:{updateProgress:(n,s,i)=>{n.updateProgress(s,i)},updateText:(n,s,i)=>{n.updateText(s,i)}}});var nW=(n,s,i,f)=>{const b=s.backstage.shared,w=()=>fn.fromDom(n.queryCommandValue("ToggleView")===""?n.getContentAreaContainer():n.getContainer()),S=()=>{const K=Di(w());return P.some(K)},_=K=>{S().each(le=>{bt(K,he=>{cs(he.element,"width"),Mi(he.element)>le.width&&Co(he.element,"width",le.width+"px")})})};return{open:(K,le,he)=>{const ye=()=>{const st=Qt=>{zo.remove(Qt,Ie),Se()},xt=(Qt,rn)=>{Uu(Qt.element).length===0?Ot(Qt,rn):kn(Qt,rn)},Ot=(Qt,rn)=>{mi.hide(Qt),f.clear(),rn&&n.focus()},kn=(Qt,rn)=>{rn&&lo.focusIn(Qt)};f.on(Qt=>{le();const rn=he();st(Qt),xt(Qt,rn)})},_e=()=>!Vw(n)||!b.header.isPositionedAtTop(),Ie=E(S5.sketch({text:K.text,level:Me(["success","error","warning","warn","info"],K.type)?K.type:void 0,progress:K.progressBar===!0,icon:K.icon,onAction:ye,iconProvider:b.providers.icons,backstageProvider:b.providers}));if(f.isSet()){const st=D(Ie);f.on(xt=>{zo.append(xt,st),mi.reposition(xt),Ie.hasConfigured(Ja)&&Ja.refresh(xt),_(xt.components())})}else{const st=E(mi.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:b.getSink,fireDismissalEventInstead:{},...b.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:a([lo.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),zo.config({}),..._e()?[Ja.config({contextual:{lazyContext:()=>P.some(Di(w())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:Qt=>Wb(n,Qt.element).map(on=>({bounds:V2(on),optScrollEnv:P.some({currentScrollTop:on.element.dom.scrollTop,scrollElmTop:Bl(on.element).top})})).getOrThunk(()=>({bounds:bc(),optScrollEnv:P.none()}))})]:[]])})),xt=D(Ie),Ot={maxHeightFunction:Gh()},kn={...b.anchors.banner(),overrides:Ot};f.set(st),i.add(st),mi.showWithinBounds(st,xt,{anchor:kn},S)}ct(K.timeout)&&K.timeout>0&&Fk.setEditorTimeout(n,()=>{ye()},K.timeout);const Se=()=>{f.on(st=>{mi.reposition(st),st.hasConfigured(Ja)&&Ja.refresh(st),_(st.components())})};return{close:ye,reposition:Se,text:st=>{S5.updateText(Ie,st)},settings:K,getEl:()=>Ie.element.dom,progressBar:{value:st=>{S5.updateProgress(Ie,st)}}}},close:K=>{K.close()},getArgs:K=>K.settings}};const oW={setup:(n,s)=>{const i=(b,w)=>{so(b,Gi(),{raw:w})},f=()=>n.getMenu().bind(fr.getHighlighted);s.on("keydown",b=>{const w=b.which;n.isActive()&&(n.isMenuOpen()?w===13?(f().each(r1),b.preventDefault()):w===40?(f().fold(()=>{n.getMenu().each(fr.highlightFirst)},S=>{i(S,b)}),b.preventDefault(),b.stopImmediatePropagation()):(w===37||w===38||w===39)&&f().each(S=>{i(S,b),b.preventDefault(),b.stopImmediatePropagation()}):(w===13||w===38||w===40)&&n.cancelIfNecessary())}),s.on("NodeChange",()=>{n.isActive()&&!n.isProcessingAction()&&!s.queryCommandState("mceAutoCompleterInRange")&&n.cancelIfNecessary()})}};var E5;(function(n){n[n.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",n[n.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(E5||(E5={}));var ip=E5;const T5="tox-menu-nav__js",CE="tox-collection__item",fv="tox-swatch",j2={normal:T5,color:fv},A5="tox-collection__item--enabled",BP="tox-collection__group-heading",k5="tox-collection__item-icon",Yk="tox-collection__item-image",sW="tox-collection__item-image-selector",Gb="tox-collection__item-label",U2="tox-collection__item-accessory",LP="tox-collection__item-caret",rW="tox-collection__item-checkmark",Z2="tox-collection__item--active",PP="tox-collection__item-container",aW="tox-collection__item-container--column",FP="tox-collection__item-container--row",iW="tox-collection__item-container--align-right",lW="tox-collection__item-container--align-left",Xk="tox-collection__item-container--valign-top",$P="tox-collection__item-container--valign-middle",cW="tox-collection__item-container--valign-bottom",D5=n=>Hn(j2,n).getOr(T5),uW=n=>n==="color"?"tox-swatches":"tox-menu",_5=n=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:uW(n),tieredMenu:"tox-tiered-menu"}),S1=n=>{const s=_5(n);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:D5(n)}},Fne=(n,s,i)=>{const f=_5(i);return{tag:"div",classes:tt([[f.menu,`tox-menu-${s}-column`],n?[f.hasIcons]:[]])}},O5=[Ub.parts.items({})],SE=(n,s,i)=>{const f=_5(i);return{dom:{tag:"div",classes:tt([[f.tieredMenu]])},markers:S1(i)}},IP=me("refetch-trigger-event"),HP=me("redirect-menu-item-interaction"),zP="tox-menu__searcher",EE=n=>ur(n.element,`.${zP}`).bind(s=>n.getSystem().getByDom(s).toOptional()),VP=EE,dW=(n,s)=>{In.setValue(n,s.fetchPattern),n.element.dom.selectionStart=s.selectionStart,n.element.dom.selectionEnd=s.selectionEnd},R5=n=>{const s=In.getValue(n),i=n.element.dom.selectionStart,f=n.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:i,selectionEnd:f}},jP=(n,s)=>{ii(s.element,"id").each(i=>uo(n.element,"aria-activedescendant",i))},fW=n=>{const s=(b,w)=>(w.cut(),P.none()),i=(b,w)=>{const S={interactionEvent:w.event,eventType:w.event.raw.type};return so(b,HP,S),P.some(!0)},f="searcher-events";return{dom:{tag:"div",classes:[CE]},components:[C1.sketch({inputClasses:[zP,"tox-textfield"],inputAttributes:{...n.placeholder.map(b=>({placeholder:n.i18n(b)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:a([fe(f,[Mt(Bf(),b=>{fs(b,IP)}),Mt(Gi(),(b,w)=>{w.event.raw.key==="Escape"&&w.stop()})]),lo.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:i,onEscape:i,onUp:i,onDown:i})]),eventOrder:{keydown:[f,lo.name()]}})]}},Qk="tox-collection--results__js",TE=n=>n.dom?{...n,dom:{...n.dom,attributes:{...n.dom.attributes??{},id:me("aria-item-search-result-id"),"aria-selected":"false"}}}:n,N5="Use arrow keys to navigate.",M5=(n,s)=>i=>{const f=Bt(i,s);return Ze(f,b=>({dom:n,components:b}))},B5=n=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"],attributes:{"aria-label":md.translate(N5)}},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Ub.parts.items({preprocess:n!=="auto"?M5({tag:"div",classes:["tox-swatches__row"]},n):it})]}]}),mW=n=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[Ub.parts.items({preprocess:n!=="auto"?M5({tag:"div",classes:["tox-image-selector__row"]},n):it})]}]}),L5=n=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Ub.parts.items({preprocess:M5({tag:"div",classes:["tox-collection__group"]},n)})]}),UP=(n,s)=>{const i=[];let f=[];return bt(n,(b,w)=>{s(b,w)?(f.length>0&&i.push(f),f=[],(ts(b.dom,"innerHtml")||b.components&&b.components.length>0)&&f.push(b)):f.push(b)}),f.length>0&&i.push(f),Ze(i,b=>({dom:{tag:"div",classes:["tox-collection__group"]},components:b}))},P5=(n,s,i)=>Ub.parts.items({preprocess:f=>{const b=Ze(f,i);return n!=="auto"&&n>1?M5({tag:"div",classes:["tox-collection__group"]},n)(b):UP(b,(w,S)=>s[S].type==="separator")}}),ZP=n=>wt(n,s=>s.type==="widget"),F5=(n,s,i=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{...ZP(s)?{"aria-label":md.translate(N5)}:{}}},components:[P5(n,s,it)]}),WP=(n,s,i=!0)=>{const f=me("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",Qk].concat(n===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:f}},components:[P5(n,s,TE)]}},Kb=(n,s,i)=>{const f=me("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"])},components:[fW({i18n:md.translate,placeholder:i.placeholder}),{dom:{tag:"div",classes:[...n===1?["tox-collection--list"]:["tox-collection--grid"],Qk],attributes:{id:f}},components:[P5(n,s,TE)]}]}},W2=(n,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Ub.parts.items({preprocess:i=>UP(i,(f,b)=>n[b].type==="separator")})]}),AE=n=>wt(n,s=>"icon"in s&&s.icon!==void 0),w0=n=>(console.error(Mg(n)),console.log(n),P.none()),qP=(n,s,i,f,b)=>{const w=W2(i);return{value:n,dom:w.dom,components:w.components,items:i}},$5=(n,s,i,f,b)=>{const w=()=>b.menuType!=="searchable"?F5(f,i):b.searchMode.searchMode==="search-with-field"?Kb(f,i,b.searchMode):WP(f,i);if(b.menuType==="color"){const S=B5(f);return{value:n,dom:S.dom,components:S.components,items:i}}else if(b.menuType==="imageselector"&&f!=="auto"){const S=mW(f);return{value:n,dom:S.dom,components:S.components,items:i}}else if(b.menuType==="normal"&&f==="auto"){const S=F5(f,i);return{value:n,dom:S.dom,components:S.components,items:i}}else if(b.menuType==="normal"||b.menuType==="searchable"){const S=w();return{value:n,dom:S.dom,components:S.components,items:i}}else if(b.menuType==="listpreview"&&f!=="auto"){const S=L5(f);return{value:n,dom:S.dom,components:S.components,items:i}}else return{value:n,dom:Fne(s,f,b.menuType),components:O5,items:i}},Oi=Ya("type"),I5=Ya("name"),Jk=Ya("label"),Yb=Ya("text"),GP=Ya("title"),H5=Ya("icon"),hW=Ya("url"),Uw=Ya("value"),gW=cu("fetch"),pW=cu("getSubmenuItems"),mv=cu("onAction"),bW=cu("onItemAction"),q2=dr("onSetup",()=>J),yW=pa("name"),Xb=pa("text"),vW=pa("role"),og=pa("icon"),G2=pa("tooltip"),KP=pa("chevronTooltip"),kE=pa("label"),z5=pa("shortcut"),xW=cf("select"),Zw=qi("active",!1),wW=qi("borderless",!1),sg=qi("enabled",!0),DE=qi("primary",!1),YP=n=>ht("columns",n),V5=ht("meta",{}),j5=dr("onAction",J),K2=n=>Oa("type",n),U5=n=>fl("name","name",Op(()=>me(`${n}-name`)),Pi),XP=n=>fl("value","value",Op(()=>me(`${n}-value`)),af()),Ww=[Oi,Yb,Yl("level",["info","warn","error","success"]),H5,ht("url","")],CW=fo(Ww),SW=n=>[Oi,n],EW=[Oi,Yb,sg,U5("button"),og,wW,Vm("buttonType",["primary","secondary","toolbar"]),DE,Oa("context","mode:design")],e4=fo(EW),Zd=[Oi,I5],rg=Zd.concat([kE]),QP=Zd.concat([Jk,sg,Oa("context","mode:design")]),TW=fo(QP),AW=ns,kW=rg.concat([YP("auto"),Oa("context","mode:design")]),DW=fo(kW),JP=Z0([Uw,Yb,H5]),eF=rg.concat([Oa("storageKey","default"),Oa("context","mode:design")]),_W=fo(eF),OW=Pi,NW=fo(rg),tF=Pi,nF=Zd.concat([Oa("tag","textarea"),Ya("scriptId"),Ya("scriptUrl"),cf("onFocus"),Fl("settings",void 0)]),oF=Zd.concat([Oa("tag","textarea"),cu("init")]),MW=cm(n=>ga("customeditor.old",Bu(oF),n).orThunk(()=>ga("customeditor.new",Bu(nF),n))),BW=Pi,hv=[sg,Xb,vW,z5,XP("menuitem"),V5,Oa("context","mode:design")],LW=fo([Oi,I5].concat(hv)),PW=ns,qw=[U5("button"),og,Xl("align","end",["start","end"]),DE,sg,Vm("buttonType",["primary","secondary"]),Oa("context","mode:design")],C0=[...qw,Yb],t4=[Yl("type",["submit","cancel","custom"]),...C0],ag=[Yl("type",["menu"]),Xb,G2,og,Ar("items",LW),...qw],FW=[...qw,Yl("type",["togglebutton"]),G2,og,Xb,qi("active",!1)],n4=Kl("type",{submit:t4,cancel:t4,custom:t4,menu:ag,togglebutton:FW}),$W=rg.concat([Oa("context","mode:design"),pa("dropAreaLabel"),pa("buttonLabel"),pa("allowedFileTypes"),Bg("allowedFileExtensions",Pi)]),Y2=fo($W),IW=Pv(),Z5=n=>[Oi,ab("columns"),n],W5=[Oi,Ya("html"),Xl("presets","presentation",["presentation","document"]),dr("onInit",J),qi("stretched",!1)],HW=fo(W5),zW=rg.concat([qi("border",!1),qi("sandboxed",!0),qi("streamContent",!1),qi("transparent",!0)]),X2=fo(zW),sF=Pi,rF=fo(Zd.concat([pa("height")])),VW=fo([Ya("url"),Bp("zoom"),Bp("cachedWidth"),Bp("cachedHeight")]),q5=rg.concat([pa("inputMode"),pa("placeholder"),qi("maximized",!1),sg,Oa("context","mode:design")]),aF=fo(q5),G5=Pi,iF=n=>[Oi,Jk,n,Xl("align","start",["start","center","end"]),pa("for")],lF=[Yb,Uw],_E=[Yb,Ar("items",Bh("items",()=>cF))],cF=Mp([fo(lF),fo(_E)]),jW=rg.concat([Ar("items",cF),sg,Oa("context","mode:design")]),UW=fo(jW),ZW=Pi,K5=rg.concat([q0("items",[Yb,Uw]),Lp("size",1),sg,Oa("context","mode:design")]),WW=fo(K5),Y5=Pi,qW=rg.concat([qi("constrain",!0),sg,Oa("context","mode:design")]),OE=fo(qW),uF=fo([Ya("width"),Ya("height")]),dF=Zd.concat([Jk,Lp("min",0),Lp("max",0)]),GW=fo(dF),KW=Dp,YW=[Oi,Ar("header",Pi),Ar("cells",_a(Pi))],XW=fo(YW),o4=rg.concat([pa("placeholder"),qi("maximized",!1),sg,Oa("context","mode:design"),wy("spellcheck")]),fF=fo(o4),QW=Pi,X5=[Oa("buttonType","default"),pa("text"),pa("tooltip"),pa("icon"),Ju("search",!1,Mp([ns,fo([pa("placeholder")])],n=>ue(n)?n?P.some({placeholder:P.none()}):P.none():P.some(n))),cu("fetch"),dr("onSetup",()=>J),Oa("context","mode:design")],gv=fo([Oi,...X5]),Q5=n=>ga("menubutton",gv,n),Gw=[Yl("type",["directory","leaf"]),GP,Ya("id"),um("menu",gv),pa("customStateIcon"),pa("customStateIconTooltip")],J5=fo(Gw),JW=Gw.concat([Ar("children",Bh("children",()=>Mh("type",{directory:mF,leaf:J5})))]),mF=fo(JW),Q2=Mh("type",{directory:mF,leaf:J5}),hF=[Oi,Ar("items",Q2),cf("onLeafAction"),cf("onToggleExpand"),jm("defaultExpandedIds",[],Pi),pa("defaultSelectedId")],eq=fo(hF),gF=rg.concat([Xl("filetype","file",["image","media","file"]),sg,pa("picker_text"),Oa("context","mode:design")]),tq=fo(gF),nq=fo([Uw,V5]),eR=n=>fl("items","items",Od(),_a(cm(s=>ga(`Checking item of ${n}`,s4,s).fold(i=>Pn.error(Mg(i)),i=>Pn.value(i))))),s4=U0(()=>Mh("type",{alertbanner:CW,bar:fo(SW(eR("bar"))),button:e4,checkbox:TW,colorinput:_W,colorpicker:NW,dropzone:Y2,grid:fo(Z5(eR("grid"))),iframe:X2,input:aF,listbox:UW,selectbox:WW,sizeinput:OE,slider:GW,textarea:fF,urlinput:tq,customeditor:MW,htmlpanel:HW,imagepreview:rF,collection:DW,label:fo(iF(eR("label"))),table:XW,tree:eq,panel:pF})),oq=[Oi,ht("classes",[]),Ar("items",s4)],pF=fo(oq),sq=[U5("tab"),GP,Ar("items",s4)],rq=[Oi,q0("tabs",sq)],aq=fo(rq),iq=C0,lq=n4,cq=fo([Ya("title"),Bc("body",Mh("type",{panel:pF,tabpanel:aq})),Oa("size","normal"),jm("buttons",[],lq),ht("initialData",{}),dr("onAction",J),dr("onChange",J),dr("onSubmit",J),dr("onClose",J),dr("onCancel",J),dr("onTabChange",J)]),bF=n=>ga("dialog",cq,n),uq=fo([Yl("type",["cancel","custom"]),...iq]),dq=fo([Ya("title"),Ya("url"),Bp("height"),Bp("width"),Bg("buttons",uq),dr("onAction",J),dr("onCancel",J),dr("onClose",J),dr("onMessage",J)]),fq=n=>ga("dialog",dq,n),tR=n=>U(n)?[n].concat(Be(Ma(n),tR)):Y(n)?Be(n,tR):[],mq=n=>H(n.type)&&H(n.name),hq={checkbox:AW,colorinput:OW,colorpicker:tF,dropzone:IW,input:G5,iframe:sF,imagepreview:VW,selectbox:Y5,sizeinput:uF,slider:KW,listbox:ZW,size:uF,textarea:QW,urlinput:nq,customeditor:BW,collection:JP,togglemenuitem:PW},yF=n=>P.from(hq[n.type]),vF=n=>vo(tR(n),mq),gq=n=>{const s=vF(n),i=Be(s,f=>yF(f).fold(()=>[],b=>[Bc(f.name,b)]));return fo(i)},RE=n=>{const s=Qu(bF(n)),i=gq(n),f=n.initialData??{};return{internalDialog:s,dataValidator:i,initialData:f}},J2={open:(n,s)=>{const i=RE(s);return n(i.internalDialog,i.initialData,i.dataValidator)},openUrl:(n,s)=>{const i=Qu(fq(s));return n(i)},redial:n=>RE(n)},xF=fo([Oi,Xb]),pq=n=>ga("separatormenuitem",xF,n),bq=fo([K2("autocompleteitem"),Zw,sg,V5,Uw,Xb,og]),yq=n=>ga("Autocompleter.Separator",xF,n),vq=n=>ga("Autocompleter.Item",bq,n),Kw=[sg,G2,og,Xb,q2,Oa("context","mode:design")],xq=fo([Oi,mv,z5].concat(Kw)),E1=n=>ga("toolbarbutton",xq,n),nR=[Zw].concat(Kw),wq=fo(nR.concat([Oi,mv,z5])),oR=n=>ga("ToggleButton",wq,n),r4=[dr("predicate",pt),Xl("scope","node",["node","editor"]),Xl("position","selection",["node","selection","line"])],Cq=Kw.concat([K2("contextformbutton"),Oa("align","end"),DE,mv,yc("original",it)]),Sq=nR.concat([K2("contextformbutton"),Oa("align","end"),DE,mv,yc("original",it)]),Eq=Kw.concat([K2("contextformbutton")]),sR=nR.concat([K2("contextformtogglebutton")]),wF=Kl("type",{contextformbutton:Cq,contextformtogglebutton:Sq}),NE=[kE,Ar("commands",wF),um("launch",Kl("type",{contextformbutton:Eq,contextformtogglebutton:sR})),dr("onInput",J),dr("onSetup",J)],a4=[...r4,...NE,Yl("type",["contextform"]),dr("initValue",ie("")),pa("placeholder")],Yw=[...r4,...NE,Yl("type",["contextsliderform"]),dr("initValue",ie(0)),dr("min",ie(0)),dr("max",ie(100))],Tq=[...r4,...NE,Yl("type",["contextsizeinputform"]),dr("initValue",ie({width:"",height:""}))],CF=Kl("type",{contextform:a4,contextsliderform:Yw,contextsizeinputform:Tq}),Aq=n=>ga("ContextForm",CF,n),Xw=Kw.concat([K2("contexttoolbarbutton")]),kq=fo([K2("contexttoolbar"),Fi("launch",Xw),Bc("items",Mp([Pi,Z0([pa("name"),pa("label"),Ar("items",Pi)])]))].concat(r4)),i4=n=>({name:n.name.getOrUndefined(),label:n.label.getOrUndefined(),items:n.items}),rR=n=>({...n,launch:n.launch.getOrUndefined(),items:H(n.items)?n.items:Ze(n.items,i4)}),Dq=n=>ga("ContextToolbar",kq,n),_q=[Oi,Ya("src"),pa("alt"),jm("classes",[],Pi)],Oq=fo(_q),aR=[Oi,Yb,yW,jm("classes",["tox-collection__item-label"],Pi)],Rq=fo(aR),SF=U0(()=>Mh("type",{cardimage:Oq,cardtext:Rq,cardcontainer:Nq})),Nq=fo([Oi,Oa("direction","horizontal"),Oa("align","left"),Oa("valign","middle"),Ar("items",SF)]),EF=fo([Oi,kE,Ar("items",SF),q2,j5].concat(hv)),iR=n=>ga("cardmenuitem",EF,n),Mq=fo([Oi,Zw,og,kE].concat(hv)),Bq=n=>ga("choicemenuitem",Mq,n),lR=[Oi,Ya("fancytype"),j5],TF=[ht("initData",{})].concat(lR),Lq=[cf("select"),Lh("initData",{},[qi("allowCustomColors",!0),Oa("storageKey","default"),Bg("colors",af())])].concat(lR),cR=[cf("select"),lf("initData",[ab("columns"),jm("items",[],af())])].concat(lR),AF=Kl("fancytype",{inserttable:TF,colorswatch:Lq,imageselect:cR}),kF=n=>ga("fancymenuitem",AF,n),Pq=fo([Oi,Zw,hW,kE,G2].concat(hv)),Fq=fo([Oi,Zw,H5,Jk,G2,Uw].concat(hv)),DF=n=>ga("imagemenuitem",Pq,n),uR=n=>ga("resetimageitem",Fq,n),$q=fo([Oi,q2,j5,og].concat(hv)),Iq=n=>ga("menuitem",$q,n),Hq=fo([Oi,pW,q2,og].concat(hv)),zq=n=>ga("nestedmenuitem",Hq,n),Vq=fo([Oi,og,Zw,q2,mv].concat(hv)),jq=n=>ga("togglemenuitem",Vq,n),Uq=fo([og,G2,dr("onShow",J),dr("onHide",J),q2]),dR=n=>ga("sidebar",Uq,n),Zq=fo([Oi,Bc("items",Mp([Z0([I5,Ar("items",Pi)]),Pi]))].concat(Kw)),fR=n=>ga("GroupToolbarButton",Zq,n),Wq=fo([Oi,G2,KP,og,Xb,xW,gW,q2,Xl("presets","normal",["normal","color","listpreview"]),YP(1),mv,bW,Oa("context","mode:design")]),qq=n=>ga("SplitButton",Wq,n),l4=[Xb,og,pa("tooltip"),Xl("buttonType","secondary",["primary","secondary"]),qi("borderless",!1),cu("onAction"),Oa("context","mode:design")],Gq=[...l4,Yb,Yl("type",["button"])],Kq=[...l4,qi("active",!1),Yl("type",["togglebutton"])],mR={button:Gq,togglebutton:Kq},Yq=[Yl("type",["group"]),jm("buttons",[],Kl("type",mR))],Xq=Kl("type",{...mR,group:Yq}),Qq=fo([jm("buttons",[],Xq),cu("onShow"),cu("onHide")]),Jq=n=>ga("view",Qq,n),hR=(n,s,i)=>{const f=ta(n.element,"."+i);if(f.length>0){const b=Ge(f,w=>{const S=w.dom.getBoundingClientRect().top,_=f[0].dom.getBoundingClientRect().top;return Math.abs(S-_)>s}).getOr(f.length);return P.some({numColumns:b,numRows:Math.ceil(f.length/b)})}else return P.none()},_F=(n,s)=>a([fe(n,s)]),Qw={namedEvents:_F,unnamedEvents:n=>_F(me("unnamed-events"),n)},S0={item:n=>eo.config({disabled:n,disableClass:"tox-collection__item--state-disabled"}),button:n=>eo.config({disabled:n}),splitButton:n=>eo.config({disabled:n,disableClass:"tox-tbtn--disabled"}),toolbarButton:n=>eo.config({disabled:n,disableClass:"tox-tbtn--disabled",useNative:!1})},ME=(n,s)=>{const i=n.getApi(s);return f=>{f(i)}},E0=(n,s)=>Lr(i=>{ve(n.onBeforeSetup)&&n.onBeforeSetup(i),ME(n,i)(b=>{const w=n.onSetup(b);ve(w)&&s.set(w)})}),pv=(n,s)=>mf(i=>ME(n,i)(s.get())),c4=(n,s,i)=>mf(f=>(i.set(In.getValue(f)),ME(n,f)(s.get()))),gR="silver.uistate",ex="setDisabled",tG="setEnabled",pR="init",nG=["switchmode",pR],BE=(n,s)=>{const i=n.mainUi.outerContainer,f=[n.mainUi.mothership,...n.uiMotherships];s===ex&&bt(f,b=>{b.broadcastOn([Jm()],{target:i.element})}),bt(f,b=>{b.broadcastOn([gR],s)})},OF=(n,s)=>{n.on("init SwitchMode",i=>{BE(s,i.type)}),n.on("DisabledStateChange",i=>{if(!i.isDefaultPrevented()){const f=i.state?ex:pR;BE(s,f),i.state||n.nodeChanged()}}),n.on("NodeChange",i=>{const f=n.ui.isEnabled()?i.type:ex;BE(s,f)}),ZL(n)&&n.mode.set("readonly")},tl=n=>fd.config({channels:{[gR]:{onReceive:(s,i)=>{if(i===ex||i===tG){eo.set(s,i===ex);return}const{contextType:f,shouldDisable:b}=n();f==="mode"&&!Me(nG,i)||eo.set(s,b)}}}}),Qb=(n,s)=>wm((i,f)=>{ME(n,i)(n.onAction),!n.triggersSubmenu&&s===ip.CLOSE_ON_EXECUTE&&(i.getSystem().isConnected()&&fs(i,Ra()),f.stop())}),oG={[Bs()]:["disabling","alloy.base.behaviour","toggling","item-events"]},T1=Uo,tx=(n,s,i,f)=>{const b=Mn(J);return{type:"item",dom:s.dom,components:T1(s.optComponents),data:n.data,eventOrder:oG,hasSubmenu:n.triggersSubmenu,itemBehaviours:a([fe("item-events",[Qb(n,i),E0(n,b),pv(n,b)]),S0.item(()=>!n.enabled||f.checkUiComponentContext(n.context).shouldDisable),tl(()=>f.checkUiComponentContext(n.context)),zo.config({})].concat(n.itemBehaviours))}},Jb=n=>({value:n.value,meta:{text:n.text.getOr(""),...n.meta}}),sG=(n,s)=>{const i=fn.fromTag("div");nr(i,"tox-image-selector-loading-spinner");const f=w=>{nr(w,"tox-image-selector-loading-spinner-wrapper"),ra(w,i)},b=w=>{ha(w,"tox-image-selector-loading-spinner-wrapper"),eu(i)};return{dom:{tag:n.tag,attributes:n.attributes??{},classes:n.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:s},classes:["tox-image-selector-image-img"]}}]},...n.checkMark.toArray()],behaviours:a([...n.behaviours??[],fe("render-image-events",[Lr(w=>{f(w.element),ur(w.element,"img").each(S=>{Sl(S).catch(_=>{console.error(_)}).finally(()=>{b(w.element)})})})])])}},rG=(n,s)=>sG(s,n),bR=n=>{const s=Pw.os.isMacOS()||Pw.os.isiOS(),b=s?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},w=n.split("+"),S=Ze(w,_=>{const M=_.toLowerCase().trim();return ts(b,M)?b[M]:_});return s?S.join(""):S.join("+")},u4=(n,s,i=[k5])=>lh(n,{tag:"div",classes:i},s),RF=n=>({dom:{tag:"div",classes:[Gb]},components:[Na(md.translate(n))]}),d4=(n,s)=>({dom:{tag:"div",classes:s,innerHtml:n}}),yR=(n,s)=>({dom:{tag:"div",classes:[Gb]},components:[{dom:{tag:n.tag,styles:n.styles},components:[Na(md.translate(s))]}]}),vR=n=>({dom:{tag:"div",classes:[U2]},components:[Na(bR(n))]}),xR=n=>u4("checkmark",n,[rW]),ch=n=>u4("chevron-right",n,[LP]),aG=n=>u4("chevron-down",n,[LP]),iG=(n,s)=>{const i=n.direction==="vertical"?aW:FP,f=n.align==="left"?lW:iW;return{dom:{tag:"div",classes:[PP,i,f,(()=>{switch(n.valign){case"top":return Xk;case"middle":return $P;case"bottom":return cW}})()]},components:s}},NF=(n,s,i)=>({dom:{tag:"img",classes:s,attributes:{src:n,alt:i.getOr("")}}}),MF=(n,s,i)=>{const f="custom",b="remove",w=n.value,S=n.iconContent.map(I=>Kk(I,s.icons,i)),_=n.ariaLabel.map(I=>({"aria-label":s.translate(I),"data-mce-name":I})).getOr({});return{dom:(()=>{const I=fv,Z=S.getOr(""),K={tag:"div",attributes:_,classes:[I]};return w===f?{...K,tag:"button",classes:[...K.classes,"tox-swatches__picker-btn"],innerHtml:Z}:w===b?{...K,classes:[...K.classes,"tox-swatch--remove"],innerHtml:Z}:$e(w)?{...K,attributes:{...K.attributes,"data-mce-color":w},styles:{"background-color":w},innerHtml:Z}:K})(),optComponents:[]}},wR=(n,s)=>{const i=n.map(f=>({attributes:{id:me("menu-item"),"aria-label":md.translate(f)}})).getOr({});return{tag:"div",classes:[T5,CE].concat(s),...i}},BF=n=>({dom:{tag:"label"},components:[Na(n)]}),lG=(n,s,i,f)=>{const b={tag:"div",classes:[k5]},w=le=>lh(le,b,s.icons,f),S=()=>P.some({dom:b}),_=i?n.iconContent.map(w).orThunk(S):P.none(),M=n.checkMark,I=P.from(n.meta).fold(()=>RF,le=>ts(le,"style")?mn(yR,le.style):RF),Z=n.htmlContent.fold(()=>n.textContent.map(I),le=>P.some(d4(le,[Gb])));return{dom:wR(n.ariaLabel,[]),optComponents:[_,Z,n.shortcutContent.map(vR),M,n.caret,n.labelContent.map(BF)]}},cG=n=>({dom:wR(n.ariaLabel,[sW]),optComponents:[P.some(rG(n.iconContent.getOrDie(),{tag:"div",classes:[Yk],checkMark:n.checkMark})),n.labelContent.map(BF)]}),Jw=(n,s,i,f=P.none())=>n.presets==="color"?MF(n,s,f):n.presets==="img"?cG(n):lG(n,s,i,f),LF=(n,s,i)=>Hn(n,"tooltipWorker").map(f=>[va.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:b=>({type:"submenu",item:b,overrides:{maxHeightFunction:Gh}}),mode:"follow-highlight",onShow:(b,w)=>{f(S=>{va.setComponents(b,[Zf({element:fn.fromDom(S)})])})}})]).getOrThunk(()=>i.map(f=>[va.config({...s.providers.tooltips.getConfig({tooltipText:f}),mode:"follow-highlight"})]).getOr([])),uG=n=>Lw.DOM.encode(n),CR=(n,s)=>{const i=md.translate(n),f=uG(i);if(s.length>0){const b=new RegExp(Qf(s),"gi");return f.replace(b,w=>`<span class="tox-autocompleter-highlight">${w}</span>`)}else return f},dG=(n,s,i,f,b,w,S,_=!0)=>{const M=Jw({presets:f,textContent:P.none(),htmlContent:i?n.text.map(Z=>CR(Z,s)):P.none(),ariaLabel:n.text,labelContent:P.none(),iconContent:n.icon,shortcutContent:P.none(),checkMark:P.none(),caret:P.none(),value:n.value},S.providers,_,n.icon),I=n.text.filter(Z=>!i&&Z!=="");return tx({context:"mode:design",data:Jb(n),enabled:n.enabled,getApi:ie({}),onAction:Z=>b(n.value,n.meta),onSetup:ie(J),triggersSubmenu:!1,itemBehaviours:LF(n,S,I)},M,w,S.providers)},PF=(n,s)=>Ze(n,i=>{switch(i.type){case"cardcontainer":return iG(i,PF(i.items,s));case"cardimage":return NF(i.src,i.classes,i.alt);case"cardtext":const b=i.name.exists(w=>Me(s.cardText.highlightOn,w))?P.from(s.cardText.matchText).getOr(""):"";return d4(CR(i.text,b),i.classes)}}),fG=(n,s,i,f)=>{const b=S=>({isEnabled:()=>!eo.isDisabled(S),setEnabled:_=>{eo.set(S,!_),bt(ta(S.element,"*"),M=>{S.getSystem().getByDom(M).each(I=>{I.hasConfigured(eo)&&eo.set(I,!_)})})}}),w={dom:wR(n.label,[]),optComponents:[P.some({dom:{tag:"div",classes:[PP,FP]},components:PF(n.items,f)})]};return tx({context:"mode:design",data:Jb({text:P.none(),...n}),enabled:n.enabled,getApi:b,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:P.from(f.itemBehaviours).getOr([])},w,s,i.providers)},SR=(n,s,i,f,b,w,S,_=!0)=>{const M=K=>({setActive:le=>{Ns.set(K,le)},isActive:()=>Ns.isOn(K),isEnabled:()=>!eo.isDisabled(K),setEnabled:le=>eo.set(K,!le)}),I=Jw({presets:i,textContent:s?n.text:P.none(),htmlContent:P.none(),labelContent:n.label,ariaLabel:n.text,iconContent:n.icon,shortcutContent:s?n.shortcut:P.none(),checkMark:s?P.some(xR(S.icons)):P.none(),caret:P.none(),value:n.value},S,_),Z=n.text.filter(ie(!s)).map(K=>va.config(S.tooltips.getConfig({tooltipText:S.translate(K)})));return qt(tx({context:n.context,data:Jb(n),enabled:n.enabled,getApi:M,onAction:K=>f(n.value),onSetup:K=>(K.setActive(b),J),triggersSubmenu:!1,itemBehaviours:[...Z.toArray()]},I,w,S),{toggling:{toggleClass:A5,toggleOnExecute:!1,selected:n.active,exclusive:!0}})},f4=n=>({value:nx(n)}),m4=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,FF=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,h4=n=>m4.test(n)||FF.test(n),nx=n=>Sf(n,"#").toUpperCase(),$F=n=>h4(n)?P.some({value:nx(n)}):P.none(),IF=n=>({value:n.value.replace(m4,(i,f,b,w)=>f+f+b+b+w+w)}),HF=n=>{const s=IF(n),i=FF.exec(s.value);return i===null?["FFFFFF","FF","FF","FF"]:i},ER=n=>{const s=n.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},LE=n=>{const s=ER(n.red)+ER(n.green)+ER(n.blue);return f4(s)},bv=(n,s,i)=>({hue:n,saturation:s,value:i}),TR=n=>{let s=0,i=0,f=0;const b=n.red/255,w=n.green/255,S=n.blue/255,_=Math.min(b,Math.min(w,S)),M=Math.max(b,Math.max(w,S));if(_===M)return f=_,bv(0,0,f*100);const I=b===_?w-S:S===_?b-w:S-b;return s=b===_?3:S===_?1:5,s=60*(s-I/(M-_)),i=(M-_)/M,f=M,bv(Math.round(s),Math.round(i*100),Math.round(f*100))},zF=Math.min,AR=Math.max,PE=Math.round,kR=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,VF=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,kc=(n,s,i,f)=>({red:n,green:s,blue:i,alpha:f}),g4=n=>{const s=parseInt(n,10);return s.toString()===n&&s>=0&&s<=255},jF=n=>{let s,i,f;const b=(n.hue||0)%360;let w=n.saturation/100,S=n.value/100;if(w=AR(0,zF(w,1)),S=AR(0,zF(S,1)),w===0)return s=i=f=PE(255*S),kc(s,i,f,1);const _=b/60,M=S*w,I=M*(1-Math.abs(_%2-1)),Z=S-M;switch(Math.floor(_)){case 0:s=M,i=I,f=0;break;case 1:s=I,i=M,f=0;break;case 2:s=0,i=M,f=I;break;case 3:s=0,i=I,f=M;break;case 4:s=I,i=0,f=M;break;case 5:s=M,i=0,f=I;break;default:s=i=f=0}return s=PE(255*(s+Z)),i=PE(255*(i+Z)),f=PE(255*(f+Z)),kc(s,i,f,1)},FE=n=>{const s=HF(n),i=parseInt(s[1],16),f=parseInt(s[2],16),b=parseInt(s[3],16);return kc(i,f,b,1)},DR=(n,s,i,f)=>{const b=parseInt(n,10),w=parseInt(s,10),S=parseInt(i,10),_=parseFloat(f);return kc(b,w,S,_)},_R=n=>{const s=kR.exec(n);if(s!==null)return P.some(DR(s[1],s[2],s[3],"1"));const i=VF.exec(n);return i!==null?P.some(DR(i[1],i[2],i[3],i[4])):P.none()},UF=n=>`rgba(${n.red},${n.green},${n.blue},${n.alpha})`,ZF=kc(255,0,0,1),WF=n=>TR(FE(n)),T0=n=>LE(jF(n)),OR=n=>$F(n).orThunk(()=>_R(n).map(LE)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const i=s.getContext("2d");i.clearRect(0,0,s.width,s.height),i.fillStyle="#FFFFFF",i.fillStyle=n,i.fillRect(0,0,1,1);const f=i.getImageData(0,0,1,1).data,b=f[0],w=f[1],S=f[2],_=f[3];return LE(kc(b,w,S,_))}),qF=n=>{n.dispatch("SkinLoaded")},p4=(n,s)=>{n.dispatch("SkinLoadError",s)},RR=n=>{n.dispatch("ResizeEditor")},NR=(n,s)=>{n.dispatch("ResizeContent",s)},mG=(n,s)=>{n.dispatch("ScrollContent",s)},GF=(n,s)=>{n.dispatch("TextColorChange",s)},hG=(n,s)=>{n.dispatch("AfterProgressState",{state:s})},gG=(n,s)=>n.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),pG=(n,s)=>{n.dispatch("ToggleToolbarDrawer",{state:s})},bG=(n,s)=>{n.dispatch("StylesTextUpdate",s)},KF=(n,s)=>{n.dispatch("AlignTextUpdate",s)},yG=(n,s)=>{n.dispatch("FontSizeTextUpdate",s)},A1=(n,s)=>{n.dispatch("FontSizeInputTextUpdate",s)},b4=(n,s)=>{n.dispatch("BlocksTextUpdate",s)},vG=(n,s)=>{n.dispatch("FontFamilyTextUpdate",s)},xG=n=>{n.dispatch("ToggleSidebar")},YF=n=>{n.dispatch("ToggleView")},MR=n=>{n.dispatch("ContextToolbarClose")},BR=n=>{n.dispatch("ContextFormSlideBack")},ox=(n,s)=>()=>{n(),s()},zc=(n,s=Pt)=>yv(n,"NodeChange",i=>{i.setEnabled(n.selection.isEditable()&&s())}),$E=(n,s)=>i=>{const f=Ir(),b=()=>{i.setActive(n.formatter.match(s));const w=n.formatter.formatChanged(s,i.setActive);f.set(w)};return n.initialized?b():n.once("init",b),()=>{n.off("init",b),f.clear()}},IE=(n,s)=>i=>{const f=zc(n)(i),b=$E(n,s)(i);return()=>{f(),b()}},yv=(n,s,i)=>f=>{const b=()=>i(f),w=()=>{i(f),n.on(s,b)};return n.initialized?w():n.once("init",w),()=>{n.off("init",w),n.off(s,b)}},y4=n=>s=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("mceToggleFormat",!1,s.format)})},pf=(n,s)=>()=>n.execCommand(s);var sx=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const XF={},QF=(n,s=10)=>{const i=sx.getItem(n),f=H(i)?JSON.parse(i):[],w=(I=>s-I.length<0?I.slice(0,s):I)(f),S=I=>{ee(w,I).each(_),w.unshift(I),w.length>s&&w.pop(),sx.setItem(n,JSON.stringify(w))},_=I=>{w.splice(I,1)};return{add:S,state:()=>w.slice(0)}},LR=n=>Hn(XF,n).getOrThunk(()=>{const s=`tinymce-custom-colors-${n}`,i=sx.getItem(s);if(Ee(i)){const b=sx.getItem("tinymce-custom-colors");sx.setItem(s,$e(b)?b:"[]")}const f=QF(s,10);return XF[n]=f,f}),wG=n=>Ze(LR(n).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),PR=(n,s)=>{LR(n).add(s)},v4="forecolor",FR="hilitecolor",JF=5,CG=n=>$R(n.map((s,i)=>i%2===0?"#"+OR(s).value:s)),$R=n=>{const s=[];for(let i=0;i<n.length;i+=2)s.push({text:n[i+1],value:n[i],icon:"checkmark",type:"choiceitem"});return s},bf=n=>s=>s.options.get(n),IR="#000000",e7=n=>{const s=n.options.register,i=w=>Ue(w,H)?{value:CG(w),valid:!0}:{valid:!1,message:"Must be an array of strings."},f=w=>Ue(w,H)?{value:$R(w),valid:!0}:{valid:!1,message:"Must be an array of strings."},b=w=>ct(w)&&w>0?{value:w,valid:!0}:{valid:!1,message:"Must be a positive number."};s("color_map",{processor:i,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_raw",{processor:f}),s("color_map_background",{processor:i}),s("color_map_foreground",{processor:i}),s("color_cols",{processor:b,default:HR(n)}),s("color_cols_foreground",{processor:b,default:t7(n,v4)}),s("color_cols_background",{processor:b,default:t7(n,FR)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:IR}),s("color_default_background",{processor:"string",default:IR})},x4=(n,s)=>s===v4&&n.options.isSet("color_map_foreground")?bf("color_map_foreground")(n):s===FR&&n.options.isSet("color_map_background")?bf("color_map_background")(n):n.options.isSet("color_map_raw")?bf("color_map_raw")(n):bf("color_map")(n),HR=(n,s="default")=>Math.max(JF,Math.ceil(Math.sqrt(x4(n,s).length))),t7=(n,s)=>{const i=bf("color_cols")(n),f=HR(n,s);return i===HR(n)?f:i},n7=(n,s="default")=>Math.round(s===v4?bf("color_cols_foreground")(n):s===FR?bf("color_cols_background")(n):bf("color_cols")(n)),zR=bf("custom_colors"),SG=bf("color_default_foreground"),o7=bf("color_default_background"),VR="rgba(0, 0, 0, 0)",k1=n=>_R(n).exists(s=>s.alpha!==0),jR=n=>Cr(n,s=>{if(Yc(s)){const i=yr(s,"background-color");return Sa(k1(i),i)}else return P.none()}).getOr(VR),UR=(n,s)=>{const i=fn.fromDom(n.selection.getStart()),f=s==="hilitecolor"?jR(i):yr(i,"color");return _R(f).map(b=>"#"+LE(b).value)},s7=(n,s,i)=>{n.undoManager.transact(()=>{n.focus(),n.formatter.apply(s,{value:i}),n.nodeChanged()})},r7=(n,s)=>{n.undoManager.transact(()=>{n.focus(),n.formatter.remove(s,{value:null},void 0,!0),n.nodeChanged()})},a7=n=>{n.addCommand("mceApplyTextcolor",(s,i)=>{s7(n,s,i)}),n.addCommand("mceRemoveTextcolor",s=>{r7(n,s)})},w4=n=>{const s="choiceitem",i={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return n?[i,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]},C4=(n,s,i,f)=>{i==="custom"?qR(n)(w=>{w.each(S=>{PR(s,S),n.execCommand("mceApplyTextcolor",s,S),f(S)})},UR(n,s).getOr(IR)):i==="remove"?(f(""),n.execCommand("mceRemoveTextcolor",s)):(f(i),n.execCommand("mceApplyTextcolor",s,i))},eC=(n,s,i)=>n.concat(wG(s).concat(w4(i))),ZR=(n,s,i)=>f=>{f(eC(n,s,i))},S4=(n,s,i)=>{const f=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";n.setIconFill(f,i)},i7=(n,s)=>{n.setTooltip(s)},l7=(n,s)=>i=>{const f=UR(n,s);return oo(f,i.toUpperCase())},WR=(n,s,i)=>{if(Ri(i))return s==="forecolor"?"Text color":"Background color";const f=s==="forecolor"?"Text color {0}":"Background color {0}",b=eC(x4(n,s),s,!1),w=Ne(b,S=>S.value===i).getOr({text:""}).text;return n.translate([f,n.translate(w)])},c7=(n,s,i,f)=>{n.ui.registry.addSplitButton(s,{tooltip:WR(n,i,f.get()),chevronTooltip:s==="forecolor"?"Text color menu":"Background color menu",presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:l7(n,i),columns:n7(n,i),fetch:ZR(x4(n,i),i,zR(n)),onAction:b=>{C4(n,i,f.get(),J)},onItemAction:(b,w)=>{C4(n,i,w,S=>{f.set(S),GF(n,{name:s,color:S})})},onSetup:b=>{S4(b,s,f.get());const w=S=>{S.name===s&&(S4(b,S.name,S.color),i7(b,WR(n,i,S.color)))};return n.on("TextColorChange",w),ox(zc(n)(b),()=>{n.off("TextColorChange",w)})}})},u7=(n,s,i,f,b)=>{n.ui.registry.addNestedMenuItem(s,{text:f,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:w=>(i7(w,WR(n,i,b.get())),S4(w,s,b.get()),zc(n)(w)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:l7(n,i),initData:{storageKey:i},onAction:w=>{C4(n,i,w.value,S=>{b.set(S),GF(n,{name:s,color:S})})}}]})},qR=n=>(s,i)=>{let f=!1;const b=_=>{const I=_.getData().colorpicker;f?(s(P.from(I)),_.close()):n.windowManager.alert(n.translate(["Invalid hex color code: {0}",I]))},w=(_,M)=>{M.name==="hex-valid"&&(f=M.value)},S={colorpicker:i};n.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:S,onAction:w,onSubmit:b,onClose:J,onCancel:()=>{s(P.none())}})},d7=n=>{a7(n);const s=SG(n),i=o7(n),f=Mn(s),b=Mn(i);c7(n,"forecolor","forecolor",f),c7(n,"backcolor","hilitecolor",b),u7(n,"forecolor","forecolor","Text color",f),u7(n,"backcolor","hilitecolor","Background color",b)},EG=(n,s,i,f,b)=>{const w=M=>({setActive:I=>{Ns.set(M,I)},isActive:()=>Ns.isOn(M),isEnabled:()=>!eo.isDisabled(M),setEnabled:I=>eo.set(M,!I)}),S=Jw({presets:"img",textContent:P.none(),htmlContent:P.none(),ariaLabel:n.tooltip,iconContent:P.some(n.url),labelContent:n.label,shortcutContent:P.none(),checkMark:P.some(xR(b.icons)),caret:P.none(),value:n.value},b,!0),_=n.tooltip.map(M=>va.config(b.tooltips.getConfig({tooltipText:b.translate(M)})));return qt(tx({context:n.context,data:Jb(n),enabled:n.enabled,getApi:w,onAction:M=>{s(n.value),M.setActive(!0)},onSetup:M=>(M.setActive(i),J),triggersSubmenu:!1,itemBehaviours:[..._.toArray()]},S,f,b),{toggling:{toggleClass:A5,toggleOnExecute:!1,selected:n.active,exclusive:!0}})},E4=(n,s,i,f,b,w,S,_)=>{const M=AE(s),Z=TG(s,i,f,b!=="color"?"normal":"color",w,S,_);return $5(n,M,Z,f,{menuType:b})},TG=(n,s,i,f,b,w,S)=>Uo(Ze(n,_=>_.type==="choiceitem"?Bq(_).fold(w0,M=>P.some(SR(M,i===1,f,s,w(M.value),b,S,AE(n)))):_.type==="imageitem"?DF(_).fold(w0,M=>P.some(EG(M,s,w(M.value),b,S))):_.type==="resetimage"?uR(_).fold(w0,M=>P.some(SR({...M,text:M.tooltip,icon:P.some(M.icon),label:P.some(M.label)},i===1,f,s,w(M.value),b,S,AE(n)))):P.none())),vv=(n,s)=>{const i=S1(s);return n===1?{mode:"menu",moveOnTab:!0}:n==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+{color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[s],previousSelector:b=>s==="color"?ur(b.element,"[aria-checked=true]"):P.none()}},AG=(n,s)=>n===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:n==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${fv}`:`.${CE}`}},kG=(n,s)=>{const i=f7(n,s),f=s.colorinput.getColorCols(n.initData.storageKey),b="color",S={...E4(me("menu-value"),i,_=>{n.onAction({value:_})},f,b,ip.CLOSE_ON_EXECUTE,n.select.getOr(pt),s.shared.providers),markers:S1(b),movement:vv(f,b),showMenuRole:!1};return{type:"widget",data:{value:me("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[wO.widget(Ub.sketch(S))]}},f7=(n,s)=>{const i=n.initData.allowCustomColors&&s.colorinput.hasCustomColors();return n.initData.colors.fold(()=>eC(s.colorinput.getColors(n.initData.storageKey),n.initData.storageKey,i),f=>f.concat(w4(i)))},m7=(n,s)=>{const i="imageselector",f=n.initData.columns,w={...E4(me("menu-value"),n.initData.items,S=>{n.onAction({value:S})},f,i,ip.CLOSE_ON_EXECUTE,n.select.getOr(pt),s.shared.providers),markers:S1(i),movement:vv(f,i),showMenuRole:!1};return{type:"widget",data:{value:me("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:!0,components:[wO.widget(Ub.sketch(w))]}},h7=me("cell-over"),g7=me("cell-execute"),GR=n=>(s,i)=>n.shared.providers.translate(["{0} columns, {1} rows",i,s]),DG=(n,s,i)=>{const f=S=>so(S,h7,{row:n,col:s}),b=S=>so(S,g7,{row:n,col:s}),w=(S,_)=>{_.stop(),b(S)};return E({dom:{tag:"div",attributes:{role:"button","aria-label":i}},behaviours:a([fe("insert-table-picker-cell",[Mt(Jl(),et.focus),Mt(Bs(),b),Mt(dm(),w),Mt(xr(),w)]),Ns.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),et.config({onFocus:f})])})},p7=(n,s,i)=>{const f=[];for(let b=0;b<s;b++){const w=[];for(let S=0;S<i;S++){const _=n(b+1,S+1);w.push(DG(b,S,_))}f.push(w)}return f},_G=(n,s,i,f,b)=>{for(let w=0;w<f;w++)for(let S=0;S<b;S++)Ns.set(n[w][S],w<=s&&S<=i)},OG=n=>Be(n,s=>Ze(s,D)),b7=(n,s)=>Na(`${s}x${n}`),KR={inserttable:(n,s)=>{const b=GR(s),w=p7(b,10,10),S=b7(0,0),_=gr({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[S],behaviours:a([zo.config({})])});return{type:"widget",data:{value:me("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[wO.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:OG(w).concat(_.asSpec()),behaviours:a([fe("insert-table-picker",[Lr(M=>{zo.set(_.get(M),[S])}),e0(h7,(M,I,Z)=>{const{row:K,col:le}=Z.event;_G(w,K,le,10,10),zo.set(_.get(M),[b7(K+1,le+1)])}),e0(g7,(M,I,Z)=>{const{row:K,col:le}=Z.event;fs(M,Ra()),n.onAction({numRows:K+1,numColumns:le+1})})]),lo.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:kG,imageselect:m7},NG=(n,s)=>Hn(KR,n.fancytype).map(i=>i(n,s)),MG=(n,s,i,f=!0,b=!1)=>{const w=b?aG(i.icons):ch(i.icons),S=M=>({isEnabled:()=>!eo.isDisabled(M),setEnabled:I=>eo.set(M,!I),setIconFill:(I,Z)=>{ur(M.element,`svg path[class="${I}"], rect[class="${I}"]`).each(K=>{uo(K,"fill",Z)})},setTooltip:I=>{const Z=i.translate(I);uo(M.element,"aria-label",Z)}}),_=Jw({presets:"normal",iconContent:n.icon,textContent:n.text,htmlContent:P.none(),ariaLabel:n.text,labelContent:P.none(),caret:P.some(w),checkMark:P.none(),shortcutContent:n.shortcut},i,f);return tx({context:n.context,data:Jb(n),getApi:S,enabled:n.enabled,onAction:J,onSetup:n.onSetup,triggersSubmenu:!0,itemBehaviours:[]},_,s,i)},BG=(n,s,i,f=!0)=>{const b=S=>({isEnabled:()=>!eo.isDisabled(S),setEnabled:_=>eo.set(S,!_)}),w=Jw({presets:"normal",iconContent:n.icon,textContent:n.text,htmlContent:P.none(),labelContent:P.none(),ariaLabel:n.text,caret:P.none(),checkMark:P.none(),shortcutContent:n.shortcut},i,f);return tx({context:n.context,data:Jb(n),getApi:b,enabled:n.enabled,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:[]},w,s,i)},LG=n=>({type:"separator",dom:{tag:"div",classes:[CE,BP]},components:n.text.map(Na).toArray()}),y7=(n,s,i,f=!0)=>{const b=S=>({setActive:_=>{Ns.set(S,_)},isActive:()=>Ns.isOn(S),isEnabled:()=>!eo.isDisabled(S),setEnabled:_=>eo.set(S,!_)}),w=Jw({iconContent:n.icon,textContent:n.text,htmlContent:P.none(),labelContent:P.none(),ariaLabel:n.text,checkMark:P.some(xR(i.icons)),caret:P.none(),shortcutContent:n.shortcut,presets:"normal",meta:n.meta},i,f);return qt(tx({context:n.context,data:Jb(n),enabled:n.enabled,getApi:b,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:[]},w,s,i),{toggling:{toggleClass:A5,toggleOnExecute:!1,selected:n.active},role:n.role.getOrUndefined()})},v7=dG,YR=LG,PG=BG,FG=MG,$G=y7,IG=NG,HG=fG,zG=n=>n.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:n},VG=n=>{const s=In.getValue(n),i=EE(n).map(R5);Gf.refetch(s).get(()=>{const f=Wo.getCoupled(s,"sandbox");i.each(b=>EE(f).each(w=>dW(w,b)))})},jG=(n,s)=>{UG(n).each(i=>{s2(n,i.element,s.event.eventType,s.event.interactionEvent)})},UG=n=>ar.getState(n).bind(fr.getHighlighted).bind(fr.getHighlighted),XR=n=>Da(n.element,Qk)?P.some(n.element):ur(n.element,"."+Qk),x7=(n,s,i)=>{VP(n).each(f=>{jP(f,i),XR(s).each(w=>{ii(w,"id").each(S=>uo(f.element,"aria-controls",S))})}),uo(i.element,"aria-selected","true")},ZG=(n,s,i)=>{uo(i.element,"aria-selected","false")},WG=n=>{VP(n).each(s=>et.focus(s))},HE=n=>Wo.getExistingCoupled(n,"sandbox").bind(EE).map(R5).map(i=>i.fetchPattern).getOr("");var tC;(function(n){n[n.ContentFocus=0]="ContentFocus",n[n.UiFocus=1]="UiFocus"})(tC||(tC={}));const qG=(n,s,i,f,b)=>{const w=i.shared.providers,S=_=>b?{..._,shortcut:P.none(),icon:_.text.isSome()?P.none():_.icon}:_;switch(n.type){case"menuitem":return Iq(n).fold(w0,_=>P.some(PG(S(_),s,w,f)));case"nestedmenuitem":return zq(n).fold(w0,_=>P.some(FG(S(_),s,w,f,b)));case"togglemenuitem":return jq(n).fold(w0,_=>P.some($G(S(_),s,w,f)));case"separator":return pq(n).fold(w0,_=>P.some(YR(_)));case"fancymenuitem":return kF(n).fold(w0,_=>IG(_,i));default:return console.error("Unknown item in general menu",n),P.none()}},GG=(n,s,i,f,b,w,S)=>{const _=f===1,M=!_||AE(n);return Uo(Ze(n,I=>{switch(I.type){case"separator":return yq(I).fold(w0,Z=>P.some(YR(Z)));case"cardmenuitem":return iR(I).fold(w0,Z=>P.some(HG({...Z,onAction:K=>{Z.onAction(K),i(Z.value,Z.meta)}},b,w,{itemBehaviours:LF(Z.meta,w,P.none()),cardText:{matchText:s,highlightOn:S}})));default:return vq(I).fold(w0,Z=>P.some(v7(Z,s,_,"normal",i,b,w,M)))}}))},T4=(n,s,i,f,b,w)=>{const S=AE(s),_=Uo(Ze(s,Z=>{const K=he=>b?!ts(he,"text"):S,le=he=>qG(he,i,f,K(he),b);return Z.type==="nestedmenuitem"&&Z.getSubmenuItems().length<=0?le({...Z,enabled:!1}):le(Z)})),M=zG(w);return(b?qP:$5)(n,S,_,1,M)},QR=n=>F2.singleData(n.value,n),JR=(n,s,i,f)=>{const b=vv(s,f),w=S1(f);return{data:QR({...n,movement:b,menuBehaviours:Qw.unnamedEvents(s!=="auto"?[]:[Lr((S,_)=>{hR(S,4,w.item).each(({numColumns:M,numRows:I})=>{lo.setGridSize(S,I,M)})})])}),menu:{markers:S1(f),fakeFocus:i===tC.ContentFocus}}},w7=n=>L.create(fn.fromDom(n.startContainer),n.startOffset,fn.fromDom(n.endContainer),n.endOffset),KG={register:(n,s)=>{const i=me("autocompleter"),f=Mn(!1),b=Mn(!1),w=wo(),S=E(mi.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:i}},components:[],fireDismissalEventInstead:{},inlineBehaviours:a([fe("dismissAutocompleter",[Mt(mm(),()=>K()),Mt(fb(),(Se,Ye)=>{ii(Ye.event.target,"id").each(st=>uo(fn.fromDom(n.getBody()),"aria-activedescendant",st))})])]),lazySink:s.getSink})),_=()=>mi.isOpen(S),M=b.get,I=()=>{if(_()){mi.hide(S),n.dom.remove(i,!1);const Se=fn.fromDom(n.getBody());ii(Se,"aria-owns").filter(Ye=>Ye===i).each(()=>{cr(Se,"aria-owns"),cr(Se,"aria-activedescendant")})}},Z=()=>mi.getContent(S).bind(Se=>Tt(Se.components(),0)),K=()=>n.execCommand("mceAutocompleterClose"),le=Se=>{const Ye=Jo(Se,st=>P.from(st.columns)).getOr(1);return Be(Se,st=>{const xt=st.items;return GG(xt,st.matchText,(Ot,kn)=>{const Qt={hide:()=>K(),reload:rn=>{I(),n.execCommand("mceAutocompleterReload",!1,{fetchOptions:rn})}};n.execCommand("mceAutocompleterRefreshActiveRange"),w.get().each(rn=>{f.set(!0),st.onAction(Qt,rn,Ot,kn),f.set(!1)})},Ye,ip.BUBBLE_TO_SANDBOX,s,st.highlightOn)})},he=(Se,Ye)=>{const st=Jo(Se,xt=>P.from(xt.columns)).getOr(1);mi.showMenuAt(S,{anchor:{type:"selection",getSelection:()=>w.get().map(w7),root:fn.fromDom(n.getBody())}},JR($5("autocompleter-value",!0,Ye,st,{menuType:"normal"}),st,tC.ContentFocus,"normal")),Z().each(fr.highlightFirst)},ye=Se=>{const Ye=le(Se);Ye.length>0?(he(Se,Ye),uo(fn.fromDom(n.getBody()),"aria-owns",i),n.inline||_e()):I()},_e=()=>{n.dom.get(i)&&n.dom.remove(i,!1);const Se=n.getDoc().documentElement,Ye=n.selection.getNode(),st=Cl(S.element);Or(st,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${Ye.offsetTop}px`,left:`${Ye.offsetLeft}px`}),n.dom.add(Se,st.dom),ur(st,'[role="menu"]').each(xt=>{cs(xt,"position"),cs(xt,"max-height")})};n.on("AutocompleterStart",({lookupData:Se})=>{b.set(!0),f.set(!1),ye(Se)}),n.on("AutocompleterUpdate",({lookupData:Se})=>ye(Se)),n.on("AutocompleterUpdateActiveRange",({range:Se})=>w.set(Se)),n.on("AutocompleterEnd",()=>{I(),b.set(!1),f.set(!1),w.clear()});const Ie={cancelIfNecessary:K,isMenuOpen:_,isActive:M,isProcessingAction:f.get,getMenu:Z};oW.setup(Ie,n)}},C7=(n,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ze(n.items,s.interpreter)});var YG=tinymce.util.Tools.resolve("tinymce.html.Entities");const nC=(n,s,i,f)=>{const b=S7(n,s,i,f);return ks.sketch(b)},XG=(n,s)=>nC(n,s,[],[]),S7=(n,s,i,f)=>({dom:T7(i),components:n.toArray().concat([s]),fieldBehaviours:a(f)}),E7=()=>T7([]),T7=n=>({tag:"div",classes:["tox-form__group"].concat(n)}),ey=(n,s)=>ks.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Na(s.translate(n))]}),yf=me("form-component-change"),A7=me("form-component-input"),rx=me("form-close"),ty=me("form-cancel"),lp=me("form-action"),zE=me("form-submit"),eN=me("form-block"),A4=me("form-unblock"),k7=me("form-tabchange"),tN=me("form-resize"),QG=(n,s,i)=>{const f=n.label.map(he=>ey(he,s)),b=s.icons(),w=he=>b[he]??he,S=he=>(ye,_e)=>{bi(_e.event.target,"[data-collection-item-value]").each(Ie=>{he(ye,_e,Ie,ea(Ie,"data-collection-item-value"))})},_=(he,ye)=>{const Ie=s.checkUiComponentContext("mode:design").shouldDisable||s.isDisabled()?" tox-collection__item--state-disabled":"",Se=Ze(ye,xt=>{const Ot=md.translate(xt.text),kn=n.columns===1?`<div class="tox-collection__item-label">${Ot}</div>`:"",Qt=`<div class="tox-collection__item-icon">${w(xt.icon)}</div>`,rn={_:" "," - ":" ","-":" "},on=Ot.replace(/\_| \- |\-/g,mo=>rn[mo]);return`<div data-mce-tooltip="${on}" class="tox-collection__item${Ie}" tabindex="-1" data-collection-item-value="${YG.encodeAllRaw(xt.value)}" aria-label="${on}">${Qt}${kn}</div>`}),Ye=n.columns!=="auto"&&n.columns>1?Bt(Se,n.columns):[Se],st=Ze(Ye,xt=>`<div class="tox-collection__group">${xt.join("")}</div>`);Nl(he.element,st.join(""))},M=S((he,ye,_e,Ie)=>{ye.stop(),s.checkUiComponentContext("mode:design").shouldDisable||s.isDisabled()||so(he,lp,{name:n.name,value:Ie})}),I=[Mt(Jl(),S((he,ye,_e)=>{Fa(_e,!0)})),Mt(dm(),M),Mt(xr(),M),Mt(ec(),S((he,ye,_e)=>{ur(he.element,"."+Z2).each(Ie=>{ha(Ie,Z2)}),nr(_e,Z2)})),Mt(lb(),S(he=>{ur(he.element,"."+Z2).each(ye=>{ha(ye,Z2),ma(ye)})})),wm(S((he,ye,_e,Ie)=>{so(he,lp,{name:n.name,value:Ie})}))],Z=(he,ye)=>Ze(ta(he.element,".tox-collection__item"),ye),K=ks.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(n.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:it},behaviours:a([eo.config({disabled:()=>s.checkUiComponentContext(n.context).shouldDisable,onDisabled:he=>{Z(he,ye=>{nr(ye,"tox-collection__item--state-disabled"),uo(ye,"aria-disabled",!0)})},onEnabled:he=>{Z(he,ye=>{ha(ye,"tox-collection__item--state-disabled"),cr(ye,"aria-disabled")})}}),tl(()=>s.checkUiComponentContext(n.context)),zo.config({}),va.config({...s.tooltips.getConfig({tooltipText:"",onShow:he=>{ur(he.element,"."+Z2+"[data-mce-tooltip]").each(ye=>{ii(ye,"data-mce-tooltip").each(_e=>{va.setComponents(he,s.tooltips.getComponents({tooltipText:_e}))})})}}),mode:"children-keyboard-focus",anchor:he=>({type:"node",node:ur(he.element,"."+Z2).orThunk(()=>Ag(".tox-collection__item")),root:he.element,layouts:{onLtr:ie([_i,ya,Qi,Al,Kr,kl]),onRtl:ie([_i,ya,Qi,Al,Kr,kl])},bubble:mu(0,-2,{})})}),In.config({store:{mode:"memory",initialValue:i.getOr([])},onSetValue:(he,ye)=>{_(he,ye),n.columns==="auto"&&hR(he,5,"tox-collection__item").each(({numRows:_e,numColumns:Ie})=>{lo.setGridSize(he,_e,Ie)}),fs(he,tN)}}),ua.config({}),lo.config(AG(n.columns,"normal")),fe("collection-events",I)]),eventOrder:{[Bs()]:["disabling","alloy.base.behaviour","collection-events"],[ec()]:["collection-events","tooltipping"]}});return nC(f,K,["tox-form__group--collection"],[])},JG=(n,s)=>Gf.sketch({dom:n.dom,components:n.components,toggleClass:"mce-active",dropdownBehaviours:a([S0.button(()=>s.providers.isDisabled()||s.providers.checkUiComponentContext(n.context).shouldDisable),tl(()=>s.providers.checkUiComponentContext(n.context)),m0.config({}),ua.config({})]),layouts:n.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:i=>ls.nu(f=>n.fetch(f)).map(f=>P.from(QR(qt(E4(me("menu-value"),f,b=>{n.onItemAction(i,b)},n.columns,n.presets,ip.CLOSE_ON_EXECUTE,pt,s.providers),{movement:vv(n.columns,n.presets)})))),parts:{menu:SE(!1,1,n.presets)}}),k4=me("color-input-change"),D7=me("color-swatch-change"),_7=me("color-picker-cancel"),eK=(n,s,i,f)=>{const b=ks.parts.field({factory:C1,inputClasses:["tox-textfield"],data:f,onSetValue:I=>sh.run(I).get(J),inputBehaviours:a([eo.config({disabled:()=>s.providers.isDisabled()||s.providers.checkUiComponentContext(n.context).shouldDisable}),tl(()=>s.providers.checkUiComponentContext(n.context)),ua.config({}),sh.config({invalidClass:"tox-textbox-field-invalid",getRoot:I=>Tu(I.element),notify:{onValid:I=>{const Z=In.getValue(I);so(I,k4,{color:Z})}},validator:{validateOnLoad:!1,validate:I=>{const Z=In.getValue(I);if(Z.length===0)return ls.pure(Pn.value(!0));{const K=fn.fromTag("span");Co(K,"background-color",Z);const le=Gr(K,"background-color").fold(()=>Pn.error("blah"),he=>Pn.value(Z));return ls.pure(le)}}}})]),selectOnFocus:!1}),w=n.label.map(I=>ey(I,s.providers)),S=(I,Z)=>{so(I,D7,{value:Z})},_=(I,Z)=>{M.getOpt(I).each(K=>{Z==="custom"?i.colorPicker(le=>{le.fold(()=>fs(K,_7),he=>{S(K,he),PR(n.storageKey,he)})},"#ffffff"):Z==="remove"?S(K,""):S(K,Z)})},M=gr(JG({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Kr,Qi,_i],onLtr:()=>[Qi,Kr,_i]},components:[],fetch:ZR(i.getColors(n.storageKey),n.storageKey,i.hasCustomColors()),columns:i.getColorCols(n.storageKey),presets:"color",onItemAction:_,context:n.context},s));return ks.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:w.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[b,M.asSpec()]}]),fieldBehaviours:a([fe("form-field-events",[Mt(k4,(I,Z)=>{M.getOpt(I).each(K=>{Co(K.element,"background-color",Z.event.color)}),so(I,yf,{name:n.name})}),Mt(D7,(I,Z)=>{ks.getField(I).each(K=>{In.setValue(K,Z.event.value),It.getCurrent(I).each(et.focus)})}),Mt(_7,(I,Z)=>{ks.getField(I).each(K=>{It.getCurrent(I).each(et.focus)})})])])})},cp={self:()=>It.config({find:P.some}),memento:n=>It.config({find:n.getOpt}),childAt:n=>It.config({find:s=>tm(s.element,n).bind(i=>s.getSystem().getByDom(i).toOptional())})},R7=fo([ht("preprocess",it),ht("postprocess",it)]),nK=(n,s)=>{const i=Mc("RepresentingConfigs.memento processors",R7,s);return In.config({store:{mode:"manual",getValue:f=>{const b=n.get(f),w=In.getValue(b);return i.postprocess(w)},setValue:(f,b)=>{const w=i.preprocess(b),S=n.get(f);In.setValue(S,w)}}})},ax=(n,s,i)=>In.config({store:{mode:"manual",...n.map(f=>({initialValue:f})).getOr({}),getValue:s,setValue:i}}),N7=(n,s,i)=>ax(n,f=>s(f.element),(f,b)=>i(f.element,b)),oK=n=>N7(n,Js,Nl),D4=n=>In.config({store:{mode:"memory",initialValue:n}}),_4=me("rgb-hex-update"),M7=me("slider-update"),B7=me("palette-update"),L7=(n,s)=>{const i=rp.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),f=rp.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return rp.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:ie(0)},components:[i,f],sliderBehaviours:a([et.config({})]),onChange:(b,w,S)=>{uo(b.element,"aria-valuenow",Math.floor(360-S*3.6)),so(b,M7,{value:S})}})},P7=me("valid-input"),F7=me("invalid-input"),$7=me("validating-input"),O4="colorcustom.rgb.",sK={isEnabled:Pt,setEnabled:J,immediatelyShow:J,immediatelyHide:J},rK=(n,s,i,f,b,w)=>{const S=(_e,Ie)=>{const Se=Ie.get();_e!==Se.isEnabled()&&(Se.setEnabled(_e),_e?Se.immediatelyShow():Se.immediatelyHide())},_=(_e,Ie,Se)=>sh.config({invalidClass:s("invalid"),notify:{onValidate:Ye=>{so(Ye,$7,{type:_e})},onValid:Ye=>{S(!1,Se),so(Ye,P7,{type:_e,value:In.getValue(Ye)})},onInvalid:Ye=>{S(!0,Se),so(Ye,F7,{type:_e,value:In.getValue(Ye)})}},validator:{validate:Ye=>{const st=In.getValue(Ye),xt=Ie(st)?Pn.value(!0):Pn.error(n("aria.input.invalid"));return ls.pure(xt)},validateOnLoad:!1}}),M=(_e,Ie,Se,Ye,st)=>{const xt=Mn(sK),Ot=n(O4+"range"),kn=ks.parts.label({dom:{tag:"label"},components:[Na(Se)]}),Qt=ks.parts.field({data:st,factory:C1,inputAttributes:{type:"text","aria-label":Ye,...Ie==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:a([_(Ie,_e,xt),ua.config({}),va.config({...b({tooltipText:"",onSetup:Vo=>{xt.set({isEnabled:()=>va.isEnabled(Vo),setEnabled:no=>va.setEnabled(Vo,no),immediatelyShow:()=>va.immediateOpenClose(Vo,!0),immediatelyHide:()=>va.immediateOpenClose(Vo,!1)}),va.setEnabled(Vo,!1)},onShow:(Vo,no)=>{va.setComponents(Vo,[{dom:{tag:"p",classes:[s("rgb-warning-note")]},components:[Na(n(Ie==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:Vo=>{sh.isInvalid(Vo)&&sh.run(Vo).get(J)}}),rn=me("aria-invalid"),on=gr(w("invalid",P.some(rn),"warning")),mo=gr({dom:{tag:"div",classes:[s("invalid-icon")]},components:[on.asSpec()]}),to=[kn,Qt,mo.asSpec()],ys=Ie!=="hex"?[ks.parts["aria-descriptor"]({text:Ot})]:[],ho=to.concat(ys);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[s("rgb-container")]},components:ho}},I=(_e,Ie)=>{const Se=LE(Ie);return av.getField(_e,"hex").each(Ye=>{et.isFocused(Ye)||In.setValue(_e,{hex:Se.value})}),Se},Z=(_e,Ie)=>{const Se=Ie.red,Ye=Ie.green,st=Ie.blue;In.setValue(_e,{red:Se,green:Ye,blue:st})},K=gr({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),le=(_e,Ie)=>{K.getOpt(_e).each(Se=>{Co(Se.element,"background-color","#"+Ie.value)})};return oh({factory:()=>{const _e={red:Mn(P.some(255)),green:Mn(P.some(255)),blue:Mn(P.some(255)),hex:Mn(P.some("ffffff"))},Ie=(no,Kt)=>{const vn=FE(Kt);Z(no,vn),xt(vn)},Se=no=>_e[no].get(),Ye=(no,Kt)=>{_e[no].set(Kt)},st=()=>Se("red").bind(no=>Se("green").bind(Kt=>Se("blue").map(vn=>kc(no,Kt,vn,1)))),xt=no=>{const Kt=no.red,vn=no.green,Eo=no.blue;Ye("red",P.some(Kt)),Ye("green",P.some(vn)),Ye("blue",P.some(Eo))},Ot=(no,Kt)=>{const vn=Kt.event;vn.type!=="hex"?Ye(vn.type,P.none()):f(no)},kn=(no,Kt)=>{i(no);const vn=f4(Kt);Ye("hex",P.some(vn.value));const Eo=FE(vn);Z(no,Eo),xt(Eo),so(no,_4,{hex:vn}),le(no,vn)},Qt=(no,Kt,vn)=>{const Eo=parseInt(vn,10);Ye(Kt,P.some(Eo)),st().each(Ko=>{const ao=I(no,Ko);so(no,_4,{hex:ao}),le(no,ao)})},rn=no=>no.type==="hex",on=(no,Kt)=>{const vn=Kt.event;rn(vn)?kn(no,vn.value):Qt(no,vn.type,vn.value)},mo=no=>({label:n(O4+no+".label"),description:n(O4+no+".description")}),to=mo("red"),ys=mo("green"),ho=mo("blue"),Vo=mo("hex");return qt(av.sketch(no=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":n("aria.color.picker")}},components:[no.field("red",ks.sketch(M(g4,"red",to.label,to.description,255))),no.field("green",ks.sketch(M(g4,"green",ys.label,ys.description,255))),no.field("blue",ks.sketch(M(g4,"blue",ho.label,ho.description,255))),no.field("hex",ks.sketch(M(h4,"hex",Vo.label,Vo.description,"ffffff"))),K.asSpec()],formBehaviours:a([sh.config({invalidClass:s("form-invalid")}),fe("rgb-form-events",[Mt(P7,on),Mt(F7,Ot),Mt($7,Ot)])])})),{apis:{updateHex:(no,Kt)=>{In.setValue(no,{hex:Kt.value}),Ie(no,Kt),le(no,Kt)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(_e,Ie,Se)=>{_e.updateHex(Ie,Se)}},extraApis:{}})},aK=(n,s)=>{const i=rp.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),f=rp.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),b=(I,Z)=>{const{width:K,height:le}=I,he=I.getContext("2d");if(he===null)return;he.fillStyle=Z,he.fillRect(0,0,K,le);const ye=he.createLinearGradient(0,0,K,0);ye.addColorStop(0,"rgba(255,255,255,1)"),ye.addColorStop(1,"rgba(255,255,255,0)"),he.fillStyle=ye,he.fillRect(0,0,K,le);const _e=he.createLinearGradient(0,0,0,le);_e.addColorStop(0,"rgba(0,0,0,0)"),_e.addColorStop(1,"rgba(0,0,0,1)"),he.fillStyle=_e,he.fillRect(0,0,K,le)},w=(I,Z)=>{const K=I.components()[0].element.dom,le=bv(Z,100,100),he=jF(le);b(K,UF(he))},S=(I,Z)=>{const K=TR(FE(Z));rp.setValue(I,{x:K.saturation,y:100-K.value}),uo(I.element,"aria-valuetext",n(["Saturation {0}%, Brightness {1}%",K.saturation,K.value]))};return oh({factory:I=>{const Z=ie({x:0,y:0}),K=(ye,_e,Ie)=>{ct(Ie)||uo(ye.element,"aria-valuetext",n(["Saturation {0}%, Brightness {1}%",Math.floor(Ie.x),Math.floor(100-Ie.y)])),so(ye,B7,{value:Ie})},le=(ye,_e,Ie,Se)=>{b(Ie.element.dom,UF(ZF))},he=a([It.config({find:P.some}),et.config({})]);return rp.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":n(["Saturation {0}%, Brightness {1}%",0,0])},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:Z},rounded:!1,components:[i,f],onChange:K,onInit:le,sliderBehaviours:he})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(I,Z,K)=>{w(Z,K)},setThumb:(I,Z,K)=>{S(Z,K)}},extraApis:{}})},I7=(n,s,i,f)=>{const b=S=>{const _=rK(n,s,S.onValidHex,S.onInvalidHex,i,f),M=aK(n,s),I=rn=>(100-rn)/100*360,Z=rn=>100-rn/360*100,K={paletteRgba:Mn(ZF),paletteHue:Mn(0)},le=gr(L7(n,s)),he=gr(M.sketch({})),ye=gr(_.sketch({})),_e=(rn,on,mo)=>{he.getOpt(rn).each(to=>{M.setHue(to,mo)})},Ie=(rn,on)=>{ye.getOpt(rn).each(mo=>{_.updateHex(mo,on)})},Se=(rn,on,mo)=>{le.getOpt(rn).each(to=>{rp.setValue(to,Z(mo))})},Ye=(rn,on)=>{he.getOpt(rn).each(mo=>{M.setThumb(mo,on)})},st=(rn,on)=>{const mo=FE(rn);K.paletteRgba.set(mo),K.paletteHue.set(on)},xt=(rn,on,mo,to)=>{st(on,mo),bt(to,ys=>{ys(rn,on,mo)})},Ot=()=>{const rn=[Ie];return(on,mo)=>{const to=mo.event.value,ys=K.paletteHue.get(),ho=bv(ys,to.x,100-to.y),Vo=T0(ho);xt(on,Vo,ys,rn)}},kn=()=>{const rn=[_e,Ie];return(on,mo)=>{const to=I(mo.event.value),ys=K.paletteRgba.get(),ho=TR(ys),Vo=bv(to,ho.saturation,ho.value),no=T0(Vo);xt(on,no,to,rn)}},Qt=()=>{const rn=[_e,Se,Ye];return(on,mo)=>{const to=mo.event.hex,ys=WF(to);xt(on,to,ys.hue,rn)}};return{uid:S.uid,dom:S.dom,components:[he.asSpec(),le.asSpec(),ye.asSpec()],behaviours:a([fe("colour-picker-events",[Mt(_4,Qt()),Mt(B7,Ot()),Mt(M7,kn())]),It.config({find:rn=>ye.getOpt(rn)}),lo.config({mode:"acyclic"})])}};return oh({name:"ColourPicker",configFields:[Wt("dom"),ht("onValidHex",J),ht("onInvalidHex",J)],factory:b})},H7={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},z7=n=>s=>H(s)?n.translate(H7[s]):n.translate(s),R4=(n,s,i)=>{const f=I=>"tox-"+I,b=(I,Z,K=I,le=I)=>lh(K,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+I],attributes:{title:s.translate(le),"aria-live":"polite",...Z.fold(()=>({}),he=>({id:he}))}},s.icons),w=I7(z7(s),f,s.tooltips.getConfig,b),S=I=>{so(I,lp,{name:"hex-valid",value:!0})},_=I=>{so(I,lp,{name:"hex-valid",value:!1})},M=gr(w.sketch({dom:{tag:"div",classes:[f("color-picker-container")],attributes:{role:"presentation"}},onValidHex:S,onInvalidHex:_}));return{dom:{tag:"div"},components:[M.asSpec()],behaviours:a([ax(i,I=>{const Z=M.get(I);return It.getCurrent(Z).bind(he=>In.getValue(he).hex).map(he=>"#"+Sf(he,"#")).getOr("")},(I,Z)=>{const K=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,le=P.from(K.exec(Z)).bind(_e=>Tt(_e,1)),he=M.get(I);It.getCurrent(he).fold(()=>{console.log("Can not find form")},_e=>{In.setValue(_e,{hex:le.getOr("")}),av.getField(_e,"hex").each(Ie=>{fs(Ie,Bf())})})}),cp.self()])}};var V7=tinymce.util.Tools.resolve("tinymce.Resource");const j7=n=>ts(n,"init"),iK=n=>{const s=wo(),i=gr({dom:{tag:n.tag}}),f=wo(),b=!j7(n)&&n.onFocus.isSome()?[et.config({onFocus:w=>{n.onFocus.each(S=>{S(w.element.dom)})}}),ua.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:a([fe("custom-editor-events",[Lr(w=>{i.getOpt(w).each(S=>{(j7(n)?n.init(S.element.dom):V7.load(n.scriptId,n.scriptUrl).then(_=>_(S.element.dom,n.settings))).then(_=>{f.on(M=>{_.setValue(M)}),f.clear(),s.set(_)})})})]),ax(P.none(),()=>s.get().fold(()=>f.get().getOr(""),w=>w.getValue()),(w,S)=>{s.get().fold(()=>f.set(S),_=>_.setValue(S))}),cp.self()].concat(b)),components:[i.asSpec()]}};var D1=tinymce.util.Tools.resolve("tinymce.util.Tools");const nN=me("browse.files.event"),lK=(n,s,i)=>{const f=D1.explode(s.getOption("images_file_types")),b=w=>i.fold(()=>wt(f,S=>dc(w.name.toLowerCase(),`.${S.toLowerCase()}`)),S=>wt(S,_=>dc(w.name.toLowerCase(),`.${_.toLowerCase()}`)));return vo(Xo(n),b)},cK=(n,s,i)=>{const f=(le,he)=>{he.stop()},b=le=>(he,ye)=>{bt(le,_e=>{_e(he,ye)})},w=(le,he)=>{if(!eo.isDisabled(le)){const ye=he.event.raw;so(le,nN,{files:ye.dataTransfer?.files})}},S=(le,he)=>{const ye=he.event.raw.target;so(le,nN,{files:ye.files})},_=(le,he)=>{he&&(In.setValue(le,lK(he,s,n.allowedFileExtensions)),so(le,yf,{name:n.name}))},M=gr({dom:{tag:"input",attributes:{type:"file",accept:n.allowedFileTypes.getOr("image/*")},styles:{display:"none"}},behaviours:a([fe("input-file-events",[xm(dm()),xm(xr())])])}),I=n.label.map(le=>ey(le,s)),Z=ks.parts.field({factory:rc,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Na(s.translate(n.buttonLabel.getOr("Browse for an image"))),M.asSpec()],action:le=>{M.get(le).element.dom.click()},buttonBehaviours:a([cp.self(),D4(i.getOr([])),ua.config({}),S0.button(()=>s.checkUiComponentContext(n.context).shouldDisable),tl(()=>s.checkUiComponentContext(n.context))])}),K={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:a([eo.config({disabled:()=>s.checkUiComponentContext(n.context).shouldDisable}),tl(()=>s.checkUiComponentContext(n.context)),Ns.config({toggleClass:"dragenter",toggleOnExecute:!1}),fe("dropzone-events",[Mt("dragenter",b([f,Ns.toggle])),Mt("dragleave",b([f,Ns.toggle])),Mt("dragover",f),Mt("drop",b([f,w])),Mt(Lf(),S)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Na(s.translate(n.dropAreaLabel.getOr("Drop an image here")))]},Z]}]};return nC(I,K,["tox-form__group--stretched"],[fe("handle-files",[Mt(nN,(le,he)=>{ks.getField(le).each(ye=>{_(ye,he.event.files)})})])])},uK=(n,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${n.columns}col`]},components:Ze(n.items,s.interpreter)}),N4=me("alloy-fake-before-tabstop"),oN=me("alloy-fake-after-tabstop"),U7=n=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:n},behaviours:a([et.config({ignore:!0}),ua.config({})])}),Z7=(n,s)=>({dom:{tag:"div",classes:["tox-navobj",...n.getOr([])]},components:[U7([N4]),s,U7([oN])],behaviours:a([cp.childAt(1)])}),sN=(n,s)=>{so(n,Gi(),{raw:{which:9,shiftKey:s}})},W7=(n,s)=>{const i=s.element;Da(i,N4)?sN(n,!0):Da(i,oN)&&sN(n,!1)},VE=n=>Pm(n,["."+N4,"."+oN].join(","),pt),M4=me("update-dialog"),rN=me("update-title"),q7=me("update-body"),G7=me("update-footer"),No=me("body-send-message"),xv=me("dialog-focus-shifted"),B4=Ua().browser,oC=B4.isSafari(),K7=B4.isFirefox(),aN=oC||K7,dK=B4.isChromium(),Y7=({scrollTop:n,scrollHeight:s,clientHeight:i})=>Math.ceil(n)+i>=s,X7=(n,s)=>n.scrollTo(0,s==="bottom"?99999999:s),fK=(n,s)=>{const i=n.body;return P.from(!/^<!DOCTYPE (html|HTML)/.test(s)&&(!dK&&!oC||$e(i)&&(i.scrollTop!==0||Math.abs(i.scrollHeight-i.clientHeight)>1))?i:n.documentElement)},Q7=(n,s,i)=>{const f=n.dom;P.from(f.contentDocument).fold(i,b=>{let w=0;const S=fK(b,s).map(M=>(w=M.scrollTop,M)).forall(Y7),_=()=>{const M=f.contentWindow;$e(M)&&(S?X7(M,"bottom"):!S&&aN&&w!==0&&X7(M,w))};oC&&f.addEventListener("load",_,{once:!0}),b.open(),b.write(s),b.close(),oC||_()})},J7=Sa(aN,oC?500:200).map(n=>qr(Q7,n)),Wne=(n,s)=>{const i=Mn(n.getOr(""));return{getValue:f=>i.get(),setValue:(f,b)=>{if(i.get()!==b){const w=f.element,S=()=>uo(w,"srcdoc",b);s?J7.fold(ie(Q7),_=>_.throttle)(w,b,S):S()}i.set(b)}}},jE=(n,s,i)=>{const f="tox-dialog__iframe",b=n.transparent?[]:[`${f}--opaque`],w=n.border?["tox-navobj-bordered"]:[],S={...n.label.map(K=>({title:K})).getOr({}),...i.map(K=>({srcdoc:K})).getOr({}),...n.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},_=Wne(i,n.streamContent),M=n.label.map(K=>ey(K,s)),I=K=>Z7(P.from(w),{uid:K.uid,dom:{tag:"iframe",attributes:S,classes:[f,...b]},behaviours:a([ua.config({}),et.config({}),ax(i,_.getValue,_.setValue),fd.config({channels:{[xv]:{onReceive:(le,he)=>{he.newFocus.each(ye=>{Tu(le.element).each(_e=>{(se(le.element,ye)?nr:ha)(_e,"tox-navobj-bordered-focus")})})}}}})])}),Z=ks.parts.field({factory:{sketch:I}});return nC(M,Z,["tox-form__group--stretched"],[])},iN=(n,s,i,f,b)=>{const w=i*b,S=f*b,_=Math.max(0,n/2-w/2),M=Math.max(0,s/2-S/2);return{left:_.toString()+"px",top:M.toString()+"px",width:w.toString()+"px",height:S.toString()+"px"}},e$=(n,s,i)=>{const f=Mi(n),b=pi(n);return Math.min(f/s,b/i,1)},hK=(n,s)=>{const i=Mn(s.getOr({url:""})),f=gr({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(M=>({src:M.url})).getOr({})}}),b=gr({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[f.asSpec()]}),w=(M,I)=>{const Z={url:I.url};I.zoom.each(le=>Z.zoom=le),I.cachedWidth.each(le=>Z.cachedWidth=le),I.cachedHeight.each(le=>Z.cachedHeight=le),i.set(Z);const K=()=>{const{cachedWidth:le,cachedHeight:he,zoom:ye}=Z;if(!we(le)&&!we(he)){if(we(ye)){const Ie=e$(M.element,le,he);Z.zoom=Ie}const _e=iN(Mi(M.element),pi(M.element),le,he,Z.zoom);b.getOpt(M).each(Ie=>{Or(Ie.element,_e)})}};f.getOpt(M).each(le=>{const he=le.element;I.url!==ea(he,"src")&&(uo(he,"src",I.url),ha(M.element,"tox-imagepreview__loaded")),K(),Sl(he).then(ye=>{M.getSystem().isConnected()&&(nr(M.element,"tox-imagepreview__loaded"),Z.cachedWidth=ye.dom.naturalWidth,Z.cachedHeight=ye.dom.naturalHeight,K())})})},S={};n.height.each(M=>S.height=M);const _=s.map(M=>({url:M.url,zoom:P.from(M.zoom),cachedWidth:P.from(M.cachedWidth),cachedHeight:P.from(M.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:S,attributes:{role:"presentation"}},components:[b.asSpec()],behaviours:a([cp.self(),ax(_,()=>i.get(),w)])}},gK=(n,s,i)=>{const f="tox-label",b=n.align==="center"?[`${f}--center`]:[],w=n.align==="end"?[`${f}--end`]:[],S=gr({dom:{tag:"label",classes:[f,...b,...w]},components:[Na(s.providers.translate(n.label))]}),_=Ze(n.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[S.asSpec(),..._],behaviours:a([cp.self(),zo.config({}),oK(P.none()),lo.config({mode:"acyclic"}),fe("label",[Lr(M=>{n.for.each(I=>{i(I).each(Z=>{S.getOpt(M).each(K=>{const le=ea(Z.element,"id")??me("form-field");uo(Z.element,"id",le),uo(K.element,"for",le)})})})})])])}},lN=me("toolbar.button.execute"),pK=n=>wm((s,i)=>{ME(n,s)(f=>{so(s,lN,{buttonApi:f}),n.onAction(f)})}),_1=me("common-button-display-events"),cN={[Bs()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[Lc()]:["toolbar-button-events",_1],[wc()]:["toolbar-button-events","dropdown-events","tooltipping"],[uu()]:["focusing","alloy.base.behaviour",_1]},L4=n=>Co(n.element,"width",yr(n.element,"width")),t$=(n,s,i)=>lh(n,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},s),uN=(n,s)=>t$(n,s,[]),wv=(n,s)=>t$(n,s,[zo.config({})]),dN=(n,s,i)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[Na(i.translate(n))],behaviours:a([zo.config({})])}),ig=me("update-menu-text"),ix=me("update-menu-icon"),P4=me("update-tooltip-text"),fN=(n,s,i,f)=>{const b=Mn(J),w=Mn(n.tooltip),S=n.text.map(Ie=>gr(dN(Ie,s,i.providers))),_=n.icon.map(Ie=>gr(wv(Ie,i.providers.icons))),M=(Ie,Se)=>{const Ye=In.getValue(Ie);return et.focus(Ye),so(Ye,"keydown",{raw:Se.event.raw}),Gf.close(Ye),P.some(!0)},I=n.role.fold(()=>({}),Ie=>({role:Ie})),Z=P.from(n.listRole).map(Ie=>({listRole:Ie})).getOr({}),K=n.ariaLabel.fold(()=>({}),Ie=>({"aria-label":i.providers.translate(Ie)})),le=lh("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},i.providers.icons),he=me("common-button-display-events"),ye="dropdown-events";return gr(Gf.sketch({...n.uid?{uid:n.uid}:{},...I,...Z,dom:{tag:"button",classes:[s,`${s}--select`].concat(Ze(n.classes,Ie=>`${s}--${Ie}`)),attributes:{...K,...$e(f)?{"data-mce-name":f}:{}}},components:T1([_.map(Ie=>Ie.asSpec()),S.map(Ie=>Ie.asSpec()),P.some(le)]),matchWidth:!0,useMinWidth:!0,onOpen:(Ie,Se,Ye)=>{n.searchable&&WG(Ye)},dropdownBehaviours:a([...n.dropdownBehaviours,S0.button(()=>n.disabled||i.providers.checkUiComponentContext(n.context).shouldDisable),tl(()=>i.providers.checkUiComponentContext(n.context)),m0.config({}),zo.config({}),...n.tooltip.map(Ie=>va.config(i.providers.tooltips.getConfig({tooltipText:i.providers.translate(Ie),onShow:Se=>{if(Ts(w.get(),n.tooltip,(Ye,st)=>st!==Ye).getOr(!1)){const Ye=i.providers.translate(w.get().getOr(""));va.setComponents(Se,i.providers.tooltips.getComponents({tooltipText:Ye}))}}}))).toArray(),fe(ye,[E0(n,b),pv(n,b)]),fe(he,[Lr((Ie,Se)=>{n.listRole!=="listbox"&&L4(Ie)})]),fe("update-dropdown-width-variable",[Mt(vi(),(Ie,Se)=>Gf.close(Ie))]),fe("menubutton-update-display-text",[Mt(ig,(Ie,Se)=>{S.bind(Ye=>Ye.getOpt(Ie)).each(Ye=>{zo.set(Ye,[Na(i.providers.translate(Se.event.text))])})}),Mt(ix,(Ie,Se)=>{_.bind(Ye=>Ye.getOpt(Ie)).each(Ye=>{zo.set(Ye,[wv(Se.event.icon,i.providers.icons)])})}),Mt(P4,(Ie,Se)=>{const Ye=i.providers.translate(Se.event.text);uo(Ie.element,"aria-label",Ye),w.set(P.some(Se.event.text))})])]),eventOrder:qt(cN,{[uu()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Lc()]:["toolbar-button-events",va.name(),ye,he]}),sandboxBehaviours:a([lo.config({mode:"special",onLeft:M,onRight:M}),fe("dropdown-sandbox-events",[Mt(IP,(Ie,Se)=>{VG(Ie),Se.stop()}),Mt(HP,(Ie,Se)=>{jG(Ie,Se),Se.stop()})])]),lazySink:i.getSink,toggleClass:`${s}--active`,parts:{menu:{...SE(!1,n.columns,n.presets),fakeFocus:n.searchable,...n.listRole==="listbox"?{}:{onHighlightItem:x7,onCollapseMenu:(Ie,Se,Ye)=>{fr.getHighlighted(Ye).each(st=>{x7(Ie,Ye,st)})},onDehighlightItem:ZG}}},getAnchorOverrides:()=>({maxHeightFunction:(Ie,Se)=>{e2()(Ie,Se-10)}}),fetch:Ie=>ls.nu(mn(n.fetch,Ie))})).asSpec()},F4=n=>H(n),n$=n=>n.type==="separator",o$=n=>ts(n,"getSubmenuItems"),bK={type:"separator"},yK=(n,s)=>{const i=Io(n,(f,b)=>F4(b)?b===""?f:b==="|"?f.length>0&&!n$(f[f.length-1])?f.concat([bK]):f:ts(s,b.toLowerCase())?f.concat([s[b.toLowerCase()]]):f:f.concat([b]),[]);return i.length>0&&n$(i[i.length-1])&&i.pop(),i},qne=(n,s)=>{const i=n.getSubmenuItems(),f=s$(i,s),b=qt(f.menus,{[n.value]:f.items}),w=qt(f.expansions,{[n.value]:n.value});return{item:n,menus:b,expansions:w}},vK=n=>{const s=Hn(n,"value").getOrThunk(()=>me("generated-menu-item"));return qt({value:s},n)},s$=(n,s)=>{const i=yK(H(n)?n.split(" "):n,s);return Mo(i,(f,b)=>{if(o$(b)){const w=vK(b),S=qne(w,s);return{menus:qt(f.menus,S.menus),items:[S.item,...f.items],expansions:qt(f.expansions,S.expansions)}}else return{...f,items:[b,...f.items]}},{menus:{},expansions:{},items:[]})},mN=n=>n.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),xK=n=>n.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),ny=(n,s,i,f)=>{const b=me("primary-menu"),w=s$(n,i.shared.providers.menuItems());if(w.items.length===0)return P.none();const S=mN(f),_=T4(b,w.items,s,i,f.isHorizontalMenu,S),M=xK(f),I=os(w.menus,(K,le)=>T4(le,K,s,i,!1,M)),Z=qt(I,za(b,_));return P.from(F2.tieredData(b,Z,w.expansions))},UE=n=>!ts(n,"items"),hN="data-value",$4=(n,s,i,f,b)=>Ze(i,w=>UE(w)?{type:"togglemenuitem",...b?{}:{role:"option"},text:w.text,value:w.value,active:w.value===f,onAction:()=>{In.setValue(n,w.value),so(n,yf,{name:s}),et.focus(n)}}:{type:"nestedmenuitem",text:w.text,getSubmenuItems:()=>$4(n,s,w.items,f,b)}),gN=(n,s)=>Jo(n,i=>UE(i)?Sa(i.value===s,i):gN(i.items,s)),r$=(n,s,i)=>{const f=wt(n.items,I=>!UE(I)),b=s.shared.providers,w=i.bind(I=>gN(n.items,I)).orThunk(()=>sn(n.items).filter(UE)),S=n.label.map(I=>ey(I,b)),_=ks.parts.field({dom:{},factory:{sketch:I=>fN({context:n.context,uid:I.uid,text:w.map(Z=>Z.text),icon:P.none(),tooltip:P.none(),role:Sa(!f,"combobox"),...f?{}:{listRole:"listbox"},ariaLabel:n.label,fetch:(Z,K)=>{const le=$4(Z,n.name,n.items,In.getValue(Z),f);K(ny(le,ip.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:P.none()}))},onSetup:ie(J),getApi:ie({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ua.config({}),ax(w.map(Z=>Z.value),Z=>ea(Z.element,hN),(Z,K)=>{gN(n.items,K).each(le=>{uo(Z.element,hN,le.value),so(Z,ig,{text:le.text})})})]},"tox-listbox",s.shared)}}),M={dom:{tag:"div",classes:["tox-listboxfield"]},components:[_]};return ks.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:tt([S.toArray(),[M]]),fieldBehaviours:a([eo.config({disabled:()=>!n.enabled||b.checkUiComponentContext(n.context).shouldDisable,onDisabled:I=>{ks.getField(I).each(eo.disable)},onEnabled:I=>{ks.getField(I).each(eo.enable)}})])})},sC=(n,s)=>({dom:{tag:"div",classes:n.classes},components:Ze(n.items,s.shared.interpreter)}),a$=(n,s,i)=>{const f=Ze(n.items,M=>({text:s.translate(M.text),value:M.value})),b=n.label.map(M=>ey(M,s)),w=ks.parts.field({dom:{},...i.map(M=>({data:M})).getOr({}),selectAttributes:{size:n.size},options:f,factory:yO,selectBehaviours:a([eo.config({disabled:()=>!n.enabled||s.checkUiComponentContext(n.context).shouldDisable}),ua.config({}),fe("selectbox-change",[Mt(Lf(),(M,I)=>{so(M,yf,{name:n.name})})])])}),S=n.size>1?P.none():P.some(lh("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),_={dom:{tag:"div",classes:["tox-selectfield"]},components:tt([[w],S.toArray()])};return ks.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:tt([b.toArray(),[_]]),fieldBehaviours:a([eo.config({disabled:()=>!n.enabled||s.checkUiComponentContext(n.context).shouldDisable,onDisabled:M=>{ks.getField(M).each(eo.disable)},onEnabled:M=>{ks.getField(M).each(eo.enable)}}),tl(()=>s.checkUiComponentContext(n.context))])})},i$=n=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},i=b=>b in s?s[b]:1;let f=n.value.toFixed(i(n.unit));return f.indexOf(".")!==-1&&(f=f.replace(/\.?0*$/,"")),f+n.unit},I4=n=>{const i=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(n);if(i!==null){const f=parseFloat(i[1]),b=i[2];return Pn.value({value:f,unit:b})}else return Pn.error(n)},l$=(n,s)=>{const i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},f=b=>ts(i,b);return n.unit===s?P.some(n.value):f(n.unit)&&f(s)?i[n.unit]===i[s]?P.some(n.value):P.some(n.value/i[n.unit]*i[s]):P.none()},rC=n=>P.none(),wK=(n,s)=>i=>l$(i,s).map(f=>({value:f*n,unit:s})),c$=(n,s)=>{const i=I4(n).toOptional(),f=I4(s).toOptional();return Ts(i,f,(b,w)=>l$(b,w.unit).map(S=>w.value/S).map(S=>wK(S,w.unit)).getOr(rC)).getOr(rC)},u$=(n,s)=>{let i=rC;const f=me("ratio-event"),b=_e=>lh(_e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+_e]},s.icons),w=()=>!n.enabled||s.checkUiComponentContext(n.context).shouldDisable,S=tl(()=>s.checkUiComponentContext(n.context)),_=n.label.getOr("Constrain proportions"),M=s.translate(_),I=el.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":M,"data-mce-name":_}},components:[b("lock"),b("unlock")],buttonBehaviours:a([eo.config({disabled:w}),S,ua.config({}),va.config(s.tooltips.getConfig({tooltipText:M}))])}),Z=_e=>({dom:{tag:"div",classes:["tox-form__group"]},components:_e}),K=_e=>ks.parts.field({factory:C1,inputClasses:["tox-textfield"],inputBehaviours:a([eo.config({disabled:w}),S,ua.config({}),fe("size-input-events",[Mt(ec(),(Ie,Se)=>{so(Ie,f,{isField1:_e})}),Mt(Lf(),(Ie,Se)=>{so(Ie,yf,{name:n.name})})])]),selectOnFocus:!1}),le=_e=>({dom:{tag:"label",classes:["tox-label"]},components:[Na(s.translate(_e))]}),he=el.parts.field1(Z([ks.parts.label(le("Width")),K(!0)])),ye=el.parts.field2(Z([ks.parts.label(le("Height")),K(!1)]));return el.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[he,ye,Z([le(Jf),I])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(_e,Ie,Se)=>{I4(In.getValue(_e)).each(Ye=>{i(Ye).each(st=>{In.setValue(Ie,i$(st))})})},coupledFieldBehaviours:a([eo.config({disabled:w,onDisabled:_e=>{el.getField1(_e).bind(ks.getField).each(eo.disable),el.getField2(_e).bind(ks.getField).each(eo.disable),el.getLock(_e).each(eo.disable)},onEnabled:_e=>{el.getField1(_e).bind(ks.getField).each(eo.enable),el.getField2(_e).bind(ks.getField).each(eo.enable),el.getLock(_e).each(eo.enable)}}),tl(()=>s.checkUiComponentContext("mode:design")),fe("size-input-events2",[Mt(f,(_e,Ie)=>{const Se=Ie.event.isField1,Ye=Se?el.getField1(_e):el.getField2(_e),st=Se?el.getField2(_e):el.getField1(_e),xt=Ye.map(In.getValue).getOr(""),Ot=st.map(In.getValue).getOr("");i=c$(xt,Ot)})])])})},CK=(n,s,i)=>{const f=rp.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Na(s.translate(n.label))]}),b=rp.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),w=rp.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return rp.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:n.min,maxX:n.max,getInitialValue:ie(i.getOrThunk(()=>(Math.abs(n.max)-Math.abs(n.min))/2))},components:[f,b,w],sliderBehaviours:a([cp.self(),et.config({})]),onChoose:(S,_,M)=>{so(S,yf,{name:n.name,value:M})},onChange:(S,_,M)=>{so(S,yf,{name:n.name,value:M})}})},SK=(n,s)=>{const i=_=>({dom:{tag:"th",innerHtml:s.translate(_)}}),f=_=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ze(_,i)}]}),b=_=>({dom:{tag:"td",innerHtml:s.translate(_)}}),w=_=>({dom:{tag:"tr"},components:Ze(_,b)}),S=_=>({dom:{tag:"tbody"},components:Ze(_,w)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[f(n.header),S(n.cells)],behaviours:a([ua.config({}),et.config({})])}},d$=(n,s)=>{const i=n.label.map(ye=>ey(ye,s)),f=[eo.config({disabled:()=>n.disabled||s.checkUiComponentContext(n.context).shouldDisable}),tl(()=>s.checkUiComponentContext(n.context)),lo.config({mode:"execution",useEnter:n.multiline!==!0,useControlEnter:n.multiline===!0,execute:ye=>(fs(ye,zE),P.some(!0))}),fe("textfield-change",[Mt(Bf(),(ye,_e)=>{so(ye,yf,{name:n.name})}),Mt(Ty(),(ye,_e)=>{so(ye,yf,{name:n.name})})]),ua.config({})],b=n.validation.map(ye=>sh.config({getRoot:_e=>Tu(_e.element),invalidClass:"tox-invalid",validator:{validate:_e=>{const Ie=In.getValue(_e),Se=ye.validator(Ie);return ls.pure(Se===!0?Pn.value(Ie):Pn.error(Se))},validateOnLoad:ye.validateOnLoad}})).toArray(),w=n.placeholder.fold(ie({}),ye=>({placeholder:s.translate(ye)})),S=n.inputMode.fold(ie({}),ye=>({inputmode:ye})),M={...n.spellcheck.fold(ie({}),ye=>({spellcheck:ye})),...w,...S,"data-mce-name":n.name},I=ks.parts.field({tag:n.multiline===!0?"textarea":"input",...n.data.map(ye=>({data:ye})).getOr({}),inputAttributes:M,inputClasses:[n.classname],inputBehaviours:a(tt([f,b])),selectOnFocus:!1,factory:C1}),Z=n.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[I]}:I,le=(n.flex?["tox-form__group--stretched"]:[]).concat(n.maximized?["tox-form-group--maximize"]:[]),he=[eo.config({disabled:()=>n.disabled||s.checkUiComponentContext(n.context).shouldDisable,onDisabled:ye=>{ks.getField(ye).each(eo.disable)},onEnabled:ye=>{ks.getField(ye).each(eo.enable)}}),tl(()=>s.checkUiComponentContext(n.context))];return nC(i,Z,le,he)},f$=(n,s,i)=>d$({name:n.name,multiline:!1,label:n.label,inputMode:n.inputMode,placeholder:n.placeholder,flex:!1,disabled:!n.enabled,classname:"tox-textfield",validation:P.none(),maximized:n.maximized,data:i,context:n.context,spellcheck:P.none()},s),EK=(n,s,i)=>d$({name:n.name,multiline:!0,label:n.label,inputMode:P.none(),placeholder:n.placeholder,flex:!0,disabled:!n.enabled,classname:"tox-textarea",validation:P.none(),maximized:n.maximized,data:i,context:n.context,spellcheck:n.spellcheck},s),m$=n=>({isEnabled:()=>!eo.isDisabled(n),setEnabled:s=>eo.set(n,!s),setActive:s=>{const i=n.element;s?(nr(i,"tox-tbtn--enabled"),uo(i,"aria-pressed",!0)):(ha(i,"tox-tbtn--enabled"),cr(i,"aria-pressed"))},isActive:()=>Da(n.element,"tox-tbtn--enabled"),setTooltip:s=>{so(n,P4,{text:s})},setText:s=>{so(n,ig,{text:s})},setIcon:s=>so(n,ix,{icon:s})}),ZE=(n,s,i,f,b=!0,w)=>{const S=n.buttonType==="bordered"?["bordered"]:[];return fN({text:n.text,icon:n.icon,tooltip:n.tooltip,ariaLabel:n.tooltip,searchable:n.search.isSome(),role:f,fetch:(_,M)=>{const I={pattern:n.search.isSome()?HE(_):""};n.fetch(Z=>{M(ny(Z,ip.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:n.search}))},I,m$(_))},onSetup:n.onSetup,getApi:_=>m$(_),columns:1,presets:"normal",classes:S,dropdownBehaviours:[...b?[ua.config({})]:[]],context:n.context},s,i.shared,w)},TK=(n,s,i)=>{const f=w=>S=>{const _=!S.isActive();S.setActive(_),w.storage.set(_),i.shared.getSink().each(M=>{s().getOpt(M).each(I=>{Fa(I.element),so(I,lp,{name:w.name,value:w.storage.get()})})})},b=w=>S=>{S.setActive(w.storage.get())};return w=>{w(Ze(n,S=>{const _=S.text.fold(()=>({}),M=>({text:M}));return{type:S.type,active:!1,..._,context:S.context,onAction:f(S),onSetup:b(S)}}))}},h$=n=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":n}},components:[Na(n)]}),g$=(n,s,i)=>{n.customStateIcon.each(f=>s.push(b$(f,i.shared.providers.icons,n.customStateIconTooltip.fold(()=>[],b=>[va.config(i.shared.providers.tooltips.getConfig({tooltipText:b}))]),["tox-icon-custom-state"])))},p$=me("leaf-label-event-id"),pN=({leaf:n,onLeafAction:s,visible:i,treeId:f,selectedId:b,backstage:w})=>{const S=n.menu.map(M=>ZE(M,"tox-mbtn",w,P.none(),i)),_=[h$(n.title)];return g$(n,_,w),S.each(M=>_.push(M)),rc.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(i?["tox-tree--leaf__label--visible"]:[])},components:_,role:"treeitem",action:M=>{s(n.id),M.getSystem().broadcastOn([`update-active-item-${f}`],{value:n.id})},eventOrder:{[Gi()]:[p$,"keying"]},buttonBehaviours:a([...i?[ua.config({})]:[],Ns.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),fd.config({channels:{[`update-active-item-${f}`]:{onReceive:(M,I)=>{(I.value===n.id?Ns.on:Ns.off)(M)}}}}),fe(p$,[Lr((M,I)=>{b.each(Z=>{(Z===n.id?Ns.on:Ns.off)(M)})}),Mt(Gi(),(M,I)=>{const Z=I.event.raw.code==="ArrowLeft",K=I.event.raw.code==="ArrowRight";Z?(tu(M.element,".tox-tree--directory").each(le=>{M.getSystem().getByDom(le).each(he=>{_u(le,".tox-tree--directory__label").each(ye=>{he.getSystem().getByDom(ye).each(et.focus)})})}),I.stop()):K&&I.stop()})])])})},b$=(n,s,i,f,b)=>lh(n,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(f||[]),behaviours:i,attributes:b},s),AK=(n,s)=>b$(n,s,[]),y$=me("directory-label-event-id"),v$=({directory:n,visible:s,noChildren:i,backstage:f})=>{const b=n.menu.map(_=>ZE(_,"tox-mbtn",f,P.none())),w=[{dom:{tag:"div",classes:["tox-chevron"]},components:[AK("chevron-right",f.shared.providers.icons)]},h$(n.title)];g$(n,w,f),b.each(_=>{w.push(_)});const S=_=>{tu(_.element,".tox-tree--directory").each(M=>{_.getSystem().getByDom(M).each(I=>{const Z=!Ns.isOn(I);Ns.toggle(I),so(_,"expand-tree-node",{expanded:Z,node:n.id})})})};return rc.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:w,action:S,eventOrder:{[Gi()]:[y$,"keying"]},buttonBehaviours:a([...s?[ua.config({})]:[],fe(y$,[Mt(Gi(),(_,M)=>{const I=M.event.raw.code==="ArrowRight",Z=M.event.raw.code==="ArrowLeft";I&&i&&M.stop(),(I||Z)&&tu(_.element,".tox-tree--directory").each(K=>{_.getSystem().getByDom(K).each(le=>{!Ns.isOn(le)&&I||Ns.isOn(le)&&Z?(S(_),M.stop()):Z&&!Ns.isOn(le)&&(tu(le.element,".tox-tree--directory").each(he=>{_u(he,".tox-tree--directory__label").each(ye=>{le.getSystem().getByDom(ye).each(et.focus)})}),M.stop())})})})])])})},kK=({children:n,onLeafAction:s,visible:i,treeId:f,expandedIds:b,selectedId:w,backstage:S})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:n.map(_=>_.type==="leaf"?pN({leaf:_,selectedId:w,onLeafAction:s,visible:i,treeId:f,backstage:S}):bN({directory:_,expandedIds:b,selectedId:w,onLeafAction:s,labelTabstopping:i,treeId:f,backstage:S})),behaviours:a([jd.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:i}),zo.config({})])}),DK=me("directory-event-id"),bN=({directory:n,onLeafAction:s,labelTabstopping:i,treeId:f,backstage:b,expandedIds:w,selectedId:S})=>{const{children:_}=n,M=Mn(w),I=K=>_.map(le=>le.type==="leaf"?pN({leaf:le,selectedId:S,onLeafAction:s,visible:K,treeId:f,backstage:b}):bN({directory:le,expandedIds:M.get(),selectedId:S,onLeafAction:s,labelTabstopping:K,treeId:f,backstage:b})),Z=w.includes(n.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[v$({directory:n,visible:i,noChildren:n.children.length===0,backstage:b}),kK({children:_,expandedIds:w,selectedId:S,onLeafAction:s,visible:Z,treeId:f,backstage:b})],behaviours:a([fe(DK,[Lr((K,le)=>{Ns.set(K,Z)}),Mt("expand-tree-node",(K,le)=>{const{expanded:he,node:ye}=le.event;M.set(he?[...M.get(),ye]:M.get().filter(_e=>_e!==ye))})]),Ns.config({...n.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(K,le)=>{const he=K.components()[1],ye=I(le);le?jd.grow(he):jd.shrink(he),zo.set(he,ye)}})])}},_K=me("tree-event-id"),OK=(n,s)=>{const i=n.onLeafAction.getOr(J),f=n.onToggleExpand.getOr(J),b=n.defaultExpandedIds,w=Mn(b),S=Mn(n.defaultSelectedId),_=me("tree-id"),M=(I,Z)=>n.items.map(K=>K.type==="leaf"?pN({leaf:K,selectedId:I,onLeafAction:i,visible:!0,treeId:_,backstage:s}):bN({directory:K,selectedId:I,onLeafAction:i,expandedIds:Z,labelTabstopping:!0,treeId:_,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:M(S.get(),w.get()),behaviours:a([lo.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),fe(_K,[Mt("expand-tree-node",(I,Z)=>{const{expanded:K,node:le}=Z.event;w.set(K?[...w.get(),le]:w.get().filter(he=>he!==le)),f(w.get(),{expanded:K,node:le})})]),fd.config({channels:{[`update-active-item-${_}`]:{onReceive:(I,Z)=>{S.set(P.some(Z.value)),zo.set(I,M(P.some(Z.value),w.get()))}}}}),zo.config({})])}},H4=(n,s,i=[],f,b,w,S)=>{const _=s.fold(()=>({}),Z=>({action:Z})),M={buttonBehaviours:a([S0.item(()=>!n.enabled||S.checkUiComponentContext(n.context).shouldDisable),tl(()=>S.checkUiComponentContext(n.context)),ua.config({}),...w.map(Z=>va.config(S.tooltips.getConfig({tooltipText:S.translate(Z)}))).toArray(),fe("button press",[Xm("click")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},..._},I=qt(M,{dom:f});return qt(I,{components:b})},x$=(n,s,i,f=[],b)=>{const w=n.tooltip.map(I=>({"aria-label":i.translate(I)})).getOr({}),S={tag:"button",classes:["tox-tbtn"],attributes:{...w,"data-mce-name":b}},_=n.icon.map(I=>uN(I,i.icons)),M=T1([_]);return H4(n,s,f,S,M,n.tooltip,i)},yN=n=>{switch(n){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},vN=(n,s,i,f=[],b=[])=>{const w=i.translate(n.text),S=n.icon.map(he=>uN(he,i.icons)),_=[S.getOrThunk(()=>Na(w))],M=n.buttonType.getOr(!n.primary&&!n.borderless?"secondary":"primary"),K={tag:"button",classes:[...yN(M),...S.isSome()?["tox-button--icon"]:[],...n.borderless?["tox-button--naked"]:[],...b],attributes:{"aria-label":w,"data-mce-name":n.text}},le=n.icon.map(ie(w));return H4(n,s,f,K,_,le,i)},w$=(n,s,i,f=[],b=[])=>{const w=vN(n,P.some(s),i,f,b);return rc.sketch(w)},xN=(n,s)=>i=>{s==="custom"?so(i,lp,{name:n,value:{}}):s==="submit"?fs(i,zE):s==="cancel"?fs(i,ty):console.error("Unknown button type: ",s)},C$=(n,s)=>s==="menu",wN=(n,s)=>s==="custom"||s==="cancel"||s==="submit",RK=(n,s)=>s==="togglebutton",NK=(n,s,i)=>{const f=n.icon.map(Se=>wv(Se,s.icons)).map(gr),b=Se=>{so(Se,lp,{name:n.name,value:{setIcon:Ye=>{f.map(st=>st.getOpt(Se).each(xt=>{zo.set(xt,[wv(Ye,s.icons)])}))}}})},w=n.buttonType.getOr(n.primary?"primary":"secondary"),S={...n,name:n.name??"",tooltip:n.tooltip,enabled:n.enabled??!1},_=S.tooltip.or(n.text).map(Se=>({"aria-label":s.translate(Se)})).getOr({}),M=yN(w??"secondary"),I=n.icon.isSome()&&n.text.isSome(),Z={tag:"button",classes:[...M.concat(n.icon.isSome()?["tox-button--icon"]:[]),...n.active?["tox-button--enabled"]:[],...I?["tox-button--icon-and-text"]:[]],attributes:{..._,...$e(i)?{"data-mce-name":i}:{}}},K=[],le=s.translate(n.text.getOr("")),he=Na(le),_e=[...T1([f.map(Se=>Se.asSpec())]),...n.text.isSome()?[he]:[]],Ie=H4(S,P.some(b),K,Z,_e,n.tooltip,s);return rc.sketch(Ie)},WE=(n,s,i)=>{if(C$(n,s)){const f=()=>S,b=n,w={...n,buttonType:"default",type:"menubutton",search:P.none(),onSetup:_=>(_.setEnabled(n.enabled),J),fetch:TK(b.items,f,i)},S=gr(ZE(w,"tox-tbtn",i,P.none(),!0,n.text.or(n.tooltip).getOrUndefined()));return S.asSpec()}else if(wN(n,s)){const f=xN(n.name,s),b={...n,context:s==="cancel"?"any":n.context,borderless:!1};return w$(b,f,i.shared.providers,[])}else{if(RK(n,s))return NK(n,i.shared.providers,n.text.or(n.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")}},MK=(n,s)=>{const i=xN(n.name,"custom");return XG(P.none(),ks.parts.field({factory:rc,...vN(n,P.some(i),s,[D4(""),cp.self()])}))},S$={type:"separator"},BK=n=>({type:"menuitem",value:n.url,text:n.title,meta:{attach:n.attach},onAction:J}),aC=(n,s)=>({type:"menuitem",value:s,text:n,meta:{attach:void 0},onAction:J}),LK=n=>Ze(n,BK),E$=(n,s)=>vo(s,i=>i.type===n),T$=(n,s)=>LK(E$(n,s)),PK=n=>T$("header",n.targets),A0=n=>T$("anchor",n.targets),z4=n=>P.from(n.anchorTop).map(s=>aC("<top>",s)).toArray(),V4=n=>P.from(n.anchorBottom).map(s=>aC("<bottom>",s)).toArray(),FK=n=>Ze(n,s=>aC(s,s)),CN=n=>Io(n,(s,i)=>s.length===0||i.length===0?s.concat(i):s.concat(S$,i),[]),SN=(n,s)=>{const i=n.toLowerCase();return vo(s,f=>{const b=f.meta!==void 0&&f.meta.text!==void 0?f.meta.text:f.text,w=f.value??"";return Hr(b.toLowerCase(),i)||Hr(w.toLowerCase(),i)})},EN=(n,s,i)=>{const f=In.getValue(s),b=f?.meta?.text??f.value;return i.getLinkInformation().fold(()=>[],S=>{const _=SN(b,FK(i.getHistory(n)));return n==="file"?CN([_,SN(b,PK(S)),SN(b,tt([z4(S),A0(S),V4(S)]))]):_})},TN=me("aria-invalid"),AN=(n,s,i,f)=>{const b=s.shared.providers,w=Ye=>{const st=In.getValue(Ye);i.addToHistory(st.value,n.filetype)},S={...f.map(Ye=>({initialData:Ye})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{type:"url"},minChars:0,responseTime:0,fetch:Ye=>{const st=EN(n.filetype,Ye,i),xt=ny(st,ip.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:P.none()});return ls.pure(xt)},getHotspot:Ye=>ye.getOpt(Ye),onSetValue:(Ye,st)=>{Ye.hasConfigured(sh)&&sh.run(Ye).get(J)},typeaheadBehaviours:a([...i.getValidationHandler().map(Ye=>sh.config({getRoot:st=>Tu(st.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(st,xt)=>{Z.getOpt(st).each(Ot=>{uo(Ot.element,"title",b.translate(xt))})}},validator:{validate:st=>{const xt=In.getValue(st);return To.nu(Ot=>{Ye({type:n.filetype,url:xt.value},kn=>{if(kn.status==="invalid"){uo(st.element,"aria-errormessage",TN);const Qt=Pn.error(kn.message);Ot(Qt)}else{cr(st.element,"aria-errormessage");const Qt=Pn.value(kn.message);Ot(Qt)}})})},validateOnLoad:!1}})).toArray(),eo.config({disabled:()=>!n.enabled||b.checkUiComponentContext(n.context).shouldDisable}),ua.config({}),fe("urlinput-events",[Mt(Bf(),Ye=>{const st=pc(Ye.element),xt=st.trim();xt!==st&&Dd(Ye.element,xt),n.filetype==="file"&&so(Ye,yf,{name:n.name})}),Mt(Lf(),Ye=>{so(Ye,yf,{name:n.name}),w(Ye)}),Mt(Ty(),Ye=>{so(Ye,yf,{name:n.name}),w(Ye)})])]),eventOrder:{[Bf()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:Ye=>Ye.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:SE(!1,1,"normal")},onExecute:(Ye,st,xt)=>{so(st,zE,{})},onItemExecute:(Ye,st,xt,Ot)=>{w(Ye),so(Ye,yf,{name:n.name})}},_=ks.parts.field({...S,factory:GO}),M=n.label.map(Ye=>ey(Ye,b)),Z=gr(((Ye,st,xt=Ye,Ot=Ye)=>lh(xt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Ye],attributes:{title:b.translate(Ot),"aria-live":"polite",...st.fold(()=>({}),kn=>({id:kn}))}},b.icons))("invalid",P.some(TN),"warning")),K=gr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[Z.asSpec()]}),le=i.getUrlPicker(n.filetype),he=me("browser.url.event"),ye=gr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[_,K.asSpec()],behaviours:a([eo.config({disabled:()=>!n.enabled||b.checkUiComponentContext(n.context).shouldDisable})])}),_e=gr(w$({context:n.context,name:n.name,icon:P.some("browse"),text:n.picker_text.or(n.label).getOr(""),enabled:n.enabled,primary:!1,buttonType:P.none(),borderless:!0},Ye=>fs(Ye,he),b,[],["tox-browse-url"])),Ie=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:tt([[ye.asSpec()],le.map(()=>_e.asSpec()).toArray()])}),Se=Ye=>{It.getCurrent(Ye).each(st=>{const xt=In.getValue(st),Ot={fieldname:n.name,...xt};le.each(kn=>{kn(Ot).get(Qt=>{In.setValue(st,Qt),so(Ye,yf,{name:n.name})})})})};return ks.sketch({dom:E7(),components:M.toArray().concat([Ie()]),fieldBehaviours:a([eo.config({disabled:()=>!n.enabled||b.checkUiComponentContext(n.context).shouldDisable,onDisabled:Ye=>{ks.getField(Ye).each(eo.disable),_e.getOpt(Ye).each(eo.disable)},onEnabled:Ye=>{ks.getField(Ye).each(eo.enable),_e.getOpt(Ye).each(eo.enable)}}),tl(()=>b.checkUiComponentContext(n.context)),fe("url-input-events",[Mt(he,Se)])])})},$K=(n,s)=>{const i=JZ(n.icon,s.icons);return d0.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${n.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:n.url?void 0:i},components:n.url?[rc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:i,attributes:{title:s.translate(n.iconTooltip)}},action:f=>so(f,lp,{name:"alert-banner",value:n.url}),buttonBehaviours:a([w5()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(n.text)}}]})},IK=(n,s,i)=>{const f=M=>(M.element.dom.click(),P.some(!0)),b=ks.parts.field({factory:{sketch:it},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:a([cp.self(),eo.config({disabled:()=>!n.enabled||s.checkUiComponentContext(n.context).shouldDisable,onDisabled:M=>{Tu(M.element).each(I=>nr(I,"tox-checkbox--disabled"))},onEnabled:M=>{Tu(M.element).each(I=>ha(I,"tox-checkbox--disabled"))}}),ua.config({}),et.config({}),N7(i,Sp,Td),lo.config({mode:"special",onEnter:f,onSpace:f,stopSpaceKeyup:!0}),fe("checkbox-events",[Mt(Lf(),(M,I)=>{so(M,yf,{name:n.name})})])])}),w=ks.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Na(s.translate(n.label))],behaviours:a([m0.config({})])}),S=M=>lh(M==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+M]},s.icons),_=gr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[S("checked"),S("unchecked")]});return ks.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[b,_.asSpec(),w],fieldBehaviours:a([eo.config({disabled:()=>!n.enabled||s.checkUiComponentContext(n.context).shouldDisable}),tl(()=>s.checkUiComponentContext(n.context))])})},A$=(n,s)=>{const i=["tox-form__group",...n.stretched?["tox-form__group--stretched"]:[]],f=fe("htmlpanel",[Lr(b=>{n.onInit(b.element.dom)})]);return n.presets==="presentation"?d0.sketch({dom:{tag:"div",classes:i,innerHtml:n.html},containerBehaviours:a([va.config({...s.tooltips.getConfig({tooltipText:"",onShow:b=>{ur(b.element,"[data-mce-tooltip]:hover").orThunk(()=>ai(b.element)).each(w=>{ii(w,"data-mce-tooltip").each(S=>{va.setComponents(b,s.tooltips.getComponents({tooltipText:S}))})})}}),mode:"children-normal",anchor:b=>({type:"node",node:ur(b.element,"[data-mce-tooltip]:hover").orThunk(()=>ai(b.element).filter(w=>ii(w,"data-mce-tooltip").isSome())),root:b.element,layouts:{onLtr:ie([_i,ya,Qi,Al,Kr,kl]),onRtl:ie([_i,ya,Qi,Al,Kr,kl])},bubble:mu(0,-2,{})})}),f])}):d0.sketch({dom:{tag:"div",classes:i,innerHtml:n.html,attributes:{role:"document"}},containerBehaviours:a([ua.config({}),et.config({}),f])})},ic=n=>(s,i,f,b,w)=>Hn(i,"name").fold(()=>n(i,b,P.none(),w),S=>s.field(S,n(i,b,Hn(f,S),w))),HK=n=>(s,i,f,b,w)=>{const S=qt(i,{source:"dynamic"});return ic(n)(s,S,f,b,w)},kN={bar:ic((n,s)=>C7(n,s.shared)),collection:ic((n,s,i)=>QG(n,s.shared.providers,i)),alertbanner:ic((n,s)=>$K(n,s.shared.providers)),input:ic((n,s,i)=>f$(n,s.shared.providers,i)),textarea:ic((n,s,i)=>EK(n,s.shared.providers,i)),label:ic((n,s,i,f)=>gK(n,s.shared,f)),iframe:HK((n,s,i)=>jE(n,s.shared.providers,i)),button:ic((n,s)=>MK(n,s.shared.providers)),checkbox:ic((n,s,i)=>IK(n,s.shared.providers,i)),colorinput:ic((n,s,i)=>eK(n,s.shared,s.colorinput,i)),colorpicker:ic((n,s,i)=>R4(n,s.shared.providers,i)),dropzone:ic((n,s,i)=>cK(n,s.shared.providers,i)),grid:ic((n,s)=>uK(n,s.shared)),listbox:ic((n,s,i)=>r$(n,s,i)),selectbox:ic((n,s,i)=>a$(n,s.shared.providers,i)),sizeinput:ic((n,s)=>u$(n,s.shared.providers)),slider:ic((n,s,i)=>CK(n,s.shared.providers,i)),urlinput:ic((n,s,i)=>AN(n,s,s.urlinput,i)),customeditor:ic(iK),htmlpanel:ic((n,s)=>A$(n,s.shared.providers)),imagepreview:ic((n,s,i)=>hK(n,i)),table:ic((n,s)=>SK(n,s.shared.providers)),tree:ic((n,s)=>OK(n,s)),panel:ic((n,s)=>sC(n,s))},zK={field:(n,s)=>s,record:ie([])},k$=(n,s,i,f,b)=>{const w=qt(f,{shared:{interpreter:S=>j4(n,S,i,w,b)}});return j4(n,s,i,w,b)},j4=(n,s,i,f,b)=>Hn(kN,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),w=>w(n,s,i,f,b)),DN=(n,s,i,f)=>j4(zK,n,s,i,f),qE={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},VK=(n,s,i)=>{const b={maxHeightFunction:Gh()},w=()=>({type:"node",root:vd(Ti(n())),node:P.from(n()),bubble:mu(12,12,qE),layouts:{onRtl:()=>[Il],onLtr:()=>[Vf]},overrides:b}),S=()=>({type:"hotspot",hotspot:s(),bubble:mu(-12,12,qE),layouts:{onRtl:()=>[Qi,Kr,_i],onLtr:()=>[Kr,Qi,_i]},overrides:b});return()=>i()?w():S()},jK=(n,s,i,f)=>{const w={maxHeightFunction:Gh()},S=()=>({type:"node",root:vd(Ti(s())),node:P.from(s()),bubble:mu(12,12,qE),layouts:{onRtl:()=>[oc],onLtr:()=>[oc]},overrides:w}),_=()=>n?{type:"node",root:vd(Ti(s())),node:P.from(s()),bubble:mu(0,-Ai(s()),qE),layouts:{onRtl:()=>[ya],onLtr:()=>[ya]},overrides:w}:{type:"hotspot",hotspot:i(),bubble:mu(0,0,qE),layouts:{onRtl:()=>[ya],onLtr:()=>[ya]},overrides:w};return()=>f()?S():_()},UK=(n,s,i)=>{const f=()=>({type:"node",root:vd(Ti(n())),node:P.from(n()),layouts:{onRtl:()=>[oc],onLtr:()=>[oc]}}),b=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[_i],onLtr:()=>[_i]}});return()=>i()?f():b()},D$=(n,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const i=n.selection.getRng(),f=n.model.table.getSelectedCells();if(f.length>1){const b=f[0],w=f[f.length-1],S={firstCell:fn.fromDom(b),lastCell:fn.fromDom(w)};return P.some(S)}return P.some(di.range(fn.fromDom(i.startContainer),i.startOffset,fn.fromDom(i.endContainer),i.endOffset))}}),ZK=n=>s=>({type:"node",root:n(),node:s}),WK=(n,s,i,f)=>{const b=zw(n),w=()=>fn.fromDom(n.getBody()),S=()=>fn.fromDom(n.getContentAreaContainer()),_=()=>b||!f();return{inlineDialog:VK(S,s,_),inlineBottomDialog:jK(n.inline,S,i,_),banner:UK(S,s,_),cursor:D$(n,w),node:ZK(w)}},qK=n=>(s,i)=>{qR(n)(s,i)},GK=n=>()=>zR(n),KK=n=>s=>x4(n,s),YK=n=>s=>n7(n,s),XK=n=>({colorPicker:qK(n),hasCustomColors:GK(n),getColors:KK(n),getColorCols:YK(n)}),QK=n=>()=>sP(n),JK=n=>({isDraggableModal:QK(n)}),eY=n=>{const s=Mn(jk(n)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},tY=n=>Oo(n,"items"),_$=n=>Oo(n,"format"),_N=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],O$=n=>ts(n,"items"),U4=n=>ts(n,"block"),R$=n=>ts(n,"inline"),nY=n=>ts(n,"selector"),N$=n=>Io(n,(s,i)=>{if(O$(i)){const f=N$(i.items);return{customFormats:s.customFormats.concat(f.customFormats),formats:s.formats.concat([{title:i.title,items:f.formats}])}}else if(R$(i)||U4(i)||nY(i)){const b=`custom-${H(i.name)?i.name:i.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:b,format:i}]),formats:s.formats.concat([{title:i.title,format:b,icon:i.icon}])}}else return{...s,formats:s.formats.concat(i)}},{customFormats:[],formats:[]}),oY=(n,s)=>{const i=N$(s),f=b=>{bt(b,w=>{n.formatter.has(w.name)||n.formatter.register(w.name,w.format)})};return n.formatter?f(i.customFormats):n.on("init",()=>{f(i.customFormats)}),i.formats},M$=n=>WL(n).map(s=>{const i=oY(n,s);return qL(n)?_N.concat(i):i}).getOr(_N),sY=n=>{const s=ko(n);return s.length===1&&Me(s,"title")},B$=(n,s,i)=>({...n,type:"formatter",isSelected:s(n.format),getStylePreview:i(n.format)}),L$=(n,s,i,f)=>{const b=M=>B$(M,i,f),w=M=>{const I=_(M.items);return{...M,type:"submenu",getStyleItems:ie(I)}},S=M=>{const I=H(M.name)?M.name:me(M.title),Z=`custom-${I}`,K={...M,type:"formatter",format:Z,isSelected:i(Z),getStylePreview:f(Z)};return n.formatter.register(I,K),K},_=M=>Ze(M,I=>tY(I)?w(I):_$(I)?b(I):sY(I)?{...I,type:"separator"}:S(I));return _(s)},P$=n=>{const s=_=>()=>n.formatter.match(_),i=_=>()=>{const M=n.formatter.get(_);return M!==void 0?P.some({tag:M.length>0&&(M[0].inline||M[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(_))}):P.none()},f=Mn([]),b=Mn([]),w=Mn(!1);return n.on("PreInit",_=>{const M=M$(n),I=L$(n,M,s,i);f.set(I)}),n.on("addStyleModifications",_=>{const M=L$(n,_.items,s,i);b.set(M),w.set(_.replace)}),{getData:()=>{const _=w.get()?[]:f.get(),M=b.get();return _.concat(M)}}},F$=n=>{let f=0;const b=()=>f>0,w=_=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Na(_.tooltipText)]}];return{getConfig:_=>({delayForShow:()=>b()?60:300,delayForHide:ie(300),exclusive:!0,lazySink:n,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:w(_),onShow:(M,I)=>{f++,_.onShow&&_.onShow(M,I)},onHide:(M,I)=>{f--,_.onHide&&_.onHide(M,I)},onSetup:_.onSetup}),getComponents:w}},rY=n=>$e(n)&&n.nodeType===1,$$=D1.trim,I$=n=>s=>!!(rY(s)&&(s.contentEditable===n||s.getAttribute("data-mce-contenteditable")===n)),aY=I$("true"),iY=I$("false"),Cv=(n,s,i,f,b)=>({type:n,title:s,url:i,level:f,attach:b}),H$=n=>{let s=n;for(;s=s.parentNode;){const i=s.contentEditable;if(i&&i!=="inherit")return aY(s)}return!1},GE=(n,s)=>Ze(ta(fn.fromDom(s),n),i=>i.dom),KE=n=>n.innerText||n.textContent,z$=n=>n.id?n.id:me("h"),V$=n=>n&&n.nodeName==="A"&&(n.id||n.name)!==void 0,j$=n=>V$(n)&&U$(n),lY=n=>n&&/^(H[1-6])$/.test(n.nodeName),U$=n=>H$(n)&&!iY(n),cY=n=>lY(n)&&U$(n),uY=n=>lY(n)?parseInt(n.nodeName.substr(1),10):0,dY=n=>{const s=z$(n),i=()=>{n.id=s};return Cv("header",KE(n)??"","#"+s,uY(n),i)},fY=n=>{const s=n.id||n.name,i=KE(n);return Cv("anchor",i||"#"+s,"#"+s,0,J)},mY=n=>Ze(vo(n,cY),dY),iC=n=>Ze(vo(n,j$),fY),YE=n=>GE("h1,h2,h3,h4,h5,h6,a:not([href])",n),ON=n=>$$(n.title).length>0,hY={find:n=>{const s=YE(n);return vo(mY(s).concat(iC(s)),ON)}},lC="tinymce-url-history",Z$=5,cC=n=>H(n)&&/^https?/.test(n),W$=n=>Y(n)&&n.length<=Z$&&Je(n,cC),q$=n=>U(n)&&$r(n,s=>!W$(s)).isNone(),G$=()=>{const n=sx.getItem(lC);if(n===null)return{};let s;try{s=JSON.parse(n)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+lC+" was not valid JSON",i),{};throw i}return q$(s)?s:(console.log("Local storage "+lC+" was not valid format",s),{})},gY=n=>{if(!q$(n))throw new Error(`Bad format for history:
`+JSON.stringify(n));sx.setItem(lC,JSON.stringify(n))},pY=n=>{const s=G$();return Hn(s,n).getOr([])},bY=(n,s)=>{if(!cC(n))return;const i=G$(),f=Hn(i,s).getOr([]),b=vo(f,w=>w!==n);i[s]=[n].concat(b).slice(0,Z$),gY(i)},K$=n=>!!n,Y$=n=>os(D1.makeMap(n,/[, ]/),K$),Z4=n=>P.from(tP(n)),RN=n=>{const s=P.from(n5(n)).filter(K$).map(Y$);return Z4(n).fold(pt,i=>s.fold(Pt,f=>ko(f).length>0?f:!1))},yY=(n,s)=>{const i=RN(n);return ue(i)?i?Z4(n):P.none():i[s]?Z4(n):P.none()},W4=(n,s)=>yY(n,s).map(i=>f=>ls.nu(b=>{const w=(_,M)=>{if(!H(_))throw new Error("Expected value to be string");if(M!==void 0&&!U(M))throw new Error("Expected meta to be a object");b({value:_,meta:M})},S={filetype:s,fieldname:f.fieldname,...P.from(f.meta).getOr({})};i.call(n,w,f.value,S)})),XE=n=>P.from(n).filter(H).getOrUndefined(),X$=n=>o5(n)?P.some({targets:hY.find(n.getBody()),anchorTop:XE(oP(n)),anchorBottom:XE(s5(n))}):P.none(),vY=n=>P.from(nP(n)),xY=n=>({getHistory:pY,addToHistory:bY,getLinkInformation:()=>X$(n),getValidationHandler:()=>vY(n),getUrlPicker:s=>W4(n,s)}),wY=(n,s,i,f)=>{const b=Mn(!1),w=eY(s),S={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:md.translate,isDisabled:()=>!s.ui.isEnabled(),getOption:s.options.get,tooltips:F$(n.dialog),checkUiComponentContext:Se=>{if($k(s))return{contextType:"disabled",shouldDisable:!0};const[Ye,st=""]=Se.split(":"),xt=s.ui.registry.getAll().contexts,Ot=Hn(xt,Ye).fold(()=>Hn(xt,"mode").map(kn=>kn("design")).getOr(!1),kn=>st.charAt(0)==="!"?!kn(st.slice(1)):kn(st));return{contextType:Ye,shouldDisable:!Ot}}},_=xY(s),M=P$(s),I=XK(s),Z=JK(s),K=()=>b.get(),le=Se=>b.set(Se),he={shared:{providers:S,anchors:WK(s,i,f,w.isPositionedAtTop),header:w},urlinput:_,styles:M,colorinput:I,dialog:Z,isContextMenuOpen:K,setContextMenuState:le},ye=Se=>P.none(),_e={...he,shared:{...he.shared,interpreter:Se=>DN(Se,{},_e,ye),getSink:n.popup}},Ie={...he,shared:{...he.shared,interpreter:Se=>DN(Se,{},Ie,ye),getSink:n.dialog}};return{popup:_e,dialog:Ie}},NN={skipFocus:"ToggleToolbarDrawer skipFocus is deprecated see migration guide: https://www.tiny.cloud/docs/tinymce/latest/migration-from-7x/"},CY=n=>{console.warn(NN[n],new Error().stack)},MN=(n,s,i)=>{const f=(on,mo)=>{bt([s,...i],to=>{to.broadcastEvent(on,mo)})},b=(on,mo)=>{bt([s,...i],to=>{to.broadcastOn([on],mo)})},w=on=>b(Jm(),{target:on.target}),S=on=>{b(hf(),{closedTooltip:()=>{on.preventDefault()}})},_=Wi(),M=Fs(_,"touchstart",w),I=Fs(_,"touchmove",on=>f(Fp(),on)),Z=Fs(_,"touchend",on=>f(ub(),on)),K=Fs(_,"mousedown",w),le=Fs(_,"mouseup",on=>{on.raw.button===0&&b(o0(),{target:on.target})}),he=on=>b(Jm(),{target:fn.fromDom(on.target)}),ye=on=>{on.button===0&&b(o0(),{target:fn.fromDom(on.target)})},_e=()=>{bt(n.editorManager.get(),on=>{n!==on&&on.dispatch("DismissPopups",{relatedTarget:n})})},Ie=on=>f(fm(),Za(on)),Se=on=>{b(gl(),{}),f(vi(),Za(on))},Ye=Ti(fn.fromDom(n.getElement())),st=Wu(Ye,"scroll",on=>{requestAnimationFrame(()=>{const mo=n.getContainer();if(mo!=null){const ys=Wb(n,s.element).map(ho=>[ho.element,...ho.others]).getOr([]);wt(ys,ho=>se(ho,on.target))&&(n.dispatch("ElementScroll",{target:on.target.dom}),f(nd(),on))}})}),xt=()=>b(gl(),{}),Ot=on=>{on.state&&b(Jm(),{target:fn.fromDom(n.getContainer())})},kn=on=>{b(Jm(),{target:fn.fromDom(on.relatedTarget.getContainer())})},Qt=on=>n.dispatch("focusin",on),rn=on=>n.dispatch("focusout",on);n.on("PostRender",()=>{n.on("click",he),n.on("tap",he),n.on("mouseup",ye),n.on("mousedown",_e),n.on("ScrollWindow",Ie),n.on("ResizeWindow",Se),n.on("ResizeEditor",xt),n.on("AfterProgressState",Ot),n.on("DismissPopups",kn),n.on("CloseActiveTooltips",S),bt([s,...i],on=>{on.element.dom.addEventListener("focusin",Qt),on.element.dom.addEventListener("focusout",rn)})}),n.on("remove",()=>{n.off("click",he),n.off("tap",he),n.off("mouseup",ye),n.off("mousedown",_e),n.off("ScrollWindow",Ie),n.off("ResizeWindow",Se),n.off("ResizeEditor",xt),n.off("AfterProgressState",Ot),n.off("DismissPopups",kn),n.off("CloseActiveTooltips",S),bt([s,...i],on=>{on.element.dom.removeEventListener("focusin",Qt),on.element.dom.removeEventListener("focusout",rn)}),K.unbind(),M.unbind(),I.unbind(),Z.unbind(),le.unbind(),st.unbind()}),n.on("detach",()=>{bt([s,...i],yA),bt([s,...i],on=>on.destroy())})},SY=J,BN=pt,Q$=ie([]);var EY=Object.freeze({__proto__:null,setup:SY,isDocked:BN,getBehaviours:Q$});const LN=ie(me("toolbar-height-change")),O1={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},J$="tox-tinymce--toolbar-sticky-on",TY="tox-tinymce--toolbar-sticky-off",Yne=(n,s)=>{const i=Oc(s),b=yp(s).dom.innerHeight,w=ka(i),S=fn.fromDom(n.elm),_=Rh(S),M=pi(S),I=_.y,Z=I+M,K=Bl(s),le=pi(s),he=K.top,ye=he+le,_e=Math.abs(he-w.top)<2,Ie=Math.abs(ye-(w.top+b))<2;if(_e&&I<ye)Sd(w.left,I-le,i);else if(Ie&&Z>he){const Se=I-b+M+le;Sd(w.left,Se,i)}},QE=(n,s)=>Me(Ja.getModes(n),s),PN=n=>{const s=f=>Ai(f)+(parseInt(yr(f,"margin-top"),10)||0)+(parseInt(yr(f,"margin-bottom"),10)||0),i=n.element;Tu(i).each(f=>{const b="padding-"+Ja.getModes(n)[0];if(Ja.isDocked(n)){const w=Mi(f);Co(i,"width",w+"px"),Co(f,b,s(i)+"px")}else cs(i,"width"),cs(f,b)})},FN=(n,s)=>{s?(ha(n,O1.fadeOutClass),Ku(n,[O1.transitionClass,O1.fadeInClass])):(ha(n,O1.fadeInClass),Ku(n,[O1.fadeOutClass,O1.transitionClass]))},eI=(n,s)=>{const i=fn.fromDom(n.getContainer());s?(nr(i,J$),ha(i,TY)):(nr(i,TY),ha(i,J$))},AY=(n,s)=>{const i=Oc(s);ri(i).filter(f=>!se(s,f)).filter(f=>se(f,fn.fromDom(i.dom.body))||Ae(n,f)).each(()=>Fa(s))},kY=(n,s)=>ai(n).orThunk(()=>s().toOptional().bind(i=>ai(i.element))),DY=(n,s,i)=>{n.inline||(s.header.isPositionedAtTop()||n.on("ResizeEditor",()=>{i().each(Ja.reset)}),n.on("ResizeWindow ResizeEditor",()=>{i().each(PN)}),n.on("SkinLoaded",()=>{i().each(f=>{Ja.isDocked(f)?Ja.reset(f):Ja.refresh(f)})}),n.on("FullscreenStateChanged",()=>{i().each(Ja.reset)})),n.on("AfterScrollIntoView",f=>{i().each(b=>{Ja.refresh(b);const w=b.element;qa(w)&&Yne(f,w)})}),n.on("PostRender",()=>{eI(n,!1)})},_Y=n=>n().map(Ja.isDocked).getOr(!1),tI=()=>[fd.config({channels:{[LN()]:{onReceive:PN}}})],nI=(n,s)=>{const i=wo(),f=s.getSink,b=_=>{f().each(M=>_(M.element))},w=_=>{n.inline||PN(_),eI(n,Ja.isDocked(_)),_.getSystem().broadcastOn([gl()],{}),f().each(M=>M.getSystem().broadcastOn([gl()],{}))},S=n.inline?[]:tI();return[et.config({}),Ja.config({contextual:{lazyContext:_=>{const M=Ai(_.element),I=n.inline?n.getContentAreaContainer():n.getContainer();return P.from(I).map(Z=>{const K=Di(fn.fromDom(Z));return Wb(n,_.element).fold(()=>{const he=K.height-M,ye=K.y+(QE(_,"top")?0:M);return Li(K.x,ye,K.width,he)},he=>{const ye=Im(K,V2(he)),_e=QE(_,"top")?ye.y:ye.y+M;return Li(ye.x,_e,ye.width,ye.height-M)})})},onShow:()=>{b(_=>FN(_,!0))},onShown:_=>{b(M=>El(M,[O1.transitionClass,O1.fadeInClass])),i.get().each(M=>{AY(_.element,M),i.clear()})},onHide:_=>{kY(_.element,f).fold(i.clear,i.set),b(M=>FN(M,!1))},onHidden:()=>{b(_=>El(_,[O1.transitionClass]))},...O1},lazyViewport:_=>Wb(n,_.element).fold(()=>{const I=bc(),Z=JL(n),K=I.y+(QE(_,"top")&&!yP(n)?Z:0),le=I.height-(QE(_,"bottom")?Z:0);return{bounds:Li(I.x,K,I.width,le),optScrollEnv:P.none()}},I=>({bounds:V2(I),optScrollEnv:P.some({currentScrollTop:I.element.dom.scrollTop,scrollElmTop:Bl(I.element).top})})),modes:[s.header.getDockingMode()],onDocked:w,onUndocked:w}),...S]};var OY=Object.freeze({__proto__:null,setup:DY,isDocked:_Y,getBehaviours:nI});const RY=n=>{const s=n.editor,i=n.sticky?nI:Q$;return{uid:n.uid,dom:n.dom,components:n.components,behaviours:a(i(s,n.sharedBackstage))}};var oI=oh({factory:(n,s)=>{const i=(b,w)=>{const S=Ze(w,_=>{const M={type:"menubutton",text:_.text,fetch:Z=>{Z(_.getItems())},context:"any"},I=Q5(M).mapError(Z=>Mg(Z)).getOrDie();return ZE(I,"tox-mbtn",s.backstage,P.some("menuitem"))});zo.set(b,S)},f={focus:lo.focusIn,setMenus:i};return{uid:n.uid,dom:n.dom,components:[],behaviours:a([zo.config({}),fe("menubar-events",[Lr(b=>{n.onSetup(b)}),Mt(Jl(),(b,w)=>{ur(b.element,".tox-mbtn--active").each(S=>{bi(w.event.target,".tox-mbtn").each(_=>{se(S,_)||b.getSystem().getByDom(S).each(M=>{b.getSystem().getByDom(_).each(I=>{Gf.expand(I),Gf.close(M),et.focus(I)})})})})}),Mt($h(),(b,w)=>{w.event.prevFocus.bind(S=>b.getSystem().getByDom(S).toOptional()).each(S=>{w.event.newFocus.bind(_=>b.getSystem().getByDom(_).toOptional()).each(_=>{Gf.isOpen(S)&&(Gf.expand(_),Gf.close(S))})})})]),lo.config({mode:"flow",selector:".tox-mbtn",onEscape:b=>(n.onEscape(b),P.some(!0))}),ua.config({})]),apis:f,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Wt("dom"),Wt("uid"),Wt("onEscape"),Wt("backstage"),ht("onSetup",J)],apis:{focus:(n,s)=>{n.focus(s)},setMenus:(n,s,i)=>{n.setMenus(s,i)}}});const sI=" Get all features",rI="https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",NY=n=>{const s=n.promotionLink?[{dom:{tag:"a",attributes:{href:rI,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:sI}}]:[];return{uid:n.uid,dom:n.dom,components:s}},MY=n=>{const{sidebars:s}=n.ui.registry.getAll();bt(ko(s),i=>{const f=s[i],b=()=>oo(P.from(n.queryCommandValue("ToggleSidebar")),i);n.ui.registry.addToggleButton(i,{icon:f.icon,tooltip:f.tooltip,onAction:w=>{n.execCommand("ToggleSidebar",!1,i),w.setActive(b())},onSetup:w=>{w.setActive(b());const S=()=>w.setActive(b());return n.on("ToggleSidebar",S),()=>{n.off("ToggleSidebar",S)}},context:"any"})})},uh=n=>({element:()=>n.element.dom}),BY=(n,s)=>{const i=Ze(ko(s),f=>{const b=s[f],w=Qu(dR(b));return{name:f,getApi:uh,onSetup:w.onSetup,onShow:w.onShow,onHide:w.onHide}});return Ze(i,f=>{const b=Mn(J);return n.slot(f.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Qw.unnamedEvents([E0(f,b),pv(f,b),Mt($p(),(w,S)=>{const _=S.event;Ne(i,I=>I.name===_.name).each(I=>{(_.visible?I.onShow:I.onHide)(I.getApi(w))})})])})})},aI=n=>pu.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:BY(s,n),slotBehaviours:Qw.unnamedEvents([Lr(i=>pu.hideAllSlots(i))])})),iI=(n,s,i)=>{It.getCurrent(n).each(b=>{zo.set(b,[aI(s)]);const w=i?.toLowerCase();H(w)&&ts(s,w)&&It.getCurrent(b).each(S=>{pu.showSlot(S,w),jd.immediateGrow(b),cs(b.element,"width"),q4(n.element,"region")})})},q4=(n,s)=>{uo(n,"role",s)},JE=(n,s)=>{It.getCurrent(n).each(f=>{It.getCurrent(f).each(w=>{jd.hasGrown(f)?pu.isShowing(w,s)?(jd.shrink(f),q4(n.element,"presentation")):(pu.hideAllSlots(w),pu.showSlot(w,s),q4(n.element,"region")):(pu.hideAllSlots(w),pu.showSlot(w,s),jd.grow(f),q4(n.element,"region"))})})},LY=n=>It.getCurrent(n).bind(i=>jd.isGrowing(i)||jd.hasGrown(i)?It.getCurrent(i).bind(w=>Ne(pu.getSlotNames(w),S=>pu.isShowing(w,S))):P.none()),uC=me("FixSizeEvent"),$N=me("AutoSizeEvent"),G4=n=>({uid:n.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:a([ua.config({}),et.config({}),jd.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{It.getCurrent(s).each(pu.hideAllSlots),fs(s,$N)},onGrown:s=>{fs(s,$N)},onStartGrow:s=>{so(s,uC,{width:Gr(s.element,"width").getOr("")})},onStartShrink:s=>{so(s,uC,{width:Mi(s.element)+"px"})}}),zo.config({}),It.config({find:s=>{const i=zo.contents(s);return sn(i)}})])}],behaviours:a([cp.childAt(0),fe("sidebar-sliding-events",[Mt(uC,(s,i)=>{Co(s.element,"width",i.event.width)}),Mt($N,(s,i)=>{cs(s.element,"width")})])])}),PY=n=>(s,i)=>({dom:{tag:"div",attributes:{"aria-label":n.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:h0('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),lI=n=>It.getCurrent(n).each(s=>Fa(s.element,!0)),lg=(n,s)=>{const i="tabindex",f=`data-mce-${i}`;P.from(n.iframeElement).map(fn.fromDom).each(b=>{s?(ii(b,i).each(w=>uo(b,f,w)),uo(b,i,-1)):(cr(b,i),ii(b,f).each(w=>{uo(b,i,w),cr(b,f)}))})},FY=(n,s,i,f)=>{const b=s.element;if(lg(n,i),i)tn.block(s,PY(f)),cs(b,"display"),cr(b,"aria-hidden"),n.hasFocus()&&lI(s);else{const w=It.getCurrent(s).exists(S=>Jc(S.element));tn.unblock(s),Co(b,"display","none"),uo(b,"aria-hidden","true"),w&&n.focus()}},K4=n=>({uid:n.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:a([zo.config({}),tn.config({focus:!1}),It.config({find:s=>sn(s.components())})]),components:[]}),cI=n=>n.type==="focusin",uI=n=>cI(n)?(n.composed?sn(n.composedPath()):P.from(n.target)).map(fn.fromDom).filter(Yc).exists(i=>Da(i,"mce-pastebin")):!1,$Y=(n,s,i)=>{const f=Mn(!1),b=wo(),w=_=>{f.get()&&!uI(_)&&(_.preventDefault(),lI(s()),n.editorManager.setActive(n))};n.inline||n.on("PreInit",()=>{n.dom.bind(n.getWin(),"focusin",w),n.on("BeforeExecCommand",_=>{_.command.toLowerCase()==="mcefocus"&&_.value!==!0&&w(_)})});const S=_=>{_!==f.get()&&(f.set(_),FY(n,s(),_,i.providers),hG(n,_))};n.on("ProgressState",_=>{if(b.on(clearTimeout),ct(_.time)){const M=Fk.setEditorTimeout(n,()=>S(_.state),_.time);b.set(M)}else S(_.state),b.clear()})},IN=n=>{const s=n.label.isNone()?n.title.fold(()=>({}),i=>({attributes:{"aria-label":i}})):n.label.fold(()=>({}),i=>({attributes:{"aria-label":i}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(n.label.isSome()?["tox-toolbar__group_with_label"]:[]),...s},components:[...n.label.map(i=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[Na(i)]})).toArray(),Lk.parts.items({})],items:n.items,markers:{itemSelector:".tox-tbtn:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:a([ua.config({}),et.config({ignore:!0})])}},Y4=n=>Lk.sketch(IN(n)),dI=(n,s)=>{const i=Lr(f=>{const b=Ze(n.initGroups,Y4);g0.setGroups(f,b)});return a([S0.toolbarButton(()=>n.providers.checkUiComponentContext("any").shouldDisable),tl(()=>n.providers.checkUiComponentContext("any")),lo.config({mode:s,onEscape:n.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),fe("toolbar-events",[i])])},fI=n=>{const s=n.cyclicKeying?"cyclic":"acyclic";return{uid:n.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":IN({title:P.none(),label:P.none(),items:[]}),"overflow-button":x$({context:"any",icon:P.some("more-drawer"),enabled:!0,tooltip:P.some("Reveal or hide additional toolbar items")},P.none(),n.providers,[],"overflow-button")},splitToolbarBehaviours:dI(n,s)}},IY=n=>{const s=fI(n),i=4,f=PL.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return PL.sketch({...s,lazySink:n.getSink,getOverflowBounds:()=>{const b=n.moreDrawerData.lazyHeader().element,w=Rh(b),S=bp(b),_=Rh(S),M=Math.max(S.dom.scrollHeight,_.height);return Li(w.x+i,_.y,w.width-i*2,M)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n.attributes}}},components:[f],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:b=>n.onToggled(b,!0),onClosed:b=>n.onToggled(b,!1)})},HY=n=>{const s=UO.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=UO.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),f=fI(n);return UO.sketch({...f,components:[s,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:b=>{b.getSystem().broadcastOn([LN()],{type:"opened"}),n.onToggled(b,!0)},onClosed:b=>{b.getSystem().broadcastOn([LN()],{type:"closed"}),n.onToggled(b,!1)}})},X4=n=>{const s=n.cyclicKeying?"cyclic":"acyclic";return g0.sketch({uid:n.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(n.type===ih.scrolling?["tox-toolbar--scrolling"]:[])},components:[g0.parts.groups({})],toolbarBehaviours:dI(n,s)})},zY=(n,s)=>{const i=n.type==="togglebutton",f=n.icon.map(Se=>wv(Se,s.icons)).map(gr),w=Se=>{const Ye=kn=>{f.map(Qt=>Qt.getOpt(Se).each(rn=>{zo.set(rn,[wv(kn,s.icons)])}))},st=kn=>{const Qt=Se.element;kn?(nr(Qt,"tox-button--enabled"),uo(Qt,"aria-pressed",!0)):(ha(Qt,"tox-button--enabled"),cr(Qt,"aria-pressed"))},xt=()=>Da(Se.element,"tox-button--enabled"),Ot=()=>Fa(Se.element);if(i)return n.onAction({setIcon:Ye,setActive:st,isActive:xt,focus:Ot});if(n.type==="button")return n.onAction({setIcon:Ye})},S={...n,name:i?n.text.getOr(n.icon.getOr("")):n.text??n.icon.getOr(""),primary:n.buttonType==="primary",buttonType:P.from(n.buttonType),tooltip:n.tooltip,icon:n.icon,enabled:!0,borderless:n.borderless},_=yN(n.buttonType??"secondary"),M=i?n.text.map(s.translate):P.some(s.translate(n.text)),I=M.map(Na),Z=S.tooltip.or(M).map(Se=>({"aria-label":s.translate(Se)})).getOr({}),K=f.map(Se=>Se.asSpec()),le=T1([K,I]),he=n.icon.isSome()&&I.isSome(),ye={tag:"button",classes:_.concat(...n.icon.isSome()&&!he?["tox-button--icon"]:[]).concat(...he?["tox-button--icon-and-text"]:[]).concat(...n.borderless?["tox-button--naked"]:[]).concat(...n.type==="togglebutton"&&n.active?["tox-button--enabled"]:[]),attributes:Z},_e=[],Ie=H4(S,P.some(w),_e,ye,le,n.tooltip,s);return rc.sketch(Ie)},HN=(n,s)=>zY(n,s),mI=(n,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Ze(n.buttons,i=>HN(i,s))}),zN=Ua().deviceType,VY=zN.isPhone(),hI=zN.isTablet(),jY=n=>{let s=!1;const i=Ze(n.buttons,f=>f.type==="group"?(s=!0,mI(f,n.providers)):HN(f,n.providers));return{uid:n.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...VY||hI?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:a([et.config({}),lo.config({mode:"flow",selector:"button, .tox-button",focusInside:Pg.OnEnterOrSpaceMode})]),components:s?i:[d0.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),d0.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:i})]}},UY=n=>({uid:n.uid,behaviours:a([et.config({}),ua.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}}),gI=(n,s,i,f)=>{const b={getPane:w=>Ac.getPart(w,n,"pane"),getOnShow:w=>n.viewConfig.onShow,getOnHide:w=>n.viewConfig.onHide};return{uid:n.uid,dom:n.dom,components:s,behaviours:a([et.config({}),lo.config({mode:"cyclic",focusInside:Pg.OnEnterOrSpaceMode})]),apis:b}};var lx=gf({name:"silver.View",configFields:[Wt("viewConfig")],partFields:[fu({factory:{sketch:jY},schema:[Wt("buttons"),Wt("providers")],name:"header"}),fu({factory:{sketch:UY},schema:[],name:"pane"})],factory:gI,apis:{getPane:(n,s)=>n.getPane(s),getOnShow:(n,s)=>n.getOnShow(s),getOnHide:(n,s)=>n.getOnHide(s)}});const pI=(n,s,i)=>Es(s,(f,b)=>{const w=Qu(Jq(f));return n.slot(b,lx.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:w,components:[...w.buttons.length>0?[lx.parts.header({buttons:w.buttons,providers:i})]:[],lx.parts.pane({})]}))}),ZY=(n,s)=>pu.sketch(i=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:pI(i,n,s),slotBehaviours:Qw.unnamedEvents([Lr(f=>pu.hideAllSlots(f))])})),bI=n=>Ne(pu.getSlotNames(n),s=>pu.isShowing(n,s)),WY=n=>{const s=n.element;Co(s,"display","none"),uo(s,"aria-hidden","true")},yI=n=>{const s=n.element;cs(s,"display"),cr(s,"aria-hidden")},qY=n=>({getContainer:ie(n)}),vI=(n,s,i)=>{pu.getSlot(n,s).each(f=>{lx.getPane(f).each(b=>{i(f)(qY(b.element.dom))})})},GY=(n,s)=>vI(n,s,lx.getOnShow),KY=(n,s)=>vI(n,s,lx.getOnHide);var Q4=oh({factory:(n,s)=>{const w={setViews:(S,_)=>{zo.set(S,[ZY(_,s.backstage.shared.providers)])},whichView:S=>It.getCurrent(S).bind(bI),toggleView:(S,_,M,I)=>It.getCurrent(S).exists(Z=>{const K=bI(Z),le=K.exists(ye=>I===ye),he=pu.getSlot(Z,I).isSome();return he&&(pu.hideAllSlots(Z),le?(WY(S),_()):(M(),yI(S),pu.showSlot(Z,I),GY(Z,I)),K.each(ye=>KY(Z,ye))),he})};return{uid:n.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:a([zo.config({}),It.config({find:S=>{const _=zo.contents(S);return sn(_)}})]),apis:w}},name:"silver.ViewWrapper",configFields:[Wt("backstage")],apis:{setViews:(n,s,i)=>n.setViews(s,i),toggleView:(n,s,i,f,b)=>n.toggleView(s,i,f,b),whichView:(n,s)=>n.whichView(s)}});const YY=(n,s,i)=>{let f=!1;const b=S=>{fy(S,".tox-statusbar").each(_=>{yr(_,"display")==="none"&&ea(_,"aria-hidden")==="true"?(cs(_,"display"),cr(_,"aria-hidden")):(Co(_,"display","none"),uo(_,"aria-hidden","true"))})},w={getSocket:S=>Ac.getPart(S,n,"socket"),setSidebar:(S,_,M)=>{Ac.getPart(S,n,"sidebar").each(I=>iI(I,_,M))},toggleSidebar:(S,_)=>{Ac.getPart(S,n,"sidebar").each(M=>JE(M,_))},whichSidebar:S=>Ac.getPart(S,n,"sidebar").bind(LY).getOrNull(),getHeader:S=>Ac.getPart(S,n,"header"),getToolbar:S=>Ac.getPart(S,n,"toolbar"),setToolbar:(S,_)=>{Ac.getPart(S,n,"toolbar").each(M=>{const I=Ze(_,Y4);M.getApis().setGroups(M,I)})},setToolbars:(S,_)=>{Ac.getPart(S,n,"multiple-toolbar").each(M=>{const I=Ze(_,Z=>Ze(Z,Y4));m8.setItems(M,I)})},refreshToolbar:S=>{Ac.getPart(S,n,"toolbar").each(M=>M.getApis().refresh(M))},toggleToolbarDrawer:S=>{Ac.getPart(S,n,"toolbar").each(_=>{sa(_.getApis().toggle,M=>M(_))})},toggleToolbarDrawerWithoutFocusing:S=>{Ac.getPart(S,n,"toolbar").each(_=>{sa(_.getApis().toggleWithoutFocusing,M=>M(_))})},isToolbarDrawerToggled:S=>Ac.getPart(S,n,"toolbar").bind(_=>P.from(_.getApis().isOpen).map(M=>M(_))).getOr(!1),getThrobber:S=>Ac.getPart(S,n,"throbber"),focusToolbar:S=>{Ac.getPart(S,n,"toolbar").orThunk(()=>Ac.getPart(S,n,"multiple-toolbar")).each(M=>{lo.focusIn(M)})},setMenubar:(S,_)=>{Ac.getPart(S,n,"menubar").each(M=>{oI.setMenus(M,_)})},focusMenubar:S=>{Ac.getPart(S,n,"menubar").each(_=>{oI.focus(_)})},setViews:(S,_)=>{Ac.getPart(S,n,"viewWrapper").each(M=>{Q4.setViews(M,_)})},toggleView:(S,_)=>Ac.getPart(S,n,"viewWrapper").exists(M=>Q4.toggleView(M,()=>w.showMainView(S),()=>w.hideMainView(S),_)),whichView:S=>Ac.getPart(S,n,"viewWrapper").bind(Q4.whichView).getOrNull(),hideMainView:S=>{f=w.isToolbarDrawerToggled(S),f&&w.toggleToolbarDrawer(S),Ac.getPart(S,n,"editorContainer").each(_=>{const M=_.element;b(M),Co(M,"display","none"),uo(M,"aria-hidden","true")})},showMainView:S=>{f&&w.toggleToolbarDrawer(S),Ac.getPart(S,n,"editorContainer").each(_=>{const M=_.element;b(M),cs(M,"display"),cr(M,"aria-hidden")})}};return{uid:n.uid,dom:n.dom,components:s,apis:w,behaviours:n.behaviours}},XY=rh.optional({factory:oI,name:"menubar",schema:[Wt("backstage")]}),QY=n=>n.type===ih.sliding?HY:n.type===ih.floating?IY:X4,JY=rh.optional({factory:{sketch:n=>m8.sketch({uid:n.uid,dom:n.dom,listBehaviours:a([lo.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>X4({type:n.type,uid:me("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:n.providers,onEscape:()=>(n.onEscape(),P.some(!0))}),setupItem:(s,i,f,b)=>{g0.setGroups(i,f)},shell:!0})},name:"multiple-toolbar",schema:[Wt("dom"),Wt("onEscape")]}),VN=rh.optional({factory:{sketch:n=>{const s=QY(n),i={type:n.type,uid:n.uid,onEscape:()=>(n.onEscape(),P.some(!0)),onToggled:(f,b)=>n.onToolbarToggled(b),cyclicKeying:!1,initGroups:[],getSink:n.getSink,providers:n.providers,moreDrawerData:{lazyToolbar:n.lazyToolbar,lazyMoreButton:n.lazyMoreButton,lazyHeader:n.lazyHeader},attributes:n.attributes};return s(i)}},name:"toolbar",schema:[Wt("dom"),Wt("onEscape"),Wt("getSink")]}),eX=rh.optional({factory:{sketch:RY},name:"header",schema:[Wt("dom")]}),tX=rh.optional({factory:{sketch:NY},name:"promotion",schema:[Wt("dom"),Wt("promotionLink")]}),xI=rh.optional({name:"socket",schema:[Wt("dom")]}),wI=rh.optional({factory:{sketch:G4},name:"sidebar",schema:[Wt("dom")]}),nX=rh.optional({factory:{sketch:K4},name:"throbber",schema:[Wt("dom")]}),oX=rh.optional({factory:Q4,name:"viewWrapper",schema:[Wt("backstage")]}),sX=n=>({uid:n.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:n.components}),rX=rh.optional({factory:{sketch:sX},name:"editorContainer",schema:[]});var Yr=gf({name:"OuterContainer",factory:YY,configFields:[Wt("dom"),Wt("behaviours")],partFields:[eX,XY,VN,JY,xI,wI,tX,nX,oX,rX],apis:{getSocket:(n,s)=>n.getSocket(s),setSidebar:(n,s,i,f)=>{n.setSidebar(s,i,f)},toggleSidebar:(n,s,i)=>{n.toggleSidebar(s,i)},whichSidebar:(n,s)=>n.whichSidebar(s),getHeader:(n,s)=>n.getHeader(s),getToolbar:(n,s)=>n.getToolbar(s),setToolbar:(n,s,i)=>{n.setToolbar(s,i)},setToolbars:(n,s,i)=>{n.setToolbars(s,i)},refreshToolbar:(n,s)=>n.refreshToolbar(s),toggleToolbarDrawer:(n,s)=>{n.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(n,s)=>{n.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(n,s)=>n.isToolbarDrawerToggled(s),getThrobber:(n,s)=>n.getThrobber(s),setMenubar:(n,s,i)=>{n.setMenubar(s,i)},focusMenubar:(n,s)=>{n.focusMenubar(s)},focusToolbar:(n,s)=>{n.focusToolbar(s)},setViews:(n,s,i)=>{n.setViews(s,i)},toggleView:(n,s,i)=>n.toggleView(s,i),whichView:(n,s)=>n.whichView(s)}});const aX="file edit view insert format tools table help",jN={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code suggestededits revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image video link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},J4=(n,s,i)=>{const f=KL(i).split(/[ ,]/);return{text:n.title,getItems:()=>Be(n.items,b=>{const w=b.toLowerCase();return w.trim().length===0?[]:wt(f,S=>S===w)?[]:w==="separator"||w==="|"?[{type:"separator"}]:s.menuItems[w]?[s.menuItems[w]]:[]})}},eT=n=>n.split(" "),CI=(n,s)=>{const i={...jN,...s.menus},f=ko(s.menus).length>0,b=s.menubar===void 0||s.menubar===!0?eT(aX):eT(s.menubar===!1?"":s.menubar),w=vo(b,_=>{const M=ts(jN,_);return f?M||Hn(s.menus,_).exists(I=>ts(I,"items")):M}),S=Ze(w,_=>{const M=i[_];return J4({title:M.title,items:eT(M.items)},s,n)});return vo(S,_=>{const M=I=>H(I)||I.type!=="separator";return _.getItems().length>0&&wt(_.getItems(),M)})},iX=n=>{const s=()=>{n._skinLoaded=!0,qF(n)};return()=>{n.initialized?s():n.on("init",s)}},SI=(n,s)=>()=>p4(n,{message:s}),lX=n=>{const s=mE(n);return s?P.from(s):P.none()},EI=(n,s,i)=>(n.on("remove",()=>i.unload(s)),i.load(s)),e3=(n,s,i,f)=>(n.on("remove",()=>f.unloadRawCss(s)),f.loadRawCss(s,i)),TI=(n,s)=>"ui/"+n+"/"+s,cX=n=>P.from(tinymce.Resource.get(n)).filter(H),UN=(n,s,i="")=>{const f=lX(n).map(w=>TI(w,`${s}.css`)),b=f.bind(cX);return Ts(f,b,(w,S)=>({_kind:"load-raw",key:w,css:S})).getOrThunk(()=>{const w=n.editorManager.suffix;return{_kind:"load-stylesheet",url:i+`/${s}${w}.css`}})},ZN=(n,s)=>{const i=n.ui.styleSheetLoader,f=UN(n,"skin",s);switch(f._kind){case"load-raw":const{key:b,css:w}=f;return e3(n,b,w,i),Promise.resolve();case"load-stylesheet":const{url:S}=f;return EI(n,S,i);default:return Promise.resolve()}},uX=(n,s)=>{if(xd(fn.fromDom(n.getElement()))){const f=Lw.DOM.styleSheetLoader,b=UN(n,"skin.shadowdom",s);switch(b._kind){case"load-raw":const{key:w,css:S}=b;return e3(n,w,S,f),Promise.resolve();case"load-stylesheet":const{url:_}=b;return EI(n,_,f);default:return Promise.resolve()}}else return Promise.resolve()},dX=(n,s,i)=>{const b=UN(n,s?"content.inline":"content",i);switch(b._kind){case"load-raw":const{key:w,css:S}=b;return s?e3(n,w,S,n.ui.styleSheetLoader):n.on("PostRender",()=>{e3(n,w,S,n.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:_}=b;return i&&n.contentCSS.push(_),Promise.resolve();default:return Promise.resolve()}},AI=async(n,s)=>{const i=a5(s);if(await dX(s,n,i),!hE(s)&&H(i))return Promise.all([ZN(s,i),uX(s,i)]).then()},kI=(n,s)=>AI(n,s).then(iX(s),SI(s,"Skin could not be loaded")),DI=mn(kI,!1),fX=mn(kI,!0),WN=n=>({isEnabled:()=>!eo.isDisabled(n),setEnabled:s=>eo.set(n,!s),setText:s=>so(n,ig,{text:s}),setIcon:s=>so(n,ix,{icon:s})}),mX=n=>({setActive:s=>{Ns.set(n,s)},isActive:()=>Ns.isOn(n),isEnabled:()=>!eo.isDisabled(n),setEnabled:s=>eo.set(n,!s),setText:s=>so(n,ig,{text:s}),setIcon:s=>so(n,ix,{icon:s})}),hX=(n,s)=>n.map(i=>({"aria-label":s.translate(i)})).getOr({}),gX=me("focus-button"),t3=(n,s,i,f,b,w,S)=>{const _=s.map(I=>gr(dN(I,"tox-tbtn",b))),M=n.map(I=>gr(wv(I,b.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:{...hX(i,b),...$e(S)?{"data-mce-name":S}:{}}},components:T1([M.map(I=>I.asSpec()),_.map(I=>I.asSpec())]),eventOrder:{[uu()]:["focusing","alloy.base.behaviour",_1],[Lc()]:[_1,"toolbar-group-button-events"],[wc()]:[_1,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:a([S0.toolbarButton(()=>b.checkUiComponentContext(w).shouldDisable),tl(()=>b.checkUiComponentContext(w)),fe(_1,[Lr((I,Z)=>L4(I)),Mt(ig,(I,Z)=>{_.bind(K=>K.getOpt(I)).each(K=>{zo.set(K,[Na(b.translate(Z.event.text))])})}),Mt(ix,(I,Z)=>{M.bind(K=>K.getOpt(I)).each(K=>{zo.set(K,[wv(Z.event.icon,b.icons)])})}),Mt(uu(),(I,Z)=>{Z.event.prevent(),fs(I,gX)})])].concat(f.getOr([])))}},pX=(n,s,i,f,b)=>{const w=s.shared,S=Mn(J),_={toolbarButtonBehaviours:[],getApi:WN,onSetup:n.onSetup},M=[fe("toolbar-group-button-events",[E0(_,S),pv(_,S)]),...n.tooltip.map(I=>va.config(s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(I)}))).toArray()];return Zb.sketch({lazySink:w.getSink,fetch:()=>ls.nu(I=>{I(Ze(i(n.items),Y4))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:t3(n.icon,n.text,n.tooltip,P.some(M),w.providers,n.context,b),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:f}}}})},_I=(n,s,i,f)=>{const b=Mn(J),w=t3(n.icon,n.text,n.tooltip,P.none(),i,n.context,f);return rc.sketch({dom:w.dom,components:w.components,eventOrder:cN,buttonBehaviours:{...a([fe("toolbar-button-events",[pK({onAction:n.onAction,getApi:s.getApi}),E0(s,b),pv(s,b)]),...n.tooltip.map(S=>va.config(i.tooltips.getConfig({tooltipText:i.translate(S)+n.shortcut.map(_=>` (${bR(_)})`).getOr("")}))).toArray(),S0.toolbarButton(()=>!n.enabled||i.checkUiComponentContext(n.context).shouldDisable),tl(()=>i.checkUiComponentContext(n.context))].concat(s.toolbarButtonBehaviours)),[_1]:w.buttonBehaviours?.[_1]}})},bX=(n,s,i)=>tT(n,s,[],i),tT=(n,s,i,f)=>_I(n,{toolbarButtonBehaviours:i.length>0?[fe("toolbarButtonWith",i)]:[],getApi:WN,onSetup:n.onSetup},s,f),qN=(n,s,i)=>OI(n,s,[],i),OI=(n,s,i,f)=>_I(n,{toolbarButtonBehaviours:[zo.config({}),Ns.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[fe("toolbarToggleButtonWith",i)]:[]),getApi:mX,onSetup:n.onSetup},s,f),yX=(n,s,i)=>f=>ls.nu(b=>s.fetch(b)).map(b=>P.from(QR(qt(E4(me("menu-value"),b,w=>{s.onItemAction(n(f),w)},s.columns,s.presets,ip.CLOSE_ON_EXECUTE,s.select.getOr(pt),i),{movement:vv(s.columns,s.presets),menuBehaviours:Qw.unnamedEvents(s.columns!=="auto"?[]:[Lr((w,S)=>{hR(w,4,D5(s.presets)).each(({numRows:_,numColumns:M})=>{lo.setGridSize(w,_,M)})})])})))),vX=(n,s,i)=>f=>{const b=f.getSystem(),w=f.element,S=()=>{const M=Da(w,"tox-split-button__chevron"),I=M?wl(w).bind(K=>b.getByDom(K).toOptional()):P.some(f),Z=M?P.some(f):Nm(w).bind(K=>b.getByDom(K).toOptional().filter(le=>Da(le.element,"tox-split-button__chevron")));return{mainOpt:I,chevronOpt:Z}},_=M=>{const{mainOpt:I,chevronOpt:Z}=S();I.each(M),Z.each(M)};return{isEnabled:()=>{const{mainOpt:M}=S();return M.exists(I=>!eo.isDisabled(I))},setEnabled:M=>_(I=>eo.set(I,!M)),setText:M=>{const{mainOpt:I}=S();I.each(Z=>so(Z,ig,{text:M}))},setIcon:M=>{const{mainOpt:I}=S();I.each(Z=>so(Z,ix,{icon:M}))},setIconFill:(M,I)=>_(Z=>{ur(Z.element,`svg path[class="${M}"], rect[class="${M}"]`).each(K=>{uo(K,"fill",I)})}),isActive:()=>{const{mainOpt:M}=S();return M.exists(I=>Ns.isOn(I))},setActive:M=>{const{mainOpt:I}=S();I.each(Z=>Ns.set(Z,M))},setTooltip:M=>{n.set(M);const{mainOpt:I,chevronOpt:Z}=S();I.each(le=>uo(le.element,"aria-label",s.providers.translate(M)));const K=i.chevronTooltip.map(le=>s.providers.translate(le)).getOr(s.providers.translate(M));Z.each(le=>uo(le.element,"aria-label",K))}}},xX=(n,s,i)=>{const f=Mn(J),b=Mn(n.tooltip.getOr("")),w=vX(b,s,n),S=me("tox-split-menu"),_=Mn(!1),M=()=>({"aria-haspopup":"menu","aria-expanded":String(_.get()),"aria-controls":S}),I=()=>n.tooltip.map(_e=>s.providers.translate(_e)).getOr(s.providers.translate("Text color")),Z=()=>n.chevronTooltip.map(_e=>s.providers.translate(_e)).getOrThunk(()=>{const _e=I();return s.providers.translate(["{0} menu",_e])}),K=(_e,Ie)=>{_.set(_e),uo(Ie.element,"aria-expanded",String(_e))},le=Gf.sketch({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:JZ("chevron-down",s.providers.icons),attributes:{"aria-label":Z(),...$e(i)?{"data-mce-name":i+"-chevron"}:{},...M()}},components:[],toggleClass:"tox-tbtn--enabled",dropdownBehaviours:a([fe("split-dropdown-events",[Lr((_e,Ie)=>L4(_e)),E0({getApi:w,onSetup:n.onSetup},f),Mt("alloy-dropdown-open",_e=>K(!0,_e)),Mt("alloy-dropdown-close",_e=>K(!1,_e))]),S0.toolbarButton(()=>s.providers.checkUiComponentContext(n.context).shouldDisable),tl(()=>s.providers.checkUiComponentContext(n.context)),m0.config({}),va.config(s.providers.tooltips.getConfig({tooltipText:Z(),onShow:_e=>{if(b.get()!==n.tooltip.getOr("")){const Ie=n.chevronTooltip.map(Se=>s.providers.translate(Se)).getOr(`${s.providers.translate(b.get())} menu`);va.setComponents(_e,s.providers.tooltips.getComponents({tooltipText:Ie}))}}}))]),lazySink:s.getSink,fetch:yX(w,n,s.providers),getHotspot:_e=>wl(_e.element).bind(Ie=>_e.getSystem().getByDom(Ie).toOptional()),onOpen:(_e,Ie,Se)=>{fr.highlightBy(Se,Ye=>Da(Ye.element,"tox-collection__item--active")),fr.getHighlighted(Se).each(lo.focusIn)},parts:{menu:{...SE(!1,n.columns,n.presets),dom:{...SE(!1,n.columns,n.presets).dom,tag:"div",attributes:{id:S}}}}}),he=t3(n.icon,n.text,P.none(),P.some([Ns.config({toggleClass:"tox-tbtn--enabled",aria:n.presets==="color"?{mode:"none"}:{mode:"pressed"},toggleOnExecute:!1}),...n.tooltip.isSome()?[va.config(s.providers.tooltips.getConfig({tooltipText:s.providers.translate(n.tooltip.getOr("")),onShow:_e=>{if(b.get()!==n.tooltip.getOr("")){const Ie=s.providers.translate(b.get());va.setComponents(_e,s.providers.tooltips.getComponents({tooltipText:Ie}))}}}))]:[]]),s.providers,n.context,i);return[rc.sketch({dom:{...he.dom,classes:["tox-tbtn","tox-split-button__main"].concat(n.text.isSome()?["tox-tbtn--select"]:[]),attributes:{"aria-label":I(),...$e(i)?{"data-mce-name":i}:{}}},components:he.components,eventOrder:he.eventOrder,buttonBehaviours:he.buttonBehaviours,action:_e=>{if(n.onAction){const Ie=w(_e);Ie.isEnabled()&&n.onAction(Ie)}}}),le]},wX=".tox-toolbar-slider__input,.tox-toolbar-textfield",RI=n=>{mi.getContent(n).each(s=>{ur(s.element,wX).fold(()=>lo.focusIn(s),Fa)})},CX=n=>ai(n.element).each(s=>{tu(s,'[tabindex="-1"]').each(i=>{Fa(i)})}),NI=me("forward-slide"),n3=me("backward-slide"),o3=me("change-slide-event"),dC="tox-pop--resizing",GN=n=>{const s=Mn([]);return{sketch:mi.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:f=>{s.set([]),mi.getContent(f).each(b=>{cs(b.element,"visibility")}),ha(f.element,dC),cs(f.element,"width")},onHide:()=>{s.set([]),n.onHide()},inlineBehaviours:a([fe("context-toolbar-events",[t0(Ph(),(f,b)=>{b.event.raw.propertyName==="width"&&(ha(f.element,dC),cs(f.element,"width"))}),Mt(o3,(f,b)=>{const w=f.element;cs(w,"width");const S=Mi(w),_=ai(f.element).isSome();cs(w,"left"),cs(w,"right"),cs(w,"max-width"),mi.setContent(f,b.event.contents),nr(w,dC);const M=Mi(w);Co(w,"transition","none"),mi.reposition(f),cs(w,"transition"),Co(w,"width",S+"px"),b.event.focus.fold(()=>{_&&RI(f)},I=>{ri(Ti(f.element)).fold(()=>Fa(I),Z=>{se(Z,I)||n.focusElement(I)})}),setTimeout(()=>{Co(f.element,"width",M+"px")},0)}),Mt(NI,(f,b)=>{mi.getContent(f).each(w=>{s.set(s.get().concat([{bar:w,focus:ri(Ti(f.element))}]))}),so(f,o3,{contents:b.event.forwardContents,focus:P.none()})}),Mt(n3,(f,b)=>{n.onBack(),Zn(s.get()).each(w=>{s.set(s.get().slice(0,s.get().length-1)),so(f,o3,{contents:D(w.bar),focus:w.focus})})})]),lo.config({mode:"special",onEscape:f=>Zn(s.get()).fold(()=>n.onEscape(),b=>(fs(f,n3),P.some(!0)))})]),lazySink:()=>Pn.value(n.sink)}),inSubtoolbar:()=>s.get().length>0}},MI=(n,s)=>{const i=Qu(E1({type:"button",icon:"chevron-left",tooltip:"Back",onAction:J}));return tT(i,s.shared.providers,[Mt(lN,f=>{fs(f,n3)})])},cg=(n,s,i)=>Ri(i)?n.translate(s):n.translate([s,n.translate(i)]),BI=(n,s)=>{const i=(S,_,M,I)=>{const Z=n.shared.providers.translate(S.title);if(S.type==="separator")return P.some({type:"separator",text:Z});if(S.type==="submenu"){const K=Be(S.getStyleItems(),le=>f(le,_,I));return _===0&&K.length<=0?P.none():P.some({type:"nestedmenuitem",text:Z,enabled:K.length>0,getSubmenuItems:()=>Be(S.getStyleItems(),le=>f(le,_,I))})}else return P.some({type:"togglemenuitem",text:Z,icon:S.icon,active:S.isSelected(I),enabled:!M,onAction:s.onAction(S),...S.getStylePreview().fold(()=>({}),K=>({meta:{style:K}}))})},f=(S,_,M)=>{const I=S.type==="formatter"&&s.isInvalid(S);return _===0?I?[]:i(S,_,!1,M).toArray():i(S,_,I,M).toArray()},b=S=>{const _=s.getCurrentValue(),M=s.shouldHide?0:1;return Be(S,I=>f(I,M,_))};return{validateItems:b,getFetch:(S,_)=>(M,I)=>{const Z=_(),K=b(Z),le=ny(K,ip.CLOSE_ON_EXECUTE,S,{isHorizontalMenu:!1,search:P.none()});I(le)}}},fC=(n,s)=>{const i=s.dataset,f=i.type==="basic"?()=>Ze(i.data,b=>B$(b,s.isSelectedFor,s.getPreviewFor)):i.getData;return{items:BI(n,s),getStyleItems:f}},nT=(n,s,i,f,b,w)=>{const{items:S,getStyleItems:_}=fC(s,i),M=Mn(i.tooltip),I=K=>({getComponent:ie(K),setTooltip:le=>{const he=s.shared.providers.translate(le);uo(K.element,"aria-label",he),M.set(le)}}),Z=K=>{const le=he=>K.setTooltip(cg(n,f(he.value),he.value));return n.on(b,le),ox(yv(n,"NodeChange",he=>{const ye=he.getComponent();i.updateText(ye),eo.set(he.getComponent(),!n.selection.isEditable()||_().length===0)})(K),()=>n.off(b,le))};return fN({context:"mode:design",text:i.icon.isSome()?P.none():i.text,icon:i.icon,ariaLabel:P.some(i.tooltip),tooltip:P.none(),role:P.none(),fetch:S.getFetch(s,_),onSetup:Z,getApi:I,columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[va.config({...s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(i.tooltip),onShow:K=>{if(i.tooltip!==M.get()){const le=s.shared.providers.translate(M.get());va.setComponents(K,s.shared.providers.tooltips.getComponents({tooltipText:le}))}}})})]},"tox-tbtn",s.shared,w)},SX=n=>Ze(n,s=>{let i=s,f=s;const b=s.split("=");return b.length>1&&(i=b[0],f=b[1]),{title:i,format:f}}),EX=n=>({type:"basic",data:n});var mC;(function(n){n[n.SemiColon=0]="SemiColon",n[n.Space=1]="Space"})(mC||(mC={}));const TX=(n,s)=>s===mC.SemiColon?n.replace(/;$/,"").split(";"):n.split(" "),KN=(n,s,i)=>{const f=n.options.get(s);return{type:"basic",data:SX(TX(f,i))}},LI="Align",PI=ie("Alignment {0}"),FI="left",oT=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],$I=n=>{const s=()=>Ne(oT,_=>n.formatter.match(_.format)),i=_=>()=>n.formatter.match(_),f=_=>P.none,b=_=>{const I=s().fold(ie(FI),Z=>Z.title.toLowerCase());so(_,ix,{icon:`align-${I}`}),KF(n,{value:I})},w=EX(oT),S=_=>()=>Ne(oT,M=>M.format===_.format).each(M=>n.execCommand(M.command));return{tooltip:cg(n,PI(),FI),text:P.none(),icon:P.some("align-left"),isSelectedFor:i,getCurrentValue:P.none,getPreviewFor:f,onAction:S,updateText:b,dataset:w,shouldHide:!1,isInvalid:_=>!n.formatter.canApply(_.format)}},AX=(n,s)=>nT(n,s,$I(n),PI,"AlignTextUpdate","align"),kX=(n,s)=>{const i=fC(s,$I(n));n.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate(LI),onSetup:zc(n),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},II=(n,s)=>{const i=s(),f=Ze(i,b=>b.format);return P.from(n.formatter.closest(f)).bind(b=>Ne(i,w=>w.format===b))},DX="Blocks",HI=ie("Block {0}"),s3="Paragraph",YN=n=>{const s=w=>()=>n.formatter.match(w),i=w=>()=>{const S=n.formatter.get(w);return S?P.some({tag:S.length>0&&(S[0].inline||S[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(w))}):P.none()},f=w=>{const _=II(n,()=>b.data).fold(ie(s3),M=>M.title);so(w,ig,{text:_}),b4(n,{value:_})},b=KN(n,"block_formats",mC.SemiColon);return{tooltip:cg(n,HI(),s3),text:P.some(s3),icon:P.none(),isSelectedFor:s,getCurrentValue:P.none,getPreviewFor:i,onAction:y4(n),updateText:f,dataset:b,shouldHide:!1,isInvalid:w=>!n.formatter.canApply(w.format)}},zI=(n,s)=>nT(n,s,YN(n),HI,"BlocksTextUpdate","blocks"),_X=(n,s)=>{const i=fC(s,YN(n));n.ui.registry.addNestedMenuItem("blocks",{text:DX,onSetup:zc(n),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},VI="Fonts",jI=ie("Font {0}"),XN="System Font",OX=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],QN=n=>{const s=n.split(/\s*,\s*/);return Ze(s,i=>i.replace(/^['"]+|['"]+$/g,""))},UI=(n,s)=>s.length>0&&Je(s,i=>n.indexOf(i.toLowerCase())>-1),ZI=(n,s)=>{if(n.indexOf("-apple-system")===0||s.length>0){const i=QN(n.toLowerCase());return UI(i,OX)||UI(i,s)}else return!1},WI=n=>{const s=()=>{const M=ye=>ye?QN(ye)[0]:"",I=n.queryCommandValue("FontName"),Z=_.data,K=I?I.toLowerCase():"",le=fP(n);return{matchOpt:Ne(Z,ye=>{const _e=ye.format;return _e.toLowerCase()===K||M(_e).toLowerCase()===M(K).toLowerCase()}).orThunk(()=>Sa(ZI(K,le),{title:XN,format:K})),font:I}},i=M=>I=>I.exists(Z=>Z.format===M),f=()=>{const{matchOpt:M}=s();return M},b=M=>()=>P.some({tag:"div",styles:M.indexOf("dings")===-1?{"font-family":M}:{}}),w=M=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontName",!1,M.format)})},S=M=>{const{matchOpt:I,font:Z}=s(),K=I.fold(ie(Z),le=>le.title);so(M,ig,{text:K}),vG(n,{value:K})},_=KN(n,"font_family_formats",mC.SemiColon);return{tooltip:cg(n,jI(),XN),text:P.some(XN),icon:P.none(),isSelectedFor:i,getCurrentValue:f,getPreviewFor:b,onAction:w,updateText:S,dataset:_,shouldHide:!1,isInvalid:pt}},RX=(n,s)=>nT(n,s,WI(n),jI,"FontFamilyTextUpdate","fontfamily"),NX=(n,s)=>{const i=fC(s,WI(n));n.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate(VI),onSetup:zc(n),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})};var r3=tinymce.util.Tools.resolve("tinymce.util.VK");const MX=(n,s,i,f)=>{let b=P.none();const w=st=>st.map(xt=>In.getValue(xt)).getOr(""),S=yv(n,"NodeChange SwitchMode DisabledStateChange",st=>{const xt=st.getComponent();b=P.some(xt),i.updateInputValue(xt),eo.set(xt,!n.selection.isEditable()||$k(n))}),_=st=>({getComponent:ie(st)}),M=Mn(J),I=me("custom-number-input-events"),Z=(st,xt,Ot)=>{const kn=w(b),Qt=i.getNewValue(kn,st),rn=kn.length-`${Qt}`.length,on=b.map(to=>to.element.dom.selectionStart-rn),mo=b.map(to=>to.element.dom.selectionEnd-rn);i.onAction(Qt,Ot),b.each(to=>{In.setValue(to,Qt),xt&&(on.each(ys=>to.element.dom.selectionStart=ys),mo.each(ys=>to.element.dom.selectionEnd=ys))})},K=(st,xt)=>Z((Ot,kn)=>Ot-kn,st,xt),le=(st,xt)=>Z((Ot,kn)=>Ot+kn,st,xt),he=st=>Tu(st.element).fold(P.none,xt=>(Fa(xt),P.some(!0))),ye=st=>Jc(st.element)?(ss(st.element).each(xt=>Fa(xt)),P.some(!0)):P.none(),_e=(st,xt,Ot,kn)=>{const Qt=Mn(J),rn=s.shared.providers.translate(Ot),on=me("altExecuting"),mo=yv(n,"NodeChange SwitchMode DisabledStateChange",ys=>{eo.set(ys.getComponent(),!n.selection.isEditable()||$k(n))}),to=ys=>{eo.isDisabled(ys)||st(!0)};return rc.sketch({dom:{tag:"button",attributes:{"aria-label":rn,"data-mce-name":xt},classes:kn.concat(xt)},components:[uN(xt,s.shared.providers.icons)],buttonBehaviours:a([eo.config({}),va.config(s.shared.providers.tooltips.getConfig({tooltipText:rn})),fe(on,[E0({onSetup:mo,getApi:_},Qt),pv({getApi:_},Qt),Mt(Gi(),(ys,ho)=>{(ho.event.raw.keyCode===r3.SPACEBAR||ho.event.raw.keyCode===r3.ENTER)&&(eo.isDisabled(ys)||st(!1))}),Mt(dm(),to),Mt($l(),to)])]),eventOrder:{[Gi()]:[on,"keying"],[dm()]:[on,"alloy.base.behaviour"],[$l()]:[on,"alloy.base.behaviour"],[Lc()]:["alloy.base.behaviour",on,"tooltipping"],[wc()]:[on,"tooltipping"]}})},Ie=gr(_e(st=>K(!1,st),"minus","Decrease font size",[])),Se=gr(_e(st=>le(!1,st),"plus","Increase font size",[])),Ye=gr({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[C1.sketch({inputBehaviours:a([eo.config({}),fe(I,[E0({onSetup:S,getApi:_},M),pv({getApi:_},M)]),fe("input-update-display-text",[Mt(ig,(st,xt)=>{In.setValue(st,xt.event.text)}),Mt(lb(),st=>{i.onAction(In.getValue(st))}),Mt(Lf(),st=>{i.onAction(In.getValue(st))})]),lo.config({mode:"special",onEnter:st=>(Z(it,!0,!0),P.some(!0)),onEscape:he,onUp:st=>(le(!0,!1),P.some(!0)),onDown:st=>(K(!0,!1),P.some(!0)),onLeft:(st,xt)=>(xt.cut(),P.none()),onRight:(st,xt)=>(xt.cut(),P.none())})])})],behaviours:a([et.config({}),lo.config({mode:"special",onEnter:ye,onSpace:ye,onEscape:he}),fe("input-wrapper-events",[Mt(Jl(),st=>{bt([Ie,Se],xt=>{const Ot=fn.fromDom(xt.get(st).element.dom);Jc(Ot)&&ma(Ot)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...$e(f)?{"data-mce-name":f}:{}}},components:[Ie.asSpec(),Ye.asSpec(),Se.asSpec()],behaviours:a([et.config({}),lo.config({mode:"flow",focusInside:Pg.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:st=>Jc(st.element)?P.none():(Fa(st.element),P.some(!0))})])}},BX="Font sizes",qI=ie("Font size {0}"),JN="12pt",LX={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},PX={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},FX=(n,s)=>{const i=Math.pow(10,s);return Math.round(n*i)/i},$X=(n,s)=>/[0-9.]+px$/.test(n)?FX(parseInt(n,10)*72/96,s||0)+"pt":Hn(PX,n).getOr(n),IX=n=>Hn(LX,n).getOr(""),GI=n=>{const s=()=>{let M=P.none();const I=_.data,Z=n.queryCommandValue("FontSize");if(Z)for(let K=3;M.isNone()&&K>=0;K--){const le=$X(Z,K),he=IX(le);M=Ne(I,ye=>ye.format===Z||ye.format===le||ye.format===he)}return{matchOpt:M,size:Z}},i=M=>I=>I.exists(Z=>Z.format===M),f=()=>{const{matchOpt:M}=s();return M},b=ie(P.none),w=M=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontSize",!1,M.format)})},S=M=>{const{matchOpt:I,size:Z}=s(),K=I.fold(ie(Z),le=>le.title);so(M,ig,{text:K}),yG(n,{value:K})},_=KN(n,"font_size_formats",mC.Space);return{tooltip:cg(n,qI(),JN),text:P.some(JN),icon:P.none(),isSelectedFor:i,getPreviewFor:b,getCurrentValue:f,onAction:w,updateText:S,dataset:_,shouldHide:!1,isInvalid:pt}},HX=(n,s)=>nT(n,s,GI(n),qI,"FontSizeTextUpdate","fontsize"),KI=n=>{const s={step:1};return{em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[n]??s},zX=16,VX=n=>n>=0,YI=n=>{const s=()=>n.queryCommandValue("FontSize");return{updateInputValue:f=>so(f,ig,{text:s()}),onAction:(f,b)=>n.execCommand("FontSize",!1,f,{skip_focus:!b}),getNewValue:(f,b)=>{Is(f,["unsupportedLength","empty"]);const w=s(),S=Is(f,["unsupportedLength","empty"]).or(Is(w,["unsupportedLength","empty"])),_=S.map(le=>le.value).getOr(zX),M=Vk(n),I=S.map(le=>le.unit).filter(le=>le!=="").getOr(M),Z=b(_,KI(I).step),K=`${VX(Z)?Z:_}${I}`;return K!==w&&A1(n,{value:K}),K}}},jX=(n,s)=>MX(n,s,YI(n),"fontsizeinput"),XI=(n,s)=>{const i=fC(s,GI(n));n.ui.registry.addNestedMenuItem("fontsize",{text:BX,onSetup:zc(n),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},QI="Formats",JI=n=>Ri(n)?"Formats":"Format {0}",e9=(n,s)=>{const i="Formats",f=S=>()=>n.formatter.match(S),b=S=>()=>{const _=n.formatter.get(S);return _!==void 0?P.some({tag:_.length>0&&(_[0].inline||_[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(S))}):P.none()},w=S=>{const _=K=>tY(K)?Be(K.items,_):_$(K)?[{title:K.title,format:K.format}]:[],M=Be(M$(n),_),Z=II(n,ie(M)).fold(ie({title:i,tooltipLabel:""}),K=>({title:K.title,tooltipLabel:K.title}));so(S,ig,{text:Z.title}),bG(n,{value:Z.tooltipLabel})};return{tooltip:cg(n,JI(""),""),text:P.some(i),icon:P.none(),isSelectedFor:f,getCurrentValue:P.none,getPreviewFor:b,onAction:y4(n),updateText:w,shouldHide:e5(n),isInvalid:S=>!n.formatter.canApply(S.format),dataset:s}},UX=(n,s)=>{const i={type:"advanced",...s.styles};return nT(n,s,e9(n,i),JI,"StylesTextUpdate","styles")},hC=(n,s)=>{const i={type:"advanced",...s.styles},f=fC(s,e9(n,i));n.ui.registry.addNestedMenuItem("styles",{text:QI,onSetup:zc(n,()=>f.getStyleItems().length>0),getSubmenuItems:()=>f.items.validateItems(f.getStyleItems())})},ZX=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],sT=(n,s)=>(i,f,b,w)=>{const S=n(i).mapError(_=>Mg(_)).getOrDie();return s(S,f,b,w)},WX={button:sT(E1,(n,s,i,f)=>bX(n,s.shared.providers,f)),togglebutton:sT(oR,(n,s,i,f)=>qN(n,s.shared.providers,f)),menubutton:sT(Q5,(n,s,i,f)=>ZE(n,"tox-tbtn",s,P.none(),!1,f)),splitbutton:sT(qq,(n,s,i,f)=>xX(n,s.shared,f)),grouptoolbarbutton:sT(fR,(n,s,i,f)=>{const b=i.ui.registry.getAll().buttons,w=_=>a3(i,{buttons:b,toolbar:_,allowToolbarGroups:!1},s,P.none()),S={[Qp]:s.shared.header.isPositionedAtTop()?jf.TopToBottom:jf.BottomToTop};if(z2(i)===ih.floating)return pX(n,s,w,S,f);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},qX=(n,s,i,f)=>Hn(WX,n.type).fold(()=>(console.error("skipping button defined by",n),P.none()),b=>P.some(b(n,s,i,f))),t9={styles:UX,fontsize:HX,fontsizeinput:jX,fontfamily:RX,blocks:zI,align:AX,navigateback:MI},GX=n=>{const s=Ze(ZX,i=>{const f=vo(i.items,b=>ts(n,b)||ts(t9,b));return{name:i.name,items:f}});return vo(s,i=>i.items.length>0)},KX=n=>{const s=n.split("|");return Ze(s,i=>({items:i.trim().split(" ")}))},YX=n=>Ue(n,s=>(ts(s,"name")||ts(s,"label"))&&ts(s,"items")),eM=n=>{const s=n.toolbar,i=n.buttons;return s===!1?[]:s===void 0||s===!0?GX(i):H(s)?KX(s):YX(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},XX=(n,s,i,f,b,w)=>Hn(s,i.toLowerCase()).orThunk(()=>w.bind(S=>Jo(S,_=>Hn(s,_+i.toLowerCase())))).fold(()=>Hn(t9,i.toLowerCase()).map(S=>S(n,b)),S=>S.type==="grouptoolbarbutton"&&!f?(console.warn(`Ignoring the '${i}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),P.none()):qX(S,b,n,i.toLowerCase())),a3=(n,s,i,f)=>{const b=eM(s),w=Ze(b,S=>{const _=Be(S.items,M=>M.trim().length===0?[]:XX(n,s.buttons,M,s.allowToolbarGroups,i,f).map(I=>Array.isArray(I)?I:[I]).getOr([]));return{title:P.from(n.translate(S.name)),label:Sa(S.label!==void 0,n.translate(S.label)),items:_}});return vo(w,S=>S.items.length>0)},tM=(n,s,i,f)=>{const b=s.mainUi.outerContainer,w=i.toolbar,S=i.buttons;if(Ue(w,H)){const _=w.map(M=>{const I={toolbar:M,buttons:S,allowToolbarGroups:i.allowToolbarGroups};return a3(n,I,f,P.none())});Yr.setToolbars(b,_)}else Yr.setToolbar(b,a3(n,i,f,P.none()))},nM=Ua(),QX=nM.os.isiOS()&&nM.os.version.major<=12,JX=(n,s)=>{const{uiMotherships:i}=s,f=n.dom;let b=n.getWin();const w=n.getDoc().documentElement,S=Mn(hr(b.innerWidth,b.innerHeight)),_=Mn(hr(w.offsetWidth,w.offsetHeight)),M=()=>{const le=S.get();(le.left!==b.innerWidth||le.top!==b.innerHeight)&&(S.set(hr(b.innerWidth,b.innerHeight)),NR(n))},I=()=>{const le=n.getDoc().documentElement,he=_.get();(he.left!==le.offsetWidth||he.top!==le.offsetHeight)&&(_.set(hr(le.offsetWidth,le.offsetHeight)),NR(n))},Z=le=>{mG(n,le)};f.bind(b,"resize",M),f.bind(b,"scroll",Z);const K=Wu(fn.fromDom(n.getBody()),"load",I);n.on("hide",()=>{bt(i,le=>{Co(le.element,"display","none")})}),n.on("show",()=>{bt(i,le=>{cs(le.element,"display")})}),n.on("NodeChange",I),n.on("remove",()=>{K.unbind(),f.unbind(b,"resize",M),f.unbind(b,"scroll",Z),b=null})},eQ=(n,s,i)=>{dv(n)&&nh(i.mainUi.mothership.element,i.popupUi.mothership),C2(s,i.dialogUi.mothership)};var tQ=Object.freeze({__proto__:null,render:(n,s,i,f,b)=>{const{mainUi:w,uiMotherships:S}=s,_=Mn(0),M=w.outerContainer;DI(n);const I=fn.fromDom(b.targetNode),Z=vd(Ti(I));nh(I,w.mothership),eQ(n,Z,s),n.on("PostRender",()=>{Yr.setSidebar(M,i.sidebar,cP(n)),Yr.setViews(M,i.views)}),n.on("SkinLoaded",()=>{tM(n,s,i,f),_.set(n.getWin().innerWidth),Yr.setMenubar(M,CI(n,i)),JX(n,s)});const K=Yr.getSocket(M).getOrDie("Could not find expected socket element");if(QX){Or(K.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const _e=Gd(()=>{n.dispatch("ScrollContent")},20),Ie=Fs(K.element,"scroll",_e.throttle);n.on("remove",Ie.unbind)}OF(n,s),n.addCommand("ToggleSidebar",(_e,Ie)=>{Yr.toggleSidebar(M,Ie),xG(n)}),n.addQueryValueHandler("ToggleSidebar",()=>Yr.whichSidebar(M)??""),n.addCommand("ToggleView",(_e,Ie)=>{if(Yr.toggleView(M,Ie)){const Se=M.element;w.mothership.broadcastOn([Jm()],{target:Se}),bt(S,Ye=>{Ye.broadcastOn([Jm()],{target:Se})}),ne(Yr.whichView(M))&&(n.focus(),n.nodeChanged(),Yr.refreshToolbar(M)),YF(n)}}),n.addQueryValueHandler("ToggleView",()=>Yr.whichView(M)??"");const le=z2(n),he=()=>{Yr.refreshToolbar(s.mainUi.outerContainer)};(le===ih.sliding||le===ih.floating)&&n.on("ResizeWindow ResizeEditor ResizeContent",()=>{const _e=n.getWin().innerWidth;_e!==_.get()&&(he(),_.set(_e))});const ye={setEnabled:_e=>{BE(s,_e?"setEnabled":"setDisabled")},isEnabled:()=>!eo.isDisabled(M)};return{iframeContainer:K.element.dom,editorContainer:M.element.dom,api:ye}}});const nQ=n=>/^[0-9\.]+(|px)$/i.test(""+n)?P.some(parseInt(""+n,10)):P.none(),i3=n=>ct(n)?n+"px":n,l3=(n,s,i)=>{const f=s.filter(w=>n<w),b=i.filter(w=>n>w);return f.or(b).getOr(n)},oQ=(n,s)=>{if(typeof s=="number")return P.from(s);const i=/^([0-9.]+)(pt|em|px)$/.exec(s.trim());if(i){const f=i[2],b=Number.parseFloat(i[1]);if(Number.isNaN(b)||b<0)return P.none();if(f==="em")return P.from(b*Number.parseFloat(window.getComputedStyle(n.dom).fontSize));if(f==="pt")return P.from(b*(72/96));if(f==="px")return P.from(b)}return P.none()},sQ=n=>{const s=oQ(fn.fromDom(n.targetElm),KO(n)),i=QO(n),f=JO(n);return s.map(b=>l3(b,i,f))},rQ=n=>sQ(n).getOr(KO(n)),rT=n=>{const s=YO(n),i=XO(n),f=Ik(n);return nQ(s).map(b=>l3(b,i,f))},aQ=n=>rT(n).getOr(YO(n)),{ToolbarLocation:gC,ToolbarMode:aT}=NZ,n9=40,iQ=(n,s,i,f,b)=>{const{mainUi:w,uiMotherships:S}=i,_=Lw.DOM,M=zw(n),I=Vw(n),Z=Ik(n).or(rT(n)),K=f.shared.header,le=K.isPositionedAtTop,he=150,ye=z2(n),_e=ye===aT.sliding||ye===aT.floating,Ie=Mn(!1),Se=()=>Ie.get()&&!n.removed,Ye=no=>_e?no.fold(ie(0),Kt=>Kt.components().length>1?pi(Kt.components()[1].element):0):0,st=no=>{switch(t5(n)){case gC.auto:const Kt=Yr.getToolbar(w.outerContainer),vn=Ye(Kt),Eo=pi(no.element)-vn,Ko=Di(s);if(Ko.y>Eo)return"top";{const qo=bp(s),Ur=Math.max(qo.dom.scrollHeight,pi(qo));return Ko.bottom<Ur-Eo||bc().bottom<Ko.bottom-Eo?"bottom":"top"}case gC.bottom:return"bottom";case gC.top:default:return"top"}},xt=no=>{b.on(Kt=>{Ja.setModes(Kt,[no]),K.setDockingMode(no);const vn=le()?jf.TopToBottom:jf.BottomToTop;uo(Kt.element,Qp,vn)})},Ot=()=>{b.on(no=>{const Kt=Z.getOrThunk(()=>Ep().width-dl(s).left-10);Co(no.element,"max-width",Kt+"px")})},kn=(no,Kt)=>{b.on(vn=>{const Eo=Yr.getToolbar(w.outerContainer),Ko=Ye(Eo),ao=Di(s),qo=Qt(n,w.outerContainer.element),Ur=()=>qo.fold(()=>ao.x,Vc=>{const dh=Di(Vc);return se(Vc,Ml())?ao.x:ao.x-dh.x}),pr=()=>qo.fold(()=>le()?Math.max(ao.y-pi(vn.element)+Ko,0):ao.bottom,Vc=>{const dh=Di(Vc),bu=Vc.dom.scrollTop??0,Sv=se(Vc,Ml())?Math.max(ao.y-pi(vn.element)+Ko,0):ao.y-dh.y+bu-pi(vn.element)+Ko;return le()?Sv:ao.bottom}),zu=Ur(),ei=Sa(no,Math.ceil(w.outerContainer.element.dom.getBoundingClientRect().width)).filter(Vc=>Vc>he).map(Vc=>{const dh=Kt.getOr(ka()),bu=window.innerWidth-(zu-dh.left),ug=Math.max(Math.min(Vc,bu),he);return bu<Vc&&Co(w.outerContainer.element,"width",ug+"px"),{width:ug+"px"}}).getOr({width:"max-content"}),Kf={position:"absolute",left:Math.round(zu)+"px",top:pr()+"px"};Or(w.outerContainer.element,{...Kf,...ei})})},Qt=(no,Kt)=>dv(no)?rf(Kt):P.none(),rn=()=>{bt(S,no=>{no.broadcastOn([gl()],{})})},on=()=>!M&&(Bl(w.outerContainer.element).left+tf(w.outerContainer.element)>=window.innerWidth-n9||Gr(w.outerContainer.element,"width").isSome())?(Co(w.outerContainer.element,"position","absolute"),Co(w.outerContainer.element,"left","0px"),cs(w.outerContainer.element,"width"),!0):!1,mo=no=>{if(!Se())return;M||Ot();const Kt=ka(),vn=M?!1:on();if(_e&&Yr.refreshToolbar(w.outerContainer),!M){const Eo=ka(),Ko=Sa(Kt.left!==Eo.left,Kt);kn(vn,Ko),Ko.each(ao=>{Sd(ao.left,Eo.top)})}I&&b.on(no),rn()},to=()=>M||!I||!Se()?!1:b.get().exists(no=>{const Kt=K.getDockingMode(),vn=st(no);return vn!==Kt?(xt(vn),!0):!1});return{isVisible:Se,isPositionedAtTop:le,show:()=>{Ie.set(!0),Co(w.outerContainer.element,"display","flex"),_.addClass(n.getBody(),"mce-edit-focus"),bt(S,no=>{cs(no.element,"display")}),to(),dv(n)?mo(no=>Ja.isDocked(no)?Ja.reset(no):Ja.refresh(no)):mo(Ja.refresh)},hide:()=>{Ie.set(!1),Co(w.outerContainer.element,"display","none"),_.removeClass(n.getBody(),"mce-edit-focus"),bt(S,no=>{Co(no.element,"display","none")})},update:mo,updateMode:()=>{to()&&mo(Ja.reset)},repositionPopups:rn}},o9=(n,s)=>{const i=Di(n);return{pos:s?i.y:i.bottom,bounds:i}},lQ=(n,s,i,f)=>{const b=Mn(o9(s,i.isPositionedAtTop())),w=I=>{const{pos:Z,bounds:K}=o9(s,i.isPositionedAtTop()),{pos:le,bounds:he}=b.get(),ye=K.height!==he.height||K.width!==he.width;b.set({pos:Z,bounds:K}),ye&&NR(n,I),i.isVisible()&&(le!==Z?i.update(Ja.reset):ye&&(i.updateMode(),i.repositionPopups()))};f||(n.on("activate",i.show),n.on("deactivate",i.hide)),n.on("SkinLoaded ResizeWindow",()=>i.update(Ja.reset)),n.on("NodeChange keydown",I=>{requestAnimationFrame(()=>w(I))});let S=0;const _=Si(()=>i.update(Ja.refresh),33);n.on("ScrollWindow",()=>{const I=ka().left;I!==S&&(S=I,_.throttle()),i.updateMode()}),dv(n)&&n.on("ElementScroll",I=>{i.update(Ja.refresh)});const M=Ir();M.set(Wu(fn.fromDom(n.getBody()),"load",I=>w(I.raw))),n.on("remove",()=>{M.clear()})};var cQ=Object.freeze({__proto__:null,render:(n,s,i,f,b)=>{const{mainUi:w}=s,S=wo(),_=fn.fromDom(b.targetNode),M=iQ(n,_,s,f,S),I=QL(n);fX(n);const Z=()=>{if(S.isSet()){M.show();return}S.set(Yr.getHeader(w.outerContainer).getOrDie());const le=i5(n);dv(n)?(nh(_,w.mothership),nh(_,s.popupUi.mothership)):C2(le,w.mothership),C2(le,s.dialogUi.mothership);const he=()=>{tM(n,s,i,f),Yr.setMenubar(w.outerContainer,CI(n,i)),M.show(),lQ(n,_,M,I),n.nodeChanged()};I?n.once("SkinLoaded",he):he()};n.on("show",Z),n.on("hide",M.hide),I||(n.on("focus",Z),n.on("blur",M.hide)),n.on("init",()=>{(n.hasFocus()||I)&&Z()}),OF(n,s);const K={show:Z,hide:M.hide,setEnabled:le=>{BE(s,le?"setEnabled":"setDisabled")},isEnabled:()=>!eo.isDisabled(w.outerContainer)};return{editorContainer:w.outerContainer.element.dom,api:K}}});const c3=()=>{const n=wo(),s=wo(),i=wo();return{dialogUi:n,popupUi:s,mainUi:i,getUiMotherships:()=>{const w=n.get().map(_=>_.mothership),S=s.get().map(_=>_.mothership);return w.fold(()=>S.toArray(),_=>S.fold(()=>[_],M=>se(_.element,M.element)?[_]:[_,M]))},lazyGetInOuterOrDie:(w,S)=>()=>i.get().bind(_=>S(_.outerContainer)).getOrDie(`Could not find ${w} element in OuterContainer`)}},s9="contexttoolbar-show",oM="contexttoolbar-hide",u3=(n,s,i)=>({setInputEnabled:f=>{!f&&i&&Fa(i),eo.set(n,!f)},isInputEnabled:()=>!eo.isDisabled(n),hide:()=>{fs(n,Ra())},back:()=>{fs(n,n3)},getValue:()=>s.get().getOrThunk(()=>In.getValue(n)),setValue:f=>{n.getSystem().isConnected()?In.setValue(n,f):s.set(f)}}),iT=(n,s,i)=>{const b=xl(n.element).bind(w=>n.getSystem().getByDom(w).toOptional());return u3(b.getOr(n),s,i)},r9=(n,s,i)=>Mt(lN,(f,b)=>{const w=n.get(f),S=u3(w,i,f.element);s.onAction(S,b.event.buttonApi)}),a9=(n,s,i,f)=>{const{primary:b,...w}=s.original,S=Qu(E1({...w,type:"button",onAction:J}));return tT(S,i,[r9(n,s,f)])},uQ=(n,s,i,f)=>{const{primary:b,...w}=s.original,S=Qu(oR({...w,type:"togglebutton",onAction:J}));return OI(S,i,[r9(n,s,f)])},dQ=n=>n.type==="contextformtogglebutton",fQ=(n,s,i,f)=>dQ(s)?uQ(n,s,i,f):a9(n,s,i,f),i9=(n,s,i,f)=>{const b=Ze(s,_=>gr(fQ(n,_,i,f)));return{asSpecs:()=>Ze(b,_=>_.asSpec()),findPrimary:_=>Jo(s,(M,I)=>M.primary?P.from(b[I]).bind(Z=>Z.getOpt(_)).filter(qe(eo.isDisabled)):P.none())}},mQ=(n,s,i,f)=>{const{width:b,height:w}=n.initValue();let S=rC;const _=me("ratio-event"),M=Qt=>u3(Qt,f),I=Qt=>lh(Qt,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Qt]},s.icons),Z=()=>!1,K=n.label.getOr("Constrain proportions"),le=s.translate(K),he=el.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-lock-context-form-size-input","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":le,"data-mce-name":K}},components:[I("lock"),I("unlock")],buttonBehaviours:a([eo.config({disabled:Z}),ua.config({}),va.config(s.tooltips.getConfig({tooltipText:le}))])}),ye=Qt=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:Qt}),_e=Qt=>tu(Qt.element,"div.tox-focusable-wrapper").fold(P.none,on=>(Fa(on),P.some(!0))),Ie=Qt=>ks.parts.field({factory:C1,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:Qt?b:w,inputBehaviours:a([eo.config({disabled:Z}),ua.config({}),fe("size-input-toolbar-events",[Mt(ec(),(rn,on)=>{so(rn,_,{isField1:Qt})})]),lo.config({mode:"special",onEnter:i,onEscape:_e})]),selectOnFocus:!1}),Se=Qt=>({dom:{tag:"label",classes:["tox-label"]},components:[Na(s.translate(Qt))]}),Ye=Qt=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[Qt],behaviours:a([ua.config({}),et.config({}),lo.config({mode:"special",onEnter:rn=>ur(rn.element,"input").fold(P.none,mo=>(Fa(mo),P.some(!0)))})])}),st=Ye(el.parts.field1(ye([ks.parts.label(Se("Width:")),Ie(!0)]))),xt=Ye(el.parts.field2(ye([ks.parts.label(Se("Height:")),Ie(!1)]))),Ot=Mn(J),kn=[E0({onBeforeSetup:Qt=>ur(Qt.element,"input").each(Fa),onSetup:n.onSetup,getApi:M},Ot),c4({getApi:M},Ot,f)];return el.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[st,ye([he]),xt],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Qt,rn,on)=>{I4(In.getValue(Qt)).each(mo=>{S(mo).each(to=>{In.setValue(rn,i$(to))})})},onInput:Qt=>fs(Qt,A7),coupledFieldBehaviours:a([et.config({}),lo.config({mode:"flow",focusInside:Pg.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),eo.config({disabled:Z,onDisabled:Qt=>{el.getField1(Qt).bind(ks.getField).each(eo.disable),el.getField2(Qt).bind(ks.getField).each(eo.disable),el.getLock(Qt).each(eo.disable)},onEnabled:Qt=>{el.getField1(Qt).bind(ks.getField).each(eo.enable),el.getField2(Qt).bind(ks.getField).each(eo.enable),el.getLock(Qt).each(eo.enable)}}),tl(()=>s.checkUiComponentContext("mode:design")),fe("size-input-toolbar-events2",[Mt(_,(Qt,rn)=>{const on=rn.event.isField1,mo=on?el.getField1(Qt):el.getField2(Qt),to=on?el.getField2(Qt):el.getField1(Qt),ys=mo.map(In.getValue).getOr(""),ho=to.map(In.getValue).getOr("");S=c$(ys,ho)}),Mt(A7,Qt=>n.onInput(M(Qt))),...kn])])})},pC=(n,s,i)=>ks.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...n.toArray(),s],fieldBehaviours:a([eo.config({disabled:()=>i.checkUiComponentContext("mode:design").shouldDisable,onDisabled:f=>{CX(f),ks.getField(f).each(eo.disable)},onEnabled:f=>{ks.getField(f).each(eo.enable)}})])}),hQ=(n,s,i,f)=>{const b=Mn(J),w=M=>iT(M,f),S=n.label.map(M=>ks.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Na(s.translate(M))]})),_=ks.parts.field({factory:C1,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(n.min()),max:String(n.max())},data:n.initValue().toString(),fromInputValue:M=>gi(M).getOr(n.min()),toInputValue:M=>String(M),inputBehaviours:a([eo.config({disabled:()=>s.checkUiComponentContext("mode:design").shouldDisable}),tl(()=>s.checkUiComponentContext("mode:design")),lo.config({mode:"special",onEnter:i,onLeft:(M,I)=>(I.cut(),P.none()),onRight:(M,I)=>(I.cut(),P.none())}),fe("slider-events",[E0({onSetup:n.onSetup,getApi:w,onBeforeSetup:lo.focusIn},b),c4({getApi:w},b,f),Mt(Bf(),M=>{n.onInput(w(M))})])])});return pC(S,_,s)},gQ=(n,s,i,f)=>{const b=Mn(J),w=Z=>iT(Z,f),S=n.label.map(Z=>ks.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Na(s.translate(Z))]})),M={...n.placeholder.map(Z=>({placeholder:s.translate(Z)})).getOr({})},I=ks.parts.field({factory:C1,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:M,data:n.initValue(),selectOnFocus:!0,inputBehaviours:a([eo.config({disabled:()=>s.checkUiComponentContext("mode:design").shouldDisable}),tl(()=>s.checkUiComponentContext("mode:design")),lo.config({mode:"special",onEnter:i,onLeft:(Z,K)=>(K.cut(),P.none()),onRight:(Z,K)=>(K.cut(),P.none())}),fe("input-events",[E0({onSetup:n.onSetup,getApi:Z=>tu(Z.element,".tox-toolbar").bind(le=>ur(le,"button:enabled")).fold(()=>iT(Z,f),le=>iT(Z,f,le)),onBeforeSetup:lo.focusIn},b),c4({getApi:w},b,f),Mt(Bf(),Z=>{n.onInput(w(Z))})])])});return pC(S,I,s)},sM=(n,s,i)=>{const f=wo(),w=gr(n(i,I=>_.findPrimary(I).orThunk(()=>M.findPrimary(I)).map(Z=>(r1(Z),!0)),f)),S=jo(s.commands,I=>I.align==="start"),_=i9(w,S.pass,i,f),M=i9(w,S.fail,i,f);return vo([{title:P.none(),label:P.none(),items:_.asSpecs()},{title:P.none(),label:P.none(),items:[w.asSpec()]},{title:P.none(),label:P.none(),items:M.asSpecs()}],I=>I.items.length>0)},rM=(n,s)=>{switch(n.type){case"contextform":return sM(mn(gQ,n),n,s);case"contextsliderform":return sM(mn(hQ,n),n,s);case"contextsizeinputform":return sM(mn(mQ,n),n,s)}},l9={renderContextForm:(n,s,i)=>X4({type:n,uid:me("context-toolbar"),initGroups:rM(s,i),onEscape:P.none,cyclicKeying:!0,providers:i}),buildInitGroups:rM},c9=(n,s,i)=>s.bottom-n.y>=i&&n.bottom-s.y>=i,pQ=n=>{const s=n.getBoundingClientRect();if(s.height<=0&&s.width<=0){const i=Sh(fn.fromDom(n.startContainer),n.startOffset).element;return(vl(i)?xl(i):P.some(i)).filter(Yc).map(b=>b.dom.getBoundingClientRect()).getOr(s)}else return s},aM=n=>{const s=n.selection.getRng(),i=pQ(s);if(n.inline){const f=ka();return Li(f.left+i.left,f.top+i.top,i.width,i.height)}else{const f=Rh(fn.fromDom(n.getBody()));return Li(f.x+i.left,f.y+i.top,i.width,i.height)}},bQ=(n,s)=>s.filter(i=>$s(i)&&De(i)).map(Rh).getOrThunk(()=>aM(n)),yQ=(n,s,i)=>{const f=Math.max(n.x+i,s.x),b=Math.min(n.right-i,s.right);return{x:f,width:b-f}},lT=(n,s,i,f,b,w)=>{const S=fn.fromDom(n.getContainer()),_=ur(S,".tox-editor-header").getOr(S),M=Di(_),I=M.y>=s.bottom,Z=f&&!I;if(n.inline&&Z)return{y:Math.max(M.bottom+w,i.y),bottom:i.bottom};if(n.inline&&!Z)return{y:i.y,bottom:Math.min(M.y-w,i.bottom)};const K=b==="line"?Di(S):s;return Z?{y:Math.max(M.bottom+w,i.y),bottom:Math.min(K.bottom-w,i.bottom)}:{y:Math.max(K.y+w,i.y),bottom:Math.min(M.y-w,i.bottom)}},iM=(n,s,i,f=0)=>{const b=Ep(window),w=Di(fn.fromDom(n.getContentAreaContainer())),S=Iw(n)||Hw(n)||uv(n),{x:_,width:M}=yQ(w,b,f);if(n.inline&&!S)return Li(_,b.y,M,b.height);{const I=s.header.isPositionedAtTop(),{y:Z,bottom:K}=lT(n,w,b,I,i,f);return Li(_,Z,M,K-Z)}},d3=12,u9={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},lM={maxHeightFunction:Gh(),maxWidthFunction:kb()},cM=(n,s)=>{const i=n.selection.getRng(),f=Sh(fn.fromDom(i.startContainer),i.startOffset);return i.startContainer===i.endContainer&&i.startOffset===i.endOffset-1&&se(f.element,s)},d9=(n,s,i)=>{const f=Gr(n,"position");Co(n,"position",s);const b=i(n);return f.each(w=>Co(n,"position",w)),b},uM=n=>n==="node",vQ=(n,s,i,f,b)=>{const w=aM(n),S=f.lastElement().exists(_=>se(i,_));if(cM(n,i))return S?Fc:oc;if(S)return d9(s,f.getMode(),()=>c9(w,Di(s),-20)&&!f.isReposition()?ym:Fc);{const _=f.getMode()==="fixed"?b.y+ka().top:b.y,M=pi(s)+d3;return _+M<=w.y?oc:qh}},bC=(n,s,i,f)=>{const b=M=>(I,Z,K,le,he)=>{const ye=vQ(n,le,M,i,he),_e={...I,y:he.y,height:he.height};return{...ye(_e,Z,K,le,he),alwaysFit:!0}},w=M=>uM(f)?[b(M)]:[];return s?{onLtr:M=>[_i,Qi,Kr,Al,kl,ya].concat(w(M)),onRtl:M=>[_i,Kr,Qi,kl,Al,ya].concat(w(M))}:{onLtr:M=>[ya,_i,Al,Qi,kl,Kr].concat(w(M)),onRtl:M=>[ya,_i,kl,Kr,Al,Qi].concat(w(M))}},f3=(n,s,i,f)=>s==="line"?{bubble:mu(d3,0,u9),layouts:{onLtr:()=>[Km],onRtl:()=>[Id]},overrides:lM}:{bubble:mu(0,d3,u9,1/d3),layouts:bC(n,i,f,s),overrides:lM},yC=(n,s)=>{const i=vo(s,w=>w.predicate(n.dom)),{pass:f,fail:b}=jo(i,w=>w.type==="contexttoolbar");return{contextToolbars:f,contextForms:b}},dM=n=>{if(n.length<=1)return n;{const s=w=>wt(n,S=>S.position===w),i=w=>vo(n,S=>S.position===w),f=s("selection"),b=s("node");if(f||b)if(b&&f){const w=i("node"),S=Ze(i("selection"),_=>({..._,position:"node"}));return w.concat(S)}else return i(f?"selection":"node");else return i("line")}},fM=n=>{if(n.length<=1)return n;{const s=f=>Ne(n,b=>b.position===f);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(f=>f.position).fold(()=>[],f=>vo(n,b=>b.position===f))}},f9=(n,s,i)=>{const f=yC(n,s);if(f.contextForms.length>0)return P.some({elem:n,toolbars:[f.contextForms[0]]});{const b=yC(n,i);if(b.contextForms.length>0)return P.some({elem:n,toolbars:[b.contextForms[0]]});if(f.contextToolbars.length>0||b.contextToolbars.length>0){const w=dM(f.contextToolbars.concat(b.contextToolbars));return P.some({elem:n,toolbars:w})}else return P.none()}},m3=(n,s,i)=>n(s)?P.none():or(s,f=>{if(Yc(f)){const{contextToolbars:b,contextForms:w}=yC(f,i.inNodeScope),S=w.length>0?w:fM(b);return S.length>0?P.some({elem:f,toolbars:S}):P.none()}else return P.none()},n),m9=(n,s)=>{const i=fn.fromDom(s.getBody()),f=S=>se(S,i),b=S=>!f(S)&&!Ae(i,S),w=fn.fromDom(s.selection.getNode());return b(w)?P.none():f9(w,n.inNodeScope,n.inEditorScope).orThunk(()=>m3(f,w,n))},h9=(n,s)=>{const i={},f=[],b=[],w={},S={},_=(Z,K)=>{const le=Qu(Aq(K));i[Z]=le,le.launch.map(he=>{w["form:"+Z]={...K.launch,type:he.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(le)}}}),le.scope==="editor"?b.push(le):f.push(le),S[Z]=le},M=(Z,K)=>{Dq(K).each(le=>{le.launch.isSome()&&(w["toolbar:"+Z]={...K.launch,type:"button",onAction:()=>{s(le)}}),K.scope==="editor"?b.push(le):f.push(le),S[Z]=le})},I=ko(n);return bt(I,Z=>{const K=n[Z];K.type==="contextform"||K.type==="contextsliderform"||K.type==="contextsizeinputform"?_(Z,K):K.type==="contexttoolbar"&&M(Z,K)}),{forms:i,inNodeScope:f,inEditorScope:b,lookupTable:S,formNavigators:w}},cT="tox-pop--transition",xQ=n=>n===r3.ENTER||n===r3.SPACEBAR,g9=(n,s,i,f)=>{const b=f.backstage,w=b.shared,S=Ua().deviceType.isTouch,_=wo(),M=wo(),I=wo(),Z=GN({sink:i,onEscape:()=>(n.focus(),MR(n),P.some(!0)),onHide:()=>{MR(n)},onBack:()=>{BR(n)},focusElement:ho=>{n.getBody().contains(ho.dom)?n.focus():Fa(ho)}}),K=E(Z.sketch),le=()=>{const ho=I.get().getOr("node"),Vo=uM(ho)?1:0;return iM(n,w,ho,Vo)},he=()=>!n.removed&&!(S()&&b.isContextMenuOpen()),ye=ho=>oo(Ts(ho,_.get(),se),!0),_e=()=>{if(he()){const ho=le(),Vo=oo(I.get(),"node")?bQ(n,_.get()):aM(n);return ho.height<=0||!c9(Vo,ho,.01)}else return!0},Ie=()=>{_.clear(),M.clear(),I.clear(),mi.hide(K)},Se=()=>{if(mi.isOpen(K)){const ho=K.element;cs(ho,"display"),_e()?Co(ho,"display","none"):(M.set(0),mi.reposition(K))}},Ye=ho=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[ho],behaviours:a([lo.config({mode:"acyclic"}),fe("pop-dialog-wrap-events",[Lr(Vo=>{n.shortcuts.add("ctrl+F9","focus statusbar",()=>lo.focusIn(Vo))}),mf(Vo=>{n.shortcuts.remove("ctrl+F9")})])])}),st=ho=>{const Vo=Qt([ho]);so(K,NI,{forwardContents:Ye(Vo)})},xt=sl(()=>h9(s,st)),Ot=(ho,Vo)=>a3(n,{buttons:ho,toolbar:Vo.items,allowToolbarGroups:!1},f.backstage,P.some(["form:","toolbar:"])),kn=(ho,Vo)=>l9.buildInitGroups(ho,Vo),Qt=ho=>{const{buttons:Vo}=n.ui.registry.getAll(),no=xt(),Kt={...Vo,...no.formNavigators},vn=z2(n)===ih.scrolling?ih.scrolling:ih.default,Eo=tt(Ze(ho,Ko=>Ko.type==="contexttoolbar"?Ot(Kt,rR(Ko)):kn(Ko,w.providers)));return X4({type:vn,uid:me("context-toolbar"),initGroups:Eo,onEscape:P.none,cyclicKeying:!0,providers:w.providers})},rn=(ho,Vo)=>{const no=ho==="node"?w.anchors.node(Vo):w.anchors.cursor(),Kt=f3(n,ho,S(),{lastElement:_.get,isReposition:()=>oo(M.get(),0),getMode:()=>dd.getMode(i)});return qt(no,Kt)},on=(ho,Vo)=>{if(ys.cancel(),!he())return;const no=Qt(ho),Kt=ho[0].position,vn=rn(Kt,Vo);I.set(Kt),M.set(1);const Eo=K.element;cs(Eo,"display"),ye(Vo)||(ha(Eo,cT),dd.reset(i,K)),mi.showWithinBounds(K,Ye(no),{anchor:vn,transition:{classes:[cT],mode:"placement"}},()=>P.some(le())),Vo.fold(_.clear,_.set),_e()&&Co(Eo,"display","none")},mo=()=>{Co(K.element,"transition","none"),Se(),cs(K.element,"transition")};let to=!1;const ys=Si(()=>{if(!(!n.hasFocus()||n.removed||to))if(Da(K.element,cT))ys.throttle();else{const ho=xt();m9(ho,n).fold(Ie,Vo=>{on(Vo.toolbars,P.some(Vo.elem))})}},17);n.on("init",()=>{n.on("remove",Ie),n.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Se),n.on("click focus SetContent",ys.throttle),n.on("keyup",ho=>{(!xQ(ho.keyCode)||!Z.inSubtoolbar())&&ys.throttle()}),n.on(oM,Ie),n.on(s9,ho=>{const Vo=xt();Hn(Vo.lookupTable,ho.toolbarKey).each(no=>{on([no],Sa(ho.target!==n,ho.target)),RI(K)})}),n.on("focusout",ho=>{Fk.setEditorTimeout(n,()=>{ai(i.element).isNone()&&ai(K.element).isNone()&&!n.hasFocus()&&Ie()},0)}),n.on("SwitchMode",()=>{n.mode.isReadOnly()&&Ie()}),n.on("DisabledStateChange",ho=>{ho.state&&Ie()}),n.on("ExecCommand",({command:ho})=>{ho.toLowerCase()==="toggleview"&&Ie()}),n.on("AfterProgressState",ho=>{ho.state?Ie():n.hasFocus()&&ys.throttle()}),n.on("dragstart",()=>{to=!0}),n.on("dragend drop",()=>{to=!1}),n.on("NodeChange",ho=>{Z.inSubtoolbar()?mo():ai(K.element).fold(ys.throttle,J)})})},wQ=n=>{bt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],i=>{n.ui.registry.addToggleButton(i.name,{tooltip:i.text,icon:i.icon,onAction:pf(n,i.cmd),onSetup:IE(n,i.name)})}),n.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:zc(n),onAction:pf(n,"JustifyNone")})},p9=(n,s)=>{const i=()=>{const f=s.getOptions(n),b=s.getCurrent(n).map(s.hash),w=wo();return Ze(f,S=>({type:"togglemenuitem",text:s.display(S),onSetup:_=>{const M=Z=>{Z&&(w.on(K=>K.setActive(!1)),w.set(_)),_.setActive(Z)};M(oo(b,s.hash(S)));const I=s.watcher(n,S,M);return()=>{w.clear(),I()}},onAction:()=>s.setCurrent(n,S)}))};n.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:f=>f(i()),onSetup:s.onToolbarSetup}),n.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:i,onSetup:s.onMenuSetup})},h3=n=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:mP,hash:s=>Ha(s,["fixed","relative","empty"]).getOr(s),display:it,watcher:(s,i,f)=>s.formatter.formatChanged("lineheight",f,!1,{value:i}).unbind,getCurrent:s=>P.from(s.queryCommandValue("LineHeight")),setCurrent:(s,i)=>s.execCommand("LineHeight",!1,i),onToolbarSetup:zc(n),onMenuSetup:zc(n)}),b9=n=>P.from(GL(n)).map(i=>({name:"language",text:"Language",icon:"language",getOptions:ie(i),hash:f=>we(f.customCode)?f.code:`${f.code}/${f.customCode}`,display:f=>f.title,watcher:(f,b,w)=>f.formatter.formatChanged("lang",w,!1,{value:b.code,customValue:b.customCode??null}).unbind,getCurrent:f=>{const b=fn.fromDom(f.selection.getNode());return Cr(b,w=>P.some(w).filter(Yc).bind(S=>ii(S,"lang").map(M=>{const I=ii(S,"data-mce-lang").getOrUndefined();return{code:M,customCode:I,title:""}})))},setCurrent:(f,b)=>f.execCommand("Lang",!1,b),onToolbarSetup:f=>{const b=Ir();return f.setActive(n.formatter.match("lang",{},void 0,!0)),b.set(n.formatter.formatChanged("lang",f.setActive,!0)),ox(b.clear,zc(n)(f))},onMenuSetup:zc(n)})),CQ=n=>{p9(n,h3(n)),b9(n).each(s=>p9(n,s))},SQ=(n,s)=>{kX(n,s),NX(n,s),hC(n,s),_X(n,s),XI(n,s)},EQ=n=>{n.ui.registry.addContext("editable",()=>n.selection.isEditable()),n.ui.registry.addContext("mode",s=>n.mode.get()===s),n.ui.registry.addContext("any",Pt),n.ui.registry.addContext("formatting",s=>n.formatter.canApply(s)),n.ui.registry.addContext("insert",s=>n.schema.isValidChild(n.selection.getNode().tagName,s))},TQ=n=>yv(n,"NodeChange",s=>{s.setEnabled(n.queryCommandState("outdent")&&n.selection.isEditable())}),AQ=n=>{n.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:TQ(n),onAction:pf(n,"outdent")}),n.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:zc(n,()=>n.queryCommandState("indent")),onAction:pf(n,"indent")})},y9=n=>{AQ(n)},mM=(n,s)=>i=>{i.setActive(s.get());const f=b=>{s.set(b.state),i.setActive(b.state)};return n.on("PastePlainTextToggle",f),ox(()=>n.off("PastePlainTextToggle",f),zc(n)(i))},v9=n=>{const s=Mn(lP(n)),i=()=>n.execCommand("mceTogglePlainTextPaste");n.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:i,onSetup:mM(n,s)}),n.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:i,onSetup:mM(n,s)})},g3=(n,s)=>()=>{n.execCommand("mceToggleFormat",!1,s)},kQ=n=>{D1.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,i)=>{n.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:IE(n,s.name),onAction:g3(n,s.name),shortcut:s.shortcut})});for(let s=1;s<=6;s++){const i="h"+s,f=`Access+${s}`;n.ui.registry.addToggleButton(i,{text:i.toUpperCase(),tooltip:"Heading "+s,onSetup:IE(n,i),onAction:g3(n,i),shortcut:f})}},x9=n=>{D1.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],s=>{n.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:pf(n,s.action),shortcut:s.shortcut,context:s.context})}),D1.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{n.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:zc(n),onAction:pf(n,s.action)})})},w9=n=>{D1.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{n.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:pf(n,s.action),onSetup:IE(n,s.name)})})},DQ=n=>{kQ(n),x9(n),w9(n)},toe=n=>{D1.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],s=>{n.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:pf(n,s.action),context:s.context})}),D1.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{n.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:zc(n),onAction:pf(n,s.action)})}),n.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:zc(n),onAction:g3(n,"code")})},_Q=n=>{DQ(n),toe(n)},p3=(n,s)=>yv(n,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i=>{i.setEnabled(!n.mode.isReadOnly()&&n.undoManager[s]())}),OQ=n=>{n.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:p3(n,"hasUndo"),onAction:pf(n,"undo")}),n.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:p3(n,"hasRedo"),onAction:pf(n,"redo")})},RQ=n=>{n.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:p3(n,"hasUndo"),onAction:pf(n,"undo"),shortcut:"Meta+Z"}),n.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:p3(n,"hasRedo"),onAction:pf(n,"redo"),shortcut:"Meta+Y"})},NQ=n=>{OQ(n),RQ(n)},MQ=n=>yv(n,"VisualAid",s=>{s.setActive(n.hasVisual)}),BQ=n=>{n.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:MQ(n),onAction:pf(n,"mceToggleVisualAid"),context:"any"})},LQ=n=>{n.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:pf(n,"mceToggleVisualAid"),context:"any"})},PQ=n=>{LQ(n),BQ(n)},FQ=(n,s)=>{wQ(n),_Q(n),SQ(n,s),NQ(n),d7(n),PQ(n),y9(n),CQ(n),v9(n),EQ(n)},$Q=n=>H(n)?n.split(/[ ,]/):n,C9=n=>s=>s.options.get(n),IQ=n=>{const s=n.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:i=>i===!1?{value:[],valid:!0}:H(i)||Ue(i,H)?{value:$Q(i),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},hM=C9("contextmenu_never_use_native"),HQ=C9("contextmenu_avoid_overlap"),zQ=n=>S9(n).length===0,S9=n=>{const s=n.ui.registry.getAll().contextMenus,i=n.options.get("contextmenu");return n.options.isSet("contextmenu")?i:vo(i,f=>ts(s,f))},uT=(n,s)=>({type:"makeshift",x:n,y:s}),VQ=(n,s,i)=>uT(n.x+s,n.y+i),gM=n=>n.type==="longpress"||n.type.indexOf("touch")===0,pM=n=>{if(gM(n)){const s=n.touches[0];return uT(s.pageX,s.pageY)}else return uT(n.pageX,n.pageY)},jQ=n=>{if(gM(n)){const s=n.touches[0];return uT(s.clientX,s.clientY)}else return uT(n.clientX,n.clientY)},E9=(n,s)=>{const i=Lw.DOM.getPos(n);return VQ(s,i.x,i.y)},UQ=(n,s)=>s.type==="contextmenu"||s.type==="longpress"?n.inline?pM(s):E9(n.getContentAreaContainer(),jQ(s)):T9(n),T9=n=>({type:"selection",root:fn.fromDom(n.selection.getNode())}),ZQ=n=>({type:"node",node:P.some(fn.fromDom(n.selection.getNode())),root:fn.fromDom(n.getBody())}),A9=(n,s,i)=>{switch(i){case"node":return ZQ(n);case"point":return UQ(n,s);case"selection":return T9(n)}},WQ=(n,s,i,f,b,w)=>{const S=i(),_=A9(n,s,w);ny(S,ip.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:P.none()}).map(M=>{s.preventDefault(),mi.showMenuAt(b,{anchor:_},{menu:{markers:S1("normal")},data:M})})},bM={onLtr:()=>[_i,Qi,Kr,Al,kl,ya,oc,qh,Il,$y,Vf,s1],onRtl:()=>[_i,Kr,Qi,kl,Al,ya,oc,qh,Vf,s1,Il,$y]},qQ=12,GQ={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},yM=(n,s)=>{const i=n.selection;if(i.isCollapsed()||s.touches.length<1)return!1;{const f=s.touches[0],b=i.getRng();return Dh(n.getWin(),di.domRange(b)).exists(S=>S.left<=f.clientX&&S.right>=f.clientX&&S.top<=f.clientY&&S.bottom>=f.clientY)}},k9=n=>{const s=n.selection.getRng(),i=()=>{Fk.setEditorTimeout(n,()=>{n.selection.setRng(s)},10),w()};n.once("touchend",i);const f=S=>{S.preventDefault(),S.stopImmediatePropagation()};n.on("mousedown",f,!0);const b=()=>w();n.once("longpresscancel",b);const w=()=>{n.off("touchend",i),n.off("longpresscancel",b),n.off("mousedown",f)}},D9=(n,s,i)=>{const f=A9(n,s,i);return{bubble:mu(0,i==="point"?qQ:0,GQ),layouts:bM,overrides:{maxWidthFunction:kb(),maxHeightFunction:Gh()},...f}},KQ=(n,s,i,f,b,w,S)=>{const _=D9(n,s,w);ny(i,ip.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!0,search:P.none()}).map(M=>{s.preventDefault();const I=S?Ec.HighlightMenuAndItem:Ec.HighlightNone;mi.showMenuWithinBounds(b,{anchor:_},{menu:{markers:S1("normal"),highlightOnOpen:I},data:M,type:"horizontal"},()=>P.some(iM(n,f.shared,w==="node"?"node":"selection"))),n.dispatch(oM)})},YQ=(n,s,i,f,b,w)=>{const S=Ua(),_=S.os.isiOS(),M=S.os.isMacOS(),I=S.os.isAndroid(),Z=S.deviceType.isTouch(),K=()=>!(I||_||M&&Z),le=()=>{const he=i();KQ(n,s,he,f,b,w,K())};if((M||_)&&w!=="node"){const he=()=>{k9(n),le()};yM(n,s)?he():(n.once("selectionchange",he),n.once("touchend",()=>n.off("selectionchange",he)))}else le()},_9=n=>H(n)?n==="|":n.type==="separator",vM={type:"separator"},O9=n=>{const s=i=>({text:i.text,icon:i.icon,enabled:i.enabled,shortcut:i.shortcut});if(H(n))return n;switch(n.type){case"separator":return vM;case"submenu":return{type:"nestedmenuitem",...s(n),getSubmenuItems:()=>{const f=n.getSubmenuItems();return H(f)?f:Ze(f,O9)}};default:const i=n;return{type:"menuitem",...s(i),onAction:vt(i.onAction)}}},b3=(n,s)=>{if(s.length===0)return n;const f=Zn(n).filter(b=>!_9(b)).fold(()=>[],b=>[vM]);return n.concat(f).concat(s).concat([vM])},XQ=(n,s,i)=>{const f=Io(s,(b,w)=>Hn(n,w.toLowerCase()).map(S=>{const _=S.update(i);if(H(_)&&Cu(An(_)))return b3(b,_.split(" "));if(Y(_)&&_.length>0){const M=Ze(_,O9);return b3(b,M)}else return b}).getOrThunk(()=>b.concat([w])),[]);return f.length>0&&_9(f[f.length-1])&&f.pop(),f},R9=(n,s)=>s.ctrlKey&&!hM(n),QQ=n=>n.type==="longpress"||ts(n,"touches"),N9=(n,s)=>!QQ(s)&&(s.button!==2||s.target===n.getBody()&&s.pointerType===""),y3=(n,s)=>N9(n,s)?n.selection.getStart(!0):s.target,JQ=(n,s)=>{const i=HQ(n),f=N9(n,s)?"selection":"point";if(Cu(i)){const b=y3(n,s);return Pm(fn.fromDom(b),i)?"node":f}else return f},M9=(n,s,i)=>{const b=Ua().deviceType.isTouch,w=E(mi.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>n.focus(),onShow:()=>i.setContextMenuState(!0),onHide:()=>i.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:a([fe("dismissContextMenu",[Mt(mm(),(M,I)=>{ar.close(M),n.focus()})])])})),S=()=>mi.hide(w),_=M=>{if(hM(n)&&M.preventDefault(),R9(n,M)||zQ(n))return;const I=JQ(n,M),Z=()=>{const le=y3(n,M),he=n.ui.registry.getAll(),ye=S9(n);return XQ(he.contextMenus,ye,le)};(b()?YQ:WQ)(n,M,Z,i,w,I)};n.on("init",()=>{const M="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(b()?"":" ResizeWindow");n.on(M,S),n.on("longpress contextmenu",_)})},dT=40,v3=dT/2,B9=(n,s,i,f,b,w)=>n.fold(()=>zb.snap({sensor:Yg(i-v3,f-v3),range:hr(b,w),output:Yg(P.some(i),P.some(f)),extra:{td:s}}),S=>{const _=i-v3,M=f-v3,I=dT,Z=dT,K=S.element.dom.getBoundingClientRect();return zb.snap({sensor:Yg(_,M),range:hr(I,Z),output:Yg(P.some(i-K.width/2),P.some(f-K.height/2)),extra:{td:s}})}),L9=(n,s,i)=>{const f=(b,w)=>b.exists(S=>se(S,w));return{getSnapPoints:n,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(b,w)=>{const S=w.td;f(s.get(),S)||(s.set(S),i(S))},mustSnap:!0}},P9=n=>gr(rc.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:a([zb.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:n}),m0.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),eJ=(n,s)=>{const i=Mn([]),f=Mn([]),b=Mn(!1),w=wo(),S=wo(),_=Qt=>{const rn=Rh(Qt);return B9(he.getOpt(s),Qt,rn.x,rn.y,rn.width,rn.height)},M=()=>Ze(i.get(),Qt=>_(Qt)),I=Qt=>{const rn=Rh(Qt);return B9(ye.getOpt(s),Qt,rn.right,rn.bottom,rn.width,rn.height)},Z=()=>Ze(f.get(),Qt=>I(Qt)),K=L9(M,w,Qt=>{S.get().each(rn=>{n.dispatch("TableSelectorChange",{start:Qt,finish:rn})})}),le=L9(Z,S,Qt=>{w.get().each(rn=>{n.dispatch("TableSelectorChange",{start:rn,finish:Qt})})}),he=P9(K),ye=P9(le),_e=E(he.asSpec()),Ie=E(ye.asSpec()),Se=(Qt,rn,on,mo)=>{const to=rn.dom.getBoundingClientRect();cs(Qt.element,"display");const ys=yp(fn.fromDom(n.getBody())).dom.innerHeight,ho=on(to),Vo=mo(to,ys);(ho||Vo)&&Co(Qt.element,"display","none")},Ye=(Qt,rn,on,mo)=>{const to=on(rn);zb.snapTo(Qt,to),Se(Qt,rn,Vo=>Vo[mo]<0,(Vo,no)=>Vo[mo]>no)},st=Qt=>Ye(_e,Qt,_,"top"),xt=()=>w.get().each(st),Ot=Qt=>Ye(Ie,Qt,I,"bottom"),kn=()=>S.get().each(Ot);if(Ua().deviceType.isTouch()){const Qt=rn=>Ze(rn,fn.fromDom);n.on("TableSelectionChange",rn=>{b.get()||(r0(s,_e),r0(s,Ie),b.set(!0));const on=fn.fromDom(rn.start),mo=fn.fromDom(rn.finish);w.set(on),S.set(mo),P.from(rn.otherCells).each(to=>{i.set(Qt(to.upOrLeftCells)),f.set(Qt(to.downOrRightCells)),st(on),Ot(mo)})}),n.on("ResizeEditor ResizeWindow ScrollContent",()=>{xt(),kn()}),n.on("TableSelectionClear",()=>{b.get()&&(i0(_e),i0(Ie),b.set(!1)),w.clear(),S.clear()})}};var F9=`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`;const tJ=n=>n.nodeName==="BR"||!!n.getAttribute("data-mce-bogus")||n.getAttribute("data-mce-type")==="bookmark",nJ=(n,s,i)=>{const f=s.delimiter??"",b=(M,I,Z)=>rc.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":Z}},components:[Na(M)],action:K=>{n.focus(),n.selection.select(I),n.nodeChanged()},buttonBehaviours:a([va.config({...i.tooltips.getConfig({tooltipText:i.translate(["Select the {0} element",I.nodeName.toLowerCase()]),onShow:(K,le)=>{su(K.element,le.element)},onHide:K=>{H0(K.element)}})}),S0.button(i.isDisabled),tl(()=>i.checkUiComponentContext("any"))])}),w=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Na(` ${f} `)]}),S=M=>Io(M,(I,Z,K)=>{const le=b(Z.name,Z.element,K);return K===0?I.concat([le]):I.concat([w(),le])},[]),_=M=>{const I=[];let Z=M.length;for(;Z-- >0;){const K=M[Z];if(K.nodeType===1&&!tJ(K)){const le=gG(n,K);if(le.isDefaultPrevented()||I.push({name:le.name,element:K}),le.isPropagationStopped())break}}return I};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:a([lo.config({mode:"flow",selector:"div[role=button]"}),eo.config({disabled:i.isDisabled}),tl(()=>i.checkUiComponentContext("any")),ua.config({}),zo.config({}),fe("elementPathEvents",[Lr((M,I)=>{n.shortcuts.add("alt+F11","focus statusbar elementpath",()=>lo.focusIn(M)),n.on("NodeChange",Z=>{const K=_(Z.parents),le=K.length>0?S(K):[];zo.set(M,le)})})])]),components:[]}};var R1;(function(n){n[n.None=0]="None",n[n.Both=1]="Both",n[n.Vertical=2]="Vertical"})(R1||(R1={}));const $9=n=>{const s=fn.fromDom(n.getContainer()),i=pi(s),f=Mi(s);return{height:i,width:f}},oJ=(n,s,i,f)=>{const b=l3(f.height+s.top,QO(n),JO(n));return i===R1.Both?{height:b,width:l3(f.width+s.left,XO(n),Ik(n))}:{height:b}},I9=(n,s,i)=>{const f=fn.fromDom(n.getContainer()),b=$9(n),w=oJ(n,s,i,b);return Ho(w,(S,_)=>{ct(S)&&Co(f,_,i3(S))}),RR(n),w},sJ=n=>{const s=iP(n);return s===!1?R1.None:s==="both"?R1.Both:R1.Vertical},rJ=(n,s)=>s===R1.Both?md.translate(["Editor's height: {0} pixels, Editor's width: {1} pixels",n.height,n.width]):md.translate(["Editor's height: {0} pixels",n.height]),xM=(n,s,i)=>{uo(n.element,"aria-valuetext",rJ(s,i))},x3=(n,s,i,f,b)=>{const S=hr(f*20,b*20),_=I9(n,S,i);return xM(s,_,i),P.some(!0)},H9=(n,s)=>{const i=sJ(n);if(i===R1.None)return P.none();const f=i===R1.Both?md.translate("Press the arrow keys to resize the editor."):md.translate("Press the Up and Down arrow keys to resize the editor."),b=i===R1.Both?"tox-statusbar__resize-cursor-both":"tox-statusbar__resize-cursor-default";return P.some(lh("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle",b],attributes:{"aria-label":s.translate(f),"data-mce-name":"resize-handle",role:"separator"},behaviours:[zb.config({mode:"mouse",repositionTarget:!1,onDrag:(w,S,_)=>{const M=I9(n,_,i);xM(w,M,i)},blockerClass:"tox-blocker"}),lo.config({mode:"special",onLeft:w=>x3(n,w,i,-1,0),onRight:w=>x3(n,w,i,1,0),onUp:w=>x3(n,w,i,0,-1),onDown:w=>x3(n,w,i,0,1)}),ua.config({}),et.config({}),va.config(s.tooltips.getConfig({tooltipText:s.translate("Resize")})),fe("set-aria-valuetext",[Lr(w=>{const S=()=>{xM(w,$9(n),i)};n._skinLoaded?S():n.once("SkinLoaded",S)})])],eventOrder:{[Lc()]:["add-focusable","set-aria-valuetext"]}},s.icons))},aJ=(n,s)=>{const i=(f,b,w)=>zo.set(f,[Na(s.translate(["{0} "+w,b[w]]))]);return rc.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:a([S0.button(s.isDisabled),tl(()=>s.checkUiComponentContext("any")),ua.config({}),zo.config({}),In.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),fe("wordcount-events",[wm(f=>{const b=In.getValue(f),w=b.mode==="words"?"characters":"words";In.setValue(f,{mode:w,count:b.count}),i(f,b.count,w)}),Lr(f=>{n.on("wordCountUpdate",b=>{const{mode:w}=In.getValue(f);In.setValue(f,{mode:w,count:b.wordCount}),i(f,b.wordCount,w)})})])]),eventOrder:{[Bs()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},z9=(n,s)=>{const i=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":n.translate(["Build with {0}","TinyMCE"])},innerHtml:n.translate(["Build with {0}",F9.trim()])},behaviours:a([et.config({})])}]}),f=()=>{const _=bR("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Na(md.translate(["Press {0} for help",_]))]}},b=()=>{const _=[];return n.hasPlugin("wordcount")&&_.push(aJ(n,s)),r5(n)&&_.push(i()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:_}},w=()=>{const _=[],M=dP(n),I=aP(n),Z=r5(n)||n.hasPlugin("wordcount"),K=()=>{const le="tox-statusbar__text-container--flex-start",he="tox-statusbar__text-container--flex-end",ye="tox-statusbar__text-container--space-around";if(M){const _e="tox-statusbar__text-container-3-cols";return!Z&&!I?[_e,ye]:Z&&!I?[_e,he]:[_e,le]}return[Z&&!I?he:le]};return I&&_.push(nJ(n,{},s)),M&&_.push(f()),Z&&_.push(b()),_.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...K()]},components:_}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const _=w(),M=H9(n,s);return _.concat(M.toArray())})()}},V9=(n,s)=>s.get().getOrDie(`UI for ${n} has not been rendered`),iJ=(n,s)=>{const i=n.inline,f=i?cQ:tQ,b=Vw(n)?OY:EY,w=c3(),S=wo(),_=wo(),M=wo(),le=Ua().deviceType.isTouch()?["tox-platform-touch"]:[],he=jk(n),ye=z2(n),_e=gr({dom:{tag:"div",classes:["tox-anchorbar"]}}),Ie=gr({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),Se=()=>w.mainUi.get().map(ao=>ao.outerContainer).bind(Yr.getHeader),Ye=()=>Pn.fromOption(w.dialogUi.get().map(ao=>ao.sink),"UI has not been rendered"),st=()=>Pn.fromOption(w.popupUi.get().map(ao=>ao.sink),"(popup) UI has not been rendered"),xt=w.lazyGetInOuterOrDie("anchor bar",_e.getOpt),Ot=w.lazyGetInOuterOrDie("bottom anchor bar",Ie.getOpt),kn=w.lazyGetInOuterOrDie("toolbar",Yr.getToolbar),Qt=w.lazyGetInOuterOrDie("throbber",Yr.getThrobber),rn=wY({popup:st,dialog:Ye},n,xt,Ot),on=()=>{const ao={attributes:{[Qp]:he?jf.BottomToTop:jf.TopToBottom}},qo=Yr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:rn.popup,onEscape:()=>{n.focus()}}),Ur=Yr.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:rn.popup.shared.getSink,providers:rn.popup.shared.providers,onEscape:()=>{n.focus()},onToolbarToggled:N1=>{pG(n,N1)},type:ye,lazyToolbar:kn,lazyHeader:()=>Se().getOrDie("Could not find header element"),...ao}),pr=Yr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:rn.popup.shared.providers,onEscape:()=>{n.focus()},type:ye}),zu=uv(n),ei=Hw(n),Kf=Iw(n),Vc=uP(n),dh=mo(Vc),bu=zu||ei||Kf,ug=()=>zu?[pr]:ei?[Ur]:[],Sv=[dh,qo];return Yr.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(bu?[]:["tox-editor-header--empty"]),...ao},components:tt([Kf?Sv:[],ug(),zw(n)?[]:[_e.asSpec()]]),sticky:Vw(n),editor:n,sharedBackstage:rn.popup.shared})},mo=ao=>Yr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:ao}),to=()=>{const ao=Yr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),qo=Yr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[ao,qo]}},ys=()=>{const ao=i5(n),qo=se(Ml(),ao)&&yr(ao,"display")==="grid",Ur={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(le),attributes:{...md.isRtl()?{dir:"rtl"}:{}}},behaviours:a([dd.config({useFixed:()=>b.isDocked(Se)})])},pr={dom:{styles:{width:document.body.clientWidth+"px"}},events:oa([Mt(vi(),Kf=>{Co(Kf.element,"width",document.body.clientWidth+"px")})])},zu=E(qt(Ur,qo?pr:{})),ei=X_(zu);return _.set(ei),{sink:zu,mothership:ei}},ho=()=>{const ao={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(le),attributes:{...md.isRtl()?{dir:"rtl"}:{}}},behaviours:a([dd.config({useFixed:()=>b.isDocked(Se),getBounds:()=>s.getPopupSinkBounds()})])},qo=E(ao),Ur=X_(qo);return M.set(Ur),{sink:qo,mothership:Ur}},Vo=()=>{const ao=on(),qo=to(),Ur=Yr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:rn.popup}),pr=Yr.parts.viewWrapper({backstage:rn.popup}),zu=rP(n)&&!i?P.some(z9(n,rn.popup.shared.providers)):P.none(),ei=tt([he?[]:[ao],i?[]:[qo],he?[ao]:[]]),Kf=Yr.parts.editorContainer({components:tt([ei,i?[]:[Ie.asSpec()]])}),Vc=l5(n),dh={role:"application",...md.isRtl()?{dir:"rtl"}:{},...Vc?{"aria-hidden":"true"}:{}},bu=E(Yr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(he?["tox-tinymce--toolbar-bottom"]:[]).concat(le),styles:{visibility:"hidden",...Vc?{opacity:"0",border:"0"}:{}},attributes:dh},components:[Kf,...i?[]:[pr,...zu.toArray()],Ur],behaviours:a([tl(()=>rn.popup.shared.providers.checkUiComponentContext("any")),eo.config({disableClass:"tox-tinymce--disabled"}),lo.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),ug=X_(bu);return S.set(ug),{mothership:ug,outerContainer:bu}},no=ao=>{const qo=i3(rQ(n)),Ur=i3(aQ(n));return n.inline||(ef("div","width",Ur)&&Co(ao.element,"width",Ur),ef("div","height",qo)?Co(ao.element,"height",qo):Co(ao.element,"height","400px")),qo},Kt=ao=>{n.addShortcut("alt+F9","focus menubar",()=>{Yr.focusMenubar(ao)}),n.addShortcut("alt+F10","focus toolbar",()=>{Yr.focusToolbar(ao)}),n.addCommand("ToggleToolbarDrawer",(qo,Ur,pr)=>{Ur?.skipFocus?(CY("skipFocus"),Yr.toggleToolbarDrawerWithoutFocusing(ao)):pr?.skip_focus?Yr.toggleToolbarDrawerWithoutFocusing(ao):Yr.toggleToolbarDrawer(ao)}),n.addQueryStateHandler("ToggleToolbarDrawer",()=>Yr.isToolbarDrawerToggled(ao)),n.on("blur",()=>{z2(n)===ih.floating&&Yr.isToolbarDrawerToggled(ao)&&Yr.toggleToolbarDrawerWithoutFocusing(ao)})},vn=ao=>{const{mainUi:qo,popupUi:Ur,uiMotherships:pr}=ao;os(YL(n),(M1,mT)=>{n.ui.registry.addGroupToolbarButton(mT,M1)});const{buttons:zu,menuItems:ei,contextToolbars:Kf,sidebars:Vc,views:dh}=n.ui.registry.getAll(),bu=gE(n),ug={menuItems:ei,menus:gP(n),menubar:eP(n),toolbar:bu.getOrThunk(()=>zk(n)),allowToolbarGroups:ye===ih.floating,buttons:zu,sidebar:Vc,views:dh};Kt(qo.outerContainer),MN(n,qo.mothership,pr),b.setup(n,rn.popup.shared,Se),FQ(n,rn.popup),M9(n,rn.popup.shared.getSink,rn.popup),MY(n),$Y(n,Qt,rn.popup.shared),g9(n,Kf,Ur.sink,{backstage:rn.popup}),eJ(n,Ur.sink);const Sv=n.getElement(),N1=no(qo.outerContainer),vC={targetNode:Sv,height:N1};return f.render(n,ao,ug,rn.popup,vC)},Eo=ao=>(M.set(ao.mothership),ao),Ko=()=>{const ao=Vo(),qo=ys(),Ur=dv(n)?ho():Eo(qo);w.dialogUi.set(qo),w.popupUi.set(Ur),w.mainUi.set(ao);const pr={popupUi:Ur,dialogUi:qo,mainUi:ao,uiMotherships:w.getUiMotherships()};return vn(pr)};return{popups:{backstage:rn.popup,getMothership:()=>V9("popups",M)},dialogs:{backstage:rn.dialog,getMothership:()=>V9("dialogs",_)},renderUI:Ko}},j9=n=>{const s=[],i={};return Ho(n,(f,b)=>{f.fold(()=>{s.push(b)},w=>{i[b]=w})}),s.length>0?Pn.error(s):Pn.value(i)},cx=(n,s,i,f)=>{const b=gr(av.sketch(w=>({dom:{tag:"div",classes:["tox-form"].concat(n.classes)},components:Ze(n.items,S=>k$(w,S,s,i,f))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[b.asSpec()]}],behaviours:a([lo.config({mode:"acyclic",useTabstopAt:qe(VE)}),cp.memento(b),nK(b,{postprocess:w=>j9(w).fold(S=>(console.error(S),{}),it)}),fe("dialog-body-panel",[Mt(ec(),(w,S)=>{w.getSystem().broadcastOn([xv],{newFocus:P.some(S.event.target)})})])])}},U9=(n,s,i)=>Ze(n,(f,b)=>{zo.set(i,n[b].view());const w=s.dom.getBoundingClientRect();return zo.set(i,[]),w.height}),lJ=n=>sn(Le(n,(s,i)=>s>i?-1:s<i?1:0)),cJ=(n,s,i)=>{const f=bp(n).dom,b=tu(n,".tox-dialog-wrap").getOr(n),w=yr(b,"position")==="fixed";let S;w?S=Math.max(f.clientHeight,window.innerHeight):S=Math.max(f.offsetHeight,f.scrollHeight);const _=pi(s),I=s.dom.offsetLeft>=i.dom.offsetLeft+Mi(i)?Math.max(pi(i),_):_,Z=parseInt(yr(n,"margin-top"),10)||0,K=parseInt(yr(n,"margin-bottom"),10)||0,he=pi(n)+Z+K-I;return S-he},uJ=(n,s)=>{sn(n).each(i=>H2.showTab(s,i.value))},Z9=(n,s)=>{Co(n,"height",s+"px"),Co(n,"flex-basis",s+"px")},w3=(n,s,i)=>{tu(n,'[role="dialog"]').each(f=>{ur(f,'[role="tablist"]').each(b=>{i.get().map(w=>(Co(s,"height","0"),Co(s,"flex-basis","0"),Math.min(w,cJ(f,s,b)))).each(w=>{Z9(s,w)})})})},C3=n=>ur(n,'[role="tabpanel"]'),dJ=n=>{const s=wo();return{extraEvents:[Lr(b=>{const w=b.element;C3(w).each(S=>{Co(S,"visibility","hidden"),b.getSystem().getByDom(S).toOptional().each(_=>{const M=U9(n,S,_);lJ(M).fold(s.clear,s.set)}),w3(w,S,s),cs(S,"visibility"),uJ(n,b),requestAnimationFrame(()=>{w3(w,S,s)})})}),Mt(vi(),b=>{const w=b.element;C3(w).each(S=>{w3(w,S,s)})}),Mt(tN,(b,w)=>{const S=b.element;C3(S).each(_=>{const M=ri(Ti(_));Co(_,"visibility","hidden");const I=Gr(_,"height").map(le=>parseInt(le,10));cs(_,"height"),cs(_,"flex-basis");const Z=_.dom.getBoundingClientRect().height;I.forall(le=>Z>le)?(s.set(Z),w3(S,_,s)):I.each(le=>{Z9(_,le)}),cs(_,"visibility"),M.each(Fa)})})],selectFirst:!1}},W9="send-data-to-section",q9="send-data-to-view",fJ=(n,s,i,f)=>{const b=Mn({}),w=Z=>{const K=In.getValue(Z),le=j9(K).getOr({}),he=b.get(),ye=qt(he,le);b.set(ye)},S=Z=>{const K=b.get();In.setValue(Z,K)},_=Mn(null),M=Ze(n.tabs,Z=>({value:Z.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Na(i.shared.providers.translate(Z.title))],view:()=>[av.sketch(K=>({dom:{tag:"div",classes:["tox-form"]},components:Ze(Z.items,le=>k$(K,le,s,i,f)),formBehaviours:a([lo.config({mode:"acyclic",useTabstopAt:qe(VE)}),fe("TabView.form.events",[Lr(S),mf(w)]),fd.config({channels:vc([{key:W9,value:{onReceive:w}},{key:q9,value:{onReceive:S}}])})])}))]})),I=dJ(M);return H2.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(Z,K,le)=>{const he=In.getValue(K);so(Z,k7,{name:he,oldName:_.get()}),_.set(he)},tabs:M,components:[H2.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[IL.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:a([ua.config({})])}),H2.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:I.selectFirst,tabSectionBehaviours:a([fe("tabpanel",I.extraEvents),lo.config({mode:"acyclic"}),It.config({find:Z=>sn(H2.getViewItems(Z))}),ax(P.none(),Z=>(Z.getSystem().broadcastOn([W9],{}),b.get()),(Z,K)=>{b.set(K),Z.getSystem().broadcastOn([q9],{})})])})},G9=(n,s,i,f,b,w)=>{const S=I=>{const Z=I.body;return Z.type==="tabpanel"?[fJ(Z,I.initialData,f,w)]:[cx(Z,I.initialData,f,w)]},_=(I,Z)=>P.some({isTabPanel:()=>Z.body.type==="tabpanel"}),M={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...i.map(I=>({id:I})).getOr({}),...b?M:{}}},components:[],behaviours:a([cp.childAt(0),qf.config({channel:`${q7}-${s}`,updateState:_,renderComponents:S,initialData:n})])}},mJ=(n,s,i,f,b,w)=>G9(n,s,P.some(i),f,b,w),hJ=(n,s,i,f)=>{const b=G9(n,s,P.none(),i,!1,f);return ac.parts.body(b)},K9=n=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[Z7(P.none(),{dom:{tag:"iframe",attributes:{src:n.url}},behaviours:a([ua.config({}),et.config({})])})]}],behaviours:a([lo.config({mode:"acyclic",useTabstopAt:qe(VE)})])};return ac.parts.body(s)},gJ=Pw.deviceType.isTouch(),Y9=(n,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[n,s]}),X9=(n,s)=>ac.parts.close(rc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:n,buttonBehaviours:a([ua.config({})])})),Q9=()=>ac.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),J9=(n,s)=>ac.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:h0(`<p>${wE(s.translate(n))}</p>`)}]}]}),S3=n=>ac.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:n}),eH=(n,s)=>[d0.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:n}),d0.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],wM=n=>{const s="tox-dialog",i=s+"-wrap",f=i+"__backdrop",b=s+"__disable-scroll";return ac.sketch({lazySink:n.lazySink,onEscape:w=>(n.onEscape(w),P.some(!0)),useTabstopAt:w=>!VE(w),firstTabstop:n.firstTabstop,dom:{tag:"div",classes:[s].concat(n.extraClasses),styles:{position:"relative",...n.extraStyles}},components:[n.header,n.body,...n.footer.toArray()],parts:{blocker:{dom:h0(`<div class="${i}"></div>`),components:[{dom:{tag:"div",classes:gJ?[f,f+"--opaque"]:[f]}}]}},dragBlockClass:i,modalBehaviours:a([et.config({}),fe("dialog-events",n.dialogEvents.concat([t0(ec(),(w,S)=>{tn.isBlocked(w)?J():lo.focusIn(w)}),Mt($h(),(w,S)=>{w.getSystem().broadcastOn([xv],{newFocus:S.event.newFocus})})])),fe("scroll-lock",[Lr(()=>{nr(Ml(),b)}),mf(()=>{ha(Ml(),b)})]),...n.extraBehaviours]),eventOrder:{[Bs()]:["dialog-events"],[Lc()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[wc()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...n.eventOrder}})},tH=n=>rc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:a([ua.config({}),va.config(n.tooltips.getConfig({tooltipText:n.translate("Close")}))]),components:[lh("close",{tag:"span",classes:["tox-icon"]},n.icons)],action:s=>{fs(s,ty)}}),nH=(n,s,i,f)=>{const b=w=>[Na(f.translate(w.title))];return{dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...i.map(w=>({id:w})).getOr({})}},components:[],behaviours:a([qf.config({channel:`${rN}-${s}`,initialData:n,renderComponents:b})])}},oH=()=>({dom:h0('<div class="tox-dialog__draghandle"></div>')}),pJ=(n,s,i,f)=>d0.sketch({dom:h0('<div class="tox-dialog__header"></div>'),components:[nH(n,s,P.some(i),f),oH(),tH(f)],containerBehaviours:a([zb.config({mode:"mouse",blockerClass:"blocker",getTarget:b=>bi(b,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(b,w)=>{b.getSystem().broadcastOn([gl()],{target:w})}})])}),bJ=(n,s,i)=>{const f=ac.parts.title(nH(n,s,P.none(),i)),b=ac.parts.draghandle(oH()),w=ac.parts.close(tH(i)),S=[f].concat(n.draggable?[b]:[]).concat([w]);return d0.sketch({dom:h0('<div class="tox-dialog__header"></div>'),components:S})},sH=(n,s,i)=>bJ({title:i.shared.providers.translate(n),draggable:i.dialog.isDraggableModal()},s,i.shared.providers),CM=(n,s,i,f)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(n)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${f.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:h0('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),SM=(n,s,i)=>({onClose:()=>i.closeWindow(),onBlock:f=>{const b=ur(n().element,".tox-dialog__header").map(w=>pi(w));ac.setBusy(n(),(w,S)=>CM(f.message,S,s,b))},onUnblock:()=>{ac.setIdle(n())}}),rH="tox-dialog--fullscreen",ux="tox-dialog--width-lg",EM="tox-dialog--width-md",E3=n=>{switch(n){case"large":return P.some(ux);case"medium":return P.some(EM);default:return P.none()}},T3=(n,s)=>{const i=fn.fromDom(s.element.dom);Da(i,rH)||(El(i,[ux,EM]),E3(n).each(f=>nr(i,f)))},aH=(n,s)=>{const i=fn.fromDom(n.element.dom),f=Ou(i),b=Ne(f,w=>w===ux||w===EM).or(E3(s));of(i,[rH,...b.toArray()])},iH=(n,s,i)=>E(wM({...n,firstTabstop:1,lazySink:i.shared.getSink,extraBehaviours:[D4({}),...n.extraBehaviours],onEscape:f=>{fs(f,ty)},dialogEvents:s,eventOrder:{[Fh()]:[qf.name(),fd.name()],[Lc()]:["scroll-lock",qf.name(),"messages","dialog-events","alloy.base.behaviour"],[wc()]:["alloy.base.behaviour","dialog-events","messages",qf.name(),"scroll-lock"]}})),TM=(n,s={})=>{const i=f=>{const b=Ze(f.items,w=>{const S=Hn(s,w.name).getOr(Mn(!1));return{...w,storage:S}});return{...f,items:b}};return Ze(n,f=>f.type==="menu"?i(f):f)},lH=n=>Io(n,(s,i)=>i.type==="menu"?Io(i.items,(b,w)=>(b[w.name]=w.storage,b),s):s,{}),cH=(n,s)=>[e0(ec(),W7),n(rx,(i,f,b,w)=>{Jc(w.element)&&ri(Ti(w.element)).each(ma),s.onClose(),f.onClose()}),n(ty,(i,f,b,w)=>{f.onCancel(i),fs(w,rx)}),Mt(A4,(i,f)=>s.onUnblock()),Mt(eN,(i,f)=>s.onBlock(f.event))],yJ=(n,s)=>{const i=(b,w)=>Mt(b,(S,_)=>{f(S,(M,I)=>{w(n(),M,_.event,S)})}),f=(b,w)=>{qf.getState(b).get().each(S=>{w(S,b)})};return[...cH(i,s),i(lp,(b,w,S)=>{w.onAction(b,{name:S.name})})]},uH=(n,s,i)=>{const f=(w,S)=>Mt(w,(_,M)=>{b(_,(I,Z)=>{S(n(),I,M.event,_)})}),b=(w,S)=>{qf.getState(w).get().each(_=>{S(_.internalDialog,w)})};return[...cH(f,s),f(zE,(w,S)=>S.onSubmit(w)),f(yf,(w,S,_)=>{S.onChange(w,{name:_.name})}),f(lp,(w,S,_,M)=>{const I=()=>M.getSystem().isConnected()?lo.focusIn(M):void 0,Z=he=>$a(he,"disabled")||ii(he,"aria-disabled").exists(ye=>ye==="true"),K=Ti(M.element),le=ri(K);S.onAction(w,{name:_.name,value:_.value}),ri(K).fold(I,he=>{Z(he)||le.exists(ye=>Ae(he,ye)&&Z(ye))?I():i().toOptional().filter(ye=>!Ae(ye.element,he)).each(I)})}),f(k7,(w,S,_)=>{S.onTabChange(w,{newTabName:_.name,oldTabName:_.oldName})}),mf(w=>{const S=n();In.setValue(w,S.getData())})]},vJ=(n,s)=>WE(n,n.type,s),xJ=(n,s,i)=>Ne(s,f=>f.name===i).bind(f=>f.memento.getOpt(n)),wJ=(n,s)=>{const i=s.map(_=>_.footerButtons).getOr([]),f=jo(i,_=>_.align==="start"),b=(_,M)=>d0.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${_}`]},components:Ze(M,I=>I.memento.asSpec())}),w=b("start",f.pass),S=b("end",f.fail);return[w,S]},dH=(n,s,i)=>{const f=(b,w)=>{const S=Ze(w.buttons,M=>{const I=gr(vJ(M,i));return{name:M.name,align:M.align,memento:I}}),_=M=>xJ(b,S,M);return P.some({lookupByName:_,footerButtons:S})};return{dom:h0('<div class="tox-dialog__footer"></div>'),components:[],behaviours:a([qf.config({channel:`${G7}-${s}`,initialData:n,updateState:f,renderComponents:wJ})])}},CJ=(n,s,i)=>dH(n,s,i),fH=(n,s,i)=>ac.parts.footer(dH(n,s,i)),A3=(n,s)=>{if(n.getRoot().getSystem().isConnected()){const f=It.getCurrent(n.getFormWrapper()).getOr(n.getFormWrapper());return av.getField(f,s).orThunk(()=>n.getFooter().bind(S=>qf.getState(S).get()).bind(S=>S.lookupByName(s)))}else return P.none()},SJ=(n,s)=>{const i=n.getRoot();return qf.getState(i).get().map(f=>Qu(ga("data",f.dataValidator,s))).getOr(s)},mH=(n,s,i)=>{const f=ye=>{const _e=n.getRoot();_e.getSystem().isConnected()&&ye(_e)},he={getData:()=>{const ye=n.getRoot(),_e=ye.getSystem().isConnected()?n.getFormWrapper():ye,Ie=In.getValue(_e),Se=os(i,Ye=>Ye.get());return{...Ie,...Se}},setData:ye=>{f(_e=>{const Ie=he.getData(),Se=qt(Ie,ye),Ye=SJ(n,Se),st=n.getFormWrapper();In.setValue(st,Ye),Ho(i,(xt,Ot)=>{ts(Se,Ot)&&xt.set(Se[Ot])})})},setEnabled:(ye,_e)=>{A3(n,ye).each(_e?eo.enable:eo.disable)},focus:ye=>{A3(n,ye).each(et.focus)},block:ye=>{if(!H(ye))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");f(_e=>{so(_e,eN,{message:ye})})},unblock:()=>{f(ye=>{fs(ye,A4)})},showTab:ye=>{f(_e=>{const Ie=n.getBody();qf.getState(Ie).get().exists(Ye=>Ye.isTabPanel())&&It.getCurrent(Ie).each(Ye=>{H2.showTab(Ye,ye)})})},redial:ye=>{f(_e=>{const Ie=n.getId(),Se=s(ye),Ye=TM(Se.internalDialog.buttons,i);_e.getSystem().broadcastOn([`${M4}-${Ie}`],Se),_e.getSystem().broadcastOn([`${rN}-${Ie}`],Se.internalDialog),_e.getSystem().broadcastOn([`${q7}-${Ie}`],Se.internalDialog),_e.getSystem().broadcastOn([`${G7}-${Ie}`],{...Se.internalDialog,buttons:Ye}),he.setData(Se.initialData)})},close:()=>{f(ye=>{fs(ye,rx)})},toggleFullscreen:n.toggleFullscreen};return he},EJ=(n,s,i)=>{const f=me("dialog"),b=n.internalDialog,w=sH(b.title,f,i),S=Mn(b.size),_=st=>A3(Se,st),M=E3(S.get()).toArray(),I=(st,xt)=>(S.set(xt.internalDialog.size),T3(xt.internalDialog.size,st),P.some(xt)),Z=hJ({body:b.body,initialData:b.initialData},f,i,_),K=TM(b.buttons),le=lH(K),he=Sa(K.length!==0,fH({buttons:K},f,i)),ye=uH(()=>Ye,SM(()=>Ie,i.shared.providers,s),i.shared.getSink),_e={id:f,header:w,body:Z,footer:he,extraClasses:M,extraBehaviours:[qf.config({channel:`${M4}-${f}`,updateState:I,initialData:n})],extraStyles:{}},Ie=iH(_e,ye,i),Se=(()=>{const st=()=>{const Ot=ac.getBody(Ie);return It.getCurrent(Ot).getOr(Ot)},xt=()=>{aH(Ie,S.get())};return{getId:ie(f),getRoot:ie(Ie),getBody:()=>ac.getBody(Ie),getFooter:()=>ac.getFooter(Ie),getFormWrapper:st,toggleFullscreen:xt}})(),Ye=mH(Se,s.redial,le);return{dialog:Ie,instanceApi:Ye}},fT=(n,s,i,f=!1,b)=>{const w=me("dialog"),S=me("dialog-label"),_=me("dialog-content"),M=n.internalDialog,I=on=>A3(Qt,on),Z=Mn(M.size),K=E3(Z.get()).toArray(),le=(on,mo)=>(Z.set(mo.internalDialog.size),T3(mo.internalDialog.size,on),b(),P.some(mo)),he=gr(pJ({title:M.title,draggable:!0},w,S,i.shared.providers)),ye=gr(mJ({body:M.body,initialData:M.initialData},w,_,i,f,I)),_e=TM(M.buttons),Ie=lH(_e),Se=Sa(_e.length!==0,gr(CJ({buttons:_e},w,i))),Ye=uH(()=>rn,{onBlock:on=>{tn.block(Ot,(mo,to)=>{const ys=he.getOpt(Ot).map(ho=>pi(ho.element));return CM(on.message,to,i.shared.providers,ys)})},onUnblock:()=>{tn.unblock(Ot)},onClose:()=>s.closeWindow()},i.shared.getSink),st="tox-dialog-inline",xt=Ua().os,Ot=E({dom:{tag:"div",classes:["tox-dialog",st,...K],attributes:{role:"dialog",...xt.isMacOS()?{"aria-label":M.title}:{"aria-labelledby":S}}},eventOrder:{[Fh()]:[qf.name(),fd.name()],[Bs()]:["execute-on-form"],[Lc()]:["reflecting","execute-on-form"]},behaviours:a([lo.config({mode:"cyclic",onEscape:on=>(fs(on,rx),P.some(!0)),useTabstopAt:on=>!VE(on)&&(yd(on)!=="button"||ea(on,"disabled")!=="disabled"),firstTabstop:1}),qf.config({channel:`${M4}-${w}`,updateState:le,initialData:n}),et.config({}),fe("execute-on-form",Ye.concat([t0(ec(),(on,mo)=>{lo.focusIn(on)}),Mt($h(),(on,mo)=>{on.getSystem().broadcastOn([xv],{newFocus:mo.event.newFocus})})])),tn.config({getRoot:()=>P.some(Ot)}),zo.config({}),D4({})]),components:[he.asSpec(),ye.asSpec(),...Se.map(on=>on.asSpec()).toArray()]}),kn=()=>{aH(Ot,Z.get())},Qt={getId:ie(w),getRoot:ie(Ot),getFooter:()=>Se.map(on=>on.get(Ot)),getBody:()=>ye.get(Ot),getFormWrapper:()=>{const on=ye.get(Ot);return It.getCurrent(on).getOr(on)},toggleFullscreen:kn},rn=mH(Qt,s.redial,Ie);return{dialog:Ot,instanceApi:rn}};var AM=tinymce.util.Tools.resolve("tinymce.util.URI");const TJ=n=>{const s=S=>{n.getSystem().isConnected()&&S(n)};return{block:S=>{if(!H(S))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(_=>{so(_,eN,{message:S})})},unblock:()=>{s(S=>{fs(S,A4)})},close:()=>{s(S=>{fs(S,rx)})},sendMessage:S=>{s(_=>{_.getSystem().broadcastOn([No],S)})}}},AJ=["insertContent","setContent","execCommand","close","block","unblock"],hH=n=>U(n)&&AJ.indexOf(n.mceAction)!==-1,kJ=n=>!hH(n)&&U(n)&&ts(n,"mceAction"),DJ=(n,s,i)=>{switch(i.mceAction){case"insertContent":n.insertContent(i.content);break;case"setContent":n.setContent(i.content);break;case"execCommand":const f=ue(i.ui)?i.ui:!1;n.execCommand(i.cmd,f,i.value);break;case"close":s.close();break;case"block":s.block(i.message);break;case"unblock":s.unblock();break}},gH=(n,s,i,f)=>{const b=me("dialog"),w=sH(n.title,b,f),S=K9(n),_=n.buttons.bind(st=>st.length===0?P.none():P.some(fH({buttons:st},b,f))),M=yJ(()=>Ye,SM(()=>Se,f.shared.providers,s)),I={...n.height.fold(()=>({}),st=>({height:st+"px","max-height":st+"px"})),...n.width.fold(()=>({}),st=>({width:st+"px","max-width":st+"px"}))},Z=n.width.isNone()&&n.height.isNone()?["tox-dialog--width-lg"]:[],K=new AM(n.url,{base_uri:new AM(window.location.href)}),le=`${K.protocol}://${K.host}${K.port?":"+K.port:""}`,he=Ir(),ye=(st,xt)=>P.some(xt),_e=[qf.config({channel:`${M4}-${b}`,updateState:ye,initialData:n}),fe("messages",[Lr(()=>{const st=Fs(fn.fromDom(window),"message",xt=>{if(K.isSameOrigin(new AM(xt.raw.origin))){const Ot=xt.raw.data;hH(Ot)?DJ(i,Ye,Ot):kJ(Ot)&&n.onMessage(Ye,Ot)}});he.set(st)}),mf(he.clear)]),fd.config({channels:{[No]:{onReceive:(st,xt)=>{ur(st.element,"iframe").each(Ot=>{const kn=Ot.dom.contentWindow;$e(kn)&&kn.postMessage(xt,le)})}}}})],Se=iH({id:b,header:w,body:S,footer:_,extraClasses:Z,extraBehaviours:_e,extraStyles:I},M,f),Ye=TJ(Se);return{dialog:Se,instanceApi:Ye}},_J=n=>{const s=n.shared;return{open:(f,b)=>{const w=()=>{ac.hide(I),b()},S=gr(WE({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:P.some("primary"),align:"end",enabled:!0,icon:P.none()},"cancel",n)),_=Q9(),M=X9(w,s.providers),I=E(wM({lazySink:()=>s.getSink(),header:Y9(_,M),body:J9(f,s.providers),footer:P.some(S3(eH([],[S.asSpec()]))),onEscape:w,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Mt(ty,w)],eventOrder:{}}));ac.show(I);const Z=S.get(I);et.focus(Z)}}},OJ=n=>{const s=n.shared;return{open:(f,b)=>{const w=le=>{ac.hide(Z),b(le)},S=gr(WE({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:P.some("primary"),align:"end",enabled:!0,icon:P.none()},"submit",n)),_=WE({context:"any",name:"no",text:"No",primary:!1,buttonType:P.some("secondary"),align:"end",enabled:!0,icon:P.none()},"cancel",n),M=Q9(),I=X9(()=>w(!1),s.providers),Z=E(wM({lazySink:()=>s.getSink(),header:Y9(M,I),body:J9(f,s.providers),footer:P.some(S3(eH([],[_,S.asSpec()]))),onEscape:()=>w(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Mt(ty,()=>w(!1)),Mt(zE,()=>w(!0))],eventOrder:{}}));ac.show(Z);const K=S.get(Z);et.focus(K)}}},pH=(n,s)=>Qu(ga("data",s,n)),bH=n=>Pm(n,".tox-alert-dialog")||Pm(n,".tox-confirm-dialog"),RJ=(n,s,i,f)=>s&&i?[]:[Ja.config({contextual:{lazyContext:()=>P.some(Di(fn.fromDom(n.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition",onHide:f},modes:["top"],lazyViewport:b=>Wb(n,b.element).map(S=>({bounds:V2(S),optScrollEnv:P.some({currentScrollTop:S.element.dom.scrollTop,scrollElmTop:Bl(S.element).top})})).getOrThunk(()=>({bounds:bc(),optScrollEnv:P.none()}))})],kM=n=>{const s=n.editor,i=Vw(s),f=_J(n.backstages.dialog),b=OJ(n.backstages.dialog),w=(ye,_e,Ie)=>{if(!we(_e)){if(_e.inline==="toolbar")return I(ye,n.backstages.popup.shared.anchors.inlineDialog(),Ie,_e);if(_e.inline==="bottom")return Z(ye,n.backstages.popup.shared.anchors.inlineBottomDialog(),Ie,_e);if(_e.inline==="cursor")return I(ye,n.backstages.popup.shared.anchors.cursor(),Ie,_e)}return M(ye,Ie)},S=(ye,_e)=>_(ye,_e),_=(ye,_e)=>{const Ie=Se=>{const Ye=gH(Se,{closeWindow:()=>{ac.hide(Ye.dialog),_e(Ye.instanceApi)}},s,n.backstages.dialog);return ac.show(Ye.dialog),Ye.instanceApi};return J2.openUrl(Ie,ye)},M=(ye,_e)=>{const Ie=(Se,Ye,st)=>{const xt=Ye,kn=EJ({dataValidator:st,initialData:xt,internalDialog:Se},{redial:J2.redial,closeWindow:()=>{ac.hide(kn.dialog),_e(kn.instanceApi)}},n.backstages.dialog);return ac.show(kn.dialog),kn.instanceApi.setData(xt),kn.instanceApi};return J2.open(Ie,ye)},I=(ye,_e,Ie,Se)=>{const Ye=(st,xt,Ot)=>{const kn=pH(xt,Ot),Qt=wo(),rn=n.backstages.popup.shared.header.isPositionedAtTop(),on={dataValidator:Ot,initialData:kn,internalDialog:st},mo=()=>Qt.on(Kt=>{mi.reposition(Kt),(!i||!rn)&&Ja.refresh(Kt)}),to=fT(on,{redial:J2.redial,closeWindow:()=>{Qt.on(mi.hide),s.off("ResizeEditor",mo),s.off("ScrollWindow",ys),Qt.clear(),Ie(to.instanceApi)}},n.backstages.popup,Se.ariaAttrs,mo),ys=()=>to.dialog.getSystem().broadcastOn([gl()],{target:to.dialog.element}),ho=()=>to.dialog.getSystem().broadcastOn([Jm()],{target:to.dialog.element}),Vo=E(mi.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Se.persistent?{event:"doNotDismissYet"}:{},...rn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:a([fe("window-manager-inline-events",[Mt(mm(),(Kt,vn)=>{fs(to.dialog,ty)})]),...RJ(s,i,rn,ho)]),isExtraPart:(Kt,vn)=>bH(vn)}));Qt.set(Vo);const no=()=>{const Kt=s.inline?Ml():fn.fromDom(s.getContainer()),vn=Di(Kt);return P.some(vn)};return mi.showWithinBounds(Vo,D(to.dialog),{anchor:_e},no),(!i||!rn)&&(Ja.refresh(Vo),s.on("ResizeEditor",mo)),s.on("ScrollWindow",ys),to.instanceApi.setData(kn),lo.focusIn(to.dialog),to.instanceApi};return J2.open(Ye,ye)},Z=(ye,_e,Ie,Se)=>{const Ye=(st,xt,Ot)=>{const kn=pH(xt,Ot),Qt=wo(),rn=n.backstages.popup.shared.header.isPositionedAtTop(),on={dataValidator:Ot,initialData:kn,internalDialog:st},mo=()=>Qt.on(Vo=>{mi.reposition(Vo),Ja.refresh(Vo)}),to=fT(on,{redial:J2.redial,closeWindow:()=>{Qt.on(mi.hide),s.off("ResizeEditor ScrollWindow ElementScroll",mo),Qt.clear(),Ie(to.instanceApi)}},n.backstages.popup,Se.ariaAttrs,mo),ys=E(mi.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Se.persistent?{event:"doNotDismissYet"}:{},...rn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:a([fe("window-manager-inline-events",[Mt(mm(),(Vo,no)=>{fs(to.dialog,ty)})]),Ja.config({contextual:{lazyContext:()=>P.some(Di(fn.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:Vo=>Wb(s,Vo.element).map(Kt=>({bounds:V2(Kt),optScrollEnv:P.some({currentScrollTop:Kt.element.dom.scrollTop,scrollElmTop:Bl(Kt.element).top})})).getOrThunk(()=>({bounds:bc(),optScrollEnv:P.none()}))})]),isExtraPart:(Vo,no)=>bH(no)}));Qt.set(ys);const ho=()=>n.backstages.popup.shared.getSink().toOptional().bind(Vo=>{const no=Wb(s,Vo.element),Kt=15,vn=no.map(ao=>V2(ao)).getOr(bc()),Eo=Di(fn.fromDom(s.getContentAreaContainer())),Ko=Im(Eo,vn);return P.some(Li(Ko.x,Ko.y,Ko.width,Ko.height-Kt))});return mi.showWithinBounds(ys,D(to.dialog),{anchor:_e},ho),Ja.refresh(ys),s.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",mo),to.instanceApi.setData(kn),lo.focusIn(to.dialog),to.instanceApi};return J2.open(Ye,ye)};return{open:w,openUrl:S,alert:(ye,_e)=>{f.open(ye,_e)},close:ye=>{ye.close()},confirm:(ye,_e)=>{b.open(ye,_e)}}},yH=n=>{UL(n),e7(n),IQ(n)};var NJ=()=>{jL.add("silver",n=>{yH(n);let s=()=>bc();const{dialogs:i,popups:f,renderUI:b}=iJ(n,{getPopupSinkBounds:()=>s()}),w=()=>{const Z=b();return Wb(n,f.getMothership().element).each(le=>{s=()=>V2(le)}),Z};KG.register(n,f.backstage.shared);const S=kM({editor:n,backstages:{popup:f.backstage,dialog:i.backstage}}),_=wo(),M=()=>nW(n,{backstage:f.backstage},f.getMothership(),_),I=()=>ur(fn.fromDom(n.getContainer()),".tox-promotion").map(Z=>Z.dom).getOrNull();return{renderUI:w,getWindowManagerImpl:ie(S),getNotificationManagerImpl:M,getPromotionElement:I}})};NJ()})()),Fre}var Ire;function Jve(){return Ire||(Ire=1,Qve()),Pre}Jve();var Hre={},zre={},Vre;function e2e(){return Vre||(Vre=1,(function(){var c=tinymce.util.Tools.resolve("tinymce.ModelManager");const d=(m,y,E)=>E(m,y.prototype)?!0:m.constructor?.name===y.name,p=m=>{const y=typeof m;return m===null?"null":y==="object"&&Array.isArray(m)?"array":y==="object"&&d(m,String,(E,D)=>D.isPrototypeOf(E))?"string":y},x=m=>y=>p(y)===m,A=m=>y=>typeof y===m,N=m=>y=>m===y,O=x("string"),H=x("object"),U=x("array"),V=N(null),Y=A("boolean"),ne=N(void 0),ue=m=>m==null,we=m=>!ue(m),Ee=A("function"),$e=A("number"),ve=()=>{},ct=(m,y)=>(...E)=>m(y.apply(null,E)),Ue=(m,y)=>E=>m(y(E)),J=m=>()=>m,vt=m=>m,en=(m,y)=>m===y;function Qe(m,...y){return(...E)=>{const D=y.concat(E);return m.apply(null,D)}}const ie=m=>y=>!m(y),it=m=>()=>{throw new Error(m)},Tn=m=>m(),mn=J(!1),qe=J(!0);class Oe{tag;value;static singletonNone=new Oe(!1);constructor(y,E){this.tag=y,this.value=E}static some(y){return new Oe(!0,y)}static none(){return Oe.singletonNone}fold(y,E){return this.tag?E(this.value):y()}isSome(){return this.tag}isNone(){return!this.tag}map(y){return this.tag?Oe.some(y(this.value)):Oe.none()}bind(y){return this.tag?y(this.value):Oe.none()}exists(y){return this.tag&&y(this.value)}forall(y){return!this.tag||y(this.value)}filter(y){return!this.tag||y(this.value)?this:Oe.none()}getOr(y){return this.tag?this.value:y}or(y){return this.tag?this:y}getOrThunk(y){return this.tag?this.value:y()}orThunk(y){return this.tag?this:y()}getOrDie(y){if(this.tag)return this.value;throw new Error(y??"Called getOrDie on None")}static from(y){return we(y)?Oe.some(y):Oe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(y){this.tag&&y(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Yo=Array.prototype.slice,pt=Array.prototype.indexOf,Pt=Array.prototype.push,P=(m,y)=>pt.call(m,y),Vt=(m,y)=>P(m,y)>-1,at=(m,y)=>{for(let E=0,D=m.length;E<D;E++){const $=m[E];if(y($,E))return!0}return!1},Qn=(m,y)=>{const E=[];for(let D=0;D<m;D++)E.push(y(D));return E},cn=(m,y)=>{const E=m.length,D=new Array(E);for(let $=0;$<E;$++){const q=m[$];D[$]=y(q,$)}return D},ee=(m,y)=>{for(let E=0,D=m.length;E<D;E++){const $=m[E];y($,E)}},Me=(m,y)=>{for(let E=m.length-1;E>=0;E--){const D=m[E];y(D,E)}},wt=(m,y)=>{const E=[],D=[];for(let $=0,q=m.length;$<q;$++){const oe=m[$];(y(oe,$)?E:D).push(oe)}return{pass:E,fail:D}},je=(m,y)=>{const E=[];for(let D=0,$=m.length;D<$;D++){const q=m[D];y(q,D)&&E.push(q)}return E},Bt=(m,y,E)=>(Me(m,(D,$)=>{E=y(E,D,$)}),E),Ze=(m,y,E)=>(ee(m,(D,$)=>{E=y(E,D,$)}),E),bt=(m,y,E)=>{for(let D=0,$=m.length;D<$;D++){const q=m[D];if(y(q,D))return Oe.some(q);if(E(q,D))break}return Oe.none()},X=(m,y)=>bt(m,y,mn),jo=(m,y)=>{for(let E=0,D=m.length;E<D;E++){const $=m[E];if(y($,E))return Oe.some(E)}return Oe.none()},vo=m=>{const y=[];for(let E=0,D=m.length;E<D;++E){if(!U(m[E]))throw new Error("Arr.flatten item "+E+" was not an array, input: "+m);Pt.apply(y,m[E])}return y},Mo=(m,y)=>vo(cn(m,y)),Io=(m,y)=>{for(let E=0,D=m.length;E<D;++E){const $=m[E];if(y($,E)!==!0)return!1}return!0},zs=m=>{const y=Yo.call(m,0);return y.reverse(),y},Ne=(m,y)=>{const E={};for(let D=0,$=m.length;D<$;D++){const q=m[D];E[String(q)]=y(q,D)}return E},Ge=(m,y)=>{const E=Yo.call(m,0);return E.sort(y),E},tt=(m,y)=>y>=0&&y<m.length?Oe.some(m[y]):Oe.none(),Be=m=>tt(m,0),Je=m=>tt(m,m.length-1),Rt=(m,y)=>{for(let E=0;E<m.length;E++){const D=y(m[E],E);if(D.isSome())return D}return Oe.none()},yt=Object.keys,Un=Object.hasOwnProperty,Dt=(m,y)=>{const E=yt(m);for(let D=0,$=E.length;D<$;D++){const q=E[D],oe=m[q];y(oe,q)}},Le=(m,y)=>Tt(m,(E,D)=>({k:D,v:y(E,D)})),Tt=(m,y)=>{const E={};return Dt(m,(D,$)=>{const q=y(D,$);E[q.k]=q.v}),E},sn=m=>(y,E)=>{m[E]=y},Zn=(m,y,E,D)=>{Dt(m,($,q)=>{(y($,q)?E:D)($,q)})},Xo=(m,y)=>{const E={};return Zn(m,y,sn(E),ve),E},Jo=(m,y)=>{const E=[];return Dt(m,(D,$)=>{E.push(y(D,$))}),E},ko=m=>Jo(m,vt),mr=(m,y)=>Ho(m,y)?Oe.from(m[y]):Oe.none(),Ho=(m,y)=>Un.call(m,y),os=(m,y)=>Ho(m,y)&&m[y]!==void 0&&m[y]!==null,Vs=m=>{for(const y in m)if(Un.call(m,y))return!1;return!0},Xs={generate:m=>{if(!U(m))throw new Error("cases must be an array");if(m.length===0)throw new Error("there must be at least one case");const y=[],E={};return ee(m,(D,$)=>{const q=yt(D);if(q.length!==1)throw new Error("one and only one name per case");const oe=q[0],de=D[oe];if(E[oe]!==void 0)throw new Error("duplicate key detected:"+oe);if(oe==="cata")throw new Error("cannot have a case named cata (sorry)");if(!U(de))throw new Error("case arguments must be an array");y.push(oe),E[oe]=(...Ce)=>{const Ve=Ce.length;if(Ve!==de.length)throw new Error("Wrong number of arguments to case "+oe+". Expected "+de.length+" ("+de+"), got "+Ve);return{fold:(...tn)=>{if(tn.length!==m.length)throw new Error("Wrong number of arguments to fold. Expected "+m.length+", got "+tn.length);return tn[$].apply(null,Ce)},match:tn=>{const Fn=yt(tn);if(y.length!==Fn.length)throw new Error("Wrong number of arguments to match. Expected: "+y.join(",")+`
Actual: `+Fn.join(","));if(!Io(y,ro=>Vt(Fn,ro)))throw new Error("Not all branches were specified when using match. Specified: "+Fn.join(", ")+`
Required: `+y.join(", "));return tn[oe].apply(null,Ce)},log:tn=>{console.log(tn,{constructors:y,constructor:oe,params:Ce})}}}}),E}},gs=m=>{let y=m;return{get:()=>y,set:$=>{y=$}}},Wr=m=>m.slice(0).sort(),Es=(m,y)=>{throw new Error("All required keys ("+Wr(m).join(", ")+") were not specified. Specified keys were: "+Wr(y).join(", ")+".")},$r=m=>{throw new Error("Unsupported keys for object: "+Wr(m).join(", "))},Ma=(m,y)=>{if(!U(y))throw new Error("The "+m+" fields must be an array. Was: "+y+".");ee(y,E=>{if(!O(E))throw new Error("The value "+E+" in the "+m+" fields was not a string.")})},Hn=(m,y)=>{throw new Error("All values need to be of type: "+y+". Keys ("+Wr(m).join(", ")+") were not.")},ts=m=>{const y=Wr(m);X(y,(D,$)=>$<y.length-1&&D===y[$+1]).each(D=>{throw new Error("The field: "+D+" occurs more than once in the combined fields: ["+y.join(", ")+"].")})},Oo=(m,y)=>ci(m,y,{validate:Ee,label:"function"}),ci=(m,y,E)=>{if(y.length===0)throw new Error("You must specify at least one required field.");return Ma("required",y),ts(y),D=>{const $=yt(D);Io(y,de=>Vt($,de))||Es(y,$),m(y,$);const oe=je(y,de=>!E.validate(D[de],de));return oe.length>0&&Hn(oe,E.label),D}},Ba=(m,y)=>{const E=je(y,D=>!Vt(m,D));E.length>0&&$r(E)},Mn=m=>Oo(Ba,m),Zt=m=>{const y=q=>q(m),E=J(m),D=()=>$,$={tag:!0,inner:m,fold:(q,oe)=>oe(m),isValue:qe,isError:mn,map:q=>Gn.value(q(m)),mapError:D,bind:y,exists:y,forall:y,getOr:E,or:D,getOrThunk:E,orThunk:D,getOrDie:E,each:q=>{q(m)},toOptional:()=>Oe.some(m)};return $},Gt=m=>{const y=()=>E,E={tag:!1,inner:m,fold:(D,$)=>D(m),isValue:mn,isError:qe,map:y,mapError:D=>Gn.error(D(m)),bind:y,exists:mn,forall:qe,getOr:vt,or:vt,getOrThunk:Tn,orThunk:Tn,getOrDie:it(String(m)),each:ve,toOptional:Oe.none};return E},Gn={value:Zt,error:Gt,fromOption:(m,y)=>m.fold(()=>Gt(y),Zt)},yo=typeof window<"u"?window:Function("return this;")(),Ro=m=>{const y=m.replace(/\./g,"-");return{resolve:D=>y+"-"+D}},Jn=(m,y,E=en)=>m.exists(D=>E(D,y)),ls=m=>{const y=[],E=D=>{y.push(D)};for(let D=0;D<m.length;D++)m[D].each(E);return y},La=(m,y)=>m!=null?y(m):Oe.none(),ol=(m,y)=>m?Oe.some(y):Oe.none(),hi=(m,y)=>{let E=y??yo;for(let D=0;D<m.length&&E!==void 0&&E!==null;++D)E=E[m[D]];return E},Pn=(m,y)=>{const E=m.split(".");return hi(E,y)},er=m=>{const y=gs(Oe.none()),E=()=>y.get().each(m);return{clear:()=>{E(),y.set(Oe.none())},isSet:()=>y.get().isSome(),get:()=>y.get(),set:de=>{E(),y.set(Oe.some(de))}}},tr=()=>{const m=er(ve);return{...m,on:E=>m.get().each(E)}},Vl=(m,y)=>m.substring(y),Fe=(m,y,E)=>y===""||m.length>=y.length&&m.substr(E,E+y.length)===y,ze=(m,y)=>gn(m,y)?Vl(m,y.length):m,nt=(m,y,E=0,D)=>{const $=m.indexOf(y,E);return $!==-1?ne(D)?!0:$+y.length<=D:!1},gn=(m,y)=>Fe(m,y,0),To=(m,y)=>Fe(m,y,m.length-y.length),Zo=(m=>y=>y.replace(m,""))(/^\s+|\s+$/g),us=m=>m.length>0,Ao=m=>{const y=parseFloat(m);return isNaN(y)?Oe.none():Oe.some(y)},Qs=(m,y)=>{let E=null;const D=()=>{V(E)||(clearTimeout(E),E=null)};return{cancel:D,throttle:(...q)=>{D(),E=setTimeout(()=>{E=null,m.apply(null,q)},y)}}},me=m=>{let y=!1,E;return(...D)=>(y||(y=!0,E=m.apply(null,D)),E)},He="",jt=["tfoot","thead","tbody","colgroup"],xn=m=>Vt(jt,m),qt=(m,y)=>({rows:m,columns:y}),xo=(m,y)=>({row:m,column:y}),oo=(m,y,E)=>({element:m,rowspan:y,colspan:E}),Bn=(m,y,E,D)=>({element:m,rowspan:y,colspan:E,isNew:D}),Uo=(m,y,E,D,$,q)=>({element:m,rowspan:y,colspan:E,row:D,column:$,isLocked:q}),vs=(m,y,E)=>({element:m,cells:y,section:E}),Ts=(m,y,E,D)=>({element:m,cells:y,section:E,isNew:D}),As=(m,y,E)=>({element:m,isNew:y,isLocked:E}),sa=(m,y,E,D)=>({element:m,cells:y,section:E,isNew:D}),Sa=(m,y,E,D)=>({startRow:m,startCol:y,finishRow:E,finishCol:D}),Qf=(m,y,E)=>({element:m,colspan:y,column:E}),Tr=(m,y)=>({element:m,columns:y}),Ps=(m,y,E)=>{const D=m.cells,$=D.slice(0,y),q=D.slice(y),oe=$.concat(E).concat(q);return wi(m,oe)},ir=(m,y,E)=>Ps(m,y,[E]),Vi=(m,y,E)=>{const D=m.cells;D[y]=E},wi=(m,y)=>sa(m.element,y,m.section,m.isNew),Ir=(m,y)=>{const E=m.cells,D=cn(E,y);return sa(m.element,D,m.section,m.isNew)},wo=(m,y)=>m.cells[y],Ci=(m,y)=>wo(m,y).element,ni=m=>m.cells.length,Jr=m=>{const y=wt(m,E=>E.section==="colgroup");return{rows:y.fail,cols:y.pass}},Sf=(m,y,E)=>{const D=cn(m.cells,E);return sa(y(m.element),D,m.section,!0)},uc=(m,y)=>{const D=(y||document).createElement("div");if(D.innerHTML=m,!D.hasChildNodes()||D.childNodes.length>1){const $="HTML does not have a single root node";throw console.error($,m),new Error($)}return dc(D.childNodes[0])},Hr=(m,y)=>{const D=(y||document).createElement(m);return dc(D)},wu=(m,y)=>{const D=(y||document).createTextNode(m);return dc(D)},dc=m=>{if(m==null)throw new Error("Node cannot be null or undefined");return{dom:m}},An={fromHtml:uc,fromTag:Hr,fromText:wu,fromDom:dc,fromPoint:(m,y,E)=>Oe.from(m.dom.elementFromPoint(y,E)).map(dc)},Cu=(m,y)=>{const E=m.document.createRange();return E.selectNode(y.dom),E},Ri=(m,y)=>{const E=m.document.createRange();return gi(E,y),E},gi=(m,y)=>m.selectNodeContents(y.dom),qr=(m,y)=>{y.fold(E=>{m.setStartBefore(E.dom)},(E,D)=>{m.setStart(E.dom,D)},E=>{m.setStartAfter(E.dom)})},Gd=(m,y)=>{y.fold(E=>{m.setEndBefore(E.dom)},(E,D)=>{m.setEnd(E.dom,D)},E=>{m.setEndAfter(E.dom)})},Si=(m,y,E)=>{const D=m.document.createRange();return qr(D,y),Gd(D,E),D},sl=(m,y,E,D,$)=>{const q=m.document.createRange();return q.setStart(y.dom,E),q.setEnd(D.dom,$),q},Tf=m=>({left:m.left,top:m.top,right:m.right,bottom:m.bottom,width:m.width,height:m.height}),Jf=m=>{const y=m.getClientRects(),E=y.length>0?y[0]:m.getBoundingClientRect();return E.width>0||E.height>0?Oe.some(E).map(Tf):Oe.none()},Su=Xs.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Kd=(m,y,E)=>y(An.fromDom(E.startContainer),E.startOffset,An.fromDom(E.endContainer),E.endOffset),Dl=(m,y)=>y.match({domRange:E=>({ltr:J(E),rtl:Oe.none}),relative:(E,D)=>({ltr:me(()=>Si(m,E,D)),rtl:me(()=>Oe.some(Si(m,D,E)))}),exact:(E,D,$,q)=>({ltr:me(()=>sl(m,E,D,$,q)),rtl:me(()=>Oe.some(sl(m,$,q,E,D)))})}),Wc=(m,y)=>{const E=y.ltr();return E.collapsed?y.rtl().filter($=>$.collapsed===!1).map($=>Su.rtl(An.fromDom($.endContainer),$.endOffset,An.fromDom($.startContainer),$.startOffset)).getOrThunk(()=>Kd(m,Su.ltr,E)):Kd(m,Su.ltr,E)},qc=(m,y)=>{const E=Dl(m,y);return Wc(m,E)},fn=(m,y)=>qc(m,y).match({ltr:(D,$,q,oe)=>{const de=m.document.createRange();return de.setStart(D.dom,$),de.setEnd(q.dom,oe),de},rtl:(D,$,q,oe)=>{const de=m.document.createRange();return de.setStart(q.dom,oe),de.setEnd(D.dom,$),de}});Su.ltr,Su.rtl;const Eu=8,bd=9,jl=11,rl=1,ju=3,ji=(m,y)=>{const E=m.dom;if(E.nodeType!==rl)return!1;{const D=E;if(D.matches!==void 0)return D.matches(y);if(D.msMatchesSelector!==void 0)return D.msMatchesSelector(y);if(D.webkitMatchesSelector!==void 0)return D.webkitMatchesSelector(y);if(D.mozMatchesSelector!==void 0)return D.mozMatchesSelector(y);throw new Error("Browser lacks native selectors")}},oi=m=>m.nodeType!==rl&&m.nodeType!==bd&&m.nodeType!==jl||m.childElementCount===0,_l=(m,y)=>{const E=y===void 0?document:y.dom;return oi(E)?[]:cn(E.querySelectorAll(m),An.fromDom)},fc=(m,y)=>{const E=y===void 0?document:y.dom;return oi(E)?Oe.none():Oe.from(E.querySelector(m)).map(An.fromDom)},Ws=(m,y)=>m.dom===y.dom,Af=(m,y)=>{const E=m.dom,D=y.dom;return E===D?!1:E.contains(D)},te=ji,be=(m,y,E,D)=>{const $=m.isiOS()&&/ipad/i.test(E)===!0,q=m.isiOS()&&!$,oe=m.isiOS()||m.isAndroid(),de=oe||D("(pointer:coarse)"),Ce=$||!q&&oe&&D("(min-device-width:768px)"),Ve=q||oe&&!Ce,mt=y.isSafari()&&m.isiOS()&&/safari/i.test(E)===!1,tn=!Ve&&!Ce&&!mt;return{isiPad:J($),isiPhone:J(q),isTablet:J(Ce),isPhone:J(Ve),isTouch:J(de),isAndroid:m.isAndroid,isiOS:m.isiOS,isWebView:J(mt),isDesktop:J(tn)}},Pe=(m,y)=>{for(let E=0;E<m.length;E++){const D=m[E];if(D.test(y))return D}},Nt=(m,y)=>{const E=Pe(m,y);if(!E)return{major:0,minor:0};const D=$=>Number(y.replace(E,"$"+$));return lr(D(1),D(2))},qn=(m,y)=>{const E=String(y).toLowerCase();return m.length===0?ps():Nt(m,E)},ps=()=>lr(0,0),lr=(m,y)=>({major:m,minor:y}),ja={nu:lr,detect:qn,unknown:ps},Ei=(m,y)=>Rt(y.brands,E=>{const D=E.brand.toLowerCase();return X(m,$=>D===$.brand?.toLowerCase()).map($=>({current:$.name,version:ja.nu(parseInt(E.version,10),0)}))}),Ol=(m,y)=>{const E=String(y).toLowerCase();return X(m,D=>D.search(E))},se=(m,y)=>Ol(m,y).map(E=>{const D=ja.detect(E.versionRegexes,y);return{current:E.name,version:D}}),Ae=(m,y)=>Ol(m,y).map(E=>{const D=ja.detect(E.versionRegexes,y);return{current:E.name,version:D}}),Xe=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Et=m=>y=>nt(y,m),pn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:m=>nt(m,"edge/")&&nt(m,"chrome")&&nt(m,"safari")&&nt(m,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Xe],search:m=>nt(m,"chrome")&&!nt(m,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:m=>nt(m,"msie")||nt(m,"trident")},{name:"Opera",versionRegexes:[Xe,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Et("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Et("firefox")},{name:"Safari",versionRegexes:[Xe,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:m=>(nt(m,"safari")||nt(m,"mobile/"))&&nt(m,"applewebkit")}],Wn=[{name:"Windows",search:Et("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:m=>nt(m,"iphone")||nt(m,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Et("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Et("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Et("linux"),versionRegexes:[]},{name:"Solaris",search:Et("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Et("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Et("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Po={browsers:J(pn),oses:J(Wn)},qs="Edge",_s="Chromium",Ni="IE",Ea="Opera",Yd="Firefox",Om="Safari",kf=()=>Gc({current:void 0,version:ja.unknown()}),Gc=m=>{const y=m.current,E=m.version,D=$=>()=>y===$;return{current:y,version:E,isEdge:D(qs),isChromium:D(_s),isIE:D(Ni),isOpera:D(Ea),isFirefox:D(Yd),isSafari:D(Om)}},N0={unknown:kf,nu:Gc},M0="Windows",pe="iOS",Re="Android",dt="Linux",Yt="macOS",po="Solaris",bs="FreeBSD",Ta="ChromeOS",al=()=>Ui({current:void 0,version:ja.unknown()}),Ui=m=>{const y=m.current,E=m.version,D=$=>()=>y===$;return{current:y,version:E,isWindows:D(M0),isiOS:D(pe),isAndroid:D(Re),isMacOS:D(Yt),isLinux:D(dt),isSolaris:D(po),isFreeBSD:D(bs),isChromeOS:D(Ta)}},Ul={unknown:al,nu:Ui},Zl={detect:(m,y,E)=>{const D=Po.browsers(),$=Po.oses(),q=y.bind(Ce=>Ei(D,Ce)).orThunk(()=>se(D,m)).fold(N0.unknown,N0.nu),oe=Ae($,m).fold(Ul.unknown,Ul.nu),de=be(oe,q,m,E);return{browser:q,os:oe,deviceType:de}}},Rm=m=>window.matchMedia(m).matches;let Wl=me(()=>Zl.detect(window.navigator.userAgent,Oe.from(window.navigator.userAgentData),Rm));const il=()=>Wl(),Qd=(m,y)=>Pn(m,y),_c=(m,y)=>{const E=Qd(m,y);if(E==null)throw new Error(m+" not available on this browser");return E},ds=Object.getPrototypeOf,vh=m=>_c("HTMLElement",m),pp=m=>{const y=Pn("ownerDocument.defaultView",m);return H(m)&&(vh(y).prototype.isPrototypeOf(m)||/^HTML\w*Element$/.test(ds(m).constructor.name))},Aa=m=>m.dom.nodeName.toLowerCase(),B0=m=>m.dom.nodeType,j1=m=>y=>B0(y)===m,U1=m=>B0(m)===Eu||Aa(m)==="#comment",Z1=m=>Ua(m)&&pp(m.dom),Ua=j1(rl),em=j1(ju),W1=j1(bd),an=j1(jl),Kc=m=>y=>Ua(y)&&Aa(y)===m,bg=m=>An.fromDom(m.dom.ownerDocument),yd=m=>W1(m)?m:bg(m),yg=m=>An.fromDom(yd(m).dom.documentElement),q1=m=>An.fromDom(yd(m).dom.defaultView),De=m=>Oe.from(m.dom.parentNode).map(An.fromDom),Yc=m=>Oe.from(m.dom.parentElement).map(An.fromDom),vl=(m,y)=>{const E=Ee(y)?y:mn;let D=m.dom;const $=[];for(;D.parentNode!==null&&D.parentNode!==void 0;){const q=D.parentNode,oe=An.fromDom(q);if($.push(oe),E(oe)===!0)break;D=q}return $},xh=m=>Oe.from(m.dom.previousSibling).map(An.fromDom),wh=m=>Oe.from(m.dom.nextSibling).map(An.fromDom),Rl=m=>cn(m.dom.childNodes,An.fromDom),Oc=(m,y)=>{const E=m.dom.childNodes;return Oe.from(E[y]).map(An.fromDom)},L0=m=>Oc(m,0),bp=(m,y,E,D)=>{const q=bg(m).dom.createRange();return q.setStart(m.dom,y),q.setEnd(E.dom,D),q},yp=(m,y,E,D)=>{const $=bp(m,y,E,D),q=Ws(m,E)&&y===D;return $.collapsed&&!q},xl=m=>an(m)&&we(m.dom.host),vp=m=>An.fromDom(m.dom.getRootNode()),Tu=m=>xl(m)?m:An.fromDom(yd(m).dom.body),Ch=m=>{const y=vp(m);return xl(y)?Oe.some(y):Oe.none()},P0=m=>An.fromDom(m.dom.host),wl=m=>{if(we(m.target)){const y=An.fromDom(m.target);if(Ua(y)&&Nm(y)&&m.composed&&m.composedPath){const E=m.composedPath();if(E)return Be(E)}}return Oe.from(m.target)},Nm=m=>we(m.dom.shadowRoot),Uu=(m,y,E,D,$,q,oe)=>({target:m,x:y,y:E,stop:D,prevent:$,kill:q,raw:oe}),tm=m=>{const y=An.fromDom(wl(m).getOr(m.target)),E=()=>m.stopPropagation(),D=()=>m.preventDefault(),$=ct(D,E);return Uu(y,m.clientX,m.clientY,E,D,$,m)},ss=(m,y)=>E=>{m(E)&&y(tm(E))},mc=(m,y,E,D,$)=>{const q=ss(E,D);return m.dom.addEventListener(y,q,$),{unbind:Qe(G1,m,y,q,$)}},Sh=(m,y,E,D)=>mc(m,y,E,D,!1),G1=(m,y,E,D)=>{m.dom.removeEventListener(y,E,D)},rs=qe,nm=(m,y,E)=>Sh(m,y,rs,E),Ti=tm,vd=(m,y)=>{De(m).each(D=>{D.dom.insertBefore(y.dom,m.dom)})},xd=(m,y)=>{wh(m).fold(()=>{De(m).each($=>{xs($,y)})},D=>{vd(D,y)})},fa=(m,y)=>{L0(m).fold(()=>{xs(m,y)},D=>{m.dom.insertBefore(y.dom,D.dom)})},xs=(m,y)=>{m.dom.appendChild(y.dom)},F0=(m,y,E)=>{Oc(m,E).fold(()=>{xs(m,y)},D=>{vd(D,y)})},wd=(m,y)=>{vd(m,y),xs(y,m)},Pa=(m,y)=>{ee(y,(E,D)=>{const $=D===0?m:y[D-1];xd($,E)})},Au=(m,y)=>{ee(y,E=>{xs(m,E)})},Xc=(m,y,E)=>{if(O(E)||Y(E)||$e(E))m.setAttribute(y,E+"");else throw console.error("Invalid call to Attribute.set. Key ",y,":: Value ",E,":: Element ",m),new Error("Attribute value was not simple")},si=(m,y,E)=>{Xc(m.dom,y,E)},Zu=(m,y)=>{const E=m.dom;Dt(y,(D,$)=>{Xc(E,$,D)})},Zi=(m,y)=>{Dt(y,(E,D)=>{E.fold(()=>{Fs(m,D)},$=>{Xc(m.dom,D,$)})})},Qc=(m,y)=>{const E=m.dom.getAttribute(y);return E===null?void 0:E},ll=(m,y)=>Oe.from(Qc(m,y)),Fs=(m,y)=>{m.dom.removeAttribute(y)},Wu=m=>Ze(m.dom.attributes,(y,E)=>(y[E.name]=E.value,y),{}),Za=m=>{m.dom.textContent="",ee(Rl(m),y=>{Wi(y)})},Wi=m=>{const y=m.dom;y.parentNode!==null&&y.parentNode.removeChild(y)},Fa=m=>{const y=Rl(m);y.length>0&&Pa(m,y),Wi(m)},ma=(m,y)=>An.fromDom(m.dom.cloneNode(y)),Jc=m=>ma(m,!1),ri=m=>ma(m,!0),ai=(m,y)=>{const E=An.fromTag(y),D=Wu(m);return Zu(E,D),E},om=(m,y)=>{const E=ai(m,y),D=Rl(ri(m));return Au(E,D),E},xp=(m,y)=>{const E=ai(m,y);xd(m,E);const D=Rl(m);return Au(E,D),Wi(m),E},wp=(m,y)=>{const D=document.createElement("div");return D.innerHTML=m,Rl(An.fromDom(D))},ra=m=>cn(m,An.fromDom),Mm=m=>m.dom.innerHTML,Eh=m=>{const y=An.fromTag("div"),E=An.fromDom(m.dom.cloneNode(!0));return xs(y,E),Mm(y)},Df=m=>m.style!==void 0&&Ee(m.style.getPropertyValue),uo=m=>{const y=em(m)?m.dom.parentNode:m.dom;if(y==null||y.ownerDocument===null)return!1;const E=y.ownerDocument;return Ch(An.fromDom(y)).fold(()=>E.body.contains(y),Ue(uo,P0))},ku=m=>{const y=m.dom.body;if(y==null)throw new Error("Body is not available yet");return An.fromDom(y)},ea=(m,y,E)=>{if(!O(E))throw console.error("Invalid call to CSS.set. Property ",y,":: Value ",E,":: Element ",m),new Error("CSS value must be a string: "+E);Df(m)&&m.style.setProperty(y,E)},ii=(m,y)=>{Df(m)&&m.style.removeProperty(y)},$a=(m,y,E)=>{const D=m.dom;ea(D,y,E)},cr=(m,y)=>{const E=m.dom;Dt(y,(D,$)=>{ea(E,$,D)})},Rc=(m,y)=>{const E=m.dom,$=window.getComputedStyle(E).getPropertyValue(y);return $===""&&!uo(m)?Cp(E,y):$},Cp=(m,y)=>Df(m)?m.style.getPropertyValue(y):"",eu=(m,y)=>{const E=m.dom,D=Cp(E,y);return Oe.from(D).filter($=>$.length>0)},qu=(m,y)=>{const E=m.dom;ii(E,y),Jn(ll(m,"style").map(Zo),"")&&Fs(m,"style")},vg=(m,y)=>{const E=m.dom,D=y.dom;Df(E)&&Df(D)&&(D.style.cssText=E.style.cssText)},Cl=(m,y)=>{const E=(de,Ce)=>{if(!$e(Ce)&&!Ce.match(/^[0-9]+$/))throw new Error(m+".set accepts only positive integer values. Value was "+Ce);const Ve=de.dom;Df(Ve)&&(Ve.style[m]=Ce+"px")},D=de=>{const Ce=y(de);if(Ce<=0||Ce===null){const Ve=Rc(de,m);return parseFloat(Ve)||0}return Ce},$=D,q=(de,Ce)=>Ze(Ce,(Ve,mt)=>{const tn=Rc(de,mt),Fn=tn===void 0?0:parseInt(tn,10);return isNaN(Fn)?Ve:Ve+Fn},0);return{set:E,get:D,getOuter:$,aggregate:q,max:(de,Ce,Ve)=>{const mt=q(de,Ve);return Ce>mt?Ce-mt:0}}},Ia=(m,y)=>Ao(m).getOr(y),Js=(m,y,E)=>Ia(Rc(m,y),E),Nl=(m,y,E,D)=>{const $=Js(m,`padding-${E}`,0),q=Js(m,`padding-${D}`,0),oe=Js(m,`border-${E}-width`,0),de=Js(m,`border-${D}-width`,0);return y-$-q-oe-de},Du=(m,y)=>{const E=m.dom,D=E.getBoundingClientRect().width||E.offsetWidth;return Nl(m,D,"left","right")},cl=m=>Js(m,"height",m.dom.offsetHeight),Sl=m=>Js(m,"width",m.dom.offsetWidth),Jd=m=>Du(m),$s=Cl("height",m=>{const y=m.dom;return uo(m)?y.getBoundingClientRect().height:y.offsetHeight}),Ml=m=>$s.get(m),Bm=m=>$s.getOuter(m),Th=cl,hc=Cl("width",m=>{const y=m.dom;return uo(m)?y.getBoundingClientRect().width:y.offsetWidth}),Co=m=>hc.get(m),Or=m=>hc.getOuter(m),Wa=Jd,yr=Sl,ul=(m,y)=>({left:m,top:y,translate:(D,$)=>ul(m+D,y+$)}),Gr=ul,li=m=>{const y=m.getBoundingClientRect();return Gr(y.left,y.top)},ef=(m,y)=>m!==void 0?m:y!==void 0?y:0,cs=m=>{const y=m.dom.ownerDocument,E=y.body,D=y.defaultView,$=y.documentElement;if(E===m.dom)return Gr(E.offsetLeft,E.offsetTop);const q=ef(D?.pageYOffset,$.scrollTop),oe=ef(D?.pageXOffset,$.scrollLeft),de=ef($.clientTop,E.clientTop),Ce=ef($.clientLeft,E.clientLeft);return ql(m).translate(oe-Ce,q-de)},ql=m=>{const y=m.dom,D=y.ownerDocument.body;return D===y?Gr(D.offsetLeft,D.offsetTop):uo(m)?li(y):Gr(0,0)},ws=m=>{const y=m!==void 0?m.dom:document,E=y.body.scrollLeft||y.documentElement.scrollLeft,D=y.body.scrollTop||y.documentElement.scrollTop;return Gr(E,D)},Gl=(m,y,E)=>{const $=(E!==void 0?E.dom:document).defaultView;$&&$.scrollBy(m,y)},Ai=((m,y)=>{const E=q=>{if(!m(q))throw new Error("Can only get "+y+" value of a "+y+" node");return D(q).getOr("")},D=q=>m(q)?Oe.from(q.dom.nodeValue):Oe.none();return{get:E,getOption:D,set:(q,oe)=>{if(!m(q))throw new Error("Can only set raw "+y+" value of a "+y+" node");q.dom.nodeValue=oe}}})(em,"text"),_f=m=>Ai.get(m),xg=m=>Ai.getOption(m),qa=(m,y)=>Ai.set(m,y),Of=(m,y)=>E=>Cd(E)==="rtl"?y:m,Cd=m=>Rc(m,"direction")==="rtl"?"rtl":"ltr",Mi=(m,y)=>{const E=Qc(m,y);return E===void 0||E===""?[]:E.split(" ")},tf=(m,y,E)=>{const $=Mi(m,y).concat([E]);return si(m,y,$.join(" ")),!0},wg=(m,y,E)=>{const D=je(Mi(m,y),$=>$!==E);return D.length>0?si(m,y,D.join(" ")):Fs(m,y),!1};var Gu=(m,y,E,D,$)=>m(E,D)?Oe.some(E):Ee($)&&$(E)?Oe.none():y(E,D,$);const hr=(m,y,E)=>{let D=m.dom;const $=Ee(E)?E:mn;for(;D.parentNode;){D=D.parentNode;const q=An.fromDom(D);if(y(q))return Oe.some(q);if($(q))break}return Oe.none()},$0=(m,y,E)=>Gu(($,q)=>q($),hr,m,y,E),Cg=(m,y)=>{const E=$=>y(An.fromDom($));return X(m.dom.childNodes,E).map(An.fromDom)},Bl=(m,y)=>{const E=D=>{for(let $=0;$<D.childNodes.length;$++){const q=An.fromDom(D.childNodes[$]);if(y(q))return Oe.some(q);const oe=E(D.childNodes[$]);if(oe.isSome())return oe}return Oe.none()};return E(m.dom)},dl=(m,y,E)=>hr(m,D=>ji(D,y),E),ka=(m,y)=>Cg(m,E=>ji(E,y)),Sd=(m,y)=>fc(y,m),ui=(m,y,E)=>Gu(($,q)=>ji($,q),dl,m,y,E),nf=m=>m.dom.classList!==void 0,Sg=m=>Mi(m,"class"),Eg=(m,y)=>tf(m,"class",y),K1=(m,y)=>wg(m,"class",y),Ed=(m,y)=>{nf(m)?m.dom.classList.add(y):Eg(m,y)},dy=m=>{(nf(m)?m.dom.classList:Sg(m)).length===0&&Fs(m,"class")},sm=(m,y)=>{nf(m)?m.dom.classList.remove(y):K1(m,y),dy(m)},gc=(m,y)=>nf(m)&&m.dom.classList.contains(y),Y1=(m,y)=>{ee(y,E=>{sm(m,E)})},Ah=m=>ui(m,"[contenteditable]"),Rf=(m,y=!1)=>uo(m)?m.dom.isContentEditable:Ah(m).fold(J(y),E=>rm(E)==="true"),rm=m=>m.dom.contentEditable,Tg=m=>y=>{Ed(y,m)},Ag=m=>y=>{Y1(y,m)},tu=(m,y,E)=>je(vl(m,E),y),fy=(m,y)=>je(Rl(m),y),_u=(m,y)=>{let E=[];return ee(Rl(m),D=>{y(D)&&(E=E.concat([D])),E=E.concat(_u(D,y))}),E},ur=(m,y,E)=>tu(m,D=>ji(D,y),E),bi=(m,y)=>fy(m,E=>ji(E,y)),Td=(m,y)=>_l(y,m),Sp=(m,y,E,D)=>({parent:m,children:y,element:E,index:D}),nu=m=>De(m).bind(y=>{const E=Rl(y);return Nf(E,m).map(D=>Sp(y,E,m,D))}),Nf=(m,y)=>jo(m,Qe(Ws,y)),kg=(m,y,E)=>hr(m,y,E).isSome(),Ad=m=>Aa(m)==="img"?1:xg(m).fold(()=>Rl(m).length,y=>y.length),kd=m=>xg(m).filter(y=>y.trim().length!==0||y.indexOf(He)>-1).isSome(),nr=m=>Z1(m)&&Qc(m,"contenteditable")==="false",Dg=["img","br"],ha=m=>kd(m)||Vt(Dg,Aa(m))||nr(m),kh=m=>Bl(m,ha),Da=m=>Ku(m,ha),Ku=(m,y)=>{const E=D=>{const $=Rl(D);for(let q=$.length-1;q>=0;q--){const oe=$[q];if(y(oe))return Oe.some(oe);const de=E(oe);if(de.isSome())return de}return Oe.none()};return E(m)},of={create:(m,y,E,D)=>({start:m,soffset:y,finish:E,foffset:D})},_g=Xs.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),ou=(m,y,E,D)=>m.fold(y,E,D),Ou=m=>m.fold(vt,vt,vt),Lm=_g.before,pc=_g.on,Dd=_g.after,aa={before:Lm,on:pc,after:Dd,cata:ou,getStart:Ou},ta=Xs.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ki=m=>ta.exact(m.start,m.soffset,m.finish,m.foffset),Pm=m=>m.match({domRange:y=>An.fromDom(y.startContainer),relative:(y,E)=>aa.getStart(y),exact:(y,E,D,$)=>y}),_d=ta.domRange,or=ta.relative,Cr=ta.exact,Ll=m=>{const y=Pm(m);return q1(y)},L=of.create,z={domRange:_d,relative:or,exact:Cr,exactFromRange:ki,getWin:Ll,range:L},ae=(m,y,E)=>Oe.from(m.caretPositionFromPoint?.(y,E)).bind(D=>{if(D.offsetNode===null)return Oe.none();const $=m.createRange();return $.setStart(D.offsetNode,D.offset),$.collapse(),Oe.some($)}),xe=(m,y,E)=>Oe.from(m.caretRangeFromPoint?.(y,E)),We=(m,y,E)=>m.caretPositionFromPoint?ae(m,y,E):m.caretRangeFromPoint?xe(m,y,E):Oe.none(),kt=(m,y,E)=>{const D=m.document;return We(D,y,E).map($=>of.create(An.fromDom($.startContainer),$.startOffset,An.fromDom($.endContainer),$.endOffset))},wn=(m,y)=>{const E=Aa(m);return E==="input"?aa.after(m):Vt(["br","img"],E)?y===0?aa.before(m):aa.after(m):aa.on(m,y)},_n=(m,y)=>{const E=m.fold(aa.before,wn,aa.after),D=y.fold(aa.before,wn,aa.after);return z.relative(E,D)},Fo=(m,y,E,D)=>{const $=wn(m,y),q=wn(E,D);return z.relative($,q)},as=m=>Oe.from(m.getSelection()),Br=(m,y)=>{as(m).each(E=>{E.removeAllRanges(),E.addRange(y)})},ia=(m,y,E,D,$)=>{const q=sl(m,y,E,D,$);Br(m,q)},yi=(m,y,E,D,$,q)=>{y.collapse(E.dom,D),y.extend($.dom,q)},Nc=(m,y)=>qc(m,y).match({ltr:(E,D,$,q)=>{ia(m,E,D,$,q)},rtl:(E,D,$,q)=>{as(m).each(oe=>{if(oe.setBaseAndExtent)oe.setBaseAndExtent(E.dom,D,$.dom,q);else if(oe.extend)try{yi(m,oe,E,D,$,q)}catch{ia(m,$,q,E,D)}else ia(m,$,q,E,D)})}}),Yu=(m,y,E,D,$)=>{const q=Fo(y,E,D,$);Nc(m,q)},sf=(m,y,E)=>{const D=_n(y,E);Nc(m,D)},di=m=>{if(m.rangeCount>0){const y=m.getRangeAt(0),E=m.getRangeAt(m.rangeCount-1);return Oe.some(of.create(An.fromDom(y.startContainer),y.startOffset,An.fromDom(E.endContainer),E.endOffset))}else return Oe.none()},Bi=m=>{if(m.anchorNode===null||m.focusNode===null)return di(m);{const y=An.fromDom(m.anchorNode),E=An.fromDom(m.focusNode);return yp(y,m.anchorOffset,E,m.focusOffset)?Oe.some(of.create(y,m.anchorOffset,E,m.focusOffset)):di(m)}},am=(m,y,E=!0)=>{const $=(E?Ri:Cu)(m,y);Br(m,$)},im=m=>as(m).filter(y=>y.rangeCount>0).bind(Bi),Fm=m=>im(m).map(y=>z.exact(y.start,y.soffset,y.finish,y.foffset)),Dh=(m,y)=>{const E=fn(m,y);return Jf(E)},Ru=(m,y,E)=>kt(m,y,E),_h=m=>{as(m).each(y=>y.removeAllRanges())},X1={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Q1=(()=>{const m="[0-9]+",E="[eE]"+("[+-]?"+m),D="\\.",$=de=>`(?:${de})?`,oe=`[+-]?(?:${["Infinity",m+D+$(m)+$(E),D+m+$(E),m+$(E)].join("|")})`;return new RegExp(`^(${oe})(.*)$`)})(),Is=(m,y)=>at(y,E=>at(X1[E],D=>m===D)),Ha=(m,y)=>Oe.from(Q1.exec(m)).bind(D=>{const $=Number(D[1]),q=D[2];return Is(q,y)?Oe.some({value:$,unit:q}):Oe.none()}),Ga=m=>cn(m,J(0)),Pl=(m,y,E,D,$)=>$(m.slice(0,y)).concat(D).concat($(m.slice(E))),Ep=m=>(y,E,D,$)=>{if(m(D)){const q=Math.max($,y[E]-Math.abs(D)),oe=Math.abs(q-y[E]);return D>=0?oe:-oe}else return D},Og=Ep(m=>m<0),Rg=Ep(qe),Tp=()=>{const m=(de,Ce,Ve,mt,tn)=>{const Fn=Og(de,Ce,mt,tn);return Pl(de,Ce,Ve+1,[Fn,0],Ga)},y=(de,Ce,Ve,mt)=>{const tn=(100+Ve)/100,Fn=Math.max(mt,(de[Ce]+Ve)/tn);return cn(de,(Nn,ro)=>(ro===Ce?Fn:Nn/tn)-Nn)},E=(de,Ce,Ve,mt,tn,Fn)=>Fn?y(de,Ce,mt,tn):m(de,Ce,Ve,mt,tn);return{resizeTable:(de,Ce)=>de(Ce),clampTableDelta:Og,calcLeftEdgeDeltas:E,calcMiddleDeltas:(de,Ce,Ve,mt,tn,Fn,Nn)=>E(de,Ve,mt,tn,Fn,Nn),calcRightEdgeDeltas:(de,Ce,Ve,mt,tn,Fn)=>{if(Fn)return y(de,Ve,mt,tn);{const Nn=Og(de,Ve,mt,tn);return Ga(de.slice(0,Ve)).concat([Nn])}},calcRedestributedWidths:(de,Ce,Ve,mt)=>{if(mt){const Fn=(Ce+Ve)/Ce,Nn=cn(de,ro=>ro/Fn);return{delta:Fn*100-100,newSizes:Nn}}else return{delta:Ve,newSizes:de}}}},Cx=()=>{const m=(oe,de,Ce,Ve,mt)=>{const tn=Ve>=0?Ce:de,Fn=Rg(oe,tn,Ve,mt);return Pl(oe,de,Ce+1,[Fn,-Fn],Ga)};return{resizeTable:(oe,de,Ce)=>{Ce&&oe(de)},clampTableDelta:(oe,de,Ce,Ve,mt)=>{if(mt){if(Ce>=0)return Ce;{const tn=Ze(oe,(Fn,Nn)=>Fn+Nn-Ve,0);return Math.max(-tn,Ce)}}else return Og(oe,de,Ce,Ve)},calcLeftEdgeDeltas:m,calcMiddleDeltas:(oe,de,Ce,Ve,mt,tn)=>m(oe,Ce,Ve,mt,tn),calcRightEdgeDeltas:(oe,de,Ce,Ve,mt,tn)=>{if(tn)return Ga(oe);{const Fn=Ve/oe.length;return cn(oe,J(Fn))}},calcRedestributedWidths:(oe,de,Ce,Ve)=>({delta:0,newSizes:oe})}},$m=(m,y,E=0)=>ll(m,y).map(D=>parseInt(D,10)).getOr(E),I0=(m,y)=>$m(m,y,1),Oh=m=>Kc("col")(m)?$m(m,"span",1)>1:I0(m,"colspan")>1,Rv=m=>I0(m,"rowspan")>1,Li=(m,y)=>parseInt(Rc(m,y),10),Di=J(10),Rh=J(10),Im=(m,y)=>my(m,y,qe),my=(m,y,E)=>Mo(Rl(m),D=>ji(D,y)?E(D)?[D]:[]:my(D,y,E)),bc=(m,y,E=mn)=>{if(E(y))return Oe.none();if(Vt(m,Aa(y)))return Oe.some(y);const D=$=>ji($,"table")||E($);return dl(y,m.join(","),D)},hy=(m,y)=>bc(["td","th"],m,y),rf=m=>Im(m,"th,td"),J1=m=>ji(m,"colgroup")?bi(m,"col"):Mo(Nu(m),y=>bi(y,"col")),su=(m,y)=>ui(m,"table",y),H0=m=>Im(m,"tr"),Nu=m=>su(m).fold(J([]),y=>bi(y,"colgroup")),Ka=Kc("th"),gy=m=>Io(m,y=>Ka(y.element)),Ap=(m,y)=>m&&y?"sectionCells":m?"section":"cells",Nv=m=>{const y=m.section==="thead",E=Jn(py(m.cells),"th");return m.section==="tfoot"?{type:"footer"}:y||E?{type:"header",subType:Ap(y,E)}:{type:"body"}},py=m=>{const y=je(m,E=>Ka(E.element));return y.length===0?Oe.some("td"):y.length===m.length?Oe.some("th"):Oe.none()},Mv=m=>{const y=cn(m,$=>Nv($).type),E=Vt(y,"header"),D=Vt(y,"footer");if(!E&&!D)return Oe.some("body");{const $=Vt(y,"body");return E&&!$&&!D?Oe.some("header"):!E&&!$&&D?Oe.some("footer"):Oe.none()}},Bv=m=>Rt(m.all,y=>{const E=Nv(y);return E.type==="header"?Oe.from(E.subType):Oe.none()}),z0=(m,y)=>cn(m,E=>{if(Aa(E)==="colgroup"){const D=cn(J1(E),$=>{const q=$m($,"span",1);return oo($,1,q)});return vs(E,D,"colgroup")}else{const D=cn(rf(E),$=>{const q=$m($,"rowspan",1),oe=$m($,"colspan",1);return oo($,q,oe)});return vs(E,D,y(E))}}),kp=m=>De(m).map(y=>{const E=Aa(y);return xn(E)?E:"tbody"}).getOr("tbody"),eb=m=>{const y=H0(m),D=[...Nu(m),...y];return z0(D,kp)},Cn=(m,y)=>z0(m,()=>y),ru="data-snooker-locked-cols",Sx=m=>ll(m,ru).bind(y=>Oe.from(y.match(/\d+/g))).map(y=>Ne(y,qe)),au=m=>{const y=Ze(Jr(m).rows,(D,$)=>(ee($.cells,(q,oe)=>{q.isLocked&&(D[oe]=!0)}),D),{}),E=Jo(y,(D,$)=>parseInt($,10));return Ge(E)},Xu=(m,y)=>m+","+y,tb=(m,y,E)=>Oe.from(m.access[Xu(y,E)]),Ex=(m,y,E)=>{const D=Hm(m,$=>E(y,$.element));return D.length>0?Oe.some(D[0]):Oe.none()},Hm=(m,y)=>{const E=Mo(m.all,D=>D.cells);return je(E,y)},Tx=m=>{const y={};let E=0;return ee(m.cells,D=>{const $=D.colspan;Qn($,q=>{const oe=E+q;y[oe]=Qf(D.element,$,oe)}),E+=$}),y},iu=m=>{const y={},E=[],$=Be(m).map(Nn=>Nn.element).bind(su).bind(Sx).getOr({});let q=0,oe=0,de=0;const{pass:Ce,fail:Ve}=wt(m,Nn=>Nn.section==="colgroup");ee(Ve,Nn=>{const ro=[];ee(Nn.cells,It=>{let nn=0;for(;y[Xu(de,nn)]!==void 0;)nn++;const So=os($,nn.toString()),Qo=Uo(It.element,It.rowspan,It.colspan,de,nn,So);for(let Kn=0;Kn<It.colspan;Kn++)for(let Sr=0;Sr<It.rowspan;Sr++){const Er=de+Sr,Wo=nn+Kn,Ji=Xu(Er,Wo);y[Ji]=Qo,oe=Math.max(oe,Wo+1)}ro.push(Qo)}),q++,E.push(vs(Nn.element,ro,Nn.section)),de++});const{columns:mt,colgroups:tn}=Je(Ce).map(Nn=>{const ro=Tx(Nn);return{colgroups:[Tr(Nn.element,ko(ro))],columns:ro}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:qt(q,oe),access:y,all:E,columns:mt,colgroups:tn}},ns={fromTable:m=>{const y=eb(m);return iu(y)},generate:iu,getAt:tb,findItem:Ex,filterItems:Hm,justCells:m=>Mo(m.all,y=>y.cells),justColumns:m=>ko(m.columns),hasColumns:m=>yt(m.columns).length>0,getColumnAt:(m,y)=>Oe.from(m.columns[y])},zm=(m,y,E)=>As(E(m.element,y),!0,m.isLocked),_p=(m,y)=>m.section!==y?sa(m.element,m.cells,y,m.isNew):m,la=()=>({transformRow:_p,transformCell:(m,y,E)=>{const D=E(m.element,y),$=Aa(D)!=="td"?xp(D,"td"):D;return As($,m.isNew,m.isLocked)}}),Od=()=>({transformRow:_p,transformCell:zm}),Op=()=>({transformRow:(m,y)=>_p(m,y==="thead"?"tbody":y),transformCell:zm}),lm={getTableSectionType:(m,y)=>{const E=ns.fromTable(m);switch(Bv(E).getOr(y)){case"section":return la();case"sectionCells":return Od();case"cells":return Op()}},section:la,sectionCells:Od,cells:Op,fallback:()=>({transformRow:vt,transformCell:zm})},Rp=(m,y=qe)=>{const E=m.grid,D=Qn(E.columns,vt),$=Qn(E.rows,vt);return cn(D,q=>by(()=>Mo($,Ve=>ns.getAt(m,Ve,q).filter(mt=>mt.column===q).toArray()),Ve=>Ve.colspan===1&&y(Ve.element),()=>ns.getAt(m,0,q)))},by=(m,y,E)=>{const D=m();return X(D,y).orThunk(()=>Oe.from(D[0]).orThunk(E)).map(oe=>oe.element)},Nh=m=>{const y=m.grid,E=Qn(y.rows,vt),D=Qn(y.columns,vt);return cn(E,$=>by(()=>Mo(D,Ce=>ns.getAt(m,$,Ce).filter(Ve=>Ve.row===$).fold(J([]),Ve=>[Ve])),Ce=>Ce.rowspan===1,()=>ns.getAt(m,$,0)))},Rd=(m,y)=>{if(y<0||y>=m.length-1)return Oe.none();const E=m[y].fold(()=>{const $=zs(m.slice(0,y));return Rt($,(q,oe)=>q.map(de=>({value:de,delta:oe+1})))},$=>Oe.some({value:$,delta:0})),D=m[y+1].fold(()=>{const $=m.slice(y+1);return Rt($,(q,oe)=>q.map(de=>({value:de,delta:oe+1})))},$=>Oe.some({value:$,delta:1}));return E.bind($=>D.map(q=>{const oe=q.delta+$.delta;return Math.abs(q.value-$.value)/oe}))},V0=(m,y)=>({row:m,y}),j0=(m,y)=>({col:m,x:y}),yy=m=>cs(m).left+Or(m),vy=m=>cs(m).left,Np=(m,y)=>j0(m,vy(y)),xy=(m,y)=>j0(m,yy(y)),nb=m=>cs(m).top,IC=(m,y)=>V0(m,nb(y)),Lv=(m,y)=>V0(m,nb(y)+Bm(y)),Tl=(m,y,E)=>{if(E.length===0)return[];const D=cn(E.slice(1),(q,oe)=>q.map(de=>m(oe,de))),$=E[E.length-1].map(q=>y(E.length-1,q));return D.concat([$])},lu=m=>-m,U0={delta:vt,positions:m=>Tl(IC,Lv,m),edge:nb},fo=Of({delta:vt,edge:vy,positions:m=>Tl(Np,xy,m)},{delta:lu,edge:yy,positions:m=>Tl(xy,Np,m)}),_a={delta:(m,y)=>fo(y).delta(m,y),positions:(m,y)=>fo(y).positions(m,y),edge:m=>fo(m).edge(m)},Mp=/(\d+(\.\d+)?)%/,ob=/(\d+(\.\d+)?)px|em/,Ng=Kc("col"),Z0=Kc("tr"),W0=(m,y,E)=>{const D=Yc(m).getOrThunk(()=>ku(bg(m)));return y(m)/E(D)*100},Mh=(m,y)=>{$a(m,"width",y+"px")},Pv=(m,y)=>{$a(m,"width",y+"%")},cm=(m,y)=>{$a(m,"height",y+"px")},Fv=m=>{qu(m,"height")},sb=m=>Th(m)+"px",ga=(m,y,E,D)=>{const $=su(m).map(q=>{const oe=E(q);return Math.floor(y/100*oe)}).getOr(y);return D(m,$),$},Qu=(m,y,E,D)=>{const $=parseFloat(m);return To(m,"%")&&Aa(y)!=="table"?ga(y,$,E,D):$},Mc=m=>{const y=sb(m);return y?Qu(y,m,Ml,cm):Ml(m)},Mg=(m,y,E)=>{const D=E(m),$=I0(m,y);return D/$},Kl=(m,y)=>eu(m,y).orThunk(()=>ll(m,y).map(E=>E+"px")),Bh=m=>Kl(m,"width"),fl=m=>Kl(m,"height"),yc=m=>W0(m,Co,Wa),rb=m=>Ng(m)?Math.round(Co(m)):yr(m),Wt=m=>Z0(m)?Ml(m):Mg(m,"rowspan",Mc),Bc=m=>Bh(m).bind(E=>Ha(E,["fixed","relative","empty"])),ab=(m,y,E)=>{$a(m,"width",y+E)},Ya=m=>Co(m)+"px",Yl=m=>Ml(m)+"px",cu=m=>W0(m,Co,Wa)+"%",kx=m=>Bh(m).exists(y=>Mp.test(y)),lf=m=>Bh(m).exists(y=>ob.test(y)),q0=m=>Bh(m).isNone(),Ar=J(Mp),vr=Kc("col"),um=m=>Bh(m).getOrThunk(()=>rb(m)+"px"),Bp=m=>fl(m).getOrThunk(()=>Wt(m)+"px"),pa=m=>cn(ns.justColumns(m),y=>Oe.from(y.element)),Vm=m=>{const y=il().browser,E=y.isChromium()||y.isFirefox();return vr(m)?E:!0},wy=(m,y,E,D,$,q)=>m.filter(D).fold(()=>q(Rd(E,y)),oe=>$(oe)),cf=(m,y,E,D)=>{const $=Rp(m),q=ns.hasColumns(m)?pa(m):$,oe=[Oe.some(_a.edge(y))].concat(cn(_a.positions($,y),Ce=>Ce.map(Ve=>Ve.x))),de=ie(Oh);return cn(q,(Ce,Ve)=>wy(Ce,Ve,oe,de,mt=>{if(Vm(mt))return E(mt);{const tn=La($[Ve],vt);return wy(tn,Ve,oe,de,Fn=>D(Oe.some(Math.round(Co(Fn)))),D)}},D))},Bg=m=>m.map(y=>y+"px").getOr(""),Fi=(m,y)=>cf(m,y,um,Bg),Dx=(m,y,E)=>cf(m,y,yc,D=>D.fold(()=>E.minCellWidth(),$=>$/E.pixelWidth()*100)),ht=(m,y,E)=>cf(m,y,rb,D=>D.getOrThunk(E.minCellWidth)),Ju=(m,y,E,D)=>{const $=Nh(m),q=cn(m.all,de=>Oe.some(de.element)),oe=[Oe.some(U0.edge(y))].concat(cn(U0.positions($,y),de=>de.map(Ce=>Ce.y)));return cn(q,(de,Ce)=>wy(de,Ce,oe,qe,E,D))},Lp=(m,y)=>Ju(m,y,Wt,E=>E.getOrThunk(Rh)),Oa=(m,y)=>Ju(m,y,Bp,Bg),Xl=(m,y)=>()=>uo(m)?y(m):parseFloat(eu(m,"width").getOr("0")),qi=m=>{const y=Xl(m,Co),E=J(0);return{width:y,pixelWidth:y,getWidths:($,q)=>ht($,m,q),getCellDelta:E,singleColumnWidth:J([0]),minCellWidth:E,setElementWidth:ve,adjustTableWidth:ve,isRelative:!0,label:"none"}},dr=m=>{const y=Xl(m,Ce=>parseFloat(cu(Ce))),E=Xl(m,Co);return{width:y,pixelWidth:E,getWidths:(Ce,Ve)=>Dx(Ce,m,Ve),getCellDelta:Ce=>Ce/E()*100,singleColumnWidth:(Ce,Ve)=>[100-Ce],minCellWidth:()=>Di()/E()*100,setElementWidth:Pv,adjustTableWidth:Ce=>{const Ve=y(),mt=Ce/100*Ve,tn=Ve+mt;Pv(m,tn)},isRelative:!0,label:"percent"}},Fl=m=>{const y=Xl(m,Co);return{width:y,pixelWidth:y,getWidths:(oe,de)=>ht(oe,m,de),getCellDelta:vt,singleColumnWidth:(oe,de)=>[Math.max(Di(),oe+de)-oe],minCellWidth:Di,setElementWidth:Mh,adjustTableWidth:oe=>{const de=y()+oe;Mh(m,de)},isRelative:!1,label:"pixel"}},jm=(m,y)=>Ar().exec(y)!==null?dr(m):Fl(m),ml={getTableSize:m=>Bh(m).fold(()=>qi(m),E=>jm(m,E)),pixelSize:Fl,percentageSize:dr,noneSize:qi},ib=(m,y,E,D)=>{E===D?Fs(m,y):si(m,y,E)},Cy=(m,y,E)=>{Je(bi(m,y)).fold(()=>fa(m,E),D=>xd(D,E))},Sy=(m,y)=>{const E=ka(m,y).getOrThunk(()=>{const D=An.fromTag(y,bg(m).dom);return y==="thead"?Cy(m,"caption,colgroup",D):y==="colgroup"?Cy(m,"caption",D):xs(m,D),D});return Za(E),E},za=(m,y)=>{const E=[],D=[],$=Nn=>cn(Nn,ro=>{ro.isNew&&E.push(ro.element);const It=ro.element;return Za(It),ee(ro.cells,nn=>{nn.isNew&&D.push(nn.element),ib(nn.element,"colspan",nn.colspan,1),ib(nn.element,"rowspan",nn.rowspan,1),xs(It,nn.element)}),It}),q=Nn=>Mo(Nn,ro=>cn(ro.cells,It=>(ib(It.element,"span",It.colspan,1),It.element))),oe=(Nn,ro)=>{const It=Sy(m,ro),So=(ro==="colgroup"?q:$)(Nn);Au(It,So)},de=Nn=>{ka(m,Nn).each(Wi)},Ce=(Nn,ro)=>{Nn.length>0?oe(Nn,ro):de(ro)},Ve=[],mt=[],tn=[],Fn=[];return ee(y,Nn=>{switch(Nn.section){case"thead":Ve.push(Nn);break;case"tbody":mt.push(Nn);break;case"tfoot":tn.push(Nn);break;case"colgroup":Fn.push(Nn);break}}),Ce(Fn,"colgroup"),Ce(Ve,"thead"),Ce(mt,"tbody"),Ce(tn,"tfoot"),{newRows:E,newCells:D}},vc=m=>cn(m,y=>{const E=Jc(y.element);return ee(y.cells,D=>{const $=ri(D.element);ib($,"colspan",D.colspan,1),ib($,"rowspan",D.rowspan,1),xs(E,$)}),E}),Um=(m,y)=>cn(m,E=>wo(E,y)),Ey=(m,y)=>m[y],_x=(m,y)=>{if(m.length===0)return 0;const E=m[0];return jo(m,$=>!y(E.element,$.element)).getOr(m.length)},Ql=(m,y,E,D)=>{const $=Ey(m,y),q=$.section==="colgroup",oe=_x($.cells.slice(E),D),de=q?1:_x(Um(m.slice(y),E),D);return{colspan:oe,rowspan:de}},ed=(m,y)=>{const E=cn(m,$=>cn($.cells,mn)),D=($,q,oe,de)=>{for(let Ce=$;Ce<$+oe;Ce++)for(let Ve=q;Ve<q+de;Ve++)E[Ce][Ve]=!0};return cn(m,($,q)=>{const oe=Mo($.cells,(de,Ce)=>{if(E[q][Ce]===!1){const Ve=Ql(m,q,Ce,y);return D(q,Ce,Ve.rowspan,Ve.colspan),[Bn(de.element,Ve.rowspan,Ve.colspan,de.isNew)]}else return[]});return Ts($.element,oe,$.section,$.isNew)})},Xa=(m,y,E)=>{const D=[];ee(m.colgroups,$=>{const q=[];for(let oe=0;oe<m.grid.columns;oe++){const de=ns.getColumnAt(m,oe).map(Ce=>As(Ce.element,E,!1)).getOrThunk(()=>As(y.colGap(),!0,!1));q.push(de)}D.push(sa($.element,q,"colgroup",E))});for(let $=0;$<m.grid.rows;$++){const q=[];for(let Ce=0;Ce<m.grid.columns;Ce++){const Ve=ns.getAt(m,$,Ce).map(mt=>As(mt.element,E,mt.isLocked)).getOrThunk(()=>As(y.gap(),!0,!1));q.push(Ve)}const oe=m.all[$],de=sa(oe.element,q,oe.section,E);D.push(de)}return D},$l=(m,y)=>Xa(m,y,!1),td=m=>ed(m,Ws),uu=(m,y)=>Rt(m.all,E=>X(E.cells,D=>Ws(y,D.element))),xc=(m,y,E)=>{const D=cn(y.selection,q=>hy(q).bind(oe=>uu(m,oe)).filter(E)),$=ls(D);return ol($.length>0,$)},$i=(m,y,E,D,$,q,oe,de,Ce)=>{const Ve=ns.fromTable(q),mt=Oe.from(Ce?.section).getOrThunk(lm.fallback);return y(Ve,oe).map(Fn=>{const Nn=$l(Ve,de),ro=m(Nn,Fn,Ws,$(de),mt),It=au(ro.grid),nn=td(ro.grid);return{info:Fn,grid:nn,cursor:ro.cursor,lockedColumns:It}}).bind(Fn=>{const Nn=za(q,Fn.grid),ro=Oe.from(Ce?.sizing).getOrThunk(()=>ml.getTableSize(q)),It=Oe.from(Ce?.resize).getOrThunk(Cx);return E(q,Fn.grid,Fn.info,{sizing:ro,resize:It,section:mt}),D(q),Fs(q,ru),Fn.lockedColumns.length>0&&si(q,ru,Fn.lockedColumns.join(",")),Oe.some({cursor:Fn.cursor,newRows:Nn.newRows,newCells:Nn.newCells})})},Mf=(m,y)=>hy(y.element).bind(E=>uu(m,E).map(D=>({...D,generators:y.generators,clipboard:y.clipboard}))),Jl=(m,y)=>xc(m,y,qe).map(E=>({cells:E,generators:y.generators,clipboard:y.clipboard})),ec=(m,y)=>y.mergable,lb=(m,y)=>y.unmergable,Gi=(m,y)=>xc(m,y,qe),Lu=(m,y)=>xc(m,y,E=>!E.isLocked),Bf=(m,y)=>uu(m,y).exists(E=>!E.isLocked),Lf=(m,y)=>Io(y,E=>Bf(m,E)),dm=(m,y)=>ec(m,y).filter(E=>Lf(m,E.cells)),cb=(m,y)=>lb(m,y).filter(E=>Lf(m,E)),Zm={...Xs.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},G0=(m,y)=>m.length===0?Zm.none():m.length===1?Zm.only(0):y===0?Zm.left(0,1):y===m.length-1?Zm.right(y-1,y):y>0&&y<m.length-1?Zm.middle(y-1,y,y+1):Zm.none(),kr=(m,y,E,D,$)=>{const q=m.slice(0),oe=G0(m,y),de=J(cn(q,J(0))),Ce=Fn=>D.singleColumnWidth(q[Fn],E),Ve=(Fn,Nn)=>$.calcLeftEdgeDeltas(q,Fn,Nn,E,D.minCellWidth(),D.isRelative),mt=(Fn,Nn,ro)=>$.calcMiddleDeltas(q,Fn,Nn,ro,E,D.minCellWidth(),D.isRelative),tn=(Fn,Nn)=>$.calcRightEdgeDeltas(q,Fn,Nn,E,D.minCellWidth(),D.isRelative);return oe.fold(de,Ce,Ve,mt,tn)},$v=(m,y,E)=>{let D=0;for(let $=m;$<y;$++)D+=E[$]!==void 0?E[$]:0;return D},Pf=(m,y)=>{const E=ns.justCells(m);return cn(E,D=>{const $=$v(D.column,D.column+D.colspan,y);return{element:D.element,width:$,colspan:D.colspan}})},Pp=(m,y)=>{const E=ns.justColumns(m);return cn(E,(D,$)=>({element:D.element,width:y[$],colspan:D.colspan}))},Ty=(m,y)=>cn(m.all,(E,D)=>({element:E.element,height:y[D]})),Fh=m=>Bt(m,(y,E)=>y+E,0),Bs=(m,y)=>ns.hasColumns(m)?Pp(m,y):Pf(m,y),ba=(m,y,E)=>{const D=Bs(m,y);ee(D,$=>{E.setElementWidth($.element,$.width)})},xr=(m,y,E,D,$)=>{const q=ns.fromTable(m),oe=$.getCellDelta(y),de=$.getWidths(q,$),Ce=E===q.grid.columns-1,Ve=D.clampTableDelta(de,E,oe,$.minCellWidth(),Ce),mt=kr(de,E,Ve,$,D),tn=cn(mt,(Fn,Nn)=>Fn+de[Nn]);ba(q,tn,$),D.resizeTable($.adjustTableWidth,Ve,Ce)},Rr=(m,y,E)=>{const D=ns.fromTable(m),$=Lp(D,m),q=cn($,(Ce,Ve)=>E===Ve?Math.max(y+Ce,Rh()):Ce),oe=Ty(D,q);ee(oe,Ce=>{cm(Ce.element,Ce.height)}),ee(ns.justCells(D),Ce=>{Fv(Ce.element)});const de=Fh(q);cm(m,de)},Ra=(m,y,E,D,$)=>{const q=ns.generate(y),oe=D.getWidths(q,D),de=D.pixelWidth(),{newSizes:Ce,delta:Ve}=$.calcRedestributedWidths(oe,de,E.pixelDelta,D.isRelative);ba(q,Ce,D),D.adjustTableWidth(Ve)},Pu=(m,y,E,D)=>{const $=ns.generate(y),q=D.getWidths($,D);ba($,q,D)},Ff=(m,y)=>{Oh(m)||Bc(m).each(D=>{const $=D.value/2;ab(m,$,D.unit),ab(y,$,D.unit)})},Fp=(m,y,E)=>{const D=$m(m,y,1);E===1||D<=1?Fs(m,y):si(m,y,Math.min(E,D))},ub=(m,y)=>E=>{const D=E.column+E.colspan-1,$=E.column;return D>=m&&$<y},fm=(m,y,E)=>{if(ns.hasColumns(m)){const D=je(ns.justColumns(m),ub(y,E)),$=cn(D,oe=>{const de=ri(oe.element);return Fp(de,"span",E-y),de}),q=An.fromTag("colgroup");return Au(q,$),[q]}else return[]},vi=(m,y,E)=>cn(m.all,D=>{const $=je(D.cells,ub(y,E)),q=cn($,de=>{const Ce=ri(de.element);return Fp(Ce,"colspan",E-y),Ce}),oe=An.fromTag("tr");return Au(oe,q),oe}),Lc=(m,y)=>{const E=ns.fromTable(m);return Lu(E,y).map($=>{const q=$[$.length-1],oe=$[0].column,de=q.column+q.colspan,Ce=fm(E,oe,de),Ve=vi(E,oe,de);return[...Ce,...Ve]})},wc=(m,y,E)=>{const D=ns.fromTable(m);return Gi(D,y).bind(q=>{const oe=Xa(D,E,!1),Ce=Jr(oe).rows.slice(q[0].row,q[q.length-1].row+q[q.length-1].rowspan),Ve=Mo(Ce,tn=>{const Fn=je(tn.cells,Nn=>!Nn.isLocked);return Fn.length>0?[{...tn,cells:Fn}]:[]}),mt=td(Ve);return ol(mt.length>0,mt)}).map(q=>vc(q))},mm=(m,y,E,D,$,q)=>({minRow:m,minCol:y,maxRow:E,maxCol:D,allCells:$,selectedCells:q}),Nd=(m,y)=>{const E=m.grid.columns;let $=m.grid.rows,q=E,oe=0,de=0;const Ce=[],Ve=[];return Dt(m.access,mt=>{if(Ce.push(mt),y(mt)){Ve.push(mt);const tn=mt.row,Fn=tn+mt.rowspan-1,Nn=mt.column,ro=Nn+mt.colspan-1;tn<$?$=tn:Fn>oe&&(oe=Fn),Nn<q?q=Nn:ro>de&&(de=ro)}}),mm($,q,oe,de,Ce,Ve)},$h=(m,y,E)=>{const D=m[E].element,$=An.fromTag("td");xs($,An.fromTag("br")),(y?xs:fa)(D,$)},$p=(m,y,E,D)=>{const $=je(m,de=>de.section!=="colgroup"),q=y.grid.columns,oe=y.grid.rows;for(let de=0;de<oe;de++){let Ce=!1;for(let Ve=0;Ve<q;Ve++)de<E.minRow||de>E.maxRow||Ve<E.minCol||Ve>E.maxCol||(ns.getAt(y,de,Ve).filter(D).isNone()?$h($,Ce,de):Ce=!0)}},nd=(m,y,E,D)=>{Dt(E.columns,oe=>{(oe.column<y.minCol||oe.column>y.maxCol)&&Wi(oe.element)});const $=je(Im(m,"tr"),oe=>oe.dom.childElementCount===0);ee($,Wi),(y.minCol===y.maxCol||y.minRow===y.maxRow)&&ee(Im(m,"th,td"),oe=>{Fs(oe,"rowspan"),Fs(oe,"colspan")}),Fs(m,ru),Fs(m,"data-snooker-col-series"),ml.getTableSize(m).adjustTableWidth(D)},db=(m,y,E,D)=>{if(D.minCol===0&&y.grid.columns===D.maxCol+1)return 0;const $=ht(y,m,E),q=Ze($,(Ve,mt)=>Ve+mt,0),Ce=Ze($.slice(D.minCol,D.maxCol+1),(Ve,mt)=>Ve+mt,0)/q*E.pixelWidth()-E.pixelWidth();return E.getCellDelta(Ce)},Ip=(m,y)=>{const E=Fn=>ji(Fn.element,y),D=ri(m),$=eb(D),q=ml.getTableSize(m),oe=ns.generate($),de=Nd(oe,E),Ce="th:not("+y+"),td:not("+y+")",Ve=my(D,"th,td",Fn=>ji(Fn,Ce));ee(Ve,Wi),$p($,oe,de,E);const mt=ns.fromTable(m),tn=db(m,mt,q,de);return nd(D,de,oe,tn),D},fb=Kc("col"),Hp=Kc("colgroup"),Md=m=>Aa(m)==="tr"||Hp(m),$f=m=>{const y=$m(m,"colspan",1),E=$m(m,"rowspan",1);return{element:m,colspan:y,rowspan:E}},Ki=(m,y=$f)=>{const E=de=>fb(de.element)?m.col(de):m.cell(de),D=de=>Hp(de.element)?m.colgroup(de):m.row(de),$=de=>{if(Md(de))return D({element:de});{const Ce=de,Ve=E(y(Ce));return q=Oe.some({item:Ce,replacement:Ve}),Ve}};let q=Oe.none();return{getOrInit:(de,Ce)=>q.fold(()=>$(de),Ve=>Ce(de,Ve.item)?Ve.replacement:$(de))}},Bd=m=>y=>{const E=[],D=(oe,de)=>X(E,Ce=>de(Ce.item,oe)),$=oe=>{const de=m==="td"?{scope:null}:{},Ce=y.replace(oe,m,de);return E.push({item:oe,sub:Ce}),Ce};return{replaceOrInit:(oe,de)=>{if(Md(oe)||fb(oe))return oe;{const Ce=oe;return D(Ce,de).fold(()=>$(Ce),Ve=>de(oe,Ve.item)?Ve.sub:$(Ce))}}}},zp=m=>ll(m,"scope").map(y=>y.substr(0,3)),Cc={modification:Ki,transform:Bd,merging:m=>({unmerge:D=>{const $=zp(D);return $.each(q=>si(D,"scope",q)),()=>{const q=m.cell({element:D,colspan:1,rowspan:1});return qu(q,"width"),qu(D,"width"),$.each(oe=>si(q,"scope",oe)),q}},merge:D=>{const $=()=>{const q=ls(cn(D,zp));if(q.length===0)return Oe.none();{const oe=q[0],de=["row","col"];return at(q,Ve=>Ve!==oe&&Vt(de,Ve))?Oe.none():Oe.from(oe)}};return qu(D[0],"width"),$().fold(()=>Fs(D[0],"scope"),q=>si(D[0],"scope",q+"group")),J(D[0])}})},Iv=(m,y)=>{const E=m.slice(0,y[y.length-1].row+1),D=td(E);return Mo(D,$=>{const q=$.cells.slice(0,y[y.length-1].column+1);return cn(q,oe=>oe.element)})},Ay=(m,y)=>{const E=m.slice(y[0].row+y[0].rowspan-1,m.length),D=td(E);return Mo(D,$=>{const q=$.cells.slice(y[0].column+y[0].colspan-1,$.cells.length);return cn(q,oe=>oe.element)})},Vp=(m,y,E)=>{const D=ns.fromTable(m);return Gi(D,y).map(q=>{const oe=Xa(D,E,!1),{rows:de}=Jr(oe),Ce=Iv(de,q),Ve=Ay(de,q);return{upOrLeftCells:Ce,downOrRightCells:Ve}})},od={only:(m,y)=>{const E=W1(m)?yg(m):m;return{parent:J(E),view:J(m),dragContainer:J(E),origin:J(Gr(0,0)),isResizable:y}},detached:(m,y,E)=>{const D=()=>cs(y);return{parent:J(y),view:J(m),dragContainer:J(y),origin:D,isResizable:E}},body:(m,y)=>({parent:J(m),view:J(m),dragContainer:J(m),origin:()=>cs(m),isResizable:y})},Y0=Xs.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),ky=(m,y,E)=>{const D=E.substring(0,E.length-m.length),$=parseFloat(D);return D===$.toString()?y($):Y0.invalid(E)},hs={...Y0,from:m=>To(m,"%")?ky("%",Y0.percent,m):To(m,"px")?ky("px",Y0.pixels,m):Y0.invalid(m)},jp=(m,y)=>cn(m,E=>hs.from(E).fold(()=>E,$=>$/y*100+"%",$=>$+"%")),Ls=(m,y,E)=>{const D=E/y;return cn(m,$=>hs.from($).fold(()=>$,oe=>oe*D+"px",oe=>oe/100*E+"px"))},tc=(m,y)=>{const E=m.fold(()=>J(""),D=>{const $=D/y;return J($+"px")},()=>{const D=100/y;return J(D+"%")});return Qn(y,E)},Ih=(m,y,E)=>m.fold(()=>y,D=>Ls(y,E,D),D=>jp(y,E)),X0=(m,y,E)=>{const D=hs.from(E),$=Io(m,q=>q==="0px")?tc(D,m.length):Ih(D,m,y);return zv($)},sr=(m,y)=>m.length===0?y:Bt(m,(E,D)=>hs.from(D).fold(J(0),vt,vt)+E,0),Hv=(m,y)=>{const E=Math.floor(m);return{value:E+y,remainder:m-E}},mb=(m,y)=>hs.from(m).fold(J(m),E=>E+y+"px",E=>E+y+"%"),zv=m=>{if(m.length===0)return m;const y=Bt(m,(D,$)=>{const q=hs.from($).fold(()=>({value:$,remainder:0}),oe=>Hv(oe,"px"),oe=>({value:oe+"%",remainder:0}));return{output:[q.value].concat(D.output),remainder:D.remainder+q.remainder}},{output:[],remainder:0}),E=y.output;return E.slice(0,E.length-1).concat([mb(E[E.length-1],Math.round(y.remainder))])},Up=hs.from,hb=(m,y,E)=>{ee(y,D=>{const $=m.slice(D.column,D.colspan+D.column),q=sr($,Di());$a(D.element,"width",q+E)})},Rx=(m,y,E)=>{ee(y,(D,$)=>{const q=sr([m[$]],Di());$a(D.element,"width",q+E)})},Nx=(m,y,E)=>{ee(E,D=>{qu(D.element,"height")}),ee(y,(D,$)=>{$a(D.element,"height",m[$])})},Mx=m=>Up(m).fold(J("px"),J("px"),J("%")),Zp=(m,y,E)=>{const D=ns.fromTable(m),$=D.all,q=ns.justCells(D),oe=ns.justColumns(D);y.each(de=>{const Ce=Mx(de),Ve=Co(m),mt=Fi(D,m),tn=X0(mt,Ve,de);ns.hasColumns(D)?Rx(tn,oe,Ce):hb(tn,q,Ce),$a(m,"width",de)}),E.each(de=>{const Ce=Ml(m),Ve=Oa(D,m),mt=X0(Ve,Ce,de);Nx(mt,$,q),$a(m,"height",de)})},gb=kx,Bx=lf,Lx=q0;var Pg=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Fu=()=>{const m=Ve=>An.fromDom(Ve.dom.cloneNode(!1)),y=Ve=>yd(Ve).dom,E=Ve=>Ua(Ve)?Aa(Ve)==="body"?!0:Vt(Pg,Aa(Ve)):!1,D=Ve=>Ua(Ve)?Vt(["br","img","hr","input"],Aa(Ve)):!1,$=Ve=>Ua(Ve)&&Qc(Ve,"contenteditable")==="false",q=(Ve,mt)=>Ve.dom.compareDocumentPosition(mt.dom),oe=(Ve,mt)=>{const tn=Wu(Ve);Zu(mt,tn)},de=Ve=>{const mt=Aa(Ve);return Vt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],mt)},Ce=Ve=>Ua(Ve)?ll(Ve,"lang"):Oe.none();return{up:J({selector:dl,closest:ui,predicate:hr,all:vl}),down:J({selector:Td,predicate:_u}),styles:J({get:Rc,getRaw:eu,set:$a,remove:qu}),attrs:J({get:Qc,set:si,remove:Fs,copyTo:oe}),insert:J({before:vd,after:xd,afterAll:Pa,append:xs,appendAll:Au,prepend:fa,wrap:wd}),remove:J({unwrap:Fa,remove:Wi}),create:J({nu:An.fromTag,clone:m,text:An.fromText}),query:J({comparePosition:q,prevSibling:xh,nextSibling:wh}),property:J({children:Rl,name:Aa,parent:De,document:y,isText:em,isComment:U1,isElement:Ua,isSpecial:de,getLanguage:Ce,getText:_f,setText:qa,isBoundary:E,isEmptyTag:D,isNonEditable:$}),eq:Ws,is:te}};const Yi=(m,y)=>({item:m,mode:y}),Hh=(m,y,E,D=sd)=>m.property().parent(y).map($=>Yi($,D)),sd=(m,y,E,D=hm)=>E.sibling(m,y).map($=>Yi($,D)),hm=(m,y,E,D=hm)=>{const $=m.property().children(y);return E.first($).map(oe=>Yi(oe,D))},Wp=[{current:Hh,next:sd,fallback:Oe.none()},{current:sd,next:hm,fallback:Oe.some(Hh)},{current:hm,next:hm,fallback:Oe.some(sd)}],ca=(m,y,E,D,$=Wp)=>X($,oe=>oe.current===E).bind(oe=>oe.current(m,y,D,oe.next).orThunk(()=>oe.fallback.bind(de=>ca(m,y,de,D)))),pb={left:()=>({sibling:(E,D)=>E.query().prevSibling(D),first:E=>E.length>0?Oe.some(E[E.length-1]):Oe.none()}),right:()=>({sibling:(E,D)=>E.query().nextSibling(D),first:E=>E.length>0?Oe.some(E[0]):Oe.none()})},Vv=(m,y,E,D,$,q)=>ca(m,y,D,$).bind(de=>q(de.item)?Oe.none():E(de.item)?Oe.some(de.item):Vv(m,de.item,E,de.mode,$,q)),jv=(m,y,E,D)=>Vv(m,y,E,sd,pb.left(),D),bb=(m,y,E,D)=>Vv(m,y,E,sd,pb.right(),D),If=(m,y)=>({element:m,offset:y}),zh=(m,y,E)=>m.property().isText(y)&&m.property().getText(y).trim().length===0||m.property().isComment(y)?E(y).bind(D=>zh(m,D,E).orThunk(()=>Oe.some(D))):Oe.none(),qp=(m,y)=>m.property().isText(y)?m.property().getText(y).length:m.property().children(y).length,Gp=(m,y)=>{const E=zh(m,y,m.query().prevSibling).getOr(y);if(m.property().isText(E))return If(E,qp(m,E));const D=m.property().children(E);return D.length>0?Gp(m,D[D.length-1]):If(E,qp(m,E))},Dy=Gp,du=Fu(),uf=m=>Dy(du,m),J0=m=>y=>m.property().children(y).length===0,VC=(m,y,E)=>Uv(m,y,J0(m),E),Px=(m,y,E)=>_y(m,y,J0(m),E),Uv=jv,_y=bb,gm=Fu(),Fx=(m,y)=>VC(gm,m,y),Fd=(m,y)=>Px(gm,m,y),Sc=(m,y,E)=>Uv(gm,m,y,E),$d=(m,y,E)=>_y(gm,m,y,E),fu=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],e1=(m,y)=>{const E=m.property().name(y);return Vt(["ol","ul"],E)},Vh=(m,y)=>{const E=m.property().name(y);return Vt(fu,E)},Oy=(m,y)=>Vt(["br","img","hr","input"],m.property().name(y)),Zv=(m,y,E,D)=>{const $=E[0],q=E.slice(1);return D(m,y,$,q)},yb=(m,y,E)=>E.length>0?Zv(m,y,E,Fg):Oe.none(),Fg=(m,y,E,D)=>{const $=y(m,E);return Bt(D,(q,oe)=>{const de=y(m,oe);return jh(m,q,de)},$)},jh=(m,y,E)=>y.bind(D=>E.filter(Qe(m.eq,D))),Nr=(m,y)=>Qe(m.eq,y),Ii=(m,y,E,D=mn)=>{const $=[y].concat(m.up().all(y)),q=[E].concat(m.up().all(E)),oe=mt=>jo(mt,D).fold(()=>mt,Fn=>mt.slice(0,Fn+1)),de=oe($),Ce=oe(q),Ve=X(de,mt=>at(Ce,Nr(m,mt)));return{firstpath:de,secondpath:Ce,shared:Ve}},$g=yb,Pc=Ii,vb=Fu(),Dr=(m,y)=>$g(vb,(E,D)=>m(D),y),rd=(m,y,E)=>Pc(vb,m,y,E),Hf=Fu(),pm=m=>Vh(Hf,m),ad=m=>e1(Hf,m),Ry=m=>Oy(Hf,m),$x=m=>{const y=Kc("br"),E=Ce=>Io(Ce,Ve=>y(Ve)||em(Ve)&&_f(Ve).trim().length===0),D=Ce=>Aa(Ce)==="li"||hr(Ce,ad).isSome(),$=Ce=>wh(Ce).map(Ve=>pm(Ve)?!0:Ry(Ve)?Aa(Ve)!=="img":!1).getOr(!1),q=Ce=>Da(Ce).bind(Ve=>{const mt=$(Ve);return De(Ve).map(tn=>mt===!0||D(tn)||y(Ve)||pm(tn)&&!Ws(Ce,tn)?[]:[An.fromTag("br")])}).getOr([]),de=(()=>{const Ce=Mo(m,Ve=>{const mt=Rl(Ve);return E(mt)?[]:mt.concat(q(Ve))});return Ce.length===0?[An.fromTag("br")]:Ce})();Za(m[0]),Au(m[0],de)},Wm=m=>{Fs(m,"width"),Fs(m,"height")},Ig=m=>{const y=cu(m);Zp(m,Oe.some(y),Oe.none()),Wm(m)},Qa=m=>{const y=Ya(m);Zp(m,Oe.some(y),Oe.none()),Wm(m)},mu=m=>{const y=Yl(m);Zp(m,Oe.none(),Oe.some(y)),Wm(m)},Xi=m=>{qu(m,"width");const y=J1(m),E=y.length>0?y:rf(m);ee(E,D=>{qu(D,"width"),Wm(D)}),Wm(m)},nc={scope:["row","col"]},df=m=>()=>{const y=An.fromTag("td",m.dom);return xs(y,An.fromTag("br",m.dom)),y},Ny=m=>()=>An.fromTag("col",m.dom),Uh=m=>()=>An.fromTag("colgroup",m.dom),qm=m=>()=>An.fromTag("tr",m.dom),Hg=(m,y,E)=>{const D=om(m,y);return Dt(E,($,q)=>{$===null?Fs(D,q):si(D,q,$)}),D},My=m=>m,xb=(m,y,E)=>kh(m).map($=>{const q=E.join(","),oe=ur($,q,de=>Ws(de,m));return Bt(oe,(de,Ce)=>{const Ve=Jc(Ce);return xs(de,Ve),Ve},y)}).getOr(y),Zh=(m,y)=>{Dt(nc,(E,D)=>ll(m,D).filter($=>Vt(E,$)).each($=>si(y,D,$)))},Gm=(m,y,E)=>{const D=(oe,de)=>{vg(oe.element,de),qu(de,"height"),oe.colspan!==1&&qu(de,"width")},$=oe=>{const de=An.fromTag(Aa(oe.element),y.dom),Ce=E.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Ve=Ce.length>0?xb(oe.element,de,Ce):de;return xs(Ve,An.fromTag("br")),D(oe,de),Zh(oe.element,de),m(oe.element,de),de};return{col:oe=>{const de=An.fromTag(Aa(oe.element),y.dom);return D(oe,de),m(oe.element,de),de},colgroup:Uh(y),row:qm(y),cell:$,replace:Hg,colGap:Ny(y),gap:df(y)}},Wv=m=>({col:Ny(m),colgroup:Uh(m),row:qm(m),cell:df(m),replace:My,colGap:Ny(m),gap:df(m)}),t1=m=>ns.fromTable(m).grid,qv=(m,y,E,D)=>{const $=Jr(m).rows;if($.length===0)return m;for(let q=y.startRow;q<=y.finishRow;q++)for(let oe=y.startCol;oe<=y.finishCol;oe++){const de=$[q],Ce=wo(de,oe).isLocked;Vi(de,oe,As(D(),!1,Ce))}return m},Gv=(m,y,E,D)=>{const $=Jr(m).rows;let q=!0;for(let oe=0;oe<$.length;oe++)for(let de=0;de<ni($[0]);de++){const Ce=$[oe],Ve=wo(Ce,de),mt=Ve.element,tn=E(mt,y);tn&&!q?Vi(Ce,de,As(D(),!0,Ve.isLocked)):tn&&(q=!1)}return m},hl=(m,y)=>Ze(m,(E,D)=>at(E,$=>y($.element,D.element))?E:E.concat([D]),[]),zg=(m,y,E,D)=>(y>0&&y<m[0].cells.length&&ee(m,$=>{const q=$.cells[y-1];let oe=0;const de=D();for(;$.cells.length>y+oe&&E(q.element,$.cells[y+oe].element);)Vi($,y+oe,As(de,!0,$.cells[y+oe].isLocked)),oe++}),m),id=(m,y,E,D)=>{const $=Jr(m).rows;if(y>0&&y<$.length){const q=$[y-1].cells,oe=hl(q,E);ee(oe,de=>{let Ce=Oe.none();for(let Ve=y;Ve<$.length;Ve++)for(let mt=0;mt<ni($[0]);mt++){const tn=$[Ve],Fn=wo(tn,mt);E(Fn.element,de.element)&&(Ce.isNone()&&(Ce=Oe.some(D())),Ce.each(ro=>{Vi(tn,mt,As(ro,!0,Fn.isLocked))}))}})}return m},Kv=(m,y,E)=>{if(m.row>=y.length||m.column>ni(y[0]))return Gn.error("invalid start address out of table bounds, row: "+m.row+", column: "+m.column);const D=y.slice(m.row),$=D[0].cells.slice(m.column),q=ni(E[0]),oe=E.length;return Gn.value({rowDelta:D.length-oe,colDelta:$.length-q})},wb=(m,y)=>{const E=ni(m[0]),D=ni(y[0]);return{rowDelta:0,colDelta:E-D}},Cb=(m,y)=>{const E=m.length,D=y.length;return{rowDelta:E-D,colDelta:0}},Sb=(m,y,E,D)=>{const $=y.section==="colgroup"?E.col:E.cell;return Qn(m,q=>As($(),!0,D(q)))},By=(m,y,E,D)=>{const $=m[m.length-1];return m.concat(Qn(y,()=>{const q=$.section==="colgroup"?E.colgroup:E.row,oe=Sf($,q,vt),de=Sb(oe.cells.length,oe,E,Ce=>Ho(D,Ce.toString()));return wi(oe,de)}))},Yv=(m,y,E,D)=>cn(m,$=>{const q=Sb(y,$,E,mn);return Ps($,D,q)}),Xv=(m,y,E)=>cn(m,D=>Ze(E,($,q)=>{const oe=Sb(1,D,y,qe)[0];return ir($,q,oe)},D)),Kp=(m,y,E)=>{const D=y.colDelta<0?Yv:vt,$=y.rowDelta<0?By:vt,q=au(m),oe=ni(m[0]),de=at(q,mt=>mt===oe-1),Ce=D(m,Math.abs(y.colDelta),E,de?oe-1:oe),Ve=au(Ce);return $(Ce,Math.abs(y.rowDelta),E,Ne(Ve,qe))},Qi=(m,y,E,D)=>{const $=wo(m[y],E),q=Qe(D,$.element),oe=m[y];return m.length>1&&ni(oe)>1&&(E>0&&q(Ci(oe,E-1))||E<oe.cells.length-1&&q(Ci(oe,E+1))||y>0&&q(Ci(m[y-1],E))||y<m.length-1&&q(Ci(m[y+1],E)))},Kr=(m,y,E,D,$,q)=>{const oe=m.row,de=m.column,Ce=E.length,Ve=ni(E[0]),mt=oe+Ce,tn=de+Ve+q.length,Fn=Ne(q,qe);for(let Nn=oe;Nn<mt;Nn++){let ro=0;for(let It=de;It<tn;It++){if(Fn[It]){ro++;continue}Qi(y,Nn,It,$)&&Gv(y,Ci(y[Nn],It),$,D.cell);const nn=It-de-ro,So=wo(E[Nn-oe],nn),Qo=So.element,Kn=D.replace(Qo);Vi(y[Nn],It,As(Kn,!0,So.isLocked))}}return y},Al=(m,y,E)=>{const D=ni(y[0]),$=Jr(y).cols.length+m.row,q=Qn(D-m.column,de=>de+m.column),oe=X(q,de=>Io(E,Ce=>Ce!==de)).getOr(D-1);return{row:$,column:oe}},kl=(m,y,E)=>je(E,D=>D>=m.column&&D<=ni(y[0])+m.column),ya=(m,y,E,D,$)=>{const q=au(y),oe=Al(m,y,q),de=Jr(E).rows,Ce=kl(oe,de,q);return Kv(oe,y,de).map(mt=>{const tn={...mt,colDelta:mt.colDelta-Ce.length},Fn=Kp(y,tn,D),Nn=au(Fn),ro=kl(oe,de,Nn);return Kr(oe,Fn,de,D,$,ro)})},_i=(m,y,E,D,$)=>{zg(y,m,$,D.cell);const q=Cb(E,y),oe=Kp(E,q,D),de=Cb(y,oe),Ce=Kp(y,de,D);return cn(Ce,(Ve,mt)=>Ps(Ve,m,oe[mt].cells))},Km=(m,y,E,D,$)=>{id(y,m,$,D.cell);const q=au(y),oe=wb(y,E),de={...oe,colDelta:oe.colDelta-q.length},Ce=Kp(y,de,D),{cols:Ve,rows:mt}=Jr(Ce),tn=au(Ce),Fn=wb(E,y),Nn={...Fn,colDelta:Fn.colDelta+tn.length},ro=Xv(E,D,tn),It=Kp(ro,Nn,D);return[...Ve,...mt.slice(0,m),...It,...mt.slice(m,mt.length)]},Id=(m,y,E,D)=>Sf(m,$=>D($,E),y),Ly=(m,y,E,D,$)=>{const{rows:q,cols:oe}=Jr(m),de=q.slice(0,y),Ce=q.slice(y),Ve=Id(q[E],(mt,tn)=>y>0&&y<q.length&&D(Ci(q[y-1],tn),Ci(q[y],tn))?wo(q[y],tn):As($(mt.element,D),!0,mt.isLocked),D,$);return[...oe,...de,Ve,...Ce]},Eb=(m,y,E,D,$,q,oe)=>{if(E==="colgroup"||!D){const de=wo(m,$);return As(oe(de.element,q),!0,!1)}else return wo(m,y)},zf=(m,y,E,D,$)=>cn(m,q=>{const oe=y>0&&y<ni(q)&&D(Ci(q,y-1),Ci(q,y)),de=Eb(q,y,q.section,oe,E,D,$);return ir(q,y,de)}),Qv=(m,y)=>Mo(m,E=>{const D=E.cells,$=Bt(y,(q,oe)=>oe>=0&&oe<q.length?q.slice(0,oe).concat(q.slice(oe+1)):q,D);return $.length>0?[sa(E.element,$,E.section,E.isNew)]:[]}),Jv=(m,y,E)=>{const{rows:D,cols:$}=Jr(m);return[...$,...D.slice(0,y),...D.slice(E+1)]},Wh=(m,y,E,D)=>Ci(m[y],E)!==void 0&&y>0&&D(Ci(m[y-1],E),Ci(m[y],E)),Py=(m,y,E)=>y>0&&E(Ci(m,y-1),Ci(m,y)),n1=(m,y,E,D)=>Wh(m,y,E,D)||Py(m[y],E,D),Ix=(m,y)=>Io(y,vt)&&gy(m.cells)?qe:(D,$,q)=>!(Aa(D.element)==="th"&&y[q]),Tb=(m,y)=>Io(y,vt)&&gy(m)?qe:(D,$,q)=>!(Aa(D.element)==="th"&&y[$]),bm=(m,y,E,D)=>{const $=oe=>oe==="row"?Rv(y):Oh(y),q=oe=>$(oe)?`${oe}group`:oe;return m?Ka(y)?q(E):null:D&&Ka(y)?q(E==="row"?"col":"row"):null},Fy=(m,y)=>(E,D,$)=>Oe.some(bm(m,E.element,"col",y[$])),Ab=(m,y)=>(E,D)=>Oe.some(bm(m,E.element,"row",y[D])),o1=(m,y,E)=>As(E(m.element,y),!0,m.isLocked),Vg=(m,y,E,D,$,q,oe)=>{const de=Ce=>at(y,Ve=>E(Ce.element,Ve.element));return cn(m,(Ce,Ve)=>Ir(Ce,(mt,tn)=>{if(de(mt)){const Fn=oe(mt,Ve,tn)?$(mt,E,D):mt;return q(Fn,Ve,tn).each(Nn=>{Zi(Fn.element,{scope:Oe.from(Nn)})}),Fn}else return mt}))},Ym=(m,y,E)=>Mo(m,(D,$)=>n1(m,$,y,E)?[]:[wo(D,y)]),jg=(m,y,E)=>{const D=m[y];return Mo(D.cells,($,q)=>n1(m,y,q,E)?[]:[$])},s1=(m,y,E,D,$)=>{const q=Jr(m).rows,oe=Mo(y,mt=>Ym(q,mt,D)),de=cn(q,mt=>gy(mt.cells)),Ce=Tb(oe,de),Ve=Ab(E,de);return Vg(m,oe,D,$,o1,Ve,Ce)},$y=(m,y,E,D,$,q,oe)=>{const{cols:de,rows:Ce}=Jr(m),Ve=Ce[y[0]],mt=Mo(y,nn=>jg(Ce,nn,$)),tn=cn(Ve.cells,(nn,So)=>gy(Ym(Ce,So,$))),Fn=[...Ce];ee(y,nn=>{Fn[nn]=oe.transformRow(Ce[nn],E)});const Nn=[...de,...Fn],ro=Ix(Ve,tn),It=Fy(D,tn);return Vg(Nn,mt,$,q,oe.transformCell,It,ro)},Vf=(m,y,E,D)=>{const $=Jr(m).rows,q=cn(y,oe=>wo($[oe.row],oe.column));return Vg(m,q,E,D,o1,Oe.none,qe)},Il=m=>Ze(m,(E,D)=>at(E,q=>q.column===D.column)?E:E.concat([D]),[]).sort((E,D)=>E.column-D.column),oc=m=>Rf(m,!0),qh=m=>{rf(m).length===0&&Wi(m)},_t=(m,y)=>({grid:m,cursor:y}),Yp=m=>Rt(m,y=>Rt(y.cells,E=>{const D=E.element;return ol(oc(D),D)})),Iy=(m,y,E)=>{const D=Jr(m).rows;return Oe.from(D[y]?.cells[E]?.element).filter(oc).orThunk(()=>Yp(D))},Fc=(m,y,E)=>{const D=Iy(m,y,E);return _t(m,D)},Xp=m=>Ze(m,(E,D)=>at(E,q=>q.row===D.row)?E:E.concat([D]),[]).sort((E,D)=>E.row-D.row),ym=(m,y,E,D)=>{const $=y[0].row,q=Xp(y),oe=Bt(q,(de,Ce)=>({grid:Ly(de.grid,$,Ce.row+de.delta,E,D.getOrInit),delta:de.delta+1}),{grid:m,delta:0}).grid;return Fc(oe,$,y[0].column)},Hy=(m,y,E,D)=>{const $=Xp(y),q=$[$.length-1],oe=q.row+q.rowspan,de=Bt($,(Ce,Ve)=>Ly(Ce,oe,Ve.row,E,D.getOrInit),m);return Fc(de,oe,y[0].column)},e2=(m,y,E,D)=>{const $=y.details,q=Il($),oe=q[0].column,de=Bt(q,(Ce,Ve)=>({grid:zf(Ce.grid,oe,Ve.column+Ce.delta,E,D.getOrInit),delta:Ce.delta+1}),{grid:m,delta:0}).grid;return Fc(de,$[0].row,oe)},Gh=(m,y,E,D)=>{const $=y.details,q=$[$.length-1],oe=q.column+q.colspan,de=Il($),Ce=Bt(de,(Ve,mt)=>zf(Ve,oe,mt.column,E,D.getOrInit),m);return Fc(Ce,$[0].row,oe)},kb=(m,y,E,D)=>{const $=Il(y),q=cn($,de=>de.column),oe=s1(m,q,!0,E,D.replaceOrInit);return Fc(oe,y[0].row,y[0].column)},jf=(m,y,E,D)=>{const $=Vf(m,y,E,D.replaceOrInit);return Fc($,y[0].row,y[0].column)},Qp=(m,y,E,D)=>{const $=Il(y),q=cn($,de=>de.column),oe=s1(m,q,!1,E,D.replaceOrInit);return Fc(oe,y[0].row,y[0].column)},zy=(m,y,E,D)=>{const $=Vf(m,y,E,D.replaceOrInit);return Fc($,y[0].row,y[0].column)},Ec=(m,y)=>(E,D,$,q,oe)=>{const de=Xp(D),Ce=cn(de,mt=>mt.row),Ve=$y(E,Ce,m,y,$,q.replaceOrInit,oe);return Fc(Ve,D[0].row,D[0].column)},ld=Ec("thead",!0),cd=Ec("tbody",!1),Hx=Ec("tfoot",!1),Jp=(m,y,E,D)=>{const $=Il(y.details),q=Qv(m,cn($,de=>de.column)),oe=q.length>0?q[0].cells.length-1:0;return Fc(q,$[0].row,Math.min($[0].column,oe))},t2=(m,y,E,D)=>{const $=Xp(y),q=Jv(m,$[0].row,$[$.length-1].row),oe=Math.max(Jr(q).rows.length-1,0);return Fc(q,Math.min(y[0].row,oe),y[0].column)},Db=(m,y,E,D)=>{const $=y.cells;$x($);const q=qv(m,y.bounds,E,D.merge($));return _t(q,Oe.from($[0]))},n2=(m,y,E,D)=>{const q=Bt(y,(oe,de)=>Gv(oe,de,E,D.unmerge(de)),m);return _t(q,Oe.from(y[0]))},o2=(m,y,E,D)=>{const q=((Ce,Ve)=>{const mt=ns.fromTable(Ce);return Xa(mt,Ve,!0)})(y.clipboard,y.generators),oe=xo(y.row,y.column);return ya(oe,m,q,y.generators,E).fold(()=>_t(m,Oe.some(y.element)),Ce=>Fc(Ce,y.row,y.column))},fs=(m,y,E)=>{const D=Cn(m,E.section),$=ns.generate(D);return Xa($,y,!0)},so=(m,y,E,D)=>{const $=Jr(m).rows,q=y.cells[0].column,oe=$[y.cells[0].row],de=fs(y.clipboard,y.generators,oe),Ce=_i(q,m,de,y.generators,E);return Fc(Ce,y.cells[0].row,y.cells[0].column)},r1=(m,y,E,D)=>{const $=Jr(m).rows,q=y.cells[y.cells.length-1].column+y.cells[y.cells.length-1].colspan,oe=$[y.cells[0].row],de=fs(y.clipboard,y.generators,oe),Ce=_i(q,m,de,y.generators,E);return Fc(Ce,y.cells[0].row,q)},Vy=(m,y,E,D)=>{const $=Jr(m).rows,q=y.cells[0].row,oe=$[q],de=fs(y.clipboard,y.generators,oe),Ce=Km(q,m,de,y.generators,E);return Fc(Ce,y.cells[0].row,y.cells[0].column)},a1=(m,y,E,D)=>{const $=Jr(m).rows,q=y.cells[y.cells.length-1].row+y.cells[y.cells.length-1].rowspan,oe=$[y.cells[0].row],de=fs(y.clipboard,y.generators,oe),Ce=Km(q,m,de,y.generators,E);return Fc(Ce,q,y.cells[0].column)},s2=(m,y)=>{const E=ns.fromTable(m);return Gi(E,y).bind($=>{const q=$[$.length-1],oe=$[0].column,de=q.column+q.colspan,Ce=vo(cn(E.all,Ve=>je(Ve.cells,mt=>mt.column>=oe&&mt.column<de)));return py(Ce)}).getOr("")},i1=(m,y)=>{const E=ns.fromTable(m);return Gi(E,y).bind(py).getOr("")},oa=(m,y)=>{const E=ns.fromTable(m);return Gi(E,y).bind($=>{const q=$[$.length-1],oe=$[0].row,de=q.row+q.rowspan,Ce=E.all.slice(oe,de);return Mv(Ce)}).getOr("")},_b=(m,y,E,D)=>Pu(m,y,E,D.sizing),l1=(m,y,E,D)=>Ra(m,y,E,D.sizing,D.resize),Xm=(m,y)=>at(y,E=>E.column===0&&E.isLocked),Mt=(m,y)=>at(y,E=>E.column+E.colspan>=m.grid.columns&&E.isLocked),ff=(m,y)=>{const E=Rp(m),D=Il(y);return Ze(D,($,q)=>{const de=E[q.column].map(Or).getOr(0);return $+de},0)},vm=m=>(y,E)=>Gi(y,E).filter(D=>!(m?Xm:Mt)(y,D)).map(D=>({details:D,pixelDelta:ff(y,D)})),Hd=(m,y)=>Lu(m,y).map(E=>({details:E,pixelDelta:-ff(m,E)})),Tc=m=>(y,E)=>Jl(y,E).filter(D=>!(m?Xm:Mt)(y,D.cells)),Qm=Cc.transform("th"),e0=Cc.transform("td"),xm=(m,y,E,D)=>$i(ym,Gi,ve,ve,Cc.modification,m,y,E,D),jC=(m,y,E,D)=>$i(Hy,Gi,ve,ve,Cc.modification,m,y,E,D),t0=(m,y,E,D)=>$i(e2,vm(!0),l1,ve,Cc.modification,m,y,E,D),Lr=(m,y,E,D)=>$i(Gh,vm(!1),l1,ve,Cc.modification,m,y,E,D),mf=(m,y,E,D)=>$i(Jp,Hd,l1,qh,Cc.modification,m,y,E,D),r2=(m,y,E,D)=>$i(t2,Gi,ve,qh,Cc.modification,m,y,E,D),wm=(m,y,E,D)=>$i(kb,Lu,ve,ve,Qm,m,y,E,D),zd=(m,y,E,D)=>$i(Qp,Lu,ve,ve,e0,m,y,E,D),sc=(m,y,E,D)=>$i(ld,Gi,ve,ve,Qm,m,y,E,D),n0=(m,y,E,D)=>$i(cd,Gi,ve,ve,e0,m,y,E,D),jy=(m,y,E,D)=>$i(Hx,Gi,ve,ve,e0,m,y,E,D),Uy=(m,y,E,D)=>$i(jf,Lu,ve,ve,Qm,m,y,E,D),Zy=(m,y,E,D)=>$i(zy,Lu,ve,ve,e0,m,y,E,D),zx=(m,y,E,D)=>$i(Db,dm,_b,ve,Cc.merging,m,y,E,D),a2=(m,y,E,D)=>$i(n2,cb,_b,ve,Cc.merging,m,y,E,D),Ob=(m,y,E,D)=>$i(o2,Mf,_b,ve,Cc.modification,m,y,E,D),a=(m,y,E,D)=>$i(so,Tc(!0),ve,ve,Cc.modification,m,y,E,D),u=(m,y,E,D)=>$i(r1,Tc(!1),ve,ve,Cc.modification,m,y,E,D),g=(m,y,E,D)=>$i(Vy,Jl,ve,ve,Cc.modification,m,y,E,D),C=(m,y,E,D)=>$i(a1,Jl,ve,ve,Cc.modification,m,y,E,D),R=s2,F=i1,re=oa,fe=(m,y)=>{const E=y.column,D=y.column+y.colspan-1,$=y.row,q=y.row+y.rowspan-1;return E<=m.finishCol&&D>=m.startCol&&$<=m.finishRow&&q>=m.startRow},lt=(m,y)=>y.column>=m.startCol&&y.column+y.colspan-1<=m.finishCol&&y.row>=m.startRow&&y.row+y.rowspan-1<=m.finishRow,Ut=(m,y)=>{let E=!0;const D=Qe(lt,y);for(let $=y.startRow;$<=y.finishRow;$++)for(let q=y.startCol;q<=y.finishCol;q++)E=E&&ns.getAt(m,$,q).exists(D);return E?Oe.some(y):Oe.none()},bn=(m,y)=>Sa(Math.min(m.row,y.row),Math.min(m.column,y.column),Math.max(m.row+m.rowspan-1,y.row+y.rowspan-1),Math.max(m.column+m.colspan-1,y.column+y.colspan-1)),Dn=(m,y,E)=>{const D=ns.findItem(m,y,Ws),$=ns.findItem(m,E,Ws);return D.bind(q=>$.map(oe=>bn(q,oe)))},Xt=(m,y,E)=>Dn(m,y,E).bind(D=>Ut(m,D)),ln=(m,y,E,D)=>ns.findItem(m,y,Ws).bind($=>{const q=E>0?$.row+$.rowspan-1:$.row,oe=D>0?$.column+$.colspan-1:$.column;return ns.getAt(m,q+E,oe+D).map(Ce=>Ce.element)}),es=(m,y,E)=>Dn(m,y,E).map(D=>{const $=ns.filterItems(m,Qe(fe,D));return cn($,q=>q.element)}),Os=(m,y)=>{const E=(D,$)=>Af($,D);return ns.findItem(m,y,E).map(D=>D.element)},fi=(m,y,E)=>su(m).bind(D=>{const $=hn(D);return ln($,m,y,E)}),et=(m,y,E)=>{const D=hn(m);return es(D,y,E)},ft=(m,y,E,D,$)=>{const q=hn(m),oe=Ws(m,E)?Oe.some(y):Os(q,y),de=Ws(m,$)?Oe.some(D):Os(q,D);return oe.bind(Ce=>de.bind(Ve=>es(q,Ce,Ve)))},zt=(m,y,E)=>{const D=hn(m);return Xt(D,y,E)},hn=ns.fromTable,ms={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},js=()=>An.fromTag("th"),Go=()=>An.fromTag("td"),rr=()=>An.fromTag("col"),Mr=(m,y,E,D)=>{const $=An.fromTag("tr");for(let q=0;q<m;q++){const oe=D<y||q<E?js():Go();q<E&&si(oe,"scope","row"),D<y&&si(oe,"scope","col"),xs(oe,An.fromTag("br")),xs($,oe)}return $},zr=m=>{const y=An.fromTag("colgroup");return Qn(m,()=>xs(y,rr())),y},hf=(m,y,E,D)=>Qn(m,$=>Mr(y,E,D,$)),Jm=(m,y,E,D,$,q=ms)=>{const oe=An.fromTag("table"),de=$!=="cells";cr(oe,q.styles),Zu(oe,q.attributes),q.colGroups&&xs(oe,zr(y));const Ce=Math.min(m,E);if(de&&E>0){const Nn=An.fromTag("thead");xs(oe,Nn);const It=hf(E,y,$==="sectionCells"?Ce:0,D);Au(Nn,It)}const Ve=An.fromTag("tbody");xs(oe,Ve);const mt=de?m-Ce:m,Fn=hf(mt,y,de?0:E,D);return Au(Ve,Fn),oe},gl=m=>{let y=[];return{bind:q=>{if(q===void 0)throw new Error("Event bind error: undefined handler");y.push(q)},unbind:q=>{y=je(y,oe=>oe!==q)},trigger:(...q)=>{const oe={};ee(m,(de,Ce)=>{oe[de]=q[Ce]}),ee(y,de=>{de(oe)})}}},o0=m=>{const y=Le(m,D=>({bind:D.bind,unbind:D.unbind})),E=Le(m,D=>D.trigger);return{registry:y,trigger:E}},NT=Mn(["compare","extract","mutate","sink"]),UC=Mn(["element","start","stop","destroy"]),MT=Mn(["forceDrop","drop","move","delayDrop"]),iD=()=>{let m=Oe.none();const y=()=>{m=Oe.none()},E=(q,oe)=>{const de=m.map(Ce=>q.compare(Ce,oe));return m=Oe.some(oe),de},D=(q,oe)=>{oe.extract(q).each(Ce=>{E(oe,Ce).each(mt=>{$.trigger.move(mt)})})},$=o0({move:gl(["info"])});return{onEvent:D,reset:y,events:$.registry}},Us=()=>{const m=o0({move:gl(["info"])});return{onEvent:ve,reset:ve,events:m.registry}},eh=()=>{const m=Us(),y=iD();let E=m;return{on:()=>{E.reset(),E=y},off:()=>{E.reset(),E=m},isOn:()=>E===y,onEvent:(de,Ce)=>{E.onEvent(de,Ce)},events:y.events}},c1=(m,y,E)=>{let D=!1;const $=o0({start:gl([]),stop:gl([])}),q=eh(),oe=()=>{ro.stop(),q.isOn()&&(q.off(),$.trigger.stop())},de=Qs(oe,200),Ce=nn=>{ro.start(nn),q.on(),$.trigger.start()},Ve=nn=>{de.cancel(),q.onEvent(nn,y)};q.events.move.bind(nn=>{y.mutate(m,nn.info)});const mt=()=>{D=!0},tn=()=>{D=!1},Fn=()=>D,Nn=nn=>(...So)=>{D&&nn.apply(null,So)},ro=y.sink(MT({forceDrop:oe,drop:Nn(oe),move:Nn(Ve),delayDrop:Nn(de.throttle)}),E),It=()=>{ro.destroy()};return{element:ro.element,go:Ce,on:mt,off:tn,isActive:Fn,destroy:It,events:$.registry}},Wy=Ro("ephox-dragster").resolve,Gs=m=>{const y={layerClass:Wy("blocker"),...m},E=An.fromTag("div");return si(E,"role","presentation"),si(E,"data-mce-bogus","all"),cr(E,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Ed(E,Wy("blocker")),Ed(E,y.layerClass),{element:J(E),destroy:()=>{Wi(E)}}};var i2=NT({compare:(m,y)=>Gr(y.left-m.left,y.top-m.top),extract:m=>Oe.some(Gr(m.x,m.y)),sink:(m,y)=>{const E=Gs(y),D=nm(E.element(),"mousedown",m.forceDrop),$=nm(E.element(),"mouseup",m.drop),q=nm(E.element(),"mousemove",m.move),oe=nm(E.element(),"mouseout",m.delayDrop),de=()=>{E.destroy(),$.unbind(),q.unbind(),oe.unbind(),D.unbind()},Ce=mt=>{xs(mt,E.element())},Ve=()=>{Wi(E.element())};return UC({element:E.element,start:Ce,stop:Ve,destroy:de})},mutate:(m,y)=>{m.mutate(y.left,y.top)}});const uD=(m,y={})=>{const E=y.mode??i2;return c1(m,E,y)},l2=Ro("ephox-snooker").resolve,fD=()=>{const m=o0({drag:gl(["xDelta","yDelta"])});return{mutate:(E,D)=>{m.trigger.drag(E,D)},events:m.registry}},c2=()=>{const m=o0({drag:gl(["xDelta","yDelta","target"])});let y=Oe.none();const E=fD();return E.events.drag.bind(q=>{y.each(oe=>{m.trigger.drag(q.xDelta,q.yDelta,oe)})}),{assign:q=>{y=Oe.some(q)},get:()=>y,mutate:E.mutate,events:m.registry}},BT=(m,y,E,D,$)=>{const q=An.fromTag("div");return cr(q,{position:"absolute",left:y-D/2+"px",top:E+"px",height:$+"px",width:D+"px"}),Zu(q,{"data-mce-bogus":"all","data-column":m,role:"presentation"}),q},mD=(m,y,E,D,$)=>{const q=An.fromTag("div");return cr(q,{position:"absolute",left:y+"px",top:E-$/2+"px",height:$+"px",width:D+"px"}),Zu(q,{"data-mce-bogus":"all","data-row":m,role:"presentation"}),q},Vx=l2("resizer-bar"),ZC=l2("resizer-rows"),WC=l2("resizer-cols"),LT=7,hD=(m,y)=>Mo(m.all,(E,D)=>y(E.element)?[D]:[]),PT=(m,y)=>{const E=[];return Qn(m.grid.columns,D=>{ns.getColumnAt(m,D).map(q=>q.element).forall(y)&&E.push(D)}),je(E,D=>{const $=ns.filterItems(m,q=>q.column===D);return Io($,q=>y(q.element))})},qC=m=>{const y=Td(m.parent(),"."+Vx);ee(y,Wi)},FT=(m,y,E)=>{const D=m.origin();ee(y,$=>{$.each(q=>{const oe=E(D,q);Ed(oe,Vx),xs(m.parent(),oe)})})},fr=(m,y,E,D)=>{FT(m,y,($,q)=>{const oe=BT(q.col,q.x-$.left,E.top-$.top,LT,D);return Ed(oe,WC),oe})},$T=(m,y,E,D)=>{FT(m,y,($,q)=>{const oe=mD(q.row,E.left-$.left,q.y-$.top,D,LT);return Ed(oe,ZC),oe})},GC=(m,y,E,D,$)=>{const q=cs(E),oe=y.isResizable,de=D.length>0?U0.positions(D,E):[],Ce=de.length>0?hD(m,oe):[],Ve=je(de,(Nn,ro)=>at(Ce,It=>ro===It));$T(y,Ve,q,Or(E));const mt=$.length>0?_a.positions($,E):[],tn=mt.length>0?PT(m,oe):[],Fn=je(mt,(Nn,ro)=>at(tn,It=>ro===It));fr(y,Fn,q,Bm(E))},jx=(m,y)=>{if(qC(m),m.isResizable(y)){const E=ns.fromTable(y),D=Nh(E),$=Rp(E);GC(E,m,y,D,$)}},s0=(m,y)=>{const E=Td(m.parent(),"."+Vx);ee(E,y)},KC=m=>{s0(m,y=>{$a(y,"display","none")})},gD=m=>{s0(m,y=>{$a(y,"display","block")})},IT=m=>gc(m,ZC),qy=m=>gc(m,WC),HT=l2("resizer-bar-dragging"),u2=m=>{const y=c2(),E=uD(y,{});let D=Oe.none();const $=(It,nn)=>Oe.from(Qc(It,nn));y.events.drag.bind(It=>{$(It.target,"data-row").each(nn=>{const So=Li(It.target,"top");$a(It.target,"top",So+It.yDelta+"px")}),$(It.target,"data-column").each(nn=>{const So=Li(It.target,"left");$a(It.target,"left",So+It.xDelta+"px")})});const q=(It,nn)=>{const So=Li(It,nn),Qo=$m(It,"data-initial-"+nn,0);return So-Qo};E.events.stop.bind(()=>{y.get().each(It=>{D.each(nn=>{$(It,"data-row").each(So=>{const Qo=q(It,"top");Fs(It,"data-initial-top"),ro.trigger.adjustHeight(nn,Qo,parseInt(So,10))}),$(It,"data-column").each(So=>{const Qo=q(It,"left");Fs(It,"data-initial-left"),ro.trigger.adjustWidth(nn,Qo,parseInt(So,10))}),jx(m,nn)})})});const oe=(It,nn)=>{ro.trigger.startAdjust(),y.assign(It),si(It,"data-initial-"+nn,Li(It,nn)),Ed(It,HT),$a(It,"opacity","0.2"),E.go(m.dragContainer())},de=nm(m.parent(),"mousedown",It=>{IT(It.target)&&oe(It.target,"top"),qy(It.target)&&oe(It.target,"left")}),Ce=It=>Ws(It,m.view()),Ve=It=>ui(It,"table",Ce).filter(Rf),mt=It=>gc(It,"ephox-snooker-resizer-bar")||gc(It,"ephox-dragster-blocker"),tn=nm(m.view(),"mouseover",It=>{Ve(It.target).fold(()=>{uo(It.target)&&!mt(It.target)&&qC(m)},nn=>{E.isActive()&&(D=Oe.some(nn),jx(m,nn))})}),Fn=()=>{de.unbind(),tn.unbind(),E.destroy(),qC(m)},Nn=It=>{jx(m,It)},ro=o0({adjustHeight:gl(["table","delta","row"]),adjustWidth:gl(["table","delta","column"]),startAdjust:gl([])});return{destroy:Fn,refresh:Nn,on:E.on,off:E.off,hideBars:Qe(KC,m),showBars:Qe(gD,m),events:ro.registry}},YC={create:(m,y,E)=>{const D=U0,$=_a,q=u2(m),oe=o0({beforeResize:gl(["table","type"]),afterResize:gl(["table","type"]),startDrag:gl([])});return q.events.adjustHeight.bind(de=>{const Ce=de.table;oe.trigger.beforeResize(Ce,"row");const Ve=D.delta(de.delta,Ce);Rr(Ce,Ve,de.row),oe.trigger.afterResize(Ce,"row")}),q.events.startAdjust.bind(de=>{oe.trigger.startDrag()}),q.events.adjustWidth.bind(de=>{const Ce=de.table;oe.trigger.beforeResize(Ce,"col");const Ve=$.delta(de.delta,Ce),mt=E(Ce);xr(Ce,Ve,de.column,y,mt),oe.trigger.afterResize(Ce,"col")}),{on:q.on,off:q.off,refreshBars:q.refresh,hideBars:q.hideBars,showBars:q.showBars,destroy:q.destroy,events:oe.registry}}},u1=m=>y=>y.options.get(m),zT="100%",VT=m=>{const y=m.dom,E=y.getParent(m.selection.getStart(),y.isBlock)??m.getBody();return Wa(An.fromDom(E))+"px"},jT=(m,y)=>m2(m)||!XC(m)?y:Ug(m)?{...y,width:VT(m)}:{...y,width:zT},UT=(m,y)=>m2(m)||XC(m)?y:Ug(m)?{...y,width:VT(m)}:{...y,width:zT},CB=m=>{const y=m.options.register;y("table_clone_elements",{processor:"string[]"}),y("table_use_colgroups",{processor:"boolean",default:!0}),y("table_header_type",{processor:E=>{const D=Vt(["section","cells","sectionCells","auto"],E);return D?{value:E,valid:D}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),y("table_sizing_mode",{processor:"string",default:"auto"}),y("table_default_attributes",{processor:"object",default:{border:"1"}}),y("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),y("table_column_resizing",{processor:E=>{const D=Vt(["preservetable","resizetable"],E);return D?{value:E,valid:D}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),y("table_resize_bars",{processor:"boolean",default:!0}),y("table_style_by_css",{processor:"boolean",default:!0}),y("table_merge_content_on_paste",{processor:"boolean",default:!0})},ZT=m=>Oe.from(m.options.get("table_clone_elements")),Ux=m=>{const y=m.options.get("object_resizing");return Vt(y.split(","),"table")},Zx=u1("table_header_type"),f2=u1("table_column_resizing"),Wx=m=>f2(m)==="preservetable",qx=m=>f2(m)==="resizetable",Vn=u1("table_sizing_mode"),d1=m=>Vn(m)==="relative",Ug=m=>Vn(m)==="fixed",m2=m=>Vn(m)==="responsive",WT=u1("table_resize_bars"),XC=u1("table_style_by_css"),QC=u1("table_merge_content_on_paste"),qT=m=>{const y=m.options,E=y.get("table_default_attributes");return y.isSet("table_default_attributes")?E:UT(m,E)},GT=m=>{const y=m.options,E=y.get("table_default_styles");return y.isSet("table_default_styles")?E:jT(m,E)},KT=u1("table_use_colgroups"),Gx=m=>An.fromDom(m.getBody()),pl=m=>y=>Ws(y,Gx(m)),th=m=>{Fs(m,"data-mce-style");const y=E=>Fs(E,"data-mce-style");ee(rf(m),y),ee(J1(m),y),ee(H0(m),y)},Kx=m=>An.fromDom(m.selection.getStart()),YT=m=>m.getBoundingClientRect().width,XT=m=>m.getBoundingClientRect().height,QT=m=>(y,E)=>{const D=y.dom.getStyle(E,m)||y.dom.getAttrib(E,m);return Oe.from(D).filter(us)},Yx=QT("width"),JC=QT("height"),JT=m=>/^(\d+(\.\d+)?)%$/.test(m),eA=m=>/^(\d+(\.\d+)?)px$/.test(m),h2=m=>$0(m,Kc("table")).exists(Rf),eS=m=>dl(m,"table"),Xx=(m,y,E)=>{const D=$=>q=>E!==void 0&&E(q)||Ws(q,$);return Ws(m,y)?Oe.some({boxes:Oe.some([m]),start:m,finish:y}):eS(m).bind($=>eS(y).bind(q=>{if(Ws($,q))return Oe.some({boxes:et($,m,y),start:m,finish:y});if(Af($,q)){const oe=ur(y,"td,th",D($)),de=oe.length>0?oe[oe.length-1]:y;return Oe.some({boxes:ft($,m,$,y,q),start:m,finish:de})}else if(Af(q,$)){const oe=ur(m,"td,th",D(q)),de=oe.length>0?oe[oe.length-1]:m;return Oe.some({boxes:ft(q,m,$,y,q),start:m,finish:de})}else return rd(m,y).shared.bind(oe=>ui(oe,"table",E).bind(de=>{const Ce=ur(y,"td,th",D(de)),Ve=Ce.length>0?Ce[Ce.length-1]:y,mt=ur(m,"td,th",D(de)),tn=mt.length>0?mt[mt.length-1]:m;return Oe.some({boxes:ft(de,m,$,y,q),start:tn,finish:Ve})}))}))},tS=(m,y)=>{const E=Td(m,y);return E.length>0?Oe.some(E):Oe.none()},pD=(m,y)=>X(m,E=>ji(E,y)),tA=(m,y,E)=>Sd(m,y).bind(D=>Sd(m,E).bind($=>Dr(eS,[D,$]).map(q=>({first:D,last:$,table:q})))),nA=(m,y)=>dl(m,"table").bind(E=>Sd(E,y).bind(D=>Xx(D,m).bind($=>$.boxes.map(q=>({boxes:q,start:$.start,finish:$.finish}))))),Qx=(m,y,E,D,$)=>pD(m,$).bind(q=>fi(q,y,E).bind(oe=>nA(oe,D))),Rb=(m,y)=>tS(m,y),oA=(m,y,E)=>tA(m,y,E).bind(D=>{const $=Ce=>Ws(m,Ce),q="thead,tfoot,tbody,table",oe=dl(D.first,q,$),de=dl(D.last,q,$);return oe.bind(Ce=>de.bind(Ve=>Ws(Ce,Ve)?zt(D.table,D.first,D.last):Oe.none()))}),sA=vt,Jx=m=>{const y=(D,$)=>ll(D,$).exists(q=>parseInt(q,10)>1),E=D=>y(D,"rowspan")||y(D,"colspan");return m.length>0&&Io(m,E)?Oe.some(m):Oe.none()},bD=(m,y,E)=>y.length<=1?Oe.none():oA(m,E.firstSelectedSelector,E.lastSelectedSelector).map(D=>({bounds:D,cells:y})),Nb={create:(m,y)=>({selection:m,kill:y})},nS=(m,y,E,D)=>{switch(m.tag){case"none":return y();case"single":return D(m.element);case"multiple":return E(m.elements)}},vD=()=>({tag:"none"}),xD=m=>({tag:"multiple",elements:m}),rA=m=>({tag:"single",element:m}),wD=(m,y,E)=>({get:()=>Rb(m(),E).fold(()=>y().fold(vD,rA),xD)}),ew={create:(m,y,E,D)=>({start:aa.on(m,y),finish:aa.on(E,D)})},sS=(m,y)=>{const E=fn(m,y);return of.create(An.fromDom(E.startContainer),E.startOffset,An.fromDom(E.endContainer),E.endOffset)},Zg=ew.create,aA=(m,y,E,D,$,q,oe)=>Ws(E,$)&&D===q?Oe.none():ui(E,"td,th",y).bind(de=>ui($,"td,th",y).bind(Ce=>tw(m,y,de,Ce,oe))),tw=(m,y,E,D,$)=>Ws(E,D)?Oe.none():Xx(E,D,y).bind(q=>{const oe=q.boxes.getOr([]);return oe.length>1?($(m,oe,q.start,q.finish),Oe.some(Nb.create(Oe.some(Zg(E,0,E,Ad(E))),!0))):Oe.none()}),CD=(m,y,E,D,$)=>{const q=oe=>($.clearBeforeUpdate(E),$.selectRange(E,oe.boxes,oe.start,oe.finish),oe.boxes);return Qx(D,m,y,$.firstSelectedSelector,$.lastSelectedSelector).map(q)},f1=Xs.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),SD=(m,y,E)=>{const D=m.getRect(y),$=m.getRect(E);return $.right>D.left&&$.left<D.right},ED=m=>ui(m,"tr"),Gy={...f1,verify:(m,y,E,D,$,q,oe)=>ui(D,"td,th",oe).bind(de=>ui(y,"td,th",oe).map(Ce=>Ws(de,Ce)?Ws(D,de)&&Ad(de)===$?q(Ce):f1.none("in same cell"):Dr(ED,[de,Ce]).fold(()=>SD(m,Ce,de)?f1.success():q(Ce),Ve=>q(Ce)))).getOr(f1.none("default")),cata:(m,y,E,D,$)=>m.fold(y,E,D,$)},g2=Kc("br"),rS=(m,y,E)=>y(m,E).bind(D=>em(D)&&_f(D).trim().length===0?rS(D,y,E):Oe.some(D)),TD=(m,y,E)=>E.traverse(y).orThunk(()=>rS(y,E.gather,m)).map(E.relative),AD=(m,y)=>Oc(m,y).filter(g2).orThunk(()=>Oc(m,y-1).filter(g2)),nw=(m,y,E,D)=>AD(y,E).bind($=>D.traverse($).fold(()=>rS($,D.gather,m).map(D.relative),q=>nu(q).map(oe=>aa.on(oe.parent,oe.index)))),iA=(m,y,E,D)=>(g2(y)?TD(m,y,D):nw(m,y,E,D)).map(q=>({start:q,finish:q})),lA=m=>Gy.cata(m,y=>Oe.none(),()=>Oe.none(),y=>Oe.some(If(y,0)),y=>Oe.some(If(y,Ad(y)))),p2=(m,y)=>({left:m.left,top:m.top+y,right:m.right,bottom:m.bottom+y}),ow=(m,y)=>({left:m.left,top:m.top-y,right:m.right,bottom:m.bottom-y}),aS=(m,y,E)=>({left:m.left+y,top:m.top+E,right:m.right+y,bottom:m.bottom+E}),b2=m=>m.top,iS=m=>m.bottom,kD=(m,y,E)=>E>=0&&E<Ad(y)?m.getRangedRect(y,E,y,E+1):E>0?m.getRangedRect(y,E-1,y,E):Oe.none(),y2=m=>({left:m.left,top:m.top,right:m.right,bottom:m.bottom}),cA=(m,y)=>Oe.some(m.getRect(y)),sw=(m,y,E)=>Ua(y)?cA(m,y).map(y2):em(y)?kD(m,y,E).map(y2):Oe.none(),rw=(m,y)=>Ua(y)?cA(m,y).map(y2):em(y)?m.getRangedRect(y,0,y,Ad(y)).map(y2):Oe.none(),Mb=5,DD=100,Wg=Xs.generate([{none:[]},{retry:["caret"]}]),_D=(m,y)=>m.left<y.left||Math.abs(y.right-m.left)<1||m.left>y.right,uA=(m,y,E)=>$0(y,pm).fold(mn,D=>rw(m,D).exists($=>_D(E,$))),OD=(m,y,E,D,$)=>{const q=p2($,Mb);return Math.abs(E.bottom-D.bottom)<1||E.top>$.bottom?Wg.retry(q):E.top===$.bottom?Wg.retry(p2($,1)):uA(m,y,$)?Wg.retry(aS(q,Mb,0)):Wg.none()},aw={point:b2,adjuster:(m,y,E,D,$)=>{const q=ow($,Mb);return Math.abs(E.top-D.top)<1||E.bottom<$.top?Wg.retry(q):E.bottom===$.top?Wg.retry(ow($,1)):uA(m,y,$)?Wg.retry(aS(q,Mb,0)):Wg.none()},move:ow,gather:Fx},RD={point:iS,adjuster:OD,move:p2,gather:Fd},ND=(m,y,E)=>m.elementFromPoint(y,E).filter(D=>Aa(D)==="table").isSome(),MD=(m,y,E,D,$)=>lS(m,y,E,y.move(D,Mb),$),lS=(m,y,E,D,$)=>$===0?Oe.some(D):ND(m,D.left,y.point(D))?MD(m,y,E,D,$-1):m.situsFromPoint(D.left,y.point(D)).bind(q=>q.start.fold(Oe.none,oe=>rw(m,oe).bind(de=>y.adjuster(m,oe,de,E,D).fold(Oe.none,Ce=>lS(m,y,E,Ce,$-1))).orThunk(()=>Oe.some(D)),Oe.none)),BD=(m,y,E)=>m.point(y)>E.getInnerHeight()?Oe.some(m.point(y)-E.getInnerHeight()):m.point(y)<0?Oe.some(-m.point(y)):Oe.none(),dA=(m,y,E)=>{const D=m.move(E,Mb),$=lS(y,m,E,D,DD).getOr(D);return BD(m,$,y).fold(()=>y.situsFromPoint($.left,m.point($)),q=>(y.scrollBy(0,q),y.situsFromPoint($.left,m.point($)-q)))},cS={tryUp:Qe(dA,aw),tryDown:Qe(dA,RD),getJumpSize:J(Mb)},LD=20,PD=(m,y,E)=>m.getSelection().bind(D=>iA(y,D.finish,D.foffset,E).fold(()=>Oe.some(If(D.finish,D.foffset)),$=>{const q=m.fromSitus($),oe=Gy.verify(m,D.finish,D.foffset,q.finish,q.foffset,E.failure,y);return lA(oe)})),uS=(m,y,E,D,$,q)=>q===0?Oe.none():v2(m,y,E,D,$).bind(oe=>{const de=m.fromSitus(oe),Ce=Gy.verify(m,E,D,de.finish,de.foffset,$.failure,y);return Gy.cata(Ce,()=>Oe.none(),()=>Oe.some(oe),Ve=>Ws(E,Ve)&&D===0?fA(m,E,D,ow,$):uS(m,y,Ve,0,$,q-1),Ve=>Ws(E,Ve)&&D===Ad(Ve)?fA(m,E,D,p2,$):uS(m,y,Ve,Ad(Ve),$,q-1))}),fA=(m,y,E,D,$)=>sw(m,y,E).bind(q=>lo(m,$,D(q,cS.getJumpSize()))),lo=(m,y,E)=>{const D=il().browser;return D.isChromium()||D.isSafari()||D.isFirefox()?y.retry(m,E):Oe.none()},v2=(m,y,E,D,$)=>sw(m,E,D).bind(q=>lo(m,$,q)),mA=(m,y,E)=>PD(m,y,E).bind(D=>uS(m,y,D.element,D.offset,E,LD).map(m.fromSitus)),FD=(m,y)=>kg(m,E=>De(E).exists(D=>Ws(D,y))),dS=(m,y,E,D,$)=>ui(D,"td,th",y).bind(q=>ui(q,"table",y).bind(oe=>FD($,oe)?mA(m,y,E).bind(de=>ui(de.finish,"td,th",y).map(Ce=>({start:q,finish:Ce,range:de}))):Oe.none())),x2=(m,y,E,D,$,q)=>q(D,y).orThunk(()=>dS(m,y,E,D,$).map(oe=>{const de=oe.range;return Nb.create(Oe.some(Zg(de.start,de.soffset,de.finish,de.foffset)),!0)})),iw=(m,y)=>ui(m,"tr",y).bind(E=>ui(E,"table",y).bind(D=>{const $=Td(D,"tr");return Ws(E,$[0])?Sc(D,q=>Da(q).isSome(),y).map(q=>{const oe=Ad(q);return Nb.create(Oe.some(Zg(q,oe,q,oe)),!0)}):Oe.none()})),w2=(m,y)=>ui(m,"tr",y).bind(E=>ui(E,"table",y).bind(D=>{const $=Td(D,"tr");return Ws(E,$[$.length-1])?$d(D,q=>kh(q).isSome(),y).map(q=>Nb.create(Oe.some(Zg(q,0,q,0)),!0)):Oe.none()})),Ky=(m,y,E,D,$,q,oe)=>dS(m,E,D,$,q).bind(de=>tw(y,E,de.start,de.finish,oe)),fS=(m,y)=>ui(m,"td,th",y),mS=m=>Yc(m).exists(Rf),hA=(m,y,E,D)=>{const $=tr(),q=$.clear,oe=mt=>{$.on(tn=>{D.clearBeforeUpdate(y),fS(mt.target,E).each(Fn=>{Xx(tn,Fn,E).each(Nn=>{const ro=Nn.boxes.getOr([]);if(ro.length===1){const It=ro[0],nn=rm(It)==="false",So=Jn(Ah(mt.target),It,Ws);nn&&So&&D.selectRange(y,ro,It,It)}else ro.length>1&&(D.selectRange(y,ro,Nn.start,Nn.finish),m.selectContents(Fn))})})})};return{clearstate:q,mousedown:mt=>{D.clear(y),fS(mt.target,E).filter(mS).each($.set)},mouseover:mt=>{oe(mt)},mouseup:mt=>{oe(mt),q()}}},hS={traverse:wh,gather:Fd,relative:aa.before,retry:cS.tryDown,failure:Gy.failedDown},gA={traverse:xh,gather:Fx,relative:aa.before,retry:cS.tryUp,failure:Gy.failedUp},Yy=m=>y=>y===m,r0=Yy(38),Xy=Yy(40),a0=m=>m>=37&&m<=40,i0={isBackward:Yy(37),isForward:Yy(39)},pA={isBackward:Yy(39),isForward:Yy(37)},C2=m=>({elementFromPoint:(nn,So)=>An.fromPoint(An.fromDom(m.document),nn,So),getRect:nn=>nn.dom.getBoundingClientRect(),getRangedRect:(nn,So,Qo,Kn)=>{const Sr=z.exact(nn,So,Qo,Kn);return Dh(m,Sr)},getSelection:()=>Fm(m).map(nn=>sS(m,nn)),fromSitus:nn=>{const So=z.relative(nn.start,nn.finish);return sS(m,So)},situsFromPoint:(nn,So)=>Ru(m,nn,So).map(Qo=>ew.create(Qo.start,Qo.soffset,Qo.finish,Qo.foffset)),clearSelection:()=>{_h(m)},collapseSelection:(nn=!1)=>{Fm(m).each(So=>So.fold(Qo=>Qo.collapse(nn),(Qo,Kn)=>{const Sr=nn?Qo:Kn;sf(m,Sr,Sr)},(Qo,Kn,Sr,Er)=>{const Wo=nn?Qo:Sr,Ji=nn?Kn:Er;Yu(m,Wo,Ji,Wo,Ji)}))},setSelection:nn=>{Yu(m,nn.start,nn.soffset,nn.finish,nn.foffset)},setRelativeSelection:(nn,So)=>{sf(m,nn,So)},selectNode:nn=>{am(m,nn,!1)},selectContents:nn=>{am(m,nn)},getInnerHeight:()=>m.innerHeight,getScrollY:()=>ws(An.fromDom(m.document)).top,scrollBy:(nn,So)=>{Gl(nn,So,An.fromDom(m.document))}}),nh=(m,y)=>({rows:m,cols:y}),bA=(m,y,E,D)=>{const $=C2(m),q=hA($,y,E,D);return{clearstate:q.clearstate,mousedown:q.mousedown,mouseover:q.mouseover,mouseup:q.mouseup}},yA=m=>$0(m,Z1).exists(Rf),gS=(m,y)=>yA(m)||yA(y),pS=(m,y,E,D)=>{const $=C2(m),q=()=>(D.clear(y),Oe.none());return{keydown:(Ce,Ve,mt,tn,Fn,Nn)=>{const ro=Ce.raw,It=ro.which,nn=ro.shiftKey===!0;return tS(y,D.selectedSelector).fold(()=>(a0(It)&&!nn&&D.clearBeforeUpdate(y),a0(It)&&nn&&!gS(Ve,tn)?Oe.none:Xy(It)&&nn?Qe(Ky,$,y,E,hS,tn,Ve,D.selectRange):r0(It)&&nn?Qe(Ky,$,y,E,gA,tn,Ve,D.selectRange):Xy(It)?Qe(x2,$,E,hS,tn,Ve,w2):r0(It)?Qe(x2,$,E,gA,tn,Ve,iw):Oe.none),Qo=>{const Kn=Sr=>()=>Rt(Sr,Wo=>CD(Wo.rows,Wo.cols,y,Qo,D)).fold(()=>tA(y,D.firstSelectedSelector,D.lastSelectedSelector).map(Wo=>{const Ji=Xy(It)||Nn.isForward(It)?aa.after:aa.before;return $.setRelativeSelection(aa.on(Wo.first,0),Ji(Wo.table)),D.clear(y),Nb.create(Oe.none(),!0)}),Wo=>Oe.some(Nb.create(Oe.none(),!0)));return a0(It)&&nn&&!gS(Ve,tn)?Oe.none:Xy(It)&&nn?Kn([nh(1,0)]):r0(It)&&nn?Kn([nh(-1,0)]):Nn.isBackward(It)&&nn?Kn([nh(0,-1),nh(-1,0)]):Nn.isForward(It)&&nn?Kn([nh(0,1),nh(1,0)]):a0(It)&&!nn?q:Oe.none})()},keyup:(Ce,Ve,mt,tn,Fn)=>tS(y,D.selectedSelector).fold(()=>{const Nn=Ce.raw,ro=Nn.which;return Nn.shiftKey===!0&&a0(ro)&&gS(Ve,tn)?aA(y,E,Ve,mt,tn,Fn,D.selectRange):Oe.none()},Oe.none)}},vA=(m,y,E,D)=>{const $=C2(m);return(q,oe)=>{D.clearBeforeUpdate(y),Xx(q,oe,E).each(de=>{const Ce=de.boxes.getOr([]);D.selectRange(y,Ce,de.start,de.finish),$.selectContents(oe),$.collapseSelection()})}},wA={byClass:m=>{const y=Tg(m.selected),E=Ag([m.selected,m.lastSelected,m.firstSelected]),D=q=>{const oe=Td(q,m.selectedSelector);ee(oe,E)};return{clearBeforeUpdate:D,clear:D,selectRange:(q,oe,de,Ce)=>{D(q),ee(oe,y),Ed(de,m.firstSelected),Ed(Ce,m.lastSelected)},selectedSelector:m.selectedSelector,firstSelectedSelector:m.firstSelectedSelector,lastSelectedSelector:m.lastSelectedSelector}},byAttr:(m,y,E)=>{const D=Ce=>{Fs(Ce,m.selected),Fs(Ce,m.firstSelected),Fs(Ce,m.lastSelected)},$=Ce=>{si(Ce,m.selected,"1")},q=Ce=>{oe(Ce),E()},oe=Ce=>{const Ve=Td(Ce,`${m.selectedSelector},${m.firstSelectedSelector},${m.lastSelectedSelector}`);ee(Ve,D)};return{clearBeforeUpdate:oe,clear:q,selectRange:(Ce,Ve,mt,tn)=>{q(Ce),ee(Ve,$),si(mt,m.firstSelected,"1"),si(tn,m.lastSelected,"1"),y(Ve,mt,tn)},selectedSelector:m.selectedSelector,firstSelectedSelector:m.firstSelectedSelector,lastSelectedSelector:m.lastSelectedSelector}}},Bb="data-mce-selected",bS="td["+Bb+"],th["+Bb+"]",CA="["+Bb+"]",yS="data-mce-first-selected",vS="td["+yS+"],th["+yS+"]",xS="data-mce-last-selected",ID="td["+xS+"],th["+xS+"]",Lb=CA,Pb={selected:Bb,selectedSelector:bS,firstSelected:yS,firstSelectedSelector:vS,lastSelected:xS,lastSelectedSelector:ID},lw=(m,y,E)=>({element:E,mergable:bD(y,m,Pb),unmergable:Jx(m),selection:sA(m)}),cw=(m,y,E)=>({element:m,clipboard:y,generators:E}),SA=(m,y,E,D)=>({selection:sA(m),clipboard:E,generators:D}),HD=m=>su(m).bind(y=>Rb(y,Pb.firstSelectedSelector)).fold(J(m),y=>y[0]),EA=m=>(y,E)=>{const D=Aa(y),$=D==="col"||D==="colgroup"?HD(y):y;return ui($,m,E)},zo=EA("th,td,caption"),uw=EA("th,td"),Uf=m=>ra(m.model.table.getSelectedCells()),S2=m=>je(Uf(m),y=>ji(y,Pb.selectedSelector)),zD=m=>su(m[0]).map(y=>{const E=Ip(y,Lb);return th(E),[E]}),dw=(m,y)=>cn(y,E=>m.selection.serializer.serialize(E.dom,{})).join(""),VD=(m,y)=>{const E=m.getDoc(),D=vp(An.fromDom(m.getBody())),$=An.fromTag("div",E);si($,"data-mce-bogus","all"),cr($,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const q=Tu(D);Au($,y),xs(q,$);const oe=$.dom.innerText;return Wi($),oe},wS=(m,y)=>{m.on("BeforeGetContent",E=>{const D=$=>{E.preventDefault(),zD($).each(q=>{const oe=E.format==="text"?VD(m,q):dw(m,q);E.content=oe})};if(E.selection===!0){const $=S2(m);$.length>=1&&D($)}}),m.on("BeforeSetContent",E=>{if(E.selection===!0&&E.paste===!0){const D=Uf(m);Be(D).each($=>{su($).each(q=>{const oe=je(wp(E.content),Ce=>Aa(Ce)!=="meta"),de=Kc("table");if(QC(m)&&oe.length===1&&de(oe[0])){E.preventDefault();const Ce=An.fromDom(m.getDoc()),Ve=Wv(Ce),mt=cw($,oe[0],Ve);y.pasteCells(q,mt).each(()=>{m.focus()})}})})}})},CS=(m,y)=>m.dispatch("NewRow",{node:y}),E2=(m,y)=>m.dispatch("NewCell",{node:y}),Kh=(m,y,E)=>{m.dispatch("TableModified",{...E,table:y})},Qy=(m,y,E,D,$)=>{m.dispatch("TableSelectionChange",{cells:y,start:E,finish:D,otherCells:$})},jD=m=>{m.dispatch("TableSelectionClear")},Fb=(m,y,E,D,$)=>{m.dispatch("ObjectResizeStart",{target:y,width:E,height:D,origin:$})},T2=(m,y,E,D,$)=>{m.dispatch("ObjectResized",{target:y,width:E,height:D,origin:$})},fw={structure:!1,style:!0},Hl={structure:!0,style:!1},UD={structure:!0,style:!0},SS=(m,y)=>d1(m)?ml.percentageSize(y):Ug(m)?ml.pixelSize(y):ml.getTableSize(y),m1=(m,y,E)=>{const D=$c=>Aa(Gx($c))==="table",$=$c=>!D(m)||t1($c).rows>1,q=$c=>!D(m)||t1($c).columns>1,oe=ZT(m),de=qx(m)?ve:Ff,Ce=$c=>{switch(Zx(m)){case"section":return lm.section();case"sectionCells":return lm.sectionCells();case"cells":return lm.cells();default:return lm.getTableSectionType($c,"section")}},Ve=($c,xw)=>xw.cursor.fold(()=>{const _2=rf($c);return Be(_2).filter(uo).map(c0=>{E.clearSelectedCells($c.dom);const Iu=m.dom.createRng();return Iu.selectNode(c0.dom),m.selection.setRng(Iu),si(c0,"data-mce-selected","1"),Iu})},_2=>{const c0=uf(_2),Iu=m.dom.createRng();return Iu.setStart(c0.element.dom,c0.offset),Iu.setEnd(c0.element.dom,c0.offset),m.selection.setRng(Iu),E.clearSelectedCells($c.dom),Oe.some(Iu)}),mt=($c,xw,_2,c0)=>(Iu,YD,RA=!1)=>{th(Iu);const eo=An.fromDom(m.getDoc()),Vd=Gm(_2,eo,oe),XD={sizing:SS(m,Iu),resize:qx(m)?Tp():Cx(),section:Ce(Iu)};return xw(Iu)?$c(Iu,YD,Vd,XD).bind(ww=>{y.refresh(Iu.dom),ee(ww.newRows,Ib=>{CS(m,Ib.dom)}),ee(ww.newCells,Ib=>{E2(m,Ib.dom)});const NA=Ve(Iu,ww);return uo(Iu)&&(th(Iu),RA||Kh(m,Iu.dom,c0)),NA.map(Ib=>({rng:Ib,effect:c0}))}):Oe.none()},tn=mt(r2,$,ve,Hl),Fn=mt(mf,q,ve,Hl),Nn=mt(xm,qe,ve,Hl),ro=mt(jC,qe,ve,Hl),It=mt(t0,qe,de,Hl),nn=mt(Lr,qe,de,Hl),So=mt(zx,qe,ve,Hl),Qo=mt(a2,qe,ve,Hl),Kn=mt(a,qe,ve,Hl),Sr=mt(u,qe,ve,Hl),Er=mt(g,qe,ve,Hl),Wo=mt(C,qe,ve,Hl),Ji=mt(Ob,qe,ve,UD),Cm=mt(Uy,qe,ve,Hl),l0=mt(Zy,qe,ve,Hl),p1=mt(wm,qe,ve,Hl),$b=mt(zd,qe,ve,Hl),Vr=mt(sc,qe,ve,Hl),ud=mt(n0,qe,ve,Hl),xi=mt(jy,qe,ve,Hl);return{deleteRow:tn,deleteColumn:Fn,insertRowsBefore:Nn,insertRowsAfter:ro,insertColumnsBefore:It,insertColumnsAfter:nn,mergeCells:So,unmergeCells:Qo,pasteColsBefore:Kn,pasteColsAfter:Sr,pasteRowsBefore:Er,pasteRowsAfter:Wo,pasteCells:Ji,makeCellsHeader:Cm,unmakeCellsHeader:l0,makeColumnsHeader:p1,unmakeColumnsHeader:$b,makeRowsHeader:Vr,makeRowsBody:ud,makeRowsFooter:xi,getTableRowType:re,getTableCellType:F,getTableColType:R}},qg=(m,y)=>{m.selection.select(y.dom,!0),m.selection.collapse(!0)},ES=(m,y)=>{Sd(y,"td,th").each(Qe(qg,m))},TA=(m,y)=>{ee(Td(y,"tr"),E=>{CS(m,E.dom),ee(Td(E,"th,td"),D=>{E2(m,D.dom)})})},ZD=m=>O(m)&&m.indexOf("%")!==-1,mw=(m,y,E,D,$)=>{const q=GT(m),oe={styles:q,attributes:qT(m),colGroups:KT(m)};return m.undoManager.ignore(()=>{const de=Jm(E,y,$,D,Zx(m),oe);si(de,"data-mce-id","__mce");const Ce=Eh(de);m.insertContent(Ce),m.addVisual()}),Sd(Gx(m),'table[data-mce-id="__mce"]').map(de=>(Ug(m)?Qa(de):m2(m)?Xi(de):(d1(m)||ZD(q.width))&&Ig(de),th(de),Fs(de,"data-mce-id"),TA(m,de),ES(m,de),de.dom)).getOrNull()},A2=(m,y,E,D={})=>{const $=q=>$e(q)&&q>0;if($(y)&&$(E)){const q=D.headerRows||0,oe=D.headerColumns||0;return mw(m,E,y,oe,q)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var h1=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const hw="x-tinymce/dom-table-",gw=hw+"rows",g1=hw+"columns",k2=m=>{const y=h1.FakeClipboardItem(m);h1.write([y])},TS=m=>{const y=h1.read()??[];return Rt(y,E=>Oe.from(E.getType(m)))},pw=m=>{TS(m).isSome()&&h1.clear()},Yh=m=>{m.fold(Gg,y=>k2({[gw]:y}))},AA=()=>TS(gw),Gg=()=>pw(gw),AS=m=>{m.fold(Jy,y=>k2({[g1]:y}))},bw=()=>TS(g1),Jy=()=>pw(g1),D2=m=>zo(Kx(m),pl(m)).filter(h2),yw=m=>uw(Kx(m),pl(m)).filter(h2),WD=(m,y)=>{const E=pl(m),D=()=>D2(m).each(nn=>{su(nn,E).filter(ie(E)).each(So=>{const Qo=An.fromText("");if(xd(So,Qo),Wi(So),m.dom.isEmpty(m.getBody()))m.setContent(""),m.selection.setCursorLocation();else{const Kn=m.dom.createRng();Kn.setStart(Qo.dom,0),Kn.setEnd(Qo.dom,0),m.selection.setRng(Kn),m.nodeChanged()}})}),$=nn=>D2(m).each(So=>{m2(m)||Ug(m)||d1(m)||su(So,E).each(Kn=>{nn==="relative"&&!gb(Kn)?Ig(Kn):nn==="fixed"&&!Bx(Kn)?Qa(Kn):nn==="responsive"&&!Lx(Kn)&&Xi(Kn),th(Kn),Kh(m,Kn.dom,Hl)})}),q=nn=>su(nn,E),oe=nn=>yw(m).bind(So=>q(So).map(Qo=>nn(Qo,So))),de=(nn,So)=>{oe(Qo=>{m.formatter.toggle("tableclass",{value:So},Qo.dom),Kh(m,Qo.dom,fw)})},Ce=(nn,So)=>{oe(Qo=>{const Kn=Uf(m),Er=Io(Kn,Wo=>m.formatter.match("tablecellclass",{value:So},Wo.dom))?m.formatter.remove:m.formatter.apply;ee(Kn,Wo=>Er("tablecellclass",{value:So},Wo.dom)),Kh(m,Qo.dom,fw)})},Ve=()=>{D2(m).each(nn=>{su(nn,E).each(So=>{ka(So,"caption").fold(()=>{const Qo=An.fromTag("caption");xs(Qo,An.fromText("Caption")),F0(So,Qo,0),m.selection.setCursorLocation(Qo.dom,0)},Qo=>{Kc("caption")(nn)&&fc("td",So).each(Kn=>m.selection.setCursorLocation(Kn.dom,0)),Wi(Qo)}),Kh(m,So.dom,Hl)})})},mt=nn=>{m.focus()},tn=(nn,So=!1)=>oe((Qo,Kn)=>{const Sr=lw(Uf(m),Qo,Kn);nn(Qo,Sr,So).each(mt)}),Fn=()=>oe((nn,So)=>{const Qo=lw(Uf(m),nn,So),Kn=Gm(ve,An.fromDom(m.getDoc()),Oe.none());return wc(nn,Qo,Kn)}),Nn=()=>oe((nn,So)=>{const Qo=lw(Uf(m),nn,So);return Lc(nn,Qo)}),ro=(nn,So)=>So().each(Qo=>{const Kn=cn(Qo,Sr=>ri(Sr));oe((Sr,Er)=>{const Wo=Wv(An.fromDom(m.getDoc())),Ji=SA(Uf(m),Er,Kn,Wo);nn(Sr,Ji).each(mt)})}),It=nn=>(So,Qo)=>mr(Qo,"type").each(Kn=>{tn(nn(Kn),Qo.no_events)});Dt({mceTableSplitCells:()=>tn(y.unmergeCells),mceTableMergeCells:()=>tn(y.mergeCells),mceTableInsertRowBefore:()=>tn(y.insertRowsBefore),mceTableInsertRowAfter:()=>tn(y.insertRowsAfter),mceTableInsertColBefore:()=>tn(y.insertColumnsBefore),mceTableInsertColAfter:()=>tn(y.insertColumnsAfter),mceTableDeleteCol:()=>tn(y.deleteColumn),mceTableDeleteRow:()=>tn(y.deleteRow),mceTableCutCol:()=>Nn().each(nn=>{AS(nn),tn(y.deleteColumn)}),mceTableCutRow:()=>Fn().each(nn=>{Yh(nn),tn(y.deleteRow)}),mceTableCopyCol:()=>Nn().each(nn=>AS(nn)),mceTableCopyRow:()=>Fn().each(nn=>Yh(nn)),mceTablePasteColBefore:()=>ro(y.pasteColsBefore,bw),mceTablePasteColAfter:()=>ro(y.pasteColsAfter,bw),mceTablePasteRowBefore:()=>ro(y.pasteRowsBefore,AA),mceTablePasteRowAfter:()=>ro(y.pasteRowsAfter,AA),mceTableDelete:D,mceTableCellToggleClass:Ce,mceTableToggleClass:de,mceTableToggleCaption:Ve,mceTableSizingMode:(nn,So)=>$(So),mceTableCellType:It(nn=>nn==="th"?y.makeCellsHeader:y.unmakeCellsHeader),mceTableColType:It(nn=>nn==="th"?y.makeColumnsHeader:y.unmakeColumnsHeader),mceTableRowType:It(nn=>{switch(nn){case"header":return y.makeRowsHeader;case"footer":return y.makeRowsFooter;default:return y.makeRowsBody}})},(nn,So)=>m.addCommand(So,nn)),m.addCommand("mceInsertTable",(nn,So)=>{A2(m,So.rows,So.columns,So.options)}),m.addCommand("mceTableApplyCellStyle",(nn,So)=>{const Qo=Er=>"tablecell"+Er.toLowerCase().replace("-","");if(!H(So))return;const Kn=je(Uf(m),h2);if(Kn.length===0)return;const Sr=Xo(So,(Er,Wo)=>m.formatter.has(Qo(Wo))&&O(Er));Vs(Sr)||(Dt(Sr,(Er,Wo)=>{const Ji=Qo(Wo);ee(Kn,Cm=>{Er===""?m.formatter.remove(Ji,{value:null},Cm.dom,!0):m.formatter.apply(Ji,{value:Er},Cm.dom)})}),q(Kn[0]).each(Er=>Kh(m,Er.dom,fw)))})},kA=(m,y)=>{const E=pl(m),D=$=>uw(Kx(m)).bind(q=>su(q,E).map(oe=>{const de=lw(Uf(m),oe,q);return $(oe,de)})).getOr("");Dt({mceTableRowType:()=>D(y.getTableRowType),mceTableCellType:()=>D(y.getTableCellType),mceTableColType:()=>D(y.getTableColType)},($,q)=>m.addQueryValueHandler(q,$))},vw=m=>!gc(An.fromDom(m.target),"ephox-snooker-resizer-bar"),qD=(m,y)=>{const E=wD(()=>An.fromDom(m.getBody()),()=>uw(Kx(m),pl(m)),Pb.selectedSelector),D=(Ce,Ve,mt)=>{su(Ve).each(Fn=>{const Nn=cn(Ce,Qo=>Qo.dom),ro=ZT(m),It=Gm(ve,An.fromDom(m.getDoc()),ro),nn=Uf(m),So=Vp(Fn,{selection:nn},It).map(Qo=>Le(Qo,Kn=>cn(Kn,Sr=>Sr.dom))).getOrUndefined();Qy(m,Nn,Ve.dom,mt.dom,So)})},$=()=>jD(m),q=wA.byAttr(Pb,D,$);return m.on("init",Ce=>{const Ve=m.getWin(),mt=Gx(m),tn=pl(m),Fn=()=>{const Vr=m.selection,ud=An.fromDom(Vr.getStart()),xi=An.fromDom(Vr.getEnd());Dr(su,[ud,xi]).fold(()=>q.clear(mt),ve)},Nn=bA(Ve,mt,tn,q),ro=pS(Ve,mt,tn,q),It=vA(Ve,mt,tn,q),nn=Vr=>Vr.raw.shiftKey===!0;m.on("TableSelectorChange",Vr=>It(Vr.start,Vr.finish));const So=(Vr,ud)=>{nn(Vr)&&(ud.kill&&Vr.kill(),ud.selection.each(xi=>{const Qh=z.relative(xi.start,xi.finish),$u=fn(Ve,Qh);m.selection.setRng($u)}))},Qo=Vr=>{const ud=Ti(Vr);if(ud.raw.shiftKey&&a0(ud.raw.which)){const xi=m.selection.getRng(),Qh=An.fromDom(xi.startContainer),$u=An.fromDom(xi.endContainer);ro.keyup(ud,Qh,xi.startOffset,$u,xi.endOffset).each(Wf=>{So(ud,Wf)})}},Kn=Vr=>{const ud=Ti(Vr);y.hide();const xi=m.selection.getRng(),Qh=An.fromDom(xi.startContainer),$u=An.fromDom(xi.endContainer),Wf=Of(i0,pA)(An.fromDom(m.selection.getStart()));ro.keydown(ud,Qh,xi.startOffset,$u,xi.endOffset,Wf).each($c=>{So(ud,$c)}),y.show()},Sr=Vr=>Vr.button===0,Er=Vr=>Vr.buttons===void 0?!0:(Vr.buttons&1)!==0,Wo=Vr=>{Nn.clearstate()},Ji=Vr=>{Sr(Vr)&&vw(Vr)&&Nn.mousedown(Ti(Vr))},Cm=Vr=>{Er(Vr)&&vw(Vr)&&Nn.mouseover(Ti(Vr))},l0=Vr=>{Sr(Vr)&&vw(Vr)&&Nn.mouseup(Ti(Vr))},$b=(()=>{const Vr=gs(An.fromDom(mt)),ud=gs(0);return{touchEnd:Qh=>{const $u=An.fromDom(Qh.target);if(Kc("td")($u)||Kc("th")($u)){const Wf=Vr.get(),$c=ud.get();Ws(Wf,$u)&&Qh.timeStamp-$c<300&&(Qh.preventDefault(),It($u,$u))}Vr.set($u),ud.set(Qh.timeStamp)}}})();m.on("dragstart",Wo),m.on("mousedown",Ji),m.on("mouseover",Cm),m.on("mouseup",l0),m.on("touchend",$b.touchEnd),m.on("keyup",Qo),m.on("keydown",Kn),m.on("NodeChange",Fn)}),m.on("PreInit",()=>{m.serializer.addTempAttr(Pb.firstSelected),m.serializer.addTempAttr(Pb.lastSelected)}),{getSelectedCells:()=>nS(E.get(),J([]),Ce=>cn(Ce,Ve=>Ve.dom),Ce=>[Ce.dom]),clearSelectedCells:Ce=>q.clear(An.fromDom(Ce))}},kS=(m,y)=>{const E=An.fromDom(m.getBody());return od.body(E,y)},Xh=m=>we(m)&&m.nodeName==="TABLE",DS="bar-",GD=m=>Qc(m,"data-mce-resize")!=="false",DA=m=>{const y=ns.fromTable(m);ns.hasColumns(y)||ee(rf(m),E=>{const D=Rc(E,"width");$a(E,"width",D),Fs(E,"width")})},_A=m=>gn(m,"corner-"),OA=m=>ze(m,"corner-"),KD=m=>{const y=tr(),E=tr(),D=tr();let $,q,oe,de;const Ce=Kn=>SS(m,Kn),Ve=()=>Wx(m)?Cx():Tp(),mt=Kn=>t1(Kn).columns,tn=Kn=>t1(Kn).rows,Fn=(Kn,Sr,Er,Wo)=>{const Ji=OA(Sr),Cm=To(Ji,"e"),l0=gn(Ji,"n");if(q===""&&Ig(Kn),de===""&&mu(Kn),Er!==$&&q!==""){$a(Kn,"width",q);const p1=Ve(),$b=Ce(Kn),Vr=Wx(m)||Cm?mt(Kn)-1:0;xr(Kn,Er-$,Vr,p1,$b)}else if(JT(q)){const p1=parseFloat(q.replace("%","")),$b=Er*p1/$;$a(Kn,"width",$b+"%")}if(eA(q)&&DA(Kn),Wo!==oe&&de!==""){$a(Kn,"height",de);const p1=l0?0:tn(Kn)-1;Rr(Kn,Wo-oe,p1)}},Nn=()=>{E.on(Kn=>{Kn.destroy()})};m.on("init",()=>{const Kn=kS(m,GD);if(D.set(Kn),Ux(m)&&WT(m)){const Sr=Ve(),Er=YC.create(Kn,Sr,Ce);m.mode.isReadOnly()||Er.on(),Er.events.startDrag.bind(Wo=>{y.set(m.selection.getRng())}),Er.events.beforeResize.bind(Wo=>{const Ji=Wo.table.dom;Fb(m,Ji,YT(Ji),XT(Ji),DS+Wo.type)}),Er.events.afterResize.bind(Wo=>{const Ji=Wo.table,Cm=Ji.dom;th(Ji),y.on(l0=>{m.selection.setRng(l0),m.focus()}),T2(m,Cm,YT(Cm),XT(Cm),DS+Wo.type),m.undoManager.add()}),E.set(Er)}}),m.on("ObjectResizeStart",Kn=>{const Sr=Kn.target;if(Xh(Sr)&&!m.mode.isReadOnly()){const Er=An.fromDom(Sr);ee(m.dom.select(".mce-clonedresizable"),Wo=>{m.dom.addClass(Wo,"mce-"+f2(m)+"-columns")}),!Bx(Er)&&Ug(m)?Qa(Er):!gb(Er)&&d1(m)&&Ig(Er),Lx(Er)&&gn(Kn.origin,DS)&&Ig(Er),$=Kn.width,q=m2(m)?"":Yx(m,Sr).getOr(""),oe=Kn.height,de=JC(m,Sr).getOr("")}}),m.on("ObjectResized",Kn=>{const Sr=Kn.target;if(Xh(Sr)){const Er=An.fromDom(Sr),Wo=Kn.origin;_A(Wo)&&Fn(Er,Wo,Kn.width,Kn.height),th(Er),Kh(m,Er.dom,fw)}});const ro=()=>{E.on(Kn=>{Kn.on(),Kn.showBars()})},It=()=>{E.on(Kn=>{Kn.off(),Kn.hideBars()})};return m.on("DisabledStateChange",Kn=>{Kn.state?It():ro()}),m.on("SwitchMode",()=>{m.mode.isReadOnly()?It():ro()}),m.on("dragstart dragend",Kn=>{Kn.type==="dragstart"?It():ro()}),m.on("remove",()=>{Nn()}),{refresh:Kn=>{E.on(Sr=>Sr.refreshBars(An.fromDom(Kn)))},hide:()=>{E.on(Kn=>Kn.hideBars())},show:()=>{E.on(Kn=>Kn.showBars())}}},Na=m=>{CB(m);const y=KD(m),E=qD(m,y),D=m1(m,y,E);return WD(m,D),kA(m,D),wS(m,D),{getSelectedCells:E.getSelectedCells,clearSelectedCells:E.clearSelectedCells}},Zf=m=>({table:Na(m)});var ev=()=>{c.add("dom",Zf)};ev()})()),zre}var jre;function t2e(){return jre||(jre=1,e2e()),Hre}t2e();var Ure={},Zre={},Wre;function n2e(){return Wre||(Wre=1,(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const d=(ee,Me,wt)=>{const je=Me==="UL"?"InsertUnorderedList":"InsertOrderedList";ee.execCommand(je,!1,wt===!1?null:{"list-style-type":wt})},p=ee=>{ee.addCommand("ApplyUnorderedListStyle",(Me,wt)=>{d(ee,"UL",wt["list-style-type"])}),ee.addCommand("ApplyOrderedListStyle",(Me,wt)=>{d(ee,"OL",wt["list-style-type"])})},x=ee=>Me=>Me.options.get(ee),A=ee=>{const Me=ee.options.register;Me("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),Me("advlist_bullet_styles",{processor:"string[]",default:"default,disc,circle,square".split(",")})},N=x("advlist_number_styles"),O=x("advlist_bullet_styles"),H=ee=>ee==null,U=ee=>!H(ee);class V{tag;value;static singletonNone=new V(!1);constructor(Me,wt){this.tag=Me,this.value=wt}static some(Me){return new V(!0,Me)}static none(){return V.singletonNone}fold(Me,wt){return this.tag?wt(this.value):Me()}isSome(){return this.tag}isNone(){return!this.tag}map(Me){return this.tag?V.some(Me(this.value)):V.none()}bind(Me){return this.tag?Me(this.value):V.none()}exists(Me){return this.tag&&Me(this.value)}forall(Me){return!this.tag||Me(this.value)}filter(Me){return!this.tag||Me(this.value)?this:V.none()}getOr(Me){return this.tag?this.value:Me}or(Me){return this.tag?this:Me}getOrThunk(Me){return this.tag?this.value:Me()}orThunk(Me){return this.tag?this:Me()}getOrDie(Me){if(this.tag)return this.value;throw new Error(Me??"Called getOrDie on None")}static from(Me){return U(Me)?V.some(Me):V.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Me){this.tag&&Me(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Y=Array.prototype.indexOf,ne=(ee,Me)=>Y.call(ee,Me),ue=(ee,Me)=>ne(ee,Me)>-1,we=(ee,Me,wt)=>{for(let je=0,Bt=ee.length;je<Bt;je++){const Ze=ee[je];if(Me(Ze,je))return V.some(Ze);if(wt(Ze,je))break}return V.none()},Ee=Object.keys,$e=(ee,Me)=>{const wt=Ee(ee);for(let je=0,Bt=wt.length;je<Bt;je++){const Ze=wt[je],bt=ee[Ze];Me(bt,Ze)}},ve=(ee,Me)=>ct(ee,(wt,je)=>({k:je,v:Me(wt,je)})),ct=(ee,Me)=>{const wt={};return $e(ee,(je,Bt)=>{const Ze=Me(je,Bt);wt[Ze.k]=Ze.v}),wt};var Ue=tinymce.util.Tools.resolve("tinymce.util.Tools");const J=ee=>/\btox\-/.test(ee.className),vt=(ee,Me)=>ee.dom.isChildOf(Me,ee.getBody()),en=ee=>Me=>U(Me)&&ee.test(Me.nodeName),Qe=en(/^(OL|UL|DL)$/),ie=en(/^(TH|TD)$/),it=(ee,Me,wt)=>we(Me,je=>Qe(je)&&!J(je),ie).exists(je=>je.nodeName===wt&&vt(ee,je)),Tn=ee=>{const Me=ee.dom.getParent(ee.selection.getNode(),"ol,ul"),wt=ee.dom.getStyle(Me,"listStyleType");return V.from(wt)},mn=(ee,Me)=>Me!==null&&!ee.dom.isEditable(Me),qe=(ee,Me)=>{const wt=ee.dom.getParent(Me,"ol,ul,dl");return mn(ee,wt)||!ee.selection.isEditable()},Oe=(ee,Me)=>{const wt=ee.selection.getNode();return Me({parents:ee.dom.getParents(wt),element:wt}),ee.on("NodeChange",Me),()=>ee.off("NodeChange",Me)},Yo=ee=>ee.replace(/\-/g," ").replace(/\b\w/g,Me=>Me.toUpperCase()),pt=ee=>H(ee)||ee==="default"?"":ee,Pt=(ee,Me)=>wt=>{const je=(Ze,bt)=>{const X=Ze.selection.getStart(!0);wt.setActive(it(Ze,bt,Me)),wt.setEnabled(!qe(Ze,X))};return Oe(ee,Ze=>je(ee,Ze.parents))},P=(ee,Me,wt,je,Bt,Ze)=>{const bt={"lower-latin":"lower-alpha","upper-latin":"upper-alpha","lower-alpha":"lower-latin","upper-alpha":"upper-latin"},X=ve(bt,jo=>ue(Ze,jo));ee.ui.registry.addSplitButton(Me,{tooltip:wt,chevronTooltip:wt,icon:Bt==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:Bt==="OL"?3:4,fetch:jo=>{const vo=Ue.map(Ze,Mo=>{const Io=Bt==="OL"?"num":"bull",zs=Mo==="decimal"?"default":Mo,Ne=pt(Mo),Ge=Yo(Mo);return{type:"choiceitem",value:Ne,icon:"list-"+Io+"-"+zs,text:Ge}});jo(vo)},onAction:()=>ee.execCommand(je),onItemAction:(jo,vo)=>{d(ee,Bt,vo)},select:jo=>Tn(ee).exists(Mo=>jo===Mo||bt[Mo]===jo&&!X[jo]),onSetup:Pt(ee,Bt)})},Vt=(ee,Me,wt,je,Bt,Ze)=>{ee.ui.registry.addToggleButton(Me,{active:!1,tooltip:wt,icon:Bt==="OL"?"ordered-list":"unordered-list",onSetup:Pt(ee,Bt),onAction:()=>ee.queryCommandState(je)||Ze===""?ee.execCommand(je):d(ee,Bt,Ze)})},at=(ee,Me,wt,je,Bt,Ze)=>{Ze.length>1?P(ee,Me,wt,je,Bt,Ze):Vt(ee,Me,wt,je,Bt,pt(Ze[0]))},Qn=ee=>{at(ee,"numlist","Numbered list","InsertOrderedList","OL",N(ee)),at(ee,"bullist","Bullet list","InsertUnorderedList","UL",O(ee))};var cn=()=>{c.add("advlist",ee=>{ee.hasPlugin("lists")?(A(ee),Qn(ee),p(ee)):console.error("Please use the Lists plugin together with the List Styles plugin.")})};cn()})()),Zre}var qre;function o2e(){return qre||(qre=1,n2e()),Ure}o2e();var Gre={},Kre={},Yre;function s2e(){return Yre||(Yre=1,(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const d=(je,Bt,Ze)=>Ze(je,Bt.prototype)?!0:je.constructor?.name===Bt.name,p=je=>{const Bt=typeof je;return je===null?"null":Bt==="object"&&Array.isArray(je)?"array":Bt==="object"&&d(je,String,(Ze,bt)=>bt.isPrototypeOf(Ze))?"string":Bt},x=je=>Bt=>p(Bt)===je,A=je=>Bt=>je===Bt,N=x("string"),O=A(void 0),H=je=>je==null,U=je=>!H(je),V=je=>Bt=>!je(Bt),Y=Object.hasOwnProperty,ne=(je,Bt)=>Y.call(je,Bt),ue=(je,Bt,Ze)=>je.length>=Bt.length&&je.substr(Ze,Ze+Bt.length)===Bt,we=(je,Bt,Ze=0,bt)=>{const X=je.indexOf(Bt,Ze);return X!==-1?O(bt)?!0:X+Bt.length<=bt:!1},Ee=(je,Bt)=>ue(je,Bt,0),$e="\uFEFF",ve=je=>je===$e,ct=je=>je.replace(/\uFEFF/g,""),Ue=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,J=je=>Bt=>Bt.options.get(je),vt=je=>{const Bt=je.options.register;Bt("autolink_pattern",{processor:"regexp",default:new RegExp("^"+Ue().source+"$","i")}),Bt("link_default_target",{processor:"string"}),Bt("link_default_protocol",{processor:"string",default:"https"})},en=J("autolink_pattern"),Qe=J("link_default_target"),ie=J("link_default_protocol"),it=J("allow_unsafe_link_target");var Tn=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const mn=je=>je.nodeType===3,qe=je=>je.nodeType===1,Oe=je=>/^[(\[{ \u00a0]$/.test(je),Yo=je=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(je),pt=je=>/[?!,.;:]/.test(je),Pt=(je,Bt,Ze)=>{for(let bt=Bt-1;bt>=0;bt--){const X=je.charAt(bt);if(!ve(X)&&Ze(X))return bt}return-1},P=(je,Bt)=>{let Ze=je,bt=Bt;for(;qe(Ze)&&Ze.childNodes[bt];)Ze=Ze.childNodes[bt],bt=mn(Ze)?Ze.data.length:Ze.childNodes.length;return{container:Ze,offset:bt}},Vt=(je,Bt)=>{const Ze=je.schema.getVoidElements(),bt=en(je),{dom:X,selection:jo}=je;if(X.getParent(jo.getNode(),"a[href]")!==null||je.mode.isReadOnly())return null;const vo=jo.getRng(),Mo=Tn(X,Un=>X.isBlock(Un)||ne(Ze,Un.nodeName.toLowerCase())||X.getContentEditable(Un)==="false"||X.getParent(Un,"a[href]")!==null),{container:Io,offset:zs}=P(vo.endContainer,vo.endOffset),Ne=X.getParent(Io,X.isBlock)??X.getRoot(),Ge=Mo.backwards(Io,zs+Bt,(Un,Dt)=>{const Le=Un.data,Tt=Pt(Le,Dt,V(Oe));return Tt===-1||pt(Le[Tt])?Tt:Tt+1},Ne);if(!Ge)return null;let tt=Ge.container;const Be=Mo.backwards(Ge.container,Ge.offset,(Un,Dt)=>{tt=Un;const Le=Pt(Un.data,Dt,Oe);return Le===-1?Le:Le+1},Ne),Je=X.createRng();Be?Je.setStart(Be.container,Be.offset):Je.setStart(tt,0),Je.setEnd(Ge.container,Ge.offset);const yt=ct(Je.toString()).match(bt);if(yt){let Un=yt[0];return Ee(Un,"www.")?Un=ie(je)+"://"+Un:we(Un,"@")&&!Yo(Un)&&(Un="mailto:"+Un),{rng:Je,url:Un}}else return null},at=(je,Bt)=>{const{dom:Ze,selection:bt}=je,{rng:X,url:jo}=Bt,vo=bt.getBookmark();bt.setRng(X);const Mo="createlink",Io={command:Mo,ui:!1,value:jo};if(!je.dispatch("BeforeExecCommand",Io).isDefaultPrevented()){je.getDoc().execCommand(Mo,!1,jo),je.dispatch("ExecCommand",Io);const Ne=Qe(je);if(N(Ne)){const Ge=bt.getNode();Ze.setAttrib(Ge,"target",Ne),Ne==="_blank"&&!it(je)&&Ze.setAttrib(Ge,"rel","noopener")}}bt.moveToBookmark(vo),je.nodeChanged()},Qn=je=>{const Bt=Vt(je,-1);U(Bt)&&at(je,Bt)},cn=Qn,ee=je=>{const Bt=Vt(je,0);U(Bt)&&at(je,Bt)},Me=je=>{je.on("keydown",Bt=>{Bt.keyCode===13&&!Bt.isDefaultPrevented()&&ee(je)}),je.on("keyup",Bt=>{Bt.keyCode===32?Qn(je):(Bt.keyCode===48&&Bt.shiftKey||Bt.keyCode===221)&&cn(je)})};var wt=()=>{c.add("autolink",je=>{vt(je),Me(je)})};wt()})()),Kre}var Xre;function r2e(){return Xre||(Xre=1,s2e()),Gre}r2e();var Qre={},Jre={},eae;function a2e(){return eae||(eae=1,(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const d=Je=>({backspaceDelete:Rt=>{Je.execCommand("mceListBackspaceDelete",!1,Rt)}}),p=Je=>Je==null,x=Je=>!p(Je),A=Je=>()=>Je,N=(Je,Rt)=>Je===Rt,O=A(!1);class H{tag;value;static singletonNone=new H(!1);constructor(Rt,yt){this.tag=Rt,this.value=yt}static some(Rt){return new H(!0,Rt)}static none(){return H.singletonNone}fold(Rt,yt){return this.tag?yt(this.value):Rt()}isSome(){return this.tag}isNone(){return!this.tag}map(Rt){return this.tag?H.some(Rt(this.value)):H.none()}bind(Rt){return this.tag?Rt(this.value):H.none()}exists(Rt){return this.tag&&Rt(this.value)}forall(Rt){return!this.tag||Rt(this.value)}filter(Rt){return!this.tag||Rt(this.value)?this:H.none()}getOr(Rt){return this.tag?this.value:Rt}or(Rt){return this.tag?this:Rt}getOrThunk(Rt){return this.tag?this.value:Rt()}orThunk(Rt){return this.tag?this:Rt()}getOrDie(Rt){if(this.tag)return this.value;throw new Error(Rt??"Called getOrDie on None")}static from(Rt){return x(Rt)?H.some(Rt):H.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Rt){this.tag&&Rt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const U=Array.prototype.slice,V=(Je,Rt)=>{for(let yt=0,Un=Je.length;yt<Un;yt++){const Dt=Je[yt];if(Rt(Dt,yt))return!0}return!1},Y=(Je,Rt)=>{const yt=Je.length,Un=new Array(yt);for(let Dt=0;Dt<yt;Dt++){const Le=Je[Dt];Un[Dt]=Rt(Le,Dt)}return Un},ne=(Je,Rt)=>{for(let yt=0,Un=Je.length;yt<Un;yt++){const Dt=Je[yt];Rt(Dt,yt)}},ue=(Je,Rt,yt)=>(ne(Je,(Un,Dt)=>{yt=Rt(yt,Un,Dt)}),yt),we=(Je,Rt,yt)=>{for(let Un=0,Dt=Je.length;Un<Dt;Un++){const Le=Je[Un];if(Rt(Le,Un))return H.some(Le);if(yt(Le,Un))break}return H.none()},Ee=(Je,Rt)=>we(Je,Rt,O),$e=Je=>{const Rt=U.call(Je,0);return Rt.reverse(),Rt},ve=(Je,Rt,yt=N)=>Je.exists(Un=>yt(Un,Rt)),Ue=(Je=>Rt=>Rt.replace(Je,""))(/^\s+|\s+$/g),J=Je=>Je.length>0,vt=Je=>!J(Je),en=Je=>{const Rt=$e(Ue(Je).split("")),yt=Y(Rt,(Un,Dt)=>{const Le=Un.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,Dt)*Le});return ue(yt,(Un,Dt)=>Un+Dt,0)},Qe=Je=>{if(Je--,Je<0)return"";{const Rt=Je%26,yt=Math.floor(Je/26),Un=Qe(yt),Dt=String.fromCharCode(65+Rt);return Un+Dt}},ie=Je=>/^[A-Z]+$/.test(Je),it=Je=>/^[a-z]+$/.test(Je),Tn=Je=>/^[0-9]+$/.test(Je),mn=Je=>Tn(Je)?2:ie(Je)?0:it(Je)?1:vt(Je)?3:4,qe=Je=>{switch(mn(Je)){case 2:return H.some({listStyleType:H.none(),start:Je});case 0:return H.some({listStyleType:H.some("upper-alpha"),start:en(Je).toString()});case 1:return H.some({listStyleType:H.some("lower-alpha"),start:en(Je).toString()});case 3:return H.some({listStyleType:H.none(),start:""});case 4:return H.none()}},Oe=Je=>{const Rt=parseInt(Je.start,10);return ve(Je.listStyleType,"upper-alpha")?Qe(Rt):ve(Je.listStyleType,"lower-alpha")?Qe(Rt).toLowerCase():Je.start},pt=(Je=>Rt=>Rt.options.get(Je))("forced_root_block"),Pt=Je=>/\btox\-/.test(Je.className),P=Je=>Rt=>x(Rt)&&Je.test(Rt.nodeName),Vt=Je=>Rt=>x(Rt)&&Rt.nodeName.toLowerCase()===Je,at=P(/^(OL|UL|DL)$/),Qn=P(/^(TH|TD)$/),cn=P(/^(LI|DT|DD)$/),ee=(Je,Rt)=>we(Je,at,Qn).exists(yt=>yt.nodeName===Rt&&!Pt(yt)),Me=(Je,Rt)=>{const yt=Je.selection.getNode();return Rt({parents:Je.dom.getParents(yt),element:yt}),Je.on("NodeChange",Rt),()=>Je.off("NodeChange",Rt)},wt=(Je,Rt)=>Rt!==null&&!Je.dom.isEditable(Rt),je=(Je,Rt)=>{const yt=Je.dom.getParent(Rt,"ol,ul,dl");return wt(Je,yt)||!Je.selection.isEditable()},Bt=Vt("ol"),Ze=["OL","UL","DL"],bt=Ze.join(","),X=(Je,Rt)=>{const yt=Rt||Je.selection.getStart(!0);return Je.dom.getParent(yt,bt,jo(Je,yt))},jo=(Je,Rt)=>{const yt=Je.dom.getParents(Rt,Je.dom.isBlock),Un=Le=>Le.nodeName.toLowerCase()!==pt(Je);return Ee(yt,Le=>Un(Le)&&vo(Je.schema,Le)).getOr(Je.getBody())},vo=(Je,Rt)=>!at(Rt)&&!cn(Rt)&&V(Ze,yt=>Je.isValidChild(Rt.nodeName,yt)),Mo=Je=>{const Rt=X(Je);!Bt(Rt)||je(Je,Rt)||Je.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Oe({start:Je.dom.getAttrib(Rt,"start","1"),listStyleType:H.from(Je.dom.getStyle(Rt,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:yt=>{const Un=yt.getData();qe(Un.start).each(Dt=>{Je.execCommand("mceListUpdate",!1,{attrs:{start:Dt.start==="1"?"":Dt.start},styles:{"list-style-type":Dt.listStyleType.getOr("")}})}),yt.close()}})},Io=Je=>{Je.addCommand("mceListProps",()=>{Mo(Je)})},zs=(Je,Rt)=>yt=>{const Un=Dt=>{yt.setActive(ee(Dt.parents,Rt)),yt.setEnabled(!je(Je,Dt.element)&&Je.selection.isEditable())};return yt.setEnabled(Je.selection.isEditable()),Me(Je,Un)},Ne=Je=>{const Rt=yt=>()=>Je.execCommand(yt);Je.hasPlugin("advlist")||(Je.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:Rt("InsertOrderedList"),onSetup:zs(Je,"OL")}),Je.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:Rt("InsertUnorderedList"),onSetup:zs(Je,"UL")}))},Ge=(Je,Rt)=>yt=>Me(Je,Dt=>yt.setEnabled(ee(Dt.parents,Rt)&&!je(Je,Dt.element))),tt=Je=>{const Rt={text:"List properties...",icon:"ordered-list",onAction:()=>Je.execCommand("mceListProps"),onSetup:Ge(Je,"OL")};Je.ui.registry.addMenuItem("listprops",Rt),Je.ui.registry.addContextMenu("lists",{update:yt=>{const Un=X(Je,yt);return Bt(Un)?["listprops"]:[]}})};var Be=()=>{c.add("lists",Je=>(Io(Je),Ne(Je),tt(Je),d(Je)))};Be()})()),Jre}var tae;function i2e(){return tae||(tae=1,a2e()),Qre}i2e();var nae={},oae={},sae;function l2e(){return sae||(sae=1,(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const d=(se,Ae,Xe)=>Xe(se,Ae.prototype)?!0:se.constructor?.name===Ae.name,p=se=>{const Ae=typeof se;return se===null?"null":Ae==="object"&&Array.isArray(se)?"array":Ae==="object"&&d(se,String,(Xe,Et)=>Et.isPrototypeOf(Xe))?"string":Ae},x=se=>Ae=>p(Ae)===se,A=se=>Ae=>typeof Ae===se,N=se=>Ae=>se===Ae,O=x("string"),H=x("object"),U=x("array"),V=N(null),Y=A("boolean"),ne=se=>se==null,ue=se=>!ne(se),we=A("function"),Ee=(se,Ae)=>{if(U(se)){for(let Xe=0,Et=se.length;Xe<Et;++Xe)if(!Ae(se[Xe]))return!1;return!0}return!1},$e=()=>{},ve=se=>()=>se,ct=se=>se,Ue=(se,Ae)=>se===Ae;class J{tag;value;static singletonNone=new J(!1);constructor(Ae,Xe){this.tag=Ae,this.value=Xe}static some(Ae){return new J(!0,Ae)}static none(){return J.singletonNone}fold(Ae,Xe){return this.tag?Xe(this.value):Ae()}isSome(){return this.tag}isNone(){return!this.tag}map(Ae){return this.tag?J.some(Ae(this.value)):J.none()}bind(Ae){return this.tag?Ae(this.value):J.none()}exists(Ae){return this.tag&&Ae(this.value)}forall(Ae){return!this.tag||Ae(this.value)}filter(Ae){return!this.tag||Ae(this.value)?this:J.none()}getOr(Ae){return this.tag?this.value:Ae}or(Ae){return this.tag?this:Ae}getOrThunk(Ae){return this.tag?this.value:Ae()}orThunk(Ae){return this.tag?this:Ae()}getOrDie(Ae){if(this.tag)return this.value;throw new Error(Ae??"Called getOrDie on None")}static from(Ae){return ue(Ae)?J.some(Ae):J.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ae){this.tag&&Ae(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const vt=Array.prototype.indexOf,en=Array.prototype.push,Qe=(se,Ae)=>vt.call(se,Ae),ie=(se,Ae)=>Qe(se,Ae)>-1,it=(se,Ae)=>{const Xe=se.length,Et=new Array(Xe);for(let pn=0;pn<Xe;pn++){const Wn=se[pn];Et[pn]=Ae(Wn,pn)}return Et},Tn=(se,Ae)=>{for(let Xe=0,Et=se.length;Xe<Et;Xe++){const pn=se[Xe];Ae(pn,Xe)}},mn=(se,Ae,Xe)=>(Tn(se,(Et,pn)=>{Xe=Ae(Xe,Et,pn)}),Xe),qe=se=>{const Ae=[];for(let Xe=0,Et=se.length;Xe<Et;++Xe){if(!U(se[Xe]))throw new Error("Arr.flatten item "+Xe+" was not an array, input: "+se);en.apply(Ae,se[Xe])}return Ae},Oe=(se,Ae)=>qe(it(se,Ae)),Yo=(se,Ae)=>Ae>=0&&Ae<se.length?J.some(se[Ae]):J.none(),pt=se=>Yo(se,0),Pt=(se,Ae)=>{for(let Xe=0;Xe<se.length;Xe++){const Et=Ae(se[Xe],Xe);if(Et.isSome())return Et}return J.none()},P=Object.keys,Vt=Object.hasOwnProperty,at=(se,Ae)=>{const Xe=P(se);for(let Et=0,pn=Xe.length;Et<pn;Et++){const Wn=Xe[Et],Po=se[Wn];Ae(Po,Wn)}},Qn=se=>(Ae,Xe)=>{se[Xe]=Ae},cn=(se,Ae,Xe,Et)=>{at(se,(pn,Wn)=>{(Ae(pn,Wn)?Xe:Et)(pn,Wn)})},ee=(se,Ae)=>{const Xe={};return cn(se,Ae,Qn(Xe),$e),Xe},Me=(se,Ae)=>Vt.call(se,Ae),wt=(se,Ae)=>Me(se,Ae)&&se[Ae]!==void 0&&se[Ae]!==null,je=se=>{let Ae=se;return{get:()=>Ae,set:pn=>{Ae=pn}}},Bt=(se,Ae,Xe=Ue)=>se.exists(Et=>Xe(Et,Ae)),Ze=se=>{const Ae=[],Xe=Et=>{Ae.push(Et)};for(let Et=0;Et<se.length;Et++)se[Et].each(Xe);return Ae},bt=(se,Ae)=>se?J.some(Ae):J.none(),X=se=>{const Ae=je(J.none()),Xe=()=>Ae.get().each(se);return{clear:()=>{Xe(),Ae.set(J.none())},isSet:()=>Ae.get().isSome(),get:()=>Ae.get(),set:qs=>{Xe(),Ae.set(J.some(qs))}}},jo=()=>{const se=X($e);return{...se,on:Xe=>se.get().each(Xe)}},vo=(se,Ae)=>se.substring(Ae),Mo=(se,Ae,Xe)=>Ae===""||se.length>=Ae.length&&se.substr(Xe,Xe+Ae.length)===Ae,Io=(se,Ae)=>zs(se,Ae)?vo(se,Ae.length):se,zs=(se,Ae)=>Mo(se,Ae,0),Ne=se=>Ae=>Ae.options.get(se),Ge=se=>{const Ae=se.options.register;Ae("link_assume_external_targets",{processor:Xe=>{const Et=O(Xe)||Y(Xe);return Et?Xe===!0?{value:1,valid:Et}:Xe==="http"||Xe==="https"?{value:Xe,valid:Et}:{value:0,valid:Et}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),Ae("link_context_toolbar",{processor:"boolean",default:!1}),Ae("link_list",{processor:Xe=>O(Xe)||we(Xe)||Ee(Xe,H)}),Ae("link_default_target",{processor:"string"}),Ae("link_default_protocol",{processor:"string",default:"https"}),Ae("link_target_list",{processor:Xe=>Y(Xe)||Ee(Xe,H),default:!0}),Ae("link_rel_list",{processor:"object[]",default:[]}),Ae("link_class_list",{processor:"object[]",default:[]}),Ae("link_title",{processor:"boolean",default:!0}),Ae("allow_unsafe_link_target",{processor:"boolean",default:!1}),Ae("link_quicklink",{processor:"boolean",default:!1}),Ae("link_attributes_postprocess",{processor:"function"}),Ae("files_upload_handler",{processor:"function"}),Ae("link_uploadtab",{processor:"boolean",default:!0})},tt=Ne("link_assume_external_targets"),Be=Ne("link_context_toolbar"),Je=Ne("link_list"),Rt=Ne("link_default_target"),yt=Ne("link_default_protocol"),Un=Ne("link_target_list"),Dt=Ne("link_rel_list"),Le=Ne("link_class_list"),Tt=Ne("link_title"),sn=Ne("allow_unsafe_link_target"),Zn=Ne("link_quicklink"),Xo=Ne("link_attributes_postprocess"),Jo=Ne("files_upload_handler"),ko=Ne("link_uploadtab"),mr=Ne("documents_file_types"),Ho=se=>ue(se.options.get("files_upload_handler")),os=se=>ue(se.options.get("documents_file_types"));var Vs=tinymce.util.Tools.resolve("tinymce.util.URI"),Ss=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Xs=tinymce.util.Tools.resolve("tinymce.util.Tools");const gs=se=>ue(se)&&se.nodeName.toLowerCase()==="a",Wr=se=>gs(se)&&!!Ma(se),Es=(se,Ae)=>{if(se.collapsed)return[];{const Xe=se.cloneContents(),Et=Xe.firstChild,pn=new Ss(Et,Xe),Wn=[];let Po=Et;do Ae(Po)&&Wn.push(Po);while(Po=pn.next());return Wn}},$r=se=>/^\w+:/i.test(se),Ma=se=>se.getAttribute("data-mce-href")??se.getAttribute("href")??"",Hn=(se,Ae)=>{const Xe=["noopener"],Et=se?se.split(/\s+/):[],pn=_s=>Xs.trim(_s.sort().join(" ")),Wn=_s=>(_s=Po(_s),_s.length>0?_s.concat(Xe):Xe),Po=_s=>_s.filter(Ni=>Xs.inArray(Xe,Ni)===-1),qs=Ae?Wn(Et):Po(Et);return qs.length>0?pn(qs):""},ts=se=>se.replace(/\uFEFF/g,""),Oo=(se,Ae)=>(Ae=Ae||Mn(se.selection.getRng())[0]||se.selection.getNode(),yo(Ae)?J.from(se.dom.select("a[href]",Ae)[0]):J.from(se.dom.getParent(Ae,"a[href]"))),ci=(se,Ae)=>Oo(se,Ae).isSome(),Ba=(se,Ae)=>{const Xe=Ae.fold(()=>se.getContent({format:"text"}),Et=>Et.innerText||Et.textContent||"");return ts(Xe)},Mn=se=>Es(se,Wr),Zt=se=>Xs.grep(se,Wr),Gt=se=>Zt(se).length>0,Yn=se=>Mn(se).length>0,Gn=se=>{const Ae=se.schema.getTextInlineElements(),Xe=Wn=>Wn.nodeType===1&&!gs(Wn)&&!Me(Ae,Wn.nodeName.toLowerCase());if(Oo(se).exists(Wn=>Wn.hasAttribute("data-mce-block")))return!1;const pn=se.selection.getRng();return pn.collapsed?!0:Es(pn,Xe).length===0},yo=se=>ue(se)&&se.nodeName==="FIGURE"&&/\bimage\b/i.test(se.className),Ro=se=>new Promise((Ae,Xe)=>{const Et=new FileReader;Et.onload=()=>{Ae(Et.result)},Et.onerror=()=>{Xe(new Error(Et.error?.message??"Failed to convert blob to a data url"))},Et.readAsDataURL(se)}),Jn=se=>mn(["title","rel","class","target"],(Xe,Et)=>(se[Et].each(pn=>{Xe[Et]=pn.length>0?pn:null}),Xe),{href:se.href}),ls=(se,Ae)=>(Ae==="http"||Ae==="https")&&!$r(se)?Ae+"://"+se:se,La=(se,Ae)=>{const Xe={...Ae};if(Dt(se).length===0&&!sn(se)){const Et=Hn(Xe.rel,Xe.target==="_blank");Xe.rel=Et||null}return J.from(Xe.target).isNone()&&Un(se)===!1&&(Xe.target=Rt(se)),Xe.href=ls(Xe.href,tt(se)),Xe},ol=(se,Ae,Xe,Et)=>{Xe.each(Wn=>{Me(Ae,"innerText")?Ae.innerText=Wn:Ae.textContent=Wn}),se.dom.setAttribs(Ae,Et);const pn=se.dom.createRng();pn.setStartAfter(Ae),pn.setEndAfter(Ae),se.selection.setRng(pn)},hi=(se,Ae,Xe,Et)=>{const pn=se.dom;yo(Ae)?To(pn,Ae,Et):Xe.fold(()=>{se.execCommand("mceInsertLink",!1,Et);const Wn=se.selection.getEnd(),Po=pn.createRng();Po.setStartAfter(Wn),Po.setEndAfter(Wn),se.selection.setRng(Po)},Wn=>{se.insertContent(pn.createHTML("a",Et,pn.encode(Wn)))})},Pn=(se,Ae,Xe)=>{const Et=se.selection.getNode(),pn=Oo(se,Et),Wn=La(se,Jn(Xe)),Po=Xo(se);ue(Po)&&Po(Wn),se.undoManager.transact(()=>{Xe.href===Ae.href&&Ae.attach(),pn.fold(()=>{hi(se,Et,Xe.text,Wn)},qs=>{se.focus(),ol(se,qs,Xe.text,Wn)})})},er=se=>{const Ae=se.dom,Xe=se.selection,Et=Xe.getBookmark(),pn=Xe.getRng().cloneRange(),Wn=Ae.getParent(pn.startContainer,"a[href]",se.getBody()),Po=Ae.getParent(pn.endContainer,"a[href]",se.getBody());Wn&&pn.setStartBefore(Wn),Po&&pn.setEndAfter(Po),Xe.setRng(pn),se.execCommand("unlink"),Xe.moveToBookmark(Et)},tr=se=>{se.undoManager.transact(()=>{const Ae=se.selection.getNode();yo(Ae)?gn(se,Ae):er(se),se.focus()})},Vl=se=>{const{class:Ae,href:Xe,rel:Et,target:pn,text:Wn,title:Po}=se;return ee({class:Ae.getOrNull(),href:Xe,rel:Et.getOrNull(),target:pn.getOrNull(),text:Wn.getOrNull(),title:Po.getOrNull()},(qs,_s)=>V(qs)===!1)},Fe=(se,Ae)=>{const Xe=se.options.get,Et={allow_html_data_urls:Xe("allow_html_data_urls"),allow_script_urls:Xe("allow_script_urls"),allow_svg_data_urls:Xe("allow_svg_data_urls")},pn=Ae.href;return{...Ae,href:Vs.isDomSafe(pn,"a",Et)?pn:""}},ze=(se,Ae,Xe)=>{const Et=Fe(se,Xe);se.hasPlugin("rtc",!0)?se.execCommand("createlink",!1,Vl(Et)):Pn(se,Ae,Et)},nt=se=>{se.hasPlugin("rtc",!0)?se.execCommand("unlink"):tr(se)},gn=(se,Ae)=>{const Xe=se.dom.select("img",Ae)[0];if(Xe){const Et=se.dom.getParents(Xe,"a[href]",Ae)[0];Et&&(Et.parentNode?.insertBefore(Xe,Et),se.dom.remove(Et))}},To=(se,Ae,Xe)=>{const Et=se.select("img",Ae)[0];if(Et){const pn=se.create("a",Xe);Et.parentNode?.insertBefore(pn,Et),pn.appendChild(Et)}},co=se=>O(se.value)?se.value:"",Zo=se=>O(se.text)?se.text:O(se.title)?se.title:"",us=(se,Ae)=>{const Xe=[];return Xs.each(se,Et=>{const pn=Zo(Et);if(Et.menu!==void 0){const Wn=us(Et.menu,Ae);Xe.push({text:pn,items:Wn})}else{const Wn=Ae(Et);Xe.push({text:pn,value:Wn})}}),Xe},Ao=(se=co)=>Ae=>J.from(Ae).map(Xe=>us(Xe,se)),He={sanitize:se=>Ao(co)(se),sanitizeWith:Ao,createUi:(se,Ae)=>Xe=>({name:se,type:"listbox",label:Ae,items:Xe}),getValue:co},jt=se=>wt(se,"items"),xn=(se,Ae)=>Pt(Ae,Xe=>jt(Xe)?xn(se,Xe.items):bt(Xe.value===se,Xe)),qt=(se,Ae,Xe,Et)=>{const pn=Et[Ae],Wn=se.length>0;return pn!==void 0?xn(pn,Xe).map(Po=>({url:{value:Po.value,meta:{text:Wn?se:Po.text,attach:$e}},text:Wn?se:Po.text})):J.none()},xo=(se,Ae)=>Ae==="link"?se.link:Ae==="anchor"?se.anchor:J.none(),Bn={init:(se,Ae)=>{const Xe={text:se.text,title:se.title},Et=_s=>bt(Xe.title.length<=0,J.from(_s.meta?.title).getOr("")),pn=_s=>bt(Xe.text.length<=0,J.from(_s.meta?.text).getOr(_s.value)),Wn=_s=>{const Ni=pn(_s.url),Ea=Et(_s.url);return Ni.isSome()||Ea.isSome()?J.some({...Ni.map(Yd=>({text:Yd})).getOr({}),...Ea.map(Yd=>({title:Yd})).getOr({})}):J.none()},Po=(_s,Ni)=>{const Ea=xo(Ae,Ni).getOr([]);return qt(Xe.text,Ni,Ea,_s)};return{onChange:(_s,Ni)=>{const Ea=Ni.name;return Ea==="url"?Wn(_s()):ie(["anchor","link"],Ea)?Po(_s(),Ea):((Ea==="text"||Ea==="title")&&(Xe[Ea]=_s()[Ea]),J.none())}}},getDelta:qt};var Uo=tinymce.util.Tools.resolve("tinymce.util.Delay");const vs=(se,Ae,Xe)=>{const Et=se.selection.getRng();Uo.setEditorTimeout(se,()=>{se.windowManager.confirm(Ae,pn=>{se.selection.setRng(Et),Xe(pn)})})},Ts=se=>{const Ae=se.href;return Ae.indexOf("@")>0&&Ae.indexOf("/")===-1&&Ae.indexOf("mailto:")===-1?J.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Et=>({...Et,href:"mailto:"+Ae})}):J.none()},As=(se,Ae)=>Xe=>{const Et=Xe.href;return se===1&&!$r(Et)||se===0&&/^\s*www(\.|\d\.)/i.test(Et)?J.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${Ae}:// prefix?`,preprocess:Wn=>({...Wn,href:Ae+"://"+Et})}):J.none()},Sa={preprocess:(se,Ae)=>Pt([Ts,As(tt(se),yt(se))],Xe=>Xe(Ae)).fold(()=>Promise.resolve(Ae),Xe=>new Promise(Et=>{vs(se,Xe.message,pn=>{Et(pn?Xe.preprocess(Ae):Ae)})}))},Tr={getAnchors:se=>{const Ae=se.dom.select("a:not([href])"),Xe=Oe(Ae,Et=>{const pn=Et.name||Et.id;return pn?[{text:pn,value:"#"+pn}]:[]});return Xe.length>0?J.some([{text:"None",value:""}].concat(Xe)):J.none()}},ir={getClasses:se=>{const Ae=Le(se);return Ae.length>0?He.sanitize(Ae):J.none()}},Vi=se=>{try{return J.some(JSON.parse(se))}catch{return J.none()}},Ir={getLinks:se=>{const Ae=Et=>se.convertURL(Et.value||Et.url||"","href"),Xe=Je(se);return new Promise(Et=>{O(Xe)?fetch(Xe).then(pn=>pn.ok?pn.text().then(Vi):Promise.reject()).then(Et,()=>Et(J.none())):we(Xe)?Xe(pn=>Et(J.some(pn))):Et(J.from(Xe))}).then(Et=>Et.bind(He.sanitizeWith(Ae)).map(pn=>pn.length>0?[{text:"None",value:""}].concat(pn):pn))}},Ci={getRels:(se,Ae)=>{const Xe=Dt(se);if(Xe.length>0){const Et=Bt(Ae,"_blank"),pn=sn(se)===!1,Wn=qs=>Hn(He.getValue(qs),Et);return(pn?He.sanitizeWith(Wn):He.sanitize)(Xe)}return J.none()}},ni=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Sf={getTargets:se=>{const Ae=Un(se);return U(Ae)?He.sanitize(Ae).orThunk(()=>J.some(ni)):Ae===!1?J.none():J.some(ni)}},uc=(se,Ae,Xe)=>{const Et=se.getAttrib(Ae,Xe);return Et!==null&&Et.length>0?J.some(Et):J.none()},Hr=(se,Ae)=>{const Xe=se.dom,pn=Gn(se)?J.some(Ba(se.selection,Ae)):J.none(),Wn=Ae.bind(Ea=>J.from(Xe.getAttrib(Ea,"href"))),Po=Ae.bind(Ea=>J.from(Xe.getAttrib(Ea,"target"))),qs=Ae.bind(Ea=>uc(Xe,Ea,"rel")),_s=Ae.bind(Ea=>uc(Xe,Ea,"class")),Ni=Ae.bind(Ea=>uc(Xe,Ea,"title"));return{url:Wn,text:pn,title:Ni,target:Po,rel:qs,linkClass:_s}},dc={collect:(se,Ae)=>Ir.getLinks(se).then(Xe=>{const Et=Ho(se)&&os(se)&&ko(se),pn=Hr(se,Ae);return{anchor:pn,catalogs:{targets:Sf.getTargets(se),rels:Ci.getRels(se,pn.target),classes:ir.getClasses(se),anchor:Tr.getAnchors(se),link:Xe},hasUploadPanel:Et,optNode:Ae,flags:{titleEnabled:Tt(se)}}})},An={makeTab:se=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput",buttonLabel:"Browse for a file",dropAreaLabel:"Drop a file here",allowedFileTypes:se.map(Xe=>Xe.mimeType).join(","),allowedFileExtensions:qe(se.map(Xe=>Xe.extensions))}]})},Cu=(se,Ae)=>Xe=>{const Et=Xe.getData();if(!Et.url.value){nt(se),Xe.close();return}const pn=qs=>J.from(Et[qs]).filter(_s=>!Bt(Ae.anchor[qs],_s)),Wn={href:Et.url.value,text:pn("text"),target:pn("target"),rel:pn("rel"),class:pn("linkClass"),title:pn("title")},Po={href:Et.url.value,attach:Et.url.meta!==void 0&&Et.url.meta.attach?Et.url.meta.attach:$e};Sa.preprocess(se,Wn).then(qs=>{ze(se,Po,qs)}),Xe.close()},Ri=se=>(Ae,Xe)=>Jo(se)(Ae,Xe),gi=se=>J.from(se.split(",")[1]).getOr(""),qr=(se,Ae)=>{const Xe=Ae.getData();Ae.block("Uploading file"),pt(Xe.fileinput).fold(()=>{Ae.unblock()},Et=>{const pn=URL.createObjectURL(Et),Wn=({url:qs,fileName:_s})=>{Ae.setData({text:_s,title:_s,url:{value:qs,meta:{}}}),Ae.showTab("general"),Ae.focus("url")},Po=()=>{Ae.unblock(),URL.revokeObjectURL(pn)};Ro(Et).then(qs=>{const _s=se.getExistingBlobInfo(gi(qs),Et.type),Ni=_s&&_s.filename()===Et.name?_s:se.createBlobCache(Et,pn,qs);return se.addToBlobCache(Ni),se.uploadFile(Ni,ct)}).then(qs=>{Wn(qs),Po()}).catch(qs=>{Po(),se.alertErr(qs,()=>{Ae.focus("fileinput")})})})},Gd=se=>(Ae,Xe,Et)=>se.editorUpload.blobCache.create({blob:Ae,blobUri:Xe,name:Ae.name?.replace(/\.[^\.]+$/,""),filename:Ae.name,base64:Et.split(",")[1]}),Si=se=>Ae=>{se.editorUpload.blobCache.add(Ae)},sl=se=>(Ae,Xe)=>se.editorUpload.blobCache.getByData(Ae,Xe),Tf=se=>(Ae,Xe)=>{se.windowManager.alert(Ae,Xe)},Jf=se=>{const Ae=Oo(se);return dc.collect(se,Ae)},Su=(se,Ae)=>{const Xe=se.anchor,Et=Xe.url.getOr("");return{url:{value:Et,meta:{original:{value:Et}}},text:Xe.text.getOr(""),title:Xe.title.getOr(""),anchor:Et,link:Et,rel:Xe.rel.getOr(""),target:Xe.target.or(Ae).getOr(""),linkClass:Xe.linkClass.getOr(""),fileinput:[]}},Kd=(se,Ae,Xe,Et,pn,Wn)=>{const Po=qe([se,Ae,Xe,Ze([Et.anchor.map(He.createUi("anchor","Anchors")),Et.rels.map(He.createUi("rel","Rel")),Et.targets.map(He.createUi("target","Open link in...")),Et.link.map(He.createUi("link","Link list")),Et.classes.map(He.createUi("linkClass","Class"))])]);return pn?{type:"tabpanel",tabs:qe([[{title:"General",name:"general",items:Po}],[An.makeTab(Wn)]])}:{type:"panel",items:Po}},Dl=(se,Ae,Xe)=>{const Et=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],pn=se.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Wn=se.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Po=J.from(Rt(Xe)),qs=Su(se,Po),_s=se.catalogs,Ni=Bn.init(qs,_s),Ea=Kd(Et,pn,Wn,_s,se.hasUploadPanel,mr(Xe)),Yd={addToBlobCache:Si(Xe),createBlobCache:Gd(Xe),alertErr:Tf(Xe),uploadFile:Ri(Xe),getExistingBlobInfo:sl(Xe)};return{title:"Insert/Edit Link",size:"normal",body:Ea,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:qs,onChange:(Om,{name:kf})=>{kf==="fileinput"?qr(Yd,Om):Ni.onChange(Om.getData,{name:kf}).each(Gc=>{Om.setData(Gc)})},onSubmit:Ae}},Wc=se=>{Jf(se).then(Xe=>{const Et=Cu(se,Xe);return Dl(Xe,Et,se)}).then(Xe=>{se.windowManager.open(Xe)})},qc=se=>{se.addCommand("mceLink",(Ae,Xe)=>{Xe?.dialog===!0||!Zn(se)?Wc(se):se.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},fn=se=>{se.addShortcut("Meta+K","",()=>{se.execCommand("mceLink")})};var Eu=tinymce.util.Tools.resolve("tinymce.util.VK");const bd=(se,Ae)=>{document.body.appendChild(se),se.dispatchEvent(Ae),document.body.removeChild(se)},jl=se=>{const Ae=document.createElement("a");Ae.target="_blank",Ae.href=se,Ae.rel="noreferrer noopener";const Xe=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(Xe),bd(Ae,Xe)},rl=se=>se.altKey===!0&&se.shiftKey===!1&&se.ctrlKey===!1&&se.metaKey===!1,ju=(se,Ae)=>{if(Ae){const Xe=Ma(Ae);if(/^#/.test(Xe)){const Et=se.dom.select(`${Xe},[name="${Io(Xe,"#")}"]`);Et.length&&se.selection.scrollIntoView(Et[0],!0)}else jl(Ae.href)}},ji=se=>{const Ae=se.selection.getRng(),Xe=Ae.startContainer;return Wr(Xe)&&Ae.startContainer===Ae.endContainer&&se.dom.select("img",Xe).length===1},oi=(se,Ae)=>{const Xe=Zt(se.dom.getParents(Ae));return bt(Xe.length===1,Xe[0])},_l=se=>{const Ae=Mn(se.selection.getRng());return bt(Ae.length>0,Ae[0]).or(oi(se,se.selection.getNode()))},fc=se=>se.selection.isCollapsed()||ji(se)?oi(se,se.selection.getStart()):_l(se),Ws=se=>{const Ae=jo(),Xe=()=>Ae.get().or(fc(se)),Et=()=>Xe().each(pn=>ju(se,pn));return se.on("contextmenu",pn=>{oi(se,pn.target).each(Ae.set)}),se.on("SelectionChange",()=>{Ae.isSet()||fc(se).each(Ae.set)}),se.on("click",pn=>{Ae.clear();const Wn=Zt(se.dom.getParents(pn.target));Wn.length===1&&Eu.metaKeyPressed(pn)&&(pn.preventDefault(),ju(se,Wn[0]))}),se.on("keydown",pn=>{Ae.clear(),!pn.isDefaultPrevented()&&pn.keyCode===13&&rl(pn)&&Xe().each(Wn=>{pn.preventDefault(),ju(se,Wn)})}),{gotoSelectedLink:Et}},Af=se=>()=>{se.execCommand("mceLink",!1,{dialog:!0})},te=(se,Ae)=>(se.on("NodeChange",Ae),()=>se.off("NodeChange",Ae)),be=se=>Ae=>{const Xe=()=>{Ae.setActive(!se.mode.isReadOnly()&&ci(se,se.selection.getNode())),Ae.setEnabled(se.selection.isEditable())};return Xe(),te(se,Xe)},Pe=se=>Ae=>{const Xe=()=>{Ae.setEnabled(se.selection.isEditable())};return Xe(),te(se,Xe)},Nt=se=>Ae=>{const Xe=Wn=>Gt(Wn)||Yn(se.selection.getRng()),Et=se.dom.getParents(se.selection.getStart()),pn=Wn=>{Ae.setEnabled(Xe(Wn)&&se.selection.isEditable())};return pn(Et),te(se,Wn=>pn(Wn.parents))},qn=(se,Ae)=>{se.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:Af(se),onSetup:be(se)}),se.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Ae.gotoSelectedLink,onSetup:Nt(se)}),se.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>nt(se),onSetup:Nt(se)})},ps=(se,Ae)=>{se.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Ae.gotoSelectedLink,onSetup:Nt(se)}),se.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Af(se),onSetup:Pe(se)}),se.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>nt(se),onSetup:Nt(se)})},lr=se=>{const Ae="link unlink openlink",Xe="link";se.ui.registry.addContextMenu("link",{update:Et=>se.dom.isEditable(Et)?Gt(se.dom.getParents(Et,"a"))?Ae:Xe:""})},ja=(se,Ae)=>{const Xe=Wn=>{Wn.selection.collapse(!1)},Et=Wn=>{const Po=se.selection.getNode();return Wn.setEnabled(ci(se,Po)&&se.selection.isEditable()),$e},pn=Wn=>{const Po=Oo(se),qs=Gn(se);if(Po.isNone()&&qs){const _s=Ba(se.selection,Po);return bt(_s.length===0,Wn)}else return J.none()};se.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:be(se)},label:"Link",predicate:Wn=>Be(se)&&ci(se,Wn),initValue:()=>Oo(se).fold(ve(""),Ma),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Wn=>{const Po=se.selection.getNode();return Wn.setActive(ci(se,Po)),be(se)(Wn)},onAction:Wn=>{const Po=Wn.getValue(),qs=pn(Po);ze(se,{href:Po,attach:$e},{href:Po,text:qs,title:J.none(),rel:J.none(),target:J.from(Rt(se)),class:J.none()}),Xe(se),Wn.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Et,onAction:Wn=>{nt(se),Wn.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Et,onAction:Wn=>{Ae.gotoSelectedLink(),Wn.hide()}}]})},Ei=se=>{const Ae=Ws(se);qn(se,Ae),ps(se,Ae),lr(se),ja(se,Ae)};var Ol=()=>{c.add("link",se=>{Ge(se),qc(se),Ei(se),fn(se)})};Ol()})()),oae}var rae;function c2e(){return rae||(rae=1,l2e()),nae}c2e();var aae={},iae={},lae;function u2e(){return lae||(lae=1,(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const d=Object.getPrototypeOf,p=(te,be,Pe)=>Pe(te,be.prototype)?!0:te.constructor?.name===be.name,x=te=>{const be=typeof te;return te===null?"null":be==="object"&&Array.isArray(te)?"array":be==="object"&&p(te,String,(Pe,Nt)=>Nt.isPrototypeOf(Pe))?"string":be},A=te=>be=>x(be)===te,N=te=>be=>typeof be===te,O=te=>be=>te===be,H=(te,be)=>V(te)&&p(te,be,(Pe,Nt)=>d(Pe)===Nt),U=A("string"),V=A("object"),Y=te=>H(te,Object),ne=A("array"),ue=O(null),we=N("boolean"),Ee=te=>te==null,$e=te=>!Ee(te),ve=N("function"),ct=N("number"),Ue=(te,be)=>{if(ne(te)){for(let Pe=0,Nt=te.length;Pe<Nt;++Pe)if(!be(te[Pe]))return!1;return!0}return!1},J=()=>{};class vt{tag;value;static singletonNone=new vt(!1);constructor(be,Pe){this.tag=be,this.value=Pe}static some(be){return new vt(!0,be)}static none(){return vt.singletonNone}fold(be,Pe){return this.tag?Pe(this.value):be()}isSome(){return this.tag}isNone(){return!this.tag}map(be){return this.tag?vt.some(be(this.value)):vt.none()}bind(be){return this.tag?be(this.value):vt.none()}exists(be){return this.tag&&be(this.value)}forall(be){return!this.tag||be(this.value)}filter(be){return!this.tag||be(this.value)?this:vt.none()}getOr(be){return this.tag?this.value:be}or(be){return this.tag?this:be}getOrThunk(be){return this.tag?this.value:be()}orThunk(be){return this.tag?this:be()}getOrDie(be){if(this.tag)return this.value;throw new Error(be??"Called getOrDie on None")}static from(be){return $e(be)?vt.some(be):vt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(be){this.tag&&be(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const en=Array.prototype.push,Qe=te=>{const be=[];for(let Pe=0,Nt=te.length;Pe<Nt;++Pe){if(!ne(te[Pe]))throw new Error("Arr.flatten item "+Pe+" was not an array, input: "+te);en.apply(be,te[Pe])}return be},ie=(te,be)=>be>=0&&be<te.length?vt.some(te[be]):vt.none(),it=te=>ie(te,0),Tn=(te,be)=>{for(let Pe=0;Pe<te.length;Pe++){const Nt=be(te[Pe],Pe);if(Nt.isSome())return Nt}return vt.none()},mn=Object.keys,qe=Object.hasOwnProperty,Oe=(te,be)=>{const Pe=mn(te);for(let Nt=0,qn=Pe.length;Nt<qn;Nt++){const ps=Pe[Nt],lr=te[ps];be(lr,ps)}},Yo=te=>(be,Pe)=>{te[Pe]=be},pt=(te,be,Pe,Nt)=>{Oe(te,(qn,ps)=>{(be(qn,ps)?Pe:Nt)(qn,ps)})},Pt=(te,be)=>{const Pe={};return pt(te,be,Yo(Pe),J),Pe},P=(te,be)=>qe.call(te,be),Vt=(te,be)=>P(te,be)&&te[be]!==void 0&&te[be]!==null,cn=(te=>(...be)=>{if(be.length===0)throw new Error("Can't merge zero objects");const Pe={};for(let Nt=0;Nt<be.length;Nt++){const qn=be[Nt];for(const ps in qn)P(qn,ps)&&(Pe[ps]=te(Pe[ps],qn[ps]))}return Pe})((te,be)=>Y(te)&&Y(be)?cn(te,be):be),ee=te=>te.length>0,Me=(te,be)=>{const Nt=(be||document).createElement("div");if(Nt.innerHTML=te,!Nt.hasChildNodes()||Nt.childNodes.length>1){const qn="HTML does not have a single root node";throw console.error(qn,te),new Error(qn)}return Bt(Nt.childNodes[0])},wt=(te,be)=>{const Nt=(be||document).createElement(te);return Bt(Nt)},je=(te,be)=>{const Nt=(be||document).createTextNode(te);return Bt(Nt)},Bt=te=>{if(te==null)throw new Error("Node cannot be null or undefined");return{dom:te}},bt={fromHtml:Me,fromTag:wt,fromText:je,fromDom:Bt,fromPoint:(te,be,Pe)=>vt.from(te.dom.elementFromPoint(be,Pe)).map(Bt)},X=(te,be,Pe)=>{if(U(Pe)||we(Pe)||ct(Pe))te.setAttribute(be,Pe+"");else throw console.error("Invalid call to Attribute.set. Key ",be,":: Value ",Pe,":: Element ",te),new Error("Attribute value was not simple")},jo=(te,be,Pe)=>{X(te.dom,be,Pe)},vo=(te,be)=>{te.dom.removeAttribute(be)};var Mo=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Io=tinymce.util.Tools.resolve("tinymce.util.URI");const zs=te=>be=>be.options.get(te),Ne=te=>{const be=te.options.register;be("image_dimensions",{processor:"boolean",default:!0}),be("image_advtab",{processor:"boolean",default:!1}),be("image_uploadtab",{processor:"boolean",default:!0}),be("image_prepend_url",{processor:"string",default:""}),be("image_class_list",{processor:"object[]"}),be("image_description",{processor:"boolean",default:!0}),be("image_title",{processor:"boolean",default:!1}),be("image_caption",{processor:"boolean",default:!1}),be("image_list",{processor:Pe=>{const Nt=Pe===!1||U(Pe)||Ue(Pe,V)||ve(Pe);return Nt?{value:Pe,valid:Nt}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},Ge=zs("image_dimensions"),tt=zs("image_advtab"),Be=zs("image_uploadtab"),Je=zs("image_prepend_url"),Rt=zs("image_class_list"),yt=zs("image_description"),Un=zs("image_title"),Dt=zs("image_caption"),Le=zs("image_list"),Tt=zs("a11y_advanced_options"),sn=zs("automatic_uploads"),Zn=te=>ee(te.options.get("images_upload_url")),Xo=te=>$e(te.options.get("images_upload_handler")),Jo=(te,be)=>Math.max(parseInt(te,10),parseInt(be,10)),ko=te=>new Promise(be=>{const Pe=document.createElement("img"),Nt=ps=>{Pe.parentNode&&Pe.parentNode.removeChild(Pe),be(ps)};Pe.addEventListener("load",()=>{const ps=Jo(Pe.width,Pe.clientWidth),lr=Jo(Pe.height,Pe.clientHeight),ja={width:ps,height:lr};Nt(Promise.resolve(ja))}),Pe.addEventListener("error",()=>{Nt(Promise.reject(`Failed to get image dimensions for: ${te}`))});const qn=Pe.style;qn.visibility="hidden",qn.position="fixed",qn.bottom=qn.left="0px",qn.width=qn.height="auto",document.body.appendChild(Pe),Pe.src=te}),mr=te=>(te&&(te=te.replace(/px$/,"")),te),Ho=te=>(te.length>0&&/^[0-9]+$/.test(te)&&(te+="px"),te),os=te=>{if(te.margin){const be=String(te.margin).split(" ");switch(be.length){case 1:te["margin-top"]=te["margin-top"]||be[0],te["margin-right"]=te["margin-right"]||be[0],te["margin-bottom"]=te["margin-bottom"]||be[0],te["margin-left"]=te["margin-left"]||be[0];break;case 2:te["margin-top"]=te["margin-top"]||be[0],te["margin-right"]=te["margin-right"]||be[1],te["margin-bottom"]=te["margin-bottom"]||be[0],te["margin-left"]=te["margin-left"]||be[1];break;case 3:te["margin-top"]=te["margin-top"]||be[0],te["margin-right"]=te["margin-right"]||be[1],te["margin-bottom"]=te["margin-bottom"]||be[2],te["margin-left"]=te["margin-left"]||be[1];break;case 4:te["margin-top"]=te["margin-top"]||be[0],te["margin-right"]=te["margin-right"]||be[1],te["margin-bottom"]=te["margin-bottom"]||be[2],te["margin-left"]=te["margin-left"]||be[3]}delete te.margin}return te},Vs=(te,be)=>{const Pe=Le(te);U(Pe)?fetch(Pe).then(Nt=>{Nt.ok&&Nt.json().then(be)}):ve(Pe)?Pe(be):be(Pe)},Ss=(te,be,Pe)=>{const Nt=()=>{Pe.onload=Pe.onerror=null,te.selection&&(te.selection.select(Pe),te.nodeChanged())};Pe.onload=()=>{!be.width&&!be.height&&Ge(te)&&te.dom.setAttribs(Pe,{width:String(Pe.clientWidth),height:String(Pe.clientHeight)}),Nt()},Pe.onerror=Nt},Xs=te=>new Promise((be,Pe)=>{const Nt=new FileReader;Nt.onload=()=>{be(Nt.result)},Nt.onerror=()=>{Pe(Nt.error?.message)},Nt.readAsDataURL(te)}),gs=te=>te.nodeName==="IMG"&&(te.hasAttribute("data-mce-object")||te.hasAttribute("data-mce-placeholder")),Wr=(te,be)=>{const Pe=te.options.get;return Io.isDomSafe(be,"img",{allow_html_data_urls:Pe("allow_html_data_urls"),allow_script_urls:Pe("allow_script_urls"),allow_svg_data_urls:Pe("allow_svg_data_urls")})},Es=Mo.DOM,$r=te=>te.style.marginLeft&&te.style.marginRight&&te.style.marginLeft===te.style.marginRight?mr(te.style.marginLeft):"",Ma=te=>te.style.marginTop&&te.style.marginBottom&&te.style.marginTop===te.style.marginBottom?mr(te.style.marginTop):"",Hn=te=>te.style.borderWidth?mr(te.style.borderWidth):"",ts=(te,be)=>te.hasAttribute(be)?te.getAttribute(be)??"":"",Oo=te=>te.parentNode!==null&&te.parentNode.nodeName==="FIGURE",ci=(te,be,Pe)=>{Pe===""||Pe===null?te.removeAttribute(be):te.setAttribute(be,Pe)},Ba=te=>{const be=Es.create("figure",{class:"image"});Es.insertAfter(be,te),be.appendChild(te),be.appendChild(Es.create("figcaption",{contentEditable:"true"},"Caption")),be.contentEditable="false"},Mn=te=>{const be=te.parentNode;$e(be)&&(Es.insertAfter(te,be),Es.remove(be))},Zt=te=>{Oo(te)?Mn(te):Ba(te)},Gt=(te,be)=>{const Pe=te.getAttribute("style"),Nt=be(Pe!==null?Pe:"");Nt.length>0?(te.setAttribute("style",Nt),te.setAttribute("data-mce-style",Nt)):te.removeAttribute("style")},Yn=(te,be)=>(Pe,Nt,qn)=>{const ps=Pe.style;ps[Nt]?(ps[Nt]=Ho(qn),Gt(Pe,be)):ci(Pe,Nt,qn)},Gn=(te,be)=>te.style[be]?mr(te.style[be]):ts(te,be),yo=(te,be)=>{const Pe=Ho(be);te.style.marginLeft=Pe,te.style.marginRight=Pe},Ro=(te,be)=>{const Pe=Ho(be);te.style.marginTop=Pe,te.style.marginBottom=Pe},Jn=(te,be)=>{const Pe=Ho(be);te.style.borderWidth=Pe},ls=(te,be)=>{te.style.borderStyle=be},La=te=>te.style.borderStyle??"",ol=te=>$e(te)&&te.nodeName==="FIGURE",hi=te=>te.nodeName==="IMG",Pn=te=>{const be=Es.getAttrib(te,"alt"),Pe=Es.getAttrib(te,"role");return te.hasAttribute("alt")&&be.length===0||Pe==="presentation"||Pe==="none"},er=te=>Pn(te)?"":ts(te,"alt"),tr=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),Vl=(te,be)=>{const Pe=document.createElement("img");return ci(Pe,"style",be.style),($r(Pe)||be.hspace!=="")&&yo(Pe,be.hspace),(Ma(Pe)||be.vspace!=="")&&Ro(Pe,be.vspace),(Hn(Pe)||be.border!=="")&&Jn(Pe,be.border),(La(Pe)||be.borderStyle!=="")&&ls(Pe,be.borderStyle),te(Pe.getAttribute("style")??"")},Fe=(te,be)=>{const Pe=document.createElement("img");if(Zo(te,{...be,caption:!1},Pe),gn(Pe,be.alt,be.isDecorative),be.caption){const Nt=Es.create("figure",{class:"image"});return Nt.appendChild(Pe),Nt.appendChild(Es.create("figcaption",{contentEditable:"true"},"Caption")),Nt.contentEditable="false",Nt}else return Pe},ze=(te,be)=>({src:ts(be,"src"),alt:er(be),title:ts(be,"title"),width:Gn(be,"width"),height:Gn(be,"height"),class:ts(be,"class"),style:te(ts(be,"style")),caption:Oo(be),hspace:$r(be),vspace:Ma(be),border:Hn(be),borderStyle:La(be),isDecorative:Pn(be)}),nt=(te,be,Pe,Nt,qn)=>{Pe[Nt]!==be[Nt]&&qn(te,Nt,String(Pe[Nt]))},gn=(te,be,Pe)=>{if(Pe){Es.setAttrib(te,"role","presentation");const Nt=bt.fromDom(te);jo(Nt,"alt","")}else{if(ue(be)){const Nt=bt.fromDom(te);vo(Nt,"alt")}else{const Nt=bt.fromDom(te);jo(Nt,"alt",be)}Es.getAttrib(te,"role")==="presentation"&&Es.setAttrib(te,"role","")}},To=(te,be,Pe)=>{(Pe.alt!==be.alt||Pe.isDecorative!==be.isDecorative)&&gn(te,Pe.alt,Pe.isDecorative)},co=(te,be)=>(Pe,Nt,qn)=>{te(Pe,qn),Gt(Pe,be)},Zo=(te,be,Pe)=>{const Nt=ze(te,Pe);nt(Pe,Nt,be,"caption",(qn,ps,lr)=>Zt(qn)),nt(Pe,Nt,be,"src",ci),nt(Pe,Nt,be,"title",ci),nt(Pe,Nt,be,"width",Yn("width",te)),nt(Pe,Nt,be,"height",Yn("height",te)),nt(Pe,Nt,be,"class",ci),nt(Pe,Nt,be,"style",co((qn,ps)=>ci(qn,"style",ps),te)),nt(Pe,Nt,be,"hspace",co(yo,te)),nt(Pe,Nt,be,"vspace",co(Ro,te)),nt(Pe,Nt,be,"border",co(Jn,te)),nt(Pe,Nt,be,"borderStyle",co(ls,te)),To(Pe,Nt,be)},us=(te,be)=>{const Pe=te.dom.styles.parse(be),Nt=os(Pe),qn=te.dom.styles.parse(te.dom.styles.serialize(Nt));return te.dom.styles.serialize(qn)},Ao=te=>{const be=te.selection.getNode(),Pe=te.dom.getParent(be,"figure.image");return Pe?te.dom.select("img",Pe)[0]:be&&(be.nodeName!=="IMG"||gs(be))?null:be},Qs=(te,be)=>{const Pe=te.dom,Nt=Pt(te.schema.getTextBlockElements(),(ps,lr)=>!te.schema.isValidChild(lr,"figure")),qn=Pe.getParent(be.parentNode,ps=>Vt(Nt,ps.nodeName),te.getBody());return qn?Pe.split(qn,be)??be:be},me=te=>{const be=Ao(te);return be?ze(Pe=>us(te,Pe),be):tr()},He=(te,be)=>{const Pe=Fe(qn=>us(te,qn),be);te.dom.setAttrib(Pe,"data-mce-id","__mcenew"),te.focus(),te.insertContent(Pe.outerHTML);const Nt=te.dom.select('*[data-mce-id="__mcenew"]')[0];if(te.dom.setAttrib(Nt,"data-mce-id",null),ol(Nt)){const qn=Qs(te,Nt);te.selection.select(qn)}else te.selection.select(Nt)},jt=(te,be)=>{te.dom.setAttrib(be,"src",be.getAttribute("src"))},xn=(te,be)=>{if(be){const Pe=te.dom.is(be.parentNode,"figure.image")?be.parentNode:be;te.dom.remove(Pe),te.focus(),te.nodeChanged(),te.dom.isEmpty(te.getBody())&&(te.setContent(""),te.selection.setCursorLocation())}},qt=(te,be)=>{const Pe=Ao(te);if(Pe)if(Zo(Nt=>us(te,Nt),be,Pe),jt(te,Pe),ol(Pe.parentNode)){te.dom.setStyle(Pe,"float","");const Nt=Pe.parentNode;Qs(te,Nt),te.selection.select(Pe.parentNode)}else te.selection.select(Pe),Ss(te,be,Pe)},xo=(te,be)=>{const Pe=be.src;return{...be,src:Wr(te,Pe)?Pe:""}},oo=(te,be)=>{const Pe=Ao(te);if(Pe){const qn={...ze(lr=>us(te,lr),Pe),...be},ps=xo(te,qn);qn.src?qt(te,ps):xn(te,Pe)}else be.src&&He(te,{...tr(),...be})};var Bn=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Uo=tinymce.util.Tools.resolve("tinymce.util.Tools");const vs=te=>U(te.value)?te.value:"",Ts=te=>U(te.text)?te.text:U(te.title)?te.title:"",As=(te,be)=>{const Pe=[];return Uo.each(te,Nt=>{const qn=Ts(Nt);if(Nt.menu!==void 0){const ps=As(Nt.menu,be);Pe.push({text:qn,items:ps})}else{const ps=be(Nt);Pe.push({text:qn,value:ps})}}),Pe},sa=(te=vs)=>be=>be?vt.from(be).map(Pe=>As(Pe,te)):vt.none(),Sa=te=>sa(vs)(te),Qf=te=>P(te,"items"),Tr=(te,be)=>Tn(te,Pe=>Qf(Pe)?Tr(Pe.items,be):Pe.value===be?vt.some(Pe):vt.none()),ir={sanitizer:sa,sanitize:Sa,findEntry:(te,be)=>te.bind(Pe=>Tr(Pe,be))},wi={makeTab:te=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},Ir=te=>{const be=ir.sanitizer(Po=>te.convertURL(Po.value||Po.url||"","src")),Pe=new Promise(Po=>{Vs(te,qs=>{Po(be(qs).map(_s=>Qe([[{text:"None",value:""}],_s])))})}),Nt=ir.sanitize(Rt(te)),qn=tt(te),ps=Be(te),lr=Zn(te),ja=Xo(te),Ei=me(te),Ol=yt(te),se=Un(te),Ae=Ge(te),Xe=Dt(te),Et=Tt(te),pn=sn(te),Wn=vt.some(Je(te)).filter(Po=>U(Po)&&Po.length>0);return Pe.then(Po=>({image:Ei,imageList:Po,classList:Nt,hasAdvTab:qn,hasUploadTab:ps,hasUploadUrl:lr,hasUploadHandler:ja,hasDescription:Ol,hasImageTitle:se,hasDimensions:Ae,hasImageCaption:Xe,prependURL:Wn,hasAccessibilityOptions:Et,automaticUploads:pn}))},wo=te=>{const be={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},Pe=te.imageList.map(se=>({name:"images",type:"listbox",label:"Image list",items:se})),Nt={name:"alt",type:"input",label:"Alternative description",enabled:!(te.hasAccessibilityOptions&&te.image.isDecorative)},qn={name:"title",type:"input",label:"Image title"},ps={name:"dimensions",type:"sizeinput"},lr={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},ja=te.classList.map(se=>({name:"classes",type:"listbox",label:"Class",items:se})),Ei={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Ol=se=>se?{type:"grid",columns:2}:{type:"panel"};return Qe([[be],Pe.toArray(),te.hasAccessibilityOptions&&te.hasDescription?[lr]:[],te.hasDescription?[Nt]:[],te.hasImageTitle?[qn]:[],te.hasDimensions?[ps]:[],[{...Ol(te.classList.isSome()&&te.hasImageCaption),items:Qe([ja.toArray(),te.hasImageCaption?[Ei]:[]])}]])},ni={makeTab:te=>({title:"General",name:"general",items:wo(te)}),makeItems:wo},Sf={makeTab:te=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},uc=te=>({prevImage:ir.findEntry(te.imageList,te.image.src),prevAlt:te.image.alt,open:!0}),Hr=te=>({src:{value:te.src,meta:{}},images:te.src,alt:te.alt,title:te.title,dimensions:{width:te.width,height:te.height},classes:te.class,caption:te.caption,style:te.style,vspace:te.vspace,border:te.border,hspace:te.hspace,borderstyle:te.borderStyle,fileinput:[],isDecorative:te.isDecorative}),wu=(te,be)=>({src:te.src.value,alt:(te.alt===null||te.alt.length===0)&&be?null:te.alt,title:te.title,width:te.dimensions.width,height:te.dimensions.height,class:te.classes,style:te.style,caption:te.caption,hspace:te.hspace,vspace:te.vspace,border:te.border,borderStyle:te.borderstyle,isDecorative:te.isDecorative}),dc=(te,be)=>/^(?:[a-zA-Z]+:)?\/\//.test(be)?vt.none():te.prependURL.bind(Pe=>be.substring(0,Pe.length)!==Pe?vt.some(Pe+be):vt.none()),Ef=(te,be)=>{const Pe=be.getData();dc(te,Pe.src.value).each(Nt=>{be.setData({src:{value:Nt,meta:Pe.src.meta}})})},An=(te,be,Pe)=>{te.hasDescription&&U(Pe.alt)&&(be.alt=Pe.alt),te.hasAccessibilityOptions&&(be.isDecorative=Pe.isDecorative||be.isDecorative||!1),te.hasImageTitle&&U(Pe.title)&&(be.title=Pe.title),te.hasDimensions&&(U(Pe.width)&&(be.dimensions.width=Pe.width),U(Pe.height)&&(be.dimensions.height=Pe.height)),U(Pe.class)&&ir.findEntry(te.classList,Pe.class).each(Nt=>{be.classes=Nt.value}),te.hasImageCaption&&we(Pe.caption)&&(be.caption=Pe.caption),te.hasAdvTab&&(U(Pe.style)&&(be.style=Pe.style),U(Pe.vspace)&&(be.vspace=Pe.vspace),U(Pe.border)&&(be.border=Pe.border),U(Pe.hspace)&&(be.hspace=Pe.hspace),U(Pe.borderstyle)&&(be.borderstyle=Pe.borderstyle))},Cu=(te,be)=>{const Pe=be.getData(),Nt=Pe.src.meta;if(Nt!==void 0){const qn=cn({},Pe);An(te,qn,Nt),be.setData(qn)}},Ri=(te,be,Pe,Nt)=>{const qn=Nt.getData(),ps=qn.src.value,lr=qn.src.meta||{};!lr.width&&!lr.height&&be.hasDimensions&&(ee(ps)?te.imageSize(ps).then(ja=>{Pe.open&&Nt.setData({dimensions:ja})}).catch(ja=>console.error(ja)):Nt.setData({dimensions:{width:"",height:""}}))},gi=(te,be,Pe)=>{const Nt=Pe.getData(),qn=ir.findEntry(te.imageList,Nt.src.value);be.prevImage=qn,Pe.setData({images:qn.map(ps=>ps.value).getOr("")})},qr=(te,be,Pe,Nt)=>{Ef(be,Nt),Cu(be,Nt),Ri(te,be,Pe,Nt),gi(be,Pe,Nt)},Gd=(te,be,Pe,Nt)=>{const qn=Nt.getData(),ps=ir.findEntry(be.imageList,qn.images);ps.each(lr=>{qn.alt===""||Pe.prevImage.map(Ei=>Ei.text===qn.alt).getOr(!1)?lr.value===""?Nt.setData({src:lr,alt:Pe.prevAlt}):Nt.setData({src:lr,alt:lr.text}):Nt.setData({src:lr})}),Pe.prevImage=ps,qr(te,be,Pe,Nt)},Si=(te,be,Pe,Nt)=>{const qn=Nt.getData();Nt.block("Uploading image"),it(qn.fileinput).fold(()=>{Nt.unblock()},ps=>{const lr=URL.createObjectURL(ps),ja=()=>{Nt.unblock(),URL.revokeObjectURL(lr)},Ei=Ol=>{Nt.setData({src:{value:Ol,meta:{}}}),Nt.showTab("general"),qr(te,be,Pe,Nt),Nt.focus("src")};Xs(ps).then(Ol=>{const se=te.createBlobCache(ps,lr,Ol);be.automaticUploads?te.uploadImage(se).then(Ae=>{Ei(Ae.url),ja()}).catch(Ae=>{ja(),te.alertErr(Ae,()=>{Nt.focus("fileinput")})}):(te.addToBlobCache(se),Ei(se.blobUri()),Nt.unblock())})})},sl=(te,be,Pe)=>(Nt,qn)=>{qn.name==="src"?qr(te,be,Pe,Nt):qn.name==="images"?Gd(te,be,Pe,Nt):qn.name==="alt"?Pe.prevAlt=Nt.getData().alt:qn.name==="fileinput"?Si(te,be,Pe,Nt):qn.name==="isDecorative"&&Nt.setEnabled("alt",!Nt.getData().isDecorative)},Tf=te=>()=>{te.open=!1},Jf=te=>te.hasAdvTab||te.hasUploadUrl||te.hasUploadHandler?{type:"tabpanel",tabs:Qe([[ni.makeTab(te)],te.hasAdvTab?[wi.makeTab(te)]:[],te.hasUploadTab&&(te.hasUploadUrl||te.hasUploadHandler)?[Sf.makeTab(te)]:[]])}:{type:"panel",items:ni.makeItems(te)},Su=(te,be,Pe)=>Nt=>{const qn=cn(Hr(be.image),Nt.getData()),ps={...qn,style:Vl(Pe.normalizeCss,wu(qn,!1))};te.execCommand("mceUpdateImage",!1,wu(ps,be.hasAccessibilityOptions)),te.editorUpload.uploadImagesAuto(),Nt.close()},Kd=te=>be=>Wr(te,be)?ko(te.documentBaseURI.toAbsolute(be)).then(Pe=>({width:String(Pe.width),height:String(Pe.height)})):Promise.resolve({width:"",height:""}),Dl=te=>(be,Pe,Nt)=>te.editorUpload.blobCache.create({blob:be,blobUri:Pe,name:be.name?.replace(/\.[^\.]+$/,""),filename:be.name,base64:Nt.split(",")[1]}),Wc=te=>be=>{te.editorUpload.blobCache.add(be)},qc=te=>(be,Pe)=>{te.windowManager.alert(be,Pe)},fn=te=>be=>us(te,be),Eu=te=>be=>te.dom.parseStyle(be),bd=te=>(be,Pe)=>te.dom.serializeStyle(be,Pe),jl=te=>be=>Bn(te).upload([be],!1).then(Pe=>Pe.length===0?Promise.reject("Failed to upload image"):Pe[0].status===!1?Promise.reject(Pe[0].error?.message):Pe[0]),rl=te=>{const be={imageSize:Kd(te),addToBlobCache:Wc(te),createBlobCache:Dl(te),alertErr:qc(te),normalizeCss:fn(te),parseStyle:Eu(te),serializeStyle:bd(te),uploadImage:jl(te)};return{open:()=>{Ir(te).then(Nt=>{const qn=uc(Nt);return{title:"Insert/Edit Image",size:"normal",body:Jf(Nt),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Hr(Nt.image),onSubmit:Su(te,Nt,be),onChange:sl(be,Nt,qn),onClose:Tf(qn)}}).then(te.windowManager.open)}}},ju=te=>{te.addCommand("mceImage",rl(te).open),te.addCommand("mceUpdateImage",(be,Pe)=>{te.undoManager.transact(()=>oo(te,Pe))})},ji=te=>{const be=te.attr("class");return $e(be)&&/\bimage\b/.test(be)},oi=te=>be=>{let Pe=be.length;const Nt=qn=>{qn.attr("contenteditable",te?"true":null)};for(;Pe--;){const qn=be[Pe];ji(qn)&&(qn.attr("contenteditable",te?"false":null),Uo.each(qn.getAll("figcaption"),Nt))}},_l=te=>{te.on("PreInit",()=>{te.parser.addNodeFilter("figure",oi(!0)),te.serializer.addNodeFilter("figure",oi(!1))})},fc=te=>be=>{const Pe=()=>{be.setEnabled(te.selection.isEditable())};return te.on("NodeChange",Pe),Pe(),()=>{te.off("NodeChange",Pe)}},Ws=te=>{te.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:rl(te).open,onSetup:be=>{be.setActive($e(Ao(te)));const Pe=te.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",be.setActive).unbind,Nt=fc(te)(be);return()=>{Pe(),Nt()}}}),te.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:rl(te).open,onSetup:fc(te)}),te.ui.registry.addContextMenu("image",{update:be=>te.selection.isEditable()&&(ol(be)||hi(be)&&!gs(be))?["image"]:[]})};var Af=()=>{c.add("image",te=>{Ne(te),_l(te),Ws(te),ju(te)})};Af()})()),iae}var cae;function d2e(){return cae||(cae=1,u2e()),aae}d2e();var uae={},dae={},fae;function f2e(){return fae||(fae=1,(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const d=(Ne,Ge)=>Ne.dispatch("insertCustomChar",{chr:Ge}),p=(Ne,Ge)=>{const tt=d(Ne,Ge).chr;Ne.execCommand("mceInsertContent",!1,tt)},x=(Ne,Ge,tt)=>tt(Ne,Ge.prototype)?!0:Ne.constructor?.name===Ge.name,A=Ne=>{const Ge=typeof Ne;return Ne===null?"null":Ge==="object"&&Array.isArray(Ne)?"array":Ge==="object"&&x(Ne,String,(tt,Be)=>Be.isPrototypeOf(tt))?"string":Ge},N=Ne=>Ge=>A(Ge)===Ne,O=Ne=>Ge=>typeof Ge===Ne,H=Ne=>Ge=>Ne===Ge,U=N("array"),V=H(null),Y=H(void 0),ne=Ne=>Ne==null,ue=Ne=>!ne(Ne),we=O("function"),$e=(Ne=>()=>Ne)(!1);class ve{tag;value;static singletonNone=new ve(!1);constructor(Ge,tt){this.tag=Ge,this.value=tt}static some(Ge){return new ve(!0,Ge)}static none(){return ve.singletonNone}fold(Ge,tt){return this.tag?tt(this.value):Ge()}isSome(){return this.tag}isNone(){return!this.tag}map(Ge){return this.tag?ve.some(Ge(this.value)):ve.none()}bind(Ge){return this.tag?Ge(this.value):ve.none()}exists(Ge){return this.tag&&Ge(this.value)}forall(Ge){return!this.tag||Ge(this.value)}filter(Ge){return!this.tag||Ge(this.value)?this:ve.none()}getOr(Ge){return this.tag?this.value:Ge}or(Ge){return this.tag?this:Ge}getOrThunk(Ge){return this.tag?this.value:Ge()}orThunk(Ge){return this.tag?this:Ge()}getOrDie(Ge){if(this.tag)return this.value;throw new Error(Ge??"Called getOrDie on None")}static from(Ge){return ue(Ge)?ve.some(Ge):ve.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ge){this.tag&&Ge(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const ct=Array.prototype.push,Ue=(Ne,Ge)=>{const tt=Ne.length,Be=new Array(tt);for(let Je=0;Je<tt;Je++){const Rt=Ne[Je];Be[Je]=Ge(Rt,Je)}return Be},J=(Ne,Ge)=>{for(let tt=0,Be=Ne.length;tt<Be;tt++){const Je=Ne[tt];Ge(Je,tt)}},vt=(Ne,Ge,tt)=>{for(let Be=0,Je=Ne.length;Be<Je;Be++){const Rt=Ne[Be];if(Ge(Rt,Be))return ve.some(Rt);if(tt(Rt,Be))break}return ve.none()},en=(Ne,Ge)=>vt(Ne,Ge,$e),Qe=Ne=>{const Ge=[];for(let tt=0,Be=Ne.length;tt<Be;++tt){if(!U(Ne[tt]))throw new Error("Arr.flatten item "+tt+" was not an array, input: "+Ne);ct.apply(Ge,Ne[tt])}return Ge},ie=(Ne,Ge)=>Qe(Ue(Ne,Ge)),it=Ne=>{let Ge=Ne;return{get:()=>Ge,set:Je=>{Ge=Je}}},Tn=(Ne,Ge,tt=0,Be)=>{const Je=Ne.indexOf(Ge,tt);return Je!==-1?Y(Be)?!0:Je+Ge.length<=Be:!1},mn=String.fromCodePoint,qe=(Ne,Ge)=>{let tt=null;const Be=()=>{V(tt)||(clearTimeout(tt),tt=null)};return{cancel:Be,throttle:(...Rt)=>{Be(),tt=setTimeout(()=>{tt=null,Ne.apply(null,Rt)},Ge)}}};var Oe=tinymce.util.Tools.resolve("tinymce.util.Tools");const Yo=Ne=>Ge=>Ge.options.get(Ne),pt=Ne=>{const Ge=Ne.options.register,tt=Be=>we(Be)||U(Be);Ge("charmap",{processor:tt}),Ge("charmap_append",{processor:tt})},Pt=Yo("charmap"),P=Yo("charmap_append"),Vt=Oe.isArray,at="User Defined",Qn=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],cn=Ne=>Oe.grep(Ne,Ge=>Vt(Ge)&&Ge.length===2),ee=Ne=>Vt(Ne)?cn(Ne):typeof Ne=="function"?Ne():[],Me=(Ne,Ge)=>{const tt=Pt(Ne);tt&&(Ge=[{name:at,characters:ee(tt)}]);const Be=P(Ne);if(Be){const Je=Oe.grep(Ge,Rt=>Rt.name===at);return Je.length?(Je[0].characters=[...Je[0].characters,...ee(Be)],Ge):Ge.concat({name:at,characters:ee(Be)})}return Ge},wt=Ne=>{const Ge=Me(Ne,Qn());return Ge.length>1?[{name:"All",characters:ie(Ge,tt=>tt.characters)}].concat(Ge):Ge},je=Ne=>({getCharMap:()=>wt(Ne),insertChar:Be=>{p(Ne,Be)}}),Bt=(Ne,Ge,tt)=>Tn(mn(Ne).toLowerCase(),tt)?!0:Tn(Ge.toLowerCase(),tt)||Tn(Ge.toLowerCase().replace(/\s+/g,""),tt),Ze=(Ne,Ge)=>{const tt=[],Be=Ge.toLowerCase();return J(Ne.characters,Je=>{Bt(Je[0],Je[1],Be)&&tt.push(Je)}),Ue(tt,Je=>({text:Je[1],value:mn(Je[0]),icon:mn(Je[0])}))},bt="pattern",X=(Ne,Ge)=>{const tt=()=>[{label:"Search",type:"input",name:bt},{type:"collection",name:"results"}],Be=()=>Ue(Ge,Jo=>({title:Jo.name,name:Jo.name,items:tt()})),Je=()=>({type:"panel",items:tt()}),Rt=()=>({type:"tabpanel",tabs:Be()}),yt=Ge.length===1?it(at):it("All"),Un=(Jo,ko)=>{en(Ge,mr=>mr.name===yt.get()).each(mr=>{const Ho=Ze(mr,ko);Jo.setData({results:Ho})})},Le=qe(Jo=>{const ko=Jo.getData().pattern;Un(Jo,ko)},40),Tt=Ge.length===1?Je():Rt(),sn={pattern:"",results:Ze(Ge[0],"")},Zn={title:"Special Character",size:"normal",body:Tt,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:sn,onAction:(Jo,ko)=>{ko.name==="results"&&(p(Ne,ko.value),Jo.close())},onTabChange:(Jo,ko)=>{yt.set(ko.newTabName),Le.throttle(Jo)},onChange:(Jo,ko)=>{ko.name===bt&&Le.throttle(Jo)}};Ne.windowManager.open(Zn).focus(bt)},jo=(Ne,Ge)=>{Ne.addCommand("mceShowCharmap",()=>{X(Ne,Ge)})},vo=(Ne,Ge)=>{Ne.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(tt,Be)=>new Promise((Je,Rt)=>{Je(Ze(Ge,tt))}),onAction:(tt,Be,Je)=>{Ne.selection.setRng(Be),Ne.insertContent(Je),tt.hide()}})},Mo=Ne=>Ge=>{const tt=()=>{Ge.setEnabled(Ne.selection.isEditable())};return Ne.on("NodeChange",tt),tt(),()=>{Ne.off("NodeChange",tt)}},Io=Ne=>{const Ge=()=>Ne.execCommand("mceShowCharmap");Ne.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:Ge,onSetup:Mo(Ne)}),Ne.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:Ge,onSetup:Mo(Ne)})};var zs=()=>{c.add("charmap",Ne=>{pt(Ne);const Ge=wt(Ne);return jo(Ne,Ge),Io(Ne),vo(Ne,Ge[0]),je(Ne)})};zs()})()),dae}var mae;function m2e(){return mae||(mae=1,f2e()),uae}m2e();var hae={},gae={},pae;function h2e(){return pae||(pae=1,(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const d=Zt=>Gt=>typeof Gt===Zt,x=(Zt=>Gt=>Zt===Gt)(void 0),A=Zt=>Zt==null,N=Zt=>!A(Zt),O=d("function"),H=Zt=>()=>Zt,U=Zt=>Zt,V=H(!1);class Y{tag;value;static singletonNone=new Y(!1);constructor(Gt,Yn){this.tag=Gt,this.value=Yn}static some(Gt){return new Y(!0,Gt)}static none(){return Y.singletonNone}fold(Gt,Yn){return this.tag?Yn(this.value):Gt()}isSome(){return this.tag}isNone(){return!this.tag}map(Gt){return this.tag?Y.some(Gt(this.value)):Y.none()}bind(Gt){return this.tag?Gt(this.value):Y.none()}exists(Gt){return this.tag&&Gt(this.value)}forall(Gt){return!this.tag||Gt(this.value)}filter(Gt){return!this.tag||Gt(this.value)?this:Y.none()}getOr(Gt){return this.tag?this.value:Gt}or(Gt){return this.tag?this:Gt}getOrThunk(Gt){return this.tag?this.value:Gt()}orThunk(Gt){return this.tag?this:Gt()}getOrDie(Gt){if(this.tag)return this.value;throw new Error(Gt??"Called getOrDie on None")}static from(Gt){return N(Gt)?Y.some(Gt):Y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Gt){this.tag&&Gt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const ne=Array.prototype.indexOf,ue=(Zt,Gt)=>ne.call(Zt,Gt),we=(Zt,Gt)=>ue(Zt,Gt)>-1,Ee=(Zt,Gt)=>{for(let Yn=0,Gn=Zt.length;Yn<Gn;Yn++){const yo=Zt[Yn];if(Gt(yo,Yn))return!0}return!1},$e=(Zt,Gt)=>{const Yn=Zt.length,Gn=new Array(Yn);for(let yo=0;yo<Yn;yo++){const Ro=Zt[yo];Gn[yo]=Gt(Ro,yo)}return Gn},ve=(Zt,Gt,Yn)=>{for(let Gn=0,yo=Zt.length;Gn<yo;Gn++){const Ro=Zt[Gn];if(Gt(Ro,Gn))return Y.some(Ro);if(Yn(Ro,Gn))break}return Y.none()},ct=(Zt,Gt)=>ve(Zt,Gt,V),Ue=(Zt,Gt)=>{for(let Yn=0;Yn<Zt.length;Yn++){const Gn=Gt(Zt[Yn],Yn);if(Gn.isSome())return Gn}return Y.none()},J=(Zt,Gt)=>{const Yn=[],Gn=O(Gt)?yo=>Ee(Yn,Ro=>Gt(Ro,yo)):yo=>we(Yn,yo);for(let yo=0,Ro=Zt.length;yo<Ro;yo++){const Jn=Zt[yo];Gn(Jn)||Yn.push(Jn)}return Yn},vt=Object.keys,en=(Zt,Gt)=>{const Yn=vt(Zt);for(let Gn=0,yo=Yn.length;Gn<yo;Gn++){const Ro=Yn[Gn],Jn=Zt[Ro];Gt(Jn,Ro)}},Qe=(Zt,Gt)=>{const Yn=[];return en(Zt,(Gn,yo)=>{Yn.push(Gt(Gn,yo))}),Yn},ie=Zt=>Qe(Zt,U),it=(Zt,Gt,Yn=0,Gn)=>{const yo=Zt.indexOf(Gt,Yn);return yo!==-1?x(Gn)?!0:yo+Gt.length<=Gn:!1},Tn=Zt=>{let Gt=!1,Yn;return(...Gn)=>(Gt||(Gt=!0,Yn=Zt.apply(null,Gn)),Yn)},mn=(Zt,Gt,Yn,Gn)=>{const yo=Zt.isiOS()&&/ipad/i.test(Yn)===!0,Ro=Zt.isiOS()&&!yo,Jn=Zt.isiOS()||Zt.isAndroid(),ls=Jn||Gn("(pointer:coarse)"),La=yo||!Ro&&Jn&&Gn("(min-device-width:768px)"),ol=Ro||Jn&&!La,hi=Gt.isSafari()&&Zt.isiOS()&&/safari/i.test(Yn)===!1,Pn=!ol&&!La&&!hi;return{isiPad:H(yo),isiPhone:H(Ro),isTablet:H(La),isPhone:H(ol),isTouch:H(ls),isAndroid:Zt.isAndroid,isiOS:Zt.isiOS,isWebView:H(hi),isDesktop:H(Pn)}},qe=(Zt,Gt)=>{for(let Yn=0;Yn<Zt.length;Yn++){const Gn=Zt[Yn];if(Gn.test(Gt))return Gn}},Oe=(Zt,Gt)=>{const Yn=qe(Zt,Gt);if(!Yn)return{major:0,minor:0};const Gn=yo=>Number(Gt.replace(Yn,"$"+yo));return Pt(Gn(1),Gn(2))},Yo=(Zt,Gt)=>{const Yn=String(Gt).toLowerCase();return Zt.length===0?pt():Oe(Zt,Yn)},pt=()=>Pt(0,0),Pt=(Zt,Gt)=>({major:Zt,minor:Gt}),P={nu:Pt,detect:Yo,unknown:pt},Vt=(Zt,Gt)=>Ue(Gt.brands,Yn=>{const Gn=Yn.brand.toLowerCase();return ct(Zt,yo=>Gn===yo.brand?.toLowerCase()).map(yo=>({current:yo.name,version:P.nu(parseInt(Yn.version,10),0)}))}),at=(Zt,Gt)=>{const Yn=String(Gt).toLowerCase();return ct(Zt,Gn=>Gn.search(Yn))},Qn=(Zt,Gt)=>at(Zt,Gt).map(Yn=>{const Gn=P.detect(Yn.versionRegexes,Gt);return{current:Yn.name,version:Gn}}),cn=(Zt,Gt)=>at(Zt,Gt).map(Yn=>{const Gn=P.detect(Yn.versionRegexes,Gt);return{current:Yn.name,version:Gn}}),ee=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Me=Zt=>Gt=>it(Gt,Zt),wt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:Zt=>it(Zt,"edge/")&&it(Zt,"chrome")&&it(Zt,"safari")&&it(Zt,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ee],search:Zt=>it(Zt,"chrome")&&!it(Zt,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:Zt=>it(Zt,"msie")||it(Zt,"trident")},{name:"Opera",versionRegexes:[ee,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Me("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Me("firefox")},{name:"Safari",versionRegexes:[ee,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:Zt=>(it(Zt,"safari")||it(Zt,"mobile/"))&&it(Zt,"applewebkit")}],je=[{name:"Windows",search:Me("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:Zt=>it(Zt,"iphone")||it(Zt,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Me("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Me("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Me("linux"),versionRegexes:[]},{name:"Solaris",search:Me("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Me("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Me("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Bt={browsers:H(wt),oses:H(je)},Ze="Edge",bt="Chromium",X="IE",jo="Opera",vo="Firefox",Mo="Safari",Io=()=>zs({current:void 0,version:P.unknown()}),zs=Zt=>{const Gt=Zt.current,Yn=Zt.version,Gn=yo=>()=>Gt===yo;return{current:Gt,version:Yn,isEdge:Gn(Ze),isChromium:Gn(bt),isIE:Gn(X),isOpera:Gn(jo),isFirefox:Gn(vo),isSafari:Gn(Mo)}},Ne={unknown:Io,nu:zs},Ge="Windows",tt="iOS",Be="Android",Je="Linux",Rt="macOS",yt="Solaris",Un="FreeBSD",Dt="ChromeOS",Le=()=>Tt({current:void 0,version:P.unknown()}),Tt=Zt=>{const Gt=Zt.current,Yn=Zt.version,Gn=yo=>()=>Gt===yo;return{current:Gt,version:Yn,isWindows:Gn(Ge),isiOS:Gn(tt),isAndroid:Gn(Be),isMacOS:Gn(Rt),isLinux:Gn(Je),isSolaris:Gn(yt),isFreeBSD:Gn(Un),isChromeOS:Gn(Dt)}},sn={unknown:Le,nu:Tt},Xo={detect:(Zt,Gt,Yn)=>{const Gn=Bt.browsers(),yo=Bt.oses(),Ro=Gt.bind(La=>Vt(Gn,La)).orThunk(()=>Qn(Gn,Zt)).fold(Ne.unknown,Ne.nu),Jn=cn(yo,Zt).fold(sn.unknown,sn.nu),ls=mn(Jn,Ro,Zt,Yn);return{browser:Ro,os:Jn,deviceType:ls}}},Jo=Zt=>window.matchMedia(Zt).matches;let ko=Tn(()=>Xo.detect(window.navigator.userAgent,Y.from(window.navigator.userAgentData),Jo));const mr=()=>ko(),Ho=()=>mr().os.isMacOS(),os=()=>mr().os.isiOS(),Vs=()=>{const Zt=Ho()||os();return`<script>(${(Yn=>{document.addEventListener("click",Gn=>{for(let yo=Gn.target;yo;yo=yo.parentNode)if(yo.nodeName==="A"){const Jn=yo.getAttribute("href");if(Jn&&Jn.startsWith("#")){Gn.preventDefault();const La=document.getElementById(Jn.substring(1));La&&La.scrollIntoView({behavior:"smooth"});return}(Yn?Gn.metaKey:Gn.ctrlKey&&!Gn.altKey)||Gn.preventDefault()}},!1)}).toString()})(${Zt})<\/script>`};var Ss=tinymce.util.Tools.resolve("tinymce.dom.ScriptLoader"),Xs=tinymce.util.Tools.resolve("tinymce.util.Tools");const gs=Zt=>Gt=>Gt.options.get(Zt),Wr=gs("content_style"),Es=gs("content_css_cors"),$r=gs("body_class"),Ma=gs("body_id"),Hn=Zt=>{const Gt=J(ie(Zt.schema.getComponentUrls()));return $e(Gt,Yn=>{const Gn=Qe(Ss.ScriptLoader.getScriptAttributes(Yn),(yo,Ro)=>` ${Zt.dom.encode(Ro)}="${Zt.dom.encode(yo)}"`);return`<script src="${Zt.dom.encode(Yn)}"${Gn.join("")}><\/script>`}).join("")},ts=Zt=>{let Gt="";const Yn=Zt.dom.encode,Gn=Wr(Zt)??"";Gt+=`<base href="${Yn(Zt.documentBaseURI.getURI())}">`;const yo=Es(Zt)?' crossorigin="anonymous"':"";Xs.each(Zt.contentCSS,hi=>{Gt+='<link type="text/css" rel="stylesheet" href="'+Yn(Zt.documentBaseURI.toAbsolute(hi))+'"'+yo+">"}),Gn&&(Gt+='<style type="text/css">'+Gn+"</style>"),Gt+=Hn(Zt);const Ro=Ma(Zt),Jn=$r(Zt),ls=Zt.getBody().dir,La=ls?' dir="'+Yn(ls)+'"':"";return"<!DOCTYPE html><html><head>"+Gt+'</head><body id="'+Yn(Ro)+'" class="mce-content-body '+Yn(Jn)+'"'+La+">"+Zt.getContent()+Vs()+"</body></html>"},Oo=Zt=>{const Gt=ts(Zt);Zt.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:Gt}}).focus("close")},ci=Zt=>{Zt.addCommand("mcePreview",()=>{Oo(Zt)})},Ba=Zt=>{const Gt=()=>Zt.execCommand("mcePreview");Zt.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:Gt,context:"any"}),Zt.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:Gt,context:"any"})};var Mn=()=>{c.add("preview",Zt=>{ci(Zt),Ba(Zt)})};Mn()})()),gae}var bae;function g2e(){return bae||(bae=1,h2e()),hae}g2e();var yae={},vae={},xae;function p2e(){return xae||(xae=1,(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager"),d=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),p=tinymce.util.Tools.resolve("tinymce.util.Tools");const x=pt=>Pt=>Pt.options.get(pt),A=pt=>{const Pt=pt.options.register;Pt("allow_html_in_named_anchor",{processor:"boolean",default:!1})},N=x("allow_html_in_named_anchor"),O="a:not([href])",H=pt=>!pt,U=pt=>pt.getAttribute("id")||pt.getAttribute("name")||"",V=pt=>pt.nodeName.toLowerCase()==="a",Y=pt=>V(pt)&&!pt.getAttribute("href")&&U(pt)!=="",ne=pt=>Y(pt)&&!pt.firstChild,ue=pt=>{const Pt=pt.dom;d(Pt).walk(pt.selection.getRng(),P=>{p.each(P,Vt=>{ne(Vt)&&Pt.remove(Vt,!1)})})},we=pt=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(pt),Ee=pt=>pt.dom.getParent(pt.selection.getStart(),O),$e=pt=>{const Pt=Ee(pt);return Pt?U(Pt):""},ve=(pt,Pt)=>{pt.undoManager.transact(()=>{N(pt)||pt.selection.collapse(!0),pt.selection.isCollapsed()?pt.insertContent(pt.dom.createHTML("a",{id:Pt})):(ue(pt),pt.formatter.remove("namedAnchor",void 0,void 0,!0),pt.formatter.apply("namedAnchor",{value:Pt}),pt.addVisual())})},ct=(pt,Pt,P)=>{P.removeAttribute("name"),P.id=Pt,pt.addVisual(),pt.undoManager.add()},Ue=(pt,Pt)=>{const P=Ee(pt);P?ct(pt,Pt,P):ve(pt,Pt),pt.focus()},J=(pt,Pt)=>we(Pt)?(Ue(pt,Pt),!0):(pt.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1),vt=pt=>{const Pt=$e(pt);pt.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:Pt},onSubmit:P=>{J(pt,P.getData().id)&&P.close()}})},en=pt=>{pt.addCommand("mceAnchor",()=>{vt(pt)})},Qe=pt=>H(pt.attr("href"))&&!H(pt.attr("id")||pt.attr("name")),ie=pt=>Qe(pt)&&!pt.firstChild,it=pt=>Pt=>{for(let P=0;P<Pt.length;P++){const Vt=Pt[P];ie(Vt)&&Vt.attr("contenteditable",pt)}},Tn=pt=>{pt.on("PreInit",()=>{pt.parser.addNodeFilter("a",it("false")),pt.serializer.addNodeFilter("a",it(null))})},mn=pt=>{pt.formatter.register("namedAnchor",{inline:"a",selector:O,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:(Pt,P,Vt)=>Y(Pt)})},qe=pt=>Pt=>{const P=()=>{Pt.setEnabled(pt.selection.isEditable())};return pt.on("NodeChange",P),P(),()=>{pt.off("NodeChange",P)}},Oe=pt=>{const Pt=()=>pt.execCommand("mceAnchor");pt.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:Pt,onSetup:P=>{const Vt=pt.selection.selectorChangedWithUnbind("a:not([href])",P.setActive).unbind,at=qe(pt)(P);return()=>{Vt(),at()}}}),pt.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:Pt,onSetup:qe(pt)})};var Yo=()=>{c.add("anchor",pt=>{A(pt),Tn(pt),en(pt),Oe(pt),pt.on("PreInit",()=>{mn(pt)})})};Yo()})()),vae}var wae;function b2e(){return wae||(wae=1,p2e()),yae}b2e();var Cae={},Sae={},Eae;function y2e(){return Eae||(Eae=1,(function(){const c=(me,He,jt)=>jt(me,He.prototype)?!0:me.constructor?.name===He.name,d=me=>{const He=typeof me;return me===null?"null":He==="object"&&Array.isArray(me)?"array":He==="object"&&c(me,String,(jt,xn)=>xn.isPrototypeOf(jt))?"string":He},p=me=>He=>d(He)===me,x=me=>He=>typeof He===me,A=p("string"),N=p("array"),O=x("boolean"),H=me=>me==null,U=me=>!H(me),V=x("number"),Y=()=>{},ne=me=>()=>me,ue=ne(!0);class we{tag;value;static singletonNone=new we(!1);constructor(He,jt){this.tag=He,this.value=jt}static some(He){return new we(!0,He)}static none(){return we.singletonNone}fold(He,jt){return this.tag?jt(this.value):He()}isSome(){return this.tag}isNone(){return!this.tag}map(He){return this.tag?we.some(He(this.value)):we.none()}bind(He){return this.tag?He(this.value):we.none()}exists(He){return this.tag&&He(this.value)}forall(He){return!this.tag||He(this.value)}filter(He){return!this.tag||He(this.value)?this:we.none()}getOr(He){return this.tag?this.value:He}or(He){return this.tag?this:He}getOrThunk(He){return this.tag?this.value:He()}orThunk(He){return this.tag?this:He()}getOrDie(He){if(this.tag)return this.value;throw new Error(He??"Called getOrDie on None")}static from(He){return U(He)?we.some(He):we.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(He){this.tag&&He(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Ee=Array.prototype.slice,$e=Array.prototype.push,ve=(me,He)=>{const jt=me.length,xn=new Array(jt);for(let qt=0;qt<jt;qt++){const xo=me[qt];xn[qt]=He(xo,qt)}return xn},ct=(me,He)=>{for(let jt=0,xn=me.length;jt<xn;jt++){const qt=me[jt];He(qt,jt)}},Ue=(me,He)=>{for(let jt=me.length-1;jt>=0;jt--){const xn=me[jt];He(xn,jt)}},J=(me,He)=>{if(me.length===0)return[];{let jt=He(me[0]);const xn=[];let qt=[];for(let xo=0,oo=me.length;xo<oo;xo++){const Bn=me[xo],Uo=He(Bn);Uo!==jt&&(xn.push(qt),qt=[]),jt=Uo,qt.push(Bn)}return qt.length!==0&&xn.push(qt),xn}},vt=(me,He,jt)=>(ct(me,(xn,qt)=>{jt=He(jt,xn,qt)}),jt),en=me=>{const He=[];for(let jt=0,xn=me.length;jt<xn;++jt){if(!N(me[jt]))throw new Error("Arr.flatten item "+jt+" was not an array, input: "+me);$e.apply(He,me[jt])}return He},Qe=(me,He)=>en(ve(me,He)),ie=(me,He)=>{const jt=Ee.call(me,0);return jt.sort(He),jt},it=Object.hasOwnProperty,Tn=(me,He)=>it.call(me,He),mn=me=>{let He=me;return{get:()=>He,set:qt=>{He=qt}}},qe=me=>{const He=mn(we.none()),jt=()=>He.get().each(me);return{clear:()=>{jt(),He.set(we.none())},isSet:()=>He.get().isSome(),get:()=>He.get(),set:Bn=>{jt(),He.set(we.some(Bn))}}},Oe=()=>{const me=qe(Y);return{...me,on:jt=>me.get().each(jt)}};var Yo=tinymce.util.Tools.resolve("tinymce.PluginManager");const P=ne("[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]");var Vt=tinymce.util.Tools.resolve("tinymce.Env"),at=tinymce.util.Tools.resolve("tinymce.util.Tools");const Qn=(me,He)=>{const xn=(He||document).createElement("div");if(xn.innerHTML=me,!xn.hasChildNodes()||xn.childNodes.length>1){const qt="HTML does not have a single root node";throw console.error(qt,me),new Error(qt)}return Me(xn.childNodes[0])},cn=(me,He)=>{const xn=(He||document).createElement(me);return Me(xn)},ee=(me,He)=>{const xn=(He||document).createTextNode(me);return Me(xn)},Me=me=>{if(me==null)throw new Error("Node cannot be null or undefined");return{dom:me}},je={fromHtml:Qn,fromTag:cn,fromText:ee,fromDom:Me,fromPoint:(me,He,jt)=>we.from(me.dom.elementFromPoint(He,jt)).map(Me)},Bt=9,Ze=11,bt=1,X=3,jo=me=>me.nodeType!==bt&&me.nodeType!==Bt&&me.nodeType!==Ze||me.childElementCount===0,vo=(me,He)=>{const jt=He===void 0?document:He.dom;return jo(jt)?[]:ve(jt.querySelectorAll(me),je.fromDom)},Mo=(me,He,jt)=>(me.compareDocumentPosition(He)&jt)!==0,Io=(me,He)=>Mo(me,He,Node.DOCUMENT_POSITION_PRECEDING),zs=me=>me.dom.nodeType,Ge=(me=>He=>zs(He)===me)(X),tt=me=>we.from(me.dom.parentNode).map(je.fromDom),Be=me=>ve(me.dom.childNodes,je.fromDom),Je=(me,He)=>({element:me,offset:He}),Rt=(me,He)=>{const jt=Be(me);return jt.length>0&&He<jt.length?Je(jt[He],0):Je(me,He)},yt=(me,He)=>{tt(me).each(xn=>{xn.dom.insertBefore(He.dom,me.dom)})},Un=(me,He)=>{me.dom.appendChild(He.dom)},Dt=(me,He)=>{yt(me,He),Un(He,me)},Le=(me,He,jt)=>{if(A(jt)||O(jt)||V(jt))me.setAttribute(He,jt+"");else throw console.error("Invalid call to Attribute.set. Key ",He,":: Value ",jt,":: Element ",me),new Error("Attribute value was not simple")},Tt=(me,He,jt)=>{Le(me.dom,He,jt)},Zn=((me,He)=>{const jt=xo=>{if(!me(xo))throw new Error("Can only get "+He+" value of a "+He+" node");return xn(xo).getOr("")},xn=xo=>me(xo)?we.from(xo.dom.nodeValue):we.none();return{get:jt,getOption:xn,set:(xo,oo)=>{if(!me(xo))throw new Error("Can only set raw "+He+" value of a "+He+" node");xo.dom.nodeValue=oo}}})(Ge,"text"),Xo=me=>Zn.get(me),Jo=(me,He)=>vo(He,me);var ko=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const mr=(me,He)=>me.isBlock(He)||Tn(me.schema.getVoidElements(),He.nodeName),Ho=(me,He)=>!me.isEditable(He),os=(me,He)=>me.getContentEditable(He)==="true"&&He.parentNode&&!me.isEditable(He.parentNode),Vs=(me,He)=>!me.isBlock(He)&&Tn(me.schema.getWhitespaceElements(),He.nodeName),Ss=(me,He)=>mr(me,He)||Ho(me,He)||Vs(me,He)||os(me,He),Xs=me=>me.nodeType===3,gs=()=>({sOffset:0,fOffset:0,elements:[]}),Wr=(me,He)=>Rt(je.fromDom(me),He),Es=(me,He,jt,xn,qt,xo=!0)=>{let oo=xo?He(!1):jt;for(;oo;){const Bn=Ho(me,oo);if(Bn||Vs(me,oo)){if(Bn?xn.cef(oo):xn.boundary(oo))break;oo=He(!0);continue}else if(mr(me,oo)){if(xn.boundary(oo))break}else Xs(oo)&&xn.text(oo);if(oo===qt)break;oo=He(!1)}},$r=(me,He,jt,xn,qt)=>{if(Ss(me,jt))return;const xo=me.getParent(xn,me.isBlock)??me.getRoot(),oo=new ko(jt,xo),Bn=qt?oo.next.bind(oo):oo.prev.bind(oo);Es(me,Bn,jt,{boundary:ue,cef:ue,text:Uo=>{qt?He.fOffset+=Uo.length:He.sOffset+=Uo.length,He.elements.push(je.fromDom(Uo))}})},Ma=(me,He,jt,xn,qt,xo=!0)=>{const oo=new ko(jt,He),Bn=[];let Uo=gs();$r(me,Uo,jt,He,!1);const vs=()=>(Uo.elements.length>0&&(Bn.push(Uo),Uo=gs()),!1);return Es(me,oo.next.bind(oo),jt,{boundary:vs,cef:Ts=>(vs(),qt&&Bn.push(...qt.cef(Ts)),!1),text:Ts=>{Uo.elements.push(je.fromDom(Ts)),qt&&qt.text(Ts,Uo)}},xn,xo),xn&&$r(me,Uo,xn,He,!0),vs(),Bn},Hn=(me,He)=>{const jt=Wr(He.startContainer,He.startOffset),xn=jt.element.dom,qt=Wr(He.endContainer,He.endOffset),xo=qt.element.dom;return Ma(me,He.commonAncestorContainer,xn,xo,{text:(oo,Bn)=>{oo===xo?Bn.fOffset+=oo.length-qt.offset:oo===xn&&(Bn.sOffset+=jt.offset)},cef:oo=>{const Bn=Qe(Jo(je.fromDom(oo),"*[contenteditable=true]"),Uo=>{const vs=Uo.dom;return Ma(me,vs,vs)});return ie(Bn,(Uo,vs)=>Io(Uo.elements[0].dom,vs.elements[0].dom)?1:-1)}},!1)},ts=(me,He)=>He.collapsed?[]:Hn(me,He),Oo=(me,He)=>{const jt=me.createRng();return jt.selectNode(He),ts(me,jt)},ci=(me,He)=>Qe(He,jt=>Oo(me,jt)),Ba=(me,He,jt=0,xn=me.length)=>{const qt=He.regex;qt.lastIndex=jt;const xo=[];let oo;for(;oo=qt.exec(me);){const Bn=oo[He.matchIndex],Uo=oo.index+oo[0].indexOf(Bn),vs=Uo+Bn.length;if(vs>xn)break;xo.push({start:Uo,finish:vs}),qt.lastIndex=vs}return xo},Mn=(me,He)=>{const jt=vt(me,(xn,qt)=>{const xo=Xo(qt),oo=xn.last,Bn=oo+xo.length,Uo=Qe(He,(vs,Ts)=>vs.start<Bn&&vs.finish>oo?[{element:qt,start:Math.max(oo,vs.start)-oo,finish:Math.min(Bn,vs.finish)-oo,matchId:Ts}]:[]);return{results:xn.results.concat(Uo),last:Bn}},{results:[],last:0}).results;return J(jt,xn=>xn.matchId)},Zt=(me,He)=>Qe(He,jt=>{const xn=jt.elements,qt=ve(xn,Xo).join(""),xo=Ba(qt,me,jt.sOffset,qt.length-jt.fOffset);return Mn(xn,xo)}),Gt=(me,He)=>{Ue(me,(jt,xn)=>{Ue(jt,qt=>{const xo=je.fromDom(He.cloneNode(!1));Tt(xo,"data-mce-index",xn);const oo=qt.element.dom;if(oo.length===qt.finish&&qt.start===0)Dt(qt.element,xo);else{oo.length!==qt.finish&&oo.splitText(qt.finish);const Bn=oo.splitText(qt.start);Dt(je.fromDom(Bn),xo)}})})},Yn=(me,He,jt,xn)=>{const qt=Oo(me,jt),xo=Zt(He,qt);return Gt(xo,xn),xo.length},Gn=(me,He,jt,xn)=>{const qt=jt.getBookmark(),xo=me.select("td[data-mce-selected],th[data-mce-selected]"),oo=xo.length>0?ci(me,xo):ts(me,jt.getRng()),Bn=Zt(He,oo);return Gt(Bn,xn),jt.moveToBookmark(qt),Bn.length},yo=me=>me.getAttribute("data-mce-index"),Ro=(me,He,jt,xn)=>{const qt=me.dom.create("span",{"data-mce-bogus":1});qt.className="mce-match-marker";const xo=me.getBody();return ze(me,He,!1),xn?Gn(me.dom,jt,me.selection,qt):Yn(me.dom,jt,xo,qt)},Jn=me=>{const He=me.parentNode;me.firstChild&&He.insertBefore(me.firstChild,me),me.parentNode?.removeChild(me)},ls=(me,He)=>{const jt=[],xn=at.toArray(me.getBody().getElementsByTagName("span"));if(xn.length)for(let qt=0;qt<xn.length;qt++){const xo=yo(xn[qt]);xo===null||!xo.length||xo===He.toString()&&jt.push(xn[qt])}return jt},La=(me,He,jt)=>{const xn=He.get();let qt=xn.index;const xo=me.dom;jt?qt+1===xn.count?qt=0:qt++:qt-1===-1?qt=xn.count-1:qt--,xo.removeClass(ls(me,xn.index),"mce-match-marker-selected");const oo=ls(me,qt);return oo.length?(xo.addClass(ls(me,qt),"mce-match-marker-selected"),me.selection.scrollIntoView(oo[0]),qt):-1},ol=(me,He)=>{const jt=He.parentNode;me.remove(He),jt&&me.isEmpty(jt)&&me.remove(jt)},hi=(me,He)=>{const xn="("+me.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return He?`(?:^|\\s|${P()})`+xn+`(?=$|\\s|${P()})`:xn},Pn=(me,He,jt,xn,qt,xo)=>{const oo=me.selection,Bn=hi(jt,qt),Uo=oo.isForward(),vs={regex:new RegExp(Bn,xn?"g":"gi"),matchIndex:1},Ts=Ro(me,He,vs,xo);if(Vt.browser.isSafari()&&oo.setRng(oo.getRng(),Uo),Ts){const As=La(me,He,!0);He.set({index:As,count:Ts,text:jt,matchCase:xn,wholeWord:qt,inSelection:xo})}return Ts},er=(me,He)=>{const jt=La(me,He,!0);He.set({...He.get(),index:jt})},tr=(me,He)=>{const jt=La(me,He,!1);He.set({...He.get(),index:jt})},Vl=me=>{const He=yo(me);return He!==null&&He.length>0},Fe=(me,He,jt,xn,qt)=>{const xo=He.get(),oo=xo.index;let Bn,Uo=oo;xn=xn!==!1;const vs=me.getBody(),Ts=at.grep(at.toArray(vs.getElementsByTagName("span")),Vl);for(let As=0;As<Ts.length;As++){const sa=yo(Ts[As]);let Sa=Bn=parseInt(sa,10);if(qt||Sa===xo.index){for(jt.length?(Ts[As].innerText=jt,Jn(Ts[As])):ol(me.dom,Ts[As]);Ts[++As];)if(Sa=parseInt(yo(Ts[As]),10),Sa===Bn)ol(me.dom,Ts[As]);else{As--;break}xn&&Uo--}else Bn>oo&&Ts[As].setAttribute("data-mce-index",String(Bn-1))}return He.set({...xo,count:qt?0:xo.count-1,index:Uo}),xn?er(me,He):tr(me,He),!qt&&He.get().count>0},ze=(me,He,jt)=>{let xn,qt;const xo=He.get(),oo=at.toArray(me.getBody().getElementsByTagName("span"));for(let Bn=0;Bn<oo.length;Bn++){const Uo=yo(oo[Bn]);Uo!==null&&Uo.length&&(Uo===xo.index.toString()&&(xn||(xn=oo[Bn].firstChild),qt=oo[Bn].firstChild),Jn(oo[Bn]))}if(He.set({...xo,index:-1,count:0,text:""}),xn&&qt){const Bn=me.dom.createRng();return Bn.setStart(xn,0),Bn.setEnd(qt,qt.data.length),jt!==!1&&me.selection.setRng(Bn),Bn}else return},nt=(me,He)=>He.get().count>1,gn=(me,He)=>He.get().count>1,To=(me,He)=>({done:Bn=>ze(me,He,Bn),find:(Bn,Uo,vs,Ts=!1)=>Pn(me,He,Bn,Uo,vs,Ts),next:()=>er(me,He),prev:()=>tr(me,He),replace:(Bn,Uo,vs)=>Fe(me,He,Bn,Uo,vs)}),co=(me,He)=>{const jt=Oe();me.undoManager.add();const xn=at.trim(me.selection.getContent({format:"text"})),qt=Tr=>{Tr.setEnabled("next",nt(me,He)),Tr.setEnabled("prev",gn(me,He))},xo=Tr=>{const Ps=Tr.getData(),ir=He.get();He.set({...ir,matchCase:Ps.matchcase,wholeWord:Ps.wholewords,inSelection:Ps.inselection})},oo=(Tr,Ps)=>{ct(["replace","replaceall","prev","next"],wi=>Tr.setEnabled(wi,!Ps))},Bn=(Tr,Ps)=>{Ps.redial(Qf(Tr,Ps.getData()))},Uo=(Tr,Ps)=>{Vt.browser.isSafari()&&Vt.deviceType.isTouch()&&(Ps==="find"||Ps==="replace"||Ps==="replaceall")&&Tr.focus(Ps)},vs=Tr=>{ze(me,He,!1),oo(Tr,!0),qt(Tr)},Ts=Tr=>{const Ps=Tr.getData(),ir=He.get();if(!Ps.findtext.length){vs(Tr);return}if(ir.text===Ps.findtext&&ir.matchCase===Ps.matchcase&&ir.wholeWord===Ps.wholewords)er(me,He);else{const Vi=Pn(me,He,Ps.findtext,Ps.matchcase,Ps.wholewords,Ps.inselection);Vi<=0&&Bn(!0,Tr),oo(Tr,Vi===0)}qt(Tr)},As=He.get(),sa={findtext:xn,replacetext:"",wholewords:As.wholeWord,matchcase:As.matchCase,inselection:As.inSelection},Sa=Tr=>{const Ps=[{type:"label",label:"Find",for:"findtext",items:[{type:"bar",items:[{type:"input",name:"findtext",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]}]},{type:"input",name:"replacetext",label:"Replace with",inputMode:"search"}];return Tr&&Ps.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),Ps},Qf=(Tr,Ps)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:Sa(Tr)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:Ps,onChange:(ir,Vi)=>{Tr&&Bn(!1,ir),Vi.name==="findtext"&&He.get().count>0&&vs(ir)},onAction:(ir,Vi)=>{const wi=ir.getData();switch(Vi.name){case"find":Ts(ir);break;case"replace":Fe(me,He,wi.replacetext)?qt(ir):vs(ir);break;case"replaceall":Fe(me,He,wi.replacetext,!0,!0),vs(ir);break;case"prev":tr(me,He),qt(ir);break;case"next":er(me,He),qt(ir);break;case"matchcase":case"wholewords":case"inselection":Bn(!1,ir),xo(ir),vs(ir);break}Uo(ir,Vi.name)},onSubmit:ir=>{Ts(ir),Uo(ir,"find")},onClose:()=>{me.focus(),ze(me,He),me.undoManager.add()}});jt.set(me.windowManager.open(Qf(!1,sa),{inline:"toolbar"}))},Zo=(me,He)=>{me.addCommand("SearchReplace",()=>{co(me,He)})},us=(me,He)=>()=>{co(me,He)},Ao=(me,He)=>{me.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:us(me,He),icon:"search"}),me.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:us(me,He),icon:"search",shortcut:"Meta+F"}),me.shortcuts.add("Meta+F","",us(me,He))};var Qs=()=>{Yo.add("searchreplace",me=>{const He=mn({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return Zo(me,He),Ao(me,He),To(me,He)})};Qs()})()),Sae}var Tae;function v2e(){return Tae||(Tae=1,y2e()),Cae}v2e();var Aae={},kae={},Dae;function x2e(){return Dae||(Dae=1,(function(){const c=ue=>{let we=ue;return{get:()=>we,set:ve=>{we=ve}}};var d=tinymce.util.Tools.resolve("tinymce.PluginManager");const p=(ue,we)=>{ue.dispatch("VisualBlocks",{state:we})},x=(ue,we,Ee)=>{ue.dom.toggleClass(ue.getBody(),"mce-visualblocks"),Ee.set(!Ee.get()),p(ue,Ee.get())},A=(ue,we,Ee)=>{ue.addCommand("mceVisualBlocks",()=>{x(ue,we,Ee)})},N=ue=>we=>we.options.get(ue),O=ue=>{const we=ue.options.register;we("visualblocks_default_state",{processor:"boolean",default:!1})},H=N("visualblocks_default_state"),U=(ue,we,Ee)=>{ue.on("PreviewFormats AfterPreviewFormats",$e=>{Ee.get()&&ue.dom.toggleClass(ue.getBody(),"mce-visualblocks",$e.type==="afterpreviewformats")}),ue.on("init",()=>{H(ue)&&x(ue,we,Ee)})},V=(ue,we)=>Ee=>{Ee.setActive(we.get());const $e=ve=>Ee.setActive(ve.state);return ue.on("VisualBlocks",$e),()=>ue.off("VisualBlocks",$e)},Y=(ue,we)=>{const Ee=()=>ue.execCommand("mceVisualBlocks");ue.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:Ee,onSetup:V(ue,we),context:"any"}),ue.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:Ee,onSetup:V(ue,we),context:"any"})};var ne=()=>{d.add("visualblocks",(ue,we)=>{O(ue);const Ee=c(!1);A(ue,we,Ee),Y(ue,Ee),U(ue,we,Ee)})};ne()})()),kae}var _ae;function w2e(){return _ae||(_ae=1,x2e()),Aae}w2e();var Oae={},Rae={},Nae;function C2e(){return Nae||(Nae=1,(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const d=(H,U)=>{H.focus(),H.undoManager.transact(()=>{H.setContent(U)}),H.selection.setCursorLocation(),H.nodeChanged()},p=H=>H.getContent({source_view:!0}),x=H=>{const U=p(H);H.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code",spellcheck:!1}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:U},onSubmit:V=>{d(H,V.getData().code),V.close()}})},A=H=>{H.addCommand("mceCodeEditor",()=>{x(H)})},N=H=>{const U=()=>H.execCommand("mceCodeEditor");H.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:U}),H.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:U})};var O=()=>{c.add("code",H=>(A(H),N(H),{}))};O()})()),Rae}var Mae;function S2e(){return Mae||(Mae=1,C2e()),Oae}S2e();var Bae={},Lae={},Pae;function E2e(){return Pae||(Pae=1,(function(){const c=(pe,Re,dt)=>dt(pe,Re.prototype)?!0:pe.constructor?.name===Re.name,d=pe=>{const Re=typeof pe;return pe===null?"null":Re==="object"&&Array.isArray(pe)?"array":Re==="object"&&c(pe,String,(dt,Yt)=>Yt.isPrototypeOf(dt))?"string":Re},p=pe=>Re=>d(Re)===pe,x=pe=>Re=>typeof Re===pe,A=pe=>Re=>pe===Re,N=p("string"),O=p("object"),H=p("array"),U=A(null),V=x("boolean"),Y=A(void 0),ne=pe=>pe==null,ue=pe=>!ne(pe),we=x("function"),Ee=x("number"),$e=()=>{},ve=(pe,Re)=>(...dt)=>pe(Re.apply(null,dt)),ct=(pe,Re)=>dt=>pe(Re(dt)),Ue=pe=>()=>pe;function J(pe,...Re){return(...dt)=>{const Yt=Re.concat(dt);return pe.apply(null,Yt)}}const vt=Ue(!1),en=Ue(!0);class Qe{tag;value;static singletonNone=new Qe(!1);constructor(Re,dt){this.tag=Re,this.value=dt}static some(Re){return new Qe(!0,Re)}static none(){return Qe.singletonNone}fold(Re,dt){return this.tag?dt(this.value):Re()}isSome(){return this.tag}isNone(){return!this.tag}map(Re){return this.tag?Qe.some(Re(this.value)):Qe.none()}bind(Re){return this.tag?Re(this.value):Qe.none()}exists(Re){return this.tag&&Re(this.value)}forall(Re){return!this.tag||Re(this.value)}filter(Re){return!this.tag||Re(this.value)?this:Qe.none()}getOr(Re){return this.tag?this.value:Re}or(Re){return this.tag?this:Re}getOrThunk(Re){return this.tag?this.value:Re()}orThunk(Re){return this.tag?this:Re()}getOrDie(Re){if(this.tag)return this.value;throw new Error(Re??"Called getOrDie on None")}static from(Re){return ue(Re)?Qe.some(Re):Qe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Re){this.tag&&Re(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const ie=Array.prototype.push,it=(pe,Re)=>{const dt=pe.length,Yt=new Array(dt);for(let po=0;po<dt;po++){const bs=pe[po];Yt[po]=Re(bs,po)}return Yt},Tn=(pe,Re)=>{for(let dt=0,Yt=pe.length;dt<Yt;dt++){const po=pe[dt];Re(po,dt)}},mn=(pe,Re)=>{const dt=[];for(let Yt=0,po=pe.length;Yt<po;Yt++){const bs=pe[Yt];Re(bs,Yt)&&dt.push(bs)}return dt},qe=(pe,Re,dt)=>{for(let Yt=0,po=pe.length;Yt<po;Yt++){const bs=pe[Yt];if(Re(bs,Yt))return Qe.some(bs);if(dt(bs,Yt))break}return Qe.none()},Oe=(pe,Re)=>qe(pe,Re,vt),Yo=pe=>{const Re=[];for(let dt=0,Yt=pe.length;dt<Yt;++dt){if(!H(pe[dt]))throw new Error("Arr.flatten item "+dt+" was not an array, input: "+pe);ie.apply(Re,pe[dt])}return Re},pt=(pe,Re)=>Yo(it(pe,Re)),Pt=(pe,Re)=>Re>=0&&Re<pe.length?Qe.some(pe[Re]):Qe.none(),P=pe=>Pt(pe,0),Vt=(pe,Re)=>{for(let dt=0;dt<pe.length;dt++){const Yt=Re(pe[dt],dt);if(Yt.isSome())return Yt}return Qe.none()},at=Object.keys,Qn=(pe,Re)=>{const dt=at(pe);for(let Yt=0,po=dt.length;Yt<po;Yt++){const bs=dt[Yt],Ta=pe[bs];Re(Ta,bs)}},cn=pe=>{let Re=pe;return{get:()=>Re,set:po=>{Re=po}}},ee=typeof window<"u"?window:Function("return this;")(),Me=(pe,Re,dt)=>pe.isSome()&&Re.isSome()?Qe.some(dt(pe.getOrDie(),Re.getOrDie())):Qe.none(),wt=(pe,Re)=>{let dt=Re??ee;for(let Yt=0;Yt<pe.length&&dt!==void 0&&dt!==null;++Yt)dt=dt[pe[Yt]];return dt},je=(pe,Re)=>{const dt=pe.split(".");return wt(dt,Re)},Bt=pe=>{const Re=cn(Qe.none()),dt=()=>Re.get().each(pe);return{clear:()=>{dt(),Re.set(Qe.none())},isSet:()=>Re.get().isSome(),get:()=>Re.get(),set:al=>{dt(),Re.set(Qe.some(al))}}},Ze=()=>Bt(pe=>pe.unbind()),bt=()=>{const pe=Bt($e);return{...pe,on:dt=>pe.get().each(dt)}},X=(pe,Re,dt=0,Yt)=>{const po=pe.indexOf(Re,dt);return po!==-1?Y(Yt)?!0:po+Re.length<=Yt:!1},jo=(pe,Re)=>{let dt=null;return{cancel:()=>{U(dt)||(clearTimeout(dt),dt=null)},throttle:(...bs)=>{U(dt)&&(dt=setTimeout(()=>{dt=null,pe.apply(null,bs)},Re))}}},vo=pe=>{let Re=!1,dt;return(...Yt)=>(Re||(Re=!0,dt=pe.apply(null,Yt)),dt)};var Mo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Io=pe=>({isFullscreen:()=>pe.get()!==null}),zs=(pe,Re)=>{const Yt=(Re||document).createElement("div");if(Yt.innerHTML=pe,!Yt.hasChildNodes()||Yt.childNodes.length>1){const po="HTML does not have a single root node";throw console.error(po,pe),new Error(po)}return tt(Yt.childNodes[0])},Ne=(pe,Re)=>{const Yt=(Re||document).createElement(pe);return tt(Yt)},Ge=(pe,Re)=>{const Yt=(Re||document).createTextNode(pe);return tt(Yt)},tt=pe=>{if(pe==null)throw new Error("Node cannot be null or undefined");return{dom:pe}},Je={fromHtml:zs,fromTag:Ne,fromText:Ge,fromDom:tt,fromPoint:(pe,Re,dt)=>Qe.from(pe.dom.elementFromPoint(Re,dt)).map(tt)},Rt=9,yt=11,Un=1,Dt=3,Le=(pe,Re)=>{const dt=pe.dom;if(dt.nodeType!==Un)return!1;{const Yt=dt;if(Yt.matches!==void 0)return Yt.matches(Re);if(Yt.msMatchesSelector!==void 0)return Yt.msMatchesSelector(Re);if(Yt.webkitMatchesSelector!==void 0)return Yt.webkitMatchesSelector(Re);if(Yt.mozMatchesSelector!==void 0)return Yt.mozMatchesSelector(Re);throw new Error("Browser lacks native selectors")}},Tt=pe=>pe.nodeType!==Un&&pe.nodeType!==Rt&&pe.nodeType!==yt||pe.childElementCount===0,sn=(pe,Re)=>{const dt=document;return Tt(dt)?[]:it(dt.querySelectorAll(pe),Je.fromDom)},Zn=(pe,Re)=>pe.dom===Re.dom,Xo=(pe,Re,dt,Yt)=>{const po=pe.isiOS()&&/ipad/i.test(dt)===!0,bs=pe.isiOS()&&!po,Ta=pe.isiOS()||pe.isAndroid(),al=Ta||Yt("(pointer:coarse)"),Ui=po||!bs&&Ta&&Yt("(min-device-width:768px)"),Ul=bs||Ta&&!Ui,Xd=Re.isSafari()&&pe.isiOS()&&/safari/i.test(dt)===!1,Zl=!Ul&&!Ui&&!Xd;return{isiPad:Ue(po),isiPhone:Ue(bs),isTablet:Ue(Ui),isPhone:Ue(Ul),isTouch:Ue(al),isAndroid:pe.isAndroid,isiOS:pe.isiOS,isWebView:Ue(Xd),isDesktop:Ue(Zl)}},Jo=(pe,Re)=>{for(let dt=0;dt<pe.length;dt++){const Yt=pe[dt];if(Yt.test(Re))return Yt}},ko=(pe,Re)=>{const dt=Jo(pe,Re);if(!dt)return{major:0,minor:0};const Yt=po=>Number(Re.replace(dt,"$"+po));return os(Yt(1),Yt(2))},mr=(pe,Re)=>{const dt=String(Re).toLowerCase();return pe.length===0?Ho():ko(pe,dt)},Ho=()=>os(0,0),os=(pe,Re)=>({major:pe,minor:Re}),Vs={nu:os,detect:mr,unknown:Ho},Ss=(pe,Re)=>Vt(Re.brands,dt=>{const Yt=dt.brand.toLowerCase();return Oe(pe,po=>Yt===po.brand?.toLowerCase()).map(po=>({current:po.name,version:Vs.nu(parseInt(dt.version,10),0)}))}),Xs=(pe,Re)=>{const dt=String(Re).toLowerCase();return Oe(pe,Yt=>Yt.search(dt))},gs=(pe,Re)=>Xs(pe,Re).map(dt=>{const Yt=Vs.detect(dt.versionRegexes,Re);return{current:dt.name,version:Yt}}),Wr=(pe,Re)=>Xs(pe,Re).map(dt=>{const Yt=Vs.detect(dt.versionRegexes,Re);return{current:dt.name,version:Yt}}),Es=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,$r=pe=>Re=>X(Re,pe),Ma=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:pe=>X(pe,"edge/")&&X(pe,"chrome")&&X(pe,"safari")&&X(pe,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Es],search:pe=>X(pe,"chrome")&&!X(pe,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:pe=>X(pe,"msie")||X(pe,"trident")},{name:"Opera",versionRegexes:[Es,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:$r("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:$r("firefox")},{name:"Safari",versionRegexes:[Es,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:pe=>(X(pe,"safari")||X(pe,"mobile/"))&&X(pe,"applewebkit")}],Hn=[{name:"Windows",search:$r("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:pe=>X(pe,"iphone")||X(pe,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:$r("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:$r("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:$r("linux"),versionRegexes:[]},{name:"Solaris",search:$r("sunos"),versionRegexes:[]},{name:"FreeBSD",search:$r("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:$r("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ts={browsers:Ue(Ma),oses:Ue(Hn)},Oo="Edge",ci="Chromium",Ba="IE",Mn="Opera",Zt="Firefox",Gt="Safari",Yn=()=>Gn({current:void 0,version:Vs.unknown()}),Gn=pe=>{const Re=pe.current,dt=pe.version,Yt=po=>()=>Re===po;return{current:Re,version:dt,isEdge:Yt(Oo),isChromium:Yt(ci),isIE:Yt(Ba),isOpera:Yt(Mn),isFirefox:Yt(Zt),isSafari:Yt(Gt)}},yo={unknown:Yn,nu:Gn},Ro="Windows",Jn="iOS",ls="Android",La="Linux",ol="macOS",hi="Solaris",Pn="FreeBSD",er="ChromeOS",tr=()=>Vl({current:void 0,version:Vs.unknown()}),Vl=pe=>{const Re=pe.current,dt=pe.version,Yt=po=>()=>Re===po;return{current:Re,version:dt,isWindows:Yt(Ro),isiOS:Yt(Jn),isAndroid:Yt(ls),isMacOS:Yt(ol),isLinux:Yt(La),isSolaris:Yt(hi),isFreeBSD:Yt(Pn),isChromeOS:Yt(er)}},Fe={unknown:tr,nu:Vl},nt={detect:(pe,Re,dt)=>{const Yt=ts.browsers(),po=ts.oses(),bs=Re.bind(Ui=>Ss(Yt,Ui)).orThunk(()=>gs(Yt,pe)).fold(yo.unknown,yo.nu),Ta=Wr(po,pe).fold(Fe.unknown,Fe.nu),al=Xo(Ta,bs,pe,dt);return{browser:bs,os:Ta,deviceType:al}}},gn=pe=>window.matchMedia(pe).matches;let To=vo(()=>nt.detect(window.navigator.userAgent,Qe.from(window.navigator.userAgentData),gn));const co=()=>To(),Zo=(pe,Re)=>je(pe,Re),us=(pe,Re)=>{const dt=Zo(pe,Re);if(dt==null)throw new Error(pe+" not available on this browser");return dt},Ao=Object.getPrototypeOf,Qs=pe=>us("HTMLElement",pe),me=pe=>{const Re=je("ownerDocument.defaultView",pe);return O(pe)&&(Qs(Re).prototype.isPrototypeOf(pe)||/^HTML\w*Element$/.test(Ao(pe).constructor.name))},He=pe=>pe.dom.nodeType,jt=pe=>Re=>He(Re)===pe,xn=pe=>qt(pe)&&me(pe.dom),qt=jt(Un),xo=jt(Dt),oo=jt(yt),Bn=pe=>Je.fromDom(pe.dom.ownerDocument),Uo=pe=>Qe.from(pe.dom.parentNode).map(Je.fromDom),vs=(pe,Re)=>{const dt=we(Re)?Re:vt;let Yt=pe.dom;const po=[];for(;Yt.parentNode!==null&&Yt.parentNode!==void 0;){const bs=Yt.parentNode,Ta=Je.fromDom(bs);if(po.push(Ta),dt(Ta)===!0)break;Yt=bs}return po},Ts=pe=>{const Re=dt=>mn(dt,Yt=>!Zn(pe,Yt));return Uo(pe).map(sa).map(Re).getOr([])},As=pe=>Qe.from(pe.dom.nextSibling).map(Je.fromDom),sa=pe=>it(pe.dom.childNodes,Je.fromDom),Sa=pe=>oo(pe)&&ue(pe.dom.host),Qf=pe=>Je.fromDom(pe.dom.getRootNode()),Tr=pe=>{const Re=Qf(pe);return Sa(Re)?Qe.some(Re):Qe.none()},Ps=pe=>Je.fromDom(pe.dom.host),ir=pe=>{if(ue(pe.target)){const Re=Je.fromDom(pe.target);if(qt(Re)&&Vi(Re)&&pe.composed&&pe.composedPath){const dt=pe.composedPath();if(dt)return P(dt)}}return Qe.from(pe.target)},Vi=pe=>ue(pe.dom.shadowRoot),wi=(pe,Re,dt,Yt,po,bs,Ta)=>({target:pe,x:Re,y:dt,stop:Yt,prevent:po,kill:bs,raw:Ta}),Ir=pe=>{const Re=Je.fromDom(ir(pe).getOr(pe.target)),dt=()=>pe.stopPropagation(),Yt=()=>pe.preventDefault(),po=ve(Yt,dt);return wi(Re,pe.clientX,pe.clientY,dt,Yt,po,pe)},wo=(pe,Re)=>dt=>{pe(dt)&&Re(Ir(dt))},Ci=(pe,Re,dt,Yt,po)=>{const bs=wo(dt,Yt);return pe.dom.addEventListener(Re,bs,po),{unbind:J(Jr,pe,Re,bs,po)}},ni=(pe,Re,dt,Yt)=>Ci(pe,Re,dt,Yt,!1),Jr=(pe,Re,dt,Yt)=>{pe.dom.removeEventListener(Re,dt,Yt)},Sf=en,uc=(pe,Re,dt)=>ni(pe,Re,Sf,dt),Hr=(pe,Re,dt)=>{if(N(dt)||V(dt)||Ee(dt))pe.setAttribute(Re,dt+"");else throw console.error("Invalid call to Attribute.set. Key ",Re,":: Value ",dt,":: Element ",pe),new Error("Attribute value was not simple")},wu=(pe,Re,dt)=>{Hr(pe.dom,Re,dt)},dc=(pe,Re)=>{const dt=pe.dom.getAttribute(Re);return dt===null?void 0:dt},Ef=(pe,Re)=>{pe.dom.removeAttribute(Re)},An=pe=>pe.style!==void 0&&we(pe.style.getPropertyValue),Cu=pe=>{const Re=xo(pe)?pe.dom.parentNode:pe.dom;if(Re==null||Re.ownerDocument===null)return!1;const dt=Re.ownerDocument;return Tr(Je.fromDom(Re)).fold(()=>dt.body.contains(Re),ct(Cu,Ps))},Ri=pe=>{const Re=pe.dom.body;if(Re==null)throw new Error("Body is not available yet");return Je.fromDom(Re)},gi=(pe,Re,dt)=>{if(!N(dt))throw console.error("Invalid call to CSS.set. Property ",Re,":: Value ",dt,":: Element ",pe),new Error("CSS value must be a string: "+dt);An(pe)&&pe.style.setProperty(Re,dt)},qr=(pe,Re,dt)=>{const Yt=pe.dom;gi(Yt,Re,dt)},Gd=(pe,Re)=>{const dt=pe.dom;Qn(Re,(Yt,po)=>{gi(dt,po,Yt)})},Si=(pe,Re)=>{const dt=pe.dom,po=window.getComputedStyle(dt).getPropertyValue(Re);return po===""&&!Cu(pe)?sl(dt,Re):po},sl=(pe,Re)=>An(pe)?pe.style.getPropertyValue(Re):"",Tf=(pe,Re)=>({left:pe,top:Re,translate:(Yt,po)=>Tf(pe+Yt,Re+po)}),Jf=Tf,Su=pe=>{const Re=pe!==void 0?pe.dom:document,dt=Re.body.scrollLeft||Re.documentElement.scrollLeft,Yt=Re.body.scrollTop||Re.documentElement.scrollTop;return Jf(dt,Yt)},Kd=pe=>pe.dom.classList!==void 0,Dl=(pe,Re)=>Kd(pe)&&pe.dom.classList.contains(Re),Wc=(pe,Re,dt)=>mn(vs(pe,dt),Re),qc=(pe,Re)=>mn(Ts(pe),Re),fn=pe=>sn(pe),Eu=(pe,Re,dt)=>Wc(pe,Yt=>Le(Yt,Re),dt),bd=(pe,Re)=>qc(pe,dt=>Le(dt,Re)),jl=pe=>{const Re=pe===void 0?window:pe;return co().browser.isFirefox()?Qe.none():Qe.from(Re.visualViewport)},rl=(pe,Re,dt,Yt)=>({x:pe,y:Re,width:dt,height:Yt,right:pe+dt,bottom:Re+Yt}),ju=pe=>{const Re=pe===void 0?window:pe,dt=Re.document,Yt=Su(Je.fromDom(dt));return jl(Re).fold(()=>{const po=Re.document.documentElement,bs=po.clientWidth,Ta=po.clientHeight;return rl(Yt.left,Yt.top,bs,Ta)},po=>rl(Math.max(po.pageLeft,Yt.left),Math.max(po.pageTop,Yt.top),po.width,po.height))},ji=(pe,Re,dt)=>jl(dt).map(Yt=>{const po=bs=>Re(Ir(bs));return Yt.addEventListener(pe,po),{unbind:()=>Yt.removeEventListener(pe,po)}}).getOrThunk(()=>({unbind:$e}));var oi=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),_l=tinymce.util.Tools.resolve("tinymce.Env");const fc=(pe,Re)=>{pe.dispatch("FullscreenStateChanged",{state:Re}),pe.dispatch("ResizeEditor")},Ws=pe=>Re=>Re.options.get(pe),Af=pe=>{const Re=pe.options.register;Re("fullscreen_native",{processor:"boolean",default:!1})},te=Ws("fullscreen_native"),be=pe=>{const Re=Je.fromDom(pe.getElement());return Tr(Re).map(Ps).getOrThunk(()=>Ri(Bn(Re)))},Pe=pe=>pe.fullscreenElement!==void 0?pe.fullscreenElement:pe.msFullscreenElement!==void 0?pe.msFullscreenElement:pe.webkitFullscreenElement!==void 0?pe.webkitFullscreenElement:null,Nt=()=>document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange",qn=pe=>{const Re=pe.dom;Re.requestFullscreen?Re.requestFullscreen():Re.msRequestFullscreen?Re.msRequestFullscreen():Re.webkitRequestFullScreen&&Re.webkitRequestFullScreen()},ps=pe=>{const Re=pe.dom;Re.exitFullscreen?Re.exitFullscreen():Re.msExitFullscreen?Re.msExitFullscreen():Re.webkitCancelFullScreen&&Re.webkitCancelFullScreen()},lr=pe=>pe.dom===Pe(Bn(pe).dom),ja="data-ephox-mobile-fullscreen-style",Ei="display:none!important;",Ol="position:absolute!important;",se="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",Ae="background-color:rgb(255,255,255)!important;",Xe=_l.os.isAndroid(),Et=pe=>{const Re=Si(pe,"background-color");return Re!==void 0&&Re!==""?"background-color:"+Re+"!important":Ae},pn=(pe,Re,dt)=>{const Yt=Ul=>bd(Ul,"*:not(.tox-silver-sink)"),po=Ul=>Xd=>{const Zl=dc(Xd,"style"),Rm=Zl===void 0?"no-styles":Zl.trim();Rm!==Ul&&(wu(Xd,ja,Rm),Gd(Xd,pe.parseStyle(Ul)))},bs=Eu(Re,"*"),Ta=pt(bs,Yt),al=Et(dt);Tn(Ta,po(Ei)),Tn(bs,po(Ol+se+al)),po((Xe===!0?"":Ol)+se+al)(Re)},Wn=pe=>{const Re=fn("["+ja+"]");Tn(Re,dt=>{const Yt=dc(dt,ja);Yt&&Yt!=="no-styles"?Gd(dt,pe.parseStyle(Yt)):Ef(dt,"style"),Ef(dt,ja)})},Po=oi.DOM,qs=()=>ju(window),_s=pe=>window.scrollTo(pe.x,pe.y),Ni=jl().fold(()=>({bind:$e,unbind:$e}),pe=>{const Re=bt(),dt=Ze(),Yt=Ze(),po=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},bs=()=>{window.requestAnimationFrame(()=>{Re.on(Ul=>Gd(Ul,{top:pe.offsetTop+"px",left:pe.offsetLeft+"px",height:pe.height+"px",width:pe.width+"px"}))})},Ta=jo(()=>{po(),bs()},50);return{bind:Ul=>{Re.set(Ul),Ta.throttle(),dt.set(ji("resize",Ta.throttle)),Yt.set(ji("scroll",Ta.throttle))},unbind:()=>{Re.on(()=>{dt.clear(),Yt.clear()}),Re.clear()}}}),Ea=(pe,Re)=>{const dt=document.body,Yt=document.documentElement,po=pe.getContainer(),bs=Je.fromDom(po),Ta=As(bs).filter(_c=>xn(_c)&&Dl(_c,"tox-silver-sink")),al=be(pe),Ui=Re.get(),Ul=Je.fromDom(pe.getBody()),Xd=_l.deviceType.isTouch(),Zl=po.style,Wl=pe.iframeElement?.style,il=_c=>{_c(dt,"tox-fullscreen"),_c(Yt,"tox-fullscreen"),_c(po,"tox-fullscreen"),Tr(bs).map(ds=>Ps(ds).dom).each(ds=>{_c(ds,"tox-fullscreen"),_c(ds,"tox-shadowhost")})},Qd=()=>{Xd&&Wn(pe.dom),il(Po.removeClass),Ni.unbind(),Qe.from(Re.get()).each(_c=>_c.fullscreenChangeHandler.unbind())};if(Ui)Ui.fullscreenChangeHandler.unbind(),te(pe)&&lr(al)&&ps(Bn(al)),Wl.width=Ui.iframeWidth,Wl.height=Ui.iframeHeight,Zl.width=Ui.containerWidth,Zl.height=Ui.containerHeight,Zl.top=Ui.containerTop,Zl.left=Ui.containerLeft,Me(Ta,Ui.sinkCssPosition,(_c,ds)=>{qr(_c,"position",ds)}),Qd(),_s(Ui.scrollPos),Re.set(null),fc(pe,!1),pe.off("remove",Qd);else{const _c=uc(Bn(al),Nt(),vh=>{te(pe)&&!lr(al)&&Re.get()!==null&&Ea(pe,Re)}),ds={scrollPos:qs(),containerWidth:Zl.width,containerHeight:Zl.height,containerTop:Zl.top,containerLeft:Zl.left,iframeWidth:Wl.width,iframeHeight:Wl.height,fullscreenChangeHandler:_c,sinkCssPosition:Ta.map(vh=>Si(vh,"position"))};Xd&&pn(pe.dom,bs,Ul),Wl.width=Wl.height="100%",Zl.width=Zl.height="",il(Po.addClass),Ta.each(vh=>{qr(vh,"position","fixed")}),Ni.bind(bs),pe.on("remove",Qd),Re.set(ds),te(pe)&&qn(al),fc(pe,!0)}},Yd=(pe,Re)=>{pe.addCommand("mceFullScreen",()=>{Ea(pe,Re)})};var Om=tinymce.util.Tools.resolve("tinymce.util.VK");const kf=(pe,Re)=>{pe.on("init",()=>{pe.on("keydown",dt=>{dt.keyCode===Om.TAB&&!(dt.metaKey||dt.ctrlKey)&&Re.get()&&dt.preventDefault()})})},Gc=(pe,Re)=>dt=>{dt.setActive(Re.get()!==null);const Yt=po=>dt.setActive(po.state);return pe.on("FullscreenStateChanged",Yt),()=>pe.off("FullscreenStateChanged",Yt)},N0=(pe,Re)=>{const dt=()=>pe.execCommand("mceFullScreen");pe.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:dt,onSetup:Gc(pe,Re),context:"any"}),pe.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:dt,onSetup:Gc(pe,Re),shortcut:"Meta+Shift+F",context:"any"})};var M0=()=>{Mo.add("fullscreen",pe=>{const Re=cn(null);return pe.inline||(Af(pe),Yd(pe,Re),N0(pe,Re),kf(pe,Re),pe.addShortcut("Meta+Shift+F","","mceFullScreen")),Io(Re)})};M0()})()),Lae}var Fae;function T2e(){return Fae||(Fae=1,E2e()),Bae}T2e();var $ae={},Iae={},Hae;function A2e(){return Hae||(Hae=1,(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const d=Qe=>ie=>ie.options.get(Qe),p=Qe=>{const ie=Qe.options.register;ie("insertdatetime_dateformat",{processor:"string",default:Qe.translate("%Y-%m-%d")}),ie("insertdatetime_timeformat",{processor:"string",default:Qe.translate("%H:%M:%S")}),ie("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),ie("insertdatetime_element",{processor:"boolean",default:!1})},x=d("insertdatetime_dateformat"),A=d("insertdatetime_timeformat"),N=d("insertdatetime_formats"),O=d("insertdatetime_element"),H=Qe=>{const ie=N(Qe);return ie.length>0?ie[0]:A(Qe)},U="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),V="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Y="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ne="January February March April May June July August September October November December".split(" "),ue=(Qe,ie)=>{if(Qe=""+Qe,Qe.length<ie)for(let it=0;it<ie-Qe.length;it++)Qe="0"+Qe;return Qe},we=(Qe,ie,it=new Date)=>(ie=ie.replace("%D","%m/%d/%Y"),ie=ie.replace("%r","%I:%M:%S %p"),ie=ie.replace("%Y",""+it.getFullYear()),ie=ie.replace("%y",""+it.getYear()),ie=ie.replace("%m",ue(it.getMonth()+1,2)),ie=ie.replace("%d",ue(it.getDate(),2)),ie=ie.replace("%H",""+ue(it.getHours(),2)),ie=ie.replace("%M",""+ue(it.getMinutes(),2)),ie=ie.replace("%S",""+ue(it.getSeconds(),2)),ie=ie.replace("%I",""+((it.getHours()+11)%12+1)),ie=ie.replace("%p",it.getHours()<12?"AM":"PM"),ie=ie.replace("%B",""+Qe.translate(ne[it.getMonth()])),ie=ie.replace("%b",""+Qe.translate(Y[it.getMonth()])),ie=ie.replace("%A",""+Qe.translate(V[it.getDay()])),ie=ie.replace("%a",""+Qe.translate(U[it.getDay()])),ie=ie.replace("%%","%"),ie),Ee=(Qe,ie,it,Tn)=>{const mn=Qe.dom.create("time",{datetime:it},Tn);Qe.dom.replace(mn,ie),Qe.selection.select(mn,!0),Qe.selection.collapse(!1)},$e=(Qe,ie)=>{if(O(Qe)&&Qe.selection.isEditable()){const it=we(Qe,ie);let Tn;/%[HMSIp]/.test(ie)?Tn=we(Qe,"%Y-%m-%dT%H:%M"):Tn=we(Qe,"%Y-%m-%d");const mn=Qe.dom.getParent(Qe.selection.getStart(),"time");mn?Ee(Qe,mn,Tn,it):Qe.insertContent('<time datetime="'+Tn+'">'+it+"</time>")}else Qe.insertContent(we(Qe,ie))},ve=Qe=>{Qe.addCommand("mceInsertDate",(ie,it)=>{$e(Qe,it??x(Qe))}),Qe.addCommand("mceInsertTime",(ie,it)=>{$e(Qe,it??A(Qe))})},ct=Qe=>{let ie=Qe;return{get:()=>ie,set:mn=>{ie=mn}}};var Ue=tinymce.util.Tools.resolve("tinymce.util.Tools");const J=Qe=>ie=>{const it=()=>{ie.setEnabled(Qe.selection.isEditable())};return Qe.on("NodeChange",it),it(),()=>{Qe.off("NodeChange",it)}},vt=Qe=>{const ie=N(Qe),it=ct(H(Qe)),Tn=qe=>Qe.execCommand("mceInsertDate",!1,qe);Qe.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",chevronTooltip:"Insert date/time menu",select:qe=>qe===it.get(),fetch:qe=>{qe(Ue.map(ie,Oe=>({type:"choiceitem",text:we(Qe,Oe),value:Oe})))},onAction:qe=>{Tn(it.get())},onItemAction:(qe,Oe)=>{it.set(Oe),Tn(Oe)},onSetup:J(Qe)});const mn=qe=>()=>{it.set(qe),Tn(qe)};Qe.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:()=>Ue.map(ie,qe=>({type:"menuitem",text:we(Qe,qe),onAction:mn(qe)})),onSetup:J(Qe)})};var en=()=>{c.add("insertdatetime",Qe=>{p(Qe),ve(Qe),vt(Qe)})};en()})()),Iae}var zae;function k2e(){return zae||(zae=1,A2e()),$ae}k2e();var Vae={},jae={},Uae;function D2e(){return Uae||(Uae=1,(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const d=(Fe,ze,nt)=>nt(Fe,ze.prototype)?!0:Fe.constructor?.name===ze.name,p=Fe=>{const ze=typeof Fe;return Fe===null?"null":ze==="object"&&Array.isArray(Fe)?"array":ze==="object"&&d(Fe,String,(nt,gn)=>gn.isPrototypeOf(nt))?"string":ze},x=Fe=>ze=>p(ze)===Fe,A=x("string"),N=x("object"),O=x("array"),H=Fe=>Fe==null,U=Fe=>!H(Fe);class V{tag;value;static singletonNone=new V(!1);constructor(ze,nt){this.tag=ze,this.value=nt}static some(ze){return new V(!0,ze)}static none(){return V.singletonNone}fold(ze,nt){return this.tag?nt(this.value):ze()}isSome(){return this.tag}isNone(){return!this.tag}map(ze){return this.tag?V.some(ze(this.value)):V.none()}bind(ze){return this.tag?ze(this.value):V.none()}exists(ze){return this.tag&&ze(this.value)}forall(ze){return!this.tag||ze(this.value)}filter(ze){return!this.tag||ze(this.value)?this:V.none()}getOr(ze){return this.tag?this.value:ze}or(ze){return this.tag?this:ze}getOrThunk(ze){return this.tag?this.value:ze()}orThunk(ze){return this.tag?this:ze()}getOrDie(ze){if(this.tag)return this.value;throw new Error(ze??"Called getOrDie on None")}static from(ze){return U(ze)?V.some(ze):V.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ze){this.tag&&ze(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Y=Array.prototype.push,ne=(Fe,ze)=>{for(let nt=0,gn=Fe.length;nt<gn;nt++){const To=Fe[nt];ze(To,nt)}},ue=Fe=>{const ze=[];for(let nt=0,gn=Fe.length;nt<gn;++nt){if(!O(Fe[nt]))throw new Error("Arr.flatten item "+nt+" was not an array, input: "+Fe);Y.apply(ze,Fe[nt])}return ze},we=Object.keys,Ee=Object.hasOwnProperty,$e=(Fe,ze)=>{const nt=we(Fe);for(let gn=0,To=nt.length;gn<To;gn++){const co=nt[gn],Zo=Fe[co];ze(Zo,co)}},ve=(Fe,ze)=>ct(Fe,ze)?V.from(Fe[ze]):V.none(),ct=(Fe,ze)=>Ee.call(Fe,ze),Ue=Fe=>{let ze=Fe;return{get:()=>ze,set:To=>{ze=To}}},J=(Fe,ze,nt)=>Fe.length>=ze.length&&Fe.substr(nt,nt+ze.length)===ze,vt=(Fe,ze)=>J(Fe,ze,0),en=Fe=>ze=>ze.options.get(Fe),Qe=Fe=>{const ze=Fe.options.register;ze("audio_template_callback",{processor:"function"}),ze("video_template_callback",{processor:"function"}),ze("iframe_template_callback",{processor:"function"}),ze("media_live_embeds",{processor:"boolean",default:!0}),ze("media_filter_html",{processor:"boolean",default:!0}),ze("media_url_resolver",{processor:"function"}),ze("media_alt_source",{processor:"boolean",default:!0}),ze("media_poster",{processor:"boolean",default:!0}),ze("media_dimensions",{processor:"boolean",default:!0})},ie=en("audio_template_callback"),it=en("video_template_callback"),Tn=en("iframe_template_callback"),mn=en("media_live_embeds"),qe=en("media_filter_html"),Oe=en("media_url_resolver"),Yo=en("media_alt_source"),pt=en("media_poster"),Pt=en("media_dimensions");var P=tinymce.util.Tools.resolve("tinymce.util.Tools"),Vt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),at=tinymce.util.Tools.resolve("tinymce.html.DomParser");const Qn=Vt.DOM,cn=Fe=>Fe.replace(/px$/,""),ee=Fe=>{const ze=Fe.attr("style"),nt=ze?Qn.parseStyle(ze):{};return{type:"ephox-embed-iri",source:Fe.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:ve(nt,"max-width").map(cn).getOr(""),height:ve(nt,"max-height").map(cn).getOr("")}},Me=(Fe,ze)=>{let nt={};const To=at({validate:!1,forced_root_block:!1},ze).parse(Fe);for(let co=To;co;co=co.walk())if(co.type===1){const Zo=co.name;if(co.attr("data-ephox-embed-iri")){nt=ee(co);break}else!nt.source&&Zo==="param"&&(nt.source=co.attr("movie")),(Zo==="iframe"||Zo==="object"||Zo==="embed"||Zo==="video"||Zo==="audio")&&(nt.type||(nt.type=Zo),nt=P.extend(co.attributes.map,nt)),Zo==="source"&&(nt.source?nt.altsource||(nt.altsource=co.attr("src")):nt.source=co.attr("src")),Zo==="img"&&!nt.poster&&(nt.poster=co.attr("src"))}return nt.source=nt.source||nt.src||"",nt.altsource=nt.altsource||"",nt.poster=nt.poster||"",nt},wt=Fe=>{const ze={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},nt=Fe.toLowerCase().split(".").pop()??"";return ve(ze,nt).getOr("")};var je=tinymce.util.Tools.resolve("tinymce.html.Node"),Bt=tinymce.util.Tools.resolve("tinymce.html.Serializer");const Ze=(Fe,ze={})=>at({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...ze},Fe),bt=Vt.DOM,X=Fe=>/^[0-9.]+$/.test(Fe)?Fe+"px":Fe,jo=(Fe,ze)=>{const nt=ze.attr("style"),gn=nt?bt.parseStyle(nt):{};U(Fe.width)&&(gn["max-width"]=X(Fe.width)),U(Fe.height)&&(gn["max-height"]=X(Fe.height)),ze.attr("style",bt.serializeStyle(gn))},vo=["source","altsource"],Mo=(Fe,ze,nt,gn)=>{let To=0,co=0;const Zo=Ze(gn);Zo.addNodeFilter("source",Ao=>To=Ao.length);const us=Zo.parse(Fe);for(let Ao=us;Ao;Ao=Ao.walk())if(Ao.type===1){const Qs=Ao.name;if(Ao.attr("data-ephox-embed-iri")){jo(ze,Ao);break}else{switch(Qs){case"video":case"object":case"embed":case"img":case"iframe":ze.height!==void 0&&ze.width!==void 0&&(Ao.attr("width",ze.width),Ao.attr("height",ze.height));break}if(nt)switch(Qs){case"video":Ao.attr("poster",ze.poster),Ao.attr("src",null);for(let He=To;He<2;He++)if(ze[vo[He]]){const jt=new je("source",1);jt.attr("src",ze[vo[He]]),jt.attr("type",ze[vo[He]+"mime"]||null),Ao.append(jt)}break;case"iframe":Ao.attr("src",ze.source);break;case"object":const me=Ao.getAll("img").length>0;if(ze.poster&&!me){Ao.attr("src",ze.poster);const He=new je("img",1);He.attr("src",ze.poster),He.attr("width",ze.width),He.attr("height",ze.height),Ao.append(He)}break;case"source":if(co<2&&(Ao.attr("src",ze[vo[co]]),Ao.attr("type",ze[vo[co]+"mime"]||null),!ze[vo[co]])){Ao.remove();continue}co++;break;case"img":ze.poster||Ao.remove();break}}}return Bt({},gn).serialize(us)},Io=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],zs=Fe=>{const ze=Fe.match(/^(https?:\/\/|www\.)(.+)$/i);return ze&&ze.length>1?ze[1]==="www."?"https://":ze[1]:"https://"},Ne=(Fe,ze)=>{const nt=zs(ze),gn=Fe.regex.exec(ze);let To=nt+Fe.url;if(U(gn))for(let co=0;co<gn.length;co++)To=To.replace("$"+co,()=>gn[co]?gn[co]:"");return To.replace(/\?$/,"")},Ge=Fe=>{const ze=Io.filter(nt=>nt.regex.test(Fe));return ze.length>0?P.extend({},ze[0],{url:Ne(ze[0],Fe)}):null},tt=(Fe,ze)=>{if(ze)return ze(Fe);{const nt=Fe.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+Fe.source+'" width="'+Fe.width+'" height="'+Fe.height+'"'+nt+"></iframe>"}},Be=Fe=>{let ze='<object data="'+Fe.source+'" width="'+Fe.width+'" height="'+Fe.height+'" type="application/x-shockwave-flash">';return Fe.poster&&(ze+='<img src="'+Fe.poster+'" width="'+Fe.width+'" height="'+Fe.height+'" />'),ze+="</object>",ze},Je=(Fe,ze)=>ze?ze(Fe):'<audio controls="controls" src="'+Fe.source+'">'+(Fe.altsource?`
<source src="`+Fe.altsource+'"'+(Fe.altsourcemime?' type="'+Fe.altsourcemime+'"':"")+` />
`:"")+"</audio>",Rt=(Fe,ze)=>ze?ze(Fe):'<video width="'+Fe.width+'" height="'+Fe.height+'"'+(Fe.poster?' poster="'+Fe.poster+'"':"")+` controls="controls">
<source src="`+Fe.source+'"'+(Fe.sourcemime?' type="'+Fe.sourcemime+'"':"")+` />
`+(Fe.altsource?'<source src="'+Fe.altsource+'"'+(Fe.altsourcemime?' type="'+Fe.altsourcemime+'"':"")+` />
`:"")+"</video>",yt=(Fe,ze)=>{const nt=P.extend({},ze);if(!nt.source&&(P.extend(nt,Me(nt.embed??"",Fe.schema)),!nt.source))return"";nt.altsource||(nt.altsource=""),nt.poster||(nt.poster=""),nt.source=Fe.convertURL(nt.source,"source"),nt.altsource=Fe.convertURL(nt.altsource,"source"),nt.sourcemime=wt(nt.source),nt.altsourcemime=wt(nt.altsource),nt.poster=Fe.convertURL(nt.poster,"poster");const gn=Ge(nt.source);if(gn&&(nt.source=gn.url,nt.type=gn.type,nt.allowfullscreen=gn.allowFullscreen,nt.width=nt.width||String(gn.w),nt.height=nt.height||String(gn.h)),nt.embed)return Mo(nt.embed,nt,!0,Fe.schema);{const To=ie(Fe),co=it(Fe),Zo=Tn(Fe);return nt.width=nt.width||"300",nt.height=nt.height||"150",P.each(nt,(us,Ao)=>{nt[Ao]=Fe.dom.encode(""+us)}),nt.type==="iframe"?tt(nt,Zo):nt.sourcemime==="application/x-shockwave-flash"?Be(nt):nt.sourcemime.indexOf("audio")!==-1?Je(nt,To):Rt(nt,co)}},Un=Fe=>Fe.hasAttribute("data-mce-object")||Fe.hasAttribute("data-ephox-embed-iri"),Dt=Fe=>{Fe.on("mousedown",ze=>{const nt=Fe.dom.getParent(ze.target,".mce-preview-object");nt&&Fe.dom.getAttrib(nt,"data-mce-selected")==="2"&&ze.stopImmediatePropagation()}),Fe.on("click keyup touchend",()=>{const ze=Fe.selection.getNode();ze&&Fe.dom.hasClass(ze,"mce-preview-object")&&Fe.dom.getAttrib(ze,"data-mce-selected")&&ze.setAttribute("data-mce-selected","2")}),Fe.on("ObjectResized",ze=>{const nt=ze.target;if(nt.getAttribute("data-mce-object")){let gn=nt.getAttribute("data-mce-html");gn&&(gn=unescape(gn),nt.setAttribute("data-mce-html",escape(Mo(gn,{width:String(ze.width),height:String(ze.height)},!1,Fe.schema))))}})},Le={},Tt=(Fe,ze,nt)=>new Promise((gn,To)=>{const co=Zo=>(Zo.html&&(Le[Fe.source]=Zo),gn({url:Fe.source,html:Zo.html?Zo.html:ze(Fe)}));Le[Fe.source]?co(Le[Fe.source]):nt({url:Fe.source}).then(co).catch(To)}),sn=(Fe,ze)=>Promise.resolve({html:ze(Fe),url:Fe.source}),Zn=Fe=>ze=>yt(Fe,ze),Xo=(Fe,ze)=>{const nt=Oe(Fe);return nt?Tt(ze,Zn(Fe),nt):sn(ze,Zn(Fe))},Jo=Fe=>ct(Le,Fe),ko=(Fe,ze)=>ve(ze,Fe).bind(nt=>ve(nt,"meta")),mr=(Fe,ze,nt)=>gn=>{const To=()=>ve(Fe,gn),co=()=>ve(ze,gn),Zo=Qs=>ve(Qs,"value").bind(me=>me.length>0?V.some(me):V.none()),us=()=>To().bind(Qs=>N(Qs)?Zo(Qs).orThunk(co):co().orThunk(()=>V.from(Qs))),Ao=()=>co().orThunk(()=>To().bind(Qs=>N(Qs)?Zo(Qs):V.from(Qs)));return{[gn]:(gn===nt?us():Ao()).getOr("")}},Ho=(Fe,ze)=>{const nt={};return ve(Fe,"dimensions").each(gn=>{ne(["width","height"],To=>{ve(ze,To).orThunk(()=>ve(gn,To)).each(co=>nt[To]=co)})}),nt},os=(Fe,ze)=>{const nt=ze&&ze!=="dimensions"?ko(ze,Fe).getOr({}):{},gn=mr(Fe,nt,ze);return{...gn("source"),...gn("altsource"),...gn("poster"),...gn("embed"),...Ho(Fe,nt)}},Vs=Fe=>{const ze={...Fe,source:{value:ve(Fe,"source").getOr("")},altsource:{value:ve(Fe,"altsource").getOr("")},poster:{value:ve(Fe,"poster").getOr("")}};return ne(["width","height"],nt=>{ve(Fe,nt).each(gn=>{const To=ze.dimensions||{};To[nt]=gn,ze.dimensions=To})}),ze},Ss=Fe=>ze=>{const nt=ze&&ze.msg?"Media embed handler error: "+ze.msg:"Media embed handler threw unknown error.";Fe.notificationManager.open({type:"error",text:nt})},Xs=Fe=>{const ze=Fe.selection.getNode(),nt=Un(ze)?Fe.serializer.serialize(ze,{selection:!0}):"",gn=Me(nt,Fe.schema),co=(()=>{if($r(gn.source,gn.type)){const Zo=Fe.dom.getRect(ze);return{width:Zo.w.toString().replace(/px$/,""),height:Zo.h.toString().replace(/px$/,"")}}else return{}})();return{embed:nt,...gn,...co}},gs=(Fe,ze)=>nt=>{if(A(nt.url)&&nt.url.trim().length>0){const gn=nt.html,co={...Me(gn,ze.schema),source:nt.url,embed:gn};Fe.setData(Vs(co))}},Wr=(Fe,ze)=>{const nt=Fe.dom.select("*[data-mce-object]");for(let gn=0;gn<ze.length;gn++)for(let To=nt.length-1;To>=0;To--)ze[gn]===nt[To]&&nt.splice(To,1);Fe.selection.select(nt[0])},Es=(Fe,ze)=>{const nt=Fe.dom.select("*[data-mce-object]");Fe.insertContent(ze),Wr(Fe,nt),Fe.nodeChanged()},$r=(Fe,ze)=>U(ze)&&ze==="ephox-embed-iri"&&U(Ge(Fe)),Ma=(Fe,ze)=>((gn,To)=>gn.width!==To.width||gn.height!==To.height)(Fe,ze)&&$r(ze.source,Fe.type),Hn=(Fe,ze,nt)=>{ze.embed=Ma(Fe,ze)&&Pt(nt)?yt(nt,{...ze,embed:""}):Mo(ze.embed??"",ze,!1,nt.schema),ze.embed&&(Fe.source===ze.source||Jo(ze.source))?Es(nt,ze.embed):Xo(nt,ze).then(gn=>{Es(nt,gn.html)}).catch(Ss(nt))},ts=Fe=>{const ze=Xs(Fe),nt=Ue(ze),gn=Vs(ze),To=(Bn,Uo)=>{const vs=os(Uo.getData(),"source");Bn.source!==vs.source&&(gs(oo,Fe)({url:vs.source,html:""}),Xo(Fe,vs).then(gs(oo,Fe)).catch(Ss(Fe)))},co=Bn=>{const Uo=os(Bn.getData()),vs=Me(Uo.embed??"",Fe.schema);Bn.setData(Vs(vs))},Zo=(Bn,Uo,vs)=>{const Ts=os(Bn.getData(),Uo),As=Ma(vs,Ts)&&Pt(Fe)?{...Ts,embed:""}:Ts,sa=yt(Fe,As);Bn.setData(Vs({...As,embed:sa}))},us=[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],Ao=Pt(Fe)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],Qs={title:"General",name:"general",items:ue([us,Ao])},He={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},jt=[];Yo(Fe)&&jt.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),pt(Fe)&&jt.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const xn={title:"Advanced",name:"advanced",items:jt},qt=[Qs,He];jt.length>0&&qt.push(xn);const xo={type:"tabpanel",tabs:qt},oo=Fe.windowManager.open({title:"Insert/Edit Media",size:"normal",body:xo,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Bn=>{const Uo=os(Bn.getData());Hn(nt.get(),Uo,Fe),Bn.close()},onChange:(Bn,Uo)=>{switch(Uo.name){case"source":To(nt.get(),Bn);break;case"embed":co(Bn);break;case"dimensions":case"altsource":case"poster":Zo(Bn,Uo.name,nt.get());break}nt.set(os(Bn.getData()))},initialData:gn})},Oo=Fe=>({showDialog:()=>{ts(Fe)}}),ci=Fe=>{const ze=()=>{ts(Fe)};Fe.addCommand("mceMedia",ze)};var Ba=tinymce.util.Tools.resolve("tinymce.Env");const Mn=Fe=>{const ze=Fe.name;return ze==="iframe"||ze==="video"||ze==="audio"},Zt=(Fe,ze,nt,gn=null)=>{const To=Fe.attr(nt);return U(To)?To:ct(ze,nt)?null:gn},Gt=(Fe,ze,nt)=>{const gn=ze.name==="img"||Fe.name==="video",To=gn?"300":null,co=Fe.name==="audio"?"30":"150",Zo=gn?co:null;ze.attr({width:Zt(Fe,nt,"width",To),height:Zt(Fe,nt,"height",Zo)})},Yn=(Fe,ze,nt,gn)=>{const To=Ze(Fe.schema).parse(gn,{context:ze});for(;To.firstChild;)nt.append(To.firstChild)},Gn=(Fe,ze)=>{const nt=ze.name,gn=new je("img",1);return Ro(Fe,ze,gn),Gt(ze,gn,{}),gn.attr({style:ze.attr("style"),src:Ba.transparentSrc,"data-mce-object":nt,class:"mce-object mce-object-"+nt}),gn},yo=(Fe,ze)=>{const nt=ze.name,gn=new je("span",1);gn.attr({contentEditable:"false",style:ze.attr("style"),"data-mce-object":nt,class:"mce-preview-object mce-object-"+nt}),Ro(Fe,ze,gn);const To=Fe.dom.parseStyle(ze.attr("style")??""),co=new je(nt,1);if(Gt(ze,co,To),co.attr({src:ze.attr("src"),style:ze.attr("style"),class:ze.attr("class")}),nt==="iframe")co.attr({allowfullscreen:ze.attr("allowfullscreen"),frameborder:"0",sandbox:ze.attr("sandbox"),referrerpolicy:ze.attr("referrerpolicy")});else{ne(["controls","crossorigin","currentTime","loop","muted","poster","preload"],Qs=>{co.attr(Qs,ze.attr(Qs))});const Ao=gn.attr("data-mce-html");U(Ao)&&Yn(Fe,nt,co,unescape(Ao))}const Zo=new je("span",1);return Zo.attr("class","mce-shim"),gn.append(co),gn.append(Zo),gn},Ro=(Fe,ze,nt)=>{const gn=ze.attributes??[];let To=gn.length;for(;To--;){const Ao=gn[To].name;let Qs=gn[To].value;Ao!=="width"&&Ao!=="height"&&Ao!=="style"&&!vt(Ao,"data-mce-")&&((Ao==="data"||Ao==="src")&&(Qs=Fe.convertURL(Qs,Ao)),nt.attr("data-mce-p-"+Ao,Qs))}const co=Bt({inner:!0},Fe.schema),Zo=new je("div",1);ne(ze.children(),Ao=>Zo.append(Ao));const us=co.serialize(Zo);us&&(nt.attr("data-mce-html",escape(us)),nt.empty())},Jn=Fe=>{const ze=Fe.attr("class");return A(ze)&&/\btiny-pageembed\b/.test(ze)},ls=Fe=>{let ze=Fe;for(;ze=ze.parent;)if(ze.attr("data-ephox-embed-iri")||Jn(ze))return!0;return!1},La=Fe=>ze=>{let nt=ze.length,gn;for(;nt--;)gn=ze[nt],gn.parent&&(gn.parent.attr("data-mce-object")||(Mn(gn)&&mn(Fe)?ls(gn)||gn.replace(yo(Fe,gn)):ls(gn)||gn.replace(Gn(Fe,gn))))},ol=(Fe,ze,nt)=>{const gn=Fe.options.get,To=gn("xss_sanitization"),co=qe(Fe);return Ze(Fe.schema,{sanitize:To,validate:co}).parse(nt,{context:ze})},hi=Fe=>{Fe.on("PreInit",()=>{const{schema:ze,serializer:nt,parser:gn}=Fe,To=ze.getBoolAttrs();ne("webkitallowfullscreen mozallowfullscreen".split(" "),co=>{To[co]={}}),$e({embed:["wmode"]},(co,Zo)=>{const us=ze.getElementRule(Zo);us&&ne(co,Ao=>{us.attributes[Ao]={},us.attributesOrder.push(Ao)})}),gn.addNodeFilter("iframe,video,audio,object,embed",La(Fe)),nt.addAttributeFilter("data-mce-object",(co,Zo)=>{let us=co.length;for(;us--;){const Ao=co[us];if(!Ao.parent)continue;const Qs=Ao.attr(Zo),me=new je(Qs,1);if(Qs!=="audio"){const qt=Ao.attr("class");qt&&qt.indexOf("mce-preview-object")!==-1&&Ao.firstChild?me.attr({width:Ao.firstChild.attr("width"),height:Ao.firstChild.attr("height")}):me.attr({width:Ao.attr("width"),height:Ao.attr("height")})}me.attr({style:Ao.attr("style")});const He=Ao.attributes??[];let jt=He.length;for(;jt--;){const qt=He[jt].name;qt.indexOf("data-mce-p-")===0&&me.attr(qt.substr(11),He[jt].value)}const xn=Ao.attr("data-mce-html");if(xn){const qt=ol(Fe,Qs,unescape(xn));ne(qt.children(),xo=>me.append(xo))}Ao.replace(me)}})}),Fe.on("SetContent",()=>{const ze=Fe.dom;ne(ze.select("span.mce-preview-object"),nt=>{ze.select("span.mce-shim",nt).length===0&&ze.add(nt,"span",{class:"mce-shim"})})})},Pn=Fe=>{Fe.on("ResolveName",ze=>{let nt;ze.target.nodeType===1&&(nt=ze.target.getAttribute("data-mce-object"))&&(ze.name=nt)})},er=Fe=>ze=>{const nt=()=>{ze.setEnabled(Fe.selection.isEditable())};return Fe.on("NodeChange",nt),nt(),()=>{Fe.off("NodeChange",nt)}},tr=Fe=>{const ze=()=>Fe.execCommand("mceMedia");Fe.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:ze,onSetup:nt=>{const gn=Fe.selection;nt.setActive(Un(gn.getNode()));const To=gn.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",nt.setActive).unbind,co=er(Fe)(nt);return()=>{To(),co()}}}),Fe.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:ze,onSetup:er(Fe)})};var Vl=()=>{c.add("media",Fe=>(Qe(Fe),ci(Fe),tr(Fe),Pn(Fe),hi(Fe),Dt(Fe),Oo(Fe)))};Vl()})()),jae}var Zae;function _2e(){return Zae||(Zae=1,D2e()),Vae}_2e();var Wae={},qae={},Gae;function O2e(){return Gae||(Gae=1,(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const d=(L,z,ae)=>ae(L,z.prototype)?!0:L.constructor?.name===z.name,p=L=>{const z=typeof L;return L===null?"null":z==="object"&&Array.isArray(L)?"array":z==="object"&&d(L,String,(ae,xe)=>xe.isPrototypeOf(ae))?"string":z},x=L=>z=>p(z)===L,A=L=>z=>typeof z===L,N=L=>z=>L===z,O=x("string"),H=x("array"),U=A("boolean"),V=N(void 0),Y=L=>L==null,ne=L=>!Y(L),ue=A("function"),we=A("number"),Ee=()=>{},$e=(L,z)=>ae=>L(z(ae)),ve=L=>()=>L,ct=L=>L,Ue=(L,z)=>L===z;function J(L,...z){return(...ae)=>{const xe=z.concat(ae);return L.apply(null,xe)}}const vt=L=>{L()},en=ve(!1),Qe=ve(!0);class ie{tag;value;static singletonNone=new ie(!1);constructor(z,ae){this.tag=z,this.value=ae}static some(z){return new ie(!0,z)}static none(){return ie.singletonNone}fold(z,ae){return this.tag?ae(this.value):z()}isSome(){return this.tag}isNone(){return!this.tag}map(z){return this.tag?ie.some(z(this.value)):ie.none()}bind(z){return this.tag?z(this.value):ie.none()}exists(z){return this.tag&&z(this.value)}forall(z){return!this.tag||z(this.value)}filter(z){return!this.tag||z(this.value)?this:ie.none()}getOr(z){return this.tag?this.value:z}or(z){return this.tag?this:z}getOrThunk(z){return this.tag?this.value:z()}orThunk(z){return this.tag?this:z()}getOrDie(z){if(this.tag)return this.value;throw new Error(z??"Called getOrDie on None")}static from(z){return ne(z)?ie.some(z):ie.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(z){this.tag&&z(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const it=Array.prototype.indexOf,Tn=Array.prototype.push,mn=(L,z)=>it.call(L,z),qe=(L,z)=>mn(L,z)>-1,Oe=(L,z)=>{for(let ae=0,xe=L.length;ae<xe;ae++){const We=L[ae];if(z(We,ae))return!0}return!1},Yo=(L,z)=>{const ae=[];for(let xe=0;xe<L;xe++)ae.push(z(xe));return ae},pt=(L,z)=>{const ae=L.length,xe=new Array(ae);for(let We=0;We<ae;We++){const kt=L[We];xe[We]=z(kt,We)}return xe},Pt=(L,z)=>{for(let ae=0,xe=L.length;ae<xe;ae++){const We=L[ae];z(We,ae)}},P=(L,z)=>{for(let ae=L.length-1;ae>=0;ae--){const xe=L[ae];z(xe,ae)}},Vt=(L,z)=>{const ae=[],xe=[];for(let We=0,kt=L.length;We<kt;We++){const wn=L[We];(z(wn,We)?ae:xe).push(wn)}return{pass:ae,fail:xe}},at=(L,z)=>{const ae=[];for(let xe=0,We=L.length;xe<We;xe++){const kt=L[xe];z(kt,xe)&&ae.push(kt)}return ae},Qn=(L,z,ae)=>(P(L,(xe,We)=>{ae=z(ae,xe,We)}),ae),cn=(L,z,ae)=>(Pt(L,(xe,We)=>{ae=z(ae,xe,We)}),ae),ee=(L,z,ae)=>{for(let xe=0,We=L.length;xe<We;xe++){const kt=L[xe];if(z(kt,xe))return ie.some(kt);if(ae(kt,xe))break}return ie.none()},Me=(L,z)=>ee(L,z,en),wt=L=>{const z=[];for(let ae=0,xe=L.length;ae<xe;++ae){if(!H(L[ae]))throw new Error("Arr.flatten item "+ae+" was not an array, input: "+L);Tn.apply(z,L[ae])}return z},je=(L,z)=>wt(pt(L,z)),Bt=(L,z)=>{for(let ae=0,xe=L.length;ae<xe;++ae){const We=L[ae];if(z(We,ae)!==!0)return!1}return!0},Ze=(L,z)=>{const ae={};for(let xe=0,We=L.length;xe<We;xe++){const kt=L[xe];ae[String(kt)]=z(kt,xe)}return ae},bt=(L,z)=>z>=0&&z<L.length?ie.some(L[z]):ie.none(),X=L=>bt(L,0),jo=L=>bt(L,L.length-1),vo=(L,z)=>{for(let ae=0;ae<L.length;ae++){const xe=z(L[ae],ae);if(xe.isSome())return xe}return ie.none()},Mo=Object.keys,Io=Object.hasOwnProperty,zs=(L,z)=>{const ae=Mo(L);for(let xe=0,We=ae.length;xe<We;xe++){const kt=ae[xe],wn=L[kt];z(wn,kt)}},Ne=L=>(z,ae)=>{L[ae]=z},Ge=(L,z,ae,xe)=>{zs(L,(We,kt)=>{(z(We,kt)?ae:xe)(We,kt)})},tt=(L,z)=>{const ae={};return Ge(L,z,Ne(ae),Ee),ae},Be=(L,z)=>{const ae=[];return zs(L,(xe,We)=>{ae.push(z(xe,We))}),ae},Je=L=>Be(L,ct),Rt=L=>Mo(L).length,yt=(L,z)=>Un(L,z)?ie.from(L[z]):ie.none(),Un=(L,z)=>Io.call(L,z),Dt=(L,z)=>Un(L,z)&&L[z]!==void 0&&L[z]!==null,Le=L=>{for(const z in L)if(Io.call(L,z))return!1;return!0},Tt=L=>{let z=L;return{get:()=>z,set:We=>{z=We}}},sn=(L,z,ae=Ue)=>L.exists(xe=>ae(xe,z)),Zn=L=>{const z=[],ae=xe=>{z.push(xe)};for(let xe=0;xe<L.length;xe++)L[xe].each(ae);return z},Xo=(L,z,ae)=>L.isSome()&&z.isSome()?ie.some(ae(L.getOrDie(),z.getOrDie())):ie.none(),Jo=L=>L.bind(ct),ko=(L,z)=>L?ie.some(z):ie.none(),mr=L=>{const z=Tt(ie.none()),ae=()=>z.get().each(L);return{clear:()=>{ae(),z.set(ie.none())},isSet:()=>z.get().isSome(),get:()=>z.get(),set:_n=>{ae(),z.set(ie.some(_n))}}},Ho=()=>mr(L=>L.unbind()),os=(L,z)=>L.substring(z),Vs=(L,z,ae)=>z===""||L.length>=z.length&&L.substr(ae,ae+z.length)===z,Ss=(L,z)=>Xs(L,z)?os(L,z.length):L,Xs=(L,z)=>Vs(L,z,0),Wr=(L=>z=>z.replace(L,""))(/^\s+|\s+$/g),Es=L=>L.length>0,$r=L=>!Es(L),Ma=(L,z=10)=>{const ae=parseInt(L,z);return isNaN(ae)?ie.none():ie.some(ae)},Hn=L=>{const z=parseFloat(L);return isNaN(z)?ie.none():ie.some(z)},ts=L=>{let z=!1,ae;return(...xe)=>(z||(z=!0,ae=L.apply(null,xe)),ae)},Oo=(L,z)=>{const xe=(z||document).createElement("div");if(xe.innerHTML=L,!xe.hasChildNodes()||xe.childNodes.length>1){const We="HTML does not have a single root node";throw console.error(We,L),new Error(We)}return Mn(xe.childNodes[0])},ci=(L,z)=>{const xe=(z||document).createElement(L);return Mn(xe)},Ba=(L,z)=>{const xe=(z||document).createTextNode(L);return Mn(xe)},Mn=L=>{if(L==null)throw new Error("Node cannot be null or undefined");return{dom:L}},Gt={fromHtml:Oo,fromTag:ci,fromText:Ba,fromDom:Mn,fromPoint:(L,z,ae)=>ie.from(L.dom.elementFromPoint(z,ae)).map(Mn)},Yn=8,Gn=9,yo=11,Ro=1,Jn=3,ls=(L,z)=>{const ae=L.dom;if(ae.nodeType!==Ro)return!1;{const xe=ae;if(xe.matches!==void 0)return xe.matches(z);if(xe.msMatchesSelector!==void 0)return xe.msMatchesSelector(z);if(xe.webkitMatchesSelector!==void 0)return xe.webkitMatchesSelector(z);if(xe.mozMatchesSelector!==void 0)return xe.mozMatchesSelector(z);throw new Error("Browser lacks native selectors")}},La=L=>L.nodeType!==Ro&&L.nodeType!==Gn&&L.nodeType!==yo||L.childElementCount===0,ol=(L,z)=>{const ae=z===void 0?document:z.dom;return La(ae)?[]:pt(ae.querySelectorAll(L),Gt.fromDom)},hi=(L,z)=>{const ae=z===void 0?document:z.dom;return La(ae)?ie.none():ie.from(ae.querySelector(L)).map(Gt.fromDom)},Pn=(L,z)=>L.dom===z.dom,er=ls,tr=L=>L.dom.nodeName.toLowerCase(),Vl=L=>L.dom.nodeType,Fe=L=>z=>Vl(z)===L,ze=L=>Vl(L)===Yn||tr(L)==="#comment",nt=Fe(Ro),gn=Fe(Jn),To=Fe(Gn),co=Fe(yo),Zo=L=>z=>nt(z)&&tr(z)===L,us=L=>Gt.fromDom(L.dom.ownerDocument),Ao=L=>To(L)?L:us(L),Qs=L=>ie.from(L.dom.parentNode).map(Gt.fromDom),me=(L,z)=>{const ae=ue(z)?z:en;let xe=L.dom;const We=[];for(;xe.parentNode!==null&&xe.parentNode!==void 0;){const kt=xe.parentNode,wn=Gt.fromDom(kt);if(We.push(wn),ae(wn)===!0)break;xe=kt}return We},He=L=>ie.from(L.dom.previousSibling).map(Gt.fromDom),jt=L=>ie.from(L.dom.nextSibling).map(Gt.fromDom),xn=L=>pt(L.dom.childNodes,Gt.fromDom),qt=(L,z)=>{const ae=L.dom.childNodes;return ie.from(ae[z]).map(Gt.fromDom)},xo=L=>qt(L,0),oo=L=>co(L)&&ne(L.dom.host),Bn=L=>Gt.fromDom(L.dom.getRootNode()),Uo=L=>{const z=Bn(L);return oo(z)?ie.some(z):ie.none()},vs=L=>Gt.fromDom(L.dom.host),Ts=(L,z)=>{Qs(L).each(xe=>{xe.dom.insertBefore(z.dom,L.dom)})},As=(L,z)=>{jt(L).fold(()=>{Qs(L).each(We=>{Sa(We,z)})},xe=>{Ts(xe,z)})},sa=(L,z)=>{xo(L).fold(()=>{Sa(L,z)},xe=>{L.dom.insertBefore(z.dom,xe.dom)})},Sa=(L,z)=>{L.dom.appendChild(z.dom)},Qf=(L,z)=>{Ts(L,z),Sa(z,L)},Tr=(L,z)=>{Pt(z,(ae,xe)=>{const We=xe===0?L:z[xe-1];As(We,ae)})},Ps=(L,z)=>{Pt(z,ae=>{Sa(L,ae)})},ir=(L,z,ae)=>{if(O(ae)||U(ae)||we(ae))L.setAttribute(z,ae+"");else throw console.error("Invalid call to Attribute.set. Key ",z,":: Value ",ae,":: Element ",L),new Error("Attribute value was not simple")},Vi=(L,z,ae)=>{ir(L.dom,z,ae)},wi=(L,z)=>{const ae=L.dom;zs(z,(xe,We)=>{ir(ae,We,xe)})},Ir=(L,z)=>{const ae=L.dom.getAttribute(z);return ae===null?void 0:ae},wo=(L,z)=>ie.from(Ir(L,z)),Ci=(L,z)=>{L.dom.removeAttribute(z)},ni=L=>cn(L.dom.attributes,(z,ae)=>(z[ae.name]=ae.value,z),{}),Jr=L=>{const z=L.dom;z.parentNode!==null&&z.parentNode.removeChild(z)},Sf=L=>{const z=xn(L);z.length>0&&Tr(L,z),Jr(L)},uc=L=>pt(L,Gt.fromDom),Hr=L=>L.style!==void 0&&ue(L.style.getPropertyValue),wu=L=>{const z=gn(L)?L.dom.parentNode:L.dom;if(z==null||z.ownerDocument===null)return!1;const ae=z.ownerDocument;return Uo(Gt.fromDom(z)).fold(()=>ae.body.contains(z),$e(wu,vs))},dc=(L,z,ae)=>{if(!O(ae))throw console.error("Invalid call to CSS.set. Property ",z,":: Value ",ae,":: Element ",L),new Error("CSS value must be a string: "+ae);Hr(L)&&L.style.setProperty(z,ae)},Ef=(L,z)=>{Hr(L)&&L.style.removeProperty(z)},An=(L,z,ae)=>{const xe=L.dom;dc(xe,z,ae)},Cu=(L,z)=>{const ae=L.dom,We=window.getComputedStyle(ae).getPropertyValue(z);return We===""&&!wu(L)?Ri(ae,z):We},Ri=(L,z)=>Hr(L)?L.style.getPropertyValue(z):"",gi=(L,z)=>{const ae=L.dom,xe=Ri(ae,z);return ie.from(xe).filter(We=>We.length>0)},qr=(L,z)=>{const ae=L.dom;Ef(ae,z),sn(wo(L,"style").map(Wr),"")&&Ci(L,"style")},Gd=(L,z)=>Hn(L).getOr(z),Si=(L,z,ae)=>Gd(Cu(L,z),ae),sl=(L,z,ae,xe)=>{const We=Si(L,`padding-${ae}`,0),kt=Si(L,`padding-${xe}`,0),wn=Si(L,`border-${ae}-width`,0),_n=Si(L,`border-${xe}-width`,0);return z-We-kt-wn-_n},Tf=(L,z)=>{const ae=L.dom,xe=ae.getBoundingClientRect().width||ae.offsetWidth;return sl(L,xe,"left","right")},Su=L=>Tf(L),Dl=((L,z)=>{const ae=kt=>{if(!L(kt))throw new Error("Can only get "+z+" value of a "+z+" node");return xe(kt).getOr("")},xe=kt=>L(kt)?ie.from(kt.dom.nodeValue):ie.none();return{get:ae,getOption:xe,set:(kt,wn)=>{if(!L(kt))throw new Error("Can only set raw "+z+" value of a "+z+" node");kt.dom.nodeValue=wn}}})(gn,"text"),Wc=L=>Dl.get(L),qc=(L,z)=>Dl.set(L,z);var fn=(L,z,ae,xe,We)=>L(ae,xe)?ie.some(ae):ue(We)&&We(ae)?ie.none():z(ae,xe,We);const Eu=(L,z,ae)=>{let xe=L.dom;const We=ue(ae)?ae:en;for(;xe.parentNode;){xe=xe.parentNode;const kt=Gt.fromDom(xe);if(z(kt))return ie.some(kt);if(We(kt))break}return ie.none()},bd=(L,z,ae)=>fn((We,kt)=>kt(We),Eu,L,z,ae),jl=(L,z)=>{const ae=We=>z(Gt.fromDom(We));return Me(L.dom.childNodes,ae).map(Gt.fromDom)},rl=(L,z,ae)=>Eu(L,xe=>ls(xe,z),ae),ju=(L,z)=>jl(L,ae=>ls(ae,z)),ji=(L,z)=>hi(z,L),oi=(L,z,ae)=>fn((We,kt)=>ls(We,kt),rl,L,z,ae),_l=L=>oi(L,"[contenteditable]"),fc=(L,z=!1)=>wu(L)?L.dom.isContentEditable:_l(L).fold(ve(z),ae=>Ws(ae)==="true"),Ws=L=>L.dom.contentEditable,Af=(L,z)=>at(xn(L),z),te=(L,z)=>{let ae=[];return Pt(xn(L),xe=>{z(xe)&&(ae=ae.concat([xe])),ae=ae.concat(te(xe,z))}),ae},be=(L,z)=>Af(L,ae=>ls(ae,z)),Pe=(L,z)=>ol(z,L),Nt=(L,z)=>ju(L,z).isSome(),qn=L=>L.nodeName.toLowerCase(),ps=L=>Gt.fromDom(L.getBody()),lr=L=>z=>Pn(z,ps(L)),ja=L=>L?L.replace(/px$/,""):"",Ei=L=>/^\d+(\.\d+)?$/.test(L)?L+"px":L,Ol=L=>Gt.fromDom(L.selection.getStart()),se=L=>Gt.fromDom(L.selection.getEnd()),Ae=L=>bd(L,Zo("table")).forall(fc),Xe=["tfoot","thead","tbody","colgroup"],Et=L=>qe(Xe,L),pn=(L,z)=>({rows:L,columns:z}),Wn=(L,z,ae)=>({element:L,rowspan:z,colspan:ae}),Po=(L,z,ae,xe,We,kt)=>({element:L,rowspan:z,colspan:ae,row:xe,column:We,isLocked:kt}),qs=(L,z,ae)=>({element:L,cells:z,section:ae}),_s=(L,z,ae,xe)=>({startRow:L,startCol:z,finishRow:ae,finishCol:xe}),Ni=(L,z,ae)=>({element:L,colspan:z,column:ae}),Ea=(L,z)=>({element:L,columns:z}),Yd=(L,z,ae=0)=>wo(L,z).map(xe=>parseInt(xe,10)).getOr(ae),Om=(L,z)=>kf(L,z,Qe),kf=(L,z,ae)=>je(xn(L),xe=>ls(xe,z)?ae(xe)?[xe]:[]:kf(xe,z,ae)),Gc=(L,z,ae=en)=>{if(ae(z))return ie.none();if(qe(L,tr(z)))return ie.some(z);const xe=We=>ls(We,"table")||ae(We);return rl(z,L.join(","),xe)},N0=(L,z)=>Gc(["td","th"],L,z),M0=L=>Om(L,"th,td"),pe=L=>ls(L,"colgroup")?be(L,"col"):je(Yt(L),z=>be(z,"col")),Re=(L,z)=>oi(L,"table",z),dt=L=>Om(L,"tr"),Yt=L=>Re(L).fold(ve([]),z=>be(z,"colgroup")),po=Zo("th"),bs=(L,z)=>L&&z?"sectionCells":L?"section":"cells",Ta=L=>{const z=L.section==="thead",ae=sn(al(L.cells),"th");return L.section==="tfoot"?{type:"footer"}:z||ae?{type:"header",subType:bs(z,ae)}:{type:"body"}},al=L=>{const z=at(L,ae=>po(ae.element));return z.length===0?ie.some("td"):z.length===L.length?ie.some("th"):ie.none()},Ui=L=>{const z=pt(L,We=>Ta(We).type),ae=qe(z,"header"),xe=qe(z,"footer");if(!ae&&!xe)return ie.some("body");{const We=qe(z,"body");return ae&&!We&&!xe?ie.some("header"):!ae&&!We&&xe?ie.some("footer"):ie.none()}},Ul=(L,z)=>pt(L,ae=>{if(tr(ae)==="colgroup"){const xe=pt(pe(ae),We=>{const kt=Yd(We,"span",1);return Wn(We,1,kt)});return qs(ae,xe,"colgroup")}else{const xe=pt(M0(ae),We=>{const kt=Yd(We,"rowspan",1),wn=Yd(We,"colspan",1);return Wn(We,kt,wn)});return qs(ae,xe,z(ae))}}),Xd=L=>Qs(L).map(z=>{const ae=tr(z);return Et(ae)?ae:"tbody"}).getOr("tbody"),Zl=L=>{const z=dt(L),xe=[...Yt(L),...z];return Ul(xe,Xd)},Rm="data-snooker-locked-cols",Wl=L=>wo(L,Rm).bind(z=>ie.from(z.match(/\d+/g))).map(z=>Ze(z,Qe)),il=(L,z)=>L+","+z,Qd=(L,z,ae)=>ie.from(L.access[il(z,ae)]),_c=(L,z,ae)=>{const xe=ds(L,We=>ae(z,We.element));return xe.length>0?ie.some(xe[0]):ie.none()},ds=(L,z)=>{const ae=je(L.all,xe=>xe.cells);return at(ae,z)},vh=L=>{const z={};let ae=0;return Pt(L.cells,xe=>{const We=xe.colspan;Yo(We,kt=>{const wn=ae+kt;z[wn]=Ni(xe.element,We,wn)}),ae+=We}),z},pp=L=>{const z={},ae=[],We=X(L).map(Nc=>Nc.element).bind(Re).bind(Wl).getOr({});let kt=0,wn=0,_n=0;const{pass:Fo,fail:as}=Vt(L,Nc=>Nc.section==="colgroup");Pt(as,Nc=>{const Yu=[];Pt(Nc.cells,sf=>{let di=0;for(;z[il(_n,di)]!==void 0;)di++;const Bi=Dt(We,di.toString()),am=Po(sf.element,sf.rowspan,sf.colspan,_n,di,Bi);for(let im=0;im<sf.colspan;im++)for(let Fm=0;Fm<sf.rowspan;Fm++){const Dh=_n+Fm,Ru=di+im,_h=il(Dh,Ru);z[_h]=am,wn=Math.max(wn,Ru+1)}Yu.push(am)}),kt++,ae.push(qs(Nc.element,Yu,Nc.section)),_n++});const{columns:Br,colgroups:ia}=jo(Fo).map(Nc=>{const Yu=vh(Nc);return{colgroups:[Ea(Nc.element,Je(Yu))],columns:Yu}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:pn(kt,wn),access:z,all:ae,columns:Br,colgroups:ia}},Ua={fromTable:L=>{const z=Zl(L);return pp(z)},generate:pp,getAt:Qd,findItem:_c,filterItems:ds,justCells:L=>je(L.all,z=>z.cells),justColumns:L=>Je(L.columns),hasColumns:L=>Mo(L.columns).length>0,getColumnAt:(L,z)=>ie.from(L.columns[z])},em=(L,z)=>vo(L.all,ae=>Me(ae.cells,xe=>Pn(z,xe.element))),W1=(L,z,ae)=>{const xe=pt(z.selection,kt=>N0(kt).bind(wn=>em(L,wn)).filter(ae)),We=Zn(xe);return ko(We.length>0,We)},an=(L,z)=>z.mergable,Kc=(L,z)=>z.unmergable,bg=(L,z)=>W1(L,z,Qe),yd=(L,z)=>em(L,z).exists(ae=>!ae.isLocked),yg=(L,z)=>Bt(z,ae=>yd(L,ae)),q1=(L,z)=>an(L,z).filter(ae=>yg(L,ae.cells)),De=(L,z)=>Kc(L,z).filter(ae=>yg(L,ae));var Yc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],vl=()=>{const L=as=>Gt.fromDom(as.dom.cloneNode(!1)),z=as=>Ao(as).dom,ae=as=>nt(as)?tr(as)==="body"?!0:qe(Yc,tr(as)):!1,xe=as=>nt(as)?qe(["br","img","hr","input"],tr(as)):!1,We=as=>nt(as)&&Ir(as,"contenteditable")==="false",kt=(as,Br)=>as.dom.compareDocumentPosition(Br.dom),wn=(as,Br)=>{const ia=ni(as);wi(Br,ia)},_n=as=>{const Br=tr(as);return qe(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Br)},Fo=as=>nt(as)?wo(as,"lang"):ie.none();return{up:ve({selector:rl,closest:oi,predicate:Eu,all:me}),down:ve({selector:Pe,predicate:te}),styles:ve({get:Cu,getRaw:gi,set:An,remove:qr}),attrs:ve({get:Ir,set:Vi,remove:Ci,copyTo:wn}),insert:ve({before:Ts,after:As,afterAll:Tr,append:Sa,appendAll:Ps,prepend:sa,wrap:Qf}),remove:ve({unwrap:Sf,remove:Jr}),create:ve({nu:Gt.fromTag,clone:L,text:Gt.fromText}),query:ve({comparePosition:kt,prevSibling:He,nextSibling:jt}),property:ve({children:xn,name:tr,parent:Qs,document:z,isText:gn,isComment:ze,isElement:nt,isSpecial:_n,getLanguage:Fo,getText:Wc,setText:qc,isBoundary:ae,isEmptyTag:xe,isNonEditable:We}),eq:Pn,is:er}};const xh=(L,z,ae,xe)=>{const We=ae[0],kt=ae.slice(1);return xe(L,z,We,kt)},wh=(L,z,ae)=>ae.length>0?xh(L,z,ae,Rl):ie.none(),Rl=(L,z,ae,xe)=>{const We=z(L,ae);return Qn(xe,(kt,wn)=>{const _n=z(L,wn);return Oc(L,kt,_n)},We)},Oc=(L,z,ae)=>z.bind(xe=>ae.filter(J(L.eq,xe))),L0=wh,bp=vl(),yp=(L,z)=>L0(bp,(ae,xe)=>L(xe),z),vp=(L,z)=>{const ae=Ua.fromTable(L);return bg(ae,z).bind(We=>{const kt=We[We.length-1],wn=We[0].row,_n=kt.row+kt.rowspan,Fo=ae.all.slice(wn,_n);return Ui(Fo)}).getOr("")},Tu=(L,z)=>z.column>=L.startCol&&z.column+z.colspan-1<=L.finishCol&&z.row>=L.startRow&&z.row+z.rowspan-1<=L.finishRow,Ch=(L,z)=>{let ae=!0;const xe=J(Tu,z);for(let We=z.startRow;We<=z.finishRow;We++)for(let kt=z.startCol;kt<=z.finishCol;kt++)ae=ae&&Ua.getAt(L,We,kt).exists(xe);return ae?ie.some(z):ie.none()},P0=(L,z)=>_s(Math.min(L.row,z.row),Math.min(L.column,z.column),Math.max(L.row+L.rowspan-1,z.row+z.rowspan-1),Math.max(L.column+L.colspan-1,z.column+z.colspan-1)),wl=(L,z,ae)=>{const xe=Ua.findItem(L,z,Pn),We=Ua.findItem(L,ae,Pn);return xe.bind(kt=>We.map(wn=>P0(kt,wn)))},Nm=(L,z,ae)=>wl(L,z,ae).bind(xe=>Ch(L,xe)),Uu=(L,z,ae)=>{const xe=tm(L);return Nm(xe,z,ae)},tm=Ua.fromTable;var ss=tinymce.util.Tools.resolve("tinymce.util.Tools");const mc=(L,z,ae)=>{const xe=L.select("td,th",z);let We;for(let kt=0;kt<xe.length;kt++){const wn=L.getStyle(xe[kt],ae);if(V(We)&&(We=wn),We!==wn)return""}return We},Sh=(L,z,ae)=>{ss.each("left center right".split(" "),xe=>{xe!==ae&&L.formatter.remove("align"+xe,{},z)}),ae&&L.formatter.apply("align"+ae,{},z)},G1=(L,z,ae)=>{ss.each("top middle bottom".split(" "),xe=>{xe!==ae&&L.formatter.remove("valign"+xe,{},z)}),ae&&L.formatter.apply("valign"+ae,{},z)},rs=(L,z,ae)=>{L.dispatch("TableModified",{...ae,table:z})};var nm=tinymce.util.Tools.resolve("tinymce.Env");const Ti="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",vd=Yo(5,L=>{const z=`${L+1}px`;return{title:z,value:z}}),xd=pt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],L=>({title:L,value:L.toLowerCase()})),fa="100%",xs=L=>{const z=L.dom,ae=z.getParent(L.selection.getStart(),z.isBlock)??L.getBody();return Su(Gt.fromDom(ae))+"px"},F0=(L,z)=>xp(L)||!Za(L)?z:om(L)?{...z,width:xs(L)}:{...z,width:fa},wd=(L,z)=>xp(L)||Za(L)?z:om(L)?{...z,width:xs(L)}:{...z,width:fa},Pa=L=>z=>z.options.get(L),Au=L=>{const z=L.options.register;z("table_border_widths",{processor:"object[]",default:vd}),z("table_border_styles",{processor:"object[]",default:xd}),z("table_cell_advtab",{processor:"boolean",default:!0}),z("table_row_advtab",{processor:"boolean",default:!0}),z("table_advtab",{processor:"boolean",default:!0}),z("table_appearance_options",{processor:"boolean",default:!0}),z("table_grid",{processor:"boolean",default:!nm.deviceType.isTouch()}),z("table_cell_class_list",{processor:"object[]",default:[]}),z("table_row_class_list",{processor:"object[]",default:[]}),z("table_class_list",{processor:"object[]",default:[]}),z("table_toolbar",{processor:"string",default:Ti}),z("table_background_color_map",{processor:"object[]",default:[]}),z("table_border_color_map",{processor:"object[]",default:[]})},Xc=Pa("table_sizing_mode"),si=Pa("table_border_widths"),Zu=Pa("table_border_styles"),Zi=Pa("table_cell_advtab"),Qc=Pa("table_row_advtab"),ll=Pa("table_advtab"),Fs=Pa("table_appearance_options"),Wu=Pa("table_grid"),Za=Pa("table_style_by_css"),Wi=Pa("table_cell_class_list"),Fa=Pa("table_row_class_list"),ma=Pa("table_class_list"),Jc=Pa("table_toolbar"),ri=Pa("table_background_color_map"),ai=Pa("table_border_color_map"),om=L=>Xc(L)==="fixed",xp=L=>Xc(L)==="responsive",wp=L=>{const z=L.options,ae=z.get("table_default_styles");return z.isSet("table_default_styles")?ae:F0(L,ae)},ra=L=>{const z=L.options,ae=z.get("table_default_attributes");return z.isSet("table_default_attributes")?ae:wd(L,ae)},Mm=L=>rl(L,"table"),Eh=(L,z)=>{const ae=Pe(L,z);return ae.length>0?ie.some(ae):ie.none()},Df=(L,z,ae)=>ji(L,z).bind(xe=>ji(L,ae).bind(We=>yp(Mm,[xe,We]).map(kt=>({first:xe,last:We,table:kt})))),uo=(L,z)=>Eh(L,z),ku=(L,z,ae)=>Df(L,z,ae).bind(xe=>{const We=Fo=>Pn(L,Fo),kt="thead,tfoot,tbody,table",wn=rl(xe.first,kt,We),_n=rl(xe.last,kt,We);return wn.bind(Fo=>_n.bind(as=>Pn(Fo,as)?Uu(xe.table,xe.first,xe.last):ie.none()))}),ea=ct,ii=L=>{const z=(xe,We)=>wo(xe,We).exists(kt=>parseInt(kt,10)>1),ae=xe=>z(xe,"rowspan")||z(xe,"colspan");return L.length>0&&Bt(L,ae)?ie.some(L):ie.none()},$a=(L,z,ae)=>z.length<=1?ie.none():ku(L,ae.firstSelectedSelector,ae.lastSelectedSelector).map(xe=>({bounds:xe,cells:z})),cr="data-mce-selected",Rc="data-mce-first-selected",Cp="td["+Rc+"],th["+Rc+"]",eu="data-mce-last-selected",qu="td["+eu+"],th["+eu+"]",vg={selected:cr,firstSelectedSelector:Cp,lastSelectedSelector:qu},Cl=L=>Re(L).bind(z=>uo(z,vg.firstSelectedSelector)).fold(ve(L),z=>z[0]),Ia=L=>(z,ae)=>{const xe=tr(z),We=xe==="col"||xe==="colgroup"?Cl(z):z;return oi(We,L,ae)},Js=Ia("th,td,caption"),Nl=Ia("th,td"),Du=L=>uc(L.model.table.getSelectedCells()),cl=(L,z)=>{const ae=Nl(L),xe=ae.bind(We=>Re(We)).map(We=>dt(We));return Xo(ae,xe,(We,kt)=>at(kt,wn=>Oe(uc(wn.dom.cells),_n=>Ir(_n,z)==="1"||Pn(_n,We)))).getOr([])},Sl=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Jd=L=>({value:Th(L)}),$s=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Ml=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Bm=L=>$s.test(L)||Ml.test(L),Th=L=>Ss(L,"#").toUpperCase(),hc=L=>Bm(L)?ie.some({value:Th(L)}):ie.none(),Co=L=>{const z=L.toString(16);return(z.length===1?"0"+z:z).toUpperCase()},Or=L=>{const z=Co(L.red)+Co(L.green)+Co(L.blue);return Jd(z)},Wa=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,yr=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,ul=(L,z,ae,xe)=>({red:L,green:z,blue:ae,alpha:xe}),Gr=(L,z,ae,xe)=>{const We=parseInt(L,10),kt=parseInt(z,10),wn=parseInt(ae,10),_n=parseFloat(xe);return ul(We,kt,wn,_n)},li=L=>{const z=Wa.exec(L);if(z!==null)return ie.some(Gr(z[1],z[2],z[3],"1"));const ae=yr.exec(L);return ae!==null?ie.some(Gr(ae[1],ae[2],ae[3],ae[4])):ie.none()},ef=L=>hc(L).orThunk(()=>li(L).map(Or)).getOrThunk(()=>{const z=document.createElement("canvas");z.height=1,z.width=1;const ae=z.getContext("2d");ae.clearRect(0,0,z.width,z.height),ae.fillStyle="#FFFFFF",ae.fillStyle=L,ae.fillRect(0,0,1,1);const xe=ae.getImageData(0,0,1,1).data,We=xe[0],kt=xe[1],wn=xe[2],_n=xe[3];return Or(ul(We,kt,wn,_n))}),cs=L=>li(L).map(Or).map(z=>"#"+z.value).getOr(L),ql=(L,z,ae)=>xe=>{const We=Ho(),kt=$r(ae),wn=()=>{const _n=Du(L),Fo=as=>L.formatter.match(z,{value:ae},as.dom,kt);kt?(xe.setActive(!Oe(_n,Fo)),We.set(L.formatter.formatChanged(z,as=>xe.setActive(!as),!0))):(xe.setActive(Bt(_n,Fo)),We.set(L.formatter.formatChanged(z,xe.setActive,!1,{value:ae})))};return L.initialized?wn():L.on("init",wn),We.clear},ws=L=>Dt(L,"menu"),Gl=L=>pt(L,z=>{const ae=z.text||z.title||"";return ws(z)?{text:ae,items:Gl(z.menu)}:{text:ae,value:z.value}}),pi=L=>L.length?ie.some(Gl([{text:"Select...",value:"mce-no-match"},...L])):ie.none(),Ai=(L,z,ae,xe)=>pt(z,We=>{const kt=We.text||We.title;return ws(We)?{type:"nestedmenuitem",text:kt,getSubmenuItems:()=>Ai(L,We.menu,ae,xe)}:{text:kt,type:"togglemenuitem",onAction:()=>xe(We.value),onSetup:ql(L,ae,We.value)}}),_f=(L,z)=>ae=>{L.execCommand("mceTableApplyCellStyle",!1,{[z]:ae})},xg=L=>je(L,z=>ws(z)?[{...z,menu:xg(z.menu)}]:Es(z.value)?[z]:[]),qa=(L,z,ae,xe)=>We=>We(Ai(L,z,ae,xe)),Of=(L,z,ae)=>{const xe=pt(z,We=>({text:We.title,value:"#"+ef(We.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:xe.length>0?xe:void 0,allowCustomColors:!1},onAction:We=>{const kt=We.value==="remove"?"":We.value;L.execCommand("mceTableApplyCellStyle",!1,{[ae]:kt})}}]},Cd=L=>()=>{const ae=L.queryCommandValue("mceTableRowType")==="header"?"body":"header";L.execCommand("mceTableRowType",!1,{type:ae})},Mi=L=>()=>{const ae=L.queryCommandValue("mceTableColType")==="th"?"td":"th";L.execCommand("mceTableColType",!1,{type:ae})},tf=L=>pi(Wi(L)).map(z=>({name:"class",type:"listbox",label:"Class",items:z})),wg=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Sl}],Gu=L=>wg.concat(tf(L).toArray()),hr=(L,z)=>{const xe=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Gl(Zu(L)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:z==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(xe):xe}},Cg={normal:(L,z)=>{const ae=L.dom;return{setAttrib:(wn,_n)=>{ae.setAttrib(z,wn,_n)},setStyle:(wn,_n)=>{ae.setStyle(z,wn,_n)},setFormat:(wn,_n)=>{_n===""?L.formatter.remove(wn,{value:null},z,!0):L.formatter.apply(wn,{value:_n},z)}}}},Bl=L=>Xs(L,"rgb")?cs(L):L,dl=L=>{const z=Gt.fromDom(L);return{borderwidth:gi(z,"border-width").getOr(""),borderstyle:gi(z,"border-style").getOr(""),bordercolor:gi(z,"border-color").map(Bl).getOr(""),backgroundcolor:gi(z,"background-color").map(Bl).getOr("")}},ka=L=>{const z=L[0],ae=L.slice(1);return Pt(ae,xe=>{Pt(Mo(z),We=>{zs(xe,(kt,wn)=>{const _n=z[We];_n!==""&&We===wn&&_n!==kt&&(z[We]=We==="class"?"mce-no-match":"")})})}),z},Sd=(L,z,ae,xe)=>Me(L,We=>!V(ae.formatter.matchNode(xe,z+We))).getOr(""),ui=J(Sd,["left","center","right"],"align"),nf=J(Sd,["top","middle","bottom"],"valign"),Sg=(L,z)=>{const ae=wp(L),xe=ra(L),We=()=>({borderstyle:yt(ae,"border-style").getOr(""),bordercolor:Bl(yt(ae,"border-color").getOr("")),backgroundcolor:Bl(yt(ae,"background-color").getOr(""))}),kt={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},wn=()=>{const Br=ae["border-width"];return Za(L)&&Br?{border:Br}:yt(xe,"border").fold(()=>({}),ia=>({border:ia}))},_n=z?We():{},Fo=()=>{const Br=yt(ae,"border-spacing").or(yt(xe,"cellspacing")).fold(()=>({}),yi=>({cellspacing:yi})),ia=yt(ae,"border-padding").or(yt(xe,"cellpadding")).fold(()=>({}),yi=>({cellpadding:yi}));return{...Br,...ia}};return{...kt,...ae,...xe,..._n,...wn(),...Fo()}},Eg=L=>Re(Gt.fromDom(L)).map(z=>{const ae={selection:uc(L.cells)};return vp(z,ae)}).getOr(""),K1=(L,z,ae)=>{const xe=(_n,Fo)=>{const as=gi(Gt.fromDom(Fo),"border-width");return Za(L)&&as.isSome()?as.getOr(""):_n.getAttrib(Fo,"border")||mc(L.dom,Fo,"border-width")||mc(L.dom,Fo,"border")||""},We=L.dom,kt=Za(L)?We.getStyle(z,"border-spacing")||We.getAttrib(z,"cellspacing"):We.getAttrib(z,"cellspacing")||We.getStyle(z,"border-spacing"),wn=Za(L)?mc(We,z,"padding")||We.getAttrib(z,"cellpadding"):We.getAttrib(z,"cellpadding")||mc(We,z,"padding");return{width:We.getStyle(z,"width")||We.getAttrib(z,"width"),height:We.getStyle(z,"height")||We.getAttrib(z,"height"),cellspacing:kt??"",cellpadding:wn??"",border:xe(We,z),caption:!!We.select("caption",z)[0],class:We.getAttrib(z,"class",""),align:ui(L,z),...ae?dl(z):{}}},Ed=(L,z,ae)=>{const xe=L.dom;return{height:xe.getStyle(z,"height")||xe.getAttrib(z,"height"),class:xe.getAttrib(z,"class",""),type:Eg(z),align:ui(L,z),...ae?dl(z):{}}},dy=(L,z,ae,xe)=>{const We=L.dom,kt=xe.getOr(z);return{width:((_n,Fo)=>We.getStyle(_n,Fo)||We.getAttrib(_n,Fo))(kt,"width"),scope:We.getAttrib(z,"scope"),celltype:qn(z),class:We.getAttrib(z,"class",""),halign:ui(L,z),valign:nf(L,z),...ae?dl(z):{}}},sm=(L,z)=>{const ae=Ua.fromTable(L),xe=Ua.justCells(ae),We=at(xe,kt=>Oe(z,wn=>Pn(kt.element,wn)));return pt(We,kt=>({element:kt.element.dom,column:Ua.getColumnAt(ae,kt.column).map(wn=>wn.element.dom)}))},gc=(L,z,ae,xe)=>{xe("scope")&&L.setAttrib("scope",ae.scope),xe("class")&&ae.class!=="mce-no-match"&&L.setAttrib("class",ae.class),xe("width")&&z.setStyle("width",Ei(ae.width))},Y1=(L,z,ae)=>{ae("backgroundcolor")&&L.setFormat("tablecellbackgroundcolor",z.backgroundcolor),ae("bordercolor")&&L.setFormat("tablecellbordercolor",z.bordercolor),ae("borderstyle")&&L.setFormat("tablecellborderstyle",z.borderstyle),ae("borderwidth")&&L.setFormat("tablecellborderwidth",Ei(z.borderwidth))},Ah=(L,z,ae,xe)=>{const We=z.length===1;Pt(z,kt=>{const wn=kt.element,_n=We?Qe:xe,Fo=Cg.normal(L,wn),as=kt.column.map(Br=>Cg.normal(L,Br)).getOr(Fo);gc(Fo,as,ae,_n),Zi(L)&&Y1(Fo,ae,_n),xe("halign")&&Sh(L,wn,ae.halign),xe("valign")&&G1(L,wn,ae.valign)})},Rf=(L,z)=>{L.execCommand("mceTableCellType",!1,{type:z.celltype,no_events:!0})},rm=(L,z,ae,xe)=>{const We=tt(xe,(kt,wn)=>ae[wn]!==kt);Rt(We)>0&&z.length>=1&&Re(z[0]).each(kt=>{const wn=sm(kt,z),_n=Rt(tt(We,(as,Br)=>Br!=="scope"&&Br!=="celltype"))>0,Fo=Un(We,"celltype");(_n||Un(We,"scope"))&&Ah(L,wn,xe,J(Un,We)),Fo&&Rf(L,xe),rs(L,kt.dom,{structure:Fo,style:_n})})},Tg=(L,z,ae,xe)=>{const We=xe.getData();xe.close(),L.undoManager.transact(()=>{rm(L,z,ae,We),L.focus()})},Ag=(L,z)=>{const ae=Re(z[0]).map(xe=>pt(sm(xe,z),We=>dy(L,We.element,Zi(L),We.column)));return ka(ae.getOrDie())},tu=L=>{const z=Du(L);if(z.length===0)return;const ae=Ag(L,z),xe={type:"tabpanel",tabs:[{title:"General",name:"general",items:Gu(L)},hr(L,"cell")]},We={type:"panel",items:[{type:"grid",columns:2,items:Gu(L)}]};L.windowManager.open({title:"Cell Properties",size:"normal",body:Zi(L)?xe:We,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ae,onSubmit:J(Tg,L,z,ae)})},fy=L=>pi(Fa(L)).map(z=>({name:"class",type:"listbox",label:"Class",items:z})),_u=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],ur=L=>_u.concat(fy(L).toArray()),bi=(L,z,ae)=>{ae("class")&&z.class!=="mce-no-match"&&L.setAttrib("class",z.class),ae("height")&&L.setStyle("height",Ei(z.height))},Td=(L,z,ae)=>{ae("backgroundcolor")&&L.setStyle("background-color",z.backgroundcolor),ae("bordercolor")&&L.setStyle("border-color",z.bordercolor),ae("borderstyle")&&L.setStyle("border-style",z.borderstyle)},Sp=(L,z,ae,xe)=>{const kt=z.length===1?Qe:xe;Pt(z,wn=>{const _n=be(Gt.fromDom(wn),"td,th"),Fo=Cg.normal(L,wn);bi(Fo,ae,kt),Qc(L)&&Td(Fo,ae,kt),xe("height")&&Pt(_n,as=>{L.dom.setStyle(as.dom,"height",null)}),xe("align")&&Sh(L,wn,ae.align)})},nu=(L,z)=>{L.execCommand("mceTableRowType",!1,{type:z.type,no_events:!0})},Nf=(L,z,ae,xe)=>{const We=tt(xe,(kt,wn)=>ae[wn]!==kt);if(Rt(We)>0){const kt=Un(We,"type"),wn=kt?Rt(We)>1:!0;wn&&Sp(L,z,xe,J(Un,We)),kt&&nu(L,xe),Re(Gt.fromDom(z[0])).each(_n=>rs(L,_n.dom,{structure:kt,style:wn}))}},kg=(L,z,ae,xe)=>{const We=xe.getData();xe.close(),L.undoManager.transact(()=>{Nf(L,z,ae,We),L.focus()})},Ad=L=>{const z=cl(Ol(L),vg.selected);if(z.length===0)return;const ae=pt(z,wn=>Ed(L,wn.dom,Qc(L))),xe=ka(ae),We={type:"tabpanel",tabs:[{title:"General",name:"general",items:ur(L)},hr(L,"row")]},kt={type:"panel",items:[{type:"grid",columns:2,items:ur(L)}]};L.windowManager.open({title:"Row Properties",size:"normal",body:Qc(L)?We:kt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:xe,onSubmit:J(kg,L,pt(z,wn=>wn.dom),xe)})},kd=(L,z,ae)=>{const xe=ae?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],We=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],kt=Fs(L)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],wn=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],_n=z.length>0?[{name:"class",type:"listbox",label:"Class",items:z}]:[];return xe.concat(We).concat(kt).concat(wn).concat(_n)},nr=(L,z,ae,xe)=>{if(z.tagName==="TD"||z.tagName==="TH")O(ae)&&ne(xe)?L.setStyle(z,ae,xe):L.setStyles(z,ae);else if(z.children)for(let We=0;We<z.children.length;We++)nr(L,z.children[We],ae,xe)},Dg=(L,z,ae,xe)=>{const We=L.dom,kt={},wn={},_n=Za(L),Fo=ll(L),as=parseFloat(ae.border)===0;if(!V(ae.class)&&ae.class!=="mce-no-match"&&(kt.class=ae.class),wn.height=Ei(ae.height),_n?wn.width=Ei(ae.width):We.getAttrib(z,"width")&&(kt.width=ja(ae.width)),_n?(as?(kt.border=0,wn["border-width"]=""):(wn["border-width"]=Ei(ae.border),kt.border=1),wn["border-spacing"]=Ei(ae.cellspacing)):(kt.border=as?0:ae.border,kt.cellpadding=ae.cellpadding,kt.cellspacing=ae.cellspacing),_n&&z.children){const Br={};if(as?Br["border-width"]="":xe.border&&(Br["border-width"]=Ei(ae.border)),xe.cellpadding&&(Br.padding=Ei(ae.cellpadding)),Fo&&xe.bordercolor&&(Br["border-color"]=ae.bordercolor),!Le(Br))for(let ia=0;ia<z.children.length;ia++)nr(We,z.children[ia],Br)}if(Fo){const Br=ae;wn["background-color"]=Br.backgroundcolor,wn["border-color"]=Br.bordercolor,wn["border-style"]=Br.borderstyle}We.setStyles(z,{...wp(L),...wn}),We.setAttribs(z,{...ra(L),...kt})},ha=(L,z,ae,xe)=>{const We=L.dom,kt=xe.getData(),wn=tt(kt,(_n,Fo)=>ae[Fo]!==_n);xe.close(),L.undoManager.transact(()=>{if(!z){const _n=Ma(kt.cols).getOr(1),Fo=Ma(kt.rows).getOr(1);L.execCommand("mceInsertTable",!1,{rows:Fo,columns:_n}),z=Nl(Ol(L),lr(L)).bind(as=>Re(as,lr(L))).map(as=>as.dom).getOrDie()}if(Rt(wn)>0){const _n={border:Un(wn,"border"),bordercolor:Un(wn,"bordercolor"),cellpadding:Un(wn,"cellpadding")};Dg(L,z,kt,_n);const Fo=We.select("caption",z)[0];(Fo&&!kt.caption||!Fo&&kt.caption)&&L.execCommand("mceTableToggleCaption"),Sh(L,z,kt.align)}if(L.focus(),L.addVisual(),Rt(wn)>0){const _n=Un(wn,"caption"),Fo=_n?Rt(wn)>1:!0;rs(L,z,{structure:_n,style:Fo})}})},kh=(L,z)=>{const ae=L.dom;let xe,We=Sg(L,ll(L));z?(We.cols="1",We.rows="1",ll(L)&&(We.borderstyle="",We.bordercolor="",We.backgroundcolor="")):(xe=ae.getParent(L.selection.getStart(),"table",L.getBody()),xe?We=K1(L,xe,ll(L)):ll(L)&&(We.borderstyle="",We.bordercolor="",We.backgroundcolor=""));const kt=pi(ma(L));kt.isSome()&&We.class&&(We.class=We.class.replace(/\s*mce\-item\-table\s*/g,""));const wn={type:"grid",columns:2,items:kd(L,kt.getOr([]),z)},_n=()=>({type:"panel",items:[wn]}),Fo=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[wn]},hr(L,"table")]}),as=ll(L)?Fo():_n();L.windowManager.open({title:"Table Properties",size:"normal",body:as,onSubmit:J(ha,L,xe,We),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:We})},Da=L=>{const z=ae=>{Ae(Ol(L))&&ae()};zs({mceTableProps:J(kh,L,!1),mceTableRowProps:J(Ad,L),mceTableCellProps:J(tu,L),mceInsertTableDialog:J(kh,L,!0)},(ae,xe)=>L.addCommand(xe,()=>z(ae)))},Ku=L=>({element:L,mergable:ie.none(),unmergable:ie.none(),selection:[L]}),El=(L,z,ae)=>({element:ae,mergable:$a(z,L,vg),unmergable:ii(L),selection:ea(L)}),of=L=>{const z=Tt(ie.none()),ae=Tt([]);let xe=ie.none();const We=Zo("caption"),kt=Is=>xe.forall(Ha=>!Ha[Is]),wn=()=>Js(Ol(L),lr(L)),_n=()=>Js(se(L),lr(L)),Fo=()=>wn().bind(Is=>Jo(Xo(Re(Is),_n().bind(Re),(Ha,Ga)=>Pn(Ha,Ga)?We(Is)?ie.some(Ku(Is)):ie.some(El(Du(L),Ha,Is)):ie.none()))),as=Is=>Re(Is.element).map(Ga=>{const Pl=Ua.fromTable(Ga),Ep=bg(Pl,Is).getOr([]),Og=cn(Ep,(Rg,Tp)=>(Tp.isLocked&&(Rg.onAny=!0,Tp.column===0?Rg.onFirst=!0:Tp.column+Tp.colspan>=Pl.grid.columns&&(Rg.onLast=!0)),Rg),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:q1(Pl,Is).isSome(),unmergeable:De(Pl,Is).isSome(),locked:Og}}),Br=()=>{z.set(ts(Fo)()),xe=z.get().bind(as),Pt(ae.get(),vt)},ia=Is=>(Is(),ae.set(ae.get().concat([Is])),()=>{ae.set(at(ae.get(),Ha=>Ha!==Is))}),yi=(Is,Ha)=>ia(()=>z.get().fold(()=>{Is.setEnabled(!1)},Ga=>{Is.setEnabled(!Ha(Ga)&&L.selection.isEditable())})),Nc=(Is,Ha,Ga)=>ia(()=>z.get().fold(()=>{Is.setEnabled(!1),Is.setActive(!1)},Pl=>{Is.setEnabled(!Ha(Pl)&&L.selection.isEditable()),Is.setActive(Ga(Pl))})),Yu=Is=>xe.exists(Ha=>Ha.locked[Is]),sf=Is=>yi(Is,Ha=>!1),di=Is=>yi(Is,Ha=>We(Ha.element)),Bi=Is=>Ha=>yi(Ha,Ga=>We(Ga.element)||Yu(Is)),am=Is=>Ha=>yi(Ha,Ga=>We(Ga.element)||Is().isNone()),im=(Is,Ha)=>Ga=>yi(Ga,Pl=>We(Pl.element)||Is().isNone()||Yu(Ha)),Fm=Is=>yi(Is,Ha=>kt("mergeable")),Dh=Is=>yi(Is,Ha=>kt("unmergeable")),Ru=Is=>Nc(Is,en,Ha=>Re(Ha.element,lr(L)).exists(Pl=>Nt(Pl,"caption"))),_h=(Is,Ha)=>Ga=>Nc(Ga,Pl=>We(Pl.element),()=>L.queryCommandValue(Is)===Ha),X1=_h("mceTableRowType","header"),Q1=_h("mceTableColType","th");return L.on("NodeChange ExecCommand TableSelectorChange",Br),{onSetupTable:sf,onSetupCellOrRow:di,onSetupColumn:Bi,onSetupPasteable:am,onSetupPasteableColumn:im,onSetupMergeable:Fm,onSetupUnmergeable:Dh,resetTargets:Br,onSetupTableWithCaption:Ru,onSetupTableRowHeaders:X1,onSetupTableColumnHeaders:Q1,targets:z.get}};var _g=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const ou="x-tinymce/dom-table-",Ou=ou+"rows",Lm=ou+"columns",pc=L=>{const z=_g.read()??[];return vo(z,ae=>ie.from(ae.getType(L)))},Dd=()=>pc(Ou),aa=()=>pc(Lm),ta=L=>z=>{const ae=()=>{z.setEnabled(L.selection.isEditable())};return L.on("NodeChange",ae),ae(),()=>{L.off("NodeChange",ae)}},ki=(L,z)=>{L.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:ta(L),fetch:_n=>_n("inserttable | cell row column | advtablesort | tableprops deletetable")});const ae=_n=>()=>L.execCommand(_n),xe=(_n,Fo)=>{L.queryCommandSupported(Fo.command)&&L.ui.registry.addButton(_n,{...Fo,onAction:ue(Fo.onAction)?Fo.onAction:ae(Fo.command)})},We=(_n,Fo)=>{L.queryCommandSupported(Fo.command)&&L.ui.registry.addToggleButton(_n,{...Fo,onAction:ue(Fo.onAction)?Fo.onAction:ae(Fo.command)})};xe("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:z.onSetupTable}),xe("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:z.onSetupTable}),xe("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:z.onSetupCellOrRow}),xe("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:z.onSetupMergeable}),xe("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:z.onSetupUnmergeable}),xe("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:z.onSetupCellOrRow}),xe("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:z.onSetupCellOrRow}),xe("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:z.onSetupCellOrRow}),xe("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:z.onSetupCellOrRow}),xe("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:z.onSetupColumn("onFirst")}),xe("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:z.onSetupColumn("onLast")}),xe("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:z.onSetupColumn("onAny")}),xe("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:z.onSetupCellOrRow}),xe("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:z.onSetupCellOrRow}),xe("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:z.onSetupPasteable(Dd)}),xe("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:z.onSetupPasteable(Dd)}),xe("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:z.onSetupColumn("onAny")}),xe("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:z.onSetupColumn("onAny")}),xe("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:z.onSetupPasteableColumn(aa,"onFirst")}),xe("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:z.onSetupPasteableColumn(aa,"onLast")}),xe("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:ta(L)});const kt=xg(ma(L));kt.length!==0&&L.queryCommandSupported("mceTableToggleClass")&&L.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:qa(L,kt,"tableclass",_n=>L.execCommand("mceTableToggleClass",!1,_n)),onSetup:z.onSetupTable});const wn=xg(Wi(L));wn.length!==0&&L.queryCommandSupported("mceTableCellToggleClass")&&L.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:qa(L,wn,"tablecellclass",_n=>L.execCommand("mceTableCellToggleClass",!1,_n)),onSetup:z.onSetupCellOrRow}),L.queryCommandSupported("mceTableApplyCellStyle")&&(L.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:qa(L,Sl,"tablecellverticalalign",_f(L,"vertical-align")),onSetup:z.onSetupCellOrRow}),L.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:qa(L,si(L),"tablecellborderwidth",_f(L,"border-width")),onSetup:z.onSetupCellOrRow}),L.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:qa(L,Zu(L),"tablecellborderstyle",_f(L,"border-style")),onSetup:z.onSetupCellOrRow}),L.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:_n=>_n(Of(L,ri(L),"background-color")),onSetup:z.onSetupCellOrRow}),L.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:_n=>_n(Of(L,ai(L),"border-color")),onSetup:z.onSetupCellOrRow})),We("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:z.onSetupTableWithCaption}),We("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Cd(L),onSetup:z.onSetupTableRowHeaders}),We("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Mi(L),onSetup:z.onSetupTableColumnHeaders})},Pm=L=>{const z=xe=>L.dom.is(xe,"table")&&L.getBody().contains(xe)&&L.dom.isEditable(xe.parentNode),ae=Jc(L);ae.length>0&&L.ui.registry.addContextToolbar("table",{predicate:z,items:ae,scope:"node",position:"node"})},_d=L=>z=>{const ae=()=>{z.setEnabled(L.selection.isEditable())};return L.on("NodeChange",ae),ae(),()=>{L.off("NodeChange",ae)}},or=(L,z)=>{const ae=ia=>()=>L.execCommand(ia),xe=(ia,yi)=>L.queryCommandSupported(yi.command)?(L.ui.registry.addMenuItem(ia,{...yi,onAction:ue(yi.onAction)?yi.onAction:ae(yi.command)}),!0):!1,We=(ia,yi)=>{L.queryCommandSupported(yi.command)&&L.ui.registry.addToggleMenuItem(ia,{...yi,onAction:ue(yi.onAction)?yi.onAction:ae(yi.command)})},kt=ia=>{L.execCommand("mceInsertTable",!1,{rows:ia.numRows,columns:ia.numColumns})},wn=[xe("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:z.onSetupCellOrRow}),xe("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:z.onSetupCellOrRow}),xe("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:z.onSetupCellOrRow}),xe("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:z.onSetupCellOrRow}),xe("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:z.onSetupCellOrRow}),xe("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:z.onSetupCellOrRow}),xe("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:z.onSetupPasteable(Dd)}),xe("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:z.onSetupPasteable(Dd)})],_n=[xe("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:z.onSetupColumn("onFirst")}),xe("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:z.onSetupColumn("onLast")}),xe("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:z.onSetupColumn("onAny")}),xe("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:z.onSetupColumn("onAny")}),xe("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:z.onSetupColumn("onAny")}),xe("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:z.onSetupPasteableColumn(aa,"onFirst")}),xe("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:z.onSetupPasteableColumn(aa,"onLast")})],Fo=[xe("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:z.onSetupCellOrRow}),xe("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:z.onSetupMergeable}),xe("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:z.onSetupUnmergeable})];Wu(L)?L.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:kt}],onSetup:_d(L)}):L.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:ae("mceInsertTableDialog"),onSetup:_d(L)}),L.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:ae("mceInsertTableDialog"),onSetup:_d(L)}),xe("tableprops",{text:"Table properties",onSetup:z.onSetupTable,command:"mceTableProps"}),xe("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:z.onSetupTable,command:"mceTableDelete"}),qe(wn,!0)&&L.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:ve("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),qe(_n,!0)&&L.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:ve("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),qe(Fo,!0)&&L.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:ve("tablecellprops tablemergecells tablesplitcells")}),L.ui.registry.addContextMenu("table",{update:()=>(z.resetTargets(),z.targets().fold(ve(""),ia=>tr(ia.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const as=xg(ma(L));as.length!==0&&L.queryCommandSupported("mceTableToggleClass")&&L.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Ai(L,as,"tableclass",ia=>L.execCommand("mceTableToggleClass",!1,ia)),onSetup:z.onSetupTable});const Br=xg(Wi(L));Br.length!==0&&L.queryCommandSupported("mceTableCellToggleClass")&&L.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Ai(L,Br,"tablecellclass",ia=>L.execCommand("mceTableCellToggleClass",!1,ia)),onSetup:z.onSetupCellOrRow}),L.queryCommandSupported("mceTableApplyCellStyle")&&(L.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Ai(L,Sl,"tablecellverticalalign",_f(L,"vertical-align")),onSetup:z.onSetupCellOrRow}),L.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Ai(L,si(L),"tablecellborderwidth",_f(L,"border-width")),onSetup:z.onSetupCellOrRow}),L.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Ai(L,Zu(L),"tablecellborderstyle",_f(L,"border-style")),onSetup:z.onSetupCellOrRow}),L.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Of(L,ri(L),"background-color"),onSetup:z.onSetupCellOrRow}),L.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Of(L,ai(L),"border-color"),onSetup:z.onSetupCellOrRow})),We("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:z.onSetupTableWithCaption}),We("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Cd(L),onSetup:z.onSetupTableRowHeaders}),We("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Mi(L),onSetup:z.onSetupTableRowHeaders})},Cr=L=>{const z=of(L);Au(L),Da(L),or(L,z),ki(L,z),Pm(L)};var Ll=()=>{c.add("table",Cr)};Ll()})()),qae}var Kae;function R2e(){return Kae||(Kae=1,O2e()),Wae}R2e();var Yae={},Xae={},Qae;function N2e(){return Qae||(Qae=1,(function(){const c=(Dt,Le,Tt)=>Tt(Dt,Le.prototype)?!0:Dt.constructor?.name===Le.name,d=Dt=>{const Le=typeof Dt;return Dt===null?"null":Le==="object"&&Array.isArray(Dt)?"array":Le==="object"&&c(Dt,String,(Tt,sn)=>sn.isPrototypeOf(Tt))?"string":Le},p=Dt=>Le=>d(Le)===Dt,x=Dt=>Le=>typeof Le===Dt,A=Dt=>Le=>Dt===Le,N=p("string"),O=A(void 0),H=Dt=>Dt==null,U=Dt=>!H(Dt),V=x("function"),ne=(Dt=>()=>Dt)(!1);class ue{tag;value;static singletonNone=new ue(!1);constructor(Le,Tt){this.tag=Le,this.value=Tt}static some(Le){return new ue(!0,Le)}static none(){return ue.singletonNone}fold(Le,Tt){return this.tag?Tt(this.value):Le()}isSome(){return this.tag}isNone(){return!this.tag}map(Le){return this.tag?ue.some(Le(this.value)):ue.none()}bind(Le){return this.tag?Le(this.value):ue.none()}exists(Le){return this.tag&&Le(this.value)}forall(Le){return!this.tag||Le(this.value)}filter(Le){return!this.tag||Le(this.value)?this:ue.none()}getOr(Le){return this.tag?this.value:Le}or(Le){return this.tag?this:Le}getOrThunk(Le){return this.tag?this.value:Le()}orThunk(Le){return this.tag?this:Le()}getOrDie(Le){if(this.tag)return this.value;throw new Error(Le??"Called getOrDie on None")}static from(Le){return U(Le)?ue.some(Le):ue.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Le){this.tag&&Le(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const we=Array.prototype.slice,Ee=Array.prototype.indexOf,$e=(Dt,Le)=>Ee.call(Dt,Le),ve=(Dt,Le)=>$e(Dt,Le)>-1,ct=(Dt,Le)=>{const Tt=Dt.length,sn=new Array(Tt);for(let Zn=0;Zn<Tt;Zn++){const Xo=Dt[Zn];sn[Zn]=Le(Xo,Zn)}return sn},Ue=(Dt,Le)=>{const Tt=[];for(let sn=0,Zn=Dt.length;sn<Zn;sn++){const Xo=Dt[sn];Le(Xo,sn)&&Tt.push(Xo)}return Tt},J=(Dt,Le,Tt)=>{for(let sn=0,Zn=Dt.length;sn<Zn;sn++){const Xo=Dt[sn];if(Le(Xo,sn))return ue.some(Xo);if(Tt(Xo,sn))break}return ue.none()},vt=(Dt,Le)=>J(Dt,Le,ne),en=(Dt,Le)=>{const Tt=we.call(Dt,0);return Tt.sort(Le),Tt},Qe=Object.keys,ie=Object.hasOwnProperty,it=(Dt,Le)=>Tn(Dt,Le)?ue.from(Dt[Le]):ue.none(),Tn=(Dt,Le)=>ie.call(Dt,Le),mn=Dt=>{let Le=Dt;return{get:()=>Le,set:Zn=>{Le=Zn}}},qe=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Oe=0;const Yo=Dt=>{const Tt=new Date().getTime(),sn=Math.floor(qe()*1e9);return Oe++,Dt+"_"+sn+Oe+String(Tt)},pt=Dt=>{const Le=[],Tt=sn=>{Le.push(sn)};for(let sn=0;sn<Dt.length;sn++)Dt[sn].each(Tt);return Le};var Pt=tinymce.util.Tools.resolve("tinymce.PluginManager");const P=Dt=>({addTab:Tt=>{const sn=Tt.name??Yo("tab-name"),Zn=Dt.get();Zn[sn]=Tt,Dt.set(Zn)}}),Vt=(Dt,Le)=>{Dt.addCommand("mceHelp",Le)},at=Dt=>Le=>Le.options.get(Dt),Qn=Dt=>{const Le=Dt.options.register;Le("help_tabs",{processor:"array"})},cn=at("help_tabs"),ee=at("forced_plugins"),Me=(Dt,Le)=>{Dt.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:Le,context:"any"}),Dt.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:Le,context:"any"})};var wt=tinymce.util.Tools.resolve("tinymce.Resource"),je=tinymce.util.Tools.resolve("tinymce.util.I18n");const Bt=(Dt,Le)=>wt.load(`tinymce.html-i18n.help-keynav.${Le}`,`${Dt}/js/i18n/keynav/${Le}.js`),Ze=Dt=>Bt(Dt,je.getCode()).catch(()=>Bt(Dt,"en")),bt=(Dt,Le)=>{Dt.on("init",()=>{Ze(Le)})},X=async Dt=>({name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:await Ze(Dt)}]});var jo=tinymce.util.Tools.resolve("tinymce.Env");const vo=Dt=>{const Le=jo.os.isMacOS()||jo.os.isiOS(),Zn=Le?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl ",access:"Shift + Alt "},Xo=Dt.split("+"),Jo=ct(Xo,ko=>{const mr=ko.toLowerCase().trim();return Tn(Zn,mr)?Zn[mr]:ko});return Le?Jo.join("").replace(/\s/,""):Jo.join("+")},Mo=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Alt + F12"],action:"Focus to notification"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],Io=()=>{const Dt=ct(Mo,Tt=>{const sn=ct(Tt.shortcuts,vo).join(" or ");return[Tt.action,sn]});return{name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:Dt}]}},zs=ct([{key:"accordion",name:"Accordion"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"image",name:"Image"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"advlist",name:"List Styles"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"pagebreak",name:"Page Break"},{key:"preview",name:"Preview"},{key:"quickbars",name:"Quick Toolbars"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"table",name:"Table"},{key:"textcolor",name:"Text Color"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"a11ychecker",name:"Accessibility Checker",type:"premium"},{key:"typography",name:"Advanced Typography",type:"premium",slug:"advanced-typography"},{key:"ai",name:"AI Assistant",type:"premium"},{key:"casechange",name:"Case Change",type:"premium"},{key:"checklist",name:"Checklist",type:"premium"},{key:"advcode",name:"Enhanced Code Editor",type:"premium"},{key:"mediaembed",name:"Enhanced Media Embed",type:"premium",slug:"introduction-to-mediaembed"},{key:"advtable",name:"Enhanced Tables",type:"premium"},{key:"exportpdf",name:"Export to PDF",type:"premium"},{key:"exportword",name:"Export to Word",type:"premium"},{key:"footnotes",name:"Footnotes",type:"premium"},{key:"formatpainter",name:"Format Painter",type:"premium"},{key:"editimage",name:"Image Editing",type:"premium"},{key:"uploadcare",name:"Image Optimizer Powered by Uploadcare",type:"premium"},{key:"importword",name:"Import from Word",type:"premium"},{key:"inlinecss",name:"Inline CSS",type:"premium",slug:"inline-css"},{key:"linkchecker",name:"Link Checker",type:"premium"},{key:"math",name:"Math",type:"premium"},{key:"markdown",name:"Markdown",type:"premium"},{key:"mentions",name:"Mentions",type:"premium"},{key:"mergetags",name:"Merge Tags",type:"premium"},{key:"pageembed",name:"Page Embed",type:"premium"},{key:"permanentpen",name:"Permanent Pen",type:"premium"},{key:"powerpaste",name:"PowerPaste",type:"premium",slug:"introduction-to-powerpaste"},{key:"revisionhistory",name:"Revision History",type:"premium"},{key:"tinymcespellchecker",name:"Spell Checker",type:"premium",slug:"introduction-to-tiny-spellchecker"},{key:"suggestededits",name:"Suggested Edits",type:"premium"},{key:"autocorrect",name:"Spelling Autocorrect",type:"premium"},{key:"tableofcontents",name:"Table of Contents",type:"premium"},{key:"fullpagehtml",name:"Fullpage HTML",type:"premium"},{key:"advtemplate",name:"Templates",type:"premium",slug:"advanced-templates"},{key:"tinycomments",name:"Tiny Comments",type:"premium",slug:"introduction-to-tiny-comments"},{key:"tinydrive",name:"Tiny Drive",type:"premium",slug:"tinydrive-introduction"}],Dt=>({...Dt,type:Dt.type||"opensource",slug:Dt.slug||Dt.key})),Ne=Dt=>{const Le=()=>{const Ho=Ue(zs,({type:Ss})=>Ss==="premium"),os=en(ct(Ho,Ss=>Ss.name),(Ss,Xs)=>Ss.localeCompare(Xs)),Vs=ct(os,Ss=>`<li>${Ss}</li>`).join("");return"<div><p><b>"+je.translate("Premium plugins:")+"</b></p><ul>"+Vs+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=help_dialog_plugin_tab&utm_source=tiny&utm_medium=referral&utm_term=read_more&utm_content=premium_plugin_heading" rel="noopener" target="_blank" data-alloy-tabstop="true" tabindex="-1">'+je.translate("Learn more...")+"</a></li></ul></div>"},Tt=Ho=>`<a data-alloy-tabstop="true" tabindex="-1" href="${Ho.url}" target="_blank" rel="noopener">${Ho.name}</a>`,sn=(Ho,os)=>{const Vs=Ho.plugins[os].getMetadata;if(V(Vs)){const Ss=Vs();return{name:Ss.name,html:Tt(Ss)}}else return{name:os,html:os}},Zn=(Ho,os)=>vt(zs,Vs=>Vs.key===os).fold(()=>sn(Ho,os),Vs=>{const Ss=Vs.type==="premium"?`${Vs.name}*`:Vs.name,Xs=Tt({name:Ss,url:`https://www.tiny.cloud/docs/tinymce/${tinymce.majorVersion}/${Vs.slug}/`});return{name:Ss,html:Xs}}),Xo=Ho=>{const os=Qe(Ho.plugins),Vs=ee(Ho),Ss=O(Vs)?["onboarding","licensekeymanager"]:Vs.concat(["onboarding","licensekeymanager"]);return Ue(os,Xs=>!ve(Ss,Xs))},Jo=Ho=>{const os=Xo(Ho),Vs=en(ct(os,Es=>Zn(Ho,Es)),(Es,$r)=>Es.name.localeCompare($r.name)),Ss=ct(Vs,Es=>"<li>"+Es.html+"</li>"),Xs=Ss.length,gs=Ss.join("");return"<p><b>"+je.translate(["Plugins installed ({0}):",Xs])+"</b></p><ul>"+gs+"</ul>"};return{name:"plugins",title:"Plugins",items:[{type:"htmlpanel",presets:"document",html:[(Ho=>Ho==null?"":"<div>"+Jo(Ho)+"</div>")(Dt),Le()].join("")}]}};var Ge=tinymce.util.Tools.resolve("tinymce.EditorManager");const tt=()=>{const Tt='<a data-alloy-tabstop="true" tabindex="-1" href="https://www.tiny.cloud/docs/tinymce/8/changelog/?utm_campaign=help_dialog_version_tab&utm_source=tiny&utm_medium=referral" rel="noopener" target="_blank">TinyMCE '+((Zn,Xo)=>Zn.indexOf("@")===0?"X.X.X":Zn+"."+Xo)(Ge.majorVersion,Ge.minorVersion)+"</a>";return{name:"versions",title:"Version",items:[{type:"htmlpanel",html:"<p>"+je.translate(["You are using {0}",Tt])+"</p>",presets:"document"}]}},Be=(Dt,Le)=>{const Tt={},sn=ct(Dt,Zn=>{if(N(Zn))return Tn(Le,Zn)&&(Tt[Zn]=Le[Zn]),Zn;{const Xo=Zn.name??Yo("tab-name");return Tt[Xo]=Zn,Xo}});return{tabs:Tt,names:sn}},Je=Dt=>{const Le=Qe(Dt),Tt=Le.indexOf("versions");return Tt!==-1&&(Le.splice(Tt,1),Le.push("versions")),{tabs:Dt,names:Le}},Rt=async(Dt,Le,Tt)=>{const sn=Io(),Zn=await X(Tt),Xo=Ne(Dt),Jo=tt(),ko={[sn.name]:sn,[Zn.name]:Zn,[Xo.name]:Xo,[Jo.name]:Jo,...Le.get()};return ue.from(cn(Dt)).fold(()=>Je(ko),mr=>Be(mr,ko))},yt=(Dt,Le,Tt)=>()=>{Rt(Dt,Le,Tt).then(({tabs:sn,names:Zn})=>{const Xo=ct(Zn,mr=>it(sn,mr)),ko={type:"tabpanel",tabs:pt(Xo)};Dt.windowManager.open({title:"Help",size:"medium",body:ko,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})})};var Un=()=>{Pt.add("help",(Dt,Le)=>{const Tt=mn({}),sn=P(Tt);Qn(Dt);const Zn=yt(Dt,Tt,Le);return Me(Dt,Zn),Vt(Dt,Zn),Dt.shortcuts.add("Alt+0","Open help dialog","mceHelp"),bt(Dt,Le),sn})};Un()})()),Xae}var Jae;function M2e(){return Jae||(Jae=1,N2e()),Yae}M2e();var eie={},tie={},nie;function B2e(){return nie||(nie=1,(function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const p=(Ne=>Ge=>Ne===Ge)(null),x=Ne=>Ne,A=(Ne,Ge)=>{const tt=Ne.length,Be=new Array(tt);for(let Je=0;Je<tt;Je++){const Rt=Ne[Je];Be[Je]=Ge(Rt,Je)}return Be},N=(Ne,Ge)=>{let tt=null;return{cancel:()=>{p(tt)||(clearTimeout(tt),tt=null)},throttle:(...Rt)=>{p(tt)&&(tt=setTimeout(()=>{tt=null,Ne.apply(null,Rt)},Ge))}}},O=Ne=>Ne.replace(/\uFEFF/g,""),U={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\uFEFF-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:"[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]"},V={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},Y=[new RegExp(U.aletter),new RegExp(U.midnumlet),new RegExp(U.midletter),new RegExp(U.midnum),new RegExp(U.numeric),new RegExp(U.cr),new RegExp(U.lf),new RegExp(U.newline),new RegExp(U.extend),new RegExp(U.format),new RegExp(U.katakana),new RegExp(U.extendnumlet),new RegExp("@")],ne="",ue=new RegExp("^"+U.punctuation+"$"),we=/^\s+$/,Ee=Y,$e=V.OTHER,ve=Ne=>{let Ge=$e;const tt=Ee.length;for(let Be=0;Be<tt;++Be){const Je=Ee[Be];if(Je&&Je.test(Ne)){Ge=Be;break}}return Ge},ct=Ne=>{const Ge={};return tt=>{if(Ge[tt])return Ge[tt];{const Be=Ne(tt);return Ge[tt]=Be,Be}}},Ue=Ne=>{const Ge=ct(ve);return A(Ne,Ge)},J=(Ne,Ge)=>{const tt=Ne[Ge],Be=Ne[Ge+1];if(Ge<0||Ge>Ne.length-1&&Ge!==0||tt===V.ALETTER&&Be===V.ALETTER)return!1;const Je=Ne[Ge+2];if(tt===V.ALETTER&&(Be===V.MIDLETTER||Be===V.MIDNUMLET||Be===V.AT)&&Je===V.ALETTER)return!1;const Rt=Ne[Ge-1];return(tt===V.MIDLETTER||tt===V.MIDNUMLET||Be===V.AT)&&Be===V.ALETTER&&Rt===V.ALETTER||(tt===V.NUMERIC||tt===V.ALETTER)&&(Be===V.NUMERIC||Be===V.ALETTER)||(tt===V.MIDNUM||tt===V.MIDNUMLET)&&Be===V.NUMERIC&&Rt===V.NUMERIC||tt===V.NUMERIC&&(Be===V.MIDNUM||Be===V.MIDNUMLET)&&Je===V.NUMERIC||(tt===V.EXTEND||tt===V.FORMAT)&&(Be===V.ALETTER||Be===V.NUMERIC||Be===V.KATAKANA||Be===V.EXTEND||Be===V.FORMAT)||(Be===V.EXTEND||Be===V.FORMAT&&(Je===V.ALETTER||Je===V.NUMERIC||Je===V.KATAKANA||Je===V.EXTEND||Je===V.FORMAT))&&(tt===V.ALETTER||tt===V.NUMERIC||tt===V.KATAKANA||tt===V.EXTEND||tt===V.FORMAT)||tt===V.CR&&Be===V.LF?!1:tt===V.NEWLINE||tt===V.CR||tt===V.LF||Be===V.NEWLINE||Be===V.CR||Be===V.LF?!0:!(tt===V.KATAKANA&&Be===V.KATAKANA||Be===V.EXTENDNUMLET&&(tt===V.ALETTER||tt===V.NUMERIC||tt===V.KATAKANA||tt===V.EXTENDNUMLET)||tt===V.EXTENDNUMLET&&(Be===V.ALETTER||Be===V.NUMERIC||Be===V.KATAKANA)||tt===V.AT)},vt=ne,en=we,Qe=ue,ie=Ne=>Ne==="http"||Ne==="https",it=(Ne,Ge)=>{let tt;for(tt=Ge;tt<Ne.length&&!en.test(Ne[tt]);tt++);return tt},Tn=(Ne,Ge)=>{const tt=it(Ne,Ge+1);return Ne.slice(Ge+1,tt).join(vt).substr(0,3)==="://"?tt:Ge},mn=(Ne,Ge,tt,Be)=>{const Je=[],Rt=[];let yt=[];for(let Un=0;Un<tt.length;++Un)if(yt.push(Ne[Un]),J(tt,Un)){const Dt=Ge[Un];if((Be.includeWhitespace||!en.test(Dt))&&(Be.includePunctuation||!Qe.test(Dt))){const Le=Un-yt.length+1,Tt=Un+1,sn=Ge.slice(Le,Tt).join(vt);if(ie(sn)){const Zn=Tn(Ge,Un),Xo=Ne.slice(Tt,Zn);Array.prototype.push.apply(yt,Xo),Un=Zn}Ge[Un+1]==="."&&/^([a-zA-Z]\.)+$/.test(sn+".")?(yt.push(Ne[Un+1]),Rt.push({start:Le,end:Tt+1})):Rt.push({start:Le,end:Tt}),Je.push(yt)}yt=[]}return{words:Je,indices:Rt}},qe=()=>({includeWhitespace:!1,includePunctuation:!1}),Oe=(Ne,Ge,tt)=>{tt={...qe(),...tt};const Be=A(Ne,Ge),Je=Ue(Be);return mn(Ne,Be,Je,tt)},pt=(Ne,Ge,tt)=>Oe(Ne,Ge,tt).words;var Pt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const P=(Ne,Ge)=>{const tt=Ge.getBlockElements(),Be=Ge.getVoidElements(),Je=Le=>tt[Le.nodeName]||Be[Le.nodeName],Rt=[];let yt="";const Un=new Pt(Ne,Ne);let Dt;for(;Dt=Un.next();)Dt.nodeType===3?yt+=O(Dt.data):Je(Dt)&&yt.length&&(Rt.push(yt),yt="");return yt.length&&Rt.push(yt),Rt},Vt=Ne=>Ne.replace(/\u200B/g,""),at=Ne=>Ne.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,Qn=(Ne,Ge)=>{const tt=Vt(P(Ne,Ge).join(`
`));return pt(tt.split(""),x).length},cn=(Ne,Ge)=>{const tt=P(Ne,Ge).join("");return at(tt)},ee=(Ne,Ge)=>{const tt=P(Ne,Ge).join("").replace(/\s/g,"");return at(tt)},Me=(Ne,Ge)=>()=>Ge(Ne.getBody(),Ne.schema),wt=(Ne,Ge)=>()=>Ge(Ne.selection.getRng().cloneContents(),Ne.schema),je=Ne=>Me(Ne,Qn),Bt=Ne=>({body:{getWordCount:je(Ne),getCharacterCount:Me(Ne,cn),getCharacterCountWithoutSpaces:Me(Ne,ee)},selection:{getWordCount:wt(Ne,Qn),getCharacterCount:wt(Ne,cn),getCharacterCountWithoutSpaces:wt(Ne,ee)},getCount:je(Ne)}),Ze=(Ne,Ge)=>{Ne.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Ge.body.getWordCount()),String(Ge.selection.getWordCount())],["Characters (no spaces)",String(Ge.body.getCharacterCountWithoutSpaces()),String(Ge.selection.getCharacterCountWithoutSpaces())],["Characters",String(Ge.body.getCharacterCount()),String(Ge.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},bt=(Ne,Ge)=>{Ne.addCommand("mceWordCount",()=>Ze(Ne,Ge))};var X=tinymce.util.Tools.resolve("tinymce.util.Delay");const jo=(Ne,Ge)=>{Ne.dispatch("wordCountUpdate",{wordCount:{words:Ge.body.getWordCount(),characters:Ge.body.getCharacterCount(),charactersWithoutSpaces:Ge.body.getCharacterCountWithoutSpaces()}})},vo=(Ne,Ge)=>{jo(Ne,Ge)},Mo=(Ne,Ge,tt)=>{const Be=N(()=>vo(Ne,Ge),tt);Ne.on("init",()=>{vo(Ne,Ge),X.setEditorTimeout(Ne,()=>{Ne.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",Be.throttle)},0),Ne.on("remove",Be.cancel)})},Io=Ne=>{const Ge=()=>Ne.execCommand("mceWordCount");Ne.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Ge,context:"any"}),Ne.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Ge,context:"any"})};var zs=(Ne=300)=>{c.add("wordcount",Ge=>{const tt=Bt(Ge);return bt(Ge,tt),Io(Ge),Mo(Ge,tt,Ne),tt})};zs()})()),tie}var oie;function L2e(){return oie||(oie=1,B2e()),eie}L2e();function PH(){const{id:c,type:d}=Ade(),p=Y3(),x=!c,[A,N]=Ke.useState({title:"",slug:"",content:"",excerpt:"",post_status:"draft",post_type:d||"page",gallery_folder_id:""}),[O,H]=Ke.useState([]),[U,V]=Ke.useState(!0),[Y,ne]=Ke.useState("content"),[ue,we]=Ke.useState(!1);Ke.useEffect(()=>{$e(),x?V(!1):Ee()},[c]);const Ee=async()=>{try{const Ue=await Ys.get(`/admin-update.php?action=get&table=posts&id=${c}`);Ue.data.success&&N(Ue.data.data)}catch{_o.fire("Hata","Yaz yklenemedi","error"),p(-1)}finally{V(!1)}},$e=async()=>{try{const Ue=await Ys.get("/admin-update.php?action=list&table=media_folders");Ue.data.success&&H(Ue.data.data||[])}catch{console.error("Failed to load folders")}},ve=async Ue=>{Ue&&Ue.preventDefault();try{(await Ys.post("/admin-update.php",{action:"save-post",...A,id:x?null:c})).data.success&&(_o.fire({title:"Baarl",text:"Deiiklikler kaydedildi.",icon:"success",timer:1500,showConfirmButton:!1}),x&&p(`/${A.post_type==="service"?"services":"pages"}`))}catch(J){_o.fire("Hata",J.response?.data?.error||"Kaydedilemedi","error")}},ct=async()=>{if(!A.title){_o.fire("Eksik Bilgi","Ltfen nce bir sayfa bal girin.","warning");return}const{value:Ue}=await _o.fire({title:"AI erik Olutur",input:"text",inputLabel:"Odaklanlacak Anahtar Kelimeler (opsiyonel)",inputPlaceholder:"otel ekimi, mimari fotoraflk...",showCancelButton:!0,confirmButtonText:"ret",cancelButtonText:"ptal",icon:"info"});if(Ue!==void 0){we(!0);try{const J=await Ys.post("/ai.php",{action:"generate-content",title:A.title,keywords:Ue,existing_content:A.content,type:A.post_type});J.data.success&&(N(vt=>({...vt,content:J.data.content})),_o.fire({title:"erik retildi",icon:"success",timer:1500,showConfirmButton:!1}))}catch(J){_o.fire("Hata","erik retilemedi: "+(J.response?.data?.error||J.message),"error")}finally{we(!1)}}};return U?j.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):j.jsxs(yl.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-5xl mx-auto space-y-6 pb-20",children:[j.jsxs("div",{className:"flex justify-between items-center bg-white/50 backdrop-blur-md p-4 rounded-2xl border border-gray-100 sticky top-0 z-10",children:[j.jsxs("div",{className:"flex items-center gap-4",children:[j.jsx("button",{onClick:()=>p(-1),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:""}),j.jsxs("div",{children:[j.jsxs("h1",{className:"text-xl font-bold text-gray-800",children:[x?"Yeni Ekle":"Dzenle",": ",j.jsx("span",{className:"text-blue-600 uppercase text-sm tracking-widest ml-2",children:A.post_type})]}),j.jsx("p",{className:"text-xs text-gray-500",children:A.title||"Balksz"})]})]}),j.jsx("div",{className:"flex gap-2",children:j.jsx("button",{onClick:ve,className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold shadow-lg shadow-blue-500/20 transition-all hover:-translate-y-0.5",children:x?"Yaynla":"Deiiklikleri Kaydet"})})]}),j.jsxs("div",{className:"flex gap-1 p-1 bg-gray-200/50 rounded-2xl w-fit",children:[j.jsx("button",{onClick:()=>ne("content"),className:`px-6 py-2 rounded-xl text-sm font-bold transition-all ${Y==="content"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:bg-white/50"}`,children:"erik"}),j.jsx("button",{onClick:()=>ne("seo"),className:`px-6 py-2 rounded-xl text-sm font-bold transition-all ${Y==="seo"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:bg-white/50"}`,children:"SEO & Ayarlar"})]}),j.jsx("form",{onSubmit:ve,className:"space-y-6",children:j.jsx(aD,{mode:"wait",children:Y==="content"?j.jsx(yl.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:"bg-white p-8 rounded-3xl shadow-sm border border-gray-100 space-y-6",children:j.jsxs("div",{className:"space-y-4",children:[j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2 tracking-tight",children:"Sayfa Bal"}),j.jsx("input",{type:"text",required:!0,value:A.title,onChange:Ue=>N({...A,title:Ue.target.value}),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all outline-none text-lg font-semibold",placeholder:"rn: Hakkmzda"})]}),j.jsxs("div",{className:"quill-editor-wrapper",children:[j.jsxs("div",{className:"flex justify-between items-end mb-2",children:[j.jsx("label",{className:"block text-sm font-bold text-gray-700 tracking-tight",children:"erik"}),j.jsx("button",{type:"button",onClick:ct,disabled:ue,className:"px-4 py-1.5 bg-purple-100 text-purple-700 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-purple-200 transition-all flex items-center gap-2 disabled:opacity-50",children:ue?" retiliyor...":" AI ile ret"})]}),j.jsx(Gve,{init:{height:600,menubar:!0,license_key:"gpl",promotion:!1,branding:!1,plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","code","help","wordcount"],toolbar:"undo redo | blocks | bold italic forecolor | alignleft aligncenter alignright alignjustify | borderless_table | bullist numlist outdent indent | removeformat | help",content_style:"body { font-family:Inter,Helvetica,Arial,sans-serif; font-size:16px; line-height:1.6; padding: 20px; } h2 { font-weight: 800; color: #1e293b; } p { color: #475569; }",skin:"oxide",content_css:"default"},value:A.content,onEditorChange:Ue=>N({...A,content:Ue})}),j.jsx("style",{children:`
                                        /* Hide TinyMCE setup and promotion elements */
                                        .tox-promotion, 
                                        .tox-statusbar__branding, 
                                        .tox-notification--warning {
                                            display: none !important;
                                        }
                                        /* If the 'Finish setting up' is a dialog, this might be tricky, but usually it's a notification or promo */
                                    `})]})]})},"content"):j.jsx(yl.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"bg-white p-8 rounded-3xl shadow-sm border border-gray-100 space-y-8",children:j.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[j.jsxs("div",{className:"space-y-6",children:[j.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"URL Yaps"}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-1",children:"Slug (URL)"}),j.jsx("input",{type:"text",value:A.slug,onChange:Ue=>N({...A,slug:Ue.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all font-mono text-sm",placeholder:"otomatik-olusturulur"}),j.jsx("p",{className:"mt-1 text-[10px] text-gray-400",children:"Bo brakrsanz bala gre oluturulur."})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-1",children:"Durum"}),j.jsx("div",{className:"flex gap-2",children:["draft","publish"].map(Ue=>j.jsx("button",{type:"button",onClick:()=>N({...A,post_status:Ue}),className:`flex-1 py-3 rounded-xl text-xs font-bold ring-1 transition-all ${A.post_status===Ue?"bg-blue-600 text-white ring-blue-600":"bg-white text-gray-500 ring-gray-200 hover:bg-gray-50"}`,children:Ue==="publish"?"YAYINDA":"TASLAK"},Ue))})]})]}),j.jsxs("div",{className:"space-y-6",children:[j.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"SEO Meta Verileri"}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-1",children:"Meta Aklamas (Excerpt)"}),j.jsx("textarea",{rows:"4",value:A.excerpt||"",onChange:Ue=>N({...A,excerpt:Ue.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all text-sm leading-relaxed",placeholder:"Arama sonularnda grnecek ksa aklama..."}),j.jsxs("p",{className:"mt-1 text-[10px] text-gray-400",children:[A.excerpt?.length||0," karakter (nerilen 150-160)"]})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-1",children:"Galeri Klasr Balants"}),j.jsxs("select",{value:A.gallery_folder_id||"",onChange:Ue=>N({...A,gallery_folder_id:Ue.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all text-sm font-semibold",children:[j.jsx("option",{value:"",children:"Klasr Sein (Opsiyonel)"}),O.map(Ue=>j.jsx("option",{value:Ue.id,children:Ue.name},Ue.id))]}),j.jsx("p",{className:"mt-1 text-[10px] text-gray-400",children:"Bu sayfada grnecek resim galerisi iin bir klasr sein."})]})]})]})},"seo")})})]})}function P2e(){const[c,d]=Ke.useState({}),[p,x]=Ke.useState(!0),[A,N]=Ke.useState("general"),[O,H]=Ke.useState(!1),U=[{id:"general",label:"Genel Ayarlar",icon:""},{id:"contact",label:"letiim",icon:""},{id:"social",label:"Sosyal Medya",icon:""},{id:"style",label:"Renk & Stil",icon:""}];Ke.useEffect(()=>{V()},[]);const V=async()=>{try{const Ee=await Ys.get("/settings.php");if(Ee.data.success){const $e={};Object.values(Ee.data.settings).forEach(ve=>{ve.forEach(ct=>{$e[ct.key]=ct.value})}),d($e)}}catch(Ee){console.error("Failed to load settings",Ee),_o.fire("Hata","Ayarlar yklenemedi","error")}finally{x(!1)}},Y=(Ee,$e)=>{d(ve=>({...ve,[Ee]:$e}))},ne=async(Ee,$e)=>{const ve=Ee.target.files[0];if(!ve)return;H(!0);const ct=new FormData;ct.append("file",ve),ct.append("action","upload");try{const Ue=await Ys.post("/media.php",ct,{headers:{"Content-Type":"multipart/form-data"}});Ue.data.success&&(Y($e,Ue.data.data.public_url),_o.fire({title:"Yklendi",icon:"success",toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3}))}catch{_o.fire("Hata","Ykleme baarsz","error")}finally{H(!1)}},ue=async()=>{try{await Ys.post("/settings.php",{settings:c}),_o.fire("Baarl","Ayarlar kaydedildi","success")}catch{_o.fire("Hata","Kaydetme baarsz","error")}},we=(Ee,$e,ve="text",ct="")=>ve==="image"?j.jsxs("div",{className:"mb-6",children:[j.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:$e}),j.jsxs("div",{className:"flex items-start gap-4 p-4 border border-gray-100 rounded-2xl bg-gray-50/50",children:[j.jsx("div",{className:"w-24 h-24 bg-white rounded-xl border border-gray-200 flex items-center justify-center p-2 shadow-sm overflow-hidden",children:c[Ee]?j.jsx("img",{src:c[Ee],alt:$e,className:"max-w-full max-h-full object-contain"}):j.jsx("span",{className:"text-2xl text-gray-300",children:""})}),j.jsxs("div",{className:"flex-1",children:[j.jsx("input",{type:"text",value:c[Ee]||"",onChange:Ue=>Y(Ee,Ue.target.value),className:"w-full px-4 py-2 rounded-xl border border-gray-200 text-sm mb-3 text-gray-500 focus:text-gray-800 focus:border-blue-500 outline-none transition-all",placeholder:"https://..."}),j.jsx("div",{className:"relative",children:j.jsxs("label",{className:`inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-xl text-sm font-bold text-gray-600 hover:bg-gray-50 cursor-pointer shadow-sm transition-all ${O?"opacity-50 pointer-events-none":""}`,children:[j.jsx("span",{children:O?"":""}),O?"Ykleniyor...":"Grsel Ykle",j.jsx("input",{type:"file",className:"hidden",onChange:Ue=>ne(Ue,Ee),accept:"image/*"})]})})]})]})]}):ve==="color"?j.jsxs("div",{className:"mb-6",children:[j.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:$e}),j.jsxs("div",{className:"flex items-center gap-3 p-2 border border-gray-200 rounded-2xl bg-white focus-within:ring-2 focus-within:ring-blue-500/20 focus-within:border-blue-500 transition-all",children:[j.jsx("div",{className:"relative w-12 h-12 rounded-xl border border-gray-100 overflow-hidden shadow-inner flex-shrink-0",children:j.jsx("input",{type:"color",value:c[Ee]||"#000000",onChange:Ue=>Y(Ee,Ue.target.value),className:"absolute -top-1/2 -left-1/2 w-[200%] h-[200%] cursor-pointer p-0 border-0"})}),j.jsx("div",{className:"flex-1",children:j.jsx("input",{type:"text",value:c[Ee]||"",onChange:Ue=>Y(Ee,Ue.target.value),className:"w-full text-sm font-mono font-bold text-gray-600 outline-none uppercase tracking-wider",placeholder:"#000000",maxLength:7})})]})]}):j.jsxs("div",{className:"mb-4",children:[j.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:$e}),ve==="textarea"?j.jsx("textarea",{value:c[Ee]||"",onChange:Ue=>Y(Ee,Ue.target.value),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-brand-500 focus:ring-2 focus:ring-brand-500/20 outline-none transition-all",placeholder:ct,rows:"4"}):j.jsx("input",{type:ve,value:c[Ee]||"",onChange:Ue=>Y(Ee,Ue.target.value),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-brand-500 focus:ring-2 focus:ring-brand-500/20 outline-none transition-all",placeholder:ct})]});return p?j.jsx("div",{className:"p-8 text-center text-gray-500",children:"Ykleniyor..."}):j.jsxs("div",{className:"space-y-6",children:[j.jsxs("div",{className:"flex justify-between items-center",children:[j.jsxs("div",{children:[j.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Sistem Ayarlar"}),j.jsx("p",{className:"text-gray-500 text-sm",children:"Site genel yaplandrmasn buradan ynetebilirsiniz."})]}),j.jsx("button",{onClick:ue,className:"px-6 py-2.5 bg-blue-600 text-white rounded-xl font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 hover:scale-105 transition-all active:scale-95",children:"Kaydet"})]}),j.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden",children:[j.jsx("div",{className:"flex border-b border-gray-100 overflow-x-auto",children:U.map(Ee=>j.jsxs("button",{onClick:()=>N(Ee.id),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 whitespace-nowrap transition-all ${A===Ee.id?"text-blue-600 bg-blue-50/50 border-b-2 border-blue-600":"text-gray-500 hover:bg-gray-50 hover:text-gray-700"}`,children:[j.jsx("span",{children:Ee.icon})," ",Ee.label]},Ee.id))}),j.jsxs("div",{className:"p-8",children:[A==="general"&&j.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[we("site_title","Site Bal (Title)","text","rn: Mekan Fotorafs"),we("site_description","Site Aklamas (Meta Description)","textarea","Site hakknda ksa bilgi..."),we("logo_url","Logo","image"),we("favicon_url","Favicon","image"),we("google_analytics","Google Analytics ID","text","UA-XXXXX-Y")]}),A==="contact"&&j.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[we("phone_primary","Telefon 1 (Grnr)","text","+90 555 ..."),we("phone_whatsapp","Whatsapp Numaras","text","90555..."),we("email_primary","E-posta Adresi","email","info@site.com"),we("address_short","Ksa Adres","text","stanbul, Trkiye"),we("address_full","Tam Adres","textarea","Ak adres bilgisi...")]}),A==="social"&&j.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[we("social_instagram","Instagram URL","text","https://instagram.com/..."),we("social_facebook","Facebook URL","text","https://facebook.com/..."),we("social_twitter","Twitter / X URL","text","https://x.com/..."),we("social_linkedin","LinkedIn URL","text","https://linkedin.com/..."),we("social_youtube","YouTube URL","text","https://youtube.com/...")]}),A==="style"&&j.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[we("primary_color","Ana Renk (Primary)","color"),we("secondary_color","kincil Renk (Secondary)","color"),j.jsx("div",{className:"col-span-full mt-4 p-4 bg-gray-50 rounded-2xl",children:j.jsx("p",{className:"text-sm text-gray-500",children:"Not: Renk deiikliklerinin sitede aktif olmas iin CSS deikenlerinin ayarlanm olmas gerekir."})})]})]})]})]})}function F2e(){const[c,d]=Ke.useState([]),[p,x]=Ke.useState([]),[A,N]=Ke.useState([]),[O,H]=Ke.useState([]),[U,V]=Ke.useState([]),[Y,ne]=Ke.useState([]),[ue,we]=Ke.useState(!0),[Ee,$e]=Ke.useState("settings"),[ve,ct]=Ke.useState("province"),[Ue,J]=Ke.useState([]),[vt,en]=Ke.useState(!1);Ke.useEffect(()=>{Qe()},[]);const Qe=async()=>{we(!0);try{const ee=[{name:"settings",url:"/admin-update.php?table=settings&action=list"},{name:"provinces",url:"/admin-update.php?table=locations_province&action=list"},{name:"districts",url:"/admin-update.php?table=locations_district&action=list"},{name:"towns",url:"/admin-update.php?table=locations_town&action=list"},{name:"services",url:"/admin-update.php?table=services&action=list"},{name:"seoPages",url:"/admin-update.php?table=posts&action=list&post_type=seo_page"}],Me=await Promise.all(ee.map(wt=>Ys.get(wt.url).catch(je=>(console.error(`API Error on ${wt.name}:`,je),{data:{success:!1,data:[]}}))));d(Me[0].data.data||[]),x(Me[1].data.data||[]),N(Me[2].data.data||[]),H(Me[3].data.data||[]),V(Me[4].data.data||[]),ne(Me[5].data.data||[])}catch{console.error("Failed to load SEO data")}finally{we(!1)}},ie=async(ee,Me)=>{if(c.find(je=>je.key===ee))try{await Ys.post("/admin-update.php",{action:"update",table:"settings",id:ee,data:{value:Me}}),d(je=>je.map(Bt=>Bt.key===ee?{...Bt,value:Me}:Bt)),_o.fire({title:"Gncellendi",icon:"success",timer:800,showConfirmButton:!1,toast:!0,position:"bottom-end"})}catch{_o.fire("Hata","Gncellenemedi","error")}},it=(ee,Me)=>c.find(wt=>wt.key===ee)?.value||Me,Tn=it("seo_location_suffix","-mekan-fotografcisi"),mn=it("seo_location_title_template","{name} Mekan Fotorafs"),qe=it("seo_service_location_sep","-"),Oe=it("seo_service_location_order","province-service"),Yo=it("seo_service_location_title_template","{province} {service}"),pt=it("openai_api_key",""),Pt=it("openai_model","gpt-4o-mini"),P=it("seo_service_location_meta_desc_template",""),Vt=it("seo_location_meta_desc_template",""),at=ee=>{const Me=Y.find(wt=>wt.slug===ee);return Me?Me.post_status==="publish"?{label:"Yaynda",color:"green",status:"publish"}:{label:"Taslak",color:"amber",status:"draft"}:{label:"Oluturulmad",color:"gray",status:"missing"}},Qn=async(ee,Me)=>{try{await Ys.post("/admin-update.php",{action:"save-post",title:ee,slug:Me,content:`<p>${ee} hizmetleri hakknda detayl bilgi.</p>`,excerpt:ee.includes("-")?P.replace("{name}",ee).replace("{location}",ee).replace("{service}",ee):Vt.replace("{name}",ee).replace("{location}",ee),post_type:"seo_page",post_status:"draft"}),Qe(),_o.fire({title:"Sayfa Taslak Olarak Oluturuldu",icon:"success",timer:1e3,showConfirmButton:!1})}catch{_o.fire("Hata","Sayfa oluturulamad","error")}},cn=async()=>{if(!pt){_o.fire("Eksik Bilgi","Ltfen nce Ayarlar sekmesinden OpenAI API Anahtarn girin.","warning");return}en(!0);try{const ee=await Ys.post("/ai.php",{action:"suggest-urls"});ee.data.success&&J(ee.data.suggestions)}catch(ee){_o.fire("Hata","neri alnamad: "+(ee.response?.data?.error||ee.message),"error")}finally{en(!1)}};return ue?j.jsx("div",{className:"flex justify-center py-24",children:j.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):j.jsxs(yl.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[j.jsxs("div",{className:"flex justify-between items-center bg-white/50 backdrop-blur-md p-6 rounded-[2rem] border border-white shadow-sm",children:[j.jsxs("div",{children:[j.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"SEO Link Ynetimi"}),j.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Gelimi URL yaps ve sayfa ynetimi"})]}),j.jsxs("div",{className:"flex bg-gray-100/50 p-1 rounded-2xl border border-gray-200 shadow-inner overflow-x-auto no-scrollbar",children:[j.jsx("button",{onClick:()=>$e("settings"),className:`px-4 py-2 rounded-xl font-bold transition-all whitespace-nowrap ${Ee==="settings"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:" Ayarlar"}),j.jsx("button",{onClick:()=>$e("locations"),className:`px-4 py-2 rounded-xl font-bold transition-all whitespace-nowrap ${Ee==="locations"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:" Lokasyonlar"}),j.jsx("button",{onClick:()=>$e("services"),className:`px-4 py-2 rounded-xl font-bold transition-all whitespace-nowrap ${Ee==="services"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:" Hizmetler"}),j.jsx("button",{onClick:()=>$e("ai"),className:`px-4 py-2 rounded-xl font-bold transition-all whitespace-nowrap ${Ee==="ai"?"bg-white text-purple-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:" AI Asistan"})]})]}),j.jsx(aD,{mode:"wait",children:Ee==="settings"?j.jsxs(yl.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[j.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm space-y-6",children:[j.jsxs("h2",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[j.jsx("span",{className:"p-2 bg-blue-50 rounded-lg text-blue-600 text-sm",children:""})," Lokasyon Link Ayarlar"]}),j.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[j.jsxs("div",{className:"space-y-4",children:[j.jsxs("div",{className:"space-y-2",children:[j.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"URL Sonsaks (Suffix)"}),j.jsx("input",{type:"text",value:Tn,onChange:ee=>ie("seo_location_suffix",ee.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none font-mono text-sm",placeholder:"-mekan-fotografcisi"})]}),j.jsxs("div",{className:"space-y-2",children:[j.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Balk Tasla"}),j.jsx("input",{type:"text",value:mn,onChange:ee=>ie("seo_location_title_template",ee.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none font-bold"})]})]}),j.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-6 text-white space-y-3",children:[j.jsx("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-widest",children:"rnek Grnm"}),j.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10",children:[j.jsxs("div",{className:"text-blue-400 font-mono text-xs",children:["/antalya",Tn]}),j.jsx("div",{className:"font-bold text-lg mt-1",children:mn.replace("{name}","Antalya")})]})]})]})]}),j.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm space-y-6",children:[j.jsxs("h2",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[j.jsx("span",{className:"p-2 bg-purple-50 rounded-lg text-purple-600 text-sm",children:""})," Hizmet & Lokasyon Link Ayarlar"]}),j.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[j.jsxs("div",{className:"space-y-4",children:[j.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[j.jsxs("div",{className:"space-y-2",children:[j.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Ayra (Separator)"}),j.jsx("input",{type:"text",value:qe,onChange:ee=>ie("seo_service_location_sep",ee.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 outline-none font-mono text-center"})]}),j.jsxs("div",{className:"space-y-2",children:[j.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Sralama (Order)"}),j.jsxs("select",{value:Oe,onChange:ee=>ie("seo_service_location_order",ee.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 outline-none font-bold appearance-none bg-no-repeat bg-[right_1.25rem_center] bg-[length:1rem_1rem]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`},children:[j.jsx("option",{value:"province-service",children:"l-Hizmet"}),j.jsx("option",{value:"service-province",children:"Hizmet-l"})]})]})]}),j.jsxs("div",{className:"space-y-2",children:[j.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Balk Tasla"}),j.jsx("input",{type:"text",value:Yo,onChange:ee=>ie("seo_service_location_title_template",ee.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 outline-none font-bold"})]})]}),j.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-6 text-white space-y-3",children:[j.jsx("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-widest",children:"rnek Grnm"}),j.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10",children:[j.jsxs("div",{className:"text-purple-400 font-mono text-xs",children:["/",Oe==="service-province"?`otel-cekimi${qe}antalya`:`antalya${qe}otel-cekimi`]}),j.jsx("div",{className:"font-bold text-lg mt-1",children:Yo.replace("{province}","Antalya").replace("{service}","Otel ekimi")})]})]})]})]}),j.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm space-y-6",children:[j.jsxs("h2",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[j.jsx("span",{className:"p-2 bg-green-50 rounded-lg text-green-600 text-sm",children:""})," Global Meta ablonlar"]}),j.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[j.jsxs("div",{className:"space-y-2",children:[j.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"l + Hizmet Meta Description ablonu"}),j.jsx("textarea",{value:P,onChange:ee=>ie("seo_service_location_meta_desc_template",ee.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-green-500/10 focus:border-green-500 outline-none text-sm h-32",placeholder:"Antalya Otel ekimi iin profesyonel zmler..."}),j.jsxs("p",{className:"text-[10px] text-gray-400 px-1",children:["Deikenler: `","{name}","`, `","{service}","`, `","{location}","`"]})]}),j.jsxs("div",{className:"space-y-2",children:[j.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Sadece Lokasyon Meta Description ablonu"}),j.jsx("textarea",{value:Vt,onChange:ee=>ie("seo_location_meta_desc_template",ee.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-green-500/10 focus:border-green-500 outline-none text-sm h-32",placeholder:"Antalya blgesinde profesyonel ekim hizmetleri..."}),j.jsxs("p",{className:"text-[10px] text-gray-400 px-1",children:["Deikenler: `","{name}","`, `","{location}","`"]})]})]})]}),j.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm space-y-6",children:[j.jsxs("h2",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[j.jsx("span",{className:"p-2 bg-purple-50 rounded-lg text-purple-600 text-sm",children:""})," AI Yaplandrmas"]}),j.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[j.jsxs("div",{className:"space-y-4",children:[j.jsxs("div",{className:"space-y-2",children:[j.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"OpenAI API Key"}),j.jsx("input",{type:"password",value:pt,onChange:ee=>ie("openai_api_key",ee.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 outline-none font-mono text-sm",placeholder:"sk-..."})]}),j.jsxs("div",{className:"space-y-2",children:[j.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Model"}),j.jsxs("select",{value:Pt,onChange:ee=>ie("openai_model",ee.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 outline-none font-bold appearance-none bg-no-repeat bg-[right_1.25rem_center] bg-[length:1rem_1rem]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`},children:[j.jsx("option",{value:"gpt-4o-mini",children:"GPT-4o Mini"}),j.jsx("option",{value:"gpt-4o",children:"GPT-4o"}),j.jsx("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"})]})]})]}),j.jsx("div",{className:"flex items-center justify-center p-6 border-2 border-dashed border-gray-200 rounded-[2rem]",children:j.jsxs("div",{className:"text-center",children:[j.jsx("div",{className:"text-3xl mb-2",children:""}),j.jsx("p",{className:"text-xs text-gray-500 max-w-[200px]",children:"OpenAI entegrasyonu ile ierik ve URL nerileri alabilirsiniz."})]})})]})]})]},"settings"):Ee==="locations"?j.jsxs(yl.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[j.jsxs("div",{className:"flex gap-2 bg-white/50 p-2 rounded-2xl border border-gray-200 w-fit",children:[j.jsx("button",{onClick:()=>ct("province"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${ve==="province"?"bg-blue-600 text-white shadow-lg":"text-gray-500"}`,children:"ller"}),j.jsx("button",{onClick:()=>ct("district"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${ve==="district"?"bg-blue-600 text-white shadow-lg":"text-gray-500"}`,children:"leler"}),j.jsx("button",{onClick:()=>ct("town"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${ve==="town"?"bg-blue-600 text-white shadow-lg":"text-gray-500"}`,children:"Mahalleler"})]}),j.jsx("div",{className:"bg-white rounded-[2rem] border border-gray-100 shadow-sm overflow-hidden overflow-y-auto max-h-[calc(100vh-350px)] custom-scrollbar",children:j.jsxs("table",{className:"w-full text-left",children:[j.jsx("thead",{className:"bg-gray-50 border-b border-gray-100 sticky top-0 z-10 backdrop-blur-sm",children:j.jsxs("tr",{children:[j.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Lokasyon"}),j.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"URL"}),j.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Durum"}),j.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"lem"})]})}),j.jsx("tbody",{className:"divide-y divide-gray-50",children:(ve==="province"?p:ve==="district"?A:O).map(ee=>{const Me=`${ee.slug}${Tn}`,wt=at(Me),je=mn.replace("{name}",ee.name);return j.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[j.jsx("td",{className:"px-6 py-4",children:j.jsx("div",{className:"font-bold text-gray-800",children:ee.name})}),j.jsx("td",{className:"px-6 py-4",children:j.jsxs("div",{className:"text-xs font-mono text-blue-500",children:["/",Me]})}),j.jsx("td",{className:"px-6 py-4",children:j.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-black uppercase tracking-tighter bg-${wt.color}-50 text-${wt.color}-600 border border-${wt.color}-100`,children:wt.label})}),j.jsx("td",{className:"px-6 py-4 text-right",children:wt.status==="missing"?j.jsx("button",{onClick:()=>Qn(je,Me),className:"px-3 py-1.5 bg-gray-900 text-white rounded-lg text-[9px] font-black uppercase tracking-widest hover:bg-blue-600 transition-all",children:"Olutur"}):j.jsx("div",{className:"flex justify-end gap-2",children:j.jsx("a",{href:`/${Me}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-500",children:""})})})]},ee.id)})})]})})]},"locations"):Ee==="services"?j.jsx(yl.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"bg-white rounded-[2rem] border border-gray-100 shadow-sm overflow-hidden overflow-y-auto max-h-[calc(100vh-300px)] custom-scrollbar",children:j.jsxs("table",{className:"w-full text-left",children:[j.jsx("thead",{className:"bg-gray-50 border-b border-gray-100 sticky top-0 z-10 backdrop-blur-sm",children:j.jsxs("tr",{children:[j.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"l / Hizmet"}),j.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"URL"}),j.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Durum"}),j.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"lem"})]})}),j.jsx("tbody",{className:"divide-y divide-gray-50",children:p.filter(ee=>ee.is_active).map(ee=>U.filter(Me=>Me.is_active).map(Me=>{const wt=Oe==="service-province"?`${Me.slug}${qe}${ee.slug}`:`${ee.slug}${qe}${Me.slug}`,je=at(wt),Bt=Yo.replace("{province}",ee.name).replace("{service}",Me.name);return j.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[j.jsx("td",{className:"px-6 py-4",children:j.jsxs("div",{className:"font-bold text-gray-800 text-sm",children:[ee.name," ",j.jsx("span",{className:"text-gray-300 mx-1",children:"/"})," ",Me.name]})}),j.jsx("td",{className:"px-6 py-4",children:j.jsxs("div",{className:"text-xs font-mono text-purple-600",children:["/",wt]})}),j.jsx("td",{className:"px-6 py-4",children:j.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-black uppercase tracking-tighter bg-${je.color}-50 text-${je.color}-600 border border-${je.color}-100`,children:je.label})}),j.jsx("td",{className:"px-6 py-4 text-right",children:je.status==="missing"?j.jsx("button",{onClick:()=>Qn(Bt,wt),className:"px-3 py-1.5 bg-gray-900 text-white rounded-lg text-[9px] font-black uppercase tracking-widest hover:bg-purple-600 transition-all",children:"Olutur"}):j.jsx("div",{className:"flex justify-end gap-2",children:j.jsx("a",{href:`/${wt}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-purple-500",children:""})})})]},`${ee.id}-${Me.id}`)}))})]})},"services"):j.jsxs(yl.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"space-y-6",children:[j.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-blue-700 rounded-[3rem] p-12 text-white relative overflow-hidden shadow-2xl shadow-purple-500/20",children:[j.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full -mr-48 -mt-48 blur-3xl"}),j.jsxs("div",{className:"relative z-10 space-y-6 max-w-2xl",children:[j.jsx("h2",{className:"text-4xl font-black leading-tight",children:"Link Yaps AI Asistan"}),j.jsx("p",{className:"text-purple-100 text-lg",children:"Hizmetlerimiz iin en yksek SEO potansiyeline sahip URL yaplarn ve link stratejilerini yapay zeka ile kefedin."}),j.jsx("button",{onClick:cn,disabled:vt,className:"px-8 py-4 bg-white text-purple-600 rounded-2xl font-black shadow-xl hover:scale-105 transition-all flex items-center gap-3 disabled:opacity-50",children:vt?j.jsxs(j.Fragment,{children:[j.jsx("span",{className:"w-5 h-5 border-2 border-purple-600 border-t-transparent rounded-full animate-spin"})," Bekleniyor..."]}):j.jsxs(j.Fragment,{children:[j.jsx("span",{className:"text-xl",children:""})," URL nerileri Al"]})})]})]}),Ue.length>0&&j.jsxs(yl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm space-y-6",children:[j.jsx("h3",{className:"text-lg font-black text-gray-900 px-2 tracking-tight",children:"nerilen URL Yaplar"}),j.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ue.map((ee,Me)=>j.jsx("div",{className:"p-4 bg-gray-50 border border-gray-100 rounded-2xl group hover:border-purple-200 transition-all",children:j.jsxs("div",{className:"flex items-center justify-between",children:[j.jsxs("code",{className:"text-purple-600 font-mono text-sm",children:["/",ee]}),j.jsx("button",{onClick:()=>{const wt=ee.split("-").map(je=>je.charAt(0).toUpperCase()+je.slice(1)).join(" ");Qn(wt,ee)},className:"opacity-0 group-hover:opacity-100 p-2 bg-white rounded-lg shadow-sm text-xs hover:text-purple-600 transition-all",children:"Olutur"})]})},Me))})]})]},"ai")})]})}function $2e(){const c=wx(),d=[{path:"/dashboard",icon:"",label:"Dashboard"},{path:"/pages",icon:"",label:"Sayfalar"},{path:"/services",icon:"",label:"Hizmetler"},{path:"/locations",icon:"",label:"Lokasyonlar"},{path:"/seo-links",icon:"",label:"SEO Link Ynetimi"},{path:"/seo-pages",icon:"",label:"SEO Sayfalar"},{path:"/quotes",icon:"",label:"Teklif Talepleri"},{path:"/media",icon:"",label:"Medya"},{path:"/pexels",icon:"",label:"Pexels Koleksiyon"},{path:"/settings",icon:"",label:"Ayarlar"}];return j.jsxs("div",{className:"w-72 bg-gradient-to-b from-slate-900 to-black text-white min-h-screen p-6 flex flex-col border-r border-white/5 shadow-2xl",children:[j.jsxs("div",{className:"mb-10 px-2 flex items-center gap-3",children:[j.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-2xl flex items-center justify-center text-xl shadow-lg shadow-blue-500/20 rotate-3",children:""}),j.jsxs("div",{children:[j.jsx("h1",{className:"text-lg font-black tracking-tighter leading-none",children:"MEKAN"}),j.jsx("p",{className:"text-[10px] text-blue-400 font-bold tracking-[0.2em] uppercase",children:"Fotorafs"})]})]}),j.jsx("nav",{className:"flex-1 space-y-1.5 relative",children:d.map(p=>{const x=c.pathname.startsWith(p.path);return j.jsxs(dte,{to:p.path,className:`group relative flex items-center gap-4 px-4 py-3 rounded-2xl transition-all duration-300 ${x?"bg-blue-600 text-white shadow-lg shadow-blue-500/20":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:[x&&j.jsx(yl.div,{layoutId:"active-pill",className:"absolute left-[-1.5rem] w-1.5 h-8 bg-blue-500 rounded-r-full"}),j.jsx("span",{className:`text-lg transition-transform group-hover:scale-125 duration-300 ${x?"grayscale-0":"grayscale opacity-70 group-hover:grayscale-0 group-hover:opacity-100"}`,children:p.icon}),j.jsx("span",{className:"text-sm font-bold tracking-tight",children:p.label})]},p.path)})}),j.jsx("div",{className:"mt-auto pt-6 border-t border-white/5",children:j.jsxs("button",{onClick:()=>{localStorage.removeItem("admin_token"),window.location.href="/admin/"},className:"w-full flex items-center gap-4 px-4 py-3 rounded-2xl text-slate-500 hover:text-red-400 hover:bg-red-400/5 transition-all group",children:[j.jsx("span",{className:"text-xl grayscale group-hover:grayscale-0 transition-all",children:""}),j.jsx("span",{className:"text-sm font-bold tracking-tight",children:"Oturumu Kapat"})]})})]})}function I2e(){const{user:c,logout:d}=fz(),p=async()=>{try{await Ys.post("/auth.php?action=logout")}catch(x){console.error("Logout error:",x)}finally{d(),window.location.href="/admin/"}};return j.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[j.jsx($2e,{}),j.jsxs("div",{className:"flex-1 flex flex-col",children:[j.jsxs("header",{className:"bg-white shadow-sm px-6 py-4 flex justify-between items-center",children:[j.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Admin Panel"}),j.jsxs("div",{className:"flex items-center gap-4",children:[j.jsx("span",{className:"text-sm text-gray-600",children:c?.name||"Admin"}),j.jsx("button",{onClick:p,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition",children:"k"})]})]}),j.jsx(yl.main,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"flex-1 p-8",children:j.jsx(vie,{})},window.location.pathname)]})]})}function H2e(){const{isAuthenticated:c,token:d,logout:p}=fz();return Ke.useEffect(()=>{!localStorage.getItem("admin_token")&&c&&p()},[c,d,p]),!c||!d?j.jsx(Eee,{to:"/",replace:!0}):j.jsx(vie,{})}function z2e(){const{isAuthenticated:c,initialize:d}=fz();return Ke.useEffect(()=>{d()},[d]),j.jsx(dfe,{basename:"/admin",children:j.jsxs(zde,{children:[j.jsx(wf,{path:"/",element:c?j.jsx(Eee,{to:"/dashboard",replace:!0}):j.jsx(jpe,{})}),j.jsx(wf,{element:j.jsx(H2e,{}),children:j.jsxs(wf,{element:j.jsx(I2e,{}),children:[j.jsx(wf,{path:"/dashboard",element:j.jsx(Upe,{})}),j.jsx(wf,{path:"/pages",element:j.jsx(Dve,{})}),j.jsx(wf,{path:"/pages/new",element:j.jsx(PH,{})}),j.jsx(wf,{path:"/pages/edit/:id",element:j.jsx(PH,{})}),j.jsx(wf,{path:"/locations",element:j.jsx(Ave,{})}),j.jsx(wf,{path:"/services",element:j.jsx(kve,{})}),j.jsx(wf,{path:"/services/new",element:j.jsx(PH,{})}),j.jsx(wf,{path:"/services/edit/:id",element:j.jsx(PH,{})}),j.jsx(wf,{path:"/seo-pages",element:j.jsx(_ve,{})}),j.jsx(wf,{path:"/seo-links",element:j.jsx(F2e,{})}),j.jsx(wf,{path:"/quotes",element:j.jsx(Ove,{})}),j.jsx(wf,{path:"/media",element:j.jsx(Rve,{})}),j.jsx(wf,{path:"/pexels",element:j.jsx(Nve,{})}),j.jsx(wf,{path:"/settings",element:j.jsx(P2e,{})})]})}),j.jsx(wf,{path:"*",element:j.jsx(Eee,{to:"/",replace:!0})})]})})}zue.createRoot(document.getElementById("root")).render(j.jsx(UM.StrictMode,{children:j.jsx(z2e,{})}));
