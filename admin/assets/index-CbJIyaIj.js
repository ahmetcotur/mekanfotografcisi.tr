(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))x(A);new MutationObserver(A=>{for(const M of A)if(M.type==="childList")for(const O of M.addedNodes)O.tagName==="LINK"&&O.rel==="modulepreload"&&x(O)}).observe(document,{childList:!0,subtree:!0});function p(A){const M={};return A.integrity&&(M.integrity=A.integrity),A.referrerPolicy&&(M.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?M.credentials="include":A.crossOrigin==="anonymous"?M.credentials="omit":M.credentials="same-origin",M}function x(A){if(A.ep)return;A.ep=!0;const M=p(A);fetch(A.href,M)}})();function eie(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var zJ={exports:{}},jM={};var goe;function kue(){if(goe)return jM;goe=1;var l=Symbol.for("react.transitional.element"),u=Symbol.for("react.fragment");function p(x,A,M){var O=null;if(M!==void 0&&(O=""+M),A.key!==void 0&&(O=""+A.key),"key"in A){M={};for(var I in A)I!=="key"&&(M[I]=A[I])}else M=A;return A=M.ref,{$$typeof:l,type:x,key:O,ref:A!==void 0?A:null,props:M}}return jM.Fragment=u,jM.jsx=p,jM.jsxs=p,jM}var poe;function _ue(){return poe||(poe=1,zJ.exports=kue()),zJ.exports}var N=_ue(),jJ={exports:{}},Br={};var boe;function Due(){if(boe)return Br;boe=1;var l=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),O=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),V=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),fe=Symbol.iterator;function Ce(le){return le===null||typeof le!="object"?null:(le=fe&&le[fe]||le["@@iterator"],typeof le=="function"?le:null)}var pe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$e=Object.assign,be={};function ct(le,Ue,Pt){this.props=le,this.context=Ue,this.refs=be,this.updater=Pt||pe}ct.prototype.isReactComponent={},ct.prototype.setState=function(le,Ue){if(typeof le!="object"&&typeof le!="function"&&le!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,le,Ue,"setState")},ct.prototype.forceUpdate=function(le){this.updater.enqueueForceUpdate(this,le,"forceUpdate")};function Oe(){}Oe.prototype=ct.prototype;function J(le,Ue,Pt){this.props=le,this.context=Ue,this.refs=be,this.updater=Pt||pe}var rt=J.prototype=new Oe;rt.constructor=J,$e(rt,ct.prototype),rt.isPureReactComponent=!0;var It=Array.isArray;function qe(){}var ae={H:null,A:null,T:null,S:null},lt=Object.prototype.hasOwnProperty;function En(le,Ue,Pt){var Re=Pt.ref;return{$$typeof:l,type:le,key:Ue,ref:Re!==void 0?Re:null,props:Pt}}function dn(le,Ue){return En(le.type,Ue,le.props)}function We(le){return typeof le=="object"&&le!==null&&le.$$typeof===l}function Ne(le){var Ue={"=":"=0",":":"=2"};return"$"+le.replace(/[=:]/g,function(Pt){return Ue[Pt]})}var Jo=/\/+/g;function yt(le,Ue){return typeof le=="object"&&le!==null&&le.key!=null?Ne(""+le.key):Ue.toString(36)}function Mt(le){switch(le.status){case"fulfilled":return le.value;case"rejected":throw le.reason;default:switch(typeof le.status=="string"?le.then(qe,qe):(le.status="pending",le.then(function(Ue){le.status==="pending"&&(le.status="fulfilled",le.value=Ue)},function(Ue){le.status==="pending"&&(le.status="rejected",le.reason=Ue)})),le.status){case"fulfilled":return le.value;case"rejected":throw le.reason}}throw le}function P(le,Ue,Pt,Re,gt){var He=typeof le;(He==="undefined"||He==="boolean")&&(le=null);var dt=!1;if(le===null)dt=!0;else switch(He){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(le.$$typeof){case l:case u:dt=!0;break;case Y:return dt=le._init,P(dt(le._payload),Ue,Pt,Re,gt)}}if(dt)return gt=gt(le),dt=Re===""?"."+yt(le,0):Re,It(gt)?(Pt="",dt!=null&&(Pt=dt.replace(Jo,"$&/")+"/"),P(gt,Ue,Pt,"",function(Eo){return Eo})):gt!=null&&(We(gt)&&(gt=dn(gt,Pt+(gt.key==null||le&&le.key===gt.key?"":(""+gt.key).replace(Jo,"$&/")+"/")+dt)),Ue.push(gt)),1;dt=0;var X=Re===""?".":Re+":";if(It(le))for(var zo=0;zo<le.length;zo++)Re=le[zo],He=X+yt(Re,zo),dt+=P(Re,Ue,Pt,He,gt);else if(zo=Ce(le),typeof zo=="function")for(le=zo.call(le),zo=0;!(Re=le.next()).done;)Re=Re.value,He=X+yt(Re,zo++),dt+=P(Re,Ue,Pt,He,gt);else if(He==="object"){if(typeof le.then=="function")return P(Mt(le),Ue,Pt,Re,gt);throw Ue=String(le),Error("Objects are not valid as a React child (found: "+(Ue==="[object Object]"?"object with keys {"+Object.keys(le).join(", ")+"}":Ue)+"). If you meant to render a collection of children, use an array instead.")}return dt}function zt(le,Ue,Pt){if(le==null)return le;var Re=[],gt=0;return P(le,Re,"","",function(He){return Ue.call(Pt,He,gt++)}),Re}function at(le){if(le._status===-1){var Ue=le._result;Ue=Ue(),Ue.then(function(Pt){(le._status===0||le._status===-1)&&(le._status=1,le._result=Pt)},function(Pt){(le._status===0||le._status===-1)&&(le._status=2,le._result=Pt)}),le._status===-1&&(le._status=0,le._result=Ue)}if(le._status===1)return le._result.default;throw le._result}var Jn=typeof reportError=="function"?reportError:function(le){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof le=="object"&&le!==null&&typeof le.message=="string"?String(le.message):String(le),error:le});if(!window.dispatchEvent(Ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",le);return}console.error(le)},an={map:zt,forEach:function(le,Ue,Pt){zt(le,function(){Ue.apply(this,arguments)},Pt)},count:function(le){var Ue=0;return zt(le,function(){Ue++}),Ue},toArray:function(le){return zt(le,function(Ue){return Ue})||[]},only:function(le){if(!We(le))throw Error("React.Children.only expected to receive a single React element child.");return le}};return Br.Activity=ee,Br.Children=an,Br.Component=ct,Br.Fragment=p,Br.Profiler=A,Br.PureComponent=J,Br.StrictMode=x,Br.Suspense=U,Br.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Br.__COMPILER_RUNTIME={__proto__:null,c:function(le){return ae.H.useMemoCache(le)}},Br.cache=function(le){return function(){return le.apply(null,arguments)}},Br.cacheSignal=function(){return null},Br.cloneElement=function(le,Ue,Pt){if(le==null)throw Error("The argument must be a React element, but you passed "+le+".");var Re=$e({},le.props),gt=le.key;if(Ue!=null)for(He in Ue.key!==void 0&&(gt=""+Ue.key),Ue)!lt.call(Ue,He)||He==="key"||He==="__self"||He==="__source"||He==="ref"&&Ue.ref===void 0||(Re[He]=Ue[He]);var He=arguments.length-2;if(He===1)Re.children=Pt;else if(1<He){for(var dt=Array(He),X=0;X<He;X++)dt[X]=arguments[X+2];Re.children=dt}return En(le.type,gt,Re)},Br.createContext=function(le){return le={$$typeof:O,_currentValue:le,_currentValue2:le,_threadCount:0,Provider:null,Consumer:null},le.Provider=le,le.Consumer={$$typeof:M,_context:le},le},Br.createElement=function(le,Ue,Pt){var Re,gt={},He=null;if(Ue!=null)for(Re in Ue.key!==void 0&&(He=""+Ue.key),Ue)lt.call(Ue,Re)&&Re!=="key"&&Re!=="__self"&&Re!=="__source"&&(gt[Re]=Ue[Re]);var dt=arguments.length-2;if(dt===1)gt.children=Pt;else if(1<dt){for(var X=Array(dt),zo=0;zo<dt;zo++)X[zo]=arguments[zo+2];gt.children=X}if(le&&le.defaultProps)for(Re in dt=le.defaultProps,dt)gt[Re]===void 0&&(gt[Re]=dt[Re]);return En(le,He,gt)},Br.createRef=function(){return{current:null}},Br.forwardRef=function(le){return{$$typeof:I,render:le}},Br.isValidElement=We,Br.lazy=function(le){return{$$typeof:Y,_payload:{_status:-1,_result:le},_init:at}},Br.memo=function(le,Ue){return{$$typeof:V,type:le,compare:Ue===void 0?null:Ue}},Br.startTransition=function(le){var Ue=ae.T,Pt={};ae.T=Pt;try{var Re=le(),gt=ae.S;gt!==null&&gt(Pt,Re),typeof Re=="object"&&Re!==null&&typeof Re.then=="function"&&Re.then(qe,Jn)}catch(He){Jn(He)}finally{Ue!==null&&Pt.types!==null&&(Ue.types=Pt.types),ae.T=Ue}},Br.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Br.use=function(le){return ae.H.use(le)},Br.useActionState=function(le,Ue,Pt){return ae.H.useActionState(le,Ue,Pt)},Br.useCallback=function(le,Ue){return ae.H.useCallback(le,Ue)},Br.useContext=function(le){return ae.H.useContext(le)},Br.useDebugValue=function(){},Br.useDeferredValue=function(le,Ue){return ae.H.useDeferredValue(le,Ue)},Br.useEffect=function(le,Ue){return ae.H.useEffect(le,Ue)},Br.useEffectEvent=function(le){return ae.H.useEffectEvent(le)},Br.useId=function(){return ae.H.useId()},Br.useImperativeHandle=function(le,Ue,Pt){return ae.H.useImperativeHandle(le,Ue,Pt)},Br.useInsertionEffect=function(le,Ue){return ae.H.useInsertionEffect(le,Ue)},Br.useLayoutEffect=function(le,Ue){return ae.H.useLayoutEffect(le,Ue)},Br.useMemo=function(le,Ue){return ae.H.useMemo(le,Ue)},Br.useOptimistic=function(le,Ue){return ae.H.useOptimistic(le,Ue)},Br.useReducer=function(le,Ue,Pt){return ae.H.useReducer(le,Ue,Pt)},Br.useRef=function(le){return ae.H.useRef(le)},Br.useState=function(le){return ae.H.useState(le)},Br.useSyncExternalStore=function(le,Ue,Pt){return ae.H.useSyncExternalStore(le,Ue,Pt)},Br.useTransition=function(){return ae.H.useTransition()},Br.version="19.2.3",Br}var yoe;function ste(){return yoe||(yoe=1,jJ.exports=Due()),jJ.exports}var ze=ste();const qM=eie(ze);var VJ={exports:{}},VM={},UJ={exports:{}},ZJ={};var voe;function Oue(){return voe||(voe=1,(function(l){function u(P,zt){var at=P.length;P.push(zt);e:for(;0<at;){var Jn=at-1>>>1,an=P[Jn];if(0<A(an,zt))P[Jn]=zt,P[at]=an,at=Jn;else break e}}function p(P){return P.length===0?null:P[0]}function x(P){if(P.length===0)return null;var zt=P[0],at=P.pop();if(at!==zt){P[0]=at;e:for(var Jn=0,an=P.length,le=an>>>1;Jn<le;){var Ue=2*(Jn+1)-1,Pt=P[Ue],Re=Ue+1,gt=P[Re];if(0>A(Pt,at))Re<an&&0>A(gt,Pt)?(P[Jn]=gt,P[Re]=at,Jn=Re):(P[Jn]=Pt,P[Ue]=at,Jn=Ue);else if(Re<an&&0>A(gt,at))P[Jn]=gt,P[Re]=at,Jn=Re;else break e}}return zt}function A(P,zt){var at=P.sortIndex-zt.sortIndex;return at!==0?at:P.id-zt.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var M=performance;l.unstable_now=function(){return M.now()}}else{var O=Date,I=O.now();l.unstable_now=function(){return O.now()-I}}var U=[],V=[],Y=1,ee=null,fe=3,Ce=!1,pe=!1,$e=!1,be=!1,ct=typeof setTimeout=="function"?setTimeout:null,Oe=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function rt(P){for(var zt=p(V);zt!==null;){if(zt.callback===null)x(V);else if(zt.startTime<=P)x(V),zt.sortIndex=zt.expirationTime,u(U,zt);else break;zt=p(V)}}function It(P){if($e=!1,rt(P),!pe)if(p(U)!==null)pe=!0,qe||(qe=!0,Ne());else{var zt=p(V);zt!==null&&Mt(It,zt.startTime-P)}}var qe=!1,ae=-1,lt=5,En=-1;function dn(){return be?!0:!(l.unstable_now()-En<lt)}function We(){if(be=!1,qe){var P=l.unstable_now();En=P;var zt=!0;try{e:{pe=!1,$e&&($e=!1,Oe(ae),ae=-1),Ce=!0;var at=fe;try{t:{for(rt(P),ee=p(U);ee!==null&&!(ee.expirationTime>P&&dn());){var Jn=ee.callback;if(typeof Jn=="function"){ee.callback=null,fe=ee.priorityLevel;var an=Jn(ee.expirationTime<=P);if(P=l.unstable_now(),typeof an=="function"){ee.callback=an,rt(P),zt=!0;break t}ee===p(U)&&x(U),rt(P)}else x(U);ee=p(U)}if(ee!==null)zt=!0;else{var le=p(V);le!==null&&Mt(It,le.startTime-P),zt=!1}}break e}finally{ee=null,fe=at,Ce=!1}zt=void 0}}finally{zt?Ne():qe=!1}}}var Ne;if(typeof J=="function")Ne=function(){J(We)};else if(typeof MessageChannel<"u"){var Jo=new MessageChannel,yt=Jo.port2;Jo.port1.onmessage=We,Ne=function(){yt.postMessage(null)}}else Ne=function(){ct(We,0)};function Mt(P,zt){ae=ct(function(){P(l.unstable_now())},zt)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(P){P.callback=null},l.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):lt=0<P?Math.floor(1e3/P):5},l.unstable_getCurrentPriorityLevel=function(){return fe},l.unstable_next=function(P){switch(fe){case 1:case 2:case 3:var zt=3;break;default:zt=fe}var at=fe;fe=zt;try{return P()}finally{fe=at}},l.unstable_requestPaint=function(){be=!0},l.unstable_runWithPriority=function(P,zt){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var at=fe;fe=P;try{return zt()}finally{fe=at}},l.unstable_scheduleCallback=function(P,zt,at){var Jn=l.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?Jn+at:Jn):at=Jn,P){case 1:var an=-1;break;case 2:an=250;break;case 5:an=1073741823;break;case 4:an=1e4;break;default:an=5e3}return an=at+an,P={id:Y++,callback:zt,priorityLevel:P,startTime:at,expirationTime:an,sortIndex:-1},at>Jn?(P.sortIndex=at,u(V,P),p(U)===null&&P===p(V)&&($e?(Oe(ae),ae=-1):$e=!0,Mt(It,at-Jn))):(P.sortIndex=an,u(U,P),pe||Ce||(pe=!0,qe||(qe=!0,Ne()))),P},l.unstable_shouldYield=dn,l.unstable_wrapCallback=function(P){var zt=fe;return function(){var at=fe;fe=zt;try{return P.apply(this,arguments)}finally{fe=at}}}})(ZJ)),ZJ}var xoe;function Nue(){return xoe||(xoe=1,UJ.exports=Oue()),UJ.exports}var WJ={exports:{}},gh={};var woe;function Rue(){if(woe)return gh;woe=1;var l=ste();function u(U){var V="https://react.dev/errors/"+U;if(1<arguments.length){V+="?args[]="+encodeURIComponent(arguments[1]);for(var Y=2;Y<arguments.length;Y++)V+="&args[]="+encodeURIComponent(arguments[Y])}return"Minified React error #"+U+"; visit "+V+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(){}var x={d:{f:p,r:function(){throw Error(u(522))},D:p,C:p,L:p,m:p,X:p,S:p,M:p},p:0,findDOMNode:null},A=Symbol.for("react.portal");function M(U,V,Y){var ee=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:ee==null?null:""+ee,children:U,containerInfo:V,implementation:Y}}var O=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function I(U,V){if(U==="font")return"";if(typeof V=="string")return V==="use-credentials"?V:""}return gh.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,gh.createPortal=function(U,V){var Y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V||V.nodeType!==1&&V.nodeType!==9&&V.nodeType!==11)throw Error(u(299));return M(U,V,null,Y)},gh.flushSync=function(U){var V=O.T,Y=x.p;try{if(O.T=null,x.p=2,U)return U()}finally{O.T=V,x.p=Y,x.d.f()}},gh.preconnect=function(U,V){typeof U=="string"&&(V?(V=V.crossOrigin,V=typeof V=="string"?V==="use-credentials"?V:"":void 0):V=null,x.d.C(U,V))},gh.prefetchDNS=function(U){typeof U=="string"&&x.d.D(U)},gh.preinit=function(U,V){if(typeof U=="string"&&V&&typeof V.as=="string"){var Y=V.as,ee=I(Y,V.crossOrigin),fe=typeof V.integrity=="string"?V.integrity:void 0,Ce=typeof V.fetchPriority=="string"?V.fetchPriority:void 0;Y==="style"?x.d.S(U,typeof V.precedence=="string"?V.precedence:void 0,{crossOrigin:ee,integrity:fe,fetchPriority:Ce}):Y==="script"&&x.d.X(U,{crossOrigin:ee,integrity:fe,fetchPriority:Ce,nonce:typeof V.nonce=="string"?V.nonce:void 0})}},gh.preinitModule=function(U,V){if(typeof U=="string")if(typeof V=="object"&&V!==null){if(V.as==null||V.as==="script"){var Y=I(V.as,V.crossOrigin);x.d.M(U,{crossOrigin:Y,integrity:typeof V.integrity=="string"?V.integrity:void 0,nonce:typeof V.nonce=="string"?V.nonce:void 0})}}else V==null&&x.d.M(U)},gh.preload=function(U,V){if(typeof U=="string"&&typeof V=="object"&&V!==null&&typeof V.as=="string"){var Y=V.as,ee=I(Y,V.crossOrigin);x.d.L(U,Y,{crossOrigin:ee,integrity:typeof V.integrity=="string"?V.integrity:void 0,nonce:typeof V.nonce=="string"?V.nonce:void 0,type:typeof V.type=="string"?V.type:void 0,fetchPriority:typeof V.fetchPriority=="string"?V.fetchPriority:void 0,referrerPolicy:typeof V.referrerPolicy=="string"?V.referrerPolicy:void 0,imageSrcSet:typeof V.imageSrcSet=="string"?V.imageSrcSet:void 0,imageSizes:typeof V.imageSizes=="string"?V.imageSizes:void 0,media:typeof V.media=="string"?V.media:void 0})}},gh.preloadModule=function(U,V){if(typeof U=="string")if(V){var Y=I(V.as,V.crossOrigin);x.d.m(U,{as:typeof V.as=="string"&&V.as!=="script"?V.as:void 0,crossOrigin:Y,integrity:typeof V.integrity=="string"?V.integrity:void 0})}else x.d.m(U)},gh.requestFormReset=function(U){x.d.r(U)},gh.unstable_batchedUpdates=function(U,V){return U(V)},gh.useFormState=function(U,V,Y){return O.H.useFormState(U,V,Y)},gh.useFormStatus=function(){return O.H.useHostTransitionStatus()},gh.version="19.2.3",gh}var Coe;function Mue(){if(Coe)return WJ.exports;Coe=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(u){console.error(u)}}return l(),WJ.exports=Rue(),WJ.exports}var Soe;function Bue(){if(Soe)return VM;Soe=1;var l=Nue(),u=ste(),p=Mue();function x(a){var d="https://react.dev/errors/"+a;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+a+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function A(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function M(a){var d=a,g=a;if(a.alternate)for(;d.return;)d=d.return;else{a=d;do d=a,(d.flags&4098)!==0&&(g=d.return),a=d.return;while(a)}return d.tag===3?g:null}function O(a){if(a.tag===13){var d=a.memoizedState;if(d===null&&(a=a.alternate,a!==null&&(d=a.memoizedState)),d!==null)return d.dehydrated}return null}function I(a){if(a.tag===31){var d=a.memoizedState;if(d===null&&(a=a.alternate,a!==null&&(d=a.memoizedState)),d!==null)return d.dehydrated}return null}function U(a){if(M(a)!==a)throw Error(x(188))}function V(a){var d=a.alternate;if(!d){if(d=M(a),d===null)throw Error(x(188));return d!==a?null:a}for(var g=a,C=d;;){var R=g.return;if(R===null)break;var $=R.alternate;if($===null){if(C=R.return,C!==null){g=C;continue}break}if(R.child===$.child){for($=R.child;$;){if($===g)return U(R),a;if($===C)return U(R),d;$=$.sibling}throw Error(x(188))}if(g.return!==C.return)g=R,C=$;else{for(var se=!1,de=R.child;de;){if(de===g){se=!0,g=R,C=$;break}if(de===C){se=!0,C=R,g=$;break}de=de.sibling}if(!se){for(de=$.child;de;){if(de===g){se=!0,g=$,C=R;break}if(de===C){se=!0,C=$,g=R;break}de=de.sibling}if(!se)throw Error(x(189))}}if(g.alternate!==C)throw Error(x(190))}if(g.tag!==3)throw Error(x(188));return g.stateNode.current===g?a:d}function Y(a){var d=a.tag;if(d===5||d===26||d===27||d===6)return a;for(a=a.child;a!==null;){if(d=Y(a),d!==null)return d;a=a.sibling}return null}var ee=Object.assign,fe=Symbol.for("react.element"),Ce=Symbol.for("react.transitional.element"),pe=Symbol.for("react.portal"),$e=Symbol.for("react.fragment"),be=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),Oe=Symbol.for("react.consumer"),J=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),It=Symbol.for("react.suspense"),qe=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),lt=Symbol.for("react.lazy"),En=Symbol.for("react.activity"),dn=Symbol.for("react.memo_cache_sentinel"),We=Symbol.iterator;function Ne(a){return a===null||typeof a!="object"?null:(a=We&&a[We]||a["@@iterator"],typeof a=="function"?a:null)}var Jo=Symbol.for("react.client.reference");function yt(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Jo?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case $e:return"Fragment";case ct:return"Profiler";case be:return"StrictMode";case It:return"Suspense";case qe:return"SuspenseList";case En:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case pe:return"Portal";case J:return a.displayName||"Context";case Oe:return(a._context.displayName||"Context")+".Consumer";case rt:var d=a.render;return a=a.displayName,a||(a=d.displayName||d.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ae:return d=a.displayName||null,d!==null?d:yt(a.type)||"Memo";case lt:d=a._payload,a=a._init;try{return yt(a(d))}catch{}}return null}var Mt=Array.isArray,P=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,zt=p.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},Jn=[],an=-1;function le(a){return{current:a}}function Ue(a){0>an||(a.current=Jn[an],Jn[an]=null,an--)}function Pt(a,d){an++,Jn[an]=a.current,a.current=d}var Re=le(null),gt=le(null),He=le(null),dt=le(null);function X(a,d){switch(Pt(He,d),Pt(gt,a),Pt(Re,null),d.nodeType){case 9:case 11:a=(a=d.documentElement)&&(a=a.namespaceURI)?By(a):0;break;default:if(a=d.tagName,d=d.namespaceURI)d=By(d),a=xb(d,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Ue(Re),Pt(Re,a)}function zo(){Ue(Re),Ue(gt),Ue(He)}function Eo(a){a.memoizedState!==null&&Pt(dt,a);var d=Re.current,g=xb(d,a.type);d!==g&&(Pt(gt,a),Pt(Re,g))}function Lo(a){gt.current===a&&(Ue(Re),Ue(gt)),dt.current===a&&(Ue(dt),cd._currentValue=at)}var jo,Ks;function Be(a){if(jo===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);jo=d&&d[1]||"",Ks=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jo+a+Ks}var Ye=!1;function et(a,d){if(!a||Ye)return"";Ye=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(d){var An=function(){throw Error()};if(Object.defineProperty(An.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(An,[])}catch(sn){var Yt=sn}Reflect.construct(a,[],An)}else{try{An.call()}catch(sn){Yt=sn}a.call(An.prototype)}}else{try{throw Error()}catch(sn){Yt=sn}(An=a())&&typeof An.catch=="function"&&An.catch(function(){})}}catch(sn){if(sn&&Yt&&typeof sn.stack=="string")return[sn.stack,Yt.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var $=C.DetermineComponentFrameRoot(),se=$[0],de=$[1];if(se&&de){var it=se.split(`
`),Vt=de.split(`
`);for(R=C=0;C<it.length&&!it[C].includes("DetermineComponentFrameRoot");)C++;for(;R<Vt.length&&!Vt[R].includes("DetermineComponentFrameRoot");)R++;if(C===it.length||R===Vt.length)for(C=it.length-1,R=Vt.length-1;1<=C&&0<=R&&it[C]!==Vt[R];)R--;for(;1<=C&&0<=R;C--,R--)if(it[C]!==Vt[R]){if(C!==1||R!==1)do if(C--,R--,0>R||it[C]!==Vt[R]){var gn=`
`+it[C].replace(" at new "," at ");return a.displayName&&gn.includes("<anonymous>")&&(gn=gn.replace("<anonymous>",a.displayName)),gn}while(1<=C&&0<=R);break}}}finally{Ye=!1,Error.prepareStackTrace=g}return(g=a?a.displayName||a.name:"")?Be(g):""}function Le(a,d){switch(a.tag){case 26:case 27:case 5:return Be(a.type);case 16:return Be("Lazy");case 13:return a.child!==d&&d!==null?Be("Suspense Fallback"):Be("Suspense");case 19:return Be("SuspenseList");case 0:case 15:return et(a.type,!1);case 11:return et(a.type.render,!1);case 1:return et(a.type,!0);case 31:return Be("Activity");default:return""}}function Je(a){try{var d="",g=null;do d+=Le(a,g),g=a,a=a.return;while(a);return d}catch(C){return`
Error generating stack: `+C.message+`
`+C.stack}}var Ot=Object.prototype.hasOwnProperty,xt=l.unstable_scheduleCallback,jn=l.unstable_cancelCallback,go=l.unstable_shouldYield,vt=l.unstable_requestPaint,ln=l.unstable_now,Un=l.unstable_getCurrentPriorityLevel,Qo=l.unstable_ImmediatePriority,mr=l.unstable_UserBlockingPriority,gs=l.unstable_NormalPriority,Io=l.unstable_LowPriority,Gr=l.unstable_IdlePriority,_s=l.log,Ms=l.unstable_setDisableYieldValue,Ra=null,Kr=null;function Or(a){if(typeof _s=="function"&&Ms(a),Kr&&typeof Kr.setStrictMode=="function")try{Kr.setStrictMode(Ra,a)}catch{}}var xs=Math.clz32?Math.clz32:Xr,Yr=Math.log,Is=Math.LN2;function Xr(a){return a>>>=0,a===0?32:31-(Yr(a)/Is|0)|0}var Ma=256,$n=262144,Yo=4194304;function _o(a){var d=a&42;if(d!==0)return d;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ui(a,d,g){var C=a.pendingLanes;if(C===0)return 0;var R=0,$=a.suspendedLanes,se=a.pingedLanes;a=a.warmLanes;var de=C&134217727;return de!==0?(C=de&~$,C!==0?R=_o(C):(se&=de,se!==0?R=_o(se):g||(g=de&~a,g!==0&&(R=_o(g))))):(de=C&~$,de!==0?R=_o(de):se!==0?R=_o(se):g||(g=C&~a,g!==0&&(R=_o(g)))),R===0?0:d!==0&&d!==R&&(d&$)===0&&($=R&-R,g=d&-d,$>=g||$===32&&(g&4194048)!==0)?d:R}function Ba(a,d){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&d)===0}function Nn(a,d){switch(a){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ut(){var a=Yo;return Yo<<=1,(Yo&62914560)===0&&(Yo=4194304),a}function qt(a){for(var d=[],g=0;31>g;g++)d.push(a);return d}function Gn(a,d){a.pendingLanes|=d,d!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Wn(a,d,g,C,R,$){var se=a.pendingLanes;a.pendingLanes=g,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=g,a.entangledLanes&=g,a.errorRecoveryDisabledLanes&=g,a.shellSuspendCounter=0;var de=a.entanglements,it=a.expirationTimes,Vt=a.hiddenUpdates;for(g=se&~g;0<g;){var gn=31-xs(g),An=1<<gn;de[gn]=0,it[gn]=-1;var Yt=Vt[gn];if(Yt!==null)for(Vt[gn]=null,gn=0;gn<Yt.length;gn++){var sn=Yt[gn];sn!==null&&(sn.lane&=-536870913)}g&=~An}C!==0&&yo(a,C,0),$!==0&&R===0&&a.tag!==0&&(a.suspendedLanes|=$&~(se&~d))}function yo(a,d,g){a.pendingLanes|=d,a.suspendedLanes&=~d;var C=31-xs(d);a.entangledLanes|=d,a.entanglements[C]=a.entanglements[C]|1073741824|g&261930}function Do(a,d){var g=a.entangledLanes|=d;for(a=a.entanglements;g;){var C=31-xs(g),R=1<<C;R&d|a[C]&d&&(a[C]|=d),g&=~R}}function Yn(a,d){var g=d&-d;return g=(g&42)!==0?1:ss(g),(g&(a.suspendedLanes|d))!==0?0:g}function ss(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function La(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function sl(){var a=zt.p;return a!==0?a:(a=window.event,a===void 0?32:Db(a.type))}function gi(a,d){var g=zt.p;try{return zt.p=a,d()}finally{zt.p=g}}var Bn=Math.random().toString(36).slice(2),Ys="__reactFiber$"+Bn,Xs="__reactProps$"+Bn,jl="__reactContainer$"+Bn,Pe="__reactEvents$"+Bn,Ve="__reactListeners$"+Bn,tt="__reactHandles$"+Bn,mn="__reactResources$"+Bn,To="__reactMarker$"+Bn;function lo(a){delete a[Ys],delete a[Xs],delete a[Pe],delete a[Ve],delete a[tt]}function Vo(a){var d=a[Ys];if(d)return d;for(var g=a.parentNode;g;){if(d=g[jl]||g[Ys]){if(g=d.alternate,d.child!==null||g!==null&&g.child!==null)for(a=ba(a);a!==null;){if(g=a[Ys])return g;a=ba(a)}return d}a=g,g=a.parentNode}return null}function is(a){if(a=a[Ys]||a[jl]){var d=a.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return a}return null}function Ao(a){var d=a.tag;if(d===5||d===26||d===27||d===6)return a.stateNode;throw Error(x(33))}function qs(a){var d=a[mn];return d||(d=a[mn]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function me(a){a[To]=!0}var je=new Set,jt={};function yn(a,d){Wt(a,d),Wt(a+"Capture",d)}function Wt(a,d){for(jt[a]=d,a=0;a<d.length;a++)je.add(d[a])}var vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),to={},Rn={};function Ho(a){return Ot.call(Rn,a)?!0:Ot.call(to,a)?!1:vo.test(a)?Rn[a]=!0:(to[a]=!0,!1)}function ps(a,d,g){if(Ho(d))if(g===null)a.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":a.removeAttribute(d);return;case"boolean":var C=d.toLowerCase().slice(0,5);if(C!=="data-"&&C!=="aria-"){a.removeAttribute(d);return}}a.setAttribute(d,""+g)}}function ws(a,d,g){if(g===null)a.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttribute(d,""+g)}}function Cs(a,d,g,C){if(C===null)a.removeAttribute(g);else{switch(typeof C){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(g);return}a.setAttributeNS(d,g,""+C)}}function oa(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ca(a){var d=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Qf(a,d,g){var C=Object.getOwnPropertyDescriptor(a.constructor.prototype,d);if(!a.hasOwnProperty(d)&&typeof C<"u"&&typeof C.get=="function"&&typeof C.set=="function"){var R=C.get,$=C.set;return Object.defineProperty(a,d,{configurable:!0,get:function(){return R.call(this)},set:function(se){g=""+se,$.call(this,se)}}),Object.defineProperty(a,d,{enumerable:C.enumerable}),{getValue:function(){return g},setValue:function(se){g=""+se},stopTracking:function(){a._valueTracker=null,delete a[d]}}}}function wr(a){if(!a._valueTracker){var d=Ca(a)?"checked":"value";a._valueTracker=Qf(a,d,""+a[d])}}function Bs(a){if(!a)return!1;var d=a._valueTracker;if(!d)return!0;var g=d.getValue(),C="";return a&&(C=Ca(a)?a.checked?"true":"false":a.value),a=C,a!==g?(d.setValue(a),!0):!1}function or(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Vi=/[\n"\\]/g;function Ci(a){return a.replace(Vi,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Lr(a,d,g,C,R,$,se,de){a.name="",se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?a.type=se:a.removeAttribute("type"),d!=null?se==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+oa(d)):a.value!==""+oa(d)&&(a.value=""+oa(d)):se!=="submit"&&se!=="reset"||a.removeAttribute("value"),d!=null?Si(a,se,oa(d)):g!=null?Si(a,se,oa(g)):C!=null&&a.removeAttribute("value"),R==null&&$!=null&&(a.defaultChecked=!!$),R!=null&&(a.checked=R&&typeof R!="function"&&typeof R!="symbol"),de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"?a.name=""+oa(de):a.removeAttribute("name")}function xo(a,d,g,C,R,$,se,de){if($!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(a.type=$),d!=null||g!=null){if(!($!=="submit"&&$!=="reset"||d!=null)){wr(a);return}g=g!=null?""+oa(g):"",d=d!=null?""+oa(d):g,de||d===a.value||(a.value=d),a.defaultValue=d}C=C??R,C=typeof C!="function"&&typeof C!="symbol"&&!!C,a.checked=de?a.checked:!!C,a.defaultChecked=!!C,se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"&&(a.name=se),wr(a)}function Si(a,d,g){d==="number"&&or(a.ownerDocument)===a||a.defaultValue===""+g||(a.defaultValue=""+g)}function oi(a,d,g,C){if(a=a.options,d){d={};for(var R=0;R<g.length;R++)d["$"+g[R]]=!0;for(g=0;g<a.length;g++)R=d.hasOwnProperty("$"+a[g].value),a[g].selected!==R&&(a[g].selected=R),R&&C&&(a[g].defaultSelected=!0)}else{for(g=""+oa(g),d=null,R=0;R<a.length;R++){if(a[R].value===g){a[R].selected=!0,C&&(a[R].defaultSelected=!0);return}d!==null||a[R].disabled||(d=a[R])}d!==null&&(d.selected=!0)}}function Qr(a,d,g){if(d!=null&&(d=""+oa(d),d!==a.value&&(a.value=d),g==null)){a.defaultValue!==d&&(a.defaultValue=d);return}a.defaultValue=g!=null?""+oa(g):""}function Sf(a,d,g,C){if(d==null){if(C!=null){if(g!=null)throw Error(x(92));if(Mt(C)){if(1<C.length)throw Error(x(93));C=C[0]}g=C}g==null&&(g=""),d=g}g=oa(d),a.defaultValue=g,C=a.textContent,C===g&&C!==""&&C!==null&&(a.value=C),wr(a)}function uc(a,d){if(d){var g=a.firstChild;if(g&&g===a.lastChild&&g.nodeType===3){g.nodeValue=d;return}}a.textContent=d}var Fr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cu(a,d,g){var C=d.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?C?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="":C?a.setProperty(d,g):typeof g!="number"||g===0||Fr.has(d)?d==="float"?a.cssFloat=g:a[d]=(""+g).trim():a[d]=g+"px"}function dc(a,d,g){if(d!=null&&typeof d!="object")throw Error(x(62));if(a=a.style,g!=null){for(var C in g)!g.hasOwnProperty(C)||d!=null&&d.hasOwnProperty(C)||(C.indexOf("--")===0?a.setProperty(C,""):C==="float"?a.cssFloat="":a[C]="");for(var R in d)C=d[R],d.hasOwnProperty(R)&&g[R]!==C&&Cu(a,R,C)}else for(var $ in d)d.hasOwnProperty($)&&Cu(a,$,d[$])}function Ef(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Su=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ri(a){return Su.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function pi(){}var jr=null;function Kd(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ei=null,rl=null;function Tf(a){var d=is(a);if(d&&(a=d.stateNode)){var g=a[Xs]||null;e:switch(a=d.stateNode,d.type){case"input":if(Lr(a,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),d=g.name,g.type==="radio"&&d!=null){for(g=a;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Ci(""+d)+'"][type="radio"]'),d=0;d<g.length;d++){var C=g[d];if(C!==a&&C.form===a.form){var R=C[Xs]||null;if(!R)throw Error(x(90));Lr(C,R.value,R.defaultValue,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name)}}for(d=0;d<g.length;d++)C=g[d],C.form===a.form&&Bs(C)}break e;case"textarea":Qr(a,g.value,g.defaultValue);break e;case"select":d=g.value,d!=null&&oi(a,!!g.multiple,d,!1)}}}var Jf=!1;function Eu(a,d,g){if(Jf)return a(d,g);Jf=!0;try{var C=a(d);return C}finally{if(Jf=!1,(Ei!==null||rl!==null)&&(Vp(),Ei&&(d=Ei,a=rl,rl=Ei=null,Tf(d),a)))for(d=0;d<a.length;d++)Tf(a[d])}}function Yd(a,d){var g=a.stateNode;if(g===null)return null;var C=g[Xs]||null;if(C===null)return null;g=C[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(a=a.type,C=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!C;break e;default:a=!1}if(a)return null;if(g&&typeof g!="function")throw Error(x(231,d,typeof g));return g}var _l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qc=!1;if(_l)try{var Gc={};Object.defineProperty(Gc,"passive",{get:function(){qc=!0}}),window.addEventListener("test",Gc,Gc),window.removeEventListener("test",Gc,Gc)}catch{qc=!1}var un=null,Tu=null,yd=null;function Vl(){if(yd)return yd;var a,d=Tu,g=d.length,C,R="value"in un?un.value:un.textContent,$=R.length;for(a=0;a<g&&d[a]===R[a];a++);var se=g-a;for(C=1;C<=se&&d[g-C]===R[$-C];C++);return yd=R.slice(a,1<C?1-C:void 0)}function al(a){var d=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&d===13&&(a=13)):a=d,a===10&&(a=13),32<=a||a===13?a:0}function Uu(){return!0}function Ui(){return!1}function si(a){function d(g,C,R,$,se){this._reactName=g,this._targetInst=R,this.type=C,this.nativeEvent=$,this.target=se,this.currentTarget=null;for(var de in a)a.hasOwnProperty(de)&&(g=a[de],this[de]=g?g($):$[de]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?Uu:Ui,this.isPropagationStopped=Ui,this}return ee(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Uu)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Uu)},persist:function(){},isPersistent:Uu}),d}var Dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fc=si(Dl),Vs=ee({},Dl,{view:0,detail:0}),Af=si(Vs),te,ve,Fe,Dt=ee({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mi,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Fe&&(Fe&&a.type==="mousemove"?(te=a.screenX-Fe.screenX,ve=a.screenY-Fe.screenY):ve=te=0,Fe=a),te)},movementY:function(a){return"movementY"in a?a.movementY:ve}}),Zn=si(Dt),fs=ee({},Dt,{dataTransfer:0}),sr=si(fs),Ua=ee({},Vs,{relatedTarget:0}),Ti=si(Ua),Ol=ee({},Dl,{animationName:0,elapsedTime:0,pseudoElement:0}),oe=si(Ol),Ae=ee({},Dl,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Xe=si(Ae),Et=ee({},Dl,{data:0}),hn=si(Et),Vn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Us={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ts(a){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(a):(a=Us[a])?!!d[a]:!1}function Mi(){return Ts}var Sa=ee({},Vs,{key:function(a){if(a.key){var d=Vn[a.key]||a.key;if(d!=="Unidentified")return d}return a.type==="keypress"?(a=al(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Mo[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mi,charCode:function(a){return a.type==="keypress"?al(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?al(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Xd=si(Sa),Om=ee({},Dt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kf=si(Om),Kc=ee({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mi}),R0=si(Kc),M0=ee({},Dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),ye=si(M0),Me=ee({},Dt,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ft=si(Me),Kt=ee({},Dl,{newState:0,oldState:0}),po=si(Kt),ms=[9,13,27,32],Ea=_l&&"CompositionEvent"in window,il=null;_l&&"documentMode"in document&&(il=document.documentMode);var Zi=_l&&"TextEvent"in window&&!il,Ul=_l&&(!Ea||il&&8<il&&11>=il),Qd=" ",Zl=!1;function Nm(a,d){switch(a){case"keyup":return ms.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ll=!1;function Jd(a,d){switch(a){case"compositionend":return Wl(d);case"keypress":return d.which!==32?null:(Zl=!0,Qd);case"textInput":return a=d.data,a===Qd&&Zl?null:a;default:return null}}function Dc(a,d){if(ll)return a==="compositionend"||!Ea&&Nm(a,d)?(a=Vl(),yd=Tu=un=null,ll=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Ul&&d.locale!=="ko"?null:d.data;default:return null}}var ls={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vh(a){var d=a&&a.nodeName&&a.nodeName.toLowerCase();return d==="input"?!!ls[a.type]:d==="textarea"}function pp(a,d,g,C){Ei?rl?rl.push(C):rl=[C]:Ei=C,d=Hf(d,"onChange"),0<d.length&&(g=new fc("onChange","change",null,g,C),a.push({event:g,listeners:d}))}var Ta=null,B0=null;function V1(a){Vh(a,0)}function U1(a){var d=Ao(a);if(Bs(d))return a}function Z1(a,d){if(a==="change")return d}var Za=!1;if(_l){var em;if(_l){var W1="oninput"in document;if(!W1){var on=document.createElement("div");on.setAttribute("oninput","return;"),W1=typeof on.oninput=="function"}em=W1}else em=!1;Za=em&&(!document.documentMode||9<document.documentMode)}function Yc(){Ta&&(Ta.detachEvent("onpropertychange",bg),B0=Ta=null)}function bg(a){if(a.propertyName==="value"&&U1(B0)){var d=[];pp(d,B0,a,Kd(a)),Eu(V1,d)}}function vd(a,d,g){a==="focusin"?(Yc(),Ta=d,B0=g,Ta.attachEvent("onpropertychange",bg)):a==="focusout"&&Yc()}function yg(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return U1(B0)}function q1(a,d){if(a==="click")return U1(d)}function _e(a,d){if(a==="input"||a==="change")return U1(d)}function Xc(a,d){return a===d&&(a!==0||1/a===1/d)||a!==a&&d!==d}var vl=typeof Object.is=="function"?Object.is:Xc;function xh(a,d){if(vl(a,d))return!0;if(typeof a!="object"||a===null||typeof d!="object"||d===null)return!1;var g=Object.keys(a),C=Object.keys(d);if(g.length!==C.length)return!1;for(C=0;C<g.length;C++){var R=g[C];if(!Ot.call(d,R)||!vl(a[R],d[R]))return!1}return!0}function wh(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Nl(a,d){var g=wh(a);a=0;for(var C;g;){if(g.nodeType===3){if(C=a+g.textContent.length,a<=d&&C>=d)return{node:g,offset:d-a};a=C}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=wh(g)}}function Oc(a,d){return a&&d?a===d?!0:a&&a.nodeType===3?!1:d&&d.nodeType===3?Oc(a,d.parentNode):"contains"in a?a.contains(d):a.compareDocumentPosition?!!(a.compareDocumentPosition(d)&16):!1:!1}function L0(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var d=or(a.document);d instanceof a.HTMLIFrameElement;){try{var g=typeof d.contentWindow.location.href=="string"}catch{g=!1}if(g)a=d.contentWindow;else break;d=or(a.document)}return d}function bp(a){var d=a&&a.nodeName&&a.nodeName.toLowerCase();return d&&(d==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||d==="textarea"||a.contentEditable==="true")}var yp=_l&&"documentMode"in document&&11>=document.documentMode,xl=null,vp=null,Au=null,Ch=!1;function F0(a,d,g){var C=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Ch||xl==null||xl!==or(C)||(C=xl,"selectionStart"in C&&bp(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),Au&&xh(Au,C)||(Au=C,C=Hf(vp,"onSelect"),0<C.length&&(d=new fc("onSelect","select",null,d,g),a.push({event:d,listeners:C}),d.target=xl)))}function wl(a,d){var g={};return g[a.toLowerCase()]=d.toLowerCase(),g["Webkit"+a]="webkit"+d,g["Moz"+a]="moz"+d,g}var Rm={animationend:wl("Animation","AnimationEnd"),animationiteration:wl("Animation","AnimationIteration"),animationstart:wl("Animation","AnimationStart"),transitionrun:wl("Transition","TransitionRun"),transitionstart:wl("Transition","TransitionStart"),transitioncancel:wl("Transition","TransitionCancel"),transitionend:wl("Transition","TransitionEnd")},Zu={},tm={};_l&&(tm=document.createElement("div").style,"AnimationEvent"in window||(delete Rm.animationend.animation,delete Rm.animationiteration.animation,delete Rm.animationstart.animation),"TransitionEvent"in window||delete Rm.transitionend.transition);function es(a){if(Zu[a])return Zu[a];if(!Rm[a])return a;var d=Rm[a],g;for(g in d)if(d.hasOwnProperty(g)&&g in tm)return Zu[a]=d[g];return a}var mc=es("animationend"),Sh=es("animationiteration"),G1=es("animationstart"),ts=es("transitionrun"),nm=es("transitionstart"),Ai=es("transitioncancel"),xd=es("transitionend"),wd=new Map,da="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");da.push("scrollEnd");function bs(a,d){wd.set(a,d),yn(d,[a])}var P0=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Cd=[],Fa=0,ku=0;function Qc(){for(var a=Fa,d=ku=Fa=0;d<a;){var g=Cd[d];Cd[d++]=null;var C=Cd[d];Cd[d++]=null;var R=Cd[d];Cd[d++]=null;var $=Cd[d];if(Cd[d++]=null,C!==null&&R!==null){var se=C.pending;se===null?R.next=R:(R.next=se.next,se.next=R),C.pending=R}$!==0&&Jc(g,R,$)}}function ri(a,d,g,C){Cd[Fa++]=a,Cd[Fa++]=d,Cd[Fa++]=g,Cd[Fa++]=C,ku|=C,a.lanes|=C,a=a.alternate,a!==null&&(a.lanes|=C)}function Wu(a,d,g,C){return ri(a,d,g,C),cl(a)}function Wi(a,d){return ri(a,null,null,d),cl(a)}function Jc(a,d,g){a.lanes|=g;var C=a.alternate;C!==null&&(C.lanes|=g);for(var R=!1,$=a.return;$!==null;)$.childLanes|=g,C=$.alternate,C!==null&&(C.childLanes|=g),$.tag===22&&(a=$.stateNode,a===null||a._visibility&1||(R=!0)),a=$,$=$.return;return a.tag===3?($=a.stateNode,R&&d!==null&&(R=31-xs(g),a=$.hiddenUpdates,C=a[R],C===null?a[R]=[d]:C.push(d),d.lane=g|536870912),$):null}function cl(a){if(50<jp)throw jp=0,K0=null,Error(x(185));for(var d=a.return;d!==null;)a=d,d=a.return;return a.tag===3?a.stateNode:null}var Ls={};function qu(a,d,g,C){this.tag=a,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wa(a,d,g,C){return new qu(a,d,g,C)}function qi(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Pa(a,d){var g=a.alternate;return g===null?(g=Wa(a.tag,d,a.key,a.mode),g.elementType=a.elementType,g.type=a.type,g.stateNode=a.stateNode,g.alternate=a,a.alternate=g):(g.pendingProps=d,g.type=a.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=a.flags&65011712,g.childLanes=a.childLanes,g.lanes=a.lanes,g.child=a.child,g.memoizedProps=a.memoizedProps,g.memoizedState=a.memoizedState,g.updateQueue=a.updateQueue,d=a.dependencies,g.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},g.sibling=a.sibling,g.index=a.index,g.ref=a.ref,g.refCleanup=a.refCleanup,g}function fa(a,d){a.flags&=65011714;var g=a.alternate;return g===null?(a.childLanes=0,a.lanes=d,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=g.childLanes,a.lanes=g.lanes,a.child=g.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=g.memoizedProps,a.memoizedState=g.memoizedState,a.updateQueue=g.updateQueue,a.type=g.type,d=g.dependencies,a.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),a}function eu(a,d,g,C,R,$){var se=0;if(C=a,typeof a=="function")qi(a)&&(se=1);else if(typeof a=="string")se=ym(a,g,Re.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case En:return a=Wa(31,g,d,R),a.elementType=En,a.lanes=$,a;case $e:return ai(g.children,R,$,d);case be:se=8,R|=24;break;case ct:return a=Wa(12,g,d,R|2),a.elementType=ct,a.lanes=$,a;case It:return a=Wa(13,g,d,R),a.elementType=It,a.lanes=$,a;case qe:return a=Wa(19,g,d,R),a.elementType=qe,a.lanes=$,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case J:se=10;break e;case Oe:se=9;break e;case rt:se=11;break e;case ae:se=14;break e;case lt:se=16,C=null;break e}se=29,g=Error(x(130,a===null?"null":typeof a,"")),C=null}return d=Wa(se,g,d,R),d.elementType=a,d.type=C,d.lanes=$,d}function ai(a,d,g,C){return a=Wa(7,a,C,d),a.lanes=g,a}function ii(a,d,g){return a=Wa(6,a,null,d),a.lanes=g,a}function om(a){var d=Wa(18,null,null,0);return d.stateNode=a,d}function xp(a,d,g){return d=Wa(4,a.children!==null?a.children:[],a.key,d),d.lanes=g,d.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},d}var wp=new WeakMap;function sa(a,d){if(typeof a=="object"&&a!==null){var g=wp.get(a);return g!==void 0?g:(d={value:a,source:d,stack:Je(d)},wp.set(a,d),d)}return{value:a,source:d,stack:Je(d)}}var Mm=[],Eh=0,_f=null,co=0,_u=[],Jr=0,li=null,$a=1,rr="";function Nc(a,d){Mm[Eh++]=co,Mm[Eh++]=_f,_f=a,co=d}function Cp(a,d,g){_u[Jr++]=$a,_u[Jr++]=rr,_u[Jr++]=li,li=a;var C=$a;a=rr;var R=32-xs(C)-1;C&=~(1<<R),g+=1;var $=32-xs(d)+R;if(30<$){var se=R-R%5;$=(C&(1<<se)-1).toString(32),C>>=se,R-=se,$a=1<<32-xs(d)+R|g<<R|C,rr=$+a}else $a=1<<$|g<<R|C,rr=a}function tu(a){a.return!==null&&(Nc(a,1),Cp(a,1,0))}function Gu(a){for(;a===_f;)_f=Mm[--Eh],Mm[Eh]=null,co=Mm[--Eh],Mm[Eh]=null;for(;a===li;)li=_u[--Jr],_u[Jr]=null,rr=_u[--Jr],_u[Jr]=null,$a=_u[--Jr],_u[Jr]=null}function vg(a,d){_u[Jr++]=$a,_u[Jr++]=rr,_u[Jr++]=li,$a=d.id,rr=d.overflow,li=a}var Cl=null,Ia=null,Gs=!1,Rl=null,Du=!1,ul=Error(x(519));function Sl(a){var d=Error(x(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hc(sa(d,a)),ul}function ef(a){var d=a.stateNode,g=a.type,C=a.memoizedProps;switch(d[Ys]=a,d[Xs]=C,g){case"dialog":_r("cancel",d),_r("close",d);break;case"iframe":case"object":case"embed":_r("load",d);break;case"video":case"audio":for(g=0;g<yb.length;g++)_r(yb[g],d);break;case"source":_r("error",d);break;case"img":case"image":case"link":_r("error",d),_r("load",d);break;case"details":_r("toggle",d);break;case"input":_r("invalid",d),xo(d,C.value,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name,!0);break;case"select":_r("invalid",d);break;case"textarea":_r("invalid",d),Sf(d,C.value,C.defaultValue,C.children)}g=C.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||d.textContent===""+g||C.suppressHydrationWarning===!0||Ig(d.textContent,g)?(C.popover!=null&&(_r("beforetoggle",d),_r("toggle",d)),C.onScroll!=null&&_r("scroll",d),C.onScrollEnd!=null&&_r("scrollend",d),C.onClick!=null&&(d.onclick=pi),d=!0):d=!1,d||Sl(a,!0)}function Fs(a){for(Cl=a.return;Cl;)switch(Cl.tag){case 5:case 31:case 13:Du=!1;return;case 27:case 3:Du=!0;return;default:Cl=Cl.return}}function Ml(a){if(a!==Cl)return!1;if(!Gs)return Fs(a),Gs=!0,!1;var d=a.tag,g;if((g=d!==3&&d!==27)&&((g=d===5)&&(g=a.type,g=!(g!=="form"&&g!=="button")||Zh(a.type,a.memoizedProps)),g=!g),g&&Ia&&Sl(a),Fs(a),d===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(x(317));Ia=kl(a)}else if(d===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(x(317));Ia=kl(a)}else d===27?(d=Ia,ld(a.type)?(a=Al,Al=null,Ia=a):Ia=d):Ia=Cl?Ur(a.stateNode.nextSibling):null;return!0}function Bm(){Ia=Cl=null,Gs=!1}function Th(){var a=Rl;return a!==null&&(od===null?od=a:od.push.apply(od,a),Rl=null),a}function hc(a){Rl===null?Rl=[a]:Rl.push(a)}var wo=le(null),Ar=null,qa=null;function hr(a,d,g){Pt(wo,d._currentValue),d._currentValue=g}function dl(a){a._currentValue=wo.current,Ue(wo)}function Vr(a,d,g){for(;a!==null;){var C=a.alternate;if((a.childLanes&d)!==d?(a.childLanes|=d,C!==null&&(C.childLanes|=d)):C!==null&&(C.childLanes&d)!==d&&(C.childLanes|=d),a===g)break;a=a.return}}function ci(a,d,g,C){var R=a.child;for(R!==null&&(R.return=a);R!==null;){var $=R.dependencies;if($!==null){var se=R.child;$=$.firstContext;e:for(;$!==null;){var de=$;$=R;for(var it=0;it<d.length;it++)if(de.context===d[it]){$.lanes|=g,de=$.alternate,de!==null&&(de.lanes|=g),Vr($.return,g,a),C||(se=null);break e}$=de.next}}else if(R.tag===18){if(se=R.return,se===null)throw Error(x(341));se.lanes|=g,$=se.alternate,$!==null&&($.lanes|=g),Vr(se,g,a),se=null}else se=R.child;if(se!==null)se.return=R;else for(se=R;se!==null;){if(se===a){se=null;break}if(R=se.sibling,R!==null){R.return=se.return,se=R;break}se=se.return}R=se}}function tf(a,d,g,C){a=null;for(var R=d,$=!1;R!==null;){if(!$){if((R.flags&524288)!==0)$=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var se=R.alternate;if(se===null)throw Error(x(387));if(se=se.memoizedProps,se!==null){var de=R.type;vl(R.pendingProps.value,se.value)||(a!==null?a.push(de):a=[de])}}else if(R===dt.current){if(se=R.alternate,se===null)throw Error(x(387));se.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(a!==null?a.push(cd):a=[cd])}R=R.return}a!==null&&ci(d,a,g,C),d.flags|=262144}function rs(a){for(a=a.firstContext;a!==null;){if(!vl(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ql(a){Ar=a,qa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ys(a){return bi(Ar,a)}function Gl(a,d){return Ar===null&&ql(a),bi(a,d)}function bi(a,d){var g=d._currentValue;if(d={context:d,memoizedValue:g,next:null},qa===null){if(a===null)throw Error(x(308));qa=d,a.dependencies={lanes:0,firstContext:d},a.flags|=524288}else qa=qa.next=d;return g}var ki=typeof AbortController<"u"?AbortController:function(){var a=[],d=this.signal={aborted:!1,addEventListener:function(g,C){a.push(C)}};this.abort=function(){d.aborted=!0,a.forEach(function(g){return g()})}},Df=l.unstable_scheduleCallback,xg=l.unstable_NormalPriority,Ga={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Of(){return{controller:new ki,data:new Map,refCount:0}}function Sd(a){a.refCount--,a.refCount===0&&Df(xg,function(){a.controller.abort()})}var Bi=null,nf=0,wg=0,Ku=null;function cr(a,d){if(Bi===null){var g=Bi=[];nf=0,wg=$d(),Ku={status:"pending",value:void 0,then:function(C){g.push(C)}}}return nf++,d.then($0,$0),d}function $0(){if(--nf===0&&Bi!==null){Ku!==null&&(Ku.status="fulfilled");var a=Bi;Bi=null,wg=0,Ku=null;for(var d=0;d<a.length;d++)(0,a[d])()}}function Cg(a,d){var g=[],C={status:"pending",value:null,reason:null,then:function(R){g.push(R)}};return a.then(function(){C.status="fulfilled",C.value=d;for(var R=0;R<g.length;R++)(0,g[R])(d)},function(R){for(C.status="rejected",C.reason=R,R=0;R<g.length;R++)(0,g[R])(void 0)}),C}var Bl=P.S;P.S=function(a,d){fb=ln(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&cr(a,d),Bl!==null&&Bl(a,d)};var fl=le(null);function Aa(){var a=fl.current;return a!==null?a:pa.pooledCache}function Ed(a,d){d===null?Pt(fl,fl.current):Pt(fl,d.pool)}function di(){var a=Aa();return a===null?null:{parent:Ga._currentValue,pool:a}}var of=Error(x(460)),Sg=Error(x(474)),Eg=Error(x(542)),K1={then:function(){}};function Td(a){return a=a.status,a==="fulfilled"||a==="rejected"}function fy(a,d,g){switch(g=a[g],g===void 0?a.push(d):g!==d&&(d.then(pi,pi),d=g),d.status){case"fulfilled":return d.value;case"rejected":throw a=d.reason,Ah(a),a;default:if(typeof d.status=="string")d.then(pi,pi);else{if(a=pa,a!==null&&100<a.shellSuspendCounter)throw Error(x(482));a=d,a.status="pending",a.then(function(C){if(d.status==="pending"){var R=d;R.status="fulfilled",R.value=C}},function(C){if(d.status==="pending"){var R=d;R.status="rejected",R.reason=C}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw a=d.reason,Ah(a),a}throw gc=d,of}}function sm(a){try{var d=a._init;return d(a._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(gc=g,of):g}}var gc=null;function Y1(){if(gc===null)throw Error(x(459));var a=gc;return gc=null,a}function Ah(a){if(a===of||a===Eg)throw Error(x(483))}var Nf=null,rm=0;function Tg(a){var d=rm;return rm+=1,Nf===null&&(Nf=[]),fy(Nf,a,d)}function Ag(a,d){d=d.props.ref,a.ref=d!==void 0?d:null}function nu(a,d){throw d.$$typeof===fe?Error(x(525)):(a=Object.prototype.toString.call(d),Error(x(31,a==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":a)))}function my(a){function d(Qe,mt){if(a){var Ht=Qe.deletions;Ht===null?(Qe.deletions=[mt],Qe.flags|=16):Ht.push(mt)}}function g(Qe,mt){if(!a)return null;for(;mt!==null;)d(Qe,mt),mt=mt.sibling;return null}function C(Qe){for(var mt=new Map;Qe!==null;)Qe.key!==null?mt.set(Qe.key,Qe):mt.set(Qe.index,Qe),Qe=Qe.sibling;return mt}function R(Qe,mt){return Qe=Pa(Qe,mt),Qe.index=0,Qe.sibling=null,Qe}function $(Qe,mt,Ht){return Qe.index=Ht,a?(Ht=Qe.alternate,Ht!==null?(Ht=Ht.index,Ht<mt?(Qe.flags|=67108866,mt):Ht):(Qe.flags|=67108866,mt)):(Qe.flags|=1048576,mt)}function se(Qe){return a&&Qe.alternate===null&&(Qe.flags|=67108866),Qe}function de(Qe,mt,Ht,fn){return mt===null||mt.tag!==6?(mt=ii(Ht,Qe.mode,fn),mt.return=Qe,mt):(mt=R(mt,Ht),mt.return=Qe,mt)}function it(Qe,mt,Ht,fn){var us=Ht.type;return us===$e?gn(Qe,mt,Ht.props.children,fn,Ht.key):mt!==null&&(mt.elementType===us||typeof us=="object"&&us!==null&&us.$$typeof===lt&&sm(us)===mt.type)?(mt=R(mt,Ht.props),Ag(mt,Ht),mt.return=Qe,mt):(mt=eu(Ht.type,Ht.key,Ht.props,null,Qe.mode,fn),Ag(mt,Ht),mt.return=Qe,mt)}function Vt(Qe,mt,Ht,fn){return mt===null||mt.tag!==4||mt.stateNode.containerInfo!==Ht.containerInfo||mt.stateNode.implementation!==Ht.implementation?(mt=xp(Ht,Qe.mode,fn),mt.return=Qe,mt):(mt=R(mt,Ht.children||[]),mt.return=Qe,mt)}function gn(Qe,mt,Ht,fn,us){return mt===null||mt.tag!==7?(mt=ai(Ht,Qe.mode,fn,us),mt.return=Qe,mt):(mt=R(mt,Ht),mt.return=Qe,mt)}function An(Qe,mt,Ht){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return mt=ii(""+mt,Qe.mode,Ht),mt.return=Qe,mt;if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case Ce:return Ht=eu(mt.type,mt.key,mt.props,null,Qe.mode,Ht),Ag(Ht,mt),Ht.return=Qe,Ht;case pe:return mt=xp(mt,Qe.mode,Ht),mt.return=Qe,mt;case lt:return mt=sm(mt),An(Qe,mt,Ht)}if(Mt(mt)||Ne(mt))return mt=ai(mt,Qe.mode,Ht,null),mt.return=Qe,mt;if(typeof mt.then=="function")return An(Qe,Tg(mt),Ht);if(mt.$$typeof===J)return An(Qe,Gl(Qe,mt),Ht);nu(Qe,mt)}return null}function Yt(Qe,mt,Ht,fn){var us=mt!==null?mt.key:null;if(typeof Ht=="string"&&Ht!==""||typeof Ht=="number"||typeof Ht=="bigint")return us!==null?null:de(Qe,mt,""+Ht,fn);if(typeof Ht=="object"&&Ht!==null){switch(Ht.$$typeof){case Ce:return Ht.key===us?it(Qe,mt,Ht,fn):null;case pe:return Ht.key===us?Vt(Qe,mt,Ht,fn):null;case lt:return Ht=sm(Ht),Yt(Qe,mt,Ht,fn)}if(Mt(Ht)||Ne(Ht))return us!==null?null:gn(Qe,mt,Ht,fn,null);if(typeof Ht.then=="function")return Yt(Qe,mt,Tg(Ht),fn);if(Ht.$$typeof===J)return Yt(Qe,mt,Gl(Qe,Ht),fn);nu(Qe,Ht)}return null}function sn(Qe,mt,Ht,fn,us){if(typeof fn=="string"&&fn!==""||typeof fn=="number"||typeof fn=="bigint")return Qe=Qe.get(Ht)||null,de(mt,Qe,""+fn,us);if(typeof fn=="object"&&fn!==null){switch(fn.$$typeof){case Ce:return Qe=Qe.get(fn.key===null?Ht:fn.key)||null,it(mt,Qe,fn,us);case pe:return Qe=Qe.get(fn.key===null?Ht:fn.key)||null,Vt(mt,Qe,fn,us);case lt:return fn=sm(fn),sn(Qe,mt,Ht,fn,us)}if(Mt(fn)||Ne(fn))return Qe=Qe.get(Ht)||null,gn(mt,Qe,fn,us,null);if(typeof fn.then=="function")return sn(Qe,mt,Ht,Tg(fn),us);if(fn.$$typeof===J)return sn(Qe,mt,Ht,Gl(mt,fn),us);nu(mt,fn)}return null}function Ko(Qe,mt,Ht,fn){for(var us=null,Hs=null,Wo=mt,tr=mt=0,Dr=null;Wo!==null&&tr<Ht.length;tr++){Wo.index>tr?(Dr=Wo,Wo=null):Dr=Wo.sibling;var Pr=Yt(Qe,Wo,Ht[tr],fn);if(Pr===null){Wo===null&&(Wo=Dr);break}a&&Wo&&Pr.alternate===null&&d(Qe,Wo),mt=$(Pr,mt,tr),Hs===null?us=Pr:Hs.sibling=Pr,Hs=Pr,Wo=Dr}if(tr===Ht.length)return g(Qe,Wo),Gs&&Nc(Qe,tr),us;if(Wo===null){for(;tr<Ht.length;tr++)Wo=An(Qe,Ht[tr],fn),Wo!==null&&(mt=$(Wo,mt,tr),Hs===null?us=Wo:Hs.sibling=Wo,Hs=Wo);return Gs&&Nc(Qe,tr),us}for(Wo=C(Wo);tr<Ht.length;tr++)Dr=sn(Wo,Qe,tr,Ht[tr],fn),Dr!==null&&(a&&Dr.alternate!==null&&Wo.delete(Dr.key===null?tr:Dr.key),mt=$(Dr,mt,tr),Hs===null?us=Dr:Hs.sibling=Dr,Hs=Dr);return a&&Wo.forEach(function(gf){return d(Qe,gf)}),Gs&&Nc(Qe,tr),us}function As(Qe,mt,Ht,fn){if(Ht==null)throw Error(x(151));for(var us=null,Hs=null,Wo=mt,tr=mt=0,Dr=null,Pr=Ht.next();Wo!==null&&!Pr.done;tr++,Pr=Ht.next()){Wo.index>tr?(Dr=Wo,Wo=null):Dr=Wo.sibling;var gf=Yt(Qe,Wo,Pr.value,fn);if(gf===null){Wo===null&&(Wo=Dr);break}a&&Wo&&gf.alternate===null&&d(Qe,Wo),mt=$(gf,mt,tr),Hs===null?us=gf:Hs.sibling=gf,Hs=gf,Wo=Dr}if(Pr.done)return g(Qe,Wo),Gs&&Nc(Qe,tr),us;if(Wo===null){for(;!Pr.done;tr++,Pr=Ht.next())Pr=An(Qe,Pr.value,fn),Pr!==null&&(mt=$(Pr,mt,tr),Hs===null?us=Pr:Hs.sibling=Pr,Hs=Pr);return Gs&&Nc(Qe,tr),us}for(Wo=C(Wo);!Pr.done;tr++,Pr=Ht.next())Pr=sn(Wo,Qe,tr,Pr.value,fn),Pr!==null&&(a&&Pr.alternate!==null&&Wo.delete(Pr.key===null?tr:Pr.key),mt=$(Pr,mt,tr),Hs===null?us=Pr:Hs.sibling=Pr,Hs=Pr);return a&&Wo.forEach(function(Jm){return d(Qe,Jm)}),Gs&&Nc(Qe,tr),us}function mi(Qe,mt,Ht,fn){if(typeof Ht=="object"&&Ht!==null&&Ht.type===$e&&Ht.key===null&&(Ht=Ht.props.children),typeof Ht=="object"&&Ht!==null){switch(Ht.$$typeof){case Ce:e:{for(var us=Ht.key;mt!==null;){if(mt.key===us){if(us=Ht.type,us===$e){if(mt.tag===7){g(Qe,mt.sibling),fn=R(mt,Ht.props.children),fn.return=Qe,Qe=fn;break e}}else if(mt.elementType===us||typeof us=="object"&&us!==null&&us.$$typeof===lt&&sm(us)===mt.type){g(Qe,mt.sibling),fn=R(mt,Ht.props),Ag(fn,Ht),fn.return=Qe,Qe=fn;break e}g(Qe,mt);break}else d(Qe,mt);mt=mt.sibling}Ht.type===$e?(fn=ai(Ht.props.children,Qe.mode,fn,Ht.key),fn.return=Qe,Qe=fn):(fn=eu(Ht.type,Ht.key,Ht.props,null,Qe.mode,fn),Ag(fn,Ht),fn.return=Qe,Qe=fn)}return se(Qe);case pe:e:{for(us=Ht.key;mt!==null;){if(mt.key===us)if(mt.tag===4&&mt.stateNode.containerInfo===Ht.containerInfo&&mt.stateNode.implementation===Ht.implementation){g(Qe,mt.sibling),fn=R(mt,Ht.children||[]),fn.return=Qe,Qe=fn;break e}else{g(Qe,mt);break}else d(Qe,mt);mt=mt.sibling}fn=xp(Ht,Qe.mode,fn),fn.return=Qe,Qe=fn}return se(Qe);case lt:return Ht=sm(Ht),mi(Qe,mt,Ht,fn)}if(Mt(Ht))return Ko(Qe,mt,Ht,fn);if(Ne(Ht)){if(us=Ne(Ht),typeof us!="function")throw Error(x(150));return Ht=us.call(Ht),As(Qe,mt,Ht,fn)}if(typeof Ht.then=="function")return mi(Qe,mt,Tg(Ht),fn);if(Ht.$$typeof===J)return mi(Qe,mt,Gl(Qe,Ht),fn);nu(Qe,Ht)}return typeof Ht=="string"&&Ht!==""||typeof Ht=="number"||typeof Ht=="bigint"?(Ht=""+Ht,mt!==null&&mt.tag===6?(g(Qe,mt.sibling),fn=R(mt,Ht),fn.return=Qe,Qe=fn):(g(Qe,mt),fn=ii(Ht,Qe.mode,fn),fn.return=Qe,Qe=fn),se(Qe)):g(Qe,mt)}return function(Qe,mt,Ht,fn){try{rm=0;var us=mi(Qe,mt,Ht,fn);return Nf=null,us}catch(Wo){if(Wo===of||Wo===Eg)throw Wo;var Hs=Wa(29,Wo,null,Qe.mode);return Hs.lanes=fn,Hs.return=Qe,Hs}}}var Ou=my(!0),ar=my(!1),yi=!1;function Ad(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sp(a,d){a=a.updateQueue,d.updateQueue===a&&(d.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ou(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Rf(a,d,g){var C=a.updateQueue;if(C===null)return null;if(C=C.shared,(Ns&2)!==0){var R=C.pending;return R===null?d.next=d:(d.next=R.next,R.next=d),C.pending=d,d=cl(a),Jc(a,null,g),d}return ri(a,C,d,g),cl(a)}function kg(a,d,g){if(d=d.updateQueue,d!==null&&(d=d.shared,(g&4194048)!==0)){var C=d.lanes;C&=a.pendingLanes,g|=C,d.lanes=g,Do(a,g)}}function kd(a,d){var g=a.updateQueue,C=a.alternate;if(C!==null&&(C=C.updateQueue,g===C)){var R=null,$=null;if(g=g.firstBaseUpdate,g!==null){do{var se={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};$===null?R=$=se:$=$.next=se,g=g.next}while(g!==null);$===null?R=$=d:$=$.next=d}else R=$=d;g={baseState:C.baseState,firstBaseUpdate:R,lastBaseUpdate:$,shared:C.shared,callbacks:C.callbacks},a.updateQueue=g;return}a=g.lastBaseUpdate,a===null?g.firstBaseUpdate=d:a.next=d,g.lastBaseUpdate=d}var _d=!1;function Qs(){if(_d){var a=Ku;if(a!==null)throw a}}function _g(a,d,g,C){_d=!1;var R=a.updateQueue;yi=!1;var $=R.firstBaseUpdate,se=R.lastBaseUpdate,de=R.shared.pending;if(de!==null){R.shared.pending=null;var it=de,Vt=it.next;it.next=null,se===null?$=Vt:se.next=Vt,se=it;var gn=a.alternate;gn!==null&&(gn=gn.updateQueue,de=gn.lastBaseUpdate,de!==se&&(de===null?gn.firstBaseUpdate=Vt:de.next=Vt,gn.lastBaseUpdate=it))}if($!==null){var An=R.baseState;se=0,gn=Vt=it=null,de=$;do{var Yt=de.lane&-536870913,sn=Yt!==de.lane;if(sn?(kr&Yt)===Yt:(C&Yt)===Yt){Yt!==0&&Yt===wg&&(_d=!0),gn!==null&&(gn=gn.next={lane:0,tag:de.tag,payload:de.payload,callback:null,next:null});e:{var Ko=a,As=de;Yt=d;var mi=g;switch(As.tag){case 1:if(Ko=As.payload,typeof Ko=="function"){An=Ko.call(mi,An,Yt);break e}An=Ko;break e;case 3:Ko.flags=Ko.flags&-65537|128;case 0:if(Ko=As.payload,Yt=typeof Ko=="function"?Ko.call(mi,An,Yt):Ko,Yt==null)break e;An=ee({},An,Yt);break e;case 2:yi=!0}}Yt=de.callback,Yt!==null&&(a.flags|=64,sn&&(a.flags|=8192),sn=R.callbacks,sn===null?R.callbacks=[Yt]:sn.push(Yt))}else sn={lane:Yt,tag:de.tag,payload:de.payload,callback:de.callback,next:null},gn===null?(Vt=gn=sn,it=An):gn=gn.next=sn,se|=Yt;if(de=de.next,de===null){if(de=R.shared.pending,de===null)break;sn=de,de=sn.next,sn.next=null,R.lastBaseUpdate=sn,R.shared.pending=null}}while(!0);gn===null&&(it=An),R.baseState=it,R.firstBaseUpdate=Vt,R.lastBaseUpdate=gn,$===null&&(R.shared.lanes=0),Lc|=se,a.lanes=se,a.memoizedState=An}}function ma(a,d){if(typeof a!="function")throw Error(x(191,a));a.call(d)}function kh(a,d){var g=a.callbacks;if(g!==null)for(a.callbacks=null,a=0;a<g.length;a++)ma(g[a],d)}var ka=le(null),Yu=le(0);function El(a,d){a=fm,Pt(Yu,a),Pt(ka,d),fm=a|d.baseLanes}function sf(){Pt(Yu,fm),Pt(ka,ka.current)}function Dg(){fm=Yu.current,Ue(ka),Ue(Yu)}var su=le(null),Nu=null;function Lm(a){var d=a.alternate;Pt(_i,_i.current&1),Pt(su,a),Nu===null&&(d===null||ka.current!==null||d.memoizedState!==null)&&(Nu=a)}function pc(a){Pt(_i,_i.current),Pt(su,a),Nu===null&&(Nu=a)}function Dd(a){a.tag===22?(Pt(_i,_i.current),Pt(su,a),Nu===null&&(Nu=a)):ra()}function ra(){Pt(_i,_i.current),Pt(su,su.current)}function ea(a){Ue(su),Nu===a&&(Nu=null),Ue(_i)}var _i=le(0);function Fm(a){for(var d=a;d!==null;){if(d.tag===13){var g=d.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||Jv(g)||Kp(g)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Od=0,Js=null,yr=null,Ll=null,F=!1,j=!1,re=!1,we=0,Ge=0,At=null,vn=0;function kn(){throw Error(x(321))}function Bo(a,d){if(d===null)return!1;for(var g=0;g<d.length&&g<a.length;g++)if(!vl(a[g],d[g]))return!1;return!0}function ns(a,d,g,C,R,$){return Od=$,Js=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,P.H=a===null||a.memoizedState===null?Nd:Op,re=!1,$=g(C,R),re=!1,j&&($=aa(d,g,C,R)),Nr(a),$}function Nr(a){P.H=ia;var d=yr!==null&&yr.next!==null;if(Od=0,Ll=yr=Js=null,F=!1,Ge=0,At=null,d)throw Error(x(300));a===null||Tl||(a=a.dependencies,a!==null&&rs(a)&&(Tl=!0))}function aa(a,d,g,C){Js=a;var R=0;do{if(j&&(At=null),Ge=0,j=!1,25<=R)throw Error(x(301));if(R+=1,Ll=yr=null,a.updateQueue!=null){var $=a.updateQueue;$.lastEffect=null,$.events=null,$.stores=null,$.memoCache!=null&&($.memoCache.index=0)}P.H=Bu,$=d(g,C)}while(j);return $}function vi(){var a=P.H,d=a.useState()[0];return d=typeof d.then=="function"?im(d):d,a=a.useState()[0],(yr!==null?yr.memoizedState:null)!==a&&(Js.flags|=1024),d}function Rc(){var a=we!==0;return we=0,a}function Xu(a,d,g){d.updateQueue=a.updateQueue,d.flags&=-2053,a.lanes&=~g}function rf(a){if(F){for(a=a.memoizedState;a!==null;){var d=a.queue;d!==null&&(d.pending=null),a=a.next}F=!1}Od=0,Ll=yr=Js=null,j=!1,Ge=we=0,At=null}function fi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ll===null?Js.memoizedState=Ll=a:Ll=Ll.next=a,Ll}function Li(){if(yr===null){var a=Js.alternate;a=a!==null?a.memoizedState:null}else a=yr.next;var d=Ll===null?Js.memoizedState:Ll.next;if(d!==null)Ll=d,yr=a;else{if(a===null)throw Js.alternate===null?Error(x(467)):Error(x(310));yr=a,a={memoizedState:yr.memoizedState,baseState:yr.baseState,baseQueue:yr.baseQueue,queue:yr.queue,next:null},Ll===null?Js.memoizedState=Ll=a:Ll=Ll.next=a}return Ll}function am(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function im(a){var d=Ge;return Ge+=1,At===null&&(At=[]),a=fy(At,a,d),d=Js,(Ll===null?d.memoizedState:Ll.next)===null&&(d=d.alternate,P.H=d===null||d.memoizedState===null?Nd:Op),a}function Pm(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return im(a);if(a.$$typeof===J)return ys(a)}throw Error(x(438,String(a)))}function _h(a){var d=null,g=Js.updateQueue;if(g!==null&&(d=g.memoCache),d==null){var C=Js.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(d={data:C.data.map(function(R){return R.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),g===null&&(g=am(),Js.updateQueue=g),g.memoCache=d,g=d.data[d.index],g===void 0)for(g=d.data[d.index]=Array(a),C=0;C<a;C++)g[C]=dn;return d.index++,g}function Ru(a,d){return typeof d=="function"?d(a):d}function Dh(a){var d=Li();return X1(d,yr,a)}function X1(a,d,g){var C=a.queue;if(C===null)throw Error(x(311));C.lastRenderedReducer=g;var R=a.baseQueue,$=C.pending;if($!==null){if(R!==null){var se=R.next;R.next=$.next,$.next=se}d.baseQueue=R=$,C.pending=null}if($=a.baseState,R===null)a.memoizedState=$;else{d=R.next;var de=se=null,it=null,Vt=d,gn=!1;do{var An=Vt.lane&-536870913;if(An!==Vt.lane?(kr&An)===An:(Od&An)===An){var Yt=Vt.revertLane;if(Yt===0)it!==null&&(it=it.next={lane:0,revertLane:0,gesture:null,action:Vt.action,hasEagerState:Vt.hasEagerState,eagerState:Vt.eagerState,next:null}),An===wg&&(gn=!0);else if((Od&Yt)===Yt){Vt=Vt.next,Yt===wg&&(gn=!0);continue}else An={lane:0,revertLane:Vt.revertLane,gesture:null,action:Vt.action,hasEagerState:Vt.hasEagerState,eagerState:Vt.eagerState,next:null},it===null?(de=it=An,se=$):it=it.next=An,Js.lanes|=Yt,Lc|=Yt;An=Vt.action,re&&g($,An),$=Vt.hasEagerState?Vt.eagerState:g($,An)}else Yt={lane:An,revertLane:Vt.revertLane,gesture:Vt.gesture,action:Vt.action,hasEagerState:Vt.hasEagerState,eagerState:Vt.eagerState,next:null},it===null?(de=it=Yt,se=$):it=it.next=Yt,Js.lanes|=An,Lc|=An;Vt=Vt.next}while(Vt!==null&&Vt!==d);if(it===null?se=$:it.next=de,!vl($,a.memoizedState)&&(Tl=!0,gn&&(g=Ku,g!==null)))throw g;a.memoizedState=$,a.baseState=se,a.baseQueue=it,C.lastRenderedState=$}return R===null&&(C.lanes=0),[a.memoizedState,C.dispatch]}function Q1(a){var d=Li(),g=d.queue;if(g===null)throw Error(x(311));g.lastRenderedReducer=a;var C=g.dispatch,R=g.pending,$=d.memoizedState;if(R!==null){g.pending=null;var se=R=R.next;do $=a($,se.action),se=se.next;while(se!==R);vl($,d.memoizedState)||(Tl=!0),d.memoizedState=$,d.baseQueue===null&&(d.baseState=$),g.lastRenderedState=$}return[$,C]}function Ps(a,d,g){var C=Js,R=Li(),$=Gs;if($){if(g===void 0)throw Error(x(407));g=g()}else g=d();var se=!vl((yr||R).memoizedState,g);if(se&&(R.memoizedState=g,Tl=!0),R=R.queue,Ya(Fl.bind(null,C,R,a),[a]),R.getSnapshot!==d||se||Ll!==null&&Ll.memoizedState.tag&1){if(C.flags|=2048,af(9,{destroy:void 0},Ka.bind(null,C,R,g,d),null),pa===null)throw Error(x(349));$||(Od&127)!==0||Ha(C,d,g)}return g}function Ha(a,d,g){a.flags|=16384,a={getSnapshot:d,value:g},d=Js.updateQueue,d===null?(d=am(),Js.updateQueue=d,d.stores=[a]):(g=d.stores,g===null?d.stores=[a]:g.push(a))}function Ka(a,d,g,C){d.value=g,d.getSnapshot=C,Ep(d)&&Og(a)}function Fl(a,d,g){return g(function(){Ep(d)&&Og(a)})}function Ep(a){var d=a.getSnapshot;a=a.value;try{var g=d();return!vl(a,g)}catch{return!0}}function Og(a){var d=Wi(a,2);d!==null&&sd(d,a,2)}function Ng(a){var d=fi();if(typeof a=="function"){var g=a;if(a=g(),re){Or(!0);try{g()}finally{Or(!1)}}}return d.memoizedState=d.baseState=a,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ru,lastRenderedState:a},d}function Tp(a,d,g,C){return a.baseState=g,X1(a,yr,typeof C=="function"?C:Ru)}function S2(a,d,g,C,R){if(Xo(a))throw Error(x(485));if(a=d.action,a!==null){var $={payload:R,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(se){$.listeners.push(se)}};P.T!==null?g(!0):$.isTransition=!1,C($),g=d.pending,g===null?($.next=d.pending=$,$m(d,$)):($.next=g.next,d.pending=g.next=$)}}function $m(a,d){var g=d.action,C=d.payload,R=a.state;if(d.isTransition){var $=P.T,se={};P.T=se;try{var de=g(R,C),it=P.S;it!==null&&it(se,de),I0(a,d,de)}catch(Vt){Mv(a,d,Vt)}finally{$!==null&&se.types!==null&&($.types=se.types),P.T=$}}else try{$=g(R,C),I0(a,d,$)}catch(Vt){Mv(a,d,Vt)}}function I0(a,d,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(C){Oh(a,d,C)},function(C){return Mv(a,d,C)}):Oh(a,d,g)}function Oh(a,d,g){d.status="fulfilled",d.value=g,Fi(d),a.state=g,d=a.pending,d!==null&&(g=d.next,g===d?a.pending=null:(g=g.next,d.next=g,$m(a,g)))}function Mv(a,d,g){var C=a.pending;if(a.pending=null,C!==null){C=C.next;do d.status="rejected",d.reason=g,Fi(d),d=d.next;while(d!==C)}a.action=null}function Fi(a){a=a.listeners;for(var d=0;d<a.length;d++)(0,a[d])()}function Di(a,d){return d}function Nh(a,d){if(Gs){var g=pa.formState;if(g!==null){e:{var C=Js;if(Gs){if(Ia){t:{for(var R=Ia,$=Du;R.nodeType!==8;){if(!$){R=null;break t}if(R=Ur(R.nextSibling),R===null){R=null;break t}}$=R.data,R=$==="F!"||$==="F"?R:null}if(R){Ia=Ur(R.nextSibling),C=R.data==="F!";break e}}Sl(C)}C=!1}C&&(d=g[0])}}return g=fi(),g.memoizedState=g.baseState=d,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:d},g.queue=C,g=cn.bind(null,Js,C),C.dispatch=g,C=Ng(!1),$=Pi.bind(null,Js,!1,C.queue),C=fi(),R={state:d,dispatch:null,action:a,pending:null},C.queue=R,g=S2.bind(null,Js,R,$,g),R.dispatch=g,C.memoizedState=a,[d,g,!1]}function Im(a){var d=Li();return hy(d,yr,a)}function hy(a,d,g){if(d=X1(a,d,Di)[0],a=Dh(Ru)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var C=im(d)}catch(se){throw se===of?Eg:se}else C=d;d=Li();var R=d.queue,$=R.dispatch;return g!==d.memoizedState&&(Js.flags|=2048,af(9,{destroy:void 0},bc.bind(null,R,g),null)),[C,$,a]}function bc(a,d){a.action=d}function gy(a){var d=Li(),g=yr;if(g!==null)return hy(d,g,a);Li(),d=d.memoizedState,g=Li();var C=g.queue.dispatch;return g.memoizedState=a,[d,C,!1]}function af(a,d,g,C){return a={tag:a,create:g,deps:C,inst:d,next:null},d=Js.updateQueue,d===null&&(d=am(),Js.updateQueue=d),g=d.lastEffect,g===null?d.lastEffect=a.next=a:(C=g.next,g.next=a,a.next=C,d.lastEffect=a),a}function J1(){return Li().memoizedState}function ru(a,d,g,C){var R=fi();Js.flags|=a,R.memoizedState=af(1|d,{destroy:void 0},g,C===void 0?null:C)}function H0(a,d,g,C){var R=Li();C=C===void 0?null:C;var $=R.memoizedState.inst;yr!==null&&C!==null&&Bo(C,yr.memoizedState.deps)?R.memoizedState=af(d,$,g,C):(Js.flags|=a,R.memoizedState=af(1|d,$,g,C))}function Mu(a,d){ru(8390656,8,a,d)}function Ya(a,d){H0(2048,8,a,d)}function py(a){Js.flags|=4;var d=Js.updateQueue;if(d===null)d=am(),Js.updateQueue=d,d.events=[a];else{var g=d.events;g===null?d.events=[a]:g.push(a)}}function Ap(a){var d=Li().memoizedState;return py({ref:d,nextImpl:a}),function(){if((Ns&2)!==0)throw Error(x(440));return d.impl.apply(void 0,arguments)}}function Bv(a,d){return H0(4,2,a,d)}function by(a,d){return H0(4,4,a,d)}function Lv(a,d){if(typeof d=="function"){a=a();var g=d(a);return function(){typeof g=="function"?g():d(null)}}if(d!=null)return a=a(),d.current=a,function(){d.current=null}}function Fv(a,d,g){g=g!=null?g.concat([a]):null,H0(4,4,Lv.bind(null,d,a),g)}function z0(){}function kp(a,d){var g=Li();d=d===void 0?null:d;var C=g.memoizedState;return d!==null&&Bo(d,C[1])?C[0]:(g.memoizedState=[a,d],a)}function eb(a,d){var g=Li();d=d===void 0?null:d;var C=g.memoizedState;if(d!==null&&Bo(d,C[1]))return C[0];if(C=a(),re){Or(!0);try{a()}finally{Or(!1)}}return g.memoizedState=[C,d],C}function xn(a,d,g){return g===void 0||(Od&1073741824)!==0&&(kr&261930)===0?a.memoizedState=d:(a.memoizedState=g,a=Lg(),Js.lanes|=a,Lc|=a,g)}function au(a,d,g,C){return vl(g,d)?g:ka.current!==null?(a=xn(a,g,C),vl(a,d)||(Tl=!0),a):(Od&42)===0||(Od&1073741824)!==0&&(kr&261930)===0?(Tl=!0,a.memoizedState=g):(a=Lg(),Js.lanes|=a,Lc|=a,d)}function E2(a,d,g,C,R){var $=zt.p;zt.p=$!==0&&8>$?$:8;var se=P.T,de={};P.T=de,Pi(a,!1,d,g);try{var it=R(),Vt=P.S;if(Vt!==null&&Vt(de,it),it!==null&&typeof it=="object"&&typeof it.then=="function"){var gn=Cg(it,C);_p(a,d,gn,Pd(a))}else _p(a,d,C,Pd(a))}catch(An){_p(a,d,{then:function(){},status:"rejected",reason:An},Pd())}finally{zt.p=$,se!==null&&de.types!==null&&(se.types=de.types),P.T=se}}function iu(){}function Qu(a,d,g,C){if(a.tag!==5)throw Error(x(476));var R=tb(a).queue;E2(a,R,d,at,g===null?iu:function(){return T2(a),g(C)})}function tb(a){var d=a.memoizedState;if(d!==null)return d;d={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ru,lastRenderedState:at},next:null};var g={};return d.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ru,lastRenderedState:g},next:null},a.memoizedState=d,a=a.alternate,a!==null&&(a.memoizedState=d),d}function T2(a){var d=tb(a);d.next===null&&(d=a.alternate.memoizedState),_p(a,d.next.queue,{},Pd())}function Hm(){return ys(cd)}function A2(){return Li().memoizedState}function lu(){return Li().memoizedState}function k2(a){for(var d=a.return;d!==null;){switch(d.tag){case 24:case 3:var g=Pd();a=ou(g);var C=Rf(d,a,g);C!==null&&(sd(C,d,g),kg(C,d,g)),d={cache:Of()},a.payload=d;return}d=d.return}}function lf(a,d,g){var C=Pd();g={lane:C,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Xo(a)?zm(d,g):(g=Wu(a,d,g,C),g!==null&&(sd(g,a,C),Dp(g,d,C)))}function cn(a,d,g){var C=Pd();_p(a,d,g,C)}function _p(a,d,g,C){var R={lane:C,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(Xo(a))zm(d,R);else{var $=a.alternate;if(a.lanes===0&&($===null||$.lanes===0)&&($=d.lastRenderedReducer,$!==null))try{var se=d.lastRenderedState,de=$(se,g);if(R.hasEagerState=!0,R.eagerState=de,vl(de,se))return ri(a,d,R,0),pa===null&&Qc(),!1}catch{}if(g=Wu(a,d,R,C),g!==null)return sd(g,a,C),Dp(g,d,C),!0}return!1}function Pi(a,d,g,C){if(C={lane:2,revertLane:$d(),gesture:null,action:C,hasEagerState:!1,eagerState:null,next:null},Xo(a)){if(d)throw Error(x(479))}else d=Wu(a,g,C,2),d!==null&&sd(d,a,2)}function Xo(a){var d=a.alternate;return a===Js||d!==null&&d===Js}function zm(a,d){j=F=!0;var g=a.pending;g===null?d.next=d:(d.next=g.next,g.next=d),a.pending=d}function Dp(a,d,g){if((g&4194048)!==0){var C=d.lanes;C&=a.pendingLanes,g|=C,d.lanes=g,Do(a,g)}}var ia={readContext:ys,use:Pm,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useLayoutEffect:kn,useInsertionEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useSyncExternalStore:kn,useId:kn,useHostTransitionStatus:kn,useFormState:kn,useActionState:kn,useOptimistic:kn,useMemoCache:kn,useCacheRefresh:kn};ia.useEffectEvent=kn;var Nd={readContext:ys,use:Pm,useCallback:function(a,d){return fi().memoizedState=[a,d===void 0?null:d],a},useContext:ys,useEffect:Mu,useImperativeHandle:function(a,d,g){g=g!=null?g.concat([a]):null,ru(4194308,4,Lv.bind(null,d,a),g)},useLayoutEffect:function(a,d){return ru(4194308,4,a,d)},useInsertionEffect:function(a,d){ru(4,2,a,d)},useMemo:function(a,d){var g=fi();d=d===void 0?null:d;var C=a();if(re){Or(!0);try{a()}finally{Or(!1)}}return g.memoizedState=[C,d],C},useReducer:function(a,d,g){var C=fi();if(g!==void 0){var R=g(d);if(re){Or(!0);try{g(d)}finally{Or(!1)}}}else R=d;return C.memoizedState=C.baseState=R,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:R},C.queue=a,a=a.dispatch=lf.bind(null,Js,a),[C.memoizedState,a]},useRef:function(a){var d=fi();return a={current:a},d.memoizedState=a},useState:function(a){a=Ng(a);var d=a.queue,g=cn.bind(null,Js,d);return d.dispatch=g,[a.memoizedState,g]},useDebugValue:z0,useDeferredValue:function(a,d){var g=fi();return xn(g,a,d)},useTransition:function(){var a=Ng(!1);return a=E2.bind(null,Js,a.queue,!0,!1),fi().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,d,g){var C=Js,R=fi();if(Gs){if(g===void 0)throw Error(x(407));g=g()}else{if(g=d(),pa===null)throw Error(x(349));(kr&127)!==0||Ha(C,d,g)}R.memoizedState=g;var $={value:g,getSnapshot:d};return R.queue=$,Mu(Fl.bind(null,C,$,a),[a]),C.flags|=2048,af(9,{destroy:void 0},Ka.bind(null,C,$,g,d),null),g},useId:function(){var a=fi(),d=pa.identifierPrefix;if(Gs){var g=rr,C=$a;g=(C&~(1<<32-xs(C)-1)).toString(32)+g,d="_"+d+"R_"+g,g=we++,0<g&&(d+="H"+g.toString(32)),d+="_"}else g=vn++,d="_"+d+"r_"+g.toString(32)+"_";return a.memoizedState=d},useHostTransitionStatus:Hm,useFormState:Nh,useActionState:Nh,useOptimistic:function(a){var d=fi();d.memoizedState=d.baseState=a;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=g,d=Pi.bind(null,Js,!0,g),g.dispatch=d,[a,d]},useMemoCache:_h,useCacheRefresh:function(){return fi().memoizedState=k2.bind(null,Js)},useEffectEvent:function(a){var d=fi(),g={impl:a};return d.memoizedState=g,function(){if((Ns&2)!==0)throw Error(x(440));return g.impl.apply(void 0,arguments)}}},Op={readContext:ys,use:Pm,useCallback:kp,useContext:ys,useEffect:Ya,useImperativeHandle:Fv,useInsertionEffect:Bv,useLayoutEffect:by,useMemo:eb,useReducer:Dh,useRef:J1,useState:function(){return Dh(Ru)},useDebugValue:z0,useDeferredValue:function(a,d){var g=Li();return au(g,yr.memoizedState,a,d)},useTransition:function(){var a=Dh(Ru)[0],d=Li().memoizedState;return[typeof a=="boolean"?a:im(a),d]},useSyncExternalStore:Ps,useId:A2,useHostTransitionStatus:Hm,useFormState:Im,useActionState:Im,useOptimistic:function(a,d){var g=Li();return Tp(g,yr,a,d)},useMemoCache:_h,useCacheRefresh:lu};Op.useEffectEvent=Ap;var Bu={readContext:ys,use:Pm,useCallback:kp,useContext:ys,useEffect:Ya,useImperativeHandle:Fv,useInsertionEffect:Bv,useLayoutEffect:by,useMemo:eb,useReducer:Q1,useRef:J1,useState:function(){return Q1(Ru)},useDebugValue:z0,useDeferredValue:function(a,d){var g=Li();return yr===null?xn(g,a,d):au(g,yr.memoizedState,a,d)},useTransition:function(){var a=Q1(Ru)[0],d=Li().memoizedState;return[typeof a=="boolean"?a:im(a),d]},useSyncExternalStore:Ps,useId:A2,useHostTransitionStatus:Hm,useFormState:gy,useActionState:gy,useOptimistic:function(a,d){var g=Li();return yr!==null?Tp(g,yr,a,d):(g.baseState=a,[a,g.queue.dispatch])},useMemoCache:_h,useCacheRefresh:lu};Bu.useEffectEvent=Ap;function ta(a,d,g,C){d=a.memoizedState,g=g(C,d),g=g==null?d:ee({},d,g),a.memoizedState=g,a.lanes===0&&(a.updateQueue.baseState=g)}var lm={enqueueSetState:function(a,d,g){a=a._reactInternals;var C=Pd(),R=ou(C);R.payload=d,g!=null&&(R.callback=g),d=Rf(a,R,C),d!==null&&(sd(d,a,C),kg(d,a,C))},enqueueReplaceState:function(a,d,g){a=a._reactInternals;var C=Pd(),R=ou(C);R.tag=1,R.payload=d,g!=null&&(R.callback=g),d=Rf(a,R,C),d!==null&&(sd(d,a,C),kg(d,a,C))},enqueueForceUpdate:function(a,d){a=a._reactInternals;var g=Pd(),C=ou(g);C.tag=2,d!=null&&(C.callback=d),d=Rf(a,C,g),d!==null&&(sd(d,a,g),kg(d,a,g))}};function Np(a,d,g,C,R,$,se){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(C,$,se):d.prototype&&d.prototype.isPureReactComponent?!xh(g,C)||!xh(R,$):!0}function yy(a,d,g,C){a=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(g,C),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(g,C),d.state!==a&&lm.enqueueReplaceState(d,d.state,null)}function Rh(a,d){var g=d;if("ref"in d){g={};for(var C in d)C!=="ref"&&(g[C]=d[C])}if(a=a.defaultProps){g===d&&(g=ee({},g));for(var R in a)g[R]===void 0&&(g[R]=a[R])}return g}function Rd(a){P0(a)}function j0(a){console.error(a)}function V0(a){P0(a)}function vy(a,d){try{var g=a.onUncaughtError;g(d.value,{componentStack:d.stack})}catch(C){setTimeout(function(){throw C})}}function xy(a,d,g){try{var C=a.onCaughtError;C(g.value,{componentStack:g.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function Rp(a,d,g){return g=ou(g),g.tag=3,g.payload={element:null},g.callback=function(){vy(a,d)},g}function wy(a){return a=ou(a),a.tag=3,a}function nb(a,d,g,C){var R=g.type.getDerivedStateFromError;if(typeof R=="function"){var $=C.value;a.payload=function(){return R($)},a.callback=function(){xy(d,g,C)}}var se=g.stateNode;se!==null&&typeof se.componentDidCatch=="function"&&(a.callback=function(){xy(d,g,C),typeof R!="function"&&($f===null?$f=new Set([this]):$f.add(this));var de=C.stack;this.componentDidCatch(C.value,{componentStack:de!==null?de:""})})}function zC(a,d,g,C,R){if(g.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(d=g.alternate,d!==null&&tf(d,g,R,!0),g=su.current,g!==null){switch(g.tag){case 31:case 13:return Nu===null?mb():g.alternate===null&&xi===0&&(xi=3),g.flags&=-257,g.flags|=65536,g.lanes=R,C===K1?g.flags|=16384:(d=g.updateQueue,d===null?g.updateQueue=new Set([C]):d.add(C),Q0(a,C,R)),!1;case 22:return g.flags|=65536,C===K1?g.flags|=16384:(d=g.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([C])},g.updateQueue=d):(g=d.retryQueue,g===null?d.retryQueue=new Set([C]):g.add(C)),Q0(a,C,R)),!1}throw Error(x(435,g.tag))}return Q0(a,C,R),mb(),!1}if(Gs)return d=su.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=R,C!==ul&&(a=Error(x(422),{cause:C}),hc(sa(a,g)))):(C!==ul&&(d=Error(x(423),{cause:C}),hc(sa(d,g))),a=a.current.alternate,a.flags|=65536,R&=-R,a.lanes|=R,C=sa(C,g),R=Rp(a.stateNode,C,R),kd(a,R),xi!==4&&(xi=2)),!1;var $=Error(x(520),{cause:C});if($=sa($,g),$p===null?$p=[$]:$p.push($),xi!==4&&(xi=2),d===null)return!0;C=sa(C,g),g=d;do{switch(g.tag){case 3:return g.flags|=65536,a=R&-R,g.lanes|=a,a=Rp(g.stateNode,C,a),kd(g,a),!1;case 1:if(d=g.type,$=g.stateNode,(g.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&($f===null||!$f.has($))))return g.flags|=65536,R&=-R,g.lanes|=R,R=wy(R),nb(R,a,g,C),kd(g,R),!1}g=g.return}while(g!==null);return!1}var Pv=Error(x(461)),Tl=!1;function cu(a,d,g,C){d.child=a===null?ar(d,null,g,C):Ou(d,a.child,g,C)}function U0(a,d,g,C,R){g=g.render;var $=d.ref;if("ref"in C){var se={};for(var de in C)de!=="ref"&&(se[de]=C[de])}else se=C;return ql(d),C=ns(a,d,g,se,$,R),de=Rc(),a!==null&&!Tl?(Xu(a,d,R),Zt(a,d,R)):(Gs&&de&&tu(d),d.flags|=1,cu(a,d,C,R),d.child)}function jC(a,d,g,C,R){if(a===null){var $=g.type;return typeof $=="function"&&!qi($)&&$.defaultProps===void 0&&g.compare===null?(d.tag=15,d.type=$,Lu(a,d,$,C,R)):(a=eu(g.type,null,C,d,d.mode,R),a.ref=d.ref,a.return=d,d.child=a)}if($=a.child,!Bc(a,R)){var se=$.memoizedProps;if(g=g.compare,g=g!==null?g:xh,g(se,C)&&a.ref===d.ref)return Zt(a,d,R)}return d.flags|=1,a=Pa($,C),a.ref=d.ref,a.return=d,d.child=a}function Lu(a,d,g,C,R){if(a!==null){var $=a.memoizedProps;if(xh($,C)&&a.ref===d.ref)if(Tl=!1,d.pendingProps=C=$,Bc(a,R))(a.flags&131072)!==0&&(Tl=!0);else return d.lanes=a.lanes,Zt(a,d,R)}return Mh(a,d,g,C,R)}function uo(a,d,g,C){var R=C.children,$=a!==null?a.memoizedState:null;if(a===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),C.mode==="hidden"){if((d.flags&128)!==0){if($=$!==null?$.baseLanes|g:g,a!==null){for(C=d.child=a.child,R=0;C!==null;)R=R|C.lanes|C.childLanes,C=C.sibling;C=R&~$}else C=0,d.child=null;return Mp(a,d,$,g,C)}if((g&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},a!==null&&Ed(d,$!==null?$.cachePool:null),$!==null?El(d,$):sf(),Dd(d);else return C=d.lanes=536870912,Mp(a,d,$!==null?$.baseLanes|g:g,g,C)}else $!==null?(Ed(d,$.cachePool),El(d,$),ra(),d.memoizedState=null):(a!==null&&Ed(d,null),sf(),ra());return cu(a,d,R,g),d.child}function _a(a,d){return a!==null&&a.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function Mp(a,d,g,C,R){var $=Aa();return $=$===null?null:{parent:Ga._currentValue,pool:$},d.memoizedState={baseLanes:g,cachePool:$},a!==null&&Ed(d,null),sf(),Dd(d),a!==null&&tf(a,d,C,!0),d.childLanes=R,null}function ob(a,d){return d=Kl({mode:d.mode,children:d.children},a.mode),d.ref=a.ref,a.child=d,d.return=a,d}function Rg(a,d,g){return Ou(d,a.child,null,g),a=ob(d,d.pendingProps),a.flags|=2,ea(d),d.memoizedState=null,a}function Z0(a,d,g){var C=d.pendingProps,R=(d.flags&128)!==0;if(d.flags&=-129,a===null){if(Gs){if(C.mode==="hidden")return a=ob(d,C),d.lanes=536870912,_a(null,a);if(pc(d),(a=Ia)?(a=Qv(a,Du),a=a!==null&&a.data==="&"?a:null,a!==null&&(d.memoizedState={dehydrated:a,treeContext:li!==null?{id:$a,overflow:rr}:null,retryLane:536870912,hydrationErrors:null},g=om(a),g.return=d,d.child=g,Cl=d,Ia=null)):a=null,a===null)throw Sl(d);return d.lanes=536870912,null}return ob(d,C)}var $=a.memoizedState;if($!==null){var se=$.dehydrated;if(pc(d),R)if(d.flags&256)d.flags&=-257,d=Rg(a,d,g);else if(d.memoizedState!==null)d.child=a.child,d.flags|=128,d=null;else throw Error(x(558));else if(Tl||tf(a,d,g,!1),R=(g&a.childLanes)!==0,Tl||R){if(C=pa,C!==null&&(se=Yn(C,g),se!==0&&se!==$.retryLane))throw $.retryLane=se,Wi(a,se),sd(C,a,se),Pv;mb(),d=Rg(a,d,g)}else a=$.treeContext,Ia=Ur(se.nextSibling),Cl=d,Gs=!0,Rl=null,Du=!1,a!==null&&vg(d,a),d=ob(d,C),d.flags|=4096;return d}return a=Pa(a.child,{mode:C.mode,children:C.children}),a.ref=d.ref,d.child=a,a.return=d,a}function W0(a,d){var g=d.ref;if(g===null)a!==null&&a.ref!==null&&(d.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(x(284));(a===null||a.ref!==g)&&(d.flags|=4194816)}}function Mh(a,d,g,C,R){return ql(d),g=ns(a,d,g,C,void 0,R),C=Rc(),a!==null&&!Tl?(Xu(a,d,R),Zt(a,d,R)):(Gs&&C&&tu(d),d.flags|=1,cu(a,d,g,R),d.child)}function $v(a,d,g,C,R,$){return ql(d),d.updateQueue=null,g=aa(d,C,g,R),Nr(a),C=Rc(),a!==null&&!Tl?(Xu(a,d,$),Zt(a,d,$)):(Gs&&C&&tu(d),d.flags|=1,cu(a,d,g,$),d.child)}function cm(a,d,g,C,R){if(ql(d),d.stateNode===null){var $=Ls,se=g.contextType;typeof se=="object"&&se!==null&&($=ys(se)),$=new g(C,$),d.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=lm,d.stateNode=$,$._reactInternals=d,$=d.stateNode,$.props=C,$.state=d.memoizedState,$.refs={},Ad(d),se=g.contextType,$.context=typeof se=="object"&&se!==null?ys(se):Ls,$.state=d.memoizedState,se=g.getDerivedStateFromProps,typeof se=="function"&&(ta(d,g,se,C),$.state=d.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof $.getSnapshotBeforeUpdate=="function"||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(se=$.state,typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount(),se!==$.state&&lm.enqueueReplaceState($,$.state,null),_g(d,C,$,R),Qs(),$.state=d.memoizedState),typeof $.componentDidMount=="function"&&(d.flags|=4194308),C=!0}else if(a===null){$=d.stateNode;var de=d.memoizedProps,it=Rh(g,de);$.props=it;var Vt=$.context,gn=g.contextType;se=Ls,typeof gn=="object"&&gn!==null&&(se=ys(gn));var An=g.getDerivedStateFromProps;gn=typeof An=="function"||typeof $.getSnapshotBeforeUpdate=="function",de=d.pendingProps!==de,gn||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(de||Vt!==se)&&yy(d,$,C,se),yi=!1;var Yt=d.memoizedState;$.state=Yt,_g(d,C,$,R),Qs(),Vt=d.memoizedState,de||Yt!==Vt||yi?(typeof An=="function"&&(ta(d,g,An,C),Vt=d.memoizedState),(it=yi||Np(d,g,it,C,Yt,Vt,se))?(gn||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(d.flags|=4194308)):(typeof $.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=C,d.memoizedState=Vt),$.props=C,$.state=Vt,$.context=se,C=it):(typeof $.componentDidMount=="function"&&(d.flags|=4194308),C=!1)}else{$=d.stateNode,Sp(a,d),se=d.memoizedProps,gn=Rh(g,se),$.props=gn,An=d.pendingProps,Yt=$.context,Vt=g.contextType,it=Ls,typeof Vt=="object"&&Vt!==null&&(it=ys(Vt)),de=g.getDerivedStateFromProps,(Vt=typeof de=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(se!==An||Yt!==it)&&yy(d,$,C,it),yi=!1,Yt=d.memoizedState,$.state=Yt,_g(d,C,$,R),Qs();var sn=d.memoizedState;se!==An||Yt!==sn||yi||a!==null&&a.dependencies!==null&&rs(a.dependencies)?(typeof de=="function"&&(ta(d,g,de,C),sn=d.memoizedState),(gn=yi||Np(d,g,gn,C,Yt,sn,it)||a!==null&&a.dependencies!==null&&rs(a.dependencies))?(Vt||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(C,sn,it),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(C,sn,it)),typeof $.componentDidUpdate=="function"&&(d.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof $.componentDidUpdate!="function"||se===a.memoizedProps&&Yt===a.memoizedState||(d.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||se===a.memoizedProps&&Yt===a.memoizedState||(d.flags|=1024),d.memoizedProps=C,d.memoizedState=sn),$.props=C,$.state=sn,$.context=it,C=gn):(typeof $.componentDidUpdate!="function"||se===a.memoizedProps&&Yt===a.memoizedState||(d.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||se===a.memoizedProps&&Yt===a.memoizedState||(d.flags|=1024),C=!1)}return $=C,W0(a,d),C=(d.flags&128)!==0,$||C?($=d.stateNode,g=C&&typeof g.getDerivedStateFromError!="function"?null:$.render(),d.flags|=1,a!==null&&C?(d.child=Ou(d,a.child,null,R),d.child=Ou(d,null,g,R)):cu(a,d,g,R),d.memoizedState=$.state,a=d.child):a=Zt(a,d,R),a}function Iv(a,d,g,C){return Bm(),d.flags|=256,cu(a,d,g,C),d.child}var sb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ha(a){return{baseLanes:a,cachePool:di()}}function Ju(a,d,g){return a=a!==null?a.childLanes&~g:0,d&&(a|=Md),a}function Mc(a,d,g){var C=d.pendingProps,R=!1,$=(d.flags&128)!==0,se;if((se=$)||(se=a!==null&&a.memoizedState===null?!1:(_i.current&2)!==0),se&&(R=!0,d.flags&=-129),se=(d.flags&32)!==0,d.flags&=-33,a===null){if(Gs){if(R?Lm(d):ra(),(a=Ia)?(a=Qv(a,Du),a=a!==null&&a.data!=="&"?a:null,a!==null&&(d.memoizedState={dehydrated:a,treeContext:li!==null?{id:$a,overflow:rr}:null,retryLane:536870912,hydrationErrors:null},g=om(a),g.return=d,d.child=g,Cl=d,Ia=null)):a=null,a===null)throw Sl(d);return Kp(a)?d.lanes=32:d.lanes=536870912,null}var de=C.children;return C=C.fallback,R?(ra(),R=d.mode,de=Kl({mode:"hidden",children:de},R),C=ai(C,R,g,null),de.return=d,C.return=d,de.sibling=C,d.child=de,C=d.child,C.memoizedState=ha(g),C.childLanes=Ju(a,se,g),d.memoizedState=sb,_a(null,C)):(Lm(d),Mg(d,de))}var it=a.memoizedState;if(it!==null&&(de=it.dehydrated,de!==null)){if($)d.flags&256?(Lm(d),d.flags&=-257,d=Bh(a,d,g)):d.memoizedState!==null?(ra(),d.child=a.child,d.flags|=128,d=null):(ra(),de=C.fallback,R=d.mode,C=Kl({mode:"visible",children:C.children},R),de=ai(de,R,g,null),de.flags|=2,C.return=d,de.return=d,C.sibling=de,d.child=C,Ou(d,a.child,null,g),C=d.child,C.memoizedState=ha(g),C.childLanes=Ju(a,se,g),d.memoizedState=sb,d=_a(null,C));else if(Lm(d),Kp(de)){if(se=de.nextSibling&&de.nextSibling.dataset,se)var Vt=se.dgst;se=Vt,C=Error(x(419)),C.stack="",C.digest=se,hc({value:C,source:null,stack:null}),d=Bh(a,d,g)}else if(Tl||tf(a,d,g,!1),se=(g&a.childLanes)!==0,Tl||se){if(se=pa,se!==null&&(C=Yn(se,g),C!==0&&C!==it.retryLane))throw it.retryLane=C,Wi(a,C),sd(se,a,C),Pv;Jv(de)||mb(),d=Bh(a,d,g)}else Jv(de)?(d.flags|=192,d.child=a.child,d=null):(a=it.treeContext,Ia=Ur(de.nextSibling),Cl=d,Gs=!0,Rl=null,Du=!1,a!==null&&vg(d,a),d=Mg(d,C.children),d.flags|=4096);return d}return R?(ra(),de=C.fallback,R=d.mode,it=a.child,Vt=it.sibling,C=Pa(it,{mode:"hidden",children:C.children}),C.subtreeFlags=it.subtreeFlags&65011712,Vt!==null?de=Pa(Vt,de):(de=ai(de,R,g,null),de.flags|=2),de.return=d,C.return=d,C.sibling=de,d.child=C,_a(null,C),C=d.child,de=a.child.memoizedState,de===null?de=ha(g):(R=de.cachePool,R!==null?(it=Ga._currentValue,R=R.parent!==it?{parent:it,pool:it}:R):R=di(),de={baseLanes:de.baseLanes|g,cachePool:R}),C.memoizedState=de,C.childLanes=Ju(a,se,g),d.memoizedState=sb,_a(a.child,C)):(Lm(d),g=a.child,a=g.sibling,g=Pa(g,{mode:"visible",children:C.children}),g.return=d,g.sibling=null,a!==null&&(se=d.deletions,se===null?(d.deletions=[a],d.flags|=16):se.push(a)),d.child=g,d.memoizedState=null,g)}function Mg(a,d){return d=Kl({mode:"visible",children:d},a.mode),d.return=a,a.child=d}function Kl(a,d){return a=Wa(22,a,null,d),a.lanes=0,a}function Bh(a,d,g){return Ou(d,a.child,null,g),a=Mg(d,d.pendingProps.children),a.flags|=2,d.memoizedState=null,a}function ml(a,d,g){a.lanes|=d;var C=a.alternate;C!==null&&(C.lanes|=d),Vr(a.return,d,g)}function yc(a,d,g,C,R,$){var se=a.memoizedState;se===null?a.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:C,tail:g,tailMode:R,treeForkCount:$}:(se.isBackwards=d,se.rendering=null,se.renderingStartTime=0,se.last=C,se.tail=g,se.tailMode=R,se.treeForkCount=$)}function rb(a,d,g){var C=d.pendingProps,R=C.revealOrder,$=C.tail;C=C.children;var se=_i.current,de=(se&2)!==0;if(de?(se=se&1|2,d.flags|=128):se&=1,Pt(_i,se),cu(a,d,C,g),C=Gs?co:0,!de&&a!==null&&(a.flags&128)!==0)e:for(a=d.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&ml(a,g,d);else if(a.tag===19)ml(a,g,d);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===d)break e;for(;a.sibling===null;){if(a.return===null||a.return===d)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(R){case"forwards":for(g=d.child,R=null;g!==null;)a=g.alternate,a!==null&&Fm(a)===null&&(R=g),g=g.sibling;g=R,g===null?(R=d.child,d.child=null):(R=g.sibling,g.sibling=null),yc(d,!1,R,g,$,C);break;case"backwards":case"unstable_legacy-backwards":for(g=null,R=d.child,d.child=null;R!==null;){if(a=R.alternate,a!==null&&Fm(a)===null){d.child=R;break}a=R.sibling,R.sibling=g,g=R,R=a}yc(d,!0,g,null,$,C);break;case"together":yc(d,!1,null,null,void 0,C);break;default:d.memoizedState=null}return d.child}function Zt(a,d,g){if(a!==null&&(d.dependencies=a.dependencies),Lc|=d.lanes,(g&d.childLanes)===0)if(a!==null){if(tf(a,d,g,!1),(g&d.childLanes)===0)return null}else return null;if(a!==null&&d.child!==a.child)throw Error(x(153));if(d.child!==null){for(a=d.child,g=Pa(a,a.pendingProps),d.child=g,g.return=d;a.sibling!==null;)a=a.sibling,g=g.sibling=Pa(a,a.pendingProps),g.return=d;g.sibling=null}return d.child}function Bc(a,d){return(a.lanes&d)!==0?!0:(a=a.dependencies,!!(a!==null&&rs(a)))}function ab(a,d,g){switch(d.tag){case 3:X(d,d.stateNode.containerInfo),hr(d,Ga,a.memoizedState.cache),Bm();break;case 27:case 5:Eo(d);break;case 4:X(d,d.stateNode.containerInfo);break;case 10:hr(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,pc(d),null;break;case 13:var C=d.memoizedState;if(C!==null)return C.dehydrated!==null?(Lm(d),d.flags|=128,null):(g&d.child.childLanes)!==0?Mc(a,d,g):(Lm(d),a=Zt(a,d,g),a!==null?a.sibling:null);Lm(d);break;case 19:var R=(a.flags&128)!==0;if(C=(g&d.childLanes)!==0,C||(tf(a,d,g,!1),C=(g&d.childLanes)!==0),R){if(C)return rb(a,d,g);d.flags|=128}if(R=d.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),Pt(_i,_i.current),C)break;return null;case 22:return d.lanes=0,uo(a,d,g,d.pendingProps);case 24:hr(d,Ga,a.memoizedState.cache)}return Zt(a,d,g)}function Xa(a,d,g){if(a!==null)if(a.memoizedProps!==d.pendingProps)Tl=!0;else{if(!Bc(a,g)&&(d.flags&128)===0)return Tl=!1,ab(a,d,g);Tl=(a.flags&131072)!==0}else Tl=!1,Gs&&(d.flags&1048576)!==0&&Cp(d,co,d.index);switch(d.lanes=0,d.tag){case 16:e:{var C=d.pendingProps;if(a=sm(d.elementType),d.type=a,typeof a=="function")qi(a)?(C=Rh(a,C),d.tag=1,d=cm(null,d,a,C,g)):(d.tag=0,d=Mh(null,d,a,C,g));else{if(a!=null){var R=a.$$typeof;if(R===rt){d.tag=11,d=U0(null,d,a,C,g);break e}else if(R===ae){d.tag=14,d=jC(null,d,a,C,g);break e}}throw d=yt(a)||a,Error(x(306,d,""))}}return d;case 0:return Mh(a,d,d.type,d.pendingProps,g);case 1:return C=d.type,R=Rh(C,d.pendingProps),cm(a,d,C,R,g);case 3:e:{if(X(d,d.stateNode.containerInfo),a===null)throw Error(x(387));C=d.pendingProps;var $=d.memoizedState;R=$.element,Sp(a,d),_g(d,C,null,g);var se=d.memoizedState;if(C=se.cache,hr(d,Ga,C),C!==$.cache&&ci(d,[Ga],g,!0),Qs(),C=se.element,$.isDehydrated)if($={element:C,isDehydrated:!1,cache:se.cache},d.updateQueue.baseState=$,d.memoizedState=$,d.flags&256){d=Iv(a,d,C,g);break e}else if(C!==R){R=sa(Error(x(424)),d),hc(R),d=Iv(a,d,C,g);break e}else for(a=d.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Ia=Ur(a.firstChild),Cl=d,Gs=!0,Rl=null,Du=!0,g=ar(d,null,C,g),d.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Bm(),C===R){d=Zt(a,d,g);break e}cu(a,d,C,g)}d=d.child}return d;case 26:return W0(a,d),a===null?(g=jg(d.type,null,d.pendingProps,null))?d.memoizedState=g:Gs||(g=d.type,a=d.pendingProps,C=Hg(He.current).createElement(g),C[Ys]=d,C[Xs]=a,Qi(C,g,a),me(C),d.stateNode=C):d.memoizedState=jg(d.type,a.memoizedProps,d.pendingProps,a.memoizedState),null;case 27:return Eo(d),a===null&&Gs&&(C=d.stateNode=Oi(d.type,d.pendingProps,He.current),Cl=d,Du=!0,R=Ia,ld(d.type)?(Al=R,Ia=Ur(C.firstChild)):Ia=R),cu(a,d,d.pendingProps.children,g),W0(a,d),a===null&&(d.flags|=4194304),d.child;case 5:return a===null&&Gs&&((R=C=Ia)&&(C=Sb(C,d.type,d.pendingProps,Du),C!==null?(d.stateNode=C,Cl=d,Ia=Ur(C.firstChild),Du=!1,R=!0):R=!1),R||Sl(d)),Eo(d),R=d.type,$=d.pendingProps,se=a!==null?a.memoizedProps:null,C=$.children,Zh(R,$)?C=null:se!==null&&Zh(R,se)&&(d.flags|=32),d.memoizedState!==null&&(R=ns(a,d,vi,null,null,g),cd._currentValue=R),W0(a,d),cu(a,d,C,g),d.child;case 6:return a===null&&Gs&&((a=g=Ia)&&(g=Ly(g,d.pendingProps,Du),g!==null?(d.stateNode=g,Cl=d,Ia=null,a=!0):a=!1),a||Sl(d)),null;case 13:return Mc(a,d,g);case 4:return X(d,d.stateNode.containerInfo),C=d.pendingProps,a===null?d.child=Ou(d,null,C,g):cu(a,d,C,g),d.child;case 11:return U0(a,d,d.type,d.pendingProps,g);case 7:return cu(a,d,d.pendingProps,g),d.child;case 8:return cu(a,d,d.pendingProps.children,g),d.child;case 12:return cu(a,d,d.pendingProps.children,g),d.child;case 10:return C=d.pendingProps,hr(d,d.type,C.value),cu(a,d,C.children,g),d.child;case 9:return R=d.type._context,C=d.pendingProps.children,ql(d),R=ys(R),C=C(R),d.flags|=1,cu(a,d,C,g),d.child;case 14:return jC(a,d,d.type,d.pendingProps,g);case 15:return Lu(a,d,d.type,d.pendingProps,g);case 19:return rb(a,d,g);case 31:return Z0(a,d,g);case 22:return uo(a,d,g,d.pendingProps);case 24:return ql(d),C=ys(Ga),a===null?(R=Aa(),R===null&&(R=pa,$=Of(),R.pooledCache=$,$.refCount++,$!==null&&(R.pooledCacheLanes|=g),R=$),d.memoizedState={parent:C,cache:R},Ad(d),hr(d,Ga,R)):((a.lanes&g)!==0&&(Sp(a,d),_g(d,null,null,g),Qs()),R=a.memoizedState,$=d.memoizedState,R.parent!==C?(R={parent:C,cache:C},d.memoizedState=R,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=R),hr(d,Ga,C)):(C=$.cache,hr(d,Ga,C),C!==R.cache&&ci(d,[Ga],g,!0))),cu(a,d,d.pendingProps.children,g),d.child;case 29:throw d.pendingProps}throw Error(x(156,d.tag))}function Yl(a){a.flags|=4}function uu(a,d,g,C,R){if((d=(a.mode&32)!==0)&&(d=!1),d){if(a.flags|=16777216,(R&335544128)===R)if(a.stateNode.complete)a.flags|=8192;else if(X0())a.flags|=8192;else throw gc=K1,Sg}else a.flags&=-16777217}function _2(a,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!zy(d))if(X0())a.flags|=8192;else throw gc=K1,Sg}function cf(a,d){d!==null&&(a.flags|=4),a.flags&16384&&(d=a.tag!==22?Ut():536870912,a.lanes|=d,$h|=d)}function q0(a,d){if(!Gs)switch(a.tailMode){case"hidden":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?a.tail=null:g.sibling=null;break;case"collapsed":g=a.tail;for(var C=null;g!==null;)g.alternate!==null&&(C=g),g=g.sibling;C===null?d||a.tail===null?a.tail=null:a.tail.sibling=null:C.sibling=null}}function Cr(a){var d=a.alternate!==null&&a.alternate.child===a.child,g=0,C=0;if(d)for(var R=a.child;R!==null;)g|=R.lanes|R.childLanes,C|=R.subtreeFlags&65011712,C|=R.flags&65011712,R.return=a,R=R.sibling;else for(R=a.child;R!==null;)g|=R.lanes|R.childLanes,C|=R.subtreeFlags,C|=R.flags,R.return=a,R=R.sibling;return a.subtreeFlags|=C,a.childLanes=g,d}function gr(a,d,g){var C=d.pendingProps;switch(Gu(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cr(d),null;case 1:return Cr(d),null;case 3:return g=d.stateNode,C=null,a!==null&&(C=a.memoizedState.cache),d.memoizedState.cache!==C&&(d.flags|=2048),dl(Ga),zo(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(Ml(d)?Yl(d):a===null||a.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Th())),Cr(d),null;case 26:var R=d.type,$=d.memoizedState;return a===null?(Yl(d),$!==null?(Cr(d),_2(d,$)):(Cr(d),uu(d,R,null,C,g))):$?$!==a.memoizedState?(Yl(d),Cr(d),_2(d,$)):(Cr(d),d.flags&=-16777217):(a=a.memoizedProps,a!==C&&Yl(d),Cr(d),uu(d,R,a,C,g)),null;case 27:if(Lo(d),g=He.current,R=d.type,a!==null&&d.stateNode!=null)a.memoizedProps!==C&&Yl(d);else{if(!C){if(d.stateNode===null)throw Error(x(166));return Cr(d),null}a=Re.current,Ml(d)?ef(d):(a=Oi(R,C,g),d.stateNode=a,Yl(d))}return Cr(d),null;case 5:if(Lo(d),R=d.type,a!==null&&d.stateNode!=null)a.memoizedProps!==C&&Yl(d);else{if(!C){if(d.stateNode===null)throw Error(x(166));return Cr(d),null}if($=Re.current,Ml(d))ef(d);else{var se=Hg(He.current);switch($){case 1:$=se.createElementNS("http://www.w3.org/2000/svg",R);break;case 2:$=se.createElementNS("http://www.w3.org/1998/Math/MathML",R);break;default:switch(R){case"svg":$=se.createElementNS("http://www.w3.org/2000/svg",R);break;case"math":$=se.createElementNS("http://www.w3.org/1998/Math/MathML",R);break;case"script":$=se.createElement("div"),$.innerHTML="<script><\/script>",$=$.removeChild($.firstChild);break;case"select":$=typeof C.is=="string"?se.createElement("select",{is:C.is}):se.createElement("select"),C.multiple?$.multiple=!0:C.size&&($.size=C.size);break;default:$=typeof C.is=="string"?se.createElement(R,{is:C.is}):se.createElement(R)}}$[Ys]=d,$[Xs]=C;e:for(se=d.child;se!==null;){if(se.tag===5||se.tag===6)$.appendChild(se.stateNode);else if(se.tag!==4&&se.tag!==27&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===d)break e;for(;se.sibling===null;){if(se.return===null||se.return===d)break e;se=se.return}se.sibling.return=se.return,se=se.sibling}d.stateNode=$;e:switch(Qi($,R,C),R){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break e;case"img":C=!0;break e;default:C=!1}C&&Yl(d)}}return Cr(d),uu(d,d.type,a===null?null:a.memoizedProps,d.pendingProps,g),null;case 6:if(a&&d.stateNode!=null)a.memoizedProps!==C&&Yl(d);else{if(typeof C!="string"&&d.stateNode===null)throw Error(x(166));if(a=He.current,Ml(d)){if(a=d.stateNode,g=d.memoizedProps,C=null,R=Cl,R!==null)switch(R.tag){case 27:case 5:C=R.memoizedProps}a[Ys]=d,a=!!(a.nodeValue===g||C!==null&&C.suppressHydrationWarning===!0||Ig(a.nodeValue,g)),a||Sl(d,!0)}else a=Hg(a).createTextNode(C),a[Ys]=d,d.stateNode=a}return Cr(d),null;case 31:if(g=d.memoizedState,a===null||a.memoizedState!==null){if(C=Ml(d),g!==null){if(a===null){if(!C)throw Error(x(318));if(a=d.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(x(557));a[Ys]=d}else Bm(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Cr(d),a=!1}else g=Th(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=g),a=!0;if(!a)return d.flags&256?(ea(d),d):(ea(d),null);if((d.flags&128)!==0)throw Error(x(558))}return Cr(d),null;case 13:if(C=d.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(R=Ml(d),C!==null&&C.dehydrated!==null){if(a===null){if(!R)throw Error(x(318));if(R=d.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(x(317));R[Ys]=d}else Bm(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Cr(d),R=!1}else R=Th(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=R),R=!0;if(!R)return d.flags&256?(ea(d),d):(ea(d),null)}return ea(d),(d.flags&128)!==0?(d.lanes=g,d):(g=C!==null,a=a!==null&&a.memoizedState!==null,g&&(C=d.child,R=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(R=C.alternate.memoizedState.cachePool.pool),$=null,C.memoizedState!==null&&C.memoizedState.cachePool!==null&&($=C.memoizedState.cachePool.pool),$!==R&&(C.flags|=2048)),g!==a&&g&&(d.child.flags|=8192),cf(d,d.updateQueue),Cr(d),null);case 4:return zo(),a===null&&Fc(d.stateNode.containerInfo),Cr(d),null;case 10:return dl(d.type),Cr(d),null;case 19:if(Ue(_i),C=d.memoizedState,C===null)return Cr(d),null;if(R=(d.flags&128)!==0,$=C.rendering,$===null)if(R)q0(C,!1);else{if(xi!==0||a!==null&&(a.flags&128)!==0)for(a=d.child;a!==null;){if($=Fm(a),$!==null){for(d.flags|=128,q0(C,!1),a=$.updateQueue,d.updateQueue=a,cf(d,a),d.subtreeFlags=0,a=g,g=d.child;g!==null;)fa(g,a),g=g.sibling;return Pt(_i,_i.current&1|2),Gs&&Nc(d,C.treeForkCount),d.child}a=a.sibling}C.tail!==null&&ln()>Hp&&(d.flags|=128,R=!0,q0(C,!1),d.lanes=4194304)}else{if(!R)if(a=Fm($),a!==null){if(d.flags|=128,R=!0,a=a.updateQueue,d.updateQueue=a,cf(d,a),q0(C,!0),C.tail===null&&C.tailMode==="hidden"&&!$.alternate&&!Gs)return Cr(d),null}else 2*ln()-C.renderingStartTime>Hp&&g!==536870912&&(d.flags|=128,R=!0,q0(C,!1),d.lanes=4194304);C.isBackwards?($.sibling=d.child,d.child=$):(a=C.last,a!==null?a.sibling=$:d.child=$,C.last=$)}return C.tail!==null?(a=C.tail,C.rendering=a,C.tail=a.sibling,C.renderingStartTime=ln(),a.sibling=null,g=_i.current,Pt(_i,R?g&1|2:g&1),Gs&&Nc(d,C.treeForkCount),a):(Cr(d),null);case 22:case 23:return ea(d),Dg(),C=d.memoizedState!==null,a!==null?a.memoizedState!==null!==C&&(d.flags|=8192):C&&(d.flags|=8192),C?(g&536870912)!==0&&(d.flags&128)===0&&(Cr(d),d.subtreeFlags&6&&(d.flags|=8192)):Cr(d),g=d.updateQueue,g!==null&&cf(d,g.retryQueue),g=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),C=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(C=d.memoizedState.cachePool.pool),C!==g&&(d.flags|=2048),a!==null&&Ue(fl),null;case 24:return g=null,a!==null&&(g=a.memoizedState.cache),d.memoizedState.cache!==g&&(d.flags|=2048),dl(Ga),Cr(d),null;case 25:return null;case 30:return null}throw Error(x(156,d.tag))}function um(a,d){switch(Gu(d),d.tag){case 1:return a=d.flags,a&65536?(d.flags=a&-65537|128,d):null;case 3:return dl(Ga),zo(),a=d.flags,(a&65536)!==0&&(a&128)===0?(d.flags=a&-65537|128,d):null;case 26:case 27:case 5:return Lo(d),null;case 31:if(d.memoizedState!==null){if(ea(d),d.alternate===null)throw Error(x(340));Bm()}return a=d.flags,a&65536?(d.flags=a&-65537|128,d):null;case 13:if(ea(d),a=d.memoizedState,a!==null&&a.dehydrated!==null){if(d.alternate===null)throw Error(x(340));Bm()}return a=d.flags,a&65536?(d.flags=a&-65537|128,d):null;case 19:return Ue(_i),null;case 4:return zo(),null;case 10:return dl(d.type),null;case 22:case 23:return ea(d),Dg(),a!==null&&Ue(fl),a=d.flags,a&65536?(d.flags=a&-65537|128,d):null;case 24:return dl(Ga),null;case 25:return null;default:return null}}function Bp(a,d){switch(Gu(d),d.tag){case 3:dl(Ga),zo();break;case 26:case 27:case 5:Lo(d);break;case 4:zo();break;case 31:d.memoizedState!==null&&ea(d);break;case 13:ea(d);break;case 19:Ue(_i);break;case 10:dl(d.type);break;case 22:case 23:ea(d),Dg(),a!==null&&Ue(fl);break;case 24:dl(Ga)}}function ga(a,d){try{var g=d.updateQueue,C=g!==null?g.lastEffect:null;if(C!==null){var R=C.next;g=R;do{if((g.tag&a)===a){C=void 0;var $=g.create,se=g.inst;C=$(),se.destroy=C}g=g.next}while(g!==R)}}catch(de){la(d,d.return,de)}}function jm(a,d,g){try{var C=d.updateQueue,R=C!==null?C.lastEffect:null;if(R!==null){var $=R.next;C=$;do{if((C.tag&a)===a){var se=C.inst,de=se.destroy;if(de!==void 0){se.destroy=void 0,R=d;var it=g,Vt=de;try{Vt()}catch(gn){la(R,it,gn)}}}C=C.next}while(C!==$)}}catch(gn){la(d,d.return,gn)}}function Cy(a){var d=a.updateQueue;if(d!==null){var g=a.stateNode;try{kh(d,g)}catch(C){la(a,a.return,C)}}}function uf(a,d,g){g.props=Rh(a.type,a.memoizedProps),g.state=a.memoizedState;try{g.componentWillUnmount()}catch(C){la(a,d,C)}}function Bg(a,d){try{var g=a.ref;if(g!==null){switch(a.tag){case 26:case 27:case 5:var C=a.stateNode;break;case 30:C=a.stateNode;break;default:C=a.stateNode}typeof g=="function"?a.refCleanup=g(C):g.current=C}}catch(R){la(a,d,R)}}function $i(a,d){var g=a.ref,C=a.refCleanup;if(g!==null)if(typeof C=="function")try{C()}catch(R){la(a,d,R)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(R){la(a,d,R)}else g.current=null}function D2(a){var d=a.type,g=a.memoizedProps,C=a.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":g.autoFocus&&C.focus();break e;case"img":g.src?C.src=g.src:g.srcSet&&(C.srcset=g.srcSet)}}catch(R){la(a,a.return,R)}}function pt(a,d,g){try{var C=a.stateNode;nc(C,a.type,g,d),C[Xs]=d}catch(R){la(a,a.return,R)}}function ed(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ld(a.type)||a.tag===4}function Lp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||ed(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ld(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Da(a,d,g){var C=a.tag;if(C===5||C===6)a=a.stateNode,d?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(a,d):(d=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,d.appendChild(a),g=g._reactRootContainer,g!=null||d.onclick!==null||(d.onclick=pi));else if(C!==4&&(C===27&&ld(a.type)&&(g=a.stateNode,d=null),a=a.child,a!==null))for(Da(a,d,g),a=a.sibling;a!==null;)Da(a,d,g),a=a.sibling}function Xl(a,d,g){var C=a.tag;if(C===5||C===6)a=a.stateNode,d?g.insertBefore(a,d):g.appendChild(a);else if(C!==4&&(C===27&&ld(a.type)&&(g=a.stateNode),a=a.child,a!==null))for(Xl(a,d,g),a=a.sibling;a!==null;)Xl(a,d,g),a=a.sibling}function Gi(a){var d=a.stateNode,g=a.memoizedProps;try{for(var C=a.type,R=d.attributes;R.length;)d.removeAttributeNode(R[0]);Qi(d,C,g),d[Ys]=a,d[Xs]=g}catch($){la(a,a.return,$)}}var ir=!1,Pl=!1,Vm=!1,Lh=typeof WeakSet=="function"?WeakSet:Set,hl=null;function ib(a,d){if(a=a.containerInfo,Uh=no,a=L0(a),bp(a)){if("selectionStart"in a)var g={start:a.selectionStart,end:a.selectionEnd};else e:{g=(g=a.ownerDocument)&&g.defaultView||window;var C=g.getSelection&&g.getSelection();if(C&&C.rangeCount!==0){g=C.anchorNode;var R=C.anchorOffset,$=C.focusNode;C=C.focusOffset;try{g.nodeType,$.nodeType}catch{g=null;break e}var se=0,de=-1,it=-1,Vt=0,gn=0,An=a,Yt=null;t:for(;;){for(var sn;An!==g||R!==0&&An.nodeType!==3||(de=se+R),An!==$||C!==0&&An.nodeType!==3||(it=se+C),An.nodeType===3&&(se+=An.nodeValue.length),(sn=An.firstChild)!==null;)Yt=An,An=sn;for(;;){if(An===a)break t;if(Yt===g&&++Vt===R&&(de=se),Yt===$&&++gn===C&&(it=se),(sn=An.nextSibling)!==null)break;An=Yt,Yt=An.parentNode}An=sn}g=de===-1||it===-1?null:{start:de,end:it}}else g=null}g=g||{start:0,end:0}}else g=null;for(qm={focusedElem:a,selectionRange:g},no=!1,hl=d;hl!==null;)if(d=hl,a=d.child,(d.subtreeFlags&1028)!==0&&a!==null)a.return=d,hl=a;else for(;hl!==null;){switch(d=hl,$=d.alternate,a=d.flags,d.tag){case 0:if((a&4)!==0&&(a=d.updateQueue,a=a!==null?a.events:null,a!==null))for(g=0;g<a.length;g++)R=a[g],R.ref.impl=R.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&$!==null){a=void 0,g=d,R=$.memoizedProps,$=$.memoizedState,C=g.stateNode;try{var Ko=Rh(g.type,R);a=C.getSnapshotBeforeUpdate(Ko,$),C.__reactInternalSnapshotBeforeUpdate=a}catch(As){la(g,g.return,As)}}break;case 3:if((a&1024)!==0){if(a=d.stateNode.containerInfo,g=a.nodeType,g===9)Cb(a);else if(g===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Cb(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(x(163))}if(a=d.sibling,a!==null){a.return=d.return,hl=a;break}hl=d.return}}function Sy(a,d,g){var C=g.flags;switch(g.tag){case 0:case 11:case 15:Mf(a,g),C&4&&ga(5,g);break;case 1:if(Mf(a,g),C&4)if(a=g.stateNode,d===null)try{a.componentDidMount()}catch(se){la(g,g.return,se)}else{var R=Rh(g.type,d.memoizedProps);d=d.memoizedState;try{a.componentDidUpdate(R,d,a.__reactInternalSnapshotBeforeUpdate)}catch(se){la(g,g.return,se)}}C&64&&Cy(g),C&512&&Bg(g,g.return);break;case 3:if(Mf(a,g),C&64&&(a=g.updateQueue,a!==null)){if(d=null,g.child!==null)switch(g.child.tag){case 27:case 5:d=g.child.stateNode;break;case 1:d=g.child.stateNode}try{kh(a,d)}catch(se){la(g,g.return,se)}}break;case 27:d===null&&C&4&&Gi(g);case 26:case 5:Mf(a,g),d===null&&C&4&&D2(g),C&512&&Bg(g,g.return);break;case 12:Mf(a,g);break;case 31:Mf(a,g),C&4&&O2(a,g);break;case 13:Mf(a,g),C&4&&Ql(a,g),C&64&&(a=g.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(g=Uv.bind(null,g),Ji(a,g))));break;case 22:if(C=g.memoizedState!==null||ir,!C){d=d!==null&&d.memoizedState!==null||Pl,R=ir;var $=Pl;ir=C,(Pl=d)&&!$?ec(a,g,(g.subtreeFlags&8772)!==0):Mf(a,g),ir=R,Pl=$}break;case 30:break;default:Mf(a,g)}}function Ey(a){var d=a.alternate;d!==null&&(a.alternate=null,Ey(d)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(d=a.stateNode,d!==null&&lo(d)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var za=null,vc=!1;function Um(a,d,g){for(g=g.child;g!==null;)Ty(a,d,g),g=g.sibling}function Ty(a,d,g){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(Ra,g)}catch{}switch(g.tag){case 26:Pl||$i(g,d),Um(a,d,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Pl||$i(g,d);var C=za,R=vc;ld(g.type)&&(za=g.stateNode,vc=!1),Um(a,d,g),Km(g.stateNode),za=C,vc=R;break;case 5:Pl||$i(g,d);case 6:if(C=za,R=vc,za=null,Um(a,d,g),za=C,vc=R,za!==null)if(vc)try{(za.nodeType===9?za.body:za.nodeName==="HTML"?za.ownerDocument.body:za).removeChild(g.stateNode)}catch($){la(g,d,$)}else try{za.removeChild(g.stateNode)}catch($){la(g,d,$)}break;case 18:za!==null&&(vc?(a=za,Xv(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,g.stateNode),n0(a)):Xv(za,g.stateNode));break;case 4:C=za,R=vc,za=g.stateNode.containerInfo,vc=!0,Um(a,d,g),za=C,vc=R;break;case 0:case 11:case 14:case 15:jm(2,g,d),Pl||jm(4,g,d),Um(a,d,g);break;case 1:Pl||($i(g,d),C=g.stateNode,typeof C.componentWillUnmount=="function"&&uf(g,d,C)),Um(a,d,g);break;case 21:Um(a,d,g);break;case 22:Pl=(C=Pl)||g.memoizedState!==null,Um(a,d,g),Pl=C;break;default:Um(a,d,g)}}function O2(a,d){if(d.memoizedState===null&&(a=d.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{n0(a)}catch(g){la(d,d.return,g)}}}function Ql(a,d){if(d.memoizedState===null&&(a=d.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{n0(a)}catch(g){la(d,d.return,g)}}function td(a){switch(a.tag){case 31:case 13:case 19:var d=a.stateNode;return d===null&&(d=a.stateNode=new Lh),d;case 22:return a=a.stateNode,d=a._retryCache,d===null&&(d=a._retryCache=new Lh),d;default:throw Error(x(435,a.tag))}}function Qa(a,d){var g=td(a);d.forEach(function(C){if(!g.has(C)){g.add(C);var R=Zv.bind(null,a,C);C.then(R,R)}})}function $l(a,d){var g=d.deletions;if(g!==null)for(var C=0;C<g.length;C++){var R=g[C],$=a,se=d,de=se;e:for(;de!==null;){switch(de.tag){case 27:if(ld(de.type)){za=de.stateNode,vc=!1;break e}break;case 5:za=de.stateNode,vc=!1;break e;case 3:case 4:za=de.stateNode.containerInfo,vc=!0;break e}de=de.return}if(za===null)throw Error(x(160));Ty($,se,R),za=null,vc=!1,$=R.alternate,$!==null&&($.return=null),R.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)du(d,a),d=d.sibling}var nd=null;function du(a,d){var g=a.alternate,C=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:$l(d,a),xc(a),C&4&&(jm(3,a,a.return),ga(3,a),jm(5,a,a.return));break;case 1:$l(d,a),xc(a),C&512&&(Pl||g===null||$i(g,g.return)),C&64&&ir&&(a=a.updateQueue,a!==null&&(C=a.callbacks,C!==null&&(g=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=g===null?C:g.concat(C))));break;case 26:var R=nd;if($l(d,a),xc(a),C&512&&(Pl||g===null||$i(g,g.return)),C&4){var $=g!==null?g.memoizedState:null;if(C=a.memoizedState,g===null)if(C===null)if(a.stateNode===null){e:{C=a.type,g=a.memoizedProps,R=R.ownerDocument||R;t:switch(C){case"title":$=R.getElementsByTagName("title")[0],(!$||$[To]||$[Ys]||$.namespaceURI==="http://www.w3.org/2000/svg"||$.hasAttribute("itemprop"))&&($=R.createElement(C),R.head.insertBefore($,R.querySelector("head > title"))),Qi($,C,g),$[Ys]=a,me($),C=$;break e;case"link":var se=Pc("link","href",R).get(C+(g.href||""));if(se){for(var de=0;de<se.length;de++)if($=se[de],$.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&$.getAttribute("rel")===(g.rel==null?null:g.rel)&&$.getAttribute("title")===(g.title==null?null:g.title)&&$.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){se.splice(de,1);break t}}$=R.createElement(C),Qi($,C,g),R.head.appendChild($);break;case"meta":if(se=Pc("meta","content",R).get(C+(g.content||""))){for(de=0;de<se.length;de++)if($=se[de],$.getAttribute("content")===(g.content==null?null:""+g.content)&&$.getAttribute("name")===(g.name==null?null:g.name)&&$.getAttribute("property")===(g.property==null?null:g.property)&&$.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&$.getAttribute("charset")===(g.charSet==null?null:g.charSet)){se.splice(de,1);break t}}$=R.createElement(C),Qi($,C,g),R.head.appendChild($);break;default:throw Error(x(468,C))}$[Ys]=a,me($),C=$}a.stateNode=C}else Xp(R,a.type,a.stateNode);else a.stateNode=oc(R,C,a.memoizedProps);else $!==C?($===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):$.count--,C===null?Xp(R,a.type,a.stateNode):oc(R,C,a.memoizedProps)):C===null&&a.stateNode!==null&&pt(a,a.memoizedProps,g.memoizedProps)}break;case 27:$l(d,a),xc(a),C&512&&(Pl||g===null||$i(g,g.return)),g!==null&&C&4&&pt(a,a.memoizedProps,g.memoizedProps);break;case 5:if($l(d,a),xc(a),C&512&&(Pl||g===null||$i(g,g.return)),a.flags&32){R=a.stateNode;try{uc(R,"")}catch(Ko){la(a,a.return,Ko)}}C&4&&a.stateNode!=null&&(R=a.memoizedProps,pt(a,R,g!==null?g.memoizedProps:R)),C&1024&&(Vm=!0);break;case 6:if($l(d,a),xc(a),C&4){if(a.stateNode===null)throw Error(x(162));C=a.memoizedProps,g=a.stateNode;try{g.nodeValue=C}catch(Ko){la(a,a.return,Ko)}}break;case 3:if(Hy=null,R=nd,nd=Eb(d.containerInfo),$l(d,a),nd=R,xc(a),C&4&&g!==null&&g.memoizedState.isDehydrated)try{n0(d.containerInfo)}catch(Ko){la(a,a.return,Ko)}Vm&&(Vm=!1,Ii(a));break;case 4:C=nd,nd=Eb(a.stateNode.containerInfo),$l(d,a),xc(a),nd=C;break;case 12:$l(d,a),xc(a);break;case 31:$l(d,a),xc(a),C&4&&(C=a.updateQueue,C!==null&&(a.updateQueue=null,Qa(a,C)));break;case 13:$l(d,a),xc(a),a.child.flags&8192&&a.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Ip=ln()),C&4&&(C=a.updateQueue,C!==null&&(a.updateQueue=null,Qa(a,C)));break;case 22:R=a.memoizedState!==null;var it=g!==null&&g.memoizedState!==null,Vt=ir,gn=Pl;if(ir=Vt||R,Pl=gn||it,$l(d,a),Pl=gn,ir=Vt,xc(a),C&8192)e:for(d=a.stateNode,d._visibility=R?d._visibility&-2:d._visibility|1,R&&(g===null||it||ir||Pl||Jl(a)),g=null,d=a;;){if(d.tag===5||d.tag===26){if(g===null){it=g=d;try{if($=it.stateNode,R)se=$.style,typeof se.setProperty=="function"?se.setProperty("display","none","important"):se.display="none";else{de=it.stateNode;var An=it.memoizedProps.style,Yt=An!=null&&An.hasOwnProperty("display")?An.display:null;de.style.display=Yt==null||typeof Yt=="boolean"?"":(""+Yt).trim()}}catch(Ko){la(it,it.return,Ko)}}}else if(d.tag===6){if(g===null){it=d;try{it.stateNode.nodeValue=R?"":it.memoizedProps}catch(Ko){la(it,it.return,Ko)}}}else if(d.tag===18){if(g===null){it=d;try{var sn=it.stateNode;R?wb(sn,!0):wb(it.stateNode,!1)}catch(Ko){la(it,it.return,Ko)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===a)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break e;for(;d.sibling===null;){if(d.return===null||d.return===a)break e;g===d&&(g=null),d=d.return}g===d&&(g=null),d.sibling.return=d.return,d=d.sibling}C&4&&(C=a.updateQueue,C!==null&&(g=C.retryQueue,g!==null&&(C.retryQueue=null,Qa(a,g))));break;case 19:$l(d,a),xc(a),C&4&&(C=a.updateQueue,C!==null&&(a.updateQueue=null,Qa(a,C)));break;case 30:break;case 21:break;default:$l(d,a),xc(a)}}function xc(a){var d=a.flags;if(d&2){try{for(var g,C=a.return;C!==null;){if(ed(C)){g=C;break}C=C.return}if(g==null)throw Error(x(160));switch(g.tag){case 27:var R=g.stateNode,$=Lp(a);Xl(a,$,R);break;case 5:var se=g.stateNode;g.flags&32&&(uc(se,""),g.flags&=-33);var de=Lp(a);Xl(a,de,se);break;case 3:case 4:var it=g.stateNode.containerInfo,Vt=Lp(a);Da(a,Vt,it);break;default:throw Error(x(161))}}catch(gn){la(a,a.return,gn)}a.flags&=-3}d&4096&&(a.flags&=-4097)}function Ii(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var d=a;Ii(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),a=a.sibling}}function Mf(a,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)Sy(a,d.alternate,d),d=d.sibling}function Jl(a){for(a=a.child;a!==null;){var d=a;switch(d.tag){case 0:case 11:case 14:case 15:jm(4,d,d.return),Jl(d);break;case 1:$i(d,d.return);var g=d.stateNode;typeof g.componentWillUnmount=="function"&&uf(d,d.return,g),Jl(d);break;case 27:Km(d.stateNode);case 26:case 5:$i(d,d.return),Jl(d);break;case 22:d.memoizedState===null&&Jl(d);break;case 30:Jl(d);break;default:Jl(d)}a=a.sibling}}function ec(a,d,g){for(g=g&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var C=d.alternate,R=a,$=d,se=$.flags;switch($.tag){case 0:case 11:case 15:ec(R,$,g),ga(4,$);break;case 1:if(ec(R,$,g),C=$,R=C.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(Vt){la(C,C.return,Vt)}if(C=$,R=C.updateQueue,R!==null){var de=C.stateNode;try{var it=R.shared.hiddenCallbacks;if(it!==null)for(R.shared.hiddenCallbacks=null,R=0;R<it.length;R++)ma(it[R],de)}catch(Vt){la(C,C.return,Vt)}}g&&se&64&&Cy($),Bg($,$.return);break;case 27:Gi($);case 26:case 5:ec(R,$,g),g&&C===null&&se&4&&D2($),Bg($,$.return);break;case 12:ec(R,$,g);break;case 31:ec(R,$,g),g&&se&4&&O2(R,$);break;case 13:ec(R,$,g),g&&se&4&&Ql(R,$);break;case 22:$.memoizedState===null&&ec(R,$,g),Bg($,$.return);break;case 30:break;default:ec(R,$,g)}d=d.sibling}}function lb(a,d){var g=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),a=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(a=d.memoizedState.cachePool.pool),a!==g&&(a!=null&&a.refCount++,g!=null&&Sd(g))}function Ki(a,d){a=null,d.alternate!==null&&(a=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==a&&(d.refCount++,a!=null&&Sd(a))}function Fu(a,d,g,C){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Bf(a,d,g,C),d=d.sibling}function Bf(a,d,g,C){var R=d.flags;switch(d.tag){case 0:case 11:case 15:Fu(a,d,g,C),R&2048&&ga(9,d);break;case 1:Fu(a,d,g,C);break;case 3:Fu(a,d,g,C),R&2048&&(a=null,d.alternate!==null&&(a=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==a&&(d.refCount++,a!=null&&Sd(a)));break;case 12:if(R&2048){Fu(a,d,g,C),a=d.stateNode;try{var $=d.memoizedProps,se=$.id,de=$.onPostCommit;typeof de=="function"&&de(se,d.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(it){la(d,d.return,it)}}else Fu(a,d,g,C);break;case 31:Fu(a,d,g,C);break;case 13:Fu(a,d,g,C);break;case 23:break;case 22:$=d.stateNode,se=d.alternate,d.memoizedState!==null?$._visibility&2?Fu(a,d,g,C):dm(a,d):$._visibility&2?Fu(a,d,g,C):($._visibility|=2,Lf(a,d,g,C,(d.subtreeFlags&10256)!==0||!1)),R&2048&&lb(se,d);break;case 24:Fu(a,d,g,C),R&2048&&Ki(d.alternate,d);break;default:Fu(a,d,g,C)}}function Lf(a,d,g,C,R){for(R=R&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var $=a,se=d,de=g,it=C,Vt=se.flags;switch(se.tag){case 0:case 11:case 15:Lf($,se,de,it,R),ga(8,se);break;case 23:break;case 22:var gn=se.stateNode;se.memoizedState!==null?gn._visibility&2?Lf($,se,de,it,R):dm($,se):(gn._visibility|=2,Lf($,se,de,it,R)),R&&Vt&2048&&lb(se.alternate,se);break;case 24:Lf($,se,de,it,R),R&&Vt&2048&&Ki(se.alternate,se);break;default:Lf($,se,de,it,R)}d=d.sibling}}function dm(a,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var g=a,C=d,R=C.flags;switch(C.tag){case 22:dm(g,C),R&2048&&lb(C.alternate,C);break;case 24:dm(g,C),R&2048&&Ki(C.alternate,C);break;default:dm(g,C)}d=d.sibling}}var cb=8192;function Fh(a,d,g){if(a.subtreeFlags&cb)for(a=a.child;a!==null;)Zm(a,d,g),a=a.sibling}function Zm(a,d,g){switch(a.tag){case 26:Fh(a,d,g),a.flags&cb&&a.memoizedState!==null&&nx(g,nd,a.memoizedState,a.memoizedProps);break;case 5:Fh(a,d,g);break;case 3:case 4:var C=nd;nd=Eb(a.stateNode.containerInfo),Fh(a,d,g),nd=C;break;case 22:a.memoizedState===null&&(C=a.alternate,C!==null&&C.memoizedState!==null?(C=cb,cb=16777216,Fh(a,d,g),cb=C):Fh(a,d,g));break;default:Fh(a,d,g)}}function G0(a){var d=a.alternate;if(d!==null&&(a=d.child,a!==null)){d.child=null;do d=a.sibling,a.sibling=null,a=d;while(a!==null)}}function Sr(a){var d=a.deletions;if((a.flags&16)!==0){if(d!==null)for(var g=0;g<d.length;g++){var C=d[g];hl=C,Fp(C,a)}G0(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Hv(a),a=a.sibling}function Hv(a){switch(a.tag){case 0:case 11:case 15:Sr(a),a.flags&2048&&jm(9,a,a.return);break;case 3:Sr(a);break;case 12:Sr(a);break;case 22:var d=a.stateNode;a.memoizedState!==null&&d._visibility&2&&(a.return===null||a.return.tag!==13)?(d._visibility&=-3,Ff(a)):Sr(a);break;default:Sr(a)}}function Ff(a){var d=a.deletions;if((a.flags&16)!==0){if(d!==null)for(var g=0;g<d.length;g++){var C=d[g];hl=C,Fp(C,a)}G0(a)}for(a=a.child;a!==null;){switch(d=a,d.tag){case 0:case 11:case 15:jm(8,d,d.return),Ff(d);break;case 22:g=d.stateNode,g._visibility&2&&(g._visibility&=-3,Ff(d));break;default:Ff(d)}a=a.sibling}}function Fp(a,d){for(;hl!==null;){var g=hl;switch(g.tag){case 0:case 11:case 15:jm(8,g,d);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var C=g.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:Sd(g.memoizedState.cache)}if(C=g.child,C!==null)C.return=g,hl=C;else e:for(g=a;hl!==null;){C=hl;var R=C.sibling,$=C.return;if(Ey(C),C===g){hl=null;break e}if(R!==null){R.return=$,hl=R;break e}hl=$}}}var Ay={getCacheForType:function(a){var d=ys(Ga),g=d.data.get(a);return g===void 0&&(g=a(),d.data.set(a,g)),g},cacheSignal:function(){return ys(Ga).controller.signal}},Ph=typeof WeakMap=="function"?WeakMap:Map,Ns=0,pa=null,pr=null,kr=0,Oa=0,Pu=null,Pf=!1,Pp=!1,ub=!1,fm=0,xi=0,Lc=0,wc=0,mm=0,Md=0,$h=0,$p=null,od=null,db=!1,Ip=0,fb=0,Hp=1/0,Bd=null,$f=null,Yi=0,Ld=null,zp=null,Fd=0,Cc=0,zv=null,ky=null,jp=0,K0=null;function Pd(){return(Ns&2)!==0&&kr!==0?kr&-kr:P.T!==null?$d():sl()}function Lg(){if(Md===0)if((kr&536870912)===0||Gs){var a=$n;$n<<=1,($n&3932160)===0&&($n=262144),Md=a}else Md=536870912;return a=su.current,a!==null&&(a.flags|=32),Md}function sd(a,d,g){(a===pa&&(Oa===2||Oa===9)||a.cancelPendingCommit!==null)&&(tc(a,0),ds(a,kr,Md,!1)),Gn(a,g),((Ns&2)===0||a!==pa)&&(a===pa&&((Ns&2)===0&&(wc|=g),xi===4&&ds(a,kr,Md,!1)),df(a))}function Y0(a,d,g){if((Ns&6)!==0)throw Error(x(327));var C=!g&&(d&127)===0&&(d&a.expiredLanes)===0||Ba(a,d),R=C?hb(a,d):Vv(a,d,!0),$=C;do{if(R===0){Pp&&!C&&ds(a,d,0,!1);break}else{if(g=a.current.alternate,$&&!N2(g)){R=Vv(a,d,!1),$=!1;continue}if(R===2){if($=d,a.errorRecoveryDisabledLanes&$)var se=0;else se=a.pendingLanes&-536870913,se=se!==0?se:se&536870912?536870912:0;if(se!==0){d=se;e:{var de=a;R=$p;var it=de.current.memoizedState.isDehydrated;if(it&&(tc(de,se).flags|=256),se=Vv(de,se,!1),se!==2){if(ub&&!it){de.errorRecoveryDisabledLanes|=$,wc|=$,R=4;break e}$=od,od=R,$!==null&&(od===null?od=$:od.push.apply(od,$))}R=se}if($=!1,R!==2)continue}}if(R===1){tc(a,0),ds(a,d,0,!0);break}e:{switch(C=a,$=R,$){case 0:case 1:throw Error(x(345));case 4:if((d&4194048)!==d)break;case 6:ds(C,d,Md,!Pf);break e;case 2:od=null;break;case 3:case 5:break;default:throw Error(x(329))}if((d&62914560)===d&&(R=Ip+300-ln(),10<R)){if(ds(C,d,Md,!Pf),ui(C,0,!0)!==0)break e;Fd=d,C.timeoutHandle=t1(_y.bind(null,C,g,od,Bd,db,d,Md,wc,$h,Pf,$,"Throttled",-0,0),R);break e}_y(C,g,od,Bd,db,d,Md,wc,$h,Pf,$,null,-0,0)}}break}while(!0);df(a)}function _y(a,d,g,C,R,$,se,de,it,Vt,gn,An,Yt,sn){if(a.timeoutHandle=-1,An=d.subtreeFlags,An&8192||(An&16785408)===16785408){An={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pi},Zm(d,$,An);var Ko=($&62914560)===$?Ip-ln():($&4194048)===$?fb-ln():0;if(Ko=kb(An,Ko),Ko!==null){Fd=$,a.cancelPendingCommit=Ko(F2.bind(null,a,d,$,g,C,R,se,de,it,gn,An,null,Yt,sn)),ds(a,$,se,!Vt);return}}F2(a,d,$,g,C,R,se,de,it)}function N2(a){for(var d=a;;){var g=d.tag;if((g===0||g===11||g===15)&&d.flags&16384&&(g=d.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var C=0;C<g.length;C++){var R=g[C],$=R.getSnapshot;R=R.value;try{if(!vl($(),R))return!1}catch{return!1}}if(g=d.child,d.subtreeFlags&16384&&g!==null)g.return=d,d=g;else{if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function ds(a,d,g,C){d&=~mm,d&=~wc,a.suspendedLanes|=d,a.pingedLanes&=~d,C&&(a.warmLanes|=d),C=a.expirationTimes;for(var R=d;0<R;){var $=31-xs(R),se=1<<$;C[$]=-1,R&=~se}g!==0&&yo(a,g,d)}function Vp(){return(Ns&6)===0?(J0(0),!1):!0}function Rs(){if(pr!==null){if(Oa===0)var a=pr.return;else a=pr,qa=Ar=null,rf(a),Nf=null,rm=0,a=pr;for(;a!==null;)Bp(a.alternate,a),a=a.return;pr=null}}function tc(a,d){var g=a.timeoutHandle;g!==-1&&(a.timeoutHandle=-1,Kv(g)),g=a.cancelPendingCommit,g!==null&&(a.cancelPendingCommit=null,g()),Fd=0,Rs(),pa=a,pr=g=Pa(a.current,null),kr=d,Oa=0,Pu=null,Pf=!1,Pp=Ba(a,d),ub=!1,$h=Md=mm=wc=Lc=xi=0,od=$p=null,db=!1,(d&8)!==0&&(d|=d&32);var C=a.entangledLanes;if(C!==0)for(a=a.entanglements,C&=d;0<C;){var R=31-xs(C),$=1<<R;d|=a[R],C&=~$}return fm=d,Qc(),g}function Ih(a,d){Js=null,P.H=ia,d===of||d===Eg?(d=Y1(),Oa=3):d===Sg?(d=Y1(),Oa=4):Oa=d===Pv?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Pu=d,pr===null&&(xi=1,vy(a,sa(d,a.current)))}function X0(){var a=su.current;return a===null?!0:(kr&4194048)===kr?Nu===null:(kr&62914560)===kr||(kr&536870912)!==0?a===Nu:!1}function er(){var a=P.H;return P.H=ia,a===null?ia:a}function jv(){var a=P.A;return P.A=Ay,a}function mb(){xi=4,Pf||(kr&4194048)!==kr&&su.current!==null||(Pp=!0),(Lc&134217727)===0&&(wc&134217727)===0||pa===null||ds(pa,kr,Md,!1)}function Vv(a,d,g){var C=Ns;Ns|=2;var R=er(),$=jv();(pa!==a||kr!==d)&&(Bd=null,tc(a,d)),d=!1;var se=xi;e:do try{if(Oa!==0&&pr!==null){var de=pr,it=Pu;switch(Oa){case 8:Rs(),se=6;break e;case 3:case 2:case 9:case 6:su.current===null&&(d=!0);var Vt=Oa;if(Oa=0,Pu=null,Zp(a,de,it,Vt),g&&Pp){se=0;break e}break;default:Vt=Oa,Oa=0,Pu=null,Zp(a,de,it,Vt)}}Up(),se=xi;break}catch(gn){Ih(a,gn)}while(!0);return d&&a.shellSuspendCounter++,qa=Ar=null,Ns=C,P.H=R,P.A=$,pr===null&&(pa=null,kr=0,Qc()),se}function Up(){for(;pr!==null;)M2(pr)}function hb(a,d){var g=Ns;Ns|=2;var C=er(),R=jv();pa!==a||kr!==d?(Bd=null,Hp=ln()+500,tc(a,d)):Pp=Ba(a,d);e:do try{if(Oa!==0&&pr!==null){d=pr;var $=Pu;t:switch(Oa){case 1:Oa=0,Pu=null,Zp(a,d,$,1);break;case 2:case 9:if(Td($)){Oa=0,Pu=null,B2(d);break}d=function(){Oa!==2&&Oa!==9||pa!==a||(Oa=7),df(a)},$.then(d,d);break e;case 3:Oa=7;break e;case 4:Oa=5;break e;case 7:Td($)?(Oa=0,Pu=null,B2(d)):(Oa=0,Pu=null,Zp(a,d,$,7));break;case 5:var se=null;switch(pr.tag){case 26:se=pr.memoizedState;case 5:case 27:var de=pr;if(se?zy(se):de.stateNode.complete){Oa=0,Pu=null;var it=de.sibling;if(it!==null)pr=it;else{var Vt=de.return;Vt!==null?(pr=Vt,gb(Vt)):pr=null}break t}}Oa=0,Pu=null,Zp(a,d,$,5);break;case 6:Oa=0,Pu=null,Zp(a,d,$,6);break;case 8:Rs(),xi=6;break e;default:throw Error(x(462))}}R2();break}catch(gn){Ih(a,gn)}while(!0);return qa=Ar=null,P.H=C,P.A=R,Ns=g,pr!==null?0:(pa=null,kr=0,Qc(),xi)}function R2(){for(;pr!==null&&!go();)M2(pr)}function M2(a){var d=Xa(a.alternate,a,fm);a.memoizedProps=a.pendingProps,d===null?gb(a):pr=d}function B2(a){var d=a,g=d.alternate;switch(d.tag){case 15:case 0:d=$v(g,d,d.pendingProps,d.type,void 0,kr);break;case 11:d=$v(g,d,d.pendingProps,d.type.render,d.ref,kr);break;case 5:rf(d);default:Bp(g,d),d=pr=fa(d,fm),d=Xa(g,d,fm)}a.memoizedProps=a.pendingProps,d===null?gb(a):pr=d}function Zp(a,d,g,C){qa=Ar=null,rf(d),Nf=null,rm=0;var R=d.return;try{if(zC(a,R,d,g,kr)){xi=1,vy(a,sa(g,a.current)),pr=null;return}}catch($){if(R!==null)throw pr=R,$;xi=1,vy(a,sa(g,a.current)),pr=null;return}d.flags&32768?(Gs||C===1?a=!0:Pp||(kr&536870912)!==0?a=!1:(Pf=a=!0,(C===2||C===9||C===3||C===6)&&(C=su.current,C!==null&&C.tag===13&&(C.flags|=16384))),L2(d,a)):gb(d)}function gb(a){var d=a;do{if((d.flags&32768)!==0){L2(d,Pf);return}a=d.return;var g=gr(d.alternate,d,fm);if(g!==null){pr=g;return}if(d=d.sibling,d!==null){pr=d;return}pr=d=a}while(d!==null);xi===0&&(xi=5)}function L2(a,d){do{var g=um(a.alternate,a);if(g!==null){g.flags&=32767,pr=g;return}if(g=a.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!d&&(a=a.sibling,a!==null)){pr=a;return}pr=a=g}while(a!==null);xi=6,pr=null}function F2(a,d,g,C,R,$,se,de,it){a.cancelPendingCommit=null;do rd();while(Yi!==0);if((Ns&6)!==0)throw Error(x(327));if(d!==null){if(d===a.current)throw Error(x(177));if($=d.lanes|d.childLanes,$|=ku,Wn(a,g,$,se,de,it),a===pa&&(pr=pa=null,kr=0),zp=d,Ld=a,Fd=g,Cc=$,zv=R,ky=C,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,bb(gs,function(){return hm(),null})):(a.callbackNode=null,a.callbackPriority=0),C=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||C){C=P.T,P.T=null,R=zt.p,zt.p=2,se=Ns,Ns|=4;try{ib(a,d,g)}finally{Ns=se,zt.p=R,P.T=C}}Yi=1,Fg(),$u(),Xi()}}function Fg(){if(Yi===1){Yi=0;var a=Ld,d=zp,g=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||g){g=P.T,P.T=null;var C=zt.p;zt.p=2;var R=Ns;Ns|=4;try{du(d,a);var $=qm,se=L0(a.containerInfo),de=$.focusedElem,it=$.selectionRange;if(se!==de&&de&&de.ownerDocument&&Oc(de.ownerDocument.documentElement,de)){if(it!==null&&bp(de)){var Vt=it.start,gn=it.end;if(gn===void 0&&(gn=Vt),"selectionStart"in de)de.selectionStart=Vt,de.selectionEnd=Math.min(gn,de.value.length);else{var An=de.ownerDocument||document,Yt=An&&An.defaultView||window;if(Yt.getSelection){var sn=Yt.getSelection(),Ko=de.textContent.length,As=Math.min(it.start,Ko),mi=it.end===void 0?As:Math.min(it.end,Ko);!sn.extend&&As>mi&&(se=mi,mi=As,As=se);var Qe=Nl(de,As),mt=Nl(de,mi);if(Qe&&mt&&(sn.rangeCount!==1||sn.anchorNode!==Qe.node||sn.anchorOffset!==Qe.offset||sn.focusNode!==mt.node||sn.focusOffset!==mt.offset)){var Ht=An.createRange();Ht.setStart(Qe.node,Qe.offset),sn.removeAllRanges(),As>mi?(sn.addRange(Ht),sn.extend(mt.node,mt.offset)):(Ht.setEnd(mt.node,mt.offset),sn.addRange(Ht))}}}}for(An=[],sn=de;sn=sn.parentNode;)sn.nodeType===1&&An.push({element:sn,left:sn.scrollLeft,top:sn.scrollTop});for(typeof de.focus=="function"&&de.focus(),de=0;de<An.length;de++){var fn=An[de];fn.element.scrollLeft=fn.left,fn.element.scrollTop=fn.top}}no=!!Uh,qm=Uh=null}finally{Ns=R,zt.p=C,P.T=g}}a.current=d,Yi=2}}function $u(){if(Yi===2){Yi=0;var a=Ld,d=zp,g=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||g){g=P.T,P.T=null;var C=zt.p;zt.p=2;var R=Ns;Ns|=4;try{Sy(a,d.alternate,d)}finally{Ns=R,zt.p=C,P.T=g}}Yi=3}}function Xi(){if(Yi===4||Yi===3){Yi=0,vt();var a=Ld,d=zp,g=Fd,C=ky;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?Yi=5:(Yi=0,zp=Ld=null,Hh(a,a.pendingLanes));var R=a.pendingLanes;if(R===0&&($f=null),La(g),d=d.stateNode,Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(Ra,d,void 0,(d.current.flags&128)===128)}catch{}if(C!==null){d=P.T,R=zt.p,zt.p=2,P.T=null;try{for(var $=a.onRecoverableError,se=0;se<C.length;se++){var de=C[se];$(de.value,{componentStack:de.stack})}}finally{P.T=d,zt.p=R}}(Fd&3)!==0&&rd(),df(a),R=a.pendingLanes,(g&261930)!==0&&(R&42)!==0?a===K0?jp++:(jp=0,K0=a):jp=0,J0(0)}}function Hh(a,d){(a.pooledCacheLanes&=d)===0&&(d=a.pooledCache,d!=null&&(a.pooledCache=null,Sd(d)))}function rd(){return Fg(),$u(),Xi(),hm()}function hm(){if(Yi!==5)return!1;var a=Ld,d=Cc;Cc=0;var g=La(Fd),C=P.T,R=zt.p;try{zt.p=32>g?32:g,P.T=null,g=zv,zv=null;var $=Ld,se=Fd;if(Yi=0,zp=Ld=null,Fd=0,(Ns&6)!==0)throw Error(x(331));var de=Ns;if(Ns|=4,Hv($.current),Bf($,$.current,se,g),Ns=de,J0(0,!1),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(Ra,$)}catch{}return!0}finally{zt.p=R,P.T=C,Hh(a,d)}}function Wp(a,d,g){d=sa(g,d),d=Rp(a.stateNode,d,2),a=Rf(a,d,2),a!==null&&(Gn(a,2),df(a))}function la(a,d,g){if(a.tag===3)Wp(a,a,g);else for(;d!==null;){if(d.tag===3){Wp(d,a,g);break}else if(d.tag===1){var C=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&($f===null||!$f.has(C))){a=sa(g,a),g=wy(2),C=Rf(d,g,2),C!==null&&(nb(g,C,d,a),Gn(C,2),df(C));break}}d=d.return}}function Q0(a,d,g){var C=a.pingCache;if(C===null){C=a.pingCache=new Ph;var R=new Set;C.set(d,R)}else R=C.get(d),R===void 0&&(R=new Set,C.set(d,R));R.has(g)||(ub=!0,R.add(g),a=VC.bind(null,a,d,g),d.then(a,a))}function VC(a,d,g){var C=a.pingCache;C!==null&&C.delete(d),a.pingedLanes|=a.suspendedLanes&g,a.warmLanes&=~g,pa===a&&(kr&g)===g&&(xi===4||xi===3&&(kr&62914560)===kr&&300>ln()-Ip?(Ns&2)===0&&tc(a,0):mm|=g,$h===kr&&($h=0)),df(a)}function pb(a,d){d===0&&(d=Ut()),a=Wi(a,d),a!==null&&(Gn(a,d),df(a))}function Uv(a){var d=a.memoizedState,g=0;d!==null&&(g=d.retryLane),pb(a,g)}function Zv(a,d){var g=0;switch(a.tag){case 31:case 13:var C=a.stateNode,R=a.memoizedState;R!==null&&(g=R.retryLane);break;case 19:C=a.stateNode;break;case 22:C=a.stateNode._retryCache;break;default:throw Error(x(314))}C!==null&&C.delete(d),pb(a,g)}function bb(a,d){return xt(a,d)}var If=null,zh=null,qp=!1,Gp=!1,Dy=!1,fu=0;function df(a){a!==zh&&a.next===null&&(zh===null?If=zh=a:zh=zh.next=a),Gp=!0,qp||(qp=!0,$2())}function J0(a,d){if(!Dy&&Gp){Dy=!0;do for(var g=!1,C=If;C!==null;){if(a!==0){var R=C.pendingLanes;if(R===0)var $=0;else{var se=C.suspendedLanes,de=C.pingedLanes;$=(1<<31-xs(42|a)+1)-1,$&=R&~(se&~de),$=$&201326741?$&201326741|1:$?$|2:0}$!==0&&(g=!0,gm(C,$))}else $=kr,$=ui(C,C===pa?$:0,C.cancelPendingCommit!==null||C.timeoutHandle!==-1),($&3)===0||Ba(C,$)||(g=!0,gm(C,$));C=C.next}while(g);Dy=!1}}function UC(){P2()}function P2(){Gp=qp=!1;var a=0;fu!==0&&Gv()&&(a=fu);for(var d=ln(),g=null,C=If;C!==null;){var R=C.next,$=Wv(C,d);$===0?(C.next=null,g===null?If=R:g.next=R,R===null&&(zh=g)):(g=C,(a!==0||($&3)!==0)&&(Gp=!0)),C=R}Yi!==0&&Yi!==5||J0(a),fu!==0&&(fu=0)}function Wv(a,d){for(var g=a.suspendedLanes,C=a.pingedLanes,R=a.expirationTimes,$=a.pendingLanes&-62914561;0<$;){var se=31-xs($),de=1<<se,it=R[se];it===-1?((de&g)===0||(de&C)!==0)&&(R[se]=Nn(de,d)):it<=d&&(a.expiredLanes|=de),$&=~de}if(d=pa,g=kr,g=ui(a,a===d?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),C=a.callbackNode,g===0||a===d&&(Oa===2||Oa===9)||a.cancelPendingCommit!==null)return C!==null&&C!==null&&jn(C),a.callbackNode=null,a.callbackPriority=0;if((g&3)===0||Ba(a,g)){if(d=g&-g,d===a.callbackPriority)return d;switch(C!==null&&jn(C),La(g)){case 2:case 8:g=mr;break;case 32:g=gs;break;case 268435456:g=Gr;break;default:g=gs}return C=Oy.bind(null,a),g=xt(g,C),a.callbackPriority=d,a.callbackNode=g,d}return C!==null&&C!==null&&jn(C),a.callbackPriority=2,a.callbackNode=null,2}function Oy(a,d){if(Yi!==0&&Yi!==5)return a.callbackNode=null,a.callbackPriority=0,null;var g=a.callbackNode;if(rd()&&a.callbackNode!==g)return null;var C=kr;return C=ui(a,a===pa?C:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),C===0?null:(Y0(a,C,d),Wv(a,ln()),a.callbackNode!=null&&a.callbackNode===g?Oy.bind(null,a):null)}function gm(a,d){if(rd())return null;Y0(a,d,!0)}function $2(){gl(function(){(Ns&6)!==0?xt(Qo,UC):P2()})}function $d(){if(fu===0){var a=wg;a===0&&(a=Ma,Ma<<=1,(Ma&261888)===0&&(Ma=256)),fu=a}return fu}function Sc(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ri(""+a)}function Id(a,d){var g=d.ownerDocument.createElement("input");return g.name=d.name,g.value=d.value,a.id&&g.setAttribute("form",a.id),d.parentNode.insertBefore(g,d),a=new FormData(a),g.parentNode.removeChild(g),a}function mu(a,d,g,C,R){if(d==="submit"&&g&&g.stateNode===R){var $=Sc((R[Xs]||null).action),se=C.submitter;se&&(d=(d=se[Xs]||null)?Sc(d.formAction):se.getAttribute("formAction"),d!==null&&($=d,se=null));var de=new fc("action","action",null,C,R);a.push({event:de,listeners:[{instance:null,listener:function(){if(C.defaultPrevented){if(fu!==0){var it=se?Id(R,se):new FormData(R);Qu(g,{pending:!0,data:it,method:R.method,action:$},null,it)}}else typeof $=="function"&&(de.preventDefault(),it=se?Id(R,se):new FormData(R),Qu(g,{pending:!0,data:it,method:R.method,action:$},$,it))},currentTarget:R}]})}}for(var e1=0;e1<da.length;e1++){var jh=da[e1],Ny=jh.toLowerCase(),qv=jh[0].toUpperCase()+jh.slice(1);bs(Ny,"on"+qv)}bs(mc,"onAnimationEnd"),bs(Sh,"onAnimationIteration"),bs(G1,"onAnimationStart"),bs("dblclick","onDoubleClick"),bs("focusin","onFocus"),bs("focusout","onBlur"),bs(ts,"onTransitionRun"),bs(nm,"onTransitionStart"),bs(Ai,"onTransitionCancel"),bs(xd,"onTransitionEnd"),Wt("onMouseEnter",["mouseout","mouseover"]),Wt("onMouseLeave",["mouseout","mouseover"]),Wt("onPointerEnter",["pointerout","pointerover"]),Wt("onPointerLeave",["pointerout","pointerover"]),yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yb));function Vh(a,d){d=(d&4)!==0;for(var g=0;g<a.length;g++){var C=a[g],R=C.event;C=C.listeners;e:{var $=void 0;if(d)for(var se=C.length-1;0<=se;se--){var de=C[se],it=de.instance,Vt=de.currentTarget;if(de=de.listener,it!==$&&R.isPropagationStopped())break e;$=de,R.currentTarget=Vt;try{$(R)}catch(gn){P0(gn)}R.currentTarget=null,$=it}else for(se=0;se<C.length;se++){if(de=C[se],it=de.instance,Vt=de.currentTarget,de=de.listener,it!==$&&R.isPropagationStopped())break e;$=de,R.currentTarget=Vt;try{$(R)}catch(gn){P0(gn)}R.currentTarget=null,$=it}}}}function _r(a,d){var g=d[Pe];g===void 0&&(g=d[Pe]=new Set);var C=a+"__bubble";g.has(C)||(vb(d,a,2,!1),g.add(C))}function Hi(a,d,g){var C=0;d&&(C|=4),vb(g,a,C,d)}var $g="_reactListening"+Math.random().toString(36).slice(2);function Fc(a){if(!a[$g]){a[$g]=!0,je.forEach(function(g){g!=="selectionchange"&&(Pg.has(g)||Hi(g,!1,a),Hi(g,!0,a))});var d=a.nodeType===9?a:a.ownerDocument;d===null||d[$g]||(d[$g]=!0,Hi("selectionchange",!1,d))}}function vb(a,d,g,C){switch(Db(d)){case 2:var R=r1;break;case 8:R=Vy;break;default:R=a1}g=R.bind(null,d,g,a),R=void 0,!qc||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(R=!0),C?R!==void 0?a.addEventListener(d,g,{capture:!0,passive:R}):a.addEventListener(d,g,!0):R!==void 0?a.addEventListener(d,g,{passive:R}):a.addEventListener(d,g,!1)}function Er(a,d,g,C,R){var $=C;if((d&1)===0&&(d&2)===0&&C!==null)e:for(;;){if(C===null)return;var se=C.tag;if(se===3||se===4){var de=C.stateNode.containerInfo;if(de===R)break;if(se===4)for(se=C.return;se!==null;){var it=se.tag;if((it===3||it===4)&&se.stateNode.containerInfo===R)return;se=se.return}for(;de!==null;){if(se=Vo(de),se===null)return;if(it=se.tag,it===5||it===6||it===26||it===27){C=$=se;continue e}de=de.parentNode}}C=C.return}Eu(function(){var Vt=$,gn=Kd(g),An=[];e:{var Yt=wd.get(a);if(Yt!==void 0){var sn=fc,Ko=a;switch(a){case"keypress":if(al(g)===0)break e;case"keydown":case"keyup":sn=Xd;break;case"focusin":Ko="focus",sn=Ti;break;case"focusout":Ko="blur",sn=Ti;break;case"beforeblur":case"afterblur":sn=Ti;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":sn=Zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":sn=sr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":sn=R0;break;case mc:case Sh:case G1:sn=oe;break;case xd:sn=ye;break;case"scroll":case"scrollend":sn=Af;break;case"wheel":sn=ft;break;case"copy":case"cut":case"paste":sn=Xe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":sn=kf;break;case"toggle":case"beforetoggle":sn=po}var As=(d&4)!==0,mi=!As&&(a==="scroll"||a==="scrollend"),Qe=As?Yt!==null?Yt+"Capture":null:Yt;As=[];for(var mt=Vt,Ht;mt!==null;){var fn=mt;if(Ht=fn.stateNode,fn=fn.tag,fn!==5&&fn!==26&&fn!==27||Ht===null||Qe===null||(fn=Yd(mt,Qe),fn!=null&&As.push(ad(mt,fn,Ht))),mi)break;mt=mt.return}0<As.length&&(Yt=new sn(Yt,Ko,null,g,gn),An.push({event:Yt,listeners:As}))}}if((d&7)===0){e:{if(Yt=a==="mouseover"||a==="pointerover",sn=a==="mouseout"||a==="pointerout",Yt&&g!==jr&&(Ko=g.relatedTarget||g.fromElement)&&(Vo(Ko)||Ko[jl]))break e;if((sn||Yt)&&(Yt=gn.window===gn?gn:(Yt=gn.ownerDocument)?Yt.defaultView||Yt.parentWindow:window,sn?(Ko=g.relatedTarget||g.toElement,sn=Vt,Ko=Ko?Vo(Ko):null,Ko!==null&&(mi=M(Ko),As=Ko.tag,Ko!==mi||As!==5&&As!==27&&As!==6)&&(Ko=null)):(sn=null,Ko=Vt),sn!==Ko)){if(As=Zn,fn="onMouseLeave",Qe="onMouseEnter",mt="mouse",(a==="pointerout"||a==="pointerover")&&(As=kf,fn="onPointerLeave",Qe="onPointerEnter",mt="pointer"),mi=sn==null?Yt:Ao(sn),Ht=Ko==null?Yt:Ao(Ko),Yt=new As(fn,mt+"leave",sn,g,gn),Yt.target=mi,Yt.relatedTarget=Ht,fn=null,Vo(gn)===Vt&&(As=new As(Qe,mt+"enter",Ko,g,gn),As.target=Ht,As.relatedTarget=mi,fn=As),mi=fn,sn&&Ko)t:{for(As=pm,Qe=sn,mt=Ko,Ht=0,fn=Qe;fn;fn=As(fn))Ht++;fn=0;for(var us=mt;us;us=As(us))fn++;for(;0<Ht-fn;)Qe=As(Qe),Ht--;for(;0<fn-Ht;)mt=As(mt),fn--;for(;Ht--;){if(Qe===mt||mt!==null&&Qe===mt.alternate){As=Qe;break t}Qe=As(Qe),mt=As(mt)}As=null}else As=null;sn!==null&&id(An,Yt,sn,As,!1),Ko!==null&&mi!==null&&id(An,mi,Ko,As,!0)}}e:{if(Yt=Vt?Ao(Vt):window,sn=Yt.nodeName&&Yt.nodeName.toLowerCase(),sn==="select"||sn==="input"&&Yt.type==="file")var Hs=Z1;else if(vh(Yt))if(Za)Hs=_e;else{Hs=yg;var Wo=vd}else sn=Yt.nodeName,!sn||sn.toLowerCase()!=="input"||Yt.type!=="checkbox"&&Yt.type!=="radio"?Vt&&Ef(Vt.elementType)&&(Hs=Z1):Hs=q1;if(Hs&&(Hs=Hs(a,Vt))){pp(An,Hs,g,gn);break e}Wo&&Wo(a,Yt,Vt),a==="focusout"&&Vt&&Yt.type==="number"&&Vt.memoizedProps.value!=null&&Si(Yt,"number",Yt.value)}switch(Wo=Vt?Ao(Vt):window,a){case"focusin":(vh(Wo)||Wo.contentEditable==="true")&&(xl=Wo,vp=Vt,Au=null);break;case"focusout":Au=vp=xl=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,F0(An,g,gn);break;case"selectionchange":if(yp)break;case"keydown":case"keyup":F0(An,g,gn)}var tr;if(Ea)e:{switch(a){case"compositionstart":var Dr="onCompositionStart";break e;case"compositionend":Dr="onCompositionEnd";break e;case"compositionupdate":Dr="onCompositionUpdate";break e}Dr=void 0}else ll?Nm(a,g)&&(Dr="onCompositionEnd"):a==="keydown"&&g.keyCode===229&&(Dr="onCompositionStart");Dr&&(Ul&&g.locale!=="ko"&&(ll||Dr!=="onCompositionStart"?Dr==="onCompositionEnd"&&ll&&(tr=Vl()):(un=gn,Tu="value"in un?un.value:un.textContent,ll=!0)),Wo=Hf(Vt,Dr),0<Wo.length&&(Dr=new hn(Dr,a,null,g,gn),An.push({event:Dr,listeners:Wo}),tr?Dr.data=tr:(tr=Wl(g),tr!==null&&(Dr.data=tr)))),(tr=Zi?Jd(a,g):Dc(a,g))&&(Dr=Hf(Vt,"onBeforeInput"),0<Dr.length&&(Wo=new hn("onBeforeInput","beforeinput",null,g,gn),An.push({event:Wo,listeners:Dr}),Wo.data=tr)),mu(An,a,Vt,g,gn)}Vh(An,d)})}function ad(a,d,g){return{instance:a,listener:d,currentTarget:g}}function Hf(a,d){for(var g=d+"Capture",C=[];a!==null;){var R=a,$=R.stateNode;if(R=R.tag,R!==5&&R!==26&&R!==27||$===null||(R=Yd(a,g),R!=null&&C.unshift(ad(a,R,$)),R=Yd(a,d),R!=null&&C.push(ad(a,R,$))),a.tag===3)return C;a=a.return}return[]}function pm(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function id(a,d,g,C,R){for(var $=d._reactName,se=[];g!==null&&g!==C;){var de=g,it=de.alternate,Vt=de.stateNode;if(de=de.tag,it!==null&&it===C)break;de!==5&&de!==26&&de!==27||Vt===null||(it=Vt,R?(Vt=Yd(g,$),Vt!=null&&se.unshift(ad(g,Vt,it))):R||(Vt=Yd(g,$),Vt!=null&&se.push(ad(g,Vt,it)))),g=g.return}se.length!==0&&a.push({event:d,listeners:se})}var Ry=/\r\n?/g,I2=/\u0000|\uFFFD/g;function Wm(a){return(typeof a=="string"?a:""+a).replace(Ry,`
`).replace(I2,"")}function Ig(a,d){return d=Wm(d),Wm(a)===d}function Ja(a,d,g,C,R,$){switch(g){case"children":typeof C=="string"?d==="body"||d==="textarea"&&C===""||uc(a,C):(typeof C=="number"||typeof C=="bigint")&&d!=="body"&&uc(a,""+C);break;case"className":ws(a,"class",C);break;case"tabIndex":ws(a,"tabindex",C);break;case"dir":case"role":case"viewBox":case"width":case"height":ws(a,g,C);break;case"style":dc(a,C,$);break;case"data":if(d!=="object"){ws(a,"data",C);break}case"src":case"href":if(C===""&&(d!=="a"||g!=="href")){a.removeAttribute(g);break}if(C==null||typeof C=="function"||typeof C=="symbol"||typeof C=="boolean"){a.removeAttribute(g);break}C=Ri(""+C),a.setAttribute(g,C);break;case"action":case"formAction":if(typeof C=="function"){a.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof $=="function"&&(g==="formAction"?(d!=="input"&&Ja(a,d,"name",R.name,R,null),Ja(a,d,"formEncType",R.formEncType,R,null),Ja(a,d,"formMethod",R.formMethod,R,null),Ja(a,d,"formTarget",R.formTarget,R,null)):(Ja(a,d,"encType",R.encType,R,null),Ja(a,d,"method",R.method,R,null),Ja(a,d,"target",R.target,R,null)));if(C==null||typeof C=="symbol"||typeof C=="boolean"){a.removeAttribute(g);break}C=Ri(""+C),a.setAttribute(g,C);break;case"onClick":C!=null&&(a.onclick=pi);break;case"onScroll":C!=null&&_r("scroll",a);break;case"onScrollEnd":C!=null&&_r("scrollend",a);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(x(61));if(g=C.__html,g!=null){if(R.children!=null)throw Error(x(60));a.innerHTML=g}}break;case"multiple":a.multiple=C&&typeof C!="function"&&typeof C!="symbol";break;case"muted":a.muted=C&&typeof C!="function"&&typeof C!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(C==null||typeof C=="function"||typeof C=="boolean"||typeof C=="symbol"){a.removeAttribute("xlink:href");break}g=Ri(""+C),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":C!=null&&typeof C!="function"&&typeof C!="symbol"?a.setAttribute(g,""+C):a.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":C&&typeof C!="function"&&typeof C!="symbol"?a.setAttribute(g,""):a.removeAttribute(g);break;case"capture":case"download":C===!0?a.setAttribute(g,""):C!==!1&&C!=null&&typeof C!="function"&&typeof C!="symbol"?a.setAttribute(g,C):a.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":C!=null&&typeof C!="function"&&typeof C!="symbol"&&!isNaN(C)&&1<=C?a.setAttribute(g,C):a.removeAttribute(g);break;case"rowSpan":case"start":C==null||typeof C=="function"||typeof C=="symbol"||isNaN(C)?a.removeAttribute(g):a.setAttribute(g,C);break;case"popover":_r("beforetoggle",a),_r("toggle",a),ps(a,"popover",C);break;case"xlinkActuate":Cs(a,"http://www.w3.org/1999/xlink","xlink:actuate",C);break;case"xlinkArcrole":Cs(a,"http://www.w3.org/1999/xlink","xlink:arcrole",C);break;case"xlinkRole":Cs(a,"http://www.w3.org/1999/xlink","xlink:role",C);break;case"xlinkShow":Cs(a,"http://www.w3.org/1999/xlink","xlink:show",C);break;case"xlinkTitle":Cs(a,"http://www.w3.org/1999/xlink","xlink:title",C);break;case"xlinkType":Cs(a,"http://www.w3.org/1999/xlink","xlink:type",C);break;case"xmlBase":Cs(a,"http://www.w3.org/XML/1998/namespace","xml:base",C);break;case"xmlLang":Cs(a,"http://www.w3.org/XML/1998/namespace","xml:lang",C);break;case"xmlSpace":Cs(a,"http://www.w3.org/XML/1998/namespace","xml:space",C);break;case"is":ps(a,"is",C);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Sn.get(g)||g,ps(a,g,C))}}function hu(a,d,g,C,R,$){switch(g){case"style":dc(a,C,$);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(x(61));if(g=C.__html,g!=null){if(R.children!=null)throw Error(x(60));a.innerHTML=g}}break;case"children":typeof C=="string"?uc(a,C):(typeof C=="number"||typeof C=="bigint")&&uc(a,""+C);break;case"onScroll":C!=null&&_r("scroll",a);break;case"onScrollEnd":C!=null&&_r("scrollend",a);break;case"onClick":C!=null&&(a.onclick=pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jt.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(R=g.endsWith("Capture"),d=g.slice(2,R?g.length-7:void 0),$=a[Xs]||null,$=$!=null?$[g]:null,typeof $=="function"&&a.removeEventListener(d,$,R),typeof C=="function")){typeof $!="function"&&$!==null&&(g in a?a[g]=null:a.hasAttribute(g)&&a.removeAttribute(g)),a.addEventListener(d,C,R);break e}g in a?a[g]=C:C===!0?a.setAttribute(g,""):ps(a,g,C)}}}function Qi(a,d,g){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_r("error",a),_r("load",a);var C=!1,R=!1,$;for($ in g)if(g.hasOwnProperty($)){var se=g[$];if(se!=null)switch($){case"src":C=!0;break;case"srcSet":R=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(x(137,d));default:Ja(a,d,$,se,g,null)}}R&&Ja(a,d,"srcSet",g.srcSet,g,null),C&&Ja(a,d,"src",g.src,g,null);return;case"input":_r("invalid",a);var de=$=se=R=null,it=null,Vt=null;for(C in g)if(g.hasOwnProperty(C)){var gn=g[C];if(gn!=null)switch(C){case"name":R=gn;break;case"type":se=gn;break;case"checked":it=gn;break;case"defaultChecked":Vt=gn;break;case"value":$=gn;break;case"defaultValue":de=gn;break;case"children":case"dangerouslySetInnerHTML":if(gn!=null)throw Error(x(137,d));break;default:Ja(a,d,C,gn,g,null)}}xo(a,$,de,it,Vt,se,R,!1);return;case"select":_r("invalid",a),C=se=$=null;for(R in g)if(g.hasOwnProperty(R)&&(de=g[R],de!=null))switch(R){case"value":$=de;break;case"defaultValue":se=de;break;case"multiple":C=de;default:Ja(a,d,R,de,g,null)}d=$,g=se,a.multiple=!!C,d!=null?oi(a,!!C,d,!1):g!=null&&oi(a,!!C,g,!0);return;case"textarea":_r("invalid",a),$=R=C=null;for(se in g)if(g.hasOwnProperty(se)&&(de=g[se],de!=null))switch(se){case"value":C=de;break;case"defaultValue":R=de;break;case"children":$=de;break;case"dangerouslySetInnerHTML":if(de!=null)throw Error(x(91));break;default:Ja(a,d,se,de,g,null)}Sf(a,C,R,$);return;case"option":for(it in g)g.hasOwnProperty(it)&&(C=g[it],C!=null)&&(it==="selected"?a.selected=C&&typeof C!="function"&&typeof C!="symbol":Ja(a,d,it,C,g,null));return;case"dialog":_r("beforetoggle",a),_r("toggle",a),_r("cancel",a),_r("close",a);break;case"iframe":case"object":_r("load",a);break;case"video":case"audio":for(C=0;C<yb.length;C++)_r(yb[C],a);break;case"image":_r("error",a),_r("load",a);break;case"details":_r("toggle",a);break;case"embed":case"source":case"link":_r("error",a),_r("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Vt in g)if(g.hasOwnProperty(Vt)&&(C=g[Vt],C!=null))switch(Vt){case"children":case"dangerouslySetInnerHTML":throw Error(x(137,d));default:Ja(a,d,Vt,C,g,null)}return;default:if(Ef(d)){for(gn in g)g.hasOwnProperty(gn)&&(C=g[gn],C!==void 0&&hu(a,d,gn,C,g,void 0));return}}for(de in g)g.hasOwnProperty(de)&&(C=g[de],C!=null&&Ja(a,d,de,C,g,null))}function nc(a,d,g,C){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var R=null,$=null,se=null,de=null,it=null,Vt=null,gn=null;for(sn in g){var An=g[sn];if(g.hasOwnProperty(sn)&&An!=null)switch(sn){case"checked":break;case"value":break;case"defaultValue":it=An;default:C.hasOwnProperty(sn)||Ja(a,d,sn,null,C,An)}}for(var Yt in C){var sn=C[Yt];if(An=g[Yt],C.hasOwnProperty(Yt)&&(sn!=null||An!=null))switch(Yt){case"type":$=sn;break;case"name":R=sn;break;case"checked":Vt=sn;break;case"defaultChecked":gn=sn;break;case"value":se=sn;break;case"defaultValue":de=sn;break;case"children":case"dangerouslySetInnerHTML":if(sn!=null)throw Error(x(137,d));break;default:sn!==An&&Ja(a,d,Yt,sn,C,An)}}Lr(a,se,de,it,Vt,gn,$,R);return;case"select":sn=se=de=Yt=null;for($ in g)if(it=g[$],g.hasOwnProperty($)&&it!=null)switch($){case"value":break;case"multiple":sn=it;default:C.hasOwnProperty($)||Ja(a,d,$,null,C,it)}for(R in C)if($=C[R],it=g[R],C.hasOwnProperty(R)&&($!=null||it!=null))switch(R){case"value":Yt=$;break;case"defaultValue":de=$;break;case"multiple":se=$;default:$!==it&&Ja(a,d,R,$,C,it)}d=de,g=se,C=sn,Yt!=null?oi(a,!!g,Yt,!1):!!C!=!!g&&(d!=null?oi(a,!!g,d,!0):oi(a,!!g,g?[]:"",!1));return;case"textarea":sn=Yt=null;for(de in g)if(R=g[de],g.hasOwnProperty(de)&&R!=null&&!C.hasOwnProperty(de))switch(de){case"value":break;case"children":break;default:Ja(a,d,de,null,C,R)}for(se in C)if(R=C[se],$=g[se],C.hasOwnProperty(se)&&(R!=null||$!=null))switch(se){case"value":Yt=R;break;case"defaultValue":sn=R;break;case"children":break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(x(91));break;default:R!==$&&Ja(a,d,se,R,C,$)}Qr(a,Yt,sn);return;case"option":for(var Ko in g)Yt=g[Ko],g.hasOwnProperty(Ko)&&Yt!=null&&!C.hasOwnProperty(Ko)&&(Ko==="selected"?a.selected=!1:Ja(a,d,Ko,null,C,Yt));for(it in C)Yt=C[it],sn=g[it],C.hasOwnProperty(it)&&Yt!==sn&&(Yt!=null||sn!=null)&&(it==="selected"?a.selected=Yt&&typeof Yt!="function"&&typeof Yt!="symbol":Ja(a,d,it,Yt,C,sn));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var As in g)Yt=g[As],g.hasOwnProperty(As)&&Yt!=null&&!C.hasOwnProperty(As)&&Ja(a,d,As,null,C,Yt);for(Vt in C)if(Yt=C[Vt],sn=g[Vt],C.hasOwnProperty(Vt)&&Yt!==sn&&(Yt!=null||sn!=null))switch(Vt){case"children":case"dangerouslySetInnerHTML":if(Yt!=null)throw Error(x(137,d));break;default:Ja(a,d,Vt,Yt,C,sn)}return;default:if(Ef(d)){for(var mi in g)Yt=g[mi],g.hasOwnProperty(mi)&&Yt!==void 0&&!C.hasOwnProperty(mi)&&hu(a,d,mi,void 0,C,Yt);for(gn in C)Yt=C[gn],sn=g[gn],!C.hasOwnProperty(gn)||Yt===sn||Yt===void 0&&sn===void 0||hu(a,d,gn,Yt,C,sn);return}}for(var Qe in g)Yt=g[Qe],g.hasOwnProperty(Qe)&&Yt!=null&&!C.hasOwnProperty(Qe)&&Ja(a,d,Qe,null,C,Yt);for(An in C)Yt=C[An],sn=g[An],!C.hasOwnProperty(An)||Yt===sn||Yt==null&&sn==null||Ja(a,d,An,Yt,C,sn)}function ff(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function My(){if(typeof performance.getEntriesByType=="function"){for(var a=0,d=0,g=performance.getEntriesByType("resource"),C=0;C<g.length;C++){var R=g[C],$=R.transferSize,se=R.initiatorType,de=R.duration;if($&&de&&ff(se)){for(se=0,de=R.responseEnd,C+=1;C<g.length;C++){var it=g[C],Vt=it.startTime;if(Vt>de)break;var gn=it.transferSize,An=it.initiatorType;gn&&ff(An)&&(it=it.responseEnd,se+=gn*(it<de?1:(de-Vt)/(it-Vt)))}if(--C,d+=8*($+se)/(R.duration/1e3),a++,10<a)break}}if(0<a)return d/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Uh=null,qm=null;function Hg(a){return a.nodeType===9?a:a.ownerDocument}function By(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xb(a,d){if(a===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&d==="foreignObject"?0:a}function Zh(a,d){return a==="textarea"||a==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Gm=null;function Gv(){var a=window.event;return a&&a.type==="popstate"?a===Gm?!1:(Gm=a,!0):(Gm=null,!1)}var t1=typeof setTimeout=="function"?setTimeout:void 0,Kv=typeof clearTimeout=="function"?clearTimeout:void 0,Yv=typeof Promise=="function"?Promise:void 0,gl=typeof queueMicrotask=="function"?queueMicrotask:typeof Yv<"u"?function(a){return Yv.resolve(null).then(a).catch(zg)}:t1;function zg(a){setTimeout(function(){throw a})}function ld(a){return a==="head"}function Xv(a,d){var g=d,C=0;do{var R=g.nextSibling;if(a.removeChild(g),R&&R.nodeType===8)if(g=R.data,g==="/$"||g==="/&"){if(C===0){a.removeChild(R),n0(d);return}C--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")C++;else if(g==="html")Km(a.ownerDocument.documentElement);else if(g==="head"){g=a.ownerDocument.head,Km(g);for(var $=g.firstChild;$;){var se=$.nextSibling,de=$.nodeName;$[To]||de==="SCRIPT"||de==="STYLE"||de==="LINK"&&$.rel.toLowerCase()==="stylesheet"||g.removeChild($),$=se}}else g==="body"&&Km(a.ownerDocument.body);g=R}while(g);n0(d)}function wb(a,d){var g=a;a=0;do{var C=g.nextSibling;if(g.nodeType===1?d?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(d?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),C&&C.nodeType===8)if(g=C.data,g==="/$"){if(a===0)break;a--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||a++;g=C}while(g)}function Cb(a){var d=a.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var g=d;switch(d=d.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":Cb(g),lo(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}a.removeChild(g)}}function Sb(a,d,g,C){for(;a.nodeType===1;){var R=g;if(a.nodeName.toLowerCase()!==d.toLowerCase()){if(!C&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(C){if(!a[To])switch(d){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if($=a.getAttribute("rel"),$==="stylesheet"&&a.hasAttribute("data-precedence"))break;if($!==R.rel||a.getAttribute("href")!==(R.href==null||R.href===""?null:R.href)||a.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin)||a.getAttribute("title")!==(R.title==null?null:R.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if($=a.getAttribute("src"),($!==(R.src==null?null:R.src)||a.getAttribute("type")!==(R.type==null?null:R.type)||a.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin))&&$&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(d==="input"&&a.type==="hidden"){var $=R.name==null?null:""+R.name;if(R.type==="hidden"&&a.getAttribute("name")===$)return a}else return a;if(a=Ur(a.nextSibling),a===null)break}return null}function Ly(a,d,g){if(d==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!g||(a=Ur(a.nextSibling),a===null))return null;return a}function Qv(a,d){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Ur(a.nextSibling),a===null))return null;return a}function Jv(a){return a.data==="$?"||a.data==="$~"}function Kp(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function Ji(a,d){var g=a.ownerDocument;if(a.data==="$~")a._reactRetry=d;else if(a.data!=="$?"||g.readyState!=="loading")d();else{var C=function(){d(),g.removeEventListener("DOMContentLoaded",C)};g.addEventListener("DOMContentLoaded",C),a._reactRetry=C}}function Ur(a){for(;a!=null;a=a.nextSibling){var d=a.nodeType;if(d===1||d===3)break;if(d===8){if(d=a.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return a}var Al=null;function kl(a){a=a.nextSibling;for(var d=0;a;){if(a.nodeType===8){var g=a.data;if(g==="/$"||g==="/&"){if(d===0)return Ur(a.nextSibling);d--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||d++}a=a.nextSibling}return null}function ba(a){a=a.previousSibling;for(var d=0;a;){if(a.nodeType===8){var g=a.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(d===0)return a;d--}else g!=="/$"&&g!=="/&"||d++}a=a.previousSibling}return null}function Oi(a,d,g){switch(d=Hg(g),a){case"html":if(a=d.documentElement,!a)throw Error(x(452));return a;case"head":if(a=d.head,!a)throw Error(x(453));return a;case"body":if(a=d.body,!a)throw Error(x(454));return a;default:throw Error(x(451))}}function Km(a){for(var d=a.attributes;d.length;)a.removeAttributeNode(d[0]);lo(a)}var Hd=new Map,Fy=new Set;function Eb(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var zf=zt.d;zt.d={f:ex,r:tx,D:n1,C:H2,L:Tb,m:bm,X:Ab,S:$y,M:o1};function ex(){var a=zf.f(),d=Vp();return a||d}function tx(a){var d=is(a);d!==null&&d.tag===5&&d.type==="form"?T2(d):zf.r(a)}var Wh=typeof document>"u"?null:document;function Py(a,d,g){var C=Wh;if(C&&typeof d=="string"&&d){var R=Ci(d);R='link[rel="'+a+'"][href="'+R+'"]',typeof g=="string"&&(R+='[crossorigin="'+g+'"]'),Fy.has(R)||(Fy.add(R),a={rel:a,crossOrigin:g,href:d},C.querySelector(R)===null&&(d=C.createElement("link"),Qi(d,"link",a),me(d),C.head.appendChild(d)))}}function n1(a){zf.D(a),Py("dns-prefetch",a,null)}function H2(a,d){zf.C(a,d),Py("preconnect",a,d)}function Tb(a,d,g){zf.L(a,d,g);var C=Wh;if(C&&a&&d){var R='link[rel="preload"][as="'+Ci(d)+'"]';d==="image"&&g&&g.imageSrcSet?(R+='[imagesrcset="'+Ci(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(R+='[imagesizes="'+Ci(g.imageSizes)+'"]')):R+='[href="'+Ci(a)+'"]';var $=R;switch(d){case"style":$=Ym(a);break;case"script":$=jf(a)}Hd.has($)||(a=ee({rel:"preload",href:d==="image"&&g&&g.imageSrcSet?void 0:a,as:d},g),Hd.set($,a),C.querySelector(R)!==null||d==="style"&&C.querySelector(Vg($))||d==="script"&&C.querySelector(Il($))||(d=C.createElement("link"),Qi(d,"link",a),me(d),C.head.appendChild(d)))}}function bm(a,d){zf.m(a,d);var g=Wh;if(g&&a){var C=d&&typeof d.as=="string"?d.as:"script",R='link[rel="modulepreload"][as="'+Ci(C)+'"][href="'+Ci(a)+'"]',$=R;switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":$=jf(a)}if(!Hd.has($)&&(a=ee({rel:"modulepreload",href:a},d),Hd.set($,a),g.querySelector(R)===null)){switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Il($)))return}C=g.createElement("link"),Qi(C,"link",a),me(C),g.head.appendChild(C)}}}function $y(a,d,g){zf.S(a,d,g);var C=Wh;if(C&&a){var R=qs(C).hoistableStyles,$=Ym(a);d=d||"default";var se=R.get($);if(!se){var de={loading:0,preload:null};if(se=C.querySelector(Vg($)))de.loading=5;else{a=ee({rel:"stylesheet",href:a,"data-precedence":d},g),(g=Hd.get($))&&kt(a,g);var it=se=C.createElement("link");me(it),Qi(it,"link",a),it._p=new Promise(function(Vt,gn){it.onload=Vt,it.onerror=gn}),it.addEventListener("load",function(){de.loading|=1}),it.addEventListener("error",function(){de.loading|=2}),de.loading|=4,qh(se,d,C)}se={type:"stylesheet",instance:se,count:1,state:de},R.set($,se)}}}function Ab(a,d){zf.X(a,d);var g=Wh;if(g&&a){var C=qs(g).hoistableScripts,R=jf(a),$=C.get(R);$||($=g.querySelector(Il(R)),$||(a=ee({src:a,async:!0},d),(d=Hd.get(R))&&Yp(a,d),$=g.createElement("script"),me($),Qi($,"link",a),g.head.appendChild($)),$={type:"script",instance:$,count:1,state:null},C.set(R,$))}}function o1(a,d){zf.M(a,d);var g=Wh;if(g&&a){var C=qs(g).hoistableScripts,R=jf(a),$=C.get(R);$||($=g.querySelector(Il(R)),$||(a=ee({src:a,async:!0,type:"module"},d),(d=Hd.get(R))&&Yp(a,d),$=g.createElement("script"),me($),Qi($,"link",a),g.head.appendChild($)),$={type:"script",instance:$,count:1,state:null},C.set(R,$))}}function jg(a,d,g,C){var R=(R=He.current)?Eb(R):null;if(!R)throw Error(x(446));switch(a){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(d=Ym(g.href),g=qs(R).hoistableStyles,C=g.get(d),C||(C={type:"style",instance:null,count:0,state:null},g.set(d,C)),C):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){a=Ym(g.href);var $=qs(R).hoistableStyles,se=$.get(a);if(se||(R=R.ownerDocument||R,se={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},$.set(a,se),($=R.querySelector(Vg(a)))&&!$._p&&(se.instance=$,se.state.loading=5),Hd.has(a)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Hd.set(a,g),$||Iy(R,a,g,se.state))),d&&C===null)throw Error(x(528,""));return se}if(d&&C!==null)throw Error(x(529,""));return null;case"script":return d=g.async,g=g.src,typeof g=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=jf(g),g=qs(R).hoistableScripts,C=g.get(d),C||(C={type:"script",instance:null,count:0,state:null},g.set(d,C)),C):{type:"void",instance:null,count:0,state:null};default:throw Error(x(444,a))}}function Ym(a){return'href="'+Ci(a)+'"'}function Vg(a){return'link[rel="stylesheet"]['+a+"]"}function s1(a){return ee({},a,{"data-precedence":a.precedence,precedence:null})}function Iy(a,d,g,C){a.querySelector('link[rel="preload"][as="style"]['+d+"]")?C.loading=1:(d=a.createElement("link"),C.preload=d,d.addEventListener("load",function(){return C.loading|=1}),d.addEventListener("error",function(){return C.loading|=2}),Qi(d,"link",g),me(d),a.head.appendChild(d))}function jf(a){return'[src="'+Ci(a)+'"]'}function Il(a){return"script[async]"+a}function oc(a,d,g){if(d.count++,d.instance===null)switch(d.type){case"style":var C=a.querySelector('style[data-href~="'+Ci(g.href)+'"]');if(C)return d.instance=C,me(C),C;var R=ee({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return C=(a.ownerDocument||a).createElement("style"),me(C),Qi(C,"style",R),qh(C,g.precedence,a),d.instance=C;case"stylesheet":R=Ym(g.href);var $=a.querySelector(Vg(R));if($)return d.state.loading|=4,d.instance=$,me($),$;C=s1(g),(R=Hd.get(R))&&kt(C,R),$=(a.ownerDocument||a).createElement("link"),me($);var se=$;return se._p=new Promise(function(de,it){se.onload=de,se.onerror=it}),Qi($,"link",C),d.state.loading|=4,qh($,g.precedence,a),d.instance=$;case"script":return $=jf(g.src),(R=a.querySelector(Il($)))?(d.instance=R,me(R),R):(C=g,(R=Hd.get($))&&(C=ee({},g),Yp(C,R)),a=a.ownerDocument||a,R=a.createElement("script"),me(R),Qi(R,"link",C),a.head.appendChild(R),d.instance=R);case"void":return null;default:throw Error(x(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(C=d.instance,d.state.loading|=4,qh(C,g.precedence,a));return d.instance}function qh(a,d,g){for(var C=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),R=C.length?C[C.length-1]:null,$=R,se=0;se<C.length;se++){var de=C[se];if(de.dataset.precedence===d)$=de;else if($!==R)break}$?$.parentNode.insertBefore(a,$.nextSibling):(d=g.nodeType===9?g.head:g,d.insertBefore(a,d.firstChild))}function kt(a,d){a.crossOrigin==null&&(a.crossOrigin=d.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=d.referrerPolicy),a.title==null&&(a.title=d.title)}function Yp(a,d){a.crossOrigin==null&&(a.crossOrigin=d.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=d.referrerPolicy),a.integrity==null&&(a.integrity=d.integrity)}var Hy=null;function Pc(a,d,g){if(Hy===null){var C=new Map,R=Hy=new Map;R.set(g,C)}else R=Hy,C=R.get(g),C||(C=new Map,R.set(g,C));if(C.has(a))return C;for(C.set(a,null),g=g.getElementsByTagName(a),R=0;R<g.length;R++){var $=g[R];if(!($[To]||$[Ys]||a==="link"&&$.getAttribute("rel")==="stylesheet")&&$.namespaceURI!=="http://www.w3.org/2000/svg"){var se=$.getAttribute(d)||"";se=a+se;var de=C.get(se);de?de.push($):C.set(se,[$])}}return C}function Xp(a,d,g){a=a.ownerDocument||a,a.head.insertBefore(g,d==="title"?a.querySelector("head > title"):null)}function ym(a,d,g){if(g===1||d.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;return d.rel==="stylesheet"?(a=d.disabled,typeof d.precedence=="string"&&a==null):!0;case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function zy(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function nx(a,d,g,C){if(g.type==="stylesheet"&&(typeof C.media!="string"||matchMedia(C.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var R=Ym(C.href),$=d.querySelector(Vg(R));if($){d=$._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(a.count++,a=Vf.bind(a),d.then(a,a)),g.state.loading|=4,g.instance=$,me($);return}$=d.ownerDocument||d,C=s1(C),(R=Hd.get(R))&&kt(C,R),$=$.createElement("link"),me($);var se=$;se._p=new Promise(function(de,it){se.onload=de,se.onerror=it}),Qi($,"link",C),g.instance=$}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(g,d),(d=g.state.preload)&&(g.state.loading&3)===0&&(a.count++,g=Vf.bind(a),d.addEventListener("load",g),d.addEventListener("error",g))}}var Gh=0;function kb(a,d){return a.stylesheets&&a.count===0&&jy(a,a.stylesheets),0<a.count||0<a.imgCount?function(g){var C=setTimeout(function(){if(a.stylesheets&&jy(a,a.stylesheets),a.unsuspend){var $=a.unsuspend;a.unsuspend=null,$()}},6e4+d);0<a.imgBytes&&Gh===0&&(Gh=62500*My());var R=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&jy(a,a.stylesheets),a.unsuspend)){var $=a.unsuspend;a.unsuspend=null,$()}},(a.imgBytes>Gh?50:800)+d);return a.unsuspend=g,function(){a.unsuspend=null,clearTimeout(C),clearTimeout(R)}}:null}function Vf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jy(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Qp=null;function jy(a,d){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Qp=new Map,d.forEach(Ec,a),Qp=null,Vf.call(a))}function Ec(a,d){if(!(d.state.loading&4)){var g=Qp.get(a);if(g)var C=g.get(null);else{g=new Map,Qp.set(a,g);for(var R=a.querySelectorAll("link[data-precedence],style[data-precedence]"),$=0;$<R.length;$++){var se=R[$];(se.nodeName==="LINK"||se.getAttribute("media")!=="not all")&&(g.set(se.dataset.precedence,se),C=se)}C&&g.set(null,C)}R=d.instance,se=R.getAttribute("data-precedence"),$=g.get(se)||C,$===C&&g.set(null,R),g.set(se,R),this.count++,C=Vf.bind(this),R.addEventListener("load",C),R.addEventListener("error",C),$?$.parentNode.insertBefore(R,$.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(R,a.firstChild)),d.state.loading|=4}}var cd={$$typeof:J,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function ud(a,d,g,C,R,$,se,de,it){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.hiddenUpdates=qt(null),this.identifierPrefix=C,this.onUncaughtError=R,this.onCaughtError=$,this.onRecoverableError=se,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=it,this.incompleteTransitions=new Map}function z2(a,d,g,C,R,$,se,de,it,Vt,gn,An){return a=new ud(a,d,g,se,it,Vt,gn,An,de),d=1,$===!0&&(d|=24),$=Wa(3,null,null,d),a.current=$,$.stateNode=a,d=Of(),d.refCount++,a.pooledCache=d,d.refCount++,$.memoizedState={element:C,isDehydrated:g,cache:d},Ad($),a}function Jp(a){return a?(a=Ls,a):Ls}function ox(a,d,g,C,R,$){R=Jp(R),C.context===null?C.context=R:C.pendingContext=R,C=ou(d),C.payload={element:g},$=$===void 0?null:$,$!==null&&(C.callback=$),g=Rf(a,C,d),g!==null&&(sd(g,a,d),kg(g,a,d))}function _b(a,d){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var g=a.retryLane;a.retryLane=g!==0&&g<d?g:d}}function sx(a,d){_b(a,d),(a=a.alternate)&&_b(a,d)}function rx(a){if(a.tag===13||a.tag===31){var d=Wi(a,67108864);d!==null&&sd(d,a,67108864),sx(a,67108864)}}function cs(a){if(a.tag===13||a.tag===31){var d=Pd();d=ss(d);var g=Wi(a,d);g!==null&&sd(g,a,d),sx(a,d)}}var no=!0;function r1(a,d,g,C){var R=P.T;P.T=null;var $=zt.p;try{zt.p=2,a1(a,d,g,C)}finally{zt.p=$,P.T=R}}function Vy(a,d,g,C){var R=P.T;P.T=null;var $=zt.p;try{zt.p=8,a1(a,d,g,C)}finally{zt.p=$,P.T=R}}function a1(a,d,g,C){if(no){var R=ax(C);if(R===null)Er(a,d,C,i1,g),e0(a,C);else if(ZC(R,a,d,g,C))C.stopPropagation();else if(e0(a,C),d&4&&-1<Qm.indexOf(a)){for(;R!==null;){var $=is(R);if($!==null)switch($.tag){case 3:if($=$.stateNode,$.current.memoizedState.isDehydrated){var se=_o($.pendingLanes);if(se!==0){var de=$;for(de.pendingLanes|=2,de.entangledLanes|=2;se;){var it=1<<31-xs(se);de.entanglements[1]|=it,se&=~it}df($),(Ns&6)===0&&(Hp=ln()+500,J0(0))}}break;case 31:case 13:de=Wi($,2),de!==null&&sd(de,$,2),Vp(),sx($,2)}if($=ax(C),$===null&&Er(a,d,C,i1,g),$===R)break;R=$}R!==null&&C.stopPropagation()}else Er(a,d,C,null,g)}}function ax(a){return a=Kd(a),na(a)}var i1=null;function na(a){if(i1=null,a=Vo(a),a!==null){var d=M(a);if(d===null)a=null;else{var g=d.tag;if(g===13){if(a=O(d),a!==null)return a;a=null}else if(g===31){if(a=I(d),a!==null)return a;a=null}else if(g===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;a=null}else d!==a&&(a=null)}}return i1=a,null}function Db(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Un()){case Qo:return 2;case mr:return 8;case gs:case Io:return 32;case Gr:return 268435456;default:return 32}default:return 32}}var l1=!1,Xm=null,Nt=null,mf=null,vm=new Map,zd=new Map,Tc=[],Qm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e0(a,d){switch(a){case"focusin":case"focusout":Xm=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":mf=null;break;case"pointerover":case"pointerout":vm.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":zd.delete(d.pointerId)}}function xm(a,d,g,C,R,$){return a===null||a.nativeEvent!==$?(a={blockedOn:d,domEventName:g,eventSystemFlags:C,nativeEvent:$,targetContainers:[R]},d!==null&&(d=is(d),d!==null&&rx(d)),a):(a.eventSystemFlags|=C,d=a.targetContainers,R!==null&&d.indexOf(R)===-1&&d.push(R),a)}function ZC(a,d,g,C,R){switch(d){case"focusin":return Xm=xm(Xm,a,d,g,C,R),!0;case"dragenter":return Nt=xm(Nt,a,d,g,C,R),!0;case"mouseover":return mf=xm(mf,a,d,g,C,R),!0;case"pointerover":var $=R.pointerId;return vm.set($,xm(vm.get($)||null,a,d,g,C,R)),!0;case"gotpointercapture":return $=R.pointerId,zd.set($,xm(zd.get($)||null,a,d,g,C,R)),!0}return!1}function t0(a){var d=Vo(a.target);if(d!==null){var g=M(d);if(g!==null){if(d=g.tag,d===13){if(d=O(g),d!==null){a.blockedOn=d,gi(a.priority,function(){cs(g)});return}}else if(d===31){if(d=I(g),d!==null){a.blockedOn=d,gi(a.priority,function(){cs(g)});return}}else if(d===3&&g.stateNode.current.memoizedState.isDehydrated){a.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Rr(a){if(a.blockedOn!==null)return!1;for(var d=a.targetContainers;0<d.length;){var g=ax(a.nativeEvent);if(g===null){g=a.nativeEvent;var C=new g.constructor(g.type,g);jr=C,g.target.dispatchEvent(C),jr=null}else return d=is(g),d!==null&&rx(d),a.blockedOn=g,!1;d.shift()}return!0}function hf(a,d,g){Rr(a)&&g.delete(d)}function ix(){l1=!1,Xm!==null&&Rr(Xm)&&(Xm=null),Nt!==null&&Rr(Nt)&&(Nt=null),mf!==null&&Rr(mf)&&(mf=null),vm.forEach(hf),zd.forEach(hf)}function wm(a,d){a.blockedOn===d&&(a.blockedOn=null,l1||(l1=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,ix)))}var jd=null;function sc(a){jd!==a&&(jd=a,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){jd===a&&(jd=null);for(var d=0;d<a.length;d+=3){var g=a[d],C=a[d+1],R=a[d+2];if(typeof C!="function"){if(na(C||g)===null)continue;break}var $=is(g);$!==null&&(a.splice(d,3),d-=3,Qu($,{pending:!0,data:R,method:g.method,action:C},C,R))}}))}function n0(a){function d(it){return wm(it,a)}Xm!==null&&wm(Xm,a),Nt!==null&&wm(Nt,a),mf!==null&&wm(mf,a),vm.forEach(d),zd.forEach(d);for(var g=0;g<Tc.length;g++){var C=Tc[g];C.blockedOn===a&&(C.blockedOn=null)}for(;0<Tc.length&&(g=Tc[0],g.blockedOn===null);)t0(g),g.blockedOn===null&&Tc.shift();if(g=(a.ownerDocument||a).$$reactFormReplay,g!=null)for(C=0;C<g.length;C+=3){var R=g[C],$=g[C+1],se=R[Xs]||null;if(typeof $=="function")se||sc(g);else if(se){var de=null;if($&&$.hasAttribute("formAction")){if(R=$,se=$[Xs]||null)de=se.formAction;else if(na(R)!==null)continue}else de=se.action;typeof de=="function"?g[C+1]=de:(g.splice(C,3),C-=3),sc(g)}}}function Uy(){function a($){$.canIntercept&&$.info==="react-transition"&&$.intercept({handler:function(){return new Promise(function(se){return R=se})},focusReset:"manual",scroll:"manual"})}function d(){R!==null&&(R(),R=null),C||setTimeout(g,20)}function g(){if(!C&&!navigation.transition){var $=navigation.currentEntry;$&&$.url!=null&&navigation.navigate($.url,{state:$.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var C=!1,R=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(g,100),function(){C=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),R!==null&&(R(),R=null)}}}function Zy(a){this._internalRoot=a}Wy.prototype.render=Zy.prototype.render=function(a){var d=this._internalRoot;if(d===null)throw Error(x(409));var g=d.current,C=Pd();ox(g,C,a,d,null,null)},Wy.prototype.unmount=Zy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var d=a.containerInfo;ox(a.current,2,null,a,null,null),Vp(),d[jl]=null}};function Wy(a){this._internalRoot=a}Wy.prototype.unstable_scheduleHydration=function(a){if(a){var d=sl();a={blockedOn:null,target:a,priority:d};for(var g=0;g<Tc.length&&d!==0&&d<Tc[g].priority;g++);Tc.splice(g,0,a),g===0&&t0(a)}};var j2=u.version;if(j2!=="19.2.3")throw Error(x(527,j2,"19.2.3"));zt.findDOMNode=function(a){var d=a._reactInternals;if(d===void 0)throw typeof a.render=="function"?Error(x(188)):(a=Object.keys(a).join(","),Error(x(268,a)));return a=V(d),a=a!==null?Y(a):null,a=a===null?null:a.stateNode,a};var lx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ob=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ob.isDisabled&&Ob.supportsFiber)try{Ra=Ob.inject(lx),Kr=Ob}catch{}}return VM.createRoot=function(a,d){if(!A(a))throw Error(x(299));var g=!1,C="",R=Rd,$=j0,se=V0;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(C=d.identifierPrefix),d.onUncaughtError!==void 0&&(R=d.onUncaughtError),d.onCaughtError!==void 0&&($=d.onCaughtError),d.onRecoverableError!==void 0&&(se=d.onRecoverableError)),d=z2(a,1,!1,null,null,g,C,null,R,$,se,Uy),a[jl]=d.current,Fc(a),new Zy(d)},VM.hydrateRoot=function(a,d,g){if(!A(a))throw Error(x(299));var C=!1,R="",$=Rd,se=j0,de=V0,it=null;return g!=null&&(g.unstable_strictMode===!0&&(C=!0),g.identifierPrefix!==void 0&&(R=g.identifierPrefix),g.onUncaughtError!==void 0&&($=g.onUncaughtError),g.onCaughtError!==void 0&&(se=g.onCaughtError),g.onRecoverableError!==void 0&&(de=g.onRecoverableError),g.formState!==void 0&&(it=g.formState)),d=z2(a,1,!0,d,g??null,C,R,it,$,se,de,Uy),d.context=Jp(null),g=d.current,C=Pd(),C=ss(C),R=ou(C),R.callback=null,Rf(g,R,C),g=C,d.current.lanes=g,Gn(d,g),df(d),a[jl]=d.current,Fc(a),new Wy(d)},VM.version="19.2.3",VM}var Eoe;function Lue(){if(Eoe)return VJ.exports;Eoe=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(u){console.error(u)}}return l(),VJ.exports=Bue(),VJ.exports}var Fue=Lue();const Pue=eie(Fue);var Toe="popstate";function $ue(l={}){function u(x,A){let{pathname:M,search:O,hash:I}=x.location;return Eee("",{pathname:M,search:O,hash:I},A.state&&A.state.usr||null,A.state&&A.state.key||"default")}function p(x,A){return typeof A=="string"?A:eB(A)}return Hue(u,p,null,l)}function Wc(l,u){if(l===!1||l===null||typeof l>"u")throw new Error(u)}function H1(l,u){if(!l){typeof console<"u"&&console.warn(u);try{throw new Error(u)}catch{}}}function Iue(){return Math.random().toString(36).substring(2,10)}function Aoe(l,u){return{usr:l.state,key:l.key,idx:u}}function Eee(l,u,p=null,x){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof u=="string"?Q3(u):u,state:p,key:u&&u.key||x||Iue()}}function eB({pathname:l="/",search:u="",hash:p=""}){return u&&u!=="?"&&(l+=u.charAt(0)==="?"?u:"?"+u),p&&p!=="#"&&(l+=p.charAt(0)==="#"?p:"#"+p),l}function Q3(l){let u={};if(l){let p=l.indexOf("#");p>=0&&(u.hash=l.substring(p),l=l.substring(0,p));let x=l.indexOf("?");x>=0&&(u.search=l.substring(x),l=l.substring(0,x)),l&&(u.pathname=l)}return u}function Hue(l,u,p,x={}){let{window:A=document.defaultView,v5Compat:M=!1}=x,O=A.history,I="POP",U=null,V=Y();V==null&&(V=0,O.replaceState({...O.state,idx:V},""));function Y(){return(O.state||{idx:null}).idx}function ee(){I="POP";let be=Y(),ct=be==null?null:be-V;V=be,U&&U({action:I,location:$e.location,delta:ct})}function fe(be,ct){I="PUSH";let Oe=Eee($e.location,be,ct);V=Y()+1;let J=Aoe(Oe,V),rt=$e.createHref(Oe);try{O.pushState(J,"",rt)}catch(It){if(It instanceof DOMException&&It.name==="DataCloneError")throw It;A.location.assign(rt)}M&&U&&U({action:I,location:$e.location,delta:1})}function Ce(be,ct){I="REPLACE";let Oe=Eee($e.location,be,ct);V=Y();let J=Aoe(Oe,V),rt=$e.createHref(Oe);O.replaceState(J,"",rt),M&&U&&U({action:I,location:$e.location,delta:0})}function pe(be){return zue(be)}let $e={get action(){return I},get location(){return l(A,O)},listen(be){if(U)throw new Error("A history only accepts one active listener");return A.addEventListener(Toe,ee),U=be,()=>{A.removeEventListener(Toe,ee),U=null}},createHref(be){return u(A,be)},createURL:pe,encodeLocation(be){let ct=pe(be);return{pathname:ct.pathname,search:ct.search,hash:ct.hash}},push:fe,replace:Ce,go(be){return O.go(be)}};return $e}function zue(l,u=!1){let p="http://localhost";typeof window<"u"&&(p=window.location.origin!=="null"?window.location.origin:window.location.href),Wc(p,"No window.location.(origin|href) available to create URL");let x=typeof l=="string"?l:eB(l);return x=x.replace(/ $/,"%20"),!u&&x.startsWith("//")&&(x=p+x),new URL(x,p)}function tie(l,u,p="/"){return jue(l,u,p,!1)}function jue(l,u,p,x){let A=typeof u=="string"?Q3(u):u,M=w2(A.pathname||"/",p);if(M==null)return null;let O=nie(l);Vue(O);let I=null;for(let U=0;I==null&&U<O.length;++U){let V=ede(M);I=Que(O[U],V,x)}return I}function nie(l,u=[],p=[],x="",A=!1){let M=(O,I,U=A,V)=>{let Y={relativePath:V===void 0?O.path||"":V,caseSensitive:O.caseSensitive===!0,childrenIndex:I,route:O};if(Y.relativePath.startsWith("/")){if(!Y.relativePath.startsWith(x)&&U)return;Wc(Y.relativePath.startsWith(x),`Absolute route path "${Y.relativePath}" nested under path "${x}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),Y.relativePath=Y.relativePath.slice(x.length)}let ee=y2([x,Y.relativePath]),fe=p.concat(Y);O.children&&O.children.length>0&&(Wc(O.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${ee}".`),nie(O.children,u,fe,ee,U)),!(O.path==null&&!O.index)&&u.push({path:ee,score:Yue(ee,O.index),routesMeta:fe})};return l.forEach((O,I)=>{if(O.path===""||!O.path?.includes("?"))M(O,I);else for(let U of oie(O.path))M(O,I,!0,U)}),u}function oie(l){let u=l.split("/");if(u.length===0)return[];let[p,...x]=u,A=p.endsWith("?"),M=p.replace(/\?$/,"");if(x.length===0)return A?[M,""]:[M];let O=oie(x.join("/")),I=[];return I.push(...O.map(U=>U===""?M:[M,U].join("/"))),A&&I.push(...O),I.map(U=>l.startsWith("/")&&U===""?"/":U)}function Vue(l){l.sort((u,p)=>u.score!==p.score?p.score-u.score:Xue(u.routesMeta.map(x=>x.childrenIndex),p.routesMeta.map(x=>x.childrenIndex)))}var Uue=/^:[\w-]+$/,Zue=3,Wue=2,que=1,Gue=10,Kue=-2,koe=l=>l==="*";function Yue(l,u){let p=l.split("/"),x=p.length;return p.some(koe)&&(x+=Kue),u&&(x+=Wue),p.filter(A=>!koe(A)).reduce((A,M)=>A+(Uue.test(M)?Zue:M===""?que:Gue),x)}function Xue(l,u){return l.length===u.length&&l.slice(0,-1).every((x,A)=>x===u[A])?l[l.length-1]-u[u.length-1]:0}function Que(l,u,p=!1){let{routesMeta:x}=l,A={},M="/",O=[];for(let I=0;I<x.length;++I){let U=x[I],V=I===x.length-1,Y=M==="/"?u:u.slice(M.length)||"/",ee=qH({path:U.relativePath,caseSensitive:U.caseSensitive,end:V},Y),fe=U.route;if(!ee&&V&&p&&!x[x.length-1].route.index&&(ee=qH({path:U.relativePath,caseSensitive:U.caseSensitive,end:!1},Y)),!ee)return null;Object.assign(A,ee.params),O.push({params:A,pathname:y2([M,ee.pathname]),pathnameBase:sde(y2([M,ee.pathnameBase])),route:fe}),ee.pathnameBase!=="/"&&(M=y2([M,ee.pathnameBase]))}return O}function qH(l,u){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[p,x]=Jue(l.path,l.caseSensitive,l.end),A=u.match(p);if(!A)return null;let M=A[0],O=M.replace(/(.)\/+$/,"$1"),I=A.slice(1);return{params:x.reduce((V,{paramName:Y,isOptional:ee},fe)=>{if(Y==="*"){let pe=I[fe]||"";O=M.slice(0,M.length-pe.length).replace(/(.)\/+$/,"$1")}const Ce=I[fe];return ee&&!Ce?V[Y]=void 0:V[Y]=(Ce||"").replace(/%2F/g,"/"),V},{}),pathname:M,pathnameBase:O,pattern:l}}function Jue(l,u=!1,p=!0){H1(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let x=[],A="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(O,I,U)=>(x.push({paramName:I,isOptional:U!=null}),U?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return l.endsWith("*")?(x.push({paramName:"*"}),A+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):p?A+="\\/*$":l!==""&&l!=="/"&&(A+="(?:(?=\\/|$))"),[new RegExp(A,u?void 0:"i"),x]}function ede(l){try{return l.split("/").map(u=>decodeURIComponent(u).replace(/\//g,"%2F")).join("/")}catch(u){return H1(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${u}).`),l}}function w2(l,u){if(u==="/")return l;if(!l.toLowerCase().startsWith(u.toLowerCase()))return null;let p=u.endsWith("/")?u.length-1:u.length,x=l.charAt(p);return x&&x!=="/"?null:l.slice(p)||"/"}var sie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tde=l=>sie.test(l);function nde(l,u="/"){let{pathname:p,search:x="",hash:A=""}=typeof l=="string"?Q3(l):l,M;if(p)if(tde(p))M=p;else{if(p.includes("//")){let O=p;p=p.replace(/\/\/+/g,"/"),H1(!1,`Pathnames cannot have embedded double slashes - normalizing ${O} -> ${p}`)}p.startsWith("/")?M=_oe(p.substring(1),"/"):M=_oe(p,u)}else M=u;return{pathname:M,search:rde(x),hash:ade(A)}}function _oe(l,u){let p=u.replace(/\/+$/,"").split("/");return l.split("/").forEach(A=>{A===".."?p.length>1&&p.pop():A!=="."&&p.push(A)}),p.length>1?p.join("/"):"/"}function qJ(l,u,p,x){return`Cannot include a '${l}' character in a manually specified \`to.${u}\` field [${JSON.stringify(x)}].  Please separate it out to the \`to.${p}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ode(l){return l.filter((u,p)=>p===0||u.route.path&&u.route.path.length>0)}function rte(l){let u=ode(l);return u.map((p,x)=>x===u.length-1?p.pathname:p.pathnameBase)}function ate(l,u,p,x=!1){let A;typeof l=="string"?A=Q3(l):(A={...l},Wc(!A.pathname||!A.pathname.includes("?"),qJ("?","pathname","search",A)),Wc(!A.pathname||!A.pathname.includes("#"),qJ("#","pathname","hash",A)),Wc(!A.search||!A.search.includes("#"),qJ("#","search","hash",A)));let M=l===""||A.pathname==="",O=M?"/":A.pathname,I;if(O==null)I=p;else{let ee=u.length-1;if(!x&&O.startsWith("..")){let fe=O.split("/");for(;fe[0]==="..";)fe.shift(),ee-=1;A.pathname=fe.join("/")}I=ee>=0?u[ee]:"/"}let U=nde(A,I),V=O&&O!=="/"&&O.endsWith("/"),Y=(M||O===".")&&p.endsWith("/");return!U.pathname.endsWith("/")&&(V||Y)&&(U.pathname+="/"),U}var y2=l=>l.join("/").replace(/\/\/+/g,"/"),sde=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),rde=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,ade=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l,ide=class{constructor(l,u,p,x=!1){this.status=l,this.statusText=u||"",this.internal=x,p instanceof Error?(this.data=p.toString(),this.error=p):this.data=p}};function lde(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}function cde(l){return l.map(u=>u.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var rie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function aie(l,u){let p=l;if(typeof p!="string"||!sie.test(p))return{absoluteURL:void 0,isExternal:!1,to:p};let x=p,A=!1;if(rie)try{let M=new URL(window.location.href),O=p.startsWith("//")?new URL(M.protocol+p):new URL(p),I=w2(O.pathname,u);O.origin===M.origin&&I!=null?p=I+O.search+O.hash:A=!0}catch{H1(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:x,isExternal:A,to:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var iie=["POST","PUT","PATCH","DELETE"];new Set(iie);var ude=["GET",...iie];new Set(ude);var J3=ze.createContext(null);J3.displayName="DataRouter";var dz=ze.createContext(null);dz.displayName="DataRouterState";var dde=ze.createContext(!1),lie=ze.createContext({isTransitioning:!1});lie.displayName="ViewTransition";var fde=ze.createContext(new Map);fde.displayName="Fetchers";var mde=ze.createContext(null);mde.displayName="Await";var D0=ze.createContext(null);D0.displayName="Navigation";var aB=ze.createContext(null);aB.displayName="Location";var j1=ze.createContext({outlet:null,matches:[],isDataRoute:!1});j1.displayName="Route";var ite=ze.createContext(null);ite.displayName="RouteError";var cie="REACT_ROUTER_ERROR",hde="REDIRECT",gde="ROUTE_ERROR_RESPONSE";function pde(l){if(l.startsWith(`${cie}:${hde}:{`))try{let u=JSON.parse(l.slice(28));if(typeof u=="object"&&u&&typeof u.status=="number"&&typeof u.statusText=="string"&&typeof u.location=="string"&&typeof u.reloadDocument=="boolean"&&typeof u.replace=="boolean")return u}catch{}}function bde(l){if(l.startsWith(`${cie}:${gde}:{`))try{let u=JSON.parse(l.slice(40));if(typeof u=="object"&&u&&typeof u.status=="number"&&typeof u.statusText=="string")return new ide(u.status,u.statusText,u.data)}catch{}}function yde(l,{relative:u}={}){Wc(e_(),"useHref() may be used only in the context of a <Router> component.");let{basename:p,navigator:x}=ze.useContext(D0),{hash:A,pathname:M,search:O}=iB(l,{relative:u}),I=M;return p!=="/"&&(I=M==="/"?p:y2([p,M])),x.createHref({pathname:I,search:O,hash:A})}function e_(){return ze.useContext(aB)!=null}function Rv(){return Wc(e_(),"useLocation() may be used only in the context of a <Router> component."),ze.useContext(aB).location}var uie="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function die(l){ze.useContext(D0).static||ze.useLayoutEffect(l)}function RT(){let{isDataRoute:l}=ze.useContext(j1);return l?Bde():vde()}function vde(){Wc(e_(),"useNavigate() may be used only in the context of a <Router> component.");let l=ze.useContext(J3),{basename:u,navigator:p}=ze.useContext(D0),{matches:x}=ze.useContext(j1),{pathname:A}=Rv(),M=JSON.stringify(rte(x)),O=ze.useRef(!1);return die(()=>{O.current=!0}),ze.useCallback((U,V={})=>{if(H1(O.current,uie),!O.current)return;if(typeof U=="number"){p.go(U);return}let Y=ate(U,JSON.parse(M),A,V.relative==="path");l==null&&u!=="/"&&(Y.pathname=Y.pathname==="/"?u:y2([u,Y.pathname])),(V.replace?p.replace:p.push)(Y,V.state,V)},[u,p,M,A,l])}var xde=ze.createContext(null);function wde(l){let u=ze.useContext(j1).outlet;return ze.useMemo(()=>u&&ze.createElement(xde.Provider,{value:l},u),[u,l])}function Cde(){let{matches:l}=ze.useContext(j1),u=l[l.length-1];return u?u.params:{}}function iB(l,{relative:u}={}){let{matches:p}=ze.useContext(j1),{pathname:x}=Rv(),A=JSON.stringify(rte(p));return ze.useMemo(()=>ate(l,JSON.parse(A),x,u==="path"),[l,A,x,u])}function Sde(l,u){return fie(l,u)}function fie(l,u,p,x,A){Wc(e_(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:M}=ze.useContext(D0),{matches:O}=ze.useContext(j1),I=O[O.length-1],U=I?I.params:{},V=I?I.pathname:"/",Y=I?I.pathnameBase:"/",ee=I&&I.route;{let Oe=ee&&ee.path||"";hie(V,!ee||Oe.endsWith("*")||Oe.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${V}" (under <Route path="${Oe}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Oe}"> to <Route path="${Oe==="/"?"*":`${Oe}/*`}">.`)}let fe=Rv(),Ce;if(u){let Oe=typeof u=="string"?Q3(u):u;Wc(Y==="/"||Oe.pathname?.startsWith(Y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${Y}" but pathname "${Oe.pathname}" was given in the \`location\` prop.`),Ce=Oe}else Ce=fe;let pe=Ce.pathname||"/",$e=pe;if(Y!=="/"){let Oe=Y.replace(/^\//,"").split("/");$e="/"+pe.replace(/^\//,"").split("/").slice(Oe.length).join("/")}let be=tie(l,{pathname:$e});H1(ee||be!=null,`No routes matched location "${Ce.pathname}${Ce.search}${Ce.hash}" `),H1(be==null||be[be.length-1].route.element!==void 0||be[be.length-1].route.Component!==void 0||be[be.length-1].route.lazy!==void 0,`Matched leaf route at location "${Ce.pathname}${Ce.search}${Ce.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ct=_de(be&&be.map(Oe=>Object.assign({},Oe,{params:Object.assign({},U,Oe.params),pathname:y2([Y,M.encodeLocation?M.encodeLocation(Oe.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Oe.pathname]),pathnameBase:Oe.pathnameBase==="/"?Y:y2([Y,M.encodeLocation?M.encodeLocation(Oe.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Oe.pathnameBase])})),O,p,x,A);return u&&ct?ze.createElement(aB.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...Ce},navigationType:"POP"}},ct):ct}function Ede(){let l=Mde(),u=lde(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),p=l instanceof Error?l.stack:null,x="rgba(200,200,200, 0.5)",A={padding:"0.5rem",backgroundColor:x},M={padding:"2px 4px",backgroundColor:x},O=null;return console.error("Error handled by React Router default ErrorBoundary:",l),O=ze.createElement(ze.Fragment,null,ze.createElement("p",null," Hey developer "),ze.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ze.createElement("code",{style:M},"ErrorBoundary")," or"," ",ze.createElement("code",{style:M},"errorElement")," prop on your route.")),ze.createElement(ze.Fragment,null,ze.createElement("h2",null,"Unexpected Application Error!"),ze.createElement("h3",{style:{fontStyle:"italic"}},u),p?ze.createElement("pre",{style:A},p):null,O)}var Tde=ze.createElement(Ede,null),mie=class extends ze.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,u){return u.location!==l.location||u.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:u.error,location:u.location,revalidation:l.revalidation||u.revalidation}}componentDidCatch(l,u){this.props.onError?this.props.onError(l,u):console.error("React Router caught the following error during render",l)}render(){let l=this.state.error;if(this.context&&typeof l=="object"&&l&&"digest"in l&&typeof l.digest=="string"){const p=bde(l.digest);p&&(l=p)}let u=l!==void 0?ze.createElement(j1.Provider,{value:this.props.routeContext},ze.createElement(ite.Provider,{value:l,children:this.props.component})):this.props.children;return this.context?ze.createElement(Ade,{error:l},u):u}};mie.contextType=dde;var GJ=new WeakMap;function Ade({children:l,error:u}){let{basename:p}=ze.useContext(D0);if(typeof u=="object"&&u&&"digest"in u&&typeof u.digest=="string"){let x=pde(u.digest);if(x){let A=GJ.get(u);if(A)throw A;let M=aie(x.location,p);if(rie&&!GJ.get(u))if(M.isExternal||x.reloadDocument)window.location.href=M.absoluteURL||M.to;else{const O=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(M.to,{replace:x.replace}));throw GJ.set(u,O),O}return ze.createElement("meta",{httpEquiv:"refresh",content:`0;url=${M.absoluteURL||M.to}`})}}return l}function kde({routeContext:l,match:u,children:p}){let x=ze.useContext(J3);return x&&x.static&&x.staticContext&&(u.route.errorElement||u.route.ErrorBoundary)&&(x.staticContext._deepestRenderedBoundaryId=u.route.id),ze.createElement(j1.Provider,{value:l},p)}function _de(l,u=[],p=null,x=null,A=null){if(l==null){if(!p)return null;if(p.errors)l=p.matches;else if(u.length===0&&!p.initialized&&p.matches.length>0)l=p.matches;else return null}let M=l,O=p?.errors;if(O!=null){let Y=M.findIndex(ee=>ee.route.id&&O?.[ee.route.id]!==void 0);Wc(Y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(O).join(",")}`),M=M.slice(0,Math.min(M.length,Y+1))}let I=!1,U=-1;if(p)for(let Y=0;Y<M.length;Y++){let ee=M[Y];if((ee.route.HydrateFallback||ee.route.hydrateFallbackElement)&&(U=Y),ee.route.id){let{loaderData:fe,errors:Ce}=p,pe=ee.route.loader&&!fe.hasOwnProperty(ee.route.id)&&(!Ce||Ce[ee.route.id]===void 0);if(ee.route.lazy||pe){I=!0,U>=0?M=M.slice(0,U+1):M=[M[0]];break}}}let V=p&&x?(Y,ee)=>{x(Y,{location:p.location,params:p.matches?.[0]?.params??{},unstable_pattern:cde(p.matches),errorInfo:ee})}:void 0;return M.reduceRight((Y,ee,fe)=>{let Ce,pe=!1,$e=null,be=null;p&&(Ce=O&&ee.route.id?O[ee.route.id]:void 0,$e=ee.route.errorElement||Tde,I&&(U<0&&fe===0?(hie("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),pe=!0,be=null):U===fe&&(pe=!0,be=ee.route.hydrateFallbackElement||null)));let ct=u.concat(M.slice(0,fe+1)),Oe=()=>{let J;return Ce?J=$e:pe?J=be:ee.route.Component?J=ze.createElement(ee.route.Component,null):ee.route.element?J=ee.route.element:J=Y,ze.createElement(kde,{match:ee,routeContext:{outlet:Y,matches:ct,isDataRoute:p!=null},children:J})};return p&&(ee.route.ErrorBoundary||ee.route.errorElement||fe===0)?ze.createElement(mie,{location:p.location,revalidation:p.revalidation,component:$e,error:Ce,children:Oe(),routeContext:{outlet:null,matches:ct,isDataRoute:!0},onError:V}):Oe()},null)}function lte(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dde(l){let u=ze.useContext(J3);return Wc(u,lte(l)),u}function Ode(l){let u=ze.useContext(dz);return Wc(u,lte(l)),u}function Nde(l){let u=ze.useContext(j1);return Wc(u,lte(l)),u}function cte(l){let u=Nde(l),p=u.matches[u.matches.length-1];return Wc(p.route.id,`${l} can only be used on routes that contain a unique "id"`),p.route.id}function Rde(){return cte("useRouteId")}function Mde(){let l=ze.useContext(ite),u=Ode("useRouteError"),p=cte("useRouteError");return l!==void 0?l:u.errors?.[p]}function Bde(){let{router:l}=Dde("useNavigate"),u=cte("useNavigate"),p=ze.useRef(!1);return die(()=>{p.current=!0}),ze.useCallback(async(A,M={})=>{H1(p.current,uie),p.current&&(typeof A=="number"?await l.navigate(A):await l.navigate(A,{fromRouteId:u,...M}))},[l,u])}var Doe={};function hie(l,u,p){!u&&!Doe[l]&&(Doe[l]=!0,H1(!1,p))}ze.memo(Lde);function Lde({routes:l,future:u,state:p,onError:x}){return fie(l,void 0,p,x,u)}function Tee({to:l,replace:u,state:p,relative:x}){Wc(e_(),"<Navigate> may be used only in the context of a <Router> component.");let{static:A}=ze.useContext(D0);H1(!A,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:M}=ze.useContext(j1),{pathname:O}=Rv(),I=RT(),U=ate(l,rte(M),O,x==="path"),V=JSON.stringify(U);return ze.useEffect(()=>{I(JSON.parse(V),{replace:u,state:p,relative:x})},[I,V,x,u,p]),null}function gie(l){return wde(l.context)}function Zc(l){Wc(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Fde({basename:l="/",children:u=null,location:p,navigationType:x="POP",navigator:A,static:M=!1,unstable_useTransitions:O}){Wc(!e_(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let I=l.replace(/^\/*/,"/"),U=ze.useMemo(()=>({basename:I,navigator:A,static:M,unstable_useTransitions:O,future:{}}),[I,A,M,O]);typeof p=="string"&&(p=Q3(p));let{pathname:V="/",search:Y="",hash:ee="",state:fe=null,key:Ce="default"}=p,pe=ze.useMemo(()=>{let $e=w2(V,I);return $e==null?null:{location:{pathname:$e,search:Y,hash:ee,state:fe,key:Ce},navigationType:x}},[I,V,Y,ee,fe,Ce,x]);return H1(pe!=null,`<Router basename="${I}"> is not able to match the URL "${V}${Y}${ee}" because it does not start with the basename, so the <Router> won't render anything.`),pe==null?null:ze.createElement(D0.Provider,{value:U},ze.createElement(aB.Provider,{children:u,value:pe}))}function Pde({children:l,location:u}){return Sde(Aee(l),u)}function Aee(l,u=[]){let p=[];return ze.Children.forEach(l,(x,A)=>{if(!ze.isValidElement(x))return;let M=[...u,A];if(x.type===ze.Fragment){p.push.apply(p,Aee(x.props.children,M));return}Wc(x.type===Zc,`[${typeof x.type=="string"?x.type:x.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wc(!x.props.index||!x.props.children,"An index route cannot have child routes.");let O={id:x.props.id||M.join("-"),caseSensitive:x.props.caseSensitive,element:x.props.element,Component:x.props.Component,index:x.props.index,path:x.props.path,middleware:x.props.middleware,loader:x.props.loader,action:x.props.action,hydrateFallbackElement:x.props.hydrateFallbackElement,HydrateFallback:x.props.HydrateFallback,errorElement:x.props.errorElement,ErrorBoundary:x.props.ErrorBoundary,hasErrorBoundary:x.props.hasErrorBoundary===!0||x.props.ErrorBoundary!=null||x.props.errorElement!=null,shouldRevalidate:x.props.shouldRevalidate,handle:x.props.handle,lazy:x.props.lazy};x.props.children&&(O.children=Aee(x.props.children,M)),p.push(O)}),p}var $H="get",IH="application/x-www-form-urlencoded";function fz(l){return typeof HTMLElement<"u"&&l instanceof HTMLElement}function $de(l){return fz(l)&&l.tagName.toLowerCase()==="button"}function Ide(l){return fz(l)&&l.tagName.toLowerCase()==="form"}function Hde(l){return fz(l)&&l.tagName.toLowerCase()==="input"}function zde(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function jde(l,u){return l.button===0&&(!u||u==="_self")&&!zde(l)}var NH=null;function Vde(){if(NH===null)try{new FormData(document.createElement("form"),0),NH=!1}catch{NH=!0}return NH}var Ude=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function KJ(l){return l!=null&&!Ude.has(l)?(H1(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${IH}"`),null):l}function Zde(l,u){let p,x,A,M,O;if(Ide(l)){let I=l.getAttribute("action");x=I?w2(I,u):null,p=l.getAttribute("method")||$H,A=KJ(l.getAttribute("enctype"))||IH,M=new FormData(l)}else if($de(l)||Hde(l)&&(l.type==="submit"||l.type==="image")){let I=l.form;if(I==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let U=l.getAttribute("formaction")||I.getAttribute("action");if(x=U?w2(U,u):null,p=l.getAttribute("formmethod")||I.getAttribute("method")||$H,A=KJ(l.getAttribute("formenctype"))||KJ(I.getAttribute("enctype"))||IH,M=new FormData(I,l),!Vde()){let{name:V,type:Y,value:ee}=l;if(Y==="image"){let fe=V?`${V}.`:"";M.append(`${fe}x`,"0"),M.append(`${fe}y`,"0")}else V&&M.append(V,ee)}}else{if(fz(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');p=$H,x=null,A=IH,O=l}return M&&A==="text/plain"&&(O=M,M=void 0),{action:x,method:p.toLowerCase(),encType:A,formData:M,body:O}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ute(l,u){if(l===!1||l===null||typeof l>"u")throw new Error(u)}function Wde(l,u,p,x){let A=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return p?A.pathname.endsWith("/")?A.pathname=`${A.pathname}_.${x}`:A.pathname=`${A.pathname}.${x}`:A.pathname==="/"?A.pathname=`_root.${x}`:u&&w2(A.pathname,u)==="/"?A.pathname=`${u.replace(/\/$/,"")}/_root.${x}`:A.pathname=`${A.pathname.replace(/\/$/,"")}.${x}`,A}async function qde(l,u){if(l.id in u)return u[l.id];try{let p=await import(l.module);return u[l.id]=p,p}catch(p){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(p),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Gde(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function Kde(l,u,p){let x=await Promise.all(l.map(async A=>{let M=u.routes[A.route.id];if(M){let O=await qde(M,p);return O.links?O.links():[]}return[]}));return Jde(x.flat(1).filter(Gde).filter(A=>A.rel==="stylesheet"||A.rel==="preload").map(A=>A.rel==="stylesheet"?{...A,rel:"prefetch",as:"style"}:{...A,rel:"prefetch"}))}function Ooe(l,u,p,x,A,M){let O=(U,V)=>p[V]?U.route.id!==p[V].route.id:!0,I=(U,V)=>p[V].pathname!==U.pathname||p[V].route.path?.endsWith("*")&&p[V].params["*"]!==U.params["*"];return M==="assets"?u.filter((U,V)=>O(U,V)||I(U,V)):M==="data"?u.filter((U,V)=>{let Y=x.routes[U.route.id];if(!Y||!Y.hasLoader)return!1;if(O(U,V)||I(U,V))return!0;if(U.route.shouldRevalidate){let ee=U.route.shouldRevalidate({currentUrl:new URL(A.pathname+A.search+A.hash,window.origin),currentParams:p[0]?.params||{},nextUrl:new URL(l,window.origin),nextParams:U.params,defaultShouldRevalidate:!0});if(typeof ee=="boolean")return ee}return!0}):[]}function Yde(l,u,{includeHydrateFallback:p}={}){return Xde(l.map(x=>{let A=u.routes[x.route.id];if(!A)return[];let M=[A.module];return A.clientActionModule&&(M=M.concat(A.clientActionModule)),A.clientLoaderModule&&(M=M.concat(A.clientLoaderModule)),p&&A.hydrateFallbackModule&&(M=M.concat(A.hydrateFallbackModule)),A.imports&&(M=M.concat(A.imports)),M}).flat(1))}function Xde(l){return[...new Set(l)]}function Qde(l){let u={},p=Object.keys(l).sort();for(let x of p)u[x]=l[x];return u}function Jde(l,u){let p=new Set;return new Set(u),l.reduce((x,A)=>{let M=JSON.stringify(Qde(A));return p.has(M)||(p.add(M),x.push({key:M,link:A})),x},[])}function pie(){let l=ze.useContext(J3);return ute(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function efe(){let l=ze.useContext(dz);return ute(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var dte=ze.createContext(void 0);dte.displayName="FrameworkContext";function bie(){let l=ze.useContext(dte);return ute(l,"You must render this element inside a <HydratedRouter> element"),l}function tfe(l,u){let p=ze.useContext(dte),[x,A]=ze.useState(!1),[M,O]=ze.useState(!1),{onFocus:I,onBlur:U,onMouseEnter:V,onMouseLeave:Y,onTouchStart:ee}=u,fe=ze.useRef(null);ze.useEffect(()=>{if(l==="render"&&O(!0),l==="viewport"){let $e=ct=>{ct.forEach(Oe=>{O(Oe.isIntersecting)})},be=new IntersectionObserver($e,{threshold:.5});return fe.current&&be.observe(fe.current),()=>{be.disconnect()}}},[l]),ze.useEffect(()=>{if(x){let $e=setTimeout(()=>{O(!0)},100);return()=>{clearTimeout($e)}}},[x]);let Ce=()=>{A(!0)},pe=()=>{A(!1),O(!1)};return p?l!=="intent"?[M,fe,{}]:[M,fe,{onFocus:UM(I,Ce),onBlur:UM(U,pe),onMouseEnter:UM(V,Ce),onMouseLeave:UM(Y,pe),onTouchStart:UM(ee,Ce)}]:[!1,fe,{}]}function UM(l,u){return p=>{l&&l(p),p.defaultPrevented||u(p)}}function nfe({page:l,...u}){let{router:p}=pie(),x=ze.useMemo(()=>tie(p.routes,l,p.basename),[p.routes,l,p.basename]);return x?ze.createElement(sfe,{page:l,matches:x,...u}):null}function ofe(l){let{manifest:u,routeModules:p}=bie(),[x,A]=ze.useState([]);return ze.useEffect(()=>{let M=!1;return Kde(l,u,p).then(O=>{M||A(O)}),()=>{M=!0}},[l,u,p]),x}function sfe({page:l,matches:u,...p}){let x=Rv(),{future:A,manifest:M,routeModules:O}=bie(),{basename:I}=pie(),{loaderData:U,matches:V}=efe(),Y=ze.useMemo(()=>Ooe(l,u,V,M,x,"data"),[l,u,V,M,x]),ee=ze.useMemo(()=>Ooe(l,u,V,M,x,"assets"),[l,u,V,M,x]),fe=ze.useMemo(()=>{if(l===x.pathname+x.search+x.hash)return[];let $e=new Set,be=!1;if(u.forEach(Oe=>{let J=M.routes[Oe.route.id];!J||!J.hasLoader||(!Y.some(rt=>rt.route.id===Oe.route.id)&&Oe.route.id in U&&O[Oe.route.id]?.shouldRevalidate||J.hasClientLoader?be=!0:$e.add(Oe.route.id))}),$e.size===0)return[];let ct=Wde(l,I,A.unstable_trailingSlashAwareDataRequests,"data");return be&&$e.size>0&&ct.searchParams.set("_routes",u.filter(Oe=>$e.has(Oe.route.id)).map(Oe=>Oe.route.id).join(",")),[ct.pathname+ct.search]},[I,A.unstable_trailingSlashAwareDataRequests,U,x,M,Y,u,l,O]),Ce=ze.useMemo(()=>Yde(ee,M),[ee,M]),pe=ofe(ee);return ze.createElement(ze.Fragment,null,fe.map($e=>ze.createElement("link",{key:$e,rel:"prefetch",as:"fetch",href:$e,...p})),Ce.map($e=>ze.createElement("link",{key:$e,rel:"modulepreload",href:$e,...p})),pe.map(({key:$e,link:be})=>ze.createElement("link",{key:$e,nonce:p.nonce,...be})))}function rfe(...l){return u=>{l.forEach(p=>{typeof p=="function"?p(u):p!=null&&(p.current=u)})}}var afe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{afe&&(window.__reactRouterVersion="7.12.0")}catch{}function ife({basename:l,children:u,unstable_useTransitions:p,window:x}){let A=ze.useRef();A.current==null&&(A.current=$ue({window:x,v5Compat:!0}));let M=A.current,[O,I]=ze.useState({action:M.action,location:M.location}),U=ze.useCallback(V=>{p===!1?I(V):ze.startTransition(()=>I(V))},[p]);return ze.useLayoutEffect(()=>M.listen(U),[M,U]),ze.createElement(Fde,{basename:l,children:u,location:O.location,navigationType:O.action,navigator:M,unstable_useTransitions:p})}var yie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uy=ze.forwardRef(function({onClick:u,discover:p="render",prefetch:x="none",relative:A,reloadDocument:M,replace:O,state:I,target:U,to:V,preventScrollReset:Y,viewTransition:ee,unstable_defaultShouldRevalidate:fe,...Ce},pe){let{basename:$e,unstable_useTransitions:be}=ze.useContext(D0),ct=typeof V=="string"&&yie.test(V),Oe=aie(V,$e);V=Oe.to;let J=yde(V,{relative:A}),[rt,It,qe]=tfe(x,Ce),ae=dfe(V,{replace:O,state:I,target:U,preventScrollReset:Y,relative:A,viewTransition:ee,unstable_defaultShouldRevalidate:fe,unstable_useTransitions:be});function lt(dn){u&&u(dn),dn.defaultPrevented||ae(dn)}let En=ze.createElement("a",{...Ce,...qe,href:Oe.absoluteURL||J,onClick:Oe.isExternal||M?u:lt,ref:rfe(pe,It),target:U,"data-discover":!ct&&p==="render"?"true":void 0});return rt&&!ct?ze.createElement(ze.Fragment,null,En,ze.createElement(nfe,{page:J})):En});uy.displayName="Link";var lfe=ze.forwardRef(function({"aria-current":u="page",caseSensitive:p=!1,className:x="",end:A=!1,style:M,to:O,viewTransition:I,children:U,...V},Y){let ee=iB(O,{relative:V.relative}),fe=Rv(),Ce=ze.useContext(dz),{navigator:pe,basename:$e}=ze.useContext(D0),be=Ce!=null&&pfe(ee)&&I===!0,ct=pe.encodeLocation?pe.encodeLocation(ee).pathname:ee.pathname,Oe=fe.pathname,J=Ce&&Ce.navigation&&Ce.navigation.location?Ce.navigation.location.pathname:null;p||(Oe=Oe.toLowerCase(),J=J?J.toLowerCase():null,ct=ct.toLowerCase()),J&&$e&&(J=w2(J,$e)||J);const rt=ct!=="/"&&ct.endsWith("/")?ct.length-1:ct.length;let It=Oe===ct||!A&&Oe.startsWith(ct)&&Oe.charAt(rt)==="/",qe=J!=null&&(J===ct||!A&&J.startsWith(ct)&&J.charAt(ct.length)==="/"),ae={isActive:It,isPending:qe,isTransitioning:be},lt=It?u:void 0,En;typeof x=="function"?En=x(ae):En=[x,It?"active":null,qe?"pending":null,be?"transitioning":null].filter(Boolean).join(" ");let dn=typeof M=="function"?M(ae):M;return ze.createElement(uy,{...V,"aria-current":lt,className:En,ref:Y,style:dn,to:O,viewTransition:I},typeof U=="function"?U(ae):U)});lfe.displayName="NavLink";var cfe=ze.forwardRef(({discover:l="render",fetcherKey:u,navigate:p,reloadDocument:x,replace:A,state:M,method:O=$H,action:I,onSubmit:U,relative:V,preventScrollReset:Y,viewTransition:ee,unstable_defaultShouldRevalidate:fe,...Ce},pe)=>{let{unstable_useTransitions:$e}=ze.useContext(D0),be=hfe(),ct=gfe(I,{relative:V}),Oe=O.toLowerCase()==="get"?"get":"post",J=typeof I=="string"&&yie.test(I),rt=It=>{if(U&&U(It),It.defaultPrevented)return;It.preventDefault();let qe=It.nativeEvent.submitter,ae=qe?.getAttribute("formmethod")||O,lt=()=>be(qe||It.currentTarget,{fetcherKey:u,method:ae,navigate:p,replace:A,state:M,relative:V,preventScrollReset:Y,viewTransition:ee,unstable_defaultShouldRevalidate:fe});$e&&p!==!1?ze.startTransition(()=>lt()):lt()};return ze.createElement("form",{ref:pe,method:Oe,action:ct,onSubmit:x?U:rt,...Ce,"data-discover":!J&&l==="render"?"true":void 0})});cfe.displayName="Form";function ufe(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vie(l){let u=ze.useContext(J3);return Wc(u,ufe(l)),u}function dfe(l,{target:u,replace:p,state:x,preventScrollReset:A,relative:M,viewTransition:O,unstable_defaultShouldRevalidate:I,unstable_useTransitions:U}={}){let V=RT(),Y=Rv(),ee=iB(l,{relative:M});return ze.useCallback(fe=>{if(jde(fe,u)){fe.preventDefault();let Ce=p!==void 0?p:eB(Y)===eB(ee),pe=()=>V(l,{replace:Ce,state:x,preventScrollReset:A,relative:M,viewTransition:O,unstable_defaultShouldRevalidate:I});U?ze.startTransition(()=>pe()):pe()}},[Y,V,ee,p,x,u,l,A,M,O,I,U])}var ffe=0,mfe=()=>`__${String(++ffe)}__`;function hfe(){let{router:l}=vie("useSubmit"),{basename:u}=ze.useContext(D0),p=Rde(),x=l.fetch,A=l.navigate;return ze.useCallback(async(M,O={})=>{let{action:I,method:U,encType:V,formData:Y,body:ee}=Zde(M,u);if(O.navigate===!1){let fe=O.fetcherKey||mfe();await x(fe,p,O.action||I,{unstable_defaultShouldRevalidate:O.unstable_defaultShouldRevalidate,preventScrollReset:O.preventScrollReset,formData:Y,body:ee,formMethod:O.method||U,formEncType:O.encType||V,flushSync:O.flushSync})}else await A(O.action||I,{unstable_defaultShouldRevalidate:O.unstable_defaultShouldRevalidate,preventScrollReset:O.preventScrollReset,formData:Y,body:ee,formMethod:O.method||U,formEncType:O.encType||V,replace:O.replace,state:O.state,fromRouteId:p,flushSync:O.flushSync,viewTransition:O.viewTransition})},[x,A,u,p])}function gfe(l,{relative:u}={}){let{basename:p}=ze.useContext(D0),x=ze.useContext(j1);Wc(x,"useFormAction must be used inside a RouteContext");let[A]=x.matches.slice(-1),M={...iB(l||".",{relative:u})},O=Rv();if(l==null){M.search=O.search;let I=new URLSearchParams(M.search),U=I.getAll("index");if(U.some(Y=>Y==="")){I.delete("index"),U.filter(ee=>ee).forEach(ee=>I.append("index",ee));let Y=I.toString();M.search=Y?`?${Y}`:""}}return(!l||l===".")&&A.route.index&&(M.search=M.search?M.search.replace(/^\?/,"?index&"):"?index"),p!=="/"&&(M.pathname=M.pathname==="/"?p:y2([p,M.pathname])),eB(M)}function pfe(l,{relative:u}={}){let p=ze.useContext(lie);Wc(p!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:x}=vie("useViewTransitionState"),A=iB(l,{relative:u});if(!p.isTransitioning)return!1;let M=w2(p.currentLocation.pathname,x)||p.currentLocation.pathname,O=w2(p.nextLocation.pathname,x)||p.nextLocation.pathname;return qH(A.pathname,O)!=null||qH(A.pathname,M)!=null}const Noe=l=>{let u;const p=new Set,x=(V,Y)=>{const ee=typeof V=="function"?V(u):V;if(!Object.is(ee,u)){const fe=u;u=Y??(typeof ee!="object"||ee===null)?ee:Object.assign({},u,ee),p.forEach(Ce=>Ce(u,fe))}},A=()=>u,I={setState:x,getState:A,getInitialState:()=>U,subscribe:V=>(p.add(V),()=>p.delete(V))},U=u=l(x,A,I);return I},bfe=(l=>l?Noe(l):Noe),yfe=l=>l;function vfe(l,u=yfe){const p=qM.useSyncExternalStore(l.subscribe,qM.useCallback(()=>u(l.getState()),[l,u]),qM.useCallback(()=>u(l.getInitialState()),[l,u]));return qM.useDebugValue(p),p}const Roe=l=>{const u=bfe(l),p=x=>vfe(u,x);return Object.assign(p,u),p},xfe=(l=>l?Roe(l):Roe),mz=xfe(l=>({user:null,token:null,isAuthenticated:!1,initialize:()=>{const u=localStorage.getItem("admin_token");l(u?{token:u,isAuthenticated:!0}:{token:null,user:null,isAuthenticated:!1})},login:(u,p)=>{localStorage.setItem("admin_token",u),l({token:u,user:p,isAuthenticated:!0})},logout:()=>{localStorage.removeItem("admin_token"),l({token:null,user:null,isAuthenticated:!1})},setUser:u=>l({user:u})}));function xie(l,u){return function(){return l.apply(u,arguments)}}const{toString:wfe}=Object.prototype,{getPrototypeOf:fte}=Object,{iterator:hz,toStringTag:wie}=Symbol,gz=(l=>u=>{const p=wfe.call(u);return l[p]||(l[p]=p.slice(8,-1).toLowerCase())})(Object.create(null)),dy=l=>(l=l.toLowerCase(),u=>gz(u)===l),pz=l=>u=>typeof u===l,{isArray:t_}=Array,G3=pz("undefined");function lB(l){return l!==null&&!G3(l)&&l.constructor!==null&&!G3(l.constructor)&&mp(l.constructor.isBuffer)&&l.constructor.isBuffer(l)}const Cie=dy("ArrayBuffer");function Cfe(l){let u;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?u=ArrayBuffer.isView(l):u=l&&l.buffer&&Cie(l.buffer),u}const Sfe=pz("string"),mp=pz("function"),Sie=pz("number"),cB=l=>l!==null&&typeof l=="object",Efe=l=>l===!0||l===!1,HH=l=>{if(gz(l)!=="object")return!1;const u=fte(l);return(u===null||u===Object.prototype||Object.getPrototypeOf(u)===null)&&!(wie in l)&&!(hz in l)},Tfe=l=>{if(!cB(l)||lB(l))return!1;try{return Object.keys(l).length===0&&Object.getPrototypeOf(l)===Object.prototype}catch{return!1}},Afe=dy("Date"),kfe=dy("File"),_fe=dy("Blob"),Dfe=dy("FileList"),Ofe=l=>cB(l)&&mp(l.pipe),Nfe=l=>{let u;return l&&(typeof FormData=="function"&&l instanceof FormData||mp(l.append)&&((u=gz(l))==="formdata"||u==="object"&&mp(l.toString)&&l.toString()==="[object FormData]"))},Rfe=dy("URLSearchParams"),[Mfe,Bfe,Lfe,Ffe]=["ReadableStream","Request","Response","Headers"].map(dy),Pfe=l=>l.trim?l.trim():l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function uB(l,u,{allOwnKeys:p=!1}={}){if(l===null||typeof l>"u")return;let x,A;if(typeof l!="object"&&(l=[l]),t_(l))for(x=0,A=l.length;x<A;x++)u.call(null,l[x],x,l);else{if(lB(l))return;const M=p?Object.getOwnPropertyNames(l):Object.keys(l),O=M.length;let I;for(x=0;x<O;x++)I=M[x],u.call(null,l[I],I,l)}}function Eie(l,u){if(lB(l))return null;u=u.toLowerCase();const p=Object.keys(l);let x=p.length,A;for(;x-- >0;)if(A=p[x],u===A.toLowerCase())return A;return null}const ET=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Tie=l=>!G3(l)&&l!==ET;function kee(){const{caseless:l,skipUndefined:u}=Tie(this)&&this||{},p={},x=(A,M)=>{const O=l&&Eie(p,M)||M;HH(p[O])&&HH(A)?p[O]=kee(p[O],A):HH(A)?p[O]=kee({},A):t_(A)?p[O]=A.slice():(!u||!G3(A))&&(p[O]=A)};for(let A=0,M=arguments.length;A<M;A++)arguments[A]&&uB(arguments[A],x);return p}const $fe=(l,u,p,{allOwnKeys:x}={})=>(uB(u,(A,M)=>{p&&mp(A)?l[M]=xie(A,p):l[M]=A},{allOwnKeys:x}),l),Ife=l=>(l.charCodeAt(0)===65279&&(l=l.slice(1)),l),Hfe=(l,u,p,x)=>{l.prototype=Object.create(u.prototype,x),l.prototype.constructor=l,Object.defineProperty(l,"super",{value:u.prototype}),p&&Object.assign(l.prototype,p)},zfe=(l,u,p,x)=>{let A,M,O;const I={};if(u=u||{},l==null)return u;do{for(A=Object.getOwnPropertyNames(l),M=A.length;M-- >0;)O=A[M],(!x||x(O,l,u))&&!I[O]&&(u[O]=l[O],I[O]=!0);l=p!==!1&&fte(l)}while(l&&(!p||p(l,u))&&l!==Object.prototype);return u},jfe=(l,u,p)=>{l=String(l),(p===void 0||p>l.length)&&(p=l.length),p-=u.length;const x=l.indexOf(u,p);return x!==-1&&x===p},Vfe=l=>{if(!l)return null;if(t_(l))return l;let u=l.length;if(!Sie(u))return null;const p=new Array(u);for(;u-- >0;)p[u]=l[u];return p},Ufe=(l=>u=>l&&u instanceof l)(typeof Uint8Array<"u"&&fte(Uint8Array)),Zfe=(l,u)=>{const x=(l&&l[hz]).call(l);let A;for(;(A=x.next())&&!A.done;){const M=A.value;u.call(l,M[0],M[1])}},Wfe=(l,u)=>{let p;const x=[];for(;(p=l.exec(u))!==null;)x.push(p);return x},qfe=dy("HTMLFormElement"),Gfe=l=>l.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(p,x,A){return x.toUpperCase()+A}),Moe=(({hasOwnProperty:l})=>(u,p)=>l.call(u,p))(Object.prototype),Kfe=dy("RegExp"),Aie=(l,u)=>{const p=Object.getOwnPropertyDescriptors(l),x={};uB(p,(A,M)=>{let O;(O=u(A,M,l))!==!1&&(x[M]=O||A)}),Object.defineProperties(l,x)},Yfe=l=>{Aie(l,(u,p)=>{if(mp(l)&&["arguments","caller","callee"].indexOf(p)!==-1)return!1;const x=l[p];if(mp(x)){if(u.enumerable=!1,"writable"in u){u.writable=!1;return}u.set||(u.set=()=>{throw Error("Can not rewrite read-only method '"+p+"'")})}})},Xfe=(l,u)=>{const p={},x=A=>{A.forEach(M=>{p[M]=!0})};return t_(l)?x(l):x(String(l).split(u)),p},Qfe=()=>{},Jfe=(l,u)=>l!=null&&Number.isFinite(l=+l)?l:u;function eme(l){return!!(l&&mp(l.append)&&l[wie]==="FormData"&&l[hz])}const tme=l=>{const u=new Array(10),p=(x,A)=>{if(cB(x)){if(u.indexOf(x)>=0)return;if(lB(x))return x;if(!("toJSON"in x)){u[A]=x;const M=t_(x)?[]:{};return uB(x,(O,I)=>{const U=p(O,A+1);!G3(U)&&(M[I]=U)}),u[A]=void 0,M}}return x};return p(l,0)},nme=dy("AsyncFunction"),ome=l=>l&&(cB(l)||mp(l))&&mp(l.then)&&mp(l.catch),kie=((l,u)=>l?setImmediate:u?((p,x)=>(ET.addEventListener("message",({source:A,data:M})=>{A===ET&&M===p&&x.length&&x.shift()()},!1),A=>{x.push(A),ET.postMessage(p,"*")}))(`axios@${Math.random()}`,[]):p=>setTimeout(p))(typeof setImmediate=="function",mp(ET.postMessage)),sme=typeof queueMicrotask<"u"?queueMicrotask.bind(ET):typeof process<"u"&&process.nextTick||kie,rme=l=>l!=null&&mp(l[hz]),rn={isArray:t_,isArrayBuffer:Cie,isBuffer:lB,isFormData:Nfe,isArrayBufferView:Cfe,isString:Sfe,isNumber:Sie,isBoolean:Efe,isObject:cB,isPlainObject:HH,isEmptyObject:Tfe,isReadableStream:Mfe,isRequest:Bfe,isResponse:Lfe,isHeaders:Ffe,isUndefined:G3,isDate:Afe,isFile:kfe,isBlob:_fe,isRegExp:Kfe,isFunction:mp,isStream:Ofe,isURLSearchParams:Rfe,isTypedArray:Ufe,isFileList:Dfe,forEach:uB,merge:kee,extend:$fe,trim:Pfe,stripBOM:Ife,inherits:Hfe,toFlatObject:zfe,kindOf:gz,kindOfTest:dy,endsWith:jfe,toArray:Vfe,forEachEntry:Zfe,matchAll:Wfe,isHTMLForm:qfe,hasOwnProperty:Moe,hasOwnProp:Moe,reduceDescriptors:Aie,freezeMethods:Yfe,toObjectSet:Xfe,toCamelCase:Gfe,noop:Qfe,toFiniteNumber:Jfe,findKey:Eie,global:ET,isContextDefined:Tie,isSpecCompliantForm:eme,toJSONObject:tme,isAsyncFn:nme,isThenable:ome,setImmediate:kie,asap:sme,isIterable:rme};function qr(l,u,p,x,A){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=l,this.name="AxiosError",u&&(this.code=u),p&&(this.config=p),x&&(this.request=x),A&&(this.response=A,this.status=A.status?A.status:null)}rn.inherits(qr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:rn.toJSONObject(this.config),code:this.code,status:this.status}}});const _ie=qr.prototype,Die={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(l=>{Die[l]={value:l}});Object.defineProperties(qr,Die);Object.defineProperty(_ie,"isAxiosError",{value:!0});qr.from=(l,u,p,x,A,M)=>{const O=Object.create(_ie);rn.toFlatObject(l,O,function(Y){return Y!==Error.prototype},V=>V!=="isAxiosError");const I=l&&l.message?l.message:"Error",U=u==null&&l?l.code:u;return qr.call(O,I,U,p,x,A),l&&O.cause==null&&Object.defineProperty(O,"cause",{value:l,configurable:!0}),O.name=l&&l.name||"Error",M&&Object.assign(O,M),O};const ame=null;function _ee(l){return rn.isPlainObject(l)||rn.isArray(l)}function Oie(l){return rn.endsWith(l,"[]")?l.slice(0,-2):l}function Boe(l,u,p){return l?l.concat(u).map(function(A,M){return A=Oie(A),!p&&M?"["+A+"]":A}).join(p?".":""):u}function ime(l){return rn.isArray(l)&&!l.some(_ee)}const lme=rn.toFlatObject(rn,{},null,function(u){return/^is[A-Z]/.test(u)});function bz(l,u,p){if(!rn.isObject(l))throw new TypeError("target must be an object");u=u||new FormData,p=rn.toFlatObject(p,{metaTokens:!0,dots:!1,indexes:!1},!1,function($e,be){return!rn.isUndefined(be[$e])});const x=p.metaTokens,A=p.visitor||Y,M=p.dots,O=p.indexes,U=(p.Blob||typeof Blob<"u"&&Blob)&&rn.isSpecCompliantForm(u);if(!rn.isFunction(A))throw new TypeError("visitor must be a function");function V(pe){if(pe===null)return"";if(rn.isDate(pe))return pe.toISOString();if(rn.isBoolean(pe))return pe.toString();if(!U&&rn.isBlob(pe))throw new qr("Blob is not supported. Use a Buffer instead.");return rn.isArrayBuffer(pe)||rn.isTypedArray(pe)?U&&typeof Blob=="function"?new Blob([pe]):Buffer.from(pe):pe}function Y(pe,$e,be){let ct=pe;if(pe&&!be&&typeof pe=="object"){if(rn.endsWith($e,"{}"))$e=x?$e:$e.slice(0,-2),pe=JSON.stringify(pe);else if(rn.isArray(pe)&&ime(pe)||(rn.isFileList(pe)||rn.endsWith($e,"[]"))&&(ct=rn.toArray(pe)))return $e=Oie($e),ct.forEach(function(J,rt){!(rn.isUndefined(J)||J===null)&&u.append(O===!0?Boe([$e],rt,M):O===null?$e:$e+"[]",V(J))}),!1}return _ee(pe)?!0:(u.append(Boe(be,$e,M),V(pe)),!1)}const ee=[],fe=Object.assign(lme,{defaultVisitor:Y,convertValue:V,isVisitable:_ee});function Ce(pe,$e){if(!rn.isUndefined(pe)){if(ee.indexOf(pe)!==-1)throw Error("Circular reference detected in "+$e.join("."));ee.push(pe),rn.forEach(pe,function(ct,Oe){(!(rn.isUndefined(ct)||ct===null)&&A.call(u,ct,rn.isString(Oe)?Oe.trim():Oe,$e,fe))===!0&&Ce(ct,$e?$e.concat(Oe):[Oe])}),ee.pop()}}if(!rn.isObject(l))throw new TypeError("data must be an object");return Ce(l),u}function Loe(l){const u={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(l).replace(/[!'()~]|%20|%00/g,function(x){return u[x]})}function mte(l,u){this._pairs=[],l&&bz(l,this,u)}const Nie=mte.prototype;Nie.append=function(u,p){this._pairs.push([u,p])};Nie.toString=function(u){const p=u?function(x){return u.call(this,x,Loe)}:Loe;return this._pairs.map(function(A){return p(A[0])+"="+p(A[1])},"").join("&")};function cme(l){return encodeURIComponent(l).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Rie(l,u,p){if(!u)return l;const x=p&&p.encode||cme;rn.isFunction(p)&&(p={serialize:p});const A=p&&p.serialize;let M;if(A?M=A(u,p):M=rn.isURLSearchParams(u)?u.toString():new mte(u,p).toString(x),M){const O=l.indexOf("#");O!==-1&&(l=l.slice(0,O)),l+=(l.indexOf("?")===-1?"?":"&")+M}return l}class Foe{constructor(){this.handlers=[]}use(u,p,x){return this.handlers.push({fulfilled:u,rejected:p,synchronous:x?x.synchronous:!1,runWhen:x?x.runWhen:null}),this.handlers.length-1}eject(u){this.handlers[u]&&(this.handlers[u]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(u){rn.forEach(this.handlers,function(x){x!==null&&u(x)})}}const Mie={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ume=typeof URLSearchParams<"u"?URLSearchParams:mte,dme=typeof FormData<"u"?FormData:null,fme=typeof Blob<"u"?Blob:null,mme={isBrowser:!0,classes:{URLSearchParams:ume,FormData:dme,Blob:fme},protocols:["http","https","file","blob","url","data"]},hte=typeof window<"u"&&typeof document<"u",Dee=typeof navigator=="object"&&navigator||void 0,hme=hte&&(!Dee||["ReactNative","NativeScript","NS"].indexOf(Dee.product)<0),gme=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",pme=hte&&window.location.href||"http://localhost",bme=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hte,hasStandardBrowserEnv:hme,hasStandardBrowserWebWorkerEnv:gme,navigator:Dee,origin:pme},Symbol.toStringTag,{value:"Module"})),ph={...bme,...mme};function yme(l,u){return bz(l,new ph.classes.URLSearchParams,{visitor:function(p,x,A,M){return ph.isNode&&rn.isBuffer(p)?(this.append(x,p.toString("base64")),!1):M.defaultVisitor.apply(this,arguments)},...u})}function vme(l){return rn.matchAll(/\w+|\[(\w*)]/g,l).map(u=>u[0]==="[]"?"":u[1]||u[0])}function xme(l){const u={},p=Object.keys(l);let x;const A=p.length;let M;for(x=0;x<A;x++)M=p[x],u[M]=l[M];return u}function Bie(l){function u(p,x,A,M){let O=p[M++];if(O==="__proto__")return!0;const I=Number.isFinite(+O),U=M>=p.length;return O=!O&&rn.isArray(A)?A.length:O,U?(rn.hasOwnProp(A,O)?A[O]=[A[O],x]:A[O]=x,!I):((!A[O]||!rn.isObject(A[O]))&&(A[O]=[]),u(p,x,A[O],M)&&rn.isArray(A[O])&&(A[O]=xme(A[O])),!I)}if(rn.isFormData(l)&&rn.isFunction(l.entries)){const p={};return rn.forEachEntry(l,(x,A)=>{u(vme(x),A,p,0)}),p}return null}function wme(l,u,p){if(rn.isString(l))try{return(u||JSON.parse)(l),rn.trim(l)}catch(x){if(x.name!=="SyntaxError")throw x}return(p||JSON.stringify)(l)}const dB={transitional:Mie,adapter:["xhr","http","fetch"],transformRequest:[function(u,p){const x=p.getContentType()||"",A=x.indexOf("application/json")>-1,M=rn.isObject(u);if(M&&rn.isHTMLForm(u)&&(u=new FormData(u)),rn.isFormData(u))return A?JSON.stringify(Bie(u)):u;if(rn.isArrayBuffer(u)||rn.isBuffer(u)||rn.isStream(u)||rn.isFile(u)||rn.isBlob(u)||rn.isReadableStream(u))return u;if(rn.isArrayBufferView(u))return u.buffer;if(rn.isURLSearchParams(u))return p.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),u.toString();let I;if(M){if(x.indexOf("application/x-www-form-urlencoded")>-1)return yme(u,this.formSerializer).toString();if((I=rn.isFileList(u))||x.indexOf("multipart/form-data")>-1){const U=this.env&&this.env.FormData;return bz(I?{"files[]":u}:u,U&&new U,this.formSerializer)}}return M||A?(p.setContentType("application/json",!1),wme(u)):u}],transformResponse:[function(u){const p=this.transitional||dB.transitional,x=p&&p.forcedJSONParsing,A=this.responseType==="json";if(rn.isResponse(u)||rn.isReadableStream(u))return u;if(u&&rn.isString(u)&&(x&&!this.responseType||A)){const O=!(p&&p.silentJSONParsing)&&A;try{return JSON.parse(u,this.parseReviver)}catch(I){if(O)throw I.name==="SyntaxError"?qr.from(I,qr.ERR_BAD_RESPONSE,this,null,this.response):I}}return u}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ph.classes.FormData,Blob:ph.classes.Blob},validateStatus:function(u){return u>=200&&u<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};rn.forEach(["delete","get","head","post","put","patch"],l=>{dB.headers[l]={}});const Cme=rn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Sme=l=>{const u={};let p,x,A;return l&&l.split(`
`).forEach(function(O){A=O.indexOf(":"),p=O.substring(0,A).trim().toLowerCase(),x=O.substring(A+1).trim(),!(!p||u[p]&&Cme[p])&&(p==="set-cookie"?u[p]?u[p].push(x):u[p]=[x]:u[p]=u[p]?u[p]+", "+x:x)}),u},Poe=Symbol("internals");function ZM(l){return l&&String(l).trim().toLowerCase()}function zH(l){return l===!1||l==null?l:rn.isArray(l)?l.map(zH):String(l)}function Eme(l){const u=Object.create(null),p=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let x;for(;x=p.exec(l);)u[x[1]]=x[2];return u}const Tme=l=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(l.trim());function YJ(l,u,p,x,A){if(rn.isFunction(x))return x.call(this,u,p);if(A&&(u=p),!!rn.isString(u)){if(rn.isString(x))return u.indexOf(x)!==-1;if(rn.isRegExp(x))return x.test(u)}}function Ame(l){return l.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(u,p,x)=>p.toUpperCase()+x)}function kme(l,u){const p=rn.toCamelCase(" "+u);["get","set","has"].forEach(x=>{Object.defineProperty(l,x+p,{value:function(A,M,O){return this[x].call(this,u,A,M,O)},configurable:!0})})}let hp=class{constructor(u){u&&this.set(u)}set(u,p,x){const A=this;function M(I,U,V){const Y=ZM(U);if(!Y)throw new Error("header name must be a non-empty string");const ee=rn.findKey(A,Y);(!ee||A[ee]===void 0||V===!0||V===void 0&&A[ee]!==!1)&&(A[ee||U]=zH(I))}const O=(I,U)=>rn.forEach(I,(V,Y)=>M(V,Y,U));if(rn.isPlainObject(u)||u instanceof this.constructor)O(u,p);else if(rn.isString(u)&&(u=u.trim())&&!Tme(u))O(Sme(u),p);else if(rn.isObject(u)&&rn.isIterable(u)){let I={},U,V;for(const Y of u){if(!rn.isArray(Y))throw TypeError("Object iterator must return a key-value pair");I[V=Y[0]]=(U=I[V])?rn.isArray(U)?[...U,Y[1]]:[U,Y[1]]:Y[1]}O(I,p)}else u!=null&&M(p,u,x);return this}get(u,p){if(u=ZM(u),u){const x=rn.findKey(this,u);if(x){const A=this[x];if(!p)return A;if(p===!0)return Eme(A);if(rn.isFunction(p))return p.call(this,A,x);if(rn.isRegExp(p))return p.exec(A);throw new TypeError("parser must be boolean|regexp|function")}}}has(u,p){if(u=ZM(u),u){const x=rn.findKey(this,u);return!!(x&&this[x]!==void 0&&(!p||YJ(this,this[x],x,p)))}return!1}delete(u,p){const x=this;let A=!1;function M(O){if(O=ZM(O),O){const I=rn.findKey(x,O);I&&(!p||YJ(x,x[I],I,p))&&(delete x[I],A=!0)}}return rn.isArray(u)?u.forEach(M):M(u),A}clear(u){const p=Object.keys(this);let x=p.length,A=!1;for(;x--;){const M=p[x];(!u||YJ(this,this[M],M,u,!0))&&(delete this[M],A=!0)}return A}normalize(u){const p=this,x={};return rn.forEach(this,(A,M)=>{const O=rn.findKey(x,M);if(O){p[O]=zH(A),delete p[M];return}const I=u?Ame(M):String(M).trim();I!==M&&delete p[M],p[I]=zH(A),x[I]=!0}),this}concat(...u){return this.constructor.concat(this,...u)}toJSON(u){const p=Object.create(null);return rn.forEach(this,(x,A)=>{x!=null&&x!==!1&&(p[A]=u&&rn.isArray(x)?x.join(", "):x)}),p}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([u,p])=>u+": "+p).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(u){return u instanceof this?u:new this(u)}static concat(u,...p){const x=new this(u);return p.forEach(A=>x.set(A)),x}static accessor(u){const x=(this[Poe]=this[Poe]={accessors:{}}).accessors,A=this.prototype;function M(O){const I=ZM(O);x[I]||(kme(A,O),x[I]=!0)}return rn.isArray(u)?u.forEach(M):M(u),this}};hp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);rn.reduceDescriptors(hp.prototype,({value:l},u)=>{let p=u[0].toUpperCase()+u.slice(1);return{get:()=>l,set(x){this[p]=x}}});rn.freezeMethods(hp);function XJ(l,u){const p=this||dB,x=u||p,A=hp.from(x.headers);let M=x.data;return rn.forEach(l,function(I){M=I.call(p,M,A.normalize(),u?u.status:void 0)}),A.normalize(),M}function Lie(l){return!!(l&&l.__CANCEL__)}function n_(l,u,p){qr.call(this,l??"canceled",qr.ERR_CANCELED,u,p),this.name="CanceledError"}rn.inherits(n_,qr,{__CANCEL__:!0});function Fie(l,u,p){const x=p.config.validateStatus;!p.status||!x||x(p.status)?l(p):u(new qr("Request failed with status code "+p.status,[qr.ERR_BAD_REQUEST,qr.ERR_BAD_RESPONSE][Math.floor(p.status/100)-4],p.config,p.request,p))}function _me(l){const u=/^([-+\w]{1,25})(:?\/\/|:)/.exec(l);return u&&u[1]||""}function Dme(l,u){l=l||10;const p=new Array(l),x=new Array(l);let A=0,M=0,O;return u=u!==void 0?u:1e3,function(U){const V=Date.now(),Y=x[M];O||(O=V),p[A]=U,x[A]=V;let ee=M,fe=0;for(;ee!==A;)fe+=p[ee++],ee=ee%l;if(A=(A+1)%l,A===M&&(M=(M+1)%l),V-O<u)return;const Ce=Y&&V-Y;return Ce?Math.round(fe*1e3/Ce):void 0}}function Ome(l,u){let p=0,x=1e3/u,A,M;const O=(V,Y=Date.now())=>{p=Y,A=null,M&&(clearTimeout(M),M=null),l(...V)};return[(...V)=>{const Y=Date.now(),ee=Y-p;ee>=x?O(V,Y):(A=V,M||(M=setTimeout(()=>{M=null,O(A)},x-ee)))},()=>A&&O(A)]}const GH=(l,u,p=3)=>{let x=0;const A=Dme(50,250);return Ome(M=>{const O=M.loaded,I=M.lengthComputable?M.total:void 0,U=O-x,V=A(U),Y=O<=I;x=O;const ee={loaded:O,total:I,progress:I?O/I:void 0,bytes:U,rate:V||void 0,estimated:V&&I&&Y?(I-O)/V:void 0,event:M,lengthComputable:I!=null,[u?"download":"upload"]:!0};l(ee)},p)},$oe=(l,u)=>{const p=l!=null;return[x=>u[0]({lengthComputable:p,total:l,loaded:x}),u[1]]},Ioe=l=>(...u)=>rn.asap(()=>l(...u)),Nme=ph.hasStandardBrowserEnv?((l,u)=>p=>(p=new URL(p,ph.origin),l.protocol===p.protocol&&l.host===p.host&&(u||l.port===p.port)))(new URL(ph.origin),ph.navigator&&/(msie|trident)/i.test(ph.navigator.userAgent)):()=>!0,Rme=ph.hasStandardBrowserEnv?{write(l,u,p,x,A,M,O){if(typeof document>"u")return;const I=[`${l}=${encodeURIComponent(u)}`];rn.isNumber(p)&&I.push(`expires=${new Date(p).toUTCString()}`),rn.isString(x)&&I.push(`path=${x}`),rn.isString(A)&&I.push(`domain=${A}`),M===!0&&I.push("secure"),rn.isString(O)&&I.push(`SameSite=${O}`),document.cookie=I.join("; ")},read(l){if(typeof document>"u")return null;const u=document.cookie.match(new RegExp("(?:^|; )"+l+"=([^;]*)"));return u?decodeURIComponent(u[1]):null},remove(l){this.write(l,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Mme(l){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(l)}function Bme(l,u){return u?l.replace(/\/?\/$/,"")+"/"+u.replace(/^\/+/,""):l}function Pie(l,u,p){let x=!Mme(u);return l&&(x||p==!1)?Bme(l,u):u}const Hoe=l=>l instanceof hp?{...l}:l;function OT(l,u){u=u||{};const p={};function x(V,Y,ee,fe){return rn.isPlainObject(V)&&rn.isPlainObject(Y)?rn.merge.call({caseless:fe},V,Y):rn.isPlainObject(Y)?rn.merge({},Y):rn.isArray(Y)?Y.slice():Y}function A(V,Y,ee,fe){if(rn.isUndefined(Y)){if(!rn.isUndefined(V))return x(void 0,V,ee,fe)}else return x(V,Y,ee,fe)}function M(V,Y){if(!rn.isUndefined(Y))return x(void 0,Y)}function O(V,Y){if(rn.isUndefined(Y)){if(!rn.isUndefined(V))return x(void 0,V)}else return x(void 0,Y)}function I(V,Y,ee){if(ee in u)return x(V,Y);if(ee in l)return x(void 0,V)}const U={url:M,method:M,data:M,baseURL:O,transformRequest:O,transformResponse:O,paramsSerializer:O,timeout:O,timeoutMessage:O,withCredentials:O,withXSRFToken:O,adapter:O,responseType:O,xsrfCookieName:O,xsrfHeaderName:O,onUploadProgress:O,onDownloadProgress:O,decompress:O,maxContentLength:O,maxBodyLength:O,beforeRedirect:O,transport:O,httpAgent:O,httpsAgent:O,cancelToken:O,socketPath:O,responseEncoding:O,validateStatus:I,headers:(V,Y,ee)=>A(Hoe(V),Hoe(Y),ee,!0)};return rn.forEach(Object.keys({...l,...u}),function(Y){const ee=U[Y]||A,fe=ee(l[Y],u[Y],Y);rn.isUndefined(fe)&&ee!==I||(p[Y]=fe)}),p}const $ie=l=>{const u=OT({},l);let{data:p,withXSRFToken:x,xsrfHeaderName:A,xsrfCookieName:M,headers:O,auth:I}=u;if(u.headers=O=hp.from(O),u.url=Rie(Pie(u.baseURL,u.url,u.allowAbsoluteUrls),l.params,l.paramsSerializer),I&&O.set("Authorization","Basic "+btoa((I.username||"")+":"+(I.password?unescape(encodeURIComponent(I.password)):""))),rn.isFormData(p)){if(ph.hasStandardBrowserEnv||ph.hasStandardBrowserWebWorkerEnv)O.setContentType(void 0);else if(rn.isFunction(p.getHeaders)){const U=p.getHeaders(),V=["content-type","content-length"];Object.entries(U).forEach(([Y,ee])=>{V.includes(Y.toLowerCase())&&O.set(Y,ee)})}}if(ph.hasStandardBrowserEnv&&(x&&rn.isFunction(x)&&(x=x(u)),x||x!==!1&&Nme(u.url))){const U=A&&M&&Rme.read(M);U&&O.set(A,U)}return u},Lme=typeof XMLHttpRequest<"u",Fme=Lme&&function(l){return new Promise(function(p,x){const A=$ie(l);let M=A.data;const O=hp.from(A.headers).normalize();let{responseType:I,onUploadProgress:U,onDownloadProgress:V}=A,Y,ee,fe,Ce,pe;function $e(){Ce&&Ce(),pe&&pe(),A.cancelToken&&A.cancelToken.unsubscribe(Y),A.signal&&A.signal.removeEventListener("abort",Y)}let be=new XMLHttpRequest;be.open(A.method.toUpperCase(),A.url,!0),be.timeout=A.timeout;function ct(){if(!be)return;const J=hp.from("getAllResponseHeaders"in be&&be.getAllResponseHeaders()),It={data:!I||I==="text"||I==="json"?be.responseText:be.response,status:be.status,statusText:be.statusText,headers:J,config:l,request:be};Fie(function(ae){p(ae),$e()},function(ae){x(ae),$e()},It),be=null}"onloadend"in be?be.onloadend=ct:be.onreadystatechange=function(){!be||be.readyState!==4||be.status===0&&!(be.responseURL&&be.responseURL.indexOf("file:")===0)||setTimeout(ct)},be.onabort=function(){be&&(x(new qr("Request aborted",qr.ECONNABORTED,l,be)),be=null)},be.onerror=function(rt){const It=rt&&rt.message?rt.message:"Network Error",qe=new qr(It,qr.ERR_NETWORK,l,be);qe.event=rt||null,x(qe),be=null},be.ontimeout=function(){let rt=A.timeout?"timeout of "+A.timeout+"ms exceeded":"timeout exceeded";const It=A.transitional||Mie;A.timeoutErrorMessage&&(rt=A.timeoutErrorMessage),x(new qr(rt,It.clarifyTimeoutError?qr.ETIMEDOUT:qr.ECONNABORTED,l,be)),be=null},M===void 0&&O.setContentType(null),"setRequestHeader"in be&&rn.forEach(O.toJSON(),function(rt,It){be.setRequestHeader(It,rt)}),rn.isUndefined(A.withCredentials)||(be.withCredentials=!!A.withCredentials),I&&I!=="json"&&(be.responseType=A.responseType),V&&([fe,pe]=GH(V,!0),be.addEventListener("progress",fe)),U&&be.upload&&([ee,Ce]=GH(U),be.upload.addEventListener("progress",ee),be.upload.addEventListener("loadend",Ce)),(A.cancelToken||A.signal)&&(Y=J=>{be&&(x(!J||J.type?new n_(null,l,be):J),be.abort(),be=null)},A.cancelToken&&A.cancelToken.subscribe(Y),A.signal&&(A.signal.aborted?Y():A.signal.addEventListener("abort",Y)));const Oe=_me(A.url);if(Oe&&ph.protocols.indexOf(Oe)===-1){x(new qr("Unsupported protocol "+Oe+":",qr.ERR_BAD_REQUEST,l));return}be.send(M||null)})},Pme=(l,u)=>{const{length:p}=l=l?l.filter(Boolean):[];if(u||p){let x=new AbortController,A;const M=function(V){if(!A){A=!0,I();const Y=V instanceof Error?V:this.reason;x.abort(Y instanceof qr?Y:new n_(Y instanceof Error?Y.message:Y))}};let O=u&&setTimeout(()=>{O=null,M(new qr(`timeout ${u} of ms exceeded`,qr.ETIMEDOUT))},u);const I=()=>{l&&(O&&clearTimeout(O),O=null,l.forEach(V=>{V.unsubscribe?V.unsubscribe(M):V.removeEventListener("abort",M)}),l=null)};l.forEach(V=>V.addEventListener("abort",M));const{signal:U}=x;return U.unsubscribe=()=>rn.asap(I),U}},$me=function*(l,u){let p=l.byteLength;if(p<u){yield l;return}let x=0,A;for(;x<p;)A=x+u,yield l.slice(x,A),x=A},Ime=async function*(l,u){for await(const p of Hme(l))yield*$me(p,u)},Hme=async function*(l){if(l[Symbol.asyncIterator]){yield*l;return}const u=l.getReader();try{for(;;){const{done:p,value:x}=await u.read();if(p)break;yield x}}finally{await u.cancel()}},zoe=(l,u,p,x)=>{const A=Ime(l,u);let M=0,O,I=U=>{O||(O=!0,x&&x(U))};return new ReadableStream({async pull(U){try{const{done:V,value:Y}=await A.next();if(V){I(),U.close();return}let ee=Y.byteLength;if(p){let fe=M+=ee;p(fe)}U.enqueue(new Uint8Array(Y))}catch(V){throw I(V),V}},cancel(U){return I(U),A.return()}},{highWaterMark:2})},joe=64*1024,{isFunction:RH}=rn,zme=(({Request:l,Response:u})=>({Request:l,Response:u}))(rn.global),{ReadableStream:Voe,TextEncoder:Uoe}=rn.global,Zoe=(l,...u)=>{try{return!!l(...u)}catch{return!1}},jme=l=>{l=rn.merge.call({skipUndefined:!0},zme,l);const{fetch:u,Request:p,Response:x}=l,A=u?RH(u):typeof fetch=="function",M=RH(p),O=RH(x);if(!A)return!1;const I=A&&RH(Voe),U=A&&(typeof Uoe=="function"?(pe=>$e=>pe.encode($e))(new Uoe):async pe=>new Uint8Array(await new p(pe).arrayBuffer())),V=M&&I&&Zoe(()=>{let pe=!1;const $e=new p(ph.origin,{body:new Voe,method:"POST",get duplex(){return pe=!0,"half"}}).headers.has("Content-Type");return pe&&!$e}),Y=O&&I&&Zoe(()=>rn.isReadableStream(new x("").body)),ee={stream:Y&&(pe=>pe.body)};A&&["text","arrayBuffer","blob","formData","stream"].forEach(pe=>{!ee[pe]&&(ee[pe]=($e,be)=>{let ct=$e&&$e[pe];if(ct)return ct.call($e);throw new qr(`Response type '${pe}' is not supported`,qr.ERR_NOT_SUPPORT,be)})});const fe=async pe=>{if(pe==null)return 0;if(rn.isBlob(pe))return pe.size;if(rn.isSpecCompliantForm(pe))return(await new p(ph.origin,{method:"POST",body:pe}).arrayBuffer()).byteLength;if(rn.isArrayBufferView(pe)||rn.isArrayBuffer(pe))return pe.byteLength;if(rn.isURLSearchParams(pe)&&(pe=pe+""),rn.isString(pe))return(await U(pe)).byteLength},Ce=async(pe,$e)=>{const be=rn.toFiniteNumber(pe.getContentLength());return be??fe($e)};return async pe=>{let{url:$e,method:be,data:ct,signal:Oe,cancelToken:J,timeout:rt,onDownloadProgress:It,onUploadProgress:qe,responseType:ae,headers:lt,withCredentials:En="same-origin",fetchOptions:dn}=$ie(pe),We=u||fetch;ae=ae?(ae+"").toLowerCase():"text";let Ne=Pme([Oe,J&&J.toAbortSignal()],rt),Jo=null;const yt=Ne&&Ne.unsubscribe&&(()=>{Ne.unsubscribe()});let Mt;try{if(qe&&V&&be!=="get"&&be!=="head"&&(Mt=await Ce(lt,ct))!==0){let le=new p($e,{method:"POST",body:ct,duplex:"half"}),Ue;if(rn.isFormData(ct)&&(Ue=le.headers.get("content-type"))&&lt.setContentType(Ue),le.body){const[Pt,Re]=$oe(Mt,GH(Ioe(qe)));ct=zoe(le.body,joe,Pt,Re)}}rn.isString(En)||(En=En?"include":"omit");const P=M&&"credentials"in p.prototype,zt={...dn,signal:Ne,method:be.toUpperCase(),headers:lt.normalize().toJSON(),body:ct,duplex:"half",credentials:P?En:void 0};Jo=M&&new p($e,zt);let at=await(M?We(Jo,dn):We($e,zt));const Jn=Y&&(ae==="stream"||ae==="response");if(Y&&(It||Jn&&yt)){const le={};["status","statusText","headers"].forEach(gt=>{le[gt]=at[gt]});const Ue=rn.toFiniteNumber(at.headers.get("content-length")),[Pt,Re]=It&&$oe(Ue,GH(Ioe(It),!0))||[];at=new x(zoe(at.body,joe,Pt,()=>{Re&&Re(),yt&&yt()}),le)}ae=ae||"text";let an=await ee[rn.findKey(ee,ae)||"text"](at,pe);return!Jn&&yt&&yt(),await new Promise((le,Ue)=>{Fie(le,Ue,{data:an,headers:hp.from(at.headers),status:at.status,statusText:at.statusText,config:pe,request:Jo})})}catch(P){throw yt&&yt(),P&&P.name==="TypeError"&&/Load failed|fetch/i.test(P.message)?Object.assign(new qr("Network Error",qr.ERR_NETWORK,pe,Jo),{cause:P.cause||P}):qr.from(P,P&&P.code,pe,Jo)}}},Vme=new Map,Iie=l=>{let u=l&&l.env||{};const{fetch:p,Request:x,Response:A}=u,M=[x,A,p];let O=M.length,I=O,U,V,Y=Vme;for(;I--;)U=M[I],V=Y.get(U),V===void 0&&Y.set(U,V=I?new Map:jme(u)),Y=V;return V};Iie();const gte={http:ame,xhr:Fme,fetch:{get:Iie}};rn.forEach(gte,(l,u)=>{if(l){try{Object.defineProperty(l,"name",{value:u})}catch{}Object.defineProperty(l,"adapterName",{value:u})}});const Woe=l=>`- ${l}`,Ume=l=>rn.isFunction(l)||l===null||l===!1;function Zme(l,u){l=rn.isArray(l)?l:[l];const{length:p}=l;let x,A;const M={};for(let O=0;O<p;O++){x=l[O];let I;if(A=x,!Ume(x)&&(A=gte[(I=String(x)).toLowerCase()],A===void 0))throw new qr(`Unknown adapter '${I}'`);if(A&&(rn.isFunction(A)||(A=A.get(u))))break;M[I||"#"+O]=A}if(!A){const O=Object.entries(M).map(([U,V])=>`adapter ${U} `+(V===!1?"is not supported by the environment":"is not available in the build"));let I=p?O.length>1?`since :
`+O.map(Woe).join(`
`):" "+Woe(O[0]):"as no adapter specified";throw new qr("There is no suitable adapter to dispatch the request "+I,"ERR_NOT_SUPPORT")}return A}const Hie={getAdapter:Zme,adapters:gte};function QJ(l){if(l.cancelToken&&l.cancelToken.throwIfRequested(),l.signal&&l.signal.aborted)throw new n_(null,l)}function qoe(l){return QJ(l),l.headers=hp.from(l.headers),l.data=XJ.call(l,l.transformRequest),["post","put","patch"].indexOf(l.method)!==-1&&l.headers.setContentType("application/x-www-form-urlencoded",!1),Hie.getAdapter(l.adapter||dB.adapter,l)(l).then(function(x){return QJ(l),x.data=XJ.call(l,l.transformResponse,x),x.headers=hp.from(x.headers),x},function(x){return Lie(x)||(QJ(l),x&&x.response&&(x.response.data=XJ.call(l,l.transformResponse,x.response),x.response.headers=hp.from(x.response.headers))),Promise.reject(x)})}const zie="1.13.2",yz={};["object","boolean","number","function","string","symbol"].forEach((l,u)=>{yz[l]=function(x){return typeof x===l||"a"+(u<1?"n ":" ")+l}});const Goe={};yz.transitional=function(u,p,x){function A(M,O){return"[Axios v"+zie+"] Transitional option '"+M+"'"+O+(x?". "+x:"")}return(M,O,I)=>{if(u===!1)throw new qr(A(O," has been removed"+(p?" in "+p:"")),qr.ERR_DEPRECATED);return p&&!Goe[O]&&(Goe[O]=!0,console.warn(A(O," has been deprecated since v"+p+" and will be removed in the near future"))),u?u(M,O,I):!0}};yz.spelling=function(u){return(p,x)=>(console.warn(`${x} is likely a misspelling of ${u}`),!0)};function Wme(l,u,p){if(typeof l!="object")throw new qr("options must be an object",qr.ERR_BAD_OPTION_VALUE);const x=Object.keys(l);let A=x.length;for(;A-- >0;){const M=x[A],O=u[M];if(O){const I=l[M],U=I===void 0||O(I,M,l);if(U!==!0)throw new qr("option "+M+" must be "+U,qr.ERR_BAD_OPTION_VALUE);continue}if(p!==!0)throw new qr("Unknown option "+M,qr.ERR_BAD_OPTION)}}const jH={assertOptions:Wme,validators:yz},kv=jH.validators;let kT=class{constructor(u){this.defaults=u||{},this.interceptors={request:new Foe,response:new Foe}}async request(u,p){try{return await this._request(u,p)}catch(x){if(x instanceof Error){let A={};Error.captureStackTrace?Error.captureStackTrace(A):A=new Error;const M=A.stack?A.stack.replace(/^.+\n/,""):"";try{x.stack?M&&!String(x.stack).endsWith(M.replace(/^.+\n.+\n/,""))&&(x.stack+=`
`+M):x.stack=M}catch{}}throw x}}_request(u,p){typeof u=="string"?(p=p||{},p.url=u):p=u||{},p=OT(this.defaults,p);const{transitional:x,paramsSerializer:A,headers:M}=p;x!==void 0&&jH.assertOptions(x,{silentJSONParsing:kv.transitional(kv.boolean),forcedJSONParsing:kv.transitional(kv.boolean),clarifyTimeoutError:kv.transitional(kv.boolean)},!1),A!=null&&(rn.isFunction(A)?p.paramsSerializer={serialize:A}:jH.assertOptions(A,{encode:kv.function,serialize:kv.function},!0)),p.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?p.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:p.allowAbsoluteUrls=!0),jH.assertOptions(p,{baseUrl:kv.spelling("baseURL"),withXsrfToken:kv.spelling("withXSRFToken")},!0),p.method=(p.method||this.defaults.method||"get").toLowerCase();let O=M&&rn.merge(M.common,M[p.method]);M&&rn.forEach(["delete","get","head","post","put","patch","common"],pe=>{delete M[pe]}),p.headers=hp.concat(O,M);const I=[];let U=!0;this.interceptors.request.forEach(function($e){typeof $e.runWhen=="function"&&$e.runWhen(p)===!1||(U=U&&$e.synchronous,I.unshift($e.fulfilled,$e.rejected))});const V=[];this.interceptors.response.forEach(function($e){V.push($e.fulfilled,$e.rejected)});let Y,ee=0,fe;if(!U){const pe=[qoe.bind(this),void 0];for(pe.unshift(...I),pe.push(...V),fe=pe.length,Y=Promise.resolve(p);ee<fe;)Y=Y.then(pe[ee++],pe[ee++]);return Y}fe=I.length;let Ce=p;for(;ee<fe;){const pe=I[ee++],$e=I[ee++];try{Ce=pe(Ce)}catch(be){$e.call(this,be);break}}try{Y=qoe.call(this,Ce)}catch(pe){return Promise.reject(pe)}for(ee=0,fe=V.length;ee<fe;)Y=Y.then(V[ee++],V[ee++]);return Y}getUri(u){u=OT(this.defaults,u);const p=Pie(u.baseURL,u.url,u.allowAbsoluteUrls);return Rie(p,u.params,u.paramsSerializer)}};rn.forEach(["delete","get","head","options"],function(u){kT.prototype[u]=function(p,x){return this.request(OT(x||{},{method:u,url:p,data:(x||{}).data}))}});rn.forEach(["post","put","patch"],function(u){function p(x){return function(M,O,I){return this.request(OT(I||{},{method:u,headers:x?{"Content-Type":"multipart/form-data"}:{},url:M,data:O}))}}kT.prototype[u]=p(),kT.prototype[u+"Form"]=p(!0)});let qme=class jie{constructor(u){if(typeof u!="function")throw new TypeError("executor must be a function.");let p;this.promise=new Promise(function(M){p=M});const x=this;this.promise.then(A=>{if(!x._listeners)return;let M=x._listeners.length;for(;M-- >0;)x._listeners[M](A);x._listeners=null}),this.promise.then=A=>{let M;const O=new Promise(I=>{x.subscribe(I),M=I}).then(A);return O.cancel=function(){x.unsubscribe(M)},O},u(function(M,O,I){x.reason||(x.reason=new n_(M,O,I),p(x.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(u){if(this.reason){u(this.reason);return}this._listeners?this._listeners.push(u):this._listeners=[u]}unsubscribe(u){if(!this._listeners)return;const p=this._listeners.indexOf(u);p!==-1&&this._listeners.splice(p,1)}toAbortSignal(){const u=new AbortController,p=x=>{u.abort(x)};return this.subscribe(p),u.signal.unsubscribe=()=>this.unsubscribe(p),u.signal}static source(){let u;return{token:new jie(function(A){u=A}),cancel:u}}};function Gme(l){return function(p){return l.apply(null,p)}}function Kme(l){return rn.isObject(l)&&l.isAxiosError===!0}const Oee={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Oee).forEach(([l,u])=>{Oee[u]=l});function Vie(l){const u=new kT(l),p=xie(kT.prototype.request,u);return rn.extend(p,kT.prototype,u,{allOwnKeys:!0}),rn.extend(p,u,null,{allOwnKeys:!0}),p.create=function(A){return Vie(OT(l,A))},p}const pd=Vie(dB);pd.Axios=kT;pd.CanceledError=n_;pd.CancelToken=qme;pd.isCancel=Lie;pd.VERSION=zie;pd.toFormData=bz;pd.AxiosError=qr;pd.Cancel=pd.CanceledError;pd.all=function(u){return Promise.all(u)};pd.spread=Gme;pd.isAxiosError=Kme;pd.mergeConfig=OT;pd.AxiosHeaders=hp;pd.formToJSON=l=>Bie(rn.isHTMLForm(l)?new FormData(l):l);pd.getAdapter=Hie.getAdapter;pd.HttpStatusCode=Oee;pd.default=pd;const{Axios:jxe,AxiosError:Vxe,CanceledError:Uxe,isCancel:Zxe,CancelToken:Wxe,VERSION:qxe,all:Gxe,Cancel:Kxe,isAxiosError:Yxe,spread:Xxe,toFormData:Qxe,AxiosHeaders:Jxe,HttpStatusCode:e2e,formToJSON:t2e,getAdapter:n2e,mergeConfig:o2e}=pd,as=pd.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});as.interceptors.request.use(l=>{const u=localStorage.getItem("admin_token");return u&&(l.headers.Authorization=`Bearer ${u}`),l});as.interceptors.response.use(l=>l,async l=>(l.response?.status===401&&(localStorage.removeItem("admin_token"),window.location.href="/admin/"),Promise.reject(l)));function Uie(l,u,p){if(typeof l=="function"?l===u:l.has(u))return arguments.length<3?u:p;throw new TypeError("Private element is not present on this object")}function Yme(l,u){if(u.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Koe(l,u){return l.get(Uie(l,u))}function Xme(l,u,p){Yme(l,u),u.set(l,p)}function Qme(l,u,p){return l.set(Uie(l,u),p),p}const Jme=100,ks={},ehe=()=>{ks.previousActiveElement instanceof HTMLElement?(ks.previousActiveElement.focus(),ks.previousActiveElement=null):document.body&&document.body.focus()},the=l=>new Promise(u=>{if(!l)return u();const p=window.scrollX,x=window.scrollY;ks.restoreFocusTimeout=setTimeout(()=>{ehe(),u()},Jme),window.scrollTo(p,x)}),Zie="swal2-",nhe=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],pn=nhe.reduce((l,u)=>(l[u]=Zie+u,l),{}),ohe=["success","warning","info","question","error"],KH=ohe.reduce((l,u)=>(l[u]=Zie+u,l),{}),Wie="SweetAlert2:",pte=l=>l.charAt(0).toUpperCase()+l.slice(1),gg=l=>{console.warn(`${Wie} ${typeof l=="object"?l.join(" "):l}`)},MT=l=>{console.error(`${Wie} ${l}`)},Yoe=[],she=l=>{Yoe.includes(l)||(Yoe.push(l),gg(l))},qie=(l,u=null)=>{she(`"${l}" is deprecated and will be removed in the next major release.${u?` Use "${u}" instead.`:""}`)},vz=l=>typeof l=="function"?l():l,bte=l=>l&&typeof l.toPromise=="function",fB=l=>bte(l)?l.toPromise():Promise.resolve(l),yte=l=>l&&Promise.resolve(l)===l,pg=()=>document.body.querySelector(`.${pn.container}`),mB=l=>{const u=pg();return u?u.querySelector(l):null},O0=l=>mB(`.${l}`),ji=()=>O0(pn.popup),o_=()=>O0(pn.icon),rhe=()=>O0(pn["icon-content"]),Gie=()=>O0(pn.title),vte=()=>O0(pn["html-container"]),Kie=()=>O0(pn.image),xte=()=>O0(pn["progress-steps"]),xz=()=>O0(pn["validation-message"]),Ov=()=>mB(`.${pn.actions} .${pn.confirm}`),s_=()=>mB(`.${pn.actions} .${pn.cancel}`),BT=()=>mB(`.${pn.actions} .${pn.deny}`),ahe=()=>O0(pn["input-label"]),r_=()=>mB(`.${pn.loader}`),hB=()=>O0(pn.actions),Yie=()=>O0(pn.footer),wz=()=>O0(pn["timer-progress-bar"]),wte=()=>O0(pn.close),ihe=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Cte=()=>{const l=ji();if(!l)return[];const u=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),p=Array.from(u).sort((M,O)=>{const I=parseInt(M.getAttribute("tabindex")||"0"),U=parseInt(O.getAttribute("tabindex")||"0");return I>U?1:I<U?-1:0}),x=l.querySelectorAll(ihe),A=Array.from(x).filter(M=>M.getAttribute("tabindex")!=="-1");return[...new Set(p.concat(A))].filter(M=>gp(M))},Ste=()=>v2(document.body,pn.shown)&&!v2(document.body,pn["toast-shown"])&&!v2(document.body,pn["no-backdrop"]),Cz=()=>{const l=ji();return l?v2(l,pn.toast):!1},lhe=()=>{const l=ji();return l?l.hasAttribute("data-loading"):!1},N0=(l,u)=>{if(l.textContent="",u){const x=new DOMParser().parseFromString(u,"text/html"),A=x.querySelector("head");A&&Array.from(A.childNodes).forEach(O=>{l.appendChild(O)});const M=x.querySelector("body");M&&Array.from(M.childNodes).forEach(O=>{O instanceof HTMLVideoElement||O instanceof HTMLAudioElement?l.appendChild(O.cloneNode(!0)):l.appendChild(O)})}},v2=(l,u)=>{if(!u)return!1;const p=u.split(/\s+/);for(let x=0;x<p.length;x++)if(!l.classList.contains(p[x]))return!1;return!0},che=(l,u)=>{Array.from(l.classList).forEach(p=>{!Object.values(pn).includes(p)&&!Object.values(KH).includes(p)&&!Object.values(u.showClass||{}).includes(p)&&l.classList.remove(p)})},_0=(l,u,p)=>{if(che(l,u),!u.customClass)return;const x=u.customClass[p];if(x){if(typeof x!="string"&&!x.forEach){gg(`Invalid type of customClass.${p}! Expected string or iterable object, got "${typeof x}"`);return}zi(l,x)}},Sz=(l,u)=>{if(!u)return null;switch(u){case"select":case"textarea":case"file":return l.querySelector(`.${pn.popup} > .${pn[u]}`);case"checkbox":return l.querySelector(`.${pn.popup} > .${pn.checkbox} input`);case"radio":return l.querySelector(`.${pn.popup} > .${pn.radio} input:checked`)||l.querySelector(`.${pn.popup} > .${pn.radio} input:first-child`);case"range":return l.querySelector(`.${pn.popup} > .${pn.range} input`);default:return l.querySelector(`.${pn.popup} > .${pn.input}`)}},Xie=l=>{if(l.focus(),l.type!=="file"){const u=l.value;l.value="",l.value=u}},Qie=(l,u,p)=>{!l||!u||(typeof u=="string"&&(u=u.split(/\s+/).filter(Boolean)),u.forEach(x=>{Array.isArray(l)?l.forEach(A=>{p?A.classList.add(x):A.classList.remove(x)}):p?l.classList.add(x):l.classList.remove(x)}))},zi=(l,u)=>{Qie(l,u,!0)},z1=(l,u)=>{Qie(l,u,!1)},MC=(l,u)=>{const p=Array.from(l.children);for(let x=0;x<p.length;x++){const A=p[x];if(A instanceof HTMLElement&&v2(A,u))return A}},_T=(l,u,p)=>{p===`${parseInt(`${p}`)}`&&(p=parseInt(p)),p||parseInt(`${p}`)===0?l.style.setProperty(u,typeof p=="number"?`${p}px`:p):l.style.removeProperty(u)},Xf=(l,u="flex")=>{l&&(l.style.display=u)},yh=l=>{l&&(l.style.display="none")},Ete=(l,u="block")=>{l&&new MutationObserver(()=>{gB(l,l.innerHTML,u)}).observe(l,{childList:!0,subtree:!0})},Xoe=(l,u,p,x)=>{const A=l.querySelector(u);A&&A.style.setProperty(p,x)},gB=(l,u,p="flex")=>{u?Xf(l,p):yh(l)},gp=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),uhe=()=>!gp(Ov())&&!gp(BT())&&!gp(s_()),Nee=l=>l.scrollHeight>l.clientHeight,dhe=(l,u)=>{let p=l;for(;p&&p!==u;){if(Nee(p))return!0;p=p.parentElement}return!1},Jie=l=>{const u=window.getComputedStyle(l),p=parseFloat(u.getPropertyValue("animation-duration")||"0"),x=parseFloat(u.getPropertyValue("transition-duration")||"0");return p>0||x>0},Tte=(l,u=!1)=>{const p=wz();p&&gp(p)&&(u&&(p.style.transition="none",p.style.width="100%"),setTimeout(()=>{p.style.transition=`width ${l/1e3}s linear`,p.style.width="0%"},10))},fhe=()=>{const l=wz();if(!l)return;const u=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";const p=parseInt(window.getComputedStyle(l).width),x=u/p*100;l.style.width=`${x}%`},mhe=()=>typeof window>"u"||typeof document>"u",hhe=`
 <div aria-labelledby="${pn.title}" aria-describedby="${pn["html-container"]}" class="${pn.popup}" tabindex="-1">
   <button type="button" class="${pn.close}"></button>
   <ul class="${pn["progress-steps"]}"></ul>
   <div class="${pn.icon}"></div>
   <img class="${pn.image}" />
   <h2 class="${pn.title}" id="${pn.title}"></h2>
   <div class="${pn["html-container"]}" id="${pn["html-container"]}"></div>
   <input class="${pn.input}" id="${pn.input}" />
   <input type="file" class="${pn.file}" />
   <div class="${pn.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${pn.select}" id="${pn.select}"></select>
   <div class="${pn.radio}"></div>
   <label class="${pn.checkbox}">
     <input type="checkbox" id="${pn.checkbox}" />
     <span class="${pn.label}"></span>
   </label>
   <textarea class="${pn.textarea}" id="${pn.textarea}"></textarea>
   <div class="${pn["validation-message"]}" id="${pn["validation-message"]}"></div>
   <div class="${pn.actions}">
     <div class="${pn.loader}"></div>
     <button type="button" class="${pn.confirm}"></button>
     <button type="button" class="${pn.deny}"></button>
     <button type="button" class="${pn.cancel}"></button>
   </div>
   <div class="${pn.footer}"></div>
   <div class="${pn["timer-progress-bar-container"]}">
     <div class="${pn["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),ghe=()=>{const l=pg();return l?(l.remove(),z1([document.documentElement,document.body],[pn["no-backdrop"],pn["toast-shown"],pn["has-column"]]),!0):!1},wT=()=>{ks.currentInstance&&ks.currentInstance.resetValidationMessage()},phe=()=>{const l=ji();if(!l)return;const u=MC(l,pn.input),p=MC(l,pn.file),x=l.querySelector(`.${pn.range} input`),A=l.querySelector(`.${pn.range} output`),M=MC(l,pn.select),O=l.querySelector(`.${pn.checkbox} input`),I=MC(l,pn.textarea);u&&(u.oninput=wT),p&&(p.onchange=wT),M&&(M.onchange=wT),O&&(O.onchange=wT),I&&(I.oninput=wT),x&&A&&(x.oninput=()=>{wT(),A.value=x.value},x.onchange=()=>{wT(),A.value=x.value})},bhe=l=>{if(typeof l=="string"){const u=document.querySelector(l);if(!u)throw new Error(`Target element "${l}" not found`);return u}return l},yhe=l=>{const u=ji();u&&(u.setAttribute("role",l.toast?"alert":"dialog"),u.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||u.setAttribute("aria-modal","true"))},vhe=l=>{window.getComputedStyle(l).direction==="rtl"&&(zi(pg(),pn.rtl),ks.isRTL=!0)},xhe=l=>{const u=ghe();if(mhe()){MT("SweetAlert2 requires document to initialize");return}const p=document.createElement("div");p.className=pn.container,u&&zi(p,pn["no-transition"]),N0(p,hhe),p.dataset.swal2Theme=l.theme;const x=bhe(l.target||"body");x.appendChild(p),l.topLayer&&(p.setAttribute("popover",""),p.showPopover()),yhe(l),vhe(x),phe()},Ate=(l,u)=>{l instanceof HTMLElement?u.appendChild(l):typeof l=="object"?whe(l,u):l&&N0(u,l)},whe=(l,u)=>{"jquery"in l?Che(u,l):N0(u,l.toString())},Che=(l,u)=>{if(l.textContent="",0 in u)for(let p=0;p in u;p++)l.appendChild(u[p].cloneNode(!0));else l.appendChild(u.cloneNode(!0))},She=(l,u)=>{const p=hB(),x=r_();!p||!x||(!u.showConfirmButton&&!u.showDenyButton&&!u.showCancelButton?yh(p):Xf(p),_0(p,u,"actions"),Ehe(p,x,u),N0(x,u.loaderHtml||""),_0(x,u,"loader"))};function Ehe(l,u,p){const x=Ov(),A=BT(),M=s_();!x||!A||!M||(eee(x,"confirm",p),eee(A,"deny",p),eee(M,"cancel",p),The(x,A,M,p),p.reverseButtons&&(p.toast?(l.insertBefore(M,x),l.insertBefore(A,x)):(l.insertBefore(M,u),l.insertBefore(A,u),l.insertBefore(x,u))))}function The(l,u,p,x){if(!x.buttonsStyling){z1([l,u,p],pn.styled);return}zi([l,u,p],pn.styled),x.confirmButtonColor&&l.style.setProperty("--swal2-confirm-button-background-color",x.confirmButtonColor),x.denyButtonColor&&u.style.setProperty("--swal2-deny-button-background-color",x.denyButtonColor),x.cancelButtonColor&&p.style.setProperty("--swal2-cancel-button-background-color",x.cancelButtonColor),JJ(l),JJ(u),JJ(p)}function JJ(l){const u=window.getComputedStyle(l);if(u.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const p=u.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");l.style.setProperty("--swal2-action-button-focus-box-shadow",u.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${p}`))}function eee(l,u,p){const x=pte(u);gB(l,p[`show${x}Button`],"inline-block"),N0(l,p[`${u}ButtonText`]||""),l.setAttribute("aria-label",p[`${u}ButtonAriaLabel`]||""),l.className=pn[u],_0(l,p,`${u}Button`)}const Ahe=(l,u)=>{const p=wte();p&&(N0(p,u.closeButtonHtml||""),_0(p,u,"closeButton"),gB(p,u.showCloseButton),p.setAttribute("aria-label",u.closeButtonAriaLabel||""))},khe=(l,u)=>{const p=pg();p&&(_he(p,u.backdrop),Dhe(p,u.position),Ohe(p,u.grow),_0(p,u,"container"))};function _he(l,u){typeof u=="string"?l.style.background=u:u||zi([document.documentElement,document.body],pn["no-backdrop"])}function Dhe(l,u){u&&(u in pn?zi(l,pn[u]):(gg('The "position" parameter is not valid, defaulting to "center"'),zi(l,pn.center)))}function Ohe(l,u){u&&zi(l,pn[`grow-${u}`])}var cc={innerParams:new WeakMap,domCache:new WeakMap};const Nhe=["input","file","range","select","radio","checkbox","textarea"],Rhe=(l,u)=>{const p=ji();if(!p)return;const x=cc.innerParams.get(l),A=!x||u.input!==x.input;Nhe.forEach(M=>{const O=MC(p,pn[M]);O&&(Lhe(M,u.inputAttributes),O.className=pn[M],A&&yh(O))}),u.input&&(A&&Mhe(u),Fhe(u))},Mhe=l=>{if(!l.input)return;if(!gd[l.input]){MT(`Unexpected type of input! Expected ${Object.keys(gd).join(" | ")}, got "${l.input}"`);return}const u=ele(l.input);if(!u)return;const p=gd[l.input](u,l);Xf(u),l.inputAutoFocus&&setTimeout(()=>{Xie(p)})},Bhe=l=>{for(let u=0;u<l.attributes.length;u++){const p=l.attributes[u].name;["id","type","value","style"].includes(p)||l.removeAttribute(p)}},Lhe=(l,u)=>{const p=ji();if(!p)return;const x=Sz(p,l);if(x){Bhe(x);for(const A in u)x.setAttribute(A,u[A])}},Fhe=l=>{if(!l.input)return;const u=ele(l.input);u&&_0(u,l,"input")},kte=(l,u)=>{!l.placeholder&&u.inputPlaceholder&&(l.placeholder=u.inputPlaceholder)},pB=(l,u,p)=>{if(p.inputLabel){const x=document.createElement("label"),A=pn["input-label"];x.setAttribute("for",l.id),x.className=A,typeof p.customClass=="object"&&zi(x,p.customClass.inputLabel),x.innerText=p.inputLabel,u.insertAdjacentElement("beforebegin",x)}},ele=l=>{const u=ji();if(u)return MC(u,pn[l]||pn.input)},YH=(l,u)=>{["string","number"].includes(typeof u)?l.value=`${u}`:yte(u)||gg(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof u}"`)},gd={};gd.text=gd.email=gd.password=gd.number=gd.tel=gd.url=gd.search=gd.date=gd["datetime-local"]=gd.time=gd.week=gd.month=(l,u)=>{const p=l;return YH(p,u.inputValue),pB(p,p,u),kte(p,u),p.type=u.input,p};gd.file=(l,u)=>{const p=l;return pB(p,p,u),kte(p,u),p};gd.range=(l,u)=>{const p=l,x=p.querySelector("input"),A=p.querySelector("output");return x&&(YH(x,u.inputValue),x.type=u.input,pB(x,l,u)),A&&YH(A,u.inputValue),l};gd.select=(l,u)=>{const p=l;if(p.textContent="",u.inputPlaceholder){const x=document.createElement("option");N0(x,u.inputPlaceholder),x.value="",x.disabled=!0,x.selected=!0,p.appendChild(x)}return pB(p,p,u),p};gd.radio=l=>{const u=l;return u.textContent="",l};gd.checkbox=(l,u)=>{const p=ji();if(!p)throw new Error("Popup not found");const x=Sz(p,"checkbox");if(!x)throw new Error("Checkbox input not found");x.value="1",x.checked=!!u.inputValue;const M=l.querySelector("span");if(M){const O=u.inputPlaceholder||u.inputLabel;O&&N0(M,O)}return x};gd.textarea=(l,u)=>{const p=l;YH(p,u.inputValue),kte(p,u),pB(p,p,u);const x=A=>parseInt(window.getComputedStyle(A).marginLeft)+parseInt(window.getComputedStyle(A).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const A=ji();if(!A)return;const M=parseInt(window.getComputedStyle(A).width),O=()=>{if(!document.body.contains(p))return;const I=p.offsetWidth+x(p),U=ji();U&&(I>M?U.style.width=`${I}px`:_T(U,"width",u.width))};new MutationObserver(O).observe(p,{attributes:!0,attributeFilter:["style"]})}}),p};const Phe=(l,u)=>{const p=vte();p&&(Ete(p),_0(p,u,"htmlContainer"),u.html?(Ate(u.html,p),Xf(p,"block")):u.text?(p.textContent=u.text,Xf(p,"block")):yh(p),Rhe(l,u))},$he=(l,u)=>{const p=Yie();p&&(Ete(p),gB(p,!!u.footer,"block"),u.footer&&Ate(u.footer,p),_0(p,u,"footer"))},Ihe=(l,u)=>{const p=cc.innerParams.get(l),x=o_();if(!x)return;if(p&&u.icon===p.icon){Joe(x,u),Qoe(x,u);return}if(!u.icon&&!u.iconHtml){yh(x);return}if(u.icon&&Object.keys(KH).indexOf(u.icon)===-1){MT(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${u.icon}"`),yh(x);return}Xf(x),Joe(x,u),Qoe(x,u),zi(x,u.showClass&&u.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",tle)},Qoe=(l,u)=>{for(const[p,x]of Object.entries(KH))u.icon!==p&&z1(l,x);zi(l,u.icon&&KH[u.icon]),jhe(l,u),tle(),_0(l,u,"icon")},tle=()=>{const l=ji();if(!l)return;const u=window.getComputedStyle(l).getPropertyValue("background-color"),p=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let x=0;x<p.length;x++)p[x].style.backgroundColor=u},Hhe=l=>`
  ${l.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${l.animation?'<div class="swal2-success-fix"></div>':""}
  ${l.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,zhe=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Joe=(l,u)=>{if(!u.icon&&!u.iconHtml)return;let p=l.innerHTML,x="";u.iconHtml?x=ese(u.iconHtml):u.icon==="success"?(x=Hhe(u),p=p.replace(/ style=".*?"/g,"")):u.icon==="error"?x=zhe:u.icon&&(x=ese({question:"?",warning:"!",info:"i"}[u.icon])),p.trim()!==x.trim()&&N0(l,x)},jhe=(l,u)=>{if(u.iconColor){l.style.color=u.iconColor,l.style.borderColor=u.iconColor;for(const p of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Xoe(l,p,"background-color",u.iconColor);Xoe(l,".swal2-success-ring","border-color",u.iconColor)}},ese=l=>`<div class="${pn["icon-content"]}">${l}</div>`,Vhe=(l,u)=>{const p=Kie();if(p){if(!u.imageUrl){yh(p);return}Xf(p,""),p.setAttribute("src",u.imageUrl),p.setAttribute("alt",u.imageAlt||""),_T(p,"width",u.imageWidth),_T(p,"height",u.imageHeight),p.className=pn.image,_0(p,u,"image")}};let _te=!1,nle=0,ole=0,sle=0,rle=0;const Uhe=l=>{l.addEventListener("mousedown",XH),document.body.addEventListener("mousemove",QH),l.addEventListener("mouseup",JH),l.addEventListener("touchstart",XH),document.body.addEventListener("touchmove",QH),l.addEventListener("touchend",JH)},Zhe=l=>{l.removeEventListener("mousedown",XH),document.body.removeEventListener("mousemove",QH),l.removeEventListener("mouseup",JH),l.removeEventListener("touchstart",XH),document.body.removeEventListener("touchmove",QH),l.removeEventListener("touchend",JH)},XH=l=>{const u=ji();if(!u)return;const p=o_();if(l.target===u||p&&p.contains(l.target)){_te=!0;const x=ale(l);nle=x.clientX,ole=x.clientY,sle=parseInt(u.style.insetInlineStart)||0,rle=parseInt(u.style.insetBlockStart)||0,zi(u,"swal2-dragging")}},QH=l=>{const u=ji();if(u&&_te){let{clientX:p,clientY:x}=ale(l);const A=p-nle;u.style.insetInlineStart=`${sle+(ks.isRTL?-A:A)}px`,u.style.insetBlockStart=`${rle+(x-ole)}px`}},JH=()=>{const l=ji();_te=!1,z1(l,"swal2-dragging")},ale=l=>{let u=0,p=0;return l.type.startsWith("mouse")?(u=l.clientX,p=l.clientY):l.type.startsWith("touch")&&(u=l.touches[0].clientX,p=l.touches[0].clientY),{clientX:u,clientY:p}},Whe=(l,u)=>{const p=pg(),x=ji();if(!(!p||!x)){if(u.toast){_T(p,"width",u.width),x.style.width="100%";const A=r_();A&&x.insertBefore(A,o_())}else _T(x,"width",u.width);_T(x,"padding",u.padding),u.color&&(x.style.color=u.color),u.background&&(x.style.background=u.background),yh(xz()),qhe(x,u),u.draggable&&!u.toast?(zi(x,pn.draggable),Uhe(x)):(z1(x,pn.draggable),Zhe(x))}},qhe=(l,u)=>{const p=u.showClass||{};l.className=`${pn.popup} ${gp(l)?p.popup:""}`,u.toast?(zi([document.documentElement,document.body],pn["toast-shown"]),zi(l,pn.toast)):zi(l,pn.modal),_0(l,u,"popup"),typeof u.customClass=="string"&&zi(l,u.customClass),u.icon&&zi(l,pn[`icon-${u.icon}`])},Ghe=(l,u)=>{const p=xte();if(!p)return;const{progressSteps:x,currentProgressStep:A}=u;if(!x||x.length===0||A===void 0){yh(p);return}Xf(p),p.textContent="",A>=x.length&&gg("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),x.forEach((M,O)=>{const I=Khe(M);if(p.appendChild(I),O===A&&zi(I,pn["active-progress-step"]),O!==x.length-1){const U=Yhe(u);p.appendChild(U)}})},Khe=l=>{const u=document.createElement("li");return zi(u,pn["progress-step"]),N0(u,l),u},Yhe=l=>{const u=document.createElement("li");return zi(u,pn["progress-step-line"]),l.progressStepsDistance&&_T(u,"width",l.progressStepsDistance),u},Xhe=(l,u)=>{const p=Gie();p&&(Ete(p),gB(p,!!(u.title||u.titleText),"block"),u.title&&Ate(u.title,p),u.titleText&&(p.innerText=u.titleText),_0(p,u,"title"))},ile=(l,u)=>{var p;Whe(l,u),khe(l,u),Ghe(l,u),Ihe(l,u),Vhe(l,u),Xhe(l,u),Ahe(l,u),Phe(l,u),She(l,u),$he(l,u);const x=ji();typeof u.didRender=="function"&&x&&u.didRender(x),(p=ks.eventEmitter)===null||p===void 0||p.emit("didRender",x)},Qhe=()=>gp(ji()),lle=()=>{var l;return(l=Ov())===null||l===void 0?void 0:l.click()},Jhe=()=>{var l;return(l=BT())===null||l===void 0?void 0:l.click()},ege=()=>{var l;return(l=s_())===null||l===void 0?void 0:l.click()},a_=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),cle=l=>{if(l.keydownTarget&&l.keydownHandlerAdded&&l.keydownHandler){const u=l.keydownHandler;l.keydownTarget.removeEventListener("keydown",u,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1}},tge=(l,u,p)=>{if(cle(l),!u.toast){const x=M=>oge(u,M,p);l.keydownHandler=x;const A=u.keydownListenerCapture?window:ji();if(A){l.keydownTarget=A,l.keydownListenerCapture=u.keydownListenerCapture;const M=x;l.keydownTarget.addEventListener("keydown",M,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0}}},Ree=(l,u)=>{var p;const x=Cte();if(x.length){l=l+u,l===-2&&(l=x.length-1),l===x.length?l=0:l===-1&&(l=x.length-1),x[l].focus();return}(p=ji())===null||p===void 0||p.focus()},ule=["ArrowRight","ArrowDown"],nge=["ArrowLeft","ArrowUp"],oge=(l,u,p)=>{l&&(u.isComposing||u.keyCode===229||(l.stopKeydownPropagation&&u.stopPropagation(),u.key==="Enter"?sge(u,l):u.key==="Tab"?rge(u):[...ule,...nge].includes(u.key)?age(u.key):u.key==="Escape"&&ige(u,l,p)))},sge=(l,u)=>{if(!vz(u.allowEnterKey))return;const p=ji();if(!p||!u.input)return;const x=Sz(p,u.input);if(l.target&&x&&l.target instanceof HTMLElement&&l.target.outerHTML===x.outerHTML){if(["textarea","file"].includes(u.input))return;lle(),l.preventDefault()}},rge=l=>{const u=l.target,p=Cte();let x=-1;for(let A=0;A<p.length;A++)if(u===p[A]){x=A;break}l.shiftKey?Ree(x,-1):Ree(x,1),l.stopPropagation(),l.preventDefault()},age=l=>{const u=hB(),p=Ov(),x=BT(),A=s_();if(!u||!p||!x||!A)return;const M=[p,x,A];if(document.activeElement instanceof HTMLElement&&!M.includes(document.activeElement))return;const O=ule.includes(l)?"nextElementSibling":"previousElementSibling";let I=document.activeElement;if(I){for(let U=0;U<u.children.length;U++){if(I=I[O],!I)return;if(I instanceof HTMLButtonElement&&gp(I))break}I instanceof HTMLButtonElement&&I.focus()}},ige=(l,u,p)=>{l.preventDefault(),vz(u.allowEscapeKey)&&p(a_.esc)};var K3={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const lge=()=>{const l=pg();Array.from(document.body.children).forEach(p=>{p.contains(l)||(p.hasAttribute("aria-hidden")&&p.setAttribute("data-previous-aria-hidden",p.getAttribute("aria-hidden")||""),p.setAttribute("aria-hidden","true"))})},dle=()=>{Array.from(document.body.children).forEach(u=>{u.hasAttribute("data-previous-aria-hidden")?(u.setAttribute("aria-hidden",u.getAttribute("data-previous-aria-hidden")||""),u.removeAttribute("data-previous-aria-hidden")):u.removeAttribute("aria-hidden")})},fle=typeof window<"u"&&!!window.GestureEvent,cge=()=>{if(fle&&!v2(document.body,pn.iosfix)){const l=document.body.scrollTop;document.body.style.top=`${l*-1}px`,zi(document.body,pn.iosfix),uge()}},uge=()=>{const l=pg();if(!l)return;let u;l.ontouchstart=p=>{u=dge(p)},l.ontouchmove=p=>{u&&(p.preventDefault(),p.stopPropagation())}},dge=l=>{const u=l.target,p=pg(),x=vte();return!p||!x||fge(l)||mge(l)?!1:u===p||!Nee(p)&&u instanceof HTMLElement&&!dhe(u,x)&&u.tagName!=="INPUT"&&u.tagName!=="TEXTAREA"&&!(Nee(x)&&x.contains(u))},fge=l=>!!(l.touches&&l.touches.length&&l.touches[0].touchType==="stylus"),mge=l=>l.touches&&l.touches.length>1,hge=()=>{if(v2(document.body,pn.iosfix)){const l=parseInt(document.body.style.top,10);z1(document.body,pn.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},gge=()=>{const l=document.createElement("div");l.className=pn["scrollbar-measure"],document.body.appendChild(l);const u=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),u};let W3=null;const pge=l=>{W3===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(W3=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${W3+gge()}px`)},bge=()=>{W3!==null&&(document.body.style.paddingRight=`${W3}px`,W3=null)};function mle(l,u,p,x){Cz()?tse(l,x):(the(p).then(()=>tse(l,x)),cle(ks)),fle?(u.setAttribute("style","display:none !important"),u.removeAttribute("class"),u.innerHTML=""):u.remove(),Ste()&&(bge(),hge(),dle()),yge()}function yge(){z1([document.documentElement,document.body],[pn.shown,pn["height-auto"],pn["no-backdrop"],pn["toast-shown"]])}function BC(l){l=xge(l);const u=K3.swalPromiseResolve.get(this),p=vge(this);this.isAwaitingPromise?l.isDismissed||(bB(this),u(l)):p&&u(l)}const vge=l=>{const u=ji();if(!u)return!1;const p=cc.innerParams.get(l);if(!p||v2(u,p.hideClass.popup))return!1;z1(u,p.showClass.popup),zi(u,p.hideClass.popup);const x=pg();return z1(x,p.showClass.backdrop),zi(x,p.hideClass.backdrop),wge(l,u,p),!0};function hle(l){const u=K3.swalPromiseReject.get(this);bB(this),u&&u(l)}const bB=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,cc.innerParams.get(l)||l._destroy())},xge=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),wge=(l,u,p)=>{var x;const A=pg(),M=Jie(u);typeof p.willClose=="function"&&p.willClose(u),(x=ks.eventEmitter)===null||x===void 0||x.emit("willClose",u),M&&A?Cge(l,u,A,!!p.returnFocus,p.didClose):A&&mle(l,A,!!p.returnFocus,p.didClose)},Cge=(l,u,p,x,A)=>{ks.swalCloseEventFinishedCallback=mle.bind(null,l,p,x,A);const M=function(O){if(O.target===u){var I;(I=ks.swalCloseEventFinishedCallback)===null||I===void 0||I.call(ks),delete ks.swalCloseEventFinishedCallback,u.removeEventListener("animationend",M),u.removeEventListener("transitionend",M)}};u.addEventListener("animationend",M),u.addEventListener("transitionend",M)},tse=(l,u)=>{setTimeout(()=>{var p;typeof u=="function"&&u.bind(l.params)(),(p=ks.eventEmitter)===null||p===void 0||p.emit("didClose"),l._destroy&&l._destroy()})},Y3=l=>{let u=ji();if(u||new ao,u=ji(),!u)return;const p=r_();Cz()?yh(o_()):Sge(u,l),Xf(p),u.setAttribute("data-loading","true"),u.setAttribute("aria-busy","true"),u.focus()},Sge=(l,u)=>{const p=hB(),x=r_();!p||!x||(!u&&gp(Ov())&&(u=Ov()),Xf(p),u&&(yh(u),x.setAttribute("data-button-to-replace",u.className),p.insertBefore(x,u)),zi([l,p],pn.loading))},Ege=(l,u)=>{u.input==="select"||u.input==="radio"?Dge(l,u):["text","email","number","tel","textarea"].some(p=>p===u.input)&&(bte(u.inputValue)||yte(u.inputValue))&&(Y3(Ov()),Oge(l,u))},Tge=(l,u)=>{const p=l.getInput();if(!p)return null;switch(u.input){case"checkbox":return Age(p);case"radio":return kge(p);case"file":return _ge(p);default:return u.inputAutoTrim?p.value.trim():p.value}},Age=l=>l.checked?1:0,kge=l=>l.checked?l.value:null,_ge=l=>l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,Dge=(l,u)=>{const p=ji();if(!p)return;const x=A=>{u.input==="select"?Nge(p,ez(A),u):u.input==="radio"&&Rge(p,ez(A),u)};bte(u.inputOptions)||yte(u.inputOptions)?(Y3(Ov()),fB(u.inputOptions).then(A=>{l.hideLoading(),x(A)})):typeof u.inputOptions=="object"?x(u.inputOptions):MT(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof u.inputOptions}`)},Oge=(l,u)=>{const p=l.getInput();p&&(yh(p),fB(u.inputValue).then(x=>{p.value=u.input==="number"?`${parseFloat(x)||0}`:`${x}`,Xf(p),p.focus(),l.hideLoading()}).catch(x=>{MT(`Error in inputValue promise: ${x}`),p.value="",Xf(p),p.focus(),l.hideLoading()}))};function Nge(l,u,p){const x=MC(l,pn.select);if(!x)return;const A=(M,O,I)=>{const U=document.createElement("option");U.value=I,N0(U,O),U.selected=gle(I,p.inputValue),M.appendChild(U)};u.forEach(M=>{const O=M[0],I=M[1];if(Array.isArray(I)){const U=document.createElement("optgroup");U.label=O,U.disabled=!1,x.appendChild(U),I.forEach(V=>A(U,V[1],V[0]))}else A(x,I,O)}),x.focus()}function Rge(l,u,p){const x=MC(l,pn.radio);if(!x)return;u.forEach(M=>{const O=M[0],I=M[1],U=document.createElement("input"),V=document.createElement("label");U.type="radio",U.name=pn.radio,U.value=O,gle(O,p.inputValue)&&(U.checked=!0);const Y=document.createElement("span");N0(Y,I),Y.className=pn.label,V.appendChild(U),V.appendChild(Y),x.appendChild(V)});const A=x.querySelectorAll("input");A.length&&A[0].focus()}const ez=l=>{const u=[];return l instanceof Map?l.forEach((p,x)=>{let A=p;typeof A=="object"&&(A=ez(A)),u.push([x,A])}):Object.keys(l).forEach(p=>{let x=l[p];typeof x=="object"&&(x=ez(x)),u.push([p,x])}),u},gle=(l,u)=>!!u&&u!==null&&u!==void 0&&u.toString()===l.toString(),Mge=l=>{const u=cc.innerParams.get(l);l.disableButtons(),u.input?ple(l,"confirm"):Ote(l,!0)},Bge=l=>{const u=cc.innerParams.get(l);l.disableButtons(),u.returnInputValueOnDeny?ple(l,"deny"):Dte(l,!1)},Lge=(l,u)=>{l.disableButtons(),u(a_.cancel)},ple=(l,u)=>{const p=cc.innerParams.get(l);if(!p.input){MT(`The "input" parameter is needed to be set when using returnInputValueOn${pte(u)}`);return}const x=l.getInput(),A=Tge(l,p);p.inputValidator?Fge(l,A,u):x&&!x.checkValidity()?(l.enableButtons(),l.showValidationMessage(p.validationMessage||x.validationMessage)):u==="deny"?Dte(l,A):Ote(l,A)},Fge=(l,u,p)=>{const x=cc.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>fB(x.inputValidator(u,x.validationMessage))).then(M=>{l.enableButtons(),l.enableInput(),M?l.showValidationMessage(M):p==="deny"?Dte(l,u):Ote(l,u)})},Dte=(l,u)=>{const p=cc.innerParams.get(l);p.showLoaderOnDeny&&Y3(BT()),p.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>fB(p.preDeny(u,p.validationMessage))).then(A=>{A===!1?(l.hideLoading(),bB(l)):l.close({isDenied:!0,value:typeof A>"u"?u:A})}).catch(A=>ble(l,A))):l.close({isDenied:!0,value:u})},nse=(l,u)=>{l.close({isConfirmed:!0,value:u})},ble=(l,u)=>{l.rejectPromise(u)},Ote=(l,u)=>{const p=cc.innerParams.get(l);p.showLoaderOnConfirm&&Y3(),p.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>fB(p.preConfirm(u,p.validationMessage))).then(A=>{gp(xz())||A===!1?(l.hideLoading(),bB(l)):nse(l,typeof A>"u"?u:A)}).catch(A=>ble(l,A))):nse(l,u)};function tz(){const l=cc.innerParams.get(this);if(!l)return;const u=cc.domCache.get(this);yh(u.loader),Cz()?l.icon&&Xf(o_()):Pge(u),z1([u.popup,u.actions],pn.loading),u.popup.removeAttribute("aria-busy"),u.popup.removeAttribute("data-loading"),u.confirmButton.disabled=!1,u.denyButton.disabled=!1,u.cancelButton.disabled=!1}const Pge=l=>{const u=l.loader.getAttribute("data-button-to-replace"),p=u?l.popup.getElementsByClassName(u):[];p.length?Xf(p[0],"inline-block"):uhe()&&yh(l.actions)};function yle(){const l=cc.innerParams.get(this),u=cc.domCache.get(this);return u?Sz(u.popup,l.input):null}function vle(l,u,p){const x=cc.domCache.get(l);u.forEach(A=>{x[A].disabled=p})}function xle(l,u){const p=ji();if(!(!p||!l))if(l.type==="radio"){const x=p.querySelectorAll(`[name="${pn.radio}"]`);for(let A=0;A<x.length;A++)x[A].disabled=u}else l.disabled=u}function wle(){vle(this,["confirmButton","denyButton","cancelButton"],!1)}function Cle(){vle(this,["confirmButton","denyButton","cancelButton"],!0)}function Sle(){xle(this.getInput(),!1)}function Ele(){xle(this.getInput(),!0)}function Tle(l){const u=cc.domCache.get(this),p=cc.innerParams.get(this);N0(u.validationMessage,l),u.validationMessage.className=pn["validation-message"],p.customClass&&p.customClass.validationMessage&&zi(u.validationMessage,p.customClass.validationMessage),Xf(u.validationMessage);const x=this.getInput();x&&(x.setAttribute("aria-invalid","true"),x.setAttribute("aria-describedby",pn["validation-message"]),Xie(x),zi(x,pn.inputerror))}function Ale(){const l=cc.domCache.get(this);l.validationMessage&&yh(l.validationMessage);const u=this.getInput();u&&(u.removeAttribute("aria-invalid"),u.removeAttribute("aria-describedby"),z1(u,pn.inputerror))}const LC={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},$ge=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Ige={allowEnterKey:void 0},Hge=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],kle=l=>Object.prototype.hasOwnProperty.call(LC,l),_le=l=>$ge.indexOf(l)!==-1,Dle=l=>Ige[l],zge=l=>{kle(l)||gg(`Unknown parameter "${l}"`)},jge=l=>{Hge.includes(l)&&gg(`The parameter "${l}" is incompatible with toasts`)},Vge=l=>{const u=Dle(l);u&&qie(l,u)},Ole=l=>{l.backdrop===!1&&l.allowOutsideClick&&gg('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),l.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(l.theme)&&gg(`Invalid theme "${l.theme}"`);for(const u in l)zge(u),l.toast&&jge(u),Vge(u)};function Nle(l){const u=pg(),p=ji(),x=cc.innerParams.get(this);if(!p||v2(p,x.hideClass.popup)){gg("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const A=Uge(l),M=Object.assign({},x,A);Ole(M),u&&(u.dataset.swal2Theme=M.theme),ile(this,M),cc.innerParams.set(this,M),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}const Uge=l=>{const u={};return Object.keys(l).forEach(p=>{if(_le(p)){const x=l;u[p]=x[p]}else gg(`Invalid parameter to update: ${p}`)}),u};function Rle(){var l;const u=cc.domCache.get(this),p=cc.innerParams.get(this);if(!p){Mle(this);return}u.popup&&ks.swalCloseEventFinishedCallback&&(ks.swalCloseEventFinishedCallback(),delete ks.swalCloseEventFinishedCallback),typeof p.didDestroy=="function"&&p.didDestroy(),(l=ks.eventEmitter)===null||l===void 0||l.emit("didDestroy"),Zge(this)}const Zge=l=>{Mle(l),delete l.params,delete ks.keydownHandler,delete ks.keydownTarget,delete ks.currentInstance},Mle=l=>{l.isAwaitingPromise?(tee(cc,l),l.isAwaitingPromise=!0):(tee(K3,l),tee(cc,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},tee=(l,u)=>{for(const p in l)l[p].delete(u)};var Wge=Object.freeze({__proto__:null,_destroy:Rle,close:BC,closeModal:BC,closePopup:BC,closeToast:BC,disableButtons:Cle,disableInput:Ele,disableLoading:tz,enableButtons:wle,enableInput:Sle,getInput:yle,handleAwaitingPromise:bB,hideLoading:tz,rejectPromise:hle,resetValidationMessage:Ale,showValidationMessage:Tle,update:Nle});const qge=(l,u,p)=>{l.toast?Gge(l,u,p):(Yge(u),Xge(u),Qge(l,u,p))},Gge=(l,u,p)=>{u.popup.onclick=()=>{l&&(Kge(l)||l.timer||l.input)||p(a_.close)}},Kge=l=>!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton);let nz=!1;const Yge=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(u){l.container.onmouseup=()=>{},u.target===l.container&&(nz=!0)}}},Xge=l=>{l.container.onmousedown=u=>{u.target===l.container&&u.preventDefault(),l.popup.onmouseup=function(p){l.popup.onmouseup=()=>{},(p.target===l.popup||p.target instanceof HTMLElement&&l.popup.contains(p.target))&&(nz=!0)}}},Qge=(l,u,p)=>{u.container.onclick=x=>{if(nz){nz=!1;return}x.target===u.container&&vz(l.allowOutsideClick)&&p(a_.backdrop)}},Jge=l=>typeof l=="object"&&l.jquery,ose=l=>l instanceof Element||Jge(l),epe=l=>{const u={};return typeof l[0]=="object"&&!ose(l[0])?Object.assign(u,l[0]):["title","html","icon"].forEach((p,x)=>{const A=l[x];typeof A=="string"||ose(A)?u[p]=A:A!==void 0&&MT(`Unexpected type of ${p}! Expected "string" or "Element", got ${typeof A}`)}),u};function tpe(...l){return new this(...l)}function npe(l){class u extends this{_main(x,A){return super._main(x,Object.assign({},l,A))}}return u}const ope=()=>ks.timeout&&ks.timeout.getTimerLeft(),Ble=()=>{if(ks.timeout)return fhe(),ks.timeout.stop()},Lle=()=>{if(ks.timeout){const l=ks.timeout.start();return Tte(l),l}},spe=()=>{const l=ks.timeout;return l&&(l.running?Ble():Lle())},rpe=l=>{if(ks.timeout){const u=ks.timeout.increase(l);return Tte(u,!0),u}},ape=()=>!!(ks.timeout&&ks.timeout.isRunning());let sse=!1;const Mee={};function ipe(l="data-swal-template"){Mee[l]=this,sse||(document.body.addEventListener("click",lpe),sse=!0)}const lpe=l=>{for(let u=l.target;u&&u!==document;u=u.parentNode)for(const p in Mee){const x=u.getAttribute&&u.getAttribute(p);if(x){Mee[p].fire({template:x});return}}};class cpe{constructor(){this.events={}}_getHandlersByEventName(u){return typeof this.events[u]>"u"&&(this.events[u]=[]),this.events[u]}on(u,p){const x=this._getHandlersByEventName(u);x.includes(p)||x.push(p)}once(u,p){const x=(...A)=>{this.removeListener(u,x),p.apply(this,A)};this.on(u,x)}emit(u,...p){this._getHandlersByEventName(u).forEach(x=>{try{x.apply(this,p)}catch(A){console.error(A)}})}removeListener(u,p){const x=this._getHandlersByEventName(u),A=x.indexOf(p);A>-1&&x.splice(A,1)}removeAllListeners(u){this.events[u]!==void 0&&(this.events[u].length=0)}reset(){this.events={}}}ks.eventEmitter=new cpe;const upe=(l,u)=>{ks.eventEmitter&&ks.eventEmitter.on(l,u)},dpe=(l,u)=>{ks.eventEmitter&&ks.eventEmitter.once(l,u)},fpe=(l,u)=>{if(ks.eventEmitter){if(!l){ks.eventEmitter.reset();return}u?ks.eventEmitter.removeListener(l,u):ks.eventEmitter.removeAllListeners(l)}};var mpe=Object.freeze({__proto__:null,argsToParams:epe,bindClickHandler:ipe,clickCancel:ege,clickConfirm:lle,clickDeny:Jhe,enableLoading:Y3,fire:tpe,getActions:hB,getCancelButton:s_,getCloseButton:wte,getConfirmButton:Ov,getContainer:pg,getDenyButton:BT,getFocusableElements:Cte,getFooter:Yie,getHtmlContainer:vte,getIcon:o_,getIconContent:rhe,getImage:Kie,getInputLabel:ahe,getLoader:r_,getPopup:ji,getProgressSteps:xte,getTimerLeft:ope,getTimerProgressBar:wz,getTitle:Gie,getValidationMessage:xz,increaseTimer:rpe,isDeprecatedParameter:Dle,isLoading:lhe,isTimerRunning:ape,isUpdatableParameter:_le,isValidParameter:kle,isVisible:Qhe,mixin:npe,off:fpe,on:upe,once:dpe,resumeTimer:Lle,showLoading:Y3,stopTimer:Ble,toggleTimer:spe});class hpe{constructor(u,p){this.callback=u,this.remaining=p,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(u){const p=this.running;return p&&this.stop(),this.remaining+=u,p&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Fle=["swal-title","swal-html","swal-footer"],gpe=l=>{const u=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!u)return{};const p=u.content;return Spe(p),Object.assign(ppe(p),bpe(p),ype(p),vpe(p),xpe(p),wpe(p),Cpe(p,Fle))},ppe=l=>{const u={};return Array.from(l.querySelectorAll("swal-param")).forEach(x=>{NT(x,["name","value"]);const A=x.getAttribute("name"),M=x.getAttribute("value");!A||!M||(A in LC&&typeof LC[A]=="boolean"?u[A]=M!=="false":A in LC&&typeof LC[A]=="object"?u[A]=JSON.parse(M):u[A]=M)}),u},bpe=l=>{const u={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(x=>{const A=x.getAttribute("name"),M=x.getAttribute("value");!A||!M||(u[A]=new Function(`return ${M}`)())}),u},ype=l=>{const u={};return Array.from(l.querySelectorAll("swal-button")).forEach(x=>{NT(x,["type","color","aria-label"]);const A=x.getAttribute("type");if(!(!A||!["confirm","cancel","deny"].includes(A))){if(u[`${A}ButtonText`]=x.innerHTML,u[`show${pte(A)}Button`]=!0,x.hasAttribute("color")){const M=x.getAttribute("color");M!==null&&(u[`${A}ButtonColor`]=M)}if(x.hasAttribute("aria-label")){const M=x.getAttribute("aria-label");M!==null&&(u[`${A}ButtonAriaLabel`]=M)}}}),u},vpe=l=>{const u={},p=l.querySelector("swal-image");return p&&(NT(p,["src","width","height","alt"]),p.hasAttribute("src")&&(u.imageUrl=p.getAttribute("src")||void 0),p.hasAttribute("width")&&(u.imageWidth=p.getAttribute("width")||void 0),p.hasAttribute("height")&&(u.imageHeight=p.getAttribute("height")||void 0),p.hasAttribute("alt")&&(u.imageAlt=p.getAttribute("alt")||void 0)),u},xpe=l=>{const u={},p=l.querySelector("swal-icon");return p&&(NT(p,["type","color"]),p.hasAttribute("type")&&(u.icon=p.getAttribute("type")),p.hasAttribute("color")&&(u.iconColor=p.getAttribute("color")),u.iconHtml=p.innerHTML),u},wpe=l=>{const u={},p=l.querySelector("swal-input");p&&(NT(p,["type","label","placeholder","value"]),u.input=p.getAttribute("type")||"text",p.hasAttribute("label")&&(u.inputLabel=p.getAttribute("label")),p.hasAttribute("placeholder")&&(u.inputPlaceholder=p.getAttribute("placeholder")),p.hasAttribute("value")&&(u.inputValue=p.getAttribute("value")));const x=Array.from(l.querySelectorAll("swal-input-option"));return x.length&&(u.inputOptions={},x.forEach(A=>{NT(A,["value"]);const M=A.getAttribute("value");if(!M)return;const O=A.innerHTML;u.inputOptions[M]=O})),u},Cpe=(l,u)=>{const p={};for(const x in u){const A=u[x],M=l.querySelector(A);M&&(NT(M,[]),p[A.replace(/^swal-/,"")]=M.innerHTML.trim())}return p},Spe=l=>{const u=Fle.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(p=>{const x=p.tagName.toLowerCase();u.includes(x)||gg(`Unrecognized element <${x}>`)})},NT=(l,u)=>{Array.from(l.attributes).forEach(p=>{u.indexOf(p.name)===-1&&gg([`Unrecognized attribute "${p.name}" on <${l.tagName.toLowerCase()}>.`,`${u.length?`Allowed attributes are: ${u.join(", ")}`:"To set the value, use HTML within the element."}`])})},Ple=10,Epe=l=>{var u,p;const x=pg(),A=ji();if(!x||!A)return;typeof l.willOpen=="function"&&l.willOpen(A),(u=ks.eventEmitter)===null||u===void 0||u.emit("willOpen",A);const O=window.getComputedStyle(document.body).overflowY;if(kpe(x,A,l),setTimeout(()=>{Tpe(x,A)},Ple),Ste()&&(Ape(x,l.scrollbarPadding!==void 0?l.scrollbarPadding:!1,O),lge()),!Cz()&&!ks.previousActiveElement&&(ks.previousActiveElement=document.activeElement),typeof l.didOpen=="function"){const I=l.didOpen;setTimeout(()=>I(A))}(p=ks.eventEmitter)===null||p===void 0||p.emit("didOpen",A)},oz=l=>{const u=ji();if(!u||l.target!==u)return;const p=pg();p&&(u.removeEventListener("animationend",oz),u.removeEventListener("transitionend",oz),p.style.overflowY="auto",z1(p,pn["no-transition"]))},Tpe=(l,u)=>{Jie(u)?(l.style.overflowY="hidden",u.addEventListener("animationend",oz),u.addEventListener("transitionend",oz)):l.style.overflowY="auto"},Ape=(l,u,p)=>{cge(),u&&p!=="hidden"&&pge(p),setTimeout(()=>{l.scrollTop=0})},kpe=(l,u,p)=>{var x;(x=p.showClass)!==null&&x!==void 0&&x.backdrop&&zi(l,p.showClass.backdrop),p.animation?(u.style.setProperty("opacity","0","important"),Xf(u,"grid"),setTimeout(()=>{var A;(A=p.showClass)!==null&&A!==void 0&&A.popup&&zi(u,p.showClass.popup),u.style.removeProperty("opacity")},Ple)):Xf(u,"grid"),zi([document.documentElement,document.body],pn.shown),p.heightAuto&&p.backdrop&&!p.toast&&zi([document.documentElement,document.body],pn["height-auto"])};var rse={email:(l,u)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(l)?Promise.resolve():Promise.resolve(u||"Invalid email address"),url:(l,u)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(u||"Invalid URL")};function _pe(l){l.inputValidator||(l.input==="email"&&(l.inputValidator=rse.email),l.input==="url"&&(l.inputValidator=rse.url))}function Dpe(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(gg('Target parameter is not valid, defaulting to "body"'),l.target="body")}function Ope(l){_pe(l),l.showLoaderOnConfirm&&!l.preConfirm&&gg(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Dpe(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),xhe(l)}let _v;var MH=new WeakMap;class bd{constructor(...u){if(Xme(this,MH,Promise.resolve({isConfirmed:!1,isDenied:!1,isDismissed:!0})),typeof window>"u")return;_v=this;const p=Object.freeze(this.constructor.argsToParams(u));this.params=p,this.isAwaitingPromise=!1,Qme(MH,this,this._main(_v.params))}_main(u,p={}){if(Ole(Object.assign({},p,u)),ks.currentInstance){const M=K3.swalPromiseResolve.get(ks.currentInstance),{isAwaitingPromise:O}=ks.currentInstance;ks.currentInstance._destroy(),O||M({isDismissed:!0}),Ste()&&dle()}ks.currentInstance=_v;const x=Rpe(u,p);Ope(x),Object.freeze(x),ks.timeout&&(ks.timeout.stop(),delete ks.timeout),clearTimeout(ks.restoreFocusTimeout);const A=Mpe(_v);return ile(_v,x),cc.innerParams.set(_v,x),Npe(_v,A,x)}then(u){return Koe(MH,this).then(u)}finally(u){return Koe(MH,this).finally(u)}}const Npe=(l,u,p)=>new Promise((x,A)=>{const M=O=>{l.close({isDismissed:!0,dismiss:O,isConfirmed:!1,isDenied:!1})};K3.swalPromiseResolve.set(l,x),K3.swalPromiseReject.set(l,A),u.confirmButton.onclick=()=>{Mge(l)},u.denyButton.onclick=()=>{Bge(l)},u.cancelButton.onclick=()=>{Lge(l,M)},u.closeButton.onclick=()=>{M(a_.close)},qge(p,u,M),tge(ks,p,M),Ege(l,p),Epe(p),Bpe(ks,p,M),Lpe(u,p),setTimeout(()=>{u.container.scrollTop=0})}),Rpe=(l,u)=>{const p=gpe(l),x=Object.assign({},LC,u,p,l);return x.showClass=Object.assign({},LC.showClass,x.showClass),x.hideClass=Object.assign({},LC.hideClass,x.hideClass),x.animation===!1&&(x.showClass={backdrop:"swal2-noanimation"},x.hideClass={}),x},Mpe=l=>{const u={popup:ji(),container:pg(),actions:hB(),confirmButton:Ov(),denyButton:BT(),cancelButton:s_(),loader:r_(),closeButton:wte(),validationMessage:xz(),progressSteps:xte()};return cc.domCache.set(l,u),u},Bpe=(l,u,p)=>{const x=wz();yh(x),u.timer&&(l.timeout=new hpe(()=>{p("timer"),delete l.timeout},u.timer),u.timerProgressBar&&x&&(Xf(x),_0(x,u,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&Tte(u.timer)})))},Lpe=(l,u)=>{if(!u.toast){if(!vz(u.allowEnterKey)){qie("allowEnterKey"),$pe();return}Fpe(l)||Ppe(l,u)||Ree(-1,1)}},Fpe=l=>{const u=Array.from(l.popup.querySelectorAll("[autofocus]"));for(const p of u)if(p instanceof HTMLElement&&gp(p))return p.focus(),!0;return!1},Ppe=(l,u)=>u.focusDeny&&gp(l.denyButton)?(l.denyButton.focus(),!0):u.focusCancel&&gp(l.cancelButton)?(l.cancelButton.focus(),!0):u.focusConfirm&&gp(l.confirmButton)?(l.confirmButton.focus(),!0):!1,$pe=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};bd.prototype.disableButtons=Cle;bd.prototype.enableButtons=wle;bd.prototype.getInput=yle;bd.prototype.disableInput=Ele;bd.prototype.enableInput=Sle;bd.prototype.hideLoading=tz;bd.prototype.disableLoading=tz;bd.prototype.showValidationMessage=Tle;bd.prototype.resetValidationMessage=Ale;bd.prototype.close=BC;bd.prototype.closePopup=BC;bd.prototype.closeModal=BC;bd.prototype.closeToast=BC;bd.prototype.rejectPromise=hle;bd.prototype.update=Nle;bd.prototype._destroy=Rle;Object.assign(bd,mpe);Object.keys(Wge).forEach(l=>{bd[l]=function(...u){if(_v&&_v[l])return _v[l](...u)}});bd.DismissReason=a_;bd.version="11.26.17";const ao=bd;ao.default=ao;typeof document<"u"&&(function(l,u){var p=l.createElement("style");if(l.getElementsByTagName("head")[0].appendChild(p),p.styleSheet)p.styleSheet.disabled||(p.styleSheet.cssText=u);else try{p.innerHTML=u}catch{p.innerText=u}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');function Ipe(){const[l,u]=ze.useState(""),[p,x]=ze.useState(""),[A,M]=ze.useState(!1),O=RT(),I=mz(V=>V.login),U=async V=>{V.preventDefault(),M(!0);try{const Y=await as.post("/auth.php?action=login",{email:l,password:p});Y.data.success?(I(Y.data.token,Y.data.user),O("/dashboard")):ao.fire("Hata",Y.data.error||"Giri baarsz","error")}catch(Y){ao.fire("Hata",Y.response?.data?.error||"Sunucu hatas","error")}finally{M(!1)}};return N.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:N.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl overflow-hidden",children:[N.jsxs("div",{className:"p-8",children:[N.jsxs("div",{className:"text-center mb-8",children:[N.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-xl flex items-center justify-center mx-auto mb-4",children:N.jsxs("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),N.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Admin Panel Giri"})]}),N.jsxs("form",{onSubmit:U,className:"space-y-6",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"E-posta"}),N.jsx("input",{type:"email",value:l,onChange:V=>u(V.target.value),required:!0,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"admin@example.com"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"ifre"}),N.jsx("input",{type:"password",value:p,onChange:V=>x(V.target.value),required:!0,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:""})]}),N.jsx("button",{type:"submit",disabled:A,className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:A?"Giri yaplyor...":"Giri Yap"})]})]}),N.jsx("div",{className:"bg-gray-50 px-8 py-4 border-t border-gray-100",children:N.jsx("p",{className:"text-xs text-gray-500 text-center",children:" 2026 Mekan Fotorafs"})})]})})}function Hpe(){const[l,u]=ze.useState(null),[p,x]=ze.useState(!0);ze.useEffect(()=>{A()},[]);const A=async()=>{try{const M=await as.get("/dashboard.php");M.data.success&&u(M.data)}catch(M){console.error("Failed to load dashboard:",M)}finally{x(!1)}};return p?N.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):N.jsxs("div",{className:"space-y-6",children:[N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Dashboard"}),N.jsx("div",{className:"text-xs font-bold text-gray-400 bg-gray-100 px-3 py-1 rounded-full uppercase tracking-widest",children:"Canl zet"})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[N.jsx(uy,{to:"/services",children:N.jsx(I3,{title:"Aktif Hizmet",value:l?.stats?.services||0,icon:"",color:"blue"})}),N.jsx(uy,{to:"/blog",children:N.jsx(I3,{title:"Blog Yazs",value:l?.stats?.blog_posts||0,icon:"",color:"amber"})}),N.jsx(uy,{to:"/seo-pages",children:N.jsx(I3,{title:"SEO Sayfas",value:l?.stats?.seo_pages||0,icon:"",color:"green"})}),N.jsx(uy,{to:"/quotes",children:N.jsx(I3,{title:"Toplam Teklif",value:l?.stats?.total_quotes||0,icon:"",color:"purple"})}),N.jsx(uy,{to:"/quotes?filter=new",children:N.jsx(I3,{title:"Yeni Talep",value:l?.stats?.new_quotes||0,icon:"",color:"red"})}),N.jsx(uy,{to:"/freelancers",children:N.jsx(I3,{title:"Freelancer Bavuru",value:l?.stats?.total_freelancers||0,icon:"",color:"green"})})]}),N.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[N.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm p-8",children:[N.jsxs("div",{className:"flex justify-between items-center mb-6",children:[N.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Son Teklif Talepleri"}),N.jsx(uy,{to:"/quotes",className:"text-xs font-bold text-blue-600 hover:underline px-3 py-1 bg-blue-50 rounded-lg uppercase tracking-wider",children:"Tmn Gr"})]}),N.jsx("div",{className:"overflow-x-auto",children:N.jsxs("table",{className:"w-full",children:[N.jsx("thead",{children:N.jsxs("tr",{className:"text-left border-b border-gray-50",children:[N.jsx("th",{className:"pb-3 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Mteri"}),N.jsx("th",{className:"pb-3 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Hizmet"}),N.jsx("th",{className:"pb-3 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Tarih"})]})}),N.jsxs("tbody",{className:"divide-y divide-gray-50",children:[l?.recent_quotes?.map(M=>N.jsxs("tr",{className:"group hover:bg-gray-50 transition-colors",children:[N.jsxs("td",{className:"py-4",children:[N.jsx("div",{className:"font-bold text-gray-800 text-sm",children:M.name}),N.jsx("div",{className:"text-[10px] text-gray-400",children:M.email})]}),N.jsx("td",{className:"py-4",children:N.jsx("span",{className:"px-2 py-1 bg-slate-100 rounded text-[9px] font-black uppercase text-slate-500",children:M.service||"Genel"})}),N.jsx("td",{className:"py-4 text-[11px] text-gray-500 font-medium",children:new Date(M.created_at).toLocaleDateString("tr-TR")})]},M.id)),(!l?.recent_quotes||l?.recent_quotes.length===0)&&N.jsx("tr",{children:N.jsx("td",{colSpan:"3",className:"py-12 text-center text-gray-300 italic",children:"Henz talep yok."})})]})]})})]}),N.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm p-8",children:[N.jsxs("div",{className:"flex justify-between items-center mb-6",children:[N.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Son Gncellemeler"}),N.jsx(uy,{to:"/pages",className:"text-xs font-bold text-blue-600 hover:underline px-3 py-1 bg-blue-50 rounded-lg uppercase tracking-wider",children:"Tm erik"})]}),N.jsx("div",{className:"space-y-4",children:l?.recent_pages?.map(M=>N.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-2xl transition-colors border border-transparent hover:border-gray-100",children:[N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-100 flex items-center justify-center text-lg",children:M.post_type==="service"?"":M.post_type==="blog"?"":""}),N.jsxs("div",{children:[N.jsx("div",{className:"text-sm font-bold text-gray-800",children:M.title}),N.jsx("div",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest",children:M.post_type})]})]}),N.jsx("div",{className:"text-[10px] text-gray-400 font-bold whitespace-nowrap",children:new Date(M.updated_at||M.created_at).toLocaleDateString("tr-TR")})]},M.id))})]})]})]})}function I3({title:l,value:u,icon:p,color:x}){const A={blue:{bg:"bg-blue-50",icon:"bg-blue-500",text:"text-blue-600"},green:{bg:"bg-green-50",icon:"bg-green-500",text:"text-green-600"},purple:{bg:"bg-purple-50",icon:"bg-purple-500",text:"text-purple-600"},red:{bg:"bg-red-50",icon:"bg-red-500",text:"text-red-600"},amber:{bg:"bg-amber-50",icon:"bg-amber-500",text:"text-amber-600"}},M=A[x]||A.blue;return N.jsxs("div",{className:"p-6 rounded-3xl border border-transparent hover:border-gray-200 transition-all bg-white shadow-sm flex items-center justify-between group cursor-pointer active:scale-95",children:[N.jsxs("div",{children:[N.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1 group-hover:text-gray-600 transition-colors",children:l}),N.jsx("p",{className:"text-3xl font-black text-gray-900 tracking-tighter",children:u})]}),N.jsx("div",{className:`w-14 h-14 ${M.icon} rounded-2xl flex items-center justify-center text-2xl shadow-lg shadow-gray-200 group-hover:scale-110 transition-transform`,children:p})]})}const Nte=ze.createContext({});function Rte(l){const u=ze.useRef(null);return u.current===null&&(u.current=l()),u.current}const $le=typeof window<"u",Ile=$le?ze.useLayoutEffect:ze.useEffect,Ez=ze.createContext(null);function Mte(l,u){l.indexOf(u)===-1&&l.push(u)}function Bte(l,u){const p=l.indexOf(u);p>-1&&l.splice(p,1)}const Nv=(l,u,p)=>p>u?u:p<l?l:p;let Lte=()=>{};const C2={},Hle=l=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(l);function zle(l){return typeof l=="object"&&l!==null}const jle=l=>/^0[^.\s]+$/u.test(l);function Fte(l){let u;return()=>(u===void 0&&(u=l()),u)}const I1=l=>l,zpe=(l,u)=>p=>u(l(p)),yB=(...l)=>l.reduce(zpe),tB=(l,u,p)=>{const x=u-l;return x===0?1:(p-l)/x};class Pte{constructor(){this.subscriptions=[]}add(u){return Mte(this.subscriptions,u),()=>Bte(this.subscriptions,u)}notify(u,p,x){const A=this.subscriptions.length;if(A)if(A===1)this.subscriptions[0](u,p,x);else for(let M=0;M<A;M++){const O=this.subscriptions[M];O&&O(u,p,x)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const x2=l=>l*1e3,$1=l=>l/1e3;function Vle(l,u){return u?l*(1e3/u):0}const Ule=(l,u,p)=>(((1-3*p+3*u)*l+(3*p-6*u))*l+3*u)*l,jpe=1e-7,Vpe=12;function Upe(l,u,p,x,A){let M,O,I=0;do O=u+(p-u)/2,M=Ule(O,x,A)-l,M>0?p=O:u=O;while(Math.abs(M)>jpe&&++I<Vpe);return O}function vB(l,u,p,x){if(l===u&&p===x)return I1;const A=M=>Upe(M,0,1,l,p);return M=>M===0||M===1?M:Ule(A(M),u,x)}const Zle=l=>u=>u<=.5?l(2*u)/2:(2-l(2*(1-u)))/2,Wle=l=>u=>1-l(1-u),qle=vB(.33,1.53,.69,.99),$te=Wle(qle),Gle=Zle($te),Kle=l=>(l*=2)<1?.5*$te(l):.5*(2-Math.pow(2,-10*(l-1))),Ite=l=>1-Math.sin(Math.acos(l)),Yle=Wle(Ite),Xle=Zle(Ite),Zpe=vB(.42,0,1,1),Wpe=vB(0,0,.58,1),Qle=vB(.42,0,.58,1),qpe=l=>Array.isArray(l)&&typeof l[0]!="number",Jle=l=>Array.isArray(l)&&typeof l[0]=="number",Gpe={linear:I1,easeIn:Zpe,easeInOut:Qle,easeOut:Wpe,circIn:Ite,circInOut:Xle,circOut:Yle,backIn:$te,backInOut:Gle,backOut:qle,anticipate:Kle},Kpe=l=>typeof l=="string",ase=l=>{if(Jle(l)){Lte(l.length===4);const[u,p,x,A]=l;return vB(u,p,x,A)}else if(Kpe(l))return Gpe[l];return l},BH=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Ype(l,u){let p=new Set,x=new Set,A=!1,M=!1;const O=new WeakSet;let I={delta:0,timestamp:0,isProcessing:!1};function U(Y){O.has(Y)&&(V.schedule(Y),l()),Y(I)}const V={schedule:(Y,ee=!1,fe=!1)=>{const pe=fe&&A?p:x;return ee&&O.add(Y),pe.has(Y)||pe.add(Y),Y},cancel:Y=>{x.delete(Y),O.delete(Y)},process:Y=>{if(I=Y,A){M=!0;return}A=!0,[p,x]=[x,p],p.forEach(U),p.clear(),A=!1,M&&(M=!1,V.process(Y))}};return V}const Xpe=40;function ece(l,u){let p=!1,x=!0;const A={delta:0,timestamp:0,isProcessing:!1},M=()=>p=!0,O=BH.reduce((J,rt)=>(J[rt]=Ype(M),J),{}),{setup:I,read:U,resolveKeyframes:V,preUpdate:Y,update:ee,preRender:fe,render:Ce,postRender:pe}=O,$e=()=>{const J=C2.useManualTiming?A.timestamp:performance.now();p=!1,C2.useManualTiming||(A.delta=x?1e3/60:Math.max(Math.min(J-A.timestamp,Xpe),1)),A.timestamp=J,A.isProcessing=!0,I.process(A),U.process(A),V.process(A),Y.process(A),ee.process(A),fe.process(A),Ce.process(A),pe.process(A),A.isProcessing=!1,p&&u&&(x=!1,l($e))},be=()=>{p=!0,x=!0,A.isProcessing||l($e)};return{schedule:BH.reduce((J,rt)=>{const It=O[rt];return J[rt]=(qe,ae=!1,lt=!1)=>(p||be(),It.schedule(qe,ae,lt)),J},{}),cancel:J=>{for(let rt=0;rt<BH.length;rt++)O[BH[rt]].cancel(J)},state:A,steps:O}}const{schedule:_c,cancel:PC,state:Dm,steps:nee}=ece(typeof requestAnimationFrame<"u"?requestAnimationFrame:I1,!0);let VH;function Qpe(){VH=void 0}const mg={now:()=>(VH===void 0&&mg.set(Dm.isProcessing||C2.useManualTiming?Dm.timestamp:performance.now()),VH),set:l=>{VH=l,queueMicrotask(Qpe)}},tce=l=>u=>typeof u=="string"&&u.startsWith(l),nce=tce("--"),Jpe=tce("var(--"),Hte=l=>Jpe(l)?e0e.test(l.split("/*")[0].trim()):!1,e0e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function ise(l){return typeof l!="string"?!1:l.split("/*")[0].includes("var(--")}const i_={test:l=>typeof l=="number",parse:parseFloat,transform:l=>l},nB={...i_,transform:l=>Nv(0,1,l)},LH={...i_,default:1},YM=l=>Math.round(l*1e5)/1e5,zte=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function t0e(l){return l==null}const n0e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jte=(l,u)=>p=>!!(typeof p=="string"&&n0e.test(p)&&p.startsWith(l)||u&&!t0e(p)&&Object.prototype.hasOwnProperty.call(p,u)),oce=(l,u,p)=>x=>{if(typeof x!="string")return x;const[A,M,O,I]=x.match(zte);return{[l]:parseFloat(A),[u]:parseFloat(M),[p]:parseFloat(O),alpha:I!==void 0?parseFloat(I):1}},o0e=l=>Nv(0,255,l),oee={...i_,transform:l=>Math.round(o0e(l))},TT={test:jte("rgb","red"),parse:oce("red","green","blue"),transform:({red:l,green:u,blue:p,alpha:x=1})=>"rgba("+oee.transform(l)+", "+oee.transform(u)+", "+oee.transform(p)+", "+YM(nB.transform(x))+")"};function s0e(l){let u="",p="",x="",A="";return l.length>5?(u=l.substring(1,3),p=l.substring(3,5),x=l.substring(5,7),A=l.substring(7,9)):(u=l.substring(1,2),p=l.substring(2,3),x=l.substring(3,4),A=l.substring(4,5),u+=u,p+=p,x+=x,A+=A),{red:parseInt(u,16),green:parseInt(p,16),blue:parseInt(x,16),alpha:A?parseInt(A,16)/255:1}}const Bee={test:jte("#"),parse:s0e,transform:TT.transform},xB=l=>({test:u=>typeof u=="string"&&u.endsWith(l)&&u.split(" ").length===1,parse:parseFloat,transform:u=>`${u}${l}`}),RC=xB("deg"),Dv=xB("%"),os=xB("px"),r0e=xB("vh"),a0e=xB("vw"),lse={...Dv,parse:l=>Dv.parse(l)/100,transform:l=>Dv.transform(l*100)},z3={test:jte("hsl","hue"),parse:oce("hue","saturation","lightness"),transform:({hue:l,saturation:u,lightness:p,alpha:x=1})=>"hsla("+Math.round(l)+", "+Dv.transform(YM(u))+", "+Dv.transform(YM(p))+", "+YM(nB.transform(x))+")"},Gd={test:l=>TT.test(l)||Bee.test(l)||z3.test(l),parse:l=>TT.test(l)?TT.parse(l):z3.test(l)?z3.parse(l):Bee.parse(l),transform:l=>typeof l=="string"?l:l.hasOwnProperty("red")?TT.transform(l):z3.transform(l),getAnimatableNone:l=>{const u=Gd.parse(l);return u.alpha=0,Gd.transform(u)}},i0e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function l0e(l){return isNaN(l)&&typeof l=="string"&&(l.match(zte)?.length||0)+(l.match(i0e)?.length||0)>0}const sce="number",rce="color",c0e="var",u0e="var(",cse="${}",d0e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function oB(l){const u=l.toString(),p=[],x={color:[],number:[],var:[]},A=[];let M=0;const I=u.replace(d0e,U=>(Gd.test(U)?(x.color.push(M),A.push(rce),p.push(Gd.parse(U))):U.startsWith(u0e)?(x.var.push(M),A.push(c0e),p.push(U)):(x.number.push(M),A.push(sce),p.push(parseFloat(U))),++M,cse)).split(cse);return{values:p,split:I,indexes:x,types:A}}function ace(l){return oB(l).values}function ice(l){const{split:u,types:p}=oB(l),x=u.length;return A=>{let M="";for(let O=0;O<x;O++)if(M+=u[O],A[O]!==void 0){const I=p[O];I===sce?M+=YM(A[O]):I===rce?M+=Gd.transform(A[O]):M+=A[O]}return M}}const f0e=l=>typeof l=="number"?0:Gd.test(l)?Gd.getAnimatableNone(l):l;function m0e(l){const u=ace(l);return ice(l)(u.map(f0e))}const $C={test:l0e,parse:ace,createTransformer:ice,getAnimatableNone:m0e};function see(l,u,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?l+(u-l)*6*p:p<1/2?u:p<2/3?l+(u-l)*(2/3-p)*6:l}function h0e({hue:l,saturation:u,lightness:p,alpha:x}){l/=360,u/=100,p/=100;let A=0,M=0,O=0;if(!u)A=M=O=p;else{const I=p<.5?p*(1+u):p+u-p*u,U=2*p-I;A=see(U,I,l+1/3),M=see(U,I,l),O=see(U,I,l-1/3)}return{red:Math.round(A*255),green:Math.round(M*255),blue:Math.round(O*255),alpha:x}}function sz(l,u){return p=>p>0?u:l}const wu=(l,u,p)=>l+(u-l)*p,ree=(l,u,p)=>{const x=l*l,A=p*(u*u-x)+x;return A<0?0:Math.sqrt(A)},g0e=[Bee,TT,z3],p0e=l=>g0e.find(u=>u.test(l));function use(l){const u=p0e(l);if(!u)return!1;let p=u.parse(l);return u===z3&&(p=h0e(p)),p}const dse=(l,u)=>{const p=use(l),x=use(u);if(!p||!x)return sz(l,u);const A={...p};return M=>(A.red=ree(p.red,x.red,M),A.green=ree(p.green,x.green,M),A.blue=ree(p.blue,x.blue,M),A.alpha=wu(p.alpha,x.alpha,M),TT.transform(A))},Lee=new Set(["none","hidden"]);function b0e(l,u){return Lee.has(l)?p=>p<=0?l:u:p=>p>=1?u:l}function y0e(l,u){return p=>wu(l,u,p)}function Vte(l){return typeof l=="number"?y0e:typeof l=="string"?Hte(l)?sz:Gd.test(l)?dse:w0e:Array.isArray(l)?lce:typeof l=="object"?Gd.test(l)?dse:v0e:sz}function lce(l,u){const p=[...l],x=p.length,A=l.map((M,O)=>Vte(M)(M,u[O]));return M=>{for(let O=0;O<x;O++)p[O]=A[O](M);return p}}function v0e(l,u){const p={...l,...u},x={};for(const A in p)l[A]!==void 0&&u[A]!==void 0&&(x[A]=Vte(l[A])(l[A],u[A]));return A=>{for(const M in x)p[M]=x[M](A);return p}}function x0e(l,u){const p=[],x={color:0,var:0,number:0};for(let A=0;A<u.values.length;A++){const M=u.types[A],O=l.indexes[M][x[M]],I=l.values[O]??0;p[A]=I,x[M]++}return p}const w0e=(l,u)=>{const p=$C.createTransformer(u),x=oB(l),A=oB(u);return x.indexes.var.length===A.indexes.var.length&&x.indexes.color.length===A.indexes.color.length&&x.indexes.number.length>=A.indexes.number.length?Lee.has(l)&&!A.values.length||Lee.has(u)&&!x.values.length?b0e(l,u):yB(lce(x0e(x,A),A.values),p):sz(l,u)};function cce(l,u,p){return typeof l=="number"&&typeof u=="number"&&typeof p=="number"?wu(l,u,p):Vte(l)(l,u)}const C0e=l=>{const u=({timestamp:p})=>l(p);return{start:(p=!0)=>_c.update(u,p),stop:()=>PC(u),now:()=>Dm.isProcessing?Dm.timestamp:mg.now()}},uce=(l,u,p=10)=>{let x="";const A=Math.max(Math.round(u/p),2);for(let M=0;M<A;M++)x+=Math.round(l(M/(A-1))*1e4)/1e4+", ";return`linear(${x.substring(0,x.length-2)})`},rz=2e4;function Ute(l){let u=0;const p=50;let x=l.next(u);for(;!x.done&&u<rz;)u+=p,x=l.next(u);return u>=rz?1/0:u}function S0e(l,u=100,p){const x=p({...l,keyframes:[0,u]}),A=Math.min(Ute(x),rz);return{type:"keyframes",ease:M=>x.next(A*M).value/u,duration:$1(A)}}const E0e=5;function dce(l,u,p){const x=Math.max(u-E0e,0);return Vle(p-l(x),u-x)}const Vu={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},aee=.001;function T0e({duration:l=Vu.duration,bounce:u=Vu.bounce,velocity:p=Vu.velocity,mass:x=Vu.mass}){let A,M,O=1-u;O=Nv(Vu.minDamping,Vu.maxDamping,O),l=Nv(Vu.minDuration,Vu.maxDuration,$1(l)),O<1?(A=V=>{const Y=V*O,ee=Y*l,fe=Y-p,Ce=Fee(V,O),pe=Math.exp(-ee);return aee-fe/Ce*pe},M=V=>{const ee=V*O*l,fe=ee*p+p,Ce=Math.pow(O,2)*Math.pow(V,2)*l,pe=Math.exp(-ee),$e=Fee(Math.pow(V,2),O);return(-A(V)+aee>0?-1:1)*((fe-Ce)*pe)/$e}):(A=V=>{const Y=Math.exp(-V*l),ee=(V-p)*l+1;return-aee+Y*ee},M=V=>{const Y=Math.exp(-V*l),ee=(p-V)*(l*l);return Y*ee});const I=5/l,U=k0e(A,M,I);if(l=x2(l),isNaN(U))return{stiffness:Vu.stiffness,damping:Vu.damping,duration:l};{const V=Math.pow(U,2)*x;return{stiffness:V,damping:O*2*Math.sqrt(x*V),duration:l}}}const A0e=12;function k0e(l,u,p){let x=p;for(let A=1;A<A0e;A++)x=x-l(x)/u(x);return x}function Fee(l,u){return l*Math.sqrt(1-u*u)}const _0e=["duration","bounce"],D0e=["stiffness","damping","mass"];function fse(l,u){return u.some(p=>l[p]!==void 0)}function O0e(l){let u={velocity:Vu.velocity,stiffness:Vu.stiffness,damping:Vu.damping,mass:Vu.mass,isResolvedFromDuration:!1,...l};if(!fse(l,D0e)&&fse(l,_0e))if(l.visualDuration){const p=l.visualDuration,x=2*Math.PI/(p*1.2),A=x*x,M=2*Nv(.05,1,1-(l.bounce||0))*Math.sqrt(A);u={...u,mass:Vu.mass,stiffness:A,damping:M}}else{const p=T0e(l);u={...u,...p,mass:Vu.mass},u.isResolvedFromDuration=!0}return u}function az(l=Vu.visualDuration,u=Vu.bounce){const p=typeof l!="object"?{visualDuration:l,keyframes:[0,1],bounce:u}:l;let{restSpeed:x,restDelta:A}=p;const M=p.keyframes[0],O=p.keyframes[p.keyframes.length-1],I={done:!1,value:M},{stiffness:U,damping:V,mass:Y,duration:ee,velocity:fe,isResolvedFromDuration:Ce}=O0e({...p,velocity:-$1(p.velocity||0)}),pe=fe||0,$e=V/(2*Math.sqrt(U*Y)),be=O-M,ct=$1(Math.sqrt(U/Y)),Oe=Math.abs(be)<5;x||(x=Oe?Vu.restSpeed.granular:Vu.restSpeed.default),A||(A=Oe?Vu.restDelta.granular:Vu.restDelta.default);let J;if($e<1){const It=Fee(ct,$e);J=qe=>{const ae=Math.exp(-$e*ct*qe);return O-ae*((pe+$e*ct*be)/It*Math.sin(It*qe)+be*Math.cos(It*qe))}}else if($e===1)J=It=>O-Math.exp(-ct*It)*(be+(pe+ct*be)*It);else{const It=ct*Math.sqrt($e*$e-1);J=qe=>{const ae=Math.exp(-$e*ct*qe),lt=Math.min(It*qe,300);return O-ae*((pe+$e*ct*be)*Math.sinh(lt)+It*be*Math.cosh(lt))/It}}const rt={calculatedDuration:Ce&&ee||null,next:It=>{const qe=J(It);if(Ce)I.done=It>=ee;else{let ae=It===0?pe:0;$e<1&&(ae=It===0?x2(pe):dce(J,It,qe));const lt=Math.abs(ae)<=x,En=Math.abs(O-qe)<=A;I.done=lt&&En}return I.value=I.done?O:qe,I},toString:()=>{const It=Math.min(Ute(rt),rz),qe=uce(ae=>rt.next(It*ae).value,It,30);return It+"ms "+qe},toTransition:()=>{}};return rt}az.applyToOptions=l=>{const u=S0e(l,100,az);return l.ease=u.ease,l.duration=x2(u.duration),l.type="keyframes",l};function Pee({keyframes:l,velocity:u=0,power:p=.8,timeConstant:x=325,bounceDamping:A=10,bounceStiffness:M=500,modifyTarget:O,min:I,max:U,restDelta:V=.5,restSpeed:Y}){const ee=l[0],fe={done:!1,value:ee},Ce=lt=>I!==void 0&&lt<I||U!==void 0&&lt>U,pe=lt=>I===void 0?U:U===void 0||Math.abs(I-lt)<Math.abs(U-lt)?I:U;let $e=p*u;const be=ee+$e,ct=O===void 0?be:O(be);ct!==be&&($e=ct-ee);const Oe=lt=>-$e*Math.exp(-lt/x),J=lt=>ct+Oe(lt),rt=lt=>{const En=Oe(lt),dn=J(lt);fe.done=Math.abs(En)<=V,fe.value=fe.done?ct:dn};let It,qe;const ae=lt=>{Ce(fe.value)&&(It=lt,qe=az({keyframes:[fe.value,pe(fe.value)],velocity:dce(J,lt,fe.value),damping:A,stiffness:M,restDelta:V,restSpeed:Y}))};return ae(0),{calculatedDuration:null,next:lt=>{let En=!1;return!qe&&It===void 0&&(En=!0,rt(lt),ae(lt)),It!==void 0&&lt>=It?qe.next(lt-It):(!En&&rt(lt),fe)}}}function N0e(l,u,p){const x=[],A=p||C2.mix||cce,M=l.length-1;for(let O=0;O<M;O++){let I=A(l[O],l[O+1]);if(u){const U=Array.isArray(u)?u[O]||I1:u;I=yB(U,I)}x.push(I)}return x}function R0e(l,u,{clamp:p=!0,ease:x,mixer:A}={}){const M=l.length;if(Lte(M===u.length),M===1)return()=>u[0];if(M===2&&u[0]===u[1])return()=>u[1];const O=l[0]===l[1];l[0]>l[M-1]&&(l=[...l].reverse(),u=[...u].reverse());const I=N0e(u,x,A),U=I.length,V=Y=>{if(O&&Y<l[0])return u[0];let ee=0;if(U>1)for(;ee<l.length-2&&!(Y<l[ee+1]);ee++);const fe=tB(l[ee],l[ee+1],Y);return I[ee](fe)};return p?Y=>V(Nv(l[0],l[M-1],Y)):V}function M0e(l,u){const p=l[l.length-1];for(let x=1;x<=u;x++){const A=tB(0,u,x);l.push(wu(p,1,A))}}function B0e(l){const u=[0];return M0e(u,l.length-1),u}function L0e(l,u){return l.map(p=>p*u)}function F0e(l,u){return l.map(()=>u||Qle).splice(0,l.length-1)}function XM({duration:l=300,keyframes:u,times:p,ease:x="easeInOut"}){const A=qpe(x)?x.map(ase):ase(x),M={done:!1,value:u[0]},O=L0e(p&&p.length===u.length?p:B0e(u),l),I=R0e(O,u,{ease:Array.isArray(A)?A:F0e(u,A)});return{calculatedDuration:l,next:U=>(M.value=I(U),M.done=U>=l,M)}}const P0e=l=>l!==null;function Zte(l,{repeat:u,repeatType:p="loop"},x,A=1){const M=l.filter(P0e),I=A<0||u&&p!=="loop"&&u%2===1?0:M.length-1;return!I||x===void 0?M[I]:x}const $0e={decay:Pee,inertia:Pee,tween:XM,keyframes:XM,spring:az};function fce(l){typeof l.type=="string"&&(l.type=$0e[l.type])}class Wte{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(u=>{this.resolve=u})}notifyFinished(){this.resolve()}then(u,p){return this.finished.then(u,p)}}const I0e=l=>l/100;class qte extends Wte{constructor(u){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:p}=this.options;p&&p.updatedAt!==mg.now()&&this.tick(mg.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=u,this.initAnimation(),this.play(),u.autoplay===!1&&this.pause()}initAnimation(){const{options:u}=this;fce(u);const{type:p=XM,repeat:x=0,repeatDelay:A=0,repeatType:M,velocity:O=0}=u;let{keyframes:I}=u;const U=p||XM;U!==XM&&typeof I[0]!="number"&&(this.mixKeyframes=yB(I0e,cce(I[0],I[1])),I=[0,100]);const V=U({...u,keyframes:I});M==="mirror"&&(this.mirroredGenerator=U({...u,keyframes:[...I].reverse(),velocity:-O})),V.calculatedDuration===null&&(V.calculatedDuration=Ute(V));const{calculatedDuration:Y}=V;this.calculatedDuration=Y,this.resolvedDuration=Y+A,this.totalDuration=this.resolvedDuration*(x+1)-A,this.generator=V}updateTime(u){const p=Math.round(u-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=p}tick(u,p=!1){const{generator:x,totalDuration:A,mixKeyframes:M,mirroredGenerator:O,resolvedDuration:I,calculatedDuration:U}=this;if(this.startTime===null)return x.next(0);const{delay:V=0,keyframes:Y,repeat:ee,repeatType:fe,repeatDelay:Ce,type:pe,onUpdate:$e,finalKeyframe:be}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,u):this.speed<0&&(this.startTime=Math.min(u-A/this.speed,this.startTime)),p?this.currentTime=u:this.updateTime(u);const ct=this.currentTime-V*(this.playbackSpeed>=0?1:-1),Oe=this.playbackSpeed>=0?ct<0:ct>A;this.currentTime=Math.max(ct,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=A);let J=this.currentTime,rt=x;if(ee){const lt=Math.min(this.currentTime,A)/I;let En=Math.floor(lt),dn=lt%1;!dn&&lt>=1&&(dn=1),dn===1&&En--,En=Math.min(En,ee+1),En%2&&(fe==="reverse"?(dn=1-dn,Ce&&(dn-=Ce/I)):fe==="mirror"&&(rt=O)),J=Nv(0,1,dn)*I}const It=Oe?{done:!1,value:Y[0]}:rt.next(J);M&&(It.value=M(It.value));let{done:qe}=It;!Oe&&U!==null&&(qe=this.playbackSpeed>=0?this.currentTime>=A:this.currentTime<=0);const ae=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&qe);return ae&&pe!==Pee&&(It.value=Zte(Y,this.options,be,this.speed)),$e&&$e(It.value),ae&&this.finish(),It}then(u,p){return this.finished.then(u,p)}get duration(){return $1(this.calculatedDuration)}get iterationDuration(){const{delay:u=0}=this.options||{};return this.duration+$1(u)}get time(){return $1(this.currentTime)}set time(u){u=x2(u),this.currentTime=u,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=u:this.driver&&(this.startTime=this.driver.now()-u/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(u){this.updateTime(mg.now());const p=this.playbackSpeed!==u;this.playbackSpeed=u,p&&(this.time=$1(this.currentTime))}play(){if(this.isStopped)return;const{driver:u=C0e,startTime:p}=this.options;this.driver||(this.driver=u(A=>this.tick(A))),this.options.onPlay?.();const x=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=x):this.holdTime!==null?this.startTime=x-this.holdTime:this.startTime||(this.startTime=p??x),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mg.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(u){return this.startTime=0,this.tick(u,!0)}attachTimeline(u){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),u.observe(this)}}function H0e(l){for(let u=1;u<l.length;u++)l[u]??(l[u]=l[u-1])}const AT=l=>l*180/Math.PI,$ee=l=>{const u=AT(Math.atan2(l[1],l[0]));return Iee(u)},z0e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:l=>(Math.abs(l[0])+Math.abs(l[3]))/2,rotate:$ee,rotateZ:$ee,skewX:l=>AT(Math.atan(l[1])),skewY:l=>AT(Math.atan(l[2])),skew:l=>(Math.abs(l[1])+Math.abs(l[2]))/2},Iee=l=>(l=l%360,l<0&&(l+=360),l),mse=$ee,hse=l=>Math.sqrt(l[0]*l[0]+l[1]*l[1]),gse=l=>Math.sqrt(l[4]*l[4]+l[5]*l[5]),j0e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hse,scaleY:gse,scale:l=>(hse(l)+gse(l))/2,rotateX:l=>Iee(AT(Math.atan2(l[6],l[5]))),rotateY:l=>Iee(AT(Math.atan2(-l[2],l[0]))),rotateZ:mse,rotate:mse,skewX:l=>AT(Math.atan(l[4])),skewY:l=>AT(Math.atan(l[1])),skew:l=>(Math.abs(l[1])+Math.abs(l[4]))/2};function Hee(l){return l.includes("scale")?1:0}function zee(l,u){if(!l||l==="none")return Hee(u);const p=l.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let x,A;if(p)x=j0e,A=p;else{const I=l.match(/^matrix\(([-\d.e\s,]+)\)$/u);x=z0e,A=I}if(!A)return Hee(u);const M=x[u],O=A[1].split(",").map(U0e);return typeof M=="function"?M(O):O[M]}const V0e=(l,u)=>{const{transform:p="none"}=getComputedStyle(l);return zee(p,u)};function U0e(l){return parseFloat(l.trim())}const l_=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],c_=new Set(l_),pse=l=>l===i_||l===os,Z0e=new Set(["x","y","z"]),W0e=l_.filter(l=>!Z0e.has(l));function q0e(l){const u=[];return W0e.forEach(p=>{const x=l.getValue(p);x!==void 0&&(u.push([p,x.get()]),x.set(p.startsWith("scale")?1:0))}),u}const FC={width:({x:l},{paddingLeft:u="0",paddingRight:p="0"})=>l.max-l.min-parseFloat(u)-parseFloat(p),height:({y:l},{paddingTop:u="0",paddingBottom:p="0"})=>l.max-l.min-parseFloat(u)-parseFloat(p),top:(l,{top:u})=>parseFloat(u),left:(l,{left:u})=>parseFloat(u),bottom:({y:l},{top:u})=>parseFloat(u)+(l.max-l.min),right:({x:l},{left:u})=>parseFloat(u)+(l.max-l.min),x:(l,{transform:u})=>zee(u,"x"),y:(l,{transform:u})=>zee(u,"y")};FC.translateX=FC.x;FC.translateY=FC.y;const DT=new Set;let jee=!1,Vee=!1,Uee=!1;function mce(){if(Vee){const l=Array.from(DT).filter(x=>x.needsMeasurement),u=new Set(l.map(x=>x.element)),p=new Map;u.forEach(x=>{const A=q0e(x);A.length&&(p.set(x,A),x.render())}),l.forEach(x=>x.measureInitialState()),u.forEach(x=>{x.render();const A=p.get(x);A&&A.forEach(([M,O])=>{x.getValue(M)?.set(O)})}),l.forEach(x=>x.measureEndState()),l.forEach(x=>{x.suspendedScrollY!==void 0&&window.scrollTo(0,x.suspendedScrollY)})}Vee=!1,jee=!1,DT.forEach(l=>l.complete(Uee)),DT.clear()}function hce(){DT.forEach(l=>{l.readKeyframes(),l.needsMeasurement&&(Vee=!0)})}function G0e(){Uee=!0,hce(),mce(),Uee=!1}class Gte{constructor(u,p,x,A,M,O=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...u],this.onComplete=p,this.name=x,this.motionValue=A,this.element=M,this.isAsync=O}scheduleResolve(){this.state="scheduled",this.isAsync?(DT.add(this),jee||(jee=!0,_c.read(hce),_c.resolveKeyframes(mce))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:u,name:p,element:x,motionValue:A}=this;if(u[0]===null){const M=A?.get(),O=u[u.length-1];if(M!==void 0)u[0]=M;else if(x&&p){const I=x.readValue(p,O);I!=null&&(u[0]=I)}u[0]===void 0&&(u[0]=O),A&&M===void 0&&A.set(u[0])}H0e(u)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(u=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,u),DT.delete(this)}cancel(){this.state==="scheduled"&&(DT.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const K0e=l=>l.startsWith("--");function Y0e(l,u,p){K0e(u)?l.style.setProperty(u,p):l.style[u]=p}const X0e=Fte(()=>window.ScrollTimeline!==void 0),Q0e={};function J0e(l,u){const p=Fte(l);return()=>Q0e[u]??p()}const gce=J0e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),GM=([l,u,p,x])=>`cubic-bezier(${l}, ${u}, ${p}, ${x})`,bse={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:GM([0,.65,.55,1]),circOut:GM([.55,0,1,.45]),backIn:GM([.31,.01,.66,-.59]),backOut:GM([.33,1.53,.69,.99])};function pce(l,u){if(l)return typeof l=="function"?gce()?uce(l,u):"ease-out":Jle(l)?GM(l):Array.isArray(l)?l.map(p=>pce(p,u)||bse.easeOut):bse[l]}function e1e(l,u,p,{delay:x=0,duration:A=300,repeat:M=0,repeatType:O="loop",ease:I="easeOut",times:U}={},V=void 0){const Y={[u]:p};U&&(Y.offset=U);const ee=pce(I,A);Array.isArray(ee)&&(Y.easing=ee);const fe={delay:x,duration:A,easing:Array.isArray(ee)?"linear":ee,fill:"both",iterations:M+1,direction:O==="reverse"?"alternate":"normal"};return V&&(fe.pseudoElement=V),l.animate(Y,fe)}function bce(l){return typeof l=="function"&&"applyToOptions"in l}function t1e({type:l,...u}){return bce(l)&&gce()?l.applyToOptions(u):(u.duration??(u.duration=300),u.ease??(u.ease="easeOut"),u)}class n1e extends Wte{constructor(u){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!u)return;const{element:p,name:x,keyframes:A,pseudoElement:M,allowFlatten:O=!1,finalKeyframe:I,onComplete:U}=u;this.isPseudoElement=!!M,this.allowFlatten=O,this.options=u,Lte(typeof u.type!="string");const V=t1e(u);this.animation=e1e(p,x,A,V,M),V.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!M){const Y=Zte(A,this.options,I,this.speed);this.updateMotionValue?this.updateMotionValue(Y):Y0e(p,x,Y),this.animation.cancel()}U?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:u}=this;u==="idle"||u==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const u=this.animation.effect?.getComputedTiming?.().duration||0;return $1(Number(u))}get iterationDuration(){const{delay:u=0}=this.options||{};return this.duration+$1(u)}get time(){return $1(Number(this.animation.currentTime)||0)}set time(u){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=x2(u)}get speed(){return this.animation.playbackRate}set speed(u){u<0&&(this.finishedTime=null),this.animation.playbackRate=u}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(u){this.manualStartTime=this.animation.startTime=u}attachTimeline({timeline:u,observe:p}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,u&&X0e()?(this.animation.timeline=u,I1):p(this)}}const yce={anticipate:Kle,backInOut:Gle,circInOut:Xle};function o1e(l){return l in yce}function s1e(l){typeof l.ease=="string"&&o1e(l.ease)&&(l.ease=yce[l.ease])}const iee=10;class r1e extends n1e{constructor(u){s1e(u),fce(u),super(u),u.startTime!==void 0&&(this.startTime=u.startTime),this.options=u}updateMotionValue(u){const{motionValue:p,onUpdate:x,onComplete:A,element:M,...O}=this.options;if(!p)return;if(u!==void 0){p.set(u);return}const I=new qte({...O,autoplay:!1}),U=Math.max(iee,mg.now()-this.startTime),V=Nv(0,iee,U-iee);p.setWithVelocity(I.sample(Math.max(0,U-V)).value,I.sample(U).value,V),I.stop()}}const yse=(l,u)=>u==="zIndex"?!1:!!(typeof l=="number"||Array.isArray(l)||typeof l=="string"&&($C.test(l)||l==="0")&&!l.startsWith("url("));function a1e(l){const u=l[0];if(l.length===1)return!0;for(let p=0;p<l.length;p++)if(l[p]!==u)return!0}function i1e(l,u,p,x){const A=l[0];if(A===null)return!1;if(u==="display"||u==="visibility")return!0;const M=l[l.length-1],O=yse(A,u),I=yse(M,u);return!O||!I?!1:a1e(l)||(p==="spring"||bce(p))&&x}function Zee(l){l.duration=0,l.type="keyframes"}const l1e=new Set(["opacity","clipPath","filter","transform"]),c1e=Fte(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function u1e(l){const{motionValue:u,name:p,repeatDelay:x,repeatType:A,damping:M,type:O}=l;if(!(u?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:U,transformTemplate:V}=u.owner.getProps();return c1e()&&p&&l1e.has(p)&&(p!=="transform"||!V)&&!U&&!x&&A!=="mirror"&&M!==0&&O!=="inertia"}const d1e=40;class f1e extends Wte{constructor({autoplay:u=!0,delay:p=0,type:x="keyframes",repeat:A=0,repeatDelay:M=0,repeatType:O="loop",keyframes:I,name:U,motionValue:V,element:Y,...ee}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=mg.now();const fe={autoplay:u,delay:p,type:x,repeat:A,repeatDelay:M,repeatType:O,name:U,motionValue:V,element:Y,...ee},Ce=Y?.KeyframeResolver||Gte;this.keyframeResolver=new Ce(I,(pe,$e,be)=>this.onKeyframesResolved(pe,$e,fe,!be),U,V,Y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(u,p,x,A){this.keyframeResolver=void 0;const{name:M,type:O,velocity:I,delay:U,isHandoff:V,onUpdate:Y}=x;this.resolvedAt=mg.now(),i1e(u,M,O,I)||((C2.instantAnimations||!U)&&Y?.(Zte(u,x,p)),u[0]=u[u.length-1],Zee(x),x.repeat=0);const fe={startTime:A?this.resolvedAt?this.resolvedAt-this.createdAt>d1e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:p,...x,keyframes:u},Ce=!V&&u1e(fe)?new r1e({...fe,element:fe.motionValue.owner.current}):new qte(fe);Ce.finished.then(()=>this.notifyFinished()).catch(I1),this.pendingTimeline&&(this.stopTimeline=Ce.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=Ce}get finished(){return this._animation?this.animation.finished:this._finished}then(u,p){return this.finished.finally(u).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),G0e()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(u){this.animation.time=u}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(u){this.animation.speed=u}get startTime(){return this.animation.startTime}attachTimeline(u){return this._animation?this.stopTimeline=this.animation.attachTimeline(u):this.pendingTimeline=u,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const m1e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function h1e(l){const u=m1e.exec(l);if(!u)return[,];const[,p,x,A]=u;return[`--${p??x}`,A]}function vce(l,u,p=1){const[x,A]=h1e(l);if(!x)return;const M=window.getComputedStyle(u).getPropertyValue(x);if(M){const O=M.trim();return Hle(O)?parseFloat(O):O}return Hte(A)?vce(A,u,p+1):A}function Kte(l,u){return l?.[u]??l?.default??l}const g1e={type:"spring",stiffness:500,damping:25,restSpeed:10},p1e=l=>({type:"spring",stiffness:550,damping:l===0?2*Math.sqrt(550):30,restSpeed:10}),b1e={type:"keyframes",duration:.8},y1e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},v1e=(l,{keyframes:u})=>u.length>2?b1e:c_.has(l)?l.startsWith("scale")?p1e(u[1]):g1e:y1e;function x1e({when:l,delay:u,delayChildren:p,staggerChildren:x,staggerDirection:A,repeat:M,repeatType:O,repeatDelay:I,from:U,elapsed:V,...Y}){return!!Object.keys(Y).length}const w1e=l=>l!==null;function C1e(l,{repeat:u,repeatType:p="loop"},x){const A=l.filter(w1e),M=u&&p!=="loop"&&u%2===1?0:A.length-1;return A[M]}function xce(l,u,p,x=0,A=1){const M=Array.from(l).sort((V,Y)=>V.sortNodePosition(Y)).indexOf(u),O=l.size,I=(O-1)*x;return typeof p=="function"?p(M,O):A===1?M*x:I-M*x}const Yte=(l,u,p,x={},A,M)=>O=>{const I=Kte(x,l)||{},U=I.delay||x.delay||0;let{elapsed:V=0}=x;V=V-x2(U);const Y={keyframes:Array.isArray(p)?p:[null,p],ease:"easeOut",velocity:u.getVelocity(),...I,delay:-V,onUpdate:fe=>{u.set(fe),I.onUpdate&&I.onUpdate(fe)},onComplete:()=>{O(),I.onComplete&&I.onComplete()},name:l,motionValue:u,element:M?void 0:A};x1e(I)||Object.assign(Y,v1e(l,Y)),Y.duration&&(Y.duration=x2(Y.duration)),Y.repeatDelay&&(Y.repeatDelay=x2(Y.repeatDelay)),Y.from!==void 0&&(Y.keyframes[0]=Y.from);let ee=!1;if((Y.type===!1||Y.duration===0&&!Y.repeatDelay)&&(Zee(Y),Y.delay===0&&(ee=!0)),(C2.instantAnimations||C2.skipAnimations)&&(ee=!0,Zee(Y),Y.delay=0),Y.allowFlatten=!I.type&&!I.ease,ee&&!M&&u.get()!==void 0){const fe=C1e(Y.keyframes,I);if(fe!==void 0){_c.update(()=>{Y.onUpdate(fe),Y.onComplete()});return}}return I.isSync?new qte(Y):new f1e(Y)},wce=new Set(["width","height","top","left","right","bottom",...l_]),vse=30,S1e=l=>!isNaN(parseFloat(l));class E1e{constructor(u,p={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=x=>{const A=mg.now();if(this.updatedAt!==A&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(x),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const M of this.dependents)M.dirty()},this.hasAnimated=!1,this.setCurrent(u),this.owner=p.owner}setCurrent(u){this.current=u,this.updatedAt=mg.now(),this.canTrackVelocity===null&&u!==void 0&&(this.canTrackVelocity=S1e(this.current))}setPrevFrameValue(u=this.current){this.prevFrameValue=u,this.prevUpdatedAt=this.updatedAt}onChange(u){return this.on("change",u)}on(u,p){this.events[u]||(this.events[u]=new Pte);const x=this.events[u].add(p);return u==="change"?()=>{x(),_c.read(()=>{this.events.change.getSize()||this.stop()})}:x}clearListeners(){for(const u in this.events)this.events[u].clear()}attach(u,p){this.passiveEffect=u,this.stopPassiveEffect=p}set(u){this.passiveEffect?this.passiveEffect(u,this.updateAndNotify):this.updateAndNotify(u)}setWithVelocity(u,p,x){this.set(p),this.prev=void 0,this.prevFrameValue=u,this.prevUpdatedAt=this.updatedAt-x}jump(u,p=!0){this.updateAndNotify(u),this.prev=u,this.prevUpdatedAt=this.prevFrameValue=void 0,p&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(u){this.dependents||(this.dependents=new Set),this.dependents.add(u)}removeDependent(u){this.dependents&&this.dependents.delete(u)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const u=mg.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||u-this.updatedAt>vse)return 0;const p=Math.min(this.updatedAt-this.prevUpdatedAt,vse);return Vle(parseFloat(this.current)-parseFloat(this.prevFrameValue),p)}start(u){return this.stop(),new Promise(p=>{this.hasAnimated=!0,this.animation=u(p),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function X3(l,u){return new E1e(l,u)}function xse(l){const u=[{},{}];return l?.values.forEach((p,x)=>{u[0][x]=p.get(),u[1][x]=p.getVelocity()}),u}function Xte(l,u,p,x){if(typeof u=="function"){const[A,M]=xse(x);u=u(p!==void 0?p:l.custom,A,M)}if(typeof u=="string"&&(u=l.variants&&l.variants[u]),typeof u=="function"){const[A,M]=xse(x);u=u(p!==void 0?p:l.custom,A,M)}return u}function q3(l,u,p){const x=l.getProps();return Xte(x,u,p!==void 0?p:x.custom,l)}const Wee=l=>Array.isArray(l);function T1e(l,u,p){l.hasValue(u)?l.getValue(u).set(p):l.addValue(u,X3(p))}function A1e(l){return Wee(l)?l[l.length-1]||0:l}function k1e(l,u){const p=q3(l,u);let{transitionEnd:x={},transition:A={},...M}=p||{};M={...M,...x};for(const O in M){const I=A1e(M[O]);T1e(l,O,I)}}const bh=l=>!!(l&&l.getVelocity);function _1e(l){return!!(bh(l)&&l.add)}function qee(l,u){const p=l.getValue("willChange");if(_1e(p))return p.add(u);if(!p&&C2.WillChange){const x=new C2.WillChange("auto");l.addValue("willChange",x),x.add(u)}}function Qte(l){return l.replace(/([A-Z])/g,u=>`-${u.toLowerCase()}`)}const D1e="framerAppearId",Cce="data-"+Qte(D1e);function Sce(l){return l.props[Cce]}function O1e({protectedKeys:l,needsAnimating:u},p){const x=l.hasOwnProperty(p)&&u[p]!==!0;return u[p]=!1,x}function Ece(l,u,{delay:p=0,transitionOverride:x,type:A}={}){let{transition:M=l.getDefaultTransition(),transitionEnd:O,...I}=u;x&&(M=x);const U=[],V=A&&l.animationState&&l.animationState.getState()[A];for(const Y in I){const ee=l.getValue(Y,l.latestValues[Y]??null),fe=I[Y];if(fe===void 0||V&&O1e(V,Y))continue;const Ce={delay:p,...Kte(M||{},Y)},pe=ee.get();if(pe!==void 0&&!ee.isAnimating&&!Array.isArray(fe)&&fe===pe&&!Ce.velocity)continue;let $e=!1;if(window.MotionHandoffAnimation){const ct=Sce(l);if(ct){const Oe=window.MotionHandoffAnimation(ct,Y,_c);Oe!==null&&(Ce.startTime=Oe,$e=!0)}}qee(l,Y),ee.start(Yte(Y,ee,fe,l.shouldReduceMotion&&wce.has(Y)?{type:!1}:Ce,l,$e));const be=ee.animation;be&&U.push(be)}return O&&Promise.all(U).then(()=>{_c.update(()=>{O&&k1e(l,O)})}),U}function Gee(l,u,p={}){const x=q3(l,u,p.type==="exit"?l.presenceContext?.custom:void 0);let{transition:A=l.getDefaultTransition()||{}}=x||{};p.transitionOverride&&(A=p.transitionOverride);const M=x?()=>Promise.all(Ece(l,x,p)):()=>Promise.resolve(),O=l.variantChildren&&l.variantChildren.size?(U=0)=>{const{delayChildren:V=0,staggerChildren:Y,staggerDirection:ee}=A;return N1e(l,u,U,V,Y,ee,p)}:()=>Promise.resolve(),{when:I}=A;if(I){const[U,V]=I==="beforeChildren"?[M,O]:[O,M];return U().then(()=>V())}else return Promise.all([M(),O(p.delay)])}function N1e(l,u,p=0,x=0,A=0,M=1,O){const I=[];for(const U of l.variantChildren)U.notify("AnimationStart",u),I.push(Gee(U,u,{...O,delay:p+(typeof x=="function"?0:x)+xce(l.variantChildren,U,x,A,M)}).then(()=>U.notify("AnimationComplete",u)));return Promise.all(I)}function R1e(l,u,p={}){l.notify("AnimationStart",u);let x;if(Array.isArray(u)){const A=u.map(M=>Gee(l,M,p));x=Promise.all(A)}else if(typeof u=="string")x=Gee(l,u,p);else{const A=typeof u=="function"?q3(l,u,p.custom):u;x=Promise.all(Ece(l,A,p))}return x.then(()=>{l.notify("AnimationComplete",u)})}const M1e={test:l=>l==="auto",parse:l=>l},Tce=l=>u=>u.test(l),Ace=[i_,os,Dv,RC,a0e,r0e,M1e],wse=l=>Ace.find(Tce(l));function B1e(l){return typeof l=="number"?l===0:l!==null?l==="none"||l==="0"||jle(l):!0}const L1e=new Set(["brightness","contrast","saturate","opacity"]);function F1e(l){const[u,p]=l.slice(0,-1).split("(");if(u==="drop-shadow")return l;const[x]=p.match(zte)||[];if(!x)return l;const A=p.replace(x,"");let M=L1e.has(u)?1:0;return x!==p&&(M*=100),u+"("+M+A+")"}const P1e=/\b([a-z-]*)\(.*?\)/gu,Kee={...$C,getAnimatableNone:l=>{const u=l.match(P1e);return u?u.map(F1e).join(" "):l}},Cse={...i_,transform:Math.round},$1e={rotate:RC,rotateX:RC,rotateY:RC,rotateZ:RC,scale:LH,scaleX:LH,scaleY:LH,scaleZ:LH,skew:RC,skewX:RC,skewY:RC,distance:os,translateX:os,translateY:os,translateZ:os,x:os,y:os,z:os,perspective:os,transformPerspective:os,opacity:nB,originX:lse,originY:lse,originZ:os},Jte={borderWidth:os,borderTopWidth:os,borderRightWidth:os,borderBottomWidth:os,borderLeftWidth:os,borderRadius:os,radius:os,borderTopLeftRadius:os,borderTopRightRadius:os,borderBottomRightRadius:os,borderBottomLeftRadius:os,width:os,maxWidth:os,height:os,maxHeight:os,top:os,right:os,bottom:os,left:os,inset:os,insetBlock:os,insetBlockStart:os,insetBlockEnd:os,insetInline:os,insetInlineStart:os,insetInlineEnd:os,padding:os,paddingTop:os,paddingRight:os,paddingBottom:os,paddingLeft:os,paddingBlock:os,paddingBlockStart:os,paddingBlockEnd:os,paddingInline:os,paddingInlineStart:os,paddingInlineEnd:os,margin:os,marginTop:os,marginRight:os,marginBottom:os,marginLeft:os,marginBlock:os,marginBlockStart:os,marginBlockEnd:os,marginInline:os,marginInlineStart:os,marginInlineEnd:os,backgroundPositionX:os,backgroundPositionY:os,...$1e,zIndex:Cse,fillOpacity:nB,strokeOpacity:nB,numOctaves:Cse},I1e={...Jte,color:Gd,backgroundColor:Gd,outlineColor:Gd,fill:Gd,stroke:Gd,borderColor:Gd,borderTopColor:Gd,borderRightColor:Gd,borderBottomColor:Gd,borderLeftColor:Gd,filter:Kee,WebkitFilter:Kee},kce=l=>I1e[l];function _ce(l,u){let p=kce(l);return p!==Kee&&(p=$C),p.getAnimatableNone?p.getAnimatableNone(u):void 0}const H1e=new Set(["auto","none","0"]);function z1e(l,u,p){let x=0,A;for(;x<l.length&&!A;){const M=l[x];typeof M=="string"&&!H1e.has(M)&&oB(M).values.length&&(A=l[x]),x++}if(A&&p)for(const M of u)l[M]=_ce(p,A)}class j1e extends Gte{constructor(u,p,x,A,M){super(u,p,x,A,M,!0)}readKeyframes(){const{unresolvedKeyframes:u,element:p,name:x}=this;if(!p||!p.current)return;super.readKeyframes();for(let Y=0;Y<u.length;Y++){let ee=u[Y];if(typeof ee=="string"&&(ee=ee.trim(),Hte(ee))){const fe=vce(ee,p.current);fe!==void 0&&(u[Y]=fe),Y===u.length-1&&(this.finalKeyframe=ee)}}if(this.resolveNoneKeyframes(),!wce.has(x)||u.length!==2)return;const[A,M]=u,O=wse(A),I=wse(M),U=ise(A),V=ise(M);if(U!==V&&FC[x]){this.needsMeasurement=!0;return}if(O!==I)if(pse(O)&&pse(I))for(let Y=0;Y<u.length;Y++){const ee=u[Y];typeof ee=="string"&&(u[Y]=parseFloat(ee))}else FC[x]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:u,name:p}=this,x=[];for(let A=0;A<u.length;A++)(u[A]===null||B1e(u[A]))&&x.push(A);x.length&&z1e(u,x,p)}measureInitialState(){const{element:u,unresolvedKeyframes:p,name:x}=this;if(!u||!u.current)return;x==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=FC[x](u.measureViewportBox(),window.getComputedStyle(u.current)),p[0]=this.measuredOrigin;const A=p[p.length-1];A!==void 0&&u.getValue(x,A).jump(A,!1)}measureEndState(){const{element:u,name:p,unresolvedKeyframes:x}=this;if(!u||!u.current)return;const A=u.getValue(p);A&&A.jump(this.measuredOrigin,!1);const M=x.length-1,O=x[M];x[M]=FC[p](u.measureViewportBox(),window.getComputedStyle(u.current)),O!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=O),this.removedTransforms?.length&&this.removedTransforms.forEach(([I,U])=>{u.getValue(I).set(U)}),this.resolveNoneKeyframes()}}function V1e(l,u,p){if(l instanceof EventTarget)return[l];if(typeof l=="string"){let x=document;const A=p?.[l]??x.querySelectorAll(l);return A?Array.from(A):[]}return Array.from(l)}const Dce=(l,u)=>u&&typeof l=="number"?u.transform(l):l;function Oce(l){return zle(l)&&"offsetHeight"in l}const{schedule:ene}=ece(queueMicrotask,!1),cy={x:!1,y:!1};function Nce(){return cy.x||cy.y}function U1e(l){return l==="x"||l==="y"?cy[l]?null:(cy[l]=!0,()=>{cy[l]=!1}):cy.x||cy.y?null:(cy.x=cy.y=!0,()=>{cy.x=cy.y=!1})}function Rce(l,u){const p=V1e(l),x=new AbortController,A={passive:!0,...u,signal:x.signal};return[p,A,()=>x.abort()]}function Sse(l){return!(l.pointerType==="touch"||Nce())}function Z1e(l,u,p={}){const[x,A,M]=Rce(l,p),O=I=>{if(!Sse(I))return;const{target:U}=I,V=u(U,I);if(typeof V!="function"||!U)return;const Y=ee=>{Sse(ee)&&(V(ee),U.removeEventListener("pointerleave",Y))};U.addEventListener("pointerleave",Y,A)};return x.forEach(I=>{I.addEventListener("pointerenter",O,A)}),M}const Mce=(l,u)=>u?l===u?!0:Mce(l,u.parentElement):!1,tne=l=>l.pointerType==="mouse"?typeof l.button!="number"||l.button<=0:l.isPrimary!==!1,W1e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Bce(l){return W1e.has(l.tagName)||l.isContentEditable===!0}const UH=new WeakSet;function Ese(l){return u=>{u.key==="Enter"&&l(u)}}function lee(l,u){l.dispatchEvent(new PointerEvent("pointer"+u,{isPrimary:!0,bubbles:!0}))}const q1e=(l,u)=>{const p=l.currentTarget;if(!p)return;const x=Ese(()=>{if(UH.has(p))return;lee(p,"down");const A=Ese(()=>{lee(p,"up")}),M=()=>lee(p,"cancel");p.addEventListener("keyup",A,u),p.addEventListener("blur",M,u)});p.addEventListener("keydown",x,u),p.addEventListener("blur",()=>p.removeEventListener("keydown",x),u)};function Tse(l){return tne(l)&&!Nce()}function G1e(l,u,p={}){const[x,A,M]=Rce(l,p),O=I=>{const U=I.currentTarget;if(!Tse(I))return;UH.add(U);const V=u(U,I),Y=(Ce,pe)=>{window.removeEventListener("pointerup",ee),window.removeEventListener("pointercancel",fe),UH.has(U)&&UH.delete(U),Tse(Ce)&&typeof V=="function"&&V(Ce,{success:pe})},ee=Ce=>{Y(Ce,U===window||U===document||p.useGlobalTarget||Mce(U,Ce.target))},fe=Ce=>{Y(Ce,!1)};window.addEventListener("pointerup",ee,A),window.addEventListener("pointercancel",fe,A)};return x.forEach(I=>{(p.useGlobalTarget?window:I).addEventListener("pointerdown",O,A),Oce(I)&&(I.addEventListener("focus",V=>q1e(V,A)),!Bce(I)&&!I.hasAttribute("tabindex")&&(I.tabIndex=0))}),M}function Lce(l){return zle(l)&&"ownerSVGElement"in l}function K1e(l){return Lce(l)&&l.tagName==="svg"}const Y1e=[...Ace,Gd,$C],X1e=l=>Y1e.find(Tce(l)),Ase=()=>({translate:0,scale:1,origin:0,originPoint:0}),j3=()=>({x:Ase(),y:Ase()}),kse=()=>({min:0,max:0}),Cf=()=>({x:kse(),y:kse()}),Yee={current:null},Fce={current:!1},Q1e=typeof window<"u";function J1e(){if(Fce.current=!0,!!Q1e)if(window.matchMedia){const l=window.matchMedia("(prefers-reduced-motion)"),u=()=>Yee.current=l.matches;l.addEventListener("change",u),u()}else Yee.current=!1}const ebe=new WeakMap;function Tz(l){return l!==null&&typeof l=="object"&&typeof l.start=="function"}function sB(l){return typeof l=="string"||Array.isArray(l)}const nne=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],one=["initial",...nne];function Az(l){return Tz(l.animate)||one.some(u=>sB(l[u]))}function Pce(l){return!!(Az(l)||l.variants)}function tbe(l,u,p){for(const x in u){const A=u[x],M=p[x];if(bh(A))l.addValue(x,A);else if(bh(M))l.addValue(x,X3(A,{owner:l}));else if(M!==A)if(l.hasValue(x)){const O=l.getValue(x);O.liveStyle===!0?O.jump(A):O.hasAnimated||O.set(A)}else{const O=l.getStaticValue(x);l.addValue(x,X3(O!==void 0?O:A,{owner:l}))}}for(const x in p)u[x]===void 0&&l.removeValue(x);return u}const _se=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let iz={};function $ce(l){iz=l}function nbe(){return iz}class obe{scrapeMotionValuesFromProps(u,p,x){return{}}constructor({parent:u,props:p,presenceContext:x,reducedMotionConfig:A,blockInitialAnimation:M,visualState:O},I={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Gte,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const fe=mg.now();this.renderScheduledAt<fe&&(this.renderScheduledAt=fe,_c.render(this.render,!1,!0))};const{latestValues:U,renderState:V}=O;this.latestValues=U,this.baseTarget={...U},this.initialValues=p.initial?{...U}:{},this.renderState=V,this.parent=u,this.props=p,this.presenceContext=x,this.depth=u?u.depth+1:0,this.reducedMotionConfig=A,this.options=I,this.blockInitialAnimation=!!M,this.isControllingVariants=Az(p),this.isVariantNode=Pce(p),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(u&&u.current);const{willChange:Y,...ee}=this.scrapeMotionValuesFromProps(p,{},this);for(const fe in ee){const Ce=ee[fe];U[fe]!==void 0&&bh(Ce)&&Ce.set(U[fe])}}mount(u){this.current=u,ebe.set(u,this),this.projection&&!this.projection.instance&&this.projection.mount(u),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((p,x)=>this.bindToMotionValue(x,p)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Fce.current||J1e(),this.shouldReduceMotion=Yee.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),PC(this.notifyUpdate),PC(this.render),this.valueSubscriptions.forEach(u=>u()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const u in this.events)this.events[u].clear();for(const u in this.features){const p=this.features[u];p&&(p.unmount(),p.isMounted=!1)}this.current=null}addChild(u){this.children.add(u),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(u)}removeChild(u){this.children.delete(u),this.enteringChildren&&this.enteringChildren.delete(u)}bindToMotionValue(u,p){this.valueSubscriptions.has(u)&&this.valueSubscriptions.get(u)();const x=c_.has(u);x&&this.onBindTransform&&this.onBindTransform();const A=p.on("change",O=>{this.latestValues[u]=O,this.props.onUpdate&&_c.preRender(this.notifyUpdate),x&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let M;typeof window<"u"&&window.MotionCheckAppearSync&&(M=window.MotionCheckAppearSync(this,u,p)),this.valueSubscriptions.set(u,()=>{A(),M&&M(),p.owner&&p.stop()})}sortNodePosition(u){return!this.current||!this.sortInstanceNodePosition||this.type!==u.type?0:this.sortInstanceNodePosition(this.current,u.current)}updateFeatures(){let u="animation";for(u in iz){const p=iz[u];if(!p)continue;const{isEnabled:x,Feature:A}=p;if(!this.features[u]&&A&&x(this.props)&&(this.features[u]=new A(this)),this.features[u]){const M=this.features[u];M.isMounted?M.update():(M.mount(),M.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Cf()}getStaticValue(u){return this.latestValues[u]}setStaticValue(u,p){this.latestValues[u]=p}update(u,p){(u.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=u,this.prevPresenceContext=this.presenceContext,this.presenceContext=p;for(let x=0;x<_se.length;x++){const A=_se[x];this.propEventSubscriptions[A]&&(this.propEventSubscriptions[A](),delete this.propEventSubscriptions[A]);const M="on"+A,O=u[M];O&&(this.propEventSubscriptions[A]=this.on(A,O))}this.prevMotionValues=tbe(this,this.scrapeMotionValuesFromProps(u,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(u){return this.props.variants?this.props.variants[u]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(u){const p=this.getClosestVariantNode();if(p)return p.variantChildren&&p.variantChildren.add(u),()=>p.variantChildren.delete(u)}addValue(u,p){const x=this.values.get(u);p!==x&&(x&&this.removeValue(u),this.bindToMotionValue(u,p),this.values.set(u,p),this.latestValues[u]=p.get())}removeValue(u){this.values.delete(u);const p=this.valueSubscriptions.get(u);p&&(p(),this.valueSubscriptions.delete(u)),delete this.latestValues[u],this.removeValueFromRenderState(u,this.renderState)}hasValue(u){return this.values.has(u)}getValue(u,p){if(this.props.values&&this.props.values[u])return this.props.values[u];let x=this.values.get(u);return x===void 0&&p!==void 0&&(x=X3(p===null?void 0:p,{owner:this}),this.addValue(u,x)),x}readValue(u,p){let x=this.latestValues[u]!==void 0||!this.current?this.latestValues[u]:this.getBaseTargetFromProps(this.props,u)??this.readValueFromInstance(this.current,u,this.options);return x!=null&&(typeof x=="string"&&(Hle(x)||jle(x))?x=parseFloat(x):!X1e(x)&&$C.test(p)&&(x=_ce(u,p)),this.setBaseTarget(u,bh(x)?x.get():x)),bh(x)?x.get():x}setBaseTarget(u,p){this.baseTarget[u]=p}getBaseTarget(u){const{initial:p}=this.props;let x;if(typeof p=="string"||typeof p=="object"){const M=Xte(this.props,p,this.presenceContext?.custom);M&&(x=M[u])}if(p&&x!==void 0)return x;const A=this.getBaseTargetFromProps(this.props,u);return A!==void 0&&!bh(A)?A:this.initialValues[u]!==void 0&&x===void 0?void 0:this.baseTarget[u]}on(u,p){return this.events[u]||(this.events[u]=new Pte),this.events[u].add(p)}notify(u,...p){this.events[u]&&this.events[u].notify(...p)}scheduleRenderMicrotask(){ene.render(this.render)}}class IC{constructor(u){this.isMounted=!1,this.node=u}update(){}}class Ice extends obe{constructor(){super(...arguments),this.KeyframeResolver=j1e}sortInstanceNodePosition(u,p){return u.compareDocumentPosition(p)&2?1:-1}getBaseTargetFromProps(u,p){const x=u.style;return x?x[p]:void 0}removeValueFromRenderState(u,{vars:p,style:x}){delete p[u],delete x[u]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:u}=this.props;bh(u)&&(this.childSubscription=u.on("change",p=>{this.current&&(this.current.textContent=`${p}`)}))}}function Hce({top:l,left:u,right:p,bottom:x}){return{x:{min:u,max:p},y:{min:l,max:x}}}function sbe({x:l,y:u}){return{top:u.min,right:l.max,bottom:u.max,left:l.min}}function rbe(l,u){if(!u)return l;const p=u({x:l.left,y:l.top}),x=u({x:l.right,y:l.bottom});return{top:p.y,left:p.x,bottom:x.y,right:x.x}}function cee(l){return l===void 0||l===1}function Xee({scale:l,scaleX:u,scaleY:p}){return!cee(l)||!cee(u)||!cee(p)}function ST(l){return Xee(l)||zce(l)||l.z||l.rotate||l.rotateX||l.rotateY||l.skewX||l.skewY}function zce(l){return Dse(l.x)||Dse(l.y)}function Dse(l){return l&&l!=="0%"}function lz(l,u,p){const x=l-p,A=u*x;return p+A}function Ose(l,u,p,x,A){return A!==void 0&&(l=lz(l,A,x)),lz(l,p,x)+u}function Qee(l,u=0,p=1,x,A){l.min=Ose(l.min,u,p,x,A),l.max=Ose(l.max,u,p,x,A)}function jce(l,{x:u,y:p}){Qee(l.x,u.translate,u.scale,u.originPoint),Qee(l.y,p.translate,p.scale,p.originPoint)}const Nse=.999999999999,Rse=1.0000000000001;function abe(l,u,p,x=!1){const A=p.length;if(!A)return;u.x=u.y=1;let M,O;for(let I=0;I<A;I++){M=p[I],O=M.projectionDelta;const{visualElement:U}=M.options;U&&U.props.style&&U.props.style.display==="contents"||(x&&M.options.layoutScroll&&M.scroll&&M!==M.root&&U3(l,{x:-M.scroll.offset.x,y:-M.scroll.offset.y}),O&&(u.x*=O.x.scale,u.y*=O.y.scale,jce(l,O)),x&&ST(M.latestValues)&&U3(l,M.latestValues))}u.x<Rse&&u.x>Nse&&(u.x=1),u.y<Rse&&u.y>Nse&&(u.y=1)}function V3(l,u){l.min=l.min+u,l.max=l.max+u}function Mse(l,u,p,x,A=.5){const M=wu(l.min,l.max,A);Qee(l,u,p,M,x)}function U3(l,u){Mse(l.x,u.x,u.scaleX,u.scale,u.originX),Mse(l.y,u.y,u.scaleY,u.scale,u.originY)}function Vce(l,u){return Hce(rbe(l.getBoundingClientRect(),u))}function ibe(l,u,p){const x=Vce(l,p),{scroll:A}=u;return A&&(V3(x.x,A.offset.x),V3(x.y,A.offset.y)),x}const lbe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cbe=l_.length;function ube(l,u,p){let x="",A=!0;for(let M=0;M<cbe;M++){const O=l_[M],I=l[O];if(I===void 0)continue;let U=!0;if(typeof I=="number"?U=I===(O.startsWith("scale")?1:0):U=parseFloat(I)===0,!U||p){const V=Dce(I,Jte[O]);if(!U){A=!1;const Y=lbe[O]||O;x+=`${Y}(${V}) `}p&&(u[O]=V)}}return x=x.trim(),p?x=p(u,A?"":x):A&&(x="none"),x}function sne(l,u,p){const{style:x,vars:A,transformOrigin:M}=l;let O=!1,I=!1;for(const U in u){const V=u[U];if(c_.has(U)){O=!0;continue}else if(nce(U)){A[U]=V;continue}else{const Y=Dce(V,Jte[U]);U.startsWith("origin")?(I=!0,M[U]=Y):x[U]=Y}}if(u.transform||(O||p?x.transform=ube(u,l.transform,p):x.transform&&(x.transform="none")),I){const{originX:U="50%",originY:V="50%",originZ:Y=0}=M;x.transformOrigin=`${U} ${V} ${Y}`}}function Uce(l,{style:u,vars:p},x,A){const M=l.style;let O;for(O in u)M[O]=u[O];A?.applyProjectionStyles(M,x);for(O in p)M.setProperty(O,p[O])}function Bse(l,u){return u.max===u.min?0:l/(u.max-u.min)*100}const WM={correct:(l,u)=>{if(!u.target)return l;if(typeof l=="string")if(os.test(l))l=parseFloat(l);else return l;const p=Bse(l,u.target.x),x=Bse(l,u.target.y);return`${p}% ${x}%`}},dbe={correct:(l,{treeScale:u,projectionDelta:p})=>{const x=l,A=$C.parse(l);if(A.length>5)return x;const M=$C.createTransformer(l),O=typeof A[0]!="number"?1:0,I=p.x.scale*u.x,U=p.y.scale*u.y;A[0+O]/=I,A[1+O]/=U;const V=wu(I,U,.5);return typeof A[2+O]=="number"&&(A[2+O]/=V),typeof A[3+O]=="number"&&(A[3+O]/=V),M(A)}},Jee={borderRadius:{...WM,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:WM,borderTopRightRadius:WM,borderBottomLeftRadius:WM,borderBottomRightRadius:WM,boxShadow:dbe};function Zce(l,{layout:u,layoutId:p}){return c_.has(l)||l.startsWith("origin")||(u||p!==void 0)&&(!!Jee[l]||l==="opacity")}function rne(l,u,p){const x=l.style,A=u?.style,M={};if(!x)return M;for(const O in x)(bh(x[O])||A&&bh(A[O])||Zce(O,l)||p?.getValue(O)?.liveStyle!==void 0)&&(M[O]=x[O]);return M}function fbe(l){return window.getComputedStyle(l)}class mbe extends Ice{constructor(){super(...arguments),this.type="html",this.renderInstance=Uce}readValueFromInstance(u,p){if(c_.has(p))return this.projection?.isProjecting?Hee(p):V0e(u,p);{const x=fbe(u),A=(nce(p)?x.getPropertyValue(p):x[p])||0;return typeof A=="string"?A.trim():A}}measureInstanceViewportBox(u,{transformPagePoint:p}){return Vce(u,p)}build(u,p,x){sne(u,p,x.transformTemplate)}scrapeMotionValuesFromProps(u,p,x){return rne(u,p,x)}}const hbe={offset:"stroke-dashoffset",array:"stroke-dasharray"},gbe={offset:"strokeDashoffset",array:"strokeDasharray"};function pbe(l,u,p=1,x=0,A=!0){l.pathLength=1;const M=A?hbe:gbe;l[M.offset]=os.transform(-x);const O=os.transform(u),I=os.transform(p);l[M.array]=`${O} ${I}`}const bbe=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Wce(l,{attrX:u,attrY:p,attrScale:x,pathLength:A,pathSpacing:M=1,pathOffset:O=0,...I},U,V,Y){if(sne(l,I,V),U){l.style.viewBox&&(l.attrs.viewBox=l.style.viewBox);return}l.attrs=l.style,l.style={};const{attrs:ee,style:fe}=l;ee.transform&&(fe.transform=ee.transform,delete ee.transform),(fe.transform||ee.transformOrigin)&&(fe.transformOrigin=ee.transformOrigin??"50% 50%",delete ee.transformOrigin),fe.transform&&(fe.transformBox=Y?.transformBox??"fill-box",delete ee.transformBox);for(const Ce of bbe)ee[Ce]!==void 0&&(fe[Ce]=ee[Ce],delete ee[Ce]);u!==void 0&&(ee.x=u),p!==void 0&&(ee.y=p),x!==void 0&&(ee.scale=x),A!==void 0&&pbe(ee,A,M,O,!1)}const qce=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Gce=l=>typeof l=="string"&&l.toLowerCase()==="svg";function ybe(l,u,p,x){Uce(l,u,void 0,x);for(const A in u.attrs)l.setAttribute(qce.has(A)?A:Qte(A),u.attrs[A])}function Kce(l,u,p){const x=rne(l,u,p);for(const A in l)if(bh(l[A])||bh(u[A])){const M=l_.indexOf(A)!==-1?"attr"+A.charAt(0).toUpperCase()+A.substring(1):A;x[M]=l[A]}return x}class vbe extends Ice{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Cf}getBaseTargetFromProps(u,p){return u[p]}readValueFromInstance(u,p){if(c_.has(p)){const x=kce(p);return x&&x.default||0}return p=qce.has(p)?p:Qte(p),u.getAttribute(p)}scrapeMotionValuesFromProps(u,p,x){return Kce(u,p,x)}build(u,p,x){Wce(u,p,this.isSVGTag,x.transformTemplate,x.style)}renderInstance(u,p,x,A){ybe(u,p,x,A)}mount(u){this.isSVGTag=Gce(u.tagName),super.mount(u)}}const xbe=one.length;function Yce(l){if(!l)return;if(!l.isControllingVariants){const p=l.parent?Yce(l.parent)||{}:{};return l.props.initial!==void 0&&(p.initial=l.props.initial),p}const u={};for(let p=0;p<xbe;p++){const x=one[p],A=l.props[x];(sB(A)||A===!1)&&(u[x]=A)}return u}function Xce(l,u){if(!Array.isArray(u))return!1;const p=u.length;if(p!==l.length)return!1;for(let x=0;x<p;x++)if(u[x]!==l[x])return!1;return!0}const wbe=[...nne].reverse(),Cbe=nne.length;function Sbe(l){return u=>Promise.all(u.map(({animation:p,options:x})=>R1e(l,p,x)))}function Ebe(l){let u=Sbe(l),p=Lse(),x=!0;const A=U=>(V,Y)=>{const ee=q3(l,Y,U==="exit"?l.presenceContext?.custom:void 0);if(ee){const{transition:fe,transitionEnd:Ce,...pe}=ee;V={...V,...pe,...Ce}}return V};function M(U){u=U(l)}function O(U){const{props:V}=l,Y=Yce(l.parent)||{},ee=[],fe=new Set;let Ce={},pe=1/0;for(let be=0;be<Cbe;be++){const ct=wbe[be],Oe=p[ct],J=V[ct]!==void 0?V[ct]:Y[ct],rt=sB(J),It=ct===U?Oe.isActive:null;It===!1&&(pe=be);let qe=J===Y[ct]&&J!==V[ct]&&rt;if(qe&&x&&l.manuallyAnimateOnMount&&(qe=!1),Oe.protectedKeys={...Ce},!Oe.isActive&&It===null||!J&&!Oe.prevProp||Tz(J)||typeof J=="boolean")continue;const ae=Tbe(Oe.prevProp,J);let lt=ae||ct===U&&Oe.isActive&&!qe&&rt||be>pe&&rt,En=!1;const dn=Array.isArray(J)?J:[J];let We=dn.reduce(A(ct),{});It===!1&&(We={});const{prevResolvedValues:Ne={}}=Oe,Jo={...Ne,...We},yt=zt=>{lt=!0,fe.has(zt)&&(En=!0,fe.delete(zt)),Oe.needsAnimating[zt]=!0;const at=l.getValue(zt);at&&(at.liveStyle=!1)};for(const zt in Jo){const at=We[zt],Jn=Ne[zt];if(Ce.hasOwnProperty(zt))continue;let an=!1;Wee(at)&&Wee(Jn)?an=!Xce(at,Jn):an=at!==Jn,an?at!=null?yt(zt):fe.add(zt):at!==void 0&&fe.has(zt)?yt(zt):Oe.protectedKeys[zt]=!0}Oe.prevProp=J,Oe.prevResolvedValues=We,Oe.isActive&&(Ce={...Ce,...We}),x&&l.blockInitialAnimation&&(lt=!1);const Mt=qe&&ae;lt&&(!Mt||En)&&ee.push(...dn.map(zt=>{const at={type:ct};if(typeof zt=="string"&&x&&!Mt&&l.manuallyAnimateOnMount&&l.parent){const{parent:Jn}=l,an=q3(Jn,zt);if(Jn.enteringChildren&&an){const{delayChildren:le}=an.transition||{};at.delay=xce(Jn.enteringChildren,l,le)}}return{animation:zt,options:at}}))}if(fe.size){const be={};if(typeof V.initial!="boolean"){const ct=q3(l,Array.isArray(V.initial)?V.initial[0]:V.initial);ct&&ct.transition&&(be.transition=ct.transition)}fe.forEach(ct=>{const Oe=l.getBaseTarget(ct),J=l.getValue(ct);J&&(J.liveStyle=!0),be[ct]=Oe??null}),ee.push({animation:be})}let $e=!!ee.length;return x&&(V.initial===!1||V.initial===V.animate)&&!l.manuallyAnimateOnMount&&($e=!1),x=!1,$e?u(ee):Promise.resolve()}function I(U,V){if(p[U].isActive===V)return Promise.resolve();l.variantChildren?.forEach(ee=>ee.animationState?.setActive(U,V)),p[U].isActive=V;const Y=O(U);for(const ee in p)p[ee].protectedKeys={};return Y}return{animateChanges:O,setActive:I,setAnimateFunction:M,getState:()=>p,reset:()=>{p=Lse()}}}function Tbe(l,u){return typeof u=="string"?u!==l:Array.isArray(u)?!Xce(u,l):!1}function CT(l=!1){return{isActive:l,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Lse(){return{animate:CT(!0),whileInView:CT(),whileHover:CT(),whileTap:CT(),whileDrag:CT(),whileFocus:CT(),exit:CT()}}const Qce=1e-4,Abe=1-Qce,kbe=1+Qce,Jce=.01,_be=0-Jce,Dbe=0+Jce;function hg(l){return l.max-l.min}function Obe(l,u,p){return Math.abs(l-u)<=p}function Fse(l,u,p,x=.5){l.origin=x,l.originPoint=wu(u.min,u.max,l.origin),l.scale=hg(p)/hg(u),l.translate=wu(p.min,p.max,l.origin)-l.originPoint,(l.scale>=Abe&&l.scale<=kbe||isNaN(l.scale))&&(l.scale=1),(l.translate>=_be&&l.translate<=Dbe||isNaN(l.translate))&&(l.translate=0)}function QM(l,u,p,x){Fse(l.x,u.x,p.x,x?x.originX:void 0),Fse(l.y,u.y,p.y,x?x.originY:void 0)}function Pse(l,u,p){l.min=p.min+u.min,l.max=l.min+hg(u)}function Nbe(l,u,p){Pse(l.x,u.x,p.x),Pse(l.y,u.y,p.y)}function $se(l,u,p){l.min=u.min-p.min,l.max=l.min+hg(u)}function cz(l,u,p){$se(l.x,u.x,p.x),$se(l.y,u.y,p.y)}function Ise(l,u,p,x,A){return l-=u,l=lz(l,1/p,x),A!==void 0&&(l=lz(l,1/A,x)),l}function Rbe(l,u=0,p=1,x=.5,A,M=l,O=l){if(Dv.test(u)&&(u=parseFloat(u),u=wu(O.min,O.max,u/100)-O.min),typeof u!="number")return;let I=wu(M.min,M.max,x);l===M&&(I-=u),l.min=Ise(l.min,u,p,I,A),l.max=Ise(l.max,u,p,I,A)}function Hse(l,u,[p,x,A],M,O){Rbe(l,u[p],u[x],u[A],u.scale,M,O)}const Mbe=["x","scaleX","originX"],Bbe=["y","scaleY","originY"];function zse(l,u,p,x){Hse(l.x,u,Mbe,p?p.x:void 0,x?x.x:void 0),Hse(l.y,u,Bbe,p?p.y:void 0,x?x.y:void 0)}function jse(l,u){l.min=u.min,l.max=u.max}function ly(l,u){jse(l.x,u.x),jse(l.y,u.y)}function Vse(l,u){l.translate=u.translate,l.scale=u.scale,l.originPoint=u.originPoint,l.origin=u.origin}function Use(l){return l.translate===0&&l.scale===1}function eue(l){return Use(l.x)&&Use(l.y)}function Zse(l,u){return l.min===u.min&&l.max===u.max}function Lbe(l,u){return Zse(l.x,u.x)&&Zse(l.y,u.y)}function Wse(l,u){return Math.round(l.min)===Math.round(u.min)&&Math.round(l.max)===Math.round(u.max)}function tue(l,u){return Wse(l.x,u.x)&&Wse(l.y,u.y)}function qse(l){return hg(l.x)/hg(l.y)}function Gse(l,u){return l.translate===u.translate&&l.scale===u.scale&&l.originPoint===u.originPoint}function P1(l){return[l("x"),l("y")]}function Fbe(l,u,p){let x="";const A=l.x.translate/u.x,M=l.y.translate/u.y,O=p?.z||0;if((A||M||O)&&(x=`translate3d(${A}px, ${M}px, ${O}px) `),(u.x!==1||u.y!==1)&&(x+=`scale(${1/u.x}, ${1/u.y}) `),p){const{transformPerspective:V,rotate:Y,rotateX:ee,rotateY:fe,skewX:Ce,skewY:pe}=p;V&&(x=`perspective(${V}px) ${x}`),Y&&(x+=`rotate(${Y}deg) `),ee&&(x+=`rotateX(${ee}deg) `),fe&&(x+=`rotateY(${fe}deg) `),Ce&&(x+=`skewX(${Ce}deg) `),pe&&(x+=`skewY(${pe}deg) `)}const I=l.x.scale*u.x,U=l.y.scale*u.y;return(I!==1||U!==1)&&(x+=`scale(${I}, ${U})`),x||"none"}const nue=["TopLeft","TopRight","BottomLeft","BottomRight"],Pbe=nue.length,Kse=l=>typeof l=="string"?parseFloat(l):l,Yse=l=>typeof l=="number"||os.test(l);function $be(l,u,p,x,A,M){A?(l.opacity=wu(0,p.opacity??1,Ibe(x)),l.opacityExit=wu(u.opacity??1,0,Hbe(x))):M&&(l.opacity=wu(u.opacity??1,p.opacity??1,x));for(let O=0;O<Pbe;O++){const I=`border${nue[O]}Radius`;let U=Xse(u,I),V=Xse(p,I);if(U===void 0&&V===void 0)continue;U||(U=0),V||(V=0),U===0||V===0||Yse(U)===Yse(V)?(l[I]=Math.max(wu(Kse(U),Kse(V),x),0),(Dv.test(V)||Dv.test(U))&&(l[I]+="%")):l[I]=V}(u.rotate||p.rotate)&&(l.rotate=wu(u.rotate||0,p.rotate||0,x))}function Xse(l,u){return l[u]!==void 0?l[u]:l.borderRadius}const Ibe=oue(0,.5,Yle),Hbe=oue(.5,.95,I1);function oue(l,u,p){return x=>x<l?0:x>u?1:p(tB(l,u,x))}function zbe(l,u){const p=mg.now(),x=({timestamp:A})=>{const M=A-p;M>=u&&(PC(x),l(M-u))};return _c.setup(x,!0),()=>PC(x)}function rB(l,u,p,x={passive:!0}){return l.addEventListener(u,p,x),()=>l.removeEventListener(u,p)}function ZH(l){return bh(l)?l.get():l}function jbe(l,u,p){const x=bh(l)?l:X3(l);return x.start(Yte("",x,u,p)),x.animation}const Vbe=(l,u)=>l.depth-u.depth;class Ube{constructor(){this.children=[],this.isDirty=!1}add(u){Mte(this.children,u),this.isDirty=!0}remove(u){Bte(this.children,u),this.isDirty=!0}forEach(u){this.isDirty&&this.children.sort(Vbe),this.isDirty=!1,this.children.forEach(u)}}class Zbe{constructor(){this.members=[]}add(u){Mte(this.members,u),u.scheduleRender()}remove(u){if(Bte(this.members,u),u===this.prevLead&&(this.prevLead=void 0),u===this.lead){const p=this.members[this.members.length-1];p&&this.promote(p)}}relegate(u){const p=this.members.findIndex(A=>u===A);if(p===0)return!1;let x;for(let A=p;A>=0;A--){const M=this.members[A];if(M.isPresent!==!1){x=M;break}}return x?(this.promote(x),!0):!1}promote(u,p){const x=this.lead;if(u!==x&&(this.prevLead=x,this.lead=u,u.show(),x)){x.instance&&x.scheduleRender(),u.scheduleRender(),u.resumeFrom=x,p&&(u.resumeFrom.preserveOpacity=!0),x.snapshot&&(u.snapshot=x.snapshot,u.snapshot.latestValues=x.animationValues||x.latestValues),u.root&&u.root.isUpdating&&(u.isLayoutDirty=!0);const{crossfade:A}=u.options;A===!1&&x.hide()}}exitAnimationComplete(){this.members.forEach(u=>{const{options:p,resumingFrom:x}=u;p.onExitComplete&&p.onExitComplete(),x&&x.options.onExitComplete&&x.options.onExitComplete()})}scheduleRender(){this.members.forEach(u=>{u.instance&&u.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const WH={hasAnimatedSinceResize:!0,hasEverUpdated:!1},uee=["","X","Y","Z"],Wbe=1e3;let qbe=0;function dee(l,u,p,x){const{latestValues:A}=u;A[l]&&(p[l]=A[l],u.setStaticValue(l,0),x&&(x[l]=0))}function sue(l){if(l.hasCheckedOptimisedAppear=!0,l.root===l)return;const{visualElement:u}=l.options;if(!u)return;const p=Sce(u);if(window.MotionHasOptimisedAnimation(p,"transform")){const{layout:A,layoutId:M}=l.options;window.MotionCancelOptimisedAnimation(p,"transform",_c,!(A||M))}const{parent:x}=l;x&&!x.hasCheckedOptimisedAppear&&sue(x)}function rue({attachResizeListener:l,defaultParent:u,measureScroll:p,checkIsScrollRoot:x,resetTransform:A}){return class{constructor(O={},I=u?.()){this.id=qbe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Ybe),this.nodes.forEach(eye),this.nodes.forEach(tye),this.nodes.forEach(Xbe)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=O,this.root=I?I.root||I:this,this.path=I?[...I.path,I]:[],this.parent=I,this.depth=I?I.depth+1:0;for(let U=0;U<this.path.length;U++)this.path[U].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ube)}addEventListener(O,I){return this.eventHandlers.has(O)||this.eventHandlers.set(O,new Pte),this.eventHandlers.get(O).add(I)}notifyListeners(O,...I){const U=this.eventHandlers.get(O);U&&U.notify(...I)}hasListeners(O){return this.eventHandlers.has(O)}mount(O){if(this.instance)return;this.isSVG=Lce(O)&&!K1e(O),this.instance=O;const{layoutId:I,layout:U,visualElement:V}=this.options;if(V&&!V.current&&V.mount(O),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(U||I)&&(this.isLayoutDirty=!0),l){let Y,ee=0;const fe=()=>this.root.updateBlockedByResize=!1;_c.read(()=>{ee=window.innerWidth}),l(O,()=>{const Ce=window.innerWidth;Ce!==ee&&(ee=Ce,this.root.updateBlockedByResize=!0,Y&&Y(),Y=zbe(fe,250),WH.hasAnimatedSinceResize&&(WH.hasAnimatedSinceResize=!1,this.nodes.forEach(ere)))})}I&&this.root.registerSharedNode(I,this),this.options.animate!==!1&&V&&(I||U)&&this.addEventListener("didUpdate",({delta:Y,hasLayoutChanged:ee,hasRelativeLayoutChanged:fe,layout:Ce})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const pe=this.options.transition||V.getDefaultTransition()||aye,{onLayoutAnimationStart:$e,onLayoutAnimationComplete:be}=V.getProps(),ct=!this.targetLayout||!tue(this.targetLayout,Ce),Oe=!ee&&fe;if(this.options.layoutRoot||this.resumeFrom||Oe||ee&&(ct||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const J={...Kte(pe,"layout"),onPlay:$e,onComplete:be};(V.shouldReduceMotion||this.options.layoutRoot)&&(J.delay=0,J.type=!1),this.startAnimation(J),this.setAnimationOrigin(Y,Oe)}else ee||ere(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=Ce})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const O=this.getStack();O&&O.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),PC(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nye),this.animationId++)}getTransformTemplate(){const{visualElement:O}=this.options;return O&&O.getProps().transformTemplate}willUpdate(O=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sue(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let Y=0;Y<this.path.length;Y++){const ee=this.path[Y];ee.shouldResetTransform=!0,ee.updateScroll("snapshot"),ee.options.layoutRoot&&ee.willUpdate(!1)}const{layoutId:I,layout:U}=this.options;if(I===void 0&&!U)return;const V=this.getTransformTemplate();this.prevTransformTemplateValue=V?V(this.latestValues,""):void 0,this.updateSnapshot(),O&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Qse);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Jse);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Jbe),this.nodes.forEach(Gbe),this.nodes.forEach(Kbe)):this.nodes.forEach(Jse),this.clearAllSnapshots();const I=mg.now();Dm.delta=Nv(0,1e3/60,I-Dm.timestamp),Dm.timestamp=I,Dm.isProcessing=!0,nee.update.process(Dm),nee.preRender.process(Dm),nee.render.process(Dm),Dm.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ene.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Qbe),this.sharedNodes.forEach(oye)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_c.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_c.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hg(this.snapshot.measuredBox.x)&&!hg(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let U=0;U<this.path.length;U++)this.path[U].updateScroll();const O=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Cf(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:I}=this.options;I&&I.notify("LayoutMeasure",this.layout.layoutBox,O?O.layoutBox:void 0)}updateScroll(O="measure"){let I=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===O&&(I=!1),I&&this.instance){const U=x(this.instance);this.scroll={animationId:this.root.animationId,phase:O,isRoot:U,offset:p(this.instance),wasRoot:this.scroll?this.scroll.isRoot:U}}}resetTransform(){if(!A)return;const O=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,I=this.projectionDelta&&!eue(this.projectionDelta),U=this.getTransformTemplate(),V=U?U(this.latestValues,""):void 0,Y=V!==this.prevTransformTemplateValue;O&&this.instance&&(I||ST(this.latestValues)||Y)&&(A(this.instance,V),this.shouldResetTransform=!1,this.scheduleRender())}measure(O=!0){const I=this.measurePageBox();let U=this.removeElementScroll(I);return O&&(U=this.removeTransform(U)),iye(U),{animationId:this.root.animationId,measuredBox:I,layoutBox:U,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:O}=this.options;if(!O)return Cf();const I=O.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(lye))){const{scroll:V}=this.root;V&&(V3(I.x,V.offset.x),V3(I.y,V.offset.y))}return I}removeElementScroll(O){const I=Cf();if(ly(I,O),this.scroll?.wasRoot)return I;for(let U=0;U<this.path.length;U++){const V=this.path[U],{scroll:Y,options:ee}=V;V!==this.root&&Y&&ee.layoutScroll&&(Y.wasRoot&&ly(I,O),V3(I.x,Y.offset.x),V3(I.y,Y.offset.y))}return I}applyTransform(O,I=!1){const U=Cf();ly(U,O);for(let V=0;V<this.path.length;V++){const Y=this.path[V];!I&&Y.options.layoutScroll&&Y.scroll&&Y!==Y.root&&U3(U,{x:-Y.scroll.offset.x,y:-Y.scroll.offset.y}),ST(Y.latestValues)&&U3(U,Y.latestValues)}return ST(this.latestValues)&&U3(U,this.latestValues),U}removeTransform(O){const I=Cf();ly(I,O);for(let U=0;U<this.path.length;U++){const V=this.path[U];if(!V.instance||!ST(V.latestValues))continue;Xee(V.latestValues)&&V.updateSnapshot();const Y=Cf(),ee=V.measurePageBox();ly(Y,ee),zse(I,V.latestValues,V.snapshot?V.snapshot.layoutBox:void 0,Y)}return ST(this.latestValues)&&zse(I,this.latestValues),I}setTargetDelta(O){this.targetDelta=O,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(O){this.options={...this.options,...O,crossfade:O.crossfade!==void 0?O.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dm.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(O=!1){const I=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=I.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=I.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=I.isSharedProjectionDirty);const U=!!this.resumingFrom||this!==I;if(!(O||U&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:Y,layoutId:ee}=this.options;if(!this.layout||!(Y||ee))return;this.resolvedRelativeTargetAt=Dm.timestamp;const fe=this.getClosestProjectingParent();fe&&this.linkedParentVersion!==fe.layoutVersion&&!fe.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(fe&&fe.layout?this.createRelativeTarget(fe,this.layout.layoutBox,fe.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Cf(),this.targetWithTransforms=Cf()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Nbe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ly(this.target,this.layout.layoutBox),jce(this.target,this.targetDelta)):ly(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,fe&&!!fe.resumingFrom==!!this.resumingFrom&&!fe.options.layoutScroll&&fe.target&&this.animationProgress!==1?this.createRelativeTarget(fe,this.target,fe.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Xee(this.parent.latestValues)||zce(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(O,I,U){this.relativeParent=O,this.linkedParentVersion=O.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cf(),this.relativeTargetOrigin=Cf(),cz(this.relativeTargetOrigin,I,U),ly(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const O=this.getLead(),I=!!this.resumingFrom||this!==O;let U=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(U=!1),I&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(U=!1),this.resolvedRelativeTargetAt===Dm.timestamp&&(U=!1),U)return;const{layout:V,layoutId:Y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(V||Y))return;ly(this.layoutCorrected,this.layout.layoutBox);const ee=this.treeScale.x,fe=this.treeScale.y;abe(this.layoutCorrected,this.treeScale,this.path,I),O.layout&&!O.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(O.target=O.layout.layoutBox,O.targetWithTransforms=Cf());const{target:Ce}=O;if(!Ce){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Vse(this.prevProjectionDelta.x,this.projectionDelta.x),Vse(this.prevProjectionDelta.y,this.projectionDelta.y)),QM(this.projectionDelta,this.layoutCorrected,Ce,this.latestValues),(this.treeScale.x!==ee||this.treeScale.y!==fe||!Gse(this.projectionDelta.x,this.prevProjectionDelta.x)||!Gse(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",Ce))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(O=!0){if(this.options.visualElement?.scheduleRender(),O){const I=this.getStack();I&&I.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=j3(),this.projectionDelta=j3(),this.projectionDeltaWithTransform=j3()}setAnimationOrigin(O,I=!1){const U=this.snapshot,V=U?U.latestValues:{},Y={...this.latestValues},ee=j3();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!I;const fe=Cf(),Ce=U?U.source:void 0,pe=this.layout?this.layout.source:void 0,$e=Ce!==pe,be=this.getStack(),ct=!be||be.members.length<=1,Oe=!!($e&&!ct&&this.options.crossfade===!0&&!this.path.some(rye));this.animationProgress=0;let J;this.mixTargetDelta=rt=>{const It=rt/1e3;tre(ee.x,O.x,It),tre(ee.y,O.y,It),this.setTargetDelta(ee),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cz(fe,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sye(this.relativeTarget,this.relativeTargetOrigin,fe,It),J&&Lbe(this.relativeTarget,J)&&(this.isProjectionDirty=!1),J||(J=Cf()),ly(J,this.relativeTarget)),$e&&(this.animationValues=Y,$be(Y,V,this.latestValues,It,Oe,ct)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=It},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(O){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(PC(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_c.update(()=>{WH.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=X3(0)),this.currentAnimation=jbe(this.motionValue,[0,1e3],{...O,velocity:0,isSync:!0,onUpdate:I=>{this.mixTargetDelta(I),O.onUpdate&&O.onUpdate(I)},onStop:()=>{},onComplete:()=>{O.onComplete&&O.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const O=this.getStack();O&&O.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Wbe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const O=this.getLead();let{targetWithTransforms:I,target:U,layout:V,latestValues:Y}=O;if(!(!I||!U||!V)){if(this!==O&&this.layout&&V&&aue(this.options.animationType,this.layout.layoutBox,V.layoutBox)){U=this.target||Cf();const ee=hg(this.layout.layoutBox.x);U.x.min=O.target.x.min,U.x.max=U.x.min+ee;const fe=hg(this.layout.layoutBox.y);U.y.min=O.target.y.min,U.y.max=U.y.min+fe}ly(I,U),U3(I,Y),QM(this.projectionDeltaWithTransform,this.layoutCorrected,I,Y)}}registerSharedNode(O,I){this.sharedNodes.has(O)||this.sharedNodes.set(O,new Zbe),this.sharedNodes.get(O).add(I);const V=I.options.initialPromotionConfig;I.promote({transition:V?V.transition:void 0,preserveFollowOpacity:V&&V.shouldPreserveFollowOpacity?V.shouldPreserveFollowOpacity(I):void 0})}isLead(){const O=this.getStack();return O?O.lead===this:!0}getLead(){const{layoutId:O}=this.options;return O?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:O}=this.options;return O?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:O}=this.options;if(O)return this.root.sharedNodes.get(O)}promote({needsReset:O,transition:I,preserveFollowOpacity:U}={}){const V=this.getStack();V&&V.promote(this,U),O&&(this.projectionDelta=void 0,this.needsReset=!0),I&&this.setOptions({transition:I})}relegate(){const O=this.getStack();return O?O.relegate(this):!1}resetSkewAndRotation(){const{visualElement:O}=this.options;if(!O)return;let I=!1;const{latestValues:U}=O;if((U.z||U.rotate||U.rotateX||U.rotateY||U.rotateZ||U.skewX||U.skewY)&&(I=!0),!I)return;const V={};U.z&&dee("z",O,V,this.animationValues);for(let Y=0;Y<uee.length;Y++)dee(`rotate${uee[Y]}`,O,V,this.animationValues),dee(`skew${uee[Y]}`,O,V,this.animationValues);O.render();for(const Y in V)O.setStaticValue(Y,V[Y]),this.animationValues&&(this.animationValues[Y]=V[Y]);O.scheduleRender()}applyProjectionStyles(O,I){if(!this.instance||this.isSVG)return;if(!this.isVisible){O.visibility="hidden";return}const U=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,O.visibility="",O.opacity="",O.pointerEvents=ZH(I?.pointerEvents)||"",O.transform=U?U(this.latestValues,""):"none";return}const V=this.getLead();if(!this.projectionDelta||!this.layout||!V.target){this.options.layoutId&&(O.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,O.pointerEvents=ZH(I?.pointerEvents)||""),this.hasProjected&&!ST(this.latestValues)&&(O.transform=U?U({},""):"none",this.hasProjected=!1);return}O.visibility="";const Y=V.animationValues||V.latestValues;this.applyTransformsToTarget();let ee=Fbe(this.projectionDeltaWithTransform,this.treeScale,Y);U&&(ee=U(Y,ee)),O.transform=ee;const{x:fe,y:Ce}=this.projectionDelta;O.transformOrigin=`${fe.origin*100}% ${Ce.origin*100}% 0`,V.animationValues?O.opacity=V===this?Y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:Y.opacityExit:O.opacity=V===this?Y.opacity!==void 0?Y.opacity:"":Y.opacityExit!==void 0?Y.opacityExit:0;for(const pe in Jee){if(Y[pe]===void 0)continue;const{correct:$e,applyTo:be,isCSSVariable:ct}=Jee[pe],Oe=ee==="none"?Y[pe]:$e(Y[pe],V);if(be){const J=be.length;for(let rt=0;rt<J;rt++)O[be[rt]]=Oe}else ct?this.options.visualElement.renderState.vars[pe]=Oe:O[pe]=Oe}this.options.layoutId&&(O.pointerEvents=V===this?ZH(I?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(O=>O.currentAnimation?.stop()),this.root.nodes.forEach(Qse),this.root.sharedNodes.clear()}}}function Gbe(l){l.updateLayout()}function Kbe(l){const u=l.resumeFrom?.snapshot||l.snapshot;if(l.isLead()&&l.layout&&u&&l.hasListeners("didUpdate")){const{layoutBox:p,measuredBox:x}=l.layout,{animationType:A}=l.options,M=u.source!==l.layout.source;A==="size"?P1(Y=>{const ee=M?u.measuredBox[Y]:u.layoutBox[Y],fe=hg(ee);ee.min=p[Y].min,ee.max=ee.min+fe}):aue(A,u.layoutBox,p)&&P1(Y=>{const ee=M?u.measuredBox[Y]:u.layoutBox[Y],fe=hg(p[Y]);ee.max=ee.min+fe,l.relativeTarget&&!l.currentAnimation&&(l.isProjectionDirty=!0,l.relativeTarget[Y].max=l.relativeTarget[Y].min+fe)});const O=j3();QM(O,p,u.layoutBox);const I=j3();M?QM(I,l.applyTransform(x,!0),u.measuredBox):QM(I,p,u.layoutBox);const U=!eue(O);let V=!1;if(!l.resumeFrom){const Y=l.getClosestProjectingParent();if(Y&&!Y.resumeFrom){const{snapshot:ee,layout:fe}=Y;if(ee&&fe){const Ce=Cf();cz(Ce,u.layoutBox,ee.layoutBox);const pe=Cf();cz(pe,p,fe.layoutBox),tue(Ce,pe)||(V=!0),Y.options.layoutRoot&&(l.relativeTarget=pe,l.relativeTargetOrigin=Ce,l.relativeParent=Y)}}}l.notifyListeners("didUpdate",{layout:p,snapshot:u,delta:I,layoutDelta:O,hasLayoutChanged:U,hasRelativeLayoutChanged:V})}else if(l.isLead()){const{onExitComplete:p}=l.options;p&&p()}l.options.transition=void 0}function Ybe(l){l.parent&&(l.isProjecting()||(l.isProjectionDirty=l.parent.isProjectionDirty),l.isSharedProjectionDirty||(l.isSharedProjectionDirty=!!(l.isProjectionDirty||l.parent.isProjectionDirty||l.parent.isSharedProjectionDirty)),l.isTransformDirty||(l.isTransformDirty=l.parent.isTransformDirty))}function Xbe(l){l.isProjectionDirty=l.isSharedProjectionDirty=l.isTransformDirty=!1}function Qbe(l){l.clearSnapshot()}function Qse(l){l.clearMeasurements()}function Jse(l){l.isLayoutDirty=!1}function Jbe(l){const{visualElement:u}=l.options;u&&u.getProps().onBeforeLayoutMeasure&&u.notify("BeforeLayoutMeasure"),l.resetTransform()}function ere(l){l.finishAnimation(),l.targetDelta=l.relativeTarget=l.target=void 0,l.isProjectionDirty=!0}function eye(l){l.resolveTargetDelta()}function tye(l){l.calcProjection()}function nye(l){l.resetSkewAndRotation()}function oye(l){l.removeLeadSnapshot()}function tre(l,u,p){l.translate=wu(u.translate,0,p),l.scale=wu(u.scale,1,p),l.origin=u.origin,l.originPoint=u.originPoint}function nre(l,u,p,x){l.min=wu(u.min,p.min,x),l.max=wu(u.max,p.max,x)}function sye(l,u,p,x){nre(l.x,u.x,p.x,x),nre(l.y,u.y,p.y,x)}function rye(l){return l.animationValues&&l.animationValues.opacityExit!==void 0}const aye={duration:.45,ease:[.4,0,.1,1]},ore=l=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(l),sre=ore("applewebkit/")&&!ore("chrome/")?Math.round:I1;function rre(l){l.min=sre(l.min),l.max=sre(l.max)}function iye(l){rre(l.x),rre(l.y)}function aue(l,u,p){return l==="position"||l==="preserve-aspect"&&!Obe(qse(u),qse(p),.2)}function lye(l){return l!==l.root&&l.scroll?.wasRoot}const cye=rue({attachResizeListener:(l,u)=>rB(l,"resize",u),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fee={current:void 0},iue=rue({measureScroll:l=>({x:l.scrollLeft,y:l.scrollTop}),defaultParent:()=>{if(!fee.current){const l=new cye({});l.mount(window),l.setOptions({layoutScroll:!0}),fee.current=l}return fee.current},resetTransform:(l,u)=>{l.style.transform=u!==void 0?u:"none"},checkIsScrollRoot:l=>window.getComputedStyle(l).position==="fixed"}),ane=ze.createContext({transformPagePoint:l=>l,isStatic:!1,reducedMotion:"never"});function are(l,u){if(typeof l=="function")return l(u);l!=null&&(l.current=u)}function uye(...l){return u=>{let p=!1;const x=l.map(A=>{const M=are(A,u);return!p&&typeof M=="function"&&(p=!0),M});if(p)return()=>{for(let A=0;A<x.length;A++){const M=x[A];typeof M=="function"?M():are(l[A],null)}}}}function dye(...l){return ze.useCallback(uye(...l),l)}class fye extends ze.Component{getSnapshotBeforeUpdate(u){const p=this.props.childRef.current;if(p&&u.isPresent&&!this.props.isPresent){const x=p.offsetParent,A=Oce(x)&&x.offsetWidth||0,M=this.props.sizeRef.current;M.height=p.offsetHeight||0,M.width=p.offsetWidth||0,M.top=p.offsetTop,M.left=p.offsetLeft,M.right=A-M.width-M.left}return null}componentDidUpdate(){}render(){return this.props.children}}function mye({children:l,isPresent:u,anchorX:p,root:x}){const A=ze.useId(),M=ze.useRef(null),O=ze.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:I}=ze.useContext(ane),U=l.props?.ref??l?.ref,V=dye(M,U);return ze.useInsertionEffect(()=>{const{width:Y,height:ee,top:fe,left:Ce,right:pe}=O.current;if(u||!M.current||!Y||!ee)return;const $e=p==="left"?`left: ${Ce}`:`right: ${pe}`;M.current.dataset.motionPopId=A;const be=document.createElement("style");I&&(be.nonce=I);const ct=x??document.head;return ct.appendChild(be),be.sheet&&be.sheet.insertRule(`
          [data-motion-pop-id="${A}"] {
            position: absolute !important;
            width: ${Y}px !important;
            height: ${ee}px !important;
            ${$e}px !important;
            top: ${fe}px !important;
          }
        `),()=>{ct.contains(be)&&ct.removeChild(be)}},[u]),N.jsx(fye,{isPresent:u,childRef:M,sizeRef:O,children:ze.cloneElement(l,{ref:V})})}const hye=({children:l,initial:u,isPresent:p,onExitComplete:x,custom:A,presenceAffectsLayout:M,mode:O,anchorX:I,root:U})=>{const V=Rte(gye),Y=ze.useId();let ee=!0,fe=ze.useMemo(()=>(ee=!1,{id:Y,initial:u,isPresent:p,custom:A,onExitComplete:Ce=>{V.set(Ce,!0);for(const pe of V.values())if(!pe)return;x&&x()},register:Ce=>(V.set(Ce,!1),()=>V.delete(Ce))}),[p,V,x]);return M&&ee&&(fe={...fe}),ze.useMemo(()=>{V.forEach((Ce,pe)=>V.set(pe,!1))},[p]),ze.useEffect(()=>{!p&&!V.size&&x&&x()},[p]),O==="popLayout"&&(l=N.jsx(mye,{isPresent:p,anchorX:I,root:U,children:l})),N.jsx(Ez.Provider,{value:fe,children:l})};function gye(){return new Map}function lue(l=!0){const u=ze.useContext(Ez);if(u===null)return[!0,null];const{isPresent:p,onExitComplete:x,register:A}=u,M=ze.useId();ze.useEffect(()=>{if(l)return A(M)},[l]);const O=ze.useCallback(()=>l&&x&&x(M),[M,x,l]);return!p&&x?[!1,O]:[!0]}const FH=l=>l.key||"";function ire(l){const u=[];return ze.Children.forEach(l,p=>{ze.isValidElement(p)&&u.push(p)}),u}const HC=({children:l,custom:u,initial:p=!0,onExitComplete:x,presenceAffectsLayout:A=!0,mode:M="sync",propagate:O=!1,anchorX:I="left",root:U})=>{const[V,Y]=lue(O),ee=ze.useMemo(()=>ire(l),[l]),fe=O&&!V?[]:ee.map(FH),Ce=ze.useRef(!0),pe=ze.useRef(ee),$e=Rte(()=>new Map),be=ze.useRef(new Set),[ct,Oe]=ze.useState(ee),[J,rt]=ze.useState(ee);Ile(()=>{Ce.current=!1,pe.current=ee;for(let ae=0;ae<J.length;ae++){const lt=FH(J[ae]);fe.includes(lt)?($e.delete(lt),be.current.delete(lt)):$e.get(lt)!==!0&&$e.set(lt,!1)}},[J,fe.length,fe.join("-")]);const It=[];if(ee!==ct){let ae=[...ee];for(let lt=0;lt<J.length;lt++){const En=J[lt],dn=FH(En);fe.includes(dn)||(ae.splice(lt,0,En),It.push(En))}return M==="wait"&&It.length&&(ae=It),rt(ire(ae)),Oe(ee),null}const{forceRender:qe}=ze.useContext(Nte);return N.jsx(N.Fragment,{children:J.map(ae=>{const lt=FH(ae),En=O&&!V?!1:ee===J||fe.includes(lt),dn=()=>{if(be.current.has(lt))return;if(be.current.add(lt),$e.has(lt))$e.set(lt,!0);else return;let We=!0;$e.forEach(Ne=>{Ne||(We=!1)}),We&&(qe?.(),rt(pe.current),O&&Y?.(),x&&x())};return N.jsx(hye,{isPresent:En,initial:!Ce.current||p?void 0:!1,custom:u,presenceAffectsLayout:A,mode:M,root:U,onExitComplete:En?void 0:dn,anchorX:I,children:ae},lt)})})},cue=ze.createContext({strict:!1}),lre={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let cre=!1;function pye(){if(cre)return;const l={};for(const u in lre)l[u]={isEnabled:p=>lre[u].some(x=>!!p[x])};$ce(l),cre=!0}function uue(){return pye(),nbe()}function bye(l){const u=uue();for(const p in l)u[p]={...u[p],...l[p]};$ce(u)}const yye=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function uz(l){return l.startsWith("while")||l.startsWith("drag")&&l!=="draggable"||l.startsWith("layout")||l.startsWith("onTap")||l.startsWith("onPan")||l.startsWith("onLayout")||yye.has(l)}let due=l=>!uz(l);function vye(l){typeof l=="function"&&(due=u=>u.startsWith("on")?!uz(u):l(u))}try{vye(require("@emotion/is-prop-valid").default)}catch{}function xye(l,u,p){const x={};for(const A in l)A==="values"&&typeof l.values=="object"||(due(A)||p===!0&&uz(A)||!u&&!uz(A)||l.draggable&&A.startsWith("onDrag"))&&(x[A]=l[A]);return x}const kz=ze.createContext({});function wye(l,u){if(Az(l)){const{initial:p,animate:x}=l;return{initial:p===!1||sB(p)?p:void 0,animate:sB(x)?x:void 0}}return l.inherit!==!1?u:{}}function Cye(l){const{initial:u,animate:p}=wye(l,ze.useContext(kz));return ze.useMemo(()=>({initial:u,animate:p}),[ure(u),ure(p)])}function ure(l){return Array.isArray(l)?l.join(" "):l}const ine=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fue(l,u,p){for(const x in u)!bh(u[x])&&!Zce(x,p)&&(l[x]=u[x])}function Sye({transformTemplate:l},u){return ze.useMemo(()=>{const p=ine();return sne(p,u,l),Object.assign({},p.vars,p.style)},[u])}function Eye(l,u){const p=l.style||{},x={};return fue(x,p,l),Object.assign(x,Sye(l,u)),x}function Tye(l,u){const p={},x=Eye(l,u);return l.drag&&l.dragListener!==!1&&(p.draggable=!1,x.userSelect=x.WebkitUserSelect=x.WebkitTouchCallout="none",x.touchAction=l.drag===!0?"none":`pan-${l.drag==="x"?"y":"x"}`),l.tabIndex===void 0&&(l.onTap||l.onTapStart||l.whileTap)&&(p.tabIndex=0),p.style=x,p}const mue=()=>({...ine(),attrs:{}});function Aye(l,u,p,x){const A=ze.useMemo(()=>{const M=mue();return Wce(M,u,Gce(x),l.transformTemplate,l.style),{...M.attrs,style:{...M.style}}},[u]);if(l.style){const M={};fue(M,l.style,l),A.style={...M,...A.style}}return A}const kye=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lne(l){return typeof l!="string"||l.includes("-")?!1:!!(kye.indexOf(l)>-1||/[A-Z]/u.test(l))}function _ye(l,u,p,{latestValues:x},A,M=!1,O){const U=(O??lne(l)?Aye:Tye)(u,x,A,l),V=xye(u,typeof l=="string",M),Y=l!==ze.Fragment?{...V,...U,ref:p}:{},{children:ee}=u,fe=ze.useMemo(()=>bh(ee)?ee.get():ee,[ee]);return ze.createElement(l,{...Y,children:fe})}function Dye({scrapeMotionValuesFromProps:l,createRenderState:u},p,x,A){return{latestValues:Oye(p,x,A,l),renderState:u()}}function Oye(l,u,p,x){const A={},M=x(l,{});for(const fe in M)A[fe]=ZH(M[fe]);let{initial:O,animate:I}=l;const U=Az(l),V=Pce(l);u&&V&&!U&&l.inherit!==!1&&(O===void 0&&(O=u.initial),I===void 0&&(I=u.animate));let Y=p?p.initial===!1:!1;Y=Y||O===!1;const ee=Y?I:O;if(ee&&typeof ee!="boolean"&&!Tz(ee)){const fe=Array.isArray(ee)?ee:[ee];for(let Ce=0;Ce<fe.length;Ce++){const pe=Xte(l,fe[Ce]);if(pe){const{transitionEnd:$e,transition:be,...ct}=pe;for(const Oe in ct){let J=ct[Oe];if(Array.isArray(J)){const rt=Y?J.length-1:0;J=J[rt]}J!==null&&(A[Oe]=J)}for(const Oe in $e)A[Oe]=$e[Oe]}}}return A}const hue=l=>(u,p)=>{const x=ze.useContext(kz),A=ze.useContext(Ez),M=()=>Dye(l,u,x,A);return p?M():Rte(M)},Nye=hue({scrapeMotionValuesFromProps:rne,createRenderState:ine}),Rye=hue({scrapeMotionValuesFromProps:Kce,createRenderState:mue}),Mye=Symbol.for("motionComponentSymbol");function Bye(l,u,p){const x=ze.useRef(p);ze.useInsertionEffect(()=>{x.current=p});const A=ze.useRef(null);return ze.useCallback(M=>{M&&l.onMount?.(M),u&&(M?u.mount(M):u.unmount());const O=x.current;if(typeof O=="function")if(M){const I=O(M);typeof I=="function"&&(A.current=I)}else A.current?(A.current(),A.current=null):O(M);else O&&(O.current=M)},[u])}const gue=ze.createContext({});function KM(l){return l&&typeof l=="object"&&Object.prototype.hasOwnProperty.call(l,"current")}function Lye(l,u,p,x,A,M){const{visualElement:O}=ze.useContext(kz),I=ze.useContext(cue),U=ze.useContext(Ez),V=ze.useContext(ane).reducedMotion,Y=ze.useRef(null);x=x||I.renderer,!Y.current&&x&&(Y.current=x(l,{visualState:u,parent:O,props:p,presenceContext:U,blockInitialAnimation:U?U.initial===!1:!1,reducedMotionConfig:V,isSVG:M}));const ee=Y.current,fe=ze.useContext(gue);ee&&!ee.projection&&A&&(ee.type==="html"||ee.type==="svg")&&Fye(Y.current,p,A,fe);const Ce=ze.useRef(!1);ze.useInsertionEffect(()=>{ee&&Ce.current&&ee.update(p,U)});const pe=p[Cce],$e=ze.useRef(!!pe&&!window.MotionHandoffIsComplete?.(pe)&&window.MotionHasOptimisedAnimation?.(pe));return Ile(()=>{ee&&(Ce.current=!0,window.MotionIsMounted=!0,ee.updateFeatures(),ee.scheduleRenderMicrotask(),$e.current&&ee.animationState&&ee.animationState.animateChanges())}),ze.useEffect(()=>{ee&&(!$e.current&&ee.animationState&&ee.animationState.animateChanges(),$e.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(pe)}),$e.current=!1),ee.enteringChildren=void 0)}),ee}function Fye(l,u,p,x){const{layoutId:A,layout:M,drag:O,dragConstraints:I,layoutScroll:U,layoutRoot:V,layoutCrossfade:Y}=u;l.projection=new p(l.latestValues,u["data-framer-portal-id"]?void 0:pue(l.parent)),l.projection.setOptions({layoutId:A,layout:M,alwaysMeasureLayout:!!O||I&&KM(I),visualElement:l,animationType:typeof M=="string"?M:"both",initialPromotionConfig:x,crossfade:Y,layoutScroll:U,layoutRoot:V})}function pue(l){if(l)return l.options.allowProjection!==!1?l.projection:pue(l.parent)}function mee(l,{forwardMotionProps:u=!1,type:p}={},x,A){x&&bye(x);const M=p?p==="svg":lne(l),O=M?Rye:Nye;function I(V,Y){let ee;const fe={...ze.useContext(ane),...V,layoutId:Pye(V)},{isStatic:Ce}=fe,pe=Cye(V),$e=O(V,Ce);if(!Ce&&$le){$ye();const be=Iye(fe);ee=be.MeasureLayout,pe.visualElement=Lye(l,$e,fe,A,be.ProjectionNode,M)}return N.jsxs(kz.Provider,{value:pe,children:[ee&&pe.visualElement?N.jsx(ee,{visualElement:pe.visualElement,...fe}):null,_ye(l,V,Bye($e,pe.visualElement,Y),$e,Ce,u,M)]})}I.displayName=`motion.${typeof l=="string"?l:`create(${l.displayName??l.name??""})`}`;const U=ze.forwardRef(I);return U[Mye]=l,U}function Pye({layoutId:l}){const u=ze.useContext(Nte).id;return u&&l!==void 0?u+"-"+l:l}function $ye(l,u){ze.useContext(cue).strict}function Iye(l){const u=uue(),{drag:p,layout:x}=u;if(!p&&!x)return{};const A={...p,...x};return{MeasureLayout:p?.isEnabled(l)||x?.isEnabled(l)?A.MeasureLayout:void 0,ProjectionNode:A.ProjectionNode}}function Hye(l,u){if(typeof Proxy>"u")return mee;const p=new Map,x=(M,O)=>mee(M,O,l,u),A=(M,O)=>x(M,O);return new Proxy(A,{get:(M,O)=>O==="create"?x:(p.has(O)||p.set(O,mee(O,void 0,l,u)),p.get(O))})}const zye=(l,u)=>u.isSVG??lne(l)?new vbe(u):new mbe(u,{allowProjection:l!==ze.Fragment});class jye extends IC{constructor(u){super(u),u.animationState||(u.animationState=Ebe(u))}updateAnimationControlsSubscription(){const{animate:u}=this.node.getProps();Tz(u)&&(this.unmountControls=u.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:u}=this.node.getProps(),{animate:p}=this.node.prevProps||{};u!==p&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Vye=0;class Uye extends IC{constructor(){super(...arguments),this.id=Vye++}update(){if(!this.node.presenceContext)return;const{isPresent:u,onExitComplete:p}=this.node.presenceContext,{isPresent:x}=this.node.prevPresenceContext||{};if(!this.node.animationState||u===x)return;const A=this.node.animationState.setActive("exit",!u);p&&!u&&A.then(()=>{p(this.id)})}mount(){const{register:u,onExitComplete:p}=this.node.presenceContext||{};p&&p(this.id),u&&(this.unmount=u(this.id))}unmount(){}}const Zye={animation:{Feature:jye},exit:{Feature:Uye}};function wB(l){return{point:{x:l.pageX,y:l.pageY}}}const Wye=l=>u=>tne(u)&&l(u,wB(u));function JM(l,u,p,x){return rB(l,u,Wye(p),x)}const bue=({current:l})=>l?l.ownerDocument.defaultView:null,dre=(l,u)=>Math.abs(l-u);function qye(l,u){const p=dre(l.x,u.x),x=dre(l.y,u.y);return Math.sqrt(p**2+x**2)}const fre=new Set(["auto","scroll"]);class yue{constructor(u,p,{transformPagePoint:x,contextWindow:A=window,dragSnapToOrigin:M=!1,distanceThreshold:O=3,element:I}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=Ce=>{this.handleScroll(Ce.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Ce=gee(this.lastMoveEventInfo,this.history),pe=this.startEvent!==null,$e=qye(Ce.offset,{x:0,y:0})>=this.distanceThreshold;if(!pe&&!$e)return;const{point:be}=Ce,{timestamp:ct}=Dm;this.history.push({...be,timestamp:ct});const{onStart:Oe,onMove:J}=this.handlers;pe||(Oe&&Oe(this.lastMoveEvent,Ce),this.startEvent=this.lastMoveEvent),J&&J(this.lastMoveEvent,Ce)},this.handlePointerMove=(Ce,pe)=>{this.lastMoveEvent=Ce,this.lastMoveEventInfo=hee(pe,this.transformPagePoint),_c.update(this.updatePoint,!0)},this.handlePointerUp=(Ce,pe)=>{this.end();const{onEnd:$e,onSessionEnd:be,resumeAnimation:ct}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&ct&&ct(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Oe=gee(Ce.type==="pointercancel"?this.lastMoveEventInfo:hee(pe,this.transformPagePoint),this.history);this.startEvent&&$e&&$e(Ce,Oe),be&&be(Ce,Oe)},!tne(u))return;this.dragSnapToOrigin=M,this.handlers=p,this.transformPagePoint=x,this.distanceThreshold=O,this.contextWindow=A||window;const U=wB(u),V=hee(U,this.transformPagePoint),{point:Y}=V,{timestamp:ee}=Dm;this.history=[{...Y,timestamp:ee}];const{onSessionStart:fe}=p;fe&&fe(u,gee(V,this.history)),this.removeListeners=yB(JM(this.contextWindow,"pointermove",this.handlePointerMove),JM(this.contextWindow,"pointerup",this.handlePointerUp),JM(this.contextWindow,"pointercancel",this.handlePointerUp)),I&&this.startScrollTracking(I)}startScrollTracking(u){let p=u.parentElement;for(;p;){const x=getComputedStyle(p);(fre.has(x.overflowX)||fre.has(x.overflowY))&&this.scrollPositions.set(p,{x:p.scrollLeft,y:p.scrollTop}),p=p.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(u){const p=this.scrollPositions.get(u);if(!p)return;const x=u===window,A=x?{x:window.scrollX,y:window.scrollY}:{x:u.scrollLeft,y:u.scrollTop},M={x:A.x-p.x,y:A.y-p.y};M.x===0&&M.y===0||(x?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=M.x,this.lastMoveEventInfo.point.y+=M.y):this.history.length>0&&(this.history[0].x-=M.x,this.history[0].y-=M.y),this.scrollPositions.set(u,A),_c.update(this.updatePoint,!0))}updateHandlers(u){this.handlers=u}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),PC(this.updatePoint)}}function hee(l,u){return u?{point:u(l.point)}:l}function mre(l,u){return{x:l.x-u.x,y:l.y-u.y}}function gee({point:l},u){return{point:l,delta:mre(l,vue(u)),offset:mre(l,Gye(u)),velocity:Kye(u,.1)}}function Gye(l){return l[0]}function vue(l){return l[l.length-1]}function Kye(l,u){if(l.length<2)return{x:0,y:0};let p=l.length-1,x=null;const A=vue(l);for(;p>=0&&(x=l[p],!(A.timestamp-x.timestamp>x2(u)));)p--;if(!x)return{x:0,y:0};const M=$1(A.timestamp-x.timestamp);if(M===0)return{x:0,y:0};const O={x:(A.x-x.x)/M,y:(A.y-x.y)/M};return O.x===1/0&&(O.x=0),O.y===1/0&&(O.y=0),O}function Yye(l,{min:u,max:p},x){return u!==void 0&&l<u?l=x?wu(u,l,x.min):Math.max(l,u):p!==void 0&&l>p&&(l=x?wu(p,l,x.max):Math.min(l,p)),l}function hre(l,u,p){return{min:u!==void 0?l.min+u:void 0,max:p!==void 0?l.max+p-(l.max-l.min):void 0}}function Xye(l,{top:u,left:p,bottom:x,right:A}){return{x:hre(l.x,p,A),y:hre(l.y,u,x)}}function gre(l,u){let p=u.min-l.min,x=u.max-l.max;return u.max-u.min<l.max-l.min&&([p,x]=[x,p]),{min:p,max:x}}function Qye(l,u){return{x:gre(l.x,u.x),y:gre(l.y,u.y)}}function Jye(l,u){let p=.5;const x=hg(l),A=hg(u);return A>x?p=tB(u.min,u.max-x,l.min):x>A&&(p=tB(l.min,l.max-A,u.min)),Nv(0,1,p)}function eve(l,u){const p={};return u.min!==void 0&&(p.min=u.min-l.min),u.max!==void 0&&(p.max=u.max-l.min),p}const ete=.35;function tve(l=ete){return l===!1?l=0:l===!0&&(l=ete),{x:pre(l,"left","right"),y:pre(l,"top","bottom")}}function pre(l,u,p){return{min:bre(l,u),max:bre(l,p)}}function bre(l,u){return typeof l=="number"?l:l[u]||0}const nve=new WeakMap;class ove{constructor(u){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Cf(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=u}start(u,{snapToCursor:p=!1,distanceThreshold:x}={}){const{presenceContext:A}=this.visualElement;if(A&&A.isPresent===!1)return;const M=ee=>{p?(this.stopAnimation(),this.snapToCursor(wB(ee).point)):this.pauseAnimation()},O=(ee,fe)=>{this.stopAnimation();const{drag:Ce,dragPropagation:pe,onDragStart:$e}=this.getProps();if(Ce&&!pe&&(this.openDragLock&&this.openDragLock(),this.openDragLock=U1e(Ce),!this.openDragLock))return;this.latestPointerEvent=ee,this.latestPanInfo=fe,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),P1(ct=>{let Oe=this.getAxisMotionValue(ct).get()||0;if(Dv.test(Oe)){const{projection:J}=this.visualElement;if(J&&J.layout){const rt=J.layout.layoutBox[ct];rt&&(Oe=hg(rt)*(parseFloat(Oe)/100))}}this.originPoint[ct]=Oe}),$e&&_c.postRender(()=>$e(ee,fe)),qee(this.visualElement,"transform");const{animationState:be}=this.visualElement;be&&be.setActive("whileDrag",!0)},I=(ee,fe)=>{this.latestPointerEvent=ee,this.latestPanInfo=fe;const{dragPropagation:Ce,dragDirectionLock:pe,onDirectionLock:$e,onDrag:be}=this.getProps();if(!Ce&&!this.openDragLock)return;const{offset:ct}=fe;if(pe&&this.currentDirection===null){this.currentDirection=sve(ct),this.currentDirection!==null&&$e&&$e(this.currentDirection);return}this.updateAxis("x",fe.point,ct),this.updateAxis("y",fe.point,ct),this.visualElement.render(),be&&be(ee,fe)},U=(ee,fe)=>{this.latestPointerEvent=ee,this.latestPanInfo=fe,this.stop(ee,fe),this.latestPointerEvent=null,this.latestPanInfo=null},V=()=>P1(ee=>this.getAnimationState(ee)==="paused"&&this.getAxisMotionValue(ee).animation?.play()),{dragSnapToOrigin:Y}=this.getProps();this.panSession=new yue(u,{onSessionStart:M,onStart:O,onMove:I,onSessionEnd:U,resumeAnimation:V},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:Y,distanceThreshold:x,contextWindow:bue(this.visualElement),element:this.visualElement.current})}stop(u,p){const x=u||this.latestPointerEvent,A=p||this.latestPanInfo,M=this.isDragging;if(this.cancel(),!M||!A||!x)return;const{velocity:O}=A;this.startAnimation(O);const{onDragEnd:I}=this.getProps();I&&_c.postRender(()=>I(x,A))}cancel(){this.isDragging=!1;const{projection:u,animationState:p}=this.visualElement;u&&(u.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:x}=this.getProps();!x&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),p&&p.setActive("whileDrag",!1)}updateAxis(u,p,x){const{drag:A}=this.getProps();if(!x||!PH(u,A,this.currentDirection))return;const M=this.getAxisMotionValue(u);let O=this.originPoint[u]+x[u];this.constraints&&this.constraints[u]&&(O=Yye(O,this.constraints[u],this.elastic[u])),M.set(O)}resolveConstraints(){const{dragConstraints:u,dragElastic:p}=this.getProps(),x=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,A=this.constraints;u&&KM(u)?this.constraints||(this.constraints=this.resolveRefConstraints()):u&&x?this.constraints=Xye(x.layoutBox,u):this.constraints=!1,this.elastic=tve(p),A!==this.constraints&&x&&this.constraints&&!this.hasMutatedConstraints&&P1(M=>{this.constraints!==!1&&this.getAxisMotionValue(M)&&(this.constraints[M]=eve(x.layoutBox[M],this.constraints[M]))})}resolveRefConstraints(){const{dragConstraints:u,onMeasureDragConstraints:p}=this.getProps();if(!u||!KM(u))return!1;const x=u.current,{projection:A}=this.visualElement;if(!A||!A.layout)return!1;const M=ibe(x,A.root,this.visualElement.getTransformPagePoint());let O=Qye(A.layout.layoutBox,M);if(p){const I=p(sbe(O));this.hasMutatedConstraints=!!I,I&&(O=Hce(I))}return O}startAnimation(u){const{drag:p,dragMomentum:x,dragElastic:A,dragTransition:M,dragSnapToOrigin:O,onDragTransitionEnd:I}=this.getProps(),U=this.constraints||{},V=P1(Y=>{if(!PH(Y,p,this.currentDirection))return;let ee=U&&U[Y]||{};O&&(ee={min:0,max:0});const fe=A?200:1e6,Ce=A?40:1e7,pe={type:"inertia",velocity:x?u[Y]:0,bounceStiffness:fe,bounceDamping:Ce,timeConstant:750,restDelta:1,restSpeed:10,...M,...ee};return this.startAxisValueAnimation(Y,pe)});return Promise.all(V).then(I)}startAxisValueAnimation(u,p){const x=this.getAxisMotionValue(u);return qee(this.visualElement,u),x.start(Yte(u,x,0,p,this.visualElement,!1))}stopAnimation(){P1(u=>this.getAxisMotionValue(u).stop())}pauseAnimation(){P1(u=>this.getAxisMotionValue(u).animation?.pause())}getAnimationState(u){return this.getAxisMotionValue(u).animation?.state}getAxisMotionValue(u){const p=`_drag${u.toUpperCase()}`,x=this.visualElement.getProps(),A=x[p];return A||this.visualElement.getValue(u,(x.initial?x.initial[u]:void 0)||0)}snapToCursor(u){P1(p=>{const{drag:x}=this.getProps();if(!PH(p,x,this.currentDirection))return;const{projection:A}=this.visualElement,M=this.getAxisMotionValue(p);if(A&&A.layout){const{min:O,max:I}=A.layout.layoutBox[p],U=M.get()||0;M.set(u[p]-wu(O,I,.5)+U)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:u,dragConstraints:p}=this.getProps(),{projection:x}=this.visualElement;if(!KM(p)||!x||!this.constraints)return;this.stopAnimation();const A={x:0,y:0};P1(O=>{const I=this.getAxisMotionValue(O);if(I&&this.constraints!==!1){const U=I.get();A[O]=Jye({min:U,max:U},this.constraints[O])}});const{transformTemplate:M}=this.visualElement.getProps();this.visualElement.current.style.transform=M?M({},""):"none",x.root&&x.root.updateScroll(),x.updateLayout(),this.resolveConstraints(),P1(O=>{if(!PH(O,u,null))return;const I=this.getAxisMotionValue(O),{min:U,max:V}=this.constraints[O];I.set(wu(U,V,A[O]))})}addListeners(){if(!this.visualElement.current)return;nve.set(this.visualElement,this);const u=this.visualElement.current,p=JM(u,"pointerdown",U=>{const{drag:V,dragListener:Y=!0}=this.getProps();V&&Y&&!Bce(U.target)&&this.start(U)}),x=()=>{const{dragConstraints:U}=this.getProps();KM(U)&&U.current&&(this.constraints=this.resolveRefConstraints())},{projection:A}=this.visualElement,M=A.addEventListener("measure",x);A&&!A.layout&&(A.root&&A.root.updateScroll(),A.updateLayout()),_c.read(x);const O=rB(window,"resize",()=>this.scalePositionWithinConstraints()),I=A.addEventListener("didUpdate",(({delta:U,hasLayoutChanged:V})=>{this.isDragging&&V&&(P1(Y=>{const ee=this.getAxisMotionValue(Y);ee&&(this.originPoint[Y]+=U[Y].translate,ee.set(ee.get()+U[Y].translate))}),this.visualElement.render())}));return()=>{O(),p(),M(),I&&I()}}getProps(){const u=this.visualElement.getProps(),{drag:p=!1,dragDirectionLock:x=!1,dragPropagation:A=!1,dragConstraints:M=!1,dragElastic:O=ete,dragMomentum:I=!0}=u;return{...u,drag:p,dragDirectionLock:x,dragPropagation:A,dragConstraints:M,dragElastic:O,dragMomentum:I}}}function PH(l,u,p){return(u===!0||u===l)&&(p===null||p===l)}function sve(l,u=10){let p=null;return Math.abs(l.y)>u?p="y":Math.abs(l.x)>u&&(p="x"),p}class rve extends IC{constructor(u){super(u),this.removeGroupControls=I1,this.removeListeners=I1,this.controls=new ove(u)}mount(){const{dragControls:u}=this.node.getProps();u&&(this.removeGroupControls=u.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||I1}update(){const{dragControls:u}=this.node.getProps(),{dragControls:p}=this.node.prevProps||{};u!==p&&(this.removeGroupControls(),u&&(this.removeGroupControls=u.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const yre=l=>(u,p)=>{l&&_c.postRender(()=>l(u,p))};class ave extends IC{constructor(){super(...arguments),this.removePointerDownListener=I1}onPointerDown(u){this.session=new yue(u,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bue(this.node)})}createPanHandlers(){const{onPanSessionStart:u,onPanStart:p,onPan:x,onPanEnd:A}=this.node.getProps();return{onSessionStart:yre(u),onStart:yre(p),onMove:x,onEnd:(M,O)=>{delete this.session,A&&_c.postRender(()=>A(M,O))}}}mount(){this.removePointerDownListener=JM(this.node.current,"pointerdown",u=>this.onPointerDown(u))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let pee=!1;class ive extends ze.Component{componentDidMount(){const{visualElement:u,layoutGroup:p,switchLayoutGroup:x,layoutId:A}=this.props,{projection:M}=u;M&&(p.group&&p.group.add(M),x&&x.register&&A&&x.register(M),pee&&M.root.didUpdate(),M.addEventListener("animationComplete",()=>{this.safeToRemove()}),M.setOptions({...M.options,onExitComplete:()=>this.safeToRemove()})),WH.hasEverUpdated=!0}getSnapshotBeforeUpdate(u){const{layoutDependency:p,visualElement:x,drag:A,isPresent:M}=this.props,{projection:O}=x;return O&&(O.isPresent=M,pee=!0,A||u.layoutDependency!==p||p===void 0||u.isPresent!==M?O.willUpdate():this.safeToRemove(),u.isPresent!==M&&(M?O.promote():O.relegate()||_c.postRender(()=>{const I=O.getStack();(!I||!I.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:u}=this.props.visualElement;u&&(u.root.didUpdate(),ene.postRender(()=>{!u.currentAnimation&&u.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:u,layoutGroup:p,switchLayoutGroup:x}=this.props,{projection:A}=u;pee=!0,A&&(A.scheduleCheckAfterUnmount(),p&&p.group&&p.group.remove(A),x&&x.deregister&&x.deregister(A))}safeToRemove(){const{safeToRemove:u}=this.props;u&&u()}render(){return null}}function xue(l){const[u,p]=lue(),x=ze.useContext(Nte);return N.jsx(ive,{...l,layoutGroup:x,switchLayoutGroup:ze.useContext(gue),isPresent:u,safeToRemove:p})}const lve={pan:{Feature:ave},drag:{Feature:rve,ProjectionNode:iue,MeasureLayout:xue}};function vre(l,u,p){const{props:x}=l;l.animationState&&x.whileHover&&l.animationState.setActive("whileHover",p==="Start");const A="onHover"+p,M=x[A];M&&_c.postRender(()=>M(u,wB(u)))}class cve extends IC{mount(){const{current:u}=this.node;u&&(this.unmount=Z1e(u,(p,x)=>(vre(this.node,x,"Start"),A=>vre(this.node,A,"End"))))}unmount(){}}class uve extends IC{constructor(){super(...arguments),this.isActive=!1}onFocus(){let u=!1;try{u=this.node.current.matches(":focus-visible")}catch{u=!0}!u||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yB(rB(this.node.current,"focus",()=>this.onFocus()),rB(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function xre(l,u,p){const{props:x}=l;if(l.current instanceof HTMLButtonElement&&l.current.disabled)return;l.animationState&&x.whileTap&&l.animationState.setActive("whileTap",p==="Start");const A="onTap"+(p==="End"?"":p),M=x[A];M&&_c.postRender(()=>M(u,wB(u)))}class dve extends IC{mount(){const{current:u}=this.node;u&&(this.unmount=G1e(u,(p,x)=>(xre(this.node,x,"Start"),(A,{success:M})=>xre(this.node,A,M?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const tte=new WeakMap,bee=new WeakMap,fve=l=>{const u=tte.get(l.target);u&&u(l)},mve=l=>{l.forEach(fve)};function hve({root:l,...u}){const p=l||document;bee.has(p)||bee.set(p,{});const x=bee.get(p),A=JSON.stringify(u);return x[A]||(x[A]=new IntersectionObserver(mve,{root:l,...u})),x[A]}function gve(l,u,p){const x=hve(u);return tte.set(l,p),x.observe(l),()=>{tte.delete(l),x.unobserve(l)}}const pve={some:0,all:1};class bve extends IC{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:u={}}=this.node.getProps(),{root:p,margin:x,amount:A="some",once:M}=u,O={root:p?p.current:void 0,rootMargin:x,threshold:typeof A=="number"?A:pve[A]},I=U=>{const{isIntersecting:V}=U;if(this.isInView===V||(this.isInView=V,M&&!V&&this.hasEnteredView))return;V&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",V);const{onViewportEnter:Y,onViewportLeave:ee}=this.node.getProps(),fe=V?Y:ee;fe&&fe(U)};return gve(this.node.current,O,I)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:u,prevProps:p}=this.node;["amount","margin","root"].some(yve(u,p))&&this.startObserver()}unmount(){}}function yve({viewport:l={}},{viewport:u={}}={}){return p=>l[p]!==u[p]}const vve={inView:{Feature:bve},tap:{Feature:dve},focus:{Feature:uve},hover:{Feature:cve}},xve={layout:{ProjectionNode:iue,MeasureLayout:xue}},wve={...Zye,...vve,...lve,...xve},Va=Hye(wve,zye);function Cve(){const[l,u]=ze.useState([]),[p,x]=ze.useState([]),[A,M]=ze.useState([]),[O,I]=ze.useState([]),[U,V]=ze.useState(null),[Y,ee]=ze.useState(null),[fe,Ce]=ze.useState([]),[pe,$e]=ze.useState([]),[be,ct]=ze.useState([]),[Oe,J]=ze.useState(!0),[rt,It]=ze.useState("locations"),[qe,ae]=ze.useState(""),[lt,En]=ze.useState("all"),[dn,We]=ze.useState(""),[Ne,Jo]=ze.useState("all"),[yt,Mt]=ze.useState(""),[P,zt]=ze.useState("all"),[at,Jn]=ze.useState({suffix:"-mekan-fotografcisi",titleTemplate:"{name} Mekan Fotorafs"});ze.useEffect(()=>{Re(),an()},[]);const an=async()=>{try{const vt=await as.get("/admin-update.php?table=settings&action=list");if(vt.data.success){const ln=vt.data.data,Un=ln.find(mr=>mr.key==="seo_location_suffix")?.value||"-mekan-fotografcisi",Qo=ln.find(mr=>mr.key==="seo_location_title_template")?.value||"{name} Mekan Fotorafs";Jn({suffix:Un,titleTemplate:Qo})}}catch{console.error("Failed to load SEO settings")}},le=(vt,ln)=>{ln==="province"?Ce(Un=>Un.includes(vt)?Un.filter(Qo=>Qo!==vt):[...Un,vt]):ln==="district"?$e(Un=>Un.includes(vt)?Un.filter(Qo=>Qo!==vt):[...Un,vt]):ln==="town"&&ct(Un=>Un.includes(vt)?Un.filter(Qo=>Qo!==vt):[...Un,vt])},Ue=(vt,ln)=>{const Un=vt.map(Qo=>Qo.id);ln==="province"?Ce(Qo=>Qo.length===Un.length?[]:Un):ln==="district"?$e(Qo=>Qo.length===Un.length?[]:Un):ln==="town"&&ct(Qo=>Qo.length===Un.length?[]:Un)},Pt=(vt,ln,Un)=>vt.filter(Qo=>{const mr=Qo.name.toLowerCase().includes(ln.toLowerCase()),gs=Un==="all"?!0:Un==="active"?Qo.is_active:!Qo.is_active;return mr&&gs}),Re=async()=>{J(!0);try{const vt=await as.get("/admin-update.php?table=locations_province&action=list");vt.data.success&&(u(vt.data.data||[]),Ce([]))}catch{console.error("Failed to load provinces")}finally{J(!1)}},gt=async vt=>{try{const ln=await as.get(`/admin-update.php?action=list&table=locations_district&province_id=${vt}`);ln.data.success&&(x(ln.data.data||[]),$e([]))}catch{console.error("Failed to load districts")}},He=async vt=>{try{const ln=await as.get(`/admin-update.php?action=list&table=locations_town&district_id=${vt}`);ln.data.success&&(M(ln.data.data||[]),ct([]))}catch{console.error("Failed to load towns")}},dt=async vt=>{try{const ln=await as.get(`/admin-update.php?action=get-distances&province_id=${vt}`);ln.data.success&&I(ln.data.data||[])}catch{console.error("Failed to load distances")}},X=vt=>{V(vt),ee(null),M([]),rt==="locations"?gt(vt.id):dt(vt.id)},zo=vt=>{ee(vt),He(vt.id)},Eo=async(vt,ln,Un)=>{try{await as.post("/admin-update.php",{action:"update",table:Un,id:vt,data:{is_active:!ln}}),Un==="locations_province"?Re():Un==="locations_district"?gt(U.id):Un==="locations_town"&&He(Y.id),ao.fire({title:"Gncellendi",icon:"success",timer:800,showConfirmButton:!1,toast:!0,position:"bottom-end"})}catch(Qo){console.error("Toggle Error:",Qo);const mr=Qo.response?.data?.error||"Gncelleme baarsz";ao.fire("Hata",mr,"error")}},Lo=async(vt,ln,Un)=>{if(Un.length===0)return;const Qo=ln==="delete"?"silmek":ln==="activate"?"aktif etmek":"pasif yapmak";if((await ao.fire({title:"Emin misiniz?",text:`${Un.length} adet kayd ${Qo} istediinize emin misiniz?`,icon:ln==="delete"?"warning":"question",showCancelButton:!0,confirmButtonText:"Evet",cancelButtonText:"ptal"})).isConfirmed)try{ln==="delete"?await as.post("/admin-update.php",{action:"delete",table:vt,ids:Un}):await as.post("/admin-update.php",{action:"update",table:vt,ids:Un,data:{is_active:ln==="activate"}}),ao.fire("Baarl","lem tamamland","success"),vt==="locations_province"?(Re(),ln==="delete"&&(V(null),x([]))):vt==="locations_district"?(gt(U.id),ln==="delete"&&(ee(null),M([]))):vt==="locations_town"&&He(Y.id)}catch{ao.fire("Hata","lem gerekletirilemedi","error")}},jo=async(vt,ln)=>{if((await ao.fire({title:"Emin misiniz?",text:"Bu ilem ve altndaki tm bal veriler silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal",customClass:{confirmButton:"bg-red-500 rounded-xl px-6 py-2.5 font-bold",cancelButton:"bg-gray-100 text-gray-600 rounded-xl px-6 py-2.5 font-bold"}})).isConfirmed)try{await as.post("/admin-update.php",{action:"delete",table:ln,id:vt}),ln==="locations_province"?(Re(),V(null),ee(null),M([])):ln==="locations_district"?(gt(U.id),ee(null),M([])):ln==="locations_town"?He(Y.id):ln==="locations_city_distance"&&dt(U.id),ao.fire("Silindi","","success")}catch(Qo){console.error("Delete Error:",Qo);const mr=Qo.response?.data?.error||"Silme baarsz";ao.fire("Hata",mr,"error")}},Ks=async()=>{if((await ao.fire({title:"Verileri Gncelle",text:"Tm Trkiye il, ile ve mahalle verileri GitHub zerinden ekilip gncellenecektir. Bu ilem uzun srebilir ve arka planda devam eder.",icon:"info",showCancelButton:!0,confirmButtonText:"imdi Balat",cancelButtonText:"ptal"})).isConfirmed)try{await as.post("/admin-update.php",{action:"import-locations"}),ao.fire("Balatld","lem arka planda balatld. Tamamlandnda veriler gncellenmi olacak.","success")}catch{ao.fire("Hata","lem balatlamad","error")}},Be=async()=>{const{value:vt}=await ao.fire({title:"Yeni l Ekle",input:"text",inputLabel:"l Ad",inputPlaceholder:"rn: stanbul, Antalya...",showCancelButton:!0,confirmButtonText:"Ekle",cancelButtonText:"ptal"});if(vt)try{await as.post("/admin-update.php",{action:"save-location",table:"locations_province",name:vt}),Re()}catch{ao.fire("Hata","Eklenemedi","error")}},Ye=async()=>{if(!U)return;const{value:vt}=await ao.fire({title:"Yeni le Ekle",input:"text",inputLabel:"le Ad",inputPlaceholder:"rn: Ka, Bodrum...",showCancelButton:!0,confirmButtonText:"Ekle",cancelButtonText:"ptal"});if(vt)try{await as.post("/admin-update.php",{action:"save-location",table:"locations_district",name:vt,province_id:U.id}),gt(U.id)}catch{ao.fire("Hata","Eklenemedi","error")}},et=async()=>{if(!Y)return;const{value:vt}=await ao.fire({title:"Yeni Mahalle/Belde Ekle",input:"text",inputLabel:"Mahalle/Belde Ad",inputPlaceholder:"rn: Gcek, Kalkan, Bitez...",showCancelButton:!0,confirmButtonText:"Ekle",cancelButtonText:"ptal"});if(vt)try{await as.post("/admin-update.php",{action:"save-location",table:"locations_town",name:vt,district_id:Y.id}),He(Y.id)}catch{ao.fire("Hata","Eklenemedi","error")}},Le=async()=>{if(!(!Y||!U))try{const ln=(await as.post("/admin-update.php",{action:"get-available-towns",province:U.name,district:Y.name})).data.data;if(!ln||ln.length===0){ao.fire("Bilgi","Bu blge iin hazr mahalle bulunamad. Ltfen manuel ekleyin.","info");return}const{value:Un}=await ao.fire({title:"Ktphaneden Se",input:"select",inputOptions:ln.reduce((Qo,mr)=>({...Qo,[mr]:mr}),{}),inputPlaceholder:"Mahalle Seiniz",showCancelButton:!0,confirmButtonText:"Ekle"});Un&&(await as.post("/admin-update.php",{action:"save-location",table:"locations_town",name:Un,district_id:Y.id}),He(Y.id),ao.fire("Eklendi","","success"))}catch(vt){console.error(vt),ao.fire("Hata","Liste alnamad","error")}},[Je,Ot]=ze.useState(null),xt=async vt=>{const ln=`${vt.slug}${at.suffix}`;try{const Qo=(await as.get(`/admin-update.php?table=posts&action=list&post_type=seo_page&slug=${ln}`)).data.data?.[0];if(Qo)Ot(Qo);else{const mr=at.titleTemplate.replace("{name}",vt.name);Ot({title:mr,slug:ln,content:`<p>${vt.name} blgesinde profesyonel mekan ekimi hizmetleri.</p>`,excerpt:`${vt.name} mekan fotorafs, otel, villa ve emlak ekimi hizmetleri.`,post_type:"seo_page",post_status:"draft"})}}catch(Un){console.error("Error fetching page content",Un),ao.fire("Hata","erik yklenemedi","error")}},jn=async()=>{try{await as.post("/admin-update.php",{action:"save-post",...Je}),ao.fire("Kaydedildi","erik gncellendi","success"),Ot(null)}catch{ao.fire("Hata","Kaydetme baarsz","error")}},go=({search:vt,setSearch:ln,filter:Un,setFilter:Qo,items:mr,selectedIds:gs,onToggleAll:Io,type:Gr,table:_s})=>N.jsxs("div",{className:"flex flex-col gap-2 mb-4 px-1",children:[N.jsxs("div",{className:"flex gap-2",children:[N.jsx("input",{type:"text",placeholder:"Ara...",value:vt,onChange:Ms=>ln(Ms.target.value),className:"w-full px-3 py-1.5 text-xs border border-gray-200 rounded-lg focus:outline-none focus:border-blue-400 shadow-inner bg-gray-50/50"}),N.jsxs("select",{value:Un,onChange:Ms=>Qo(Ms.target.value),className:"px-2 py-1.5 text-xs border border-gray-200 rounded-lg focus:outline-none focus:border-blue-400 bg-white",children:[N.jsx("option",{value:"all",children:"Tm"}),N.jsx("option",{value:"active",children:"Aktif"}),N.jsx("option",{value:"passive",children:"Pasif"})]})]}),N.jsxs("div",{className:"flex justify-between items-center px-2 py-1 bg-gray-50/80 rounded-lg border border-gray-100",children:[N.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[N.jsx("input",{type:"checkbox",className:"w-3.5 h-3.5 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:mr.length>0&&gs.length===mr.length,onChange:()=>Io(mr,Gr)}),N.jsxs("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-tighter",children:["Tmn Se (",gs.length,")"]})]}),gs.length>0&&N.jsxs("div",{className:"flex gap-1",children:[N.jsx("button",{onClick:()=>Lo(_s,"activate",gs),className:"bg-green-100 text-green-700 font-bold px-2 py-0.5 rounded text-[9px] hover:bg-green-200",children:"AKTF"}),N.jsx("button",{onClick:()=>Lo(_s,"deactivate",gs),className:"bg-red-100 text-red-700 font-bold px-2 py-0.5 rounded text-[9px] hover:bg-red-200",children:"PASF"}),N.jsx("button",{onClick:()=>Lo(_s,"delete",gs),className:"bg-gray-200 text-gray-700 font-bold px-2 py-0.5 rounded text-[9px] hover:bg-gray-300",children:"SL"})]})]})]});return Oe&&l.length===0?N.jsxs("div",{className:"flex flex-col items-center justify-center py-24 gap-4",children:[N.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),N.jsx("p",{className:"text-gray-500 font-medium",children:"Veriler Ykleniyor..."})]}):N.jsxs(Va.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[N.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 bg-white/50 backdrop-blur-md p-6 rounded-[2rem] border border-white shadow-sm",children:[N.jsxs("div",{children:[N.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Lokasyon Ynetimi"}),N.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Trkiye il, ile ve mahalle verileri"})]}),N.jsxs("div",{className:"flex items-center gap-2 bg-gray-100/50 p-1.5 rounded-2xl border border-gray-200 shadow-inner",children:[N.jsx("button",{onClick:()=>It("locations"),className:`px-6 py-2 rounded-xl font-bold transition-all ${rt==="locations"?"bg-white text-blue-600 shadow-md translate-y-[-1px]":"text-gray-500 hover:text-gray-700"}`,children:" Yerleimler"}),N.jsx("button",{onClick:()=>{It("distances"),U&&dt(U.id)},className:`px-6 py-2 rounded-xl font-bold transition-all ${rt==="distances"?"bg-white text-blue-600 shadow-md translate-y-[-1px]":"text-gray-500 hover:text-gray-700"}`,children:" Mesafeler"}),N.jsx("div",{className:"w-px h-6 bg-gray-200 mx-1"}),N.jsx("button",{onClick:Ks,className:"px-6 py-2 rounded-xl font-bold text-gray-600 hover:text-blue-600 hover:bg-white transition-all",title:"Tm verileri GitHub'dan gncelle",children:" Gncelle"})]})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 h-[calc(100vh-280px)]",children:[N.jsxs("div",{className:"flex flex-col h-full space-y-4",children:[N.jsxs("div",{className:"flex justify-between items-center px-4",children:[N.jsxs("h2",{className:"text-lg font-black text-gray-800 tracking-tight flex items-center gap-2",children:[N.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 text-xs",children:"81"}),"ller"]}),N.jsx("button",{onClick:Be,className:"w-8 h-8 flex items-center justify-center bg-white hover:bg-blue-50 border border-gray-200 text-blue-600 rounded-xl transition-all shadow-sm font-bold",children:"+"})]}),N.jsx(go,{search:qe,setSearch:ae,filter:lt,setFilter:En,items:Pt(l,qe,lt),selectedIds:fe,onToggleAll:Ue,type:"province",table:"locations_province"}),N.jsx("div",{className:"flex-1 bg-white rounded-[2rem] shadow-sm border border-gray-100 overflow-hidden overflow-y-auto custom-scrollbar",children:Pt(l,qe,lt).map(vt=>N.jsx("div",{className:`p-5 border-b border-gray-50 cursor-pointer transition-all ${U?.id===vt.id?"bg-blue-50/50 border-l-4 border-l-blue-500":"hover:bg-gray-50/50"}`,onClick:()=>X(vt),children:N.jsxs("div",{className:"flex justify-between items-center group",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer",checked:fe.includes(vt.id),onChange:ln=>{ln.stopPropagation(),le(vt.id,"province")}}),N.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center font-bold text-sm shadow-sm transition-all ${U?.id===vt.id?"bg-blue-500 text-white":"bg-gray-50 text-gray-400 group-hover:bg-white group-hover:text-blue-500"}`,children:vt.plate_code||"??"}),N.jsxs("div",{children:[N.jsx("span",{className:`font-bold block transition-colors ${U?.id===vt.id?"text-blue-900":"text-gray-700"}`,children:vt.name}),N.jsxs("div",{className:"flex gap-2 mt-1",children:[N.jsx("button",{onClick:ln=>{ln.stopPropagation(),xt(vt)},className:"text-[10px] text-gray-300 hover:text-blue-500 flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all scale-95 hover:scale-100",children:" Dzenle"}),N.jsx("a",{href:`/${vt.slug}${at.suffix}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-gray-300 hover:text-blue-500 flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all scale-95 hover:scale-100",onClick:ln=>ln.stopPropagation(),children:" Gr"})]})]})]}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onClick:ln=>{ln.stopPropagation(),Eo(vt.id,vt.is_active,"locations_province")},className:`w-2.5 h-2.5 rounded-full ring-4 ring-transparent ${vt.is_active?"bg-green-500 shadow-[0_0_10px_rgba(34,197,94,0.4)]":"bg-red-300"}`,title:vt.is_active?"Aktif":"Pasif"}),N.jsx("button",{onClick:ln=>{ln.stopPropagation(),jo(vt.id,"locations_province")},className:"text-xs text-red-500 opacity-0 group-hover:opacity-20 hover:!opacity-100 transition-all",children:""})]})]})},vt.id))})]}),N.jsx(HC,{mode:"wait",children:rt==="locations"?N.jsxs(N.Fragment,{children:[N.jsxs(Va.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex flex-col h-full space-y-4",children:[N.jsxs("div",{className:"flex justify-between items-center px-4",children:[N.jsxs("div",{children:[N.jsx("h2",{className:"text-lg font-black text-gray-800 tracking-tight",children:"leler"}),U&&N.jsx("span",{className:"text-[10px] text-blue-500 font-bold uppercase tracking-widest",children:U.name})]}),U&&N.jsx("button",{onClick:Ye,className:"w-8 h-8 flex items-center justify-center bg-white hover:bg-blue-50 border border-gray-200 text-blue-600 rounded-xl transition-all shadow-sm font-bold",children:"+"})]}),U&&N.jsx(go,{search:dn,setSearch:We,filter:Ne,setFilter:Jo,items:Pt(p,dn,Ne),selectedIds:pe,onToggleAll:Ue,type:"district",table:"locations_district"}),N.jsx("div",{className:"flex-1 bg-white rounded-[2rem] shadow-sm border border-gray-100 overflow-hidden overflow-y-auto custom-scrollbar",children:U?p.length===0?N.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300 p-8",children:[N.jsx("span",{className:"text-3xl mb-2",children:""}),N.jsx("span",{className:"text-xs uppercase font-bold tracking-widest",children:"Henz ile yok"})]}):Pt(p,dn,Ne).map(vt=>N.jsx("div",{className:`p-5 border-b border-gray-50 cursor-pointer transition-all ${Y?.id===vt.id?"bg-blue-50/50 border-l-4 border-l-blue-500":"hover:bg-gray-50/50"}`,onClick:()=>zo(vt),children:N.jsxs("div",{className:"flex justify-between items-center group",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer",checked:pe.includes(vt.id),onChange:ln=>{ln.stopPropagation(),le(vt.id,"district")}}),N.jsxs("div",{children:[N.jsx("span",{className:`font-bold block ${Y?.id===vt.id?"text-blue-900":"text-gray-700"}`,children:vt.name}),N.jsxs("div",{className:"flex gap-2 mt-1",children:[N.jsx("button",{onClick:ln=>{ln.stopPropagation(),xt(vt)},className:"text-[10px] text-gray-300 hover:text-blue-500 flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all",children:" Dzenle"}),N.jsx("a",{href:`/${vt.slug}${at.suffix}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-gray-300 hover:text-blue-500 flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all",onClick:ln=>ln.stopPropagation(),children:" Gr"})]})]})]}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onClick:ln=>{ln.stopPropagation(),Eo(vt.id,vt.is_active,"locations_district")},className:`w-2.5 h-2.5 rounded-full ${vt.is_active?"bg-green-500":"bg-red-300"}`,title:vt.is_active?"Aktif":"Pasif"}),N.jsx("button",{onClick:ln=>{ln.stopPropagation(),jo(vt.id,"locations_district")},className:"text-xs text-red-500 opacity-0 group-hover:opacity-20 hover:!opacity-100 transition-all",children:""})]})]})},vt.id)):N.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300 p-8 grayscale opacity-50",children:[N.jsx("span",{className:"text-5xl mb-4",children:""}),N.jsx("span",{className:"text-xs uppercase font-black tracking-widest bg-gray-100 px-4 py-2 rounded-full",children:"Sol taraftan il sein"})]})})]},"districts"),N.jsxs(Va.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex flex-col h-full space-y-4",children:[N.jsxs("div",{className:"flex justify-between items-center px-4",children:[N.jsxs("div",{children:[N.jsx("h2",{className:"text-lg font-black text-gray-800 tracking-tight",children:"Mahalleler"}),Y&&N.jsx("span",{className:"text-[10px] text-blue-500 font-bold uppercase tracking-widest",children:Y.name})]}),Y&&N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onClick:Le,className:"w-8 h-8 flex items-center justify-center bg-blue-50 hover:bg-blue-100 border border-blue-200 text-blue-600 rounded-xl transition-all shadow-sm text-xs",title:"Ktphaneden Aktar",children:""}),N.jsx("button",{onClick:et,className:"w-8 h-8 flex items-center justify-center bg-white hover:bg-gray-50 border border-gray-200 text-blue-600 rounded-xl transition-all shadow-sm font-bold",children:"+"})]})]}),Y&&N.jsx(go,{search:yt,setSearch:Mt,filter:P,setFilter:zt,items:Pt(A,yt,P),selectedIds:be,onToggleAll:Ue,type:"town",table:"locations_town"}),N.jsx("div",{className:"flex-1 bg-white rounded-[2rem] shadow-sm border border-gray-100 overflow-hidden overflow-y-auto custom-scrollbar",children:Y?A.length===0?N.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300 p-8",children:[N.jsx("span",{className:"text-3xl mb-2",children:""}),N.jsx("span",{className:"text-xs uppercase font-bold tracking-widest",children:"Henz mahalle yok"})]}):Pt(A,yt,P).map(vt=>N.jsx("div",{className:"p-5 border-b border-gray-50 hover:bg-gray-50/50 transition-all group",children:N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer",checked:be.includes(vt.id),onChange:ln=>{ln.stopPropagation(),le(vt.id,"town")}}),N.jsxs("div",{children:[N.jsx("span",{className:"font-bold text-gray-700 block",children:vt.name}),N.jsxs("div",{className:"flex gap-2 mt-1",children:[N.jsx("button",{onClick:ln=>{ln.stopPropagation(),xt(vt)},className:"text-[10px] text-gray-300 hover:text-blue-500 opacity-0 group-hover:opacity-100 transition-all",children:" Dzenle"}),N.jsx("a",{href:`/${vt.slug}${at.suffix}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-gray-300 hover:text-blue-500 opacity-0 group-hover:opacity-100 transition-all",onClick:ln=>ln.stopPropagation(),children:" Gr"})]})]})]}),N.jsxs("div",{className:"flex gap-2 items-center",children:[N.jsx("button",{onClick:ln=>{ln.stopPropagation(),Eo(vt.id,vt.is_active,"locations_town")},className:`px-3 py-1 rounded-lg text-[9px] font-black tracking-tighter transition-all ${vt.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:vt.is_active?"AKTF":"PASF"}),N.jsx("button",{onClick:ln=>{ln.stopPropagation(),jo(vt.id,"locations_town")},className:"text-red-500 opacity-0 group-hover:opacity-20 hover:!opacity-100 transition-all text-xs",children:""})]})]})},vt.id)):N.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300 p-8 grayscale opacity-50",children:[N.jsx("span",{className:"text-5xl mb-4",children:""}),N.jsx("span",{className:"text-xs uppercase font-black tracking-widest bg-gray-100 px-4 py-2 rounded-full",children:"le sein"})]})})]},"towns")]}):N.jsx(Va.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},className:"lg:col-span-2 flex flex-col h-full bg-white rounded-[2rem] border border-gray-100 shadow-sm overflow-hidden",children:U?N.jsxs("div",{className:"flex flex-col h-full",children:[N.jsxs("div",{className:"p-8 border-b border-gray-50 bg-gray-50/50",children:[N.jsxs("div",{className:"flex justify-between items-center mb-6",children:[N.jsxs("h3",{className:"text-2xl font-black text-gray-900 tracking-tight",children:[U.name," kl Mesafeler"]}),N.jsxs("div",{className:"bg-blue-100 text-blue-700 font-black px-4 py-2 rounded-2xl text-xs uppercase tracking-widest",children:[O.length," ehir Kaytl"]})]}),N.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[N.jsxs("div",{className:"bg-white p-4 rounded-3xl border border-gray-100 shadow-sm",children:[N.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase block mb-1",children:"En Yakn"}),N.jsx("span",{className:"text-lg font-bold text-gray-800",children:O.length>0?O.sort((vt,ln)=>vt.distance_km-ln.distance_km).filter(vt=>vt.distance_km>0)[0]?.to_province_name:"-"})]}),N.jsxs("div",{className:"bg-white p-4 rounded-3xl border border-gray-100 shadow-sm",children:[N.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase block mb-1",children:"En Uzak"}),N.jsx("span",{className:"text-lg font-bold text-gray-800",children:O.length>0?O.sort((vt,ln)=>ln.distance_km-vt.distance_km)[0]?.to_province_name:"-"})]})]})]}),N.jsx("div",{className:"flex-1 p-8 overflow-y-auto custom-scrollbar",children:N.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[O.map(vt=>N.jsxs("div",{className:"group bg-gray-50 hover:bg-white hover:shadow-lg hover:shadow-blue-500/5 p-5 rounded-3xl border border-transparent hover:border-blue-100 transition-all",children:[N.jsxs("div",{className:"flex justify-between items-center mb-2",children:[N.jsx("span",{className:"font-bold text-gray-700",children:vt.to_province_name}),N.jsxs("span",{className:"text-blue-600 font-black text-sm",children:[vt.distance_km," km"]})]}),N.jsx("div",{className:"w-full bg-gray-200 h-1 rounded-full overflow-hidden",children:N.jsx("div",{className:"bg-blue-500 h-full rounded-full transition-all duration-1000",style:{width:`${Math.min(100,vt.distance_km/2e3*100)}%`}})})]},vt.id)),O.length===0&&N.jsx("div",{className:"col-span-full py-12 text-center text-gray-400 font-medium",children:"Bu il iin mesafe verisi bulunamad."})]})})]}):N.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300 p-8 grayscale opacity-50",children:[N.jsx("span",{className:"text-6xl mb-6",children:""}),N.jsx("span",{className:"text-xs uppercase font-black tracking-widest bg-gray-100 px-6 py-3 rounded-full",children:"Mesafeleri grmek iin listeden il sein"})]})},"distances_view")})]}),Je&&N.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:N.jsxs(Va.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden border border-white",children:[N.jsxs("div",{className:"p-8 border-b border-gray-100 flex justify-between items-center bg-gray-50/80",children:[N.jsxs("div",{children:[N.jsx("h2",{className:"text-2xl font-black text-gray-900 tracking-tight",children:"erik Dzenle"}),N.jsx("p",{className:"text-gray-500 text-xs mt-0.5",children:"SEO uyumlu lokasyon sayfas ayarlar"})]}),N.jsx("button",{onClick:()=>Ot(null),className:"w-10 h-10 flex items-center justify-center bg-white rounded-full text-gray-400 hover:text-gray-600 shadow-sm border border-gray-100 transition-all",children:""})]}),N.jsxs("div",{className:"p-8 overflow-y-auto custom-scrollbar space-y-8",children:[N.jsxs("div",{className:"bg-blue-500 text-white rounded-3xl p-6 flex gap-4 shadow-lg shadow-blue-500/20",children:[N.jsx("span",{className:"text-2xl",children:""}),N.jsxs("div",{children:[N.jsx("h4",{className:"font-black text-sm uppercase tracking-widest",children:"SEO Tavsiyesi"}),N.jsx("p",{className:"text-sm opacity-90 mt-1 font-medium leading-relaxed",children:"Her lokasyon iin zgn balk ve ierik girmek SEO performansn artrr. ehir/semt ismini balkta ve metnin ilk paragrafnda geirmeye zen gsterin."})]})]}),N.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Sayfa Bal (H1)"}),N.jsx("input",{type:"text",value:Je.title,onChange:vt=>Ot({...Je,title:vt.target.value}),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none font-bold text-gray-800 transition-all"})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"URL (Slug)"}),N.jsx("input",{type:"text",value:Je.slug,readOnly:!0,disabled:!0,className:"w-full px-5 py-4 bg-gray-100/50 border border-gray-100 rounded-2xl text-gray-400 font-mono text-xs cursor-not-allowed select-none",title:"Lokasyon URL yaps standarttr, deitirilemez."})]})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"erik (HTML)"}),N.jsx("textarea",{value:Je.content||"",onChange:vt=>Ot({...Je,content:vt.target.value}),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none font-mono text-sm h-64 transition-all",placeholder:"<p>Sayfa ierii...</p>"}),N.jsx("p",{className:"text-[10px] text-gray-400 font-bold px-1",children:"Tip: HTML etiketleri (<h2>, <p>, <ul>) kullanabilirsiniz."})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Meta Aklamas (Description)"}),N.jsx("textarea",{value:Je.excerpt||"",onChange:vt=>Ot({...Je,excerpt:vt.target.value}),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none text-sm h-28 transition-all",placeholder:"Google arama sonularnda grnecek ksa aklama..."})]})]}),N.jsxs("div",{className:"p-8 border-t border-gray-100 bg-gray-50/80 flex justify-end gap-3",children:[N.jsx("button",{onClick:()=>Ot(null),className:"px-8 py-3 bg-white border border-gray-200 text-gray-700 font-black rounded-2xl hover:bg-gray-100 transition-all uppercase tracking-widest text-xs",children:"ptal"}),N.jsx("button",{onClick:jn,className:"px-8 py-3 bg-blue-600 text-white font-black rounded-2xl hover:bg-blue-700 shadow-xl shadow-blue-500/20 transition-all uppercase tracking-widest text-xs",children:"Kaydet"})]})]})})]})}function Sve(){const[l,u]=ze.useState([]),[p,x]=ze.useState([]),[A,M]=ze.useState(!0),O=RT();ze.useEffect(()=>{I()},[]);const I=async()=>{try{const[ee,fe]=await Promise.all([as.get("/admin-update.php?table=posts&action=list&post_type=service&post_status=publish"),as.get("/admin-update.php?table=settings&action=list")]);ee.data.success&&u(ee.data.data||[]),fe.data.success&&x(fe.data.data||[])}catch(ee){console.error("Failed to load data:",ee)}finally{M(!1)}},V=((ee,fe)=>p.find(Ce=>Ce.key===ee)?.value||fe)("seo_service_base","hizmetlerimiz"),Y=async ee=>{if((await ao.fire({title:"Emin misiniz?",text:"Bu hizmet kalc olarak silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal"})).isConfirmed)try{await as.post("/admin-update.php",{action:"delete",table:"posts",id:ee}),loadServices(),ao.fire("Silindi!","Hizmet baaryla silindi.","success")}catch{ao.fire("Hata","Silme ilemi baarsz","error")}};return A?N.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):N.jsxs(Va.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},className:"space-y-6",children:[N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Hizmetler"}),N.jsx("button",{onClick:()=>O("/services/new"),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold shadow-lg shadow-blue-500/20 transition transform hover:-translate-y-0.5 active:scale-95",children:"+ Yeni Hizmet Ekle"})]}),N.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:N.jsxs("table",{className:"w-full",children:[N.jsx("thead",{className:"bg-gray-50/50 border-b border-gray-100",children:N.jsxs("tr",{children:[N.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Hizmet Ad"}),N.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"URL (Slug)"}),N.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Durum"}),N.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-400 uppercase tracking-widest",children:"lemler"})]})}),N.jsx("tbody",{className:"divide-y divide-gray-100",children:l.map(ee=>N.jsxs("tr",{className:"group hover:bg-blue-50/30 transition-colors",children:[N.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N.jsx("div",{className:"text-sm font-semibold text-gray-800",children:ee.title})}),N.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N.jsxs("div",{className:"text-xs text-blue-500 font-mono",children:["/",V,"/",ee.slug]})}),N.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black tracking-widest uppercase ${ee.post_status==="publish"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:ee.post_status==="publish"?"YAYINDA":"TASLAK"})}),N.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[N.jsx("button",{onClick:()=>O(`/services/edit/${ee.id}`),className:"text-blue-600 hover:text-blue-900 bg-blue-50 px-4 py-1.5 rounded-lg transition-colors",children:"Dzenle"}),N.jsx("button",{onClick:()=>Y(ee.id),className:"text-red-500 hover:text-red-900 px-2 py-1.5 rounded-lg opacity-40 group-hover:opacity-100 transition-opacity",children:"Sil"})]})]},ee.id))})]})})]})}function Eve(){const[l,u]=ze.useState([]),[p,x]=ze.useState(!0),A=RT();ze.useEffect(()=>{M()},[]);const M=async()=>{try{const I=await as.get("/admin-update.php?table=posts&action=list&post_type=blog");I.data.success&&u(I.data.data||[])}catch(I){console.error("Failed to load blog posts:",I)}finally{x(!1)}},O=async I=>{if((await ao.fire({title:"Emin misiniz?",text:"Bu blog yazs kalc olarak silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal"})).isConfirmed)try{await as.post("/admin-update.php",{action:"delete",table:"posts",id:I}),M(),ao.fire("Silindi!","Blog yazs baaryla silindi.","success")}catch{ao.fire("Hata","Silme ilemi baarsz","error")}};return p?N.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):N.jsxs(Va.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Blog Yazlar"}),N.jsx("button",{onClick:()=>A("/blog/new"),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold shadow-lg shadow-blue-500/20 transition transform hover:-translate-y-0.5 active:scale-95",children:"+ Yeni Blog Yazs Ekle"})]}),N.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:N.jsxs("table",{className:"w-full",children:[N.jsx("thead",{className:"bg-gray-50/50 border-b border-gray-100",children:N.jsxs("tr",{children:[N.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Balk"}),N.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"URL"}),N.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Durum"}),N.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-400 uppercase tracking-widest",children:"lemler"})]})}),N.jsxs("tbody",{className:"divide-y divide-gray-100",children:[l.map(I=>N.jsxs(Va.tr,{layout:!0,className:"group hover:bg-blue-50/30 transition-colors",children:[N.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N.jsx("div",{className:"text-sm font-semibold text-gray-800",children:I.title})}),N.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N.jsxs("div",{className:"text-xs text-gray-400",children:["/blog/",I.slug]})}),N.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black tracking-widest uppercase ${I.post_status==="publish"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:I.post_status==="publish"?"YAYINDA":"TASLAK"})}),N.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[N.jsx("button",{onClick:()=>A(`/blog/edit/${I.id}`),className:"text-blue-600 hover:text-blue-900 bg-blue-50 px-4 py-1.5 rounded-lg transition-colors",children:"Dzenle"}),N.jsx("button",{onClick:()=>O(I.id),className:"text-red-500 hover:text-red-900 px-2 py-1.5 rounded-lg opacity-40 group-hover:opacity-100 transition-opacity",children:"Sil"})]})]},I.id)),l.length===0&&N.jsx("tr",{children:N.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-gray-400 italic",children:"Henz blog yazs oluturulmam."})})]})]})})]})}function Tve(){const[l,u]=ze.useState([]),[p,x]=ze.useState(!0),A=RT();ze.useEffect(()=>{M()},[]);const M=async()=>{try{const I=await as.get("/admin-update.php?table=posts&action=list&post_type=page");I.data.success&&u(I.data.data||[])}catch(I){console.error("Failed to load pages:",I)}finally{x(!1)}},O=async I=>{if((await ao.fire({title:"Emin misiniz?",text:"Bu sayfa kalc olarak silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal"})).isConfirmed)try{await as.post("/admin-update.php",{action:"delete",table:"posts",id:I}),M(),ao.fire("Silindi!","Sayfa baaryla silindi.","success")}catch{ao.fire("Hata","Silme ilemi baarsz","error")}};return p?N.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):N.jsxs(Va.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Kurumsal Sayfalar"}),N.jsx("button",{onClick:()=>A("/pages/new"),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold shadow-lg shadow-blue-500/20 transition transform hover:-translate-y-0.5 active:scale-95",children:"+ Yeni Sayfa Ekle"})]}),N.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:N.jsxs("table",{className:"w-full",children:[N.jsx("thead",{className:"bg-gray-50/50 border-b border-gray-100",children:N.jsxs("tr",{children:[N.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Sayfa Bal"}),N.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"URL"}),N.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Durum"}),N.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-400 uppercase tracking-widest",children:"lemler"})]})}),N.jsxs("tbody",{className:"divide-y divide-gray-100",children:[l.map(I=>N.jsxs(Va.tr,{layout:!0,className:"group hover:bg-blue-50/30 transition-colors",children:[N.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N.jsx("div",{className:"text-sm font-semibold text-gray-800",children:I.title})}),N.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N.jsxs("div",{className:"text-xs text-gray-400",children:["/",I.slug]})}),N.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black tracking-widest uppercase ${I.post_status==="publish"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:I.post_status==="publish"?"YAYINDA":"TASLAK"})}),N.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[N.jsx("button",{onClick:()=>A(`/pages/edit/${I.id}`),className:"text-blue-600 hover:text-blue-900 bg-blue-50 px-4 py-1.5 rounded-lg transition-colors",children:"Dzenle"}),N.jsx("button",{onClick:()=>O(I.id),className:"text-red-500 hover:text-red-900 px-2 py-1.5 rounded-lg opacity-40 group-hover:opacity-100 transition-opacity",children:"Sil"})]})]},I.id)),l.length===0&&N.jsx("tr",{children:N.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-gray-400 italic",children:"Henz sayfa oluturulmam."})})]})]})})]})}function Ave(){const[l,u]=ze.useState([]),[p,x]=ze.useState(!0),[A,M]=ze.useState("");ze.useEffect(()=>{O()},[]);const O=async()=>{try{const Ce=await as.get("/admin-update.php?table=posts&action=list&post_type=seo_page");Ce.data.success&&u(Ce.data.data||[])}catch{console.error("Failed to load SEO pages")}finally{x(!1)}},I=async(Ce,pe)=>{const $e=pe==="publish"?"draft":"publish";try{await as.post("/admin-update.php",{action:"update",table:"posts",id:Ce,data:{post_status:$e}}),O()}catch{ao.fire("Hata","Durum gncellenemedi","error")}},[U,V]=ze.useState(null),Y=Ce=>{V({...Ce})},ee=async()=>{try{await as.post("/admin-update.php",{action:"save-post",...U}),ao.fire("Kaydedildi","Sayfa ierii gncellendi","success"),V(null),O()}catch{ao.fire("Hata","Kaydetme baarsz","error")}},fe=l.filter(Ce=>Ce.title?.toLowerCase().includes(A.toLowerCase())||Ce.slug?.toLowerCase().includes(A.toLowerCase()));return p?N.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):N.jsxs(Va.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[N.jsx("div",{className:"flex justify-between items-center",children:N.jsxs("div",{children:[N.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Dinamik SEO Sayfalar"}),N.jsx("p",{className:"text-gray-500 text-sm",children:"Lokasyon ve hizmet kombinasyonlarndan oluan sayfalar"})]})}),N.jsxs("div",{className:"flex gap-4 items-center bg-white p-4 rounded-2xl border border-gray-100 shadow-sm",children:[N.jsx("span",{className:"text-gray-400 ml-2",children:""}),N.jsx("input",{type:"text",placeholder:"Sayfa veya URL ara...",value:A,onChange:Ce=>M(Ce.target.value),className:"flex-1 bg-transparent border-none focus:ring-0 text-sm font-medium outline-none"})]}),N.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:N.jsxs("table",{className:"w-full",children:[N.jsx("thead",{className:"bg-gray-50/50 border-b border-gray-100",children:N.jsxs("tr",{children:[N.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Sayfa / Balk"}),N.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"URL (Slug)"}),N.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Tip"}),N.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Durum"}),N.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-400 uppercase tracking-widest",children:"lem"})]})}),N.jsx("tbody",{className:"divide-y divide-gray-100",children:fe.map(Ce=>N.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[N.jsxs("td",{className:"px-6 py-4",children:[N.jsx("div",{className:"text-sm font-bold text-gray-800 line-clamp-1",children:Ce.title}),N.jsx("div",{className:"text-[10px] text-gray-400 mt-0.5 line-clamp-1",children:Ce.excerpt})]}),N.jsx("td",{className:"px-6 py-4",children:N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsxs("div",{className:"text-xs font-mono text-blue-500",children:["/",Ce.slug]}),N.jsx("a",{href:`/${Ce.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-600 transition-colors",title:"Sayfay Grntle",children:""})]})}),N.jsx("td",{className:"px-6 py-4",children:N.jsx("span",{className:"px-2 py-0.5 rounded bg-gray-100 text-[10px] font-black uppercase text-gray-500 tracking-tighter",children:Ce.post_type})}),N.jsx("td",{className:"px-6 py-4",children:N.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold ${Ce.post_status==="publish"?"text-green-600 bg-green-50":"text-gray-500 bg-gray-100"}`,children:Ce.post_status==="publish"?"YAYINDA":"TASLAK"})}),N.jsx("td",{className:"px-6 py-4 text-right",children:N.jsxs("div",{className:"flex justify-end gap-2",children:[N.jsx("button",{onClick:()=>Y(Ce),className:"px-3 py-1.5 bg-blue-50 text-blue-600 hover:bg-blue-100 rounded-lg text-xs font-bold transition-colors",children:"Dzenle "}),N.jsx("button",{onClick:()=>I(Ce.id,Ce.post_status),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-colors ${Ce.post_status==="publish"?"bg-amber-50 text-amber-600 hover:bg-amber-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,children:Ce.post_status==="publish"?"Pasifletir":"Yaynla"})]})})]},Ce.id))})]})}),U&&N.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:N.jsxs(Va.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden",children:[N.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[N.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Sayfa Dzenle"}),N.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-gray-600",children:""})]}),N.jsxs("div",{className:"p-6 overflow-y-auto custom-scrollbar space-y-6",children:[N.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Sayfa Bal (H1)"}),N.jsx("input",{type:"text",value:U.title,onChange:Ce=>V({...U,title:Ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none font-bold text-gray-800"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"URL (Slug)"}),N.jsx("input",{type:"text",value:U.slug,onChange:Ce=>V({...U,slug:Ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none font-mono text-sm text-gray-600"})]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"erik (HTML)"}),N.jsx("textarea",{value:U.content||"",onChange:Ce=>V({...U,content:Ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none font-mono text-sm h-64",placeholder:"<p>Sayfa ierii...</p>"}),N.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"HTML etiketleri kullanabilirsiniz."})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Meta Aklamas (Description)"}),N.jsx("textarea",{value:U.excerpt||"",onChange:Ce=>V({...U,excerpt:Ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm h-24",placeholder:"Google arama sonularnda grnecek ksa aklama..."})]})]}),N.jsxs("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end gap-3",children:[N.jsx("button",{onClick:()=>V(null),className:"px-6 py-2.5 bg-white border border-gray-200 text-gray-700 font-bold rounded-xl hover:bg-gray-50 transition-colors",children:"ptal"}),N.jsx("button",{onClick:ee,className:"px-6 py-2.5 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all",children:"Deiiklikleri Kaydet"})]})]})})]})}function kve({quote:l,isOpen:u,onClose:p,onAssigned:x}){const[A,M]=ze.useState([]),[O,I]=ze.useState(!0),[U,V]=ze.useState(null),[Y,ee]=ze.useState(""),[fe,Ce]=ze.useState(!1);ze.useEffect(()=>{u&&l&&pe()},[u,l]);const pe=async()=>{I(!0);try{const Oe=await as.get(`/freelancer-matches.php?quote_id=${l.id}`);Oe.data.success&&M(Oe.data.matches||[])}catch(Oe){console.error("Failed to load matches:",Oe),ao.fire("Hata","Elemeler yklenemedi","error")}finally{I(!1)}},$e=async()=>{if(!U){ao.fire("Uyar","Ltfen bir freelancer sein","warning");return}Ce(!0);try{(await as.post("/quote-assignments.php",{quote_id:l.id,freelancer_id:U.id,admin_note:Y,status:"pending"})).data.success&&(ao.fire("Baarl","Teklif freelancer'a atand","success"),x?.(),p())}catch(Oe){console.error("Assignment failed:",Oe),ao.fire("Hata",Oe.response?.data?.error||"Atama baarsz","error")}finally{Ce(!1)}},be=Oe=>Oe>=150?"text-green-600 bg-green-50":Oe>=100?"text-blue-600 bg-blue-50":Oe>=50?"text-amber-600 bg-amber-50":"text-gray-600 bg-gray-50",ct=Oe=>Oe>=150?"Mkemmel Eleme":Oe>=100?"yi Eleme":Oe>=50?"Orta Eleme":"Dk Eleme";return u?N.jsx(HC,{children:N.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:N.jsxs(Va.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-3xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[N.jsxs("div",{className:"px-8 py-6 border-b border-gray-100 flex items-center justify-between bg-gradient-to-r from-blue-50 to-white",children:[N.jsxs("div",{children:[N.jsx("h2",{className:"text-2xl font-black text-gray-900",children:"Freelancer Ata"}),N.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[N.jsx("span",{className:"font-bold",children:l.name}),"  ",l.location||"Lokasyon belirtilmemi"]})]}),N.jsx("button",{onClick:p,className:"w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors",children:N.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),N.jsxs("div",{className:"flex-1 overflow-y-auto p-8",children:[O?N.jsxs("div",{className:"text-center py-12",children:[N.jsx("div",{className:"inline-block w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),N.jsx("p",{className:"mt-4 text-gray-500",children:"Uygun freelancer'lar aranyor..."})]}):A.length===0?N.jsxs("div",{className:"text-center py-12",children:[N.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:N.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),N.jsx("p",{className:"text-gray-500 font-medium",children:"Uygun freelancer bulunamad"}),N.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Bu blgede alan onayl freelancer yok"})]}):N.jsx("div",{className:"space-y-4",children:A.map(Oe=>{const J=Oe.freelancer,rt=U?.id===J.id;return N.jsx(Va.div,{whileHover:{scale:1.01},onClick:()=>V(J),className:`p-6 rounded-2xl border-2 cursor-pointer transition-all ${rt?"border-blue-500 bg-blue-50 shadow-lg":"border-gray-100 hover:border-gray-200 bg-white"}`,children:N.jsxs("div",{className:"flex items-start justify-between",children:[N.jsxs("div",{className:"flex-1",children:[N.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[N.jsx("h3",{className:"text-lg font-bold text-gray-900",children:J.name}),N.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-black uppercase tracking-wider ${be(Oe.score)}`,children:ct(Oe.score)})]}),N.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-3",children:[N.jsxs("div",{children:[N.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider block mb-1",children:"ehir"}),N.jsx("span",{className:"text-gray-700 font-medium",children:J.city})]}),N.jsxs("div",{children:[N.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider block mb-1",children:"Deneyim"}),N.jsxs("span",{className:"text-gray-700 font-medium",children:[J.experience," yl"]})]}),N.jsxs("div",{children:[N.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider block mb-1",children:"letiim"}),N.jsx("span",{className:"text-gray-700 font-medium text-xs",children:J.email})]}),N.jsxs("div",{children:[N.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider block mb-1",children:"Telefon"}),N.jsx("span",{className:"text-gray-700 font-medium",children:J.phone})]})]}),J.specialization&&N.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:JSON.parse(J.specialization).map(It=>N.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs font-bold text-gray-600 uppercase",children:It},It))}),Oe.match_details&&N.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[N.jsxs("div",{children:[" ",Oe.match_details.location]}),Oe.match_details.specialization&&N.jsxs("div",{children:[" ",Oe.match_details.specialization]})]})]}),N.jsx("div",{className:"ml-4",children:N.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center text-2xl font-black ${be(Oe.score)}`,children:Oe.score})})]})},J.id)})}),U&&N.jsxs("div",{className:"mt-6 p-6 bg-gray-50 rounded-2xl border border-gray-200",children:[N.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Admin Notu (Opsiyonel)"}),N.jsx("textarea",{value:Y,onChange:Oe=>ee(Oe.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all resize-none",rows:"3",placeholder:"Bu atama hakknda not ekleyin..."})]})]}),N.jsxs("div",{className:"px-8 py-6 border-t border-gray-100 flex items-center justify-between bg-gray-50",children:[N.jsx("button",{onClick:p,className:"px-6 py-3 rounded-xl font-bold text-gray-600 hover:bg-gray-200 transition-colors",children:"ptal"}),N.jsx("button",{onClick:$e,disabled:!U||fe,className:"px-8 py-3 rounded-xl font-bold text-white bg-blue-600 hover:bg-blue-500 disabled:bg-gray-300 disabled:cursor-not-allowed transition-all shadow-lg shadow-blue-500/20",children:fe?"Atanyor...":"Freelancer'a Ata"})]})]})})}):null}function _ve(){const[l,u]=ze.useState([]),[p,x]=ze.useState(!0),[A,M]=ze.useState("all"),[O,I]=ze.useState(null),[U,V]=ze.useState([]),[Y,ee]=ze.useState(!1);ze.useEffect(()=>{fe()},[]),ze.useEffect(()=>{O&&$e(O.id)},[O]);const fe=async()=>{try{const Oe=await as.get("/admin-update.php?table=quotes&action=list");if(Oe.data.success){const J=(Oe.data.data||[]).sort((rt,It)=>new Date(It.created_at)-new Date(rt.created_at));u(J)}}catch(Oe){console.error("Failed to load quotes:",Oe)}finally{x(!1)}},Ce=async Oe=>{try{await as.post("/admin-update.php",{action:"update",table:"quotes",id:Oe.id,data:{is_read:!Oe.is_read}}),fe(),O?.id===Oe.id&&I({...Oe,is_read:!Oe.is_read})}catch{ao.fire("Hata","Durum gncellenemedi","error")}},pe=async Oe=>{if((await ao.fire({title:"Emin misiniz?",text:"Bu talep kalc olarak silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal"})).isConfirmed)try{await as.post("/admin-update.php",{action:"delete",table:"quotes",id:Oe}),fe(),I(null),ao.fire("Silindi!","Talep baaryla silindi.","success")}catch{ao.fire("Hata","Silme ilemi baarsz","error")}},$e=async Oe=>{try{const J=await as.get(`/quote-assignments.php?quote_id=${Oe}`);if(console.log("Assignments response:",J.data),J.data.success){const rt=Array.isArray(J.data.data)?J.data.data:[];V(rt)}}catch(J){console.error("Failed to load assignments:",J),V([])}},be=()=>{O&&$e(O.id),fe()},ct=l.filter(Oe=>A==="new"?!Oe.is_read:A==="read"?Oe.is_read:!0);return p?N.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):N.jsxs(Va.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[N.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[N.jsxs("div",{children:[N.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Teklif Talepleri"}),N.jsx("p",{className:"text-gray-500 text-sm",children:"Gelen i talepleri ve mteri mesajlar"})]}),N.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl",children:[{id:"all",label:"Tm",count:l.length},{id:"new",label:"Yeni",count:l.filter(Oe=>!Oe.is_read).length},{id:"read",label:"Okundu",count:l.filter(Oe=>Oe.is_read).length}].map(Oe=>N.jsxs("button",{onClick:()=>M(Oe.id),className:`px-4 py-1.5 rounded-lg text-xs font-bold transition-all ${A===Oe.id?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[Oe.label," (",Oe.count,")"]},Oe.id))})]}),N.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[N.jsxs("div",{className:`xl:col-span-1 space-y-3 max-h-[700px] overflow-y-auto pr-2 custom-scrollbar ${O?"hidden xl:block":"block"}`,children:[ct.map(Oe=>N.jsxs(Va.div,{layout:!0,onClick:()=>I(Oe),className:`p-4 rounded-2xl border cursor-pointer transition-all ${O?.id===Oe.id?"bg-blue-600 border-blue-600 text-white shadow-lg shadow-blue-200":`bg-white hover:bg-gray-50 border-gray-100 ${Oe.is_read?"":"border-l-4 border-l-blue-500"}`}`,children:[N.jsxs("div",{className:"flex justify-between items-start mb-1",children:[N.jsx("span",{className:"text-[10px] font-black uppercase text-blue-500 tracking-widest",children:Oe.id?`MF-${String(Oe.id).padStart(5,"0")}`:"---"}),N.jsx("span",{className:"text-[10px] opacity-60",children:new Date(Oe.created_at).toLocaleDateString("tr-TR")})]}),N.jsx("div",{className:"flex justify-between items-center mb-1",children:N.jsx("span",{className:"text-xs font-black uppercase opacity-60 tracking-widest",children:Oe.service||"Genel"})}),N.jsx("div",{className:`font-bold ${O?.id===Oe.id?"text-white":"text-gray-800"}`,children:Oe.name}),N.jsx("div",{className:"text-xs truncate opacity-70",children:Oe.email})]},Oe.id)),ct.length===0&&N.jsx("div",{className:"text-center py-12 text-gray-400 italic bg-white rounded-3xl border border-dashed border-gray-200",children:"Talep bulunamad."})]}),N.jsx("div",{className:`xl:col-span-2 ${O?"block":"hidden xl:flex"}`,children:N.jsx(HC,{mode:"wait",children:O?N.jsxs(Va.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"bg-white rounded-3xl border border-gray-100 shadow-sm p-8 h-full flex flex-col",children:[N.jsxs("div",{className:"flex justify-between items-start mb-8",children:[N.jsx("button",{onClick:()=>I(null),className:"xl:hidden p-2 hover:bg-gray-100 rounded-lg text-gray-400",children:" Geri"}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onClick:()=>Ce(O),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${O.is_read?"bg-gray-100 text-gray-600":"bg-green-100 text-green-700"}`,children:O.is_read?"Okunmad Olarak aretle":"Okundu Olarak aretle"}),N.jsx("button",{onClick:()=>pe(O.id),className:"p-2 text-red-400 hover:bg-red-50 rounded-xl transition-colors",children:""})]})]}),N.jsxs("div",{className:"space-y-6 flex-1",children:[N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[N.jsxs("div",{children:[N.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-2",children:"Mteri Bilgileri"}),N.jsxs("div",{className:"space-y-3",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),N.jsx("div",{className:"text-lg font-bold text-gray-800",children:O.name})]}),N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),N.jsx("div",{className:"text-sm text-gray-600 font-medium",children:O.email})]}),N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),N.jsx("div",{className:"text-sm text-gray-600 font-medium",children:O.phone})]})]})]}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-2",children:"Talep Detaylar"}),N.jsxs("div",{className:"space-y-3",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("span",{className:"w-8 h-8 rounded-full bg-amber-50 text-amber-500 flex items-center justify-center text-xs",children:""}),N.jsxs("div",{children:[N.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:"Hizmet"}),N.jsx("div",{className:"text-sm font-bold text-gray-800",children:O.service||"Genel"})]})]}),N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("span",{className:"w-8 h-8 rounded-full bg-amber-50 text-amber-500 flex items-center justify-center text-xs",children:""}),N.jsxs("div",{children:[N.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:"Tarih"}),N.jsx("div",{className:"text-sm font-bold text-gray-800",children:new Date(O.created_at).toLocaleString("tr-TR")})]})]})]})]})]}),O.wizard_details&&N.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100",children:[N.jsx("h3",{className:"text-[10px] font-black text-blue-500 uppercase tracking-[0.2em] mb-4",children:"Sihirbaz Detaylar"}),N.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(JSON.parse(typeof O.wizard_details=="string"?O.wizard_details:JSON.stringify(O.wizard_details))).map(([Oe,J])=>N.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:[N.jsx("div",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-wider mb-1",children:Oe.replace(/_/g," ")}),N.jsx("div",{className:"text-sm font-bold text-gray-800",children:String(J)})]},Oe))})]}),N.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-50",children:[N.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Mesaj / Ek Bilgiler"}),N.jsx("div",{className:"bg-gray-50 p-6 rounded-2xl text-gray-700 leading-relaxed whitespace-pre-wrap italic border border-dashed border-gray-200",children:O.message||"Ek bilgi belirtilmemi."})]}),N.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100",children:[N.jsxs("div",{className:"flex items-center justify-between mb-4",children:[N.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Freelancer Atamalar"}),N.jsxs("button",{onClick:()=>ee(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-xl text-xs font-bold transition-all shadow-lg shadow-blue-500/20 flex items-center gap-2",children:[N.jsx("span",{children:""}),"Freelancer Ata"]})]}),U.length>0?N.jsx("div",{className:"space-y-3",children:U.map(Oe=>N.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[N.jsxs("div",{className:"flex items-center justify-between mb-2",children:[N.jsx("div",{className:"font-bold text-gray-900",children:Oe.freelancer?.name}),N.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-black uppercase ${Oe.status==="accepted"?"bg-green-100 text-green-700":Oe.status==="rejected"?"bg-red-100 text-red-700":Oe.status==="completed"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:Oe.status==="pending"?"Beklemede":Oe.status==="accepted"?"Kabul Edildi":Oe.status==="rejected"?"Reddedildi":"Tamamland"})]}),N.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[N.jsxs("div",{children:[" ",Oe.freelancer?.email]}),N.jsxs("div",{children:[" ",Oe.freelancer?.phone]}),N.jsxs("div",{children:[" ",Oe.freelancer?.city]}),N.jsxs("div",{children:[" Atand: ",new Date(Oe.assigned_at).toLocaleString("tr-TR")]}),Oe.admin_note&&N.jsxs("div",{className:"mt-2 p-2 bg-white rounded border border-slate-200",children:[N.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase mb-1",children:"Admin Notu:"}),N.jsx("div",{className:"text-xs text-gray-700",children:Oe.admin_note})]})]})]},Oe.id))}):N.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"Henz freelancer atamas yaplmam"})]})]}),N.jsxs("p",{className:"text-[10px] text-blue-500 mt-8 text-center uppercase tracking-[0.3em] font-black",children:["Teklif No: ",O.id?`MF-${String(O.id).padStart(5,"0")}`:O.id]})]},O.id):N.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-300 border-2 border-dashed border-gray-100 rounded-3xl bg-gray-50/30",children:[N.jsx("span",{className:"text-6xl mb-4",children:""}),N.jsx("p",{className:"font-bold tracking-tight uppercase text-xs opacity-50",children:"Detaylar grmek iin bir talep sein"})]})})})]}),N.jsx(kve,{quote:O,isOpen:Y,onClose:()=>ee(!1),onAssigned:be})]})}function Dve(){const[l,u]=ze.useState([]),[p,x]=ze.useState([]),[A,M]=ze.useState(null),[O,I]=ze.useState(null),[U,V]=ze.useState(!0),[Y,ee]=ze.useState(!1);ze.useEffect(()=>{fe(A)},[A]);const fe=async Oe=>{V(!0);try{const J=await as.get(`/media.php?action=list&folder_id=${Oe||""}`);J.data.success&&(u(J.data.folders),x(J.data.files),I(J.data.parent_id))}catch{console.error("Failed to load media")}finally{V(!1)}},Ce=async()=>{const{value:Oe}=await ao.fire({title:"Yeni Klasr",input:"text",inputLabel:"Klasr Ad",inputPlaceholder:"rn: Villalar, Dn ekimleri...",showCancelButton:!0,confirmButtonText:"Olutur",cancelButtonText:"ptal",customClass:{confirmButton:"bg-blue-600 rounded-xl px-6 py-2.5 font-bold",cancelButton:"bg-gray-100 text-gray-600 rounded-xl px-6 py-2.5 font-bold"}});if(Oe)try{await as.post("/media.php",{action:"create-folder",name:Oe,parent_id:A}),fe(A)}catch{ao.fire("Hata","Klasr oluturulamad","error")}},pe=async Oe=>{const J=Array.from(Oe.target.files);if(J.length===0)return;ee(!0);let rt=0,It=0;try{await Promise.all(J.map(async qe=>{const ae=new FormData;ae.append("file",qe),ae.append("folder_id",A||""),ae.append("action","upload");try{await as.post("/media.php",ae,{headers:{"Content-Type":"multipart/form-data"}}),rt++}catch(lt){console.error("Upload failed for file:",qe.name,lt),It++}})),fe(A),It===0?ao.fire({title:"Yklendi",text:`${rt} dosya baaryla yklendi.`,icon:"success",timer:1500,showConfirmButton:!1}):ao.fire({title:"Tamamland",text:`${rt} dosya yklendi, ${It} dosya ise yklenemedi.`,icon:"warning"})}catch{ao.fire("Hata","Ykleme ilemi balatlamad","error")}finally{ee(!1),Oe.target.value=""}},$e=(Oe,J="url")=>{navigator.clipboard.writeText(Oe),ao.fire({title:J==="url"?"Link Kopyaland":"Kod Kopyaland",text:J==="url"?"Resim adresi panoya kopyaland.":"Galeri kodu panoya kopyaland.",icon:"success",timer:1e3,showConfirmButton:!1,toast:!0,position:"bottom-end"})},be=async Oe=>{if((await ao.fire({title:"Emin misiniz?",text:"Bu dosya kalc olarak silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal"})).isConfirmed)try{await as.post("/media.php",{action:"delete-file",id:Oe}),fe(A)}catch{ao.fire("Hata","Silinemedi","error")}},ct=async Oe=>{if((await ao.fire({title:"Emin misiniz?",text:"Klasrn iindeki her ey silinecektir (Dosyalar varsa nce onlar silmelisiniz).",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal"})).isConfirmed)try{await as.post("/media.php",{action:"delete-folder",id:Oe}),fe(A)}catch(rt){ao.fire("Hata",rt.response?.data?.error||"Silinemedi","error")}};return N.jsxs(Va.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[N.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[N.jsxs("div",{children:[N.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Medya Ktphanesi"}),N.jsx("p",{className:"text-gray-500 text-sm",children:"Grsellerinizi ve galeri klasrlerinizi ynetin"})]}),N.jsxs("div",{className:"flex gap-2",children:[N.jsxs("button",{onClick:Ce,className:"px-5 py-2.5 bg-white border border-gray-200 text-gray-700 hover:bg-gray-50 rounded-xl font-bold transition-all shadow-sm flex items-center gap-2",children:[N.jsx("span",{children:""})," Yeni Klasr"]}),N.jsxs("label",{className:`px-5 py-2.5 ${Y?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"} text-white rounded-xl font-bold cursor-pointer transition-all shadow-lg shadow-blue-500/20 flex items-center gap-2`,children:[N.jsx("span",{children:Y?"":""}),Y?"Ykleniyor...":"Dosya Ykle",N.jsx("input",{type:"file",className:"hidden",onChange:pe,disabled:Y,accept:"image/*",multiple:!0})]})]})]}),N.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white/50 backdrop-blur-sm rounded-2xl border border-gray-100",children:[N.jsx("button",{onClick:()=>M(null),className:`px-3 py-1 rounded-lg text-xs font-black tracking-widest uppercase transition-colors ${A?"text-gray-400 hover:text-blue-500":"bg-blue-100 text-blue-600"}`,children:"ROOT"}),A&&N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("span",{className:"text-gray-300",children:"/"}),N.jsxs("button",{onClick:()=>M(O),className:"flex items-center gap-1.5 px-3 py-1 rounded-lg text-xs font-bold text-blue-500 hover:bg-blue-50 transition-colors",children:[N.jsx("span",{className:"text-sm",children:""})," Geri Dn"]})]})]}),U?N.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-6 animate-pulse",children:[...Array(12)].map((Oe,J)=>N.jsx("div",{className:"aspect-square bg-gray-100 rounded-3xl"},J))}):N.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-6",children:[N.jsxs(HC,{mode:"popLayout",children:[l.map(Oe=>N.jsxs(Va.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"group relative aspect-square bg-white rounded-3xl shadow-sm border border-gray-100 hover:border-blue-400 hover:shadow-xl hover:shadow-blue-500/5 transition-all p-4 flex flex-col items-center justify-center cursor-pointer",onClick:()=>M(Oe.id),children:[N.jsxs("div",{className:"absolute inset-0 bg-blue-900/60 opacity-0 group-hover:opacity-100 transition-all flex flex-col items-center justify-center gap-3 rounded-3xl z-10",children:[N.jsx("button",{onClick:J=>{J.stopPropagation(),$e(`[gallery id="${Oe.id}"]`,"shortcode")},className:"w-12 h-12 bg-white rounded-xl text-green-600 shadow-xl hover:scale-110 active:scale-95 transition-all flex items-center justify-center",title:"Galeri Kodunu Kopyala",children:""}),N.jsx("div",{className:"text-[10px] text-white/80 font-black tracking-widest uppercase",children:"Galeri Kodu"})]}),N.jsx("div",{className:"text-5xl mb-2 drop-shadow-sm group-hover:scale-110 transition-transform",children:""}),N.jsx("span",{className:"text-[11px] font-bold text-gray-700 text-center truncate w-full px-2 uppercase tracking-tighter",children:Oe.name}),N.jsx("button",{onClick:J=>{J.stopPropagation(),ct(Oe.id)},className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 p-1.5 text-red-500 hover:bg-red-50 rounded-xl transition-all z-20",children:""})]},Oe.id)),p.map(Oe=>N.jsxs(Va.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"group relative aspect-square bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden hover:border-blue-400 hover:shadow-xl hover:shadow-blue-500/5 transition-all",children:[N.jsxs("div",{className:"w-full h-full relative",children:[Oe.mime_type?.startsWith("image/")?N.jsx("img",{src:Oe.public_url,alt:Oe.alt,className:"w-full h-full object-cover"}):N.jsx("div",{className:"w-full h-full flex items-center justify-center text-4xl bg-gray-50",children:""}),N.jsxs("div",{className:"absolute inset-0 bg-blue-900/60 opacity-0 group-hover:opacity-100 transition-all flex flex-col items-center justify-center gap-3",children:[N.jsx("div",{className:"flex gap-2",children:N.jsx("button",{onClick:()=>$e(Oe.public_url),className:"w-12 h-12 bg-white rounded-xl text-blue-600 shadow-xl hover:scale-110 active:scale-95 transition-all flex items-center justify-center",title:"Link Kopyala",children:""})}),N.jsx("div",{className:"text-[10px] text-white/80 font-black tracking-widest uppercase",children:"Link Kopyala"})]})]}),N.jsx("div",{className:"absolute top-2 right-2 flex gap-1",children:N.jsx("button",{onClick:()=>be(Oe.id),className:"opacity-0 group-hover:opacity-100 w-7 h-7 bg-red-500/80 backdrop-blur-md text-white rounded-lg flex items-center justify-center text-xs hover:bg-red-600 transition-all shadow-lg",children:""})}),N.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-2 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:N.jsxs("p",{className:"text-[9px] font-bold text-white truncate uppercase tracking-tighter",children:[(Oe.file_size/1024).toFixed(1)," KB"]})})]},Oe.id))]}),l.length===0&&p.length===0&&N.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center justify-center text-gray-300 border-2 border-dashed border-gray-100 rounded-[3rem] bg-gray-50/20",children:[N.jsx("span",{className:"text-6xl mb-4",children:""}),N.jsx("p",{className:"font-black uppercase text-xs tracking-[0.2em] opacity-30",children:"Buralar ok Issz..."})]})]})]})}function Ove(){const[l,u]=ze.useState([]),[p,x]=ze.useState(!0);ze.useEffect(()=>{A()},[]);const A=async()=>{try{const V=await as.get("/pexels-images.php");V.data.success&&u(V.data.images)}catch(V){console.error("Failed to load images",V),ao.fire("Hata","Grseller yklenemedi","error")}finally{x(!1)}},M=async V=>{try{const Y=!V.is_visible;u(ee=>ee.map(fe=>fe.id===V.id?{...fe,is_visible:Y}:fe)),await as.post("/pexels-images.php",{action:"toggle",id:V.id,is_visible:Y})}catch{ao.fire("Hata","Durum gncellenemedi","error"),A()}},O=async V=>{if((await ao.fire({title:"Emin misiniz?",text:"Bu grsel koleksiyondan kaldrlacak.",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, Sil",cancelButtonText:"ptal"})).isConfirmed)try{await as.post("/pexels-images.php",{action:"delete",id:V}),u(ee=>ee.filter(fe=>fe.id!==V)),ao.fire("Silindi","Grsel kaldrld.","success")}catch{ao.fire("Hata","Silinemedi","error")}},I=async()=>{x(!0);try{const V=await as.post("/pexels-images.php",{action:"sync"});V.data.success&&(ao.fire("Eitlendi",`${V.data.synced_count} yeni grsel eklendi.`,"success"),A())}catch(V){console.error("Sync error:",V);const Y=V.response?.data?.error||V.message||"Senkronizasyon baarsz oldu.",ee=V.response?.data?.file?`
File: ${V.response.data.file}:${V.response.data.line}`:"";ao.fire("Hata",Y+ee,"error")}finally{x(!1)}},U=async()=>{const{value:V}=await ao.fire({title:"Yeni Pexels Grseli",input:"url",inputLabel:"Grsel URL (Pexels src)",inputPlaceholder:"https://images.pexels.com/...",showCancelButton:!0,confirmButtonText:"Ekle",cancelButtonText:"ptal"});if(V)try{await as.post("/pexels-images.php",{action:"add",image_url:V,photographer:"Admin Added"}),A(),ao.fire("Baarl","Grsel eklendi","success")}catch{ao.fire("Hata","Ekleme baarsz","error")}};return p?N.jsx("div",{className:"p-8 text-center text-gray-500",children:"Ykleniyor..."}):N.jsxs(Va.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsxs("div",{children:[N.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Pexels Koleksiyonu"}),N.jsx("p",{className:"text-gray-500 text-sm",children:"Sitede rastgele gsterilen arka plan grsellerini ynetin."})]}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onClick:I,disabled:p,className:"px-6 py-2.5 bg-gray-600 text-white rounded-xl font-bold hover:bg-gray-700 transition-all shadow-sm",children:" Senkronize Et"}),N.jsx("button",{onClick:U,className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-500/30 hover:bg-indigo-700 hover:scale-105 transition-all",children:"+ Yeni Ekle"})]})]}),N.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:N.jsx(HC,{children:l.map(V=>N.jsxs(Va.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:`group relative rounded-3xl overflow-hidden shadow-sm border-2 transition-all ${V.is_visible?"border-transparent shadow-md":"border-red-200 grayscale opacity-70"}`,children:[N.jsxs("div",{className:"aspect-[3/4] relative",children:[N.jsx("img",{src:V.image_url,alt:V.photographer,className:"w-full h-full object-cover",loading:"lazy"}),N.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center gap-3",children:[N.jsx("button",{onClick:()=>M(V),className:`px-4 py-2 rounded-lg font-bold text-xs uppercase tracking-wider ${V.is_visible?"bg-red-500 text-white":"bg-green-500 text-white"}`,children:V.is_visible?"Pasifletir":"Aktifletir"}),N.jsx("button",{onClick:()=>O(V.id),className:"p-2 bg-white/20 text-white rounded-full hover:bg-red-600 transition-colors",title:"Sil",children:""})]}),N.jsx("div",{className:"absolute top-3 right-3",children:N.jsx("span",{className:`w-3 h-3 rounded-full block shadow-sm ${V.is_visible?"bg-green-500":"bg-red-500"}`})})]}),N.jsx("div",{className:"p-3 bg-white text-xs text-center text-gray-500 font-medium truncate",children:V.photographer||"Fotoraf Bilinmiyor"})]},V.id))})}),l.length===0&&N.jsx("div",{className:"text-center py-20 bg-gray-50 rounded-3xl border-2 border-dashed border-gray-200 text-gray-400",children:"Henz grsel eklenmemi."})]})}var yee={exports:{}},vee,wre;function Nve(){if(wre)return vee;wre=1;var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return vee=l,vee}var xee,Cre;function Rve(){if(Cre)return xee;Cre=1;var l=Nve();function u(){}function p(){}return p.resetWarningCache=u,xee=function(){function x(O,I,U,V,Y,ee){if(ee!==l){var fe=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw fe.name="Invariant Violation",fe}}x.isRequired=x;function A(){return x}var M={array:x,bigint:x,bool:x,func:x,number:x,object:x,string:x,symbol:x,any:x,arrayOf:A,element:x,elementType:x,instanceOf:A,node:x,objectOf:A,oneOf:A,oneOfType:A,shape:A,exact:A,checkPropTypes:p,resetWarningCache:u};return M.PropTypes=M,M},xee}var Sre;function Mve(){return Sre||(Sre=1,yee.exports=Rve()()),yee.exports}var zn=Mve(),nte=function(){return nte=Object.assign||function(l){for(var u,p=1,x=arguments.length;p<x;p++){u=arguments[p];for(var A in u)Object.prototype.hasOwnProperty.call(u,A)&&(l[A]=u[A])}return l},nte.apply(this,arguments)},wue={onActivate:zn.func,onAddUndo:zn.func,onBeforeAddUndo:zn.func,onBeforeExecCommand:zn.func,onBeforeGetContent:zn.func,onBeforeRenderUI:zn.func,onBeforeSetContent:zn.func,onBeforePaste:zn.func,onBlur:zn.func,onChange:zn.func,onClearUndos:zn.func,onClick:zn.func,onContextMenu:zn.func,onCommentChange:zn.func,onCompositionEnd:zn.func,onCompositionStart:zn.func,onCompositionUpdate:zn.func,onCopy:zn.func,onCut:zn.func,onDblclick:zn.func,onDeactivate:zn.func,onDirty:zn.func,onDrag:zn.func,onDragDrop:zn.func,onDragEnd:zn.func,onDragGesture:zn.func,onDragOver:zn.func,onDrop:zn.func,onExecCommand:zn.func,onFocus:zn.func,onFocusIn:zn.func,onFocusOut:zn.func,onGetContent:zn.func,onHide:zn.func,onInit:zn.func,onInput:zn.func,onKeyDown:zn.func,onKeyPress:zn.func,onKeyUp:zn.func,onLoadContent:zn.func,onMouseDown:zn.func,onMouseEnter:zn.func,onMouseLeave:zn.func,onMouseMove:zn.func,onMouseOut:zn.func,onMouseOver:zn.func,onMouseUp:zn.func,onNodeChange:zn.func,onObjectResizeStart:zn.func,onObjectResized:zn.func,onObjectSelected:zn.func,onPaste:zn.func,onPostProcess:zn.func,onPostRender:zn.func,onPreProcess:zn.func,onProgressState:zn.func,onRedo:zn.func,onRemove:zn.func,onReset:zn.func,onSaveContent:zn.func,onSelectionChange:zn.func,onSetAttrib:zn.func,onSetContent:zn.func,onShow:zn.func,onSubmit:zn.func,onUndo:zn.func,onVisualAid:zn.func,onSkinLoadError:zn.func,onThemeLoadError:zn.func,onModelLoadError:zn.func,onPluginLoadError:zn.func,onIconsLoadError:zn.func,onLanguageLoadError:zn.func,onScriptsLoad:zn.func,onScriptsLoadError:zn.func},Bve=nte({apiKey:zn.string,licenseKey:zn.string,id:zn.string,inline:zn.bool,init:zn.object,initialValue:zn.string,onEditorChange:zn.func,value:zn.string,tagName:zn.string,tabIndex:zn.number,cloudChannel:zn.string,plugins:zn.oneOfType([zn.string,zn.array]),toolbar:zn.oneOfType([zn.string,zn.array]),disabled:zn.bool,readonly:zn.bool,textareaName:zn.string,tinymceScriptSrc:zn.oneOfType([zn.string,zn.arrayOf(zn.string),zn.arrayOf(zn.shape({src:zn.string,async:zn.bool,defer:zn.bool}))]),rollback:zn.oneOfType([zn.number,zn.oneOf([!1])]),scriptLoading:zn.shape({async:zn.bool,defer:zn.bool,delay:zn.number})},wue),Cue=function(l){var u=l;return u&&u.tinymce?u.tinymce:null},wee=function(l){return typeof l=="function"},Ere=function(l){return l in wue},Tre=function(l){return l.substr(2)},Lve=function(l,u,p,x,A,M,O){var I=Object.keys(A).filter(Ere),U=Object.keys(M).filter(Ere),V=I.filter(function(ee){return M[ee]===void 0}),Y=U.filter(function(ee){return A[ee]===void 0});V.forEach(function(ee){var fe=Tre(ee),Ce=O[fe];p(fe,Ce),delete O[fe]}),Y.forEach(function(ee){var fe=x(l,ee),Ce=Tre(ee);O[Ce]=fe,u(Ce,fe)})},Fve=function(l,u,p,x,A){return Lve(A,l.on.bind(l),l.off.bind(l),function(M,O){return function(I){var U;return(U=M(O))===null||U===void 0?void 0:U(I,l)}},u,p,x)},Are=0,Sue=function(l){var u=Date.now(),p=Math.floor(Math.random()*1e9);return Are++,l+"_"+p+Are+String(u)},kre=function(l){return l!==null&&(l.tagName.toLowerCase()==="textarea"||l.tagName.toLowerCase()==="input")},_re=function(l){return typeof l>"u"||l===""?[]:Array.isArray(l)?l:l.split(" ")},Pve=function(l,u){return _re(l).concat(_re(u))},$ve=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},Ive=function(l){if(!("isConnected"in Node.prototype)){for(var u=l,p=l.parentNode;p!=null;)u=p,p=u.parentNode;return u===l.ownerDocument}return l.isConnected},Dre=function(l,u){l!==void 0&&(l.mode!=null&&typeof l.mode=="object"&&typeof l.mode.set=="function"?l.mode.set(u):l.setMode(u))},Hve=function(l){var u=Cue(l);if(!u)throw new Error("tinymce should have been loaded into global scope");return u},Ore=function(l){return l.options&&l.options.isRegistered("disabled")},ote=function(){return ote=Object.assign||function(l){for(var u,p=1,x=arguments.length;p<x;p++){u=arguments[p];for(var A in u)Object.prototype.hasOwnProperty.call(u,A)&&(l[A]=u[A])}return l},ote.apply(this,arguments)},zve=function(l,u,p){var x,A,M=l.createElement("script");M.referrerPolicy="origin",M.type="application/javascript",M.id=u.id,M.src=u.src,M.async=(x=u.async)!==null&&x!==void 0?x:!1,M.defer=(A=u.defer)!==null&&A!==void 0?A:!1;var O=function(){M.removeEventListener("load",O),M.removeEventListener("error",I),p(u.src)},I=function(U){M.removeEventListener("load",O),M.removeEventListener("error",I),p(u.src,U)};M.addEventListener("load",O),M.addEventListener("error",I),l.head&&l.head.appendChild(M)},jve=function(l){var u={},p=function(O,I){var U=u[O];U.done=!0,U.error=I;for(var V=0,Y=U.handlers;V<Y.length;V++){var ee=Y[V];ee(O,I)}U.handlers=[]},x=function(O,I,U){var V=function(Oe){return U!==void 0?U(Oe):console.error(Oe)};if(O.length===0){V(new Error("At least one script must be provided"));return}for(var Y=0,ee=!1,fe=function(Oe,J){ee||(J?(ee=!0,V(J)):++Y===O.length&&I())},Ce=0,pe=O;Ce<pe.length;Ce++){var $e=pe[Ce],be=u[$e.src];if(be)be.done?fe($e.src,be.error):be.handlers.push(fe);else{var ct=Sue("tiny-");u[$e.src]={id:ct,src:$e.src,done:!1,error:null,handlers:[fe]},zve(l,ote({id:ct},$e),p)}}},A=function(){for(var O,I=0,U=Object.values(u);I<U.length;I++){var V=U[I],Y=l.getElementById(V.id);Y!=null&&Y.tagName==="SCRIPT"&&((O=Y.parentNode)===null||O===void 0||O.removeChild(Y))}u={}},M=function(){return l};return{loadScripts:x,deleteScripts:A,getDocument:M}},Vve=function(){var l=[],u=function(A){var M=l.find(function(O){return O.getDocument()===A});return M===void 0&&(M=jve(A),l.push(M)),M},p=function(A,M,O,I,U){var V=function(){return u(A).loadScripts(M,I,U)};O>0?setTimeout(V,O):V()},x=function(){for(var A=l.pop();A!=null;A=l.pop())A.deleteScripts()};return{loadList:p,reinitialize:x}},Uve=Vve(),Zve=(function(){var l=function(u,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,A){x.__proto__=A}||function(x,A){for(var M in A)Object.prototype.hasOwnProperty.call(A,M)&&(x[M]=A[M])},l(u,p)};return function(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");l(u,p);function x(){this.constructor=u}u.prototype=p===null?Object.create(p):(x.prototype=p.prototype,new x)}})(),Z3=function(){return Z3=Object.assign||function(l){for(var u,p=1,x=arguments.length;p<x;p++){u=arguments[p];for(var A in u)Object.prototype.hasOwnProperty.call(u,A)&&(l[A]=u[A])}return l},Z3.apply(this,arguments)},Cee="change keyup compositionend setcontent CommentChange",Wve=(function(l){Zve(u,l);function u(p){var x,A,M,O=l.call(this,p)||this;return O.rollbackTimer=void 0,O.valueCursor=void 0,O.rollbackChange=function(){var I=O.editor,U=O.props.value;I&&U&&U!==O.currentContent&&I.undoManager.ignore(function(){if(I.setContent(U),O.valueCursor&&(!O.inline||I.hasFocus()))try{I.selection.moveToBookmark(O.valueCursor)}catch{}}),O.rollbackTimer=void 0},O.handleBeforeInput=function(I){if(O.props.value!==void 0&&O.props.value===O.currentContent&&O.editor&&(!O.inline||O.editor.hasFocus()))try{O.valueCursor=O.editor.selection.getBookmark(3)}catch{}},O.handleBeforeInputSpecial=function(I){(I.key==="Enter"||I.key==="Backspace"||I.key==="Delete")&&O.handleBeforeInput(I)},O.handleEditorChange=function(I){var U=O.editor;if(U&&U.initialized){var V=U.getContent();O.props.value!==void 0&&O.props.value!==V&&O.props.rollback!==!1&&(O.rollbackTimer||(O.rollbackTimer=window.setTimeout(O.rollbackChange,typeof O.props.rollback=="number"?O.props.rollback:200))),V!==O.currentContent&&(O.currentContent=V,wee(O.props.onEditorChange)&&O.props.onEditorChange(V,U))}},O.handleEditorChangeSpecial=function(I){(I.key==="Backspace"||I.key==="Delete")&&O.handleEditorChange(I)},O.initialise=function(I){var U,V,Y;I===void 0&&(I=0);var ee=O.elementRef.current;if(ee){if(!Ive(ee)){if(I===0)setTimeout(function(){return O.initialise(1)},1);else if(I<100)setTimeout(function(){return O.initialise(I+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var fe=Hve(O.view),Ce=Z3(Z3(Z3(Z3({},O.props.init),{selector:void 0,target:ee,disabled:O.props.disabled,readonly:O.props.readonly,inline:O.inline,plugins:Pve((U=O.props.init)===null||U===void 0?void 0:U.plugins,O.props.plugins),toolbar:(V=O.props.toolbar)!==null&&V!==void 0?V:(Y=O.props.init)===null||Y===void 0?void 0:Y.toolbar}),O.props.licenseKey?{license_key:O.props.licenseKey}:{}),{setup:function(pe){O.editor=pe,O.bindHandlers({}),O.inline&&!kre(ee)&&pe.once("PostRender",function($e){pe.setContent(O.getInitialValue(),{no_events:!0})}),O.props.init&&wee(O.props.init.setup)&&O.props.init.setup(pe),O.props.disabled&&(Ore(O.editor)?O.editor.options.set("disabled",O.props.disabled):O.editor.mode.set("readonly"))},init_instance_callback:function(pe){var $e,be=O.getInitialValue();O.currentContent=($e=O.currentContent)!==null&&$e!==void 0?$e:pe.getContent(),O.currentContent!==be&&(O.currentContent=be,pe.setContent(be),pe.undoManager.clear(),pe.undoManager.add(),pe.setDirty(!1)),O.props.init&&wee(O.props.init.init_instance_callback)&&O.props.init.init_instance_callback(pe)}});O.inline||(ee.style.visibility=""),kre(ee)&&(ee.value=O.getInitialValue()),fe.init(Ce)}},O.id=O.props.id||Sue("tiny-react"),O.elementRef=ze.createRef(),O.inline=(M=(x=O.props.inline)!==null&&x!==void 0?x:(A=O.props.init)===null||A===void 0?void 0:A.inline)!==null&&M!==void 0?M:!1,O.boundHandlers={},O}return Object.defineProperty(u.prototype,"view",{get:function(){var p,x;return(x=(p=this.elementRef.current)===null||p===void 0?void 0:p.ownerDocument.defaultView)!==null&&x!==void 0?x:window},enumerable:!1,configurable:!0}),u.prototype.componentDidUpdate=function(p){var x=this,A,M;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(p),this.editor.initialized)){if(this.currentContent=(A=this.currentContent)!==null&&A!==void 0?A:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==p.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var O=this.editor;O.undoManager.transact(function(){var U;if(!x.inline||O.hasFocus())try{U=O.selection.getBookmark(3)}catch{}var V=x.valueCursor;if(O.setContent(x.props.value),!x.inline||O.hasFocus())for(var Y=0,ee=[U,V];Y<ee.length;Y++){var fe=ee[Y];if(fe)try{O.selection.moveToBookmark(fe),x.valueCursor=fe;break}catch{}}})}if(this.props.readonly!==p.readonly){var I=(M=this.props.readonly)!==null&&M!==void 0?M:!1;Dre(this.editor,I?"readonly":"design")}this.props.disabled!==p.disabled&&(Ore(this.editor)?this.editor.options.set("disabled",this.props.disabled):Dre(this.editor,this.props.disabled?"readonly":"design"))}},u.prototype.componentDidMount=function(){var p=this,x,A,M,O,I;if(Cue(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(A=(x=this.props).onScriptsLoadError)===null||A===void 0||A.call(x,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((M=this.elementRef.current)===null||M===void 0)&&M.ownerDocument){var U=function(){var Y,ee;(ee=(Y=p.props).onScriptsLoad)===null||ee===void 0||ee.call(Y),p.initialise()},V=function(Y){var ee,fe;(fe=(ee=p.props).onScriptsLoadError)===null||fe===void 0||fe.call(ee,Y)};Uve.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(I=(O=this.props.scriptLoading)===null||O===void 0?void 0:O.delay)!==null&&I!==void 0?I:0,U,V)}},u.prototype.componentWillUnmount=function(){var p=this,x=this.editor;x&&(x.off(Cee,this.handleEditorChange),x.off(this.beforeInputEvent(),this.handleBeforeInput),x.off("keypress",this.handleEditorChangeSpecial),x.off("keydown",this.handleBeforeInputSpecial),x.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(A){x.off(A,p.boundHandlers[A])}),this.boundHandlers={},x.remove(),this.editor=void 0)},u.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},u.prototype.beforeInputEvent=function(){return $ve()?"beforeinput SelectionChange":"SelectionChange"},u.prototype.renderInline=function(){var p=this.props.tagName,x=p===void 0?"div":p;return ze.createElement(x,{ref:this.elementRef,id:this.id,tabIndex:this.props.tabIndex})},u.prototype.renderIframe=function(){return ze.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id,tabIndex:this.props.tabIndex})},u.prototype.getScriptSources=function(){var p,x,A=(p=this.props.scriptLoading)===null||p===void 0?void 0:p.async,M=(x=this.props.scriptLoading)===null||x===void 0?void 0:x.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:A,defer:M}]:this.props.tinymceScriptSrc.map(function(V){return typeof V=="string"?{src:V,async:A,defer:M}:V});var O=this.props.cloudChannel,I=this.props.apiKey?this.props.apiKey:"no-api-key",U="https://cdn.tiny.cloud/1/".concat(I,"/tinymce/").concat(O,"/tinymce.min.js");return[{src:U,async:A,defer:M}]},u.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},u.prototype.bindHandlers=function(p){var x=this;if(this.editor!==void 0){Fve(this.editor,p,this.props,this.boundHandlers,function(I){return x.props[I]});var A=function(I){return I.onEditorChange!==void 0||I.value!==void 0},M=A(p),O=A(this.props);!M&&O?(this.editor.on(Cee,this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):M&&!O&&(this.editor.off(Cee,this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},u.propTypes=Bve,u.defaultProps={cloudChannel:"8"},u})(ze.Component),See={exports:{}},Nre;function qve(){return Nre||(Nre=1,(function(l){(function(){var u=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},p=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},x=function(e,t){var o=Array.prototype.slice.call(e);return o.sort(t)},A=function(e,t){return M(function(o,r){return e.eq(t(o),t(r))})},M=function(e){return{eq:e}},O=M(function(e,t){return e===t}),I=O,U=function(e){return M(function(t,o){if(t.length!==o.length)return!1;for(var r=t.length,c=0;c<r;c++)if(!e.eq(t[c],o[c]))return!1;return!0})},V=function(e,t){return A(U(e),function(o){return x(o,t)})},Y=function(e){return M(function(t,o){var r=Object.keys(t),c=Object.keys(o);if(!V(I).eq(r,c))return!1;for(var h=r.length,v=0;v<h;v++){var T=r[v];if(!e.eq(t[T],o[T]))return!1}return!0})},ee=M(function(e,t){if(e===t)return!0;var o=u(e),r=u(t);return o!==r?!1:p(o)?e===t:o==="array"?U(ee).eq(e,t):o==="object"?Y(ee).eq(e,t):!1});const fe=Object.getPrototypeOf,Ce=(e,t,o)=>o(e,t.prototype)?!0:e.constructor?.name===t.name,pe=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&Ce(e,String,(o,r)=>r.isPrototypeOf(o))?"string":t},$e=e=>t=>pe(t)===e,be=e=>t=>typeof t===e,ct=e=>t=>e===t,Oe=(e,t)=>rt(e)&&Ce(e,t,(o,r)=>fe(o)===r),J=$e("string"),rt=$e("object"),It=e=>Oe(e,Object),qe=$e("array"),ae=ct(null),lt=be("boolean"),En=ct(void 0),dn=e=>e==null,We=e=>!dn(e),Ne=be("function"),Jo=be("number"),yt=(e,t)=>{if(qe(e)){for(let o=0,r=e.length;o<r;++o)if(!t(e[o]))return!1;return!0}return!1},Mt=()=>{},P=(e,t)=>(...o)=>e(t.apply(null,o)),zt=(e,t)=>o=>e(t(o)),at=e=>()=>e,Jn=e=>e,an=(e,t)=>e===t;function le(e,...t){return(...o)=>{const r=t.concat(o);return e.apply(null,r)}}const Ue=e=>t=>!e(t),Pt=e=>()=>{throw new Error(e)},Re=e=>e(),gt=e=>{e()},He=at(!1),dt=at(!0);class X{tag;value;static singletonNone=new X(!1);constructor(t,o){this.tag=t,this.value=o}static some(t){return new X(!0,t)}static none(){return X.singletonNone}fold(t,o){return this.tag?o(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?X.some(t(this.value)):X.none()}bind(t){return this.tag?t(this.value):X.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:X.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return We(t)?X.some(t):X.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const zo=Array.prototype.slice,Eo=Array.prototype.indexOf,Lo=Array.prototype.push,jo=(e,t)=>Eo.call(e,t),Ks=(e,t)=>{const o=jo(e,t);return o===-1?X.none():X.some(o)},Be=(e,t)=>jo(e,t)>-1,Ye=(e,t)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];if(t(c,o))return!0}return!1},et=(e,t)=>{const o=e.length,r=new Array(o);for(let c=0;c<o;c++){const h=e[c];r[c]=t(h,c)}return r},Le=(e,t)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];t(c,o)}},Je=(e,t)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];t(r,o)}},Ot=(e,t)=>{const o=[],r=[];for(let c=0,h=e.length;c<h;c++){const v=e[c];(t(v,c)?o:r).push(v)}return{pass:o,fail:r}},xt=(e,t)=>{const o=[];for(let r=0,c=e.length;r<c;r++){const h=e[r];t(h,r)&&o.push(h)}return o},jn=(e,t)=>{if(e.length===0)return[];{let o=t(e[0]);const r=[];let c=[];for(let h=0,v=e.length;h<v;h++){const T=e[h],k=t(T);k!==o&&(r.push(c),c=[]),o=k,c.push(T)}return c.length!==0&&r.push(c),r}},go=(e,t,o)=>(Je(e,(r,c)=>{o=t(o,r,c)}),o),vt=(e,t,o)=>(Le(e,(r,c)=>{o=t(o,r,c)}),o),ln=(e,t,o)=>{for(let r=0,c=e.length;r<c;r++){const h=e[r];if(t(h,r))return X.some(h);if(o(h,r))break}return X.none()},Un=(e,t)=>ln(e,t,He),Qo=(e,t)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];if(t(c,o))return X.some(o)}return X.none()},mr=(e,t)=>{for(let o=e.length-1;o>=0;o--)if(t(e[o],o))return X.some(o);return X.none()},gs=e=>{const t=[];for(let o=0,r=e.length;o<r;++o){if(!qe(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Lo.apply(t,e[o])}return t},Io=(e,t)=>gs(et(e,t)),Gr=(e,t)=>{for(let o=0,r=e.length;o<r;++o){const c=e[o];if(t(c,o)!==!0)return!1}return!0},_s=e=>{const t=zo.call(e,0);return t.reverse(),t},Ms=(e,t)=>xt(e,o=>!Be(t,o)),Ra=(e,t)=>{const o={};for(let r=0,c=e.length;r<c;r++){const h=e[r];o[String(h)]=t(h,r)}return o},Kr=(e,t)=>{const o=zo.call(e,0);return o.sort(t),o},Or=(e,t)=>t>=0&&t<e.length?X.some(e[t]):X.none(),xs=e=>Or(e,0),Yr=e=>Or(e,e.length-1),Is=Ne(Array.from)?Array.from:e=>zo.call(e),Xr=(e,t)=>{for(let o=0;o<e.length;o++){const r=t(e[o],o);if(r.isSome())return r}return X.none()},Ma=(e,t)=>{const o=[],r=Ne(t)?c=>Ye(o,h=>t(h,c)):c=>Be(o,c);for(let c=0,h=e.length;c<h;c++){const v=e[c];r(v)||o.push(v)}return o},$n=Object.keys,Yo=Object.hasOwnProperty,_o=(e,t)=>{const o=$n(e);for(let r=0,c=o.length;r<c;r++){const h=o[r],v=e[h];t(v,h)}},ui=(e,t)=>Ba(e,(o,r)=>({k:r,v:t(o,r)})),Ba=(e,t)=>{const o={};return _o(e,(r,c)=>{const h=t(r,c);o[h.k]=h.v}),o},Nn=e=>(t,o)=>{e[o]=t},Ut=(e,t,o,r)=>{_o(e,(c,h)=>{(t(c,h)?o:r)(c,h)})},qt=(e,t)=>{const o={},r={};return Ut(e,t,Nn(o),Nn(r)),{t:o,f:r}},Gn=(e,t)=>{const o={};return Ut(e,t,Nn(o),Mt),o},Wn=(e,t)=>{const o=[];return _o(e,(r,c)=>{o.push(t(r,c))}),o},yo=e=>Wn(e,Jn),Do=(e,t)=>Yn(e,t)?X.from(e[t]):X.none(),Yn=(e,t)=>Yo.call(e,t),ss=(e,t)=>Yn(e,t)&&e[t]!==void 0&&e[t]!==null,La=(e,t,o=ee)=>Y(o).eq(e,t),gi={generate:e=>{if(!qe(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],o={};return Le(e,(r,c)=>{const h=$n(r);if(h.length!==1)throw new Error("one and only one name per case");const v=h[0],T=r[v];if(o[v]!==void 0)throw new Error("duplicate key detected:"+v);if(v==="cata")throw new Error("cannot have a case named cata (sorry)");if(!qe(T))throw new Error("case arguments must be an array");t.push(v),o[v]=(...k)=>{const L=k.length;if(L!==T.length)throw new Error("Wrong number of arguments to case "+v+". Expected "+T.length+" ("+T+"), got "+L);return{fold:(...G)=>{if(G.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+G.length);return G[c].apply(null,k)},match:G=>{const Q=$n(G);if(t.length!==Q.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+Q.join(","));if(!Gr(t,ke=>Be(Q,ke)))throw new Error("Not all branches were specified when using match. Specified: "+Q.join(", ")+`
Required: `+t.join(", "));return G[v].apply(null,k)},log:G=>{console.log(G,{constructors:t,constructor:v,params:k})}}}}),o}},Bn=e=>{let t=e;return{get:()=>t,set:c=>{t=c}}},Ys=e=>{const t=h=>h(e),o=at(e),r=()=>c,c={tag:!0,inner:e,fold:(h,v)=>v(e),isValue:dt,isError:He,map:h=>Pe.value(h(e)),mapError:r,bind:t,exists:t,forall:t,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:h=>{h(e)},toOptional:()=>X.some(e)};return c},Xs=e=>{const t=()=>o,o={tag:!1,inner:e,fold:(r,c)=>r(e),isValue:He,isError:dt,map:t,mapError:r=>Pe.error(r(e)),bind:t,exists:He,forall:dt,getOr:Jn,or:Jn,getOrThunk:Re,orThunk:Re,getOrDie:Pt(String(e)),each:Mt,toOptional:X.none};return o},Pe={value:Ys,error:Xs,fromOption:(e,t)=>e.fold(()=>Xs(t),Ys)},Ve=typeof window<"u"?window:Function("return this;")(),tt=()=>{const e=window.crypto.getRandomValues(new Uint8Array(16));return e[6]=e[6]&15|64,e[8]=e[8]&63|128,e},mn=()=>{const e=tt(),t=(o,r)=>{let c="";for(let h=o;h<=r;++h){const v=e[h].toString(16).padStart(2,"0");c+=v}return c};return`${t(0,3)}-${t(4,5)}-${t(6,7)}-${t(8,9)}-${t(10,15)}`},To=(e,t,o)=>Math.min(Math.max(e,t),o),lo=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Vo=0;const is=e=>{const o=new Date().getTime(),r=Math.floor(lo()*1e9);return Vo++,e+"_"+r+Vo+String(o)},Ao=()=>window.isSecureContext?window.crypto.randomUUID():mn(),qs=(e,t)=>t,me=(e,t)=>It(e)&&It(t)?jt(e,t):t,je=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<t.length;r++){const c=t[r];for(const h in c)Yn(c,h)&&(o[h]=e(o[h],c[h]))}return o},jt=je(me),yn=je(qs),Wt=(e,t,o=an)=>e.exists(r=>o(r,t)),vo=(e,t,o=an)=>Rn(e,t,o).getOr(e.isNone()&&t.isNone()),to=e=>{const t=[],o=r=>{t.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return t},Rn=(e,t,o)=>e.isSome()&&t.isSome()?X.some(o(e.getOrDie(),t.getOrDie())):X.none(),Ho=(e,t,o,r)=>e.isSome()&&t.isSome()&&o.isSome()?X.some(r(e.getOrDie(),t.getOrDie(),o.getOrDie())):X.none(),ps=e=>e.bind(Jn),ws=(e,t)=>e?X.some(t):X.none(),Cs=(e,t)=>{let o=t??Ve;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},oa=(e,t)=>{const o=e.split(".");return Cs(o,t)};gi.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Ca=e=>{const t=[],o=[];return Le(e,r=>{r.fold(c=>{t.push(c)},c=>{o.push(c)})}),{errors:t,values:o}},Qf=e=>{const t=Bn(X.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(X.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:T=>{o(),t.set(X.some(T))}}},wr=e=>{const t=Bn(X.none()),o=()=>t.get().each(T=>clearInterval(T));return{clear:()=>{o(),t.set(X.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:T=>{o(),t.set(X.some(setInterval(T,e)))}}},Bs=()=>{const e=Qf(Mt);return{...e,on:o=>e.get().each(o)}},or=(e,t)=>e.substring(t),Vi=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t,Ci=(e,t)=>xo(e,t)?or(e,t.length):e,Lr=(e,t,o=0,r)=>{const c=e.indexOf(t,o);return c!==-1?En(r)?!0:c+t.length<=r:!1},xo=(e,t)=>Vi(e,t,0),Si=(e,t)=>Vi(e,t,e.length-t.length),oi=e=>t=>t.replace(e,""),Qr=oi(/^\s+|\s+$/g),Sf=oi(/^\s+/g),uc=oi(/\s+$/g),Fr=e=>e.length>0,Cu=e=>!Fr(e),dc=(e,t)=>t<=0?"":new Array(t+1).join(e),Ef=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?X.none():X.some(o)},Sn=(e,t)=>{let o=null;return{cancel:()=>{ae(o)||(clearTimeout(o),o=null)},throttle:(...h)=>{ae(o)&&(o=setTimeout(()=>{o=null,e.apply(null,h)},t))}}},Su=(e,t)=>{let o=null;const r=()=>{ae(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...h)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,h)},t)}}},Ri=e=>{let t=!1,o;return(...r)=>(t||(t=!0,o=e.apply(null,r)),o)},pi="\uFEFF",jr="",Kd="",Ei=e=>e===pi,rl=e=>e.replace(/\uFEFF/g,""),Tf=e=>{const t={};return Le(e,o=>{t[o]={}}),$n(t)},Jf=e=>e.length!==void 0,Eu=Array.isArray,Yd=e=>{if(Eu(e))return e;{const t=[];for(let o=0,r=e.length;o<r;o++)t[o]=e[o];return t}},_l=(e,t,o)=>{if(!e)return!1;if(o=o||e,Jf(e)){for(let r=0,c=e.length;r<c;r++)if(t.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(Yn(e,r)&&t.call(o,e[r],r,e)===!1)return!1;return!0},qc=(e,t)=>{const o=[];return _l(e,(r,c)=>{o.push(t(r,c,e))}),o},Gc=(e,t)=>{const o=[];return _l(e,(r,c)=>{(!t||t(r,c,e))&&o.push(r)}),o},un=(e,t)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===t)return o}return-1},Tu=(e,t,o,r)=>{let c=En(o)?e[0]:o;for(let h=0;h<e.length;h++)c=t.call(r,c,e[h],h);return c},yd=(e,t,o)=>{for(let r=0,c=e.length;r<c;r++)if(t.call(o,e[r],r,e))return r;return-1},Vl=e=>e[e.length-1],al=(e,t,o,r)=>{const c=e.isiOS()&&/ipad/i.test(o)===!0,h=e.isiOS()&&!c,v=e.isiOS()||e.isAndroid(),T=v||r("(pointer:coarse)"),k=c||!h&&v&&r("(min-device-width:768px)"),L=h||v&&!k,W=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,G=!L&&!k&&!W;return{isiPad:at(c),isiPhone:at(h),isTablet:at(k),isPhone:at(L),isTouch:at(T),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:at(W),isDesktop:at(G)}},Uu=(e,t)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(t))return r}},Ui=(e,t)=>{const o=Uu(e,t);if(!o)return{major:0,minor:0};const r=c=>Number(t.replace(o,"$"+c));return fc(r(1),r(2))},si=(e,t)=>{const o=String(t).toLowerCase();return e.length===0?Dl():Ui(e,o)},Dl=()=>fc(0,0),fc=(e,t)=>({major:e,minor:t}),Vs={nu:fc,detect:si,unknown:Dl},Af=(e,t)=>Xr(t.brands,o=>{const r=o.brand.toLowerCase();return Un(e,c=>r===c.brand?.toLowerCase()).map(c=>({current:c.name,version:Vs.nu(parseInt(o.version,10),0)}))}),te=(e,t)=>{const o=String(t).toLowerCase();return Un(e,r=>r.search(o))},ve=(e,t)=>te(e,t).map(o=>{const r=Vs.detect(o.versionRegexes,t);return{current:o.name,version:r}}),Fe=(e,t)=>te(e,t).map(o=>{const r=Vs.detect(o.versionRegexes,t);return{current:o.name,version:r}}),Dt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Zn=e=>t=>Lr(t,e),fs=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Lr(e,"edge/")&&Lr(e,"chrome")&&Lr(e,"safari")&&Lr(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Dt],search:e=>Lr(e,"chrome")&&!Lr(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Lr(e,"msie")||Lr(e,"trident")},{name:"Opera",versionRegexes:[Dt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Zn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Zn("firefox")},{name:"Safari",versionRegexes:[Dt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Lr(e,"safari")||Lr(e,"mobile/"))&&Lr(e,"applewebkit")}],sr=[{name:"Windows",search:Zn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Lr(e,"iphone")||Lr(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Zn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Zn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Zn("linux"),versionRegexes:[]},{name:"Solaris",search:Zn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Zn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Zn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ua={browsers:at(fs),oses:at(sr)},Ti="Edge",Ol="Chromium",oe="IE",Ae="Opera",Xe="Firefox",Et="Safari",hn=()=>Vn({current:void 0,version:Vs.unknown()}),Vn=e=>{const t=e.current,o=e.version,r=c=>()=>t===c;return{current:t,version:o,isEdge:r(Ti),isChromium:r(Ol),isIE:r(oe),isOpera:r(Ae),isFirefox:r(Xe),isSafari:r(Et)}},Mo={unknown:hn,nu:Vn},Us="Windows",Ts="iOS",Mi="Android",Sa="Linux",Xd="macOS",Om="Solaris",kf="FreeBSD",Kc="ChromeOS",R0=()=>M0({current:void 0,version:Vs.unknown()}),M0=e=>{const t=e.current,o=e.version,r=c=>()=>t===c;return{current:t,version:o,isWindows:r(Us),isiOS:r(Ts),isAndroid:r(Mi),isMacOS:r(Xd),isLinux:r(Sa),isSolaris:r(Om),isFreeBSD:r(kf),isChromeOS:r(Kc)}},ye={unknown:R0,nu:M0},ft={detect:(e,t,o)=>{const r=Ua.browsers(),c=Ua.oses(),h=t.bind(k=>Af(r,k)).orThunk(()=>ve(r,e)).fold(Mo.unknown,Mo.nu),v=Fe(c,e).fold(ye.unknown,ye.nu),T=al(v,h,e,o);return{browser:h,os:v,deviceType:T}}},Kt=e=>window.matchMedia(e).matches;let po=Ri(()=>ft.detect(window.navigator.userAgent,X.from(window.navigator.userAgentData),Kt));const ms=()=>po(),Ea=(e,t)=>oa(e,t),il=(e,t)=>{const o=Ea(e,t);if(o==null)throw new Error(e+" not available on this browser");return o},Zi=Object.getPrototypeOf,Ul=e=>il("HTMLElement",e),Qd=e=>{const t=oa("ownerDocument.defaultView",e);return rt(e)&&(Ul(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Zi(e).constructor.name))},Zl=window.navigator.userAgent,Nm=ms(),Wl=Nm.browser,ll=Nm.os,Jd=Nm.deviceType,Dc=Zl.indexOf("Windows Phone")!==-1,ls={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Wl.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Wl.isIE(),windowsPhone:Dc,browser:{current:Wl.current,version:Wl.version,isChromium:Wl.isChromium,isEdge:Wl.isEdge,isFirefox:Wl.isFirefox,isIE:Wl.isIE,isOpera:Wl.isOpera,isSafari:Wl.isSafari},os:{current:ll.current,version:ll.version,isAndroid:ll.isAndroid,isChromeOS:ll.isChromeOS,isFreeBSD:ll.isFreeBSD,isiOS:ll.isiOS,isLinux:ll.isLinux,isMacOS:ll.isMacOS,isSolaris:ll.isSolaris,isWindows:ll.isWindows},deviceType:{isDesktop:Jd.isDesktop,isiPad:Jd.isiPad,isiPhone:Jd.isiPhone,isPhone:Jd.isPhone,isTablet:Jd.isTablet,isTouch:Jd.isTouch,isWebView:Jd.isWebView}},vh=/^\s*|\s*$/g,pp=e=>dn(e)?"":(""+e).replace(vh,""),Ta=(e,t)=>t?t==="array"&&Eu(e)?!0:typeof e===t:e!==void 0,B0=(e,t,o={})=>{const r=J(e)?e.split(t||","):e||[];let c=r.length;for(;c--;)o[r[c]]={};return o},V1=Yn,U1=(e,...t)=>{for(let o=0;o<t.length;o++){const r=t[o];for(const c in r)if(Yn(r,c)){const h=r[c];h!==void 0&&(e[c]=h)}}return e},Z1=function(e,t,o,r){r=r||this,e&&(o&&(e=e[o]),_l(e,(c,h)=>t.call(r,c,h,o)===!1?!1:(Z1(c,t,o,r),!0)))},on={trim:pp,isArray:Eu,is:Ta,toArray:Yd,makeMap:B0,each:_l,map:qc,grep:Gc,inArray:un,hasOwn:V1,extend:U1,walk:Z1,resolve:(e,t=window)=>{const o=e.split(".");for(let r=0,c=o.length;r<c&&(t=t[o[r]],!!t);r++);return t},explode:(e,t)=>qe(e)?e:e===""?[]:qc(e.split(t||","),pp),_addCacheSuffix:e=>{const t=ls.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Yc=(e,t)=>{const r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return yg(r.childNodes[0])},bg=(e,t)=>{const r=(t||document).createElement(e);return yg(r)},vd=(e,t)=>{const r=(t||document).createTextNode(e);return yg(r)},yg=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},_e={fromHtml:Yc,fromTag:bg,fromText:vd,fromDom:yg,fromPoint:(e,t,o)=>X.from(e.dom.elementFromPoint(t,o)).map(yg)},Xc=(e,t)=>{t.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},vl=(e,t)=>{t.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},xh=(e,t,o)=>{const r=e.document.createRange();return Xc(r,t),vl(r,o),r},wh=(e,t,o,r,c)=>{const h=e.document.createRange();return h.setStart(t.dom,o),h.setEnd(r.dom,c),h},Nl=gi.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Oc=(e,t,o)=>t(_e.fromDom(o.startContainer),o.startOffset,_e.fromDom(o.endContainer),o.endOffset),L0=(e,t)=>t.match({domRange:o=>({ltr:at(o),rtl:X.none}),relative:(o,r)=>({ltr:Ri(()=>xh(e,o,r)),rtl:Ri(()=>X.some(xh(e,r,o)))}),exact:(o,r,c,h)=>({ltr:Ri(()=>wh(e,o,r,c,h)),rtl:Ri(()=>X.some(wh(e,c,h,o,r)))})}),bp=(e,t)=>{const o=t.ltr();return o.collapsed?t.rtl().filter(c=>c.collapsed===!1).map(c=>Nl.rtl(_e.fromDom(c.endContainer),c.endOffset,_e.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>Oc(e,Nl.ltr,o)):Oc(e,Nl.ltr,o)},yp=(e,t)=>{const o=L0(e,t);return bp(e,o)};Nl.ltr,Nl.rtl;const xl=8,vp=9,Au=11,Ch=1,F0=3,wl=(e,t)=>{const o=e.dom;if(o.nodeType!==Ch)return!1;{const r=o;if(r.matches!==void 0)return r.matches(t);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(t);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Rm=e=>e.nodeType!==Ch&&e.nodeType!==vp&&e.nodeType!==Au||e.childElementCount===0,Zu=(e,t)=>{const o=t===void 0?document:t.dom;return Rm(o)?[]:et(o.querySelectorAll(e),_e.fromDom)},tm=(e,t)=>{const o=t===void 0?document:t.dom;return Rm(o)?X.none():X.from(o.querySelector(e)).map(_e.fromDom)},es=(e,t)=>e.dom===t.dom,mc=(e,t)=>{const o=e.dom,r=t.dom;return o===r?!1:o.contains(r)},Sh=wl,G1=(e,t)=>{const o=[],r=h=>(o.push(h),t(h));let c=t(e);do c=c.bind(r);while(c.isSome());return o},ts=e=>e.dom.nodeName.toLowerCase(),nm=e=>e.dom.nodeType,Ai=e=>t=>nm(t)===e,xd=e=>nm(e)===xl||ts(e)==="#comment",wd=e=>da(e)&&Qd(e.dom),da=Ai(Ch),bs=Ai(F0),P0=Ai(vp),Cd=Ai(Au),Fa=e=>t=>da(t)&&ts(t)===e,ku=e=>_e.fromDom(e.dom.ownerDocument),Qc=e=>P0(e)?e:ku(e),ri=e=>_e.fromDom(Qc(e).dom.documentElement),Wu=e=>_e.fromDom(Qc(e).dom.defaultView),Wi=e=>X.from(e.dom.parentNode).map(_e.fromDom),Jc=e=>X.from(e.dom.parentElement).map(_e.fromDom),cl=(e,t)=>{const o=Ne(t)?t:He;let r=e.dom;const c=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const h=r.parentNode,v=_e.fromDom(h);if(c.push(v),o(v)===!0)break;r=h}return c},Ls=e=>{const t=o=>xt(o,r=>!es(e,r));return Wi(e).map(fa).map(t).getOr([])},qu=e=>X.from(e.dom.previousSibling).map(_e.fromDom),Wa=e=>X.from(e.dom.nextSibling).map(_e.fromDom),qi=e=>_s(G1(e,qu)),Pa=e=>G1(e,Wa),fa=e=>et(e.dom.childNodes,_e.fromDom),eu=(e,t)=>{const o=e.dom.childNodes;return X.from(o[t]).map(_e.fromDom)},ai=e=>eu(e,0),ii=e=>eu(e,e.dom.childNodes.length-1),om=e=>e.dom.childNodes.length,xp=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return _e.fromDom(t)},wp=e=>Cd(e)&&We(e.dom.host),sa=e=>_e.fromDom(e.dom.getRootNode()),Mm=e=>wp(e)?e:xp(Qc(e)),Eh=e=>wp(e)?e:_e.fromDom(Qc(e).dom.body),_f=e=>{const t=sa(e);return wp(t)?X.some(t):X.none()},co=e=>_e.fromDom(e.dom.host),_u=e=>{if(We(e.target)){const t=_e.fromDom(e.target);if(da(t)&&Jr(t)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return xs(o)}}return X.from(e.target)},Jr=e=>We(e.dom.shadowRoot),li=(e,t,o,r,c,h,v)=>({target:e,x:t,y:o,stop:r,prevent:c,kill:h,raw:v}),$a=e=>{const t=_e.fromDom(_u(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),c=P(r,o);return li(t,e.clientX,e.clientY,o,r,c,e)},rr=(e,t)=>o=>{e(o)&&t($a(o))},Nc=(e,t,o,r,c)=>{const h=rr(o,r);return e.dom.addEventListener(t,h,c),{unbind:le(tu,e,t,h,c)}},Cp=(e,t,o,r)=>Nc(e,t,o,r,!1),tu=(e,t,o,r)=>{e.dom.removeEventListener(t,o,r)},Gu=dt,vg=(e,t,o)=>Cp(e,t,Gu,o),Cl=()=>_e.fromDom(document),Ia=(e,t=!1)=>e.dom.focus({preventScroll:t}),Gs=e=>{const t=sa(e).dom;return e.dom===t.activeElement},Rl=(e=Cl())=>X.from(e.dom.activeElement).map(_e.fromDom),Du=e=>Rl(sa(e)).filter(t=>e.dom.contains(t.dom)),ul=(e,t)=>{Wi(e).each(r=>{r.dom.insertBefore(t.dom,e.dom)})},Sl=(e,t)=>{Wa(e).fold(()=>{Wi(e).each(c=>{Fs(c,t)})},r=>{ul(r,t)})},ef=(e,t)=>{ai(e).fold(()=>{Fs(e,t)},r=>{e.dom.insertBefore(t.dom,r.dom)})},Fs=(e,t)=>{e.dom.appendChild(t.dom)},Ml=(e,t)=>{ul(e,t),Fs(t,e)},Bm=(e,t)=>{Le(t,o=>{ul(e,o)})},Th=(e,t)=>{Le(t,(o,r)=>{const c=r===0?e:t[r-1];Sl(c,o)})},hc=(e,t)=>{Le(t,o=>{Fs(e,o)})},wo=(e,t,o)=>{if(J(o)||lt(o)||Jo(o))e.setAttribute(t,o+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},Ar=(e,t,o)=>{wo(e.dom,t,o)},qa=(e,t)=>{const o=e.dom;_o(t,(r,c)=>{wo(o,c,r)})},hr=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?void 0:o},dl=(e,t)=>X.from(hr(e,t)),Vr=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):!1},ci=(e,t)=>{e.dom.removeAttribute(t)},tf=e=>{const t=e.dom.attributes;return t==null||t.length===0},rs=e=>vt(e.dom.attributes,(t,o)=>(t[o.name]=o.value,t),{}),ql=e=>{e.dom.textContent="",Le(fa(e),t=>{ys(t)})},ys=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Gl=e=>{const t=fa(e);t.length>0&&Th(e,t),ys(e)},bi=(e,t)=>_e.fromDom(e.dom.cloneNode(t)),ki=e=>bi(e,!1),Df=e=>bi(e,!0),xg=(e,t)=>{const o=_e.fromTag(t),r=rs(e);return qa(o,r),o},Ga=(e,t)=>{const o=xg(e,t);Sl(e,o);const r=fa(e);return hc(o,r),ys(e),o},Of=(e,t)=>{const r=(t||document).createElement("div");return r.innerHTML=e,fa(_e.fromDom(r))},Sd=e=>et(e,_e.fromDom),Bi=e=>e.dom.innerHTML,nf=(e,t)=>{const r=ku(e).dom,c=_e.fromDom(r.createDocumentFragment()),h=Of(t,r);hc(c,h),ql(e),Fs(e,c)},wg=e=>{const t=_e.fromTag("div"),o=_e.fromDom(e.dom.cloneNode(!0));return Fs(t,o),Bi(t)},Ku=e=>e.style!==void 0&&Ne(e.style.getPropertyValue),cr=e=>{const t=bs(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const o=t.ownerDocument;return _f(_e.fromDom(t)).fold(()=>o.body.contains(t),zt(cr,co))},$0=(e,t,o)=>{if(!J(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Ku(e)&&e.style.setProperty(t,o)},Cg=(e,t)=>{Ku(e)&&e.style.removeProperty(t)},Bl=(e,t,o)=>{const r=e.dom;$0(r,t,o)},fl=(e,t)=>{const o=e.dom;_o(t,(r,c)=>{$0(o,c,r)})},Aa=(e,t)=>{const o=e.dom,c=window.getComputedStyle(o).getPropertyValue(t);return c===""&&!cr(e)?Ed(o,t):c},Ed=(e,t)=>Ku(e)?e.style.getPropertyValue(t):"",di=(e,t)=>{const o=e.dom,r=Ed(o,t);return X.from(r).filter(c=>c.length>0)},of=e=>{const t={},o=e.dom;if(Ku(o))for(let r=0;r<o.style.length;r++){const c=o.style.item(r);t[c]=o.style[c]}return t},Sg=(e,t)=>{const o=e.dom;Cg(o,t),Wt(dl(e,"style").map(Qr),"")&&ci(e,"style")},Eg=e=>e.dom.offsetWidth,Td=((e,t)=>{const o=(T,k)=>{if(!Jo(k)&&!k.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+k);const L=T.dom;Ku(L)&&(L.style[e]=k+"px")},r=T=>{const k=t(T);if(k<=0||k===null){const L=Aa(T,e);return parseFloat(L)||0}return k},c=r,h=(T,k)=>vt(k,(L,W)=>{const G=Aa(T,W),Q=G===void 0?0:parseInt(G,10);return isNaN(Q)?L:L+Q},0);return{set:o,get:r,getOuter:c,aggregate:h,max:(T,k,L)=>{const W=h(T,L);return k>W?k-W:0}}})("height",e=>{const t=e.dom;return cr(e)?t.getBoundingClientRect().height:t.offsetHeight}),fy=e=>Td.get(e),sm=(e,t)=>({left:e,top:t,translate:(r,c)=>sm(e+r,t+c)}),gc=sm,Y1=e=>{const t=e.getBoundingClientRect();return gc(t.left,t.top)},Ah=(e,t)=>e!==void 0?e:t!==void 0?t:0,Nf=e=>{const t=e.dom.ownerDocument,o=t.body,r=t.defaultView,c=t.documentElement;if(o===e.dom)return gc(o.offsetLeft,o.offsetTop);const h=Ah(r?.pageYOffset,c.scrollTop),v=Ah(r?.pageXOffset,c.scrollLeft),T=Ah(c.clientTop,o.clientTop),k=Ah(c.clientLeft,o.clientLeft);return rm(e).translate(v-k,h-T)},rm=e=>{const t=e.dom,r=t.ownerDocument.body;return r===t?gc(r.offsetLeft,r.offsetTop):cr(e)?Y1(t):gc(0,0)},Tg=e=>{const t=e!==void 0?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return gc(o,r)},Ag=(e,t,o)=>{const c=(o!==void 0?o.dom:document).defaultView;c&&c.scrollTo(e,t)},nu=(e,t)=>{ms().browser.isSafari()&&Ne(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},my=(e,t)=>{const o=h=>{if(!e(h))throw new Error("Can only get "+t+" value of a "+t+" node");return r(h).getOr("")},r=h=>e(h)?X.from(h.dom.nodeValue):X.none();return{get:o,getOption:r,set:(h,v)=>{if(!e(h))throw new Error("Can only set raw "+t+" value of a "+t+" node");h.dom.nodeValue=v}}},Ou=(e,t)=>{const r=document.createDocumentFragment();return Le(e,c=>{r.appendChild(c.dom)}),_e.fromDom(r)},ar=my(bs,"text"),yi=e=>ar.get(e),Ad=e=>ar.getOption(e),Sp=(e,t)=>ar.set(e,t),ou=(e,t)=>{const o=hr(e,t);return o===void 0||o===""?[]:o.split(" ")},Rf=(e,t,o)=>{const c=ou(e,t).concat([o]);return Ar(e,t,c.join(" ")),!0},kg=(e,t,o)=>{const r=xt(ou(e,t),c=>c!==o);return r.length>0?Ar(e,t,r.join(" ")):ci(e,t),!1};var kd=(e,t,o,r,c)=>e(o,r)?X.some(o):Ne(c)&&c(o)?X.none():t(o,r,c);const _d=(e,t,o)=>{let r=e.dom;const c=Ne(o)?o:He;for(;r.parentNode;){r=r.parentNode;const h=_e.fromDom(r);if(t(h))return X.some(h);if(c(h))break}return X.none()},Qs=(e,t,o)=>kd((c,h)=>h(c),_d,e,t,o),_g=(e,t)=>{const o=e.dom;return o.parentNode?ma(_e.fromDom(o.parentNode),r=>!es(e,r)&&t(r)):X.none()},ma=(e,t)=>{const o=c=>t(_e.fromDom(c));return Un(e.dom.childNodes,o).map(_e.fromDom)},kh=(e,t)=>{const o=r=>{for(let c=0;c<r.childNodes.length;c++){const h=_e.fromDom(r.childNodes[c]);if(t(h))return X.some(h);const v=o(r.childNodes[c]);if(v.isSome())return v}return X.none()};return o(e.dom)},ka=(e,t,o)=>_d(e,r=>wl(r,t),o),Yu=(e,t)=>tm(t,e),El=(e,t,o)=>kd((c,h)=>wl(c,h),ka,e,t,o),sf=e=>e.dom.classList!==void 0,Dg=e=>ou(e,"class"),su=(e,t)=>Rf(e,"class",t),Nu=(e,t)=>kg(e,"class",t),Lm=(e,t)=>Be(Dg(e),t)?Nu(e,t):su(e,t),pc=(e,t)=>{sf(e)?e.dom.classList.add(t):su(e,t)},Dd=e=>{(sf(e)?e.dom.classList:Dg(e)).length===0&&ci(e,"class")},ra=(e,t)=>{sf(e)?e.dom.classList.remove(t):Nu(e,t),Dd(e)},ea=(e,t)=>{const o=sf(e)?e.dom.classList.toggle(t):Lm(e,t);return Dd(e),o},_i=(e,t)=>sf(e)&&e.dom.classList.contains(t),Fm=(e,t)=>{Le(t,o=>{pc(e,o)})},Od=(e,t)=>{Le(t,o=>{ra(e,o)})},Js=e=>El(e,"[contenteditable]"),yr=(e,t=!1)=>cr(e)?e.dom.isContentEditable:Js(e).fold(at(t),o=>Ll(o)==="true"),Ll=e=>e.dom.contentEditable,F=(e,t)=>{e.dom.contentEditable=t?"true":"false"},j=(e,t,o)=>xt(cl(e,o),t),re=(e,t)=>xt(fa(e),t),we=(e,t)=>{let o=[];return Le(fa(e),r=>{t(r)&&(o=o.concat([r])),o=o.concat(we(r,t))}),o},Ge=(e,t,o)=>j(e,r=>wl(r,t),o),At=(e,t)=>Zu(t,e),vn=(e,t,o)=>_d(e,t,o).isSome(),kn=(e,t)=>_g(e,t).isSome(),Bo=(e,t)=>kh(e,t).isSome(),ns=(e,t)=>vn(e,le(es,t)),Nr=(e,t,o)=>ka(e,t,o).isSome(),aa=(e,t,o)=>El(e,t,o).isSome(),vi=e=>Ne(e)?e:He,Rc=(e,t,o)=>{let r=e.dom;const c=vi(o);for(;r.parentNode;){r=r.parentNode;const h=_e.fromDom(r),v=t(h);if(v.isSome())return v;if(c(h))break}return X.none()},Xu=(e,t,o)=>{const r=t(e),c=vi(o);return r.orThunk(()=>c(e)?X.none():Rc(e,t,c))},rf=e=>Ad(e).filter(t=>t.trim().length!==0||t.indexOf(jr)>-1).isSome(),fi=e=>wd(e)&&hr(e,"contenteditable")==="false",Li=["img","br"],am=e=>rf(e)||Be(Li,ts(e))||fi(e),im=e=>kh(e,am),_h={create:(e,t,o,r)=>({start:e,soffset:t,finish:o,foffset:r})},Ru=gi.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Dh=(e,t,o,r)=>e.fold(t,o,r),X1=e=>e.fold(Jn,Jn,Jn),Q1=Ru.before,Ps=Ru.on,Ha=Ru.after,Ka={before:Q1,on:Ps,after:Ha,cata:Dh,getStart:X1},Fl=gi.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ep=e=>Fl.exact(e.start,e.soffset,e.finish,e.foffset),Og=e=>e.match({domRange:t=>_e.fromDom(t.startContainer),relative:(t,o)=>Ka.getStart(t),exact:(t,o,r,c)=>t}),Ng=Fl.domRange,Tp=Fl.relative,S2=Fl.exact,$m=e=>{const t=Og(e);return Wu(t)},I0=_h.create,Oh={domRange:Ng,relative:Tp,exact:S2,exactFromRange:Ep,getWin:$m,range:I0},Mv=(e,t,o)=>X.from(e.caretPositionFromPoint?.(t,o)).bind(r=>{if(r.offsetNode===null)return X.none();const c=e.createRange();return c.setStart(r.offsetNode,r.offset),c.collapse(),X.some(c)}),Fi=(e,t,o)=>X.from(e.caretRangeFromPoint?.(t,o)),Di=(e,t,o)=>e.caretPositionFromPoint?Mv(e,t,o):e.caretRangeFromPoint?Fi(e,t,o):X.none(),Nh=(e,t,o)=>{const r=e.document;return Di(r,t,o).map(c=>_h.create(_e.fromDom(c.startContainer),c.startOffset,_e.fromDom(c.endContainer),c.endOffset))},Im=(e,t)=>{const o=ts(e);return o==="input"?Ka.after(e):Be(["br","img"],o)?t===0?Ka.before(e):Ka.after(e):Ka.on(e,t)},hy=(e,t)=>{const o=e.fold(Ka.before,Im,Ka.after),r=t.fold(Ka.before,Im,Ka.after);return Oh.relative(o,r)},bc=(e,t,o,r)=>{const c=Im(e,t),h=Im(o,r);return Oh.relative(c,h)},gy=e=>e.match({domRange:t=>{const o=_e.fromDom(t.startContainer),r=_e.fromDom(t.endContainer);return bc(o,t.startOffset,r,t.endOffset)},relative:hy,exact:bc}),af=e=>{const t=Oh.getWin(e).dom,o=(c,h,v,T)=>wh(t,c,h,v,T),r=gy(e);return yp(t,r).match({ltr:o,rtl:o})},J1=(e,t,o)=>Nh(e,t,o),ru=e=>{const t=e===void 0?window:e;return ms().browser.isFirefox()?X.none():X.from(t.visualViewport)},H0=(e,t,o,r)=>({x:e,y:t,width:o,height:r,right:e+o,bottom:t+r}),Mu=e=>{const t=e===void 0?window:e,o=t.document,r=Tg(_e.fromDom(o));return ru(t).fold(()=>{const c=t.document.documentElement,h=c.clientWidth,v=c.clientHeight;return H0(r.left,r.top,h,v)},c=>H0(Math.max(c.pageLeft,r.left),Math.max(c.pageTop,r.top),c.width,c.height))};class Ya{rootNode;node;constructor(t,o){this.node=t,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,o,r,c){if(t){if(!c&&t[o])return t[o];if(t!==this.rootNode){let h=t[r];if(h)return h;for(let v=t.parentNode;v&&v!==this.rootNode;v=v.parentNode)if(h=v[r],h)return h}}}findPreviousNode(t,o){if(t){const r=t.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let h=r.lastChild;h;h=h.lastChild)if(!h.lastChild)return h}return r}const c=t.parentNode;if(c&&c!==this.rootNode)return c}}}const py=/^[ \t\r\n]*$/,Ap=e=>py.test(e),Bv=e=>{for(const t of e)if(!Ei(t))return!1;return!0},by=e=>" \f	\v".indexOf(e)!==-1,Lv=e=>e===`
`||e==="\r",Fv=(e,t)=>t<e.length&&t>=0?Lv(e[t]):!1,z0=(e,t=4,o=!0,r=!0)=>{const c=dc(" ",t),h=e.replace(/\t/g,c);return vt(h,(T,k)=>by(k)||k===jr?T.pcIsSpace||T.str===""&&o||T.str.length===h.length-1&&r||Fv(h,T.str.length+1)?{pcIsSpace:!1,str:T.str+jr}:{pcIsSpace:!0,str:T.str+" "}:{pcIsSpace:Lv(k),str:T.str+k},{pcIsSpace:!1,str:""}).str},kp=e=>t=>!!t&&t.nodeType===e,eb=e=>!!e&&!Object.getPrototypeOf(e),xn=kp(1),au=e=>xn(e)&&wd(_e.fromDom(e)),E2=e=>xn(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",iu=e=>{const t=e.toLowerCase();return o=>We(o)&&o.nodeName.toLowerCase()===t},Qu=e=>{const t=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return Be(t,r)}return!1}},tb=(e,t)=>{const o=t.toLowerCase().split(" ");return r=>{if(xn(r)){const c=r.ownerDocument.defaultView;if(c)for(let h=0;h<o.length;h++){const v=c.getComputedStyle(r,null);if((v?v.getPropertyValue(e):null)===o[h])return!0}}return!1}},T2=e=>t=>xn(t)&&t.hasAttribute(e),Hm=e=>xn(e)&&e.hasAttribute("data-mce-bogus"),A2=e=>xn(e)&&e.getAttribute("data-mce-bogus")==="all",lu=e=>xn(e)&&e.tagName==="TABLE",k2=e=>t=>!!(au(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),lf=Qu(["textarea","input"]),cn=kp(3),_p=kp(4),Pi=kp(7),Xo=kp(8),zm=kp(9),Dp=kp(11),ia=iu("br"),Nd=iu("img"),Op=iu("a"),Bu=k2("true"),ta=k2("false"),lm=e=>au(e)&&e.isContentEditable&&We(e.parentElement)&&!e.parentElement.isContentEditable,Np=Qu(["td","th"]),yy=Qu(["td","th","caption"]),Rh=iu("template"),Rd=Qu(["video","audio","object","embed"]),j0=iu("li"),V0=iu("details"),vy=iu("summary"),xy="uc-video",Rp=e=>e.nodeName.toLowerCase()===xy,wy={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},nb=(e,t,o)=>{const r=_e.fromDom(t),c=_e.fromDom(e),h=o.getWhitespaceElements();return vn(c,T=>Yn(h,ts(T)),le(es,r))},zC=e=>xn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Pv=(e,t)=>xn(e)&&Yn(t.getNonEmptyElements(),e.nodeName),Tl=T2("data-mce-bookmark"),cu=e=>Jc(_e.fromDom(e)).exists(t=>!yr(t)),U0=(e,t,o)=>Ap(e.data)&&!nb(e,t,o),jC=(e,t,o,r)=>cn(e)&&!U0(e,t,o)&&(!r.includeZwsp||!Bv(e.data)),Lu=(e,t,o,r)=>Ne(r.isContent)&&r.isContent(t)||Pv(t,e)||Tl(t)||zC(t)||jC(t,o,e,r)||ta(t)||Bu(t)&&cu(t),uo=(e,t,o)=>{const r={...wy,...o};if(r.checkRootAsContent&&Lu(e,t,t,r))return!1;let c=t.firstChild,h=0;if(!c)return!0;const v=new Ya(c,t);do{if(r.skipBogus&&xn(c)){const T=c.getAttribute("data-mce-bogus");if(T){c=v.next(T==="all");continue}}if(Xo(c)){c=v.next(!0);continue}if(ia(c)){h++,c=v.next();continue}if(Lu(e,c,t,r))return!1;c=v.next()}while(c);return h<=1},_a=(e,t,o)=>uo(e,t.dom,{checkRootAsContent:!0,...o}),Mp=(e,t,o)=>Lu(e,t,t,{includeZwsp:wy.includeZwsp,...o}),ob=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},Rg=e=>ob(e)!=="html",Z0=e=>Rg(e.nodeName),W0=e=>ob(e.nodeName),Mh=["svg","math"],$v=()=>{const e=Bs(),t=()=>e.get().map(W0).getOr("html");return{track:c=>(Z0(c)?e.set(c):e.get().exists(h=>!h.contains(c))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},cm="data-mce-block",Iv=e=>xt($n(e),t=>!/[A-Z]/.test(t)),sb=e=>et(Iv(e),t=>{const o=CSS.escape(t);return`${o}:`+et(Mh,r=>`not(${r} ${o})`).join(":")}).join(","),ha=(e,t)=>We(t.querySelector(e))?(t.setAttribute(cm,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(cm),!1),Ju=(e,t)=>{const o=sb(e.getTransparentElements()),r=sb(e.getBlockElements());return xt(t.querySelectorAll(o),c=>ha(r,c))},Mc=(e,t,o)=>{const r=o?"lastChild":"firstChild";for(let c=t[r];c;c=c[r])if(uo(e,c,{checkRootAsContent:!0})){c.parentNode?.removeChild(c);return}},Mg=(e,t,o)=>{const r=document.createRange(),c=t.parentNode;if(c){r.setStartBefore(t),r.setEndBefore(o);const h=r.extractContents();Mc(e,h,!0),r.setStartAfter(o),r.setEndAfter(t);const v=r.extractContents();Mc(e,v,!1),uo(e,h,{checkRootAsContent:!0})||c.insertBefore(h,t),uo(e,o,{checkRootAsContent:!0})||c.insertBefore(o,t),uo(e,v,{checkRootAsContent:!0})||c.insertBefore(v,t),c.removeChild(t)}},Kl=(e,t,o)=>{const r=e.getBlockElements(),c=_e.fromDom(t),h=T=>ts(T)in r,v=T=>es(T,c);Le(Sd(o),T=>{_d(T,h,v).each(k=>{const L=re(T,W=>h(W)&&!e.isValidChild(ts(k),ts(W)));if(L.length>0){const W=Jc(k);Le(L,G=>{_d(G,h,v).each(Q=>{Mg(e,Q.dom,G.dom)})}),W.each(G=>Ju(e,G.dom))}})})},Bh=(e,t,o)=>{Le([...o,...Xa(e,t)?[t]:[]],r=>Le(At(_e.fromDom(r),r.nodeName.toLowerCase()),c=>{Yl(e,c.dom)&&Gl(c)}))},ml=(e,t)=>{const o=Ju(e,t);Kl(e,t,o),Bh(e,t,o)},yc=(e,t)=>{if(ab(e,t)){const o=sb(e.getBlockElements());ha(o,t)}},rb=(e,t,o)=>{const r=h=>es(h,_e.fromDom(t)),c=cl(_e.fromDom(o),r);Or(c,c.length-2).filter(da).fold(()=>ml(e,t),h=>ml(e,h.dom))},Zt=e=>e.hasAttribute(cm),Bc=(e,t)=>Yn(e.getTransparentElements(),t),ab=(e,t)=>xn(t)&&Bc(e,t.nodeName),Xa=(e,t)=>ab(e,t)&&Zt(t),Yl=(e,t)=>ab(e,t)&&!Zt(t),uu=(e,t)=>t.type===1&&Bc(e,t.name)&&J(t.attr(cm)),_2=ms().browser,cf=e=>Un(e,da),q0=e=>_2.isFirefox()&&ts(e)==="table"?cf(fa(e)).filter(t=>ts(t)==="caption").bind(t=>cf(Pa(t)).map(o=>{const r=o.dom.offsetTop,c=t.dom.offsetTop,h=t.dom.offsetHeight;return r<=c?-h:0})).getOr(0):0,Cr=(e,t)=>e.children&&Be(e.children,t),gr=(e,t,o)=>{let r=0,c=0;const h=e.ownerDocument;if(o=o||e,t){if(o===e&&t.getBoundingClientRect&&Aa(_e.fromDom(e),"position")==="static"){const T=t.getBoundingClientRect();return r=T.left+(h.documentElement.scrollLeft||e.scrollLeft)-h.documentElement.clientLeft,c=T.top+(h.documentElement.scrollTop||e.scrollTop)-h.documentElement.clientTop,{x:r,y:c}}let v=t;for(;v&&v!==o&&v.nodeType&&!Cr(v,o);){const T=v;r+=T.offsetLeft||0,c+=T.offsetTop||0,v=T.offsetParent}for(v=t.parentNode;v&&v!==o&&v.nodeType&&!Cr(v,o);)r-=v.scrollLeft||0,c-=v.scrollTop||0,v=v.parentNode;c+=q0(_e.fromDom(t))}return{x:r,y:c}},um=(e,t)=>{const o=t.crossOrigin;return t.contentCssCors?"anonymous":Ne(o)?o(e):void 0},Bp=(e,t={})=>{let o=0;const r={},c=_e.fromDom(e),h=Qc(c),v=st=>{t.referrerPolicy=st},T=st=>{t.contentCssCors=st},k=st=>{t.crossOrigin=st},L=st=>{Fs(Mm(c),st)},W=st=>{const ut=Mm(c);Yu(ut,"#"+st).each(ys)},G=st=>Do(r,st).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),Q=st=>new Promise((ut,Bt)=>{let Qt;const Dn=on._addCacheSuffix(st),ro=G(Dn);r[Dn]=ro,ro.count++;const Rt=(Ro,js)=>{Le(Ro,gt),ro.status=js,ro.passed=[],ro.failed=[],Qt&&(Qt.onload=null,Qt.onerror=null,Qt=null)},Ct=()=>Rt(ro.passed,2),Lt=()=>Rt(ro.failed,3);if(ut&&ro.passed.push(ut),Bt&&ro.failed.push(Bt),ro.status===1)return;if(ro.status===2){Ct();return}if(ro.status===3){Lt();return}ro.status=1;const _n=_e.fromTag("link",h.dom);qa(_n,{rel:"stylesheet",type:"text/css",id:ro.id});const No=um(st,t);No!==void 0&&Ar(_n,"crossOrigin",No),t.referrerPolicy&&Ar(_n,"referrerpolicy",t.referrerPolicy),Qt=_n.dom,Qt.onload=Ct,Qt.onerror=Lt,L(_n),Ar(_n,"href",Dn)}),ce=(st,ut)=>{const Bt=G(st);r[st]=Bt,Bt.count++;const Qt=_e.fromTag("style",h.dom);qa(Qt,{rel:"stylesheet",type:"text/css",id:Bt.id,"data-mce-key":st}),Qt.dom.innerHTML=ut,L(Qt)},ke=st=>Promise.allSettled(et(st,Bt=>Q(Bt).then(at(Bt)))).then(Bt=>{const Qt=Ot(Bt,Dn=>Dn.status==="fulfilled");return Qt.fail.length>0?Promise.reject(et(Qt.fail,Dn=>Dn.reason)):et(Qt.pass,Dn=>Dn.value)}),ge=st=>{const ut=on._addCacheSuffix(st);Do(r,ut).each(Bt=>{--Bt.count===0&&(delete r[ut],W(Bt.id))})};return{load:Q,loadRawCss:ce,loadAll:ke,unload:ge,unloadRawCss:st=>{Do(r,st).each(ut=>{--ut.count===0&&(delete r[st],W(ut.id))})},unloadAll:st=>{Le(st,ut=>{ge(ut)})},_setReferrerPolicy:v,_setContentCssCors:T,_setCrossOrigin:k}},jm=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const h=sa(o).dom;return X.from(e.get(h)).getOrThunk(()=>{const v=Bp(h,r);return e.set(h,v),v})}}})(),Cy=e=>e.nodeName.toLowerCase()==="span",uf=(e,t)=>We(e)&&(Mp(t,e)||t.isInline(e.nodeName.toLowerCase())),Bg=(e,t,o)=>{const r=new Ya(e,t).prev(!1),c=new Ya(e,t).next(!1),h=En(r)||uf(r,o),v=En(c)||uf(c,o);return h&&v},$i=e=>Cy(e)&&e.getAttribute("data-mce-type")==="bookmark",D2=(e,t,o)=>cn(e)&&e.data.length>0&&Bg(e,t,o),pt=e=>xn(e)?e.childNodes.length>0:!1,ed=e=>Dp(e)||zm(e),Lp=(e,t,o,r)=>{const c=r||t;if(xn(t)&&$i(t))return t;const h=t.childNodes;for(let v=h.length-1;v>=0;v--)Lp(e,h[v],o,c);if(xn(t)){const v=t.childNodes;v.length===1&&$i(v[0])&&t.parentNode?.insertBefore(v[0],t)}return!ed(t)&&!Mp(o,t)&&!pt(t)&&!D2(t,c,o)&&e.remove(t),t},Da=on.makeMap,Xl=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Gi=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ir=/[<>&\"\']/g,Pl=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Vm={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},Lh={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},hl={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},ib=e=>{const t=_e.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Sy=(e,t)=>{const o={};if(e){const r=e.split(",");t=t||10;for(let c=0;c<r.length;c+=2){const h=String.fromCharCode(parseInt(r[c],t));if(!Lh[h]){const v="&"+r[c+1]+";";o[h]=v,o[v]=h}}return o}else return},Ey=Sy("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),za=(e,t)=>e.replace(t?Xl:Gi,o=>Lh[o]||o),vc=e=>(""+e).replace(ir,t=>Lh[t]||t),Um=(e,t)=>e.replace(t?Xl:Gi,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Lh[o]||"&#"+o.charCodeAt(0)+";"),Ty=(e,t,o)=>{const r=o||Ey;return e.replace(t?Xl:Gi,c=>Lh[c]||r[c]||c)},td={encodeRaw:za,encodeAllRaw:vc,encodeNumeric:Um,encodeNamed:Ty,getEncodeFunc:(e,t)=>{const o=Sy(t)||Ey,r=(v,T)=>v.replace(T?Xl:Gi,k=>Lh[k]!==void 0?Lh[k]:o[k]!==void 0?o[k]:k.length>1?"&#"+((k.charCodeAt(0)-55296)*1024+(k.charCodeAt(1)-56320)+65536)+";":"&#"+k.charCodeAt(0)+";"),c=(v,T)=>Ty(v,T,o),h=Da(e.replace(/\+/g,","));return h.named&&h.numeric?r:h.named?t?c:Ty:h.numeric?Um:za},decode:e=>e.replace(Pl,(t,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):Vm[o]||String.fromCharCode(o)):hl[t]||Ey[t]||ib(t))},Qa=(e,t)=>(e=on.trim(e),e?e.split(t||" "):[]),$l=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),nd=e=>rt(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",du=e=>{const t=o=>qe(o)?et(o,t):nd(o)?new RegExp(o.source,o.flags):rt(o)?ui(o,t):o;return t(e)},xc=e=>{const t=/^(~)?(.+)$/;return Io(Qa(e,","),o=>{const r=t.exec(o);if(r){const h=r[1]==="~"?"span":"div",v=r[2];return[{cloneName:h,name:v}]}else return[]})},Ii=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Mf=e=>{let t,o;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress template time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const r=[t,o].join(" ");return{blockContent:t,phrasingContent:o,flowContent:r}},Jl=e=>{const{blockContent:t,phrasingContent:o,flowContent:r}=Mf(e),c=h=>Object.freeze(h.split(" "));return Object.freeze({blockContent:c(t),phrasingContent:c(o),flowContent:c(r)})},ec={html4:Ri(()=>Jl("html4")),html5:Ri(()=>Jl("html5")),"html5-strict":Ri(()=>Jl("html5-strict"))},lb=(e,t)=>{const{blockContent:o,phrasingContent:r,flowContent:c}=ec[e]();return t==="blocks"?X.some(o):t==="phrasing"?X.some(r):t==="flow"?X.some(c):X.none()},Ki=e=>{const t=Ii(e),{phrasingContent:o,flowContent:r}=Mf(e),c={},h=(k,L,W)=>{c[k]={attributes:Ra(L,at({})),attributesOrder:L,children:Ra(W,at({}))}},v=(k,L="",W="")=>{const G=Qa(W),Q=Qa(k);let ce=Q.length;const ke=[...t,...Qa(L)];for(;ce--;)h(Q[ce],ke.slice(),G)},T=(k,L)=>{const W=Qa(k),G=Qa(L);let Q=W.length;for(;Q--;){const ce=c[W[Q]];for(let ke=0,ge=G.length;ke<ge;ke++)ce.attributes[G[ke]]={},ce.attributesOrder.push(G[ke])}};return e!=="html5-strict"&&(Le(Qa("acronym applet basefont big font strike tt"),W=>{v(W,"",o)}),Le(Qa("center dir isindex noframes"),W=>{v(W,"",r)})),v("html","manifest","head body"),v("head","","base command link meta noscript script style title"),v("title hr noscript br"),v("base","href target"),v("link","href rel media hreflang type sizes hreflang"),v("meta","name http-equiv content charset property"),v("style","media type scoped"),v("script","src async defer type charset"),v("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),v("dd div","",r),v("address dt caption","",e==="html4"?o:r),v("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),v("blockquote","cite",r),v("ol","reversed start type","li"),v("ul","","li"),v("li","value",r),v("dl","","dt dd"),v("a","href target rel media hreflang type",e==="html4"?o:r),v("q","cite",o),v("ins del","cite datetime",r),v("img","src sizes srcset alt usemap ismap width height"),v("iframe","src name width height",r),v("embed","src type width height"),v("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),v("param","name value"),v("map","name",[r,"area"].join(" ")),v("area","alt coords shape href target rel media hreflang type"),v("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),v("colgroup","span","col"),v("col","span"),v("tbody thead tfoot","","tr"),v("tr","","td th"),v("td","colspan rowspan headers",r),v("th","colspan rowspan headers scope abbr",r),v("form","accept-charset action autocomplete enctype method name novalidate target",r),v("fieldset","disabled form name",[r,"legend"].join(" ")),v("label","form for",o),v("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),v("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:o),v("select","disabled form multiple name required size","option optgroup"),v("optgroup","disabled label","option"),v("option","disabled label selected value"),v("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),v("menu","type label",[r,"li"].join(" ")),v("noscript","",r),e!=="html4"&&(v("wbr"),v("ruby","",[o,"rt rp"].join(" ")),v("figcaption","",r),v("mark rt rp bdi","",o),v("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),v("canvas","width height",r),v("data","value",o),v("video","src crossorigin poster preload autoplay mediagroup loop controlslist disablepictureinpicture disableremoteplayback playsinline muted controls width height buffered",[r,"track source"].join(" ")),v("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),v("picture","","img source"),v("source","src srcset type media sizes"),v("track","kind src srclang label default"),v("datalist","",[o,"option"].join(" ")),v("article section nav aside main header footer","",r),v("hgroup","","h1 h2 h3 h4 h5 h6"),v("figure","",[r,"figcaption"].join(" ")),v("time","datetime",o),v("dialog","open",r),v("command","type label icon disabled checked radiogroup command"),v("output","for form name",o),v("progress","value max",o),v("meter","value min max low high optimum",o),v("details","open",[r,"summary"].join(" ")),v("keygen","autofocus challenge disabled form keytype name"),h("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(T("script","language xml:space"),T("style","xml:space"),T("object","declare classid code codebase codetype archive standby align border hspace vspace"),T("embed","align name hspace vspace"),T("param","valuetype type"),T("a","charset name rev shape coords"),T("br","clear"),T("applet","codebase archive code object alt name width height align hspace vspace"),T("img","name longdesc align border hspace vspace"),T("iframe","longdesc frameborder marginwidth marginheight scrolling align"),T("font basefont","size color face"),T("input","usemap align"),T("select"),T("textarea"),T("h1 h2 h3 h4 h5 h6 div p legend caption","align"),T("ul","type compact"),T("li","type"),T("ol dl menu dir","compact"),T("pre","width xml:space"),T("hr","align noshade size width"),T("isindex","prompt"),T("table","summary width frame rules cellspacing cellpadding align bgcolor"),T("col","width align char charoff valign"),T("colgroup","width align char charoff valign"),T("thead","align char charoff valign"),T("tr","align char charoff valign bgcolor"),T("th","axis align char charoff valign nowrap bgcolor width height"),T("form","accept"),T("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),T("tfoot","align char charoff valign"),T("tbody","align char charoff valign"),T("area","nohref"),T("body","background bgcolor text link vlink alink")),e!=="html4"&&(T("input button select textarea","autofocus"),T("input textarea","placeholder"),T("a","download"),T("link script img","crossorigin"),T("img","loading"),T("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&Le([c.video,c.audio],k=>{delete k.children.audio,delete k.children.video}),Le(Qa("a form meter progress dfn"),k=>{c[k]&&delete c[k].children[k]}),delete c.caption.children.table,delete c.script,c},Fu=e=>e==="-"?"remove":"add",Bf=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return X.from(t.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},Lf=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Io(Qa(e,","),o=>{const r=t.exec(o);if(r){const c=r[1],h=c?Fu(c):"replace",v=r[2],T=Io(Qa(r[3],"|"),k=>Bf(k).toArray());return[{operation:h,name:v,validChildren:T}]}else return[]})},dm=(e,t)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:c,attributesOrder:h}=t;return Le(Qa(e,"|"),v=>{const T=o.exec(v);if(T){const k={},L=T[1],W=T[2].replace(/[\\:]:/g,":"),G=T[3],Q=T[4];if(L==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(W),k.required=!0),L==="-"){delete c[W],h.splice(on.inArray(h,W),1);return}if(G&&(G==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:W,value:Q}),k.defaultValue=Q):G==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:W,value:Q}),k.forcedValue=Q):G==="<"&&(k.validValues=on.makeMap(Q,"?"))),r.test(W)){const ce=k;t.attributePatterns=t.attributePatterns||[],ce.pattern=$l(W),t.attributePatterns.push(ce)}else c[W]||h.push(W),c[W]=k}})},cb=(e,t)=>{_o(e.attributes,(o,r)=>{t.attributes[r]=o}),t.attributesOrder.push(...e.attributesOrder)},Fh=(e,t)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Io(Qa(t,","),r=>{const c=o.exec(r);if(c){const h=c[1],v=c[2],T=c[3],k=c[4],L=c[5],W={attributes:{},attributesOrder:[]};if(e.each(G=>cb(G,W)),h==="#"?W.paddEmpty=!0:h==="-"&&(W.removeEmpty=!0),k==="!"&&(W.removeEmptyAttrs=!0),L&&dm(L,W),T&&(W.outputName=v),v==="@")if(e.isNone())e=X.some(W);else return[];return[T?{name:v,element:W,aliasName:T}:{name:v,element:W}]}else return[]})},Zm={},G0=on.makeMap,Sr=on.each,Hv=on.extend,Ff=on.explode,Fp=(e,t={})=>{const o=G0(e," ",G0(e.toUpperCase()," "));return Hv(o,t)},Ay=e=>Fp("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Ph=(e,t)=>{if(e){const o={};return J(e)&&(e={"*":e}),Sr(e,(r,c)=>{o[c]=o[c.toUpperCase()]=t==="map"?G0(r,/[, ]/):Ff(r,/[, ]/)}),o}else return},Ns=(e={})=>{const t={},o={};let r=[];const c={},h={},v={},T=(ko,Ws,yl)=>{const ja=e[ko];if(ja)return G0(ja,/[, ]/,G0(ja.toUpperCase(),/[, ]/));{let Wr=Zm[ko];return Wr||(Wr=Fp(Ws,yl),Zm[ko]=Wr),Wr}},k=e.schema??"html5",L=Ki(k);e.verify_html===!1&&(e.valid_elements="*[*]");const W=Ph(e.valid_styles),G=Ph(e.invalid_styles,"map"),Q=Ph(e.valid_classes,"map"),ce=T("whitespace_elements","pre script noscript style textarea video audio iframe object code"),ke=T("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ge=T("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Te=T("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),nt="td th iframe video audio object script code",st=T("non_empty_elements",nt+" pre svg textarea summary",ge),ut=T("move_caret_before_on_enter_elements",nt+" table",ge),Bt="h1 h2 h3 h4 h5 h6",Qt=T("text_block_elements",Bt+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Dn=T("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing colgroup col",Qt),ro=T("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Rt=T("transparent_elements","a ins del canvas map"),Ct=T("wrap_block_elements","pre "+Bt);Sr("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),ko=>{h[ko]=new RegExp("</"+ko+"[^>]*>","gi")});const Lt=ko=>{const Ws=X.from(t["@"]),yl=/[*?+]/;Le(Fh(Ws,ko??""),({name:ja,element:Wr,aliasName:ol})=>{if(ol&&(t[ol]=Wr),yl.test(ja)){const _m=Wr;_m.pattern=$l(ja),r.push(_m)}else t[ja]=Wr})},_n=ko=>{r=[],Le($n(t),Ws=>{delete t[Ws]}),Lt(ko)},No=(ko,Ws)=>{delete Zm.text_block_elements,delete Zm.block_elements;const yl=Ws.extends?!qd(Ws.extends):!1,ja=Ws.extends;if(o[ko]=ja?o[ja]:{},c[ko]=ja??ko,st[ko.toUpperCase()]={},st[ko]={},yl||(Dn[ko.toUpperCase()]={},Dn[ko]={}),ja&&!t[ko]&&t[ja]){const Wr=du(t[ja]);delete Wr.removeEmptyAttrs,delete Wr.removeEmpty,t[ko]=Wr}else t[ko]={attributesOrder:[],attributes:{}};if(qe(Ws.attributes)){const Wr=_m=>{ol.attributesOrder.push(_m),ol.attributes[_m]={}},ol=t[ko]??{};delete ol.attributesDefault,delete ol.attributesForced,delete ol.attributePatterns,delete ol.attributesRequired,ol.attributesOrder=[],ol.attributes={},Le(Ws.attributes,_m=>{const xf=Ii(k);Bf(_m).each(({preset:fg,name:ay})=>{fg?ay==="global"&&Le(xf,Wr):Wr(ay)})}),t[ko]=ol}if(lt(Ws.padEmpty)){const Wr=t[ko]??{};Wr.paddEmpty=Ws.padEmpty,t[ko]=Wr}if(qe(Ws.children)){const Wr={},ol=xf=>{Wr[xf]={}},_m=xf=>{lb(k,xf).each(fg=>{Le(fg,ol)})};Le(Ws.children,xf=>{Bf(xf).each(({preset:fg,name:ay})=>{fg?_m(ay):ol(ay)})}),o[ko]=Wr}ja&&_o(o,(Wr,ol)=>{Wr[ja]&&(o[ol]=Wr=Hv({},o[ol]),Wr[ko]=Wr[ja])})},Ro=ko=>{Le(xc(ko??""),({name:Ws,cloneName:yl})=>{No(Ws,{extends:yl})})},js=(ko,Ws)=>{v[ko]=Ws},Mr=ko=>{rt(ko)?_o(ko,(Ws,yl)=>{const ja=Ws.componentUrl;J(ja)&&js(yl,ja),No(yl,Ws)}):J(ko)&&Ro(ko)},wa=ko=>{Le(Lf(ko??""),({operation:Ws,name:yl,validChildren:ja})=>{const Wr=Ws==="replace"?{"#comment":{}}:o[yl],ol=xf=>{Ws==="remove"?delete Wr[xf]:Wr[xf]={}},_m=xf=>{lb(k,xf).each(fg=>{Le(fg,ol)})};Le(ja,({preset:xf,name:fg})=>{xf?_m(fg):ol(fg)}),o[yl]=Wr})},ni=ko=>{const Ws=t[ko];if(Ws)return Ws;let yl=r.length;for(;yl--;){const ja=r[yl];if(ja.pattern.test(ko))return ja}},Vc=()=>{e.valid_elements?(_n(e.valid_elements),Sr(L,(ko,Ws)=>{o[Ws]=ko.children})):(Sr(L,(ko,Ws)=>{t[Ws]={attributes:ko.attributes,attributesOrder:ko.attributesOrder},o[Ws]=ko.children}),Sr(Qa("strong/b em/i"),ko=>{const Ws=Qa(ko,"/");t[Ws[1]].outputName=Ws[0]}),Sr(ro,(ko,Ws)=>{t[Ws]&&(e.padd_empty_block_inline_children&&(t[Ws].paddInEmptyBlock=!0),t[Ws].removeEmpty=!0)}),Sr(Qa("ol ul blockquote a table tbody"),ko=>{t[ko]&&(t[ko].removeEmpty=!0)}),Sr(Qa("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),ko=>{t[ko]&&(t[ko].paddEmpty=!0)}),Sr(Qa("span"),ko=>{t[ko].removeEmptyAttrs=!0})),delete t.svg,Mr(e.custom_elements),wa(e.valid_children),Lt(e.extended_valid_elements),wa("+ol[ul|ol],+ul[ul|ol]"),Sr({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(ko,Ws)=>{t[Ws]&&(t[Ws].parentsRequired=Qa(ko))}),e.invalid_elements&&Sr(Ff(e.invalid_elements),ko=>{t[ko]&&delete t[ko]}),ni("span")||Lt("span[!data-mce-type|*]")},Am=at(W),Fn=at(G),ho=at(Q),Tr=at(Te),fr=at(Dn),xu=at(Qt),$t=at(ro),wn=at(Object.seal(ge)),Kn=at(ke),Os=at(st),vs=at(ut),zr=at(ce),km=at(Rt),dp=at(Ct),dg=at(Object.seal(h)),fh=(ko,Ws)=>{const yl=o[ko.toLowerCase()];return!!(yl&&yl[Ws.toLowerCase()])},Av=(ko,Ws)=>{const yl=ni(ko);if(yl)if(Ws){if(yl.attributes[Ws])return!0;const ja=yl.attributePatterns;if(ja){let Wr=ja.length;for(;Wr--;)if(ja[Wr].pattern.test(Ws))return!0}}else return!0;return!1},qd=ko=>Yn(fr(),ko),Yf=ko=>!xo(ko,"#")&&Av(ko)&&!qd(ko),ry=ko=>Yn(dp(),ko)||Yf(ko),DC=at(c),M3=at(v);return Vc(),{type:k,children:o,elements:t,getValidStyles:Am,getValidClasses:ho,getBlockElements:fr,getInvalidStyles:Fn,getVoidElements:wn,getTextBlockElements:xu,getTextInlineElements:$t,getBoolAttrs:Tr,getElementRule:ni,getSelfClosingElements:Kn,getNonEmptyElements:Os,getMoveCaretBeforeOnEnterElements:vs,getWhitespaceElements:zr,getTransparentElements:km,getSpecialElements:dg,getComponentUrls:M3,isValidChild:fh,isValid:Av,isBlock:qd,isInline:Yf,isWrapper:ry,getCustomElements:DC,addValidElements:Lt,setValidElements:_n,addCustomElements:Mr,addValidChildren:wa}},pa=e=>({value:pr(e)}),pr=e=>Ci(e,"#").toUpperCase(),kr=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},Oa=e=>{const t=kr(e.red)+kr(e.green)+kr(e.blue);return pa(t)},Pu=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Pf=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Pp=(e,t,o,r)=>({red:e,green:t,blue:o,alpha:r}),ub=(e,t,o,r)=>{const c=parseInt(e,10),h=parseInt(t,10),v=parseInt(o,10),T=parseFloat(r);return Pp(c,h,v,T)},fm=e=>Pu.test(e)?"rgb":Pf.test(e)?"rgba":"other",xi=e=>{const t=Pu.exec(e);if(t!==null)return X.some(ub(t[1],t[2],t[3],"1"));const o=Pf.exec(e);return o!==null?X.some(ub(o[1],o[2],o[3],o[4])):X.none()},Lc=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,wc=e=>xi(e).map(Oa).map(t=>"#"+t.value).getOr(e),mm=(e={},t)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,h={};let v,T;const k=pi;t&&(v=t.getValidStyles(),T=t.getInvalidStyles());const L=(`\\" \\' \\; \\: ; : `+k).split(" ");for(let G=0;G<L.length;G++)h[L[G]]=k+G,h[k+G]=L[G];const W={parse:G=>{const Q={};let ce=!1;const ke=e.url_converter,ge=e.url_converter_scope||W,Te=(Rt,Ct,Lt)=>{const _n=Q[Rt+"-top"+Ct];if(!_n)return;const No=Q[Rt+"-right"+Ct];if(!No)return;const Ro=Q[Rt+"-bottom"+Ct];if(!Ro)return;const js=Q[Rt+"-left"+Ct];if(!js)return;const Mr=[_n,No,Ro,js];let wa=Mr.length-1;for(;wa--&&Mr[wa]===Mr[wa+1];);wa>-1&&Lt||(Q[Rt+Ct]=wa===-1?Mr[0]:Mr.join(" "),delete Q[Rt+"-top"+Ct],delete Q[Rt+"-right"+Ct],delete Q[Rt+"-bottom"+Ct],delete Q[Rt+"-left"+Ct])},nt=Rt=>{const Ct=Q[Rt];if(!Ct)return;const Lt=Ct.indexOf(",")>-1?[Ct]:Ct.split(" ");let _n=Lt.length;for(;_n--;)if(Lt[_n]!==Lt[0])return!1;return Q[Rt]=Lt[0],!0},st=(Rt,Ct,Lt,_n)=>{nt(Ct)&&nt(Lt)&&nt(_n)&&(Q[Rt]=Q[Ct]+" "+Q[Lt]+" "+Q[_n],delete Q[Ct],delete Q[Lt],delete Q[_n])},ut=Rt=>(ce=!0,h[Rt]),Bt=(Rt,Ct)=>(ce&&(Rt=Rt.replace(/\uFEFF[0-9]/g,Lt=>h[Lt])),Ct||(Rt=Rt.replace(/\\([\'\";:])/g,"$1")),Rt),Qt=Rt=>String.fromCharCode(parseInt(Rt.slice(1),16)),Dn=Rt=>Rt.replace(/\\[0-9a-f]+/gi,Qt),ro=(Rt,Ct,Lt,_n,No,Ro)=>{if(No=No||Ro,No)return No=Bt(No),"'"+No.replace(/\'/g,"\\'")+"'";if(Ct=Bt(Ct||Lt||_n||""),!e.allow_script_urls){const js=Ct.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(js)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(js))return""}return ke&&(Ct=ke.call(ge,Ct,"style")),"url('"+Ct.replace(/\'/g,"\\'")+"')"};if(G){G=G.replace(/[\u0000-\u001F]/g,""),G=G.replace(/\\[\"\';:\uFEFF]/g,ut).replace(/\"[^\"]+\"|\'[^\']+\'/g,Ct=>Ct.replace(/[;:]/g,ut));let Rt;for(;Rt=r.exec(G);){r.lastIndex=Rt.index+Rt[0].length;let Ct=Rt[1].replace(c,"").toLowerCase(),Lt=Rt[2].replace(c,"");if(Ct&&Lt){if(Ct=Dn(Ct),Lt=Dn(Lt),Ct.indexOf(k)!==-1||Ct.indexOf('"')!==-1||!e.allow_script_urls&&(Ct==="behavior"||/expression\s*\(|\/\*|\*\//.test(Lt)))continue;Ct==="font-weight"&&Lt==="700"?Lt="bold":(Ct==="color"||Ct==="background-color")&&(Lt=Lt.toLowerCase()),fm(Lt)==="rgb"&&xi(Lt).each(_n=>{Lt=wc(Lc(_n)).toLowerCase()}),Lt=Lt.replace(o,ro),Q[Ct]=ce?Bt(Lt,!0):Lt}}Te("border","",!0),Te("border","-width"),Te("border","-color"),Te("border","-style"),Te("padding",""),Te("margin",""),st("border","border-width","border-style","border-color"),Q.border==="medium none"&&delete Q.border,Q["border-image"]==="none"&&delete Q["border-image"]}return Q},serialize:(G,Q)=>{let ce="";const ke=(Te,nt)=>{const st=nt[Te];if(st)for(let ut=0,Bt=st.length;ut<Bt;ut++){const Qt=st[ut],Dn=G[Qt];Dn&&(ce+=(ce.length>0?" ":"")+Qt+": "+Dn+";")}},ge=(Te,nt)=>{if(!T||!nt)return!0;let st=T["*"];return st&&st[Te]?!1:(st=T[nt],!(st&&st[Te]))};return Q&&v?(ke("*",v),ke(Q,v)):_o(G,(Te,nt)=>{Te&&ge(nt,Q)&&(ce+=(ce.length>0?" ":"")+nt+": "+Te+";")}),ce}};return W},Md={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},$h=e=>e instanceof Event||Ne(e.initEvent),$p=e=>e.isDefaultPrevented===dt||e.isDefaultPrevented===He,od=e=>dn(e.preventDefault)||$h(e),db=(e,t)=>{const o=t??{};for(const r in e)Yn(Md,r)||(o[r]=e[r]);return We(e.composedPath)&&(o.composedPath=()=>e.composedPath()),We(e.getModifierState)&&(o.getModifierState=r=>e.getModifierState(r)),We(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},Ip=(e,t,o,r)=>{const c=db(t,r);return c.type=e,dn(c.target)&&(c.target=c.srcElement??o),od(t)&&(c.preventDefault=()=>{c.defaultPrevented=!0,c.isDefaultPrevented=dt,Ne(t.preventDefault)&&t.preventDefault()},c.stopPropagation=()=>{c.cancelBubble=!0,c.isPropagationStopped=dt,Ne(t.stopPropagation)&&t.stopPropagation()},c.stopImmediatePropagation=()=>{c.isImmediatePropagationStopped=dt,c.stopPropagation()},$p(c)||(c.isDefaultPrevented=c.defaultPrevented===!0?dt:He,c.isPropagationStopped=c.cancelBubble===!0?dt:He,c.isImmediatePropagationStopped=He)),c},fb="mce-data-",Hp=/^(?:mouse|contextmenu)|click/,Bd=(e,t,o,r)=>{e.addEventListener(t,o,r||!1)},$f=(e,t,o,r)=>{e.removeEventListener(t,o,r||!1)},Yi=e=>We(e)&&Hp.test(e.type),Ld=(e,t)=>{const o=Ip(e.type,e,document,t);if(Yi(e)&&En(e.pageX)&&!En(e.clientX)){const r=o.target.ownerDocument||document,c=r.documentElement,h=r.body,v=o;v.pageX=e.clientX+(c&&c.scrollLeft||h&&h.scrollLeft||0)-(c&&c.clientLeft||h&&h.clientLeft||0),v.pageY=e.clientY+(c&&c.scrollTop||h&&h.scrollTop||0)-(c&&c.clientTop||h&&h.clientTop||0)}return o},zp=(e,t,o)=>{const r=e.document,c={type:"ready"};if(o.domLoaded){t(c);return}const h=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,v=()=>{$f(e,"DOMContentLoaded",v),$f(e,"load",v),o.domLoaded||(o.domLoaded=!0,t(c)),e=null};h()?v():Bd(e,"DOMContentLoaded",v),o.domLoaded||Bd(e,"load",v)};class Fd{static Event=new Fd;domLoaded=!1;events={};expando;hasFocusIn;count=1;constructor(){this.expando=fb+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,o,r,c){const h=this;let v;const T=window,k=Q=>{h.executeHandlers(Ld(Q||T.event),L)};if(!t||cn(t)||Xo(t))return r;let L;t[h.expando]?L=t[h.expando]:(L=h.count++,t[h.expando]=L,h.events[L]={}),c=c||t;const W=o.split(" ");let G=W.length;for(;G--;){let Q=W[G],ce=k,ke=!1,ge=!1;if(Q==="DOMContentLoaded"&&(Q="ready"),h.domLoaded&&Q==="ready"&&t.readyState==="complete"){r.call(c,Ld({type:Q}));continue}!h.hasFocusIn&&(Q==="focusin"||Q==="focusout")&&(ke=!0,ge=Q==="focusin"?"focus":"blur",ce=Te=>{const nt=Ld(Te||T.event);nt.type=nt.type==="focus"?"focusin":"focusout",h.executeHandlers(nt,L)}),v=h.events[L][Q],v?Q==="ready"&&h.domLoaded?r(Ld({type:Q})):v.push({func:r,scope:c}):(h.events[L][Q]=v=[{func:r,scope:c}],v.fakeName=ge,v.capture=ke,v.nativeHandler=ce,Q==="ready"?zp(t,ce,h):Bd(t,ge||Q,ce,ke))}return t=v=null,r}unbind(t,o,r){if(!t||cn(t)||Xo(t))return this;const c=t[this.expando];if(c){let h=this.events[c];if(o){const v=o.split(" ");let T=v.length;for(;T--;){const k=v[T],L=h[k];if(L){if(r){let W=L.length;for(;W--;)if(L[W].func===r){const G=L.nativeHandler,Q=L.fakeName,ce=L.capture,ke=L.slice(0,W).concat(L.slice(W+1));ke.nativeHandler=G,ke.fakeName=Q,ke.capture=ce,h[k]=ke}}(!r||L.length===0)&&(delete h[k],$f(t,L.fakeName||k,L.nativeHandler,L.capture))}}}else _o(h,(v,T)=>{$f(t,v.fakeName||T,v.nativeHandler,v.capture)}),h={};for(const v in h)if(Yn(h,v))return this;delete this.events[c];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,o,r){return this.dispatch(t,o,r)}dispatch(t,o,r){if(!t||cn(t)||Xo(t))return this;const c=Ld({type:o,target:t},r);do{const h=t[this.expando];h&&this.executeHandlers(c,h),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!c.isPropagationStopped());return this}clean(t){if(!t||cn(t)||Xo(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const o=t.getElementsByTagName("*");let r=o.length;for(;r--;)t=o[r],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,o){const r=this.events[o],c=r&&r[t.type];if(c)for(let h=0,v=c.length;h<v;h++){const T=c[h];if(T&&T.func.call(T.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}const Cc=on.each,zv=on.grep,ky="data-mce-style",jp=on.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),K0=(e,t,o)=>{dn(o)||o===""?ci(e,t):Ar(e,t,o)},Pd=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),Lg=(e,t)=>{let o=0;if(e)for(let r=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const h=c.nodeType;t&&cn(c)&&(h===r||!c.data.length)||(o++,r=h)}return o},sd=(e,t)=>{const o=hr(t,"style"),r=e.serialize(e.parse(o),ts(t));K0(t,ky,r)},Y0=(e,t)=>Jo(e)?Yn(jp,t)?e+"":e+"px":e,_y=(e,t,o)=>{const r=Pd(t);dn(o)||o===""?Sg(e,r):Bl(e,r,Y0(o,r))},N2=(e,t,o)=>{const r=t.keep_values,c={set:(v,T,k)=>{const L=_e.fromDom(v);Ne(t.url_converter)&&We(T)&&(T=t.url_converter.call(t.url_converter_scope||o(),String(T),k,v));const W="data-mce-"+k;K0(L,W,T),K0(L,k,T)},get:(v,T)=>{const k=_e.fromDom(v);return hr(k,"data-mce-"+T)||hr(k,T)}},h={style:{set:(v,T)=>{const k=_e.fromDom(v);r&&K0(k,ky,T),ci(k,"style"),J(T)&&fl(k,e.parse(T))},get:v=>{const T=_e.fromDom(v),k=hr(T,ky)||hr(T,"style");return e.serialize(e.parse(k),ts(T))}}};return r&&(h.href=h.src=c),h},ds=(e,t={})=>{const o={},r=window,c={};let h=0;const v=!0,T=!0,k=jm.forElement(_e.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy,crossOrigin:bt=>{const St=t.crossOrigin;if(Ne(St))return St(bt,"stylesheet")}}),L=[],W=t.schema?t.schema:Ns({}),G=mm({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),Q=t.ownEvents?new Fd:Fd.Event,ce=W.getBlockElements(),ke=bt=>J(bt)?Yn(ce,bt):xn(bt)&&(Yn(ce,bt.nodeName)||Xa(W,bt)),ge=bt=>bt&&e&&J(bt)?e.getElementById(bt):bt,Te=bt=>{const St=ge(bt);return We(St)?_e.fromDom(St):null},nt=(bt,St,In="")=>{let Cn;const Fo=Te(bt);if(We(Fo)&&da(Fo)){const br=OH[St];br&&br.get?Cn=br.get(Fo.dom,St):Cn=hr(Fo,St)}return We(Cn)?Cn:In},st=bt=>{const St=ge(bt);return dn(St)?[]:St.attributes},ut=(bt,St,In)=>{ho(bt,Cn=>{if(xn(Cn)){const Fo=_e.fromDom(Cn),br=In===""?null:In,zl=hr(Fo,St),iy=OH[St];iy&&iy.set?iy.set(Fo.dom,br,St):K0(Fo,St,br),zl!==br&&t.onSetAttrib&&t.onSetAttrib({attrElm:Fo.dom,attrName:St,attrValue:br})}})},Bt=(bt,St)=>bt.cloneNode(St),Qt=()=>t.root_element||e.body,Dn=bt=>{const St=Mu(bt);return{x:St.x,y:St.y,w:St.width,h:St.height}},ro=(bt,St)=>gr(e.body,ge(bt),St),Rt=(bt,St,In)=>{ho(bt,Cn=>{const Fo=_e.fromDom(Cn);_y(Fo,St,In),t.update_styles&&sd(G,Fo)})},Ct=(bt,St)=>{ho(bt,In=>{const Cn=_e.fromDom(In);_o(St,(Fo,br)=>{_y(Cn,br,Fo)}),t.update_styles&&sd(G,Cn)})},Lt=(bt,St,In)=>{const Cn=ge(bt);if(!(dn(Cn)||!au(Cn)&&!E2(Cn)))return In?Aa(_e.fromDom(Cn),Pd(St)):(St=St.replace(/-(\D)/g,(Fo,br)=>br.toUpperCase()),St==="float"&&(St="cssFloat"),Cn.style?Cn.style[St]:void 0)},_n=bt=>{const St=ge(bt);if(!St)return{w:0,h:0};let In=Lt(St,"width"),Cn=Lt(St,"height");return(!In||In.indexOf("px")===-1)&&(In="0"),(!Cn||Cn.indexOf("px")===-1)&&(Cn="0"),{w:parseInt(In,10)||St.offsetWidth||St.clientWidth,h:parseInt(Cn,10)||St.offsetHeight||St.clientHeight}},No=bt=>{const St=ge(bt),In=ro(St),Cn=_n(St);return{x:In.x,y:In.y,w:Cn.w,h:Cn.h}},Ro=(bt,St)=>{if(!bt)return!1;const In=qe(bt)?bt:[bt];return Ye(In,Cn=>wl(_e.fromDom(Cn),St))},js=(bt,St,In,Cn)=>{const Fo=[];let br=ge(bt);Cn=Cn===void 0;const zl=In||(Qt().nodeName!=="BODY"?Qt().parentNode:null);if(J(St))if(St==="*")St=xn;else{const iy=St;St=F1=>Ro(F1,iy)}for(;br&&!(br===zl||dn(br.nodeType)||zm(br)||Dp(br));){if(!St||St(br))if(Cn)Fo.push(br);else return[br];br=br.parentNode}return Cn?Fo:null},Mr=(bt,St,In)=>{const Cn=js(bt,St,In,!1);return Cn&&Cn.length>0?Cn[0]:null},wa=(bt,St,In)=>{let Cn=St;if(bt){J(St)&&(Cn=Fo=>Ro(Fo,St));for(let Fo=bt[In];Fo;Fo=Fo[In])if(Ne(Cn)&&Cn(Fo))return Fo}return null},ni=(bt,St)=>wa(bt,St,"nextSibling"),Vc=(bt,St)=>wa(bt,St,"previousSibling"),Am=bt=>Ne(bt.querySelectorAll),Fn=(bt,St)=>{const In=ge(St)??t.root_element??e;return Am(In)?Is(In.querySelectorAll(bt)):[]},ho=function(bt,St,In){const Cn=In??this;if(qe(bt)){const Fo=[];return Cc(bt,(br,zl)=>{const iy=ge(br);iy&&Fo.push(St.call(Cn,iy,zl))}),Fo}else{const Fo=ge(bt);return Fo?St.call(Cn,Fo):!1}},Tr=(bt,St)=>{ho(bt,In=>{_o(St,(Cn,Fo)=>{ut(In,Fo,Cn)})})},fr=(bt,St)=>{ho(bt,In=>{const Cn=_e.fromDom(In);nf(Cn,St)})},xu=(bt,St,In,Cn,Fo)=>ho(bt,br=>{const zl=J(St)?e.createElement(St):St;return We(In)&&Tr(zl,In),Cn&&(!J(Cn)&&Cn.nodeType?zl.appendChild(Cn):J(Cn)&&fr(zl,Cn)),Fo?zl:br.appendChild(zl)}),$t=(bt,St,In)=>xu(e.createElement(bt),bt,St,In,!0),wn=td.decode,Kn=td.encodeAllRaw,Os=(bt,St,In="")=>{let Cn="<"+bt;for(const Fo in St)ss(St,Fo)&&(Cn+=" "+Fo+'="'+Kn(St[Fo])+'"');return Cu(In)&&Yn(W.getVoidElements(),bt)?Cn+" />":Cn+">"+In+"</"+bt+">"},vs=bt=>{const St=e.createElement("div"),In=e.createDocumentFragment();In.appendChild(St),bt&&(St.innerHTML=bt);let Cn;for(;Cn=St.firstChild;)In.appendChild(Cn);return In.removeChild(St),In},zr=(bt,St)=>ho(bt,In=>{const Cn=_e.fromDom(In);return St&&Le(fa(Cn),Fo=>{bs(Fo)&&Fo.dom.length===0?ys(Fo):ul(Cn,Fo)}),ys(Cn),Cn.dom}),km=bt=>ho(bt,St=>{const In=St.attributes;for(let Cn=In.length-1;Cn>=0;Cn--)St.removeAttributeNode(In.item(Cn))}),dp=bt=>G.parse(bt),dg=(bt,St)=>G.serialize(bt,St),fh=bt=>{if(NC!==ds.DOM&&e===document){if(o[bt])return;o[bt]=!0}let St=e.getElementById("mceDefaultStyles");if(!St){St=e.createElement("style"),St.id="mceDefaultStyles",St.type="text/css";const In=e.head;In.firstChild?In.insertBefore(St,In.firstChild):In.appendChild(St)}St.styleSheet?St.styleSheet.cssText+=bt:St.appendChild(e.createTextNode(bt))},Av=bt=>{bt||(bt=""),Le(bt.split(","),St=>{c[St]=!0,k.load(St).catch(Mt)})},qd=(bt,St,In)=>{ho(bt,Cn=>{if(xn(Cn)){const Fo=_e.fromDom(Cn),br=St.split(" ");Le(br,zl=>{We(In)?(In?pc:ra)(Fo,zl):ea(Fo,zl)})}})},Yf=(bt,St)=>{qd(bt,St,!0)},ry=(bt,St)=>{qd(bt,St,!1)},DC=(bt,St)=>{const In=Te(bt),Cn=St.split(" ");return We(In)&&Gr(Cn,Fo=>_i(In,Fo))},M3=bt=>{ho(bt,St=>Sg(_e.fromDom(St),"display"))},ko=bt=>{ho(bt,St=>Bl(_e.fromDom(St),"display","none"))},Ws=bt=>{const St=Te(bt);return We(St)&&Wt(di(St,"display"),"none")},yl=bt=>(bt||"mce_")+h++,ja=bt=>{const St=Te(bt);return We(St)?xn(St.dom)?St.dom.outerHTML:wg(St):""},Wr=(bt,St)=>{ho(bt,In=>{xn(In)&&(In.outerHTML=St)})},ol=(bt,St)=>{const In=ge(St);return ho(bt,Cn=>{const Fo=In?.parentNode,br=In?.nextSibling;return Fo&&(br?Fo.insertBefore(Cn,br):Fo.appendChild(Cn)),Cn})},_m=(bt,St,In)=>ho(St,Cn=>{const Fo=qe(St)?bt.cloneNode(!0):bt;return In&&Cc(zv(Cn.childNodes),br=>{Fo.appendChild(br)}),Cn.parentNode?.replaceChild(Fo,Cn),Cn}),xf=(bt,St)=>{if(bt.nodeName!==St.toUpperCase()){const In=$t(St);return Cc(st(bt),Cn=>{ut(In,Cn.nodeName,nt(bt,Cn.nodeName))}),_m(In,bt,!0),In}else return bt},fg=(bt,St)=>{let In=bt;for(;In;){let Cn=St;for(;Cn&&In!==Cn;)Cn=Cn.parentNode;if(In===Cn)break;In=In.parentNode}return!In&&bt.ownerDocument?bt.ownerDocument.documentElement:In},ay=(bt,St,In)=>It(St)?uo(W,bt,{...In,isContent:Fo=>{const br=Fo.nodeName.toLowerCase();return!!St[br]}}):uo(W,bt,In),B3=()=>e.createRange(),L3=(bt,St,In)=>{let Cn=B3(),Fo,br;if(bt&&St&&bt.parentNode&&St.parentNode){const zl=bt.parentNode;return Cn.setStart(zl,Lg(bt)),Cn.setEnd(St.parentNode,Lg(St)),Fo=Cn.extractContents(),Cn=B3(),Cn.setStart(St.parentNode,Lg(St)+1),Cn.setEnd(zl,Lg(bt)+1),br=Cn.extractContents(),zl.insertBefore(Lp(NC,Fo,W),bt),In?zl.insertBefore(In,bt):zl.insertBefore(St,bt),zl.insertBefore(Lp(NC,br,W),bt),zr(bt),In||St}else return},xT=(bt,St,In,Cn)=>{if(qe(bt)){let Fo=bt.length;const br=[];for(;Fo--;)br[Fo]=xT(bt[Fo],St,In,Cn);return br}else return t.collect&&(bt===e||bt===r)&&L.push([bt,St,In,Cn]),Q.bind(bt,St,In,Cn||NC)},L1=(bt,St,In)=>{if(qe(bt)){let Cn=bt.length;const Fo=[];for(;Cn--;)Fo[Cn]=L1(bt[Cn],St,In);return Fo}else{if(L.length>0&&(bt===e||bt===r)){let Cn=L.length;for(;Cn--;){const[Fo,br,zl]=L[Cn];bt===Fo&&(!St||St===br)&&(!In||In===zl)&&Q.unbind(Fo,br,zl)}}return Q.unbind(bt,St,In)}},OC=(bt,St,In)=>Q.dispatch(bt,St,In),$M=(bt,St,In)=>Q.dispatch(bt,St,In),F3=bt=>{if(bt&&au(bt)){const St=bt.getAttribute("data-mce-contenteditable");return St&&St!=="inherit"?St:bt.contentEditable!=="inherit"?bt.contentEditable:null}else return null},NC={doc:e,settings:t,win:r,files:c,stdMode:v,boxModel:T,styleSheetLoader:k,boundEvents:L,styles:G,schema:W,events:Q,isBlock:ke,root:null,clone:Bt,getRoot:Qt,getViewPort:Dn,getRect:No,getSize:_n,getParent:Mr,getParents:js,get:ge,getNext:ni,getPrev:Vc,select:Fn,is:Ro,add:xu,create:$t,createHTML:Os,createFragment:vs,remove:zr,setStyle:Rt,getStyle:Lt,setStyles:Ct,removeAllAttribs:km,setAttrib:ut,setAttribs:Tr,getAttrib:nt,getPos:ro,parseStyle:dp,serializeStyle:dg,addStyle:fh,loadCSS:Av,addClass:Yf,removeClass:ry,hasClass:DC,toggleClass:qd,show:M3,hide:ko,isHidden:Ws,uniqueId:yl,setHTML:fr,getOuterHTML:ja,setOuterHTML:Wr,decode:wn,encode:Kn,insertAfter:ol,replace:_m,rename:xf,findCommonAncestor:fg,run:ho,getAttribs:st,isEmpty:ay,createRng:B3,nodeIndex:Lg,split:L3,bind:xT,unbind:L1,fire:$M,dispatch:OC,getContentEditable:F3,getContentEditableParent:bt=>{const St=Qt();let In=null;for(let Cn=bt;Cn&&Cn!==St&&(In=F3(Cn),In===null);Cn=Cn.parentNode);return In},isEditable:bt=>{if(We(bt)){const St=xn(bt)?bt:bt.parentElement;return We(St)&&au(St)&&yr(_e.fromDom(St))}else return!1},destroy:()=>{if(L.length>0){let bt=L.length;for(;bt--;){const[St,In,Cn]=L[bt];Q.unbind(St,In,Cn)}}_o(c,(bt,St)=>{k.unload(St),delete c[St]})},isChildOf:(bt,St)=>bt===St||St.contains(bt),dumpRng:bt=>"startContainer: "+bt.startContainer.nodeName+", startOffset: "+bt.startOffset+", endContainer: "+bt.endContainer.nodeName+", endOffset: "+bt.endOffset},OH=N2(G,t,at(NC));return NC};ds.DOM=ds(document),ds.nodeIndex=Lg;const Vp=ds.DOM,Rs=0,tc=1,Ih=2,X0=3;class er{static ScriptLoader=new er;settings;states={};queue=[];scriptLoadedCallbacks={};queueLoadedCallbacks=[];loading=!1;constructor(t={}){this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}_setCrossOrigin(t){this.settings.crossOrigin=t}loadScript(t){return new Promise((o,r)=>{const c=Vp,h=document;let v;const T=()=>{c.remove(W),v&&(v.onerror=v.onload=v=null)},k=()=>{T(),o()},L=()=>{T(),r("Failed to load script: "+t)},W=c.uniqueId();v=h.createElement("script"),v.id=W,v.type="text/javascript",v.src=on._addCacheSuffix(t),this.settings.referrerPolicy&&c.setAttrib(v,"referrerpolicy",this.settings.referrerPolicy);const G=this.settings.crossOrigin;if(Ne(G)){const Q=G(t);Q!==void 0&&c.setAttrib(v,"crossorigin",Q)}v.onload=k,v.onerror=L,(h.head||h.body).appendChild(v)})}isDone(t){return this.states[t]===Ih}markDone(t){this.states[t]=Ih}add(t){const o=this;return o.queue.push(t),o.states[t]===void 0&&(o.states[t]=Rs),new Promise((c,h)=>{o.scriptLoadedCallbacks[t]||(o.scriptLoadedCallbacks[t]=[]),o.scriptLoadedCallbacks[t].push({resolve:c,reject:h})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const o=this,r=(k,L)=>{Do(o.scriptLoadedCallbacks,L).each(W=>{Le(W,G=>G[k](L))}),delete o.scriptLoadedCallbacks[L]},c=k=>{const L=xt(k,W=>W.status==="rejected");return L.length>0?Promise.reject(Io(L,({reason:W})=>qe(W)?W:[W])):Promise.resolve()},h=k=>Promise.allSettled(et(k,L=>o.states[L]===Ih?(r("resolve",L),Promise.resolve()):o.states[L]===X0?(r("reject",L),Promise.reject(L)):(o.states[L]=tc,o.loadScript(L).then(()=>{o.states[L]=Ih,r("resolve",L);const W=o.queue;return W.length>0?(o.queue=[],h(W).then(c)):Promise.resolve()},()=>(o.states[L]=X0,r("reject",L),Promise.reject(L)))))),v=k=>(o.loading=!0,h(k).then(L=>{o.loading=!1;const W=o.queueLoadedCallbacks.shift();return X.from(W).each(gt),c(L)})),T=Tf(t);return o.loading?new Promise((k,L)=>{o.queueLoadedCallbacks.push(()=>{v(T).then(k,L)})}):v(T)}getScriptAttributes(t){const o={};this.settings.referrerPolicy&&(o.referrerpolicy=this.settings.referrerPolicy);const r=this.settings.crossOrigin;if(Ne(r)){const c=r(t);J(c)&&(o.crossorigin=c)}return o}}const jv=(e,t)=>{const o=e.indexOf(t);return o!==-1&&e.indexOf(t,o+1)>o},mb=e=>rt(e)&&Yn(e,"raw"),Vv=e=>qe(e)&&e.length>1,Up={},hb=Bn("en"),R2=()=>Do(Up,hb.get()),$u={getData:()=>ui(Up,e=>({...e})),setCode:e=>{e&&hb.set(e)},getCode:()=>hb.get(),add:(e,t)=>{let o=Up[e];o||(Up[e]=o={});const r=et($n(t),c=>c.toLowerCase());_o(t,(c,h)=>{const v=h.toLowerCase();v!==h&&jv(r,v)?(Yn(t,v)||(o[v]=c),o[h]=c):o[v]=c})},translate:e=>{const t=R2().getOr({}),o=T=>Ne(T)?Object.prototype.toString.call(T):r(T)?"":""+T,r=T=>T===""||T===null||T===void 0,c=T=>{const k=o(T);return Yn(t,k)?o(t[k]):Do(t,k.toLowerCase()).map(o).getOr(k)},h=T=>T.replace(/{context:\w+}$/,""),v=T=>T.replaceAll("...",Kd);if(r(e))return"";if(mb(e))return v(o(e.raw));if(Vv(e)){const T=e.slice(1),k=c(e[0]).replace(/\{([0-9]+)\}/g,(L,W)=>Yn(T,W)?o(T[W]):L);return v(h(k))}return v(h(c(e)))},isRtl:()=>R2().bind(e=>Do(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Yn(Up,e)},Xi=()=>{const e=[],t={},o={},r=[],c=(ge,Te)=>{const nt=xt(r,st=>st.name===ge&&st.state===Te);Le(nt,st=>st.resolve())},h=ge=>Yn(t,ge),v=ge=>Yn(o,ge),T=ge=>{if(o[ge])return o[ge].instance},k=(ge,Te)=>{const nt=$u.getCode(),st=","+(Te||"")+",";!nt||Te&&st.indexOf(","+nt+",")===-1||er.ScriptLoader.add(t[ge]+"/langs/"+nt+".js")},L=(ge,Te)=>{Xi.languageLoad!==!1&&(h(ge)?k(ge,Te):ke(ge,"loaded").then(()=>k(ge,Te)))},W=(ge,Te)=>(e.push(Te),o[ge]={instance:Te},c(ge,"added"),Te),G=ge=>{delete t[ge],delete o[ge]},Q=(ge,Te)=>J(Te)?J(ge)?{prefix:"",resource:Te,suffix:""}:{prefix:ge.prefix,resource:Te,suffix:ge.suffix}:Te,ce=(ge,Te)=>{if(t[ge])return Promise.resolve();let nt=J(Te)?Te:Te.prefix+Te.resource+Te.suffix;nt.indexOf("/")!==0&&nt.indexOf("://")===-1&&(nt=Xi.baseURL+"/"+nt),t[ge]=nt.substring(0,nt.lastIndexOf("/"));const st=()=>(c(ge,"loaded"),Promise.resolve());return o[ge]?st():er.ScriptLoader.add(nt).then(st)},ke=(ge,Te="added")=>Te==="added"&&v(ge)||Te==="loaded"&&h(ge)?Promise.resolve():new Promise(nt=>{r.push({name:ge,state:Te,resolve:nt})});return{items:e,urls:t,lookup:o,get:T,requireLangPack:L,add:W,remove:G,createUrl:Q,load:ce,waitFor:ke}};Xi.languageLoad=!0,Xi.baseURL="",Xi.PluginManager=Xi(),Xi.ThemeManager=Xi(),Xi.ModelManager=Xi();const Hh=at("mce-annotation"),rd=at("data-mce-annotation"),hm=at("data-mce-annotation-uid"),Wp=at("data-mce-annotation-active"),la=at("data-mce-annotation-classes"),Q0=at("data-mce-annotation-attrs"),VC=e=>t=>es(t,e),pb=(e,t)=>{const o=e.selection.getRng(),r=_e.fromDom(o.startContainer),c=_e.fromDom(e.getBody()),h=t.fold(()=>"."+Hh(),k=>`[${rd()}="${k}"]`),v=eu(r,o.startOffset).getOr(r);return El(v,h,VC(c)).bind(k=>dl(k,`${hm()}`).bind(L=>dl(k,`${rd()}`).map(W=>{const G=bb(e,L);return{uid:L,name:W,elements:G}})))},Uv=e=>da(e)&&_i(e,Hh()),Zv=(e,t)=>Vr(e,"data-mce-bogus")||Nr(e,'[data-mce-bogus="all"]',VC(t)),bb=(e,t)=>{const o=_e.fromDom(e.getBody()),r=At(o,`[${hm()}="${t}"]`);return xt(r,c=>!Zv(c,o))},If=(e,t)=>{const o=_e.fromDom(e.getBody()),r=At(o,`[${rd()}="${t}"]`),c={};return Le(r,h=>{if(!Zv(h,o)){const v=hr(h,hm()),T=Do(c,v).getOr([]);c[v]=T.concat([h])}}),c},zh=(e,t)=>{const o=Bn({}),r=()=>({listeners:[],previous:Bs()}),c=(G,Q)=>{h(G,ce=>(Q(ce),ce))},h=(G,Q)=>{const ce=o.get(),ke=Do(ce,G).getOrThunk(r),ge=Q(ke);ce[G]=ge,o.set(ce)},v=(G,Q,ce)=>{c(G,ke=>{Le(ke.listeners,ge=>ge(!0,G,{uid:Q,nodes:et(ce,Te=>Te.dom)}))})},T=G=>{c(G,Q=>{Le(Q.listeners,ce=>ce(!1,G))})},k=(G,Q)=>{Le(bb(e,G),ce=>{Q?Ar(ce,Wp(),"true"):ci(ce,Wp())})},L=Su(()=>{const G=Kr(t.getNames());Le(G,Q=>{h(Q,ce=>{const ke=ce.previous.get();return pb(e,X.some(Q)).fold(()=>{ke.each(ge=>{T(Q),ce.previous.clear(),k(ge,!1)})},({uid:ge,name:Te,elements:nt})=>{Wt(ke,ge)||(ke.each(st=>k(st,!1)),v(Te,ge,nt),ce.previous.set(ge),k(ge,!0))}),{previous:ce.previous,listeners:ce.listeners}})})},30);return e.on("remove",()=>{L.cancel()}),e.on("NodeChange",()=>{L.throttle()}),{addListener:(G,Q)=>{h(G,ce=>({previous:ce.previous,listeners:ce.listeners.concat([Q])}))}}},qp=(e,t)=>{const o=rd(),r=h=>X.from(h.attr(o)).bind(t.lookup),c=h=>{h.attr(hm(),null),h.attr(rd(),null),h.attr(Wp(),null);const v=X.from(h.attr(Q0())).map(W=>W.split(",")).getOr([]),T=X.from(h.attr(la())).map(W=>W.split(",")).getOr([]);Le(v,W=>h.attr(W,null));const k=h.attr("class")?.split(" ")??[],L=Ms(k,[Hh()].concat(T));h.attr("class",L.length>0?L.join(" "):null),h.attr(la(),null),h.attr(Q0(),null)};e.serializer.addTempAttr(Wp()),e.serializer.addAttributeFilter(o,h=>{for(const v of h)r(v).each(T=>{T.persistent===!1&&(v.name==="span"?v.unwrap():c(v))})})},Gp=()=>{const e={};return{register:(c,h)=>{e[c]={name:c,settings:h}},lookup:c=>Do(e,c).map(h=>h.settings),getNames:()=>$n(e)}},Dy=(e,t,o=He)=>{const r=new Ya(e,t),c=h=>{let v;do v=r[h]();while(v&&!cn(v)&&!o(v));return X.from(v).filter(cn)};return{current:()=>X.from(r.current()).filter(cn),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},fu=(e,t)=>{const o=t||(v=>e.isBlock(v)||ia(v)||ta(v)),r=(v,T,k,L)=>{if(cn(v)){const W=L(v,T,v.data);if(W!==-1)return X.some({container:v,offset:W})}return k().bind(W=>r(W.container,W.offset,k,L))};return{backwards:(v,T,k,L)=>{const W=Dy(v,L??e.getRoot(),o);return r(v,T,()=>W.prev().map(G=>({container:G,offset:G.length})),k).getOrNull()},forwards:(v,T,k,L)=>{const W=Dy(v,L??e.getRoot(),o);return r(v,T,()=>W.next().map(G=>({container:G,offset:0})),k).getOrNull()}}},df=["td","th"],J0=["thead","tbody","tfoot"],UC=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],P2=["li","dd","dt"],Wv=["ul","ol","dl"],Oy=["pre","script","textarea","style"],gm=e=>{let t;return o=>(t=t||Ra(e,dt),Yn(t,ts(o)))},$2=e=>ts(e)==="table",$d=e=>da(e)&&ts(e)==="br",Sc=gm(UC),Id=gm(Wv),mu=gm(P2),e1=gm(J0),jh=gm(df),Ny=gm(Oy),qv=e=>{const t=[];let o=e.dom;for(;o;)t.push(_e.fromDom(o)),o=o.lastChild;return t},yb=e=>{const t=At(e,"br"),o=xt(qv(e).slice(-1),$d);t.length===o.length&&Le(o,ys)},Pg=()=>{const e=_e.fromTag("br");return Ar(e,"data-mce-bogus","1"),e},Vh=e=>{ql(e),Fs(e,Pg())},_r=(e,t)=>{ii(e).each(o=>{qu(o).each(r=>{t.isBlock(ts(e))&&$d(o)&&t.isBlock(ts(r))&&ys(o)})})},Hi=pi,$g=Ei,Fc=rl,vb=e=>e.insertContent(Hi,{preserve_zwsp:!0}),Er=xn,ad=cn,Hf=e=>(ad(e)&&(e=e.parentNode),Er(e)&&e.hasAttribute("data-mce-caret")),pm=e=>ad(e)&&$g(e.data),id=e=>Hf(e)||pm(e),Ry=e=>e.firstChild!==e.lastChild||!ia(e.firstChild),I2=(e,t)=>{const r=(e.ownerDocument??document).createTextNode(Hi),c=e.parentNode;if(t){const h=e.previousSibling;if(ad(h)){if(id(h))return h;if(Qi(h))return h.splitText(h.data.length-1)}c?.insertBefore(r,e)}else{const h=e.nextSibling;if(ad(h)){if(id(h))return h;if(hu(h))return h.splitText(1),h}e.nextSibling?c?.insertBefore(r,e.nextSibling):c?.appendChild(r)}return r},Wm=e=>{const t=e.container();return cn(t)?t.data.charAt(e.offset())===Hi||e.isAtStart()&&pm(t.previousSibling):!1},Ig=e=>{const t=e.container();return cn(t)?t.data.charAt(e.offset()-1)===Hi||e.isAtEnd()&&pm(t.nextSibling):!1},Ja=(e,t,o)=>{const c=(t.ownerDocument??document).createElement(e);c.setAttribute("data-mce-caret",o?"before":"after"),c.setAttribute("data-mce-bogus","all"),c.appendChild(Pg().dom);const h=t.parentNode;return o?h?.insertBefore(c,t):t.nextSibling?h?.insertBefore(c,t.nextSibling):h?.appendChild(c),c},hu=e=>ad(e)&&e.data[0]===Hi,Qi=e=>ad(e)&&e.data[e.data.length-1]===Hi,nc=e=>{const t=e.getElementsByTagName("br"),o=t[t.length-1];Hm(o)&&o.parentNode?.removeChild(o)},ff=e=>e&&e.hasAttribute("data-mce-caret")?(nc(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,My=e=>Hf(e.startContainer),Uh=Math.round,qm=e=>e?{left:Uh(e.left),top:Uh(e.top),bottom:Uh(e.bottom),right:Uh(e.right),width:Uh(e.width),height:Uh(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Hg=(e,t)=>(e=qm(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),By=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,xb=(e,t,o)=>e>=0&&e<=Math.min(t.height,o.height)/2,Zh=(e,t)=>{const o=Math.min(t.height/2,e.height/2);return e.bottom-o<t.top?!0:e.top>t.bottom?!1:xb(t.top-e.bottom,e,t)},Gm=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:xb(t.bottom-e.top,e,t),Gv=(e,t,o)=>t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom,t1=e=>vt(e,(t,o)=>t.fold(()=>X.some(o),r=>{const c=Math.min(o.left,r.left),h=Math.min(o.top,r.top),v=Math.max(o.right,r.right),T=Math.max(o.bottom,r.bottom);return X.some({top:h,right:v,bottom:T,left:c,width:v-c,height:T-h})}),X.none()),Kv=(e,t,o)=>{const r=Math.max(Math.min(t,e.left+e.width),e.left),c=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((t-r)*(t-r)+(o-c)*(o-c))},Yv=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),gl=e=>{const t=e.startContainer,o=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===o+1?t.childNodes[o]:null},zg=(e,t)=>{if(xn(e)&&e.hasChildNodes()){const o=e.childNodes,r=To(t,0,o.length-1);return o[r]}else return e},ld=(e,t)=>{if(!(t<0&&xn(e)&&e.hasChildNodes()))return zg(e,t)},Xv=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),wb=e=>J(e)&&e.charCodeAt(0)>=768&&Xv.test(e),Cb=(...e)=>t=>{for(let o=0;o<e.length;o++)if(e[o](t))return!0;return!1},Sb=(...e)=>t=>{for(let o=0;o<e.length;o++)if(!e[o](t))return!1;return!0},Ly=Bu,Qv=ta,Jv=ia,Kp=cn,Ji=Qu(["script","style","textarea"]),Ur=Qu(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Al=Qu(["table"]),kl=id,ba=e=>kl(e)?!1:Kp(e)?!Ji(e.parentNode):Ur(e)||Jv(e)||Al(e)||Km(e),Oi=e=>xn(e)&&e.getAttribute("unselectable")==="true",Km=e=>!Oi(e)&&Qv(e),Hd=(e,t)=>{for(let o=e.parentNode;o&&o!==t;o=o.parentNode){if(Km(o))return!1;if(Ly(o))return!0}return!0},Fy=e=>Km(e)?!vt(Is(e.getElementsByTagName("*")),(t,o)=>t||Ly(o),!1):!1,Eb=e=>Ur(e)||Fy(e),zf=(e,t)=>ba(e)&&Hd(e,t),ex=xn,tx=ba,Wh=tb("display","block table"),Py=tb("float","left right"),n1=Sb(ex,tx,Ue(Py)),H2=Ue(tb("white-space","pre pre-line pre-wrap")),Tb=cn,bm=ia,$y=ds.nodeIndex,Ab=ld,o1=e=>e?e.createRange():ds.DOM.createRng(),jg=e=>J(e)&&/[\r\n\t ]/.test(e),Ym=e=>!!e.setStart&&!!e.setEnd,Vg=e=>{const t=e.startContainer,o=e.startOffset;if(jg(e.toString())&&H2(t.parentNode)&&cn(t)){const r=t.data;if(jg(r[o-1])||jg(r[o+1]))return!0}return!1},s1=e=>{const t=e.ownerDocument,o=o1(t),r=t.createTextNode(jr),c=e.parentNode;c.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const h=qm(o.getBoundingClientRect());return c.removeChild(r),h},Iy=e=>{const t=e.startContainer,o=e.endContainer,r=e.startOffset,c=e.endOffset;if(t===o&&cn(o)&&r===0&&c===1){const h=e.cloneRange();return h.setEndAfter(o),Il(h)}else return null},jf=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Il=e=>{let t;const o=e.getClientRects();return o.length>0?t=qm(o[0]):t=qm(e.getBoundingClientRect()),!Ym(e)&&bm(e)&&jf(t)?s1(e):jf(t)&&Ym(e)?Iy(e)??t:t},oc=(e,t)=>{const o=Hg(e,t);return o.width=1,o.right=o.left+1,o},qh=e=>{const t=[],o=v=>{v.height!==0&&(t.length>0&&By(v,t[t.length-1])||t.push(v))},r=(v,T)=>{const k=o1(v.ownerDocument);if(T<v.data.length){if(wb(v.data[T]))return;if(wb(v.data[T-1])&&(k.setStart(v,T),k.setEnd(v,T+1),!Vg(k))){o(oc(Il(k),!1));return}}T>0&&(k.setStart(v,T-1),k.setEnd(v,T),Vg(k)||o(oc(Il(k),!1))),T<v.data.length&&(k.setStart(v,T),k.setEnd(v,T+1),Vg(k)||o(oc(Il(k),!0)))},c=e.container(),h=e.offset();if(Tb(c))return r(c,h),t;if(ex(c))if(e.isAtEnd()){const v=Ab(c,h);Tb(v)&&r(v,v.data.length),n1(v)&&!bm(v)&&o(oc(Il(v),!1))}else{const v=Ab(c,h);if(Tb(v)&&r(v,0),n1(v)&&e.isAtEnd())return o(oc(Il(v),!1)),t;const T=Ab(e.container(),e.offset()-1);n1(T)&&!bm(T)&&(Wh(T)||Wh(v)||!n1(v))&&o(oc(Il(T),!1)),n1(v)&&o(oc(Il(v),!0))}return t},kt=(e,t,o)=>{const r=()=>(Tb(e),t===0),c=()=>Tb(e)?t>=e.data.length:t>=e.childNodes.length,h=()=>{const W=o1(e.ownerDocument);return W.setStart(e,t),W.setEnd(e,t),W},v=()=>(o||(o=qh(kt(e,t))),o),T=()=>v().length>0,k=W=>W&&e===W.container()&&t===W.offset(),L=W=>Ab(e,W?t-1:t);return{container:at(e),offset:at(t),toRange:h,getClientRects:v,isVisible:T,isAtStart:r,isAtEnd:c,isEqual:k,getNode:L}};kt.fromRangeStart=e=>kt(e.startContainer,e.startOffset),kt.fromRangeEnd=e=>kt(e.endContainer,e.endOffset),kt.after=e=>kt(e.parentNode,$y(e)+1),kt.before=e=>kt(e.parentNode,$y(e)),kt.isAbove=(e,t)=>Rn(xs(t.getClientRects()),Yr(e.getClientRects()),Zh).getOr(!1),kt.isBelow=(e,t)=>Rn(Yr(t.getClientRects()),xs(e.getClientRects()),Gm).getOr(!1),kt.isAtStart=e=>e?e.isAtStart():!1,kt.isAtEnd=e=>e?e.isAtEnd():!1,kt.isTextPosition=e=>e?cn(e.container()):!1,kt.isElementPosition=e=>!kt.isTextPosition(e);const Yp=(e,t)=>{cn(t)&&t.data.length===0&&e.remove(t)},Hy=(e,t,o)=>{t.insertNode(o),Yp(e,o.previousSibling),Yp(e,o.nextSibling)},Pc=(e,t,o)=>{const r=X.from(o.firstChild),c=X.from(o.lastChild);t.insertNode(o),r.each(h=>Yp(e,h.previousSibling)),c.each(h=>Yp(e,h.nextSibling))},Xp=(e,t,o)=>{Dp(o)?Pc(e,t,o):Hy(e,t,o)},ym=cn,zy=Hm,nx=ds.nodeIndex,Gh=e=>{const t=e.parentNode;return zy(t)?Gh(t):t},kb=e=>e?Tu(e.childNodes,(t,o)=>(zy(o)&&o.nodeName!=="BR"?t=t.concat(kb(o)):t.push(o),t),[]):[],Vf=(e,t)=>{let o=e;for(;(o=o.previousSibling)&&ym(o);)t+=o.data.length;return t},Qp=e=>t=>e===t,jy=e=>{let t,o;t=kb(Gh(e)),o=yd(t,Qp(e),e),t=t.slice(0,o+1);const r=Tu(t,(c,h,v)=>(ym(h)&&ym(t[v-1])&&c++,c),0);return t=Gc(t,Qu([e.nodeName])),o=yd(t,Qp(e),e),o-r},Ec=e=>(ym(e)?"text()":e.nodeName.toLowerCase())+"["+jy(e)+"]",cd=(e,t,o)=>{const r=[];for(let c=t.parentNode;c&&c!==e;c=c.parentNode)r.push(c);return r},ud=(e,t)=>{let o=[],r=t.container(),c=t.offset(),h;if(ym(r))h=Vf(r,c);else{const T=r.childNodes;c>=T.length?(h="after",c=T.length-1):h="before",r=T[c]}o.push(Ec(r));let v=cd(e,r);return v=Gc(v,Ue(Hm)),o=o.concat(qc(v,T=>Ec(T))),o.reverse().join("/")+","+h},z2=(e,t,o)=>{let r=kb(e);return r=Gc(r,(c,h)=>!ym(c)||!ym(r[h-1])),r=Gc(r,Qu([t])),r[o]},Jp=(e,t)=>{let o=e,r=0;for(;ym(o);){const c=o.data.length;if(t>=r&&t<=r+c){e=o,t=t-r;break}if(!ym(o.nextSibling)){e=o,t=c;break}r+=c,o=o.nextSibling}return ym(e)&&t>e.data.length&&(t=e.data.length),kt(e,t)},ox=(e,t)=>{if(!t)return null;const o=t.split(","),r=o[0].split("/"),c=o.length>1?o[1]:"before",h=Tu(r,(v,T)=>{const k=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(T);return k?(k[1]==="text()"&&(k[1]="#text"),z2(v,k[1],parseInt(k[2],10))):null},e);if(!h)return null;if(!ym(h)&&h.parentNode){let v;return c==="after"?v=nx(h)+1:v=nx(h),kt(h.parentNode,v)}return Jp(h,parseInt(c,10))},_b=ta,sx=(e,t,o)=>{let r=e(t.data.slice(0,o)).length;for(let c=t.previousSibling;c&&cn(c);c=c.previousSibling)r+=e(c.data).length;return r},rx=(e,t,o,r,c)=>{const h=c?r.startContainer:r.endContainer;let v=c?r.startOffset:r.endOffset;const T=[],k=e.getRoot();if(cn(h))T.push(o?sx(t,h,v):v);else{let L=0;const W=h.childNodes;v>=W.length&&W.length&&(L=1,v=Math.max(0,W.length-1)),T.push(e.nodeIndex(W[v],o)+L)}for(let L=h;L&&L!==k;L=L.parentNode)T.push(e.nodeIndex(L,o));return T},cs=(e,t,o,r)=>{const c=t.dom,h=rx(c,e,o,r,!0),v=t.isForward(),T=My(r)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:h,forward:v,...T};{const k=rx(c,e,o,r,!1);return{start:h,end:k,forward:v,...T}}},no=(e,t,o)=>{let r=0;return on.each(e.select(t),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;r++;return}}),r},r1=(e,t)=>{let o=t?e.startContainer:e.endContainer,r=t?e.startOffset:e.endOffset;if(xn(o)&&o.nodeName==="TR"){const c=o.childNodes;o=c[Math.min(t?r:r-1,c.length-1)],o&&(r=t?0:o.childNodes.length,t?e.setStart(o,r):e.setEnd(o,r))}},Vy=e=>(r1(e,!0),r1(e,!1),e),a1=(e,t)=>{if(xn(e)&&(e=zg(e,t),_b(e)))return e;if(id(e)){cn(e)&&Hf(e)&&(e=e.parentNode);let o=e.previousSibling;if(_b(o)||(o=e.nextSibling,_b(o)))return o}},ax=e=>a1(e.startContainer,e.startOffset)||a1(e.endContainer,e.endOffset),i1=(e,t,o)=>{const r=o.getNode(),c=o.getRng();if(r.nodeName==="IMG"||_b(r)){const v=r.nodeName;return{name:v,index:no(o.dom,v,r)}}const h=ax(c);if(h){const v=h.tagName;return{name:v,index:no(o.dom,v,h)}}return cs(e,o,t,c)},na=e=>{const t=e.getRng();return{start:ud(e.dom.getRoot(),kt.fromRangeStart(t)),end:ud(e.dom.getRoot(),kt.fromRangeEnd(t)),forward:e.isForward()}},Db=e=>({rng:e.getRng(),forward:e.isForward()}),l1=(e,t,o)=>{const r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},Xm=(e,t)=>{const o=e.dom;let r=e.getRng();const c=o.uniqueId(),h=e.isCollapsed(),v=e.getNode(),T=v.nodeName,k=e.isForward();if(T==="IMG")return{name:T,index:no(o,T,v)};const L=Vy(r.cloneRange());if(!h){L.collapse(!1);const G=l1(o,c+"_end",t);Xp(o,L,G)}r=Vy(r),r.collapse(!0);const W=l1(o,c+"_start",t);return Xp(o,r,W),e.moveToBookmark({id:c,keep:!0,forward:k}),{id:c,forward:k}},Nt=(e,t,o=!1)=>t===2?i1(Fc,o,e):t===3?na(e):t?Db(e):Xm(e,!1),mf=le(i1,Jn,!0),vm=e=>e===1,zd=e=>e===-1;var Tc;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Tc||(Tc={}));const Qm=(e,t,o)=>e.stype===Tc.Error?t(e.serror):o(e.svalue),e0=e=>{const t=[],o=[];return Le(e,r=>{Qm(r,c=>o.push(c),c=>t.push(c))}),{values:t,errors:o}},xm=(e,t)=>e.stype===Tc.Error?{stype:Tc.Error,serror:t(e.serror)}:e,ZC=(e,t)=>e.stype===Tc.Value?{stype:Tc.Value,svalue:t(e.svalue)}:e,t0=(e,t)=>e.stype===Tc.Value?t(e.svalue):e,Rr=(e,t)=>e.stype===Tc.Error?t(e.serror):e,hf=e=>({stype:Tc.Value,svalue:e}),ix=e=>({stype:Tc.Error,serror:e}),sc={fromResult:e=>e.fold(ix,hf),toResult:e=>Qm(e,Pe.error,Pe.value),svalue:hf,partition:e0,serror:ix,bind:t0,bindError:Rr,map:ZC,mapError:xm,fold:Qm},n0=e=>rt(e)&&$n(e).length>100?" removed due to size":JSON.stringify(e,null,2),Uy=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:at("... (only showing first ten failures)")}]):e;return et(t,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},Zy=(e,t)=>sc.serror([{path:e,getErrorInfo:t}]),Wy=(e,t,o)=>Zy(e,()=>'Could not find valid *required* value for "'+t+'" in '+n0(o)),j2=(e,t)=>Zy(e,at(t)),lx=e=>{const t=(r,c)=>sc.bindError(e(c),h=>j2(r,h)),o=at("val");return{extract:t,toString:o}},Ob=lx(sc.svalue),a=at(Ob),d=(e,t)=>lx(o=>{const r=typeof o;return e(o)?sc.svalue(o):sc.serror(`Expected type: ${t} but got: ${r}`)}),g=d(Jo,"number"),C=d(J,"string"),R=d(Ne,"function"),$=()=>({tag:"required",process:{}}),se=e=>({tag:"defaultedThunk",process:e}),de=e=>se(at(e)),it=()=>({tag:"option",process:{}}),Vt=(e,t,o,r)=>({tag:"field",key:e,newKey:t,presence:o,prop:r}),gn=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},An=(e,t)=>sc.svalue(jt(t,yn.apply(void 0,e))),Yt=e=>P(sc.serror,gs)(e),As={consolidateObj:(e,t)=>{const o=sc.partition(e);return o.errors.length>0?Yt(o.errors):An(o.values,t)},consolidateArr:e=>{const t=sc.partition(e);return t.errors.length>0?Yt(t.errors):sc.svalue(t.values)}},mi=(e,t,o,r)=>Do(t,o).fold(()=>Wy(e,o,t),r),Qe=(e,t,o,r)=>{const c=Do(e,t).getOrThunk(()=>o(e));return r(c)},mt=(e,t,o)=>o(Do(e,t)),Ht=(e,t,o,r)=>{const c=Do(e,t).map(h=>h===!0?o(e):h);return r(c)},fn=(e,t,o,r,c)=>{const h=T=>c.extract(t.concat([r]),T),v=T=>T.fold(()=>sc.svalue(X.none()),k=>{const L=c.extract(t.concat([r]),k);return sc.map(L,X.some)});switch(e.tag){case"required":return mi(t,o,r,h);case"defaultedThunk":return Qe(o,r,e.process,h);case"option":return mt(o,r,v);case"defaultedOptionThunk":return Ht(o,r,e.process,v);case"mergeWithThunk":return Qe(o,r,at({}),T=>{const k=jt(e.process(o),T);return h(k)})}},us=(e,t,o)=>{const r={},c=[];for(const h of o)gn(h,(v,T,k,L)=>{const W=fn(k,e,t,v,L);sc.fold(W,G=>{c.push(...G)},G=>{r[T]=G})},(v,T)=>{r[v]=T(t)});return c.length>0?sc.serror(c):sc.svalue(r)},Hs=e=>({extract:(r,c)=>us(r,c,e),toString:()=>`obj{
`+et(e,c=>gn(c,(h,v,T,k)=>h+" -> "+k.toString(),(h,v)=>"state("+h+")")).join(`
`)+"}"}),Wo=e=>({extract:(r,c)=>{const h=et(c,(v,T)=>e.extract(r.concat(["["+T+"]"]),v));return As.consolidateArr(h)},toString:()=>"array("+e.toString()+")"}),tr=P(Wo,Hs),Dr=e=>lx(t=>e(t).fold(sc.serror,sc.svalue)),Pr=(e,t,o)=>{const r=t.extract([e],o);return sc.mapError(r,c=>({input:o,errors:c}))},gf=(e,t,o)=>sc.toResult(Pr(e,t,o)),Jm=e=>`Errors: 
`+Uy(e.errors).join(`
`)+`

Input object: `+n0(e.input),pl=Vt,o0=e=>pl(e,e,$(),a()),LT=(e,t)=>pl(e,e,$(),t),WC=e=>LT(e,C),FT=e=>LT(e,R),u_=(e,t)=>pl(e,e,$(),Wo(t)),zs=e=>pl(e,e,it(),a()),eh=(e,t)=>pl(e,e,it(),t),c1=e=>eh(e,C),CB=e=>eh(e,R),qy=(e,t)=>pl(e,e,de(t),a()),Zs=(e,t,o)=>pl(e,e,de(t),o),d_=(e,t)=>Zs(e,t,g),f_=(e,t,o)=>Zs(e,t,Wo(o)),SB=e=>e.type==="inline-command"||e.type==="inline-format",EB=e=>e.type==="block-command"||e.type==="block-format",cx=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,m_=e=>{const t=r=>Pe.error({message:r,pattern:e}),o=(r,c,h)=>{if(e.format!==void 0){let v;if(qe(e.format)){if(!Gr(e.format,J))return t(r+" pattern has non-string items in the `format` array");v=e.format}else if(J(e.format))v=[e.format];else return t(r+" pattern has non-string `format` parameter");return Pe.value(c(v))}else return e.cmd!==void 0?J(e.cmd)?Pe.value(h(e.cmd,e.value)):t(r+" pattern has non-string `cmd` parameter"):t(r+" pattern is missing both `format` and `cmd` parameters")};if(!rt(e))return t("Raw pattern is not an object");if(!J(e.start))return t("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!J(e.end))return t("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return t("Inline pattern has empty `start` and `end` parameters");let r=e.start,c=e.end;return c.length===0&&(c=r,r=""),o("Inline",h=>({type:"inline-format",start:r,end:c,format:h}),(h,v)=>({type:"inline-command",start:r,end:c,cmd:h,value:v}))}else{if(e.replacement!==void 0)return J(e.replacement)?e.start.length===0?t("Replacement pattern has empty `start` parameter"):Pe.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter");{const r=e.trigger??"space";return e.start.length===0?t("Block pattern has empty `start` parameter"):o("Block",c=>({type:"block-format",start:e.start,format:c[0],trigger:r}),(c,h)=>({type:"block-command",start:e.start,cmd:c,value:h,trigger:r}))}}},h_=e=>xt(e,EB),ux=e=>xt(e,SB),g_=(e,t)=>({inlinePatterns:ux(e),blockPatterns:h_(e),dynamicPatternsLookup:t}),dx=(e,t)=>({...e,blockPatterns:xt(e.blockPatterns,o=>cx(o,t))}),PT=e=>{const t=Ca(et(e,m_));return Le(t.errors,o=>console.error(o.message,o.pattern)),t.values},p_=e=>t=>{const o=e(t);return PT(o)},V2=(e,t)=>e.dispatch("PreProcess",t),qC=(e,t)=>e.dispatch("PostProcess",t),GC=e=>{e.dispatch("remove")},$T=e=>{e.dispatch("detach")},b_=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},IT=(e,t,o,r,c)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:r,origin:c})},KC=(e,t,o,r,c)=>{e.dispatch("ObjectResized",{target:t,width:o,height:r,origin:c})},HT=e=>{e.dispatch("PreInit")},lr=e=>{e.dispatch("PostRender")},zT=e=>{e.dispatch("Init")},YC=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},U2=(e,t,o)=>{e.dispatch(t,o)},s0=(e,t,o,r)=>{e.dispatch("FormatApply",{format:t,node:o,vars:r})},XC=(e,t,o,r)=>{e.dispatch("FormatRemove",{format:t,node:o,vars:r})},y_=(e,t)=>e.dispatch("BeforeSetContent",t),jT=(e,t)=>e.dispatch("SetContent",t),Gy=(e,t)=>e.dispatch("BeforeGetContent",t),VT=(e,t)=>e.dispatch("GetContent",t),fx=(e,t)=>{e.dispatch("AutocompleterStart",t)},mx=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},QC=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},u1=e=>{e.dispatch("AutocompleterEnd")},UT=(e,t,o)=>e.dispatch("PastePreProcess",{content:t,internal:o}),ZT=(e,t,o)=>e.dispatch("PastePostProcess",{node:t,internal:o}),WT=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),qT=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),TB=(e,t)=>e.dispatch("DisabledStateChange",{state:t}),GT=e=>e.dispatch("CloseActiveTooltips"),Z2=ms().deviceType,W2=Z2.isTouch(),hx=ds.DOM,q2=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return vt(t,(o,r)=>{const c=r.split("="),h=c[0],v=c.length>1?c[1]:h;return o[Qr(h)]=Qr(v),o},{})},G2=e=>Oe(e,RegExp),Hn=e=>t=>t.options.get(e),d1=e=>J(e)||rt(e),Ug=(e,t="")=>o=>{const r=J(o);if(r)if(o.indexOf("=")!==-1){const c=q2(o);return{value:Do(c,e.id).getOr(t),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},gx=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("crossorigin",{processor:"function",default:at(void 0)}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.editorManager.documentBaseURL}),t("body_id",{processor:Ug(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:Ug(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:r=>{const c=J(r)&&Fr(r);return c?{value:r,valid:c}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:r=>{const c=Be(["block","linebreak","invert","default"],r);return c?{value:r,valid:c}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:r=>lt(r)?{valid:!0,value:r}:J(r)?{valid:!0,value:r}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:r=>{const c=r===!1||J(r)||yt(r,J);return c?J(r)?{value:et(r.split(","),Qr),valid:c}:qe(r)?{value:r,valid:c}:r===!1?{value:[],valid:c}:{value:r,valid:c}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:bx(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:r=>{const c=J(r)||yt(r,J);return c?{value:qe(r)?r:et(r.split(","),Qr),valid:c}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("extended_mathml_attributes",{processor:"string[]"}),t("extended_mathml_elements",{processor:"string[]"}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:r=>{const c=lt(r)||J(r);return c?r===!1||Z2.isiPhone()||Z2.isiPad()?{value:"",valid:c}:{value:r===!0?"table,img,figure.image,div,video,iframe":r,valid:c}:{valid:!1,message:"Must be boolean or a string"}},default:!W2}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("onboarding",{processor:"boolean",default:!0}),t("tiny_cloud_entry_url",{processor:"string"}),t("theme",{processor:r=>r===!1||J(r)||Ne(r),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:r=>{const c=r===!1||J(r);return c?{value:r===!1?"":r,valid:c}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("disabled",{processor:r=>lt(r)?(e.initialized&&nh(e)!==r&&Promise.resolve().then(()=>{TB(e,r)}),{valid:!0,value:r}):{valid:!1,message:"The value must be a boolean."},default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(e.hasPlugin("help")?". Press ALT-0 for help.":"")}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_html_in_comments",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("allow_mathml_annotation_encodings",{processor:r=>{const c=yt(r,J);return c?{value:r,valid:c}:{valid:!1,message:"Must be an array of strings."}},default:[]}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:d1}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:d1}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:d1}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:d1}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:r=>J(r)||r===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:r=>yt(r,rt)||r===!1?{value:PT(r===!1?[]:r),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:r=>Ne(r)?{value:p_(r),valid:!0}:{valid:!1,message:"Must be a single function"},default:r=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:r=>yt(r,G2)?{value:r,valid:!0}:G2(r)?{value:[r],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:r=>{const c=Be(["inherited","collapsed","expanded"],r);return c?{value:r,valid:c}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:r=>{const c=Be(["inherited","collapsed","expanded"],r);return c?{value:r,valid:c}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),t("user_id",{processor:"string",default:"Anonymous"}),t("fetch_users",{processor:r=>r===void 0?{valid:!0,value:void 0}:Ne(r)?{valid:!0,value:r}:{valid:!1,message:"fetch_users must be a function that returns a Promise<ExpectedUser[]>"}});const o=tr([WC("mimeType"),u_("extensions",Dr(r=>J(r)?Pe.value(r):Pe.error("Extensions must be an array of strings")))]);t("documents_file_types",{processor:r=>gf("documents_file_types",o,r).fold(c=>({valid:!1,message:"Must be a non-empty array of objects matching the configuration schema: https://www.tiny.cloud/docs/tinymce/latest/uploadcare-documents/#documents-file-types"}),c=>({valid:!0,value:c}))}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:$u.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:hx.getAttrib(e.getElement(),"placeholder")})}),t("lists_indent_on_tab",{processor:"boolean",default:!0}),t("list_max_depth",{processor:r=>{const c=Jo(r);if(c){if(r<0)throw new Error("list_max_depth cannot be set to lower than 0");return{value:r,valid:c}}else return{valid:!1,message:"Must be a number"}}})},KT=Hn("iframe_attrs"),JC=Hn("doctype"),eS=Hn("document_base_url"),YT=Hn("body_id"),XT=Hn("body_class"),QT=Hn("content_security_policy"),K2=Hn("br_in_pre"),bl=Hn("forced_root_block"),th=Hn("forced_root_block_attrs"),Y2=Hn("newline_behavior"),JT=Hn("br_newline_selector"),eA=Hn("no_newline_selector"),tA=Hn("keep_styles"),X2=Hn("end_container_on_empty_block"),tS=Hn("automatic_uploads"),nA=Hn("images_reuse_filename"),oA=Hn("images_replace_blob_uris"),px=Hn("icons"),nS=Hn("icons_url"),Q2=Hn("images_upload_url"),oS=Hn("images_upload_base_path"),v_=Hn("images_upload_credentials"),sA=Hn("images_upload_handler"),rA=Hn("content_css_cors"),J2=Hn("referrer_policy"),Nb=Hn("crossorigin"),aA=Hn("language"),iA=Hn("language_url"),ew=Hn("indent_use_margin"),x_=Hn("indentation"),w_=Hn("content_css"),Rb=Hn("content_style"),sS=Hn("font_css"),C_=Hn("directionality"),S_=Hn("inline_boundaries_selector"),lA=Hn("object_resizing"),E_=Hn("resize_img_proportional"),rS=Hn("placeholder"),tw=Hn("event_root"),aS=Hn("service_message"),Zg=Hn("theme"),cA=Hn("theme_url"),nw=Hn("model"),T_=Hn("model_url"),f1=Hn("inline_boundaries"),A_=Hn("formats"),k_=Hn("preview_styles"),AB=Hn("format_empty_lines"),kB=Hn("format_noneditable_selector"),Ky=Hn("custom_ui_selector"),bx=Hn("inline"),iS=Hn("hidden_input"),__=Hn("submit_patch"),D_=Hn("add_form_submit_trigger"),ow=Hn("add_unload_trigger"),uA=Hn("custom_undo_redo_levels"),dA=Hn("disable_nodechange"),yx=Hn("readonly"),sw=Hn("editable_root"),lS=Hn("content_css_cors"),vx=Hn("plugins"),cS=Hn("external_plugins"),O_=Hn("block_unsupported_drop"),xx=Hn("visual"),fA=Hn("visual_table_class"),rw=Hn("visual_anchor_class"),aw=Hn("iframe_aria_text"),Mb=Hn("setup"),N_=Hn("init_instance_callback"),Wg=Hn("urlconverter_callback"),R_=Hn("auto_focus"),mA=Hn("browser_spellcheck"),M_=Hn("protect"),_B=Hn("paste_block_drop"),iw=Hn("paste_data_images"),B_=Hn("paste_preprocess"),L_=Hn("paste_postprocess"),F_=Hn("newdocument_content"),uS=Hn("paste_webkit_styles"),P_=Hn("paste_remove_styles_if_webkit"),hA=Hn("paste_merge_formats"),dS=Hn("smart_paste"),$_=Hn("paste_as_text"),I_=Hn("paste_tab_spaces"),fS=Hn("allow_html_data_urls"),gA=Hn("text_patterns"),io=Hn("text_patterns_lookup"),wx=Hn("noneditable_class"),pA=Hn("editable_class"),H_=Hn("noneditable_regexp"),mS=Hn("preserve_cdata"),Cx=Hn("highlight_on_focus"),lw=Hn("xss_sanitization"),Sx=Hn("init_content_sync"),Yy=e=>e.options.isSet("text_patterns_lookup"),hS=e=>on.explode(e.options.get("font_size_style_values")),gS=e=>on.explode(e.options.get("font_size_classes")),bA=e=>e.options.get("encoding")==="xml",pS=e=>on.explode(e.options.get("images_file_types")),yA=Hn("table_tab_navigation"),Xy=Hn("details_initial_state"),r0=Hn("details_serialized_state"),Qy=Hn("sandbox_iframes"),a0=e=>e.options.get("sandbox_iframes_exclusions"),i0=Hn("convert_unsafe_embeds"),vA=Hn("license_key"),Ex=Hn("api_key"),nh=Hn("disabled"),xA=Hn("user_id"),wA=Hn("fetch_users"),bS=Hn("lists_indent_on_tab"),yS=e=>X.from(e.options.get("list_max_depth")),CA=xn,SA=cn,z_=e=>{const t=e.parentNode;t&&t.removeChild(e)},EA=e=>{const t=Fc(e);return{count:e.length-t.length,text:t}},Bb=e=>{let t;for(;(t=e.data.lastIndexOf(Hi))!==-1;)e.deleteData(t,1)},vS=(e,t)=>(Lb(e),t),TA=(e,t)=>{const o=EA(e.data.substr(0,t.offset())),r=EA(e.data.substr(t.offset()));return(o.text+r.text).length>0?(Bb(e),kt(e,t.offset()-o.count)):t},xS=(e,t)=>{const o=t.container(),r=Ks(Is(o.childNodes),e).map(c=>c<t.offset()?kt(o,t.offset()-1):t).getOr(t);return Lb(e),r},wS=(e,t)=>SA(e)&&t.container()===e?TA(e,t):vS(e,t),CS=(e,t)=>t.container()===e.parentNode?xS(e,t):vS(e,t),j_=(e,t)=>kt.isTextPosition(t)?wS(e,t):CS(e,t),Lb=e=>{CA(e)&&id(e)&&(Ry(e)?e.removeAttribute("data-mce-caret"):z_(e)),SA(e)&&(Bb(e),e.data.length===0&&z_(e))},Fb=ta,cw=Rd,uw=Np,AA="*[contentEditable=false],video,audio,embed,object",V_=(e,t,o)=>{const r=Hg(t.getBoundingClientRect(),o);let c,h;if(e.tagName==="BODY"){const T=e.ownerDocument.documentElement;c=e.scrollLeft||T.scrollLeft,h=e.scrollTop||T.scrollTop}else{const T=e.getBoundingClientRect();c=e.scrollLeft-T.left,h=e.scrollTop-T.top}r.left+=c,r.right+=c,r.top+=h,r.bottom+=h,r.width=1;let v=t.offsetWidth-t.clientWidth;return v>0&&(o&&(v*=-1),r.left+=v,r.right+=v),r},kA=e=>{const t=At(_e.fromDom(e),AA);for(let o=0;o<t.length;o++){const r=t[o].dom;let c=r.previousSibling;if(Qi(c)){const h=c.data;h.length===1?c.parentNode?.removeChild(c):c.deleteData(h.length-1,1)}c=r.nextSibling,hu(c)&&(c.data.length===1?c.parentNode?.removeChild(c):c.deleteData(0,1))}},Po=(e,t,o,r)=>{const c=Bs();let h,v;const T=bl(e),k=e.dom,L=(ge,Te)=>{let nt;if(W(),uw(Te))return null;if(o(Te)){const st=Ja(T,Te,ge),ut=V_(t,Te,ge);k.setStyle(st,"top",ut.top),k.setStyle(st,"caret-color","transparent"),v=st;const Bt=k.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});k.setStyles(Bt,{...ut}),k.add(t,Bt),c.set({caret:Bt,element:Te,before:ge}),ge&&k.addClass(Bt,"mce-visual-caret-before"),G(),nt=Te.ownerDocument.createRange(),nt.setStart(st,0),nt.setEnd(st,0)}else return v=I2(Te,ge),nt=Te.ownerDocument.createRange(),Uf(v.nextSibling)?(nt.setStart(v,0),nt.setEnd(v,0)):(nt.setStart(v,1),nt.setEnd(v,1)),nt;return nt},W=()=>{kA(t),v&&(Lb(v),v=null),c.on(ge=>{k.remove(ge.caret),c.clear()}),h&&(clearInterval(h),h=void 0)},G=()=>{h=window.setInterval(()=>{c.on(ge=>{r()?k.toggleClass(ge.caret,"mce-visual-caret-hidden"):k.addClass(ge.caret,"mce-visual-caret-hidden")})},500)},Q=()=>{c.on(ge=>{const Te=V_(t,ge.element,ge.before);k.setStyles(ge.caret,{...Te})})},ce=()=>clearInterval(h),ke=()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";return{isShowing:c.isSet,show:L,hide:W,getCss:ke,reposition:Q,destroy:ce}},dw=()=>ls.browser.isFirefox(),Uf=e=>Fb(e)||cw(e),Tx=e=>(Uf(e)||lu(e)&&dw())&&Jc(_e.fromDom(e)).exists(yr),U_=Bu,fw=ta,Z_=Rd,SS=tb("display","block table table-cell table-row table-caption list-item"),ES=id,Ax=Hf,Kh=xn,Jy=cn,W_=ba,Pb=(e,t)=>{let o;for(;o=e(t);)if(!Ax(o))return o;return null},kx=(e,t,o,r,c)=>{const h=new Ya(e,r),v=fw(e)||Ax(e);let T;if(zd(t)){if(v&&(T=Pb(h.prev.bind(h),!0),o(T)))return T;for(;T=Pb(h.prev.bind(h),c);)if(o(T))return T}if(vm(t)){if(v&&(T=Pb(h.next.bind(h),!0),o(T)))return T;for(;T=Pb(h.next.bind(h),c);)if(o(T))return T}return null},mw=(e,t)=>{const o=c=>U_(c.dom),r=c=>c.dom===t;return _d(_e.fromDom(e),o,r).map(c=>c.dom).getOr(t)},Hl=e=>xn(e)&&Aa(_e.fromDom(e),"position")==="absolute",q_=(e,t)=>e.parentNode!==t,TS=(e,t)=>fw(e)&&Hl(e)&&q_(e,t),m1=(e,t)=>{for(;e&&e!==t;){if(SS(e)&&!TS(e,t))return e;e=e.parentNode}return null},qg=(e,t,o)=>m1(e.container(),o)===m1(t.container(),o),AS=(e,t)=>{if(!t)return X.none();const o=t.container(),r=t.offset();return Kh(o)?X.from(o.childNodes[r+e]):X.none()},_A=(e,t)=>{const r=(t.ownerDocument??document).createRange();return e?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),r},G_=(e,t,o)=>m1(t,e)===m1(o,e),hw=(e,t,o)=>{const r=e?"previousSibling":"nextSibling";let c=o;for(;c&&c!==t;){let h=c[r];if(h&&ES(h)&&(h=h[r]),fw(h)||Z_(h)){if(G_(t,h,c))return h;break}if(W_(h))break;c=c.parentNode}return null},_x=le(_A,!0),h1=le(_A,!1),gw=(e,t,o)=>{let r;const c=le(hw,!0,t),h=le(hw,!1,t),v=o.startContainer,T=o.startOffset;if(Hf(v)){const k=Jy(v)?v.parentNode:v,L=k.getAttribute("data-mce-caret");if(L==="before"&&(r=k.nextSibling,Tx(r)))return _x(r);if(L==="after"&&(r=k.previousSibling,Tx(r)))return h1(r)}if(!o.collapsed)return o;if(cn(v)){if(ES(v)){if(e===1){if(r=h(v),r)return _x(r);if(r=c(v),r)return h1(r)}if(e===-1){if(r=c(v),r)return h1(r);if(r=h(v),r)return _x(r)}return o}if(Qi(v)&&T>=v.data.length-1)return e===1&&(r=h(v),r)?_x(r):o;if(hu(v)&&T<=1)return e===-1&&(r=c(v),r)?h1(r):o;if(T===v.data.length)return r=h(v),r?_x(r):o;if(T===0)return r=c(v),r?h1(r):o}return o},pw=(e,t)=>AS(e?0:-1,t).filter(fw),g1=(e,t,o)=>{const r=gw(e,t,o);return e===-1?kt.fromRangeStart(r):kt.fromRangeEnd(r)},Dx=e=>X.from(e.getNode()).map(_e.fromDom),kS=e=>X.from(e.getNode(!0)).map(_e.fromDom),bw=(e,t)=>{let o=t;for(;o=e(o);)if(o.isVisible())return o;return o},Yh=(e,t)=>{const o=qg(e,t);return!o&&ia(e.getNode())?!0:o},DA=ta,Gg=cn,_S=xn,yw=ia,ev=ba,Ox=Eb,vw=zf,K_=(e,t)=>{const o=[];let r=e;for(;r&&r!==t;)o.push(r),r=r.parentNode;return o},OA=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,xw=(e,t)=>{if(vm(e)){if(ev(t.previousSibling)&&!Gg(t.previousSibling))return kt.before(t);if(Gg(t))return kt(t,0)}if(zd(e)){if(ev(t.nextSibling)&&!Gg(t.nextSibling))return kt.after(t);if(Gg(t))return kt(t,t.data.length)}return zd(e)?yw(t)?kt.before(t):kt.after(t):kt.before(t)},Y_=(e,t)=>{const o=t.nextSibling;return o&&ev(o)?Gg(o)?kt(o,0):kt.before(o):DS(1,kt.after(t),e)},DS=(e,t,o)=>{let r,c,h,v;if(!_S(o)||!t)return null;if(t.isEqual(kt.after(o))&&o.lastChild){if(v=kt.after(o.lastChild),zd(e)&&ev(o.lastChild)&&_S(o.lastChild))return yw(o.lastChild)?kt.before(o.lastChild):v}else v=t;const T=v.container();let k=v.offset();if(Gg(T)){if(zd(e)&&k>0)return kt(T,--k);if(vm(e)&&k<T.length)return kt(T,++k);r=T}else{if(zd(e)&&k>0&&(c=OA(T,k-1),ev(c)))return!Ox(c)&&(h=kx(c,e,vw,c),h)?Gg(h)?kt(h,h.data.length):kt.after(h):Gg(c)?kt(c,c.data.length):kt.before(c);if(vm(e)&&k<T.childNodes.length&&(c=OA(T,k),ev(c)))return yw(c)?Y_(o,c):!Ox(c)&&(h=kx(c,e,vw,c),h)?Gg(h)?kt(h,0):kt.before(h):Gg(c)?kt(c,0):kt.after(c);r=c||v.getNode()}if(r&&(vm(e)&&v.isAtEnd()||zd(e)&&v.isAtStart())&&(r=kx(r,e,dt,o,!0),vw(r,o)))return xw(e,r);c=r&&kx(r,e,vw,o);const L=Vl(xt(K_(T,o),DA));return L&&(!c||!L.contains(c))?(vm(e)?v=kt.after(L):v=kt.before(L),v):c?xw(e,c):null},Xh=e=>({next:t=>DS(1,t,e),prev:t=>DS(-1,t,e)}),OS=(e,t,o)=>{const r=e?kt.before(o):kt.after(o);return Zf(e,t,r)},X_=e=>ia(e)?kt.before(e):kt.after(e),NA=e=>kt.isTextPosition(e)?e.offset()===0:ba(e.getNode()),RA=e=>{if(kt.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return ba(e.getNode(!0))},MA=(e,t)=>!kt.isTextPosition(e)&&!kt.isTextPosition(t)&&e.getNode()===t.getNode(!0),Q_=e=>!kt.isTextPosition(e)&&ia(e.getNode()),Na=(e,t,o)=>e?!MA(t,o)&&!Q_(t)&&RA(t)&&NA(o):!MA(o,t)&&NA(t)&&RA(o),Zf=(e,t,o)=>{const r=Xh(t);return X.from(e?r.next(o):r.prev(o))},tv=(e,t,o)=>Zf(e,t,o).bind(r=>qg(o,r,t)&&Na(e,o,r)?Zf(e,t,r):X.some(r)),m=(e,t,o,r)=>tv(e,t,o).bind(c=>r(c)?m(e,t,c,r):X.some(c)),y=(e,t)=>{const o=e?t.firstChild:t.lastChild;return cn(o)?X.some(kt(o,e?0:o.data.length)):o?ba(o)?X.some(e?kt.before(o):X_(o)):OS(e,t,o):X.none()},E=le(Zf,!0),_=le(Zf,!1),H=le(y,!0),q=le(y,!1),ne="_mce_caret",ue=e=>xn(e)&&e.id===ne,Se=(e,t)=>{let o=t;for(;o&&o!==e;){if(ue(o))return o;o=o.parentNode}return null},Ze=e=>J(e.start),ht=e=>Yn(e,"rng"),Jt=e=>Yn(e,"id"),Ln=e=>Yn(e,"name"),On=e=>on.isArray(e.start),oo=e=>!Ln(e)&&lt(e.forward)?e.forward:!0,Ft=(e,t)=>(xn(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),en=(e,t)=>{const o=X.from(ox(e.getRoot(),t.start)),r=X.from(ox(e.getRoot(),t.end));return Rn(o,r,(c,h)=>{const v=e.createRng();return v.setStart(c.container(),c.offset()),v.setEnd(h.container(),h.offset()),{range:v,forward:oo(t)}})},Co=(e,t)=>{const r=(e.ownerDocument??document).createTextNode(Hi);e.appendChild(r),t.setStart(r,0),t.setEnd(r,0)},Go=e=>!e.hasChildNodes(),qn=(e,t)=>q(e).fold(He,o=>(t.setStart(o.container(),o.offset()),t.setEnd(o.container(),o.offset()),!0)),vr=(e,t,o)=>Go(t)&&Se(e,t)?(Co(t,o),!0):!1,xr=(e,t,o,r)=>{const c=o[t?"start":"end"],h=e.getRoot();if(c){let v=h,T=c[0];for(let k=c.length-1;v&&k>=1;k--){const L=v.childNodes;if(vr(h,v,r))return!0;if(c[k]>L.length-1)return vr(h,v,r)?!0:qn(v,r);v=L[c[k]]}cn(v)&&(T=Math.min(c[0],v.data.length)),xn(v)&&(T=Math.min(c[0],v.childNodes.length)),t?r.setStart(v,T):r.setEnd(v,T)}return!0},Uo=e=>cn(e)&&e.data.length>0,el=(e,t,o)=>{const r=e.get(o.id+"_"+t),c=r?.parentNode,h=o.keep;if(r&&c){let v,T;if(t==="start"?h?r.hasChildNodes()?(v=r.firstChild,T=1):Uo(r.nextSibling)?(v=r.nextSibling,T=0):Uo(r.previousSibling)?(v=r.previousSibling,T=r.previousSibling.data.length):(v=c,T=e.nodeIndex(r)+1):(v=c,T=e.nodeIndex(r)):h?r.hasChildNodes()?(v=r.firstChild,T=1):Uo(r.previousSibling)?(v=r.previousSibling,T=r.previousSibling.data.length):(v=c,T=e.nodeIndex(r)):(v=c,T=e.nodeIndex(r)),!h){const k=r.previousSibling,L=r.nextSibling;on.each(on.grep(r.childNodes),G=>{cn(G)&&(G.data=G.data.replace(/\uFEFF/g,""))});let W;for(;W=e.get(o.id+"_"+t);)e.remove(W,!0);if(cn(L)&&cn(k)&&!ls.browser.isOpera()){const G=k.data.length;k.appendData(L.data),e.remove(L),v=k,T=G}}return X.some(kt(v,T))}else return X.none()},Cm=(e,t)=>{const o=e.createRng();return xr(e,!0,t,o)&&xr(e,!1,t,o)?X.some({range:o,forward:oo(t)}):X.none()},l0=(e,t)=>{const o=el(e,"start",t),r=el(e,"end",t);return Rn(o,r.or(o),(c,h)=>{const v=e.createRng();return v.setStart(Ft(e,c.container()),c.offset()),v.setEnd(Ft(e,h.container()),h.offset()),{range:v,forward:oo(t)}})},p1=(e,t)=>X.from(e.select(t.name)[t.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),$b=(e,t)=>{const o=e.dom;if(t){if(On(t))return Cm(o,t);if(Ze(t))return en(o,t);if(Jt(t))return l0(o,t);if(Ln(t))return p1(o,t);if(ht(t))return X.some({range:t.rng,forward:oo(t)})}return X.none()},$r=(e,t,o)=>Nt(e,t,o),dd=(e,t)=>{$b(e,t).each(({range:o,forward:r})=>{e.setRng(o,r)})},wi=e=>xn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",Iu=(e=>t=>e===t)(jr),Wf=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,$c=e=>!Wf(e)&&!Iu(e)&&!Ei(e),ww=e=>{const t=[];if(e)for(let o=0;o<e.rangeCount;o++)t.push(e.getRangeAt(o));return t},Nx=e=>Io(e,t=>{const o=gl(t);return o?[_e.fromDom(o)]:[]}),c0=e=>ww(e).length>1,Hu=e=>xt(Nx(e),jh),J_=e=>At(e,"td[data-mce-selected],th[data-mce-selected]"),BA=(e,t)=>{const o=J_(t);return o.length>0?o:Hu(e)},Xn=e=>BA(ww(e.selection.getSel()),_e.fromDom(e.getBody())),Vd=(e,t)=>ka(e,"table",t),eD=e=>{const t=e.startContainer,o=e.startOffset;return cn(t)?o===0?X.some(_e.fromDom(t)):X.none():X.from(t.childNodes[o]).map(_e.fromDom)},Cw=e=>{const t=e.endContainer,o=e.endOffset;return cn(t)?o===t.data.length?X.some(_e.fromDom(t)):X.none():X.from(t.childNodes[o-1]).map(_e.fromDom)},LA=e=>ai(e).fold(at([e]),t=>[e].concat(LA(t))),Ib=e=>ii(e).fold(at([e]),t=>ts(t)==="br"?qu(t).map(o=>[e].concat(Ib(o))).getOr([]):[e].concat(Ib(t))),tD=(e,t)=>Rn(eD(t),Cw(t),(o,r)=>{const c=Un(LA(e),le(es,o)),h=Un(Ib(e),le(es,r));return c.isSome()&&h.isSome()}).getOr(!1),FA=(e,t,o,r)=>{const c=o,h=new Ya(o,c),v=Gn(e.schema.getMoveCaretBeforeOnEnterElements(),(k,L)=>!Be(["td","th","table"],L.toLowerCase()));let T=o;do{if(cn(T)&&on.trim(T.data).length!==0){r?t.setStart(T,0):t.setEnd(T,T.data.length);return}if(v[T.nodeName]){r?t.setStartBefore(T):T.nodeName==="BR"?t.setEndBefore(T):t.setEndAfter(T);return}}while(T=r?h.next():h.prev());c.nodeName==="BODY"&&(r?t.setStart(c,0):t.setEnd(c,c.childNodes.length))},NS=e=>{const t=e.selection.getSel();return We(t)&&t.rangeCount>0},RS=(e,t)=>{const o=Xn(e);o.length>0?Le(o,r=>{const c=r.dom,h=e.dom.createRng();h.setStartBefore(c),h.setEndAfter(c),t(h,!0)}):t(e.selection.getRng(),!1)},PA=(e,t,o)=>{const r=Xm(e,t);o(r),e.moveToBookmark(r)},MS=(e,t)=>e.startContainer===e.endContainer&&e.endOffset-e.startOffset===1&&t(e.startContainer.childNodes[e.startOffset]),_z=e=>MS(e,au),Dz=e=>MS(e,cn),Oz=e=>MS(e,Op),BS=e=>Jo(e?.nodeType),LS=e=>xn(e)&&!wi(e)&&!ue(e)&&!Hm(e),DB=(e,t)=>{if(LS(t)&&!/^(TD|TH)$/.test(t.nodeName)){const o=e.getAttrib(t,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},OB=(e,t,o)=>{const{selection:r,dom:c}=e,h=r.getNode(),v=ta(h);PA(r,!0,()=>{t()}),v&&ta(h)&&c.isChildOf(h,e.getBody())?e.selection.select(h):o(r.getStart())&&NB(c,r)},NB=(e,t)=>{const o=t.getRng(),{startContainer:r,startOffset:c}=o,h=t.getNode();if(!DB(e,h)&&xn(r)){const v=r.childNodes,T=e.getRoot();let k;if(c<v.length){const L=v[c];k=new Ya(L,e.getParent(L,e.isBlock)??T)}else{const L=v[v.length-1];k=new Ya(L,e.getParent(L,e.isBlock)??T),k.next(!0)}for(let L=k.current();L;L=k.next()){if(e.getContentEditable(L)==="false")return;if(cn(L)&&!nD(L)){o.setStart(L,0),t.setRng(o);return}}}},RB=(e,t,o)=>{if(e){const r=t?"nextSibling":"previousSibling";for(e=e[r];e;e=e[r])if(xn(e)||!nD(e))return e}},FS=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Xa(e,t),Sw=(e,t,o)=>e.schema.isValidChild(t,o),nD=(e,t=!1)=>{if(We(e)&&cn(e)){const o=t?e.data.replace(/ /g,""):e.data;return Ap(o)}else return!1},Nz=e=>We(e)&&cn(e)&&e.length===0,Rz=(e,t)=>{const o="[data-mce-cef-wrappable]",r=kB(e),c=Cu(r)?o:`${o},${r}`;return wl(_e.fromDom(t),c)},MB=(e,t)=>{const o=e.dom;return LS(t)&&o.getContentEditable(t)==="false"&&Rz(e,t)&&o.select('[contenteditable="true"]',t).length===0},Hb=(e,t)=>Ne(e)?e(t):(We(t)&&(e=e.replace(/%(\w+)/g,(o,r)=>t[r]||o)),e),PS=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),$A=(e,t)=>{if(dn(e))return null;{let o=String(e);return(t==="color"||t==="backgroundColor")&&(o=wc(o)),t==="fontWeight"&&e===700&&(o="bold"),t==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},$S=(e,t,o)=>{const r=e.getStyle(t,o);return $A(r,o)},BB=(e,t)=>{let o;return e.getParent(t,r=>xn(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},IA=(e,t,o)=>e.getParents(t,o,e.getRoot()),oD=(e,t,o)=>{const r=e.formatter.get(t);return We(r)&&Ye(r,o)},HA=(e,t)=>oD(e,t,r=>{const c=h=>Ne(h)||h.length>1&&h.charAt(0)==="%";return Ye(["styles","attributes"],h=>Do(r,h).exists(v=>{const T=qe(v)?v:yo(v);return Ye(T,c)}))}),LB=(e,t,o)=>{const r=["inline","block","selector","attributes","styles","classes"],c=h=>Gn(h,(v,T)=>Ye(r,k=>k===T));return oD(e,t,h=>{const v=c(h);return oD(e,o,T=>{const k=c(T);return La(v,k)})})},u0=e=>ss(e,"block"),Mz=e=>u0(e)&&e.wrapper===!0,Bz=e=>u0(e)&&e.wrapper!==!0,Kg=e=>ss(e,"selector"),gu=e=>ss(e,"inline"),cne=e=>Kg(e)&&gu(e)&&Wt(Do(e,"mixed"),!0),sD=e=>Kg(e)&&e.expand!==!1&&!gu(e),une=e=>{const t=[];let o=e;for(;o;){if(cn(o)&&o.data!==Hi||o.childNodes.length>1)return[];xn(o)&&t.push(o),o=o.firstChild}return t},FB=e=>une(e).length>0,rD=e=>ue(e.dom)&&FB(e.dom),IS=wi,PB=IA,ei=nD,aD=FS,zA=e=>ia(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,HS=(e,t)=>{let o=t;for(;o;){if(xn(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:t;o=o.parentNode}return t},b1=(e,t,o,r)=>{const c=t.data;if(e){for(let h=o;h>0;h--)if(r(c.charAt(h-1)))return h}else for(let h=o;h<c.length;h++)if(r(c.charAt(h)))return h;return-1},jA=(e,t,o)=>b1(e,t,o,r=>Iu(r)||Wf(r)),Ew=(e,t,o)=>b1(e,t,o,$c),iD=(e,t,o,r,c,h)=>{let v;const T=e.getParent(o,G=>lm(G)||e.isBlock(G)),k=We(T)?T:t,L=(G,Q,ce)=>{const ke=fu(e),ge=c?ke.backwards:ke.forwards;return X.from(ge(G,Q,(Te,nt)=>IS(Te.parentNode)?-1:(v=Te,ce(c,Te,nt)),k))};return L(o,r,jA).bind(G=>h?L(G.container,G.offset+(c?-1:0),Ew):X.some(G)).orThunk(()=>v?X.some({container:v,offset:c?0:v.length}):X.none())},$B=(e,t,o,r,c)=>{const h=r[c];cn(r)&&Cu(r.data)&&h&&(r=h);const v=PB(e,r);for(let T=0;T<v.length;T++)for(let k=0;k<t.length;k++){const L=t[k];if(!(We(L.collapsed)&&L.collapsed!==o.collapsed)&&Kg(L)&&e.is(v[T],L.selector))return v[T]}return r},IB=(e,t,o,r)=>{let c=o;const h=e.getRoot(),v=t[0];if(u0(v)&&(c=v.wrapper?null:e.getParent(o,v.block,h)),!c){const T=e.getParent(o,"LI,TD,TH,SUMMARY")??h;c=e.getParent(cn(o)?o.parentNode:o,k=>k!==h&&aD(e.schema,k),T)}if(c&&u0(v)&&v.wrapper&&(c=PB(e,c,"ul,ol").reverse()[0]||c),!c)for(c=o;c&&c[r]&&!e.isBlock(c[r])&&(c=c[r],!PS(c,"br")););return c||o},lD=(e,t,o,r)=>{const c=o.parentNode;return We(o[r])?!1:c===t||dn(c)||e.isBlock(c)?!0:lD(e,t,c,r)},VA=(e,t,o,r,c,h)=>{let v=o;const T=c?"previousSibling":"nextSibling",k=e.getRoot();if(cn(o)&&!ei(o)&&(c?r>0:r<o.data.length))return o;for(;v;){if(lm(v))return o;if(!t[0].block_expand&&e.isBlock(v))return h?v:o;for(let L=v[T];L;L=L[T]){const W=cn(L)&&!lD(e,k,L,T);if(!IS(L)&&!zA(L)&&!ei(L,W))return v}if(v===k||v.parentNode===k){o=v;break}v=v.parentNode}return o},UA=e=>IS(e.parentNode)||IS(e),y1=(e,t,o,r={})=>{const{includeTrailingSpace:c=!1,expandToBlock:h=!0}=r,v=e.getParent(t.commonAncestorContainer,ce=>lm(ce)),T=We(v)?v:e.getRoot();let{startContainer:k,startOffset:L,endContainer:W,endOffset:G}=t;const Q=o[0];return xn(k)&&k.hasChildNodes()&&(k=zg(k,L),cn(k)&&(L=0)),xn(W)&&W.hasChildNodes()&&(W=zg(W,t.collapsed?G:G-1),cn(W)&&(G=W.data.length)),k=HS(e,k),W=HS(e,W),UA(k)&&(k=IS(k)?k:k.parentNode,t.collapsed?k=k.previousSibling||k:k=k.nextSibling||k,cn(k)&&(L=t.collapsed?k.length:0)),UA(W)&&(W=IS(W)?W:W.parentNode,t.collapsed?W=W.nextSibling||W:W=W.previousSibling||W,cn(W)&&(G=t.collapsed?0:W.length)),t.collapsed&&(iD(e,T,k,L,!0,c).each(({container:ge,offset:Te})=>{k=ge,L=Te}),iD(e,T,W,G,!1,c).each(({container:ge,offset:Te})=>{W=ge,G=Te})),(gu(Q)||Q.block_expand)&&((!gu(Q)||!cn(k)||L===0)&&(k=VA(e,o,k,L,!0,h)),(!gu(Q)||!cn(W)||G===W.data.length)&&(W=VA(e,o,W,G,!1,h))),sD(Q)&&(k=$B(e,o,t,k,"previousSibling"),W=$B(e,o,t,W,"nextSibling")),(u0(Q)||Kg(Q))&&(k=IB(e,o,k,"previousSibling"),W=IB(e,o,W,"nextSibling"),u0(Q)&&(e.isBlock(k)||(k=VA(e,o,k,L,!0,h),cn(k)&&(L=0)),e.isBlock(W)||(W=VA(e,o,W,G,!1,h),cn(W)&&(G=W.data.length)))),xn(k)&&k.parentNode&&(L=e.nodeIndex(k),k=k.parentNode),xn(W)&&W.parentNode&&(G=e.nodeIndex(W)+1,W=W.parentNode),{startContainer:k,startOffset:L,endContainer:W,endOffset:G}},Yg=(e,t,o)=>{const r=t.startOffset,c=zg(t.startContainer,r),h=t.endOffset,v=zg(t.endContainer,h-1),T=ge=>{const Te=ge[0];cn(Te)&&Te===c&&r>=Te.data.length&&ge.splice(0,1);const nt=ge[ge.length-1];return h===0&&ge.length>0&&nt===v&&cn(nt)&&ge.splice(ge.length-1,1),ge},k=(ge,Te,nt)=>{const st=[];for(;ge&&ge!==nt;ge=ge[Te])st.push(ge);return st},L=(ge,Te)=>e.getParent(ge,nt=>nt.parentNode===Te,Te),W=(ge,Te,nt)=>{const st=nt?"nextSibling":"previousSibling";for(let ut=ge,Bt=ut.parentNode;ut&&ut!==Te;ut=Bt){Bt=ut.parentNode;const Qt=k(ut===ge?ut:ut[st],st);Qt.length&&(nt||Qt.reverse(),o(T(Qt)))}};if(c===v)return o(T([c]));const G=e.findCommonAncestor(c,v)??e.getRoot();if(e.isChildOf(c,v))return W(c,G,!0);if(e.isChildOf(v,c))return W(v,G);const Q=L(c,G)||c,ce=L(v,G)||v;W(c,Q,!0);const ke=k(Q===c?Q:Q.nextSibling,"nextSibling",ce===v?ce.nextSibling:ce);ke.length&&o(T(ke)),W(v,ce)},Rx=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"],HB=e=>bs(e)&&yi(e)===Hi,Lz=(e,t,o,r)=>Jc(t).fold(()=>"skipping",c=>r==="br"||HB(t)?"valid":Uv(t)?"existing":ue(t.dom)?"caret":Ye(Rx,h=>wl(t,h))?"valid-block":!Sw(e,o,r)||!Sw(e,ts(c),o)?"invalid-child":"valid"),Fz=(e,t)=>{const o=y1(e.dom,t,[{inline:"span"}]);t.setStart(o.startContainer,o.startOffset),t.setEnd(o.endContainer,o.endOffset),e.selection.setRng(t)},zB=(e,t,o,r,c,h)=>{const{uid:v=t,...T}=o;pc(e,Hh()),Ar(e,`${hm()}`,v),Ar(e,`${rd()}`,r);const{attributes:k={},classes:L=[]}=c(v,T);if(qa(e,k),Fm(e,L),h){L.length>0&&Ar(e,`${la()}`,L.join(","));const W=$n(k);W.length>0&&Ar(e,`${Q0()}`,W.join(","))}},Pz=e=>{ra(e,Hh()),ci(e,`${hm()}`),ci(e,`${rd()}`),ci(e,`${Wp()}`);const t=dl(e,`${Q0()}`).map(r=>r.split(",")).getOr([]),o=dl(e,`${la()}`).map(r=>r.split(",")).getOr([]);Le(t,r=>ci(e,r)),Od(e,o),ci(e,`${la()}`),ci(e,`${Q0()}`)},jB=(e,t,o,r,c)=>{const h=_e.fromTag("span",e);return zB(h,t,o,r,c,!1),h},$z=(e,t,o,r,c,h)=>{const v=[],T=jB(e.getDoc(),o,h,r,c),k=Bs(),L=()=>{k.clear()},W=()=>k.get().getOrThunk(()=>{const ke=ki(T);return v.push(ke),k.set(ke),ke}),G=ke=>{Le(ke,Q)},Q=ke=>{switch(Lz(e,ke,"span",ts(ke))){case"invalid-child":{L();const Te=fa(ke);G(Te),L();break}case"valid-block":{L(),zB(ke,o,h,r,c,!0);break}case"valid":{const Te=W();Ml(ke,Te);break}}},ce=ke=>{const ge=et(ke,_e.fromDom);G(ge)};return Yg(e.dom,t,ke=>{L(),ce(ke)}),v},VB=(e,t,o,r)=>{e.undoManager.transact(()=>{const c=e.selection,h=c.getRng(),v=Xn(e).length>0,T=is("mce-annotation");if(h.collapsed&&!v&&Fz(e,h),c.getRng().collapsed&&!v){const k=jB(e.getDoc(),T,r,t,o.decorate);nf(k,jr),c.getRng().insertNode(k.dom),c.select(k.dom)}else PA(c,!1,()=>{RS(e,k=>{$z(e,k,T,t,o.decorate,r)})})})},UB=e=>{const t=Gp();qp(e,t);const o=zh(e,t),r=Fa("span"),c=h=>{Le(h,v=>{r(v)?Gl(v):Pz(v)})};return{register:(h,v)=>{t.register(h,v)},annotate:(h,v)=>{t.lookup(h).each(T=>{VB(e,h,T,v)})},annotationChanged:(h,v)=>{o.addListener(h,v)},remove:h=>{pb(e,X.some(h)).each(({elements:v})=>{const T=e.selection.getBookmark();c(v),e.selection.moveToBookmark(T)})},removeAll:h=>{const v=e.selection.getBookmark();_o(If(e,h),(T,k)=>{c(T)}),e.selection.moveToBookmark(v)},getAll:h=>{const v=If(e,h);return ui(v,T=>et(T,k=>k.dom))}}},Tw=e=>({getBookmark:le($r,e),moveToBookmark:le(dd,e)});Tw.isBookmarkNode=wi;const ZB=(e,t,o)=>o.collapsed?!1:Ye(o.getClientRects(),r=>Gv(r,e,t)),Iz=(e,t)=>{const o=bs(t)?yi(t).length:fa(t).length+1;return e>o?o:e<0?0:e},Hz=e=>Oh.range(e.start,Iz(e.soffset,e.start),e.finish,Iz(e.foffset,e.finish)),Ic=(e,t)=>!eb(t.dom)&&(mc(e,t)||es(e,t)),zS=e=>t=>Ic(e,t.start)&&Ic(e,t.finish),zu=e=>e.inline||ls.browser.isFirefox(),Xg=e=>Oh.range(_e.fromDom(e.startContainer),e.startOffset,_e.fromDom(e.endContainer),e.endOffset),zz=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?X.none():X.from(t.getRangeAt(0))).map(Xg)},WB=e=>{const t=Wu(e);return zz(t.dom).filter(zS(e))},jz=(e,t)=>X.from(t).filter(zS(e)).map(Hz),cD=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),X.some(t)}catch{return X.none()}},ZA=e=>{const t=zu(e)?WB(_e.fromDom(e.getBody())):X.none();e.bookmark=t.isSome()?t:e.bookmark},WA=e=>(e.bookmark?e.bookmark:X.none()).bind(o=>jz(_e.fromDom(e.getBody()),o)).bind(cD),Vz=e=>{WA(e).each(t=>e.selection.setRng(t))},qB={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},oh=(e,t)=>(Jo(t)||(t=0),window.setTimeout(e,t)),pf=(e,t)=>(Jo(t)||(t=0),window.setInterval(e,t)),Qg={setEditorTimeout:(e,t,o)=>oh(()=>{e.removed||t()},o),setEditorInterval:(e,t,o)=>{const r=pf(()=>{e.removed?window.clearInterval(r):t()},o);return r}},d0=e=>e.type==="nodechange"&&e.selectionChange,uD=(e,t)=>{const o=()=>{t.throttle()};ds.DOM.bind(document,"mouseup",o),e.on("remove",()=>{ds.DOM.unbind(document,"mouseup",o)})},Uz=(e,t)=>{e.on("mouseup touchend",o=>{t.throttle()})},Zz=(e,t)=>{Uz(e,t),e.on("keyup NodeChange AfterSetSelectionRange",o=>{d0(o)||ZA(e)})},GB=e=>{const t=Sn(()=>{ZA(e)},0);e.on("init",()=>{e.inline&&uD(e,t),Zz(e,t)}),e.on("remove",()=>{t.cancel()})};let Aw;const qA=ds.DOM,Wz=e=>xn(e)&&qB.isEditorUIElement(e),jS=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},GA=(e,t)=>{const o=Ky(e);return qA.getParent(t,c=>Wz(c)||(o?e.dom.is(c,o):!1))!==null},dD=e=>{try{const t=sa(_e.fromDom(e.getElement()));return Rl(t).fold(()=>document.body,o=>o.dom)}catch{return document.body}},qz=(e,t)=>{const o=t.editor;GB(o);const r=(c,h)=>{if(Cx(c)&&c.inline!==!0){const v=_e.fromDom(c.getContainer());h(v,"tox-edit-focus")}};o.on("focusin",()=>{const c=e.focusedEditor;jS(dD(o))&&r(o,pc),c!==o&&(c&&c.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:c}),o.focus(!0))}),o.on("focusout",()=>{Qg.setEditorTimeout(o,()=>{const c=e.focusedEditor;(!jS(dD(o))||c!==o)&&r(o,ra),!GA(o,dD(o))&&c===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Aw||(Aw=c=>{const h=e.activeEditor;h&&_u(c).each(v=>{const T=v;T.ownerDocument===document&&T!==document.body&&!GA(h,T)&&e.focusedEditor===h&&(h.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},qA.bind(document,"focusin",Aw))},Gz=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Aw&&(qA.unbind(document,"focusin",Aw),Aw=null)},KB=e=>{e.on("AddEditor",le(qz,e)),e.on("RemoveEditor",le(Gz,e))},fD=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="true"),YB=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="false")!==null,mD=e=>e.collapsed?X.from(zg(e.startContainer,e.startOffset)).map(_e.fromDom):X.none(),Kz=(e,t)=>mD(t).bind(o=>e1(o)?X.some(o):mc(e,o)?X.none():X.some(e)),Yz=(e,t)=>{Kz(_e.fromDom(e.getBody()),t).bind(o=>H(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},hD=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},Xz=e=>Gs(e)||Du(e).isSome(),XB=e=>We(e.iframeElement)&&Gs(_e.fromDom(e.iframeElement)),Qz=e=>{const t=e.getBody();return t&&Xz(_e.fromDom(t))},Jz=e=>{const t=sa(_e.fromDom(e.getElement()));return Rl(t).filter(o=>!jS(o.dom)&&GA(e,o.dom)).isSome()},kw=e=>e.inline?Qz(e):XB(e),QB=e=>kw(e)||Jz(e),fne=e=>{const t=e.selection,o=e.getBody();let r=t.getRng();e.quirks.refreshContentEditable();const c=v=>{WA(v).each(T=>{v.selection.setRng(T),r=T})};!kw(e)&&e.hasEditableRoot()&&c(e);const h=fD(e,t.getNode());if(h&&e.dom.isChildOf(h,o)){YB(e,h)||hD(o),hD(h),e.hasEditableRoot()||c(e),Yz(e,r),KA(e);return}e.inline||(ls.browser.isOpera()||hD(o),e.getWin().focus()),(ls.browser.isFirefox()||e.inline)&&(hD(o),Yz(e,r)),KA(e)},KA=e=>e.editorManager.setActive(e),JB=(e,t)=>{e.removed||(t?KA(e):fne(e))},Mn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Mn.metaKeyPressed(e),metaKeyPressed:e=>ls.os.isMacOS()||ls.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Mx="data-mce-selected",ej=`table,img,figure.image,hr,video,span.mce-preview-object,details,${xy}`,tj=Math.abs,gD=Math.round,e6={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},nj=e=>e.type==="longpress"||e.type.indexOf("touch")===0,oj=(e,t)=>{const o=t.dom,r=t.getDoc(),c=document,h=t.getBody();let v,T,k,L,W,G,Q,ce,ke,ge,Te,nt,st,ut,Bt;const Qt=$t=>We($t)&&(Nd($t)||o.is($t,"figure.image")),Dn=$t=>Rd($t)||o.hasClass($t,"mce-preview-object"),ro=($t,wn)=>{if(nj($t)){const Kn=$t.touches[0];return Qt($t.target)&&!ZB(Kn.clientX,Kn.clientY,wn)}else return Qt($t.target)&&!ZB($t.clientX,$t.clientY,wn)},Rt=$t=>{const wn=$t.target;ro($t,t.selection.getRng())&&!$t.isDefaultPrevented()&&t.selection.select(wn)},Ct=$t=>o.hasClass($t,"mce-preview-object")&&We($t.firstElementChild)?[$t,$t.firstElementChild]:o.is($t,"figure.image")?[$t.querySelector("img")]:[$t],Lt=$t=>{const wn=lA(t);return!wn||t.mode.isReadOnly()||$t.getAttribute("data-mce-resize")==="false"||$t===t.getBody()?!1:o.hasClass($t,"mce-preview-object")&&We($t.firstElementChild)?wl(_e.fromDom($t.firstElementChild),wn):wl(_e.fromDom($t),wn)},_n=($t,wn)=>{if(Dn(wn))return $t.create("img",{src:ls.transparentSrc});if(lu(wn)){const Os=xo(L.name,"n")?xs:Yr,vs=wn.cloneNode(!0);return Os($t.select("tr",vs)).each(zr=>{const km=$t.select("td,th",zr);$t.setStyle(zr,"height",null),Le(km,dp=>$t.setStyle(dp,"height",null))}),vs}else return wn.cloneNode(!0)},No=($t,wn,Kn)=>{$t[wn]=Kn;const Os=400;if($t.width>Os&&!(wn==="width"&&Kn<Os))$t[wn]=Kn,o.setStyle($t,wn,Kn);else{const vs=wn==="height"?Os*(ge??1):Os;$t[wn]=vs,o.setStyle($t,wn,vs)}},Ro=($t,wn,Kn)=>{if(We(Kn)){const Os=Ct($t);Le(Os,vs=>{Rp(vs)?No(vs,wn,Kn):vs.style[wn]||!t.schema.isValid(vs.nodeName.toLowerCase(),wn)?o.setStyle(vs,wn,Kn):o.setAttrib(vs,wn,""+Kn)})}},js=($t,wn,Kn)=>{Ro($t,"width",wn),Ro($t,"height",Kn)},Mr=$t=>{let wn,Kn,Os,vs,zr;wn=$t.screenX-G,Kn=$t.screenY-Q,nt=wn*L[2]+ce,st=Kn*L[3]+ke,nt=nt<5?5:nt,st=st<5?5:st,(Qt(v)||Dn(v)||Rp(v))&&E_(t)!==!1?Os=!Mn.modifierPressed($t):Os=Mn.modifierPressed($t),Os&&(tj(wn)>tj(Kn)?(st=gD(nt*ge),nt=gD(st/ge)):(nt=gD(st/ge),st=gD(nt*ge))),js(T,nt,st),vs=L.startPos.x+wn,zr=L.startPos.y+Kn,vs=vs>0?vs:0,zr=zr>0?zr:0,o.setStyles(k,{left:vs,top:zr,display:"block"}),k.innerHTML=nt+" &times; "+st,wn=h.scrollWidth-ut,Kn=h.scrollHeight-Bt,wn+Kn!==0&&o.setStyles(k,{left:vs-wn,top:zr-Kn}),Te||(IT(t,v,ce,ke,"corner-"+L.name),Te=!0)},wa=()=>{const $t=Te;Te=!1,$t&&(Ro(v,"width",nt),Ro(v,"height",st)),o.unbind(r,"mousemove",Mr),o.unbind(r,"mouseup",wa),c!==r&&(o.unbind(c,"mousemove",Mr),o.unbind(c,"mouseup",wa)),o.remove(T),o.remove(k),o.remove(W),ni(v),$t&&(KC(t,v,nt,st,"corner-"+L.name),o.setAttrib(v,"style",o.getAttrib(v,"style"))),t.nodeChanged()},ni=$t=>{Tr();const wn=o.getPos($t,h),Kn=wn.x,Os=wn.y,vs=$t.getBoundingClientRect(),zr=vs.width||vs.right-vs.left,km=vs.height||vs.bottom-vs.top;v!==$t&&(Am(),v=$t,nt=st=0);const dp=t.dispatch("ObjectSelected",{target:$t});Lt($t)&&!dp.isDefaultPrevented()?_o(e6,(dg,fh)=>{const Av=Yf=>{const ry=Ct(v)[0];G=Yf.screenX,Q=Yf.screenY,ce=ry.clientWidth,ke=ry.clientHeight,ge=ke/ce,L=dg,L.name=fh,L.startPos={x:zr*dg[0]+Kn,y:km*dg[1]+Os},ut=h.scrollWidth,Bt=h.scrollHeight,W=o.add(h,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(W,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),T=_n(o,v),o.addClass(T,"mce-clonedresizable"),o.setAttrib(T,"data-mce-bogus","all"),T.contentEditable="false",o.setStyles(T,{left:Kn,top:Os,margin:0}),js(T,zr,km),T.removeAttribute(Mx),h.appendChild(T),o.bind(r,"mousemove",Mr),o.bind(r,"mouseup",wa),c!==r&&(o.bind(c,"mousemove",Mr),o.bind(c,"mouseup",wa)),k=o.add(h,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ce+" &times; "+ke)};let qd=o.get("mceResizeHandle"+fh);qd&&o.remove(qd),qd=o.add(h,"div",{id:"mceResizeHandle"+fh,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+fh+"-resize; margin:0; padding:0"}),o.bind(qd,"mousedown",Yf=>{Yf.stopImmediatePropagation(),Yf.preventDefault(),Av(Yf)}),dg.elm=qd,o.setStyles(qd,{left:zr*dg[0]+Kn-qd.offsetWidth/2,top:km*dg[1]+Os-qd.offsetHeight/2})}):Am(!1)},Vc=Sn(ni,0),Am=($t=!0)=>{Vc.cancel(),Tr(),v&&$t&&v.removeAttribute(Mx),_o(e6,(wn,Kn)=>{const Os=o.get("mceResizeHandle"+Kn);Os&&(o.unbind(Os),o.remove(Os))})},Fn=($t,wn)=>o.isChildOf($t,wn),ho=$t=>{if(Te||t.removed||t.composing)return;const wn=$t.type==="mousedown"?$t.target:e.getNode(),Kn=El(_e.fromDom(wn),ej).map(vs=>vs.dom).filter(vs=>o.isEditable(vs.parentElement)||vs.nodeName==="IMG"&&o.isEditable(vs)).getOrUndefined(),Os=We(Kn)?o.getAttrib(Kn,Mx,"1"):"1";if(Le(o.select(`img[${Mx}],hr[${Mx}]`),vs=>{vs.removeAttribute(Mx)}),We(Kn)&&Fn(Kn,h)&&QB(t)){fr();const vs=e.getStart(!0);if(Fn(vs,Kn)&&Fn(e.getEnd(!0),Kn)){o.setAttrib(Kn,Mx,Os),Vc.throttle(Kn);return}}Am()},Tr=()=>{_o(e6,$t=>{$t.elm&&(o.unbind($t.elm),delete $t.elm)})},fr=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{fr(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",ho),t.on("keyup compositionend",$t=>{v&&v.nodeName==="TABLE"&&ho($t)}),t.on("hide blur",Am),t.on("contextmenu longpress",Rt,!0)}),t.on("remove",Tr),{isResizable:Lt,showResizeRect:ni,hideResizeRect:Am,updateResizeRect:ho,destroy:()=>{Vc.cancel(),v=T=W=null}}},t6=(e,t,o)=>{const r=Wu(_e.fromDom(o));return J1(r.dom,e,t).map(c=>{const h=o.createRange();return h.setStart(c.start.dom,c.soffset),h.setEnd(c.finish.dom,c.foffset),h}).getOrUndefined()},zb=(e,t)=>We(e)&&We(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,sj=(e,t,o)=>{let r=e;for(;r&&r!==t;){if(o(r))return r;r=r.parentNode}return null},pD=(e,t,o)=>sj(e,t,o)!==null,n6=(e,t,o)=>pD(e,t,r=>r.nodeName===o),o6=(e,t)=>id(e)&&!pD(e,t,ue),bD=(e,t,o)=>{const r=t.parentNode;if(r){const c=new Ya(t,e.getParent(r,e.isBlock)||e.getRoot());let h;for(;h=c[o?"prev":"next"]();)if(ia(h))return!0}return!1},yD=(e,t)=>e.previousSibling?.nodeName===t,mne=(e,t)=>{let o=t;for(;o&&o!==e;){if(ta(o))return!0;o=o.parentNode}return!1},vD=(e,t,o,r,c)=>{const h=e.getRoot(),v=e.schema.getNonEmptyElements(),T=c.parentNode;let k,L;if(!T)return X.none();const W=e.getParent(T,e.isBlock)||h;if(r&&ia(c)&&t&&e.isEmpty(W))return X.some(kt(T,e.nodeIndex(c)));const G=new Ya(c,W);for(;L=G[r?"prev":"next"]();){if(e.getContentEditableParent(L)==="false"||o6(L,h))return X.none();if(cn(L)&&L.data.length>0)return n6(L,h,"A")?X.none():X.some(kt(L,r?L.data.length:0));if(e.isBlock(L)||v[L.nodeName.toLowerCase()])return X.none();k=L}return Xo(k)?X.none():o&&k?X.some(kt(k,0)):X.none()},rj=(e,t,o,r)=>{const c=e.getRoot();let h,v=!1,T=o?r.startContainer:r.endContainer,k=o?r.startOffset:r.endOffset;const L=xn(T)&&k===T.childNodes.length,W=e.schema.getNonEmptyElements();let G=o;if(id(T))return X.none();if(xn(T)&&k>T.childNodes.length-1&&(G=!1),zm(T)&&(T=c,k=0),T===c){if(G&&(h=T.childNodes[k>0?k-1:0],h&&(id(h)||W[h.nodeName]||lu(h))))return X.none();if(T.hasChildNodes()){if(k=Math.min(!G&&k>0?k-1:k,T.childNodes.length-1),T=T.childNodes[k],k=cn(T)&&L?T.data.length:0,!t&&T===c.lastChild&&lu(T)||mne(c,T)||id(T)||V0(T))return X.none();if(T.hasChildNodes()&&!lu(T)){h=T;const Q=new Ya(T,c);do{if(ta(h)||id(h)){v=!1;break}if(cn(h)&&h.data.length>0){k=G?0:h.data.length,T=h,v=!0;break}if(W[h.nodeName.toLowerCase()]&&!yy(h)){k=e.nodeIndex(h),T=h.parentNode,G||k++,v=!0;break}}while(h=G?Q.next():Q.prev())}}}return t&&(cn(T)&&k===0&&vD(e,L,t,!0,T).each(Q=>{T=Q.container(),k=Q.offset(),v=!0}),xn(T)&&(h=T.childNodes[k],h||(h=T.childNodes[k-1]),h&&ia(h)&&!yD(h,"A")&&!bD(e,h,!1)&&!bD(e,h,!0)&&vD(e,L,t,!0,h).each(Q=>{T=Q.container(),k=Q.offset(),v=!0}))),G&&!t&&cn(T)&&k===T.data.length&&vD(e,L,t,!1,T).each(Q=>{T=Q.container(),k=Q.offset(),v=!0}),v&&T?X.some(kt(T,k)):X.none()},YA=(e,t)=>{const o=t.collapsed,r=t.cloneRange(),c=kt.fromRangeStart(t);return rj(e,o,!0,r).each(h=>{(!o||!kt.isAbove(c,h))&&r.setStart(h.container(),h.offset())}),o||rj(e,o,!1,r).each(h=>{r.setEnd(h.container(),h.offset())}),o&&r.collapse(!0),zb(t,r)?X.none():X.some(r)},XA=(e,t)=>e.splitText(t),_w=e=>{let t=e.startContainer,o=e.startOffset,r=e.endContainer,c=e.endOffset;if(t===r&&cn(t)){if(o>0&&o<t.data.length)if(r=XA(t,o),t=r.previousSibling,c>o){c=c-o;const h=XA(r,c).previousSibling;t=r=h,c=h.data.length,o=0}else c=0}else if(cn(t)&&o>0&&o<t.data.length&&(t=XA(t,o),o=0),cn(r)&&c>0&&c<r.data.length){const h=XA(r,c).previousSibling;r=h,c=h.data.length}return{startContainer:t,startOffset:o,endContainer:r,endOffset:c}},f0=e=>({walk:(h,v)=>Yg(e,h,v),split:_w,expand:(h,v={type:"word"})=>{if(v.type==="word"){const T=y1(e,h,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),k=e.createRng();return k.setStart(T.startContainer,T.startOffset),k.setEnd(T.endContainer,T.endOffset),k}return h},normalize:h=>YA(e,h).fold(He,v=>(h.setStart(v.startContainer,v.startOffset),h.setEnd(v.endContainer,v.endOffset),!0))});f0.compareRanges=zb,f0.getCaretRangeFromPoint=t6,f0.getSelectedNode=gl,f0.getNode=zg;const aj=(e,t)=>e.view(t).fold(at([]),r=>{const c=e.owner(r),h=aj(e,c);return[r].concat(h)}),hne=(e,t)=>{const o=t.owner(e);return aj(t,o)};var pne=Object.freeze({__proto__:null,view:e=>(e.dom===document?X.none():X.from(e.dom.defaultView?.frameElement)).map(_e.fromDom),owner:e=>Qc(e)});const ij=e=>{const t=Cl(),o=Tg(t),r=hne(e,pne),c=rm(e),h=go(r,(v,T)=>{const k=rm(T);return{left:v.left+k.left,top:v.top+k.top}},{left:0,top:0});return gc(h.left+c.left+o.left,h.top+c.top+o.top)},QA=e=>ts(e)==="textarea",lj=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),s6=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},bne=(e,t)=>{const o=fa(e);if(o.length===0||QA(e))return{element:e,offset:t};if(t<o.length&&!QA(o[t]))return{element:o[t],offset:0};{const r=o[o.length-1];return QA(r)?{element:e,offset:t}:ts(r)==="img"?{element:r,offset:1}:bs(r)?{element:r,offset:yi(r).length}:{element:r,offset:fa(r).length}}},r6=(e,t)=>{const o=Nf(e),r=fy(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:t}},a6=(e,t)=>{const o=bne(e,t),r=_e.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Hi+"</span>");return ul(o.element,r),r6(r,()=>ys(r))},cj=e=>r6(_e.fromDom(e),Mt),i6=(e,t,o,r)=>{dj(e,(c,h)=>uj(e,t,o,r),o)},l6=(e,t,o,r,c)=>{const h={elm:r.element.dom,alignToTop:c};if(lj(e,h))return;const v=Tg(t).top;o(e,t,v,r,c),s6(e,h)},uj=(e,t,o,r)=>{const c=_e.fromDom(e.getBody()),h=_e.fromDom(e.getDoc());Eg(c);const v=a6(_e.fromDom(o.startContainer),o.startOffset);l6(e,h,t,v,r),v.cleanup()},c6=(e,t,o,r)=>{const c=_e.fromDom(e.getDoc());l6(e,c,o,cj(t),r)},dj=(e,t,o)=>{const r=o.startContainer,c=o.startOffset,h=o.endContainer,v=o.endOffset;t(_e.fromDom(r),_e.fromDom(h));const T=e.dom.createRng();T.setStart(r,c),T.setEnd(h,v),e.selection.setRng(o)},xD=(e,t,o,r,c)=>{const h=t.pos,v=30;if(r)Ag(h.left,Math.max(0,h.top-v),c);else{const T=h.top-o+t.height+v;Ag(-e.getBody().getBoundingClientRect().left,T,c)}},u6=(e,t,o,r,c,h)=>{const v=r+o,T=c.pos.top,k=c.bottom,L=k-T>=r;T<o?xD(e,c,r,h!==!1,t):T>v?xD(e,c,r,L?h!==!1:h===!0,t):k>v&&!L&&xD(e,c,r,h===!0,t)},d6=(e,t,o,r,c)=>{const h=Wu(t).dom.innerHeight;u6(e,t,o,h,r,c)},f6=(e,t,o,r,c)=>{const h=Wu(t).dom.innerHeight;u6(e,t,o,h,r,c);const v=ij(r.element),T=Mu(window);v.top<T.y?nu(r.element,c!==!1):v.top>T.bottom&&nu(r.element,c===!0)},fj=(e,t,o)=>i6(e,d6,t,o),mj=(e,t,o)=>c6(e,t,d6,o),hj=(e,t,o)=>i6(e,f6,t,o),gj=(e,t,o)=>c6(e,t,f6,o),Pn=(e,t,o)=>{(e.inline?mj:gj)(e,t,o)},sh=(e,t,o)=>{(e.inline?fj:hj)(e,t,o)},pj=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),m6=(e,t,o,r,c)=>{const h=o?t.startContainer:t.endContainer,v=o?t.startOffset:t.endOffset;return X.from(h).map(_e.fromDom).map(T=>!r||!t.collapsed?eu(T,c(T,v)).getOr(T):T).bind(T=>da(T)?X.some(T):Wi(T).filter(da)).map(T=>T.dom).getOr(e)},JA=(e,t,o=!1)=>m6(e,t,!0,o,(r,c)=>Math.min(om(r),c)),wD=(e,t,o=!1)=>m6(e,t,!1,o,(r,c)=>c>0?c-1:c),CD=(e,t)=>{const o=e;for(;e&&cn(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||o},SD=(e,t)=>{if(!t)return e;let o=t.startContainer,r=t.endContainer;const c=t.startOffset,h=t.endOffset;let v=t.commonAncestorContainer;t.collapsed||(o===r&&h-c<2&&o.hasChildNodes()&&(v=o.childNodes[c]),cn(o)&&cn(r)&&(o.length===c?o=CD(o.nextSibling,!0):o=o.parentNode,h===0?r=CD(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(v=o)));const T=cn(v)?v.parentNode:v;return au(T)?T:e},bj=(e,t,o,r)=>{const c=[],h=e.getRoot(),v=e.getParent(o||JA(h,t,t.collapsed),e.isBlock),T=e.getParent(r||wD(h,t,t.collapsed),e.isBlock);if(v&&v!==h&&c.push(v),v&&T&&v!==T){let k;const L=new Ya(v,h);for(;(k=L.next())&&k!==T;)e.isBlock(k)&&c.push(k)}return T&&v!==T&&T!==h&&c.push(T),c},h6=(e,t,o)=>X.from(t).bind(r=>X.from(r.parentNode).map(c=>{const h=e.nodeIndex(r),v=e.createRng();return v.setStart(c,h),v.setEnd(c,h+1),o&&(FA(e,v,r,!0),FA(e,v,r,!1)),v})),ED=(e,t)=>et(t,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),yj={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},ek=(e,t,o)=>{const r=o?"lastChild":"firstChild",c=o?"prev":"next";if(e[r])return e[r];if(e!==t){let h=e[c];if(h)return h;for(let v=e.parent;v&&v!==t;v=v.parent)if(h=v[c],h)return h}},vj=e=>{const t=e.value??"";if(!Ap(t))return!1;const o=e.parent;return!(o&&(o.name!=="span"||o.attr("style"))&&/^[ ]+$/.test(t))},g6=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Hc{static create(t,o){const r=new Hc(t,yj[t]||1);return o&&_o(o,(c,h)=>{r.attr(h,c)}),r}name;type;attributes;value;parent;firstChild;lastChild;next;prev;raw;constructor(t,o){this.name=t,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(t){const o=this;return t.parent&&t.remove(),o.insert(t,o),o.remove(),o}attr(t,o){const r=this;if(!J(t))return We(t)&&_o(t,(h,v)=>{r.attr(v,h)}),r;const c=r.attributes;if(c){if(o!==void 0){if(o===null){if(t in c.map){delete c.map[t];let h=c.length;for(;h--;)if(c[h].name===t)return c.splice(h,1),r}return r}if(t in c.map){let h=c.length;for(;h--;)if(c[h].name===t){c[h].value=o;break}}else c.push({name:t,value:o});return c.map[t]=o,r}return c.map[t]}}clone(){const t=this,o=new Hc(t.name,t.type),r=t.attributes;if(r){const c=[];c.map={};for(let h=0,v=r.length;h<v;h++){const T=r[h];T.name!=="id"&&(c[c.length]={name:T.name,value:T.value},c.map[T.name]=T.value)}o.attributes=c}return o.value=t.value,o}wrap(t){const o=this;return o.parent&&(o.parent.insert(t,o),t.append(o)),o}unwrap(){const t=this;for(let o=t.firstChild;o;){const r=o.next;t.insert(o,t,!0),o=r}t.remove()}remove(){const t=this,o=t.parent,r=t.next,c=t.prev;return o&&(o.firstChild===t?(o.firstChild=r,r&&(r.prev=null)):c&&(c.next=r),o.lastChild===t?(o.lastChild=c,c&&(c.next=null)):r&&(r.prev=c),t.parent=t.next=t.prev=null),t}append(t){const o=this;t.parent&&t.remove();const r=o.lastChild;return r?(r.next=t,t.prev=r,o.lastChild=t):o.lastChild=o.firstChild=t,t.parent=o,t}insert(t,o,r){t.parent&&t.remove();const c=o.parent||this;return r?(o===c.firstChild?c.firstChild=t:o.prev&&(o.prev.next=t),t.prev=o.prev,t.next=o,o.prev=t):(o===c.lastChild?c.lastChild=t:o.next&&(o.next.prev=t),t.next=o.next,t.prev=o,o.next=t),t.parent=c,t}getAll(t){const o=this,r=[];for(let c=o.firstChild;c;c=ek(c,o))c.name===t&&r.push(c);return r}children(){const t=this,o=[];for(let r=t.firstChild;r;r=r.next)o.push(r);return o}empty(){const t=this;if(t.firstChild){const o=[];for(let c=t.firstChild;c;c=ek(c,t))o.push(c);let r=o.length;for(;r--;){const c=o[r];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,o={},r){const c=this;let h=c.firstChild;if(g6(c))return!1;if(h)do{if(h.type===1){if(h.attr("data-mce-bogus"))continue;if(t[h.name]||g6(h))return!1}if(h.type===8||h.type===3&&!vj(h)||h.type===3&&h.parent&&o[h.parent.name]&&Ap(h.value??"")||r&&r(h))return!1}while(h=ek(h,c));return!0}walk(t){return ek(this,null,t)}}const xj=on.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),p6=e=>J(e.nodeValue)&&e.nodeValue.includes(Hi),b6=e=>`${e.length===0?"":`${et(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,wj=(e,t)=>t.querySelectorAll(b6(e)),y6=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>p6(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),TD=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(p6(t)){const o=t.parentNode;return o&&Yn(xj,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),tk=e=>y6(e).nextNode()!==null,Cj=e=>TD(e).nextNode()!==null,Sj=(e,t)=>t.querySelector(b6(e))!==null,Ej=(e,t)=>{Le(wj(e,t),o=>{const r=_e.fromDom(o);hr(r,"data-mce-bogus")==="all"?ys(r):Le(e,c=>{Vr(r,c)&&ci(r,c)})})},v6=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},Tj=P(v6,y6),Aj=P(v6,TD),x6=(e,t)=>{const o=[{condition:le(Sj,t),action:le(Ej,t)},{condition:tk,action:Tj},{condition:Cj,action:Aj}];let r=e,c=!1;return Le(o,({condition:h,action:v})=>{h(r)&&(c||(r=e.cloneNode(!0),c=!0),v(r))}),r},w6=e=>{const t=At(e,"[data-mce-bogus]");Le(t,o=>{hr(o,"data-mce-bogus")==="all"?ys(o):$d(o)?(ul(o,_e.fromText(pi)),ys(o)):Gl(o)})},C6=e=>{const t=At(e,"input");Le(t,o=>{ci(o,"name")})},kj=(e,t)=>{const o=bl(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(r,"")},_j=(e,t)=>{const o=e.getDoc(),r=sa(_e.fromDom(e.getBody())),c=_e.fromTag("div",o);Ar(c,"data-mce-bogus","all"),fl(c,{position:"fixed",left:"-9999999px",top:"0"}),nf(c,t.innerHTML),w6(c),C6(c);const h=Eh(r);Fs(h,c);const v=Fc(c.dom.innerText);return ys(c),v},Dj=(e,t,o)=>{let r;return t.format==="raw"?r=on.trim(Fc(x6(o,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?r=_j(e,o):t.format==="tree"?r=e.serializer.serialize(o,t):r=kj(e,e.serializer.serialize(o,t)),t.format!=="text"&&!Ny(_e.fromDom(o))&&J(r)?on.trim(r):r},Oj=(e,t)=>X.from(e.getBody()).fold(at(t.format==="tree"?new Hc("body",11):""),o=>Dj(e,t,o)),S6=on.makeMap,AD=e=>{const t=[];e=e||{};const o=e.indent,r=S6(e.indent_before||""),c=S6(e.indent_after||""),h=td.getEncodeFunc(e.entity_encoding||"raw",e.entities),v=e.element_format!=="xhtml";return{start:(T,k,L)=>{if(o&&r[T]&&t.length>0){const W=t[t.length-1];W.length>0&&W!==`
`&&t.push(`
`)}if(t.push("<",T),k)for(let W=0,G=k.length;W<G;W++){const Q=k[W];t.push(" ",Q.name,'="',h(Q.value,!0),'"')}if(!L||v?t[t.length]=">":t[t.length]=" />",L&&o&&c[T]&&t.length>0){const W=t[t.length-1];W.length>0&&W!==`
`&&t.push(`
`)}},end:T=>{let k;t.push("</",T,">"),o&&c[T]&&t.length>0&&(k=t[t.length-1],k.length>0&&k!==`
`&&t.push(`
`))},text:(T,k)=>{T.length>0&&(t[t.length]=k?T:h(T))},cdata:T=>{t.push("<![CDATA[",T,"]]>")},comment:T=>{t.push("<!--",T,"-->")},pi:(T,k)=>{k?t.push("<?",T," ",h(k),"?>"):t.push("<?",T,"?>"),o&&t.push(`
`)},doctype:T=>{t.push("<!DOCTYPE",T,">",o?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},nv=(e={},t=Ns())=>{const o=AD(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const h=e.validate,v={3:k=>{o.text(k.value??"",k.raw)},8:k=>{o.comment(k.value??"")},7:k=>{o.pi(k.name,k.value)},10:k=>{o.doctype(k.value??"")},4:k=>{o.cdata(k.value??"")},11:k=>{let L=k;if(L=L.firstChild)do T(L);while(L=L.next)}};o.reset();const T=k=>{const L=v[k.type];if(L)L(k);else{const W=k.name,G=W in t.getVoidElements();let Q=k.attributes;if(h&&Q&&Q.length>1){const ce=[];ce.map={};const ke=t.getElementRule(k.name);if(ke){for(let ge=0,Te=ke.attributesOrder.length;ge<Te;ge++){const nt=ke.attributesOrder[ge];if(nt in Q.map){const st=Q.map[nt];ce.map[nt]=st,ce.push({name:nt,value:st})}}for(let ge=0,Te=Q.length;ge<Te;ge++){const nt=Q[ge].name;if(!(nt in ce.map)){const st=Q.map[nt];ce.map[nt]=st,ce.push({name:nt,value:st})}}Q=ce}}if(o.start(W,Q,G),Rg(W))J(k.value)&&o.text(k.value,!0),o.end(W);else if(!G){let ce=k.firstChild;if(ce){(W==="pre"||W==="textarea")&&ce.type===3&&ce.value?.[0]===`
`&&o.text(`
`,!0);do T(ce);while(ce=ce.next)}o.end(W)}}};return c.type===1&&!e.inner?T(c):c.type===3?v[3](c):v[11](c),o.getContent()}}},E6=new Set;Le(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{E6.add(t)});const VS=new Set;Le(["background-color"],t=>{VS.add(t)});const ov=["font","text-decoration","text-emphasis"],nk=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),Dw=(e,t)=>$n(nk(e,t)),Nj=e=>E6.has(e),Rj=e=>VS.has(e),T6=(e,t)=>Ye(Dw(e,t),o=>Nj(o)),A6=(e,t)=>T6(e,t)&&Ye(Dw(e,t),o=>Rj(o)),Mj=e=>xt(e,t=>Ye(ov,o=>xo(t,o))),Bj=(e,t,o)=>{const r=Dw(e,t),c=Dw(e,o),h=v=>{const T=e.getStyle(t,v)??"",k=e.getStyle(o,v)??"";return Fr(T)&&Fr(k)&&T!==k};return Ye(r,v=>{const T=k=>Ye(k,L=>L===v);if(!T(c)&&T(ov)){const k=Mj(c);return Ye(k,h)}else return h(v)})},kD=(e,t,o)=>X.from(o.container()).filter(cn).exists(r=>{const c=e?0:-1;return t(r.data.charAt(o.offset()+c))}),_D=le(kD,!0,Wf),ok=le(kD,!1,Wf),Lj=e=>{const t=e.container();return cn(t)&&(t.data.length===0||$g(t.data)&&Tw.isBookmarkNode(t.parentNode))},sv=(e,t)=>o=>AS(e?0:-1,o).filter(t).isSome(),k6=e=>Nd(e)&&Aa(_e.fromDom(e),"display")==="block",DD=e=>ta(e)&&!A2(e),OD=sv(!0,k6),_6=sv(!1,k6),US=sv(!0,Rd),ZS=sv(!1,Rd),WS=sv(!0,lu),ND=sv(!1,lu),jb=sv(!0,DD),v1=sv(!1,DD),D6=e=>e.slice(0,-1),Fj=(e,t,o)=>mc(t,e)?D6(cl(e,r=>o(r)||es(r,t))):[],O6=(e,t)=>Fj(e,t,He),Jg=(e,t)=>[e].concat(O6(e,t)),sk=(e,t,o)=>m(e,t,o,Lj),N6=e=>t=>e.isBlock(ts(t)),RD=(e,t,o)=>Un(Jg(_e.fromDom(t.container()),e),N6(o)),MD=(e,t,o,r)=>sk(e,t.dom,o).forall(c=>RD(t,o,r).fold(()=>!qg(c,o,t.dom),h=>!qg(c,o,t.dom)&&mc(h,_e.fromDom(c.container())))),BD=(e,t,o,r)=>RD(t,o,r).fold(()=>sk(e,t.dom,o).forall(c=>!qg(c,o,t.dom)),c=>sk(e,c.dom,o).isNone()),rk=le(BD,!1),LD=le(BD,!0),R6=le(MD,!1),M6=le(MD,!0),B6=e=>Dx(e).exists($d),ak=(e,t,o,r)=>{const c=xt(Jg(_e.fromDom(o.container()),t),v=>r.isBlock(ts(v))),h=xs(c).getOr(t);return Zf(e,h.dom,o).filter(B6)},FD=(e,t,o)=>Dx(t).exists($d)||ak(!0,e,t,o).isSome(),ik=(e,t,o)=>kS(t).exists($d)||ak(!1,e,t,o).isSome(),L6=le(ak,!1),Pj=le(ak,!0),F6=e=>kt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),P6=(e,t,o)=>{const r=xt(Jg(_e.fromDom(t.container()),e),c=>o.isBlock(ts(c)));return xs(r).getOr(e)},$6=(e,t,o)=>F6(t)?ok(t):ok(t)||_(P6(e,t,o).dom,t).exists(ok),I6=(e,t,o)=>F6(t)?_D(t):_D(t)||E(P6(e,t,o).dom,t).exists(_D),$j=e=>Be(["pre","pre-wrap"],e),lk=e=>Dx(e).bind(t=>Qs(t,da)).exists(t=>$j(Aa(t,"white-space"))),yne=(e,t)=>_(e.dom,t).isNone(),vne=(e,t)=>E(e.dom,t).isNone(),Ij=(e,t,o)=>yne(e,t)||vne(e,t)||rk(e,t,o)||LD(e,t,o)||ik(e,t,o)||FD(e,t,o),xne=e=>We(e)&&ta(e)&&SS(e),H6=(e,t)=>o=>xne(new Ya(o,e)[t]()),fd=(e,t)=>{const o=E(e.dom,t).getOr(t),r=H6(e.dom,"next");return t.isAtEnd()&&(r(t.container())||r(o.container()))},Hj=(e,t)=>{const o=_(e.dom,t).getOr(t),r=H6(e.dom,"prev");return t.isAtStart()&&(r(t.container())||r(o.container()))},zj=(e,t,o)=>lk(t)?!1:Ij(e,t,o)||$6(e,t,o)||I6(e,t,o),qS=(e,t,o)=>lk(t)?!1:rk(e,t,o)||R6(e,t,o)||ik(e,t,o)||$6(e,t,o)||Hj(e,t),jj=e=>{const t=e.container(),o=e.offset();return cn(t)&&o<t.data.length?kt(t,o+1):e},md=(e,t,o)=>lk(t)?!1:LD(e,t,o)||M6(e,t,o)||FD(e,t,o)||I6(e,t,o)||fd(e,t),z6=(e,t,o)=>qS(e,t,o)||md(e,jj(t),o),j6=(e,t)=>Iu(e.charAt(t)),Vj=(e,t)=>Wf(e.charAt(t)),Uj=e=>{const t=e.container();return cn(t)&&Lr(t.data,jr)},Zj=e=>{const t=e.split("");return et(t,(o,r)=>Iu(o)&&r>0&&r<t.length-1&&$c(t[r-1])&&$c(t[r+1])?" ":o).join("")},Wj=(e,t,o,r)=>{const c=t.data,h=kt(t,0);return!o&&j6(c,0)&&!z6(e,h,r)?(t.data=" "+c.slice(1),!0):o&&Vj(c,0)&&qS(e,h,r)?(t.data=jr+c.slice(1),!0):!1},qj=e=>{const t=e.data,o=Zj(t);return o!==t?(e.data=o,!0):!1},qf=(e,t,o,r)=>{const c=t.data,h=kt(t,c.length-1);return!o&&j6(c,c.length-1)&&!z6(e,h,r)?(t.data=c.slice(0,-1)+" ",!0):o&&Vj(c,c.length-1)&&md(e,h,r)?(t.data=c.slice(0,-1)+jr,!0):!1},V6=(e,t,o)=>{const r=t.container();if(!cn(r))return X.none();if(Uj(t)){const c=Wj(e,r,!1,o)||qj(r)||qf(e,r,!1,o);return ws(c,t)}else if(z6(e,t,o)){const c=Wj(e,r,!0,o)||qf(e,r,!0,o);return ws(c,t)}else return X.none()},U6=e=>{const t=_e.fromDom(e.getBody());e.selection.isCollapsed()&&V6(t,kt.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},Z6=(e,t,o,r)=>{if(o===0)return;const c=_e.fromDom(e),h=_d(c,L=>r.isBlock(ts(L))).getOr(c),v=e.data.slice(t,t+o),T=t+o>=e.data.length&&md(h,kt(e,e.data.length),r),k=t===0&&qS(h,kt(e,0),r);e.replaceData(t,o,z0(v,4,k,T))},ck=(e,t,o)=>{const r=e.data.slice(t),c=r.length-Sf(r).length;Z6(e,t,c,o)},uk=(e,t,o)=>{const r=e.data.slice(0,t),c=r.length-uc(r).length;Z6(e,t-c,c,o)},dk=(e,t,o,r,c=!0)=>{const h=uc(e.data).length,v=c?e:t,T=c?t:e;return c?v.appendData(T.data):v.insertData(0,T.data),ys(_e.fromDom(T)),r&&ck(v,h,o),v},Gj=(e,t)=>{const o=e.container(),r=e.offset();return!kt.isTextPosition(e)&&o===t.parentNode&&r>kt.before(t).offset()},Kj=(e,t)=>Gj(t,e)?kt(t.container(),t.offset()-1):t,Yj=e=>cn(e)?kt(e,0):kt.before(e),Xj=e=>cn(e)?kt(e,e.data.length):kt.after(e),PD=e=>ba(e.previousSibling)?X.some(Xj(e.previousSibling)):e.previousSibling?q(e.previousSibling):X.none(),W6=e=>ba(e.nextSibling)?X.some(Yj(e.nextSibling)):e.nextSibling?H(e.nextSibling):X.none(),q6=(e,t)=>X.from(t.previousSibling?t.previousSibling:t.parentNode).bind(o=>_(e,kt.before(o))).orThunk(()=>E(e,kt.after(t))),Qj=(e,t)=>E(e,kt.after(t)).orThunk(()=>_(e,kt.before(t))),wne=(e,t)=>PD(t).orThunk(()=>W6(t)).orThunk(()=>q6(e,t)),Jj=(e,t)=>W6(t).orThunk(()=>PD(t)).orThunk(()=>Qj(e,t)),eV=(e,t,o)=>e?Jj(t,o):wne(t,o),Cne=(e,t,o)=>eV(e,t,o).map(le(Kj,o)),G6=(e,t,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),t)})},nr=e=>t=>t.dom===e,GS=(e,t)=>t&&Yn(e.schema.getBlockElements(),ts(t)),Vb=(e,t,o)=>{if(_a(e,t)){const r=_e.fromHtml('<br data-mce-bogus="1">');return o?Le(fa(t),c=>{rD(c)||ys(c)}):ql(t),Fs(t,r),X.some(kt.before(r.dom))}else return X.none()},Bx=(e,t,o,r)=>{const c=qu(e).filter(bs),h=Wa(e).filter(bs);return ys(e),Ho(c,h,t,(v,T,k)=>{const L=v.dom,W=T.dom,G=L.data.length;return dk(L,W,o,r),k.container()===W?kt(L,G):k}).orThunk(()=>(r&&(c.each(v=>uk(v.dom,v.dom.length,o)),h.each(v=>ck(v.dom,0,o))),t))},fk=(e,t)=>Yn(e.schema.getTextInlineElements(),ts(t)),x1=(e,t,o,r=!0,c=!1)=>{const h=Cne(t,e.getBody(),o.dom),v=_d(o,le(GS,e),nr(e.getBody())),T=Bx(o,h,e.schema,fk(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):v.bind(k=>Vb(e.schema,k,c)).fold(()=>{r&&G6(e,t,T)},k=>{r&&G6(e,t,X.some(k))})},$D=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,K6=e=>$D.test(e),Lx=(e,t)=>wl(_e.fromDom(t),S_(e))&&!Xa(e.schema,t)&&e.dom.isEditable(t),ID=e=>ds.DOM.getStyle(e,"direction",!0)==="rtl"||K6(e.textContent??""),Y6=(e,t,o)=>xt(ds.DOM.getParents(o.container(),"*",t),e),rv=(e,t,o)=>{const r=Y6(e,t,o);return X.from(r[r.length-1])},tV=(e,t,o)=>{const r=m1(t,e),c=m1(o,e);return We(r)&&r===c},nV=e=>Wm(e)||Ig(e),Jh=(e,t)=>{const o=t.container(),r=t.offset();return e?pm(o)?cn(o.nextSibling)?kt(o.nextSibling,0):kt.after(o):Wm(t)?kt(o,r+1):t:pm(o)?cn(o.previousSibling)?kt(o.previousSibling,o.previousSibling.data.length):kt.before(o):Ig(t)?kt(o,r-1):t},X6=le(Jh,!0),Q6=le(Jh,!1),HD=(e,t)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(t),e.off("beforeinput input",o)},J6=e=>{e.execCommand("delete")},zD=e=>HD(e,"Delete"),oV=e=>HD(e,"ForwardDelete"),Sne=e=>t=>Wt(Wi(t),e,es),sV=e=>Sc(e)||mu(e),jD=(e,t)=>mc(e,t)?Qs(t,sV,Sne(e)):X.none(),e8=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},t8=(e,t,o)=>Rn(H(o),q(o),(r,c)=>{const h=Jh(!0,r),v=Jh(!1,c),T=Jh(!1,t);return e?E(o,T).exists(k=>k.isEqual(v)&&t.isEqual(h)):_(o,T).exists(k=>k.isEqual(h)&&t.isEqual(v))}).getOr(!0),n8=e=>(xd(e)?qu(e):ii(e)).bind(n8).orThunk(()=>X.some(e)),rV=(e,t,o,r=!0)=>{t.deleteContents();const c=n8(o).getOr(o),h=_e.fromDom(e.dom.getParent(c.dom,e.dom.isBlock)??o.dom);if(h.dom===e.getBody()?e8(e,r):_a(e.schema,h,{checkRootAsContent:!1})&&(Vh(h),r&&e.selection.setCursorLocation(h.dom,0)),!es(o,h)){const v=Wt(Wi(h),o)?[]:Ls(h);Le(v.concat(fa(o)),T=>{!es(T,h)&&!mc(T,h)&&_a(e.schema,T)&&ys(T)})}},aV=e=>t=>es(e,t),Ud=e=>At(e,"td,th"),iV=(e,t)=>Vd(_e.fromDom(e),t),lV=e=>Rn(e.startTable,e.endTable,(t,o)=>{const r=Bo(t,h=>es(h,o)),c=Bo(o,h=>es(h,t));return!r&&!c?e:{...e,startTable:r?X.none():e.startTable,endTable:c?X.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),o8=e=>lV(e),Ene=(e,t)=>{const o=iV(e.startContainer,t),r=iV(e.endContainer,t),c=o.isSome(),h=r.isSome(),v=Rn(o,r,es).getOr(!1);return o8({startTable:o,endTable:r,isStartInTable:c,isEndInTable:h,isSameTable:v,isMultiTable:!v&&c&&h})},VD=(e,t)=>({start:e,end:t}),cV=(e,t,o)=>({rng:e,table:t,cells:o}),KS=gi.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Ow=(e,t)=>El(_e.fromDom(e),"td,th",t),uV=e=>!es(e.start,e.end),s8=(e,t)=>Vd(e.start,t).bind(o=>Vd(e.end,t).bind(r=>ws(es(o,r),o))),dV=(e,t)=>!uV(e)&&s8(e,t).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),ca=(e,t)=>{const o=Ow(e.startContainer,t),r=Ow(e.endContainer,t);return Rn(o,r,VD)},fV=e=>t=>Vd(t,e).bind(o=>Yr(Ud(o)).map(r=>VD(t,r))),mV=e=>t=>Vd(t,e).bind(o=>xs(Ud(o)).map(r=>VD(r,t))),Fx=e=>t=>s8(t,e).map(o=>cV(t,o,Ud(o))),UD=(e,t,o,r)=>{if(o.collapsed||!e.forall(uV))return X.none();if(t.isSameTable){const c=e.bind(Fx(r));return X.some({start:c,end:c})}else{const c=Ow(o.startContainer,r),h=Ow(o.endContainer,r),v=c.bind(fV(r)).bind(Fx(r)),T=h.bind(mV(r)).bind(Fx(r));return X.some({start:v,end:T})}},r8=(e,t)=>Qo(e,o=>es(o,t)),ZD=e=>Rn(r8(e.cells,e.rng.start),r8(e.cells,e.rng.end),(t,o)=>e.cells.slice(t,o+1)),hV=(e,t,o)=>e.exists(r=>dV(r,o)&&tD(r.start,t)),WD=(e,t)=>{const{startTable:o,endTable:r}=t,c=e.cloneRange();return o.each(h=>c.setStartAfter(h.dom)),r.each(h=>c.setEndBefore(h.dom)),c},gV=(e,t,o,r)=>UD(e,t,o,r).bind(({start:c,end:h})=>c.or(h)).bind(c=>{const{isSameTable:h}=t,v=ZD(c).getOr([]);if(h&&c.cells.length===v.length)return X.some(KS.fullTable(c.table));if(v.length>0){if(h)return X.some(KS.partialTable(v,X.none()));{const T=WD(o,t);return X.some(KS.partialTable(v,X.some({...t,rng:T})))}}else return X.none()}),Tne=(e,t,o,r)=>UD(e,t,o,r).bind(({start:c,end:h})=>{const v=c.bind(ZD).getOr([]),T=h.bind(ZD).getOr([]);if(v.length>0&&T.length>0){const k=WD(o,t);return X.some(KS.multiTable(v,T,k))}else return X.none()}),Ane=(e,t)=>{const o=aV(e),r=ca(t,o),c=Ene(t,o);return hV(r,t,o)?r.map(h=>KS.singleCellTable(t,h.start)):c.isMultiTable?Tne(r,c,t,o):gV(r,c,t,o)},a8=e=>Le(e,t=>{ci(t,"contenteditable"),Vh(t)}),pV=(e,t)=>X.from(e.dom.getParent(t,e.dom.isBlock)).map(_e.fromDom),bV=(e,t,o)=>{o.each(r=>{t?ys(r):(Vh(r),e.selection.setCursorLocation(r.dom,0))})},qD=(e,t,o,r)=>{const c=o.cloneRange();r?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(t.dom.lastChild)):(c.setStartBefore(t.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),mk(e,c,t,!1).each(h=>h())},GD=e=>{const t=Xn(e),o=_e.fromDom(e.selection.getNode());Np(o.dom)&&_a(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),t.length>1&&Ye(t,r=>es(r,o))&&Ar(o,"data-mce-selected","1")},i8=(e,t,o)=>X.some(()=>{const r=e.selection.getRng(),c=o.bind(({rng:h,isStartInTable:v})=>{const T=pV(e,v?h.endContainer:h.startContainer);h.deleteContents(),bV(e,v,T.filter(le(_a,e.schema)));const k=v?t[0]:t[t.length-1];return qD(e,k,r,v),_a(e.schema,k)?X.none():X.some(v?t.slice(1):t.slice(0,-1))}).getOr(t);a8(c),GD(e)}),Ds=(e,t,o,r)=>X.some(()=>{const c=e.selection.getRng(),h=t[0],v=o[o.length-1];qD(e,h,c,!0),qD(e,v,c,!1);const T=_a(e.schema,h)?t:t.slice(1),k=_a(e.schema,v)?o:o.slice(0,-1);a8(T.concat(k)),r.deleteContents(),GD(e)}),mk=(e,t,o,r=!0)=>X.some(()=>{rV(e,t,o,r)}),YS=(e,t)=>X.some(()=>x1(e,!1,t)),XS=(e,t,o)=>Ane(t,o).bind(r=>r.fold(le(mk,e),le(YS,e),le(i8,e),le(Ds,e))),QS=(e,t)=>KD(e,t),JS=(e,t,o,r)=>c8(t,r).fold(()=>XS(e,t,o),c=>QS(e,c)),l8=(e,t,o)=>{const r=_e.fromDom(e.getBody()),c=e.selection.getRng();return o.length!==0?i8(e,o,X.none()):JS(e,r,c,t)},yV=(e,t)=>Un(Jg(t,e),jh),c8=(e,t)=>Un(Jg(t,e),Fa("caption")),kne=(e,t,o,r,c)=>tv(o,e.getBody(),c).bind(h=>yV(t,_e.fromDom(h.getNode())).bind(v=>es(v,r)?X.none():X.some(Mt))),KD=(e,t)=>X.some(()=>{Vh(t),e.selection.setCursorLocation(t.dom,0)}),vV=(e,t,o,r)=>H(e.dom).bind(c=>q(e.dom).map(h=>t?o.isEqual(c)&&r.isEqual(h):o.isEqual(h)&&r.isEqual(c))).getOr(!0),_ne=(e,t)=>KD(e,t),xV=(e,t,o)=>c8(e,_e.fromDom(o.getNode())).fold(()=>X.some(Mt),r=>ws(!es(r,t),Mt)),wV=(e,t,o,r,c)=>tv(o,e.getBody(),c).fold(()=>X.some(Mt),h=>vV(r,o,c,h)?_ne(e,r):xV(t,r,h)),Dne=(e,t,o,r)=>{const c=kt.fromRangeStart(e.selection.getRng());return yV(o,r).bind(h=>_a(e.schema,h,{checkRootAsContent:!1})?KD(e,h):kne(e,o,t,h,c))},CV=(e,t,o,r)=>{const c=kt.fromRangeStart(e.selection.getRng());return _a(e.schema,r)?KD(e,r):wV(e,o,t,r,c)},ya=(e,t)=>e?WS(t):ND(t),One=(e,t)=>{const o=kt.fromRangeStart(e.selection.getRng());return ya(t,o)||Zf(t,e.getBody(),o).exists(r=>ya(t,r))},Nne=(e,t,o)=>{const r=_e.fromDom(e.getBody());return c8(r,o).fold(()=>Dne(e,t,r,o).orThunk(()=>ws(One(e,t),Mt)),c=>CV(e,t,r,c))},YD=(e,t)=>{const o=_e.fromDom(e.selection.getStart(!0)),r=Xn(e);return e.selection.isCollapsed()&&r.length===0?Nne(e,t,o):l8(e,o,r)},m0=(e,t)=>{let o=t;for(;o&&o!==e;){if(Bu(o)||ta(o))return o;o=o.parentNode}return null},SV=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],EV=on.each,h0=e=>{const t=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(h,v)=>{if(h.nodeName!==v.nodeName||h.nodeType!==v.nodeType)return!1;const T=L=>{const W={};return EV(t.getAttribs(L),G=>{const Q=G.nodeName.toLowerCase();Q!=="style"&&!c(Q)&&(W[Q]=t.getAttrib(L,Q))}),W},k=(L,W)=>{for(const G in L)if(Yn(L,G)){const Q=W[G];if(En(Q)||L[G]!==Q)return!1;delete W[G]}for(const G in W)if(Yn(W,G))return!1;return!0};return xn(h)&&xn(v)&&(!k(T(h),T(v))||!k(t.parseStyle(t.getAttrib(h,"style")),t.parseStyle(t.getAttrib(v,"style"))))?!1:!wi(h)&&!wi(v)},c=h=>Ye(SV,v=>xo(h,v))||o.has(h);return{compare:r,isAttributeInternal:c}},ur=(e,t)=>{if(cn(e))return{container:e,offset:t};const o=f0.getNode(e,t);return cn(o)?{container:o,offset:t>=e.childNodes.length?o.data.length:0}:o.previousSibling&&cn(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&cn(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:t}},Ac=e=>{const t=e.cloneRange(),o=ur(e.startContainer,e.startOffset);t.setStart(o.container,o.offset);const r=ur(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},rh=ds.DOM,TV=()=>rh.create("span",{"data-mce-type":"bookmark"}),u8=(e,t,o)=>{if(xn(e)){const r=o();return e.hasChildNodes()?t===e.childNodes.length?e.appendChild(r):e.insertBefore(r,e.childNodes[t]):e.appendChild(r),{container:r,offset:0}}else return{container:e,offset:t}},d8=(e,t)=>{const o=r=>{let c=r.parentNode?.firstChild,h=0;for(;c;){if(c===r)return h;(!xn(c)||c.getAttribute("data-mce-type")!=="bookmark")&&h++,c=c.nextSibling}return-1};if(xn(e)&&We(e.parentNode)){const r=e;t=o(e),e=e.parentNode,rh.remove(r),!e.hasChildNodes()&&rh.isBlock(e)&&e.appendChild(rh.create("br"))}return{container:e,offset:t}},f8=(e,t,o,r)=>{const c=rh.createRng();return c.setStart(e,t),c.setEnd(o,r),Ac(c)},w1=(e,t=TV)=>{const{container:o,offset:r}=u8(e.startContainer,e.startOffset,t);if(e.collapsed)return{startContainer:o,startOffset:r};{const{container:c,offset:h}=u8(e.endContainer,e.endOffset,t);return{startContainer:o,startOffset:r,endContainer:c,endOffset:h}}},eg=e=>{const{container:t,offset:o}=d8(e.startContainer,e.startOffset);if(!En(e.endContainer)&&!En(e.endOffset)){const{container:r,offset:c}=d8(e.endContainer,e.endOffset);return f8(t,o,r,c)}else return f8(t,o,t,o)},XD=(e,t,o,r)=>{if(on.each(o.styles,(c,h)=>{e.setStyle(t,h,Hb(c,r))}),o.styles){const c=e.getAttrib(t,"style");c&&e.setAttrib(t,"data-mce-style",c)}},Px=(e,t,o,r,c)=>{const h=e.dom;Ne(o.onformat)&&o.onformat(t,o,r,c),XD(h,t,o,r),on.each(o.attributes,(v,T)=>{h.setAttrib(t,T,Hb(v,r))}),on.each(o.classes,v=>{const T=Hb(v,r);h.hasClass(t,T)||h.addClass(t,T)})},AV=e=>!qe(e.attributes)&&!qe(e.styles),QD=PS,m8=(e,t,o)=>{const r=e.formatter.get(o);if(r)for(let c=0;c<r.length;c++){const h=r[c];if(Kg(h)&&h.inherit===!1&&e.dom.is(t,h.selector))return!0}return!1},hk=(e,t,o,r,c)=>{const h=e.dom.getRoot();if(t===h)return!1;const v=e.dom.getParent(t,T=>m8(e,T,o)?!0:T.parentNode===h||!!tg(e,T,o,r,!0));return!!tg(e,v,o,r,c)},gk=(e,t,o)=>gu(o)&&QD(t,o.inline)||u0(o)&&QD(t,o.block)?!0:Kg(o)?xn(t)&&e.is(t,o.selector):!1,h8=(e,t,o,r,c,h)=>{const v=o[r],T=r==="attributes";if(Ne(o.onmatch))return o.onmatch(t,o,r);if(v){if(Jf(v)){for(let k=0;k<v.length;k++)if(T?e.getAttrib(t,v[k]):$S(e,t,v[k]))return!0}else for(const k in v)if(Yn(v,k)){const L=T?e.getAttrib(t,k):$S(e,t,k),W=Hb(v[k],h),G=dn(L)||Cu(L);if(G&&dn(W))continue;if(c&&G&&!o.exact||(!c||o.exact)&&!QD(L,$A(W,k)))return!1}}return!0},tg=(e,t,o,r,c)=>{const h=e.formatter.get(o),v=e.dom;if(h&&xn(t))for(let T=0;T<h.length;T++){const k=h[T];if(gk(e.dom,t,k)&&h8(v,t,k,"attributes",c,r)&&h8(v,t,k,"styles",c,r)){const L=k.classes;if(L){for(let W=0;W<L.length;W++)if(!e.dom.hasClass(t,Hb(L[W],r)))return}return k}}},JD=(e,t,o,r,c)=>{if(r)return hk(e,r,t,o,c);if(r=e.selection.getNode(),hk(e,r,t,o,c))return!0;const h=e.selection.getStart();return!!(h!==r&&hk(e,h,t,o,c))},e5=(e,t,o)=>{const r=[],c={},h=e.selection.getStart();return e.dom.getParent(h,v=>{for(let T=0;T<t.length;T++){const k=t[T];!c[k]&&tg(e,v,k,o)&&(c[k]=!0,r.push(k))}},e.dom.getRoot()),r},g8=(e,t)=>{const o=c=>es(c,_e.fromDom(e.getBody())),r=(c,h)=>tg(e,c.dom,h)?X.some(h):X.none();return X.from(e.selection.getStart(!0)).bind(c=>Xu(_e.fromDom(c),h=>Xr(t,v=>r(h,v)),o)).getOrNull()},t5=(e,t)=>{const o=e.formatter.get(t),r=e.dom;if(o&&e.selection.isEditable()){const c=e.selection.getStart(),h=IA(r,c);for(let v=o.length-1;v>=0;v--){const T=o[v];if(!Kg(T))return!0;for(let k=h.length-1;k>=0;k--)if(r.is(h[k],T.selector))return!0}}return!1},Rne=(e,t,o)=>vt(o,(r,c)=>{const h=HA(e,c);return e.formatter.matchNode(t,c,{},h)?r.concat([c]):r},[]),rc=Hi,kV=(e,t)=>e.importNode(t,!0),_V=e=>{if(e){const t=new Ya(e,e);for(let o=t.current();o;o=t.next())if(cn(o))return o}return null},n5=e=>{const t=_e.fromTag("span");return qa(t,{id:ne,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Fs(t,_e.fromText(rc)),t},DV=e=>{const t=_V(e);return t&&t.data.charAt(0)===rc&&t.deleteData(0,1),t},o5=(e,t,o)=>{const r=e.dom,c=e.selection;if(FB(t))x1(e,!1,_e.fromDom(t),o,!0);else{const h=c.getRng(),v=r.getParent(t,r.isBlock),T=h.startContainer,k=h.startOffset,L=h.endContainer,W=h.endOffset,G=DV(t);r.remove(t,!0),T===G&&k>0&&h.setStart(G,k-1),L===G&&W>0&&h.setEnd(G,W-1),v&&r.isEmpty(v)&&Vh(_e.fromDom(v)),c.setRng(h)}},s5=(e,t,o)=>{const r=e.dom,c=e.selection;if(t)o5(e,t,o);else if(t=Se(e.getBody(),c.getStart()),!t)for(;t=r.get(ne);)o5(e,t,o)},p8=(e,t,o)=>{const r=e.dom,c=r.getParent(o,le(FS,e.schema));c&&r.isEmpty(c)?o.parentNode?.replaceChild(t,o):(yb(_e.fromDom(o)),r.isEmpty(o)?o.parentNode?.replaceChild(t,o):r.insertAfter(t,o))},Nw=(e,t)=>(e.appendChild(t),t),b8=(e,t)=>{const o=go(e,(c,h)=>Nw(c,h.cloneNode(!1)),t),r=o.ownerDocument??document;return Nw(o,r.createTextNode(rc))},y8=(e,t,o,r,c,h)=>{const v=e.formatter,T=e.dom,k=xt($n(v.get()),G=>G!==r&&!Lr(G,"removeformat")),L=Rne(e,o,k);if(xt(L,G=>!LB(e,G,r)).length>0){const G=o.cloneNode(!1);return T.add(t,G),v.remove(r,c,G,h),T.remove(G),X.some(G)}else return X.none()},v8=e=>Sp(e,yi(e).replace(new RegExp(`${jr}$`)," ")),av=(e,t)=>{const o=()=>{t!==null&&!e.dom.isEmpty(t)&&qu(_e.fromDom(t)).each(r=>{bs(r)?v8(r):kh(r,c=>bs(c)).each(c=>{bs(c)&&v8(c)})})};e.once("input",r=>{r.data&&!Wf(r.data)&&(r.isComposing?e.once("compositionend",()=>{o()}):o())})},x8=(e,t,o)=>{let r;const c=e.selection,h=e.formatter.get(t);if(!h)return;const v=c.getRng();let T=v.startOffset;const L=v.startContainer.nodeValue;r=Se(e.getBody(),c.getStart());const W=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(L&&T>0&&T<L.length&&W.test(L.charAt(T))&&W.test(L.charAt(T-1))){const G=c.getBookmark();v.collapse(!0);let Q=y1(e.dom,v,h);Q=_w(Q),e.formatter.apply(t,o,Q),c.moveToBookmark(G)}else{let G=r?_V(r):null;(!r||G?.data!==rc)&&(r=kV(e.getDoc(),n5(!0).dom),G=r.firstChild,v.insertNode(r),T=1,av(e,r)),e.formatter.apply(t,o,r),c.setCursorLocation(G,T)}},w8=(e,t,o,r)=>{const c=e.dom,h=e.selection;let v=!1;const T=e.formatter.get(t);if(!T)return;const k=h.getRng(),L=k.startContainer,W=k.startOffset;let G=L;cn(L)&&(W!==L.data.length&&(v=!0),G=G.parentNode);const Q=[];let ce;for(;G;){if(tg(e,G,t,o,r)){ce=G;break}G.nextSibling&&(v=!0),Q.push(G),G=G.parentNode}if(ce)if(v){const ke=h.getBookmark();k.collapse(!0);let ge=y1(c,k,T,{includeTrailingSpace:!0});ge=_w(ge),e.formatter.remove(t,o,ge,r),h.moveToBookmark(ke)}else{const ke=Se(e.getBody(),ce),ge=We(ke)?c.getParents(ce.parentNode,dt,ke):[],Te=n5(!1).dom;p8(e,Te,ke??ce);const nt=y8(e,Te,ce,t,o,r),st=b8([...Q,...nt.toArray(),...ge],Te);ke&&o5(e,ke,We(ke)),h.setCursorLocation(st,1),av(e,Te),c.isEmpty(ce)&&c.remove(ce)}},C8=(e,t,o)=>{const r=e.selection,c=e.getBody();s5(e,null,o),(t===8||t===46)&&r.isCollapsed()&&r.getStart().innerHTML===rc&&s5(e,Se(c,r.getStart()),!0),(t===37||t===39)&&s5(e,Se(c,r.getStart()),!0)},S8=e=>cn(e)&&Si(e.data,jr),E8=e=>{e.on("mouseup keydown",t=>{C8(e,t.keyCode,S8(e.selection.getRng().endContainer))})},T8=e=>{const t=n5(!1),o=b8(e,t.dom);return{caretContainer:t,caretPosition:kt(o,0)}},r5=(e,t)=>{const{caretContainer:o,caretPosition:r}=T8(t);return ul(_e.fromDom(e),o),ys(_e.fromDom(e)),r},OV=(e,t)=>{const{caretContainer:o,caretPosition:r}=T8(t);return e.insertNode(o.dom),r},A8=(e,t)=>{if(ue(t.dom))return!1;const o=e.schema.getTextInlineElements();return Yn(o,ts(t))&&!ue(t.dom)&&!Hm(t.dom)},k8=["fontWeight","fontStyle","color","fontSize","fontFamily"],NV=e=>rt(e.styles)&&Ye($n(e.styles),t=>Be(k8,t)),RV=e=>Un(e,t=>gu(t)&&t.inline==="span"&&NV(t)),MV=(e,t)=>{const o=e.get(t);return qe(o)?RV(o):X.none()},a5=(e,t)=>_(t,kt.fromRangeStart(e)).isNone(),_8=(e,t)=>E(t,kt.fromRangeEnd(e)).exists(o=>!ia(o.getNode())||E(t,o).isSome())===!1,BV=e=>t=>j0(t)&&e.isEditable(t),D8=(e,t)=>et(e.getSelectedBlocks(),(o,r)=>r===0&&t(o)?e.dom.getParent(o,j0)??o:o),i5=e=>{if(e.isCollapsed())return[];const t=e.getRng(),o=D8(e,r=>a5(t,r)&&!j0(r));if(o.length===1)return a5(t,o[0])&&_8(t,o[0])?o:[];{const r=xs(o).filter(v=>a5(t,v)).toArray(),c=Yr(o).filter(v=>_8(t,v)).toArray(),h=o.slice(1,-1);return r.concat(h).concat(c)}},l5=e=>xt(i5(e),BV(e.dom)),O8=e=>xt(D8(e,t=>!j0(t)),BV(e.dom)),N8=on.each,c5=e=>xn(e)&&!wi(e)&&!ue(e)&&!Hm(e),R8=(e,t)=>{for(let o=e;o;o=o[t]){if(cn(o)&&Fr(o.data))return e;if(xn(o)&&!wi(o))return o}return e},M8=(e,t,o)=>{const r=h0(e),c=au(t)&&e.dom.isEditable(t),h=au(o)&&e.dom.isEditable(o);if(c&&h){const v=R8(t,"previousSibling"),T=R8(o,"nextSibling");if(r.compare(v,T)){for(let k=v.nextSibling;k&&k!==T;){const L=k;k=k.nextSibling,v.appendChild(L)}return e.dom.remove(T),on.each(on.grep(T.childNodes),k=>{v.appendChild(k)}),v}}return o},B8=(e,t,o,r)=>{if(r&&t.merge_siblings!==!1){const c=M8(e,RB(r),r)??r;M8(e,c,RB(c,!0))}},LV=(e,t,o)=>{if(t.clear_child_styles){const r=t.links?"*:not(a)":"*";N8(e.select(r,o),c=>{c5(c)&&e.isEditable(c)&&N8(t.styles,(h,v)=>{e.setStyle(c,v,"")})})}},u5=(e,t,o)=>{N8(e.childNodes,r=>{c5(r)&&(t(r)&&o(r),r.hasChildNodes()&&u5(r,t,o))})},FV=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},d5=(e,t)=>o=>!!(o&&$S(e,o,t)),L8=(e,t,o)=>r=>{e.setStyle(r,t,o),r.getAttribute("style")===""&&r.removeAttribute("style"),FV(e,r)},$x=gi.generate([{keep:[]},{rename:["name"]},{removed:[]}]),Ub=/^(src|href|style)$/,f5=on.each,eE=PS,PV=e=>/^(TR|TH|TD)$/.test(e.nodeName),F8=(e,t,o)=>e.isChildOf(t,o)&&t!==o&&!e.isBlock(o),m5=(e,t,o)=>{let r=t[o?"startContainer":"endContainer"],c=t[o?"startOffset":"endOffset"];if(xn(r)){const h=r.childNodes.length-1;!o&&c&&c--,r=r.childNodes[c>h?h:c]}return cn(r)&&o&&c>=r.data.length&&(r=new Ya(r,e.getBody()).next()||r),cn(r)&&!o&&c===0&&(r=new Ya(r,e.getBody()).prev()||r),r},h5=(e,t)=>{const o=t?"firstChild":"lastChild",r=e[o];return PV(e)&&r?e.nodeName==="TR"&&r[o]||r:e},pk=(e,t,o,r)=>{const c=e.create(o,r);return t.parentNode?.insertBefore(c,t),c.appendChild(t),c},g5=(e,t,o,r,c)=>{const h=_e.fromDom(t),v=_e.fromDom(e.create(r,c)),T=o?Pa(h):qi(h);return hc(v,T),o?(ul(h,v),ef(v,h)):(Sl(h,v),Fs(v,h)),v.dom},$V=(e,t)=>t.links&&e.nodeName==="A",P8=(e,t,o)=>{const r=t.parentNode;let c;const h=e.dom,v=bl(e);u0(o)&&r===h.getRoot()&&(!o.list_block||!eE(t,o.list_block))&&Le(Is(t.childNodes),T=>{Sw(e,v,T.nodeName.toLowerCase())?c?c.appendChild(T):(c=pk(h,T,v),h.setAttribs(c,th(e))):c=null}),!(cne(o)&&!eE(o.inline,t))&&h.remove(t,!0)},$8=(e,t,o)=>Jo(e)?{name:t,value:null}:{name:e,value:Hb(t,o)},I8=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},H8=(e,t,o,r,c)=>{let h=!1;f5(o.styles,(v,T)=>{const{name:k,value:L}=$8(T,v,r),W=$A(L,k);(o.remove_similar||ae(L)||!xn(c)||eE($S(e,c,k),W))&&e.setStyle(t,k,""),h=!0}),h&&I8(e,t)},Ix=(e,t,o)=>{t==="removeformat"?Le(O8(e.selection),r=>{Le(k8,c=>e.dom.setStyle(r,c,"")),I8(e.dom,r)}):MV(e.formatter,t).each(r=>{Le(O8(e.selection),c=>H8(e.dom,c,r,o,null))})},bk=(e,t,o,r,c)=>{const h=e.dom,v=h0(e),T=e.schema;if(gu(t)&&Bc(T,t.inline)&&Xa(T,r)&&r.parentElement===e.getBody())return P8(e,r,t),$x.removed();if(!t.ceFalseOverride&&r&&h.getContentEditableParent(r)==="false"||r&&!gk(h,r,t)&&!$V(r,t))return $x.keep();const k=r,L=t.preserve_attributes;if(gu(t)&&t.remove==="all"&&qe(L)){const W=xt(h.getAttribs(k),G=>Be(L,G.name.toLowerCase()));if(h.removeAllAttribs(k),Le(W,G=>h.setAttrib(k,G.name,G.value)),W.length>0)return $x.rename("span")}if(t.remove!=="all"){H8(h,k,t,o,c),f5(t.attributes,(G,Q)=>{const{name:ce,value:ke}=$8(Q,G,o);if(t.remove_similar||ae(ke)||!xn(c)||eE(h.getAttrib(c,ce),ke)){if(ce==="class"){const ge=h.getAttrib(k,ce);if(ge){let Te="";if(Le(ge.split(/\s+/),nt=>{/mce\-\w+/.test(nt)&&(Te+=(Te?" ":"")+nt)}),Te){h.setAttrib(k,ce,Te);return}}}if(Ub.test(ce)&&k.removeAttribute("data-mce-"+ce),ce==="style"&&Qu(["li"])(k)&&h.getStyle(k,"list-style-type")==="none"){k.removeAttribute(ce),h.setStyle(k,"list-style-type","none");return}ce==="class"&&k.removeAttribute("className"),k.removeAttribute(ce)}}),f5(t.classes,G=>{G=Hb(G,o),(!xn(c)||h.hasClass(c,G))&&h.removeClass(k,G)});const W=h.getAttribs(k);for(let G=0;G<W.length;G++){const Q=W[G].nodeName;if(!v.isAttributeInternal(Q))return $x.keep()}}return t.remove!=="none"?(P8(e,k,t),$x.removed()):$x.keep()},IV=(e,t,o,r,c)=>{let h;return t.parentNode&&Le(IA(e.dom,t.parentNode).reverse(),v=>{if(!h&&xn(v)&&v.id!=="_start"&&v.id!=="_end"){const T=tg(e,v,o,r,c);T&&T.split!==!1&&(h=v)}}),h},HV=(e,t,o,r)=>bk(e,t,o,r,r).fold(at(r),c=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,c)),at(null)),p5=(e,t,o,r,c,h,v,T)=>{let k,L;const W=e.dom;if(o){const G=o.parentNode;for(let Q=r.parentNode;Q&&Q!==G;Q=Q.parentNode){let ce=W.clone(Q,!1);for(let ke=0;ke<t.length&&(ce=HV(e,t[ke],T,ce),ce!==null);ke++);ce&&(k&&ce.appendChild(k),L||(L=ce),k=ce)}(!v.mixed||!W.isBlock(o))&&(r=W.split(o,r)??r),k&&L&&(c.parentNode?.insertBefore(k,c),L.appendChild(c),gu(v)&&B8(e,v,T,k))}return r},zV=(e,t,o,r,c)=>{const h=e.formatter.get(t),v=h[0],T=e.dom,k=e.selection,L=ge=>{const Te=IV(e,ge,t,o,c);return p5(e,h,Te,ge,ge,!0,v,o)},W=ge=>wi(ge)&&xn(ge)&&(ge.id==="_start"||ge.id==="_end"),G=ge=>Ye(h,Te=>tE(e,Te,o,ge,ge)),Q=ge=>{const Te=Is(ge.childNodes),st=G(ge)||Ye(h,Qt=>gk(T,ge,Qt)),ut=ge.parentNode;if(!st&&We(ut)&&sD(v)&&G(ut),v.deep&&Te.length)for(let Qt=0;Qt<Te.length;Qt++)Q(Te[Qt]);Le(["underline","line-through","overline"],Qt=>{xn(ge)&&e.dom.getStyle(ge,"text-decoration")===Qt&&ge.parentNode&&BB(T,ge.parentNode)===Qt&&tE(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Qt}},void 0,ge)})},ce=ge=>{const Te=T.get(ge?"_start":"_end");if(Te){let nt=Te[ge?"firstChild":"lastChild"];return W(nt)&&(nt=nt[ge?"firstChild":"lastChild"]),cn(nt)&&nt.data.length===0&&(nt=ge?Te.previousSibling||Te.nextSibling:Te.nextSibling||Te.previousSibling),T.remove(Te,!0),nt}else return null},ke=ge=>{let Te,nt,st=y1(T,ge,h,{includeTrailingSpace:ge.collapsed});if(v.split){if(st=_w(st),Te=m5(e,st,!0),nt=m5(e,st),Te!==nt){if(Te=h5(Te,!0),nt=h5(nt,!1),F8(T,Te,nt)){const Bt=X.from(Te.firstChild).getOr(Te);L(g5(T,Bt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ce(!0);return}if(F8(T,nt,Te)){const Bt=X.from(nt.lastChild).getOr(nt);L(g5(T,Bt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ce(!1);return}Te=pk(T,Te,"span",{id:"_start","data-mce-type":"bookmark"}),nt=pk(T,nt,"span",{id:"_end","data-mce-type":"bookmark"});const ut=T.createRng();ut.setStartAfter(Te),ut.setEndBefore(nt),Yg(T,ut,Bt=>{Le(Bt,Qt=>{!wi(Qt)&&!wi(Qt.parentNode)&&L(Qt)})}),L(Te),L(nt),Te=ce(!0),nt=ce()}else Te=nt=L(Te);st.startContainer=Te.parentNode?Te.parentNode:Te,st.startOffset=T.nodeIndex(Te),st.endContainer=nt.parentNode?nt.parentNode:nt,st.endOffset=T.nodeIndex(nt)+1}Yg(T,st,ut=>{Le(ut,Q)})};if(r){if(BS(r)){const ge=T.createRng();ge.setStartBefore(r),ge.setEndAfter(r),ke(ge)}else ke(r);XC(e,t,r,o);return}!k.isCollapsed()||!gu(v)||Xn(e).length?(OB(e,()=>RS(e,ke),ge=>gu(v)&&JD(e,t,o,ge)),e.nodeChanged()):w8(e,t,o,c),Ix(e,t,o),XC(e,t,r,o)},yk=(e,t,o,r,c)=>{(r||e.selection.isEditable())&&zV(e,t,o,r,c)},z8=(e,t,o,r)=>bk(e,t,o,r).fold(()=>X.some(r),c=>X.some(e.dom.rename(r,c)),X.none),tE=(e,t,o,r,c)=>bk(e,t,o,r,c).fold(He,h=>(e.dom.rename(r,h),!0),dt),j8=["fontsize","subscript","superscript"],vk=["strikethrough",...j8],jV=(e,t,o)=>We(e.matchNode(t.dom,o,{},o==="fontsize")),xk=(e,t)=>Ye(j8,o=>jV(e,t,o)),VV=e=>Be(vk,e),V8=(e,t,o,r,c)=>{const h=cl(t,e).filter(da);return mr(h,o).map(v=>{const T=h[v],k=r(T),L=[...c(ki(T)).toArray(),...Io(h.slice(0,v),W=>o(W)?c(W).toArray():[ki(W)])];return{container:T,innerWrapper:k,outerWrappers:L}})},U8=(e,t,o,r)=>{Le(fa(e),c=>{da(c)&&o(c)&&r(c).isNone()&&Gl(c)}),Le(fa(e),c=>Fs(t,c)),ef(e,t)},Z8=(e,t)=>{if(t.length>0){const o=t[t.length-1];ul(e,o);const r=vt(t.slice(0,t.length-1),(c,h)=>(Fs(c,h),h),o);Fs(r,e)}},UV=(e,t,o,r,c)=>{const h=v=>es(_e.fromDom(e.getRoot()),v)||e.isBlock(v.dom);Le(t,v=>{V8(h,v,o,r,c).each(({container:T,innerWrapper:k,outerWrappers:L})=>{e.split(T.dom,v.dom),U8(v,k,o,c),Z8(v,L)})})},b5=(e,t,o)=>{const r=T=>We(tg(e,T.dom,t)),c=T=>{const k=_e.fromTag(ts(T)),L=tg(e,T.dom,t,{});return We(L)&&AV(L)&&Px(e,k.dom,L),k},h=T=>{const k=tg(e,T.dom,t,{});return We(k)?z8(e,k,{},T.dom).map(_e.fromDom):X.some(T)},v=w1(e.selection.getRng());UV(e.dom,o,r,c,h),e.selection.setRng(eg(v))},ZV=(e,t)=>Io(t,o=>{const r=we(o,c=>xk(e,c));return xk(e,o)?[o,...r]:r}),WV=(e,t,o)=>{if(VV(t)){const r=ZV(e.formatter,o);b5(e,"strikethrough",r)}},qV=(e,t)=>{const o=xt(t,r=>xk(e.formatter,r));b5(e,"strikethrough",o)},Gf=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),W8=e=>e.name==="summary",GV=(e,t)=>{let o=e;for(;o=o.walk();)t(o)},y5=(e,t,o,r)=>{const c=o.name;for(let h=0,v=e.length;h<v;h++){const T=e[h];if(T.name===c){const k=r.nodes[c];k?k.nodes.push(o):r.nodes[c]={filter:T,nodes:[o]}}}if(o.attributes)for(let h=0,v=t.length;h<v;h++){const T=t[h],k=T.name;if(k in o.attributes.map){const L=r.attributes[k];L?L.nodes.push(o):r.attributes[k]={filter:T,nodes:[o]}}}},KV=(e,t,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&GV(o,c=>{y5(e,t,c,r)}),r},q8=(e,t)=>{const o=(r,c)=>{_o(r,h=>{const v=Is(h.nodes);Le(h.filter.callbacks,T=>{for(let k=v.length-1;k>=0;k--){const L=v[k];(!(c?L.attr(h.filter.name)!==void 0:L.name===h.filter.name)||dn(L.parent))&&v.splice(k,1)}v.length>0&&T(v,h.filter.name,t)})})};o(e.nodes,!1),o(e.attributes,!0)},G8=(e,t,o,r={})=>{const c=KV(e,t,o);q8(c,r)},iv=(e,t,o,r)=>{if((e.pad_empty_with_br||t.insert)&&o(r)){const h=new Hc("br",1);t.insert&&h.attr("data-mce-bogus","1"),r.empty().append(h)}else r.empty().append(new Hc("#text",3)).value=jr},Rw=e=>YV(e,"#text")&&e?.firstChild?.value===jr,YV=(e,t)=>{const o=e?.firstChild;return We(o)&&o===e.lastChild&&o.name===t},XV=(e,t)=>e.getElementRule(t.name)?.paddEmpty===!0,nE=(e,t,o,r)=>r.isEmpty(t,o,c=>XV(e,c)),g0=(e,t)=>We(e)&&(t(e)||e.name==="br"),QV=e=>{let t;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(t=o)}return X.from(t)},JV=e=>{const t=[];for(let o=e.firstChild;We(o);o=o.walk())t.push(o);return t},Mw=(e,t,o=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const c of r)o&&!t.isValidChild(o.name,c.name)&&Mw(c,t,o);e.unwrap()}},K8=(e,t,o,r=Mt)=>{const c=t.getTextBlockElements(),h=t.getNonEmptyElements(),v=t.getWhitespaceElements(),T=on.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),k=new Set,L=W=>W!==o&&!T[W.name];for(let W=0;W<e.length;W++){const G=e[W];let Q,ce,ke;if(!G.parent||k.has(G))continue;if(c[G.name]&&G.parent.name==="li"){let Te=G.next;for(;Te&&c[Te.name];){Te.name="li",k.add(Te),G.parent.insert(Te,G.parent);Te=Te.next}G.unwrap();continue}const ge=[G];for(Q=G.parent;Q&&!t.isValidChild(Q.name,G.name)&&L(Q);Q=Q.parent)ge.push(Q);if(Q&&ge.length>1)if(oE(t,G,Q))Mw(G,t);else{ge.reverse(),ce=ge[0].clone(),r(ce);let Te=ce;for(let nt=0;nt<ge.length-1;nt++){t.isValidChild(Te.name,ge[nt].name)&&nt>0?(ke=ge[nt].clone(),r(ke),Te.append(ke)):ke=Te;for(let st=ge[nt].firstChild;st&&st!==ge[nt+1];){const ut=st.next;ke.append(st),st=ut}Te=ke}nE(t,h,v,ce)?Q.insert(G,ge[0],!0):(Q.insert(ce,ge[0],!0),Q.insert(G,ce)),Q=ge[0],(nE(t,h,v,Q)||YV(Q,"br"))&&Q.empty().remove()}else if(G.parent){if(G.name==="li"){let Te=G.prev;if(Te&&(Te.name==="ul"||Te.name==="ol")){Te.append(G);continue}if(Te=G.next,Te&&(Te.name==="ul"||Te.name==="ol")&&Te.firstChild){Te.insert(G,Te.firstChild,!0);continue}const nt=new Hc("ul",1);r(nt),G.wrap(nt);continue}if(t.isValidChild(G.parent.name,"div")&&t.isValidChild("div",G.name)){const Te=new Hc("div",1);r(Te),G.wrap(Te)}else Mw(G,t)}}},v5=(e,t)=>{let o=e;for(;o;){if(o.name===t)return!0;o=o.parent}return!1},oE=(e,t,o=t.parent)=>o?e.children[t.name]&&!e.isValidChild(o.name,t.name)||t.name==="a"&&v5(o,"a")?!0:W8(o)&&Gf(t)?!(o?.firstChild===t&&o?.lastChild===t):!1:!1,Y8=(e,t,o,r)=>{const c=document.createRange();return c.setStart(e,t),c.setEnd(o,r),c},eU=e=>{const t=kt.fromRangeStart(e),o=kt.fromRangeEnd(e),r=e.commonAncestorContainer;return Zf(!1,r,o).map(c=>!qg(t,o,r)&&qg(t,c,r)?Y8(t.container(),t.offset(),c.container(),c.offset()):e).getOr(e)},x5=e=>e.collapsed?e:eU(e),Zb=on.explode,X8=()=>{const e={};return{addFilter:(c,h)=>{Le(Zb(c),v=>{Yn(e,v)||(e[v]={name:v,callbacks:[]}),e[v].callbacks.push(h)})},getFilters:()=>yo(e),removeFilter:(c,h)=>{Le(Zb(c),v=>{if(Yn(e,v))if(We(h)){const T=e[v],k=xt(T.callbacks,L=>L!==h);k.length>0?T.callbacks=k:delete e[v]}else delete e[v]})}}},tU=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),nU=e=>e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),Ss=(e,t)=>{Le(t,o=>{e.attr(o,null)})},oU=(e,t,o)=>{e.addNodeFilter("font",r=>{Le(r,c=>{const h=t.parse(c.attr("style")),v=c.attr("color"),T=c.attr("face"),k=c.attr("size");v&&(h.color=v),T&&(h["font-family"]=T),k&&Ef(k).each(L=>{h["font-size"]=o[L-1]}),c.name="span",c.attr("style",t.serialize(h)),Ss(c,["color","face","size"])})})},sU=(e,t,o)=>{e.addNodeFilter("strike",r=>{const c=t.type!=="html4";Le(r,h=>{if(c)h.name="s";else{const v=o.parse(h.attr("style"));v["text-decoration"]="line-through",h.name="span",h.attr("style",o.serialize(v))}})})},Q8=(e,t,o)=>{const r=mm();t.convert_fonts_to_spans&&oU(e,r,on.explode(t.font_size_legacy_values??"")),sU(e,o,r)},rU=(e,t,o)=>{t.inline_styles&&Q8(e,t,o)},aU=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),tl=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},iU=e=>{try{return decodeURIComponent(e)}catch{return e}},w5=e=>{const[t,...o]=e.split(","),r=o.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(c){const h=c[2]===";base64",v=iU(r),T=h?tl(v):v;return X.some({type:c[1],data:T,base64Encoded:h})}else return X.none()},J8=(e,t,o=!0)=>{let r=t;if(o)try{r=atob(t)}catch{return X.none()}const c=new Uint8Array(r.length);for(let h=0;h<c.length;h++)c[h]=r.charCodeAt(h);return X.some(new Blob([c],{type:e}))},lU=e=>new Promise((t,o)=>{w5(e).bind(({type:r,data:c,base64Encoded:h})=>J8(r,c,h)).fold(()=>o("Invalid data URI"),t)}),hi=e=>xo(e,"blob:")?aU(e):xo(e,"data:")?lU(e):Promise.reject("Unknown URI format"),C5=e=>new Promise((t,o)=>{const r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=()=>{o(r.error?.message)},r.readAsDataURL(e)});let eL=0;const cU=e=>"blobid"+eL++,S5=(e,t,o)=>w5(e).bind(({data:r,type:c,base64Encoded:h})=>{if(t&&!h)return X.none();{const v=h?r:btoa(r);return o(v,c)}}),tL=(e,t,o)=>{const r=e.create(cU(),t,o);return e.add(r),r},C1=(e,t,o=!1)=>S5(t,o,(r,c)=>X.from(e.getByData(r,c)).orThunk(()=>J8(c,r).map(h=>tL(e,h,r)))),E5=(e,t)=>{const o=()=>Promise.reject("Invalid data URI");if(xo(t,"blob:")){const r=e.getByUri(t);return We(r)?Promise.resolve(r):hi(t).then(c=>C5(c).then(h=>S5(h,!1,v=>X.some(tL(e,c,v))).getOrThunk(o)))}else return xo(t,"data:")?C1(e,t).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},uU=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,dU=e=>X.from(e.match(uU)).bind(t=>Or(t,1)).map(t=>xo(t,"www.")?t.substring(4):t),wk=(e,t)=>{X.from(e.attr("src")).bind(dU).forall(o=>!Be(t,o))&&e.attr("sandbox","")},T5=(e,t)=>xo(e,`${t}/`),fU=e=>En(e)?"iframe":T5(e,"image")?"img":T5(e,"video")?"video":T5(e,"audio")?"audio":"iframe",ac=({type:e,src:t,width:o,height:r}={},c,h)=>{const v=fU(e),T=new Hc(v,1);return T.attr(v==="audio"?{src:t}:{src:t,width:o,height:r}),(v==="audio"||v==="video")&&T.attr("controls",""),v==="iframe"&&c&&wk(T,h),T},mU=e=>We(e.attr("data-mce-bogus")),lv=e=>e.attr("src")===ls.transparentSrc||We(e.attr("data-mce-placeholder")),hU=(e,t)=>{const{blob_cache:o}=t;if(o){const r=c=>{const h=c.attr("src");lv(c)||mU(c)||dn(h)||C1(o,h,!0).each(v=>{c.attr("src",v.blobUri())})};e.addAttributeFilter("src",c=>Le(c,r))}},gU=(e,t)=>{const o=e.schema;e.addAttributeFilter("href",v=>{let T=v.length;const k=W=>W.split(" ").filter(Q=>Q.length>0).concat(["noopener"]).sort().join(" "),L=W=>{const G=W?on.trim(W):"";return/\b(noopener)\b/g.test(G)?G:k(G)};if(!t.allow_unsafe_link_target)for(;T--;){const W=v[T];W.name==="a"&&W.attr("target")==="_blank"&&W.attr("rel",L(W.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",v=>{let T=v.length,k,L,W,G;for(;T--;)if(G=v[T],G.name==="a"&&G.firstChild&&!G.attr("href"))for(W=G.parent,k=G.lastChild;k&&W;)L=k.prev,W.insert(k,G),k=L}),t.fix_list_elements&&e.addNodeFilter("ul,ol",v=>{let T=v.length,k,L;for(;T--;)if(k=v[T],L=k.parent,L&&(L.name==="ul"||L.name==="ol"))if(k.prev&&k.prev.name==="li")k.prev.append(k);else{const W=new Hc("li",1);W.attr("style","list-style-type: none"),k.wrap(W)}});const r=o.getValidClasses();t.validate&&r&&e.addAttributeFilter("class",v=>{let T=v.length;for(;T--;){const k=v[T],L=k.attr("class")??"",W=on.explode(L," ");let G="";for(let Q=0;Q<W.length;Q++){const ce=W[Q];let ke=!1,ge=r["*"];ge&&ge[ce]&&(ke=!0),ge=r[k.name],!ke&&ge&&ge[ce]&&(ke=!0),ke&&(G&&(G+=" "),G+=ce)}G.length||(G=null),k.attr("class",G)}}),hU(e,t);const c=t.sandbox_iframes??!1,h=Ma(t.sandbox_iframes_exclusions??[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",v=>Le(v,T=>{T.replace(ac({type:T.attr("type"),src:T.name==="object"?T.attr("data"):T.attr("src"),width:T.attr("width"),height:T.attr("height")},c,h))})),c&&e.addNodeFilter("iframe",v=>Le(v,T=>wk(T,h)))};const{entries:nL,setPrototypeOf:oL,isFrozen:pU,getPrototypeOf:bU,getOwnPropertyDescriptor:yU}=Object;let{freeze:Sm,seal:ep,create:sE}=Object,{apply:A5,construct:k5}=typeof Reflect<"u"&&Reflect;Sm||(Sm=function(t){return t}),ep||(ep=function(t){return t}),A5||(A5=function(t,o,r){return t.apply(o,r)}),k5||(k5=function(t,o){return new t(...o)});const _5=Zd(Array.prototype.forEach),rE=Zd(Array.prototype.lastIndexOf),sL=Zd(Array.prototype.pop),Hx=Zd(Array.prototype.push),vU=Zd(Array.prototype.splice),Ck=Zd(String.prototype.toLowerCase),D5=Zd(String.prototype.toString),rL=Zd(String.prototype.match),p0=Zd(String.prototype.replace),zx=Zd(String.prototype.indexOf),Sk=Zd(String.prototype.trim),ah=Zd(Object.prototype.hasOwnProperty),pu=Zd(RegExp.prototype.test),b0=Ek(TypeError);function Zd(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var o=arguments.length,r=new Array(o>1?o-1:0),c=1;c<o;c++)r[c-1]=arguments[c];return A5(e,t,r)}}function Ek(e){return function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return k5(e,o)}}function ua(e,t){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ck;oL&&oL(e,null);let r=t.length;for(;r--;){let c=t[r];if(typeof c=="string"){const h=o(c);h!==c&&(pU(t)||(t[r]=h),c=h)}e[c]=!0}return e}function O5(e){for(let t=0;t<e.length;t++)ah(e,t)||(e[t]=null);return e}function y0(e){const t=sE(null);for(const[o,r]of nL(e))ah(e,o)&&(Array.isArray(r)?t[o]=O5(r):r&&typeof r=="object"&&r.constructor===Object?t[o]=y0(r):t[o]=r);return t}function Bw(e,t){for(;e!==null;){const r=yU(e,t);if(r){if(r.get)return Zd(r.get);if(typeof r.value=="function")return Zd(r.value)}e=bU(e)}function o(){return null}return o}const N5=Sm(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),cv=Sm(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Tk=Sm(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),aL=Sm(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ak=Sm(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),kk=Sm(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),R5=Sm(["#text"]),M5=Sm(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),_k=Sm(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),B5=Sm(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),tp=Sm(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),uv=ep(/\{\{[\w\W]*|[\w\W]*\}\}/gm),np=ep(/<%[\w\W]*|[\w\W]*%>/gm),xU=ep(/\$\{[\w\W]*/gm),wU=ep(/^data-[\-\w.\u00B7-\uFFFF]+$/),CU=ep(/^aria-[\-\w]+$/),iL=ep(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),SU=ep(/^(?:\w+script|data):/i),EU=ep(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),lL=ep(/^html$/i),TU=ep(/^[a-z][.\w]*(-[.\w]+)+$/i);var cL=Object.freeze({__proto__:null,ARIA_ATTR:CU,ATTR_WHITESPACE:EU,CUSTOM_ELEMENT:TU,DATA_ATTR:wU,DOCTYPE_NAME:lL,ERB_EXPR:np,IS_ALLOWED_URI:iL,IS_SCRIPT_OR_DATA:SU,MUSTACHE_EXPR:uv,TMPLIT_EXPR:xU});const aE={element:1,text:3,progressingInstruction:7,comment:8,document:9},AU=function(){return typeof window>"u"?null:window},kU=function(t,o){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const c="data-tt-policy-suffix";o&&o.hasAttribute(c)&&(r=o.getAttribute(c));const h="dompurify"+(r?"#"+r:"");try{return t.createPolicy(h,{createHTML(v){return v},createScriptURL(v){return v}})}catch{return console.warn("TrustedTypes policy "+h+" could not be created."),null}},Dk=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Ok(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:AU();const t=$s=>Ok($s);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==aE.document||!e.Element)return t.isSupported=!1,t;let{document:o}=e;const r=o,c=r.currentScript,{DocumentFragment:h,HTMLTemplateElement:v,Node:T,Element:k,NodeFilter:L,NamedNodeMap:W=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:G,DOMParser:Q,trustedTypes:ce}=e,ke=k.prototype,ge=Bw(ke,"cloneNode"),Te=Bw(ke,"remove"),nt=Bw(ke,"nextSibling"),st=Bw(ke,"childNodes"),ut=Bw(ke,"parentNode");if(typeof v=="function"){const $s=o.createElement("template");$s.content&&$s.content.ownerDocument&&(o=$s.content.ownerDocument)}let Bt,Qt="";const{implementation:Dn,createNodeIterator:ro,createDocumentFragment:Rt,getElementsByTagName:Ct}=o,{importNode:Lt}=r;let _n=Dk();t.isSupported=typeof nL=="function"&&typeof ut=="function"&&Dn&&Dn.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:No,ERB_EXPR:Ro,TMPLIT_EXPR:js,DATA_ATTR:Mr,ARIA_ATTR:wa,IS_SCRIPT_OR_DATA:ni,ATTR_WHITESPACE:Vc,CUSTOM_ELEMENT:Am}=cL;let{IS_ALLOWED_URI:Fn}=cL,ho=null;const Tr=ua({},[...N5,...cv,...Tk,...Ak,...R5]);let fr=null;const xu=ua({},[...M5,..._k,...B5,...tp]);let $t=Object.seal(sE(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),wn=null,Kn=null,Os=!0,vs=!0,zr=!1,km=!0,dp=!1,dg=!0,fh=!1,Av=!1,qd=!1,Yf=!1,ry=!1,DC=!1,M3=!0,ko=!1;const Ws="user-content-";let yl=!0,ja=!1,Wr={},ol=null;const _m=ua({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let xf=null;const fg=ua({},["audio","video","img","source","image","track"]);let ay=null;const B3=ua({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),L3="http://www.w3.org/1998/Math/MathML",xT="http://www.w3.org/2000/svg",L1="http://www.w3.org/1999/xhtml";let OC=L1,$M=!1,F3=null;const soe=ua({},[L3,xT,L1],D5);let IM=ua({},["mi","mo","mn","ms","mtext"]),HM=ua({},["annotation-xml"]);const roe=ua({},["title","style","font","a","script"]);let P3=null;const NC=["application/xhtml+xml","text/html"],OH="text/html";let bt=null,St=null;const In=o.createElement("form"),Cn=function(Tt){return Tt instanceof RegExp||Tt instanceof Function},Fo=function(){let Tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(St&&St===Tt)){if((!Tt||typeof Tt!="object")&&(Tt={}),Tt=y0(Tt),P3=NC.indexOf(Tt.PARSER_MEDIA_TYPE)===-1?OH:Tt.PARSER_MEDIA_TYPE,bt=P3==="application/xhtml+xml"?D5:Ck,ho=ah(Tt,"ALLOWED_TAGS")?ua({},Tt.ALLOWED_TAGS,bt):Tr,fr=ah(Tt,"ALLOWED_ATTR")?ua({},Tt.ALLOWED_ATTR,bt):xu,F3=ah(Tt,"ALLOWED_NAMESPACES")?ua({},Tt.ALLOWED_NAMESPACES,D5):soe,ay=ah(Tt,"ADD_URI_SAFE_ATTR")?ua(y0(B3),Tt.ADD_URI_SAFE_ATTR,bt):B3,xf=ah(Tt,"ADD_DATA_URI_TAGS")?ua(y0(fg),Tt.ADD_DATA_URI_TAGS,bt):fg,ol=ah(Tt,"FORBID_CONTENTS")?ua({},Tt.FORBID_CONTENTS,bt):_m,wn=ah(Tt,"FORBID_TAGS")?ua({},Tt.FORBID_TAGS,bt):y0({}),Kn=ah(Tt,"FORBID_ATTR")?ua({},Tt.FORBID_ATTR,bt):y0({}),Wr=ah(Tt,"USE_PROFILES")?Tt.USE_PROFILES:!1,Os=Tt.ALLOW_ARIA_ATTR!==!1,vs=Tt.ALLOW_DATA_ATTR!==!1,zr=Tt.ALLOW_UNKNOWN_PROTOCOLS||!1,km=Tt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,dp=Tt.SAFE_FOR_TEMPLATES||!1,dg=Tt.SAFE_FOR_XML!==!1,fh=Tt.WHOLE_DOCUMENT||!1,Yf=Tt.RETURN_DOM||!1,ry=Tt.RETURN_DOM_FRAGMENT||!1,DC=Tt.RETURN_TRUSTED_TYPE||!1,qd=Tt.FORCE_BODY||!1,M3=Tt.SANITIZE_DOM!==!1,ko=Tt.SANITIZE_NAMED_PROPS||!1,yl=Tt.KEEP_CONTENT!==!1,ja=Tt.IN_PLACE||!1,Fn=Tt.ALLOWED_URI_REGEXP||iL,OC=Tt.NAMESPACE||L1,IM=Tt.MATHML_TEXT_INTEGRATION_POINTS||IM,HM=Tt.HTML_INTEGRATION_POINTS||HM,$t=Tt.CUSTOM_ELEMENT_HANDLING||{},Tt.CUSTOM_ELEMENT_HANDLING&&Cn(Tt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&($t.tagNameCheck=Tt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Tt.CUSTOM_ELEMENT_HANDLING&&Cn(Tt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&($t.attributeNameCheck=Tt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Tt.CUSTOM_ELEMENT_HANDLING&&typeof Tt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&($t.allowCustomizedBuiltInElements=Tt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),dp&&(vs=!1),ry&&(Yf=!0),Wr&&(ho=ua({},R5),fr=[],Wr.html===!0&&(ua(ho,N5),ua(fr,M5)),Wr.svg===!0&&(ua(ho,cv),ua(fr,_k),ua(fr,tp)),Wr.svgFilters===!0&&(ua(ho,Tk),ua(fr,_k),ua(fr,tp)),Wr.mathMl===!0&&(ua(ho,Ak),ua(fr,B5),ua(fr,tp))),Tt.ADD_TAGS&&(ho===Tr&&(ho=y0(ho)),ua(ho,Tt.ADD_TAGS,bt)),Tt.ADD_ATTR&&(fr===xu&&(fr=y0(fr)),ua(fr,Tt.ADD_ATTR,bt)),Tt.ADD_URI_SAFE_ATTR&&ua(ay,Tt.ADD_URI_SAFE_ATTR,bt),Tt.FORBID_CONTENTS&&(ol===_m&&(ol=y0(ol)),ua(ol,Tt.FORBID_CONTENTS,bt)),yl&&(ho["#text"]=!0),fh&&ua(ho,["html","head","body"]),ho.table&&(ua(ho,["tbody"]),delete wn.tbody),Tt.TRUSTED_TYPES_POLICY){if(typeof Tt.TRUSTED_TYPES_POLICY.createHTML!="function")throw b0('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Tt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw b0('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Bt=Tt.TRUSTED_TYPES_POLICY,Qt=Bt.createHTML("")}else Bt===void 0&&(Bt=kU(ce,c)),Bt!==null&&typeof Qt=="string"&&(Qt=Bt.createHTML(""));Sm&&Sm(Tt),St=Tt}},br=ua({},[...cv,...Tk,...aL]),zl=ua({},[...Ak,...kk]),iy=function(Tt){let bo=ut(Tt);(!bo||!bo.tagName)&&(bo={namespaceURI:OC,tagName:"template"});const Es=Ck(Tt.tagName),Uc=Ck(bo.tagName);return F3[Tt.namespaceURI]?Tt.namespaceURI===xT?bo.namespaceURI===L1?Es==="svg":bo.namespaceURI===L3?Es==="svg"&&(Uc==="annotation-xml"||IM[Uc]):!!br[Es]:Tt.namespaceURI===L3?bo.namespaceURI===L1?Es==="math":bo.namespaceURI===xT?Es==="math"&&HM[Uc]:!!zl[Es]:Tt.namespaceURI===L1?bo.namespaceURI===xT&&!HM[Uc]||bo.namespaceURI===L3&&!IM[Uc]?!1:!zl[Es]&&(roe[Es]||!br[Es]):!!(P3==="application/xhtml+xml"&&F3[Tt.namespaceURI]):!1},F1=function(Tt){Hx(t.removed,{element:Tt});try{ut(Tt).removeChild(Tt)}catch{Te(Tt)}},$3=function(Tt,bo){try{Hx(t.removed,{attribute:bo.getAttributeNode(Tt),from:bo})}catch{Hx(t.removed,{attribute:null,from:bo})}if(bo.removeAttribute(Tt),Tt==="is")if(Yf||ry)try{F1(bo)}catch{}else try{bo.setAttribute(Tt,"")}catch{}},aoe=function(Tt){let bo=null,Es=null;if(qd)Tt="<remove></remove>"+Tt;else{const wf=rL(Tt,/^[\r\n\t ]+/);Es=wf&&wf[0]}P3==="application/xhtml+xml"&&OC===L1&&(Tt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Tt+"</body></html>");const Uc=Bt?Bt.createHTML(Tt):Tt;if(OC===L1)try{bo=new Q().parseFromString(Uc,P3)}catch{}if(!bo||!bo.documentElement){bo=Dn.createDocument(OC,"template",null);try{bo.documentElement.innerHTML=$M?Qt:Uc}catch{}}const mh=bo.body||bo.documentElement;return Tt&&Es&&mh.insertBefore(o.createTextNode(Es),mh.childNodes[0]||null),OC===L1?Ct.call(bo,fh?"html":"body")[0]:fh?bo.documentElement:mh},ioe=function(Tt){return ro.call(Tt.ownerDocument||Tt,Tt,L.SHOW_ELEMENT|L.SHOW_COMMENT|L.SHOW_TEXT|L.SHOW_PROCESSING_INSTRUCTION|L.SHOW_CDATA_SECTION,null)},IJ=function(Tt){return Tt instanceof G&&(typeof Tt.nodeName!="string"||typeof Tt.textContent!="string"||typeof Tt.removeChild!="function"||!(Tt.attributes instanceof W)||typeof Tt.removeAttribute!="function"||typeof Tt.setAttribute!="function"||typeof Tt.namespaceURI!="string"||typeof Tt.insertBefore!="function"||typeof Tt.hasChildNodes!="function")},loe=function(Tt){return typeof T=="function"&&Tt instanceof T};function p2($s,Tt,bo){_5($s,Es=>{Es.call(t,Tt,bo,St)})}const coe=function(Tt){let bo=null;if(p2(_n.beforeSanitizeElements,Tt,null),IJ(Tt))return F1(Tt),!0;const Es=bt(Tt.nodeName);if(p2(_n.uponSanitizeElement,Tt,{tagName:Es,allowedTags:ho}),dg&&Tt.hasChildNodes()&&!loe(Tt.firstElementChild)&&pu(/<[/\w!]/g,Tt.innerHTML)&&pu(/<[/\w!]/g,Tt.textContent)||Tt.nodeType===aE.progressingInstruction||dg&&Tt.nodeType===aE.comment&&pu(/<[/\w]/g,Tt.data))return F1(Tt),!0;if(!ho[Es]||wn[Es]){if(!wn[Es]&&doe(Es)&&($t.tagNameCheck instanceof RegExp&&pu($t.tagNameCheck,Es)||$t.tagNameCheck instanceof Function&&$t.tagNameCheck(Es)))return!1;if(yl&&!ol[Es]){const Uc=ut(Tt)||Tt.parentNode,mh=st(Tt)||Tt.childNodes;if(mh&&Uc){const wf=mh.length;for(let fp=wf-1;fp>=0;--fp){const b2=ge(mh[fp],!0);b2.__removalCount=(Tt.__removalCount||0)+1,Uc.insertBefore(b2,nt(Tt))}}}return F1(Tt),!0}return Tt instanceof k&&!iy(Tt)||(Es==="noscript"||Es==="noembed"||Es==="noframes")&&pu(/<\/no(script|embed|frames)/i,Tt.innerHTML)?(F1(Tt),!0):(dp&&Tt.nodeType===aE.text&&(bo=Tt.textContent,_5([No,Ro,js],Uc=>{bo=p0(bo,Uc," ")}),Tt.textContent!==bo&&(Hx(t.removed,{element:Tt.cloneNode()}),Tt.textContent=bo)),p2(_n.afterSanitizeElements,Tt,null),!1)},uoe=function(Tt,bo,Es){if(M3&&(bo==="id"||bo==="name")&&(Es in o||Es in In))return!1;if(!(vs&&!Kn[bo]&&pu(Mr,bo))){if(!(Os&&pu(wa,bo))){if(!fr[bo]||Kn[bo]){if(!(doe(Tt)&&($t.tagNameCheck instanceof RegExp&&pu($t.tagNameCheck,Tt)||$t.tagNameCheck instanceof Function&&$t.tagNameCheck(Tt))&&($t.attributeNameCheck instanceof RegExp&&pu($t.attributeNameCheck,bo)||$t.attributeNameCheck instanceof Function&&$t.attributeNameCheck(bo))||bo==="is"&&$t.allowCustomizedBuiltInElements&&($t.tagNameCheck instanceof RegExp&&pu($t.tagNameCheck,Es)||$t.tagNameCheck instanceof Function&&$t.tagNameCheck(Es))))return!1}else if(!ay[bo]){if(!pu(Fn,p0(Es,Vc,""))){if(!((bo==="src"||bo==="xlink:href"||bo==="href")&&Tt!=="script"&&zx(Es,"data:")===0&&xf[Tt])){if(!(zr&&!pu(ni,p0(Es,Vc,"")))){if(Es)return!1}}}}}}return!0},doe=function(Tt){return Tt!=="annotation-xml"&&rL(Tt,Am)},foe=function(Tt){p2(_n.beforeSanitizeAttributes,Tt,null);const{attributes:bo}=Tt;if(!bo||IJ(Tt))return;const Es={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:fr,forceKeepAttr:void 0};let Uc=bo.length;for(;Uc--;){const mh=bo[Uc],{name:wf,namespaceURI:fp,value:b2}=mh,zM=bt(wf),HJ=b2;let hh=wf==="value"?HJ:Sk(HJ);if(Es.attrName=zM,Es.attrValue=hh,Es.keepAttr=!0,Es.forceKeepAttr=void 0,p2(_n.uponSanitizeAttribute,Tt,Es),hh=Es.attrValue,ko&&(zM==="id"||zM==="name")&&($3(wf,Tt),hh=Ws+hh),dg&&pu(/((--!?|])>)|<\/(style|title)/i,hh)){$3(wf,Tt);continue}if(Es.forceKeepAttr)continue;if(!Es.keepAttr){$3(wf,Tt);continue}if(!km&&pu(/\/>/i,hh)){$3(wf,Tt);continue}dp&&_5([No,Ro,js],hoe=>{hh=p0(hh,hoe," ")});const moe=bt(Tt.nodeName);if(!uoe(moe,zM,hh)){$3(wf,Tt);continue}if(Bt&&typeof ce=="object"&&typeof ce.getAttributeType=="function"&&!fp)switch(ce.getAttributeType(moe,zM)){case"TrustedHTML":{hh=Bt.createHTML(hh);break}case"TrustedScriptURL":{hh=Bt.createScriptURL(hh);break}}if(hh!==HJ)try{fp?Tt.setAttributeNS(fp,wf,hh):Tt.setAttribute(wf,hh),IJ(Tt)?F1(Tt):sL(t.removed)}catch{$3(wf,Tt)}}p2(_n.afterSanitizeAttributes,Tt,null)},Aue=function $s(Tt){let bo=null;const Es=ioe(Tt);for(p2(_n.beforeSanitizeShadowDOM,Tt,null);bo=Es.nextNode();)p2(_n.uponSanitizeShadowNode,bo,null),coe(bo),foe(bo),bo.content instanceof h&&$s(bo.content);p2(_n.afterSanitizeShadowDOM,Tt,null)};return t.sanitize=function($s){let Tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},bo=null,Es=null,Uc=null,mh=null;if($M=!$s,$M&&($s="<!-->"),typeof $s!="string"&&!loe($s))if(typeof $s.toString=="function"){if($s=$s.toString(),typeof $s!="string")throw b0("dirty is not a string, aborting")}else throw b0("toString is not a function");if(!t.isSupported)return $s;if(Av||Fo(Tt),t.removed=[],typeof $s=="string"&&(ja=!1),ja){if($s.nodeName){const b2=bt($s.nodeName);if(!ho[b2]||wn[b2])throw b0("root node is forbidden and cannot be sanitized in-place")}}else if($s instanceof T)bo=aoe("<!---->"),Es=bo.ownerDocument.importNode($s,!0),Es.nodeType===aE.element&&Es.nodeName==="BODY"||Es.nodeName==="HTML"?bo=Es:bo.appendChild(Es);else{if(!Yf&&!dp&&!fh&&$s.indexOf("<")===-1)return Bt&&DC?Bt.createHTML($s):$s;if(bo=aoe($s),!bo)return Yf?null:DC?Qt:""}bo&&qd&&F1(bo.firstChild);const wf=ioe(ja?$s:bo);for(;Uc=wf.nextNode();)coe(Uc),foe(Uc),Uc.content instanceof h&&Aue(Uc.content);if(ja)return $s;if(Yf){if(ry)for(mh=Rt.call(bo.ownerDocument);bo.firstChild;)mh.appendChild(bo.firstChild);else mh=bo;return(fr.shadowroot||fr.shadowrootmode)&&(mh=Lt.call(r,mh,!0)),mh}let fp=fh?bo.outerHTML:bo.innerHTML;return fh&&ho["!doctype"]&&bo.ownerDocument&&bo.ownerDocument.doctype&&bo.ownerDocument.doctype.name&&pu(lL,bo.ownerDocument.doctype.name)&&(fp="<!DOCTYPE "+bo.ownerDocument.doctype.name+`>
`+fp),dp&&_5([No,Ro,js],b2=>{fp=p0(fp,b2," ")}),Bt&&DC?Bt.createHTML(fp):fp},t.setConfig=function(){let $s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Fo($s),Av=!0},t.clearConfig=function(){St=null,Av=!1},t.isValidAttribute=function($s,Tt,bo){St||Fo({});const Es=bt($s),Uc=bt(Tt);return uoe(Es,Uc,bo)},t.addHook=function($s,Tt){typeof Tt=="function"&&Hx(_n[$s],Tt)},t.removeHook=function($s,Tt){if(Tt!==void 0){const bo=rE(_n[$s],Tt);return bo===-1?void 0:vU(_n[$s],bo,1)[0]}return sL(_n[$s])},t.removeHooks=function($s){_n[$s]=[]},t.removeAllHooks=function(){_n=Dk()},t}var Nk=Ok();const uL=on.each,_U=on.trim,dL=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],fL={ftp:21,http:80,https:443,mailto:25},L5=["img","video"],mL=(e,t)=>We(e)?!e:We(t)?!Be(L5,t):!0,hL=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},Rk=(e,t,o)=>{const r=hL(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?mL(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class op{static parseDataUri(t){let o;const r=decodeURIComponent(t).split(","),c=/data:([^;]+)/.exec(r[0]);return c&&(o=c[1]),{type:o,data:r[1]}}static isDomSafe(t,o,r={}){if(r.allow_script_urls)return!0;{const c=td.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!Rk(r,c,o)}}static getDocumentBaseUrl(t){let o;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?o=t.href??"":o=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(o)&&(o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(o)||(o+="/")),o}source;protocol;authority;userInfo;user;password;host;port;relative;path="";directory="";file;query;anchor;settings;constructor(t,o={}){t=_U(t),this.settings=o;const r=o.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){c.source=t;return}const h=t.indexOf("//")===0;if(t.indexOf("/")===0&&!h&&(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const T=r?r.path:new op(document.location.href).directory;if(r?.protocol==="")t="//mce_host"+c.toAbsPath(T,t);else{const k=/([^#?]*)([#?]?.*)/.exec(t);k&&(t=(r&&r.protocol||"http")+"://mce_host"+c.toAbsPath(T,k[1])+k[2])}}t=t.replace(/@@/g,"(mce_at)");const v=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);v&&uL(dL,(T,k)=>{let L=v[k];L&&(L=L.replace(/\(mce_at\)/g,"@@")),c[T]=L}),r&&(c.protocol||(c.protocol=r.protocol),c.userInfo||(c.userInfo=r.userInfo),!c.port&&c.host==="mce_host"&&(c.port=r.port),(!c.host||c.host==="mce_host")&&(c.host=r.host),c.source=""),h&&(c.protocol="")}setPath(t){const o=/^(.*?)\/?(\w+)?$/.exec(t);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const o=new op(t,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),c=o.getURI();if(r===c||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===c)return r;let h=this.toRelPath(this.path,o.path);return o.query&&(h+="?"+o.query),o.anchor&&(h+="#"+o.anchor),h}toAbsolute(t,o){const r=new op(t,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const o=this.protocol?fL[this.protocol]:null;if(o&&(this.port||o)==(t.port||o))return!0}return!1}toRelPath(t,o){let r=0,c="",h,v;const T=t.substring(0,t.lastIndexOf("/")).split("/"),k=o.split("/");if(T.length>=k.length){for(h=0,v=T.length;h<v;h++)if(h>=k.length||T[h]!==k[h]){r=h+1;break}}if(T.length<k.length){for(h=0,v=k.length;h<v;h++)if(h>=T.length||T[h]!==k[h]){r=h+1;break}}if(r===1)return o;for(h=0,v=T.length-(r-1);h<v;h++)c+="../";for(h=r-1,v=k.length;h<v;h++)h!==r-1?c+="/"+k[h]:c+=k[h];return c}toAbsPath(t,o){let r=0;const c=/\/$/.test(o)?"/":"",h=t.split("/"),v=o.split("/"),T=[];uL(h,G=>{G&&T.push(G)});const k=[];for(let G=v.length-1;G>=0;G--)if(!(v[G].length===0||v[G]===".")){if(v[G]===".."){r++;continue}if(r>0){r--;continue}k.push(v[G])}const L=T.length-r;let W;return L<=0?W=_s(k).join("/"):W=T.slice(0,L).join("/")+"/"+_s(k).join("/"),W.indexOf("/")!==0&&(W="/"+W),c&&W.lastIndexOf("/")!==W.length-1&&(W+=c),W}getURI(t=!1){let o;return(!this.source||t)&&(o="",t||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const DU=on.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),sp="data-mce-type";let ng=0;const iE=(e,t,o,r,c)=>{const h=t.validate,v=o.getSpecialElements();e.nodeType===xl&&(!t.allow_conditional_comments&&/^\[if/i.test(e.nodeValue??"")&&(e.nodeValue=" "+e.nodeValue),t.sanitize&&t.allow_html_in_comments&&J(e.nodeValue)&&(e.nodeValue=tU(e.nodeValue)));const T=c?.tagName??e.nodeName.toLowerCase();if(r!=="html"&&o.isValid(r)){We(c)&&(c.allowedTags[T]=!0);return}if(e.nodeType!==Ch||T==="body")return;const k=_e.fromDom(e),L=Vr(k,sp),W=hr(k,"data-mce-bogus");if(!L&&J(W)){W==="all"?ys(k):Gl(k);return}const G=o.getElementRule(T);if(h&&!G){Yn(v,T)?ys(k):Gl(k);return}else We(c)&&(c.allowedTags[T]=!0);if(h&&G&&!L){if(Le(G.attributesForced??[],Q=>{Ar(k,Q.name,Q.value==="{$uid}"?`mce_${ng++}`:Q.value)}),Le(G.attributesDefault??[],Q=>{Vr(k,Q.name)||Ar(k,Q.name,Q.value==="{$uid}"?`mce_${ng++}`:Q.value)}),G.attributesRequired&&!Ye(G.attributesRequired,Q=>Vr(k,Q))){Gl(k);return}if(G.removeEmptyAttrs&&tf(k)){Gl(k);return}G.outputName&&G.outputName!==T&&Ga(k,G.outputName)}},gL=(e,t,o,r,c)=>{const h=e.tagName.toLowerCase(),{attrName:v,attrValue:T}=c;c.keepAttr=lE(t,o,r,h,v,T),c.keepAttr?(c.allowedAttributes[v]=!0,P5(v,o,e.nodeName)&&(c.attrValue=v),t.allow_svg_data_urls&&xo(T,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):F5(e,v)&&(c.forceKeepAttr=!0)},lE=(e,t,o,r,c,h)=>o!=="html"&&!Rg(r)?!0:!(c in DU&&Rk(e,h,r))&&(!e.validate||t.isValid(r,c)||xo(c,"data-")||xo(c,"aria-")),F5=(e,t)=>e.hasAttribute(sp)&&(t==="id"||t==="class"||t==="style"),P5=(e,t,o)=>e in t.getBoolAttrs()&&!Yn(t.getCustomElements(),o.toLowerCase()),pL=(e,t,o,r)=>{const{attributes:c}=e;for(let h=c.length-1;h>=0;h--){const v=c[h],T=v.name,k=v.value;!lE(t,o,r,e.tagName.toLowerCase(),T,k)&&!F5(e,T)?e.removeAttribute(T):P5(T,o,e.nodeName)&&e.setAttribute(T,T)}},bL=(e,t,o)=>{const r=Nk();return r.addHook("uponSanitizeElement",(c,h)=>{iE(c,e,t,o.track(c),h)}),r.addHook("uponSanitizeAttribute",(c,h)=>{gL(c,e,t,o.current(),h)}),r},yL=(e,t)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body","html"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=t,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},vL=e=>{const t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(r=>`xlink:${r}`),o={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t};Nk().sanitize(e,o)},Mk=(e,t)=>{const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},r=Nk(),c=t.allow_mathml_annotation_encodings,h=qe(c)&&c.length>0,v=k=>{const L=k.getAttribute("encoding");return h&&J(L)&&Be(c,L)},T=(k,L)=>h&&L==="semantics"?X.some(!0):L==="annotation"?X.some(xn(k)&&v(k)):qe(t.extended_mathml_elements)&&t.extended_mathml_elements.includes(L)?X.from(!0):X.none();r.addHook("uponSanitizeElement",(k,L)=>{const W=L.tagName??k.nodeName.toLowerCase();T(k,W).each(Q=>{L.allowedTags[W]=Q,!Q&&t.sanitize&&xn(k)&&k.remove()})}),r.addHook("uponSanitizeAttribute",(k,L)=>{qe(t.extended_mathml_attributes)&&t.extended_mathml_attributes.includes(L.attrName)&&(L.forceKeepAttr=!0)}),r.sanitize(e,o)},$5=e=>t=>{const o=W0(t);if(o==="svg")vL(t);else if(o==="math")Mk(t,e);else throw new Error("Not a namespace element")},OU=(e,t)=>{const o=$v();if(e.sanitize){const r=bL(e,t,o);return{sanitizeHtmlElement:(h,v)=>{r.sanitize(h,yL(e,v)),r.removed=[],o.reset()},sanitizeNamespaceElement:$5(e)}}else return{sanitizeHtmlElement:(h,v)=>{const T=document.createNodeIterator(h,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let k;for(;k=T.nextNode();){const L=o.track(k);iE(k,e,t,L),xn(k)&&pL(k,e,t,L)}o.reset()},sanitizeNamespaceElement:Mt}},xL=["script","style","template","param","meta","title","link"],wL=on.makeMap,CL=on.extend,I5=(e,t,o,r,c)=>{const h=e.name,v=h in o&&h!=="title"&&h!=="textarea"&&h!=="noscript",T=t.childNodes;for(let k=0,L=T.length;k<L;k++){const W=T[k],G=new Hc(W.nodeName.toLowerCase(),W.nodeType);if(xn(W)){const Q=W.attributes;for(let ce=0,ke=Q.length;ce<ke;ce++){const ge=Q[ce];G.attr(ge.name,ge.value)}Rg(G.name)&&(r(W),G.value=W.innerHTML)}else cn(W)?(G.value=W.data,v&&(G.raw=!0)):Xo(W)?G.value=c?nU(W.data):W.data:(_p(W)||Pi(W))&&(G.value=W.data);if(Rh(W)){const Q=Hc.create("#text");Q.value=W.innerHTML,Q.raw=!0,G.append(Q)}else Rg(G.name)||I5(G,W,o,r,c);e.append(G)}},NU=(e,t,o)=>{const r=[];for(let c=e,h=c;c;h=c,c=c.walk()){const v=c;Le(t,T=>T(v)),dn(v.parent)&&v!==e?c=h:r.push(v)}for(let c=r.length-1;c>=0;c--){const h=r[c];Le(o,v=>v(h))}},RU=(e,t,o,r)=>{const c=o.validate,h=t.getNonEmptyElements(),v=t.getWhitespaceElements(),T=CL(wL(xL),t.getBlockElements()),k=Ay(t),L=/[ \t\r\n]+/g,W=/^[ \t\r\n]+/,G=/[ \t\r\n]+$/,Q=st=>{let ut=st.parent;for(;We(ut);){if(ut.name in v)return!0;ut=ut.parent}return!1},ce=st=>{let ut=st;for(;We(ut);){if(ut.name in k)return nE(t,h,v,ut);ut=ut.parent}return!1},ke=st=>st.name in T||uu(t,st)||Rg(st.name)&&st.parent===e,ge=(st,ut)=>{const Bt=ut?st.prev:st.next;return We(Bt)||dn(st.parent)?!1:ke(st.parent)&&(st.parent!==e||r.isRootContent===!0)};return[st=>{if(st.type===3&&!Q(st)){let ut=st.value??"";ut=ut.replace(L," "),(g0(st.prev,ke)||ge(st,!0))&&(ut=ut.replace(W,"")),ut.length===0||ut===" "&&st.prev&&st.prev.type===xl&&st.next&&st.next.type===xl?st.remove():st.value=ut}},st=>{if(st.type===1){const ut=t.getElementRule(st.name);if(c&&ut){const Bt=nE(t,h,v,st);ut.paddInEmptyBlock&&Bt&&ce(st)?iv(o,r,ke,st):ut.removeEmpty&&Bt?ke(st)?st.remove():st.unwrap():ut.paddEmpty&&(Bt||Rw(st))&&iv(o,r,ke,st)}}else if(st.type===3&&!Q(st)){let ut=st.value??"";(st.next&&ke(st.next)||ge(st,!1))&&(ut=ut.replace(G,"")),ut.length===0?st.remove():st.value=ut}}]},H5=(e,t)=>{const o=t.forced_root_block??e.forced_root_block;return o===!1?"":o===!0?"p":o},SL=' xmlns="http://www.w3.org/1999/xhtml"',Lw=(e={},t=Ns())=>{const o=X8(),r=X8(),c={validate:!0,root_name:"body",sanitize:!0,allow_html_in_comments:!1,...e},h=new DOMParser,v=OU(c,t),T=(ut,Bt,Qt="html",Dn=!1)=>{const ro=Qt==="xhtml",Rt=ro?"application/xhtml+xml":"text/html",Ct=Yn(t.getSpecialElements(),Bt.toLowerCase()),Lt=Ct?`<${Bt}>${ut}</${Bt}>`:ut,_n=()=>/^[\s]*<head/i.test(ut)||/^[\s]*<html/i.test(ut)||/^[\s]*<!DOCTYPE/i.test(ut)?`<html${ro?SL:""}>${Lt}</html>`:ro?`<html${SL}><head></head><body>${Lt}</body></html>`:`<body>${Lt}</body>`,No=h.parseFromString(_n(),Rt),Ro=Dn?No.documentElement:No.body;return v.sanitizeHtmlElement(Ro,Rt),Ct?Ro.firstChild:Ro},k=o.addFilter,L=o.getFilters,W=o.removeFilter,G=r.addFilter,Q=r.getFilters,ce=r.removeFilter,ke=(ut,Bt)=>{oE(t,ut)&&Bt.push(ut)},ge=(ut,Bt)=>{const Qt=J(Bt.attr(sp)),Dn=Bt.type===1&&!Yn(ut,Bt.name)&&!uu(t,Bt)&&!Rg(Bt.name);return Bt.type===3||Dn&&!Qt},Te=(ut,Bt)=>{const Qt=CL(wL(xL),t.getBlockElements()),Dn=/^[ \t\r\n]+/,ro=/[ \t\r\n]+$/;let Rt=ut.firstChild,Ct=null;const Lt=_n=>{_n&&(Rt=_n.firstChild,Rt&&Rt.type===3&&(Rt.value=Rt.value?.replace(Dn,"")),Rt=_n.lastChild,Rt&&Rt.type===3&&(Rt.value=Rt.value?.replace(ro,"")))};if(t.isValidChild(ut.name,Bt.toLowerCase())){for(;Rt;){const _n=Rt.next;ge(Qt,Rt)?(Ct||(Ct=new Hc(Bt,1),Ct.attr(c.forced_root_block_attrs),ut.insert(Ct,Rt)),Ct.append(Rt)):(Lt(Ct),Ct=null),Rt=_n}Lt(Ct)}},st={schema:t,addAttributeFilter:G,getAttributeFilters:Q,removeAttributeFilter:ce,addNodeFilter:k,getNodeFilters:L,removeNodeFilter:W,parse:(ut,Bt={})=>{const Qt=c.validate,Dn=(Bt.context??c.root_name)==="#document",ro=Bt.context??(Dn?"html":c.root_name),Rt=T(ut,ro,Bt.format,Dn);ml(t,Rt);const Ct=new Hc(ro,11);I5(Ct,Rt,t.getSpecialElements(),v.sanitizeNamespaceElement,c.sanitize&&c.allow_html_in_comments),Rt.innerHTML="";const[Lt,_n]=RU(Ct,t,c,Bt),No=[],Ro=Qt?ni=>ke(ni,No):Mt,js={nodes:{},attributes:{}},Mr=ni=>y5(L(),Q(),ni,js);NU(Ct,[Lt,Mr],[_n,Ro]),No.reverse(),Qt&&No.length>0&&(Bt.context?Bt.invalid=!0:K8(No,t,Ct,Mr));const wa=H5(c,Bt);return wa&&(Ct.name==="body"||Bt.isRootContent)&&Te(Ct,wa),Bt.invalid||q8(js,Bt),Ct}};return gU(st,c),rU(st,c,t),st},Bk=e=>e instanceof Hc,MU=e=>Bk(e)?nv({validate:!1}).serialize(e):e,EL=(e,t,o)=>{const r=MU(e),c=t(r);if(c.isDefaultPrevented())return c;if(Bk(e))if(c.content!==r){const h=Lw({validate:!1,forced_root_block:!1,...o}).parse(c.content,{context:e.name});return{...c,content:h}}else return{...c,content:e};else return c},TL=e=>({sanitize:lw(e),sandbox_iframes:Qy(e),sandbox_iframes_exclusions:a0(e)}),AL=(e,t)=>{if(t.no_events)return Pe.value(t);{const o=Gy(e,t);return o.isDefaultPrevented()?Pe.error(VT(e,{content:"",...o}).content):Pe.value(o)}},cE=(e,t,o)=>o.no_events?t:EL(t,c=>VT(e,{...o,content:c}),TL(e)).content,uE=(e,t)=>{if(t.no_events)return Pe.value(t);{const o=EL(t.content,r=>y_(e,{...t,content:r}),TL(e));return o.isDefaultPrevented()?(jT(e,o),Pe.error(void 0)):Pe.value(o)}},z5=(e,t,o)=>{o.no_events||jT(e,{...o,content:t})},BU="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),LU=["content_css_cors"],FU="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),j5=[{name:"export",replacedWith:"Export to PDF"}],kL=(e,t)=>{const o=xt(t,r=>Yn(e,r));return Kr(o)},PU=e=>{const t=kL(e,BU),o=e.forced_root_block;return(o===!1||o==="")&&t.push("forced_root_block (false only)"),Kr(t)},V5=e=>kL(e,LU),_L=(e,t)=>{const o=on.makeMap(e.plugins," "),c=xt(t,h=>Yn(o,h));return Kr(c)},$U=e=>_L(e,FU),IU=e=>_L(e,j5.map(t=>t.name)),HU=(e,t)=>{const o=PU(e),r=$U(t),c=r.length>0,h=o.length>0,v=t.theme==="mobile";if(c||h||v){const k=v?`

Themes:
- mobile`:"",L=c?`

Plugins:
- ${r.join(`
- `)}`:"",W=h?`

Options:
- ${o.join(`
- `)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 8.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/8/migration-from-7x/ for more information."+k+L+W)}},zU=e=>Un(j5,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),jU=(e,t)=>{const o=V5(e),r=IU(t),c=r.length>0,h=o.length>0;if(c||h){const T=c?`

Plugins:
- ${r.map(zU).join(`
- `)}`:"",k=h?`

Options:
- ${o.join(`
- `)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+T+k)}},VU=(e,t)=>{HU(e,t),jU(e,t)},Lk={fire:'The "fire" event api has been deprecated and will be removed in TinyMCE 9. Use "dispatch" instead.',selectionSetContent:'The "editor.selection.setContent" method has been deprecated and will be removed in TinyMCE 9. Use "editor.insertContent" instead.'},dE=e=>{console.warn(Lk[e],new Error().stack)},DL=e=>e.dom.length===0?(ys(e),X.none()):X.some(e),UU=(e,t)=>e.filter(o=>Tw.isBookmarkNode(o.dom)).bind(t?Wa:qu),Fk=(e,t,o,r,c)=>{const h=e.dom,v=t.dom,T=r?h.length:v.length;r?(dk(h,v,c,!1,!r),o.setStart(v,T)):(dk(v,h,c,!1,!r),o.setEnd(v,T))},ZU=(e,t,o)=>{Wi(e).each(r=>{const c=e.dom;t&&qS(r,kt(c,0),o)?ck(c,0,o):!t&&md(r,kt(c,c.length),o)&&uk(c,c.length,o)})},OL=(e,t,o,r,c)=>{e.bind(h=>((r?uk:ck)(h.dom,r?h.dom.length:0,c),t.filter(bs).map(T=>Fk(h,T,o,r,c)))).orThunk(()=>UU(t,r).or(t).filter(bs).map(v=>ZU(v,r,c)))},WU=(e,t,o)=>{const r=X.from(t.firstChild).map(_e.fromDom),c=X.from(t.lastChild).map(_e.fromDom);e.deleteContents(),e.insertNode(t);const h=r.bind(qu).filter(bs).bind(DL),v=c.bind(Wa).filter(bs).bind(DL);OL(h,r,e,!0,o),OL(v,c,e,!1,o),e.collapse(!1)},qU=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),GU=(e,t)=>{if(t.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),c=r?{context:r.nodeName.toLowerCase()}:{},h=e.parser.parse(t.content,{forced_root_block:!1,...c,...t});return nv({validate:!1},e.schema).serialize(h)}else return t.content},Pk=(e,t,o={})=>{const r=qU(o,t);uE(e,r).each(c=>{const h=GU(e,c),v=e.selection.getRng();WU(v,v.createContextualFragment(h),e.schema),e.selection.setRng(v),sh(e,v),z5(e,h,c)})},KU=(e,t,o={})=>{dE("selectionSetContent"),Pk(e,t,o)},YU=e=>We(e.firstChild)&&e.firstChild===e.lastChild,XU=e=>e.name==="br"||e.value===jr,QU=(e,t)=>e.getBlockElements()[t.name]&&YU(t)&&XU(t.firstChild),JU=(e,t)=>{const o=e.getNonEmptyElements();return We(t)&&(t.isEmpty(o)||QU(e,t))},Mne=(e,t)=>{let o=t.firstChild,r=t.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),JU(e,r)&&(r=r?.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},rp=e=>{const t=e.firstChild,o=e.lastChild;return t&&t.nodeName==="META"&&t.parentNode?.removeChild(t),o&&o.id==="mce_marker"&&o.parentNode?.removeChild(o),e},NL=(e,t,o)=>{const r=t.serialize(o),c=e.createFragment(r);return rp(c)},eZ=e=>xt(e?.childNodes??[],t=>t.nodeName==="LI"),RL=e=>e.data===jr||ia(e),tZ=e=>We(e?.firstChild)&&e.firstChild===e.lastChild&&RL(e.firstChild),nZ=e=>!e.firstChild||tZ(e),Bne=e=>e.length>0&&nZ(e[e.length-1])?e.slice(0,-1):e,bu=(e,t)=>{const o=e.getParent(t,e.isBlock);return o&&o.nodeName==="LI"?o:null},oZ=(e,t)=>!!bu(e,t),U5=(e,t)=>{const o=t.cloneRange(),r=t.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},ML=(e,t)=>{const o=kt.before(e),c=Xh(t).next(o);return c?c.toRange():null},fE=(e,t)=>{const o=kt.after(e),c=Xh(t).prev(o);return c?c.toRange():null},sZ=(e,t,o,r)=>{const c=U5(e,r),h=e.parentNode;return h&&(h.insertBefore(c[0],e),on.each(t,v=>{h.insertBefore(v,e)}),h.insertBefore(c[1],e),h.removeChild(e)),fE(t[t.length-1],o)},rZ=(e,t,o)=>{const r=e.parentNode;return r&&on.each(t,c=>{r.insertBefore(c,e)}),ML(e,o)},aZ=(e,t,o,r)=>(r.insertAfter(t.reverse(),e),fE(t[0],o)),iZ=(e,t,o,r)=>{const c=NL(t,e,r),h=bu(t,o.startContainer),v=Bne(eZ(c.firstChild)),T=1,k=2,L=t.getRoot(),W=G=>{const Q=kt.fromRangeStart(o),ce=Xh(t.getRoot()),ge=(G===T?ce.prev(Q):ce.next(Q))?.getNode();return ge?bu(t,ge)!==h:!0};return h?W(T)?rZ(h,v,L):W(k)?aZ(h,v,L,t):sZ(h,v,L,o):null},lZ=["pre"],BL=(e,t,o,r)=>{const c=t.firstChild,h=t.lastChild,v=h.attr("data-mce-type")==="bookmark"?h.prev:h,T=c===v,k=Be(lZ,c.name);if(T&&k){const L=c.attr("contenteditable")!=="false",W=e.getParent(o,e.isBlock)?.nodeName.toLowerCase()===c.name,G=X.from(m0(r,o)).forall(Bu);return L&&W&&G}else return!1},Z5=Np,LL=(e,t,o)=>{if(We(o)){const r=e.getParent(t.endContainer,Z5);return o===r&&tD(_e.fromDom(o),t)}else return!1},FL=(e,t)=>{if(e.isBlock(t)&&e.isEditable(t)){const o=t.childNodes;return o.length===1&&ia(o[0])||o.length===0}else return!1},cZ=(e,t,o)=>{o.getAttribute("data-mce-bogus")==="all"?o.parentNode?.insertBefore(e.dom.createFragment(t),o):FL(e.dom,o)?e.dom.setHTML(o,t):Pk(e,t,{no_events:!0})},uZ=(e,t,o)=>{X.from(e.getParent(t,"td,th")).map(_e.fromDom).each(r=>_r(r,o))},dZ=(e,t)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(t){const c=e.getBody(),h=h0(e),v="*[data-mce-fragment]",T=r.select(v);on.each(T,k=>{const L=Q=>We(o[Q.nodeName.toLowerCase()]),W=Q=>Q.childNodes.length===1;if((Q=>!(T6(r,Q)||A6(r,Q)))(k)&&L(k)&&W(k)){const Q=Dw(r,k),ce=(nt,st)=>Gr(nt,ut=>Be(st,ut)),ke=nt=>W(k)&&r.is(nt,v)&&L(nt)&&(nt.nodeName===k.nodeName&&ce(Q,Dw(r,nt))||ke(nt.children[0])),ge=nt=>We(nt)&&nt!==c&&(h.compare(k,nt)||ge(nt.parentElement)),Te=nt=>We(nt)&&nt!==c&&r.is(nt,v)&&(Bj(r,k,nt)||Te(nt.parentElement));(ke(k.children[0])||ge(k.parentElement)&&!Te(k.parentElement))&&r.remove(k,!0)}}),qV(e,Sd(T))}},fZ=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},mZ=e=>{on.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},$k=e=>!!e.getAttribute("data-mce-fragment"),PL=(e,t)=>We(t)&&!e.schema.getVoidElements()[t.nodeName],$L=(e,t)=>{let o;const r=e.dom,c=e.selection;if(!t)return;c.scrollIntoView(t);const h=m0(e.getBody(),t);if(h&&r.getContentEditable(h)==="false"){r.remove(t),c.select(h);return}let v=r.createRng();const T=t.previousSibling;if(cn(T)){v.setStart(T,T.nodeValue?.length??0);const W=t.nextSibling;cn(W)&&(T.appendData(W.data),W.parentNode?.removeChild(W))}else v.setStartBefore(t),v.setEndBefore(t);const k=W=>{let G=kt.fromRangeStart(W);return G=Xh(e.getBody()).next(G),G?.toRange()},L=r.getParent(t,r.isBlock);if(r.remove(t),L&&r.isEmpty(L)){const W=Z5(L);ql(_e.fromDom(L)),v.setStart(L,0),v.setEnd(L,0),!W&&!$k(L)&&(o=k(v))?(v=o,r.remove(L)):r.add(L,r.create("br",W?{}:{"data-mce-bogus":"1"}))}c.setRng(v)},hZ=e=>{const t=e.dom,o=x5(e.selection.getRng());e.selection.setRng(o);const r=t.getParent(o.startContainer,Z5);LL(t,o,r)?mk(e,o,_e.fromDom(r)):Oz(o)||Dz(o)?o.deleteContents():e.getDoc().execCommand("Delete",!1)},IL=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return X.some(t);return X.none()},gZ=(e,t,o)=>Ye(o.children(),Gf)&&e.getParent(t,e.isBlock)?.nodeName==="SUMMARY",pZ=(e,t,o)=>{const r=e.selection,c=e.dom,h=e.parser,v=o.merge,T=nv({validate:!0},e.schema),k='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(t=Fc(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,k);let L=r.getRng();const W=L.startContainer,G=e.getBody();W===G&&r.isCollapsed()&&c.isBlock(G.firstChild)&&PL(e,G.firstChild)&&c.isEmpty(G.firstChild)&&(L=c.createRng(),L.setStart(G.firstChild,0),L.setEnd(G.firstChild,0),r.setRng(L)),r.isCollapsed()||hZ(e);const Q=r.getNode(),ce={context:Q.nodeName.toLowerCase(),data:o.data,insert:!0},ke=h.parse(t,ce);if(o.paste===!0&&Mne(e.schema,ke)&&oZ(c,Q))return L=iZ(T,c,r.getRng(),ke),L&&r.setRng(L),t;o.paste===!0&&BL(c,ke,Q,e.getBody())&&ke.firstChild?.unwrap(),fZ(ke);let ge=ke.lastChild;if(ge&&ge.attr("id")==="mce_marker"){const Te=ge;for(ge=ge.prev;ge&&ge.name!=="table";ge=ge.walk(!0))if(ge.type===3||!c.isBlock(ge.name)){ge.parent&&e.schema.isValidChild(ge.parent.name,"span")&&ge.parent.insert(Te,ge,ge.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(Q),!ce.invalid&&!gZ(c,Q,ke))t=T.serialize(ke),cZ(e,t,Q);else{Pk(e,k);let Te=r.getNode(),nt;const st=e.getBody();for(zm(Te)?Te=nt=st:nt=Te;nt&&nt!==st;)Te=nt,nt=nt.parentNode;t=Te===st?st.innerHTML:c.getOuterHTML(Te);const ut=h.parse(t),Bt=IL(ut),Qt=Bt.bind(QV).getOr(ut);Bt.each(Rt=>Rt.replace(ke));const Dn=JV(ke);ke.unwrap();const ro=xt(Dn,Rt=>oE(e.schema,Rt));K8(ro,e.schema,Qt),G8(h.getNodeFilters(),h.getAttributeFilters(),ut),t=T.serialize(ut),Te===st?c.setHTML(st,t):c.setOuterHTML(Te,t)}return dZ(e,v),$L(e,c.get("mce_marker")),mZ(e.getBody()),uZ(c,r.getStart(),e.schema),rb(e.schema,e.getBody(),r.getStart()),t},bZ=e=>{kw(e)&&H(e.getBody()).each(t=>{const o=t.getNode(),r=lu(o)?H(o).getOr(t):t;e.selection.setRng(r.toRange())})},mE=(e,t,o)=>{e.dom.setHTML(e.getBody(),t),o!==!0&&bZ(e)},W5=(e,t,o,r)=>{if(o=Fc(o),o.length===0||/^\s+$/.test(o)){const c='<br data-mce-bogus="1">';t.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(o="<li>"+c+"</li>");const h=bl(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),h.toLowerCase())?(o=c,o=e.dom.createHTML(h,th(e),o)):o||(o=c),mE(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=nv({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const c=Ny(_e.fromDom(t))?o:on.trim(o);return mE(e,c,r.no_selection),{content:c,html:c}}},yZ=(e,t,o,r)=>{G8(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const c=nv({validate:!1},e.schema).serialize(o),h=Fc(Ny(_e.fromDom(t))?c:on.trim(c));return mE(e,h,r.no_selection),{content:o,html:h}},q5=(e,t,o)=>X.from(e.getBody()).map(r=>Bk(t)?yZ(e,r,t,o):W5(e,r,t,o)).getOr({content:t,html:Bk(o.content)?"":o.content}),hE={},HL=Qu(["pre"]),vZ=(e,t)=>{hE[e]||(hE[e]=[]),hE[e].push(t)},xZ=(e,t)=>{Yn(hE,e)&&Le(hE[e],o=>{o(t)})};vZ("pre",e=>{const t=e.selection.getRng(),o=c=>h=>{const v=h.previousSibling;return HL(v)&&Be(c,v)},r=(c,h)=>{const v=_e.fromDom(h),T=Qc(v).dom;ys(v),hc(_e.fromDom(c),[_e.fromTag("br",T),_e.fromTag("br",T),...fa(v)])};if(!t.collapsed){const c=e.selection.getSelectedBlocks(),h=xt(xt(c,HL),o(c));Le(h,v=>{r(v.previousSibling,v)})}});const zL=on.each,wZ=(e,t,o,r)=>{const c=h=>{if(au(h)&&xn(h.parentNode)&&e.isEditable(h)){const v=BB(e,h.parentNode);e.getStyle(h,"color")&&v?e.setStyle(h,"text-decoration",v):e.getStyle(h,"text-decoration")===v&&e.setStyle(h,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(on.walk(r,c,"childNodes"),c(r))},jL=(e,t,o,r)=>{if(t.styles&&t.styles.backgroundColor){const c=d5(e,"fontSize");u5(r,h=>c(h)&&e.isEditable(h),L8(e,"backgroundColor",Hb(t.styles.backgroundColor,o)))}},CZ=(e,t,o,r)=>{if(gu(t)&&(t.inline==="sub"||t.inline==="sup")){const c=d5(e,"fontSize");u5(r,v=>c(v)&&e.isEditable(v),L8(e,"fontSize",""));const h=xt(e.select(t.inline==="sup"?"sub":"sup",r),e.isEditable);e.remove(h,!0)}},SZ=(e,t,o,r)=>{zL(t,c=>{gu(c)&&zL(e.dom.select(c.inline,r),h=>{c5(h)&&tE(e,c,o,h,c.exact?h:null)}),LV(e.dom,c,r)})},EZ=(e,t,o,r,c)=>{const h=c.parentNode;tg(e,h,o,r)&&tE(e,t,r,c)||t.merge_with_parents&&h&&e.dom.getParent(h,v=>tg(e,v,o,r)?(tE(e,t,r,c),!0):!1)},TZ=on.each,AZ=(e,t,o,r)=>{if(AB(e)&&gu(t)&&o.parentNode){const c=Ay(e.schema),h=kn(_e.fromDom(o),v=>ue(v.dom));return ss(c,r)&&uo(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!h}else return!1},kZ=(e,t,o,r)=>{const c=e.formatter.get(t),h=c[0],v=!r&&e.selection.isCollapsed(),T=e.dom,k=e.selection,L=(ce,ke)=>{let ge=!1;return TZ(ce,Te=>Kg(Te)?T.getContentEditable(ke)==="false"&&!Te.ceFalseOverride||We(Te.collapsed)&&Te.collapsed!==v?!0:T.is(ke,Te.selector)&&!ue(ke)?(Px(e,ke,Te,o,ke),ge=!0,!1):!0:!1),ge},W=ce=>{if(J(ce)){const ke=T.create(ce);return Px(e,ke,h,o,r),ke}else return null},G=(ce,ke,ge)=>{const Te=[];let nt=!0;const st=h.inline||h.block,ut=W(st),Bt=ro=>Mz(h)&&tg(e,ro,t,o),Qt=(ro,Rt,Ct)=>{const Lt=Bz(h)&&FS(e.schema,ro)&&Sw(e,Rt,st);return Ct&&Lt},Dn=(ro,Rt,Ct,Lt)=>{const _n=ro.nodeName.toLowerCase(),No=Sw(e,st,_n)&&Sw(e,Rt,st),Ro=!ge&&cn(ro)&&$g(ro.data),js=ue(ro),Mr=!gu(h)||!ce.isBlock(ro);return(Ct||Lt)&&No&&!Ro&&!js&&Mr};Yg(ce,ke,ro=>{let Rt;const Ct=Lt=>{let _n=!1,No=nt,Ro=!1;const js=Lt.parentNode,Mr=js.nodeName.toLowerCase(),wa=ce.getContentEditable(Lt);We(wa)&&(No=nt,nt=wa==="true",_n=!0,Ro=MB(e,Lt));const ni=nt&&!_n;if(ia(Lt)&&!AZ(e,h,Lt,Mr)){Rt=null,u0(h)&&ce.remove(Lt);return}if(Bt(Lt)){Rt=null;return}if(Qt(Lt,Mr,ni)){const Vc=ce.rename(Lt,st);Px(e,Vc,h,o,Lt),Te.push(Vc),Rt=null;return}if(Kg(h)){let Vc=L(c,Lt);if(!Vc&&We(js)&&sD(h)&&(Vc=L(c,js)),!gu(h)||Vc){Rt=null;return}}We(ut)&&Dn(Lt,Mr,ni,Ro)?(Rt||(Rt=ce.clone(ut,!1),js.insertBefore(Rt,Lt),Te.push(Rt)),Ro&&_n&&(nt=No),Rt.appendChild(Lt)):(Rt=null,Le(Is(Lt.childNodes),Ct),_n&&(nt=No),Rt=null)};Le(ro,Ct)}),h.links===!0&&Le(Te,ro=>{const Rt=Ct=>{Ct.nodeName==="A"&&Px(e,Ct,h,o,r),Le(Is(Ct.childNodes),Rt)};Rt(ro)}),WV(e,t,Sd(Te)),Le(Te,ro=>{const Rt=_n=>{let No=0;return Le(_n.childNodes,Ro=>{!Nz(Ro)&&!wi(Ro)&&No++}),No},Ct=_n=>Un(_n.childNodes,LS).filter(Ro=>ce.getContentEditable(Ro)!=="false"&&gk(ce,Ro,h)).map(Ro=>{const js=ce.clone(Ro,!1);return Px(e,js,h,o,_n),ce.replace(js,_n,!0),ce.remove(Ro,!0),js}).getOr(_n),Lt=Rt(ro);if((Te.length>1||!ce.isBlock(ro))&&Lt===0){ce.remove(ro,!0);return}(gu(h)||u0(h)&&h.wrapper)&&(!h.exact&&Lt===1&&(ro=Ct(ro)),SZ(e,c,o,ro),EZ(e,h,t,o,ro),jL(ce,h,o,ro),wZ(ce,h,o,ro),CZ(ce,h,o,ro),B8(e,h,o,ro))})},Q=BS(r)?r:k.getNode();if(T.getContentEditable(Q)==="false"&&!MB(e,Q)){r=Q,L(c,r),s0(e,t,r,o);return}if(h){if(r)if(BS(r)){if(!L(c,r)){const ce=T.createRng();ce.setStartBefore(r),ce.setEndAfter(r),G(T,y1(T,ce,c),!0)}}else G(T,r,!0);else!v||!gu(h)||Xn(e).length?(k.setRng(x5(k.getRng())),OB(e,()=>{RS(e,(ce,ke)=>{const ge=ke?ce:y1(T,ce,c);G(T,ge,!1)})},dt),e.nodeChanged()):x8(e,t,o),MV(e.formatter,t).each(ce=>{const ke=l5(e.selection);Le(ke,ge=>XD(T,ge,ce,o))});xZ(t,e)}s0(e,t,r,o)},VL=(e,t,o,r)=>{(r||e.selection.isEditable())&&kZ(e,t,o,r)},jx=e=>Yn(e,"vars"),Ik=(e,t)=>{e.set({}),t.on("NodeChange",o=>{ZL(t,o.element,e.get())}),t.on("FormatApply FormatRemove",o=>{const r=X.from(o.node).map(c=>BS(c)?c:c.startContainer).bind(c=>xn(c)?X.some(c):X.from(c.parentElement)).getOrThunk(()=>G5(t));ZL(t,r,e.get())})},G5=e=>e.selection.getStart(),K5=(e,t,o,r,c)=>ln(t,T=>{const k=e.formatter.matchNode(T,o,c??{},r);return!En(k)},T=>m8(e,T,o)?!0:r?!1:We(e.formatter.matchNode(T,o,c,!0))),UL=(e,t)=>{const o=t??G5(e);return xt(IA(e.dom,o),r=>xn(r)&&!Hm(r))},ZL=(e,t,o)=>{const r=UL(e,t);_o(o,(c,h)=>{const v=T=>{const k=K5(e,r,h,T.similar,jx(T)?T.vars:void 0),L=k.isSome();if(T.state.get()!==L){T.state.set(L);const W=k.getOr(t);jx(T)?T.callback(L,{node:W,format:h,parents:r}):Le(T.callbacks,G=>G(L,{node:W,format:h,parents:r}))}};Le([c.withSimilar,c.withoutSimilar],v),Le(c.withVars,v)})},Y5=(e,t,o,r,c,h)=>{const v=t.get();Le(o.split(","),T=>{const k=Do(v,T).getOrThunk(()=>{const W={withSimilar:{state:Bn(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Bn(!1),similar:!1,callbacks:[]},withVars:[]};return v[T]=W,W}),L=()=>{const W=UL(e);return K5(e,W,T,c,h).isSome()};if(En(h)){const W=c?k.withSimilar:k.withoutSimilar;W.callbacks.push(r),W.callbacks.length===1&&W.state.set(L())}else k.withVars.push({state:Bn(L()),similar:c,vars:h,callback:r})}),t.set(v)},_Z=(e,t,o)=>{const r=e.get();Le(t.split(","),c=>Do(r,c).each(h=>{r[c]={withSimilar:{...h.withSimilar,callbacks:xt(h.withSimilar.callbacks,v=>v!==o)},withoutSimilar:{...h.withoutSimilar,callbacks:xt(h.withoutSimilar.callbacks,v=>v!==o)},withVars:xt(h.withVars,v=>v.callback!==o)}})),e.set(r)},DZ=(e,t,o,r,c,h)=>(Y5(e,t,o,r,c,h),{unbind:()=>_Z(t,o,r)}),OZ=(e,t,o,r)=>{const c=e.formatter.get(t);c&&(JD(e,t,o,r)&&(!("toggle"in c[0])||c[0].toggle)?yk(e,t,o,r):VL(e,t,o,r))},X5=(e,t,o)=>({element:e,width:t,rows:o}),WL=(e,t)=>({element:e,cells:t}),Hk=(e,t)=>({x:e,y:t}),Fw=(e,t)=>dl(e,t).bind(Ef).getOr(1),NZ=(e,t,o,r,c)=>{const h=Fw(c,"rowspan"),v=Fw(c,"colspan"),T=e.rows;for(let k=o;k<o+h;k++){T[k]||(T[k]=WL(Df(r),[]));for(let L=t;L<t+v;L++){const W=T[k].cells;W[L]=k===o&&L===t?c:ki(c)}}},Pw=(e,t,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[t]},ih=(e,t,o)=>{for(;Pw(e,t,o);)t++;return t},$w=e=>vt(e,(t,o)=>o.cells.length>t?o.cells.length:t,0),Ir=(e,t)=>{const o=e.rows;for(let r=0;r<o.length;r++){const c=o[r].cells;for(let h=0;h<c.length;h++)if(es(c[h],t))return X.some(Hk(h,r))}return X.none()},Iw=(e,t,o,r,c)=>{const h=[],v=e.rows;for(let T=o;T<=c;T++){const k=v[T].cells,L=t<r?k.slice(t,r+1):k.slice(r,t+1);h.push(WL(v[T].element,L))}return h},qL=(e,t,o)=>{const r=t.x,c=t.y,h=o.x,v=o.y,T=c<v?Iw(e,r,c,h,v):Iw(e,r,v,h,c);return X5(e.element,$w(T),T)},GL=(e,t)=>{const o=ki(e.element),r=_e.fromTag("tbody");return hc(r,t),Fs(o,r),o},zk=e=>et(e.rows,t=>{const o=et(t.cells,c=>{const h=Df(c);return ci(h,"colspan"),ci(h,"rowspan"),h}),r=ki(t.element);return hc(r,o),r}),Q5=e=>{const t=X5(ki(e),0,[]);return Le(At(e,"tr"),(o,r)=>{Le(At(o,"td,th"),(c,h)=>{NZ(t,ih(t,h,r),r,o,c)})}),X5(t.element,$w(t.rows),t.rows)},J5=e=>GL(e,zk(e)),eO=(e,t,o)=>Ir(e,t).bind(r=>Ir(e,o).map(c=>qL(e,r,c))),tO=e=>Un(e,t=>ts(t)==="ul"||ts(t)==="ol"),jk=(e,t)=>Un(e,o=>ts(o)==="li"&&tD(o,t)).fold(at([]),o=>tO(e).map(r=>{const c=_e.fromTag(ts(r)),h=Gn(of(r),(v,T)=>xo(T,"list-style"));return fl(c,h),[_e.fromTag("li"),c]}).getOr([])),nO=(e,t)=>{const o=vt(t,(r,c)=>(Fs(c,r),c),e);return t.length>0?Ou([o]):o},KL=e=>mu(e)?Wi(e).filter(Id).fold(at([]),t=>[e,t]):Id(e)?[e]:[],YL=(e,t,o)=>{const r=_e.fromDom(t.commonAncestorContainer),c=Jg(r,e),h=xt(c,k=>o.isWrapper(ts(k))),v=jk(c,t),T=h.concat(v.length?v:KL(r));return et(T,ki)},oO=()=>Ou([]),XL=(e,t,o)=>nO(_e.fromDom(t.cloneContents()),YL(e,t,o)),QL=(e,t)=>ka(t,"table",le(es,e)),Vx=(e,t)=>QL(e,t[0]).bind(o=>{const r=t[0],c=t[t.length-1],h=Q5(o);return eO(h,r,c).map(v=>Ou([J5(v)]))}).getOrThunk(oO),JL=(e,t,o)=>t.length>0&&t[0].collapsed?oO():XL(e,t[0],o),sO=(e,t,o)=>{const r=BA(t,e);return r.length>0?Vx(e,r):JL(e,t,o)},Vk=(e,t)=>t>=0&&t<e.length&&Wf(e.charAt(t)),eF=e=>Fc(e.innerText),tF=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),nF=e=>X.from(e.selection.getRng()).map(t=>{const o=X.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),r=e.getBody(),c=tF(o),h=_e.fromDom(t.cloneContents());w6(h),C6(h);const v=e.dom.add(r,c,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},h.dom),T=eF(v),k=Fc(v.textContent??"");if(e.dom.remove(v),Vk(k,0)||Vk(k,k.length-1)){const L=o.getOr(r),W=eF(L),G=W.indexOf(T);if(G===-1)return T;{const Q=Vk(W,G-1),ce=Vk(W,G+T.length);return(Q?" ":"")+T+(ce?" ":"")}}else return T}).getOr(""),oF=(e,t)=>{const o=e.selection.getRng(),r=e.dom.create("body"),c=e.selection.getSel(),h=ED(e,ww(c)),v=t.contextual?sO(_e.fromDom(e.getBody()),h,e.schema).dom:o.cloneContents();return v&&r.appendChild(v),e.selection.serializer.serialize(r,t)},Uk=(e,t)=>{if(t.format==="text")return nF(e);{const o=oF(e,t);return t.format==="tree"?o:e.selection.isCollapsed()?"":o}},sF=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),rF=(e,t,o={})=>{const r=sF(o,t);return AL(e,r).fold(Jn,c=>{const h=Uk(e,c);return cE(e,h,c)})},Zk=0,rO=1,aO=2,aF=(e,t)=>{const o=e.length+t.length+2,r=new Array(o),c=new Array(o),h=(W,G,Q)=>({start:W,end:G,diag:Q}),v=(W,G,Q,ce,ke)=>{const ge=k(W,G,Q,ce);if(ge===null||ge.start===G&&ge.diag===G-ce||ge.end===W&&ge.diag===W-Q){let Te=W,nt=Q;for(;Te<G||nt<ce;)Te<G&&nt<ce&&e[Te]===t[nt]?(ke.push([Zk,e[Te]]),++Te,++nt):G-W>ce-Q?(ke.push([aO,e[Te]]),++Te):(ke.push([rO,t[nt]]),++nt)}else{v(W,ge.start,Q,ge.start-ge.diag,ke);for(let Te=ge.start;Te<ge.end;++Te)ke.push([Zk,e[Te]]);v(ge.end,G,ge.end-ge.diag,ce,ke)}},T=(W,G,Q,ce)=>{let ke=W;for(;ke-G<ce&&ke<Q&&e[ke]===t[ke-G];)++ke;return h(W,ke,G)},k=(W,G,Q,ce)=>{const ke=G-W,ge=ce-Q;if(ke===0||ge===0)return null;const Te=ke-ge,nt=ge+ke,st=(nt%2===0?nt:nt+1)/2;r[1+st]=W,c[1+st]=G+1;let ut,Bt,Qt,Dn,ro;for(ut=0;ut<=st;++ut){for(Bt=-ut;Bt<=ut;Bt+=2){for(Qt=Bt+st,Bt===-ut||Bt!==ut&&r[Qt-1]<r[Qt+1]?r[Qt]=r[Qt+1]:r[Qt]=r[Qt-1]+1,Dn=r[Qt],ro=Dn-W+Q-Bt;Dn<G&&ro<ce&&e[Dn]===t[ro];)r[Qt]=++Dn,++ro;if(Te%2!==0&&Te-ut<=Bt&&Bt<=Te+ut&&c[Qt-Te]<=r[Qt])return T(c[Qt-Te],Bt+W-Q,G,ce)}for(Bt=Te-ut;Bt<=Te+ut;Bt+=2){for(Qt=Bt+st-Te,Bt===Te-ut||Bt!==Te+ut&&c[Qt+1]<=c[Qt-1]?c[Qt]=c[Qt+1]-1:c[Qt]=c[Qt-1],Dn=c[Qt]-1,ro=Dn-W+Q-Bt;Dn>=W&&ro>=Q&&e[Dn]===t[ro];)c[Qt]=Dn--,ro--;if(Te%2===0&&-ut<=Bt&&Bt<=ut&&c[Qt]<=r[Qt+Te])return T(c[Qt],Bt+W-Q,G,ce)}}return null},L=[];return v(0,e.length,0,t.length,L),L},iO=e=>xn(e)?e.outerHTML:cn(e)?td.encodeRaw(e.data,!1):Xo(e)?"<!--"+e.data+"-->":"",iF=e=>{let t;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);t=o.firstChild;)r.appendChild(t);return r},lF=(e,t,o)=>{const r=iF(t);if(e.hasChildNodes()&&o<e.childNodes.length){const c=e.childNodes[o];e.insertBefore(r,c)}else e.appendChild(r)},cF=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const o=e.childNodes[t];e.removeChild(o)}},lO=(e,t)=>{let o=0;Le(e,r=>{r[0]===Zk?o++:r[0]===rO?(lF(t,r[1],o),o++):r[0]===aO&&cF(t,o)})},uF=(e,t)=>xt(et(Is(e.childNodes),P(Fc,iO)),o=>o.length>0),dF=(e,t)=>{const o=et(Is(t.childNodes),iO);return lO(aF(o,e),t),t},fF=Ri(()=>document.implementation.createHTMLDocument("undo")),mF=e=>e.querySelector(`iframe, ${xy}`)!==null,hF=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),gF=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),gE=e=>{const t=e.serializer.getTempAttrs(),o=x6(e.getBody(),t);return mF(o)?hF(uF(o)):gF(Fc(o.innerHTML))},pE=(e,t,o)=>{const r=o?t.beforeBookmark:t.bookmark;t.type==="fragmented"?dF(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:We(r)&&On(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},Hw=e=>e.type==="fragmented"?e.fragments.join(""):e.content,cO=(e,t)=>{const o=_e.fromTag("body",fF());return nf(o,Hw(t)),Le(At(o,"*[data-mce-bogus]"),Gl),e&&Le(At(o,"details[open]"),r=>ci(r,"open")),Bi(o)},RZ=(e,t)=>Hw(e)===Hw(t),pF=(e,t,o)=>cO(e,t)===cO(e,o),zw=(e,t,o)=>!t||!o?!1:RZ(t,o)?!0:pF(e,t,o),bE=e=>e.get()===0,dv=(e,t,o)=>{bE(o)&&(e.typing=t)},Wk=(e,t)=>{e.typing&&(dv(e,!1,t),e.add())},bF=e=>{e.typing&&(e.typing=!1,e.add())},jw=(e,t,o)=>{bE(t)&&o.set(mf(e.selection))},uO=(e,t,o,r,c,h,v)=>{const T=gE(e),k=on.extend(h||{},T);if(!bE(r)||e.removed)return null;const L=t.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:k,lastLevel:L,originalEvent:v}).isDefaultPrevented()||L&&zw(e.readonly,L,k))return null;t.data[o.get()]&&c.get().each(Q=>{t.data[o.get()].beforeBookmark=Q});const W=uA(e);if(W&&t.data.length>W){for(let Q=0;Q<t.data.length-1;Q++)t.data[Q]=t.data[Q+1];t.data.length--,o.set(t.data.length)}k.bookmark=mf(e.selection),o.get()<t.data.length-1&&(t.data.length=o.get()+1),t.data.push(k),o.set(t.data.length-1);const G={level:k,lastLevel:L,originalEvent:v};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",G),e.dispatch("change",G)):e.dispatch("AddUndo",G),k},dO=(e,t,o)=>{t.data=[],o.set(0),t.typing=!1,e.dispatch("ClearUndos")},Vw=(e,t,o,r,c)=>{if(t.transact(r)){const h=t.data[o.get()].bookmark,v=t.data[o.get()-1];pE(e,v,!0),t.transact(c)&&(t.data[o.get()-1].beforeBookmark=h)}},fv=(e,t,o)=>{let r;return t.get()<o.length-1&&(t.set(t.get()+1),r=o[t.get()],pE(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},yF=(e,t,o,r)=>{let c;return t.typing&&(t.add(),t.typing=!1,dv(t,!1,o)),r.get()>0&&(r.set(r.get()-1),c=t.data[r.get()],pE(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},MZ=e=>{e.clear(),e.add()},BZ=(e,t,o)=>o.get()>0||t.typing&&t.data[0]&&!zw(e.readonly,gE(e),t.data[0]),vF=(e,t)=>t.get()<e.data.length-1&&!e.typing,xF=(e,t,o)=>(Wk(e,t),e.beforeChange(),e.ignore(o),e.add()),wF=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},LZ=(e,t)=>{const o=e.dom,r=We(t)?t:e.getBody();Le(o.select("table,a",r),c=>{switch(c.nodeName){case"TABLE":const h=fA(e),v=o.getAttrib(c,"border");(!v||v==="0")&&e.hasVisual?o.addClass(c,h):o.removeClass(c,h);break;case"A":if(!o.getAttrib(c,"href")){const T=o.getAttrib(c,"name")||c.id,k=rw(e);T&&e.hasVisual?o.addClass(c,k):o.removeClass(c,k)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},Wb=e=>({init:{bindEvents:Mt},undoManager:{beforeChange:(t,o)=>jw(e,t,o),add:(t,o,r,c,h,v)=>uO(e,t,o,r,c,h,v),undo:(t,o,r)=>yF(e,t,o,r),redo:(t,o)=>fv(e,t,o),clear:(t,o)=>dO(e,t,o),reset:t=>MZ(t),hasUndo:(t,o)=>BZ(e,t,o),hasRedo:(t,o)=>vF(t,o),transact:(t,o,r)=>xF(t,o,r),ignore:(t,o)=>wF(t,o),extra:(t,o,r,c)=>Vw(e,t,o,r,c)},formatter:{match:(t,o,r,c)=>JD(e,t,o,r,c),matchAll:(t,o)=>e5(e,t,o),matchNode:(t,o,r,c)=>tg(e,t,o,r,c),canApply:t=>t5(e,t),closest:t=>g8(e,t),apply:(t,o,r)=>VL(e,t,o,r),remove:(t,o,r,c)=>yk(e,t,o,r,c),toggle:(t,o,r)=>OZ(e,t,o,r),formatChanged:(t,o,r,c,h)=>DZ(e,t,o,r,c,h)},editor:{getContent:t=>Oj(e,t),setContent:(t,o)=>q5(e,t,o),insertContent:(t,o)=>pZ(e,t,o),addVisual:t=>LZ(e,t)},selection:{getContent:(t,o)=>rF(e,t,o)},autocompleter:{addDecoration:Mt,removeDecoration:Mt},raw:{getModel:()=>X.none()}}),Ux=e=>{const t=L=>rt(L)?L:{},{init:o,undoManager:r,formatter:c,editor:h,selection:v,autocompleter:T,raw:k}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(L,W,G)=>r.transact(G),ignore:(L,W)=>r.ignore(W),extra:(L,W,G,Q)=>r.extra(G,Q)},formatter:{match:(L,W,G,Q)=>c.match(L,t(W),Q),matchAll:c.matchAll,matchNode:c.matchNode,canApply:L=>c.canApply(L),closest:L=>c.closest(L),apply:(L,W,G)=>c.apply(L,t(W)),remove:(L,W,G,Q)=>c.remove(L,t(W)),toggle:(L,W,G)=>c.toggle(L,t(W)),formatChanged:(L,W,G,Q,ce)=>c.formatChanged(W,G,Q,ce)},editor:{getContent:L=>h.getContent(L),setContent:(L,W)=>({content:h.setContent(L,W),html:""}),insertContent:(L,W)=>(h.insertContent(L),""),addVisual:h.addVisual},selection:{getContent:(L,W)=>v.getContent(W)},autocompleter:{addDecoration:T.addDecoration,removeDecoration:T.removeDecoration},raw:{getModel:()=>X.some(k.getRawModel())}}},CF=()=>{const e=at(null),t=at("");return{init:{bindEvents:Mt},undoManager:{beforeChange:Mt,add:e,undo:e,redo:e,clear:Mt,reset:Mt,hasUndo:He,hasRedo:He,transact:e,ignore:Mt,extra:Mt},formatter:{match:He,matchAll:at([]),matchNode:at(void 0),canApply:He,closest:t,apply:Mt,remove:Mt,toggle:Mt,formatChanged:at({unbind:Mt})},editor:{getContent:t,setContent:at({content:"",html:""}),insertContent:at(""),addVisual:Mt},selection:{getContent:t},autocompleter:{addDecoration:Mt,removeDecoration:Mt},raw:{getModel:at(X.none())}}},v0=e=>Yn(e.plugins,"rtc"),FZ=e=>Do(e.plugins,"rtc").bind(t=>X.from(t.setup)),PZ=e=>{const t=e;return FZ(e).fold(()=>(t.rtcInstance=Wb(e),X.none()),o=>(t.rtcInstance=CF(),X.some(()=>o().then(r=>(t.rtcInstance=Ux(r),r.rtc.isRemote)))))},fO=e=>e.rtcInstance?e.rtcInstance:Wb(e),va=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},ap=(e,t,o)=>{va(e).undoManager.beforeChange(t,o)},SF=(e,t,o,r,c,h,v)=>va(e).undoManager.add(t,o,r,c,h,v),mO=(e,t,o,r)=>va(e).undoManager.undo(t,o,r),hO=(e,t,o)=>va(e).undoManager.redo(t,o),qk=(e,t,o)=>{va(e).undoManager.clear(t,o)},$Z=(e,t)=>{va(e).undoManager.reset(t)},EF=(e,t,o)=>va(e).undoManager.hasUndo(t,o),yE=(e,t,o)=>va(e).undoManager.hasRedo(t,o),IZ=(e,t,o,r)=>va(e).undoManager.transact(t,o,r),Gk=(e,t,o)=>{va(e).undoManager.ignore(t,o)},gO=(e,t,o,r,c)=>{va(e).undoManager.extra(t,o,r,c)},TF=(e,t,o,r,c)=>va(e).formatter.match(t,o,r,c),vE=(e,t,o)=>va(e).formatter.matchAll(t,o),HZ=(e,t,o,r,c)=>va(e).formatter.matchNode(t,o,r,c),zZ=(e,t)=>va(e).formatter.canApply(t),x0=(e,t)=>va(e).formatter.closest(t),Em=(e,t,o,r)=>{va(e).formatter.apply(t,o,r)},xE=(e,t,o,r,c)=>{va(e).formatter.remove(t,o,r,c)},Tm=(e,t,o,r)=>{va(e).formatter.toggle(t,o,r)},jZ=(e,t,o,r,c,h)=>va(e).formatter.formatChanged(t,o,r,c,h),xa=(e,t)=>fO(e).editor.getContent(t),VZ=(e,t,o)=>fO(e).editor.setContent(t,o),qb=(e,t,o)=>fO(e).editor.insertContent(t,o),wE=(e,t,o)=>va(e).selection.getContent(t,o),AF=(e,t)=>va(e).editor.addVisual(t),Kk=e=>va(e).init.bindEvents(),pO=(e,t={})=>{const o=t.format?t.format:"html";return wE(e,o,t)},kF=(e,t,o)=>{if(Yn(e,t)){const r=xt(e[t],c=>c!==o);r.length===0?delete e[t]:e[t]=r}};var bO=(e,t)=>{let o,r;const c=(T,k)=>Un(k,L=>e.is(L,T)),h=T=>e.getParents(T,void 0,e.getRoot()),v=()=>{o={},r={},t.on("NodeChange",T=>{const k=T.element,L=h(k),W={};_o(o,(G,Q)=>{c(Q,L).each(ce=>{r[Q]||(Le(G,ke=>{ke(!0,{node:ce,selector:Q,parents:L})}),r[Q]=G),W[Q]=G})}),_o(r,(G,Q)=>{W[Q]||(delete r[Q],Le(G,ce=>{ce(!1,{node:k,selector:Q,parents:L})}))})})};return{selectorChangedWithUnbind:(T,k)=>(o||v(),o[T]||(o[T]=[]),o[T].push(k),c(T,h(t.selection.getStart())).each(()=>{r[T]=o[T]}),{unbind:()=>{kF(o,T,k),kF(r,T,k)}})}};const _F=e=>!!(e&&e.ownerDocument)&&mc(_e.fromDom(e.ownerDocument),_e.fromDom(e)),DF=e=>e?_F(e.startContainer)&&_F(e.endContainer):!1,yO=(e,t,o,r)=>{let c,h;const{selectorChangedWithUnbind:v}=bO(e,r),T=(Fn,ho)=>{const Tr=e.createRng();We(Fn)&&We(ho)?(Tr.setStart(Fn,ho),Tr.setEnd(Fn,ho),Bt(Tr),nt(!1)):(FA(e,Tr,r.getBody(),!0),Bt(Tr))},k=Fn=>pO(r,Fn),L=(Fn,ho)=>KU(r,Fn,ho),W=Fn=>JA(r.getBody(),ut(),Fn),G=Fn=>wD(r.getBody(),ut(),Fn),Q=(Fn,ho)=>Vc.getBookmark(Fn,ho),ce=Fn=>Vc.moveToBookmark(Fn),ke=(Fn,ho)=>(h6(e,Fn,ho).each(Bt),Fn),ge=()=>{const Fn=ut(),ho=st();return!Fn||Fn.item?!1:Fn.compareEndPoints?Fn.compareEndPoints("StartToEnd",Fn)===0:!ho||Fn.collapsed},Te=()=>{if(r.mode.isReadOnly())return!1;const Fn=ut(),ho=r.getBody().querySelectorAll('[data-mce-selected="1"]');return ho.length>0?Gr(ho,Tr=>e.isEditable(Tr.parentElement)):pj(e,Fn)},nt=Fn=>{const ho=ut();ho.collapse(!!Fn),Bt(ho)},st=()=>t.getSelection?t.getSelection():t.document.selection,ut=()=>{let Fn;const ho=(fr,xu,$t)=>{try{return xu.compareBoundaryPoints(fr,$t)}catch{return-1}},Tr=t.document;if(We(r.bookmark)&&!kw(r)){const fr=WA(r);if(fr.isSome())return fr.map(xu=>ED(r,[xu])[0]).getOr(Tr.createRange())}try{const fr=st();fr&&!eb(fr.anchorNode)&&(fr.rangeCount>0?Fn=fr.getRangeAt(0):Fn=Tr.createRange(),Fn=ED(r,[Fn])[0])}catch{}if(Fn||(Fn=Tr.createRange()),zm(Fn.startContainer)&&Fn.collapsed){const fr=e.getRoot();Fn.setStart(fr,0),Fn.setEnd(fr,0)}return c&&h&&(ho(Fn.START_TO_START,Fn,c)===0&&ho(Fn.END_TO_END,Fn,c)===0?Fn=h:(c=null,h=null)),Fn},Bt=(Fn,ho)=>{if(!DF(Fn))return;const Tr=st();if(Fn=r.dispatch("SetSelectionRange",{range:Fn,forward:ho}).range,Tr){h=Fn;try{Tr.removeAllRanges(),Tr.addRange(Fn)}catch{}ho===!1&&Tr.extend&&(Tr.collapse(Fn.endContainer,Fn.endOffset),Tr.extend(Fn.startContainer,Fn.startOffset)),c=Tr.rangeCount>0?Tr.getRangeAt(0):null}if(!Fn.collapsed&&Fn.startContainer===Fn.endContainer&&Tr?.setBaseAndExtent&&Fn.endOffset-Fn.startOffset<2&&Fn.startContainer.hasChildNodes()){const xu=Fn.startContainer.childNodes[Fn.startOffset];xu&&xu.nodeName==="IMG"&&(Tr.setBaseAndExtent(Fn.startContainer,Fn.startOffset,Fn.endContainer,Fn.endOffset),(Tr.anchorNode!==Fn.startContainer||Tr.focusNode!==Fn.endContainer)&&Tr.setBaseAndExtent(xu,0,xu,1))}r.dispatch("AfterSetSelectionRange",{range:Fn,forward:ho})},Qt=Fn=>(Pk(r,e.getOuterHTML(Fn)),Fn),Dn=()=>SD(r.getBody(),ut()),ro=(Fn,ho)=>bj(e,ut(),Fn,ho),Rt=()=>{const Fn=st(),ho=Fn?.anchorNode,Tr=Fn?.focusNode;if(!Fn||!ho||!Tr||eb(ho)||eb(Tr))return!0;const fr=e.createRng(),xu=e.createRng();try{fr.setStart(ho,Fn.anchorOffset),fr.collapse(!0),xu.setStart(Tr,Fn.focusOffset),xu.collapse(!0)}catch{return!0}return fr.compareBoundaryPoints(fr.START_TO_START,xu)<=0},ni={dom:e,win:t,serializer:o,editor:r,expand:(Fn={type:"word"})=>Bt(f0(e).expand(ut(),Fn)),collapse:nt,setCursorLocation:T,getContent:k,setContent:L,getBookmark:Q,moveToBookmark:ce,select:ke,isCollapsed:ge,isEditable:Te,isForward:Rt,setNode:Qt,getNode:Dn,getSel:st,setRng:Bt,getRng:ut,getStart:W,getEnd:G,getSelectedBlocks:ro,normalize:()=>{const Fn=ut(),ho=st();if(!c0(ho)&&NS(r)){const Tr=YA(e,Fn);return Tr.each(fr=>{Bt(fr,Rt())}),Tr.getOr(Fn)}return Fn},selectorChanged:(Fn,ho)=>(v(Fn,ho),ni),selectorChangedWithUnbind:v,getScrollContainer:()=>{let Fn,ho=e.getRoot();for(;ho&&ho.nodeName!=="BODY";){if(ho.scrollHeight>ho.clientHeight){Fn=ho;break}ho=ho.parentNode}return Fn},scrollIntoView:(Fn,ho)=>{We(Fn)?Pn(r,Fn,ho):sh(r,ut(),ho)},placeCaretAt:(Fn,ho)=>Bt(t6(Fn,ho,r.getDoc())),getBoundingClientRect:()=>{const Fn=ut();return Fn.collapsed?kt.fromRangeStart(Fn).getClientRects()[0]:Fn.getBoundingClientRect()},destroy:()=>{t=c=h=null,Am.destroy()}},Vc=Tw(ni),Am=oj(ni,r);return ni.bookmarkManager=Vc,ni.controlSelection=Am,ni},vO=(e,t,o)=>{t.addNodeFilter("br",(r,c,h)=>{const v=on.extend({},o.getBlockElements()),T=o.getNonEmptyElements(),k=o.getWhitespaceElements();v.body=1;const L=W=>W.name in v||uu(o,W);for(let W=0,G=r.length;W<G;W++){let Q=r[W],ce=Q.parent;if(ce&&L(ce)&&Q===ce.lastChild){let ke=Q.prev;for(;ke;){const ge=ke.name;if(ge!=="span"||ke.attr("data-mce-type")!=="bookmark"){ge==="br"&&(Q=null);break}ke=ke.prev}if(Q&&(Q.remove(),nE(o,T,k,ce))){const ge=o.getElementRule(ce.name);ge&&(ge.removeEmpty?ce.remove():ge.paddEmpty&&iv(e,h,L,ce))}}else{let ke=Q;for(;ce&&ce.firstChild===ke&&ce.lastChild===ke&&(ke=ce,!v[ce.name]);)ce=ce.parent;if(ke===ce){const ge=new Hc("#text",3);ge.value=jr,Q.replace(ge)}}}})},OF=(e,t,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,c)=>{let h=r.length;for(;h--;){const v=r[h];v.attr("tabindex",v.attr("data-mce-tabindex")),v.attr(c,null)}}),e.addAttributeFilter("src,href,style",(r,c)=>{const h="data-mce-"+c,v=t.url_converter,T=t.url_converter_scope;let k=r.length;for(;k--;){const L=r[k];let W=L.attr(h);W!==void 0?(L.attr(c,W.length>0?W:null),L.attr(h,null)):(W=L.attr(c),c==="style"?W=o.serializeStyle(o.parseStyle(W),L.name):v&&(W=v.call(T,W,c,L.name)),L.attr(c,W.length>0?W:null))}}),e.addAttributeFilter("class",r=>{let c=r.length;for(;c--;){const h=r[c];let v=h.attr("class");v&&(v=v.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),h.attr("class",v.length>0?v:null))}}),e.addAttributeFilter("data-mce-type",(r,c,h)=>{let v=r.length;for(;v--;){const T=r[v];T.attr("data-mce-type")==="bookmark"&&!h.cleanup&&(X.from(T.firstChild).exists(L=>!$g(L.value??""))?T.unwrap():T.remove())}}),e.addNodeFilter("script,style",(r,c)=>{const h=T=>T.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let v=r.length;for(;v--;){const T=r[v],k=T.firstChild,L=k?.value??"";if(c==="script"){const W=T.attr("type");W&&T.attr("type",W==="mce-no/type"?null:W.replace(/^mce\-/,"")),t.element_format==="xhtml"&&k&&L.length>0&&(k.value=`// <![CDATA[
`+h(L)+`
// ]]>`)}else t.element_format==="xhtml"&&k&&L.length>0&&(k.value=`<!--
`+h(L)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let c=r.length;for(;c--;){const h=r[c],v=h.value;t.preserve_cdata&&v?.indexOf("[CDATA[")===0?(h.name="#cdata",h.type=4,h.value=o.decode(v.replace(/^\[CDATA\[|\]\]$/g,""))):v?.indexOf("mce:protected ")===0&&(h.name="#text",h.type=3,h.raw=!0,h.value=unescape(v).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,c)=>{let h=r.length;for(;h--;){const v=r[h];v.type===7?v.remove():v.type===1&&c==="input"&&!v.attr("type")&&v.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{Le(r,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,c)=>{let h=r.length;for(;h--;)r[h].attr(c,null)}),t.remove_trailing_brs&&vO(t,e,e.schema)},Yk=e=>{const t=r=>r?.name==="br",o=e.lastChild;if(t(o)){const r=o.prev;t(r)&&(o.remove(),r.remove())}},UZ=(e,t,o)=>{let r;const c=e.dom;let h=t.cloneNode(!0);const v=document.implementation;if(v.createHTMLDocument){const T=v.createHTMLDocument("");on.each(h.nodeName==="BODY"?h.childNodes:[h],k=>{T.body.appendChild(T.importNode(k,!0))}),h.nodeName!=="BODY"?h=T.body.firstChild:h=T.body,r=c.doc,c.doc=T}return V2(e,{...o,node:h}),r&&(c.doc=r),h},ZZ=(e,t)=>We(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,WZ=(e,t,o)=>ZZ(e,o)?UZ(e,t,o):t,qZ=(e,t,o)=>{on.inArray(t,o)===-1&&(e.addAttributeFilter(o,(r,c)=>{let h=r.length;for(;h--;)r[h].attr(c,null)}),t.push(o))},GZ=(e,t,o)=>!t.no_events&&e?qC(e,{...t,content:o}).content:o,NF=(e,t,o)=>{const r=Fc(o.getInner?t.innerHTML:e.getOuterHTML(t));return o.selection||Ny(_e.fromDom(t))?r:on.trim(r)},KZ=(e,t,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,c=e.parse(t,r);return Yk(c),c},YZ=(e,t,o)=>nv(e,t).serialize(o),RF=(e,t,o,r,c)=>{const h=YZ(t,o,r);return GZ(e,c,h)},XZ=(e,t)=>{const o=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},c=t&&t.dom?t.dom:ds.DOM,h=t&&t.schema?t.schema:Ns(r),v=Lw(r,h);OF(v,r,c);const T=(k,L={})=>{const{indent:W,entity_encoding:G,...Q}=L,ce={format:"html",...Q},ke=WZ(t,k,ce),ge=NF(c,ke,ce),Te=KZ(v,ge,ce);if(ce.format==="tree")return Te;const nt={...r,...We(W)?{indent:W}:{},...We(G)?{entity_encoding:G}:{}};return RF(t,nt,h,Te,ce)};return{schema:h,addNodeFilter:v.addNodeFilter,addAttributeFilter:v.addAttributeFilter,serialize:T,addRules:h.addValidElements,setRules:h.setValidElements,addTempAttr:le(qZ,v,o),getTempAttrs:at(o),getNodeFilters:v.getNodeFilters,getAttributeFilters:v.getAttributeFilters,removeNodeFilter:v.removeNodeFilter,removeAttributeFilter:v.removeAttributeFilter}},xO=(e,t)=>{const o=XZ(e,t);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},CE="html",QZ=(e,t)=>({...e,format:t,get:!0,getInner:!0}),JZ=(e,t={})=>{const o=t.format?t.format:CE,r=QZ(t,o);return AL(e,r).fold(Jn,c=>{const h=xa(e,c);return cE(e,h,c)})},MF="html",BF=(e,t)=>({format:MF,...e,set:!0,content:t}),wO=(e,t,o={})=>{const r=BF(o,t);uE(e,r).each(c=>{const h=VZ(e,c.content,c);z5(e,h.html,c)})},SE=ds.DOM,hd=e=>{SE.setStyle(e.id,"display",e.orgDisplay)},Xk=e=>X.from(e).each(t=>t.destroy()),LF=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const o=e.selection;if(o){const r=o.dom;t.selection=o.win=o.dom=r.doc=null}},CO=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),SE.unbind(t,"submit reset",e.formEventDelegate))},SO=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:o}=e,r=e.getBody(),c=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&We(c?.nextSibling)&&SE.remove(c.nextSibling),GC(e),e.editorManager.remove(e),!e.inline&&r&&hd(e),$T(e),SE.remove(e.getContainer()),Xk(t),Xk(o),e.destroy()}},FF=(e,t)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Xk(o),Xk(r)),CO(e),LF(e),e.destroyed=!0}},Qk=(()=>{const e={};return{add:(c,h)=>{e[c]=h},get:c=>e[c]?e[c]:{icons:{}},has:c=>Yn(e,c)}})(),Uw=Xi.ModelManager,EO=(e,t)=>t.dom[e],TO=(e,t)=>parseInt(Aa(t,e),10),lh=le(EO,"clientWidth"),tW=le(EO,"clientHeight"),nW=le(TO,"margin-top"),Lne=le(TO,"margin-left"),AO=e=>e.dom.getBoundingClientRect(),oW=(e,t,o)=>{const r=lh(e),c=tW(e);return t>=0&&o>=0&&t<=r&&o<=c},Fne=(e,t,o,r)=>{const c=AO(t),h=e?c.left+t.dom.clientLeft+Lne(t):0,v=e?c.top+t.dom.clientTop+nW(t):0,T=o-h,k=r-v;return{x:T,y:k}},sW=(e,t,o)=>{const r=_e.fromDom(e.getBody()),c=e.inline?r:ri(r),h=Fne(e.inline,c,t,o);return oW(c,h.x,h.y)},kO=e=>X.from(e).map(_e.fromDom),ip=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return kO(t).map(cr).getOr(!1)};var _O=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const EE=e=>{const t=[],o=()=>{const Q=e.theme;return Q&&Q.getNotificationManagerImpl?Q.getNotificationManagerImpl():_O()},r=()=>X.from(t[0]),c=(Q,ce)=>Q.type===ce.type&&Q.text===ce.text&&!Q.progressBar&&!Q.timeout&&!ce.progressBar&&!ce.timeout,h=()=>{r().each(Q=>{Q.reposition()})},v=Q=>{t.push(Q)},T=Q=>{Qo(t,ce=>ce===Q).each(ce=>{t.splice(ce,1)})},k=(Q,ce=!0)=>e.removed||!ip(e)?{}:(ce&&e.dispatch("BeforeOpenNotification",{notification:Q}),Un(t,ke=>c(o().getArgs(ke),Q)).getOrThunk(()=>{e.editorManager.setActive(e);const ke=o().open(Q,()=>{T(ke)},()=>QB(e));return v(ke),h(),e.dispatch("OpenNotification",{notification:{...ke}}),ke})),L=()=>{r().each(Q=>{o().close(Q),T(Q),h()})},W=at(t);return(Q=>{Q.on("SkinLoaded",()=>{const ce=aS(Q);ce&&k({text:ce,type:"warning",timeout:0},!1),h()}),Q.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(h)}),Q.on("remove",()=>{Le(t.slice(),ce=>{o().close(ce)})}),Q.on("keydown",ce=>{const ke=ce.key?.toLowerCase()==="f12"||ce.keyCode===123;ce.altKey&&ke&&(ce.preventDefault(),r().map(ge=>_e.fromDom(ge.getEl())).each(ge=>Ia(ge)))})})(e),{open:k,close:L,getNotifications:W}},mv=Xi.PluginManager,Zx=Xi.ThemeManager;var DO=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const PF=e=>{let t=[];const o=()=>{const Te=e.theme;return Te&&Te.getWindowManagerImpl?Te.getWindowManagerImpl():DO()},r=(Te,nt)=>(...st)=>nt?nt.apply(Te,st):void 0,c=Te=>{e.dispatch("OpenWindow",{dialog:Te})},h=Te=>{e.dispatch("CloseWindow",{dialog:Te})},v=(Te,nt)=>{t.push({instanceApi:Te,triggerElement:nt}),c(Te)},T=Te=>{h(Te);const nt=Xr(t,({instanceApi:st,triggerElement:ut})=>st===Te?ut:X.none());t=xt(t,({instanceApi:st})=>st!==Te),t.length===0?e.focus():nt.filter(cr).each(Ia)},k=()=>X.from(t[t.length-1]),L=Te=>{e.editorManager.setActive(e),ZA(e);const nt=Rl();e.ui.show();const st=Te();return v(st,nt),st},W=(Te,nt)=>L(()=>o().open(Te,nt,T)),G=Te=>L(()=>o().openUrl(Te,T)),Q=Te=>{t.length!==0&&Te.each(nt=>Ia(nt))},ce=(Te,nt,st)=>{const ut=Rl(),Bt=o();Bt.alert(Te,r(st||Bt,()=>{Q(ut),nt?.()}))},ke=(Te,nt,st)=>{const ut=Rl(),Bt=o();Bt.confirm(Te,r(st||Bt,Qt=>{Q(ut),nt?.(Qt)}))},ge=()=>{k().each(({instanceApi:Te})=>{o().close(Te),T(Te)})};return e.on("remove",()=>{Le(t,({instanceApi:Te})=>{o().close(Te)})}),{open:W,openUrl:G,alert:ce,confirm:ke,close:ge}},OO=(e,t)=>{e.notificationManager.open({type:"error",text:t})},Jk=(e,t)=>{e._skinLoaded?OO(e,t):e.on("SkinLoaded",()=>{OO(e,t)})},rW=(e,t)=>{Jk(e,$u.translate(["Failed to upload image: {0}",t]))},Gb=(e,t,o)=>{U2(e,t,{message:o}),console.error(o)},Wx=(e,t,o)=>o?`Failed to load ${e}: ${o} from url ${t}`:`Failed to load ${e} url: ${t}`,$F=(e,t,o)=>{Gb(e,"PluginLoadError",Wx("plugin",t,o))},aW=(e,t,o)=>{Gb(e,"IconsLoadError",Wx("icons",t,o))},qx=(e,t,o)=>{Gb(e,"LanguageLoadError",Wx("language",t,o))},IF=(e,t,o)=>{Gb(e,"ThemeLoadError",Wx("theme",t,o))},iW=(e,t,o)=>{Gb(e,"ModelLoadError",Wx("model",t,o))},HF=(e,t)=>{Gb(e,"LicenseKeyManagerLoadError",Wx("license key manager",t))},lW=(e,t)=>{Gb(e,"ComponentLoadError",Wx("component",t))},cW=(e,t,o)=>{const r=$u.translate(["Failed to initialize plugin: {0}",t]);U2(e,"PluginLoadError",{message:r}),e4(r,o),Jk(e,r)},e4=(e,...t)=>{const o=window.console;o&&(o.error?o.error(e,...t):o.log(e,...t))},zF=new WeakMap,uW=e=>{if(zF.has(e))return;zF.set(e,!0);const t=()=>{e.on("SwitchMode",r=>{const{mode:c}=r;c!=="readonly"&&e.mode.set("readonly")})},o=()=>{e.on("DisabledStateChange",r=>{const{state:c}=r;c||r.preventDefault()},!0)};e.initialized?(e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)):e.on("init",()=>{e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)}),o(),t()},NO=(e,t)=>{const{type:o,message:r}=t;e.notificationManager.open({type:o,text:r})},dW=e=>{switch(e){case"error":return console.error;case"info":return console.info;case"warn":return console.warn;default:return console.log}},RO=e=>{dW(e.type)(e.message)},S1=(e,t)=>{const{console:o,editor:r}=t;We(r)&&(e._skinLoaded?NO(e,r):e.on("SkinLoaded",()=>{NO(e,r)})),We(o)&&RO(o)},MO="Read more: https://www.tiny.cloud/docs/tinymce/latest/license-key/",TE="Make sure to provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms.",jF=e=>{const t="The editor is disabled because a TinyMCE license key has not been provided.";S1(e,{console:{type:"error",message:[`${t}`,TE,MO].join(" ")},editor:{type:"warning",message:`${t}`}})},VF=(e,t)=>{const o=`${t==="online"?"API":"license"} key`,r=`The editor is disabled because the TinyMCE ${o} could not be validated.`;S1(e,{console:{type:"error",message:[`${r}`,`The TinyMCE Commercial License Key Manager plugin is required for the provided ${o} to be validated but could not be loaded.`,MO].join(" ")},editor:{type:"warning",message:`${r}`}})},UF=(e,t,o)=>{const r=`The "${t}" plugin requires a valid TinyMCE license key.`;S1(e,{console:{type:"error",message:[`${r}`,MO].join(" ")},...o?{}:{editor:{type:"warning",message:"One or more premium plugins are disabled due to license key restrictions."}}})},AE="licensekeymanager",ZF=e=>J(Ex(e))?"online":"offline",fW=e=>{const t=vA(e)?.toLowerCase();return t==="gpl"?"gpl":dn(t)?"no_key":"non_gpl"},BO=e=>{const t=ZF(e),o=fW(e),r=new Set([...vx(e),...$n(cS(e))]).has(AE);return o!=="gpl"||t==="online"||r?{type:"use_plugin",onlineStatus:t,licenseKeyType:o,forcePlugin:r}:{type:"use_gpl",onlineStatus:t,licenseKeyType:o,forcePlugin:r}},WF=e=>t=>{let o=!1;return{validate:r=>{const{plugin:c}=r,h=J(c);return h&&(UF(t,c,o),o=!0),Promise.resolve(e&&!h)}}},mW=WF(!1),t4=WF(!0),kE="manager",LO=AE,PO=(()=>{const e=Xi();return{load:(c,h)=>{if(BO(c).type==="use_plugin"){const k=Do(cS(c),LO).map(Qr).filter(Fr).getOr(`plugins/${LO}/plugin${h}.js`);e.load(kE,k).catch(()=>{HF(c,k)})}},add:c=>{e.add(kE,c)},init:c=>{const h=k=>{Object.defineProperty(c,"licenseKeyManager",{value:k,writable:!1,configurable:!1,enumerable:!0})},v=BO(c),T=e.get(kE);if(We(T)){const k=T(c,e.urls[kE]);h(k)}else switch(v.type){case"use_gpl":{h(t4(c));break}case"use_plugin":{uW(c),h(mW(c)),v.onlineStatus==="offline"&&v.licenseKeyType==="no_key"?jF(c):VF(c,v.onlineStatus);break}}c.licenseKeyManager.validate({})}}})(),hW=e=>{X.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},$O=(e,t,o)=>{try{e.getDoc().execCommand(t,!1,String(o))}catch{}},qF=(e,t)=>{$O(e,"StyleWithCSS",t),$O(e,"enableInlineTableEditing",t),$O(e,"enableObjectResizing",t)},IO=e=>{e.selection.setRng(e.selection.getRng())},GF=(e,t,o)=>{_i(e,t)&&!o?ra(e,t):o&&pc(e,t)},HO=e=>{const t=_e.fromDom(e.getBody());GF(t,"mce-content-readonly",!0),e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),hW(e)},KF=e=>{const t=_e.fromDom(e.getBody());GF(t,"mce-content-readonly",!1),e.hasEditableRoot()&&F(t,!0),qF(e,!1),QB(e)&&e.focus(),IO(e),e.nodeChanged()},Kb=e=>nh(e),Gx="data-mce-contenteditable",_E=e=>{Le(At(e,'*[contenteditable="true"]'),t=>{Ar(t,Gx,"true"),F(t,!1)})},w0=e=>{Le(At(e,`*[${Gx}="true"]`),t=>{ci(t,Gx),F(t,!0)})},YF=(e,t)=>{const o=_e.fromDom(e.getBody());t?(HO(e),F(o,!1),_E(o)):(w0(o),KF(e))},zO=e=>{e.serializer?Ni(e):e.on("PreInit",()=>{Ni(e)})},Ni=e=>{e.parser.addAttributeFilter("contenteditable",t=>{Kb(e)&&Le(t,o=>{o.attr(Gx,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Gx,t=>{Kb(e)&&Le(t,o=>{o.attr("contenteditable",o.attr(Gx))})}),e.serializer.addTempAttr(Gx)},jO=e=>e.type==="click",n4=["copy"],Yb=e=>Be(n4,e.type),XF=(e,t)=>El(t,"a",r=>es(r,_e.fromDom(e.getBody()))).bind(r=>dl(r,"href")),VO=(e,t)=>aa(t,"details",r=>es(r,_e.fromDom(e.getBody()))),gW=(e,t)=>{if(jO(t)&&!Mn.metaKeyPressed(t)){const o=_e.fromDom(t.target);XF(e,o).fold(()=>{VO(e,o)&&t.preventDefault()},r=>{if(t.preventDefault(),/^#/.test(r)){const c=e.dom.select(`${r},[name="${Ci(r,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Yb(t)&&e.dispatch(t.type,t)},Zw=e=>{e.on("ShowCaret ObjectSelected",t=>{Kb(e)&&t.preventDefault()}),e.on("DisabledStateChange",t=>{t.isDefaultPrevented()||YF(e,t.state)})},pW=e=>{zO(e),Zw(e)},bW=e=>/^[a-z0-9\-]+$/i.test(e),hv=e=>"content/"+e+"/content.css",yW=e=>tinymce.Resource.has(hv(e)),Kx=e=>Xb(e,w_(e)),vW=e=>Xb(e,sS(e)),Xb=(e,t)=>{const o=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return et(t,h=>yW(h)?h:bW(h)&&!e.inline?`${o}/${h}/${c}`:e.documentBaseURI.toAbsolute(h))},xW=e=>{e.contentCSS=e.contentCSS.concat(Kx(e),vW(e))},og=e=>e?Is(e.getElementsByTagName("img")):[],Yx=(e,t)=>{const o={};return{findAll:(c,h=dt)=>{const v=xt(og(c),k=>{const L=k.src;return k.hasAttribute("data-mce-bogus")||k.hasAttribute("data-mce-placeholder")||!L||L===ls.transparentSrc?!1:xo(L,"blob:")?!e.isUploaded(L)&&h(k):xo(L,"data:")?h(k):!1}),T=et(v,k=>{const L=k.src;if(Yn(o,L))return o[L].then(W=>J(W)?W:{image:k,blobInfo:W.blobInfo});{const W=E5(t,L).then(G=>(delete o[L],{image:k,blobInfo:G})).catch(G=>(delete o[L],G));return o[L]=W,W}});return Promise.all(T)}}},QF=()=>{let o={};const r=(Q,ce)=>({status:Q,resultUri:ce}),c=Q=>Q in o;return{hasBlobUri:c,getResultUri:Q=>{const ce=o[Q];return ce?ce.resultUri:null},isPending:Q=>c(Q)?o[Q].status===1:!1,isUploaded:Q=>c(Q)?o[Q].status===2:!1,markPending:Q=>{o[Q]=r(1,null)},markUploaded:(Q,ce)=>{o[Q]=r(2,ce)},removeFailed:Q=>{delete o[Q]},destroy:()=>{o={}}}};let DE=0;const UO=()=>{const e=()=>Math.round(lo()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},wW=e=>e+DE+++UO(),Ww=()=>{let e=[];const t=G=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[G.toLowerCase()]||"dat",o=(G,Q,ce,ke,ge)=>{if(J(G))return r({id:G,name:ke,filename:ge,blob:Q,base64:ce});if(rt(G))return r(G);throw new Error("Unknown input type")},r=G=>{if(!G.blob||!G.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const Q=G.id||wW("blobid"),ce=G.name||Q,ke=G.blob;return{id:at(Q),name:at(ce),filename:at(G.filename||ce+"."+t(ke.type)),blob:at(ke),base64:at(G.base64),blobUri:at(G.blobUri||URL.createObjectURL(ke)),uri:at(G.uri)}},c=G=>{v(G.id())||e.push(G)},h=G=>Un(e,G).getOrUndefined(),v=G=>h(Q=>Q.id()===G);return{create:o,add:c,get:v,getByUri:G=>h(Q=>Q.blobUri()===G),getByData:(G,Q)=>h(ce=>ce.base64()===G&&ce.blob().type===Q),findFirst:h,removeByUri:G=>{e=xt(e,Q=>Q.blobUri()===G?(URL.revokeObjectURL(Q.blobUri()),!1):!0)},destroy:()=>{Le(e,G=>{URL.revokeObjectURL(G.blobUri())}),e=[]}}},CW=(e,t)=>{const o={},r=(ge,Te)=>ge?ge.replace(/\/$/,"")+"/"+Te.replace(/^\//,""):Te,c=(ge,Te)=>new Promise((nt,st)=>{const ut=new XMLHttpRequest;ut.open("POST",t.url),ut.withCredentials=t.credentials,ut.upload.onprogress=Qt=>{Te(Qt.loaded/Qt.total*100)},ut.onerror=()=>{st("Image upload failed due to a XHR Transport error. Code: "+ut.status)},ut.onload=()=>{if(ut.status<200||ut.status>=300){st("HTTP Error: "+ut.status);return}const Qt=JSON.parse(ut.responseText);if(!Qt||!J(Qt.location)){st("Invalid JSON: "+ut.responseText);return}nt(r(t.basePath,Qt.location))};const Bt=new FormData;Bt.append("file",ge.blob(),ge.filename()),ut.send(Bt)}),h=Ne(t.handler)?t.handler:c,v=()=>new Promise(ge=>{ge([])}),T=(ge,Te)=>({url:Te,blobInfo:ge,status:!0}),k=(ge,Te)=>({url:"",blobInfo:ge,status:!1,error:Te}),L=(ge,Te)=>{on.each(o[ge],nt=>{nt(Te)}),delete o[ge]},W=(ge,Te,nt)=>(e.markPending(ge.blobUri()),new Promise(st=>{let ut,Bt;try{const Qt=()=>{ut&&(ut.close(),Bt=Mt)},Dn=Rt=>{Qt();const Ct=J(Rt)?Rt:Rt.url;e.markUploaded(ge.blobUri(),Ct),L(ge.blobUri(),T(ge,Ct)),st(T(ge,Ct))},ro=Rt=>{Qt(),e.removeFailed(ge.blobUri()),L(ge.blobUri(),k(ge,Rt)),st(k(ge,Rt))};Bt=Rt=>{Rt<0||Rt>100||X.from(ut).orThunk(()=>X.from(nt).map(Re)).each(Ct=>{ut=Ct,Ct.progressBar.value(Rt)})},Te(ge,Bt).then(Dn,Rt=>{ro(J(Rt)?{message:Rt}:Rt)})}catch(Qt){st(k(ge,Qt))}})),G=ge=>ge===c,Q=ge=>{const Te=ge.blobUri();return new Promise(nt=>{o[Te]=o[Te]||[],o[Te].push(nt)})},ce=(ge,Te)=>(ge=on.grep(ge,nt=>!e.isUploaded(nt.blobUri())),Promise.all(on.map(ge,nt=>e.isPending(nt.blobUri())?Q(nt):W(nt,h,Te))));return{upload:(ge,Te)=>!t.url&&G(h)?v():ce(ge,Te)}},sg=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),OE=(e,t)=>CW(t,{url:Q2(e),basePath:oS(e),credentials:v_(e),handler:sA(e)}),JF=e=>{const t=QF(),o=OE(e,t);return{upload:(r,c=!0)=>o.upload(r,c?sg(e):void 0)}},ZO=(e,t)=>e.dom.isEmpty(t.dom)&&We(e.schema.getTextBlockElements()[ts(t)]),WO=e=>t=>{ZO(e,t)&&Fs(t,_e.fromHtml('<br data-mce-bogus="1" />'))},Xx=e=>{const t=Ww();let o,r;const c=QF(),h=[],v=ut=>Bt=>e.selection?ut(Bt):[],T=ut=>ut+(ut.indexOf("?")===-1?"?":"&")+new Date().getTime(),k=(ut,Bt,Qt)=>{let Dn=0;do Dn=ut.indexOf(Bt,Dn),Dn!==-1&&(ut=ut.substring(0,Dn)+Qt+ut.substr(Dn+Bt.length),Dn+=Qt.length-Bt.length+1);while(Dn!==-1);return ut},L=(ut,Bt,Qt)=>{const Dn=`src="${Qt}"${Qt===ls.transparentSrc?' data-mce-placeholder="1"':""}`;return ut=k(ut,`src="${Bt}"`,Dn),ut=k(ut,'data-mce-src="'+Bt+'"','data-mce-src="'+Qt+'"'),ut},W=(ut,Bt)=>{Le(e.undoManager.data,Qt=>{Qt.type==="fragmented"?Qt.fragments=et(Qt.fragments,Dn=>L(Dn,ut,Bt)):Qt.content=L(Qt.content,ut,Bt)})},G=(ut,Bt)=>{const Qt=e.convertURL(Bt,"src");W(ut.src,Bt),qa(_e.fromDom(ut),{src:nA(e)?T(Bt):Bt,"data-mce-src":Qt})},Q=()=>(o||(o=OE(e,c)),Te().then(v(ut=>{const Bt=et(ut,Qt=>Qt.blobInfo);return o.upload(Bt,sg(e)).then(v(Qt=>{const Dn=[];let ro=!1;const Rt=et(Qt,(Ct,Lt)=>{const{blobInfo:_n,image:No}=ut[Lt];let Ro=!1;return Ct.status&&oA(e)?(Ct.url&&!Lr(No.src,Ct.url)&&(ro=!0),t.removeByUri(No.src),v0(e)||G(No,Ct.url)):Ct.error&&(Ct.error.remove&&(W(No.src,ls.transparentSrc),Dn.push(No),Ro=!0),rW(e,Ct.error.message)),{element:No,status:Ct.status,uploadUri:Ct.url,blobInfo:_n,removed:Ro}});return Dn.length>0&&!v0(e)?e.undoManager.transact(()=>{Le(Sd(Dn),Ct=>{const Lt=Wi(Ct);ys(Ct),Lt.each(WO(e)),t.removeByUri(Ct.dom.src)})}):ro&&e.undoManager.dispatchChange(),Rt}))}))),ce=()=>tS(e)?Q():Promise.resolve([]),ke=ut=>Gr(h,Bt=>Bt(ut)),ge=ut=>{h.push(ut)},Te=()=>(r||(r=Yx(c,t)),r.findAll(e.getBody(),ke).then(v(ut=>{const Bt=xt(ut,Qt=>J(Qt)?(Jk(e,Qt),!1):Qt.uriType!=="blob");return v0(e)||Le(Bt,Qt=>{W(Qt.image.src,Qt.blobInfo.blobUri()),Qt.image.src=Qt.blobInfo.blobUri(),Qt.image.removeAttribute("data-mce-src")}),Bt}))),nt=()=>{t.destroy(),c.destroy(),r=o=null},st=ut=>ut.replace(/src="(blob:[^"]+)"/g,(Bt,Qt)=>{const Dn=c.getResultUri(Qt);if(Dn)return'src="'+Dn+'"';let ro=t.getByUri(Qt);return ro||(ro=vt(e.editorManager.get(),(Rt,Ct)=>Rt||Ct.editorUpload&&Ct.editorUpload.blobCache.getByUri(Qt),void 0)),ro?'src="data:'+ro.blob().type+";base64,"+ro.base64()+'"':Bt});return e.on("SetContent",()=>{tS(e)?ce():Te()}),e.on("RawSaveContent",ut=>{ut.content=st(ut.content)}),e.on("GetContent",ut=>{ut.source_view||ut.format==="raw"||ut.format==="tree"||(ut.content=st(ut.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",ut=>{Le(ut,Bt=>{const Qt=Bt.attr("src");if(!Qt||t.getByUri(Qt))return;const Dn=c.getResultUri(Qt);Dn&&Bt.attr("src",Dn)})})}),{blobCache:t,addFilter:ge,uploadImages:Q,uploadImagesAuto:ce,scanForImages:Te,destroy:nt}},qO=e=>{const t=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{t.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{t.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},h={inline:"strike",remove:"all",preserve_attributes:["class","style"]},v={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[v,c,h]:[c,v,h]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"},remove_similar:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,h,v)=>xn(c)&&c.hasAttribute("href"),onformat:(c,h,v)=>{on.each(v,(T,k)=>{t.setAttrib(c,k,T)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>c?.customValue??null}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return on.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),c=>{r[c]={block:c,remove:"all"}}),r},eP={remove_similar:!0,inherit:!1},qw={selector:"td,th",...eP},SW={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...qw},tablecellverticalalign:{styles:{"vertical-align":"%value"},...qw},tablecellbordercolor:{styles:{borderColor:"%value"},...qw},tablecellclass:{classes:["%value"],...qw},tableclass:{selector:"table",classes:["%value"],...eP},tablecellborderstyle:{styles:{borderStyle:"%value"},...qw},tablecellborderwidth:{styles:{borderWidth:"%value"},...qw}},EW=at(SW),TW=e=>{const t={},o=v=>We(v)?t[v]:t,r=v=>Yn(t,v),c=(v,T)=>{v&&(J(v)?(qe(T)||(T=[T]),Le(T,k=>{En(k.deep)&&(k.deep=!Kg(k)),En(k.split)&&(k.split=!Kg(k)||gu(k)),En(k.remove)&&Kg(k)&&!gu(k)&&(k.remove="none"),Kg(k)&&gu(k)&&(k.mixed=!0,k.block_expand=!0),J(k.classes)&&(k.classes=k.classes.split(/\s+/))}),t[v]=T):_o(v,(k,L)=>{c(L,k)}))},h=v=>(v&&t[v]&&delete t[v],t);return c(qO(e)),c(EW()),c(A_(e)),{get:o,has:r,register:c,unregister:h}},o4=on.each,Wd=ds.DOM,rg=e=>We(e)&&rt(e),tP=(e,t)=>{const o=t&&t.schema||Ns({}),r=(k,L)=>{L.classes.length>0&&Wd.addClass(k,L.classes.join(" ")),Wd.setAttribs(k,L.attrs)},c=k=>{const L=J(k)?{name:k,classes:[],attrs:{}}:k,W=Wd.create(L.name);return r(W,L),W},h=(k,L)=>{const G=o.getElementRule(k.nodeName.toLowerCase())?.parentsRequired;return G&&G.length?L&&Be(G,L)?L:G[0]:!1},v=(k,L,W)=>{let G;const Q=L[0],ce=rg(Q)?Q.name:void 0,ke=h(k,ce);if(ke)ce===ke?(G=Q,L=L.slice(1)):G=ke;else if(Q)G=Q,L=L.slice(1);else if(!W)return k;const ge=G?c(G):Wd.create("div");ge.appendChild(k),W&&on.each(W,nt=>{const st=c(nt);ge.insertBefore(st,k)});const Te=rg(G)?G.siblings:void 0;return v(ge,L,Te)},T=Wd.create("div");if(e.length>0){const k=e[0],L=c(k),W=rg(k)?k.siblings:void 0;T.appendChild(v(L,e.slice(1),W))}return T},AW=e=>{e=on.trim(e);let t="div";const o={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,c,h,v,T)=>{switch(c){case"#":o.attrs.id=h;break;case".":o.classes.push(h);break;case":":on.inArray("checked disabled enabled read-only required".split(" "),h)!==-1&&(o.attrs[h]=h);break}if(v==="["){const k=T.match(/([\w\-]+)(?:\=\"([^\"]+))?/);k&&(o.attrs[k[1]]=k[2])}return""})),o.name=t||"div",o},kW=e=>J(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),on.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const o=on.map(t.split(/(?:~\+|~|\+)/),AW),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],_W=(e,t)=>{let o="",r=k_(e);if(r==="")return"";const c=Q=>J(Q)?Q.replace(/%(\w+)/g,""):"",h=(Q,ce)=>Wd.getStyle(ce??e.getBody(),Q,!0);if(J(t)){const Q=e.formatter.get(t);if(!Q)return"";t=Q[0]}if("preview"in t){const Q=t.preview;if(Q===!1)return"";r=Q||r}let v=t.block||t.inline||"span",T;const k=kW(t.selector);k.length>0?(k[0].name||(k[0].name=v),v=t.selector,T=tP(k,e)):T=tP([v],e);const L=Wd.select(v,T)[0]||T.firstChild;o4(t.styles,(Q,ce)=>{const ke=c(Q);ke&&Wd.setStyle(L,ce,ke)}),o4(t.attributes,(Q,ce)=>{const ke=c(Q);ke&&Wd.setAttrib(L,ce,ke)}),o4(t.classes,Q=>{const ce=c(Q);Wd.hasClass(L,ce)||Wd.addClass(L,ce)}),e.dispatch("PreviewFormats"),Wd.setStyles(T,{position:"absolute",left:-65535}),e.getBody().appendChild(T);const W=h("fontSize"),G=/px$/.test(W)?parseInt(W,10):0;return o4(r.split(" "),Q=>{let ce=h(Q,L);if(!(Q==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ce)&&(ce=h(Q),wc(ce).toLowerCase()==="#ffffff"))&&!(Q==="color"&&wc(ce).toLowerCase()==="#000000")){if(Q==="font-size"&&/em|%$/.test(ce)){if(G===0)return;ce=parseFloat(ce)/(/%$/.test(ce)?100:1)*G+"px"}Q==="border"&&ce&&(o+="padding:0 2px;"),o+=Q+":"+ce+";"}}),e.dispatch("AfterPreviewFormats"),Wd.remove(T),o},DW=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},nP=e=>{const t=TW(e),o=Bn({});return DW(e),E8(e),v0(e)||Ik(o,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(r,c,h)=>{Em(e,r,c,h)},remove:(r,c,h,v)=>{xE(e,r,c,h,v)},toggle:(r,c,h)=>{Tm(e,r,c,h)},match:(r,c,h,v)=>TF(e,r,c,h,v),closest:r=>x0(e,r),matchAll:(r,c)=>vE(e,r,c),matchNode:(r,c,h,v)=>HZ(e,r,c,h,v),canApply:r=>zZ(e,r),formatChanged:(r,c,h,v)=>jZ(e,o,r,c,h,v),getCssText:le(_W,e)}},oP=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},OW=(e,t,o)=>{const r=Bn(!1),c=k=>{dv(t,!1,o),t.add({},k)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",k=>{const L=k.command;oP(L)||(Wk(t,o),t.beforeChange())}),e.on("ExecCommand",k=>{const L=k.command;oP(L)||c(k)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",k=>{const L=k.keyCode;if(k.isDefaultPrevented())return;const W=ls.os.isMacOS()&&k.key==="Meta";(L>=33&&L<=36||L>=37&&L<=40||L===45||k.ctrlKey||W)&&(c(),e.nodeChanged()),(L===46||L===8)&&e.nodeChanged(),r.get()&&t.typing&&!zw(e.readonly,gE(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",k=>{const L=k.keyCode;if(k.isDefaultPrevented())return;if(L>=33&&L<=36||L>=37&&L<=40||L===45){t.typing&&c(k);return}const W=k.ctrlKey&&!k.altKey||k.metaKey;if((L<16||L>20)&&L!==224&&L!==91&&!t.typing&&!W){t.beforeChange(),dv(t,!0,o),t.add({},k),r.set(!0);return}(ls.os.isMacOS()?k.metaKey:k.ctrlKey&&!k.altKey)&&t.beforeChange()}),e.on("mousedown",k=>{t.typing&&c(k)});const h=k=>k.inputType==="insertReplacementText",v=k=>k.inputType==="insertText"&&k.data===null,T=k=>k.inputType==="insertFromPaste"||k.inputType==="insertFromDrop";e.on("input",k=>{k.inputType&&(h(k)||v(k)||T(k))&&c(k)}),e.on("AddUndo Undo Redo ClearUndos",k=>{k.isDefaultPrevented()||e.nodeChanged()})},NW=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},RW=e=>{const t=Bs(),o=Bn(0),r=Bn(0),c={data:[],typing:!1,beforeChange:()=>{ap(e,o,t)},add:(h,v)=>SF(e,c,r,o,t,h,v),dispatchChange:()=>{e.setDirty(!0);const h=gE(e);h.bookmark=mf(e.selection),e.dispatch("change",{level:h,lastLevel:Or(c.data,r.get()).getOrUndefined()})},undo:()=>mO(e,c,o,r),redo:()=>hO(e,r,c.data),clear:()=>{qk(e,c,r)},reset:()=>{$Z(e,c)},hasUndo:()=>EF(e,c,r),hasRedo:()=>yE(e,c,r),transact:h=>IZ(e,c,o,h),ignore:h=>{Gk(e,o,h)},extra:(h,v)=>{gO(e,c,r,h,v)}};return v0(e)||OW(e,c,o),NW(e),c},MW=[9,27,Mn.HOME,Mn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Mn.DOWN,Mn.UP,Mn.LEFT,Mn.RIGHT].concat(ls.browser.isFirefox()?[224]:[]),sP="data-mce-placeholder",rP=e=>e.type==="keydown"||e.type==="keyup",aP=e=>{const t=e.keyCode;return t===Mn.BACKSPACE||t===Mn.DELETE},BW=e=>{if(rP(e)){const t=e.keyCode;return!aP(e)&&(Mn.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||Be(MW,t))}else return!1},LW=e=>rP(e)&&!(aP(e)||e.type==="keyup"&&e.keyCode===229),gv=(e,t,o)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const r=t.firstElementChild;return r?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},FW=e=>{const t=e.dom,o=bl(e),r=rS(e)??"",c=(h,v)=>{if(BW(h))return;const T=e.getBody(),k=LW(h)?!1:gv(t,T,o);(t.getAttrib(T,sP)!==""!==k||v)&&(t.setAttrib(T,sP,k?r:null),YC(e,k),e.on(k?"keydown":"keyup",c),e.off(k?"keyup":"keydown",c))};Fr(r)&&e.on("init",h=>{c(h,!0),e.on("change SetContent ExecCommand",c),e.on("paste",v=>Qg.setEditorTimeout(e,()=>c(v)))})},PW=e=>t=>We(t)&&t.nodeName.toLowerCase()===e,Gw=e=>t=>We(t)&&e.test(t.nodeName),C0=e=>We(e)&&e.nodeType===3,s4=e=>We(e)&&e.nodeType===1,ag=Gw(/^(OL|UL|DL)$/),$W=Gw(/^(OL|UL)$/),r4=Gw(/^(LI|DT|DD)$/),IW=Gw(/^(DT|DD)$/),Qx=PW("br"),HW=e=>e.parentNode?.firstChild===e,GO=(e,t)=>We(t)&&t.nodeName in e.schema.getTextBlockElements(),KO=(e,t)=>We(e)&&e.nodeName in t,zW=(e,t)=>We(t)&&t.nodeName in e.schema.getVoidElements(),jW=(e,t)=>Qx(t)?e.isBlock(t.nextSibling)&&!Qx(t.previousSibling):!1,Jx=(e,t,o)=>{const r=e.isEmpty(t);return o&&e.select("span[data-mce-type=bookmark]",t).length>0?!1:r},iP=(e,t)=>e.isChildOf(t,e.getRoot()),lP=ds.DOM,VW=(e,t)=>{const o=t.parentElement;if(o&&o.nodeName==="LI"&&o.firstChild===t){const r=o.previousSibling;r&&r.nodeName==="LI"?(r.appendChild(t),Jx(e,o)&&lP.remove(o)):lP.setStyle(o,"listStyleType","none")}if(ag(o)){const r=o.previousSibling;r&&r.nodeName==="LI"&&r.appendChild(t)}},YO=(e,t)=>{const o=on.grep(e.select("ol,ul",t));on.each(o,r=>{VW(e,r)})},cP=(e,t)=>{if(C0(e))return{container:e,offset:t};const o=f0.getNode(e,t);return C0(o)?{container:o,offset:t>=e.childNodes.length?o.data.length:0}:o.previousSibling&&C0(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&C0(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:t}},XO=e=>{const t=e.cloneRange(),o=cP(e.startContainer,e.startOffset);t.setStart(o.container,o.offset);const r=cP(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},uP=["OL","UL","DL"],dP=uP.join(","),NE=(e,t)=>{const o=e.selection.getStart(!0);return e.dom.getParent(o,dP,RE(e,o))},fP=(e,t)=>We(e)&&t.length===1&&t[0]===e,UW=e=>xt(e.querySelectorAll(dP),ag),ZW=e=>{const t=NE(e),o=e.selection.getSelectedBlocks();return fP(t,o)?UW(t):xt(o,r=>ag(r)&&t!==r)},WW=(e,t)=>{const o=on.map(t,r=>{const c=e.dom.getParent(r,"li,dd,dt",RE(e,r));return c||r});return Ma(o)},QO=e=>{const t=e.selection.getSelectedBlocks();return xt(WW(e,t),r4)},qW=e=>xt(QO(e),IW),JO=(e,t)=>{const o=e.dom.getParents(t,"TD,TH");return o.length>0?o[0]:e.getBody()},GW=(e,t)=>!ag(t)&&!r4(t)&&Ye(uP,o=>e.isValidChild(t.nodeName,o)),RE=(e,t)=>{const o=e.dom.getParents(t,e.dom.isBlock),r=h=>h.nodeName.toLowerCase()!==bl(e);return Un(o,h=>r(h)&&GW(e.schema,h)).getOr(e.getBody())},mP=e=>Wi(e).exists(t=>r4(t.dom)&&ai(t).exists(o=>!ag(o.dom))&&ii(t).exists(o=>!ag(o.dom))),hP=(e,t)=>{const o=e.dom.getParents(t,"ol,ul",RE(e,t));return Yr(o)},KW=e=>{const t=hP(e,e.selection.getStart()),o=xt(e.selection.getSelectedBlocks(),$W);return t.toArray().concat(o)},YW=e=>{const t=e.selection.getStart();return e.dom.getParents(t,"ol,ul",RE(e,t))},XW=e=>{const t=KW(e),o=YW(e);return Un(o,r=>mP(_e.fromDom(r))).fold(()=>QW(e,t),r=>[r])},QW=(e,t)=>{const o=et(t,r=>hP(e,r).getOr(r));return Ma(o)},a4=e=>/\btox\-/.test(e.className),gP=(e,t)=>t!==null&&!e.dom.isEditable(t),JW=e=>{const t=NE(e);return gP(e,t)||!e.selection.isEditable()},eN=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return gP(e,o)||!e.selection.isEditable()},pv=(e,t,o)=>e.dispatch("ListMutation",{action:t,element:o}),tN=(e,t,o={})=>{const r=e.dom,c=e.schema.getBlockElements(),h=r.createFragment(),v=bl(e),T=th(e);let k,L,W=!1;for(L=r.create(v,{...T,...o.style?{style:o.style}:{}}),KO(t.firstChild,c)||h.appendChild(L);k=t.firstChild;){const G=k.nodeName;!W&&(G!=="SPAN"||k.getAttribute("data-mce-type")!=="bookmark")&&(W=!0),KO(k,c)?(h.appendChild(k),L=null):(L||(L=r.create(v,T),h.appendChild(L)),L.appendChild(k))}return!W&&L&&L.appendChild(r.create("br",{"data-mce-bogus":"1"})),h},Kw=e=>Sh(e,"OL,UL"),$ne=e=>Sh(e,"LI"),nN=e=>ai(e).exists(Kw),eq=e=>ii(e).exists(Kw),pP=(e,t)=>yS(e).map(o=>o>=t).getOr(!0),e2=e=>"listAttributes"in e,bP=e=>"isComment"in e,tq=e=>"isFragment"in e,yP=e=>e.depth>0,nq=e=>e.isSelected,oq=e=>{const t=fa(e),o=eq(e)?t.slice(0,-1):t;return et(o,Df)},oN=(e,t,o)=>Wi(e).filter(da).map(r=>({depth:t,dirty:!1,isSelected:o,content:oq(e),itemAttributes:rs(e),listAttributes:rs(r),listType:ts(r),isInPreviousLi:!1})),i4=(e,t)=>{Fs(e.item,t.list)},sq=e=>{for(let t=1;t<e.length;t++)i4(e[t-1],e[t])},vP=(e,t)=>{Rn(Yr(e),xs(t),i4)},rq=(e,t)=>{const o={list:_e.fromTag(t,e),item:_e.fromTag("li",e)};return Fs(o.list,o.item),o},aq=(e,t,o)=>{const r=[];for(let c=0;c<o;c++)r.push(rq(e,e2(t)?t.listType:t.parentListType));return r},iq=(e,t)=>{for(let o=0;o<e.length-1;o++)Bl(e[o].item,"list-style-type","none");Yr(e).each(o=>{e2(t)&&(qa(o.list,t.listAttributes),qa(o.item,t.itemAttributes)),hc(o.item,t.content)})},lq=(e,t)=>{ts(e.list)!==t.listType&&(e.list=Ga(e.list,t.listType)),qa(e.list,t.listAttributes)},cq=(e,t,o)=>{const r=_e.fromTag("li",e);return qa(r,t),hc(r,o),r},uq=(e,t)=>{Fs(e.list,t),e.item=t},xP=(e,t,o)=>{const r=t.slice(0,o.depth);return Yr(r).each(c=>{if(e2(o)){const h=cq(e,o.itemAttributes,o.content);uq(c,h),lq(c,o)}else if(tq(o))hc(c.item,o.content);else{const h=_e.fromHtml(`<!--${o.content}-->`);Fs(c.list,h)}}),r},dq=(e,t,o)=>{const r=aq(e,o,o.depth-t.length);return sq(r),iq(r,o),vP(t,r),t.concat(r)},fq=(e,t)=>{let o=X.none();const r=vt(t,(c,h,v)=>bP(h)?v===0?(o=X.some(h),c):xP(e,c,h):h.depth>c.length?dq(e,c,h):xP(e,c,h),[]);return o.each(c=>{const h=_e.fromHtml(`<!--${c.content}-->`);xs(r).each(v=>{ef(v.list,h)})}),xs(r).map(c=>c.list)},mq=(e,t,o)=>{switch(t){case"Indent":if(pP(e,o.depth))o.depth++;else return;break;case"Outdent":o.depth--;break;case"Flatten":o.depth=0}o.dirty=!0},sN=(e,t)=>{e2(e)&&e2(t)&&(e.listType=t.listType,e.listAttributes={...t.listAttributes})},hq=e=>{e.listAttributes=Gn(e.listAttributes,(t,o)=>o!=="start")},gq=(e,t)=>{const o=e[t].depth,r=h=>h.depth===o&&!h.dirty,c=h=>h.depth<o;return ln(_s(e.slice(0,t)),r,c).orThunk(()=>ln(e.slice(t+1),r,c))},wP=e=>(Le(e,(t,o)=>{gq(e,o).fold(()=>{t.dirty&&e2(t)&&hq(t)},r=>sN(t,r))}),e),CP=(e,t,o,r)=>{if(xd(r))return[{depth:e+1,content:r.dom.nodeValue??"",dirty:!1,isSelected:!1,isComment:!0}];t.each(v=>{es(v.start,r)&&o.set(!0)});const c=oN(r,e,o.get());t.each(v=>{es(v.end,r)&&o.set(!1)});const h=ii(r).filter(Kw).map(v=>ME(e,t,o,v)).getOr([]);return c.toArray().concat(h)},pq=(e,t,o,r)=>ai(r).filter(Kw).fold(()=>CP(e,t,o,r),c=>{const h=vt(fa(r),(v,T,k)=>{if(k===0)return v;if($ne(T))return v.concat(CP(e,t,o,T));{const L={isFragment:!0,depth:e,content:[T],isSelected:!1,dirty:!1,parentListType:ts(c)};return v.concat(L)}},[]);return ME(e,t,o,c).concat(h)}),ME=(e,t,o,r)=>Io(fa(r),c=>{const h=Kw(c)?ME:pq,v=e+1;return h(v,t,o,c)}),t2=(e,t)=>{const o=Bn(!1),r=0;return et(e,c=>({sourceList:c,entries:ME(r,t,o,c)}))},SP=(e,t)=>{const o=wP(t);return et(o,r=>{const c=bP(r)?Ou([_e.fromHtml(`<!--${r.content}-->`)]):Ou(r.content),h=e2(r)?r.itemAttributes:{};return _e.fromDom(tN(e,c.dom,h))})},bq=(e,t)=>{const o=wP(t);return fq(e.contentDocument,o).toArray()},yq=(e,t)=>Io(jn(t,yP),o=>xs(o).exists(yP)?bq(e,o):SP(e,o)),vq=(e,t,o)=>{Le(xt(t,nq),r=>mq(e,o,r))},xq=e=>{const t=et(QO(e),_e.fromDom);return Rn(Un(t,Ue(nN)),Un(_s(t),Ue(nN)),(o,r)=>({start:o,end:r}))},Yw=(e,t,o)=>{const r=t2(t,xq(e));Le(r,c=>{vq(e,c.entries,o);const h=yq(e,c.entries);Le(h,v=>{pv(e,o==="Indent"?"IndentList":"OutdentList",v.dom)}),Bm(c.sourceList,h),ys(c.sourceList)})},wq=e=>yS(e).forall(t=>{const o=e.selection.getSelectedBlocks();return Ye(o,r=>El(_e.fromDom(r),"li").forall(c=>Ge(c,"ol,ul").length<=t))}),E1=ds.DOM,rN=(e,t,o)=>{const r=L=>{const W=L.parentNode;W&&on.each(c,G=>{W.insertBefore(G,o.parentNode)}),E1.remove(L)},c=E1.select('span[data-mce-type="bookmark"]',t),h=tN(e,o),v=E1.createRng();v.setStartAfter(o),v.setEndAfter(t);const T=v.extractContents();for(let L=T.firstChild;L;L=L.firstChild)if(L.nodeName==="LI"&&e.dom.isEmpty(L)){E1.remove(L);break}e.dom.isEmpty(T)||E1.insertAfter(T,t),E1.insertAfter(h,t);const k=o.parentElement;k&&Jx(e.dom,k)&&r(k),E1.remove(o),Jx(e.dom,t)&&E1.remove(t)},Cq=Fa("dd"),aN=Fa("dt"),l4=(e,t)=>{Cq(t)?Ga(t,"dt"):aN(t)&&Jc(t).each(o=>rN(e,o.dom,t.dom))},Sq=e=>{aN(e)&&Ga(e,"dd")},Eq=(e,t,o)=>{t==="Indent"?Le(o,Sq):Le(o,r=>l4(e,r))},Tq=(e,t)=>{const o=Sd(XW(e)),r=Sd(qW(e));let c=!1;if(o.length||r.length){const h=e.selection.getBookmark();Yw(e,o,t),Eq(e,t,r),e.selection.moveToBookmark(h),e.selection.setRng(XO(e.selection.getRng())),e.nodeChanged(),c=!0}return c},iN=(e,t)=>!JW(e)&&Tq(e,t),EP=e=>iN(e,"Indent"),BE=e=>iN(e,"Outdent"),c4=e=>iN(e,"Flatten"),Xw=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Aq=(e,t,o)=>{const r=o["list-style-type"]?o["list-style-type"]:null;e.setStyle(t,"list-style-type",r)},TP=(e,t)=>{on.each(t,(o,r)=>{e.setAttribute(r,o)})},kq=(e,t,o)=>{TP(t,o["list-attributes"]),on.each(e.select("li",t),r=>{TP(r,o["list-item-attributes"])})},Qw=(e,t,o)=>{Aq(e,t,o),kq(e,t,o)},_q=(e,t,o)=>{on.each(o,r=>e.setStyle(t,r,""))},u4=(e,t)=>We(t)&&!KO(t,e.schema.getBlockElements()),lN=(e,t,o,r)=>{let c=t[o?"startContainer":"endContainer"];const h=t[o?"startOffset":"endOffset"];s4(c)&&(c=c.childNodes[Math.min(h,c.childNodes.length-1)]||c),!o&&Qx(c.nextSibling)&&(c=c.nextSibling);const v=k=>{for(;!e.dom.isBlock(k)&&k.parentNode&&r!==k;)k=k.parentNode;return k},T=(k,L)=>{const W=new Ya(k,v(k)),G=L?"next":"prev";let Q;for(;Q=W[G]();)if(!(zW(e,Q)||Ei(Q.textContent)||Q.textContent?.length===0))return X.some(Q);return X.none()};if(o&&C0(c))if(Ei(c.textContent))c=T(c,!1).getOr(c);else for(c.parentNode!==null&&u4(e,c.parentNode)&&(c=c.parentNode);c.previousSibling!==null&&(u4(e,c.previousSibling)||C0(c.previousSibling));)c=c.previousSibling;if(!o&&C0(c))if(Ei(c.textContent))c=T(c,!0).getOr(c);else for(c.parentNode!==null&&u4(e,c.parentNode)&&(c=c.parentNode);c.nextSibling!==null&&(u4(e,c.nextSibling)||C0(c.nextSibling));)c=c.nextSibling;for(;c.parentNode!==r;){const k=c.parentNode;if(GO(e,c)||/^(TD|TH)$/.test(k.nodeName))return c;c=k}return c},Dq=(e,t,o)=>{const r=[],c=e.dom,h=lN(e,t,!0,o),v=lN(e,t,!1,o);let T;const k=[];for(let L=h;L&&(k.push(L),L!==v);L=L.nextSibling);return on.each(k,L=>{if(GO(e,L)){r.push(L),T=null;return}if(c.isBlock(L)||Qx(L)){Qx(L)&&c.remove(L),T=null;return}const W=L.nextSibling;if(Tw.isBookmarkNode(L)&&(ag(W)||GO(e,W)||!W&&L.parentNode===o)){T=null;return}T||(T=c.create("p"),L.parentNode?.insertBefore(T,L),r.push(T)),T.appendChild(L)}),r},Oq=(e,t,o)=>{const r=e.getStyle(t,"list-style-type");let c=o?o["list-style-type"]:"";return c=c===null?"":c,r===c},Nq=(e,t)=>{const o=e.selection.getStart(!0),r=lN(e,t,!0,e.getBody());return ns(_e.fromDom(r),_e.fromDom(t.commonAncestorContainer))?t.commonAncestorContainer:o},cN=(e,t,o)=>{const r=e.selection.getRng();let c="LI";const h=RE(e,Nq(e,r)),v=e.dom;if(v.getContentEditable(e.selection.getNode())==="false")return;t=t.toUpperCase(),t==="DL"&&(c="DT");const T=w1(r),k=xt(Dq(e,r,h),e.dom.isEditable);on.each(k,L=>{let W;const G=L.previousSibling,Q=L.parentNode;r4(Q)||(G&&ag(G)&&G.nodeName===t&&Oq(v,G,o)?(W=G,L=v.rename(L,c),G.appendChild(L)):(W=v.create(t),Q.insertBefore(W,L),W.appendChild(L),L=v.rename(L,c)),_q(v,L,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Qw(v,W,o),uN(e.dom,W))}),e.selection.setRng(eg(T))},Rq=(e,t)=>ag(e)&&e.nodeName===t?.nodeName,AP=(e,t,o)=>{const r=e.getStyle(t,"list-style-type",!0),c=e.getStyle(o,"list-style-type",!0);return r===c},Mq=(e,t)=>e.className===t.className,kP=(e,t,o)=>Rq(t,o)&&AP(e,t,o)&&Mq(t,o),uN=(e,t)=>{let o,r=t.nextSibling;if(kP(e,t,r)){const c=r;for(;o=c.firstChild;)t.appendChild(o);e.remove(c)}if(r=t.previousSibling,kP(e,t,r)){const c=r;for(;o=c.lastChild;)t.insertBefore(o,t.firstChild);e.remove(c)}},Bq=(e,t,o,r)=>{if(t.nodeName!==o){const c=e.dom.rename(t,o);Qw(e.dom,c,r),pv(e,Xw(o),c)}else Qw(e.dom,t,r),pv(e,Xw(o),t)},Lq=(e,t,o,r)=>{if(t.classList.forEach((c,h,v)=>{c.startsWith("tox-")&&(v.remove(c),v.length===0&&t.removeAttribute("class"))}),t.nodeName!==o){const c=e.dom.rename(t,o);Qw(e.dom,c,r),pv(e,Xw(o),c)}else Qw(e.dom,t,r),pv(e,Xw(o),t)},dN=(e,t,o,r,c)=>{const h=ag(t);if(h&&t.nodeName===r&&!_P(c)&&!a4(t))c4(e);else{cN(e,r,c);const v=w1(e.selection.getRng()),T=h?[t,...o]:o,k=h&&a4(t)?Lq:Bq;on.each(T,L=>{k(e,L,r,c)}),e.selection.setRng(eg(v))}},_P=e=>"list-style-type"in e,Fq=(e,t,o,r)=>{if(t!==e.getBody())if(t)if(t.nodeName===o&&!_P(r)&&!a4(t))c4(e);else{const c=w1(e.selection.getRng());a4(t)&&t.classList.forEach((v,T,k)=>{v.startsWith("tox-")&&(k.remove(v),k.length===0&&t.removeAttribute("class"))}),Qw(e.dom,t,r);const h=e.dom.rename(t,o);uN(e.dom,h),e.selection.setRng(eg(c)),cN(e,o,r),pv(e,Xw(o),h)}else cN(e,o,r),pv(e,Xw(o),t)},fN=(e,t,o)=>{const r=NE(e);if(eN(e,r))return;const c=ZW(e),h=rt(o)?o:{};c.length>0?dN(e,r,c,t,h):Fq(e,r,t,h)},DP=(e,t,o,r)=>{let c=t.startContainer;const h=t.startOffset;if(C0(c)&&(o?h<c.data.length:h>0))return c;const v=e.schema.getNonEmptyElements();s4(c)&&(c=f0.getNode(c,h));const T=new Ya(c,r);o&&jW(e.dom,c)&&T.next();const k=o?T.next.bind(T):T.prev2.bind(T);for(;c=k();)if(c.nodeName==="LI"&&!c.hasChildNodes()||v[c.nodeName]||C0(c)&&c.data.length>0)return c;return null},OP=(e,t)=>{const o=t.childNodes;return o.length===1&&!ag(o[0])&&e.isBlock(o[0])},Pq=e=>X.from(e).map(_e.fromDom).filter(wd).exists(t=>yr(t)&&!Be(["details"],ts(t))),$q=(e,t)=>{OP(e,t)&&Pq(t.firstChild)&&e.remove(t.firstChild,!0)},NP=(e,t,o)=>{let r;const c=OP(e,o)?o.firstChild:o;if($q(e,t),!Jx(e,t,!0))for(;r=t.firstChild;)c.appendChild(r)},mN=(e,t,o)=>{let r;const c=t.parentNode;if(!iP(e,t)||!iP(e,o))return;ag(o.lastChild)&&(r=o.lastChild),c===o.lastChild&&Qx(c.previousSibling)&&e.remove(c.previousSibling);const h=o.lastChild;h&&Qx(h)&&t.hasChildNodes()&&e.remove(h),Jx(e,o,!0)&&ql(_e.fromDom(o)),NP(e,t,o),r&&o.appendChild(r);const T=mc(_e.fromDom(o),_e.fromDom(t))?e.getParents(t,ag,o):[];e.remove(t),Le(T,k=>{Jx(e,k)&&k!==e.getRoot()&&e.remove(k)})},Iq=(e,t,o)=>{ql(_e.fromDom(o)),mN(e.dom,t,o),e.selection.setCursorLocation(o,0)},Hq=(e,t,o,r)=>{const c=e.dom;if(c.isEmpty(r))Iq(e,o,r);else{const h=w1(t);mN(c,o,r),e.selection.setRng(eg(h))}},zq=(e,t,o,r)=>{const c=w1(t);mN(e.dom,o,r);const h=eg(c);e.selection.setRng(h)},jq=(e,t)=>{const o=e.dom,r=e.selection,c=r.getStart(),h=JO(e,c),v=o.getParent(r.getStart(),"LI",h);if(v){const T=v.parentElement;if(T===e.getBody()&&Jx(o,T))return!0;const k=XO(r.getRng()),L=o.getParent(DP(e,k,t,h),"LI",h),W=L&&(t?o.isChildOf(v,L):o.isChildOf(L,v));if(L&&L!==v&&!W)return e.undoManager.transact(()=>{t?Hq(e,k,L,v):HW(v)?BE(e):zq(e,k,v,L)}),!0;if(W&&!t&&L!==v){const G=k.commonAncestorContainer.parentElement;return!G||o.isChildOf(L,G)?!1:(e.undoManager.transact(()=>{const Q=w1(k);NP(o,G,L),G.remove();const ce=eg(Q);e.selection.setRng(ce)}),!0)}else if(!L&&!t&&k.startOffset===0&&k.endOffset===0)return e.undoManager.transact(()=>{c4(e)}),!0}return!1},Vq=(e,t,o)=>{const r=e.getParent(t.parentNode,e.isBlock,o);e.remove(t),r&&e.isEmpty(r)&&e.remove(r)},Uq=(e,t)=>{const o=e.dom,r=e.selection.getStart(),c=JO(e,r),h=o.getParent(r,o.isBlock,c);if(h&&o.isEmpty(h,void 0,{checkRootAsContent:!0})){const v=XO(e.selection.getRng()),T=DP(e,v,t,c),k=o.getParent(T,"LI",c);if(T&&k){const L=ce=>Be(["td","th","caption"],ts(ce)),W=ce=>ce.dom===c,G=Qs(_e.fromDom(k),L,W),Q=Qs(_e.fromDom(v.startContainer),L,W);return vo(G,Q,es)?(e.undoManager.transact(()=>{const ce=k.parentNode;Vq(o,h,c),uN(o,ce),e.selection.select(T,!0),e.selection.collapse(t)}),!0):!1}}return!1},Zq=(e,t)=>jq(e,t)||Uq(e,t),hN=e=>{const t=e.selection.getStart(),o=JO(e,t),r=e.dom.getParent(t,"LI,DT,DD",o);return We(r)||QO(e).length>0},Wq=e=>hN(e)?(e.undoManager.transact(()=>{let t=!0;const o=()=>t=!1;e.on("input",o),e.execCommand("Delete"),e.off("input",o),t&&e.dispatch("input"),YO(e.dom,e.getBody())}),!0):!1,gN=(e,t)=>{const o=e.selection;return!eN(e,o.getNode())&&(o.isCollapsed()?Zq(e,t):Wq(e))},qq=(e,t)=>({block:e,position:t}),Gq=(e,t)=>({from:e,to:t}),d4=(e,t)=>{const o=_e.fromDom(e),r=_e.fromDom(t.container());return jD(o,r).map(c=>qq(c,t))},Kq=e=>!(mc(e.to.block,e.from.block)||mc(e.from.block,e.to.block)),Yq=e=>!es(e.from.block,e.to.block),pN=(e,t)=>Qs(t,c=>jh(c)||Bu(c.dom),c=>es(c,e)).filter(da).getOr(e),Xq=(e,t)=>{const o=_e.fromDom(e);return es(pN(o,t.from.block),pN(o,t.to.block))},Qq=e=>ta(e.from.block.dom)===!1&&ta(e.to.block.dom)===!1,Jq=e=>{const t=o=>Sc(o)||Zt(o.dom)||mu(o);return t(e.from.block)&&t(e.to.block)},eG=(e,t,o,r)=>ia(r.position.getNode())&&!_a(e,r.block)?y(!1,r.block.dom).bind(c=>c.isEqual(r.position)?Zf(o,t,c).bind(h=>d4(t,h)):X.some(r)).getOr(r):r,bN=(e,t,o,r)=>{const c=d4(t,kt.fromRangeStart(r)),h=c.bind(v=>Zf(o,t,v.position).bind(T=>d4(t,T).map(k=>eG(e,t,o,k))));return Rn(c,h,Gq).filter(v=>Yq(v)&&Xq(t,v)&&Qq(v)&&Jq(v)&&Kq(v))},RP=(e,t,o,r)=>r.collapsed?bN(e,t,o,r):X.none(),Ine=(e,t)=>{const o=fa(e);return Qo(o,r=>t.isBlock(ts(r))).fold(at(o),r=>o.slice(0,r))},Jw=(e,t)=>{const o=Ine(e,t);return Le(o,ys),o},tG=(e,t,o)=>{const r=Jg(o,t);return Un(r.reverse(),c=>_a(e,c)).each(ys)},Hne=(e,t)=>xt(qi(t),o=>!_a(e,o)).length===0,zne=(e,t,o,r,c)=>{if(_a(r,o))return Vh(o),H(o.dom);Hne(r,c)&&_a(r,t)&&ul(c,_e.fromTag("br"));const h=_(o.dom,kt.before(c.dom));return Le(Jw(t,r),v=>{ul(c,v)}),tG(r,e,t),h},jne=(e,t)=>e.isInline(ts(t)),S0=(e,t,o,r)=>{if(_a(r,o)){if(_a(r,t)){const v=go((T=>{const k=(L,W)=>ai(L).fold(()=>W,G=>jne(r,G)?k(G,W.concat(ki(G))):W);return k(T,[])})(o),(T,k)=>(Ml(T,k),k),Pg());ql(t),Fs(t,v)}return ys(o),H(t.dom)}const c=q(o.dom);return Le(Jw(t,r),h=>{Fs(o,h)}),tG(r,e,t),c},LE=(e,t)=>{const o=Jg(t,e);return X.from(o[o.length-1])},E0=(e,t)=>mc(t,e)?LE(t,e):X.none(),bv=(e,t)=>{y(e,t.dom).bind(o=>X.from(o.getNode())).map(_e.fromDom).filter($d).each(ys)},f4=(e,t,o,r)=>(bv(!0,t),bv(!1,o),E0(t,o).fold(le(S0,e,t,o,r),le(zne,e,t,o,r))),yN=(e,t,o,r,c)=>t?f4(e,r,o,c):f4(e,o,r,c),n2=(e,t)=>{const o=_e.fromDom(e.getBody());return RP(e.schema,o.dom,t,e.selection.getRng()).map(c=>()=>{yN(o,t,c.from.block,c.to.block,e.schema).each(h=>{e.selection.setRng(h.toRange())})})},nG=(e,t,o)=>{const r=t.getRng();return Rn(jD(e,_e.fromDom(r.startContainer)),jD(e,_e.fromDom(r.endContainer)),(c,h)=>es(c,h)?X.none():X.some(()=>{r.deleteContents(),yN(e,!0,c,h,o).each(v=>{t.setRng(v.toRange())})})).getOr(X.none())},vN=(e,t)=>{const o=_e.fromDom(t),r=le(es,e);return _d(o,jh,r).isSome()},Vne=(e,t)=>vN(e,t.startContainer)||vN(e,t.endContainer),oG=(e,t)=>{const o=_(e.dom,kt.fromRangeStart(t)).isNone(),r=E(e.dom,kt.fromRangeEnd(t)).isNone();return!Vne(e,t)&&o&&r},FE=e=>X.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),MP=e=>{const t=_e.fromDom(e.getBody()),o=e.selection.getRng();return oG(t,o)?FE(e):nG(t,e.selection,e.schema)},nl=(e,t)=>e.selection.isCollapsed()?X.none():MP(e),Qb=(e,t,o,r,c)=>X.from(t._selectionOverrides.showCaret(e,o,r,c)),sG=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},T1=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?X.none():X.some(sG(t)),o2=(e,t,o)=>{const r=gw(1,e.getBody(),t),c=kt.fromRangeStart(r),h=c.getNode();if(Uf(h))return Qb(1,e,h,!c.isAtEnd(),!1);const v=c.getNode(!0);if(Uf(v))return Qb(1,e,v,!1,!1);const T=m0(e.dom.getRoot(),c.getNode());return Uf(T)?Qb(1,e,T,!1,o):X.none()},Jb=(e,t,o)=>t.collapsed?o2(e,t,o).getOr(t):t,rG=e=>jb(e)||US(e),aG=e=>v1(e)||ZS(e),xN=(e,t)=>{cn(t)&&t.data.length===0&&e.remove(t)},m4=(e,t,o,r,c,h)=>{Qb(r,e,h.getNode(!c),c,!0).each(v=>{if(t.collapsed){const T=t.cloneRange();c?T.setEnd(v.startContainer,v.startOffset):T.setStart(v.endContainer,v.endOffset),T.deleteContents()}else t.deleteContents();e.selection.setRng(v)}),xN(e.dom,o)},BP=(e,t)=>{const o=e.selection.getRng();if(!cn(o.commonAncestorContainer))return X.none();const r=t?1:-1,c=Xh(e.getBody()),h=le(bw,t?c.next:c.prev),v=t?rG:aG,T=g1(r,e.getBody(),o),k=h(T),L=k&&Jh(t,k);if(!L||!Yh(T,L))return X.none();if(v(L))return X.some(()=>m4(e,o,T.getNode(),r,t,L));const W=h(L);return W&&v(W)&&Yh(L,W)?X.some(()=>m4(e,o,T.getNode(),r,t,W)):X.none()},h4=(e,t)=>BP(e,t),wN=(e,t)=>{const o=e.getBody();return t?H(o).filter(jb):q(o).filter(v1)},CN=e=>{const t=e.selection.getRng();return!t.collapsed&&(wN(e,!0).exists(o=>o.isEqual(kt.fromRangeStart(t)))||wN(e,!1).exists(o=>o.isEqual(kt.fromRangeEnd(t))))},SN=e=>We(e)&&(jh(_e.fromDom(e))||mu(_e.fromDom(e))),ch=gi.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),iG=(e,t)=>{const o=t.getNode(!e),r=e?"after":"before";return xn(o)&&o.getAttribute("data-mce-caret")===r},lG=(e,t,o,r,c)=>{const h=v=>c.isInline(v.nodeName.toLowerCase())&&!qg(o,r,e);return pw(!t,o).fold(()=>pw(t,r).fold(He,h),h)},LP=(e,t,o,r,c)=>{const h=c.getNode(!o);return jD(_e.fromDom(t),_e.fromDom(r.getNode())).map(v=>_a(e,v)?ch.remove(v.dom):ch.moveToElement(h)).orThunk(()=>X.some(ch.moveToElement(h)))},FP=(e,t,o,r)=>Zf(t,e,o).bind(c=>SN(c.getNode())||lG(e,t,o,c,r)?X.none():t&&ta(c.getNode())||!t&&ta(c.getNode(!0))?LP(r,e,t,o,c):t&&v1(o)||!t&&jb(o)?X.some(ch.moveToPosition(c)):X.none()),EN=(e,t)=>dn(t)?X.none():e&&ta(t.nextSibling)?X.some(ch.moveToElement(t.nextSibling)):!e&&ta(t.previousSibling)?X.some(ch.moveToElement(t.previousSibling)):X.none(),PP=(e,t,o)=>o.fold(r=>X.some(ch.remove(r)),r=>X.some(ch.moveToElement(r)),r=>qg(t,r,e)?X.none():X.some(ch.moveToPosition(r))),cG=(e,t,o,r)=>iG(t,o)?EN(t,o.getNode(!t)).orThunk(()=>FP(e,t,o,r)):FP(e,t,o,r).bind(c=>PP(e,o,c)),uG=(e,t,o,r)=>{const c=gw(t?1:-1,e,o),h=kt.fromRangeStart(c),v=_e.fromDom(e);return!t&&v1(h)?X.some(ch.remove(h.getNode(!0))):t&&jb(h)?X.some(ch.remove(h.getNode())):!t&&jb(h)&&ik(v,h,r)?L6(v,h,r).map(T=>ch.remove(T.getNode())):t&&v1(h)&&FD(v,h,r)?Pj(v,h,r).map(T=>ch.remove(T.getNode())):cG(e,t,h,r)},eC=(e,t)=>o=>(e._selectionOverrides.hideFakeCaret(),x1(e,t,_e.fromDom(o)),!0),$P=(e,t)=>o=>{const r=t?kt.before(o):kt.after(o);return e.selection.setRng(r.toRange()),!0},dG=e=>t=>(e.selection.setRng(t.toRange()),!0),TN=(e,t)=>X.from(m0(e.getBody(),t)),fG=(e,t)=>{const o=e.selection.getNode();return TN(e,o).filter(ta).fold(()=>uG(e.getBody(),t,e.selection.getRng(),e.schema).map(r=>()=>r.fold(eC(e,t),$P(e,t),dG(e))),()=>X.some(Mt))},IP=e=>{Le(At(e,".mce-offscreen-selection"),ys)},mG=(e,t)=>{const o=e.selection.getNode();return ta(o)&&!Np(o)?TN(e,o.parentNode).filter(ta).fold(()=>X.some(()=>{IP(_e.fromDom(e.getBody())),x1(e,t,_e.fromDom(e.selection.getNode())),e8(e)}),()=>X.some(Mt)):CN(e)?X.some(()=>{rV(e,e.selection.getRng(),_e.fromDom(e.getBody()))}):X.none()},AN=e=>{const t=e.dom,o=e.selection,r=m0(e.getBody(),o.getNode());if(Bu(r)&&t.isBlock(r)&&t.isEmpty(r)){const c=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(c),o.setRng(kt.before(c).toRange())}return!0},g4=(e,t)=>e.selection.isCollapsed()?fG(e,t):mG(e,t),p4=(e,t)=>{const o=e.dom,r=o.getParent(e.selection.getStart(),o.isBlock),c=o.getParent(e.selection.getEnd(),o.isBlock),h=e.getBody();if(r?.nodeName?.toLowerCase()==="div"&&r&&c&&r===h.firstChild&&c===h.lastChild&&!o.isEmpty(h)){const T=r.cloneNode(!1),k=()=>{if(t?oV(e):zD(e),h.firstChild!==r){const L=w1(e.selection.getRng(),()=>document.createElement("span"));Array.from(h.childNodes).forEach(W=>T.appendChild(W)),h.appendChild(T),e.selection.setRng(eg(L))}};return X.some(k)}return X.none()},HP=(e,t)=>{const o=kt.fromRangeStart(e.selection.getRng());return Zf(t,e.getBody(),o).filter(r=>t?OD(r):_6(r)).bind(r=>AS(t?0:-1,r)).map(r=>()=>e.selection.select(r))},b4=(e,t)=>e.selection.isCollapsed()?HP(e,t):X.none(),s2=cn,zP=e=>s2(e)&&e.data[0]===Hi,jP=e=>s2(e)&&e.data[e.data.length-1]===Hi,VP=e=>(e.ownerDocument??document).createTextNode(Hi),kN=e=>{if(s2(e.previousSibling))return jP(e.previousSibling)||e.previousSibling.appendData(Hi),e.previousSibling;if(s2(e))return zP(e)||e.insertData(0,Hi),e;{const t=VP(e);return e.parentNode?.insertBefore(t,e),t}},PE=e=>{if(s2(e.nextSibling))return zP(e.nextSibling)||e.nextSibling.insertData(0,Hi),e.nextSibling;if(s2(e))return jP(e)||e.appendData(Hi),e;{const t=VP(e);return e.nextSibling?e.parentNode?.insertBefore(t,e.nextSibling):e.parentNode?.appendChild(t),t}},yv=(e,t)=>e?kN(t):PE(t),_N=le(yv,!0),UP=le(yv,!1),DN=(e,t)=>cn(e.container())?yv(t,e.container()):yv(t,e.getNode()),$E=(e,t)=>{const o=t.get();return o&&e.container()===o&&pm(o)},ON=(e,t)=>t.fold(o=>{Lb(e.get());const r=_N(o);return e.set(r),X.some(kt(r,r.length-1))},o=>H(o).map(r=>{if($E(r,e)){const c=e.get();return kt(c,1)}else{Lb(e.get());const c=DN(r,!0);return e.set(c),kt(c,1)}}),o=>q(o).map(r=>{if($E(r,e)){const c=e.get();return kt(c,c.length-1)}else{Lb(e.get());const c=DN(r,!1);return e.set(c),kt(c,c.length-1)}}),o=>{Lb(e.get());const r=UP(o);return e.set(r),X.some(kt(r,1))}),ZP=(e,t)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,t);if(r.isSome())return r}return X.none()},kc=gi.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),y4=(e,t)=>{const o=m1(t,e);return o||e},WP=(e,t,o)=>{const r=X6(o),c=y4(t,r.container());return rv(e,c,r).fold(()=>E(c,r).bind(le(rv,e,c)).map(h=>kc.before(h)),X.none)},IE=(e,t)=>Se(e,t)===null,NN=(e,t,o)=>rv(e,t,o).filter(le(IE,t)),RN=(e,t,o)=>{const r=Q6(o);return NN(e,t,r).bind(c=>_(c,r).isNone()?X.some(kc.start(c)):X.none())},qP=(e,t,o)=>{const r=X6(o);return NN(e,t,r).bind(c=>E(c,r).isNone()?X.some(kc.end(c)):X.none())},GP=(e,t,o)=>{const r=Q6(o),c=y4(t,r.container());return rv(e,c,r).fold(()=>_(c,r).bind(le(rv,e,c)).map(h=>kc.after(h)),X.none)},KP=e=>!ID(MN(e)),T0=(e,t,o)=>ZP([WP,RN,qP,GP],[e,t,o]).filter(KP),MN=e=>e.fold(Jn,Jn,Jn,Jn),YP=e=>e.fold(at("before"),at("start"),at("end"),at("after")),v4=e=>e.fold(kc.before,kc.before,kc.after,kc.after),BN=e=>e.fold(kc.start,kc.start,kc.end,kc.end),LN=(e,t)=>YP(e)===YP(t)&&MN(e)===MN(t),hG=(e,t,o,r,c,h)=>Rn(rv(t,o,r),rv(t,o,c),(v,T)=>v!==T&&tV(o,v,T)?kc.after(e?v:T):h).getOr(h),XP=(e,t)=>e.fold(dt,o=>!LN(o,t)),gG=(e,t,o,r,c)=>{const h=Jh(e,c);return Zf(e,o,h).map(le(Jh,e)).fold(()=>r.map(v4),k=>T0(t,o,k).map(le(hG,e,t,o,h,k)).filter(le(XP,r))).filter(KP)},pG=(e,t)=>e?t.fold(P(X.some,kc.start),X.none,P(X.some,kc.after),X.none):t.fold(X.none,P(X.some,kc.before),X.none,P(X.some,kc.end)),bG=(e,t,o,r)=>{const c=Jh(e,r),h=T0(t,o,c);return T0(t,o,c).bind(le(pG,e)).orThunk(()=>gG(e,t,o,h,r))},yG=e=>Ne(e.selection.getSel().modify),QP=(e,t,o)=>{const r=e?1:-1;return t.setRng(kt(o.container(),o.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},vG=(e,t)=>{const o=t.selection.getRng(),r=e?kt.fromRangeEnd(o):kt.fromRangeStart(o);return yG(t)?e&&Wm(r)?QP(!0,t.selection,r):!e&&Ig(r)?QP(!1,t.selection,r):!1:!1};var A1;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(A1||(A1={}));const x4=(e,t)=>e===-1?_s(t):t,xG=(e,t,o)=>e===1?t.next(o):t.prev(o),wG=(e,t,o,r)=>ia(r.getNode(t===1))?A1.Br:qg(o,r)===!1?A1.Block:A1.Wrap,JP=(e,t,o,r)=>{const c=Xh(o);let h=r;const v=[];for(;h;){const T=xG(t,c,h);if(!T)break;if(ia(T.getNode(!1)))return t===1?{positions:x4(t,v).concat([T]),breakType:A1.Br,breakAt:X.some(T)}:{positions:x4(t,v),breakType:A1.Br,breakAt:X.some(T)};if(!T.isVisible()){h=T;continue}if(e(h,T)){const k=wG(o,t,h,T);return{positions:x4(t,v),breakType:k,breakAt:X.some(T)}}v.push(T),h=T}return{positions:x4(t,v),breakType:A1.Eol,breakAt:X.none()}},FN=(e,t,o,r)=>t(o,r).breakAt.map(c=>{const h=t(o,c).positions;return e===-1?h.concat(c):[c].concat(h)}).getOr([]),PN=(e,t)=>vt(e,(o,r)=>o.fold(()=>X.some(r),c=>Rn(xs(c.getClientRects()),xs(r.getClientRects()),(h,v)=>{const T=Math.abs(t-h.left);return Math.abs(t-v.left)<=T?r:c}).or(o)),X.none()),r2=(e,t)=>xs(t.getClientRects()).bind(o=>PN(e,o.left)),zc=le(JP,kt.isAbove,-1),HE=le(JP,kt.isBelow,1),zE=le(FN,-1,zc),vv=le(FN,1,HE),w4=(e,t)=>zc(e,t).breakAt.isNone(),bf=(e,t)=>HE(e,t).breakAt.isNone(),a2=e=>H(e).map(t=>[t].concat(HE(e,t).positions)).getOr([]),e7=e=>q(e).map(t=>zc(e,t).positions.concat(t)).getOr([]),t7=(e,t)=>r2(zE(e,t),t),$N=(e,t)=>r2(vv(e,t),t),CG=ta,IN=(e,t)=>Math.abs(e.left-t),C4=(e,t)=>Math.abs(e.right-t),HN=e=>ss(e,"node"),n7=(e,t)=>Tu(e,(o,r)=>{const c=Math.min(IN(o,t),C4(o,t)),h=Math.min(IN(r,t),C4(r,t));return h===c&&HN(r)&&CG(r.node)||h<c?r:o}),SG=e=>{const t=o=>et(o,r=>{const c=qm(r);return c.node=e,c});if(xn(e))return t(e.getClientRects());if(cn(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),t(o.getClientRects())}else return[]},zN=e=>Io(e,SG);var yf;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(yf||(yf={}));const jN=(e,t,o,r)=>{let c=r;for(;c=kx(c,e,zf,t);)if(o(c))return},o7=(e,t,o,r,c,h)=>{let v=0;const T=[],k=G=>{let Q=zN([G]);e===yf.Up&&(Q=Q.reverse());for(let ce=0;ce<Q.length;ce++){const ke=Q[ce];if(!o(ke,L)){if(T.length>0&&t(ke,Vl(T))&&v++,ke.line=v,c(ke))return!0;T.push(ke)}}return!1},L=Vl(h.getClientRects());if(!L)return T;const W=h.getNode();return W&&(k(W),jN(e,r,k,W)),T},S4=(e,t)=>t.line>e,VN=(e,t)=>t.line===e,s7=le(o7,yf.Up,Zh,Gm),r7=le(o7,yf.Down,Gm,Zh),UN=e=>Vl(e.getClientRects()),EG=(e,t,o,r)=>{const c=Xh(t);let h,v,T,k;const L=[];let W=0;e===yf.Down?(h=c.next,v=Gm,T=Zh,k=kt.after(r)):(h=c.prev,v=Zh,T=Gm,k=kt.before(r));const G=UN(k);do{if(!k.isVisible())continue;const Q=UN(k);if(T(Q,G))continue;L.length>0&&v(Q,Vl(L))&&W++;const ce=qm(Q);if(ce.position=k,ce.line=W,o(ce))return L;L.push(ce)}while(k=h(k));return L},a7=e=>t=>S4(e,t),ZN=e=>t=>VN(e,t),k1=(e,t)=>{e.selection.setRng(t),sh(e,e.selection.getRng())},WN=(e,t,o)=>X.some(Jb(e,t,o)),qN=(e,t)=>{const o=e.getNode(t===-1);return We(o)&&Hl(o)?X.some(o):X.none()},i7=(e,t)=>{const o=e.dom.createRng();return o.selectNode(t),o},l7=(e,t,o,r,c,h)=>{const v=t===1,T=Xh(e.getBody()),k=le(bw,v?T.next:T.prev),L=v?r:c;if(!o.collapsed){const ke=gl(o);if(h(ke))if(Hl(ke)){const ge=g1(t,e.getBody(),o);return X.from(k(ge)).map(Te=>Te.toRange())}else return Qb(t,e,ke,t===-1,!1);else if(CN(e)){const ge=o.cloneRange();return ge.collapse(t===-1),X.from(ge)}}const W=g1(t,e.getBody(),o);if(L(W))return T1(e,W.getNode(!v));let G=k(W);const Q=My(o);if(G)G=Jh(v,G);else return Q?X.some(o):X.none();if(L(G))return qN(G,t).fold(()=>Qb(t,e,G?.getNode(!v),v,!1),ke=>X.some(i7(e,ke)));const ce=k(G);return ce&&L(ce)&&Yh(G,ce)?qN(G,t).fold(()=>Qb(t,e,ce.getNode(!v),v,!1),ke=>X.some(i7(e,ke))):Q?WN(e,G.toRange(),!1):X.none()},c7=(e,t,o,r,c,h)=>{const v=g1(t,e.getBody(),o),T=Vl(v.getClientRects()),k=t===yf.Down,L=e.getBody();if(!T)return X.none();if(CN(e)){const Te=k?kt.fromRangeEnd(o):kt.fromRangeStart(o);return(k?$N:t7)(L,Te).orThunk(()=>X.from(Te)).map(st=>st.toRange())}const G=(k?r7:s7)(L,a7(1),v),Q=xt(G,ZN(1)),ce=T.left,ke=n7(Q,ce);if(ke&&h(ke.node)){const Te=Math.abs(ce-ke.left),nt=Math.abs(ce-ke.right);return Qb(t,e,ke.node,Te<nt,!1)}let ge;if(r(v)?ge=v.getNode():c(v)?ge=v.getNode(!0):ge=gl(o),ge){const Te=EG(t,L,a7(1),ge);let nt=n7(xt(Te,ZN(1)),ce);if(nt||(nt=Vl(xt(Te,ZN(0))),nt))return WN(e,nt.position.toRange(),!1)}return Q.length===0?E4(e,k).filter(k?c:r).map(Te=>Jb(e,Te.toRange(),!1)):X.none()},E4=(e,t)=>{const o=e.selection.getRng(),r=t?kt.fromRangeEnd(o):kt.fromRangeStart(o),c=mw(r.container(),e.getBody());if(t){const h=HE(c,r);return Yr(h.positions)}else{const h=zc(c,r);return xs(h.positions)}},T4=(e,t,o)=>E4(e,t).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),tC=(e,t)=>{const o=e.dom.createRng();o.setStart(t.container(),t.offset()),o.setEnd(t.container(),t.offset()),e.selection.setRng(o)},GN=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},A4=(e,t,o)=>ON(t,o).map(r=>(tC(e,r),o)),u7=(e,t,o)=>{const r=kt.fromRangeStart(e);if(e.collapsed)return r;{const c=kt.fromRangeEnd(e);return o?_(t,c).getOr(c):E(t,r).getOr(r)}},d7=(e,t,o)=>{const r=e.getBody(),c=u7(e.selection.getRng(),r,o),h=le(Lx,e);return bG(o,h,r,c).bind(T=>A4(e,t,T))},KN=(e,t,o)=>{const r=et(At(_e.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),v=>v.dom),c=xt(r,e),h=xt(o,e);Le(Ms(c,h),le(GN,!1)),Le(Ms(h,c),le(GN,!0))},f7=(e,t)=>{const o=t.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=kt.fromRangeStart(e.selection.getRng());kt.isTextPosition(r)&&!nV(r)&&(tC(e,j_(o,r)),t.set(null))}},m7=(e,t,o,r)=>{if(t.selection.isCollapsed()){const c=xt(r,e);Le(c,h=>{const v=kt.fromRangeStart(t.selection.getRng());T0(e,t.getBody(),v).bind(T=>A4(t,o,T))})}},YN=(e,t,o)=>f1(e)?d7(e,t,o).isSome():!1,h7=(e,t,o)=>f1(t)?vG(e,t):!1,TG=e=>{const t=Bn(null),o=le(Lx,e);return e.on("NodeChange",r=>{f1(e)&&(KN(o,e.dom,r.parents),f7(e,t),m7(o,e,t,r.parents))}),t},k4=le(h7,!0),AG=le(h7,!1),xv=(e,t,o)=>{if(f1(e)){const r=E4(e,t).getOrThunk(()=>{const c=e.selection.getRng();return t?kt.fromRangeEnd(c):kt.fromRangeStart(c)});return T0(le(Lx,e),e.getBody(),r).exists(c=>{const h=v4(c);return ON(o,h).exists(v=>(tC(e,v),!0))})}else return!1},kG=(e,t)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(t.container(),t.offset()),o},_G=e=>Rn(H(e),q(e),(t,o)=>{const r=Jh(!0,t),c=Jh(!1,o);return E(e,r).forall(h=>h.isEqual(c))}).getOr(!0),g7=(e,t)=>o=>ON(t,o).map(r=>()=>tC(e,r)),p7=(e,t,o,r)=>{const c=e.getBody(),h=le(Lx,e);e.undoManager.ignore(()=>{e.selection.setRng(kG(o,r)),zD(e),T0(h,c,kt.fromRangeStart(e.selection.getRng())).map(BN).bind(g7(e,t)).each(gt)}),e.nodeChanged()},b7=(e,t)=>{const o=m1(t,e);return o||e},y7=(e,t,o,r)=>{const c=b7(e.getBody(),r.container()),h=le(Lx,e),v=T0(h,c,r);return v.bind(k=>o?k.fold(at(X.some(BN(k))),X.none,at(X.some(v4(k))),X.none):k.fold(X.none,at(X.some(v4(k))),X.none,at(X.some(BN(k))))).map(g7(e,t)).getOrThunk(()=>{const k=tv(o,c,r),L=k.bind(W=>T0(h,c,W));return Rn(v,L,()=>rv(h,c,r).bind(W=>_G(W)?X.some(()=>{x1(e,o,_e.fromDom(W))}):X.none())).getOrThunk(()=>L.bind(()=>k.map(W=>()=>{o?p7(e,t,r,W):p7(e,t,W,r)})))})},XN=(e,t,o)=>{if(e.selection.isCollapsed()&&f1(e)){const r=kt.fromRangeStart(e.selection.getRng());return y7(e,t,o,r)}return X.none()},DG=e=>om(e)>1,v7=(e,t)=>{const o=_e.fromDom(e.getBody()),r=_e.fromDom(e.selection.getStart()),c=Jg(r,o);return Qo(c,t).fold(at(c),h=>c.slice(0,h))},OG=e=>om(e)===1,NG=e=>v7(e,t=>e.schema.isBlock(ts(t))||DG(t)),x7=e=>v7(e,t=>e.schema.isBlock(ts(t))),RG=(e,t)=>{const o=le(A8,e);return Io(t,r=>o(r)?[r.dom]:[])},QN=e=>{const t=x7(e);return RG(e,t)},MG=(e,t,o,r)=>{const c=RG(t,r);if(c.length===0)x1(t,e,o);else{const h=r5(o.dom,c);t.selection.setRng(h.toRange())}},BG=(e,t)=>{const o=xt(NG(e),OG);return Yr(o).bind(r=>{const c=kt.fromRangeStart(e.selection.getRng());return t8(t,c,r.dom)&&!rD(r)?X.some(()=>MG(t,e,r,o)):X.none()})},LG=(e,t)=>{const o=t.parentElement;return ia(t)&&!ae(o)&&e.dom.isEmpty(o)},FG=e=>rD(_e.fromDom(e)),w7=(e,t)=>{const o=e.selection.getStart(),r=LG(e,o)||FG(o)?r5(o,t):OV(e.selection.getRng(),t);e.selection.setRng(r.toRange())},C7=(e,t)=>{const o=Ms(t,QN(e));o.length>0&&w7(e,o)},JN=e=>cn(e.startContainer),PG=e=>e.startOffset===0&&JN(e),$G=(e,t)=>{const o=t.startContainer.parentElement;return!ae(o)&&A8(e,_e.fromDom(o))},IG=e=>{const t=e.startContainer.parentNode,o=e.endContainer.parentNode;return!ae(t)&&!ae(o)&&t.isEqualNode(o)},HG=e=>{const t=e.endContainer;return e.endOffset===(cn(t)?t.length:t.childNodes.length)},zG=e=>IG(e)&&HG(e),jG=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),VG=e=>zG(e)||jG(e),UG=e=>{const t=e.selection.getRng();return PG(t)&&$G(e,t)&&VG(t)},ZG=e=>{if(UG(e)){const t=QN(e);return X.some(()=>{zD(e),C7(e,t)})}else return X.none()},eR=(e,t)=>e.selection.isCollapsed()?BG(e,t):ZG(e),S7=(e,t)=>vn(e,o=>ue(o.dom),o=>t.isBlock(ts(o))),WG=e=>S7(_e.fromDom(e.selection.getStart()),e.schema),qG=e=>{const t=e.selection.getRng();return t.collapsed&&(JN(t)||e.dom.isEmpty(t.startContainer))&&!WG(e)},jE=e=>(qG(e)&&w7(e,[]),!0),nC=(e,t,o)=>We(o)?X.some(()=>{e._selectionOverrides.hideFakeCaret(),x1(e,t,_e.fromDom(o))}):X.none(),GG=(e,t)=>{const o=t?US:ZS,c=g1(t?1:-1,e.getBody(),e.selection.getRng());return o(c)?nC(e,t,c.getNode(!t)):X.from(Jh(t,c)).filter(h=>o(h)&&Yh(c,h)).bind(h=>nC(e,t,h.getNode(!t)))},KG=(e,t)=>{const o=e.selection.getNode();return Rd(o)?nC(e,t,o):X.none()},_4=(e,t)=>e.selection.isCollapsed()?GG(e,t):KG(e,t),tR=e=>Qs(e,t=>Bu(t.dom)||ta(t.dom)).exists(t=>Bu(t.dom)),nR=e=>Ef(e??"").getOr(0),E7=(e,t)=>{const o=e||$2(t)?"margin":"padding",r=Aa(t,"direction")==="rtl"?"-right":"-left";return o+r},Une=(e,t,o,r,c,h)=>{const v=E7(o,_e.fromDom(h)),T=nR(e.getStyle(h,v));if(t==="outdent"){const k=Math.max(0,T-r);e.setStyle(h,v,k?k+c:"")}else{const k=T+r+c;e.setStyle(h,v,k)}},YG=(e,t)=>Gr(t,o=>{const r=E7(ew(e),o),c=di(o,r).map(nR).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&c>0}),T7=e=>{const t=A7(e);return!e.mode.isReadOnly()&&(t.length>1||YG(e,t))},XG=e=>!e.mode.isReadOnly()&&wq(e),oC=e=>Id(e)||mu(e),QG=e=>Wi(e).exists(oC),A7=e=>xt(Sd(e.selection.getSelectedBlocks()),t=>!oC(t)&&!QG(t)&&tR(t)),k7=(e,t)=>{if(e.mode.isReadOnly())return;const{dom:o}=e,r=x_(e),c=/[a-z%]+$/i.exec(r)?.[0]??"px",h=nR(r),v=ew(e);Le(A7(e),T=>{Une(o,t,v,h,c,T.dom)}),t==="indent"?EP(e):BE(e)},_7=e=>k7(e,"indent"),ey=e=>k7(e,"outdent"),vf=e=>{if(e.selection.isCollapsed()&&T7(e)){const t=e.dom,o=e.selection.getRng(),r=kt.fromRangeStart(o),c=t.getParent(o.startContainer,t.isBlock);if(c!==null&&rk(_e.fromDom(c),r,e.schema))return X.some(()=>ey(e))}return X.none()},D7=(e,t)=>{const o=x5(e.selection.getRng());return _z(o)?X.some(()=>x1(e,t,_e.fromDom(e.selection.getNode()))):X.none()},i2=(e,t)=>e.selection.isCollapsed()?X.none():D7(e,t),ty=(e,t,o)=>Xr([vf,g4,h4,(r,c)=>XN(r,t,c),n2,YD,b4,_4,nl,eR,p4,i2],r=>r(e,o)).filter(r=>e.selection.isEditable()),lp=(e,t)=>{ty(e,t,!1).fold(()=>{e.selection.isEditable()&&(zD(e),e8(e))},gt),hN(e)&&YO(e.dom,e.getBody())},VE=(e,t)=>{ty(e,t,!0).fold(()=>{e.selection.isEditable()&&oV(e)},gt),hN(e)&&YO(e.dom,e.getBody())},oR=(e,t)=>{e.addCommand("delete",()=>{lp(e,t)}),e.addCommand("forwardDelete",()=>{VE(e,t)})},D4=5,O7=400,sR=e=>e.touches===void 0||e.touches.length!==1?X.none():X.some(e.touches[0]),JG=(e,t)=>{const o=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return o>D4||r>D4},eK=e=>{const t=Bs(),o=Bn(!1),r=Su(c=>{e.dispatch("longpress",{...c,type:"longpress"}),o.set(!0)},O7);e.on("touchstart",c=>{sR(c).each(h=>{r.cancel();const v={x:h.clientX,y:h.clientY,target:c.target};r.throttle(c),o.set(!1),t.set(v)})},!0),e.on("touchmove",c=>{r.cancel(),sR(c).each(h=>{t.on(v=>{JG(h,v)&&(t.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{r.cancel(),c.type!=="touchcancel"&&t.get().filter(h=>h.target.isEqualNode(c.target)).each(()=>{o.get()?c.preventDefault():e.dispatch("tap",{...c,type:"tap"})})},!0)},O4=(e,t)=>Yn(e,t.nodeName),N7=(e,t)=>cn(t)?!0:xn(t)?!O4(e.getBlockElements(),t)&&!wi(t)&&!Xa(e,t)&&!Z0(t)&&!Rh(t):!1,R7=(e,t,o)=>Ye(O6(_e.fromDom(o),_e.fromDom(t)),r=>O4(e,r.dom)),tK=(e,t)=>{if(cn(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||O4(e,t.nextSibling)||Z0(t.nextSibling)}return!1},M7=e=>e.dom.create(bl(e),th(e)),Zne=e=>{const t=e.dom,o=e.selection,r=e.schema,c=r.getBlockElements(),h=o.getStart(),v=e.getBody();let T,k,L=null;const W=bl(e);if(!h||!xn(h))return;const G=v.nodeName.toLowerCase();if(!r.isValidChild(G,W.toLowerCase())||R7(c,v,h))return;if(v.firstChild===v.lastChild&&ia(v.firstChild)){T=M7(e),T.appendChild(Pg().dom),v.replaceChild(T,v.firstChild),e.selection.setCursorLocation(T,0),e.nodeChanged();return}let Q=v.firstChild;for(;Q;)if(xn(Q)&&yc(r,Q),N7(r,Q)){if(tK(c,Q)){k=Q,Q=Q.nextSibling,t.remove(k);continue}if(!T){if(!L&&e.hasFocus()&&(L=w1(e.selection.getRng(),()=>document.createElement("span"))),!Q.parentNode){Q=null;break}T=M7(e),v.insertBefore(T,Q)}k=Q,Q=Q.nextSibling,T.appendChild(k)}else T=null,Q=Q.nextSibling;L&&(e.selection.setRng(eg(L)),e.nodeChanged())},nK=(e,t,o)=>{const r=_e.fromDom(M7(e)),c=Pg();Fs(r,c),o(t,r);const h=document.createRange();return h.setStartBefore(c.dom),h.setEndBefore(c.dom),h},cp=e=>{e.on("NodeChange",()=>Zne(e))},B7=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,oK=(e,t,o)=>function(r){const c=arguments,h=c[c.length-2],v=h>0?t.charAt(h-1):"";if(v==='"')return r;if(v===">"){const T=t.lastIndexOf("<",h);if(T!==-1&&t.substring(T,h).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},l2=(e,t,o)=>{let r=t.length,c=o.content;if(o.format!=="raw"){for(;r--;)c=c.replace(t[r],oK(e,c,wx(e)));o.content=c}},L7=(e,t)=>Gr(e,o=>{const r=t.match(o);return r!==null&&r[0].length===t.length}),sK=e=>{const t="contenteditable",o=" "+on.trim(pA(e))+" ",r=" "+on.trim(wx(e))+" ",c=B7(o),h=B7(r),v=H_(e);v.length>0&&e.on("BeforeSetContent",T=>{l2(e,v,T)}),e.parser.addAttributeFilter("class",T=>{let k=T.length;for(;k--;){const L=T[k];c(L)?L.attr(t,"true"):h(L)&&L.attr(t,"false")}}),e.serializer.addAttributeFilter(t,T=>{let k=T.length;for(;k--;){const L=T[k];if(!c(L)&&!h(L))continue;const W=L.attr("data-mce-content");v.length>0&&W?L7(v,W)?(L.name="#text",L.type=3,L.raw=!0,L.value=W):L.remove():L.attr(t,null)}})},N4=e=>Yu(_e.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),R4=(e,t)=>{t.hasAttribute("data-mce-caret")&&(ff(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},F7=(e,t)=>{const o=N4(e);if(o){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),R4(e,o);return}Ry(o)&&(R4(e,o),e.undoManager.add())}},P7=e=>{e.on("keyup compositionstart",le(F7,e))},$7=ta,I7=(e,t,o)=>l7(t,e,o,jb,v1,$7),H7=(e,t,o)=>c7(t,e,o,h=>jb(h)||WS(h),h=>v1(h)||ND(h),$7),z7=e=>{const t=e.dom.create(bl(e));return t.innerHTML='<br data-mce-bogus="1">',t},M4=(e,t,o)=>{const r=Xh(e.getBody()),c=le(bw,t===1?r.next:r.prev);if(o.collapsed){const h=e.dom.getParent(o.startContainer,"PRE");if(!h)return;if(!c(kt.fromRangeStart(o))){const T=_e.fromDom(z7(e));t===1?Sl(_e.fromDom(h),T):ul(_e.fromDom(h),T),e.selection.select(T.dom,!0),e.selection.collapse()}}},rK=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return I7(o,e,r).orThunk(()=>(M4(e,o,r),X.none()))},aK=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return H7(o,e,r).orThunk(()=>(M4(e,o,r),X.none()))},iK=(e,t)=>{const o=t?e.getEnd(!0):e.getStart(!0);return ID(o)?!t:t},j7=(e,t)=>rK(e,iK(e.selection,t)).exists(o=>(k1(e,o),!0)),V7=(e,t)=>aK(e,t).exists(o=>(k1(e,o),!0)),U7=(e,t)=>T4(e,t,t?v1:jb),B4=(e,t)=>wN(e,!t).map(o=>{const r=o.toRange(),c=e.selection.getRng();return t?r.setStart(c.startContainer,c.startOffset):r.setEnd(c.endContainer,c.endOffset),r}).exists(o=>(k1(e,o),!0)),Z7=(e,t)=>{const o=v=>es(v,t),r=v=>Bu(v.dom),c=_e.fromDom(e.container());return Qs(c,r,o).filter(v=>!o(v))},W7=(e,t,o)=>(o?$N:t7)(e.getBody(),t).map(c=>c.toRange()),lK=(e,t)=>{const o=kt.fromRangeStart(e.selection.getRng()),r=kt.fromRangeEnd(e.selection.getRng()),c=_e.fromDom(e.getBody());return ps(Rn(Z7(o,c),Z7(r,c),(v,T)=>es(v,T)?X.some(v):X.none())).fold(He,v=>t&&bf(v.dom,r)||!t&&w4(v.dom,o)?W7(e,t?r:o,t).exists(T=>(k1(e,T),!0)):!1)},_1=(e,t)=>lK(e,t),rR=e=>Be(["figcaption"],ts(e)),cK=(e,t,o)=>{const r=le(es,t);return Qs(_e.fromDom(e.container()),c=>o.isBlock(ts(c)),r).filter(rR)},uK=(e,t,o)=>t?bf(e.dom,o):w4(e.dom,o),dK=(e,t)=>{const o=_e.fromDom(e.getBody()),r=kt.fromRangeStart(e.selection.getRng());return cK(r,o,e.schema).exists(()=>{if(uK(o,t,r)){const h=nK(e,o,t?Fs:ef);return e.selection.setRng(h),!0}else return!1})},L4=(e,t)=>e.selection.isCollapsed()?dK(e,t):!1,aR=(e,t,o)=>{const r=e.selection.getRng(),c=kt.fromRangeStart(r);return e.getBody().firstChild===t&&w4(o,c)?(e.execCommand("InsertNewBlockBefore"),!0):!1},q7=(e,t)=>{const o=e.selection.getRng(),r=kt.fromRangeStart(o);return e.getBody().lastChild===t&&bf(t,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},G7=(e,t)=>t?X.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>q7(e,o)).getOr(!1):X.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>X.from(e.dom.getParent(o,"details")).map(r=>aR(e,r,o))).getOr(!1),iR=(e,t)=>G7(e,t),K7={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},UE=e=>et(e,t=>({...K7,...t})),F4=e=>et(e,t=>({...K7,...t})),lR=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,Y7=(e,t)=>Io(UE(e),o=>lR(o,t)?[o]:[]),X7=(e,t)=>Io(F4(e),o=>lR(o,t)?[o]:[]),Oo=(e,...t)=>()=>e.apply(null,t),wv=(e,t)=>Un(Y7(e,t),o=>o.action()),P4=(e,t)=>Xr(X7(e,t),o=>o.action()),sC=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return l7(e,o,r,US,ZS,Rd).exists(c=>(k1(e,c),!0))},Q7=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return c7(e,o,r,US,ZS,Rd).exists(c=>(k1(e,c),!0))},cR=(e,t)=>T4(e,t,t?ZS:US),fK=(e,t)=>J7(e,t,dt),J7=(e,t,o)=>Io(fa(e),r=>wl(r,t)?o(r)?[r]:[]:J7(r,t,o)),e$=(e,t,o=He)=>{if(o(t))return X.none();if(Be(e,ts(t)))return X.some(t);const r=c=>wl(c,"table")||o(c);return ka(t,e.join(","),r)},mK=(e,t)=>e$(["td","th"],e,t),t$=e=>fK(e,"th,td"),hK=(e,t)=>El(e,"table",t),n$=gi.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),ZE={...n$,none:e=>n$.none(e)},uR=(e,t,o,r,c=dt)=>{const h=r===1;if(!h&&o<=0)return ZE.first(e[0]);if(h&&o>=e.length-1)return ZE.last(e[e.length-1]);{const v=o+r,T=e[v];return c(T)?ZE.middle(t,T):uR(e,t,v,r,c)}},o$=(e,t)=>hK(e,t).bind(o=>{const r=t$(o);return Qo(r,h=>es(e,h)).map(h=>({index:h,all:r}))}),gK=(e,t,o)=>o$(e,o).fold(()=>ZE.none(e),c=>uR(c.all,e,c.index,1,t)),pK=(e,t,o)=>o$(e,o).fold(()=>ZE.none(),c=>uR(c.all,e,c.index,-1,t));var dR=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],bK=()=>{const e=L=>_e.fromDom(L.dom.cloneNode(!1)),t=L=>Qc(L).dom,o=L=>da(L)?ts(L)==="body"?!0:Be(dR,ts(L)):!1,r=L=>da(L)?Be(["br","img","hr","input"],ts(L)):!1,c=L=>da(L)&&hr(L,"contenteditable")==="false",h=(L,W)=>L.dom.compareDocumentPosition(W.dom),v=(L,W)=>{const G=rs(L);qa(W,G)},T=L=>{const W=ts(L);return Be(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],W)},k=L=>da(L)?dl(L,"lang"):X.none();return{up:at({selector:ka,closest:El,predicate:_d,all:cl}),down:at({selector:At,predicate:we}),styles:at({get:Aa,getRaw:di,set:Bl,remove:Sg}),attrs:at({get:hr,set:Ar,remove:ci,copyTo:v}),insert:at({before:ul,after:Sl,afterAll:Th,append:Fs,appendAll:hc,prepend:ef,wrap:Ml}),remove:at({unwrap:Gl,remove:ys}),create:at({nu:_e.fromTag,clone:e,text:_e.fromText}),query:at({comparePosition:h,prevSibling:qu,nextSibling:Wa}),property:at({children:fa,name:ts,parent:Wi,document:t,isText:bs,isComment:xd,isElement:da,isSpecial:T,getLanguage:k,getText:yi,setText:Sp,isBoundary:o,isEmptyTag:r,isNonEditable:c}),eq:es,is:Sh}};const D1=(e,t)=>({element:e,offset:t}),fR=(e,t)=>{if(e.property().isText(t))return D1(t,e.property().getText(t).length);{const o=e.property().children(t);return o.length>0?fR(e,o[o.length-1]):D1(t,o.length)}},$4=(e,t,o)=>{const r=e.property().children(t);return r.length>0&&o<r.length?$4(e,r[o],0):r.length>0&&e.property().isElement(t)&&r.length===o?fR(e,r[r.length-1]):D1(t,o)},s$=$4,mR=bK(),Cv=(e,t)=>s$(mR,e,t),hR=is("image"),ig=e=>{const t=e;return X.from(t[hR])},c2=(e,t)=>{const o=e;o[hR]=t},I4=is("event"),gR=e=>{const t=e;return X.from(t[I4])},H4=e=>t=>{const o=t;o[I4]=e},r$=(e,t)=>H4(t)(e),a$=H4(0),yK=H4(2),vK=H4(1),xK=(e=>t=>{const o=t;return X.from(o[I4]).exists(r=>r===e)})(0),i$=()=>Object.freeze({length:0,item:e=>null}),pR=is("mode"),wK=e=>{const t=e;return X.from(t[pR])},ny=e=>t=>{const o=t;o[pR]=e},WE=(e,t)=>ny(t)(e),bR=ny(0),z4=ny(2),yR=ny(1),l$=e=>t=>{const o=t;return X.from(o[pR]).exists(r=>r===e)},rC=l$(0),c$=l$(1),u$=(e,t)=>({...t,get length(){return t.length},add:(o,r)=>{if(rC(e))if(J(o)){if(!En(r))return t.add(o,r)}else return t.add(o);return null},remove:o=>{rC(e)&&t.remove(o)},clear:()=>{rC(e)&&t.clear()}}),j4=["none","copy","link","move"],d$=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],aC=()=>{const e=new window.DataTransfer;let t="move",o="all";const r={get dropEffect(){return t},set dropEffect(c){Be(j4,c)&&(t=c)},get effectAllowed(){return o},set effectAllowed(c){xK(r)&&Be(d$,c)&&(o=c)},get items(){return u$(r,e.items)},get files(){return c$(r)?i$():e.files},get types(){return e.types},setDragImage:(c,h,v)=>{rC(r)&&(c2(r,{image:c,x:h,y:v}),e.setDragImage(c,h,v))},getData:c=>c$(r)?"":e.getData(c),setData:(c,h)=>{rC(r)&&e.setData(c,h)},clearData:c=>{rC(r)&&e.clearData(c)}};return bR(r),r},CK=e=>{const t=aC(),o=wK(e);return z4(e),a$(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,ig(e).each(r=>t.setDragImage(r.image,r.x,r.y)),Le(e.types,r=>{r!=="Files"&&t.setData(r,e.getData(r))}),Le(e.files,r=>t.items.add(r)),gR(e).each(r=>{r$(t,r)}),o.each(r=>{WE(e,r),WE(t,r)}),t},f$=e=>{const t=e.getData("text/html");return t===""?X.none():X.some(t)},m$=(e,t)=>e.setData("text/html",t),SK=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),EK=(e,t)=>Io(t,o=>{const r=SK(qm(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),h$=(e,t,o)=>vt(e,(r,c)=>r.fold(()=>X.some(c),h=>{const v=Math.sqrt(Math.abs(h.x-t)+Math.abs(h.y-o)),T=Math.sqrt(Math.abs(c.x-t)+Math.abs(c.y-o));return X.some(T<v?c:h)}),X.none()),g$=(e,t,o,r,c)=>{const h=At(_e.fromDom(o),"td,th,caption").map(T=>T.dom),v=xt(EK(e,h),T=>t(T,c));return h$(v,r,c).map(T=>T.cell)},TK=e=>e.bottom,p$=e=>e.top,qE=(e,t)=>e.y<t,AK=(e,t)=>e.y>t,b$=le(g$,TK,qE),y$=le(g$,p$,AK),v$=(e,t)=>xs(t.getClientRects()).bind(o=>b$(e,o.left,o.top)).bind(o=>r2(e7(o),t)),vR=(e,t)=>Yr(t.getClientRects()).bind(o=>y$(e,o.left,o.top)).bind(o=>r2(a2(o),t)),x$=(e,t,o)=>o.breakAt.exists(r=>e(t,r).breakAt.isSome()),kK=e=>e.breakType===A1.Wrap&&e.positions.length===0,w$=e=>e.breakType===A1.Br&&e.positions.length===1,C$=(e,t,o)=>{const r=e(t,o);return kK(r)||!ia(o.getNode())&&w$(r)?!x$(e,t,r):r.breakAt.isNone()},_K=le(C$,zc),DK=le(C$,HE),xR=(e,t,o)=>{const r=kt.fromRangeStart(t);return y(!e,o).exists(c=>c.isEqual(r))},OK=(e,t,o,r)=>{const c=e.selection.getRng(),h=t?1:-1;return dw()&&xR(t,c,o)?(Qb(h,e,o,!t,!1).each(v=>{k1(e,v)}),!0):!1},NK=(e,t,o)=>v$(t,o).orThunk(()=>xs(o.getClientRects()).bind(r=>PN(zE(e,kt.before(t)),r.left))).getOr(kt.before(t)),V4=(e,t,o)=>vR(t,o).orThunk(()=>xs(o.getClientRects()).bind(r=>PN(vv(e,kt.after(t)),r.left))).getOr(kt.after(t)),S$=(e,t)=>{const o=t.getNode(e);return lu(o)?X.some(o):X.none()},wR=(e,t,o)=>{t.undoManager.transact(()=>{const r=e?Sl:ul,c=nK(t,_e.fromDom(o),r);k1(t,c)})},CR=(e,t,o)=>{const r=S$(!!t,o),c=t===!1;r.fold(()=>k1(e,o.toRange()),h=>y(c,e.getBody()).filter(v=>v.isEqual(o)).fold(()=>k1(e,o.toRange()),v=>wR(t,e,h)))},E$=(e,t,o,r)=>{const c=e.selection.getRng(),h=kt.fromRangeStart(c),v=e.getBody();if(!t&&_K(r,h)){const T=NK(v,o,h);return CR(e,t,T),!0}else if(t&&DK(r,h)){const T=V4(v,o,h);return CR(e,t,T),!0}else return!1},SR=(e,t,o)=>X.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>X.from(e.dom.getParent(r,"table")).map(c=>o(e,t,c,r))).getOr(!1),T$=(e,t)=>SR(e,t,OK),ER=(e,t)=>SR(e,t,E$),RK=e=>{const t=Oh.exact(e,0,e,0);return af(t)},MK=e=>iC(e)||Ls(e).some(t=>wd(t)&&iC(t)),GE=(e,t,o)=>o.fold(X.none,X.none,(r,c)=>im(c).map(h=>RK(h)),r=>e.mode.isReadOnly()||!BK(r)||!MK(r)?X.none():(e.execCommand("mceTableInsertRowAfter"),A$(e,t,r))),BK=e=>Qs(e,Fa("table")).exists(yr),A$=(e,t,o)=>GE(e,t,gK(o,iC)),LK=(e,t,o)=>GE(e,t,pK(o,iC)),iC=e=>yr(e)||Bo(e,FK),FK=e=>wd(e)&&yr(e),k$=(e,t)=>{const o=["table","li","dl"],r=_e.fromDom(e.getBody()),c=T=>{const k=ts(T);return es(T,r)||Be(o,k)},h=e.selection.getRng(),v=_e.fromDom(t?h.endContainer:h.startContainer);return mK(v,c).map(T=>(hK(T,c).each(W=>{e.model.table.clearSelectedCells(W.dom)}),e.selection.collapse(!t),(t?A$:LK)(e,c,T).each(W=>{e.selection.setRng(W)}),!0)).getOr(!1)},_$=(e,t,o)=>{const r=ls.os.isMacOS()||ls.os.isiOS(),c=ls.browser.isFirefox();wv([{keyCode:Mn.RIGHT,action:Oo(j7,e,!0)},{keyCode:Mn.LEFT,action:Oo(j7,e,!1)},{keyCode:Mn.UP,action:Oo(V7,e,!1)},{keyCode:Mn.DOWN,action:Oo(V7,e,!0)},...r?[{keyCode:Mn.UP,action:Oo(B4,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Mn.DOWN,action:Oo(B4,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Mn.RIGHT,action:Oo(T$,e,!0)},{keyCode:Mn.LEFT,action:Oo(T$,e,!1)},{keyCode:Mn.UP,action:Oo(ER,e,!1)},{keyCode:Mn.DOWN,action:Oo(ER,e,!0)},{keyCode:Mn.UP,action:Oo(ER,e,!1)},{keyCode:Mn.UP,action:Oo(iR,e,!1)},{keyCode:Mn.DOWN,action:Oo(iR,e,!0)},{keyCode:Mn.RIGHT,action:Oo(sC,e,!0)},{keyCode:Mn.LEFT,action:Oo(sC,e,!1)},{keyCode:Mn.UP,action:Oo(Q7,e,!1)},{keyCode:Mn.DOWN,action:Oo(Q7,e,!0)},{keyCode:Mn.RIGHT,action:Oo(YN,e,t,!0)},{keyCode:Mn.LEFT,action:Oo(YN,e,t,!1)},{keyCode:Mn.RIGHT,ctrlKey:!r,altKey:r,action:Oo(k4,e,t)},{keyCode:Mn.LEFT,ctrlKey:!r,altKey:r,action:Oo(AG,e,t)},{keyCode:Mn.UP,action:Oo(L4,e,!1)},{keyCode:Mn.DOWN,action:Oo(L4,e,!0)},...c?[{keyCode:Mn.UP,action:Oo(_1,e,!1)},{keyCode:Mn.DOWN,action:Oo(_1,e,!0)}]:[]],o).each(h=>{o.preventDefault()})},PK=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||_$(e,t,o)})},A0=(e,t)=>({container:e,offset:t}),U4=ds.DOM,Z4=e=>t=>e===t?-1:0,$K=e=>t=>e.isBlock(t)||Be(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",TR=(e,t,o)=>{if(cn(e)&&t>=0)return X.some(A0(e,t));{const r=fu(U4);return X.from(r.backwards(e,t,Z4(e),o)).map(c=>A0(c.container,c.container.data.length))}},AR=(e,t,o)=>{if(cn(e)&&t>=e.length)return X.some(A0(e,t));{const r=fu(U4);return X.from(r.forwards(e,t,Z4(e),o)).map(c=>A0(c.container,0))}},kR=(e,t,o)=>{if(!cn(e))return X.none();const r=e.data;if(t>=0&&t<=r.length)return X.some(A0(e,t));{const c=fu(U4);return X.from(c.backwards(e,t,Z4(e),o)).bind(h=>{const v=h.container.data;return kR(h.container,t+v.length,o)})}},_R=(e,t,o)=>{if(!cn(e))return X.none();const r=e.data;if(t<=r.length)return X.some(A0(e,t));{const c=fu(U4);return X.from(c.forwards(e,t,Z4(e),o)).bind(h=>_R(h.container,t-r.length,o))}},DR=(e,t,o,r,c)=>{const h=fu(e,$K(e));return X.from(h.backwards(t,o,r,c))},IK=e=>e.collapsed&&cn(e.startContainer),HK=e=>Fc(e.toString().replace(/\u00A0/g," ")),D$=e=>e!==""&&` \uFEFF\f
\r	\v`.indexOf(e)!==-1,ic=(e,t)=>e.substring(t.length),zK=(e,t,o,r=!1)=>{let c;const h=o.charAt(0);for(c=t-1;c>=0;c--){const v=e.charAt(c);if(!r&&D$(v))return X.none();if(h===v&&Lr(e,o,c,t))break}return X.some(c)},OR=(e,t,o,r=!1)=>{if(!IK(t))return X.none();const c={text:"",offset:0},h=(T,k,L)=>(c.text=L+c.text,c.offset+=k,zK(c.text,c.offset,o,r).getOr(k)),v=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return DR(e,t.startContainer,t.startOffset,h,v).bind(T=>{const k=t.cloneRange();if(k.setStart(T.container,T.offset),k.setEnd(t.endContainer,t.endOffset),k.collapsed)return X.none();const L=HK(k);return L.lastIndexOf(o)!==0?X.none():X.some({text:ic(L,o),range:k,trigger:o})})},jK=e=>e.nodeType===F0,O$=e=>e.nodeType===Ch,W4=e=>{if(jK(e))return A0(e,e.data.length);{const t=e.childNodes;return t.length>0?W4(t[t.length-1]):A0(e,t.length)}},NR=(e,t)=>{const o=e.childNodes;return o.length>0&&t<o.length?NR(o[t],0):o.length>0&&O$(e)&&o.length===t?W4(o[o.length-1]):A0(e,t)},KE=(e,t)=>{const o=e.getParent(t.container,e.isBlock)??e.getRoot();return DR(e,t.container,t.offset,(r,c)=>c===0?-1:c,o).filter(r=>{const c=r.container.data.charAt(r.offset-1);return!D$(c)}).isSome()},VK=e=>t=>{const o=NR(t.startContainer,t.startOffset);return!KE(e,o)},UK=(e,t,o)=>Xr(o.triggers,r=>OR(e,t,r)),ZK=(e,t)=>{const o=t(),r=e.selection.getRng();return UK(e.dom,r,o).bind(c=>N$(e,t,c))},N$=(e,t,o,r={})=>{const c=t(),v=e.selection.getRng().startContainer.nodeValue??"",T=xt(c.lookupByTrigger(o.trigger),L=>o.text.length>=L.minChars&&L.matches.getOrThunk(()=>VK(e.dom))(o.range,v,o.text));if(T.length===0)return X.none();const k=Promise.all(et(T,L=>L.fetch(o.text,L.maxResults,r).then(G=>({matchText:o.text,items:G,columns:L.columns,onAction:L.onAction,highlightOn:L.highlightOn}))));return X.some({lookupData:k,context:o})},WK=WC("type"),qK=FT("fetch"),GK=FT("onAction"),KK=e=>qy("columns",e),YK=Hs([WK,WC("trigger"),d_("minChars",1),KK(1),d_("maxResults",10),CB("matches"),qK,GK,f_("highlightOn",[],C)]),XK=e=>gf("Autocompleter",YK,e),QK=()=>{const e={},t={},o={},r={},c={},h={},v={},T={},k={},L=(ce,ke)=>(ge,Te)=>{ce[ge.toLowerCase()]={...Te,type:ke}},W=(ce,ke)=>(ge,Te)=>{ce[ge.toLowerCase()]={type:ke,...Te}},G=(ce,ke)=>r[ce.toLowerCase()]=ke,Q=(ce,ke)=>v[ce.toLowerCase()]=ke;return{addButton:L(e,"button"),addGroupToolbarButton:L(e,"grouptoolbarbutton"),addToggleButton:L(e,"togglebutton"),addMenuButton:L(e,"menubutton"),addSplitButton:L(e,"splitbutton"),addMenuItem:L(t,"menuitem"),addNestedMenuItem:L(t,"nestedmenuitem"),addToggleMenuItem:L(t,"togglemenuitem"),addAutocompleter:L(o,"autocompleter"),addContextMenu:L(c,"contextmenu"),addContextToolbar:L(h,"contexttoolbar"),addContextForm:W(h,"contextform"),addSidebar:L(T,"sidebar"),addView:L(k,"views"),addIcon:G,addContext:Q,getAll:()=>({buttons:e,menuItems:t,icons:r,popups:o,contextMenus:c,contextToolbars:h,sidebars:T,views:k,contexts:v})}},JK=e=>{const t=e.ui.registry.getAll().popups,o=ui(t,v=>XK(v).fold(T=>{throw new Error(Jm(T))},Jn)),r=Tf(Wn(o,v=>v.trigger)),c=yo(o);return{dataset:o,triggers:r,lookupByTrigger:v=>xt(c,T=>T.trigger===v)}},eY=(e,t)=>{const o=Su(t.load,50);e.on("input",r=>{r.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",r=>{const c=r.which;c===8?o.throttle():c===27?(o.cancel(),t.cancelIfNecessary()):(c===38||c===40)&&o.cancel()},!0),e.on("remove",o.cancel)},tY=e=>{const t=Bs(),o=Bn(!1),r=t.isSet,c=()=>{r()&&(u1(e),o.set(!1),t.clear())},h=G=>{r()||t.set({trigger:G.trigger,matchLength:G.text.length})},v=Ri(()=>JK(e)),T=G=>t.get().map(Q=>OR(e.dom,e.selection.getRng(),Q.trigger,!0).bind(ce=>N$(e,v,ce,G))).getOrThunk(()=>ZK(e,v)),k=G=>{T(G).fold(c,Q=>{h(Q.context),Q.lookupData.then(ce=>{t.get().map(ke=>{const ge=Q.context;ke.trigger===ge.trigger&&(t.set({...ke,matchLength:ge.text.length}),o.get()?(QC(e,{range:ge.range}),mx(e,{lookupData:ce})):(o.set(!0),QC(e,{range:ge.range}),fx(e,{lookupData:ce})))})})})},L=(G,Q)=>{const ce=G.compareBoundaryPoints(window.Range.START_TO_START,Q),ke=G.compareBoundaryPoints(window.Range.END_TO_END,Q);return ce>=0&&ke<=0},W=()=>t.get().bind(({trigger:G})=>{const Q=e.selection.getRng();return OR(e.dom,Q,G,o.get()).filter(({range:ce})=>L(Q,ce)).map(({range:ce})=>ce)});e.addCommand("mceAutocompleterReload",(G,Q)=>{const ce=rt(Q)?Q.fetchOptions:{};k(ce)}),e.addCommand("mceAutocompleterClose",c),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{W().each(G=>{QC(e,{range:G})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>W().isSome()),eY(e,{cancelIfNecessary:c,load:k})},R$=ms().browser.isSafari(),RR=e=>Vh(_e.fromDom(e)),M$=(e,t)=>e.startOffset===0&&e.endOffset===t.textContent?.length,q4=(e,t)=>X.from(e.getParent(t.container(),"details")),B$=(e,t)=>q4(e,t).isSome(),oY=(e,t)=>{const o=X.from(e.getParent(t.startContainer,"details")),r=X.from(e.getParent(t.endContainer,"details"));if(o.isSome()||r.isSome()){const c=o.bind(h=>X.from(e.select("summary",h)[0]));return X.some({startSummary:c,startDetails:o,endDetails:r})}else return X.none()},L$=(e,t)=>H(t).exists(o=>o.isEqual(e)),sY=(e,t)=>q(t).exists(o=>ia(o.getNode())&&_(t,o).exists(r=>r.isEqual(e))||o.isEqual(e)),F$=(e,t)=>t.startSummary.exists(o=>L$(e,o)),rY=(e,t)=>t.startSummary.exists(o=>sY(e,o)),P$=(e,t)=>t.startDetails.exists(o=>_(o,e).forall(r=>t.startSummary.exists(c=>!c.contains(e.container())&&c.contains(r.container())))),$$=(e,t,o)=>o.startDetails.exists(r=>E(e,t).forall(c=>!r.contains(c.container()))),I$=(e,t)=>{const o=t.getNode();En(o)||e.selection.setCursorLocation(o,t.offset())},H$=(e,t,o)=>{const r=e.dom.getParent(t.container(),"details");if(r&&!r.open){const c=e.dom.select("summary",r)[0];c&&(o?H(c):q(c)).each(v=>I$(e,v))}else I$(e,t)},aY=(e,t)=>{const o=k=>k.contains(e.startContainer),r=k=>k.contains(e.endContainer),c=t.startSummary.exists(o),h=t.startSummary.exists(r),v=t.startDetails.forall(k=>t.endDetails.forall(L=>k!==L));return(c||h)&&!(c&&h)||v},z$=(e,t,o)=>{const{dom:r,selection:c}=e,h=e.getBody();if(o==="character"){const v=kt.fromRangeStart(c.getRng()),T=r.getParent(v.container(),r.isBlock),k=q4(r,v),L=T&&r.isEmpty(T),W=ae(T?.previousSibling),G=ae(T?.nextSibling);return L&&(t?G:W)&&tv(!t,h,v).exists(ke=>B$(r,ke)&&!vo(k,q4(r,ke)))?!0:tv(t,h,v).fold(He,Q=>{const ce=q4(r,Q);if(B$(r,Q)&&!vo(k,ce)){if(t||H$(e,Q,!1),T&&L){if(t&&W)return!0;if(!t&&G)return!0;H$(e,Q,t),e.dom.remove(T)}return!0}else return!1})}else return!1},j$=(e,t,o,r)=>{const h=e.selection.getRng(),v=kt.fromRangeStart(h),T=e.getBody();return r==="selection"?aY(h,t):o?rY(v,t)||$$(T,v,t):F$(v,t)||P$(v,t)},iY=(e,t,o)=>oY(e.dom,e.selection.getRng()).fold(()=>z$(e,t,o),r=>j$(e,r,t,o)||z$(e,t,o)),lY=(e,t,o)=>{const r=e.selection,c=r.getNode(),h=r.getRng(),v=kt.fromRangeStart(h);return vy(c)?(o==="selection"&&M$(h,c)||t8(t,v,c)?RR(c):e.undoManager.transact(()=>{const T=r.getSel();let{anchorNode:k,anchorOffset:L,focusNode:W,focusOffset:G}=T??{};const Q=()=>{We(k)&&We(L)&&We(W)&&We(G)&&T?.setBaseAndExtent(k,L,W,G)},ce=()=>{k=T?.anchorNode,L=T?.anchorOffset,W=T?.focusNode,G=T?.focusOffset},ke=(Te,nt)=>{Le(Te.childNodes,st=>{BS(st)&&nt.appendChild(st)})},ge=e.dom.create("span",{"data-mce-bogus":"1"});ke(c,ge),c.appendChild(ge),Q(),(o==="word"||o==="line")&&T?.modify("extend",t?"right":"left",o),!r.isCollapsed()&&M$(r.getRng(),ge)?RR(c):(e.execCommand(t?"ForwardDelete":"Delete"),ce(),ke(ge,c),Q()),e.dom.remove(ge)}),!0):!1},Sv=(e,t,o)=>iY(e,t,o)||R$&&lY(e,t,o)?X.some(Mt):X.none(),V$=e=>(t,o,r={})=>{const c=t.getBody(),h={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:Mt,inputType:o},v=db(new InputEvent(e));return t.dispatch(e,{...v,...h,...r})},YE=V$("input"),XE=V$("beforeinput"),U$=ms(),Z$=U$.os,W$=Z$.isMacOS()||Z$.isiOS(),q$=U$.browser.isFirefox(),uY=(e,t,o)=>{const r=o.keyCode===Mn.BACKSPACE?"deleteContentBackward":"deleteContentForward",c=e.selection.isCollapsed(),h=c?"character":"selection",v=T=>c?T?"word":"line":"selection";P4([{keyCode:Mn.BACKSPACE,action:Oo(vf,e)},{keyCode:Mn.BACKSPACE,action:Oo(g4,e,!1)},{keyCode:Mn.DELETE,action:Oo(g4,e,!0)},{keyCode:Mn.BACKSPACE,action:Oo(h4,e,!1)},{keyCode:Mn.DELETE,action:Oo(h4,e,!0)},{keyCode:Mn.BACKSPACE,action:Oo(XN,e,t,!1)},{keyCode:Mn.DELETE,action:Oo(XN,e,t,!0)},{keyCode:Mn.BACKSPACE,action:Oo(YD,e,!1)},{keyCode:Mn.DELETE,action:Oo(YD,e,!0)},{keyCode:Mn.BACKSPACE,action:Oo(Sv,e,!1,h)},{keyCode:Mn.DELETE,action:Oo(Sv,e,!0,h)},...W$?[{keyCode:Mn.BACKSPACE,altKey:!0,action:Oo(Sv,e,!1,v(!0))},{keyCode:Mn.DELETE,altKey:!0,action:Oo(Sv,e,!0,v(!0))},{keyCode:Mn.BACKSPACE,metaKey:!0,action:Oo(Sv,e,!1,v(!1))}]:[{keyCode:Mn.BACKSPACE,ctrlKey:!0,action:Oo(Sv,e,!1,v(!0))},{keyCode:Mn.DELETE,ctrlKey:!0,action:Oo(Sv,e,!0,v(!0))}],{keyCode:Mn.BACKSPACE,action:Oo(b4,e,!1)},{keyCode:Mn.DELETE,action:Oo(b4,e,!0)},{keyCode:Mn.BACKSPACE,action:Oo(_4,e,!1)},{keyCode:Mn.DELETE,action:Oo(_4,e,!0)},{keyCode:Mn.BACKSPACE,action:Oo(nl,e,!1)},{keyCode:Mn.DELETE,action:Oo(nl,e,!0)},{keyCode:Mn.BACKSPACE,action:Oo(n2,e,!1)},{keyCode:Mn.DELETE,action:Oo(n2,e,!0)},{keyCode:Mn.BACKSPACE,action:Oo(eR,e,!1)},{keyCode:Mn.DELETE,action:Oo(eR,e,!0)},{keyCode:Mn.BACKSPACE,action:Oo(p4,e,!1)},{keyCode:Mn.DELETE,action:Oo(p4,e,!0)},{keyCode:Mn.BACKSPACE,action:Oo(i2,e,!1)},{keyCode:Mn.DELETE,action:Oo(i2,e,!0)}],o).filter(T=>e.selection.isEditable()).each(T=>{o.preventDefault(),XE(e,r).isDefaultPrevented()||(T(),YE(e,r))})},dY=(e,t,o,r)=>wv([{keyCode:Mn.BACKSPACE,action:Oo(AN,e)},{keyCode:Mn.DELETE,action:Oo(AN,e)},...W$?[{keyCode:Mn.BACKSPACE,altKey:!0,action:Oo(jE,e)},{keyCode:Mn.DELETE,altKey:!0,action:Oo(jE,e)},...o?[{keyCode:q$?224:91,action:Oo(()=>(C7(e,r),jE(e)))}]:[]]:[{keyCode:Mn.BACKSPACE,ctrlKey:!0,action:Oo(jE,e)},{keyCode:Mn.DELETE,ctrlKey:!0,action:Oo(jE,e)}]],t),fY=(e,t)=>{let o=!1,r=[];e.on("keydown",c=>{o=c.keyCode===Mn.BACKSPACE,r=QN(e),c.isDefaultPrevented()||uY(e,t,c)}),e.on("keyup",c=>{c.isDefaultPrevented()||(dY(e,c,o,r),r.length=0),o=!1})},mY=(e,t)=>{const o=_e.fromDom(e),r=_e.fromDom(t),c=Fa("span"),h=le(es,o),v=k=>da(k)&&di(k,"font-size").isSome(),T=[...v(r)?[r]:[],...j(r,v,h)];Le(T.slice(1),k=>{Sg(k,"font-size"),ci(k,"data-mce-style"),c(k)&&tf(k)&&Gl(k)})},hY=e=>{for(;e;){if(xn(e)||cn(e)&&e.data&&/[\r\n\s]/.test(e.data))return X.from(_e.fromDom(e));e=e.nextSibling}return X.none()},lC=(e,t)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const h=k=>/^(ul|ol|dl)$/.test(ts(k)),v=k=>h(k)?X.from(k):kh(k,h),T=k=>o.isEmpty(k.dom);hY(t.firstChild).each(k=>{v(k).fold(()=>{if(T(k)){const L=Cv(k,0).element;da(L)&&!$d(L)&&Fs(L,_e.fromText(jr))}},L=>{ul(L,_e.fromText(jr))})})}const c=o.createRng();if(t.normalize(),t.hasChildNodes()){const h=new Ya(t,t);let v=t,T;for(;T=h.current();){if(cn(T)){c.setStart(T,0),c.setEnd(T,0);break}if(r[T.nodeName.toLowerCase()]){c.setStartBefore(T),c.setEndBefore(T);break}v=T,T=h.next()}T||(c.setStart(v,0),c.setEnd(v,0))}else ia(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(c.setStartBefore(t),c.setEndBefore(t)):(c.setStartAfter(t),c.setEndAfter(t)):(c.setStart(t,0),c.setEnd(t,0));e.selection.setRng(c),sh(e,c)},QE=(e,t)=>{const o=e.getRoot();let r,c=t;for(;c!==o&&c&&e.getContentEditable(c)!=="false";){if(e.getContentEditable(c)==="true"){r=c;break}c=c.parentNode}return c!==o?r:o},MR=e=>X.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),Gne=e=>MR(e).fold(at(""),t=>t.nodeName.toUpperCase()),gY=e=>MR(e).filter(t=>mu(_e.fromDom(t))).isSome(),cC=e=>{e.innerHTML='<br data-mce-bogus="1">'},G$=(e,t,o)=>{const r=e.dom;X.from(o.style).map(r.parseStyle).each(k=>{const W={...of(_e.fromDom(t)),...k};r.setStyles(t,W)});const c=X.from(o.class).map(k=>k.split(/\s+/)),h=X.from(t.className).map(k=>xt(k.split(/\s+/),L=>L!==""));Rn(c,h,(k,L)=>{const W=xt(L,Q=>!Be(k,Q)),G=[...k,...W];r.setAttrib(t,"class",G.join(" "))});const v=["style","class"],T=Gn(o,(k,L)=>!Be(v,L));r.setAttribs(t,T)},uC=(e,t)=>{if(bl(e).toLowerCase()===t.tagName.toLowerCase()){const r=th(e);G$(e,t,r)}},K$=(e,t,o,r,c=!0,h,v)=>{const T=e.dom,k=e.schema,L=bl(e),W=o?o.nodeName.toUpperCase():"";let G=t;const Q=k.getTextInlineElements();let ce;h||W==="TABLE"||W==="HR"?ce=T.create(h||L,v||{}):ce=o.cloneNode(!1);let ke=ce;if(!c)T.setAttrib(ce,"style",null),T.setAttrib(ce,"class",null);else{do if(Q[G.nodeName]){if(ue(G)||wi(G))continue;const ge=G.cloneNode(!1);T.setAttrib(ge,"id",""),ce.hasChildNodes()?(ge.appendChild(ce.firstChild),ce.appendChild(ge)):(ke=ge,ce.appendChild(ge))}while((G=G.parentNode)&&G!==r);ce.nodeName!=="LI"&&mY(ce,ke)}return uC(e,ce),cC(ke),ce},Y$=(e,t)=>e.dom.getParent(t,V0),X$=(e,t,o)=>{let r=t;for(;r&&r!==e&&ae(r.nextSibling);){const c=r.parentElement;if(!c||!o(c))return V0(c);r=c}return!1},pY=(e,t,o)=>!t&&o.nodeName.toLowerCase()===bl(e)&&e.dom.isEmpty(o)&&X$(e.getBody(),o,r=>Yn(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),bY=(e,t,o)=>{const r=t(bl(e)),c=Y$(e,o);c&&(e.dom.insertAfter(r,c),lC(e,r),(o.parentElement?.childNodes?.length??0)>1&&e.dom.remove(o))},yY=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,Q$=e=>e.parentNode?.firstChild===e,J$=(e,t)=>{const o=e?.parentNode;return We(o)&&o.nodeName===t},G4=e=>We(e)&&/^(OL|UL|LI)$/.test(e.nodeName),BR=e=>We(e)&&/^(LI|DT|DD)$/.test(e.nodeName),vY=e=>G4(e)&&G4(e.parentNode),K4=e=>{const t=e.parentNode;return BR(t)?t:e},JE=(e,t,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!xn(r);)r=r[o?"nextSibling":"previousSibling"];return r===t},eI=e=>vt(Wn(of(_e.fromDom(e)),(t,o)=>`${o}: ${t};`),(t,o)=>t+o,""),xY=(e,t,o,r,c)=>{const h=e.dom,v=e.selection.getRng(),T=o.parentNode;if(o===e.getBody()||!T)return;vY(o)&&(c="LI");const k=BR(r)?eI(r):void 0;let L=BR(r)&&k?t(c,{style:eI(r)}):t(c);if(JE(o,r,!0)&&JE(o,r,!1))if(J$(o,"LI")){const W=K4(o);h.insertAfter(L,W),Q$(o)?h.remove(W):h.remove(o)}else h.replace(L,o);else if(JE(o,r,!0))J$(o,"LI")?(h.insertAfter(L,K4(o)),L.appendChild(h.doc.createTextNode(" ")),L.appendChild(o)):T.insertBefore(L,o),h.remove(r);else if(JE(o,r,!1))h.insertAfter(L,K4(o)),h.remove(r);else{o=K4(o);const W=v.cloneRange();W.setStartAfter(r),W.setEndAfter(o);const G=W.extractContents();if(c==="LI"&&yY(G,"LI")){const Q=xt(et(L.children,_e.fromDom),Ue(Fa("br")));L=G.firstChild,h.insertAfter(G,o),Le(Q,ce=>ef(_e.fromDom(L),ce)),k&&L.setAttribute("style",k)}else h.insertAfter(G,o),h.insertAfter(L,o);h.remove(r)}lC(e,L)},wY=e=>{Le(we(_e.fromDom(e),bs),t=>{const o=t.dom;o.nodeValue=Fc(o.data)})},CY=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},Kne=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),LR=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,SY=(e,t)=>e.nodeName===t||e.nextSibling&&e.nextSibling.nodeName===t,FR=(e,t)=>We(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",EY=(e,t,o)=>{const r=[];if(!o)return;let c=o;for(;c=c.firstChild;){if(e.isBlock(c))return;xn(c)&&!t[c.nodeName.toLowerCase()]&&r.push(c)}let h=r.length;for(;h--;)c=r[h],(!c.hasChildNodes()||c.firstChild===c.lastChild&&c.firstChild?.nodeValue===""||Kne(e,c))&&e.remove(c)},PR=(e,t,o)=>cn(t)?e?o===1&&t.data.charAt(o-1)===Hi?0:o:o===t.data.length-1&&t.data.charAt(o)===Hi?t.data.length:o:o,tI=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,PR(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,PR(!1,e.endContainer,e.endOffset)),t},TY=e=>{let t=e;do cn(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},$R=(e,t,o,r,c)=>{const h=e.dom,v=QE(h,r)??h.getRoot();let T=h.getParent(r,h.isBlock);if(!T||!FR(h,T)){if(T=T||v,!T.hasChildNodes()){const G=h.create(t);return uC(e,G),T.appendChild(G),o.setStart(G,0),o.setEnd(G,0),G}let k=r;for(;k&&k.parentNode!==T;)k=k.parentNode;let L;for(;k&&!h.isBlock(k);)L=k,k=k.previousSibling;const W=L?.parentElement?.nodeName;if(L&&W&&e.schema.isValidChild(W,t.toLowerCase())){const G=L.parentNode,Q=h.create(t);for(uC(e,Q),G.insertBefore(Q,L),k=L;k&&!h.isBlock(k);){const ce=k.nextSibling;Q.appendChild(k),k=ce}o.setStart(r,c),o.setEnd(r,c)}}return r},O1=(e,t)=>{t.normalize();const o=t.lastChild;(!o||xn(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(t,"br")},nI=(e,t)=>{const o=X2(e);return dn(t)?!1:J(o)?Be(on.explode(o),t.nodeName.toLowerCase()):o},eT={insert:(e,t)=>{let o,r,c,h,v=!1;const T=e.dom,k=e.schema,L=k.getNonEmptyElements(),W=e.selection.getRng(),G=bl(e),Q=_e.fromDom(W.startContainer),ce=eu(Q,W.startOffset),ke=ce.exists(Lt=>wd(Lt)&&!yr(Lt)),ge=W.collapsed&&ke,Te=(Lt,_n)=>K$(e,o,Dn,Qt,tA(e),Lt,_n),nt=Lt=>{const _n=PR(Lt,o,r);if(cn(o)&&(Lt?_n>0:_n<o.data.length))return!1;if((o.parentNode===Dn||o===Dn)&&v&&!Lt||Lt&&xn(o)&&o===Dn.firstChild)return!0;if(LR(o,"TABLE")||LR(o,"HR"))return SY(o,"BR")?!Lt:v&&!Lt||!v&&Lt;const No=new Ya(o,Dn);cn(o)&&(Lt&&_n===0?No.prev():!Lt&&_n===o.data.length&&No.next());let Ro;for(;Ro=No.current();){if(xn(Ro)){if(!Ro.getAttribute("data-mce-bogus")){const js=Ro.nodeName.toLowerCase();if(L[js]&&js!=="br")return!1}}else if(cn(Ro)&&!Ap(Ro.data))return!1;Lt?No.prev():No.next()}return!0},st=()=>{let Lt;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&ro!=="HGROUP"?Lt=Te(G):Lt=Te(),nI(e,h)&&FR(T,h)&&T.isEmpty(Dn,void 0,{includeZwsp:!0})?Lt=T.split(h,Dn):T.insertAfter(Lt,Dn),lC(e,Lt),Lt};YA(T,W).each(Lt=>{W.setStart(Lt.startContainer,Lt.startOffset),W.setEnd(Lt.endContainer,Lt.endOffset)}),o=W.startContainer,r=W.startOffset;const ut=!!(t&&t.shiftKey),Bt=!!(t&&t.ctrlKey);xn(o)&&o.hasChildNodes()&&!ge&&(v=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,v&&cn(o)?r=o.data.length:r=0);const Qt=QE(T,o);if(!Qt||CY(e,o))return;ut||(o=$R(e,G,W,o,r));let Dn=T.getParent(o,T.isBlock)||T.getRoot();h=We(Dn?.parentNode)?T.getParent(Dn.parentNode,T.isBlock):null,c=Dn?Dn.nodeName.toUpperCase():"";const ro=h?h.nodeName.toUpperCase():"";if(ro==="LI"&&!Bt){const Lt=h;Dn=Lt,h=Lt.parentNode,c=ro}if(xn(h)&&pY(e,ut,Dn))return bY(e,Te,Dn);if(/^(LI|DT|DD)$/.test(c)&&xn(h)&&T.isEmpty(Dn)){xY(e,Te,h,Dn,G);return}if(!ge&&(Dn===e.getBody()||!FR(T,Dn)))return;const Rt=Dn.parentNode;let Ct;if(ge)Ct=Te(G),ce.fold(()=>{Fs(Q,_e.fromDom(Ct))},Lt=>{ul(Lt,_e.fromDom(Ct))}),e.selection.setCursorLocation(Ct,0);else if(Hf(Dn))Ct=ff(Dn),T.isEmpty(Dn)&&cC(Dn),uC(e,Ct),lC(e,Ct);else if(nt(!1))Ct=st();else if(nt(!0)&&Rt){const Lt=kt.fromRangeStart(W),_n=ND(Lt),No=_e.fromDom(Dn),js=ik(No,Lt,e.schema)?L6(No,Lt,e.schema).bind(wa=>X.from(wa.getNode())):X.none();Ct=Rt.insertBefore(Te(),Dn);const Mr=LR(Dn,"HR")||_n?Ct:js.getOr(Dn);lC(e,Mr)}else{const Lt=tI(W).cloneRange();Lt.setEndAfter(Dn);const _n=Lt.extractContents();wY(_n),TY(_n),Ct=_n.firstChild,Dn===Ct?We(Rt)&&T.insertAfter(_n,Rt):T.insertAfter(_n,Dn),EY(T,L,Ct),O1(T,Dn),T.isEmpty(Dn)&&cC(Dn),Ct.normalize(),T.isEmpty(Ct)?(T.remove(Ct),st()):(uC(e,Ct),lC(e,Ct))}T.setAttrib(Ct,"id",""),e.dispatch("NewBlock",{newBlock:Ct})},fakeEventName:"insertParagraph"},IR=(e,t,o)=>{const r=new Ya(t,o);let c;const h=e.getNonEmptyElements();for(;c=r.next();)if(h[c.nodeName.toLowerCase()]||cn(c)&&c.length>0)return!0;return!1},HR=(e,t,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),sh(e,r)},oI=(e,t)=>{const o=e.selection,r=e.dom,c=o.getRng();let h,v=!1;YA(r,c).each(ce=>{c.setStart(ce.startContainer,ce.startOffset),c.setEnd(ce.endContainer,ce.endOffset)});let T=c.startOffset,k=c.startContainer;if(xn(k)&&k.hasChildNodes()){const ce=T>k.childNodes.length-1;k=k.childNodes[Math.min(T,k.childNodes.length-1)]||k,ce&&cn(k)?T=k.data.length:T=0}let L=r.getParent(k,r.isBlock);const W=L&&L.parentNode?r.getParent(L.parentNode,r.isBlock):null,G=W?W.nodeName.toUpperCase():"",Q=!!(t&&t.ctrlKey);G==="LI"&&!Q&&(L=W),cn(k)&&T>=k.data.length&&(IR(e.schema,k,L||r.getRoot())||(h=r.create("br"),c.insertNode(h),c.setStartAfter(h),c.setEndAfter(h),v=!0)),h=r.create("br"),Xp(r,c,h),HR(e,h,v),e.undoManager.add()},kY=(e,t)=>{const o=_e.fromTag("br");ul(_e.fromDom(t),o),e.undoManager.add()},_Y=(e,t)=>{OY(e.getBody(),t)||Sl(_e.fromDom(t),_e.fromTag("br"));const o=_e.fromTag("br");Sl(_e.fromDom(t),o),HR(e,o.dom,!1),e.undoManager.add()},DY=e=>ia(e.getNode()),OY=(e,t)=>DY(kt.after(t))?!0:E(e,kt.after(t)).map(o=>ia(o.getNode())).getOr(!1),sI=e=>e&&e.nodeName==="A"&&"href"in e,rI=e=>e.fold(He,sI,sI,He),NY=e=>{const t=le(Lx,e),o=kt.fromRangeStart(e.selection.getRng());return T0(t,e.getBody(),o).filter(rI)},RY=(e,t)=>{t.fold(Mt,le(kY,e),le(_Y,e),Mt)},iI={insert:(e,t)=>{const o=NY(e);o.isSome()?o.each(le(RY,e)):oI(e,t)},fakeEventName:"insertLineBreak"},lI=(e,t)=>MR(e).filter(o=>t.length>0&&wl(_e.fromDom(o),t)).isSome(),MY=e=>lI(e,JT(e)),BY=e=>lI(e,eA(e)),uh=gi.generate([{br:[]},{block:[]},{none:[]}]),LY=(e,t)=>BY(e),cI=e=>(t,o)=>gY(t)===e,uI=(e,t)=>(o,r)=>Gne(o)===e.toUpperCase()===t,Y4=e=>{const t=QE(e.dom,e.selection.getStart());return dn(t)},tT=e=>uI("pre",e),FY=()=>uI("summary",!0),dC=e=>(t,o)=>K2(t)===e,zR=(e,t)=>MY(e),X4=(e,t)=>t,PY=e=>{const t=bl(e),o=QE(e.dom,e.selection.getStart());return We(o)&&e.schema.isValidChild(o.nodeName,t)},dI=e=>{const t=e.selection.getRng(),o=_e.fromDom(t.startContainer),c=eu(o,t.startOffset).map(h=>wd(h)&&!yr(h));return t.collapsed&&c.getOr(!0)},lg=(e,t)=>(o,r)=>vt(e,(h,v)=>h&&v(o,r),!0)?X.some(t):X.none(),$Y=(e,t)=>ZP([lg([LY],uh.none()),lg([tT(!0),Y4],uh.none()),lg([FY()],uh.br()),lg([tT(!0),dC(!1),X4],uh.br()),lg([tT(!0),dC(!1)],uh.block()),lg([tT(!0),dC(!0),X4],uh.block()),lg([tT(!0),dC(!0)],uh.br()),lg([cI(!0),X4],uh.br()),lg([cI(!0)],uh.block()),lg([zR],uh.br()),lg([X4],uh.br()),lg([PY],uh.block()),lg([dI],uh.block())],[e,!!(t&&t.shiftKey)]).getOr(uh.none()),Q4=(e,t,o)=>{t.mode.isReadOnly()||(t.selection.isCollapsed()||J6(t),!(We(o)&&XE(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,o),We(o)&&YE(t,e.fakeEventName)))},fI=(e,t)=>{if(e.mode.isReadOnly())return;const o=()=>Q4(iI,e,t),r=()=>Q4(eT,e,t),c=$Y(e,t);switch(Y2(e)){case"linebreak":c.fold(o,o,Mt);break;case"block":c.fold(r,r,Mt);break;case"invert":c.fold(r,o,Mt);break;default:c.fold(o,r,Mt);break}},mI=ms(),IY=mI.os.isiOS()&&mI.browser.isSafari(),jR=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),bF(e.undoManager),e.undoManager.transact(()=>{fI(e,t)}))},J4=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(cn(t)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=t.data.charAt(e.startOffset-1);return o.test(r)}else return!1},hI=e=>{let t=X.none();const o=c=>{t=X.some(c.selection.getBookmark()),c.undoManager.add()},r=(c,h)=>{c.undoManager.undo(),t.fold(Mt,v=>c.selection.moveToBookmark(v)),jR(c,h),t=X.none()};e.on("keydown",c=>{c.keyCode===Mn.ENTER&&(IY&&J4(e.selection.getRng())?o(e):jR(e,c))}),e.on("keyup",c=>{c.keyCode===Mn.ENTER&&t.each(()=>r(e,c))})},gI=(e,t,o)=>{const r=ls.os.isMacOS()||ls.os.isiOS();wv([{keyCode:Mn.END,action:Oo(U7,e,!0)},{keyCode:Mn.HOME,action:Oo(U7,e,!1)},...r?[]:[{keyCode:Mn.HOME,action:Oo(B4,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Mn.END,action:Oo(B4,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Mn.END,action:Oo(cR,e,!0)},{keyCode:Mn.HOME,action:Oo(cR,e,!1)},{keyCode:Mn.END,action:Oo(xv,e,!0,t)},{keyCode:Mn.HOME,action:Oo(xv,e,!1,t)}],o).each(c=>{o.preventDefault()})},HY=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||gI(e,t,o)})},zY=e=>{e.on("input",t=>{t.isComposing||U6(e)})},e3=ms(),jY=(e,t,o)=>{wv([{keyCode:Mn.PAGE_UP,action:Oo(xv,e,!1,t)},{keyCode:Mn.PAGE_DOWN,action:Oo(xv,e,!0,t)}],o)},VR=e=>e.stopImmediatePropagation(),pI=e=>e.keyCode===Mn.PAGE_UP||e.keyCode===Mn.PAGE_DOWN,UR=(e,t,o)=>{o&&!e.get()?t.on("NodeChange",VR,!0):!o&&e.get()&&t.off("NodeChange",VR),e.set(o)},VY=(e,t)=>{if(e3.os.isMacOS())return;const o=Bn(!1);e.on("keydown",r=>{pI(r)&&UR(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||jY(e,t,r),pI(r)&&o.get()&&(UR(o,e,!1),e.nodeChanged())})},bI=(e,t)=>e===t||e.contains(t),UY=(e,t)=>!bI(e.getBody(),t.startContainer)||!bI(e.getBody(),t.endContainer)?!0:pj(e.dom,t),ZY=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||Ye(t.getTargetRanges(),o=>!UY(e,o)))&&t.preventDefault()})},yI=(e,t)=>{const o=t.container(),r=t.offset();return cn(o)?(o.insertData(r,e),X.some(kt(o,r+e.length))):Dx(t).map(c=>{const h=_e.fromText(e);return t.isAtEnd()?Sl(c,h):ul(c,h),kt(h.dom,e.length)})},u2=le(yI,jr),vI=le(yI," "),WY=(e,t,o)=>zj(e,t,o)?u2(t):vI(t),xI=e=>t=>t.fold(o=>_(e.dom,kt.before(o)),o=>H(o),o=>q(o),o=>E(e.dom,kt.after(o))),qY=(e,t,o)=>r=>zj(e,r,o)?u2(t):vI(t),wI=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},GY=(e,t)=>e.isEditable(e.getParent(t,"summary")),CI=e=>{const t=kt.fromRangeStart(e.selection.getRng()),o=_e.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=le(Lx,e),c=kt.fromRangeStart(e.selection.getRng());return T0(r,e.getBody(),c).bind(xI(o)).map(h=>()=>qY(o,t,e.schema)(h).each(wI(e)))}else return X.none()},KY=e=>{const t=()=>{const o=_e.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=kt.fromRangeStart(e.selection.getRng());WY(o,r,e.schema).each(wI(e))};return ws(ls.browser.isFirefox()&&e.selection.isEditable()&&GY(e.dom,e.selection.getRng().startContainer),t)},YY=(e,t)=>{P4([{keyCode:Mn.SPACEBAR,action:Oo(CI,e)},{keyCode:Mn.SPACEBAR,action:Oo(KY,e)}],t).each(o=>{t.preventDefault(),XE(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),YE(e,"insertText",{data:" "}))})},Xne=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||YY(e,t)})},t3=e=>yA(e)?[{keyCode:Mn.TAB,action:Oo(k$,e,!0)},{keyCode:Mn.TAB,shiftKey:!0,action:Oo(k$,e,!1)}]:[],XY=(e,t)=>{wv([...t3(e)],t).each(o=>{t.preventDefault()})},QY=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||XY(e,t)})},JY=e=>{if(e.addShortcut("Meta+P","","mcePrint"),tY(e),v0(e))return Bn(null);{const t=TG(e);return ZY(e),P7(e),PK(e,t),fY(e,t),hI(e),Xne(e),zY(e),QY(e),HY(e,t),VY(e,t),t}},eX=(e,t)=>{const o=NE(e);o===null||eN(e,o)||e.undoManager.transact(()=>{rt(t.styles)&&e.dom.setStyles(o,t.styles),rt(t.attrs)&&_o(t.attrs,(r,c)=>e.dom.setAttrib(o,c,r))})},ZR=(e,t)=>()=>{const o=NE(e);return We(o)&&o.nodeName===t},tX=e=>{e.addCommand("InsertUnorderedList",(t,o)=>{fN(e,"UL",o)}),e.addCommand("InsertOrderedList",(t,o)=>{fN(e,"OL",o)}),e.addCommand("InsertDefinitionList",(t,o)=>{fN(e,"DL",o)}),e.addCommand("RemoveList",()=>{c4(e)}),e.addCommand("mceListUpdate",(t,o)=>{rt(o)&&eX(e,o)}),e.addCommand("mceListBackspaceDelete",(t,o)=>{gN(e,o)}),e.addQueryStateHandler("InsertUnorderedList",ZR(e,"UL")),e.addQueryStateHandler("InsertOrderedList",ZR(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",ZR(e,"DL"))},nX=e=>{e.on("keydown",t=>{t.keyCode===Mn.BACKSPACE?gN(e,!1)&&t.preventDefault():t.keyCode===Mn.DELETE&&gN(e,!0)&&t.preventDefault()})},SI=e=>e.type===3,EI=e=>e.length===0,oX=e=>{const t=(c,h)=>{const v=Hc.create("li");Le(c,T=>v.append(T)),h?e.insert(v,h,!0):e.append(v)},o=(c,h)=>SI(h)?[...c,h]:!EI(c)&&!SI(h)?(t(c,h),[]):c,r=vt(e.children(),o,[]);EI(r)||t(r)},sX=e=>{e.on("PreInit",()=>{const{parser:t}=e;t.addNodeFilter("ul,ol",o=>Le(o,oX))})},rX=e=>{e.on("keydown",t=>{t.keyCode!==Mn.TAB||Mn.metaKeyPressed(t)||e.undoManager.transact(()=>{(t.shiftKey?BE(e):EP(e))&&t.preventDefault()})})},aX=e=>{bS(e)&&rX(e)},Zr=e=>{nX(e),tX(e),sX(e),aX(e)};class iX{editor;lastPath=[];constructor(t){this.editor=t;let o;const r=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",c=>{const h=t.selection.getRng(),v={startContainer:h.startContainer,startOffset:h.startOffset,endContainer:h.endContainer,endOffset:h.endOffset};(c.type==="nodechange"||!zb(v,o))&&t.dispatch("SelectionChange"),o=v}),t.on("contextmenu",()=>{ZA(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const c=t.selection.getStart(!0);c&&NS(t)&&!r.isSameElementPath(c)&&t.dom.isChildOf(c,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",c=>{!c.isDefaultPrevented()&&NS(t)&&(t.selection.getNode().nodeName==="IMG"?Qg.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const o=this.editor,r=o.selection;let c;if(o.initialized&&r&&!dA(o)&&!nh(o)){const h=o.getBody();c=r.getStart(!0)||h,(c.ownerDocument!==o.getDoc()||!o.dom.isChildOf(c,h))&&(c=h);const v=[];o.dom.getParent(c,T=>T===h?!0:(v.push(T),!1)),o.dispatch("NodeChange",{...t,element:c,parents:v})}}isSameElementPath(t){let o;const r=this.editor,c=_s(r.dom.getParents(t,dt,r.getBody()));if(c.length===this.lastPath.length){for(o=c.length;o>=0&&c[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const WR="x-tinymce/html",n3=at(WR),nT="<!-- "+WR+" -->",TI=e=>nT+e,lX=e=>e.replace(nT,""),AI=e=>e.indexOf(nT)!==-1,cX=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),kI=(e,t)=>{let o="<"+e;const r=Wn(t,(c,h)=>h+'="'+td.encodeAllRaw(c)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},o3=(e,t,o)=>{const r=e.split(/\n\n/),c=kI(t,o),h="</"+t+">",v=et(r,k=>k.split(/\n/).join("<br />")),T=k=>c+k+h;return v.length===1?v[0]:et(v,T).join("")},_I="%MCEPASTEBIN%",uX=(e,t)=>{const{dom:o,selection:r}=e,c=e.getBody();t.set(r.getRng());const h=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},_I);ls.browser.isFirefox()&&o.setStyle(h,"left",o.getStyle(c,"direction",!0)==="rtl"?65535:-65535),o.bind(h,"beforedeactivate focusin focusout",v=>{v.stopPropagation()}),h.focus(),r.select(h,!0)},qR=(e,t)=>{const o=e.dom;if(GR(e)){let r;const c=t.get();for(;r=GR(e);)o.remove(r),o.unbind(r);c&&e.selection.setRng(c)}t.set(null)},GR=e=>e.dom.get("mcepastebin"),dX=e=>We(e)&&e.id==="mcepastebin",fX=e=>{const t=e.dom,o=(v,T)=>{v.appendChild(T),t.remove(T,!0)},[r,...c]=xt(e.getBody().childNodes,dX);Le(c,v=>{o(r,v)});const h=t.select("div[id=mcepastebin]",r);for(let v=h.length-1;v>=0;v--){const T=t.create("div");r.insertBefore(T,h[v]),o(T,h[v])}return r?r.innerHTML:""},DI=e=>e===_I,OI=e=>{const t=Bn(null);return{create:()=>uX(e,t),remove:()=>qR(e,t),getEl:()=>GR(e),getHtml:()=>fX(e),getLastRng:t.get}},NI=(e,t)=>(on.each(t,o=>{Oe(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),mX=e=>{const t=Ns(),o=Lw({},t);let r="";const c=t.getVoidElements(),h=on.makeMap("script noscript style textarea video audio iframe object"," "),v=t.getBlockElements(),T=k=>{const L=k.name,W=k;if(L==="br"){r+=`
`;return}if(L!=="wbr"){if(c[L]&&(r+=" "),h[L]){r+=" ";return}if(k.type===3&&(r+=k.value),!(k.name in t.getVoidElements())){let G=k.firstChild;if(G)do T(G);while(G=G.next)}v[L]&&W.next&&(r+=`
`,L==="p"&&(r+=`
`))}};return e=NI(e,[/<!\[[^\]]+\]>/g]),T(o.parse(e)),r},KR=e=>(e=NI(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,c)=>!r&&!c?" ":jr],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),hX=e=>{let t=0;return()=>e+t++},gX=e=>{const t=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return on.hasOwn(o,t)?"image/"+o[t]:"image/"+t},pX=(e,t)=>{const o=Lw({sanitize:lw(e),sandbox_iframes:Qy(e),sandbox_iframes_exclusions:a0(e),convert_unsafe_embeds:i0(e)},e.schema);o.addNodeFilter("meta",c=>{on.each(c,h=>{h.remove()})});const r=o.parse(t,{forced_root_block:!1,isRootContent:!0});return nv({validate:!0},e.schema).serialize(r)},s3=(e,t)=>({content:e,cancelled:t}),bX=(e,t,o)=>{const r=e.dom.create("div",{style:"display:none"},t),c=ZT(e,r,o);return s3(c.node.innerHTML,c.isDefaultPrevented())},RI=(e,t,o)=>{const r=UT(e,t,o),c=pX(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?bX(e,c,o):s3(c,r.isDefaultPrevented())},yX=(e,t,o)=>RI(e,t,o),oT=(e,t)=>(e.insertContent(t,{merge:hA(e),paste:!0}),!0),YR=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),MI=(e,t)=>YR(t)&&Ye(pS(e),o=>Si(t.toLowerCase(),`.${o.toLowerCase()}`)),vX=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),xX=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),wX=(e,t,o)=>!e.selection.isCollapsed()&&YR(t)?xX(e,t,o):!1,CX=(e,t,o)=>MI(e,t)?vX(e,t,o):!1,BI=(e,t)=>{on.each([wX,CX,oT],o=>!o(e,t,oT))},SX=(e,t,o)=>{o||!dS(e)?oT(e,t):BI(e,t)},LI=hX("mceclip"),r3=e=>{const t=aC();return m$(t,e),z4(t),t},a3=(e,t,o,r,c)=>{const h=yX(e,t,o);if(!h.cancelled){const v=h.content,T=()=>SX(e,v,r);c?XE(e,"insertFromPaste",{dataTransfer:r3(v)}).isDefaultPrevented()||(T(),YE(e,"insertFromPaste")):T()}},fC=(e,t,o,r)=>{const c=o||AI(t);a3(e,lX(t),c,!1,r)},XR=(e,t,o)=>{const r=e.dom.encode(t).replace(/\r\n/g,`
`),c=z0(r,I_(e)),h=o3(c,bl(e),th(e));a3(e,h,!1,!0,o)},FI=e=>{const t={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{t[r]=e.getData(r)}catch{t[r]=""}}return t},cg=(e,t)=>t in e&&e[t].length>0,PI=e=>cg(e,"text/html")||cg(e,"text/plain"),mC=(e,t)=>{const o=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return We(o)?e.dom.encode(o[1]):void 0},sT=(e,t,o,r)=>{const c=LI(),h=nA(e)&&We(o.name),v=h?mC(e,o.name):c,T=h?o.name:void 0,k=t.create(c,o,r,v,T);return t.add(k),k},EX=(e,t)=>{w5(t.uri).each(({data:o,type:r,base64Encoded:c})=>{const h=c?o:btoa(o),v=t.file,T=e.editorUpload.blobCache,L=T.getByData(h,r)??sT(e,T,v,h);fC(e,`<img src="${L.blobUri()}">`,!1,!0)})},TX=e=>e.type==="paste",hC=e=>Promise.all(et(e,t=>C5(t).then(o=>({file:t,uri:o})))),AX=e=>{const t=pS(e);return o=>xo(o.type,"image/")&&Ye(t,r=>gX(r)===o.type)},QR=(e,t)=>{const o=t.items?Io(Is(t.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],r=t.files?Is(t.files):[];return xt(o.length>0?o:r,AX(e))},$I=(e,t,o)=>{const r=TX(t)?t.clipboardData:t.dataTransfer;if(iw(e)&&r){const c=QR(e,r);if(c.length>0)return t.preventDefault(),hC(c).then(h=>{o&&e.selection.setRng(o),Le(h,v=>{EX(e,v)})}),!0}return!1},II=e=>ls.os.isAndroid()&&e.clipboardData?.items?.length===0,HI=e=>Mn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,rT=(e,t,o,r,c)=>{let h=KR(o);const v=cg(t,n3())||AI(o),T=!v&&cX(h),k=YR(h);(DI(h)||!h.length||T&&!k)&&(r=!0),(r||k)&&(cg(t,"text/plain")&&T?h=t["text/plain"]:h=mX(h)),!DI(h)&&(r?XR(e,h,c):fC(e,h,v,c))},zI=(e,t,o)=>{let r;const c=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",h=>{HI(h)&&!h.isDefaultPrevented()&&(r=h.shiftKey&&h.keyCode===86)}),e.on("paste",h=>{if(h.isDefaultPrevented()||II(h))return;const v=o.get()==="text"||r;r=!1;const T=FI(h.clipboardData);!PI(T)&&$I(e,h,c())||(cg(T,"text/html")?(h.preventDefault(),rT(e,T,T["text/html"],v,!0)):cg(T,"text/plain")&&cg(T,"text/uri-list")?(h.preventDefault(),rT(e,T,T["text/plain"],v,!0)):(t.create(),Qg.setEditorTimeout(e,()=>{const k=t.getHtml();t.remove(),rT(e,T,k,v,!1)},0)))})},kX=e=>{const t=c=>xo(c,"webkit-fake-url"),o=c=>xo(c,"data:"),r=c=>c.data?.paste===!0;e.parser.addNodeFilter("img",(c,h,v)=>{if(!iw(e)&&r(v))for(const T of c){const k=T.attr("src");J(k)&&!T.attr("data-mce-object")&&k!==ls.transparentSrc&&(t(k)||!fS(e)&&o(k))&&T.remove()}})},_X=(e,t,o)=>{zI(e,t,o),kX(e)},jI=(e,t)=>{t.get()==="text"?(t.set("html"),WT(e,!1)):(t.set("text"),WT(e,!0)),e.focus()},DX=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{jI(e,t)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&fC(e,r.html,r.internal,!1),r.text&&XR(e,r.text,!1)})},VI=(e,t,o)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",o),e.setData(n3(),t),!0}catch{return!1}else return!1},i3=(e,t,o,r)=>{VI(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):o(t.html,r)},JR=e=>(t,o)=>{const{dom:r,selection:c}=e,h=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),v=r.create("div",{contenteditable:"true"},t);r.setStyles(h,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),h.appendChild(v),r.add(e.getBody(),h);const T=c.getRng();v.focus();const k=r.createRng();k.selectNodeContents(v),c.setRng(k),Qg.setEditorTimeout(e,()=>{c.setRng(T),r.remove(h),o()},0)},UI=e=>({html:TI(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),OX=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),ZI=e=>!e.selection.isCollapsed()||OX(e),WI=(e,t)=>o=>{!o.isDefaultPrevented()&&ZI(e)&&e.selection.isEditable()&&i3(o,UI(e),JR(e),()=>{if(ls.browser.isChromium()||ls.browser.isFirefox()){const r=e.selection.getRng();Qg.setEditorTimeout(e,()=>{e.selection.setRng(r),lp(e,t)},0)}else lp(e,t)})},eM=e=>t=>{!t.isDefaultPrevented()&&ZI(e)&&i3(t,UI(e),JR(e),Mt)},NX=(e,t)=>{e.on("cut",WI(e,t)),e.on("copy",eM(e))},tM=(e,t)=>f0.getCaretRangeFromPoint(t.clientX??0,t.clientY??0,e.getDoc()),qI=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},GI=(e,t)=>{t&&e.selection.setRng(t),e.focus()},KI=e=>Ye(e.files,t=>/^image\//.test(t.type)),RX=(e,t,o,r)=>{const c=e.getParent(o,v=>Xa(t,v));if(!ae(e.getParent(o,"summary")))return!0;if(c&&Yn(r,"text/html")){const v=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!ae(v.querySelector(c.nodeName.toLowerCase()))}else return!1},MX=e=>{e.on("input",t=>{const o=r=>ae(r.querySelector("summary"));if(t.inputType==="deleteByDrag"){const r=xt(e.dom.select("details"),o);Le(r,c=>{ia(c.firstChild)&&c.firstChild.remove();const h=e.dom.create("summary");h.appendChild(Pg().dom),c.prepend(h)})}})},l3=(e,t)=>{_B(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),iw(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&KI(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=tM(e,o);if(dn(r))return;const c=FI(o.dataTransfer),h=cg(c,n3());if((!PI(c)||qI(c))&&$I(e,o,r))return;const v=c[n3()],T=v||c["text/html"]||c["text/plain"],k=RX(e.dom,e.schema,r.startContainer,c),L=t.get();L&&!k||T&&(o.preventDefault(),Qg.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(v||L&&k)&&e.execCommand("Delete"),GI(e,r);const W=KR(T);c["text/html"]?fC(e,W,h,!0):XR(e,W,!0)})}))}),e.on("dragstart",o=>{t.set(!0)}),e.on("dragover dragend",o=>{iw(e)&&!t.get()&&(o.preventDefault(),GI(e,tM(e,o))),o.type==="dragend"&&t.set(!1)}),MX(e)},BX=e=>{const t=c=>h=>{c(e,h)},o=B_(e);Ne(o)&&e.on("PastePreProcess",t(o));const r=L_(e);Ne(r)&&e.on("PastePostProcess",t(r))},LX=(e,t)=>{e.on("PastePreProcess",o=>{o.content=t(e,o.content,o.internal)})},YI=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,nM=e=>on.trim(e).replace(YI,wc).toLowerCase(),FX=(e,t,o)=>{const r=uS(e);if(o||r==="all"||!P_(e))return t;const c=r?r.split(/[, ]/):[];if(c&&r!=="none"){const h=e.dom,v=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(T,k,L,W)=>{const G=h.parseStyle(h.decode(L)),Q={};for(let ke=0;ke<c.length;ke++){const ge=G[c[ke]];let Te=ge,nt=h.getStyle(v,c[ke],!0);/color/.test(c[ke])&&(Te=nM(Te),nt=nM(nt)),nt!==Te&&(Q[c[ke]]=ge)}const ce=h.serializeStyle(Q,"span");return ce?k+' style="'+ce+'"'+W:k+W})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(h,v,T,k)=>v+' style="'+T+'"'+k),t},PX=e=>{(ls.browser.isChromium()||ls.browser.isSafari())&&LX(e,FX)},$X=(e,t)=>{const o=Bn(!1),r=Bn($_(e)?"text":"html"),c=OI(e);PX(e),DX(e,r),BX(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>r.get()==="text"),e.on("PreInit",()=>{NX(e,t),l3(e,o),_X(e,c,r)})},IX=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},HX=e=>{e.parser.addNodeFilter("details",t=>{const o=Xy(e);Le(t,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const o=r0(e);Le(t,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})})},XI=e=>{IX(e),HX(e)},zX=ia,QI=cn,jX=e=>ta(e.dom),VX=e=>Bu(e.dom),JI=e=>t=>es(_e.fromDom(e),t),UX=(e,t,o)=>Qs(_e.fromDom(e),r=>VX(r)||o.isBlock(ts(r)),JI(t)).getOr(_e.fromDom(t)).dom,e9=(e,t)=>Qs(_e.fromDom(e),jX,JI(t)),t9=(e,t,o)=>{const r=new Ya(e,t),c=o?r.next.bind(r):r.prev.bind(r);let h=e;for(let v=o?e:c();v&&!zX(v);v=c())ba(v)&&(h=v);return h},n9=(e,t,o)=>{const c=kt.fromRangeStart(e).getNode(),h=UX(c,t,o),v=t9(c,h,!1),T=t9(c,h,!0),k=document.createRange();return e9(v,h).fold(()=>{QI(v)?k.setStart(v,0):k.setStartBefore(v)},L=>k.setStartBefore(L.dom)),e9(T,h).fold(()=>{QI(T)?k.setEnd(T,T.data.length):k.setEndAfter(T)},L=>k.setEndAfter(L.dom)),k},o9=e=>{const t=n9(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(x5(t))},ZX=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),o9(e))})};var gC;(function(e){e.Before="before",e.After="after"})(gC||(gC={}));const WX=(e,t)=>Math.abs(e.left-t),aT=(e,t)=>Math.abs(e.right-t),qX=(e,t)=>e>=t.top&&e<=t.bottom,GX=(e,t)=>e.top<t.bottom&&e.bottom>t.top,s9=(e,t)=>{const o=Yv(e,t)/Math.min(e.height,t.height);return GX(e,t)&&o>.5},KX=(e,t)=>{const o=xt(e,r=>qX(t,r));return t1(o).fold(()=>[[],e],r=>{const{pass:c,fail:h}=Ot(e,v=>s9(v,r));return[c,h]})},YX=(e,t)=>({node:e.node,position:WX(e,t)<aT(e,t)?gC.Before:gC.After}),XX=(e,t,o)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),oM=(e,t,o,r)=>{const c=G=>ba(G.node)?X.some(G):xn(G.node)?oM(Is(G.node.childNodes),t,o,!1):X.none(),h=(G,Q,ce)=>c(Q).filter(ke=>Math.abs(ce(G,t,o)-ce(ke,t,o))<2&&cn(ke.node)),v=(G,Q)=>{const ce=Kr(G,(ke,ge)=>Q(ke,t,o)-Q(ge,t,o));return Xr(ce,c).map(ke=>r&&!cn(ke.node)&&ce.length>1?h(ke,ce[1],Q).getOr(ke):ke)},[T,k]=KX(zN(e),o),{pass:L,fail:W}=Ot(k,G=>G.top<o);return v(T,XX).orThunk(()=>v(W,Kv)).orThunk(()=>v(L,Kv))},QX=(e,t,o,r)=>{const c=(h,v)=>{const T=L=>xn(L)&&L.classList.contains("mce-drag-container"),k=xt(h.dom.childNodes,Ue(T));return v.fold(()=>oM(k,o,r,!0),L=>{const W=xt(k,G=>G!==L.dom);return oM(W,o,r,!0)}).orThunk(()=>(es(h,e)?X.none():Jc(h)).bind(W=>c(W,X.some(h))))};return c(t,X.none())},c3=(e,t,o)=>{const r=_e.fromDom(e),c=Qc(r),v=_e.fromPoint(c,t,o).filter(T=>mc(r,T)).getOr(r);return QX(r,v,t,o)},sM=(e,t,o)=>c3(e,t,o).filter(r=>Tx(r.node)).map(r=>YX(r,t)),rM=e=>{const t=e.getBoundingClientRect(),o=e.ownerDocument,r=o.documentElement,c=o.defaultView;return{top:t.top+(c?.scrollY??0)-r.clientTop,left:t.left+(c?.scrollX??0)-r.clientLeft}},JX=e=>e.inline?rM(e.getBody()):{left:0,top:0},eQ=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},tQ=e=>{const t=e.getBody(),o=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},c={left:t.scrollLeft||o.scrollLeft,top:t.scrollTop||o.scrollTop};return e.inline?r:c},Qne=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const o=rM(e.getContentAreaContainer()),r=tQ(e);return{left:t.pageX-o.left+r.left,top:t.pageY-o.top+r.top}}return{left:t.pageX,top:t.pageY}},nQ=(e,t,o)=>({pageX:o.left-e.left+t.left,pageY:o.top-e.top+t.top}),oQ=(e,t)=>nQ(JX(e),eQ(e),Qne(e,t)),u3=e=>({target:e,srcElement:e}),d3=(e,t,o,r)=>({...t,dataTransfer:r,type:e,...u3(o)}),sQ=(e,t,o)=>{const r=Pt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:Mt,stopImmediatePropagation:Mt,stopPropagation:Mt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:o,...u3(t)}},rQ=(e,t)=>{const o=CK(e);return t==="dragstart"?(a$(o),bR(o)):t==="drop"?(yK(o),z4(o)):(vK(o),yR(o)),o},aQ=(e,t,o,r)=>{const c=rQ(o,e);return En(r)?sQ(e,t,c):d3(e,r,t,c)},iT=32,iQ=100,pC=8,lT=16,r9=ta,lQ=Cb(r9,Bu),a9=(e,t,o)=>r9(o)&&o!==t&&e.isEditable(o.parentElement),cQ=(e,t,o)=>dn(t)||t===o||e.dom.isChildOf(t,o)?!1:e.dom.isEditable(t),Jne=(e,t,o,r)=>{const c=e.dom,h=t.cloneNode(!0);c.setStyles(h,{width:o,height:r}),c.setAttrib(h,"data-mce-selected",null);const v=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(v,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),c.setStyles(h,{margin:0,boxSizing:"border-box"}),v.appendChild(h),v},uQ=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},f3=(e,t)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+t,behavior:"smooth"})},i9=f3("left",-iT),aM=f3("left",iT),m3=f3("top",-iT),cT=f3("top",iT),l9=(e,t,o,r,c,h,v,T,k,L,W,G)=>{let Q=0,ce=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+o>c&&(Q=t.pageX+o-c),t.pageY+r>h&&(ce=t.pageY+r-h),e.style.width=o-Q+"px",e.style.height=r-ce+"px";const ke=k.clientHeight,ge=k.clientWidth,Te=v+k.getBoundingClientRect().top,nt=T+k.getBoundingClientRect().left;W.on(st=>{st.intervalId.clear(),st.dragging&&G&&(v+pC>=ke?st.intervalId.set(cT(L)):v-pC<=0?st.intervalId.set(m3(L)):T+pC>=ge?st.intervalId.set(aM(L)):T-pC<=0?st.intervalId.set(i9(L)):Te+lT>=window.innerHeight?st.intervalId.set(cT(window)):Te-lT<=0?st.intervalId.set(m3(window)):nt+lT>=window.innerWidth?st.intervalId.set(aM(window)):nt-lT<=0&&st.intervalId.set(i9(window)))})},c9=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},dQ=(e,t)=>{const o=e.getParent(t.parentNode,e.isBlock);c9(t),o&&o!==e.getRoot()&&e.isEmpty(o)&&Vh(_e.fromDom(o))},fQ=e=>e.button===0,mQ=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),u9=(e,t)=>o=>{if(fQ(o)){const r=Un(t.dom.getParents(o.target),lQ).getOr(null);if(We(r)&&a9(t.dom,t.getBody(),r)){const c=t.dom.getPos(r),h=t.getBody(),v=t.getDoc().documentElement;e.set({element:r,dataTransfer:aC(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(t.inline?h.scrollWidth:v.offsetWidth)-2,maxY:(t.inline?h.scrollHeight:v.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:r.offsetWidth,height:r.offsetHeight,ghost:Jne(t,r,r.offsetWidth,r.offsetHeight),intervalId:wr(iQ)})}}},hQ=(e,t,o)=>{e._selectionOverrides.hideFakeCaret(),sM(e.getBody(),t,o).fold(()=>e.selection.placeCaretAt(t,o),r=>{const c=e._selectionOverrides.showCaret(1,r.node,r.position===gC.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(t,o)})},bC=(e,t,o,r,c)=>{t==="dragstart"&&m$(r,e.dom.getOuterHTML(o));const h=aQ(t,o,r,c);return e.dispatch(t,h)},gQ=(e,t)=>{const o=Sn((c,h)=>hQ(t,c,h),0);t.on("remove",o.cancel);const r=e;return c=>e.on(h=>{const v=Math.max(Math.abs(c.screenX-h.screenX),Math.abs(c.screenY-h.screenY));if(!h.dragging&&v>10){const T=bC(t,"dragstart",h.element,h.dataTransfer,c);if(We(T.dataTransfer)&&(h.dataTransfer=T.dataTransfer),T.isDefaultPrevented())return;h.dragging=!0,t.focus()}if(h.dragging){const T=c.currentTarget===t.getDoc().documentElement,k=mQ(h,oQ(t,c));uQ(h.ghost,t.getBody()),l9(h.ghost,k,h.width,h.height,h.maxX,h.maxY,c.clientY,c.clientX,t.getContentAreaContainer(),t.getWin(),r,T),o.throttle(c.clientX,c.clientY)}})},pQ=e=>{const t=e.getSel();if(We(t)){const r=t.getRangeAt(0).startContainer;return cn(r)?r.parentNode:r}else return null},iM=(e,t)=>o=>{e.on(r=>{if(r.intervalId.clear(),r.dragging){if(cQ(t,pQ(t.selection),r.element)){const c=t.getDoc().elementFromPoint(o.clientX,o.clientY)??t.getBody();bC(t,"drop",c,r.dataTransfer,o).isDefaultPrevented()||t.undoManager.transact(()=>{dQ(t.dom,r.element),f$(r.dataTransfer).each(v=>t.insertContent(v)),t._selectionOverrides.hideFakeCaret()})}bC(t,"dragend",t.getBody(),r.dataTransfer,o)}}),d9(e)},lM=(e,t,o)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&o.fold(()=>bC(t,"dragend",r.element,r.dataTransfer),c=>bC(t,"dragend",r.element,r.dataTransfer,c))}),d9(e)},eoe=(e,t)=>o=>lM(e,t,X.some(o)),d9=e=>{e.on(t=>{t.intervalId.clear(),c9(t.ghost)}),e.clear()},f9=e=>{const t=Bs(),o=ds.DOM,r=document,c=u9(t,e),h=gQ(t,e),v=iM(t,e),T=eoe(t,e);e.on("mousedown",c),e.on("mousemove",h),e.on("mouseup",v),o.bind(r,"mousemove",h),o.bind(r,"mouseup",T),e.on("remove",()=>{o.unbind(r,"mousemove",h),o.unbind(r,"mouseup",T)}),e.on("keydown",k=>{k.keyCode===Mn.ESC&&lM(t,e,X.none())})},bQ=e=>{const t=c=>{if(!c.isDefaultPrevented()){const h=c.dataTransfer;h&&(Be(h.types,"Files")||h.files.length>0)&&(c.preventDefault(),c.type==="drop"&&Jk(e,"Dropped file type is not supported"))}},o=c=>{GA(e,c.target)&&t(c)},r=()=>{const c=ds.DOM,h=e.dom,v=document,T=e.inline?e.getBody():e.getDoc(),k=["drop","dragover"];Le(k,L=>{c.bind(v,L,o),h.bind(T,L,t)}),e.on("remove",()=>{Le(k,L=>{c.unbind(v,L,o),h.unbind(T,L,t)})})};e.on("init",()=>{Qg.setEditorTimeout(e,r,0)})},cM=e=>{f9(e),O_(e)&&bQ(e)},yQ=e=>{const t=Sn(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=Jb(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},vQ=e=>{e.on("init",()=>{e.on("focusin",t=>{const o=t.target;if(Rd(o)){const r=m0(e.getBody(),o),c=ta(r)?r:o;e.selection.getNode()!==c&&T1(e,c).each(h=>e.selection.setRng(h))}})})},uT=ta,uM=(e,t)=>m0(e.getBody(),t),h3=e=>{const t=e.selection,o=e.dom,r=e.getBody(),c=Po(e,r,o.isBlock,()=>kw(e)),h="sel-"+o.uniqueId(),v="data-mce-selected";let T;const k=Rt=>We(Rt)&&o.hasClass(Rt,"mce-offscreen-selection"),L=Rt=>Rt!==r&&(uT(Rt)||Rd(Rt))&&o.isChildOf(Rt,r)&&o.isEditable(Rt.parentNode),W=Rt=>{Rt&&t.setRng(Rt)},G=(Rt,Ct,Lt,_n=!0)=>e.dispatch("ShowCaret",{target:Ct,direction:Rt,before:Lt}).isDefaultPrevented()?null:(_n&&t.scrollIntoView(Ct,Rt===-1),c.show(Lt,Ct)),Q=Rt=>{Rt.hasAttribute("data-mce-caret")&&(ff(Rt),t.scrollIntoView(Rt))},ce=()=>{e.on("click",Ct=>{o.isEditable(Ct.target)||(Ct.preventDefault(),e.focus())}),e.on("blur NewBlock",Qt),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",Ct=>{const Lt=Ct.target,_n=uM(e,Lt);uT(_n)?(Ct.preventDefault(),T1(e,_n).each(Bt)):L(Lt)&&T1(e,Lt).each(Bt)},!0),e.on("mousedown",Ct=>{const Lt=Ct.target;if(Lt!==r&&Lt.nodeName!=="HTML"&&!o.isChildOf(Lt,r)||!sW(e,Ct.clientX,Ct.clientY))return;Qt(),ro();const _n=uM(e,Lt);uT(_n)?(Ct.preventDefault(),T1(e,_n).each(Bt)):sM(r,Ct.clientX,Ct.clientY).each(No=>{Ct.preventDefault();const Ro=G(1,No.node,No.position===gC.Before,!1);W(Ro),au(_n)?_n.focus():e.getBody().focus()})}),e.on("keypress",Ct=>{Mn.modifierPressed(Ct)||uT(t.getNode())&&Ct.preventDefault()}),e.on("GetSelectionRange",Ct=>{let Lt=Ct.range;if(T){if(!T.parentNode){T=null;return}Lt=Lt.cloneRange(),Lt.selectNode(T),Ct.range=Lt}}),e.on("focusin",Ct=>{if(!Rd(Ct.target)&&e.getBody().contains(Ct.target)&&Ct.target!==e.getBody()&&!e.dom.isEditable(Ct.target.parentNode)){c.isShowing()&&c.hide(),Ct.target.contains(e.selection.getNode())||(e.selection.select(Ct.target,!0),e.selection.collapse(!0));const Lt=Bt(e.selection.getRng(),!0);Lt&&e.selection.setRng(Lt)}}),e.on("SetSelectionRange",Ct=>{Ct.range=Te(Ct.range);const Lt=Bt(Ct.range,Ct.forward);Lt&&(Ct.range=Lt)});const Rt=Ct=>xn(Ct)&&Ct.id==="mcepastebin";e.on("AfterSetSelectionRange",Ct=>{const Lt=Ct.range,_n=Lt.startContainer.parentElement;!ge(Lt)&&!Rt(_n)&&ro(),k(_n)||Qt()}),cM(e),yQ(e),vQ(e)},ke=Rt=>id(Rt)||hu(Rt)||Qi(Rt),ge=Rt=>ke(Rt.startContainer)||ke(Rt.endContainer),Te=Rt=>{const Ct=e.schema.getVoidElements(),Lt=o.createRng(),_n=Rt.startContainer,No=Rt.startOffset,Ro=Rt.endContainer,js=Rt.endOffset;return Yn(Ct,_n.nodeName.toLowerCase())?No===0?Lt.setStartBefore(_n):Lt.setStartAfter(_n):Lt.setStart(_n,No),Yn(Ct,Ro.nodeName.toLowerCase())?js===0?Lt.setEndBefore(Ro):Lt.setEndAfter(Ro):Lt.setEnd(Ro,js),Lt},nt=(Rt,Ct)=>{const Lt=_e.fromDom(e.getBody()),_n=e.getDoc(),No=Yu(Lt,"#"+h).getOrThunk(()=>{const Mr=_e.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',_n);return Ar(Mr,"id",h),Fs(Lt,Mr),Mr}),Ro=o.createRng();ql(No),hc(No,[_e.fromText(jr,_n),_e.fromDom(Ct),_e.fromText(jr,_n)]),Ro.setStart(No.dom.firstChild,1),Ro.setEnd(No.dom.lastChild,0),fl(No,{top:o.getPos(Rt,e.getBody()).y+"px"}),Ia(No);const js=t.getSel();return js&&(js.removeAllRanges(),js.addRange(Ro)),Ro},st=Rt=>{const Ct=e.getDoc().createElement("div");Ct.style.width=Rt.style.width,Ct.style.height=Rt.style.height;const Lt=Rt.getAttribute("width");Lt&&Ct.setAttribute("width",Lt);const _n=Rt.getAttribute("height");return _n&&Ct.setAttribute("height",_n),Ct},ut=Rt=>{const Ct=Rp(Rt)?st(Rt):Rt.cloneNode(!0),Lt=e.dispatch("ObjectSelected",{target:Rt,targetClone:Ct});if(Lt.isDefaultPrevented())return null;const _n=nt(Rt,Lt.targetClone),No=_e.fromDom(Rt);return Le(At(_e.fromDom(e.getBody()),`*[${v}]`),Ro=>{es(No,Ro)||ci(Ro,v)}),o.getAttrib(Rt,v)||Rt.setAttribute(v,"1"),T=Rt,ro(),_n},Bt=(Rt,Ct)=>{if(!Rt)return null;if(Rt.collapsed){if(!ge(Rt)){const Ro=Ct?1:-1,js=g1(Ro,r,Rt),Mr=js.getNode(!Ct);if(We(Mr)){if(Tx(Mr))return G(Ro,Mr,Ct?!js.isAtEnd():!1,!1);if(pm(Mr)&&ta(Mr.nextSibling)){const ni=o.createRng();return ni.setStart(Mr,0),ni.setEnd(Mr,0),ni}}const wa=js.getNode(Ct);if(We(wa)){if(Tx(wa))return G(Ro,wa,Ct?!1:!js.isAtEnd(),!1);if(pm(wa)&&ta(wa.previousSibling)){const ni=o.createRng();return ni.setStart(wa,1),ni.setEnd(wa,1),ni}}}return null}let Lt=Rt.startContainer,_n=Rt.startOffset;const No=Rt.endOffset;if(cn(Lt)&&_n===0&&uT(Lt.parentNode)&&(Lt=Lt.parentNode,_n=o.nodeIndex(Lt),Lt=Lt.parentNode),!xn(Lt))return null;if(No===_n+1&&Lt===Rt.endContainer){const Ro=Lt.childNodes[_n];if(L(Ro))return ut(Ro)}return null},Qt=()=>{T&&T.removeAttribute(v),Yu(_e.fromDom(e.getBody()),"#"+h).each(ys),T=null},Dn=()=>{c.destroy(),T=null},ro=()=>{c.hide()};return v0(e)||ce(),{showCaret:G,showBlockCaretContainer:Q,hideFakeCaret:ro,destroy:Dn}},m9=(e,t)=>{let o=t;for(let r=e.previousSibling;cn(r);r=r.previousSibling)o+=r.data.length;return o},dM=(e,t,o,r,c)=>{if(cn(o)&&(r<0||r>o.data.length))return[];const h=c&&cn(o)?[m9(o,r)]:[r];let v=o;for(;v!==t&&v.parentNode;)h.push(e.nodeIndex(v,c)),v=v.parentNode;return v===t?h.reverse():[]},fM=(e,t,o,r,c,h,v=!1)=>{const T=dM(e,t,o,r,v),k=dM(e,t,c,h,v);return{start:T,end:k}},h9=(e,t)=>{const o=t.slice(),r=o.pop();return Jo(r)?vt(o,(h,v)=>h.bind(T=>X.from(T.childNodes[v])),X.some(e)).bind(h=>cn(h)&&(r<0||r>h.data.length)?X.none():X.some({node:h,offset:r})):X.none()},mM=(e,t)=>h9(e,t.start).bind(({node:o,offset:r})=>h9(e,t.end).map(({node:c,offset:h})=>{const v=document.createRange();return v.setStart(o,r),v.setEnd(c,h),v})),xQ=(e,t,o,r=!1)=>fM(e,t,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),yC=(e,t,o)=>{if(t&&e.isEmpty(t)&&!o(t)){const r=t.parentNode;e.remove(t,cn(t.firstChild)&&Ap(t.firstChild.data)),yC(e,r,o)}},g3=(e,t,o,r=!0)=>{const c=t.startContainer.parentNode,h=t.endContainer.parentNode;t.deleteContents(),r&&!o(t.startContainer)&&(cn(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),cn(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),yC(e,c,o),c!==h&&yC(e,h,o))},vC=(e,t)=>X.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),hM=(e,t,o)=>{const r=e.dynamicPatternsLookup({text:o,block:t});return{...e,blockPatterns:h_(r).concat(e.blockPatterns),inlinePatterns:ux(r).concat(e.inlinePatterns)}},gM=(e,t,o,r)=>{const c=e.createRng();return c.setStart(t,0),c.setEnd(o,r),c.toString()},g9=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),p3=(e,t)=>{const o=e.createRng();return o.setStartAfter(t.start),o.setEndBefore(t.end),o},p9=(e,t,o)=>{const r=mM(e.getRoot(),o).getOrDie("Unable to resolve path range"),c=r.startContainer,h=r.endContainer,v=r.endOffset===0?h:h.splitText(r.endOffset),T=r.startOffset===0?c:c.splitText(r.startOffset),k=T.parentNode,L=v.parentNode;return{prefix:t,end:L.insertBefore(g9(e,t+"-end"),v),start:k.insertBefore(g9(e,t+"-start"),T)}},b9=(e,t,o)=>{yC(e,e.get(t.prefix+"-end"),o),yC(e,e.get(t.prefix+"-start"),o)},dT=e=>e.start.length===0,wQ=e=>(t,o)=>{const c=t.data.substring(0,o),h=c.lastIndexOf(e.charAt(e.length-1)),v=c.lastIndexOf(e);return v!==-1?v+e.length:h!==-1?h+1:-1},y9=(e,t,o,r)=>{const c=t.start;return DR(e,r.container,r.offset,wQ(c),o).bind(v=>{const T=o.textContent?.indexOf(c)??-1;if(T!==-1&&v.offset>=T+c.length){const L=e.createRng();return L.setStart(v.container,v.offset-c.length),L.setEnd(v.container,v.offset),X.some(L)}else{const L=v.offset-c.length;return kR(v.container,L,o).map(W=>{const G=e.createRng();return G.setStart(W.container,W.offset),G.setEnd(v.container,v.offset),G}).filter(W=>W.toString()===c).orThunk(()=>y9(e,t,o,A0(v.container,0)))}})},CQ=(e,t,o,r,c,h=!1)=>{if(t.start.length===0&&!h){const v=e.createRng();return v.setStart(o,r),v.setEnd(o,r),X.some(v)}return TR(o,r,c).bind(v=>y9(e,t,c,v).bind(k=>{if(h){if(k.endContainer===v.container&&k.endOffset===v.offset)return X.none();if(v.offset===0&&k.endContainer.textContent?.length===k.endOffset)return X.none()}return X.some(k)}))},v9=(e,t,o,r)=>{const c=e.dom,h=c.getRoot(),v=o.pattern,T=o.position.container,k=o.position.offset;return kR(T,k-o.pattern.end.length,t).bind(L=>{const W=fM(c,h,L.container,L.offset,T,k,r);if(dT(v))return X.some({matches:[{pattern:v,startRng:W,endRng:W}],position:L});{const G=b3(e,o.remainingPatterns,L.container,L.offset,t,r),Q=G.getOr({matches:[],position:L}),ce=Q.position;return CQ(c,v,ce.container,ce.offset,t,G.isNone()).map(ge=>{const Te=xQ(c,h,ge,r);return{matches:Q.matches.concat([{pattern:v,startRng:Te,endRng:W}]),position:A0(ge.startContainer,ge.startOffset)}})}})},b3=(e,t,o,r,c,h)=>{const v=e.dom;return TR(o,r,v.getRoot()).bind(T=>{const k=gM(v,c,o,r);for(let L=0;L<t.length;L++){const W=t[L];if(!Si(k,W.end))continue;const G=t.slice();G.splice(L,1);const Q=v9(e,c,{pattern:W,remainingPatterns:G,position:T},h);if(Q.isNone()&&r>0)return b3(e,t,o,r-1,c,h);if(Q.isSome())return Q}return X.none()})},x9=(e,t,o)=>{e.selection.setRng(o),t.type==="inline-format"?Le(t.format,r=>{e.formatter.apply(r)}):e.execCommand(t.cmd,!1,t.value)},SQ=(e,t,o,r)=>{const c=p3(e.dom,o);g3(e.dom,c,r),x9(e,t,c)},EQ=(e,t,o,r,c)=>{const h=e.dom,v=p3(h,r),T=p3(h,o);g3(h,T,c),g3(h,v,c);const k={prefix:o.prefix,start:o.end,end:r.start},L=p3(h,k);x9(e,t,L)},TQ=(e,t)=>{const o=is("mce_textpattern"),r=go(t,(c,h)=>{const v=p9(e,o+`_end${c.length}`,h.endRng);return c.concat([{...h,endMarker:v}])},[]);return go(r,(c,h)=>{const v=r.length-c.length-1,T=dT(h.pattern)?h.endMarker:p9(e,o+`_start${v}`,h.startRng);return c.concat([{...h,startMarker:T}])},[])},AQ=e=>Kr(e,(t,o)=>o.end.length-t.end.length),kQ=(e,t)=>{const o=Gr(e,r=>Ye(t,c=>r.pattern.start===c.pattern.start&&r.pattern.end===c.pattern.end));return e.length===t.length?o?e:t:e.length>t.length?e:t},w9=(e,t,o,r,c,h)=>{const v=b3(e,c.inlinePatterns,o,r,t,h).fold(()=>[],k=>k.matches),T=b3(e,AQ(c.inlinePatterns),o,r,t,h).fold(()=>[],k=>k.matches);return kQ(v,T)},pM=(e,t)=>{if(t.length===0)return;const o=e.dom,r=e.selection.getBookmark(),c=TQ(o,t);Le(c,h=>{const v=o.getParent(h.startMarker.start,o.isBlock),T=k=>k===v;dT(h.pattern)?SQ(e,h.pattern,h.endMarker,T):EQ(e,h.pattern,h.startMarker,h.endMarker,T),b9(o,h.endMarker,T),b9(o,h.startMarker,T)}),e.selection.moveToBookmark(r)},C9=(e,t,o)=>AR(t,0,t).map(r=>{const c=r.container;return _R(c,o.start.length,t).each(h=>{const v=e.createRng();v.setStart(c,0),v.setEnd(h.container,h.offset),g3(e,v,T=>T===t)}),c}),y3=e=>(t,o)=>{const r=t.dom,c=o.pattern,h=mM(r.getRoot(),o.range).getOrDie("Unable to resolve path range"),v=(T,k)=>{const L=k.get(T);return qe(L)&&xs(L).exists(W=>Yn(W,"block"))};return vC(t,h).each(T=>{c.type==="block-format"?v(c.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,T,c),t.formatter.apply(c.format)}):c.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,T,c),t.execCommand(c.cmd,!1,c.value)})}),!0},_Q=e=>Kr(e,(t,o)=>o.start.length-t.start.length),S9=e=>(t,o)=>{const r=_Q(t),c=o.replace(jr," ");return Un(r,h=>e(h,o,c))},E9=(e,t)=>(o,r,c,h,v=r.textContent??"")=>{const T=o.dom,k=bl(o);return T.is(r,k)?e(c.blockPatterns,v).map(L=>t&&on.trim(v).length===L.start.length?[]:[{pattern:L,range:fM(T,T.getRoot(),r,0,r,0,h)}]).getOr([]):[]},DQ=e=>/^\s[^\s]/.test(e),OQ=y3((e,t,o)=>{C9(e,t,o).each(r=>{const c=_e.fromDom(r),h=yi(c);DQ(h)&&Sp(c,h.slice(1))})}),v3=S9((e,t,o)=>t.indexOf(e.start)===0||o.indexOf(e.start)===0),NQ=E9(v3,!0),RQ=(e,t)=>{const o=e.selection.getRng();return vC(e,o).map(r=>{const c=Math.max(0,o.startOffset),h=hM(t,r,r.textContent??""),v=w9(e,r,o.startContainer,c,h,!0),T=NQ(e,r,h,!0);return{inlineMatches:v,blockMatches:T}}).filter(({inlineMatches:r,blockMatches:c})=>c.length>0||r.length>0)},MQ=(e,t)=>{if(t.length===0)return;const o=e.selection.getBookmark();Le(t,r=>OQ(e,r)),e.selection.moveToBookmark(o)},BQ=y3(C9),LQ=S9((e,t,o)=>t===e.start||o===e.start),FQ=E9(LQ,!1),PQ=(e,t)=>{const o=e.selection.getRng();return vC(e,o).map(r=>{const c=Math.max(0,o.startOffset),h=gM(e.dom,r,o.startContainer,c),v=hM(t,r,h);return FQ(e,r,v,!1,h)}).filter(r=>r.length>0)},$Q=(e,t)=>{Le(t,o=>BQ(e,o))},IQ=(e,t)=>RQ(e,t).fold(He,({inlineMatches:o,blockMatches:r})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{vb(e),pM(e,o),MQ(e,r);const c=e.selection.getRng(),h=TR(c.startContainer,c.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),h.each(v=>{const T=v.container;T.data.charAt(v.offset-1)===pi&&(T.deleteData(v.offset-1,1),yC(e.dom,T.parentNode,k=>k===e.dom.getRoot()))})}),!0)),T9=(e,t)=>{const o=e.selection.getRng();vC(e,o).map(r=>{const c=Math.max(0,o.startOffset-1),h=gM(e.dom,r,o.startContainer,c),v=hM(t,r,h),T=w9(e,r,o.startContainer,c,v,!1);T.length>0&&e.undoManager.transact(()=>{pM(e,T)})})},HQ=(e,t)=>PQ(e,t).fold(He,o=>(e.undoManager.transact(()=>{$Q(e,o)}),!0)),bM=(e,t,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],t))return!0;return!1},zQ=(e,t)=>bM(e,t,(o,r)=>o===r.keyCode&&!Mn.modifierPressed(r)),jQ=(e,t)=>bM(e,t,(o,r)=>o.charCodeAt(0)===r.charCode),A9=e=>{const t=[",",".",";",":","!","?"],o=[32],r=()=>g_(gA(e).filter(v=>v.type==="inline-command"||v.type==="block-command"?e.queryCommandSupported(v.cmd):!0),io(e)),c=()=>Yy(e);e.on("keydown",v=>{if(v.keyCode===13&&!Mn.modifierPressed(v)&&e.selection.isCollapsed()&&e.selection.isEditable()){const T=dx(r(),"enter");(T.inlinePatterns.length>0||T.blockPatterns.length>0||c())&&IQ(e,T)&&v.preventDefault()}},!0),e.on("keydown",v=>{if(v.keyCode===32&&e.selection.isCollapsed()&&e.selection.isEditable()){const T=dx(r(),"space");(T.blockPatterns.length>0||c())&&HQ(e,T)&&v.preventDefault()}},!0);const h=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const v=dx(r(),"space");(v.inlinePatterns.length>0||c())&&T9(e,v)}};e.on("keyup",v=>{zQ(o,v)&&h()}),e.on("keypress",v=>{jQ(t,v)&&Qg.setEditorTimeout(e,h)})},fT=e=>{A9(e)},VQ=e=>{const t=on.each,o=Mn.BACKSPACE,r=Mn.DELETE,c=e.dom,h=e.selection,v=e.parser,T=ls.browser,k=T.isFirefox(),L=T.isChromium()||T.isSafari(),W=ls.deviceType.isiPhone()||ls.deviceType.isiPad(),G=ls.os.isMacOS()||ls.os.isiOS(),Q=($t,wn)=>{try{e.getDoc().execCommand($t,!1,String(wn))}catch{}},ce=$t=>$t.isDefaultPrevented(),ke=()=>{const $t=Kn=>{const Os=c.create("body"),vs=Kn.cloneContents();return Os.appendChild(vs),h.serializer.serialize(Os,{format:"html"})},wn=Kn=>{const Os=$t(Kn),vs=c.createRng();vs.selectNode(e.getBody());const zr=$t(vs);return Os===zr};e.on("keydown",Kn=>{const Os=Kn.keyCode;if(!ce(Kn)&&(Os===r||Os===o)&&e.selection.isEditable()){const vs=e.selection.isCollapsed(),zr=e.getBody();if(vs&&!uo(e.schema,zr)||!vs&&!wn(e.selection.getRng()))return;Kn.preventDefault(),e.setContent(""),zr.firstChild&&c.isBlock(zr.firstChild)?e.selection.setCursorLocation(zr.firstChild,0):e.selection.setCursorLocation(zr,0),e.nodeChanged()}})},ge=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},Te=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",$t=>{let wn;if($t.target===e.getDoc().documentElement)if(wn=h.getRng(),e.getDoc().getSelection()?.anchorNode!==null&&e.getBody().focus(),$t.type==="mousedown"){if(id(wn.startContainer))return;h.placeCaretAt($t.clientX,$t.clientY)}else h.setRng(wn)})},nt=()=>{e.on("keydown",$t=>{if(!ce($t)&&$t.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(h.isCollapsed()&&h.getRng().startOffset===0){const wn=h.getNode(),Kn=wn.previousSibling;if(wn.nodeName==="HR"){c.remove(wn),$t.preventDefault();return}Kn&&Kn.nodeName&&Kn.nodeName.toLowerCase()==="hr"&&(c.remove(Kn),$t.preventDefault())}}})},st=()=>{Range.prototype.getClientRects||e.on("mousedown",$t=>{if(!ce($t)&&$t.target.nodeName==="HTML"){const wn=e.getBody();wn.blur(),Qg.setEditorTimeout(e,()=>{wn.focus()})}})},ut=()=>{const $t=rw(e);e.on("click",wn=>{const Kn=wn.target;/^(IMG|HR)$/.test(Kn.nodeName)&&c.isEditable(Kn)&&(wn.preventDefault(),e.selection.select(Kn),e.nodeChanged()),Kn.nodeName==="A"&&c.hasClass(Kn,$t)&&Kn.childNodes.length===0&&c.isEditable(Kn.parentNode)&&(wn.preventDefault(),h.select(Kn))})},Bt=()=>{const $t=wn=>wn.nodeName==="IMG"&&e.dom.isEditable(wn);e.on("mousedown",wn=>{Rn(X.from(wn.clientX),X.from(wn.clientY),(Kn,Os)=>{const vs=e.getDoc().caretPositionFromPoint(Kn,Os),zr=vs?.offsetNode?.childNodes[vs.offset-(vs.offset>0?1:0)]||vs?.offsetNode;if(We(zr)&&$t(zr)){const km=zr.getBoundingClientRect();wn.preventDefault(),e.hasFocus()||e.focus(),e.selection.select(zr),wn.clientX<km.left||wn.clientY<km.top?e.selection.collapse(!0):(wn.clientX>km.right||wn.clientY>km.bottom)&&e.selection.collapse(!1)}})})},Qt=()=>{const $t=()=>{const Kn=c.getAttribs(h.getStart().cloneNode(!1));return()=>{const Os=h.getStart();Os!==e.getBody()&&(c.setAttrib(Os,"style",null),t(Kn,vs=>{Os.setAttributeNode(vs.cloneNode(!0))}))}},wn=()=>!h.isCollapsed()&&c.getParent(h.getStart(),c.isBlock)!==c.getParent(h.getEnd(),c.isBlock);e.on("keypress",Kn=>{let Os;return!ce(Kn)&&(Kn.keyCode===8||Kn.keyCode===46)&&wn()?(Os=$t(),e.getDoc().execCommand("delete",!1),Os(),Kn.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",Kn=>{if(!ce(Kn)&&wn()){const Os=$t();Qg.setEditorTimeout(e,()=>{Os()})}})},Dn=()=>{e.on("keydown",$t=>{if(!ce($t)&&$t.keyCode===o&&h.isCollapsed()&&h.getRng().startOffset===0){const wn=h.getNode().previousSibling;if(wn&&wn.nodeName&&wn.nodeName.toLowerCase()==="table")return $t.preventDefault(),!1}return!0})},ro=()=>{e.on("keydown",$t=>{if(ce($t)||$t.keyCode!==Mn.BACKSPACE)return;let wn=h.getRng();const Kn=wn.startContainer,Os=wn.startOffset,vs=c.getRoot();let zr=Kn;if(!(!wn.collapsed||Os!==0)){for(;zr.parentNode&&zr.parentNode.firstChild===zr&&zr.parentNode!==vs;)zr=zr.parentNode;zr.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,zr),wn=c.createRng(),wn.setStart(Kn,0),wn.setEnd(Kn,0),h.setRng(wn))}})},Rt=()=>{const $t=Fa("figcaption");e.on("keydown",wn=>{if(wn.keyCode===Mn.LEFT||wn.keyCode===Mn.RIGHT){const Kn=_e.fromDom(e.selection.getNode());$t(Kn)&&e.selection.isCollapsed()&&Wi(Kn).bind(Os=>e.selection.getRng().startOffset===0&&wn.keyCode===Mn.LEFT?qu(Os):e.selection.getRng().endOffset===Kn.dom.textContent?.length&&wn.keyCode===Mn.RIGHT?Wa(Os):X.none()).each(Os=>{e.selection.setCursorLocation(Os.dom,0)})}})},Ct=()=>{const $t=()=>{Q("StyleWithCSS",!1),Q("enableInlineTableEditing",!1),lA(e)||Q("enableObjectResizing",!1)};yx(e)||e.on("BeforeExecCommand mousedown",$t)},Lt=()=>{const $t=()=>{t(c.select("a:not([data-mce-block])"),wn=>{let Kn=wn.parentNode;const Os=c.getRoot();if(Kn?.lastChild===wn){for(;Kn&&!c.isBlock(Kn);){if(Kn.parentNode?.lastChild!==Kn||Kn===Os)return;Kn=Kn.parentNode}c.add(Kn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",wn=>{(wn.type==="setcontent"||wn.command==="mceInsertLink")&&$t()})},_n=()=>{e.on("init",()=>{Q("DefaultParagraphSeparator",bl(e))})},No=$t=>{const wn=$t.getBody(),Kn=$t.selection.getRng();return Kn.startContainer===Kn.endContainer&&Kn.startContainer===wn&&Kn.startOffset===0&&Kn.endOffset===wn.childNodes.length},Ro=()=>{e.on("keyup focusin mouseup",$t=>{!Mn.modifierPressed($t)&&!No(e)&&h.normalize()},!0)},js=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Mr=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},wa=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",$t=>{let wn;$t.target.nodeName==="HTML"&&(wn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(wn),e.selection.normalize(),e.nodeChanged())}))},ni=()=>{G&&e.on("keydown",$t=>{Mn.metaKeyPressed($t)&&!$t.shiftKey&&($t.keyCode===37||$t.keyCode===39)&&($t.preventDefault(),e.selection.getSel().modify("move",$t.keyCode===37?"backward":"forward","lineboundary"))})},Vc=()=>{e.on("click",$t=>{let wn=$t.target;do if(wn.tagName==="A"){$t.preventDefault();return}while(wn=wn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Am=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",$t=>{$t.preventDefault()})})},Fn=()=>{v.addNodeFilter("br",$t=>{let wn=$t.length;for(;wn--;)$t[wn].attr("class")==="Apple-interchange-newline"&&$t[wn].remove()})},ho=Mt,Tr=()=>{if(!k||e.removed)return!1;const $t=e.selection.getSel();return!$t||!$t.rangeCount||$t.rangeCount===0},fr=()=>{L&&(Te(),ut(),Am(),ge(),W&&(Mr(),wa(),Vc())),k&&(st(),Ct(),js(),ni())},xu=()=>{ro(),ke(),ls.windowsPhone||Ro(),L&&(Te(),ut(),_n(),Am(),Dn(),Fn(),W?(Mr(),wa(),Vc()):ge()),k&&(Rt(),Bt(),nt(),st(),Qt(),Ct(),Lt(),js(),ni(),Dn())};return v0(e)?fr():xu(),{refreshContentEditable:ho,isHidden:Tr}};class yM extends Error{url;constructor(t,o){super(t),this.url=o}}const vM={},UQ=(e,t,o)=>new Promise((r,c)=>{const h=_e.fromTag("script");qa(h,{type:"text/javascript",src:e,...o});const v=()=>{ys(h)};vg(h,"load",()=>{v(),r()}),vg(h,"error",()=>{v(),c(new Error(`Failed to load script url: ${e}`))}),Fs(xp(t),h)}),k9=async(e,t)=>{const o=er.ScriptLoader.getScriptAttributes(e);return await UQ(e,t,o).catch(()=>Promise.reject(new yM(`Failed to load component url: ${e}`,e))),e},ZQ=e=>Wn(e,(t,o)=>Do(vM,t).getOrThunk(()=>{if(dn(window.customElements.get(o))){const r=k9(t,Cl());return vM[t]=r,r}else return Promise.resolve(t)}).catch(r=>(delete vM[t],Promise.reject(r)))),_9=(e,t)=>{const o=Ma(yo(e));return et(o,r=>k9(r,_e.fromDom(t)))},WQ=e=>{const t=e.schema.getComponentUrls();return e.inline?ZQ(t):_9(t,e.getDoc())},D9=async e=>{const t=WQ(e),o=xt(await Promise.allSettled(t),r=>r.status==="rejected");o.length>0&&Le(o,r=>{if(r.reason instanceof yM){const{url:c}=r.reason;lW(e,c)}})},qQ=e=>{D9(e)},xM=ds.DOM,GQ=(e,t)=>{const o=_e.fromDom(e.getBody()),r=Mm(sa(o)),c=_e.fromTag("style");Ar(c,"type","text/css"),Fs(c,_e.fromText(t)),Fs(r,c),e.on("remove",()=>{ys(c)})},KQ=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,wM=e=>Gn(e,t=>En(t)===!1),O9=e=>{const t=e.options.get,o=e.editorUpload.blobCache;return wM({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_html_in_comments:t("allow_html_in_comments"),allow_mathml_annotation_encodings:t("allow_mathml_annotation_encodings"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),extended_mathml_attributes:t("extended_mathml_attributes"),extended_mathml_elements:t("extended_mathml_elements"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:KQ(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:a0(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},N9=e=>{const t=e.options.get;return wM({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},YQ=e=>{const t=e.options.get;return{...O9(e),...N9(e),...wM({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},XQ=e=>{const t=Lw(O9(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const c=e.dom,h="data-mce-"+r;let v=o.length;for(;v--;){const T=o[v];let k=T.attr(r);if(k&&!T.attr(h)){if(k.indexOf("data:")===0||k.indexOf("blob:")===0)continue;r==="style"?(k=c.serializeStyle(c.parseStyle(k),T.name),k.length||(k=null),T.attr(h,k),T.attr(r,k)):r==="tabindex"?(T.attr(h,k),T.attr(r,null)):T.attr(h,e.convertURL(k,r,T.name))}}}),t.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const c=o[r],h=c.attr("type")||"no/type";h.indexOf("mce-")!==0&&c.attr("type","mce-"+h)}}),mS(e)&&t.addNodeFilter("#cdata",o=>{let r=o.length;for(;r--;){const c=o[r];c.type=8,c.name="#comment",c.value="[CDATA["+e.dom.encode(c.value??"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const c=e.schema.getNonEmptyElements();for(;r--;){const h=o[r];h.isEmpty(c)&&h.getAll("br").length===0&&h.append(new Hc("br",1))}}),t},R9=e=>{const t=R_(e);t&&Qg.setEditorTimeout(e,()=>{let o;t===!0?o=e:o=e.editorManager.get(t),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},CM=e=>{const t=e.dom.getRoot();!e.inline&&(!NS(e)||e.selection.getStart(!0)===t)&&H(t).each(o=>{const r=o.getNode(),c=lu(r)?H(r).getOr(o):o;e.selection.setRng(c.toRange())})},M9=e=>{e.bindPendingEventDelegates(),e.initialized=!0,zT(e),e.focus(!0),CM(e),e.nodeChanged({initial:!0});const t=N_(e);Ne(t)&&t.call(e,e),R9(e),Kb(e)&&YF(e,!0)},x3=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,QQ=(e,t,o)=>{const{pass:r,fail:c}=Ot(t,T=>tinymce.Resource.has(hv(T))),v=[...r.map(T=>{const k=tinymce.Resource.get(hv(T));return J(k)?Promise.resolve(x3(e).loadRawCss(T,k)):Promise.resolve()}),x3(e).loadAll(c)];return e.inline?v:v.concat([e.ui.styleSheetLoader.loadAll(o)])},B9=e=>{const t=x3(e),o=sS(e),r=e.contentCSS,c=()=>{t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},h=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let k="";on.each(e.contentStyles,L=>{k+=L+`\r
`}),e.dom.addStyle(k)}const v=Promise.all(QQ(e,r,o)).then(h).catch(h),T=Rb(e);return T&&GQ(e,T),v},JQ=e=>{const t=e.getDoc(),o=e.getBody();HT(e),mA(e)||(t.body.spellcheck=!1,xM.setAttrib(o,"spellcheck","false")),e.quirks=VQ(e),lr(e);const r=C_(e);r!==void 0&&(o.dir=r);const c=M_(e);c&&e.on("BeforeSetContent",h=>{on.each(c,v=>{h.content=h.content.replace(v,T=>"<!--mce:protected "+escape(T)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",h=>{e.composing=h.type==="compositionstart"})},L9=e=>{v0(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},w3=e=>{e.removed!==!0&&(L9(e),M9(e))},eJ=e=>{let t=!1;const o=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(o),t=!0,e.setProgressState(!1)}},F9=e=>{const t=e.getElement();let o=e.getDoc();e.inline&&(xM.addClass(t,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const r=e.getBody();r.disabled=!0,e.readonly=yx(e),e._editableRoot=sw(e),!nh(e)&&e.hasEditableRoot()&&(e.inline&&xM.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=Xx(e),e.schema=Ns(N9(e)),e.dom=ds(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:rA(e),referrerPolicy:J2(e),crossOrigin:Nb(e),onSetAttrib:v=>{e.dispatch("SetAttrib",v)}}),e.parser=XQ(e),e.serializer=xO(YQ(e),e),e.selection=yO(e.dom,e.getWin(),e.serializer,e),e.annotator=UB(e),e.formatter=nP(e),e.undoManager=RW(e),e._nodeChangeDispatcher=new iX(e),e._selectionOverrides=h3(e),Zr(e),eK(e),XI(e),sK(e),v0(e)||(ZX(e),fT(e));const c=JY(e);oR(e,c),cp(e),FW(e),$X(e,c);const h=PZ(e);JQ(e),qQ(e),h.fold(()=>{const v=eJ(e);B9(e).then(()=>{w3(e),v()})},v=>{e.setProgressState(!0),B9(e).then(()=>{v().then(T=>{e.setProgressState(!1),w3(e),Kk(e)},T=>{e.notificationManager.open({type:"error",text:String(T)}),w3(e),Kk(e)})})})},mT=ds.DOM,C3=(e,t,o,r)=>{const c=_e.fromTag("iframe");return r.each(h=>Ar(c,"tabindex",h)),qa(c,o),qa(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",...ls.browser.isFirefox()?{title:t}:{}}),pc(c,"tox-edit-area__iframe"),c},P9=e=>{let t=JC(e)+"<html><head>";eS(e)!==e.editorManager.documentBaseURL&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=YT(e),r=XT(e),c=e.translate(aw(e)),h=ls.browser.isFirefox()?"":`aria-label="${c}"`;return QT(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+QT(e)+'" />'),t+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" ${h}><br></body></html>`,t},$9=(e,t)=>{const o=aw(e),r=e.translate(o),c=dl(_e.fromDom(e.getElement()),"tabindex").bind(Ef),h=C3(e.id,r,KT(e),c).dom;h.onload=()=>{h.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=h,e.iframeHTML=P9(e),mT.add(t.iframeContainer,h)},I9=e=>{const t=e.iframeElement,o=()=>{e.contentDocument=t.contentDocument,F9(e)};if(Sx(e)||ls.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),o()}else{const r=vg(_e.fromDom(t),"load",()=>{r.unbind(),o()});t.srcdoc=e.iframeHTML}},tJ=(e,t)=>{$9(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=mT.isHidden(t.editorContainer)),e.getElement().style.display="none",mT.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,I9(e)},H9=ds.DOM,nJ=(e,t,o)=>{const r=mv.get(o),c=mv.urls[o]||e.editorManager.documentBaseURL.replace(/\/$/,"");if(o=on.trim(o),r&&on.inArray(t,o)===-1){if(e.plugins[o])return;try{const h=r(e,c)||{};e.plugins[o]=h,Ne(h.init)&&(h.init(e,c),t.push(o))}catch(h){cW(e,o,h)}}},oJ=e=>{const t=o=>{o.keyCode===Mn.ESC&&!o.defaultPrevented&&GT(e).isDefaultPrevented()&&o.preventDefault()};document.addEventListener("keyup",t),e.inline||e.on("keyup",t),e.on("remove",()=>{document.removeEventListener("keyup",t),e.inline||e.off("keyup",t)})},N1=e=>e.replace(/^\-/,""),z9=e=>{const t=[];Le(vx(e),o=>{nJ(e,t,N1(o))})},sJ=e=>{const t=on.trim(px(e)),o=e.ui.registry.getAll().icons,r={...Qk.get("default").icons,...Qk.get(t).icons};_o(r,(c,h)=>{Yn(o,h)||e.ui.registry.addIcon(h,c)})},j9=e=>{const t=Zg(e);if(J(t)){const o=Zx.get(t);e.theme=o(e,Zx.urls[t])||{},Ne(e.theme.init)&&e.theme.init(e,Zx.urls[t]||e.editorManager.documentBaseURL.replace(/\/$/,""))}else e.theme={}},rJ=e=>{const t=nw(e),o=Uw.get(t);e.model=o(e,Uw.urls[t])},aJ=e=>{PO.init(e)},SM=e=>{const t=e.theme.renderUI;return t?t():U9(e)},S3=e=>{const t=e.getElement(),r=Zg(e)(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},V9=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),iJ=e=>{const t=H9.create("div");return H9.insertAfter(t,e),V9(t,t)},U9=e=>{const t=e.getElement();return e.inline?V9(null):iJ(t)},Z9=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,J(Zg(e))?SM(e):Ne(Zg(e))?S3(e):U9(e)},lJ=(e,t)=>{const o={show:X.from(t.show).getOr(Mt),hide:X.from(t.hide).getOr(Mt),isEnabled:X.from(t.isEnabled).getOr(dt),setEnabled:r=>{r&&(e.mode.get()==="readonly"||Kb(e))||X.from(t.setEnabled).each(h=>h(r))}};e.ui={...e.ui,...o}},W9=async e=>{e.dispatch("ScriptsLoaded"),sJ(e),oJ(e),j9(e),rJ(e),aJ(e),z9(e);const t=await Z9(e);lJ(e,X.from(t.api).getOr({})),e.editorContainer=t.editorContainer,xW(e),e.inline?F9(e):tJ(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},d2=ds.DOM,q9=e=>e.charAt(0)==="-",cJ=(e,t)=>{const o=aA(t),r=iA(t);if(!$u.hasCode(o)&&o!=="en"){const c=Fr(r)?r:`${t.editorManager.baseURL}/langs/${o}.js`;e.add(c).catch(()=>{qx(t,c,o)})}},uJ=(e,t)=>{const o=Zg(e);if(J(o)&&!q9(o)&&!Yn(Zx.urls,o)){const r=cA(e),c=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${t}.js`;Zx.load(o,c).catch(()=>{IF(e,c,o)})}},dJ=(e,t)=>{const o=nw(e);if(o!=="plugin"&&!Yn(Uw.urls,o)){const r=T_(e),c=J(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${t}.js`;Uw.load(o,c).catch(()=>{iW(e,c,o)})}},G9=(e,t)=>{PO.load(e,t)},E3=e=>X.from(nS(e)).filter(Fr).map(t=>({url:t,name:X.none()})),T3=(e,t,o)=>X.from(t).filter(r=>Fr(r)&&!Qk.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:X.some(r)})),fJ=(e,t,o)=>{const r=T3(t,"default",o),c=E3(t).orThunk(()=>T3(t,px(t),""));Le(to([r,c]),h=>{e.add(h.url).catch(()=>{aW(t,h.url,h.name.getOrUndefined())})})},K9=(e,t)=>{const o=(r,c)=>{r!=="licensekeymanager"&&mv.load(r,c).catch(()=>{$F(e,c,r)})};_o(cS(e),(r,c)=>{o(c,r),e.options.set("plugins",vx(e).concat(c))}),Le(vx(e),r=>{r=on.trim(r),r&&!mv.urls[r]&&!q9(r)&&o(r,`plugins/${r}/plugin${t}.js`)})},Y9=e=>{const t=Zg(e);return!J(t)||We(Zx.get(t))},mJ=e=>{const t=nw(e);return We(Uw.get(t))},X9=(e,t)=>{const o=er.ScriptLoader,r=()=>{!e.removed&&Y9(e)&&mJ(e)&&W9(e)};uJ(e,t),dJ(e,t),G9(e,t),cJ(o,e),fJ(o,e,t),K9(e,t),o.loadQueue().then(r,r)},hJ=(e,t)=>jm.forElement(e,{contentCssCors:lS(t),referrerPolicy:J2(t)}),gJ=e=>{const t=e.id;$u.setCode(aA(e));const o=()=>{d2.unbind(window,"ready",o),e.render()};if(!Fd.Event.domLoaded){d2.bind(window,"ready",o);return}if(!e.getElement())return;const r=_e.fromDom(e.getElement()),c=rs(r);e.on("remove",()=>{Je(r.dom.attributes,v=>ci(r,v.name)),qa(r,c)}),e.ui.styleSheetLoader=hJ(r,e),bx(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const h=e.getElement().form||d2.getParent(t,"form");h&&(e.formElement=h,iS(e)&&!lf(e.getElement())&&(d2.insertAfter(d2.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=v=>{e.dispatch(v.type,v)},d2.bind(h,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),__(e)&&!h.submit.nodeType&&!h.submit.length&&!h._mceOldSubmit&&(h._mceOldSubmit=h.submit,h.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),h._mceOldSubmit(h)))),e.windowManager=PF(e),e.notificationManager=EE(e),bA(e)&&e.on("GetContent",v=>{v.save&&(v.content=d2.encode(v.content))}),D_(e)&&e.on("submit",()=>{e.initialized&&e.save()}),ow(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),X9(e,e.suffix)},Q9=["#E41B60","#AD1457","#1939EC","#001CB5","#648000","#465B00","#006CE7","#0054B4","#00838F","#006064","#00866F","#004D40","#51742F","#385021","#CF4900","#A84600","#CC0000","#6A1B9A","#9C27B0","#6A00AB","#3041BA","#0A1877","#774433","#452B24","#607D8B","#455A64"],pJ=e=>Intl.Segmenter?`${new Intl.Segmenter().segment(e)[Symbol.iterator]().next().value?.segment}`:e.trim()[0],J9=(e,t)=>{let o=5381;for(let r=0;r<e.length;r++)o=(o<<5)+o+e.charCodeAt(r);return(o>>>0)%(t+1)},eH=e=>{const t=J9(e??"",Q9.length-1);return Q9[t]},tH=(e,t,o)=>{const r=o/2;return`<svg height="${o}" width="${o}" xmlns="http://www.w3.org/2000/svg"><circle cx="${r}" cy="${r}" r="${r}" fill="${t}"/><text x="50%" y="50%" text-anchor="middle" dominant-baseline="central" fill="#FFF" font-family="sans-serif" font-size="${r}">`+e+"</text></svg>"},nH=(e,t,o)=>"data:image/svg+xml,"+encodeURIComponent(tH(e,t,o)),A3=(e,t={size:36})=>nH(pJ(e.name),eH(e.id),t.size),oH=Hs([o0("id"),c1("name"),c1("avatar"),zs("custom")]),EM=e=>{const t={};return _o(e,(o,r)=>{o.each(c=>{t[r]=c})}),t},sH=e=>{if(!Array.isArray(e))throw new Error("fetch_users must return an array");const t=et(e,c=>gf("Invalid user object",oH,c)),{errors:o,values:r}=Ca(t);if(o.length>0){const c=et(o,(h,v)=>`User at index ${v}: ${Jm(h)}`);console.warn(`User validation errors:
`+c.join(`
`))}return et(r,c=>{const{id:h,name:v,avatar:T,...k}=c;return{id:h,name:v.getOr(h),avatar:T.getOr(A3({id:h,name:v.getOr(h)})),...EM(k)}})},rH=e=>{const t=new Map,o=new Map,r=L=>X.from(t.get(L)),c=(L,W)=>{t.set(W,L)},h=(L,W)=>X.from(o.get(L)).each(({reject:G})=>{G(W),o.delete(L)}),v=(L,W)=>X.from(o.get(L)).each(({resolve:G})=>{G(W),o.delete(L)}),T=L=>{const W=wA(e);if(Array.isArray(L)){if(!W)return Ra(L,Q=>Promise.resolve({id:Q,name:Q,avatar:A3({id:Q,name:Q})}))}else return{};const G=Ma(xt(L,Q=>!r(Q).isSome()));return Le(G,Q=>{const ce=new Promise((ke,ge)=>{o.set(Q,{resolve:ke,reject:ge})});c(ce,Q)}),G.length>0&&W(G).then(sH).then(Q=>{const ce=new Set(et(Q,ke=>ke.id));Le(Q,ke=>v(ke.id,ke)),Le(G,ke=>{ce.has(ke)||h(ke,new Error(`User ${ke} not found`))})}).catch(Q=>{Le(G,ce=>h(ce,Q instanceof Error?Q:new Error("Network error")))}),vt(L,(Q,ce)=>(Q[ce]=r(ce).getOr(Promise.resolve({id:ce,name:ce,avatar:A3({id:ce,name:ce})})),Q),{})},k=xA(e);return Object.freeze({userId:k,fetchUsers:T})},aH=e=>rH(e),bJ=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,Kb(e)||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),qT(e,t))},yJ=e=>e._editableRoot,iH=(e,t)=>({sections:at(e),options:at(t)}),TM=ms().deviceType,AM=TM.isPhone(),lH=TM.isTablet(),f2=e=>{if(dn(e))return[];{const t=qe(e)?e:e.split(/[ ,]/),o=et(t,Qr);return xt(o,Fr)}},kM=(e,t)=>{const o=qt(t,(r,c)=>Be(e,c));return iH(o.t,o.f)},k3=(e,t,o={})=>{const r=e.sections(),c=Do(r,t).getOr({});return on.extend({},o,c)},_3=(e,t)=>Yn(e.sections(),t),cH=(e,t)=>_3(e,t)?e.sections()[t]:{},uH=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Do(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),_M=(e,t)=>{const o=t.external_plugins??{};return e&&e.external_plugins?on.extend({},e.external_plugins,o):o},dH=(e,t)=>[...f2(e),...f2(t)],fH=(e,t,o,r)=>e&&_3(t,"mobile")?r:o,vJ=(e,t,o,r)=>{const c=f2(o.forced_plugins),h=f2(r.plugins),v=cH(t,"mobile"),T=v.plugins?f2(v.plugins):h,k=fH(e,t,h,T),L=dH(c,k);return on.extend(r,{forced_plugins:c,plugins:L})},mH=(e,t)=>e&&_3(t,"mobile"),xJ=(e,t,o,r,c)=>{const h=e?{mobile:uH(c.mobile??{},t)}:{},v=kM(["mobile"],jt(h,c)),T=on.extend(o,r,v.options(),mH(e,v)?k3(v,"mobile"):{},{external_plugins:_M(r,v.options())});return vJ(e,v,r,T)},wJ=(e,t)=>{const o=yn(t);return xJ(AM||lH,AM,o,e,o)},CJ=(e,t)=>AF(e,t),hH=e=>{const t=(r,c)=>{e.formatter.toggle(r,c),e.nodeChanged()},o=r=>()=>{Le("left,center,right,justify".split(","),c=>{r!==c&&e.formatter.remove("align"+c)}),r!=="none"&&t("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},SJ=e=>{const t=o=>()=>{const r=e.selection,c=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return Ye(c,h=>We(e.formatter.matchNode(h,o)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},gH=e=>{hH(e),SJ(e)},D3=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const o=e.getDoc();let r;try{o.execCommand(t)}catch{r=!0}if(t==="paste"&&!o.queryCommandEnabled(t)&&(r=!0),r||!o.queryCommandSupported(t)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(ls.os.isMacOS()||ls.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:c,type:"error"})}}})},EJ=(e,t,o,r)=>{const c=_e.fromDom(e.getRoot());return qS(c,kt.fromRangeStart(t),r)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),md(c,kt.fromRangeEnd(t),r)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},pH=e=>{if(typeof e!="string"){const t=on.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},TJ=(e,t)=>{const o=e.selection,r=e.dom;return/^ | $/.test(t)?EJ(r,o.getRng(),t,e.schema):t},hT=(e,t)=>{if(e.selection.isEditable()){const{content:o,details:r}=pH(t);uE(e,{...r,content:TJ(e,o),format:"html",set:!1,selection:!0}).each(c=>{const h=qb(e,c.content,r);z5(e,h,c),e.addVisual()})}},DM=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,o,r)=>{hT(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,o,r)=>{hT(e,e.dom.encode(r))},insertHTML:(t,o,r)=>{hT(e,r)},mceInsertContent:(t,o,r)=>{hT(e,r)},mceSetContent:(t,o,r)=>{e.setContent(r)},mceReplaceContent:(t,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(F_(e))}})},AJ={"font-size":"size","font-family":"face"},kJ=Fa("font"),bH=(e,t,o)=>{const r=h=>di(h,e).orThunk(()=>kJ(h)?Do(AJ,e).bind(v=>dl(h,v)):X.none()),c=h=>es(_e.fromDom(t),h);return Xu(_e.fromDom(o),h=>r(h),c)},_J=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),DJ=(e,t)=>X.from(ds.DOM.getStyle(t,e,!0)),yH=e=>(t,o)=>X.from(o).map(_e.fromDom).filter(da).bind(r=>bH(e,t,r.dom).or(DJ(e,r.dom))).getOr(""),OJ=yH("font-size"),NJ=P(_J,yH("font-family")),vH=e=>H(e.getBody()).bind(t=>{const o=t.container();return X.from(cn(o)?o.parentNode:o)}),xH=e=>X.from(e.selection.getRng()).bind(t=>{const o=e.getBody();return t.startContainer===o&&t.startOffset===0?X.none():X.from(e.selection.getStart(!0))}),RJ=(e,t)=>xH(e).orThunk(le(vH,e)).map(_e.fromDom).filter(da).bind(t),OM=(e,t)=>RJ(e,zt(X.some,t)),wH=(e,t)=>{if(/^[0-9.]+$/.test(t)){const o=parseInt(t,10);if(o>=1&&o<=7){const r=hS(e),c=gS(e);return c.length>0?c[o-1]||t:r[o-1]||t}else return t}else return t},MJ=e=>{const t=e.split(/\s*,\s*/);return et(t,o=>o.indexOf(" ")!==-1&&!(xo(o,'"')||xo(o,"'"))?`'${o}'`:o).join(",")},n=(e,t)=>{const o=wH(e,t);e.formatter.toggle("fontname",{value:MJ(o)}),e.nodeChanged()},s=e=>OM(e,t=>NJ(e.getBody(),t.dom)).getOr(""),i=(e,t)=>{e.formatter.toggle("fontsize",{value:wH(e,t)}),e.nodeChanged()},f=e=>OM(e,t=>OJ(e.getBody(),t.dom)).getOr(""),b=e=>OM(e,t=>{const o=_e.fromDom(e.getBody()),r=Xu(t,h=>di(h,"line-height"),le(es,o)),c=()=>{const h=parseFloat(Aa(t,"line-height")),v=parseFloat(Aa(t,"font-size"));return String(h/v)};return r.getOrThunk(c)}).getOr(""),w=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},S=e=>{const t=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{t(o)},"ForeColor,HiliteColor":(o,r,c)=>{t(o,{value:c})},BackColor:(o,r,c)=>{t("hilitecolor",{value:c})},FontName:(o,r,c)=>{n(e,c)},FontSize:(o,r,c)=>{i(e,c)},LineHeight:(o,r,c)=>{w(e,c)},Lang:(o,r,c)=>{t(o,{value:c.code,customValue:c.customCode??null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(o,r,c)=>{t(J(c)?c:"p")},mceToggleFormat:(o,r,c)=>{t(c)}})},D=e=>{const t=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>t(o),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>s(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>f(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>b(e))},B=e=>{S(e),D(e)},z=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},Z=e=>{e.editorCommands.addCommands({Indent:()=>{_7(e)},Outdent:()=>{ey(e)}}),e.editorCommands.addCommands({Outdent:()=>T7(e),Indent:()=>XG(e)},"state")},K=e=>{const t=(o,r,c)=>{if(e.mode.isReadOnly())return;const h=J(c)?{href:c}:c,v=e.dom.getParent(e.selection.getNode(),"a");rt(h)&&J(h.href)&&(h.href=h.href.replace(/ /g,"%20").replace(/&amp;/g,"&"),(!v||!h.href)&&e.formatter.remove("link"),h.href&&e.formatter.apply("link",h,v))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},ie=(e,t,o,r)=>{const c=e.dom,h=T=>c.isBlock(T)&&T.parentElement===o,v=h(t)?t:c.getParent(r,h,o);return X.from(v).map(_e.fromDom)},he=(e,t)=>{if(e.mode.isReadOnly())return;const o=e.dom,r=e.selection.getRng(),c=t?e.selection.getStart():e.selection.getEnd(),h=t?r.startContainer:r.endContainer,v=QE(o,h);if(!v||!v.isContentEditable)return;const T=t?ul:Sl,k=bl(e);ie(e,c,v,h).each(L=>{const W=K$(e,h,L.dom,v,!1,k);T(L,_e.fromDom(W)),e.selection.setCursorLocation(W,0),e.dispatch("NewBlock",{newBlock:W}),YE(e,"insertParagraph")})},xe=e=>he(e,!0),De=e=>he(e,!1),Ie=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{xe(e)},InsertNewBlockAfter:()=>{De(e)}})},Ee=e=>{e.editorCommands.addCommands({insertParagraph:()=>{Q4(eT,e)},mceInsertNewLine:(t,o,r)=>{fI(e,r)},InsertLineBreak:(t,o,r)=>{Q4(iI,e)}})},Ke=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,o,r)=>{let c=0;e.dom.getParent(e.selection.getNode(),h=>xn(h)&&c++===r?(e.selection.select(h),!1):!0,e.getBody())},mceSelectNode:(t,o,r)=>{e.selection.select(r)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),Bu);if(t){const o=e.dom.createRng();o.selectNodeContents(t),e.selection.setRng(o)}}})},ot=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,o,r)=>{const c=r??e.selection.getNode();if(c!==e.getBody()){const h=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(h)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,o,r)=>{JB(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},wt=e=>{gH(e),D3(e),z(e),Ke(e),DM(e),K(e),Z(e),Ie(e),Ee(e),B(e),ot(e)},_t=["toggleview"],Tn=e=>Be(_t,e.toLowerCase());class Xt{editor;commands={state:{},exec:{},value:{}};constructor(t){this.editor=t}execCommand(t,o=!1,r,c){const h=this.editor,v=t.toLowerCase(),T=c?.skip_focus;if(h.removed||(v!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(v)&&!T?h.focus():Vz(h)),h.dispatch("BeforeExecCommand",{command:t,ui:o,value:r}).isDefaultPrevented()))return!1;const L=this.commands.exec[v];return Ne(L)?(L(v,o,r,c),h.dispatch("ExecCommand",{command:t,ui:o,value:r,args:c}),!0):!1}queryCommandState(t){if(!Tn(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=t.toLowerCase(),r=this.commands.state[o];return Ne(r)?r(o):!1}queryCommandValue(t){if(!Tn(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=t.toLowerCase(),r=this.commands.value[o];return Ne(r)?r(o):""}addCommands(t,o="exec"){const r=this.commands;_o(t,(c,h)=>{Le(h.toLowerCase().split(","),v=>{r[o][v]=c})})}addCommand(t,o,r){const c=t.toLowerCase();this.commands.exec[c]=(h,v,T,k)=>o.call(r??this.editor,v,T,k)}removeCommand(t,o){const r=t.toLowerCase();o?delete this.commands[o][r]:(delete this.commands.exec[r],delete this.commands.state[r],delete this.commands.value[r])}queryCommandSupported(t){const o=t.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(t,o,r){this.commands.state[t.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(t,o,r){this.commands.value[t.toLowerCase()]=()=>o.call(r??this.editor)}}const nn=on.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class tn{static isNative(t){return!!nn[t.toLowerCase()]}settings;scope;toggleEvent;bindings={};constructor(t){this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||He}fire(t,o){return this.dispatch(t,o)}dispatch(t,o){const r=t.toLowerCase(),c=Ip(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const h=this.bindings[r];if(h)for(let v=0,T=h.length;v<T;v++){const k=h[v];if(!k.removed){if(k.once&&this.off(r,k.func),c.isImmediatePropagationStopped())return c;if(k.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(t,o,r,c){if(o===!1&&(o=He),o){const h={func:o,removed:!1};c&&on.extend(h,c);const v=t.toLowerCase().split(" ");let T=v.length;for(;T--;){const k=v[T];let L=this.bindings[k];L||(L=[],this.toggleEvent(k,!0)),r?L=[h,...L]:L=[...L,h],this.bindings[k]=L}}return this}off(t,o){if(t){const r=t.toLowerCase().split(" ");let c=r.length;for(;c--;){const h=r[c];let v=this.bindings[h];if(!h)return _o(this.bindings,(T,k)=>{this.toggleEvent(k,!1),delete this.bindings[k]}),this;if(v){if(!o)v.length=0;else{const T=Ot(v,k=>k.func===o);v=T.fail,this.bindings[h]=v,Le(T.pass,k=>{k.removed=!0})}v.length||(this.toggleEvent(t,!1),delete this.bindings[h])}}}else _o(this.bindings,(r,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(t,o,r){return this.on(t,o,r,{once:!0})}has(t){t=t.toLowerCase();const o=this.bindings[t];return!(!o||o.length===0)}}const fo=e=>(e._eventDispatcher||(e._eventDispatcher=new tn({scope:e,toggleEvent:(t,o)=>{tn.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,o)}})),e._eventDispatcher),Qn={fire(e,t,o){return dE("fire"),this.dispatch(e,t,o)},dispatch(e,t,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return Ip(e.toLowerCase(),t??{},r);const c=fo(r).dispatch(e,t);if(o!==!1&&r.parent){let h=r.parent();for(;h&&!c.isPropagationStopped();)h.dispatch(e,c,!1),h=h.parent?h.parent():void 0}return c},on(e,t,o){return fo(this).on(e,t,o)},off(e,t){return fo(this).off(e,t)},once(e,t){return fo(this).once(e,t)},hasEventListeners(e){return fo(this).has(e)}},hs=ds.DOM;let mo;const $o=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const o=tw(e);return o?(e.eventRoot||(e.eventRoot=hs.select(o)[0]),e.eventRoot):e.getBody()},eo=e=>!e.hidden&&!Kb(e),Gt=(e,t,o)=>{eo(e)?e.dispatch(t,o):Kb(e)&&gW(e,o)},bn=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const o=$o(e,t);if(tw(e)){if(mo||(mo={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||mo&&(_o(mo,(c,h)=>{e.dom.unbind($o(e,h))}),mo=null)})),mo[t])return;const r=c=>{const h=c.target,v=e.editorManager.get();let T=v.length;for(;T--;){const k=v[T].getBody();(k===h||hs.isChildOf(h,k))&&Gt(v[T],t,c)}};mo[t]=r,hs.bind(o,t,r)}else{const r=c=>{Gt(e,t,c)};hs.bind(o,t,r),e.delegates[t]=r}},So={...Qn,bindPendingEventDelegates(){const e=this;on.each(e._pendingNativeEvents,t=>{bn(e,t)})},toggleNativeEvent(e,t){const o=this;e==="focus"||e==="blur"||o.removed||(t?o.initialized?bn(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind($o(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),o=e.dom;e.delegates&&(_o(e.delegates,(r,c)=>{e.dom.unbind($o(e,c),c,r)}),delete e.delegates),!e.inline&&t&&o&&(t.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(t),o.unbind(e.getContainer()))}},qo=e=>J(e)?{value:e.split(/[ ,]/),valid:!0}:yt(e,J)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},so=e=>{const t=(()=>{switch(e){case"array":return qe;case"boolean":return lt;case"function":return Ne;case"number":return Jo;case"object":return rt;case"string":return J;case"string[]":return qo;case"object[]":return o=>yt(o,rt);case"regexp":return o=>Oe(o,RegExp);default:return dt}})();return o=>ju(o,t,`The value must be a ${e}.`)},Zo=e=>J(e.processor),Hr=(e,t)=>{const o=Cu(t.message)?"":`. ${t.message}`;return e+o},dr=e=>e.valid,ju=(e,t,o="")=>{const r=t(e);return lt(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},ti=(e,t,o)=>{if(!En(t)){const r=ju(t,o);if(dr(r))return r.value;console.error(Hr(`Invalid default value passed for the "${e}" option`,r))}},Kf=(e,t,o=t)=>{const r={},c={},h=(ce,ke,ge)=>{const Te=ju(ke,ge);return dr(Te)?(c[ce]=Te.value,!0):(console.warn(Hr(`Invalid value passed for the ${ce} option`,Te)),!1)},v=(ce,ke)=>{const ge=Zo(ke)?so(ke.processor):ke.processor,Te=ti(ce,ke.default,ge);r[ce]={...ke,default:Te,processor:ge},Do(c,ce).orThunk(()=>Do(t,ce)).each(st=>h(ce,st,ge))},T=ce=>Yn(r,ce);return{register:v,isRegistered:T,get:ce=>Do(c,ce).orThunk(()=>Do(r,ce).map(ke=>ke.default)).getOrUndefined(),set:(ce,ke)=>{if(T(ce)){const ge=r[ce];return ge.immutable?(console.error(`"${ce}" is an immutable option and cannot be updated`),!1):h(ce,ke,ge.processor)}else return console.warn(`"${ce}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:ce=>{const ke=T(ce);return ke&&delete c[ce],ke},isSet:ce=>Yn(c,ce),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(ce,ke)=>lt(ke)||Jo(ke)||J(ke)||ae(ke)||qe(ke)||It(ke)?ke:Object.prototype.toString.call(ke))))}catch(ce){console.error(ce)}}}},jc=(e,t)=>{e.dom.contentEditable="true"},dh=(e,t)=>{const o=_e.fromDom(e.getBody());t?(e.readonly=!0,e.hasEditableRoot()&&jc(o),HO(e)):(e.readonly=!1,KF(e))},yu=e=>e.readonly,ug=e=>{const t=e.undoManager.add();We(t)&&(e.undoManager.undo(),e.undoManager.reset())},Ev=e=>Ye(e,t=>t.type==="characterData"||t.type==="childList"),R1=e=>{const t=r=>{yu(e)&&Ev(r)&&ug(e)},o=new MutationObserver(t);e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",r=>{yu(e)&&r.preventDefault()}),e.on("BeforeExecCommand",r=>{(r.command==="Undo"||r.command==="Redo")&&yu(e)&&r.preventDefault()}),e.on("compositionstart",()=>{yu(e)&&o.observe(e.getBody(),{characterData:!0,childList:!0,subtree:!0})}),e.on("compositionend",()=>{if(yu(e)){const r=o.takeRecords();t(r)}o.disconnect()})},xC=["design","readonly"],M1=(e,t,o,r)=>{const c=o[t.get()],h=o[r];try{h.activate()}catch(v){console.error(`problem while activating editor mode ${r}:`,v);return}c.deactivate(),c.editorReadOnly!==h.editorReadOnly&&dh(e,h.editorReadOnly),t.set(r),b_(e,r)},gT=(e,t,o,r)=>{if(!(r===o.get()||e.initialized&&Kb(e))){if(!Yn(t,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?M1(e,o,t,r):e.on("init",()=>M1(e,o,t,r))}},NM=(e,t,o)=>{if(Be(xC,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${t}:`,r)}}}}},wC=e=>{const t=Bn("design"),o=Bn({design:{activate:Mt,deactivate:Mt,editorReadOnly:!1},readonly:{activate:Mt,deactivate:Mt,editorReadOnly:!0}});return R1(e),pW(e),{isReadOnly:()=>yu(e),set:r=>gT(e,o.get(),t,r),get:()=>t.get(),register:(r,c)=>{o.set(NM(o.get(),r,c))}}},CC=on.each,SC=on.explode,CH={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},RM=on.makeMap("alt,ctrl,shift,meta,access"),BJ=e=>e in RM,MM=e=>{const t={},o=ls.os.isMacOS()||ls.os.isiOS();CC(SC(e.toLowerCase(),"+"),h=>{BJ(h)?t[h]=!0:/^[0-9]{2,}$/.test(h)?t.keyCode=parseInt(h,10):(t.charCode=h.charCodeAt(0),t.keyCode=CH[h]||h.toUpperCase().charCodeAt(0))});const r=[t.keyCode];let c;for(c in RM)t[c]?r.push(c):t[c]=!1;return t.id=r.join(","),t.access&&(t.alt=!0,o?t.ctrl=!0:t.shift=!0),t.meta&&(o?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class EC{editor;shortcuts={};pendingPatterns=[];constructor(t){this.editor=t;const o=this;t.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(CC(o.shortcuts,c=>{o.matchShortcut(r,c)&&(o.pendingPatterns=c.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(c))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(t,o,r,c){const h=this,v=h.normalizeCommandFunc(r);return CC(SC(on.trim(t)),T=>{const k=h.createShortcut(T,o,v,c);h.shortcuts[k.id]=k}),!0}remove(t){const o=this.createShortcut(t);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(t){const o=this,r=t;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:on.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(t,o,r,c){const h=on.map(SC(t,">"),MM);return h[h.length-1]=on.extend(h[h.length-1],{func:r,scope:c||this.editor}),on.extend(h[0],{desc:this.editor.translate(o),subpatterns:h.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,o){return!o||o.ctrl!==t.ctrlKey||o.meta!==t.metaKey||o.alt!==t.altKey||o.shift!==t.shiftKey?!1:t.keyCode===o.keyCode||t.charCode&&t.charCode===o.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const TC=()=>{const e=QK();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},up=ds.DOM,BM=on.extend,SH=on.each;class pT{baseUri;id;editorUid;plugins={};documentBaseURI;baseURI;contentCSS=[];contentStyles=[];ui;mode;options;editorUpload;userLookup;shortcuts;loadedCSS={};editorCommands;suffix;editorManager;hidden;inline;hasVisual;isNotDirty=!1;annotator;bodyElement;bookmark;composing=!1;container;contentAreaContainer;contentDocument;contentWindow;delegates;destroyed=!1;dom;editorContainer;eventRoot;formatter;formElement;formEventDelegate;hasHiddenInput=!1;iframeElement=null;iframeHTML;initialized=!1;notificationManager;orgDisplay;orgVisibility;parser;quirks;readonly=!1;removed=!1;schema;selection;serializer;startContent="";targetElm;theme;model;undoManager;windowManager;licenseKeyManager;_beforeUnload;_eventDispatcher;_nodeChangeDispatcher;_pendingNativeEvents=[];_selectionOverrides;_skinLoaded=!1;_editableRoot=!0;bindPendingEventDelegates;toggleNativeEvent;unbindAllNativeEvents;fire;dispatch;on;off;once;hasEventListeners;constructor(t,o,r){this.editorManager=r,BM(this,So);const c=this;this.id=t,this.editorUid=Ao(),this.hidden=!1;const h=wJ(r.defaultOptions,o);this.options=Kf(c,h,o),gx(c),this.userLookup=aH(this);const v=this.options.get;v("deprecation_warnings")&&VU(o,h);const T=v("suffix");T&&(r.suffix=T),this.suffix=r.suffix;const k=v("base_url");k&&r._setBaseUrl(k),this.baseUri=r.baseURI;const L=J2(c);L&&(er.ScriptLoader._setReferrerPolicy(L),ds.DOM.styleSheetLoader._setReferrerPolicy(L)),er.ScriptLoader._setCrossOrigin(ce=>Nb(c)(ce,"script")),ds.DOM.styleSheetLoader._setCrossOrigin(ce=>Nb(c)(ce,"stylesheet"));const W=lS(c);We(W)&&ds.DOM.styleSheetLoader._setContentCssCors(W),Xi.languageLoad=v("language_load"),Xi.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new op(eS(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=bx(c),this.hasVisual=xx(c),this.shortcuts=new EC(this),this.editorCommands=new Xt(this),wt(this);const G=v("cache_suffix");G&&(ls.cacheSuffix=G.replace(/^[\?\&]+/,"")),this.ui={registry:TC(),styleSheetLoader:void 0,show:Mt,hide:Mt,setEnabled:Mt,isEnabled:dt},this.mode=wC(c),Object.defineProperty(this,"editorUid",{writable:!1,configurable:!1,enumerable:!0}),r.dispatch("SetupEditor",{editor:this});const Q=Mb(c);Ne(Q)&&Q.call(c,c)}render(){gJ(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return kw(this)}translate(t){return $u.translate(t)}getParam(t,o,r){const c=this.options;return c.isRegistered(t)||(We(r)?c.register(t,{processor:r,default:o}):c.register(t,{processor:dt,default:o})),!c.isSet(t)&&!En(o)?o:c.get(t)}hasPlugin(t,o){return Be(vx(this),t)?o?mv.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,o,r){this.editorCommands.addCommand(t,o,r)}addQueryStateHandler(t,o,r){this.editorCommands.addQueryStateHandler(t,o,r)}addQueryValueHandler(t,o,r){this.editorCommands.addQueryValueHandler(t,o,r)}addShortcut(t,o,r,c){this.shortcuts.add(t,o,r,c)}execCommand(t,o,r,c){return this.editorCommands.execCommand(t,o,r,c)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(up.show(t.getContainer()),up.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(up.hide(t.getContainer()),up.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,o){this.dispatch("ProgressState",{state:t,time:o})}load(t={}){const o=this,r=o.getElement();if(!o.removed&&r){const c={...t,load:!0},h=lf(r)?r.value:r.innerHTML;o.setContent(h,c),c.no_events||o.dispatch("LoadContent",{...c,element:r})}}save(t={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const c={...t,save:!0,element:r};let h=o.getContent(c);const v={...c,content:h};if(v.no_events||o.dispatch("SaveContent",v),v.format==="raw"&&o.dispatch("RawSaveContent",v),h=v.content,lf(r))r.value=h;else{(t.is_removing||!o.inline)&&(r.innerHTML=h);const T=up.getParent(o.id,"form");T&&SH(T.elements,k=>k.name===o.id?(k.value=h,!1):!0)}return v.element=c.element=r=null,v.set_dirty!==!1&&o.setDirty(!1),h}setContent(t,o){wO(this,t,o)}getContent(t){return JZ(this,t)}insertContent(t,o){o&&(t=BM({content:t},o)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?wO(this,this.startContent,{initial:!0,format:"raw"}):wO(this,t,{initial:!0}),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const o=!this.isNotDirty;this.isNotDirty=!t,t&&t!==o&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||up.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=up.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const o=t.iframeElement;o&&(t.contentWindow=o.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const o=t.getWin();o&&(t.contentDocument=o.document)}return t.contentDocument}getBody(){const t=this.getDoc();return this.bodyElement??t?.body??null}convertURL(t,o,r){const c=this,h=c.options.get,v=Wg(c);if(Ne(v))return v.call(c,t,r,!0,o);if(!h("convert_urls")||r==="link"||rt(r)&&r.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const T=new op(t);return T.protocol!=="http"&&T.protocol!=="https"&&T.protocol!==""?t:h("relative_urls")?c.documentBaseURI.toRelative(t):(t=c.documentBaseURI.toAbsolute(t,h("remove_script_host")),t)}addVisual(t){CJ(this,t)}setEditableRoot(t){bJ(this,t)}hasEditableRoot(){return yJ(this)}remove(){SO(this)}destroy(t){FF(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Tv=ds.DOM,bT=on.each;let yT=!1,m2,lc=[];const oy=e=>{const t=e.type;bT(k0.get(),o=>{switch(t){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},O3=e=>{if(e!==yT){const t=ds.DOM;e?(t.bind(window,"resize",oy),t.bind(window,"scroll",oy)):(t.unbind(window,"resize",oy),t.unbind(window,"scroll",oy)),yT=e}},N3=e=>{const t=lc;return lc=xt(lc,o=>e!==o),k0.activeEditor===e&&(k0.activeEditor=lc.length>0?lc[0]:null),k0.focusedEditor===e&&(k0.focusedEditor=null),t.length!==lc.length},LJ=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(N3(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},R3=document.compatMode!=="CSS1Compat",k0={...Qn,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,pageUid:Ao(),majorVersion:"8",minorVersion:"3.2",releaseDate:"2026-01-14",i18n:$u,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",o="",r=op.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)t=c.base||c.baseURL,o=c.suffix;else{const h=document.getElementsByTagName("script");for(let v=0;v<h.length;v++){const T=h[v].src||"";if(T==="")continue;const k=T.substring(T.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(T)){k.indexOf(".min")!==-1&&(o=".min"),t=T.substring(0,T.lastIndexOf("/"));break}}if(!t&&document.currentScript){const v=document.currentScript.src;v.indexOf(".min")!==-1&&(o=".min"),t=v.substring(0,v.lastIndexOf("/"))}}e.baseURL=new op(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new op(e.baseURL),e.suffix=o,KB(e),Le(["majorVersion","minorVersion","releaseDate","pageUid","_addLicenseKeyManager"],h=>Object.defineProperty(e,h,{writable:!1,configurable:!1,enumerable:!0}))},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&_o(r,(c,h)=>{Xi.PluginManager.urls[h]=c})},init(e){const t=this;let o;const r=on.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=(W,G)=>W.inline&&G.tagName.toLowerCase()in r,h=W=>{let G=W.id;return G||(G=Do(W,"name").filter(Q=>!Tv.get(Q)).getOrThunk(Tv.uniqueId),W.setAttribute("id",G)),G},v=W=>{const G=e[W];if(G)return G.apply(t,[])},T=W=>ls.browser.isIE()||ls.browser.isEdge()?(e4("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/8/support/#supportedwebbrowsers"),[]):R3?(e4("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):J(W.selector)?Tv.select(W.selector):We(W.target)?[W.target]:[];let k=W=>{o=W};const L=()=>{let W=0;const G=[];let Q;const ce=(ke,ge,Te)=>{const nt=new pT(ke,ge,t);G.push(nt),nt.on("init",()=>{++W===Q.length&&k(G)}),nt.targetElm=nt.targetElm||Te,nt.render()};Tv.unbind(window,"ready",L),v("onpageload"),Q=Ma(T(e)),on.each(Q,ke=>{LJ(t.get(ke.id))}),Q=on.grep(Q,ke=>!t.get(ke.id)),Q.length===0?k([]):bT(Q,ke=>{c(e,ke)?e4("Could not initialize inline editor on invalid inline target element",ke):ce(h(ke),e,ke)})};return Tv.bind(window,"ready",L),new Promise(W=>{o?W(o):k=G=>{W(G)}})},get(e){return arguments.length===0?lc.slice(0):J(e)?Un(lc,t=>t.id===e).getOr(null):Jo(e)&&lc[e]?lc[e]:null},add(e){const t=this,o=t.get(e.id);return o===e||(o===null&&lc.push(e),O3(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),m2||(m2=r=>{const c=t.dispatch("BeforeUnload");if(c.returnValue)return r.preventDefault(),r.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",m2))),e},createEditor(e,t){return this.add(new pT(e,t,this))},remove(e){const t=this;let o;if(!e){for(let r=lc.length-1;r>=0;r--)t.remove(lc[r]);return}if(J(e)){bT(Tv.select(e),r=>{o=t.get(r.id),o&&t.remove(o)});return}return o=e,ae(t.get(o.id))?null:(N3(o)&&t.dispatch("RemoveEditor",{editor:o}),lc.length===0&&window.removeEventListener("beforeunload",m2),o.remove(),O3(lc.length>0),o)},execCommand(e,t,o){const r=this,c=rt(o)?o.id??o.index:o;switch(e){case"mceAddEditor":{if(!r.get(c)){const h=o.options;new pT(c,h,r).render()}return!0}case"mceRemoveEditor":{const h=r.get(c);return h&&h.remove(),!0}case"mceToggleEditor":{const h=r.get(c);return h?(h.isHidden()?h.show():h.hide(),!0):(r.execCommand("mceAddEditor",!1,o),!0)}}return r.activeEditor?r.activeEditor.execCommand(e,t,o):!1},triggerSave:()=>{bT(lc,e=>{e.save()})},addI18n:(e,t)=>{$u.add(e,t)},translate:e=>$u.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new op(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new op(this.baseURL)},_addLicenseKeyManager:e=>PO.add(e)};k0.setup();const vT=(()=>{const e=Bs(),t=h=>({items:h,types:$n(h),getType:v=>Do(h,v).getOrUndefined()}),o=h=>{e.set(h)},r=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:t,write:o,read:r,clear:c}})(),EH=Math.min,AC=Math.max,vu=Math.round,h2=(e,t,o)=>{let r=t.x,c=t.y;const h=e.w,v=e.h,T=t.w,k=t.h,L=(o||"").split("");return L[0]==="b"&&(c+=k),L[1]==="r"&&(r+=T),L[0]==="c"&&(c+=vu(k/2)),L[1]==="c"&&(r+=vu(T/2)),L[3]==="b"&&(c-=v),L[4]==="r"&&(r-=h),L[3]==="c"&&(c-=vu(v/2)),L[4]==="c"&&(r-=vu(h/2)),g2(r,c,h,v)},FJ=(e,t,o,r)=>{for(let c=0;c<r.length;c++){const h=h2(e,t,r[c]);if(h.x>=o.x&&h.x+h.w<=o.w+o.x&&h.y>=o.y&&h.y+h.h<=o.h+o.y)return r[c]}return null},TH=(e,t,o)=>g2(e.x-t,e.y-o,e.w+t*2,e.h+o*2),LM=(e,t)=>{const o=AC(e.x,t.x),r=AC(e.y,t.y),c=EH(e.x+e.w,t.x+t.w),h=EH(e.y+e.h,t.y+t.h);return c-o<0||h-r<0?null:g2(o,r,c-o,h-r)},AH=(e,t,o)=>{let r=e.x,c=e.y,h=e.x+e.w,v=e.y+e.h;const T=t.x+t.w,k=t.y+t.h,L=AC(0,t.x-r),W=AC(0,t.y-c),G=AC(0,h-T),Q=AC(0,v-k);return r+=L,c+=W,o&&(h+=L,v+=W,r-=G,c-=Q),h-=G,v-=Q,g2(r,c,h-r,v-c)},g2=(e,t,o,r)=>({x:e,y:t,w:o,h:r}),B1={inflate:TH,relativePosition:h2,findBestRelativePosition:FJ,intersect:LM,clamp:AH,create:g2,fromClientRect:e=>g2(e.left,e.top,e.width,e.height)},kC=(e,t,o=1e3)=>{let r=!1,c=null;const h=L=>(...W)=>{r||(r=!0,c!==null&&(window.clearTimeout(c),c=null),L.apply(null,W))},v=h(e),T=h(t);return{start:(...L)=>{!r&&c===null&&(c=window.setTimeout(()=>T.apply(null,L),o))},resolve:v,reject:T}},kH=(()=>{const e={},t={},o={};return{load:(k,L)=>{const W=`Script at URL "${L}" failed to load`,G=`Script at URL "${L}" did not call \`tinymce.Resource.add('${k}', data)\` within 1 second`;if(e[k]!==void 0)return e[k];{const Q=new Promise((ce,ke)=>{const ge=kC(ce,ke);t[k]=ge.resolve,er.ScriptLoader.loadScript(L).then(()=>ge.start(G),()=>ge.reject(W))});return e[k]=Q,Q}},add:(k,L)=>{t[k]!==void 0&&(t[k](L),delete t[k]),e[k]=Promise.resolve(L),o[k]=L},has:k=>k in o,get:k=>o[k],unload:k=>{delete e[k],delete o[k]}}})(),FM=()=>(()=>{let e={},t=[];const o={getItem:r=>{const c=e[r];return c||null},setItem:(r,c)=>{t.push(r),e[r]=String(c)},key:r=>t[r],removeItem:r=>{t=t.filter(c=>c===r),delete e[r]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),o})();let _C;try{const e="__storage_test__";_C=window.localStorage,_C.setItem(e,e),_C.removeItem(e)}catch{_C=FM()}var sy=_C;const _H={geom:{Rect:B1},util:{Delay:Qg,Tools:on,VK:Mn,URI:op,EventDispatcher:tn,Observable:Qn,I18n:$u,LocalStorage:sy,ImageUploader:JF},dom:{EventUtils:Fd,TreeWalker:Ya,TextSeeker:fu,DOMUtils:ds,ScriptLoader:er,RangeUtils:f0,Serializer:xO,StyleSheetLoader:Bp,ControlSelection:oj,BookmarkManager:Tw,Selection:yO,Event:Fd.Event},html:{Styles:mm,Entities:td,Node:Hc,Schema:Ns,DomParser:Lw,Writer:AD,Serializer:nv},Env:ls,AddOnManager:Xi,Annotator:UB,Formatter:nP,UndoManager:RW,EditorCommands:Xt,WindowManager:PF,NotificationManager:EE,EditorObservable:So,Shortcuts:EC,Editor:pT,FocusManager:qB,EditorManager:k0,DOM:ds.DOM,ScriptLoader:er.ScriptLoader,PluginManager:mv,ThemeManager:Zx,ModelManager:Uw,IconManager:Qk,Resource:kH,FakeClipboard:vT,trim:on.trim,isArray:on.isArray,is:on.is,toArray:on.toArray,makeMap:on.makeMap,each:on.each,map:on.map,grep:on.grep,inArray:on.inArray,extend:on.extend,walk:on.walk,resolve:on.resolve,explode:on.explode,_addCacheSuffix:on._addCacheSuffix},PM=on.extend(k0,_H),DH=e=>{try{l.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(PM),DH(PM)})()})(See)),See.exports}qve();var Rre={},Mre={},Bre;function Gve(){return Bre||(Bre=1,tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',"checkmark-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.8 5a1 1 0 0 0-1.4.3l-5.4 8-2-2.1a1 1 0 1 0-1.5 1.4l3 3a1 1 0 0 0 1.5-.2l6-9a1 1 0 0 0-.2-1.4Z"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',"close-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.7 5.3a1 1 0 0 0-1.3 0L12 10.6 8.6 7.3a1 1 0 0 0-1.3 1.3l3.3 3.4-3.3 3.4a1 1 0 0 0 1.3 1.3l3.4-3.3 3.4 3.3a1 1 0 0 0 1.3-1.3L13.4 12l3.3-3.4a1 1 0 0 0 0-1.3Z"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-gear-properties":'<svg height="24" width="24"><path d="M17.3 14.5a7.1 7.1 0 0 1 1.2.6l1.5-.5 1 1.8-1.2 1V18.7l1.2 1-1 1.6-1.5-.4a4.5 4.5 0 0 1-.6.3 7.1 7.1 0 0 1-.6.3L17 23h-2l-.3-1.5a7.4 7.4 0 0 1-.6-.3 4.5 4.5 0 0 1-.6-.3l-1.5.5-1-1.8 1.2-1a3.9 3.9 0 0 1 0-.6v-.7l-1.2-1 1-1.6 1.5.4a4.5 4.5 0 0 1 1.2-.6L15 13h2zM16 16a2 2 0 0 0-1.5.6A1.9 1.9 0 0 0 14 18c0 .6.2 1 .6 1.4s1 .6 1.5.6 1-.2 1.5-.6.6-.8.6-1.4-.2-1-.6-1.4A2 2 0 0 0 16 16z" fill-rule="evenodd"/><path d="M19 7.6V12h-2V9h-4V5H7v14h3v2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h7.4z"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',feedback:'<svg width="24" height="24"><path fill-rule="evenodd" d="M16 6c1 0 2 1 2 2v5c0 1-1 2-2 2h-3l-4 3v-3H8c-1 0-2-1-2-2V8c0-1 1-2 2-2h8Zm-7 5v1h4v-1H9Zm0-2v1h6V9H9Z"/></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg height="48" width="48"><path d="M8 14a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 34a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-default":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M12 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M16 31h6v6h-6z"/><path d="M16 31h6v6h-6z"/><path d="M18 12h22v4H18zm4 10h18v4H22zm4 10h14v4H26z" opacity=".2"/></svg>',"list-bull-disc":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-square":'<svg height="48" width="48"><path d="M8 21h6v6H8zm0 10h6v6H8zm0-20h6v6H8z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',"suggestededits-badge":'<svg height="24" width="24"><path d="M11 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9.7a6 6 0 0 1-2 .3v9H7V5h4a6 6 0 0 1 0-2z"/><path d="M15 13v-2h-4v2zm-3 2H9v2h3zm-1-8H9v2h2zm4 10v-2h-2v2z"/><path d="M21 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0z" class="tox-icon--badge"/></svg>',suggestededits:'<svg width="24" height="24"><path d="M7 3h7.4L19 7.6V19a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2Zm0 16h10V9h-3V5H7v14Z" clip-rule="evenodd"/><path d="M9 7h2v2H9V7Zm2 4h4v2h-4v-2Zm-2 4h3v2H9v-2Z"/><path d="M9 7h2v2H9V7Zm4 8h2v2h-2v-2Z"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',"upload-from-device":'<svg width="24" height="25"><path d="M11 19a1 1 0 1 0 2 0v-3.2l1.5 1a1 1 0 1 0 1-1.7L12 12.8l-3.5 2.3a1 1 0 0 0 1 1.7l1.5-1V19Z"/><path d="M9.6 4c.3 0 .6.2.8.5l1.3 2h6.7c.7 0 1.4.2 1.8.7.5.5.8 1.2.8 1.9v8.3c0 .7-.3 1.3-.8 1.8a2.6 2.6 0 0 1-1.8.8H16v-2h2.4a.6.6 0 0 0 .4-.2.6.6 0 0 0 .2-.4V9a.6.6 0 0 0-.2-.5.6.6 0 0 0-.4-.1h-7.2a1 1 0 0 1-.8-.5L9 6H5.6a.6.6 0 0 0-.4.2.6.6 0 0 0-.2.4v10.8c0 .1 0 .3.2.4a.6.6 0 0 0 .4.2H8v2H5.6a2.6 2.6 0 0 1-1.8-.8 2.7 2.7 0 0 1-.8-1.8V6.6c0-.7.3-1.3.8-1.8A2.6 2.6 0 0 1 5.6 4h4Z"/></svg>',"upload-from-link":'<svg height="25" width="24"><path d="M11.5 11.8a1 1 0 0 1 1.9-.5 5 5 0 0 1-1.3 4.8l-2.4 2.3A4 4 0 1 1 4 13L5 12a1 1 0 0 1 1.4 1.4l-.7.8A2 2 0 1 0 8.3 17l2.4-2.4a3 3 0 0 0 .8-2.8z"/><path d="M10.1 11.8a1 1 0 0 1-2 .5 5 5 0 0 1 1.4-4.8L12 5.1a4 4 0 0 1 5.5 5.6l-.7.8a1 1 0 0 1-1.5-1.4l.8-.8a2 2 0 1 0-2.7-2.7l-2.4 2.3a3 3 0 0 0-.8 3zm5.7 7.2a1 1 0 1 0 2 0v-3l1.4 1.1a1 1 0 0 0 1.2-1.5l-3.6-2.9-3.6 2.9a1 1 0 0 0 1.2 1.5l1.4-1z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}})),Mre}var Lre;function Kve(){return Lre||(Lre=1,Gve()),Rre}Kve();var Fre={},Pre={},$re;function Yve(){return $re||($re=1,(function(){const l=Object.getPrototypeOf,u=(n,s,i)=>i(n,s.prototype)?!0:n.constructor?.name===s.name,p=n=>{const s=typeof n;return n===null?"null":s==="object"&&Array.isArray(n)?"array":s==="object"&&u(n,String,(i,f)=>f.isPrototypeOf(i))?"string":s},x=n=>s=>p(s)===n,A=n=>s=>typeof s===n,M=n=>s=>n===s,O=(n,s)=>U(n)&&u(n,s,(i,f)=>l(i)===f),I=x("string"),U=x("object"),V=n=>O(n,Object),Y=x("array"),ee=M(null),fe=A("boolean"),Ce=M(void 0),pe=n=>n==null,$e=n=>!pe(n),be=A("function"),ct=A("number"),Oe=(n,s)=>{if(Y(n)){for(let i=0,f=n.length;i<f;++i)if(!s(n[i]))return!1;return!0}return!1},J=()=>{},rt=n=>()=>n(),It=(n,s)=>(...i)=>n(s.apply(null,i)),qe=(n,s)=>i=>n(s(i)),ae=n=>()=>n,lt=n=>n,En=(n,s)=>n===s;function dn(n,...s){return(...i)=>{const f=s.concat(i);return n.apply(null,f)}}const We=n=>s=>!n(s),Ne=n=>()=>{throw new Error(n)},Jo=n=>n(),yt=ae(!1),Mt=ae(!0);class P{tag;value;static singletonNone=new P(!1);constructor(s,i){this.tag=s,this.value=i}static some(s){return new P(!0,s)}static none(){return P.singletonNone}fold(s,i){return this.tag?i(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?P.some(s(this.value)):P.none()}bind(s){return this.tag?s(this.value):P.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:P.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return $e(s)?P.some(s):P.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const zt=Array.prototype.slice,at=Array.prototype.indexOf,Jn=Array.prototype.push,an=(n,s)=>at.call(n,s),le=(n,s)=>{const i=an(n,s);return i===-1?P.none():P.some(i)},Ue=(n,s)=>an(n,s)>-1,Pt=(n,s)=>{for(let i=0,f=n.length;i<f;i++){const b=n[i];if(s(b,i))return!0}return!1},Re=(n,s)=>{const i=[];for(let f=0;f<n;f++)i.push(s(f));return i},gt=(n,s)=>{const i=[];for(let f=0;f<n.length;f+=s){const b=zt.call(n,f,f+s);i.push(b)}return i},He=(n,s)=>{const i=n.length,f=new Array(i);for(let b=0;b<i;b++){const w=n[b];f[b]=s(w,b)}return f},dt=(n,s)=>{for(let i=0,f=n.length;i<f;i++){const b=n[i];s(b,i)}},X=(n,s)=>{for(let i=n.length-1;i>=0;i--){const f=n[i];s(f,i)}},zo=(n,s)=>{const i=[],f=[];for(let b=0,w=n.length;b<w;b++){const S=n[b];(s(S,b)?i:f).push(S)}return{pass:i,fail:f}},Eo=(n,s)=>{const i=[];for(let f=0,b=n.length;f<b;f++){const w=n[f];s(w,f)&&i.push(w)}return i},Lo=(n,s,i)=>(X(n,(f,b)=>{i=s(i,f,b)}),i),jo=(n,s,i)=>(dt(n,(f,b)=>{i=s(i,f,b)}),i),Ks=(n,s,i)=>{for(let f=0,b=n.length;f<b;f++){const w=n[f];if(s(w,f))return P.some(w);if(i(w,f))break}return P.none()},Be=(n,s)=>Ks(n,s,yt),Ye=(n,s)=>{for(let i=0,f=n.length;i<f;i++){const b=n[i];if(s(b,i))return P.some(i)}return P.none()},et=n=>{const s=[];for(let i=0,f=n.length;i<f;++i){if(!Y(n[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+n);Jn.apply(s,n[i])}return s},Le=(n,s)=>et(He(n,s)),Je=(n,s)=>{for(let i=0,f=n.length;i<f;++i){const b=n[i];if(s(b,i)!==!0)return!1}return!0},Ot=n=>{const s=zt.call(n,0);return s.reverse(),s},xt=(n,s)=>Eo(n,i=>!Ue(s,i)),jn=(n,s)=>{const i={};for(let f=0,b=n.length;f<b;f++){const w=n[f];i[String(w)]=s(w,f)}return i},go=n=>[n],vt=(n,s)=>{const i=zt.call(n,0);return i.sort(s),i},ln=(n,s)=>s>=0&&s<n.length?P.some(n[s]):P.none(),Un=n=>ln(n,0),Qo=n=>ln(n,n.length-1),mr=be(Array.from)?Array.from:n=>zt.call(n),gs=(n,s)=>{for(let i=0;i<n.length;i++){const f=s(n[i],i);if(f.isSome())return f}return P.none()},Io=Object.keys,Gr=Object.hasOwnProperty,_s=(n,s)=>{const i=Io(n);for(let f=0,b=i.length;f<b;f++){const w=i[f],S=n[w];s(S,w)}},Ms=(n,s)=>Ra(n,(i,f)=>({k:f,v:s(i,f)})),Ra=(n,s)=>{const i={};return _s(n,(f,b)=>{const w=s(f,b);i[w.k]=w.v}),i},Kr=n=>(s,i)=>{n[i]=s},Or=(n,s,i,f)=>{_s(n,(b,w)=>{(s(b,w)?i:f)(b,w)})},xs=(n,s)=>{const i={},f={};return Or(n,s,Kr(i),Kr(f)),{t:i,f}},Yr=(n,s)=>{const i={};return Or(n,s,Kr(i),J),i},Is=(n,s)=>{const i=[];return _s(n,(f,b)=>{i.push(s(f,b))}),i},Xr=(n,s)=>{const i=Io(n);for(let f=0,b=i.length;f<b;f++){const w=i[f],S=n[w];if(s(S,w,n))return P.some(S)}return P.none()},Ma=n=>Is(n,lt),$n=(n,s)=>Yo(n,s)?P.from(n[s]):P.none(),Yo=(n,s)=>Gr.call(n,s),_o=(n,s)=>Yo(n,s)&&n[s]!==void 0&&n[s]!==null,Ba={generate:n=>{if(!Y(n))throw new Error("cases must be an array");if(n.length===0)throw new Error("there must be at least one case");const s=[],i={};return dt(n,(f,b)=>{const w=Io(f);if(w.length!==1)throw new Error("one and only one name per case");const S=w[0],D=f[S];if(i[S]!==void 0)throw new Error("duplicate key detected:"+S);if(S==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Y(D))throw new Error("case arguments must be an array");s.push(S),i[S]=(...B)=>{const z=B.length;if(z!==D.length)throw new Error("Wrong number of arguments to case "+S+". Expected "+D.length+" ("+D+"), got "+z);return{fold:(...K)=>{if(K.length!==n.length)throw new Error("Wrong number of arguments to fold. Expected "+n.length+", got "+K.length);return K[b].apply(null,B)},match:K=>{const ie=Io(K);if(s.length!==ie.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+ie.join(","));if(!Je(s,xe=>Ue(ie,xe)))throw new Error("Not all branches were specified when using match. Specified: "+ie.join(", ")+`
Required: `+s.join(", "));return K[S].apply(null,B)},log:K=>{console.log(K,{constructors:s,constructor:S,params:B})}}}}),i}},Nn=n=>{let s=n;return{get:()=>s,set:b=>{s=b}}},Ut=n=>{let s=P.none(),i=[];const f=z=>Ut(Z=>{b(K=>{Z(z(K))})}),b=z=>{S()?B(z):i.push(z)},w=z=>{S()||(s=P.some(z),D(i),i=[])},S=()=>s.isSome(),D=z=>{dt(z,B)},B=z=>{s.each(Z=>{setTimeout(()=>{z(Z)},0)})};return n(w),{get:b,map:f,isReady:S}},Gn={nu:Ut,pure:n=>Ut(s=>{s(n)})},Wn=n=>{setTimeout(()=>{throw n},0)},yo=n=>{const s=B=>{n().then(B,Wn)};return{map:B=>yo(()=>n().then(B)),bind:B=>yo(()=>n().then(z=>B(z).toPromise())),anonBind:B=>yo(()=>n().then(()=>B.toPromise())),toLazy:()=>Gn.nu(s),toCached:()=>{let B=null;return yo(()=>(B===null&&(B=n()),B))},toPromise:n,get:s}},ss={nu:n=>yo(()=>new Promise(n)),pure:n=>yo(()=>Promise.resolve(n))},La=n=>{const s=w=>w(n),i=ae(n),f=()=>b,b={tag:!0,inner:n,fold:(w,S)=>S(n),isValue:Mt,isError:yt,map:w=>Bn.value(w(n)),mapError:f,bind:s,exists:s,forall:s,getOr:i,or:f,getOrThunk:i,orThunk:f,getOrDie:i,each:w=>{w(n)},toOptional:()=>P.some(n)};return b},sl=n=>{const s=()=>i,i={tag:!1,inner:n,fold:(f,b)=>f(n),isValue:yt,isError:Mt,map:s,mapError:f=>Bn.error(f(n)),bind:s,exists:yt,forall:Mt,getOr:lt,or:lt,getOrThunk:Jo,orThunk:Jo,getOrDie:Ne(String(n)),each:J,toOptional:P.none};return i},Bn={value:La,error:sl,fromOption:(n,s)=>n.fold(()=>sl(s),La)},Ys=n=>({...n,toCached:()=>Ys(n.toCached()),bindFuture:B=>Ys(n.bind(z=>z.fold(Z=>ss.pure(Bn.error(Z)),Z=>B(Z)))),bindResult:B=>Ys(n.map(z=>z.bind(B))),mapResult:B=>Ys(n.map(z=>z.map(B))),mapError:B=>Ys(n.map(z=>z.mapError(B))),foldResult:(B,z)=>n.map(Z=>Z.fold(B,z)),withTimeout:(B,z)=>Ys(ss.nu(Z=>{let K=!1;const ie=setTimeout(()=>{K=!0,Z(Bn.error(z()))},B);n.get(he=>{K||(clearTimeout(ie),Z(he))})}))}),Xs=n=>Ys(ss.nu(n)),jl=n=>Ys(ss.pure(Bn.value(n))),To={nu:Xs,wrap:Ys,pure:jl,value:jl,error:n=>Ys(ss.pure(Bn.error(n))),fromResult:n=>Ys(ss.pure(n)),fromFuture:n=>Ys(n.map(Bn.value)),fromPromise:n=>Xs(s=>{n.then(i=>{s(Bn.value(i))},i=>{s(Bn.error(i))})})},lo=typeof window<"u"?window:Function("return this;")(),Vo=(n,s,i,f)=>{const b=n+s;return b>f?i:b<i?f:b},is=(n,s,i)=>Math.min(Math.max(n,s),i),Ao=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let qs=0;const me=n=>{const i=new Date().getTime(),f=Math.floor(Ao()*1e9);return qs++,n+"_"+f+qs+String(i)},je=(n,s)=>s,jt=(n,s)=>V(n)&&V(s)?Wt(n,s):s,yn=n=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const i={};for(let f=0;f<s.length;f++){const b=s[f];for(const w in b)Yo(b,w)&&(i[w]=n(i[w],b[w]))}return i},Wt=yn(jt),vo=yn(je),to=(n,s,i=En)=>n.exists(f=>i(f,s)),Rn=(n,s,i=En)=>ws(n,s,i).getOr(n.isNone()&&s.isNone()),Ho=n=>{const s=[],i=f=>{s.push(f)};for(let f=0;f<n.length;f++)n[f].each(i);return s},ps=n=>{const s=[];for(let i=0;i<n.length;i++){const f=n[i];if(f.isSome())s.push(f.getOrDie());else return P.none()}return P.some(s)},ws=(n,s,i)=>n.isSome()&&s.isSome()?P.some(i(n.getOrDie(),s.getOrDie())):P.none(),Cs=(n,s,i,f)=>n.isSome()&&s.isSome()&&i.isSome()?P.some(f(n.getOrDie(),s.getOrDie(),i.getOrDie())):P.none(),oa=(n,s)=>n!=null?P.some(s(n)):P.none(),Ca=(n,s)=>n?P.some(s):P.none(),Qf=n=>n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),wr=(n,s)=>{let i=s??lo;for(let f=0;f<n.length&&i!==void 0&&i!==null;++f)i=i[n[f]];return i},Bs=(n,s)=>{const i=n.split(".");return wr(i,s)};Ba.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const or=n=>{const s=[],i=[];return dt(n,f=>{f.fold(b=>{s.push(b)},b=>{i.push(b)})}),{errors:s,values:i}},Vi=n=>{const s=Nn(P.none()),i=()=>s.get().each(n);return{clear:()=>{i(),s.set(P.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:D=>{i(),s.set(P.some(D))}}},Ci=()=>Vi(n=>n.destroy()),Lr=()=>Vi(n=>n.unbind()),xo=()=>{const n=Vi(J);return{...n,on:i=>n.get().each(i)}},Si=(n,s)=>n+s,oi=(n,s)=>n.substring(s),Qr=(n,s,i)=>s===""||n.length>=s.length&&n.substr(i,i+s.length)===s,Sf=(n,s)=>Cu(n,s)?oi(n,s.length):n,uc=(n,s)=>dc(n,s)?n:Si(n,s),Fr=(n,s,i=0,f)=>{const b=n.indexOf(s,i);return b!==-1?Ce(f)?!0:b+s.length<=f:!1},Cu=(n,s)=>Qr(n,s,0),dc=(n,s)=>Qr(n,s,n.length-s.length),Sn=(n=>s=>s.replace(n,""))(/^\s+|\s+$/g),Su=n=>n.length>0,Ri=n=>!Su(n),pi=n=>{const s=parseFloat(n);return isNaN(s)?P.none():P.some(s)},jr=(n,s)=>{let i=null,f=null;return{cancel:()=>{ee(i)||(clearTimeout(i),i=null,f=null)},throttle:(...S)=>{f=S,ee(i)&&(i=setTimeout(()=>{const D=f;i=null,f=null,n.apply(null,D)},s))}}},Kd=(n,s)=>{let i=null;return{cancel:()=>{ee(i)||(clearTimeout(i),i=null)},throttle:(...w)=>{ee(i)&&(i=setTimeout(()=>{i=null,n.apply(null,w)},s))}}},Ei=(n,s)=>{let i=null;const f=()=>{ee(i)||(clearTimeout(i),i=null)};return{cancel:f,throttle:(...w)=>{f(),i=setTimeout(()=>{i=null,n.apply(null,w)},s)}}},rl=n=>{let s=!1,i;return(...f)=>(s||(s=!0,i=n.apply(null,f)),i)},Tf="\uFEFF",Jf="",Eu=(n,s)=>{const f=(s||document).createElement("div");if(f.innerHTML=n,!f.hasChildNodes()||f.childNodes.length>1){const b="HTML does not have a single root node";throw console.error(b,n),new Error(b)}return qc(f.childNodes[0])},Yd=(n,s)=>{const f=(s||document).createElement(n);return qc(f)},_l=(n,s)=>{const f=(s||document).createTextNode(n);return qc(f)},qc=n=>{if(n==null)throw new Error("Node cannot be null or undefined");return{dom:n}},un={fromHtml:Eu,fromTag:Yd,fromText:_l,fromDom:qc,fromPoint:(n,s,i)=>P.from(n.dom.elementFromPoint(s,i)).map(qc)},Tu=(n,s)=>{s.fold(i=>{n.setStartBefore(i.dom)},(i,f)=>{n.setStart(i.dom,f)},i=>{n.setStartAfter(i.dom)})},yd=(n,s)=>{s.fold(i=>{n.setEndBefore(i.dom)},(i,f)=>{n.setEnd(i.dom,f)},i=>{n.setEndAfter(i.dom)})},Vl=(n,s,i)=>{const f=n.document.createRange();return Tu(f,s),yd(f,i),f},al=(n,s,i,f,b)=>{const w=n.document.createRange();return w.setStart(s.dom,i),w.setEnd(f.dom,b),w},Uu=n=>({left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.width,height:n.height}),Ui=n=>{const s=n.getClientRects(),i=s.length>0?s[0]:n.getBoundingClientRect();return i.width>0||i.height>0?P.some(i).map(Uu):P.none()},si=n=>{const s=n.getBoundingClientRect();return s.width>0||s.height>0?P.some(s).map(Uu):P.none()},Dl=Ba.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),fc=(n,s,i)=>s(un.fromDom(i.startContainer),i.startOffset,un.fromDom(i.endContainer),i.endOffset),Vs=(n,s)=>s.match({domRange:i=>({ltr:ae(i),rtl:P.none}),relative:(i,f)=>({ltr:rl(()=>Vl(n,i,f)),rtl:rl(()=>P.some(Vl(n,f,i)))}),exact:(i,f,b,w)=>({ltr:rl(()=>al(n,i,f,b,w)),rtl:rl(()=>P.some(al(n,b,w,i,f)))})}),Af=(n,s)=>{const i=s.ltr();return i.collapsed?s.rtl().filter(b=>b.collapsed===!1).map(b=>Dl.rtl(un.fromDom(b.endContainer),b.endOffset,un.fromDom(b.startContainer),b.startOffset)).getOrThunk(()=>fc(n,Dl.ltr,i)):fc(n,Dl.ltr,i)},te=(n,s)=>{const i=Vs(n,s);return Af(n,i)},ve=(n,s)=>te(n,s).match({ltr:(f,b,w,S)=>{const D=n.document.createRange();return D.setStart(f.dom,b),D.setEnd(w.dom,S),D},rtl:(f,b,w,S)=>{const D=n.document.createRange();return D.setStart(w.dom,S),D.setEnd(f.dom,b),D}});Dl.ltr,Dl.rtl;const Fe=9,Dt=11,Zn=1,fs=3,sr=(n,s)=>{const i=n.dom;if(i.nodeType!==Zn)return!1;{const f=i;if(f.matches!==void 0)return f.matches(s);if(f.msMatchesSelector!==void 0)return f.msMatchesSelector(s);if(f.webkitMatchesSelector!==void 0)return f.webkitMatchesSelector(s);if(f.mozMatchesSelector!==void 0)return f.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},Ua=n=>n.nodeType!==Zn&&n.nodeType!==Fe&&n.nodeType!==Dt||n.childElementCount===0,Ti=(n,s)=>{const i=s===void 0?document:s.dom;return Ua(i)?[]:He(i.querySelectorAll(n),un.fromDom)},Ol=(n,s)=>{const i=s===void 0?document:s.dom;return Ua(i)?P.none():P.from(i.querySelector(n)).map(un.fromDom)},oe=(n,s)=>n.dom===s.dom,Ae=(n,s)=>{const i=n.dom,f=s.dom;return i===f?!1:i.contains(f)},Xe=(n,s,i,f)=>{const b=n.isiOS()&&/ipad/i.test(i)===!0,w=n.isiOS()&&!b,S=n.isiOS()||n.isAndroid(),D=S||f("(pointer:coarse)"),B=b||!w&&S&&f("(min-device-width:768px)"),z=w||S&&!B,Z=s.isSafari()&&n.isiOS()&&/safari/i.test(i)===!1,K=!z&&!B&&!Z;return{isiPad:ae(b),isiPhone:ae(w),isTablet:ae(B),isPhone:ae(z),isTouch:ae(D),isAndroid:n.isAndroid,isiOS:n.isiOS,isWebView:ae(Z),isDesktop:ae(K)}},Et=(n,s)=>{for(let i=0;i<n.length;i++){const f=n[i];if(f.test(s))return f}},hn=(n,s)=>{const i=Et(n,s);if(!i)return{major:0,minor:0};const f=b=>Number(s.replace(i,"$"+b));return Us(f(1),f(2))},Vn=(n,s)=>{const i=String(s).toLowerCase();return n.length===0?Mo():hn(n,i)},Mo=()=>Us(0,0),Us=(n,s)=>({major:n,minor:s}),Ts={nu:Us,detect:Vn,unknown:Mo},Mi=(n,s)=>gs(s.brands,i=>{const f=i.brand.toLowerCase();return Be(n,b=>f===b.brand?.toLowerCase()).map(b=>({current:b.name,version:Ts.nu(parseInt(i.version,10),0)}))}),Sa=(n,s)=>{const i=String(s).toLowerCase();return Be(n,f=>f.search(i))},Xd=(n,s)=>Sa(n,s).map(i=>{const f=Ts.detect(i.versionRegexes,s);return{current:i.name,version:f}}),Om=(n,s)=>Sa(n,s).map(i=>{const f=Ts.detect(i.versionRegexes,s);return{current:i.name,version:f}}),kf=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Kc=n=>s=>Fr(s,n),R0=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:n=>Fr(n,"edge/")&&Fr(n,"chrome")&&Fr(n,"safari")&&Fr(n,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,kf],search:n=>Fr(n,"chrome")&&!Fr(n,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:n=>Fr(n,"msie")||Fr(n,"trident")},{name:"Opera",versionRegexes:[kf,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Kc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Kc("firefox")},{name:"Safari",versionRegexes:[kf,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:n=>(Fr(n,"safari")||Fr(n,"mobile/"))&&Fr(n,"applewebkit")}],M0=[{name:"Windows",search:Kc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:n=>Fr(n,"iphone")||Fr(n,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Kc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Kc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Kc("linux"),versionRegexes:[]},{name:"Solaris",search:Kc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Kc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Kc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ye={browsers:ae(R0),oses:ae(M0)},Me="Edge",ft="Chromium",Kt="IE",po="Opera",ms="Firefox",Ea="Safari",il=()=>Zi({current:void 0,version:Ts.unknown()}),Zi=n=>{const s=n.current,i=n.version,f=b=>()=>s===b;return{current:s,version:i,isEdge:f(Me),isChromium:f(ft),isIE:f(Kt),isOpera:f(po),isFirefox:f(ms),isSafari:f(Ea)}},Ul={unknown:il,nu:Zi},Qd="Windows",Zl="iOS",Nm="Android",Wl="Linux",ll="macOS",Jd="Solaris",Dc="FreeBSD",ls="ChromeOS",vh=()=>pp({current:void 0,version:Ts.unknown()}),pp=n=>{const s=n.current,i=n.version,f=b=>()=>s===b;return{current:s,version:i,isWindows:f(Qd),isiOS:f(Zl),isAndroid:f(Nm),isMacOS:f(ll),isLinux:f(Wl),isSolaris:f(Jd),isFreeBSD:f(Dc),isChromeOS:f(ls)}},Ta={unknown:vh,nu:pp},V1={detect:(n,s,i)=>{const f=ye.browsers(),b=ye.oses(),w=s.bind(B=>Mi(f,B)).orThunk(()=>Xd(f,n)).fold(Ul.unknown,Ul.nu),S=Om(b,n).fold(Ta.unknown,Ta.nu),D=Xe(S,w,n,i);return{browser:w,os:S,deviceType:D}}},U1=n=>window.matchMedia(n).matches;let Z1=rl(()=>V1.detect(window.navigator.userAgent,P.from(window.navigator.userAgentData),U1));const Za=()=>Z1(),em=(n,s)=>Bs(n,s),W1=(n,s)=>{const i=em(n,s);if(i==null)throw new Error(n+" not available on this browser");return i},on=Object.getPrototypeOf,Yc=n=>W1("HTMLElement",n),bg=n=>{const s=Bs("ownerDocument.defaultView",n);return U(n)&&(Yc(s).prototype.isPrototypeOf(n)||/^HTML\w*Element$/.test(on(n).constructor.name))},vd=n=>n.dom.nodeName.toLowerCase(),yg=n=>n.dom.nodeType,q1=n=>s=>yg(s)===n,_e=n=>Xc(n)&&bg(n.dom),Xc=q1(Zn),vl=q1(fs),xh=q1(Fe),wh=q1(Dt),Nl=n=>s=>Xc(s)&&vd(s)===n,Oc=n=>un.fromDom(n.dom.ownerDocument),L0=n=>xh(n)?n:Oc(n),bp=n=>un.fromDom(L0(n).dom.documentElement),yp=n=>un.fromDom(L0(n).dom.defaultView),xl=n=>P.from(n.dom.parentNode).map(un.fromDom),vp=n=>xl(n),Au=n=>P.from(n.dom.parentElement).map(un.fromDom),Ch=(n,s)=>{const i=be(s)?s:yt;let f=n.dom;const b=[];for(;f.parentNode!==null&&f.parentNode!==void 0;){const w=f.parentNode,S=un.fromDom(w);if(b.push(S),i(S)===!0)break;f=w}return b},F0=n=>P.from(n.dom.offsetParent).map(un.fromDom),wl=n=>P.from(n.dom.previousSibling).map(un.fromDom),Rm=n=>P.from(n.dom.nextSibling).map(un.fromDom),Zu=n=>He(n.dom.childNodes,un.fromDom),tm=(n,s)=>{const i=n.dom.childNodes;return P.from(i[s]).map(un.fromDom)},es=n=>tm(n,0),mc=(n,s)=>({element:n,offset:s}),Sh=(n,s)=>{const i=Zu(n);return i.length>0&&s<i.length?mc(i[s],0):mc(n,s)},G1=(n,s,i,f)=>{const w=Oc(n).dom.createRange();return w.setStart(n.dom,s),w.setEnd(i.dom,f),w},ts=(n,s,i,f)=>{const b=G1(n,s,i,f),w=oe(n,i)&&s===f;return b.collapsed&&!w},nm=n=>wh(n)&&$e(n.dom.host),Ai=n=>un.fromDom(n.dom.getRootNode()),xd=n=>nm(n)?n:un.fromDom(L0(n).dom.body),wd=n=>da(n).isSome(),da=n=>{const s=Ai(n);return nm(s)?P.some(s):P.none()},bs=n=>un.fromDom(n.dom.host),P0=n=>{if($e(n.target)){const s=un.fromDom(n.target);if(Xc(s)&&Cd(s)&&n.composed&&n.composedPath){const i=n.composedPath();if(i)return Un(i)}}return P.from(n.target)},Cd=n=>$e(n.dom.shadowRoot),Fa=(n,s,i,f,b,w,S)=>({target:n,x:s,y:i,stop:f,prevent:b,kill:w,raw:S}),ku=n=>{const s=un.fromDom(P0(n).getOr(n.target)),i=()=>n.stopPropagation(),f=()=>n.preventDefault(),b=It(f,i);return Fa(s,n.clientX,n.clientY,i,f,b,n)},Qc=(n,s)=>i=>{n(i)&&s(ku(i))},ri=(n,s,i,f,b)=>{const w=Qc(i,f);return n.dom.addEventListener(s,w,b),{unbind:dn(Jc,n,s,w,b)}},Wu=(n,s,i,f)=>ri(n,s,i,f,!1),Wi=(n,s,i,f)=>ri(n,s,i,f,!0),Jc=(n,s,i,f)=>{n.dom.removeEventListener(s,i,f)},cl=Mt,Ls=(n,s,i)=>Wu(n,s,cl,i),qu=(n,s,i)=>Wi(n,s,cl,i),Wa=ku,qi=()=>un.fromDom(document),Pa=(n,s=!1)=>n.dom.focus({preventScroll:s}),fa=n=>n.dom.blur(),eu=n=>{const s=Ai(n).dom;return n.dom===s.activeElement},ai=(n=qi())=>P.from(n.dom.activeElement).map(un.fromDom),ii=n=>ai(Ai(n)).filter(s=>n.dom.contains(s.dom)),om=(n,s)=>{xl(n).each(f=>{f.dom.insertBefore(s.dom,n.dom)})},xp=(n,s)=>{Rm(n).fold(()=>{xl(n).each(b=>{sa(b,s)})},f=>{om(f,s)})},wp=(n,s)=>{es(n).fold(()=>{sa(n,s)},f=>{n.dom.insertBefore(s.dom,f.dom)})},sa=(n,s)=>{n.dom.appendChild(s.dom)},Mm=(n,s,i)=>{tm(n,i).fold(()=>{sa(n,s)},f=>{om(f,s)})},Eh=(n,s)=>{dt(s,i=>{sa(n,i)})},_f=(n,s,i)=>{if(I(i)||fe(i)||ct(i))n.setAttribute(s,i+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",i,":: Element ",n),new Error("Attribute value was not simple")},co=(n,s,i)=>{_f(n.dom,s,i)},_u=(n,s)=>{const i=n.dom;_s(s,(f,b)=>{_f(i,b,f)})},Jr=(n,s)=>{const i=n.dom.getAttribute(s);return i===null?void 0:i},li=(n,s)=>P.from(Jr(n,s)),$a=(n,s)=>{const i=n.dom;return i&&i.hasAttribute?i.hasAttribute(s):!1},rr=(n,s)=>{n.dom.removeAttribute(s)},Nc=n=>jo(n.dom.attributes,(s,i)=>(s[i.name]=i.value,s),{}),Cp=n=>{n.dom.textContent="",dt(Zu(n),s=>{tu(s)})},tu=n=>{const s=n.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},Gu=(n,s)=>un.fromDom(n.dom.cloneNode(s)),vg=n=>Gu(n,!1),Cl=n=>Gu(n,!0),Ia=(n,s)=>{const f=(s||document).createElement("div");return f.innerHTML=n,Zu(un.fromDom(f))},Gs=n=>n.dom.innerHTML,Rl=(n,s)=>{const f=Oc(n).dom,b=un.fromDom(f.createDocumentFragment()),w=Ia(s,f);Eh(b,w),Cp(n),sa(n,b)},Du=n=>{const s=un.fromTag("div"),i=un.fromDom(n.dom.cloneNode(!0));return sa(s,i),Gs(s)},ul=n=>{if(nm(n))return"#shadow-root";{const s=vg(n);return Du(s)}},Sl=n=>new Promise((s,i)=>{const f=()=>{w(),s(n)},b=[Ls(n,"load",f),Ls(n,"error",()=>{w(),i("Unable to load data from image: "+n.dom.src)})],w=()=>dt(b,S=>S.unbind());n.dom.complete&&f()}),ef=n=>n.style!==void 0&&be(n.style.getPropertyValue),Fs=n=>{const s=vl(n)?n.dom.parentNode:n.dom;if(s==null||s.ownerDocument===null)return!1;const i=s.ownerDocument;return da(un.fromDom(s)).fold(()=>i.body.contains(s),qe(Fs,bs))},Ml=()=>Bm(un.fromDom(document)),Bm=n=>{const s=n.dom.body;if(s==null)throw new Error("Body is not available yet");return un.fromDom(s)},Th=(n,s,i)=>{if(!I(i))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",i,":: Element ",n),new Error("CSS value must be a string: "+i);ef(n)&&n.style.setProperty(s,i)},hc=(n,s)=>{ef(n)&&n.style.removeProperty(s)},wo=(n,s,i)=>{const f=n.dom;Th(f,s,i)},Ar=(n,s)=>{const i=n.dom;_s(s,(f,b)=>{Th(i,b,f)})},qa=(n,s)=>{const i=n.dom;_s(s,(f,b)=>{f.fold(()=>{hc(i,b)},w=>{Th(i,b,w)})})},hr=(n,s)=>{const i=n.dom,b=window.getComputedStyle(i).getPropertyValue(s);return b===""&&!Fs(n)?dl(i,s):b},dl=(n,s)=>ef(n)?n.style.getPropertyValue(s):"",Vr=(n,s)=>{const i=n.dom,f=dl(i,s);return P.from(f).filter(b=>b.length>0)},ci=n=>{const s={},i=n.dom;if(ef(i))for(let f=0;f<i.style.length;f++){const b=i.style.item(f);s[b]=i.style[b]}return s},tf=(n,s,i)=>{const f=un.fromTag(n);return wo(f,s,i),Vr(f,s).isSome()},rs=(n,s)=>{const i=n.dom;hc(i,s),to(li(n,"style").map(Sn),"")&&rr(n,"style")},ql=n=>n.dom.offsetWidth,ys=(n,s)=>{const i=(D,B)=>{if(!ct(B)&&!B.match(/^[0-9]+$/))throw new Error(n+".set accepts only positive integer values. Value was "+B);const z=D.dom;ef(z)&&(z.style[n]=B+"px")},f=D=>{const B=s(D);if(B<=0||B===null){const z=hr(D,n);return parseFloat(z)||0}return B},b=f,w=(D,B)=>jo(B,(z,Z)=>{const K=hr(D,Z),ie=K===void 0?0:parseInt(K,10);return isNaN(ie)?z:z+ie},0);return{set:i,get:f,getOuter:b,aggregate:w,max:(D,B,z)=>{const Z=w(D,z);return B>Z?B-Z:0}}},Gl=ys("height",n=>{const s=n.dom;return Fs(n)?s.getBoundingClientRect().height:s.offsetHeight}),bi=n=>Gl.get(n),ki=n=>Gl.getOuter(n),Df=(n,s)=>{const i=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],f=Gl.max(n,s,i);wo(n,"max-height",f+"px")},xg=n=>n.offsetWidth<=0&&n.offsetHeight<=0,Ga=n=>!xg(n.dom),Of=ys("width",n=>{const s=n.dom;return Fs(n)?s.getBoundingClientRect().width:s.offsetWidth}),Sd=(n,s)=>Of.set(n,s),Bi=n=>Of.get(n),nf=n=>Of.getOuter(n),wg=(n,s)=>{const i=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],f=Of.max(n,s,i);wo(n,"max-width",f+"px")},Ku=(n,s)=>({left:n,top:s,translate:(f,b)=>Ku(n+f,s+b)}),cr=Ku,$0=n=>{const s=n.getBoundingClientRect();return cr(s.left,s.top)},Cg=(n,s)=>n!==void 0?n:s!==void 0?s:0,Bl=n=>{const s=n.dom.ownerDocument,i=s.body,f=s.defaultView,b=s.documentElement;if(i===n.dom)return cr(i.offsetLeft,i.offsetTop);const w=Cg(f?.pageYOffset,b.scrollTop),S=Cg(f?.pageXOffset,b.scrollLeft),D=Cg(b.clientTop,i.clientTop),B=Cg(b.clientLeft,i.clientLeft);return fl(n).translate(S-B,w-D)},fl=n=>{const s=n.dom,f=s.ownerDocument.body;return f===s?cr(f.offsetLeft,f.offsetTop):Fs(n)?$0(s):cr(0,0)},Aa=n=>{const s=n!==void 0?n.dom:document,i=s.body.scrollLeft||s.documentElement.scrollLeft,f=s.body.scrollTop||s.documentElement.scrollTop;return cr(i,f)},Ed=(n,s,i)=>{const b=(i!==void 0?i.dom:document).defaultView;b&&b.scrollTo(n,s)},of=((n,s)=>{const i=w=>{if(!n(w))throw new Error("Can only get "+s+" value of a "+s+" node");return f(w).getOr("")},f=w=>n(w)?P.from(w.dom.nodeValue):P.none();return{get:i,getOption:f,set:(w,S)=>{if(!n(w))throw new Error("Can only set raw "+s+" value of a "+s+" node");w.dom.nodeValue=S}}})(vl,"text"),Sg=n=>of.get(n),Eg=(n,s)=>i=>K1(i)==="rtl"?s:n,K1=n=>hr(n,"direction")==="rtl"?"rtl":"ltr",Td=(n,s)=>{const i=Jr(n,s);return i===void 0||i===""?[]:i.split(" ")},fy=(n,s,i)=>{const b=Td(n,s).concat([i]);return co(n,s,b.join(" ")),!0},sm=(n,s,i)=>{const f=Eo(Td(n,s),b=>b!==i);return f.length>0?co(n,s,f.join(" ")):rr(n,s),!1};var gc=(n,s,i,f,b)=>n(i,f)?P.some(i):be(b)&&b(i)?P.none():s(i,f,b);const Y1=(n,s,i)=>{let f=n.dom;const b=be(i)?i:yt;for(;f.parentNode;){f=f.parentNode;const w=un.fromDom(f);if(s(w))return P.some(w);if(b(w))break}return P.none()},Ah=(n,s,i)=>gc((b,w)=>w(b),Y1,n,s,i),Nf=(n,s)=>{const i=n.dom;return i.parentNode?rm(un.fromDom(i.parentNode),f=>!oe(n,f)&&s(f)):P.none()},rm=(n,s)=>{const i=b=>s(un.fromDom(b));return Be(n.dom.childNodes,i).map(un.fromDom)},Tg=(n,s)=>{const i=f=>{for(let b=0;b<f.childNodes.length;b++){const w=un.fromDom(f.childNodes[b]);if(s(w))return P.some(w);const S=i(f.childNodes[b]);if(S.isSome())return S}return P.none()};return i(n.dom)},Ag=n=>Ol(n),nu=(n,s,i)=>Y1(n,f=>sr(f,s),i),my=(n,s)=>Nf(n,i=>sr(i,s)),Ou=(n,s)=>rm(n,i=>sr(i,s)),ar=(n,s)=>Ol(s,n),yi=(n,s,i)=>gc((b,w)=>sr(b,w),nu,n,s,i),Ad=(n,s)=>{n.dom.checked=s},Sp=n=>n.dom.checked,ou=n=>n.dom.classList!==void 0,Rf=n=>Td(n,"class"),kg=(n,s)=>fy(n,"class",s),kd=(n,s)=>sm(n,"class",s),_d=(n,s)=>Ue(Rf(n),s)?kd(n,s):kg(n,s),Qs=(n,s)=>{ou(n)?n.dom.classList.add(s):kg(n,s)},_g=n=>{(ou(n)?n.dom.classList:Rf(n)).length===0&&rr(n,"class")},ma=(n,s)=>{ou(n)?n.dom.classList.remove(s):kd(n,s),_g(n)},kh=(n,s)=>{const i=ou(n)?n.dom.classList.toggle(s):_d(n,s);return _g(n),i},ka=(n,s)=>ou(n)&&n.dom.classList.contains(s),Yu=(n,s)=>{dt(s,i=>{Qs(n,i)})},El=(n,s)=>{dt(s,i=>{ma(n,i)})},sf=(n,s)=>{dt(s,i=>{kh(n,i)})},Dg=(n,s)=>Je(s,i=>ka(n,i)),su=n=>{const s=n.dom.classList,i=new Array(s.length);for(let f=0;f<s.length;f++){const b=s.item(f);b!==null&&(i[f]=b)}return i},Nu=n=>ou(n)?su(n):Rf(n),Lm=n=>n.dom.textContent,pc=n=>n.dom.value,Dd=(n,s)=>{if(s===void 0)throw new Error("Value.set was undefined");n.dom.value=s},ra=(n,s,i)=>Eo(Ch(n,i),s),ea=(n,s)=>Ti(s,n),_i=(n,s,i)=>Ah(n,s,i).isSome(),Fm=(n,s,i)=>yi(n,s,i).isSome(),Od=n=>be(n)?n:yt,Js=(n,s,i)=>{let f=n.dom;const b=Od(i);for(;f.parentNode;){f=f.parentNode;const w=un.fromDom(f),S=s(w);if(S.isSome())return S;if(b(w))break}return P.none()},yr=(n,s,i)=>{const f=s(n),b=Od(i);return f.orThunk(()=>b(n)?P.none():Js(n,s,b))},F={create:(n,s,i,f)=>({start:n,soffset:s,finish:i,foffset:f})},j=Ba.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),re=(n,s,i,f)=>n.fold(s,i,f),we=n=>n.fold(lt,lt,lt),Ge=j.before,At=j.on,vn=j.after,kn={before:Ge,on:At,after:vn,cata:re,getStart:we},Bo=Ba.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ns=n=>Bo.exact(n.start,n.soffset,n.finish,n.foffset),Nr=n=>n.match({domRange:s=>un.fromDom(s.startContainer),relative:(s,i)=>kn.getStart(s),exact:(s,i,f,b)=>s}),aa=Bo.domRange,vi=Bo.relative,Rc=Bo.exact,Xu=n=>{const s=Nr(n);return yp(s)},rf=F.create,fi={domRange:aa,relative:vi,exact:Rc,exactFromRange:ns,getWin:Xu,range:rf},Li=n=>P.from(n.getSelection()),am=n=>{if(n.rangeCount>0){const s=n.getRangeAt(0),i=n.getRangeAt(n.rangeCount-1);return P.some(F.create(un.fromDom(s.startContainer),s.startOffset,un.fromDom(i.endContainer),i.endOffset))}else return P.none()},im=n=>{if(n.anchorNode===null||n.focusNode===null)return am(n);{const s=un.fromDom(n.anchorNode),i=un.fromDom(n.focusNode);return ts(s,n.anchorOffset,i,n.focusOffset)?P.some(F.create(s,n.anchorOffset,i,n.focusOffset)):am(n)}},Pm=n=>Li(n).filter(s=>s.rangeCount>0).bind(im),_h=(n,s)=>{const i=ve(n,s);return Ui(i)},Ru=(n,s)=>{const i=ve(n,s);return si(i)},Dh={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},X1=(()=>{const n="[0-9]+",i="[eE]"+("[+-]?"+n),f="\\.",b=D=>`(?:${D})?`,S=`[+-]?(?:${["Infinity",n+f+b(n)+b(i),f+n+b(i),n+b(i)].join("|")})`;return new RegExp(`^(${S})(.*)$`)})(),Q1=(n,s)=>Pt(s,i=>Pt(Dh[i],f=>n===f)),Ps=(n,s)=>P.from(X1.exec(n)).bind(f=>{const b=Number(f[1]),w=f[2];return Q1(w,s)?P.some({value:b,unit:w}):P.none()}),Ha=(n,s)=>Ps(n,s).map(({value:i,unit:f})=>i+f),Ka=n=>{const s=n===void 0?window:n;return Za().browser.isFirefox()?P.none():P.from(s.visualViewport)},Fl=(n,s,i,f)=>({x:n,y:s,width:i,height:f,right:n+i,bottom:s+f}),Ep=n=>{const s=n===void 0?window:n,i=s.document,f=Aa(un.fromDom(i));return Ka(s).fold(()=>{const b=s.document.documentElement,w=b.clientWidth,S=b.clientHeight;return Fl(f.left,f.top,w,S)},b=>Fl(Math.max(b.pageLeft,f.left),Math.max(b.pageTop,f.top),b.width,b.height))},Og=(n,s)=>n.view(s).fold(ae([]),f=>{const b=n.owner(f),w=Og(n,b);return[f].concat(w)}),Ng=(n,s)=>{const i=s.owner(n),f=Og(s,i);return P.some(f)};var $m=Object.freeze({__proto__:null,view:n=>(n.dom===document?P.none():P.from(n.dom.defaultView?.frameElement)).map(un.fromDom),owner:n=>Oc(n)});const I0=n=>{const s=qi(),i=Aa(s);return Ng(n,$m).fold(dn(Bl,n),b=>{const w=fl(n),S=Lo(b,(D,B)=>{const z=fl(B);return{left:D.left+z.left,top:D.top+z.top}},{left:0,top:0});return cr(S.left+w.left+i.left,S.top+w.top+i.top)})},Oh=(n,s,i)=>({point:n,width:s,height:i}),Mv=(n,s,i,f)=>({x:n,y:s,width:i,height:f}),Fi=(n,s,i,f)=>({x:n,y:s,width:i,height:f,right:n+i,bottom:s+f}),Di=n=>{const s=Bl(n),i=nf(n),f=ki(n);return Fi(s.left,s.top,i,f)},Nh=n=>{const s=I0(n),i=nf(n),f=ki(n);return Fi(s.left,s.top,i,f)},Im=(n,s)=>{const i=Math.max(n.x,s.x),f=Math.max(n.y,s.y),b=Math.min(n.right,s.right),w=Math.min(n.bottom,s.bottom),S=b-i,D=w-f;return Fi(i,f,S,D)},hy=(n,s)=>jo(s,(i,f)=>Im(i,f),n),bc=()=>Ep(window),gy=(n,s)=>oe(n.element,s.event.target),af=n=>(to(Vr(n,"position"),"fixed")?P.none():F0(n)).orThunk(()=>{const f=un.fromTag("span");return xl(n).bind(b=>{sa(b,f);const w=F0(f);return tu(f),w})}),J1=n=>af(n).map(Bl).getOrThunk(()=>cr(0,0)),ru=(n,s)=>{const i=P.from(Jr(n,"id")).getOrThunk(()=>{const f=me("aria");return co(s,"id",f),f});co(n,"aria-describedby",i)},H0=n=>{rr(n,"aria-describedby")};var Mu;(function(n){n[n.Error=0]="Error",n[n.Value=1]="Value"})(Mu||(Mu={}));const Ya=(n,s,i)=>n.stype===Mu.Error?s(n.serror):i(n.svalue),py=n=>{const s=[],i=[];return dt(n,f=>{Ya(f,b=>i.push(b),b=>s.push(b))}),{values:s,errors:i}},Ap=(n,s)=>n.stype===Mu.Error?{stype:Mu.Error,serror:s(n.serror)}:n,Bv=(n,s)=>n.stype===Mu.Value?{stype:Mu.Value,svalue:s(n.svalue)}:n,by=(n,s)=>n.stype===Mu.Value?s(n.svalue):n,Lv=(n,s)=>n.stype===Mu.Error?s(n.serror):n,Fv=n=>({stype:Mu.Value,svalue:n}),z0=n=>({stype:Mu.Error,serror:n}),xn={fromResult:n=>n.fold(z0,Fv),toResult:n=>Ya(n,Bn.error,Bn.value),svalue:Fv,partition:py,serror:z0,bind:by,bindError:Lv,map:Bv,mapError:Ap,fold:Ya},au=n=>U(n)&&Io(n).length>100?" removed due to size":JSON.stringify(n,null,2),E2=n=>{const s=n.length>10?n.slice(0,10).concat([{path:[],getErrorInfo:ae("... (only showing first ten failures)")}]):n;return He(s,i=>"Failed path: ("+i.path.join(" > ")+`)
`+i.getErrorInfo())},iu=(n,s)=>xn.serror([{path:n,getErrorInfo:s}]),Qu=(n,s,i)=>iu(n,()=>'Could not find valid *required* value for "'+s+'" in '+au(i)),tb=(n,s)=>iu(n,()=>'Choice schema did not contain choice key: "'+s+'"'),T2=(n,s,i)=>iu(n,()=>'The chosen schema: "'+i+'" did not exist in branches: '+au(s)),Hm=(n,s)=>iu(n,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),A2=(n,s)=>iu(n,ae(s)),lu=n=>{const s=(f,b)=>xn.bindError(n(b),w=>A2(f,w)),i=ae("val");return{extract:s,toString:i}},k2=lu(xn.svalue),lf=ae(k2),cn=(n,s)=>lu(i=>{const f=typeof i;return n(i)?xn.svalue(i):xn.serror(`Expected type: ${s} but got: ${f}`)}),_p=cn(ct,"number"),Pi=cn(I,"string"),Xo=cn(fe,"boolean"),zm=cn(be,"function"),Dp=n=>{if(Object(n)!==n)return!0;switch({}.toString.call(n).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(n).every(s=>Dp(n[s]));default:return!1}},ia=lu(n=>Dp(n)?xn.svalue(n):xn.serror("Expected value to be acceptable for sending via postMessage")),Nd=()=>({tag:"required",process:{}}),Op=n=>({tag:"defaultedThunk",process:n}),Bu=n=>Op(ae(n)),ta=()=>({tag:"option",process:{}}),lm=n=>({tag:"mergeWithThunk",process:n}),Np=n=>lm(ae(n)),yy=(n,s,i,f)=>({tag:"field",key:n,newKey:s,presence:i,prop:f}),Rh=(n,s)=>({tag:"custom",newKey:n,instantiator:s}),Rd=(n,s,i)=>{switch(n.tag){case"field":return s(n.key,n.newKey,n.presence,n.prop);case"custom":return i(n.newKey,n.instantiator)}},j0=(n,s)=>xn.svalue(Wt(s,vo.apply(void 0,n))),V0=n=>It(xn.serror,et)(n),Rp={consolidateObj:(n,s)=>{const i=xn.partition(n);return i.errors.length>0?V0(i.errors):j0(i.values,s)},consolidateArr:n=>{const s=xn.partition(n);return s.errors.length>0?V0(s.errors):xn.svalue(s.values)}},wy=(n,s,i,f)=>$n(s,i).fold(()=>Qu(n,i,s),f),nb=(n,s,i,f)=>{const b=$n(n,s).getOrThunk(()=>i(n));return f(b)},zC=(n,s,i)=>i($n(n,s)),Pv=(n,s,i,f)=>{const b=$n(n,s).map(w=>w===!0?i(n):w);return f(b)},Tl=(n,s,i,f,b)=>{const w=D=>b.extract(s.concat([f]),D),S=D=>D.fold(()=>xn.svalue(P.none()),B=>{const z=b.extract(s.concat([f]),B);return xn.map(z,P.some)});switch(n.tag){case"required":return wy(s,i,f,w);case"defaultedThunk":return nb(i,f,n.process,w);case"option":return zC(i,f,S);case"defaultedOptionThunk":return Pv(i,f,n.process,S);case"mergeWithThunk":return nb(i,f,ae({}),D=>{const B=Wt(n.process(i),D);return w(B)})}},cu=(n,s,i)=>{const f={},b=[];for(const w of i)Rd(w,(S,D,B,z)=>{const Z=Tl(B,n,s,S,z);xn.fold(Z,K=>{b.push(...K)},K=>{f[D]=K})},(S,D)=>{f[S]=D(s)});return b.length>0?xn.serror(b):xn.svalue(f)},U0=n=>({extract:(f,b)=>n().extract(f,b),toString:()=>n().toString()}),jC=n=>Io(Yr(n,$e)),Lu=n=>{const s=uo(n),i=Lo(n,(b,w)=>Rd(w,S=>Wt(b,{[S]:!0}),ae(b)),{});return{extract:(b,w)=>{const S=fe(w)?[]:jC(w),D=Eo(S,B=>!_o(i,B));return D.length===0?s.extract(b,w):Hm(b,D)},toString:s.toString}},uo=n=>({extract:(f,b)=>cu(f,b,n),toString:()=>`obj{
`+He(n,b=>Rd(b,(w,S,D,B)=>w+" -> "+B.toString(),(w,S)=>"state("+w+")")).join(`
`)+"}"}),_a=n=>({extract:(f,b)=>{const w=He(b,(S,D)=>n.extract(f.concat(["["+D+"]"]),S));return Rp.consolidateArr(w)},toString:()=>"array("+n.toString()+")"}),Mp=(n,s)=>{const i=s!==void 0?s:lt;return{extract:(w,S)=>{const D=[];for(const B of n){const z=B.extract(w,S);if(z.stype===Mu.Value)return{stype:Mu.Value,svalue:i(z.svalue)};D.push(z)}return Rp.consolidateArr(D)},toString:()=>"oneOf("+He(n,w=>w.toString()).join(", ")+")"}},ob=(n,s)=>{const i=(w,S)=>_a(lu(n)).extract(w,S);return{extract:(w,S)=>{const D=Io(S),B=i(w,D);return xn.bind(B,z=>{const Z=He(z,K=>yy(K,K,Nd(),s));return uo(Z).extract(w,S)})},toString:()=>"setOf("+s.toString()+")"}},Rg=(n,s)=>{const i=rl(s);return{extract:(w,S)=>i().extract(w,S),toString:()=>i().toString()}},Z0=It(_a,uo),W0=(n,s,i,f)=>$n(i,f).fold(()=>T2(n,i,f),w=>w.extract(n.concat(["branch: "+f]),s)),Mh=(n,s)=>({extract:(b,w)=>$n(w,n).fold(()=>tb(b,n),D=>W0(b,w,s,D)),toString:()=>"chooseOn("+n+"). Possible values: "+Io(s)}),$v=()=>_a(k2),cm=n=>lu(s=>n(s).fold(xn.serror,xn.svalue)),Iv=(n,s)=>ob(i=>xn.fromResult(n(i)),s),sb=(n,s,i)=>{const f=s.extract([n],i);return xn.mapError(f,b=>({input:i,errors:b}))},ha=(n,s,i)=>xn.toResult(sb(n,s,i)),Ju=n=>n.fold(s=>{throw new Error(Mg(s))},lt),Mc=(n,s,i)=>Ju(ha(n,s,i)),Mg=n=>`Errors: 
`+E2(n.errors).join(`
`)+`

Input object: `+au(n.input),Kl=(n,s)=>Mh(n,Ms(s,uo)),Bh=(n,s)=>Rg(n,s),ml=yy,yc=Rh,rb=n=>cm(s=>Ue(n,s)?Bn.value(s):Bn.error(`Unsupported value: "${s}", choose one of "${n.join(", ")}".`)),Zt=n=>ml(n,n,Nd(),lf()),Bc=(n,s)=>ml(n,n,Nd(),s),ab=n=>Bc(n,_p),Xa=n=>Bc(n,Pi),Yl=(n,s)=>ml(n,n,Nd(),rb(s)),uu=n=>Bc(n,zm),_2=(n,s)=>ml(n,n,ta(),lu(i=>xn.serror("The field: "+n+" is forbidden. "+s))),cf=(n,s)=>ml(n,n,Nd(),uo(s)),q0=(n,s)=>ml(n,n,Nd(),Z0(s)),Cr=(n,s)=>ml(n,n,Nd(),_a(s)),gr=n=>ml(n,n,ta(),lf()),um=(n,s)=>ml(n,n,ta(),s),Bp=n=>um(n,_p),ga=n=>um(n,Pi),jm=(n,s)=>um(n,rb(s)),Cy=n=>um(n,Xo),uf=n=>um(n,zm),Bg=(n,s)=>um(n,_a(s)),$i=(n,s)=>um(n,uo(s)),D2=(n,s)=>um(n,Lu(s)),pt=(n,s)=>ml(n,n,Bu(s),lf()),ed=(n,s,i)=>ml(n,n,Bu(s),i),Lp=(n,s)=>ed(n,s,_p),Da=(n,s)=>ed(n,s,Pi),Xl=(n,s,i)=>ed(n,s,rb(i)),Gi=(n,s)=>ed(n,s,Xo),ir=(n,s)=>ed(n,s,zm),Pl=(n,s)=>ed(n,s,ia),Vm=(n,s,i)=>ed(n,s,_a(i)),Lh=(n,s,i)=>ed(n,s,uo(i)),hl=(n,s)=>{const i={};return _s(n,(f,b)=>{Ue(s,b)||(i[b]=f)}),i},ib=(n,s)=>({[n]:s}),Sy=n=>{const s={};return dt(n,i=>{s[i.key]=i.value}),s},Ey=(n,s)=>hl(n,s),za=(n,s)=>ib(n,s),vc=n=>Sy(n),Um=(n,s)=>n.length===0?Bn.value(s):Bn.value(Wt(s,vo.apply(void 0,n))),Ty=n=>Bn.error(et(n)),O2=(n,s)=>{const i=or(n);return i.errors.length>0?Ty(i.errors):Um(i.values,s)},Ql=ae,td=Ql("touchstart"),Qa=Ql("touchmove"),$l=Ql("touchend"),nd=Ql("touchcancel"),du=Ql("mousedown"),xc=Ql("mousemove"),Ii=Ql("mouseout"),Mf=Ql("mouseup"),Jl=Ql("mouseover"),ec=Ql("focusin"),lb=Ql("focusout"),Ki=Ql("keydown"),Fu=Ql("keyup"),Bf=Ql("input"),Lf=Ql("change"),dm=Ql("click"),cb=Ql("transitioncancel"),Fh=Ql("transitionend"),Zm=Ql("transitionstart"),G0=Ql("selectstart"),Sr=n=>ae("alloy."+n),Hv={tap:Sr("tap")},Ff=Sr("focus"),Fp=Sr("blur.post"),Ay=Sr("paste.post"),Ph=Sr("receive"),Ns=Sr("execute"),pa=Sr("focus.item"),pr=Hv.tap,kr=Sr("longpress"),Oa=Sr("sandbox.close"),Pu=Sr("typeahead.cancel"),Pf=Sr("system.init"),Pp=Sr("system.touchmove"),ub=Sr("system.touchend"),fm=Sr("system.scroll"),xi=Sr("system.resize"),Lc=Sr("system.attached"),wc=Sr("system.detached"),mm=Sr("system.dismissRequested"),Md=Sr("system.repositionRequested"),$h=Sr("focusmanager.shifted"),$p=Sr("slotcontainer.visibility"),od=Sr("system.external.element.scroll"),db=Sr("change.tab"),Ip=Sr("dismiss.tab"),fb=Sr("highlight"),Hp=Sr("dehighlight"),Bd=n=>ul(n),$f="unknown";var Yi;(function(n){n[n.STOP=0]="STOP",n[n.NORMAL=1]="NORMAL",n[n.LOGGING=2]="LOGGING"})(Yi||(Yi={}));const Ld=Nn({}),zp=(n,s)=>{const i=[],f=new Date().getTime();return{logEventCut:(b,w,S)=>{i.push({outcome:"cut",target:w,purpose:S})},logEventStopped:(b,w,S)=>{i.push({outcome:"stopped",target:w,purpose:S})},logNoParent:(b,w,S)=>{i.push({outcome:"no-parent",target:w,purpose:S})},logEventNoHandlers:(b,w)=>{i.push({outcome:"no-handlers-left",target:w})},logEventResponse:(b,w,S)=>{i.push({outcome:"response",purpose:S,target:w})},write:()=>{const b=new Date().getTime();Ue(["mousemove","mouseover","mouseout",Pf()],n)||console.log(n,{event:n,time:b-f,target:s.dom,sequence:He(i,w=>Ue(["cut","stopped","response"],w.outcome)?"{"+w.purpose+"} "+w.outcome+" at ("+Bd(w.target)+")":w.outcome)})}}},Fd=(n,s,i)=>{switch($n(Ld.get(),n).orThunk(()=>{const b=Io(Ld.get());return gs(b,w=>n.indexOf(w)>-1?P.some(Ld.get()[w]):P.none())}).getOr(Yi.NORMAL)){case Yi.NORMAL:return i(K0());case Yi.LOGGING:{const b=zp(n,s),w=i(b);return b.write(),w}case Yi.STOP:return!0}},Cc=["alloy/data/Fields","alloy/debugging/Debugging"],zv=()=>{const n=new Error;if(n.stack!==void 0){const s=n.stack.split(`
`);return Be(s,i=>i.indexOf("alloy")>0&&!Pt(Cc,f=>i.indexOf(f)>-1)).getOr($f)}else return $f},ky={logEventCut:J,logEventStopped:J,logNoParent:J,logEventNoHandlers:J,logEventResponse:J,write:J},jp=(n,s,i)=>Fd(n,s,i),K0=ae(ky),Pd=ae([Zt("menu"),Zt("selectedMenu")]),Lg=ae([Zt("item"),Zt("selectedItem")]);ae(uo(Lg().concat(Pd())));const sd=ae(uo(Lg())),Y0=cf("initSize",[Zt("numColumns"),Zt("numRows")]),_y=()=>Bc("markers",sd()),N2=()=>cf("markers",[Zt("backgroundMenu")].concat(Pd()).concat(Lg())),ds=n=>cf("markers",He(n,Zt)),Vp=(n,s,i)=>(zv(),ml(s,s,i,cm(f=>Bn.value((...b)=>f.apply(void 0,b))))),Rs=n=>Vp("onHandler",n,Bu(J)),tc=n=>Vp("onKeyboardHandler",n,Bu(P.none)),Ih=n=>Vp("onHandler",n,Nd()),X0=n=>Vp("onKeyboardHandler",n,Nd()),er=(n,s)=>yc(n,ae(s)),jv=n=>yc(n,lt),mb=ae(Y0),Vv=(n,s,i)=>{const f=i.toString(),b=f.indexOf(")")+1,w=f.indexOf("("),S=f.substring(w+1,b-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:s,parameters:Up(S.slice(0,1).concat(S.slice(3)))}),n},Up=n=>He(n,s=>dc(s,"/*")?s.substring(0,s.length-2):s),hb=(n,s)=>{const i=n.toString(),f=i.indexOf(")")+1,b=i.indexOf("("),w=i.substring(b+1,f-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:s,parameters:Up(w)}),n},R2=(n,s)=>{const i=s.toString(),f=i.indexOf(")")+1,b=i.indexOf("("),w=i.substring(b+1,f-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Up(w.slice(1))}),n},M2=(n,s)=>{let i=null;return{cancel:()=>{i!==null&&(clearTimeout(i),i=null)},schedule:(...w)=>{i=setTimeout(()=>{n.apply(null,w),i=null},s)}}},B2=5,Zp=400,gb=n=>{const s=n.raw;return s.touches===void 0||s.touches.length!==1?P.none():P.some(s.touches[0])},L2=(n,s)=>{const i=Math.abs(n.clientX-s.x),f=Math.abs(n.clientY-s.y);return i>B2||f>B2},F2=n=>{const s=xo(),i=Nn(!1),f=M2(z=>{n.triggerEvent(kr(),z),i.set(!0)},Zp),b=z=>(gb(z).each(Z=>{f.cancel();const K={x:Z.clientX,y:Z.clientY,target:z.target};f.schedule(z),i.set(!1),s.set(K)}),P.none()),w=z=>(f.cancel(),gb(z).each(Z=>{s.on(K=>{L2(Z,K)&&s.clear()})}),P.none()),S=z=>{f.cancel();const Z=K=>oe(K.target,z.target);return s.get().filter(Z).map(K=>i.get()?(z.prevent(),!1):n.triggerEvent(pr(),z))},D=vc([{key:td(),value:b},{key:Qa(),value:w},{key:$l(),value:S}]);return{fireIfReady:(z,Z)=>$n(D,Z).bind(K=>K(z))}};var Fg;(function(n){n.OnFocusMode="onFocus",n.OnEnterOrSpaceMode="onEnterOrSpace",n.OnApiMode="onApi"})(Fg||(Fg={}));const $u="placeholder",Xi=Ba.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Hh=n=>Yo(n,"uiType"),rd=(n,s,i,f)=>n.exists(b=>b!==i.owner)?Xi.single(!0,ae(i)):$n(f,i.name).fold(()=>{throw new Error("Unknown placeholder component: "+i.name+`
Known: [`+Io(f)+`]
Namespace: `+n.getOr("none")+`
Spec: `+JSON.stringify(i,null,2))},b=>b.replace()),hm=(n,s,i,f)=>Hh(i)&&i.uiType===$u?rd(n,s,i,f):Xi.single(!1,ae(i)),Wp=(n,s,i,f)=>hm(n,s,i,f).fold((w,S)=>{const D=Hh(i)?S(s,i.config,i.validated):S(s),B=$n(D,"components").getOr([]),z=Le(B,Z=>Wp(n,s,Z,f));return[{...D,components:z}]},(w,S)=>{if(Hh(i)){const D=S(s,i.config,i.validated);return i.validated.preprocess.getOr(lt)(D)}else return S(s)}),la=(n,s,i,f)=>Le(i,b=>Wp(n,s,b,f)),Q0=(n,s)=>{let i=!1;const f=()=>i,b=()=>{if(i)throw new Error("Trying to use the same placeholder more than once: "+n);return i=!0,s},w=()=>s.fold((S,D)=>S,(S,D)=>S);return{name:ae(n),required:w,used:f,replace:b}},VC=(n,s,i,f)=>{const b=Ms(f,(S,D)=>Q0(D,S)),w=la(n,s,i,b);return _s(b,S=>{if(S.used()===!1&&S.required())throw new Error("Placeholder: "+S.name()+` was not found in components list
Namespace: `+n.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),w},pb=Xi.single,Uv=Xi.multiple,Zv=ae($u),bb=Ba.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),If=pt("factory",{sketch:lt}),zh=pt("schema",[]),qp=Zt("name"),Gp=ml("pname","pname",Op(n=>"<alloy."+me(n.name)+">"),lf()),Dy=yc("schema",()=>[gr("preprocess")]),fu=pt("defaults",ae({})),df=pt("overrides",ae({})),J0=uo([If,zh,qp,Gp,fu,df]),UC=uo([If,zh,qp,fu,df]),P2=uo([If,zh,qp,Gp,fu,df]),Wv=uo([If,Dy,qp,Zt("unit"),Gp,fu,df]),Oy=n=>n.fold(P.some,P.none,P.some,P.some),gm=n=>{const s=i=>i.name;return n.fold(s,s,s,s)},$2=n=>n.fold(lt,lt,lt,lt),$d=(n,s)=>i=>{const f=Mc("Converting part type",s,i);return n(f)},Sc=$d(bb.required,J0),Id=$d(bb.external,UC),mu=$d(bb.optional,P2),e1=$d(bb.group,Wv),jh=ae("entirety");var Ny=Object.freeze({__proto__:null,required:Sc,external:Id,optional:mu,group:e1,asNamedPart:Oy,name:gm,asCommon:$2,original:jh});const qv=(n,s,i,f)=>Wt(s.defaults(n,i,f),i,{uid:n.partUids[s.name]},s.overrides(n,i,f)),yb=(n,s,i)=>{const f={},b={};return dt(i,w=>{w.fold(S=>{f[S.pname]=pb(!0,(D,B,z)=>S.factory.sketch(qv(D,S,B,z)))},S=>{const D=s.parts[S.name];b[S.name]=ae(S.factory.sketch(qv(s,S,D[jh()]),D))},S=>{f[S.pname]=pb(!1,(D,B,z)=>S.factory.sketch(qv(D,S,B,z)))},S=>{f[S.pname]=Uv(!0,(D,B,z)=>{const Z=D[S.name];return He(Z,K=>S.factory.sketch(Wt(S.defaults(D,K,z),K,S.overrides(D,K))))})})}),{internals:ae(f),externals:ae(b)}},Pg=(n,s)=>{const i={};return dt(s,f=>{Oy(f).each(b=>{const w=Vh(n,b.pname);i[b.name]=S=>{const D=Mc("Part: "+b.name+" in "+n,uo(b.schema),S);return{...w,config:S,validated:D}}})}),i},Vh=(n,s)=>({uiType:Zv(),owner:n,name:s}),_r=(n,s,i)=>({uiType:Zv(),owner:n,name:s,config:i,validated:{}}),Hi=n=>Le(n,s=>s.fold(P.none,P.some,P.none,P.none).map(i=>cf(i.name,i.schema.concat([jv(jh())]))).toArray()),$g=n=>He(n,gm),Fc=(n,s,i)=>yb(n,s,i),vb=(n,s,i)=>VC(P.some(n),s,s.components,i),Er=(n,s,i)=>{const f=s.partUids[i];return n.getSystem().getByUid(f).toOptional()},ad=(n,s,i)=>Er(n,s,i).getOrDie("Could not find part: "+i),Hf=(n,s,i)=>{const f={},b=s.partUids,w=n.getSystem();return dt(i,S=>{f[S]=ae(w.getByUid(b[S]))}),f},pm=(n,s)=>{const i=n.getSystem();return Ms(s.partUids,(f,b)=>ae(i.getByUid(f)))},id=n=>Io(n.partUids),Ry=(n,s,i)=>{const f={},b=s.partUids,w=n.getSystem();return dt(i,S=>{f[S]=ae(w.getByUid(b[S]).getOrDie())}),f},I2=(n,s)=>{const i=$g(s);return vc(He(i,f=>({key:f,value:n+"-"+f})))},Wm=n=>ml("partUids","partUids",lm(s=>I2(s.uid,n)),lf());var Ig=Object.freeze({__proto__:null,generate:Pg,generateOne:_r,schemas:Hi,names:$g,substitutes:Fc,components:vb,defaultUids:I2,defaultUidsSchema:Wm,getAllParts:pm,getAllPartNames:id,getPart:Er,getPartOrDie:ad,getParts:Hf,getPartsOrDie:Ry});const Ja=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],hu=(n,s,i,f=1)=>{const b=n*f,w=s*f,S=B=>$n(i,B).getOr([]),D=(B,z,Z)=>{const K=xt(Ja,Z);return{offset:cr(B,z),classesOn:Le(Z,S),classesOff:Le(K,S)}};return{southeast:()=>D(-n,s,["top","alignLeft"]),southwest:()=>D(n,s,["top","alignRight"]),south:()=>D(-n/2,s,["top","alignCentre"]),northeast:()=>D(-n,-s,["bottom","alignLeft"]),northwest:()=>D(n,-s,["bottom","alignRight"]),north:()=>D(-n/2,-s,["bottom","alignCentre"]),east:()=>D(n,-s/2,["valignCentre","left"]),west:()=>D(-n,-s/2,["valignCentre","right"]),insetNortheast:()=>D(b,w,["top","alignLeft","inset"]),insetNorthwest:()=>D(-b,w,["top","alignRight","inset"]),insetNorth:()=>D(-b/2,w,["top","alignCentre","inset"]),insetSoutheast:()=>D(b,-w,["bottom","alignLeft","inset"]),insetSouthwest:()=>D(-b,-w,["bottom","alignRight","inset"]),insetSouth:()=>D(-b/2,-w,["bottom","alignCentre","inset"]),insetEast:()=>D(-b,-w/2,["valignCentre","right","inset"]),insetWest:()=>D(b,-w/2,["valignCentre","left","inset"])}},Qi=()=>hu(0,0,{}),nc=(n,s,i,f,b,w,S,D=!1)=>({x:n,y:s,bubble:i,direction:f,placement:b,restriction:w,label:`${S}-${b}`,alwaysFit:D}),ff=Ba.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),My=(n,s,i,f,b,w,S,D,B)=>n.fold(s,i,f,b,w,S,D,B),Uh=(n,s,i,f)=>n.fold(s,s,f,f,s,f,i,i),qm=(n,s,i,f)=>n.fold(s,f,s,f,i,i,s,f),Hg=ff.southeast,By=ff.southwest,xb=ff.northeast,Zh=ff.northwest,Gm=ff.south,Gv=ff.north,t1=ff.east,Kv=ff.west,Yv=(n,s)=>{switch(s){case 1:return n.x;case 0:return n.x+n.width;case 2:return n.y;case 3:return n.y+n.height}},gl=(n,s)=>jn(["left","right","top","bottom"],i=>$n(s,i).map(f=>Yv(n,f))),zg=(n,s,i)=>{const f=(B,z)=>s[B].map(Z=>{const K=B==="top"||B==="bottom",ie=K?i.top:i.left,xe=(B==="left"||B==="top"?Math.max:Math.min)(Z,z)+ie;return K?is(xe,n.y,n.bottom):is(xe,n.x,n.right)}).getOr(z),b=f("left",n.x),w=f("top",n.y),S=f("right",n.right),D=f("bottom",n.bottom);return Fi(b,w,S-b,D-w)},ld="layout",Xv=n=>n.x,wb=(n,s)=>n.x+n.width/2-s.width/2,Cb=(n,s)=>n.x+n.width-s.width,Sb=(n,s)=>n.y-s.height,Ly=n=>n.y+n.height,Qv=(n,s)=>n.y+n.height/2-s.height/2,Jv=n=>n.x+n.width,Kp=(n,s)=>n.x-s.width,Ji=(n,s,i)=>nc(Xv(n),Ly(n),i.southeast(),Hg(),"southeast",gl(n,{left:1,top:3}),ld),Ur=(n,s,i)=>nc(Cb(n,s),Ly(n),i.southwest(),By(),"southwest",gl(n,{right:0,top:3}),ld),Al=(n,s,i)=>nc(Xv(n),Sb(n,s),i.northeast(),xb(),"northeast",gl(n,{left:1,bottom:2}),ld),kl=(n,s,i)=>nc(Cb(n,s),Sb(n,s),i.northwest(),Zh(),"northwest",gl(n,{right:0,bottom:2}),ld),ba=(n,s,i)=>nc(wb(n,s),Sb(n,s),i.north(),Gv(),"north",gl(n,{bottom:2}),ld),Oi=(n,s,i)=>nc(wb(n,s),Ly(n),i.south(),Gm(),"south",gl(n,{top:3}),ld),Km=(n,s,i)=>nc(Jv(n),Qv(n,s),i.east(),t1(),"east",gl(n,{left:0}),ld),Hd=(n,s,i)=>nc(Kp(n,s),Qv(n,s),i.west(),Kv(),"west",gl(n,{right:1}),ld),Fy=()=>[Ji,Ur,Al,kl,Oi,ba,Km,Hd],Eb=()=>[Ur,Ji,kl,Al,Oi,ba,Km,Hd],zf=()=>[Al,kl,Ji,Ur,ba,Oi],ex=()=>[kl,Al,Ur,Ji,ba,Oi],tx=()=>[Ji,Ur,Al,kl,Oi,ba],Wh=()=>[Ur,Ji,kl,Al,Oi,ba],Py="data-alloy-placement",n1=(n,s)=>{co(n,Py,s)},H2=n=>li(n,Py),Tb=n=>rr(n,Py),bm="layout-inset",$y=n=>n.x,Ab=(n,s)=>n.x+n.width/2-s.width/2,o1=(n,s)=>n.x+n.width-s.width,jg=n=>n.y,Ym=(n,s)=>n.y+n.height-s.height,Vg=(n,s)=>n.y+n.height/2-s.height/2,s1=(n,s,i)=>nc(o1(n,s),Ym(n,s),i.insetSouthwest(),Zh(),"southwest",gl(n,{right:0,bottom:3}),bm),Iy=(n,s,i)=>nc($y(n),Ym(n,s),i.insetSoutheast(),xb(),"southeast",gl(n,{left:1,bottom:3}),bm),jf=(n,s,i)=>nc(o1(n,s),jg(n),i.insetNorthwest(),By(),"northwest",gl(n,{right:0,top:2}),bm),Il=(n,s,i)=>nc($y(n),jg(n),i.insetNortheast(),Hg(),"northeast",gl(n,{left:1,top:2}),bm),oc=(n,s,i)=>nc(Ab(n,s),jg(n),i.insetNorth(),Gm(),"north",gl(n,{top:2}),bm),qh=(n,s,i)=>nc(Ab(n,s),Ym(n,s),i.insetSouth(),Gv(),"south",gl(n,{bottom:3}),bm),kt=(n,s,i)=>nc(o1(n,s),Vg(n,s),i.insetEast(),Kv(),"east",gl(n,{right:0}),bm),Yp=(n,s,i)=>nc($y(n),Vg(n,s),i.insetWest(),t1(),"west",gl(n,{left:1}),bm),Hy=n=>{switch(n){case"north":return oc;case"northeast":return Il;case"northwest":return jf;case"south":return qh;case"southeast":return Iy;case"southwest":return s1;case"east":return kt;case"west":return Yp}},Pc=(n,s,i,f,b)=>H2(f).map(Hy).getOr(oc)(n,s,i,f,b),Xp=n=>{switch(n){case"north":return qh;case"northeast":return Iy;case"northwest":return s1;case"south":return oc;case"southeast":return Il;case"southwest":return jf;case"east":return Yp;case"west":return kt}},ym=(n,s,i,f,b)=>H2(f).map(Xp).getOr(oc)(n,s,i,f,b),zy=(n,s)=>{Df(n,Math.floor(s))},nx=ae((n,s)=>{zy(n,s),Ar(n,{"overflow-x":"hidden","overflow-y":"auto"})}),Gh=ae((n,s)=>{zy(n,s)}),kb=ae((n,s)=>{wg(n,Math.floor(s))});var Vf;(function(n){n.TopToBottom="toptobottom",n.BottomToTop="bottomtotop"})(Vf||(Vf={}));const Qp="data-alloy-vertical-dir",jy=n=>_i(n,s=>Xc(s)&&Jr(s,"data-alloy-vertical-dir")===Vf.BottomToTop);var Ec;(function(n){n[n.HighlightMenuAndItem=0]="HighlightMenuAndItem",n[n.HighlightJustMenu=1]="HighlightJustMenu",n[n.HighlightNone=2]="HighlightNone"})(Ec||(Ec={}));const cd={init:()=>ud({readState:ae("No State required")})},ud=n=>n,z2={can:Mt,abort:yt,run:J},Jp=n=>{if(!_o(n,"can")&&!_o(n,"abort")&&!_o(n,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(n,null,2)+" does not have can, abort, or run!");return{...z2,...n}},ox=(n,s)=>(...i)=>jo(n,(f,b)=>f&&s(b).apply(void 0,i),!0),_b=(n,s)=>(...i)=>jo(n,(f,b)=>f||s(b).apply(void 0,i),!1),sx=n=>be(n)?{can:Mt,abort:yt,run:n}:n,rx=n=>{const s=ox(n,b=>b.can),i=_b(n,b=>b.abort);return{can:s,abort:i,run:(...b)=>{dt(n,w=>{w.run.apply(void 0,b)})}}},cs=(n,s)=>{a1(n,n.element,s,{})},no=(n,s,i)=>{a1(n,n.element,s,i)},r1=n=>{cs(n,Ns())},Vy=(n,s,i)=>{a1(n,s,i,{})},a1=(n,s,i,f)=>{const b={target:s,...f};n.getSystem().triggerEvent(i,s,b)},ax=(n,s,i,f)=>{const b={...f,target:s};n.getSystem().triggerEvent(i,s,b)},i1=(n,s,i,f)=>{n.getSystem().triggerEvent(i,s,f.event)},na=n=>vc(n),Db=(n,s)=>({key:n,value:Jp({abort:s})}),l1=(n,s)=>({key:n,value:Jp({can:s})}),Xm=n=>({key:n,value:Jp({run:(s,i)=>{i.event.prevent()}})}),Nt=(n,s)=>({key:n,value:Jp({run:s})}),mf=(n,s,i)=>({key:n,value:Jp({run:(f,b)=>{s.apply(void 0,[f,b].concat(i))}})}),vm=n=>s=>Nt(n,s),zd=n=>s=>({key:n,value:Jp({run:(i,f)=>{gy(i,f)&&s(i,f)}})}),Tc=(n,s)=>Nt(n,(i,f)=>{i.getSystem().getByUid(s).each(b=>{i1(b,b.element,n,f)})}),Qm=(n,s,i)=>{const f=s.partUids[i];return Tc(n,f)},e0=(n,s)=>Nt(n,(i,f)=>{const b=f.event,w=i.getSystem().getByDom(b.target).getOrThunk(()=>yr(b.target,D=>i.getSystem().getByDom(D).toOptional(),yt).getOr(i));s(i,w,f)}),xm=n=>Nt(n,(s,i)=>{i.cut()}),ZC=n=>Nt(n,(s,i)=>{i.stop()}),t0=(n,s)=>zd(n)(s),Rr=zd(Lc()),hf=zd(wc()),ix=zd(Pf()),wm=vm(Ns()),jd=n=>({classes:Ce(n.classes)?[]:n.classes,attributes:Ce(n.attributes)?{}:n.attributes,styles:Ce(n.styles)?{}:n.styles}),sc=(n,s)=>({...n,attributes:{...n.attributes,...s.attributes},styles:{...n.styles,...s.styles},classes:n.classes.concat(s.classes)}),n0=(n,s,i)=>wm(f=>{i(f,n,s)}),Uy=(n,s,i)=>ix((f,b)=>{i(f,n,s)}),Zy=(n,s,i,f,b,w)=>{const S=Lu(n),D=$i(s,[D2("config",n)]);return Ob(S,D,s,i,f,b,w)},Wy=(n,s,i,f,b,w)=>{const S=n,D=$i(s,[um("config",n)]);return Ob(S,D,s,i,f,b,w)},j2=(n,s,i)=>Vv((b,...w)=>{const S=[b].concat(w);return b.config({name:ae(n)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+n+". Using API: "+i)},D=>{const B=Array.prototype.slice.call(S,1);return s.apply(void 0,[b,D.config,D.state].concat(B))})},i,s),lx=n=>({key:n,value:void 0}),Ob=(n,s,i,f,b,w,S)=>{const D=K=>_o(K,i)?K[i]():P.none(),B=Ms(b,(K,ie)=>j2(i,K,ie)),Z={...Ms(w,(K,ie)=>hb(K,ie)),...B,revoke:dn(lx,i),config:K=>{const ie=Mc(i+"-config",n,K);return{key:i,value:{config:ie,me:Z,configAsRaw:rl(()=>Mc(i+"-config",n,K)),initialConfig:K,state:S}}},schema:ae(s),exhibit:(K,ie)=>ws(D(K),$n(f,"exhibit"),(he,xe)=>xe(ie,he.config,he.state)).getOrThunk(()=>jd({})),name:ae(i),handlers:K=>D(K).map(ie=>$n(f,"events").getOr(()=>({}))(ie.config,ie.state)).getOr({})};return Z},a=n=>vc(n),d=Lu([Zt("fields"),Zt("name"),pt("active",{}),pt("apis",{}),pt("state",cd),pt("extra",{})]),g=n=>{const s=Mc("Creating behaviour: "+n.name,d,n);return Zy(s.fields,s.name,s.active,s.apis,s.extra,s.state)},C=Lu([Zt("branchKey"),Zt("branches"),Zt("name"),pt("active",{}),pt("apis",{}),pt("state",cd),pt("extra",{})]),R=n=>{const s=Mc("Creating behaviour: "+n.name,C,n);return Wy(Kl(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},$=ae(void 0),se=(n,s)=>{const i=na(s);return g({fields:[Zt("enabled")],name:n,active:{events:ae(i)}})},de=(n,s)=>{const i=se(n,s);return{key:n,value:{config:{},me:i,configAsRaw:ae({}),initialConfig:{},state:cd}}},it=n=>({init:()=>{const i=Nn(n);return{get:()=>i.get(),set:D=>i.set(D),clear:()=>i.set(n),readState:()=>i.get()}}}),Vt=(n,s)=>{s.ignore||(Pa(n.element),s.onFocus(n))};var Yt=Object.freeze({__proto__:null,focus:Vt,blur:(n,s)=>{s.ignore||fa(n.element)},isFocused:n=>eu(n.element)}),As=Object.freeze({__proto__:null,exhibit:(n,s)=>{const i=s.ignore?{}:{attributes:{tabindex:"-1"}};return jd(i)},events:n=>na([Nt(Ff(),(s,i)=>{Vt(s,n),i.stop()})].concat(n.stopMousedown?[Nt(du(),(s,i)=>{i.event.prevent()})]:[]))}),mi=[Rs("onFocus"),pt("stopMousedown",!1),pt("ignore",!1)];const Qe=g({fields:mi,name:"focusing",active:As,apis:Yt}),mt=[8],Ht=[9],fn=[13],us=[27],Hs=[32],Wo=[37],tr=[38],Dr=[39],Pr=[40],gf=ae("tooltipping.close.all"),Jm=ae("dismiss.popups"),pl=ae("reposition.popups"),o0=ae("mouse.released"),LT=(n,s,i)=>{const f=Ot(n.slice(0,s)),b=Ot(n.slice(s+1));return Be(f.concat(b),i)},WC=(n,s,i)=>{const f=Ot(n.slice(0,s));return Be(f,i)},FT=(n,s,i)=>{const f=n.slice(0,s),b=n.slice(s+1);return Be(b.concat(f),i)},u_=(n,s,i)=>{const f=n.slice(s+1);return Be(f,i)},zs=n=>s=>{const i=s.raw;return Ue(n,i.which)},eh=n=>s=>Je(n,i=>i(s)),c1=n=>n.raw.shiftKey===!0,CB=n=>n.raw.ctrlKey===!0,qy=We(c1),Zs=(n,s)=>({matches:n,classification:s}),d_=(n,s)=>Be(n,f=>f.matches(s)).map(f=>f.classification),f_=(n,s,i,f)=>{const b=ea(n.element,"."+s.highlightClass);dt(b,w=>{Pt(f,D=>oe(D.element,w))||(ma(w,s.highlightClass),n.getSystem().getByDom(w).each(D=>{s.onDehighlight(n,D),cs(D,Hp())}))})},SB=(n,s,i)=>f_(n,s,i,[]),EB=(n,s,i,f)=>{dx(n,s,i,f)&&(ma(f.element,s.highlightClass),s.onDehighlight(n,f),cs(f,Hp()))},cx=(n,s,i,f)=>{f_(n,s,i,[f]),dx(n,s,i,f)||(Qs(f.element,s.highlightClass),s.onHighlight(n,f),cs(f,fb()))},m_=(n,s,i)=>{V2(n,s).each(f=>{cx(n,s,i,f)})},h_=(n,s,i)=>{qC(n,s).each(f=>{cx(n,s,i,f)})},ux=(n,s,i,f)=>{p_(n,s,i,f).fold(b=>{throw b},b=>{cx(n,s,i,b)})},g_=(n,s,i,f)=>{const b=IT(n,s);Be(b,f).each(S=>{cx(n,s,i,S)})},dx=(n,s,i,f)=>ka(f.element,s.highlightClass),PT=(n,s,i)=>ar(n.element,"."+s.highlightClass).bind(f=>n.getSystem().getByDom(f).toOptional()),p_=(n,s,i,f)=>{const b=ea(n.element,"."+s.itemClass);return P.from(b[f]).fold(()=>Bn.error(new Error("No element found with index "+f)),n.getSystem().getByDom)},V2=(n,s,i)=>ar(n.element,"."+s.itemClass).bind(f=>n.getSystem().getByDom(f).toOptional()),qC=(n,s,i)=>{const f=ea(n.element,"."+s.itemClass);return(f.length>0?P.some(f[f.length-1]):P.none()).bind(w=>n.getSystem().getByDom(w).toOptional())},GC=(n,s,i,f)=>{const b=ea(n.element,"."+s.itemClass);return Ye(b,S=>ka(S,s.highlightClass)).bind(S=>{const D=Vo(S,f,0,b.length-1);return n.getSystem().getByDom(b[D]).toOptional()})},$T=(n,s,i)=>GC(n,s,i,-1),b_=(n,s,i)=>GC(n,s,i,1),IT=(n,s,i)=>{const f=ea(n.element,"."+s.itemClass);return Ho(He(f,b=>n.getSystem().getByDom(b).toOptional()))};var KC=Object.freeze({__proto__:null,dehighlightAll:SB,dehighlight:EB,highlight:cx,highlightFirst:m_,highlightLast:h_,highlightAt:ux,highlightBy:g_,isHighlighted:dx,getHighlighted:PT,getFirst:V2,getLast:qC,getPrevious:$T,getNext:b_,getCandidates:IT}),HT=[Zt("highlightClass"),Zt("itemClass"),Rs("onHighlight"),Rs("onDehighlight")];const lr=g({fields:HT,name:"highlighting",apis:KC}),zT=(n,s,i)=>{s.exists(b=>i.exists(w=>oe(w,b)))||no(n,$h(),{prevFocus:s,newFocus:i})},YC=()=>{const n=i=>ii(i.element);return{get:n,set:(i,f)=>{const b=n(i);i.getSystem().triggerFocus(f,i.element);const w=n(i);zT(i,b,w)}}},U2=()=>{const n=i=>lr.getHighlighted(i).map(f=>f.element);return{get:n,set:(i,f)=>{const b=n(i);i.getSystem().getByDom(f).fold(J,S=>{lr.highlight(i,S)});const w=n(i);zT(i,b,w)}}},s0=(n,s,i,f,b)=>{const w=()=>n.concat([pt("focusManager",YC()),ed("focusInside","onFocus",cm(z=>Ue(["onFocus","onEnterOrSpace","onApi"],z)?Bn.value(z):Bn.error("Invalid value for focusInside"))),er("handler",B),er("state",s),er("sendFocusIn",b)]),S=(z,Z,K,ie,he)=>{const xe=K(z,Z,ie,he);return d_(xe,Z.event).bind(De=>De(z,Z,ie,he))},B={schema:w,processKey:S,toEvents:(z,Z)=>{const K=z.focusInside!==Fg.OnFocusMode?P.none():b(z).map(xe=>Nt(Ff(),(De,Ie)=>{xe(De,z,Z),Ie.stop()})),ie=(xe,De)=>{const Ie=zs(Hs.concat(fn))(De.event);z.focusInside===Fg.OnEnterOrSpaceMode&&Ie&&gy(xe,De)&&b(z).each(Ee=>{Ee(xe,z,Z),De.stop()})},he=[Nt(Ki(),(xe,De)=>{S(xe,De,i,z,Z).fold(()=>{ie(xe,De)},Ie=>{De.stop()})}),Nt(Fu(),(xe,De)=>{S(xe,De,f,z,Z).each(Ie=>{De.stop()})})];return na(K.toArray().concat(he))}};return B},XC=n=>{const s=[gr("onEscape"),gr("onEnter"),pt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),pt("firstTabstop",0),pt("useTabstopAt",Mt),gr("visibilitySelector")].concat([n]),i=(Ee,Ke)=>{const ot=Ee.visibilitySelector.bind(wt=>yi(Ke,wt)).getOr(Ke);return bi(ot)>0},f=(Ee,Ke)=>{const ot=ea(Ee.element,Ke.selector),wt=Eo(ot,_t=>i(Ke,_t));return P.from(wt[Ke.firstTabstop])},b=(Ee,Ke)=>Ke.focusManager.get(Ee).bind(ot=>yi(ot,Ke.selector)),w=(Ee,Ke)=>i(Ee,Ke)&&Ee.useTabstopAt(Ke),S=(Ee,Ke,ot)=>{f(Ee,Ke).each(wt=>{Ke.focusManager.set(Ee,wt)})},D=(Ee,Ke,ot,wt,_t)=>_t(Ke,ot,Tn=>w(wt,Tn)).fold(()=>wt.cyclic?P.some(!0):P.none(),Tn=>(wt.focusManager.set(Ee,Tn),P.some(!0))),B=(Ee,Ke,ot,wt)=>{const _t=Eo(ea(Ee.element,ot.selector),Tn=>i(ot,Tn));return b(Ee,ot).bind(Tn=>Ye(_t,dn(oe,Tn)).bind(nn=>D(Ee,_t,nn,ot,wt)))},z=(Ee,Ke,ot)=>{const wt=ot.cyclic?LT:WC;return B(Ee,Ke,ot,wt)},Z=(Ee,Ke,ot)=>{const wt=ot.cyclic?FT:u_;return B(Ee,Ke,ot,wt)},K=Ee=>vp(Ee).bind(es).exists(Ke=>oe(Ke,Ee)),ie=(Ee,Ke,ot)=>b(Ee,ot).filter(wt=>!ot.useTabstopAt(wt)).bind(wt=>(K(wt)?z:Z)(Ee,Ke,ot)),he=(Ee,Ke,ot)=>ot.onEnter.bind(wt=>wt(Ee,Ke)),xe=(Ee,Ke,ot)=>(Ee.getSystem().broadcastOn([gf()],{closedTooltip:()=>{Ke.stop()}}),Ke.isStopped()?P.none():ot.onEscape.bind(wt=>wt(Ee,Ke))),De=ae([Zs(eh([c1,zs(Ht)]),z),Zs(zs(Ht),Z),Zs(eh([qy,zs(fn)]),he)]),Ie=ae([Zs(zs(us),xe),Zs(zs(Ht),ie)]);return s0(s,cd.init,De,Ie,()=>P.some(S))};var y_=XC(yc("cyclic",yt)),jT=XC(yc("cyclic",Mt));const Gy=n=>Nl("input")(n)&&Jr(n,"type")!=="radio"||Nl("textarea")(n),VT=(n,s,i)=>(Vy(n,i,Ns()),P.some(!0)),fx=(n,s,i)=>Gy(i)&&zs(Hs)(s.event)?P.none():VT(n,s,i),mx=(n,s)=>P.some(!0),QC=[pt("execute",fx),pt("useSpace",!1),pt("useEnter",!0),pt("useControlEnter",!1),pt("useDown",!1)],u1=(n,s,i)=>i.execute(n,s,n.element),UT=(n,s,i,f)=>{const b=i.useSpace&&!Gy(n.element)?Hs:[],w=i.useEnter?fn:[],S=i.useDown?Pr:[],D=b.concat(w).concat(S);return[Zs(zs(D),u1)].concat(i.useControlEnter?[Zs(eh([CB,zs(fn)]),u1)]:[])},ZT=(n,s,i,f)=>i.useSpace&&!Gy(n.element)?[Zs(zs(Hs),mx)]:[];var WT=s0(QC,cd.init,UT,ZT,()=>P.none());const qT=()=>{const n=xo();return ud({readState:()=>n.get().map(b=>({numRows:String(b.numRows),numColumns:String(b.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(b,w)=>{n.set({numRows:b,numColumns:w})},getNumRows:()=>n.get().map(b=>b.numRows),getNumColumns:()=>n.get().map(b=>b.numColumns)})};var GT=Object.freeze({__proto__:null,flatgrid:qT,init:n=>n.state(n)});const Z2=n=>(s,i,f,b)=>{const w=n(s.element);return G2(w,s,i,f,b)},W2=(n,s)=>{const i=Eg(n,s);return Z2(i)},hx=(n,s)=>{const i=Eg(s,n);return Z2(i)},q2=n=>(s,i,f,b)=>G2(n,s,i,f,b),G2=(n,s,i,f,b)=>f.focusManager.get(s).bind(S=>n(s.element,S,f,b)).map(S=>(f.focusManager.set(s,S),!0)),Hn=q2,d1=q2,Ug=q2,gx=(n,s)=>Ye(n,s).map(i=>({index:i,candidates:n})),KT=(n,s,i)=>{const f=S=>oe(S,s),b=ea(n,i),w=Eo(b,Ga);return gx(w,f)},JC=(n,s)=>Ye(n,i=>oe(s,i)),eS=(n,s,i,f)=>{const b=Math.floor(s/i),w=s%i;return f(b,w).bind(S=>{const D=S.row*i+S.column;return D>=0&&D<n.length?P.some(n[D]):P.none()})},YT=(n,s,i,f,b)=>eS(n,s,f,(w,S)=>{const B=w===i-1?n.length-w*f:f,z=Vo(S,b,0,B-1);return P.some({row:w,column:z})}),XT=(n,s,i,f,b)=>eS(n,s,f,(w,S)=>{const D=Vo(w,b,0,i-1),z=D===i-1?n.length-D*f:f,Z=is(S,0,z-1);return P.some({row:D,column:Z})}),QT=(n,s,i,f)=>YT(n,s,i,f,1),K2=(n,s,i,f)=>YT(n,s,i,f,-1),bl=(n,s,i,f)=>XT(n,s,i,f,-1),th=(n,s,i,f)=>XT(n,s,i,f,1),Y2=[Zt("selector"),pt("execute",fx),tc("onEscape"),pt("captureTab",!1),mb()],JT=(n,s,i)=>{ar(n.element,s.selector).each(f=>{s.focusManager.set(n,f)})},eA=(n,s)=>s.focusManager.get(n).bind(i=>yi(i,s.selector)),tA=(n,s,i,f)=>eA(n,i).bind(b=>i.execute(n,s,b)),X2=n=>(s,i,f,b)=>KT(s,i,f.selector).bind(w=>n(w.candidates,w.index,b.getNumRows().getOr(f.initSize.numRows),b.getNumColumns().getOr(f.initSize.numColumns))),tS=(n,s,i)=>i.captureTab?P.some(!0):P.none(),nA=(n,s,i)=>i.onEscape(n,s),oA=X2(K2),px=X2(QT),nS=X2(bl),Q2=X2(th),oS=ae([Zs(zs(Wo),W2(oA,px)),Zs(zs(Dr),hx(oA,px)),Zs(zs(tr),Hn(nS)),Zs(zs(Pr),d1(Q2)),Zs(eh([c1,zs(Ht)]),tS),Zs(eh([qy,zs(Ht)]),tS),Zs(zs(Hs.concat(fn)),tA)]),v_=ae([Zs(zs(us),nA),Zs(zs(Hs),mx)]);var sA=s0(Y2,qT,oS,v_,()=>P.some(JT));const rA=(n,s,i,f,b)=>{const w=D=>vd(D)==="button"&&Jr(D,"disabled")==="disabled",S=(D,B,z)=>b(D,B,f,0,z.length-1,z[B],Z=>w(z[Z])?S(D,Z,z):P.from(z[Z]));return KT(n,i,s).bind(D=>{const B=D.index,z=D.candidates;return S(B,B,z)})},J2=(n,s,i,f)=>rA(n,s,i,f,(b,w,S,D,B,z,Z)=>{const K=is(w+S,D,B);return K===b?P.from(z):Z(K)}),Nb=(n,s,i,f)=>rA(n,s,i,f,(b,w,S,D,B,z,Z)=>{const K=Vo(w,S,D,B);return K===b?P.none():Z(K)}),aA=[Zt("selector"),pt("getInitial",P.none),pt("execute",fx),tc("onEscape"),pt("executeOnMove",!1),pt("allowVertical",!0),pt("allowHorizontal",!0),pt("cycles",!0)],iA=(n,s)=>s.focusManager.get(n).bind(i=>yi(i,s.selector)),ew=(n,s,i)=>iA(n,i).bind(f=>i.execute(n,s,f)),x_=(n,s,i)=>{s.getInitial(n).orThunk(()=>ar(n.element,s.selector)).each(f=>{s.focusManager.set(n,f)})},w_=(n,s,i)=>(i.cycles?Nb:J2)(n,i.selector,s,-1),Rb=(n,s,i)=>(i.cycles?Nb:J2)(n,i.selector,s,1),sS=n=>(s,i,f,b)=>n(s,i,f,b).bind(()=>f.executeOnMove?ew(s,i,f):P.some(!0)),C_=(n,s,i)=>i.onEscape(n,s),S_=(n,s,i,f)=>{const b=[...i.allowHorizontal?Wo:[]].concat(i.allowVertical?tr:[]),w=[...i.allowHorizontal?Dr:[]].concat(i.allowVertical?Pr:[]);return[Zs(zs(b),sS(W2(w_,Rb))),Zs(zs(w),sS(hx(w_,Rb))),Zs(zs(fn),ew),Zs(zs(Hs),ew)]},lA=ae([Zs(zs(Hs),mx),Zs(zs(us),C_)]);var E_=s0(aA,cd.init,S_,lA,()=>P.some(x_));const rS=(n,s,i)=>P.from(n[s]).bind(f=>P.from(f[i]).map(b=>({rowIndex:s,columnIndex:i,cell:b}))),tw=(n,s,i,f)=>{const w=n[s].length,S=Vo(i,f,0,w-1);return rS(n,s,S)},aS=(n,s,i,f)=>{const b=Vo(i,f,0,n.length-1),w=n[b].length,S=is(s,0,w-1);return rS(n,b,S)},Zg=(n,s,i,f)=>{const w=n[s].length,S=is(i+f,0,w-1);return rS(n,s,S)},cA=(n,s,i,f)=>{const b=is(i+f,0,n.length-1),w=n[b].length,S=is(s,0,w-1);return rS(n,b,S)},nw=(n,s,i)=>tw(n,s,i,1),T_=(n,s,i)=>tw(n,s,i,-1),f1=(n,s,i)=>aS(n,i,s,-1),A_=(n,s,i)=>aS(n,i,s,1),k_=(n,s,i)=>Zg(n,s,i,-1),AB=(n,s,i)=>Zg(n,s,i,1),kB=(n,s,i)=>cA(n,i,s,-1),Ky=(n,s,i)=>cA(n,i,s,1),bx=[cf("selectors",[Zt("row"),Zt("cell")]),pt("cycles",!0),pt("previousSelector",P.none),pt("execute",fx)],iS=(n,s,i)=>{s.previousSelector(n).orThunk(()=>{const b=s.selectors;return ar(n.element,b.cell)}).each(b=>{s.focusManager.set(n,b)})},__=(n,s,i)=>ii(n.element).bind(f=>i.execute(n,s,f)),D_=(n,s)=>He(n,i=>ea(i,s.selectors.cell)),ow=(n,s)=>(i,f,b)=>{const w=b.cycles?n:s;return yi(f,b.selectors.row).bind(S=>{const D=ea(S,b.selectors.cell);return JC(D,f).bind(B=>{const z=ea(i,b.selectors.row);return JC(z,S).bind(Z=>{const K=D_(z,b);return w(K,Z,B).map(ie=>ie.cell)})})})},uA=ow(T_,k_),dA=ow(nw,AB),yx=ow(f1,kB),sw=ow(A_,Ky),lS=ae([Zs(zs(Wo),W2(uA,dA)),Zs(zs(Dr),hx(uA,dA)),Zs(zs(tr),Hn(yx)),Zs(zs(Pr),d1(sw)),Zs(zs(Hs.concat(fn)),__)]),vx=ae([Zs(zs(Hs),mx)]);var cS=s0(bx,cd.init,lS,vx,()=>P.some(iS));const O_=[Zt("selector"),pt("execute",fx),pt("moveOnTab",!1)],xx=(n,s,i)=>i.focusManager.get(n).bind(f=>i.execute(n,s,f)),fA=(n,s,i)=>{ar(n.element,s.selector).each(f=>{s.focusManager.set(n,f)})},rw=(n,s,i)=>Nb(n,i.selector,s,-1),aw=(n,s,i)=>Nb(n,i.selector,s,1),Mb=(n,s,i,f)=>i.moveOnTab?Ug(rw)(n,s,i,f):P.none(),N_=(n,s,i,f)=>i.moveOnTab?Ug(aw)(n,s,i,f):P.none(),Wg=ae([Zs(zs(tr),Ug(rw)),Zs(zs(Pr),Ug(aw)),Zs(eh([c1,zs(Ht)]),Mb),Zs(eh([qy,zs(Ht)]),N_),Zs(zs(fn),xx),Zs(zs(Hs),xx)]),R_=ae([Zs(zs(Hs),mx)]);var mA=s0(O_,cd.init,Wg,R_,()=>P.some(fA));const M_=[tc("onSpace"),tc("onEnter"),tc("onShiftEnter"),tc("onLeft"),tc("onRight"),tc("onTab"),tc("onShiftTab"),tc("onUp"),tc("onDown"),tc("onEscape"),pt("stopSpaceKeyup",!1),gr("focusIn")],_B=(n,s,i)=>[Zs(zs(Hs),i.onSpace),Zs(eh([qy,zs(fn)]),i.onEnter),Zs(eh([c1,zs(fn)]),i.onShiftEnter),Zs(eh([c1,zs(Ht)]),i.onShiftTab),Zs(eh([qy,zs(Ht)]),i.onTab),Zs(zs(tr),i.onUp),Zs(zs(Pr),i.onDown),Zs(zs(Wo),i.onLeft),Zs(zs(Dr),i.onRight),Zs(zs(Hs),i.onSpace)],iw=(n,s,i)=>[...i.stopSpaceKeyup?[Zs(zs(Hs),mx)]:[],Zs(zs(us),i.onEscape)];var B_=s0(M_,cd.init,_B,iw,n=>n.focusIn);const L_=y_.schema(),F_=jT.schema(),uS=E_.schema(),P_=sA.schema(),hA=cS.schema(),dS=WT.schema(),$_=mA.schema(),I_=B_.schema();var fS=Object.freeze({__proto__:null,acyclic:L_,cyclic:F_,flow:uS,flatgrid:P_,matrix:hA,execution:dS,menu:$_,special:I_});const gA=n=>_o(n,"setGridSize"),io=R({branchKey:"mode",branches:fS,name:"keying",active:{events:(n,s)=>n.handler.toEvents(n,s)},apis:{focusIn:(n,s,i)=>{s.sendFocusIn(s).fold(()=>{n.getSystem().triggerFocus(n.element,n.element)},f=>{f(n,s,i)})},setGridSize:(n,s,i,f,b)=>{gA(i)?i.setGridSize(f,b):console.error("Layout does not support setGridSize")}},state:GT}),wx=me("alloy-premade"),pA=n=>(Object.defineProperty(n.element.dom,wx,{value:n.uid,writable:!0}),za(wx,n)),H_=n=>Yo(n.dom,wx),mS=n=>$n(n,wx),Cx=n=>R2((s,...i)=>n(s.getApis(),s,...i),n),lw=n=>n.getSystem().isConnected(),Sx=n=>{cs(n,wc());const s=n.components();dt(s,Sx)},Yy=n=>{const s=n.components();dt(s,Yy),cs(n,Lc())},hS=(n,s)=>{n.getSystem().addToWorld(s),Fs(n.element)&&Yy(s)},gS=n=>{Sx(n),n.getSystem().removeFromWorld(n)},bA=(n,s)=>{sa(n.element,s.element)},pS=n=>{dt(n.components(),s=>tu(s.element)),Cp(n.element),n.syncComponents()},yA=(n,s,i)=>{const f=n.components();pS(n);const b=i(s),w=xt(f,b);dt(w,S=>{Sx(S),n.getSystem().removeFromWorld(S)}),dt(b,S=>{lw(S)?bA(n,S):(n.getSystem().addToWorld(S),bA(n,S),Fs(n.element)&&Yy(S))}),n.syncComponents()},Xy=(n,s,i)=>{const f=n.components(),b=Le(s,D=>mS(D).toArray());dt(f,D=>{Ue(b,D)||gS(D)});const w=i(s),S=xt(f,w);dt(S,D=>{lw(D)&&gS(D)}),dt(w,D=>{lw(D)||hS(n,D)}),n.syncComponents()},r0=(n,s)=>{Qy(n,s,sa)},Qy=(n,s,i)=>{n.getSystem().addToWorld(s),i(n.element,s.element),Fs(n.element)&&Yy(s),n.syncComponents()},a0=n=>{Sx(n),tu(n.element),n.getSystem().removeFromWorld(n)},i0=n=>{const s=xl(n.element).bind(i=>n.getSystem().getByDom(i).toOptional());a0(n),s.each(i=>{i.syncComponents()})},vA=n=>{const s=n.components();dt(s,a0),Cp(n.element),n.syncComponents()},Ex=(n,s)=>{xA(n,s,sa)},nh=(n,s)=>{xA(n,s,xp)},xA=(n,s,i)=>{i(n,s.element);const f=Zu(s.element);dt(f,b=>{s.getByDom(b).each(Yy)})},wA=n=>{const s=Zu(n.element);dt(s,i=>{n.getByDom(i).each(Sx)}),tu(n.element)},bS=(n,s,i)=>tm(n,s).map(b=>{if(i.exists(S=>!oe(S,b))){const S=i.map(vd).getOr("span"),D=un.fromTag(S);return om(b,D),D}else return b}),yS=(n,s,i)=>{i.fold(()=>sa(n,s),f=>{oe(f,s)||(om(f,s),tu(f))})},CA=(n,s,i)=>{const f=He(s,i),b=Zu(n);return dt(b.slice(f.length),tu),f},SA=(n,s,i,f)=>{const b=tm(n,s),w=f(i,b),S=bS(n,s,b);return yS(n,w.element,S),w},z_=(n,s,i)=>CA(n,s,(f,b)=>SA(n,b,f,i)),EA=(n,s)=>CA(n,s,(i,f)=>{const b=tm(n,f);return yS(n,i,b),i}),Bb=(n,s)=>{const i=Ai(s),f=ai(i).bind(w=>{const S=D=>oe(w,D);return S(s)?P.some(s):Tg(s,S)}),b=n(s);return f.each(w=>{ai(i).filter(S=>oe(S,w)).fold(()=>{Pa(w)},J)}),b},vS=(n,s)=>{Bb(()=>{yA(n,s,()=>He(s,n.getSystem().build))},n.element)},TA=(n,s)=>{Bb(()=>{Xy(n,s,()=>z_(n.element,s,n.getSystem().buildOrPatch))},n.element)},xS=(n,s,i,f)=>{gS(s);const b=SA(n.element,i,f,n.getSystem().buildOrPatch);hS(n,b),n.syncComponents()},wS=(n,s,i)=>{const f=n.getSystem().build(i);Qy(n,f,s)},CS=(n,s,i,f)=>{i0(s),wS(n,(b,w)=>Mm(b,w,i),f)},j_=(n,s,i,f)=>(s.reuseDom?TA:vS)(n,f),Lb=(n,s,i,f)=>{wS(n,sa,f)},Fb=(n,s,i,f)=>{wS(n,wp,f)},cw=(n,s,i,f)=>{const b=uw(n);Be(b,S=>oe(f.element,S.element)).each(i0)},uw=(n,s)=>n.components(),AA=(n,s,i,f,b)=>{const w=uw(n);return P.from(w[f]).map(S=>(b.fold(()=>i0(S),D=>{(s.reuseDom?xS:CS)(n,S,f,D)}),S))};var kA=Object.freeze({__proto__:null,append:Lb,prepend:Fb,remove:cw,replaceAt:AA,replaceBy:(n,s,i,f,b)=>{const w=uw(n);return Ye(w,f).bind(S=>AA(n,s,i,S,b))},set:j_,contents:uw});const Po=g({fields:[Gi("reuseDom",!0)],name:"replacing",apis:kA}),dw=(n,s,i)=>oe(s,n.element)&&!oe(s,i),Uf=na([l1(Ff(),(n,s)=>{const i=s.event,f=i.originator,b=i.target;return dw(n,f,b)?(console.warn(Ff()+` did not get interpreted by the desired target. 
Originator: `+Bd(f)+`
Target: `+Bd(b)+`
Check the `+Ff()+" event handlers"),!1):!0})]);var Tx=Object.freeze({__proto__:null,events:Uf});const U_=ae("alloy-id-"),fw=ae("data-alloy-id"),Z_=U_(),SS=fw(),ES=(n,s)=>{const i=me(Z_+n);return Ax(s,i),i},Ax=(n,s)=>{Object.defineProperty(n.dom,SS,{value:s,writable:!0})},Kh=n=>{const s=Xc(n)?n.dom[SS]:null;return P.from(s)},Jy=n=>me(n),W_=lt,Pb=n=>{const s=b=>`The component must be in a context to execute: ${b}`+(n?`
`+Bd(n().element)+" is not in context.":""),i=b=>()=>{throw new Error(s(b))},f=b=>()=>{console.warn(s(b))};return{debugInfo:ae("fake"),triggerEvent:f("triggerEvent"),triggerFocus:f("triggerFocus"),triggerEscape:f("triggerEscape"),broadcast:f("broadcast"),broadcastOn:f("broadcastOn"),broadcastEvent:f("broadcastEvent"),build:i("build"),buildOrPatch:i("buildOrPatch"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:yt}},kx=Pb(),mw=(n,s)=>{const i=He(s,b=>$i(b.name(),[Zt("config"),pt("state",cd)])),f=ha("component.behaviours",uo(i),n.behaviours).fold(b=>{throw new Error(Mg(b)+`
Complete spec:
`+JSON.stringify(n,null,2))},lt);return{list:s,data:Ms(f,b=>{const w=b.map(S=>({config:S.config,state:S.state.init(S.config)}));return ae(w)})}},Hl=n=>n.list,q_=n=>n.data,TS=(n,s)=>{const i={};return _s(n,(f,b)=>{_s(f,(w,S)=>{const D=$n(i,S).getOr([]);i[S]=D.concat([s(b,w)])})}),i},m1=(n,s,i,f)=>{const b={...s};dt(i,Z=>{b[Z.name()]=Z.exhibit(n,f)});const w=TS(b,(Z,K)=>({name:Z,modification:K})),S=Z=>Lo(Z,(K,ie)=>({...ie.modification,...K}),{}),D=Lo(w.classes,(Z,K)=>K.modification.concat(Z),[]),B=S(w.attributes),z=S(w.styles);return jd({classes:D,attributes:B,styles:z})},qg=(n,s,i,f)=>{try{const b=vt(i,(w,S)=>{const D=w[s],B=S[s],z=f.indexOf(D),Z=f.indexOf(B);if(z===-1)throw new Error("The ordering for "+n+" does not have an entry for "+D+`.
Order specified: `+JSON.stringify(f,null,2));if(Z===-1)throw new Error("The ordering for "+n+" does not have an entry for "+B+`.
Order specified: `+JSON.stringify(f,null,2));return z<Z?-1:Z<z?1:0});return Bn.value(b)}catch(b){return Bn.error([b])}},AS=(n,s)=>({handler:n,purpose:s}),_A=(n,s)=>({cHandler:n,purpose:s}),G_=(n,s)=>_A(dn.apply(void 0,[n.handler].concat(s)),n.purpose),hw=n=>n.cHandler,_x=(n,s)=>({name:n,handler:s}),h1=(n,s)=>{const i={};return dt(n,f=>{i[f.name()]=f.handlers(s)}),i},gw=(n,s,i)=>{const f={...i,...h1(s,n)};return TS(f,_x)},pw=(n,s,i,f)=>{const b=gw(n,i,f);return bw(b,s)},g1=n=>{const s=sx(n);return(i,f,...b)=>{const w=[i,f].concat(b);s.abort.apply(void 0,w)?f.stop():s.can.apply(void 0,w)&&s.run.apply(void 0,w)}},Dx=(n,s)=>Bn.error(["The event ("+n+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(He(s,i=>i.name),null,2)]),kS=(n,s,i)=>{const f=s[i];return f?qg("Event: "+i,"name",n,f).map(b=>{const w=He(b,S=>S.handler);return rx(w)}):Dx(i,n)},bw=(n,s)=>{const i=Is(n,(f,b)=>(f.length===1?Bn.value(f[0].handler):kS(f,s,b)).map(S=>{const D=g1(S),B=f.length>1?Eo(s[b],z=>Pt(f,Z=>Z.name===z)).join(" > "):f[0].name;return za(b,AS(D,B))}));return O2(i,{})},Yh="alloy.base.behaviour",DA=uo([ml("dom","dom",Nd(),uo([Zt("tag"),pt("styles",{}),pt("classes",[]),pt("attributes",{}),gr("value"),gr("innerHtml")])),Zt("components"),Zt("uid"),pt("events",{}),pt("apis",{}),ml("eventOrder","eventOrder",Np({[Ns()]:["disabling",Yh,"toggling","typeaheadevents"],[Ff()]:[Yh,"focusing","keying"],[Pf()]:[Yh,"disabling","toggling","representing","tooltipping"],[Bf()]:[Yh,"representing","streaming","invalidating"],[wc()]:[Yh,"representing","item-events","toolbar-button-events","tooltipping"],[du()]:["focusing",Yh,"item-type-events"],[td()]:["focusing",Yh,"item-type-events"],[Jl()]:["item-type-events","tooltipping"],[Ph()]:["receiving","reflecting","tooltipping"]}),lf()),gr("domModification")]),Gg=n=>ha("custom.definition",DA,n),_S=n=>({...n.dom,uid:n.uid,domChildren:He(n.components,s=>s.element)}),yw=n=>n.domModification.fold(()=>jd({}),jd),ev=n=>n.events,Ox=(n,s)=>{const i=Io(n),f=Io(s),b=xt(f,i),w=xs(n,(S,D)=>!Yo(s,D)||S!==s[D]).t;return{toRemove:b,toSet:w}},vw=(n,s)=>{const{class:i,style:f,...b}=Nc(s),{toSet:w,toRemove:S}=Ox(n.attributes,b),D=()=>{dt(S,ot=>rr(s,ot)),_u(s,w)},B=ci(s),{toSet:z,toRemove:Z}=Ox(n.styles,B),K=()=>{dt(Z,ot=>rs(s,ot)),Ar(s,z)},ie=Nu(s),he=xt(ie,n.classes),xe=xt(n.classes,ie),De=()=>{Yu(s,xe),El(s,he)},Ie=ot=>{Rl(s,ot)},Ee=()=>{const ot=n.domChildren;EA(s,ot)},Ke=()=>{const ot=s,wt=n.value.getOrUndefined();wt!==pc(ot)&&Dd(ot,wt??"")};return D(),De(),K(),n.innerHtml.fold(Ee,Ie),Ke(),s},K_=n=>{const s=un.fromTag(n.tag);_u(s,n.attributes),Yu(s,n.classes),Ar(s,n.styles),n.innerHtml.each(f=>Rl(s,f));const i=n.domChildren;return Eh(s,i),n.value.each(f=>{Dd(s,f)}),s},OA=(n,s)=>{try{const i=vw(n,s);return P.some(i)}catch{return P.none()}},xw=n=>n.innerHtml.isSome()&&n.domChildren.length>0,Y_=(n,s)=>{const i=b=>vd(b)===n.tag&&!xw(n)&&!H_(b),f=s.filter(i).bind(b=>OA(n,b)).getOrThunk(()=>K_(n));return Ax(f,n.uid),f},DS=n=>{const s=$n(n,"behaviours").getOr({});return Le(Io(s),i=>{const f=s[i];return $e(f)?[f.me]:[]})},Xh=(n,s)=>mw(n,s),OS=n=>{const s=DS(n);return Xh(n,s)},X_=(n,s,i)=>{const f=_S(n),b=yw(n),w={"alloy.base.modification":b},S=s.length>0?m1(i,w,s,f):b;return sc(f,S)},NA=(n,s,i)=>{const f={"alloy.base.behaviour":ev(n)};return pw(i,n.eventOrder,s,f).getOrDie()},RA=(n,s)=>{const i=()=>ot,f=Nn(kx),b=Ju(Gg(n)),w=OS(n),S=Hl(w),D=q_(w),B=X_(b,S,D),z=Y_(B,s),Z=NA(b,S,D),K=Nn(b.components),ie=wt=>{f.set(wt)},he=()=>{f.set(Pb(i))},xe=()=>{const wt=Zu(z),_t=Le(wt,Tn=>f.get().getByDom(Tn).fold(()=>[],go));K.set(_t)},De=wt=>{const _t=D;return(be(_t[wt.name()])?_t[wt.name()]:()=>{throw new Error("Could not find "+wt.name()+" in "+JSON.stringify(n,null,2))})()},Ie=wt=>be(D[wt.name()]),Ee=()=>b.apis,Ke=wt=>D[wt]().map(_t=>_t.state.readState()).getOr("not enabled"),ot={uid:n.uid,getSystem:f.get,config:De,hasConfigured:Ie,spec:n,readState:Ke,getApis:Ee,connect:ie,disconnect:he,element:z,syncComponents:xe,components:K.get,events:Z};return ot},MA=(n,s)=>{const i=$n(n,"components").getOr([]);return s.fold(()=>He(i,E),f=>He(i,(b,w)=>y(b,tm(f,w))))},Q_=(n,s)=>{const{events:i,...f}=W_(n),b=MA(f,s),w={...f,events:{...Tx,...i},components:b};return Bn.value(RA(w,s))},Na=n=>{const s=un.fromText(n);return Zf({element:s})},Zf=n=>{const s=Mc("external.component",Lu([Zt("element"),gr("uid")]),n),i=Nn(Pb()),f=D=>{i.set(D)},b=()=>{i.set(Pb(()=>S))},w=s.uid.getOrThunk(()=>Jy("external"));Ax(s.element,w);const S={uid:w,getSystem:i.get,config:P.none,hasConfigured:yt,connect:f,disconnect:b,getApis:()=>({}),element:s.element,spec:n,readState:ae("No state"),syncComponents:J,components:ae([]),events:{}};return pA(S)},tv=Jy,m=n=>Yo(n,"uid"),y=(n,s)=>mS(n).getOrThunk(()=>{const i=m(n)?n:{uid:tv(""),...n};return Q_(i,s).getOrDie()}),E=n=>y(n,P.none()),_=pA;var ue=Object.freeze({__proto__:null,block:(n,s,i,f)=>{co(n.element,"aria-busy",!0);const b=s.getRoot(n).getOr(n),w=a([io.config({mode:"special",onTab:()=>P.some(!0),onShiftTab:()=>P.some(!0)}),Qe.config({})]),S=f(b,w),D=b.getSystem().build(S);Po.append(b,_(D)),D.hasConfigured(io)&&s.focus&&io.focusIn(D),i.isBlocked()||s.onBlock(n),i.blockWith(()=>Po.remove(b,D))},unblock:(n,s,i)=>{rr(n.element,"aria-busy"),i.isBlocked()&&s.onUnblock(n),i.clear()},isBlocked:(n,s,i)=>i.isBlocked()}),Se=[ir("getRoot",P.none),Gi("focus",!0),Rs("onBlock"),Rs("onUnblock")],ht=Object.freeze({__proto__:null,init:()=>{const n=Ci(),s=i=>{n.set({destroy:i})};return ud({readState:n.isSet,blockWith:s,clear:n.clear,isBlocked:n.isSet})}});const Jt=g({fields:Se,name:"blocking",apis:ue,state:ht});var On=Object.freeze({__proto__:null,getCurrent:(n,s,i)=>s.find(n)});const oo=[Zt("find")],Ft=g({fields:oo,name:"composing",apis:On});var Go=Object.freeze({__proto__:null,getCoupled:(n,s,i,f)=>i.getOrCreate(n,s,f),getExistingCoupled:(n,s,i,f)=>i.getExisting(n,s,f)}),qn=[Bc("others",Iv(Bn.value,lf()))],xr=Object.freeze({__proto__:null,init:()=>{const n={},s=(w,S)=>{if(Io(w.others).length===0)throw new Error("Cannot find any known coupled components");return $n(n,S)},i=(w,S,D)=>s(S,D).getOrThunk(()=>{const z=$n(S.others,D).getOrDie("No information found for coupled component: "+D)(w),Z=w.getSystem().build(z);return n[D]=Z,Z}),f=(w,S,D)=>s(S,D).orThunk(()=>($n(S.others,D).getOrDie("No information found for coupled component: "+D),P.none())),b=ae({});return ud({readState:b,getExisting:f,getOrCreate:i})}});const Uo=g({fields:qn,name:"coupling",apis:Go,state:xr}),el=["input","button","textarea","select"],Cm=(n,s,i)=>{(s.disabled()?Iu:Wf)(n,s)},l0=(n,s)=>s.useNative===!0&&Ue(el,vd(n.element)),p1=n=>$a(n.element,"disabled"),$b=n=>{co(n.element,"disabled","disabled")},$r=n=>{rr(n.element,"disabled")},dd=n=>Jr(n.element,"aria-disabled")==="true",wi=n=>{co(n.element,"aria-disabled","true")},Qh=n=>{co(n.element,"aria-disabled","false")},Iu=(n,s,i)=>{s.disableClass.each(b=>{Qs(n.element,b)}),(l0(n,s)?$b:wi)(n),s.onDisabled(n)},Wf=(n,s,i)=>{s.disableClass.each(b=>{ma(n.element,b)}),(l0(n,s)?$r:Qh)(n),s.onEnabled(n)},$c=(n,s)=>l0(n,s)?p1(n):dd(n);var Nx=Object.freeze({__proto__:null,enable:Wf,disable:Iu,isDisabled:$c,onLoad:Cm,set:(n,s,i,f)=>{(f?Iu:Wf)(n,s)}}),J_=Object.freeze({__proto__:null,exhibit:(n,s)=>jd({classes:s.disabled()?s.disableClass.toArray():[]}),events:(n,s)=>na([Db(Ns(),(i,f)=>$c(i,n)),Uy(n,s,Cm)])}),BA=[ir("disabled",yt),pt("useNative",!0),gr("disableClass"),Rs("onDisabled"),Rs("onEnabled")];const Xn=g({fields:BA,name:"disabling",active:J_,apis:Nx}),Vd=(n,s,i,f,b)=>{const w=S=>S+"px";return{position:n,left:s.map(w),top:i.map(w),right:f.map(w),bottom:b.map(w)}},eD=n=>({...n,position:P.some(n.position)}),Cw=(n,s)=>{qa(n,eD(s))},LA=(n,s)=>{const i=n.element;Qs(i,s.transitionClass),ma(i,s.fadeOutClass),Qs(i,s.fadeInClass),s.onShow(n)},Ib=(n,s)=>{const i=n.element;Qs(i,s.transitionClass),ma(i,s.fadeInClass),Qs(i,s.fadeOutClass),s.onHide(n)},tD=(n,s)=>n.y<s.bottom&&n.bottom>s.y,FA=(n,s)=>n.y>=s.y,NS=(n,s)=>n.bottom<=s.bottom,RS=(n,s,i)=>({location:"top",leftX:s,topY:i.bounds.y-n.y}),PA=(n,s,i)=>({location:"bottom",leftX:s,bottomY:n.bottom-i.bounds.bottom}),MS=n=>n.box.x-n.win.x,_z=(n,s,i)=>{const f=s.win,b=s.box,w=MS(s);return gs(n,S=>{switch(S){case"bottom":return NS(b,i.bounds)?P.none():P.some(PA(f,w,i));case"top":return FA(b,i.bounds)?P.none():P.some(RS(f,w,i));default:return P.none()}}).getOr({location:"no-dock"})},Dz=(n,s,i)=>Je(n,f=>{switch(f){case"bottom":return NS(s,i.bounds);case"top":return FA(s,i.bounds)}}),Oz=(n,s)=>{const i=s.optScrollEnv.fold(ae(n.bounds.y),f=>f.scrollElmTop+(n.bounds.y-f.currentScrollTop));return cr(n.bounds.x,i)},BS=(n,s)=>{const i=s.optScrollEnv.fold(ae(n.y),f=>n.y+f.currentScrollTop-f.scrollElmTop);return cr(n.x,i)},LS=(n,s,i)=>i.getInitialPos().map(f=>{const b=Oz(f,s);return{box:Fi(b.left,b.top,Bi(n),bi(n)),location:f.location}}),DB=(n,s,i,f,b)=>{const w=BS(s,i),S=Fi(w.left,w.top,s.width,s.height);f.setInitialPos({style:ci(n),position:hr(n,"position")||"static",bounds:S,location:b.location})},OB=(n,s,i,f,b)=>{f.getInitialPos().fold(()=>DB(n,s,i,f,b),()=>J)},NB=(n,s,i)=>i.getInitialPos().bind(f=>{switch(i.clearInitialPos(),f.position){case"static":return P.some({morph:"static"});case"absolute":const b=af(n).getOr(Ml()),w=Di(b),S=b.dom.scrollTop??0;return P.some({morph:"absolute",positionCss:Vd("absolute",$n(f.style,"left").map(D=>s.x-w.x),$n(f.style,"top").map(D=>s.y-w.y+S),$n(f.style,"right").map(D=>w.right-s.right),$n(f.style,"bottom").map(D=>w.bottom-s.bottom))});default:return P.none()}}),RB=(n,s,i)=>LS(n,s,i).filter(({box:f})=>Dz(i.getModes(),f,s)).bind(({box:f})=>NB(n,f,i)),FS=n=>{switch(n.location){case"top":return P.some({morph:"fixed",positionCss:Vd("fixed",P.some(n.leftX),P.some(n.topY),P.none(),P.none())});case"bottom":return P.some({morph:"fixed",positionCss:Vd("fixed",P.some(n.leftX),P.none(),P.none(),P.some(n.bottomY))});default:return P.none()}},Sw=(n,s,i)=>{const f=Di(n),b=bc(),w=_z(i.getModes(),{win:b,box:f},s);return w.location==="top"||w.location==="bottom"?(DB(n,f,s,i,w),FS(w)):P.none()},nD=(n,s,i)=>RB(n,s,i).orThunk(()=>s.optScrollEnv.bind(f=>LS(n,s,i)).bind(({box:f,location:b})=>{const w=bc(),S=MS({win:w,box:f}),D=b==="top"?RS(w,S,s):PA(w,S,s);return FS(D)})),Nz=(n,s,i)=>{const f=n.element;return to(Vr(f,"position"),"fixed")?nD(f,s,i):Sw(f,s,i)},Rz=(n,s,i)=>{const f=n.element;return LS(f,s,i).bind(({box:b})=>NB(f,b,i))},MB=(n,s,i,f)=>{const b=Di(n),w=bc(),S=MS({win:w,box:b}),D=f(w,S,s);return D.location==="bottom"||D.location==="top"?(OB(n,b,s,i,D),FS(D)):P.none()},Hb=(n,s,i)=>{i.setDocked(!1),dt(["left","right","top","bottom","position"],f=>rs(n.element,f)),s.onUndocked(n)},PS=(n,s,i,f)=>{const b=f.position==="fixed";i.setDocked(b),Cw(n.element,f),(b?s.onDocked:s.onUndocked)(n)},$A=(n,s,i,f,b=!1)=>{s.contextual.each(w=>{w.lazyContext(n).each(S=>{const D=tD(S,f.bounds);D!==i.isVisible()&&(i.setVisible(D),b&&!D?(Yu(n.element,[w.fadeOutClass]),w.onHide(n)):(D?LA:Ib)(n,w))})})},$S=(n,s,i,f,b)=>{$A(n,s,i,f,!0),PS(n,s,i,b.positionCss)},BB=(n,s,i,f,b)=>{switch(b.morph){case"static":return Hb(n,s,i);case"absolute":return PS(n,s,i,b.positionCss);case"fixed":return $S(n,s,i,f,b)}},IA=(n,s,i)=>{const f=s.lazyViewport(n);$A(n,s,i,f),Nz(n,f,i).each(b=>{BB(n,s,i,f,b)})},oD=(n,s,i)=>{const f=n.element;i.setDocked(!1);const b=s.lazyViewport(n);Rz(n,b,i).each(w=>{switch(w.morph){case"static":{Hb(n,s,i);break}case"absolute":{PS(n,s,i,w.positionCss);break}}}),i.setVisible(!0),s.contextual.each(w=>{El(f,[w.fadeInClass,w.fadeOutClass,w.transitionClass]),w.onShow(n)}),HA(n,s,i)},HA=(n,s,i)=>{n.getSystem().isConnected()&&IA(n,s,i)},LB=(n,s,i)=>{i.isDocked()&&oD(n,s,i)},u0=n=>(s,i,f)=>{const b=i.lazyViewport(s);MB(s.element,b,f,n).each(S=>{$S(s,i,f,b,S)})},Mz=u0(RS),Bz=u0(PA);var sD=Object.freeze({__proto__:null,refresh:HA,reset:LB,isDocked:(n,s,i)=>i.isDocked(),getModes:(n,s,i)=>i.getModes(),setModes:(n,s,i,f)=>i.setModes(f),forceDockToTop:Mz,forceDockToBottom:Bz}),FB=Object.freeze({__proto__:null,events:(n,s)=>na([t0(Fh(),(i,f)=>{n.contextual.each(b=>{ka(i.element,b.transitionClass)&&(El(i.element,[b.transitionClass,b.fadeInClass]),(s.isVisible()?b.onShown:b.onHidden)(i)),f.stop()})}),Nt(fm(),(i,f)=>{HA(i,n,s)}),Nt(od(),(i,f)=>{HA(i,n,s)}),Nt(xi(),(i,f)=>{LB(i,n,s)})])}),rD=[$i("contextual",[Xa("fadeInClass"),Xa("fadeOutClass"),Xa("transitionClass"),uu("lazyContext"),Rs("onShow"),Rs("onShown"),Rs("onHide"),Rs("onHidden")]),ir("lazyViewport",()=>({bounds:bc(),optScrollEnv:P.none()})),Vm("modes",["top","bottom"],Pi),Rs("onDocked"),Rs("onUndocked")],PB=Object.freeze({__proto__:null,init:n=>{const s=Nn(!1),i=Nn(!0),f=xo(),b=Nn(n.modes),w=()=>`docked:  ${s.get()}, visible: ${i.get()}, modes: ${b.get().join(",")}`;return ud({isDocked:s.get,setDocked:s.set,getInitialPos:f.get,setInitialPos:f.set,clearInitialPos:f.clear,isVisible:i.get,setVisible:i.set,getModes:b.get,setModes:b.set,readState:w})}});const ei=g({fields:rD,name:"docking",active:FB,apis:sD,state:PB}),aD=Ba.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),zA=n=>s=>s.translate(-n.left,-n.top),HS=n=>s=>s.translate(n.left,n.top),b1=n=>(s,i)=>jo(n,(f,b)=>b(f),cr(s,i)),jA=(n,s,i)=>n.fold(b1([HS(i),zA(s)]),b1([zA(s)]),b1([])),Ew=(n,s,i)=>n.fold(b1([HS(i)]),b1([]),b1([HS(s)])),iD=(n,s,i)=>n.fold(b1([]),b1([zA(i)]),b1([HS(s),zA(i)])),$B=(n,s,i,f,b,w)=>{const S=Ew(n,b,w),D=Ew(s,b,w);return Math.abs(S.left-D.left)<=i&&Math.abs(S.top-D.top)<=f},IB=(n,s,i,f,b,w)=>{const S=Ew(n,b,w),D=Ew(s,b,w),B=Math.abs(S.left-D.left),z=Math.abs(S.top-D.top);return cr(B,z)},lD=(n,s,i)=>{const f=n.fold((b,w)=>({position:P.some("absolute"),left:P.some(b+"px"),top:P.some(w+"px")}),(b,w)=>({position:P.some("absolute"),left:P.some(b-i.left+"px"),top:P.some(w-i.top+"px")}),(b,w)=>({position:P.some("fixed"),left:P.some(b+"px"),top:P.some(w+"px")}));return{right:P.none(),bottom:P.none(),...f}},VA=(n,s,i)=>n.fold((f,b)=>y1(f+s,b+i),(f,b)=>Yg(f+s,b+i),(f,b)=>Rx(f+s,b+i)),UA=(n,s,i,f)=>{const b=(w,S)=>(D,B)=>{const z=w(s,i,f);return S(D.getOr(z.left),B.getOr(z.top))};return n.fold(b(iD,y1),b(Ew,Yg),b(jA,Rx))},y1=aD.offset,Yg=aD.absolute,Rx=aD.fixed,HB=(n,s)=>{const i=Jr(n,s);return Ce(i)?NaN:parseInt(i,10)},Lz=(n,s)=>{const i=n.element,f=HB(i,s.leftAttr),b=HB(i,s.topAttr);return isNaN(f)||isNaN(b)?P.none():P.some(cr(f,b))},Fz=(n,s,i)=>{const f=n.element;co(f,s.leftAttr,i.left+"px"),co(f,s.topAttr,i.top+"px")},zB=(n,s)=>{const i=n.element;rr(i,s.leftAttr),rr(i,s.topAttr)},Pz=(n,s,i,f)=>Lz(n,s).fold(()=>i,b=>Rx(b.left+f.left,b.top+f.top)),jB=(n,s,i,f,b,w)=>{const S=Pz(n,s,i,f),D=s.mustSnap?UB(n,s,S,b,w):Tw(n,s,S,b,w),B=jA(S,b,w);return Fz(n,s,B),D.fold(()=>({coord:Rx(B.left,B.top),extra:P.none()}),z=>({coord:z.output,extra:z.extra}))},$z=(n,s)=>{zB(n,s)},VB=(n,s,i,f)=>gs(n,b=>{const w=b.sensor;return $B(s,w,b.range.left,b.range.top,i,f)?P.some({output:UA(b.output,s,i,f),extra:b.extra}):P.none()}),UB=(n,s,i,f,b)=>{const w=s.getSnapPoints(n);return VB(w,i,f,b).orThunk(()=>jo(w,(B,z)=>{const Z=z.sensor,K=IB(i,Z,z.range.left,z.range.top,f,b);return B.deltas.fold(()=>({deltas:P.some(K),snap:P.some(z)}),ie=>{const he=(K.left+K.top)/2,xe=(ie.left+ie.top)/2;return he<=xe?{deltas:P.some(K),snap:P.some(z)}:B})},{deltas:P.none(),snap:P.none()}).snap.map(B=>({output:UA(B.output,i,f,b),extra:B.extra})))},Tw=(n,s,i,f,b)=>{const w=s.getSnapPoints(n);return VB(w,i,f,b)},ZB=(n,s,i)=>({coord:UA(n.output,n.output,s,i),extra:n.extra});var Hz=Object.freeze({__proto__:null,snapTo:(n,s,i,f)=>{const b=s.getTarget(n.element);if(s.repositionTarget){const w=Oc(n.element),S=Aa(w),D=J1(b),B=ZB(f,S,D),z=lD(B.coord,S,D);qa(b,z)}}});const Ic=(n,s)=>Lh(n,{},He(s,i=>_2(i.name(),"Cannot configure "+i.name()+" for "+n)).concat([yc("dump",lt)])),zS=n=>n.dump,zu=(n,s)=>({...a(s),...n.dump}),Xg={field:Ic,augment:zu,get:zS},zz=(n,s)=>(n.length>0?[cf("parts",n)]:[]).concat([Zt("uid"),pt("dom",{}),pt("components",[]),jv("originalSpec"),pt("debug.sketcher",{})]).concat(s),WB=(n,s,i,f,b)=>{const w=zz(f,b);return Mc(n+" [SpecSchema]",Lu(w.concat(s)),i)},jz=(n,s,i,f)=>{const b=WA(f),w=WB(n,s,b,[],[]);return i(w,b)},cD=(n,s,i,f,b)=>{const w=WA(b),S=Hi(i),D=Wm(i),B=WB(n,s,w,S,[D]),z=Fc(n,B,i),Z=vb(n,B,z.internals());return f(B,Z,w,z.externals())},ZA=n=>Yo(n,"uid"),WA=n=>ZA(n)?n:{...n,uid:Jy("uid")},Vz=n=>n.uid!==void 0,dne=Lu([Zt("name"),Zt("factory"),Zt("configFields"),pt("apis",{}),pt("extraApis",{})]),qB=Lu([Zt("name"),Zt("factory"),Zt("configFields"),Zt("partFields"),pt("apis",{}),pt("extraApis",{})]),oh=n=>{const s=Mc("Sketcher for "+n.name,dne,n),i=w=>jz(s.name,s.configFields,s.factory,w),f=Ms(s.apis,Cx),b=Ms(s.extraApis,(w,S)=>hb(w,S));return{name:s.name,configFields:s.configFields,sketch:i,...f,...b}},pf=n=>{const s=Mc("Sketcher for "+n.name,qB,n),i=S=>cD(s.name,s.configFields,s.partFields,s.factory,S),f=Pg(s.name,s.partFields),b=Ms(s.apis,Cx),w=Ms(s.extraApis,(S,D)=>hb(S,D));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:i,parts:f,...b,...w}},d0=oh({name:"Container",factory:n=>{const{attributes:s,...i}=n.dom;return{uid:n.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...i},components:n.components,behaviours:zS(n.containerBehaviours),events:n.events,domModification:n.domModification,eventOrder:n.eventOrder}},configFields:[pt("components",[]),Ic("containerBehaviours",[]),pt("events",{}),pt("domModification",{}),pt("eventOrder",{})]}),uD="data-initial-z-index",Uz=n=>{xl(n.element).filter(Xc).each(s=>{li(s,uD).fold(()=>rs(s,"z-index"),i=>wo(s,"z-index",i)),rr(s,uD)})},Zz=n=>{xl(n.element).filter(Xc).each(s=>{Vr(s,"z-index").each(i=>{co(s,uD,i)}),wo(s,"z-index",hr(n.element,"z-index"))})},GB=(n,s)=>{n.getSystem().addToGui(s),Zz(s)},Aw=n=>{Uz(n),n.getSystem().removeFromGui(n)},qA=(n,s,i)=>n.getSystem().build(d0.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:i}));var Wz=$i("snaps",[Zt("getSnapPoints"),Rs("onSensor"),Zt("leftAttr"),Zt("topAttr"),pt("lazyViewport",bc),pt("mustSnap",!1)]);const jS=[pt("useFixed",yt),Zt("blockerClass"),pt("getTarget",lt),pt("onDrag",J),pt("repositionTarget",!0),pt("onDrop",J),ir("getBounds",bc),Wz],GA=n=>Cs(Vr(n,"left"),Vr(n,"top"),Vr(n,"position"),(s,i,f)=>(f==="fixed"?Rx:y1)(parseInt(s,10),parseInt(i,10))).getOrThunk(()=>{const s=Bl(n);return Yg(s.left,s.top)}),dD=(n,s,i,f,b)=>{const w=b.bounds,S=Ew(s,i,f),D=is(S.left,w.x,w.x+w.width-b.width),B=is(S.top,w.y,w.y+w.height-b.height),z=Yg(D,B);return s.fold(()=>{const Z=iD(z,i,f);return y1(Z.left,Z.top)},ae(z),()=>{const Z=jA(z,i,f);return Rx(Z.left,Z.top)})},qz=(n,s,i,f,b,w,S)=>{const D=s.fold(()=>{const B=VA(i,w.left,w.top),z=jA(B,f,b);return Rx(z.left,z.top)},B=>{const z=jB(n,B,i,w,f,b);return z.extra.each(Z=>{B.onSensor(n,Z)}),z.coord});return dD(n,D,f,b,S)},Gz=(n,s,i,f)=>{const b=s.getTarget(n.element);if(s.repositionTarget){const w=Oc(n.element),S=Aa(w),D=J1(b),B=GA(b),z=qz(n,s.snaps,B,S,D,f,i),Z=lD(z,S,D);qa(b,Z)}s.onDrag(n,b,f)},KB=(n,s)=>({bounds:n.getBounds(),height:ki(s.element),width:nf(s.element)}),fD=(n,s,i,f,b)=>{const w=i.update(f,b),S=i.getStartData().getOrThunk(()=>KB(s,n));w.each(D=>{Gz(n,s,S,D)})},YB=(n,s,i,f)=>{s.each(Aw),i.snaps.each(w=>{$z(n,w)});const b=i.getTarget(n.element);f.reset(),i.onDrop(n,b)},mD=n=>(s,i)=>{const f=b=>{i.setStartData(KB(s,b))};return na([Nt(fm(),b=>{i.getStartData().each(()=>f(b))}),...n(s,i,f)])},Kz=n=>na([Nt(du(),n.forceDrop),Nt(Mf(),n.drop),Nt(xc(),(s,i)=>{n.move(i.event)}),Nt(Ii(),n.delayDrop)]);var Xz=Object.freeze({__proto__:null,getData:n=>P.from(cr(n.x,n.y)),getDelta:(n,s)=>cr(s.left-n.left,s.top-n.top)});const XB=(n,s,i)=>[Nt(du(),(f,b)=>{if(b.event.raw.button!==0)return;b.stop();const S=()=>YB(f,P.some(z),n,s),D=M2(S,200),B={drop:S,delayDrop:D.schedule,forceDrop:S,move:K=>{D.cancel(),fD(f,n,s,Xz,K)}},z=qA(f,n.blockerClass,Kz(B));i(f),GB(f,z)})],Qz=[...jS,er("dragger",{handlers:mD(XB)})],Jz=n=>na([Nt(td(),n.forceDrop),Nt($l(),n.drop),Nt(nd(),n.drop),Nt(Qa(),(s,i)=>{n.move(i.event)})]),kw=n=>{const s=n[0];return P.some(cr(s.clientX,s.clientY))};var KA=Object.freeze({__proto__:null,getData:n=>{const i=n.raw.touches;return i.length===1?kw(i):P.none()},getDelta:(n,s)=>cr(s.left-n.left,s.top-n.top)});const JB=(n,s,i)=>{const f=xo(),b=w=>{YB(w,f.get(),n,s),f.clear()};return[Nt(td(),(w,S)=>{S.stop();const D=()=>b(w),B={drop:D,delayDrop:J,forceDrop:D,move:K=>{fD(w,n,s,KA,K)}},z=qA(w,n.blockerClass,Jz(B));f.set(z),i(w),GB(w,z)}),Nt(Qa(),(w,S)=>{S.stop(),fD(w,n,s,KA,S.event)}),Nt($l(),(w,S)=>{S.stop(),b(w)}),Nt(nd(),b)]},Mn=[...jS,er("dragger",{handlers:mD(JB)})],Mx=(n,s,i)=>[...XB(n,s,i),...JB(n,s,i)],ej=[...jS,er("dragger",{handlers:mD(Mx)})];var nj=Object.freeze({__proto__:null,mouse:Qz,touch:Mn,mouseOrTouch:ej}),t6=Object.freeze({__proto__:null,init:()=>{let n=P.none(),s=P.none();const i=()=>{n=P.none(),s=P.none()},f=(B,z)=>{const Z=n.map(K=>B.getDelta(K,z));return n=P.some(z),Z},b=(B,z)=>B.getData(z).bind(Z=>f(B,Z)),w=B=>{s=P.some(B)},S=()=>s,D=ae({});return ud({readState:D,reset:i,update:b,getStartData:S,setStartData:w})}});const zb=R({branchKey:"mode",branches:nj,name:"dragging",active:{events:(n,s)=>n.dragger.handlers(n,s)},extra:{snap:n=>({sensor:n.sensor,range:n.range,output:n.output,extra:P.from(n.extra)})},state:t6,apis:Hz}),sj=["input","textarea"],pD=n=>{const s=vd(n);return Ue(sj,s)},n6=(n,s)=>{const i=s.getRoot(n).getOr(n.element);ma(i,s.invalidClass),s.notify.each(f=>{pD(n.element)&&co(n.element,"aria-invalid",!1),f.getContainer(n).each(b=>{Rl(b,f.validHtml)}),f.onValid(n)})},o6=(n,s,i,f)=>{const b=s.getRoot(n).getOr(n.element);Qs(b,s.invalidClass),s.notify.each(w=>{pD(n.element)&&co(n.element,"aria-invalid",!0),w.getContainer(n).each(S=>{Rl(S,f)}),w.onInvalid(n,f)})},bD=(n,s,i)=>s.validator.fold(()=>ss.pure(Bn.value(!0)),f=>f.validate(n)),yD=(n,s,i)=>(s.notify.each(f=>{f.onValidate(n)}),bD(n,s).map(f=>n.getSystem().isConnected()?f.fold(b=>(o6(n,s,i,b),Bn.error(b)),b=>(n6(n,s),Bn.value(b))):Bn.error("No longer in system")));var vD=Object.freeze({__proto__:null,markValid:n6,markInvalid:o6,query:bD,run:yD,isInvalid:(n,s)=>{const i=s.getRoot(n).getOr(n.element);return ka(i,s.invalidClass)}}),YA=Object.freeze({__proto__:null,events:(n,s)=>n.validator.map(i=>na([Nt(i.onEvent,f=>{yD(f,n,s).get(lt)})].concat(i.validateOnLoad?[Rr(f=>{yD(f,n,s).get(J)})]:[]))).getOr({})}),XA=[Zt("invalidClass"),pt("getRoot",P.none),$i("notify",[pt("aria","alert"),pt("getContainer",P.none),pt("validHtml",""),Rs("onValid"),Rs("onInvalid"),Rs("onValidate")]),$i("validator",[Zt("validate"),pt("onEvent","input"),pt("validateOnLoad",!0)])];const _w=(n,s,i)=>{s.store.manager.onLoad(n,s,i)},f0=(n,s,i)=>{s.store.manager.onUnload(n,s,i)};var gne=Object.freeze({__proto__:null,onLoad:_w,onUnload:f0,setValue:(n,s,i,f)=>{s.store.manager.setValue(n,s,i,f)},getValue:(n,s,i)=>s.store.manager.getValue(n,s,i),getState:(n,s,i)=>i}),ij=Object.freeze({__proto__:null,events:(n,s)=>{const i=n.resetOnDom?[Rr((f,b)=>{_w(f,n,s)}),hf((f,b)=>{f0(f,n,s)})]:[Uy(n,s,_w)];return na(i)}});const QA=()=>{const n=Nn(null),s=()=>({mode:"memory",value:n.get()}),i=()=>n.get()===null,f=()=>{n.set(null)};return ud({set:n.set,get:n.get,isNotSet:i,clear:f,readState:s})},lj=()=>ud({readState:J}),s6=()=>{const n=Nn({}),s=Nn({});return ud({readState:()=>({mode:"dataset",dataByValue:n.get(),dataByText:s.get()}),lookup:S=>$n(n.get(),S).orThunk(()=>$n(s.get(),S)),update:S=>{const D=n.get(),B=s.get(),z={},Z={};dt(S,K=>{z[K.value]=K,$n(K,"meta").each(ie=>{$n(ie,"text").each(he=>{Z[he]=K})})}),n.set({...D,...z}),s.set({...B,...Z})},clear:()=>{n.set({}),s.set({})}})};var r6=Object.freeze({__proto__:null,memory:QA,dataset:s6,manual:lj,init:n=>n.store.manager.state(n)});const a6=(n,s,i,f)=>{const b=s.store;i.update([f]),b.setValue(n,f),s.onSetValue(n,f)},cj=(n,s,i)=>{const f=s.store,b=f.getDataKey(n);return i.lookup(b).getOrThunk(()=>f.getFallbackEntry(b))},i6=(n,s,i)=>{s.store.initialValue.each(b=>{a6(n,s,i,b)})},l6=(n,s,i)=>{i.clear()};var uj=[gr("initialValue"),Zt("getFallbackEntry"),Zt("getDataKey"),Zt("setValue"),er("manager",{setValue:a6,getValue:cj,onLoad:i6,onUnload:l6,state:s6})];const c6=(n,s,i)=>s.store.getValue(n),dj=(n,s,i,f)=>{s.store.setValue(n,f),s.onSetValue(n,f)},xD=(n,s,i)=>{s.store.initialValue.each(f=>{s.store.setValue(n,f)})};var u6=[Zt("getValue"),pt("setValue",J),gr("initialValue"),er("manager",{setValue:dj,getValue:c6,onLoad:xD,onUnload:J,state:cd.init})];const d6=(n,s,i,f)=>{i.set(f),s.onSetValue(n,f)},f6=(n,s,i)=>i.get(),fj=(n,s,i)=>{s.store.initialValue.each(f=>{i.isNotSet()&&i.set(f)})},mj=(n,s,i)=>{i.clear()};var hj=[gr("initialValue"),er("manager",{setValue:d6,getValue:f6,onLoad:fj,onUnload:mj,state:QA})],gj=[ed("store",{mode:"memory"},Kl("mode",{memory:hj,manual:u6,dataset:uj})),Rs("onSetValue"),pt("resetOnDom",!1)];const Pn=g({fields:gj,name:"representing",active:ij,apis:gne,extra:{setValueFrom:(n,s)=>{const i=Pn.getValue(s);Pn.setValue(n,i)}},state:r6}),sh=g({fields:XA,name:"invalidating",active:YA,apis:vD,extra:{validation:n=>s=>{const i=Pn.getValue(s);return ss.pure(n(i))}}});var m6=Object.freeze({__proto__:null,exhibit:(n,s)=>jd({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const JA=Ba.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),wD=(n,s,i,f,b,w)=>{const S=s.rect,D=S.x-i,B=S.y-f,z=S.width,Z=S.height,K=b-(D+z),ie=w-(B+Z),he=P.some(D),xe=P.some(B),De=P.some(K),Ie=P.some(ie),Ee=P.none();return My(s.direction,()=>Vd(n,he,xe,Ee,Ee),()=>Vd(n,Ee,xe,De,Ee),()=>Vd(n,he,Ee,Ee,Ie),()=>Vd(n,Ee,Ee,De,Ie),()=>Vd(n,he,xe,Ee,Ee),()=>Vd(n,he,Ee,Ee,Ie),()=>Vd(n,he,xe,Ee,Ee),()=>Vd(n,Ee,xe,De,Ee))},CD=(n,s)=>n.fold(()=>{const i=s.rect;return Vd("absolute",P.some(i.x),P.some(i.y),P.none(),P.none())},(i,f,b,w)=>wD("absolute",s,i,f,b,w),(i,f,b,w)=>wD("fixed",s,i,f,b,w)),SD=(n,s)=>{const i=dn(I0,s),f=n.fold(i,i,()=>{const S=Aa();return I0(s).translate(-S.left,-S.top)}),b=nf(s),w=ki(s);return Fi(f.left,f.top,b,w)},bj=(n,s)=>s.fold(()=>n.fold(bc,bc,Fi),i=>n.fold(ae(i),ae(i),()=>{const f=h6(n,i.x,i.y);return Fi(f.left,f.top,i.width,i.height)})),h6=(n,s,i)=>{const f=cr(s,i),b=()=>{const w=Aa();return f.translate(-w.left,-w.top)};return n.fold(ae(f),ae(f),b)},ED=(n,s,i,f)=>n.fold(s,i,f);JA.none;const yj=JA.relative,ek=JA.fixed,vj=(n,s)=>({anchorBox:n,origin:s}),g6=(n,s)=>vj(n,s),Hc=Ba.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),xj=(n,s)=>{const{x:i,y:f,right:b,bottom:w}=s,{x:S,y:D,right:B,bottom:z,width:Z,height:K}=n,ie=S>=i&&S<=b,he=D>=f&&D<=w,xe=ie&&he,De=B<=b&&B>=i,Ie=z<=w&&z>=f,Ee=De&&Ie,Ke=Math.min(Z,S>=i?b-S:B-i),ot=Math.min(K,D>=f?w-D:z-f);return{originInBounds:xe,sizeInBounds:Ee,visibleW:Ke,visibleH:ot}},p6=(n,s)=>{const{x:i,y:f,right:b,bottom:w}=s,{x:S,y:D,width:B,height:z}=n,Z=Math.max(i,b-B),K=Math.max(f,w-z),ie=is(S,i,Z),he=is(D,f,K),xe=Math.min(ie+B,b)-ie,De=Math.min(he+z,w)-he;return Fi(ie,he,xe,De)},b6=(n,s,i)=>{const f=ae(s.bottom-i.y),b=ae(i.bottom-s.y),w=Uh(n,b,b,f),S=ae(s.right-i.x),D=ae(i.right-s.x);return{maxWidth:qm(n,D,D,S),maxHeight:w}},wj=(n,s,i,f)=>{const b=n.bubble,w=b.offset,S=zg(f,n.restriction,w),D=n.x+w.left,B=n.y+w.top,z=Fi(D,B,s,i),{originInBounds:Z,sizeInBounds:K,visibleW:ie,visibleH:he}=xj(z,S),xe=Z&&K,De=xe?z:p6(z,S),Ie=De.width>0&&De.height>0,{maxWidth:Ee,maxHeight:Ke}=b6(n.direction,De,f),ot={rect:De,maxHeight:Ke,maxWidth:Ee,direction:n.direction,placement:n.placement,classes:{on:b.classesOn,off:b.classesOff},layout:n.label,testY:B};return xe||n.alwaysFit?Hc.fit(ot):Hc.nofit(ot,ie,he,Ie)},y6=(n,s,i,f,b,w)=>{const S=f.width,D=f.height,B=(Z,K,ie,he,xe)=>{const De=Z(i,f,b,n,w),Ie=wj(De,S,D,w);return Ie.fold(ae(Ie),(Ee,Ke,ot,wt)=>(xe===wt?ot>he||Ke>ie:!xe&&wt)?Ie:Hc.nofit(K,ie,he,xe))};return jo(s,(Z,K)=>{const ie=dn(B,K);return Z.fold(ae(Z),ie)},Hc.nofit({rect:i,maxHeight:f.height,maxWidth:f.width,direction:Hg(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:i.y},-1,-1,!1)).fold(lt,lt)},TD=["top","bottom","right","left"],tk="data-alloy-transition-timer",Cj=(n,s)=>Dg(n,s.classes),Sj=(n,s,i)=>i.exists(f=>{const b=n.mode;return b==="all"?!0:f[b]!==s[b]}),Ej=(n,s)=>{const i=f=>parseFloat(f).toFixed(3);return Xr(s,(f,b)=>{const w=n[b].map(i),S=f.map(i);return!Rn(w,S)}).isSome()},v6=n=>{const s=w=>{const D=hr(n,w).split(/\s*,\s*/);return Eo(D,Su)},i=w=>{if(I(w)&&/^[\d.]+/.test(w)){const S=parseFloat(w);return dc(w,"ms")?S:S*1e3}else return 0},f=s("transition-delay"),b=s("transition-duration");return jo(b,(w,S,D)=>{const B=i(f[D])+i(S);return Math.max(w,B)},0)},Tj=(n,s)=>{const i=Lr(),f=Lr();let b;const w=z=>{const Z=z.raw.pseudoElement??"";return oe(z.target,n)&&Ri(Z)&&Ue(TD,z.raw.propertyName)},S=z=>{if(pe(z)||w(z)){i.clear(),f.clear();const Z=z?.raw.type;(pe(Z)||Z===Fh())&&(clearTimeout(b),rr(n,tk),El(n,s.classes))}},D=Ls(n,Zm(),z=>{w(z)&&(D.unbind(),i.set(Ls(n,Fh(),S)),f.set(Ls(n,cb(),S)))}),B=v6(n);window.requestAnimationFrame(()=>{b=setTimeout(S,B+17),co(n,tk,b)})},Aj=(n,s)=>{Yu(n,s.classes),li(n,tk).each(i=>{clearTimeout(parseInt(i,10)),rr(n,tk)}),Tj(n,s)},x6=(n,s,i,f,b,w)=>{const S=Sj(f,b,w);if(S||Cj(n,f)){wo(n,"position",i.position);const D=SD(s,n),B=CD(s,{...b,rect:D}),z=jn(TD,Z=>B[Z]);Ej(i,z)&&(qa(n,z),S&&Aj(n,f),ql(n))}else El(n,f.classes)},w6=n=>({width:Math.ceil(nf(n)),height:ki(n)}),C6=(n,s,i,f)=>{rs(s,"max-height"),rs(s,"max-width");const b=w6(s);return y6(s,f.preference,n,b,i,f.bounds)},kj=(n,s)=>{const i=s.classes;El(n,i.off),Yu(n,i.on)},_j=(n,s,i)=>{const f=i.maxHeightFunction;f(n,s.maxHeight)},Dj=(n,s,i)=>{const f=i.maxWidthFunction;f(n,s.maxWidth)},Oj=(n,s,i)=>{const f=CD(i.origin,s);i.transition.each(b=>{x6(n,i.origin,f,b,s,i.lastPlacement)}),Cw(n,f)},S6=(n,s)=>{n1(n,s.placement)},AD=(n,s,i)=>n[s]===void 0?i:n[s],nv=(n,s,i,f,b,w,S,D)=>{const B=AD(S,"maxHeightFunction",nx()),z=AD(S,"maxWidthFunction",J),Z=n.anchorBox,K=n.origin,ie={bounds:bj(K,w),origin:K,preference:f,maxHeightFunction:B,maxWidthFunction:z,lastPlacement:b,transition:D};return E6(Z,s,i,ie)},E6=(n,s,i,f)=>{const b=C6(n,s,i,f);return Oj(s,b,f),S6(s,b),kj(s,b),_j(s,b,f),Dj(s,b,f),{layout:b.layout,placement:b.placement}},VS=lt,ov=()=>$i("layouts",[Zt("onLtr"),Zt("onRtl"),gr("onBottomLtr"),gr("onBottomRtl")]),nk=(n,s,i,f,b,w,S)=>{const D=S.map(jy).getOr(!1),B=s.layouts.map(he=>he.onLtr(n)),z=s.layouts.map(he=>he.onRtl(n)),Z=D?s.layouts.bind(he=>he.onBottomLtr.map(xe=>xe(n))).or(B).getOr(b):B.getOr(i),K=D?s.layouts.bind(he=>he.onBottomRtl.map(xe=>xe(n))).or(z).getOr(w):z.getOr(f);return Eg(Z,K)(n)},Dw=(n,s,i)=>{const f=s.hotspot,b=SD(i,f.element),w=nk(n.element,s,tx(),Wh(),zf(),ex(),P.some(s.hotspot.element));return P.some(VS({anchorBox:b,bubble:s.bubble.getOr(Qi()),overrides:s.overrides,layouts:w}))};var Nj=[Zt("hotspot"),gr("bubble"),pt("overrides",{}),ov(),er("placement",Dw)];const Rj=(n,s,i)=>{const f=h6(i,s.x,s.y),b=Fi(f.left,f.top,s.width,s.height),w=nk(n.element,s,Fy(),Eb(),Fy(),Eb(),P.none());return P.some(VS({anchorBox:b,bubble:s.bubble,overrides:s.overrides,layouts:w}))};var T6=[Zt("x"),Zt("y"),pt("height",0),pt("width",0),pt("bubble",Qi()),pt("overrides",{}),ov(),er("placement",Rj)];const A6=Ba.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Mj=n=>n.fold(lt,(s,i,f)=>s.translate(-i,-f)),Bj=n=>n.fold(lt,lt),kD=n=>jo(n,(s,i)=>s.translate(i.left,i.top),cr(0,0)),_D=n=>{const s=He(n,Mj);return kD(s)},ok=n=>{const s=He(n,Bj);return kD(s)},Lj=A6.screen,sv=A6.absolute,k6=(n,s,i)=>{const f=yp(i.root).dom,b=w=>{const S=Oc(w),D=Oc(n.element);return oe(S,D)};return P.from(f.frameElement).map(un.fromDom).filter(b).map(Bl)},DD=(n,s,i)=>{const f=Oc(n.element),b=Aa(f),w=k6(n,s,i).getOr(b);return sv(w,b.left,b.top)},OD=(n,s,i,f)=>{const b=Lj(cr(n,s));return P.some(Oh(b,i,f))},_6=(n,s,i,f,b)=>n.map(w=>{const S=[s,w.point],D=ED(f,()=>ok(S),()=>ok(S),()=>_D(S)),B=Mv(D.left,D.top,w.width,w.height),z=i.showAbove?zf():tx(),Z=i.showAbove?ex():Wh(),K=nk(b,i,z,Z,z,Z,P.none());return VS({anchorBox:B,bubble:i.bubble.getOr(Qi()),overrides:i.overrides,layouts:K})}),US=(n,s,i)=>{const f=DD(n,i,s);return s.node.filter(Fs).bind(b=>{const w=b.dom.getBoundingClientRect(),S=OD(w.left,w.top,w.width,w.height),D=s.node.getOr(n.element);return _6(S,f,s,i,D)})};var ZS=[Zt("node"),Zt("root"),gr("bubble"),ov(),pt("overrides",{}),pt("showAbove",!1),er("placement",US)];const WS=(n,s)=>({element:n,offset:s}),ND=(n,s)=>{const i=Zu(n);if(i.length===0)return WS(n,s);if(s<i.length)return WS(i[s],0);{const f=i[i.length-1],b=vl(f)?Sg(f).length:Zu(f).length;return WS(f,b)}},jb=(n,s)=>vl(n)?WS(n,s):ND(n,s),v1=n=>n.foffset!==void 0,D6=(n,s)=>s.getSelection.getOrThunk(()=>()=>Pm(n))().map(f=>{if(v1(f)){const b=jb(f.start,f.soffset),w=jb(f.finish,f.foffset);return fi.range(b.element,b.offset,w.element,w.offset)}else return f}),Fj=(n,s,i)=>{const f=yp(s.root).dom,b=DD(n,i,s),w=D6(f,s).bind(B=>{if(v1(B))return Ru(f,fi.exactFromRange(B)).orThunk(()=>{const Z=un.fromText(Tf);om(B.start,Z);const K=_h(f,fi.exact(Z,0,Z,1));return tu(Z),K}).bind(Z=>OD(Z.left,Z.top,Z.width,Z.height));{const z=Ms(B,K=>K.dom.getBoundingClientRect()),Z={left:Math.min(z.firstCell.left,z.lastCell.left),right:Math.max(z.firstCell.right,z.lastCell.right),top:Math.min(z.firstCell.top,z.lastCell.top),bottom:Math.max(z.firstCell.bottom,z.lastCell.bottom)};return OD(Z.left,Z.top,Z.right-Z.left,Z.bottom-Z.top)}}),D=D6(f,s).bind(B=>v1(B)?Xc(B.start)?P.some(B.start):Au(B.start):P.some(B.firstCell)).getOr(n.element);return _6(w,b,s,i,D)};var O6=[gr("getSelection"),Zt("root"),gr("bubble"),ov(),pt("overrides",{}),pt("showAbove",!1),er("placement",Fj)];const Jg="link-layout",sk=n=>n.x+n.width,N6=(n,s)=>n.x-s.width,RD=(n,s)=>n.y-s.height+n.height,MD=n=>n.y,BD=(n,s,i)=>nc(sk(n),MD(n),i.southeast(),Hg(),"southeast",gl(n,{left:0,top:2}),Jg),rk=(n,s,i)=>nc(N6(n,s),MD(n),i.southwest(),By(),"southwest",gl(n,{right:1,top:2}),Jg),LD=(n,s,i)=>nc(sk(n),RD(n,s),i.northeast(),xb(),"northeast",gl(n,{left:0,bottom:3}),Jg),R6=(n,s,i)=>nc(N6(n,s),RD(n,s),i.northwest(),Zh(),"northwest",gl(n,{right:1,bottom:3}),Jg),M6=()=>[BD,rk,LD,R6],B6=()=>[rk,BD,R6,LD],ak=(n,s,i)=>{const f=SD(i,s.item.element),b=nk(n.element,s,M6(),B6(),M6(),B6(),P.none());return P.some(VS({anchorBox:f,bubble:Qi(),overrides:s.overrides,layouts:b}))};var FD=[Zt("item"),ov(),pt("overrides",{}),er("placement",ak)],ik=Kl("type",{selection:O6,node:ZS,hotspot:Nj,submenu:FD,makeshift:T6});const L6=[Cr("classes",Pi),Xl("mode","all",["all","layout","placement"])],Pj=[pt("useFixed",yt),gr("getBounds")],F6=[Bc("anchor",ik),$i("transition",L6)],P6=()=>{const n=document.documentElement;return ek(0,0,n.clientWidth,n.clientHeight)},$6=n=>{const s=Bl(n.element),i=n.element.dom.getBoundingClientRect();return yj(s.left,s.top,i.width,i.height)},I6=(n,s,i,f,b,w)=>{const S=g6(s.anchorBox,n);return nv(S,f.element,s.bubble,s.layouts,b,i,s.overrides,w)},$j=(n,s,i,f,b)=>{const w=P.none();lk(n,s,i,f,b,w)},lk=(n,s,i,f,b,w)=>{const S=Mc("placement.info",uo(F6),b),D=S.anchor,B=f.element,z=i.get(f.uid);Bb(()=>{wo(B,"position","fixed");const Z=Vr(B,"visibility");wo(B,"visibility","hidden");const K=s.useFixed()?P6():$6(n);D.placement(n,D,K).each(ie=>{const he=w.orThunk(()=>s.getBounds.map(Jo)),xe=I6(K,ie,he,f,z,S.transition);i.set(f.uid,xe)}),Z.fold(()=>{rs(B,"visibility")},ie=>{wo(B,"visibility",ie)}),Vr(B,"left").isNone()&&Vr(B,"top").isNone()&&Vr(B,"right").isNone()&&Vr(B,"bottom").isNone()&&to(Vr(B,"position"),"fixed")&&rs(B,"position")},B)};var Ij=Object.freeze({__proto__:null,position:$j,positionWithinBounds:lk,getMode:(n,s,i)=>s.useFixed()?"fixed":"absolute",reset:(n,s,i,f)=>{const b=f.element;dt(["position","left","right","top","bottom"],w=>rs(b,w)),Tb(b),i.clear(f.uid)}}),H6=Object.freeze({__proto__:null,init:()=>{let n={};return ud({readState:()=>n,clear:b=>{$e(b)?delete n[b]:n={}},set:(b,w)=>{n[b]=w},get:b=>$n(n,b)})}});const fd=g({fields:Pj,name:"positioning",active:m6,apis:Ij,state:H6}),Hj=(n,s)=>s.universal?n:Eo(n,i=>Ue(s.channels,i));var qS=Object.freeze({__proto__:null,events:n=>na([Nt(Ph(),(s,i)=>{const f=n.channels,b=Io(f),w=i,S=Hj(b,w);dt(S,D=>{const B=f[D],z=B.schema,Z=Mc("channel["+D+`] data
Receiver: `+Bd(s.element),z,w.data);B.onReceive(s,Z)})})])}),jj=[Bc("channels",Iv(Bn.value,Lu([Ih("onReceive"),pt("schema",lf())])))];const md=g({fields:jj,name:"receiving",active:qS});var j6=Object.freeze({__proto__:null,events:(n,s)=>{const i=(f,b)=>{n.updateState.each(w=>{const S=w(f,b);s.set(S)}),n.renderComponents.each(w=>{const S=w(b,s.get());(n.reuseDom?TA:vS)(f,S)})};return na([Nt(Ph(),(f,b)=>{const w=b;if(!w.universal){const S=n.channel;Ue(w.channels,S)&&i(f,w.data)}}),Rr((f,b)=>{n.initialData.each(w=>{i(f,w)})})])}}),Uj=Object.freeze({__proto__:null,getState:(n,s,i)=>i}),Zj=[Zt("channel"),gr("renderComponents"),gr("updateState"),gr("initialData"),Gi("reuseDom",!0)],qj=Object.freeze({__proto__:null,init:()=>{const n=Nn(P.none()),s=()=>n.set(P.none());return{readState:()=>n.get().getOr("none"),get:n.get,set:n.set,clear:s}}});const qf=g({fields:Zj,name:"reflecting",active:j6,apis:Uj,state:qj}),V6=(n,s,i,f)=>{i.get().each(S=>{vA(n)});const b=s.getAttachPoint(n);r0(b,n);const w=n.getSystem().build(f);return r0(n,w),i.set(w),w},U6=(n,s,i,f)=>{const b=V6(n,s,i,f);return s.onOpen(n,b),b},Z6=(n,s,i,f)=>i.get().map(()=>V6(n,s,i,f)),ck=(n,s,i,f,b)=>{PD(n,s),U6(n,s,i,f),b(),q6(n,s)},uk=(n,s,i)=>{i.get().each(f=>{vA(n),i0(n),s.onClose(n,f),i.clear()})},dk=(n,s,i)=>i.isOpen(),Gj=(n,s,i,f)=>dk(n,s,i)&&i.get().exists(b=>s.isPartOf(n,b,f)),Kj=(n,s,i)=>i.get(),Yj=(n,s,i,f)=>{Vr(n.element,s).fold(()=>{rr(n.element,i)},b=>{co(n.element,i,b)}),wo(n.element,s,f)},Xj=(n,s,i)=>{li(n.element,i).fold(()=>rs(n.element,s),f=>wo(n.element,s,f))},PD=(n,s,i)=>{const f=s.getAttachPoint(n);wo(n.element,"position",fd.getMode(f)),Yj(n,"visibility",s.cloakVisibilityAttr,"hidden")},W6=n=>Pt(["top","left","right","bottom"],s=>Vr(n,s).isSome()),q6=(n,s,i)=>{W6(n.element)||rs(n.element,"position"),Xj(n,"visibility",s.cloakVisibilityAttr)};var Qj=Object.freeze({__proto__:null,cloak:PD,decloak:q6,open:U6,openWhileCloaked:ck,close:uk,isOpen:dk,isPartOf:Gj,getState:Kj,setContent:Z6}),Jj=Object.freeze({__proto__:null,events:(n,s)=>na([Nt(Oa(),(i,f)=>{uk(i,n,s)})])}),eV=[Rs("onOpen"),Rs("onClose"),Zt("isPartOf"),Zt("getAttachPoint"),pt("cloakVisibilityAttr","data-precloak-visibility")],G6=Object.freeze({__proto__:null,init:()=>{const n=xo(),s=ae("not-implemented");return ud({readState:s,isOpen:n.isSet,clear:n.clear,set:n.set,get:n.get})}});const nr=g({fields:eV,name:"sandboxing",active:Jj,apis:Qj,state:G6}),GS=(n,s)=>s.getAnimationRoot.fold(()=>n.element,i=>i(n)),Vb=n=>n.dimension.property,Bx=(n,s)=>n.dimension.getDimension(s),fk=(n,s)=>{const i=GS(n,s);El(i,[s.shrinkingClass,s.growingClass])},x1=(n,s)=>{ma(n.element,s.openClass),Qs(n.element,s.closedClass),wo(n.element,Vb(s),"0px"),ql(n.element)},$D=(n,s)=>{ma(n.element,s.closedClass),Qs(n.element,s.openClass),rs(n.element,Vb(s))},K6=(n,s,i,f)=>{i.setCollapsed(),wo(n.element,Vb(s),Bx(s,n.element)),fk(n,s),x1(n,s),s.onStartShrink(n),s.onShrunk(n)},Lx=(n,s,i,f)=>{const b=f.getOrThunk(()=>Bx(s,n.element));i.setCollapsed(),wo(n.element,Vb(s),b),ql(n.element);const w=GS(n,s);ma(w,s.growingClass),Qs(w,s.shrinkingClass),x1(n,s),s.onStartShrink(n)},ID=(n,s,i)=>{const f=Bx(s,n.element);(f==="0px"?K6:Lx)(n,s,i,P.some(f))},Y6=(n,s,i)=>{const f=GS(n,s),b=ka(f,s.shrinkingClass),w=Bx(s,n.element);$D(n,s);const S=Bx(s,n.element);(b?()=>{wo(n.element,Vb(s),w),ql(n.element)}:()=>{x1(n,s)})(),ma(f,s.shrinkingClass),Qs(f,s.growingClass),$D(n,s),wo(n.element,Vb(s),S),i.setExpanded(),s.onStartGrow(n)},rv=(n,s,i)=>{if(i.isExpanded()){rs(n.element,Vb(s));const f=Bx(s,n.element);wo(n.element,Vb(s),f)}},tV=(n,s,i)=>{i.isExpanded()||Y6(n,s,i)},nV=(n,s,i)=>{i.isExpanded()&&ID(n,s,i)},Jh=(n,s,i)=>{i.isExpanded()&&K6(n,s,i)},X6=(n,s,i)=>i.isExpanded(),Q6=(n,s,i)=>i.isCollapsed(),HD=(n,s,i)=>{const f=GS(n,s);return ka(f,s.growingClass)===!0},J6=(n,s,i)=>{const f=GS(n,s);return ka(f,s.shrinkingClass)===!0};var sV=Object.freeze({__proto__:null,refresh:rv,grow:tV,shrink:nV,immediateShrink:Jh,hasGrown:X6,hasShrunk:Q6,isGrowing:HD,isShrinking:J6,isTransitioning:(n,s,i)=>HD(n,s)||J6(n,s),toggleGrow:(n,s,i)=>{(i.isExpanded()?ID:Y6)(n,s,i)},disableTransitions:fk,immediateGrow:(n,s,i)=>{i.isExpanded()||($D(n,s),wo(n.element,Vb(s),Bx(s,n.element)),fk(n,s),i.setExpanded(),s.onStartGrow(n),s.onGrown(n))}}),t8=Object.freeze({__proto__:null,exhibit:(n,s,i)=>{const f=s.expanded;return jd(f?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:za(s.dimension.property,"0px")})},events:(n,s)=>na([t0(Fh(),(i,f)=>{f.event.raw.propertyName===n.dimension.property&&(fk(i,n),s.isExpanded()&&rs(i.element,n.dimension.property),(s.isExpanded()?n.onGrown:n.onShrunk)(i))})])}),n8=[Zt("closedClass"),Zt("openClass"),Zt("shrinkingClass"),Zt("growingClass"),gr("getAnimationRoot"),Rs("onShrunk"),Rs("onStartShrink"),Rs("onGrown"),Rs("onStartGrow"),pt("expanded",!1),Bc("dimension",Kl("property",{width:[er("property","width"),er("getDimension",n=>Bi(n)+"px")],height:[er("property","height"),er("getDimension",n=>bi(n)+"px")]}))],aV=Object.freeze({__proto__:null,init:n=>{const s=Nn(n.expanded),i=()=>"expanded: "+s.get();return ud({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:dn(s.set,!1),setExpanded:dn(s.set,!0),readState:i})}});const Ud=g({fields:n8,name:"sliding",active:t8,apis:sV,state:aV});var lV=Object.freeze({__proto__:null,events:(n,s)=>{const f=n.stream.streams.setup(n,s);return na([Nt(n.event,f),hf(()=>s.cancel())].concat(n.cancelEvent.map(b=>[Nt(b,()=>s.cancel())]).getOr([])))}});const o8=n=>{const s=Nn(null);return ud({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:w=>{s.set(w)},cancel:()=>{const w=s.get();w!==null&&w.cancel()}})};var VD=Object.freeze({__proto__:null,throttle:o8,init:n=>n.stream.streams.state(n)});const cV=(n,s)=>{const i=n.stream,f=Ei(n.onStream,i.delay);return s.setTimer(f),(b,w)=>{f.throttle(b,w),i.stopEvent&&w.stop()}};var KS=[Bc("stream",Kl("mode",{throttle:[Zt("delay"),pt("stopEvent",!0),er("streams",{setup:cV,state:o8})]})),pt("event","input"),gr("cancelEvent"),Ih("onStream")];const Ow=g({fields:KS,name:"streaming",active:lV,state:VD});var s8=Object.freeze({__proto__:null,exhibit:(n,s)=>jd({attributes:vc([{key:s.tabAttr,value:"true"}])})}),dV=[pt("tabAttr","data-alloy-tabstop")];const ca=g({fields:dV,name:"tabstopping",active:s8}),fV=(n,s,i)=>{const f=s.aria;f.update(n,f,i.get())},mV=(n,s,i)=>{s.toggleClass.each(f=>{i.get()?Qs(n.element,f):ma(n.element,f)})},Fx=(n,s,i,f)=>{const b=i.get();i.set(f),mV(n,s,i),fV(n,s,i),b!==f&&s.onToggled(n,f)},UD=(n,s,i)=>{Fx(n,s,i,!i.get())},r8=(n,s,i)=>{Fx(n,s,i,!0)},ZD=(n,s,i)=>{Fx(n,s,i,!1)},hV=(n,s,i)=>i.get(),WD=(n,s,i)=>{Fx(n,s,i,s.selected)};var gV=Object.freeze({__proto__:null,onLoad:WD,toggle:UD,isOn:hV,on:r8,off:ZD,set:Fx}),a8=Object.freeze({__proto__:null,exhibit:()=>jd({}),events:(n,s)=>{const i=n0(n,s,UD),f=Uy(n,s,WD);return na(et([n.toggleOnExecute?[i]:[],[f]]))}});const pV=(n,s,i)=>{co(n.element,"aria-pressed",i),s.syncWithExpanded&&GD(n,s,i)},bV=(n,s,i)=>{co(n.element,"aria-selected",i)},qD=(n,s,i)=>{co(n.element,"aria-checked",i)},GD=(n,s,i)=>{co(n.element,"aria-expanded",i)};var i8=[pt("selected",!1),gr("toggleClass"),pt("toggleOnExecute",!0),Rs("onToggled"),ed("aria",{mode:"none"},Kl("mode",{pressed:[pt("syncWithExpanded",!1),er("update",pV)],checked:[er("update",qD)],expanded:[er("update",GD)],selected:[er("update",bV)],none:[er("update",J)]}))];const Ds=g({fields:i8,name:"toggling",active:a8,apis:gV,state:it(!1)}),mk=me("tooltip.exclusive"),YS=me("tooltip.show"),XS=me("tooltip.hide"),QS=me("tooltip.immediateHide"),JS=me("tooltip.immediateShow"),l8=(n,s,i)=>{n.getSystem().broadcastOn([mk],{})};var vV=Object.freeze({__proto__:null,hideAllExclusive:l8,immediateOpenClose:(n,s,i,f)=>cs(n,f?JS:QS),isEnabled:(n,s,i)=>i.isEnabled(),setComponents:(n,s,i,f)=>{i.getTooltip().each(b=>{b.getSystem().isConnected()&&Po.set(b,f)})},setEnabled:(n,s,i,f)=>i.setEnabled(f)}),xV=Object.freeze({__proto__:null,events:(n,s)=>{const i=S=>{s.getTooltip().each(D=>{D.getSystem().isConnected()&&(i0(D),n.onHide(S,D),s.clearTooltip())}),s.clearTimer()},f=S=>{if(!s.isShowing()&&s.isEnabled()){l8(S);const D=n.lazySink(S).getOrDie(),B=S.getSystem().build({dom:n.tooltipDom,components:n.tooltipComponents,events:na(n.mode==="normal"?[Nt(Jl(),z=>{cs(S,YS)}),Nt(Ii(),z=>{cs(S,XS)})]:[]),behaviours:a([Po.config({})])});s.setTooltip(B),r0(D,B),n.onShow(S,B),fd.position(D,B,{anchor:n.anchor(S)})}},b=S=>{s.getTooltip().each(D=>{const B=n.lazySink(S).getOrDie();fd.position(B,D,{anchor:n.anchor(S)})})},w=()=>{switch(n.mode){case"normal":return[Nt(ec(),S=>{cs(S,JS)}),Nt(Fp(),S=>{cs(S,QS)}),Nt(Jl(),S=>{cs(S,YS)}),Nt(Ii(),S=>{cs(S,XS)})];case"follow-highlight":return[Nt(fb(),(S,D)=>{cs(S,YS)}),Nt(Hp(),S=>{cs(S,XS)})];case"children-normal":return[Nt(ec(),(S,D)=>{ii(S.element).each(B=>{sr(D.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{cs(S,JS)},z=>{s.isShowing()&&(n.onShow(S,z),b(S))})})}),Nt(Fp(),S=>{ii(S.element).fold(()=>{cs(S,QS)},J)}),Nt(Jl(),S=>{ar(S.element,"[data-mce-tooltip]:hover").each(D=>{s.getTooltip().fold(()=>{cs(S,YS)},B=>{s.isShowing()&&(n.onShow(S,B),b(S))})})}),Nt(Ii(),S=>{ar(S.element,"[data-mce-tooltip]:hover").fold(()=>{cs(S,XS)},J)})];default:return[Nt(ec(),(S,D)=>{ii(S.element).each(B=>{sr(D.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{cs(S,JS)},z=>{s.isShowing()&&(n.onShow(S,z),b(S))})})}),Nt(Fp(),S=>{ii(S.element).fold(()=>{cs(S,QS)},J)})]}};return na(et([[ix(S=>{n.onSetup(S)}),Nt(YS,S=>{s.resetTimer(()=>{f(S)},n.delayForShow())}),Nt(XS,S=>{s.resetTimer(()=>{i(S)},n.delayForHide())}),Nt(JS,S=>{s.resetTimer(()=>{f(S)},0)}),Nt(QS,S=>{s.resetTimer(()=>{i(S)},0)}),Nt(Ph(),(S,D)=>{const B=D;B.universal||(Ue(B.channels,mk)||Ue(B.channels,gf()))&&(B.data.closedTooltip&&s.isShowing()&&B.data.closedTooltip(),i(S))}),hf(S=>{i(S)})],w()]))}}),wV=[Zt("lazySink"),Zt("tooltipDom"),pt("exclusive",!0),pt("tooltipComponents",[]),ir("delayForShow",ae(300)),ir("delayForHide",ae(100)),ir("onSetup",J),Xl("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),pt("anchor",n=>({type:"hotspot",hotspot:n,layouts:{onLtr:ae([Oi,ba,Ji,Al,Ur,kl]),onRtl:ae([Oi,ba,Ji,Al,Ur,kl])},bubble:hu(0,-2,{})})),Rs("onHide"),Rs("onShow")],CV=Object.freeze({__proto__:null,init:()=>{const n=Nn(!0),s=xo(),i=xo(),f=()=>{s.on(clearTimeout)},b=(S,D)=>{f(),s.set(setTimeout(S,D))},w=ae("not-implemented");return ud({getTooltip:i.get,isShowing:i.isSet,setTooltip:i.set,clearTooltip:i.clear,clearTimer:f,resetTimer:b,readState:w,isEnabled:()=>n.get(),setEnabled:S=>n.set(S)})}});const ya=g({fields:wV,name:"tooltipping",active:xV,state:CV,apis:vV});var YD=Object.freeze({__proto__:null,events:()=>na([Db(G0(),Mt)]),exhibit:()=>jd({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const m0=g({fields:[],name:"unselecting",active:YD}),SV=n=>{const s=n.dom.attributes!==void 0?n.dom.attributes:[];return jo(s,(i,f)=>f.name==="class"?i:{...i,[f.name]:f.value},{})},EV=n=>Array.prototype.slice.call(n.dom.classList,0),h0=n=>{const s=un.fromHtml(n),i=Zu(s),f=SV(s),b=EV(s),w=i.length===0?{}:{innerHtml:Gs(s)};return{tag:vd(s),classes:b,attributes:f,...w}},ur=n=>{const s=Vz(n)&&_o(n,"uid")?n.uid:Jy("memento");return{get:w=>w.getSystem().getByUid(s).getOrDie(),getOpt:w=>w.getSystem().getByUid(s).toOptional(),asSpec:()=>({...n,uid:s})}},Ac=Ig,rh=Ny,TV=(n,s)=>{const i=Nn(!1),f=Nn(!1);return{stop:()=>{i.set(!0)},cut:()=>{f.set(!0)},isStopped:i.get,isCut:f.get,event:n,setSource:s.set,getSource:s.get}},u8=n=>{const s=Nn(!1);return{stop:()=>{s.set(!0)},cut:J,isStopped:s.get,isCut:yt,event:n,setSource:Ne("Cannot set source of a broadcasted event"),getSource:Ne("Cannot get source of a broadcasted event")}},d8=n=>n.raw.which===mt[0]&&!Ue(["input","textarea"],vd(n.target))&&!Fm(n.target,'[contenteditable="true"]'),f8=(n,s)=>{const i={stopBackspace:!0,...s},f=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],b=F2(i),w=He(f.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),he=>Ls(n,he,xe=>{b.fireIfReady(xe,he).each(Ie=>{Ie&&xe.kill()}),i.triggerEvent(he,xe)&&xe.kill()})),S=xo(),D=Ls(n,"paste",he=>{b.fireIfReady(he,"paste").each(De=>{De&&he.kill()}),i.triggerEvent("paste",he)&&he.kill(),S.set(setTimeout(()=>{i.triggerEvent(Ay(),he)},0))}),B=Ls(n,"keydown",he=>{i.triggerEvent("keydown",he)?he.kill():i.stopBackspace&&d8(he)&&he.prevent()}),z=Ls(n,"focusin",he=>{i.triggerEvent("focusin",he)&&he.kill()}),Z=xo(),K=Ls(n,"focusout",he=>{i.triggerEvent("focusout",he)&&he.kill(),Z.set(setTimeout(()=>{i.triggerEvent(Fp(),he)},0))});return{unbind:()=>{dt(w,he=>{he.unbind()}),B.unbind(),z.unbind(),K.unbind(),D.unbind(),S.on(clearTimeout),Z.on(clearTimeout)}}},w1=(n,s)=>{const i=$n(n,"target").getOr(s);return Nn(i)},eg=Ba.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),XD=(n,s,i,f,b,w)=>{const S=n(s,f),D=TV(i,b);return S.fold(()=>(w.logEventNoHandlers(s,f),eg.complete()),B=>{const z=B.descHandler;return hw(z)(D),D.isStopped()?(w.logEventStopped(s,B.element,z.purpose),eg.stopped()):D.isCut()?(w.logEventCut(s,B.element,z.purpose),eg.complete()):xl(B.element).fold(()=>(w.logNoParent(s,B.element,z.purpose),eg.complete()),K=>(w.logEventResponse(s,B.element,z.purpose),eg.resume(K)))})},Px=(n,s,i,f,b,w)=>XD(n,s,i,f,b,w).fold(Mt,S=>Px(n,s,i,S,b,w),yt),AV=(n,s,i,f,b)=>{const w=w1(i,f);return XD(n,s,i,f,w,b)},QD=(n,s,i)=>{const f=u8(s);return dt(n,b=>{const w=b.descHandler;hw(w)(f)}),f.isStopped()},m8=(n,s,i,f)=>hk(n,s,i,i.target,f),hk=(n,s,i,f,b)=>{const w=w1(i,f);return Px(n,s,i,f,w,b)},gk=(n,s)=>({element:n,descHandler:s}),h8=(n,s)=>({id:n,descHandler:s}),tg=()=>{const n={},s=(S,D,B)=>{_s(B,(z,Z)=>{const K=n[Z]!==void 0?n[Z]:{};K[D]=G_(z,S),n[Z]=K})},i=(S,D)=>Kh(D).bind(B=>$n(S,B)).map(B=>gk(D,B));return{registerId:s,unregisterId:S=>{_s(n,(D,B)=>{Yo(D,S)&&delete D[S]})},filterByType:S=>$n(n,S).map(D=>Is(D,(B,z)=>h8(z,B))).getOr([]),find:(S,D,B)=>$n(n,D).bind(z=>yr(B,Z=>i(z,Z),S))}},JD=()=>{const n=tg(),s={},i=z=>{const Z=z.element;return Kh(Z).getOrThunk(()=>ES("uid-",z.element))},f=(z,Z)=>{const K=s[Z];if(K===z)w(z);else throw new Error('The tagId "'+Z+'" is already used by: '+Bd(K.element)+`
Cannot use it for: `+Bd(z.element)+`
The conflicting element is`+(Fs(K.element)?" ":" not ")+"already in the DOM")},b=z=>{const Z=i(z);_o(s,Z)&&f(z,Z);const K=[z];n.registerId(K,Z,z.events),s[Z]=z},w=z=>{Kh(z.element).each(Z=>{delete s[Z],n.unregisterId(Z)})};return{find:(z,Z,K)=>n.find(z,Z,K),filter:z=>n.filterByType(z),register:b,unregister:w,getById:z=>$n(s,z)}},e5=n=>{const s=Ee=>xl(n.element).fold(Mt,Ke=>oe(Ee,Ke)),i=JD(),f=(Ee,Ke)=>i.find(s,Ee,Ke),b=f8(n.element,{triggerEvent:(Ee,Ke)=>jp(Ee,Ke.target,ot=>m8(f,Ee,Ke,ot))}),w={debugInfo:ae("real"),triggerEvent:(Ee,Ke,ot)=>{jp(Ee,Ke,wt=>hk(f,Ee,ot,Ke,wt))},triggerFocus:(Ee,Ke)=>{Kh(Ee).fold(()=>{Pa(Ee)},ot=>{jp(Ff(),Ee,wt=>(AV(f,Ff(),{originator:Ke,kill:J,prevent:J,target:Ee},Ee,wt),!1))})},triggerEscape:(Ee,Ke)=>{w.triggerEvent("keydown",Ee.element,Ke.event)},getByUid:Ee=>De(Ee),getByDom:Ee=>Ie(Ee),build:E,buildOrPatch:y,addToGui:Ee=>{B(Ee)},removeFromGui:Ee=>{z(Ee)},addToWorld:Ee=>{S(Ee)},removeFromWorld:Ee=>{D(Ee)},broadcast:Ee=>{ie(Ee)},broadcastOn:(Ee,Ke)=>{he(Ee,Ke)},broadcastEvent:(Ee,Ke)=>{xe(Ee,Ke)},isConnected:Mt},S=Ee=>{Ee.connect(w),vl(Ee.element)||(i.register(Ee),dt(Ee.components(),S),w.triggerEvent(Pf(),Ee.element,{target:Ee.element}))},D=Ee=>{vl(Ee.element)||(dt(Ee.components(),D),i.unregister(Ee)),Ee.disconnect()},B=Ee=>{r0(n,Ee)},z=Ee=>{i0(Ee)},Z=()=>{b.unbind(),tu(n.element)},K=Ee=>{const Ke=i.filter(Ph());dt(Ke,ot=>{const wt=ot.descHandler;hw(wt)(Ee)})},ie=Ee=>{K({universal:!0,data:Ee})},he=(Ee,Ke)=>{K({universal:!1,channels:Ee,data:Ke})},xe=(Ee,Ke)=>{const ot=i.filter(Ee);return QD(ot,Ke)},De=Ee=>i.getById(Ee).fold(()=>Bn.error(new Error('Could not find component with uid: "'+Ee+'" in system.')),Bn.value),Ie=Ee=>{const Ke=Kh(Ee).getOr("not found");return De(Ke)};return S(n),{root:n,element:n.element,destroy:Z,add:B,remove:z,getByUid:De,getByDom:Ie,addToWorld:S,removeFromWorld:D,broadcast:ie,broadcastOn:he,broadcastEvent:xe}},g8=()=>{const n=(s,i)=>{i.stop(),r1(s)};return[Nt(dm(),n),Nt(pr(),n),xm(td()),xm(du())]},t5=n=>{const s=i=>wm((f,b)=>{i(f),b.stop()});return na(et([n.map(s).toArray(),g8()]))},rc=oh({name:"Button",factory:n=>{const s=t5(n.action),i=n.dom.tag,f=w=>$n(n.dom,"attributes").bind(S=>$n(S,w)),b=()=>{if(i==="button"){const w=f("type").getOr("button"),S=f("role").map(D=>({role:D})).getOr({});return{type:w,...S}}else return{role:n.role.getOr(f("role").getOr("button"))}};return{uid:n.uid,dom:n.dom,components:n.components,events:s,behaviours:Xg.augment(n.buttonBehaviours,[Qe.config({}),io.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:b()},eventOrder:n.eventOrder}},configFields:[pt("uid",void 0),Zt("dom"),pt("components",[]),Xg.field("buttonBehaviours",[Qe,io]),gr("action"),gr("role"),pt("eventOrder",{})]}),kV=ae([pt("shell",!1),Zt("makeItem"),pt("setupItem",J),Xg.field("listBehaviours",[Po])]),n5=mu({name:"items",overrides:()=>({behaviours:a([Po.config({})])})}),DV=ae([n5]),o5=ae("CustomList"),s5=(n,s,i,f)=>{const b=(D,B)=>{S(D).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},z=>{const Z=Po.contents(z),K=B.length,ie=K-Z.length,he=ie>0?Re(ie,()=>n.makeItem()):[],xe=Z.slice(K);dt(xe,Ie=>Po.remove(z,Ie)),dt(he,Ie=>Po.append(z,Ie));const De=Po.contents(z);dt(De,(Ie,Ee)=>{n.setupItem(D,Ie,B[Ee],Ee)})})},w=n.shell?{behaviours:[Po.config({})],components:[]}:{behaviours:[],components:s},S=D=>n.shell?P.some(D):Er(D,n,"items");return{uid:n.uid,dom:n.dom,components:w.components,behaviours:zu(n.listBehaviours,w.behaviours),apis:{setItems:b}}},p8=pf({name:o5(),configFields:kV(),partFields:DV(),factory:s5,apis:{setItems:(n,s,i)=>{n.setItems(s,i)}}}),Nw="aria-controls",b8=n=>Ah(n,i=>{if(!Xc(i))return!1;const f=Jr(i,"id");return f!==void 0&&f.indexOf(Nw)>-1}).bind(i=>{const f=Jr(i,"id"),b=Ai(i);return ar(b,`[${Nw}="${f}"]`)}),y8=()=>{const n=me(Nw);return{id:n,link:f=>{co(f,Nw,n)},unlink:f=>{rr(f,Nw)}}},v8=(n,s)=>b8(s).exists(i=>av(n,i)),av=(n,s)=>_i(s,i=>oe(i,n.element),yt)||v8(n,s),x8="alloy.item-hover",w8="alloy.item-focus",C8="alloy.item-toggled",S8=n=>{(ii(n.element).isNone()||Qe.isFocused(n))&&(Qe.isFocused(n)||Qe.focus(n),no(n,x8,{item:n}))},E8=n=>{no(n,w8,{item:n})},T8=(n,s)=>{no(n,C8,{item:n,state:s})},r5=ae(x8),OV=ae(w8),A8=ae(C8),k8=n=>n.role.fold(()=>n.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),lt),NV=(n,s)=>({aria:{mode:s?"selected":"checked"},...Yr(n,(i,f)=>f!=="exclusive"),onToggled:(i,f)=>{be(n.onToggled)&&n.onToggled(i,f),T8(i,f)}}),RV=n=>({dom:n.dom,domModification:{...n.domModification,attributes:{role:k8(n),...n.domModification.attributes,"aria-haspopup":n.hasSubmenu,...n.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Xg.augment(n.itemBehaviours,[n.toggling.fold(Ds.revoke,s=>Ds.config(NV(s,n.role.exists(i=>i==="option")))),Qe.config({ignore:n.ignoreFocus,stopMousedown:n.ignoreFocus,onFocus:s=>{E8(s)}}),io.config({mode:"execution"}),Pn.config({store:{mode:"memory",initialValue:n.data}}),de("item-type-events",[...g8(),Nt(Jl(),S8),Nt(pa(),Qe.focus)])]),components:n.components,eventOrder:n.eventOrder});var a5=[Zt("data"),Zt("components"),Zt("dom"),pt("hasSubmenu",!1),gr("toggling"),gr("role"),Xg.field("itemBehaviours",[Ds,Qe,io,Pn]),pt("ignoreFocus",!1),pt("domModification",{}),er("builder",RV),pt("eventOrder",{})];const _8=n=>({dom:n.dom,components:n.components,events:na([ZC(pa())])});var D8=[Zt("dom"),Zt("components"),er("builder",_8)];const i5=ae("item-widget"),l5=ae([Sc({name:"widget",overrides:n=>({behaviours:a([Pn.config({store:{mode:"manual",getValue:s=>n.data,setValue:J}})])})})]),O8=n=>{const s=Fc(i5(),n,l5()),i=vb(i5(),n,s.internals()),f=w=>Er(w,n,"widget").map(S=>(io.focusIn(S),S)),b=(w,S)=>(Gy(S.event.target)||n.autofocus&&S.setSource(w.element),P.none());return{dom:n.dom,components:i,domModification:n.domModification,events:na([wm((w,S)=>{f(w).each(D=>{S.stop()})}),Nt(Jl(),S8),Nt(pa(),(w,S)=>{n.autofocus?f(w):Qe.focus(w)})]),behaviours:Xg.augment(n.widgetBehaviours,[Pn.config({store:{mode:"memory",initialValue:n.data}}),Qe.config({ignore:n.ignoreFocus,onFocus:w=>{E8(w)}}),io.config({mode:"special",focusIn:n.autofocus?w=>{f(w)}:$(),onLeft:b,onRight:b,onEscape:(w,S)=>!Qe.isFocused(w)&&!n.autofocus?(Qe.focus(w),P.some(!0)):(n.autofocus&&S.setSource(w.element),P.none())})])}};var c5=[Zt("uid"),Zt("data"),Zt("components"),Zt("dom"),pt("autofocus",!1),pt("ignoreFocus",!1),Xg.field("widgetBehaviours",[Pn,Qe,io]),pt("domModification",{}),Wm(l5()),er("builder",O8)];const R8=Kl("type",{widget:c5,item:a5,separator:D8}),M8=(n,s)=>({mode:"flatgrid",selector:"."+n.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:n.focusManager}),B8=(n,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+n.markers.item},previousSelector:s.previousSelector,focusManager:n.focusManager}),LV=(n,s)=>({mode:"menu",selector:"."+n.markers.item,moveOnTab:s.moveOnTab,focusManager:n.focusManager}),u5=ae([e1({factory:{sketch:n=>{const s=Mc("menu.spec item",R8,n);return s.builder(s)}},name:"items",unit:"item",defaults:(n,s)=>Yo(s,"uid")?s:{...s,uid:Jy("item")},overrides:(n,s)=>({type:s.type,ignoreFocus:n.fakeFocus,domModification:{classes:[n.markers.item]}})})]),FV=ae([ga("role"),Zt("value"),Zt("items"),Zt("dom"),Zt("components"),pt("eventOrder",{}),Ic("menuBehaviours",[lr,Pn,Ft,io]),ed("movement",{mode:"menu",moveOnTab:!0},Kl("mode",{grid:[mb(),er("config",M8)],matrix:[er("config",B8),Zt("rowSelector"),pt("previousSelector",P.none)],menu:[pt("moveOnTab",!0),er("config",LV)]})),_y(),pt("fakeFocus",!1),pt("focusManager",YC()),Rs("onHighlight"),Rs("onDehighlight"),pt("showMenuRole",!0)]),d5=ae("alloy.menu-focus"),L8=(n,s)=>{const i=ea(n.element,'[role="menuitemradio"][aria-checked="true"]');dt(i,f=>{oe(f,s.element)||n.getSystem().getByDom(f).each(b=>{Ds.off(b)})})},$x=(n,s,i,f)=>({uid:n.uid,dom:n.dom,markers:n.markers,behaviours:zu(n.menuBehaviours,[lr.config({highlightClass:n.markers.selectedItem,itemClass:n.markers.item,onHighlight:n.onHighlight,onDehighlight:n.onDehighlight}),Pn.config({store:{mode:"memory",initialValue:n.value}}),Ft.config({find:P.some}),io.config(n.movement.config(n,n.movement))]),events:na([Nt(OV(),(b,w)=>{const S=w.event;b.getSystem().getByDom(S.target).each(D=>{lr.highlight(b,D),w.stop(),no(b,d5(),{menu:b,item:D})})}),Nt(r5(),(b,w)=>{const S=w.event.item;lr.highlight(b,S)}),Nt(A8(),(b,w)=>{const{item:S,state:D}=w.event;D&&Jr(S.element,"role")==="menuitemradio"&&L8(b,S)})]),components:s,eventOrder:n.eventOrder,...n.showMenuRole?{domModification:{attributes:{role:n.role.getOr("menu")}}}:{}}),Ub=pf({name:"Menu",configFields:FV(),partFields:u5(),factory:$x}),f5=n=>Ra(n,(s,i)=>({k:s,v:i})),eE=(n,s,i,f)=>$n(i,f).bind(b=>$n(n,b).bind(w=>{const S=eE(n,s,i,w);return P.some([w].concat(S))})).getOr([]),PV=(n,s)=>{const i={};_s(n,(S,D)=>{dt(S,B=>{i[B]=D})});const f=s,b=f5(s),w=Ms(b,(S,D)=>[D].concat(eE(i,f,b,D)));return Ms(i,S=>$n(w,S).getOr([S]))},F8=()=>{const n=Nn({}),s=Nn({}),i=Nn({}),f=xo(),b=Nn({}),w=()=>{n.set({}),s.set({}),i.set({}),f.clear()},S=()=>f.get().isNone(),D=(_t,Tn)=>{s.set({...s.get(),[_t]:{type:"prepared",menu:Tn}})},B=(_t,Tn,Xt,nn)=>{f.set(_t),n.set(Xt),s.set(Tn),b.set(nn);const tn=PV(nn,Xt);i.set(tn)},z=_t=>Xr(n.get(),(Tn,Xt)=>Tn===_t),Z=(_t,Tn,Xt)=>De(_t).bind(nn=>z(_t).bind(tn=>Tn(tn).map(fo=>({triggeredMenu:nn,triggeringItem:fo,triggeringPath:Xt})))),K=(_t,Tn)=>{const Xt=Eo(Ee(_t).toArray(),nn=>De(nn).isSome());return $n(i.get(),_t).bind(nn=>{const tn=Ot(Xt.concat(nn)),fo=Le(tn,(Qn,hs)=>Z(Qn,Tn,tn.slice(0,hs+1)).fold(()=>to(f.get(),Qn)?[]:[P.none()],mo=>[P.some(mo)]));return ps(fo)})},ie=_t=>$n(n.get(),_t).map(Tn=>{const Xt=$n(i.get(),_t).getOr([]);return[Tn].concat(Xt)}),he=_t=>$n(i.get(),_t).bind(Tn=>Tn.length>1?P.some(Tn.slice(1)):P.none()),xe=_t=>$n(i.get(),_t),De=_t=>Ie(_t).bind(m5),Ie=_t=>$n(s.get(),_t),Ee=_t=>$n(n.get(),_t);return{setMenuBuilt:D,setContents:B,expand:ie,refresh:xe,collapse:he,lookupMenu:Ie,lookupItem:Ee,otherMenus:_t=>{const Tn=b.get();return xt(Io(Tn),_t)},getPrimary:()=>f.get().bind(De),getMenus:()=>s.get(),clear:w,isClear:S,getTriggeringPath:K}},m5=n=>n.type==="prepared"?P.some(n.menu):P.none(),h5={init:F8,extractPreparedMenu:m5},pk=me("tiered-menu-item-highlight"),g5=me("tiered-menu-item-dehighlight"),$V=(n,s)=>{const i=xo(),f=(Gt,bn,So)=>Ms(So,(qo,so)=>{const Zo=()=>Ub.sketch({...qo,value:so,markers:n.markers,fakeFocus:n.fakeFocus,onHighlight:(Hr,dr)=>{no(Hr,pk,{menuComp:Hr,itemComp:dr})},onDehighlight:(Hr,dr)=>{no(Hr,g5,{menuComp:Hr,itemComp:dr})},focusManager:n.fakeFocus?U2():YC()});return so===bn?{type:"prepared",menu:Gt.getSystem().build(Zo())}:{type:"notbuilt",nbMenu:Zo}}),b=h5.init(),w=Gt=>{const bn=f(Gt,n.data.primary,n.data.menus),So=B();return b.setContents(n.data.primary,bn,n.data.expansions,So),b.getPrimary()},S=Gt=>Pn.getValue(Gt).value,D=(Gt,bn,So)=>gs(bn,qo=>{if(!qo.getSystem().isConnected())return P.none();const so=lr.getCandidates(qo);return Be(so,Zo=>S(Zo)===So)}),B=Gt=>Ms(n.data.menus,(bn,So)=>Le(bn.items,qo=>qo.type==="separator"?[]:[qo.data.value])),z=lr.highlight,Z=(Gt,bn)=>{z(Gt,bn),lr.getHighlighted(bn).orThunk(()=>lr.getFirst(bn)).each(So=>{n.fakeFocus?lr.highlight(bn,So):Vy(Gt,So.element,pa())})},K=(Gt,bn)=>Ho(He(bn,So=>Gt.lookupMenu(So).bind(qo=>qo.type==="prepared"?P.some(qo.menu):P.none()))),ie=(Gt,bn,So)=>{const qo=K(bn,bn.otherMenus(So));dt(qo,so=>{El(so.element,[n.markers.backgroundMenu]),n.stayInDom||Po.remove(Gt,so)})},he=Gt=>i.get().getOrThunk(()=>{const bn={},So=ea(Gt.element,`.${n.markers.item}`),qo=Eo(So,so=>Jr(so,"aria-haspopup")==="true");return dt(qo,so=>{Gt.getSystem().getByDom(so).each(Zo=>{const Hr=S(Zo);bn[Hr]=Zo})}),i.set(bn),bn}),xe=(Gt,bn)=>{const So=he(Gt);_s(So,(qo,so)=>{const Zo=Ue(bn,so);co(qo.element,"aria-expanded",Zo)})},De=(Gt,bn,So)=>P.from(So[0]).bind(qo=>bn.lookupMenu(qo).bind(so=>{if(so.type==="notbuilt")return P.none();{const Zo=so.menu,Hr=K(bn,So.slice(1));return dt(Hr,dr=>{Qs(dr.element,n.markers.backgroundMenu)}),Fs(Zo.element)||Po.append(Gt,_(Zo)),El(Zo.element,[n.markers.backgroundMenu]),Z(Gt,Zo),ie(Gt,bn,So),P.some(Zo)}}));let Ie;(function(Gt){Gt[Gt.HighlightSubmenu=0]="HighlightSubmenu",Gt[Gt.HighlightParent=1]="HighlightParent"})(Ie||(Ie={}));const Ee=(Gt,bn,So)=>{if(So.type==="notbuilt"){const qo=Gt.getSystem().build(So.nbMenu());return b.setMenuBuilt(bn,qo),qo}else return So.menu},Ke=(Gt,bn,So=Ie.HighlightSubmenu)=>{if(bn.hasConfigured(Xn)&&Xn.isDisabled(bn))return P.some(bn);{const qo=S(bn);return b.expand(qo).bind(so=>(xe(Gt,so),P.from(so[0]).bind(Zo=>b.lookupMenu(Zo).bind(Hr=>{const dr=Ee(Gt,Zo,Hr);return Fs(dr.element)||Po.append(Gt,_(dr)),n.onOpenSubmenu(Gt,bn,dr,Ot(so)),So===Ie.HighlightSubmenu?(lr.highlightFirst(dr),De(Gt,b,so)):(lr.dehighlightAll(dr),P.some(bn))}))))}},ot=(Gt,bn)=>{const So=S(bn);return b.collapse(So).bind(qo=>(xe(Gt,qo),De(Gt,b,qo).map(so=>(n.onCollapseMenu(Gt,bn,so),so))))},wt=(Gt,bn)=>{const So=S(bn);return b.refresh(So).bind(qo=>(xe(Gt,qo),De(Gt,b,qo)))},_t=(Gt,bn)=>Gy(bn.element)?P.none():Ke(Gt,bn,Ie.HighlightSubmenu),Tn=(Gt,bn)=>Gy(bn.element)?P.none():ot(Gt,bn),Xt=(Gt,bn)=>ot(Gt,bn).orThunk(()=>n.onEscape(Gt,bn).map(()=>Gt)),nn=Gt=>(bn,So)=>yi(So.getSource(),`.${n.markers.item}`).bind(qo=>bn.getSystem().getByDom(qo).toOptional().bind(so=>Gt(bn,so).map(Mt))),tn=na([Nt(d5(),(Gt,bn)=>{const So=bn.event.item;b.lookupItem(S(So)).each(()=>{const qo=bn.event.menu;lr.highlight(Gt,qo);const so=S(bn.event.item);b.refresh(so).each(Zo=>ie(Gt,b,Zo))})}),wm((Gt,bn)=>{const So=bn.event.target;Gt.getSystem().getByDom(So).each(qo=>{S(qo).indexOf("collapse-item")===0&&ot(Gt,qo),Ke(Gt,qo,Ie.HighlightSubmenu).fold(()=>{n.onExecute(Gt,qo)},J)})}),Rr((Gt,bn)=>{w(Gt).each(So=>{Po.append(Gt,_(So)),n.onOpenMenu(Gt,So),n.highlightOnOpen===Ec.HighlightMenuAndItem?Z(Gt,So):n.highlightOnOpen===Ec.HighlightJustMenu&&z(Gt,So)})}),Nt(pk,(Gt,bn)=>{n.onHighlightItem(Gt,bn.event.menuComp,bn.event.itemComp)}),Nt(g5,(Gt,bn)=>{n.onDehighlightItem(Gt,bn.event.menuComp,bn.event.itemComp)}),...n.navigateOnHover?[Nt(r5(),(Gt,bn)=>{const So=bn.event.item;wt(Gt,So),Ke(Gt,So,Ie.HighlightParent),n.onHover(Gt,So)})]:[]]),fo=Gt=>lr.getHighlighted(Gt).bind(lr.getHighlighted),Qn=Gt=>{fo(Gt).each(bn=>{ot(Gt,bn)})},hs=Gt=>{b.getPrimary().each(bn=>{Z(Gt,bn)})},mo=Gt=>P.from(Gt.components()[0]).filter(bn=>Jr(bn.element,"role")==="menu"),eo={collapseMenu:Qn,highlightPrimary:hs,repositionMenus:Gt=>{b.getPrimary().bind(So=>fo(Gt).bind(qo=>{const so=S(qo),Zo=Ma(b.getMenus()),Hr=Ho(He(Zo,h5.extractPreparedMenu));return b.getTriggeringPath(so,dr=>D(Gt,Hr,dr))}).map(qo=>({primary:So,triggeringPath:qo}))).fold(()=>{mo(Gt).each(So=>{n.onRepositionMenu(Gt,So,[])})},({primary:So,triggeringPath:qo})=>{n.onRepositionMenu(Gt,So,qo)})}};return{uid:n.uid,dom:n.dom,markers:n.markers,behaviours:zu(n.tmenuBehaviours,[io.config({mode:"special",onRight:nn(_t),onLeft:nn(Tn),onEscape:nn(Xt),focusIn:(Gt,bn)=>{b.getPrimary().each(So=>{Vy(Gt,So.element,pa())})}}),lr.config({highlightClass:n.markers.selectedMenu,itemClass:n.markers.menu}),Ft.config({find:Gt=>lr.getHighlighted(Gt)}),Po.config({})]),eventOrder:n.eventOrder,apis:eo,events:tn}},P8=ae("collapse-item"),$8=(n,s,i)=>({primary:n,menus:s,expansions:i}),I8=(n,s)=>({primary:n,menus:za(n,s),expansions:{}}),H8=n=>({value:me(P8()),meta:{text:n}}),Ix=oh({name:"TieredMenu",configFields:[X0("onExecute"),X0("onEscape"),Ih("onOpenMenu"),Ih("onOpenSubmenu"),Rs("onRepositionMenu"),Rs("onCollapseMenu"),pt("highlightOnOpen",Ec.HighlightMenuAndItem),cf("data",[Zt("primary"),Zt("menus"),Zt("expansions")]),pt("fakeFocus",!1),Rs("onHighlightItem"),Rs("onDehighlightItem"),Rs("onHover"),N2(),Zt("dom"),pt("navigateOnHover",!0),pt("stayInDom",!1),Ic("tmenuBehaviours",[io,lr,Ft,Po]),pt("eventOrder",{})],apis:{collapseMenu:(n,s)=>{n.collapseMenu(s)},highlightPrimary:(n,s)=>{n.highlightPrimary(s)},repositionMenus:(n,s)=>{n.repositionMenus(s)}},factory:$V,extraApis:{tieredData:$8,singleData:I8,collapseItem:H8}}),bk=ae("sink"),IV=ae(mu({name:bk(),overrides:ae({dom:{tag:"div"},behaviours:a([fd.config({useFixed:Mt})]),events:na([xm(Ki()),xm(du()),xm(dm())])})})),HV=Lu([pt("isExtraPart",yt),$i("fireEventInstead",[pt("event",mm())])]),p5=n=>{const s=Mc("Dismissal",HV,n);return{[Jm()]:{schema:Lu([Zt("target")]),onReceive:(i,f)=>{nr.isOpen(i)&&(nr.isPartOf(i,f.target)||s.isExtraPart(i,f.target)||s.fireEventInstead.fold(()=>nr.close(i),w=>cs(i,w.event)))}}}},zV=Lu([$i("fireEventInstead",[pt("event",Md())]),uu("doReposition")]),yk=n=>{const s=Mc("Reposition",zV,n);return{[pl()]:{onReceive:i=>{nr.isOpen(i)&&s.fireEventInstead.fold(()=>s.doReposition(i),f=>cs(i,f.event))}}}},z8=(n,s)=>{const i=n.getHotspot(s).getOr(s),f="hotspot",b=n.getAnchorOverrides();return n.layouts.fold(()=>({type:f,hotspot:i,overrides:b}),w=>({type:f,hotspot:i,overrides:b,layouts:w}))},tE=(n,s,i)=>{const f=n.fetch;return f(i).map(s)},j8=(n,s,i,f,b,w,S)=>{const D=tE(n,s,f),B=V8(f,n);return D.map(z=>z.bind(Z=>{const K=Z.menus[Z.primary];return P.from(K).each(ie=>{n.listRole.each(he=>{ie.role=he})}),P.from(Ix.sketch({...w.menu(),uid:Jy(""),data:Z,highlightOnOpen:S,onOpenMenu:(ie,he)=>{const xe=B().getOrDie();fd.position(xe,he,{anchor:i}),nr.decloak(b)},onOpenSubmenu:(ie,he,xe)=>{const De=B().getOrDie();fd.position(De,xe,{anchor:{type:"submenu",item:he}}),nr.decloak(b)},onRepositionMenu:(ie,he,xe)=>{const De=B().getOrDie();fd.position(De,he,{anchor:i}),dt(xe,Ie=>{fd.position(De,Ie.triggeredMenu,{anchor:{type:"submenu",item:Ie.triggeringItem}})})},onEscape:()=>(Qe.focus(f),nr.close(b),P.some(!0))}))}))},vk=(n,s,i,f,b,w,S)=>{const D=z8(n,i);return j8(n,s,D,i,f,b,S).map(z=>(z.fold(()=>{nr.isOpen(f)&&nr.close(f)},Z=>{nr.cloak(f),nr.open(f,Z),w(f)}),f))},jV=(n,s,i,f,b,w,S)=>(nr.close(f),ss.pure(f)),xk=(n,s,i,f,b,w)=>{const S=Uo.getCoupled(i,"sandbox");return(nr.isOpen(S)?jV:vk)(n,s,i,S,f,b,w)},VV=(n,s,i)=>{const f=Ft.getCurrent(s).getOr(s),b=Bi(n.element);i?wo(f.element,"min-width",b+"px"):Sd(f.element,b)},V8=(n,s)=>n.getSystem().getByUid(s.uid+"-"+bk()).map(i=>()=>Bn.value(i)).getOrThunk(()=>s.lazySink.fold(()=>()=>Bn.error(new Error("No internal sink is specified, nor could an external sink be found")),i=>()=>i(n))),U8=n=>{nr.getState(n).each(s=>{Ix.repositionMenus(s)})},Z8=(n,s,i)=>{const f=y8(),b=(D,B)=>{const z=z8(n,s);f.link(s.element),n.matchWidth&&VV(z.hotspot,B,n.useMinWidth),n.onOpen(z,D,B),i!==void 0&&i.onOpen!==void 0&&i.onOpen(D,B)},w=(D,B)=>{f.unlink(s.element),S().getOr(B).element.dom.dispatchEvent(new window.FocusEvent("focusout")),i!==void 0&&i.onClose!==void 0&&i.onClose(D,B)},S=V8(s,n);return{dom:{tag:"div",classes:n.sandboxClasses,attributes:{id:f.id}},behaviours:Xg.augment(n.sandboxBehaviours,[Pn.config({store:{mode:"memory",initialValue:s}}),nr.config({onOpen:b,onClose:w,isPartOf:(D,B,z)=>av(B,z)||av(s,z),getAttachPoint:()=>S().getOrDie()}),Ft.config({find:D=>nr.getState(D).bind(B=>Ft.getCurrent(B))}),md.config({channels:{...p5({isExtraPart:yt}),...yk({doReposition:U8})}})])}},UV=n=>{const s=Uo.getCoupled(n,"sandbox");U8(s)},b5=()=>[pt("sandboxClasses",[]),Xg.field("sandboxBehaviours",[Ft,md,nr,Pn])],ZV=ae([Zt("dom"),Zt("fetch"),Rs("onOpen"),tc("onExecute"),pt("getHotspot",P.some),pt("getAnchorOverrides",ae({})),ov(),Ic("dropdownBehaviours",[Ds,Uo,io,Qe]),Zt("toggleClass"),pt("eventOrder",{}),gr("lazySink"),pt("matchWidth",!1),pt("useMinWidth",!1),gr("role"),gr("listRole")].concat(b5())),WV=ae([Id({schema:[N2(),pt("fakeFocus",!1)],name:"menu",defaults:n=>({onExecute:n.onExecute})}),IV()]),qV=(n,s,i,f)=>{const b=Z=>$n(n.dom,"attributes").bind(K=>$n(K,Z)),w=Z=>{nr.getState(Z).each(K=>{Ix.highlightPrimary(K)})},S=(Z,K,ie)=>xk(n,lt,Z,f,K,ie),D=Z=>{S(Z,w,Ec.HighlightMenuAndItem).get(J)},B={expand:Z=>{Ds.isOn(Z)||S(Z,J,Ec.HighlightNone).get(J)},open:Z=>{Ds.isOn(Z)||S(Z,J,Ec.HighlightMenuAndItem).get(J)},refetch:Z=>Uo.getExistingCoupled(Z,"sandbox").fold(()=>S(Z,J,Ec.HighlightMenuAndItem).map(J),ie=>vk(n,lt,Z,ie,f,J,Ec.HighlightMenuAndItem).map(J)),isOpen:Ds.isOn,close:Z=>{Ds.isOn(Z)&&S(Z,J,Ec.HighlightMenuAndItem).get(J)},repositionMenus:Z=>{Ds.isOn(Z)&&UV(Z)}},z=(Z,K)=>(r1(Z),P.some(!0));return{uid:n.uid,dom:n.dom,components:s,behaviours:zu(n.dropdownBehaviours,[Ds.config({toggleClass:n.toggleClass,aria:{mode:"expanded"}}),Uo.config({others:{sandbox:Z=>Z8(n,Z,{onOpen:()=>Ds.on(Z),onClose:()=>Ds.off(Z)})}}),io.config({mode:"special",onSpace:z,onEnter:z,onDown:(Z,K)=>{if(Gf.isOpen(Z)){const ie=Uo.getCoupled(Z,"sandbox");w(ie)}else Gf.open(Z);return P.some(!0)},onEscape:(Z,K)=>Gf.isOpen(Z)?(Gf.close(Z),P.some(!0)):P.none()}),Qe.config({})]),events:t5(P.some(D)),eventOrder:{...n.eventOrder,[Ns()]:["disabling","toggling","alloy.base.behaviour"]},apis:B,domModification:{attributes:{"aria-haspopup":n.listRole.getOr("true"),...n.role.fold(()=>({}),Z=>({role:Z})),...n.dom.tag==="button"?{type:b("type").getOr("button")}:{}}}}},Gf=pf({name:"Dropdown",configFields:ZV(),partFields:WV(),factory:qV,apis:{open:(n,s)=>n.open(s),refetch:(n,s)=>n.refetch(s),expand:(n,s)=>n.expand(s),close:(n,s)=>n.close(s),isOpen:(n,s)=>n.isOpen(s),repositionMenus:(n,s)=>n.repositionMenus(s)}}),W8="form",GV=[Ic("formBehaviours",[Pn])],y5=n=>"<alloy.field."+n+">",KV=n=>{const s=(()=>{const w=[];return{field:(D,B)=>(w.push(D),_r(W8,y5(D),B)),record:ae(w)}})(),i=n(s),f=s.record(),b=He(f,w=>Sc({name:w,pname:y5(w)}));return cD(W8,GV,b,G8,i)},q8=(n,s)=>n.fold(()=>Bn.error(s),Bn.value),G8=(n,s)=>({uid:n.uid,dom:n.dom,components:s,behaviours:zu(n.formBehaviours,[Pn.config({store:{mode:"manual",getValue:i=>{const f=pm(i,n);return Ms(f,(b,w)=>b().bind(S=>{const D=Ft.getCurrent(S);return q8(D,new Error(`Cannot find a current component to extract the value from for form part '${w}': `+Bd(S.element)))}).map(Pn.getValue))},setValue:(i,f)=>{_s(f,(b,w)=>{Er(i,n,w).each(S=>{Ft.getCurrent(S).each(D=>{Pn.setValue(D,b)})})})}}})]),apis:{getField:(i,f)=>Er(i,n,f).bind(Ft.getCurrent)}}),iv={getField:Cx((n,s,i)=>n.getField(s,i)),sketch:KV},Rw=ae([Zt("dom"),pt("shell",!0),Ic("toolbarBehaviours",[Po])]),XV=ae([mu({name:"groups",overrides:()=>({behaviours:a([Po.config({})])})})]),nE=(n,s,i,f)=>{const b=(D,B)=>{w(D).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},z=>{Po.set(z,B)})},w=D=>n.shell?P.some(D):Er(D,n,"groups"),S=n.shell?{behaviours:[Po.config({})],components:[]}:{behaviours:[],components:s};return{uid:n.uid,dom:n.dom,components:S.components,behaviours:zu(n.toolbarBehaviours,S.behaviours),apis:{setGroups:b,refresh:J},domModification:{attributes:{role:"group"}}}},g0=pf({name:"Toolbar",configFields:Rw(),partFields:XV(),factory:nE,apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)}}}),QV=ae([ds(["toggledClass"]),Zt("lazySink"),uu("fetch"),uf("getBounds"),$i("fireDismissalEventInstead",[pt("event",mm())]),ov(),Rs("onToggled")]),JV=ae([Id({name:"button",overrides:n=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:a([Ds.config({toggleClass:n.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:n.onToggled})])})}),Id({factory:g0,schema:Rw(),name:"toolbar",overrides:n=>({toolbarBehaviours:a([io.config({mode:"cyclic",onEscape:s=>(Er(s,n,"button").each(Qe.focus),P.none())})])})})]),Mw=xo(),K8=(n,s)=>{Mw.set(!0),v5(n,s),Mw.clear()},v5=(n,s)=>{const i=Uo.getCoupled(n,"toolbarSandbox");nr.isOpen(i)?nr.close(i):nr.open(i,s.toolbar())},oE=(n,s,i,f)=>{const b=i.getBounds.map(S=>S()),w=i.lazySink(n).getOrDie();fd.positionWithinBounds(w,s,{anchor:{type:"hotspot",hotspot:n,layouts:f,overrides:{maxWidthFunction:kb()}}},b)},Y8=(n,s,i,f,b)=>{g0.setGroups(s,b),oE(n,s,i,f),Ds.on(n)},eU=(n,s,i)=>{const f=y8(),b=(S,D)=>{const B=Mw.get().getOr(!1);i.fetch().get(z=>{Y8(n,D,i,s.layouts,z),f.link(n.element),B||io.focusIn(D)})},w=()=>{Ds.off(n),Mw.get().getOr(!1)||Qe.focus(n),f.unlink(n.element)};return{dom:{tag:"div",attributes:{id:f.id}},behaviours:a([io.config({mode:"special",onEscape:S=>(nr.close(S),P.some(!0))}),nr.config({onOpen:b,onClose:w,isPartOf:(S,D,B)=>av(D,B)||av(n,B),getAttachPoint:()=>i.lazySink(n).getOrDie()}),md.config({channels:{...p5({isExtraPart:yt,...i.fireDismissalEventInstead.map(S=>({fireEventInstead:{event:S.event}})).getOr({})}),...yk({doReposition:()=>{nr.getState(Uo.getCoupled(n,"toolbarSandbox")).each(S=>{oE(n,S,i,s.layouts)})}})}})])}},Zb=pf({name:"FloatingToolbarButton",factory:(n,s,i,f)=>({...rc.sketch({...f.button(),action:b=>{v5(b,f)},buttonBehaviours:Xg.augment({dump:f.button().buttonBehaviours},[Uo.config({others:{toolbarSandbox:b=>eU(b,i,n)}})])}),apis:{setGroups:(b,w)=>{nr.getState(Uo.getCoupled(b,"toolbarSandbox")).each(S=>{Y8(b,S,n,i.layouts,w)})},reposition:b=>{nr.getState(Uo.getCoupled(b,"toolbarSandbox")).each(w=>{oE(b,w,n,i.layouts)})},toggle:b=>{v5(b,f)},toggleWithoutFocusing:b=>{K8(b,f)},getToolbar:b=>nr.getState(Uo.getCoupled(b,"toolbarSandbox")),isOpen:b=>nr.isOpen(Uo.getCoupled(b,"toolbarSandbox"))}}),configFields:QV(),partFields:JV(),apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)},reposition:(n,s)=>{n.reposition(s)},toggle:(n,s)=>{n.toggle(s)},toggleWithoutFocusing:(n,s)=>{n.toggleWithoutFocusing(s)},getToolbar:(n,s)=>n.getToolbar(s),isOpen:(n,s)=>n.isOpen(s)}}),X8=ae([pt("prefix","form-field"),Ic("fieldBehaviours",[Ft,Pn])]),tU=ae([mu({schema:[Zt("dom")],name:"label"}),mu({factory:{sketch:n=>({uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}})},schema:[Zt("text")],name:"aria-descriptor"}),Sc({factory:{sketch:n=>{const s=Ey(n,["factory"]);return n.factory.sketch(s)}},schema:[Zt("factory")],name:"field"})]),nU=(n,s,i,f)=>{const b=zu(n.fieldBehaviours,[Ft.config({find:D=>Er(D,n,"field")}),Pn.config({store:{mode:"manual",getValue:D=>Ft.getCurrent(D).bind(Pn.getValue),setValue:(D,B)=>{Ft.getCurrent(D).each(z=>{Pn.setValue(z,B)})}}})]),w=na([Rr((D,B)=>{const z=Hf(D,n,["label","field","aria-descriptor"]);z.field().each(Z=>{const K=me(n.prefix);z.label().each(ie=>{co(ie.element,"for",K),co(Z.element,"id",K)}),z["aria-descriptor"]().each(ie=>{const he=me(n.prefix);co(ie.element,"id",he),co(Z.element,"aria-describedby",he)})})})]),S={getField:D=>Er(D,n,"field"),getLabel:D=>Er(D,n,"label")};return{uid:n.uid,dom:n.dom,components:s,behaviours:b,events:w,apis:S}},Ss=pf({name:"FormField",configFields:X8(),partFields:tU(),factory:nU,apis:{getField:(n,s)=>n.getField(s),getLabel:(n,s)=>n.getLabel(s)}}),oU=ae([pt("field1Name","field1"),pt("field2Name","field2"),Ih("onLockedChange"),ds(["lockClass"]),pt("locked",!1),Xg.field("coupledFieldBehaviours",[Ft,Pn]),ir("onInput",J)]),sU=(n,s,i)=>Er(n,s,i).bind(Ft.getCurrent),Q8=(n,s)=>Sc({factory:Ss,name:n,overrides:i=>({fieldBehaviours:a([de("coupled-input-behaviour",[Nt(Bf(),f=>{sU(f,i,s).each(b=>{Er(f,i,"lock").each(w=>{Ds.isOn(w)&&i.onLockedChange(f,b,w),i.onInput(f)})})})])])})}),rU=ae([Q8("field1","field2"),Q8("field2","field1"),Sc({factory:rc,schema:[Zt("dom")],name:"lock",overrides:n=>({buttonBehaviours:a([Ds.config({selected:n.locked,toggleClass:n.markers.lockClass,aria:{mode:"pressed"}})])})})]),aU=(n,s,i,f)=>({uid:n.uid,dom:n.dom,components:s,behaviours:Xg.augment(n.coupledFieldBehaviours,[Ft.config({find:P.some}),Pn.config({store:{mode:"manual",getValue:b=>{const w=Ry(b,n,["field1","field2"]);return{[n.field1Name]:Pn.getValue(w.field1()),[n.field2Name]:Pn.getValue(w.field2())}},setValue:(b,w)=>{const S=Ry(b,n,["field1","field2"]);_o(w,n.field1Name)&&Pn.setValue(S.field1(),w[n.field1Name]),_o(w,n.field2Name)&&Pn.setValue(S.field2(),w[n.field2Name])}}})]),apis:{getField1:b=>Er(b,n,"field1"),getField2:b=>Er(b,n,"field2"),getLock:b=>Er(b,n,"lock")}}),tl=pf({name:"FormCoupledInputs",configFields:oU(),partFields:rU(),factory:aU,apis:{getField1:(n,s)=>n.getField1(s),getField2:(n,s)=>n.getField2(s),getLock:(n,s)=>n.getLock(s)}}),iU=(n,s)=>{const i=He(n.options,b=>({dom:{tag:"option",value:b.value,innerHtml:b.text}})),f=n.data.map(b=>za("initialValue",b)).getOr({});return{uid:n.uid,dom:{tag:"select",classes:n.selectClasses,attributes:n.selectAttributes},components:i,behaviours:zu(n.selectBehaviours,[Qe.config({}),Pn.config({store:{mode:"manual",getValue:b=>pc(b.element),setValue:(b,w)=>{const S=Un(n.options);Be(n.options,B=>B.value===w).isSome()?Dd(b.element,w):b.element.dom.selectedIndex===-1&&w===""&&S.each(B=>Dd(b.element,B.value))},...f}})])}},w5=oh({name:"HtmlSelect",configFields:[Zt("options"),Ic("selectBehaviours",[Qe,Pn]),pt("selectClasses",[]),pt("selectAttributes",{}),gr("data")],factory:iU}),J8=(n,s,i,f,b)=>{const w=()=>n.lazySink(s),S=f.type==="horizontal"?{layouts:{onLtr:()=>tx(),onRtl:()=>Wh()}}:{},D=z=>z.length===2,B=z=>D(z)?S:{};return Ix.sketch({dom:{tag:"div"},data:f.data,markers:f.menu.markers,highlightOnOpen:f.menu.highlightOnOpen,fakeFocus:f.menu.fakeFocus,onEscape:()=>(nr.close(s),n.onEscape.map(z=>z(s)),P.some(!0)),onExecute:()=>P.some(!0),onOpenMenu:(z,Z)=>{fd.positionWithinBounds(w().getOrDie(),Z,i,b())},onOpenSubmenu:(z,Z,K,ie)=>{const he=w().getOrDie();fd.position(he,K,{anchor:{type:"submenu",item:Z,...B(ie)}})},onRepositionMenu:(z,Z,K)=>{const ie=w().getOrDie();fd.positionWithinBounds(ie,Z,i,b()),dt(K,he=>{const xe=B(he.triggeringPath);fd.position(ie,he.triggeredMenu,{anchor:{type:"submenu",item:he.triggeringItem,...xe}})})}})},lU=(n,s)=>{const i=(ie,he)=>n.getRelated(ie).exists(De=>av(De,he)),f=(ie,he)=>{nr.setContent(ie,he)},b=(ie,he,xe)=>{const De=P.none;w(ie,he,xe,De)},w=(ie,he,xe,De)=>{const Ie=n.lazySink(ie).getOrDie();nr.openWhileCloaked(ie,he,()=>fd.positionWithinBounds(Ie,ie,xe,De())),Pn.setValue(ie,P.some({mode:"position",config:xe,getBounds:De}))},S=(ie,he,xe)=>{D(ie,he,xe,P.none)},D=(ie,he,xe,De)=>{const Ie=J8(n,ie,he,xe,De);nr.open(ie,Ie),Pn.setValue(ie,P.some({mode:"menu",menu:Ie}))},B=ie=>{nr.isOpen(ie)&&(Pn.setValue(ie,P.none()),nr.close(ie))},z=ie=>nr.getState(ie),Z=ie=>{nr.isOpen(ie)&&Pn.getValue(ie).each(he=>{switch(he.mode){case"menu":nr.getState(ie).each(Ix.repositionMenus);break;case"position":const xe=n.lazySink(ie).getOrDie();fd.positionWithinBounds(xe,ie,he.config,he.getBounds());break}})},K={setContent:f,showAt:b,showWithinBounds:w,showMenuAt:S,showMenuWithinBounds:D,hide:B,getContent:z,reposition:Z,isOpen:nr.isOpen};return{uid:n.uid,dom:n.dom,behaviours:zu(n.inlineBehaviours,[nr.config({isPartOf:(ie,he,xe)=>av(he,xe)||i(ie,xe),getAttachPoint:ie=>n.lazySink(ie).getOrDie(),onOpen:ie=>{n.onShow(ie)},onClose:ie=>{n.onHide(ie)}}),Pn.config({store:{mode:"memory",initialValue:P.none()}}),md.config({channels:{...p5({isExtraPart:s.isExtraPart,...n.fireDismissalEventInstead.map(ie=>({fireEventInstead:{event:ie.event}})).getOr({})}),...yk({...n.fireRepositionEventInstead.map(ie=>({fireEventInstead:{event:ie.event}})).getOr({}),doReposition:Z})}})]),eventOrder:n.eventOrder,apis:K}},hi=oh({name:"InlineView",configFields:[Zt("lazySink"),Rs("onShow"),Rs("onHide"),uf("onEscape"),Ic("inlineBehaviours",[nr,Pn,md]),$i("fireDismissalEventInstead",[pt("event",mm())]),$i("fireRepositionEventInstead",[pt("event",Md())]),pt("getRelated",P.none),pt("isExtraPart",yt),pt("eventOrder",P.none)],factory:lU,apis:{showAt:(n,s,i,f)=>{n.showAt(s,i,f)},showWithinBounds:(n,s,i,f,b)=>{n.showWithinBounds(s,i,f,b)},showMenuAt:(n,s,i,f)=>{n.showMenuAt(s,i,f)},showMenuWithinBounds:(n,s,i,f,b)=>{n.showMenuWithinBounds(s,i,f,b)},hide:(n,s)=>{n.hide(s)},isOpen:(n,s)=>n.isOpen(s),getContent:(n,s)=>n.getContent(s),setContent:(n,s,i)=>{n.setContent(s,i)},reposition:(n,s)=>{n.reposition(s)}}}),C5=ae([Da("type","text"),gr("data"),pt("inputAttributes",{}),pt("inputStyles",{}),pt("tag","input"),pt("inputClasses",[]),Rs("onSetValue"),ir("fromInputValue",lt),ir("toInputValue",lt),pt("styles",{}),pt("eventOrder",{}),Ic("inputBehaviours",[Pn,Qe]),pt("selectOnFocus",!0)]),eL=n=>a([Qe.config({onFocus:n.selectOnFocus?s=>{const i=s.element,f=pc(i);n.type!=="range"&&i.dom.setSelectionRange(0,f.length)}:J})]),cU=n=>({...eL(n),...zu(n.inputBehaviours,[Pn.config({store:{mode:"manual",...n.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>n.fromInputValue(pc(s.element)),setValue:(s,i)=>{pc(s.element)!==i&&Dd(s.element,n.toInputValue(i))}},onSetValue:n.onSetValue})])}),S5=n=>({tag:n.tag,attributes:{type:n.type,...n.inputAttributes},styles:n.inputStyles,classes:n.inputClasses}),tL=(n,s)=>({uid:n.uid,dom:S5(n),components:[],behaviours:cU(n),eventOrder:n.eventOrder}),C1=oh({name:"Input",configFields:C5(),factory:tL}),E5=Pg(i5(),l5()),uU=(n,s)=>{const i=li(n,"id").fold(()=>{const f=me("dialog-label");return co(s,"id",f),f},lt);co(n,"aria-labelledby",i)},dU=ae([Zt("lazySink"),gr("dragBlockClass"),ir("getBounds",bc),pt("useTabstopAt",Mt),pt("firstTabstop",0),pt("eventOrder",{}),Ic("modalBehaviours",[io]),tc("onExecute"),X0("onEscape")]),wk={sketch:lt},T5=ae([mu({name:"draghandle",overrides:(n,s)=>({behaviours:a([zb.config({mode:"mouse",getTarget:i=>nu(i,'[role="dialog"]').getOr(i),blockerClass:n.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:n.getDragBounds})])})}),Sc({schema:[Zt("dom")],name:"title"}),Sc({factory:wk,schema:[Zt("dom")],name:"close"}),Sc({factory:wk,schema:[Zt("dom")],name:"body"}),mu({factory:wk,schema:[Zt("dom")],name:"footer"}),Id({factory:{sketch:(n,s)=>({...n,dom:s.dom,components:s.components})},schema:[pt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),pt("components",[])],name:"blocker"})]),fU=(n,s,i,f)=>{const b=xo(),w=xe=>{b.set(xe);const De=n.lazySink(xe).getOrDie(),Ie=f.blocker(),Ee=De.getSystem().build({...Ie,components:Ie.components.concat([_(xe)]),behaviours:a([Qe.config({}),de("dialog-blocker-events",[t0(ec(),()=>{Jt.isBlocked(xe)?J():io.focusIn(xe)})])])});r0(De,Ee),io.focusIn(xe)},S=xe=>{b.clear(),xl(xe.element).each(De=>{xe.getSystem().getByDom(De).each(Ie=>{i0(Ie)})})},D=xe=>ad(xe,n,"body"),B=xe=>Er(xe,n,"footer"),z=(xe,De)=>{Jt.block(xe,De)},Z=xe=>{Jt.unblock(xe)},K=me("modal-events"),ie={...n.eventOrder,[Lc()]:[K].concat(n.eventOrder["alloy.system.attached"]||[])},he=Za();return{uid:n.uid,dom:n.dom,components:s,apis:{show:w,hide:S,getBody:D,getFooter:B,setIdle:Z,setBusy:z},eventOrder:ie,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:zu(n.modalBehaviours,[Po.config({}),io.config({mode:"cyclic",onEnter:n.onExecute,onEscape:n.onEscape,useTabstopAt:n.useTabstopAt,firstTabstop:n.firstTabstop}),Jt.config({getRoot:b.get}),de(K,[Rr(xe=>{const De=ad(xe,n,"title").element,Ie=Lm(De);he.os.isMacOS()&&$e(Ie)?co(xe.element,"aria-label",Ie):uU(xe.element,De)})])])}},ac=pf({name:"ModalDialog",configFields:dU(),partFields:T5(),factory:fU,apis:{show:(n,s)=>{n.show(s)},hide:(n,s)=>{n.hide(s)},getBody:(n,s)=>n.getBody(s),getFooter:(n,s)=>n.getFooter(s),setBusy:(n,s,i)=>{n.setBusy(s,i)},setIdle:(n,s)=>{n.setIdle(s)}}}),mU=mu({schema:[Zt("dom")],name:"label"}),lv=n=>mu({name:""+n+"-edge",overrides:s=>s.model.manager.edgeActions[n].fold(()=>({}),f=>({events:na([mf(td(),(b,w,S)=>f(b,S),[s]),mf(du(),(b,w,S)=>f(b,S),[s]),mf(xc(),(b,w,S)=>{S.mouseIsDown.get()&&f(b,S)},[s])])}))}),hU=lv("top-left"),gU=lv("top"),nL=lv("top-right"),oL=lv("right"),pU=lv("bottom-right"),bU=lv("bottom"),yU=lv("bottom-left"),Sm=lv("left"),ep=Sc({name:"thumb",defaults:ae({dom:{styles:{position:"absolute"}}}),overrides:n=>({events:na([Qm(td(),n,"spectrum"),Qm(Qa(),n,"spectrum"),Qm($l(),n,"spectrum"),Qm(du(),n,"spectrum"),Qm(xc(),n,"spectrum"),Qm(Mf(),n,"spectrum")])})}),sE=n=>c1(n.event),A5=Sc({schema:[yc("mouseIsDown",()=>Nn(!1))],name:"spectrum",overrides:n=>{const i=n.model.manager,f=(b,w)=>i.getValueFromEvent(w).map(S=>i.setValueFrom(b,n,S));return{behaviours:a([io.config({mode:"special",onLeft:(b,w)=>i.onLeft(b,n,sE(w)),onRight:(b,w)=>i.onRight(b,n,sE(w)),onUp:(b,w)=>i.onUp(b,n,sE(w)),onDown:(b,w)=>i.onDown(b,n,sE(w))}),ca.config({}),Qe.config({})]),events:na([Nt(td(),f),Nt(Qa(),f),Nt(du(),f),Nt(xc(),(b,w)=>{n.mouseIsDown.get()&&f(b,w)})])}}});var k5=[mU,Sm,oL,gU,bU,hU,nL,yU,pU,ep,A5];const rE=ae("slider.change.value"),sL=n=>n.type.indexOf("touch")!==-1,Hx=n=>{const s=n.event.raw;if(sL(s)){const i=s;return i.touches!==void 0&&i.touches.length===1?P.some(i.touches[0]).map(f=>cr(f.clientX,f.clientY)):P.none()}else{const i=s;return i.clientX!==void 0?P.some(i).map(f=>cr(f.clientX,f.clientY)):P.none()}},vU="top",Ck="right",D5="bottom",rL="left",p0=n=>n.model.minX,zx=n=>n.model.minY,Sk=n=>n.model.minX-1,ah=n=>n.model.minY-1,pu=n=>n.model.maxX,b0=n=>n.model.maxY,Zd=n=>n.model.maxX+1,Ek=n=>n.model.maxY+1,ua=(n,s,i)=>s(n)-i(n),O5=n=>ua(n,pu,p0),y0=n=>ua(n,b0,zx),Bw=n=>O5(n)/2,N5=n=>y0(n)/2,cv=(n,s)=>s?n.stepSize*n.speedMultiplier:n.stepSize,Tk=n=>n.snapToGrid,aL=n=>n.snapStart,Ak=n=>n.rounded,kk=(n,s)=>n[s+"-edge"]!==void 0,R5=n=>kk(n,rL),M5=n=>kk(n,Ck),_k=n=>kk(n,vU),B5=n=>kk(n,D5),tp=n=>n.model.value.get(),uv=(n,s)=>({x:n,y:s}),np=(n,s)=>{no(n,rE(),{value:s})},xU=(n,s)=>{np(n,uv(Sk(s),ah(s)))},wU=(n,s)=>{np(n,ah(s))},CU=(n,s)=>{np(n,uv(Bw(s),ah(s)))},iL=(n,s)=>{np(n,uv(Zd(s),ah(s)))},SU=(n,s)=>{np(n,Zd(s))},EU=(n,s)=>{np(n,uv(Zd(s),N5(s)))},lL=(n,s)=>{np(n,uv(Zd(s),Ek(s)))},TU=(n,s)=>{np(n,Ek(s))},cL=(n,s)=>{np(n,uv(Bw(s),Ek(s)))},aE=(n,s)=>{np(n,uv(Sk(s),Ek(s)))},AU=(n,s)=>{np(n,Sk(s))},kU=(n,s)=>{np(n,uv(Sk(s),N5(s)))},Dk=(n,s,i,f)=>n<s?n:n>i?i:n===s?s-1:Math.max(s,n-f),Ok=(n,s,i,f)=>n>i?n:n<s?s:n===i?i+1:Math.min(i,n+f),Nk=(n,s,i)=>Math.max(s,Math.min(i,n)),uL=(n,s,i,f,b)=>b.fold(()=>{const w=n-s,S=Math.round(w/f)*f;return Nk(s+S,s-1,i+1)},w=>{const S=(n-w)%f,D=Math.round(S/f),B=Math.floor((n-w)/f),z=Math.floor((i-w)/f),Z=Math.min(z,B+D),K=w+Z*f;return Math.max(w,K)}),_U=(n,s,i)=>Math.min(i,Math.max(n,s))-s,dL=n=>{const{min:s,max:i,range:f,value:b,step:w,snap:S,snapStart:D,rounded:B,hasMinEdge:z,hasMaxEdge:Z,minBound:K,maxBound:ie,screenRange:he}=n,xe=z?s-1:s,De=Z?i+1:i;if(b<K)return xe;if(b>ie)return De;{const Ie=_U(b,K,ie),Ee=Nk(Ie/he*f+s,xe,De);return S&&Ee>=s&&Ee<=i?uL(Ee,s,i,w,D):B?Math.round(Ee):Ee}},fL=n=>{const{min:s,max:i,range:f,value:b,hasMinEdge:w,hasMaxEdge:S,maxBound:D,maxOffset:B,centerMinEdge:z,centerMaxEdge:Z}=n;return b<s?w?0:z:b>i?S?D:Z:(b-s)/f*B},L5="top",mL="right",hL="bottom",Rk="left",op="width",DU="height",sp=n=>n.element.dom.getBoundingClientRect(),ng=(n,s)=>n[s],iE=n=>{const s=sp(n);return ng(s,Rk)},gL=n=>{const s=sp(n);return ng(s,mL)},lE=n=>{const s=sp(n);return ng(s,L5)},F5=n=>{const s=sp(n);return ng(s,hL)},P5=n=>{const s=sp(n);return ng(s,op)},pL=n=>{const s=sp(n);return ng(s,DU)},bL=(n,s,i)=>(n+s)/2-i,yL=(n,s)=>{const i=sp(n),f=sp(s),b=ng(i,Rk),w=ng(i,mL),S=ng(f,Rk);return bL(b,w,S)},vL=(n,s)=>{const i=sp(n),f=sp(s),b=ng(i,L5),w=ng(i,hL),S=ng(f,L5);return bL(b,w,S)},Mk=(n,s)=>{no(n,rE(),{value:s})},$5=(n,s,i)=>{const f={min:p0(s),max:pu(s),range:O5(s),value:i,step:cv(s),snap:Tk(s),snapStart:aL(s),rounded:Ak(s),hasMinEdge:R5(s),hasMaxEdge:M5(s),minBound:iE(n),maxBound:gL(n),screenRange:P5(n)};return dL(f)},OU=(n,s,i)=>{const f=$5(n,s,i);return Mk(n,f),f},xL=(n,s)=>{const i=p0(s);Mk(n,i)},wL=(n,s)=>{const i=pu(s);Mk(n,i)},CL=(n,s,i,f)=>{const w=(n>0?Ok:Dk)(tp(i),p0(i),pu(i),cv(i,f));return Mk(s,w),P.some(w)},I5=n=>(s,i,f)=>CL(n,s,i,f).map(Mt),NU=n=>Hx(n).map(i=>i.left),RU=(n,s,i,f,b)=>{const S=P5(n),D=f.bind(Z=>P.some(yL(Z,n))).getOr(0),B=b.bind(Z=>P.some(yL(Z,n))).getOr(S),z={min:p0(s),max:pu(s),range:O5(s),value:i,hasMinEdge:R5(s),hasMaxEdge:M5(s),minBound:iE(n),maxBound:gL(n),maxOffset:S,centerMinEdge:D,centerMaxEdge:B};return fL(z)},H5=(n,s,i,f,b,w)=>{const S=RU(s,w,i,f,b);return iE(s)-iE(n)+S},SL=(n,s,i,f)=>{const b=tp(i),w=H5(n,f.getSpectrum(n),b,f.getLeftEdge(n),f.getRightEdge(n),i),S=Bi(s.element)/2;wo(s.element,"left",w-S+"px")},Lw=I5(-1),Bk=I5(1),MU=P.none,EL=P.none,TL={"top-left":P.none(),top:P.none(),"top-right":P.none(),right:P.some(SU),"bottom-right":P.none(),bottom:P.none(),"bottom-left":P.none(),left:P.some(AU)};var AL=Object.freeze({__proto__:null,setValueFrom:OU,setToMin:xL,setToMax:wL,findValueOfOffset:$5,getValueFromEvent:NU,findPositionOfValue:H5,setPositionFromValue:SL,onLeft:Lw,onRight:Bk,onUp:MU,onDown:EL,edgeActions:TL});const cE=(n,s)=>{no(n,rE(),{value:s})},uE=(n,s,i)=>{const f={min:zx(s),max:b0(s),range:y0(s),value:i,step:cv(s),snap:Tk(s),snapStart:aL(s),rounded:Ak(s),hasMinEdge:_k(s),hasMaxEdge:B5(s),minBound:lE(n),maxBound:F5(n),screenRange:pL(n)};return dL(f)},z5=(n,s,i)=>{const f=uE(n,s,i);return cE(n,f),f},BU=(n,s)=>{const i=zx(s);cE(n,i)},LU=(n,s)=>{const i=b0(s);cE(n,i)},FU=(n,s,i,f)=>{const w=(n>0?Ok:Dk)(tp(i),zx(i),b0(i),cv(i,f));return cE(s,w),P.some(w)},j5=n=>(s,i,f)=>FU(n,s,i,f).map(Mt),kL=n=>Hx(n).map(i=>i.top),PU=(n,s,i,f,b)=>{const S=pL(n),D=f.bind(Z=>P.some(vL(Z,n))).getOr(0),B=b.bind(Z=>P.some(vL(Z,n))).getOr(S),z={min:zx(s),max:b0(s),range:y0(s),value:i,hasMinEdge:_k(s),hasMaxEdge:B5(s),minBound:lE(n),maxBound:F5(n),maxOffset:S,centerMinEdge:D,centerMaxEdge:B};return fL(z)},V5=(n,s,i,f,b,w)=>{const S=PU(s,w,i,f,b);return lE(s)-lE(n)+S},_L=(n,s,i,f)=>{const b=tp(i),w=V5(n,f.getSpectrum(n),b,f.getTopEdge(n),f.getBottomEdge(n),i),S=bi(s.element)/2;wo(s.element,"top",w-S+"px")},$U=P.none,IU=P.none,HU=j5(-1),zU=j5(1),jU={"top-left":P.none(),top:P.some(wU),"top-right":P.none(),right:P.none(),"bottom-right":P.none(),bottom:P.some(TU),"bottom-left":P.none(),left:P.none()};var VU=Object.freeze({__proto__:null,setValueFrom:z5,setToMin:BU,setToMax:LU,findValueOfOffset:uE,getValueFromEvent:kL,findPositionOfValue:V5,setPositionFromValue:_L,onLeft:$U,onRight:IU,onUp:HU,onDown:zU,edgeActions:jU});const Lk=(n,s)=>{no(n,rE(),{value:s})},dE=(n,s)=>({x:n,y:s}),DL=(n,s,i)=>{const f=$5(n,s,i.left),b=uE(n,s,i.top),w=dE(f,b);return Lk(n,w),w},UU=(n,s,i,f,b)=>{const w=n>0?Ok:Dk,S=s?tp(f).x:w(tp(f).x,p0(f),pu(f),cv(f,b)),D=s?w(tp(f).y,zx(f),b0(f),cv(f,b)):tp(f).y;return Lk(i,dE(S,D)),P.some(S)},Fk=(n,s)=>(i,f,b)=>UU(n,s,i,f,b).map(Mt),ZU=(n,s)=>{const i=p0(s),f=zx(s);Lk(n,dE(i,f))},OL=(n,s)=>{const i=pu(s),f=b0(s);Lk(n,dE(i,f))},WU=n=>Hx(n),qU=(n,s,i,f)=>{const b=tp(i),w=H5(n,f.getSpectrum(n),b.x,f.getLeftEdge(n),f.getRightEdge(n),i),S=V5(n,f.getSpectrum(n),b.y,f.getTopEdge(n),f.getBottomEdge(n),i),D=Bi(s.element)/2,B=bi(s.element)/2;wo(s.element,"left",w-D+"px"),wo(s.element,"top",S-B+"px")},GU=Fk(-1,!1),Pk=Fk(1,!1),KU=Fk(-1,!0),YU=Fk(1,!0),XU={"top-left":P.some(xU),top:P.some(CU),"top-right":P.some(iL),right:P.some(EU),"bottom-right":P.some(lL),bottom:P.some(cL),"bottom-left":P.some(aE),left:P.some(kU)};var QU=Object.freeze({__proto__:null,setValueFrom:DL,setToMin:ZU,setToMax:OL,getValueFromEvent:WU,setPositionFromValue:qU,onLeft:GU,onRight:Pk,onUp:KU,onDown:YU,edgeActions:XU});const JU=[pt("stepSize",1),pt("speedMultiplier",10),pt("onChange",J),pt("onChoose",J),pt("onInit",J),pt("onDragStart",J),pt("onDragEnd",J),pt("snapToGrid",!1),pt("rounded",!0),gr("snapStart"),Bc("model",Kl("mode",{x:[pt("minX",0),pt("maxX",100),yc("value",n=>Nn(n.mode.minX)),Zt("getInitialValue"),er("manager",AL)],y:[pt("minY",0),pt("maxY",100),yc("value",n=>Nn(n.mode.minY)),Zt("getInitialValue"),er("manager",VU)],xy:[pt("minX",0),pt("maxX",100),pt("minY",0),pt("maxY",100),yc("value",n=>Nn({x:n.mode.minX,y:n.mode.minY})),Zt("getInitialValue"),er("manager",QU)]})),Ic("sliderBehaviours",[io,Pn]),yc("mouseIsDown",()=>Nn(!1))],rp=pf({name:"Slider",configFields:JU,partFields:k5,factory:(n,s,i,f)=>{const b=_t=>ad(_t,n,"thumb"),w=_t=>ad(_t,n,"spectrum"),S=_t=>Er(_t,n,"left-edge"),D=_t=>Er(_t,n,"right-edge"),B=_t=>Er(_t,n,"top-edge"),z=_t=>Er(_t,n,"bottom-edge"),Z=n.model,K=Z.manager,ie=(_t,Tn)=>{K.setPositionFromValue(_t,Tn,n,{getLeftEdge:S,getRightEdge:D,getTopEdge:B,getBottomEdge:z,getSpectrum:w})},he=(_t,Tn)=>{Z.value.set(Tn);const Xt=b(_t);ie(_t,Xt)},xe=(_t,Tn)=>{he(_t,Tn);const Xt=b(_t);return n.onChange(_t,Xt,Tn),P.some(!0)},De=_t=>{K.setToMin(_t,n)},Ie=_t=>{K.setToMax(_t,n)},Ee=_t=>{const Tn=()=>{Er(_t,n,"thumb").each(nn=>{const tn=Z.value.get();n.onChoose(_t,nn,tn)})},Xt=n.mouseIsDown.get();n.mouseIsDown.set(!1),Xt&&Tn()},Ke=(_t,Tn)=>{Tn.stop(),n.mouseIsDown.set(!0),n.onDragStart(_t,b(_t))},ot=(_t,Tn)=>{Tn.stop(),n.onDragEnd(_t,b(_t)),Ee(_t)},wt=_t=>{Er(_t,n,"spectrum").map(io.focusIn)};return{uid:n.uid,dom:n.dom,components:s,behaviours:zu(n.sliderBehaviours,[io.config({mode:"special",focusIn:wt}),Pn.config({store:{mode:"manual",getValue:_t=>Z.value.get(),setValue:he}}),md.config({channels:{[o0()]:{onReceive:Ee}}})]),events:na([Nt(rE(),(_t,Tn)=>{xe(_t,Tn.event.value)}),Rr((_t,Tn)=>{const Xt=Z.getInitialValue();Z.value.set(Xt);const nn=b(_t);ie(_t,nn);const tn=w(_t);n.onInit(_t,nn,tn,Z.value.get())}),Nt(td(),Ke),Nt($l(),ot),Nt(du(),(_t,Tn)=>{wt(_t),Ke(_t,Tn)}),Nt(Mf(),ot)]),apis:{resetToMin:De,resetToMax:Ie,setValue:he,refresh:ie},domModification:{styles:{position:"relative"}}}},apis:{setValue:(n,s,i)=>{n.setValue(s,i)},resetToMin:(n,s)=>{n.resetToMin(s)},resetToMax:(n,s)=>{n.resetToMax(s)},refresh:(n,s)=>{n.refresh(s)}}}),NL="container",eZ=[Ic("slotBehaviours",[])],RL=n=>"<alloy.field."+n+">",tZ=n=>{const s=(()=>{const w=[];return{slot:(D,B)=>(w.push(D),_r(NL,RL(D),B)),record:ae(w)}})(),i=n(s),f=s.record(),b=He(f,w=>Sc({name:w,pname:RL(w)}));return cD(NL,eZ,b,nZ,i)},nZ=(n,s)=>{const i=De=>id(n),f=(De,Ie)=>Er(De,n,Ie),b=(De,Ie)=>(Ee,Ke)=>Er(Ee,n,Ke).map(ot=>De(ot,Ke)).getOr(Ie),w=De=>(Ie,Ee)=>{dt(Ee,Ke=>De(Ie,Ke))},S=(De,Ie)=>Jr(De.element,"aria-hidden")!=="true",D=(De,Ie)=>{if(!S(De)){const Ee=De.element;rs(Ee,"display"),rr(Ee,"aria-hidden"),no(De,$p(),{name:Ie,visible:!0})}},B=(De,Ie)=>{if(S(De)){const Ee=De.element;wo(Ee,"display","none"),co(Ee,"aria-hidden","true"),no(De,$p(),{name:Ie,visible:!1})}},z=b(S,!1),Z=b(B),K=w(Z),ie=De=>K(De,i()),he=b(D),xe={getSlotNames:i,getSlot:f,isShowing:z,hideSlot:Z,hideAllSlots:ie,showSlot:he};return{uid:n.uid,dom:n.dom,components:s,behaviours:zS(n.slotBehaviours),apis:xe}},bu={...Ms({getSlotNames:(n,s)=>n.getSlotNames(s),getSlot:(n,s,i)=>n.getSlot(s,i),isShowing:(n,s,i)=>n.isShowing(s,i),hideSlot:(n,s,i)=>n.hideSlot(s,i),hideAllSlots:(n,s)=>n.hideAllSlots(s),showSlot:(n,s,i)=>n.showSlot(s,i)},n=>Cx(n)),sketch:tZ},oZ=(n,s)=>jo(n,(b,w)=>s(w,b.len).fold(ae(b),D=>({len:D.finish,list:b.list.concat([D])})),{len:0,list:[]}).list,U5=(n,s,i)=>({within:n,extra:s,withinWidth:i}),ML=(n,s,i)=>{const f=oZ(n,(D,B)=>{const z=i(D);return P.some({element:D,start:B,finish:B+z,width:z})}),b=Eo(f,D=>D.finish<=s),w=Lo(b,(D,B)=>D+B.width,0),S=f.slice(b.length);return{within:b,extra:S,withinWidth:w}},fE=n=>He(n,s=>s.element),sZ=(n,s,i)=>{const f=fE(n.concat(s));return U5(f,[],i)},rZ=(n,s,i,f)=>{const b=fE(n).concat([i]);return U5(b,fE(s),f)},aZ=(n,s,i)=>U5(fE(n),[],i),iZ=(n,s,i)=>{const f=ML(s,n,i);return f.extra.length===0?P.some(f):P.none()},lZ=(n,s,i,f)=>{const b=iZ(n,s,i).getOrThunk(()=>ML(s,n-i(f),i)),w=b.within,S=b.extra,D=b.withinWidth;return S.length===1&&S[0].width<=i(f)?sZ(w,S,D):S.length>=1?rZ(w,S,f,D):aZ(w,S,D)},BL=(n,s)=>{const i=He(s,f=>_(f));g0.setGroups(n,i)},Z5=n=>gs(n,s=>ii(s.element).bind(i=>s.getSystem().getByDom(i).toOptional())),LL=(n,s,i)=>{const f=s.builtGroups.get();if(f.length===0)return;const b=ad(n,s,"primary"),w=Uo.getCoupled(n,"overflowGroup");wo(b.element,"visibility","hidden");const S=f.concat([w]),D=Z5(S);i([]),BL(b,S);const B=Bi(b.element),z=lZ(B,s.builtGroups.get(),Z=>Math.ceil(Z.element.dom.getBoundingClientRect().width),w);z.extra.length===0?(Po.remove(b,w),i([])):(BL(b,z.within),i(z.extra)),rs(b.element,"visibility"),ql(b.element),D.each(Qe.focus)},FL=ae([Ic("splitToolbarBehaviours",[Uo]),yc("builtGroups",()=>Nn([]))]),cZ=ae([ds(["overflowToggledClass"]),uf("getOverflowBounds"),Zt("lazySink"),yc("overflowGroups",()=>Nn([])),Rs("onOpened"),Rs("onClosed")].concat(FL())),uZ=ae([Sc({factory:g0,schema:Rw(),name:"primary"}),Id({schema:Rw(),name:"overflow"}),Id({name:"overflow-button"}),Id({name:"overflow-group"})]),dZ=ae([Zt("items"),ds(["itemSelector"]),Ic("tgroupBehaviours",[io])]),fZ=ae([e1({name:"items",unit:"item"})]),mZ=(n,s,i,f)=>({uid:n.uid,dom:n.dom,components:s,behaviours:zu(n.tgroupBehaviours,[io.config({mode:"flow",selector:n.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),$k=pf({name:"ToolbarGroup",configFields:dZ(),partFields:fZ(),factory:mZ}),PL=n=>He(n,s=>_(s)),$L=(n,s,i)=>{LL(n,i,f=>{i.overflowGroups.set(f),s.getOpt(n).each(b=>{Zb.setGroups(b,PL(f))})})},hZ=(n,s,i,f)=>{const b=ur(Zb.sketch({fetch:()=>ss.nu(w=>{w(PL(n.overflowGroups.get()))}),layouts:{onLtr:()=>[Ur,Ji],onRtl:()=>[Ji,Ur],onBottomLtr:()=>[kl,Al],onBottomRtl:()=>[Al,kl]},getBounds:i.getOverflowBounds,lazySink:n.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:n.markers.overflowToggledClass},parts:{button:f["overflow-button"](),toolbar:f.overflow()},onToggled:(w,S)=>n[S?"onOpened":"onClosed"](w)}));return{uid:n.uid,dom:n.dom,components:s,behaviours:zu(n.splitToolbarBehaviours,[Uo.config({others:{overflowGroup:()=>$k.sketch({...f["overflow-group"](),items:[b.asSpec()]})}})]),apis:{setGroups:(w,S)=>{n.builtGroups.set(He(S,w.getSystem().build)),$L(w,b,n)},refresh:w=>$L(w,b,n),toggle:w=>{b.getOpt(w).each(S=>{Zb.toggle(S)})},toggleWithoutFocusing:w=>{b.getOpt(w).each(Zb.toggleWithoutFocusing)},isOpen:w=>b.getOpt(w).map(Zb.isOpen).getOr(!1),reposition:w=>{b.getOpt(w).each(S=>{Zb.reposition(S)})},getOverflow:w=>b.getOpt(w).bind(Zb.getToolbar)},domModification:{attributes:{role:"group"}}}},IL=pf({name:"SplitFloatingToolbar",configFields:cZ(),partFields:uZ(),factory:hZ,apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)},refresh:(n,s)=>{n.refresh(s)},reposition:(n,s)=>{n.reposition(s)},toggle:(n,s)=>{n.toggle(s)},toggleWithoutFocusing:(n,s)=>{n.toggle(s)},isOpen:(n,s)=>n.isOpen(s),getOverflow:(n,s)=>n.getOverflow(s)}}),gZ=ae([ds(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Rs("onOpened"),Rs("onClosed")].concat(FL())),pZ=ae([Sc({factory:g0,schema:Rw(),name:"primary"}),Sc({factory:g0,schema:Rw(),name:"overflow",overrides:n=>({toolbarBehaviours:a([Ud.config({dimension:{property:"height"},closedClass:n.markers.closedClass,openClass:n.markers.openClass,shrinkingClass:n.markers.shrinkingClass,growingClass:n.markers.growingClass,onShrunk:s=>{Er(s,n,"overflow-button").each(i=>{Ds.off(i)}),n.onClosed(s)},onGrown:s=>{n.onOpened(s)},onStartGrow:s=>{Er(s,n,"overflow-button").each(Ds.on)}}),io.config({mode:"acyclic",onEscape:s=>(Er(s,n,"overflow-button").each(Qe.focus),P.some(!0))})])})}),Id({name:"overflow-button",overrides:n=>({buttonBehaviours:a([Ds.config({toggleClass:n.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Id({name:"overflow-group"})]),bZ=(n,s)=>Er(n,s,"overflow").map(Ud.hasGrown).getOr(!1),mE=(n,s,i)=>{Er(n,s,"overflow-button").each(f=>{Er(n,s,"overflow").each(b=>{if(W5(n,s),Ud.hasShrunk(b)){const w=s.onOpened;s.onOpened=S=>{i||io.focusIn(b),w(S),s.onOpened=w}}else{const w=s.onClosed;s.onClosed=S=>{i||Qe.focus(f),w(S),s.onClosed=w}}Ud.toggleGrow(b)})})},W5=(n,s)=>{Er(n,s,"overflow").each(i=>{LL(n,s,f=>{const b=He(f,w=>_(w));g0.setGroups(i,b)}),Er(n,s,"overflow-button").each(f=>{Ud.hasGrown(i)&&Ds.on(f)}),Ud.refresh(i)})},yZ=(n,s,i,f)=>{const b="alloy.toolbar.toggle",w=(S,D)=>{const B=He(D,S.getSystem().build);n.builtGroups.set(B)};return{uid:n.uid,dom:n.dom,components:s,behaviours:zu(n.splitToolbarBehaviours,[Uo.config({others:{overflowGroup:S=>$k.sketch({...f["overflow-group"](),items:[rc.sketch({...f["overflow-button"](),action:D=>{cs(S,b)}})]})}}),de("toolbar-toggle-events",[Nt(b,S=>{mE(S,n,!1)})])]),apis:{setGroups:(S,D)=>{w(S,D),W5(S,n)},refresh:S=>W5(S,n),toggle:S=>{mE(S,n,!1)},toggleWithoutFocusing:S=>{mE(S,n,!0)},isOpen:S=>bZ(S,n)},domModification:{attributes:{role:"group"}}}},q5=pf({name:"SplitSlidingToolbar",configFields:gZ(),partFields:pZ(),factory:yZ,apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)},refresh:(n,s)=>{n.refresh(s)},toggle:(n,s)=>{n.toggle(s)},isOpen:(n,s)=>n.isOpen(s)}}),hE=(n,s)=>({uid:n.uid,dom:n.dom,components:n.components,events:t5(n.action),behaviours:zu(n.tabButtonBehaviours,[Qe.config({}),io.config({mode:"execution",useSpace:!0,useEnter:!0}),Pn.config({store:{mode:"memory",initialValue:n.value}})]),domModification:n.domModification}),HL=oh({name:"TabButton",configFields:[pt("uid",void 0),Zt("value"),ml("dom","dom",lm(()=>({attributes:{role:"tab",id:me("aria"),"aria-selected":"false"}})),lf()),gr("action"),pt("domModification",{}),Ic("tabButtonBehaviours",[Qe,io,Pn]),Zt("view")],factory:hE}),vZ=ae([Zt("tabs"),Zt("dom"),pt("clickToDismiss",!1),Ic("tabbarBehaviours",[lr,io]),ds(["tabClass","selectedClass"])]),xZ=e1({factory:HL,name:"tabs",unit:"tab",overrides:n=>{const s=(f,b)=>{lr.dehighlight(f,b),no(f,Ip(),{tabbar:f,button:b})},i=(f,b)=>{lr.highlight(f,b),no(f,db(),{tabbar:f,button:b})};return{action:f=>{const b=f.getSystem().getByUid(n.uid).getOrDie(),w=lr.isHighlighted(b,f);(w&&n.clickToDismiss?s:w?J:i)(b,f)},domModification:{classes:[n.markers.tabClass]}}}}),zL=ae([xZ]),wZ=(n,s,i,f)=>({uid:n.uid,dom:n.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:zu(n.tabbarBehaviours,[lr.config({highlightClass:n.markers.selectedClass,itemClass:n.markers.tabClass,onHighlight:(b,w)=>{co(w.element,"aria-selected","true")},onDehighlight:(b,w)=>{co(w.element,"aria-selected","false")}}),io.config({mode:"flow",getInitial:b=>lr.getHighlighted(b).map(w=>w.element),selector:"."+n.markers.tabClass,executeOnMove:!0})])}),jL=pf({name:"Tabbar",configFields:vZ(),partFields:zL(),factory:wZ}),CZ=(n,s)=>({uid:n.uid,dom:n.dom,behaviours:zu(n.tabviewBehaviours,[Po.config({})]),domModification:{attributes:{role:"tabpanel"}}}),SZ=oh({name:"Tabview",configFields:[Ic("tabviewBehaviours",[Po])],factory:CZ}),EZ=ae([pt("selectFirst",!0),Rs("onChangeTab"),Rs("onDismissTab"),pt("tabs",[]),Ic("tabSectionBehaviours",[])]),TZ=Sc({factory:jL,schema:[Zt("dom"),cf("markers",[Zt("tabClass"),Zt("selectedClass")])],name:"tabbar",defaults:n=>({tabs:n.tabs})}),AZ=Sc({factory:SZ,name:"tabview"}),kZ=ae([TZ,AZ]),VL=(n,s,i,f)=>{const b=S=>{const D=Pn.getValue(S);Er(S,n,"tabview").each(B=>{Be(n.tabs,Z=>Z.value===D).each(Z=>{const K=Z.view();li(S.element,"id").each(ie=>{co(B.element,"aria-labelledby",ie)}),Po.set(B,K),n.onChangeTab(B,S,K)})})},w=(S,D)=>{Er(S,n,"tabbar").each(B=>{D(B).each(r1)})};return{uid:n.uid,dom:n.dom,components:s,behaviours:zS(n.tabSectionBehaviours),events:na(et([n.selectFirst?[Rr((S,D)=>{w(S,lr.getFirst)})]:[],[Nt(db(),(S,D)=>{const B=D.event.button;b(B)}),Nt(Ip(),(S,D)=>{const B=D.event.button;n.onDismissTab(S,B)})]])),apis:{getViewItems:S=>Er(S,n,"tabview").map(D=>Po.contents(D)).getOr([]),showTab:(S,D)=>{w(S,z=>{const Z=lr.getCandidates(z);return Be(Z,ie=>Pn.getValue(ie)===D).filter(ie=>!lr.isHighlighted(z,ie))})}}}},jx=pf({name:"TabSection",configFields:EZ(),partFields:kZ(),factory:VL,apis:{getViewItems:(n,s)=>n.getViewItems(s),showTab:(n,s,i)=>{n.showTab(s,i)}}}),Ik=(n,s,i)=>{const f=Pn.getValue(i);Pn.setValue(s,f),K5(s)},G5=(n,s)=>{const i=n.element,f=pc(i),b=i.dom;Jr(i,"type")!=="number"&&s(b,f)},K5=n=>{G5(n,(s,i)=>s.setSelectionRange(i.length,i.length))},UL=(n,s)=>{G5(n,(i,f)=>i.setSelectionRange(s,f.length))},ZL=(n,s,i)=>{if(n.selectsOver){const f=Pn.getValue(s),b=n.getDisplayText(f),w=Pn.getValue(i);return n.getDisplayText(w).indexOf(b)===0?P.some(()=>{Ik(n,s,i),UL(s,b.length)}):P.none()}else return P.none()},Y5=ae("alloy.typeahead.itemexecute"),_Z=(n,s,i,f)=>{const b=(K,ie,he)=>{n.previewing.set(!1);const xe=Uo.getCoupled(K,"sandbox");if(nr.isOpen(xe))Ft.getCurrent(xe).each(De=>{lr.getHighlighted(De).fold(()=>{he(De)},()=>{i1(xe,De.element,"keydown",ie)})});else{const De=Ie=>{Ft.getCurrent(Ie).each(he)};vk(n,S(K),K,xe,f,De,Ec.HighlightMenuAndItem).get(J)}},w=eL(n),S=K=>ie=>ie.map(he=>{const xe=Ma(he.menus),De=Le(xe,Ee=>Eo(Ee.items,Ke=>Ke.type==="item"));return Pn.getState(K).update(He(De,Ee=>Ee.data)),he}),D=K=>Ft.getCurrent(K),B="typeaheadevents",z=[Qe.config({}),Pn.config({onSetValue:n.onSetValue,store:{mode:"dataset",getDataKey:K=>pc(K.element),getFallbackEntry:K=>({value:K,meta:{}}),setValue:(K,ie)=>{Dd(K.element,n.model.getDisplayText(ie))},...n.initialData.map(K=>za("initialValue",K)).getOr({})}}),Ow.config({stream:{mode:"throttle",delay:n.responseTime,stopEvent:!1},onStream:(K,ie)=>{const he=Uo.getCoupled(K,"sandbox");if(Qe.isFocused(K)&&pc(K.element).length>=n.minChars){const De=D(he).bind(Ee=>lr.getHighlighted(Ee).map(Pn.getValue));n.previewing.set(!0);const Ie=Ee=>{D(he).each(Ke=>{De.fold(()=>{n.model.selectsOver&&lr.highlightFirst(Ke)},ot=>{lr.highlightBy(Ke,wt=>Pn.getValue(wt).value===ot.value),lr.getHighlighted(Ke).orThunk(()=>(lr.highlightFirst(Ke),P.none()))})})};vk(n,S(K),K,he,f,Ie,Ec.HighlightJustMenu).get(J)}},cancelEvent:Pu()}),io.config({mode:"special",onDown:(K,ie)=>(b(K,ie,lr.highlightFirst),P.some(!0)),onEscape:K=>{const ie=Uo.getCoupled(K,"sandbox");return nr.isOpen(ie)?(nr.close(ie),P.some(!0)):P.none()},onUp:(K,ie)=>(b(K,ie,lr.highlightLast),P.some(!0)),onEnter:K=>{const ie=Uo.getCoupled(K,"sandbox"),he=nr.isOpen(ie);if(he&&!n.previewing.get())return D(ie).bind(xe=>lr.getHighlighted(xe)).map(xe=>(no(K,Y5(),{item:xe}),!0));{const xe=Pn.getValue(K);return cs(K,Pu()),n.onExecute(ie,K,xe),he&&nr.close(ie),P.some(!0)}}}),Ds.config({toggleClass:n.markers.openClass,aria:{mode:"expanded"}}),Uo.config({others:{sandbox:K=>Z8(n,K,{onOpen:()=>Ds.on(K),onClose:()=>{n.lazyTypeaheadComp.get().each(ie=>rr(ie.element,"aria-activedescendant")),Ds.off(K)}})}}),de(B,[Rr(K=>{n.lazyTypeaheadComp.set(P.some(K))}),hf(K=>{n.lazyTypeaheadComp.set(P.none())}),wm(K=>{const ie=J;xk(n,S(K),K,f,ie,Ec.HighlightMenuAndItem).get(J)}),Nt(Y5(),(K,ie)=>{const he=Uo.getCoupled(K,"sandbox");Ik(n.model,K,ie.event.item),cs(K,Pu()),n.onItemExecute(K,he,ie.event.item,Pn.getValue(K)),nr.close(he),K5(K)})].concat(n.dismissOnBlur?[Nt(Fp(),K=>{const ie=Uo.getCoupled(K,"sandbox");ii(ie.element).isNone()&&nr.close(ie)})]:[]))],Z={[wc()]:[Pn.name(),Ow.name(),B],...n.eventOrder};return{uid:n.uid,dom:S5(Wt(n,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...w,...zu(n.typeaheadBehaviours,z)},eventOrder:Z}},DZ=ae([gr("lazySink"),Zt("fetch"),pt("minChars",5),pt("responseTime",1e3),Rs("onOpen"),pt("getHotspot",P.some),pt("getAnchorOverrides",ae({})),pt("layouts",P.none()),pt("eventOrder",{}),Lh("model",{},[pt("getDisplayText",n=>n.meta!==void 0&&n.meta.text!==void 0?n.meta.text:n.value),pt("selectsOver",!0),pt("populateFromBrowse",!0)]),Rs("onSetValue"),tc("onExecute"),Rs("onItemExecute"),pt("inputClasses",[]),pt("inputAttributes",{}),pt("inputStyles",{}),pt("matchWidth",!0),pt("useMinWidth",!1),pt("dismissOnBlur",!0),ds(["openClass"]),gr("initialData"),gr("listRole"),Ic("typeaheadBehaviours",[Qe,Pn,Ow,io,Ds,Uo]),yc("lazyTypeaheadComp",()=>Nn(P.none)),yc("previewing",()=>Nn(!0))].concat(C5()).concat(b5())),OZ=ae([Id({schema:[N2()],name:"menu",overrides:n=>({fakeFocus:!0,onHighlightItem:(s,i,f)=>{n.previewing.get()?n.lazyTypeaheadComp.get().each(b=>{ZL(n.model,b,f).fold(()=>{n.model.selectsOver?(lr.dehighlight(i,f),n.previewing.set(!0)):n.previewing.set(!1)},(w=>{w(),n.previewing.set(!1)}))}):n.lazyTypeaheadComp.get().each(b=>{n.model.populateFromBrowse&&Ik(n.model,b,f),li(f.element,"id").each(w=>co(b.element,"aria-activedescendant",w))})},onExecute:(s,i)=>n.lazyTypeaheadComp.get().map(f=>(no(f,Y5(),{item:i}),!0)),onHover:(s,i)=>{n.previewing.set(!1),n.lazyTypeaheadComp.get().each(f=>{n.model.populateFromBrowse&&Ik(n.model,f,i)})}})})]),X5=pf({name:"Typeahead",configFields:DZ(),partFields:OZ(),factory:_Z});var WL=tinymce.util.Tools.resolve("tinymce.ThemeManager"),Hk=tinymce.util.Tools.resolve("tinymce.util.Delay"),Fw=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),NZ=tinymce.util.Tools.resolve("tinymce.EditorManager"),Pw=tinymce.util.Tools.resolve("tinymce.Env"),ih;(function(n){n.default="wrap",n.floating="floating",n.sliding="sliding",n.scrolling="scrolling"})(ih||(ih={}));var $w;(function(n){n.auto="auto",n.top="top",n.bottom="bottom"})($w||($w={}));const Ir=n=>s=>s.options.get(n),Iw=n=>s=>P.from(n(s)),qL=n=>{const s=Pw.deviceType.isPhone(),i=Pw.deviceType.isTablet()||s,f=n.options.register,b=S=>I(S)||S===!1,w=S=>I(S)||ct(S);f("skin",{processor:S=>I(S)||S===!1,default:"oxide"}),f("skin_url",{processor:"string"}),f("height",{processor:w,default:Math.max(n.getElement().offsetHeight,400)}),f("width",{processor:w,default:Fw.DOM.getStyle(n.getElement(),"width")}),f("min_height",{processor:"number",default:100}),f("min_width",{processor:"number"}),f("max_height",{processor:"number"}),f("max_width",{processor:"number"}),f("style_formats",{processor:"object[]"}),f("style_formats_merge",{processor:"boolean",default:!1}),f("style_formats_autohide",{processor:"boolean",default:!1}),f("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),f("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),f("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),f("font_size_input_default_unit",{processor:"string",default:"pt"}),f("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),f("content_langs",{processor:"object[]"}),f("removed_menuitems",{processor:"string",default:""}),f("menubar",{processor:S=>I(S)||fe(S),default:!s}),f("menu",{processor:"object",default:{}}),f("toolbar",{processor:S=>fe(S)||I(S)||Y(S)?{value:S,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Re(9,S=>{f("toolbar"+(S+1),{processor:"string"})}),f("toolbar_mode",{processor:"string",default:i?"scrolling":"floating"}),f("toolbar_groups",{processor:"object",default:{}}),f("toolbar_location",{processor:"string",default:$w.auto}),f("toolbar_persist",{processor:"boolean",default:!1}),f("toolbar_sticky",{processor:"boolean",default:n.inline}),f("toolbar_sticky_offset",{processor:"number",default:0}),f("fixed_toolbar_container",{processor:"string",default:""}),f("fixed_toolbar_container_target",{processor:"object"}),f("ui_mode",{processor:"string",default:"combined"}),f("file_picker_callback",{processor:"function"}),f("file_picker_validator_handler",{processor:"function"}),f("file_picker_types",{processor:"string"}),f("typeahead_urls",{processor:"boolean",default:!0}),f("anchor_top",{processor:b,default:"#top"}),f("anchor_bottom",{processor:b,default:"#bottom"}),f("draggable_modal",{processor:"boolean",default:!1}),f("statusbar",{processor:"boolean",default:!0}),f("elementpath",{processor:"boolean",default:!0}),f("branding",{processor:"boolean",default:!0}),f("promotion",{processor:"boolean",default:!0}),f("resize",{processor:S=>S==="both"||fe(S),default:!Pw.deviceType.isTouch()}),f("sidebar_show",{processor:"string"}),f("help_accessibility",{processor:"boolean",default:n.hasPlugin("help")}),f("default_font_stack",{processor:"string[]",default:[]})},GL=Ir("readonly"),zk=Ir("disabled"),Q5=Ir("height"),J5=Ir("width"),eO=Iw(Ir("min_width")),tO=Iw(Ir("min_height")),jk=Iw(Ir("max_width")),nO=Iw(Ir("max_height")),KL=Iw(Ir("style_formats")),YL=Ir("style_formats_merge"),oO=Ir("style_formats_autohide"),XL=Ir("content_langs"),QL=Ir("removed_menuitems"),Vx=Ir("toolbar_mode"),JL=Ir("toolbar_groups"),sO=Ir("toolbar_location"),Vk=Ir("fixed_toolbar_container"),eF=Ir("fixed_toolbar_container_target"),tF=Ir("toolbar_persist"),nF=Ir("toolbar_sticky_offset"),oF=Ir("menubar"),Uk=Ir("toolbar"),sF=Ir("file_picker_callback"),rF=Ir("file_picker_validator_handler"),Zk=Ir("font_size_input_default_unit"),rO=Ir("file_picker_types"),aO=Ir("typeahead_urls"),aF=Ir("anchor_top"),iO=Ir("anchor_bottom"),iF=Ir("draggable_modal"),lF=Ir("statusbar"),cF=Ir("elementpath"),lO=Ir("branding"),uF=Ir("resize"),dF=Ir("paste_as_text"),fF=Ir("sidebar_show"),mF=Ir("promotion"),hF=Ir("help_accessibility"),gF=Ir("default_font_stack"),gE=Ir("skin"),pE=n=>n.options.get("skin")===!1,Hw=n=>n.options.get("menubar")!==!1,cO=n=>{const s=n.options.get("skin_url");if(pE(n))return s;if(s)return n.documentBaseURI.toAbsolute(s);{const i=n.options.get("skin");return NZ.baseURL+"/skins/ui/"+i}},RZ=n=>P.from(n.options.get("skin_url")),pF=n=>n.options.get("line_height_formats").split(" "),zw=n=>{const s=Uk(n),i=I(s),f=Y(s)&&s.length>0;return!dv(n)&&(f||i||s===!0)},bE=n=>{const s=Re(9,f=>n.options.get("toolbar"+(f+1))),i=Eo(s,I);return Ca(i.length>0,i)},dv=n=>bE(n).fold(()=>{const s=Uk(n);return Oe(s,I)&&s.length>0},Mt),Wk=n=>sO(n)===$w.bottom,bF=n=>{if(!n.inline)return P.none();const s=Vk(n)??"";if(s.length>0)return ar(Ml(),s);const i=eF(n);return $e(i)?P.some(un.fromDom(i)):P.none()},jw=n=>n.inline&&bF(n).isSome(),uO=n=>bF(n).getOrThunk(()=>xd(Ai(un.fromDom(n.getElement())))),dO=n=>n.inline&&!Hw(n)&&!zw(n)&&!dv(n),Vw=n=>(n.options.get("toolbar_sticky")||n.inline)&&!jw(n)&&!dO(n),fv=n=>!jw(n)&&n.options.get("ui_mode")==="split",yF=n=>{const s=n.options.get("menu");return Ms(s,i=>({...i,items:i.items}))};var MZ=Object.freeze({__proto__:null,get ToolbarMode(){return ih},get ToolbarLocation(){return $w},register:qL,getSkinUrl:cO,getSkinUrlOption:RZ,isReadOnly:GL,isDisabled:zk,getSkin:gE,isSkinDisabled:pE,getHeightOption:Q5,getWidthOption:J5,getMinWidthOption:eO,getMinHeightOption:tO,getMaxWidthOption:jk,getMaxHeightOption:nO,getUserStyleFormats:KL,shouldMergeStyleFormats:YL,shouldAutoHideStyleFormats:oO,getLineHeightFormats:pF,getContentLanguages:XL,getRemovedMenuItems:QL,isMenubarEnabled:Hw,isMultipleToolbars:dv,isToolbarEnabled:zw,isToolbarPersist:tF,getMultipleToolbarsOption:bE,getUiContainer:uO,useFixedContainer:jw,isSplitUiMode:fv,getToolbarMode:Vx,isDraggableModal:iF,isDistractionFree:dO,isStickyToolbar:Vw,getStickyToolbarOffset:nF,getToolbarLocation:sO,isToolbarLocationBottom:Wk,getToolbarGroups:JL,getMenus:yF,getMenubar:oF,getToolbar:Uk,getFilePickerCallback:sF,getFilePickerTypes:rO,useTypeaheadUrls:aO,getAnchorTop:aF,getAnchorBottom:iO,getFilePickerValidatorHandler:rF,getFontSizeInputDefaultUnit:Zk,useStatusBar:lF,useElementPath:cF,promotionEnabled:mF,useBranding:lO,getResize:uF,getPasteAsText:dF,getSidebarShow:fF,useHelpAccessibility:hF,getDefaultFontStack:gF});const BZ=["visible","hidden","clip"],vF=n=>Sn(n).length>0&&!Ue(BZ,n),xF=n=>{if(_e(n)){const s=hr(n,"overflow-x"),i=hr(n,"overflow-y");return vF(s)||vF(i)}else return!1},wF=n=>n.plugins.fullscreen&&n.plugins.fullscreen.isFullscreen(),LZ=(n,s)=>{const i=ra(s,xF),f=i.length===0?da(s).map(bs).map(b=>ra(b,xF)).getOr([]):i;return Un(f).map(b=>({element:b,others:f.slice(1),isFullscreen:()=>wF(n)}))},Wb=(n,s)=>fv(n)?LZ(n,s):P.none(),Ux=n=>{const s=[...He(n.others,Di),bc()];return n.isFullscreen()?bc():hy(Di(n.element),s)};const{entries:CF,setPrototypeOf:v0,isFrozen:FZ,getPrototypeOf:PZ,getOwnPropertyDescriptor:fO}=Object;let{freeze:va,seal:ap,create:SF}=Object,{apply:mO,construct:hO}=typeof Reflect<"u"&&Reflect;va||(va=function(s){return s}),ap||(ap=function(s){return s}),mO||(mO=function(s,i,f){return s.apply(i,f)}),hO||(hO=function(s,i){return new s(...i)});const qk=Tm(Array.prototype.forEach),$Z=Tm(Array.prototype.lastIndexOf),EF=Tm(Array.prototype.pop),yE=Tm(Array.prototype.push),IZ=Tm(Array.prototype.splice),Gk=Tm(String.prototype.toLowerCase),gO=Tm(String.prototype.toString),TF=Tm(String.prototype.match),vE=Tm(String.prototype.replace),HZ=Tm(String.prototype.indexOf),zZ=Tm(String.prototype.trim),x0=Tm(Object.prototype.hasOwnProperty),Em=Tm(RegExp.prototype.test),xE=jZ(TypeError);function Tm(n){return function(s){s instanceof RegExp&&(s.lastIndex=0);for(var i=arguments.length,f=new Array(i>1?i-1:0),b=1;b<i;b++)f[b-1]=arguments[b];return mO(n,s,f)}}function jZ(n){return function(){for(var s=arguments.length,i=new Array(s),f=0;f<s;f++)i[f]=arguments[f];return hO(n,i)}}function xa(n,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Gk;v0&&v0(n,null);let f=s.length;for(;f--;){let b=s[f];if(typeof b=="string"){const w=i(b);w!==b&&(FZ(s)||(s[f]=w),b=w)}n[b]=!0}return n}function VZ(n){for(let s=0;s<n.length;s++)x0(n,s)||(n[s]=null);return n}function qb(n){const s=SF(null);for(const[i,f]of CF(n))x0(n,i)&&(Array.isArray(f)?s[i]=VZ(f):f&&typeof f=="object"&&f.constructor===Object?s[i]=qb(f):s[i]=f);return s}function wE(n,s){for(;n!==null;){const f=fO(n,s);if(f){if(f.get)return Tm(f.get);if(typeof f.value=="function")return Tm(f.value)}n=PZ(n)}function i(){return null}return i}const AF=va(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Kk=va(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),pO=va(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),kF=va(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),bO=va(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),_F=va(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),DF=va(["#text"]),yO=va(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),vO=va(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),OF=va(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Yk=va(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),UZ=ap(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ZZ=ap(/<%[\w\W]*|[\w\W]*%>/gm),WZ=ap(/\$\{[\w\W]*/gm),qZ=ap(/^data-[\-\w.\u00B7-\uFFFF]+$/),GZ=ap(/^aria-[\-\w]+$/),NF=ap(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),KZ=ap(/^(?:\w+script|data):/i),YZ=ap(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),RF=ap(/^html$/i),XZ=ap(/^[a-z][.\w]*(-[.\w]+)+$/i);var xO=Object.freeze({__proto__:null,ARIA_ATTR:GZ,ATTR_WHITESPACE:YZ,CUSTOM_ELEMENT:XZ,DATA_ATTR:qZ,DOCTYPE_NAME:RF,ERB_EXPR:ZZ,IS_ALLOWED_URI:NF,IS_SCRIPT_OR_DATA:KZ,MUSTACHE_EXPR:UZ,TMPLIT_EXPR:WZ});const CE={element:1,text:3,progressingInstruction:7,comment:8,document:9},QZ=function(){return typeof window>"u"?null:window},JZ=function(s,i){if(typeof s!="object"||typeof s.createPolicy!="function")return null;let f=null;const b="data-tt-policy-suffix";i&&i.hasAttribute(b)&&(f=i.getAttribute(b));const w="dompurify"+(f?"#"+f:"");try{return s.createPolicy(w,{createHTML(S){return S},createScriptURL(S){return S}})}catch{return console.warn("TrustedTypes policy "+w+" could not be created."),null}},MF=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function BF(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:QZ();const s=t=>BF(t);if(s.version="3.2.6",s.removed=[],!n||!n.document||n.document.nodeType!==CE.document||!n.Element)return s.isSupported=!1,s;let{document:i}=n;const f=i,b=f.currentScript,{DocumentFragment:w,HTMLTemplateElement:S,Node:D,Element:B,NodeFilter:z,NamedNodeMap:Z=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:K,DOMParser:ie,trustedTypes:he}=n,xe=B.prototype,De=wE(xe,"cloneNode"),Ie=wE(xe,"remove"),Ee=wE(xe,"nextSibling"),Ke=wE(xe,"childNodes"),ot=wE(xe,"parentNode");if(typeof S=="function"){const t=i.createElement("template");t.content&&t.content.ownerDocument&&(i=t.content.ownerDocument)}let wt,_t="";const{implementation:Tn,createNodeIterator:Xt,createDocumentFragment:nn,getElementsByTagName:tn}=i,{importNode:fo}=f;let Qn=MF();s.isSupported=typeof CF=="function"&&typeof ot=="function"&&Tn&&Tn.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:hs,ERB_EXPR:mo,TMPLIT_EXPR:$o,DATA_ATTR:eo,ARIA_ATTR:Gt,IS_SCRIPT_OR_DATA:bn,ATTR_WHITESPACE:So,CUSTOM_ELEMENT:qo}=xO;let{IS_ALLOWED_URI:so}=xO,Zo=null;const Hr=xa({},[...AF,...Kk,...pO,...bO,...DF]);let dr=null;const ju=xa({},[...yO,...vO,...OF,...Yk]);let ti=Object.seal(SF(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Kf=null,jc=null,dh=!0,yu=!0,ug=!1,Ev=!0,R1=!1,xC=!0,M1=!1,gT=!1,NM=!1,wC=!1,CC=!1,SC=!1,CH=!0,RM=!1;const BJ="user-content-";let MM=!0,EC=!1,TC={},up=null;const BM=xa({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let SH=null;const pT=xa({},["audio","video","img","source","image","track"]);let Tv=null;const bT=xa({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),yT="http://www.w3.org/1998/Math/MathML",m2="http://www.w3.org/2000/svg",lc="http://www.w3.org/1999/xhtml";let oy=lc,O3=!1,N3=null;const LJ=xa({},[yT,m2,lc],gO);let R3=xa({},["mi","mo","mn","ms","mtext"]),k0=xa({},["annotation-xml"]);const noe=xa({},["title","style","font","a","script"]);let vT=null;const EH=["application/xhtml+xml","text/html"],AC="text/html";let vu=null,h2=null;const FJ=i.createElement("form"),TH=function(o){return o instanceof RegExp||o instanceof Function},LM=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(h2&&h2===o)){if((!o||typeof o!="object")&&(o={}),o=qb(o),vT=EH.indexOf(o.PARSER_MEDIA_TYPE)===-1?AC:o.PARSER_MEDIA_TYPE,vu=vT==="application/xhtml+xml"?gO:Gk,Zo=x0(o,"ALLOWED_TAGS")?xa({},o.ALLOWED_TAGS,vu):Hr,dr=x0(o,"ALLOWED_ATTR")?xa({},o.ALLOWED_ATTR,vu):ju,N3=x0(o,"ALLOWED_NAMESPACES")?xa({},o.ALLOWED_NAMESPACES,gO):LJ,Tv=x0(o,"ADD_URI_SAFE_ATTR")?xa(qb(bT),o.ADD_URI_SAFE_ATTR,vu):bT,SH=x0(o,"ADD_DATA_URI_TAGS")?xa(qb(pT),o.ADD_DATA_URI_TAGS,vu):pT,up=x0(o,"FORBID_CONTENTS")?xa({},o.FORBID_CONTENTS,vu):BM,Kf=x0(o,"FORBID_TAGS")?xa({},o.FORBID_TAGS,vu):qb({}),jc=x0(o,"FORBID_ATTR")?xa({},o.FORBID_ATTR,vu):qb({}),TC=x0(o,"USE_PROFILES")?o.USE_PROFILES:!1,dh=o.ALLOW_ARIA_ATTR!==!1,yu=o.ALLOW_DATA_ATTR!==!1,ug=o.ALLOW_UNKNOWN_PROTOCOLS||!1,Ev=o.ALLOW_SELF_CLOSE_IN_ATTR!==!1,R1=o.SAFE_FOR_TEMPLATES||!1,xC=o.SAFE_FOR_XML!==!1,M1=o.WHOLE_DOCUMENT||!1,wC=o.RETURN_DOM||!1,CC=o.RETURN_DOM_FRAGMENT||!1,SC=o.RETURN_TRUSTED_TYPE||!1,NM=o.FORCE_BODY||!1,CH=o.SANITIZE_DOM!==!1,RM=o.SANITIZE_NAMED_PROPS||!1,MM=o.KEEP_CONTENT!==!1,EC=o.IN_PLACE||!1,so=o.ALLOWED_URI_REGEXP||NF,oy=o.NAMESPACE||lc,R3=o.MATHML_TEXT_INTEGRATION_POINTS||R3,k0=o.HTML_INTEGRATION_POINTS||k0,ti=o.CUSTOM_ELEMENT_HANDLING||{},o.CUSTOM_ELEMENT_HANDLING&&TH(o.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ti.tagNameCheck=o.CUSTOM_ELEMENT_HANDLING.tagNameCheck),o.CUSTOM_ELEMENT_HANDLING&&TH(o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ti.attributeNameCheck=o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),o.CUSTOM_ELEMENT_HANDLING&&typeof o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ti.allowCustomizedBuiltInElements=o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),R1&&(yu=!1),CC&&(wC=!0),TC&&(Zo=xa({},DF),dr=[],TC.html===!0&&(xa(Zo,AF),xa(dr,yO)),TC.svg===!0&&(xa(Zo,Kk),xa(dr,vO),xa(dr,Yk)),TC.svgFilters===!0&&(xa(Zo,pO),xa(dr,vO),xa(dr,Yk)),TC.mathMl===!0&&(xa(Zo,bO),xa(dr,OF),xa(dr,Yk))),o.ADD_TAGS&&(Zo===Hr&&(Zo=qb(Zo)),xa(Zo,o.ADD_TAGS,vu)),o.ADD_ATTR&&(dr===ju&&(dr=qb(dr)),xa(dr,o.ADD_ATTR,vu)),o.ADD_URI_SAFE_ATTR&&xa(Tv,o.ADD_URI_SAFE_ATTR,vu),o.FORBID_CONTENTS&&(up===BM&&(up=qb(up)),xa(up,o.FORBID_CONTENTS,vu)),MM&&(Zo["#text"]=!0),M1&&xa(Zo,["html","head","body"]),Zo.table&&(xa(Zo,["tbody"]),delete Kf.tbody),o.TRUSTED_TYPES_POLICY){if(typeof o.TRUSTED_TYPES_POLICY.createHTML!="function")throw xE('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof o.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw xE('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');wt=o.TRUSTED_TYPES_POLICY,_t=wt.createHTML("")}else wt===void 0&&(wt=JZ(he,b)),wt!==null&&typeof _t=="string"&&(_t=wt.createHTML(""));va&&va(o),h2=o}},AH=xa({},[...Kk,...pO,...kF]),g2=xa({},[...bO,..._F]),ooe=function(o){let r=ot(o);(!r||!r.tagName)&&(r={namespaceURI:oy,tagName:"template"});const c=Gk(o.tagName),h=Gk(r.tagName);return N3[o.namespaceURI]?o.namespaceURI===m2?r.namespaceURI===lc?c==="svg":r.namespaceURI===yT?c==="svg"&&(h==="annotation-xml"||R3[h]):!!AH[c]:o.namespaceURI===yT?r.namespaceURI===lc?c==="math":r.namespaceURI===m2?c==="math"&&k0[h]:!!g2[c]:o.namespaceURI===lc?r.namespaceURI===m2&&!k0[h]||r.namespaceURI===yT&&!R3[h]?!1:!g2[c]&&(noe[c]||!AH[c]):!!(vT==="application/xhtml+xml"&&N3[o.namespaceURI]):!1},B1=function(o){yE(s.removed,{element:o});try{ot(o).removeChild(o)}catch{Ie(o)}},kC=function(o,r){try{yE(s.removed,{attribute:r.getAttributeNode(o),from:r})}catch{yE(s.removed,{attribute:null,from:r})}if(r.removeAttribute(o),o==="is")if(wC||CC)try{B1(r)}catch{}else try{r.setAttribute(o,"")}catch{}},PJ=function(o){let r=null,c=null;if(NM)o="<remove></remove>"+o;else{const T=TF(o,/^[\r\n\t ]+/);c=T&&T[0]}vT==="application/xhtml+xml"&&oy===lc&&(o='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+o+"</body></html>");const h=wt?wt.createHTML(o):o;if(oy===lc)try{r=new ie().parseFromString(h,vT)}catch{}if(!r||!r.documentElement){r=Tn.createDocument(oy,"template",null);try{r.documentElement.innerHTML=O3?_t:h}catch{}}const v=r.body||r.documentElement;return o&&c&&v.insertBefore(i.createTextNode(c),v.childNodes[0]||null),oy===lc?tn.call(r,M1?"html":"body")[0]:M1?r.documentElement:v},kH=function(o){return Xt.call(o.ownerDocument||o,o,z.SHOW_ELEMENT|z.SHOW_COMMENT|z.SHOW_TEXT|z.SHOW_PROCESSING_INSTRUCTION|z.SHOW_CDATA_SECTION,null)},FM=function(o){return o instanceof K&&(typeof o.nodeName!="string"||typeof o.textContent!="string"||typeof o.removeChild!="function"||!(o.attributes instanceof Z)||typeof o.removeAttribute!="function"||typeof o.setAttribute!="function"||typeof o.namespaceURI!="string"||typeof o.insertBefore!="function"||typeof o.hasChildNodes!="function")},_C=function(o){return typeof D=="function"&&o instanceof D};function sy(t,o,r){qk(t,c=>{c.call(s,o,r,h2)})}const _H=function(o){let r=null;if(sy(Qn.beforeSanitizeElements,o,null),FM(o))return B1(o),!0;const c=vu(o.nodeName);if(sy(Qn.uponSanitizeElement,o,{tagName:c,allowedTags:Zo}),xC&&o.hasChildNodes()&&!_C(o.firstElementChild)&&Em(/<[/\w!]/g,o.innerHTML)&&Em(/<[/\w!]/g,o.textContent)||o.nodeType===CE.progressingInstruction||xC&&o.nodeType===CE.comment&&Em(/<[/\w]/g,o.data))return B1(o),!0;if(!Zo[c]||Kf[c]){if(!Kf[c]&&DH(c)&&(ti.tagNameCheck instanceof RegExp&&Em(ti.tagNameCheck,c)||ti.tagNameCheck instanceof Function&&ti.tagNameCheck(c)))return!1;if(MM&&!up[c]){const h=ot(o)||o.parentNode,v=Ke(o)||o.childNodes;if(v&&h){const T=v.length;for(let k=T-1;k>=0;--k){const L=De(v[k],!0);L.__removalCount=(o.__removalCount||0)+1,h.insertBefore(L,Ee(o))}}}return B1(o),!0}return o instanceof B&&!ooe(o)||(c==="noscript"||c==="noembed"||c==="noframes")&&Em(/<\/no(script|embed|frames)/i,o.innerHTML)?(B1(o),!0):(R1&&o.nodeType===CE.text&&(r=o.textContent,qk([hs,mo,$o],h=>{r=vE(r,h," ")}),o.textContent!==r&&(yE(s.removed,{element:o.cloneNode()}),o.textContent=r)),sy(Qn.afterSanitizeElements,o,null),!1)},PM=function(o,r,c){if(CH&&(r==="id"||r==="name")&&(c in i||c in FJ))return!1;if(!(yu&&!jc[r]&&Em(eo,r))){if(!(dh&&Em(Gt,r))){if(!dr[r]||jc[r]){if(!(DH(o)&&(ti.tagNameCheck instanceof RegExp&&Em(ti.tagNameCheck,o)||ti.tagNameCheck instanceof Function&&ti.tagNameCheck(o))&&(ti.attributeNameCheck instanceof RegExp&&Em(ti.attributeNameCheck,r)||ti.attributeNameCheck instanceof Function&&ti.attributeNameCheck(r))||r==="is"&&ti.allowCustomizedBuiltInElements&&(ti.tagNameCheck instanceof RegExp&&Em(ti.tagNameCheck,c)||ti.tagNameCheck instanceof Function&&ti.tagNameCheck(c))))return!1}else if(!Tv[r]){if(!Em(so,vE(c,So,""))){if(!((r==="src"||r==="xlink:href"||r==="href")&&o!=="script"&&HZ(c,"data:")===0&&SH[o])){if(!(ug&&!Em(bn,vE(c,So,"")))){if(c)return!1}}}}}}return!0},DH=function(o){return o!=="annotation-xml"&&TF(o,qo)},$J=function(o){sy(Qn.beforeSanitizeAttributes,o,null);const{attributes:r}=o;if(!r||FM(o))return;const c={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:dr,forceKeepAttr:void 0};let h=r.length;for(;h--;){const v=r[h],{name:T,namespaceURI:k,value:L}=v,W=vu(T),G=L;let Q=T==="value"?G:zZ(G);if(c.attrName=W,c.attrValue=Q,c.keepAttr=!0,c.forceKeepAttr=void 0,sy(Qn.uponSanitizeAttribute,o,c),Q=c.attrValue,RM&&(W==="id"||W==="name")&&(kC(T,o),Q=BJ+Q),xC&&Em(/((--!?|])>)|<\/(style|title)/i,Q)){kC(T,o);continue}if(c.forceKeepAttr)continue;if(!c.keepAttr){kC(T,o);continue}if(!Ev&&Em(/\/>/i,Q)){kC(T,o);continue}R1&&qk([hs,mo,$o],ke=>{Q=vE(Q,ke," ")});const ce=vu(o.nodeName);if(!PM(ce,W,Q)){kC(T,o);continue}if(wt&&typeof he=="object"&&typeof he.getAttributeType=="function"&&!k)switch(he.getAttributeType(ce,W)){case"TrustedHTML":{Q=wt.createHTML(Q);break}case"TrustedScriptURL":{Q=wt.createScriptURL(Q);break}}if(Q!==G)try{k?o.setAttributeNS(k,T,Q):o.setAttribute(T,Q),FM(o)?B1(o):EF(s.removed)}catch{kC(T,o)}}sy(Qn.afterSanitizeAttributes,o,null)},e=function t(o){let r=null;const c=kH(o);for(sy(Qn.beforeSanitizeShadowDOM,o,null);r=c.nextNode();)sy(Qn.uponSanitizeShadowNode,r,null),_H(r),$J(r),r.content instanceof w&&t(r.content);sy(Qn.afterSanitizeShadowDOM,o,null)};return s.sanitize=function(t){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=null,c=null,h=null,v=null;if(O3=!t,O3&&(t="<!-->"),typeof t!="string"&&!_C(t))if(typeof t.toString=="function"){if(t=t.toString(),typeof t!="string")throw xE("dirty is not a string, aborting")}else throw xE("toString is not a function");if(!s.isSupported)return t;if(gT||LM(o),s.removed=[],typeof t=="string"&&(EC=!1),EC){if(t.nodeName){const L=vu(t.nodeName);if(!Zo[L]||Kf[L])throw xE("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof D)r=PJ("<!---->"),c=r.ownerDocument.importNode(t,!0),c.nodeType===CE.element&&c.nodeName==="BODY"||c.nodeName==="HTML"?r=c:r.appendChild(c);else{if(!wC&&!R1&&!M1&&t.indexOf("<")===-1)return wt&&SC?wt.createHTML(t):t;if(r=PJ(t),!r)return wC?null:SC?_t:""}r&&NM&&B1(r.firstChild);const T=kH(EC?t:r);for(;h=T.nextNode();)_H(h),$J(h),h.content instanceof w&&e(h.content);if(EC)return t;if(wC){if(CC)for(v=nn.call(r.ownerDocument);r.firstChild;)v.appendChild(r.firstChild);else v=r;return(dr.shadowroot||dr.shadowrootmode)&&(v=fo.call(f,v,!0)),v}let k=M1?r.outerHTML:r.innerHTML;return M1&&Zo["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&Em(RF,r.ownerDocument.doctype.name)&&(k="<!DOCTYPE "+r.ownerDocument.doctype.name+`>
`+k),R1&&qk([hs,mo,$o],L=>{k=vE(k,L," ")}),wt&&SC?wt.createHTML(k):k},s.setConfig=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};LM(t),gT=!0},s.clearConfig=function(){h2=null,gT=!1},s.isValidAttribute=function(t,o,r){h2||LM({});const c=vu(t),h=vu(o);return PM(c,h,r)},s.addHook=function(t,o){typeof o=="function"&&yE(Qn[t],o)},s.removeHook=function(t,o){if(o!==void 0){const r=$Z(Qn[t],o);return r===-1?void 0:IZ(Qn[t],r,1)[0]}return EF(Qn[t])},s.removeHooks=function(t){Qn[t]=[]},s.removeAllHooks=function(){Qn=MF()},s}var wO=BF();const SE=n=>wO().sanitize(n);var hd=tinymce.util.Tools.resolve("tinymce.util.I18n");const Xk={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-disc":!0,"list-bull-default":!0,"list-bull-square":!0},LF="temporary-placeholder",CO=n=>()=>$n(n,LF).getOr("!not found!"),SO=(n,s)=>{const i=n.toLowerCase();if(hd.isRtl()){const f=uc(i,"-rtl");return Yo(s,f)?f:i}else return i},FF=(n,s)=>$n(s,SO(n,s)),eW=(n,s)=>{const i=s();return FF(n,i).getOrThunk(CO(i))},Qk=(n,s,i)=>{const f=s();return FF(n,f).or(i).getOrThunk(CO(f))},Uw=n=>hd.isRtl()?Yo(Xk,n):!1,EO=()=>de("add-focusable",[Rr(n=>{Ou(n.element,"svg").each(s=>co(s,"focusable","false"))})]),TO=(n,s,i,f)=>{const b=Uw(s)?["tox-icon--flip"]:[],w=$n(i,SO(s,i)).or(f).getOrThunk(CO(i));return{dom:{tag:n.tag,attributes:n.attributes??{},classes:n.classes.concat(b),innerHtml:w},behaviours:a([...n.behaviours??[],EO()]),eventOrder:n.eventOrder??{}}},lh=(n,s,i,f=P.none())=>TO(s,n,i(),f),tW=(n,s,i)=>{const f=i(),b=Be(n,w=>Yo(f,SO(w,f)));return TO(s,b.getOr(LF),f,P.none())},nW={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},AO=oh({name:"Notification",factory:n=>{const s=me("notification-text"),i=ur({dom:h0(`<p id=${s}>${SE(n.backstageProvider.translate(n.text))}</p>`),behaviours:a([Po.config({})])}),f=xe=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${xe}%`}}}),b=xe=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${xe}%`}}),w=ur({dom:{tag:"div",classes:n.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(0)]},b(0)],behaviours:a([Po.config({})])}),B={updateProgress:(xe,De)=>{xe.getSystem().isConnected()&&w.getOpt(xe).each(Ie=>{Po.set(Ie,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(De)]},b(De)])})},updateText:(xe,De)=>{if(xe.getSystem().isConnected()){const Ie=i.get(xe);Po.set(Ie,[Na(De)])}}},z=et([n.icon.toArray(),[n.level],P.from(nW[n.level]).toArray()]),Z=ur(rc.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":n.backstageProvider.translate("Close")}},components:[lh("close",{tag:"span",classes:["tox-icon"]},n.iconProvider)],buttonBehaviours:a([ca.config({}),ya.config({...n.backstageProvider.tooltips.getConfig({tooltipText:n.backstageProvider.translate("Close")})})]),action:xe=>{n.onAction(xe)}})),K=tW(z,{tag:"div",classes:["tox-notification__icon"]},n.iconProvider),ie={dom:{tag:"div",classes:["tox-notification__body"]},components:[i.asSpec()],behaviours:a([Po.config({})])},he=[K,ie];return{uid:n.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":s},classes:["tox-notification","tox-notification--in",`tox-notification--${n.level}`]},behaviours:a([ca.config({}),Qe.config({}),io.config({mode:"special",onEscape:xe=>(n.onAction(xe),P.some(!0))})]),components:he.concat(n.progress?[w.asSpec()]:[]).concat([Z.asSpec()]),apis:B}},configFields:[Xl("level","info",["success","error","warning","warn","info"]),Zt("progress"),gr("icon"),Zt("onAction"),Zt("text"),Zt("iconProvider"),Zt("backstageProvider")],apis:{updateProgress:(n,s,i)=>{n.updateProgress(s,i)},updateText:(n,s,i)=>{n.updateText(s,i)}}});var oW=(n,s,i,f)=>{const b=s.backstage.shared,w=()=>un.fromDom(n.queryCommandValue("ToggleView")===""?n.getContentAreaContainer():n.getContainer()),S=()=>{const K=Di(w());return P.some(K)},D=K=>{S().each(ie=>{dt(K,he=>{rs(he.element,"width"),Bi(he.element)>ie.width&&wo(he.element,"width",ie.width+"px")})})};return{open:(K,ie,he)=>{const xe=()=>{const ot=Xt=>{Po.remove(Xt,Ie),Ee()},wt=(Xt,nn)=>{Zu(Xt.element).length===0?_t(Xt,nn):Tn(Xt,nn)},_t=(Xt,nn)=>{hi.hide(Xt),f.clear(),nn&&n.focus()},Tn=(Xt,nn)=>{nn&&io.focusIn(Xt)};f.on(Xt=>{ie();const nn=he();ot(Xt),wt(Xt,nn)})},De=()=>!Vw(n)||!b.header.isPositionedAtTop(),Ie=E(AO.sketch({text:K.text,level:Ue(["success","error","warning","warn","info"],K.type)?K.type:void 0,progress:K.progressBar===!0,icon:K.icon,onAction:xe,iconProvider:b.providers.icons,backstageProvider:b.providers}));if(f.isSet()){const ot=_(Ie);f.on(wt=>{Po.append(wt,ot),hi.reposition(wt),Ie.hasConfigured(ei)&&ei.refresh(wt),D(wt.components())})}else{const ot=E(hi.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:b.getSink,fireDismissalEventInstead:{},...b.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:a([io.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),Po.config({}),...De()?[ei.config({contextual:{lazyContext:()=>P.some(Di(w())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:Xt=>Wb(n,Xt.element).map(tn=>({bounds:Ux(tn),optScrollEnv:P.some({currentScrollTop:tn.element.dom.scrollTop,scrollElmTop:Bl(tn.element).top})})).getOrThunk(()=>({bounds:bc(),optScrollEnv:P.none()}))})]:[]])})),wt=_(Ie),_t={maxHeightFunction:Gh()},Tn={...b.anchors.banner(),overrides:_t};f.set(ot),i.add(ot),hi.showWithinBounds(ot,wt,{anchor:Tn},S)}ct(K.timeout)&&K.timeout>0&&Hk.setEditorTimeout(n,()=>{xe()},K.timeout);const Ee=()=>{f.on(ot=>{hi.reposition(ot),ot.hasConfigured(ei)&&ei.refresh(ot),D(ot.components())})};return{close:xe,reposition:Ee,text:ot=>{AO.updateText(Ie,ot)},settings:K,getEl:()=>Ie.element.dom,progressBar:{value:ot=>{AO.updateProgress(Ie,ot)}}}},close:K=>{K.close()},getArgs:K=>K.settings}};const sW={setup:(n,s)=>{const i=(b,w)=>{no(b,Ki(),{raw:w})},f=()=>n.getMenu().bind(lr.getHighlighted);s.on("keydown",b=>{const w=b.which;n.isActive()&&(n.isMenuOpen()?w===13?(f().each(r1),b.preventDefault()):w===40?(f().fold(()=>{n.getMenu().each(lr.highlightFirst)},S=>{i(S,b)}),b.preventDefault(),b.stopImmediatePropagation()):(w===37||w===38||w===39)&&f().each(S=>{i(S,b),b.preventDefault(),b.stopImmediatePropagation()}):(w===13||w===38||w===40)&&n.cancelIfNecessary())}),s.on("NodeChange",()=>{n.isActive()&&!n.isProcessingAction()&&!s.queryCommandState("mceAutoCompleterInRange")&&n.cancelIfNecessary()})}};var kO;(function(n){n[n.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",n[n.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(kO||(kO={}));var ip=kO;const _O="tox-menu-nav__js",EE="tox-collection__item",mv="tox-swatch",Zx={normal:_O,color:mv},DO="tox-collection__item--enabled",PF="tox-collection__group-heading",OO="tox-collection__item-icon",Jk="tox-collection__item-image",rW="tox-collection__item-image-selector",Gb="tox-collection__item-label",Wx="tox-collection__item-accessory",$F="tox-collection__item-caret",aW="tox-collection__item-checkmark",qx="tox-collection__item--active",IF="tox-collection__item-container",iW="tox-collection__item-container--column",HF="tox-collection__item-container--row",lW="tox-collection__item-container--align-right",cW="tox-collection__item-container--align-left",e4="tox-collection__item-container--valign-top",zF="tox-collection__item-container--valign-middle",uW="tox-collection__item-container--valign-bottom",NO=n=>$n(Zx,n).getOr(_O),dW=n=>n==="color"?"tox-swatches":"tox-menu",RO=n=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:dW(n),tieredMenu:"tox-tiered-menu"}),S1=n=>{const s=RO(n);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:NO(n)}},Pne=(n,s,i)=>{const f=RO(i);return{tag:"div",classes:et([[f.menu,`tox-menu-${s}-column`],n?[f.hasIcons]:[]])}},MO=[Ub.parts.items({})],TE=(n,s,i)=>{const f=RO(i);return{dom:{tag:"div",classes:et([[f.tieredMenu]])},markers:S1(i)}},jF=me("refetch-trigger-event"),VF=me("redirect-menu-item-interaction"),UF="tox-menu__searcher",AE=n=>ar(n.element,`.${UF}`).bind(s=>n.getSystem().getByDom(s).toOptional()),ZF=AE,fW=(n,s)=>{Pn.setValue(n,s.fetchPattern),n.element.dom.selectionStart=s.selectionStart,n.element.dom.selectionEnd=s.selectionEnd},BO=n=>{const s=Pn.getValue(n),i=n.element.dom.selectionStart,f=n.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:i,selectionEnd:f}},WF=(n,s)=>{li(s.element,"id").each(i=>co(n.element,"aria-activedescendant",i))},mW=n=>{const s=(b,w)=>(w.cut(),P.none()),i=(b,w)=>{const S={interactionEvent:w.event,eventType:w.event.raw.type};return no(b,VF,S),P.some(!0)},f="searcher-events";return{dom:{tag:"div",classes:[EE]},components:[C1.sketch({inputClasses:[UF,"tox-textfield"],inputAttributes:{...n.placeholder.map(b=>({placeholder:n.i18n(b)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:a([de(f,[Nt(Bf(),b=>{cs(b,jF)}),Nt(Ki(),(b,w)=>{w.event.raw.key==="Escape"&&w.stop()})]),io.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:i,onEscape:i,onUp:i,onDown:i})]),eventOrder:{keydown:[f,io.name()]}})]}},t4="tox-collection--results__js",kE=n=>n.dom?{...n,dom:{...n.dom,attributes:{...n.dom.attributes??{},id:me("aria-item-search-result-id"),"aria-selected":"false"}}}:n,LO="Use arrow keys to navigate.",FO=(n,s)=>i=>{const f=gt(i,s);return He(f,b=>({dom:n,components:b}))},PO=n=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"],attributes:{"aria-label":hd.translate(LO)}},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Ub.parts.items({preprocess:n!=="auto"?FO({tag:"div",classes:["tox-swatches__row"]},n):lt})]}]}),hW=n=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[Ub.parts.items({preprocess:n!=="auto"?FO({tag:"div",classes:["tox-image-selector__row"]},n):lt})]}]}),$O=n=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Ub.parts.items({preprocess:FO({tag:"div",classes:["tox-collection__group"]},n)})]}),qF=(n,s)=>{const i=[];let f=[];return dt(n,(b,w)=>{s(b,w)?(f.length>0&&i.push(f),f=[],(Yo(b.dom,"innerHtml")||b.components&&b.components.length>0)&&f.push(b)):f.push(b)}),f.length>0&&i.push(f),He(i,b=>({dom:{tag:"div",classes:["tox-collection__group"]},components:b}))},IO=(n,s,i)=>Ub.parts.items({preprocess:f=>{const b=He(f,i);return n!=="auto"&&n>1?FO({tag:"div",classes:["tox-collection__group"]},n)(b):qF(b,(w,S)=>s[S].type==="separator")}}),GF=n=>Pt(n,s=>s.type==="widget"),HO=(n,s,i=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{...GF(s)?{"aria-label":hd.translate(LO)}:{}}},components:[IO(n,s,lt)]}),KF=(n,s,i=!0)=>{const f=me("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",t4].concat(n===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:f}},components:[IO(n,s,kE)]}},Kb=(n,s,i)=>{const f=me("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"])},components:[mW({i18n:hd.translate,placeholder:i.placeholder}),{dom:{tag:"div",classes:[...n===1?["tox-collection--list"]:["tox-collection--grid"],t4],attributes:{id:f}},components:[IO(n,s,kE)]}]}},Gx=(n,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Ub.parts.items({preprocess:i=>qF(i,(f,b)=>n[b].type==="separator")})]}),_E=n=>Pt(n,s=>"icon"in s&&s.icon!==void 0),w0=n=>(console.error(Mg(n)),console.log(n),P.none()),YF=(n,s,i,f,b)=>{const w=Gx(i);return{value:n,dom:w.dom,components:w.components,items:i}},zO=(n,s,i,f,b)=>{const w=()=>b.menuType!=="searchable"?HO(f,i):b.searchMode.searchMode==="search-with-field"?Kb(f,i,b.searchMode):KF(f,i);if(b.menuType==="color"){const S=PO(f);return{value:n,dom:S.dom,components:S.components,items:i}}else if(b.menuType==="imageselector"&&f!=="auto"){const S=hW(f);return{value:n,dom:S.dom,components:S.components,items:i}}else if(b.menuType==="normal"&&f==="auto"){const S=HO(f,i);return{value:n,dom:S.dom,components:S.components,items:i}}else if(b.menuType==="normal"||b.menuType==="searchable"){const S=w();return{value:n,dom:S.dom,components:S.components,items:i}}else if(b.menuType==="listpreview"&&f!=="auto"){const S=$O(f);return{value:n,dom:S.dom,components:S.components,items:i}}else return{value:n,dom:Pne(s,f,b.menuType),components:MO,items:i}},Ni=Xa("type"),jO=Xa("name"),n4=Xa("label"),Yb=Xa("text"),XF=Xa("title"),VO=Xa("icon"),gW=Xa("url"),Zw=Xa("value"),pW=uu("fetch"),bW=uu("getSubmenuItems"),hv=uu("onAction"),yW=uu("onItemAction"),Kx=ir("onSetup",()=>J),vW=ga("name"),Xb=ga("text"),xW=ga("role"),og=ga("icon"),Yx=ga("tooltip"),QF=ga("chevronTooltip"),DE=ga("label"),UO=ga("shortcut"),wW=uf("select"),Ww=Gi("active",!1),CW=Gi("borderless",!1),sg=Gi("enabled",!0),OE=Gi("primary",!1),JF=n=>pt("columns",n),ZO=pt("meta",{}),WO=ir("onAction",J),Xx=n=>Da("type",n),qO=n=>ml("name","name",Op(()=>me(`${n}-name`)),Pi),eP=n=>ml("value","value",Op(()=>me(`${n}-value`)),lf()),qw=[Ni,Yb,Yl("level",["info","warn","error","success"]),VO,pt("url","")],SW=uo(qw),EW=n=>[Ni,n],TW=[Ni,Yb,sg,qO("button"),og,CW,jm("buttonType",["primary","secondary","toolbar"]),OE,Da("context","mode:design")],o4=uo(TW),Wd=[Ni,jO],rg=Wd.concat([DE]),tP=Wd.concat([n4,sg,Da("context","mode:design")]),AW=uo(tP),kW=Xo,_W=rg.concat([JF("auto"),Da("context","mode:design")]),DW=uo(_W),nP=Z0([Zw,Yb,VO]),oP=rg.concat([Da("storageKey","default"),Da("context","mode:design")]),OW=uo(oP),NW=Pi,MW=uo(rg),sP=Pi,rP=Wd.concat([Da("tag","textarea"),Xa("scriptId"),Xa("scriptUrl"),uf("onFocus"),Pl("settings",void 0)]),aP=Wd.concat([Da("tag","textarea"),uu("init")]),BW=cm(n=>ha("customeditor.old",Lu(aP),n).orThunk(()=>ha("customeditor.new",Lu(rP),n))),LW=Pi,gv=[sg,Xb,xW,UO,eP("menuitem"),ZO,Da("context","mode:design")],FW=uo([Ni,jO].concat(gv)),PW=Xo,Gw=[qO("button"),og,Xl("align","end",["start","end"]),OE,sg,jm("buttonType",["primary","secondary"]),Da("context","mode:design")],C0=[...Gw,Yb],s4=[Yl("type",["submit","cancel","custom"]),...C0],ag=[Yl("type",["menu"]),Xb,Yx,og,Cr("items",FW),...Gw],$W=[...Gw,Yl("type",["togglebutton"]),Yx,og,Xb,Gi("active",!1)],r4=Kl("type",{submit:s4,cancel:s4,custom:s4,menu:ag,togglebutton:$W}),IW=rg.concat([Da("context","mode:design"),ga("dropAreaLabel"),ga("buttonLabel"),ga("allowedFileTypes"),Bg("allowedFileExtensions",Pi)]),Qx=uo(IW),HW=$v(),GO=n=>[Ni,ab("columns"),n],KO=[Ni,Xa("html"),Xl("presets","presentation",["presentation","document"]),ir("onInit",J),Gi("stretched",!1)],zW=uo(KO),jW=rg.concat([Gi("border",!1),Gi("sandboxed",!0),Gi("streamContent",!1),Gi("transparent",!0)]),Jx=uo(jW),iP=Pi,lP=uo(Wd.concat([ga("height")])),VW=uo([Xa("url"),Bp("zoom"),Bp("cachedWidth"),Bp("cachedHeight")]),YO=rg.concat([ga("inputMode"),ga("placeholder"),Gi("maximized",!1),sg,Da("context","mode:design")]),cP=uo(YO),XO=Pi,uP=n=>[Ni,n4,n,Xl("align","start",["start","center","end"]),ga("for")],dP=[Yb,Zw],NE=[Yb,Cr("items",Bh("items",()=>fP))],fP=Mp([uo(dP),uo(NE)]),UW=rg.concat([Cr("items",fP),sg,Da("context","mode:design")]),ZW=uo(UW),WW=Pi,QO=rg.concat([q0("items",[Yb,Zw]),Lp("size",1),sg,Da("context","mode:design")]),qW=uo(QO),JO=Pi,GW=rg.concat([Gi("constrain",!0),sg,Da("context","mode:design")]),RE=uo(GW),mP=uo([Xa("width"),Xa("height")]),hP=Wd.concat([n4,Lp("min",0),Lp("max",0)]),KW=uo(hP),YW=_p,XW=[Ni,Cr("header",Pi),Cr("cells",_a(Pi))],QW=uo(XW),a4=rg.concat([ga("placeholder"),Gi("maximized",!1),sg,Da("context","mode:design"),Cy("spellcheck")]),gP=uo(a4),JW=Pi,eN=[Da("buttonType","default"),ga("text"),ga("tooltip"),ga("icon"),ed("search",!1,Mp([Xo,uo([ga("placeholder")])],n=>fe(n)?n?P.some({placeholder:P.none()}):P.none():P.some(n))),uu("fetch"),ir("onSetup",()=>J),Da("context","mode:design")],pv=uo([Ni,...eN]),tN=n=>ha("menubutton",pv,n),Kw=[Yl("type",["directory","leaf"]),XF,Xa("id"),um("menu",pv),ga("customStateIcon"),ga("customStateIconTooltip")],nN=uo(Kw),eq=Kw.concat([Cr("children",Bh("children",()=>Mh("type",{directory:pP,leaf:nN})))]),pP=uo(eq),e2=Mh("type",{directory:pP,leaf:nN}),bP=[Ni,Cr("items",e2),uf("onLeafAction"),uf("onToggleExpand"),Vm("defaultExpandedIds",[],Pi),ga("defaultSelectedId")],tq=uo(bP),yP=rg.concat([Xl("filetype","file",["image","media","file"]),sg,ga("picker_text"),Da("context","mode:design")]),nq=uo(yP),oq=uo([Zw,ZO]),oN=n=>ml("items","items",Nd(),_a(cm(s=>ha(`Checking item of ${n}`,i4,s).fold(i=>Bn.error(Mg(i)),i=>Bn.value(i))))),i4=U0(()=>Mh("type",{alertbanner:SW,bar:uo(EW(oN("bar"))),button:o4,checkbox:AW,colorinput:OW,colorpicker:MW,dropzone:Qx,grid:uo(GO(oN("grid"))),iframe:Jx,input:cP,listbox:ZW,selectbox:qW,sizeinput:RE,slider:KW,textarea:gP,urlinput:nq,customeditor:BW,htmlpanel:zW,imagepreview:lP,collection:DW,label:uo(uP(oN("label"))),table:QW,tree:tq,panel:vP})),sq=[Ni,pt("classes",[]),Cr("items",i4)],vP=uo(sq),rq=[qO("tab"),XF,Cr("items",i4)],aq=[Ni,q0("tabs",rq)],iq=uo(aq),lq=C0,cq=r4,uq=uo([Xa("title"),Bc("body",Mh("type",{panel:vP,tabpanel:iq})),Da("size","normal"),Vm("buttons",[],cq),pt("initialData",{}),ir("onAction",J),ir("onChange",J),ir("onSubmit",J),ir("onClose",J),ir("onCancel",J),ir("onTabChange",J)]),xP=n=>ha("dialog",uq,n),dq=uo([Yl("type",["cancel","custom"]),...lq]),fq=uo([Xa("title"),Xa("url"),Bp("height"),Bp("width"),Bg("buttons",dq),ir("onAction",J),ir("onCancel",J),ir("onClose",J),ir("onMessage",J)]),mq=n=>ha("dialog",fq,n),sN=n=>U(n)?[n].concat(Le(Ma(n),sN)):Y(n)?Le(n,sN):[],hq=n=>I(n.type)&&I(n.name),gq={checkbox:kW,colorinput:NW,colorpicker:sP,dropzone:HW,input:XO,iframe:iP,imagepreview:VW,selectbox:JO,sizeinput:mP,slider:YW,listbox:WW,size:mP,textarea:JW,urlinput:oq,customeditor:LW,collection:nP,togglemenuitem:PW},wP=n=>P.from(gq[n.type]),CP=n=>Eo(sN(n),hq),pq=n=>{const s=CP(n),i=Le(s,f=>wP(f).fold(()=>[],b=>[Bc(f.name,b)]));return uo(i)},ME=n=>{const s=Ju(xP(n)),i=pq(n),f=n.initialData??{};return{internalDialog:s,dataValidator:i,initialData:f}},t2={open:(n,s)=>{const i=ME(s);return n(i.internalDialog,i.initialData,i.dataValidator)},openUrl:(n,s)=>{const i=Ju(mq(s));return n(i)},redial:n=>ME(n)},SP=uo([Ni,Xb]),bq=n=>ha("separatormenuitem",SP,n),yq=uo([Xx("autocompleteitem"),Ww,sg,ZO,Zw,Xb,og]),vq=n=>ha("Autocompleter.Separator",SP,n),xq=n=>ha("Autocompleter.Item",yq,n),Yw=[sg,Yx,og,Xb,Kx,Da("context","mode:design")],wq=uo([Ni,hv,UO].concat(Yw)),E1=n=>ha("toolbarbutton",wq,n),rN=[Ww].concat(Yw),Cq=uo(rN.concat([Ni,hv,UO])),aN=n=>ha("ToggleButton",Cq,n),l4=[ir("predicate",yt),Xl("scope","node",["node","editor"]),Xl("position","selection",["node","selection","line"])],Sq=Yw.concat([Xx("contextformbutton"),Da("align","end"),OE,hv,yc("original",lt)]),Eq=rN.concat([Xx("contextformbutton"),Da("align","end"),OE,hv,yc("original",lt)]),Tq=Yw.concat([Xx("contextformbutton")]),iN=rN.concat([Xx("contextformtogglebutton")]),EP=Kl("type",{contextformbutton:Sq,contextformtogglebutton:Eq}),BE=[DE,Cr("commands",EP),um("launch",Kl("type",{contextformbutton:Tq,contextformtogglebutton:iN})),ir("onInput",J),ir("onSetup",J)],c4=[...l4,...BE,Yl("type",["contextform"]),ir("initValue",ae("")),ga("placeholder")],Xw=[...l4,...BE,Yl("type",["contextsliderform"]),ir("initValue",ae(0)),ir("min",ae(0)),ir("max",ae(100))],Aq=[...l4,...BE,Yl("type",["contextsizeinputform"]),ir("initValue",ae({width:"",height:""}))],TP=Kl("type",{contextform:c4,contextsliderform:Xw,contextsizeinputform:Aq}),kq=n=>ha("ContextForm",TP,n),Qw=Yw.concat([Xx("contexttoolbarbutton")]),_q=uo([Xx("contexttoolbar"),$i("launch",Qw),Bc("items",Mp([Pi,Z0([ga("name"),ga("label"),Cr("items",Pi)])]))].concat(l4)),u4=n=>({name:n.name.getOrUndefined(),label:n.label.getOrUndefined(),items:n.items}),lN=n=>({...n,launch:n.launch.getOrUndefined(),items:I(n.items)?n.items:He(n.items,u4)}),Dq=n=>ha("ContextToolbar",_q,n),Oq=[Ni,Xa("src"),ga("alt"),Vm("classes",[],Pi)],Nq=uo(Oq),cN=[Ni,Yb,vW,Vm("classes",["tox-collection__item-label"],Pi)],Rq=uo(cN),AP=U0(()=>Mh("type",{cardimage:Nq,cardtext:Rq,cardcontainer:Mq})),Mq=uo([Ni,Da("direction","horizontal"),Da("align","left"),Da("valign","middle"),Cr("items",AP)]),kP=uo([Ni,DE,Cr("items",AP),Kx,WO].concat(gv)),uN=n=>ha("cardmenuitem",kP,n),Bq=uo([Ni,Ww,og,DE].concat(gv)),Lq=n=>ha("choicemenuitem",Bq,n),dN=[Ni,Xa("fancytype"),WO],_P=[pt("initData",{})].concat(dN),Fq=[uf("select"),Lh("initData",{},[Gi("allowCustomColors",!0),Da("storageKey","default"),Bg("colors",lf())])].concat(dN),fN=[uf("select"),cf("initData",[ab("columns"),Vm("items",[],lf())])].concat(dN),DP=Kl("fancytype",{inserttable:_P,colorswatch:Fq,imageselect:fN}),OP=n=>ha("fancymenuitem",DP,n),Pq=uo([Ni,Ww,gW,DE,Yx].concat(gv)),$q=uo([Ni,Ww,VO,n4,Yx,Zw].concat(gv)),NP=n=>ha("imagemenuitem",Pq,n),mN=n=>ha("resetimageitem",$q,n),Iq=uo([Ni,Kx,WO,og].concat(gv)),Hq=n=>ha("menuitem",Iq,n),zq=uo([Ni,bW,Kx,og].concat(gv)),jq=n=>ha("nestedmenuitem",zq,n),Vq=uo([Ni,og,Ww,Kx,hv].concat(gv)),Uq=n=>ha("togglemenuitem",Vq,n),Zq=uo([og,Yx,ir("onShow",J),ir("onHide",J),Kx]),hN=n=>ha("sidebar",Zq,n),Wq=uo([Ni,Bc("items",Mp([Z0([jO,Cr("items",Pi)]),Pi]))].concat(Yw)),gN=n=>ha("GroupToolbarButton",Wq,n),qq=uo([Ni,Yx,QF,og,Xb,wW,pW,Kx,Xl("presets","normal",["normal","color","listpreview"]),JF(1),hv,yW,Da("context","mode:design")]),Gq=n=>ha("SplitButton",qq,n),d4=[Xb,og,ga("tooltip"),Xl("buttonType","secondary",["primary","secondary"]),Gi("borderless",!1),uu("onAction"),Da("context","mode:design")],Kq=[...d4,Yb,Yl("type",["button"])],Yq=[...d4,Gi("active",!1),Yl("type",["togglebutton"])],pN={button:Kq,togglebutton:Yq},Xq=[Yl("type",["group"]),Vm("buttons",[],Kl("type",pN))],Qq=Kl("type",{...pN,group:Xq}),Jq=uo([Vm("buttons",[],Qq),uu("onShow"),uu("onHide")]),eG=n=>ha("view",Jq,n),bN=(n,s,i)=>{const f=ea(n.element,"."+i);if(f.length>0){const b=Ye(f,w=>{const S=w.dom.getBoundingClientRect().top,D=f[0].dom.getBoundingClientRect().top;return Math.abs(S-D)>s}).getOr(f.length);return P.some({numColumns:b,numRows:Math.ceil(f.length/b)})}else return P.none()},RP=(n,s)=>a([de(n,s)]),Jw={namedEvents:RP,unnamedEvents:n=>RP(me("unnamed-events"),n)},S0={item:n=>Xn.config({disabled:n,disableClass:"tox-collection__item--state-disabled"}),button:n=>Xn.config({disabled:n}),splitButton:n=>Xn.config({disabled:n,disableClass:"tox-tbtn--disabled"}),toolbarButton:n=>Xn.config({disabled:n,disableClass:"tox-tbtn--disabled",useNative:!1})},LE=(n,s)=>{const i=n.getApi(s);return f=>{f(i)}},E0=(n,s)=>Rr(i=>{be(n.onBeforeSetup)&&n.onBeforeSetup(i),LE(n,i)(b=>{const w=n.onSetup(b);be(w)&&s.set(w)})}),bv=(n,s)=>hf(i=>LE(n,i)(s.get())),f4=(n,s,i)=>hf(f=>(i.set(Pn.getValue(f)),LE(n,f)(s.get()))),yN="silver.uistate",n2="setDisabled",nG="setEnabled",vN="init",oG=["switchmode",vN],FE=(n,s)=>{const i=n.mainUi.outerContainer,f=[n.mainUi.mothership,...n.uiMotherships];s===n2&&dt(f,b=>{b.broadcastOn([Jm()],{target:i.element})}),dt(f,b=>{b.broadcastOn([yN],s)})},MP=(n,s)=>{n.on("init SwitchMode",i=>{FE(s,i.type)}),n.on("DisabledStateChange",i=>{if(!i.isDefaultPrevented()){const f=i.state?n2:vN;FE(s,f),i.state||n.nodeChanged()}}),n.on("NodeChange",i=>{const f=n.ui.isEnabled()?i.type:n2;FE(s,f)}),GL(n)&&n.mode.set("readonly")},nl=n=>md.config({channels:{[yN]:{onReceive:(s,i)=>{if(i===n2||i===nG){Xn.set(s,i===n2);return}const{contextType:f,shouldDisable:b}=n();f==="mode"&&!Ue(oG,i)||Xn.set(s,b)}}}}),Qb=(n,s)=>wm((i,f)=>{LE(n,i)(n.onAction),!n.triggersSubmenu&&s===ip.CLOSE_ON_EXECUTE&&(i.getSystem().isConnected()&&cs(i,Oa()),f.stop())}),sG={[Ns()]:["disabling","alloy.base.behaviour","toggling","item-events"]},T1=Ho,o2=(n,s,i,f)=>{const b=Nn(J);return{type:"item",dom:s.dom,components:T1(s.optComponents),data:n.data,eventOrder:sG,hasSubmenu:n.triggersSubmenu,itemBehaviours:a([de("item-events",[Qb(n,i),E0(n,b),bv(n,b)]),S0.item(()=>!n.enabled||f.checkUiComponentContext(n.context).shouldDisable),nl(()=>f.checkUiComponentContext(n.context)),Po.config({})].concat(n.itemBehaviours))}},Jb=n=>({value:n.value,meta:{text:n.text.getOr(""),...n.meta}}),rG=(n,s)=>{const i=un.fromTag("div");Qs(i,"tox-image-selector-loading-spinner");const f=w=>{Qs(w,"tox-image-selector-loading-spinner-wrapper"),sa(w,i)},b=w=>{ma(w,"tox-image-selector-loading-spinner-wrapper"),tu(i)};return{dom:{tag:n.tag,attributes:n.attributes??{},classes:n.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:s},classes:["tox-image-selector-image-img"]}}]},...n.checkMark.toArray()],behaviours:a([...n.behaviours??[],de("render-image-events",[Rr(w=>{f(w.element),ar(w.element,"img").each(S=>{Sl(S).catch(D=>{console.error(D)}).finally(()=>{b(w.element)})})})])])}},aG=(n,s)=>rG(s,n),xN=n=>{const s=Pw.os.isMacOS()||Pw.os.isiOS(),b=s?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},w=n.split("+"),S=He(w,D=>{const B=D.toLowerCase().trim();return Yo(b,B)?b[B]:D});return s?S.join(""):S.join("+")},m4=(n,s,i=[OO])=>lh(n,{tag:"div",classes:i},s),BP=n=>({dom:{tag:"div",classes:[Gb]},components:[Na(hd.translate(n))]}),h4=(n,s)=>({dom:{tag:"div",classes:s,innerHtml:n}}),wN=(n,s)=>({dom:{tag:"div",classes:[Gb]},components:[{dom:{tag:n.tag,styles:n.styles},components:[Na(hd.translate(s))]}]}),CN=n=>({dom:{tag:"div",classes:[Wx]},components:[Na(xN(n))]}),SN=n=>m4("checkmark",n,[aW]),ch=n=>m4("chevron-right",n,[$F]),iG=n=>m4("chevron-down",n,[$F]),lG=(n,s)=>{const i=n.direction==="vertical"?iW:HF,f=n.align==="left"?cW:lW;return{dom:{tag:"div",classes:[IF,i,f,(()=>{switch(n.valign){case"top":return e4;case"middle":return zF;case"bottom":return uW}})()]},components:s}},LP=(n,s,i)=>({dom:{tag:"img",classes:s,attributes:{src:n,alt:i.getOr("")}}}),FP=(n,s,i)=>{const f="custom",b="remove",w=n.value,S=n.iconContent.map(z=>Qk(z,s.icons,i)),D=n.ariaLabel.map(z=>({"aria-label":s.translate(z),"data-mce-name":z})).getOr({});return{dom:(()=>{const z=mv,Z=S.getOr(""),K={tag:"div",attributes:D,classes:[z]};return w===f?{...K,tag:"button",classes:[...K.classes,"tox-swatches__picker-btn"],innerHtml:Z}:w===b?{...K,classes:[...K.classes,"tox-swatch--remove"],innerHtml:Z}:$e(w)?{...K,attributes:{...K.attributes,"data-mce-color":w},styles:{"background-color":w},innerHtml:Z}:K})(),optComponents:[]}},EN=(n,s)=>{const i=n.map(f=>({attributes:{id:me("menu-item"),"aria-label":hd.translate(f)}})).getOr({});return{tag:"div",classes:[_O,EE].concat(s),...i}},PP=n=>({dom:{tag:"label"},components:[Na(n)]}),cG=(n,s,i,f)=>{const b={tag:"div",classes:[OO]},w=ie=>lh(ie,b,s.icons,f),S=()=>P.some({dom:b}),D=i?n.iconContent.map(w).orThunk(S):P.none(),B=n.checkMark,z=P.from(n.meta).fold(()=>BP,ie=>Yo(ie,"style")?dn(wN,ie.style):BP),Z=n.htmlContent.fold(()=>n.textContent.map(z),ie=>P.some(h4(ie,[Gb])));return{dom:EN(n.ariaLabel,[]),optComponents:[D,Z,n.shortcutContent.map(CN),B,n.caret,n.labelContent.map(PP)]}},uG=n=>({dom:EN(n.ariaLabel,[rW]),optComponents:[P.some(aG(n.iconContent.getOrDie(),{tag:"div",classes:[Jk],checkMark:n.checkMark})),n.labelContent.map(PP)]}),eC=(n,s,i,f=P.none())=>n.presets==="color"?FP(n,s,f):n.presets==="img"?uG(n):cG(n,s,i,f),$P=(n,s,i)=>$n(n,"tooltipWorker").map(f=>[ya.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:b=>({type:"submenu",item:b,overrides:{maxHeightFunction:Gh}}),mode:"follow-highlight",onShow:(b,w)=>{f(S=>{ya.setComponents(b,[Zf({element:un.fromDom(S)})])})}})]).getOrThunk(()=>i.map(f=>[ya.config({...s.providers.tooltips.getConfig({tooltipText:f}),mode:"follow-highlight"})]).getOr([])),dG=n=>Fw.DOM.encode(n),TN=(n,s)=>{const i=hd.translate(n),f=dG(i);if(s.length>0){const b=new RegExp(Qf(s),"gi");return f.replace(b,w=>`<span class="tox-autocompleter-highlight">${w}</span>`)}else return f},fG=(n,s,i,f,b,w,S,D=!0)=>{const B=eC({presets:f,textContent:P.none(),htmlContent:i?n.text.map(Z=>TN(Z,s)):P.none(),ariaLabel:n.text,labelContent:P.none(),iconContent:n.icon,shortcutContent:P.none(),checkMark:P.none(),caret:P.none(),value:n.value},S.providers,D,n.icon),z=n.text.filter(Z=>!i&&Z!=="");return o2({context:"mode:design",data:Jb(n),enabled:n.enabled,getApi:ae({}),onAction:Z=>b(n.value,n.meta),onSetup:ae(J),triggersSubmenu:!1,itemBehaviours:$P(n,S,z)},B,w,S.providers)},IP=(n,s)=>He(n,i=>{switch(i.type){case"cardcontainer":return lG(i,IP(i.items,s));case"cardimage":return LP(i.src,i.classes,i.alt);case"cardtext":const b=i.name.exists(w=>Ue(s.cardText.highlightOn,w))?P.from(s.cardText.matchText).getOr(""):"";return h4(TN(i.text,b),i.classes)}}),mG=(n,s,i,f)=>{const b=S=>({isEnabled:()=>!Xn.isDisabled(S),setEnabled:D=>{Xn.set(S,!D),dt(ea(S.element,"*"),B=>{S.getSystem().getByDom(B).each(z=>{z.hasConfigured(Xn)&&Xn.set(z,!D)})})}}),w={dom:EN(n.label,[]),optComponents:[P.some({dom:{tag:"div",classes:[IF,HF]},components:IP(n.items,f)})]};return o2({context:"mode:design",data:Jb({text:P.none(),...n}),enabled:n.enabled,getApi:b,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:P.from(f.itemBehaviours).getOr([])},w,s,i.providers)},AN=(n,s,i,f,b,w,S,D=!0)=>{const B=K=>({setActive:ie=>{Ds.set(K,ie)},isActive:()=>Ds.isOn(K),isEnabled:()=>!Xn.isDisabled(K),setEnabled:ie=>Xn.set(K,!ie)}),z=eC({presets:i,textContent:s?n.text:P.none(),htmlContent:P.none(),labelContent:n.label,ariaLabel:n.text,iconContent:n.icon,shortcutContent:s?n.shortcut:P.none(),checkMark:s?P.some(SN(S.icons)):P.none(),caret:P.none(),value:n.value},S,D),Z=n.text.filter(ae(!s)).map(K=>ya.config(S.tooltips.getConfig({tooltipText:S.translate(K)})));return Wt(o2({context:n.context,data:Jb(n),enabled:n.enabled,getApi:B,onAction:K=>f(n.value),onSetup:K=>(K.setActive(b),J),triggersSubmenu:!1,itemBehaviours:[...Z.toArray()]},z,w,S),{toggling:{toggleClass:DO,toggleOnExecute:!1,selected:n.active,exclusive:!0}})},g4=n=>({value:s2(n)}),p4=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,HP=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,b4=n=>p4.test(n)||HP.test(n),s2=n=>Sf(n,"#").toUpperCase(),zP=n=>b4(n)?P.some({value:s2(n)}):P.none(),jP=n=>({value:n.value.replace(p4,(i,f,b,w)=>f+f+b+b+w+w)}),VP=n=>{const s=jP(n),i=HP.exec(s.value);return i===null?["FFFFFF","FF","FF","FF"]:i},kN=n=>{const s=n.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},PE=n=>{const s=kN(n.red)+kN(n.green)+kN(n.blue);return g4(s)},yv=(n,s,i)=>({hue:n,saturation:s,value:i}),_N=n=>{let s=0,i=0,f=0;const b=n.red/255,w=n.green/255,S=n.blue/255,D=Math.min(b,Math.min(w,S)),B=Math.max(b,Math.max(w,S));if(D===B)return f=D,yv(0,0,f*100);const z=b===D?w-S:S===D?b-w:S-b;return s=b===D?3:S===D?1:5,s=60*(s-z/(B-D)),i=(B-D)/B,f=B,yv(Math.round(s),Math.round(i*100),Math.round(f*100))},UP=Math.min,DN=Math.max,$E=Math.round,ON=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,ZP=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,kc=(n,s,i,f)=>({red:n,green:s,blue:i,alpha:f}),y4=n=>{const s=parseInt(n,10);return s.toString()===n&&s>=0&&s<=255},WP=n=>{let s,i,f;const b=(n.hue||0)%360;let w=n.saturation/100,S=n.value/100;if(w=DN(0,UP(w,1)),S=DN(0,UP(S,1)),w===0)return s=i=f=$E(255*S),kc(s,i,f,1);const D=b/60,B=S*w,z=B*(1-Math.abs(D%2-1)),Z=S-B;switch(Math.floor(D)){case 0:s=B,i=z,f=0;break;case 1:s=z,i=B,f=0;break;case 2:s=0,i=B,f=z;break;case 3:s=0,i=z,f=B;break;case 4:s=z,i=0,f=B;break;case 5:s=B,i=0,f=z;break;default:s=i=f=0}return s=$E(255*(s+Z)),i=$E(255*(i+Z)),f=$E(255*(f+Z)),kc(s,i,f,1)},IE=n=>{const s=VP(n),i=parseInt(s[1],16),f=parseInt(s[2],16),b=parseInt(s[3],16);return kc(i,f,b,1)},NN=(n,s,i,f)=>{const b=parseInt(n,10),w=parseInt(s,10),S=parseInt(i,10),D=parseFloat(f);return kc(b,w,S,D)},RN=n=>{const s=ON.exec(n);if(s!==null)return P.some(NN(s[1],s[2],s[3],"1"));const i=ZP.exec(n);return i!==null?P.some(NN(i[1],i[2],i[3],i[4])):P.none()},qP=n=>`rgba(${n.red},${n.green},${n.blue},${n.alpha})`,GP=kc(255,0,0,1),KP=n=>_N(IE(n)),T0=n=>PE(WP(n)),MN=n=>zP(n).orThunk(()=>RN(n).map(PE)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const i=s.getContext("2d");i.clearRect(0,0,s.width,s.height),i.fillStyle="#FFFFFF",i.fillStyle=n,i.fillRect(0,0,1,1);const f=i.getImageData(0,0,1,1).data,b=f[0],w=f[1],S=f[2],D=f[3];return PE(kc(b,w,S,D))}),YP=n=>{n.dispatch("SkinLoaded")},v4=(n,s)=>{n.dispatch("SkinLoadError",s)},BN=n=>{n.dispatch("ResizeEditor")},LN=(n,s)=>{n.dispatch("ResizeContent",s)},hG=(n,s)=>{n.dispatch("ScrollContent",s)},XP=(n,s)=>{n.dispatch("TextColorChange",s)},gG=(n,s)=>{n.dispatch("AfterProgressState",{state:s})},pG=(n,s)=>n.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),bG=(n,s)=>{n.dispatch("ToggleToolbarDrawer",{state:s})},yG=(n,s)=>{n.dispatch("StylesTextUpdate",s)},QP=(n,s)=>{n.dispatch("AlignTextUpdate",s)},vG=(n,s)=>{n.dispatch("FontSizeTextUpdate",s)},A1=(n,s)=>{n.dispatch("FontSizeInputTextUpdate",s)},x4=(n,s)=>{n.dispatch("BlocksTextUpdate",s)},xG=(n,s)=>{n.dispatch("FontFamilyTextUpdate",s)},wG=n=>{n.dispatch("ToggleSidebar")},JP=n=>{n.dispatch("ToggleView")},FN=n=>{n.dispatch("ContextToolbarClose")},PN=n=>{n.dispatch("ContextFormSlideBack")},r2=(n,s)=>()=>{n(),s()},zc=(n,s=Mt)=>vv(n,"NodeChange",i=>{i.setEnabled(n.selection.isEditable()&&s())}),HE=(n,s)=>i=>{const f=Lr(),b=()=>{i.setActive(n.formatter.match(s));const w=n.formatter.formatChanged(s,i.setActive);f.set(w)};return n.initialized?b():n.once("init",b),()=>{n.off("init",b),f.clear()}},zE=(n,s)=>i=>{const f=zc(n)(i),b=HE(n,s)(i);return()=>{f(),b()}},vv=(n,s,i)=>f=>{const b=()=>i(f),w=()=>{i(f),n.on(s,b)};return n.initialized?w():n.once("init",w),()=>{n.off("init",w),n.off(s,b)}},w4=n=>s=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("mceToggleFormat",!1,s.format)})},bf=(n,s)=>()=>n.execCommand(s);var a2=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const e7={},t7=(n,s=10)=>{const i=a2.getItem(n),f=I(i)?JSON.parse(i):[],w=(z=>s-z.length<0?z.slice(0,s):z)(f),S=z=>{le(w,z).each(D),w.unshift(z),w.length>s&&w.pop(),a2.setItem(n,JSON.stringify(w))},D=z=>{w.splice(z,1)};return{add:S,state:()=>w.slice(0)}},$N=n=>$n(e7,n).getOrThunk(()=>{const s=`tinymce-custom-colors-${n}`,i=a2.getItem(s);if(pe(i)){const b=a2.getItem("tinymce-custom-colors");a2.setItem(s,$e(b)?b:"[]")}const f=t7(s,10);return e7[n]=f,f}),CG=n=>He($N(n).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),IN=(n,s)=>{$N(n).add(s)},C4="forecolor",HN="hilitecolor",n7=5,SG=n=>zN(n.map((s,i)=>i%2===0?"#"+MN(s).value:s)),zN=n=>{const s=[];for(let i=0;i<n.length;i+=2)s.push({text:n[i+1],value:n[i],icon:"checkmark",type:"choiceitem"});return s},yf=n=>s=>s.options.get(n),jN="#000000",o7=n=>{const s=n.options.register,i=w=>Oe(w,I)?{value:SG(w),valid:!0}:{valid:!1,message:"Must be an array of strings."},f=w=>Oe(w,I)?{value:zN(w),valid:!0}:{valid:!1,message:"Must be an array of strings."},b=w=>ct(w)&&w>0?{value:w,valid:!0}:{valid:!1,message:"Must be a positive number."};s("color_map",{processor:i,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_raw",{processor:f}),s("color_map_background",{processor:i}),s("color_map_foreground",{processor:i}),s("color_cols",{processor:b,default:VN(n)}),s("color_cols_foreground",{processor:b,default:s7(n,C4)}),s("color_cols_background",{processor:b,default:s7(n,HN)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:jN}),s("color_default_background",{processor:"string",default:jN})},S4=(n,s)=>s===C4&&n.options.isSet("color_map_foreground")?yf("color_map_foreground")(n):s===HN&&n.options.isSet("color_map_background")?yf("color_map_background")(n):n.options.isSet("color_map_raw")?yf("color_map_raw")(n):yf("color_map")(n),VN=(n,s="default")=>Math.max(n7,Math.ceil(Math.sqrt(S4(n,s).length))),s7=(n,s)=>{const i=yf("color_cols")(n),f=VN(n,s);return i===VN(n)?f:i},r7=(n,s="default")=>Math.round(s===C4?yf("color_cols_foreground")(n):s===HN?yf("color_cols_background")(n):yf("color_cols")(n)),UN=yf("custom_colors"),EG=yf("color_default_foreground"),a7=yf("color_default_background"),ZN="rgba(0, 0, 0, 0)",k1=n=>RN(n).exists(s=>s.alpha!==0),WN=n=>yr(n,s=>{if(Xc(s)){const i=hr(s,"background-color");return Ca(k1(i),i)}else return P.none()}).getOr(ZN),qN=(n,s)=>{const i=un.fromDom(n.selection.getStart()),f=s==="hilitecolor"?WN(i):hr(i,"color");return RN(f).map(b=>"#"+PE(b).value)},i7=(n,s,i)=>{n.undoManager.transact(()=>{n.focus(),n.formatter.apply(s,{value:i}),n.nodeChanged()})},l7=(n,s)=>{n.undoManager.transact(()=>{n.focus(),n.formatter.remove(s,{value:null},void 0,!0),n.nodeChanged()})},c7=n=>{n.addCommand("mceApplyTextcolor",(s,i)=>{i7(n,s,i)}),n.addCommand("mceRemoveTextcolor",s=>{l7(n,s)})},E4=n=>{const s="choiceitem",i={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return n?[i,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]},T4=(n,s,i,f)=>{i==="custom"?YN(n)(w=>{w.each(S=>{IN(s,S),n.execCommand("mceApplyTextcolor",s,S),f(S)})},qN(n,s).getOr(jN)):i==="remove"?(f(""),n.execCommand("mceRemoveTextcolor",s)):(f(i),n.execCommand("mceApplyTextcolor",s,i))},tC=(n,s,i)=>n.concat(CG(s).concat(E4(i))),GN=(n,s,i)=>f=>{f(tC(n,s,i))},A4=(n,s,i)=>{const f=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";n.setIconFill(f,i)},u7=(n,s)=>{n.setTooltip(s)},d7=(n,s)=>i=>{const f=qN(n,s);return to(f,i.toUpperCase())},KN=(n,s,i)=>{if(Ri(i))return s==="forecolor"?"Text color":"Background color";const f=s==="forecolor"?"Text color {0}":"Background color {0}",b=tC(S4(n,s),s,!1),w=Be(b,S=>S.value===i).getOr({text:""}).text;return n.translate([f,n.translate(w)])},f7=(n,s,i,f)=>{n.ui.registry.addSplitButton(s,{tooltip:KN(n,i,f.get()),chevronTooltip:s==="forecolor"?"Text color menu":"Background color menu",presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:d7(n,i),columns:r7(n,i),fetch:GN(S4(n,i),i,UN(n)),onAction:b=>{T4(n,i,f.get(),J)},onItemAction:(b,w)=>{T4(n,i,w,S=>{f.set(S),XP(n,{name:s,color:S})})},onSetup:b=>{A4(b,s,f.get());const w=S=>{S.name===s&&(A4(b,S.name,S.color),u7(b,KN(n,i,S.color)))};return n.on("TextColorChange",w),r2(zc(n)(b),()=>{n.off("TextColorChange",w)})}})},m7=(n,s,i,f,b)=>{n.ui.registry.addNestedMenuItem(s,{text:f,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:w=>(u7(w,KN(n,i,b.get())),A4(w,s,b.get()),zc(n)(w)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:d7(n,i),initData:{storageKey:i},onAction:w=>{T4(n,i,w.value,S=>{b.set(S),XP(n,{name:s,color:S})})}}]})},YN=n=>(s,i)=>{let f=!1;const b=D=>{const z=D.getData().colorpicker;f?(s(P.from(z)),D.close()):n.windowManager.alert(n.translate(["Invalid hex color code: {0}",z]))},w=(D,B)=>{B.name==="hex-valid"&&(f=B.value)},S={colorpicker:i};n.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:S,onAction:w,onSubmit:b,onClose:J,onCancel:()=>{s(P.none())}})},h7=n=>{c7(n);const s=EG(n),i=a7(n),f=Nn(s),b=Nn(i);f7(n,"forecolor","forecolor",f),f7(n,"backcolor","hilitecolor",b),m7(n,"forecolor","forecolor","Text color",f),m7(n,"backcolor","hilitecolor","Background color",b)},TG=(n,s,i,f,b)=>{const w=B=>({setActive:z=>{Ds.set(B,z)},isActive:()=>Ds.isOn(B),isEnabled:()=>!Xn.isDisabled(B),setEnabled:z=>Xn.set(B,!z)}),S=eC({presets:"img",textContent:P.none(),htmlContent:P.none(),ariaLabel:n.tooltip,iconContent:P.some(n.url),labelContent:n.label,shortcutContent:P.none(),checkMark:P.some(SN(b.icons)),caret:P.none(),value:n.value},b,!0),D=n.tooltip.map(B=>ya.config(b.tooltips.getConfig({tooltipText:b.translate(B)})));return Wt(o2({context:n.context,data:Jb(n),enabled:n.enabled,getApi:w,onAction:B=>{s(n.value),B.setActive(!0)},onSetup:B=>(B.setActive(i),J),triggersSubmenu:!1,itemBehaviours:[...D.toArray()]},S,f,b),{toggling:{toggleClass:DO,toggleOnExecute:!1,selected:n.active,exclusive:!0}})},k4=(n,s,i,f,b,w,S,D)=>{const B=_E(s),Z=AG(s,i,f,b!=="color"?"normal":"color",w,S,D);return zO(n,B,Z,f,{menuType:b})},AG=(n,s,i,f,b,w,S)=>Ho(He(n,D=>D.type==="choiceitem"?Lq(D).fold(w0,B=>P.some(AN(B,i===1,f,s,w(B.value),b,S,_E(n)))):D.type==="imageitem"?NP(D).fold(w0,B=>P.some(TG(B,s,w(B.value),b,S))):D.type==="resetimage"?mN(D).fold(w0,B=>P.some(AN({...B,text:B.tooltip,icon:P.some(B.icon),label:P.some(B.label)},i===1,f,s,w(B.value),b,S,_E(n)))):P.none())),xv=(n,s)=>{const i=S1(s);return n===1?{mode:"menu",moveOnTab:!0}:n==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+{color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[s],previousSelector:b=>s==="color"?ar(b.element,"[aria-checked=true]"):P.none()}},kG=(n,s)=>n===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:n==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${mv}`:`.${EE}`}},_G=(n,s)=>{const i=g7(n,s),f=s.colorinput.getColorCols(n.initData.storageKey),b="color",S={...k4(me("menu-value"),i,D=>{n.onAction({value:D})},f,b,ip.CLOSE_ON_EXECUTE,n.select.getOr(yt),s.shared.providers),markers:S1(b),movement:xv(f,b),showMenuRole:!1};return{type:"widget",data:{value:me("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[E5.widget(Ub.sketch(S))]}},g7=(n,s)=>{const i=n.initData.allowCustomColors&&s.colorinput.hasCustomColors();return n.initData.colors.fold(()=>tC(s.colorinput.getColors(n.initData.storageKey),n.initData.storageKey,i),f=>f.concat(E4(i)))},p7=(n,s)=>{const i="imageselector",f=n.initData.columns,w={...k4(me("menu-value"),n.initData.items,S=>{n.onAction({value:S})},f,i,ip.CLOSE_ON_EXECUTE,n.select.getOr(yt),s.shared.providers),markers:S1(i),movement:xv(f,i),showMenuRole:!1};return{type:"widget",data:{value:me("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:!0,components:[E5.widget(Ub.sketch(w))]}},b7=me("cell-over"),y7=me("cell-execute"),XN=n=>(s,i)=>n.shared.providers.translate(["{0} columns, {1} rows",i,s]),DG=(n,s,i)=>{const f=S=>no(S,b7,{row:n,col:s}),b=S=>no(S,y7,{row:n,col:s}),w=(S,D)=>{D.stop(),b(S)};return E({dom:{tag:"div",attributes:{role:"button","aria-label":i}},behaviours:a([de("insert-table-picker-cell",[Nt(Jl(),Qe.focus),Nt(Ns(),b),Nt(dm(),w),Nt(pr(),w)]),Ds.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Qe.config({onFocus:f})])})},v7=(n,s,i)=>{const f=[];for(let b=0;b<s;b++){const w=[];for(let S=0;S<i;S++){const D=n(b+1,S+1);w.push(DG(b,S,D))}f.push(w)}return f},OG=(n,s,i,f,b)=>{for(let w=0;w<f;w++)for(let S=0;S<b;S++)Ds.set(n[w][S],w<=s&&S<=i)},NG=n=>Le(n,s=>He(s,_)),x7=(n,s)=>Na(`${s}x${n}`),QN={inserttable:(n,s)=>{const b=XN(s),w=v7(b,10,10),S=x7(0,0),D=ur({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[S],behaviours:a([Po.config({})])});return{type:"widget",data:{value:me("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[E5.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:NG(w).concat(D.asSpec()),behaviours:a([de("insert-table-picker",[Rr(B=>{Po.set(D.get(B),[S])}),e0(b7,(B,z,Z)=>{const{row:K,col:ie}=Z.event;OG(w,K,ie,10,10),Po.set(D.get(B),[x7(K+1,ie+1)])}),e0(y7,(B,z,Z)=>{const{row:K,col:ie}=Z.event;cs(B,Oa()),n.onAction({numRows:K+1,numColumns:ie+1})})]),io.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:_G,imageselect:p7},MG=(n,s)=>$n(QN,n.fancytype).map(i=>i(n,s)),BG=(n,s,i,f=!0,b=!1)=>{const w=b?iG(i.icons):ch(i.icons),S=B=>({isEnabled:()=>!Xn.isDisabled(B),setEnabled:z=>Xn.set(B,!z),setIconFill:(z,Z)=>{ar(B.element,`svg path[class="${z}"], rect[class="${z}"]`).each(K=>{co(K,"fill",Z)})},setTooltip:z=>{const Z=i.translate(z);co(B.element,"aria-label",Z)}}),D=eC({presets:"normal",iconContent:n.icon,textContent:n.text,htmlContent:P.none(),ariaLabel:n.text,labelContent:P.none(),caret:P.some(w),checkMark:P.none(),shortcutContent:n.shortcut},i,f);return o2({context:n.context,data:Jb(n),getApi:S,enabled:n.enabled,onAction:J,onSetup:n.onSetup,triggersSubmenu:!0,itemBehaviours:[]},D,s,i)},LG=(n,s,i,f=!0)=>{const b=S=>({isEnabled:()=>!Xn.isDisabled(S),setEnabled:D=>Xn.set(S,!D)}),w=eC({presets:"normal",iconContent:n.icon,textContent:n.text,htmlContent:P.none(),labelContent:P.none(),ariaLabel:n.text,caret:P.none(),checkMark:P.none(),shortcutContent:n.shortcut},i,f);return o2({context:n.context,data:Jb(n),getApi:b,enabled:n.enabled,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:[]},w,s,i)},FG=n=>({type:"separator",dom:{tag:"div",classes:[EE,PF]},components:n.text.map(Na).toArray()}),w7=(n,s,i,f=!0)=>{const b=S=>({setActive:D=>{Ds.set(S,D)},isActive:()=>Ds.isOn(S),isEnabled:()=>!Xn.isDisabled(S),setEnabled:D=>Xn.set(S,!D)}),w=eC({iconContent:n.icon,textContent:n.text,htmlContent:P.none(),labelContent:P.none(),ariaLabel:n.text,checkMark:P.some(SN(i.icons)),caret:P.none(),shortcutContent:n.shortcut,presets:"normal",meta:n.meta},i,f);return Wt(o2({context:n.context,data:Jb(n),enabled:n.enabled,getApi:b,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:[]},w,s,i),{toggling:{toggleClass:DO,toggleOnExecute:!1,selected:n.active},role:n.role.getOrUndefined()})},C7=fG,JN=FG,PG=LG,$G=BG,IG=w7,HG=MG,zG=mG,jG=n=>n.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:n},VG=n=>{const s=Pn.getValue(n),i=AE(n).map(BO);Gf.refetch(s).get(()=>{const f=Uo.getCoupled(s,"sandbox");i.each(b=>AE(f).each(w=>fW(w,b)))})},UG=(n,s)=>{ZG(n).each(i=>{ax(n,i.element,s.event.eventType,s.event.interactionEvent)})},ZG=n=>nr.getState(n).bind(lr.getHighlighted).bind(lr.getHighlighted),eR=n=>ka(n.element,t4)?P.some(n.element):ar(n.element,"."+t4),S7=(n,s,i)=>{ZF(n).each(f=>{WF(f,i),eR(s).each(w=>{li(w,"id").each(S=>co(f.element,"aria-controls",S))})}),co(i.element,"aria-selected","true")},WG=(n,s,i)=>{co(i.element,"aria-selected","false")},qG=n=>{ZF(n).each(s=>Qe.focus(s))},jE=n=>Uo.getExistingCoupled(n,"sandbox").bind(AE).map(BO).map(i=>i.fetchPattern).getOr("");var nC;(function(n){n[n.ContentFocus=0]="ContentFocus",n[n.UiFocus=1]="UiFocus"})(nC||(nC={}));const GG=(n,s,i,f,b)=>{const w=i.shared.providers,S=D=>b?{...D,shortcut:P.none(),icon:D.text.isSome()?P.none():D.icon}:D;switch(n.type){case"menuitem":return Hq(n).fold(w0,D=>P.some(PG(S(D),s,w,f)));case"nestedmenuitem":return jq(n).fold(w0,D=>P.some($G(S(D),s,w,f,b)));case"togglemenuitem":return Uq(n).fold(w0,D=>P.some(IG(S(D),s,w,f)));case"separator":return bq(n).fold(w0,D=>P.some(JN(D)));case"fancymenuitem":return OP(n).fold(w0,D=>HG(D,i));default:return console.error("Unknown item in general menu",n),P.none()}},KG=(n,s,i,f,b,w,S)=>{const D=f===1,B=!D||_E(n);return Ho(He(n,z=>{switch(z.type){case"separator":return vq(z).fold(w0,Z=>P.some(JN(Z)));case"cardmenuitem":return uN(z).fold(w0,Z=>P.some(zG({...Z,onAction:K=>{Z.onAction(K),i(Z.value,Z.meta)}},b,w,{itemBehaviours:$P(Z.meta,w,P.none()),cardText:{matchText:s,highlightOn:S}})));default:return xq(z).fold(w0,Z=>P.some(C7(Z,s,D,"normal",i,b,w,B)))}}))},_4=(n,s,i,f,b,w)=>{const S=_E(s),D=Ho(He(s,Z=>{const K=he=>b?!Yo(he,"text"):S,ie=he=>GG(he,i,f,K(he),b);return Z.type==="nestedmenuitem"&&Z.getSubmenuItems().length<=0?ie({...Z,enabled:!1}):ie(Z)})),B=jG(w);return(b?YF:zO)(n,S,D,1,B)},tR=n=>Ix.singleData(n.value,n),nR=(n,s,i,f)=>{const b=xv(s,f),w=S1(f);return{data:tR({...n,movement:b,menuBehaviours:Jw.unnamedEvents(s!=="auto"?[]:[Rr((S,D)=>{bN(S,4,w.item).each(({numColumns:B,numRows:z})=>{io.setGridSize(S,z,B)})})])}),menu:{markers:S1(f),fakeFocus:i===nC.ContentFocus}}},E7=n=>F.create(un.fromDom(n.startContainer),n.startOffset,un.fromDom(n.endContainer),n.endOffset),YG={register:(n,s)=>{const i=me("autocompleter"),f=Nn(!1),b=Nn(!1),w=xo(),S=E(hi.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:i}},components:[],fireDismissalEventInstead:{},inlineBehaviours:a([de("dismissAutocompleter",[Nt(mm(),()=>K()),Nt(fb(),(Ee,Ke)=>{li(Ke.event.target,"id").each(ot=>co(un.fromDom(n.getBody()),"aria-activedescendant",ot))})])]),lazySink:s.getSink})),D=()=>hi.isOpen(S),B=b.get,z=()=>{if(D()){hi.hide(S),n.dom.remove(i,!1);const Ee=un.fromDom(n.getBody());li(Ee,"aria-owns").filter(Ke=>Ke===i).each(()=>{rr(Ee,"aria-owns"),rr(Ee,"aria-activedescendant")})}},Z=()=>hi.getContent(S).bind(Ee=>ln(Ee.components(),0)),K=()=>n.execCommand("mceAutocompleterClose"),ie=Ee=>{const Ke=gs(Ee,ot=>P.from(ot.columns)).getOr(1);return Le(Ee,ot=>{const wt=ot.items;return KG(wt,ot.matchText,(_t,Tn)=>{const Xt={hide:()=>K(),reload:nn=>{z(),n.execCommand("mceAutocompleterReload",!1,{fetchOptions:nn})}};n.execCommand("mceAutocompleterRefreshActiveRange"),w.get().each(nn=>{f.set(!0),ot.onAction(Xt,nn,_t,Tn),f.set(!1)})},Ke,ip.BUBBLE_TO_SANDBOX,s,ot.highlightOn)})},he=(Ee,Ke)=>{const ot=gs(Ee,wt=>P.from(wt.columns)).getOr(1);hi.showMenuAt(S,{anchor:{type:"selection",getSelection:()=>w.get().map(E7),root:un.fromDom(n.getBody())}},nR(zO("autocompleter-value",!0,Ke,ot,{menuType:"normal"}),ot,nC.ContentFocus,"normal")),Z().each(lr.highlightFirst)},xe=Ee=>{const Ke=ie(Ee);Ke.length>0?(he(Ee,Ke),co(un.fromDom(n.getBody()),"aria-owns",i),n.inline||De()):z()},De=()=>{n.dom.get(i)&&n.dom.remove(i,!1);const Ee=n.getDoc().documentElement,Ke=n.selection.getNode(),ot=Cl(S.element);Ar(ot,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${Ke.offsetTop}px`,left:`${Ke.offsetLeft}px`}),n.dom.add(Ee,ot.dom),ar(ot,'[role="menu"]').each(wt=>{rs(wt,"position"),rs(wt,"max-height")})};n.on("AutocompleterStart",({lookupData:Ee})=>{b.set(!0),f.set(!1),xe(Ee)}),n.on("AutocompleterUpdate",({lookupData:Ee})=>xe(Ee)),n.on("AutocompleterUpdateActiveRange",({range:Ee})=>w.set(Ee)),n.on("AutocompleterEnd",()=>{z(),b.set(!1),f.set(!1),w.clear()});const Ie={cancelIfNecessary:K,isMenuOpen:D,isActive:B,isProcessingAction:f.get,getMenu:Z};sW.setup(Ie,n)}},T7=(n,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:He(n.items,s.interpreter)});var XG=tinymce.util.Tools.resolve("tinymce.html.Entities");const oC=(n,s,i,f)=>{const b=A7(n,s,i,f);return Ss.sketch(b)},QG=(n,s)=>oC(n,s,[],[]),A7=(n,s,i,f)=>({dom:_7(i),components:n.toArray().concat([s]),fieldBehaviours:a(f)}),k7=()=>_7([]),_7=n=>({tag:"div",classes:["tox-form__group"].concat(n)}),ey=(n,s)=>Ss.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Na(s.translate(n))]}),vf=me("form-component-change"),D7=me("form-component-input"),i2=me("form-close"),ty=me("form-cancel"),lp=me("form-action"),VE=me("form-submit"),oR=me("form-block"),D4=me("form-unblock"),O7=me("form-tabchange"),sR=me("form-resize"),JG=(n,s,i)=>{const f=n.label.map(he=>ey(he,s)),b=s.icons(),w=he=>b[he]??he,S=he=>(xe,De)=>{yi(De.event.target,"[data-collection-item-value]").each(Ie=>{he(xe,De,Ie,Jr(Ie,"data-collection-item-value"))})},D=(he,xe)=>{const Ie=s.checkUiComponentContext("mode:design").shouldDisable||s.isDisabled()?" tox-collection__item--state-disabled":"",Ee=He(xe,wt=>{const _t=hd.translate(wt.text),Tn=n.columns===1?`<div class="tox-collection__item-label">${_t}</div>`:"",Xt=`<div class="tox-collection__item-icon">${w(wt.icon)}</div>`,nn={_:" "," - ":" ","-":" "},tn=_t.replace(/\_| \- |\-/g,fo=>nn[fo]);return`<div data-mce-tooltip="${tn}" class="tox-collection__item${Ie}" tabindex="-1" data-collection-item-value="${XG.encodeAllRaw(wt.value)}" aria-label="${tn}">${Xt}${Tn}</div>`}),Ke=n.columns!=="auto"&&n.columns>1?gt(Ee,n.columns):[Ee],ot=He(Ke,wt=>`<div class="tox-collection__group">${wt.join("")}</div>`);Rl(he.element,ot.join(""))},B=S((he,xe,De,Ie)=>{xe.stop(),s.checkUiComponentContext("mode:design").shouldDisable||s.isDisabled()||no(he,lp,{name:n.name,value:Ie})}),z=[Nt(Jl(),S((he,xe,De)=>{Pa(De,!0)})),Nt(dm(),B),Nt(pr(),B),Nt(ec(),S((he,xe,De)=>{ar(he.element,"."+qx).each(Ie=>{ma(Ie,qx)}),Qs(De,qx)})),Nt(lb(),S(he=>{ar(he.element,"."+qx).each(xe=>{ma(xe,qx),fa(xe)})})),wm(S((he,xe,De,Ie)=>{no(he,lp,{name:n.name,value:Ie})}))],Z=(he,xe)=>He(ea(he.element,".tox-collection__item"),xe),K=Ss.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(n.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:lt},behaviours:a([Xn.config({disabled:()=>s.checkUiComponentContext(n.context).shouldDisable,onDisabled:he=>{Z(he,xe=>{Qs(xe,"tox-collection__item--state-disabled"),co(xe,"aria-disabled",!0)})},onEnabled:he=>{Z(he,xe=>{ma(xe,"tox-collection__item--state-disabled"),rr(xe,"aria-disabled")})}}),nl(()=>s.checkUiComponentContext(n.context)),Po.config({}),ya.config({...s.tooltips.getConfig({tooltipText:"",onShow:he=>{ar(he.element,"."+qx+"[data-mce-tooltip]").each(xe=>{li(xe,"data-mce-tooltip").each(De=>{ya.setComponents(he,s.tooltips.getComponents({tooltipText:De}))})})}}),mode:"children-keyboard-focus",anchor:he=>({type:"node",node:ar(he.element,"."+qx).orThunk(()=>Ag(".tox-collection__item")),root:he.element,layouts:{onLtr:ae([Oi,ba,Ji,Al,Ur,kl]),onRtl:ae([Oi,ba,Ji,Al,Ur,kl])},bubble:hu(0,-2,{})})}),Pn.config({store:{mode:"memory",initialValue:i.getOr([])},onSetValue:(he,xe)=>{D(he,xe),n.columns==="auto"&&bN(he,5,"tox-collection__item").each(({numRows:De,numColumns:Ie})=>{io.setGridSize(he,De,Ie)}),cs(he,sR)}}),ca.config({}),io.config(kG(n.columns,"normal")),de("collection-events",z)]),eventOrder:{[Ns()]:["disabling","alloy.base.behaviour","collection-events"],[ec()]:["collection-events","tooltipping"]}});return oC(f,K,["tox-form__group--collection"],[])},eK=(n,s)=>Gf.sketch({dom:n.dom,components:n.components,toggleClass:"mce-active",dropdownBehaviours:a([S0.button(()=>s.providers.isDisabled()||s.providers.checkUiComponentContext(n.context).shouldDisable),nl(()=>s.providers.checkUiComponentContext(n.context)),m0.config({}),ca.config({})]),layouts:n.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:i=>ss.nu(f=>n.fetch(f)).map(f=>P.from(tR(Wt(k4(me("menu-value"),f,b=>{n.onItemAction(i,b)},n.columns,n.presets,ip.CLOSE_ON_EXECUTE,yt,s.providers),{movement:xv(n.columns,n.presets)})))),parts:{menu:TE(!1,1,n.presets)}}),O4=me("color-input-change"),N7=me("color-swatch-change"),R7=me("color-picker-cancel"),tK=(n,s,i,f)=>{const b=Ss.parts.field({factory:C1,inputClasses:["tox-textfield"],data:f,onSetValue:z=>sh.run(z).get(J),inputBehaviours:a([Xn.config({disabled:()=>s.providers.isDisabled()||s.providers.checkUiComponentContext(n.context).shouldDisable}),nl(()=>s.providers.checkUiComponentContext(n.context)),ca.config({}),sh.config({invalidClass:"tox-textbox-field-invalid",getRoot:z=>Au(z.element),notify:{onValid:z=>{const Z=Pn.getValue(z);no(z,O4,{color:Z})}},validator:{validateOnLoad:!1,validate:z=>{const Z=Pn.getValue(z);if(Z.length===0)return ss.pure(Bn.value(!0));{const K=un.fromTag("span");wo(K,"background-color",Z);const ie=Vr(K,"background-color").fold(()=>Bn.error("blah"),he=>Bn.value(Z));return ss.pure(ie)}}}})]),selectOnFocus:!1}),w=n.label.map(z=>ey(z,s.providers)),S=(z,Z)=>{no(z,N7,{value:Z})},D=(z,Z)=>{B.getOpt(z).each(K=>{Z==="custom"?i.colorPicker(ie=>{ie.fold(()=>cs(K,R7),he=>{S(K,he),IN(n.storageKey,he)})},"#ffffff"):Z==="remove"?S(K,""):S(K,Z)})},B=ur(eK({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Ur,Ji,Oi],onLtr:()=>[Ji,Ur,Oi]},components:[],fetch:GN(i.getColors(n.storageKey),n.storageKey,i.hasCustomColors()),columns:i.getColorCols(n.storageKey),presets:"color",onItemAction:D,context:n.context},s));return Ss.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:w.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[b,B.asSpec()]}]),fieldBehaviours:a([de("form-field-events",[Nt(O4,(z,Z)=>{B.getOpt(z).each(K=>{wo(K.element,"background-color",Z.event.color)}),no(z,vf,{name:n.name})}),Nt(N7,(z,Z)=>{Ss.getField(z).each(K=>{Pn.setValue(K,Z.event.value),Ft.getCurrent(z).each(Qe.focus)})}),Nt(R7,(z,Z)=>{Ss.getField(z).each(K=>{Ft.getCurrent(z).each(Qe.focus)})})])])})},cp={self:()=>Ft.config({find:P.some}),memento:n=>Ft.config({find:n.getOpt}),childAt:n=>Ft.config({find:s=>tm(s.element,n).bind(i=>s.getSystem().getByDom(i).toOptional())})},B7=uo([pt("preprocess",lt),pt("postprocess",lt)]),oK=(n,s)=>{const i=Mc("RepresentingConfigs.memento processors",B7,s);return Pn.config({store:{mode:"manual",getValue:f=>{const b=n.get(f),w=Pn.getValue(b);return i.postprocess(w)},setValue:(f,b)=>{const w=i.preprocess(b),S=n.get(f);Pn.setValue(S,w)}}})},l2=(n,s,i)=>Pn.config({store:{mode:"manual",...n.map(f=>({initialValue:f})).getOr({}),getValue:s,setValue:i}}),L7=(n,s,i)=>l2(n,f=>s(f.element),(f,b)=>i(f.element,b)),sK=n=>L7(n,Gs,Rl),N4=n=>Pn.config({store:{mode:"memory",initialValue:n}}),R4=me("rgb-hex-update"),F7=me("slider-update"),P7=me("palette-update"),$7=(n,s)=>{const i=rp.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),f=rp.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return rp.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:ae(0)},components:[i,f],sliderBehaviours:a([Qe.config({})]),onChange:(b,w,S)=>{co(b.element,"aria-valuenow",Math.floor(360-S*3.6)),no(b,F7,{value:S})}})},I7=me("valid-input"),H7=me("invalid-input"),z7=me("validating-input"),M4="colorcustom.rgb.",rK={isEnabled:Mt,setEnabled:J,immediatelyShow:J,immediatelyHide:J},aK=(n,s,i,f,b,w)=>{const S=(De,Ie)=>{const Ee=Ie.get();De!==Ee.isEnabled()&&(Ee.setEnabled(De),De?Ee.immediatelyShow():Ee.immediatelyHide())},D=(De,Ie,Ee)=>sh.config({invalidClass:s("invalid"),notify:{onValidate:Ke=>{no(Ke,z7,{type:De})},onValid:Ke=>{S(!1,Ee),no(Ke,I7,{type:De,value:Pn.getValue(Ke)})},onInvalid:Ke=>{S(!0,Ee),no(Ke,H7,{type:De,value:Pn.getValue(Ke)})}},validator:{validate:Ke=>{const ot=Pn.getValue(Ke),wt=Ie(ot)?Bn.value(!0):Bn.error(n("aria.input.invalid"));return ss.pure(wt)},validateOnLoad:!1}}),B=(De,Ie,Ee,Ke,ot)=>{const wt=Nn(rK),_t=n(M4+"range"),Tn=Ss.parts.label({dom:{tag:"label"},components:[Na(Ee)]}),Xt=Ss.parts.field({data:ot,factory:C1,inputAttributes:{type:"text","aria-label":Ke,...Ie==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:a([D(Ie,De,wt),ca.config({}),ya.config({...b({tooltipText:"",onSetup:$o=>{wt.set({isEnabled:()=>ya.isEnabled($o),setEnabled:eo=>ya.setEnabled($o,eo),immediatelyShow:()=>ya.immediateOpenClose($o,!0),immediatelyHide:()=>ya.immediateOpenClose($o,!1)}),ya.setEnabled($o,!1)},onShow:($o,eo)=>{ya.setComponents($o,[{dom:{tag:"p",classes:[s("rgb-warning-note")]},components:[Na(n(Ie==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:$o=>{sh.isInvalid($o)&&sh.run($o).get(J)}}),nn=me("aria-invalid"),tn=ur(w("invalid",P.some(nn),"warning")),fo=ur({dom:{tag:"div",classes:[s("invalid-icon")]},components:[tn.asSpec()]}),Qn=[Tn,Xt,fo.asSpec()],hs=Ie!=="hex"?[Ss.parts["aria-descriptor"]({text:_t})]:[],mo=Qn.concat(hs);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[s("rgb-container")]},components:mo}},z=(De,Ie)=>{const Ee=PE(Ie);return iv.getField(De,"hex").each(Ke=>{Qe.isFocused(Ke)||Pn.setValue(De,{hex:Ee.value})}),Ee},Z=(De,Ie)=>{const Ee=Ie.red,Ke=Ie.green,ot=Ie.blue;Pn.setValue(De,{red:Ee,green:Ke,blue:ot})},K=ur({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),ie=(De,Ie)=>{K.getOpt(De).each(Ee=>{wo(Ee.element,"background-color","#"+Ie.value)})};return oh({factory:()=>{const De={red:Nn(P.some(255)),green:Nn(P.some(255)),blue:Nn(P.some(255)),hex:Nn(P.some("ffffff"))},Ie=(eo,Gt)=>{const bn=IE(Gt);Z(eo,bn),wt(bn)},Ee=eo=>De[eo].get(),Ke=(eo,Gt)=>{De[eo].set(Gt)},ot=()=>Ee("red").bind(eo=>Ee("green").bind(Gt=>Ee("blue").map(bn=>kc(eo,Gt,bn,1)))),wt=eo=>{const Gt=eo.red,bn=eo.green,So=eo.blue;Ke("red",P.some(Gt)),Ke("green",P.some(bn)),Ke("blue",P.some(So))},_t=(eo,Gt)=>{const bn=Gt.event;bn.type!=="hex"?Ke(bn.type,P.none()):f(eo)},Tn=(eo,Gt)=>{i(eo);const bn=g4(Gt);Ke("hex",P.some(bn.value));const So=IE(bn);Z(eo,So),wt(So),no(eo,R4,{hex:bn}),ie(eo,bn)},Xt=(eo,Gt,bn)=>{const So=parseInt(bn,10);Ke(Gt,P.some(So)),ot().each(qo=>{const so=z(eo,qo);no(eo,R4,{hex:so}),ie(eo,so)})},nn=eo=>eo.type==="hex",tn=(eo,Gt)=>{const bn=Gt.event;nn(bn)?Tn(eo,bn.value):Xt(eo,bn.type,bn.value)},fo=eo=>({label:n(M4+eo+".label"),description:n(M4+eo+".description")}),Qn=fo("red"),hs=fo("green"),mo=fo("blue"),$o=fo("hex");return Wt(iv.sketch(eo=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":n("aria.color.picker")}},components:[eo.field("red",Ss.sketch(B(y4,"red",Qn.label,Qn.description,255))),eo.field("green",Ss.sketch(B(y4,"green",hs.label,hs.description,255))),eo.field("blue",Ss.sketch(B(y4,"blue",mo.label,mo.description,255))),eo.field("hex",Ss.sketch(B(b4,"hex",$o.label,$o.description,"ffffff"))),K.asSpec()],formBehaviours:a([sh.config({invalidClass:s("form-invalid")}),de("rgb-form-events",[Nt(I7,tn),Nt(H7,_t),Nt(z7,_t)])])})),{apis:{updateHex:(eo,Gt)=>{Pn.setValue(eo,{hex:Gt.value}),Ie(eo,Gt),ie(eo,Gt)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(De,Ie,Ee)=>{De.updateHex(Ie,Ee)}},extraApis:{}})},iK=(n,s)=>{const i=rp.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),f=rp.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),b=(z,Z)=>{const{width:K,height:ie}=z,he=z.getContext("2d");if(he===null)return;he.fillStyle=Z,he.fillRect(0,0,K,ie);const xe=he.createLinearGradient(0,0,K,0);xe.addColorStop(0,"rgba(255,255,255,1)"),xe.addColorStop(1,"rgba(255,255,255,0)"),he.fillStyle=xe,he.fillRect(0,0,K,ie);const De=he.createLinearGradient(0,0,0,ie);De.addColorStop(0,"rgba(0,0,0,0)"),De.addColorStop(1,"rgba(0,0,0,1)"),he.fillStyle=De,he.fillRect(0,0,K,ie)},w=(z,Z)=>{const K=z.components()[0].element.dom,ie=yv(Z,100,100),he=WP(ie);b(K,qP(he))},S=(z,Z)=>{const K=_N(IE(Z));rp.setValue(z,{x:K.saturation,y:100-K.value}),co(z.element,"aria-valuetext",n(["Saturation {0}%, Brightness {1}%",K.saturation,K.value]))};return oh({factory:z=>{const Z=ae({x:0,y:0}),K=(xe,De,Ie)=>{ct(Ie)||co(xe.element,"aria-valuetext",n(["Saturation {0}%, Brightness {1}%",Math.floor(Ie.x),Math.floor(100-Ie.y)])),no(xe,P7,{value:Ie})},ie=(xe,De,Ie,Ee)=>{b(Ie.element.dom,qP(GP))},he=a([Ft.config({find:P.some}),Qe.config({})]);return rp.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":n(["Saturation {0}%, Brightness {1}%",0,0])},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:Z},rounded:!1,components:[i,f],onChange:K,onInit:ie,sliderBehaviours:he})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(z,Z,K)=>{w(Z,K)},setThumb:(z,Z,K)=>{S(Z,K)}},extraApis:{}})},j7=(n,s,i,f)=>{const b=S=>{const D=aK(n,s,S.onValidHex,S.onInvalidHex,i,f),B=iK(n,s),z=nn=>(100-nn)/100*360,Z=nn=>100-nn/360*100,K={paletteRgba:Nn(GP),paletteHue:Nn(0)},ie=ur($7(n,s)),he=ur(B.sketch({})),xe=ur(D.sketch({})),De=(nn,tn,fo)=>{he.getOpt(nn).each(Qn=>{B.setHue(Qn,fo)})},Ie=(nn,tn)=>{xe.getOpt(nn).each(fo=>{D.updateHex(fo,tn)})},Ee=(nn,tn,fo)=>{ie.getOpt(nn).each(Qn=>{rp.setValue(Qn,Z(fo))})},Ke=(nn,tn)=>{he.getOpt(nn).each(fo=>{B.setThumb(fo,tn)})},ot=(nn,tn)=>{const fo=IE(nn);K.paletteRgba.set(fo),K.paletteHue.set(tn)},wt=(nn,tn,fo,Qn)=>{ot(tn,fo),dt(Qn,hs=>{hs(nn,tn,fo)})},_t=()=>{const nn=[Ie];return(tn,fo)=>{const Qn=fo.event.value,hs=K.paletteHue.get(),mo=yv(hs,Qn.x,100-Qn.y),$o=T0(mo);wt(tn,$o,hs,nn)}},Tn=()=>{const nn=[De,Ie];return(tn,fo)=>{const Qn=z(fo.event.value),hs=K.paletteRgba.get(),mo=_N(hs),$o=yv(Qn,mo.saturation,mo.value),eo=T0($o);wt(tn,eo,Qn,nn)}},Xt=()=>{const nn=[De,Ee,Ke];return(tn,fo)=>{const Qn=fo.event.hex,hs=KP(Qn);wt(tn,Qn,hs.hue,nn)}};return{uid:S.uid,dom:S.dom,components:[he.asSpec(),ie.asSpec(),xe.asSpec()],behaviours:a([de("colour-picker-events",[Nt(R4,Xt()),Nt(P7,_t()),Nt(F7,Tn())]),Ft.config({find:nn=>xe.getOpt(nn)}),io.config({mode:"acyclic"})])}};return oh({name:"ColourPicker",configFields:[Zt("dom"),pt("onValidHex",J),pt("onInvalidHex",J)],factory:b})},V7={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},U7=n=>s=>I(s)?n.translate(V7[s]):n.translate(s),B4=(n,s,i)=>{const f=z=>"tox-"+z,b=(z,Z,K=z,ie=z)=>lh(K,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+z],attributes:{title:s.translate(ie),"aria-live":"polite",...Z.fold(()=>({}),he=>({id:he}))}},s.icons),w=j7(U7(s),f,s.tooltips.getConfig,b),S=z=>{no(z,lp,{name:"hex-valid",value:!0})},D=z=>{no(z,lp,{name:"hex-valid",value:!1})},B=ur(w.sketch({dom:{tag:"div",classes:[f("color-picker-container")],attributes:{role:"presentation"}},onValidHex:S,onInvalidHex:D}));return{dom:{tag:"div"},components:[B.asSpec()],behaviours:a([l2(i,z=>{const Z=B.get(z);return Ft.getCurrent(Z).bind(he=>Pn.getValue(he).hex).map(he=>"#"+Sf(he,"#")).getOr("")},(z,Z)=>{const K=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,ie=P.from(K.exec(Z)).bind(De=>ln(De,1)),he=B.get(z);Ft.getCurrent(he).fold(()=>{console.log("Can not find form")},De=>{Pn.setValue(De,{hex:ie.getOr("")}),iv.getField(De,"hex").each(Ie=>{cs(Ie,Bf())})})}),cp.self()])}};var Z7=tinymce.util.Tools.resolve("tinymce.Resource");const W7=n=>Yo(n,"init"),lK=n=>{const s=xo(),i=ur({dom:{tag:n.tag}}),f=xo(),b=!W7(n)&&n.onFocus.isSome()?[Qe.config({onFocus:w=>{n.onFocus.each(S=>{S(w.element.dom)})}}),ca.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:a([de("custom-editor-events",[Rr(w=>{i.getOpt(w).each(S=>{(W7(n)?n.init(S.element.dom):Z7.load(n.scriptId,n.scriptUrl).then(D=>D(S.element.dom,n.settings))).then(D=>{f.on(B=>{D.setValue(B)}),f.clear(),s.set(D)})})})]),l2(P.none(),()=>s.get().fold(()=>f.get().getOr(""),w=>w.getValue()),(w,S)=>{s.get().fold(()=>f.set(S),D=>D.setValue(S))}),cp.self()].concat(b)),components:[i.asSpec()]}};var _1=tinymce.util.Tools.resolve("tinymce.util.Tools");const rR=me("browse.files.event"),cK=(n,s,i)=>{const f=_1.explode(s.getOption("images_file_types")),b=w=>i.fold(()=>Pt(f,S=>dc(w.name.toLowerCase(),`.${S.toLowerCase()}`)),S=>Pt(S,D=>dc(w.name.toLowerCase(),`.${D.toLowerCase()}`)));return Eo(mr(n),b)},uK=(n,s,i)=>{const f=(ie,he)=>{he.stop()},b=ie=>(he,xe)=>{dt(ie,De=>{De(he,xe)})},w=(ie,he)=>{if(!Xn.isDisabled(ie)){const xe=he.event.raw;no(ie,rR,{files:xe.dataTransfer?.files})}},S=(ie,he)=>{const xe=he.event.raw.target;no(ie,rR,{files:xe.files})},D=(ie,he)=>{he&&(Pn.setValue(ie,cK(he,s,n.allowedFileExtensions)),no(ie,vf,{name:n.name}))},B=ur({dom:{tag:"input",attributes:{type:"file",accept:n.allowedFileTypes.getOr("image/*")},styles:{display:"none"}},behaviours:a([de("input-file-events",[xm(dm()),xm(pr())])])}),z=n.label.map(ie=>ey(ie,s)),Z=Ss.parts.field({factory:rc,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Na(s.translate(n.buttonLabel.getOr("Browse for an image"))),B.asSpec()],action:ie=>{B.get(ie).element.dom.click()},buttonBehaviours:a([cp.self(),N4(i.getOr([])),ca.config({}),S0.button(()=>s.checkUiComponentContext(n.context).shouldDisable),nl(()=>s.checkUiComponentContext(n.context))])}),K={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:a([Xn.config({disabled:()=>s.checkUiComponentContext(n.context).shouldDisable}),nl(()=>s.checkUiComponentContext(n.context)),Ds.config({toggleClass:"dragenter",toggleOnExecute:!1}),de("dropzone-events",[Nt("dragenter",b([f,Ds.toggle])),Nt("dragleave",b([f,Ds.toggle])),Nt("dragover",f),Nt("drop",b([f,w])),Nt(Lf(),S)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Na(s.translate(n.dropAreaLabel.getOr("Drop an image here")))]},Z]}]};return oC(z,K,["tox-form__group--stretched"],[de("handle-files",[Nt(rR,(ie,he)=>{Ss.getField(ie).each(xe=>{D(xe,he.event.files)})})])])},dK=(n,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${n.columns}col`]},components:He(n.items,s.interpreter)}),L4=me("alloy-fake-before-tabstop"),aR=me("alloy-fake-after-tabstop"),q7=n=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:n},behaviours:a([Qe.config({ignore:!0}),ca.config({})])}),G7=(n,s)=>({dom:{tag:"div",classes:["tox-navobj",...n.getOr([])]},components:[q7([L4]),s,q7([aR])],behaviours:a([cp.childAt(1)])}),iR=(n,s)=>{no(n,Ki(),{raw:{which:9,shiftKey:s}})},K7=(n,s)=>{const i=s.element;ka(i,L4)?iR(n,!0):ka(i,aR)&&iR(n,!1)},UE=n=>Fm(n,["."+L4,"."+aR].join(","),yt),F4=me("update-dialog"),lR=me("update-title"),Y7=me("update-body"),X7=me("update-footer"),Oo=me("body-send-message"),wv=me("dialog-focus-shifted"),P4=Za().browser,sC=P4.isSafari(),Q7=P4.isFirefox(),cR=sC||Q7,fK=P4.isChromium(),J7=({scrollTop:n,scrollHeight:s,clientHeight:i})=>Math.ceil(n)+i>=s,e$=(n,s)=>n.scrollTo(0,s==="bottom"?99999999:s),mK=(n,s)=>{const i=n.body;return P.from(!/^<!DOCTYPE (html|HTML)/.test(s)&&(!fK&&!sC||$e(i)&&(i.scrollTop!==0||Math.abs(i.scrollHeight-i.clientHeight)>1))?i:n.documentElement)},t$=(n,s,i)=>{const f=n.dom;P.from(f.contentDocument).fold(i,b=>{let w=0;const S=mK(b,s).map(B=>(w=B.scrollTop,B)).forall(J7),D=()=>{const B=f.contentWindow;$e(B)&&(S?e$(B,"bottom"):!S&&cR&&w!==0&&e$(B,w))};sC&&f.addEventListener("load",D,{once:!0}),b.open(),b.write(s),b.close(),sC||D()})},n$=Ca(cR,sC?500:200).map(n=>jr(t$,n)),Wne=(n,s)=>{const i=Nn(n.getOr(""));return{getValue:f=>i.get(),setValue:(f,b)=>{if(i.get()!==b){const w=f.element,S=()=>co(w,"srcdoc",b);s?n$.fold(ae(t$),D=>D.throttle)(w,b,S):S()}i.set(b)}}},ZE=(n,s,i)=>{const f="tox-dialog__iframe",b=n.transparent?[]:[`${f}--opaque`],w=n.border?["tox-navobj-bordered"]:[],S={...n.label.map(K=>({title:K})).getOr({}),...i.map(K=>({srcdoc:K})).getOr({}),...n.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},D=Wne(i,n.streamContent),B=n.label.map(K=>ey(K,s)),z=K=>G7(P.from(w),{uid:K.uid,dom:{tag:"iframe",attributes:S,classes:[f,...b]},behaviours:a([ca.config({}),Qe.config({}),l2(i,D.getValue,D.setValue),md.config({channels:{[wv]:{onReceive:(ie,he)=>{he.newFocus.each(xe=>{Au(ie.element).each(De=>{(oe(ie.element,xe)?Qs:ma)(De,"tox-navobj-bordered-focus")})})}}}})])}),Z=Ss.parts.field({factory:{sketch:z}});return oC(B,Z,["tox-form__group--stretched"],[])},uR=(n,s,i,f,b)=>{const w=i*b,S=f*b,D=Math.max(0,n/2-w/2),B=Math.max(0,s/2-S/2);return{left:D.toString()+"px",top:B.toString()+"px",width:w.toString()+"px",height:S.toString()+"px"}},o$=(n,s,i)=>{const f=Bi(n),b=bi(n);return Math.min(f/s,b/i,1)},gK=(n,s)=>{const i=Nn(s.getOr({url:""})),f=ur({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(B=>({src:B.url})).getOr({})}}),b=ur({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[f.asSpec()]}),w=(B,z)=>{const Z={url:z.url};z.zoom.each(ie=>Z.zoom=ie),z.cachedWidth.each(ie=>Z.cachedWidth=ie),z.cachedHeight.each(ie=>Z.cachedHeight=ie),i.set(Z);const K=()=>{const{cachedWidth:ie,cachedHeight:he,zoom:xe}=Z;if(!Ce(ie)&&!Ce(he)){if(Ce(xe)){const Ie=o$(B.element,ie,he);Z.zoom=Ie}const De=uR(Bi(B.element),bi(B.element),ie,he,Z.zoom);b.getOpt(B).each(Ie=>{Ar(Ie.element,De)})}};f.getOpt(B).each(ie=>{const he=ie.element;z.url!==Jr(he,"src")&&(co(he,"src",z.url),ma(B.element,"tox-imagepreview__loaded")),K(),Sl(he).then(xe=>{B.getSystem().isConnected()&&(Qs(B.element,"tox-imagepreview__loaded"),Z.cachedWidth=xe.dom.naturalWidth,Z.cachedHeight=xe.dom.naturalHeight,K())})})},S={};n.height.each(B=>S.height=B);const D=s.map(B=>({url:B.url,zoom:P.from(B.zoom),cachedWidth:P.from(B.cachedWidth),cachedHeight:P.from(B.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:S,attributes:{role:"presentation"}},components:[b.asSpec()],behaviours:a([cp.self(),l2(D,()=>i.get(),w)])}},pK=(n,s,i)=>{const f="tox-label",b=n.align==="center"?[`${f}--center`]:[],w=n.align==="end"?[`${f}--end`]:[],S=ur({dom:{tag:"label",classes:[f,...b,...w]},components:[Na(s.providers.translate(n.label))]}),D=He(n.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[S.asSpec(),...D],behaviours:a([cp.self(),Po.config({}),sK(P.none()),io.config({mode:"acyclic"}),de("label",[Rr(B=>{n.for.each(z=>{i(z).each(Z=>{S.getOpt(B).each(K=>{const ie=Jr(Z.element,"id")??me("form-field");co(Z.element,"id",ie),co(K.element,"for",ie)})})})})])])}},dR=me("toolbar.button.execute"),bK=n=>wm((s,i)=>{LE(n,s)(f=>{no(s,dR,{buttonApi:f}),n.onAction(f)})}),D1=me("common-button-display-events"),fR={[Ns()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[Lc()]:["toolbar-button-events",D1],[wc()]:["toolbar-button-events","dropdown-events","tooltipping"],[du()]:["focusing","alloy.base.behaviour",D1]},$4=n=>wo(n.element,"width",hr(n.element,"width")),s$=(n,s,i)=>lh(n,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},s),mR=(n,s)=>s$(n,s,[]),Cv=(n,s)=>s$(n,s,[Po.config({})]),hR=(n,s,i)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[Na(i.translate(n))],behaviours:a([Po.config({})])}),ig=me("update-menu-text"),c2=me("update-menu-icon"),I4=me("update-tooltip-text"),gR=(n,s,i,f)=>{const b=Nn(J),w=Nn(n.tooltip),S=n.text.map(Ie=>ur(hR(Ie,s,i.providers))),D=n.icon.map(Ie=>ur(Cv(Ie,i.providers.icons))),B=(Ie,Ee)=>{const Ke=Pn.getValue(Ie);return Qe.focus(Ke),no(Ke,"keydown",{raw:Ee.event.raw}),Gf.close(Ke),P.some(!0)},z=n.role.fold(()=>({}),Ie=>({role:Ie})),Z=P.from(n.listRole).map(Ie=>({listRole:Ie})).getOr({}),K=n.ariaLabel.fold(()=>({}),Ie=>({"aria-label":i.providers.translate(Ie)})),ie=lh("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},i.providers.icons),he=me("common-button-display-events"),xe="dropdown-events";return ur(Gf.sketch({...n.uid?{uid:n.uid}:{},...z,...Z,dom:{tag:"button",classes:[s,`${s}--select`].concat(He(n.classes,Ie=>`${s}--${Ie}`)),attributes:{...K,...$e(f)?{"data-mce-name":f}:{}}},components:T1([D.map(Ie=>Ie.asSpec()),S.map(Ie=>Ie.asSpec()),P.some(ie)]),matchWidth:!0,useMinWidth:!0,onOpen:(Ie,Ee,Ke)=>{n.searchable&&qG(Ke)},dropdownBehaviours:a([...n.dropdownBehaviours,S0.button(()=>n.disabled||i.providers.checkUiComponentContext(n.context).shouldDisable),nl(()=>i.providers.checkUiComponentContext(n.context)),m0.config({}),Po.config({}),...n.tooltip.map(Ie=>ya.config(i.providers.tooltips.getConfig({tooltipText:i.providers.translate(Ie),onShow:Ee=>{if(ws(w.get(),n.tooltip,(Ke,ot)=>ot!==Ke).getOr(!1)){const Ke=i.providers.translate(w.get().getOr(""));ya.setComponents(Ee,i.providers.tooltips.getComponents({tooltipText:Ke}))}}}))).toArray(),de(xe,[E0(n,b),bv(n,b)]),de(he,[Rr((Ie,Ee)=>{n.listRole!=="listbox"&&$4(Ie)})]),de("update-dropdown-width-variable",[Nt(xi(),(Ie,Ee)=>Gf.close(Ie))]),de("menubutton-update-display-text",[Nt(ig,(Ie,Ee)=>{S.bind(Ke=>Ke.getOpt(Ie)).each(Ke=>{Po.set(Ke,[Na(i.providers.translate(Ee.event.text))])})}),Nt(c2,(Ie,Ee)=>{D.bind(Ke=>Ke.getOpt(Ie)).each(Ke=>{Po.set(Ke,[Cv(Ee.event.icon,i.providers.icons)])})}),Nt(I4,(Ie,Ee)=>{const Ke=i.providers.translate(Ee.event.text);co(Ie.element,"aria-label",Ke),w.set(P.some(Ee.event.text))})])]),eventOrder:Wt(fR,{[du()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Lc()]:["toolbar-button-events",ya.name(),xe,he]}),sandboxBehaviours:a([io.config({mode:"special",onLeft:B,onRight:B}),de("dropdown-sandbox-events",[Nt(jF,(Ie,Ee)=>{VG(Ie),Ee.stop()}),Nt(VF,(Ie,Ee)=>{UG(Ie,Ee),Ee.stop()})])]),lazySink:i.getSink,toggleClass:`${s}--active`,parts:{menu:{...TE(!1,n.columns,n.presets),fakeFocus:n.searchable,...n.listRole==="listbox"?{}:{onHighlightItem:S7,onCollapseMenu:(Ie,Ee,Ke)=>{lr.getHighlighted(Ke).each(ot=>{S7(Ie,Ke,ot)})},onDehighlightItem:WG}}},getAnchorOverrides:()=>({maxHeightFunction:(Ie,Ee)=>{nx()(Ie,Ee-10)}}),fetch:Ie=>ss.nu(dn(n.fetch,Ie))})).asSpec()},H4=n=>I(n),r$=n=>n.type==="separator",a$=n=>Yo(n,"getSubmenuItems"),yK={type:"separator"},vK=(n,s)=>{const i=jo(n,(f,b)=>H4(b)?b===""?f:b==="|"?f.length>0&&!r$(f[f.length-1])?f.concat([yK]):f:Yo(s,b.toLowerCase())?f.concat([s[b.toLowerCase()]]):f:f.concat([b]),[]);return i.length>0&&r$(i[i.length-1])&&i.pop(),i},qne=(n,s)=>{const i=n.getSubmenuItems(),f=i$(i,s),b=Wt(f.menus,{[n.value]:f.items}),w=Wt(f.expansions,{[n.value]:n.value});return{item:n,menus:b,expansions:w}},xK=n=>{const s=$n(n,"value").getOrThunk(()=>me("generated-menu-item"));return Wt({value:s},n)},i$=(n,s)=>{const i=vK(I(n)?n.split(" "):n,s);return Lo(i,(f,b)=>{if(a$(b)){const w=xK(b),S=qne(w,s);return{menus:Wt(f.menus,S.menus),items:[S.item,...f.items],expansions:Wt(f.expansions,S.expansions)}}else return{...f,items:[b,...f.items]}},{menus:{},expansions:{},items:[]})},pR=n=>n.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),wK=n=>n.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),ny=(n,s,i,f)=>{const b=me("primary-menu"),w=i$(n,i.shared.providers.menuItems());if(w.items.length===0)return P.none();const S=pR(f),D=_4(b,w.items,s,i,f.isHorizontalMenu,S),B=wK(f),z=Ms(w.menus,(K,ie)=>_4(ie,K,s,i,!1,B)),Z=Wt(z,za(b,D));return P.from(Ix.tieredData(b,Z,w.expansions))},WE=n=>!Yo(n,"items"),bR="data-value",z4=(n,s,i,f,b)=>He(i,w=>WE(w)?{type:"togglemenuitem",...b?{}:{role:"option"},text:w.text,value:w.value,active:w.value===f,onAction:()=>{Pn.setValue(n,w.value),no(n,vf,{name:s}),Qe.focus(n)}}:{type:"nestedmenuitem",text:w.text,getSubmenuItems:()=>z4(n,s,w.items,f,b)}),yR=(n,s)=>gs(n,i=>WE(i)?Ca(i.value===s,i):yR(i.items,s)),l$=(n,s,i)=>{const f=Pt(n.items,z=>!WE(z)),b=s.shared.providers,w=i.bind(z=>yR(n.items,z)).orThunk(()=>Un(n.items).filter(WE)),S=n.label.map(z=>ey(z,b)),D=Ss.parts.field({dom:{},factory:{sketch:z=>gR({context:n.context,uid:z.uid,text:w.map(Z=>Z.text),icon:P.none(),tooltip:P.none(),role:Ca(!f,"combobox"),...f?{}:{listRole:"listbox"},ariaLabel:n.label,fetch:(Z,K)=>{const ie=z4(Z,n.name,n.items,Pn.getValue(Z),f);K(ny(ie,ip.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:P.none()}))},onSetup:ae(J),getApi:ae({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ca.config({}),l2(w.map(Z=>Z.value),Z=>Jr(Z.element,bR),(Z,K)=>{yR(n.items,K).each(ie=>{co(Z.element,bR,ie.value),no(Z,ig,{text:ie.text})})})]},"tox-listbox",s.shared)}}),B={dom:{tag:"div",classes:["tox-listboxfield"]},components:[D]};return Ss.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:et([S.toArray(),[B]]),fieldBehaviours:a([Xn.config({disabled:()=>!n.enabled||b.checkUiComponentContext(n.context).shouldDisable,onDisabled:z=>{Ss.getField(z).each(Xn.disable)},onEnabled:z=>{Ss.getField(z).each(Xn.enable)}})])})},rC=(n,s)=>({dom:{tag:"div",classes:n.classes},components:He(n.items,s.shared.interpreter)}),c$=(n,s,i)=>{const f=He(n.items,B=>({text:s.translate(B.text),value:B.value})),b=n.label.map(B=>ey(B,s)),w=Ss.parts.field({dom:{},...i.map(B=>({data:B})).getOr({}),selectAttributes:{size:n.size},options:f,factory:w5,selectBehaviours:a([Xn.config({disabled:()=>!n.enabled||s.checkUiComponentContext(n.context).shouldDisable}),ca.config({}),de("selectbox-change",[Nt(Lf(),(B,z)=>{no(B,vf,{name:n.name})})])])}),S=n.size>1?P.none():P.some(lh("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),D={dom:{tag:"div",classes:["tox-selectfield"]},components:et([[w],S.toArray()])};return Ss.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:et([b.toArray(),[D]]),fieldBehaviours:a([Xn.config({disabled:()=>!n.enabled||s.checkUiComponentContext(n.context).shouldDisable,onDisabled:B=>{Ss.getField(B).each(Xn.disable)},onEnabled:B=>{Ss.getField(B).each(Xn.enable)}}),nl(()=>s.checkUiComponentContext(n.context))])})},u$=n=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},i=b=>b in s?s[b]:1;let f=n.value.toFixed(i(n.unit));return f.indexOf(".")!==-1&&(f=f.replace(/\.?0*$/,"")),f+n.unit},j4=n=>{const i=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(n);if(i!==null){const f=parseFloat(i[1]),b=i[2];return Bn.value({value:f,unit:b})}else return Bn.error(n)},d$=(n,s)=>{const i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},f=b=>Yo(i,b);return n.unit===s?P.some(n.value):f(n.unit)&&f(s)?i[n.unit]===i[s]?P.some(n.value):P.some(n.value/i[n.unit]*i[s]):P.none()},aC=n=>P.none(),CK=(n,s)=>i=>d$(i,s).map(f=>({value:f*n,unit:s})),f$=(n,s)=>{const i=j4(n).toOptional(),f=j4(s).toOptional();return ws(i,f,(b,w)=>d$(b,w.unit).map(S=>w.value/S).map(S=>CK(S,w.unit)).getOr(aC)).getOr(aC)},m$=(n,s)=>{let i=aC;const f=me("ratio-event"),b=De=>lh(De,{tag:"span",classes:["tox-icon","tox-lock-icon__"+De]},s.icons),w=()=>!n.enabled||s.checkUiComponentContext(n.context).shouldDisable,S=nl(()=>s.checkUiComponentContext(n.context)),D=n.label.getOr("Constrain proportions"),B=s.translate(D),z=tl.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":B,"data-mce-name":D}},components:[b("lock"),b("unlock")],buttonBehaviours:a([Xn.config({disabled:w}),S,ca.config({}),ya.config(s.tooltips.getConfig({tooltipText:B}))])}),Z=De=>({dom:{tag:"div",classes:["tox-form__group"]},components:De}),K=De=>Ss.parts.field({factory:C1,inputClasses:["tox-textfield"],inputBehaviours:a([Xn.config({disabled:w}),S,ca.config({}),de("size-input-events",[Nt(ec(),(Ie,Ee)=>{no(Ie,f,{isField1:De})}),Nt(Lf(),(Ie,Ee)=>{no(Ie,vf,{name:n.name})})])]),selectOnFocus:!1}),ie=De=>({dom:{tag:"label",classes:["tox-label"]},components:[Na(s.translate(De))]}),he=tl.parts.field1(Z([Ss.parts.label(ie("Width")),K(!0)])),xe=tl.parts.field2(Z([Ss.parts.label(ie("Height")),K(!1)]));return tl.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[he,xe,Z([ie(Jf),z])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(De,Ie,Ee)=>{j4(Pn.getValue(De)).each(Ke=>{i(Ke).each(ot=>{Pn.setValue(Ie,u$(ot))})})},coupledFieldBehaviours:a([Xn.config({disabled:w,onDisabled:De=>{tl.getField1(De).bind(Ss.getField).each(Xn.disable),tl.getField2(De).bind(Ss.getField).each(Xn.disable),tl.getLock(De).each(Xn.disable)},onEnabled:De=>{tl.getField1(De).bind(Ss.getField).each(Xn.enable),tl.getField2(De).bind(Ss.getField).each(Xn.enable),tl.getLock(De).each(Xn.enable)}}),nl(()=>s.checkUiComponentContext("mode:design")),de("size-input-events2",[Nt(f,(De,Ie)=>{const Ee=Ie.event.isField1,Ke=Ee?tl.getField1(De):tl.getField2(De),ot=Ee?tl.getField2(De):tl.getField1(De),wt=Ke.map(Pn.getValue).getOr(""),_t=ot.map(Pn.getValue).getOr("");i=f$(wt,_t)})])])})},SK=(n,s,i)=>{const f=rp.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Na(s.translate(n.label))]}),b=rp.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),w=rp.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return rp.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:n.min,maxX:n.max,getInitialValue:ae(i.getOrThunk(()=>(Math.abs(n.max)-Math.abs(n.min))/2))},components:[f,b,w],sliderBehaviours:a([cp.self(),Qe.config({})]),onChoose:(S,D,B)=>{no(S,vf,{name:n.name,value:B})},onChange:(S,D,B)=>{no(S,vf,{name:n.name,value:B})}})},EK=(n,s)=>{const i=D=>({dom:{tag:"th",innerHtml:s.translate(D)}}),f=D=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:He(D,i)}]}),b=D=>({dom:{tag:"td",innerHtml:s.translate(D)}}),w=D=>({dom:{tag:"tr"},components:He(D,b)}),S=D=>({dom:{tag:"tbody"},components:He(D,w)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[f(n.header),S(n.cells)],behaviours:a([ca.config({}),Qe.config({})])}},h$=(n,s)=>{const i=n.label.map(xe=>ey(xe,s)),f=[Xn.config({disabled:()=>n.disabled||s.checkUiComponentContext(n.context).shouldDisable}),nl(()=>s.checkUiComponentContext(n.context)),io.config({mode:"execution",useEnter:n.multiline!==!0,useControlEnter:n.multiline===!0,execute:xe=>(cs(xe,VE),P.some(!0))}),de("textfield-change",[Nt(Bf(),(xe,De)=>{no(xe,vf,{name:n.name})}),Nt(Ay(),(xe,De)=>{no(xe,vf,{name:n.name})})]),ca.config({})],b=n.validation.map(xe=>sh.config({getRoot:De=>Au(De.element),invalidClass:"tox-invalid",validator:{validate:De=>{const Ie=Pn.getValue(De),Ee=xe.validator(Ie);return ss.pure(Ee===!0?Bn.value(Ie):Bn.error(Ee))},validateOnLoad:xe.validateOnLoad}})).toArray(),w=n.placeholder.fold(ae({}),xe=>({placeholder:s.translate(xe)})),S=n.inputMode.fold(ae({}),xe=>({inputmode:xe})),B={...n.spellcheck.fold(ae({}),xe=>({spellcheck:xe})),...w,...S,"data-mce-name":n.name},z=Ss.parts.field({tag:n.multiline===!0?"textarea":"input",...n.data.map(xe=>({data:xe})).getOr({}),inputAttributes:B,inputClasses:[n.classname],inputBehaviours:a(et([f,b])),selectOnFocus:!1,factory:C1}),Z=n.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[z]}:z,ie=(n.flex?["tox-form__group--stretched"]:[]).concat(n.maximized?["tox-form-group--maximize"]:[]),he=[Xn.config({disabled:()=>n.disabled||s.checkUiComponentContext(n.context).shouldDisable,onDisabled:xe=>{Ss.getField(xe).each(Xn.disable)},onEnabled:xe=>{Ss.getField(xe).each(Xn.enable)}}),nl(()=>s.checkUiComponentContext(n.context))];return oC(i,Z,ie,he)},g$=(n,s,i)=>h$({name:n.name,multiline:!1,label:n.label,inputMode:n.inputMode,placeholder:n.placeholder,flex:!1,disabled:!n.enabled,classname:"tox-textfield",validation:P.none(),maximized:n.maximized,data:i,context:n.context,spellcheck:P.none()},s),TK=(n,s,i)=>h$({name:n.name,multiline:!0,label:n.label,inputMode:P.none(),placeholder:n.placeholder,flex:!0,disabled:!n.enabled,classname:"tox-textarea",validation:P.none(),maximized:n.maximized,data:i,context:n.context,spellcheck:n.spellcheck},s),p$=n=>({isEnabled:()=>!Xn.isDisabled(n),setEnabled:s=>Xn.set(n,!s),setActive:s=>{const i=n.element;s?(Qs(i,"tox-tbtn--enabled"),co(i,"aria-pressed",!0)):(ma(i,"tox-tbtn--enabled"),rr(i,"aria-pressed"))},isActive:()=>ka(n.element,"tox-tbtn--enabled"),setTooltip:s=>{no(n,I4,{text:s})},setText:s=>{no(n,ig,{text:s})},setIcon:s=>no(n,c2,{icon:s})}),qE=(n,s,i,f,b=!0,w)=>{const S=n.buttonType==="bordered"?["bordered"]:[];return gR({text:n.text,icon:n.icon,tooltip:n.tooltip,ariaLabel:n.tooltip,searchable:n.search.isSome(),role:f,fetch:(D,B)=>{const z={pattern:n.search.isSome()?jE(D):""};n.fetch(Z=>{B(ny(Z,ip.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:n.search}))},z,p$(D))},onSetup:n.onSetup,getApi:D=>p$(D),columns:1,presets:"normal",classes:S,dropdownBehaviours:[...b?[ca.config({})]:[]],context:n.context},s,i.shared,w)},AK=(n,s,i)=>{const f=w=>S=>{const D=!S.isActive();S.setActive(D),w.storage.set(D),i.shared.getSink().each(B=>{s().getOpt(B).each(z=>{Pa(z.element),no(z,lp,{name:w.name,value:w.storage.get()})})})},b=w=>S=>{S.setActive(w.storage.get())};return w=>{w(He(n,S=>{const D=S.text.fold(()=>({}),B=>({text:B}));return{type:S.type,active:!1,...D,context:S.context,onAction:f(S),onSetup:b(S)}}))}},b$=n=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":n}},components:[Na(n)]}),y$=(n,s,i)=>{n.customStateIcon.each(f=>s.push(x$(f,i.shared.providers.icons,n.customStateIconTooltip.fold(()=>[],b=>[ya.config(i.shared.providers.tooltips.getConfig({tooltipText:b}))]),["tox-icon-custom-state"])))},v$=me("leaf-label-event-id"),vR=({leaf:n,onLeafAction:s,visible:i,treeId:f,selectedId:b,backstage:w})=>{const S=n.menu.map(B=>qE(B,"tox-mbtn",w,P.none(),i)),D=[b$(n.title)];return y$(n,D,w),S.each(B=>D.push(B)),rc.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(i?["tox-tree--leaf__label--visible"]:[])},components:D,role:"treeitem",action:B=>{s(n.id),B.getSystem().broadcastOn([`update-active-item-${f}`],{value:n.id})},eventOrder:{[Ki()]:[v$,"keying"]},buttonBehaviours:a([...i?[ca.config({})]:[],Ds.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),md.config({channels:{[`update-active-item-${f}`]:{onReceive:(B,z)=>{(z.value===n.id?Ds.on:Ds.off)(B)}}}}),de(v$,[Rr((B,z)=>{b.each(Z=>{(Z===n.id?Ds.on:Ds.off)(B)})}),Nt(Ki(),(B,z)=>{const Z=z.event.raw.code==="ArrowLeft",K=z.event.raw.code==="ArrowRight";Z?(nu(B.element,".tox-tree--directory").each(ie=>{B.getSystem().getByDom(ie).each(he=>{Ou(ie,".tox-tree--directory__label").each(xe=>{he.getSystem().getByDom(xe).each(Qe.focus)})})}),z.stop()):K&&z.stop()})])])})},x$=(n,s,i,f,b)=>lh(n,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(f||[]),behaviours:i,attributes:b},s),kK=(n,s)=>x$(n,s,[]),w$=me("directory-label-event-id"),C$=({directory:n,visible:s,noChildren:i,backstage:f})=>{const b=n.menu.map(D=>qE(D,"tox-mbtn",f,P.none())),w=[{dom:{tag:"div",classes:["tox-chevron"]},components:[kK("chevron-right",f.shared.providers.icons)]},b$(n.title)];y$(n,w,f),b.each(D=>{w.push(D)});const S=D=>{nu(D.element,".tox-tree--directory").each(B=>{D.getSystem().getByDom(B).each(z=>{const Z=!Ds.isOn(z);Ds.toggle(z),no(D,"expand-tree-node",{expanded:Z,node:n.id})})})};return rc.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:w,action:S,eventOrder:{[Ki()]:[w$,"keying"]},buttonBehaviours:a([...s?[ca.config({})]:[],de(w$,[Nt(Ki(),(D,B)=>{const z=B.event.raw.code==="ArrowRight",Z=B.event.raw.code==="ArrowLeft";z&&i&&B.stop(),(z||Z)&&nu(D.element,".tox-tree--directory").each(K=>{D.getSystem().getByDom(K).each(ie=>{!Ds.isOn(ie)&&z||Ds.isOn(ie)&&Z?(S(D),B.stop()):Z&&!Ds.isOn(ie)&&(nu(ie.element,".tox-tree--directory").each(he=>{Ou(he,".tox-tree--directory__label").each(xe=>{ie.getSystem().getByDom(xe).each(Qe.focus)})}),B.stop())})})})])])})},_K=({children:n,onLeafAction:s,visible:i,treeId:f,expandedIds:b,selectedId:w,backstage:S})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:n.map(D=>D.type==="leaf"?vR({leaf:D,selectedId:w,onLeafAction:s,visible:i,treeId:f,backstage:S}):xR({directory:D,expandedIds:b,selectedId:w,onLeafAction:s,labelTabstopping:i,treeId:f,backstage:S})),behaviours:a([Ud.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:i}),Po.config({})])}),DK=me("directory-event-id"),xR=({directory:n,onLeafAction:s,labelTabstopping:i,treeId:f,backstage:b,expandedIds:w,selectedId:S})=>{const{children:D}=n,B=Nn(w),z=K=>D.map(ie=>ie.type==="leaf"?vR({leaf:ie,selectedId:S,onLeafAction:s,visible:K,treeId:f,backstage:b}):xR({directory:ie,expandedIds:B.get(),selectedId:S,onLeafAction:s,labelTabstopping:K,treeId:f,backstage:b})),Z=w.includes(n.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[C$({directory:n,visible:i,noChildren:n.children.length===0,backstage:b}),_K({children:D,expandedIds:w,selectedId:S,onLeafAction:s,visible:Z,treeId:f,backstage:b})],behaviours:a([de(DK,[Rr((K,ie)=>{Ds.set(K,Z)}),Nt("expand-tree-node",(K,ie)=>{const{expanded:he,node:xe}=ie.event;B.set(he?[...B.get(),xe]:B.get().filter(De=>De!==xe))})]),Ds.config({...n.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(K,ie)=>{const he=K.components()[1],xe=z(ie);ie?Ud.grow(he):Ud.shrink(he),Po.set(he,xe)}})])}},OK=me("tree-event-id"),NK=(n,s)=>{const i=n.onLeafAction.getOr(J),f=n.onToggleExpand.getOr(J),b=n.defaultExpandedIds,w=Nn(b),S=Nn(n.defaultSelectedId),D=me("tree-id"),B=(z,Z)=>n.items.map(K=>K.type==="leaf"?vR({leaf:K,selectedId:z,onLeafAction:i,visible:!0,treeId:D,backstage:s}):xR({directory:K,selectedId:z,onLeafAction:i,expandedIds:Z,labelTabstopping:!0,treeId:D,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:B(S.get(),w.get()),behaviours:a([io.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),de(OK,[Nt("expand-tree-node",(z,Z)=>{const{expanded:K,node:ie}=Z.event;w.set(K?[...w.get(),ie]:w.get().filter(he=>he!==ie)),f(w.get(),{expanded:K,node:ie})})]),md.config({channels:{[`update-active-item-${D}`]:{onReceive:(z,Z)=>{S.set(P.some(Z.value)),Po.set(z,B(P.some(Z.value),w.get()))}}}}),Po.config({})])}},V4=(n,s,i=[],f,b,w,S)=>{const D=s.fold(()=>({}),Z=>({action:Z})),B={buttonBehaviours:a([S0.item(()=>!n.enabled||S.checkUiComponentContext(n.context).shouldDisable),nl(()=>S.checkUiComponentContext(n.context)),ca.config({}),...w.map(Z=>ya.config(S.tooltips.getConfig({tooltipText:S.translate(Z)}))).toArray(),de("button press",[Xm("click")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...D},z=Wt(B,{dom:f});return Wt(z,{components:b})},S$=(n,s,i,f=[],b)=>{const w=n.tooltip.map(z=>({"aria-label":i.translate(z)})).getOr({}),S={tag:"button",classes:["tox-tbtn"],attributes:{...w,"data-mce-name":b}},D=n.icon.map(z=>mR(z,i.icons)),B=T1([D]);return V4(n,s,f,S,B,n.tooltip,i)},wR=n=>{switch(n){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},CR=(n,s,i,f=[],b=[])=>{const w=i.translate(n.text),S=n.icon.map(he=>mR(he,i.icons)),D=[S.getOrThunk(()=>Na(w))],B=n.buttonType.getOr(!n.primary&&!n.borderless?"secondary":"primary"),K={tag:"button",classes:[...wR(B),...S.isSome()?["tox-button--icon"]:[],...n.borderless?["tox-button--naked"]:[],...b],attributes:{"aria-label":w,"data-mce-name":n.text}},ie=n.icon.map(ae(w));return V4(n,s,f,K,D,ie,i)},E$=(n,s,i,f=[],b=[])=>{const w=CR(n,P.some(s),i,f,b);return rc.sketch(w)},SR=(n,s)=>i=>{s==="custom"?no(i,lp,{name:n,value:{}}):s==="submit"?cs(i,VE):s==="cancel"?cs(i,ty):console.error("Unknown button type: ",s)},T$=(n,s)=>s==="menu",ER=(n,s)=>s==="custom"||s==="cancel"||s==="submit",RK=(n,s)=>s==="togglebutton",MK=(n,s,i)=>{const f=n.icon.map(Ee=>Cv(Ee,s.icons)).map(ur),b=Ee=>{no(Ee,lp,{name:n.name,value:{setIcon:Ke=>{f.map(ot=>ot.getOpt(Ee).each(wt=>{Po.set(wt,[Cv(Ke,s.icons)])}))}}})},w=n.buttonType.getOr(n.primary?"primary":"secondary"),S={...n,name:n.name??"",tooltip:n.tooltip,enabled:n.enabled??!1},D=S.tooltip.or(n.text).map(Ee=>({"aria-label":s.translate(Ee)})).getOr({}),B=wR(w??"secondary"),z=n.icon.isSome()&&n.text.isSome(),Z={tag:"button",classes:[...B.concat(n.icon.isSome()?["tox-button--icon"]:[]),...n.active?["tox-button--enabled"]:[],...z?["tox-button--icon-and-text"]:[]],attributes:{...D,...$e(i)?{"data-mce-name":i}:{}}},K=[],ie=s.translate(n.text.getOr("")),he=Na(ie),De=[...T1([f.map(Ee=>Ee.asSpec())]),...n.text.isSome()?[he]:[]],Ie=V4(S,P.some(b),K,Z,De,n.tooltip,s);return rc.sketch(Ie)},GE=(n,s,i)=>{if(T$(n,s)){const f=()=>S,b=n,w={...n,buttonType:"default",type:"menubutton",search:P.none(),onSetup:D=>(D.setEnabled(n.enabled),J),fetch:AK(b.items,f,i)},S=ur(qE(w,"tox-tbtn",i,P.none(),!0,n.text.or(n.tooltip).getOrUndefined()));return S.asSpec()}else if(ER(n,s)){const f=SR(n.name,s),b={...n,context:s==="cancel"?"any":n.context,borderless:!1};return E$(b,f,i.shared.providers,[])}else{if(RK(n,s))return MK(n,i.shared.providers,n.text.or(n.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")}},BK=(n,s)=>{const i=SR(n.name,"custom");return QG(P.none(),Ss.parts.field({factory:rc,...CR(n,P.some(i),s,[N4(""),cp.self()])}))},A$={type:"separator"},LK=n=>({type:"menuitem",value:n.url,text:n.title,meta:{attach:n.attach},onAction:J}),iC=(n,s)=>({type:"menuitem",value:s,text:n,meta:{attach:void 0},onAction:J}),FK=n=>He(n,LK),k$=(n,s)=>Eo(s,i=>i.type===n),_$=(n,s)=>FK(k$(n,s)),PK=n=>_$("header",n.targets),A0=n=>_$("anchor",n.targets),U4=n=>P.from(n.anchorTop).map(s=>iC("<top>",s)).toArray(),Z4=n=>P.from(n.anchorBottom).map(s=>iC("<bottom>",s)).toArray(),$K=n=>He(n,s=>iC(s,s)),TR=n=>jo(n,(s,i)=>s.length===0||i.length===0?s.concat(i):s.concat(A$,i),[]),AR=(n,s)=>{const i=n.toLowerCase();return Eo(s,f=>{const b=f.meta!==void 0&&f.meta.text!==void 0?f.meta.text:f.text,w=f.value??"";return Fr(b.toLowerCase(),i)||Fr(w.toLowerCase(),i)})},kR=(n,s,i)=>{const f=Pn.getValue(s),b=f?.meta?.text??f.value;return i.getLinkInformation().fold(()=>[],S=>{const D=AR(b,$K(i.getHistory(n)));return n==="file"?TR([D,AR(b,PK(S)),AR(b,et([U4(S),A0(S),Z4(S)]))]):D})},_R=me("aria-invalid"),DR=(n,s,i,f)=>{const b=s.shared.providers,w=Ke=>{const ot=Pn.getValue(Ke);i.addToHistory(ot.value,n.filetype)},S={...f.map(Ke=>({initialData:Ke})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{type:"url"},minChars:0,responseTime:0,fetch:Ke=>{const ot=kR(n.filetype,Ke,i),wt=ny(ot,ip.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:P.none()});return ss.pure(wt)},getHotspot:Ke=>xe.getOpt(Ke),onSetValue:(Ke,ot)=>{Ke.hasConfigured(sh)&&sh.run(Ke).get(J)},typeaheadBehaviours:a([...i.getValidationHandler().map(Ke=>sh.config({getRoot:ot=>Au(ot.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(ot,wt)=>{Z.getOpt(ot).each(_t=>{co(_t.element,"title",b.translate(wt))})}},validator:{validate:ot=>{const wt=Pn.getValue(ot);return To.nu(_t=>{Ke({type:n.filetype,url:wt.value},Tn=>{if(Tn.status==="invalid"){co(ot.element,"aria-errormessage",_R);const Xt=Bn.error(Tn.message);_t(Xt)}else{rr(ot.element,"aria-errormessage");const Xt=Bn.value(Tn.message);_t(Xt)}})})},validateOnLoad:!1}})).toArray(),Xn.config({disabled:()=>!n.enabled||b.checkUiComponentContext(n.context).shouldDisable}),ca.config({}),de("urlinput-events",[Nt(Bf(),Ke=>{const ot=pc(Ke.element),wt=ot.trim();wt!==ot&&Dd(Ke.element,wt),n.filetype==="file"&&no(Ke,vf,{name:n.name})}),Nt(Lf(),Ke=>{no(Ke,vf,{name:n.name}),w(Ke)}),Nt(Ay(),Ke=>{no(Ke,vf,{name:n.name}),w(Ke)})])]),eventOrder:{[Bf()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:Ke=>Ke.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:TE(!1,1,"normal")},onExecute:(Ke,ot,wt)=>{no(ot,VE,{})},onItemExecute:(Ke,ot,wt,_t)=>{w(Ke),no(Ke,vf,{name:n.name})}},D=Ss.parts.field({...S,factory:X5}),B=n.label.map(Ke=>ey(Ke,b)),Z=ur(((Ke,ot,wt=Ke,_t=Ke)=>lh(wt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Ke],attributes:{title:b.translate(_t),"aria-live":"polite",...ot.fold(()=>({}),Tn=>({id:Tn}))}},b.icons))("invalid",P.some(_R),"warning")),K=ur({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[Z.asSpec()]}),ie=i.getUrlPicker(n.filetype),he=me("browser.url.event"),xe=ur({dom:{tag:"div",classes:["tox-control-wrap"]},components:[D,K.asSpec()],behaviours:a([Xn.config({disabled:()=>!n.enabled||b.checkUiComponentContext(n.context).shouldDisable})])}),De=ur(E$({context:n.context,name:n.name,icon:P.some("browse"),text:n.picker_text.or(n.label).getOr(""),enabled:n.enabled,primary:!1,buttonType:P.none(),borderless:!0},Ke=>cs(Ke,he),b,[],["tox-browse-url"])),Ie=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:et([[xe.asSpec()],ie.map(()=>De.asSpec()).toArray()])}),Ee=Ke=>{Ft.getCurrent(Ke).each(ot=>{const wt=Pn.getValue(ot),_t={fieldname:n.name,...wt};ie.each(Tn=>{Tn(_t).get(Xt=>{Pn.setValue(ot,Xt),no(Ke,vf,{name:n.name})})})})};return Ss.sketch({dom:k7(),components:B.toArray().concat([Ie()]),fieldBehaviours:a([Xn.config({disabled:()=>!n.enabled||b.checkUiComponentContext(n.context).shouldDisable,onDisabled:Ke=>{Ss.getField(Ke).each(Xn.disable),De.getOpt(Ke).each(Xn.disable)},onEnabled:Ke=>{Ss.getField(Ke).each(Xn.enable),De.getOpt(Ke).each(Xn.enable)}}),nl(()=>b.checkUiComponentContext(n.context)),de("url-input-events",[Nt(he,Ee)])])})},IK=(n,s)=>{const i=eW(n.icon,s.icons);return d0.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${n.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:n.url?void 0:i},components:n.url?[rc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:i,attributes:{title:s.translate(n.iconTooltip)}},action:f=>no(f,lp,{name:"alert-banner",value:n.url}),buttonBehaviours:a([EO()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(n.text)}}]})},HK=(n,s,i)=>{const f=B=>(B.element.dom.click(),P.some(!0)),b=Ss.parts.field({factory:{sketch:lt},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:a([cp.self(),Xn.config({disabled:()=>!n.enabled||s.checkUiComponentContext(n.context).shouldDisable,onDisabled:B=>{Au(B.element).each(z=>Qs(z,"tox-checkbox--disabled"))},onEnabled:B=>{Au(B.element).each(z=>ma(z,"tox-checkbox--disabled"))}}),ca.config({}),Qe.config({}),L7(i,Sp,Ad),io.config({mode:"special",onEnter:f,onSpace:f,stopSpaceKeyup:!0}),de("checkbox-events",[Nt(Lf(),(B,z)=>{no(B,vf,{name:n.name})})])])}),w=Ss.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Na(s.translate(n.label))],behaviours:a([m0.config({})])}),S=B=>lh(B==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+B]},s.icons),D=ur({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[S("checked"),S("unchecked")]});return Ss.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[b,D.asSpec(),w],fieldBehaviours:a([Xn.config({disabled:()=>!n.enabled||s.checkUiComponentContext(n.context).shouldDisable}),nl(()=>s.checkUiComponentContext(n.context))])})},D$=(n,s)=>{const i=["tox-form__group",...n.stretched?["tox-form__group--stretched"]:[]],f=de("htmlpanel",[Rr(b=>{n.onInit(b.element.dom)})]);return n.presets==="presentation"?d0.sketch({dom:{tag:"div",classes:i,innerHtml:n.html},containerBehaviours:a([ya.config({...s.tooltips.getConfig({tooltipText:"",onShow:b=>{ar(b.element,"[data-mce-tooltip]:hover").orThunk(()=>ii(b.element)).each(w=>{li(w,"data-mce-tooltip").each(S=>{ya.setComponents(b,s.tooltips.getComponents({tooltipText:S}))})})}}),mode:"children-normal",anchor:b=>({type:"node",node:ar(b.element,"[data-mce-tooltip]:hover").orThunk(()=>ii(b.element).filter(w=>li(w,"data-mce-tooltip").isSome())),root:b.element,layouts:{onLtr:ae([Oi,ba,Ji,Al,Ur,kl]),onRtl:ae([Oi,ba,Ji,Al,Ur,kl])},bubble:hu(0,-2,{})})}),f])}):d0.sketch({dom:{tag:"div",classes:i,innerHtml:n.html,attributes:{role:"document"}},containerBehaviours:a([ca.config({}),Qe.config({}),f])})},ic=n=>(s,i,f,b,w)=>$n(i,"name").fold(()=>n(i,b,P.none(),w),S=>s.field(S,n(i,b,$n(f,S),w))),zK=n=>(s,i,f,b,w)=>{const S=Wt(i,{source:"dynamic"});return ic(n)(s,S,f,b,w)},OR={bar:ic((n,s)=>T7(n,s.shared)),collection:ic((n,s,i)=>JG(n,s.shared.providers,i)),alertbanner:ic((n,s)=>IK(n,s.shared.providers)),input:ic((n,s,i)=>g$(n,s.shared.providers,i)),textarea:ic((n,s,i)=>TK(n,s.shared.providers,i)),label:ic((n,s,i,f)=>pK(n,s.shared,f)),iframe:zK((n,s,i)=>ZE(n,s.shared.providers,i)),button:ic((n,s)=>BK(n,s.shared.providers)),checkbox:ic((n,s,i)=>HK(n,s.shared.providers,i)),colorinput:ic((n,s,i)=>tK(n,s.shared,s.colorinput,i)),colorpicker:ic((n,s,i)=>B4(n,s.shared.providers,i)),dropzone:ic((n,s,i)=>uK(n,s.shared.providers,i)),grid:ic((n,s)=>dK(n,s.shared)),listbox:ic((n,s,i)=>l$(n,s,i)),selectbox:ic((n,s,i)=>c$(n,s.shared.providers,i)),sizeinput:ic((n,s)=>m$(n,s.shared.providers)),slider:ic((n,s,i)=>SK(n,s.shared.providers,i)),urlinput:ic((n,s,i)=>DR(n,s,s.urlinput,i)),customeditor:ic(lK),htmlpanel:ic((n,s)=>D$(n,s.shared.providers)),imagepreview:ic((n,s,i)=>gK(n,i)),table:ic((n,s)=>EK(n,s.shared.providers)),tree:ic((n,s)=>NK(n,s)),panel:ic((n,s)=>rC(n,s))},jK={field:(n,s)=>s,record:ae([])},O$=(n,s,i,f,b)=>{const w=Wt(f,{shared:{interpreter:S=>W4(n,S,i,w,b)}});return W4(n,s,i,w,b)},W4=(n,s,i,f,b)=>$n(OR,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),w=>w(n,s,i,f,b)),NR=(n,s,i,f)=>W4(jK,n,s,i,f),KE={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},VK=(n,s,i)=>{const b={maxHeightFunction:Gh()},w=()=>({type:"node",root:xd(Ai(n())),node:P.from(n()),bubble:hu(12,12,KE),layouts:{onRtl:()=>[Il],onLtr:()=>[jf]},overrides:b}),S=()=>({type:"hotspot",hotspot:s(),bubble:hu(-12,12,KE),layouts:{onRtl:()=>[Ji,Ur,Oi],onLtr:()=>[Ur,Ji,Oi]},overrides:b});return()=>i()?w():S()},UK=(n,s,i,f)=>{const w={maxHeightFunction:Gh()},S=()=>({type:"node",root:xd(Ai(s())),node:P.from(s()),bubble:hu(12,12,KE),layouts:{onRtl:()=>[oc],onLtr:()=>[oc]},overrides:w}),D=()=>n?{type:"node",root:xd(Ai(s())),node:P.from(s()),bubble:hu(0,-ki(s()),KE),layouts:{onRtl:()=>[ba],onLtr:()=>[ba]},overrides:w}:{type:"hotspot",hotspot:i(),bubble:hu(0,0,KE),layouts:{onRtl:()=>[ba],onLtr:()=>[ba]},overrides:w};return()=>f()?S():D()},ZK=(n,s,i)=>{const f=()=>({type:"node",root:xd(Ai(n())),node:P.from(n()),layouts:{onRtl:()=>[oc],onLtr:()=>[oc]}}),b=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[Oi],onLtr:()=>[Oi]}});return()=>i()?f():b()},N$=(n,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const i=n.selection.getRng(),f=n.model.table.getSelectedCells();if(f.length>1){const b=f[0],w=f[f.length-1],S={firstCell:un.fromDom(b),lastCell:un.fromDom(w)};return P.some(S)}return P.some(fi.range(un.fromDom(i.startContainer),i.startOffset,un.fromDom(i.endContainer),i.endOffset))}}),WK=n=>s=>({type:"node",root:n(),node:s}),qK=(n,s,i,f)=>{const b=jw(n),w=()=>un.fromDom(n.getBody()),S=()=>un.fromDom(n.getContentAreaContainer()),D=()=>b||!f();return{inlineDialog:VK(S,s,D),inlineBottomDialog:UK(n.inline,S,i,D),banner:ZK(S,s,D),cursor:N$(n,w),node:WK(w)}},GK=n=>(s,i)=>{YN(n)(s,i)},KK=n=>()=>UN(n),YK=n=>s=>S4(n,s),XK=n=>s=>r7(n,s),QK=n=>({colorPicker:GK(n),hasCustomColors:KK(n),getColors:YK(n),getColorCols:XK(n)}),JK=n=>()=>iF(n),eY=n=>({isDraggableModal:JK(n)}),tY=n=>{const s=Nn(Wk(n)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},nY=n=>_o(n,"items"),R$=n=>_o(n,"format"),RR=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],M$=n=>Yo(n,"items"),q4=n=>Yo(n,"block"),B$=n=>Yo(n,"inline"),oY=n=>Yo(n,"selector"),L$=n=>jo(n,(s,i)=>{if(M$(i)){const f=L$(i.items);return{customFormats:s.customFormats.concat(f.customFormats),formats:s.formats.concat([{title:i.title,items:f.formats}])}}else if(B$(i)||q4(i)||oY(i)){const b=`custom-${I(i.name)?i.name:i.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:b,format:i}]),formats:s.formats.concat([{title:i.title,format:b,icon:i.icon}])}}else return{...s,formats:s.formats.concat(i)}},{customFormats:[],formats:[]}),sY=(n,s)=>{const i=L$(s),f=b=>{dt(b,w=>{n.formatter.has(w.name)||n.formatter.register(w.name,w.format)})};return n.formatter?f(i.customFormats):n.on("init",()=>{f(i.customFormats)}),i.formats},F$=n=>KL(n).map(s=>{const i=sY(n,s);return YL(n)?RR.concat(i):i}).getOr(RR),rY=n=>{const s=Io(n);return s.length===1&&Ue(s,"title")},P$=(n,s,i)=>({...n,type:"formatter",isSelected:s(n.format),getStylePreview:i(n.format)}),$$=(n,s,i,f)=>{const b=B=>P$(B,i,f),w=B=>{const z=D(B.items);return{...B,type:"submenu",getStyleItems:ae(z)}},S=B=>{const z=I(B.name)?B.name:me(B.title),Z=`custom-${z}`,K={...B,type:"formatter",format:Z,isSelected:i(Z),getStylePreview:f(Z)};return n.formatter.register(z,K),K},D=B=>He(B,z=>nY(z)?w(z):R$(z)?b(z):rY(z)?{...z,type:"separator"}:S(z));return D(s)},I$=n=>{const s=D=>()=>n.formatter.match(D),i=D=>()=>{const B=n.formatter.get(D);return B!==void 0?P.some({tag:B.length>0&&(B[0].inline||B[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(D))}):P.none()},f=Nn([]),b=Nn([]),w=Nn(!1);return n.on("PreInit",D=>{const B=F$(n),z=$$(n,B,s,i);f.set(z)}),n.on("addStyleModifications",D=>{const B=$$(n,D.items,s,i);b.set(B),w.set(D.replace)}),{getData:()=>{const D=w.get()?[]:f.get(),B=b.get();return D.concat(B)}}},H$=n=>{let f=0;const b=()=>f>0,w=D=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Na(D.tooltipText)]}];return{getConfig:D=>({delayForShow:()=>b()?60:300,delayForHide:ae(300),exclusive:!0,lazySink:n,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:w(D),onShow:(B,z)=>{f++,D.onShow&&D.onShow(B,z)},onHide:(B,z)=>{f--,D.onHide&&D.onHide(B,z)},onSetup:D.onSetup}),getComponents:w}},aY=n=>$e(n)&&n.nodeType===1,z$=_1.trim,j$=n=>s=>!!(aY(s)&&(s.contentEditable===n||s.getAttribute("data-mce-contenteditable")===n)),iY=j$("true"),lY=j$("false"),Sv=(n,s,i,f,b)=>({type:n,title:s,url:i,level:f,attach:b}),V$=n=>{let s=n;for(;s=s.parentNode;){const i=s.contentEditable;if(i&&i!=="inherit")return iY(s)}return!1},YE=(n,s)=>He(ea(un.fromDom(s),n),i=>i.dom),XE=n=>n.innerText||n.textContent,U$=n=>n.id?n.id:me("h"),Z$=n=>n&&n.nodeName==="A"&&(n.id||n.name)!==void 0,W$=n=>Z$(n)&&q$(n),cY=n=>n&&/^(H[1-6])$/.test(n.nodeName),q$=n=>V$(n)&&!lY(n),uY=n=>cY(n)&&q$(n),dY=n=>cY(n)?parseInt(n.nodeName.substr(1),10):0,fY=n=>{const s=U$(n),i=()=>{n.id=s};return Sv("header",XE(n)??"","#"+s,dY(n),i)},mY=n=>{const s=n.id||n.name,i=XE(n);return Sv("anchor",i||"#"+s,"#"+s,0,J)},hY=n=>He(Eo(n,uY),fY),lC=n=>He(Eo(n,W$),mY),QE=n=>YE("h1,h2,h3,h4,h5,h6,a:not([href])",n),MR=n=>z$(n.title).length>0,gY={find:n=>{const s=QE(n);return Eo(hY(s).concat(lC(s)),MR)}},cC="tinymce-url-history",G$=5,uC=n=>I(n)&&/^https?/.test(n),K$=n=>Y(n)&&n.length<=G$&&Je(n,uC),Y$=n=>U(n)&&Xr(n,s=>!K$(s)).isNone(),X$=()=>{const n=a2.getItem(cC);if(n===null)return{};let s;try{s=JSON.parse(n)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+cC+" was not valid JSON",i),{};throw i}return Y$(s)?s:(console.log("Local storage "+cC+" was not valid format",s),{})},pY=n=>{if(!Y$(n))throw new Error(`Bad format for history:
`+JSON.stringify(n));a2.setItem(cC,JSON.stringify(n))},bY=n=>{const s=X$();return $n(s,n).getOr([])},yY=(n,s)=>{if(!uC(n))return;const i=X$(),f=$n(i,s).getOr([]),b=Eo(f,w=>w!==n);i[s]=[n].concat(b).slice(0,G$),pY(i)},Q$=n=>!!n,J$=n=>Ms(_1.makeMap(n,/[, ]/),Q$),G4=n=>P.from(sF(n)),BR=n=>{const s=P.from(rO(n)).filter(Q$).map(J$);return G4(n).fold(yt,i=>s.fold(Mt,f=>Io(f).length>0?f:!1))},vY=(n,s)=>{const i=BR(n);return fe(i)?i?G4(n):P.none():i[s]?G4(n):P.none()},K4=(n,s)=>vY(n,s).map(i=>f=>ss.nu(b=>{const w=(D,B)=>{if(!I(D))throw new Error("Expected value to be string");if(B!==void 0&&!U(B))throw new Error("Expected meta to be a object");b({value:D,meta:B})},S={filetype:s,fieldname:f.fieldname,...P.from(f.meta).getOr({})};i.call(n,w,f.value,S)})),JE=n=>P.from(n).filter(I).getOrUndefined(),eI=n=>aO(n)?P.some({targets:gY.find(n.getBody()),anchorTop:JE(aF(n)),anchorBottom:JE(iO(n))}):P.none(),xY=n=>P.from(rF(n)),wY=n=>({getHistory:bY,addToHistory:yY,getLinkInformation:()=>eI(n),getValidationHandler:()=>xY(n),getUrlPicker:s=>K4(n,s)}),CY=(n,s,i,f)=>{const b=Nn(!1),w=tY(s),S={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:hd.translate,isDisabled:()=>!s.ui.isEnabled(),getOption:s.options.get,tooltips:H$(n.dialog),checkUiComponentContext:Ee=>{if(zk(s))return{contextType:"disabled",shouldDisable:!0};const[Ke,ot=""]=Ee.split(":"),wt=s.ui.registry.getAll().contexts,_t=$n(wt,Ke).fold(()=>$n(wt,"mode").map(Tn=>Tn("design")).getOr(!1),Tn=>ot.charAt(0)==="!"?!Tn(ot.slice(1)):Tn(ot));return{contextType:Ke,shouldDisable:!_t}}},D=wY(s),B=I$(s),z=QK(s),Z=eY(s),K=()=>b.get(),ie=Ee=>b.set(Ee),he={shared:{providers:S,anchors:qK(s,i,f,w.isPositionedAtTop),header:w},urlinput:D,styles:B,colorinput:z,dialog:Z,isContextMenuOpen:K,setContextMenuState:ie},xe=Ee=>P.none(),De={...he,shared:{...he.shared,interpreter:Ee=>NR(Ee,{},De,xe),getSink:n.popup}},Ie={...he,shared:{...he.shared,interpreter:Ee=>NR(Ee,{},Ie,xe),getSink:n.dialog}};return{popup:De,dialog:Ie}},LR={skipFocus:"ToggleToolbarDrawer skipFocus is deprecated see migration guide: https://www.tiny.cloud/docs/tinymce/latest/migration-from-7x/"},SY=n=>{console.warn(LR[n],new Error().stack)},FR=(n,s,i)=>{const f=(tn,fo)=>{dt([s,...i],Qn=>{Qn.broadcastEvent(tn,fo)})},b=(tn,fo)=>{dt([s,...i],Qn=>{Qn.broadcastOn([tn],fo)})},w=tn=>b(Jm(),{target:tn.target}),S=tn=>{b(gf(),{closedTooltip:()=>{tn.preventDefault()}})},D=qi(),B=Ls(D,"touchstart",w),z=Ls(D,"touchmove",tn=>f(Pp(),tn)),Z=Ls(D,"touchend",tn=>f(ub(),tn)),K=Ls(D,"mousedown",w),ie=Ls(D,"mouseup",tn=>{tn.raw.button===0&&b(o0(),{target:tn.target})}),he=tn=>b(Jm(),{target:un.fromDom(tn.target)}),xe=tn=>{tn.button===0&&b(o0(),{target:un.fromDom(tn.target)})},De=()=>{dt(n.editorManager.get(),tn=>{n!==tn&&tn.dispatch("DismissPopups",{relatedTarget:n})})},Ie=tn=>f(fm(),Wa(tn)),Ee=tn=>{b(pl(),{}),f(xi(),Wa(tn))},Ke=Ai(un.fromDom(n.getElement())),ot=qu(Ke,"scroll",tn=>{requestAnimationFrame(()=>{const fo=n.getContainer();if(fo!=null){const hs=Wb(n,s.element).map(mo=>[mo.element,...mo.others]).getOr([]);Pt(hs,mo=>oe(mo,tn.target))&&(n.dispatch("ElementScroll",{target:tn.target.dom}),f(od(),tn))}})}),wt=()=>b(pl(),{}),_t=tn=>{tn.state&&b(Jm(),{target:un.fromDom(n.getContainer())})},Tn=tn=>{b(Jm(),{target:un.fromDom(tn.relatedTarget.getContainer())})},Xt=tn=>n.dispatch("focusin",tn),nn=tn=>n.dispatch("focusout",tn);n.on("PostRender",()=>{n.on("click",he),n.on("tap",he),n.on("mouseup",xe),n.on("mousedown",De),n.on("ScrollWindow",Ie),n.on("ResizeWindow",Ee),n.on("ResizeEditor",wt),n.on("AfterProgressState",_t),n.on("DismissPopups",Tn),n.on("CloseActiveTooltips",S),dt([s,...i],tn=>{tn.element.dom.addEventListener("focusin",Xt),tn.element.dom.addEventListener("focusout",nn)})}),n.on("remove",()=>{n.off("click",he),n.off("tap",he),n.off("mouseup",xe),n.off("mousedown",De),n.off("ScrollWindow",Ie),n.off("ResizeWindow",Ee),n.off("ResizeEditor",wt),n.off("AfterProgressState",_t),n.off("DismissPopups",Tn),n.off("CloseActiveTooltips",S),dt([s,...i],tn=>{tn.element.dom.removeEventListener("focusin",Xt),tn.element.dom.removeEventListener("focusout",nn)}),K.unbind(),B.unbind(),z.unbind(),Z.unbind(),ie.unbind(),ot.unbind()}),n.on("detach",()=>{dt([s,...i],wA),dt([s,...i],tn=>tn.destroy())})},EY=J,PR=yt,tI=ae([]);var TY=Object.freeze({__proto__:null,setup:EY,isDocked:PR,getBehaviours:tI});const $R=ae(me("toolbar-height-change")),O1={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},nI="tox-tinymce--toolbar-sticky-on",AY="tox-tinymce--toolbar-sticky-off",Yne=(n,s)=>{const i=Oc(s),b=yp(s).dom.innerHeight,w=Aa(i),S=un.fromDom(n.elm),D=Nh(S),B=bi(S),z=D.y,Z=z+B,K=Bl(s),ie=bi(s),he=K.top,xe=he+ie,De=Math.abs(he-w.top)<2,Ie=Math.abs(xe-(w.top+b))<2;if(De&&z<xe)Ed(w.left,z-ie,i);else if(Ie&&Z>he){const Ee=z-b+B+ie;Ed(w.left,Ee,i)}},eT=(n,s)=>Ue(ei.getModes(n),s),IR=n=>{const s=f=>ki(f)+(parseInt(hr(f,"margin-top"),10)||0)+(parseInt(hr(f,"margin-bottom"),10)||0),i=n.element;Au(i).each(f=>{const b="padding-"+ei.getModes(n)[0];if(ei.isDocked(n)){const w=Bi(f);wo(i,"width",w+"px"),wo(f,b,s(i)+"px")}else rs(i,"width"),rs(f,b)})},HR=(n,s)=>{s?(ma(n,O1.fadeOutClass),Yu(n,[O1.transitionClass,O1.fadeInClass])):(ma(n,O1.fadeInClass),Yu(n,[O1.fadeOutClass,O1.transitionClass]))},oI=(n,s)=>{const i=un.fromDom(n.getContainer());s?(Qs(i,nI),ma(i,AY)):(Qs(i,AY),ma(i,nI))},kY=(n,s)=>{const i=Oc(s);ai(i).filter(f=>!oe(s,f)).filter(f=>oe(f,un.fromDom(i.dom.body))||Ae(n,f)).each(()=>Pa(s))},_Y=(n,s)=>ii(n).orThunk(()=>s().toOptional().bind(i=>ii(i.element))),DY=(n,s,i)=>{n.inline||(s.header.isPositionedAtTop()||n.on("ResizeEditor",()=>{i().each(ei.reset)}),n.on("ResizeWindow ResizeEditor",()=>{i().each(IR)}),n.on("SkinLoaded",()=>{i().each(f=>{ei.isDocked(f)?ei.reset(f):ei.refresh(f)})}),n.on("FullscreenStateChanged",()=>{i().each(ei.reset)})),n.on("AfterScrollIntoView",f=>{i().each(b=>{ei.refresh(b);const w=b.element;Ga(w)&&Yne(f,w)})}),n.on("PostRender",()=>{oI(n,!1)})},OY=n=>n().map(ei.isDocked).getOr(!1),sI=()=>[md.config({channels:{[$R()]:{onReceive:IR}}})],rI=(n,s)=>{const i=xo(),f=s.getSink,b=D=>{f().each(B=>D(B.element))},w=D=>{n.inline||IR(D),oI(n,ei.isDocked(D)),D.getSystem().broadcastOn([pl()],{}),f().each(B=>B.getSystem().broadcastOn([pl()],{}))},S=n.inline?[]:sI();return[Qe.config({}),ei.config({contextual:{lazyContext:D=>{const B=ki(D.element),z=n.inline?n.getContentAreaContainer():n.getContainer();return P.from(z).map(Z=>{const K=Di(un.fromDom(Z));return Wb(n,D.element).fold(()=>{const he=K.height-B,xe=K.y+(eT(D,"top")?0:B);return Fi(K.x,xe,K.width,he)},he=>{const xe=Im(K,Ux(he)),De=eT(D,"top")?xe.y:xe.y+B;return Fi(xe.x,De,xe.width,xe.height-B)})})},onShow:()=>{b(D=>HR(D,!0))},onShown:D=>{b(B=>El(B,[O1.transitionClass,O1.fadeInClass])),i.get().each(B=>{kY(D.element,B),i.clear()})},onHide:D=>{_Y(D.element,f).fold(i.clear,i.set),b(B=>HR(B,!1))},onHidden:()=>{b(D=>El(D,[O1.transitionClass]))},...O1},lazyViewport:D=>Wb(n,D.element).fold(()=>{const z=bc(),Z=nF(n),K=z.y+(eT(D,"top")&&!wF(n)?Z:0),ie=z.height-(eT(D,"bottom")?Z:0);return{bounds:Fi(z.x,K,z.width,ie),optScrollEnv:P.none()}},z=>({bounds:Ux(z),optScrollEnv:P.some({currentScrollTop:z.element.dom.scrollTop,scrollElmTop:Bl(z.element).top})})),modes:[s.header.getDockingMode()],onDocked:w,onUndocked:w}),...S]};var NY=Object.freeze({__proto__:null,setup:DY,isDocked:OY,getBehaviours:rI});const RY=n=>{const s=n.editor,i=n.sticky?rI:tI;return{uid:n.uid,dom:n.dom,components:n.components,behaviours:a(i(s,n.sharedBackstage))}};var aI=oh({factory:(n,s)=>{const i=(b,w)=>{const S=He(w,D=>{const B={type:"menubutton",text:D.text,fetch:Z=>{Z(D.getItems())},context:"any"},z=tN(B).mapError(Z=>Mg(Z)).getOrDie();return qE(z,"tox-mbtn",s.backstage,P.some("menuitem"))});Po.set(b,S)},f={focus:io.focusIn,setMenus:i};return{uid:n.uid,dom:n.dom,components:[],behaviours:a([Po.config({}),de("menubar-events",[Rr(b=>{n.onSetup(b)}),Nt(Jl(),(b,w)=>{ar(b.element,".tox-mbtn--active").each(S=>{yi(w.event.target,".tox-mbtn").each(D=>{oe(S,D)||b.getSystem().getByDom(S).each(B=>{b.getSystem().getByDom(D).each(z=>{Gf.expand(z),Gf.close(B),Qe.focus(z)})})})})}),Nt($h(),(b,w)=>{w.event.prevFocus.bind(S=>b.getSystem().getByDom(S).toOptional()).each(S=>{w.event.newFocus.bind(D=>b.getSystem().getByDom(D).toOptional()).each(D=>{Gf.isOpen(S)&&(Gf.expand(D),Gf.close(S))})})})]),io.config({mode:"flow",selector:".tox-mbtn",onEscape:b=>(n.onEscape(b),P.some(!0))}),ca.config({})]),apis:f,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Zt("dom"),Zt("uid"),Zt("onEscape"),Zt("backstage"),pt("onSetup",J)],apis:{focus:(n,s)=>{n.focus(s)},setMenus:(n,s,i)=>{n.setMenus(s,i)}}});const iI=" Get all features",lI="https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",MY=n=>{const s=n.promotionLink?[{dom:{tag:"a",attributes:{href:lI,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:iI}}]:[];return{uid:n.uid,dom:n.dom,components:s}},BY=n=>{const{sidebars:s}=n.ui.registry.getAll();dt(Io(s),i=>{const f=s[i],b=()=>to(P.from(n.queryCommandValue("ToggleSidebar")),i);n.ui.registry.addToggleButton(i,{icon:f.icon,tooltip:f.tooltip,onAction:w=>{n.execCommand("ToggleSidebar",!1,i),w.setActive(b())},onSetup:w=>{w.setActive(b());const S=()=>w.setActive(b());return n.on("ToggleSidebar",S),()=>{n.off("ToggleSidebar",S)}},context:"any"})})},uh=n=>({element:()=>n.element.dom}),LY=(n,s)=>{const i=He(Io(s),f=>{const b=s[f],w=Ju(hN(b));return{name:f,getApi:uh,onSetup:w.onSetup,onShow:w.onShow,onHide:w.onHide}});return He(i,f=>{const b=Nn(J);return n.slot(f.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Jw.unnamedEvents([E0(f,b),bv(f,b),Nt($p(),(w,S)=>{const D=S.event;Be(i,z=>z.name===D.name).each(z=>{(D.visible?z.onShow:z.onHide)(z.getApi(w))})})])})})},cI=n=>bu.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:LY(s,n),slotBehaviours:Jw.unnamedEvents([Rr(i=>bu.hideAllSlots(i))])})),uI=(n,s,i)=>{Ft.getCurrent(n).each(b=>{Po.set(b,[cI(s)]);const w=i?.toLowerCase();I(w)&&Yo(s,w)&&Ft.getCurrent(b).each(S=>{bu.showSlot(S,w),Ud.immediateGrow(b),rs(b.element,"width"),Y4(n.element,"region")})})},Y4=(n,s)=>{co(n,"role",s)},tT=(n,s)=>{Ft.getCurrent(n).each(f=>{Ft.getCurrent(f).each(w=>{Ud.hasGrown(f)?bu.isShowing(w,s)?(Ud.shrink(f),Y4(n.element,"presentation")):(bu.hideAllSlots(w),bu.showSlot(w,s),Y4(n.element,"region")):(bu.hideAllSlots(w),bu.showSlot(w,s),Ud.grow(f),Y4(n.element,"region"))})})},FY=n=>Ft.getCurrent(n).bind(i=>Ud.isGrowing(i)||Ud.hasGrown(i)?Ft.getCurrent(i).bind(w=>Be(bu.getSlotNames(w),S=>bu.isShowing(w,S))):P.none()),dC=me("FixSizeEvent"),zR=me("AutoSizeEvent"),X4=n=>({uid:n.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:a([ca.config({}),Qe.config({}),Ud.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{Ft.getCurrent(s).each(bu.hideAllSlots),cs(s,zR)},onGrown:s=>{cs(s,zR)},onStartGrow:s=>{no(s,dC,{width:Vr(s.element,"width").getOr("")})},onStartShrink:s=>{no(s,dC,{width:Bi(s.element)+"px"})}}),Po.config({}),Ft.config({find:s=>{const i=Po.contents(s);return Un(i)}})])}],behaviours:a([cp.childAt(0),de("sidebar-sliding-events",[Nt(dC,(s,i)=>{wo(s.element,"width",i.event.width)}),Nt(zR,(s,i)=>{rs(s.element,"width")})])])}),PY=n=>(s,i)=>({dom:{tag:"div",attributes:{"aria-label":n.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:h0('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),dI=n=>Ft.getCurrent(n).each(s=>Pa(s.element,!0)),lg=(n,s)=>{const i="tabindex",f=`data-mce-${i}`;P.from(n.iframeElement).map(un.fromDom).each(b=>{s?(li(b,i).each(w=>co(b,f,w)),co(b,i,-1)):(rr(b,i),li(b,f).each(w=>{co(b,i,w),rr(b,f)}))})},$Y=(n,s,i,f)=>{const b=s.element;if(lg(n,i),i)Jt.block(s,PY(f)),rs(b,"display"),rr(b,"aria-hidden"),n.hasFocus()&&dI(s);else{const w=Ft.getCurrent(s).exists(S=>eu(S.element));Jt.unblock(s),wo(b,"display","none"),co(b,"aria-hidden","true"),w&&n.focus()}},Q4=n=>({uid:n.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:a([Po.config({}),Jt.config({focus:!1}),Ft.config({find:s=>Un(s.components())})]),components:[]}),fI=n=>n.type==="focusin",mI=n=>fI(n)?(n.composed?Un(n.composedPath()):P.from(n.target)).map(un.fromDom).filter(Xc).exists(i=>ka(i,"mce-pastebin")):!1,IY=(n,s,i)=>{const f=Nn(!1),b=xo(),w=D=>{f.get()&&!mI(D)&&(D.preventDefault(),dI(s()),n.editorManager.setActive(n))};n.inline||n.on("PreInit",()=>{n.dom.bind(n.getWin(),"focusin",w),n.on("BeforeExecCommand",D=>{D.command.toLowerCase()==="mcefocus"&&D.value!==!0&&w(D)})});const S=D=>{D!==f.get()&&(f.set(D),$Y(n,s(),D,i.providers),gG(n,D))};n.on("ProgressState",D=>{if(b.on(clearTimeout),ct(D.time)){const B=Hk.setEditorTimeout(n,()=>S(D.state),D.time);b.set(B)}else S(D.state),b.clear()})},jR=n=>{const s=n.label.isNone()?n.title.fold(()=>({}),i=>({attributes:{"aria-label":i}})):n.label.fold(()=>({}),i=>({attributes:{"aria-label":i}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(n.label.isSome()?["tox-toolbar__group_with_label"]:[]),...s},components:[...n.label.map(i=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[Na(i)]})).toArray(),$k.parts.items({})],items:n.items,markers:{itemSelector:".tox-tbtn:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:a([ca.config({}),Qe.config({ignore:!0})])}},J4=n=>$k.sketch(jR(n)),hI=(n,s)=>{const i=Rr(f=>{const b=He(n.initGroups,J4);g0.setGroups(f,b)});return a([S0.toolbarButton(()=>n.providers.checkUiComponentContext("any").shouldDisable),nl(()=>n.providers.checkUiComponentContext("any")),io.config({mode:s,onEscape:n.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),de("toolbar-events",[i])])},gI=n=>{const s=n.cyclicKeying?"cyclic":"acyclic";return{uid:n.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":jR({title:P.none(),label:P.none(),items:[]}),"overflow-button":S$({context:"any",icon:P.some("more-drawer"),enabled:!0,tooltip:P.some("Reveal or hide additional toolbar items")},P.none(),n.providers,[],"overflow-button")},splitToolbarBehaviours:hI(n,s)}},HY=n=>{const s=gI(n),i=4,f=IL.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return IL.sketch({...s,lazySink:n.getSink,getOverflowBounds:()=>{const b=n.moreDrawerData.lazyHeader().element,w=Nh(b),S=bp(b),D=Nh(S),B=Math.max(S.dom.scrollHeight,D.height);return Fi(w.x+i,D.y,w.width-i*2,B)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n.attributes}}},components:[f],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:b=>n.onToggled(b,!0),onClosed:b=>n.onToggled(b,!1)})},zY=n=>{const s=q5.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=q5.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),f=gI(n);return q5.sketch({...f,components:[s,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:b=>{b.getSystem().broadcastOn([$R()],{type:"opened"}),n.onToggled(b,!0)},onClosed:b=>{b.getSystem().broadcastOn([$R()],{type:"closed"}),n.onToggled(b,!1)}})},e3=n=>{const s=n.cyclicKeying?"cyclic":"acyclic";return g0.sketch({uid:n.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(n.type===ih.scrolling?["tox-toolbar--scrolling"]:[])},components:[g0.parts.groups({})],toolbarBehaviours:hI(n,s)})},jY=(n,s)=>{const i=n.type==="togglebutton",f=n.icon.map(Ee=>Cv(Ee,s.icons)).map(ur),w=Ee=>{const Ke=Tn=>{f.map(Xt=>Xt.getOpt(Ee).each(nn=>{Po.set(nn,[Cv(Tn,s.icons)])}))},ot=Tn=>{const Xt=Ee.element;Tn?(Qs(Xt,"tox-button--enabled"),co(Xt,"aria-pressed",!0)):(ma(Xt,"tox-button--enabled"),rr(Xt,"aria-pressed"))},wt=()=>ka(Ee.element,"tox-button--enabled"),_t=()=>Pa(Ee.element);if(i)return n.onAction({setIcon:Ke,setActive:ot,isActive:wt,focus:_t});if(n.type==="button")return n.onAction({setIcon:Ke})},S={...n,name:i?n.text.getOr(n.icon.getOr("")):n.text??n.icon.getOr(""),primary:n.buttonType==="primary",buttonType:P.from(n.buttonType),tooltip:n.tooltip,icon:n.icon,enabled:!0,borderless:n.borderless},D=wR(n.buttonType??"secondary"),B=i?n.text.map(s.translate):P.some(s.translate(n.text)),z=B.map(Na),Z=S.tooltip.or(B).map(Ee=>({"aria-label":s.translate(Ee)})).getOr({}),K=f.map(Ee=>Ee.asSpec()),ie=T1([K,z]),he=n.icon.isSome()&&z.isSome(),xe={tag:"button",classes:D.concat(...n.icon.isSome()&&!he?["tox-button--icon"]:[]).concat(...he?["tox-button--icon-and-text"]:[]).concat(...n.borderless?["tox-button--naked"]:[]).concat(...n.type==="togglebutton"&&n.active?["tox-button--enabled"]:[]),attributes:Z},De=[],Ie=V4(S,P.some(w),De,xe,ie,n.tooltip,s);return rc.sketch(Ie)},VR=(n,s)=>jY(n,s),pI=(n,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:He(n.buttons,i=>VR(i,s))}),UR=Za().deviceType,VY=UR.isPhone(),bI=UR.isTablet(),UY=n=>{let s=!1;const i=He(n.buttons,f=>f.type==="group"?(s=!0,pI(f,n.providers)):VR(f,n.providers));return{uid:n.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...VY||bI?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:a([Qe.config({}),io.config({mode:"flow",selector:"button, .tox-button",focusInside:Fg.OnEnterOrSpaceMode})]),components:s?i:[d0.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),d0.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:i})]}},ZY=n=>({uid:n.uid,behaviours:a([Qe.config({}),ca.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}}),yI=(n,s,i,f)=>{const b={getPane:w=>Ac.getPart(w,n,"pane"),getOnShow:w=>n.viewConfig.onShow,getOnHide:w=>n.viewConfig.onHide};return{uid:n.uid,dom:n.dom,components:s,behaviours:a([Qe.config({}),io.config({mode:"cyclic",focusInside:Fg.OnEnterOrSpaceMode})]),apis:b}};var u2=pf({name:"silver.View",configFields:[Zt("viewConfig")],partFields:[mu({factory:{sketch:UY},schema:[Zt("buttons"),Zt("providers")],name:"header"}),mu({factory:{sketch:ZY},schema:[],name:"pane"})],factory:yI,apis:{getPane:(n,s)=>n.getPane(s),getOnShow:(n,s)=>n.getOnShow(s),getOnHide:(n,s)=>n.getOnHide(s)}});const vI=(n,s,i)=>Is(s,(f,b)=>{const w=Ju(eG(f));return n.slot(b,u2.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:w,components:[...w.buttons.length>0?[u2.parts.header({buttons:w.buttons,providers:i})]:[],u2.parts.pane({})]}))}),WY=(n,s)=>bu.sketch(i=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:vI(i,n,s),slotBehaviours:Jw.unnamedEvents([Rr(f=>bu.hideAllSlots(f))])})),xI=n=>Be(bu.getSlotNames(n),s=>bu.isShowing(n,s)),qY=n=>{const s=n.element;wo(s,"display","none"),co(s,"aria-hidden","true")},wI=n=>{const s=n.element;rs(s,"display"),rr(s,"aria-hidden")},GY=n=>({getContainer:ae(n)}),CI=(n,s,i)=>{bu.getSlot(n,s).each(f=>{u2.getPane(f).each(b=>{i(f)(GY(b.element.dom))})})},KY=(n,s)=>CI(n,s,u2.getOnShow),YY=(n,s)=>CI(n,s,u2.getOnHide);var t3=oh({factory:(n,s)=>{const w={setViews:(S,D)=>{Po.set(S,[WY(D,s.backstage.shared.providers)])},whichView:S=>Ft.getCurrent(S).bind(xI),toggleView:(S,D,B,z)=>Ft.getCurrent(S).exists(Z=>{const K=xI(Z),ie=K.exists(xe=>z===xe),he=bu.getSlot(Z,z).isSome();return he&&(bu.hideAllSlots(Z),ie?(qY(S),D()):(B(),wI(S),bu.showSlot(Z,z),KY(Z,z)),K.each(xe=>YY(Z,xe))),he})};return{uid:n.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:a([Po.config({}),Ft.config({find:S=>{const D=Po.contents(S);return Un(D)}})]),apis:w}},name:"silver.ViewWrapper",configFields:[Zt("backstage")],apis:{setViews:(n,s,i)=>n.setViews(s,i),toggleView:(n,s,i,f,b)=>n.toggleView(s,i,f,b),whichView:(n,s)=>n.whichView(s)}});const XY=(n,s,i)=>{let f=!1;const b=S=>{my(S,".tox-statusbar").each(D=>{hr(D,"display")==="none"&&Jr(D,"aria-hidden")==="true"?(rs(D,"display"),rr(D,"aria-hidden")):(wo(D,"display","none"),co(D,"aria-hidden","true"))})},w={getSocket:S=>Ac.getPart(S,n,"socket"),setSidebar:(S,D,B)=>{Ac.getPart(S,n,"sidebar").each(z=>uI(z,D,B))},toggleSidebar:(S,D)=>{Ac.getPart(S,n,"sidebar").each(B=>tT(B,D))},whichSidebar:S=>Ac.getPart(S,n,"sidebar").bind(FY).getOrNull(),getHeader:S=>Ac.getPart(S,n,"header"),getToolbar:S=>Ac.getPart(S,n,"toolbar"),setToolbar:(S,D)=>{Ac.getPart(S,n,"toolbar").each(B=>{const z=He(D,J4);B.getApis().setGroups(B,z)})},setToolbars:(S,D)=>{Ac.getPart(S,n,"multiple-toolbar").each(B=>{const z=He(D,Z=>He(Z,J4));p8.setItems(B,z)})},refreshToolbar:S=>{Ac.getPart(S,n,"toolbar").each(B=>B.getApis().refresh(B))},toggleToolbarDrawer:S=>{Ac.getPart(S,n,"toolbar").each(D=>{oa(D.getApis().toggle,B=>B(D))})},toggleToolbarDrawerWithoutFocusing:S=>{Ac.getPart(S,n,"toolbar").each(D=>{oa(D.getApis().toggleWithoutFocusing,B=>B(D))})},isToolbarDrawerToggled:S=>Ac.getPart(S,n,"toolbar").bind(D=>P.from(D.getApis().isOpen).map(B=>B(D))).getOr(!1),getThrobber:S=>Ac.getPart(S,n,"throbber"),focusToolbar:S=>{Ac.getPart(S,n,"toolbar").orThunk(()=>Ac.getPart(S,n,"multiple-toolbar")).each(B=>{io.focusIn(B)})},setMenubar:(S,D)=>{Ac.getPart(S,n,"menubar").each(B=>{aI.setMenus(B,D)})},focusMenubar:S=>{Ac.getPart(S,n,"menubar").each(D=>{aI.focus(D)})},setViews:(S,D)=>{Ac.getPart(S,n,"viewWrapper").each(B=>{t3.setViews(B,D)})},toggleView:(S,D)=>Ac.getPart(S,n,"viewWrapper").exists(B=>t3.toggleView(B,()=>w.showMainView(S),()=>w.hideMainView(S),D)),whichView:S=>Ac.getPart(S,n,"viewWrapper").bind(t3.whichView).getOrNull(),hideMainView:S=>{f=w.isToolbarDrawerToggled(S),f&&w.toggleToolbarDrawer(S),Ac.getPart(S,n,"editorContainer").each(D=>{const B=D.element;b(B),wo(B,"display","none"),co(B,"aria-hidden","true")})},showMainView:S=>{f&&w.toggleToolbarDrawer(S),Ac.getPart(S,n,"editorContainer").each(D=>{const B=D.element;b(B),rs(B,"display"),rr(B,"aria-hidden")})}};return{uid:n.uid,dom:n.dom,components:s,apis:w,behaviours:n.behaviours}},QY=rh.optional({factory:aI,name:"menubar",schema:[Zt("backstage")]}),JY=n=>n.type===ih.sliding?zY:n.type===ih.floating?HY:e3,eX=rh.optional({factory:{sketch:n=>p8.sketch({uid:n.uid,dom:n.dom,listBehaviours:a([io.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>e3({type:n.type,uid:me("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:n.providers,onEscape:()=>(n.onEscape(),P.some(!0))}),setupItem:(s,i,f,b)=>{g0.setGroups(i,f)},shell:!0})},name:"multiple-toolbar",schema:[Zt("dom"),Zt("onEscape")]}),ZR=rh.optional({factory:{sketch:n=>{const s=JY(n),i={type:n.type,uid:n.uid,onEscape:()=>(n.onEscape(),P.some(!0)),onToggled:(f,b)=>n.onToolbarToggled(b),cyclicKeying:!1,initGroups:[],getSink:n.getSink,providers:n.providers,moreDrawerData:{lazyToolbar:n.lazyToolbar,lazyMoreButton:n.lazyMoreButton,lazyHeader:n.lazyHeader},attributes:n.attributes};return s(i)}},name:"toolbar",schema:[Zt("dom"),Zt("onEscape"),Zt("getSink")]}),tX=rh.optional({factory:{sketch:RY},name:"header",schema:[Zt("dom")]}),nX=rh.optional({factory:{sketch:MY},name:"promotion",schema:[Zt("dom"),Zt("promotionLink")]}),SI=rh.optional({name:"socket",schema:[Zt("dom")]}),EI=rh.optional({factory:{sketch:X4},name:"sidebar",schema:[Zt("dom")]}),oX=rh.optional({factory:{sketch:Q4},name:"throbber",schema:[Zt("dom")]}),sX=rh.optional({factory:t3,name:"viewWrapper",schema:[Zt("backstage")]}),rX=n=>({uid:n.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:n.components}),aX=rh.optional({factory:{sketch:rX},name:"editorContainer",schema:[]});var Zr=pf({name:"OuterContainer",factory:XY,configFields:[Zt("dom"),Zt("behaviours")],partFields:[tX,QY,ZR,eX,SI,EI,nX,oX,sX,aX],apis:{getSocket:(n,s)=>n.getSocket(s),setSidebar:(n,s,i,f)=>{n.setSidebar(s,i,f)},toggleSidebar:(n,s,i)=>{n.toggleSidebar(s,i)},whichSidebar:(n,s)=>n.whichSidebar(s),getHeader:(n,s)=>n.getHeader(s),getToolbar:(n,s)=>n.getToolbar(s),setToolbar:(n,s,i)=>{n.setToolbar(s,i)},setToolbars:(n,s,i)=>{n.setToolbars(s,i)},refreshToolbar:(n,s)=>n.refreshToolbar(s),toggleToolbarDrawer:(n,s)=>{n.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(n,s)=>{n.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(n,s)=>n.isToolbarDrawerToggled(s),getThrobber:(n,s)=>n.getThrobber(s),setMenubar:(n,s,i)=>{n.setMenubar(s,i)},focusMenubar:(n,s)=>{n.focusMenubar(s)},focusToolbar:(n,s)=>{n.focusToolbar(s)},setViews:(n,s,i)=>{n.setViews(s,i)},toggleView:(n,s,i)=>n.toggleView(s,i),whichView:(n,s)=>n.whichView(s)}});const iX="file edit view insert format tools table help",WR={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code suggestededits revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image video link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},n3=(n,s,i)=>{const f=QL(i).split(/[ ,]/);return{text:n.title,getItems:()=>Le(n.items,b=>{const w=b.toLowerCase();return w.trim().length===0?[]:Pt(f,S=>S===w)?[]:w==="separator"||w==="|"?[{type:"separator"}]:s.menuItems[w]?[s.menuItems[w]]:[]})}},nT=n=>n.split(" "),TI=(n,s)=>{const i={...WR,...s.menus},f=Io(s.menus).length>0,b=s.menubar===void 0||s.menubar===!0?nT(iX):nT(s.menubar===!1?"":s.menubar),w=Eo(b,D=>{const B=Yo(WR,D);return f?B||$n(s.menus,D).exists(z=>Yo(z,"items")):B}),S=He(w,D=>{const B=i[D];return n3({title:B.title,items:nT(B.items)},s,n)});return Eo(S,D=>{const B=z=>I(z)||z.type!=="separator";return D.getItems().length>0&&Pt(D.getItems(),B)})},lX=n=>{const s=()=>{n._skinLoaded=!0,YP(n)};return()=>{n.initialized?s():n.on("init",s)}},AI=(n,s)=>()=>v4(n,{message:s}),cX=n=>{const s=gE(n);return s?P.from(s):P.none()},kI=(n,s,i)=>(n.on("remove",()=>i.unload(s)),i.load(s)),o3=(n,s,i,f)=>(n.on("remove",()=>f.unloadRawCss(s)),f.loadRawCss(s,i)),_I=(n,s)=>"ui/"+n+"/"+s,uX=n=>P.from(tinymce.Resource.get(n)).filter(I),qR=(n,s,i="")=>{const f=cX(n).map(w=>_I(w,`${s}.css`)),b=f.bind(uX);return ws(f,b,(w,S)=>({_kind:"load-raw",key:w,css:S})).getOrThunk(()=>{const w=n.editorManager.suffix;return{_kind:"load-stylesheet",url:i+`/${s}${w}.css`}})},GR=(n,s)=>{const i=n.ui.styleSheetLoader,f=qR(n,"skin",s);switch(f._kind){case"load-raw":const{key:b,css:w}=f;return o3(n,b,w,i),Promise.resolve();case"load-stylesheet":const{url:S}=f;return kI(n,S,i);default:return Promise.resolve()}},dX=(n,s)=>{if(wd(un.fromDom(n.getElement()))){const f=Fw.DOM.styleSheetLoader,b=qR(n,"skin.shadowdom",s);switch(b._kind){case"load-raw":const{key:w,css:S}=b;return o3(n,w,S,f),Promise.resolve();case"load-stylesheet":const{url:D}=b;return kI(n,D,f);default:return Promise.resolve()}}else return Promise.resolve()},fX=(n,s,i)=>{const b=qR(n,s?"content.inline":"content",i);switch(b._kind){case"load-raw":const{key:w,css:S}=b;return s?o3(n,w,S,n.ui.styleSheetLoader):n.on("PostRender",()=>{o3(n,w,S,n.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:D}=b;return i&&n.contentCSS.push(D),Promise.resolve();default:return Promise.resolve()}},DI=async(n,s)=>{const i=cO(s);if(await fX(s,n,i),!pE(s)&&I(i))return Promise.all([GR(s,i),dX(s,i)]).then()},OI=(n,s)=>DI(n,s).then(lX(s),AI(s,"Skin could not be loaded")),NI=dn(OI,!1),mX=dn(OI,!0),KR=n=>({isEnabled:()=>!Xn.isDisabled(n),setEnabled:s=>Xn.set(n,!s),setText:s=>no(n,ig,{text:s}),setIcon:s=>no(n,c2,{icon:s})}),hX=n=>({setActive:s=>{Ds.set(n,s)},isActive:()=>Ds.isOn(n),isEnabled:()=>!Xn.isDisabled(n),setEnabled:s=>Xn.set(n,!s),setText:s=>no(n,ig,{text:s}),setIcon:s=>no(n,c2,{icon:s})}),gX=(n,s)=>n.map(i=>({"aria-label":s.translate(i)})).getOr({}),pX=me("focus-button"),s3=(n,s,i,f,b,w,S)=>{const D=s.map(z=>ur(hR(z,"tox-tbtn",b))),B=n.map(z=>ur(Cv(z,b.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:{...gX(i,b),...$e(S)?{"data-mce-name":S}:{}}},components:T1([B.map(z=>z.asSpec()),D.map(z=>z.asSpec())]),eventOrder:{[du()]:["focusing","alloy.base.behaviour",D1],[Lc()]:[D1,"toolbar-group-button-events"],[wc()]:[D1,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:a([S0.toolbarButton(()=>b.checkUiComponentContext(w).shouldDisable),nl(()=>b.checkUiComponentContext(w)),de(D1,[Rr((z,Z)=>$4(z)),Nt(ig,(z,Z)=>{D.bind(K=>K.getOpt(z)).each(K=>{Po.set(K,[Na(b.translate(Z.event.text))])})}),Nt(c2,(z,Z)=>{B.bind(K=>K.getOpt(z)).each(K=>{Po.set(K,[Cv(Z.event.icon,b.icons)])})}),Nt(du(),(z,Z)=>{Z.event.prevent(),cs(z,pX)})])].concat(f.getOr([])))}},bX=(n,s,i,f,b)=>{const w=s.shared,S=Nn(J),D={toolbarButtonBehaviours:[],getApi:KR,onSetup:n.onSetup},B=[de("toolbar-group-button-events",[E0(D,S),bv(D,S)]),...n.tooltip.map(z=>ya.config(s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(z)}))).toArray()];return Zb.sketch({lazySink:w.getSink,fetch:()=>ss.nu(z=>{z(He(i(n.items),J4))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:s3(n.icon,n.text,n.tooltip,P.some(B),w.providers,n.context,b),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:f}}}})},RI=(n,s,i,f)=>{const b=Nn(J),w=s3(n.icon,n.text,n.tooltip,P.none(),i,n.context,f);return rc.sketch({dom:w.dom,components:w.components,eventOrder:fR,buttonBehaviours:{...a([de("toolbar-button-events",[bK({onAction:n.onAction,getApi:s.getApi}),E0(s,b),bv(s,b)]),...n.tooltip.map(S=>ya.config(i.tooltips.getConfig({tooltipText:i.translate(S)+n.shortcut.map(D=>` (${xN(D)})`).getOr("")}))).toArray(),S0.toolbarButton(()=>!n.enabled||i.checkUiComponentContext(n.context).shouldDisable),nl(()=>i.checkUiComponentContext(n.context))].concat(s.toolbarButtonBehaviours)),[D1]:w.buttonBehaviours?.[D1]}})},yX=(n,s,i)=>oT(n,s,[],i),oT=(n,s,i,f)=>RI(n,{toolbarButtonBehaviours:i.length>0?[de("toolbarButtonWith",i)]:[],getApi:KR,onSetup:n.onSetup},s,f),YR=(n,s,i)=>MI(n,s,[],i),MI=(n,s,i,f)=>RI(n,{toolbarButtonBehaviours:[Po.config({}),Ds.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[de("toolbarToggleButtonWith",i)]:[]),getApi:hX,onSetup:n.onSetup},s,f),vX=(n,s,i)=>f=>ss.nu(b=>s.fetch(b)).map(b=>P.from(tR(Wt(k4(me("menu-value"),b,w=>{s.onItemAction(n(f),w)},s.columns,s.presets,ip.CLOSE_ON_EXECUTE,s.select.getOr(yt),i),{movement:xv(s.columns,s.presets),menuBehaviours:Jw.unnamedEvents(s.columns!=="auto"?[]:[Rr((w,S)=>{bN(w,4,NO(s.presets)).each(({numRows:D,numColumns:B})=>{io.setGridSize(w,D,B)})})])})))),xX=(n,s,i)=>f=>{const b=f.getSystem(),w=f.element,S=()=>{const B=ka(w,"tox-split-button__chevron"),z=B?wl(w).bind(K=>b.getByDom(K).toOptional()):P.some(f),Z=B?P.some(f):Rm(w).bind(K=>b.getByDom(K).toOptional().filter(ie=>ka(ie.element,"tox-split-button__chevron")));return{mainOpt:z,chevronOpt:Z}},D=B=>{const{mainOpt:z,chevronOpt:Z}=S();z.each(B),Z.each(B)};return{isEnabled:()=>{const{mainOpt:B}=S();return B.exists(z=>!Xn.isDisabled(z))},setEnabled:B=>D(z=>Xn.set(z,!B)),setText:B=>{const{mainOpt:z}=S();z.each(Z=>no(Z,ig,{text:B}))},setIcon:B=>{const{mainOpt:z}=S();z.each(Z=>no(Z,c2,{icon:B}))},setIconFill:(B,z)=>D(Z=>{ar(Z.element,`svg path[class="${B}"], rect[class="${B}"]`).each(K=>{co(K,"fill",z)})}),isActive:()=>{const{mainOpt:B}=S();return B.exists(z=>Ds.isOn(z))},setActive:B=>{const{mainOpt:z}=S();z.each(Z=>Ds.set(Z,B))},setTooltip:B=>{n.set(B);const{mainOpt:z,chevronOpt:Z}=S();z.each(ie=>co(ie.element,"aria-label",s.providers.translate(B)));const K=i.chevronTooltip.map(ie=>s.providers.translate(ie)).getOr(s.providers.translate(B));Z.each(ie=>co(ie.element,"aria-label",K))}}},wX=(n,s,i)=>{const f=Nn(J),b=Nn(n.tooltip.getOr("")),w=xX(b,s,n),S=me("tox-split-menu"),D=Nn(!1),B=()=>({"aria-haspopup":"menu","aria-expanded":String(D.get()),"aria-controls":S}),z=()=>n.tooltip.map(De=>s.providers.translate(De)).getOr(s.providers.translate("Text color")),Z=()=>n.chevronTooltip.map(De=>s.providers.translate(De)).getOrThunk(()=>{const De=z();return s.providers.translate(["{0} menu",De])}),K=(De,Ie)=>{D.set(De),co(Ie.element,"aria-expanded",String(De))},ie=Gf.sketch({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:eW("chevron-down",s.providers.icons),attributes:{"aria-label":Z(),...$e(i)?{"data-mce-name":i+"-chevron"}:{},...B()}},components:[],toggleClass:"tox-tbtn--enabled",dropdownBehaviours:a([de("split-dropdown-events",[Rr((De,Ie)=>$4(De)),E0({getApi:w,onSetup:n.onSetup},f),Nt("alloy-dropdown-open",De=>K(!0,De)),Nt("alloy-dropdown-close",De=>K(!1,De))]),S0.toolbarButton(()=>s.providers.checkUiComponentContext(n.context).shouldDisable),nl(()=>s.providers.checkUiComponentContext(n.context)),m0.config({}),ya.config(s.providers.tooltips.getConfig({tooltipText:Z(),onShow:De=>{if(b.get()!==n.tooltip.getOr("")){const Ie=n.chevronTooltip.map(Ee=>s.providers.translate(Ee)).getOr(`${s.providers.translate(b.get())} menu`);ya.setComponents(De,s.providers.tooltips.getComponents({tooltipText:Ie}))}}}))]),lazySink:s.getSink,fetch:vX(w,n,s.providers),getHotspot:De=>wl(De.element).bind(Ie=>De.getSystem().getByDom(Ie).toOptional()),onOpen:(De,Ie,Ee)=>{lr.highlightBy(Ee,Ke=>ka(Ke.element,"tox-collection__item--active")),lr.getHighlighted(Ee).each(io.focusIn)},parts:{menu:{...TE(!1,n.columns,n.presets),dom:{...TE(!1,n.columns,n.presets).dom,tag:"div",attributes:{id:S}}}}}),he=s3(n.icon,n.text,P.none(),P.some([Ds.config({toggleClass:"tox-tbtn--enabled",aria:n.presets==="color"?{mode:"none"}:{mode:"pressed"},toggleOnExecute:!1}),...n.tooltip.isSome()?[ya.config(s.providers.tooltips.getConfig({tooltipText:s.providers.translate(n.tooltip.getOr("")),onShow:De=>{if(b.get()!==n.tooltip.getOr("")){const Ie=s.providers.translate(b.get());ya.setComponents(De,s.providers.tooltips.getComponents({tooltipText:Ie}))}}}))]:[]]),s.providers,n.context,i);return[rc.sketch({dom:{...he.dom,classes:["tox-tbtn","tox-split-button__main"].concat(n.text.isSome()?["tox-tbtn--select"]:[]),attributes:{"aria-label":z(),...$e(i)?{"data-mce-name":i}:{}}},components:he.components,eventOrder:he.eventOrder,buttonBehaviours:he.buttonBehaviours,action:De=>{if(n.onAction){const Ie=w(De);Ie.isEnabled()&&n.onAction(Ie)}}}),ie]},CX=".tox-toolbar-slider__input,.tox-toolbar-textfield",BI=n=>{hi.getContent(n).each(s=>{ar(s.element,CX).fold(()=>io.focusIn(s),Pa)})},SX=n=>ii(n.element).each(s=>{nu(s,'[tabindex="-1"]').each(i=>{Pa(i)})}),LI=me("forward-slide"),r3=me("backward-slide"),a3=me("change-slide-event"),fC="tox-pop--resizing",XR=n=>{const s=Nn([]);return{sketch:hi.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:f=>{s.set([]),hi.getContent(f).each(b=>{rs(b.element,"visibility")}),ma(f.element,fC),rs(f.element,"width")},onHide:()=>{s.set([]),n.onHide()},inlineBehaviours:a([de("context-toolbar-events",[t0(Fh(),(f,b)=>{b.event.raw.propertyName==="width"&&(ma(f.element,fC),rs(f.element,"width"))}),Nt(a3,(f,b)=>{const w=f.element;rs(w,"width");const S=Bi(w),D=ii(f.element).isSome();rs(w,"left"),rs(w,"right"),rs(w,"max-width"),hi.setContent(f,b.event.contents),Qs(w,fC);const B=Bi(w);wo(w,"transition","none"),hi.reposition(f),rs(w,"transition"),wo(w,"width",S+"px"),b.event.focus.fold(()=>{D&&BI(f)},z=>{ai(Ai(f.element)).fold(()=>Pa(z),Z=>{oe(Z,z)||n.focusElement(z)})}),setTimeout(()=>{wo(f.element,"width",B+"px")},0)}),Nt(LI,(f,b)=>{hi.getContent(f).each(w=>{s.set(s.get().concat([{bar:w,focus:ai(Ai(f.element))}]))}),no(f,a3,{contents:b.event.forwardContents,focus:P.none()})}),Nt(r3,(f,b)=>{n.onBack(),Qo(s.get()).each(w=>{s.set(s.get().slice(0,s.get().length-1)),no(f,a3,{contents:_(w.bar),focus:w.focus})})})]),io.config({mode:"special",onEscape:f=>Qo(s.get()).fold(()=>n.onEscape(),b=>(cs(f,r3),P.some(!0)))})]),lazySink:()=>Bn.value(n.sink)}),inSubtoolbar:()=>s.get().length>0}},FI=(n,s)=>{const i=Ju(E1({type:"button",icon:"chevron-left",tooltip:"Back",onAction:J}));return oT(i,s.shared.providers,[Nt(dR,f=>{cs(f,r3)})])},cg=(n,s,i)=>Ri(i)?n.translate(s):n.translate([s,n.translate(i)]),PI=(n,s)=>{const i=(S,D,B,z)=>{const Z=n.shared.providers.translate(S.title);if(S.type==="separator")return P.some({type:"separator",text:Z});if(S.type==="submenu"){const K=Le(S.getStyleItems(),ie=>f(ie,D,z));return D===0&&K.length<=0?P.none():P.some({type:"nestedmenuitem",text:Z,enabled:K.length>0,getSubmenuItems:()=>Le(S.getStyleItems(),ie=>f(ie,D,z))})}else return P.some({type:"togglemenuitem",text:Z,icon:S.icon,active:S.isSelected(z),enabled:!B,onAction:s.onAction(S),...S.getStylePreview().fold(()=>({}),K=>({meta:{style:K}}))})},f=(S,D,B)=>{const z=S.type==="formatter"&&s.isInvalid(S);return D===0?z?[]:i(S,D,!1,B).toArray():i(S,D,z,B).toArray()},b=S=>{const D=s.getCurrentValue(),B=s.shouldHide?0:1;return Le(S,z=>f(z,B,D))};return{validateItems:b,getFetch:(S,D)=>(B,z)=>{const Z=D(),K=b(Z),ie=ny(K,ip.CLOSE_ON_EXECUTE,S,{isHorizontalMenu:!1,search:P.none()});z(ie)}}},mC=(n,s)=>{const i=s.dataset,f=i.type==="basic"?()=>He(i.data,b=>P$(b,s.isSelectedFor,s.getPreviewFor)):i.getData;return{items:PI(n,s),getStyleItems:f}},sT=(n,s,i,f,b,w)=>{const{items:S,getStyleItems:D}=mC(s,i),B=Nn(i.tooltip),z=K=>({getComponent:ae(K),setTooltip:ie=>{const he=s.shared.providers.translate(ie);co(K.element,"aria-label",he),B.set(ie)}}),Z=K=>{const ie=he=>K.setTooltip(cg(n,f(he.value),he.value));return n.on(b,ie),r2(vv(n,"NodeChange",he=>{const xe=he.getComponent();i.updateText(xe),Xn.set(he.getComponent(),!n.selection.isEditable()||D().length===0)})(K),()=>n.off(b,ie))};return gR({context:"mode:design",text:i.icon.isSome()?P.none():i.text,icon:i.icon,ariaLabel:P.some(i.tooltip),tooltip:P.none(),role:P.none(),fetch:S.getFetch(s,D),onSetup:Z,getApi:z,columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[ya.config({...s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(i.tooltip),onShow:K=>{if(i.tooltip!==B.get()){const ie=s.shared.providers.translate(B.get());ya.setComponents(K,s.shared.providers.tooltips.getComponents({tooltipText:ie}))}}})})]},"tox-tbtn",s.shared,w)},EX=n=>He(n,s=>{let i=s,f=s;const b=s.split("=");return b.length>1&&(i=b[0],f=b[1]),{title:i,format:f}}),TX=n=>({type:"basic",data:n});var hC;(function(n){n[n.SemiColon=0]="SemiColon",n[n.Space=1]="Space"})(hC||(hC={}));const AX=(n,s)=>s===hC.SemiColon?n.replace(/;$/,"").split(";"):n.split(" "),QR=(n,s,i)=>{const f=n.options.get(s);return{type:"basic",data:EX(AX(f,i))}},$I="Align",II=ae("Alignment {0}"),HI="left",rT=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],zI=n=>{const s=()=>Be(rT,D=>n.formatter.match(D.format)),i=D=>()=>n.formatter.match(D),f=D=>P.none,b=D=>{const z=s().fold(ae(HI),Z=>Z.title.toLowerCase());no(D,c2,{icon:`align-${z}`}),QP(n,{value:z})},w=TX(rT),S=D=>()=>Be(rT,B=>B.format===D.format).each(B=>n.execCommand(B.command));return{tooltip:cg(n,II(),HI),text:P.none(),icon:P.some("align-left"),isSelectedFor:i,getCurrentValue:P.none,getPreviewFor:f,onAction:S,updateText:b,dataset:w,shouldHide:!1,isInvalid:D=>!n.formatter.canApply(D.format)}},kX=(n,s)=>sT(n,s,zI(n),II,"AlignTextUpdate","align"),_X=(n,s)=>{const i=mC(s,zI(n));n.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate($I),onSetup:zc(n),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},jI=(n,s)=>{const i=s(),f=He(i,b=>b.format);return P.from(n.formatter.closest(f)).bind(b=>Be(i,w=>w.format===b))},DX="Blocks",VI=ae("Block {0}"),i3="Paragraph",JR=n=>{const s=w=>()=>n.formatter.match(w),i=w=>()=>{const S=n.formatter.get(w);return S?P.some({tag:S.length>0&&(S[0].inline||S[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(w))}):P.none()},f=w=>{const D=jI(n,()=>b.data).fold(ae(i3),B=>B.title);no(w,ig,{text:D}),x4(n,{value:D})},b=QR(n,"block_formats",hC.SemiColon);return{tooltip:cg(n,VI(),i3),text:P.some(i3),icon:P.none(),isSelectedFor:s,getCurrentValue:P.none,getPreviewFor:i,onAction:w4(n),updateText:f,dataset:b,shouldHide:!1,isInvalid:w=>!n.formatter.canApply(w.format)}},UI=(n,s)=>sT(n,s,JR(n),VI,"BlocksTextUpdate","blocks"),OX=(n,s)=>{const i=mC(s,JR(n));n.ui.registry.addNestedMenuItem("blocks",{text:DX,onSetup:zc(n),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},ZI="Fonts",WI=ae("Font {0}"),eM="System Font",NX=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],tM=n=>{const s=n.split(/\s*,\s*/);return He(s,i=>i.replace(/^['"]+|['"]+$/g,""))},qI=(n,s)=>s.length>0&&Je(s,i=>n.indexOf(i.toLowerCase())>-1),GI=(n,s)=>{if(n.indexOf("-apple-system")===0||s.length>0){const i=tM(n.toLowerCase());return qI(i,NX)||qI(i,s)}else return!1},KI=n=>{const s=()=>{const B=xe=>xe?tM(xe)[0]:"",z=n.queryCommandValue("FontName"),Z=D.data,K=z?z.toLowerCase():"",ie=gF(n);return{matchOpt:Be(Z,xe=>{const De=xe.format;return De.toLowerCase()===K||B(De).toLowerCase()===B(K).toLowerCase()}).orThunk(()=>Ca(GI(K,ie),{title:eM,format:K})),font:z}},i=B=>z=>z.exists(Z=>Z.format===B),f=()=>{const{matchOpt:B}=s();return B},b=B=>()=>P.some({tag:"div",styles:B.indexOf("dings")===-1?{"font-family":B}:{}}),w=B=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontName",!1,B.format)})},S=B=>{const{matchOpt:z,font:Z}=s(),K=z.fold(ae(Z),ie=>ie.title);no(B,ig,{text:K}),xG(n,{value:K})},D=QR(n,"font_family_formats",hC.SemiColon);return{tooltip:cg(n,WI(),eM),text:P.some(eM),icon:P.none(),isSelectedFor:i,getCurrentValue:f,getPreviewFor:b,onAction:w,updateText:S,dataset:D,shouldHide:!1,isInvalid:yt}},RX=(n,s)=>sT(n,s,KI(n),WI,"FontFamilyTextUpdate","fontfamily"),MX=(n,s)=>{const i=mC(s,KI(n));n.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate(ZI),onSetup:zc(n),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})};var l3=tinymce.util.Tools.resolve("tinymce.util.VK");const BX=(n,s,i,f)=>{let b=P.none();const w=ot=>ot.map(wt=>Pn.getValue(wt)).getOr(""),S=vv(n,"NodeChange SwitchMode DisabledStateChange",ot=>{const wt=ot.getComponent();b=P.some(wt),i.updateInputValue(wt),Xn.set(wt,!n.selection.isEditable()||zk(n))}),D=ot=>({getComponent:ae(ot)}),B=Nn(J),z=me("custom-number-input-events"),Z=(ot,wt,_t)=>{const Tn=w(b),Xt=i.getNewValue(Tn,ot),nn=Tn.length-`${Xt}`.length,tn=b.map(Qn=>Qn.element.dom.selectionStart-nn),fo=b.map(Qn=>Qn.element.dom.selectionEnd-nn);i.onAction(Xt,_t),b.each(Qn=>{Pn.setValue(Qn,Xt),wt&&(tn.each(hs=>Qn.element.dom.selectionStart=hs),fo.each(hs=>Qn.element.dom.selectionEnd=hs))})},K=(ot,wt)=>Z((_t,Tn)=>_t-Tn,ot,wt),ie=(ot,wt)=>Z((_t,Tn)=>_t+Tn,ot,wt),he=ot=>Au(ot.element).fold(P.none,wt=>(Pa(wt),P.some(!0))),xe=ot=>eu(ot.element)?(es(ot.element).each(wt=>Pa(wt)),P.some(!0)):P.none(),De=(ot,wt,_t,Tn)=>{const Xt=Nn(J),nn=s.shared.providers.translate(_t),tn=me("altExecuting"),fo=vv(n,"NodeChange SwitchMode DisabledStateChange",hs=>{Xn.set(hs.getComponent(),!n.selection.isEditable()||zk(n))}),Qn=hs=>{Xn.isDisabled(hs)||ot(!0)};return rc.sketch({dom:{tag:"button",attributes:{"aria-label":nn,"data-mce-name":wt},classes:Tn.concat(wt)},components:[mR(wt,s.shared.providers.icons)],buttonBehaviours:a([Xn.config({}),ya.config(s.shared.providers.tooltips.getConfig({tooltipText:nn})),de(tn,[E0({onSetup:fo,getApi:D},Xt),bv({getApi:D},Xt),Nt(Ki(),(hs,mo)=>{(mo.event.raw.keyCode===l3.SPACEBAR||mo.event.raw.keyCode===l3.ENTER)&&(Xn.isDisabled(hs)||ot(!1))}),Nt(dm(),Qn),Nt($l(),Qn)])]),eventOrder:{[Ki()]:[tn,"keying"],[dm()]:[tn,"alloy.base.behaviour"],[$l()]:[tn,"alloy.base.behaviour"],[Lc()]:["alloy.base.behaviour",tn,"tooltipping"],[wc()]:[tn,"tooltipping"]}})},Ie=ur(De(ot=>K(!1,ot),"minus","Decrease font size",[])),Ee=ur(De(ot=>ie(!1,ot),"plus","Increase font size",[])),Ke=ur({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[C1.sketch({inputBehaviours:a([Xn.config({}),de(z,[E0({onSetup:S,getApi:D},B),bv({getApi:D},B)]),de("input-update-display-text",[Nt(ig,(ot,wt)=>{Pn.setValue(ot,wt.event.text)}),Nt(lb(),ot=>{i.onAction(Pn.getValue(ot))}),Nt(Lf(),ot=>{i.onAction(Pn.getValue(ot))})]),io.config({mode:"special",onEnter:ot=>(Z(lt,!0,!0),P.some(!0)),onEscape:he,onUp:ot=>(ie(!0,!1),P.some(!0)),onDown:ot=>(K(!0,!1),P.some(!0)),onLeft:(ot,wt)=>(wt.cut(),P.none()),onRight:(ot,wt)=>(wt.cut(),P.none())})])})],behaviours:a([Qe.config({}),io.config({mode:"special",onEnter:xe,onSpace:xe,onEscape:he}),de("input-wrapper-events",[Nt(Jl(),ot=>{dt([Ie,Ee],wt=>{const _t=un.fromDom(wt.get(ot).element.dom);eu(_t)&&fa(_t)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...$e(f)?{"data-mce-name":f}:{}}},components:[Ie.asSpec(),Ke.asSpec(),Ee.asSpec()],behaviours:a([Qe.config({}),io.config({mode:"flow",focusInside:Fg.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:ot=>eu(ot.element)?P.none():(Pa(ot.element),P.some(!0))})])}},LX="Font sizes",YI=ae("Font size {0}"),nM="12pt",FX={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},PX={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},$X=(n,s)=>{const i=Math.pow(10,s);return Math.round(n*i)/i},IX=(n,s)=>/[0-9.]+px$/.test(n)?$X(parseInt(n,10)*72/96,s||0)+"pt":$n(PX,n).getOr(n),HX=n=>$n(FX,n).getOr(""),XI=n=>{const s=()=>{let B=P.none();const z=D.data,Z=n.queryCommandValue("FontSize");if(Z)for(let K=3;B.isNone()&&K>=0;K--){const ie=IX(Z,K),he=HX(ie);B=Be(z,xe=>xe.format===Z||xe.format===ie||xe.format===he)}return{matchOpt:B,size:Z}},i=B=>z=>z.exists(Z=>Z.format===B),f=()=>{const{matchOpt:B}=s();return B},b=ae(P.none),w=B=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontSize",!1,B.format)})},S=B=>{const{matchOpt:z,size:Z}=s(),K=z.fold(ae(Z),ie=>ie.title);no(B,ig,{text:K}),vG(n,{value:K})},D=QR(n,"font_size_formats",hC.Space);return{tooltip:cg(n,YI(),nM),text:P.some(nM),icon:P.none(),isSelectedFor:i,getPreviewFor:b,getCurrentValue:f,onAction:w,updateText:S,dataset:D,shouldHide:!1,isInvalid:yt}},zX=(n,s)=>sT(n,s,XI(n),YI,"FontSizeTextUpdate","fontsize"),QI=n=>{const s={step:1};return{em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[n]??s},jX=16,VX=n=>n>=0,JI=n=>{const s=()=>n.queryCommandValue("FontSize");return{updateInputValue:f=>no(f,ig,{text:s()}),onAction:(f,b)=>n.execCommand("FontSize",!1,f,{skip_focus:!b}),getNewValue:(f,b)=>{Ps(f,["unsupportedLength","empty"]);const w=s(),S=Ps(f,["unsupportedLength","empty"]).or(Ps(w,["unsupportedLength","empty"])),D=S.map(ie=>ie.value).getOr(jX),B=Zk(n),z=S.map(ie=>ie.unit).filter(ie=>ie!=="").getOr(B),Z=b(D,QI(z).step),K=`${VX(Z)?Z:D}${z}`;return K!==w&&A1(n,{value:K}),K}}},UX=(n,s)=>BX(n,s,JI(n),"fontsizeinput"),e9=(n,s)=>{const i=mC(s,XI(n));n.ui.registry.addNestedMenuItem("fontsize",{text:LX,onSetup:zc(n),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},t9="Formats",n9=n=>Ri(n)?"Formats":"Format {0}",o9=(n,s)=>{const i="Formats",f=S=>()=>n.formatter.match(S),b=S=>()=>{const D=n.formatter.get(S);return D!==void 0?P.some({tag:D.length>0&&(D[0].inline||D[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(S))}):P.none()},w=S=>{const D=K=>nY(K)?Le(K.items,D):R$(K)?[{title:K.title,format:K.format}]:[],B=Le(F$(n),D),Z=jI(n,ae(B)).fold(ae({title:i,tooltipLabel:""}),K=>({title:K.title,tooltipLabel:K.title}));no(S,ig,{text:Z.title}),yG(n,{value:Z.tooltipLabel})};return{tooltip:cg(n,n9(""),""),text:P.some(i),icon:P.none(),isSelectedFor:f,getCurrentValue:P.none,getPreviewFor:b,onAction:w4(n),updateText:w,shouldHide:oO(n),isInvalid:S=>!n.formatter.canApply(S.format),dataset:s}},ZX=(n,s)=>{const i={type:"advanced",...s.styles};return sT(n,s,o9(n,i),n9,"StylesTextUpdate","styles")},gC=(n,s)=>{const i={type:"advanced",...s.styles},f=mC(s,o9(n,i));n.ui.registry.addNestedMenuItem("styles",{text:t9,onSetup:zc(n,()=>f.getStyleItems().length>0),getSubmenuItems:()=>f.items.validateItems(f.getStyleItems())})},WX=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],aT=(n,s)=>(i,f,b,w)=>{const S=n(i).mapError(D=>Mg(D)).getOrDie();return s(S,f,b,w)},qX={button:aT(E1,(n,s,i,f)=>yX(n,s.shared.providers,f)),togglebutton:aT(aN,(n,s,i,f)=>YR(n,s.shared.providers,f)),menubutton:aT(tN,(n,s,i,f)=>qE(n,"tox-tbtn",s,P.none(),!1,f)),splitbutton:aT(Gq,(n,s,i,f)=>wX(n,s.shared,f)),grouptoolbarbutton:aT(gN,(n,s,i,f)=>{const b=i.ui.registry.getAll().buttons,w=D=>c3(i,{buttons:b,toolbar:D,allowToolbarGroups:!1},s,P.none()),S={[Qp]:s.shared.header.isPositionedAtTop()?Vf.TopToBottom:Vf.BottomToTop};if(Vx(i)===ih.floating)return bX(n,s,w,S,f);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},GX=(n,s,i,f)=>$n(qX,n.type).fold(()=>(console.error("skipping button defined by",n),P.none()),b=>P.some(b(n,s,i,f))),s9={styles:ZX,fontsize:zX,fontsizeinput:UX,fontfamily:RX,blocks:UI,align:kX,navigateback:FI},KX=n=>{const s=He(WX,i=>{const f=Eo(i.items,b=>Yo(n,b)||Yo(s9,b));return{name:i.name,items:f}});return Eo(s,i=>i.items.length>0)},YX=n=>{const s=n.split("|");return He(s,i=>({items:i.trim().split(" ")}))},XX=n=>Oe(n,s=>(Yo(s,"name")||Yo(s,"label"))&&Yo(s,"items")),oM=n=>{const s=n.toolbar,i=n.buttons;return s===!1?[]:s===void 0||s===!0?KX(i):I(s)?YX(s):XX(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},QX=(n,s,i,f,b,w)=>$n(s,i.toLowerCase()).orThunk(()=>w.bind(S=>gs(S,D=>$n(s,D+i.toLowerCase())))).fold(()=>$n(s9,i.toLowerCase()).map(S=>S(n,b)),S=>S.type==="grouptoolbarbutton"&&!f?(console.warn(`Ignoring the '${i}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),P.none()):GX(S,b,n,i.toLowerCase())),c3=(n,s,i,f)=>{const b=oM(s),w=He(b,S=>{const D=Le(S.items,B=>B.trim().length===0?[]:QX(n,s.buttons,B,s.allowToolbarGroups,i,f).map(z=>Array.isArray(z)?z:[z]).getOr([]));return{title:P.from(n.translate(S.name)),label:Ca(S.label!==void 0,n.translate(S.label)),items:D}});return Eo(w,S=>S.items.length>0)},sM=(n,s,i,f)=>{const b=s.mainUi.outerContainer,w=i.toolbar,S=i.buttons;if(Oe(w,I)){const D=w.map(B=>{const z={toolbar:B,buttons:S,allowToolbarGroups:i.allowToolbarGroups};return c3(n,z,f,P.none())});Zr.setToolbars(b,D)}else Zr.setToolbar(b,c3(n,i,f,P.none()))},rM=Za(),JX=rM.os.isiOS()&&rM.os.version.major<=12,eQ=(n,s)=>{const{uiMotherships:i}=s,f=n.dom;let b=n.getWin();const w=n.getDoc().documentElement,S=Nn(cr(b.innerWidth,b.innerHeight)),D=Nn(cr(w.offsetWidth,w.offsetHeight)),B=()=>{const ie=S.get();(ie.left!==b.innerWidth||ie.top!==b.innerHeight)&&(S.set(cr(b.innerWidth,b.innerHeight)),LN(n))},z=()=>{const ie=n.getDoc().documentElement,he=D.get();(he.left!==ie.offsetWidth||he.top!==ie.offsetHeight)&&(D.set(cr(ie.offsetWidth,ie.offsetHeight)),LN(n))},Z=ie=>{hG(n,ie)};f.bind(b,"resize",B),f.bind(b,"scroll",Z);const K=qu(un.fromDom(n.getBody()),"load",z);n.on("hide",()=>{dt(i,ie=>{wo(ie.element,"display","none")})}),n.on("show",()=>{dt(i,ie=>{rs(ie.element,"display")})}),n.on("NodeChange",z),n.on("remove",()=>{K.unbind(),f.unbind(b,"resize",B),f.unbind(b,"scroll",Z),b=null})},tQ=(n,s,i)=>{fv(n)&&nh(i.mainUi.mothership.element,i.popupUi.mothership),Ex(s,i.dialogUi.mothership)};var nQ=Object.freeze({__proto__:null,render:(n,s,i,f,b)=>{const{mainUi:w,uiMotherships:S}=s,D=Nn(0),B=w.outerContainer;NI(n);const z=un.fromDom(b.targetNode),Z=xd(Ai(z));nh(z,w.mothership),tQ(n,Z,s),n.on("PostRender",()=>{Zr.setSidebar(B,i.sidebar,fF(n)),Zr.setViews(B,i.views)}),n.on("SkinLoaded",()=>{sM(n,s,i,f),D.set(n.getWin().innerWidth),Zr.setMenubar(B,TI(n,i)),eQ(n,s)});const K=Zr.getSocket(B).getOrDie("Could not find expected socket element");if(JX){Ar(K.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const De=Kd(()=>{n.dispatch("ScrollContent")},20),Ie=Ls(K.element,"scroll",De.throttle);n.on("remove",Ie.unbind)}MP(n,s),n.addCommand("ToggleSidebar",(De,Ie)=>{Zr.toggleSidebar(B,Ie),wG(n)}),n.addQueryValueHandler("ToggleSidebar",()=>Zr.whichSidebar(B)??""),n.addCommand("ToggleView",(De,Ie)=>{if(Zr.toggleView(B,Ie)){const Ee=B.element;w.mothership.broadcastOn([Jm()],{target:Ee}),dt(S,Ke=>{Ke.broadcastOn([Jm()],{target:Ee})}),ee(Zr.whichView(B))&&(n.focus(),n.nodeChanged(),Zr.refreshToolbar(B)),JP(n)}}),n.addQueryValueHandler("ToggleView",()=>Zr.whichView(B)??"");const ie=Vx(n),he=()=>{Zr.refreshToolbar(s.mainUi.outerContainer)};(ie===ih.sliding||ie===ih.floating)&&n.on("ResizeWindow ResizeEditor ResizeContent",()=>{const De=n.getWin().innerWidth;De!==D.get()&&(he(),D.set(De))});const xe={setEnabled:De=>{FE(s,De?"setEnabled":"setDisabled")},isEnabled:()=>!Xn.isDisabled(B)};return{iframeContainer:K.element.dom,editorContainer:B.element.dom,api:xe}}});const oQ=n=>/^[0-9\.]+(|px)$/i.test(""+n)?P.some(parseInt(""+n,10)):P.none(),u3=n=>ct(n)?n+"px":n,d3=(n,s,i)=>{const f=s.filter(w=>n<w),b=i.filter(w=>n>w);return f.or(b).getOr(n)},sQ=(n,s)=>{if(typeof s=="number")return P.from(s);const i=/^([0-9.]+)(pt|em|px)$/.exec(s.trim());if(i){const f=i[2],b=Number.parseFloat(i[1]);if(Number.isNaN(b)||b<0)return P.none();if(f==="em")return P.from(b*Number.parseFloat(window.getComputedStyle(n.dom).fontSize));if(f==="pt")return P.from(b*(72/96));if(f==="px")return P.from(b)}return P.none()},rQ=n=>{const s=sQ(un.fromDom(n.targetElm),Q5(n)),i=tO(n),f=nO(n);return s.map(b=>d3(b,i,f))},aQ=n=>rQ(n).getOr(Q5(n)),iT=n=>{const s=J5(n),i=eO(n),f=jk(n);return oQ(s).map(b=>d3(b,i,f))},iQ=n=>iT(n).getOr(J5(n)),{ToolbarLocation:pC,ToolbarMode:lT}=MZ,r9=40,lQ=(n,s,i,f,b)=>{const{mainUi:w,uiMotherships:S}=i,D=Fw.DOM,B=jw(n),z=Vw(n),Z=jk(n).or(iT(n)),K=f.shared.header,ie=K.isPositionedAtTop,he=150,xe=Vx(n),De=xe===lT.sliding||xe===lT.floating,Ie=Nn(!1),Ee=()=>Ie.get()&&!n.removed,Ke=eo=>De?eo.fold(ae(0),Gt=>Gt.components().length>1?bi(Gt.components()[1].element):0):0,ot=eo=>{switch(sO(n)){case pC.auto:const Gt=Zr.getToolbar(w.outerContainer),bn=Ke(Gt),So=bi(eo.element)-bn,qo=Di(s);if(qo.y>So)return"top";{const Zo=bp(s),Hr=Math.max(Zo.dom.scrollHeight,bi(Zo));return qo.bottom<Hr-So||bc().bottom<qo.bottom-So?"bottom":"top"}case pC.bottom:return"bottom";case pC.top:default:return"top"}},wt=eo=>{b.on(Gt=>{ei.setModes(Gt,[eo]),K.setDockingMode(eo);const bn=ie()?Vf.TopToBottom:Vf.BottomToTop;co(Gt.element,Qp,bn)})},_t=()=>{b.on(eo=>{const Gt=Z.getOrThunk(()=>Ep().width-fl(s).left-10);wo(eo.element,"max-width",Gt+"px")})},Tn=(eo,Gt)=>{b.on(bn=>{const So=Zr.getToolbar(w.outerContainer),qo=Ke(So),so=Di(s),Zo=Xt(n,w.outerContainer.element),Hr=()=>Zo.fold(()=>so.x,jc=>{const dh=Di(jc);return oe(jc,Ml())?so.x:so.x-dh.x}),dr=()=>Zo.fold(()=>ie()?Math.max(so.y-bi(bn.element)+qo,0):so.bottom,jc=>{const dh=Di(jc),yu=jc.dom.scrollTop??0,Ev=oe(jc,Ml())?Math.max(so.y-bi(bn.element)+qo,0):so.y-dh.y+yu-bi(bn.element)+qo;return ie()?Ev:so.bottom}),ju=Hr(),ti=Ca(eo,Math.ceil(w.outerContainer.element.dom.getBoundingClientRect().width)).filter(jc=>jc>he).map(jc=>{const dh=Gt.getOr(Aa()),yu=window.innerWidth-(ju-dh.left),ug=Math.max(Math.min(jc,yu),he);return yu<jc&&wo(w.outerContainer.element,"width",ug+"px"),{width:ug+"px"}}).getOr({width:"max-content"}),Kf={position:"absolute",left:Math.round(ju)+"px",top:dr()+"px"};Ar(w.outerContainer.element,{...Kf,...ti})})},Xt=(eo,Gt)=>fv(eo)?af(Gt):P.none(),nn=()=>{dt(S,eo=>{eo.broadcastOn([pl()],{})})},tn=()=>!B&&(Bl(w.outerContainer.element).left+nf(w.outerContainer.element)>=window.innerWidth-r9||Vr(w.outerContainer.element,"width").isSome())?(wo(w.outerContainer.element,"position","absolute"),wo(w.outerContainer.element,"left","0px"),rs(w.outerContainer.element,"width"),!0):!1,fo=eo=>{if(!Ee())return;B||_t();const Gt=Aa(),bn=B?!1:tn();if(De&&Zr.refreshToolbar(w.outerContainer),!B){const So=Aa(),qo=Ca(Gt.left!==So.left,Gt);Tn(bn,qo),qo.each(so=>{Ed(so.left,So.top)})}z&&b.on(eo),nn()},Qn=()=>B||!z||!Ee()?!1:b.get().exists(eo=>{const Gt=K.getDockingMode(),bn=ot(eo);return bn!==Gt?(wt(bn),!0):!1});return{isVisible:Ee,isPositionedAtTop:ie,show:()=>{Ie.set(!0),wo(w.outerContainer.element,"display","flex"),D.addClass(n.getBody(),"mce-edit-focus"),dt(S,eo=>{rs(eo.element,"display")}),Qn(),fv(n)?fo(eo=>ei.isDocked(eo)?ei.reset(eo):ei.refresh(eo)):fo(ei.refresh)},hide:()=>{Ie.set(!1),wo(w.outerContainer.element,"display","none"),D.removeClass(n.getBody(),"mce-edit-focus"),dt(S,eo=>{wo(eo.element,"display","none")})},update:fo,updateMode:()=>{Qn()&&fo(ei.reset)},repositionPopups:nn}},a9=(n,s)=>{const i=Di(n);return{pos:s?i.y:i.bottom,bounds:i}},cQ=(n,s,i,f)=>{const b=Nn(a9(s,i.isPositionedAtTop())),w=z=>{const{pos:Z,bounds:K}=a9(s,i.isPositionedAtTop()),{pos:ie,bounds:he}=b.get(),xe=K.height!==he.height||K.width!==he.width;b.set({pos:Z,bounds:K}),xe&&LN(n,z),i.isVisible()&&(ie!==Z?i.update(ei.reset):xe&&(i.updateMode(),i.repositionPopups()))};f||(n.on("activate",i.show),n.on("deactivate",i.hide)),n.on("SkinLoaded ResizeWindow",()=>i.update(ei.reset)),n.on("NodeChange keydown",z=>{requestAnimationFrame(()=>w(z))});let S=0;const D=Ei(()=>i.update(ei.refresh),33);n.on("ScrollWindow",()=>{const z=Aa().left;z!==S&&(S=z,D.throttle()),i.updateMode()}),fv(n)&&n.on("ElementScroll",z=>{i.update(ei.refresh)});const B=Lr();B.set(qu(un.fromDom(n.getBody()),"load",z=>w(z.raw))),n.on("remove",()=>{B.clear()})};var uQ=Object.freeze({__proto__:null,render:(n,s,i,f,b)=>{const{mainUi:w}=s,S=xo(),D=un.fromDom(b.targetNode),B=lQ(n,D,s,f,S),z=tF(n);mX(n);const Z=()=>{if(S.isSet()){B.show();return}S.set(Zr.getHeader(w.outerContainer).getOrDie());const ie=uO(n);fv(n)?(nh(D,w.mothership),nh(D,s.popupUi.mothership)):Ex(ie,w.mothership),Ex(ie,s.dialogUi.mothership);const he=()=>{sM(n,s,i,f),Zr.setMenubar(w.outerContainer,TI(n,i)),B.show(),cQ(n,D,B,z),n.nodeChanged()};z?n.once("SkinLoaded",he):he()};n.on("show",Z),n.on("hide",B.hide),z||(n.on("focus",Z),n.on("blur",B.hide)),n.on("init",()=>{(n.hasFocus()||z)&&Z()}),MP(n,s);const K={show:Z,hide:B.hide,setEnabled:ie=>{FE(s,ie?"setEnabled":"setDisabled")},isEnabled:()=>!Xn.isDisabled(w.outerContainer)};return{editorContainer:w.outerContainer.element.dom,api:K}}});const f3=()=>{const n=xo(),s=xo(),i=xo();return{dialogUi:n,popupUi:s,mainUi:i,getUiMotherships:()=>{const w=n.get().map(D=>D.mothership),S=s.get().map(D=>D.mothership);return w.fold(()=>S.toArray(),D=>S.fold(()=>[D],B=>oe(D.element,B.element)?[D]:[D,B]))},lazyGetInOuterOrDie:(w,S)=>()=>i.get().bind(D=>S(D.outerContainer)).getOrDie(`Could not find ${w} element in OuterContainer`)}},i9="contexttoolbar-show",aM="contexttoolbar-hide",m3=(n,s,i)=>({setInputEnabled:f=>{!f&&i&&Pa(i),Xn.set(n,!f)},isInputEnabled:()=>!Xn.isDisabled(n),hide:()=>{cs(n,Oa())},back:()=>{cs(n,r3)},getValue:()=>s.get().getOrThunk(()=>Pn.getValue(n)),setValue:f=>{n.getSystem().isConnected()?Pn.setValue(n,f):s.set(f)}}),cT=(n,s,i)=>{const b=xl(n.element).bind(w=>n.getSystem().getByDom(w).toOptional());return m3(b.getOr(n),s,i)},l9=(n,s,i)=>Nt(dR,(f,b)=>{const w=n.get(f),S=m3(w,i,f.element);s.onAction(S,b.event.buttonApi)}),c9=(n,s,i,f)=>{const{primary:b,...w}=s.original,S=Ju(E1({...w,type:"button",onAction:J}));return oT(S,i,[l9(n,s,f)])},dQ=(n,s,i,f)=>{const{primary:b,...w}=s.original,S=Ju(aN({...w,type:"togglebutton",onAction:J}));return MI(S,i,[l9(n,s,f)])},fQ=n=>n.type==="contextformtogglebutton",mQ=(n,s,i,f)=>fQ(s)?dQ(n,s,i,f):c9(n,s,i,f),u9=(n,s,i,f)=>{const b=He(s,D=>ur(mQ(n,D,i,f)));return{asSpecs:()=>He(b,D=>D.asSpec()),findPrimary:D=>gs(s,(B,z)=>B.primary?P.from(b[z]).bind(Z=>Z.getOpt(D)).filter(We(Xn.isDisabled)):P.none())}},hQ=(n,s,i,f)=>{const{width:b,height:w}=n.initValue();let S=aC;const D=me("ratio-event"),B=Xt=>m3(Xt,f),z=Xt=>lh(Xt,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Xt]},s.icons),Z=()=>!1,K=n.label.getOr("Constrain proportions"),ie=s.translate(K),he=tl.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-lock-context-form-size-input","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":ie,"data-mce-name":K}},components:[z("lock"),z("unlock")],buttonBehaviours:a([Xn.config({disabled:Z}),ca.config({}),ya.config(s.tooltips.getConfig({tooltipText:ie}))])}),xe=Xt=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:Xt}),De=Xt=>nu(Xt.element,"div.tox-focusable-wrapper").fold(P.none,tn=>(Pa(tn),P.some(!0))),Ie=Xt=>Ss.parts.field({factory:C1,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:Xt?b:w,inputBehaviours:a([Xn.config({disabled:Z}),ca.config({}),de("size-input-toolbar-events",[Nt(ec(),(nn,tn)=>{no(nn,D,{isField1:Xt})})]),io.config({mode:"special",onEnter:i,onEscape:De})]),selectOnFocus:!1}),Ee=Xt=>({dom:{tag:"label",classes:["tox-label"]},components:[Na(s.translate(Xt))]}),Ke=Xt=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[Xt],behaviours:a([ca.config({}),Qe.config({}),io.config({mode:"special",onEnter:nn=>ar(nn.element,"input").fold(P.none,fo=>(Pa(fo),P.some(!0)))})])}),ot=Ke(tl.parts.field1(xe([Ss.parts.label(Ee("Width:")),Ie(!0)]))),wt=Ke(tl.parts.field2(xe([Ss.parts.label(Ee("Height:")),Ie(!1)]))),_t=Nn(J),Tn=[E0({onBeforeSetup:Xt=>ar(Xt.element,"input").each(Pa),onSetup:n.onSetup,getApi:B},_t),f4({getApi:B},_t,f)];return tl.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[ot,xe([he]),wt],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Xt,nn,tn)=>{j4(Pn.getValue(Xt)).each(fo=>{S(fo).each(Qn=>{Pn.setValue(nn,u$(Qn))})})},onInput:Xt=>cs(Xt,D7),coupledFieldBehaviours:a([Qe.config({}),io.config({mode:"flow",focusInside:Fg.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),Xn.config({disabled:Z,onDisabled:Xt=>{tl.getField1(Xt).bind(Ss.getField).each(Xn.disable),tl.getField2(Xt).bind(Ss.getField).each(Xn.disable),tl.getLock(Xt).each(Xn.disable)},onEnabled:Xt=>{tl.getField1(Xt).bind(Ss.getField).each(Xn.enable),tl.getField2(Xt).bind(Ss.getField).each(Xn.enable),tl.getLock(Xt).each(Xn.enable)}}),nl(()=>s.checkUiComponentContext("mode:design")),de("size-input-toolbar-events2",[Nt(D,(Xt,nn)=>{const tn=nn.event.isField1,fo=tn?tl.getField1(Xt):tl.getField2(Xt),Qn=tn?tl.getField2(Xt):tl.getField1(Xt),hs=fo.map(Pn.getValue).getOr(""),mo=Qn.map(Pn.getValue).getOr("");S=f$(hs,mo)}),Nt(D7,Xt=>n.onInput(B(Xt))),...Tn])])})},bC=(n,s,i)=>Ss.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...n.toArray(),s],fieldBehaviours:a([Xn.config({disabled:()=>i.checkUiComponentContext("mode:design").shouldDisable,onDisabled:f=>{SX(f),Ss.getField(f).each(Xn.disable)},onEnabled:f=>{Ss.getField(f).each(Xn.enable)}})])}),gQ=(n,s,i,f)=>{const b=Nn(J),w=B=>cT(B,f),S=n.label.map(B=>Ss.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Na(s.translate(B))]})),D=Ss.parts.field({factory:C1,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(n.min()),max:String(n.max())},data:n.initValue().toString(),fromInputValue:B=>pi(B).getOr(n.min()),toInputValue:B=>String(B),inputBehaviours:a([Xn.config({disabled:()=>s.checkUiComponentContext("mode:design").shouldDisable}),nl(()=>s.checkUiComponentContext("mode:design")),io.config({mode:"special",onEnter:i,onLeft:(B,z)=>(z.cut(),P.none()),onRight:(B,z)=>(z.cut(),P.none())}),de("slider-events",[E0({onSetup:n.onSetup,getApi:w,onBeforeSetup:io.focusIn},b),f4({getApi:w},b,f),Nt(Bf(),B=>{n.onInput(w(B))})])])});return bC(S,D,s)},pQ=(n,s,i,f)=>{const b=Nn(J),w=Z=>cT(Z,f),S=n.label.map(Z=>Ss.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Na(s.translate(Z))]})),B={...n.placeholder.map(Z=>({placeholder:s.translate(Z)})).getOr({})},z=Ss.parts.field({factory:C1,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:B,data:n.initValue(),selectOnFocus:!0,inputBehaviours:a([Xn.config({disabled:()=>s.checkUiComponentContext("mode:design").shouldDisable}),nl(()=>s.checkUiComponentContext("mode:design")),io.config({mode:"special",onEnter:i,onLeft:(Z,K)=>(K.cut(),P.none()),onRight:(Z,K)=>(K.cut(),P.none())}),de("input-events",[E0({onSetup:n.onSetup,getApi:Z=>nu(Z.element,".tox-toolbar").bind(ie=>ar(ie,"button:enabled")).fold(()=>cT(Z,f),ie=>cT(Z,f,ie)),onBeforeSetup:io.focusIn},b),f4({getApi:w},b,f),Nt(Bf(),Z=>{n.onInput(w(Z))})])])});return bC(S,z,s)},iM=(n,s,i)=>{const f=xo(),w=ur(n(i,z=>D.findPrimary(z).orThunk(()=>B.findPrimary(z)).map(Z=>(r1(Z),!0)),f)),S=zo(s.commands,z=>z.align==="start"),D=u9(w,S.pass,i,f),B=u9(w,S.fail,i,f);return Eo([{title:P.none(),label:P.none(),items:D.asSpecs()},{title:P.none(),label:P.none(),items:[w.asSpec()]},{title:P.none(),label:P.none(),items:B.asSpecs()}],z=>z.items.length>0)},lM=(n,s)=>{switch(n.type){case"contextform":return iM(dn(pQ,n),n,s);case"contextsliderform":return iM(dn(gQ,n),n,s);case"contextsizeinputform":return iM(dn(hQ,n),n,s)}},d9={renderContextForm:(n,s,i)=>e3({type:n,uid:me("context-toolbar"),initGroups:lM(s,i),onEscape:P.none,cyclicKeying:!0,providers:i}),buildInitGroups:lM},f9=(n,s,i)=>s.bottom-n.y>=i&&n.bottom-s.y>=i,bQ=n=>{const s=n.getBoundingClientRect();if(s.height<=0&&s.width<=0){const i=Sh(un.fromDom(n.startContainer),n.startOffset).element;return(vl(i)?xl(i):P.some(i)).filter(Xc).map(b=>b.dom.getBoundingClientRect()).getOr(s)}else return s},cM=n=>{const s=n.selection.getRng(),i=bQ(s);if(n.inline){const f=Aa();return Fi(f.left+i.left,f.top+i.top,i.width,i.height)}else{const f=Nh(un.fromDom(n.getBody()));return Fi(f.x+i.left,f.y+i.top,i.width,i.height)}},yQ=(n,s)=>s.filter(i=>Fs(i)&&_e(i)).map(Nh).getOrThunk(()=>cM(n)),vQ=(n,s,i)=>{const f=Math.max(n.x+i,s.x),b=Math.min(n.right-i,s.right);return{x:f,width:b-f}},uT=(n,s,i,f,b,w)=>{const S=un.fromDom(n.getContainer()),D=ar(S,".tox-editor-header").getOr(S),B=Di(D),z=B.y>=s.bottom,Z=f&&!z;if(n.inline&&Z)return{y:Math.max(B.bottom+w,i.y),bottom:i.bottom};if(n.inline&&!Z)return{y:i.y,bottom:Math.min(B.y-w,i.bottom)};const K=b==="line"?Di(S):s;return Z?{y:Math.max(B.bottom+w,i.y),bottom:Math.min(K.bottom-w,i.bottom)}:{y:Math.max(K.y+w,i.y),bottom:Math.min(B.y-w,i.bottom)}},uM=(n,s,i,f=0)=>{const b=Ep(window),w=Di(un.fromDom(n.getContentAreaContainer())),S=Hw(n)||zw(n)||dv(n),{x:D,width:B}=vQ(w,b,f);if(n.inline&&!S)return Fi(D,b.y,B,b.height);{const z=s.header.isPositionedAtTop(),{y:Z,bottom:K}=uT(n,w,b,z,i,f);return Fi(D,Z,B,K-Z)}},h3=12,m9={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},dM={maxHeightFunction:Gh(),maxWidthFunction:kb()},fM=(n,s)=>{const i=n.selection.getRng(),f=Sh(un.fromDom(i.startContainer),i.startOffset);return i.startContainer===i.endContainer&&i.startOffset===i.endOffset-1&&oe(f.element,s)},h9=(n,s,i)=>{const f=Vr(n,"position");wo(n,"position",s);const b=i(n);return f.each(w=>wo(n,"position",w)),b},mM=n=>n==="node",xQ=(n,s,i,f,b)=>{const w=cM(n),S=f.lastElement().exists(D=>oe(i,D));if(fM(n,i))return S?Pc:oc;if(S)return h9(s,f.getMode(),()=>f9(w,Di(s),-20)&&!f.isReposition()?ym:Pc);{const D=f.getMode()==="fixed"?b.y+Aa().top:b.y,B=bi(s)+h3;return D+B<=w.y?oc:qh}},yC=(n,s,i,f)=>{const b=B=>(z,Z,K,ie,he)=>{const xe=xQ(n,ie,B,i,he),De={...z,y:he.y,height:he.height};return{...xe(De,Z,K,ie,he),alwaysFit:!0}},w=B=>mM(f)?[b(B)]:[];return s?{onLtr:B=>[Oi,Ji,Ur,Al,kl,ba].concat(w(B)),onRtl:B=>[Oi,Ur,Ji,kl,Al,ba].concat(w(B))}:{onLtr:B=>[ba,Oi,Al,Ji,kl,Ur].concat(w(B)),onRtl:B=>[ba,Oi,kl,Ur,Al,Ji].concat(w(B))}},g3=(n,s,i,f)=>s==="line"?{bubble:hu(h3,0,m9),layouts:{onLtr:()=>[Km],onRtl:()=>[Hd]},overrides:dM}:{bubble:hu(0,h3,m9,1/h3),layouts:yC(n,i,f,s),overrides:dM},vC=(n,s)=>{const i=Eo(s,w=>w.predicate(n.dom)),{pass:f,fail:b}=zo(i,w=>w.type==="contexttoolbar");return{contextToolbars:f,contextForms:b}},hM=n=>{if(n.length<=1)return n;{const s=w=>Pt(n,S=>S.position===w),i=w=>Eo(n,S=>S.position===w),f=s("selection"),b=s("node");if(f||b)if(b&&f){const w=i("node"),S=He(i("selection"),D=>({...D,position:"node"}));return w.concat(S)}else return i(f?"selection":"node");else return i("line")}},gM=n=>{if(n.length<=1)return n;{const s=f=>Be(n,b=>b.position===f);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(f=>f.position).fold(()=>[],f=>Eo(n,b=>b.position===f))}},g9=(n,s,i)=>{const f=vC(n,s);if(f.contextForms.length>0)return P.some({elem:n,toolbars:[f.contextForms[0]]});{const b=vC(n,i);if(b.contextForms.length>0)return P.some({elem:n,toolbars:[b.contextForms[0]]});if(f.contextToolbars.length>0||b.contextToolbars.length>0){const w=hM(f.contextToolbars.concat(b.contextToolbars));return P.some({elem:n,toolbars:w})}else return P.none()}},p3=(n,s,i)=>n(s)?P.none():Js(s,f=>{if(Xc(f)){const{contextToolbars:b,contextForms:w}=vC(f,i.inNodeScope),S=w.length>0?w:gM(b);return S.length>0?P.some({elem:f,toolbars:S}):P.none()}else return P.none()},n),p9=(n,s)=>{const i=un.fromDom(s.getBody()),f=S=>oe(S,i),b=S=>!f(S)&&!Ae(i,S),w=un.fromDom(s.selection.getNode());return b(w)?P.none():g9(w,n.inNodeScope,n.inEditorScope).orThunk(()=>p3(f,w,n))},b9=(n,s)=>{const i={},f=[],b=[],w={},S={},D=(Z,K)=>{const ie=Ju(kq(K));i[Z]=ie,ie.launch.map(he=>{w["form:"+Z]={...K.launch,type:he.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(ie)}}}),ie.scope==="editor"?b.push(ie):f.push(ie),S[Z]=ie},B=(Z,K)=>{Dq(K).each(ie=>{ie.launch.isSome()&&(w["toolbar:"+Z]={...K.launch,type:"button",onAction:()=>{s(ie)}}),K.scope==="editor"?b.push(ie):f.push(ie),S[Z]=ie})},z=Io(n);return dt(z,Z=>{const K=n[Z];K.type==="contextform"||K.type==="contextsliderform"||K.type==="contextsizeinputform"?D(Z,K):K.type==="contexttoolbar"&&B(Z,K)}),{forms:i,inNodeScope:f,inEditorScope:b,lookupTable:S,formNavigators:w}},dT="tox-pop--transition",wQ=n=>n===l3.ENTER||n===l3.SPACEBAR,y9=(n,s,i,f)=>{const b=f.backstage,w=b.shared,S=Za().deviceType.isTouch,D=xo(),B=xo(),z=xo(),Z=XR({sink:i,onEscape:()=>(n.focus(),FN(n),P.some(!0)),onHide:()=>{FN(n)},onBack:()=>{PN(n)},focusElement:mo=>{n.getBody().contains(mo.dom)?n.focus():Pa(mo)}}),K=E(Z.sketch),ie=()=>{const mo=z.get().getOr("node"),$o=mM(mo)?1:0;return uM(n,w,mo,$o)},he=()=>!n.removed&&!(S()&&b.isContextMenuOpen()),xe=mo=>to(ws(mo,D.get(),oe),!0),De=()=>{if(he()){const mo=ie(),$o=to(z.get(),"node")?yQ(n,D.get()):cM(n);return mo.height<=0||!f9($o,mo,.01)}else return!0},Ie=()=>{D.clear(),B.clear(),z.clear(),hi.hide(K)},Ee=()=>{if(hi.isOpen(K)){const mo=K.element;rs(mo,"display"),De()?wo(mo,"display","none"):(B.set(0),hi.reposition(K))}},Ke=mo=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[mo],behaviours:a([io.config({mode:"acyclic"}),de("pop-dialog-wrap-events",[Rr($o=>{n.shortcuts.add("ctrl+F9","focus statusbar",()=>io.focusIn($o))}),hf($o=>{n.shortcuts.remove("ctrl+F9")})])])}),ot=mo=>{const $o=Xt([mo]);no(K,LI,{forwardContents:Ke($o)})},wt=rl(()=>b9(s,ot)),_t=(mo,$o)=>c3(n,{buttons:mo,toolbar:$o.items,allowToolbarGroups:!1},f.backstage,P.some(["form:","toolbar:"])),Tn=(mo,$o)=>d9.buildInitGroups(mo,$o),Xt=mo=>{const{buttons:$o}=n.ui.registry.getAll(),eo=wt(),Gt={...$o,...eo.formNavigators},bn=Vx(n)===ih.scrolling?ih.scrolling:ih.default,So=et(He(mo,qo=>qo.type==="contexttoolbar"?_t(Gt,lN(qo)):Tn(qo,w.providers)));return e3({type:bn,uid:me("context-toolbar"),initGroups:So,onEscape:P.none,cyclicKeying:!0,providers:w.providers})},nn=(mo,$o)=>{const eo=mo==="node"?w.anchors.node($o):w.anchors.cursor(),Gt=g3(n,mo,S(),{lastElement:D.get,isReposition:()=>to(B.get(),0),getMode:()=>fd.getMode(i)});return Wt(eo,Gt)},tn=(mo,$o)=>{if(hs.cancel(),!he())return;const eo=Xt(mo),Gt=mo[0].position,bn=nn(Gt,$o);z.set(Gt),B.set(1);const So=K.element;rs(So,"display"),xe($o)||(ma(So,dT),fd.reset(i,K)),hi.showWithinBounds(K,Ke(eo),{anchor:bn,transition:{classes:[dT],mode:"placement"}},()=>P.some(ie())),$o.fold(D.clear,D.set),De()&&wo(So,"display","none")},fo=()=>{wo(K.element,"transition","none"),Ee(),rs(K.element,"transition")};let Qn=!1;const hs=Ei(()=>{if(!(!n.hasFocus()||n.removed||Qn))if(ka(K.element,dT))hs.throttle();else{const mo=wt();p9(mo,n).fold(Ie,$o=>{tn($o.toolbars,P.some($o.elem))})}},17);n.on("init",()=>{n.on("remove",Ie),n.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Ee),n.on("click focus SetContent",hs.throttle),n.on("keyup",mo=>{(!wQ(mo.keyCode)||!Z.inSubtoolbar())&&hs.throttle()}),n.on(aM,Ie),n.on(i9,mo=>{const $o=wt();$n($o.lookupTable,mo.toolbarKey).each(eo=>{tn([eo],Ca(mo.target!==n,mo.target)),BI(K)})}),n.on("focusout",mo=>{Hk.setEditorTimeout(n,()=>{ii(i.element).isNone()&&ii(K.element).isNone()&&!n.hasFocus()&&Ie()},0)}),n.on("SwitchMode",()=>{n.mode.isReadOnly()&&Ie()}),n.on("DisabledStateChange",mo=>{mo.state&&Ie()}),n.on("ExecCommand",({command:mo})=>{mo.toLowerCase()==="toggleview"&&Ie()}),n.on("AfterProgressState",mo=>{mo.state?Ie():n.hasFocus()&&hs.throttle()}),n.on("dragstart",()=>{Qn=!0}),n.on("dragend drop",()=>{Qn=!1}),n.on("NodeChange",mo=>{Z.inSubtoolbar()?fo():ii(K.element).fold(hs.throttle,J)})})},CQ=n=>{dt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],i=>{n.ui.registry.addToggleButton(i.name,{tooltip:i.text,icon:i.icon,onAction:bf(n,i.cmd),onSetup:zE(n,i.name)})}),n.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:zc(n),onAction:bf(n,"JustifyNone")})},v9=(n,s)=>{const i=()=>{const f=s.getOptions(n),b=s.getCurrent(n).map(s.hash),w=xo();return He(f,S=>({type:"togglemenuitem",text:s.display(S),onSetup:D=>{const B=Z=>{Z&&(w.on(K=>K.setActive(!1)),w.set(D)),D.setActive(Z)};B(to(b,s.hash(S)));const z=s.watcher(n,S,B);return()=>{w.clear(),z()}},onAction:()=>s.setCurrent(n,S)}))};n.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:f=>f(i()),onSetup:s.onToolbarSetup}),n.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:i,onSetup:s.onMenuSetup})},b3=n=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:pF,hash:s=>Ha(s,["fixed","relative","empty"]).getOr(s),display:lt,watcher:(s,i,f)=>s.formatter.formatChanged("lineheight",f,!1,{value:i}).unbind,getCurrent:s=>P.from(s.queryCommandValue("LineHeight")),setCurrent:(s,i)=>s.execCommand("LineHeight",!1,i),onToolbarSetup:zc(n),onMenuSetup:zc(n)}),x9=n=>P.from(XL(n)).map(i=>({name:"language",text:"Language",icon:"language",getOptions:ae(i),hash:f=>Ce(f.customCode)?f.code:`${f.code}/${f.customCode}`,display:f=>f.title,watcher:(f,b,w)=>f.formatter.formatChanged("lang",w,!1,{value:b.code,customValue:b.customCode??null}).unbind,getCurrent:f=>{const b=un.fromDom(f.selection.getNode());return yr(b,w=>P.some(w).filter(Xc).bind(S=>li(S,"lang").map(B=>{const z=li(S,"data-mce-lang").getOrUndefined();return{code:B,customCode:z,title:""}})))},setCurrent:(f,b)=>f.execCommand("Lang",!1,b),onToolbarSetup:f=>{const b=Lr();return f.setActive(n.formatter.match("lang",{},void 0,!0)),b.set(n.formatter.formatChanged("lang",f.setActive,!0)),r2(b.clear,zc(n)(f))},onMenuSetup:zc(n)})),SQ=n=>{v9(n,b3(n)),x9(n).each(s=>v9(n,s))},EQ=(n,s)=>{_X(n,s),MX(n,s),gC(n,s),OX(n,s),e9(n,s)},TQ=n=>{n.ui.registry.addContext("editable",()=>n.selection.isEditable()),n.ui.registry.addContext("mode",s=>n.mode.get()===s),n.ui.registry.addContext("any",Mt),n.ui.registry.addContext("formatting",s=>n.formatter.canApply(s)),n.ui.registry.addContext("insert",s=>n.schema.isValidChild(n.selection.getNode().tagName,s))},AQ=n=>vv(n,"NodeChange",s=>{s.setEnabled(n.queryCommandState("outdent")&&n.selection.isEditable())}),kQ=n=>{n.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:AQ(n),onAction:bf(n,"outdent")}),n.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:zc(n,()=>n.queryCommandState("indent")),onAction:bf(n,"indent")})},w9=n=>{kQ(n)},pM=(n,s)=>i=>{i.setActive(s.get());const f=b=>{s.set(b.state),i.setActive(b.state)};return n.on("PastePlainTextToggle",f),r2(()=>n.off("PastePlainTextToggle",f),zc(n)(i))},C9=n=>{const s=Nn(dF(n)),i=()=>n.execCommand("mceTogglePlainTextPaste");n.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:i,onSetup:pM(n,s)}),n.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:i,onSetup:pM(n,s)})},y3=(n,s)=>()=>{n.execCommand("mceToggleFormat",!1,s)},_Q=n=>{_1.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,i)=>{n.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:zE(n,s.name),onAction:y3(n,s.name),shortcut:s.shortcut})});for(let s=1;s<=6;s++){const i="h"+s,f=`Access+${s}`;n.ui.registry.addToggleButton(i,{text:i.toUpperCase(),tooltip:"Heading "+s,onSetup:zE(n,i),onAction:y3(n,i),shortcut:f})}},S9=n=>{_1.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],s=>{n.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:bf(n,s.action),shortcut:s.shortcut,context:s.context})}),_1.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{n.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:zc(n),onAction:bf(n,s.action)})})},E9=n=>{_1.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{n.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:bf(n,s.action),onSetup:zE(n,s.name)})})},DQ=n=>{_Q(n),S9(n),E9(n)},toe=n=>{_1.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],s=>{n.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:bf(n,s.action),context:s.context})}),_1.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{n.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:zc(n),onAction:bf(n,s.action)})}),n.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:zc(n),onAction:y3(n,"code")})},OQ=n=>{DQ(n),toe(n)},v3=(n,s)=>vv(n,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i=>{i.setEnabled(!n.mode.isReadOnly()&&n.undoManager[s]())}),NQ=n=>{n.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:v3(n,"hasUndo"),onAction:bf(n,"undo")}),n.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:v3(n,"hasRedo"),onAction:bf(n,"redo")})},RQ=n=>{n.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:v3(n,"hasUndo"),onAction:bf(n,"undo"),shortcut:"Meta+Z"}),n.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:v3(n,"hasRedo"),onAction:bf(n,"redo"),shortcut:"Meta+Y"})},MQ=n=>{NQ(n),RQ(n)},BQ=n=>vv(n,"VisualAid",s=>{s.setActive(n.hasVisual)}),LQ=n=>{n.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:BQ(n),onAction:bf(n,"mceToggleVisualAid"),context:"any"})},FQ=n=>{n.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:bf(n,"mceToggleVisualAid"),context:"any"})},PQ=n=>{FQ(n),LQ(n)},$Q=(n,s)=>{CQ(n),OQ(n),EQ(n,s),MQ(n),h7(n),PQ(n),w9(n),SQ(n),C9(n),TQ(n)},IQ=n=>I(n)?n.split(/[ ,]/):n,T9=n=>s=>s.options.get(n),HQ=n=>{const s=n.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:i=>i===!1?{value:[],valid:!0}:I(i)||Oe(i,I)?{value:IQ(i),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},bM=T9("contextmenu_never_use_native"),zQ=T9("contextmenu_avoid_overlap"),jQ=n=>A9(n).length===0,A9=n=>{const s=n.ui.registry.getAll().contextMenus,i=n.options.get("contextmenu");return n.options.isSet("contextmenu")?i:Eo(i,f=>Yo(s,f))},fT=(n,s)=>({type:"makeshift",x:n,y:s}),VQ=(n,s,i)=>fT(n.x+s,n.y+i),yM=n=>n.type==="longpress"||n.type.indexOf("touch")===0,vM=n=>{if(yM(n)){const s=n.touches[0];return fT(s.pageX,s.pageY)}else return fT(n.pageX,n.pageY)},UQ=n=>{if(yM(n)){const s=n.touches[0];return fT(s.clientX,s.clientY)}else return fT(n.clientX,n.clientY)},k9=(n,s)=>{const i=Fw.DOM.getPos(n);return VQ(s,i.x,i.y)},ZQ=(n,s)=>s.type==="contextmenu"||s.type==="longpress"?n.inline?vM(s):k9(n.getContentAreaContainer(),UQ(s)):_9(n),_9=n=>({type:"selection",root:un.fromDom(n.selection.getNode())}),WQ=n=>({type:"node",node:P.some(un.fromDom(n.selection.getNode())),root:un.fromDom(n.getBody())}),D9=(n,s,i)=>{switch(i){case"node":return WQ(n);case"point":return ZQ(n,s);case"selection":return _9(n)}},qQ=(n,s,i,f,b,w)=>{const S=i(),D=D9(n,s,w);ny(S,ip.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:P.none()}).map(B=>{s.preventDefault(),hi.showMenuAt(b,{anchor:D},{menu:{markers:S1("normal")},data:B})})},xM={onLtr:()=>[Oi,Ji,Ur,Al,kl,ba,oc,qh,Il,Iy,jf,s1],onRtl:()=>[Oi,Ur,Ji,kl,Al,ba,oc,qh,jf,s1,Il,Iy]},GQ=12,KQ={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},wM=(n,s)=>{const i=n.selection;if(i.isCollapsed()||s.touches.length<1)return!1;{const f=s.touches[0],b=i.getRng();return _h(n.getWin(),fi.domRange(b)).exists(S=>S.left<=f.clientX&&S.right>=f.clientX&&S.top<=f.clientY&&S.bottom>=f.clientY)}},O9=n=>{const s=n.selection.getRng(),i=()=>{Hk.setEditorTimeout(n,()=>{n.selection.setRng(s)},10),w()};n.once("touchend",i);const f=S=>{S.preventDefault(),S.stopImmediatePropagation()};n.on("mousedown",f,!0);const b=()=>w();n.once("longpresscancel",b);const w=()=>{n.off("touchend",i),n.off("longpresscancel",b),n.off("mousedown",f)}},N9=(n,s,i)=>{const f=D9(n,s,i);return{bubble:hu(0,i==="point"?GQ:0,KQ),layouts:xM,overrides:{maxWidthFunction:kb(),maxHeightFunction:Gh()},...f}},YQ=(n,s,i,f,b,w,S)=>{const D=N9(n,s,w);ny(i,ip.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!0,search:P.none()}).map(B=>{s.preventDefault();const z=S?Ec.HighlightMenuAndItem:Ec.HighlightNone;hi.showMenuWithinBounds(b,{anchor:D},{menu:{markers:S1("normal"),highlightOnOpen:z},data:B,type:"horizontal"},()=>P.some(uM(n,f.shared,w==="node"?"node":"selection"))),n.dispatch(aM)})},XQ=(n,s,i,f,b,w)=>{const S=Za(),D=S.os.isiOS(),B=S.os.isMacOS(),z=S.os.isAndroid(),Z=S.deviceType.isTouch(),K=()=>!(z||D||B&&Z),ie=()=>{const he=i();YQ(n,s,he,f,b,w,K())};if((B||D)&&w!=="node"){const he=()=>{O9(n),ie()};wM(n,s)?he():(n.once("selectionchange",he),n.once("touchend",()=>n.off("selectionchange",he)))}else ie()},R9=n=>I(n)?n==="|":n.type==="separator",CM={type:"separator"},M9=n=>{const s=i=>({text:i.text,icon:i.icon,enabled:i.enabled,shortcut:i.shortcut});if(I(n))return n;switch(n.type){case"separator":return CM;case"submenu":return{type:"nestedmenuitem",...s(n),getSubmenuItems:()=>{const f=n.getSubmenuItems();return I(f)?f:He(f,M9)}};default:const i=n;return{type:"menuitem",...s(i),onAction:rt(i.onAction)}}},x3=(n,s)=>{if(s.length===0)return n;const f=Qo(n).filter(b=>!R9(b)).fold(()=>[],b=>[CM]);return n.concat(f).concat(s).concat([CM])},QQ=(n,s,i)=>{const f=jo(s,(b,w)=>$n(n,w.toLowerCase()).map(S=>{const D=S.update(i);if(I(D)&&Su(Sn(D)))return x3(b,D.split(" "));if(Y(D)&&D.length>0){const B=He(D,M9);return x3(b,B)}else return b}).getOrThunk(()=>b.concat([w])),[]);return f.length>0&&R9(f[f.length-1])&&f.pop(),f},B9=(n,s)=>s.ctrlKey&&!bM(n),JQ=n=>n.type==="longpress"||Yo(n,"touches"),L9=(n,s)=>!JQ(s)&&(s.button!==2||s.target===n.getBody()&&s.pointerType===""),w3=(n,s)=>L9(n,s)?n.selection.getStart(!0):s.target,eJ=(n,s)=>{const i=zQ(n),f=L9(n,s)?"selection":"point";if(Su(i)){const b=w3(n,s);return Fm(un.fromDom(b),i)?"node":f}else return f},F9=(n,s,i)=>{const b=Za().deviceType.isTouch,w=E(hi.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>n.focus(),onShow:()=>i.setContextMenuState(!0),onHide:()=>i.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:a([de("dismissContextMenu",[Nt(mm(),(B,z)=>{nr.close(B),n.focus()})])])})),S=()=>hi.hide(w),D=B=>{if(bM(n)&&B.preventDefault(),B9(n,B)||jQ(n))return;const z=eJ(n,B),Z=()=>{const ie=w3(n,B),he=n.ui.registry.getAll(),xe=A9(n);return QQ(he.contextMenus,xe,ie)};(b()?XQ:qQ)(n,B,Z,i,w,z)};n.on("init",()=>{const B="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(b()?"":" ResizeWindow");n.on(B,S),n.on("longpress contextmenu",D)})},mT=40,C3=mT/2,P9=(n,s,i,f,b,w)=>n.fold(()=>zb.snap({sensor:Yg(i-C3,f-C3),range:cr(b,w),output:Yg(P.some(i),P.some(f)),extra:{td:s}}),S=>{const D=i-C3,B=f-C3,z=mT,Z=mT,K=S.element.dom.getBoundingClientRect();return zb.snap({sensor:Yg(D,B),range:cr(z,Z),output:Yg(P.some(i-K.width/2),P.some(f-K.height/2)),extra:{td:s}})}),$9=(n,s,i)=>{const f=(b,w)=>b.exists(S=>oe(S,w));return{getSnapPoints:n,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(b,w)=>{const S=w.td;f(s.get(),S)||(s.set(S),i(S))},mustSnap:!0}},I9=n=>ur(rc.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:a([zb.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:n}),m0.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),tJ=(n,s)=>{const i=Nn([]),f=Nn([]),b=Nn(!1),w=xo(),S=xo(),D=Xt=>{const nn=Nh(Xt);return P9(he.getOpt(s),Xt,nn.x,nn.y,nn.width,nn.height)},B=()=>He(i.get(),Xt=>D(Xt)),z=Xt=>{const nn=Nh(Xt);return P9(xe.getOpt(s),Xt,nn.right,nn.bottom,nn.width,nn.height)},Z=()=>He(f.get(),Xt=>z(Xt)),K=$9(B,w,Xt=>{S.get().each(nn=>{n.dispatch("TableSelectorChange",{start:Xt,finish:nn})})}),ie=$9(Z,S,Xt=>{w.get().each(nn=>{n.dispatch("TableSelectorChange",{start:nn,finish:Xt})})}),he=I9(K),xe=I9(ie),De=E(he.asSpec()),Ie=E(xe.asSpec()),Ee=(Xt,nn,tn,fo)=>{const Qn=nn.dom.getBoundingClientRect();rs(Xt.element,"display");const hs=yp(un.fromDom(n.getBody())).dom.innerHeight,mo=tn(Qn),$o=fo(Qn,hs);(mo||$o)&&wo(Xt.element,"display","none")},Ke=(Xt,nn,tn,fo)=>{const Qn=tn(nn);zb.snapTo(Xt,Qn),Ee(Xt,nn,$o=>$o[fo]<0,($o,eo)=>$o[fo]>eo)},ot=Xt=>Ke(De,Xt,D,"top"),wt=()=>w.get().each(ot),_t=Xt=>Ke(Ie,Xt,z,"bottom"),Tn=()=>S.get().each(_t);if(Za().deviceType.isTouch()){const Xt=nn=>He(nn,un.fromDom);n.on("TableSelectionChange",nn=>{b.get()||(r0(s,De),r0(s,Ie),b.set(!0));const tn=un.fromDom(nn.start),fo=un.fromDom(nn.finish);w.set(tn),S.set(fo),P.from(nn.otherCells).each(Qn=>{i.set(Xt(Qn.upOrLeftCells)),f.set(Xt(Qn.downOrRightCells)),ot(tn),_t(fo)})}),n.on("ResizeEditor ResizeWindow ScrollContent",()=>{wt(),Tn()}),n.on("TableSelectionClear",()=>{b.get()&&(i0(De),i0(Ie),b.set(!1)),w.clear(),S.clear()})}};var H9=`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`;const nJ=n=>n.nodeName==="BR"||!!n.getAttribute("data-mce-bogus")||n.getAttribute("data-mce-type")==="bookmark",oJ=(n,s,i)=>{const f=s.delimiter??"",b=(B,z,Z)=>rc.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":Z}},components:[Na(B)],action:K=>{n.focus(),n.selection.select(z),n.nodeChanged()},buttonBehaviours:a([ya.config({...i.tooltips.getConfig({tooltipText:i.translate(["Select the {0} element",z.nodeName.toLowerCase()]),onShow:(K,ie)=>{ru(K.element,ie.element)},onHide:K=>{H0(K.element)}})}),S0.button(i.isDisabled),nl(()=>i.checkUiComponentContext("any"))])}),w=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Na(` ${f} `)]}),S=B=>jo(B,(z,Z,K)=>{const ie=b(Z.name,Z.element,K);return K===0?z.concat([ie]):z.concat([w(),ie])},[]),D=B=>{const z=[];let Z=B.length;for(;Z-- >0;){const K=B[Z];if(K.nodeType===1&&!nJ(K)){const ie=pG(n,K);if(ie.isDefaultPrevented()||z.push({name:ie.name,element:K}),ie.isPropagationStopped())break}}return z};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:a([io.config({mode:"flow",selector:"div[role=button]"}),Xn.config({disabled:i.isDisabled}),nl(()=>i.checkUiComponentContext("any")),ca.config({}),Po.config({}),de("elementPathEvents",[Rr((B,z)=>{n.shortcuts.add("alt+F11","focus statusbar elementpath",()=>io.focusIn(B)),n.on("NodeChange",Z=>{const K=D(Z.parents),ie=K.length>0?S(K):[];Po.set(B,ie)})})])]),components:[]}};var N1;(function(n){n[n.None=0]="None",n[n.Both=1]="Both",n[n.Vertical=2]="Vertical"})(N1||(N1={}));const z9=n=>{const s=un.fromDom(n.getContainer()),i=bi(s),f=Bi(s);return{height:i,width:f}},sJ=(n,s,i,f)=>{const b=d3(f.height+s.top,tO(n),nO(n));return i===N1.Both?{height:b,width:d3(f.width+s.left,eO(n),jk(n))}:{height:b}},j9=(n,s,i)=>{const f=un.fromDom(n.getContainer()),b=z9(n),w=sJ(n,s,i,b);return _s(w,(S,D)=>{ct(S)&&wo(f,D,u3(S))}),BN(n),w},rJ=n=>{const s=uF(n);return s===!1?N1.None:s==="both"?N1.Both:N1.Vertical},aJ=(n,s)=>s===N1.Both?hd.translate(["Editor's height: {0} pixels, Editor's width: {1} pixels",n.height,n.width]):hd.translate(["Editor's height: {0} pixels",n.height]),SM=(n,s,i)=>{co(n.element,"aria-valuetext",aJ(s,i))},S3=(n,s,i,f,b)=>{const S=cr(f*20,b*20),D=j9(n,S,i);return SM(s,D,i),P.some(!0)},V9=(n,s)=>{const i=rJ(n);if(i===N1.None)return P.none();const f=i===N1.Both?hd.translate("Press the arrow keys to resize the editor."):hd.translate("Press the Up and Down arrow keys to resize the editor."),b=i===N1.Both?"tox-statusbar__resize-cursor-both":"tox-statusbar__resize-cursor-default";return P.some(lh("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle",b],attributes:{"aria-label":s.translate(f),"data-mce-name":"resize-handle",role:"separator"},behaviours:[zb.config({mode:"mouse",repositionTarget:!1,onDrag:(w,S,D)=>{const B=j9(n,D,i);SM(w,B,i)},blockerClass:"tox-blocker"}),io.config({mode:"special",onLeft:w=>S3(n,w,i,-1,0),onRight:w=>S3(n,w,i,1,0),onUp:w=>S3(n,w,i,0,-1),onDown:w=>S3(n,w,i,0,1)}),ca.config({}),Qe.config({}),ya.config(s.tooltips.getConfig({tooltipText:s.translate("Resize")})),de("set-aria-valuetext",[Rr(w=>{const S=()=>{SM(w,z9(n),i)};n._skinLoaded?S():n.once("SkinLoaded",S)})])],eventOrder:{[Lc()]:["add-focusable","set-aria-valuetext"]}},s.icons))},iJ=(n,s)=>{const i=(f,b,w)=>Po.set(f,[Na(s.translate(["{0} "+w,b[w]]))]);return rc.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:a([S0.button(s.isDisabled),nl(()=>s.checkUiComponentContext("any")),ca.config({}),Po.config({}),Pn.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),de("wordcount-events",[wm(f=>{const b=Pn.getValue(f),w=b.mode==="words"?"characters":"words";Pn.setValue(f,{mode:w,count:b.count}),i(f,b.count,w)}),Rr(f=>{n.on("wordCountUpdate",b=>{const{mode:w}=Pn.getValue(f);Pn.setValue(f,{mode:w,count:b.wordCount}),i(f,b.wordCount,w)})})])]),eventOrder:{[Ns()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},U9=(n,s)=>{const i=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":n.translate(["Build with {0}","TinyMCE"])},innerHtml:n.translate(["Build with {0}",H9.trim()])},behaviours:a([Qe.config({})])}]}),f=()=>{const D=xN("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Na(hd.translate(["Press {0} for help",D]))]}},b=()=>{const D=[];return n.hasPlugin("wordcount")&&D.push(iJ(n,s)),lO(n)&&D.push(i()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:D}},w=()=>{const D=[],B=hF(n),z=cF(n),Z=lO(n)||n.hasPlugin("wordcount"),K=()=>{const ie="tox-statusbar__text-container--flex-start",he="tox-statusbar__text-container--flex-end",xe="tox-statusbar__text-container--space-around";if(B){const De="tox-statusbar__text-container-3-cols";return!Z&&!z?[De,xe]:Z&&!z?[De,he]:[De,ie]}return[Z&&!z?he:ie]};return z&&D.push(oJ(n,{},s)),B&&D.push(f()),Z&&D.push(b()),D.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...K()]},components:D}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const D=w(),B=V9(n,s);return D.concat(B.toArray())})()}},Z9=(n,s)=>s.get().getOrDie(`UI for ${n} has not been rendered`),lJ=(n,s)=>{const i=n.inline,f=i?uQ:nQ,b=Vw(n)?NY:TY,w=f3(),S=xo(),D=xo(),B=xo(),ie=Za().deviceType.isTouch()?["tox-platform-touch"]:[],he=Wk(n),xe=Vx(n),De=ur({dom:{tag:"div",classes:["tox-anchorbar"]}}),Ie=ur({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),Ee=()=>w.mainUi.get().map(so=>so.outerContainer).bind(Zr.getHeader),Ke=()=>Bn.fromOption(w.dialogUi.get().map(so=>so.sink),"UI has not been rendered"),ot=()=>Bn.fromOption(w.popupUi.get().map(so=>so.sink),"(popup) UI has not been rendered"),wt=w.lazyGetInOuterOrDie("anchor bar",De.getOpt),_t=w.lazyGetInOuterOrDie("bottom anchor bar",Ie.getOpt),Tn=w.lazyGetInOuterOrDie("toolbar",Zr.getToolbar),Xt=w.lazyGetInOuterOrDie("throbber",Zr.getThrobber),nn=CY({popup:ot,dialog:Ke},n,wt,_t),tn=()=>{const so={attributes:{[Qp]:he?Vf.BottomToTop:Vf.TopToBottom}},Zo=Zr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:nn.popup,onEscape:()=>{n.focus()}}),Hr=Zr.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:nn.popup.shared.getSink,providers:nn.popup.shared.providers,onEscape:()=>{n.focus()},onToolbarToggled:R1=>{bG(n,R1)},type:xe,lazyToolbar:Tn,lazyHeader:()=>Ee().getOrDie("Could not find header element"),...so}),dr=Zr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:nn.popup.shared.providers,onEscape:()=>{n.focus()},type:xe}),ju=dv(n),ti=zw(n),Kf=Hw(n),jc=mF(n),dh=fo(jc),yu=ju||ti||Kf,ug=()=>ju?[dr]:ti?[Hr]:[],Ev=[dh,Zo];return Zr.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(yu?[]:["tox-editor-header--empty"]),...so},components:et([Kf?Ev:[],ug(),jw(n)?[]:[De.asSpec()]]),sticky:Vw(n),editor:n,sharedBackstage:nn.popup.shared})},fo=so=>Zr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:so}),Qn=()=>{const so=Zr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Zo=Zr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[so,Zo]}},hs=()=>{const so=uO(n),Zo=oe(Ml(),so)&&hr(so,"display")==="grid",Hr={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(ie),attributes:{...hd.isRtl()?{dir:"rtl"}:{}}},behaviours:a([fd.config({useFixed:()=>b.isDocked(Ee)})])},dr={dom:{styles:{width:document.body.clientWidth+"px"}},events:na([Nt(xi(),Kf=>{wo(Kf.element,"width",document.body.clientWidth+"px")})])},ju=E(Wt(Hr,Zo?dr:{})),ti=e5(ju);return D.set(ti),{sink:ju,mothership:ti}},mo=()=>{const so={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(ie),attributes:{...hd.isRtl()?{dir:"rtl"}:{}}},behaviours:a([fd.config({useFixed:()=>b.isDocked(Ee),getBounds:()=>s.getPopupSinkBounds()})])},Zo=E(so),Hr=e5(Zo);return B.set(Hr),{sink:Zo,mothership:Hr}},$o=()=>{const so=tn(),Zo=Qn(),Hr=Zr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:nn.popup}),dr=Zr.parts.viewWrapper({backstage:nn.popup}),ju=lF(n)&&!i?P.some(U9(n,nn.popup.shared.providers)):P.none(),ti=et([he?[]:[so],i?[]:[Zo],he?[so]:[]]),Kf=Zr.parts.editorContainer({components:et([ti,i?[]:[Ie.asSpec()]])}),jc=dO(n),dh={role:"application",...hd.isRtl()?{dir:"rtl"}:{},...jc?{"aria-hidden":"true"}:{}},yu=E(Zr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(he?["tox-tinymce--toolbar-bottom"]:[]).concat(ie),styles:{visibility:"hidden",...jc?{opacity:"0",border:"0"}:{}},attributes:dh},components:[Kf,...i?[]:[dr,...ju.toArray()],Hr],behaviours:a([nl(()=>nn.popup.shared.providers.checkUiComponentContext("any")),Xn.config({disableClass:"tox-tinymce--disabled"}),io.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),ug=e5(yu);return S.set(ug),{mothership:ug,outerContainer:yu}},eo=so=>{const Zo=u3(aQ(n)),Hr=u3(iQ(n));return n.inline||(tf("div","width",Hr)&&wo(so.element,"width",Hr),tf("div","height",Zo)?wo(so.element,"height",Zo):wo(so.element,"height","400px")),Zo},Gt=so=>{n.addShortcut("alt+F9","focus menubar",()=>{Zr.focusMenubar(so)}),n.addShortcut("alt+F10","focus toolbar",()=>{Zr.focusToolbar(so)}),n.addCommand("ToggleToolbarDrawer",(Zo,Hr,dr)=>{Hr?.skipFocus?(SY("skipFocus"),Zr.toggleToolbarDrawerWithoutFocusing(so)):dr?.skip_focus?Zr.toggleToolbarDrawerWithoutFocusing(so):Zr.toggleToolbarDrawer(so)}),n.addQueryStateHandler("ToggleToolbarDrawer",()=>Zr.isToolbarDrawerToggled(so)),n.on("blur",()=>{Vx(n)===ih.floating&&Zr.isToolbarDrawerToggled(so)&&Zr.toggleToolbarDrawerWithoutFocusing(so)})},bn=so=>{const{mainUi:Zo,popupUi:Hr,uiMotherships:dr}=so;Ms(JL(n),(M1,gT)=>{n.ui.registry.addGroupToolbarButton(gT,M1)});const{buttons:ju,menuItems:ti,contextToolbars:Kf,sidebars:jc,views:dh}=n.ui.registry.getAll(),yu=bE(n),ug={menuItems:ti,menus:yF(n),menubar:oF(n),toolbar:yu.getOrThunk(()=>Uk(n)),allowToolbarGroups:xe===ih.floating,buttons:ju,sidebar:jc,views:dh};Gt(Zo.outerContainer),FR(n,Zo.mothership,dr),b.setup(n,nn.popup.shared,Ee),$Q(n,nn.popup),F9(n,nn.popup.shared.getSink,nn.popup),BY(n),IY(n,Xt,nn.popup.shared),y9(n,Kf,Hr.sink,{backstage:nn.popup}),tJ(n,Hr.sink);const Ev=n.getElement(),R1=eo(Zo.outerContainer),xC={targetNode:Ev,height:R1};return f.render(n,so,ug,nn.popup,xC)},So=so=>(B.set(so.mothership),so),qo=()=>{const so=$o(),Zo=hs(),Hr=fv(n)?mo():So(Zo);w.dialogUi.set(Zo),w.popupUi.set(Hr),w.mainUi.set(so);const dr={popupUi:Hr,dialogUi:Zo,mainUi:so,uiMotherships:w.getUiMotherships()};return bn(dr)};return{popups:{backstage:nn.popup,getMothership:()=>Z9("popups",B)},dialogs:{backstage:nn.dialog,getMothership:()=>Z9("dialogs",D)},renderUI:qo}},W9=n=>{const s=[],i={};return _s(n,(f,b)=>{f.fold(()=>{s.push(b)},w=>{i[b]=w})}),s.length>0?Bn.error(s):Bn.value(i)},d2=(n,s,i,f)=>{const b=ur(iv.sketch(w=>({dom:{tag:"div",classes:["tox-form"].concat(n.classes)},components:He(n.items,S=>O$(w,S,s,i,f))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[b.asSpec()]}],behaviours:a([io.config({mode:"acyclic",useTabstopAt:We(UE)}),cp.memento(b),oK(b,{postprocess:w=>W9(w).fold(S=>(console.error(S),{}),lt)}),de("dialog-body-panel",[Nt(ec(),(w,S)=>{w.getSystem().broadcastOn([wv],{newFocus:P.some(S.event.target)})})])])}},q9=(n,s,i)=>He(n,(f,b)=>{Po.set(i,n[b].view());const w=s.dom.getBoundingClientRect();return Po.set(i,[]),w.height}),cJ=n=>Un(vt(n,(s,i)=>s>i?-1:s<i?1:0)),uJ=(n,s,i)=>{const f=bp(n).dom,b=nu(n,".tox-dialog-wrap").getOr(n),w=hr(b,"position")==="fixed";let S;w?S=Math.max(f.clientHeight,window.innerHeight):S=Math.max(f.offsetHeight,f.scrollHeight);const D=bi(s),z=s.dom.offsetLeft>=i.dom.offsetLeft+Bi(i)?Math.max(bi(i),D):D,Z=parseInt(hr(n,"margin-top"),10)||0,K=parseInt(hr(n,"margin-bottom"),10)||0,he=bi(n)+Z+K-z;return S-he},dJ=(n,s)=>{Un(n).each(i=>jx.showTab(s,i.value))},G9=(n,s)=>{wo(n,"height",s+"px"),wo(n,"flex-basis",s+"px")},E3=(n,s,i)=>{nu(n,'[role="dialog"]').each(f=>{ar(f,'[role="tablist"]').each(b=>{i.get().map(w=>(wo(s,"height","0"),wo(s,"flex-basis","0"),Math.min(w,uJ(f,s,b)))).each(w=>{G9(s,w)})})})},T3=n=>ar(n,'[role="tabpanel"]'),fJ=n=>{const s=xo();return{extraEvents:[Rr(b=>{const w=b.element;T3(w).each(S=>{wo(S,"visibility","hidden"),b.getSystem().getByDom(S).toOptional().each(D=>{const B=q9(n,S,D);cJ(B).fold(s.clear,s.set)}),E3(w,S,s),rs(S,"visibility"),dJ(n,b),requestAnimationFrame(()=>{E3(w,S,s)})})}),Nt(xi(),b=>{const w=b.element;T3(w).each(S=>{E3(w,S,s)})}),Nt(sR,(b,w)=>{const S=b.element;T3(S).each(D=>{const B=ai(Ai(D));wo(D,"visibility","hidden");const z=Vr(D,"height").map(ie=>parseInt(ie,10));rs(D,"height"),rs(D,"flex-basis");const Z=D.dom.getBoundingClientRect().height;z.forall(ie=>Z>ie)?(s.set(Z),E3(S,D,s)):z.each(ie=>{G9(D,ie)}),rs(D,"visibility"),B.each(Pa)})})],selectFirst:!1}},K9="send-data-to-section",Y9="send-data-to-view",mJ=(n,s,i,f)=>{const b=Nn({}),w=Z=>{const K=Pn.getValue(Z),ie=W9(K).getOr({}),he=b.get(),xe=Wt(he,ie);b.set(xe)},S=Z=>{const K=b.get();Pn.setValue(Z,K)},D=Nn(null),B=He(n.tabs,Z=>({value:Z.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Na(i.shared.providers.translate(Z.title))],view:()=>[iv.sketch(K=>({dom:{tag:"div",classes:["tox-form"]},components:He(Z.items,ie=>O$(K,ie,s,i,f)),formBehaviours:a([io.config({mode:"acyclic",useTabstopAt:We(UE)}),de("TabView.form.events",[Rr(S),hf(w)]),md.config({channels:vc([{key:K9,value:{onReceive:w}},{key:Y9,value:{onReceive:S}}])})])}))]})),z=fJ(B);return jx.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(Z,K,ie)=>{const he=Pn.getValue(K);no(Z,O7,{name:he,oldName:D.get()}),D.set(he)},tabs:B,components:[jx.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[jL.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:a([ca.config({})])}),jx.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:z.selectFirst,tabSectionBehaviours:a([de("tabpanel",z.extraEvents),io.config({mode:"acyclic"}),Ft.config({find:Z=>Un(jx.getViewItems(Z))}),l2(P.none(),Z=>(Z.getSystem().broadcastOn([K9],{}),b.get()),(Z,K)=>{b.set(K),Z.getSystem().broadcastOn([Y9],{})})])})},X9=(n,s,i,f,b,w)=>{const S=z=>{const Z=z.body;return Z.type==="tabpanel"?[mJ(Z,z.initialData,f,w)]:[d2(Z,z.initialData,f,w)]},D=(z,Z)=>P.some({isTabPanel:()=>Z.body.type==="tabpanel"}),B={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...i.map(z=>({id:z})).getOr({}),...b?B:{}}},components:[],behaviours:a([cp.childAt(0),qf.config({channel:`${Y7}-${s}`,updateState:D,renderComponents:S,initialData:n})])}},hJ=(n,s,i,f,b,w)=>X9(n,s,P.some(i),f,b,w),gJ=(n,s,i,f)=>{const b=X9(n,s,P.none(),i,!1,f);return ac.parts.body(b)},Q9=n=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[G7(P.none(),{dom:{tag:"iframe",attributes:{src:n.url}},behaviours:a([ca.config({}),Qe.config({})])})]}],behaviours:a([io.config({mode:"acyclic",useTabstopAt:We(UE)})])};return ac.parts.body(s)},pJ=Pw.deviceType.isTouch(),J9=(n,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[n,s]}),eH=(n,s)=>ac.parts.close(rc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:n,buttonBehaviours:a([ca.config({})])})),tH=()=>ac.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),nH=(n,s)=>ac.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:h0(`<p>${SE(s.translate(n))}</p>`)}]}]}),A3=n=>ac.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:n}),oH=(n,s)=>[d0.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:n}),d0.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],EM=n=>{const s="tox-dialog",i=s+"-wrap",f=i+"__backdrop",b=s+"__disable-scroll";return ac.sketch({lazySink:n.lazySink,onEscape:w=>(n.onEscape(w),P.some(!0)),useTabstopAt:w=>!UE(w),firstTabstop:n.firstTabstop,dom:{tag:"div",classes:[s].concat(n.extraClasses),styles:{position:"relative",...n.extraStyles}},components:[n.header,n.body,...n.footer.toArray()],parts:{blocker:{dom:h0(`<div class="${i}"></div>`),components:[{dom:{tag:"div",classes:pJ?[f,f+"--opaque"]:[f]}}]}},dragBlockClass:i,modalBehaviours:a([Qe.config({}),de("dialog-events",n.dialogEvents.concat([t0(ec(),(w,S)=>{Jt.isBlocked(w)?J():io.focusIn(w)}),Nt($h(),(w,S)=>{w.getSystem().broadcastOn([wv],{newFocus:S.event.newFocus})})])),de("scroll-lock",[Rr(()=>{Qs(Ml(),b)}),hf(()=>{ma(Ml(),b)})]),...n.extraBehaviours]),eventOrder:{[Ns()]:["dialog-events"],[Lc()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[wc()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...n.eventOrder}})},sH=n=>rc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:a([ca.config({}),ya.config(n.tooltips.getConfig({tooltipText:n.translate("Close")}))]),components:[lh("close",{tag:"span",classes:["tox-icon"]},n.icons)],action:s=>{cs(s,ty)}}),rH=(n,s,i,f)=>{const b=w=>[Na(f.translate(w.title))];return{dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...i.map(w=>({id:w})).getOr({})}},components:[],behaviours:a([qf.config({channel:`${lR}-${s}`,initialData:n,renderComponents:b})])}},aH=()=>({dom:h0('<div class="tox-dialog__draghandle"></div>')}),bJ=(n,s,i,f)=>d0.sketch({dom:h0('<div class="tox-dialog__header"></div>'),components:[rH(n,s,P.some(i),f),aH(),sH(f)],containerBehaviours:a([zb.config({mode:"mouse",blockerClass:"blocker",getTarget:b=>yi(b,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(b,w)=>{b.getSystem().broadcastOn([pl()],{target:w})}})])}),yJ=(n,s,i)=>{const f=ac.parts.title(rH(n,s,P.none(),i)),b=ac.parts.draghandle(aH()),w=ac.parts.close(sH(i)),S=[f].concat(n.draggable?[b]:[]).concat([w]);return d0.sketch({dom:h0('<div class="tox-dialog__header"></div>'),components:S})},iH=(n,s,i)=>yJ({title:i.shared.providers.translate(n),draggable:i.dialog.isDraggableModal()},s,i.shared.providers),TM=(n,s,i,f)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(n)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${f.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:h0('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),AM=(n,s,i)=>({onClose:()=>i.closeWindow(),onBlock:f=>{const b=ar(n().element,".tox-dialog__header").map(w=>bi(w));ac.setBusy(n(),(w,S)=>TM(f.message,S,s,b))},onUnblock:()=>{ac.setIdle(n())}}),lH="tox-dialog--fullscreen",f2="tox-dialog--width-lg",kM="tox-dialog--width-md",k3=n=>{switch(n){case"large":return P.some(f2);case"medium":return P.some(kM);default:return P.none()}},_3=(n,s)=>{const i=un.fromDom(s.element.dom);ka(i,lH)||(El(i,[f2,kM]),k3(n).each(f=>Qs(i,f)))},cH=(n,s)=>{const i=un.fromDom(n.element.dom),f=Nu(i),b=Be(f,w=>w===f2||w===kM).or(k3(s));sf(i,[lH,...b.toArray()])},uH=(n,s,i)=>E(EM({...n,firstTabstop:1,lazySink:i.shared.getSink,extraBehaviours:[N4({}),...n.extraBehaviours],onEscape:f=>{cs(f,ty)},dialogEvents:s,eventOrder:{[Ph()]:[qf.name(),md.name()],[Lc()]:["scroll-lock",qf.name(),"messages","dialog-events","alloy.base.behaviour"],[wc()]:["alloy.base.behaviour","dialog-events","messages",qf.name(),"scroll-lock"]}})),_M=(n,s={})=>{const i=f=>{const b=He(f.items,w=>{const S=$n(s,w.name).getOr(Nn(!1));return{...w,storage:S}});return{...f,items:b}};return He(n,f=>f.type==="menu"?i(f):f)},dH=n=>jo(n,(s,i)=>i.type==="menu"?jo(i.items,(b,w)=>(b[w.name]=w.storage,b),s):s,{}),fH=(n,s)=>[e0(ec(),K7),n(i2,(i,f,b,w)=>{eu(w.element)&&ai(Ai(w.element)).each(fa),s.onClose(),f.onClose()}),n(ty,(i,f,b,w)=>{f.onCancel(i),cs(w,i2)}),Nt(D4,(i,f)=>s.onUnblock()),Nt(oR,(i,f)=>s.onBlock(f.event))],vJ=(n,s)=>{const i=(b,w)=>Nt(b,(S,D)=>{f(S,(B,z)=>{w(n(),B,D.event,S)})}),f=(b,w)=>{qf.getState(b).get().each(S=>{w(S,b)})};return[...fH(i,s),i(lp,(b,w,S)=>{w.onAction(b,{name:S.name})})]},mH=(n,s,i)=>{const f=(w,S)=>Nt(w,(D,B)=>{b(D,(z,Z)=>{S(n(),z,B.event,D)})}),b=(w,S)=>{qf.getState(w).get().each(D=>{S(D.internalDialog,w)})};return[...fH(f,s),f(VE,(w,S)=>S.onSubmit(w)),f(vf,(w,S,D)=>{S.onChange(w,{name:D.name})}),f(lp,(w,S,D,B)=>{const z=()=>B.getSystem().isConnected()?io.focusIn(B):void 0,Z=he=>$a(he,"disabled")||li(he,"aria-disabled").exists(xe=>xe==="true"),K=Ai(B.element),ie=ai(K);S.onAction(w,{name:D.name,value:D.value}),ai(K).fold(z,he=>{Z(he)||ie.exists(xe=>Ae(he,xe)&&Z(xe))?z():i().toOptional().filter(xe=>!Ae(xe.element,he)).each(z)})}),f(O7,(w,S,D)=>{S.onTabChange(w,{newTabName:D.name,oldTabName:D.oldName})}),hf(w=>{const S=n();Pn.setValue(w,S.getData())})]},xJ=(n,s)=>GE(n,n.type,s),wJ=(n,s,i)=>Be(s,f=>f.name===i).bind(f=>f.memento.getOpt(n)),CJ=(n,s)=>{const i=s.map(D=>D.footerButtons).getOr([]),f=zo(i,D=>D.align==="start"),b=(D,B)=>d0.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${D}`]},components:He(B,z=>z.memento.asSpec())}),w=b("start",f.pass),S=b("end",f.fail);return[w,S]},hH=(n,s,i)=>{const f=(b,w)=>{const S=He(w.buttons,B=>{const z=ur(xJ(B,i));return{name:B.name,align:B.align,memento:z}}),D=B=>wJ(b,S,B);return P.some({lookupByName:D,footerButtons:S})};return{dom:h0('<div class="tox-dialog__footer"></div>'),components:[],behaviours:a([qf.config({channel:`${X7}-${s}`,initialData:n,updateState:f,renderComponents:CJ})])}},SJ=(n,s,i)=>hH(n,s,i),gH=(n,s,i)=>ac.parts.footer(hH(n,s,i)),D3=(n,s)=>{if(n.getRoot().getSystem().isConnected()){const f=Ft.getCurrent(n.getFormWrapper()).getOr(n.getFormWrapper());return iv.getField(f,s).orThunk(()=>n.getFooter().bind(S=>qf.getState(S).get()).bind(S=>S.lookupByName(s)))}else return P.none()},EJ=(n,s)=>{const i=n.getRoot();return qf.getState(i).get().map(f=>Ju(ha("data",f.dataValidator,s))).getOr(s)},pH=(n,s,i)=>{const f=xe=>{const De=n.getRoot();De.getSystem().isConnected()&&xe(De)},he={getData:()=>{const xe=n.getRoot(),De=xe.getSystem().isConnected()?n.getFormWrapper():xe,Ie=Pn.getValue(De),Ee=Ms(i,Ke=>Ke.get());return{...Ie,...Ee}},setData:xe=>{f(De=>{const Ie=he.getData(),Ee=Wt(Ie,xe),Ke=EJ(n,Ee),ot=n.getFormWrapper();Pn.setValue(ot,Ke),_s(i,(wt,_t)=>{Yo(Ee,_t)&&wt.set(Ee[_t])})})},setEnabled:(xe,De)=>{D3(n,xe).each(De?Xn.enable:Xn.disable)},focus:xe=>{D3(n,xe).each(Qe.focus)},block:xe=>{if(!I(xe))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");f(De=>{no(De,oR,{message:xe})})},unblock:()=>{f(xe=>{cs(xe,D4)})},showTab:xe=>{f(De=>{const Ie=n.getBody();qf.getState(Ie).get().exists(Ke=>Ke.isTabPanel())&&Ft.getCurrent(Ie).each(Ke=>{jx.showTab(Ke,xe)})})},redial:xe=>{f(De=>{const Ie=n.getId(),Ee=s(xe),Ke=_M(Ee.internalDialog.buttons,i);De.getSystem().broadcastOn([`${F4}-${Ie}`],Ee),De.getSystem().broadcastOn([`${lR}-${Ie}`],Ee.internalDialog),De.getSystem().broadcastOn([`${Y7}-${Ie}`],Ee.internalDialog),De.getSystem().broadcastOn([`${X7}-${Ie}`],{...Ee.internalDialog,buttons:Ke}),he.setData(Ee.initialData)})},close:()=>{f(xe=>{cs(xe,i2)})},toggleFullscreen:n.toggleFullscreen};return he},TJ=(n,s,i)=>{const f=me("dialog"),b=n.internalDialog,w=iH(b.title,f,i),S=Nn(b.size),D=ot=>D3(Ee,ot),B=k3(S.get()).toArray(),z=(ot,wt)=>(S.set(wt.internalDialog.size),_3(wt.internalDialog.size,ot),P.some(wt)),Z=gJ({body:b.body,initialData:b.initialData},f,i,D),K=_M(b.buttons),ie=dH(K),he=Ca(K.length!==0,gH({buttons:K},f,i)),xe=mH(()=>Ke,AM(()=>Ie,i.shared.providers,s),i.shared.getSink),De={id:f,header:w,body:Z,footer:he,extraClasses:B,extraBehaviours:[qf.config({channel:`${F4}-${f}`,updateState:z,initialData:n})],extraStyles:{}},Ie=uH(De,xe,i),Ee=(()=>{const ot=()=>{const _t=ac.getBody(Ie);return Ft.getCurrent(_t).getOr(_t)},wt=()=>{cH(Ie,S.get())};return{getId:ae(f),getRoot:ae(Ie),getBody:()=>ac.getBody(Ie),getFooter:()=>ac.getFooter(Ie),getFormWrapper:ot,toggleFullscreen:wt}})(),Ke=pH(Ee,s.redial,ie);return{dialog:Ie,instanceApi:Ke}},hT=(n,s,i,f=!1,b)=>{const w=me("dialog"),S=me("dialog-label"),D=me("dialog-content"),B=n.internalDialog,z=tn=>D3(Xt,tn),Z=Nn(B.size),K=k3(Z.get()).toArray(),ie=(tn,fo)=>(Z.set(fo.internalDialog.size),_3(fo.internalDialog.size,tn),b(),P.some(fo)),he=ur(bJ({title:B.title,draggable:!0},w,S,i.shared.providers)),xe=ur(hJ({body:B.body,initialData:B.initialData},w,D,i,f,z)),De=_M(B.buttons),Ie=dH(De),Ee=Ca(De.length!==0,ur(SJ({buttons:De},w,i))),Ke=mH(()=>nn,{onBlock:tn=>{Jt.block(_t,(fo,Qn)=>{const hs=he.getOpt(_t).map(mo=>bi(mo.element));return TM(tn.message,Qn,i.shared.providers,hs)})},onUnblock:()=>{Jt.unblock(_t)},onClose:()=>s.closeWindow()},i.shared.getSink),ot="tox-dialog-inline",wt=Za().os,_t=E({dom:{tag:"div",classes:["tox-dialog",ot,...K],attributes:{role:"dialog",...wt.isMacOS()?{"aria-label":B.title}:{"aria-labelledby":S}}},eventOrder:{[Ph()]:[qf.name(),md.name()],[Ns()]:["execute-on-form"],[Lc()]:["reflecting","execute-on-form"]},behaviours:a([io.config({mode:"cyclic",onEscape:tn=>(cs(tn,i2),P.some(!0)),useTabstopAt:tn=>!UE(tn)&&(vd(tn)!=="button"||Jr(tn,"disabled")!=="disabled"),firstTabstop:1}),qf.config({channel:`${F4}-${w}`,updateState:ie,initialData:n}),Qe.config({}),de("execute-on-form",Ke.concat([t0(ec(),(tn,fo)=>{io.focusIn(tn)}),Nt($h(),(tn,fo)=>{tn.getSystem().broadcastOn([wv],{newFocus:fo.event.newFocus})})])),Jt.config({getRoot:()=>P.some(_t)}),Po.config({}),N4({})]),components:[he.asSpec(),xe.asSpec(),...Ee.map(tn=>tn.asSpec()).toArray()]}),Tn=()=>{cH(_t,Z.get())},Xt={getId:ae(w),getRoot:ae(_t),getFooter:()=>Ee.map(tn=>tn.get(_t)),getBody:()=>xe.get(_t),getFormWrapper:()=>{const tn=xe.get(_t);return Ft.getCurrent(tn).getOr(tn)},toggleFullscreen:Tn},nn=pH(Xt,s.redial,Ie);return{dialog:_t,instanceApi:nn}};var DM=tinymce.util.Tools.resolve("tinymce.util.URI");const AJ=n=>{const s=S=>{n.getSystem().isConnected()&&S(n)};return{block:S=>{if(!I(S))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(D=>{no(D,oR,{message:S})})},unblock:()=>{s(S=>{cs(S,D4)})},close:()=>{s(S=>{cs(S,i2)})},sendMessage:S=>{s(D=>{D.getSystem().broadcastOn([Oo],S)})}}},kJ=["insertContent","setContent","execCommand","close","block","unblock"],bH=n=>U(n)&&kJ.indexOf(n.mceAction)!==-1,_J=n=>!bH(n)&&U(n)&&Yo(n,"mceAction"),DJ=(n,s,i)=>{switch(i.mceAction){case"insertContent":n.insertContent(i.content);break;case"setContent":n.setContent(i.content);break;case"execCommand":const f=fe(i.ui)?i.ui:!1;n.execCommand(i.cmd,f,i.value);break;case"close":s.close();break;case"block":s.block(i.message);break;case"unblock":s.unblock();break}},yH=(n,s,i,f)=>{const b=me("dialog"),w=iH(n.title,b,f),S=Q9(n),D=n.buttons.bind(ot=>ot.length===0?P.none():P.some(gH({buttons:ot},b,f))),B=vJ(()=>Ke,AM(()=>Ee,f.shared.providers,s)),z={...n.height.fold(()=>({}),ot=>({height:ot+"px","max-height":ot+"px"})),...n.width.fold(()=>({}),ot=>({width:ot+"px","max-width":ot+"px"}))},Z=n.width.isNone()&&n.height.isNone()?["tox-dialog--width-lg"]:[],K=new DM(n.url,{base_uri:new DM(window.location.href)}),ie=`${K.protocol}://${K.host}${K.port?":"+K.port:""}`,he=Lr(),xe=(ot,wt)=>P.some(wt),De=[qf.config({channel:`${F4}-${b}`,updateState:xe,initialData:n}),de("messages",[Rr(()=>{const ot=Ls(un.fromDom(window),"message",wt=>{if(K.isSameOrigin(new DM(wt.raw.origin))){const _t=wt.raw.data;bH(_t)?DJ(i,Ke,_t):_J(_t)&&n.onMessage(Ke,_t)}});he.set(ot)}),hf(he.clear)]),md.config({channels:{[Oo]:{onReceive:(ot,wt)=>{ar(ot.element,"iframe").each(_t=>{const Tn=_t.dom.contentWindow;$e(Tn)&&Tn.postMessage(wt,ie)})}}}})],Ee=uH({id:b,header:w,body:S,footer:D,extraClasses:Z,extraBehaviours:De,extraStyles:z},B,f),Ke=AJ(Ee);return{dialog:Ee,instanceApi:Ke}},OJ=n=>{const s=n.shared;return{open:(f,b)=>{const w=()=>{ac.hide(z),b()},S=ur(GE({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:P.some("primary"),align:"end",enabled:!0,icon:P.none()},"cancel",n)),D=tH(),B=eH(w,s.providers),z=E(EM({lazySink:()=>s.getSink(),header:J9(D,B),body:nH(f,s.providers),footer:P.some(A3(oH([],[S.asSpec()]))),onEscape:w,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Nt(ty,w)],eventOrder:{}}));ac.show(z);const Z=S.get(z);Qe.focus(Z)}}},NJ=n=>{const s=n.shared;return{open:(f,b)=>{const w=ie=>{ac.hide(Z),b(ie)},S=ur(GE({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:P.some("primary"),align:"end",enabled:!0,icon:P.none()},"submit",n)),D=GE({context:"any",name:"no",text:"No",primary:!1,buttonType:P.some("secondary"),align:"end",enabled:!0,icon:P.none()},"cancel",n),B=tH(),z=eH(()=>w(!1),s.providers),Z=E(EM({lazySink:()=>s.getSink(),header:J9(B,z),body:nH(f,s.providers),footer:P.some(A3(oH([],[D,S.asSpec()]))),onEscape:()=>w(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Nt(ty,()=>w(!1)),Nt(VE,()=>w(!0))],eventOrder:{}}));ac.show(Z);const K=S.get(Z);Qe.focus(K)}}},vH=(n,s)=>Ju(ha("data",s,n)),xH=n=>Fm(n,".tox-alert-dialog")||Fm(n,".tox-confirm-dialog"),RJ=(n,s,i,f)=>s&&i?[]:[ei.config({contextual:{lazyContext:()=>P.some(Di(un.fromDom(n.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition",onHide:f},modes:["top"],lazyViewport:b=>Wb(n,b.element).map(S=>({bounds:Ux(S),optScrollEnv:P.some({currentScrollTop:S.element.dom.scrollTop,scrollElmTop:Bl(S.element).top})})).getOrThunk(()=>({bounds:bc(),optScrollEnv:P.none()}))})],OM=n=>{const s=n.editor,i=Vw(s),f=OJ(n.backstages.dialog),b=NJ(n.backstages.dialog),w=(xe,De,Ie)=>{if(!Ce(De)){if(De.inline==="toolbar")return z(xe,n.backstages.popup.shared.anchors.inlineDialog(),Ie,De);if(De.inline==="bottom")return Z(xe,n.backstages.popup.shared.anchors.inlineBottomDialog(),Ie,De);if(De.inline==="cursor")return z(xe,n.backstages.popup.shared.anchors.cursor(),Ie,De)}return B(xe,Ie)},S=(xe,De)=>D(xe,De),D=(xe,De)=>{const Ie=Ee=>{const Ke=yH(Ee,{closeWindow:()=>{ac.hide(Ke.dialog),De(Ke.instanceApi)}},s,n.backstages.dialog);return ac.show(Ke.dialog),Ke.instanceApi};return t2.openUrl(Ie,xe)},B=(xe,De)=>{const Ie=(Ee,Ke,ot)=>{const wt=Ke,Tn=TJ({dataValidator:ot,initialData:wt,internalDialog:Ee},{redial:t2.redial,closeWindow:()=>{ac.hide(Tn.dialog),De(Tn.instanceApi)}},n.backstages.dialog);return ac.show(Tn.dialog),Tn.instanceApi.setData(wt),Tn.instanceApi};return t2.open(Ie,xe)},z=(xe,De,Ie,Ee)=>{const Ke=(ot,wt,_t)=>{const Tn=vH(wt,_t),Xt=xo(),nn=n.backstages.popup.shared.header.isPositionedAtTop(),tn={dataValidator:_t,initialData:Tn,internalDialog:ot},fo=()=>Xt.on(Gt=>{hi.reposition(Gt),(!i||!nn)&&ei.refresh(Gt)}),Qn=hT(tn,{redial:t2.redial,closeWindow:()=>{Xt.on(hi.hide),s.off("ResizeEditor",fo),s.off("ScrollWindow",hs),Xt.clear(),Ie(Qn.instanceApi)}},n.backstages.popup,Ee.ariaAttrs,fo),hs=()=>Qn.dialog.getSystem().broadcastOn([pl()],{target:Qn.dialog.element}),mo=()=>Qn.dialog.getSystem().broadcastOn([Jm()],{target:Qn.dialog.element}),$o=E(hi.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Ee.persistent?{event:"doNotDismissYet"}:{},...nn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:a([de("window-manager-inline-events",[Nt(mm(),(Gt,bn)=>{cs(Qn.dialog,ty)})]),...RJ(s,i,nn,mo)]),isExtraPart:(Gt,bn)=>xH(bn)}));Xt.set($o);const eo=()=>{const Gt=s.inline?Ml():un.fromDom(s.getContainer()),bn=Di(Gt);return P.some(bn)};return hi.showWithinBounds($o,_(Qn.dialog),{anchor:De},eo),(!i||!nn)&&(ei.refresh($o),s.on("ResizeEditor",fo)),s.on("ScrollWindow",hs),Qn.instanceApi.setData(Tn),io.focusIn(Qn.dialog),Qn.instanceApi};return t2.open(Ke,xe)},Z=(xe,De,Ie,Ee)=>{const Ke=(ot,wt,_t)=>{const Tn=vH(wt,_t),Xt=xo(),nn=n.backstages.popup.shared.header.isPositionedAtTop(),tn={dataValidator:_t,initialData:Tn,internalDialog:ot},fo=()=>Xt.on($o=>{hi.reposition($o),ei.refresh($o)}),Qn=hT(tn,{redial:t2.redial,closeWindow:()=>{Xt.on(hi.hide),s.off("ResizeEditor ScrollWindow ElementScroll",fo),Xt.clear(),Ie(Qn.instanceApi)}},n.backstages.popup,Ee.ariaAttrs,fo),hs=E(hi.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Ee.persistent?{event:"doNotDismissYet"}:{},...nn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:a([de("window-manager-inline-events",[Nt(mm(),($o,eo)=>{cs(Qn.dialog,ty)})]),ei.config({contextual:{lazyContext:()=>P.some(Di(un.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:$o=>Wb(s,$o.element).map(Gt=>({bounds:Ux(Gt),optScrollEnv:P.some({currentScrollTop:Gt.element.dom.scrollTop,scrollElmTop:Bl(Gt.element).top})})).getOrThunk(()=>({bounds:bc(),optScrollEnv:P.none()}))})]),isExtraPart:($o,eo)=>xH(eo)}));Xt.set(hs);const mo=()=>n.backstages.popup.shared.getSink().toOptional().bind($o=>{const eo=Wb(s,$o.element),Gt=15,bn=eo.map(so=>Ux(so)).getOr(bc()),So=Di(un.fromDom(s.getContentAreaContainer())),qo=Im(So,bn);return P.some(Fi(qo.x,qo.y,qo.width,qo.height-Gt))});return hi.showWithinBounds(hs,_(Qn.dialog),{anchor:De},mo),ei.refresh(hs),s.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",fo),Qn.instanceApi.setData(Tn),io.focusIn(Qn.dialog),Qn.instanceApi};return t2.open(Ke,xe)};return{open:w,openUrl:S,alert:(xe,De)=>{f.open(xe,De)},close:xe=>{xe.close()},confirm:(xe,De)=>{b.open(xe,De)}}},wH=n=>{qL(n),o7(n),HQ(n)};var MJ=()=>{WL.add("silver",n=>{wH(n);let s=()=>bc();const{dialogs:i,popups:f,renderUI:b}=lJ(n,{getPopupSinkBounds:()=>s()}),w=()=>{const Z=b();return Wb(n,f.getMothership().element).each(ie=>{s=()=>Ux(ie)}),Z};YG.register(n,f.backstage.shared);const S=OM({editor:n,backstages:{popup:f.backstage,dialog:i.backstage}}),D=xo(),B=()=>oW(n,{backstage:f.backstage},f.getMothership(),D),z=()=>ar(un.fromDom(n.getContainer()),".tox-promotion").map(Z=>Z.dom).getOrNull();return{renderUI:w,getWindowManagerImpl:ae(S),getNotificationManagerImpl:B,getPromotionElement:z}})};MJ()})()),Pre}var Ire;function Xve(){return Ire||(Ire=1,Yve()),Fre}Xve();var Hre={},zre={},jre;function Qve(){return jre||(jre=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.ModelManager");const u=(m,y,E)=>E(m,y.prototype)?!0:m.constructor?.name===y.name,p=m=>{const y=typeof m;return m===null?"null":y==="object"&&Array.isArray(m)?"array":y==="object"&&u(m,String,(E,_)=>_.isPrototypeOf(E))?"string":y},x=m=>y=>p(y)===m,A=m=>y=>typeof y===m,M=m=>y=>m===y,O=x("string"),I=x("object"),U=x("array"),V=M(null),Y=A("boolean"),ee=M(void 0),fe=m=>m==null,Ce=m=>!fe(m),pe=A("function"),$e=A("number"),be=()=>{},ct=(m,y)=>(...E)=>m(y.apply(null,E)),Oe=(m,y)=>E=>m(y(E)),J=m=>()=>m,rt=m=>m,It=(m,y)=>m===y;function qe(m,...y){return(...E)=>{const _=y.concat(E);return m.apply(null,_)}}const ae=m=>y=>!m(y),lt=m=>()=>{throw new Error(m)},En=m=>m(),dn=J(!1),We=J(!0);class Ne{tag;value;static singletonNone=new Ne(!1);constructor(y,E){this.tag=y,this.value=E}static some(y){return new Ne(!0,y)}static none(){return Ne.singletonNone}fold(y,E){return this.tag?E(this.value):y()}isSome(){return this.tag}isNone(){return!this.tag}map(y){return this.tag?Ne.some(y(this.value)):Ne.none()}bind(y){return this.tag?y(this.value):Ne.none()}exists(y){return this.tag&&y(this.value)}forall(y){return!this.tag||y(this.value)}filter(y){return!this.tag||y(this.value)?this:Ne.none()}getOr(y){return this.tag?this.value:y}or(y){return this.tag?this:y}getOrThunk(y){return this.tag?this.value:y()}orThunk(y){return this.tag?this:y()}getOrDie(y){if(this.tag)return this.value;throw new Error(y??"Called getOrDie on None")}static from(y){return Ce(y)?Ne.some(y):Ne.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(y){this.tag&&y(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Jo=Array.prototype.slice,yt=Array.prototype.indexOf,Mt=Array.prototype.push,P=(m,y)=>yt.call(m,y),zt=(m,y)=>P(m,y)>-1,at=(m,y)=>{for(let E=0,_=m.length;E<_;E++){const H=m[E];if(y(H,E))return!0}return!1},Jn=(m,y)=>{const E=[];for(let _=0;_<m;_++)E.push(y(_));return E},an=(m,y)=>{const E=m.length,_=new Array(E);for(let H=0;H<E;H++){const q=m[H];_[H]=y(q,H)}return _},le=(m,y)=>{for(let E=0,_=m.length;E<_;E++){const H=m[E];y(H,E)}},Ue=(m,y)=>{for(let E=m.length-1;E>=0;E--){const _=m[E];y(_,E)}},Pt=(m,y)=>{const E=[],_=[];for(let H=0,q=m.length;H<q;H++){const ne=m[H];(y(ne,H)?E:_).push(ne)}return{pass:E,fail:_}},Re=(m,y)=>{const E=[];for(let _=0,H=m.length;_<H;_++){const q=m[_];y(q,_)&&E.push(q)}return E},gt=(m,y,E)=>(Ue(m,(_,H)=>{E=y(E,_,H)}),E),He=(m,y,E)=>(le(m,(_,H)=>{E=y(E,_,H)}),E),dt=(m,y,E)=>{for(let _=0,H=m.length;_<H;_++){const q=m[_];if(y(q,_))return Ne.some(q);if(E(q,_))break}return Ne.none()},X=(m,y)=>dt(m,y,dn),zo=(m,y)=>{for(let E=0,_=m.length;E<_;E++){const H=m[E];if(y(H,E))return Ne.some(E)}return Ne.none()},Eo=m=>{const y=[];for(let E=0,_=m.length;E<_;++E){if(!U(m[E]))throw new Error("Arr.flatten item "+E+" was not an array, input: "+m);Mt.apply(y,m[E])}return y},Lo=(m,y)=>Eo(an(m,y)),jo=(m,y)=>{for(let E=0,_=m.length;E<_;++E){const H=m[E];if(y(H,E)!==!0)return!1}return!0},Ks=m=>{const y=Jo.call(m,0);return y.reverse(),y},Be=(m,y)=>{const E={};for(let _=0,H=m.length;_<H;_++){const q=m[_];E[String(q)]=y(q,_)}return E},Ye=(m,y)=>{const E=Jo.call(m,0);return E.sort(y),E},et=(m,y)=>y>=0&&y<m.length?Ne.some(m[y]):Ne.none(),Le=m=>et(m,0),Je=m=>et(m,m.length-1),Ot=(m,y)=>{for(let E=0;E<m.length;E++){const _=y(m[E],E);if(_.isSome())return _}return Ne.none()},xt=Object.keys,jn=Object.hasOwnProperty,go=(m,y)=>{const E=xt(m);for(let _=0,H=E.length;_<H;_++){const q=E[_],ne=m[q];y(ne,q)}},vt=(m,y)=>ln(m,(E,_)=>({k:_,v:y(E,_)})),ln=(m,y)=>{const E={};return go(m,(_,H)=>{const q=y(_,H);E[q.k]=q.v}),E},Un=m=>(y,E)=>{m[E]=y},Qo=(m,y,E,_)=>{go(m,(H,q)=>{(y(H,q)?E:_)(H,q)})},mr=(m,y)=>{const E={};return Qo(m,y,Un(E),be),E},gs=(m,y)=>{const E=[];return go(m,(_,H)=>{E.push(y(_,H))}),E},Io=m=>gs(m,rt),Gr=(m,y)=>_s(m,y)?Ne.from(m[y]):Ne.none(),_s=(m,y)=>jn.call(m,y),Ms=(m,y)=>_s(m,y)&&m[y]!==void 0&&m[y]!==null,Ra=m=>{for(const y in m)if(jn.call(m,y))return!1;return!0},Or={generate:m=>{if(!U(m))throw new Error("cases must be an array");if(m.length===0)throw new Error("there must be at least one case");const y=[],E={};return le(m,(_,H)=>{const q=xt(_);if(q.length!==1)throw new Error("one and only one name per case");const ne=q[0],ue=_[ne];if(E[ne]!==void 0)throw new Error("duplicate key detected:"+ne);if(ne==="cata")throw new Error("cannot have a case named cata (sorry)");if(!U(ue))throw new Error("case arguments must be an array");y.push(ne),E[ne]=(...Se)=>{const Ze=Se.length;if(Ze!==ue.length)throw new Error("Wrong number of arguments to case "+ne+". Expected "+ue.length+" ("+ue+"), got "+Ze);return{fold:(...Jt)=>{if(Jt.length!==m.length)throw new Error("Wrong number of arguments to fold. Expected "+m.length+", got "+Jt.length);return Jt[H].apply(null,Se)},match:Jt=>{const Ln=xt(Jt);if(y.length!==Ln.length)throw new Error("Wrong number of arguments to match. Expected: "+y.join(",")+`
Actual: `+Ln.join(","));if(!jo(y,oo=>zt(Ln,oo)))throw new Error("Not all branches were specified when using match. Specified: "+Ln.join(", ")+`
Required: `+y.join(", "));return Jt[ne].apply(null,Se)},log:Jt=>{console.log(Jt,{constructors:y,constructor:ne,params:Se})}}}}),E}},xs=m=>{let y=m;return{get:()=>y,set:H=>{y=H}}},Yr=m=>m.slice(0).sort(),Is=(m,y)=>{throw new Error("All required keys ("+Yr(m).join(", ")+") were not specified. Specified keys were: "+Yr(y).join(", ")+".")},Xr=m=>{throw new Error("Unsupported keys for object: "+Yr(m).join(", "))},Ma=(m,y)=>{if(!U(y))throw new Error("The "+m+" fields must be an array. Was: "+y+".");le(y,E=>{if(!O(E))throw new Error("The value "+E+" in the "+m+" fields was not a string.")})},$n=(m,y)=>{throw new Error("All values need to be of type: "+y+". Keys ("+Yr(m).join(", ")+") were not.")},Yo=m=>{const y=Yr(m);X(y,(_,H)=>H<y.length-1&&_===y[H+1]).each(_=>{throw new Error("The field: "+_+" occurs more than once in the combined fields: ["+y.join(", ")+"].")})},_o=(m,y)=>ui(m,y,{validate:pe,label:"function"}),ui=(m,y,E)=>{if(y.length===0)throw new Error("You must specify at least one required field.");return Ma("required",y),Yo(y),_=>{const H=xt(_);jo(y,ue=>zt(H,ue))||Is(y,H),m(y,H);const ne=Re(y,ue=>!E.validate(_[ue],ue));return ne.length>0&&$n(ne,E.label),_}},Ba=(m,y)=>{const E=Re(y,_=>!zt(m,_));E.length>0&&Xr(E)},Nn=m=>_o(Ba,m),Ut=m=>{const y=q=>q(m),E=J(m),_=()=>H,H={tag:!0,inner:m,fold:(q,ne)=>ne(m),isValue:We,isError:dn,map:q=>Wn.value(q(m)),mapError:_,bind:y,exists:y,forall:y,getOr:E,or:_,getOrThunk:E,orThunk:_,getOrDie:E,each:q=>{q(m)},toOptional:()=>Ne.some(m)};return H},qt=m=>{const y=()=>E,E={tag:!1,inner:m,fold:(_,H)=>_(m),isValue:dn,isError:We,map:y,mapError:_=>Wn.error(_(m)),bind:y,exists:dn,forall:We,getOr:rt,or:rt,getOrThunk:En,orThunk:En,getOrDie:lt(String(m)),each:be,toOptional:Ne.none};return E},Wn={value:Ut,error:qt,fromOption:(m,y)=>m.fold(()=>qt(y),Ut)},yo=typeof window<"u"?window:Function("return this;")(),Do=m=>{const y=m.replace(/\./g,"-");return{resolve:_=>y+"-"+_}},Yn=(m,y,E=It)=>m.exists(_=>E(_,y)),ss=m=>{const y=[],E=_=>{y.push(_)};for(let _=0;_<m.length;_++)m[_].each(E);return y},La=(m,y)=>m!=null?y(m):Ne.none(),sl=(m,y)=>m?Ne.some(y):Ne.none(),gi=(m,y)=>{let E=y??yo;for(let _=0;_<m.length&&E!==void 0&&E!==null;++_)E=E[m[_]];return E},Bn=(m,y)=>{const E=m.split(".");return gi(E,y)},Ys=m=>{const y=xs(Ne.none()),E=()=>y.get().each(m);return{clear:()=>{E(),y.set(Ne.none())},isSet:()=>y.get().isSome(),get:()=>y.get(),set:ue=>{E(),y.set(Ne.some(ue))}}},Xs=()=>{const m=Ys(be);return{...m,on:E=>m.get().each(E)}},jl=(m,y)=>m.substring(y),Pe=(m,y,E)=>y===""||m.length>=y.length&&m.substr(E,E+y.length)===y,Ve=(m,y)=>mn(m,y)?jl(m,y.length):m,tt=(m,y,E=0,_)=>{const H=m.indexOf(y,E);return H!==-1?ee(_)?!0:H+y.length<=_:!1},mn=(m,y)=>Pe(m,y,0),To=(m,y)=>Pe(m,y,m.length-y.length),Vo=(m=>y=>y.replace(m,""))(/^\s+|\s+$/g),is=m=>m.length>0,Ao=m=>{const y=parseFloat(m);return isNaN(y)?Ne.none():Ne.some(y)},qs=(m,y)=>{let E=null;const _=()=>{V(E)||(clearTimeout(E),E=null)};return{cancel:_,throttle:(...q)=>{_(),E=setTimeout(()=>{E=null,m.apply(null,q)},y)}}},me=m=>{let y=!1,E;return(..._)=>(y||(y=!0,E=m.apply(null,_)),E)},je="",jt=["tfoot","thead","tbody","colgroup"],yn=m=>zt(jt,m),Wt=(m,y)=>({rows:m,columns:y}),vo=(m,y)=>({row:m,column:y}),to=(m,y,E)=>({element:m,rowspan:y,colspan:E}),Rn=(m,y,E,_)=>({element:m,rowspan:y,colspan:E,isNew:_}),Ho=(m,y,E,_,H,q)=>({element:m,rowspan:y,colspan:E,row:_,column:H,isLocked:q}),ps=(m,y,E)=>({element:m,cells:y,section:E}),ws=(m,y,E,_)=>({element:m,cells:y,section:E,isNew:_}),Cs=(m,y,E)=>({element:m,isNew:y,isLocked:E}),oa=(m,y,E,_)=>({element:m,cells:y,section:E,isNew:_}),Ca=(m,y,E,_)=>({startRow:m,startCol:y,finishRow:E,finishCol:_}),Qf=(m,y,E)=>({element:m,colspan:y,column:E}),wr=(m,y)=>({element:m,columns:y}),Bs=(m,y,E)=>{const _=m.cells,H=_.slice(0,y),q=_.slice(y),ne=H.concat(E).concat(q);return Ci(m,ne)},or=(m,y,E)=>Bs(m,y,[E]),Vi=(m,y,E)=>{const _=m.cells;_[y]=E},Ci=(m,y)=>oa(m.element,y,m.section,m.isNew),Lr=(m,y)=>{const E=m.cells,_=an(E,y);return oa(m.element,_,m.section,m.isNew)},xo=(m,y)=>m.cells[y],Si=(m,y)=>xo(m,y).element,oi=m=>m.cells.length,Qr=m=>{const y=Pt(m,E=>E.section==="colgroup");return{rows:y.fail,cols:y.pass}},Sf=(m,y,E)=>{const _=an(m.cells,E);return oa(y(m.element),_,m.section,!0)},uc=(m,y)=>{const _=(y||document).createElement("div");if(_.innerHTML=m,!_.hasChildNodes()||_.childNodes.length>1){const H="HTML does not have a single root node";throw console.error(H,m),new Error(H)}return dc(_.childNodes[0])},Fr=(m,y)=>{const _=(y||document).createElement(m);return dc(_)},Cu=(m,y)=>{const _=(y||document).createTextNode(m);return dc(_)},dc=m=>{if(m==null)throw new Error("Node cannot be null or undefined");return{dom:m}},Sn={fromHtml:uc,fromTag:Fr,fromText:Cu,fromDom:dc,fromPoint:(m,y,E)=>Ne.from(m.dom.elementFromPoint(y,E)).map(dc)},Su=(m,y)=>{const E=m.document.createRange();return E.selectNode(y.dom),E},Ri=(m,y)=>{const E=m.document.createRange();return pi(E,y),E},pi=(m,y)=>m.selectNodeContents(y.dom),jr=(m,y)=>{y.fold(E=>{m.setStartBefore(E.dom)},(E,_)=>{m.setStart(E.dom,_)},E=>{m.setStartAfter(E.dom)})},Kd=(m,y)=>{y.fold(E=>{m.setEndBefore(E.dom)},(E,_)=>{m.setEnd(E.dom,_)},E=>{m.setEndAfter(E.dom)})},Ei=(m,y,E)=>{const _=m.document.createRange();return jr(_,y),Kd(_,E),_},rl=(m,y,E,_,H)=>{const q=m.document.createRange();return q.setStart(y.dom,E),q.setEnd(_.dom,H),q},Tf=m=>({left:m.left,top:m.top,right:m.right,bottom:m.bottom,width:m.width,height:m.height}),Jf=m=>{const y=m.getClientRects(),E=y.length>0?y[0]:m.getBoundingClientRect();return E.width>0||E.height>0?Ne.some(E).map(Tf):Ne.none()},Eu=Or.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Yd=(m,y,E)=>y(Sn.fromDom(E.startContainer),E.startOffset,Sn.fromDom(E.endContainer),E.endOffset),_l=(m,y)=>y.match({domRange:E=>({ltr:J(E),rtl:Ne.none}),relative:(E,_)=>({ltr:me(()=>Ei(m,E,_)),rtl:me(()=>Ne.some(Ei(m,_,E)))}),exact:(E,_,H,q)=>({ltr:me(()=>rl(m,E,_,H,q)),rtl:me(()=>Ne.some(rl(m,H,q,E,_)))})}),qc=(m,y)=>{const E=y.ltr();return E.collapsed?y.rtl().filter(H=>H.collapsed===!1).map(H=>Eu.rtl(Sn.fromDom(H.endContainer),H.endOffset,Sn.fromDom(H.startContainer),H.startOffset)).getOrThunk(()=>Yd(m,Eu.ltr,E)):Yd(m,Eu.ltr,E)},Gc=(m,y)=>{const E=_l(m,y);return qc(m,E)},un=(m,y)=>Gc(m,y).match({ltr:(_,H,q,ne)=>{const ue=m.document.createRange();return ue.setStart(_.dom,H),ue.setEnd(q.dom,ne),ue},rtl:(_,H,q,ne)=>{const ue=m.document.createRange();return ue.setStart(q.dom,ne),ue.setEnd(_.dom,H),ue}});Eu.ltr,Eu.rtl;const Tu=8,yd=9,Vl=11,al=1,Uu=3,Ui=(m,y)=>{const E=m.dom;if(E.nodeType!==al)return!1;{const _=E;if(_.matches!==void 0)return _.matches(y);if(_.msMatchesSelector!==void 0)return _.msMatchesSelector(y);if(_.webkitMatchesSelector!==void 0)return _.webkitMatchesSelector(y);if(_.mozMatchesSelector!==void 0)return _.mozMatchesSelector(y);throw new Error("Browser lacks native selectors")}},si=m=>m.nodeType!==al&&m.nodeType!==yd&&m.nodeType!==Vl||m.childElementCount===0,Dl=(m,y)=>{const E=y===void 0?document:y.dom;return si(E)?[]:an(E.querySelectorAll(m),Sn.fromDom)},fc=(m,y)=>{const E=y===void 0?document:y.dom;return si(E)?Ne.none():Ne.from(E.querySelector(m)).map(Sn.fromDom)},Vs=(m,y)=>m.dom===y.dom,Af=(m,y)=>{const E=m.dom,_=y.dom;return E===_?!1:E.contains(_)},te=Ui,ve=(m,y,E,_)=>{const H=m.isiOS()&&/ipad/i.test(E)===!0,q=m.isiOS()&&!H,ne=m.isiOS()||m.isAndroid(),ue=ne||_("(pointer:coarse)"),Se=H||!q&&ne&&_("(min-device-width:768px)"),Ze=q||ne&&!Se,ht=y.isSafari()&&m.isiOS()&&/safari/i.test(E)===!1,Jt=!Ze&&!Se&&!ht;return{isiPad:J(H),isiPhone:J(q),isTablet:J(Se),isPhone:J(Ze),isTouch:J(ue),isAndroid:m.isAndroid,isiOS:m.isiOS,isWebView:J(ht),isDesktop:J(Jt)}},Fe=(m,y)=>{for(let E=0;E<m.length;E++){const _=m[E];if(_.test(y))return _}},Dt=(m,y)=>{const E=Fe(m,y);if(!E)return{major:0,minor:0};const _=H=>Number(y.replace(E,"$"+H));return sr(_(1),_(2))},Zn=(m,y)=>{const E=String(y).toLowerCase();return m.length===0?fs():Dt(m,E)},fs=()=>sr(0,0),sr=(m,y)=>({major:m,minor:y}),Ua={nu:sr,detect:Zn,unknown:fs},Ti=(m,y)=>Ot(y.brands,E=>{const _=E.brand.toLowerCase();return X(m,H=>_===H.brand?.toLowerCase()).map(H=>({current:H.name,version:Ua.nu(parseInt(E.version,10),0)}))}),Ol=(m,y)=>{const E=String(y).toLowerCase();return X(m,_=>_.search(E))},oe=(m,y)=>Ol(m,y).map(E=>{const _=Ua.detect(E.versionRegexes,y);return{current:E.name,version:_}}),Ae=(m,y)=>Ol(m,y).map(E=>{const _=Ua.detect(E.versionRegexes,y);return{current:E.name,version:_}}),Xe=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Et=m=>y=>tt(y,m),hn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:m=>tt(m,"edge/")&&tt(m,"chrome")&&tt(m,"safari")&&tt(m,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Xe],search:m=>tt(m,"chrome")&&!tt(m,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:m=>tt(m,"msie")||tt(m,"trident")},{name:"Opera",versionRegexes:[Xe,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Et("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Et("firefox")},{name:"Safari",versionRegexes:[Xe,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:m=>(tt(m,"safari")||tt(m,"mobile/"))&&tt(m,"applewebkit")}],Vn=[{name:"Windows",search:Et("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:m=>tt(m,"iphone")||tt(m,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Et("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Et("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Et("linux"),versionRegexes:[]},{name:"Solaris",search:Et("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Et("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Et("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Mo={browsers:J(hn),oses:J(Vn)},Us="Edge",Ts="Chromium",Mi="IE",Sa="Opera",Xd="Firefox",Om="Safari",kf=()=>Kc({current:void 0,version:Ua.unknown()}),Kc=m=>{const y=m.current,E=m.version,_=H=>()=>y===H;return{current:y,version:E,isEdge:_(Us),isChromium:_(Ts),isIE:_(Mi),isOpera:_(Sa),isFirefox:_(Xd),isSafari:_(Om)}},R0={unknown:kf,nu:Kc},M0="Windows",ye="iOS",Me="Android",ft="Linux",Kt="macOS",po="Solaris",ms="FreeBSD",Ea="ChromeOS",il=()=>Zi({current:void 0,version:Ua.unknown()}),Zi=m=>{const y=m.current,E=m.version,_=H=>()=>y===H;return{current:y,version:E,isWindows:_(M0),isiOS:_(ye),isAndroid:_(Me),isMacOS:_(Kt),isLinux:_(ft),isSolaris:_(po),isFreeBSD:_(ms),isChromeOS:_(Ea)}},Ul={unknown:il,nu:Zi},Zl={detect:(m,y,E)=>{const _=Mo.browsers(),H=Mo.oses(),q=y.bind(Se=>Ti(_,Se)).orThunk(()=>oe(_,m)).fold(R0.unknown,R0.nu),ne=Ae(H,m).fold(Ul.unknown,Ul.nu),ue=ve(ne,q,m,E);return{browser:q,os:ne,deviceType:ue}}},Nm=m=>window.matchMedia(m).matches;let Wl=me(()=>Zl.detect(window.navigator.userAgent,Ne.from(window.navigator.userAgentData),Nm));const ll=()=>Wl(),Jd=(m,y)=>Bn(m,y),Dc=(m,y)=>{const E=Jd(m,y);if(E==null)throw new Error(m+" not available on this browser");return E},ls=Object.getPrototypeOf,vh=m=>Dc("HTMLElement",m),pp=m=>{const y=Bn("ownerDocument.defaultView",m);return I(m)&&(vh(y).prototype.isPrototypeOf(m)||/^HTML\w*Element$/.test(ls(m).constructor.name))},Ta=m=>m.dom.nodeName.toLowerCase(),B0=m=>m.dom.nodeType,V1=m=>y=>B0(y)===m,U1=m=>B0(m)===Tu||Ta(m)==="#comment",Z1=m=>Za(m)&&pp(m.dom),Za=V1(al),em=V1(Uu),W1=V1(yd),on=V1(Vl),Yc=m=>y=>Za(y)&&Ta(y)===m,bg=m=>Sn.fromDom(m.dom.ownerDocument),vd=m=>W1(m)?m:bg(m),yg=m=>Sn.fromDom(vd(m).dom.documentElement),q1=m=>Sn.fromDom(vd(m).dom.defaultView),_e=m=>Ne.from(m.dom.parentNode).map(Sn.fromDom),Xc=m=>Ne.from(m.dom.parentElement).map(Sn.fromDom),vl=(m,y)=>{const E=pe(y)?y:dn;let _=m.dom;const H=[];for(;_.parentNode!==null&&_.parentNode!==void 0;){const q=_.parentNode,ne=Sn.fromDom(q);if(H.push(ne),E(ne)===!0)break;_=q}return H},xh=m=>Ne.from(m.dom.previousSibling).map(Sn.fromDom),wh=m=>Ne.from(m.dom.nextSibling).map(Sn.fromDom),Nl=m=>an(m.dom.childNodes,Sn.fromDom),Oc=(m,y)=>{const E=m.dom.childNodes;return Ne.from(E[y]).map(Sn.fromDom)},L0=m=>Oc(m,0),bp=(m,y,E,_)=>{const q=bg(m).dom.createRange();return q.setStart(m.dom,y),q.setEnd(E.dom,_),q},yp=(m,y,E,_)=>{const H=bp(m,y,E,_),q=Vs(m,E)&&y===_;return H.collapsed&&!q},xl=m=>on(m)&&Ce(m.dom.host),vp=m=>Sn.fromDom(m.dom.getRootNode()),Au=m=>xl(m)?m:Sn.fromDom(vd(m).dom.body),Ch=m=>{const y=vp(m);return xl(y)?Ne.some(y):Ne.none()},F0=m=>Sn.fromDom(m.dom.host),wl=m=>{if(Ce(m.target)){const y=Sn.fromDom(m.target);if(Za(y)&&Rm(y)&&m.composed&&m.composedPath){const E=m.composedPath();if(E)return Le(E)}}return Ne.from(m.target)},Rm=m=>Ce(m.dom.shadowRoot),Zu=(m,y,E,_,H,q,ne)=>({target:m,x:y,y:E,stop:_,prevent:H,kill:q,raw:ne}),tm=m=>{const y=Sn.fromDom(wl(m).getOr(m.target)),E=()=>m.stopPropagation(),_=()=>m.preventDefault(),H=ct(_,E);return Zu(y,m.clientX,m.clientY,E,_,H,m)},es=(m,y)=>E=>{m(E)&&y(tm(E))},mc=(m,y,E,_,H)=>{const q=es(E,_);return m.dom.addEventListener(y,q,H),{unbind:qe(G1,m,y,q,H)}},Sh=(m,y,E,_)=>mc(m,y,E,_,!1),G1=(m,y,E,_)=>{m.dom.removeEventListener(y,E,_)},ts=We,nm=(m,y,E)=>Sh(m,y,ts,E),Ai=tm,xd=(m,y)=>{_e(m).each(_=>{_.dom.insertBefore(y.dom,m.dom)})},wd=(m,y)=>{wh(m).fold(()=>{_e(m).each(H=>{bs(H,y)})},_=>{xd(_,y)})},da=(m,y)=>{L0(m).fold(()=>{bs(m,y)},_=>{m.dom.insertBefore(y.dom,_.dom)})},bs=(m,y)=>{m.dom.appendChild(y.dom)},P0=(m,y,E)=>{Oc(m,E).fold(()=>{bs(m,y)},_=>{xd(_,y)})},Cd=(m,y)=>{xd(m,y),bs(y,m)},Fa=(m,y)=>{le(y,(E,_)=>{const H=_===0?m:y[_-1];wd(H,E)})},ku=(m,y)=>{le(y,E=>{bs(m,E)})},Qc=(m,y,E)=>{if(O(E)||Y(E)||$e(E))m.setAttribute(y,E+"");else throw console.error("Invalid call to Attribute.set. Key ",y,":: Value ",E,":: Element ",m),new Error("Attribute value was not simple")},ri=(m,y,E)=>{Qc(m.dom,y,E)},Wu=(m,y)=>{const E=m.dom;go(y,(_,H)=>{Qc(E,H,_)})},Wi=(m,y)=>{go(y,(E,_)=>{E.fold(()=>{Ls(m,_)},H=>{Qc(m.dom,_,H)})})},Jc=(m,y)=>{const E=m.dom.getAttribute(y);return E===null?void 0:E},cl=(m,y)=>Ne.from(Jc(m,y)),Ls=(m,y)=>{m.dom.removeAttribute(y)},qu=m=>He(m.dom.attributes,(y,E)=>(y[E.name]=E.value,y),{}),Wa=m=>{m.dom.textContent="",le(Nl(m),y=>{qi(y)})},qi=m=>{const y=m.dom;y.parentNode!==null&&y.parentNode.removeChild(y)},Pa=m=>{const y=Nl(m);y.length>0&&Fa(m,y),qi(m)},fa=(m,y)=>Sn.fromDom(m.dom.cloneNode(y)),eu=m=>fa(m,!1),ai=m=>fa(m,!0),ii=(m,y)=>{const E=Sn.fromTag(y),_=qu(m);return Wu(E,_),E},om=(m,y)=>{const E=ii(m,y),_=Nl(ai(m));return ku(E,_),E},xp=(m,y)=>{const E=ii(m,y);wd(m,E);const _=Nl(m);return ku(E,_),qi(m),E},wp=(m,y)=>{const _=document.createElement("div");return _.innerHTML=m,Nl(Sn.fromDom(_))},sa=m=>an(m,Sn.fromDom),Mm=m=>m.dom.innerHTML,Eh=m=>{const y=Sn.fromTag("div"),E=Sn.fromDom(m.dom.cloneNode(!0));return bs(y,E),Mm(y)},_f=m=>m.style!==void 0&&pe(m.style.getPropertyValue),co=m=>{const y=em(m)?m.dom.parentNode:m.dom;if(y==null||y.ownerDocument===null)return!1;const E=y.ownerDocument;return Ch(Sn.fromDom(y)).fold(()=>E.body.contains(y),Oe(co,F0))},_u=m=>{const y=m.dom.body;if(y==null)throw new Error("Body is not available yet");return Sn.fromDom(y)},Jr=(m,y,E)=>{if(!O(E))throw console.error("Invalid call to CSS.set. Property ",y,":: Value ",E,":: Element ",m),new Error("CSS value must be a string: "+E);_f(m)&&m.style.setProperty(y,E)},li=(m,y)=>{_f(m)&&m.style.removeProperty(y)},$a=(m,y,E)=>{const _=m.dom;Jr(_,y,E)},rr=(m,y)=>{const E=m.dom;go(y,(_,H)=>{Jr(E,H,_)})},Nc=(m,y)=>{const E=m.dom,H=window.getComputedStyle(E).getPropertyValue(y);return H===""&&!co(m)?Cp(E,y):H},Cp=(m,y)=>_f(m)?m.style.getPropertyValue(y):"",tu=(m,y)=>{const E=m.dom,_=Cp(E,y);return Ne.from(_).filter(H=>H.length>0)},Gu=(m,y)=>{const E=m.dom;li(E,y),Yn(cl(m,"style").map(Vo),"")&&Ls(m,"style")},vg=(m,y)=>{const E=m.dom,_=y.dom;_f(E)&&_f(_)&&(_.style.cssText=E.style.cssText)},Cl=(m,y)=>{const E=(ue,Se)=>{if(!$e(Se)&&!Se.match(/^[0-9]+$/))throw new Error(m+".set accepts only positive integer values. Value was "+Se);const Ze=ue.dom;_f(Ze)&&(Ze.style[m]=Se+"px")},_=ue=>{const Se=y(ue);if(Se<=0||Se===null){const Ze=Nc(ue,m);return parseFloat(Ze)||0}return Se},H=_,q=(ue,Se)=>He(Se,(Ze,ht)=>{const Jt=Nc(ue,ht),Ln=Jt===void 0?0:parseInt(Jt,10);return isNaN(Ln)?Ze:Ze+Ln},0);return{set:E,get:_,getOuter:H,aggregate:q,max:(ue,Se,Ze)=>{const ht=q(ue,Ze);return Se>ht?Se-ht:0}}},Ia=(m,y)=>Ao(m).getOr(y),Gs=(m,y,E)=>Ia(Nc(m,y),E),Rl=(m,y,E,_)=>{const H=Gs(m,`padding-${E}`,0),q=Gs(m,`padding-${_}`,0),ne=Gs(m,`border-${E}-width`,0),ue=Gs(m,`border-${_}-width`,0);return y-H-q-ne-ue},Du=(m,y)=>{const E=m.dom,_=E.getBoundingClientRect().width||E.offsetWidth;return Rl(m,_,"left","right")},ul=m=>Gs(m,"height",m.dom.offsetHeight),Sl=m=>Gs(m,"width",m.dom.offsetWidth),ef=m=>Du(m),Fs=Cl("height",m=>{const y=m.dom;return co(m)?y.getBoundingClientRect().height:y.offsetHeight}),Ml=m=>Fs.get(m),Bm=m=>Fs.getOuter(m),Th=ul,hc=Cl("width",m=>{const y=m.dom;return co(m)?y.getBoundingClientRect().width:y.offsetWidth}),wo=m=>hc.get(m),Ar=m=>hc.getOuter(m),qa=ef,hr=Sl,dl=(m,y)=>({left:m,top:y,translate:(_,H)=>dl(m+_,y+H)}),Vr=dl,ci=m=>{const y=m.getBoundingClientRect();return Vr(y.left,y.top)},tf=(m,y)=>m!==void 0?m:y!==void 0?y:0,rs=m=>{const y=m.dom.ownerDocument,E=y.body,_=y.defaultView,H=y.documentElement;if(E===m.dom)return Vr(E.offsetLeft,E.offsetTop);const q=tf(_?.pageYOffset,H.scrollTop),ne=tf(_?.pageXOffset,H.scrollLeft),ue=tf(H.clientTop,E.clientTop),Se=tf(H.clientLeft,E.clientLeft);return ql(m).translate(ne-Se,q-ue)},ql=m=>{const y=m.dom,_=y.ownerDocument.body;return _===y?Vr(_.offsetLeft,_.offsetTop):co(m)?ci(y):Vr(0,0)},ys=m=>{const y=m!==void 0?m.dom:document,E=y.body.scrollLeft||y.documentElement.scrollLeft,_=y.body.scrollTop||y.documentElement.scrollTop;return Vr(E,_)},Gl=(m,y,E)=>{const H=(E!==void 0?E.dom:document).defaultView;H&&H.scrollBy(m,y)},ki=((m,y)=>{const E=q=>{if(!m(q))throw new Error("Can only get "+y+" value of a "+y+" node");return _(q).getOr("")},_=q=>m(q)?Ne.from(q.dom.nodeValue):Ne.none();return{get:E,getOption:_,set:(q,ne)=>{if(!m(q))throw new Error("Can only set raw "+y+" value of a "+y+" node");q.dom.nodeValue=ne}}})(em,"text"),Df=m=>ki.get(m),xg=m=>ki.getOption(m),Ga=(m,y)=>ki.set(m,y),Of=(m,y)=>E=>Sd(E)==="rtl"?y:m,Sd=m=>Nc(m,"direction")==="rtl"?"rtl":"ltr",Bi=(m,y)=>{const E=Jc(m,y);return E===void 0||E===""?[]:E.split(" ")},nf=(m,y,E)=>{const H=Bi(m,y).concat([E]);return ri(m,y,H.join(" ")),!0},wg=(m,y,E)=>{const _=Re(Bi(m,y),H=>H!==E);return _.length>0?ri(m,y,_.join(" ")):Ls(m,y),!1};var Ku=(m,y,E,_,H)=>m(E,_)?Ne.some(E):pe(H)&&H(E)?Ne.none():y(E,_,H);const cr=(m,y,E)=>{let _=m.dom;const H=pe(E)?E:dn;for(;_.parentNode;){_=_.parentNode;const q=Sn.fromDom(_);if(y(q))return Ne.some(q);if(H(q))break}return Ne.none()},$0=(m,y,E)=>Ku((H,q)=>q(H),cr,m,y,E),Cg=(m,y)=>{const E=H=>y(Sn.fromDom(H));return X(m.dom.childNodes,E).map(Sn.fromDom)},Bl=(m,y)=>{const E=_=>{for(let H=0;H<_.childNodes.length;H++){const q=Sn.fromDom(_.childNodes[H]);if(y(q))return Ne.some(q);const ne=E(_.childNodes[H]);if(ne.isSome())return ne}return Ne.none()};return E(m.dom)},fl=(m,y,E)=>cr(m,_=>Ui(_,y),E),Aa=(m,y)=>Cg(m,E=>Ui(E,y)),Ed=(m,y)=>fc(y,m),di=(m,y,E)=>Ku((H,q)=>Ui(H,q),fl,m,y,E),of=m=>m.dom.classList!==void 0,Sg=m=>Bi(m,"class"),Eg=(m,y)=>nf(m,"class",y),K1=(m,y)=>wg(m,"class",y),Td=(m,y)=>{of(m)?m.dom.classList.add(y):Eg(m,y)},fy=m=>{(of(m)?m.dom.classList:Sg(m)).length===0&&Ls(m,"class")},sm=(m,y)=>{of(m)?m.dom.classList.remove(y):K1(m,y),fy(m)},gc=(m,y)=>of(m)&&m.dom.classList.contains(y),Y1=(m,y)=>{le(y,E=>{sm(m,E)})},Ah=m=>di(m,"[contenteditable]"),Nf=(m,y=!1)=>co(m)?m.dom.isContentEditable:Ah(m).fold(J(y),E=>rm(E)==="true"),rm=m=>m.dom.contentEditable,Tg=m=>y=>{Td(y,m)},Ag=m=>y=>{Y1(y,m)},nu=(m,y,E)=>Re(vl(m,E),y),my=(m,y)=>Re(Nl(m),y),Ou=(m,y)=>{let E=[];return le(Nl(m),_=>{y(_)&&(E=E.concat([_])),E=E.concat(Ou(_,y))}),E},ar=(m,y,E)=>nu(m,_=>Ui(_,y),E),yi=(m,y)=>my(m,E=>Ui(E,y)),Ad=(m,y)=>Dl(y,m),Sp=(m,y,E,_)=>({parent:m,children:y,element:E,index:_}),ou=m=>_e(m).bind(y=>{const E=Nl(y);return Rf(E,m).map(_=>Sp(y,E,m,_))}),Rf=(m,y)=>zo(m,qe(Vs,y)),kg=(m,y,E)=>cr(m,y,E).isSome(),kd=m=>Ta(m)==="img"?1:xg(m).fold(()=>Nl(m).length,y=>y.length),_d=m=>xg(m).filter(y=>y.trim().length!==0||y.indexOf(je)>-1).isSome(),Qs=m=>Z1(m)&&Jc(m,"contenteditable")==="false",_g=["img","br"],ma=m=>_d(m)||zt(_g,Ta(m))||Qs(m),kh=m=>Bl(m,ma),ka=m=>Yu(m,ma),Yu=(m,y)=>{const E=_=>{const H=Nl(_);for(let q=H.length-1;q>=0;q--){const ne=H[q];if(y(ne))return Ne.some(ne);const ue=E(ne);if(ue.isSome())return ue}return Ne.none()};return E(m)},sf={create:(m,y,E,_)=>({start:m,soffset:y,finish:E,foffset:_})},Dg=Or.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),su=(m,y,E,_)=>m.fold(y,E,_),Nu=m=>m.fold(rt,rt,rt),Lm=Dg.before,pc=Dg.on,Dd=Dg.after,ra={before:Lm,on:pc,after:Dd,cata:su,getStart:Nu},ea=Or.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),_i=m=>ea.exact(m.start,m.soffset,m.finish,m.foffset),Fm=m=>m.match({domRange:y=>Sn.fromDom(y.startContainer),relative:(y,E)=>ra.getStart(y),exact:(y,E,_,H)=>y}),Od=ea.domRange,Js=ea.relative,yr=ea.exact,Ll=m=>{const y=Fm(m);return q1(y)},F=sf.create,j={domRange:Od,relative:Js,exact:yr,exactFromRange:_i,getWin:Ll,range:F},re=(m,y,E)=>Ne.from(m.caretPositionFromPoint?.(y,E)).bind(_=>{if(_.offsetNode===null)return Ne.none();const H=m.createRange();return H.setStart(_.offsetNode,_.offset),H.collapse(),Ne.some(H)}),we=(m,y,E)=>Ne.from(m.caretRangeFromPoint?.(y,E)),Ge=(m,y,E)=>m.caretPositionFromPoint?re(m,y,E):m.caretRangeFromPoint?we(m,y,E):Ne.none(),At=(m,y,E)=>{const _=m.document;return Ge(_,y,E).map(H=>sf.create(Sn.fromDom(H.startContainer),H.startOffset,Sn.fromDom(H.endContainer),H.endOffset))},vn=(m,y)=>{const E=Ta(m);return E==="input"?ra.after(m):zt(["br","img"],E)?y===0?ra.before(m):ra.after(m):ra.on(m,y)},kn=(m,y)=>{const E=m.fold(ra.before,vn,ra.after),_=y.fold(ra.before,vn,ra.after);return j.relative(E,_)},Bo=(m,y,E,_)=>{const H=vn(m,y),q=vn(E,_);return j.relative(H,q)},ns=m=>Ne.from(m.getSelection()),Nr=(m,y)=>{ns(m).each(E=>{E.removeAllRanges(),E.addRange(y)})},aa=(m,y,E,_,H)=>{const q=rl(m,y,E,_,H);Nr(m,q)},vi=(m,y,E,_,H,q)=>{y.collapse(E.dom,_),y.extend(H.dom,q)},Rc=(m,y)=>Gc(m,y).match({ltr:(E,_,H,q)=>{aa(m,E,_,H,q)},rtl:(E,_,H,q)=>{ns(m).each(ne=>{if(ne.setBaseAndExtent)ne.setBaseAndExtent(E.dom,_,H.dom,q);else if(ne.extend)try{vi(m,ne,E,_,H,q)}catch{aa(m,H,q,E,_)}else aa(m,H,q,E,_)})}}),Xu=(m,y,E,_,H)=>{const q=Bo(y,E,_,H);Rc(m,q)},rf=(m,y,E)=>{const _=kn(y,E);Rc(m,_)},fi=m=>{if(m.rangeCount>0){const y=m.getRangeAt(0),E=m.getRangeAt(m.rangeCount-1);return Ne.some(sf.create(Sn.fromDom(y.startContainer),y.startOffset,Sn.fromDom(E.endContainer),E.endOffset))}else return Ne.none()},Li=m=>{if(m.anchorNode===null||m.focusNode===null)return fi(m);{const y=Sn.fromDom(m.anchorNode),E=Sn.fromDom(m.focusNode);return yp(y,m.anchorOffset,E,m.focusOffset)?Ne.some(sf.create(y,m.anchorOffset,E,m.focusOffset)):fi(m)}},am=(m,y,E=!0)=>{const H=(E?Ri:Su)(m,y);Nr(m,H)},im=m=>ns(m).filter(y=>y.rangeCount>0).bind(Li),Pm=m=>im(m).map(y=>j.exact(y.start,y.soffset,y.finish,y.foffset)),_h=(m,y)=>{const E=un(m,y);return Jf(E)},Ru=(m,y,E)=>At(m,y,E),Dh=m=>{ns(m).each(y=>y.removeAllRanges())},X1={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Q1=(()=>{const m="[0-9]+",E="[eE]"+("[+-]?"+m),_="\\.",H=ue=>`(?:${ue})?`,ne=`[+-]?(?:${["Infinity",m+_+H(m)+H(E),_+m+H(E),m+H(E)].join("|")})`;return new RegExp(`^(${ne})(.*)$`)})(),Ps=(m,y)=>at(y,E=>at(X1[E],_=>m===_)),Ha=(m,y)=>Ne.from(Q1.exec(m)).bind(_=>{const H=Number(_[1]),q=_[2];return Ps(q,y)?Ne.some({value:H,unit:q}):Ne.none()}),Ka=m=>an(m,J(0)),Fl=(m,y,E,_,H)=>H(m.slice(0,y)).concat(_).concat(H(m.slice(E))),Ep=m=>(y,E,_,H)=>{if(m(_)){const q=Math.max(H,y[E]-Math.abs(_)),ne=Math.abs(q-y[E]);return _>=0?ne:-ne}else return _},Og=Ep(m=>m<0),Ng=Ep(We),Tp=()=>{const m=(ue,Se,Ze,ht,Jt)=>{const Ln=Og(ue,Se,ht,Jt);return Fl(ue,Se,Ze+1,[Ln,0],Ka)},y=(ue,Se,Ze,ht)=>{const Jt=(100+Ze)/100,Ln=Math.max(ht,(ue[Se]+Ze)/Jt);return an(ue,(On,oo)=>(oo===Se?Ln:On/Jt)-On)},E=(ue,Se,Ze,ht,Jt,Ln)=>Ln?y(ue,Se,ht,Jt):m(ue,Se,Ze,ht,Jt);return{resizeTable:(ue,Se)=>ue(Se),clampTableDelta:Og,calcLeftEdgeDeltas:E,calcMiddleDeltas:(ue,Se,Ze,ht,Jt,Ln,On)=>E(ue,Ze,ht,Jt,Ln,On),calcRightEdgeDeltas:(ue,Se,Ze,ht,Jt,Ln)=>{if(Ln)return y(ue,Ze,ht,Jt);{const On=Og(ue,Ze,ht,Jt);return Ka(ue.slice(0,Ze)).concat([On])}},calcRedestributedWidths:(ue,Se,Ze,ht)=>{if(ht){const Ln=(Se+Ze)/Se,On=an(ue,oo=>oo/Ln);return{delta:Ln*100-100,newSizes:On}}else return{delta:Ze,newSizes:ue}}}},S2=()=>{const m=(ne,ue,Se,Ze,ht)=>{const Jt=Ze>=0?Se:ue,Ln=Ng(ne,Jt,Ze,ht);return Fl(ne,ue,Se+1,[Ln,-Ln],Ka)};return{resizeTable:(ne,ue,Se)=>{Se&&ne(ue)},clampTableDelta:(ne,ue,Se,Ze,ht)=>{if(ht){if(Se>=0)return Se;{const Jt=He(ne,(Ln,On)=>Ln+On-Ze,0);return Math.max(-Jt,Se)}}else return Og(ne,ue,Se,Ze)},calcLeftEdgeDeltas:m,calcMiddleDeltas:(ne,ue,Se,Ze,ht,Jt)=>m(ne,Se,Ze,ht,Jt),calcRightEdgeDeltas:(ne,ue,Se,Ze,ht,Jt)=>{if(Jt)return Ka(ne);{const Ln=Ze/ne.length;return an(ne,J(Ln))}},calcRedestributedWidths:(ne,ue,Se,Ze)=>({delta:0,newSizes:ne})}},$m=(m,y,E=0)=>cl(m,y).map(_=>parseInt(_,10)).getOr(E),I0=(m,y)=>$m(m,y,1),Oh=m=>Yc("col")(m)?$m(m,"span",1)>1:I0(m,"colspan")>1,Mv=m=>I0(m,"rowspan")>1,Fi=(m,y)=>parseInt(Nc(m,y),10),Di=J(10),Nh=J(10),Im=(m,y)=>hy(m,y,We),hy=(m,y,E)=>Lo(Nl(m),_=>Ui(_,y)?E(_)?[_]:[]:hy(_,y,E)),bc=(m,y,E=dn)=>{if(E(y))return Ne.none();if(zt(m,Ta(y)))return Ne.some(y);const _=H=>Ui(H,"table")||E(H);return fl(y,m.join(","),_)},gy=(m,y)=>bc(["td","th"],m,y),af=m=>Im(m,"th,td"),J1=m=>Ui(m,"colgroup")?yi(m,"col"):Lo(Mu(m),y=>yi(y,"col")),ru=(m,y)=>di(m,"table",y),H0=m=>Im(m,"tr"),Mu=m=>ru(m).fold(J([]),y=>yi(y,"colgroup")),Ya=Yc("th"),py=m=>jo(m,y=>Ya(y.element)),Ap=(m,y)=>m&&y?"sectionCells":m?"section":"cells",Bv=m=>{const y=m.section==="thead",E=Yn(by(m.cells),"th");return m.section==="tfoot"?{type:"footer"}:y||E?{type:"header",subType:Ap(y,E)}:{type:"body"}},by=m=>{const y=Re(m,E=>Ya(E.element));return y.length===0?Ne.some("td"):y.length===m.length?Ne.some("th"):Ne.none()},Lv=m=>{const y=an(m,H=>Bv(H).type),E=zt(y,"header"),_=zt(y,"footer");if(!E&&!_)return Ne.some("body");{const H=zt(y,"body");return E&&!H&&!_?Ne.some("header"):!E&&!H&&_?Ne.some("footer"):Ne.none()}},Fv=m=>Ot(m.all,y=>{const E=Bv(y);return E.type==="header"?Ne.from(E.subType):Ne.none()}),z0=(m,y)=>an(m,E=>{if(Ta(E)==="colgroup"){const _=an(J1(E),H=>{const q=$m(H,"span",1);return to(H,1,q)});return ps(E,_,"colgroup")}else{const _=an(af(E),H=>{const q=$m(H,"rowspan",1),ne=$m(H,"colspan",1);return to(H,q,ne)});return ps(E,_,y(E))}}),kp=m=>_e(m).map(y=>{const E=Ta(y);return yn(E)?E:"tbody"}).getOr("tbody"),eb=m=>{const y=H0(m),_=[...Mu(m),...y];return z0(_,kp)},xn=(m,y)=>z0(m,()=>y),au="data-snooker-locked-cols",E2=m=>cl(m,au).bind(y=>Ne.from(y.match(/\d+/g))).map(y=>Be(y,We)),iu=m=>{const y=He(Qr(m).rows,(_,H)=>(le(H.cells,(q,ne)=>{q.isLocked&&(_[ne]=!0)}),_),{}),E=gs(y,(_,H)=>parseInt(H,10));return Ye(E)},Qu=(m,y)=>m+","+y,tb=(m,y,E)=>Ne.from(m.access[Qu(y,E)]),T2=(m,y,E)=>{const _=Hm(m,H=>E(y,H.element));return _.length>0?Ne.some(_[0]):Ne.none()},Hm=(m,y)=>{const E=Lo(m.all,_=>_.cells);return Re(E,y)},A2=m=>{const y={};let E=0;return le(m.cells,_=>{const H=_.colspan;Jn(H,q=>{const ne=E+q;y[ne]=Qf(_.element,H,ne)}),E+=H}),y},lu=m=>{const y={},E=[],H=Le(m).map(On=>On.element).bind(ru).bind(E2).getOr({});let q=0,ne=0,ue=0;const{pass:Se,fail:Ze}=Pt(m,On=>On.section==="colgroup");le(Ze,On=>{const oo=[];le(On.cells,Ft=>{let en=0;for(;y[Qu(ue,en)]!==void 0;)en++;const Co=Ms(H,en.toString()),Go=Ho(Ft.element,Ft.rowspan,Ft.colspan,ue,en,Co);for(let qn=0;qn<Ft.colspan;qn++)for(let vr=0;vr<Ft.rowspan;vr++){const xr=ue+vr,Uo=en+qn,el=Qu(xr,Uo);y[el]=Go,ne=Math.max(ne,Uo+1)}oo.push(Go)}),q++,E.push(ps(On.element,oo,On.section)),ue++});const{columns:ht,colgroups:Jt}=Je(Se).map(On=>{const oo=A2(On);return{colgroups:[wr(On.element,Io(oo))],columns:oo}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Wt(q,ne),access:y,all:E,columns:ht,colgroups:Jt}},Xo={fromTable:m=>{const y=eb(m);return lu(y)},generate:lu,getAt:tb,findItem:T2,filterItems:Hm,justCells:m=>Lo(m.all,y=>y.cells),justColumns:m=>Io(m.columns),hasColumns:m=>xt(m.columns).length>0,getColumnAt:(m,y)=>Ne.from(m.columns[y])},zm=(m,y,E)=>Cs(E(m.element,y),!0,m.isLocked),Dp=(m,y)=>m.section!==y?oa(m.element,m.cells,y,m.isNew):m,ia=()=>({transformRow:Dp,transformCell:(m,y,E)=>{const _=E(m.element,y),H=Ta(_)!=="td"?xp(_,"td"):_;return Cs(H,m.isNew,m.isLocked)}}),Nd=()=>({transformRow:Dp,transformCell:zm}),Op=()=>({transformRow:(m,y)=>Dp(m,y==="thead"?"tbody":y),transformCell:zm}),lm={getTableSectionType:(m,y)=>{const E=Xo.fromTable(m);switch(Fv(E).getOr(y)){case"section":return ia();case"sectionCells":return Nd();case"cells":return Op()}},section:ia,sectionCells:Nd,cells:Op,fallback:()=>({transformRow:rt,transformCell:zm})},Np=(m,y=We)=>{const E=m.grid,_=Jn(E.columns,rt),H=Jn(E.rows,rt);return an(_,q=>yy(()=>Lo(H,Ze=>Xo.getAt(m,Ze,q).filter(ht=>ht.column===q).toArray()),Ze=>Ze.colspan===1&&y(Ze.element),()=>Xo.getAt(m,0,q)))},yy=(m,y,E)=>{const _=m();return X(_,y).orThunk(()=>Ne.from(_[0]).orThunk(E)).map(ne=>ne.element)},Rh=m=>{const y=m.grid,E=Jn(y.rows,rt),_=Jn(y.columns,rt);return an(E,H=>yy(()=>Lo(_,Se=>Xo.getAt(m,H,Se).filter(Ze=>Ze.row===H).fold(J([]),Ze=>[Ze])),Se=>Se.rowspan===1,()=>Xo.getAt(m,H,0)))},Rd=(m,y)=>{if(y<0||y>=m.length-1)return Ne.none();const E=m[y].fold(()=>{const H=Ks(m.slice(0,y));return Ot(H,(q,ne)=>q.map(ue=>({value:ue,delta:ne+1})))},H=>Ne.some({value:H,delta:0})),_=m[y+1].fold(()=>{const H=m.slice(y+1);return Ot(H,(q,ne)=>q.map(ue=>({value:ue,delta:ne+1})))},H=>Ne.some({value:H,delta:1}));return E.bind(H=>_.map(q=>{const ne=q.delta+H.delta;return Math.abs(q.value-H.value)/ne}))},j0=(m,y)=>({row:m,y}),V0=(m,y)=>({col:m,x:y}),vy=m=>rs(m).left+Ar(m),xy=m=>rs(m).left,Rp=(m,y)=>V0(m,xy(y)),wy=(m,y)=>V0(m,vy(y)),nb=m=>rs(m).top,zC=(m,y)=>j0(m,nb(y)),Pv=(m,y)=>j0(m,nb(y)+Bm(y)),Tl=(m,y,E)=>{if(E.length===0)return[];const _=an(E.slice(1),(q,ne)=>q.map(ue=>m(ne,ue))),H=E[E.length-1].map(q=>y(E.length-1,q));return _.concat([H])},cu=m=>-m,U0={delta:rt,positions:m=>Tl(zC,Pv,m),edge:nb},uo=Of({delta:rt,edge:xy,positions:m=>Tl(Rp,wy,m)},{delta:cu,edge:vy,positions:m=>Tl(wy,Rp,m)}),_a={delta:(m,y)=>uo(y).delta(m,y),positions:(m,y)=>uo(y).positions(m,y),edge:m=>uo(m).edge(m)},Mp=/(\d+(\.\d+)?)%/,ob=/(\d+(\.\d+)?)px|em/,Rg=Yc("col"),Z0=Yc("tr"),W0=(m,y,E)=>{const _=Xc(m).getOrThunk(()=>_u(bg(m)));return y(m)/E(_)*100},Mh=(m,y)=>{$a(m,"width",y+"px")},$v=(m,y)=>{$a(m,"width",y+"%")},cm=(m,y)=>{$a(m,"height",y+"px")},Iv=m=>{Gu(m,"height")},sb=m=>Th(m)+"px",ha=(m,y,E,_)=>{const H=ru(m).map(q=>{const ne=E(q);return Math.floor(y/100*ne)}).getOr(y);return _(m,H),H},Ju=(m,y,E,_)=>{const H=parseFloat(m);return To(m,"%")&&Ta(y)!=="table"?ha(y,H,E,_):H},Mc=m=>{const y=sb(m);return y?Ju(y,m,Ml,cm):Ml(m)},Mg=(m,y,E)=>{const _=E(m),H=I0(m,y);return _/H},Kl=(m,y)=>tu(m,y).orThunk(()=>cl(m,y).map(E=>E+"px")),Bh=m=>Kl(m,"width"),ml=m=>Kl(m,"height"),yc=m=>W0(m,wo,qa),rb=m=>Rg(m)?Math.round(wo(m)):hr(m),Zt=m=>Z0(m)?Ml(m):Mg(m,"rowspan",Mc),Bc=m=>Bh(m).bind(E=>Ha(E,["fixed","relative","empty"])),ab=(m,y,E)=>{$a(m,"width",y+E)},Xa=m=>wo(m)+"px",Yl=m=>Ml(m)+"px",uu=m=>W0(m,wo,qa)+"%",_2=m=>Bh(m).exists(y=>Mp.test(y)),cf=m=>Bh(m).exists(y=>ob.test(y)),q0=m=>Bh(m).isNone(),Cr=J(Mp),gr=Yc("col"),um=m=>Bh(m).getOrThunk(()=>rb(m)+"px"),Bp=m=>ml(m).getOrThunk(()=>Zt(m)+"px"),ga=m=>an(Xo.justColumns(m),y=>Ne.from(y.element)),jm=m=>{const y=ll().browser,E=y.isChromium()||y.isFirefox();return gr(m)?E:!0},Cy=(m,y,E,_,H,q)=>m.filter(_).fold(()=>q(Rd(E,y)),ne=>H(ne)),uf=(m,y,E,_)=>{const H=Np(m),q=Xo.hasColumns(m)?ga(m):H,ne=[Ne.some(_a.edge(y))].concat(an(_a.positions(H,y),Se=>Se.map(Ze=>Ze.x))),ue=ae(Oh);return an(q,(Se,Ze)=>Cy(Se,Ze,ne,ue,ht=>{if(jm(ht))return E(ht);{const Jt=La(H[Ze],rt);return Cy(Jt,Ze,ne,ue,Ln=>_(Ne.some(Math.round(wo(Ln)))),_)}},_))},Bg=m=>m.map(y=>y+"px").getOr(""),$i=(m,y)=>uf(m,y,um,Bg),D2=(m,y,E)=>uf(m,y,yc,_=>_.fold(()=>E.minCellWidth(),H=>H/E.pixelWidth()*100)),pt=(m,y,E)=>uf(m,y,rb,_=>_.getOrThunk(E.minCellWidth)),ed=(m,y,E,_)=>{const H=Rh(m),q=an(m.all,ue=>Ne.some(ue.element)),ne=[Ne.some(U0.edge(y))].concat(an(U0.positions(H,y),ue=>ue.map(Se=>Se.y)));return an(q,(ue,Se)=>Cy(ue,Se,ne,We,E,_))},Lp=(m,y)=>ed(m,y,Zt,E=>E.getOrThunk(Nh)),Da=(m,y)=>ed(m,y,Bp,Bg),Xl=(m,y)=>()=>co(m)?y(m):parseFloat(tu(m,"width").getOr("0")),Gi=m=>{const y=Xl(m,wo),E=J(0);return{width:y,pixelWidth:y,getWidths:(H,q)=>pt(H,m,q),getCellDelta:E,singleColumnWidth:J([0]),minCellWidth:E,setElementWidth:be,adjustTableWidth:be,isRelative:!0,label:"none"}},ir=m=>{const y=Xl(m,Se=>parseFloat(uu(Se))),E=Xl(m,wo);return{width:y,pixelWidth:E,getWidths:(Se,Ze)=>D2(Se,m,Ze),getCellDelta:Se=>Se/E()*100,singleColumnWidth:(Se,Ze)=>[100-Se],minCellWidth:()=>Di()/E()*100,setElementWidth:$v,adjustTableWidth:Se=>{const Ze=y(),ht=Se/100*Ze,Jt=Ze+ht;$v(m,Jt)},isRelative:!0,label:"percent"}},Pl=m=>{const y=Xl(m,wo);return{width:y,pixelWidth:y,getWidths:(ne,ue)=>pt(ne,m,ue),getCellDelta:rt,singleColumnWidth:(ne,ue)=>[Math.max(Di(),ne+ue)-ne],minCellWidth:Di,setElementWidth:Mh,adjustTableWidth:ne=>{const ue=y()+ne;Mh(m,ue)},isRelative:!1,label:"pixel"}},Vm=(m,y)=>Cr().exec(y)!==null?ir(m):Pl(m),hl={getTableSize:m=>Bh(m).fold(()=>Gi(m),E=>Vm(m,E)),pixelSize:Pl,percentageSize:ir,noneSize:Gi},ib=(m,y,E,_)=>{E===_?Ls(m,y):ri(m,y,E)},Sy=(m,y,E)=>{Je(yi(m,y)).fold(()=>da(m,E),_=>wd(_,E))},Ey=(m,y)=>{const E=Aa(m,y).getOrThunk(()=>{const _=Sn.fromTag(y,bg(m).dom);return y==="thead"?Sy(m,"caption,colgroup",_):y==="colgroup"?Sy(m,"caption",_):bs(m,_),_});return Wa(E),E},za=(m,y)=>{const E=[],_=[],H=On=>an(On,oo=>{oo.isNew&&E.push(oo.element);const Ft=oo.element;return Wa(Ft),le(oo.cells,en=>{en.isNew&&_.push(en.element),ib(en.element,"colspan",en.colspan,1),ib(en.element,"rowspan",en.rowspan,1),bs(Ft,en.element)}),Ft}),q=On=>Lo(On,oo=>an(oo.cells,Ft=>(ib(Ft.element,"span",Ft.colspan,1),Ft.element))),ne=(On,oo)=>{const Ft=Ey(m,oo),Co=(oo==="colgroup"?q:H)(On);ku(Ft,Co)},ue=On=>{Aa(m,On).each(qi)},Se=(On,oo)=>{On.length>0?ne(On,oo):ue(oo)},Ze=[],ht=[],Jt=[],Ln=[];return le(y,On=>{switch(On.section){case"thead":Ze.push(On);break;case"tbody":ht.push(On);break;case"tfoot":Jt.push(On);break;case"colgroup":Ln.push(On);break}}),Se(Ln,"colgroup"),Se(Ze,"thead"),Se(ht,"tbody"),Se(Jt,"tfoot"),{newRows:E,newCells:_}},vc=m=>an(m,y=>{const E=eu(y.element);return le(y.cells,_=>{const H=ai(_.element);ib(H,"colspan",_.colspan,1),ib(H,"rowspan",_.rowspan,1),bs(E,H)}),E}),Um=(m,y)=>an(m,E=>xo(E,y)),Ty=(m,y)=>m[y],O2=(m,y)=>{if(m.length===0)return 0;const E=m[0];return zo(m,H=>!y(E.element,H.element)).getOr(m.length)},Ql=(m,y,E,_)=>{const H=Ty(m,y),q=H.section==="colgroup",ne=O2(H.cells.slice(E),_),ue=q?1:O2(Um(m.slice(y),E),_);return{colspan:ne,rowspan:ue}},td=(m,y)=>{const E=an(m,H=>an(H.cells,dn)),_=(H,q,ne,ue)=>{for(let Se=H;Se<H+ne;Se++)for(let Ze=q;Ze<q+ue;Ze++)E[Se][Ze]=!0};return an(m,(H,q)=>{const ne=Lo(H.cells,(ue,Se)=>{if(E[q][Se]===!1){const Ze=Ql(m,q,Se,y);return _(q,Se,Ze.rowspan,Ze.colspan),[Rn(ue.element,Ze.rowspan,Ze.colspan,ue.isNew)]}else return[]});return ws(H.element,ne,H.section,H.isNew)})},Qa=(m,y,E)=>{const _=[];le(m.colgroups,H=>{const q=[];for(let ne=0;ne<m.grid.columns;ne++){const ue=Xo.getColumnAt(m,ne).map(Se=>Cs(Se.element,E,!1)).getOrThunk(()=>Cs(y.colGap(),!0,!1));q.push(ue)}_.push(oa(H.element,q,"colgroup",E))});for(let H=0;H<m.grid.rows;H++){const q=[];for(let Se=0;Se<m.grid.columns;Se++){const Ze=Xo.getAt(m,H,Se).map(ht=>Cs(ht.element,E,ht.isLocked)).getOrThunk(()=>Cs(y.gap(),!0,!1));q.push(Ze)}const ne=m.all[H],ue=oa(ne.element,q,ne.section,E);_.push(ue)}return _},$l=(m,y)=>Qa(m,y,!1),nd=m=>td(m,Vs),du=(m,y)=>Ot(m.all,E=>X(E.cells,_=>Vs(y,_.element))),xc=(m,y,E)=>{const _=an(y.selection,q=>gy(q).bind(ne=>du(m,ne)).filter(E)),H=ss(_);return sl(H.length>0,H)},Ii=(m,y,E,_,H,q,ne,ue,Se)=>{const Ze=Xo.fromTable(q),ht=Ne.from(Se?.section).getOrThunk(lm.fallback);return y(Ze,ne).map(Ln=>{const On=$l(Ze,ue),oo=m(On,Ln,Vs,H(ue),ht),Ft=iu(oo.grid),en=nd(oo.grid);return{info:Ln,grid:en,cursor:oo.cursor,lockedColumns:Ft}}).bind(Ln=>{const On=za(q,Ln.grid),oo=Ne.from(Se?.sizing).getOrThunk(()=>hl.getTableSize(q)),Ft=Ne.from(Se?.resize).getOrThunk(S2);return E(q,Ln.grid,Ln.info,{sizing:oo,resize:Ft,section:ht}),_(q),Ls(q,au),Ln.lockedColumns.length>0&&ri(q,au,Ln.lockedColumns.join(",")),Ne.some({cursor:Ln.cursor,newRows:On.newRows,newCells:On.newCells})})},Mf=(m,y)=>gy(y.element).bind(E=>du(m,E).map(_=>({..._,generators:y.generators,clipboard:y.clipboard}))),Jl=(m,y)=>xc(m,y,We).map(E=>({cells:E,generators:y.generators,clipboard:y.clipboard})),ec=(m,y)=>y.mergable,lb=(m,y)=>y.unmergable,Ki=(m,y)=>xc(m,y,We),Fu=(m,y)=>xc(m,y,E=>!E.isLocked),Bf=(m,y)=>du(m,y).exists(E=>!E.isLocked),Lf=(m,y)=>jo(y,E=>Bf(m,E)),dm=(m,y)=>ec(m,y).filter(E=>Lf(m,E.cells)),cb=(m,y)=>lb(m,y).filter(E=>Lf(m,E)),Zm={...Or.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},G0=(m,y)=>m.length===0?Zm.none():m.length===1?Zm.only(0):y===0?Zm.left(0,1):y===m.length-1?Zm.right(y-1,y):y>0&&y<m.length-1?Zm.middle(y-1,y,y+1):Zm.none(),Sr=(m,y,E,_,H)=>{const q=m.slice(0),ne=G0(m,y),ue=J(an(q,J(0))),Se=Ln=>_.singleColumnWidth(q[Ln],E),Ze=(Ln,On)=>H.calcLeftEdgeDeltas(q,Ln,On,E,_.minCellWidth(),_.isRelative),ht=(Ln,On,oo)=>H.calcMiddleDeltas(q,Ln,On,oo,E,_.minCellWidth(),_.isRelative),Jt=(Ln,On)=>H.calcRightEdgeDeltas(q,Ln,On,E,_.minCellWidth(),_.isRelative);return ne.fold(ue,Se,Ze,ht,Jt)},Hv=(m,y,E)=>{let _=0;for(let H=m;H<y;H++)_+=E[H]!==void 0?E[H]:0;return _},Ff=(m,y)=>{const E=Xo.justCells(m);return an(E,_=>{const H=Hv(_.column,_.column+_.colspan,y);return{element:_.element,width:H,colspan:_.colspan}})},Fp=(m,y)=>{const E=Xo.justColumns(m);return an(E,(_,H)=>({element:_.element,width:y[H],colspan:_.colspan}))},Ay=(m,y)=>an(m.all,(E,_)=>({element:E.element,height:y[_]})),Ph=m=>gt(m,(y,E)=>y+E,0),Ns=(m,y)=>Xo.hasColumns(m)?Fp(m,y):Ff(m,y),pa=(m,y,E)=>{const _=Ns(m,y);le(_,H=>{E.setElementWidth(H.element,H.width)})},pr=(m,y,E,_,H)=>{const q=Xo.fromTable(m),ne=H.getCellDelta(y),ue=H.getWidths(q,H),Se=E===q.grid.columns-1,Ze=_.clampTableDelta(ue,E,ne,H.minCellWidth(),Se),ht=Sr(ue,E,Ze,H,_),Jt=an(ht,(Ln,On)=>Ln+ue[On]);pa(q,Jt,H),_.resizeTable(H.adjustTableWidth,Ze,Se)},kr=(m,y,E)=>{const _=Xo.fromTable(m),H=Lp(_,m),q=an(H,(Se,Ze)=>E===Ze?Math.max(y+Se,Nh()):Se),ne=Ay(_,q);le(ne,Se=>{cm(Se.element,Se.height)}),le(Xo.justCells(_),Se=>{Iv(Se.element)});const ue=Ph(q);cm(m,ue)},Oa=(m,y,E,_,H)=>{const q=Xo.generate(y),ne=_.getWidths(q,_),ue=_.pixelWidth(),{newSizes:Se,delta:Ze}=H.calcRedestributedWidths(ne,ue,E.pixelDelta,_.isRelative);pa(q,Se,_),_.adjustTableWidth(Ze)},Pu=(m,y,E,_)=>{const H=Xo.generate(y),q=_.getWidths(H,_);pa(H,q,_)},Pf=(m,y)=>{Oh(m)||Bc(m).each(_=>{const H=_.value/2;ab(m,H,_.unit),ab(y,H,_.unit)})},Pp=(m,y,E)=>{const _=$m(m,y,1);E===1||_<=1?Ls(m,y):ri(m,y,Math.min(E,_))},ub=(m,y)=>E=>{const _=E.column+E.colspan-1,H=E.column;return _>=m&&H<y},fm=(m,y,E)=>{if(Xo.hasColumns(m)){const _=Re(Xo.justColumns(m),ub(y,E)),H=an(_,ne=>{const ue=ai(ne.element);return Pp(ue,"span",E-y),ue}),q=Sn.fromTag("colgroup");return ku(q,H),[q]}else return[]},xi=(m,y,E)=>an(m.all,_=>{const H=Re(_.cells,ub(y,E)),q=an(H,ue=>{const Se=ai(ue.element);return Pp(Se,"colspan",E-y),Se}),ne=Sn.fromTag("tr");return ku(ne,q),ne}),Lc=(m,y)=>{const E=Xo.fromTable(m);return Fu(E,y).map(H=>{const q=H[H.length-1],ne=H[0].column,ue=q.column+q.colspan,Se=fm(E,ne,ue),Ze=xi(E,ne,ue);return[...Se,...Ze]})},wc=(m,y,E)=>{const _=Xo.fromTable(m);return Ki(_,y).bind(q=>{const ne=Qa(_,E,!1),Se=Qr(ne).rows.slice(q[0].row,q[q.length-1].row+q[q.length-1].rowspan),Ze=Lo(Se,Jt=>{const Ln=Re(Jt.cells,On=>!On.isLocked);return Ln.length>0?[{...Jt,cells:Ln}]:[]}),ht=nd(Ze);return sl(ht.length>0,ht)}).map(q=>vc(q))},mm=(m,y,E,_,H,q)=>({minRow:m,minCol:y,maxRow:E,maxCol:_,allCells:H,selectedCells:q}),Md=(m,y)=>{const E=m.grid.columns;let H=m.grid.rows,q=E,ne=0,ue=0;const Se=[],Ze=[];return go(m.access,ht=>{if(Se.push(ht),y(ht)){Ze.push(ht);const Jt=ht.row,Ln=Jt+ht.rowspan-1,On=ht.column,oo=On+ht.colspan-1;Jt<H?H=Jt:Ln>ne&&(ne=Ln),On<q?q=On:oo>ue&&(ue=oo)}}),mm(H,q,ne,ue,Se,Ze)},$h=(m,y,E)=>{const _=m[E].element,H=Sn.fromTag("td");bs(H,Sn.fromTag("br")),(y?bs:da)(_,H)},$p=(m,y,E,_)=>{const H=Re(m,ue=>ue.section!=="colgroup"),q=y.grid.columns,ne=y.grid.rows;for(let ue=0;ue<ne;ue++){let Se=!1;for(let Ze=0;Ze<q;Ze++)ue<E.minRow||ue>E.maxRow||Ze<E.minCol||Ze>E.maxCol||(Xo.getAt(y,ue,Ze).filter(_).isNone()?$h(H,Se,ue):Se=!0)}},od=(m,y,E,_)=>{go(E.columns,ne=>{(ne.column<y.minCol||ne.column>y.maxCol)&&qi(ne.element)});const H=Re(Im(m,"tr"),ne=>ne.dom.childElementCount===0);le(H,qi),(y.minCol===y.maxCol||y.minRow===y.maxRow)&&le(Im(m,"th,td"),ne=>{Ls(ne,"rowspan"),Ls(ne,"colspan")}),Ls(m,au),Ls(m,"data-snooker-col-series"),hl.getTableSize(m).adjustTableWidth(_)},db=(m,y,E,_)=>{if(_.minCol===0&&y.grid.columns===_.maxCol+1)return 0;const H=pt(y,m,E),q=He(H,(Ze,ht)=>Ze+ht,0),Se=He(H.slice(_.minCol,_.maxCol+1),(Ze,ht)=>Ze+ht,0)/q*E.pixelWidth()-E.pixelWidth();return E.getCellDelta(Se)},Ip=(m,y)=>{const E=Ln=>Ui(Ln.element,y),_=ai(m),H=eb(_),q=hl.getTableSize(m),ne=Xo.generate(H),ue=Md(ne,E),Se="th:not("+y+"),td:not("+y+")",Ze=hy(_,"th,td",Ln=>Ui(Ln,Se));le(Ze,qi),$p(H,ne,ue,E);const ht=Xo.fromTable(m),Jt=db(m,ht,q,ue);return od(_,ue,ne,Jt),_},fb=Yc("col"),Hp=Yc("colgroup"),Bd=m=>Ta(m)==="tr"||Hp(m),$f=m=>{const y=$m(m,"colspan",1),E=$m(m,"rowspan",1);return{element:m,colspan:y,rowspan:E}},Yi=(m,y=$f)=>{const E=ue=>fb(ue.element)?m.col(ue):m.cell(ue),_=ue=>Hp(ue.element)?m.colgroup(ue):m.row(ue),H=ue=>{if(Bd(ue))return _({element:ue});{const Se=ue,Ze=E(y(Se));return q=Ne.some({item:Se,replacement:Ze}),Ze}};let q=Ne.none();return{getOrInit:(ue,Se)=>q.fold(()=>H(ue),Ze=>Se(ue,Ze.item)?Ze.replacement:H(ue))}},Ld=m=>y=>{const E=[],_=(ne,ue)=>X(E,Se=>ue(Se.item,ne)),H=ne=>{const ue=m==="td"?{scope:null}:{},Se=y.replace(ne,m,ue);return E.push({item:ne,sub:Se}),Se};return{replaceOrInit:(ne,ue)=>{if(Bd(ne)||fb(ne))return ne;{const Se=ne;return _(Se,ue).fold(()=>H(Se),Ze=>ue(ne,Ze.item)?Ze.sub:H(Se))}}}},zp=m=>cl(m,"scope").map(y=>y.substr(0,3)),Cc={modification:Yi,transform:Ld,merging:m=>({unmerge:_=>{const H=zp(_);return H.each(q=>ri(_,"scope",q)),()=>{const q=m.cell({element:_,colspan:1,rowspan:1});return Gu(q,"width"),Gu(_,"width"),H.each(ne=>ri(q,"scope",ne)),q}},merge:_=>{const H=()=>{const q=ss(an(_,zp));if(q.length===0)return Ne.none();{const ne=q[0],ue=["row","col"];return at(q,Ze=>Ze!==ne&&zt(ue,Ze))?Ne.none():Ne.from(ne)}};return Gu(_[0],"width"),H().fold(()=>Ls(_[0],"scope"),q=>ri(_[0],"scope",q+"group")),J(_[0])}})},zv=(m,y)=>{const E=m.slice(0,y[y.length-1].row+1),_=nd(E);return Lo(_,H=>{const q=H.cells.slice(0,y[y.length-1].column+1);return an(q,ne=>ne.element)})},ky=(m,y)=>{const E=m.slice(y[0].row+y[0].rowspan-1,m.length),_=nd(E);return Lo(_,H=>{const q=H.cells.slice(y[0].column+y[0].colspan-1,H.cells.length);return an(q,ne=>ne.element)})},jp=(m,y,E)=>{const _=Xo.fromTable(m);return Ki(_,y).map(q=>{const ne=Qa(_,E,!1),{rows:ue}=Qr(ne),Se=zv(ue,q),Ze=ky(ue,q);return{upOrLeftCells:Se,downOrRightCells:Ze}})},sd={only:(m,y)=>{const E=W1(m)?yg(m):m;return{parent:J(E),view:J(m),dragContainer:J(E),origin:J(Vr(0,0)),isResizable:y}},detached:(m,y,E)=>{const _=()=>rs(y);return{parent:J(y),view:J(m),dragContainer:J(y),origin:_,isResizable:E}},body:(m,y)=>({parent:J(m),view:J(m),dragContainer:J(m),origin:()=>rs(m),isResizable:y})},Y0=Or.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),_y=(m,y,E)=>{const _=E.substring(0,E.length-m.length),H=parseFloat(_);return _===H.toString()?y(H):Y0.invalid(E)},ds={...Y0,from:m=>To(m,"%")?_y("%",Y0.percent,m):To(m,"px")?_y("px",Y0.pixels,m):Y0.invalid(m)},Vp=(m,y)=>an(m,E=>ds.from(E).fold(()=>E,H=>H/y*100+"%",H=>H+"%")),Rs=(m,y,E)=>{const _=E/y;return an(m,H=>ds.from(H).fold(()=>H,ne=>ne*_+"px",ne=>ne/100*E+"px"))},tc=(m,y)=>{const E=m.fold(()=>J(""),_=>{const H=_/y;return J(H+"px")},()=>{const _=100/y;return J(_+"%")});return Jn(y,E)},Ih=(m,y,E)=>m.fold(()=>y,_=>Rs(y,E,_),_=>Vp(y,E)),X0=(m,y,E)=>{const _=ds.from(E),H=jo(m,q=>q==="0px")?tc(_,m.length):Ih(_,m,y);return Vv(H)},er=(m,y)=>m.length===0?y:gt(m,(E,_)=>ds.from(_).fold(J(0),rt,rt)+E,0),jv=(m,y)=>{const E=Math.floor(m);return{value:E+y,remainder:m-E}},mb=(m,y)=>ds.from(m).fold(J(m),E=>E+y+"px",E=>E+y+"%"),Vv=m=>{if(m.length===0)return m;const y=gt(m,(_,H)=>{const q=ds.from(H).fold(()=>({value:H,remainder:0}),ne=>jv(ne,"px"),ne=>({value:ne+"%",remainder:0}));return{output:[q.value].concat(_.output),remainder:_.remainder+q.remainder}},{output:[],remainder:0}),E=y.output;return E.slice(0,E.length-1).concat([mb(E[E.length-1],Math.round(y.remainder))])},Up=ds.from,hb=(m,y,E)=>{le(y,_=>{const H=m.slice(_.column,_.colspan+_.column),q=er(H,Di());$a(_.element,"width",q+E)})},R2=(m,y,E)=>{le(y,(_,H)=>{const q=er([m[H]],Di());$a(_.element,"width",q+E)})},M2=(m,y,E)=>{le(E,_=>{Gu(_.element,"height")}),le(y,(_,H)=>{$a(_.element,"height",m[H])})},B2=m=>Up(m).fold(J("px"),J("px"),J("%")),Zp=(m,y,E)=>{const _=Xo.fromTable(m),H=_.all,q=Xo.justCells(_),ne=Xo.justColumns(_);y.each(ue=>{const Se=B2(ue),Ze=wo(m),ht=$i(_,m),Jt=X0(ht,Ze,ue);Xo.hasColumns(_)?R2(Jt,ne,Se):hb(Jt,q,Se),$a(m,"width",ue)}),E.each(ue=>{const Se=Ml(m),Ze=Da(_,m),ht=X0(Ze,Se,ue);M2(ht,H,q),$a(m,"height",ue)})},gb=_2,L2=cf,F2=q0;var Fg=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],$u=()=>{const m=Ze=>Sn.fromDom(Ze.dom.cloneNode(!1)),y=Ze=>vd(Ze).dom,E=Ze=>Za(Ze)?Ta(Ze)==="body"?!0:zt(Fg,Ta(Ze)):!1,_=Ze=>Za(Ze)?zt(["br","img","hr","input"],Ta(Ze)):!1,H=Ze=>Za(Ze)&&Jc(Ze,"contenteditable")==="false",q=(Ze,ht)=>Ze.dom.compareDocumentPosition(ht.dom),ne=(Ze,ht)=>{const Jt=qu(Ze);Wu(ht,Jt)},ue=Ze=>{const ht=Ta(Ze);return zt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],ht)},Se=Ze=>Za(Ze)?cl(Ze,"lang"):Ne.none();return{up:J({selector:fl,closest:di,predicate:cr,all:vl}),down:J({selector:Ad,predicate:Ou}),styles:J({get:Nc,getRaw:tu,set:$a,remove:Gu}),attrs:J({get:Jc,set:ri,remove:Ls,copyTo:ne}),insert:J({before:xd,after:wd,afterAll:Fa,append:bs,appendAll:ku,prepend:da,wrap:Cd}),remove:J({unwrap:Pa,remove:qi}),create:J({nu:Sn.fromTag,clone:m,text:Sn.fromText}),query:J({comparePosition:q,prevSibling:xh,nextSibling:wh}),property:J({children:Nl,name:Ta,parent:_e,document:y,isText:em,isComment:U1,isElement:Za,isSpecial:ue,getLanguage:Se,getText:Df,setText:Ga,isBoundary:E,isEmptyTag:_,isNonEditable:H}),eq:Vs,is:te}};const Xi=(m,y)=>({item:m,mode:y}),Hh=(m,y,E,_=rd)=>m.property().parent(y).map(H=>Xi(H,_)),rd=(m,y,E,_=hm)=>E.sibling(m,y).map(H=>Xi(H,_)),hm=(m,y,E,_=hm)=>{const H=m.property().children(y);return E.first(H).map(ne=>Xi(ne,_))},Wp=[{current:Hh,next:rd,fallback:Ne.none()},{current:rd,next:hm,fallback:Ne.some(Hh)},{current:hm,next:hm,fallback:Ne.some(rd)}],la=(m,y,E,_,H=Wp)=>X(H,ne=>ne.current===E).bind(ne=>ne.current(m,y,_,ne.next).orThunk(()=>ne.fallback.bind(ue=>la(m,y,ue,_)))),pb={left:()=>({sibling:(E,_)=>E.query().prevSibling(_),first:E=>E.length>0?Ne.some(E[E.length-1]):Ne.none()}),right:()=>({sibling:(E,_)=>E.query().nextSibling(_),first:E=>E.length>0?Ne.some(E[0]):Ne.none()})},Uv=(m,y,E,_,H,q)=>la(m,y,_,H).bind(ue=>q(ue.item)?Ne.none():E(ue.item)?Ne.some(ue.item):Uv(m,ue.item,E,ue.mode,H,q)),Zv=(m,y,E,_)=>Uv(m,y,E,rd,pb.left(),_),bb=(m,y,E,_)=>Uv(m,y,E,rd,pb.right(),_),If=(m,y)=>({element:m,offset:y}),zh=(m,y,E)=>m.property().isText(y)&&m.property().getText(y).trim().length===0||m.property().isComment(y)?E(y).bind(_=>zh(m,_,E).orThunk(()=>Ne.some(_))):Ne.none(),qp=(m,y)=>m.property().isText(y)?m.property().getText(y).length:m.property().children(y).length,Gp=(m,y)=>{const E=zh(m,y,m.query().prevSibling).getOr(y);if(m.property().isText(E))return If(E,qp(m,E));const _=m.property().children(E);return _.length>0?Gp(m,_[_.length-1]):If(E,qp(m,E))},Dy=Gp,fu=$u(),df=m=>Dy(fu,m),J0=m=>y=>m.property().children(y).length===0,UC=(m,y,E)=>Wv(m,y,J0(m),E),P2=(m,y,E)=>Oy(m,y,J0(m),E),Wv=Zv,Oy=bb,gm=$u(),$2=(m,y)=>UC(gm,m,y),$d=(m,y)=>P2(gm,m,y),Sc=(m,y,E)=>Wv(gm,m,y,E),Id=(m,y,E)=>Oy(gm,m,y,E),mu=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],e1=(m,y)=>{const E=m.property().name(y);return zt(["ol","ul"],E)},jh=(m,y)=>{const E=m.property().name(y);return zt(mu,E)},Ny=(m,y)=>zt(["br","img","hr","input"],m.property().name(y)),qv=(m,y,E,_)=>{const H=E[0],q=E.slice(1);return _(m,y,H,q)},yb=(m,y,E)=>E.length>0?qv(m,y,E,Pg):Ne.none(),Pg=(m,y,E,_)=>{const H=y(m,E);return gt(_,(q,ne)=>{const ue=y(m,ne);return Vh(m,q,ue)},H)},Vh=(m,y,E)=>y.bind(_=>E.filter(qe(m.eq,_))),_r=(m,y)=>qe(m.eq,y),Hi=(m,y,E,_=dn)=>{const H=[y].concat(m.up().all(y)),q=[E].concat(m.up().all(E)),ne=ht=>zo(ht,_).fold(()=>ht,Ln=>ht.slice(0,Ln+1)),ue=ne(H),Se=ne(q),Ze=X(ue,ht=>at(Se,_r(m,ht)));return{firstpath:ue,secondpath:Se,shared:Ze}},$g=yb,Fc=Hi,vb=$u(),Er=(m,y)=>$g(vb,(E,_)=>m(_),y),ad=(m,y,E)=>Fc(vb,m,y,E),Hf=$u(),pm=m=>jh(Hf,m),id=m=>e1(Hf,m),Ry=m=>Ny(Hf,m),I2=m=>{const y=Yc("br"),E=Se=>jo(Se,Ze=>y(Ze)||em(Ze)&&Df(Ze).trim().length===0),_=Se=>Ta(Se)==="li"||cr(Se,id).isSome(),H=Se=>wh(Se).map(Ze=>pm(Ze)?!0:Ry(Ze)?Ta(Ze)!=="img":!1).getOr(!1),q=Se=>ka(Se).bind(Ze=>{const ht=H(Ze);return _e(Ze).map(Jt=>ht===!0||_(Jt)||y(Ze)||pm(Jt)&&!Vs(Se,Jt)?[]:[Sn.fromTag("br")])}).getOr([]),ue=(()=>{const Se=Lo(m,Ze=>{const ht=Nl(Ze);return E(ht)?[]:ht.concat(q(Ze))});return Se.length===0?[Sn.fromTag("br")]:Se})();Wa(m[0]),ku(m[0],ue)},Wm=m=>{Ls(m,"width"),Ls(m,"height")},Ig=m=>{const y=uu(m);Zp(m,Ne.some(y),Ne.none()),Wm(m)},Ja=m=>{const y=Xa(m);Zp(m,Ne.some(y),Ne.none()),Wm(m)},hu=m=>{const y=Yl(m);Zp(m,Ne.none(),Ne.some(y)),Wm(m)},Qi=m=>{Gu(m,"width");const y=J1(m),E=y.length>0?y:af(m);le(E,_=>{Gu(_,"width"),Wm(_)}),Wm(m)},nc={scope:["row","col"]},ff=m=>()=>{const y=Sn.fromTag("td",m.dom);return bs(y,Sn.fromTag("br",m.dom)),y},My=m=>()=>Sn.fromTag("col",m.dom),Uh=m=>()=>Sn.fromTag("colgroup",m.dom),qm=m=>()=>Sn.fromTag("tr",m.dom),Hg=(m,y,E)=>{const _=om(m,y);return go(E,(H,q)=>{H===null?Ls(_,q):ri(_,q,H)}),_},By=m=>m,xb=(m,y,E)=>kh(m).map(H=>{const q=E.join(","),ne=ar(H,q,ue=>Vs(ue,m));return gt(ne,(ue,Se)=>{const Ze=eu(Se);return bs(ue,Ze),Ze},y)}).getOr(y),Zh=(m,y)=>{go(nc,(E,_)=>cl(m,_).filter(H=>zt(E,H)).each(H=>ri(y,_,H)))},Gm=(m,y,E)=>{const _=(ne,ue)=>{vg(ne.element,ue),Gu(ue,"height"),ne.colspan!==1&&Gu(ue,"width")},H=ne=>{const ue=Sn.fromTag(Ta(ne.element),y.dom),Se=E.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Ze=Se.length>0?xb(ne.element,ue,Se):ue;return bs(Ze,Sn.fromTag("br")),_(ne,ue),Zh(ne.element,ue),m(ne.element,ue),ue};return{col:ne=>{const ue=Sn.fromTag(Ta(ne.element),y.dom);return _(ne,ue),m(ne.element,ue),ue},colgroup:Uh(y),row:qm(y),cell:H,replace:Hg,colGap:My(y),gap:ff(y)}},Gv=m=>({col:My(m),colgroup:Uh(m),row:qm(m),cell:ff(m),replace:By,colGap:My(m),gap:ff(m)}),t1=m=>Xo.fromTable(m).grid,Kv=(m,y,E,_)=>{const H=Qr(m).rows;if(H.length===0)return m;for(let q=y.startRow;q<=y.finishRow;q++)for(let ne=y.startCol;ne<=y.finishCol;ne++){const ue=H[q],Se=xo(ue,ne).isLocked;Vi(ue,ne,Cs(_(),!1,Se))}return m},Yv=(m,y,E,_)=>{const H=Qr(m).rows;let q=!0;for(let ne=0;ne<H.length;ne++)for(let ue=0;ue<oi(H[0]);ue++){const Se=H[ne],Ze=xo(Se,ue),ht=Ze.element,Jt=E(ht,y);Jt&&!q?Vi(Se,ue,Cs(_(),!0,Ze.isLocked)):Jt&&(q=!1)}return m},gl=(m,y)=>He(m,(E,_)=>at(E,H=>y(H.element,_.element))?E:E.concat([_]),[]),zg=(m,y,E,_)=>(y>0&&y<m[0].cells.length&&le(m,H=>{const q=H.cells[y-1];let ne=0;const ue=_();for(;H.cells.length>y+ne&&E(q.element,H.cells[y+ne].element);)Vi(H,y+ne,Cs(ue,!0,H.cells[y+ne].isLocked)),ne++}),m),ld=(m,y,E,_)=>{const H=Qr(m).rows;if(y>0&&y<H.length){const q=H[y-1].cells,ne=gl(q,E);le(ne,ue=>{let Se=Ne.none();for(let Ze=y;Ze<H.length;Ze++)for(let ht=0;ht<oi(H[0]);ht++){const Jt=H[Ze],Ln=xo(Jt,ht);E(Ln.element,ue.element)&&(Se.isNone()&&(Se=Ne.some(_())),Se.each(oo=>{Vi(Jt,ht,Cs(oo,!0,Ln.isLocked))}))}})}return m},Xv=(m,y,E)=>{if(m.row>=y.length||m.column>oi(y[0]))return Wn.error("invalid start address out of table bounds, row: "+m.row+", column: "+m.column);const _=y.slice(m.row),H=_[0].cells.slice(m.column),q=oi(E[0]),ne=E.length;return Wn.value({rowDelta:_.length-ne,colDelta:H.length-q})},wb=(m,y)=>{const E=oi(m[0]),_=oi(y[0]);return{rowDelta:0,colDelta:E-_}},Cb=(m,y)=>{const E=m.length,_=y.length;return{rowDelta:E-_,colDelta:0}},Sb=(m,y,E,_)=>{const H=y.section==="colgroup"?E.col:E.cell;return Jn(m,q=>Cs(H(),!0,_(q)))},Ly=(m,y,E,_)=>{const H=m[m.length-1];return m.concat(Jn(y,()=>{const q=H.section==="colgroup"?E.colgroup:E.row,ne=Sf(H,q,rt),ue=Sb(ne.cells.length,ne,E,Se=>_s(_,Se.toString()));return Ci(ne,ue)}))},Qv=(m,y,E,_)=>an(m,H=>{const q=Sb(y,H,E,dn);return Bs(H,_,q)}),Jv=(m,y,E)=>an(m,_=>He(E,(H,q)=>{const ne=Sb(1,_,y,We)[0];return or(H,q,ne)},_)),Kp=(m,y,E)=>{const _=y.colDelta<0?Qv:rt,H=y.rowDelta<0?Ly:rt,q=iu(m),ne=oi(m[0]),ue=at(q,ht=>ht===ne-1),Se=_(m,Math.abs(y.colDelta),E,ue?ne-1:ne),Ze=iu(Se);return H(Se,Math.abs(y.rowDelta),E,Be(Ze,We))},Ji=(m,y,E,_)=>{const H=xo(m[y],E),q=qe(_,H.element),ne=m[y];return m.length>1&&oi(ne)>1&&(E>0&&q(Si(ne,E-1))||E<ne.cells.length-1&&q(Si(ne,E+1))||y>0&&q(Si(m[y-1],E))||y<m.length-1&&q(Si(m[y+1],E)))},Ur=(m,y,E,_,H,q)=>{const ne=m.row,ue=m.column,Se=E.length,Ze=oi(E[0]),ht=ne+Se,Jt=ue+Ze+q.length,Ln=Be(q,We);for(let On=ne;On<ht;On++){let oo=0;for(let Ft=ue;Ft<Jt;Ft++){if(Ln[Ft]){oo++;continue}Ji(y,On,Ft,H)&&Yv(y,Si(y[On],Ft),H,_.cell);const en=Ft-ue-oo,Co=xo(E[On-ne],en),Go=Co.element,qn=_.replace(Go);Vi(y[On],Ft,Cs(qn,!0,Co.isLocked))}}return y},Al=(m,y,E)=>{const _=oi(y[0]),H=Qr(y).cols.length+m.row,q=Jn(_-m.column,ue=>ue+m.column),ne=X(q,ue=>jo(E,Se=>Se!==ue)).getOr(_-1);return{row:H,column:ne}},kl=(m,y,E)=>Re(E,_=>_>=m.column&&_<=oi(y[0])+m.column),ba=(m,y,E,_,H)=>{const q=iu(y),ne=Al(m,y,q),ue=Qr(E).rows,Se=kl(ne,ue,q);return Xv(ne,y,ue).map(ht=>{const Jt={...ht,colDelta:ht.colDelta-Se.length},Ln=Kp(y,Jt,_),On=iu(Ln),oo=kl(ne,ue,On);return Ur(ne,Ln,ue,_,H,oo)})},Oi=(m,y,E,_,H)=>{zg(y,m,H,_.cell);const q=Cb(E,y),ne=Kp(E,q,_),ue=Cb(y,ne),Se=Kp(y,ue,_);return an(Se,(Ze,ht)=>Bs(Ze,m,ne[ht].cells))},Km=(m,y,E,_,H)=>{ld(y,m,H,_.cell);const q=iu(y),ne=wb(y,E),ue={...ne,colDelta:ne.colDelta-q.length},Se=Kp(y,ue,_),{cols:Ze,rows:ht}=Qr(Se),Jt=iu(Se),Ln=wb(E,y),On={...Ln,colDelta:Ln.colDelta+Jt.length},oo=Jv(E,_,Jt),Ft=Kp(oo,On,_);return[...Ze,...ht.slice(0,m),...Ft,...ht.slice(m,ht.length)]},Hd=(m,y,E,_)=>Sf(m,H=>_(H,E),y),Fy=(m,y,E,_,H)=>{const{rows:q,cols:ne}=Qr(m),ue=q.slice(0,y),Se=q.slice(y),Ze=Hd(q[E],(ht,Jt)=>y>0&&y<q.length&&_(Si(q[y-1],Jt),Si(q[y],Jt))?xo(q[y],Jt):Cs(H(ht.element,_),!0,ht.isLocked),_,H);return[...ne,...ue,Ze,...Se]},Eb=(m,y,E,_,H,q,ne)=>{if(E==="colgroup"||!_){const ue=xo(m,H);return Cs(ne(ue.element,q),!0,!1)}else return xo(m,y)},zf=(m,y,E,_,H)=>an(m,q=>{const ne=y>0&&y<oi(q)&&_(Si(q,y-1),Si(q,y)),ue=Eb(q,y,q.section,ne,E,_,H);return or(q,y,ue)}),ex=(m,y)=>Lo(m,E=>{const _=E.cells,H=gt(y,(q,ne)=>ne>=0&&ne<q.length?q.slice(0,ne).concat(q.slice(ne+1)):q,_);return H.length>0?[oa(E.element,H,E.section,E.isNew)]:[]}),tx=(m,y,E)=>{const{rows:_,cols:H}=Qr(m);return[...H,..._.slice(0,y),..._.slice(E+1)]},Wh=(m,y,E,_)=>Si(m[y],E)!==void 0&&y>0&&_(Si(m[y-1],E),Si(m[y],E)),Py=(m,y,E)=>y>0&&E(Si(m,y-1),Si(m,y)),n1=(m,y,E,_)=>Wh(m,y,E,_)||Py(m[y],E,_),H2=(m,y)=>jo(y,rt)&&py(m.cells)?We:(_,H,q)=>!(Ta(_.element)==="th"&&y[q]),Tb=(m,y)=>jo(y,rt)&&py(m)?We:(_,H,q)=>!(Ta(_.element)==="th"&&y[H]),bm=(m,y,E,_)=>{const H=ne=>ne==="row"?Mv(y):Oh(y),q=ne=>H(ne)?`${ne}group`:ne;return m?Ya(y)?q(E):null:_&&Ya(y)?q(E==="row"?"col":"row"):null},$y=(m,y)=>(E,_,H)=>Ne.some(bm(m,E.element,"col",y[H])),Ab=(m,y)=>(E,_)=>Ne.some(bm(m,E.element,"row",y[_])),o1=(m,y,E)=>Cs(E(m.element,y),!0,m.isLocked),jg=(m,y,E,_,H,q,ne)=>{const ue=Se=>at(y,Ze=>E(Se.element,Ze.element));return an(m,(Se,Ze)=>Lr(Se,(ht,Jt)=>{if(ue(ht)){const Ln=ne(ht,Ze,Jt)?H(ht,E,_):ht;return q(Ln,Ze,Jt).each(On=>{Wi(Ln.element,{scope:Ne.from(On)})}),Ln}else return ht}))},Ym=(m,y,E)=>Lo(m,(_,H)=>n1(m,H,y,E)?[]:[xo(_,y)]),Vg=(m,y,E)=>{const _=m[y];return Lo(_.cells,(H,q)=>n1(m,y,q,E)?[]:[H])},s1=(m,y,E,_,H)=>{const q=Qr(m).rows,ne=Lo(y,ht=>Ym(q,ht,_)),ue=an(q,ht=>py(ht.cells)),Se=Tb(ne,ue),Ze=Ab(E,ue);return jg(m,ne,_,H,o1,Ze,Se)},Iy=(m,y,E,_,H,q,ne)=>{const{cols:ue,rows:Se}=Qr(m),Ze=Se[y[0]],ht=Lo(y,en=>Vg(Se,en,H)),Jt=an(Ze.cells,(en,Co)=>py(Ym(Se,Co,H))),Ln=[...Se];le(y,en=>{Ln[en]=ne.transformRow(Se[en],E)});const On=[...ue,...Ln],oo=H2(Ze,Jt),Ft=$y(_,Jt);return jg(On,ht,H,q,ne.transformCell,Ft,oo)},jf=(m,y,E,_)=>{const H=Qr(m).rows,q=an(y,ne=>xo(H[ne.row],ne.column));return jg(m,q,E,_,o1,Ne.none,We)},Il=m=>He(m,(E,_)=>at(E,q=>q.column===_.column)?E:E.concat([_]),[]).sort((E,_)=>E.column-_.column),oc=m=>Nf(m,!0),qh=m=>{af(m).length===0&&qi(m)},kt=(m,y)=>({grid:m,cursor:y}),Yp=m=>Ot(m,y=>Ot(y.cells,E=>{const _=E.element;return sl(oc(_),_)})),Hy=(m,y,E)=>{const _=Qr(m).rows;return Ne.from(_[y]?.cells[E]?.element).filter(oc).orThunk(()=>Yp(_))},Pc=(m,y,E)=>{const _=Hy(m,y,E);return kt(m,_)},Xp=m=>He(m,(E,_)=>at(E,q=>q.row===_.row)?E:E.concat([_]),[]).sort((E,_)=>E.row-_.row),ym=(m,y,E,_)=>{const H=y[0].row,q=Xp(y),ne=gt(q,(ue,Se)=>({grid:Fy(ue.grid,H,Se.row+ue.delta,E,_.getOrInit),delta:ue.delta+1}),{grid:m,delta:0}).grid;return Pc(ne,H,y[0].column)},zy=(m,y,E,_)=>{const H=Xp(y),q=H[H.length-1],ne=q.row+q.rowspan,ue=gt(H,(Se,Ze)=>Fy(Se,ne,Ze.row,E,_.getOrInit),m);return Pc(ue,ne,y[0].column)},nx=(m,y,E,_)=>{const H=y.details,q=Il(H),ne=q[0].column,ue=gt(q,(Se,Ze)=>({grid:zf(Se.grid,ne,Ze.column+Se.delta,E,_.getOrInit),delta:Se.delta+1}),{grid:m,delta:0}).grid;return Pc(ue,H[0].row,ne)},Gh=(m,y,E,_)=>{const H=y.details,q=H[H.length-1],ne=q.column+q.colspan,ue=Il(H),Se=gt(ue,(Ze,ht)=>zf(Ze,ne,ht.column,E,_.getOrInit),m);return Pc(Se,H[0].row,ne)},kb=(m,y,E,_)=>{const H=Il(y),q=an(H,ue=>ue.column),ne=s1(m,q,!0,E,_.replaceOrInit);return Pc(ne,y[0].row,y[0].column)},Vf=(m,y,E,_)=>{const H=jf(m,y,E,_.replaceOrInit);return Pc(H,y[0].row,y[0].column)},Qp=(m,y,E,_)=>{const H=Il(y),q=an(H,ue=>ue.column),ne=s1(m,q,!1,E,_.replaceOrInit);return Pc(ne,y[0].row,y[0].column)},jy=(m,y,E,_)=>{const H=jf(m,y,E,_.replaceOrInit);return Pc(H,y[0].row,y[0].column)},Ec=(m,y)=>(E,_,H,q,ne)=>{const ue=Xp(_),Se=an(ue,ht=>ht.row),Ze=Iy(E,Se,m,y,H,q.replaceOrInit,ne);return Pc(Ze,_[0].row,_[0].column)},cd=Ec("thead",!0),ud=Ec("tbody",!1),z2=Ec("tfoot",!1),Jp=(m,y,E,_)=>{const H=Il(y.details),q=ex(m,an(H,ue=>ue.column)),ne=q.length>0?q[0].cells.length-1:0;return Pc(q,H[0].row,Math.min(H[0].column,ne))},ox=(m,y,E,_)=>{const H=Xp(y),q=tx(m,H[0].row,H[H.length-1].row),ne=Math.max(Qr(q).rows.length-1,0);return Pc(q,Math.min(y[0].row,ne),y[0].column)},_b=(m,y,E,_)=>{const H=y.cells;I2(H);const q=Kv(m,y.bounds,E,_.merge(H));return kt(q,Ne.from(H[0]))},sx=(m,y,E,_)=>{const q=gt(y,(ne,ue)=>Yv(ne,ue,E,_.unmerge(ue)),m);return kt(q,Ne.from(y[0]))},rx=(m,y,E,_)=>{const q=((Se,Ze)=>{const ht=Xo.fromTable(Se);return Qa(ht,Ze,!0)})(y.clipboard,y.generators),ne=vo(y.row,y.column);return ba(ne,m,q,y.generators,E).fold(()=>kt(m,Ne.some(y.element)),Se=>Pc(Se,y.row,y.column))},cs=(m,y,E)=>{const _=xn(m,E.section),H=Xo.generate(_);return Qa(H,y,!0)},no=(m,y,E,_)=>{const H=Qr(m).rows,q=y.cells[0].column,ne=H[y.cells[0].row],ue=cs(y.clipboard,y.generators,ne),Se=Oi(q,m,ue,y.generators,E);return Pc(Se,y.cells[0].row,y.cells[0].column)},r1=(m,y,E,_)=>{const H=Qr(m).rows,q=y.cells[y.cells.length-1].column+y.cells[y.cells.length-1].colspan,ne=H[y.cells[0].row],ue=cs(y.clipboard,y.generators,ne),Se=Oi(q,m,ue,y.generators,E);return Pc(Se,y.cells[0].row,q)},Vy=(m,y,E,_)=>{const H=Qr(m).rows,q=y.cells[0].row,ne=H[q],ue=cs(y.clipboard,y.generators,ne),Se=Km(q,m,ue,y.generators,E);return Pc(Se,y.cells[0].row,y.cells[0].column)},a1=(m,y,E,_)=>{const H=Qr(m).rows,q=y.cells[y.cells.length-1].row+y.cells[y.cells.length-1].rowspan,ne=H[y.cells[0].row],ue=cs(y.clipboard,y.generators,ne),Se=Km(q,m,ue,y.generators,E);return Pc(Se,q,y.cells[0].column)},ax=(m,y)=>{const E=Xo.fromTable(m);return Ki(E,y).bind(H=>{const q=H[H.length-1],ne=H[0].column,ue=q.column+q.colspan,Se=Eo(an(E.all,Ze=>Re(Ze.cells,ht=>ht.column>=ne&&ht.column<ue)));return by(Se)}).getOr("")},i1=(m,y)=>{const E=Xo.fromTable(m);return Ki(E,y).bind(by).getOr("")},na=(m,y)=>{const E=Xo.fromTable(m);return Ki(E,y).bind(H=>{const q=H[H.length-1],ne=H[0].row,ue=q.row+q.rowspan,Se=E.all.slice(ne,ue);return Lv(Se)}).getOr("")},Db=(m,y,E,_)=>Pu(m,y,E,_.sizing),l1=(m,y,E,_)=>Oa(m,y,E,_.sizing,_.resize),Xm=(m,y)=>at(y,E=>E.column===0&&E.isLocked),Nt=(m,y)=>at(y,E=>E.column+E.colspan>=m.grid.columns&&E.isLocked),mf=(m,y)=>{const E=Np(m),_=Il(y);return He(_,(H,q)=>{const ue=E[q.column].map(Ar).getOr(0);return H+ue},0)},vm=m=>(y,E)=>Ki(y,E).filter(_=>!(m?Xm:Nt)(y,_)).map(_=>({details:_,pixelDelta:mf(y,_)})),zd=(m,y)=>Fu(m,y).map(E=>({details:E,pixelDelta:-mf(m,E)})),Tc=m=>(y,E)=>Jl(y,E).filter(_=>!(m?Xm:Nt)(y,_.cells)),Qm=Cc.transform("th"),e0=Cc.transform("td"),xm=(m,y,E,_)=>Ii(ym,Ki,be,be,Cc.modification,m,y,E,_),ZC=(m,y,E,_)=>Ii(zy,Ki,be,be,Cc.modification,m,y,E,_),t0=(m,y,E,_)=>Ii(nx,vm(!0),l1,be,Cc.modification,m,y,E,_),Rr=(m,y,E,_)=>Ii(Gh,vm(!1),l1,be,Cc.modification,m,y,E,_),hf=(m,y,E,_)=>Ii(Jp,zd,l1,qh,Cc.modification,m,y,E,_),ix=(m,y,E,_)=>Ii(ox,Ki,be,qh,Cc.modification,m,y,E,_),wm=(m,y,E,_)=>Ii(kb,Fu,be,be,Qm,m,y,E,_),jd=(m,y,E,_)=>Ii(Qp,Fu,be,be,e0,m,y,E,_),sc=(m,y,E,_)=>Ii(cd,Ki,be,be,Qm,m,y,E,_),n0=(m,y,E,_)=>Ii(ud,Ki,be,be,e0,m,y,E,_),Uy=(m,y,E,_)=>Ii(z2,Ki,be,be,e0,m,y,E,_),Zy=(m,y,E,_)=>Ii(Vf,Fu,be,be,Qm,m,y,E,_),Wy=(m,y,E,_)=>Ii(jy,Fu,be,be,e0,m,y,E,_),j2=(m,y,E,_)=>Ii(_b,dm,Db,be,Cc.merging,m,y,E,_),lx=(m,y,E,_)=>Ii(sx,cb,Db,be,Cc.merging,m,y,E,_),Ob=(m,y,E,_)=>Ii(rx,Mf,Db,be,Cc.modification,m,y,E,_),a=(m,y,E,_)=>Ii(no,Tc(!0),be,be,Cc.modification,m,y,E,_),d=(m,y,E,_)=>Ii(r1,Tc(!1),be,be,Cc.modification,m,y,E,_),g=(m,y,E,_)=>Ii(Vy,Jl,be,be,Cc.modification,m,y,E,_),C=(m,y,E,_)=>Ii(a1,Jl,be,be,Cc.modification,m,y,E,_),R=ax,$=i1,se=na,de=(m,y)=>{const E=y.column,_=y.column+y.colspan-1,H=y.row,q=y.row+y.rowspan-1;return E<=m.finishCol&&_>=m.startCol&&H<=m.finishRow&&q>=m.startRow},it=(m,y)=>y.column>=m.startCol&&y.column+y.colspan-1<=m.finishCol&&y.row>=m.startRow&&y.row+y.rowspan-1<=m.finishRow,Vt=(m,y)=>{let E=!0;const _=qe(it,y);for(let H=y.startRow;H<=y.finishRow;H++)for(let q=y.startCol;q<=y.finishCol;q++)E=E&&Xo.getAt(m,H,q).exists(_);return E?Ne.some(y):Ne.none()},gn=(m,y)=>Ca(Math.min(m.row,y.row),Math.min(m.column,y.column),Math.max(m.row+m.rowspan-1,y.row+y.rowspan-1),Math.max(m.column+m.colspan-1,y.column+y.colspan-1)),An=(m,y,E)=>{const _=Xo.findItem(m,y,Vs),H=Xo.findItem(m,E,Vs);return _.bind(q=>H.map(ne=>gn(q,ne)))},Yt=(m,y,E)=>An(m,y,E).bind(_=>Vt(m,_)),sn=(m,y,E,_)=>Xo.findItem(m,y,Vs).bind(H=>{const q=E>0?H.row+H.rowspan-1:H.row,ne=_>0?H.column+H.colspan-1:H.column;return Xo.getAt(m,q+E,ne+_).map(Se=>Se.element)}),Ko=(m,y,E)=>An(m,y,E).map(_=>{const H=Xo.filterItems(m,qe(de,_));return an(H,q=>q.element)}),As=(m,y)=>{const E=(_,H)=>Af(H,_);return Xo.findItem(m,y,E).map(_=>_.element)},mi=(m,y,E)=>ru(m).bind(_=>{const H=fn(_);return sn(H,m,y,E)}),Qe=(m,y,E)=>{const _=fn(m);return Ko(_,y,E)},mt=(m,y,E,_,H)=>{const q=fn(m),ne=Vs(m,E)?Ne.some(y):As(q,y),ue=Vs(m,H)?Ne.some(_):As(q,_);return ne.bind(Se=>ue.bind(Ze=>Ko(q,Se,Ze)))},Ht=(m,y,E)=>{const _=fn(m);return Yt(_,y,E)},fn=Xo.fromTable,us={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Hs=()=>Sn.fromTag("th"),Wo=()=>Sn.fromTag("td"),tr=()=>Sn.fromTag("col"),Dr=(m,y,E,_)=>{const H=Sn.fromTag("tr");for(let q=0;q<m;q++){const ne=_<y||q<E?Hs():Wo();q<E&&ri(ne,"scope","row"),_<y&&ri(ne,"scope","col"),bs(ne,Sn.fromTag("br")),bs(H,ne)}return H},Pr=m=>{const y=Sn.fromTag("colgroup");return Jn(m,()=>bs(y,tr())),y},gf=(m,y,E,_)=>Jn(m,H=>Dr(y,E,_,H)),Jm=(m,y,E,_,H,q=us)=>{const ne=Sn.fromTag("table"),ue=H!=="cells";rr(ne,q.styles),Wu(ne,q.attributes),q.colGroups&&bs(ne,Pr(y));const Se=Math.min(m,E);if(ue&&E>0){const On=Sn.fromTag("thead");bs(ne,On);const Ft=gf(E,y,H==="sectionCells"?Se:0,_);ku(On,Ft)}const Ze=Sn.fromTag("tbody");bs(ne,Ze);const ht=ue?m-Se:m,Ln=gf(ht,y,ue?0:E,_);return ku(Ze,Ln),ne},pl=m=>{let y=[];return{bind:q=>{if(q===void 0)throw new Error("Event bind error: undefined handler");y.push(q)},unbind:q=>{y=Re(y,ne=>ne!==q)},trigger:(...q)=>{const ne={};le(m,(ue,Se)=>{ne[ue]=q[Se]}),le(y,ue=>{ue(ne)})}}},o0=m=>{const y=vt(m,_=>({bind:_.bind,unbind:_.unbind})),E=vt(m,_=>_.trigger);return{registry:y,trigger:E}},LT=Nn(["compare","extract","mutate","sink"]),WC=Nn(["element","start","stop","destroy"]),FT=Nn(["forceDrop","drop","move","delayDrop"]),u_=()=>{let m=Ne.none();const y=()=>{m=Ne.none()},E=(q,ne)=>{const ue=m.map(Se=>q.compare(Se,ne));return m=Ne.some(ne),ue},_=(q,ne)=>{ne.extract(q).each(Se=>{E(ne,Se).each(ht=>{H.trigger.move(ht)})})},H=o0({move:pl(["info"])});return{onEvent:_,reset:y,events:H.registry}},zs=()=>{const m=o0({move:pl(["info"])});return{onEvent:be,reset:be,events:m.registry}},eh=()=>{const m=zs(),y=u_();let E=m;return{on:()=>{E.reset(),E=y},off:()=>{E.reset(),E=m},isOn:()=>E===y,onEvent:(ue,Se)=>{E.onEvent(ue,Se)},events:y.events}},c1=(m,y,E)=>{let _=!1;const H=o0({start:pl([]),stop:pl([])}),q=eh(),ne=()=>{oo.stop(),q.isOn()&&(q.off(),H.trigger.stop())},ue=qs(ne,200),Se=en=>{oo.start(en),q.on(),H.trigger.start()},Ze=en=>{ue.cancel(),q.onEvent(en,y)};q.events.move.bind(en=>{y.mutate(m,en.info)});const ht=()=>{_=!0},Jt=()=>{_=!1},Ln=()=>_,On=en=>(...Co)=>{_&&en.apply(null,Co)},oo=y.sink(FT({forceDrop:ne,drop:On(ne),move:On(Ze),delayDrop:On(ue.throttle)}),E),Ft=()=>{oo.destroy()};return{element:oo.element,go:Se,on:ht,off:Jt,isActive:Ln,destroy:Ft,events:H.registry}},qy=Do("ephox-dragster").resolve,Zs=m=>{const y={layerClass:qy("blocker"),...m},E=Sn.fromTag("div");return ri(E,"role","presentation"),ri(E,"data-mce-bogus","all"),rr(E,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Td(E,qy("blocker")),Td(E,y.layerClass),{element:J(E),destroy:()=>{qi(E)}}};var cx=LT({compare:(m,y)=>Vr(y.left-m.left,y.top-m.top),extract:m=>Ne.some(Vr(m.x,m.y)),sink:(m,y)=>{const E=Zs(y),_=nm(E.element(),"mousedown",m.forceDrop),H=nm(E.element(),"mouseup",m.drop),q=nm(E.element(),"mousemove",m.move),ne=nm(E.element(),"mouseout",m.delayDrop),ue=()=>{E.destroy(),H.unbind(),q.unbind(),ne.unbind(),_.unbind()},Se=ht=>{bs(ht,E.element())},Ze=()=>{qi(E.element())};return WC({element:E.element,start:Se,stop:Ze,destroy:ue})},mutate:(m,y)=>{m.mutate(y.left,y.top)}});const m_=(m,y={})=>{const E=y.mode??cx;return c1(m,E,y)},ux=Do("ephox-snooker").resolve,g_=()=>{const m=o0({drag:pl(["xDelta","yDelta"])});return{mutate:(E,_)=>{m.trigger.drag(E,_)},events:m.registry}},dx=()=>{const m=o0({drag:pl(["xDelta","yDelta","target"])});let y=Ne.none();const E=g_();return E.events.drag.bind(q=>{y.each(ne=>{m.trigger.drag(q.xDelta,q.yDelta,ne)})}),{assign:q=>{y=Ne.some(q)},get:()=>y,mutate:E.mutate,events:m.registry}},PT=(m,y,E,_,H)=>{const q=Sn.fromTag("div");return rr(q,{position:"absolute",left:y-_/2+"px",top:E+"px",height:H+"px",width:_+"px"}),Wu(q,{"data-mce-bogus":"all","data-column":m,role:"presentation"}),q},p_=(m,y,E,_,H)=>{const q=Sn.fromTag("div");return rr(q,{position:"absolute",left:y+"px",top:E-H/2+"px",height:H+"px",width:_+"px"}),Wu(q,{"data-mce-bogus":"all","data-row":m,role:"presentation"}),q},V2=ux("resizer-bar"),qC=ux("resizer-rows"),GC=ux("resizer-cols"),$T=7,b_=(m,y)=>Lo(m.all,(E,_)=>y(E.element)?[_]:[]),IT=(m,y)=>{const E=[];return Jn(m.grid.columns,_=>{Xo.getColumnAt(m,_).map(q=>q.element).forall(y)&&E.push(_)}),Re(E,_=>{const H=Xo.filterItems(m,q=>q.column===_);return jo(H,q=>y(q.element))})},KC=m=>{const y=Ad(m.parent(),"."+V2);le(y,qi)},HT=(m,y,E)=>{const _=m.origin();le(y,H=>{H.each(q=>{const ne=E(_,q);Td(ne,V2),bs(m.parent(),ne)})})},lr=(m,y,E,_)=>{HT(m,y,(H,q)=>{const ne=PT(q.col,q.x-H.left,E.top-H.top,$T,_);return Td(ne,GC),ne})},zT=(m,y,E,_)=>{HT(m,y,(H,q)=>{const ne=p_(q.row,E.left-H.left,q.y-H.top,_,$T);return Td(ne,qC),ne})},YC=(m,y,E,_,H)=>{const q=rs(E),ne=y.isResizable,ue=_.length>0?U0.positions(_,E):[],Se=ue.length>0?b_(m,ne):[],Ze=Re(ue,(On,oo)=>at(Se,Ft=>oo===Ft));zT(y,Ze,q,Ar(E));const ht=H.length>0?_a.positions(H,E):[],Jt=ht.length>0?IT(m,ne):[],Ln=Re(ht,(On,oo)=>at(Jt,Ft=>oo===Ft));lr(y,Ln,q,Bm(E))},U2=(m,y)=>{if(KC(m),m.isResizable(y)){const E=Xo.fromTable(y),_=Rh(E),H=Np(E);YC(E,m,y,_,H)}},s0=(m,y)=>{const E=Ad(m.parent(),"."+V2);le(E,y)},XC=m=>{s0(m,y=>{$a(y,"display","none")})},y_=m=>{s0(m,y=>{$a(y,"display","block")})},jT=m=>gc(m,qC),Gy=m=>gc(m,GC),VT=ux("resizer-bar-dragging"),fx=m=>{const y=dx(),E=m_(y,{});let _=Ne.none();const H=(Ft,en)=>Ne.from(Jc(Ft,en));y.events.drag.bind(Ft=>{H(Ft.target,"data-row").each(en=>{const Co=Fi(Ft.target,"top");$a(Ft.target,"top",Co+Ft.yDelta+"px")}),H(Ft.target,"data-column").each(en=>{const Co=Fi(Ft.target,"left");$a(Ft.target,"left",Co+Ft.xDelta+"px")})});const q=(Ft,en)=>{const Co=Fi(Ft,en),Go=$m(Ft,"data-initial-"+en,0);return Co-Go};E.events.stop.bind(()=>{y.get().each(Ft=>{_.each(en=>{H(Ft,"data-row").each(Co=>{const Go=q(Ft,"top");Ls(Ft,"data-initial-top"),oo.trigger.adjustHeight(en,Go,parseInt(Co,10))}),H(Ft,"data-column").each(Co=>{const Go=q(Ft,"left");Ls(Ft,"data-initial-left"),oo.trigger.adjustWidth(en,Go,parseInt(Co,10))}),U2(m,en)})})});const ne=(Ft,en)=>{oo.trigger.startAdjust(),y.assign(Ft),ri(Ft,"data-initial-"+en,Fi(Ft,en)),Td(Ft,VT),$a(Ft,"opacity","0.2"),E.go(m.dragContainer())},ue=nm(m.parent(),"mousedown",Ft=>{jT(Ft.target)&&ne(Ft.target,"top"),Gy(Ft.target)&&ne(Ft.target,"left")}),Se=Ft=>Vs(Ft,m.view()),Ze=Ft=>di(Ft,"table",Se).filter(Nf),ht=Ft=>gc(Ft,"ephox-snooker-resizer-bar")||gc(Ft,"ephox-dragster-blocker"),Jt=nm(m.view(),"mouseover",Ft=>{Ze(Ft.target).fold(()=>{co(Ft.target)&&!ht(Ft.target)&&KC(m)},en=>{E.isActive()&&(_=Ne.some(en),U2(m,en))})}),Ln=()=>{ue.unbind(),Jt.unbind(),E.destroy(),KC(m)},On=Ft=>{U2(m,Ft)},oo=o0({adjustHeight:pl(["table","delta","row"]),adjustWidth:pl(["table","delta","column"]),startAdjust:pl([])});return{destroy:Ln,refresh:On,on:E.on,off:E.off,hideBars:qe(XC,m),showBars:qe(y_,m),events:oo.registry}},QC={create:(m,y,E)=>{const _=U0,H=_a,q=fx(m),ne=o0({beforeResize:pl(["table","type"]),afterResize:pl(["table","type"]),startDrag:pl([])});return q.events.adjustHeight.bind(ue=>{const Se=ue.table;ne.trigger.beforeResize(Se,"row");const Ze=_.delta(ue.delta,Se);kr(Se,Ze,ue.row),ne.trigger.afterResize(Se,"row")}),q.events.startAdjust.bind(ue=>{ne.trigger.startDrag()}),q.events.adjustWidth.bind(ue=>{const Se=ue.table;ne.trigger.beforeResize(Se,"col");const Ze=H.delta(ue.delta,Se),ht=E(Se);pr(Se,Ze,ue.column,y,ht),ne.trigger.afterResize(Se,"col")}),{on:q.on,off:q.off,refreshBars:q.refresh,hideBars:q.hideBars,showBars:q.showBars,destroy:q.destroy,events:ne.registry}}},u1=m=>y=>y.options.get(m),UT="100%",ZT=m=>{const y=m.dom,E=y.getParent(m.selection.getStart(),y.isBlock)??m.getBody();return qa(Sn.fromDom(E))+"px"},WT=(m,y)=>gx(m)||!JC(m)?y:Ug(m)?{...y,width:ZT(m)}:{...y,width:UT},qT=(m,y)=>gx(m)||JC(m)?y:Ug(m)?{...y,width:ZT(m)}:{...y,width:UT},TB=m=>{const y=m.options.register;y("table_clone_elements",{processor:"string[]"}),y("table_use_colgroups",{processor:"boolean",default:!0}),y("table_header_type",{processor:E=>{const _=zt(["section","cells","sectionCells","auto"],E);return _?{value:E,valid:_}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),y("table_sizing_mode",{processor:"string",default:"auto"}),y("table_default_attributes",{processor:"object",default:{border:"1"}}),y("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),y("table_column_resizing",{processor:E=>{const _=zt(["preservetable","resizetable"],E);return _?{value:E,valid:_}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),y("table_resize_bars",{processor:"boolean",default:!0}),y("table_style_by_css",{processor:"boolean",default:!0}),y("table_merge_content_on_paste",{processor:"boolean",default:!0})},GT=m=>Ne.from(m.options.get("table_clone_elements")),Z2=m=>{const y=m.options.get("object_resizing");return zt(y.split(","),"table")},W2=u1("table_header_type"),hx=u1("table_column_resizing"),q2=m=>hx(m)==="preservetable",G2=m=>hx(m)==="resizetable",Hn=u1("table_sizing_mode"),d1=m=>Hn(m)==="relative",Ug=m=>Hn(m)==="fixed",gx=m=>Hn(m)==="responsive",KT=u1("table_resize_bars"),JC=u1("table_style_by_css"),eS=u1("table_merge_content_on_paste"),YT=m=>{const y=m.options,E=y.get("table_default_attributes");return y.isSet("table_default_attributes")?E:qT(m,E)},XT=m=>{const y=m.options,E=y.get("table_default_styles");return y.isSet("table_default_styles")?E:WT(m,E)},QT=u1("table_use_colgroups"),K2=m=>Sn.fromDom(m.getBody()),bl=m=>y=>Vs(y,K2(m)),th=m=>{Ls(m,"data-mce-style");const y=E=>Ls(E,"data-mce-style");le(af(m),y),le(J1(m),y),le(H0(m),y)},Y2=m=>Sn.fromDom(m.selection.getStart()),JT=m=>m.getBoundingClientRect().width,eA=m=>m.getBoundingClientRect().height,tA=m=>(y,E)=>{const _=y.dom.getStyle(E,m)||y.dom.getAttrib(E,m);return Ne.from(_).filter(is)},X2=tA("width"),tS=tA("height"),nA=m=>/^(\d+(\.\d+)?)%$/.test(m),oA=m=>/^(\d+(\.\d+)?)px$/.test(m),px=m=>$0(m,Yc("table")).exists(Nf),nS=m=>fl(m,"table"),Q2=(m,y,E)=>{const _=H=>q=>E!==void 0&&E(q)||Vs(q,H);return Vs(m,y)?Ne.some({boxes:Ne.some([m]),start:m,finish:y}):nS(m).bind(H=>nS(y).bind(q=>{if(Vs(H,q))return Ne.some({boxes:Qe(H,m,y),start:m,finish:y});if(Af(H,q)){const ne=ar(y,"td,th",_(H)),ue=ne.length>0?ne[ne.length-1]:y;return Ne.some({boxes:mt(H,m,H,y,q),start:m,finish:ue})}else if(Af(q,H)){const ne=ar(m,"td,th",_(q)),ue=ne.length>0?ne[ne.length-1]:m;return Ne.some({boxes:mt(q,m,H,y,q),start:m,finish:ue})}else return ad(m,y).shared.bind(ne=>di(ne,"table",E).bind(ue=>{const Se=ar(y,"td,th",_(ue)),Ze=Se.length>0?Se[Se.length-1]:y,ht=ar(m,"td,th",_(ue)),Jt=ht.length>0?ht[ht.length-1]:m;return Ne.some({boxes:mt(ue,m,H,y,q),start:Jt,finish:Ze})}))}))},oS=(m,y)=>{const E=Ad(m,y);return E.length>0?Ne.some(E):Ne.none()},v_=(m,y)=>X(m,E=>Ui(E,y)),sA=(m,y,E)=>Ed(m,y).bind(_=>Ed(m,E).bind(H=>Er(nS,[_,H]).map(q=>({first:_,last:H,table:q})))),rA=(m,y)=>fl(m,"table").bind(E=>Ed(E,y).bind(_=>Q2(_,m).bind(H=>H.boxes.map(q=>({boxes:q,start:H.start,finish:H.finish}))))),J2=(m,y,E,_,H)=>v_(m,H).bind(q=>mi(q,y,E).bind(ne=>rA(ne,_))),Nb=(m,y)=>oS(m,y),aA=(m,y,E)=>sA(m,y,E).bind(_=>{const H=Se=>Vs(m,Se),q="thead,tfoot,tbody,table",ne=fl(_.first,q,H),ue=fl(_.last,q,H);return ne.bind(Se=>ue.bind(Ze=>Vs(Se,Ze)?Ht(_.table,_.first,_.last):Ne.none()))}),iA=rt,ew=m=>{const y=(_,H)=>cl(_,H).exists(q=>parseInt(q,10)>1),E=_=>y(_,"rowspan")||y(_,"colspan");return m.length>0&&jo(m,E)?Ne.some(m):Ne.none()},x_=(m,y,E)=>y.length<=1?Ne.none():aA(m,E.firstSelectedSelector,E.lastSelectedSelector).map(_=>({bounds:_,cells:y})),Rb={create:(m,y)=>({selection:m,kill:y})},sS=(m,y,E,_)=>{switch(m.tag){case"none":return y();case"single":return _(m.element);case"multiple":return E(m.elements)}},C_=()=>({tag:"none"}),S_=m=>({tag:"multiple",elements:m}),lA=m=>({tag:"single",element:m}),E_=(m,y,E)=>({get:()=>Nb(m(),E).fold(()=>y().fold(C_,lA),S_)}),tw={create:(m,y,E,_)=>({start:ra.on(m,y),finish:ra.on(E,_)})},aS=(m,y)=>{const E=un(m,y);return sf.create(Sn.fromDom(E.startContainer),E.startOffset,Sn.fromDom(E.endContainer),E.endOffset)},Zg=tw.create,cA=(m,y,E,_,H,q,ne)=>Vs(E,H)&&_===q?Ne.none():di(E,"td,th",y).bind(ue=>di(H,"td,th",y).bind(Se=>nw(m,y,ue,Se,ne))),nw=(m,y,E,_,H)=>Vs(E,_)?Ne.none():Q2(E,_,y).bind(q=>{const ne=q.boxes.getOr([]);return ne.length>1?(H(m,ne,q.start,q.finish),Ne.some(Rb.create(Ne.some(Zg(E,0,E,kd(E))),!0))):Ne.none()}),T_=(m,y,E,_,H)=>{const q=ne=>(H.clearBeforeUpdate(E),H.selectRange(E,ne.boxes,ne.start,ne.finish),ne.boxes);return J2(_,m,y,H.firstSelectedSelector,H.lastSelectedSelector).map(q)},f1=Or.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),A_=(m,y,E)=>{const _=m.getRect(y),H=m.getRect(E);return H.right>_.left&&H.left<_.right},k_=m=>di(m,"tr"),Ky={...f1,verify:(m,y,E,_,H,q,ne)=>di(_,"td,th",ne).bind(ue=>di(y,"td,th",ne).map(Se=>Vs(ue,Se)?Vs(_,ue)&&kd(ue)===H?q(Se):f1.none("in same cell"):Er(k_,[ue,Se]).fold(()=>A_(m,Se,ue)?f1.success():q(Se),Ze=>q(Se)))).getOr(f1.none("default")),cata:(m,y,E,_,H)=>m.fold(y,E,_,H)},bx=Yc("br"),iS=(m,y,E)=>y(m,E).bind(_=>em(_)&&Df(_).trim().length===0?iS(_,y,E):Ne.some(_)),__=(m,y,E)=>E.traverse(y).orThunk(()=>iS(y,E.gather,m)).map(E.relative),D_=(m,y)=>Oc(m,y).filter(bx).orThunk(()=>Oc(m,y-1).filter(bx)),ow=(m,y,E,_)=>D_(y,E).bind(H=>_.traverse(H).fold(()=>iS(H,_.gather,m).map(_.relative),q=>ou(q).map(ne=>ra.on(ne.parent,ne.index)))),uA=(m,y,E,_)=>(bx(y)?__(m,y,_):ow(m,y,E,_)).map(q=>({start:q,finish:q})),dA=m=>Ky.cata(m,y=>Ne.none(),()=>Ne.none(),y=>Ne.some(If(y,0)),y=>Ne.some(If(y,kd(y)))),yx=(m,y)=>({left:m.left,top:m.top+y,right:m.right,bottom:m.bottom+y}),sw=(m,y)=>({left:m.left,top:m.top-y,right:m.right,bottom:m.bottom-y}),lS=(m,y,E)=>({left:m.left+y,top:m.top+E,right:m.right+y,bottom:m.bottom+E}),vx=m=>m.top,cS=m=>m.bottom,O_=(m,y,E)=>E>=0&&E<kd(y)?m.getRangedRect(y,E,y,E+1):E>0?m.getRangedRect(y,E-1,y,E):Ne.none(),xx=m=>({left:m.left,top:m.top,right:m.right,bottom:m.bottom}),fA=(m,y)=>Ne.some(m.getRect(y)),rw=(m,y,E)=>Za(y)?fA(m,y).map(xx):em(y)?O_(m,y,E).map(xx):Ne.none(),aw=(m,y)=>Za(y)?fA(m,y).map(xx):em(y)?m.getRangedRect(y,0,y,kd(y)).map(xx):Ne.none(),Mb=5,N_=100,Wg=Or.generate([{none:[]},{retry:["caret"]}]),R_=(m,y)=>m.left<y.left||Math.abs(y.right-m.left)<1||m.left>y.right,mA=(m,y,E)=>$0(y,pm).fold(dn,_=>aw(m,_).exists(H=>R_(E,H))),M_=(m,y,E,_,H)=>{const q=yx(H,Mb);return Math.abs(E.bottom-_.bottom)<1||E.top>H.bottom?Wg.retry(q):E.top===H.bottom?Wg.retry(yx(H,1)):mA(m,y,H)?Wg.retry(lS(q,Mb,0)):Wg.none()},iw={point:vx,adjuster:(m,y,E,_,H)=>{const q=sw(H,Mb);return Math.abs(E.top-_.top)<1||E.bottom<H.top?Wg.retry(q):E.bottom===H.top?Wg.retry(sw(H,1)):mA(m,y,H)?Wg.retry(lS(q,Mb,0)):Wg.none()},move:sw,gather:$2},B_={point:cS,adjuster:M_,move:yx,gather:$d},L_=(m,y,E)=>m.elementFromPoint(y,E).filter(_=>Ta(_)==="table").isSome(),F_=(m,y,E,_,H)=>uS(m,y,E,y.move(_,Mb),H),uS=(m,y,E,_,H)=>H===0?Ne.some(_):L_(m,_.left,y.point(_))?F_(m,y,E,_,H-1):m.situsFromPoint(_.left,y.point(_)).bind(q=>q.start.fold(Ne.none,ne=>aw(m,ne).bind(ue=>y.adjuster(m,ne,ue,E,_).fold(Ne.none,Se=>uS(m,y,E,Se,H-1))).orThunk(()=>Ne.some(_)),Ne.none)),P_=(m,y,E)=>m.point(y)>E.getInnerHeight()?Ne.some(m.point(y)-E.getInnerHeight()):m.point(y)<0?Ne.some(-m.point(y)):Ne.none(),hA=(m,y,E)=>{const _=m.move(E,Mb),H=uS(y,m,E,_,N_).getOr(_);return P_(m,H,y).fold(()=>y.situsFromPoint(H.left,m.point(H)),q=>(y.scrollBy(0,q),y.situsFromPoint(H.left,m.point(H)-q)))},dS={tryUp:qe(hA,iw),tryDown:qe(hA,B_),getJumpSize:J(Mb)},$_=20,I_=(m,y,E)=>m.getSelection().bind(_=>uA(y,_.finish,_.foffset,E).fold(()=>Ne.some(If(_.finish,_.foffset)),H=>{const q=m.fromSitus(H),ne=Ky.verify(m,_.finish,_.foffset,q.finish,q.foffset,E.failure,y);return dA(ne)})),fS=(m,y,E,_,H,q)=>q===0?Ne.none():wx(m,y,E,_,H).bind(ne=>{const ue=m.fromSitus(ne),Se=Ky.verify(m,E,_,ue.finish,ue.foffset,H.failure,y);return Ky.cata(Se,()=>Ne.none(),()=>Ne.some(ne),Ze=>Vs(E,Ze)&&_===0?gA(m,E,_,sw,H):fS(m,y,Ze,0,H,q-1),Ze=>Vs(E,Ze)&&_===kd(Ze)?gA(m,E,_,yx,H):fS(m,y,Ze,kd(Ze),H,q-1))}),gA=(m,y,E,_,H)=>rw(m,y,E).bind(q=>io(m,H,_(q,dS.getJumpSize()))),io=(m,y,E)=>{const _=ll().browser;return _.isChromium()||_.isSafari()||_.isFirefox()?y.retry(m,E):Ne.none()},wx=(m,y,E,_,H)=>rw(m,E,_).bind(q=>io(m,H,q)),pA=(m,y,E)=>I_(m,y,E).bind(_=>fS(m,y,_.element,_.offset,E,$_).map(m.fromSitus)),H_=(m,y)=>kg(m,E=>_e(E).exists(_=>Vs(_,y))),mS=(m,y,E,_,H)=>di(_,"td,th",y).bind(q=>di(q,"table",y).bind(ne=>H_(H,ne)?pA(m,y,E).bind(ue=>di(ue.finish,"td,th",y).map(Se=>({start:q,finish:Se,range:ue}))):Ne.none())),Cx=(m,y,E,_,H,q)=>q(_,y).orThunk(()=>mS(m,y,E,_,H).map(ne=>{const ue=ne.range;return Rb.create(Ne.some(Zg(ue.start,ue.soffset,ue.finish,ue.foffset)),!0)})),lw=(m,y)=>di(m,"tr",y).bind(E=>di(E,"table",y).bind(_=>{const H=Ad(_,"tr");return Vs(E,H[0])?Sc(_,q=>ka(q).isSome(),y).map(q=>{const ne=kd(q);return Rb.create(Ne.some(Zg(q,ne,q,ne)),!0)}):Ne.none()})),Sx=(m,y)=>di(m,"tr",y).bind(E=>di(E,"table",y).bind(_=>{const H=Ad(_,"tr");return Vs(E,H[H.length-1])?Id(_,q=>kh(q).isSome(),y).map(q=>Rb.create(Ne.some(Zg(q,0,q,0)),!0)):Ne.none()})),Yy=(m,y,E,_,H,q,ne)=>mS(m,E,_,H,q).bind(ue=>nw(y,E,ue.start,ue.finish,ne)),hS=(m,y)=>di(m,"td,th",y),gS=m=>Xc(m).exists(Nf),bA=(m,y,E,_)=>{const H=Xs(),q=H.clear,ne=ht=>{H.on(Jt=>{_.clearBeforeUpdate(y),hS(ht.target,E).each(Ln=>{Q2(Jt,Ln,E).each(On=>{const oo=On.boxes.getOr([]);if(oo.length===1){const Ft=oo[0],en=rm(Ft)==="false",Co=Yn(Ah(ht.target),Ft,Vs);en&&Co&&_.selectRange(y,oo,Ft,Ft)}else oo.length>1&&(_.selectRange(y,oo,On.start,On.finish),m.selectContents(Ln))})})})};return{clearstate:q,mousedown:ht=>{_.clear(y),hS(ht.target,E).filter(gS).each(H.set)},mouseover:ht=>{ne(ht)},mouseup:ht=>{ne(ht),q()}}},pS={traverse:wh,gather:$d,relative:ra.before,retry:dS.tryDown,failure:Ky.failedDown},yA={traverse:xh,gather:$2,relative:ra.before,retry:dS.tryUp,failure:Ky.failedUp},Xy=m=>y=>y===m,r0=Xy(38),Qy=Xy(40),a0=m=>m>=37&&m<=40,i0={isBackward:Xy(37),isForward:Xy(39)},vA={isBackward:Xy(39),isForward:Xy(37)},Ex=m=>({elementFromPoint:(en,Co)=>Sn.fromPoint(Sn.fromDom(m.document),en,Co),getRect:en=>en.dom.getBoundingClientRect(),getRangedRect:(en,Co,Go,qn)=>{const vr=j.exact(en,Co,Go,qn);return _h(m,vr)},getSelection:()=>Pm(m).map(en=>aS(m,en)),fromSitus:en=>{const Co=j.relative(en.start,en.finish);return aS(m,Co)},situsFromPoint:(en,Co)=>Ru(m,en,Co).map(Go=>tw.create(Go.start,Go.soffset,Go.finish,Go.foffset)),clearSelection:()=>{Dh(m)},collapseSelection:(en=!1)=>{Pm(m).each(Co=>Co.fold(Go=>Go.collapse(en),(Go,qn)=>{const vr=en?Go:qn;rf(m,vr,vr)},(Go,qn,vr,xr)=>{const Uo=en?Go:vr,el=en?qn:xr;Xu(m,Uo,el,Uo,el)}))},setSelection:en=>{Xu(m,en.start,en.soffset,en.finish,en.foffset)},setRelativeSelection:(en,Co)=>{rf(m,en,Co)},selectNode:en=>{am(m,en,!1)},selectContents:en=>{am(m,en)},getInnerHeight:()=>m.innerHeight,getScrollY:()=>ys(Sn.fromDom(m.document)).top,scrollBy:(en,Co)=>{Gl(en,Co,Sn.fromDom(m.document))}}),nh=(m,y)=>({rows:m,cols:y}),xA=(m,y,E,_)=>{const H=Ex(m),q=bA(H,y,E,_);return{clearstate:q.clearstate,mousedown:q.mousedown,mouseover:q.mouseover,mouseup:q.mouseup}},wA=m=>$0(m,Z1).exists(Nf),bS=(m,y)=>wA(m)||wA(y),yS=(m,y,E,_)=>{const H=Ex(m),q=()=>(_.clear(y),Ne.none());return{keydown:(Se,Ze,ht,Jt,Ln,On)=>{const oo=Se.raw,Ft=oo.which,en=oo.shiftKey===!0;return oS(y,_.selectedSelector).fold(()=>(a0(Ft)&&!en&&_.clearBeforeUpdate(y),a0(Ft)&&en&&!bS(Ze,Jt)?Ne.none:Qy(Ft)&&en?qe(Yy,H,y,E,pS,Jt,Ze,_.selectRange):r0(Ft)&&en?qe(Yy,H,y,E,yA,Jt,Ze,_.selectRange):Qy(Ft)?qe(Cx,H,E,pS,Jt,Ze,Sx):r0(Ft)?qe(Cx,H,E,yA,Jt,Ze,lw):Ne.none),Go=>{const qn=vr=>()=>Ot(vr,Uo=>T_(Uo.rows,Uo.cols,y,Go,_)).fold(()=>sA(y,_.firstSelectedSelector,_.lastSelectedSelector).map(Uo=>{const el=Qy(Ft)||On.isForward(Ft)?ra.after:ra.before;return H.setRelativeSelection(ra.on(Uo.first,0),el(Uo.table)),_.clear(y),Rb.create(Ne.none(),!0)}),Uo=>Ne.some(Rb.create(Ne.none(),!0)));return a0(Ft)&&en&&!bS(Ze,Jt)?Ne.none:Qy(Ft)&&en?qn([nh(1,0)]):r0(Ft)&&en?qn([nh(-1,0)]):On.isBackward(Ft)&&en?qn([nh(0,-1),nh(-1,0)]):On.isForward(Ft)&&en?qn([nh(0,1),nh(1,0)]):a0(Ft)&&!en?q:Ne.none})()},keyup:(Se,Ze,ht,Jt,Ln)=>oS(y,_.selectedSelector).fold(()=>{const On=Se.raw,oo=On.which;return On.shiftKey===!0&&a0(oo)&&bS(Ze,Jt)?cA(y,E,Ze,ht,Jt,Ln,_.selectRange):Ne.none()},Ne.none)}},CA=(m,y,E,_)=>{const H=Ex(m);return(q,ne)=>{_.clearBeforeUpdate(y),Q2(q,ne,E).each(ue=>{const Se=ue.boxes.getOr([]);_.selectRange(y,Se,ue.start,ue.finish),H.selectContents(ne),H.collapseSelection()})}},EA={byClass:m=>{const y=Tg(m.selected),E=Ag([m.selected,m.lastSelected,m.firstSelected]),_=q=>{const ne=Ad(q,m.selectedSelector);le(ne,E)};return{clearBeforeUpdate:_,clear:_,selectRange:(q,ne,ue,Se)=>{_(q),le(ne,y),Td(ue,m.firstSelected),Td(Se,m.lastSelected)},selectedSelector:m.selectedSelector,firstSelectedSelector:m.firstSelectedSelector,lastSelectedSelector:m.lastSelectedSelector}},byAttr:(m,y,E)=>{const _=Se=>{Ls(Se,m.selected),Ls(Se,m.firstSelected),Ls(Se,m.lastSelected)},H=Se=>{ri(Se,m.selected,"1")},q=Se=>{ne(Se),E()},ne=Se=>{const Ze=Ad(Se,`${m.selectedSelector},${m.firstSelectedSelector},${m.lastSelectedSelector}`);le(Ze,_)};return{clearBeforeUpdate:ne,clear:q,selectRange:(Se,Ze,ht,Jt)=>{q(Se),le(Ze,H),ri(ht,m.firstSelected,"1"),ri(Jt,m.lastSelected,"1"),y(Ze,ht,Jt)},selectedSelector:m.selectedSelector,firstSelectedSelector:m.firstSelectedSelector,lastSelectedSelector:m.lastSelectedSelector}}},Bb="data-mce-selected",vS="td["+Bb+"],th["+Bb+"]",TA="["+Bb+"]",xS="data-mce-first-selected",wS="td["+xS+"],th["+xS+"]",CS="data-mce-last-selected",j_="td["+CS+"],th["+CS+"]",Lb=TA,Fb={selected:Bb,selectedSelector:vS,firstSelected:xS,firstSelectedSelector:wS,lastSelected:CS,lastSelectedSelector:j_},cw=(m,y,E)=>({element:E,mergable:x_(y,m,Fb),unmergable:ew(m),selection:iA(m)}),uw=(m,y,E)=>({element:m,clipboard:y,generators:E}),AA=(m,y,E,_)=>({selection:iA(m),clipboard:E,generators:_}),V_=m=>ru(m).bind(y=>Nb(y,Fb.firstSelectedSelector)).fold(J(m),y=>y[0]),kA=m=>(y,E)=>{const _=Ta(y),H=_==="col"||_==="colgroup"?V_(y):y;return di(H,m,E)},Po=kA("th,td,caption"),dw=kA("th,td"),Uf=m=>sa(m.model.table.getSelectedCells()),Tx=m=>Re(Uf(m),y=>Ui(y,Fb.selectedSelector)),U_=m=>ru(m[0]).map(y=>{const E=Ip(y,Lb);return th(E),[E]}),fw=(m,y)=>an(y,E=>m.selection.serializer.serialize(E.dom,{})).join(""),Z_=(m,y)=>{const E=m.getDoc(),_=vp(Sn.fromDom(m.getBody())),H=Sn.fromTag("div",E);ri(H,"data-mce-bogus","all"),rr(H,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const q=Au(_);ku(H,y),bs(q,H);const ne=H.dom.innerText;return qi(H),ne},SS=(m,y)=>{m.on("BeforeGetContent",E=>{const _=H=>{E.preventDefault(),U_(H).each(q=>{const ne=E.format==="text"?Z_(m,q):fw(m,q);E.content=ne})};if(E.selection===!0){const H=Tx(m);H.length>=1&&_(H)}}),m.on("BeforeSetContent",E=>{if(E.selection===!0&&E.paste===!0){const _=Uf(m);Le(_).each(H=>{ru(H).each(q=>{const ne=Re(wp(E.content),Se=>Ta(Se)!=="meta"),ue=Yc("table");if(eS(m)&&ne.length===1&&ue(ne[0])){E.preventDefault();const Se=Sn.fromDom(m.getDoc()),Ze=Gv(Se),ht=uw(H,ne[0],Ze);y.pasteCells(q,ht).each(()=>{m.focus()})}})})}})},ES=(m,y)=>m.dispatch("NewRow",{node:y}),Ax=(m,y)=>m.dispatch("NewCell",{node:y}),Kh=(m,y,E)=>{m.dispatch("TableModified",{...E,table:y})},Jy=(m,y,E,_,H)=>{m.dispatch("TableSelectionChange",{cells:y,start:E,finish:_,otherCells:H})},W_=m=>{m.dispatch("TableSelectionClear")},Pb=(m,y,E,_,H)=>{m.dispatch("ObjectResizeStart",{target:y,width:E,height:_,origin:H})},kx=(m,y,E,_,H)=>{m.dispatch("ObjectResized",{target:y,width:E,height:_,origin:H})},mw={structure:!1,style:!0},Hl={structure:!0,style:!1},q_={structure:!0,style:!0},TS=(m,y)=>d1(m)?hl.percentageSize(y):Ug(m)?hl.pixelSize(y):hl.getTableSize(y),m1=(m,y,E)=>{const _=$c=>Ta(K2($c))==="table",H=$c=>!_(m)||t1($c).rows>1,q=$c=>!_(m)||t1($c).columns>1,ne=GT(m),ue=G2(m)?be:Pf,Se=$c=>{switch(W2(m)){case"section":return lm.section();case"sectionCells":return lm.sectionCells();case"cells":return lm.cells();default:return lm.getTableSectionType($c,"section")}},Ze=($c,ww)=>ww.cursor.fold(()=>{const Nx=af($c);return Le(Nx).filter(co).map(c0=>{E.clearSelectedCells($c.dom);const Hu=m.dom.createRng();return Hu.selectNode(c0.dom),m.selection.setRng(Hu),ri(c0,"data-mce-selected","1"),Hu})},Nx=>{const c0=df(Nx),Hu=m.dom.createRng();return Hu.setStart(c0.element.dom,c0.offset),Hu.setEnd(c0.element.dom,c0.offset),m.selection.setRng(Hu),E.clearSelectedCells($c.dom),Ne.some(Hu)}),ht=($c,ww,Nx,c0)=>(Hu,J_,BA=!1)=>{th(Hu);const Xn=Sn.fromDom(m.getDoc()),Vd=Gm(Nx,Xn,ne),eD={sizing:TS(m,Hu),resize:G2(m)?Tp():S2(),section:Se(Hu)};return ww(Hu)?$c(Hu,J_,Vd,eD).bind(Cw=>{y.refresh(Hu.dom),le(Cw.newRows,Ib=>{ES(m,Ib.dom)}),le(Cw.newCells,Ib=>{Ax(m,Ib.dom)});const LA=Ze(Hu,Cw);return co(Hu)&&(th(Hu),BA||Kh(m,Hu.dom,c0)),LA.map(Ib=>({rng:Ib,effect:c0}))}):Ne.none()},Jt=ht(ix,H,be,Hl),Ln=ht(hf,q,be,Hl),On=ht(xm,We,be,Hl),oo=ht(ZC,We,be,Hl),Ft=ht(t0,We,ue,Hl),en=ht(Rr,We,ue,Hl),Co=ht(j2,We,be,Hl),Go=ht(lx,We,be,Hl),qn=ht(a,We,be,Hl),vr=ht(d,We,be,Hl),xr=ht(g,We,be,Hl),Uo=ht(C,We,be,Hl),el=ht(Ob,We,be,q_),Cm=ht(Zy,We,be,Hl),l0=ht(Wy,We,be,Hl),p1=ht(wm,We,be,Hl),$b=ht(jd,We,be,Hl),$r=ht(sc,We,be,Hl),dd=ht(n0,We,be,Hl),wi=ht(Uy,We,be,Hl);return{deleteRow:Jt,deleteColumn:Ln,insertRowsBefore:On,insertRowsAfter:oo,insertColumnsBefore:Ft,insertColumnsAfter:en,mergeCells:Co,unmergeCells:Go,pasteColsBefore:qn,pasteColsAfter:vr,pasteRowsBefore:xr,pasteRowsAfter:Uo,pasteCells:el,makeCellsHeader:Cm,unmakeCellsHeader:l0,makeColumnsHeader:p1,unmakeColumnsHeader:$b,makeRowsHeader:$r,makeRowsBody:dd,makeRowsFooter:wi,getTableRowType:se,getTableCellType:$,getTableColType:R}},qg=(m,y)=>{m.selection.select(y.dom,!0),m.selection.collapse(!0)},AS=(m,y)=>{Ed(y,"td,th").each(qe(qg,m))},_A=(m,y)=>{le(Ad(y,"tr"),E=>{ES(m,E.dom),le(Ad(E,"th,td"),_=>{Ax(m,_.dom)})})},G_=m=>O(m)&&m.indexOf("%")!==-1,hw=(m,y,E,_,H)=>{const q=XT(m),ne={styles:q,attributes:YT(m),colGroups:QT(m)};return m.undoManager.ignore(()=>{const ue=Jm(E,y,H,_,W2(m),ne);ri(ue,"data-mce-id","__mce");const Se=Eh(ue);m.insertContent(Se),m.addVisual()}),Ed(K2(m),'table[data-mce-id="__mce"]').map(ue=>(Ug(m)?Ja(ue):gx(m)?Qi(ue):(d1(m)||G_(q.width))&&Ig(ue),th(ue),Ls(ue,"data-mce-id"),_A(m,ue),AS(m,ue),ue.dom)).getOrNull()},_x=(m,y,E,_={})=>{const H=q=>$e(q)&&q>0;if(H(y)&&H(E)){const q=_.headerRows||0,ne=_.headerColumns||0;return hw(m,E,y,ne,q)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var h1=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const gw="x-tinymce/dom-table-",pw=gw+"rows",g1=gw+"columns",Dx=m=>{const y=h1.FakeClipboardItem(m);h1.write([y])},kS=m=>{const y=h1.read()??[];return Ot(y,E=>Ne.from(E.getType(m)))},bw=m=>{kS(m).isSome()&&h1.clear()},Yh=m=>{m.fold(Gg,y=>Dx({[pw]:y}))},DA=()=>kS(pw),Gg=()=>bw(pw),_S=m=>{m.fold(ev,y=>Dx({[g1]:y}))},yw=()=>kS(g1),ev=()=>bw(g1),Ox=m=>Po(Y2(m),bl(m)).filter(px),vw=m=>dw(Y2(m),bl(m)).filter(px),K_=(m,y)=>{const E=bl(m),_=()=>Ox(m).each(en=>{ru(en,E).filter(ae(E)).each(Co=>{const Go=Sn.fromText("");if(wd(Co,Go),qi(Co),m.dom.isEmpty(m.getBody()))m.setContent(""),m.selection.setCursorLocation();else{const qn=m.dom.createRng();qn.setStart(Go.dom,0),qn.setEnd(Go.dom,0),m.selection.setRng(qn),m.nodeChanged()}})}),H=en=>Ox(m).each(Co=>{gx(m)||Ug(m)||d1(m)||ru(Co,E).each(qn=>{en==="relative"&&!gb(qn)?Ig(qn):en==="fixed"&&!L2(qn)?Ja(qn):en==="responsive"&&!F2(qn)&&Qi(qn),th(qn),Kh(m,qn.dom,Hl)})}),q=en=>ru(en,E),ne=en=>vw(m).bind(Co=>q(Co).map(Go=>en(Go,Co))),ue=(en,Co)=>{ne(Go=>{m.formatter.toggle("tableclass",{value:Co},Go.dom),Kh(m,Go.dom,mw)})},Se=(en,Co)=>{ne(Go=>{const qn=Uf(m),xr=jo(qn,Uo=>m.formatter.match("tablecellclass",{value:Co},Uo.dom))?m.formatter.remove:m.formatter.apply;le(qn,Uo=>xr("tablecellclass",{value:Co},Uo.dom)),Kh(m,Go.dom,mw)})},Ze=()=>{Ox(m).each(en=>{ru(en,E).each(Co=>{Aa(Co,"caption").fold(()=>{const Go=Sn.fromTag("caption");bs(Go,Sn.fromText("Caption")),P0(Co,Go,0),m.selection.setCursorLocation(Go.dom,0)},Go=>{Yc("caption")(en)&&fc("td",Co).each(qn=>m.selection.setCursorLocation(qn.dom,0)),qi(Go)}),Kh(m,Co.dom,Hl)})})},ht=en=>{m.focus()},Jt=(en,Co=!1)=>ne((Go,qn)=>{const vr=cw(Uf(m),Go,qn);en(Go,vr,Co).each(ht)}),Ln=()=>ne((en,Co)=>{const Go=cw(Uf(m),en,Co),qn=Gm(be,Sn.fromDom(m.getDoc()),Ne.none());return wc(en,Go,qn)}),On=()=>ne((en,Co)=>{const Go=cw(Uf(m),en,Co);return Lc(en,Go)}),oo=(en,Co)=>Co().each(Go=>{const qn=an(Go,vr=>ai(vr));ne((vr,xr)=>{const Uo=Gv(Sn.fromDom(m.getDoc())),el=AA(Uf(m),xr,qn,Uo);en(vr,el).each(ht)})}),Ft=en=>(Co,Go)=>Gr(Go,"type").each(qn=>{Jt(en(qn),Go.no_events)});go({mceTableSplitCells:()=>Jt(y.unmergeCells),mceTableMergeCells:()=>Jt(y.mergeCells),mceTableInsertRowBefore:()=>Jt(y.insertRowsBefore),mceTableInsertRowAfter:()=>Jt(y.insertRowsAfter),mceTableInsertColBefore:()=>Jt(y.insertColumnsBefore),mceTableInsertColAfter:()=>Jt(y.insertColumnsAfter),mceTableDeleteCol:()=>Jt(y.deleteColumn),mceTableDeleteRow:()=>Jt(y.deleteRow),mceTableCutCol:()=>On().each(en=>{_S(en),Jt(y.deleteColumn)}),mceTableCutRow:()=>Ln().each(en=>{Yh(en),Jt(y.deleteRow)}),mceTableCopyCol:()=>On().each(en=>_S(en)),mceTableCopyRow:()=>Ln().each(en=>Yh(en)),mceTablePasteColBefore:()=>oo(y.pasteColsBefore,yw),mceTablePasteColAfter:()=>oo(y.pasteColsAfter,yw),mceTablePasteRowBefore:()=>oo(y.pasteRowsBefore,DA),mceTablePasteRowAfter:()=>oo(y.pasteRowsAfter,DA),mceTableDelete:_,mceTableCellToggleClass:Se,mceTableToggleClass:ue,mceTableToggleCaption:Ze,mceTableSizingMode:(en,Co)=>H(Co),mceTableCellType:Ft(en=>en==="th"?y.makeCellsHeader:y.unmakeCellsHeader),mceTableColType:Ft(en=>en==="th"?y.makeColumnsHeader:y.unmakeColumnsHeader),mceTableRowType:Ft(en=>{switch(en){case"header":return y.makeRowsHeader;case"footer":return y.makeRowsFooter;default:return y.makeRowsBody}})},(en,Co)=>m.addCommand(Co,en)),m.addCommand("mceInsertTable",(en,Co)=>{_x(m,Co.rows,Co.columns,Co.options)}),m.addCommand("mceTableApplyCellStyle",(en,Co)=>{const Go=xr=>"tablecell"+xr.toLowerCase().replace("-","");if(!I(Co))return;const qn=Re(Uf(m),px);if(qn.length===0)return;const vr=mr(Co,(xr,Uo)=>m.formatter.has(Go(Uo))&&O(xr));Ra(vr)||(go(vr,(xr,Uo)=>{const el=Go(Uo);le(qn,Cm=>{xr===""?m.formatter.remove(el,{value:null},Cm.dom,!0):m.formatter.apply(el,{value:xr},Cm.dom)})}),q(qn[0]).each(xr=>Kh(m,xr.dom,mw)))})},OA=(m,y)=>{const E=bl(m),_=H=>dw(Y2(m)).bind(q=>ru(q,E).map(ne=>{const ue=cw(Uf(m),ne,q);return H(ne,ue)})).getOr("");go({mceTableRowType:()=>_(y.getTableRowType),mceTableCellType:()=>_(y.getTableCellType),mceTableColType:()=>_(y.getTableColType)},(H,q)=>m.addQueryValueHandler(q,H))},xw=m=>!gc(Sn.fromDom(m.target),"ephox-snooker-resizer-bar"),Y_=(m,y)=>{const E=E_(()=>Sn.fromDom(m.getBody()),()=>dw(Y2(m),bl(m)),Fb.selectedSelector),_=(Se,Ze,ht)=>{ru(Ze).each(Ln=>{const On=an(Se,Go=>Go.dom),oo=GT(m),Ft=Gm(be,Sn.fromDom(m.getDoc()),oo),en=Uf(m),Co=jp(Ln,{selection:en},Ft).map(Go=>vt(Go,qn=>an(qn,vr=>vr.dom))).getOrUndefined();Jy(m,On,Ze.dom,ht.dom,Co)})},H=()=>W_(m),q=EA.byAttr(Fb,_,H);return m.on("init",Se=>{const Ze=m.getWin(),ht=K2(m),Jt=bl(m),Ln=()=>{const $r=m.selection,dd=Sn.fromDom($r.getStart()),wi=Sn.fromDom($r.getEnd());Er(ru,[dd,wi]).fold(()=>q.clear(ht),be)},On=xA(Ze,ht,Jt,q),oo=yS(Ze,ht,Jt,q),Ft=CA(Ze,ht,Jt,q),en=$r=>$r.raw.shiftKey===!0;m.on("TableSelectorChange",$r=>Ft($r.start,$r.finish));const Co=($r,dd)=>{en($r)&&(dd.kill&&$r.kill(),dd.selection.each(wi=>{const Qh=j.relative(wi.start,wi.finish),Iu=un(Ze,Qh);m.selection.setRng(Iu)}))},Go=$r=>{const dd=Ai($r);if(dd.raw.shiftKey&&a0(dd.raw.which)){const wi=m.selection.getRng(),Qh=Sn.fromDom(wi.startContainer),Iu=Sn.fromDom(wi.endContainer);oo.keyup(dd,Qh,wi.startOffset,Iu,wi.endOffset).each(Wf=>{Co(dd,Wf)})}},qn=$r=>{const dd=Ai($r);y.hide();const wi=m.selection.getRng(),Qh=Sn.fromDom(wi.startContainer),Iu=Sn.fromDom(wi.endContainer),Wf=Of(i0,vA)(Sn.fromDom(m.selection.getStart()));oo.keydown(dd,Qh,wi.startOffset,Iu,wi.endOffset,Wf).each($c=>{Co(dd,$c)}),y.show()},vr=$r=>$r.button===0,xr=$r=>$r.buttons===void 0?!0:($r.buttons&1)!==0,Uo=$r=>{On.clearstate()},el=$r=>{vr($r)&&xw($r)&&On.mousedown(Ai($r))},Cm=$r=>{xr($r)&&xw($r)&&On.mouseover(Ai($r))},l0=$r=>{vr($r)&&xw($r)&&On.mouseup(Ai($r))},$b=(()=>{const $r=xs(Sn.fromDom(ht)),dd=xs(0);return{touchEnd:Qh=>{const Iu=Sn.fromDom(Qh.target);if(Yc("td")(Iu)||Yc("th")(Iu)){const Wf=$r.get(),$c=dd.get();Vs(Wf,Iu)&&Qh.timeStamp-$c<300&&(Qh.preventDefault(),Ft(Iu,Iu))}$r.set(Iu),dd.set(Qh.timeStamp)}}})();m.on("dragstart",Uo),m.on("mousedown",el),m.on("mouseover",Cm),m.on("mouseup",l0),m.on("touchend",$b.touchEnd),m.on("keyup",Go),m.on("keydown",qn),m.on("NodeChange",Ln)}),m.on("PreInit",()=>{m.serializer.addTempAttr(Fb.firstSelected),m.serializer.addTempAttr(Fb.lastSelected)}),{getSelectedCells:()=>sS(E.get(),J([]),Se=>an(Se,Ze=>Ze.dom),Se=>[Se.dom]),clearSelectedCells:Se=>q.clear(Sn.fromDom(Se))}},DS=(m,y)=>{const E=Sn.fromDom(m.getBody());return sd.body(E,y)},Xh=m=>Ce(m)&&m.nodeName==="TABLE",OS="bar-",X_=m=>Jc(m,"data-mce-resize")!=="false",NA=m=>{const y=Xo.fromTable(m);Xo.hasColumns(y)||le(af(m),E=>{const _=Nc(E,"width");$a(E,"width",_),Ls(E,"width")})},RA=m=>mn(m,"corner-"),MA=m=>Ve(m,"corner-"),Q_=m=>{const y=Xs(),E=Xs(),_=Xs();let H,q,ne,ue;const Se=qn=>TS(m,qn),Ze=()=>q2(m)?S2():Tp(),ht=qn=>t1(qn).columns,Jt=qn=>t1(qn).rows,Ln=(qn,vr,xr,Uo)=>{const el=MA(vr),Cm=To(el,"e"),l0=mn(el,"n");if(q===""&&Ig(qn),ue===""&&hu(qn),xr!==H&&q!==""){$a(qn,"width",q);const p1=Ze(),$b=Se(qn),$r=q2(m)||Cm?ht(qn)-1:0;pr(qn,xr-H,$r,p1,$b)}else if(nA(q)){const p1=parseFloat(q.replace("%","")),$b=xr*p1/H;$a(qn,"width",$b+"%")}if(oA(q)&&NA(qn),Uo!==ne&&ue!==""){$a(qn,"height",ue);const p1=l0?0:Jt(qn)-1;kr(qn,Uo-ne,p1)}},On=()=>{E.on(qn=>{qn.destroy()})};m.on("init",()=>{const qn=DS(m,X_);if(_.set(qn),Z2(m)&&KT(m)){const vr=Ze(),xr=QC.create(qn,vr,Se);m.mode.isReadOnly()||xr.on(),xr.events.startDrag.bind(Uo=>{y.set(m.selection.getRng())}),xr.events.beforeResize.bind(Uo=>{const el=Uo.table.dom;Pb(m,el,JT(el),eA(el),OS+Uo.type)}),xr.events.afterResize.bind(Uo=>{const el=Uo.table,Cm=el.dom;th(el),y.on(l0=>{m.selection.setRng(l0),m.focus()}),kx(m,Cm,JT(Cm),eA(Cm),OS+Uo.type),m.undoManager.add()}),E.set(xr)}}),m.on("ObjectResizeStart",qn=>{const vr=qn.target;if(Xh(vr)&&!m.mode.isReadOnly()){const xr=Sn.fromDom(vr);le(m.dom.select(".mce-clonedresizable"),Uo=>{m.dom.addClass(Uo,"mce-"+hx(m)+"-columns")}),!L2(xr)&&Ug(m)?Ja(xr):!gb(xr)&&d1(m)&&Ig(xr),F2(xr)&&mn(qn.origin,OS)&&Ig(xr),H=qn.width,q=gx(m)?"":X2(m,vr).getOr(""),ne=qn.height,ue=tS(m,vr).getOr("")}}),m.on("ObjectResized",qn=>{const vr=qn.target;if(Xh(vr)){const xr=Sn.fromDom(vr),Uo=qn.origin;RA(Uo)&&Ln(xr,Uo,qn.width,qn.height),th(xr),Kh(m,xr.dom,mw)}});const oo=()=>{E.on(qn=>{qn.on(),qn.showBars()})},Ft=()=>{E.on(qn=>{qn.off(),qn.hideBars()})};return m.on("DisabledStateChange",qn=>{qn.state?Ft():oo()}),m.on("SwitchMode",()=>{m.mode.isReadOnly()?Ft():oo()}),m.on("dragstart dragend",qn=>{qn.type==="dragstart"?Ft():oo()}),m.on("remove",()=>{On()}),{refresh:qn=>{E.on(vr=>vr.refreshBars(Sn.fromDom(qn)))},hide:()=>{E.on(qn=>qn.hideBars())},show:()=>{E.on(qn=>qn.showBars())}}},Na=m=>{TB(m);const y=Q_(m),E=Y_(m,y),_=m1(m,y,E);return K_(m,_),OA(m,_),SS(m,_),{getSelectedCells:E.getSelectedCells,clearSelectedCells:E.clearSelectedCells}},Zf=m=>({table:Na(m)});var tv=()=>{l.add("dom",Zf)};tv()})()),zre}var Vre;function Jve(){return Vre||(Vre=1,Qve()),Hre}Jve();var Ure={},Zre={},Wre;function exe(){return Wre||(Wre=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=(le,Ue,Pt)=>{const Re=Ue==="UL"?"InsertUnorderedList":"InsertOrderedList";le.execCommand(Re,!1,Pt===!1?null:{"list-style-type":Pt})},p=le=>{le.addCommand("ApplyUnorderedListStyle",(Ue,Pt)=>{u(le,"UL",Pt["list-style-type"])}),le.addCommand("ApplyOrderedListStyle",(Ue,Pt)=>{u(le,"OL",Pt["list-style-type"])})},x=le=>Ue=>Ue.options.get(le),A=le=>{const Ue=le.options.register;Ue("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),Ue("advlist_bullet_styles",{processor:"string[]",default:"default,disc,circle,square".split(",")})},M=x("advlist_number_styles"),O=x("advlist_bullet_styles"),I=le=>le==null,U=le=>!I(le);class V{tag;value;static singletonNone=new V(!1);constructor(Ue,Pt){this.tag=Ue,this.value=Pt}static some(Ue){return new V(!0,Ue)}static none(){return V.singletonNone}fold(Ue,Pt){return this.tag?Pt(this.value):Ue()}isSome(){return this.tag}isNone(){return!this.tag}map(Ue){return this.tag?V.some(Ue(this.value)):V.none()}bind(Ue){return this.tag?Ue(this.value):V.none()}exists(Ue){return this.tag&&Ue(this.value)}forall(Ue){return!this.tag||Ue(this.value)}filter(Ue){return!this.tag||Ue(this.value)?this:V.none()}getOr(Ue){return this.tag?this.value:Ue}or(Ue){return this.tag?this:Ue}getOrThunk(Ue){return this.tag?this.value:Ue()}orThunk(Ue){return this.tag?this:Ue()}getOrDie(Ue){if(this.tag)return this.value;throw new Error(Ue??"Called getOrDie on None")}static from(Ue){return U(Ue)?V.some(Ue):V.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ue){this.tag&&Ue(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Y=Array.prototype.indexOf,ee=(le,Ue)=>Y.call(le,Ue),fe=(le,Ue)=>ee(le,Ue)>-1,Ce=(le,Ue,Pt)=>{for(let Re=0,gt=le.length;Re<gt;Re++){const He=le[Re];if(Ue(He,Re))return V.some(He);if(Pt(He,Re))break}return V.none()},pe=Object.keys,$e=(le,Ue)=>{const Pt=pe(le);for(let Re=0,gt=Pt.length;Re<gt;Re++){const He=Pt[Re],dt=le[He];Ue(dt,He)}},be=(le,Ue)=>ct(le,(Pt,Re)=>({k:Re,v:Ue(Pt,Re)})),ct=(le,Ue)=>{const Pt={};return $e(le,(Re,gt)=>{const He=Ue(Re,gt);Pt[He.k]=He.v}),Pt};var Oe=tinymce.util.Tools.resolve("tinymce.util.Tools");const J=le=>/\btox\-/.test(le.className),rt=(le,Ue)=>le.dom.isChildOf(Ue,le.getBody()),It=le=>Ue=>U(Ue)&&le.test(Ue.nodeName),qe=It(/^(OL|UL|DL)$/),ae=It(/^(TH|TD)$/),lt=(le,Ue,Pt)=>Ce(Ue,Re=>qe(Re)&&!J(Re),ae).exists(Re=>Re.nodeName===Pt&&rt(le,Re)),En=le=>{const Ue=le.dom.getParent(le.selection.getNode(),"ol,ul"),Pt=le.dom.getStyle(Ue,"listStyleType");return V.from(Pt)},dn=(le,Ue)=>Ue!==null&&!le.dom.isEditable(Ue),We=(le,Ue)=>{const Pt=le.dom.getParent(Ue,"ol,ul,dl");return dn(le,Pt)||!le.selection.isEditable()},Ne=(le,Ue)=>{const Pt=le.selection.getNode();return Ue({parents:le.dom.getParents(Pt),element:Pt}),le.on("NodeChange",Ue),()=>le.off("NodeChange",Ue)},Jo=le=>le.replace(/\-/g," ").replace(/\b\w/g,Ue=>Ue.toUpperCase()),yt=le=>I(le)||le==="default"?"":le,Mt=(le,Ue)=>Pt=>{const Re=(He,dt)=>{const X=He.selection.getStart(!0);Pt.setActive(lt(He,dt,Ue)),Pt.setEnabled(!We(He,X))};return Ne(le,He=>Re(le,He.parents))},P=(le,Ue,Pt,Re,gt,He)=>{const dt={"lower-latin":"lower-alpha","upper-latin":"upper-alpha","lower-alpha":"lower-latin","upper-alpha":"upper-latin"},X=be(dt,zo=>fe(He,zo));le.ui.registry.addSplitButton(Ue,{tooltip:Pt,chevronTooltip:Pt,icon:gt==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:gt==="OL"?3:4,fetch:zo=>{const Eo=Oe.map(He,Lo=>{const jo=gt==="OL"?"num":"bull",Ks=Lo==="decimal"?"default":Lo,Be=yt(Lo),Ye=Jo(Lo);return{type:"choiceitem",value:Be,icon:"list-"+jo+"-"+Ks,text:Ye}});zo(Eo)},onAction:()=>le.execCommand(Re),onItemAction:(zo,Eo)=>{u(le,gt,Eo)},select:zo=>En(le).exists(Lo=>zo===Lo||dt[Lo]===zo&&!X[zo]),onSetup:Mt(le,gt)})},zt=(le,Ue,Pt,Re,gt,He)=>{le.ui.registry.addToggleButton(Ue,{active:!1,tooltip:Pt,icon:gt==="OL"?"ordered-list":"unordered-list",onSetup:Mt(le,gt),onAction:()=>le.queryCommandState(Re)||He===""?le.execCommand(Re):u(le,gt,He)})},at=(le,Ue,Pt,Re,gt,He)=>{He.length>1?P(le,Ue,Pt,Re,gt,He):zt(le,Ue,Pt,Re,gt,yt(He[0]))},Jn=le=>{at(le,"numlist","Numbered list","InsertOrderedList","OL",M(le)),at(le,"bullist","Bullet list","InsertUnorderedList","UL",O(le))};var an=()=>{l.add("advlist",le=>{le.hasPlugin("lists")?(A(le),Jn(le),p(le)):console.error("Please use the Lists plugin together with the List Styles plugin.")})};an()})()),Zre}var qre;function txe(){return qre||(qre=1,exe()),Ure}txe();var Gre={},Kre={},Yre;function nxe(){return Yre||(Yre=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=(Re,gt,He)=>He(Re,gt.prototype)?!0:Re.constructor?.name===gt.name,p=Re=>{const gt=typeof Re;return Re===null?"null":gt==="object"&&Array.isArray(Re)?"array":gt==="object"&&u(Re,String,(He,dt)=>dt.isPrototypeOf(He))?"string":gt},x=Re=>gt=>p(gt)===Re,A=Re=>gt=>Re===gt,M=x("string"),O=A(void 0),I=Re=>Re==null,U=Re=>!I(Re),V=Re=>gt=>!Re(gt),Y=Object.hasOwnProperty,ee=(Re,gt)=>Y.call(Re,gt),fe=(Re,gt,He)=>Re.length>=gt.length&&Re.substr(He,He+gt.length)===gt,Ce=(Re,gt,He=0,dt)=>{const X=Re.indexOf(gt,He);return X!==-1?O(dt)?!0:X+gt.length<=dt:!1},pe=(Re,gt)=>fe(Re,gt,0),$e="\uFEFF",be=Re=>Re===$e,ct=Re=>Re.replace(/\uFEFF/g,""),Oe=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,J=Re=>gt=>gt.options.get(Re),rt=Re=>{const gt=Re.options.register;gt("autolink_pattern",{processor:"regexp",default:new RegExp("^"+Oe().source+"$","i")}),gt("link_default_target",{processor:"string"}),gt("link_default_protocol",{processor:"string",default:"https"})},It=J("autolink_pattern"),qe=J("link_default_target"),ae=J("link_default_protocol"),lt=J("allow_unsafe_link_target");var En=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const dn=Re=>Re.nodeType===3,We=Re=>Re.nodeType===1,Ne=Re=>/^[(\[{ \u00a0]$/.test(Re),Jo=Re=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(Re),yt=Re=>/[?!,.;:]/.test(Re),Mt=(Re,gt,He)=>{for(let dt=gt-1;dt>=0;dt--){const X=Re.charAt(dt);if(!be(X)&&He(X))return dt}return-1},P=(Re,gt)=>{let He=Re,dt=gt;for(;We(He)&&He.childNodes[dt];)He=He.childNodes[dt],dt=dn(He)?He.data.length:He.childNodes.length;return{container:He,offset:dt}},zt=(Re,gt)=>{const He=Re.schema.getVoidElements(),dt=It(Re),{dom:X,selection:zo}=Re;if(X.getParent(zo.getNode(),"a[href]")!==null||Re.mode.isReadOnly())return null;const Eo=zo.getRng(),Lo=En(X,jn=>X.isBlock(jn)||ee(He,jn.nodeName.toLowerCase())||X.getContentEditable(jn)==="false"||X.getParent(jn,"a[href]")!==null),{container:jo,offset:Ks}=P(Eo.endContainer,Eo.endOffset),Be=X.getParent(jo,X.isBlock)??X.getRoot(),Ye=Lo.backwards(jo,Ks+gt,(jn,go)=>{const vt=jn.data,ln=Mt(vt,go,V(Ne));return ln===-1||yt(vt[ln])?ln:ln+1},Be);if(!Ye)return null;let et=Ye.container;const Le=Lo.backwards(Ye.container,Ye.offset,(jn,go)=>{et=jn;const vt=Mt(jn.data,go,Ne);return vt===-1?vt:vt+1},Be),Je=X.createRng();Le?Je.setStart(Le.container,Le.offset):Je.setStart(et,0),Je.setEnd(Ye.container,Ye.offset);const xt=ct(Je.toString()).match(dt);if(xt){let jn=xt[0];return pe(jn,"www.")?jn=ae(Re)+"://"+jn:Ce(jn,"@")&&!Jo(jn)&&(jn="mailto:"+jn),{rng:Je,url:jn}}else return null},at=(Re,gt)=>{const{dom:He,selection:dt}=Re,{rng:X,url:zo}=gt,Eo=dt.getBookmark();dt.setRng(X);const Lo="createlink",jo={command:Lo,ui:!1,value:zo};if(!Re.dispatch("BeforeExecCommand",jo).isDefaultPrevented()){Re.getDoc().execCommand(Lo,!1,zo),Re.dispatch("ExecCommand",jo);const Be=qe(Re);if(M(Be)){const Ye=dt.getNode();He.setAttrib(Ye,"target",Be),Be==="_blank"&&!lt(Re)&&He.setAttrib(Ye,"rel","noopener")}}dt.moveToBookmark(Eo),Re.nodeChanged()},Jn=Re=>{const gt=zt(Re,-1);U(gt)&&at(Re,gt)},an=Jn,le=Re=>{const gt=zt(Re,0);U(gt)&&at(Re,gt)},Ue=Re=>{Re.on("keydown",gt=>{gt.keyCode===13&&!gt.isDefaultPrevented()&&le(Re)}),Re.on("keyup",gt=>{gt.keyCode===32?Jn(Re):(gt.keyCode===48&&gt.shiftKey||gt.keyCode===221)&&an(Re)})};var Pt=()=>{l.add("autolink",Re=>{rt(Re),Ue(Re)})};Pt()})()),Kre}var Xre;function oxe(){return Xre||(Xre=1,nxe()),Gre}oxe();var Qre={},Jre={},eae;function sxe(){return eae||(eae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=Je=>({backspaceDelete:Ot=>{Je.execCommand("mceListBackspaceDelete",!1,Ot)}}),p=Je=>Je==null,x=Je=>!p(Je),A=Je=>()=>Je,M=(Je,Ot)=>Je===Ot,O=A(!1);class I{tag;value;static singletonNone=new I(!1);constructor(Ot,xt){this.tag=Ot,this.value=xt}static some(Ot){return new I(!0,Ot)}static none(){return I.singletonNone}fold(Ot,xt){return this.tag?xt(this.value):Ot()}isSome(){return this.tag}isNone(){return!this.tag}map(Ot){return this.tag?I.some(Ot(this.value)):I.none()}bind(Ot){return this.tag?Ot(this.value):I.none()}exists(Ot){return this.tag&&Ot(this.value)}forall(Ot){return!this.tag||Ot(this.value)}filter(Ot){return!this.tag||Ot(this.value)?this:I.none()}getOr(Ot){return this.tag?this.value:Ot}or(Ot){return this.tag?this:Ot}getOrThunk(Ot){return this.tag?this.value:Ot()}orThunk(Ot){return this.tag?this:Ot()}getOrDie(Ot){if(this.tag)return this.value;throw new Error(Ot??"Called getOrDie on None")}static from(Ot){return x(Ot)?I.some(Ot):I.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ot){this.tag&&Ot(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const U=Array.prototype.slice,V=(Je,Ot)=>{for(let xt=0,jn=Je.length;xt<jn;xt++){const go=Je[xt];if(Ot(go,xt))return!0}return!1},Y=(Je,Ot)=>{const xt=Je.length,jn=new Array(xt);for(let go=0;go<xt;go++){const vt=Je[go];jn[go]=Ot(vt,go)}return jn},ee=(Je,Ot)=>{for(let xt=0,jn=Je.length;xt<jn;xt++){const go=Je[xt];Ot(go,xt)}},fe=(Je,Ot,xt)=>(ee(Je,(jn,go)=>{xt=Ot(xt,jn,go)}),xt),Ce=(Je,Ot,xt)=>{for(let jn=0,go=Je.length;jn<go;jn++){const vt=Je[jn];if(Ot(vt,jn))return I.some(vt);if(xt(vt,jn))break}return I.none()},pe=(Je,Ot)=>Ce(Je,Ot,O),$e=Je=>{const Ot=U.call(Je,0);return Ot.reverse(),Ot},be=(Je,Ot,xt=M)=>Je.exists(jn=>xt(jn,Ot)),Oe=(Je=>Ot=>Ot.replace(Je,""))(/^\s+|\s+$/g),J=Je=>Je.length>0,rt=Je=>!J(Je),It=Je=>{const Ot=$e(Oe(Je).split("")),xt=Y(Ot,(jn,go)=>{const vt=jn.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,go)*vt});return fe(xt,(jn,go)=>jn+go,0)},qe=Je=>{if(Je--,Je<0)return"";{const Ot=Je%26,xt=Math.floor(Je/26),jn=qe(xt),go=String.fromCharCode(65+Ot);return jn+go}},ae=Je=>/^[A-Z]+$/.test(Je),lt=Je=>/^[a-z]+$/.test(Je),En=Je=>/^[0-9]+$/.test(Je),dn=Je=>En(Je)?2:ae(Je)?0:lt(Je)?1:rt(Je)?3:4,We=Je=>{switch(dn(Je)){case 2:return I.some({listStyleType:I.none(),start:Je});case 0:return I.some({listStyleType:I.some("upper-alpha"),start:It(Je).toString()});case 1:return I.some({listStyleType:I.some("lower-alpha"),start:It(Je).toString()});case 3:return I.some({listStyleType:I.none(),start:""});case 4:return I.none()}},Ne=Je=>{const Ot=parseInt(Je.start,10);return be(Je.listStyleType,"upper-alpha")?qe(Ot):be(Je.listStyleType,"lower-alpha")?qe(Ot).toLowerCase():Je.start},yt=(Je=>Ot=>Ot.options.get(Je))("forced_root_block"),Mt=Je=>/\btox\-/.test(Je.className),P=Je=>Ot=>x(Ot)&&Je.test(Ot.nodeName),zt=Je=>Ot=>x(Ot)&&Ot.nodeName.toLowerCase()===Je,at=P(/^(OL|UL|DL)$/),Jn=P(/^(TH|TD)$/),an=P(/^(LI|DT|DD)$/),le=(Je,Ot)=>Ce(Je,at,Jn).exists(xt=>xt.nodeName===Ot&&!Mt(xt)),Ue=(Je,Ot)=>{const xt=Je.selection.getNode();return Ot({parents:Je.dom.getParents(xt),element:xt}),Je.on("NodeChange",Ot),()=>Je.off("NodeChange",Ot)},Pt=(Je,Ot)=>Ot!==null&&!Je.dom.isEditable(Ot),Re=(Je,Ot)=>{const xt=Je.dom.getParent(Ot,"ol,ul,dl");return Pt(Je,xt)||!Je.selection.isEditable()},gt=zt("ol"),He=["OL","UL","DL"],dt=He.join(","),X=(Je,Ot)=>{const xt=Ot||Je.selection.getStart(!0);return Je.dom.getParent(xt,dt,zo(Je,xt))},zo=(Je,Ot)=>{const xt=Je.dom.getParents(Ot,Je.dom.isBlock),jn=vt=>vt.nodeName.toLowerCase()!==yt(Je);return pe(xt,vt=>jn(vt)&&Eo(Je.schema,vt)).getOr(Je.getBody())},Eo=(Je,Ot)=>!at(Ot)&&!an(Ot)&&V(He,xt=>Je.isValidChild(Ot.nodeName,xt)),Lo=Je=>{const Ot=X(Je);!gt(Ot)||Re(Je,Ot)||Je.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Ne({start:Je.dom.getAttrib(Ot,"start","1"),listStyleType:I.from(Je.dom.getStyle(Ot,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:xt=>{const jn=xt.getData();We(jn.start).each(go=>{Je.execCommand("mceListUpdate",!1,{attrs:{start:go.start==="1"?"":go.start},styles:{"list-style-type":go.listStyleType.getOr("")}})}),xt.close()}})},jo=Je=>{Je.addCommand("mceListProps",()=>{Lo(Je)})},Ks=(Je,Ot)=>xt=>{const jn=go=>{xt.setActive(le(go.parents,Ot)),xt.setEnabled(!Re(Je,go.element)&&Je.selection.isEditable())};return xt.setEnabled(Je.selection.isEditable()),Ue(Je,jn)},Be=Je=>{const Ot=xt=>()=>Je.execCommand(xt);Je.hasPlugin("advlist")||(Je.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:Ot("InsertOrderedList"),onSetup:Ks(Je,"OL")}),Je.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:Ot("InsertUnorderedList"),onSetup:Ks(Je,"UL")}))},Ye=(Je,Ot)=>xt=>Ue(Je,go=>xt.setEnabled(le(go.parents,Ot)&&!Re(Je,go.element))),et=Je=>{const Ot={text:"List properties...",icon:"ordered-list",onAction:()=>Je.execCommand("mceListProps"),onSetup:Ye(Je,"OL")};Je.ui.registry.addMenuItem("listprops",Ot),Je.ui.registry.addContextMenu("lists",{update:xt=>{const jn=X(Je,xt);return gt(jn)?["listprops"]:[]}})};var Le=()=>{l.add("lists",Je=>(jo(Je),Be(Je),et(Je),u(Je)))};Le()})()),Jre}var tae;function rxe(){return tae||(tae=1,sxe()),Qre}rxe();var nae={},oae={},sae;function axe(){return sae||(sae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=(oe,Ae,Xe)=>Xe(oe,Ae.prototype)?!0:oe.constructor?.name===Ae.name,p=oe=>{const Ae=typeof oe;return oe===null?"null":Ae==="object"&&Array.isArray(oe)?"array":Ae==="object"&&u(oe,String,(Xe,Et)=>Et.isPrototypeOf(Xe))?"string":Ae},x=oe=>Ae=>p(Ae)===oe,A=oe=>Ae=>typeof Ae===oe,M=oe=>Ae=>oe===Ae,O=x("string"),I=x("object"),U=x("array"),V=M(null),Y=A("boolean"),ee=oe=>oe==null,fe=oe=>!ee(oe),Ce=A("function"),pe=(oe,Ae)=>{if(U(oe)){for(let Xe=0,Et=oe.length;Xe<Et;++Xe)if(!Ae(oe[Xe]))return!1;return!0}return!1},$e=()=>{},be=oe=>()=>oe,ct=oe=>oe,Oe=(oe,Ae)=>oe===Ae;class J{tag;value;static singletonNone=new J(!1);constructor(Ae,Xe){this.tag=Ae,this.value=Xe}static some(Ae){return new J(!0,Ae)}static none(){return J.singletonNone}fold(Ae,Xe){return this.tag?Xe(this.value):Ae()}isSome(){return this.tag}isNone(){return!this.tag}map(Ae){return this.tag?J.some(Ae(this.value)):J.none()}bind(Ae){return this.tag?Ae(this.value):J.none()}exists(Ae){return this.tag&&Ae(this.value)}forall(Ae){return!this.tag||Ae(this.value)}filter(Ae){return!this.tag||Ae(this.value)?this:J.none()}getOr(Ae){return this.tag?this.value:Ae}or(Ae){return this.tag?this:Ae}getOrThunk(Ae){return this.tag?this.value:Ae()}orThunk(Ae){return this.tag?this:Ae()}getOrDie(Ae){if(this.tag)return this.value;throw new Error(Ae??"Called getOrDie on None")}static from(Ae){return fe(Ae)?J.some(Ae):J.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ae){this.tag&&Ae(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const rt=Array.prototype.indexOf,It=Array.prototype.push,qe=(oe,Ae)=>rt.call(oe,Ae),ae=(oe,Ae)=>qe(oe,Ae)>-1,lt=(oe,Ae)=>{const Xe=oe.length,Et=new Array(Xe);for(let hn=0;hn<Xe;hn++){const Vn=oe[hn];Et[hn]=Ae(Vn,hn)}return Et},En=(oe,Ae)=>{for(let Xe=0,Et=oe.length;Xe<Et;Xe++){const hn=oe[Xe];Ae(hn,Xe)}},dn=(oe,Ae,Xe)=>(En(oe,(Et,hn)=>{Xe=Ae(Xe,Et,hn)}),Xe),We=oe=>{const Ae=[];for(let Xe=0,Et=oe.length;Xe<Et;++Xe){if(!U(oe[Xe]))throw new Error("Arr.flatten item "+Xe+" was not an array, input: "+oe);It.apply(Ae,oe[Xe])}return Ae},Ne=(oe,Ae)=>We(lt(oe,Ae)),Jo=(oe,Ae)=>Ae>=0&&Ae<oe.length?J.some(oe[Ae]):J.none(),yt=oe=>Jo(oe,0),Mt=(oe,Ae)=>{for(let Xe=0;Xe<oe.length;Xe++){const Et=Ae(oe[Xe],Xe);if(Et.isSome())return Et}return J.none()},P=Object.keys,zt=Object.hasOwnProperty,at=(oe,Ae)=>{const Xe=P(oe);for(let Et=0,hn=Xe.length;Et<hn;Et++){const Vn=Xe[Et],Mo=oe[Vn];Ae(Mo,Vn)}},Jn=oe=>(Ae,Xe)=>{oe[Xe]=Ae},an=(oe,Ae,Xe,Et)=>{at(oe,(hn,Vn)=>{(Ae(hn,Vn)?Xe:Et)(hn,Vn)})},le=(oe,Ae)=>{const Xe={};return an(oe,Ae,Jn(Xe),$e),Xe},Ue=(oe,Ae)=>zt.call(oe,Ae),Pt=(oe,Ae)=>Ue(oe,Ae)&&oe[Ae]!==void 0&&oe[Ae]!==null,Re=oe=>{let Ae=oe;return{get:()=>Ae,set:hn=>{Ae=hn}}},gt=(oe,Ae,Xe=Oe)=>oe.exists(Et=>Xe(Et,Ae)),He=oe=>{const Ae=[],Xe=Et=>{Ae.push(Et)};for(let Et=0;Et<oe.length;Et++)oe[Et].each(Xe);return Ae},dt=(oe,Ae)=>oe?J.some(Ae):J.none(),X=oe=>{const Ae=Re(J.none()),Xe=()=>Ae.get().each(oe);return{clear:()=>{Xe(),Ae.set(J.none())},isSet:()=>Ae.get().isSome(),get:()=>Ae.get(),set:Us=>{Xe(),Ae.set(J.some(Us))}}},zo=()=>{const oe=X($e);return{...oe,on:Xe=>oe.get().each(Xe)}},Eo=(oe,Ae)=>oe.substring(Ae),Lo=(oe,Ae,Xe)=>Ae===""||oe.length>=Ae.length&&oe.substr(Xe,Xe+Ae.length)===Ae,jo=(oe,Ae)=>Ks(oe,Ae)?Eo(oe,Ae.length):oe,Ks=(oe,Ae)=>Lo(oe,Ae,0),Be=oe=>Ae=>Ae.options.get(oe),Ye=oe=>{const Ae=oe.options.register;Ae("link_assume_external_targets",{processor:Xe=>{const Et=O(Xe)||Y(Xe);return Et?Xe===!0?{value:1,valid:Et}:Xe==="http"||Xe==="https"?{value:Xe,valid:Et}:{value:0,valid:Et}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),Ae("link_context_toolbar",{processor:"boolean",default:!1}),Ae("link_list",{processor:Xe=>O(Xe)||Ce(Xe)||pe(Xe,I)}),Ae("link_default_target",{processor:"string"}),Ae("link_default_protocol",{processor:"string",default:"https"}),Ae("link_target_list",{processor:Xe=>Y(Xe)||pe(Xe,I),default:!0}),Ae("link_rel_list",{processor:"object[]",default:[]}),Ae("link_class_list",{processor:"object[]",default:[]}),Ae("link_title",{processor:"boolean",default:!0}),Ae("allow_unsafe_link_target",{processor:"boolean",default:!1}),Ae("link_quicklink",{processor:"boolean",default:!1}),Ae("link_attributes_postprocess",{processor:"function"}),Ae("files_upload_handler",{processor:"function"}),Ae("link_uploadtab",{processor:"boolean",default:!0})},et=Be("link_assume_external_targets"),Le=Be("link_context_toolbar"),Je=Be("link_list"),Ot=Be("link_default_target"),xt=Be("link_default_protocol"),jn=Be("link_target_list"),go=Be("link_rel_list"),vt=Be("link_class_list"),ln=Be("link_title"),Un=Be("allow_unsafe_link_target"),Qo=Be("link_quicklink"),mr=Be("link_attributes_postprocess"),gs=Be("files_upload_handler"),Io=Be("link_uploadtab"),Gr=Be("documents_file_types"),_s=oe=>fe(oe.options.get("files_upload_handler")),Ms=oe=>fe(oe.options.get("documents_file_types"));var Ra=tinymce.util.Tools.resolve("tinymce.util.URI"),Kr=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Or=tinymce.util.Tools.resolve("tinymce.util.Tools");const xs=oe=>fe(oe)&&oe.nodeName.toLowerCase()==="a",Yr=oe=>xs(oe)&&!!Ma(oe),Is=(oe,Ae)=>{if(oe.collapsed)return[];{const Xe=oe.cloneContents(),Et=Xe.firstChild,hn=new Kr(Et,Xe),Vn=[];let Mo=Et;do Ae(Mo)&&Vn.push(Mo);while(Mo=hn.next());return Vn}},Xr=oe=>/^\w+:/i.test(oe),Ma=oe=>oe.getAttribute("data-mce-href")??oe.getAttribute("href")??"",$n=(oe,Ae)=>{const Xe=["noopener"],Et=oe?oe.split(/\s+/):[],hn=Ts=>Or.trim(Ts.sort().join(" ")),Vn=Ts=>(Ts=Mo(Ts),Ts.length>0?Ts.concat(Xe):Xe),Mo=Ts=>Ts.filter(Mi=>Or.inArray(Xe,Mi)===-1),Us=Ae?Vn(Et):Mo(Et);return Us.length>0?hn(Us):""},Yo=oe=>oe.replace(/\uFEFF/g,""),_o=(oe,Ae)=>(Ae=Ae||Nn(oe.selection.getRng())[0]||oe.selection.getNode(),yo(Ae)?J.from(oe.dom.select("a[href]",Ae)[0]):J.from(oe.dom.getParent(Ae,"a[href]"))),ui=(oe,Ae)=>_o(oe,Ae).isSome(),Ba=(oe,Ae)=>{const Xe=Ae.fold(()=>oe.getContent({format:"text"}),Et=>Et.innerText||Et.textContent||"");return Yo(Xe)},Nn=oe=>Is(oe,Yr),Ut=oe=>Or.grep(oe,Yr),qt=oe=>Ut(oe).length>0,Gn=oe=>Nn(oe).length>0,Wn=oe=>{const Ae=oe.schema.getTextInlineElements(),Xe=Vn=>Vn.nodeType===1&&!xs(Vn)&&!Ue(Ae,Vn.nodeName.toLowerCase());if(_o(oe).exists(Vn=>Vn.hasAttribute("data-mce-block")))return!1;const hn=oe.selection.getRng();return hn.collapsed?!0:Is(hn,Xe).length===0},yo=oe=>fe(oe)&&oe.nodeName==="FIGURE"&&/\bimage\b/i.test(oe.className),Do=oe=>new Promise((Ae,Xe)=>{const Et=new FileReader;Et.onload=()=>{Ae(Et.result)},Et.onerror=()=>{Xe(new Error(Et.error?.message??"Failed to convert blob to a data url"))},Et.readAsDataURL(oe)}),Yn=oe=>dn(["title","rel","class","target"],(Xe,Et)=>(oe[Et].each(hn=>{Xe[Et]=hn.length>0?hn:null}),Xe),{href:oe.href}),ss=(oe,Ae)=>(Ae==="http"||Ae==="https")&&!Xr(oe)?Ae+"://"+oe:oe,La=(oe,Ae)=>{const Xe={...Ae};if(go(oe).length===0&&!Un(oe)){const Et=$n(Xe.rel,Xe.target==="_blank");Xe.rel=Et||null}return J.from(Xe.target).isNone()&&jn(oe)===!1&&(Xe.target=Ot(oe)),Xe.href=ss(Xe.href,et(oe)),Xe},sl=(oe,Ae,Xe,Et)=>{Xe.each(Vn=>{Ue(Ae,"innerText")?Ae.innerText=Vn:Ae.textContent=Vn}),oe.dom.setAttribs(Ae,Et);const hn=oe.dom.createRng();hn.setStartAfter(Ae),hn.setEndAfter(Ae),oe.selection.setRng(hn)},gi=(oe,Ae,Xe,Et)=>{const hn=oe.dom;yo(Ae)?To(hn,Ae,Et):Xe.fold(()=>{oe.execCommand("mceInsertLink",!1,Et);const Vn=oe.selection.getEnd(),Mo=hn.createRng();Mo.setStartAfter(Vn),Mo.setEndAfter(Vn),oe.selection.setRng(Mo)},Vn=>{oe.insertContent(hn.createHTML("a",Et,hn.encode(Vn)))})},Bn=(oe,Ae,Xe)=>{const Et=oe.selection.getNode(),hn=_o(oe,Et),Vn=La(oe,Yn(Xe)),Mo=mr(oe);fe(Mo)&&Mo(Vn),oe.undoManager.transact(()=>{Xe.href===Ae.href&&Ae.attach(),hn.fold(()=>{gi(oe,Et,Xe.text,Vn)},Us=>{oe.focus(),sl(oe,Us,Xe.text,Vn)})})},Ys=oe=>{const Ae=oe.dom,Xe=oe.selection,Et=Xe.getBookmark(),hn=Xe.getRng().cloneRange(),Vn=Ae.getParent(hn.startContainer,"a[href]",oe.getBody()),Mo=Ae.getParent(hn.endContainer,"a[href]",oe.getBody());Vn&&hn.setStartBefore(Vn),Mo&&hn.setEndAfter(Mo),Xe.setRng(hn),oe.execCommand("unlink"),Xe.moveToBookmark(Et)},Xs=oe=>{oe.undoManager.transact(()=>{const Ae=oe.selection.getNode();yo(Ae)?mn(oe,Ae):Ys(oe),oe.focus()})},jl=oe=>{const{class:Ae,href:Xe,rel:Et,target:hn,text:Vn,title:Mo}=oe;return le({class:Ae.getOrNull(),href:Xe,rel:Et.getOrNull(),target:hn.getOrNull(),text:Vn.getOrNull(),title:Mo.getOrNull()},(Us,Ts)=>V(Us)===!1)},Pe=(oe,Ae)=>{const Xe=oe.options.get,Et={allow_html_data_urls:Xe("allow_html_data_urls"),allow_script_urls:Xe("allow_script_urls"),allow_svg_data_urls:Xe("allow_svg_data_urls")},hn=Ae.href;return{...Ae,href:Ra.isDomSafe(hn,"a",Et)?hn:""}},Ve=(oe,Ae,Xe)=>{const Et=Pe(oe,Xe);oe.hasPlugin("rtc",!0)?oe.execCommand("createlink",!1,jl(Et)):Bn(oe,Ae,Et)},tt=oe=>{oe.hasPlugin("rtc",!0)?oe.execCommand("unlink"):Xs(oe)},mn=(oe,Ae)=>{const Xe=oe.dom.select("img",Ae)[0];if(Xe){const Et=oe.dom.getParents(Xe,"a[href]",Ae)[0];Et&&(Et.parentNode?.insertBefore(Xe,Et),oe.dom.remove(Et))}},To=(oe,Ae,Xe)=>{const Et=oe.select("img",Ae)[0];if(Et){const hn=oe.create("a",Xe);Et.parentNode?.insertBefore(hn,Et),hn.appendChild(Et)}},lo=oe=>O(oe.value)?oe.value:"",Vo=oe=>O(oe.text)?oe.text:O(oe.title)?oe.title:"",is=(oe,Ae)=>{const Xe=[];return Or.each(oe,Et=>{const hn=Vo(Et);if(Et.menu!==void 0){const Vn=is(Et.menu,Ae);Xe.push({text:hn,items:Vn})}else{const Vn=Ae(Et);Xe.push({text:hn,value:Vn})}}),Xe},Ao=(oe=lo)=>Ae=>J.from(Ae).map(Xe=>is(Xe,oe)),je={sanitize:oe=>Ao(lo)(oe),sanitizeWith:Ao,createUi:(oe,Ae)=>Xe=>({name:oe,type:"listbox",label:Ae,items:Xe}),getValue:lo},jt=oe=>Pt(oe,"items"),yn=(oe,Ae)=>Mt(Ae,Xe=>jt(Xe)?yn(oe,Xe.items):dt(Xe.value===oe,Xe)),Wt=(oe,Ae,Xe,Et)=>{const hn=Et[Ae],Vn=oe.length>0;return hn!==void 0?yn(hn,Xe).map(Mo=>({url:{value:Mo.value,meta:{text:Vn?oe:Mo.text,attach:$e}},text:Vn?oe:Mo.text})):J.none()},vo=(oe,Ae)=>Ae==="link"?oe.link:Ae==="anchor"?oe.anchor:J.none(),Rn={init:(oe,Ae)=>{const Xe={text:oe.text,title:oe.title},Et=Ts=>dt(Xe.title.length<=0,J.from(Ts.meta?.title).getOr("")),hn=Ts=>dt(Xe.text.length<=0,J.from(Ts.meta?.text).getOr(Ts.value)),Vn=Ts=>{const Mi=hn(Ts.url),Sa=Et(Ts.url);return Mi.isSome()||Sa.isSome()?J.some({...Mi.map(Xd=>({text:Xd})).getOr({}),...Sa.map(Xd=>({title:Xd})).getOr({})}):J.none()},Mo=(Ts,Mi)=>{const Sa=vo(Ae,Mi).getOr([]);return Wt(Xe.text,Mi,Sa,Ts)};return{onChange:(Ts,Mi)=>{const Sa=Mi.name;return Sa==="url"?Vn(Ts()):ae(["anchor","link"],Sa)?Mo(Ts(),Sa):((Sa==="text"||Sa==="title")&&(Xe[Sa]=Ts()[Sa]),J.none())}}},getDelta:Wt};var Ho=tinymce.util.Tools.resolve("tinymce.util.Delay");const ps=(oe,Ae,Xe)=>{const Et=oe.selection.getRng();Ho.setEditorTimeout(oe,()=>{oe.windowManager.confirm(Ae,hn=>{oe.selection.setRng(Et),Xe(hn)})})},ws=oe=>{const Ae=oe.href;return Ae.indexOf("@")>0&&Ae.indexOf("/")===-1&&Ae.indexOf("mailto:")===-1?J.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Et=>({...Et,href:"mailto:"+Ae})}):J.none()},Cs=(oe,Ae)=>Xe=>{const Et=Xe.href;return oe===1&&!Xr(Et)||oe===0&&/^\s*www(\.|\d\.)/i.test(Et)?J.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${Ae}:// prefix?`,preprocess:Vn=>({...Vn,href:Ae+"://"+Et})}):J.none()},Ca={preprocess:(oe,Ae)=>Mt([ws,Cs(et(oe),xt(oe))],Xe=>Xe(Ae)).fold(()=>Promise.resolve(Ae),Xe=>new Promise(Et=>{ps(oe,Xe.message,hn=>{Et(hn?Xe.preprocess(Ae):Ae)})}))},wr={getAnchors:oe=>{const Ae=oe.dom.select("a:not([href])"),Xe=Ne(Ae,Et=>{const hn=Et.name||Et.id;return hn?[{text:hn,value:"#"+hn}]:[]});return Xe.length>0?J.some([{text:"None",value:""}].concat(Xe)):J.none()}},or={getClasses:oe=>{const Ae=vt(oe);return Ae.length>0?je.sanitize(Ae):J.none()}},Vi=oe=>{try{return J.some(JSON.parse(oe))}catch{return J.none()}},Lr={getLinks:oe=>{const Ae=Et=>oe.convertURL(Et.value||Et.url||"","href"),Xe=Je(oe);return new Promise(Et=>{O(Xe)?fetch(Xe).then(hn=>hn.ok?hn.text().then(Vi):Promise.reject()).then(Et,()=>Et(J.none())):Ce(Xe)?Xe(hn=>Et(J.some(hn))):Et(J.from(Xe))}).then(Et=>Et.bind(je.sanitizeWith(Ae)).map(hn=>hn.length>0?[{text:"None",value:""}].concat(hn):hn))}},Si={getRels:(oe,Ae)=>{const Xe=go(oe);if(Xe.length>0){const Et=gt(Ae,"_blank"),hn=Un(oe)===!1,Vn=Us=>$n(je.getValue(Us),Et);return(hn?je.sanitizeWith(Vn):je.sanitize)(Xe)}return J.none()}},oi=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Sf={getTargets:oe=>{const Ae=jn(oe);return U(Ae)?je.sanitize(Ae).orThunk(()=>J.some(oi)):Ae===!1?J.none():J.some(oi)}},uc=(oe,Ae,Xe)=>{const Et=oe.getAttrib(Ae,Xe);return Et!==null&&Et.length>0?J.some(Et):J.none()},Fr=(oe,Ae)=>{const Xe=oe.dom,hn=Wn(oe)?J.some(Ba(oe.selection,Ae)):J.none(),Vn=Ae.bind(Sa=>J.from(Xe.getAttrib(Sa,"href"))),Mo=Ae.bind(Sa=>J.from(Xe.getAttrib(Sa,"target"))),Us=Ae.bind(Sa=>uc(Xe,Sa,"rel")),Ts=Ae.bind(Sa=>uc(Xe,Sa,"class")),Mi=Ae.bind(Sa=>uc(Xe,Sa,"title"));return{url:Vn,text:hn,title:Mi,target:Mo,rel:Us,linkClass:Ts}},dc={collect:(oe,Ae)=>Lr.getLinks(oe).then(Xe=>{const Et=_s(oe)&&Ms(oe)&&Io(oe),hn=Fr(oe,Ae);return{anchor:hn,catalogs:{targets:Sf.getTargets(oe),rels:Si.getRels(oe,hn.target),classes:or.getClasses(oe),anchor:wr.getAnchors(oe),link:Xe},hasUploadPanel:Et,optNode:Ae,flags:{titleEnabled:ln(oe)}}})},Sn={makeTab:oe=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput",buttonLabel:"Browse for a file",dropAreaLabel:"Drop a file here",allowedFileTypes:oe.map(Xe=>Xe.mimeType).join(","),allowedFileExtensions:We(oe.map(Xe=>Xe.extensions))}]})},Su=(oe,Ae)=>Xe=>{const Et=Xe.getData();if(!Et.url.value){tt(oe),Xe.close();return}const hn=Us=>J.from(Et[Us]).filter(Ts=>!gt(Ae.anchor[Us],Ts)),Vn={href:Et.url.value,text:hn("text"),target:hn("target"),rel:hn("rel"),class:hn("linkClass"),title:hn("title")},Mo={href:Et.url.value,attach:Et.url.meta!==void 0&&Et.url.meta.attach?Et.url.meta.attach:$e};Ca.preprocess(oe,Vn).then(Us=>{Ve(oe,Mo,Us)}),Xe.close()},Ri=oe=>(Ae,Xe)=>gs(oe)(Ae,Xe),pi=oe=>J.from(oe.split(",")[1]).getOr(""),jr=(oe,Ae)=>{const Xe=Ae.getData();Ae.block("Uploading file"),yt(Xe.fileinput).fold(()=>{Ae.unblock()},Et=>{const hn=URL.createObjectURL(Et),Vn=({url:Us,fileName:Ts})=>{Ae.setData({text:Ts,title:Ts,url:{value:Us,meta:{}}}),Ae.showTab("general"),Ae.focus("url")},Mo=()=>{Ae.unblock(),URL.revokeObjectURL(hn)};Do(Et).then(Us=>{const Ts=oe.getExistingBlobInfo(pi(Us),Et.type),Mi=Ts&&Ts.filename()===Et.name?Ts:oe.createBlobCache(Et,hn,Us);return oe.addToBlobCache(Mi),oe.uploadFile(Mi,ct)}).then(Us=>{Vn(Us),Mo()}).catch(Us=>{Mo(),oe.alertErr(Us,()=>{Ae.focus("fileinput")})})})},Kd=oe=>(Ae,Xe,Et)=>oe.editorUpload.blobCache.create({blob:Ae,blobUri:Xe,name:Ae.name?.replace(/\.[^\.]+$/,""),filename:Ae.name,base64:Et.split(",")[1]}),Ei=oe=>Ae=>{oe.editorUpload.blobCache.add(Ae)},rl=oe=>(Ae,Xe)=>oe.editorUpload.blobCache.getByData(Ae,Xe),Tf=oe=>(Ae,Xe)=>{oe.windowManager.alert(Ae,Xe)},Jf=oe=>{const Ae=_o(oe);return dc.collect(oe,Ae)},Eu=(oe,Ae)=>{const Xe=oe.anchor,Et=Xe.url.getOr("");return{url:{value:Et,meta:{original:{value:Et}}},text:Xe.text.getOr(""),title:Xe.title.getOr(""),anchor:Et,link:Et,rel:Xe.rel.getOr(""),target:Xe.target.or(Ae).getOr(""),linkClass:Xe.linkClass.getOr(""),fileinput:[]}},Yd=(oe,Ae,Xe,Et,hn,Vn)=>{const Mo=We([oe,Ae,Xe,He([Et.anchor.map(je.createUi("anchor","Anchors")),Et.rels.map(je.createUi("rel","Rel")),Et.targets.map(je.createUi("target","Open link in...")),Et.link.map(je.createUi("link","Link list")),Et.classes.map(je.createUi("linkClass","Class"))])]);return hn?{type:"tabpanel",tabs:We([[{title:"General",name:"general",items:Mo}],[Sn.makeTab(Vn)]])}:{type:"panel",items:Mo}},_l=(oe,Ae,Xe)=>{const Et=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],hn=oe.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Vn=oe.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Mo=J.from(Ot(Xe)),Us=Eu(oe,Mo),Ts=oe.catalogs,Mi=Rn.init(Us,Ts),Sa=Yd(Et,hn,Vn,Ts,oe.hasUploadPanel,Gr(Xe)),Xd={addToBlobCache:Ei(Xe),createBlobCache:Kd(Xe),alertErr:Tf(Xe),uploadFile:Ri(Xe),getExistingBlobInfo:rl(Xe)};return{title:"Insert/Edit Link",size:"normal",body:Sa,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Us,onChange:(Om,{name:kf})=>{kf==="fileinput"?jr(Xd,Om):Mi.onChange(Om.getData,{name:kf}).each(Kc=>{Om.setData(Kc)})},onSubmit:Ae}},qc=oe=>{Jf(oe).then(Xe=>{const Et=Su(oe,Xe);return _l(Xe,Et,oe)}).then(Xe=>{oe.windowManager.open(Xe)})},Gc=oe=>{oe.addCommand("mceLink",(Ae,Xe)=>{Xe?.dialog===!0||!Qo(oe)?qc(oe):oe.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},un=oe=>{oe.addShortcut("Meta+K","",()=>{oe.execCommand("mceLink")})};var Tu=tinymce.util.Tools.resolve("tinymce.util.VK");const yd=(oe,Ae)=>{document.body.appendChild(oe),oe.dispatchEvent(Ae),document.body.removeChild(oe)},Vl=oe=>{const Ae=document.createElement("a");Ae.target="_blank",Ae.href=oe,Ae.rel="noreferrer noopener";const Xe=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(Xe),yd(Ae,Xe)},al=oe=>oe.altKey===!0&&oe.shiftKey===!1&&oe.ctrlKey===!1&&oe.metaKey===!1,Uu=(oe,Ae)=>{if(Ae){const Xe=Ma(Ae);if(/^#/.test(Xe)){const Et=oe.dom.select(`${Xe},[name="${jo(Xe,"#")}"]`);Et.length&&oe.selection.scrollIntoView(Et[0],!0)}else Vl(Ae.href)}},Ui=oe=>{const Ae=oe.selection.getRng(),Xe=Ae.startContainer;return Yr(Xe)&&Ae.startContainer===Ae.endContainer&&oe.dom.select("img",Xe).length===1},si=(oe,Ae)=>{const Xe=Ut(oe.dom.getParents(Ae));return dt(Xe.length===1,Xe[0])},Dl=oe=>{const Ae=Nn(oe.selection.getRng());return dt(Ae.length>0,Ae[0]).or(si(oe,oe.selection.getNode()))},fc=oe=>oe.selection.isCollapsed()||Ui(oe)?si(oe,oe.selection.getStart()):Dl(oe),Vs=oe=>{const Ae=zo(),Xe=()=>Ae.get().or(fc(oe)),Et=()=>Xe().each(hn=>Uu(oe,hn));return oe.on("contextmenu",hn=>{si(oe,hn.target).each(Ae.set)}),oe.on("SelectionChange",()=>{Ae.isSet()||fc(oe).each(Ae.set)}),oe.on("click",hn=>{Ae.clear();const Vn=Ut(oe.dom.getParents(hn.target));Vn.length===1&&Tu.metaKeyPressed(hn)&&(hn.preventDefault(),Uu(oe,Vn[0]))}),oe.on("keydown",hn=>{Ae.clear(),!hn.isDefaultPrevented()&&hn.keyCode===13&&al(hn)&&Xe().each(Vn=>{hn.preventDefault(),Uu(oe,Vn)})}),{gotoSelectedLink:Et}},Af=oe=>()=>{oe.execCommand("mceLink",!1,{dialog:!0})},te=(oe,Ae)=>(oe.on("NodeChange",Ae),()=>oe.off("NodeChange",Ae)),ve=oe=>Ae=>{const Xe=()=>{Ae.setActive(!oe.mode.isReadOnly()&&ui(oe,oe.selection.getNode())),Ae.setEnabled(oe.selection.isEditable())};return Xe(),te(oe,Xe)},Fe=oe=>Ae=>{const Xe=()=>{Ae.setEnabled(oe.selection.isEditable())};return Xe(),te(oe,Xe)},Dt=oe=>Ae=>{const Xe=Vn=>qt(Vn)||Gn(oe.selection.getRng()),Et=oe.dom.getParents(oe.selection.getStart()),hn=Vn=>{Ae.setEnabled(Xe(Vn)&&oe.selection.isEditable())};return hn(Et),te(oe,Vn=>hn(Vn.parents))},Zn=(oe,Ae)=>{oe.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:Af(oe),onSetup:ve(oe)}),oe.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Ae.gotoSelectedLink,onSetup:Dt(oe)}),oe.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>tt(oe),onSetup:Dt(oe)})},fs=(oe,Ae)=>{oe.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Ae.gotoSelectedLink,onSetup:Dt(oe)}),oe.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Af(oe),onSetup:Fe(oe)}),oe.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>tt(oe),onSetup:Dt(oe)})},sr=oe=>{const Ae="link unlink openlink",Xe="link";oe.ui.registry.addContextMenu("link",{update:Et=>oe.dom.isEditable(Et)?qt(oe.dom.getParents(Et,"a"))?Ae:Xe:""})},Ua=(oe,Ae)=>{const Xe=Vn=>{Vn.selection.collapse(!1)},Et=Vn=>{const Mo=oe.selection.getNode();return Vn.setEnabled(ui(oe,Mo)&&oe.selection.isEditable()),$e},hn=Vn=>{const Mo=_o(oe),Us=Wn(oe);if(Mo.isNone()&&Us){const Ts=Ba(oe.selection,Mo);return dt(Ts.length===0,Vn)}else return J.none()};oe.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:ve(oe)},label:"Link",predicate:Vn=>Le(oe)&&ui(oe,Vn),initValue:()=>_o(oe).fold(be(""),Ma),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Vn=>{const Mo=oe.selection.getNode();return Vn.setActive(ui(oe,Mo)),ve(oe)(Vn)},onAction:Vn=>{const Mo=Vn.getValue(),Us=hn(Mo);Ve(oe,{href:Mo,attach:$e},{href:Mo,text:Us,title:J.none(),rel:J.none(),target:J.from(Ot(oe)),class:J.none()}),Xe(oe),Vn.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Et,onAction:Vn=>{tt(oe),Vn.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Et,onAction:Vn=>{Ae.gotoSelectedLink(),Vn.hide()}}]})},Ti=oe=>{const Ae=Vs(oe);Zn(oe,Ae),fs(oe,Ae),sr(oe),Ua(oe,Ae)};var Ol=()=>{l.add("link",oe=>{Ye(oe),Gc(oe),Ti(oe),un(oe)})};Ol()})()),oae}var rae;function ixe(){return rae||(rae=1,axe()),nae}ixe();var aae={},iae={},lae;function lxe(){return lae||(lae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=Object.getPrototypeOf,p=(te,ve,Fe)=>Fe(te,ve.prototype)?!0:te.constructor?.name===ve.name,x=te=>{const ve=typeof te;return te===null?"null":ve==="object"&&Array.isArray(te)?"array":ve==="object"&&p(te,String,(Fe,Dt)=>Dt.isPrototypeOf(Fe))?"string":ve},A=te=>ve=>x(ve)===te,M=te=>ve=>typeof ve===te,O=te=>ve=>te===ve,I=(te,ve)=>V(te)&&p(te,ve,(Fe,Dt)=>u(Fe)===Dt),U=A("string"),V=A("object"),Y=te=>I(te,Object),ee=A("array"),fe=O(null),Ce=M("boolean"),pe=te=>te==null,$e=te=>!pe(te),be=M("function"),ct=M("number"),Oe=(te,ve)=>{if(ee(te)){for(let Fe=0,Dt=te.length;Fe<Dt;++Fe)if(!ve(te[Fe]))return!1;return!0}return!1},J=()=>{};class rt{tag;value;static singletonNone=new rt(!1);constructor(ve,Fe){this.tag=ve,this.value=Fe}static some(ve){return new rt(!0,ve)}static none(){return rt.singletonNone}fold(ve,Fe){return this.tag?Fe(this.value):ve()}isSome(){return this.tag}isNone(){return!this.tag}map(ve){return this.tag?rt.some(ve(this.value)):rt.none()}bind(ve){return this.tag?ve(this.value):rt.none()}exists(ve){return this.tag&&ve(this.value)}forall(ve){return!this.tag||ve(this.value)}filter(ve){return!this.tag||ve(this.value)?this:rt.none()}getOr(ve){return this.tag?this.value:ve}or(ve){return this.tag?this:ve}getOrThunk(ve){return this.tag?this.value:ve()}orThunk(ve){return this.tag?this:ve()}getOrDie(ve){if(this.tag)return this.value;throw new Error(ve??"Called getOrDie on None")}static from(ve){return $e(ve)?rt.some(ve):rt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ve){this.tag&&ve(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const It=Array.prototype.push,qe=te=>{const ve=[];for(let Fe=0,Dt=te.length;Fe<Dt;++Fe){if(!ee(te[Fe]))throw new Error("Arr.flatten item "+Fe+" was not an array, input: "+te);It.apply(ve,te[Fe])}return ve},ae=(te,ve)=>ve>=0&&ve<te.length?rt.some(te[ve]):rt.none(),lt=te=>ae(te,0),En=(te,ve)=>{for(let Fe=0;Fe<te.length;Fe++){const Dt=ve(te[Fe],Fe);if(Dt.isSome())return Dt}return rt.none()},dn=Object.keys,We=Object.hasOwnProperty,Ne=(te,ve)=>{const Fe=dn(te);for(let Dt=0,Zn=Fe.length;Dt<Zn;Dt++){const fs=Fe[Dt],sr=te[fs];ve(sr,fs)}},Jo=te=>(ve,Fe)=>{te[Fe]=ve},yt=(te,ve,Fe,Dt)=>{Ne(te,(Zn,fs)=>{(ve(Zn,fs)?Fe:Dt)(Zn,fs)})},Mt=(te,ve)=>{const Fe={};return yt(te,ve,Jo(Fe),J),Fe},P=(te,ve)=>We.call(te,ve),zt=(te,ve)=>P(te,ve)&&te[ve]!==void 0&&te[ve]!==null,an=(te=>(...ve)=>{if(ve.length===0)throw new Error("Can't merge zero objects");const Fe={};for(let Dt=0;Dt<ve.length;Dt++){const Zn=ve[Dt];for(const fs in Zn)P(Zn,fs)&&(Fe[fs]=te(Fe[fs],Zn[fs]))}return Fe})((te,ve)=>Y(te)&&Y(ve)?an(te,ve):ve),le=te=>te.length>0,Ue=(te,ve)=>{const Dt=(ve||document).createElement("div");if(Dt.innerHTML=te,!Dt.hasChildNodes()||Dt.childNodes.length>1){const Zn="HTML does not have a single root node";throw console.error(Zn,te),new Error(Zn)}return gt(Dt.childNodes[0])},Pt=(te,ve)=>{const Dt=(ve||document).createElement(te);return gt(Dt)},Re=(te,ve)=>{const Dt=(ve||document).createTextNode(te);return gt(Dt)},gt=te=>{if(te==null)throw new Error("Node cannot be null or undefined");return{dom:te}},dt={fromHtml:Ue,fromTag:Pt,fromText:Re,fromDom:gt,fromPoint:(te,ve,Fe)=>rt.from(te.dom.elementFromPoint(ve,Fe)).map(gt)},X=(te,ve,Fe)=>{if(U(Fe)||Ce(Fe)||ct(Fe))te.setAttribute(ve,Fe+"");else throw console.error("Invalid call to Attribute.set. Key ",ve,":: Value ",Fe,":: Element ",te),new Error("Attribute value was not simple")},zo=(te,ve,Fe)=>{X(te.dom,ve,Fe)},Eo=(te,ve)=>{te.dom.removeAttribute(ve)};var Lo=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),jo=tinymce.util.Tools.resolve("tinymce.util.URI");const Ks=te=>ve=>ve.options.get(te),Be=te=>{const ve=te.options.register;ve("image_dimensions",{processor:"boolean",default:!0}),ve("image_advtab",{processor:"boolean",default:!1}),ve("image_uploadtab",{processor:"boolean",default:!0}),ve("image_prepend_url",{processor:"string",default:""}),ve("image_class_list",{processor:"object[]"}),ve("image_description",{processor:"boolean",default:!0}),ve("image_title",{processor:"boolean",default:!1}),ve("image_caption",{processor:"boolean",default:!1}),ve("image_list",{processor:Fe=>{const Dt=Fe===!1||U(Fe)||Oe(Fe,V)||be(Fe);return Dt?{value:Fe,valid:Dt}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},Ye=Ks("image_dimensions"),et=Ks("image_advtab"),Le=Ks("image_uploadtab"),Je=Ks("image_prepend_url"),Ot=Ks("image_class_list"),xt=Ks("image_description"),jn=Ks("image_title"),go=Ks("image_caption"),vt=Ks("image_list"),ln=Ks("a11y_advanced_options"),Un=Ks("automatic_uploads"),Qo=te=>le(te.options.get("images_upload_url")),mr=te=>$e(te.options.get("images_upload_handler")),gs=(te,ve)=>Math.max(parseInt(te,10),parseInt(ve,10)),Io=te=>new Promise(ve=>{const Fe=document.createElement("img"),Dt=fs=>{Fe.parentNode&&Fe.parentNode.removeChild(Fe),ve(fs)};Fe.addEventListener("load",()=>{const fs=gs(Fe.width,Fe.clientWidth),sr=gs(Fe.height,Fe.clientHeight),Ua={width:fs,height:sr};Dt(Promise.resolve(Ua))}),Fe.addEventListener("error",()=>{Dt(Promise.reject(`Failed to get image dimensions for: ${te}`))});const Zn=Fe.style;Zn.visibility="hidden",Zn.position="fixed",Zn.bottom=Zn.left="0px",Zn.width=Zn.height="auto",document.body.appendChild(Fe),Fe.src=te}),Gr=te=>(te&&(te=te.replace(/px$/,"")),te),_s=te=>(te.length>0&&/^[0-9]+$/.test(te)&&(te+="px"),te),Ms=te=>{if(te.margin){const ve=String(te.margin).split(" ");switch(ve.length){case 1:te["margin-top"]=te["margin-top"]||ve[0],te["margin-right"]=te["margin-right"]||ve[0],te["margin-bottom"]=te["margin-bottom"]||ve[0],te["margin-left"]=te["margin-left"]||ve[0];break;case 2:te["margin-top"]=te["margin-top"]||ve[0],te["margin-right"]=te["margin-right"]||ve[1],te["margin-bottom"]=te["margin-bottom"]||ve[0],te["margin-left"]=te["margin-left"]||ve[1];break;case 3:te["margin-top"]=te["margin-top"]||ve[0],te["margin-right"]=te["margin-right"]||ve[1],te["margin-bottom"]=te["margin-bottom"]||ve[2],te["margin-left"]=te["margin-left"]||ve[1];break;case 4:te["margin-top"]=te["margin-top"]||ve[0],te["margin-right"]=te["margin-right"]||ve[1],te["margin-bottom"]=te["margin-bottom"]||ve[2],te["margin-left"]=te["margin-left"]||ve[3]}delete te.margin}return te},Ra=(te,ve)=>{const Fe=vt(te);U(Fe)?fetch(Fe).then(Dt=>{Dt.ok&&Dt.json().then(ve)}):be(Fe)?Fe(ve):ve(Fe)},Kr=(te,ve,Fe)=>{const Dt=()=>{Fe.onload=Fe.onerror=null,te.selection&&(te.selection.select(Fe),te.nodeChanged())};Fe.onload=()=>{!ve.width&&!ve.height&&Ye(te)&&te.dom.setAttribs(Fe,{width:String(Fe.clientWidth),height:String(Fe.clientHeight)}),Dt()},Fe.onerror=Dt},Or=te=>new Promise((ve,Fe)=>{const Dt=new FileReader;Dt.onload=()=>{ve(Dt.result)},Dt.onerror=()=>{Fe(Dt.error?.message)},Dt.readAsDataURL(te)}),xs=te=>te.nodeName==="IMG"&&(te.hasAttribute("data-mce-object")||te.hasAttribute("data-mce-placeholder")),Yr=(te,ve)=>{const Fe=te.options.get;return jo.isDomSafe(ve,"img",{allow_html_data_urls:Fe("allow_html_data_urls"),allow_script_urls:Fe("allow_script_urls"),allow_svg_data_urls:Fe("allow_svg_data_urls")})},Is=Lo.DOM,Xr=te=>te.style.marginLeft&&te.style.marginRight&&te.style.marginLeft===te.style.marginRight?Gr(te.style.marginLeft):"",Ma=te=>te.style.marginTop&&te.style.marginBottom&&te.style.marginTop===te.style.marginBottom?Gr(te.style.marginTop):"",$n=te=>te.style.borderWidth?Gr(te.style.borderWidth):"",Yo=(te,ve)=>te.hasAttribute(ve)?te.getAttribute(ve)??"":"",_o=te=>te.parentNode!==null&&te.parentNode.nodeName==="FIGURE",ui=(te,ve,Fe)=>{Fe===""||Fe===null?te.removeAttribute(ve):te.setAttribute(ve,Fe)},Ba=te=>{const ve=Is.create("figure",{class:"image"});Is.insertAfter(ve,te),ve.appendChild(te),ve.appendChild(Is.create("figcaption",{contentEditable:"true"},"Caption")),ve.contentEditable="false"},Nn=te=>{const ve=te.parentNode;$e(ve)&&(Is.insertAfter(te,ve),Is.remove(ve))},Ut=te=>{_o(te)?Nn(te):Ba(te)},qt=(te,ve)=>{const Fe=te.getAttribute("style"),Dt=ve(Fe!==null?Fe:"");Dt.length>0?(te.setAttribute("style",Dt),te.setAttribute("data-mce-style",Dt)):te.removeAttribute("style")},Gn=(te,ve)=>(Fe,Dt,Zn)=>{const fs=Fe.style;fs[Dt]?(fs[Dt]=_s(Zn),qt(Fe,ve)):ui(Fe,Dt,Zn)},Wn=(te,ve)=>te.style[ve]?Gr(te.style[ve]):Yo(te,ve),yo=(te,ve)=>{const Fe=_s(ve);te.style.marginLeft=Fe,te.style.marginRight=Fe},Do=(te,ve)=>{const Fe=_s(ve);te.style.marginTop=Fe,te.style.marginBottom=Fe},Yn=(te,ve)=>{const Fe=_s(ve);te.style.borderWidth=Fe},ss=(te,ve)=>{te.style.borderStyle=ve},La=te=>te.style.borderStyle??"",sl=te=>$e(te)&&te.nodeName==="FIGURE",gi=te=>te.nodeName==="IMG",Bn=te=>{const ve=Is.getAttrib(te,"alt"),Fe=Is.getAttrib(te,"role");return te.hasAttribute("alt")&&ve.length===0||Fe==="presentation"||Fe==="none"},Ys=te=>Bn(te)?"":Yo(te,"alt"),Xs=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),jl=(te,ve)=>{const Fe=document.createElement("img");return ui(Fe,"style",ve.style),(Xr(Fe)||ve.hspace!=="")&&yo(Fe,ve.hspace),(Ma(Fe)||ve.vspace!=="")&&Do(Fe,ve.vspace),($n(Fe)||ve.border!=="")&&Yn(Fe,ve.border),(La(Fe)||ve.borderStyle!=="")&&ss(Fe,ve.borderStyle),te(Fe.getAttribute("style")??"")},Pe=(te,ve)=>{const Fe=document.createElement("img");if(Vo(te,{...ve,caption:!1},Fe),mn(Fe,ve.alt,ve.isDecorative),ve.caption){const Dt=Is.create("figure",{class:"image"});return Dt.appendChild(Fe),Dt.appendChild(Is.create("figcaption",{contentEditable:"true"},"Caption")),Dt.contentEditable="false",Dt}else return Fe},Ve=(te,ve)=>({src:Yo(ve,"src"),alt:Ys(ve),title:Yo(ve,"title"),width:Wn(ve,"width"),height:Wn(ve,"height"),class:Yo(ve,"class"),style:te(Yo(ve,"style")),caption:_o(ve),hspace:Xr(ve),vspace:Ma(ve),border:$n(ve),borderStyle:La(ve),isDecorative:Bn(ve)}),tt=(te,ve,Fe,Dt,Zn)=>{Fe[Dt]!==ve[Dt]&&Zn(te,Dt,String(Fe[Dt]))},mn=(te,ve,Fe)=>{if(Fe){Is.setAttrib(te,"role","presentation");const Dt=dt.fromDom(te);zo(Dt,"alt","")}else{if(fe(ve)){const Dt=dt.fromDom(te);Eo(Dt,"alt")}else{const Dt=dt.fromDom(te);zo(Dt,"alt",ve)}Is.getAttrib(te,"role")==="presentation"&&Is.setAttrib(te,"role","")}},To=(te,ve,Fe)=>{(Fe.alt!==ve.alt||Fe.isDecorative!==ve.isDecorative)&&mn(te,Fe.alt,Fe.isDecorative)},lo=(te,ve)=>(Fe,Dt,Zn)=>{te(Fe,Zn),qt(Fe,ve)},Vo=(te,ve,Fe)=>{const Dt=Ve(te,Fe);tt(Fe,Dt,ve,"caption",(Zn,fs,sr)=>Ut(Zn)),tt(Fe,Dt,ve,"src",ui),tt(Fe,Dt,ve,"title",ui),tt(Fe,Dt,ve,"width",Gn("width",te)),tt(Fe,Dt,ve,"height",Gn("height",te)),tt(Fe,Dt,ve,"class",ui),tt(Fe,Dt,ve,"style",lo((Zn,fs)=>ui(Zn,"style",fs),te)),tt(Fe,Dt,ve,"hspace",lo(yo,te)),tt(Fe,Dt,ve,"vspace",lo(Do,te)),tt(Fe,Dt,ve,"border",lo(Yn,te)),tt(Fe,Dt,ve,"borderStyle",lo(ss,te)),To(Fe,Dt,ve)},is=(te,ve)=>{const Fe=te.dom.styles.parse(ve),Dt=Ms(Fe),Zn=te.dom.styles.parse(te.dom.styles.serialize(Dt));return te.dom.styles.serialize(Zn)},Ao=te=>{const ve=te.selection.getNode(),Fe=te.dom.getParent(ve,"figure.image");return Fe?te.dom.select("img",Fe)[0]:ve&&(ve.nodeName!=="IMG"||xs(ve))?null:ve},qs=(te,ve)=>{const Fe=te.dom,Dt=Mt(te.schema.getTextBlockElements(),(fs,sr)=>!te.schema.isValidChild(sr,"figure")),Zn=Fe.getParent(ve.parentNode,fs=>zt(Dt,fs.nodeName),te.getBody());return Zn?Fe.split(Zn,ve)??ve:ve},me=te=>{const ve=Ao(te);return ve?Ve(Fe=>is(te,Fe),ve):Xs()},je=(te,ve)=>{const Fe=Pe(Zn=>is(te,Zn),ve);te.dom.setAttrib(Fe,"data-mce-id","__mcenew"),te.focus(),te.insertContent(Fe.outerHTML);const Dt=te.dom.select('*[data-mce-id="__mcenew"]')[0];if(te.dom.setAttrib(Dt,"data-mce-id",null),sl(Dt)){const Zn=qs(te,Dt);te.selection.select(Zn)}else te.selection.select(Dt)},jt=(te,ve)=>{te.dom.setAttrib(ve,"src",ve.getAttribute("src"))},yn=(te,ve)=>{if(ve){const Fe=te.dom.is(ve.parentNode,"figure.image")?ve.parentNode:ve;te.dom.remove(Fe),te.focus(),te.nodeChanged(),te.dom.isEmpty(te.getBody())&&(te.setContent(""),te.selection.setCursorLocation())}},Wt=(te,ve)=>{const Fe=Ao(te);if(Fe)if(Vo(Dt=>is(te,Dt),ve,Fe),jt(te,Fe),sl(Fe.parentNode)){te.dom.setStyle(Fe,"float","");const Dt=Fe.parentNode;qs(te,Dt),te.selection.select(Fe.parentNode)}else te.selection.select(Fe),Kr(te,ve,Fe)},vo=(te,ve)=>{const Fe=ve.src;return{...ve,src:Yr(te,Fe)?Fe:""}},to=(te,ve)=>{const Fe=Ao(te);if(Fe){const Zn={...Ve(sr=>is(te,sr),Fe),...ve},fs=vo(te,Zn);Zn.src?Wt(te,fs):yn(te,Fe)}else ve.src&&je(te,{...Xs(),...ve})};var Rn=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Ho=tinymce.util.Tools.resolve("tinymce.util.Tools");const ps=te=>U(te.value)?te.value:"",ws=te=>U(te.text)?te.text:U(te.title)?te.title:"",Cs=(te,ve)=>{const Fe=[];return Ho.each(te,Dt=>{const Zn=ws(Dt);if(Dt.menu!==void 0){const fs=Cs(Dt.menu,ve);Fe.push({text:Zn,items:fs})}else{const fs=ve(Dt);Fe.push({text:Zn,value:fs})}}),Fe},oa=(te=ps)=>ve=>ve?rt.from(ve).map(Fe=>Cs(Fe,te)):rt.none(),Ca=te=>oa(ps)(te),Qf=te=>P(te,"items"),wr=(te,ve)=>En(te,Fe=>Qf(Fe)?wr(Fe.items,ve):Fe.value===ve?rt.some(Fe):rt.none()),or={sanitizer:oa,sanitize:Ca,findEntry:(te,ve)=>te.bind(Fe=>wr(Fe,ve))},Ci={makeTab:te=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},Lr=te=>{const ve=or.sanitizer(Mo=>te.convertURL(Mo.value||Mo.url||"","src")),Fe=new Promise(Mo=>{Ra(te,Us=>{Mo(ve(Us).map(Ts=>qe([[{text:"None",value:""}],Ts])))})}),Dt=or.sanitize(Ot(te)),Zn=et(te),fs=Le(te),sr=Qo(te),Ua=mr(te),Ti=me(te),Ol=xt(te),oe=jn(te),Ae=Ye(te),Xe=go(te),Et=ln(te),hn=Un(te),Vn=rt.some(Je(te)).filter(Mo=>U(Mo)&&Mo.length>0);return Fe.then(Mo=>({image:Ti,imageList:Mo,classList:Dt,hasAdvTab:Zn,hasUploadTab:fs,hasUploadUrl:sr,hasUploadHandler:Ua,hasDescription:Ol,hasImageTitle:oe,hasDimensions:Ae,hasImageCaption:Xe,prependURL:Vn,hasAccessibilityOptions:Et,automaticUploads:hn}))},xo=te=>{const ve={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},Fe=te.imageList.map(oe=>({name:"images",type:"listbox",label:"Image list",items:oe})),Dt={name:"alt",type:"input",label:"Alternative description",enabled:!(te.hasAccessibilityOptions&&te.image.isDecorative)},Zn={name:"title",type:"input",label:"Image title"},fs={name:"dimensions",type:"sizeinput"},sr={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},Ua=te.classList.map(oe=>({name:"classes",type:"listbox",label:"Class",items:oe})),Ti={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Ol=oe=>oe?{type:"grid",columns:2}:{type:"panel"};return qe([[ve],Fe.toArray(),te.hasAccessibilityOptions&&te.hasDescription?[sr]:[],te.hasDescription?[Dt]:[],te.hasImageTitle?[Zn]:[],te.hasDimensions?[fs]:[],[{...Ol(te.classList.isSome()&&te.hasImageCaption),items:qe([Ua.toArray(),te.hasImageCaption?[Ti]:[]])}]])},oi={makeTab:te=>({title:"General",name:"general",items:xo(te)}),makeItems:xo},Sf={makeTab:te=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},uc=te=>({prevImage:or.findEntry(te.imageList,te.image.src),prevAlt:te.image.alt,open:!0}),Fr=te=>({src:{value:te.src,meta:{}},images:te.src,alt:te.alt,title:te.title,dimensions:{width:te.width,height:te.height},classes:te.class,caption:te.caption,style:te.style,vspace:te.vspace,border:te.border,hspace:te.hspace,borderstyle:te.borderStyle,fileinput:[],isDecorative:te.isDecorative}),Cu=(te,ve)=>({src:te.src.value,alt:(te.alt===null||te.alt.length===0)&&ve?null:te.alt,title:te.title,width:te.dimensions.width,height:te.dimensions.height,class:te.classes,style:te.style,caption:te.caption,hspace:te.hspace,vspace:te.vspace,border:te.border,borderStyle:te.borderstyle,isDecorative:te.isDecorative}),dc=(te,ve)=>/^(?:[a-zA-Z]+:)?\/\//.test(ve)?rt.none():te.prependURL.bind(Fe=>ve.substring(0,Fe.length)!==Fe?rt.some(Fe+ve):rt.none()),Ef=(te,ve)=>{const Fe=ve.getData();dc(te,Fe.src.value).each(Dt=>{ve.setData({src:{value:Dt,meta:Fe.src.meta}})})},Sn=(te,ve,Fe)=>{te.hasDescription&&U(Fe.alt)&&(ve.alt=Fe.alt),te.hasAccessibilityOptions&&(ve.isDecorative=Fe.isDecorative||ve.isDecorative||!1),te.hasImageTitle&&U(Fe.title)&&(ve.title=Fe.title),te.hasDimensions&&(U(Fe.width)&&(ve.dimensions.width=Fe.width),U(Fe.height)&&(ve.dimensions.height=Fe.height)),U(Fe.class)&&or.findEntry(te.classList,Fe.class).each(Dt=>{ve.classes=Dt.value}),te.hasImageCaption&&Ce(Fe.caption)&&(ve.caption=Fe.caption),te.hasAdvTab&&(U(Fe.style)&&(ve.style=Fe.style),U(Fe.vspace)&&(ve.vspace=Fe.vspace),U(Fe.border)&&(ve.border=Fe.border),U(Fe.hspace)&&(ve.hspace=Fe.hspace),U(Fe.borderstyle)&&(ve.borderstyle=Fe.borderstyle))},Su=(te,ve)=>{const Fe=ve.getData(),Dt=Fe.src.meta;if(Dt!==void 0){const Zn=an({},Fe);Sn(te,Zn,Dt),ve.setData(Zn)}},Ri=(te,ve,Fe,Dt)=>{const Zn=Dt.getData(),fs=Zn.src.value,sr=Zn.src.meta||{};!sr.width&&!sr.height&&ve.hasDimensions&&(le(fs)?te.imageSize(fs).then(Ua=>{Fe.open&&Dt.setData({dimensions:Ua})}).catch(Ua=>console.error(Ua)):Dt.setData({dimensions:{width:"",height:""}}))},pi=(te,ve,Fe)=>{const Dt=Fe.getData(),Zn=or.findEntry(te.imageList,Dt.src.value);ve.prevImage=Zn,Fe.setData({images:Zn.map(fs=>fs.value).getOr("")})},jr=(te,ve,Fe,Dt)=>{Ef(ve,Dt),Su(ve,Dt),Ri(te,ve,Fe,Dt),pi(ve,Fe,Dt)},Kd=(te,ve,Fe,Dt)=>{const Zn=Dt.getData(),fs=or.findEntry(ve.imageList,Zn.images);fs.each(sr=>{Zn.alt===""||Fe.prevImage.map(Ti=>Ti.text===Zn.alt).getOr(!1)?sr.value===""?Dt.setData({src:sr,alt:Fe.prevAlt}):Dt.setData({src:sr,alt:sr.text}):Dt.setData({src:sr})}),Fe.prevImage=fs,jr(te,ve,Fe,Dt)},Ei=(te,ve,Fe,Dt)=>{const Zn=Dt.getData();Dt.block("Uploading image"),lt(Zn.fileinput).fold(()=>{Dt.unblock()},fs=>{const sr=URL.createObjectURL(fs),Ua=()=>{Dt.unblock(),URL.revokeObjectURL(sr)},Ti=Ol=>{Dt.setData({src:{value:Ol,meta:{}}}),Dt.showTab("general"),jr(te,ve,Fe,Dt),Dt.focus("src")};Or(fs).then(Ol=>{const oe=te.createBlobCache(fs,sr,Ol);ve.automaticUploads?te.uploadImage(oe).then(Ae=>{Ti(Ae.url),Ua()}).catch(Ae=>{Ua(),te.alertErr(Ae,()=>{Dt.focus("fileinput")})}):(te.addToBlobCache(oe),Ti(oe.blobUri()),Dt.unblock())})})},rl=(te,ve,Fe)=>(Dt,Zn)=>{Zn.name==="src"?jr(te,ve,Fe,Dt):Zn.name==="images"?Kd(te,ve,Fe,Dt):Zn.name==="alt"?Fe.prevAlt=Dt.getData().alt:Zn.name==="fileinput"?Ei(te,ve,Fe,Dt):Zn.name==="isDecorative"&&Dt.setEnabled("alt",!Dt.getData().isDecorative)},Tf=te=>()=>{te.open=!1},Jf=te=>te.hasAdvTab||te.hasUploadUrl||te.hasUploadHandler?{type:"tabpanel",tabs:qe([[oi.makeTab(te)],te.hasAdvTab?[Ci.makeTab(te)]:[],te.hasUploadTab&&(te.hasUploadUrl||te.hasUploadHandler)?[Sf.makeTab(te)]:[]])}:{type:"panel",items:oi.makeItems(te)},Eu=(te,ve,Fe)=>Dt=>{const Zn=an(Fr(ve.image),Dt.getData()),fs={...Zn,style:jl(Fe.normalizeCss,Cu(Zn,!1))};te.execCommand("mceUpdateImage",!1,Cu(fs,ve.hasAccessibilityOptions)),te.editorUpload.uploadImagesAuto(),Dt.close()},Yd=te=>ve=>Yr(te,ve)?Io(te.documentBaseURI.toAbsolute(ve)).then(Fe=>({width:String(Fe.width),height:String(Fe.height)})):Promise.resolve({width:"",height:""}),_l=te=>(ve,Fe,Dt)=>te.editorUpload.blobCache.create({blob:ve,blobUri:Fe,name:ve.name?.replace(/\.[^\.]+$/,""),filename:ve.name,base64:Dt.split(",")[1]}),qc=te=>ve=>{te.editorUpload.blobCache.add(ve)},Gc=te=>(ve,Fe)=>{te.windowManager.alert(ve,Fe)},un=te=>ve=>is(te,ve),Tu=te=>ve=>te.dom.parseStyle(ve),yd=te=>(ve,Fe)=>te.dom.serializeStyle(ve,Fe),Vl=te=>ve=>Rn(te).upload([ve],!1).then(Fe=>Fe.length===0?Promise.reject("Failed to upload image"):Fe[0].status===!1?Promise.reject(Fe[0].error?.message):Fe[0]),al=te=>{const ve={imageSize:Yd(te),addToBlobCache:qc(te),createBlobCache:_l(te),alertErr:Gc(te),normalizeCss:un(te),parseStyle:Tu(te),serializeStyle:yd(te),uploadImage:Vl(te)};return{open:()=>{Lr(te).then(Dt=>{const Zn=uc(Dt);return{title:"Insert/Edit Image",size:"normal",body:Jf(Dt),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Fr(Dt.image),onSubmit:Eu(te,Dt,ve),onChange:rl(ve,Dt,Zn),onClose:Tf(Zn)}}).then(te.windowManager.open)}}},Uu=te=>{te.addCommand("mceImage",al(te).open),te.addCommand("mceUpdateImage",(ve,Fe)=>{te.undoManager.transact(()=>to(te,Fe))})},Ui=te=>{const ve=te.attr("class");return $e(ve)&&/\bimage\b/.test(ve)},si=te=>ve=>{let Fe=ve.length;const Dt=Zn=>{Zn.attr("contenteditable",te?"true":null)};for(;Fe--;){const Zn=ve[Fe];Ui(Zn)&&(Zn.attr("contenteditable",te?"false":null),Ho.each(Zn.getAll("figcaption"),Dt))}},Dl=te=>{te.on("PreInit",()=>{te.parser.addNodeFilter("figure",si(!0)),te.serializer.addNodeFilter("figure",si(!1))})},fc=te=>ve=>{const Fe=()=>{ve.setEnabled(te.selection.isEditable())};return te.on("NodeChange",Fe),Fe(),()=>{te.off("NodeChange",Fe)}},Vs=te=>{te.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:al(te).open,onSetup:ve=>{ve.setActive($e(Ao(te)));const Fe=te.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",ve.setActive).unbind,Dt=fc(te)(ve);return()=>{Fe(),Dt()}}}),te.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:al(te).open,onSetup:fc(te)}),te.ui.registry.addContextMenu("image",{update:ve=>te.selection.isEditable()&&(sl(ve)||gi(ve)&&!xs(ve))?["image"]:[]})};var Af=()=>{l.add("image",te=>{Be(te),Dl(te),Vs(te),Uu(te)})};Af()})()),iae}var cae;function cxe(){return cae||(cae=1,lxe()),aae}cxe();var uae={},dae={},fae;function uxe(){return fae||(fae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=(Be,Ye)=>Be.dispatch("insertCustomChar",{chr:Ye}),p=(Be,Ye)=>{const et=u(Be,Ye).chr;Be.execCommand("mceInsertContent",!1,et)},x=(Be,Ye,et)=>et(Be,Ye.prototype)?!0:Be.constructor?.name===Ye.name,A=Be=>{const Ye=typeof Be;return Be===null?"null":Ye==="object"&&Array.isArray(Be)?"array":Ye==="object"&&x(Be,String,(et,Le)=>Le.isPrototypeOf(et))?"string":Ye},M=Be=>Ye=>A(Ye)===Be,O=Be=>Ye=>typeof Ye===Be,I=Be=>Ye=>Be===Ye,U=M("array"),V=I(null),Y=I(void 0),ee=Be=>Be==null,fe=Be=>!ee(Be),Ce=O("function"),$e=(Be=>()=>Be)(!1);class be{tag;value;static singletonNone=new be(!1);constructor(Ye,et){this.tag=Ye,this.value=et}static some(Ye){return new be(!0,Ye)}static none(){return be.singletonNone}fold(Ye,et){return this.tag?et(this.value):Ye()}isSome(){return this.tag}isNone(){return!this.tag}map(Ye){return this.tag?be.some(Ye(this.value)):be.none()}bind(Ye){return this.tag?Ye(this.value):be.none()}exists(Ye){return this.tag&&Ye(this.value)}forall(Ye){return!this.tag||Ye(this.value)}filter(Ye){return!this.tag||Ye(this.value)?this:be.none()}getOr(Ye){return this.tag?this.value:Ye}or(Ye){return this.tag?this:Ye}getOrThunk(Ye){return this.tag?this.value:Ye()}orThunk(Ye){return this.tag?this:Ye()}getOrDie(Ye){if(this.tag)return this.value;throw new Error(Ye??"Called getOrDie on None")}static from(Ye){return fe(Ye)?be.some(Ye):be.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ye){this.tag&&Ye(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const ct=Array.prototype.push,Oe=(Be,Ye)=>{const et=Be.length,Le=new Array(et);for(let Je=0;Je<et;Je++){const Ot=Be[Je];Le[Je]=Ye(Ot,Je)}return Le},J=(Be,Ye)=>{for(let et=0,Le=Be.length;et<Le;et++){const Je=Be[et];Ye(Je,et)}},rt=(Be,Ye,et)=>{for(let Le=0,Je=Be.length;Le<Je;Le++){const Ot=Be[Le];if(Ye(Ot,Le))return be.some(Ot);if(et(Ot,Le))break}return be.none()},It=(Be,Ye)=>rt(Be,Ye,$e),qe=Be=>{const Ye=[];for(let et=0,Le=Be.length;et<Le;++et){if(!U(Be[et]))throw new Error("Arr.flatten item "+et+" was not an array, input: "+Be);ct.apply(Ye,Be[et])}return Ye},ae=(Be,Ye)=>qe(Oe(Be,Ye)),lt=Be=>{let Ye=Be;return{get:()=>Ye,set:Je=>{Ye=Je}}},En=(Be,Ye,et=0,Le)=>{const Je=Be.indexOf(Ye,et);return Je!==-1?Y(Le)?!0:Je+Ye.length<=Le:!1},dn=String.fromCodePoint,We=(Be,Ye)=>{let et=null;const Le=()=>{V(et)||(clearTimeout(et),et=null)};return{cancel:Le,throttle:(...Ot)=>{Le(),et=setTimeout(()=>{et=null,Be.apply(null,Ot)},Ye)}}};var Ne=tinymce.util.Tools.resolve("tinymce.util.Tools");const Jo=Be=>Ye=>Ye.options.get(Be),yt=Be=>{const Ye=Be.options.register,et=Le=>Ce(Le)||U(Le);Ye("charmap",{processor:et}),Ye("charmap_append",{processor:et})},Mt=Jo("charmap"),P=Jo("charmap_append"),zt=Ne.isArray,at="User Defined",Jn=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],an=Be=>Ne.grep(Be,Ye=>zt(Ye)&&Ye.length===2),le=Be=>zt(Be)?an(Be):typeof Be=="function"?Be():[],Ue=(Be,Ye)=>{const et=Mt(Be);et&&(Ye=[{name:at,characters:le(et)}]);const Le=P(Be);if(Le){const Je=Ne.grep(Ye,Ot=>Ot.name===at);return Je.length?(Je[0].characters=[...Je[0].characters,...le(Le)],Ye):Ye.concat({name:at,characters:le(Le)})}return Ye},Pt=Be=>{const Ye=Ue(Be,Jn());return Ye.length>1?[{name:"All",characters:ae(Ye,et=>et.characters)}].concat(Ye):Ye},Re=Be=>({getCharMap:()=>Pt(Be),insertChar:Le=>{p(Be,Le)}}),gt=(Be,Ye,et)=>En(dn(Be).toLowerCase(),et)?!0:En(Ye.toLowerCase(),et)||En(Ye.toLowerCase().replace(/\s+/g,""),et),He=(Be,Ye)=>{const et=[],Le=Ye.toLowerCase();return J(Be.characters,Je=>{gt(Je[0],Je[1],Le)&&et.push(Je)}),Oe(et,Je=>({text:Je[1],value:dn(Je[0]),icon:dn(Je[0])}))},dt="pattern",X=(Be,Ye)=>{const et=()=>[{label:"Search",type:"input",name:dt},{type:"collection",name:"results"}],Le=()=>Oe(Ye,gs=>({title:gs.name,name:gs.name,items:et()})),Je=()=>({type:"panel",items:et()}),Ot=()=>({type:"tabpanel",tabs:Le()}),xt=Ye.length===1?lt(at):lt("All"),jn=(gs,Io)=>{It(Ye,Gr=>Gr.name===xt.get()).each(Gr=>{const _s=He(Gr,Io);gs.setData({results:_s})})},vt=We(gs=>{const Io=gs.getData().pattern;jn(gs,Io)},40),ln=Ye.length===1?Je():Ot(),Un={pattern:"",results:He(Ye[0],"")},Qo={title:"Special Character",size:"normal",body:ln,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:Un,onAction:(gs,Io)=>{Io.name==="results"&&(p(Be,Io.value),gs.close())},onTabChange:(gs,Io)=>{xt.set(Io.newTabName),vt.throttle(gs)},onChange:(gs,Io)=>{Io.name===dt&&vt.throttle(gs)}};Be.windowManager.open(Qo).focus(dt)},zo=(Be,Ye)=>{Be.addCommand("mceShowCharmap",()=>{X(Be,Ye)})},Eo=(Be,Ye)=>{Be.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(et,Le)=>new Promise((Je,Ot)=>{Je(He(Ye,et))}),onAction:(et,Le,Je)=>{Be.selection.setRng(Le),Be.insertContent(Je),et.hide()}})},Lo=Be=>Ye=>{const et=()=>{Ye.setEnabled(Be.selection.isEditable())};return Be.on("NodeChange",et),et(),()=>{Be.off("NodeChange",et)}},jo=Be=>{const Ye=()=>Be.execCommand("mceShowCharmap");Be.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:Ye,onSetup:Lo(Be)}),Be.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:Ye,onSetup:Lo(Be)})};var Ks=()=>{l.add("charmap",Be=>{yt(Be);const Ye=Pt(Be);return zo(Be,Ye),jo(Be),Eo(Be,Ye[0]),Re(Be)})};Ks()})()),dae}var mae;function dxe(){return mae||(mae=1,uxe()),uae}dxe();var hae={},gae={},pae;function fxe(){return pae||(pae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=Ut=>qt=>typeof qt===Ut,x=(Ut=>qt=>Ut===qt)(void 0),A=Ut=>Ut==null,M=Ut=>!A(Ut),O=u("function"),I=Ut=>()=>Ut,U=Ut=>Ut,V=I(!1);class Y{tag;value;static singletonNone=new Y(!1);constructor(qt,Gn){this.tag=qt,this.value=Gn}static some(qt){return new Y(!0,qt)}static none(){return Y.singletonNone}fold(qt,Gn){return this.tag?Gn(this.value):qt()}isSome(){return this.tag}isNone(){return!this.tag}map(qt){return this.tag?Y.some(qt(this.value)):Y.none()}bind(qt){return this.tag?qt(this.value):Y.none()}exists(qt){return this.tag&&qt(this.value)}forall(qt){return!this.tag||qt(this.value)}filter(qt){return!this.tag||qt(this.value)?this:Y.none()}getOr(qt){return this.tag?this.value:qt}or(qt){return this.tag?this:qt}getOrThunk(qt){return this.tag?this.value:qt()}orThunk(qt){return this.tag?this:qt()}getOrDie(qt){if(this.tag)return this.value;throw new Error(qt??"Called getOrDie on None")}static from(qt){return M(qt)?Y.some(qt):Y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(qt){this.tag&&qt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const ee=Array.prototype.indexOf,fe=(Ut,qt)=>ee.call(Ut,qt),Ce=(Ut,qt)=>fe(Ut,qt)>-1,pe=(Ut,qt)=>{for(let Gn=0,Wn=Ut.length;Gn<Wn;Gn++){const yo=Ut[Gn];if(qt(yo,Gn))return!0}return!1},$e=(Ut,qt)=>{const Gn=Ut.length,Wn=new Array(Gn);for(let yo=0;yo<Gn;yo++){const Do=Ut[yo];Wn[yo]=qt(Do,yo)}return Wn},be=(Ut,qt,Gn)=>{for(let Wn=0,yo=Ut.length;Wn<yo;Wn++){const Do=Ut[Wn];if(qt(Do,Wn))return Y.some(Do);if(Gn(Do,Wn))break}return Y.none()},ct=(Ut,qt)=>be(Ut,qt,V),Oe=(Ut,qt)=>{for(let Gn=0;Gn<Ut.length;Gn++){const Wn=qt(Ut[Gn],Gn);if(Wn.isSome())return Wn}return Y.none()},J=(Ut,qt)=>{const Gn=[],Wn=O(qt)?yo=>pe(Gn,Do=>qt(Do,yo)):yo=>Ce(Gn,yo);for(let yo=0,Do=Ut.length;yo<Do;yo++){const Yn=Ut[yo];Wn(Yn)||Gn.push(Yn)}return Gn},rt=Object.keys,It=(Ut,qt)=>{const Gn=rt(Ut);for(let Wn=0,yo=Gn.length;Wn<yo;Wn++){const Do=Gn[Wn],Yn=Ut[Do];qt(Yn,Do)}},qe=(Ut,qt)=>{const Gn=[];return It(Ut,(Wn,yo)=>{Gn.push(qt(Wn,yo))}),Gn},ae=Ut=>qe(Ut,U),lt=(Ut,qt,Gn=0,Wn)=>{const yo=Ut.indexOf(qt,Gn);return yo!==-1?x(Wn)?!0:yo+qt.length<=Wn:!1},En=Ut=>{let qt=!1,Gn;return(...Wn)=>(qt||(qt=!0,Gn=Ut.apply(null,Wn)),Gn)},dn=(Ut,qt,Gn,Wn)=>{const yo=Ut.isiOS()&&/ipad/i.test(Gn)===!0,Do=Ut.isiOS()&&!yo,Yn=Ut.isiOS()||Ut.isAndroid(),ss=Yn||Wn("(pointer:coarse)"),La=yo||!Do&&Yn&&Wn("(min-device-width:768px)"),sl=Do||Yn&&!La,gi=qt.isSafari()&&Ut.isiOS()&&/safari/i.test(Gn)===!1,Bn=!sl&&!La&&!gi;return{isiPad:I(yo),isiPhone:I(Do),isTablet:I(La),isPhone:I(sl),isTouch:I(ss),isAndroid:Ut.isAndroid,isiOS:Ut.isiOS,isWebView:I(gi),isDesktop:I(Bn)}},We=(Ut,qt)=>{for(let Gn=0;Gn<Ut.length;Gn++){const Wn=Ut[Gn];if(Wn.test(qt))return Wn}},Ne=(Ut,qt)=>{const Gn=We(Ut,qt);if(!Gn)return{major:0,minor:0};const Wn=yo=>Number(qt.replace(Gn,"$"+yo));return Mt(Wn(1),Wn(2))},Jo=(Ut,qt)=>{const Gn=String(qt).toLowerCase();return Ut.length===0?yt():Ne(Ut,Gn)},yt=()=>Mt(0,0),Mt=(Ut,qt)=>({major:Ut,minor:qt}),P={nu:Mt,detect:Jo,unknown:yt},zt=(Ut,qt)=>Oe(qt.brands,Gn=>{const Wn=Gn.brand.toLowerCase();return ct(Ut,yo=>Wn===yo.brand?.toLowerCase()).map(yo=>({current:yo.name,version:P.nu(parseInt(Gn.version,10),0)}))}),at=(Ut,qt)=>{const Gn=String(qt).toLowerCase();return ct(Ut,Wn=>Wn.search(Gn))},Jn=(Ut,qt)=>at(Ut,qt).map(Gn=>{const Wn=P.detect(Gn.versionRegexes,qt);return{current:Gn.name,version:Wn}}),an=(Ut,qt)=>at(Ut,qt).map(Gn=>{const Wn=P.detect(Gn.versionRegexes,qt);return{current:Gn.name,version:Wn}}),le=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ue=Ut=>qt=>lt(qt,Ut),Pt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:Ut=>lt(Ut,"edge/")&&lt(Ut,"chrome")&&lt(Ut,"safari")&&lt(Ut,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,le],search:Ut=>lt(Ut,"chrome")&&!lt(Ut,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:Ut=>lt(Ut,"msie")||lt(Ut,"trident")},{name:"Opera",versionRegexes:[le,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ue("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ue("firefox")},{name:"Safari",versionRegexes:[le,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:Ut=>(lt(Ut,"safari")||lt(Ut,"mobile/"))&&lt(Ut,"applewebkit")}],Re=[{name:"Windows",search:Ue("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:Ut=>lt(Ut,"iphone")||lt(Ut,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ue("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ue("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ue("linux"),versionRegexes:[]},{name:"Solaris",search:Ue("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ue("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ue("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],gt={browsers:I(Pt),oses:I(Re)},He="Edge",dt="Chromium",X="IE",zo="Opera",Eo="Firefox",Lo="Safari",jo=()=>Ks({current:void 0,version:P.unknown()}),Ks=Ut=>{const qt=Ut.current,Gn=Ut.version,Wn=yo=>()=>qt===yo;return{current:qt,version:Gn,isEdge:Wn(He),isChromium:Wn(dt),isIE:Wn(X),isOpera:Wn(zo),isFirefox:Wn(Eo),isSafari:Wn(Lo)}},Be={unknown:jo,nu:Ks},Ye="Windows",et="iOS",Le="Android",Je="Linux",Ot="macOS",xt="Solaris",jn="FreeBSD",go="ChromeOS",vt=()=>ln({current:void 0,version:P.unknown()}),ln=Ut=>{const qt=Ut.current,Gn=Ut.version,Wn=yo=>()=>qt===yo;return{current:qt,version:Gn,isWindows:Wn(Ye),isiOS:Wn(et),isAndroid:Wn(Le),isMacOS:Wn(Ot),isLinux:Wn(Je),isSolaris:Wn(xt),isFreeBSD:Wn(jn),isChromeOS:Wn(go)}},Un={unknown:vt,nu:ln},mr={detect:(Ut,qt,Gn)=>{const Wn=gt.browsers(),yo=gt.oses(),Do=qt.bind(La=>zt(Wn,La)).orThunk(()=>Jn(Wn,Ut)).fold(Be.unknown,Be.nu),Yn=an(yo,Ut).fold(Un.unknown,Un.nu),ss=dn(Yn,Do,Ut,Gn);return{browser:Do,os:Yn,deviceType:ss}}},gs=Ut=>window.matchMedia(Ut).matches;let Io=En(()=>mr.detect(window.navigator.userAgent,Y.from(window.navigator.userAgentData),gs));const Gr=()=>Io(),_s=()=>Gr().os.isMacOS(),Ms=()=>Gr().os.isiOS(),Ra=()=>{const Ut=_s()||Ms();return`<script>(${(Gn=>{document.addEventListener("click",Wn=>{for(let yo=Wn.target;yo;yo=yo.parentNode)if(yo.nodeName==="A"){const Yn=yo.getAttribute("href");if(Yn&&Yn.startsWith("#")){Wn.preventDefault();const La=document.getElementById(Yn.substring(1));La&&La.scrollIntoView({behavior:"smooth"});return}(Gn?Wn.metaKey:Wn.ctrlKey&&!Wn.altKey)||Wn.preventDefault()}},!1)}).toString()})(${Ut})<\/script>`};var Kr=tinymce.util.Tools.resolve("tinymce.dom.ScriptLoader"),Or=tinymce.util.Tools.resolve("tinymce.util.Tools");const xs=Ut=>qt=>qt.options.get(Ut),Yr=xs("content_style"),Is=xs("content_css_cors"),Xr=xs("body_class"),Ma=xs("body_id"),$n=Ut=>{const qt=J(ae(Ut.schema.getComponentUrls()));return $e(qt,Gn=>{const Wn=qe(Kr.ScriptLoader.getScriptAttributes(Gn),(yo,Do)=>` ${Ut.dom.encode(Do)}="${Ut.dom.encode(yo)}"`);return`<script src="${Ut.dom.encode(Gn)}"${Wn.join("")}><\/script>`}).join("")},Yo=Ut=>{let qt="";const Gn=Ut.dom.encode,Wn=Yr(Ut)??"";qt+=`<base href="${Gn(Ut.documentBaseURI.getURI())}">`;const yo=Is(Ut)?' crossorigin="anonymous"':"";Or.each(Ut.contentCSS,gi=>{qt+='<link type="text/css" rel="stylesheet" href="'+Gn(Ut.documentBaseURI.toAbsolute(gi))+'"'+yo+">"}),Wn&&(qt+='<style type="text/css">'+Wn+"</style>"),qt+=$n(Ut);const Do=Ma(Ut),Yn=Xr(Ut),ss=Ut.getBody().dir,La=ss?' dir="'+Gn(ss)+'"':"";return"<!DOCTYPE html><html><head>"+qt+'</head><body id="'+Gn(Do)+'" class="mce-content-body '+Gn(Yn)+'"'+La+">"+Ut.getContent()+Ra()+"</body></html>"},_o=Ut=>{const qt=Yo(Ut);Ut.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:qt}}).focus("close")},ui=Ut=>{Ut.addCommand("mcePreview",()=>{_o(Ut)})},Ba=Ut=>{const qt=()=>Ut.execCommand("mcePreview");Ut.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:qt,context:"any"}),Ut.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:qt,context:"any"})};var Nn=()=>{l.add("preview",Ut=>{ui(Ut),Ba(Ut)})};Nn()})()),gae}var bae;function mxe(){return bae||(bae=1,fxe()),hae}mxe();var yae={},vae={},xae;function hxe(){return xae||(xae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager"),u=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),p=tinymce.util.Tools.resolve("tinymce.util.Tools");const x=yt=>Mt=>Mt.options.get(yt),A=yt=>{const Mt=yt.options.register;Mt("allow_html_in_named_anchor",{processor:"boolean",default:!1})},M=x("allow_html_in_named_anchor"),O="a:not([href])",I=yt=>!yt,U=yt=>yt.getAttribute("id")||yt.getAttribute("name")||"",V=yt=>yt.nodeName.toLowerCase()==="a",Y=yt=>V(yt)&&!yt.getAttribute("href")&&U(yt)!=="",ee=yt=>Y(yt)&&!yt.firstChild,fe=yt=>{const Mt=yt.dom;u(Mt).walk(yt.selection.getRng(),P=>{p.each(P,zt=>{ee(zt)&&Mt.remove(zt,!1)})})},Ce=yt=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(yt),pe=yt=>yt.dom.getParent(yt.selection.getStart(),O),$e=yt=>{const Mt=pe(yt);return Mt?U(Mt):""},be=(yt,Mt)=>{yt.undoManager.transact(()=>{M(yt)||yt.selection.collapse(!0),yt.selection.isCollapsed()?yt.insertContent(yt.dom.createHTML("a",{id:Mt})):(fe(yt),yt.formatter.remove("namedAnchor",void 0,void 0,!0),yt.formatter.apply("namedAnchor",{value:Mt}),yt.addVisual())})},ct=(yt,Mt,P)=>{P.removeAttribute("name"),P.id=Mt,yt.addVisual(),yt.undoManager.add()},Oe=(yt,Mt)=>{const P=pe(yt);P?ct(yt,Mt,P):be(yt,Mt),yt.focus()},J=(yt,Mt)=>Ce(Mt)?(Oe(yt,Mt),!0):(yt.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1),rt=yt=>{const Mt=$e(yt);yt.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:Mt},onSubmit:P=>{J(yt,P.getData().id)&&P.close()}})},It=yt=>{yt.addCommand("mceAnchor",()=>{rt(yt)})},qe=yt=>I(yt.attr("href"))&&!I(yt.attr("id")||yt.attr("name")),ae=yt=>qe(yt)&&!yt.firstChild,lt=yt=>Mt=>{for(let P=0;P<Mt.length;P++){const zt=Mt[P];ae(zt)&&zt.attr("contenteditable",yt)}},En=yt=>{yt.on("PreInit",()=>{yt.parser.addNodeFilter("a",lt("false")),yt.serializer.addNodeFilter("a",lt(null))})},dn=yt=>{yt.formatter.register("namedAnchor",{inline:"a",selector:O,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:(Mt,P,zt)=>Y(Mt)})},We=yt=>Mt=>{const P=()=>{Mt.setEnabled(yt.selection.isEditable())};return yt.on("NodeChange",P),P(),()=>{yt.off("NodeChange",P)}},Ne=yt=>{const Mt=()=>yt.execCommand("mceAnchor");yt.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:Mt,onSetup:P=>{const zt=yt.selection.selectorChangedWithUnbind("a:not([href])",P.setActive).unbind,at=We(yt)(P);return()=>{zt(),at()}}}),yt.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:Mt,onSetup:We(yt)})};var Jo=()=>{l.add("anchor",yt=>{A(yt),En(yt),It(yt),Ne(yt),yt.on("PreInit",()=>{dn(yt)})})};Jo()})()),vae}var wae;function gxe(){return wae||(wae=1,hxe()),yae}gxe();var Cae={},Sae={},Eae;function pxe(){return Eae||(Eae=1,(function(){const l=(me,je,jt)=>jt(me,je.prototype)?!0:me.constructor?.name===je.name,u=me=>{const je=typeof me;return me===null?"null":je==="object"&&Array.isArray(me)?"array":je==="object"&&l(me,String,(jt,yn)=>yn.isPrototypeOf(jt))?"string":je},p=me=>je=>u(je)===me,x=me=>je=>typeof je===me,A=p("string"),M=p("array"),O=x("boolean"),I=me=>me==null,U=me=>!I(me),V=x("number"),Y=()=>{},ee=me=>()=>me,fe=ee(!0);class Ce{tag;value;static singletonNone=new Ce(!1);constructor(je,jt){this.tag=je,this.value=jt}static some(je){return new Ce(!0,je)}static none(){return Ce.singletonNone}fold(je,jt){return this.tag?jt(this.value):je()}isSome(){return this.tag}isNone(){return!this.tag}map(je){return this.tag?Ce.some(je(this.value)):Ce.none()}bind(je){return this.tag?je(this.value):Ce.none()}exists(je){return this.tag&&je(this.value)}forall(je){return!this.tag||je(this.value)}filter(je){return!this.tag||je(this.value)?this:Ce.none()}getOr(je){return this.tag?this.value:je}or(je){return this.tag?this:je}getOrThunk(je){return this.tag?this.value:je()}orThunk(je){return this.tag?this:je()}getOrDie(je){if(this.tag)return this.value;throw new Error(je??"Called getOrDie on None")}static from(je){return U(je)?Ce.some(je):Ce.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(je){this.tag&&je(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const pe=Array.prototype.slice,$e=Array.prototype.push,be=(me,je)=>{const jt=me.length,yn=new Array(jt);for(let Wt=0;Wt<jt;Wt++){const vo=me[Wt];yn[Wt]=je(vo,Wt)}return yn},ct=(me,je)=>{for(let jt=0,yn=me.length;jt<yn;jt++){const Wt=me[jt];je(Wt,jt)}},Oe=(me,je)=>{for(let jt=me.length-1;jt>=0;jt--){const yn=me[jt];je(yn,jt)}},J=(me,je)=>{if(me.length===0)return[];{let jt=je(me[0]);const yn=[];let Wt=[];for(let vo=0,to=me.length;vo<to;vo++){const Rn=me[vo],Ho=je(Rn);Ho!==jt&&(yn.push(Wt),Wt=[]),jt=Ho,Wt.push(Rn)}return Wt.length!==0&&yn.push(Wt),yn}},rt=(me,je,jt)=>(ct(me,(yn,Wt)=>{jt=je(jt,yn,Wt)}),jt),It=me=>{const je=[];for(let jt=0,yn=me.length;jt<yn;++jt){if(!M(me[jt]))throw new Error("Arr.flatten item "+jt+" was not an array, input: "+me);$e.apply(je,me[jt])}return je},qe=(me,je)=>It(be(me,je)),ae=(me,je)=>{const jt=pe.call(me,0);return jt.sort(je),jt},lt=Object.hasOwnProperty,En=(me,je)=>lt.call(me,je),dn=me=>{let je=me;return{get:()=>je,set:Wt=>{je=Wt}}},We=me=>{const je=dn(Ce.none()),jt=()=>je.get().each(me);return{clear:()=>{jt(),je.set(Ce.none())},isSet:()=>je.get().isSome(),get:()=>je.get(),set:Rn=>{jt(),je.set(Ce.some(Rn))}}},Ne=()=>{const me=We(Y);return{...me,on:jt=>me.get().each(jt)}};var Jo=tinymce.util.Tools.resolve("tinymce.PluginManager");const P=ee("[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]");var zt=tinymce.util.Tools.resolve("tinymce.Env"),at=tinymce.util.Tools.resolve("tinymce.util.Tools");const Jn=(me,je)=>{const yn=(je||document).createElement("div");if(yn.innerHTML=me,!yn.hasChildNodes()||yn.childNodes.length>1){const Wt="HTML does not have a single root node";throw console.error(Wt,me),new Error(Wt)}return Ue(yn.childNodes[0])},an=(me,je)=>{const yn=(je||document).createElement(me);return Ue(yn)},le=(me,je)=>{const yn=(je||document).createTextNode(me);return Ue(yn)},Ue=me=>{if(me==null)throw new Error("Node cannot be null or undefined");return{dom:me}},Re={fromHtml:Jn,fromTag:an,fromText:le,fromDom:Ue,fromPoint:(me,je,jt)=>Ce.from(me.dom.elementFromPoint(je,jt)).map(Ue)},gt=9,He=11,dt=1,X=3,zo=me=>me.nodeType!==dt&&me.nodeType!==gt&&me.nodeType!==He||me.childElementCount===0,Eo=(me,je)=>{const jt=je===void 0?document:je.dom;return zo(jt)?[]:be(jt.querySelectorAll(me),Re.fromDom)},Lo=(me,je,jt)=>(me.compareDocumentPosition(je)&jt)!==0,jo=(me,je)=>Lo(me,je,Node.DOCUMENT_POSITION_PRECEDING),Ks=me=>me.dom.nodeType,Ye=(me=>je=>Ks(je)===me)(X),et=me=>Ce.from(me.dom.parentNode).map(Re.fromDom),Le=me=>be(me.dom.childNodes,Re.fromDom),Je=(me,je)=>({element:me,offset:je}),Ot=(me,je)=>{const jt=Le(me);return jt.length>0&&je<jt.length?Je(jt[je],0):Je(me,je)},xt=(me,je)=>{et(me).each(yn=>{yn.dom.insertBefore(je.dom,me.dom)})},jn=(me,je)=>{me.dom.appendChild(je.dom)},go=(me,je)=>{xt(me,je),jn(je,me)},vt=(me,je,jt)=>{if(A(jt)||O(jt)||V(jt))me.setAttribute(je,jt+"");else throw console.error("Invalid call to Attribute.set. Key ",je,":: Value ",jt,":: Element ",me),new Error("Attribute value was not simple")},ln=(me,je,jt)=>{vt(me.dom,je,jt)},Qo=((me,je)=>{const jt=vo=>{if(!me(vo))throw new Error("Can only get "+je+" value of a "+je+" node");return yn(vo).getOr("")},yn=vo=>me(vo)?Ce.from(vo.dom.nodeValue):Ce.none();return{get:jt,getOption:yn,set:(vo,to)=>{if(!me(vo))throw new Error("Can only set raw "+je+" value of a "+je+" node");vo.dom.nodeValue=to}}})(Ye,"text"),mr=me=>Qo.get(me),gs=(me,je)=>Eo(je,me);var Io=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Gr=(me,je)=>me.isBlock(je)||En(me.schema.getVoidElements(),je.nodeName),_s=(me,je)=>!me.isEditable(je),Ms=(me,je)=>me.getContentEditable(je)==="true"&&je.parentNode&&!me.isEditable(je.parentNode),Ra=(me,je)=>!me.isBlock(je)&&En(me.schema.getWhitespaceElements(),je.nodeName),Kr=(me,je)=>Gr(me,je)||_s(me,je)||Ra(me,je)||Ms(me,je),Or=me=>me.nodeType===3,xs=()=>({sOffset:0,fOffset:0,elements:[]}),Yr=(me,je)=>Ot(Re.fromDom(me),je),Is=(me,je,jt,yn,Wt,vo=!0)=>{let to=vo?je(!1):jt;for(;to;){const Rn=_s(me,to);if(Rn||Ra(me,to)){if(Rn?yn.cef(to):yn.boundary(to))break;to=je(!0);continue}else if(Gr(me,to)){if(yn.boundary(to))break}else Or(to)&&yn.text(to);if(to===Wt)break;to=je(!1)}},Xr=(me,je,jt,yn,Wt)=>{if(Kr(me,jt))return;const vo=me.getParent(yn,me.isBlock)??me.getRoot(),to=new Io(jt,vo),Rn=Wt?to.next.bind(to):to.prev.bind(to);Is(me,Rn,jt,{boundary:fe,cef:fe,text:Ho=>{Wt?je.fOffset+=Ho.length:je.sOffset+=Ho.length,je.elements.push(Re.fromDom(Ho))}})},Ma=(me,je,jt,yn,Wt,vo=!0)=>{const to=new Io(jt,je),Rn=[];let Ho=xs();Xr(me,Ho,jt,je,!1);const ps=()=>(Ho.elements.length>0&&(Rn.push(Ho),Ho=xs()),!1);return Is(me,to.next.bind(to),jt,{boundary:ps,cef:ws=>(ps(),Wt&&Rn.push(...Wt.cef(ws)),!1),text:ws=>{Ho.elements.push(Re.fromDom(ws)),Wt&&Wt.text(ws,Ho)}},yn,vo),yn&&Xr(me,Ho,yn,je,!0),ps(),Rn},$n=(me,je)=>{const jt=Yr(je.startContainer,je.startOffset),yn=jt.element.dom,Wt=Yr(je.endContainer,je.endOffset),vo=Wt.element.dom;return Ma(me,je.commonAncestorContainer,yn,vo,{text:(to,Rn)=>{to===vo?Rn.fOffset+=to.length-Wt.offset:to===yn&&(Rn.sOffset+=jt.offset)},cef:to=>{const Rn=qe(gs(Re.fromDom(to),"*[contenteditable=true]"),Ho=>{const ps=Ho.dom;return Ma(me,ps,ps)});return ae(Rn,(Ho,ps)=>jo(Ho.elements[0].dom,ps.elements[0].dom)?1:-1)}},!1)},Yo=(me,je)=>je.collapsed?[]:$n(me,je),_o=(me,je)=>{const jt=me.createRng();return jt.selectNode(je),Yo(me,jt)},ui=(me,je)=>qe(je,jt=>_o(me,jt)),Ba=(me,je,jt=0,yn=me.length)=>{const Wt=je.regex;Wt.lastIndex=jt;const vo=[];let to;for(;to=Wt.exec(me);){const Rn=to[je.matchIndex],Ho=to.index+to[0].indexOf(Rn),ps=Ho+Rn.length;if(ps>yn)break;vo.push({start:Ho,finish:ps}),Wt.lastIndex=ps}return vo},Nn=(me,je)=>{const jt=rt(me,(yn,Wt)=>{const vo=mr(Wt),to=yn.last,Rn=to+vo.length,Ho=qe(je,(ps,ws)=>ps.start<Rn&&ps.finish>to?[{element:Wt,start:Math.max(to,ps.start)-to,finish:Math.min(Rn,ps.finish)-to,matchId:ws}]:[]);return{results:yn.results.concat(Ho),last:Rn}},{results:[],last:0}).results;return J(jt,yn=>yn.matchId)},Ut=(me,je)=>qe(je,jt=>{const yn=jt.elements,Wt=be(yn,mr).join(""),vo=Ba(Wt,me,jt.sOffset,Wt.length-jt.fOffset);return Nn(yn,vo)}),qt=(me,je)=>{Oe(me,(jt,yn)=>{Oe(jt,Wt=>{const vo=Re.fromDom(je.cloneNode(!1));ln(vo,"data-mce-index",yn);const to=Wt.element.dom;if(to.length===Wt.finish&&Wt.start===0)go(Wt.element,vo);else{to.length!==Wt.finish&&to.splitText(Wt.finish);const Rn=to.splitText(Wt.start);go(Re.fromDom(Rn),vo)}})})},Gn=(me,je,jt,yn)=>{const Wt=_o(me,jt),vo=Ut(je,Wt);return qt(vo,yn),vo.length},Wn=(me,je,jt,yn)=>{const Wt=jt.getBookmark(),vo=me.select("td[data-mce-selected],th[data-mce-selected]"),to=vo.length>0?ui(me,vo):Yo(me,jt.getRng()),Rn=Ut(je,to);return qt(Rn,yn),jt.moveToBookmark(Wt),Rn.length},yo=me=>me.getAttribute("data-mce-index"),Do=(me,je,jt,yn)=>{const Wt=me.dom.create("span",{"data-mce-bogus":1});Wt.className="mce-match-marker";const vo=me.getBody();return Ve(me,je,!1),yn?Wn(me.dom,jt,me.selection,Wt):Gn(me.dom,jt,vo,Wt)},Yn=me=>{const je=me.parentNode;me.firstChild&&je.insertBefore(me.firstChild,me),me.parentNode?.removeChild(me)},ss=(me,je)=>{const jt=[],yn=at.toArray(me.getBody().getElementsByTagName("span"));if(yn.length)for(let Wt=0;Wt<yn.length;Wt++){const vo=yo(yn[Wt]);vo===null||!vo.length||vo===je.toString()&&jt.push(yn[Wt])}return jt},La=(me,je,jt)=>{const yn=je.get();let Wt=yn.index;const vo=me.dom;jt?Wt+1===yn.count?Wt=0:Wt++:Wt-1===-1?Wt=yn.count-1:Wt--,vo.removeClass(ss(me,yn.index),"mce-match-marker-selected");const to=ss(me,Wt);return to.length?(vo.addClass(ss(me,Wt),"mce-match-marker-selected"),me.selection.scrollIntoView(to[0]),Wt):-1},sl=(me,je)=>{const jt=je.parentNode;me.remove(je),jt&&me.isEmpty(jt)&&me.remove(jt)},gi=(me,je)=>{const yn="("+me.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return je?`(?:^|\\s|${P()})`+yn+`(?=$|\\s|${P()})`:yn},Bn=(me,je,jt,yn,Wt,vo)=>{const to=me.selection,Rn=gi(jt,Wt),Ho=to.isForward(),ps={regex:new RegExp(Rn,yn?"g":"gi"),matchIndex:1},ws=Do(me,je,ps,vo);if(zt.browser.isSafari()&&to.setRng(to.getRng(),Ho),ws){const Cs=La(me,je,!0);je.set({index:Cs,count:ws,text:jt,matchCase:yn,wholeWord:Wt,inSelection:vo})}return ws},Ys=(me,je)=>{const jt=La(me,je,!0);je.set({...je.get(),index:jt})},Xs=(me,je)=>{const jt=La(me,je,!1);je.set({...je.get(),index:jt})},jl=me=>{const je=yo(me);return je!==null&&je.length>0},Pe=(me,je,jt,yn,Wt)=>{const vo=je.get(),to=vo.index;let Rn,Ho=to;yn=yn!==!1;const ps=me.getBody(),ws=at.grep(at.toArray(ps.getElementsByTagName("span")),jl);for(let Cs=0;Cs<ws.length;Cs++){const oa=yo(ws[Cs]);let Ca=Rn=parseInt(oa,10);if(Wt||Ca===vo.index){for(jt.length?(ws[Cs].innerText=jt,Yn(ws[Cs])):sl(me.dom,ws[Cs]);ws[++Cs];)if(Ca=parseInt(yo(ws[Cs]),10),Ca===Rn)sl(me.dom,ws[Cs]);else{Cs--;break}yn&&Ho--}else Rn>to&&ws[Cs].setAttribute("data-mce-index",String(Rn-1))}return je.set({...vo,count:Wt?0:vo.count-1,index:Ho}),yn?Ys(me,je):Xs(me,je),!Wt&&je.get().count>0},Ve=(me,je,jt)=>{let yn,Wt;const vo=je.get(),to=at.toArray(me.getBody().getElementsByTagName("span"));for(let Rn=0;Rn<to.length;Rn++){const Ho=yo(to[Rn]);Ho!==null&&Ho.length&&(Ho===vo.index.toString()&&(yn||(yn=to[Rn].firstChild),Wt=to[Rn].firstChild),Yn(to[Rn]))}if(je.set({...vo,index:-1,count:0,text:""}),yn&&Wt){const Rn=me.dom.createRng();return Rn.setStart(yn,0),Rn.setEnd(Wt,Wt.data.length),jt!==!1&&me.selection.setRng(Rn),Rn}else return},tt=(me,je)=>je.get().count>1,mn=(me,je)=>je.get().count>1,To=(me,je)=>({done:Rn=>Ve(me,je,Rn),find:(Rn,Ho,ps,ws=!1)=>Bn(me,je,Rn,Ho,ps,ws),next:()=>Ys(me,je),prev:()=>Xs(me,je),replace:(Rn,Ho,ps)=>Pe(me,je,Rn,Ho,ps)}),lo=(me,je)=>{const jt=Ne();me.undoManager.add();const yn=at.trim(me.selection.getContent({format:"text"})),Wt=wr=>{wr.setEnabled("next",tt(me,je)),wr.setEnabled("prev",mn(me,je))},vo=wr=>{const Bs=wr.getData(),or=je.get();je.set({...or,matchCase:Bs.matchcase,wholeWord:Bs.wholewords,inSelection:Bs.inselection})},to=(wr,Bs)=>{ct(["replace","replaceall","prev","next"],Ci=>wr.setEnabled(Ci,!Bs))},Rn=(wr,Bs)=>{Bs.redial(Qf(wr,Bs.getData()))},Ho=(wr,Bs)=>{zt.browser.isSafari()&&zt.deviceType.isTouch()&&(Bs==="find"||Bs==="replace"||Bs==="replaceall")&&wr.focus(Bs)},ps=wr=>{Ve(me,je,!1),to(wr,!0),Wt(wr)},ws=wr=>{const Bs=wr.getData(),or=je.get();if(!Bs.findtext.length){ps(wr);return}if(or.text===Bs.findtext&&or.matchCase===Bs.matchcase&&or.wholeWord===Bs.wholewords)Ys(me,je);else{const Vi=Bn(me,je,Bs.findtext,Bs.matchcase,Bs.wholewords,Bs.inselection);Vi<=0&&Rn(!0,wr),to(wr,Vi===0)}Wt(wr)},Cs=je.get(),oa={findtext:yn,replacetext:"",wholewords:Cs.wholeWord,matchcase:Cs.matchCase,inselection:Cs.inSelection},Ca=wr=>{const Bs=[{type:"label",label:"Find",for:"findtext",items:[{type:"bar",items:[{type:"input",name:"findtext",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]}]},{type:"input",name:"replacetext",label:"Replace with",inputMode:"search"}];return wr&&Bs.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),Bs},Qf=(wr,Bs)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:Ca(wr)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:Bs,onChange:(or,Vi)=>{wr&&Rn(!1,or),Vi.name==="findtext"&&je.get().count>0&&ps(or)},onAction:(or,Vi)=>{const Ci=or.getData();switch(Vi.name){case"find":ws(or);break;case"replace":Pe(me,je,Ci.replacetext)?Wt(or):ps(or);break;case"replaceall":Pe(me,je,Ci.replacetext,!0,!0),ps(or);break;case"prev":Xs(me,je),Wt(or);break;case"next":Ys(me,je),Wt(or);break;case"matchcase":case"wholewords":case"inselection":Rn(!1,or),vo(or),ps(or);break}Ho(or,Vi.name)},onSubmit:or=>{ws(or),Ho(or,"find")},onClose:()=>{me.focus(),Ve(me,je),me.undoManager.add()}});jt.set(me.windowManager.open(Qf(!1,oa),{inline:"toolbar"}))},Vo=(me,je)=>{me.addCommand("SearchReplace",()=>{lo(me,je)})},is=(me,je)=>()=>{lo(me,je)},Ao=(me,je)=>{me.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:is(me,je),icon:"search"}),me.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:is(me,je),icon:"search",shortcut:"Meta+F"}),me.shortcuts.add("Meta+F","",is(me,je))};var qs=()=>{Jo.add("searchreplace",me=>{const je=dn({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return Vo(me,je),Ao(me,je),To(me,je)})};qs()})()),Sae}var Tae;function bxe(){return Tae||(Tae=1,pxe()),Cae}bxe();var Aae={},kae={},_ae;function yxe(){return _ae||(_ae=1,(function(){const l=fe=>{let Ce=fe;return{get:()=>Ce,set:be=>{Ce=be}}};var u=tinymce.util.Tools.resolve("tinymce.PluginManager");const p=(fe,Ce)=>{fe.dispatch("VisualBlocks",{state:Ce})},x=(fe,Ce,pe)=>{fe.dom.toggleClass(fe.getBody(),"mce-visualblocks"),pe.set(!pe.get()),p(fe,pe.get())},A=(fe,Ce,pe)=>{fe.addCommand("mceVisualBlocks",()=>{x(fe,Ce,pe)})},M=fe=>Ce=>Ce.options.get(fe),O=fe=>{const Ce=fe.options.register;Ce("visualblocks_default_state",{processor:"boolean",default:!1})},I=M("visualblocks_default_state"),U=(fe,Ce,pe)=>{fe.on("PreviewFormats AfterPreviewFormats",$e=>{pe.get()&&fe.dom.toggleClass(fe.getBody(),"mce-visualblocks",$e.type==="afterpreviewformats")}),fe.on("init",()=>{I(fe)&&x(fe,Ce,pe)})},V=(fe,Ce)=>pe=>{pe.setActive(Ce.get());const $e=be=>pe.setActive(be.state);return fe.on("VisualBlocks",$e),()=>fe.off("VisualBlocks",$e)},Y=(fe,Ce)=>{const pe=()=>fe.execCommand("mceVisualBlocks");fe.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:pe,onSetup:V(fe,Ce),context:"any"}),fe.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:pe,onSetup:V(fe,Ce),context:"any"})};var ee=()=>{u.add("visualblocks",(fe,Ce)=>{O(fe);const pe=l(!1);A(fe,Ce,pe),Y(fe,pe),U(fe,Ce,pe)})};ee()})()),kae}var Dae;function vxe(){return Dae||(Dae=1,yxe()),Aae}vxe();var Oae={},Nae={},Rae;function xxe(){return Rae||(Rae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=(I,U)=>{I.focus(),I.undoManager.transact(()=>{I.setContent(U)}),I.selection.setCursorLocation(),I.nodeChanged()},p=I=>I.getContent({source_view:!0}),x=I=>{const U=p(I);I.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code",spellcheck:!1}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:U},onSubmit:V=>{u(I,V.getData().code),V.close()}})},A=I=>{I.addCommand("mceCodeEditor",()=>{x(I)})},M=I=>{const U=()=>I.execCommand("mceCodeEditor");I.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:U}),I.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:U})};var O=()=>{l.add("code",I=>(A(I),M(I),{}))};O()})()),Nae}var Mae;function wxe(){return Mae||(Mae=1,xxe()),Oae}wxe();var Bae={},Lae={},Fae;function Cxe(){return Fae||(Fae=1,(function(){const l=(ye,Me,ft)=>ft(ye,Me.prototype)?!0:ye.constructor?.name===Me.name,u=ye=>{const Me=typeof ye;return ye===null?"null":Me==="object"&&Array.isArray(ye)?"array":Me==="object"&&l(ye,String,(ft,Kt)=>Kt.isPrototypeOf(ft))?"string":Me},p=ye=>Me=>u(Me)===ye,x=ye=>Me=>typeof Me===ye,A=ye=>Me=>ye===Me,M=p("string"),O=p("object"),I=p("array"),U=A(null),V=x("boolean"),Y=A(void 0),ee=ye=>ye==null,fe=ye=>!ee(ye),Ce=x("function"),pe=x("number"),$e=()=>{},be=(ye,Me)=>(...ft)=>ye(Me.apply(null,ft)),ct=(ye,Me)=>ft=>ye(Me(ft)),Oe=ye=>()=>ye;function J(ye,...Me){return(...ft)=>{const Kt=Me.concat(ft);return ye.apply(null,Kt)}}const rt=Oe(!1),It=Oe(!0);class qe{tag;value;static singletonNone=new qe(!1);constructor(Me,ft){this.tag=Me,this.value=ft}static some(Me){return new qe(!0,Me)}static none(){return qe.singletonNone}fold(Me,ft){return this.tag?ft(this.value):Me()}isSome(){return this.tag}isNone(){return!this.tag}map(Me){return this.tag?qe.some(Me(this.value)):qe.none()}bind(Me){return this.tag?Me(this.value):qe.none()}exists(Me){return this.tag&&Me(this.value)}forall(Me){return!this.tag||Me(this.value)}filter(Me){return!this.tag||Me(this.value)?this:qe.none()}getOr(Me){return this.tag?this.value:Me}or(Me){return this.tag?this:Me}getOrThunk(Me){return this.tag?this.value:Me()}orThunk(Me){return this.tag?this:Me()}getOrDie(Me){if(this.tag)return this.value;throw new Error(Me??"Called getOrDie on None")}static from(Me){return fe(Me)?qe.some(Me):qe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Me){this.tag&&Me(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const ae=Array.prototype.push,lt=(ye,Me)=>{const ft=ye.length,Kt=new Array(ft);for(let po=0;po<ft;po++){const ms=ye[po];Kt[po]=Me(ms,po)}return Kt},En=(ye,Me)=>{for(let ft=0,Kt=ye.length;ft<Kt;ft++){const po=ye[ft];Me(po,ft)}},dn=(ye,Me)=>{const ft=[];for(let Kt=0,po=ye.length;Kt<po;Kt++){const ms=ye[Kt];Me(ms,Kt)&&ft.push(ms)}return ft},We=(ye,Me,ft)=>{for(let Kt=0,po=ye.length;Kt<po;Kt++){const ms=ye[Kt];if(Me(ms,Kt))return qe.some(ms);if(ft(ms,Kt))break}return qe.none()},Ne=(ye,Me)=>We(ye,Me,rt),Jo=ye=>{const Me=[];for(let ft=0,Kt=ye.length;ft<Kt;++ft){if(!I(ye[ft]))throw new Error("Arr.flatten item "+ft+" was not an array, input: "+ye);ae.apply(Me,ye[ft])}return Me},yt=(ye,Me)=>Jo(lt(ye,Me)),Mt=(ye,Me)=>Me>=0&&Me<ye.length?qe.some(ye[Me]):qe.none(),P=ye=>Mt(ye,0),zt=(ye,Me)=>{for(let ft=0;ft<ye.length;ft++){const Kt=Me(ye[ft],ft);if(Kt.isSome())return Kt}return qe.none()},at=Object.keys,Jn=(ye,Me)=>{const ft=at(ye);for(let Kt=0,po=ft.length;Kt<po;Kt++){const ms=ft[Kt],Ea=ye[ms];Me(Ea,ms)}},an=ye=>{let Me=ye;return{get:()=>Me,set:po=>{Me=po}}},le=typeof window<"u"?window:Function("return this;")(),Ue=(ye,Me,ft)=>ye.isSome()&&Me.isSome()?qe.some(ft(ye.getOrDie(),Me.getOrDie())):qe.none(),Pt=(ye,Me)=>{let ft=Me??le;for(let Kt=0;Kt<ye.length&&ft!==void 0&&ft!==null;++Kt)ft=ft[ye[Kt]];return ft},Re=(ye,Me)=>{const ft=ye.split(".");return Pt(ft,Me)},gt=ye=>{const Me=an(qe.none()),ft=()=>Me.get().each(ye);return{clear:()=>{ft(),Me.set(qe.none())},isSet:()=>Me.get().isSome(),get:()=>Me.get(),set:il=>{ft(),Me.set(qe.some(il))}}},He=()=>gt(ye=>ye.unbind()),dt=()=>{const ye=gt($e);return{...ye,on:ft=>ye.get().each(ft)}},X=(ye,Me,ft=0,Kt)=>{const po=ye.indexOf(Me,ft);return po!==-1?Y(Kt)?!0:po+Me.length<=Kt:!1},zo=(ye,Me)=>{let ft=null;return{cancel:()=>{U(ft)||(clearTimeout(ft),ft=null)},throttle:(...ms)=>{U(ft)&&(ft=setTimeout(()=>{ft=null,ye.apply(null,ms)},Me))}}},Eo=ye=>{let Me=!1,ft;return(...Kt)=>(Me||(Me=!0,ft=ye.apply(null,Kt)),ft)};var Lo=tinymce.util.Tools.resolve("tinymce.PluginManager");const jo=ye=>({isFullscreen:()=>ye.get()!==null}),Ks=(ye,Me)=>{const Kt=(Me||document).createElement("div");if(Kt.innerHTML=ye,!Kt.hasChildNodes()||Kt.childNodes.length>1){const po="HTML does not have a single root node";throw console.error(po,ye),new Error(po)}return et(Kt.childNodes[0])},Be=(ye,Me)=>{const Kt=(Me||document).createElement(ye);return et(Kt)},Ye=(ye,Me)=>{const Kt=(Me||document).createTextNode(ye);return et(Kt)},et=ye=>{if(ye==null)throw new Error("Node cannot be null or undefined");return{dom:ye}},Je={fromHtml:Ks,fromTag:Be,fromText:Ye,fromDom:et,fromPoint:(ye,Me,ft)=>qe.from(ye.dom.elementFromPoint(Me,ft)).map(et)},Ot=9,xt=11,jn=1,go=3,vt=(ye,Me)=>{const ft=ye.dom;if(ft.nodeType!==jn)return!1;{const Kt=ft;if(Kt.matches!==void 0)return Kt.matches(Me);if(Kt.msMatchesSelector!==void 0)return Kt.msMatchesSelector(Me);if(Kt.webkitMatchesSelector!==void 0)return Kt.webkitMatchesSelector(Me);if(Kt.mozMatchesSelector!==void 0)return Kt.mozMatchesSelector(Me);throw new Error("Browser lacks native selectors")}},ln=ye=>ye.nodeType!==jn&&ye.nodeType!==Ot&&ye.nodeType!==xt||ye.childElementCount===0,Un=(ye,Me)=>{const ft=document;return ln(ft)?[]:lt(ft.querySelectorAll(ye),Je.fromDom)},Qo=(ye,Me)=>ye.dom===Me.dom,mr=(ye,Me,ft,Kt)=>{const po=ye.isiOS()&&/ipad/i.test(ft)===!0,ms=ye.isiOS()&&!po,Ea=ye.isiOS()||ye.isAndroid(),il=Ea||Kt("(pointer:coarse)"),Zi=po||!ms&&Ea&&Kt("(min-device-width:768px)"),Ul=ms||Ea&&!Zi,Qd=Me.isSafari()&&ye.isiOS()&&/safari/i.test(ft)===!1,Zl=!Ul&&!Zi&&!Qd;return{isiPad:Oe(po),isiPhone:Oe(ms),isTablet:Oe(Zi),isPhone:Oe(Ul),isTouch:Oe(il),isAndroid:ye.isAndroid,isiOS:ye.isiOS,isWebView:Oe(Qd),isDesktop:Oe(Zl)}},gs=(ye,Me)=>{for(let ft=0;ft<ye.length;ft++){const Kt=ye[ft];if(Kt.test(Me))return Kt}},Io=(ye,Me)=>{const ft=gs(ye,Me);if(!ft)return{major:0,minor:0};const Kt=po=>Number(Me.replace(ft,"$"+po));return Ms(Kt(1),Kt(2))},Gr=(ye,Me)=>{const ft=String(Me).toLowerCase();return ye.length===0?_s():Io(ye,ft)},_s=()=>Ms(0,0),Ms=(ye,Me)=>({major:ye,minor:Me}),Ra={nu:Ms,detect:Gr,unknown:_s},Kr=(ye,Me)=>zt(Me.brands,ft=>{const Kt=ft.brand.toLowerCase();return Ne(ye,po=>Kt===po.brand?.toLowerCase()).map(po=>({current:po.name,version:Ra.nu(parseInt(ft.version,10),0)}))}),Or=(ye,Me)=>{const ft=String(Me).toLowerCase();return Ne(ye,Kt=>Kt.search(ft))},xs=(ye,Me)=>Or(ye,Me).map(ft=>{const Kt=Ra.detect(ft.versionRegexes,Me);return{current:ft.name,version:Kt}}),Yr=(ye,Me)=>Or(ye,Me).map(ft=>{const Kt=Ra.detect(ft.versionRegexes,Me);return{current:ft.name,version:Kt}}),Is=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Xr=ye=>Me=>X(Me,ye),Ma=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:ye=>X(ye,"edge/")&&X(ye,"chrome")&&X(ye,"safari")&&X(ye,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Is],search:ye=>X(ye,"chrome")&&!X(ye,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:ye=>X(ye,"msie")||X(ye,"trident")},{name:"Opera",versionRegexes:[Is,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Xr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Xr("firefox")},{name:"Safari",versionRegexes:[Is,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:ye=>(X(ye,"safari")||X(ye,"mobile/"))&&X(ye,"applewebkit")}],$n=[{name:"Windows",search:Xr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:ye=>X(ye,"iphone")||X(ye,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Xr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Xr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Xr("linux"),versionRegexes:[]},{name:"Solaris",search:Xr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Xr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Xr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Yo={browsers:Oe(Ma),oses:Oe($n)},_o="Edge",ui="Chromium",Ba="IE",Nn="Opera",Ut="Firefox",qt="Safari",Gn=()=>Wn({current:void 0,version:Ra.unknown()}),Wn=ye=>{const Me=ye.current,ft=ye.version,Kt=po=>()=>Me===po;return{current:Me,version:ft,isEdge:Kt(_o),isChromium:Kt(ui),isIE:Kt(Ba),isOpera:Kt(Nn),isFirefox:Kt(Ut),isSafari:Kt(qt)}},yo={unknown:Gn,nu:Wn},Do="Windows",Yn="iOS",ss="Android",La="Linux",sl="macOS",gi="Solaris",Bn="FreeBSD",Ys="ChromeOS",Xs=()=>jl({current:void 0,version:Ra.unknown()}),jl=ye=>{const Me=ye.current,ft=ye.version,Kt=po=>()=>Me===po;return{current:Me,version:ft,isWindows:Kt(Do),isiOS:Kt(Yn),isAndroid:Kt(ss),isMacOS:Kt(sl),isLinux:Kt(La),isSolaris:Kt(gi),isFreeBSD:Kt(Bn),isChromeOS:Kt(Ys)}},Pe={unknown:Xs,nu:jl},tt={detect:(ye,Me,ft)=>{const Kt=Yo.browsers(),po=Yo.oses(),ms=Me.bind(Zi=>Kr(Kt,Zi)).orThunk(()=>xs(Kt,ye)).fold(yo.unknown,yo.nu),Ea=Yr(po,ye).fold(Pe.unknown,Pe.nu),il=mr(Ea,ms,ye,ft);return{browser:ms,os:Ea,deviceType:il}}},mn=ye=>window.matchMedia(ye).matches;let To=Eo(()=>tt.detect(window.navigator.userAgent,qe.from(window.navigator.userAgentData),mn));const lo=()=>To(),Vo=(ye,Me)=>Re(ye,Me),is=(ye,Me)=>{const ft=Vo(ye,Me);if(ft==null)throw new Error(ye+" not available on this browser");return ft},Ao=Object.getPrototypeOf,qs=ye=>is("HTMLElement",ye),me=ye=>{const Me=Re("ownerDocument.defaultView",ye);return O(ye)&&(qs(Me).prototype.isPrototypeOf(ye)||/^HTML\w*Element$/.test(Ao(ye).constructor.name))},je=ye=>ye.dom.nodeType,jt=ye=>Me=>je(Me)===ye,yn=ye=>Wt(ye)&&me(ye.dom),Wt=jt(jn),vo=jt(go),to=jt(xt),Rn=ye=>Je.fromDom(ye.dom.ownerDocument),Ho=ye=>qe.from(ye.dom.parentNode).map(Je.fromDom),ps=(ye,Me)=>{const ft=Ce(Me)?Me:rt;let Kt=ye.dom;const po=[];for(;Kt.parentNode!==null&&Kt.parentNode!==void 0;){const ms=Kt.parentNode,Ea=Je.fromDom(ms);if(po.push(Ea),ft(Ea)===!0)break;Kt=ms}return po},ws=ye=>{const Me=ft=>dn(ft,Kt=>!Qo(ye,Kt));return Ho(ye).map(oa).map(Me).getOr([])},Cs=ye=>qe.from(ye.dom.nextSibling).map(Je.fromDom),oa=ye=>lt(ye.dom.childNodes,Je.fromDom),Ca=ye=>to(ye)&&fe(ye.dom.host),Qf=ye=>Je.fromDom(ye.dom.getRootNode()),wr=ye=>{const Me=Qf(ye);return Ca(Me)?qe.some(Me):qe.none()},Bs=ye=>Je.fromDom(ye.dom.host),or=ye=>{if(fe(ye.target)){const Me=Je.fromDom(ye.target);if(Wt(Me)&&Vi(Me)&&ye.composed&&ye.composedPath){const ft=ye.composedPath();if(ft)return P(ft)}}return qe.from(ye.target)},Vi=ye=>fe(ye.dom.shadowRoot),Ci=(ye,Me,ft,Kt,po,ms,Ea)=>({target:ye,x:Me,y:ft,stop:Kt,prevent:po,kill:ms,raw:Ea}),Lr=ye=>{const Me=Je.fromDom(or(ye).getOr(ye.target)),ft=()=>ye.stopPropagation(),Kt=()=>ye.preventDefault(),po=be(Kt,ft);return Ci(Me,ye.clientX,ye.clientY,ft,Kt,po,ye)},xo=(ye,Me)=>ft=>{ye(ft)&&Me(Lr(ft))},Si=(ye,Me,ft,Kt,po)=>{const ms=xo(ft,Kt);return ye.dom.addEventListener(Me,ms,po),{unbind:J(Qr,ye,Me,ms,po)}},oi=(ye,Me,ft,Kt)=>Si(ye,Me,ft,Kt,!1),Qr=(ye,Me,ft,Kt)=>{ye.dom.removeEventListener(Me,ft,Kt)},Sf=It,uc=(ye,Me,ft)=>oi(ye,Me,Sf,ft),Fr=(ye,Me,ft)=>{if(M(ft)||V(ft)||pe(ft))ye.setAttribute(Me,ft+"");else throw console.error("Invalid call to Attribute.set. Key ",Me,":: Value ",ft,":: Element ",ye),new Error("Attribute value was not simple")},Cu=(ye,Me,ft)=>{Fr(ye.dom,Me,ft)},dc=(ye,Me)=>{const ft=ye.dom.getAttribute(Me);return ft===null?void 0:ft},Ef=(ye,Me)=>{ye.dom.removeAttribute(Me)},Sn=ye=>ye.style!==void 0&&Ce(ye.style.getPropertyValue),Su=ye=>{const Me=vo(ye)?ye.dom.parentNode:ye.dom;if(Me==null||Me.ownerDocument===null)return!1;const ft=Me.ownerDocument;return wr(Je.fromDom(Me)).fold(()=>ft.body.contains(Me),ct(Su,Bs))},Ri=ye=>{const Me=ye.dom.body;if(Me==null)throw new Error("Body is not available yet");return Je.fromDom(Me)},pi=(ye,Me,ft)=>{if(!M(ft))throw console.error("Invalid call to CSS.set. Property ",Me,":: Value ",ft,":: Element ",ye),new Error("CSS value must be a string: "+ft);Sn(ye)&&ye.style.setProperty(Me,ft)},jr=(ye,Me,ft)=>{const Kt=ye.dom;pi(Kt,Me,ft)},Kd=(ye,Me)=>{const ft=ye.dom;Jn(Me,(Kt,po)=>{pi(ft,po,Kt)})},Ei=(ye,Me)=>{const ft=ye.dom,po=window.getComputedStyle(ft).getPropertyValue(Me);return po===""&&!Su(ye)?rl(ft,Me):po},rl=(ye,Me)=>Sn(ye)?ye.style.getPropertyValue(Me):"",Tf=(ye,Me)=>({left:ye,top:Me,translate:(Kt,po)=>Tf(ye+Kt,Me+po)}),Jf=Tf,Eu=ye=>{const Me=ye!==void 0?ye.dom:document,ft=Me.body.scrollLeft||Me.documentElement.scrollLeft,Kt=Me.body.scrollTop||Me.documentElement.scrollTop;return Jf(ft,Kt)},Yd=ye=>ye.dom.classList!==void 0,_l=(ye,Me)=>Yd(ye)&&ye.dom.classList.contains(Me),qc=(ye,Me,ft)=>dn(ps(ye,ft),Me),Gc=(ye,Me)=>dn(ws(ye),Me),un=ye=>Un(ye),Tu=(ye,Me,ft)=>qc(ye,Kt=>vt(Kt,Me),ft),yd=(ye,Me)=>Gc(ye,ft=>vt(ft,Me)),Vl=ye=>{const Me=ye===void 0?window:ye;return lo().browser.isFirefox()?qe.none():qe.from(Me.visualViewport)},al=(ye,Me,ft,Kt)=>({x:ye,y:Me,width:ft,height:Kt,right:ye+ft,bottom:Me+Kt}),Uu=ye=>{const Me=ye===void 0?window:ye,ft=Me.document,Kt=Eu(Je.fromDom(ft));return Vl(Me).fold(()=>{const po=Me.document.documentElement,ms=po.clientWidth,Ea=po.clientHeight;return al(Kt.left,Kt.top,ms,Ea)},po=>al(Math.max(po.pageLeft,Kt.left),Math.max(po.pageTop,Kt.top),po.width,po.height))},Ui=(ye,Me,ft)=>Vl(ft).map(Kt=>{const po=ms=>Me(Lr(ms));return Kt.addEventListener(ye,po),{unbind:()=>Kt.removeEventListener(ye,po)}}).getOrThunk(()=>({unbind:$e}));var si=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Dl=tinymce.util.Tools.resolve("tinymce.Env");const fc=(ye,Me)=>{ye.dispatch("FullscreenStateChanged",{state:Me}),ye.dispatch("ResizeEditor")},Vs=ye=>Me=>Me.options.get(ye),Af=ye=>{const Me=ye.options.register;Me("fullscreen_native",{processor:"boolean",default:!1})},te=Vs("fullscreen_native"),ve=ye=>{const Me=Je.fromDom(ye.getElement());return wr(Me).map(Bs).getOrThunk(()=>Ri(Rn(Me)))},Fe=ye=>ye.fullscreenElement!==void 0?ye.fullscreenElement:ye.msFullscreenElement!==void 0?ye.msFullscreenElement:ye.webkitFullscreenElement!==void 0?ye.webkitFullscreenElement:null,Dt=()=>document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange",Zn=ye=>{const Me=ye.dom;Me.requestFullscreen?Me.requestFullscreen():Me.msRequestFullscreen?Me.msRequestFullscreen():Me.webkitRequestFullScreen&&Me.webkitRequestFullScreen()},fs=ye=>{const Me=ye.dom;Me.exitFullscreen?Me.exitFullscreen():Me.msExitFullscreen?Me.msExitFullscreen():Me.webkitCancelFullScreen&&Me.webkitCancelFullScreen()},sr=ye=>ye.dom===Fe(Rn(ye).dom),Ua="data-ephox-mobile-fullscreen-style",Ti="display:none!important;",Ol="position:absolute!important;",oe="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",Ae="background-color:rgb(255,255,255)!important;",Xe=Dl.os.isAndroid(),Et=ye=>{const Me=Ei(ye,"background-color");return Me!==void 0&&Me!==""?"background-color:"+Me+"!important":Ae},hn=(ye,Me,ft)=>{const Kt=Ul=>yd(Ul,"*:not(.tox-silver-sink)"),po=Ul=>Qd=>{const Zl=dc(Qd,"style"),Nm=Zl===void 0?"no-styles":Zl.trim();Nm!==Ul&&(Cu(Qd,Ua,Nm),Kd(Qd,ye.parseStyle(Ul)))},ms=Tu(Me,"*"),Ea=yt(ms,Kt),il=Et(ft);En(Ea,po(Ti)),En(ms,po(Ol+oe+il)),po((Xe===!0?"":Ol)+oe+il)(Me)},Vn=ye=>{const Me=un("["+Ua+"]");En(Me,ft=>{const Kt=dc(ft,Ua);Kt&&Kt!=="no-styles"?Kd(ft,ye.parseStyle(Kt)):Ef(ft,"style"),Ef(ft,Ua)})},Mo=si.DOM,Us=()=>Uu(window),Ts=ye=>window.scrollTo(ye.x,ye.y),Mi=Vl().fold(()=>({bind:$e,unbind:$e}),ye=>{const Me=dt(),ft=He(),Kt=He(),po=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},ms=()=>{window.requestAnimationFrame(()=>{Me.on(Ul=>Kd(Ul,{top:ye.offsetTop+"px",left:ye.offsetLeft+"px",height:ye.height+"px",width:ye.width+"px"}))})},Ea=zo(()=>{po(),ms()},50);return{bind:Ul=>{Me.set(Ul),Ea.throttle(),ft.set(Ui("resize",Ea.throttle)),Kt.set(Ui("scroll",Ea.throttle))},unbind:()=>{Me.on(()=>{ft.clear(),Kt.clear()}),Me.clear()}}}),Sa=(ye,Me)=>{const ft=document.body,Kt=document.documentElement,po=ye.getContainer(),ms=Je.fromDom(po),Ea=Cs(ms).filter(Dc=>yn(Dc)&&_l(Dc,"tox-silver-sink")),il=ve(ye),Zi=Me.get(),Ul=Je.fromDom(ye.getBody()),Qd=Dl.deviceType.isTouch(),Zl=po.style,Wl=ye.iframeElement?.style,ll=Dc=>{Dc(ft,"tox-fullscreen"),Dc(Kt,"tox-fullscreen"),Dc(po,"tox-fullscreen"),wr(ms).map(ls=>Bs(ls).dom).each(ls=>{Dc(ls,"tox-fullscreen"),Dc(ls,"tox-shadowhost")})},Jd=()=>{Qd&&Vn(ye.dom),ll(Mo.removeClass),Mi.unbind(),qe.from(Me.get()).each(Dc=>Dc.fullscreenChangeHandler.unbind())};if(Zi)Zi.fullscreenChangeHandler.unbind(),te(ye)&&sr(il)&&fs(Rn(il)),Wl.width=Zi.iframeWidth,Wl.height=Zi.iframeHeight,Zl.width=Zi.containerWidth,Zl.height=Zi.containerHeight,Zl.top=Zi.containerTop,Zl.left=Zi.containerLeft,Ue(Ea,Zi.sinkCssPosition,(Dc,ls)=>{jr(Dc,"position",ls)}),Jd(),Ts(Zi.scrollPos),Me.set(null),fc(ye,!1),ye.off("remove",Jd);else{const Dc=uc(Rn(il),Dt(),vh=>{te(ye)&&!sr(il)&&Me.get()!==null&&Sa(ye,Me)}),ls={scrollPos:Us(),containerWidth:Zl.width,containerHeight:Zl.height,containerTop:Zl.top,containerLeft:Zl.left,iframeWidth:Wl.width,iframeHeight:Wl.height,fullscreenChangeHandler:Dc,sinkCssPosition:Ea.map(vh=>Ei(vh,"position"))};Qd&&hn(ye.dom,ms,Ul),Wl.width=Wl.height="100%",Zl.width=Zl.height="",ll(Mo.addClass),Ea.each(vh=>{jr(vh,"position","fixed")}),Mi.bind(ms),ye.on("remove",Jd),Me.set(ls),te(ye)&&Zn(il),fc(ye,!0)}},Xd=(ye,Me)=>{ye.addCommand("mceFullScreen",()=>{Sa(ye,Me)})};var Om=tinymce.util.Tools.resolve("tinymce.util.VK");const kf=(ye,Me)=>{ye.on("init",()=>{ye.on("keydown",ft=>{ft.keyCode===Om.TAB&&!(ft.metaKey||ft.ctrlKey)&&Me.get()&&ft.preventDefault()})})},Kc=(ye,Me)=>ft=>{ft.setActive(Me.get()!==null);const Kt=po=>ft.setActive(po.state);return ye.on("FullscreenStateChanged",Kt),()=>ye.off("FullscreenStateChanged",Kt)},R0=(ye,Me)=>{const ft=()=>ye.execCommand("mceFullScreen");ye.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:ft,onSetup:Kc(ye,Me),context:"any"}),ye.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:ft,onSetup:Kc(ye,Me),shortcut:"Meta+Shift+F",context:"any"})};var M0=()=>{Lo.add("fullscreen",ye=>{const Me=an(null);return ye.inline||(Af(ye),Xd(ye,Me),R0(ye,Me),kf(ye,Me),ye.addShortcut("Meta+Shift+F","","mceFullScreen")),jo(Me)})};M0()})()),Lae}var Pae;function Sxe(){return Pae||(Pae=1,Cxe()),Bae}Sxe();var $ae={},Iae={},Hae;function Exe(){return Hae||(Hae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=qe=>ae=>ae.options.get(qe),p=qe=>{const ae=qe.options.register;ae("insertdatetime_dateformat",{processor:"string",default:qe.translate("%Y-%m-%d")}),ae("insertdatetime_timeformat",{processor:"string",default:qe.translate("%H:%M:%S")}),ae("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),ae("insertdatetime_element",{processor:"boolean",default:!1})},x=u("insertdatetime_dateformat"),A=u("insertdatetime_timeformat"),M=u("insertdatetime_formats"),O=u("insertdatetime_element"),I=qe=>{const ae=M(qe);return ae.length>0?ae[0]:A(qe)},U="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),V="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Y="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ee="January February March April May June July August September October November December".split(" "),fe=(qe,ae)=>{if(qe=""+qe,qe.length<ae)for(let lt=0;lt<ae-qe.length;lt++)qe="0"+qe;return qe},Ce=(qe,ae,lt=new Date)=>(ae=ae.replace("%D","%m/%d/%Y"),ae=ae.replace("%r","%I:%M:%S %p"),ae=ae.replace("%Y",""+lt.getFullYear()),ae=ae.replace("%y",""+lt.getYear()),ae=ae.replace("%m",fe(lt.getMonth()+1,2)),ae=ae.replace("%d",fe(lt.getDate(),2)),ae=ae.replace("%H",""+fe(lt.getHours(),2)),ae=ae.replace("%M",""+fe(lt.getMinutes(),2)),ae=ae.replace("%S",""+fe(lt.getSeconds(),2)),ae=ae.replace("%I",""+((lt.getHours()+11)%12+1)),ae=ae.replace("%p",lt.getHours()<12?"AM":"PM"),ae=ae.replace("%B",""+qe.translate(ee[lt.getMonth()])),ae=ae.replace("%b",""+qe.translate(Y[lt.getMonth()])),ae=ae.replace("%A",""+qe.translate(V[lt.getDay()])),ae=ae.replace("%a",""+qe.translate(U[lt.getDay()])),ae=ae.replace("%%","%"),ae),pe=(qe,ae,lt,En)=>{const dn=qe.dom.create("time",{datetime:lt},En);qe.dom.replace(dn,ae),qe.selection.select(dn,!0),qe.selection.collapse(!1)},$e=(qe,ae)=>{if(O(qe)&&qe.selection.isEditable()){const lt=Ce(qe,ae);let En;/%[HMSIp]/.test(ae)?En=Ce(qe,"%Y-%m-%dT%H:%M"):En=Ce(qe,"%Y-%m-%d");const dn=qe.dom.getParent(qe.selection.getStart(),"time");dn?pe(qe,dn,En,lt):qe.insertContent('<time datetime="'+En+'">'+lt+"</time>")}else qe.insertContent(Ce(qe,ae))},be=qe=>{qe.addCommand("mceInsertDate",(ae,lt)=>{$e(qe,lt??x(qe))}),qe.addCommand("mceInsertTime",(ae,lt)=>{$e(qe,lt??A(qe))})},ct=qe=>{let ae=qe;return{get:()=>ae,set:dn=>{ae=dn}}};var Oe=tinymce.util.Tools.resolve("tinymce.util.Tools");const J=qe=>ae=>{const lt=()=>{ae.setEnabled(qe.selection.isEditable())};return qe.on("NodeChange",lt),lt(),()=>{qe.off("NodeChange",lt)}},rt=qe=>{const ae=M(qe),lt=ct(I(qe)),En=We=>qe.execCommand("mceInsertDate",!1,We);qe.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",chevronTooltip:"Insert date/time menu",select:We=>We===lt.get(),fetch:We=>{We(Oe.map(ae,Ne=>({type:"choiceitem",text:Ce(qe,Ne),value:Ne})))},onAction:We=>{En(lt.get())},onItemAction:(We,Ne)=>{lt.set(Ne),En(Ne)},onSetup:J(qe)});const dn=We=>()=>{lt.set(We),En(We)};qe.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:()=>Oe.map(ae,We=>({type:"menuitem",text:Ce(qe,We),onAction:dn(We)})),onSetup:J(qe)})};var It=()=>{l.add("insertdatetime",qe=>{p(qe),be(qe),rt(qe)})};It()})()),Iae}var zae;function Txe(){return zae||(zae=1,Exe()),$ae}Txe();var jae={},Vae={},Uae;function Axe(){return Uae||(Uae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=(Pe,Ve,tt)=>tt(Pe,Ve.prototype)?!0:Pe.constructor?.name===Ve.name,p=Pe=>{const Ve=typeof Pe;return Pe===null?"null":Ve==="object"&&Array.isArray(Pe)?"array":Ve==="object"&&u(Pe,String,(tt,mn)=>mn.isPrototypeOf(tt))?"string":Ve},x=Pe=>Ve=>p(Ve)===Pe,A=x("string"),M=x("object"),O=x("array"),I=Pe=>Pe==null,U=Pe=>!I(Pe);class V{tag;value;static singletonNone=new V(!1);constructor(Ve,tt){this.tag=Ve,this.value=tt}static some(Ve){return new V(!0,Ve)}static none(){return V.singletonNone}fold(Ve,tt){return this.tag?tt(this.value):Ve()}isSome(){return this.tag}isNone(){return!this.tag}map(Ve){return this.tag?V.some(Ve(this.value)):V.none()}bind(Ve){return this.tag?Ve(this.value):V.none()}exists(Ve){return this.tag&&Ve(this.value)}forall(Ve){return!this.tag||Ve(this.value)}filter(Ve){return!this.tag||Ve(this.value)?this:V.none()}getOr(Ve){return this.tag?this.value:Ve}or(Ve){return this.tag?this:Ve}getOrThunk(Ve){return this.tag?this.value:Ve()}orThunk(Ve){return this.tag?this:Ve()}getOrDie(Ve){if(this.tag)return this.value;throw new Error(Ve??"Called getOrDie on None")}static from(Ve){return U(Ve)?V.some(Ve):V.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ve){this.tag&&Ve(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Y=Array.prototype.push,ee=(Pe,Ve)=>{for(let tt=0,mn=Pe.length;tt<mn;tt++){const To=Pe[tt];Ve(To,tt)}},fe=Pe=>{const Ve=[];for(let tt=0,mn=Pe.length;tt<mn;++tt){if(!O(Pe[tt]))throw new Error("Arr.flatten item "+tt+" was not an array, input: "+Pe);Y.apply(Ve,Pe[tt])}return Ve},Ce=Object.keys,pe=Object.hasOwnProperty,$e=(Pe,Ve)=>{const tt=Ce(Pe);for(let mn=0,To=tt.length;mn<To;mn++){const lo=tt[mn],Vo=Pe[lo];Ve(Vo,lo)}},be=(Pe,Ve)=>ct(Pe,Ve)?V.from(Pe[Ve]):V.none(),ct=(Pe,Ve)=>pe.call(Pe,Ve),Oe=Pe=>{let Ve=Pe;return{get:()=>Ve,set:To=>{Ve=To}}},J=(Pe,Ve,tt)=>Pe.length>=Ve.length&&Pe.substr(tt,tt+Ve.length)===Ve,rt=(Pe,Ve)=>J(Pe,Ve,0),It=Pe=>Ve=>Ve.options.get(Pe),qe=Pe=>{const Ve=Pe.options.register;Ve("audio_template_callback",{processor:"function"}),Ve("video_template_callback",{processor:"function"}),Ve("iframe_template_callback",{processor:"function"}),Ve("media_live_embeds",{processor:"boolean",default:!0}),Ve("media_filter_html",{processor:"boolean",default:!0}),Ve("media_url_resolver",{processor:"function"}),Ve("media_alt_source",{processor:"boolean",default:!0}),Ve("media_poster",{processor:"boolean",default:!0}),Ve("media_dimensions",{processor:"boolean",default:!0})},ae=It("audio_template_callback"),lt=It("video_template_callback"),En=It("iframe_template_callback"),dn=It("media_live_embeds"),We=It("media_filter_html"),Ne=It("media_url_resolver"),Jo=It("media_alt_source"),yt=It("media_poster"),Mt=It("media_dimensions");var P=tinymce.util.Tools.resolve("tinymce.util.Tools"),zt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),at=tinymce.util.Tools.resolve("tinymce.html.DomParser");const Jn=zt.DOM,an=Pe=>Pe.replace(/px$/,""),le=Pe=>{const Ve=Pe.attr("style"),tt=Ve?Jn.parseStyle(Ve):{};return{type:"ephox-embed-iri",source:Pe.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:be(tt,"max-width").map(an).getOr(""),height:be(tt,"max-height").map(an).getOr("")}},Ue=(Pe,Ve)=>{let tt={};const To=at({validate:!1,forced_root_block:!1},Ve).parse(Pe);for(let lo=To;lo;lo=lo.walk())if(lo.type===1){const Vo=lo.name;if(lo.attr("data-ephox-embed-iri")){tt=le(lo);break}else!tt.source&&Vo==="param"&&(tt.source=lo.attr("movie")),(Vo==="iframe"||Vo==="object"||Vo==="embed"||Vo==="video"||Vo==="audio")&&(tt.type||(tt.type=Vo),tt=P.extend(lo.attributes.map,tt)),Vo==="source"&&(tt.source?tt.altsource||(tt.altsource=lo.attr("src")):tt.source=lo.attr("src")),Vo==="img"&&!tt.poster&&(tt.poster=lo.attr("src"))}return tt.source=tt.source||tt.src||"",tt.altsource=tt.altsource||"",tt.poster=tt.poster||"",tt},Pt=Pe=>{const Ve={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},tt=Pe.toLowerCase().split(".").pop()??"";return be(Ve,tt).getOr("")};var Re=tinymce.util.Tools.resolve("tinymce.html.Node"),gt=tinymce.util.Tools.resolve("tinymce.html.Serializer");const He=(Pe,Ve={})=>at({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...Ve},Pe),dt=zt.DOM,X=Pe=>/^[0-9.]+$/.test(Pe)?Pe+"px":Pe,zo=(Pe,Ve)=>{const tt=Ve.attr("style"),mn=tt?dt.parseStyle(tt):{};U(Pe.width)&&(mn["max-width"]=X(Pe.width)),U(Pe.height)&&(mn["max-height"]=X(Pe.height)),Ve.attr("style",dt.serializeStyle(mn))},Eo=["source","altsource"],Lo=(Pe,Ve,tt,mn)=>{let To=0,lo=0;const Vo=He(mn);Vo.addNodeFilter("source",Ao=>To=Ao.length);const is=Vo.parse(Pe);for(let Ao=is;Ao;Ao=Ao.walk())if(Ao.type===1){const qs=Ao.name;if(Ao.attr("data-ephox-embed-iri")){zo(Ve,Ao);break}else{switch(qs){case"video":case"object":case"embed":case"img":case"iframe":Ve.height!==void 0&&Ve.width!==void 0&&(Ao.attr("width",Ve.width),Ao.attr("height",Ve.height));break}if(tt)switch(qs){case"video":Ao.attr("poster",Ve.poster),Ao.attr("src",null);for(let je=To;je<2;je++)if(Ve[Eo[je]]){const jt=new Re("source",1);jt.attr("src",Ve[Eo[je]]),jt.attr("type",Ve[Eo[je]+"mime"]||null),Ao.append(jt)}break;case"iframe":Ao.attr("src",Ve.source);break;case"object":const me=Ao.getAll("img").length>0;if(Ve.poster&&!me){Ao.attr("src",Ve.poster);const je=new Re("img",1);je.attr("src",Ve.poster),je.attr("width",Ve.width),je.attr("height",Ve.height),Ao.append(je)}break;case"source":if(lo<2&&(Ao.attr("src",Ve[Eo[lo]]),Ao.attr("type",Ve[Eo[lo]+"mime"]||null),!Ve[Eo[lo]])){Ao.remove();continue}lo++;break;case"img":Ve.poster||Ao.remove();break}}}return gt({},mn).serialize(is)},jo=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Ks=Pe=>{const Ve=Pe.match(/^(https?:\/\/|www\.)(.+)$/i);return Ve&&Ve.length>1?Ve[1]==="www."?"https://":Ve[1]:"https://"},Be=(Pe,Ve)=>{const tt=Ks(Ve),mn=Pe.regex.exec(Ve);let To=tt+Pe.url;if(U(mn))for(let lo=0;lo<mn.length;lo++)To=To.replace("$"+lo,()=>mn[lo]?mn[lo]:"");return To.replace(/\?$/,"")},Ye=Pe=>{const Ve=jo.filter(tt=>tt.regex.test(Pe));return Ve.length>0?P.extend({},Ve[0],{url:Be(Ve[0],Pe)}):null},et=(Pe,Ve)=>{if(Ve)return Ve(Pe);{const tt=Pe.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+Pe.source+'" width="'+Pe.width+'" height="'+Pe.height+'"'+tt+"></iframe>"}},Le=Pe=>{let Ve='<object data="'+Pe.source+'" width="'+Pe.width+'" height="'+Pe.height+'" type="application/x-shockwave-flash">';return Pe.poster&&(Ve+='<img src="'+Pe.poster+'" width="'+Pe.width+'" height="'+Pe.height+'" />'),Ve+="</object>",Ve},Je=(Pe,Ve)=>Ve?Ve(Pe):'<audio controls="controls" src="'+Pe.source+'">'+(Pe.altsource?`
<source src="`+Pe.altsource+'"'+(Pe.altsourcemime?' type="'+Pe.altsourcemime+'"':"")+` />
`:"")+"</audio>",Ot=(Pe,Ve)=>Ve?Ve(Pe):'<video width="'+Pe.width+'" height="'+Pe.height+'"'+(Pe.poster?' poster="'+Pe.poster+'"':"")+` controls="controls">
<source src="`+Pe.source+'"'+(Pe.sourcemime?' type="'+Pe.sourcemime+'"':"")+` />
`+(Pe.altsource?'<source src="'+Pe.altsource+'"'+(Pe.altsourcemime?' type="'+Pe.altsourcemime+'"':"")+` />
`:"")+"</video>",xt=(Pe,Ve)=>{const tt=P.extend({},Ve);if(!tt.source&&(P.extend(tt,Ue(tt.embed??"",Pe.schema)),!tt.source))return"";tt.altsource||(tt.altsource=""),tt.poster||(tt.poster=""),tt.source=Pe.convertURL(tt.source,"source"),tt.altsource=Pe.convertURL(tt.altsource,"source"),tt.sourcemime=Pt(tt.source),tt.altsourcemime=Pt(tt.altsource),tt.poster=Pe.convertURL(tt.poster,"poster");const mn=Ye(tt.source);if(mn&&(tt.source=mn.url,tt.type=mn.type,tt.allowfullscreen=mn.allowFullscreen,tt.width=tt.width||String(mn.w),tt.height=tt.height||String(mn.h)),tt.embed)return Lo(tt.embed,tt,!0,Pe.schema);{const To=ae(Pe),lo=lt(Pe),Vo=En(Pe);return tt.width=tt.width||"300",tt.height=tt.height||"150",P.each(tt,(is,Ao)=>{tt[Ao]=Pe.dom.encode(""+is)}),tt.type==="iframe"?et(tt,Vo):tt.sourcemime==="application/x-shockwave-flash"?Le(tt):tt.sourcemime.indexOf("audio")!==-1?Je(tt,To):Ot(tt,lo)}},jn=Pe=>Pe.hasAttribute("data-mce-object")||Pe.hasAttribute("data-ephox-embed-iri"),go=Pe=>{Pe.on("mousedown",Ve=>{const tt=Pe.dom.getParent(Ve.target,".mce-preview-object");tt&&Pe.dom.getAttrib(tt,"data-mce-selected")==="2"&&Ve.stopImmediatePropagation()}),Pe.on("click keyup touchend",()=>{const Ve=Pe.selection.getNode();Ve&&Pe.dom.hasClass(Ve,"mce-preview-object")&&Pe.dom.getAttrib(Ve,"data-mce-selected")&&Ve.setAttribute("data-mce-selected","2")}),Pe.on("ObjectResized",Ve=>{const tt=Ve.target;if(tt.getAttribute("data-mce-object")){let mn=tt.getAttribute("data-mce-html");mn&&(mn=unescape(mn),tt.setAttribute("data-mce-html",escape(Lo(mn,{width:String(Ve.width),height:String(Ve.height)},!1,Pe.schema))))}})},vt={},ln=(Pe,Ve,tt)=>new Promise((mn,To)=>{const lo=Vo=>(Vo.html&&(vt[Pe.source]=Vo),mn({url:Pe.source,html:Vo.html?Vo.html:Ve(Pe)}));vt[Pe.source]?lo(vt[Pe.source]):tt({url:Pe.source}).then(lo).catch(To)}),Un=(Pe,Ve)=>Promise.resolve({html:Ve(Pe),url:Pe.source}),Qo=Pe=>Ve=>xt(Pe,Ve),mr=(Pe,Ve)=>{const tt=Ne(Pe);return tt?ln(Ve,Qo(Pe),tt):Un(Ve,Qo(Pe))},gs=Pe=>ct(vt,Pe),Io=(Pe,Ve)=>be(Ve,Pe).bind(tt=>be(tt,"meta")),Gr=(Pe,Ve,tt)=>mn=>{const To=()=>be(Pe,mn),lo=()=>be(Ve,mn),Vo=qs=>be(qs,"value").bind(me=>me.length>0?V.some(me):V.none()),is=()=>To().bind(qs=>M(qs)?Vo(qs).orThunk(lo):lo().orThunk(()=>V.from(qs))),Ao=()=>lo().orThunk(()=>To().bind(qs=>M(qs)?Vo(qs):V.from(qs)));return{[mn]:(mn===tt?is():Ao()).getOr("")}},_s=(Pe,Ve)=>{const tt={};return be(Pe,"dimensions").each(mn=>{ee(["width","height"],To=>{be(Ve,To).orThunk(()=>be(mn,To)).each(lo=>tt[To]=lo)})}),tt},Ms=(Pe,Ve)=>{const tt=Ve&&Ve!=="dimensions"?Io(Ve,Pe).getOr({}):{},mn=Gr(Pe,tt,Ve);return{...mn("source"),...mn("altsource"),...mn("poster"),...mn("embed"),..._s(Pe,tt)}},Ra=Pe=>{const Ve={...Pe,source:{value:be(Pe,"source").getOr("")},altsource:{value:be(Pe,"altsource").getOr("")},poster:{value:be(Pe,"poster").getOr("")}};return ee(["width","height"],tt=>{be(Pe,tt).each(mn=>{const To=Ve.dimensions||{};To[tt]=mn,Ve.dimensions=To})}),Ve},Kr=Pe=>Ve=>{const tt=Ve&&Ve.msg?"Media embed handler error: "+Ve.msg:"Media embed handler threw unknown error.";Pe.notificationManager.open({type:"error",text:tt})},Or=Pe=>{const Ve=Pe.selection.getNode(),tt=jn(Ve)?Pe.serializer.serialize(Ve,{selection:!0}):"",mn=Ue(tt,Pe.schema),lo=(()=>{if(Xr(mn.source,mn.type)){const Vo=Pe.dom.getRect(Ve);return{width:Vo.w.toString().replace(/px$/,""),height:Vo.h.toString().replace(/px$/,"")}}else return{}})();return{embed:tt,...mn,...lo}},xs=(Pe,Ve)=>tt=>{if(A(tt.url)&&tt.url.trim().length>0){const mn=tt.html,lo={...Ue(mn,Ve.schema),source:tt.url,embed:mn};Pe.setData(Ra(lo))}},Yr=(Pe,Ve)=>{const tt=Pe.dom.select("*[data-mce-object]");for(let mn=0;mn<Ve.length;mn++)for(let To=tt.length-1;To>=0;To--)Ve[mn]===tt[To]&&tt.splice(To,1);Pe.selection.select(tt[0])},Is=(Pe,Ve)=>{const tt=Pe.dom.select("*[data-mce-object]");Pe.insertContent(Ve),Yr(Pe,tt),Pe.nodeChanged()},Xr=(Pe,Ve)=>U(Ve)&&Ve==="ephox-embed-iri"&&U(Ye(Pe)),Ma=(Pe,Ve)=>((mn,To)=>mn.width!==To.width||mn.height!==To.height)(Pe,Ve)&&Xr(Ve.source,Pe.type),$n=(Pe,Ve,tt)=>{Ve.embed=Ma(Pe,Ve)&&Mt(tt)?xt(tt,{...Ve,embed:""}):Lo(Ve.embed??"",Ve,!1,tt.schema),Ve.embed&&(Pe.source===Ve.source||gs(Ve.source))?Is(tt,Ve.embed):mr(tt,Ve).then(mn=>{Is(tt,mn.html)}).catch(Kr(tt))},Yo=Pe=>{const Ve=Or(Pe),tt=Oe(Ve),mn=Ra(Ve),To=(Rn,Ho)=>{const ps=Ms(Ho.getData(),"source");Rn.source!==ps.source&&(xs(to,Pe)({url:ps.source,html:""}),mr(Pe,ps).then(xs(to,Pe)).catch(Kr(Pe)))},lo=Rn=>{const Ho=Ms(Rn.getData()),ps=Ue(Ho.embed??"",Pe.schema);Rn.setData(Ra(ps))},Vo=(Rn,Ho,ps)=>{const ws=Ms(Rn.getData(),Ho),Cs=Ma(ps,ws)&&Mt(Pe)?{...ws,embed:""}:ws,oa=xt(Pe,Cs);Rn.setData(Ra({...Cs,embed:oa}))},is=[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],Ao=Mt(Pe)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],qs={title:"General",name:"general",items:fe([is,Ao])},je={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},jt=[];Jo(Pe)&&jt.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),yt(Pe)&&jt.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const yn={title:"Advanced",name:"advanced",items:jt},Wt=[qs,je];jt.length>0&&Wt.push(yn);const vo={type:"tabpanel",tabs:Wt},to=Pe.windowManager.open({title:"Insert/Edit Media",size:"normal",body:vo,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Rn=>{const Ho=Ms(Rn.getData());$n(tt.get(),Ho,Pe),Rn.close()},onChange:(Rn,Ho)=>{switch(Ho.name){case"source":To(tt.get(),Rn);break;case"embed":lo(Rn);break;case"dimensions":case"altsource":case"poster":Vo(Rn,Ho.name,tt.get());break}tt.set(Ms(Rn.getData()))},initialData:mn})},_o=Pe=>({showDialog:()=>{Yo(Pe)}}),ui=Pe=>{const Ve=()=>{Yo(Pe)};Pe.addCommand("mceMedia",Ve)};var Ba=tinymce.util.Tools.resolve("tinymce.Env");const Nn=Pe=>{const Ve=Pe.name;return Ve==="iframe"||Ve==="video"||Ve==="audio"},Ut=(Pe,Ve,tt,mn=null)=>{const To=Pe.attr(tt);return U(To)?To:ct(Ve,tt)?null:mn},qt=(Pe,Ve,tt)=>{const mn=Ve.name==="img"||Pe.name==="video",To=mn?"300":null,lo=Pe.name==="audio"?"30":"150",Vo=mn?lo:null;Ve.attr({width:Ut(Pe,tt,"width",To),height:Ut(Pe,tt,"height",Vo)})},Gn=(Pe,Ve,tt,mn)=>{const To=He(Pe.schema).parse(mn,{context:Ve});for(;To.firstChild;)tt.append(To.firstChild)},Wn=(Pe,Ve)=>{const tt=Ve.name,mn=new Re("img",1);return Do(Pe,Ve,mn),qt(Ve,mn,{}),mn.attr({style:Ve.attr("style"),src:Ba.transparentSrc,"data-mce-object":tt,class:"mce-object mce-object-"+tt}),mn},yo=(Pe,Ve)=>{const tt=Ve.name,mn=new Re("span",1);mn.attr({contentEditable:"false",style:Ve.attr("style"),"data-mce-object":tt,class:"mce-preview-object mce-object-"+tt}),Do(Pe,Ve,mn);const To=Pe.dom.parseStyle(Ve.attr("style")??""),lo=new Re(tt,1);if(qt(Ve,lo,To),lo.attr({src:Ve.attr("src"),style:Ve.attr("style"),class:Ve.attr("class")}),tt==="iframe")lo.attr({allowfullscreen:Ve.attr("allowfullscreen"),frameborder:"0",sandbox:Ve.attr("sandbox"),referrerpolicy:Ve.attr("referrerpolicy")});else{ee(["controls","crossorigin","currentTime","loop","muted","poster","preload"],qs=>{lo.attr(qs,Ve.attr(qs))});const Ao=mn.attr("data-mce-html");U(Ao)&&Gn(Pe,tt,lo,unescape(Ao))}const Vo=new Re("span",1);return Vo.attr("class","mce-shim"),mn.append(lo),mn.append(Vo),mn},Do=(Pe,Ve,tt)=>{const mn=Ve.attributes??[];let To=mn.length;for(;To--;){const Ao=mn[To].name;let qs=mn[To].value;Ao!=="width"&&Ao!=="height"&&Ao!=="style"&&!rt(Ao,"data-mce-")&&((Ao==="data"||Ao==="src")&&(qs=Pe.convertURL(qs,Ao)),tt.attr("data-mce-p-"+Ao,qs))}const lo=gt({inner:!0},Pe.schema),Vo=new Re("div",1);ee(Ve.children(),Ao=>Vo.append(Ao));const is=lo.serialize(Vo);is&&(tt.attr("data-mce-html",escape(is)),tt.empty())},Yn=Pe=>{const Ve=Pe.attr("class");return A(Ve)&&/\btiny-pageembed\b/.test(Ve)},ss=Pe=>{let Ve=Pe;for(;Ve=Ve.parent;)if(Ve.attr("data-ephox-embed-iri")||Yn(Ve))return!0;return!1},La=Pe=>Ve=>{let tt=Ve.length,mn;for(;tt--;)mn=Ve[tt],mn.parent&&(mn.parent.attr("data-mce-object")||(Nn(mn)&&dn(Pe)?ss(mn)||mn.replace(yo(Pe,mn)):ss(mn)||mn.replace(Wn(Pe,mn))))},sl=(Pe,Ve,tt)=>{const mn=Pe.options.get,To=mn("xss_sanitization"),lo=We(Pe);return He(Pe.schema,{sanitize:To,validate:lo}).parse(tt,{context:Ve})},gi=Pe=>{Pe.on("PreInit",()=>{const{schema:Ve,serializer:tt,parser:mn}=Pe,To=Ve.getBoolAttrs();ee("webkitallowfullscreen mozallowfullscreen".split(" "),lo=>{To[lo]={}}),$e({embed:["wmode"]},(lo,Vo)=>{const is=Ve.getElementRule(Vo);is&&ee(lo,Ao=>{is.attributes[Ao]={},is.attributesOrder.push(Ao)})}),mn.addNodeFilter("iframe,video,audio,object,embed",La(Pe)),tt.addAttributeFilter("data-mce-object",(lo,Vo)=>{let is=lo.length;for(;is--;){const Ao=lo[is];if(!Ao.parent)continue;const qs=Ao.attr(Vo),me=new Re(qs,1);if(qs!=="audio"){const Wt=Ao.attr("class");Wt&&Wt.indexOf("mce-preview-object")!==-1&&Ao.firstChild?me.attr({width:Ao.firstChild.attr("width"),height:Ao.firstChild.attr("height")}):me.attr({width:Ao.attr("width"),height:Ao.attr("height")})}me.attr({style:Ao.attr("style")});const je=Ao.attributes??[];let jt=je.length;for(;jt--;){const Wt=je[jt].name;Wt.indexOf("data-mce-p-")===0&&me.attr(Wt.substr(11),je[jt].value)}const yn=Ao.attr("data-mce-html");if(yn){const Wt=sl(Pe,qs,unescape(yn));ee(Wt.children(),vo=>me.append(vo))}Ao.replace(me)}})}),Pe.on("SetContent",()=>{const Ve=Pe.dom;ee(Ve.select("span.mce-preview-object"),tt=>{Ve.select("span.mce-shim",tt).length===0&&Ve.add(tt,"span",{class:"mce-shim"})})})},Bn=Pe=>{Pe.on("ResolveName",Ve=>{let tt;Ve.target.nodeType===1&&(tt=Ve.target.getAttribute("data-mce-object"))&&(Ve.name=tt)})},Ys=Pe=>Ve=>{const tt=()=>{Ve.setEnabled(Pe.selection.isEditable())};return Pe.on("NodeChange",tt),tt(),()=>{Pe.off("NodeChange",tt)}},Xs=Pe=>{const Ve=()=>Pe.execCommand("mceMedia");Pe.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:Ve,onSetup:tt=>{const mn=Pe.selection;tt.setActive(jn(mn.getNode()));const To=mn.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",tt.setActive).unbind,lo=Ys(Pe)(tt);return()=>{To(),lo()}}}),Pe.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:Ve,onSetup:Ys(Pe)})};var jl=()=>{l.add("media",Pe=>(qe(Pe),ui(Pe),Xs(Pe),Bn(Pe),gi(Pe),go(Pe),_o(Pe)))};jl()})()),Vae}var Zae;function kxe(){return Zae||(Zae=1,Axe()),jae}kxe();var Wae={},qae={},Gae;function _xe(){return Gae||(Gae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=(F,j,re)=>re(F,j.prototype)?!0:F.constructor?.name===j.name,p=F=>{const j=typeof F;return F===null?"null":j==="object"&&Array.isArray(F)?"array":j==="object"&&u(F,String,(re,we)=>we.isPrototypeOf(re))?"string":j},x=F=>j=>p(j)===F,A=F=>j=>typeof j===F,M=F=>j=>F===j,O=x("string"),I=x("array"),U=A("boolean"),V=M(void 0),Y=F=>F==null,ee=F=>!Y(F),fe=A("function"),Ce=A("number"),pe=()=>{},$e=(F,j)=>re=>F(j(re)),be=F=>()=>F,ct=F=>F,Oe=(F,j)=>F===j;function J(F,...j){return(...re)=>{const we=j.concat(re);return F.apply(null,we)}}const rt=F=>{F()},It=be(!1),qe=be(!0);class ae{tag;value;static singletonNone=new ae(!1);constructor(j,re){this.tag=j,this.value=re}static some(j){return new ae(!0,j)}static none(){return ae.singletonNone}fold(j,re){return this.tag?re(this.value):j()}isSome(){return this.tag}isNone(){return!this.tag}map(j){return this.tag?ae.some(j(this.value)):ae.none()}bind(j){return this.tag?j(this.value):ae.none()}exists(j){return this.tag&&j(this.value)}forall(j){return!this.tag||j(this.value)}filter(j){return!this.tag||j(this.value)?this:ae.none()}getOr(j){return this.tag?this.value:j}or(j){return this.tag?this:j}getOrThunk(j){return this.tag?this.value:j()}orThunk(j){return this.tag?this:j()}getOrDie(j){if(this.tag)return this.value;throw new Error(j??"Called getOrDie on None")}static from(j){return ee(j)?ae.some(j):ae.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(j){this.tag&&j(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const lt=Array.prototype.indexOf,En=Array.prototype.push,dn=(F,j)=>lt.call(F,j),We=(F,j)=>dn(F,j)>-1,Ne=(F,j)=>{for(let re=0,we=F.length;re<we;re++){const Ge=F[re];if(j(Ge,re))return!0}return!1},Jo=(F,j)=>{const re=[];for(let we=0;we<F;we++)re.push(j(we));return re},yt=(F,j)=>{const re=F.length,we=new Array(re);for(let Ge=0;Ge<re;Ge++){const At=F[Ge];we[Ge]=j(At,Ge)}return we},Mt=(F,j)=>{for(let re=0,we=F.length;re<we;re++){const Ge=F[re];j(Ge,re)}},P=(F,j)=>{for(let re=F.length-1;re>=0;re--){const we=F[re];j(we,re)}},zt=(F,j)=>{const re=[],we=[];for(let Ge=0,At=F.length;Ge<At;Ge++){const vn=F[Ge];(j(vn,Ge)?re:we).push(vn)}return{pass:re,fail:we}},at=(F,j)=>{const re=[];for(let we=0,Ge=F.length;we<Ge;we++){const At=F[we];j(At,we)&&re.push(At)}return re},Jn=(F,j,re)=>(P(F,(we,Ge)=>{re=j(re,we,Ge)}),re),an=(F,j,re)=>(Mt(F,(we,Ge)=>{re=j(re,we,Ge)}),re),le=(F,j,re)=>{for(let we=0,Ge=F.length;we<Ge;we++){const At=F[we];if(j(At,we))return ae.some(At);if(re(At,we))break}return ae.none()},Ue=(F,j)=>le(F,j,It),Pt=F=>{const j=[];for(let re=0,we=F.length;re<we;++re){if(!I(F[re]))throw new Error("Arr.flatten item "+re+" was not an array, input: "+F);En.apply(j,F[re])}return j},Re=(F,j)=>Pt(yt(F,j)),gt=(F,j)=>{for(let re=0,we=F.length;re<we;++re){const Ge=F[re];if(j(Ge,re)!==!0)return!1}return!0},He=(F,j)=>{const re={};for(let we=0,Ge=F.length;we<Ge;we++){const At=F[we];re[String(At)]=j(At,we)}return re},dt=(F,j)=>j>=0&&j<F.length?ae.some(F[j]):ae.none(),X=F=>dt(F,0),zo=F=>dt(F,F.length-1),Eo=(F,j)=>{for(let re=0;re<F.length;re++){const we=j(F[re],re);if(we.isSome())return we}return ae.none()},Lo=Object.keys,jo=Object.hasOwnProperty,Ks=(F,j)=>{const re=Lo(F);for(let we=0,Ge=re.length;we<Ge;we++){const At=re[we],vn=F[At];j(vn,At)}},Be=F=>(j,re)=>{F[re]=j},Ye=(F,j,re,we)=>{Ks(F,(Ge,At)=>{(j(Ge,At)?re:we)(Ge,At)})},et=(F,j)=>{const re={};return Ye(F,j,Be(re),pe),re},Le=(F,j)=>{const re=[];return Ks(F,(we,Ge)=>{re.push(j(we,Ge))}),re},Je=F=>Le(F,ct),Ot=F=>Lo(F).length,xt=(F,j)=>jn(F,j)?ae.from(F[j]):ae.none(),jn=(F,j)=>jo.call(F,j),go=(F,j)=>jn(F,j)&&F[j]!==void 0&&F[j]!==null,vt=F=>{for(const j in F)if(jo.call(F,j))return!1;return!0},ln=F=>{let j=F;return{get:()=>j,set:Ge=>{j=Ge}}},Un=(F,j,re=Oe)=>F.exists(we=>re(we,j)),Qo=F=>{const j=[],re=we=>{j.push(we)};for(let we=0;we<F.length;we++)F[we].each(re);return j},mr=(F,j,re)=>F.isSome()&&j.isSome()?ae.some(re(F.getOrDie(),j.getOrDie())):ae.none(),gs=F=>F.bind(ct),Io=(F,j)=>F?ae.some(j):ae.none(),Gr=F=>{const j=ln(ae.none()),re=()=>j.get().each(F);return{clear:()=>{re(),j.set(ae.none())},isSet:()=>j.get().isSome(),get:()=>j.get(),set:kn=>{re(),j.set(ae.some(kn))}}},_s=()=>Gr(F=>F.unbind()),Ms=(F,j)=>F.substring(j),Ra=(F,j,re)=>j===""||F.length>=j.length&&F.substr(re,re+j.length)===j,Kr=(F,j)=>Or(F,j)?Ms(F,j.length):F,Or=(F,j)=>Ra(F,j,0),Yr=(F=>j=>j.replace(F,""))(/^\s+|\s+$/g),Is=F=>F.length>0,Xr=F=>!Is(F),Ma=(F,j=10)=>{const re=parseInt(F,j);return isNaN(re)?ae.none():ae.some(re)},$n=F=>{const j=parseFloat(F);return isNaN(j)?ae.none():ae.some(j)},Yo=F=>{let j=!1,re;return(...we)=>(j||(j=!0,re=F.apply(null,we)),re)},_o=(F,j)=>{const we=(j||document).createElement("div");if(we.innerHTML=F,!we.hasChildNodes()||we.childNodes.length>1){const Ge="HTML does not have a single root node";throw console.error(Ge,F),new Error(Ge)}return Nn(we.childNodes[0])},ui=(F,j)=>{const we=(j||document).createElement(F);return Nn(we)},Ba=(F,j)=>{const we=(j||document).createTextNode(F);return Nn(we)},Nn=F=>{if(F==null)throw new Error("Node cannot be null or undefined");return{dom:F}},qt={fromHtml:_o,fromTag:ui,fromText:Ba,fromDom:Nn,fromPoint:(F,j,re)=>ae.from(F.dom.elementFromPoint(j,re)).map(Nn)},Gn=8,Wn=9,yo=11,Do=1,Yn=3,ss=(F,j)=>{const re=F.dom;if(re.nodeType!==Do)return!1;{const we=re;if(we.matches!==void 0)return we.matches(j);if(we.msMatchesSelector!==void 0)return we.msMatchesSelector(j);if(we.webkitMatchesSelector!==void 0)return we.webkitMatchesSelector(j);if(we.mozMatchesSelector!==void 0)return we.mozMatchesSelector(j);throw new Error("Browser lacks native selectors")}},La=F=>F.nodeType!==Do&&F.nodeType!==Wn&&F.nodeType!==yo||F.childElementCount===0,sl=(F,j)=>{const re=j===void 0?document:j.dom;return La(re)?[]:yt(re.querySelectorAll(F),qt.fromDom)},gi=(F,j)=>{const re=j===void 0?document:j.dom;return La(re)?ae.none():ae.from(re.querySelector(F)).map(qt.fromDom)},Bn=(F,j)=>F.dom===j.dom,Ys=ss,Xs=F=>F.dom.nodeName.toLowerCase(),jl=F=>F.dom.nodeType,Pe=F=>j=>jl(j)===F,Ve=F=>jl(F)===Gn||Xs(F)==="#comment",tt=Pe(Do),mn=Pe(Yn),To=Pe(Wn),lo=Pe(yo),Vo=F=>j=>tt(j)&&Xs(j)===F,is=F=>qt.fromDom(F.dom.ownerDocument),Ao=F=>To(F)?F:is(F),qs=F=>ae.from(F.dom.parentNode).map(qt.fromDom),me=(F,j)=>{const re=fe(j)?j:It;let we=F.dom;const Ge=[];for(;we.parentNode!==null&&we.parentNode!==void 0;){const At=we.parentNode,vn=qt.fromDom(At);if(Ge.push(vn),re(vn)===!0)break;we=At}return Ge},je=F=>ae.from(F.dom.previousSibling).map(qt.fromDom),jt=F=>ae.from(F.dom.nextSibling).map(qt.fromDom),yn=F=>yt(F.dom.childNodes,qt.fromDom),Wt=(F,j)=>{const re=F.dom.childNodes;return ae.from(re[j]).map(qt.fromDom)},vo=F=>Wt(F,0),to=F=>lo(F)&&ee(F.dom.host),Rn=F=>qt.fromDom(F.dom.getRootNode()),Ho=F=>{const j=Rn(F);return to(j)?ae.some(j):ae.none()},ps=F=>qt.fromDom(F.dom.host),ws=(F,j)=>{qs(F).each(we=>{we.dom.insertBefore(j.dom,F.dom)})},Cs=(F,j)=>{jt(F).fold(()=>{qs(F).each(Ge=>{Ca(Ge,j)})},we=>{ws(we,j)})},oa=(F,j)=>{vo(F).fold(()=>{Ca(F,j)},we=>{F.dom.insertBefore(j.dom,we.dom)})},Ca=(F,j)=>{F.dom.appendChild(j.dom)},Qf=(F,j)=>{ws(F,j),Ca(j,F)},wr=(F,j)=>{Mt(j,(re,we)=>{const Ge=we===0?F:j[we-1];Cs(Ge,re)})},Bs=(F,j)=>{Mt(j,re=>{Ca(F,re)})},or=(F,j,re)=>{if(O(re)||U(re)||Ce(re))F.setAttribute(j,re+"");else throw console.error("Invalid call to Attribute.set. Key ",j,":: Value ",re,":: Element ",F),new Error("Attribute value was not simple")},Vi=(F,j,re)=>{or(F.dom,j,re)},Ci=(F,j)=>{const re=F.dom;Ks(j,(we,Ge)=>{or(re,Ge,we)})},Lr=(F,j)=>{const re=F.dom.getAttribute(j);return re===null?void 0:re},xo=(F,j)=>ae.from(Lr(F,j)),Si=(F,j)=>{F.dom.removeAttribute(j)},oi=F=>an(F.dom.attributes,(j,re)=>(j[re.name]=re.value,j),{}),Qr=F=>{const j=F.dom;j.parentNode!==null&&j.parentNode.removeChild(j)},Sf=F=>{const j=yn(F);j.length>0&&wr(F,j),Qr(F)},uc=F=>yt(F,qt.fromDom),Fr=F=>F.style!==void 0&&fe(F.style.getPropertyValue),Cu=F=>{const j=mn(F)?F.dom.parentNode:F.dom;if(j==null||j.ownerDocument===null)return!1;const re=j.ownerDocument;return Ho(qt.fromDom(j)).fold(()=>re.body.contains(j),$e(Cu,ps))},dc=(F,j,re)=>{if(!O(re))throw console.error("Invalid call to CSS.set. Property ",j,":: Value ",re,":: Element ",F),new Error("CSS value must be a string: "+re);Fr(F)&&F.style.setProperty(j,re)},Ef=(F,j)=>{Fr(F)&&F.style.removeProperty(j)},Sn=(F,j,re)=>{const we=F.dom;dc(we,j,re)},Su=(F,j)=>{const re=F.dom,Ge=window.getComputedStyle(re).getPropertyValue(j);return Ge===""&&!Cu(F)?Ri(re,j):Ge},Ri=(F,j)=>Fr(F)?F.style.getPropertyValue(j):"",pi=(F,j)=>{const re=F.dom,we=Ri(re,j);return ae.from(we).filter(Ge=>Ge.length>0)},jr=(F,j)=>{const re=F.dom;Ef(re,j),Un(xo(F,"style").map(Yr),"")&&Si(F,"style")},Kd=(F,j)=>$n(F).getOr(j),Ei=(F,j,re)=>Kd(Su(F,j),re),rl=(F,j,re,we)=>{const Ge=Ei(F,`padding-${re}`,0),At=Ei(F,`padding-${we}`,0),vn=Ei(F,`border-${re}-width`,0),kn=Ei(F,`border-${we}-width`,0);return j-Ge-At-vn-kn},Tf=(F,j)=>{const re=F.dom,we=re.getBoundingClientRect().width||re.offsetWidth;return rl(F,we,"left","right")},Eu=F=>Tf(F),_l=((F,j)=>{const re=At=>{if(!F(At))throw new Error("Can only get "+j+" value of a "+j+" node");return we(At).getOr("")},we=At=>F(At)?ae.from(At.dom.nodeValue):ae.none();return{get:re,getOption:we,set:(At,vn)=>{if(!F(At))throw new Error("Can only set raw "+j+" value of a "+j+" node");At.dom.nodeValue=vn}}})(mn,"text"),qc=F=>_l.get(F),Gc=(F,j)=>_l.set(F,j);var un=(F,j,re,we,Ge)=>F(re,we)?ae.some(re):fe(Ge)&&Ge(re)?ae.none():j(re,we,Ge);const Tu=(F,j,re)=>{let we=F.dom;const Ge=fe(re)?re:It;for(;we.parentNode;){we=we.parentNode;const At=qt.fromDom(we);if(j(At))return ae.some(At);if(Ge(At))break}return ae.none()},yd=(F,j,re)=>un((Ge,At)=>At(Ge),Tu,F,j,re),Vl=(F,j)=>{const re=Ge=>j(qt.fromDom(Ge));return Ue(F.dom.childNodes,re).map(qt.fromDom)},al=(F,j,re)=>Tu(F,we=>ss(we,j),re),Uu=(F,j)=>Vl(F,re=>ss(re,j)),Ui=(F,j)=>gi(j,F),si=(F,j,re)=>un((Ge,At)=>ss(Ge,At),al,F,j,re),Dl=F=>si(F,"[contenteditable]"),fc=(F,j=!1)=>Cu(F)?F.dom.isContentEditable:Dl(F).fold(be(j),re=>Vs(re)==="true"),Vs=F=>F.dom.contentEditable,Af=(F,j)=>at(yn(F),j),te=(F,j)=>{let re=[];return Mt(yn(F),we=>{j(we)&&(re=re.concat([we])),re=re.concat(te(we,j))}),re},ve=(F,j)=>Af(F,re=>ss(re,j)),Fe=(F,j)=>sl(j,F),Dt=(F,j)=>Uu(F,j).isSome(),Zn=F=>F.nodeName.toLowerCase(),fs=F=>qt.fromDom(F.getBody()),sr=F=>j=>Bn(j,fs(F)),Ua=F=>F?F.replace(/px$/,""):"",Ti=F=>/^\d+(\.\d+)?$/.test(F)?F+"px":F,Ol=F=>qt.fromDom(F.selection.getStart()),oe=F=>qt.fromDom(F.selection.getEnd()),Ae=F=>yd(F,Vo("table")).forall(fc),Xe=["tfoot","thead","tbody","colgroup"],Et=F=>We(Xe,F),hn=(F,j)=>({rows:F,columns:j}),Vn=(F,j,re)=>({element:F,rowspan:j,colspan:re}),Mo=(F,j,re,we,Ge,At)=>({element:F,rowspan:j,colspan:re,row:we,column:Ge,isLocked:At}),Us=(F,j,re)=>({element:F,cells:j,section:re}),Ts=(F,j,re,we)=>({startRow:F,startCol:j,finishRow:re,finishCol:we}),Mi=(F,j,re)=>({element:F,colspan:j,column:re}),Sa=(F,j)=>({element:F,columns:j}),Xd=(F,j,re=0)=>xo(F,j).map(we=>parseInt(we,10)).getOr(re),Om=(F,j)=>kf(F,j,qe),kf=(F,j,re)=>Re(yn(F),we=>ss(we,j)?re(we)?[we]:[]:kf(we,j,re)),Kc=(F,j,re=It)=>{if(re(j))return ae.none();if(We(F,Xs(j)))return ae.some(j);const we=Ge=>ss(Ge,"table")||re(Ge);return al(j,F.join(","),we)},R0=(F,j)=>Kc(["td","th"],F,j),M0=F=>Om(F,"th,td"),ye=F=>ss(F,"colgroup")?ve(F,"col"):Re(Kt(F),j=>ve(j,"col")),Me=(F,j)=>si(F,"table",j),ft=F=>Om(F,"tr"),Kt=F=>Me(F).fold(be([]),j=>ve(j,"colgroup")),po=Vo("th"),ms=(F,j)=>F&&j?"sectionCells":F?"section":"cells",Ea=F=>{const j=F.section==="thead",re=Un(il(F.cells),"th");return F.section==="tfoot"?{type:"footer"}:j||re?{type:"header",subType:ms(j,re)}:{type:"body"}},il=F=>{const j=at(F,re=>po(re.element));return j.length===0?ae.some("td"):j.length===F.length?ae.some("th"):ae.none()},Zi=F=>{const j=yt(F,Ge=>Ea(Ge).type),re=We(j,"header"),we=We(j,"footer");if(!re&&!we)return ae.some("body");{const Ge=We(j,"body");return re&&!Ge&&!we?ae.some("header"):!re&&!Ge&&we?ae.some("footer"):ae.none()}},Ul=(F,j)=>yt(F,re=>{if(Xs(re)==="colgroup"){const we=yt(ye(re),Ge=>{const At=Xd(Ge,"span",1);return Vn(Ge,1,At)});return Us(re,we,"colgroup")}else{const we=yt(M0(re),Ge=>{const At=Xd(Ge,"rowspan",1),vn=Xd(Ge,"colspan",1);return Vn(Ge,At,vn)});return Us(re,we,j(re))}}),Qd=F=>qs(F).map(j=>{const re=Xs(j);return Et(re)?re:"tbody"}).getOr("tbody"),Zl=F=>{const j=ft(F),we=[...Kt(F),...j];return Ul(we,Qd)},Nm="data-snooker-locked-cols",Wl=F=>xo(F,Nm).bind(j=>ae.from(j.match(/\d+/g))).map(j=>He(j,qe)),ll=(F,j)=>F+","+j,Jd=(F,j,re)=>ae.from(F.access[ll(j,re)]),Dc=(F,j,re)=>{const we=ls(F,Ge=>re(j,Ge.element));return we.length>0?ae.some(we[0]):ae.none()},ls=(F,j)=>{const re=Re(F.all,we=>we.cells);return at(re,j)},vh=F=>{const j={};let re=0;return Mt(F.cells,we=>{const Ge=we.colspan;Jo(Ge,At=>{const vn=re+At;j[vn]=Mi(we.element,Ge,vn)}),re+=Ge}),j},pp=F=>{const j={},re=[],Ge=X(F).map(Rc=>Rc.element).bind(Me).bind(Wl).getOr({});let At=0,vn=0,kn=0;const{pass:Bo,fail:ns}=zt(F,Rc=>Rc.section==="colgroup");Mt(ns,Rc=>{const Xu=[];Mt(Rc.cells,rf=>{let fi=0;for(;j[ll(kn,fi)]!==void 0;)fi++;const Li=go(Ge,fi.toString()),am=Mo(rf.element,rf.rowspan,rf.colspan,kn,fi,Li);for(let im=0;im<rf.colspan;im++)for(let Pm=0;Pm<rf.rowspan;Pm++){const _h=kn+Pm,Ru=fi+im,Dh=ll(_h,Ru);j[Dh]=am,vn=Math.max(vn,Ru+1)}Xu.push(am)}),At++,re.push(Us(Rc.element,Xu,Rc.section)),kn++});const{columns:Nr,colgroups:aa}=zo(Bo).map(Rc=>{const Xu=vh(Rc);return{colgroups:[Sa(Rc.element,Je(Xu))],columns:Xu}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:hn(At,vn),access:j,all:re,columns:Nr,colgroups:aa}},Za={fromTable:F=>{const j=Zl(F);return pp(j)},generate:pp,getAt:Jd,findItem:Dc,filterItems:ls,justCells:F=>Re(F.all,j=>j.cells),justColumns:F=>Je(F.columns),hasColumns:F=>Lo(F.columns).length>0,getColumnAt:(F,j)=>ae.from(F.columns[j])},em=(F,j)=>Eo(F.all,re=>Ue(re.cells,we=>Bn(j,we.element))),W1=(F,j,re)=>{const we=yt(j.selection,At=>R0(At).bind(vn=>em(F,vn)).filter(re)),Ge=Qo(we);return Io(Ge.length>0,Ge)},on=(F,j)=>j.mergable,Yc=(F,j)=>j.unmergable,bg=(F,j)=>W1(F,j,qe),vd=(F,j)=>em(F,j).exists(re=>!re.isLocked),yg=(F,j)=>gt(j,re=>vd(F,re)),q1=(F,j)=>on(F,j).filter(re=>yg(F,re.cells)),_e=(F,j)=>Yc(F,j).filter(re=>yg(F,re));var Xc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],vl=()=>{const F=ns=>qt.fromDom(ns.dom.cloneNode(!1)),j=ns=>Ao(ns).dom,re=ns=>tt(ns)?Xs(ns)==="body"?!0:We(Xc,Xs(ns)):!1,we=ns=>tt(ns)?We(["br","img","hr","input"],Xs(ns)):!1,Ge=ns=>tt(ns)&&Lr(ns,"contenteditable")==="false",At=(ns,Nr)=>ns.dom.compareDocumentPosition(Nr.dom),vn=(ns,Nr)=>{const aa=oi(ns);Ci(Nr,aa)},kn=ns=>{const Nr=Xs(ns);return We(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Nr)},Bo=ns=>tt(ns)?xo(ns,"lang"):ae.none();return{up:be({selector:al,closest:si,predicate:Tu,all:me}),down:be({selector:Fe,predicate:te}),styles:be({get:Su,getRaw:pi,set:Sn,remove:jr}),attrs:be({get:Lr,set:Vi,remove:Si,copyTo:vn}),insert:be({before:ws,after:Cs,afterAll:wr,append:Ca,appendAll:Bs,prepend:oa,wrap:Qf}),remove:be({unwrap:Sf,remove:Qr}),create:be({nu:qt.fromTag,clone:F,text:qt.fromText}),query:be({comparePosition:At,prevSibling:je,nextSibling:jt}),property:be({children:yn,name:Xs,parent:qs,document:j,isText:mn,isComment:Ve,isElement:tt,isSpecial:kn,getLanguage:Bo,getText:qc,setText:Gc,isBoundary:re,isEmptyTag:we,isNonEditable:Ge}),eq:Bn,is:Ys}};const xh=(F,j,re,we)=>{const Ge=re[0],At=re.slice(1);return we(F,j,Ge,At)},wh=(F,j,re)=>re.length>0?xh(F,j,re,Nl):ae.none(),Nl=(F,j,re,we)=>{const Ge=j(F,re);return Jn(we,(At,vn)=>{const kn=j(F,vn);return Oc(F,At,kn)},Ge)},Oc=(F,j,re)=>j.bind(we=>re.filter(J(F.eq,we))),L0=wh,bp=vl(),yp=(F,j)=>L0(bp,(re,we)=>F(we),j),vp=(F,j)=>{const re=Za.fromTable(F);return bg(re,j).bind(Ge=>{const At=Ge[Ge.length-1],vn=Ge[0].row,kn=At.row+At.rowspan,Bo=re.all.slice(vn,kn);return Zi(Bo)}).getOr("")},Au=(F,j)=>j.column>=F.startCol&&j.column+j.colspan-1<=F.finishCol&&j.row>=F.startRow&&j.row+j.rowspan-1<=F.finishRow,Ch=(F,j)=>{let re=!0;const we=J(Au,j);for(let Ge=j.startRow;Ge<=j.finishRow;Ge++)for(let At=j.startCol;At<=j.finishCol;At++)re=re&&Za.getAt(F,Ge,At).exists(we);return re?ae.some(j):ae.none()},F0=(F,j)=>Ts(Math.min(F.row,j.row),Math.min(F.column,j.column),Math.max(F.row+F.rowspan-1,j.row+j.rowspan-1),Math.max(F.column+F.colspan-1,j.column+j.colspan-1)),wl=(F,j,re)=>{const we=Za.findItem(F,j,Bn),Ge=Za.findItem(F,re,Bn);return we.bind(At=>Ge.map(vn=>F0(At,vn)))},Rm=(F,j,re)=>wl(F,j,re).bind(we=>Ch(F,we)),Zu=(F,j,re)=>{const we=tm(F);return Rm(we,j,re)},tm=Za.fromTable;var es=tinymce.util.Tools.resolve("tinymce.util.Tools");const mc=(F,j,re)=>{const we=F.select("td,th",j);let Ge;for(let At=0;At<we.length;At++){const vn=F.getStyle(we[At],re);if(V(Ge)&&(Ge=vn),Ge!==vn)return""}return Ge},Sh=(F,j,re)=>{es.each("left center right".split(" "),we=>{we!==re&&F.formatter.remove("align"+we,{},j)}),re&&F.formatter.apply("align"+re,{},j)},G1=(F,j,re)=>{es.each("top middle bottom".split(" "),we=>{we!==re&&F.formatter.remove("valign"+we,{},j)}),re&&F.formatter.apply("valign"+re,{},j)},ts=(F,j,re)=>{F.dispatch("TableModified",{...re,table:j})};var nm=tinymce.util.Tools.resolve("tinymce.Env");const Ai="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",xd=Jo(5,F=>{const j=`${F+1}px`;return{title:j,value:j}}),wd=yt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],F=>({title:F,value:F.toLowerCase()})),da="100%",bs=F=>{const j=F.dom,re=j.getParent(F.selection.getStart(),j.isBlock)??F.getBody();return Eu(qt.fromDom(re))+"px"},P0=(F,j)=>xp(F)||!Wa(F)?j:om(F)?{...j,width:bs(F)}:{...j,width:da},Cd=(F,j)=>xp(F)||Wa(F)?j:om(F)?{...j,width:bs(F)}:{...j,width:da},Fa=F=>j=>j.options.get(F),ku=F=>{const j=F.options.register;j("table_border_widths",{processor:"object[]",default:xd}),j("table_border_styles",{processor:"object[]",default:wd}),j("table_cell_advtab",{processor:"boolean",default:!0}),j("table_row_advtab",{processor:"boolean",default:!0}),j("table_advtab",{processor:"boolean",default:!0}),j("table_appearance_options",{processor:"boolean",default:!0}),j("table_grid",{processor:"boolean",default:!nm.deviceType.isTouch()}),j("table_cell_class_list",{processor:"object[]",default:[]}),j("table_row_class_list",{processor:"object[]",default:[]}),j("table_class_list",{processor:"object[]",default:[]}),j("table_toolbar",{processor:"string",default:Ai}),j("table_background_color_map",{processor:"object[]",default:[]}),j("table_border_color_map",{processor:"object[]",default:[]})},Qc=Fa("table_sizing_mode"),ri=Fa("table_border_widths"),Wu=Fa("table_border_styles"),Wi=Fa("table_cell_advtab"),Jc=Fa("table_row_advtab"),cl=Fa("table_advtab"),Ls=Fa("table_appearance_options"),qu=Fa("table_grid"),Wa=Fa("table_style_by_css"),qi=Fa("table_cell_class_list"),Pa=Fa("table_row_class_list"),fa=Fa("table_class_list"),eu=Fa("table_toolbar"),ai=Fa("table_background_color_map"),ii=Fa("table_border_color_map"),om=F=>Qc(F)==="fixed",xp=F=>Qc(F)==="responsive",wp=F=>{const j=F.options,re=j.get("table_default_styles");return j.isSet("table_default_styles")?re:P0(F,re)},sa=F=>{const j=F.options,re=j.get("table_default_attributes");return j.isSet("table_default_attributes")?re:Cd(F,re)},Mm=F=>al(F,"table"),Eh=(F,j)=>{const re=Fe(F,j);return re.length>0?ae.some(re):ae.none()},_f=(F,j,re)=>Ui(F,j).bind(we=>Ui(F,re).bind(Ge=>yp(Mm,[we,Ge]).map(At=>({first:we,last:Ge,table:At})))),co=(F,j)=>Eh(F,j),_u=(F,j,re)=>_f(F,j,re).bind(we=>{const Ge=Bo=>Bn(F,Bo),At="thead,tfoot,tbody,table",vn=al(we.first,At,Ge),kn=al(we.last,At,Ge);return vn.bind(Bo=>kn.bind(ns=>Bn(Bo,ns)?Zu(we.table,we.first,we.last):ae.none()))}),Jr=ct,li=F=>{const j=(we,Ge)=>xo(we,Ge).exists(At=>parseInt(At,10)>1),re=we=>j(we,"rowspan")||j(we,"colspan");return F.length>0&&gt(F,re)?ae.some(F):ae.none()},$a=(F,j,re)=>j.length<=1?ae.none():_u(F,re.firstSelectedSelector,re.lastSelectedSelector).map(we=>({bounds:we,cells:j})),rr="data-mce-selected",Nc="data-mce-first-selected",Cp="td["+Nc+"],th["+Nc+"]",tu="data-mce-last-selected",Gu="td["+tu+"],th["+tu+"]",vg={selected:rr,firstSelectedSelector:Cp,lastSelectedSelector:Gu},Cl=F=>Me(F).bind(j=>co(j,vg.firstSelectedSelector)).fold(be(F),j=>j[0]),Ia=F=>(j,re)=>{const we=Xs(j),Ge=we==="col"||we==="colgroup"?Cl(j):j;return si(Ge,F,re)},Gs=Ia("th,td,caption"),Rl=Ia("th,td"),Du=F=>uc(F.model.table.getSelectedCells()),ul=(F,j)=>{const re=Rl(F),we=re.bind(Ge=>Me(Ge)).map(Ge=>ft(Ge));return mr(re,we,(Ge,At)=>at(At,vn=>Ne(uc(vn.dom.cells),kn=>Lr(kn,j)==="1"||Bn(kn,Ge)))).getOr([])},Sl=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],ef=F=>({value:Th(F)}),Fs=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Ml=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Bm=F=>Fs.test(F)||Ml.test(F),Th=F=>Kr(F,"#").toUpperCase(),hc=F=>Bm(F)?ae.some({value:Th(F)}):ae.none(),wo=F=>{const j=F.toString(16);return(j.length===1?"0"+j:j).toUpperCase()},Ar=F=>{const j=wo(F.red)+wo(F.green)+wo(F.blue);return ef(j)},qa=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,hr=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,dl=(F,j,re,we)=>({red:F,green:j,blue:re,alpha:we}),Vr=(F,j,re,we)=>{const Ge=parseInt(F,10),At=parseInt(j,10),vn=parseInt(re,10),kn=parseFloat(we);return dl(Ge,At,vn,kn)},ci=F=>{const j=qa.exec(F);if(j!==null)return ae.some(Vr(j[1],j[2],j[3],"1"));const re=hr.exec(F);return re!==null?ae.some(Vr(re[1],re[2],re[3],re[4])):ae.none()},tf=F=>hc(F).orThunk(()=>ci(F).map(Ar)).getOrThunk(()=>{const j=document.createElement("canvas");j.height=1,j.width=1;const re=j.getContext("2d");re.clearRect(0,0,j.width,j.height),re.fillStyle="#FFFFFF",re.fillStyle=F,re.fillRect(0,0,1,1);const we=re.getImageData(0,0,1,1).data,Ge=we[0],At=we[1],vn=we[2],kn=we[3];return Ar(dl(Ge,At,vn,kn))}),rs=F=>ci(F).map(Ar).map(j=>"#"+j.value).getOr(F),ql=(F,j,re)=>we=>{const Ge=_s(),At=Xr(re),vn=()=>{const kn=Du(F),Bo=ns=>F.formatter.match(j,{value:re},ns.dom,At);At?(we.setActive(!Ne(kn,Bo)),Ge.set(F.formatter.formatChanged(j,ns=>we.setActive(!ns),!0))):(we.setActive(gt(kn,Bo)),Ge.set(F.formatter.formatChanged(j,we.setActive,!1,{value:re})))};return F.initialized?vn():F.on("init",vn),Ge.clear},ys=F=>go(F,"menu"),Gl=F=>yt(F,j=>{const re=j.text||j.title||"";return ys(j)?{text:re,items:Gl(j.menu)}:{text:re,value:j.value}}),bi=F=>F.length?ae.some(Gl([{text:"Select...",value:"mce-no-match"},...F])):ae.none(),ki=(F,j,re,we)=>yt(j,Ge=>{const At=Ge.text||Ge.title;return ys(Ge)?{type:"nestedmenuitem",text:At,getSubmenuItems:()=>ki(F,Ge.menu,re,we)}:{text:At,type:"togglemenuitem",onAction:()=>we(Ge.value),onSetup:ql(F,re,Ge.value)}}),Df=(F,j)=>re=>{F.execCommand("mceTableApplyCellStyle",!1,{[j]:re})},xg=F=>Re(F,j=>ys(j)?[{...j,menu:xg(j.menu)}]:Is(j.value)?[j]:[]),Ga=(F,j,re,we)=>Ge=>Ge(ki(F,j,re,we)),Of=(F,j,re)=>{const we=yt(j,Ge=>({text:Ge.title,value:"#"+tf(Ge.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:we.length>0?we:void 0,allowCustomColors:!1},onAction:Ge=>{const At=Ge.value==="remove"?"":Ge.value;F.execCommand("mceTableApplyCellStyle",!1,{[re]:At})}}]},Sd=F=>()=>{const re=F.queryCommandValue("mceTableRowType")==="header"?"body":"header";F.execCommand("mceTableRowType",!1,{type:re})},Bi=F=>()=>{const re=F.queryCommandValue("mceTableColType")==="th"?"td":"th";F.execCommand("mceTableColType",!1,{type:re})},nf=F=>bi(qi(F)).map(j=>({name:"class",type:"listbox",label:"Class",items:j})),wg=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Sl}],Ku=F=>wg.concat(nf(F).toArray()),cr=(F,j)=>{const we=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Gl(Wu(F)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:j==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(we):we}},Cg={normal:(F,j)=>{const re=F.dom;return{setAttrib:(vn,kn)=>{re.setAttrib(j,vn,kn)},setStyle:(vn,kn)=>{re.setStyle(j,vn,kn)},setFormat:(vn,kn)=>{kn===""?F.formatter.remove(vn,{value:null},j,!0):F.formatter.apply(vn,{value:kn},j)}}}},Bl=F=>Or(F,"rgb")?rs(F):F,fl=F=>{const j=qt.fromDom(F);return{borderwidth:pi(j,"border-width").getOr(""),borderstyle:pi(j,"border-style").getOr(""),bordercolor:pi(j,"border-color").map(Bl).getOr(""),backgroundcolor:pi(j,"background-color").map(Bl).getOr("")}},Aa=F=>{const j=F[0],re=F.slice(1);return Mt(re,we=>{Mt(Lo(j),Ge=>{Ks(we,(At,vn)=>{const kn=j[Ge];kn!==""&&Ge===vn&&kn!==At&&(j[Ge]=Ge==="class"?"mce-no-match":"")})})}),j},Ed=(F,j,re,we)=>Ue(F,Ge=>!V(re.formatter.matchNode(we,j+Ge))).getOr(""),di=J(Ed,["left","center","right"],"align"),of=J(Ed,["top","middle","bottom"],"valign"),Sg=(F,j)=>{const re=wp(F),we=sa(F),Ge=()=>({borderstyle:xt(re,"border-style").getOr(""),bordercolor:Bl(xt(re,"border-color").getOr("")),backgroundcolor:Bl(xt(re,"background-color").getOr(""))}),At={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},vn=()=>{const Nr=re["border-width"];return Wa(F)&&Nr?{border:Nr}:xt(we,"border").fold(()=>({}),aa=>({border:aa}))},kn=j?Ge():{},Bo=()=>{const Nr=xt(re,"border-spacing").or(xt(we,"cellspacing")).fold(()=>({}),vi=>({cellspacing:vi})),aa=xt(re,"border-padding").or(xt(we,"cellpadding")).fold(()=>({}),vi=>({cellpadding:vi}));return{...Nr,...aa}};return{...At,...re,...we,...kn,...vn(),...Bo()}},Eg=F=>Me(qt.fromDom(F)).map(j=>{const re={selection:uc(F.cells)};return vp(j,re)}).getOr(""),K1=(F,j,re)=>{const we=(kn,Bo)=>{const ns=pi(qt.fromDom(Bo),"border-width");return Wa(F)&&ns.isSome()?ns.getOr(""):kn.getAttrib(Bo,"border")||mc(F.dom,Bo,"border-width")||mc(F.dom,Bo,"border")||""},Ge=F.dom,At=Wa(F)?Ge.getStyle(j,"border-spacing")||Ge.getAttrib(j,"cellspacing"):Ge.getAttrib(j,"cellspacing")||Ge.getStyle(j,"border-spacing"),vn=Wa(F)?mc(Ge,j,"padding")||Ge.getAttrib(j,"cellpadding"):Ge.getAttrib(j,"cellpadding")||mc(Ge,j,"padding");return{width:Ge.getStyle(j,"width")||Ge.getAttrib(j,"width"),height:Ge.getStyle(j,"height")||Ge.getAttrib(j,"height"),cellspacing:At??"",cellpadding:vn??"",border:we(Ge,j),caption:!!Ge.select("caption",j)[0],class:Ge.getAttrib(j,"class",""),align:di(F,j),...re?fl(j):{}}},Td=(F,j,re)=>{const we=F.dom;return{height:we.getStyle(j,"height")||we.getAttrib(j,"height"),class:we.getAttrib(j,"class",""),type:Eg(j),align:di(F,j),...re?fl(j):{}}},fy=(F,j,re,we)=>{const Ge=F.dom,At=we.getOr(j);return{width:((kn,Bo)=>Ge.getStyle(kn,Bo)||Ge.getAttrib(kn,Bo))(At,"width"),scope:Ge.getAttrib(j,"scope"),celltype:Zn(j),class:Ge.getAttrib(j,"class",""),halign:di(F,j),valign:of(F,j),...re?fl(j):{}}},sm=(F,j)=>{const re=Za.fromTable(F),we=Za.justCells(re),Ge=at(we,At=>Ne(j,vn=>Bn(At.element,vn)));return yt(Ge,At=>({element:At.element.dom,column:Za.getColumnAt(re,At.column).map(vn=>vn.element.dom)}))},gc=(F,j,re,we)=>{we("scope")&&F.setAttrib("scope",re.scope),we("class")&&re.class!=="mce-no-match"&&F.setAttrib("class",re.class),we("width")&&j.setStyle("width",Ti(re.width))},Y1=(F,j,re)=>{re("backgroundcolor")&&F.setFormat("tablecellbackgroundcolor",j.backgroundcolor),re("bordercolor")&&F.setFormat("tablecellbordercolor",j.bordercolor),re("borderstyle")&&F.setFormat("tablecellborderstyle",j.borderstyle),re("borderwidth")&&F.setFormat("tablecellborderwidth",Ti(j.borderwidth))},Ah=(F,j,re,we)=>{const Ge=j.length===1;Mt(j,At=>{const vn=At.element,kn=Ge?qe:we,Bo=Cg.normal(F,vn),ns=At.column.map(Nr=>Cg.normal(F,Nr)).getOr(Bo);gc(Bo,ns,re,kn),Wi(F)&&Y1(Bo,re,kn),we("halign")&&Sh(F,vn,re.halign),we("valign")&&G1(F,vn,re.valign)})},Nf=(F,j)=>{F.execCommand("mceTableCellType",!1,{type:j.celltype,no_events:!0})},rm=(F,j,re,we)=>{const Ge=et(we,(At,vn)=>re[vn]!==At);Ot(Ge)>0&&j.length>=1&&Me(j[0]).each(At=>{const vn=sm(At,j),kn=Ot(et(Ge,(ns,Nr)=>Nr!=="scope"&&Nr!=="celltype"))>0,Bo=jn(Ge,"celltype");(kn||jn(Ge,"scope"))&&Ah(F,vn,we,J(jn,Ge)),Bo&&Nf(F,we),ts(F,At.dom,{structure:Bo,style:kn})})},Tg=(F,j,re,we)=>{const Ge=we.getData();we.close(),F.undoManager.transact(()=>{rm(F,j,re,Ge),F.focus()})},Ag=(F,j)=>{const re=Me(j[0]).map(we=>yt(sm(we,j),Ge=>fy(F,Ge.element,Wi(F),Ge.column)));return Aa(re.getOrDie())},nu=F=>{const j=Du(F);if(j.length===0)return;const re=Ag(F,j),we={type:"tabpanel",tabs:[{title:"General",name:"general",items:Ku(F)},cr(F,"cell")]},Ge={type:"panel",items:[{type:"grid",columns:2,items:Ku(F)}]};F.windowManager.open({title:"Cell Properties",size:"normal",body:Wi(F)?we:Ge,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:re,onSubmit:J(Tg,F,j,re)})},my=F=>bi(Pa(F)).map(j=>({name:"class",type:"listbox",label:"Class",items:j})),Ou=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],ar=F=>Ou.concat(my(F).toArray()),yi=(F,j,re)=>{re("class")&&j.class!=="mce-no-match"&&F.setAttrib("class",j.class),re("height")&&F.setStyle("height",Ti(j.height))},Ad=(F,j,re)=>{re("backgroundcolor")&&F.setStyle("background-color",j.backgroundcolor),re("bordercolor")&&F.setStyle("border-color",j.bordercolor),re("borderstyle")&&F.setStyle("border-style",j.borderstyle)},Sp=(F,j,re,we)=>{const At=j.length===1?qe:we;Mt(j,vn=>{const kn=ve(qt.fromDom(vn),"td,th"),Bo=Cg.normal(F,vn);yi(Bo,re,At),Jc(F)&&Ad(Bo,re,At),we("height")&&Mt(kn,ns=>{F.dom.setStyle(ns.dom,"height",null)}),we("align")&&Sh(F,vn,re.align)})},ou=(F,j)=>{F.execCommand("mceTableRowType",!1,{type:j.type,no_events:!0})},Rf=(F,j,re,we)=>{const Ge=et(we,(At,vn)=>re[vn]!==At);if(Ot(Ge)>0){const At=jn(Ge,"type"),vn=At?Ot(Ge)>1:!0;vn&&Sp(F,j,we,J(jn,Ge)),At&&ou(F,we),Me(qt.fromDom(j[0])).each(kn=>ts(F,kn.dom,{structure:At,style:vn}))}},kg=(F,j,re,we)=>{const Ge=we.getData();we.close(),F.undoManager.transact(()=>{Rf(F,j,re,Ge),F.focus()})},kd=F=>{const j=ul(Ol(F),vg.selected);if(j.length===0)return;const re=yt(j,vn=>Td(F,vn.dom,Jc(F))),we=Aa(re),Ge={type:"tabpanel",tabs:[{title:"General",name:"general",items:ar(F)},cr(F,"row")]},At={type:"panel",items:[{type:"grid",columns:2,items:ar(F)}]};F.windowManager.open({title:"Row Properties",size:"normal",body:Jc(F)?Ge:At,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:we,onSubmit:J(kg,F,yt(j,vn=>vn.dom),we)})},_d=(F,j,re)=>{const we=re?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],Ge=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],At=Ls(F)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],vn=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],kn=j.length>0?[{name:"class",type:"listbox",label:"Class",items:j}]:[];return we.concat(Ge).concat(At).concat(vn).concat(kn)},Qs=(F,j,re,we)=>{if(j.tagName==="TD"||j.tagName==="TH")O(re)&&ee(we)?F.setStyle(j,re,we):F.setStyles(j,re);else if(j.children)for(let Ge=0;Ge<j.children.length;Ge++)Qs(F,j.children[Ge],re,we)},_g=(F,j,re,we)=>{const Ge=F.dom,At={},vn={},kn=Wa(F),Bo=cl(F),ns=parseFloat(re.border)===0;if(!V(re.class)&&re.class!=="mce-no-match"&&(At.class=re.class),vn.height=Ti(re.height),kn?vn.width=Ti(re.width):Ge.getAttrib(j,"width")&&(At.width=Ua(re.width)),kn?(ns?(At.border=0,vn["border-width"]=""):(vn["border-width"]=Ti(re.border),At.border=1),vn["border-spacing"]=Ti(re.cellspacing)):(At.border=ns?0:re.border,At.cellpadding=re.cellpadding,At.cellspacing=re.cellspacing),kn&&j.children){const Nr={};if(ns?Nr["border-width"]="":we.border&&(Nr["border-width"]=Ti(re.border)),we.cellpadding&&(Nr.padding=Ti(re.cellpadding)),Bo&&we.bordercolor&&(Nr["border-color"]=re.bordercolor),!vt(Nr))for(let aa=0;aa<j.children.length;aa++)Qs(Ge,j.children[aa],Nr)}if(Bo){const Nr=re;vn["background-color"]=Nr.backgroundcolor,vn["border-color"]=Nr.bordercolor,vn["border-style"]=Nr.borderstyle}Ge.setStyles(j,{...wp(F),...vn}),Ge.setAttribs(j,{...sa(F),...At})},ma=(F,j,re,we)=>{const Ge=F.dom,At=we.getData(),vn=et(At,(kn,Bo)=>re[Bo]!==kn);we.close(),F.undoManager.transact(()=>{if(!j){const kn=Ma(At.cols).getOr(1),Bo=Ma(At.rows).getOr(1);F.execCommand("mceInsertTable",!1,{rows:Bo,columns:kn}),j=Rl(Ol(F),sr(F)).bind(ns=>Me(ns,sr(F))).map(ns=>ns.dom).getOrDie()}if(Ot(vn)>0){const kn={border:jn(vn,"border"),bordercolor:jn(vn,"bordercolor"),cellpadding:jn(vn,"cellpadding")};_g(F,j,At,kn);const Bo=Ge.select("caption",j)[0];(Bo&&!At.caption||!Bo&&At.caption)&&F.execCommand("mceTableToggleCaption"),Sh(F,j,At.align)}if(F.focus(),F.addVisual(),Ot(vn)>0){const kn=jn(vn,"caption"),Bo=kn?Ot(vn)>1:!0;ts(F,j,{structure:kn,style:Bo})}})},kh=(F,j)=>{const re=F.dom;let we,Ge=Sg(F,cl(F));j?(Ge.cols="1",Ge.rows="1",cl(F)&&(Ge.borderstyle="",Ge.bordercolor="",Ge.backgroundcolor="")):(we=re.getParent(F.selection.getStart(),"table",F.getBody()),we?Ge=K1(F,we,cl(F)):cl(F)&&(Ge.borderstyle="",Ge.bordercolor="",Ge.backgroundcolor=""));const At=bi(fa(F));At.isSome()&&Ge.class&&(Ge.class=Ge.class.replace(/\s*mce\-item\-table\s*/g,""));const vn={type:"grid",columns:2,items:_d(F,At.getOr([]),j)},kn=()=>({type:"panel",items:[vn]}),Bo=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[vn]},cr(F,"table")]}),ns=cl(F)?Bo():kn();F.windowManager.open({title:"Table Properties",size:"normal",body:ns,onSubmit:J(ma,F,we,Ge),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ge})},ka=F=>{const j=re=>{Ae(Ol(F))&&re()};Ks({mceTableProps:J(kh,F,!1),mceTableRowProps:J(kd,F),mceTableCellProps:J(nu,F),mceInsertTableDialog:J(kh,F,!0)},(re,we)=>F.addCommand(we,()=>j(re)))},Yu=F=>({element:F,mergable:ae.none(),unmergable:ae.none(),selection:[F]}),El=(F,j,re)=>({element:re,mergable:$a(j,F,vg),unmergable:li(F),selection:Jr(F)}),sf=F=>{const j=ln(ae.none()),re=ln([]);let we=ae.none();const Ge=Vo("caption"),At=Ps=>we.forall(Ha=>!Ha[Ps]),vn=()=>Gs(Ol(F),sr(F)),kn=()=>Gs(oe(F),sr(F)),Bo=()=>vn().bind(Ps=>gs(mr(Me(Ps),kn().bind(Me),(Ha,Ka)=>Bn(Ha,Ka)?Ge(Ps)?ae.some(Yu(Ps)):ae.some(El(Du(F),Ha,Ps)):ae.none()))),ns=Ps=>Me(Ps.element).map(Ka=>{const Fl=Za.fromTable(Ka),Ep=bg(Fl,Ps).getOr([]),Og=an(Ep,(Ng,Tp)=>(Tp.isLocked&&(Ng.onAny=!0,Tp.column===0?Ng.onFirst=!0:Tp.column+Tp.colspan>=Fl.grid.columns&&(Ng.onLast=!0)),Ng),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:q1(Fl,Ps).isSome(),unmergeable:_e(Fl,Ps).isSome(),locked:Og}}),Nr=()=>{j.set(Yo(Bo)()),we=j.get().bind(ns),Mt(re.get(),rt)},aa=Ps=>(Ps(),re.set(re.get().concat([Ps])),()=>{re.set(at(re.get(),Ha=>Ha!==Ps))}),vi=(Ps,Ha)=>aa(()=>j.get().fold(()=>{Ps.setEnabled(!1)},Ka=>{Ps.setEnabled(!Ha(Ka)&&F.selection.isEditable())})),Rc=(Ps,Ha,Ka)=>aa(()=>j.get().fold(()=>{Ps.setEnabled(!1),Ps.setActive(!1)},Fl=>{Ps.setEnabled(!Ha(Fl)&&F.selection.isEditable()),Ps.setActive(Ka(Fl))})),Xu=Ps=>we.exists(Ha=>Ha.locked[Ps]),rf=Ps=>vi(Ps,Ha=>!1),fi=Ps=>vi(Ps,Ha=>Ge(Ha.element)),Li=Ps=>Ha=>vi(Ha,Ka=>Ge(Ka.element)||Xu(Ps)),am=Ps=>Ha=>vi(Ha,Ka=>Ge(Ka.element)||Ps().isNone()),im=(Ps,Ha)=>Ka=>vi(Ka,Fl=>Ge(Fl.element)||Ps().isNone()||Xu(Ha)),Pm=Ps=>vi(Ps,Ha=>At("mergeable")),_h=Ps=>vi(Ps,Ha=>At("unmergeable")),Ru=Ps=>Rc(Ps,It,Ha=>Me(Ha.element,sr(F)).exists(Fl=>Dt(Fl,"caption"))),Dh=(Ps,Ha)=>Ka=>Rc(Ka,Fl=>Ge(Fl.element),()=>F.queryCommandValue(Ps)===Ha),X1=Dh("mceTableRowType","header"),Q1=Dh("mceTableColType","th");return F.on("NodeChange ExecCommand TableSelectorChange",Nr),{onSetupTable:rf,onSetupCellOrRow:fi,onSetupColumn:Li,onSetupPasteable:am,onSetupPasteableColumn:im,onSetupMergeable:Pm,onSetupUnmergeable:_h,resetTargets:Nr,onSetupTableWithCaption:Ru,onSetupTableRowHeaders:X1,onSetupTableColumnHeaders:Q1,targets:j.get}};var Dg=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const su="x-tinymce/dom-table-",Nu=su+"rows",Lm=su+"columns",pc=F=>{const j=Dg.read()??[];return Eo(j,re=>ae.from(re.getType(F)))},Dd=()=>pc(Nu),ra=()=>pc(Lm),ea=F=>j=>{const re=()=>{j.setEnabled(F.selection.isEditable())};return F.on("NodeChange",re),re(),()=>{F.off("NodeChange",re)}},_i=(F,j)=>{F.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:ea(F),fetch:kn=>kn("inserttable | cell row column | advtablesort | tableprops deletetable")});const re=kn=>()=>F.execCommand(kn),we=(kn,Bo)=>{F.queryCommandSupported(Bo.command)&&F.ui.registry.addButton(kn,{...Bo,onAction:fe(Bo.onAction)?Bo.onAction:re(Bo.command)})},Ge=(kn,Bo)=>{F.queryCommandSupported(Bo.command)&&F.ui.registry.addToggleButton(kn,{...Bo,onAction:fe(Bo.onAction)?Bo.onAction:re(Bo.command)})};we("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:j.onSetupTable}),we("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:j.onSetupTable}),we("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:j.onSetupCellOrRow}),we("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:j.onSetupMergeable}),we("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:j.onSetupUnmergeable}),we("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:j.onSetupCellOrRow}),we("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:j.onSetupCellOrRow}),we("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:j.onSetupCellOrRow}),we("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:j.onSetupCellOrRow}),we("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:j.onSetupColumn("onFirst")}),we("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:j.onSetupColumn("onLast")}),we("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:j.onSetupColumn("onAny")}),we("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:j.onSetupCellOrRow}),we("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:j.onSetupCellOrRow}),we("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:j.onSetupPasteable(Dd)}),we("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:j.onSetupPasteable(Dd)}),we("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:j.onSetupColumn("onAny")}),we("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:j.onSetupColumn("onAny")}),we("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:j.onSetupPasteableColumn(ra,"onFirst")}),we("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:j.onSetupPasteableColumn(ra,"onLast")}),we("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:ea(F)});const At=xg(fa(F));At.length!==0&&F.queryCommandSupported("mceTableToggleClass")&&F.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Ga(F,At,"tableclass",kn=>F.execCommand("mceTableToggleClass",!1,kn)),onSetup:j.onSetupTable});const vn=xg(qi(F));vn.length!==0&&F.queryCommandSupported("mceTableCellToggleClass")&&F.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Ga(F,vn,"tablecellclass",kn=>F.execCommand("mceTableCellToggleClass",!1,kn)),onSetup:j.onSetupCellOrRow}),F.queryCommandSupported("mceTableApplyCellStyle")&&(F.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Ga(F,Sl,"tablecellverticalalign",Df(F,"vertical-align")),onSetup:j.onSetupCellOrRow}),F.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Ga(F,ri(F),"tablecellborderwidth",Df(F,"border-width")),onSetup:j.onSetupCellOrRow}),F.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Ga(F,Wu(F),"tablecellborderstyle",Df(F,"border-style")),onSetup:j.onSetupCellOrRow}),F.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:kn=>kn(Of(F,ai(F),"background-color")),onSetup:j.onSetupCellOrRow}),F.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:kn=>kn(Of(F,ii(F),"border-color")),onSetup:j.onSetupCellOrRow})),Ge("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:j.onSetupTableWithCaption}),Ge("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Sd(F),onSetup:j.onSetupTableRowHeaders}),Ge("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Bi(F),onSetup:j.onSetupTableColumnHeaders})},Fm=F=>{const j=we=>F.dom.is(we,"table")&&F.getBody().contains(we)&&F.dom.isEditable(we.parentNode),re=eu(F);re.length>0&&F.ui.registry.addContextToolbar("table",{predicate:j,items:re,scope:"node",position:"node"})},Od=F=>j=>{const re=()=>{j.setEnabled(F.selection.isEditable())};return F.on("NodeChange",re),re(),()=>{F.off("NodeChange",re)}},Js=(F,j)=>{const re=aa=>()=>F.execCommand(aa),we=(aa,vi)=>F.queryCommandSupported(vi.command)?(F.ui.registry.addMenuItem(aa,{...vi,onAction:fe(vi.onAction)?vi.onAction:re(vi.command)}),!0):!1,Ge=(aa,vi)=>{F.queryCommandSupported(vi.command)&&F.ui.registry.addToggleMenuItem(aa,{...vi,onAction:fe(vi.onAction)?vi.onAction:re(vi.command)})},At=aa=>{F.execCommand("mceInsertTable",!1,{rows:aa.numRows,columns:aa.numColumns})},vn=[we("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:j.onSetupCellOrRow}),we("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:j.onSetupCellOrRow}),we("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:j.onSetupCellOrRow}),we("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:j.onSetupCellOrRow}),we("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:j.onSetupCellOrRow}),we("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:j.onSetupCellOrRow}),we("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:j.onSetupPasteable(Dd)}),we("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:j.onSetupPasteable(Dd)})],kn=[we("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:j.onSetupColumn("onFirst")}),we("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:j.onSetupColumn("onLast")}),we("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:j.onSetupColumn("onAny")}),we("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:j.onSetupColumn("onAny")}),we("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:j.onSetupColumn("onAny")}),we("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:j.onSetupPasteableColumn(ra,"onFirst")}),we("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:j.onSetupPasteableColumn(ra,"onLast")})],Bo=[we("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:j.onSetupCellOrRow}),we("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:j.onSetupMergeable}),we("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:j.onSetupUnmergeable})];qu(F)?F.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:At}],onSetup:Od(F)}):F.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:re("mceInsertTableDialog"),onSetup:Od(F)}),F.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:re("mceInsertTableDialog"),onSetup:Od(F)}),we("tableprops",{text:"Table properties",onSetup:j.onSetupTable,command:"mceTableProps"}),we("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:j.onSetupTable,command:"mceTableDelete"}),We(vn,!0)&&F.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:be("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),We(kn,!0)&&F.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:be("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),We(Bo,!0)&&F.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:be("tablecellprops tablemergecells tablesplitcells")}),F.ui.registry.addContextMenu("table",{update:()=>(j.resetTargets(),j.targets().fold(be(""),aa=>Xs(aa.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const ns=xg(fa(F));ns.length!==0&&F.queryCommandSupported("mceTableToggleClass")&&F.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>ki(F,ns,"tableclass",aa=>F.execCommand("mceTableToggleClass",!1,aa)),onSetup:j.onSetupTable});const Nr=xg(qi(F));Nr.length!==0&&F.queryCommandSupported("mceTableCellToggleClass")&&F.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>ki(F,Nr,"tablecellclass",aa=>F.execCommand("mceTableCellToggleClass",!1,aa)),onSetup:j.onSetupCellOrRow}),F.queryCommandSupported("mceTableApplyCellStyle")&&(F.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>ki(F,Sl,"tablecellverticalalign",Df(F,"vertical-align")),onSetup:j.onSetupCellOrRow}),F.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>ki(F,ri(F),"tablecellborderwidth",Df(F,"border-width")),onSetup:j.onSetupCellOrRow}),F.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>ki(F,Wu(F),"tablecellborderstyle",Df(F,"border-style")),onSetup:j.onSetupCellOrRow}),F.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Of(F,ai(F),"background-color"),onSetup:j.onSetupCellOrRow}),F.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Of(F,ii(F),"border-color"),onSetup:j.onSetupCellOrRow})),Ge("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:j.onSetupTableWithCaption}),Ge("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Sd(F),onSetup:j.onSetupTableRowHeaders}),Ge("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Bi(F),onSetup:j.onSetupTableRowHeaders})},yr=F=>{const j=sf(F);ku(F),ka(F),Js(F,j),_i(F,j),Fm(F)};var Ll=()=>{l.add("table",yr)};Ll()})()),qae}var Kae;function Dxe(){return Kae||(Kae=1,_xe()),Wae}Dxe();var Yae={},Xae={},Qae;function Oxe(){return Qae||(Qae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const p=(Be=>Ye=>Be===Ye)(null),x=Be=>Be,A=(Be,Ye)=>{const et=Be.length,Le=new Array(et);for(let Je=0;Je<et;Je++){const Ot=Be[Je];Le[Je]=Ye(Ot,Je)}return Le},M=(Be,Ye)=>{let et=null;return{cancel:()=>{p(et)||(clearTimeout(et),et=null)},throttle:(...Ot)=>{p(et)&&(et=setTimeout(()=>{et=null,Be.apply(null,Ot)},Ye))}}},O=Be=>Be.replace(/\uFEFF/g,""),U={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\uFEFF-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:"[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]"},V={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},Y=[new RegExp(U.aletter),new RegExp(U.midnumlet),new RegExp(U.midletter),new RegExp(U.midnum),new RegExp(U.numeric),new RegExp(U.cr),new RegExp(U.lf),new RegExp(U.newline),new RegExp(U.extend),new RegExp(U.format),new RegExp(U.katakana),new RegExp(U.extendnumlet),new RegExp("@")],ee="",fe=new RegExp("^"+U.punctuation+"$"),Ce=/^\s+$/,pe=Y,$e=V.OTHER,be=Be=>{let Ye=$e;const et=pe.length;for(let Le=0;Le<et;++Le){const Je=pe[Le];if(Je&&Je.test(Be)){Ye=Le;break}}return Ye},ct=Be=>{const Ye={};return et=>{if(Ye[et])return Ye[et];{const Le=Be(et);return Ye[et]=Le,Le}}},Oe=Be=>{const Ye=ct(be);return A(Be,Ye)},J=(Be,Ye)=>{const et=Be[Ye],Le=Be[Ye+1];if(Ye<0||Ye>Be.length-1&&Ye!==0||et===V.ALETTER&&Le===V.ALETTER)return!1;const Je=Be[Ye+2];if(et===V.ALETTER&&(Le===V.MIDLETTER||Le===V.MIDNUMLET||Le===V.AT)&&Je===V.ALETTER)return!1;const Ot=Be[Ye-1];return(et===V.MIDLETTER||et===V.MIDNUMLET||Le===V.AT)&&Le===V.ALETTER&&Ot===V.ALETTER||(et===V.NUMERIC||et===V.ALETTER)&&(Le===V.NUMERIC||Le===V.ALETTER)||(et===V.MIDNUM||et===V.MIDNUMLET)&&Le===V.NUMERIC&&Ot===V.NUMERIC||et===V.NUMERIC&&(Le===V.MIDNUM||Le===V.MIDNUMLET)&&Je===V.NUMERIC||(et===V.EXTEND||et===V.FORMAT)&&(Le===V.ALETTER||Le===V.NUMERIC||Le===V.KATAKANA||Le===V.EXTEND||Le===V.FORMAT)||(Le===V.EXTEND||Le===V.FORMAT&&(Je===V.ALETTER||Je===V.NUMERIC||Je===V.KATAKANA||Je===V.EXTEND||Je===V.FORMAT))&&(et===V.ALETTER||et===V.NUMERIC||et===V.KATAKANA||et===V.EXTEND||et===V.FORMAT)||et===V.CR&&Le===V.LF?!1:et===V.NEWLINE||et===V.CR||et===V.LF||Le===V.NEWLINE||Le===V.CR||Le===V.LF?!0:!(et===V.KATAKANA&&Le===V.KATAKANA||Le===V.EXTENDNUMLET&&(et===V.ALETTER||et===V.NUMERIC||et===V.KATAKANA||et===V.EXTENDNUMLET)||et===V.EXTENDNUMLET&&(Le===V.ALETTER||Le===V.NUMERIC||Le===V.KATAKANA)||et===V.AT)},rt=ee,It=Ce,qe=fe,ae=Be=>Be==="http"||Be==="https",lt=(Be,Ye)=>{let et;for(et=Ye;et<Be.length&&!It.test(Be[et]);et++);return et},En=(Be,Ye)=>{const et=lt(Be,Ye+1);return Be.slice(Ye+1,et).join(rt).substr(0,3)==="://"?et:Ye},dn=(Be,Ye,et,Le)=>{const Je=[],Ot=[];let xt=[];for(let jn=0;jn<et.length;++jn)if(xt.push(Be[jn]),J(et,jn)){const go=Ye[jn];if((Le.includeWhitespace||!It.test(go))&&(Le.includePunctuation||!qe.test(go))){const vt=jn-xt.length+1,ln=jn+1,Un=Ye.slice(vt,ln).join(rt);if(ae(Un)){const Qo=En(Ye,jn),mr=Be.slice(ln,Qo);Array.prototype.push.apply(xt,mr),jn=Qo}Ye[jn+1]==="."&&/^([a-zA-Z]\.)+$/.test(Un+".")?(xt.push(Be[jn+1]),Ot.push({start:vt,end:ln+1})):Ot.push({start:vt,end:ln}),Je.push(xt)}xt=[]}return{words:Je,indices:Ot}},We=()=>({includeWhitespace:!1,includePunctuation:!1}),Ne=(Be,Ye,et)=>{et={...We(),...et};const Le=A(Be,Ye),Je=Oe(Le);return dn(Be,Le,Je,et)},yt=(Be,Ye,et)=>Ne(Be,Ye,et).words;var Mt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const P=(Be,Ye)=>{const et=Ye.getBlockElements(),Le=Ye.getVoidElements(),Je=vt=>et[vt.nodeName]||Le[vt.nodeName],Ot=[];let xt="";const jn=new Mt(Be,Be);let go;for(;go=jn.next();)go.nodeType===3?xt+=O(go.data):Je(go)&&xt.length&&(Ot.push(xt),xt="");return xt.length&&Ot.push(xt),Ot},zt=Be=>Be.replace(/\u200B/g,""),at=Be=>Be.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,Jn=(Be,Ye)=>{const et=zt(P(Be,Ye).join(`
`));return yt(et.split(""),x).length},an=(Be,Ye)=>{const et=P(Be,Ye).join("");return at(et)},le=(Be,Ye)=>{const et=P(Be,Ye).join("").replace(/\s/g,"");return at(et)},Ue=(Be,Ye)=>()=>Ye(Be.getBody(),Be.schema),Pt=(Be,Ye)=>()=>Ye(Be.selection.getRng().cloneContents(),Be.schema),Re=Be=>Ue(Be,Jn),gt=Be=>({body:{getWordCount:Re(Be),getCharacterCount:Ue(Be,an),getCharacterCountWithoutSpaces:Ue(Be,le)},selection:{getWordCount:Pt(Be,Jn),getCharacterCount:Pt(Be,an),getCharacterCountWithoutSpaces:Pt(Be,le)},getCount:Re(Be)}),He=(Be,Ye)=>{Be.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Ye.body.getWordCount()),String(Ye.selection.getWordCount())],["Characters (no spaces)",String(Ye.body.getCharacterCountWithoutSpaces()),String(Ye.selection.getCharacterCountWithoutSpaces())],["Characters",String(Ye.body.getCharacterCount()),String(Ye.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},dt=(Be,Ye)=>{Be.addCommand("mceWordCount",()=>He(Be,Ye))};var X=tinymce.util.Tools.resolve("tinymce.util.Delay");const zo=(Be,Ye)=>{Be.dispatch("wordCountUpdate",{wordCount:{words:Ye.body.getWordCount(),characters:Ye.body.getCharacterCount(),charactersWithoutSpaces:Ye.body.getCharacterCountWithoutSpaces()}})},Eo=(Be,Ye)=>{zo(Be,Ye)},Lo=(Be,Ye,et)=>{const Le=M(()=>Eo(Be,Ye),et);Be.on("init",()=>{Eo(Be,Ye),X.setEditorTimeout(Be,()=>{Be.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",Le.throttle)},0),Be.on("remove",Le.cancel)})},jo=Be=>{const Ye=()=>Be.execCommand("mceWordCount");Be.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Ye,context:"any"}),Be.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Ye,context:"any"})};var Ks=(Be=300)=>{l.add("wordcount",Ye=>{const et=gt(Ye);return dt(Ye,et),jo(Ye),Lo(Ye,et,Be),et})};Ks()})()),Xae}var Jae;function Nxe(){return Jae||(Jae=1,Oxe()),Yae}Nxe();function H3(){const{id:l,type:u}=Cde(),p=RT(),x=Rv(),A=!l,M=()=>{if(u)return u;const rt=x.pathname;return rt.includes("/blog")?"blog":rt.includes("/services")?"service":"page"},[O,I]=ze.useState({title:"",slug:"",content:"",excerpt:"",post_status:"draft",post_type:M(),featured_image:"",gallery_folder_id:""}),[U,V]=ze.useState([]),[Y,ee]=ze.useState(!0),[fe,Ce]=ze.useState("content"),[pe,$e]=ze.useState(!1);ze.useEffect(()=>{ct(),A?ee(!1):be()},[l]);const be=async()=>{try{const rt=await as.get(`/admin-update.php?action=get&table=posts&id=${l}`);rt.data.success&&I(rt.data.data)}catch{ao.fire("Hata","Yaz yklenemedi","error"),p(-1)}finally{ee(!1)}},ct=async()=>{try{const rt=await as.get("/admin-update.php?action=list&table=media_folders");rt.data.success&&V(rt.data.data||[])}catch{console.error("Failed to load folders")}},Oe=async rt=>{rt&&rt.preventDefault();try{if((await as.post("/admin-update.php",{action:"save-post",...O,id:A?null:l})).data.success&&(ao.fire({title:"Baarl",text:"Deiiklikler kaydedildi.",icon:"success",timer:1500,showConfirmButton:!1}),A)){let qe="/pages";O.post_type==="service"&&(qe="/services"),O.post_type==="blog"&&(qe="/blog"),p(qe)}}catch(It){ao.fire("Hata",It.response?.data?.error||"Kaydedilemedi","error")}},J=async()=>{const{value:rt}=await ao.fire({title:"AI erik Olutur",input:"text",inputLabel:O.post_type==="blog"&&!O.title?"Yaz Konusu veya Anahtar Kelimeler":"Odaklanlacak Anahtar Kelimeler (opsiyonel)",inputPlaceholder:"otel ekimi, mimari fotoraflk...",showCancelButton:!0,confirmButtonText:"ret",cancelButtonText:"ptal",icon:"info"});if(rt!==void 0){if(!O.title&&!rt){ao.fire("Hata","Ltfen en azndan bir konu veya balk belirtin.","warning");return}$e(!0);try{const It=await as.post("/ai.php",{action:"generate-content",title:O.title,keywords:rt,existing_content:O.content,type:O.post_type});It.data.success&&(It.data.title?I(qe=>({...qe,title:It.data.title,content:It.data.content})):I(qe=>({...qe,content:It.data.content})),ao.fire({title:"erik retildi",icon:"success",timer:1500,showConfirmButton:!1}))}catch(It){ao.fire("Hata","erik retilemedi: "+(It.response?.data?.error||It.message),"error")}finally{$e(!1)}}};return Y?N.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):N.jsxs(Va.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-5xl mx-auto space-y-6 pb-20",children:[N.jsxs("div",{className:"flex justify-between items-center bg-white/50 backdrop-blur-md p-4 rounded-2xl border border-gray-100 sticky top-0 z-10",children:[N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsx("button",{onClick:()=>p(-1),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:""}),N.jsxs("div",{children:[N.jsxs("h1",{className:"text-xl font-bold text-gray-800",children:[A?"Yeni Ekle":"Dzenle",": ",N.jsx("span",{className:"text-blue-600 uppercase text-sm tracking-widest ml-2",children:O.post_type})]}),N.jsx("p",{className:"text-xs text-gray-500",children:O.title||"Balksz"})]})]}),N.jsx("div",{className:"flex gap-2",children:N.jsx("button",{onClick:Oe,className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold shadow-lg shadow-blue-500/20 transition-all hover:-translate-y-0.5",children:A?"Yaynla":"Deiiklikleri Kaydet"})})]}),N.jsxs("div",{className:"flex gap-1 p-1 bg-gray-200/50 rounded-2xl w-fit",children:[N.jsx("button",{onClick:()=>Ce("content"),className:`px-6 py-2 rounded-xl text-sm font-bold transition-all ${fe==="content"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:bg-white/50"}`,children:"erik"}),N.jsx("button",{onClick:()=>Ce("seo"),className:`px-6 py-2 rounded-xl text-sm font-bold transition-all ${fe==="seo"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:bg-white/50"}`,children:"SEO & Ayarlar"})]}),N.jsx("form",{onSubmit:Oe,className:"space-y-6",children:N.jsx(HC,{mode:"wait",children:fe==="content"?N.jsx(Va.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:"bg-white p-8 rounded-3xl shadow-sm border border-gray-100 space-y-6",children:N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2 tracking-tight",children:"Sayfa Bal"}),N.jsx("input",{type:"text",required:!0,value:O.title,onChange:rt=>I({...O,title:rt.target.value}),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all outline-none text-lg font-semibold",placeholder:"rn: Hakkmzda"})]}),N.jsxs("div",{className:"quill-editor-wrapper",children:[N.jsxs("div",{className:"flex justify-between items-end mb-2",children:[N.jsx("label",{className:"block text-sm font-bold text-gray-700 tracking-tight",children:"erik"}),N.jsx("button",{type:"button",onClick:J,disabled:pe,className:"px-4 py-1.5 bg-purple-100 text-purple-700 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-purple-200 transition-all flex items-center gap-2 disabled:opacity-50",children:pe?" retiliyor...":" AI ile ret"})]}),N.jsx(Wve,{init:{height:600,menubar:!0,license_key:"gpl",promotion:!1,branding:!1,relative_urls:!1,remove_script_host:!1,convert_urls:!0,plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","code","wordcount"],toolbar:"undo redo | blocks | bold italic forecolor | alignleft aligncenter alignright alignjustify | borderless_table | bullist numlist outdent indent | removeformat",content_style:"body { font-family:Inter,Helvetica,Arial,sans-serif; font-size:16px; line-height:1.6; padding: 20px; } h2 { font-weight: 800; color: #1e293b; } p { color: #475569; }",skin:"oxide",content_css:"default"},value:O.content,onEditorChange:rt=>I({...O,content:rt})}),N.jsx("style",{children:`
                                        /* Hide TinyMCE setup and promotion elements */
                                        .tox-promotion, 
                                        .tox-statusbar__branding, 
                                        .tox-notification--warning {
                                            display: none !important;
                                        }
                                        /* If the 'Finish setting up' is a dialog, this might be tricky, but usually it's a notification or promo */
                                    `})]}),N.jsxs("div",{className:"space-y-6",children:[N.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Kapak Grseli"}),N.jsx("p",{className:"text-xs text-gray-400",children:"Blog listesinde ve paylam kartlarnda grnecek ana grsel."}),N.jsxs("div",{className:"p-4 bg-gray-50 rounded-2xl border border-gray-100 space-y-4",children:[N.jsx("div",{className:"aspect-video bg-white rounded-xl border border-gray-200 overflow-hidden flex items-center justify-center relative group",children:O.featured_image?N.jsxs(N.Fragment,{children:[N.jsx("img",{src:O.featured_image,alt:"Kapak",className:"w-full h-full object-cover"}),N.jsx("button",{type:"button",onClick:()=>I({...O,featured_image:""}),className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-lg opacity-0 group-hover:opacity-100 transition-opacity shadow-lg",children:""})]}):N.jsxs("div",{className:"text-gray-300 text-center",children:[N.jsx("span",{className:"text-3xl block mb-2",children:""}),N.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Grsel Yok"})]})}),N.jsxs("div",{className:"space-y-3",children:[N.jsx("input",{type:"text",value:O.featured_image||"",onChange:rt=>I({...O,featured_image:rt.target.value}),placeholder:"Grsel URL (rn: /uploads/abc.jpg)",className:"w-full px-4 py-2 border border-gray-200 rounded-xl text-xs outline-none focus:border-blue-500 transition-all font-medium text-gray-600"}),N.jsxs("label",{className:"block w-full px-4 py-2.5 bg-white border border-gray-200 rounded-xl text-[10px] font-black uppercase text-center cursor-pointer hover:bg-gray-50 transition-all shadow-sm border-dashed",children:[" Grsel Ykle",N.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:async rt=>{const It=rt.target.files[0];if(!It)return;const qe=new FormData;qe.append("file",It),qe.append("action","upload");try{const ae=await as.post("/media.php",qe,{headers:{"Content-Type":"multipart/form-data"}});ae.data.success&&(I({...O,featured_image:ae.data.data.public_url}),ao.fire({title:"Yklendi",icon:"success",toast:!0,position:"top-end",timer:2e3,showConfirmButton:!1}))}catch{ao.fire("Hata","Ykleme baarsz","error")}}})]})]})]})]})]})},"content"):N.jsx(Va.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"bg-white p-8 rounded-3xl shadow-sm border border-gray-100 space-y-8",children:N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[N.jsxs("div",{className:"space-y-6",children:[N.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"URL Yaps"}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-1",children:"Slug (URL)"}),N.jsx("input",{type:"text",value:O.slug,onChange:rt=>I({...O,slug:rt.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all font-mono text-sm",placeholder:"otomatik-olusturulur"}),N.jsx("p",{className:"mt-1 text-[10px] text-gray-400",children:"Bo brakrsanz bala gre oluturulur."})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-1",children:"Durum"}),N.jsx("div",{className:"flex gap-2",children:["draft","publish"].map(rt=>N.jsx("button",{type:"button",onClick:()=>I({...O,post_status:rt}),className:`flex-1 py-3 rounded-xl text-xs font-bold ring-1 transition-all ${O.post_status===rt?"bg-blue-600 text-white ring-blue-600":"bg-white text-gray-500 ring-gray-200 hover:bg-gray-50"}`,children:rt==="publish"?"YAYINDA":"TASLAK"},rt))})]})]}),N.jsxs("div",{className:"space-y-6",children:[N.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"SEO Meta Verileri"}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-1",children:"Meta Aklamas (Excerpt)"}),N.jsx("textarea",{rows:"4",value:O.excerpt||"",onChange:rt=>I({...O,excerpt:rt.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all text-sm leading-relaxed",placeholder:"Arama sonularnda grnecek ksa aklama..."}),N.jsxs("p",{className:"mt-1 text-[10px] text-gray-400",children:[O.excerpt?.length||0," karakter (nerilen 150-160)"]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-1",children:"Galeri Klasr Balants"}),N.jsxs("select",{value:O.gallery_folder_id||"",onChange:rt=>I({...O,gallery_folder_id:rt.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all text-sm font-semibold",children:[N.jsx("option",{value:"",children:"Klasr Sein (Opsiyonel)"}),U.map(rt=>N.jsx("option",{value:rt.id,children:rt.name},rt.id))]}),N.jsx("p",{className:"mt-1 text-[10px] text-gray-400",children:"Bu sayfada grnecek resim galerisi iin bir klasr sein."})]})]})]})},"seo")})})]})}function Rxe(){const[l,u]=ze.useState({}),[p,x]=ze.useState(!0),[A,M]=ze.useState("general"),[O,I]=ze.useState(!1),U=[{id:"general",label:"Genel Ayarlar",icon:""},{id:"contact",label:"letiim",icon:""},{id:"social",label:"Sosyal Medya",icon:""},{id:"style",label:"Renk & Stil",icon:""},{id:"hero",label:"Hero Ayarlar",icon:""},{id:"ai",label:"AI Ayarlar",icon:""}];ze.useEffect(()=>{V()},[]);const V=async()=>{try{const pe=await as.get("/settings.php");if(pe.data.success){const $e={};Object.values(pe.data.settings).forEach(be=>{be.forEach(ct=>{$e[ct.key]=ct.value})}),u($e)}}catch(pe){console.error("Failed to load settings",pe),ao.fire("Hata","Ayarlar yklenemedi","error")}finally{x(!1)}},Y=(pe,$e)=>{u(be=>({...be,[pe]:$e}))},ee=async(pe,$e)=>{const be=pe.target.files[0];if(!be)return;I(!0);const ct=new FormData;ct.append("file",be),ct.append("action","upload");try{const Oe=await as.post("/media.php",ct,{headers:{"Content-Type":"multipart/form-data"}});Oe.data.success&&(Y($e,Oe.data.data.public_url),ao.fire({title:"Yklendi",icon:"success",toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3}))}catch{ao.fire("Hata","Ykleme baarsz","error")}finally{I(!1)}},fe=async()=>{try{await as.post("/settings.php",{settings:l}),ao.fire("Baarl","Ayarlar kaydedildi","success")}catch{ao.fire("Hata","Kaydetme baarsz","error")}},Ce=(pe,$e,be="text",ct="")=>be==="image"?N.jsxs("div",{className:"mb-6",children:[N.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:$e}),N.jsxs("div",{className:"flex items-start gap-4 p-4 border border-gray-100 rounded-2xl bg-gray-50/50",children:[N.jsx("div",{className:"w-24 h-24 bg-white rounded-xl border border-gray-200 flex items-center justify-center p-2 shadow-sm overflow-hidden",children:l[pe]?N.jsx("img",{src:l[pe],alt:$e,className:"max-w-full max-h-full object-contain"}):N.jsx("span",{className:"text-2xl text-gray-300",children:""})}),N.jsxs("div",{className:"flex-1",children:[N.jsx("input",{type:"text",value:l[pe]||"",onChange:Oe=>Y(pe,Oe.target.value),className:"w-full px-4 py-2 rounded-xl border border-gray-200 text-sm mb-3 text-gray-500 focus:text-gray-800 focus:border-blue-500 outline-none transition-all",placeholder:"https://..."}),N.jsx("div",{className:"relative",children:N.jsxs("label",{className:`inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-xl text-sm font-bold text-gray-600 hover:bg-gray-50 cursor-pointer shadow-sm transition-all ${O?"opacity-50 pointer-events-none":""}`,children:[N.jsx("span",{children:O?"":""}),O?"Ykleniyor...":"Grsel Ykle",N.jsx("input",{type:"file",className:"hidden",onChange:Oe=>ee(Oe,pe),accept:"image/*"})]})})]})]})]}):be==="color"?N.jsxs("div",{className:"mb-6",children:[N.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:$e}),N.jsxs("div",{className:"flex items-center gap-3 p-2 border border-gray-200 rounded-2xl bg-white focus-within:ring-2 focus-within:ring-blue-500/20 focus-within:border-blue-500 transition-all",children:[N.jsx("div",{className:"relative w-12 h-12 rounded-xl border border-gray-100 overflow-hidden shadow-inner flex-shrink-0",children:N.jsx("input",{type:"color",value:l[pe]||"#000000",onChange:Oe=>Y(pe,Oe.target.value),className:"absolute -top-1/2 -left-1/2 w-[200%] h-[200%] cursor-pointer p-0 border-0"})}),N.jsx("div",{className:"flex-1",children:N.jsx("input",{type:"text",value:l[pe]||"",onChange:Oe=>Y(pe,Oe.target.value),className:"w-full text-sm font-mono font-bold text-gray-600 outline-none uppercase tracking-wider",placeholder:"#000000",maxLength:7})})]})]}):N.jsxs("div",{className:"mb-4",children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:$e}),be==="textarea"?N.jsx("textarea",{value:l[pe]||"",onChange:Oe=>Y(pe,Oe.target.value),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-brand-500 focus:ring-2 focus:ring-brand-500/20 outline-none transition-all",placeholder:ct,rows:"4"}):N.jsx("input",{type:be,value:l[pe]||"",onChange:Oe=>Y(pe,Oe.target.value),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-brand-500 focus:ring-2 focus:ring-brand-500/20 outline-none transition-all",placeholder:ct})]});return p?N.jsx("div",{className:"p-8 text-center text-gray-500",children:"Ykleniyor..."}):N.jsxs("div",{className:"space-y-6",children:[N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsxs("div",{children:[N.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Sistem Ayarlar"}),N.jsx("p",{className:"text-gray-500 text-sm",children:"Site genel yaplandrmasn buradan ynetebilirsiniz."})]}),N.jsx("button",{onClick:fe,className:"px-6 py-2.5 bg-blue-600 text-white rounded-xl font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 hover:scale-105 transition-all active:scale-95",children:"Kaydet"})]}),N.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden",children:[N.jsx("div",{className:"flex border-b border-gray-100 overflow-x-auto",children:U.map(pe=>N.jsxs("button",{onClick:()=>M(pe.id),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 whitespace-nowrap transition-all ${A===pe.id?"text-blue-600 bg-blue-50/50 border-b-2 border-blue-600":"text-gray-500 hover:bg-gray-50 hover:text-gray-700"}`,children:[N.jsx("span",{children:pe.icon})," ",pe.label]},pe.id))}),N.jsxs("div",{className:"p-8",children:[A==="general"&&N.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[Ce("site_title","Site Bal (Title)","text","rn: Mekan Fotorafs"),Ce("site_description","Site Aklamas (Meta Description)","textarea","Site hakknda ksa bilgi..."),Ce("logo_url","Logo","image"),Ce("favicon_url","Favicon","image"),Ce("google_analytics","Google Analytics ID","text","UA-XXXXX-Y")]}),A==="contact"&&N.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[Ce("phone_primary","Telefon 1 (Grnr)","text","+90 555 ..."),Ce("phone_whatsapp","Whatsapp Numaras","text","90555..."),Ce("email_primary","E-posta Adresi","email","info@site.com"),Ce("address_short","Ksa Adres","text","stanbul, Trkiye"),Ce("address_full","Tam Adres","textarea","Ak adres bilgisi...")]}),A==="social"&&N.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[Ce("social_instagram","Instagram URL","text","https://instagram.com/..."),Ce("social_facebook","Facebook URL","text","https://facebook.com/..."),Ce("social_twitter","Twitter / X URL","text","https://x.com/..."),Ce("social_linkedin","LinkedIn URL","text","https://linkedin.com/..."),Ce("social_youtube","YouTube URL","text","https://youtube.com/...")]}),A==="style"&&N.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[Ce("primary_color","Ana Renk (Primary)","color"),Ce("secondary_color","kincil Renk (Secondary)","color"),N.jsx("div",{className:"col-span-full mt-4 p-4 bg-gray-50 rounded-2xl",children:N.jsx("p",{className:"text-sm text-gray-500",children:"Not: Renk deiikliklerinin sitede aktif olmas iin CSS deikenlerinin ayarlanm olmas gerekir."})})]}),A==="hero"&&N.jsxs("div",{className:"space-y-8",children:[N.jsxs("div",{children:[N.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[N.jsx("span",{className:"w-8 h-8 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center text-sm",children:"1"}),"Dnen Metin Ayarlar (Animated Text)"]}),N.jsxs("div",{className:"grid md:grid-cols-2 gap-6 p-6 bg-slate-50 rounded-3xl border border-slate-100",children:[N.jsxs("div",{className:"space-y-1",children:[Ce("hero_text_variants_1","1. Kelime Varyasyonlar (Beyaz)","textarea","rn: Mekannz,Otelinizi,Restorannz"),N.jsx("p",{className:"text-[11px] text-gray-400 font-medium px-1 italic",children:"Virglle ayrarak yazn. rn: Mekannz, Otelinizi, Villanz"})]}),N.jsxs("div",{className:"space-y-1",children:[Ce("hero_text_variants_2","2. Kelime Varyasyonlar (Mavi/talik)","textarea","rn: Sanata,Markaya,Sata"),N.jsx("p",{className:"text-[11px] text-gray-400 font-medium px-1 italic",children:"Virglle ayrarak yazn. rn: Sanata, Markaya, Hikayeye"})]})]})]}),N.jsxs("div",{className:"p-4 bg-amber-50 rounded-2xl border border-amber-100 flex gap-4 items-start",children:[N.jsx("span",{className:"text-xl",children:""}),N.jsxs("div",{className:"text-sm text-amber-800 leading-relaxed",children:[N.jsx("strong",{children:"pucu:"})," Her iki kutudaki kelime saysnn eit olmas (rn: ikisinde de 5 kelime) animasyonun daha senkronize almasn salar. Metinler her 4 saniyede bir srayla deiecektir."]})]})]}),A==="ai"&&N.jsxs("div",{className:"space-y-8",children:[N.jsx("div",{className:"bg-purple-50 p-6 rounded-3xl border border-purple-100 mb-6",children:N.jsxs("div",{className:"flex gap-4 items-start",children:[N.jsx("span",{className:"text-2xl mt-1",children:""}),N.jsxs("div",{children:[N.jsx("h3",{className:"font-bold text-purple-900 mb-1",children:"Yapay Zeka Entegrasyonu"}),N.jsx("p",{className:"text-sm text-purple-800/80 leading-relaxed",children:"erik retiminde OpenAI teknolojisini kullanyoruz. Blog yazlar, SEO aklamalar ve sayfa ierikleri bu API zerinden profesyonelce retilmektedir."})]})]})}),N.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[N.jsxs("div",{className:"space-y-1",children:[Ce("openai_api_key","OpenAI API Anahtar","password","sk-proj-..."),N.jsx("p",{className:"text-[10px] text-gray-400 px-1",children:"Anahtarnz gvenli bir ekilde saklanr ve sadece sunucu tarafnda kullanlr."})]}),N.jsxs("div",{className:"space-y-1",children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"OpenAI Model"}),N.jsxs("select",{value:l.openai_model||"gpt-4o-mini",onChange:pe=>Y("openai_model",pe.target.value),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-brand-500 focus:ring-2 focus:ring-brand-500/20 outline-none transition-all",children:[N.jsx("option",{value:"gpt-4o-mini",children:"GPT-4o Mini (Hzl ve Ekonomik - nerilen)"}),N.jsx("option",{value:"gpt-4o",children:"GPT-4o (En Yksek Kalite)"})]}),N.jsx("p",{className:"text-[10px] text-gray-400 px-1",children:"zellikle blog yazlar iin 4o-mini hem kaliteli hem de ekonomiktir."})]})]})]})]})]})]})}function Mxe(){const[l,u]=ze.useState({openai_api_key:"",openai_model:"gpt-4o-mini"}),[p,x]=ze.useState(!0);ze.useEffect(()=>{A()},[]);const A=async()=>{try{const O=await as.get("/settings.php");if(O.data.success){const I={};Object.values(O.data.settings).forEach(U=>{U.forEach(V=>{I[V.key]=V.value})}),u({openai_api_key:I.openai_api_key||"",openai_model:I.openai_model||"gpt-4o-mini"})}}catch(O){console.error("Failed to load settings",O)}finally{x(!1)}},M=async()=>{try{await as.post("/settings.php",{settings:l}),ao.fire({title:"Baarl",text:"AI Ayarlar kaydedildi.",icon:"success",timer:1500,showConfirmButton:!1})}catch{ao.fire("Hata","Kaydetme baarsz","error")}};return p?N.jsx("div",{className:"p-12 text-center text-gray-500",children:"Ykleniyor..."}):N.jsxs(Va.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto space-y-6",children:[N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsxs("div",{children:[N.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"AI Ayarlar"}),N.jsx("p",{className:"text-gray-500 text-sm",children:"Yapay zeka ierik retim motorunu buradan yaplandrn."})]}),N.jsx("button",{onClick:M,className:"px-8 py-3 bg-purple-600 text-white rounded-2xl font-bold shadow-xl shadow-purple-500/20 hover:bg-purple-700 hover:scale-105 transition-all active:scale-95",children:"Kaydet "})]}),N.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-sm border border-gray-100 overflow-hidden p-10",children:[N.jsxs("div",{className:"bg-purple-50 p-8 rounded-3xl border border-purple-100 mb-10 flex gap-6 items-start",children:[N.jsx("div",{className:"w-16 h-16 bg-purple-600 rounded-2xl flex items-center justify-center text-3xl shadow-lg shadow-purple-500/20 shrink-0",children:""}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:"OpenAI Entegrasyonu"}),N.jsx("p",{className:"text-purple-800/70 leading-relaxed font-medium",children:"Blog yazlar ve sayfa ierikleri OpenAI 4o-mini modeli ile saniyeler iinde retilir. Balamak iin OpenAI platformundan aldnz API key'i aaya girin."})]})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[N.jsxs("div",{className:"space-y-3",children:[N.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest ml-1",children:"OpenAI API Key"}),N.jsx("input",{type:"password",value:l.openai_api_key,onChange:O=>u({...l,openai_api_key:O.target.value}),className:"w-full px-6 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 transition-all outline-none font-mono text-sm",placeholder:"sk-proj-..."}),N.jsx("p",{className:"text-[10px] text-gray-400 px-1 font-medium",children:"Key'iniz sunucu tarafnda gvenle saklanr."})]}),N.jsxs("div",{className:"space-y-3",children:[N.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest ml-1",children:"Model Seimi"}),N.jsxs("select",{value:l.openai_model,onChange:O=>u({...l,openai_model:O.target.value}),className:"w-full px-6 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 transition-all outline-none font-bold text-gray-800",children:[N.jsx("option",{value:"gpt-4o-mini",children:"GPT-4o Mini (Hzl & Ekonomik - nerilen)"}),N.jsx("option",{value:"gpt-4o",children:"GPT-4o (En Yksek Kalite)"})]}),N.jsx("p",{className:"text-[10px] text-gray-400 px-1 font-medium",children:"Blog yazlar iin 4o-mini mkemmel sonu verir."})]})]}),N.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-50 flex items-center gap-4 text-gray-400 text-sm italic",children:[N.jsx("span",{children:""}),N.jsxs("p",{children:["Hala key'iniz yoksa ",N.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",className:"text-purple-600 font-bold hover:underline",children:"OpenAI Dashboard"})," zerinden hemen alabilirsiniz."]})]})]})]})}function Bxe(){const[l,u]=ze.useState([]),[p,x]=ze.useState([]),[A,M]=ze.useState([]),[O,I]=ze.useState([]),[U,V]=ze.useState([]),[Y,ee]=ze.useState([]),[fe,Ce]=ze.useState(!0),[pe,$e]=ze.useState("settings"),[be,ct]=ze.useState("province"),[Oe,J]=ze.useState([]),[rt,It]=ze.useState(!1),[qe,ae]=ze.useState({});ze.useEffect(()=>{lt()},[]);const lt=async()=>{Ce(!0);try{const Re=[{name:"settings",url:"/admin-update.php?table=settings&action=list"},{name:"provinces",url:"/admin-update.php?table=locations_province&action=list"},{name:"districts",url:"/admin-update.php?table=locations_district&action=list"},{name:"towns",url:"/admin-update.php?table=locations_town&action=list"},{name:"services",url:"/admin-update.php?table=services&action=list"},{name:"seoPages",url:"/admin-update.php?table=posts&action=list&post_type=seo_page"}],gt=await Promise.all(Re.map(X=>as.get(X.url).catch(zo=>(console.error(`API Error on ${X.name}:`,zo),{data:{success:!1,data:[]}})))),He=gt[0].data.data||[];u(He);const dt={};He.forEach(X=>dt[X.key]=X.value),ae(dt),x(gt[1].data.data||[]),M(gt[2].data.data||[]),I(gt[3].data.data||[]),V(gt[4].data.data||[]),ee(gt[5].data.data||[])}catch{console.error("Failed to load SEO data")}finally{Ce(!1)}},En=(Re,gt)=>{ae(He=>({...He,[Re]:gt}))},dn=async Re=>{const gt=qe[Re];try{await as.post("/admin-update.php",{action:"update",table:"settings",id:Re,data:{value:gt}}),u(He=>He.map(dt=>dt.key===Re?{...dt,value:gt}:dt)),ao.fire({title:"Baaryla Kaydedildi",icon:"success",timer:1e3,showConfirmButton:!1})}catch{ao.fire("Hata","Kaydedilemedi","error")}},We=(Re,gt)=>qe[Re]||gt,Ne=We("seo_location_suffix","-mekan-fotografcisi"),Jo=We("seo_location_title_template","{name} Mekan Fotorafs"),yt=We("seo_service_location_sep","-"),Mt=We("seo_service_location_order","province-service"),P=We("seo_service_location_title_template","{province} {service}"),zt=We("openai_api_key",""),at=We("openai_model","gpt-4o-mini"),Jn=We("seo_service_location_meta_desc_template",""),an=We("seo_location_meta_desc_template",""),le=Re=>{const gt=Y.find(He=>He.slug===Re);return gt?gt.post_status==="publish"?{label:"Yaynda",color:"green",status:"publish"}:{label:"Taslak",color:"amber",status:"draft"}:{label:"Oluturulmad",color:"gray",status:"missing"}},Ue=async(Re,gt)=>{try{await as.post("/admin-update.php",{action:"save-post",title:Re,slug:gt,content:`<p>${Re} hizmetleri hakknda detayl bilgi.</p>`,excerpt:Re.includes("-")?Jn.replace("{name}",Re).replace("{location}",Re).replace("{service}",Re):an.replace("{name}",Re).replace("{location}",Re),post_type:"seo_page",post_status:"draft"}),lt(),ao.fire({title:"Sayfa Taslak Olarak Oluturuldu",icon:"success",timer:1e3,showConfirmButton:!1})}catch{ao.fire("Hata","Sayfa oluturulamad","error")}},Pt=async()=>{if(!zt){ao.fire("Eksik Bilgi","Ltfen nce Ayarlar sekmesinden OpenAI API Anahtarn girin.","warning");return}It(!0);try{const Re=await as.post("/ai.php",{action:"suggest-urls"});Re.data.success&&J(Re.data.suggestions)}catch(Re){ao.fire("Hata","neri alnamad: "+(Re.response?.data?.error||Re.message),"error")}finally{It(!1)}};return fe?N.jsx("div",{className:"flex justify-center py-24",children:N.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):N.jsxs(Va.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[N.jsxs("div",{className:"flex justify-between items-center bg-white/50 backdrop-blur-md p-6 rounded-[2rem] border border-white shadow-sm",children:[N.jsxs("div",{children:[N.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"SEO Link Ynetimi"}),N.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Gelimi URL yaps ve sayfa ynetimi"})]}),N.jsxs("div",{className:"flex bg-gray-100/50 p-1 rounded-2xl border border-gray-200 shadow-inner overflow-x-auto no-scrollbar",children:[N.jsx("button",{onClick:()=>$e("settings"),className:`px-4 py-2 rounded-xl font-bold transition-all whitespace-nowrap ${pe==="settings"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:" Ayarlar"}),N.jsx("button",{onClick:()=>$e("locations"),className:`px-4 py-2 rounded-xl font-bold transition-all whitespace-nowrap ${pe==="locations"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:" Lokasyonlar"}),N.jsx("button",{onClick:()=>$e("services"),className:`px-4 py-2 rounded-xl font-bold transition-all whitespace-nowrap ${pe==="services"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:" Hizmetler"}),N.jsx("button",{onClick:()=>$e("ai"),className:`px-4 py-2 rounded-xl font-bold transition-all whitespace-nowrap ${pe==="ai"?"bg-white text-purple-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:" AI Asistan"})]})]}),N.jsx(HC,{mode:"wait",children:pe==="settings"?N.jsxs(Va.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6 pb-20",children:[N.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm space-y-6",children:[N.jsxs("h2",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[N.jsx("span",{className:"p-2 bg-amber-50 rounded-lg text-amber-600 text-sm",children:""})," Genel URL Tanm"]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[N.jsx("div",{className:"space-y-4",children:N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Hizmet Ana URL (Prefix)"}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("input",{type:"text",value:We("seo_service_base","hizmetlerimiz"),onChange:Re=>En("seo_service_base",Re.target.value),className:"flex-1 px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-amber-500/10 focus:border-amber-500 outline-none font-bold text-amber-600",placeholder:"hizmetlerimiz"}),N.jsx("button",{onClick:()=>dn("seo_service_base"),className:"px-6 bg-amber-600 text-white rounded-2xl font-bold hover:bg-amber-700 transition-colors shadow-lg shadow-amber-500/20",children:"Kaydet"})]}),N.jsx("p",{className:"text-[10px] text-gray-400 px-1 italic",children:"Tm hizmet sayfalar bu nek altnda yayna girer. rn: /hizmetlerimiz/cekim-adi"})]})}),N.jsxs("div",{className:"bg-amber-900/5 rounded-[2rem] p-6 border border-amber-200/50",children:[N.jsx("h3",{className:"text-xs font-black text-amber-700 uppercase tracking-widest mb-2",children:"URL Kurallar"}),N.jsxs("p",{className:"text-xs text-amber-900/70 leading-relaxed",children:["Sistem otomatik olarak bu neki zorunlu klar. nek olmadan eriilmeye allan hizmet sayfalar otomatik olarak ",N.jsx("b",{children:"301 (Kalc Ynlendirme)"})," ile doru adrese tanr."]})]})]})]}),N.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm space-y-6",children:[N.jsxs("h2",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[N.jsx("span",{className:"p-2 bg-blue-50 rounded-lg text-blue-600 text-sm",children:""})," Lokasyon Link Ayarlar"]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"URL Sonsaks (Suffix)"}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("input",{type:"text",value:qe.seo_location_suffix||"",onChange:Re=>En("seo_location_suffix",Re.target.value),className:"flex-1 px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none font-mono text-sm",placeholder:"-mekan-fotografcisi"}),N.jsx("button",{onClick:()=>dn("seo_location_suffix"),className:"px-6 bg-blue-600 text-white rounded-2xl font-bold hover:bg-blue-700 transition-colors",children:"Kaydet"})]})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Balk Tasla"}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("input",{type:"text",value:qe.seo_location_title_template||"",onChange:Re=>En("seo_location_title_template",Re.target.value),className:"flex-1 px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none font-bold"}),N.jsx("button",{onClick:()=>dn("seo_location_title_template"),className:"px-6 bg-blue-600 text-white rounded-2xl font-bold hover:bg-blue-700 transition-colors",children:"Kaydet"})]})]})]}),N.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-6 text-white space-y-3",children:[N.jsx("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-widest",children:"rnek Grnm"}),N.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10",children:[N.jsxs("div",{className:"text-blue-400 font-mono text-xs",children:["/antalya",Ne]}),N.jsx("div",{className:"font-bold text-lg mt-1",children:Jo.replace("{name}","Antalya")})]})]})]})]}),N.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm space-y-6",children:[N.jsxs("h2",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[N.jsx("span",{className:"p-2 bg-purple-50 rounded-lg text-purple-600 text-sm",children:""})," Hizmet & Lokasyon Link Ayarlar"]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Ayra (Separator)"}),N.jsx("input",{type:"text",value:qe.seo_service_location_sep||"",onChange:Re=>En("seo_service_location_sep",Re.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 outline-none font-mono text-center"})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Sralama (Order)"}),N.jsxs("select",{value:qe.seo_service_location_order||"",onChange:Re=>En("seo_service_location_order",Re.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 outline-none font-bold appearance-none bg-no-repeat bg-[right_1.25rem_center] bg-[length:1rem_1rem]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`},children:[N.jsx("option",{value:"province-service",children:"l-Hizmet"}),N.jsx("option",{value:"service-province",children:"Hizmet-l"})]})]})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Balk Tasla"}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("input",{type:"text",value:qe.seo_service_location_title_template||"",onChange:Re=>En("seo_service_location_title_template",Re.target.value),className:"flex-1 px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 outline-none font-bold"}),N.jsx("button",{onClick:()=>{dn("seo_service_location_sep"),dn("seo_service_location_order"),dn("seo_service_location_title_template")},className:"px-6 bg-purple-600 text-white rounded-2xl font-bold hover:bg-purple-700 transition-colors",children:"Kaydet"})]})]})]}),N.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-6 text-white space-y-3",children:[N.jsx("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-widest",children:"rnek Grnm"}),N.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10",children:[N.jsxs("div",{className:"text-purple-400 font-mono text-xs",children:["/",We("seo_service_base","hizmetlerimiz"),"/",Mt==="service-province"?`otel-cekimi${yt}antalya`:`antalya${yt}otel-cekimi`]}),N.jsx("div",{className:"font-bold text-lg mt-1",children:P.replace("{province}","Antalya").replace("{service}","Otel ekimi")})]})]})]})]}),N.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm space-y-6",children:[N.jsxs("h2",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[N.jsx("span",{className:"p-2 bg-green-50 rounded-lg text-green-600 text-sm",children:""})," Global Meta ablonlar"]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"l + Hizmet Meta Description ablonu"}),N.jsx("textarea",{value:Jn,onChange:Re=>handleUpdateSetting("seo_service_location_meta_desc_template",Re.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-green-500/10 focus:border-green-500 outline-none text-sm h-32",placeholder:"Antalya Otel ekimi iin profesyonel zmler..."}),N.jsxs("p",{className:"text-[10px] text-gray-400 px-1",children:["Deikenler: `","{name}","`, `","{service}","`, `","{location}","`"]})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Sadece Lokasyon Meta Description ablonu"}),N.jsx("textarea",{value:an,onChange:Re=>handleUpdateSetting("seo_location_meta_desc_template",Re.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-green-500/10 focus:border-green-500 outline-none text-sm h-32",placeholder:"Antalya blgesinde profesyonel ekim hizmetleri..."}),N.jsxs("p",{className:"text-[10px] text-gray-400 px-1",children:["Deikenler: `","{name}","`, `","{location}","`"]})]})]})]}),N.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm space-y-6",children:[N.jsxs("h2",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[N.jsx("span",{className:"p-2 bg-purple-50 rounded-lg text-purple-600 text-sm",children:""})," AI Yaplandrmas"]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"OpenAI API Key"}),N.jsx("input",{type:"password",value:zt,onChange:Re=>handleUpdateSetting("openai_api_key",Re.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 outline-none font-mono text-sm",placeholder:"sk-..."})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Model"}),N.jsxs("select",{value:at,onChange:Re=>handleUpdateSetting("openai_model",Re.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 outline-none font-bold appearance-none bg-no-repeat bg-[right_1.25rem_center] bg-[length:1rem_1rem]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`},children:[N.jsx("option",{value:"gpt-4o-mini",children:"GPT-4o Mini"}),N.jsx("option",{value:"gpt-4o",children:"GPT-4o"}),N.jsx("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"})]})]})]}),N.jsx("div",{className:"flex items-center justify-center p-6 border-2 border-dashed border-gray-200 rounded-[2rem]",children:N.jsxs("div",{className:"text-center",children:[N.jsx("div",{className:"text-3xl mb-2",children:""}),N.jsx("p",{className:"text-xs text-gray-500 max-w-[200px]",children:"OpenAI entegrasyonu ile ierik ve URL nerileri alabilirsiniz."})]})})]})]})]},"settings"):pe==="locations"?N.jsxs(Va.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[N.jsxs("div",{className:"flex gap-2 bg-white/50 p-2 rounded-2xl border border-gray-200 w-fit",children:[N.jsx("button",{onClick:()=>ct("province"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${be==="province"?"bg-blue-600 text-white shadow-lg":"text-gray-500"}`,children:"ller"}),N.jsx("button",{onClick:()=>ct("district"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${be==="district"?"bg-blue-600 text-white shadow-lg":"text-gray-500"}`,children:"leler"}),N.jsx("button",{onClick:()=>ct("town"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${be==="town"?"bg-blue-600 text-white shadow-lg":"text-gray-500"}`,children:"Mahalleler"})]}),N.jsx("div",{className:"bg-white rounded-[2rem] border border-gray-100 shadow-sm overflow-hidden overflow-y-auto max-h-[calc(100vh-350px)] custom-scrollbar",children:N.jsxs("table",{className:"w-full text-left",children:[N.jsx("thead",{className:"bg-gray-50 border-b border-gray-100 sticky top-0 z-10 backdrop-blur-sm",children:N.jsxs("tr",{children:[N.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Lokasyon"}),N.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"URL"}),N.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Durum"}),N.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"lem"})]})}),N.jsx("tbody",{className:"divide-y divide-gray-50",children:(be==="province"?p:be==="district"?A:O).map(Re=>{const gt=`${Re.slug}${Ne}`,He=le(gt),dt=Jo.replace("{name}",Re.name);return N.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[N.jsx("td",{className:"px-6 py-4",children:N.jsx("div",{className:"font-bold text-gray-800",children:Re.name})}),N.jsx("td",{className:"px-6 py-4",children:N.jsxs("div",{className:"text-xs font-mono text-blue-500",children:["/",gt]})}),N.jsx("td",{className:"px-6 py-4",children:N.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-black uppercase tracking-tighter bg-${He.color}-50 text-${He.color}-600 border border-${He.color}-100`,children:He.label})}),N.jsx("td",{className:"px-6 py-4 text-right",children:He.status==="missing"?N.jsx("button",{onClick:()=>Ue(dt,gt),className:"px-3 py-1.5 bg-gray-900 text-white rounded-lg text-[9px] font-black uppercase tracking-widest hover:bg-blue-600 transition-all",children:"Olutur"}):N.jsx("div",{className:"flex justify-end gap-2",children:N.jsx("a",{href:`/${gt}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-500",children:""})})})]},Re.id)})})]})})]},"locations"):pe==="services"?N.jsx(Va.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"bg-white rounded-[2rem] border border-gray-100 shadow-sm overflow-hidden overflow-y-auto max-h-[calc(100vh-300px)] custom-scrollbar",children:N.jsxs("table",{className:"w-full text-left",children:[N.jsx("thead",{className:"bg-gray-50 border-b border-gray-100 sticky top-0 z-10 backdrop-blur-sm",children:N.jsxs("tr",{children:[N.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"l / Hizmet"}),N.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"URL"}),N.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Durum"}),N.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"lem"})]})}),N.jsx("tbody",{className:"divide-y divide-gray-50",children:p.filter(Re=>Re.is_active).map(Re=>U.filter(gt=>gt.is_active).map(gt=>{const He=Mt==="service-province"?`${gt.slug}${yt}${Re.slug}`:`${Re.slug}${yt}${gt.slug}`,dt=le(He),X=P.replace("{province}",Re.name).replace("{service}",gt.name);return N.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[N.jsx("td",{className:"px-6 py-4",children:N.jsxs("div",{className:"font-bold text-gray-800 text-sm",children:[Re.name," ",N.jsx("span",{className:"text-gray-300 mx-1",children:"/"})," ",gt.name]})}),N.jsx("td",{className:"px-6 py-4",children:N.jsxs("div",{className:"text-xs font-mono text-purple-600",children:["/",He]})}),N.jsx("td",{className:"px-6 py-4",children:N.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-black uppercase tracking-tighter bg-${dt.color}-50 text-${dt.color}-600 border border-${dt.color}-100`,children:dt.label})}),N.jsx("td",{className:"px-6 py-4 text-right",children:dt.status==="missing"?N.jsx("button",{onClick:()=>Ue(X,He),className:"px-3 py-1.5 bg-gray-900 text-white rounded-lg text-[9px] font-black uppercase tracking-widest hover:bg-purple-600 transition-all",children:"Olutur"}):N.jsx("div",{className:"flex justify-end gap-2",children:N.jsx("a",{href:`/${He}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-purple-500",children:""})})})]},`${Re.id}-${gt.id}`)}))})]})},"services"):N.jsxs(Va.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"space-y-6",children:[N.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-blue-700 rounded-[3rem] p-12 text-white relative overflow-hidden shadow-2xl shadow-purple-500/20",children:[N.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full -mr-48 -mt-48 blur-3xl"}),N.jsxs("div",{className:"relative z-10 space-y-6 max-w-2xl",children:[N.jsx("h2",{className:"text-4xl font-black leading-tight",children:"Link Yaps AI Asistan"}),N.jsx("p",{className:"text-purple-100 text-lg",children:"Hizmetlerimiz iin en yksek SEO potansiyeline sahip URL yaplarn ve link stratejilerini yapay zeka ile kefedin."}),N.jsx("button",{onClick:Pt,disabled:rt,className:"px-8 py-4 bg-white text-purple-600 rounded-2xl font-black shadow-xl hover:scale-105 transition-all flex items-center gap-3 disabled:opacity-50",children:rt?N.jsxs(N.Fragment,{children:[N.jsx("span",{className:"w-5 h-5 border-2 border-purple-600 border-t-transparent rounded-full animate-spin"})," Bekleniyor..."]}):N.jsxs(N.Fragment,{children:[N.jsx("span",{className:"text-xl",children:""})," URL nerileri Al"]})})]})]}),Oe.length>0&&N.jsxs(Va.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm space-y-6",children:[N.jsx("h3",{className:"text-lg font-black text-gray-900 px-2 tracking-tight",children:"nerilen URL Yaplar"}),N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Oe.map((Re,gt)=>N.jsx("div",{className:"p-4 bg-gray-50 border border-gray-100 rounded-2xl group hover:border-purple-200 transition-all",children:N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("code",{className:"text-purple-600 font-mono text-sm",children:["/",Re]}),N.jsx("button",{onClick:()=>{const He=Re.split("-").map(dt=>dt.charAt(0).toUpperCase()+dt.slice(1)).join(" ");Ue(He,Re)},className:"opacity-0 group-hover:opacity-100 p-2 bg-white rounded-lg shadow-sm text-xs hover:text-purple-600 transition-all",children:"Olutur"})]})},gt))})]})]},"ai")})]})}function Lxe(){const[l,u]=ze.useState([]),[p,x]=ze.useState(!0),[A,M]=ze.useState("all"),[O,I]=ze.useState(null);ze.useEffect(()=>{U()},[]);const U=async()=>{try{const pe=await as.get("/admin-update.php?table=freelancer_applications&action=list");if(pe.data.success){const $e=(pe.data.data||[]).sort((be,ct)=>new Date(ct.created_at)-new Date(be.created_at));u($e)}}catch(pe){console.error("Failed to load applications:",pe)}finally{x(!1)}},V=async(pe,$e)=>{try{await as.post("/admin-update.php",{action:"update",table:"freelancer_applications",id:pe.id,data:{status:$e}}),U(),O?.id===pe.id&&I({...pe,status:$e}),ao.fire({title:"Gncellendi",icon:"success",timer:800,showConfirmButton:!1,toast:!0,position:"bottom-end"})}catch{ao.fire("Hata","Durum gncellenemedi","error")}},Y=async pe=>{if((await ao.fire({title:"Emin misiniz?",text:"Bu bavuru kalc olarak silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal"})).isConfirmed)try{await as.post("/admin-update.php",{action:"delete",table:"freelancer_applications",id:pe}),U(),I(null),ao.fire("Silindi!","Bavuru baaryla silindi.","success")}catch{ao.fire("Hata","Silme ilemi baarsz","error")}},ee=l.filter(pe=>A==="pending"?pe.status==="pending":A==="approved"?pe.status==="approved":A==="rejected"?pe.status==="rejected":!0),fe=pe=>{switch(pe){case"approved":return"green";case"rejected":return"red";default:return"amber"}},Ce=pe=>{switch(pe){case"approved":return"Onayland";case"rejected":return"Reddedildi";default:return"Beklemede"}};return p?N.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):N.jsxs(Va.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[N.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[N.jsxs("div",{children:[N.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Freelancer Bavurular"}),N.jsx("p",{className:"text-gray-500 text-sm",children:"Ekibimize katlmak isteyen fotoraflarn listesi"})]}),N.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl",children:[{id:"all",label:"Tm",count:l.length},{id:"pending",label:"Bekleyen",count:l.filter(pe=>pe.status==="pending").length},{id:"approved",label:"Onaylanan",count:l.filter(pe=>pe.status==="approved").length}].map(pe=>N.jsxs("button",{onClick:()=>M(pe.id),className:`px-4 py-1.5 rounded-lg text-xs font-bold transition-all ${A===pe.id?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[pe.label," (",pe.count,")"]},pe.id))})]}),N.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[N.jsxs("div",{className:`xl:col-span-1 space-y-3 max-h-[700px] overflow-y-auto pr-2 custom-scrollbar ${O?"hidden xl:block":"block"}`,children:[ee.map(pe=>N.jsxs(Va.div,{layout:!0,onClick:()=>I(pe),className:`p-4 rounded-2xl border cursor-pointer transition-all ${O?.id===pe.id?"bg-blue-600 border-blue-600 text-white shadow-lg shadow-blue-200":"bg-white hover:bg-gray-50 border-gray-100"}`,children:[N.jsxs("div",{className:"flex justify-between items-start mb-1",children:[N.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${O?.id===pe.id?"text-white/70":`text-${fe(pe.status)}-500`}`,children:Ce(pe.status)}),N.jsx("span",{className:"text-[10px] opacity-60",children:new Date(pe.created_at).toLocaleDateString("tr-TR")})]}),N.jsx("div",{className:`font-bold ${O?.id===pe.id?"text-white":"text-gray-800"}`,children:pe.name}),N.jsx("div",{className:"text-xs truncate opacity-70",children:pe.city})]},pe.id)),ee.length===0&&N.jsx("div",{className:"text-center py-12 text-gray-400 italic bg-white rounded-3xl border border-dashed border-gray-200",children:"Bavuru bulunamad."})]}),N.jsx("div",{className:`xl:col-span-2 ${O?"block":"hidden xl:flex"}`,children:N.jsx(HC,{mode:"wait",children:O?N.jsxs(Va.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"bg-white rounded-3xl border border-gray-100 shadow-sm p-8 h-full flex flex-col",children:[N.jsxs("div",{className:"flex justify-between items-start mb-8",children:[N.jsx("button",{onClick:()=>I(null),className:"xl:hidden p-2 hover:bg-gray-100 rounded-lg text-gray-400",children:" Geri"}),N.jsxs("div",{className:"flex gap-2",children:[N.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-xl mr-2",children:[N.jsx("button",{onClick:()=>V(O,"approved"),className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase transition-all ${O.status==="approved"?"bg-green-500 text-white shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Onayla"}),N.jsx("button",{onClick:()=>V(O,"rejected"),className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase transition-all ${O.status==="rejected"?"bg-red-500 text-white shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Reddet"}),N.jsx("button",{onClick:()=>V(O,"pending"),className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase transition-all ${O.status==="pending"?"bg-amber-500 text-white shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Beklet"})]}),N.jsx("button",{onClick:()=>Y(O.id),className:"p-2 text-red-400 hover:bg-red-50 rounded-xl transition-colors",children:""})]})]}),N.jsxs("div",{className:"space-y-6 flex-1",children:[N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[N.jsxs("div",{children:[N.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-2",children:"Bavuru Sahibi"}),N.jsxs("div",{className:"space-y-3",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),N.jsx("div",{className:"text-lg font-bold text-gray-800",children:O.name})]}),N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),N.jsx("div",{className:"text-sm text-gray-600 font-medium",children:O.email})]}),N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),N.jsx("div",{className:"text-sm text-gray-600 font-medium",children:O.phone})]}),N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),N.jsx("div",{className:"text-sm text-gray-600 font-medium",children:O.city})]})]})]}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-2",children:"Mesleki Detaylar"}),N.jsxs("div",{className:"space-y-3",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("span",{className:"w-8 h-8 rounded-full bg-purple-50 text-purple-500 flex items-center justify-center text-xs",children:""}),N.jsxs("div",{children:[N.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:"Deneyim"}),N.jsxs("div",{className:"text-sm font-bold text-gray-800",children:[O.experience," Yl"]})]})]}),N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("span",{className:"w-8 h-8 rounded-full bg-purple-50 text-purple-500 flex items-center justify-center text-xs",children:""}),N.jsxs("div",{children:[N.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:"Uzmanlk Alanlar"}),N.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:JSON.parse(O.specialization||"[]").map(pe=>N.jsx("span",{className:"px-2 py-0.5 bg-slate-100 rounded text-[9px] font-black uppercase text-slate-600",children:pe},pe))})]})]}),O.portfolio_url&&N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),N.jsxs("div",{children:[N.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:"Portfolyo"}),N.jsx("a",{href:O.portfolio_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-bold text-blue-600 hover:underline",children:O.portfolio_url})]})]})]})]})]}),N.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-50",children:[N.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Mesaj / Hakknda"}),N.jsx("div",{className:"bg-gray-50 p-6 rounded-2xl text-gray-700 leading-relaxed whitespace-pre-wrap italic",children:O.message||"Ek bilgi belirtilmemi."})]})]}),N.jsxs("p",{className:"text-[9px] text-gray-300 mt-8 text-center uppercase tracking-widest font-bold",children:["Bavuru ID: ",O.id]})]},O.id):N.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-300 border-2 border-dashed border-gray-100 rounded-3xl bg-gray-50/30",children:[N.jsx("span",{className:"text-6xl mb-4",children:""}),N.jsx("p",{className:"font-bold tracking-tight uppercase text-xs opacity-50",children:"Detaylar grmek iin bir bavuru sein"})]})})})]})]})}function Fxe(){const l=Rv(),u=[{path:"/dashboard",icon:"",label:"Dashboard"},{path:"/pages",icon:"",label:"Sayfalar"},{path:"/blog",icon:"",label:"Blog"},{path:"/services",icon:"",label:"Hizmetler"},{path:"/locations",icon:"",label:"Lokasyonlar"},{path:"/seo-links",icon:"",label:"SEO Link Ynetimi"},{path:"/seo-pages",icon:"",label:"SEO Sayfalar"},{path:"/quotes",icon:"",label:"Teklif Talepleri"},{path:"/freelancers",icon:"",label:"Freelancer Bavurular"},{path:"/media",icon:"",label:"Medya"},{path:"/pexels",icon:"",label:"Pexels Koleksiyon"},{path:"/settings",icon:"",label:"Ayarlar"},{path:"/settings-ai",icon:"",label:"AI Ayarlar"}];return N.jsxs("div",{className:"w-72 bg-gradient-to-b from-slate-900 to-black text-white min-h-screen p-6 flex flex-col border-r border-white/5 shadow-2xl",children:[N.jsxs("div",{className:"mb-10 px-2 flex items-center gap-3",children:[N.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-2xl flex items-center justify-center text-xl shadow-lg shadow-blue-500/20 rotate-3",children:""}),N.jsxs("div",{children:[N.jsx("h1",{className:"text-lg font-black tracking-tighter leading-none",children:"MEKAN"}),N.jsx("p",{className:"text-[10px] text-blue-400 font-bold tracking-[0.2em] uppercase",children:"Fotorafs"})]})]}),N.jsx("nav",{className:"flex-1 space-y-1.5 relative",children:u.map(p=>{const x=l.pathname.startsWith(p.path);return N.jsxs(uy,{to:p.path,className:`group relative flex items-center gap-4 px-4 py-3 rounded-2xl transition-all duration-300 ${x?"bg-blue-600 text-white shadow-lg shadow-blue-500/20":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:[x&&N.jsx(Va.div,{layoutId:"active-pill",className:"absolute left-[-1.5rem] w-1.5 h-8 bg-blue-500 rounded-r-full"}),N.jsx("span",{className:`text-lg transition-transform group-hover:scale-125 duration-300 ${x?"grayscale-0":"grayscale opacity-70 group-hover:grayscale-0 group-hover:opacity-100"}`,children:p.icon}),N.jsx("span",{className:"text-sm font-bold tracking-tight",children:p.label})]},p.path)})}),N.jsx("div",{className:"mt-auto pt-6 border-t border-white/5",children:N.jsxs("button",{onClick:()=>{localStorage.removeItem("admin_token"),window.location.href="/admin/"},className:"w-full flex items-center gap-4 px-4 py-3 rounded-2xl text-slate-500 hover:text-red-400 hover:bg-red-400/5 transition-all group",children:[N.jsx("span",{className:"text-xl grayscale group-hover:grayscale-0 transition-all",children:""}),N.jsx("span",{className:"text-sm font-bold tracking-tight",children:"Oturumu Kapat"})]})})]})}function Pxe(){const{user:l,logout:u}=mz(),p=async()=>{try{await as.post("/auth.php?action=logout")}catch(x){console.error("Logout error:",x)}finally{u(),window.location.href="/admin/"}};return N.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[N.jsx(Fxe,{}),N.jsxs("div",{className:"flex-1 flex flex-col",children:[N.jsxs("header",{className:"bg-white shadow-sm px-6 py-4 flex justify-between items-center",children:[N.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Admin Panel"}),N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsx("span",{className:"text-sm text-gray-600",children:l?.name||"Admin"}),N.jsx("button",{onClick:p,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition",children:"k"})]})]}),N.jsx(Va.main,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"flex-1 p-8",children:N.jsx(gie,{})},window.location.pathname)]})]})}function $xe(){const{isAuthenticated:l,token:u,logout:p}=mz();return ze.useEffect(()=>{!localStorage.getItem("admin_token")&&l&&p()},[l,u,p]),!l||!u?N.jsx(Tee,{to:"/",replace:!0}):N.jsx(gie,{})}function Ixe(){const{isAuthenticated:l,initialize:u}=mz();return ze.useEffect(()=>{u()},[u]),N.jsx(ife,{basename:"/admin",children:N.jsxs(Pde,{children:[N.jsx(Zc,{path:"/",element:l?N.jsx(Tee,{to:"/dashboard",replace:!0}):N.jsx(Ipe,{})}),N.jsx(Zc,{element:N.jsx($xe,{}),children:N.jsxs(Zc,{element:N.jsx(Pxe,{}),children:[N.jsx(Zc,{path:"/dashboard",element:N.jsx(Hpe,{})}),N.jsx(Zc,{path:"/pages",element:N.jsx(Tve,{})}),N.jsx(Zc,{path:"/pages/new",element:N.jsx(H3,{})}),N.jsx(Zc,{path:"/pages/edit/:id",element:N.jsx(H3,{})}),N.jsx(Zc,{path:"/locations",element:N.jsx(Cve,{})}),N.jsx(Zc,{path:"/services",element:N.jsx(Sve,{})}),N.jsx(Zc,{path:"/services/new",element:N.jsx(H3,{})}),N.jsx(Zc,{path:"/services/edit/:id",element:N.jsx(H3,{})}),N.jsx(Zc,{path:"/blog",element:N.jsx(Eve,{})}),N.jsx(Zc,{path:"/blog/new",element:N.jsx(H3,{})}),N.jsx(Zc,{path:"/blog/edit/:id",element:N.jsx(H3,{})}),N.jsx(Zc,{path:"/seo-pages",element:N.jsx(Ave,{})}),N.jsx(Zc,{path:"/seo-links",element:N.jsx(Bxe,{})}),N.jsx(Zc,{path:"/quotes",element:N.jsx(_ve,{})}),N.jsx(Zc,{path:"/freelancers",element:N.jsx(Lxe,{})}),N.jsx(Zc,{path:"/media",element:N.jsx(Dve,{})}),N.jsx(Zc,{path:"/pexels",element:N.jsx(Ove,{})}),N.jsx(Zc,{path:"/settings",element:N.jsx(Rxe,{})}),N.jsx(Zc,{path:"/settings-ai",element:N.jsx(Mxe,{})})]})}),N.jsx(Zc,{path:"*",element:N.jsx(Tee,{to:"/",replace:!0})})]})})}Pue.createRoot(document.getElementById("root")).render(N.jsx(qM.StrictMode,{children:N.jsx(Ixe,{})}));
