(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))x(A);new MutationObserver(A=>{for(const N of A)if(N.type==="childList")for(const O of N.addedNodes)O.tagName==="LINK"&&O.rel==="modulepreload"&&x(O)}).observe(document,{childList:!0,subtree:!0});function p(A){const N={};return A.integrity&&(N.integrity=A.integrity),A.referrerPolicy&&(N.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?N.credentials="include":A.crossOrigin==="anonymous"?N.credentials="omit":N.credentials="same-origin",N}function x(A){if(A.ep)return;A.ep=!0;const N=p(A);fetch(A.href,N)}})();function sie(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var zJ={exports:{}},HM={};var goe;function Nue(){if(goe)return HM;goe=1;var l=Symbol.for("react.transitional.element"),d=Symbol.for("react.fragment");function p(x,A,N){var O=null;if(N!==void 0&&(O=""+N),A.key!==void 0&&(O=""+A.key),"key"in A){N={};for(var z in A)z!=="key"&&(N[z]=A[z])}else N=A;return A=N.ref,{$$typeof:l,type:x,key:O,ref:A!==void 0?A:null,props:N}}return HM.Fragment=d,HM.jsx=p,HM.jsxs=p,HM}var poe;function Rue(){return poe||(poe=1,zJ.exports=Nue()),zJ.exports}var B=Rue(),jJ={exports:{}},Fr={};var boe;function Mue(){if(boe)return Fr;boe=1;var l=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),O=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),V=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),ue=Symbol.iterator;function Ce(le){return le===null||typeof le!="object"?null:(le=ue&&le[ue]||le["@@iterator"],typeof le=="function"?le:null)}var be={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$e=Object.assign,pe={};function it(le,Ve,It){this.props=le,this.context=Ve,this.refs=pe,this.updater=It||be}it.prototype.isReactComponent={},it.prototype.setState=function(le,Ve){if(typeof le!="object"&&typeof le!="function"&&le!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,le,Ve,"setState")},it.prototype.forceUpdate=function(le){this.updater.enqueueForceUpdate(this,le,"forceUpdate")};function Se(){}Se.prototype=it.prototype;function J(le,Ve,It){this.props=le,this.context=Ve,this.refs=pe,this.updater=It||be}var vt=J.prototype=new Se;vt.constructor=J,$e(vt,it.prototype),vt.isPureReactComponent=!0;var Gt=Array.isArray;function Xe(){}var ie={H:null,A:null,T:null,S:null},ct=Object.prototype.hasOwnProperty;function xn(le,Ve,It){var Ne=It.ref;return{$$typeof:l,type:le,key:Ve,ref:Ne!==void 0?Ne:null,props:It}}function fn(le,Ve){return xn(le.type,Ve,le.props)}function qe(le){return typeof le=="object"&&le!==null&&le.$$typeof===l}function Re(le){var Ve={"=":"=0",":":"=2"};return"$"+le.replace(/[=:]/g,function(It){return Ve[It]})}var Qo=/\/+/g;function yt(le,Ve){return typeof le=="object"&&le!==null&&le.key!=null?Re(""+le.key):Ve.toString(36)}function Lt(le){switch(le.status){case"fulfilled":return le.value;case"rejected":throw le.reason;default:switch(typeof le.status=="string"?le.then(Xe,Xe):(le.status="pending",le.then(function(Ve){le.status==="pending"&&(le.status="fulfilled",le.value=Ve)},function(Ve){le.status==="pending"&&(le.status="rejected",le.reason=Ve)})),le.status){case"fulfilled":return le.value;case"rejected":throw le.reason}}throw le}function F(le,Ve,It,Ne,ft){var He=typeof le;(He==="undefined"||He==="boolean")&&(le=null);var dt=!1;if(le===null)dt=!0;else switch(He){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(le.$$typeof){case l:case d:dt=!0;break;case Y:return dt=le._init,F(dt(le._payload),Ve,It,Ne,ft)}}if(dt)return ft=ft(le),dt=Ne===""?"."+yt(le,0):Ne,Gt(ft)?(It="",dt!=null&&(It=dt.replace(Qo,"$&/")+"/"),F(ft,Ve,It,"",function(xo){return xo})):ft!=null&&(qe(ft)&&(ft=fn(ft,It+(ft.key==null||le&&le.key===ft.key?"":(""+ft.key).replace(Qo,"$&/")+"/")+dt)),Ve.push(ft)),1;dt=0;var X=Ne===""?".":Ne+":";if(Gt(le))for(var $o=0;$o<le.length;$o++)Ne=le[$o],He=X+yt(Ne,$o),dt+=F(Ne,Ve,It,He,ft);else if($o=Ce(le),typeof $o=="function")for(le=$o.call(le),$o=0;!(Ne=le.next()).done;)Ne=Ne.value,He=X+yt(Ne,$o++),dt+=F(Ne,Ve,It,He,ft);else if(He==="object"){if(typeof le.then=="function")return F(Lt(le),Ve,It,Ne,ft);throw Ve=String(le),Error("Objects are not valid as a React child (found: "+(Ve==="[object Object]"?"object with keys {"+Object.keys(le).join(", ")+"}":Ve)+"). If you meant to render a collection of children, use an array instead.")}return dt}function jt(le,Ve,It){if(le==null)return le;var Ne=[],ft=0;return F(le,Ne,"","",function(He){return Ve.call(It,He,ft++)}),Ne}function at(le){if(le._status===-1){var Ve=le._result;Ve=Ve(),Ve.then(function(It){(le._status===0||le._status===-1)&&(le._status=1,le._result=It)},function(It){(le._status===0||le._status===-1)&&(le._status=2,le._result=It)}),le._status===-1&&(le._status=0,le._result=Ve)}if(le._status===1)return le._result.default;throw le._result}var Jn=typeof reportError=="function"?reportError:function(le){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Ve=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof le=="object"&&le!==null&&typeof le.message=="string"?String(le.message):String(le),error:le});if(!window.dispatchEvent(Ve))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",le);return}console.error(le)},an={map:jt,forEach:function(le,Ve,It){jt(le,function(){Ve.apply(this,arguments)},It)},count:function(le){var Ve=0;return jt(le,function(){Ve++}),Ve},toArray:function(le){return jt(le,function(Ve){return Ve})||[]},only:function(le){if(!qe(le))throw Error("React.Children.only expected to receive a single React element child.");return le}};return Fr.Activity=ee,Fr.Children=an,Fr.Component=it,Fr.Fragment=p,Fr.Profiler=A,Fr.PureComponent=J,Fr.StrictMode=x,Fr.Suspense=U,Fr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,Fr.__COMPILER_RUNTIME={__proto__:null,c:function(le){return ie.H.useMemoCache(le)}},Fr.cache=function(le){return function(){return le.apply(null,arguments)}},Fr.cacheSignal=function(){return null},Fr.cloneElement=function(le,Ve,It){if(le==null)throw Error("The argument must be a React element, but you passed "+le+".");var Ne=$e({},le.props),ft=le.key;if(Ve!=null)for(He in Ve.key!==void 0&&(ft=""+Ve.key),Ve)!ct.call(Ve,He)||He==="key"||He==="__self"||He==="__source"||He==="ref"&&Ve.ref===void 0||(Ne[He]=Ve[He]);var He=arguments.length-2;if(He===1)Ne.children=It;else if(1<He){for(var dt=Array(He),X=0;X<He;X++)dt[X]=arguments[X+2];Ne.children=dt}return xn(le.type,ft,Ne)},Fr.createContext=function(le){return le={$$typeof:O,_currentValue:le,_currentValue2:le,_threadCount:0,Provider:null,Consumer:null},le.Provider=le,le.Consumer={$$typeof:N,_context:le},le},Fr.createElement=function(le,Ve,It){var Ne,ft={},He=null;if(Ve!=null)for(Ne in Ve.key!==void 0&&(He=""+Ve.key),Ve)ct.call(Ve,Ne)&&Ne!=="key"&&Ne!=="__self"&&Ne!=="__source"&&(ft[Ne]=Ve[Ne]);var dt=arguments.length-2;if(dt===1)ft.children=It;else if(1<dt){for(var X=Array(dt),$o=0;$o<dt;$o++)X[$o]=arguments[$o+2];ft.children=X}if(le&&le.defaultProps)for(Ne in dt=le.defaultProps,dt)ft[Ne]===void 0&&(ft[Ne]=dt[Ne]);return xn(le,He,ft)},Fr.createRef=function(){return{current:null}},Fr.forwardRef=function(le){return{$$typeof:z,render:le}},Fr.isValidElement=qe,Fr.lazy=function(le){return{$$typeof:Y,_payload:{_status:-1,_result:le},_init:at}},Fr.memo=function(le,Ve){return{$$typeof:V,type:le,compare:Ve===void 0?null:Ve}},Fr.startTransition=function(le){var Ve=ie.T,It={};ie.T=It;try{var Ne=le(),ft=ie.S;ft!==null&&ft(It,Ne),typeof Ne=="object"&&Ne!==null&&typeof Ne.then=="function"&&Ne.then(Xe,Jn)}catch(He){Jn(He)}finally{Ve!==null&&It.types!==null&&(Ve.types=It.types),ie.T=Ve}},Fr.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},Fr.use=function(le){return ie.H.use(le)},Fr.useActionState=function(le,Ve,It){return ie.H.useActionState(le,Ve,It)},Fr.useCallback=function(le,Ve){return ie.H.useCallback(le,Ve)},Fr.useContext=function(le){return ie.H.useContext(le)},Fr.useDebugValue=function(){},Fr.useDeferredValue=function(le,Ve){return ie.H.useDeferredValue(le,Ve)},Fr.useEffect=function(le,Ve){return ie.H.useEffect(le,Ve)},Fr.useEffectEvent=function(le){return ie.H.useEffectEvent(le)},Fr.useId=function(){return ie.H.useId()},Fr.useImperativeHandle=function(le,Ve,It){return ie.H.useImperativeHandle(le,Ve,It)},Fr.useInsertionEffect=function(le,Ve){return ie.H.useInsertionEffect(le,Ve)},Fr.useLayoutEffect=function(le,Ve){return ie.H.useLayoutEffect(le,Ve)},Fr.useMemo=function(le,Ve){return ie.H.useMemo(le,Ve)},Fr.useOptimistic=function(le,Ve){return ie.H.useOptimistic(le,Ve)},Fr.useReducer=function(le,Ve,It){return ie.H.useReducer(le,Ve,It)},Fr.useRef=function(le){return ie.H.useRef(le)},Fr.useState=function(le){return ie.H.useState(le)},Fr.useSyncExternalStore=function(le,Ve,It){return ie.H.useSyncExternalStore(le,Ve,It)},Fr.useTransition=function(){return ie.H.useTransition()},Fr.version="19.2.3",Fr}var yoe;function ste(){return yoe||(yoe=1,jJ.exports=Mue()),jJ.exports}var Ze=ste();const WM=sie(Ze);var VJ={exports:{}},zM={},UJ={exports:{}},ZJ={};var voe;function Bue(){return voe||(voe=1,(function(l){function d(F,jt){var at=F.length;F.push(jt);e:for(;0<at;){var Jn=at-1>>>1,an=F[Jn];if(0<A(an,jt))F[Jn]=jt,F[at]=an,at=Jn;else break e}}function p(F){return F.length===0?null:F[0]}function x(F){if(F.length===0)return null;var jt=F[0],at=F.pop();if(at!==jt){F[0]=at;e:for(var Jn=0,an=F.length,le=an>>>1;Jn<le;){var Ve=2*(Jn+1)-1,It=F[Ve],Ne=Ve+1,ft=F[Ne];if(0>A(It,at))Ne<an&&0>A(ft,It)?(F[Jn]=ft,F[Ne]=at,Jn=Ne):(F[Jn]=It,F[Ve]=at,Jn=Ve);else if(Ne<an&&0>A(ft,at))F[Jn]=ft,F[Ne]=at,Jn=Ne;else break e}}return jt}function A(F,jt){var at=F.sortIndex-jt.sortIndex;return at!==0?at:F.id-jt.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var N=performance;l.unstable_now=function(){return N.now()}}else{var O=Date,z=O.now();l.unstable_now=function(){return O.now()-z}}var U=[],V=[],Y=1,ee=null,ue=3,Ce=!1,be=!1,$e=!1,pe=!1,it=typeof setTimeout=="function"?setTimeout:null,Se=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function vt(F){for(var jt=p(V);jt!==null;){if(jt.callback===null)x(V);else if(jt.startTime<=F)x(V),jt.sortIndex=jt.expirationTime,d(U,jt);else break;jt=p(V)}}function Gt(F){if($e=!1,vt(F),!be)if(p(U)!==null)be=!0,Xe||(Xe=!0,Re());else{var jt=p(V);jt!==null&&Lt(Gt,jt.startTime-F)}}var Xe=!1,ie=-1,ct=5,xn=-1;function fn(){return pe?!0:!(l.unstable_now()-xn<ct)}function qe(){if(pe=!1,Xe){var F=l.unstable_now();xn=F;var jt=!0;try{e:{be=!1,$e&&($e=!1,Se(ie),ie=-1),Ce=!0;var at=ue;try{t:{for(vt(F),ee=p(U);ee!==null&&!(ee.expirationTime>F&&fn());){var Jn=ee.callback;if(typeof Jn=="function"){ee.callback=null,ue=ee.priorityLevel;var an=Jn(ee.expirationTime<=F);if(F=l.unstable_now(),typeof an=="function"){ee.callback=an,vt(F),jt=!0;break t}ee===p(U)&&x(U),vt(F)}else x(U);ee=p(U)}if(ee!==null)jt=!0;else{var le=p(V);le!==null&&Lt(Gt,le.startTime-F),jt=!1}}break e}finally{ee=null,ue=at,Ce=!1}jt=void 0}}finally{jt?Re():Xe=!1}}}var Re;if(typeof J=="function")Re=function(){J(qe)};else if(typeof MessageChannel<"u"){var Qo=new MessageChannel,yt=Qo.port2;Qo.port1.onmessage=qe,Re=function(){yt.postMessage(null)}}else Re=function(){it(qe,0)};function Lt(F,jt){ie=it(function(){F(l.unstable_now())},jt)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(F){F.callback=null},l.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ct=0<F?Math.floor(1e3/F):5},l.unstable_getCurrentPriorityLevel=function(){return ue},l.unstable_next=function(F){switch(ue){case 1:case 2:case 3:var jt=3;break;default:jt=ue}var at=ue;ue=jt;try{return F()}finally{ue=at}},l.unstable_requestPaint=function(){pe=!0},l.unstable_runWithPriority=function(F,jt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var at=ue;ue=F;try{return jt()}finally{ue=at}},l.unstable_scheduleCallback=function(F,jt,at){var Jn=l.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?Jn+at:Jn):at=Jn,F){case 1:var an=-1;break;case 2:an=250;break;case 5:an=1073741823;break;case 4:an=1e4;break;default:an=5e3}return an=at+an,F={id:Y++,callback:jt,priorityLevel:F,startTime:at,expirationTime:an,sortIndex:-1},at>Jn?(F.sortIndex=at,d(V,F),p(U)===null&&F===p(V)&&($e?(Se(ie),ie=-1):$e=!0,Lt(Gt,at-Jn))):(F.sortIndex=an,d(U,F),be||Ce||(be=!0,Xe||(Xe=!0,Re()))),F},l.unstable_shouldYield=fn,l.unstable_wrapCallback=function(F){var jt=ue;return function(){var at=ue;ue=jt;try{return F.apply(this,arguments)}finally{ue=at}}}})(ZJ)),ZJ}var xoe;function Lue(){return xoe||(xoe=1,UJ.exports=Bue()),UJ.exports}var WJ={exports:{}},gh={};var woe;function Pue(){if(woe)return gh;woe=1;var l=ste();function d(U){var V="https://react.dev/errors/"+U;if(1<arguments.length){V+="?args[]="+encodeURIComponent(arguments[1]);for(var Y=2;Y<arguments.length;Y++)V+="&args[]="+encodeURIComponent(arguments[Y])}return"Minified React error #"+U+"; visit "+V+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(){}var x={d:{f:p,r:function(){throw Error(d(522))},D:p,C:p,L:p,m:p,X:p,S:p,M:p},p:0,findDOMNode:null},A=Symbol.for("react.portal");function N(U,V,Y){var ee=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:ee==null?null:""+ee,children:U,containerInfo:V,implementation:Y}}var O=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function z(U,V){if(U==="font")return"";if(typeof V=="string")return V==="use-credentials"?V:""}return gh.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,gh.createPortal=function(U,V){var Y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V||V.nodeType!==1&&V.nodeType!==9&&V.nodeType!==11)throw Error(d(299));return N(U,V,null,Y)},gh.flushSync=function(U){var V=O.T,Y=x.p;try{if(O.T=null,x.p=2,U)return U()}finally{O.T=V,x.p=Y,x.d.f()}},gh.preconnect=function(U,V){typeof U=="string"&&(V?(V=V.crossOrigin,V=typeof V=="string"?V==="use-credentials"?V:"":void 0):V=null,x.d.C(U,V))},gh.prefetchDNS=function(U){typeof U=="string"&&x.d.D(U)},gh.preinit=function(U,V){if(typeof U=="string"&&V&&typeof V.as=="string"){var Y=V.as,ee=z(Y,V.crossOrigin),ue=typeof V.integrity=="string"?V.integrity:void 0,Ce=typeof V.fetchPriority=="string"?V.fetchPriority:void 0;Y==="style"?x.d.S(U,typeof V.precedence=="string"?V.precedence:void 0,{crossOrigin:ee,integrity:ue,fetchPriority:Ce}):Y==="script"&&x.d.X(U,{crossOrigin:ee,integrity:ue,fetchPriority:Ce,nonce:typeof V.nonce=="string"?V.nonce:void 0})}},gh.preinitModule=function(U,V){if(typeof U=="string")if(typeof V=="object"&&V!==null){if(V.as==null||V.as==="script"){var Y=z(V.as,V.crossOrigin);x.d.M(U,{crossOrigin:Y,integrity:typeof V.integrity=="string"?V.integrity:void 0,nonce:typeof V.nonce=="string"?V.nonce:void 0})}}else V==null&&x.d.M(U)},gh.preload=function(U,V){if(typeof U=="string"&&typeof V=="object"&&V!==null&&typeof V.as=="string"){var Y=V.as,ee=z(Y,V.crossOrigin);x.d.L(U,Y,{crossOrigin:ee,integrity:typeof V.integrity=="string"?V.integrity:void 0,nonce:typeof V.nonce=="string"?V.nonce:void 0,type:typeof V.type=="string"?V.type:void 0,fetchPriority:typeof V.fetchPriority=="string"?V.fetchPriority:void 0,referrerPolicy:typeof V.referrerPolicy=="string"?V.referrerPolicy:void 0,imageSrcSet:typeof V.imageSrcSet=="string"?V.imageSrcSet:void 0,imageSizes:typeof V.imageSizes=="string"?V.imageSizes:void 0,media:typeof V.media=="string"?V.media:void 0})}},gh.preloadModule=function(U,V){if(typeof U=="string")if(V){var Y=z(V.as,V.crossOrigin);x.d.m(U,{as:typeof V.as=="string"&&V.as!=="script"?V.as:void 0,crossOrigin:Y,integrity:typeof V.integrity=="string"?V.integrity:void 0})}else x.d.m(U)},gh.requestFormReset=function(U){x.d.r(U)},gh.unstable_batchedUpdates=function(U,V){return U(V)},gh.useFormState=function(U,V,Y){return O.H.useFormState(U,V,Y)},gh.useFormStatus=function(){return O.H.useHostTransitionStatus()},gh.version="19.2.3",gh}var Coe;function Fue(){if(Coe)return WJ.exports;Coe=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(d){console.error(d)}}return l(),WJ.exports=Pue(),WJ.exports}var Soe;function $ue(){if(Soe)return zM;Soe=1;var l=Lue(),d=ste(),p=Fue();function x(a){var u="https://react.dev/errors/"+a;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)u+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function A(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function N(a){var u=a,g=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(g=u.return),a=u.return;while(a)}return u.tag===3?g:null}function O(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function z(a){if(a.tag===31){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function U(a){if(N(a)!==a)throw Error(x(188))}function V(a){var u=a.alternate;if(!u){if(u=N(a),u===null)throw Error(x(188));return u!==a?null:a}for(var g=a,C=u;;){var R=g.return;if(R===null)break;var $=R.alternate;if($===null){if(C=R.return,C!==null){g=C;continue}break}if(R.child===$.child){for($=R.child;$;){if($===g)return U(R),a;if($===C)return U(R),u;$=$.sibling}throw Error(x(188))}if(g.return!==C.return)g=R,C=$;else{for(var se=!1,fe=R.child;fe;){if(fe===g){se=!0,g=R,C=$;break}if(fe===C){se=!0,C=R,g=$;break}fe=fe.sibling}if(!se){for(fe=$.child;fe;){if(fe===g){se=!0,g=$,C=R;break}if(fe===C){se=!0,C=$,g=R;break}fe=fe.sibling}if(!se)throw Error(x(189))}}if(g.alternate!==C)throw Error(x(190))}if(g.tag!==3)throw Error(x(188));return g.stateNode.current===g?a:u}function Y(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a;for(a=a.child;a!==null;){if(u=Y(a),u!==null)return u;a=a.sibling}return null}var ee=Object.assign,ue=Symbol.for("react.element"),Ce=Symbol.for("react.transitional.element"),be=Symbol.for("react.portal"),$e=Symbol.for("react.fragment"),pe=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),Se=Symbol.for("react.consumer"),J=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),Gt=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),ct=Symbol.for("react.lazy"),xn=Symbol.for("react.activity"),fn=Symbol.for("react.memo_cache_sentinel"),qe=Symbol.iterator;function Re(a){return a===null||typeof a!="object"?null:(a=qe&&a[qe]||a["@@iterator"],typeof a=="function"?a:null)}var Qo=Symbol.for("react.client.reference");function yt(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Qo?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case $e:return"Fragment";case it:return"Profiler";case pe:return"StrictMode";case Gt:return"Suspense";case Xe:return"SuspenseList";case xn:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case be:return"Portal";case J:return a.displayName||"Context";case Se:return(a._context.displayName||"Context")+".Consumer";case vt:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ie:return u=a.displayName||null,u!==null?u:yt(a.type)||"Memo";case ct:u=a._payload,a=a._init;try{return yt(a(u))}catch{}}return null}var Lt=Array.isArray,F=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,jt=p.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},Jn=[],an=-1;function le(a){return{current:a}}function Ve(a){0>an||(a.current=Jn[an],Jn[an]=null,an--)}function It(a,u){an++,Jn[an]=a.current,a.current=u}var Ne=le(null),ft=le(null),He=le(null),dt=le(null);function X(a,u){switch(It(He,u),It(ft,a),It(Ne,null),u.nodeType){case 9:case 11:a=(a=u.documentElement)&&(a=a.namespaceURI)?My(a):0;break;default:if(a=u.tagName,u=u.namespaceURI)u=My(u),a=xb(u,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Ve(Ne),It(Ne,a)}function $o(){Ve(Ne),Ve(ft),Ve(He)}function xo(a){a.memoizedState!==null&&It(dt,a);var u=Ne.current,g=xb(u,a.type);u!==g&&(It(ft,a),It(Ne,g))}function Mo(a){ft.current===a&&(Ve(Ne),Ve(ft)),dt.current===a&&(Ve(dt),ld._currentValue=at)}var Ho,js;function Be(a){if(Ho===void 0)try{throw Error()}catch(g){var u=g.stack.trim().match(/\n( *(at )?)/);Ho=u&&u[1]||"",js=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ho+a+js}var Ke=!1;function tt(a,u){if(!a||Ke)return"";Ke=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(u){var Dn=function(){throw Error()};if(Object.defineProperty(Dn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Dn,[])}catch(cn){var Qt=cn}Reflect.construct(a,[],Dn)}else{try{Dn.call()}catch(cn){Qt=cn}a.call(Dn.prototype)}}else{try{throw Error()}catch(cn){Qt=cn}(Dn=a())&&typeof Dn.catch=="function"&&Dn.catch(function(){})}}catch(cn){if(cn&&Qt&&typeof cn.stack=="string")return[cn.stack,Qt.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var $=C.DetermineComponentFrameRoot(),se=$[0],fe=$[1];if(se&&fe){var lt=se.split(`
`),Ut=fe.split(`
`);for(R=C=0;C<lt.length&&!lt[C].includes("DetermineComponentFrameRoot");)C++;for(;R<Ut.length&&!Ut[R].includes("DetermineComponentFrameRoot");)R++;if(C===lt.length||R===Ut.length)for(C=lt.length-1,R=Ut.length-1;1<=C&&0<=R&&lt[C]!==Ut[R];)R--;for(;1<=C&&0<=R;C--,R--)if(lt[C]!==Ut[R]){if(C!==1||R!==1)do if(C--,R--,0>R||lt[C]!==Ut[R]){var bn=`
`+lt[C].replace(" at new "," at ");return a.displayName&&bn.includes("<anonymous>")&&(bn=bn.replace("<anonymous>",a.displayName)),bn}while(1<=C&&0<=R);break}}}finally{Ke=!1,Error.prepareStackTrace=g}return(g=a?a.displayName||a.name:"")?Be(g):""}function Le(a,u){switch(a.tag){case 26:case 27:case 5:return Be(a.type);case 16:return Be("Lazy");case 13:return a.child!==u&&u!==null?Be("Suspense Fallback"):Be("Suspense");case 19:return Be("SuspenseList");case 0:case 15:return tt(a.type,!1);case 11:return tt(a.type.render,!1);case 1:return tt(a.type,!0);case 31:return Be("Activity");default:return""}}function Je(a){try{var u="",g=null;do u+=Le(a,g),g=a,a=a.return;while(a);return u}catch(C){return`
Error generating stack: `+C.message+`
`+C.stack}}var Nt=Object.prototype.hasOwnProperty,xt=l.unstable_scheduleCallback,Un=l.unstable_cancelCallback,Dt=l.unstable_shouldYield,Pe=l.unstable_requestPaint,Tt=l.unstable_now,sn=l.unstable_getCurrentPriorityLevel,Zn=l.unstable_ImmediatePriority,Yo=l.unstable_UserBlockingPriority,Jo=l.unstable_NormalPriority,Do=l.unstable_LowPriority,mr=l.unstable_IdlePriority,zo=l.log,os=l.unstable_setDisableYieldValue,Vs=null,Ss=null;function Xs(a){if(typeof zo=="function"&&os(a),Ss&&typeof Ss.setStrictMode=="function")try{Ss.setStrictMode(Vs,a)}catch{}}var gs=Math.clz32?Math.clz32:$r,Wr=Math.log,Es=Math.LN2;function $r(a){return a>>>=0,a===0?32:31-(Wr(a)/Es|0)|0}var Ma=256,Hn=262144,ts=4194304;function Oo(a){var u=a&42;if(u!==0)return u;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ci(a,u,g){var C=a.pendingLanes;if(C===0)return 0;var R=0,$=a.suspendedLanes,se=a.pingedLanes;a=a.warmLanes;var fe=C&134217727;return fe!==0?(C=fe&~$,C!==0?R=Oo(C):(se&=fe,se!==0?R=Oo(se):g||(g=fe&~a,g!==0&&(R=Oo(g))))):(fe=C&~$,fe!==0?R=Oo(fe):se!==0?R=Oo(se):g||(g=C&~a,g!==0&&(R=Oo(g)))),R===0?0:u!==0&&u!==R&&(u&$)===0&&($=R&-R,g=u&-u,$>=g||$===32&&(g&4194048)!==0)?u:R}function Ba(a,u){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&u)===0}function Mn(a,u){switch(a){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zt(){var a=ts;return ts<<=1,(ts&62914560)===0&&(ts=4194304),a}function Kt(a){for(var u=[],g=0;31>g;g++)u.push(a);return u}function Yn(a,u){a.pendingLanes|=u,u!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Gn(a,u,g,C,R,$){var se=a.pendingLanes;a.pendingLanes=g,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=g,a.entangledLanes&=g,a.errorRecoveryDisabledLanes&=g,a.shellSuspendCounter=0;var fe=a.entanglements,lt=a.expirationTimes,Ut=a.hiddenUpdates;for(g=se&~g;0<g;){var bn=31-gs(g),Dn=1<<bn;fe[bn]=0,lt[bn]=-1;var Qt=Ut[bn];if(Qt!==null)for(Ut[bn]=null,bn=0;bn<Qt.length;bn++){var cn=Qt[bn];cn!==null&&(cn.lane&=-536870913)}g&=~Dn}C!==0&&vo(a,C,0),$!==0&&R===0&&a.tag!==0&&(a.suspendedLanes|=$&~(se&~u))}function vo(a,u,g){a.pendingLanes|=u,a.suspendedLanes&=~u;var C=31-gs(u);a.entangledLanes|=u,a.entanglements[C]=a.entanglements[C]|1073741824|g&261930}function No(a,u){var g=a.entangledLanes|=u;for(a=a.entanglements;g;){var C=31-gs(g),R=1<<C;R&u|a[C]&u&&(a[C]|=u),g&=~R}}function Qn(a,u){var g=u&-u;return g=(g&42)!==0?1:ls(g),(g&(a.suspendedLanes|u))!==0?0:g}function ls(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function La(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function sl(){var a=jt.p;return a!==0?a:(a=window.event,a===void 0?32:_b(a.type))}function gi(a,u){var g=jt.p;try{return jt.p=a,u()}finally{jt.p=g}}var Pn=Math.random().toString(36).slice(2),er="__reactFiber$"+Pn,tr="__reactProps$"+Pn,jl="__reactContainer$"+Pn,Ie="__reactEvents$"+Pn,Ue="__reactListeners$"+Pn,nt="__reactHandles$"+Pn,gn="__reactResources$"+Pn,Ao="__reactMarker$"+Pn;function co(a){delete a[er],delete a[tr],delete a[Ie],delete a[Ue],delete a[nt]}function Zo(a){var u=a[er];if(u)return u;for(var g=a.parentNode;g;){if(u=g[jl]||g[er]){if(g=u.alternate,u.child!==null||g!==null&&g.child!==null)for(a=ya(a);a!==null;){if(g=a[er])return g;a=ya(a)}return u}a=g,g=a.parentNode}return null}function us(a){if(a=a[er]||a[jl]){var u=a.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return a}return null}function ko(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a.stateNode;throw Error(x(33))}function Qs(a){var u=a[gn];return u||(u=a[gn]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function me(a){a[Ao]=!0}var je=new Set,Vt={};function wn(a,u){qt(a,u),qt(a+"Capture",u)}function qt(a,u){for(Vt[a]=u,a=0;a<u.length;a++)je.add(u[a])}var wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oo={},Bn={};function Uo(a){return Nt.call(Bn,a)?!0:Nt.call(oo,a)?!1:wo.test(a)?Bn[a]=!0:(oo[a]=!0,!1)}function vs(a,u,g){if(Uo(u))if(g===null)a.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":a.removeAttribute(u);return;case"boolean":var C=u.toLowerCase().slice(0,5);if(C!=="data-"&&C!=="aria-"){a.removeAttribute(u);return}}a.setAttribute(u,""+g)}}function Ts(a,u,g){if(g===null)a.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttribute(u,""+g)}}function As(a,u,g,C){if(C===null)a.removeAttribute(g);else{switch(typeof C){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(g);return}a.setAttributeNS(u,g,""+C)}}function sa(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Sa(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Qf(a,u,g){var C=Object.getOwnPropertyDescriptor(a.constructor.prototype,u);if(!a.hasOwnProperty(u)&&typeof C<"u"&&typeof C.get=="function"&&typeof C.set=="function"){var R=C.get,$=C.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return R.call(this)},set:function(se){g=""+se,$.call(this,se)}}),Object.defineProperty(a,u,{enumerable:C.enumerable}),{getValue:function(){return g},setValue:function(se){g=""+se},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Tr(a){if(!a._valueTracker){var u=Sa(a)?"checked":"value";a._valueTracker=Qf(a,u,""+a[u])}}function Fs(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var g=u.getValue(),C="";return a&&(C=Sa(a)?a.checked?"true":"false":a.value),a=C,a!==g?(u.setValue(a),!0):!1}function ir(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Vi=/[\n"\\]/g;function Ci(a){return a.replace(Vi,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Ir(a,u,g,C,R,$,se,fe){a.name="",se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?a.type=se:a.removeAttribute("type"),u!=null?se==="number"?(u===0&&a.value===""||a.value!=u)&&(a.value=""+sa(u)):a.value!==""+sa(u)&&(a.value=""+sa(u)):se!=="submit"&&se!=="reset"||a.removeAttribute("value"),u!=null?Si(a,se,sa(u)):g!=null?Si(a,se,sa(g)):C!=null&&a.removeAttribute("value"),R==null&&$!=null&&(a.defaultChecked=!!$),R!=null&&(a.checked=R&&typeof R!="function"&&typeof R!="symbol"),fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"?a.name=""+sa(fe):a.removeAttribute("name")}function Co(a,u,g,C,R,$,se,fe){if($!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(a.type=$),u!=null||g!=null){if(!($!=="submit"&&$!=="reset"||u!=null)){Tr(a);return}g=g!=null?""+sa(g):"",u=u!=null?""+sa(u):g,fe||u===a.value||(a.value=u),a.defaultValue=u}C=C??R,C=typeof C!="function"&&typeof C!="symbol"&&!!C,a.checked=fe?a.checked:!!C,a.defaultChecked=!!C,se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"&&(a.name=se),Tr(a)}function Si(a,u,g){u==="number"&&ir(a.ownerDocument)===a||a.defaultValue===""+g||(a.defaultValue=""+g)}function ni(a,u,g,C){if(a=a.options,u){u={};for(var R=0;R<g.length;R++)u["$"+g[R]]=!0;for(g=0;g<a.length;g++)R=u.hasOwnProperty("$"+a[g].value),a[g].selected!==R&&(a[g].selected=R),R&&C&&(a[g].defaultSelected=!0)}else{for(g=""+sa(g),u=null,R=0;R<a.length;R++){if(a[R].value===g){a[R].selected=!0,C&&(a[R].defaultSelected=!0);return}u!==null||a[R].disabled||(u=a[R])}u!==null&&(u.selected=!0)}}function Jr(a,u,g){if(u!=null&&(u=""+sa(u),u!==a.value&&(a.value=u),g==null)){a.defaultValue!==u&&(a.defaultValue=u);return}a.defaultValue=g!=null?""+sa(g):""}function Sf(a,u,g,C){if(u==null){if(C!=null){if(g!=null)throw Error(x(92));if(Lt(C)){if(1<C.length)throw Error(x(93));C=C[0]}g=C}g==null&&(g=""),u=g}g=sa(u),a.defaultValue=g,C=a.textContent,C===g&&C!==""&&C!==null&&(a.value=C),Tr(a)}function uc(a,u){if(u){var g=a.firstChild;if(g&&g===a.lastChild&&g.nodeType===3){g.nodeValue=u;return}}a.textContent=u}var Hr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wu(a,u,g){var C=u.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?C?a.setProperty(u,""):u==="float"?a.cssFloat="":a[u]="":C?a.setProperty(u,g):typeof g!="number"||g===0||Hr.has(u)?u==="float"?a.cssFloat=g:a[u]=(""+g).trim():a[u]=g+"px"}function dc(a,u,g){if(u!=null&&typeof u!="object")throw Error(x(62));if(a=a.style,g!=null){for(var C in g)!g.hasOwnProperty(C)||u!=null&&u.hasOwnProperty(C)||(C.indexOf("--")===0?a.setProperty(C,""):C==="float"?a.cssFloat="":a[C]="");for(var R in u)C=u[R],u.hasOwnProperty(R)&&g[R]!==C&&wu(a,R,C)}else for(var $ in u)u.hasOwnProperty($)&&wu(a,$,u[$])}function Ef(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var An=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ri(a){return Cu.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function pi(){}var qr=null;function Kd(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ei=null,rl=null;function Tf(a){var u=us(a);if(u&&(a=u.stateNode)){var g=a[tr]||null;e:switch(a=u.stateNode,u.type){case"input":if(Ir(a,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),u=g.name,g.type==="radio"&&u!=null){for(g=a;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Ci(""+u)+'"][type="radio"]'),u=0;u<g.length;u++){var C=g[u];if(C!==a&&C.form===a.form){var R=C[tr]||null;if(!R)throw Error(x(90));Ir(C,R.value,R.defaultValue,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name)}}for(u=0;u<g.length;u++)C=g[u],C.form===a.form&&Fs(C)}break e;case"textarea":Jr(a,g.value,g.defaultValue);break e;case"select":u=g.value,u!=null&&ni(a,!!g.multiple,u,!1)}}}var Jf=!1;function Su(a,u,g){if(Jf)return a(u,g);Jf=!0;try{var C=a(u);return C}finally{if(Jf=!1,(Ei!==null||rl!==null)&&(Vp(),Ei&&(u=Ei,a=rl,rl=Ei=null,Tf(u),a)))for(u=0;u<a.length;u++)Tf(a[u])}}function Yd(a,u){var g=a.stateNode;if(g===null)return null;var C=g[tr]||null;if(C===null)return null;g=C[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(a=a.type,C=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!C;break e;default:a=!1}if(a)return null;if(g&&typeof g!="function")throw Error(x(231,u,typeof g));return g}var Dl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wc=!1;if(Dl)try{var qc={};Object.defineProperty(qc,"passive",{get:function(){Wc=!0}}),window.addEventListener("test",qc,qc),window.removeEventListener("test",qc,qc)}catch{Wc=!1}var mn=null,Eu=null,bd=null;function Vl(){if(bd)return bd;var a,u=Eu,g=u.length,C,R="value"in mn?mn.value:mn.textContent,$=R.length;for(a=0;a<g&&u[a]===R[a];a++);var se=g-a;for(C=1;C<=se&&u[g-C]===R[$-C];C++);return bd=R.slice(a,1<C?1-C:void 0)}function al(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function Vu(){return!0}function Ui(){return!1}function oi(a){function u(g,C,R,$,se){this._reactName=g,this._targetInst=R,this.type=C,this.nativeEvent=$,this.target=se,this.currentTarget=null;for(var fe in a)a.hasOwnProperty(fe)&&(g=a[fe],this[fe]=g?g($):$[fe]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?Vu:Ui,this.isPropagationStopped=Ui,this}return ee(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Vu)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Vu)},persist:function(){},isPersistent:Vu}),u}var _l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fc=oi(_l),qs=ee({},_l,{view:0,detail:0}),Af=oi(qs),te,ve,Fe,Rt=ee({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mi,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Fe&&(Fe&&a.type==="mousemove"?(te=a.screenX-Fe.screenX,ve=a.screenY-Fe.screenY):ve=te=0,Fe=a),te)},movementY:function(a){return"movementY"in a?a.movementY:ve}}),qn=oi(Rt),ps=ee({},Rt,{dataTransfer:0}),lr=oi(ps),Va=ee({},qs,{relatedTarget:0}),Ti=oi(Va),Ol=ee({},_l,{animationName:0,elapsedTime:0,pseudoElement:0}),oe=oi(Ol),ke=ee({},_l,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Qe=oi(ke),Et=ee({},_l,{data:0}),pn=oi(Et),Wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Os(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=Gs[a])?!!u[a]:!1}function Mi(){return Os}var Ea=ee({},qs,{key:function(a){if(a.key){var u=Wn[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=al(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Po[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mi,charCode:function(a){return a.type==="keypress"?al(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?al(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Xd=oi(Ea),Om=ee({},Rt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kf=oi(Om),Gc=ee({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mi}),R0=oi(Gc),M0=ee({},_l,{propertyName:0,elapsedTime:0,pseudoElement:0}),ye=oi(M0),Me=ee({},Rt,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),mt=oi(Me),Xt=ee({},_l,{newState:0,oldState:0}),po=oi(Xt),bs=[9,13,27,32],Ta=Dl&&"CompositionEvent"in window,il=null;Dl&&"documentMode"in document&&(il=document.documentMode);var Zi=Dl&&"TextEvent"in window&&!il,Ul=Dl&&(!Ta||il&&8<il&&11>=il),Qd=" ",Zl=!1;function Nm(a,u){switch(a){case"keyup":return bs.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ll=!1;function Jd(a,u){switch(a){case"compositionend":return Wl(u);case"keypress":return u.which!==32?null:(Zl=!0,Qd);case"textInput":return a=u.data,a===Qd&&Zl?null:a;default:return null}}function _c(a,u){if(ll)return a==="compositionend"||!Ta&&Nm(a,u)?(a=Vl(),bd=Eu=mn=null,ll=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Ul&&u.locale!=="ko"?null:u.data;default:return null}}var ds={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vh(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!ds[a.type]:u==="textarea"}function pp(a,u,g,C){Ei?rl?rl.push(C):rl=[C]:Ei=C,u=Hf(u,"onChange"),0<u.length&&(g=new fc("onChange","change",null,g,C),a.push({event:g,listeners:u}))}var Aa=null,B0=null;function V1(a){Vh(a,0)}function U1(a){var u=ko(a);if(Fs(u))return a}function Z1(a,u){if(a==="change")return u}var Ua=!1;if(Dl){var em;if(Dl){var W1="oninput"in document;if(!W1){var ln=document.createElement("div");ln.setAttribute("oninput","return;"),W1=typeof ln.oninput=="function"}em=W1}else em=!1;Ua=em&&(!document.documentMode||9<document.documentMode)}function Kc(){Aa&&(Aa.detachEvent("onpropertychange",bg),B0=Aa=null)}function bg(a){if(a.propertyName==="value"&&U1(B0)){var u=[];pp(u,B0,a,Kd(a)),Su(V1,u)}}function yd(a,u,g){a==="focusin"?(Kc(),Aa=u,B0=g,Aa.attachEvent("onpropertychange",bg)):a==="focusout"&&Kc()}function yg(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return U1(B0)}function q1(a,u){if(a==="click")return U1(u)}function _e(a,u){if(a==="input"||a==="change")return U1(u)}function Yc(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var vl=typeof Object.is=="function"?Object.is:Yc;function xh(a,u){if(vl(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var g=Object.keys(a),C=Object.keys(u);if(g.length!==C.length)return!1;for(C=0;C<g.length;C++){var R=g[C];if(!Nt.call(u,R)||!vl(a[R],u[R]))return!1}return!0}function wh(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Nl(a,u){var g=wh(a);a=0;for(var C;g;){if(g.nodeType===3){if(C=a+g.textContent.length,a<=u&&C>=u)return{node:g,offset:u-a};a=C}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=wh(g)}}function Oc(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?Oc(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function L0(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var u=ir(a.document);u instanceof a.HTMLIFrameElement;){try{var g=typeof u.contentWindow.location.href=="string"}catch{g=!1}if(g)a=u.contentWindow;else break;u=ir(a.document)}return u}function bp(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}var yp=Dl&&"documentMode"in document&&11>=document.documentMode,xl=null,vp=null,Tu=null,Ch=!1;function P0(a,u,g){var C=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Ch||xl==null||xl!==ir(C)||(C=xl,"selectionStart"in C&&bp(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),Tu&&xh(Tu,C)||(Tu=C,C=Hf(vp,"onSelect"),0<C.length&&(u=new fc("onSelect","select",null,u,g),a.push({event:u,listeners:C}),u.target=xl)))}function wl(a,u){var g={};return g[a.toLowerCase()]=u.toLowerCase(),g["Webkit"+a]="webkit"+u,g["Moz"+a]="moz"+u,g}var Rm={animationend:wl("Animation","AnimationEnd"),animationiteration:wl("Animation","AnimationIteration"),animationstart:wl("Animation","AnimationStart"),transitionrun:wl("Transition","TransitionRun"),transitionstart:wl("Transition","TransitionStart"),transitioncancel:wl("Transition","TransitionCancel"),transitionend:wl("Transition","TransitionEnd")},Uu={},tm={};Dl&&(tm=document.createElement("div").style,"AnimationEvent"in window||(delete Rm.animationend.animation,delete Rm.animationiteration.animation,delete Rm.animationstart.animation),"TransitionEvent"in window||delete Rm.transitionend.transition);function ss(a){if(Uu[a])return Uu[a];if(!Rm[a])return a;var u=Rm[a],g;for(g in u)if(u.hasOwnProperty(g)&&g in tm)return Uu[a]=u[g];return a}var mc=ss("animationend"),Sh=ss("animationiteration"),G1=ss("animationstart"),rs=ss("transitionrun"),nm=ss("transitionstart"),Ai=ss("transitioncancel"),vd=ss("transitionend"),xd=new Map,fa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fa.push("scrollEnd");function xs(a,u){xd.set(a,u),wn(u,[a])}var F0=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},wd=[],Pa=0,Au=0;function Xc(){for(var a=Pa,u=Au=Pa=0;u<a;){var g=wd[u];wd[u++]=null;var C=wd[u];wd[u++]=null;var R=wd[u];wd[u++]=null;var $=wd[u];if(wd[u++]=null,C!==null&&R!==null){var se=C.pending;se===null?R.next=R:(R.next=se.next,se.next=R),C.pending=R}$!==0&&Qc(g,R,$)}}function si(a,u,g,C){wd[Pa++]=a,wd[Pa++]=u,wd[Pa++]=g,wd[Pa++]=C,Au|=C,a.lanes|=C,a=a.alternate,a!==null&&(a.lanes|=C)}function Zu(a,u,g,C){return si(a,u,g,C),cl(a)}function Wi(a,u){return si(a,null,null,u),cl(a)}function Qc(a,u,g){a.lanes|=g;var C=a.alternate;C!==null&&(C.lanes|=g);for(var R=!1,$=a.return;$!==null;)$.childLanes|=g,C=$.alternate,C!==null&&(C.childLanes|=g),$.tag===22&&(a=$.stateNode,a===null||a._visibility&1||(R=!0)),a=$,$=$.return;return a.tag===3?($=a.stateNode,R&&u!==null&&(R=31-gs(g),a=$.hiddenUpdates,C=a[R],C===null?a[R]=[u]:C.push(u),u.lane=g|536870912),$):null}function cl(a){if(50<jp)throw jp=0,K0=null,Error(x(185));for(var u=a.return;u!==null;)a=u,u=a.return;return a.tag===3?a.stateNode:null}var $s={};function Wu(a,u,g,C){this.tag=a,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Za(a,u,g,C){return new Wu(a,u,g,C)}function qi(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Fa(a,u){var g=a.alternate;return g===null?(g=Za(a.tag,u,a.key,a.mode),g.elementType=a.elementType,g.type=a.type,g.stateNode=a.stateNode,g.alternate=a,a.alternate=g):(g.pendingProps=u,g.type=a.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=a.flags&65011712,g.childLanes=a.childLanes,g.lanes=a.lanes,g.child=a.child,g.memoizedProps=a.memoizedProps,g.memoizedState=a.memoizedState,g.updateQueue=a.updateQueue,u=a.dependencies,g.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},g.sibling=a.sibling,g.index=a.index,g.ref=a.ref,g.refCleanup=a.refCleanup,g}function ma(a,u){a.flags&=65011714;var g=a.alternate;return g===null?(a.childLanes=0,a.lanes=u,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=g.childLanes,a.lanes=g.lanes,a.child=g.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=g.memoizedProps,a.memoizedState=g.memoizedState,a.updateQueue=g.updateQueue,a.type=g.type,u=g.dependencies,a.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),a}function Jc(a,u,g,C,R,$){var se=0;if(C=a,typeof a=="function")qi(a)&&(se=1);else if(typeof a=="string")se=ym(a,g,Ne.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case xn:return a=Za(31,g,u,R),a.elementType=xn,a.lanes=$,a;case $e:return ri(g.children,R,$,u);case pe:se=8,R|=24;break;case it:return a=Za(12,g,u,R|2),a.elementType=it,a.lanes=$,a;case Gt:return a=Za(13,g,u,R),a.elementType=Gt,a.lanes=$,a;case Xe:return a=Za(19,g,u,R),a.elementType=Xe,a.lanes=$,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case J:se=10;break e;case Se:se=9;break e;case vt:se=11;break e;case ie:se=14;break e;case ct:se=16,C=null;break e}se=29,g=Error(x(130,a===null?"null":typeof a,"")),C=null}return u=Za(se,g,u,R),u.elementType=a,u.type=C,u.lanes=$,u}function ri(a,u,g,C){return a=Za(7,a,C,u),a.lanes=g,a}function ai(a,u,g){return a=Za(6,a,null,u),a.lanes=g,a}function om(a){var u=Za(18,null,null,0);return u.stateNode=a,u}function xp(a,u,g){return u=Za(4,a.children!==null?a.children:[],a.key,u),u.lanes=g,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}var wp=new WeakMap;function ra(a,u){if(typeof a=="object"&&a!==null){var g=wp.get(a);return g!==void 0?g:(u={value:a,source:u,stack:Je(u)},wp.set(a,u),u)}return{value:a,source:u,stack:Je(u)}}var Mm=[],Eh=0,Df=null,uo=0,ku=[],ea=0,ii=null,$a=1,cr="";function Nc(a,u){Mm[Eh++]=uo,Mm[Eh++]=Df,Df=a,uo=u}function Cp(a,u,g){ku[ea++]=$a,ku[ea++]=cr,ku[ea++]=ii,ii=a;var C=$a;a=cr;var R=32-gs(C)-1;C&=~(1<<R),g+=1;var $=32-gs(u)+R;if(30<$){var se=R-R%5;$=(C&(1<<se)-1).toString(32),C>>=se,R-=se,$a=1<<32-gs(u)+R|g<<R|C,cr=$+a}else $a=1<<$|g<<R|C,cr=a}function eu(a){a.return!==null&&(Nc(a,1),Cp(a,1,0))}function qu(a){for(;a===Df;)Df=Mm[--Eh],Mm[Eh]=null,uo=Mm[--Eh],Mm[Eh]=null;for(;a===ii;)ii=ku[--ea],ku[ea]=null,cr=ku[--ea],ku[ea]=null,$a=ku[--ea],ku[ea]=null}function vg(a,u){ku[ea++]=$a,ku[ea++]=cr,ku[ea++]=ii,$a=u.id,cr=u.overflow,ii=a}var Cl=null,Ia=null,Js=!1,Rl=null,Du=!1,ul=Error(x(519));function Sl(a){var u=Error(x(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hc(ra(u,a)),ul}function ef(a){var u=a.stateNode,g=a.type,C=a.memoizedProps;switch(u[er]=a,u[tr]=C,g){case"dialog":Rr("cancel",u),Rr("close",u);break;case"iframe":case"object":case"embed":Rr("load",u);break;case"video":case"audio":for(g=0;g<yb.length;g++)Rr(yb[g],u);break;case"source":Rr("error",u);break;case"img":case"image":case"link":Rr("error",u),Rr("load",u);break;case"details":Rr("toggle",u);break;case"input":Rr("invalid",u),Co(u,C.value,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name,!0);break;case"select":Rr("invalid",u);break;case"textarea":Rr("invalid",u),Sf(u,C.value,C.defaultValue,C.children)}g=C.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||u.textContent===""+g||C.suppressHydrationWarning===!0||Ig(u.textContent,g)?(C.popover!=null&&(Rr("beforetoggle",u),Rr("toggle",u)),C.onScroll!=null&&Rr("scroll",u),C.onScrollEnd!=null&&Rr("scrollend",u),C.onClick!=null&&(u.onclick=pi),u=!0):u=!1,u||Sl(a,!0)}function Is(a){for(Cl=a.return;Cl;)switch(Cl.tag){case 5:case 31:case 13:Du=!1;return;case 27:case 3:Du=!0;return;default:Cl=Cl.return}}function Ml(a){if(a!==Cl)return!1;if(!Js)return Is(a),Js=!0,!1;var u=a.tag,g;if((g=u!==3&&u!==27)&&((g=u===5)&&(g=a.type,g=!(g!=="form"&&g!=="button")||Zh(a.type,a.memoizedProps)),g=!g),g&&Ia&&Sl(a),Is(a),u===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(x(317));Ia=kl(a)}else if(u===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(x(317));Ia=kl(a)}else u===27?(u=Ia,id(a.type)?(a=Al,Al=null,Ia=a):Ia=u):Ia=Cl?Kr(a.stateNode.nextSibling):null;return!0}function Bm(){Ia=Cl=null,Js=!1}function Th(){var a=Rl;return a!==null&&(nd===null?nd=a:nd.push.apply(nd,a),Rl=null),a}function hc(a){Rl===null?Rl=[a]:Rl.push(a)}var So=le(null),Or=null,Wa=null;function yr(a,u,g){It(So,u._currentValue),u._currentValue=g}function dl(a){a._currentValue=So.current,Ve(So)}function Gr(a,u,g){for(;a!==null;){var C=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,C!==null&&(C.childLanes|=u)):C!==null&&(C.childLanes&u)!==u&&(C.childLanes|=u),a===g)break;a=a.return}}function li(a,u,g,C){var R=a.child;for(R!==null&&(R.return=a);R!==null;){var $=R.dependencies;if($!==null){var se=R.child;$=$.firstContext;e:for(;$!==null;){var fe=$;$=R;for(var lt=0;lt<u.length;lt++)if(fe.context===u[lt]){$.lanes|=g,fe=$.alternate,fe!==null&&(fe.lanes|=g),Gr($.return,g,a),C||(se=null);break e}$=fe.next}}else if(R.tag===18){if(se=R.return,se===null)throw Error(x(341));se.lanes|=g,$=se.alternate,$!==null&&($.lanes|=g),Gr(se,g,a),se=null}else se=R.child;if(se!==null)se.return=R;else for(se=R;se!==null;){if(se===a){se=null;break}if(R=se.sibling,R!==null){R.return=se.return,se=R;break}se=se.return}R=se}}function tf(a,u,g,C){a=null;for(var R=u,$=!1;R!==null;){if(!$){if((R.flags&524288)!==0)$=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var se=R.alternate;if(se===null)throw Error(x(387));if(se=se.memoizedProps,se!==null){var fe=R.type;vl(R.pendingProps.value,se.value)||(a!==null?a.push(fe):a=[fe])}}else if(R===dt.current){if(se=R.alternate,se===null)throw Error(x(387));se.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(a!==null?a.push(ld):a=[ld])}R=R.return}a!==null&&li(u,a,g,C),u.flags|=262144}function cs(a){for(a=a.firstContext;a!==null;){if(!vl(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ql(a){Or=a,Wa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ws(a){return bi(Or,a)}function Gl(a,u){return Or===null&&ql(a),bi(a,u)}function bi(a,u){var g=u._currentValue;if(u={context:u,memoizedValue:g,next:null},Wa===null){if(a===null)throw Error(x(308));Wa=u,a.dependencies={lanes:0,firstContext:u},a.flags|=524288}else Wa=Wa.next=u;return g}var ki=typeof AbortController<"u"?AbortController:function(){var a=[],u=this.signal={aborted:!1,addEventListener:function(g,C){a.push(C)}};this.abort=function(){u.aborted=!0,a.forEach(function(g){return g()})}},_f=l.unstable_scheduleCallback,xg=l.unstable_NormalPriority,qa={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Of(){return{controller:new ki,data:new Map,refCount:0}}function Cd(a){a.refCount--,a.refCount===0&&_f(xg,function(){a.controller.abort()})}var Bi=null,nf=0,wg=0,Gu=null;function hr(a,u){if(Bi===null){var g=Bi=[];nf=0,wg=Fd(),Gu={status:"pending",value:void 0,then:function(C){g.push(C)}}}return nf++,u.then($0,$0),u}function $0(){if(--nf===0&&Bi!==null){Gu!==null&&(Gu.status="fulfilled");var a=Bi;Bi=null,wg=0,Gu=null;for(var u=0;u<a.length;u++)(0,a[u])()}}function Cg(a,u){var g=[],C={status:"pending",value:null,reason:null,then:function(R){g.push(R)}};return a.then(function(){C.status="fulfilled",C.value=u;for(var R=0;R<g.length;R++)(0,g[R])(u)},function(R){for(C.status="rejected",C.reason=R,R=0;R<g.length;R++)(0,g[R])(void 0)}),C}var Bl=F.S;F.S=function(a,u){fb=Tt(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&hr(a,u),Bl!==null&&Bl(a,u)};var fl=le(null);function ka(){var a=fl.current;return a!==null?a:ba.pooledCache}function Sd(a,u){u===null?It(fl,fl.current):It(fl,u.pool)}function ui(){var a=ka();return a===null?null:{parent:qa._currentValue,pool:a}}var of=Error(x(460)),Sg=Error(x(474)),Eg=Error(x(542)),K1={then:function(){}};function Ed(a){return a=a.status,a==="fulfilled"||a==="rejected"}function dy(a,u,g){switch(g=a[g],g===void 0?a.push(u):g!==u&&(u.then(pi,pi),u=g),u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,Ah(a),a;default:if(typeof u.status=="string")u.then(pi,pi);else{if(a=ba,a!==null&&100<a.shellSuspendCounter)throw Error(x(482));a=u,a.status="pending",a.then(function(C){if(u.status==="pending"){var R=u;R.status="fulfilled",R.value=C}},function(C){if(u.status==="pending"){var R=u;R.status="rejected",R.reason=C}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,Ah(a),a}throw gc=u,of}}function sm(a){try{var u=a._init;return u(a._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(gc=g,of):g}}var gc=null;function Y1(){if(gc===null)throw Error(x(459));var a=gc;return gc=null,a}function Ah(a){if(a===of||a===Eg)throw Error(x(483))}var Nf=null,rm=0;function Tg(a){var u=rm;return rm+=1,Nf===null&&(Nf=[]),dy(Nf,a,u)}function Ag(a,u){u=u.props.ref,a.ref=u!==void 0?u:null}function tu(a,u){throw u.$$typeof===ue?Error(x(525)):(a=Object.prototype.toString.call(u),Error(x(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a)))}function fy(a){function u(et,ht){if(a){var zt=et.deletions;zt===null?(et.deletions=[ht],et.flags|=16):zt.push(ht)}}function g(et,ht){if(!a)return null;for(;ht!==null;)u(et,ht),ht=ht.sibling;return null}function C(et){for(var ht=new Map;et!==null;)et.key!==null?ht.set(et.key,et):ht.set(et.index,et),et=et.sibling;return ht}function R(et,ht){return et=Fa(et,ht),et.index=0,et.sibling=null,et}function $(et,ht,zt){return et.index=zt,a?(zt=et.alternate,zt!==null?(zt=zt.index,zt<ht?(et.flags|=67108866,ht):zt):(et.flags|=67108866,ht)):(et.flags|=1048576,ht)}function se(et){return a&&et.alternate===null&&(et.flags|=67108866),et}function fe(et,ht,zt,hn){return ht===null||ht.tag!==6?(ht=ai(zt,et.mode,hn),ht.return=et,ht):(ht=R(ht,zt),ht.return=et,ht)}function lt(et,ht,zt,hn){var ms=zt.type;return ms===$e?bn(et,ht,zt.props.children,hn,zt.key):ht!==null&&(ht.elementType===ms||typeof ms=="object"&&ms!==null&&ms.$$typeof===ct&&sm(ms)===ht.type)?(ht=R(ht,zt.props),Ag(ht,zt),ht.return=et,ht):(ht=Jc(zt.type,zt.key,zt.props,null,et.mode,hn),Ag(ht,zt),ht.return=et,ht)}function Ut(et,ht,zt,hn){return ht===null||ht.tag!==4||ht.stateNode.containerInfo!==zt.containerInfo||ht.stateNode.implementation!==zt.implementation?(ht=xp(zt,et.mode,hn),ht.return=et,ht):(ht=R(ht,zt.children||[]),ht.return=et,ht)}function bn(et,ht,zt,hn,ms){return ht===null||ht.tag!==7?(ht=ri(zt,et.mode,hn,ms),ht.return=et,ht):(ht=R(ht,zt),ht.return=et,ht)}function Dn(et,ht,zt){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return ht=ai(""+ht,et.mode,zt),ht.return=et,ht;if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case Ce:return zt=Jc(ht.type,ht.key,ht.props,null,et.mode,zt),Ag(zt,ht),zt.return=et,zt;case be:return ht=xp(ht,et.mode,zt),ht.return=et,ht;case ct:return ht=sm(ht),Dn(et,ht,zt)}if(Lt(ht)||Re(ht))return ht=ri(ht,et.mode,zt,null),ht.return=et,ht;if(typeof ht.then=="function")return Dn(et,Tg(ht),zt);if(ht.$$typeof===J)return Dn(et,Gl(et,ht),zt);tu(et,ht)}return null}function Qt(et,ht,zt,hn){var ms=ht!==null?ht.key:null;if(typeof zt=="string"&&zt!==""||typeof zt=="number"||typeof zt=="bigint")return ms!==null?null:fe(et,ht,""+zt,hn);if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case Ce:return zt.key===ms?lt(et,ht,zt,hn):null;case be:return zt.key===ms?Ut(et,ht,zt,hn):null;case ct:return zt=sm(zt),Qt(et,ht,zt,hn)}if(Lt(zt)||Re(zt))return ms!==null?null:bn(et,ht,zt,hn,null);if(typeof zt.then=="function")return Qt(et,ht,Tg(zt),hn);if(zt.$$typeof===J)return Qt(et,ht,Gl(et,zt),hn);tu(et,zt)}return null}function cn(et,ht,zt,hn,ms){if(typeof hn=="string"&&hn!==""||typeof hn=="number"||typeof hn=="bigint")return et=et.get(zt)||null,fe(ht,et,""+hn,ms);if(typeof hn=="object"&&hn!==null){switch(hn.$$typeof){case Ce:return et=et.get(hn.key===null?zt:hn.key)||null,lt(ht,et,hn,ms);case be:return et=et.get(hn.key===null?zt:hn.key)||null,Ut(ht,et,hn,ms);case ct:return hn=sm(hn),cn(et,ht,zt,hn,ms)}if(Lt(hn)||Re(hn))return et=et.get(zt)||null,bn(ht,et,hn,ms,null);if(typeof hn.then=="function")return cn(et,ht,zt,Tg(hn),ms);if(hn.$$typeof===J)return cn(et,ht,zt,Gl(ht,hn),ms);tu(ht,hn)}return null}function es(et,ht,zt,hn){for(var ms=null,Us=null,Go=ht,rr=ht=0,Mr=null;Go!==null&&rr<zt.length;rr++){Go.index>rr?(Mr=Go,Go=null):Mr=Go.sibling;var zr=Qt(et,Go,zt[rr],hn);if(zr===null){Go===null&&(Go=Mr);break}a&&Go&&zr.alternate===null&&u(et,Go),ht=$(zr,ht,rr),Us===null?ms=zr:Us.sibling=zr,Us=zr,Go=Mr}if(rr===zt.length)return g(et,Go),Js&&Nc(et,rr),ms;if(Go===null){for(;rr<zt.length;rr++)Go=Dn(et,zt[rr],hn),Go!==null&&(ht=$(Go,ht,rr),Us===null?ms=Go:Us.sibling=Go,Us=Go);return Js&&Nc(et,rr),ms}for(Go=C(Go);rr<zt.length;rr++)Mr=cn(Go,et,rr,zt[rr],hn),Mr!==null&&(a&&Mr.alternate!==null&&Go.delete(Mr.key===null?rr:Mr.key),ht=$(Mr,ht,rr),Us===null?ms=Mr:Us.sibling=Mr,Us=Mr);return a&&Go.forEach(function(gf){return u(et,gf)}),Js&&Nc(et,rr),ms}function Ns(et,ht,zt,hn){if(zt==null)throw Error(x(151));for(var ms=null,Us=null,Go=ht,rr=ht=0,Mr=null,zr=zt.next();Go!==null&&!zr.done;rr++,zr=zt.next()){Go.index>rr?(Mr=Go,Go=null):Mr=Go.sibling;var gf=Qt(et,Go,zr.value,hn);if(gf===null){Go===null&&(Go=Mr);break}a&&Go&&gf.alternate===null&&u(et,Go),ht=$(gf,ht,rr),Us===null?ms=gf:Us.sibling=gf,Us=gf,Go=Mr}if(zr.done)return g(et,Go),Js&&Nc(et,rr),ms;if(Go===null){for(;!zr.done;rr++,zr=zt.next())zr=Dn(et,zr.value,hn),zr!==null&&(ht=$(zr,ht,rr),Us===null?ms=zr:Us.sibling=zr,Us=zr);return Js&&Nc(et,rr),ms}for(Go=C(Go);!zr.done;rr++,zr=zt.next())zr=cn(Go,et,rr,zr.value,hn),zr!==null&&(a&&zr.alternate!==null&&Go.delete(zr.key===null?rr:zr.key),ht=$(zr,ht,rr),Us===null?ms=zr:Us.sibling=zr,Us=zr);return a&&Go.forEach(function(Jm){return u(et,Jm)}),Js&&Nc(et,rr),ms}function fi(et,ht,zt,hn){if(typeof zt=="object"&&zt!==null&&zt.type===$e&&zt.key===null&&(zt=zt.props.children),typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case Ce:e:{for(var ms=zt.key;ht!==null;){if(ht.key===ms){if(ms=zt.type,ms===$e){if(ht.tag===7){g(et,ht.sibling),hn=R(ht,zt.props.children),hn.return=et,et=hn;break e}}else if(ht.elementType===ms||typeof ms=="object"&&ms!==null&&ms.$$typeof===ct&&sm(ms)===ht.type){g(et,ht.sibling),hn=R(ht,zt.props),Ag(hn,zt),hn.return=et,et=hn;break e}g(et,ht);break}else u(et,ht);ht=ht.sibling}zt.type===$e?(hn=ri(zt.props.children,et.mode,hn,zt.key),hn.return=et,et=hn):(hn=Jc(zt.type,zt.key,zt.props,null,et.mode,hn),Ag(hn,zt),hn.return=et,et=hn)}return se(et);case be:e:{for(ms=zt.key;ht!==null;){if(ht.key===ms)if(ht.tag===4&&ht.stateNode.containerInfo===zt.containerInfo&&ht.stateNode.implementation===zt.implementation){g(et,ht.sibling),hn=R(ht,zt.children||[]),hn.return=et,et=hn;break e}else{g(et,ht);break}else u(et,ht);ht=ht.sibling}hn=xp(zt,et.mode,hn),hn.return=et,et=hn}return se(et);case ct:return zt=sm(zt),fi(et,ht,zt,hn)}if(Lt(zt))return es(et,ht,zt,hn);if(Re(zt)){if(ms=Re(zt),typeof ms!="function")throw Error(x(150));return zt=ms.call(zt),Ns(et,ht,zt,hn)}if(typeof zt.then=="function")return fi(et,ht,Tg(zt),hn);if(zt.$$typeof===J)return fi(et,ht,Gl(et,zt),hn);tu(et,zt)}return typeof zt=="string"&&zt!==""||typeof zt=="number"||typeof zt=="bigint"?(zt=""+zt,ht!==null&&ht.tag===6?(g(et,ht.sibling),hn=R(ht,zt),hn.return=et,et=hn):(g(et,ht),hn=ai(zt,et.mode,hn),hn.return=et,et=hn),se(et)):g(et,ht)}return function(et,ht,zt,hn){try{rm=0;var ms=fi(et,ht,zt,hn);return Nf=null,ms}catch(Go){if(Go===of||Go===Eg)throw Go;var Us=Za(29,Go,null,et.mode);return Us.lanes=hn,Us.return=et,Us}}}var _u=fy(!0),ur=fy(!1),yi=!1;function Td(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sp(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function nu(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Rf(a,u,g){var C=a.updateQueue;if(C===null)return null;if(C=C.shared,(Ls&2)!==0){var R=C.pending;return R===null?u.next=u:(u.next=R.next,R.next=u),C.pending=u,u=cl(a),Qc(a,null,g),u}return si(a,C,u,g),cl(a)}function kg(a,u,g){if(u=u.updateQueue,u!==null&&(u=u.shared,(g&4194048)!==0)){var C=u.lanes;C&=a.pendingLanes,g|=C,u.lanes=g,No(a,g)}}function Ad(a,u){var g=a.updateQueue,C=a.alternate;if(C!==null&&(C=C.updateQueue,g===C)){var R=null,$=null;if(g=g.firstBaseUpdate,g!==null){do{var se={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};$===null?R=$=se:$=$.next=se,g=g.next}while(g!==null);$===null?R=$=u:$=$.next=u}else R=$=u;g={baseState:C.baseState,firstBaseUpdate:R,lastBaseUpdate:$,shared:C.shared,callbacks:C.callbacks},a.updateQueue=g;return}a=g.lastBaseUpdate,a===null?g.firstBaseUpdate=u:a.next=u,g.lastBaseUpdate=u}var kd=!1;function nr(){if(kd){var a=Gu;if(a!==null)throw a}}function Dg(a,u,g,C){kd=!1;var R=a.updateQueue;yi=!1;var $=R.firstBaseUpdate,se=R.lastBaseUpdate,fe=R.shared.pending;if(fe!==null){R.shared.pending=null;var lt=fe,Ut=lt.next;lt.next=null,se===null?$=Ut:se.next=Ut,se=lt;var bn=a.alternate;bn!==null&&(bn=bn.updateQueue,fe=bn.lastBaseUpdate,fe!==se&&(fe===null?bn.firstBaseUpdate=Ut:fe.next=Ut,bn.lastBaseUpdate=lt))}if($!==null){var Dn=R.baseState;se=0,bn=Ut=lt=null,fe=$;do{var Qt=fe.lane&-536870913,cn=Qt!==fe.lane;if(cn?(Nr&Qt)===Qt:(C&Qt)===Qt){Qt!==0&&Qt===wg&&(kd=!0),bn!==null&&(bn=bn.next={lane:0,tag:fe.tag,payload:fe.payload,callback:null,next:null});e:{var es=a,Ns=fe;Qt=u;var fi=g;switch(Ns.tag){case 1:if(es=Ns.payload,typeof es=="function"){Dn=es.call(fi,Dn,Qt);break e}Dn=es;break e;case 3:es.flags=es.flags&-65537|128;case 0:if(es=Ns.payload,Qt=typeof es=="function"?es.call(fi,Dn,Qt):es,Qt==null)break e;Dn=ee({},Dn,Qt);break e;case 2:yi=!0}}Qt=fe.callback,Qt!==null&&(a.flags|=64,cn&&(a.flags|=8192),cn=R.callbacks,cn===null?R.callbacks=[Qt]:cn.push(Qt))}else cn={lane:Qt,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},bn===null?(Ut=bn=cn,lt=Dn):bn=bn.next=cn,se|=Qt;if(fe=fe.next,fe===null){if(fe=R.shared.pending,fe===null)break;cn=fe,fe=cn.next,cn.next=null,R.lastBaseUpdate=cn,R.shared.pending=null}}while(!0);bn===null&&(lt=Dn),R.baseState=lt,R.firstBaseUpdate=Ut,R.lastBaseUpdate=bn,$===null&&(R.shared.lanes=0),Lc|=se,a.lanes=se,a.memoizedState=Dn}}function ha(a,u){if(typeof a!="function")throw Error(x(191,a));a.call(u)}function kh(a,u){var g=a.callbacks;if(g!==null)for(a.callbacks=null,a=0;a<g.length;a++)ha(g[a],u)}var Da=le(null),Ku=le(0);function El(a,u){a=fm,It(Ku,a),It(Da,u),fm=a|u.baseLanes}function sf(){It(Ku,fm),It(Da,Da.current)}function _g(){fm=Ku.current,Ve(Da),Ve(Ku)}var ou=le(null),Ou=null;function Lm(a){var u=a.alternate;It(Di,Di.current&1),It(ou,a),Ou===null&&(u===null||Da.current!==null||u.memoizedState!==null)&&(Ou=a)}function pc(a){It(Di,Di.current),It(ou,a),Ou===null&&(Ou=a)}function Dd(a){a.tag===22?(It(Di,Di.current),It(ou,a),Ou===null&&(Ou=a)):aa()}function aa(){It(Di,Di.current),It(ou,ou.current)}function ta(a){Ve(ou),Ou===a&&(Ou=null),Ve(Di)}var Di=le(0);function Pm(a){for(var u=a;u!==null;){if(u.tag===13){var g=u.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||Qv(g)||Kp(g)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var _d=0,or=null,Cr=null,Ll=null,P=!1,j=!1,re=!1,we=0,Ge=0,kt=null,Cn=0;function _n(){throw Error(x(321))}function Fo(a,u){if(u===null)return!1;for(var g=0;g<u.length&&g<a.length;g++)if(!vl(a[g],u[g]))return!1;return!0}function as(a,u,g,C,R,$){return _d=$,or=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,F.H=a===null||a.memoizedState===null?Od:Op,re=!1,$=g(C,R),re=!1,j&&($=ia(u,g,C,R)),Br(a),$}function Br(a){F.H=la;var u=Cr!==null&&Cr.next!==null;if(_d=0,Ll=Cr=or=null,P=!1,Ge=0,kt=null,u)throw Error(x(300));a===null||Tl||(a=a.dependencies,a!==null&&cs(a)&&(Tl=!0))}function ia(a,u,g,C){or=a;var R=0;do{if(j&&(kt=null),Ge=0,j=!1,25<=R)throw Error(x(301));if(R+=1,Ll=Cr=null,a.updateQueue!=null){var $=a.updateQueue;$.lastEffect=null,$.events=null,$.stores=null,$.memoCache!=null&&($.memoCache.index=0)}F.H=Mu,$=u(g,C)}while(j);return $}function vi(){var a=F.H,u=a.useState()[0];return u=typeof u.then=="function"?im(u):u,a=a.useState()[0],(Cr!==null?Cr.memoizedState:null)!==a&&(or.flags|=1024),u}function Rc(){var a=we!==0;return we=0,a}function Yu(a,u,g){u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~g}function rf(a){if(P){for(a=a.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}P=!1}_d=0,Ll=Cr=or=null,j=!1,Ge=we=0,kt=null}function di(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ll===null?or.memoizedState=Ll=a:Ll=Ll.next=a,Ll}function Li(){if(Cr===null){var a=or.alternate;a=a!==null?a.memoizedState:null}else a=Cr.next;var u=Ll===null?or.memoizedState:Ll.next;if(u!==null)Ll=u,Cr=a;else{if(a===null)throw or.alternate===null?Error(x(467)):Error(x(310));Cr=a,a={memoizedState:Cr.memoizedState,baseState:Cr.baseState,baseQueue:Cr.baseQueue,queue:Cr.queue,next:null},Ll===null?or.memoizedState=Ll=a:Ll=Ll.next=a}return Ll}function am(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function im(a){var u=Ge;return Ge+=1,kt===null&&(kt=[]),a=dy(kt,a,u),u=or,(Ll===null?u.memoizedState:Ll.next)===null&&(u=u.alternate,F.H=u===null||u.memoizedState===null?Od:Op),a}function Fm(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return im(a);if(a.$$typeof===J)return ws(a)}throw Error(x(438,String(a)))}function Dh(a){var u=null,g=or.updateQueue;if(g!==null&&(u=g.memoCache),u==null){var C=or.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(u={data:C.data.map(function(R){return R.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),g===null&&(g=am(),or.updateQueue=g),g.memoCache=u,g=u.data[u.index],g===void 0)for(g=u.data[u.index]=Array(a),C=0;C<a;C++)g[C]=fn;return u.index++,g}function Nu(a,u){return typeof u=="function"?u(a):u}function _h(a){var u=Li();return X1(u,Cr,a)}function X1(a,u,g){var C=a.queue;if(C===null)throw Error(x(311));C.lastRenderedReducer=g;var R=a.baseQueue,$=C.pending;if($!==null){if(R!==null){var se=R.next;R.next=$.next,$.next=se}u.baseQueue=R=$,C.pending=null}if($=a.baseState,R===null)a.memoizedState=$;else{u=R.next;var fe=se=null,lt=null,Ut=u,bn=!1;do{var Dn=Ut.lane&-536870913;if(Dn!==Ut.lane?(Nr&Dn)===Dn:(_d&Dn)===Dn){var Qt=Ut.revertLane;if(Qt===0)lt!==null&&(lt=lt.next={lane:0,revertLane:0,gesture:null,action:Ut.action,hasEagerState:Ut.hasEagerState,eagerState:Ut.eagerState,next:null}),Dn===wg&&(bn=!0);else if((_d&Qt)===Qt){Ut=Ut.next,Qt===wg&&(bn=!0);continue}else Dn={lane:0,revertLane:Ut.revertLane,gesture:null,action:Ut.action,hasEagerState:Ut.hasEagerState,eagerState:Ut.eagerState,next:null},lt===null?(fe=lt=Dn,se=$):lt=lt.next=Dn,or.lanes|=Qt,Lc|=Qt;Dn=Ut.action,re&&g($,Dn),$=Ut.hasEagerState?Ut.eagerState:g($,Dn)}else Qt={lane:Dn,revertLane:Ut.revertLane,gesture:Ut.gesture,action:Ut.action,hasEagerState:Ut.hasEagerState,eagerState:Ut.eagerState,next:null},lt===null?(fe=lt=Qt,se=$):lt=lt.next=Qt,or.lanes|=Dn,Lc|=Dn;Ut=Ut.next}while(Ut!==null&&Ut!==u);if(lt===null?se=$:lt.next=fe,!vl($,a.memoizedState)&&(Tl=!0,bn&&(g=Gu,g!==null)))throw g;a.memoizedState=$,a.baseState=se,a.baseQueue=lt,C.lastRenderedState=$}return R===null&&(C.lanes=0),[a.memoizedState,C.dispatch]}function Q1(a){var u=Li(),g=u.queue;if(g===null)throw Error(x(311));g.lastRenderedReducer=a;var C=g.dispatch,R=g.pending,$=u.memoizedState;if(R!==null){g.pending=null;var se=R=R.next;do $=a($,se.action),se=se.next;while(se!==R);vl($,u.memoizedState)||(Tl=!0),u.memoizedState=$,u.baseQueue===null&&(u.baseState=$),g.lastRenderedState=$}return[$,C]}function Hs(a,u,g){var C=or,R=Li(),$=Js;if($){if(g===void 0)throw Error(x(407));g=g()}else g=u();var se=!vl((Cr||R).memoizedState,g);if(se&&(R.memoizedState=g,Tl=!0),R=R.queue,Ka(Pl.bind(null,C,R,a),[a]),R.getSnapshot!==u||se||Ll!==null&&Ll.memoizedState.tag&1){if(C.flags|=2048,af(9,{destroy:void 0},Ga.bind(null,C,R,g,u),null),ba===null)throw Error(x(349));$||(_d&127)!==0||Ha(C,u,g)}return g}function Ha(a,u,g){a.flags|=16384,a={getSnapshot:u,value:g},u=or.updateQueue,u===null?(u=am(),or.updateQueue=u,u.stores=[a]):(g=u.stores,g===null?u.stores=[a]:g.push(a))}function Ga(a,u,g,C){u.value=g,u.getSnapshot=C,Ep(u)&&Og(a)}function Pl(a,u,g){return g(function(){Ep(u)&&Og(a)})}function Ep(a){var u=a.getSnapshot;a=a.value;try{var g=u();return!vl(a,g)}catch{return!0}}function Og(a){var u=Wi(a,2);u!==null&&od(u,a,2)}function Ng(a){var u=di();if(typeof a=="function"){var g=a;if(a=g(),re){Xs(!0);try{g()}finally{Xs(!1)}}}return u.memoizedState=u.baseState=a,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nu,lastRenderedState:a},u}function Tp(a,u,g,C){return a.baseState=g,X1(a,Cr,typeof C=="function"?C:Nu)}function S2(a,u,g,C,R){if(ns(a))throw Error(x(485));if(a=u.action,a!==null){var $={payload:R,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(se){$.listeners.push(se)}};F.T!==null?g(!0):$.isTransition=!1,C($),g=u.pending,g===null?($.next=u.pending=$,$m(u,$)):($.next=g.next,u.pending=g.next=$)}}function $m(a,u){var g=u.action,C=u.payload,R=a.state;if(u.isTransition){var $=F.T,se={};F.T=se;try{var fe=g(R,C),lt=F.S;lt!==null&&lt(se,fe),I0(a,u,fe)}catch(Ut){Rv(a,u,Ut)}finally{$!==null&&se.types!==null&&($.types=se.types),F.T=$}}else try{$=g(R,C),I0(a,u,$)}catch(Ut){Rv(a,u,Ut)}}function I0(a,u,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(C){Oh(a,u,C)},function(C){return Rv(a,u,C)}):Oh(a,u,g)}function Oh(a,u,g){u.status="fulfilled",u.value=g,Pi(u),a.state=g,u=a.pending,u!==null&&(g=u.next,g===u?a.pending=null:(g=g.next,u.next=g,$m(a,g)))}function Rv(a,u,g){var C=a.pending;if(a.pending=null,C!==null){C=C.next;do u.status="rejected",u.reason=g,Pi(u),u=u.next;while(u!==C)}a.action=null}function Pi(a){a=a.listeners;for(var u=0;u<a.length;u++)(0,a[u])()}function _i(a,u){return u}function Nh(a,u){if(Js){var g=ba.formState;if(g!==null){e:{var C=or;if(Js){if(Ia){t:{for(var R=Ia,$=Du;R.nodeType!==8;){if(!$){R=null;break t}if(R=Kr(R.nextSibling),R===null){R=null;break t}}$=R.data,R=$==="F!"||$==="F"?R:null}if(R){Ia=Kr(R.nextSibling),C=R.data==="F!";break e}}Sl(C)}C=!1}C&&(u=g[0])}}return g=di(),g.memoizedState=g.baseState=u,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:u},g.queue=C,g=dn.bind(null,or,C),C.dispatch=g,C=Ng(!1),$=Fi.bind(null,or,!1,C.queue),C=di(),R={state:u,dispatch:null,action:a,pending:null},C.queue=R,g=S2.bind(null,or,R,$,g),R.dispatch=g,C.memoizedState=a,[u,g,!1]}function Im(a){var u=Li();return my(u,Cr,a)}function my(a,u,g){if(u=X1(a,u,_i)[0],a=_h(Nu)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var C=im(u)}catch(se){throw se===of?Eg:se}else C=u;u=Li();var R=u.queue,$=R.dispatch;return g!==u.memoizedState&&(or.flags|=2048,af(9,{destroy:void 0},bc.bind(null,R,g),null)),[C,$,a]}function bc(a,u){a.action=u}function hy(a){var u=Li(),g=Cr;if(g!==null)return my(u,g,a);Li(),u=u.memoizedState,g=Li();var C=g.queue.dispatch;return g.memoizedState=a,[u,C,!1]}function af(a,u,g,C){return a={tag:a,create:g,deps:C,inst:u,next:null},u=or.updateQueue,u===null&&(u=am(),or.updateQueue=u),g=u.lastEffect,g===null?u.lastEffect=a.next=a:(C=g.next,g.next=a,a.next=C,u.lastEffect=a),a}function J1(){return Li().memoizedState}function su(a,u,g,C){var R=di();or.flags|=a,R.memoizedState=af(1|u,{destroy:void 0},g,C===void 0?null:C)}function H0(a,u,g,C){var R=Li();C=C===void 0?null:C;var $=R.memoizedState.inst;Cr!==null&&C!==null&&Fo(C,Cr.memoizedState.deps)?R.memoizedState=af(u,$,g,C):(or.flags|=a,R.memoizedState=af(1|u,$,g,C))}function Ru(a,u){su(8390656,8,a,u)}function Ka(a,u){H0(2048,8,a,u)}function gy(a){or.flags|=4;var u=or.updateQueue;if(u===null)u=am(),or.updateQueue=u,u.events=[a];else{var g=u.events;g===null?u.events=[a]:g.push(a)}}function Ap(a){var u=Li().memoizedState;return gy({ref:u,nextImpl:a}),function(){if((Ls&2)!==0)throw Error(x(440));return u.impl.apply(void 0,arguments)}}function Mv(a,u){return H0(4,2,a,u)}function py(a,u){return H0(4,4,a,u)}function Bv(a,u){if(typeof u=="function"){a=a();var g=u(a);return function(){typeof g=="function"?g():u(null)}}if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function Lv(a,u,g){g=g!=null?g.concat([a]):null,H0(4,4,Bv.bind(null,u,a),g)}function z0(){}function kp(a,u){var g=Li();u=u===void 0?null:u;var C=g.memoizedState;return u!==null&&Fo(u,C[1])?C[0]:(g.memoizedState=[a,u],a)}function eb(a,u){var g=Li();u=u===void 0?null:u;var C=g.memoizedState;if(u!==null&&Fo(u,C[1]))return C[0];if(C=a(),re){Xs(!0);try{a()}finally{Xs(!1)}}return g.memoizedState=[C,u],C}function Sn(a,u,g){return g===void 0||(_d&1073741824)!==0&&(Nr&261930)===0?a.memoizedState=u:(a.memoizedState=g,a=Lg(),or.lanes|=a,Lc|=a,g)}function ru(a,u,g,C){return vl(g,u)?g:Da.current!==null?(a=Sn(a,g,C),vl(a,u)||(Tl=!0),a):(_d&42)===0||(_d&1073741824)!==0&&(Nr&261930)===0?(Tl=!0,a.memoizedState=g):(a=Lg(),or.lanes|=a,Lc|=a,u)}function E2(a,u,g,C,R){var $=jt.p;jt.p=$!==0&&8>$?$:8;var se=F.T,fe={};F.T=fe,Fi(a,!1,u,g);try{var lt=R(),Ut=F.S;if(Ut!==null&&Ut(fe,lt),lt!==null&&typeof lt=="object"&&typeof lt.then=="function"){var bn=Cg(lt,C);Dp(a,u,bn,Pd(a))}else Dp(a,u,C,Pd(a))}catch(Dn){Dp(a,u,{then:function(){},status:"rejected",reason:Dn},Pd())}finally{jt.p=$,se!==null&&fe.types!==null&&(se.types=fe.types),F.T=se}}function au(){}function Xu(a,u,g,C){if(a.tag!==5)throw Error(x(476));var R=tb(a).queue;E2(a,R,u,at,g===null?au:function(){return T2(a),g(C)})}function tb(a){var u=a.memoizedState;if(u!==null)return u;u={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nu,lastRenderedState:at},next:null};var g={};return u.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nu,lastRenderedState:g},next:null},a.memoizedState=u,a=a.alternate,a!==null&&(a.memoizedState=u),u}function T2(a){var u=tb(a);u.next===null&&(u=a.alternate.memoizedState),Dp(a,u.next.queue,{},Pd())}function Hm(){return ws(ld)}function A2(){return Li().memoizedState}function iu(){return Li().memoizedState}function k2(a){for(var u=a.return;u!==null;){switch(u.tag){case 24:case 3:var g=Pd();a=nu(g);var C=Rf(u,a,g);C!==null&&(od(C,u,g),kg(C,u,g)),u={cache:Of()},a.payload=u;return}u=u.return}}function lf(a,u,g){var C=Pd();g={lane:C,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},ns(a)?zm(u,g):(g=Zu(a,u,g,C),g!==null&&(od(g,a,C),_p(g,u,C)))}function dn(a,u,g){var C=Pd();Dp(a,u,g,C)}function Dp(a,u,g,C){var R={lane:C,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(ns(a))zm(u,R);else{var $=a.alternate;if(a.lanes===0&&($===null||$.lanes===0)&&($=u.lastRenderedReducer,$!==null))try{var se=u.lastRenderedState,fe=$(se,g);if(R.hasEagerState=!0,R.eagerState=fe,vl(fe,se))return si(a,u,R,0),ba===null&&Xc(),!1}catch{}if(g=Zu(a,u,R,C),g!==null)return od(g,a,C),_p(g,u,C),!0}return!1}function Fi(a,u,g,C){if(C={lane:2,revertLane:Fd(),gesture:null,action:C,hasEagerState:!1,eagerState:null,next:null},ns(a)){if(u)throw Error(x(479))}else u=Zu(a,g,C,2),u!==null&&od(u,a,2)}function ns(a){var u=a.alternate;return a===or||u!==null&&u===or}function zm(a,u){j=P=!0;var g=a.pending;g===null?u.next=u:(u.next=g.next,g.next=u),a.pending=u}function _p(a,u,g){if((g&4194048)!==0){var C=u.lanes;C&=a.pendingLanes,g|=C,u.lanes=g,No(a,g)}}var la={readContext:ws,use:Fm,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useLayoutEffect:_n,useInsertionEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useSyncExternalStore:_n,useId:_n,useHostTransitionStatus:_n,useFormState:_n,useActionState:_n,useOptimistic:_n,useMemoCache:_n,useCacheRefresh:_n};la.useEffectEvent=_n;var Od={readContext:ws,use:Fm,useCallback:function(a,u){return di().memoizedState=[a,u===void 0?null:u],a},useContext:ws,useEffect:Ru,useImperativeHandle:function(a,u,g){g=g!=null?g.concat([a]):null,su(4194308,4,Bv.bind(null,u,a),g)},useLayoutEffect:function(a,u){return su(4194308,4,a,u)},useInsertionEffect:function(a,u){su(4,2,a,u)},useMemo:function(a,u){var g=di();u=u===void 0?null:u;var C=a();if(re){Xs(!0);try{a()}finally{Xs(!1)}}return g.memoizedState=[C,u],C},useReducer:function(a,u,g){var C=di();if(g!==void 0){var R=g(u);if(re){Xs(!0);try{g(u)}finally{Xs(!1)}}}else R=u;return C.memoizedState=C.baseState=R,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:R},C.queue=a,a=a.dispatch=lf.bind(null,or,a),[C.memoizedState,a]},useRef:function(a){var u=di();return a={current:a},u.memoizedState=a},useState:function(a){a=Ng(a);var u=a.queue,g=dn.bind(null,or,u);return u.dispatch=g,[a.memoizedState,g]},useDebugValue:z0,useDeferredValue:function(a,u){var g=di();return Sn(g,a,u)},useTransition:function(){var a=Ng(!1);return a=E2.bind(null,or,a.queue,!0,!1),di().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,u,g){var C=or,R=di();if(Js){if(g===void 0)throw Error(x(407));g=g()}else{if(g=u(),ba===null)throw Error(x(349));(Nr&127)!==0||Ha(C,u,g)}R.memoizedState=g;var $={value:g,getSnapshot:u};return R.queue=$,Ru(Pl.bind(null,C,$,a),[a]),C.flags|=2048,af(9,{destroy:void 0},Ga.bind(null,C,$,g,u),null),g},useId:function(){var a=di(),u=ba.identifierPrefix;if(Js){var g=cr,C=$a;g=(C&~(1<<32-gs(C)-1)).toString(32)+g,u="_"+u+"R_"+g,g=we++,0<g&&(u+="H"+g.toString(32)),u+="_"}else g=Cn++,u="_"+u+"r_"+g.toString(32)+"_";return a.memoizedState=u},useHostTransitionStatus:Hm,useFormState:Nh,useActionState:Nh,useOptimistic:function(a){var u=di();u.memoizedState=u.baseState=a;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=g,u=Fi.bind(null,or,!0,g),g.dispatch=u,[a,u]},useMemoCache:Dh,useCacheRefresh:function(){return di().memoizedState=k2.bind(null,or)},useEffectEvent:function(a){var u=di(),g={impl:a};return u.memoizedState=g,function(){if((Ls&2)!==0)throw Error(x(440));return g.impl.apply(void 0,arguments)}}},Op={readContext:ws,use:Fm,useCallback:kp,useContext:ws,useEffect:Ka,useImperativeHandle:Lv,useInsertionEffect:Mv,useLayoutEffect:py,useMemo:eb,useReducer:_h,useRef:J1,useState:function(){return _h(Nu)},useDebugValue:z0,useDeferredValue:function(a,u){var g=Li();return ru(g,Cr.memoizedState,a,u)},useTransition:function(){var a=_h(Nu)[0],u=Li().memoizedState;return[typeof a=="boolean"?a:im(a),u]},useSyncExternalStore:Hs,useId:A2,useHostTransitionStatus:Hm,useFormState:Im,useActionState:Im,useOptimistic:function(a,u){var g=Li();return Tp(g,Cr,a,u)},useMemoCache:Dh,useCacheRefresh:iu};Op.useEffectEvent=Ap;var Mu={readContext:ws,use:Fm,useCallback:kp,useContext:ws,useEffect:Ka,useImperativeHandle:Lv,useInsertionEffect:Mv,useLayoutEffect:py,useMemo:eb,useReducer:Q1,useRef:J1,useState:function(){return Q1(Nu)},useDebugValue:z0,useDeferredValue:function(a,u){var g=Li();return Cr===null?Sn(g,a,u):ru(g,Cr.memoizedState,a,u)},useTransition:function(){var a=Q1(Nu)[0],u=Li().memoizedState;return[typeof a=="boolean"?a:im(a),u]},useSyncExternalStore:Hs,useId:A2,useHostTransitionStatus:Hm,useFormState:hy,useActionState:hy,useOptimistic:function(a,u){var g=Li();return Cr!==null?Tp(g,Cr,a,u):(g.baseState=a,[a,g.queue.dispatch])},useMemoCache:Dh,useCacheRefresh:iu};Mu.useEffectEvent=Ap;function na(a,u,g,C){u=a.memoizedState,g=g(C,u),g=g==null?u:ee({},u,g),a.memoizedState=g,a.lanes===0&&(a.updateQueue.baseState=g)}var lm={enqueueSetState:function(a,u,g){a=a._reactInternals;var C=Pd(),R=nu(C);R.payload=u,g!=null&&(R.callback=g),u=Rf(a,R,C),u!==null&&(od(u,a,C),kg(u,a,C))},enqueueReplaceState:function(a,u,g){a=a._reactInternals;var C=Pd(),R=nu(C);R.tag=1,R.payload=u,g!=null&&(R.callback=g),u=Rf(a,R,C),u!==null&&(od(u,a,C),kg(u,a,C))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var g=Pd(),C=nu(g);C.tag=2,u!=null&&(C.callback=u),u=Rf(a,C,g),u!==null&&(od(u,a,g),kg(u,a,g))}};function Np(a,u,g,C,R,$,se){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(C,$,se):u.prototype&&u.prototype.isPureReactComponent?!xh(g,C)||!xh(R,$):!0}function by(a,u,g,C){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(g,C),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(g,C),u.state!==a&&lm.enqueueReplaceState(u,u.state,null)}function Rh(a,u){var g=u;if("ref"in u){g={};for(var C in u)C!=="ref"&&(g[C]=u[C])}if(a=a.defaultProps){g===u&&(g=ee({},g));for(var R in a)g[R]===void 0&&(g[R]=a[R])}return g}function Nd(a){F0(a)}function j0(a){console.error(a)}function V0(a){F0(a)}function yy(a,u){try{var g=a.onUncaughtError;g(u.value,{componentStack:u.stack})}catch(C){setTimeout(function(){throw C})}}function vy(a,u,g){try{var C=a.onCaughtError;C(g.value,{componentStack:g.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function Rp(a,u,g){return g=nu(g),g.tag=3,g.payload={element:null},g.callback=function(){yy(a,u)},g}function xy(a){return a=nu(a),a.tag=3,a}function nb(a,u,g,C){var R=g.type.getDerivedStateFromError;if(typeof R=="function"){var $=C.value;a.payload=function(){return R($)},a.callback=function(){vy(u,g,C)}}var se=g.stateNode;se!==null&&typeof se.componentDidCatch=="function"&&(a.callback=function(){vy(u,g,C),typeof R!="function"&&($f===null?$f=new Set([this]):$f.add(this));var fe=C.stack;this.componentDidCatch(C.value,{componentStack:fe!==null?fe:""})})}function zC(a,u,g,C,R){if(g.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(u=g.alternate,u!==null&&tf(u,g,R,!0),g=ou.current,g!==null){switch(g.tag){case 31:case 13:return Ou===null?mb():g.alternate===null&&xi===0&&(xi=3),g.flags&=-257,g.flags|=65536,g.lanes=R,C===K1?g.flags|=16384:(u=g.updateQueue,u===null?g.updateQueue=new Set([C]):u.add(C),Q0(a,C,R)),!1;case 22:return g.flags|=65536,C===K1?g.flags|=16384:(u=g.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([C])},g.updateQueue=u):(g=u.retryQueue,g===null?u.retryQueue=new Set([C]):g.add(C)),Q0(a,C,R)),!1}throw Error(x(435,g.tag))}return Q0(a,C,R),mb(),!1}if(Js)return u=ou.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=R,C!==ul&&(a=Error(x(422),{cause:C}),hc(ra(a,g)))):(C!==ul&&(u=Error(x(423),{cause:C}),hc(ra(u,g))),a=a.current.alternate,a.flags|=65536,R&=-R,a.lanes|=R,C=ra(C,g),R=Rp(a.stateNode,C,R),Ad(a,R),xi!==4&&(xi=2)),!1;var $=Error(x(520),{cause:C});if($=ra($,g),$p===null?$p=[$]:$p.push($),xi!==4&&(xi=2),u===null)return!0;C=ra(C,g),g=u;do{switch(g.tag){case 3:return g.flags|=65536,a=R&-R,g.lanes|=a,a=Rp(g.stateNode,C,a),Ad(g,a),!1;case 1:if(u=g.type,$=g.stateNode,(g.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&($f===null||!$f.has($))))return g.flags|=65536,R&=-R,g.lanes|=R,R=xy(R),nb(R,a,g,C),Ad(g,R),!1}g=g.return}while(g!==null);return!1}var Pv=Error(x(461)),Tl=!1;function lu(a,u,g,C){u.child=a===null?ur(u,null,g,C):_u(u,a.child,g,C)}function U0(a,u,g,C,R){g=g.render;var $=u.ref;if("ref"in C){var se={};for(var fe in C)fe!=="ref"&&(se[fe]=C[fe])}else se=C;return ql(u),C=as(a,u,g,se,$,R),fe=Rc(),a!==null&&!Tl?(Yu(a,u,R),Wt(a,u,R)):(Js&&fe&&eu(u),u.flags|=1,lu(a,u,C,R),u.child)}function jC(a,u,g,C,R){if(a===null){var $=g.type;return typeof $=="function"&&!qi($)&&$.defaultProps===void 0&&g.compare===null?(u.tag=15,u.type=$,Bu(a,u,$,C,R)):(a=Jc(g.type,null,C,u,u.mode,R),a.ref=u.ref,a.return=u,u.child=a)}if($=a.child,!Bc(a,R)){var se=$.memoizedProps;if(g=g.compare,g=g!==null?g:xh,g(se,C)&&a.ref===u.ref)return Wt(a,u,R)}return u.flags|=1,a=Fa($,C),a.ref=u.ref,a.return=u,u.child=a}function Bu(a,u,g,C,R){if(a!==null){var $=a.memoizedProps;if(xh($,C)&&a.ref===u.ref)if(Tl=!1,u.pendingProps=C=$,Bc(a,R))(a.flags&131072)!==0&&(Tl=!0);else return u.lanes=a.lanes,Wt(a,u,R)}return Mh(a,u,g,C,R)}function fo(a,u,g,C){var R=C.children,$=a!==null?a.memoizedState:null;if(a===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),C.mode==="hidden"){if((u.flags&128)!==0){if($=$!==null?$.baseLanes|g:g,a!==null){for(C=u.child=a.child,R=0;C!==null;)R=R|C.lanes|C.childLanes,C=C.sibling;C=R&~$}else C=0,u.child=null;return Mp(a,u,$,g,C)}if((g&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},a!==null&&Sd(u,$!==null?$.cachePool:null),$!==null?El(u,$):sf(),Dd(u);else return C=u.lanes=536870912,Mp(a,u,$!==null?$.baseLanes|g:g,g,C)}else $!==null?(Sd(u,$.cachePool),El(u,$),aa(),u.memoizedState=null):(a!==null&&Sd(u,null),sf(),aa());return lu(a,u,R,g),u.child}function _a(a,u){return a!==null&&a.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function Mp(a,u,g,C,R){var $=ka();return $=$===null?null:{parent:qa._currentValue,pool:$},u.memoizedState={baseLanes:g,cachePool:$},a!==null&&Sd(u,null),sf(),Dd(u),a!==null&&tf(a,u,C,!0),u.childLanes=R,null}function ob(a,u){return u=Kl({mode:u.mode,children:u.children},a.mode),u.ref=a.ref,a.child=u,u.return=a,u}function Rg(a,u,g){return _u(u,a.child,null,g),a=ob(u,u.pendingProps),a.flags|=2,ta(u),u.memoizedState=null,a}function Z0(a,u,g){var C=u.pendingProps,R=(u.flags&128)!==0;if(u.flags&=-129,a===null){if(Js){if(C.mode==="hidden")return a=ob(u,C),u.lanes=536870912,_a(null,a);if(pc(u),(a=Ia)?(a=Xv(a,Du),a=a!==null&&a.data==="&"?a:null,a!==null&&(u.memoizedState={dehydrated:a,treeContext:ii!==null?{id:$a,overflow:cr}:null,retryLane:536870912,hydrationErrors:null},g=om(a),g.return=u,u.child=g,Cl=u,Ia=null)):a=null,a===null)throw Sl(u);return u.lanes=536870912,null}return ob(u,C)}var $=a.memoizedState;if($!==null){var se=$.dehydrated;if(pc(u),R)if(u.flags&256)u.flags&=-257,u=Rg(a,u,g);else if(u.memoizedState!==null)u.child=a.child,u.flags|=128,u=null;else throw Error(x(558));else if(Tl||tf(a,u,g,!1),R=(g&a.childLanes)!==0,Tl||R){if(C=ba,C!==null&&(se=Qn(C,g),se!==0&&se!==$.retryLane))throw $.retryLane=se,Wi(a,se),od(C,a,se),Pv;mb(),u=Rg(a,u,g)}else a=$.treeContext,Ia=Kr(se.nextSibling),Cl=u,Js=!0,Rl=null,Du=!1,a!==null&&vg(u,a),u=ob(u,C),u.flags|=4096;return u}return a=Fa(a.child,{mode:C.mode,children:C.children}),a.ref=u.ref,u.child=a,a.return=u,a}function W0(a,u){var g=u.ref;if(g===null)a!==null&&a.ref!==null&&(u.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(x(284));(a===null||a.ref!==g)&&(u.flags|=4194816)}}function Mh(a,u,g,C,R){return ql(u),g=as(a,u,g,C,void 0,R),C=Rc(),a!==null&&!Tl?(Yu(a,u,R),Wt(a,u,R)):(Js&&C&&eu(u),u.flags|=1,lu(a,u,g,R),u.child)}function Fv(a,u,g,C,R,$){return ql(u),u.updateQueue=null,g=ia(u,C,g,R),Br(a),C=Rc(),a!==null&&!Tl?(Yu(a,u,$),Wt(a,u,$)):(Js&&C&&eu(u),u.flags|=1,lu(a,u,g,$),u.child)}function cm(a,u,g,C,R){if(ql(u),u.stateNode===null){var $=$s,se=g.contextType;typeof se=="object"&&se!==null&&($=ws(se)),$=new g(C,$),u.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=lm,u.stateNode=$,$._reactInternals=u,$=u.stateNode,$.props=C,$.state=u.memoizedState,$.refs={},Td(u),se=g.contextType,$.context=typeof se=="object"&&se!==null?ws(se):$s,$.state=u.memoizedState,se=g.getDerivedStateFromProps,typeof se=="function"&&(na(u,g,se,C),$.state=u.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof $.getSnapshotBeforeUpdate=="function"||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(se=$.state,typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount(),se!==$.state&&lm.enqueueReplaceState($,$.state,null),Dg(u,C,$,R),nr(),$.state=u.memoizedState),typeof $.componentDidMount=="function"&&(u.flags|=4194308),C=!0}else if(a===null){$=u.stateNode;var fe=u.memoizedProps,lt=Rh(g,fe);$.props=lt;var Ut=$.context,bn=g.contextType;se=$s,typeof bn=="object"&&bn!==null&&(se=ws(bn));var Dn=g.getDerivedStateFromProps;bn=typeof Dn=="function"||typeof $.getSnapshotBeforeUpdate=="function",fe=u.pendingProps!==fe,bn||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(fe||Ut!==se)&&by(u,$,C,se),yi=!1;var Qt=u.memoizedState;$.state=Qt,Dg(u,C,$,R),nr(),Ut=u.memoizedState,fe||Qt!==Ut||yi?(typeof Dn=="function"&&(na(u,g,Dn,C),Ut=u.memoizedState),(lt=yi||Np(u,g,lt,C,Qt,Ut,se))?(bn||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(u.flags|=4194308)):(typeof $.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=C,u.memoizedState=Ut),$.props=C,$.state=Ut,$.context=se,C=lt):(typeof $.componentDidMount=="function"&&(u.flags|=4194308),C=!1)}else{$=u.stateNode,Sp(a,u),se=u.memoizedProps,bn=Rh(g,se),$.props=bn,Dn=u.pendingProps,Qt=$.context,Ut=g.contextType,lt=$s,typeof Ut=="object"&&Ut!==null&&(lt=ws(Ut)),fe=g.getDerivedStateFromProps,(Ut=typeof fe=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(se!==Dn||Qt!==lt)&&by(u,$,C,lt),yi=!1,Qt=u.memoizedState,$.state=Qt,Dg(u,C,$,R),nr();var cn=u.memoizedState;se!==Dn||Qt!==cn||yi||a!==null&&a.dependencies!==null&&cs(a.dependencies)?(typeof fe=="function"&&(na(u,g,fe,C),cn=u.memoizedState),(bn=yi||Np(u,g,bn,C,Qt,cn,lt)||a!==null&&a.dependencies!==null&&cs(a.dependencies))?(Ut||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(C,cn,lt),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(C,cn,lt)),typeof $.componentDidUpdate=="function"&&(u.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof $.componentDidUpdate!="function"||se===a.memoizedProps&&Qt===a.memoizedState||(u.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||se===a.memoizedProps&&Qt===a.memoizedState||(u.flags|=1024),u.memoizedProps=C,u.memoizedState=cn),$.props=C,$.state=cn,$.context=lt,C=bn):(typeof $.componentDidUpdate!="function"||se===a.memoizedProps&&Qt===a.memoizedState||(u.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||se===a.memoizedProps&&Qt===a.memoizedState||(u.flags|=1024),C=!1)}return $=C,W0(a,u),C=(u.flags&128)!==0,$||C?($=u.stateNode,g=C&&typeof g.getDerivedStateFromError!="function"?null:$.render(),u.flags|=1,a!==null&&C?(u.child=_u(u,a.child,null,R),u.child=_u(u,null,g,R)):lu(a,u,g,R),u.memoizedState=$.state,a=u.child):a=Wt(a,u,R),a}function $v(a,u,g,C){return Bm(),u.flags|=256,lu(a,u,g,C),u.child}var sb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ga(a){return{baseLanes:a,cachePool:ui()}}function Qu(a,u,g){return a=a!==null?a.childLanes&~g:0,u&&(a|=Rd),a}function Mc(a,u,g){var C=u.pendingProps,R=!1,$=(u.flags&128)!==0,se;if((se=$)||(se=a!==null&&a.memoizedState===null?!1:(Di.current&2)!==0),se&&(R=!0,u.flags&=-129),se=(u.flags&32)!==0,u.flags&=-33,a===null){if(Js){if(R?Lm(u):aa(),(a=Ia)?(a=Xv(a,Du),a=a!==null&&a.data!=="&"?a:null,a!==null&&(u.memoizedState={dehydrated:a,treeContext:ii!==null?{id:$a,overflow:cr}:null,retryLane:536870912,hydrationErrors:null},g=om(a),g.return=u,u.child=g,Cl=u,Ia=null)):a=null,a===null)throw Sl(u);return Kp(a)?u.lanes=32:u.lanes=536870912,null}var fe=C.children;return C=C.fallback,R?(aa(),R=u.mode,fe=Kl({mode:"hidden",children:fe},R),C=ri(C,R,g,null),fe.return=u,C.return=u,fe.sibling=C,u.child=fe,C=u.child,C.memoizedState=ga(g),C.childLanes=Qu(a,se,g),u.memoizedState=sb,_a(null,C)):(Lm(u),Mg(u,fe))}var lt=a.memoizedState;if(lt!==null&&(fe=lt.dehydrated,fe!==null)){if($)u.flags&256?(Lm(u),u.flags&=-257,u=Bh(a,u,g)):u.memoizedState!==null?(aa(),u.child=a.child,u.flags|=128,u=null):(aa(),fe=C.fallback,R=u.mode,C=Kl({mode:"visible",children:C.children},R),fe=ri(fe,R,g,null),fe.flags|=2,C.return=u,fe.return=u,C.sibling=fe,u.child=C,_u(u,a.child,null,g),C=u.child,C.memoizedState=ga(g),C.childLanes=Qu(a,se,g),u.memoizedState=sb,u=_a(null,C));else if(Lm(u),Kp(fe)){if(se=fe.nextSibling&&fe.nextSibling.dataset,se)var Ut=se.dgst;se=Ut,C=Error(x(419)),C.stack="",C.digest=se,hc({value:C,source:null,stack:null}),u=Bh(a,u,g)}else if(Tl||tf(a,u,g,!1),se=(g&a.childLanes)!==0,Tl||se){if(se=ba,se!==null&&(C=Qn(se,g),C!==0&&C!==lt.retryLane))throw lt.retryLane=C,Wi(a,C),od(se,a,C),Pv;Qv(fe)||mb(),u=Bh(a,u,g)}else Qv(fe)?(u.flags|=192,u.child=a.child,u=null):(a=lt.treeContext,Ia=Kr(fe.nextSibling),Cl=u,Js=!0,Rl=null,Du=!1,a!==null&&vg(u,a),u=Mg(u,C.children),u.flags|=4096);return u}return R?(aa(),fe=C.fallback,R=u.mode,lt=a.child,Ut=lt.sibling,C=Fa(lt,{mode:"hidden",children:C.children}),C.subtreeFlags=lt.subtreeFlags&65011712,Ut!==null?fe=Fa(Ut,fe):(fe=ri(fe,R,g,null),fe.flags|=2),fe.return=u,C.return=u,C.sibling=fe,u.child=C,_a(null,C),C=u.child,fe=a.child.memoizedState,fe===null?fe=ga(g):(R=fe.cachePool,R!==null?(lt=qa._currentValue,R=R.parent!==lt?{parent:lt,pool:lt}:R):R=ui(),fe={baseLanes:fe.baseLanes|g,cachePool:R}),C.memoizedState=fe,C.childLanes=Qu(a,se,g),u.memoizedState=sb,_a(a.child,C)):(Lm(u),g=a.child,a=g.sibling,g=Fa(g,{mode:"visible",children:C.children}),g.return=u,g.sibling=null,a!==null&&(se=u.deletions,se===null?(u.deletions=[a],u.flags|=16):se.push(a)),u.child=g,u.memoizedState=null,g)}function Mg(a,u){return u=Kl({mode:"visible",children:u},a.mode),u.return=a,a.child=u}function Kl(a,u){return a=Za(22,a,null,u),a.lanes=0,a}function Bh(a,u,g){return _u(u,a.child,null,g),a=Mg(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function ml(a,u,g){a.lanes|=u;var C=a.alternate;C!==null&&(C.lanes|=u),Gr(a.return,u,g)}function yc(a,u,g,C,R,$){var se=a.memoizedState;se===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:C,tail:g,tailMode:R,treeForkCount:$}:(se.isBackwards=u,se.rendering=null,se.renderingStartTime=0,se.last=C,se.tail=g,se.tailMode=R,se.treeForkCount=$)}function rb(a,u,g){var C=u.pendingProps,R=C.revealOrder,$=C.tail;C=C.children;var se=Di.current,fe=(se&2)!==0;if(fe?(se=se&1|2,u.flags|=128):se&=1,It(Di,se),lu(a,u,C,g),C=Js?uo:0,!fe&&a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&ml(a,g,u);else if(a.tag===19)ml(a,g,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(R){case"forwards":for(g=u.child,R=null;g!==null;)a=g.alternate,a!==null&&Pm(a)===null&&(R=g),g=g.sibling;g=R,g===null?(R=u.child,u.child=null):(R=g.sibling,g.sibling=null),yc(u,!1,R,g,$,C);break;case"backwards":case"unstable_legacy-backwards":for(g=null,R=u.child,u.child=null;R!==null;){if(a=R.alternate,a!==null&&Pm(a)===null){u.child=R;break}a=R.sibling,R.sibling=g,g=R,R=a}yc(u,!0,g,null,$,C);break;case"together":yc(u,!1,null,null,void 0,C);break;default:u.memoizedState=null}return u.child}function Wt(a,u,g){if(a!==null&&(u.dependencies=a.dependencies),Lc|=u.lanes,(g&u.childLanes)===0)if(a!==null){if(tf(a,u,g,!1),(g&u.childLanes)===0)return null}else return null;if(a!==null&&u.child!==a.child)throw Error(x(153));if(u.child!==null){for(a=u.child,g=Fa(a,a.pendingProps),u.child=g,g.return=u;a.sibling!==null;)a=a.sibling,g=g.sibling=Fa(a,a.pendingProps),g.return=u;g.sibling=null}return u.child}function Bc(a,u){return(a.lanes&u)!==0?!0:(a=a.dependencies,!!(a!==null&&cs(a)))}function ab(a,u,g){switch(u.tag){case 3:X(u,u.stateNode.containerInfo),yr(u,qa,a.memoizedState.cache),Bm();break;case 27:case 5:xo(u);break;case 4:X(u,u.stateNode.containerInfo);break;case 10:yr(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,pc(u),null;break;case 13:var C=u.memoizedState;if(C!==null)return C.dehydrated!==null?(Lm(u),u.flags|=128,null):(g&u.child.childLanes)!==0?Mc(a,u,g):(Lm(u),a=Wt(a,u,g),a!==null?a.sibling:null);Lm(u);break;case 19:var R=(a.flags&128)!==0;if(C=(g&u.childLanes)!==0,C||(tf(a,u,g,!1),C=(g&u.childLanes)!==0),R){if(C)return rb(a,u,g);u.flags|=128}if(R=u.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),It(Di,Di.current),C)break;return null;case 22:return u.lanes=0,fo(a,u,g,u.pendingProps);case 24:yr(u,qa,a.memoizedState.cache)}return Wt(a,u,g)}function Ya(a,u,g){if(a!==null)if(a.memoizedProps!==u.pendingProps)Tl=!0;else{if(!Bc(a,g)&&(u.flags&128)===0)return Tl=!1,ab(a,u,g);Tl=(a.flags&131072)!==0}else Tl=!1,Js&&(u.flags&1048576)!==0&&Cp(u,uo,u.index);switch(u.lanes=0,u.tag){case 16:e:{var C=u.pendingProps;if(a=sm(u.elementType),u.type=a,typeof a=="function")qi(a)?(C=Rh(a,C),u.tag=1,u=cm(null,u,a,C,g)):(u.tag=0,u=Mh(null,u,a,C,g));else{if(a!=null){var R=a.$$typeof;if(R===vt){u.tag=11,u=U0(null,u,a,C,g);break e}else if(R===ie){u.tag=14,u=jC(null,u,a,C,g);break e}}throw u=yt(a)||a,Error(x(306,u,""))}}return u;case 0:return Mh(a,u,u.type,u.pendingProps,g);case 1:return C=u.type,R=Rh(C,u.pendingProps),cm(a,u,C,R,g);case 3:e:{if(X(u,u.stateNode.containerInfo),a===null)throw Error(x(387));C=u.pendingProps;var $=u.memoizedState;R=$.element,Sp(a,u),Dg(u,C,null,g);var se=u.memoizedState;if(C=se.cache,yr(u,qa,C),C!==$.cache&&li(u,[qa],g,!0),nr(),C=se.element,$.isDehydrated)if($={element:C,isDehydrated:!1,cache:se.cache},u.updateQueue.baseState=$,u.memoizedState=$,u.flags&256){u=$v(a,u,C,g);break e}else if(C!==R){R=ra(Error(x(424)),u),hc(R),u=$v(a,u,C,g);break e}else for(a=u.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Ia=Kr(a.firstChild),Cl=u,Js=!0,Rl=null,Du=!0,g=ur(u,null,C,g),u.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Bm(),C===R){u=Wt(a,u,g);break e}lu(a,u,C,g)}u=u.child}return u;case 26:return W0(a,u),a===null?(g=jg(u.type,null,u.pendingProps,null))?u.memoizedState=g:Js||(g=u.type,a=u.pendingProps,C=Hg(He.current).createElement(g),C[er]=u,C[tr]=a,Qi(C,g,a),me(C),u.stateNode=C):u.memoizedState=jg(u.type,a.memoizedProps,u.pendingProps,a.memoizedState),null;case 27:return xo(u),a===null&&Js&&(C=u.stateNode=Oi(u.type,u.pendingProps,He.current),Cl=u,Du=!0,R=Ia,id(u.type)?(Al=R,Ia=Kr(C.firstChild)):Ia=R),lu(a,u,u.pendingProps.children,g),W0(a,u),a===null&&(u.flags|=4194304),u.child;case 5:return a===null&&Js&&((R=C=Ia)&&(C=Sb(C,u.type,u.pendingProps,Du),C!==null?(u.stateNode=C,Cl=u,Ia=Kr(C.firstChild),Du=!1,R=!0):R=!1),R||Sl(u)),xo(u),R=u.type,$=u.pendingProps,se=a!==null?a.memoizedProps:null,C=$.children,Zh(R,$)?C=null:se!==null&&Zh(R,se)&&(u.flags|=32),u.memoizedState!==null&&(R=as(a,u,vi,null,null,g),ld._currentValue=R),W0(a,u),lu(a,u,C,g),u.child;case 6:return a===null&&Js&&((a=g=Ia)&&(g=By(g,u.pendingProps,Du),g!==null?(u.stateNode=g,Cl=u,Ia=null,a=!0):a=!1),a||Sl(u)),null;case 13:return Mc(a,u,g);case 4:return X(u,u.stateNode.containerInfo),C=u.pendingProps,a===null?u.child=_u(u,null,C,g):lu(a,u,C,g),u.child;case 11:return U0(a,u,u.type,u.pendingProps,g);case 7:return lu(a,u,u.pendingProps,g),u.child;case 8:return lu(a,u,u.pendingProps.children,g),u.child;case 12:return lu(a,u,u.pendingProps.children,g),u.child;case 10:return C=u.pendingProps,yr(u,u.type,C.value),lu(a,u,C.children,g),u.child;case 9:return R=u.type._context,C=u.pendingProps.children,ql(u),R=ws(R),C=C(R),u.flags|=1,lu(a,u,C,g),u.child;case 14:return jC(a,u,u.type,u.pendingProps,g);case 15:return Bu(a,u,u.type,u.pendingProps,g);case 19:return rb(a,u,g);case 31:return Z0(a,u,g);case 22:return fo(a,u,g,u.pendingProps);case 24:return ql(u),C=ws(qa),a===null?(R=ka(),R===null&&(R=ba,$=Of(),R.pooledCache=$,$.refCount++,$!==null&&(R.pooledCacheLanes|=g),R=$),u.memoizedState={parent:C,cache:R},Td(u),yr(u,qa,R)):((a.lanes&g)!==0&&(Sp(a,u),Dg(u,null,null,g),nr()),R=a.memoizedState,$=u.memoizedState,R.parent!==C?(R={parent:C,cache:C},u.memoizedState=R,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=R),yr(u,qa,C)):(C=$.cache,yr(u,qa,C),C!==R.cache&&li(u,[qa],g,!0))),lu(a,u,u.pendingProps.children,g),u.child;case 29:throw u.pendingProps}throw Error(x(156,u.tag))}function Yl(a){a.flags|=4}function cu(a,u,g,C,R){if((u=(a.mode&32)!==0)&&(u=!1),u){if(a.flags|=16777216,(R&335544128)===R)if(a.stateNode.complete)a.flags|=8192;else if(X0())a.flags|=8192;else throw gc=K1,Sg}else a.flags&=-16777217}function D2(a,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Hy(u))if(X0())a.flags|=8192;else throw gc=K1,Sg}function cf(a,u){u!==null&&(a.flags|=4),a.flags&16384&&(u=a.tag!==22?Zt():536870912,a.lanes|=u,$h|=u)}function q0(a,u){if(!Js)switch(a.tailMode){case"hidden":u=a.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?a.tail=null:g.sibling=null;break;case"collapsed":g=a.tail;for(var C=null;g!==null;)g.alternate!==null&&(C=g),g=g.sibling;C===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:C.sibling=null}}function Ar(a){var u=a.alternate!==null&&a.alternate.child===a.child,g=0,C=0;if(u)for(var R=a.child;R!==null;)g|=R.lanes|R.childLanes,C|=R.subtreeFlags&65011712,C|=R.flags&65011712,R.return=a,R=R.sibling;else for(R=a.child;R!==null;)g|=R.lanes|R.childLanes,C|=R.subtreeFlags,C|=R.flags,R.return=a,R=R.sibling;return a.subtreeFlags|=C,a.childLanes=g,u}function vr(a,u,g){var C=u.pendingProps;switch(qu(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ar(u),null;case 1:return Ar(u),null;case 3:return g=u.stateNode,C=null,a!==null&&(C=a.memoizedState.cache),u.memoizedState.cache!==C&&(u.flags|=2048),dl(qa),$o(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(Ml(u)?Yl(u):a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Th())),Ar(u),null;case 26:var R=u.type,$=u.memoizedState;return a===null?(Yl(u),$!==null?(Ar(u),D2(u,$)):(Ar(u),cu(u,R,null,C,g))):$?$!==a.memoizedState?(Yl(u),Ar(u),D2(u,$)):(Ar(u),u.flags&=-16777217):(a=a.memoizedProps,a!==C&&Yl(u),Ar(u),cu(u,R,a,C,g)),null;case 27:if(Mo(u),g=He.current,R=u.type,a!==null&&u.stateNode!=null)a.memoizedProps!==C&&Yl(u);else{if(!C){if(u.stateNode===null)throw Error(x(166));return Ar(u),null}a=Ne.current,Ml(u)?ef(u):(a=Oi(R,C,g),u.stateNode=a,Yl(u))}return Ar(u),null;case 5:if(Mo(u),R=u.type,a!==null&&u.stateNode!=null)a.memoizedProps!==C&&Yl(u);else{if(!C){if(u.stateNode===null)throw Error(x(166));return Ar(u),null}if($=Ne.current,Ml(u))ef(u);else{var se=Hg(He.current);switch($){case 1:$=se.createElementNS("http://www.w3.org/2000/svg",R);break;case 2:$=se.createElementNS("http://www.w3.org/1998/Math/MathML",R);break;default:switch(R){case"svg":$=se.createElementNS("http://www.w3.org/2000/svg",R);break;case"math":$=se.createElementNS("http://www.w3.org/1998/Math/MathML",R);break;case"script":$=se.createElement("div"),$.innerHTML="<script><\/script>",$=$.removeChild($.firstChild);break;case"select":$=typeof C.is=="string"?se.createElement("select",{is:C.is}):se.createElement("select"),C.multiple?$.multiple=!0:C.size&&($.size=C.size);break;default:$=typeof C.is=="string"?se.createElement(R,{is:C.is}):se.createElement(R)}}$[er]=u,$[tr]=C;e:for(se=u.child;se!==null;){if(se.tag===5||se.tag===6)$.appendChild(se.stateNode);else if(se.tag!==4&&se.tag!==27&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===u)break e;for(;se.sibling===null;){if(se.return===null||se.return===u)break e;se=se.return}se.sibling.return=se.return,se=se.sibling}u.stateNode=$;e:switch(Qi($,R,C),R){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break e;case"img":C=!0;break e;default:C=!1}C&&Yl(u)}}return Ar(u),cu(u,u.type,a===null?null:a.memoizedProps,u.pendingProps,g),null;case 6:if(a&&u.stateNode!=null)a.memoizedProps!==C&&Yl(u);else{if(typeof C!="string"&&u.stateNode===null)throw Error(x(166));if(a=He.current,Ml(u)){if(a=u.stateNode,g=u.memoizedProps,C=null,R=Cl,R!==null)switch(R.tag){case 27:case 5:C=R.memoizedProps}a[er]=u,a=!!(a.nodeValue===g||C!==null&&C.suppressHydrationWarning===!0||Ig(a.nodeValue,g)),a||Sl(u,!0)}else a=Hg(a).createTextNode(C),a[er]=u,u.stateNode=a}return Ar(u),null;case 31:if(g=u.memoizedState,a===null||a.memoizedState!==null){if(C=Ml(u),g!==null){if(a===null){if(!C)throw Error(x(318));if(a=u.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(x(557));a[er]=u}else Bm(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Ar(u),a=!1}else g=Th(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=g),a=!0;if(!a)return u.flags&256?(ta(u),u):(ta(u),null);if((u.flags&128)!==0)throw Error(x(558))}return Ar(u),null;case 13:if(C=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(R=Ml(u),C!==null&&C.dehydrated!==null){if(a===null){if(!R)throw Error(x(318));if(R=u.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(x(317));R[er]=u}else Bm(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Ar(u),R=!1}else R=Th(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=R),R=!0;if(!R)return u.flags&256?(ta(u),u):(ta(u),null)}return ta(u),(u.flags&128)!==0?(u.lanes=g,u):(g=C!==null,a=a!==null&&a.memoizedState!==null,g&&(C=u.child,R=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(R=C.alternate.memoizedState.cachePool.pool),$=null,C.memoizedState!==null&&C.memoizedState.cachePool!==null&&($=C.memoizedState.cachePool.pool),$!==R&&(C.flags|=2048)),g!==a&&g&&(u.child.flags|=8192),cf(u,u.updateQueue),Ar(u),null);case 4:return $o(),a===null&&Pc(u.stateNode.containerInfo),Ar(u),null;case 10:return dl(u.type),Ar(u),null;case 19:if(Ve(Di),C=u.memoizedState,C===null)return Ar(u),null;if(R=(u.flags&128)!==0,$=C.rendering,$===null)if(R)q0(C,!1);else{if(xi!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if($=Pm(a),$!==null){for(u.flags|=128,q0(C,!1),a=$.updateQueue,u.updateQueue=a,cf(u,a),u.subtreeFlags=0,a=g,g=u.child;g!==null;)ma(g,a),g=g.sibling;return It(Di,Di.current&1|2),Js&&Nc(u,C.treeForkCount),u.child}a=a.sibling}C.tail!==null&&Tt()>Hp&&(u.flags|=128,R=!0,q0(C,!1),u.lanes=4194304)}else{if(!R)if(a=Pm($),a!==null){if(u.flags|=128,R=!0,a=a.updateQueue,u.updateQueue=a,cf(u,a),q0(C,!0),C.tail===null&&C.tailMode==="hidden"&&!$.alternate&&!Js)return Ar(u),null}else 2*Tt()-C.renderingStartTime>Hp&&g!==536870912&&(u.flags|=128,R=!0,q0(C,!1),u.lanes=4194304);C.isBackwards?($.sibling=u.child,u.child=$):(a=C.last,a!==null?a.sibling=$:u.child=$,C.last=$)}return C.tail!==null?(a=C.tail,C.rendering=a,C.tail=a.sibling,C.renderingStartTime=Tt(),a.sibling=null,g=Di.current,It(Di,R?g&1|2:g&1),Js&&Nc(u,C.treeForkCount),a):(Ar(u),null);case 22:case 23:return ta(u),_g(),C=u.memoizedState!==null,a!==null?a.memoizedState!==null!==C&&(u.flags|=8192):C&&(u.flags|=8192),C?(g&536870912)!==0&&(u.flags&128)===0&&(Ar(u),u.subtreeFlags&6&&(u.flags|=8192)):Ar(u),g=u.updateQueue,g!==null&&cf(u,g.retryQueue),g=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),C=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(C=u.memoizedState.cachePool.pool),C!==g&&(u.flags|=2048),a!==null&&Ve(fl),null;case 24:return g=null,a!==null&&(g=a.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),dl(qa),Ar(u),null;case 25:return null;case 30:return null}throw Error(x(156,u.tag))}function um(a,u){switch(qu(u),u.tag){case 1:return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return dl(qa),$o(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 26:case 27:case 5:return Mo(u),null;case 31:if(u.memoizedState!==null){if(ta(u),u.alternate===null)throw Error(x(340));Bm()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 13:if(ta(u),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(x(340));Bm()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return Ve(Di),null;case 4:return $o(),null;case 10:return dl(u.type),null;case 22:case 23:return ta(u),_g(),a!==null&&Ve(fl),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 24:return dl(qa),null;case 25:return null;default:return null}}function Bp(a,u){switch(qu(u),u.tag){case 3:dl(qa),$o();break;case 26:case 27:case 5:Mo(u);break;case 4:$o();break;case 31:u.memoizedState!==null&&ta(u);break;case 13:ta(u);break;case 19:Ve(Di);break;case 10:dl(u.type);break;case 22:case 23:ta(u),_g(),a!==null&&Ve(fl);break;case 24:dl(qa)}}function pa(a,u){try{var g=u.updateQueue,C=g!==null?g.lastEffect:null;if(C!==null){var R=C.next;g=R;do{if((g.tag&a)===a){C=void 0;var $=g.create,se=g.inst;C=$(),se.destroy=C}g=g.next}while(g!==R)}}catch(fe){ca(u,u.return,fe)}}function jm(a,u,g){try{var C=u.updateQueue,R=C!==null?C.lastEffect:null;if(R!==null){var $=R.next;C=$;do{if((C.tag&a)===a){var se=C.inst,fe=se.destroy;if(fe!==void 0){se.destroy=void 0,R=u;var lt=g,Ut=fe;try{Ut()}catch(bn){ca(R,lt,bn)}}}C=C.next}while(C!==$)}}catch(bn){ca(u,u.return,bn)}}function wy(a){var u=a.updateQueue;if(u!==null){var g=a.stateNode;try{kh(u,g)}catch(C){ca(a,a.return,C)}}}function uf(a,u,g){g.props=Rh(a.type,a.memoizedProps),g.state=a.memoizedState;try{g.componentWillUnmount()}catch(C){ca(a,u,C)}}function Bg(a,u){try{var g=a.ref;if(g!==null){switch(a.tag){case 26:case 27:case 5:var C=a.stateNode;break;case 30:C=a.stateNode;break;default:C=a.stateNode}typeof g=="function"?a.refCleanup=g(C):g.current=C}}catch(R){ca(a,u,R)}}function $i(a,u){var g=a.ref,C=a.refCleanup;if(g!==null)if(typeof C=="function")try{C()}catch(R){ca(a,u,R)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(R){ca(a,u,R)}else g.current=null}function _2(a){var u=a.type,g=a.memoizedProps,C=a.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":g.autoFocus&&C.focus();break e;case"img":g.src?C.src=g.src:g.srcSet&&(C.srcset=g.srcSet)}}catch(R){ca(a,a.return,R)}}function pt(a,u,g){try{var C=a.stateNode;nc(C,a.type,g,u),C[tr]=u}catch(R){ca(a,a.return,R)}}function Ju(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&id(a.type)||a.tag===4}function Lp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Ju(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&id(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Oa(a,u,g){var C=a.tag;if(C===5||C===6)a=a.stateNode,u?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(a,u):(u=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,u.appendChild(a),g=g._reactRootContainer,g!=null||u.onclick!==null||(u.onclick=pi));else if(C!==4&&(C===27&&id(a.type)&&(g=a.stateNode,u=null),a=a.child,a!==null))for(Oa(a,u,g),a=a.sibling;a!==null;)Oa(a,u,g),a=a.sibling}function Xl(a,u,g){var C=a.tag;if(C===5||C===6)a=a.stateNode,u?g.insertBefore(a,u):g.appendChild(a);else if(C!==4&&(C===27&&id(a.type)&&(g=a.stateNode),a=a.child,a!==null))for(Xl(a,u,g),a=a.sibling;a!==null;)Xl(a,u,g),a=a.sibling}function Gi(a){var u=a.stateNode,g=a.memoizedProps;try{for(var C=a.type,R=u.attributes;R.length;)u.removeAttributeNode(R[0]);Qi(u,C,g),u[er]=a,u[tr]=g}catch($){ca(a,a.return,$)}}var dr=!1,Fl=!1,Vm=!1,Lh=typeof WeakSet=="function"?WeakSet:Set,hl=null;function ib(a,u){if(a=a.containerInfo,Uh=so,a=L0(a),bp(a)){if("selectionStart"in a)var g={start:a.selectionStart,end:a.selectionEnd};else e:{g=(g=a.ownerDocument)&&g.defaultView||window;var C=g.getSelection&&g.getSelection();if(C&&C.rangeCount!==0){g=C.anchorNode;var R=C.anchorOffset,$=C.focusNode;C=C.focusOffset;try{g.nodeType,$.nodeType}catch{g=null;break e}var se=0,fe=-1,lt=-1,Ut=0,bn=0,Dn=a,Qt=null;t:for(;;){for(var cn;Dn!==g||R!==0&&Dn.nodeType!==3||(fe=se+R),Dn!==$||C!==0&&Dn.nodeType!==3||(lt=se+C),Dn.nodeType===3&&(se+=Dn.nodeValue.length),(cn=Dn.firstChild)!==null;)Qt=Dn,Dn=cn;for(;;){if(Dn===a)break t;if(Qt===g&&++Ut===R&&(fe=se),Qt===$&&++bn===C&&(lt=se),(cn=Dn.nextSibling)!==null)break;Dn=Qt,Qt=Dn.parentNode}Dn=cn}g=fe===-1||lt===-1?null:{start:fe,end:lt}}else g=null}g=g||{start:0,end:0}}else g=null;for(qm={focusedElem:a,selectionRange:g},so=!1,hl=u;hl!==null;)if(u=hl,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,hl=a;else for(;hl!==null;){switch(u=hl,$=u.alternate,a=u.flags,u.tag){case 0:if((a&4)!==0&&(a=u.updateQueue,a=a!==null?a.events:null,a!==null))for(g=0;g<a.length;g++)R=a[g],R.ref.impl=R.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&$!==null){a=void 0,g=u,R=$.memoizedProps,$=$.memoizedState,C=g.stateNode;try{var es=Rh(g.type,R);a=C.getSnapshotBeforeUpdate(es,$),C.__reactInternalSnapshotBeforeUpdate=a}catch(Ns){ca(g,g.return,Ns)}}break;case 3:if((a&1024)!==0){if(a=u.stateNode.containerInfo,g=a.nodeType,g===9)Cb(a);else if(g===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Cb(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(x(163))}if(a=u.sibling,a!==null){a.return=u.return,hl=a;break}hl=u.return}}function Cy(a,u,g){var C=g.flags;switch(g.tag){case 0:case 11:case 15:Mf(a,g),C&4&&pa(5,g);break;case 1:if(Mf(a,g),C&4)if(a=g.stateNode,u===null)try{a.componentDidMount()}catch(se){ca(g,g.return,se)}else{var R=Rh(g.type,u.memoizedProps);u=u.memoizedState;try{a.componentDidUpdate(R,u,a.__reactInternalSnapshotBeforeUpdate)}catch(se){ca(g,g.return,se)}}C&64&&wy(g),C&512&&Bg(g,g.return);break;case 3:if(Mf(a,g),C&64&&(a=g.updateQueue,a!==null)){if(u=null,g.child!==null)switch(g.child.tag){case 27:case 5:u=g.child.stateNode;break;case 1:u=g.child.stateNode}try{kh(a,u)}catch(se){ca(g,g.return,se)}}break;case 27:u===null&&C&4&&Gi(g);case 26:case 5:Mf(a,g),u===null&&C&4&&_2(g),C&512&&Bg(g,g.return);break;case 12:Mf(a,g);break;case 31:Mf(a,g),C&4&&O2(a,g);break;case 13:Mf(a,g),C&4&&Ql(a,g),C&64&&(a=g.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(g=Vv.bind(null,g),Ji(a,g))));break;case 22:if(C=g.memoizedState!==null||dr,!C){u=u!==null&&u.memoizedState!==null||Fl,R=dr;var $=Fl;dr=C,(Fl=u)&&!$?ec(a,g,(g.subtreeFlags&8772)!==0):Mf(a,g),dr=R,Fl=$}break;case 30:break;default:Mf(a,g)}}function Sy(a){var u=a.alternate;u!==null&&(a.alternate=null,Sy(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&co(u)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var za=null,vc=!1;function Um(a,u,g){for(g=g.child;g!==null;)Ey(a,u,g),g=g.sibling}function Ey(a,u,g){if(Ss&&typeof Ss.onCommitFiberUnmount=="function")try{Ss.onCommitFiberUnmount(Vs,g)}catch{}switch(g.tag){case 26:Fl||$i(g,u),Um(a,u,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Fl||$i(g,u);var C=za,R=vc;id(g.type)&&(za=g.stateNode,vc=!1),Um(a,u,g),Km(g.stateNode),za=C,vc=R;break;case 5:Fl||$i(g,u);case 6:if(C=za,R=vc,za=null,Um(a,u,g),za=C,vc=R,za!==null)if(vc)try{(za.nodeType===9?za.body:za.nodeName==="HTML"?za.ownerDocument.body:za).removeChild(g.stateNode)}catch($){ca(g,u,$)}else try{za.removeChild(g.stateNode)}catch($){ca(g,u,$)}break;case 18:za!==null&&(vc?(a=za,Yv(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,g.stateNode),n0(a)):Yv(za,g.stateNode));break;case 4:C=za,R=vc,za=g.stateNode.containerInfo,vc=!0,Um(a,u,g),za=C,vc=R;break;case 0:case 11:case 14:case 15:jm(2,g,u),Fl||jm(4,g,u),Um(a,u,g);break;case 1:Fl||($i(g,u),C=g.stateNode,typeof C.componentWillUnmount=="function"&&uf(g,u,C)),Um(a,u,g);break;case 21:Um(a,u,g);break;case 22:Fl=(C=Fl)||g.memoizedState!==null,Um(a,u,g),Fl=C;break;default:Um(a,u,g)}}function O2(a,u){if(u.memoizedState===null&&(a=u.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{n0(a)}catch(g){ca(u,u.return,g)}}}function Ql(a,u){if(u.memoizedState===null&&(a=u.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{n0(a)}catch(g){ca(u,u.return,g)}}function ed(a){switch(a.tag){case 31:case 13:case 19:var u=a.stateNode;return u===null&&(u=a.stateNode=new Lh),u;case 22:return a=a.stateNode,u=a._retryCache,u===null&&(u=a._retryCache=new Lh),u;default:throw Error(x(435,a.tag))}}function Xa(a,u){var g=ed(a);u.forEach(function(C){if(!g.has(C)){g.add(C);var R=Uv.bind(null,a,C);C.then(R,R)}})}function $l(a,u){var g=u.deletions;if(g!==null)for(var C=0;C<g.length;C++){var R=g[C],$=a,se=u,fe=se;e:for(;fe!==null;){switch(fe.tag){case 27:if(id(fe.type)){za=fe.stateNode,vc=!1;break e}break;case 5:za=fe.stateNode,vc=!1;break e;case 3:case 4:za=fe.stateNode.containerInfo,vc=!0;break e}fe=fe.return}if(za===null)throw Error(x(160));Ey($,se,R),za=null,vc=!1,$=R.alternate,$!==null&&($.return=null),R.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)uu(u,a),u=u.sibling}var td=null;function uu(a,u){var g=a.alternate,C=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:$l(u,a),xc(a),C&4&&(jm(3,a,a.return),pa(3,a),jm(5,a,a.return));break;case 1:$l(u,a),xc(a),C&512&&(Fl||g===null||$i(g,g.return)),C&64&&dr&&(a=a.updateQueue,a!==null&&(C=a.callbacks,C!==null&&(g=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=g===null?C:g.concat(C))));break;case 26:var R=td;if($l(u,a),xc(a),C&512&&(Fl||g===null||$i(g,g.return)),C&4){var $=g!==null?g.memoizedState:null;if(C=a.memoizedState,g===null)if(C===null)if(a.stateNode===null){e:{C=a.type,g=a.memoizedProps,R=R.ownerDocument||R;t:switch(C){case"title":$=R.getElementsByTagName("title")[0],(!$||$[Ao]||$[er]||$.namespaceURI==="http://www.w3.org/2000/svg"||$.hasAttribute("itemprop"))&&($=R.createElement(C),R.head.insertBefore($,R.querySelector("head > title"))),Qi($,C,g),$[er]=a,me($),C=$;break e;case"link":var se=Fc("link","href",R).get(C+(g.href||""));if(se){for(var fe=0;fe<se.length;fe++)if($=se[fe],$.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&$.getAttribute("rel")===(g.rel==null?null:g.rel)&&$.getAttribute("title")===(g.title==null?null:g.title)&&$.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){se.splice(fe,1);break t}}$=R.createElement(C),Qi($,C,g),R.head.appendChild($);break;case"meta":if(se=Fc("meta","content",R).get(C+(g.content||""))){for(fe=0;fe<se.length;fe++)if($=se[fe],$.getAttribute("content")===(g.content==null?null:""+g.content)&&$.getAttribute("name")===(g.name==null?null:g.name)&&$.getAttribute("property")===(g.property==null?null:g.property)&&$.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&$.getAttribute("charset")===(g.charSet==null?null:g.charSet)){se.splice(fe,1);break t}}$=R.createElement(C),Qi($,C,g),R.head.appendChild($);break;default:throw Error(x(468,C))}$[er]=a,me($),C=$}a.stateNode=C}else Xp(R,a.type,a.stateNode);else a.stateNode=oc(R,C,a.memoizedProps);else $!==C?($===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):$.count--,C===null?Xp(R,a.type,a.stateNode):oc(R,C,a.memoizedProps)):C===null&&a.stateNode!==null&&pt(a,a.memoizedProps,g.memoizedProps)}break;case 27:$l(u,a),xc(a),C&512&&(Fl||g===null||$i(g,g.return)),g!==null&&C&4&&pt(a,a.memoizedProps,g.memoizedProps);break;case 5:if($l(u,a),xc(a),C&512&&(Fl||g===null||$i(g,g.return)),a.flags&32){R=a.stateNode;try{uc(R,"")}catch(es){ca(a,a.return,es)}}C&4&&a.stateNode!=null&&(R=a.memoizedProps,pt(a,R,g!==null?g.memoizedProps:R)),C&1024&&(Vm=!0);break;case 6:if($l(u,a),xc(a),C&4){if(a.stateNode===null)throw Error(x(162));C=a.memoizedProps,g=a.stateNode;try{g.nodeValue=C}catch(es){ca(a,a.return,es)}}break;case 3:if(Iy=null,R=td,td=Eb(u.containerInfo),$l(u,a),td=R,xc(a),C&4&&g!==null&&g.memoizedState.isDehydrated)try{n0(u.containerInfo)}catch(es){ca(a,a.return,es)}Vm&&(Vm=!1,Ii(a));break;case 4:C=td,td=Eb(a.stateNode.containerInfo),$l(u,a),xc(a),td=C;break;case 12:$l(u,a),xc(a);break;case 31:$l(u,a),xc(a),C&4&&(C=a.updateQueue,C!==null&&(a.updateQueue=null,Xa(a,C)));break;case 13:$l(u,a),xc(a),a.child.flags&8192&&a.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Ip=Tt()),C&4&&(C=a.updateQueue,C!==null&&(a.updateQueue=null,Xa(a,C)));break;case 22:R=a.memoizedState!==null;var lt=g!==null&&g.memoizedState!==null,Ut=dr,bn=Fl;if(dr=Ut||R,Fl=bn||lt,$l(u,a),Fl=bn,dr=Ut,xc(a),C&8192)e:for(u=a.stateNode,u._visibility=R?u._visibility&-2:u._visibility|1,R&&(g===null||lt||dr||Fl||Jl(a)),g=null,u=a;;){if(u.tag===5||u.tag===26){if(g===null){lt=g=u;try{if($=lt.stateNode,R)se=$.style,typeof se.setProperty=="function"?se.setProperty("display","none","important"):se.display="none";else{fe=lt.stateNode;var Dn=lt.memoizedProps.style,Qt=Dn!=null&&Dn.hasOwnProperty("display")?Dn.display:null;fe.style.display=Qt==null||typeof Qt=="boolean"?"":(""+Qt).trim()}}catch(es){ca(lt,lt.return,es)}}}else if(u.tag===6){if(g===null){lt=u;try{lt.stateNode.nodeValue=R?"":lt.memoizedProps}catch(es){ca(lt,lt.return,es)}}}else if(u.tag===18){if(g===null){lt=u;try{var cn=lt.stateNode;R?wb(cn,!0):wb(lt.stateNode,!1)}catch(es){ca(lt,lt.return,es)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===a)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;g===u&&(g=null),u=u.return}g===u&&(g=null),u.sibling.return=u.return,u=u.sibling}C&4&&(C=a.updateQueue,C!==null&&(g=C.retryQueue,g!==null&&(C.retryQueue=null,Xa(a,g))));break;case 19:$l(u,a),xc(a),C&4&&(C=a.updateQueue,C!==null&&(a.updateQueue=null,Xa(a,C)));break;case 30:break;case 21:break;default:$l(u,a),xc(a)}}function xc(a){var u=a.flags;if(u&2){try{for(var g,C=a.return;C!==null;){if(Ju(C)){g=C;break}C=C.return}if(g==null)throw Error(x(160));switch(g.tag){case 27:var R=g.stateNode,$=Lp(a);Xl(a,$,R);break;case 5:var se=g.stateNode;g.flags&32&&(uc(se,""),g.flags&=-33);var fe=Lp(a);Xl(a,fe,se);break;case 3:case 4:var lt=g.stateNode.containerInfo,Ut=Lp(a);Oa(a,Ut,lt);break;default:throw Error(x(161))}}catch(bn){ca(a,a.return,bn)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function Ii(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var u=a;Ii(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),a=a.sibling}}function Mf(a,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Cy(a,u.alternate,u),u=u.sibling}function Jl(a){for(a=a.child;a!==null;){var u=a;switch(u.tag){case 0:case 11:case 14:case 15:jm(4,u,u.return),Jl(u);break;case 1:$i(u,u.return);var g=u.stateNode;typeof g.componentWillUnmount=="function"&&uf(u,u.return,g),Jl(u);break;case 27:Km(u.stateNode);case 26:case 5:$i(u,u.return),Jl(u);break;case 22:u.memoizedState===null&&Jl(u);break;case 30:Jl(u);break;default:Jl(u)}a=a.sibling}}function ec(a,u,g){for(g=g&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var C=u.alternate,R=a,$=u,se=$.flags;switch($.tag){case 0:case 11:case 15:ec(R,$,g),pa(4,$);break;case 1:if(ec(R,$,g),C=$,R=C.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(Ut){ca(C,C.return,Ut)}if(C=$,R=C.updateQueue,R!==null){var fe=C.stateNode;try{var lt=R.shared.hiddenCallbacks;if(lt!==null)for(R.shared.hiddenCallbacks=null,R=0;R<lt.length;R++)ha(lt[R],fe)}catch(Ut){ca(C,C.return,Ut)}}g&&se&64&&wy($),Bg($,$.return);break;case 27:Gi($);case 26:case 5:ec(R,$,g),g&&C===null&&se&4&&_2($),Bg($,$.return);break;case 12:ec(R,$,g);break;case 31:ec(R,$,g),g&&se&4&&O2(R,$);break;case 13:ec(R,$,g),g&&se&4&&Ql(R,$);break;case 22:$.memoizedState===null&&ec(R,$,g),Bg($,$.return);break;case 30:break;default:ec(R,$,g)}u=u.sibling}}function lb(a,u){var g=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),a=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(a=u.memoizedState.cachePool.pool),a!==g&&(a!=null&&a.refCount++,g!=null&&Cd(g))}function Ki(a,u){a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&Cd(a))}function Lu(a,u,g,C){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Bf(a,u,g,C),u=u.sibling}function Bf(a,u,g,C){var R=u.flags;switch(u.tag){case 0:case 11:case 15:Lu(a,u,g,C),R&2048&&pa(9,u);break;case 1:Lu(a,u,g,C);break;case 3:Lu(a,u,g,C),R&2048&&(a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&Cd(a)));break;case 12:if(R&2048){Lu(a,u,g,C),a=u.stateNode;try{var $=u.memoizedProps,se=$.id,fe=$.onPostCommit;typeof fe=="function"&&fe(se,u.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(lt){ca(u,u.return,lt)}}else Lu(a,u,g,C);break;case 31:Lu(a,u,g,C);break;case 13:Lu(a,u,g,C);break;case 23:break;case 22:$=u.stateNode,se=u.alternate,u.memoizedState!==null?$._visibility&2?Lu(a,u,g,C):dm(a,u):$._visibility&2?Lu(a,u,g,C):($._visibility|=2,Lf(a,u,g,C,(u.subtreeFlags&10256)!==0||!1)),R&2048&&lb(se,u);break;case 24:Lu(a,u,g,C),R&2048&&Ki(u.alternate,u);break;default:Lu(a,u,g,C)}}function Lf(a,u,g,C,R){for(R=R&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var $=a,se=u,fe=g,lt=C,Ut=se.flags;switch(se.tag){case 0:case 11:case 15:Lf($,se,fe,lt,R),pa(8,se);break;case 23:break;case 22:var bn=se.stateNode;se.memoizedState!==null?bn._visibility&2?Lf($,se,fe,lt,R):dm($,se):(bn._visibility|=2,Lf($,se,fe,lt,R)),R&&Ut&2048&&lb(se.alternate,se);break;case 24:Lf($,se,fe,lt,R),R&&Ut&2048&&Ki(se.alternate,se);break;default:Lf($,se,fe,lt,R)}u=u.sibling}}function dm(a,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var g=a,C=u,R=C.flags;switch(C.tag){case 22:dm(g,C),R&2048&&lb(C.alternate,C);break;case 24:dm(g,C),R&2048&&Ki(C.alternate,C);break;default:dm(g,C)}u=u.sibling}}var cb=8192;function Ph(a,u,g){if(a.subtreeFlags&cb)for(a=a.child;a!==null;)Zm(a,u,g),a=a.sibling}function Zm(a,u,g){switch(a.tag){case 26:Ph(a,u,g),a.flags&cb&&a.memoizedState!==null&&tx(g,td,a.memoizedState,a.memoizedProps);break;case 5:Ph(a,u,g);break;case 3:case 4:var C=td;td=Eb(a.stateNode.containerInfo),Ph(a,u,g),td=C;break;case 22:a.memoizedState===null&&(C=a.alternate,C!==null&&C.memoizedState!==null?(C=cb,cb=16777216,Ph(a,u,g),cb=C):Ph(a,u,g));break;default:Ph(a,u,g)}}function G0(a){var u=a.alternate;if(u!==null&&(a=u.child,a!==null)){u.child=null;do u=a.sibling,a.sibling=null,a=u;while(a!==null)}}function kr(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var g=0;g<u.length;g++){var C=u[g];hl=C,Pp(C,a)}G0(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Iv(a),a=a.sibling}function Iv(a){switch(a.tag){case 0:case 11:case 15:kr(a),a.flags&2048&&jm(9,a,a.return);break;case 3:kr(a);break;case 12:kr(a);break;case 22:var u=a.stateNode;a.memoizedState!==null&&u._visibility&2&&(a.return===null||a.return.tag!==13)?(u._visibility&=-3,Pf(a)):kr(a);break;default:kr(a)}}function Pf(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var g=0;g<u.length;g++){var C=u[g];hl=C,Pp(C,a)}G0(a)}for(a=a.child;a!==null;){switch(u=a,u.tag){case 0:case 11:case 15:jm(8,u,u.return),Pf(u);break;case 22:g=u.stateNode,g._visibility&2&&(g._visibility&=-3,Pf(u));break;default:Pf(u)}a=a.sibling}}function Pp(a,u){for(;hl!==null;){var g=hl;switch(g.tag){case 0:case 11:case 15:jm(8,g,u);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var C=g.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:Cd(g.memoizedState.cache)}if(C=g.child,C!==null)C.return=g,hl=C;else e:for(g=a;hl!==null;){C=hl;var R=C.sibling,$=C.return;if(Sy(C),C===g){hl=null;break e}if(R!==null){R.return=$,hl=R;break e}hl=$}}}var Ty={getCacheForType:function(a){var u=ws(qa),g=u.data.get(a);return g===void 0&&(g=a(),u.data.set(a,g)),g},cacheSignal:function(){return ws(qa).controller.signal}},Fh=typeof WeakMap=="function"?WeakMap:Map,Ls=0,ba=null,xr=null,Nr=0,Na=0,Pu=null,Ff=!1,Fp=!1,ub=!1,fm=0,xi=0,Lc=0,wc=0,mm=0,Rd=0,$h=0,$p=null,nd=null,db=!1,Ip=0,fb=0,Hp=1/0,Md=null,$f=null,Yi=0,Bd=null,zp=null,Ld=0,Cc=0,Hv=null,Ay=null,jp=0,K0=null;function Pd(){return(Ls&2)!==0&&Nr!==0?Nr&-Nr:F.T!==null?Fd():sl()}function Lg(){if(Rd===0)if((Nr&536870912)===0||Js){var a=Hn;Hn<<=1,(Hn&3932160)===0&&(Hn=262144),Rd=a}else Rd=536870912;return a=ou.current,a!==null&&(a.flags|=32),Rd}function od(a,u,g){(a===ba&&(Na===2||Na===9)||a.cancelPendingCommit!==null)&&(tc(a,0),hs(a,Nr,Rd,!1)),Yn(a,g),((Ls&2)===0||a!==ba)&&(a===ba&&((Ls&2)===0&&(wc|=g),xi===4&&hs(a,Nr,Rd,!1)),df(a))}function Y0(a,u,g){if((Ls&6)!==0)throw Error(x(327));var C=!g&&(u&127)===0&&(u&a.expiredLanes)===0||Ba(a,u),R=C?hb(a,u):jv(a,u,!0),$=C;do{if(R===0){Fp&&!C&&hs(a,u,0,!1);break}else{if(g=a.current.alternate,$&&!N2(g)){R=jv(a,u,!1),$=!1;continue}if(R===2){if($=u,a.errorRecoveryDisabledLanes&$)var se=0;else se=a.pendingLanes&-536870913,se=se!==0?se:se&536870912?536870912:0;if(se!==0){u=se;e:{var fe=a;R=$p;var lt=fe.current.memoizedState.isDehydrated;if(lt&&(tc(fe,se).flags|=256),se=jv(fe,se,!1),se!==2){if(ub&&!lt){fe.errorRecoveryDisabledLanes|=$,wc|=$,R=4;break e}$=nd,nd=R,$!==null&&(nd===null?nd=$:nd.push.apply(nd,$))}R=se}if($=!1,R!==2)continue}}if(R===1){tc(a,0),hs(a,u,0,!0);break}e:{switch(C=a,$=R,$){case 0:case 1:throw Error(x(345));case 4:if((u&4194048)!==u)break;case 6:hs(C,u,Rd,!Ff);break e;case 2:nd=null;break;case 3:case 5:break;default:throw Error(x(329))}if((u&62914560)===u&&(R=Ip+300-Tt(),10<R)){if(hs(C,u,Rd,!Ff),ci(C,0,!0)!==0)break e;Ld=u,C.timeoutHandle=t1(ky.bind(null,C,g,nd,Md,db,u,Rd,wc,$h,Ff,$,"Throttled",-0,0),R);break e}ky(C,g,nd,Md,db,u,Rd,wc,$h,Ff,$,null,-0,0)}}break}while(!0);df(a)}function ky(a,u,g,C,R,$,se,fe,lt,Ut,bn,Dn,Qt,cn){if(a.timeoutHandle=-1,Dn=u.subtreeFlags,Dn&8192||(Dn&16785408)===16785408){Dn={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pi},Zm(u,$,Dn);var es=($&62914560)===$?Ip-Tt():($&4194048)===$?fb-Tt():0;if(es=kb(Dn,es),es!==null){Ld=$,a.cancelPendingCommit=es(P2.bind(null,a,u,$,g,C,R,se,fe,lt,bn,Dn,null,Qt,cn)),hs(a,$,se,!Ut);return}}P2(a,u,$,g,C,R,se,fe,lt)}function N2(a){for(var u=a;;){var g=u.tag;if((g===0||g===11||g===15)&&u.flags&16384&&(g=u.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var C=0;C<g.length;C++){var R=g[C],$=R.getSnapshot;R=R.value;try{if(!vl($(),R))return!1}catch{return!1}}if(g=u.child,u.subtreeFlags&16384&&g!==null)g.return=u,u=g;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function hs(a,u,g,C){u&=~mm,u&=~wc,a.suspendedLanes|=u,a.pingedLanes&=~u,C&&(a.warmLanes|=u),C=a.expirationTimes;for(var R=u;0<R;){var $=31-gs(R),se=1<<$;C[$]=-1,R&=~se}g!==0&&vo(a,g,u)}function Vp(){return(Ls&6)===0?(J0(0),!1):!0}function Ps(){if(xr!==null){if(Na===0)var a=xr.return;else a=xr,Wa=Or=null,rf(a),Nf=null,rm=0,a=xr;for(;a!==null;)Bp(a.alternate,a),a=a.return;xr=null}}function tc(a,u){var g=a.timeoutHandle;g!==-1&&(a.timeoutHandle=-1,Gv(g)),g=a.cancelPendingCommit,g!==null&&(a.cancelPendingCommit=null,g()),Ld=0,Ps(),ba=a,xr=g=Fa(a.current,null),Nr=u,Na=0,Pu=null,Ff=!1,Fp=Ba(a,u),ub=!1,$h=Rd=mm=wc=Lc=xi=0,nd=$p=null,db=!1,(u&8)!==0&&(u|=u&32);var C=a.entangledLanes;if(C!==0)for(a=a.entanglements,C&=u;0<C;){var R=31-gs(C),$=1<<R;u|=a[R],C&=~$}return fm=u,Xc(),g}function Ih(a,u){or=null,F.H=la,u===of||u===Eg?(u=Y1(),Na=3):u===Sg?(u=Y1(),Na=4):Na=u===Pv?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Pu=u,xr===null&&(xi=1,yy(a,ra(u,a.current)))}function X0(){var a=ou.current;return a===null?!0:(Nr&4194048)===Nr?Ou===null:(Nr&62914560)===Nr||(Nr&536870912)!==0?a===Ou:!1}function sr(){var a=F.H;return F.H=la,a===null?la:a}function zv(){var a=F.A;return F.A=Ty,a}function mb(){xi=4,Ff||(Nr&4194048)!==Nr&&ou.current!==null||(Fp=!0),(Lc&134217727)===0&&(wc&134217727)===0||ba===null||hs(ba,Nr,Rd,!1)}function jv(a,u,g){var C=Ls;Ls|=2;var R=sr(),$=zv();(ba!==a||Nr!==u)&&(Md=null,tc(a,u)),u=!1;var se=xi;e:do try{if(Na!==0&&xr!==null){var fe=xr,lt=Pu;switch(Na){case 8:Ps(),se=6;break e;case 3:case 2:case 9:case 6:ou.current===null&&(u=!0);var Ut=Na;if(Na=0,Pu=null,Zp(a,fe,lt,Ut),g&&Fp){se=0;break e}break;default:Ut=Na,Na=0,Pu=null,Zp(a,fe,lt,Ut)}}Up(),se=xi;break}catch(bn){Ih(a,bn)}while(!0);return u&&a.shellSuspendCounter++,Wa=Or=null,Ls=C,F.H=R,F.A=$,xr===null&&(ba=null,Nr=0,Xc()),se}function Up(){for(;xr!==null;)M2(xr)}function hb(a,u){var g=Ls;Ls|=2;var C=sr(),R=zv();ba!==a||Nr!==u?(Md=null,Hp=Tt()+500,tc(a,u)):Fp=Ba(a,u);e:do try{if(Na!==0&&xr!==null){u=xr;var $=Pu;t:switch(Na){case 1:Na=0,Pu=null,Zp(a,u,$,1);break;case 2:case 9:if(Ed($)){Na=0,Pu=null,B2(u);break}u=function(){Na!==2&&Na!==9||ba!==a||(Na=7),df(a)},$.then(u,u);break e;case 3:Na=7;break e;case 4:Na=5;break e;case 7:Ed($)?(Na=0,Pu=null,B2(u)):(Na=0,Pu=null,Zp(a,u,$,7));break;case 5:var se=null;switch(xr.tag){case 26:se=xr.memoizedState;case 5:case 27:var fe=xr;if(se?Hy(se):fe.stateNode.complete){Na=0,Pu=null;var lt=fe.sibling;if(lt!==null)xr=lt;else{var Ut=fe.return;Ut!==null?(xr=Ut,gb(Ut)):xr=null}break t}}Na=0,Pu=null,Zp(a,u,$,5);break;case 6:Na=0,Pu=null,Zp(a,u,$,6);break;case 8:Ps(),xi=6;break e;default:throw Error(x(462))}}R2();break}catch(bn){Ih(a,bn)}while(!0);return Wa=Or=null,F.H=C,F.A=R,Ls=g,xr!==null?0:(ba=null,Nr=0,Xc(),xi)}function R2(){for(;xr!==null&&!Dt();)M2(xr)}function M2(a){var u=Ya(a.alternate,a,fm);a.memoizedProps=a.pendingProps,u===null?gb(a):xr=u}function B2(a){var u=a,g=u.alternate;switch(u.tag){case 15:case 0:u=Fv(g,u,u.pendingProps,u.type,void 0,Nr);break;case 11:u=Fv(g,u,u.pendingProps,u.type.render,u.ref,Nr);break;case 5:rf(u);default:Bp(g,u),u=xr=ma(u,fm),u=Ya(g,u,fm)}a.memoizedProps=a.pendingProps,u===null?gb(a):xr=u}function Zp(a,u,g,C){Wa=Or=null,rf(u),Nf=null,rm=0;var R=u.return;try{if(zC(a,R,u,g,Nr)){xi=1,yy(a,ra(g,a.current)),xr=null;return}}catch($){if(R!==null)throw xr=R,$;xi=1,yy(a,ra(g,a.current)),xr=null;return}u.flags&32768?(Js||C===1?a=!0:Fp||(Nr&536870912)!==0?a=!1:(Ff=a=!0,(C===2||C===9||C===3||C===6)&&(C=ou.current,C!==null&&C.tag===13&&(C.flags|=16384))),L2(u,a)):gb(u)}function gb(a){var u=a;do{if((u.flags&32768)!==0){L2(u,Ff);return}a=u.return;var g=vr(u.alternate,u,fm);if(g!==null){xr=g;return}if(u=u.sibling,u!==null){xr=u;return}xr=u=a}while(u!==null);xi===0&&(xi=5)}function L2(a,u){do{var g=um(a.alternate,a);if(g!==null){g.flags&=32767,xr=g;return}if(g=a.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!u&&(a=a.sibling,a!==null)){xr=a;return}xr=a=g}while(a!==null);xi=6,xr=null}function P2(a,u,g,C,R,$,se,fe,lt){a.cancelPendingCommit=null;do sd();while(Yi!==0);if((Ls&6)!==0)throw Error(x(327));if(u!==null){if(u===a.current)throw Error(x(177));if($=u.lanes|u.childLanes,$|=Au,Gn(a,g,$,se,fe,lt),a===ba&&(xr=ba=null,Nr=0),zp=u,Bd=a,Ld=g,Cc=$,Hv=R,Ay=C,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,bb(Jo,function(){return hm(),null})):(a.callbackNode=null,a.callbackPriority=0),C=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||C){C=F.T,F.T=null,R=jt.p,jt.p=2,se=Ls,Ls|=4;try{ib(a,u,g)}finally{Ls=se,jt.p=R,F.T=C}}Yi=1,Pg(),Fu(),Xi()}}function Pg(){if(Yi===1){Yi=0;var a=Bd,u=zp,g=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||g){g=F.T,F.T=null;var C=jt.p;jt.p=2;var R=Ls;Ls|=4;try{uu(u,a);var $=qm,se=L0(a.containerInfo),fe=$.focusedElem,lt=$.selectionRange;if(se!==fe&&fe&&fe.ownerDocument&&Oc(fe.ownerDocument.documentElement,fe)){if(lt!==null&&bp(fe)){var Ut=lt.start,bn=lt.end;if(bn===void 0&&(bn=Ut),"selectionStart"in fe)fe.selectionStart=Ut,fe.selectionEnd=Math.min(bn,fe.value.length);else{var Dn=fe.ownerDocument||document,Qt=Dn&&Dn.defaultView||window;if(Qt.getSelection){var cn=Qt.getSelection(),es=fe.textContent.length,Ns=Math.min(lt.start,es),fi=lt.end===void 0?Ns:Math.min(lt.end,es);!cn.extend&&Ns>fi&&(se=fi,fi=Ns,Ns=se);var et=Nl(fe,Ns),ht=Nl(fe,fi);if(et&&ht&&(cn.rangeCount!==1||cn.anchorNode!==et.node||cn.anchorOffset!==et.offset||cn.focusNode!==ht.node||cn.focusOffset!==ht.offset)){var zt=Dn.createRange();zt.setStart(et.node,et.offset),cn.removeAllRanges(),Ns>fi?(cn.addRange(zt),cn.extend(ht.node,ht.offset)):(zt.setEnd(ht.node,ht.offset),cn.addRange(zt))}}}}for(Dn=[],cn=fe;cn=cn.parentNode;)cn.nodeType===1&&Dn.push({element:cn,left:cn.scrollLeft,top:cn.scrollTop});for(typeof fe.focus=="function"&&fe.focus(),fe=0;fe<Dn.length;fe++){var hn=Dn[fe];hn.element.scrollLeft=hn.left,hn.element.scrollTop=hn.top}}so=!!Uh,qm=Uh=null}finally{Ls=R,jt.p=C,F.T=g}}a.current=u,Yi=2}}function Fu(){if(Yi===2){Yi=0;var a=Bd,u=zp,g=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||g){g=F.T,F.T=null;var C=jt.p;jt.p=2;var R=Ls;Ls|=4;try{Cy(a,u.alternate,u)}finally{Ls=R,jt.p=C,F.T=g}}Yi=3}}function Xi(){if(Yi===4||Yi===3){Yi=0,Pe();var a=Bd,u=zp,g=Ld,C=Ay;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Yi=5:(Yi=0,zp=Bd=null,Hh(a,a.pendingLanes));var R=a.pendingLanes;if(R===0&&($f=null),La(g),u=u.stateNode,Ss&&typeof Ss.onCommitFiberRoot=="function")try{Ss.onCommitFiberRoot(Vs,u,void 0,(u.current.flags&128)===128)}catch{}if(C!==null){u=F.T,R=jt.p,jt.p=2,F.T=null;try{for(var $=a.onRecoverableError,se=0;se<C.length;se++){var fe=C[se];$(fe.value,{componentStack:fe.stack})}}finally{F.T=u,jt.p=R}}(Ld&3)!==0&&sd(),df(a),R=a.pendingLanes,(g&261930)!==0&&(R&42)!==0?a===K0?jp++:(jp=0,K0=a):jp=0,J0(0)}}function Hh(a,u){(a.pooledCacheLanes&=u)===0&&(u=a.pooledCache,u!=null&&(a.pooledCache=null,Cd(u)))}function sd(){return Pg(),Fu(),Xi(),hm()}function hm(){if(Yi!==5)return!1;var a=Bd,u=Cc;Cc=0;var g=La(Ld),C=F.T,R=jt.p;try{jt.p=32>g?32:g,F.T=null,g=Hv,Hv=null;var $=Bd,se=Ld;if(Yi=0,zp=Bd=null,Ld=0,(Ls&6)!==0)throw Error(x(331));var fe=Ls;if(Ls|=4,Iv($.current),Bf($,$.current,se,g),Ls=fe,J0(0,!1),Ss&&typeof Ss.onPostCommitFiberRoot=="function")try{Ss.onPostCommitFiberRoot(Vs,$)}catch{}return!0}finally{jt.p=R,F.T=C,Hh(a,u)}}function Wp(a,u,g){u=ra(g,u),u=Rp(a.stateNode,u,2),a=Rf(a,u,2),a!==null&&(Yn(a,2),df(a))}function ca(a,u,g){if(a.tag===3)Wp(a,a,g);else for(;u!==null;){if(u.tag===3){Wp(u,a,g);break}else if(u.tag===1){var C=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&($f===null||!$f.has(C))){a=ra(g,a),g=xy(2),C=Rf(u,g,2),C!==null&&(nb(g,C,u,a),Yn(C,2),df(C));break}}u=u.return}}function Q0(a,u,g){var C=a.pingCache;if(C===null){C=a.pingCache=new Fh;var R=new Set;C.set(u,R)}else R=C.get(u),R===void 0&&(R=new Set,C.set(u,R));R.has(g)||(ub=!0,R.add(g),a=VC.bind(null,a,u,g),u.then(a,a))}function VC(a,u,g){var C=a.pingCache;C!==null&&C.delete(u),a.pingedLanes|=a.suspendedLanes&g,a.warmLanes&=~g,ba===a&&(Nr&g)===g&&(xi===4||xi===3&&(Nr&62914560)===Nr&&300>Tt()-Ip?(Ls&2)===0&&tc(a,0):mm|=g,$h===Nr&&($h=0)),df(a)}function pb(a,u){u===0&&(u=Zt()),a=Wi(a,u),a!==null&&(Yn(a,u),df(a))}function Vv(a){var u=a.memoizedState,g=0;u!==null&&(g=u.retryLane),pb(a,g)}function Uv(a,u){var g=0;switch(a.tag){case 31:case 13:var C=a.stateNode,R=a.memoizedState;R!==null&&(g=R.retryLane);break;case 19:C=a.stateNode;break;case 22:C=a.stateNode._retryCache;break;default:throw Error(x(314))}C!==null&&C.delete(u),pb(a,g)}function bb(a,u){return xt(a,u)}var If=null,zh=null,qp=!1,Gp=!1,Dy=!1,du=0;function df(a){a!==zh&&a.next===null&&(zh===null?If=zh=a:zh=zh.next=a),Gp=!0,qp||(qp=!0,$2())}function J0(a,u){if(!Dy&&Gp){Dy=!0;do for(var g=!1,C=If;C!==null;){if(a!==0){var R=C.pendingLanes;if(R===0)var $=0;else{var se=C.suspendedLanes,fe=C.pingedLanes;$=(1<<31-gs(42|a)+1)-1,$&=R&~(se&~fe),$=$&201326741?$&201326741|1:$?$|2:0}$!==0&&(g=!0,gm(C,$))}else $=Nr,$=ci(C,C===ba?$:0,C.cancelPendingCommit!==null||C.timeoutHandle!==-1),($&3)===0||Ba(C,$)||(g=!0,gm(C,$));C=C.next}while(g);Dy=!1}}function UC(){F2()}function F2(){Gp=qp=!1;var a=0;du!==0&&qv()&&(a=du);for(var u=Tt(),g=null,C=If;C!==null;){var R=C.next,$=Zv(C,u);$===0?(C.next=null,g===null?If=R:g.next=R,R===null&&(zh=g)):(g=C,(a!==0||($&3)!==0)&&(Gp=!0)),C=R}Yi!==0&&Yi!==5||J0(a),du!==0&&(du=0)}function Zv(a,u){for(var g=a.suspendedLanes,C=a.pingedLanes,R=a.expirationTimes,$=a.pendingLanes&-62914561;0<$;){var se=31-gs($),fe=1<<se,lt=R[se];lt===-1?((fe&g)===0||(fe&C)!==0)&&(R[se]=Mn(fe,u)):lt<=u&&(a.expiredLanes|=fe),$&=~fe}if(u=ba,g=Nr,g=ci(a,a===u?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),C=a.callbackNode,g===0||a===u&&(Na===2||Na===9)||a.cancelPendingCommit!==null)return C!==null&&C!==null&&Un(C),a.callbackNode=null,a.callbackPriority=0;if((g&3)===0||Ba(a,g)){if(u=g&-g,u===a.callbackPriority)return u;switch(C!==null&&Un(C),La(g)){case 2:case 8:g=Yo;break;case 32:g=Jo;break;case 268435456:g=mr;break;default:g=Jo}return C=_y.bind(null,a),g=xt(g,C),a.callbackPriority=u,a.callbackNode=g,u}return C!==null&&C!==null&&Un(C),a.callbackPriority=2,a.callbackNode=null,2}function _y(a,u){if(Yi!==0&&Yi!==5)return a.callbackNode=null,a.callbackPriority=0,null;var g=a.callbackNode;if(sd()&&a.callbackNode!==g)return null;var C=Nr;return C=ci(a,a===ba?C:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),C===0?null:(Y0(a,C,u),Zv(a,Tt()),a.callbackNode!=null&&a.callbackNode===g?_y.bind(null,a):null)}function gm(a,u){if(sd())return null;Y0(a,u,!0)}function $2(){gl(function(){(Ls&6)!==0?xt(Zn,UC):F2()})}function Fd(){if(du===0){var a=wg;a===0&&(a=Ma,Ma<<=1,(Ma&261888)===0&&(Ma=256)),du=a}return du}function Sc(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ri(""+a)}function $d(a,u){var g=u.ownerDocument.createElement("input");return g.name=u.name,g.value=u.value,a.id&&g.setAttribute("form",a.id),u.parentNode.insertBefore(g,u),a=new FormData(a),g.parentNode.removeChild(g),a}function fu(a,u,g,C,R){if(u==="submit"&&g&&g.stateNode===R){var $=Sc((R[tr]||null).action),se=C.submitter;se&&(u=(u=se[tr]||null)?Sc(u.formAction):se.getAttribute("formAction"),u!==null&&($=u,se=null));var fe=new fc("action","action",null,C,R);a.push({event:fe,listeners:[{instance:null,listener:function(){if(C.defaultPrevented){if(du!==0){var lt=se?$d(R,se):new FormData(R);Xu(g,{pending:!0,data:lt,method:R.method,action:$},null,lt)}}else typeof $=="function"&&(fe.preventDefault(),lt=se?$d(R,se):new FormData(R),Xu(g,{pending:!0,data:lt,method:R.method,action:$},$,lt))},currentTarget:R}]})}}for(var e1=0;e1<fa.length;e1++){var jh=fa[e1],Oy=jh.toLowerCase(),Wv=jh[0].toUpperCase()+jh.slice(1);xs(Oy,"on"+Wv)}xs(mc,"onAnimationEnd"),xs(Sh,"onAnimationIteration"),xs(G1,"onAnimationStart"),xs("dblclick","onDoubleClick"),xs("focusin","onFocus"),xs("focusout","onBlur"),xs(rs,"onTransitionRun"),xs(nm,"onTransitionStart"),xs(Ai,"onTransitionCancel"),xs(vd,"onTransitionEnd"),qt("onMouseEnter",["mouseout","mouseover"]),qt("onMouseLeave",["mouseout","mouseover"]),qt("onPointerEnter",["pointerout","pointerover"]),qt("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yb));function Vh(a,u){u=(u&4)!==0;for(var g=0;g<a.length;g++){var C=a[g],R=C.event;C=C.listeners;e:{var $=void 0;if(u)for(var se=C.length-1;0<=se;se--){var fe=C[se],lt=fe.instance,Ut=fe.currentTarget;if(fe=fe.listener,lt!==$&&R.isPropagationStopped())break e;$=fe,R.currentTarget=Ut;try{$(R)}catch(bn){F0(bn)}R.currentTarget=null,$=lt}else for(se=0;se<C.length;se++){if(fe=C[se],lt=fe.instance,Ut=fe.currentTarget,fe=fe.listener,lt!==$&&R.isPropagationStopped())break e;$=fe,R.currentTarget=Ut;try{$(R)}catch(bn){F0(bn)}R.currentTarget=null,$=lt}}}}function Rr(a,u){var g=u[Ie];g===void 0&&(g=u[Ie]=new Set);var C=a+"__bubble";g.has(C)||(vb(u,a,2,!1),g.add(C))}function Hi(a,u,g){var C=0;u&&(C|=4),vb(g,a,C,u)}var $g="_reactListening"+Math.random().toString(36).slice(2);function Pc(a){if(!a[$g]){a[$g]=!0,je.forEach(function(g){g!=="selectionchange"&&(Fg.has(g)||Hi(g,!1,a),Hi(g,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[$g]||(u[$g]=!0,Hi("selectionchange",!1,u))}}function vb(a,u,g,C){switch(_b(u)){case 2:var R=r1;break;case 8:R=jy;break;default:R=a1}g=R.bind(null,u,g,a),R=void 0,!Wc||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(R=!0),C?R!==void 0?a.addEventListener(u,g,{capture:!0,passive:R}):a.addEventListener(u,g,!0):R!==void 0?a.addEventListener(u,g,{passive:R}):a.addEventListener(u,g,!1)}function Dr(a,u,g,C,R){var $=C;if((u&1)===0&&(u&2)===0&&C!==null)e:for(;;){if(C===null)return;var se=C.tag;if(se===3||se===4){var fe=C.stateNode.containerInfo;if(fe===R)break;if(se===4)for(se=C.return;se!==null;){var lt=se.tag;if((lt===3||lt===4)&&se.stateNode.containerInfo===R)return;se=se.return}for(;fe!==null;){if(se=Zo(fe),se===null)return;if(lt=se.tag,lt===5||lt===6||lt===26||lt===27){C=$=se;continue e}fe=fe.parentNode}}C=C.return}Su(function(){var Ut=$,bn=Kd(g),Dn=[];e:{var Qt=xd.get(a);if(Qt!==void 0){var cn=fc,es=a;switch(a){case"keypress":if(al(g)===0)break e;case"keydown":case"keyup":cn=Xd;break;case"focusin":es="focus",cn=Ti;break;case"focusout":es="blur",cn=Ti;break;case"beforeblur":case"afterblur":cn=Ti;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":cn=qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":cn=lr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":cn=R0;break;case mc:case Sh:case G1:cn=oe;break;case vd:cn=ye;break;case"scroll":case"scrollend":cn=Af;break;case"wheel":cn=mt;break;case"copy":case"cut":case"paste":cn=Qe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":cn=kf;break;case"toggle":case"beforetoggle":cn=po}var Ns=(u&4)!==0,fi=!Ns&&(a==="scroll"||a==="scrollend"),et=Ns?Qt!==null?Qt+"Capture":null:Qt;Ns=[];for(var ht=Ut,zt;ht!==null;){var hn=ht;if(zt=hn.stateNode,hn=hn.tag,hn!==5&&hn!==26&&hn!==27||zt===null||et===null||(hn=Yd(ht,et),hn!=null&&Ns.push(rd(ht,hn,zt))),fi)break;ht=ht.return}0<Ns.length&&(Qt=new cn(Qt,es,null,g,bn),Dn.push({event:Qt,listeners:Ns}))}}if((u&7)===0){e:{if(Qt=a==="mouseover"||a==="pointerover",cn=a==="mouseout"||a==="pointerout",Qt&&g!==qr&&(es=g.relatedTarget||g.fromElement)&&(Zo(es)||es[jl]))break e;if((cn||Qt)&&(Qt=bn.window===bn?bn:(Qt=bn.ownerDocument)?Qt.defaultView||Qt.parentWindow:window,cn?(es=g.relatedTarget||g.toElement,cn=Ut,es=es?Zo(es):null,es!==null&&(fi=N(es),Ns=es.tag,es!==fi||Ns!==5&&Ns!==27&&Ns!==6)&&(es=null)):(cn=null,es=Ut),cn!==es)){if(Ns=qn,hn="onMouseLeave",et="onMouseEnter",ht="mouse",(a==="pointerout"||a==="pointerover")&&(Ns=kf,hn="onPointerLeave",et="onPointerEnter",ht="pointer"),fi=cn==null?Qt:ko(cn),zt=es==null?Qt:ko(es),Qt=new Ns(hn,ht+"leave",cn,g,bn),Qt.target=fi,Qt.relatedTarget=zt,hn=null,Zo(bn)===Ut&&(Ns=new Ns(et,ht+"enter",es,g,bn),Ns.target=zt,Ns.relatedTarget=fi,hn=Ns),fi=hn,cn&&es)t:{for(Ns=pm,et=cn,ht=es,zt=0,hn=et;hn;hn=Ns(hn))zt++;hn=0;for(var ms=ht;ms;ms=Ns(ms))hn++;for(;0<zt-hn;)et=Ns(et),zt--;for(;0<hn-zt;)ht=Ns(ht),hn--;for(;zt--;){if(et===ht||ht!==null&&et===ht.alternate){Ns=et;break t}et=Ns(et),ht=Ns(ht)}Ns=null}else Ns=null;cn!==null&&ad(Dn,Qt,cn,Ns,!1),es!==null&&fi!==null&&ad(Dn,fi,es,Ns,!0)}}e:{if(Qt=Ut?ko(Ut):window,cn=Qt.nodeName&&Qt.nodeName.toLowerCase(),cn==="select"||cn==="input"&&Qt.type==="file")var Us=Z1;else if(vh(Qt))if(Ua)Us=_e;else{Us=yg;var Go=yd}else cn=Qt.nodeName,!cn||cn.toLowerCase()!=="input"||Qt.type!=="checkbox"&&Qt.type!=="radio"?Ut&&Ef(Ut.elementType)&&(Us=Z1):Us=q1;if(Us&&(Us=Us(a,Ut))){pp(Dn,Us,g,bn);break e}Go&&Go(a,Qt,Ut),a==="focusout"&&Ut&&Qt.type==="number"&&Ut.memoizedProps.value!=null&&Si(Qt,"number",Qt.value)}switch(Go=Ut?ko(Ut):window,a){case"focusin":(vh(Go)||Go.contentEditable==="true")&&(xl=Go,vp=Ut,Tu=null);break;case"focusout":Tu=vp=xl=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,P0(Dn,g,bn);break;case"selectionchange":if(yp)break;case"keydown":case"keyup":P0(Dn,g,bn)}var rr;if(Ta)e:{switch(a){case"compositionstart":var Mr="onCompositionStart";break e;case"compositionend":Mr="onCompositionEnd";break e;case"compositionupdate":Mr="onCompositionUpdate";break e}Mr=void 0}else ll?Nm(a,g)&&(Mr="onCompositionEnd"):a==="keydown"&&g.keyCode===229&&(Mr="onCompositionStart");Mr&&(Ul&&g.locale!=="ko"&&(ll||Mr!=="onCompositionStart"?Mr==="onCompositionEnd"&&ll&&(rr=Vl()):(mn=bn,Eu="value"in mn?mn.value:mn.textContent,ll=!0)),Go=Hf(Ut,Mr),0<Go.length&&(Mr=new pn(Mr,a,null,g,bn),Dn.push({event:Mr,listeners:Go}),rr?Mr.data=rr:(rr=Wl(g),rr!==null&&(Mr.data=rr)))),(rr=Zi?Jd(a,g):_c(a,g))&&(Mr=Hf(Ut,"onBeforeInput"),0<Mr.length&&(Go=new pn("onBeforeInput","beforeinput",null,g,bn),Dn.push({event:Go,listeners:Mr}),Go.data=rr)),fu(Dn,a,Ut,g,bn)}Vh(Dn,u)})}function rd(a,u,g){return{instance:a,listener:u,currentTarget:g}}function Hf(a,u){for(var g=u+"Capture",C=[];a!==null;){var R=a,$=R.stateNode;if(R=R.tag,R!==5&&R!==26&&R!==27||$===null||(R=Yd(a,g),R!=null&&C.unshift(rd(a,R,$)),R=Yd(a,u),R!=null&&C.push(rd(a,R,$))),a.tag===3)return C;a=a.return}return[]}function pm(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function ad(a,u,g,C,R){for(var $=u._reactName,se=[];g!==null&&g!==C;){var fe=g,lt=fe.alternate,Ut=fe.stateNode;if(fe=fe.tag,lt!==null&&lt===C)break;fe!==5&&fe!==26&&fe!==27||Ut===null||(lt=Ut,R?(Ut=Yd(g,$),Ut!=null&&se.unshift(rd(g,Ut,lt))):R||(Ut=Yd(g,$),Ut!=null&&se.push(rd(g,Ut,lt)))),g=g.return}se.length!==0&&a.push({event:u,listeners:se})}var Ny=/\r\n?/g,I2=/\u0000|\uFFFD/g;function Wm(a){return(typeof a=="string"?a:""+a).replace(Ny,`
`).replace(I2,"")}function Ig(a,u){return u=Wm(u),Wm(a)===u}function Qa(a,u,g,C,R,$){switch(g){case"children":typeof C=="string"?u==="body"||u==="textarea"&&C===""||uc(a,C):(typeof C=="number"||typeof C=="bigint")&&u!=="body"&&uc(a,""+C);break;case"className":Ts(a,"class",C);break;case"tabIndex":Ts(a,"tabindex",C);break;case"dir":case"role":case"viewBox":case"width":case"height":Ts(a,g,C);break;case"style":dc(a,C,$);break;case"data":if(u!=="object"){Ts(a,"data",C);break}case"src":case"href":if(C===""&&(u!=="a"||g!=="href")){a.removeAttribute(g);break}if(C==null||typeof C=="function"||typeof C=="symbol"||typeof C=="boolean"){a.removeAttribute(g);break}C=Ri(""+C),a.setAttribute(g,C);break;case"action":case"formAction":if(typeof C=="function"){a.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof $=="function"&&(g==="formAction"?(u!=="input"&&Qa(a,u,"name",R.name,R,null),Qa(a,u,"formEncType",R.formEncType,R,null),Qa(a,u,"formMethod",R.formMethod,R,null),Qa(a,u,"formTarget",R.formTarget,R,null)):(Qa(a,u,"encType",R.encType,R,null),Qa(a,u,"method",R.method,R,null),Qa(a,u,"target",R.target,R,null)));if(C==null||typeof C=="symbol"||typeof C=="boolean"){a.removeAttribute(g);break}C=Ri(""+C),a.setAttribute(g,C);break;case"onClick":C!=null&&(a.onclick=pi);break;case"onScroll":C!=null&&Rr("scroll",a);break;case"onScrollEnd":C!=null&&Rr("scrollend",a);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(x(61));if(g=C.__html,g!=null){if(R.children!=null)throw Error(x(60));a.innerHTML=g}}break;case"multiple":a.multiple=C&&typeof C!="function"&&typeof C!="symbol";break;case"muted":a.muted=C&&typeof C!="function"&&typeof C!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(C==null||typeof C=="function"||typeof C=="boolean"||typeof C=="symbol"){a.removeAttribute("xlink:href");break}g=Ri(""+C),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":C!=null&&typeof C!="function"&&typeof C!="symbol"?a.setAttribute(g,""+C):a.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":C&&typeof C!="function"&&typeof C!="symbol"?a.setAttribute(g,""):a.removeAttribute(g);break;case"capture":case"download":C===!0?a.setAttribute(g,""):C!==!1&&C!=null&&typeof C!="function"&&typeof C!="symbol"?a.setAttribute(g,C):a.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":C!=null&&typeof C!="function"&&typeof C!="symbol"&&!isNaN(C)&&1<=C?a.setAttribute(g,C):a.removeAttribute(g);break;case"rowSpan":case"start":C==null||typeof C=="function"||typeof C=="symbol"||isNaN(C)?a.removeAttribute(g):a.setAttribute(g,C);break;case"popover":Rr("beforetoggle",a),Rr("toggle",a),vs(a,"popover",C);break;case"xlinkActuate":As(a,"http://www.w3.org/1999/xlink","xlink:actuate",C);break;case"xlinkArcrole":As(a,"http://www.w3.org/1999/xlink","xlink:arcrole",C);break;case"xlinkRole":As(a,"http://www.w3.org/1999/xlink","xlink:role",C);break;case"xlinkShow":As(a,"http://www.w3.org/1999/xlink","xlink:show",C);break;case"xlinkTitle":As(a,"http://www.w3.org/1999/xlink","xlink:title",C);break;case"xlinkType":As(a,"http://www.w3.org/1999/xlink","xlink:type",C);break;case"xmlBase":As(a,"http://www.w3.org/XML/1998/namespace","xml:base",C);break;case"xmlLang":As(a,"http://www.w3.org/XML/1998/namespace","xml:lang",C);break;case"xmlSpace":As(a,"http://www.w3.org/XML/1998/namespace","xml:space",C);break;case"is":vs(a,"is",C);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=An.get(g)||g,vs(a,g,C))}}function mu(a,u,g,C,R,$){switch(g){case"style":dc(a,C,$);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(x(61));if(g=C.__html,g!=null){if(R.children!=null)throw Error(x(60));a.innerHTML=g}}break;case"children":typeof C=="string"?uc(a,C):(typeof C=="number"||typeof C=="bigint")&&uc(a,""+C);break;case"onScroll":C!=null&&Rr("scroll",a);break;case"onScrollEnd":C!=null&&Rr("scrollend",a);break;case"onClick":C!=null&&(a.onclick=pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vt.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(R=g.endsWith("Capture"),u=g.slice(2,R?g.length-7:void 0),$=a[tr]||null,$=$!=null?$[g]:null,typeof $=="function"&&a.removeEventListener(u,$,R),typeof C=="function")){typeof $!="function"&&$!==null&&(g in a?a[g]=null:a.hasAttribute(g)&&a.removeAttribute(g)),a.addEventListener(u,C,R);break e}g in a?a[g]=C:C===!0?a.setAttribute(g,""):vs(a,g,C)}}}function Qi(a,u,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rr("error",a),Rr("load",a);var C=!1,R=!1,$;for($ in g)if(g.hasOwnProperty($)){var se=g[$];if(se!=null)switch($){case"src":C=!0;break;case"srcSet":R=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(x(137,u));default:Qa(a,u,$,se,g,null)}}R&&Qa(a,u,"srcSet",g.srcSet,g,null),C&&Qa(a,u,"src",g.src,g,null);return;case"input":Rr("invalid",a);var fe=$=se=R=null,lt=null,Ut=null;for(C in g)if(g.hasOwnProperty(C)){var bn=g[C];if(bn!=null)switch(C){case"name":R=bn;break;case"type":se=bn;break;case"checked":lt=bn;break;case"defaultChecked":Ut=bn;break;case"value":$=bn;break;case"defaultValue":fe=bn;break;case"children":case"dangerouslySetInnerHTML":if(bn!=null)throw Error(x(137,u));break;default:Qa(a,u,C,bn,g,null)}}Co(a,$,fe,lt,Ut,se,R,!1);return;case"select":Rr("invalid",a),C=se=$=null;for(R in g)if(g.hasOwnProperty(R)&&(fe=g[R],fe!=null))switch(R){case"value":$=fe;break;case"defaultValue":se=fe;break;case"multiple":C=fe;default:Qa(a,u,R,fe,g,null)}u=$,g=se,a.multiple=!!C,u!=null?ni(a,!!C,u,!1):g!=null&&ni(a,!!C,g,!0);return;case"textarea":Rr("invalid",a),$=R=C=null;for(se in g)if(g.hasOwnProperty(se)&&(fe=g[se],fe!=null))switch(se){case"value":C=fe;break;case"defaultValue":R=fe;break;case"children":$=fe;break;case"dangerouslySetInnerHTML":if(fe!=null)throw Error(x(91));break;default:Qa(a,u,se,fe,g,null)}Sf(a,C,R,$);return;case"option":for(lt in g)g.hasOwnProperty(lt)&&(C=g[lt],C!=null)&&(lt==="selected"?a.selected=C&&typeof C!="function"&&typeof C!="symbol":Qa(a,u,lt,C,g,null));return;case"dialog":Rr("beforetoggle",a),Rr("toggle",a),Rr("cancel",a),Rr("close",a);break;case"iframe":case"object":Rr("load",a);break;case"video":case"audio":for(C=0;C<yb.length;C++)Rr(yb[C],a);break;case"image":Rr("error",a),Rr("load",a);break;case"details":Rr("toggle",a);break;case"embed":case"source":case"link":Rr("error",a),Rr("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ut in g)if(g.hasOwnProperty(Ut)&&(C=g[Ut],C!=null))switch(Ut){case"children":case"dangerouslySetInnerHTML":throw Error(x(137,u));default:Qa(a,u,Ut,C,g,null)}return;default:if(Ef(u)){for(bn in g)g.hasOwnProperty(bn)&&(C=g[bn],C!==void 0&&mu(a,u,bn,C,g,void 0));return}}for(fe in g)g.hasOwnProperty(fe)&&(C=g[fe],C!=null&&Qa(a,u,fe,C,g,null))}function nc(a,u,g,C){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var R=null,$=null,se=null,fe=null,lt=null,Ut=null,bn=null;for(cn in g){var Dn=g[cn];if(g.hasOwnProperty(cn)&&Dn!=null)switch(cn){case"checked":break;case"value":break;case"defaultValue":lt=Dn;default:C.hasOwnProperty(cn)||Qa(a,u,cn,null,C,Dn)}}for(var Qt in C){var cn=C[Qt];if(Dn=g[Qt],C.hasOwnProperty(Qt)&&(cn!=null||Dn!=null))switch(Qt){case"type":$=cn;break;case"name":R=cn;break;case"checked":Ut=cn;break;case"defaultChecked":bn=cn;break;case"value":se=cn;break;case"defaultValue":fe=cn;break;case"children":case"dangerouslySetInnerHTML":if(cn!=null)throw Error(x(137,u));break;default:cn!==Dn&&Qa(a,u,Qt,cn,C,Dn)}}Ir(a,se,fe,lt,Ut,bn,$,R);return;case"select":cn=se=fe=Qt=null;for($ in g)if(lt=g[$],g.hasOwnProperty($)&&lt!=null)switch($){case"value":break;case"multiple":cn=lt;default:C.hasOwnProperty($)||Qa(a,u,$,null,C,lt)}for(R in C)if($=C[R],lt=g[R],C.hasOwnProperty(R)&&($!=null||lt!=null))switch(R){case"value":Qt=$;break;case"defaultValue":fe=$;break;case"multiple":se=$;default:$!==lt&&Qa(a,u,R,$,C,lt)}u=fe,g=se,C=cn,Qt!=null?ni(a,!!g,Qt,!1):!!C!=!!g&&(u!=null?ni(a,!!g,u,!0):ni(a,!!g,g?[]:"",!1));return;case"textarea":cn=Qt=null;for(fe in g)if(R=g[fe],g.hasOwnProperty(fe)&&R!=null&&!C.hasOwnProperty(fe))switch(fe){case"value":break;case"children":break;default:Qa(a,u,fe,null,C,R)}for(se in C)if(R=C[se],$=g[se],C.hasOwnProperty(se)&&(R!=null||$!=null))switch(se){case"value":Qt=R;break;case"defaultValue":cn=R;break;case"children":break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(x(91));break;default:R!==$&&Qa(a,u,se,R,C,$)}Jr(a,Qt,cn);return;case"option":for(var es in g)Qt=g[es],g.hasOwnProperty(es)&&Qt!=null&&!C.hasOwnProperty(es)&&(es==="selected"?a.selected=!1:Qa(a,u,es,null,C,Qt));for(lt in C)Qt=C[lt],cn=g[lt],C.hasOwnProperty(lt)&&Qt!==cn&&(Qt!=null||cn!=null)&&(lt==="selected"?a.selected=Qt&&typeof Qt!="function"&&typeof Qt!="symbol":Qa(a,u,lt,Qt,C,cn));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ns in g)Qt=g[Ns],g.hasOwnProperty(Ns)&&Qt!=null&&!C.hasOwnProperty(Ns)&&Qa(a,u,Ns,null,C,Qt);for(Ut in C)if(Qt=C[Ut],cn=g[Ut],C.hasOwnProperty(Ut)&&Qt!==cn&&(Qt!=null||cn!=null))switch(Ut){case"children":case"dangerouslySetInnerHTML":if(Qt!=null)throw Error(x(137,u));break;default:Qa(a,u,Ut,Qt,C,cn)}return;default:if(Ef(u)){for(var fi in g)Qt=g[fi],g.hasOwnProperty(fi)&&Qt!==void 0&&!C.hasOwnProperty(fi)&&mu(a,u,fi,void 0,C,Qt);for(bn in C)Qt=C[bn],cn=g[bn],!C.hasOwnProperty(bn)||Qt===cn||Qt===void 0&&cn===void 0||mu(a,u,bn,Qt,C,cn);return}}for(var et in g)Qt=g[et],g.hasOwnProperty(et)&&Qt!=null&&!C.hasOwnProperty(et)&&Qa(a,u,et,null,C,Qt);for(Dn in C)Qt=C[Dn],cn=g[Dn],!C.hasOwnProperty(Dn)||Qt===cn||Qt==null&&cn==null||Qa(a,u,Dn,Qt,C,cn)}function ff(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ry(){if(typeof performance.getEntriesByType=="function"){for(var a=0,u=0,g=performance.getEntriesByType("resource"),C=0;C<g.length;C++){var R=g[C],$=R.transferSize,se=R.initiatorType,fe=R.duration;if($&&fe&&ff(se)){for(se=0,fe=R.responseEnd,C+=1;C<g.length;C++){var lt=g[C],Ut=lt.startTime;if(Ut>fe)break;var bn=lt.transferSize,Dn=lt.initiatorType;bn&&ff(Dn)&&(lt=lt.responseEnd,se+=bn*(lt<fe?1:(fe-Ut)/(lt-Ut)))}if(--C,u+=8*($+se)/(R.duration/1e3),a++,10<a)break}}if(0<a)return u/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Uh=null,qm=null;function Hg(a){return a.nodeType===9?a:a.ownerDocument}function My(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xb(a,u){if(a===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&u==="foreignObject"?0:a}function Zh(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Gm=null;function qv(){var a=window.event;return a&&a.type==="popstate"?a===Gm?!1:(Gm=a,!0):(Gm=null,!1)}var t1=typeof setTimeout=="function"?setTimeout:void 0,Gv=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,gl=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(a){return Kv.resolve(null).then(a).catch(zg)}:t1;function zg(a){setTimeout(function(){throw a})}function id(a){return a==="head"}function Yv(a,u){var g=u,C=0;do{var R=g.nextSibling;if(a.removeChild(g),R&&R.nodeType===8)if(g=R.data,g==="/$"||g==="/&"){if(C===0){a.removeChild(R),n0(u);return}C--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")C++;else if(g==="html")Km(a.ownerDocument.documentElement);else if(g==="head"){g=a.ownerDocument.head,Km(g);for(var $=g.firstChild;$;){var se=$.nextSibling,fe=$.nodeName;$[Ao]||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&$.rel.toLowerCase()==="stylesheet"||g.removeChild($),$=se}}else g==="body"&&Km(a.ownerDocument.body);g=R}while(g);n0(u)}function wb(a,u){var g=a;a=0;do{var C=g.nextSibling;if(g.nodeType===1?u?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(u?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),C&&C.nodeType===8)if(g=C.data,g==="/$"){if(a===0)break;a--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||a++;g=C}while(g)}function Cb(a){var u=a.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var g=u;switch(u=u.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":Cb(g),co(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}a.removeChild(g)}}function Sb(a,u,g,C){for(;a.nodeType===1;){var R=g;if(a.nodeName.toLowerCase()!==u.toLowerCase()){if(!C&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(C){if(!a[Ao])switch(u){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if($=a.getAttribute("rel"),$==="stylesheet"&&a.hasAttribute("data-precedence"))break;if($!==R.rel||a.getAttribute("href")!==(R.href==null||R.href===""?null:R.href)||a.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin)||a.getAttribute("title")!==(R.title==null?null:R.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if($=a.getAttribute("src"),($!==(R.src==null?null:R.src)||a.getAttribute("type")!==(R.type==null?null:R.type)||a.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin))&&$&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(u==="input"&&a.type==="hidden"){var $=R.name==null?null:""+R.name;if(R.type==="hidden"&&a.getAttribute("name")===$)return a}else return a;if(a=Kr(a.nextSibling),a===null)break}return null}function By(a,u,g){if(u==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!g||(a=Kr(a.nextSibling),a===null))return null;return a}function Xv(a,u){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Kr(a.nextSibling),a===null))return null;return a}function Qv(a){return a.data==="$?"||a.data==="$~"}function Kp(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function Ji(a,u){var g=a.ownerDocument;if(a.data==="$~")a._reactRetry=u;else if(a.data!=="$?"||g.readyState!=="loading")u();else{var C=function(){u(),g.removeEventListener("DOMContentLoaded",C)};g.addEventListener("DOMContentLoaded",C),a._reactRetry=C}}function Kr(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return a}var Al=null;function kl(a){a=a.nextSibling;for(var u=0;a;){if(a.nodeType===8){var g=a.data;if(g==="/$"||g==="/&"){if(u===0)return Kr(a.nextSibling);u--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||u++}a=a.nextSibling}return null}function ya(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var g=a.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(u===0)return a;u--}else g!=="/$"&&g!=="/&"||u++}a=a.previousSibling}return null}function Oi(a,u,g){switch(u=Hg(g),a){case"html":if(a=u.documentElement,!a)throw Error(x(452));return a;case"head":if(a=u.head,!a)throw Error(x(453));return a;case"body":if(a=u.body,!a)throw Error(x(454));return a;default:throw Error(x(451))}}function Km(a){for(var u=a.attributes;u.length;)a.removeAttributeNode(u[0]);co(a)}var Id=new Map,Ly=new Set;function Eb(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var zf=jt.d;jt.d={f:Jv,r:ex,D:n1,C:H2,L:Tb,m:bm,X:Ab,S:Fy,M:o1};function Jv(){var a=zf.f(),u=Vp();return a||u}function ex(a){var u=us(a);u!==null&&u.tag===5&&u.type==="form"?T2(u):zf.r(a)}var Wh=typeof document>"u"?null:document;function Py(a,u,g){var C=Wh;if(C&&typeof u=="string"&&u){var R=Ci(u);R='link[rel="'+a+'"][href="'+R+'"]',typeof g=="string"&&(R+='[crossorigin="'+g+'"]'),Ly.has(R)||(Ly.add(R),a={rel:a,crossOrigin:g,href:u},C.querySelector(R)===null&&(u=C.createElement("link"),Qi(u,"link",a),me(u),C.head.appendChild(u)))}}function n1(a){zf.D(a),Py("dns-prefetch",a,null)}function H2(a,u){zf.C(a,u),Py("preconnect",a,u)}function Tb(a,u,g){zf.L(a,u,g);var C=Wh;if(C&&a&&u){var R='link[rel="preload"][as="'+Ci(u)+'"]';u==="image"&&g&&g.imageSrcSet?(R+='[imagesrcset="'+Ci(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(R+='[imagesizes="'+Ci(g.imageSizes)+'"]')):R+='[href="'+Ci(a)+'"]';var $=R;switch(u){case"style":$=Ym(a);break;case"script":$=jf(a)}Id.has($)||(a=ee({rel:"preload",href:u==="image"&&g&&g.imageSrcSet?void 0:a,as:u},g),Id.set($,a),C.querySelector(R)!==null||u==="style"&&C.querySelector(Vg($))||u==="script"&&C.querySelector(Il($))||(u=C.createElement("link"),Qi(u,"link",a),me(u),C.head.appendChild(u)))}}function bm(a,u){zf.m(a,u);var g=Wh;if(g&&a){var C=u&&typeof u.as=="string"?u.as:"script",R='link[rel="modulepreload"][as="'+Ci(C)+'"][href="'+Ci(a)+'"]',$=R;switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":$=jf(a)}if(!Id.has($)&&(a=ee({rel:"modulepreload",href:a},u),Id.set($,a),g.querySelector(R)===null)){switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Il($)))return}C=g.createElement("link"),Qi(C,"link",a),me(C),g.head.appendChild(C)}}}function Fy(a,u,g){zf.S(a,u,g);var C=Wh;if(C&&a){var R=Qs(C).hoistableStyles,$=Ym(a);u=u||"default";var se=R.get($);if(!se){var fe={loading:0,preload:null};if(se=C.querySelector(Vg($)))fe.loading=5;else{a=ee({rel:"stylesheet",href:a,"data-precedence":u},g),(g=Id.get($))&&_t(a,g);var lt=se=C.createElement("link");me(lt),Qi(lt,"link",a),lt._p=new Promise(function(Ut,bn){lt.onload=Ut,lt.onerror=bn}),lt.addEventListener("load",function(){fe.loading|=1}),lt.addEventListener("error",function(){fe.loading|=2}),fe.loading|=4,qh(se,u,C)}se={type:"stylesheet",instance:se,count:1,state:fe},R.set($,se)}}}function Ab(a,u){zf.X(a,u);var g=Wh;if(g&&a){var C=Qs(g).hoistableScripts,R=jf(a),$=C.get(R);$||($=g.querySelector(Il(R)),$||(a=ee({src:a,async:!0},u),(u=Id.get(R))&&Yp(a,u),$=g.createElement("script"),me($),Qi($,"link",a),g.head.appendChild($)),$={type:"script",instance:$,count:1,state:null},C.set(R,$))}}function o1(a,u){zf.M(a,u);var g=Wh;if(g&&a){var C=Qs(g).hoistableScripts,R=jf(a),$=C.get(R);$||($=g.querySelector(Il(R)),$||(a=ee({src:a,async:!0,type:"module"},u),(u=Id.get(R))&&Yp(a,u),$=g.createElement("script"),me($),Qi($,"link",a),g.head.appendChild($)),$={type:"script",instance:$,count:1,state:null},C.set(R,$))}}function jg(a,u,g,C){var R=(R=He.current)?Eb(R):null;if(!R)throw Error(x(446));switch(a){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(u=Ym(g.href),g=Qs(R).hoistableStyles,C=g.get(u),C||(C={type:"style",instance:null,count:0,state:null},g.set(u,C)),C):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){a=Ym(g.href);var $=Qs(R).hoistableStyles,se=$.get(a);if(se||(R=R.ownerDocument||R,se={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},$.set(a,se),($=R.querySelector(Vg(a)))&&!$._p&&(se.instance=$,se.state.loading=5),Id.has(a)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Id.set(a,g),$||$y(R,a,g,se.state))),u&&C===null)throw Error(x(528,""));return se}if(u&&C!==null)throw Error(x(529,""));return null;case"script":return u=g.async,g=g.src,typeof g=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=jf(g),g=Qs(R).hoistableScripts,C=g.get(u),C||(C={type:"script",instance:null,count:0,state:null},g.set(u,C)),C):{type:"void",instance:null,count:0,state:null};default:throw Error(x(444,a))}}function Ym(a){return'href="'+Ci(a)+'"'}function Vg(a){return'link[rel="stylesheet"]['+a+"]"}function s1(a){return ee({},a,{"data-precedence":a.precedence,precedence:null})}function $y(a,u,g,C){a.querySelector('link[rel="preload"][as="style"]['+u+"]")?C.loading=1:(u=a.createElement("link"),C.preload=u,u.addEventListener("load",function(){return C.loading|=1}),u.addEventListener("error",function(){return C.loading|=2}),Qi(u,"link",g),me(u),a.head.appendChild(u))}function jf(a){return'[src="'+Ci(a)+'"]'}function Il(a){return"script[async]"+a}function oc(a,u,g){if(u.count++,u.instance===null)switch(u.type){case"style":var C=a.querySelector('style[data-href~="'+Ci(g.href)+'"]');if(C)return u.instance=C,me(C),C;var R=ee({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return C=(a.ownerDocument||a).createElement("style"),me(C),Qi(C,"style",R),qh(C,g.precedence,a),u.instance=C;case"stylesheet":R=Ym(g.href);var $=a.querySelector(Vg(R));if($)return u.state.loading|=4,u.instance=$,me($),$;C=s1(g),(R=Id.get(R))&&_t(C,R),$=(a.ownerDocument||a).createElement("link"),me($);var se=$;return se._p=new Promise(function(fe,lt){se.onload=fe,se.onerror=lt}),Qi($,"link",C),u.state.loading|=4,qh($,g.precedence,a),u.instance=$;case"script":return $=jf(g.src),(R=a.querySelector(Il($)))?(u.instance=R,me(R),R):(C=g,(R=Id.get($))&&(C=ee({},g),Yp(C,R)),a=a.ownerDocument||a,R=a.createElement("script"),me(R),Qi(R,"link",C),a.head.appendChild(R),u.instance=R);case"void":return null;default:throw Error(x(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(C=u.instance,u.state.loading|=4,qh(C,g.precedence,a));return u.instance}function qh(a,u,g){for(var C=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),R=C.length?C[C.length-1]:null,$=R,se=0;se<C.length;se++){var fe=C[se];if(fe.dataset.precedence===u)$=fe;else if($!==R)break}$?$.parentNode.insertBefore(a,$.nextSibling):(u=g.nodeType===9?g.head:g,u.insertBefore(a,u.firstChild))}function _t(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.title==null&&(a.title=u.title)}function Yp(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.integrity==null&&(a.integrity=u.integrity)}var Iy=null;function Fc(a,u,g){if(Iy===null){var C=new Map,R=Iy=new Map;R.set(g,C)}else R=Iy,C=R.get(g),C||(C=new Map,R.set(g,C));if(C.has(a))return C;for(C.set(a,null),g=g.getElementsByTagName(a),R=0;R<g.length;R++){var $=g[R];if(!($[Ao]||$[er]||a==="link"&&$.getAttribute("rel")==="stylesheet")&&$.namespaceURI!=="http://www.w3.org/2000/svg"){var se=$.getAttribute(u)||"";se=a+se;var fe=C.get(se);fe?fe.push($):C.set(se,[$])}}return C}function Xp(a,u,g){a=a.ownerDocument||a,a.head.insertBefore(g,u==="title"?a.querySelector("head > title"):null)}function ym(a,u,g){if(g===1||u.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;return u.rel==="stylesheet"?(a=u.disabled,typeof u.precedence=="string"&&a==null):!0;case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function Hy(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function tx(a,u,g,C){if(g.type==="stylesheet"&&(typeof C.media!="string"||matchMedia(C.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var R=Ym(C.href),$=u.querySelector(Vg(R));if($){u=$._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(a.count++,a=Vf.bind(a),u.then(a,a)),g.state.loading|=4,g.instance=$,me($);return}$=u.ownerDocument||u,C=s1(C),(R=Id.get(R))&&_t(C,R),$=$.createElement("link"),me($);var se=$;se._p=new Promise(function(fe,lt){se.onload=fe,se.onerror=lt}),Qi($,"link",C),g.instance=$}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(g,u),(u=g.state.preload)&&(g.state.loading&3)===0&&(a.count++,g=Vf.bind(a),u.addEventListener("load",g),u.addEventListener("error",g))}}var Gh=0;function kb(a,u){return a.stylesheets&&a.count===0&&zy(a,a.stylesheets),0<a.count||0<a.imgCount?function(g){var C=setTimeout(function(){if(a.stylesheets&&zy(a,a.stylesheets),a.unsuspend){var $=a.unsuspend;a.unsuspend=null,$()}},6e4+u);0<a.imgBytes&&Gh===0&&(Gh=62500*Ry());var R=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&zy(a,a.stylesheets),a.unsuspend)){var $=a.unsuspend;a.unsuspend=null,$()}},(a.imgBytes>Gh?50:800)+u);return a.unsuspend=g,function(){a.unsuspend=null,clearTimeout(C),clearTimeout(R)}}:null}function Vf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zy(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Qp=null;function zy(a,u){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Qp=new Map,u.forEach(Ec,a),Qp=null,Vf.call(a))}function Ec(a,u){if(!(u.state.loading&4)){var g=Qp.get(a);if(g)var C=g.get(null);else{g=new Map,Qp.set(a,g);for(var R=a.querySelectorAll("link[data-precedence],style[data-precedence]"),$=0;$<R.length;$++){var se=R[$];(se.nodeName==="LINK"||se.getAttribute("media")!=="not all")&&(g.set(se.dataset.precedence,se),C=se)}C&&g.set(null,C)}R=u.instance,se=R.getAttribute("data-precedence"),$=g.get(se)||C,$===C&&g.set(null,R),g.set(se,R),this.count++,C=Vf.bind(this),R.addEventListener("load",C),R.addEventListener("error",C),$?$.parentNode.insertBefore(R,$.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(R,a.firstChild)),u.state.loading|=4}}var ld={$$typeof:J,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function cd(a,u,g,C,R,$,se,fe,lt){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kt(0),this.hiddenUpdates=Kt(null),this.identifierPrefix=C,this.onUncaughtError=R,this.onCaughtError=$,this.onRecoverableError=se,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=lt,this.incompleteTransitions=new Map}function z2(a,u,g,C,R,$,se,fe,lt,Ut,bn,Dn){return a=new cd(a,u,g,se,lt,Ut,bn,Dn,fe),u=1,$===!0&&(u|=24),$=Za(3,null,null,u),a.current=$,$.stateNode=a,u=Of(),u.refCount++,a.pooledCache=u,u.refCount++,$.memoizedState={element:C,isDehydrated:g,cache:u},Td($),a}function Jp(a){return a?(a=$s,a):$s}function nx(a,u,g,C,R,$){R=Jp(R),C.context===null?C.context=R:C.pendingContext=R,C=nu(u),C.payload={element:g},$=$===void 0?null:$,$!==null&&(C.callback=$),g=Rf(a,C,u),g!==null&&(od(g,a,u),kg(g,a,u))}function Db(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var g=a.retryLane;a.retryLane=g!==0&&g<u?g:u}}function ox(a,u){Db(a,u),(a=a.alternate)&&Db(a,u)}function sx(a){if(a.tag===13||a.tag===31){var u=Wi(a,67108864);u!==null&&od(u,a,67108864),ox(a,67108864)}}function fs(a){if(a.tag===13||a.tag===31){var u=Pd();u=ls(u);var g=Wi(a,u);g!==null&&od(g,a,u),ox(a,u)}}var so=!0;function r1(a,u,g,C){var R=F.T;F.T=null;var $=jt.p;try{jt.p=2,a1(a,u,g,C)}finally{jt.p=$,F.T=R}}function jy(a,u,g,C){var R=F.T;F.T=null;var $=jt.p;try{jt.p=8,a1(a,u,g,C)}finally{jt.p=$,F.T=R}}function a1(a,u,g,C){if(so){var R=rx(C);if(R===null)Dr(a,u,C,i1,g),e0(a,C);else if(ZC(R,a,u,g,C))C.stopPropagation();else if(e0(a,C),u&4&&-1<Qm.indexOf(a)){for(;R!==null;){var $=us(R);if($!==null)switch($.tag){case 3:if($=$.stateNode,$.current.memoizedState.isDehydrated){var se=Oo($.pendingLanes);if(se!==0){var fe=$;for(fe.pendingLanes|=2,fe.entangledLanes|=2;se;){var lt=1<<31-gs(se);fe.entanglements[1]|=lt,se&=~lt}df($),(Ls&6)===0&&(Hp=Tt()+500,J0(0))}}break;case 31:case 13:fe=Wi($,2),fe!==null&&od(fe,$,2),Vp(),ox($,2)}if($=rx(C),$===null&&Dr(a,u,C,i1,g),$===R)break;R=$}R!==null&&C.stopPropagation()}else Dr(a,u,C,null,g)}}function rx(a){return a=Kd(a),oa(a)}var i1=null;function oa(a){if(i1=null,a=Zo(a),a!==null){var u=N(a);if(u===null)a=null;else{var g=u.tag;if(g===13){if(a=O(u),a!==null)return a;a=null}else if(g===31){if(a=z(u),a!==null)return a;a=null}else if(g===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null)}}return i1=a,null}function _b(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sn()){case Zn:return 2;case Yo:return 8;case Jo:case Do:return 32;case mr:return 268435456;default:return 32}default:return 32}}var l1=!1,Xm=null,Mt=null,mf=null,vm=new Map,Hd=new Map,Tc=[],Qm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e0(a,u){switch(a){case"focusin":case"focusout":Xm=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":mf=null;break;case"pointerover":case"pointerout":vm.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hd.delete(u.pointerId)}}function xm(a,u,g,C,R,$){return a===null||a.nativeEvent!==$?(a={blockedOn:u,domEventName:g,eventSystemFlags:C,nativeEvent:$,targetContainers:[R]},u!==null&&(u=us(u),u!==null&&sx(u)),a):(a.eventSystemFlags|=C,u=a.targetContainers,R!==null&&u.indexOf(R)===-1&&u.push(R),a)}function ZC(a,u,g,C,R){switch(u){case"focusin":return Xm=xm(Xm,a,u,g,C,R),!0;case"dragenter":return Mt=xm(Mt,a,u,g,C,R),!0;case"mouseover":return mf=xm(mf,a,u,g,C,R),!0;case"pointerover":var $=R.pointerId;return vm.set($,xm(vm.get($)||null,a,u,g,C,R)),!0;case"gotpointercapture":return $=R.pointerId,Hd.set($,xm(Hd.get($)||null,a,u,g,C,R)),!0}return!1}function t0(a){var u=Zo(a.target);if(u!==null){var g=N(u);if(g!==null){if(u=g.tag,u===13){if(u=O(g),u!==null){a.blockedOn=u,gi(a.priority,function(){fs(g)});return}}else if(u===31){if(u=z(g),u!==null){a.blockedOn=u,gi(a.priority,function(){fs(g)});return}}else if(u===3&&g.stateNode.current.memoizedState.isDehydrated){a.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Lr(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var g=rx(a.nativeEvent);if(g===null){g=a.nativeEvent;var C=new g.constructor(g.type,g);qr=C,g.target.dispatchEvent(C),qr=null}else return u=us(g),u!==null&&sx(u),a.blockedOn=g,!1;u.shift()}return!0}function hf(a,u,g){Lr(a)&&g.delete(u)}function ax(){l1=!1,Xm!==null&&Lr(Xm)&&(Xm=null),Mt!==null&&Lr(Mt)&&(Mt=null),mf!==null&&Lr(mf)&&(mf=null),vm.forEach(hf),Hd.forEach(hf)}function wm(a,u){a.blockedOn===u&&(a.blockedOn=null,l1||(l1=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,ax)))}var zd=null;function sc(a){zd!==a&&(zd=a,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){zd===a&&(zd=null);for(var u=0;u<a.length;u+=3){var g=a[u],C=a[u+1],R=a[u+2];if(typeof C!="function"){if(oa(C||g)===null)continue;break}var $=us(g);$!==null&&(a.splice(u,3),u-=3,Xu($,{pending:!0,data:R,method:g.method,action:C},C,R))}}))}function n0(a){function u(lt){return wm(lt,a)}Xm!==null&&wm(Xm,a),Mt!==null&&wm(Mt,a),mf!==null&&wm(mf,a),vm.forEach(u),Hd.forEach(u);for(var g=0;g<Tc.length;g++){var C=Tc[g];C.blockedOn===a&&(C.blockedOn=null)}for(;0<Tc.length&&(g=Tc[0],g.blockedOn===null);)t0(g),g.blockedOn===null&&Tc.shift();if(g=(a.ownerDocument||a).$$reactFormReplay,g!=null)for(C=0;C<g.length;C+=3){var R=g[C],$=g[C+1],se=R[tr]||null;if(typeof $=="function")se||sc(g);else if(se){var fe=null;if($&&$.hasAttribute("formAction")){if(R=$,se=$[tr]||null)fe=se.formAction;else if(oa(R)!==null)continue}else fe=se.action;typeof fe=="function"?g[C+1]=fe:(g.splice(C,3),C-=3),sc(g)}}}function Vy(){function a($){$.canIntercept&&$.info==="react-transition"&&$.intercept({handler:function(){return new Promise(function(se){return R=se})},focusReset:"manual",scroll:"manual"})}function u(){R!==null&&(R(),R=null),C||setTimeout(g,20)}function g(){if(!C&&!navigation.transition){var $=navigation.currentEntry;$&&$.url!=null&&navigation.navigate($.url,{state:$.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var C=!1,R=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(g,100),function(){C=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),R!==null&&(R(),R=null)}}}function Uy(a){this._internalRoot=a}Zy.prototype.render=Uy.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(x(409));var g=u.current,C=Pd();nx(g,C,a,u,null,null)},Zy.prototype.unmount=Uy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;nx(a.current,2,null,a,null,null),Vp(),u[jl]=null}};function Zy(a){this._internalRoot=a}Zy.prototype.unstable_scheduleHydration=function(a){if(a){var u=sl();a={blockedOn:null,target:a,priority:u};for(var g=0;g<Tc.length&&u!==0&&u<Tc[g].priority;g++);Tc.splice(g,0,a),g===0&&t0(a)}};var j2=d.version;if(j2!=="19.2.3")throw Error(x(527,j2,"19.2.3"));jt.findDOMNode=function(a){var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(x(188)):(a=Object.keys(a).join(","),Error(x(268,a)));return a=V(u),a=a!==null?Y(a):null,a=a===null?null:a.stateNode,a};var ix={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ob=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ob.isDisabled&&Ob.supportsFiber)try{Vs=Ob.inject(ix),Ss=Ob}catch{}}return zM.createRoot=function(a,u){if(!A(a))throw Error(x(299));var g=!1,C="",R=Nd,$=j0,se=V0;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(C=u.identifierPrefix),u.onUncaughtError!==void 0&&(R=u.onUncaughtError),u.onCaughtError!==void 0&&($=u.onCaughtError),u.onRecoverableError!==void 0&&(se=u.onRecoverableError)),u=z2(a,1,!1,null,null,g,C,null,R,$,se,Vy),a[jl]=u.current,Pc(a),new Uy(u)},zM.hydrateRoot=function(a,u,g){if(!A(a))throw Error(x(299));var C=!1,R="",$=Nd,se=j0,fe=V0,lt=null;return g!=null&&(g.unstable_strictMode===!0&&(C=!0),g.identifierPrefix!==void 0&&(R=g.identifierPrefix),g.onUncaughtError!==void 0&&($=g.onUncaughtError),g.onCaughtError!==void 0&&(se=g.onCaughtError),g.onRecoverableError!==void 0&&(fe=g.onRecoverableError),g.formState!==void 0&&(lt=g.formState)),u=z2(a,1,!0,u,g??null,C,R,lt,$,se,fe,Vy),u.context=Jp(null),g=u.current,C=Pd(),C=ls(C),R=nu(C),R.callback=null,Rf(g,R,C),g=C,u.current.lanes=g,Yn(u,g),df(u),a[jl]=u.current,Pc(a),new Zy(u)},zM.version="19.2.3",zM}var Eoe;function Iue(){if(Eoe)return VJ.exports;Eoe=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(d){console.error(d)}}return l(),VJ.exports=$ue(),VJ.exports}var Hue=Iue();const zue=sie(Hue);var Toe="popstate";function jue(l={}){function d(x,A){let{pathname:N,search:O,hash:z}=x.location;return Eee("",{pathname:N,search:O,hash:z},A.state&&A.state.usr||null,A.state&&A.state.key||"default")}function p(x,A){return typeof A=="string"?A:JM(A)}return Uue(d,p,null,l)}function Zc(l,d){if(l===!1||l===null||typeof l>"u")throw new Error(d)}function H1(l,d){if(!l){typeof console<"u"&&console.warn(d);try{throw new Error(d)}catch{}}}function Vue(){return Math.random().toString(36).substring(2,10)}function Aoe(l,d){return{usr:l.state,key:l.key,idx:d}}function Eee(l,d,p=null,x){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof d=="string"?K3(d):d,state:p,key:d&&d.key||x||Vue()}}function JM({pathname:l="/",search:d="",hash:p=""}){return d&&d!=="?"&&(l+=d.charAt(0)==="?"?d:"?"+d),p&&p!=="#"&&(l+=p.charAt(0)==="#"?p:"#"+p),l}function K3(l){let d={};if(l){let p=l.indexOf("#");p>=0&&(d.hash=l.substring(p),l=l.substring(0,p));let x=l.indexOf("?");x>=0&&(d.search=l.substring(x),l=l.substring(0,x)),l&&(d.pathname=l)}return d}function Uue(l,d,p,x={}){let{window:A=document.defaultView,v5Compat:N=!1}=x,O=A.history,z="POP",U=null,V=Y();V==null&&(V=0,O.replaceState({...O.state,idx:V},""));function Y(){return(O.state||{idx:null}).idx}function ee(){z="POP";let pe=Y(),it=pe==null?null:pe-V;V=pe,U&&U({action:z,location:$e.location,delta:it})}function ue(pe,it){z="PUSH";let Se=Eee($e.location,pe,it);V=Y()+1;let J=Aoe(Se,V),vt=$e.createHref(Se);try{O.pushState(J,"",vt)}catch(Gt){if(Gt instanceof DOMException&&Gt.name==="DataCloneError")throw Gt;A.location.assign(vt)}N&&U&&U({action:z,location:$e.location,delta:1})}function Ce(pe,it){z="REPLACE";let Se=Eee($e.location,pe,it);V=Y();let J=Aoe(Se,V),vt=$e.createHref(Se);O.replaceState(J,"",vt),N&&U&&U({action:z,location:$e.location,delta:0})}function be(pe){return Zue(pe)}let $e={get action(){return z},get location(){return l(A,O)},listen(pe){if(U)throw new Error("A history only accepts one active listener");return A.addEventListener(Toe,ee),U=pe,()=>{A.removeEventListener(Toe,ee),U=null}},createHref(pe){return d(A,pe)},createURL:be,encodeLocation(pe){let it=be(pe);return{pathname:it.pathname,search:it.search,hash:it.hash}},push:ue,replace:Ce,go(pe){return O.go(pe)}};return $e}function Zue(l,d=!1){let p="http://localhost";typeof window<"u"&&(p=window.location.origin!=="null"?window.location.origin:window.location.href),Zc(p,"No window.location.(origin|href) available to create URL");let x=typeof l=="string"?l:JM(l);return x=x.replace(/ $/,"%20"),!d&&x.startsWith("//")&&(x=p+x),new URL(x,p)}function rie(l,d,p="/"){return Wue(l,d,p,!1)}function Wue(l,d,p,x){let A=typeof d=="string"?K3(d):d,N=x2(A.pathname||"/",p);if(N==null)return null;let O=aie(l);que(O);let z=null;for(let U=0;z==null&&U<O.length;++U){let V=sde(N);z=nde(O[U],V,x)}return z}function aie(l,d=[],p=[],x="",A=!1){let N=(O,z,U=A,V)=>{let Y={relativePath:V===void 0?O.path||"":V,caseSensitive:O.caseSensitive===!0,childrenIndex:z,route:O};if(Y.relativePath.startsWith("/")){if(!Y.relativePath.startsWith(x)&&U)return;Zc(Y.relativePath.startsWith(x),`Absolute route path "${Y.relativePath}" nested under path "${x}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),Y.relativePath=Y.relativePath.slice(x.length)}let ee=b2([x,Y.relativePath]),ue=p.concat(Y);O.children&&O.children.length>0&&(Zc(O.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${ee}".`),aie(O.children,d,ue,ee,U)),!(O.path==null&&!O.index)&&d.push({path:ee,score:ede(ee,O.index),routesMeta:ue})};return l.forEach((O,z)=>{if(O.path===""||!O.path?.includes("?"))N(O,z);else for(let U of iie(O.path))N(O,z,!0,U)}),d}function iie(l){let d=l.split("/");if(d.length===0)return[];let[p,...x]=d,A=p.endsWith("?"),N=p.replace(/\?$/,"");if(x.length===0)return A?[N,""]:[N];let O=iie(x.join("/")),z=[];return z.push(...O.map(U=>U===""?N:[N,U].join("/"))),A&&z.push(...O),z.map(U=>l.startsWith("/")&&U===""?"/":U)}function que(l){l.sort((d,p)=>d.score!==p.score?p.score-d.score:tde(d.routesMeta.map(x=>x.childrenIndex),p.routesMeta.map(x=>x.childrenIndex)))}var Gue=/^:[\w-]+$/,Kue=3,Yue=2,Xue=1,Que=10,Jue=-2,koe=l=>l==="*";function ede(l,d){let p=l.split("/"),x=p.length;return p.some(koe)&&(x+=Jue),d&&(x+=Yue),p.filter(A=>!koe(A)).reduce((A,N)=>A+(Gue.test(N)?Kue:N===""?Xue:Que),x)}function tde(l,d){return l.length===d.length&&l.slice(0,-1).every((x,A)=>x===d[A])?l[l.length-1]-d[d.length-1]:0}function nde(l,d,p=!1){let{routesMeta:x}=l,A={},N="/",O=[];for(let z=0;z<x.length;++z){let U=x[z],V=z===x.length-1,Y=N==="/"?d:d.slice(N.length)||"/",ee=qH({path:U.relativePath,caseSensitive:U.caseSensitive,end:V},Y),ue=U.route;if(!ee&&V&&p&&!x[x.length-1].route.index&&(ee=qH({path:U.relativePath,caseSensitive:U.caseSensitive,end:!1},Y)),!ee)return null;Object.assign(A,ee.params),O.push({params:A,pathname:b2([N,ee.pathname]),pathnameBase:lde(b2([N,ee.pathnameBase])),route:ue}),ee.pathnameBase!=="/"&&(N=b2([N,ee.pathnameBase]))}return O}function qH(l,d){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[p,x]=ode(l.path,l.caseSensitive,l.end),A=d.match(p);if(!A)return null;let N=A[0],O=N.replace(/(.)\/+$/,"$1"),z=A.slice(1);return{params:x.reduce((V,{paramName:Y,isOptional:ee},ue)=>{if(Y==="*"){let be=z[ue]||"";O=N.slice(0,N.length-be.length).replace(/(.)\/+$/,"$1")}const Ce=z[ue];return ee&&!Ce?V[Y]=void 0:V[Y]=(Ce||"").replace(/%2F/g,"/"),V},{}),pathname:N,pathnameBase:O,pattern:l}}function ode(l,d=!1,p=!0){H1(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let x=[],A="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(O,z,U)=>(x.push({paramName:z,isOptional:U!=null}),U?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return l.endsWith("*")?(x.push({paramName:"*"}),A+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):p?A+="\\/*$":l!==""&&l!=="/"&&(A+="(?:(?=\\/|$))"),[new RegExp(A,d?void 0:"i"),x]}function sde(l){try{return l.split("/").map(d=>decodeURIComponent(d).replace(/\//g,"%2F")).join("/")}catch(d){return H1(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${d}).`),l}}function x2(l,d){if(d==="/")return l;if(!l.toLowerCase().startsWith(d.toLowerCase()))return null;let p=d.endsWith("/")?d.length-1:d.length,x=l.charAt(p);return x&&x!=="/"?null:l.slice(p)||"/"}var lie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rde=l=>lie.test(l);function ade(l,d="/"){let{pathname:p,search:x="",hash:A=""}=typeof l=="string"?K3(l):l,N;if(p)if(rde(p))N=p;else{if(p.includes("//")){let O=p;p=p.replace(/\/\/+/g,"/"),H1(!1,`Pathnames cannot have embedded double slashes - normalizing ${O} -> ${p}`)}p.startsWith("/")?N=Doe(p.substring(1),"/"):N=Doe(p,d)}else N=d;return{pathname:N,search:cde(x),hash:ude(A)}}function Doe(l,d){let p=d.replace(/\/+$/,"").split("/");return l.split("/").forEach(A=>{A===".."?p.length>1&&p.pop():A!=="."&&p.push(A)}),p.length>1?p.join("/"):"/"}function qJ(l,d,p,x){return`Cannot include a '${l}' character in a manually specified \`to.${d}\` field [${JSON.stringify(x)}].  Please separate it out to the \`to.${p}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ide(l){return l.filter((d,p)=>p===0||d.route.path&&d.route.path.length>0)}function rte(l){let d=ide(l);return d.map((p,x)=>x===d.length-1?p.pathname:p.pathnameBase)}function ate(l,d,p,x=!1){let A;typeof l=="string"?A=K3(l):(A={...l},Zc(!A.pathname||!A.pathname.includes("?"),qJ("?","pathname","search",A)),Zc(!A.pathname||!A.pathname.includes("#"),qJ("#","pathname","hash",A)),Zc(!A.search||!A.search.includes("#"),qJ("#","search","hash",A)));let N=l===""||A.pathname==="",O=N?"/":A.pathname,z;if(O==null)z=p;else{let ee=d.length-1;if(!x&&O.startsWith("..")){let ue=O.split("/");for(;ue[0]==="..";)ue.shift(),ee-=1;A.pathname=ue.join("/")}z=ee>=0?d[ee]:"/"}let U=ade(A,z),V=O&&O!=="/"&&O.endsWith("/"),Y=(N||O===".")&&p.endsWith("/");return!U.pathname.endsWith("/")&&(V||Y)&&(U.pathname+="/"),U}var b2=l=>l.join("/").replace(/\/\/+/g,"/"),lde=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),cde=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,ude=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l,dde=class{constructor(l,d,p,x=!1){this.status=l,this.statusText=d||"",this.internal=x,p instanceof Error?(this.data=p.toString(),this.error=p):this.data=p}};function fde(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}function mde(l){return l.map(d=>d.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var cie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function uie(l,d){let p=l;if(typeof p!="string"||!lie.test(p))return{absoluteURL:void 0,isExternal:!1,to:p};let x=p,A=!1;if(cie)try{let N=new URL(window.location.href),O=p.startsWith("//")?new URL(N.protocol+p):new URL(p),z=x2(O.pathname,d);O.origin===N.origin&&z!=null?p=z+O.search+O.hash:A=!0}catch{H1(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:x,isExternal:A,to:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var die=["POST","PUT","PATCH","DELETE"];new Set(die);var hde=["GET",...die];new Set(hde);var Y3=Ze.createContext(null);Y3.displayName="DataRouter";var dz=Ze.createContext(null);dz.displayName="DataRouterState";var gde=Ze.createContext(!1),fie=Ze.createContext({isTransitioning:!1});fie.displayName="ViewTransition";var pde=Ze.createContext(new Map);pde.displayName="Fetchers";var bde=Ze.createContext(null);bde.displayName="Await";var _0=Ze.createContext(null);_0.displayName="Navigation";var rB=Ze.createContext(null);rB.displayName="Location";var j1=Ze.createContext({outlet:null,matches:[],isDataRoute:!1});j1.displayName="Route";var ite=Ze.createContext(null);ite.displayName="RouteError";var mie="REACT_ROUTER_ERROR",yde="REDIRECT",vde="ROUTE_ERROR_RESPONSE";function xde(l){if(l.startsWith(`${mie}:${yde}:{`))try{let d=JSON.parse(l.slice(28));if(typeof d=="object"&&d&&typeof d.status=="number"&&typeof d.statusText=="string"&&typeof d.location=="string"&&typeof d.reloadDocument=="boolean"&&typeof d.replace=="boolean")return d}catch{}}function wde(l){if(l.startsWith(`${mie}:${vde}:{`))try{let d=JSON.parse(l.slice(40));if(typeof d=="object"&&d&&typeof d.status=="number"&&typeof d.statusText=="string")return new dde(d.status,d.statusText,d.data)}catch{}}function Cde(l,{relative:d}={}){Zc(X3(),"useHref() may be used only in the context of a <Router> component.");let{basename:p,navigator:x}=Ze.useContext(_0),{hash:A,pathname:N,search:O}=aB(l,{relative:d}),z=N;return p!=="/"&&(z=N==="/"?p:b2([p,N])),x.createHref({pathname:z,search:O,hash:A})}function X3(){return Ze.useContext(rB)!=null}function C2(){return Zc(X3(),"useLocation() may be used only in the context of a <Router> component."),Ze.useContext(rB).location}var hie="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gie(l){Ze.useContext(_0).static||Ze.useLayoutEffect(l)}function Q3(){let{isDataRoute:l}=Ze.useContext(j1);return l?$de():Sde()}function Sde(){Zc(X3(),"useNavigate() may be used only in the context of a <Router> component.");let l=Ze.useContext(Y3),{basename:d,navigator:p}=Ze.useContext(_0),{matches:x}=Ze.useContext(j1),{pathname:A}=C2(),N=JSON.stringify(rte(x)),O=Ze.useRef(!1);return gie(()=>{O.current=!0}),Ze.useCallback((U,V={})=>{if(H1(O.current,hie),!O.current)return;if(typeof U=="number"){p.go(U);return}let Y=ate(U,JSON.parse(N),A,V.relative==="path");l==null&&d!=="/"&&(Y.pathname=Y.pathname==="/"?d:b2([d,Y.pathname])),(V.replace?p.replace:p.push)(Y,V.state,V)},[d,p,N,A,l])}var Ede=Ze.createContext(null);function Tde(l){let d=Ze.useContext(j1).outlet;return Ze.useMemo(()=>d&&Ze.createElement(Ede.Provider,{value:l},d),[d,l])}function Ade(){let{matches:l}=Ze.useContext(j1),d=l[l.length-1];return d?d.params:{}}function aB(l,{relative:d}={}){let{matches:p}=Ze.useContext(j1),{pathname:x}=C2(),A=JSON.stringify(rte(p));return Ze.useMemo(()=>ate(l,JSON.parse(A),x,d==="path"),[l,A,x,d])}function kde(l,d){return pie(l,d)}function pie(l,d,p,x,A){Zc(X3(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:N}=Ze.useContext(_0),{matches:O}=Ze.useContext(j1),z=O[O.length-1],U=z?z.params:{},V=z?z.pathname:"/",Y=z?z.pathnameBase:"/",ee=z&&z.route;{let Se=ee&&ee.path||"";yie(V,!ee||Se.endsWith("*")||Se.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${V}" (under <Route path="${Se}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Se}"> to <Route path="${Se==="/"?"*":`${Se}/*`}">.`)}let ue=C2(),Ce;if(d){let Se=typeof d=="string"?K3(d):d;Zc(Y==="/"||Se.pathname?.startsWith(Y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${Y}" but pathname "${Se.pathname}" was given in the \`location\` prop.`),Ce=Se}else Ce=ue;let be=Ce.pathname||"/",$e=be;if(Y!=="/"){let Se=Y.replace(/^\//,"").split("/");$e="/"+be.replace(/^\//,"").split("/").slice(Se.length).join("/")}let pe=rie(l,{pathname:$e});H1(ee||pe!=null,`No routes matched location "${Ce.pathname}${Ce.search}${Ce.hash}" `),H1(pe==null||pe[pe.length-1].route.element!==void 0||pe[pe.length-1].route.Component!==void 0||pe[pe.length-1].route.lazy!==void 0,`Matched leaf route at location "${Ce.pathname}${Ce.search}${Ce.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let it=Rde(pe&&pe.map(Se=>Object.assign({},Se,{params:Object.assign({},U,Se.params),pathname:b2([Y,N.encodeLocation?N.encodeLocation(Se.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Se.pathname]),pathnameBase:Se.pathnameBase==="/"?Y:b2([Y,N.encodeLocation?N.encodeLocation(Se.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Se.pathnameBase])})),O,p,x,A);return d&&it?Ze.createElement(rB.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...Ce},navigationType:"POP"}},it):it}function Dde(){let l=Fde(),d=fde(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),p=l instanceof Error?l.stack:null,x="rgba(200,200,200, 0.5)",A={padding:"0.5rem",backgroundColor:x},N={padding:"2px 4px",backgroundColor:x},O=null;return console.error("Error handled by React Router default ErrorBoundary:",l),O=Ze.createElement(Ze.Fragment,null,Ze.createElement("p",null," Hey developer "),Ze.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Ze.createElement("code",{style:N},"ErrorBoundary")," or"," ",Ze.createElement("code",{style:N},"errorElement")," prop on your route.")),Ze.createElement(Ze.Fragment,null,Ze.createElement("h2",null,"Unexpected Application Error!"),Ze.createElement("h3",{style:{fontStyle:"italic"}},d),p?Ze.createElement("pre",{style:A},p):null,O)}var _de=Ze.createElement(Dde,null),bie=class extends Ze.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,d){return d.location!==l.location||d.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:d.error,location:d.location,revalidation:l.revalidation||d.revalidation}}componentDidCatch(l,d){this.props.onError?this.props.onError(l,d):console.error("React Router caught the following error during render",l)}render(){let l=this.state.error;if(this.context&&typeof l=="object"&&l&&"digest"in l&&typeof l.digest=="string"){const p=wde(l.digest);p&&(l=p)}let d=l!==void 0?Ze.createElement(j1.Provider,{value:this.props.routeContext},Ze.createElement(ite.Provider,{value:l,children:this.props.component})):this.props.children;return this.context?Ze.createElement(Ode,{error:l},d):d}};bie.contextType=gde;var GJ=new WeakMap;function Ode({children:l,error:d}){let{basename:p}=Ze.useContext(_0);if(typeof d=="object"&&d&&"digest"in d&&typeof d.digest=="string"){let x=xde(d.digest);if(x){let A=GJ.get(d);if(A)throw A;let N=uie(x.location,p);if(cie&&!GJ.get(d))if(N.isExternal||x.reloadDocument)window.location.href=N.absoluteURL||N.to;else{const O=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(N.to,{replace:x.replace}));throw GJ.set(d,O),O}return Ze.createElement("meta",{httpEquiv:"refresh",content:`0;url=${N.absoluteURL||N.to}`})}}return l}function Nde({routeContext:l,match:d,children:p}){let x=Ze.useContext(Y3);return x&&x.static&&x.staticContext&&(d.route.errorElement||d.route.ErrorBoundary)&&(x.staticContext._deepestRenderedBoundaryId=d.route.id),Ze.createElement(j1.Provider,{value:l},p)}function Rde(l,d=[],p=null,x=null,A=null){if(l==null){if(!p)return null;if(p.errors)l=p.matches;else if(d.length===0&&!p.initialized&&p.matches.length>0)l=p.matches;else return null}let N=l,O=p?.errors;if(O!=null){let Y=N.findIndex(ee=>ee.route.id&&O?.[ee.route.id]!==void 0);Zc(Y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(O).join(",")}`),N=N.slice(0,Math.min(N.length,Y+1))}let z=!1,U=-1;if(p)for(let Y=0;Y<N.length;Y++){let ee=N[Y];if((ee.route.HydrateFallback||ee.route.hydrateFallbackElement)&&(U=Y),ee.route.id){let{loaderData:ue,errors:Ce}=p,be=ee.route.loader&&!ue.hasOwnProperty(ee.route.id)&&(!Ce||Ce[ee.route.id]===void 0);if(ee.route.lazy||be){z=!0,U>=0?N=N.slice(0,U+1):N=[N[0]];break}}}let V=p&&x?(Y,ee)=>{x(Y,{location:p.location,params:p.matches?.[0]?.params??{},unstable_pattern:mde(p.matches),errorInfo:ee})}:void 0;return N.reduceRight((Y,ee,ue)=>{let Ce,be=!1,$e=null,pe=null;p&&(Ce=O&&ee.route.id?O[ee.route.id]:void 0,$e=ee.route.errorElement||_de,z&&(U<0&&ue===0?(yie("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),be=!0,pe=null):U===ue&&(be=!0,pe=ee.route.hydrateFallbackElement||null)));let it=d.concat(N.slice(0,ue+1)),Se=()=>{let J;return Ce?J=$e:be?J=pe:ee.route.Component?J=Ze.createElement(ee.route.Component,null):ee.route.element?J=ee.route.element:J=Y,Ze.createElement(Nde,{match:ee,routeContext:{outlet:Y,matches:it,isDataRoute:p!=null},children:J})};return p&&(ee.route.ErrorBoundary||ee.route.errorElement||ue===0)?Ze.createElement(bie,{location:p.location,revalidation:p.revalidation,component:$e,error:Ce,children:Se(),routeContext:{outlet:null,matches:it,isDataRoute:!0},onError:V}):Se()},null)}function lte(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mde(l){let d=Ze.useContext(Y3);return Zc(d,lte(l)),d}function Bde(l){let d=Ze.useContext(dz);return Zc(d,lte(l)),d}function Lde(l){let d=Ze.useContext(j1);return Zc(d,lte(l)),d}function cte(l){let d=Lde(l),p=d.matches[d.matches.length-1];return Zc(p.route.id,`${l} can only be used on routes that contain a unique "id"`),p.route.id}function Pde(){return cte("useRouteId")}function Fde(){let l=Ze.useContext(ite),d=Bde("useRouteError"),p=cte("useRouteError");return l!==void 0?l:d.errors?.[p]}function $de(){let{router:l}=Mde("useNavigate"),d=cte("useNavigate"),p=Ze.useRef(!1);return gie(()=>{p.current=!0}),Ze.useCallback(async(A,N={})=>{H1(p.current,hie),p.current&&(typeof A=="number"?await l.navigate(A):await l.navigate(A,{fromRouteId:d,...N}))},[l,d])}var _oe={};function yie(l,d,p){!d&&!_oe[l]&&(_oe[l]=!0,H1(!1,p))}Ze.memo(Ide);function Ide({routes:l,future:d,state:p,onError:x}){return pie(l,void 0,p,x,d)}function Tee({to:l,replace:d,state:p,relative:x}){Zc(X3(),"<Navigate> may be used only in the context of a <Router> component.");let{static:A}=Ze.useContext(_0);H1(!A,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:N}=Ze.useContext(j1),{pathname:O}=C2(),z=Q3(),U=ate(l,rte(N),O,x==="path"),V=JSON.stringify(U);return Ze.useEffect(()=>{z(JSON.parse(V),{replace:d,state:p,relative:x})},[z,V,x,d,p]),null}function vie(l){return Tde(l.context)}function qd(l){Zc(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Hde({basename:l="/",children:d=null,location:p,navigationType:x="POP",navigator:A,static:N=!1,unstable_useTransitions:O}){Zc(!X3(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let z=l.replace(/^\/*/,"/"),U=Ze.useMemo(()=>({basename:z,navigator:A,static:N,unstable_useTransitions:O,future:{}}),[z,A,N,O]);typeof p=="string"&&(p=K3(p));let{pathname:V="/",search:Y="",hash:ee="",state:ue=null,key:Ce="default"}=p,be=Ze.useMemo(()=>{let $e=x2(V,z);return $e==null?null:{location:{pathname:$e,search:Y,hash:ee,state:ue,key:Ce},navigationType:x}},[z,V,Y,ee,ue,Ce,x]);return H1(be!=null,`<Router basename="${z}"> is not able to match the URL "${V}${Y}${ee}" because it does not start with the basename, so the <Router> won't render anything.`),be==null?null:Ze.createElement(_0.Provider,{value:U},Ze.createElement(rB.Provider,{children:d,value:be}))}function zde({children:l,location:d}){return kde(Aee(l),d)}function Aee(l,d=[]){let p=[];return Ze.Children.forEach(l,(x,A)=>{if(!Ze.isValidElement(x))return;let N=[...d,A];if(x.type===Ze.Fragment){p.push.apply(p,Aee(x.props.children,N));return}Zc(x.type===qd,`[${typeof x.type=="string"?x.type:x.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zc(!x.props.index||!x.props.children,"An index route cannot have child routes.");let O={id:x.props.id||N.join("-"),caseSensitive:x.props.caseSensitive,element:x.props.element,Component:x.props.Component,index:x.props.index,path:x.props.path,middleware:x.props.middleware,loader:x.props.loader,action:x.props.action,hydrateFallbackElement:x.props.hydrateFallbackElement,HydrateFallback:x.props.HydrateFallback,errorElement:x.props.errorElement,ErrorBoundary:x.props.ErrorBoundary,hasErrorBoundary:x.props.hasErrorBoundary===!0||x.props.ErrorBoundary!=null||x.props.errorElement!=null,shouldRevalidate:x.props.shouldRevalidate,handle:x.props.handle,lazy:x.props.lazy};x.props.children&&(O.children=Aee(x.props.children,N)),p.push(O)}),p}var $H="get",IH="application/x-www-form-urlencoded";function fz(l){return typeof HTMLElement<"u"&&l instanceof HTMLElement}function jde(l){return fz(l)&&l.tagName.toLowerCase()==="button"}function Vde(l){return fz(l)&&l.tagName.toLowerCase()==="form"}function Ude(l){return fz(l)&&l.tagName.toLowerCase()==="input"}function Zde(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function Wde(l,d){return l.button===0&&(!d||d==="_self")&&!Zde(l)}var OH=null;function qde(){if(OH===null)try{new FormData(document.createElement("form"),0),OH=!1}catch{OH=!0}return OH}var Gde=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function KJ(l){return l!=null&&!Gde.has(l)?(H1(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${IH}"`),null):l}function Kde(l,d){let p,x,A,N,O;if(Vde(l)){let z=l.getAttribute("action");x=z?x2(z,d):null,p=l.getAttribute("method")||$H,A=KJ(l.getAttribute("enctype"))||IH,N=new FormData(l)}else if(jde(l)||Ude(l)&&(l.type==="submit"||l.type==="image")){let z=l.form;if(z==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let U=l.getAttribute("formaction")||z.getAttribute("action");if(x=U?x2(U,d):null,p=l.getAttribute("formmethod")||z.getAttribute("method")||$H,A=KJ(l.getAttribute("formenctype"))||KJ(z.getAttribute("enctype"))||IH,N=new FormData(z,l),!qde()){let{name:V,type:Y,value:ee}=l;if(Y==="image"){let ue=V?`${V}.`:"";N.append(`${ue}x`,"0"),N.append(`${ue}y`,"0")}else V&&N.append(V,ee)}}else{if(fz(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');p=$H,x=null,A=IH,O=l}return N&&A==="text/plain"&&(O=N,N=void 0),{action:x,method:p.toLowerCase(),encType:A,formData:N,body:O}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ute(l,d){if(l===!1||l===null||typeof l>"u")throw new Error(d)}function Yde(l,d,p,x){let A=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return p?A.pathname.endsWith("/")?A.pathname=`${A.pathname}_.${x}`:A.pathname=`${A.pathname}.${x}`:A.pathname==="/"?A.pathname=`_root.${x}`:d&&x2(A.pathname,d)==="/"?A.pathname=`${d.replace(/\/$/,"")}/_root.${x}`:A.pathname=`${A.pathname.replace(/\/$/,"")}.${x}`,A}async function Xde(l,d){if(l.id in d)return d[l.id];try{let p=await import(l.module);return d[l.id]=p,p}catch(p){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(p),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qde(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function Jde(l,d,p){let x=await Promise.all(l.map(async A=>{let N=d.routes[A.route.id];if(N){let O=await Xde(N,p);return O.links?O.links():[]}return[]}));return ofe(x.flat(1).filter(Qde).filter(A=>A.rel==="stylesheet"||A.rel==="preload").map(A=>A.rel==="stylesheet"?{...A,rel:"prefetch",as:"style"}:{...A,rel:"prefetch"}))}function Ooe(l,d,p,x,A,N){let O=(U,V)=>p[V]?U.route.id!==p[V].route.id:!0,z=(U,V)=>p[V].pathname!==U.pathname||p[V].route.path?.endsWith("*")&&p[V].params["*"]!==U.params["*"];return N==="assets"?d.filter((U,V)=>O(U,V)||z(U,V)):N==="data"?d.filter((U,V)=>{let Y=x.routes[U.route.id];if(!Y||!Y.hasLoader)return!1;if(O(U,V)||z(U,V))return!0;if(U.route.shouldRevalidate){let ee=U.route.shouldRevalidate({currentUrl:new URL(A.pathname+A.search+A.hash,window.origin),currentParams:p[0]?.params||{},nextUrl:new URL(l,window.origin),nextParams:U.params,defaultShouldRevalidate:!0});if(typeof ee=="boolean")return ee}return!0}):[]}function efe(l,d,{includeHydrateFallback:p}={}){return tfe(l.map(x=>{let A=d.routes[x.route.id];if(!A)return[];let N=[A.module];return A.clientActionModule&&(N=N.concat(A.clientActionModule)),A.clientLoaderModule&&(N=N.concat(A.clientLoaderModule)),p&&A.hydrateFallbackModule&&(N=N.concat(A.hydrateFallbackModule)),A.imports&&(N=N.concat(A.imports)),N}).flat(1))}function tfe(l){return[...new Set(l)]}function nfe(l){let d={},p=Object.keys(l).sort();for(let x of p)d[x]=l[x];return d}function ofe(l,d){let p=new Set;return new Set(d),l.reduce((x,A)=>{let N=JSON.stringify(nfe(A));return p.has(N)||(p.add(N),x.push({key:N,link:A})),x},[])}function xie(){let l=Ze.useContext(Y3);return ute(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function sfe(){let l=Ze.useContext(dz);return ute(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var dte=Ze.createContext(void 0);dte.displayName="FrameworkContext";function wie(){let l=Ze.useContext(dte);return ute(l,"You must render this element inside a <HydratedRouter> element"),l}function rfe(l,d){let p=Ze.useContext(dte),[x,A]=Ze.useState(!1),[N,O]=Ze.useState(!1),{onFocus:z,onBlur:U,onMouseEnter:V,onMouseLeave:Y,onTouchStart:ee}=d,ue=Ze.useRef(null);Ze.useEffect(()=>{if(l==="render"&&O(!0),l==="viewport"){let $e=it=>{it.forEach(Se=>{O(Se.isIntersecting)})},pe=new IntersectionObserver($e,{threshold:.5});return ue.current&&pe.observe(ue.current),()=>{pe.disconnect()}}},[l]),Ze.useEffect(()=>{if(x){let $e=setTimeout(()=>{O(!0)},100);return()=>{clearTimeout($e)}}},[x]);let Ce=()=>{A(!0)},be=()=>{A(!1),O(!1)};return p?l!=="intent"?[N,ue,{}]:[N,ue,{onFocus:jM(z,Ce),onBlur:jM(U,be),onMouseEnter:jM(V,Ce),onMouseLeave:jM(Y,be),onTouchStart:jM(ee,Ce)}]:[!1,ue,{}]}function jM(l,d){return p=>{l&&l(p),p.defaultPrevented||d(p)}}function afe({page:l,...d}){let{router:p}=xie(),x=Ze.useMemo(()=>rie(p.routes,l,p.basename),[p.routes,l,p.basename]);return x?Ze.createElement(lfe,{page:l,matches:x,...d}):null}function ife(l){let{manifest:d,routeModules:p}=wie(),[x,A]=Ze.useState([]);return Ze.useEffect(()=>{let N=!1;return Jde(l,d,p).then(O=>{N||A(O)}),()=>{N=!0}},[l,d,p]),x}function lfe({page:l,matches:d,...p}){let x=C2(),{future:A,manifest:N,routeModules:O}=wie(),{basename:z}=xie(),{loaderData:U,matches:V}=sfe(),Y=Ze.useMemo(()=>Ooe(l,d,V,N,x,"data"),[l,d,V,N,x]),ee=Ze.useMemo(()=>Ooe(l,d,V,N,x,"assets"),[l,d,V,N,x]),ue=Ze.useMemo(()=>{if(l===x.pathname+x.search+x.hash)return[];let $e=new Set,pe=!1;if(d.forEach(Se=>{let J=N.routes[Se.route.id];!J||!J.hasLoader||(!Y.some(vt=>vt.route.id===Se.route.id)&&Se.route.id in U&&O[Se.route.id]?.shouldRevalidate||J.hasClientLoader?pe=!0:$e.add(Se.route.id))}),$e.size===0)return[];let it=Yde(l,z,A.unstable_trailingSlashAwareDataRequests,"data");return pe&&$e.size>0&&it.searchParams.set("_routes",d.filter(Se=>$e.has(Se.route.id)).map(Se=>Se.route.id).join(",")),[it.pathname+it.search]},[z,A.unstable_trailingSlashAwareDataRequests,U,x,N,Y,d,l,O]),Ce=Ze.useMemo(()=>efe(ee,N),[ee,N]),be=ife(ee);return Ze.createElement(Ze.Fragment,null,ue.map($e=>Ze.createElement("link",{key:$e,rel:"prefetch",as:"fetch",href:$e,...p})),Ce.map($e=>Ze.createElement("link",{key:$e,rel:"modulepreload",href:$e,...p})),be.map(({key:$e,link:pe})=>Ze.createElement("link",{key:$e,nonce:p.nonce,...pe})))}function cfe(...l){return d=>{l.forEach(p=>{typeof p=="function"?p(d):p!=null&&(p.current=d)})}}var ufe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ufe&&(window.__reactRouterVersion="7.12.0")}catch{}function dfe({basename:l,children:d,unstable_useTransitions:p,window:x}){let A=Ze.useRef();A.current==null&&(A.current=jue({window:x,v5Compat:!0}));let N=A.current,[O,z]=Ze.useState({action:N.action,location:N.location}),U=Ze.useCallback(V=>{p===!1?z(V):Ze.startTransition(()=>z(V))},[p]);return Ze.useLayoutEffect(()=>N.listen(U),[N,U]),Ze.createElement(Hde,{basename:l,children:d,location:O.location,navigationType:O.action,navigator:N,unstable_useTransitions:p})}var Cie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kv=Ze.forwardRef(function({onClick:d,discover:p="render",prefetch:x="none",relative:A,reloadDocument:N,replace:O,state:z,target:U,to:V,preventScrollReset:Y,viewTransition:ee,unstable_defaultShouldRevalidate:ue,...Ce},be){let{basename:$e,unstable_useTransitions:pe}=Ze.useContext(_0),it=typeof V=="string"&&Cie.test(V),Se=uie(V,$e);V=Se.to;let J=Cde(V,{relative:A}),[vt,Gt,Xe]=rfe(x,Ce),ie=gfe(V,{replace:O,state:z,target:U,preventScrollReset:Y,relative:A,viewTransition:ee,unstable_defaultShouldRevalidate:ue,unstable_useTransitions:pe});function ct(fn){d&&d(fn),fn.defaultPrevented||ie(fn)}let xn=Ze.createElement("a",{...Ce,...Xe,href:Se.absoluteURL||J,onClick:Se.isExternal||N?d:ct,ref:cfe(be,Gt),target:U,"data-discover":!it&&p==="render"?"true":void 0});return vt&&!it?Ze.createElement(Ze.Fragment,null,xn,Ze.createElement(afe,{page:J})):xn});kv.displayName="Link";var ffe=Ze.forwardRef(function({"aria-current":d="page",caseSensitive:p=!1,className:x="",end:A=!1,style:N,to:O,viewTransition:z,children:U,...V},Y){let ee=aB(O,{relative:V.relative}),ue=C2(),Ce=Ze.useContext(dz),{navigator:be,basename:$e}=Ze.useContext(_0),pe=Ce!=null&&xfe(ee)&&z===!0,it=be.encodeLocation?be.encodeLocation(ee).pathname:ee.pathname,Se=ue.pathname,J=Ce&&Ce.navigation&&Ce.navigation.location?Ce.navigation.location.pathname:null;p||(Se=Se.toLowerCase(),J=J?J.toLowerCase():null,it=it.toLowerCase()),J&&$e&&(J=x2(J,$e)||J);const vt=it!=="/"&&it.endsWith("/")?it.length-1:it.length;let Gt=Se===it||!A&&Se.startsWith(it)&&Se.charAt(vt)==="/",Xe=J!=null&&(J===it||!A&&J.startsWith(it)&&J.charAt(it.length)==="/"),ie={isActive:Gt,isPending:Xe,isTransitioning:pe},ct=Gt?d:void 0,xn;typeof x=="function"?xn=x(ie):xn=[x,Gt?"active":null,Xe?"pending":null,pe?"transitioning":null].filter(Boolean).join(" ");let fn=typeof N=="function"?N(ie):N;return Ze.createElement(kv,{...V,"aria-current":ct,className:xn,ref:Y,style:fn,to:O,viewTransition:z},typeof U=="function"?U(ie):U)});ffe.displayName="NavLink";var mfe=Ze.forwardRef(({discover:l="render",fetcherKey:d,navigate:p,reloadDocument:x,replace:A,state:N,method:O=$H,action:z,onSubmit:U,relative:V,preventScrollReset:Y,viewTransition:ee,unstable_defaultShouldRevalidate:ue,...Ce},be)=>{let{unstable_useTransitions:$e}=Ze.useContext(_0),pe=yfe(),it=vfe(z,{relative:V}),Se=O.toLowerCase()==="get"?"get":"post",J=typeof z=="string"&&Cie.test(z),vt=Gt=>{if(U&&U(Gt),Gt.defaultPrevented)return;Gt.preventDefault();let Xe=Gt.nativeEvent.submitter,ie=Xe?.getAttribute("formmethod")||O,ct=()=>pe(Xe||Gt.currentTarget,{fetcherKey:d,method:ie,navigate:p,replace:A,state:N,relative:V,preventScrollReset:Y,viewTransition:ee,unstable_defaultShouldRevalidate:ue});$e&&p!==!1?Ze.startTransition(()=>ct()):ct()};return Ze.createElement("form",{ref:be,method:Se,action:it,onSubmit:x?U:vt,...Ce,"data-discover":!J&&l==="render"?"true":void 0})});mfe.displayName="Form";function hfe(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sie(l){let d=Ze.useContext(Y3);return Zc(d,hfe(l)),d}function gfe(l,{target:d,replace:p,state:x,preventScrollReset:A,relative:N,viewTransition:O,unstable_defaultShouldRevalidate:z,unstable_useTransitions:U}={}){let V=Q3(),Y=C2(),ee=aB(l,{relative:N});return Ze.useCallback(ue=>{if(Wde(ue,d)){ue.preventDefault();let Ce=p!==void 0?p:JM(Y)===JM(ee),be=()=>V(l,{replace:Ce,state:x,preventScrollReset:A,relative:N,viewTransition:O,unstable_defaultShouldRevalidate:z});U?Ze.startTransition(()=>be()):be()}},[Y,V,ee,p,x,d,l,A,N,O,z,U])}var pfe=0,bfe=()=>`__${String(++pfe)}__`;function yfe(){let{router:l}=Sie("useSubmit"),{basename:d}=Ze.useContext(_0),p=Pde(),x=l.fetch,A=l.navigate;return Ze.useCallback(async(N,O={})=>{let{action:z,method:U,encType:V,formData:Y,body:ee}=Kde(N,d);if(O.navigate===!1){let ue=O.fetcherKey||bfe();await x(ue,p,O.action||z,{unstable_defaultShouldRevalidate:O.unstable_defaultShouldRevalidate,preventScrollReset:O.preventScrollReset,formData:Y,body:ee,formMethod:O.method||U,formEncType:O.encType||V,flushSync:O.flushSync})}else await A(O.action||z,{unstable_defaultShouldRevalidate:O.unstable_defaultShouldRevalidate,preventScrollReset:O.preventScrollReset,formData:Y,body:ee,formMethod:O.method||U,formEncType:O.encType||V,replace:O.replace,state:O.state,fromRouteId:p,flushSync:O.flushSync,viewTransition:O.viewTransition})},[x,A,d,p])}function vfe(l,{relative:d}={}){let{basename:p}=Ze.useContext(_0),x=Ze.useContext(j1);Zc(x,"useFormAction must be used inside a RouteContext");let[A]=x.matches.slice(-1),N={...aB(l||".",{relative:d})},O=C2();if(l==null){N.search=O.search;let z=new URLSearchParams(N.search),U=z.getAll("index");if(U.some(Y=>Y==="")){z.delete("index"),U.filter(ee=>ee).forEach(ee=>z.append("index",ee));let Y=z.toString();N.search=Y?`?${Y}`:""}}return(!l||l===".")&&A.route.index&&(N.search=N.search?N.search.replace(/^\?/,"?index&"):"?index"),p!=="/"&&(N.pathname=N.pathname==="/"?p:b2([p,N.pathname])),JM(N)}function xfe(l,{relative:d}={}){let p=Ze.useContext(fie);Zc(p!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:x}=Sie("useViewTransitionState"),A=aB(l,{relative:d});if(!p.isTransitioning)return!1;let N=x2(p.currentLocation.pathname,x)||p.currentLocation.pathname,O=x2(p.nextLocation.pathname,x)||p.nextLocation.pathname;return qH(A.pathname,O)!=null||qH(A.pathname,N)!=null}const Noe=l=>{let d;const p=new Set,x=(V,Y)=>{const ee=typeof V=="function"?V(d):V;if(!Object.is(ee,d)){const ue=d;d=Y??(typeof ee!="object"||ee===null)?ee:Object.assign({},d,ee),p.forEach(Ce=>Ce(d,ue))}},A=()=>d,z={setState:x,getState:A,getInitialState:()=>U,subscribe:V=>(p.add(V),()=>p.delete(V))},U=d=l(x,A,z);return z},wfe=(l=>l?Noe(l):Noe),Cfe=l=>l;function Sfe(l,d=Cfe){const p=WM.useSyncExternalStore(l.subscribe,WM.useCallback(()=>d(l.getState()),[l,d]),WM.useCallback(()=>d(l.getInitialState()),[l,d]));return WM.useDebugValue(p),p}const Roe=l=>{const d=wfe(l),p=x=>Sfe(d,x);return Object.assign(p,d),p},Efe=(l=>l?Roe(l):Roe),mz=Efe(l=>({user:null,token:null,isAuthenticated:!1,initialize:()=>{const d=localStorage.getItem("admin_token");l(d?{token:d,isAuthenticated:!0}:{token:null,user:null,isAuthenticated:!1})},login:(d,p)=>{localStorage.setItem("admin_token",d),l({token:d,user:p,isAuthenticated:!0})},logout:()=>{localStorage.removeItem("admin_token"),l({token:null,user:null,isAuthenticated:!1})},setUser:d=>l({user:d})}));function Eie(l,d){return function(){return l.apply(d,arguments)}}const{toString:Tfe}=Object.prototype,{getPrototypeOf:fte}=Object,{iterator:hz,toStringTag:Tie}=Symbol,gz=(l=>d=>{const p=Tfe.call(d);return l[p]||(l[p]=p.slice(8,-1).toLowerCase())})(Object.create(null)),uy=l=>(l=l.toLowerCase(),d=>gz(d)===l),pz=l=>d=>typeof d===l,{isArray:J3}=Array,Z3=pz("undefined");function iB(l){return l!==null&&!Z3(l)&&l.constructor!==null&&!Z3(l.constructor)&&mp(l.constructor.isBuffer)&&l.constructor.isBuffer(l)}const Aie=uy("ArrayBuffer");function Afe(l){let d;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?d=ArrayBuffer.isView(l):d=l&&l.buffer&&Aie(l.buffer),d}const kfe=pz("string"),mp=pz("function"),kie=pz("number"),lB=l=>l!==null&&typeof l=="object",Dfe=l=>l===!0||l===!1,HH=l=>{if(gz(l)!=="object")return!1;const d=fte(l);return(d===null||d===Object.prototype||Object.getPrototypeOf(d)===null)&&!(Tie in l)&&!(hz in l)},_fe=l=>{if(!lB(l)||iB(l))return!1;try{return Object.keys(l).length===0&&Object.getPrototypeOf(l)===Object.prototype}catch{return!1}},Ofe=uy("Date"),Nfe=uy("File"),Rfe=uy("Blob"),Mfe=uy("FileList"),Bfe=l=>lB(l)&&mp(l.pipe),Lfe=l=>{let d;return l&&(typeof FormData=="function"&&l instanceof FormData||mp(l.append)&&((d=gz(l))==="formdata"||d==="object"&&mp(l.toString)&&l.toString()==="[object FormData]"))},Pfe=uy("URLSearchParams"),[Ffe,$fe,Ife,Hfe]=["ReadableStream","Request","Response","Headers"].map(uy),zfe=l=>l.trim?l.trim():l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cB(l,d,{allOwnKeys:p=!1}={}){if(l===null||typeof l>"u")return;let x,A;if(typeof l!="object"&&(l=[l]),J3(l))for(x=0,A=l.length;x<A;x++)d.call(null,l[x],x,l);else{if(iB(l))return;const N=p?Object.getOwnPropertyNames(l):Object.keys(l),O=N.length;let z;for(x=0;x<O;x++)z=N[x],d.call(null,l[z],z,l)}}function Die(l,d){if(iB(l))return null;d=d.toLowerCase();const p=Object.keys(l);let x=p.length,A;for(;x-- >0;)if(A=p[x],d===A.toLowerCase())return A;return null}const ET=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_ie=l=>!Z3(l)&&l!==ET;function kee(){const{caseless:l,skipUndefined:d}=_ie(this)&&this||{},p={},x=(A,N)=>{const O=l&&Die(p,N)||N;HH(p[O])&&HH(A)?p[O]=kee(p[O],A):HH(A)?p[O]=kee({},A):J3(A)?p[O]=A.slice():(!d||!Z3(A))&&(p[O]=A)};for(let A=0,N=arguments.length;A<N;A++)arguments[A]&&cB(arguments[A],x);return p}const jfe=(l,d,p,{allOwnKeys:x}={})=>(cB(d,(A,N)=>{p&&mp(A)?l[N]=Eie(A,p):l[N]=A},{allOwnKeys:x}),l),Vfe=l=>(l.charCodeAt(0)===65279&&(l=l.slice(1)),l),Ufe=(l,d,p,x)=>{l.prototype=Object.create(d.prototype,x),l.prototype.constructor=l,Object.defineProperty(l,"super",{value:d.prototype}),p&&Object.assign(l.prototype,p)},Zfe=(l,d,p,x)=>{let A,N,O;const z={};if(d=d||{},l==null)return d;do{for(A=Object.getOwnPropertyNames(l),N=A.length;N-- >0;)O=A[N],(!x||x(O,l,d))&&!z[O]&&(d[O]=l[O],z[O]=!0);l=p!==!1&&fte(l)}while(l&&(!p||p(l,d))&&l!==Object.prototype);return d},Wfe=(l,d,p)=>{l=String(l),(p===void 0||p>l.length)&&(p=l.length),p-=d.length;const x=l.indexOf(d,p);return x!==-1&&x===p},qfe=l=>{if(!l)return null;if(J3(l))return l;let d=l.length;if(!kie(d))return null;const p=new Array(d);for(;d-- >0;)p[d]=l[d];return p},Gfe=(l=>d=>l&&d instanceof l)(typeof Uint8Array<"u"&&fte(Uint8Array)),Kfe=(l,d)=>{const x=(l&&l[hz]).call(l);let A;for(;(A=x.next())&&!A.done;){const N=A.value;d.call(l,N[0],N[1])}},Yfe=(l,d)=>{let p;const x=[];for(;(p=l.exec(d))!==null;)x.push(p);return x},Xfe=uy("HTMLFormElement"),Qfe=l=>l.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(p,x,A){return x.toUpperCase()+A}),Moe=(({hasOwnProperty:l})=>(d,p)=>l.call(d,p))(Object.prototype),Jfe=uy("RegExp"),Oie=(l,d)=>{const p=Object.getOwnPropertyDescriptors(l),x={};cB(p,(A,N)=>{let O;(O=d(A,N,l))!==!1&&(x[N]=O||A)}),Object.defineProperties(l,x)},eme=l=>{Oie(l,(d,p)=>{if(mp(l)&&["arguments","caller","callee"].indexOf(p)!==-1)return!1;const x=l[p];if(mp(x)){if(d.enumerable=!1,"writable"in d){d.writable=!1;return}d.set||(d.set=()=>{throw Error("Can not rewrite read-only method '"+p+"'")})}})},tme=(l,d)=>{const p={},x=A=>{A.forEach(N=>{p[N]=!0})};return J3(l)?x(l):x(String(l).split(d)),p},nme=()=>{},ome=(l,d)=>l!=null&&Number.isFinite(l=+l)?l:d;function sme(l){return!!(l&&mp(l.append)&&l[Tie]==="FormData"&&l[hz])}const rme=l=>{const d=new Array(10),p=(x,A)=>{if(lB(x)){if(d.indexOf(x)>=0)return;if(iB(x))return x;if(!("toJSON"in x)){d[A]=x;const N=J3(x)?[]:{};return cB(x,(O,z)=>{const U=p(O,A+1);!Z3(U)&&(N[z]=U)}),d[A]=void 0,N}}return x};return p(l,0)},ame=uy("AsyncFunction"),ime=l=>l&&(lB(l)||mp(l))&&mp(l.then)&&mp(l.catch),Nie=((l,d)=>l?setImmediate:d?((p,x)=>(ET.addEventListener("message",({source:A,data:N})=>{A===ET&&N===p&&x.length&&x.shift()()},!1),A=>{x.push(A),ET.postMessage(p,"*")}))(`axios@${Math.random()}`,[]):p=>setTimeout(p))(typeof setImmediate=="function",mp(ET.postMessage)),lme=typeof queueMicrotask<"u"?queueMicrotask.bind(ET):typeof process<"u"&&process.nextTick||Nie,cme=l=>l!=null&&mp(l[hz]),un={isArray:J3,isArrayBuffer:Aie,isBuffer:iB,isFormData:Lfe,isArrayBufferView:Afe,isString:kfe,isNumber:kie,isBoolean:Dfe,isObject:lB,isPlainObject:HH,isEmptyObject:_fe,isReadableStream:Ffe,isRequest:$fe,isResponse:Ife,isHeaders:Hfe,isUndefined:Z3,isDate:Ofe,isFile:Nfe,isBlob:Rfe,isRegExp:Jfe,isFunction:mp,isStream:Bfe,isURLSearchParams:Pfe,isTypedArray:Gfe,isFileList:Mfe,forEach:cB,merge:kee,extend:jfe,trim:zfe,stripBOM:Vfe,inherits:Ufe,toFlatObject:Zfe,kindOf:gz,kindOfTest:uy,endsWith:Wfe,toArray:qfe,forEachEntry:Kfe,matchAll:Yfe,isHTMLForm:Xfe,hasOwnProperty:Moe,hasOwnProp:Moe,reduceDescriptors:Oie,freezeMethods:eme,toObjectSet:tme,toCamelCase:Qfe,noop:nme,toFiniteNumber:ome,findKey:Die,global:ET,isContextDefined:_ie,isSpecCompliantForm:sme,toJSONObject:rme,isAsyncFn:ame,isThenable:ime,setImmediate:Nie,asap:lme,isIterable:cme};function Qr(l,d,p,x,A){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=l,this.name="AxiosError",d&&(this.code=d),p&&(this.config=p),x&&(this.request=x),A&&(this.response=A,this.status=A.status?A.status:null)}un.inherits(Qr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:un.toJSONObject(this.config),code:this.code,status:this.status}}});const Rie=Qr.prototype,Mie={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(l=>{Mie[l]={value:l}});Object.defineProperties(Qr,Mie);Object.defineProperty(Rie,"isAxiosError",{value:!0});Qr.from=(l,d,p,x,A,N)=>{const O=Object.create(Rie);un.toFlatObject(l,O,function(Y){return Y!==Error.prototype},V=>V!=="isAxiosError");const z=l&&l.message?l.message:"Error",U=d==null&&l?l.code:d;return Qr.call(O,z,U,p,x,A),l&&O.cause==null&&Object.defineProperty(O,"cause",{value:l,configurable:!0}),O.name=l&&l.name||"Error",N&&Object.assign(O,N),O};const ume=null;function Dee(l){return un.isPlainObject(l)||un.isArray(l)}function Bie(l){return un.endsWith(l,"[]")?l.slice(0,-2):l}function Boe(l,d,p){return l?l.concat(d).map(function(A,N){return A=Bie(A),!p&&N?"["+A+"]":A}).join(p?".":""):d}function dme(l){return un.isArray(l)&&!l.some(Dee)}const fme=un.toFlatObject(un,{},null,function(d){return/^is[A-Z]/.test(d)});function bz(l,d,p){if(!un.isObject(l))throw new TypeError("target must be an object");d=d||new FormData,p=un.toFlatObject(p,{metaTokens:!0,dots:!1,indexes:!1},!1,function($e,pe){return!un.isUndefined(pe[$e])});const x=p.metaTokens,A=p.visitor||Y,N=p.dots,O=p.indexes,U=(p.Blob||typeof Blob<"u"&&Blob)&&un.isSpecCompliantForm(d);if(!un.isFunction(A))throw new TypeError("visitor must be a function");function V(be){if(be===null)return"";if(un.isDate(be))return be.toISOString();if(un.isBoolean(be))return be.toString();if(!U&&un.isBlob(be))throw new Qr("Blob is not supported. Use a Buffer instead.");return un.isArrayBuffer(be)||un.isTypedArray(be)?U&&typeof Blob=="function"?new Blob([be]):Buffer.from(be):be}function Y(be,$e,pe){let it=be;if(be&&!pe&&typeof be=="object"){if(un.endsWith($e,"{}"))$e=x?$e:$e.slice(0,-2),be=JSON.stringify(be);else if(un.isArray(be)&&dme(be)||(un.isFileList(be)||un.endsWith($e,"[]"))&&(it=un.toArray(be)))return $e=Bie($e),it.forEach(function(J,vt){!(un.isUndefined(J)||J===null)&&d.append(O===!0?Boe([$e],vt,N):O===null?$e:$e+"[]",V(J))}),!1}return Dee(be)?!0:(d.append(Boe(pe,$e,N),V(be)),!1)}const ee=[],ue=Object.assign(fme,{defaultVisitor:Y,convertValue:V,isVisitable:Dee});function Ce(be,$e){if(!un.isUndefined(be)){if(ee.indexOf(be)!==-1)throw Error("Circular reference detected in "+$e.join("."));ee.push(be),un.forEach(be,function(it,Se){(!(un.isUndefined(it)||it===null)&&A.call(d,it,un.isString(Se)?Se.trim():Se,$e,ue))===!0&&Ce(it,$e?$e.concat(Se):[Se])}),ee.pop()}}if(!un.isObject(l))throw new TypeError("data must be an object");return Ce(l),d}function Loe(l){const d={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(l).replace(/[!'()~]|%20|%00/g,function(x){return d[x]})}function mte(l,d){this._pairs=[],l&&bz(l,this,d)}const Lie=mte.prototype;Lie.append=function(d,p){this._pairs.push([d,p])};Lie.toString=function(d){const p=d?function(x){return d.call(this,x,Loe)}:Loe;return this._pairs.map(function(A){return p(A[0])+"="+p(A[1])},"").join("&")};function mme(l){return encodeURIComponent(l).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Pie(l,d,p){if(!d)return l;const x=p&&p.encode||mme;un.isFunction(p)&&(p={serialize:p});const A=p&&p.serialize;let N;if(A?N=A(d,p):N=un.isURLSearchParams(d)?d.toString():new mte(d,p).toString(x),N){const O=l.indexOf("#");O!==-1&&(l=l.slice(0,O)),l+=(l.indexOf("?")===-1?"?":"&")+N}return l}class Poe{constructor(){this.handlers=[]}use(d,p,x){return this.handlers.push({fulfilled:d,rejected:p,synchronous:x?x.synchronous:!1,runWhen:x?x.runWhen:null}),this.handlers.length-1}eject(d){this.handlers[d]&&(this.handlers[d]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(d){un.forEach(this.handlers,function(x){x!==null&&d(x)})}}const Fie={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hme=typeof URLSearchParams<"u"?URLSearchParams:mte,gme=typeof FormData<"u"?FormData:null,pme=typeof Blob<"u"?Blob:null,bme={isBrowser:!0,classes:{URLSearchParams:hme,FormData:gme,Blob:pme},protocols:["http","https","file","blob","url","data"]},hte=typeof window<"u"&&typeof document<"u",_ee=typeof navigator=="object"&&navigator||void 0,yme=hte&&(!_ee||["ReactNative","NativeScript","NS"].indexOf(_ee.product)<0),vme=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xme=hte&&window.location.href||"http://localhost",wme=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hte,hasStandardBrowserEnv:yme,hasStandardBrowserWebWorkerEnv:vme,navigator:_ee,origin:xme},Symbol.toStringTag,{value:"Module"})),ph={...wme,...bme};function Cme(l,d){return bz(l,new ph.classes.URLSearchParams,{visitor:function(p,x,A,N){return ph.isNode&&un.isBuffer(p)?(this.append(x,p.toString("base64")),!1):N.defaultVisitor.apply(this,arguments)},...d})}function Sme(l){return un.matchAll(/\w+|\[(\w*)]/g,l).map(d=>d[0]==="[]"?"":d[1]||d[0])}function Eme(l){const d={},p=Object.keys(l);let x;const A=p.length;let N;for(x=0;x<A;x++)N=p[x],d[N]=l[N];return d}function $ie(l){function d(p,x,A,N){let O=p[N++];if(O==="__proto__")return!0;const z=Number.isFinite(+O),U=N>=p.length;return O=!O&&un.isArray(A)?A.length:O,U?(un.hasOwnProp(A,O)?A[O]=[A[O],x]:A[O]=x,!z):((!A[O]||!un.isObject(A[O]))&&(A[O]=[]),d(p,x,A[O],N)&&un.isArray(A[O])&&(A[O]=Eme(A[O])),!z)}if(un.isFormData(l)&&un.isFunction(l.entries)){const p={};return un.forEachEntry(l,(x,A)=>{d(Sme(x),A,p,0)}),p}return null}function Tme(l,d,p){if(un.isString(l))try{return(d||JSON.parse)(l),un.trim(l)}catch(x){if(x.name!=="SyntaxError")throw x}return(p||JSON.stringify)(l)}const uB={transitional:Fie,adapter:["xhr","http","fetch"],transformRequest:[function(d,p){const x=p.getContentType()||"",A=x.indexOf("application/json")>-1,N=un.isObject(d);if(N&&un.isHTMLForm(d)&&(d=new FormData(d)),un.isFormData(d))return A?JSON.stringify($ie(d)):d;if(un.isArrayBuffer(d)||un.isBuffer(d)||un.isStream(d)||un.isFile(d)||un.isBlob(d)||un.isReadableStream(d))return d;if(un.isArrayBufferView(d))return d.buffer;if(un.isURLSearchParams(d))return p.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),d.toString();let z;if(N){if(x.indexOf("application/x-www-form-urlencoded")>-1)return Cme(d,this.formSerializer).toString();if((z=un.isFileList(d))||x.indexOf("multipart/form-data")>-1){const U=this.env&&this.env.FormData;return bz(z?{"files[]":d}:d,U&&new U,this.formSerializer)}}return N||A?(p.setContentType("application/json",!1),Tme(d)):d}],transformResponse:[function(d){const p=this.transitional||uB.transitional,x=p&&p.forcedJSONParsing,A=this.responseType==="json";if(un.isResponse(d)||un.isReadableStream(d))return d;if(d&&un.isString(d)&&(x&&!this.responseType||A)){const O=!(p&&p.silentJSONParsing)&&A;try{return JSON.parse(d,this.parseReviver)}catch(z){if(O)throw z.name==="SyntaxError"?Qr.from(z,Qr.ERR_BAD_RESPONSE,this,null,this.response):z}}return d}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ph.classes.FormData,Blob:ph.classes.Blob},validateStatus:function(d){return d>=200&&d<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};un.forEach(["delete","get","head","post","put","patch"],l=>{uB.headers[l]={}});const Ame=un.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kme=l=>{const d={};let p,x,A;return l&&l.split(`
`).forEach(function(O){A=O.indexOf(":"),p=O.substring(0,A).trim().toLowerCase(),x=O.substring(A+1).trim(),!(!p||d[p]&&Ame[p])&&(p==="set-cookie"?d[p]?d[p].push(x):d[p]=[x]:d[p]=d[p]?d[p]+", "+x:x)}),d},Foe=Symbol("internals");function VM(l){return l&&String(l).trim().toLowerCase()}function zH(l){return l===!1||l==null?l:un.isArray(l)?l.map(zH):String(l)}function Dme(l){const d=Object.create(null),p=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let x;for(;x=p.exec(l);)d[x[1]]=x[2];return d}const _me=l=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(l.trim());function YJ(l,d,p,x,A){if(un.isFunction(x))return x.call(this,d,p);if(A&&(d=p),!!un.isString(d)){if(un.isString(x))return d.indexOf(x)!==-1;if(un.isRegExp(x))return x.test(d)}}function Ome(l){return l.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(d,p,x)=>p.toUpperCase()+x)}function Nme(l,d){const p=un.toCamelCase(" "+d);["get","set","has"].forEach(x=>{Object.defineProperty(l,x+p,{value:function(A,N,O){return this[x].call(this,d,A,N,O)},configurable:!0})})}let hp=class{constructor(d){d&&this.set(d)}set(d,p,x){const A=this;function N(z,U,V){const Y=VM(U);if(!Y)throw new Error("header name must be a non-empty string");const ee=un.findKey(A,Y);(!ee||A[ee]===void 0||V===!0||V===void 0&&A[ee]!==!1)&&(A[ee||U]=zH(z))}const O=(z,U)=>un.forEach(z,(V,Y)=>N(V,Y,U));if(un.isPlainObject(d)||d instanceof this.constructor)O(d,p);else if(un.isString(d)&&(d=d.trim())&&!_me(d))O(kme(d),p);else if(un.isObject(d)&&un.isIterable(d)){let z={},U,V;for(const Y of d){if(!un.isArray(Y))throw TypeError("Object iterator must return a key-value pair");z[V=Y[0]]=(U=z[V])?un.isArray(U)?[...U,Y[1]]:[U,Y[1]]:Y[1]}O(z,p)}else d!=null&&N(p,d,x);return this}get(d,p){if(d=VM(d),d){const x=un.findKey(this,d);if(x){const A=this[x];if(!p)return A;if(p===!0)return Dme(A);if(un.isFunction(p))return p.call(this,A,x);if(un.isRegExp(p))return p.exec(A);throw new TypeError("parser must be boolean|regexp|function")}}}has(d,p){if(d=VM(d),d){const x=un.findKey(this,d);return!!(x&&this[x]!==void 0&&(!p||YJ(this,this[x],x,p)))}return!1}delete(d,p){const x=this;let A=!1;function N(O){if(O=VM(O),O){const z=un.findKey(x,O);z&&(!p||YJ(x,x[z],z,p))&&(delete x[z],A=!0)}}return un.isArray(d)?d.forEach(N):N(d),A}clear(d){const p=Object.keys(this);let x=p.length,A=!1;for(;x--;){const N=p[x];(!d||YJ(this,this[N],N,d,!0))&&(delete this[N],A=!0)}return A}normalize(d){const p=this,x={};return un.forEach(this,(A,N)=>{const O=un.findKey(x,N);if(O){p[O]=zH(A),delete p[N];return}const z=d?Ome(N):String(N).trim();z!==N&&delete p[N],p[z]=zH(A),x[z]=!0}),this}concat(...d){return this.constructor.concat(this,...d)}toJSON(d){const p=Object.create(null);return un.forEach(this,(x,A)=>{x!=null&&x!==!1&&(p[A]=d&&un.isArray(x)?x.join(", "):x)}),p}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([d,p])=>d+": "+p).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(d){return d instanceof this?d:new this(d)}static concat(d,...p){const x=new this(d);return p.forEach(A=>x.set(A)),x}static accessor(d){const x=(this[Foe]=this[Foe]={accessors:{}}).accessors,A=this.prototype;function N(O){const z=VM(O);x[z]||(Nme(A,O),x[z]=!0)}return un.isArray(d)?d.forEach(N):N(d),this}};hp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);un.reduceDescriptors(hp.prototype,({value:l},d)=>{let p=d[0].toUpperCase()+d.slice(1);return{get:()=>l,set(x){this[p]=x}}});un.freezeMethods(hp);function XJ(l,d){const p=this||uB,x=d||p,A=hp.from(x.headers);let N=x.data;return un.forEach(l,function(z){N=z.call(p,N,A.normalize(),d?d.status:void 0)}),A.normalize(),N}function Iie(l){return!!(l&&l.__CANCEL__)}function eD(l,d,p){Qr.call(this,l??"canceled",Qr.ERR_CANCELED,d,p),this.name="CanceledError"}un.inherits(eD,Qr,{__CANCEL__:!0});function Hie(l,d,p){const x=p.config.validateStatus;!p.status||!x||x(p.status)?l(p):d(new Qr("Request failed with status code "+p.status,[Qr.ERR_BAD_REQUEST,Qr.ERR_BAD_RESPONSE][Math.floor(p.status/100)-4],p.config,p.request,p))}function Rme(l){const d=/^([-+\w]{1,25})(:?\/\/|:)/.exec(l);return d&&d[1]||""}function Mme(l,d){l=l||10;const p=new Array(l),x=new Array(l);let A=0,N=0,O;return d=d!==void 0?d:1e3,function(U){const V=Date.now(),Y=x[N];O||(O=V),p[A]=U,x[A]=V;let ee=N,ue=0;for(;ee!==A;)ue+=p[ee++],ee=ee%l;if(A=(A+1)%l,A===N&&(N=(N+1)%l),V-O<d)return;const Ce=Y&&V-Y;return Ce?Math.round(ue*1e3/Ce):void 0}}function Bme(l,d){let p=0,x=1e3/d,A,N;const O=(V,Y=Date.now())=>{p=Y,A=null,N&&(clearTimeout(N),N=null),l(...V)};return[(...V)=>{const Y=Date.now(),ee=Y-p;ee>=x?O(V,Y):(A=V,N||(N=setTimeout(()=>{N=null,O(A)},x-ee)))},()=>A&&O(A)]}const GH=(l,d,p=3)=>{let x=0;const A=Mme(50,250);return Bme(N=>{const O=N.loaded,z=N.lengthComputable?N.total:void 0,U=O-x,V=A(U),Y=O<=z;x=O;const ee={loaded:O,total:z,progress:z?O/z:void 0,bytes:U,rate:V||void 0,estimated:V&&z&&Y?(z-O)/V:void 0,event:N,lengthComputable:z!=null,[d?"download":"upload"]:!0};l(ee)},p)},$oe=(l,d)=>{const p=l!=null;return[x=>d[0]({lengthComputable:p,total:l,loaded:x}),d[1]]},Ioe=l=>(...d)=>un.asap(()=>l(...d)),Lme=ph.hasStandardBrowserEnv?((l,d)=>p=>(p=new URL(p,ph.origin),l.protocol===p.protocol&&l.host===p.host&&(d||l.port===p.port)))(new URL(ph.origin),ph.navigator&&/(msie|trident)/i.test(ph.navigator.userAgent)):()=>!0,Pme=ph.hasStandardBrowserEnv?{write(l,d,p,x,A,N,O){if(typeof document>"u")return;const z=[`${l}=${encodeURIComponent(d)}`];un.isNumber(p)&&z.push(`expires=${new Date(p).toUTCString()}`),un.isString(x)&&z.push(`path=${x}`),un.isString(A)&&z.push(`domain=${A}`),N===!0&&z.push("secure"),un.isString(O)&&z.push(`SameSite=${O}`),document.cookie=z.join("; ")},read(l){if(typeof document>"u")return null;const d=document.cookie.match(new RegExp("(?:^|; )"+l+"=([^;]*)"));return d?decodeURIComponent(d[1]):null},remove(l){this.write(l,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Fme(l){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(l)}function $me(l,d){return d?l.replace(/\/?\/$/,"")+"/"+d.replace(/^\/+/,""):l}function zie(l,d,p){let x=!Fme(d);return l&&(x||p==!1)?$me(l,d):d}const Hoe=l=>l instanceof hp?{...l}:l;function OT(l,d){d=d||{};const p={};function x(V,Y,ee,ue){return un.isPlainObject(V)&&un.isPlainObject(Y)?un.merge.call({caseless:ue},V,Y):un.isPlainObject(Y)?un.merge({},Y):un.isArray(Y)?Y.slice():Y}function A(V,Y,ee,ue){if(un.isUndefined(Y)){if(!un.isUndefined(V))return x(void 0,V,ee,ue)}else return x(V,Y,ee,ue)}function N(V,Y){if(!un.isUndefined(Y))return x(void 0,Y)}function O(V,Y){if(un.isUndefined(Y)){if(!un.isUndefined(V))return x(void 0,V)}else return x(void 0,Y)}function z(V,Y,ee){if(ee in d)return x(V,Y);if(ee in l)return x(void 0,V)}const U={url:N,method:N,data:N,baseURL:O,transformRequest:O,transformResponse:O,paramsSerializer:O,timeout:O,timeoutMessage:O,withCredentials:O,withXSRFToken:O,adapter:O,responseType:O,xsrfCookieName:O,xsrfHeaderName:O,onUploadProgress:O,onDownloadProgress:O,decompress:O,maxContentLength:O,maxBodyLength:O,beforeRedirect:O,transport:O,httpAgent:O,httpsAgent:O,cancelToken:O,socketPath:O,responseEncoding:O,validateStatus:z,headers:(V,Y,ee)=>A(Hoe(V),Hoe(Y),ee,!0)};return un.forEach(Object.keys({...l,...d}),function(Y){const ee=U[Y]||A,ue=ee(l[Y],d[Y],Y);un.isUndefined(ue)&&ee!==z||(p[Y]=ue)}),p}const jie=l=>{const d=OT({},l);let{data:p,withXSRFToken:x,xsrfHeaderName:A,xsrfCookieName:N,headers:O,auth:z}=d;if(d.headers=O=hp.from(O),d.url=Pie(zie(d.baseURL,d.url,d.allowAbsoluteUrls),l.params,l.paramsSerializer),z&&O.set("Authorization","Basic "+btoa((z.username||"")+":"+(z.password?unescape(encodeURIComponent(z.password)):""))),un.isFormData(p)){if(ph.hasStandardBrowserEnv||ph.hasStandardBrowserWebWorkerEnv)O.setContentType(void 0);else if(un.isFunction(p.getHeaders)){const U=p.getHeaders(),V=["content-type","content-length"];Object.entries(U).forEach(([Y,ee])=>{V.includes(Y.toLowerCase())&&O.set(Y,ee)})}}if(ph.hasStandardBrowserEnv&&(x&&un.isFunction(x)&&(x=x(d)),x||x!==!1&&Lme(d.url))){const U=A&&N&&Pme.read(N);U&&O.set(A,U)}return d},Ime=typeof XMLHttpRequest<"u",Hme=Ime&&function(l){return new Promise(function(p,x){const A=jie(l);let N=A.data;const O=hp.from(A.headers).normalize();let{responseType:z,onUploadProgress:U,onDownloadProgress:V}=A,Y,ee,ue,Ce,be;function $e(){Ce&&Ce(),be&&be(),A.cancelToken&&A.cancelToken.unsubscribe(Y),A.signal&&A.signal.removeEventListener("abort",Y)}let pe=new XMLHttpRequest;pe.open(A.method.toUpperCase(),A.url,!0),pe.timeout=A.timeout;function it(){if(!pe)return;const J=hp.from("getAllResponseHeaders"in pe&&pe.getAllResponseHeaders()),Gt={data:!z||z==="text"||z==="json"?pe.responseText:pe.response,status:pe.status,statusText:pe.statusText,headers:J,config:l,request:pe};Hie(function(ie){p(ie),$e()},function(ie){x(ie),$e()},Gt),pe=null}"onloadend"in pe?pe.onloadend=it:pe.onreadystatechange=function(){!pe||pe.readyState!==4||pe.status===0&&!(pe.responseURL&&pe.responseURL.indexOf("file:")===0)||setTimeout(it)},pe.onabort=function(){pe&&(x(new Qr("Request aborted",Qr.ECONNABORTED,l,pe)),pe=null)},pe.onerror=function(vt){const Gt=vt&&vt.message?vt.message:"Network Error",Xe=new Qr(Gt,Qr.ERR_NETWORK,l,pe);Xe.event=vt||null,x(Xe),pe=null},pe.ontimeout=function(){let vt=A.timeout?"timeout of "+A.timeout+"ms exceeded":"timeout exceeded";const Gt=A.transitional||Fie;A.timeoutErrorMessage&&(vt=A.timeoutErrorMessage),x(new Qr(vt,Gt.clarifyTimeoutError?Qr.ETIMEDOUT:Qr.ECONNABORTED,l,pe)),pe=null},N===void 0&&O.setContentType(null),"setRequestHeader"in pe&&un.forEach(O.toJSON(),function(vt,Gt){pe.setRequestHeader(Gt,vt)}),un.isUndefined(A.withCredentials)||(pe.withCredentials=!!A.withCredentials),z&&z!=="json"&&(pe.responseType=A.responseType),V&&([ue,be]=GH(V,!0),pe.addEventListener("progress",ue)),U&&pe.upload&&([ee,Ce]=GH(U),pe.upload.addEventListener("progress",ee),pe.upload.addEventListener("loadend",Ce)),(A.cancelToken||A.signal)&&(Y=J=>{pe&&(x(!J||J.type?new eD(null,l,pe):J),pe.abort(),pe=null)},A.cancelToken&&A.cancelToken.subscribe(Y),A.signal&&(A.signal.aborted?Y():A.signal.addEventListener("abort",Y)));const Se=Rme(A.url);if(Se&&ph.protocols.indexOf(Se)===-1){x(new Qr("Unsupported protocol "+Se+":",Qr.ERR_BAD_REQUEST,l));return}pe.send(N||null)})},zme=(l,d)=>{const{length:p}=l=l?l.filter(Boolean):[];if(d||p){let x=new AbortController,A;const N=function(V){if(!A){A=!0,z();const Y=V instanceof Error?V:this.reason;x.abort(Y instanceof Qr?Y:new eD(Y instanceof Error?Y.message:Y))}};let O=d&&setTimeout(()=>{O=null,N(new Qr(`timeout ${d} of ms exceeded`,Qr.ETIMEDOUT))},d);const z=()=>{l&&(O&&clearTimeout(O),O=null,l.forEach(V=>{V.unsubscribe?V.unsubscribe(N):V.removeEventListener("abort",N)}),l=null)};l.forEach(V=>V.addEventListener("abort",N));const{signal:U}=x;return U.unsubscribe=()=>un.asap(z),U}},jme=function*(l,d){let p=l.byteLength;if(p<d){yield l;return}let x=0,A;for(;x<p;)A=x+d,yield l.slice(x,A),x=A},Vme=async function*(l,d){for await(const p of Ume(l))yield*jme(p,d)},Ume=async function*(l){if(l[Symbol.asyncIterator]){yield*l;return}const d=l.getReader();try{for(;;){const{done:p,value:x}=await d.read();if(p)break;yield x}}finally{await d.cancel()}},zoe=(l,d,p,x)=>{const A=Vme(l,d);let N=0,O,z=U=>{O||(O=!0,x&&x(U))};return new ReadableStream({async pull(U){try{const{done:V,value:Y}=await A.next();if(V){z(),U.close();return}let ee=Y.byteLength;if(p){let ue=N+=ee;p(ue)}U.enqueue(new Uint8Array(Y))}catch(V){throw z(V),V}},cancel(U){return z(U),A.return()}},{highWaterMark:2})},joe=64*1024,{isFunction:NH}=un,Zme=(({Request:l,Response:d})=>({Request:l,Response:d}))(un.global),{ReadableStream:Voe,TextEncoder:Uoe}=un.global,Zoe=(l,...d)=>{try{return!!l(...d)}catch{return!1}},Wme=l=>{l=un.merge.call({skipUndefined:!0},Zme,l);const{fetch:d,Request:p,Response:x}=l,A=d?NH(d):typeof fetch=="function",N=NH(p),O=NH(x);if(!A)return!1;const z=A&&NH(Voe),U=A&&(typeof Uoe=="function"?(be=>$e=>be.encode($e))(new Uoe):async be=>new Uint8Array(await new p(be).arrayBuffer())),V=N&&z&&Zoe(()=>{let be=!1;const $e=new p(ph.origin,{body:new Voe,method:"POST",get duplex(){return be=!0,"half"}}).headers.has("Content-Type");return be&&!$e}),Y=O&&z&&Zoe(()=>un.isReadableStream(new x("").body)),ee={stream:Y&&(be=>be.body)};A&&["text","arrayBuffer","blob","formData","stream"].forEach(be=>{!ee[be]&&(ee[be]=($e,pe)=>{let it=$e&&$e[be];if(it)return it.call($e);throw new Qr(`Response type '${be}' is not supported`,Qr.ERR_NOT_SUPPORT,pe)})});const ue=async be=>{if(be==null)return 0;if(un.isBlob(be))return be.size;if(un.isSpecCompliantForm(be))return(await new p(ph.origin,{method:"POST",body:be}).arrayBuffer()).byteLength;if(un.isArrayBufferView(be)||un.isArrayBuffer(be))return be.byteLength;if(un.isURLSearchParams(be)&&(be=be+""),un.isString(be))return(await U(be)).byteLength},Ce=async(be,$e)=>{const pe=un.toFiniteNumber(be.getContentLength());return pe??ue($e)};return async be=>{let{url:$e,method:pe,data:it,signal:Se,cancelToken:J,timeout:vt,onDownloadProgress:Gt,onUploadProgress:Xe,responseType:ie,headers:ct,withCredentials:xn="same-origin",fetchOptions:fn}=jie(be),qe=d||fetch;ie=ie?(ie+"").toLowerCase():"text";let Re=zme([Se,J&&J.toAbortSignal()],vt),Qo=null;const yt=Re&&Re.unsubscribe&&(()=>{Re.unsubscribe()});let Lt;try{if(Xe&&V&&pe!=="get"&&pe!=="head"&&(Lt=await Ce(ct,it))!==0){let le=new p($e,{method:"POST",body:it,duplex:"half"}),Ve;if(un.isFormData(it)&&(Ve=le.headers.get("content-type"))&&ct.setContentType(Ve),le.body){const[It,Ne]=$oe(Lt,GH(Ioe(Xe)));it=zoe(le.body,joe,It,Ne)}}un.isString(xn)||(xn=xn?"include":"omit");const F=N&&"credentials"in p.prototype,jt={...fn,signal:Re,method:pe.toUpperCase(),headers:ct.normalize().toJSON(),body:it,duplex:"half",credentials:F?xn:void 0};Qo=N&&new p($e,jt);let at=await(N?qe(Qo,fn):qe($e,jt));const Jn=Y&&(ie==="stream"||ie==="response");if(Y&&(Gt||Jn&&yt)){const le={};["status","statusText","headers"].forEach(ft=>{le[ft]=at[ft]});const Ve=un.toFiniteNumber(at.headers.get("content-length")),[It,Ne]=Gt&&$oe(Ve,GH(Ioe(Gt),!0))||[];at=new x(zoe(at.body,joe,It,()=>{Ne&&Ne(),yt&&yt()}),le)}ie=ie||"text";let an=await ee[un.findKey(ee,ie)||"text"](at,be);return!Jn&&yt&&yt(),await new Promise((le,Ve)=>{Hie(le,Ve,{data:an,headers:hp.from(at.headers),status:at.status,statusText:at.statusText,config:be,request:Qo})})}catch(F){throw yt&&yt(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new Qr("Network Error",Qr.ERR_NETWORK,be,Qo),{cause:F.cause||F}):Qr.from(F,F&&F.code,be,Qo)}}},qme=new Map,Vie=l=>{let d=l&&l.env||{};const{fetch:p,Request:x,Response:A}=d,N=[x,A,p];let O=N.length,z=O,U,V,Y=qme;for(;z--;)U=N[z],V=Y.get(U),V===void 0&&Y.set(U,V=z?new Map:Wme(d)),Y=V;return V};Vie();const gte={http:ume,xhr:Hme,fetch:{get:Vie}};un.forEach(gte,(l,d)=>{if(l){try{Object.defineProperty(l,"name",{value:d})}catch{}Object.defineProperty(l,"adapterName",{value:d})}});const Woe=l=>`- ${l}`,Gme=l=>un.isFunction(l)||l===null||l===!1;function Kme(l,d){l=un.isArray(l)?l:[l];const{length:p}=l;let x,A;const N={};for(let O=0;O<p;O++){x=l[O];let z;if(A=x,!Gme(x)&&(A=gte[(z=String(x)).toLowerCase()],A===void 0))throw new Qr(`Unknown adapter '${z}'`);if(A&&(un.isFunction(A)||(A=A.get(d))))break;N[z||"#"+O]=A}if(!A){const O=Object.entries(N).map(([U,V])=>`adapter ${U} `+(V===!1?"is not supported by the environment":"is not available in the build"));let z=p?O.length>1?`since :
`+O.map(Woe).join(`
`):" "+Woe(O[0]):"as no adapter specified";throw new Qr("There is no suitable adapter to dispatch the request "+z,"ERR_NOT_SUPPORT")}return A}const Uie={getAdapter:Kme,adapters:gte};function QJ(l){if(l.cancelToken&&l.cancelToken.throwIfRequested(),l.signal&&l.signal.aborted)throw new eD(null,l)}function qoe(l){return QJ(l),l.headers=hp.from(l.headers),l.data=XJ.call(l,l.transformRequest),["post","put","patch"].indexOf(l.method)!==-1&&l.headers.setContentType("application/x-www-form-urlencoded",!1),Uie.getAdapter(l.adapter||uB.adapter,l)(l).then(function(x){return QJ(l),x.data=XJ.call(l,l.transformResponse,x),x.headers=hp.from(x.headers),x},function(x){return Iie(x)||(QJ(l),x&&x.response&&(x.response.data=XJ.call(l,l.transformResponse,x.response),x.response.headers=hp.from(x.response.headers))),Promise.reject(x)})}const Zie="1.13.2",yz={};["object","boolean","number","function","string","symbol"].forEach((l,d)=>{yz[l]=function(x){return typeof x===l||"a"+(d<1?"n ":" ")+l}});const Goe={};yz.transitional=function(d,p,x){function A(N,O){return"[Axios v"+Zie+"] Transitional option '"+N+"'"+O+(x?". "+x:"")}return(N,O,z)=>{if(d===!1)throw new Qr(A(O," has been removed"+(p?" in "+p:"")),Qr.ERR_DEPRECATED);return p&&!Goe[O]&&(Goe[O]=!0,console.warn(A(O," has been deprecated since v"+p+" and will be removed in the near future"))),d?d(N,O,z):!0}};yz.spelling=function(d){return(p,x)=>(console.warn(`${x} is likely a misspelling of ${d}`),!0)};function Yme(l,d,p){if(typeof l!="object")throw new Qr("options must be an object",Qr.ERR_BAD_OPTION_VALUE);const x=Object.keys(l);let A=x.length;for(;A-- >0;){const N=x[A],O=d[N];if(O){const z=l[N],U=z===void 0||O(z,N,l);if(U!==!0)throw new Qr("option "+N+" must be "+U,Qr.ERR_BAD_OPTION_VALUE);continue}if(p!==!0)throw new Qr("Unknown option "+N,Qr.ERR_BAD_OPTION)}}const jH={assertOptions:Yme,validators:yz},Av=jH.validators;let kT=class{constructor(d){this.defaults=d||{},this.interceptors={request:new Poe,response:new Poe}}async request(d,p){try{return await this._request(d,p)}catch(x){if(x instanceof Error){let A={};Error.captureStackTrace?Error.captureStackTrace(A):A=new Error;const N=A.stack?A.stack.replace(/^.+\n/,""):"";try{x.stack?N&&!String(x.stack).endsWith(N.replace(/^.+\n.+\n/,""))&&(x.stack+=`
`+N):x.stack=N}catch{}}throw x}}_request(d,p){typeof d=="string"?(p=p||{},p.url=d):p=d||{},p=OT(this.defaults,p);const{transitional:x,paramsSerializer:A,headers:N}=p;x!==void 0&&jH.assertOptions(x,{silentJSONParsing:Av.transitional(Av.boolean),forcedJSONParsing:Av.transitional(Av.boolean),clarifyTimeoutError:Av.transitional(Av.boolean)},!1),A!=null&&(un.isFunction(A)?p.paramsSerializer={serialize:A}:jH.assertOptions(A,{encode:Av.function,serialize:Av.function},!0)),p.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?p.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:p.allowAbsoluteUrls=!0),jH.assertOptions(p,{baseUrl:Av.spelling("baseURL"),withXsrfToken:Av.spelling("withXSRFToken")},!0),p.method=(p.method||this.defaults.method||"get").toLowerCase();let O=N&&un.merge(N.common,N[p.method]);N&&un.forEach(["delete","get","head","post","put","patch","common"],be=>{delete N[be]}),p.headers=hp.concat(O,N);const z=[];let U=!0;this.interceptors.request.forEach(function($e){typeof $e.runWhen=="function"&&$e.runWhen(p)===!1||(U=U&&$e.synchronous,z.unshift($e.fulfilled,$e.rejected))});const V=[];this.interceptors.response.forEach(function($e){V.push($e.fulfilled,$e.rejected)});let Y,ee=0,ue;if(!U){const be=[qoe.bind(this),void 0];for(be.unshift(...z),be.push(...V),ue=be.length,Y=Promise.resolve(p);ee<ue;)Y=Y.then(be[ee++],be[ee++]);return Y}ue=z.length;let Ce=p;for(;ee<ue;){const be=z[ee++],$e=z[ee++];try{Ce=be(Ce)}catch(pe){$e.call(this,pe);break}}try{Y=qoe.call(this,Ce)}catch(be){return Promise.reject(be)}for(ee=0,ue=V.length;ee<ue;)Y=Y.then(V[ee++],V[ee++]);return Y}getUri(d){d=OT(this.defaults,d);const p=zie(d.baseURL,d.url,d.allowAbsoluteUrls);return Pie(p,d.params,d.paramsSerializer)}};un.forEach(["delete","get","head","options"],function(d){kT.prototype[d]=function(p,x){return this.request(OT(x||{},{method:d,url:p,data:(x||{}).data}))}});un.forEach(["post","put","patch"],function(d){function p(x){return function(N,O,z){return this.request(OT(z||{},{method:d,headers:x?{"Content-Type":"multipart/form-data"}:{},url:N,data:O}))}}kT.prototype[d]=p(),kT.prototype[d+"Form"]=p(!0)});let Xme=class Wie{constructor(d){if(typeof d!="function")throw new TypeError("executor must be a function.");let p;this.promise=new Promise(function(N){p=N});const x=this;this.promise.then(A=>{if(!x._listeners)return;let N=x._listeners.length;for(;N-- >0;)x._listeners[N](A);x._listeners=null}),this.promise.then=A=>{let N;const O=new Promise(z=>{x.subscribe(z),N=z}).then(A);return O.cancel=function(){x.unsubscribe(N)},O},d(function(N,O,z){x.reason||(x.reason=new eD(N,O,z),p(x.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(d){if(this.reason){d(this.reason);return}this._listeners?this._listeners.push(d):this._listeners=[d]}unsubscribe(d){if(!this._listeners)return;const p=this._listeners.indexOf(d);p!==-1&&this._listeners.splice(p,1)}toAbortSignal(){const d=new AbortController,p=x=>{d.abort(x)};return this.subscribe(p),d.signal.unsubscribe=()=>this.unsubscribe(p),d.signal}static source(){let d;return{token:new Wie(function(A){d=A}),cancel:d}}};function Qme(l){return function(p){return l.apply(null,p)}}function Jme(l){return un.isObject(l)&&l.isAxiosError===!0}const Oee={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Oee).forEach(([l,d])=>{Oee[d]=l});function qie(l){const d=new kT(l),p=Eie(kT.prototype.request,d);return un.extend(p,kT.prototype,d,{allOwnKeys:!0}),un.extend(p,d,null,{allOwnKeys:!0}),p.create=function(A){return qie(OT(l,A))},p}const gd=qie(uB);gd.Axios=kT;gd.CanceledError=eD;gd.CancelToken=Xme;gd.isCancel=Iie;gd.VERSION=Zie;gd.toFormData=bz;gd.AxiosError=Qr;gd.Cancel=gd.CanceledError;gd.all=function(d){return Promise.all(d)};gd.spread=Qme;gd.isAxiosError=Jme;gd.mergeConfig=OT;gd.AxiosHeaders=hp;gd.formToJSON=l=>$ie(un.isHTMLForm(l)?new FormData(l):l);gd.getAdapter=Uie.getAdapter;gd.HttpStatusCode=Oee;gd.default=gd;const{Axios:Wxe,AxiosError:qxe,CanceledError:Gxe,isCancel:Kxe,CancelToken:Yxe,VERSION:Xxe,all:Qxe,Cancel:Jxe,isAxiosError:e2e,spread:t2e,toFormData:n2e,AxiosHeaders:o2e,HttpStatusCode:s2e,formToJSON:r2e,getAdapter:a2e,mergeConfig:i2e}=gd,_s=gd.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});_s.interceptors.request.use(l=>{const d=localStorage.getItem("admin_token");return d&&(l.headers.Authorization=`Bearer ${d}`),l});_s.interceptors.response.use(l=>l,async l=>(l.response?.status===401&&(localStorage.removeItem("admin_token"),window.location.href="/admin/"),Promise.reject(l)));function Gie(l,d,p){if(typeof l=="function"?l===d:l.has(d))return arguments.length<3?d:p;throw new TypeError("Private element is not present on this object")}function ehe(l,d){if(d.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Koe(l,d){return l.get(Gie(l,d))}function the(l,d,p){ehe(l,d),d.set(l,p)}function nhe(l,d,p){return l.set(Gie(l,d),p),p}const ohe=100,Rs={},she=()=>{Rs.previousActiveElement instanceof HTMLElement?(Rs.previousActiveElement.focus(),Rs.previousActiveElement=null):document.body&&document.body.focus()},rhe=l=>new Promise(d=>{if(!l)return d();const p=window.scrollX,x=window.scrollY;Rs.restoreFocusTimeout=setTimeout(()=>{she(),d()},ohe),window.scrollTo(p,x)}),Kie="swal2-",ahe=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],yn=ahe.reduce((l,d)=>(l[d]=Kie+d,l),{}),ihe=["success","warning","info","question","error"],KH=ihe.reduce((l,d)=>(l[d]=Kie+d,l),{}),Yie="SweetAlert2:",pte=l=>l.charAt(0).toUpperCase()+l.slice(1),gg=l=>{console.warn(`${Yie} ${typeof l=="object"?l.join(" "):l}`)},RT=l=>{console.error(`${Yie} ${l}`)},Yoe=[],lhe=l=>{Yoe.includes(l)||(Yoe.push(l),gg(l))},Xie=(l,d=null)=>{lhe(`"${l}" is deprecated and will be removed in the next major release.${d?` Use "${d}" instead.`:""}`)},vz=l=>typeof l=="function"?l():l,bte=l=>l&&typeof l.toPromise=="function",dB=l=>bte(l)?l.toPromise():Promise.resolve(l),yte=l=>l&&Promise.resolve(l)===l,pg=()=>document.body.querySelector(`.${yn.container}`),fB=l=>{const d=pg();return d?d.querySelector(l):null},O0=l=>fB(`.${l}`),ji=()=>O0(yn.popup),tD=()=>O0(yn.icon),che=()=>O0(yn["icon-content"]),Qie=()=>O0(yn.title),vte=()=>O0(yn["html-container"]),Jie=()=>O0(yn.image),xte=()=>O0(yn["progress-steps"]),xz=()=>O0(yn["validation-message"]),Ov=()=>fB(`.${yn.actions} .${yn.confirm}`),nD=()=>fB(`.${yn.actions} .${yn.cancel}`),MT=()=>fB(`.${yn.actions} .${yn.deny}`),uhe=()=>O0(yn["input-label"]),oD=()=>fB(`.${yn.loader}`),mB=()=>O0(yn.actions),ele=()=>O0(yn.footer),wz=()=>O0(yn["timer-progress-bar"]),wte=()=>O0(yn.close),dhe=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Cte=()=>{const l=ji();if(!l)return[];const d=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),p=Array.from(d).sort((N,O)=>{const z=parseInt(N.getAttribute("tabindex")||"0"),U=parseInt(O.getAttribute("tabindex")||"0");return z>U?1:z<U?-1:0}),x=l.querySelectorAll(dhe),A=Array.from(x).filter(N=>N.getAttribute("tabindex")!=="-1");return[...new Set(p.concat(A))].filter(N=>gp(N))},Ste=()=>y2(document.body,yn.shown)&&!y2(document.body,yn["toast-shown"])&&!y2(document.body,yn["no-backdrop"]),Cz=()=>{const l=ji();return l?y2(l,yn.toast):!1},fhe=()=>{const l=ji();return l?l.hasAttribute("data-loading"):!1},N0=(l,d)=>{if(l.textContent="",d){const x=new DOMParser().parseFromString(d,"text/html"),A=x.querySelector("head");A&&Array.from(A.childNodes).forEach(O=>{l.appendChild(O)});const N=x.querySelector("body");N&&Array.from(N.childNodes).forEach(O=>{O instanceof HTMLVideoElement||O instanceof HTMLAudioElement?l.appendChild(O.cloneNode(!0)):l.appendChild(O)})}},y2=(l,d)=>{if(!d)return!1;const p=d.split(/\s+/);for(let x=0;x<p.length;x++)if(!l.classList.contains(p[x]))return!1;return!0},mhe=(l,d)=>{Array.from(l.classList).forEach(p=>{!Object.values(yn).includes(p)&&!Object.values(KH).includes(p)&&!Object.values(d.showClass||{}).includes(p)&&l.classList.remove(p)})},D0=(l,d,p)=>{if(mhe(l,d),!d.customClass)return;const x=d.customClass[p];if(x){if(typeof x!="string"&&!x.forEach){gg(`Invalid type of customClass.${p}! Expected string or iterable object, got "${typeof x}"`);return}zi(l,x)}},Sz=(l,d)=>{if(!d)return null;switch(d){case"select":case"textarea":case"file":return l.querySelector(`.${yn.popup} > .${yn[d]}`);case"checkbox":return l.querySelector(`.${yn.popup} > .${yn.checkbox} input`);case"radio":return l.querySelector(`.${yn.popup} > .${yn.radio} input:checked`)||l.querySelector(`.${yn.popup} > .${yn.radio} input:first-child`);case"range":return l.querySelector(`.${yn.popup} > .${yn.range} input`);default:return l.querySelector(`.${yn.popup} > .${yn.input}`)}},tle=l=>{if(l.focus(),l.type!=="file"){const d=l.value;l.value="",l.value=d}},nle=(l,d,p)=>{!l||!d||(typeof d=="string"&&(d=d.split(/\s+/).filter(Boolean)),d.forEach(x=>{Array.isArray(l)?l.forEach(A=>{p?A.classList.add(x):A.classList.remove(x)}):p?l.classList.add(x):l.classList.remove(x)}))},zi=(l,d)=>{nle(l,d,!0)},z1=(l,d)=>{nle(l,d,!1)},MC=(l,d)=>{const p=Array.from(l.children);for(let x=0;x<p.length;x++){const A=p[x];if(A instanceof HTMLElement&&y2(A,d))return A}},DT=(l,d,p)=>{p===`${parseInt(`${p}`)}`&&(p=parseInt(p)),p||parseInt(`${p}`)===0?l.style.setProperty(d,typeof p=="number"?`${p}px`:p):l.style.removeProperty(d)},Xf=(l,d="flex")=>{l&&(l.style.display=d)},yh=l=>{l&&(l.style.display="none")},Ete=(l,d="block")=>{l&&new MutationObserver(()=>{hB(l,l.innerHTML,d)}).observe(l,{childList:!0,subtree:!0})},Xoe=(l,d,p,x)=>{const A=l.querySelector(d);A&&A.style.setProperty(p,x)},hB=(l,d,p="flex")=>{d?Xf(l,p):yh(l)},gp=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),hhe=()=>!gp(Ov())&&!gp(MT())&&!gp(nD()),Nee=l=>l.scrollHeight>l.clientHeight,ghe=(l,d)=>{let p=l;for(;p&&p!==d;){if(Nee(p))return!0;p=p.parentElement}return!1},ole=l=>{const d=window.getComputedStyle(l),p=parseFloat(d.getPropertyValue("animation-duration")||"0"),x=parseFloat(d.getPropertyValue("transition-duration")||"0");return p>0||x>0},Tte=(l,d=!1)=>{const p=wz();p&&gp(p)&&(d&&(p.style.transition="none",p.style.width="100%"),setTimeout(()=>{p.style.transition=`width ${l/1e3}s linear`,p.style.width="0%"},10))},phe=()=>{const l=wz();if(!l)return;const d=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";const p=parseInt(window.getComputedStyle(l).width),x=d/p*100;l.style.width=`${x}%`},bhe=()=>typeof window>"u"||typeof document>"u",yhe=`
 <div aria-labelledby="${yn.title}" aria-describedby="${yn["html-container"]}" class="${yn.popup}" tabindex="-1">
   <button type="button" class="${yn.close}"></button>
   <ul class="${yn["progress-steps"]}"></ul>
   <div class="${yn.icon}"></div>
   <img class="${yn.image}" />
   <h2 class="${yn.title}" id="${yn.title}"></h2>
   <div class="${yn["html-container"]}" id="${yn["html-container"]}"></div>
   <input class="${yn.input}" id="${yn.input}" />
   <input type="file" class="${yn.file}" />
   <div class="${yn.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${yn.select}" id="${yn.select}"></select>
   <div class="${yn.radio}"></div>
   <label class="${yn.checkbox}">
     <input type="checkbox" id="${yn.checkbox}" />
     <span class="${yn.label}"></span>
   </label>
   <textarea class="${yn.textarea}" id="${yn.textarea}"></textarea>
   <div class="${yn["validation-message"]}" id="${yn["validation-message"]}"></div>
   <div class="${yn.actions}">
     <div class="${yn.loader}"></div>
     <button type="button" class="${yn.confirm}"></button>
     <button type="button" class="${yn.deny}"></button>
     <button type="button" class="${yn.cancel}"></button>
   </div>
   <div class="${yn.footer}"></div>
   <div class="${yn["timer-progress-bar-container"]}">
     <div class="${yn["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),vhe=()=>{const l=pg();return l?(l.remove(),z1([document.documentElement,document.body],[yn["no-backdrop"],yn["toast-shown"],yn["has-column"]]),!0):!1},wT=()=>{Rs.currentInstance&&Rs.currentInstance.resetValidationMessage()},xhe=()=>{const l=ji();if(!l)return;const d=MC(l,yn.input),p=MC(l,yn.file),x=l.querySelector(`.${yn.range} input`),A=l.querySelector(`.${yn.range} output`),N=MC(l,yn.select),O=l.querySelector(`.${yn.checkbox} input`),z=MC(l,yn.textarea);d&&(d.oninput=wT),p&&(p.onchange=wT),N&&(N.onchange=wT),O&&(O.onchange=wT),z&&(z.oninput=wT),x&&A&&(x.oninput=()=>{wT(),A.value=x.value},x.onchange=()=>{wT(),A.value=x.value})},whe=l=>{if(typeof l=="string"){const d=document.querySelector(l);if(!d)throw new Error(`Target element "${l}" not found`);return d}return l},Che=l=>{const d=ji();d&&(d.setAttribute("role",l.toast?"alert":"dialog"),d.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||d.setAttribute("aria-modal","true"))},She=l=>{window.getComputedStyle(l).direction==="rtl"&&(zi(pg(),yn.rtl),Rs.isRTL=!0)},Ehe=l=>{const d=vhe();if(bhe()){RT("SweetAlert2 requires document to initialize");return}const p=document.createElement("div");p.className=yn.container,d&&zi(p,yn["no-transition"]),N0(p,yhe),p.dataset.swal2Theme=l.theme;const x=whe(l.target||"body");x.appendChild(p),l.topLayer&&(p.setAttribute("popover",""),p.showPopover()),Che(l),She(x),xhe()},Ate=(l,d)=>{l instanceof HTMLElement?d.appendChild(l):typeof l=="object"?The(l,d):l&&N0(d,l)},The=(l,d)=>{"jquery"in l?Ahe(d,l):N0(d,l.toString())},Ahe=(l,d)=>{if(l.textContent="",0 in d)for(let p=0;p in d;p++)l.appendChild(d[p].cloneNode(!0));else l.appendChild(d.cloneNode(!0))},khe=(l,d)=>{const p=mB(),x=oD();!p||!x||(!d.showConfirmButton&&!d.showDenyButton&&!d.showCancelButton?yh(p):Xf(p),D0(p,d,"actions"),Dhe(p,x,d),N0(x,d.loaderHtml||""),D0(x,d,"loader"))};function Dhe(l,d,p){const x=Ov(),A=MT(),N=nD();!x||!A||!N||(eee(x,"confirm",p),eee(A,"deny",p),eee(N,"cancel",p),_he(x,A,N,p),p.reverseButtons&&(p.toast?(l.insertBefore(N,x),l.insertBefore(A,x)):(l.insertBefore(N,d),l.insertBefore(A,d),l.insertBefore(x,d))))}function _he(l,d,p,x){if(!x.buttonsStyling){z1([l,d,p],yn.styled);return}zi([l,d,p],yn.styled),x.confirmButtonColor&&l.style.setProperty("--swal2-confirm-button-background-color",x.confirmButtonColor),x.denyButtonColor&&d.style.setProperty("--swal2-deny-button-background-color",x.denyButtonColor),x.cancelButtonColor&&p.style.setProperty("--swal2-cancel-button-background-color",x.cancelButtonColor),JJ(l),JJ(d),JJ(p)}function JJ(l){const d=window.getComputedStyle(l);if(d.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const p=d.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");l.style.setProperty("--swal2-action-button-focus-box-shadow",d.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${p}`))}function eee(l,d,p){const x=pte(d);hB(l,p[`show${x}Button`],"inline-block"),N0(l,p[`${d}ButtonText`]||""),l.setAttribute("aria-label",p[`${d}ButtonAriaLabel`]||""),l.className=yn[d],D0(l,p,`${d}Button`)}const Ohe=(l,d)=>{const p=wte();p&&(N0(p,d.closeButtonHtml||""),D0(p,d,"closeButton"),hB(p,d.showCloseButton),p.setAttribute("aria-label",d.closeButtonAriaLabel||""))},Nhe=(l,d)=>{const p=pg();p&&(Rhe(p,d.backdrop),Mhe(p,d.position),Bhe(p,d.grow),D0(p,d,"container"))};function Rhe(l,d){typeof d=="string"?l.style.background=d:d||zi([document.documentElement,document.body],yn["no-backdrop"])}function Mhe(l,d){d&&(d in yn?zi(l,yn[d]):(gg('The "position" parameter is not valid, defaulting to "center"'),zi(l,yn.center)))}function Bhe(l,d){d&&zi(l,yn[`grow-${d}`])}var cc={innerParams:new WeakMap,domCache:new WeakMap};const Lhe=["input","file","range","select","radio","checkbox","textarea"],Phe=(l,d)=>{const p=ji();if(!p)return;const x=cc.innerParams.get(l),A=!x||d.input!==x.input;Lhe.forEach(N=>{const O=MC(p,yn[N]);O&&(Ihe(N,d.inputAttributes),O.className=yn[N],A&&yh(O))}),d.input&&(A&&Fhe(d),Hhe(d))},Fhe=l=>{if(!l.input)return;if(!hd[l.input]){RT(`Unexpected type of input! Expected ${Object.keys(hd).join(" | ")}, got "${l.input}"`);return}const d=sle(l.input);if(!d)return;const p=hd[l.input](d,l);Xf(d),l.inputAutoFocus&&setTimeout(()=>{tle(p)})},$he=l=>{for(let d=0;d<l.attributes.length;d++){const p=l.attributes[d].name;["id","type","value","style"].includes(p)||l.removeAttribute(p)}},Ihe=(l,d)=>{const p=ji();if(!p)return;const x=Sz(p,l);if(x){$he(x);for(const A in d)x.setAttribute(A,d[A])}},Hhe=l=>{if(!l.input)return;const d=sle(l.input);d&&D0(d,l,"input")},kte=(l,d)=>{!l.placeholder&&d.inputPlaceholder&&(l.placeholder=d.inputPlaceholder)},gB=(l,d,p)=>{if(p.inputLabel){const x=document.createElement("label"),A=yn["input-label"];x.setAttribute("for",l.id),x.className=A,typeof p.customClass=="object"&&zi(x,p.customClass.inputLabel),x.innerText=p.inputLabel,d.insertAdjacentElement("beforebegin",x)}},sle=l=>{const d=ji();if(d)return MC(d,yn[l]||yn.input)},YH=(l,d)=>{["string","number"].includes(typeof d)?l.value=`${d}`:yte(d)||gg(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof d}"`)},hd={};hd.text=hd.email=hd.password=hd.number=hd.tel=hd.url=hd.search=hd.date=hd["datetime-local"]=hd.time=hd.week=hd.month=(l,d)=>{const p=l;return YH(p,d.inputValue),gB(p,p,d),kte(p,d),p.type=d.input,p};hd.file=(l,d)=>{const p=l;return gB(p,p,d),kte(p,d),p};hd.range=(l,d)=>{const p=l,x=p.querySelector("input"),A=p.querySelector("output");return x&&(YH(x,d.inputValue),x.type=d.input,gB(x,l,d)),A&&YH(A,d.inputValue),l};hd.select=(l,d)=>{const p=l;if(p.textContent="",d.inputPlaceholder){const x=document.createElement("option");N0(x,d.inputPlaceholder),x.value="",x.disabled=!0,x.selected=!0,p.appendChild(x)}return gB(p,p,d),p};hd.radio=l=>{const d=l;return d.textContent="",l};hd.checkbox=(l,d)=>{const p=ji();if(!p)throw new Error("Popup not found");const x=Sz(p,"checkbox");if(!x)throw new Error("Checkbox input not found");x.value="1",x.checked=!!d.inputValue;const N=l.querySelector("span");if(N){const O=d.inputPlaceholder||d.inputLabel;O&&N0(N,O)}return x};hd.textarea=(l,d)=>{const p=l;YH(p,d.inputValue),kte(p,d),gB(p,p,d);const x=A=>parseInt(window.getComputedStyle(A).marginLeft)+parseInt(window.getComputedStyle(A).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const A=ji();if(!A)return;const N=parseInt(window.getComputedStyle(A).width),O=()=>{if(!document.body.contains(p))return;const z=p.offsetWidth+x(p),U=ji();U&&(z>N?U.style.width=`${z}px`:DT(U,"width",d.width))};new MutationObserver(O).observe(p,{attributes:!0,attributeFilter:["style"]})}}),p};const zhe=(l,d)=>{const p=vte();p&&(Ete(p),D0(p,d,"htmlContainer"),d.html?(Ate(d.html,p),Xf(p,"block")):d.text?(p.textContent=d.text,Xf(p,"block")):yh(p),Phe(l,d))},jhe=(l,d)=>{const p=ele();p&&(Ete(p),hB(p,!!d.footer,"block"),d.footer&&Ate(d.footer,p),D0(p,d,"footer"))},Vhe=(l,d)=>{const p=cc.innerParams.get(l),x=tD();if(!x)return;if(p&&d.icon===p.icon){Joe(x,d),Qoe(x,d);return}if(!d.icon&&!d.iconHtml){yh(x);return}if(d.icon&&Object.keys(KH).indexOf(d.icon)===-1){RT(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${d.icon}"`),yh(x);return}Xf(x),Joe(x,d),Qoe(x,d),zi(x,d.showClass&&d.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",rle)},Qoe=(l,d)=>{for(const[p,x]of Object.entries(KH))d.icon!==p&&z1(l,x);zi(l,d.icon&&KH[d.icon]),Whe(l,d),rle(),D0(l,d,"icon")},rle=()=>{const l=ji();if(!l)return;const d=window.getComputedStyle(l).getPropertyValue("background-color"),p=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let x=0;x<p.length;x++)p[x].style.backgroundColor=d},Uhe=l=>`
  ${l.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${l.animation?'<div class="swal2-success-fix"></div>':""}
  ${l.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,Zhe=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Joe=(l,d)=>{if(!d.icon&&!d.iconHtml)return;let p=l.innerHTML,x="";d.iconHtml?x=ese(d.iconHtml):d.icon==="success"?(x=Uhe(d),p=p.replace(/ style=".*?"/g,"")):d.icon==="error"?x=Zhe:d.icon&&(x=ese({question:"?",warning:"!",info:"i"}[d.icon])),p.trim()!==x.trim()&&N0(l,x)},Whe=(l,d)=>{if(d.iconColor){l.style.color=d.iconColor,l.style.borderColor=d.iconColor;for(const p of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Xoe(l,p,"background-color",d.iconColor);Xoe(l,".swal2-success-ring","border-color",d.iconColor)}},ese=l=>`<div class="${yn["icon-content"]}">${l}</div>`,qhe=(l,d)=>{const p=Jie();if(p){if(!d.imageUrl){yh(p);return}Xf(p,""),p.setAttribute("src",d.imageUrl),p.setAttribute("alt",d.imageAlt||""),DT(p,"width",d.imageWidth),DT(p,"height",d.imageHeight),p.className=yn.image,D0(p,d,"image")}};let Dte=!1,ale=0,ile=0,lle=0,cle=0;const Ghe=l=>{l.addEventListener("mousedown",XH),document.body.addEventListener("mousemove",QH),l.addEventListener("mouseup",JH),l.addEventListener("touchstart",XH),document.body.addEventListener("touchmove",QH),l.addEventListener("touchend",JH)},Khe=l=>{l.removeEventListener("mousedown",XH),document.body.removeEventListener("mousemove",QH),l.removeEventListener("mouseup",JH),l.removeEventListener("touchstart",XH),document.body.removeEventListener("touchmove",QH),l.removeEventListener("touchend",JH)},XH=l=>{const d=ji();if(!d)return;const p=tD();if(l.target===d||p&&p.contains(l.target)){Dte=!0;const x=ule(l);ale=x.clientX,ile=x.clientY,lle=parseInt(d.style.insetInlineStart)||0,cle=parseInt(d.style.insetBlockStart)||0,zi(d,"swal2-dragging")}},QH=l=>{const d=ji();if(d&&Dte){let{clientX:p,clientY:x}=ule(l);const A=p-ale;d.style.insetInlineStart=`${lle+(Rs.isRTL?-A:A)}px`,d.style.insetBlockStart=`${cle+(x-ile)}px`}},JH=()=>{const l=ji();Dte=!1,z1(l,"swal2-dragging")},ule=l=>{let d=0,p=0;return l.type.startsWith("mouse")?(d=l.clientX,p=l.clientY):l.type.startsWith("touch")&&(d=l.touches[0].clientX,p=l.touches[0].clientY),{clientX:d,clientY:p}},Yhe=(l,d)=>{const p=pg(),x=ji();if(!(!p||!x)){if(d.toast){DT(p,"width",d.width),x.style.width="100%";const A=oD();A&&x.insertBefore(A,tD())}else DT(x,"width",d.width);DT(x,"padding",d.padding),d.color&&(x.style.color=d.color),d.background&&(x.style.background=d.background),yh(xz()),Xhe(x,d),d.draggable&&!d.toast?(zi(x,yn.draggable),Ghe(x)):(z1(x,yn.draggable),Khe(x))}},Xhe=(l,d)=>{const p=d.showClass||{};l.className=`${yn.popup} ${gp(l)?p.popup:""}`,d.toast?(zi([document.documentElement,document.body],yn["toast-shown"]),zi(l,yn.toast)):zi(l,yn.modal),D0(l,d,"popup"),typeof d.customClass=="string"&&zi(l,d.customClass),d.icon&&zi(l,yn[`icon-${d.icon}`])},Qhe=(l,d)=>{const p=xte();if(!p)return;const{progressSteps:x,currentProgressStep:A}=d;if(!x||x.length===0||A===void 0){yh(p);return}Xf(p),p.textContent="",A>=x.length&&gg("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),x.forEach((N,O)=>{const z=Jhe(N);if(p.appendChild(z),O===A&&zi(z,yn["active-progress-step"]),O!==x.length-1){const U=ege(d);p.appendChild(U)}})},Jhe=l=>{const d=document.createElement("li");return zi(d,yn["progress-step"]),N0(d,l),d},ege=l=>{const d=document.createElement("li");return zi(d,yn["progress-step-line"]),l.progressStepsDistance&&DT(d,"width",l.progressStepsDistance),d},tge=(l,d)=>{const p=Qie();p&&(Ete(p),hB(p,!!(d.title||d.titleText),"block"),d.title&&Ate(d.title,p),d.titleText&&(p.innerText=d.titleText),D0(p,d,"title"))},dle=(l,d)=>{var p;Yhe(l,d),Nhe(l,d),Qhe(l,d),Vhe(l,d),qhe(l,d),tge(l,d),Ohe(l,d),zhe(l,d),khe(l,d),jhe(l,d);const x=ji();typeof d.didRender=="function"&&x&&d.didRender(x),(p=Rs.eventEmitter)===null||p===void 0||p.emit("didRender",x)},nge=()=>gp(ji()),fle=()=>{var l;return(l=Ov())===null||l===void 0?void 0:l.click()},oge=()=>{var l;return(l=MT())===null||l===void 0?void 0:l.click()},sge=()=>{var l;return(l=nD())===null||l===void 0?void 0:l.click()},sD=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),mle=l=>{if(l.keydownTarget&&l.keydownHandlerAdded&&l.keydownHandler){const d=l.keydownHandler;l.keydownTarget.removeEventListener("keydown",d,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1}},rge=(l,d,p)=>{if(mle(l),!d.toast){const x=N=>ige(d,N,p);l.keydownHandler=x;const A=d.keydownListenerCapture?window:ji();if(A){l.keydownTarget=A,l.keydownListenerCapture=d.keydownListenerCapture;const N=x;l.keydownTarget.addEventListener("keydown",N,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0}}},Ree=(l,d)=>{var p;const x=Cte();if(x.length){l=l+d,l===-2&&(l=x.length-1),l===x.length?l=0:l===-1&&(l=x.length-1),x[l].focus();return}(p=ji())===null||p===void 0||p.focus()},hle=["ArrowRight","ArrowDown"],age=["ArrowLeft","ArrowUp"],ige=(l,d,p)=>{l&&(d.isComposing||d.keyCode===229||(l.stopKeydownPropagation&&d.stopPropagation(),d.key==="Enter"?lge(d,l):d.key==="Tab"?cge(d):[...hle,...age].includes(d.key)?uge(d.key):d.key==="Escape"&&dge(d,l,p)))},lge=(l,d)=>{if(!vz(d.allowEnterKey))return;const p=ji();if(!p||!d.input)return;const x=Sz(p,d.input);if(l.target&&x&&l.target instanceof HTMLElement&&l.target.outerHTML===x.outerHTML){if(["textarea","file"].includes(d.input))return;fle(),l.preventDefault()}},cge=l=>{const d=l.target,p=Cte();let x=-1;for(let A=0;A<p.length;A++)if(d===p[A]){x=A;break}l.shiftKey?Ree(x,-1):Ree(x,1),l.stopPropagation(),l.preventDefault()},uge=l=>{const d=mB(),p=Ov(),x=MT(),A=nD();if(!d||!p||!x||!A)return;const N=[p,x,A];if(document.activeElement instanceof HTMLElement&&!N.includes(document.activeElement))return;const O=hle.includes(l)?"nextElementSibling":"previousElementSibling";let z=document.activeElement;if(z){for(let U=0;U<d.children.length;U++){if(z=z[O],!z)return;if(z instanceof HTMLButtonElement&&gp(z))break}z instanceof HTMLButtonElement&&z.focus()}},dge=(l,d,p)=>{l.preventDefault(),vz(d.allowEscapeKey)&&p(sD.esc)};var W3={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const fge=()=>{const l=pg();Array.from(document.body.children).forEach(p=>{p.contains(l)||(p.hasAttribute("aria-hidden")&&p.setAttribute("data-previous-aria-hidden",p.getAttribute("aria-hidden")||""),p.setAttribute("aria-hidden","true"))})},gle=()=>{Array.from(document.body.children).forEach(d=>{d.hasAttribute("data-previous-aria-hidden")?(d.setAttribute("aria-hidden",d.getAttribute("data-previous-aria-hidden")||""),d.removeAttribute("data-previous-aria-hidden")):d.removeAttribute("aria-hidden")})},ple=typeof window<"u"&&!!window.GestureEvent,mge=()=>{if(ple&&!y2(document.body,yn.iosfix)){const l=document.body.scrollTop;document.body.style.top=`${l*-1}px`,zi(document.body,yn.iosfix),hge()}},hge=()=>{const l=pg();if(!l)return;let d;l.ontouchstart=p=>{d=gge(p)},l.ontouchmove=p=>{d&&(p.preventDefault(),p.stopPropagation())}},gge=l=>{const d=l.target,p=pg(),x=vte();return!p||!x||pge(l)||bge(l)?!1:d===p||!Nee(p)&&d instanceof HTMLElement&&!ghe(d,x)&&d.tagName!=="INPUT"&&d.tagName!=="TEXTAREA"&&!(Nee(x)&&x.contains(d))},pge=l=>!!(l.touches&&l.touches.length&&l.touches[0].touchType==="stylus"),bge=l=>l.touches&&l.touches.length>1,yge=()=>{if(y2(document.body,yn.iosfix)){const l=parseInt(document.body.style.top,10);z1(document.body,yn.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},vge=()=>{const l=document.createElement("div");l.className=yn["scrollbar-measure"],document.body.appendChild(l);const d=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),d};let V3=null;const xge=l=>{V3===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(V3=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${V3+vge()}px`)},wge=()=>{V3!==null&&(document.body.style.paddingRight=`${V3}px`,V3=null)};function ble(l,d,p,x){Cz()?tse(l,x):(rhe(p).then(()=>tse(l,x)),mle(Rs)),ple?(d.setAttribute("style","display:none !important"),d.removeAttribute("class"),d.innerHTML=""):d.remove(),Ste()&&(wge(),yge(),gle()),Cge()}function Cge(){z1([document.documentElement,document.body],[yn.shown,yn["height-auto"],yn["no-backdrop"],yn["toast-shown"]])}function BC(l){l=Ege(l);const d=W3.swalPromiseResolve.get(this),p=Sge(this);this.isAwaitingPromise?l.isDismissed||(pB(this),d(l)):p&&d(l)}const Sge=l=>{const d=ji();if(!d)return!1;const p=cc.innerParams.get(l);if(!p||y2(d,p.hideClass.popup))return!1;z1(d,p.showClass.popup),zi(d,p.hideClass.popup);const x=pg();return z1(x,p.showClass.backdrop),zi(x,p.hideClass.backdrop),Tge(l,d,p),!0};function yle(l){const d=W3.swalPromiseReject.get(this);pB(this),d&&d(l)}const pB=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,cc.innerParams.get(l)||l._destroy())},Ege=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),Tge=(l,d,p)=>{var x;const A=pg(),N=ole(d);typeof p.willClose=="function"&&p.willClose(d),(x=Rs.eventEmitter)===null||x===void 0||x.emit("willClose",d),N&&A?Age(l,d,A,!!p.returnFocus,p.didClose):A&&ble(l,A,!!p.returnFocus,p.didClose)},Age=(l,d,p,x,A)=>{Rs.swalCloseEventFinishedCallback=ble.bind(null,l,p,x,A);const N=function(O){if(O.target===d){var z;(z=Rs.swalCloseEventFinishedCallback)===null||z===void 0||z.call(Rs),delete Rs.swalCloseEventFinishedCallback,d.removeEventListener("animationend",N),d.removeEventListener("transitionend",N)}};d.addEventListener("animationend",N),d.addEventListener("transitionend",N)},tse=(l,d)=>{setTimeout(()=>{var p;typeof d=="function"&&d.bind(l.params)(),(p=Rs.eventEmitter)===null||p===void 0||p.emit("didClose"),l._destroy&&l._destroy()})},q3=l=>{let d=ji();if(d||new yo,d=ji(),!d)return;const p=oD();Cz()?yh(tD()):kge(d,l),Xf(p),d.setAttribute("data-loading","true"),d.setAttribute("aria-busy","true"),d.focus()},kge=(l,d)=>{const p=mB(),x=oD();!p||!x||(!d&&gp(Ov())&&(d=Ov()),Xf(p),d&&(yh(d),x.setAttribute("data-button-to-replace",d.className),p.insertBefore(x,d)),zi([l,p],yn.loading))},Dge=(l,d)=>{d.input==="select"||d.input==="radio"?Mge(l,d):["text","email","number","tel","textarea"].some(p=>p===d.input)&&(bte(d.inputValue)||yte(d.inputValue))&&(q3(Ov()),Bge(l,d))},_ge=(l,d)=>{const p=l.getInput();if(!p)return null;switch(d.input){case"checkbox":return Oge(p);case"radio":return Nge(p);case"file":return Rge(p);default:return d.inputAutoTrim?p.value.trim():p.value}},Oge=l=>l.checked?1:0,Nge=l=>l.checked?l.value:null,Rge=l=>l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,Mge=(l,d)=>{const p=ji();if(!p)return;const x=A=>{d.input==="select"?Lge(p,ez(A),d):d.input==="radio"&&Pge(p,ez(A),d)};bte(d.inputOptions)||yte(d.inputOptions)?(q3(Ov()),dB(d.inputOptions).then(A=>{l.hideLoading(),x(A)})):typeof d.inputOptions=="object"?x(d.inputOptions):RT(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof d.inputOptions}`)},Bge=(l,d)=>{const p=l.getInput();p&&(yh(p),dB(d.inputValue).then(x=>{p.value=d.input==="number"?`${parseFloat(x)||0}`:`${x}`,Xf(p),p.focus(),l.hideLoading()}).catch(x=>{RT(`Error in inputValue promise: ${x}`),p.value="",Xf(p),p.focus(),l.hideLoading()}))};function Lge(l,d,p){const x=MC(l,yn.select);if(!x)return;const A=(N,O,z)=>{const U=document.createElement("option");U.value=z,N0(U,O),U.selected=vle(z,p.inputValue),N.appendChild(U)};d.forEach(N=>{const O=N[0],z=N[1];if(Array.isArray(z)){const U=document.createElement("optgroup");U.label=O,U.disabled=!1,x.appendChild(U),z.forEach(V=>A(U,V[1],V[0]))}else A(x,z,O)}),x.focus()}function Pge(l,d,p){const x=MC(l,yn.radio);if(!x)return;d.forEach(N=>{const O=N[0],z=N[1],U=document.createElement("input"),V=document.createElement("label");U.type="radio",U.name=yn.radio,U.value=O,vle(O,p.inputValue)&&(U.checked=!0);const Y=document.createElement("span");N0(Y,z),Y.className=yn.label,V.appendChild(U),V.appendChild(Y),x.appendChild(V)});const A=x.querySelectorAll("input");A.length&&A[0].focus()}const ez=l=>{const d=[];return l instanceof Map?l.forEach((p,x)=>{let A=p;typeof A=="object"&&(A=ez(A)),d.push([x,A])}):Object.keys(l).forEach(p=>{let x=l[p];typeof x=="object"&&(x=ez(x)),d.push([p,x])}),d},vle=(l,d)=>!!d&&d!==null&&d!==void 0&&d.toString()===l.toString(),Fge=l=>{const d=cc.innerParams.get(l);l.disableButtons(),d.input?xle(l,"confirm"):Ote(l,!0)},$ge=l=>{const d=cc.innerParams.get(l);l.disableButtons(),d.returnInputValueOnDeny?xle(l,"deny"):_te(l,!1)},Ige=(l,d)=>{l.disableButtons(),d(sD.cancel)},xle=(l,d)=>{const p=cc.innerParams.get(l);if(!p.input){RT(`The "input" parameter is needed to be set when using returnInputValueOn${pte(d)}`);return}const x=l.getInput(),A=_ge(l,p);p.inputValidator?Hge(l,A,d):x&&!x.checkValidity()?(l.enableButtons(),l.showValidationMessage(p.validationMessage||x.validationMessage)):d==="deny"?_te(l,A):Ote(l,A)},Hge=(l,d,p)=>{const x=cc.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>dB(x.inputValidator(d,x.validationMessage))).then(N=>{l.enableButtons(),l.enableInput(),N?l.showValidationMessage(N):p==="deny"?_te(l,d):Ote(l,d)})},_te=(l,d)=>{const p=cc.innerParams.get(l);p.showLoaderOnDeny&&q3(MT()),p.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>dB(p.preDeny(d,p.validationMessage))).then(A=>{A===!1?(l.hideLoading(),pB(l)):l.close({isDenied:!0,value:typeof A>"u"?d:A})}).catch(A=>wle(l,A))):l.close({isDenied:!0,value:d})},nse=(l,d)=>{l.close({isConfirmed:!0,value:d})},wle=(l,d)=>{l.rejectPromise(d)},Ote=(l,d)=>{const p=cc.innerParams.get(l);p.showLoaderOnConfirm&&q3(),p.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>dB(p.preConfirm(d,p.validationMessage))).then(A=>{gp(xz())||A===!1?(l.hideLoading(),pB(l)):nse(l,typeof A>"u"?d:A)}).catch(A=>wle(l,A))):nse(l,d)};function tz(){const l=cc.innerParams.get(this);if(!l)return;const d=cc.domCache.get(this);yh(d.loader),Cz()?l.icon&&Xf(tD()):zge(d),z1([d.popup,d.actions],yn.loading),d.popup.removeAttribute("aria-busy"),d.popup.removeAttribute("data-loading"),d.confirmButton.disabled=!1,d.denyButton.disabled=!1,d.cancelButton.disabled=!1}const zge=l=>{const d=l.loader.getAttribute("data-button-to-replace"),p=d?l.popup.getElementsByClassName(d):[];p.length?Xf(p[0],"inline-block"):hhe()&&yh(l.actions)};function Cle(){const l=cc.innerParams.get(this),d=cc.domCache.get(this);return d?Sz(d.popup,l.input):null}function Sle(l,d,p){const x=cc.domCache.get(l);d.forEach(A=>{x[A].disabled=p})}function Ele(l,d){const p=ji();if(!(!p||!l))if(l.type==="radio"){const x=p.querySelectorAll(`[name="${yn.radio}"]`);for(let A=0;A<x.length;A++)x[A].disabled=d}else l.disabled=d}function Tle(){Sle(this,["confirmButton","denyButton","cancelButton"],!1)}function Ale(){Sle(this,["confirmButton","denyButton","cancelButton"],!0)}function kle(){Ele(this.getInput(),!1)}function Dle(){Ele(this.getInput(),!0)}function _le(l){const d=cc.domCache.get(this),p=cc.innerParams.get(this);N0(d.validationMessage,l),d.validationMessage.className=yn["validation-message"],p.customClass&&p.customClass.validationMessage&&zi(d.validationMessage,p.customClass.validationMessage),Xf(d.validationMessage);const x=this.getInput();x&&(x.setAttribute("aria-invalid","true"),x.setAttribute("aria-describedby",yn["validation-message"]),tle(x),zi(x,yn.inputerror))}function Ole(){const l=cc.domCache.get(this);l.validationMessage&&yh(l.validationMessage);const d=this.getInput();d&&(d.removeAttribute("aria-invalid"),d.removeAttribute("aria-describedby"),z1(d,yn.inputerror))}const LC={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},jge=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Vge={allowEnterKey:void 0},Uge=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Nle=l=>Object.prototype.hasOwnProperty.call(LC,l),Rle=l=>jge.indexOf(l)!==-1,Mle=l=>Vge[l],Zge=l=>{Nle(l)||gg(`Unknown parameter "${l}"`)},Wge=l=>{Uge.includes(l)&&gg(`The parameter "${l}" is incompatible with toasts`)},qge=l=>{const d=Mle(l);d&&Xie(l,d)},Ble=l=>{l.backdrop===!1&&l.allowOutsideClick&&gg('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),l.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(l.theme)&&gg(`Invalid theme "${l.theme}"`);for(const d in l)Zge(d),l.toast&&Wge(d),qge(d)};function Lle(l){const d=pg(),p=ji(),x=cc.innerParams.get(this);if(!p||y2(p,x.hideClass.popup)){gg("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const A=Gge(l),N=Object.assign({},x,A);Ble(N),d&&(d.dataset.swal2Theme=N.theme),dle(this,N),cc.innerParams.set(this,N),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}const Gge=l=>{const d={};return Object.keys(l).forEach(p=>{if(Rle(p)){const x=l;d[p]=x[p]}else gg(`Invalid parameter to update: ${p}`)}),d};function Ple(){var l;const d=cc.domCache.get(this),p=cc.innerParams.get(this);if(!p){Fle(this);return}d.popup&&Rs.swalCloseEventFinishedCallback&&(Rs.swalCloseEventFinishedCallback(),delete Rs.swalCloseEventFinishedCallback),typeof p.didDestroy=="function"&&p.didDestroy(),(l=Rs.eventEmitter)===null||l===void 0||l.emit("didDestroy"),Kge(this)}const Kge=l=>{Fle(l),delete l.params,delete Rs.keydownHandler,delete Rs.keydownTarget,delete Rs.currentInstance},Fle=l=>{l.isAwaitingPromise?(tee(cc,l),l.isAwaitingPromise=!0):(tee(W3,l),tee(cc,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},tee=(l,d)=>{for(const p in l)l[p].delete(d)};var Yge=Object.freeze({__proto__:null,_destroy:Ple,close:BC,closeModal:BC,closePopup:BC,closeToast:BC,disableButtons:Ale,disableInput:Dle,disableLoading:tz,enableButtons:Tle,enableInput:kle,getInput:Cle,handleAwaitingPromise:pB,hideLoading:tz,rejectPromise:yle,resetValidationMessage:Ole,showValidationMessage:_le,update:Lle});const Xge=(l,d,p)=>{l.toast?Qge(l,d,p):(epe(d),tpe(d),npe(l,d,p))},Qge=(l,d,p)=>{d.popup.onclick=()=>{l&&(Jge(l)||l.timer||l.input)||p(sD.close)}},Jge=l=>!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton);let nz=!1;const epe=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(d){l.container.onmouseup=()=>{},d.target===l.container&&(nz=!0)}}},tpe=l=>{l.container.onmousedown=d=>{d.target===l.container&&d.preventDefault(),l.popup.onmouseup=function(p){l.popup.onmouseup=()=>{},(p.target===l.popup||p.target instanceof HTMLElement&&l.popup.contains(p.target))&&(nz=!0)}}},npe=(l,d,p)=>{d.container.onclick=x=>{if(nz){nz=!1;return}x.target===d.container&&vz(l.allowOutsideClick)&&p(sD.backdrop)}},ope=l=>typeof l=="object"&&l.jquery,ose=l=>l instanceof Element||ope(l),spe=l=>{const d={};return typeof l[0]=="object"&&!ose(l[0])?Object.assign(d,l[0]):["title","html","icon"].forEach((p,x)=>{const A=l[x];typeof A=="string"||ose(A)?d[p]=A:A!==void 0&&RT(`Unexpected type of ${p}! Expected "string" or "Element", got ${typeof A}`)}),d};function rpe(...l){return new this(...l)}function ape(l){class d extends this{_main(x,A){return super._main(x,Object.assign({},l,A))}}return d}const ipe=()=>Rs.timeout&&Rs.timeout.getTimerLeft(),$le=()=>{if(Rs.timeout)return phe(),Rs.timeout.stop()},Ile=()=>{if(Rs.timeout){const l=Rs.timeout.start();return Tte(l),l}},lpe=()=>{const l=Rs.timeout;return l&&(l.running?$le():Ile())},cpe=l=>{if(Rs.timeout){const d=Rs.timeout.increase(l);return Tte(d,!0),d}},upe=()=>!!(Rs.timeout&&Rs.timeout.isRunning());let sse=!1;const Mee={};function dpe(l="data-swal-template"){Mee[l]=this,sse||(document.body.addEventListener("click",fpe),sse=!0)}const fpe=l=>{for(let d=l.target;d&&d!==document;d=d.parentNode)for(const p in Mee){const x=d.getAttribute&&d.getAttribute(p);if(x){Mee[p].fire({template:x});return}}};class mpe{constructor(){this.events={}}_getHandlersByEventName(d){return typeof this.events[d]>"u"&&(this.events[d]=[]),this.events[d]}on(d,p){const x=this._getHandlersByEventName(d);x.includes(p)||x.push(p)}once(d,p){const x=(...A)=>{this.removeListener(d,x),p.apply(this,A)};this.on(d,x)}emit(d,...p){this._getHandlersByEventName(d).forEach(x=>{try{x.apply(this,p)}catch(A){console.error(A)}})}removeListener(d,p){const x=this._getHandlersByEventName(d),A=x.indexOf(p);A>-1&&x.splice(A,1)}removeAllListeners(d){this.events[d]!==void 0&&(this.events[d].length=0)}reset(){this.events={}}}Rs.eventEmitter=new mpe;const hpe=(l,d)=>{Rs.eventEmitter&&Rs.eventEmitter.on(l,d)},gpe=(l,d)=>{Rs.eventEmitter&&Rs.eventEmitter.once(l,d)},ppe=(l,d)=>{if(Rs.eventEmitter){if(!l){Rs.eventEmitter.reset();return}d?Rs.eventEmitter.removeListener(l,d):Rs.eventEmitter.removeAllListeners(l)}};var bpe=Object.freeze({__proto__:null,argsToParams:spe,bindClickHandler:dpe,clickCancel:sge,clickConfirm:fle,clickDeny:oge,enableLoading:q3,fire:rpe,getActions:mB,getCancelButton:nD,getCloseButton:wte,getConfirmButton:Ov,getContainer:pg,getDenyButton:MT,getFocusableElements:Cte,getFooter:ele,getHtmlContainer:vte,getIcon:tD,getIconContent:che,getImage:Jie,getInputLabel:uhe,getLoader:oD,getPopup:ji,getProgressSteps:xte,getTimerLeft:ipe,getTimerProgressBar:wz,getTitle:Qie,getValidationMessage:xz,increaseTimer:cpe,isDeprecatedParameter:Mle,isLoading:fhe,isTimerRunning:upe,isUpdatableParameter:Rle,isValidParameter:Nle,isVisible:nge,mixin:ape,off:ppe,on:hpe,once:gpe,resumeTimer:Ile,showLoading:q3,stopTimer:$le,toggleTimer:lpe});class ype{constructor(d,p){this.callback=d,this.remaining=p,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(d){const p=this.running;return p&&this.stop(),this.remaining+=d,p&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Hle=["swal-title","swal-html","swal-footer"],vpe=l=>{const d=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!d)return{};const p=d.content;return kpe(p),Object.assign(xpe(p),wpe(p),Cpe(p),Spe(p),Epe(p),Tpe(p),Ape(p,Hle))},xpe=l=>{const d={};return Array.from(l.querySelectorAll("swal-param")).forEach(x=>{NT(x,["name","value"]);const A=x.getAttribute("name"),N=x.getAttribute("value");!A||!N||(A in LC&&typeof LC[A]=="boolean"?d[A]=N!=="false":A in LC&&typeof LC[A]=="object"?d[A]=JSON.parse(N):d[A]=N)}),d},wpe=l=>{const d={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(x=>{const A=x.getAttribute("name"),N=x.getAttribute("value");!A||!N||(d[A]=new Function(`return ${N}`)())}),d},Cpe=l=>{const d={};return Array.from(l.querySelectorAll("swal-button")).forEach(x=>{NT(x,["type","color","aria-label"]);const A=x.getAttribute("type");if(!(!A||!["confirm","cancel","deny"].includes(A))){if(d[`${A}ButtonText`]=x.innerHTML,d[`show${pte(A)}Button`]=!0,x.hasAttribute("color")){const N=x.getAttribute("color");N!==null&&(d[`${A}ButtonColor`]=N)}if(x.hasAttribute("aria-label")){const N=x.getAttribute("aria-label");N!==null&&(d[`${A}ButtonAriaLabel`]=N)}}}),d},Spe=l=>{const d={},p=l.querySelector("swal-image");return p&&(NT(p,["src","width","height","alt"]),p.hasAttribute("src")&&(d.imageUrl=p.getAttribute("src")||void 0),p.hasAttribute("width")&&(d.imageWidth=p.getAttribute("width")||void 0),p.hasAttribute("height")&&(d.imageHeight=p.getAttribute("height")||void 0),p.hasAttribute("alt")&&(d.imageAlt=p.getAttribute("alt")||void 0)),d},Epe=l=>{const d={},p=l.querySelector("swal-icon");return p&&(NT(p,["type","color"]),p.hasAttribute("type")&&(d.icon=p.getAttribute("type")),p.hasAttribute("color")&&(d.iconColor=p.getAttribute("color")),d.iconHtml=p.innerHTML),d},Tpe=l=>{const d={},p=l.querySelector("swal-input");p&&(NT(p,["type","label","placeholder","value"]),d.input=p.getAttribute("type")||"text",p.hasAttribute("label")&&(d.inputLabel=p.getAttribute("label")),p.hasAttribute("placeholder")&&(d.inputPlaceholder=p.getAttribute("placeholder")),p.hasAttribute("value")&&(d.inputValue=p.getAttribute("value")));const x=Array.from(l.querySelectorAll("swal-input-option"));return x.length&&(d.inputOptions={},x.forEach(A=>{NT(A,["value"]);const N=A.getAttribute("value");if(!N)return;const O=A.innerHTML;d.inputOptions[N]=O})),d},Ape=(l,d)=>{const p={};for(const x in d){const A=d[x],N=l.querySelector(A);N&&(NT(N,[]),p[A.replace(/^swal-/,"")]=N.innerHTML.trim())}return p},kpe=l=>{const d=Hle.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(p=>{const x=p.tagName.toLowerCase();d.includes(x)||gg(`Unrecognized element <${x}>`)})},NT=(l,d)=>{Array.from(l.attributes).forEach(p=>{d.indexOf(p.name)===-1&&gg([`Unrecognized attribute "${p.name}" on <${l.tagName.toLowerCase()}>.`,`${d.length?`Allowed attributes are: ${d.join(", ")}`:"To set the value, use HTML within the element."}`])})},zle=10,Dpe=l=>{var d,p;const x=pg(),A=ji();if(!x||!A)return;typeof l.willOpen=="function"&&l.willOpen(A),(d=Rs.eventEmitter)===null||d===void 0||d.emit("willOpen",A);const O=window.getComputedStyle(document.body).overflowY;if(Npe(x,A,l),setTimeout(()=>{_pe(x,A)},zle),Ste()&&(Ope(x,l.scrollbarPadding!==void 0?l.scrollbarPadding:!1,O),fge()),!Cz()&&!Rs.previousActiveElement&&(Rs.previousActiveElement=document.activeElement),typeof l.didOpen=="function"){const z=l.didOpen;setTimeout(()=>z(A))}(p=Rs.eventEmitter)===null||p===void 0||p.emit("didOpen",A)},oz=l=>{const d=ji();if(!d||l.target!==d)return;const p=pg();p&&(d.removeEventListener("animationend",oz),d.removeEventListener("transitionend",oz),p.style.overflowY="auto",z1(p,yn["no-transition"]))},_pe=(l,d)=>{ole(d)?(l.style.overflowY="hidden",d.addEventListener("animationend",oz),d.addEventListener("transitionend",oz)):l.style.overflowY="auto"},Ope=(l,d,p)=>{mge(),d&&p!=="hidden"&&xge(p),setTimeout(()=>{l.scrollTop=0})},Npe=(l,d,p)=>{var x;(x=p.showClass)!==null&&x!==void 0&&x.backdrop&&zi(l,p.showClass.backdrop),p.animation?(d.style.setProperty("opacity","0","important"),Xf(d,"grid"),setTimeout(()=>{var A;(A=p.showClass)!==null&&A!==void 0&&A.popup&&zi(d,p.showClass.popup),d.style.removeProperty("opacity")},zle)):Xf(d,"grid"),zi([document.documentElement,document.body],yn.shown),p.heightAuto&&p.backdrop&&!p.toast&&zi([document.documentElement,document.body],yn["height-auto"])};var rse={email:(l,d)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(l)?Promise.resolve():Promise.resolve(d||"Invalid email address"),url:(l,d)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(d||"Invalid URL")};function Rpe(l){l.inputValidator||(l.input==="email"&&(l.inputValidator=rse.email),l.input==="url"&&(l.inputValidator=rse.url))}function Mpe(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(gg('Target parameter is not valid, defaulting to "body"'),l.target="body")}function Bpe(l){Rpe(l),l.showLoaderOnConfirm&&!l.preConfirm&&gg(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Mpe(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),Ehe(l)}let Dv;var RH=new WeakMap;class pd{constructor(...d){if(the(this,RH,Promise.resolve({isConfirmed:!1,isDenied:!1,isDismissed:!0})),typeof window>"u")return;Dv=this;const p=Object.freeze(this.constructor.argsToParams(d));this.params=p,this.isAwaitingPromise=!1,nhe(RH,this,this._main(Dv.params))}_main(d,p={}){if(Ble(Object.assign({},p,d)),Rs.currentInstance){const N=W3.swalPromiseResolve.get(Rs.currentInstance),{isAwaitingPromise:O}=Rs.currentInstance;Rs.currentInstance._destroy(),O||N({isDismissed:!0}),Ste()&&gle()}Rs.currentInstance=Dv;const x=Ppe(d,p);Bpe(x),Object.freeze(x),Rs.timeout&&(Rs.timeout.stop(),delete Rs.timeout),clearTimeout(Rs.restoreFocusTimeout);const A=Fpe(Dv);return dle(Dv,x),cc.innerParams.set(Dv,x),Lpe(Dv,A,x)}then(d){return Koe(RH,this).then(d)}finally(d){return Koe(RH,this).finally(d)}}const Lpe=(l,d,p)=>new Promise((x,A)=>{const N=O=>{l.close({isDismissed:!0,dismiss:O,isConfirmed:!1,isDenied:!1})};W3.swalPromiseResolve.set(l,x),W3.swalPromiseReject.set(l,A),d.confirmButton.onclick=()=>{Fge(l)},d.denyButton.onclick=()=>{$ge(l)},d.cancelButton.onclick=()=>{Ige(l,N)},d.closeButton.onclick=()=>{N(sD.close)},Xge(p,d,N),rge(Rs,p,N),Dge(l,p),Dpe(p),$pe(Rs,p,N),Ipe(d,p),setTimeout(()=>{d.container.scrollTop=0})}),Ppe=(l,d)=>{const p=vpe(l),x=Object.assign({},LC,d,p,l);return x.showClass=Object.assign({},LC.showClass,x.showClass),x.hideClass=Object.assign({},LC.hideClass,x.hideClass),x.animation===!1&&(x.showClass={backdrop:"swal2-noanimation"},x.hideClass={}),x},Fpe=l=>{const d={popup:ji(),container:pg(),actions:mB(),confirmButton:Ov(),denyButton:MT(),cancelButton:nD(),loader:oD(),closeButton:wte(),validationMessage:xz(),progressSteps:xte()};return cc.domCache.set(l,d),d},$pe=(l,d,p)=>{const x=wz();yh(x),d.timer&&(l.timeout=new ype(()=>{p("timer"),delete l.timeout},d.timer),d.timerProgressBar&&x&&(Xf(x),D0(x,d,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&Tte(d.timer)})))},Ipe=(l,d)=>{if(!d.toast){if(!vz(d.allowEnterKey)){Xie("allowEnterKey"),jpe();return}Hpe(l)||zpe(l,d)||Ree(-1,1)}},Hpe=l=>{const d=Array.from(l.popup.querySelectorAll("[autofocus]"));for(const p of d)if(p instanceof HTMLElement&&gp(p))return p.focus(),!0;return!1},zpe=(l,d)=>d.focusDeny&&gp(l.denyButton)?(l.denyButton.focus(),!0):d.focusCancel&&gp(l.cancelButton)?(l.cancelButton.focus(),!0):d.focusConfirm&&gp(l.confirmButton)?(l.confirmButton.focus(),!0):!1,jpe=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};pd.prototype.disableButtons=Ale;pd.prototype.enableButtons=Tle;pd.prototype.getInput=Cle;pd.prototype.disableInput=Dle;pd.prototype.enableInput=kle;pd.prototype.hideLoading=tz;pd.prototype.disableLoading=tz;pd.prototype.showValidationMessage=_le;pd.prototype.resetValidationMessage=Ole;pd.prototype.close=BC;pd.prototype.closePopup=BC;pd.prototype.closeModal=BC;pd.prototype.closeToast=BC;pd.prototype.rejectPromise=yle;pd.prototype.update=Lle;pd.prototype._destroy=Ple;Object.assign(pd,bpe);Object.keys(Yge).forEach(l=>{pd[l]=function(...d){if(Dv&&Dv[l])return Dv[l](...d)}});pd.DismissReason=sD;pd.version="11.26.17";const yo=pd;yo.default=yo;typeof document<"u"&&(function(l,d){var p=l.createElement("style");if(l.getElementsByTagName("head")[0].appendChild(p),p.styleSheet)p.styleSheet.disabled||(p.styleSheet.cssText=d);else try{p.innerHTML=d}catch{p.innerText=d}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');function Vpe(){const[l,d]=Ze.useState(""),[p,x]=Ze.useState(""),[A,N]=Ze.useState(!1),O=Q3(),z=mz(V=>V.login),U=async V=>{V.preventDefault(),N(!0);try{const Y=await _s.post("/auth.php?action=login",{email:l,password:p});Y.data.success?(z(Y.data.token,Y.data.user),O("/dashboard")):yo.fire("Hata",Y.data.error||"Giri baarsz","error")}catch(Y){yo.fire("Hata",Y.response?.data?.error||"Sunucu hatas","error")}finally{N(!1)}};return B.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:B.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl overflow-hidden",children:[B.jsxs("div",{className:"p-8",children:[B.jsxs("div",{className:"text-center mb-8",children:[B.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-xl flex items-center justify-center mx-auto mb-4",children:B.jsxs("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),B.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Admin Panel Giri"})]}),B.jsxs("form",{onSubmit:U,className:"space-y-6",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"E-posta"}),B.jsx("input",{type:"email",value:l,onChange:V=>d(V.target.value),required:!0,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"admin@example.com"})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"ifre"}),B.jsx("input",{type:"password",value:p,onChange:V=>x(V.target.value),required:!0,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:""})]}),B.jsx("button",{type:"submit",disabled:A,className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:A?"Giri yaplyor...":"Giri Yap"})]})]}),B.jsx("div",{className:"bg-gray-50 px-8 py-4 border-t border-gray-100",children:B.jsx("p",{className:"text-xs text-gray-500 text-center",children:" 2026 Mekan Fotorafs"})})]})})}function Upe(){const[l,d]=Ze.useState(null),[p,x]=Ze.useState(!0);Ze.useEffect(()=>{A()},[]);const A=async()=>{try{const N=await _s.get("/dashboard.php");N.data.success&&d(N.data)}catch(N){console.error("Failed to load dashboard:",N)}finally{x(!1)}};return p?B.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):B.jsxs("div",{className:"space-y-6",children:[B.jsxs("div",{className:"flex justify-between items-center",children:[B.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Dashboard"}),B.jsx("div",{className:"text-xs font-bold text-gray-400 bg-gray-100 px-3 py-1 rounded-full uppercase tracking-widest",children:"Canl zet"})]}),B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[B.jsx(kv,{to:"/services",children:B.jsx(UM,{title:"Aktif Hizmet",value:l?.stats?.services||0,icon:"",color:"blue"})}),B.jsx(kv,{to:"/seo-pages",children:B.jsx(UM,{title:"SEO Sayfas",value:l?.stats?.seo_pages||0,icon:"",color:"green"})}),B.jsx(kv,{to:"/quotes",children:B.jsx(UM,{title:"Toplam Teklif",value:l?.stats?.total_quotes||0,icon:"",color:"purple"})}),B.jsx(kv,{to:"/quotes?filter=new",children:B.jsx(UM,{title:"Yeni Talep",value:l?.stats?.new_quotes||0,icon:"",color:"red"})}),B.jsx(kv,{to:"/freelancers",children:B.jsx(UM,{title:"Freelancer Bavuru",value:l?.stats?.total_freelancers||0,icon:"",color:"amber"})})]}),B.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[B.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm p-8",children:[B.jsxs("div",{className:"flex justify-between items-center mb-6",children:[B.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Son Teklif Talepleri"}),B.jsx(kv,{to:"/quotes",className:"text-xs font-bold text-blue-600 hover:underline px-3 py-1 bg-blue-50 rounded-lg uppercase tracking-wider",children:"Tmn Gr"})]}),B.jsx("div",{className:"overflow-x-auto",children:B.jsxs("table",{className:"w-full",children:[B.jsx("thead",{children:B.jsxs("tr",{className:"text-left border-b border-gray-50",children:[B.jsx("th",{className:"pb-3 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Mteri"}),B.jsx("th",{className:"pb-3 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Hizmet"}),B.jsx("th",{className:"pb-3 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Tarih"})]})}),B.jsxs("tbody",{className:"divide-y divide-gray-50",children:[l?.recent_quotes?.map(N=>B.jsxs("tr",{className:"group hover:bg-gray-50 transition-colors",children:[B.jsxs("td",{className:"py-4",children:[B.jsx("div",{className:"font-bold text-gray-800 text-sm",children:N.name}),B.jsx("div",{className:"text-[10px] text-gray-400",children:N.email})]}),B.jsx("td",{className:"py-4",children:B.jsx("span",{className:"px-2 py-1 bg-slate-100 rounded text-[9px] font-black uppercase text-slate-500",children:N.service||"Genel"})}),B.jsx("td",{className:"py-4 text-[11px] text-gray-500 font-medium",children:new Date(N.created_at).toLocaleDateString("tr-TR")})]},N.id)),(!l?.recent_quotes||l?.recent_quotes.length===0)&&B.jsx("tr",{children:B.jsx("td",{colSpan:"3",className:"py-12 text-center text-gray-300 italic",children:"Henz talep yok."})})]})]})})]}),B.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm p-8",children:[B.jsxs("div",{className:"flex justify-between items-center mb-6",children:[B.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Son Gncellemeler"}),B.jsx(kv,{to:"/pages",className:"text-xs font-bold text-blue-600 hover:underline px-3 py-1 bg-blue-50 rounded-lg uppercase tracking-wider",children:"Tm erik"})]}),B.jsx("div",{className:"space-y-4",children:l?.recent_pages?.map(N=>B.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-2xl transition-colors border border-transparent hover:border-gray-100",children:[B.jsxs("div",{className:"flex items-center gap-4",children:[B.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-100 flex items-center justify-center text-lg",children:N.post_type==="service"?"":""}),B.jsxs("div",{children:[B.jsx("div",{className:"text-sm font-bold text-gray-800",children:N.title}),B.jsx("div",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest",children:N.post_type})]})]}),B.jsx("div",{className:"text-[10px] text-gray-400 font-bold whitespace-nowrap",children:new Date(N.updated_at||N.created_at).toLocaleDateString("tr-TR")})]},N.id))})]})]})]})}function UM({title:l,value:d,icon:p,color:x}){const A={blue:{bg:"bg-blue-50",icon:"bg-blue-500",text:"text-blue-600"},green:{bg:"bg-green-50",icon:"bg-green-500",text:"text-green-600"},purple:{bg:"bg-purple-50",icon:"bg-purple-500",text:"text-purple-600"},red:{bg:"bg-red-50",icon:"bg-red-500",text:"text-red-600"},amber:{bg:"bg-amber-50",icon:"bg-amber-500",text:"text-amber-600"}},N=A[x]||A.blue;return B.jsxs("div",{className:"p-6 rounded-3xl border border-transparent hover:border-gray-200 transition-all bg-white shadow-sm flex items-center justify-between group cursor-pointer active:scale-95",children:[B.jsxs("div",{children:[B.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1 group-hover:text-gray-600 transition-colors",children:l}),B.jsx("p",{className:"text-3xl font-black text-gray-900 tracking-tighter",children:d})]}),B.jsx("div",{className:`w-14 h-14 ${N.icon} rounded-2xl flex items-center justify-center text-2xl shadow-lg shadow-gray-200 group-hover:scale-110 transition-transform`,children:p})]})}const Nte=Ze.createContext({});function Rte(l){const d=Ze.useRef(null);return d.current===null&&(d.current=l()),d.current}const jle=typeof window<"u",Vle=jle?Ze.useLayoutEffect:Ze.useEffect,Ez=Ze.createContext(null);function Mte(l,d){l.indexOf(d)===-1&&l.push(d)}function Bte(l,d){const p=l.indexOf(d);p>-1&&l.splice(p,1)}const Nv=(l,d,p)=>p>d?d:p<l?l:p;let Lte=()=>{};const w2={},Ule=l=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(l);function Zle(l){return typeof l=="object"&&l!==null}const Wle=l=>/^0[^.\s]+$/u.test(l);function Pte(l){let d;return()=>(d===void 0&&(d=l()),d)}const I1=l=>l,Zpe=(l,d)=>p=>d(l(p)),bB=(...l)=>l.reduce(Zpe),eB=(l,d,p)=>{const x=d-l;return x===0?1:(p-l)/x};class Fte{constructor(){this.subscriptions=[]}add(d){return Mte(this.subscriptions,d),()=>Bte(this.subscriptions,d)}notify(d,p,x){const A=this.subscriptions.length;if(A)if(A===1)this.subscriptions[0](d,p,x);else for(let N=0;N<A;N++){const O=this.subscriptions[N];O&&O(d,p,x)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const v2=l=>l*1e3,$1=l=>l/1e3;function qle(l,d){return d?l*(1e3/d):0}const Gle=(l,d,p)=>(((1-3*p+3*d)*l+(3*p-6*d))*l+3*d)*l,Wpe=1e-7,qpe=12;function Gpe(l,d,p,x,A){let N,O,z=0;do O=d+(p-d)/2,N=Gle(O,x,A)-l,N>0?p=O:d=O;while(Math.abs(N)>Wpe&&++z<qpe);return O}function yB(l,d,p,x){if(l===d&&p===x)return I1;const A=N=>Gpe(N,0,1,l,p);return N=>N===0||N===1?N:Gle(A(N),d,x)}const Kle=l=>d=>d<=.5?l(2*d)/2:(2-l(2*(1-d)))/2,Yle=l=>d=>1-l(1-d),Xle=yB(.33,1.53,.69,.99),$te=Yle(Xle),Qle=Kle($te),Jle=l=>(l*=2)<1?.5*$te(l):.5*(2-Math.pow(2,-10*(l-1))),Ite=l=>1-Math.sin(Math.acos(l)),ece=Yle(Ite),tce=Kle(Ite),Kpe=yB(.42,0,1,1),Ype=yB(0,0,.58,1),nce=yB(.42,0,.58,1),Xpe=l=>Array.isArray(l)&&typeof l[0]!="number",oce=l=>Array.isArray(l)&&typeof l[0]=="number",Qpe={linear:I1,easeIn:Kpe,easeInOut:nce,easeOut:Ype,circIn:Ite,circInOut:tce,circOut:ece,backIn:$te,backInOut:Qle,backOut:Xle,anticipate:Jle},Jpe=l=>typeof l=="string",ase=l=>{if(oce(l)){Lte(l.length===4);const[d,p,x,A]=l;return yB(d,p,x,A)}else if(Jpe(l))return Qpe[l];return l},MH=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function e0e(l,d){let p=new Set,x=new Set,A=!1,N=!1;const O=new WeakSet;let z={delta:0,timestamp:0,isProcessing:!1};function U(Y){O.has(Y)&&(V.schedule(Y),l()),Y(z)}const V={schedule:(Y,ee=!1,ue=!1)=>{const be=ue&&A?p:x;return ee&&O.add(Y),be.has(Y)||be.add(Y),Y},cancel:Y=>{x.delete(Y),O.delete(Y)},process:Y=>{if(z=Y,A){N=!0;return}A=!0,[p,x]=[x,p],p.forEach(U),p.clear(),A=!1,N&&(N=!1,V.process(Y))}};return V}const t0e=40;function sce(l,d){let p=!1,x=!0;const A={delta:0,timestamp:0,isProcessing:!1},N=()=>p=!0,O=MH.reduce((J,vt)=>(J[vt]=e0e(N),J),{}),{setup:z,read:U,resolveKeyframes:V,preUpdate:Y,update:ee,preRender:ue,render:Ce,postRender:be}=O,$e=()=>{const J=w2.useManualTiming?A.timestamp:performance.now();p=!1,w2.useManualTiming||(A.delta=x?1e3/60:Math.max(Math.min(J-A.timestamp,t0e),1)),A.timestamp=J,A.isProcessing=!0,z.process(A),U.process(A),V.process(A),Y.process(A),ee.process(A),ue.process(A),Ce.process(A),be.process(A),A.isProcessing=!1,p&&d&&(x=!1,l($e))},pe=()=>{p=!0,x=!0,A.isProcessing||l($e)};return{schedule:MH.reduce((J,vt)=>{const Gt=O[vt];return J[vt]=(Xe,ie=!1,ct=!1)=>(p||pe(),Gt.schedule(Xe,ie,ct)),J},{}),cancel:J=>{for(let vt=0;vt<MH.length;vt++)O[MH[vt]].cancel(J)},state:A,steps:O}}const{schedule:Dc,cancel:FC,state:_m,steps:nee}=sce(typeof requestAnimationFrame<"u"?requestAnimationFrame:I1,!0);let VH;function n0e(){VH=void 0}const mg={now:()=>(VH===void 0&&mg.set(_m.isProcessing||w2.useManualTiming?_m.timestamp:performance.now()),VH),set:l=>{VH=l,queueMicrotask(n0e)}},rce=l=>d=>typeof d=="string"&&d.startsWith(l),ace=rce("--"),o0e=rce("var(--"),Hte=l=>o0e(l)?s0e.test(l.split("/*")[0].trim()):!1,s0e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function ise(l){return typeof l!="string"?!1:l.split("/*")[0].includes("var(--")}const rD={test:l=>typeof l=="number",parse:parseFloat,transform:l=>l},tB={...rD,transform:l=>Nv(0,1,l)},BH={...rD,default:1},KM=l=>Math.round(l*1e5)/1e5,zte=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function r0e(l){return l==null}const a0e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jte=(l,d)=>p=>!!(typeof p=="string"&&a0e.test(p)&&p.startsWith(l)||d&&!r0e(p)&&Object.prototype.hasOwnProperty.call(p,d)),ice=(l,d,p)=>x=>{if(typeof x!="string")return x;const[A,N,O,z]=x.match(zte);return{[l]:parseFloat(A),[d]:parseFloat(N),[p]:parseFloat(O),alpha:z!==void 0?parseFloat(z):1}},i0e=l=>Nv(0,255,l),oee={...rD,transform:l=>Math.round(i0e(l))},TT={test:jte("rgb","red"),parse:ice("red","green","blue"),transform:({red:l,green:d,blue:p,alpha:x=1})=>"rgba("+oee.transform(l)+", "+oee.transform(d)+", "+oee.transform(p)+", "+KM(tB.transform(x))+")"};function l0e(l){let d="",p="",x="",A="";return l.length>5?(d=l.substring(1,3),p=l.substring(3,5),x=l.substring(5,7),A=l.substring(7,9)):(d=l.substring(1,2),p=l.substring(2,3),x=l.substring(3,4),A=l.substring(4,5),d+=d,p+=p,x+=x,A+=A),{red:parseInt(d,16),green:parseInt(p,16),blue:parseInt(x,16),alpha:A?parseInt(A,16)/255:1}}const Bee={test:jte("#"),parse:l0e,transform:TT.transform},vB=l=>({test:d=>typeof d=="string"&&d.endsWith(l)&&d.split(" ").length===1,parse:parseFloat,transform:d=>`${d}${l}`}),RC=vB("deg"),_v=vB("%"),is=vB("px"),c0e=vB("vh"),u0e=vB("vw"),lse={..._v,parse:l=>_v.parse(l)/100,transform:l=>_v.transform(l*100)},$3={test:jte("hsl","hue"),parse:ice("hue","saturation","lightness"),transform:({hue:l,saturation:d,lightness:p,alpha:x=1})=>"hsla("+Math.round(l)+", "+_v.transform(KM(d))+", "+_v.transform(KM(p))+", "+KM(tB.transform(x))+")"},Gd={test:l=>TT.test(l)||Bee.test(l)||$3.test(l),parse:l=>TT.test(l)?TT.parse(l):$3.test(l)?$3.parse(l):Bee.parse(l),transform:l=>typeof l=="string"?l:l.hasOwnProperty("red")?TT.transform(l):$3.transform(l),getAnimatableNone:l=>{const d=Gd.parse(l);return d.alpha=0,Gd.transform(d)}},d0e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function f0e(l){return isNaN(l)&&typeof l=="string"&&(l.match(zte)?.length||0)+(l.match(d0e)?.length||0)>0}const lce="number",cce="color",m0e="var",h0e="var(",cse="${}",g0e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nB(l){const d=l.toString(),p=[],x={color:[],number:[],var:[]},A=[];let N=0;const z=d.replace(g0e,U=>(Gd.test(U)?(x.color.push(N),A.push(cce),p.push(Gd.parse(U))):U.startsWith(h0e)?(x.var.push(N),A.push(m0e),p.push(U)):(x.number.push(N),A.push(lce),p.push(parseFloat(U))),++N,cse)).split(cse);return{values:p,split:z,indexes:x,types:A}}function uce(l){return nB(l).values}function dce(l){const{split:d,types:p}=nB(l),x=d.length;return A=>{let N="";for(let O=0;O<x;O++)if(N+=d[O],A[O]!==void 0){const z=p[O];z===lce?N+=KM(A[O]):z===cce?N+=Gd.transform(A[O]):N+=A[O]}return N}}const p0e=l=>typeof l=="number"?0:Gd.test(l)?Gd.getAnimatableNone(l):l;function b0e(l){const d=uce(l);return dce(l)(d.map(p0e))}const $C={test:f0e,parse:uce,createTransformer:dce,getAnimatableNone:b0e};function see(l,d,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?l+(d-l)*6*p:p<1/2?d:p<2/3?l+(d-l)*(2/3-p)*6:l}function y0e({hue:l,saturation:d,lightness:p,alpha:x}){l/=360,d/=100,p/=100;let A=0,N=0,O=0;if(!d)A=N=O=p;else{const z=p<.5?p*(1+d):p+d-p*d,U=2*p-z;A=see(U,z,l+1/3),N=see(U,z,l),O=see(U,z,l-1/3)}return{red:Math.round(A*255),green:Math.round(N*255),blue:Math.round(O*255),alpha:x}}function sz(l,d){return p=>p>0?d:l}const xu=(l,d,p)=>l+(d-l)*p,ree=(l,d,p)=>{const x=l*l,A=p*(d*d-x)+x;return A<0?0:Math.sqrt(A)},v0e=[Bee,TT,$3],x0e=l=>v0e.find(d=>d.test(l));function use(l){const d=x0e(l);if(!d)return!1;let p=d.parse(l);return d===$3&&(p=y0e(p)),p}const dse=(l,d)=>{const p=use(l),x=use(d);if(!p||!x)return sz(l,d);const A={...p};return N=>(A.red=ree(p.red,x.red,N),A.green=ree(p.green,x.green,N),A.blue=ree(p.blue,x.blue,N),A.alpha=xu(p.alpha,x.alpha,N),TT.transform(A))},Lee=new Set(["none","hidden"]);function w0e(l,d){return Lee.has(l)?p=>p<=0?l:d:p=>p>=1?d:l}function C0e(l,d){return p=>xu(l,d,p)}function Vte(l){return typeof l=="number"?C0e:typeof l=="string"?Hte(l)?sz:Gd.test(l)?dse:T0e:Array.isArray(l)?fce:typeof l=="object"?Gd.test(l)?dse:S0e:sz}function fce(l,d){const p=[...l],x=p.length,A=l.map((N,O)=>Vte(N)(N,d[O]));return N=>{for(let O=0;O<x;O++)p[O]=A[O](N);return p}}function S0e(l,d){const p={...l,...d},x={};for(const A in p)l[A]!==void 0&&d[A]!==void 0&&(x[A]=Vte(l[A])(l[A],d[A]));return A=>{for(const N in x)p[N]=x[N](A);return p}}function E0e(l,d){const p=[],x={color:0,var:0,number:0};for(let A=0;A<d.values.length;A++){const N=d.types[A],O=l.indexes[N][x[N]],z=l.values[O]??0;p[A]=z,x[N]++}return p}const T0e=(l,d)=>{const p=$C.createTransformer(d),x=nB(l),A=nB(d);return x.indexes.var.length===A.indexes.var.length&&x.indexes.color.length===A.indexes.color.length&&x.indexes.number.length>=A.indexes.number.length?Lee.has(l)&&!A.values.length||Lee.has(d)&&!x.values.length?w0e(l,d):bB(fce(E0e(x,A),A.values),p):sz(l,d)};function mce(l,d,p){return typeof l=="number"&&typeof d=="number"&&typeof p=="number"?xu(l,d,p):Vte(l)(l,d)}const A0e=l=>{const d=({timestamp:p})=>l(p);return{start:(p=!0)=>Dc.update(d,p),stop:()=>FC(d),now:()=>_m.isProcessing?_m.timestamp:mg.now()}},hce=(l,d,p=10)=>{let x="";const A=Math.max(Math.round(d/p),2);for(let N=0;N<A;N++)x+=Math.round(l(N/(A-1))*1e4)/1e4+", ";return`linear(${x.substring(0,x.length-2)})`},rz=2e4;function Ute(l){let d=0;const p=50;let x=l.next(d);for(;!x.done&&d<rz;)d+=p,x=l.next(d);return d>=rz?1/0:d}function k0e(l,d=100,p){const x=p({...l,keyframes:[0,d]}),A=Math.min(Ute(x),rz);return{type:"keyframes",ease:N=>x.next(A*N).value/d,duration:$1(A)}}const D0e=5;function gce(l,d,p){const x=Math.max(d-D0e,0);return qle(p-l(x),d-x)}const ju={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},aee=.001;function _0e({duration:l=ju.duration,bounce:d=ju.bounce,velocity:p=ju.velocity,mass:x=ju.mass}){let A,N,O=1-d;O=Nv(ju.minDamping,ju.maxDamping,O),l=Nv(ju.minDuration,ju.maxDuration,$1(l)),O<1?(A=V=>{const Y=V*O,ee=Y*l,ue=Y-p,Ce=Pee(V,O),be=Math.exp(-ee);return aee-ue/Ce*be},N=V=>{const ee=V*O*l,ue=ee*p+p,Ce=Math.pow(O,2)*Math.pow(V,2)*l,be=Math.exp(-ee),$e=Pee(Math.pow(V,2),O);return(-A(V)+aee>0?-1:1)*((ue-Ce)*be)/$e}):(A=V=>{const Y=Math.exp(-V*l),ee=(V-p)*l+1;return-aee+Y*ee},N=V=>{const Y=Math.exp(-V*l),ee=(p-V)*(l*l);return Y*ee});const z=5/l,U=N0e(A,N,z);if(l=v2(l),isNaN(U))return{stiffness:ju.stiffness,damping:ju.damping,duration:l};{const V=Math.pow(U,2)*x;return{stiffness:V,damping:O*2*Math.sqrt(x*V),duration:l}}}const O0e=12;function N0e(l,d,p){let x=p;for(let A=1;A<O0e;A++)x=x-l(x)/d(x);return x}function Pee(l,d){return l*Math.sqrt(1-d*d)}const R0e=["duration","bounce"],M0e=["stiffness","damping","mass"];function fse(l,d){return d.some(p=>l[p]!==void 0)}function B0e(l){let d={velocity:ju.velocity,stiffness:ju.stiffness,damping:ju.damping,mass:ju.mass,isResolvedFromDuration:!1,...l};if(!fse(l,M0e)&&fse(l,R0e))if(l.visualDuration){const p=l.visualDuration,x=2*Math.PI/(p*1.2),A=x*x,N=2*Nv(.05,1,1-(l.bounce||0))*Math.sqrt(A);d={...d,mass:ju.mass,stiffness:A,damping:N}}else{const p=_0e(l);d={...d,...p,mass:ju.mass},d.isResolvedFromDuration=!0}return d}function az(l=ju.visualDuration,d=ju.bounce){const p=typeof l!="object"?{visualDuration:l,keyframes:[0,1],bounce:d}:l;let{restSpeed:x,restDelta:A}=p;const N=p.keyframes[0],O=p.keyframes[p.keyframes.length-1],z={done:!1,value:N},{stiffness:U,damping:V,mass:Y,duration:ee,velocity:ue,isResolvedFromDuration:Ce}=B0e({...p,velocity:-$1(p.velocity||0)}),be=ue||0,$e=V/(2*Math.sqrt(U*Y)),pe=O-N,it=$1(Math.sqrt(U/Y)),Se=Math.abs(pe)<5;x||(x=Se?ju.restSpeed.granular:ju.restSpeed.default),A||(A=Se?ju.restDelta.granular:ju.restDelta.default);let J;if($e<1){const Gt=Pee(it,$e);J=Xe=>{const ie=Math.exp(-$e*it*Xe);return O-ie*((be+$e*it*pe)/Gt*Math.sin(Gt*Xe)+pe*Math.cos(Gt*Xe))}}else if($e===1)J=Gt=>O-Math.exp(-it*Gt)*(pe+(be+it*pe)*Gt);else{const Gt=it*Math.sqrt($e*$e-1);J=Xe=>{const ie=Math.exp(-$e*it*Xe),ct=Math.min(Gt*Xe,300);return O-ie*((be+$e*it*pe)*Math.sinh(ct)+Gt*pe*Math.cosh(ct))/Gt}}const vt={calculatedDuration:Ce&&ee||null,next:Gt=>{const Xe=J(Gt);if(Ce)z.done=Gt>=ee;else{let ie=Gt===0?be:0;$e<1&&(ie=Gt===0?v2(be):gce(J,Gt,Xe));const ct=Math.abs(ie)<=x,xn=Math.abs(O-Xe)<=A;z.done=ct&&xn}return z.value=z.done?O:Xe,z},toString:()=>{const Gt=Math.min(Ute(vt),rz),Xe=hce(ie=>vt.next(Gt*ie).value,Gt,30);return Gt+"ms "+Xe},toTransition:()=>{}};return vt}az.applyToOptions=l=>{const d=k0e(l,100,az);return l.ease=d.ease,l.duration=v2(d.duration),l.type="keyframes",l};function Fee({keyframes:l,velocity:d=0,power:p=.8,timeConstant:x=325,bounceDamping:A=10,bounceStiffness:N=500,modifyTarget:O,min:z,max:U,restDelta:V=.5,restSpeed:Y}){const ee=l[0],ue={done:!1,value:ee},Ce=ct=>z!==void 0&&ct<z||U!==void 0&&ct>U,be=ct=>z===void 0?U:U===void 0||Math.abs(z-ct)<Math.abs(U-ct)?z:U;let $e=p*d;const pe=ee+$e,it=O===void 0?pe:O(pe);it!==pe&&($e=it-ee);const Se=ct=>-$e*Math.exp(-ct/x),J=ct=>it+Se(ct),vt=ct=>{const xn=Se(ct),fn=J(ct);ue.done=Math.abs(xn)<=V,ue.value=ue.done?it:fn};let Gt,Xe;const ie=ct=>{Ce(ue.value)&&(Gt=ct,Xe=az({keyframes:[ue.value,be(ue.value)],velocity:gce(J,ct,ue.value),damping:A,stiffness:N,restDelta:V,restSpeed:Y}))};return ie(0),{calculatedDuration:null,next:ct=>{let xn=!1;return!Xe&&Gt===void 0&&(xn=!0,vt(ct),ie(ct)),Gt!==void 0&&ct>=Gt?Xe.next(ct-Gt):(!xn&&vt(ct),ue)}}}function L0e(l,d,p){const x=[],A=p||w2.mix||mce,N=l.length-1;for(let O=0;O<N;O++){let z=A(l[O],l[O+1]);if(d){const U=Array.isArray(d)?d[O]||I1:d;z=bB(U,z)}x.push(z)}return x}function P0e(l,d,{clamp:p=!0,ease:x,mixer:A}={}){const N=l.length;if(Lte(N===d.length),N===1)return()=>d[0];if(N===2&&d[0]===d[1])return()=>d[1];const O=l[0]===l[1];l[0]>l[N-1]&&(l=[...l].reverse(),d=[...d].reverse());const z=L0e(d,x,A),U=z.length,V=Y=>{if(O&&Y<l[0])return d[0];let ee=0;if(U>1)for(;ee<l.length-2&&!(Y<l[ee+1]);ee++);const ue=eB(l[ee],l[ee+1],Y);return z[ee](ue)};return p?Y=>V(Nv(l[0],l[N-1],Y)):V}function F0e(l,d){const p=l[l.length-1];for(let x=1;x<=d;x++){const A=eB(0,d,x);l.push(xu(p,1,A))}}function $0e(l){const d=[0];return F0e(d,l.length-1),d}function I0e(l,d){return l.map(p=>p*d)}function H0e(l,d){return l.map(()=>d||nce).splice(0,l.length-1)}function YM({duration:l=300,keyframes:d,times:p,ease:x="easeInOut"}){const A=Xpe(x)?x.map(ase):ase(x),N={done:!1,value:d[0]},O=I0e(p&&p.length===d.length?p:$0e(d),l),z=P0e(O,d,{ease:Array.isArray(A)?A:H0e(d,A)});return{calculatedDuration:l,next:U=>(N.value=z(U),N.done=U>=l,N)}}const z0e=l=>l!==null;function Zte(l,{repeat:d,repeatType:p="loop"},x,A=1){const N=l.filter(z0e),z=A<0||d&&p!=="loop"&&d%2===1?0:N.length-1;return!z||x===void 0?N[z]:x}const j0e={decay:Fee,inertia:Fee,tween:YM,keyframes:YM,spring:az};function pce(l){typeof l.type=="string"&&(l.type=j0e[l.type])}class Wte{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(d=>{this.resolve=d})}notifyFinished(){this.resolve()}then(d,p){return this.finished.then(d,p)}}const V0e=l=>l/100;class qte extends Wte{constructor(d){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:p}=this.options;p&&p.updatedAt!==mg.now()&&this.tick(mg.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=d,this.initAnimation(),this.play(),d.autoplay===!1&&this.pause()}initAnimation(){const{options:d}=this;pce(d);const{type:p=YM,repeat:x=0,repeatDelay:A=0,repeatType:N,velocity:O=0}=d;let{keyframes:z}=d;const U=p||YM;U!==YM&&typeof z[0]!="number"&&(this.mixKeyframes=bB(V0e,mce(z[0],z[1])),z=[0,100]);const V=U({...d,keyframes:z});N==="mirror"&&(this.mirroredGenerator=U({...d,keyframes:[...z].reverse(),velocity:-O})),V.calculatedDuration===null&&(V.calculatedDuration=Ute(V));const{calculatedDuration:Y}=V;this.calculatedDuration=Y,this.resolvedDuration=Y+A,this.totalDuration=this.resolvedDuration*(x+1)-A,this.generator=V}updateTime(d){const p=Math.round(d-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=p}tick(d,p=!1){const{generator:x,totalDuration:A,mixKeyframes:N,mirroredGenerator:O,resolvedDuration:z,calculatedDuration:U}=this;if(this.startTime===null)return x.next(0);const{delay:V=0,keyframes:Y,repeat:ee,repeatType:ue,repeatDelay:Ce,type:be,onUpdate:$e,finalKeyframe:pe}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,d):this.speed<0&&(this.startTime=Math.min(d-A/this.speed,this.startTime)),p?this.currentTime=d:this.updateTime(d);const it=this.currentTime-V*(this.playbackSpeed>=0?1:-1),Se=this.playbackSpeed>=0?it<0:it>A;this.currentTime=Math.max(it,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=A);let J=this.currentTime,vt=x;if(ee){const ct=Math.min(this.currentTime,A)/z;let xn=Math.floor(ct),fn=ct%1;!fn&&ct>=1&&(fn=1),fn===1&&xn--,xn=Math.min(xn,ee+1),xn%2&&(ue==="reverse"?(fn=1-fn,Ce&&(fn-=Ce/z)):ue==="mirror"&&(vt=O)),J=Nv(0,1,fn)*z}const Gt=Se?{done:!1,value:Y[0]}:vt.next(J);N&&(Gt.value=N(Gt.value));let{done:Xe}=Gt;!Se&&U!==null&&(Xe=this.playbackSpeed>=0?this.currentTime>=A:this.currentTime<=0);const ie=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Xe);return ie&&be!==Fee&&(Gt.value=Zte(Y,this.options,pe,this.speed)),$e&&$e(Gt.value),ie&&this.finish(),Gt}then(d,p){return this.finished.then(d,p)}get duration(){return $1(this.calculatedDuration)}get iterationDuration(){const{delay:d=0}=this.options||{};return this.duration+$1(d)}get time(){return $1(this.currentTime)}set time(d){d=v2(d),this.currentTime=d,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=d:this.driver&&(this.startTime=this.driver.now()-d/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(d){this.updateTime(mg.now());const p=this.playbackSpeed!==d;this.playbackSpeed=d,p&&(this.time=$1(this.currentTime))}play(){if(this.isStopped)return;const{driver:d=A0e,startTime:p}=this.options;this.driver||(this.driver=d(A=>this.tick(A))),this.options.onPlay?.();const x=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=x):this.holdTime!==null?this.startTime=x-this.holdTime:this.startTime||(this.startTime=p??x),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mg.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(d){return this.startTime=0,this.tick(d,!0)}attachTimeline(d){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),d.observe(this)}}function U0e(l){for(let d=1;d<l.length;d++)l[d]??(l[d]=l[d-1])}const AT=l=>l*180/Math.PI,$ee=l=>{const d=AT(Math.atan2(l[1],l[0]));return Iee(d)},Z0e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:l=>(Math.abs(l[0])+Math.abs(l[3]))/2,rotate:$ee,rotateZ:$ee,skewX:l=>AT(Math.atan(l[1])),skewY:l=>AT(Math.atan(l[2])),skew:l=>(Math.abs(l[1])+Math.abs(l[2]))/2},Iee=l=>(l=l%360,l<0&&(l+=360),l),mse=$ee,hse=l=>Math.sqrt(l[0]*l[0]+l[1]*l[1]),gse=l=>Math.sqrt(l[4]*l[4]+l[5]*l[5]),W0e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hse,scaleY:gse,scale:l=>(hse(l)+gse(l))/2,rotateX:l=>Iee(AT(Math.atan2(l[6],l[5]))),rotateY:l=>Iee(AT(Math.atan2(-l[2],l[0]))),rotateZ:mse,rotate:mse,skewX:l=>AT(Math.atan(l[4])),skewY:l=>AT(Math.atan(l[1])),skew:l=>(Math.abs(l[1])+Math.abs(l[4]))/2};function Hee(l){return l.includes("scale")?1:0}function zee(l,d){if(!l||l==="none")return Hee(d);const p=l.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let x,A;if(p)x=W0e,A=p;else{const z=l.match(/^matrix\(([-\d.e\s,]+)\)$/u);x=Z0e,A=z}if(!A)return Hee(d);const N=x[d],O=A[1].split(",").map(G0e);return typeof N=="function"?N(O):O[N]}const q0e=(l,d)=>{const{transform:p="none"}=getComputedStyle(l);return zee(p,d)};function G0e(l){return parseFloat(l.trim())}const aD=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],iD=new Set(aD),pse=l=>l===rD||l===is,K0e=new Set(["x","y","z"]),Y0e=aD.filter(l=>!K0e.has(l));function X0e(l){const d=[];return Y0e.forEach(p=>{const x=l.getValue(p);x!==void 0&&(d.push([p,x.get()]),x.set(p.startsWith("scale")?1:0))}),d}const PC={width:({x:l},{paddingLeft:d="0",paddingRight:p="0"})=>l.max-l.min-parseFloat(d)-parseFloat(p),height:({y:l},{paddingTop:d="0",paddingBottom:p="0"})=>l.max-l.min-parseFloat(d)-parseFloat(p),top:(l,{top:d})=>parseFloat(d),left:(l,{left:d})=>parseFloat(d),bottom:({y:l},{top:d})=>parseFloat(d)+(l.max-l.min),right:({x:l},{left:d})=>parseFloat(d)+(l.max-l.min),x:(l,{transform:d})=>zee(d,"x"),y:(l,{transform:d})=>zee(d,"y")};PC.translateX=PC.x;PC.translateY=PC.y;const _T=new Set;let jee=!1,Vee=!1,Uee=!1;function bce(){if(Vee){const l=Array.from(_T).filter(x=>x.needsMeasurement),d=new Set(l.map(x=>x.element)),p=new Map;d.forEach(x=>{const A=X0e(x);A.length&&(p.set(x,A),x.render())}),l.forEach(x=>x.measureInitialState()),d.forEach(x=>{x.render();const A=p.get(x);A&&A.forEach(([N,O])=>{x.getValue(N)?.set(O)})}),l.forEach(x=>x.measureEndState()),l.forEach(x=>{x.suspendedScrollY!==void 0&&window.scrollTo(0,x.suspendedScrollY)})}Vee=!1,jee=!1,_T.forEach(l=>l.complete(Uee)),_T.clear()}function yce(){_T.forEach(l=>{l.readKeyframes(),l.needsMeasurement&&(Vee=!0)})}function Q0e(){Uee=!0,yce(),bce(),Uee=!1}class Gte{constructor(d,p,x,A,N,O=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...d],this.onComplete=p,this.name=x,this.motionValue=A,this.element=N,this.isAsync=O}scheduleResolve(){this.state="scheduled",this.isAsync?(_T.add(this),jee||(jee=!0,Dc.read(yce),Dc.resolveKeyframes(bce))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:d,name:p,element:x,motionValue:A}=this;if(d[0]===null){const N=A?.get(),O=d[d.length-1];if(N!==void 0)d[0]=N;else if(x&&p){const z=x.readValue(p,O);z!=null&&(d[0]=z)}d[0]===void 0&&(d[0]=O),A&&N===void 0&&A.set(d[0])}U0e(d)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(d=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,d),_T.delete(this)}cancel(){this.state==="scheduled"&&(_T.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const J0e=l=>l.startsWith("--");function e1e(l,d,p){J0e(d)?l.style.setProperty(d,p):l.style[d]=p}const t1e=Pte(()=>window.ScrollTimeline!==void 0),n1e={};function o1e(l,d){const p=Pte(l);return()=>n1e[d]??p()}const vce=o1e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qM=([l,d,p,x])=>`cubic-bezier(${l}, ${d}, ${p}, ${x})`,bse={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qM([0,.65,.55,1]),circOut:qM([.55,0,1,.45]),backIn:qM([.31,.01,.66,-.59]),backOut:qM([.33,1.53,.69,.99])};function xce(l,d){if(l)return typeof l=="function"?vce()?hce(l,d):"ease-out":oce(l)?qM(l):Array.isArray(l)?l.map(p=>xce(p,d)||bse.easeOut):bse[l]}function s1e(l,d,p,{delay:x=0,duration:A=300,repeat:N=0,repeatType:O="loop",ease:z="easeOut",times:U}={},V=void 0){const Y={[d]:p};U&&(Y.offset=U);const ee=xce(z,A);Array.isArray(ee)&&(Y.easing=ee);const ue={delay:x,duration:A,easing:Array.isArray(ee)?"linear":ee,fill:"both",iterations:N+1,direction:O==="reverse"?"alternate":"normal"};return V&&(ue.pseudoElement=V),l.animate(Y,ue)}function wce(l){return typeof l=="function"&&"applyToOptions"in l}function r1e({type:l,...d}){return wce(l)&&vce()?l.applyToOptions(d):(d.duration??(d.duration=300),d.ease??(d.ease="easeOut"),d)}class a1e extends Wte{constructor(d){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!d)return;const{element:p,name:x,keyframes:A,pseudoElement:N,allowFlatten:O=!1,finalKeyframe:z,onComplete:U}=d;this.isPseudoElement=!!N,this.allowFlatten=O,this.options=d,Lte(typeof d.type!="string");const V=r1e(d);this.animation=s1e(p,x,A,V,N),V.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!N){const Y=Zte(A,this.options,z,this.speed);this.updateMotionValue?this.updateMotionValue(Y):e1e(p,x,Y),this.animation.cancel()}U?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:d}=this;d==="idle"||d==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const d=this.animation.effect?.getComputedTiming?.().duration||0;return $1(Number(d))}get iterationDuration(){const{delay:d=0}=this.options||{};return this.duration+$1(d)}get time(){return $1(Number(this.animation.currentTime)||0)}set time(d){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=v2(d)}get speed(){return this.animation.playbackRate}set speed(d){d<0&&(this.finishedTime=null),this.animation.playbackRate=d}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(d){this.manualStartTime=this.animation.startTime=d}attachTimeline({timeline:d,observe:p}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,d&&t1e()?(this.animation.timeline=d,I1):p(this)}}const Cce={anticipate:Jle,backInOut:Qle,circInOut:tce};function i1e(l){return l in Cce}function l1e(l){typeof l.ease=="string"&&i1e(l.ease)&&(l.ease=Cce[l.ease])}const iee=10;class c1e extends a1e{constructor(d){l1e(d),pce(d),super(d),d.startTime!==void 0&&(this.startTime=d.startTime),this.options=d}updateMotionValue(d){const{motionValue:p,onUpdate:x,onComplete:A,element:N,...O}=this.options;if(!p)return;if(d!==void 0){p.set(d);return}const z=new qte({...O,autoplay:!1}),U=Math.max(iee,mg.now()-this.startTime),V=Nv(0,iee,U-iee);p.setWithVelocity(z.sample(Math.max(0,U-V)).value,z.sample(U).value,V),z.stop()}}const yse=(l,d)=>d==="zIndex"?!1:!!(typeof l=="number"||Array.isArray(l)||typeof l=="string"&&($C.test(l)||l==="0")&&!l.startsWith("url("));function u1e(l){const d=l[0];if(l.length===1)return!0;for(let p=0;p<l.length;p++)if(l[p]!==d)return!0}function d1e(l,d,p,x){const A=l[0];if(A===null)return!1;if(d==="display"||d==="visibility")return!0;const N=l[l.length-1],O=yse(A,d),z=yse(N,d);return!O||!z?!1:u1e(l)||(p==="spring"||wce(p))&&x}function Zee(l){l.duration=0,l.type="keyframes"}const f1e=new Set(["opacity","clipPath","filter","transform"]),m1e=Pte(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function h1e(l){const{motionValue:d,name:p,repeatDelay:x,repeatType:A,damping:N,type:O}=l;if(!(d?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:U,transformTemplate:V}=d.owner.getProps();return m1e()&&p&&f1e.has(p)&&(p!=="transform"||!V)&&!U&&!x&&A!=="mirror"&&N!==0&&O!=="inertia"}const g1e=40;class p1e extends Wte{constructor({autoplay:d=!0,delay:p=0,type:x="keyframes",repeat:A=0,repeatDelay:N=0,repeatType:O="loop",keyframes:z,name:U,motionValue:V,element:Y,...ee}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=mg.now();const ue={autoplay:d,delay:p,type:x,repeat:A,repeatDelay:N,repeatType:O,name:U,motionValue:V,element:Y,...ee},Ce=Y?.KeyframeResolver||Gte;this.keyframeResolver=new Ce(z,(be,$e,pe)=>this.onKeyframesResolved(be,$e,ue,!pe),U,V,Y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(d,p,x,A){this.keyframeResolver=void 0;const{name:N,type:O,velocity:z,delay:U,isHandoff:V,onUpdate:Y}=x;this.resolvedAt=mg.now(),d1e(d,N,O,z)||((w2.instantAnimations||!U)&&Y?.(Zte(d,x,p)),d[0]=d[d.length-1],Zee(x),x.repeat=0);const ue={startTime:A?this.resolvedAt?this.resolvedAt-this.createdAt>g1e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:p,...x,keyframes:d},Ce=!V&&h1e(ue)?new c1e({...ue,element:ue.motionValue.owner.current}):new qte(ue);Ce.finished.then(()=>this.notifyFinished()).catch(I1),this.pendingTimeline&&(this.stopTimeline=Ce.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=Ce}get finished(){return this._animation?this.animation.finished:this._finished}then(d,p){return this.finished.finally(d).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Q0e()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(d){this.animation.time=d}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(d){this.animation.speed=d}get startTime(){return this.animation.startTime}attachTimeline(d){return this._animation?this.stopTimeline=this.animation.attachTimeline(d):this.pendingTimeline=d,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const b1e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function y1e(l){const d=b1e.exec(l);if(!d)return[,];const[,p,x,A]=d;return[`--${p??x}`,A]}function Sce(l,d,p=1){const[x,A]=y1e(l);if(!x)return;const N=window.getComputedStyle(d).getPropertyValue(x);if(N){const O=N.trim();return Ule(O)?parseFloat(O):O}return Hte(A)?Sce(A,d,p+1):A}function Kte(l,d){return l?.[d]??l?.default??l}const v1e={type:"spring",stiffness:500,damping:25,restSpeed:10},x1e=l=>({type:"spring",stiffness:550,damping:l===0?2*Math.sqrt(550):30,restSpeed:10}),w1e={type:"keyframes",duration:.8},C1e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},S1e=(l,{keyframes:d})=>d.length>2?w1e:iD.has(l)?l.startsWith("scale")?x1e(d[1]):v1e:C1e;function E1e({when:l,delay:d,delayChildren:p,staggerChildren:x,staggerDirection:A,repeat:N,repeatType:O,repeatDelay:z,from:U,elapsed:V,...Y}){return!!Object.keys(Y).length}const T1e=l=>l!==null;function A1e(l,{repeat:d,repeatType:p="loop"},x){const A=l.filter(T1e),N=d&&p!=="loop"&&d%2===1?0:A.length-1;return A[N]}function Ece(l,d,p,x=0,A=1){const N=Array.from(l).sort((V,Y)=>V.sortNodePosition(Y)).indexOf(d),O=l.size,z=(O-1)*x;return typeof p=="function"?p(N,O):A===1?N*x:z-N*x}const Yte=(l,d,p,x={},A,N)=>O=>{const z=Kte(x,l)||{},U=z.delay||x.delay||0;let{elapsed:V=0}=x;V=V-v2(U);const Y={keyframes:Array.isArray(p)?p:[null,p],ease:"easeOut",velocity:d.getVelocity(),...z,delay:-V,onUpdate:ue=>{d.set(ue),z.onUpdate&&z.onUpdate(ue)},onComplete:()=>{O(),z.onComplete&&z.onComplete()},name:l,motionValue:d,element:N?void 0:A};E1e(z)||Object.assign(Y,S1e(l,Y)),Y.duration&&(Y.duration=v2(Y.duration)),Y.repeatDelay&&(Y.repeatDelay=v2(Y.repeatDelay)),Y.from!==void 0&&(Y.keyframes[0]=Y.from);let ee=!1;if((Y.type===!1||Y.duration===0&&!Y.repeatDelay)&&(Zee(Y),Y.delay===0&&(ee=!0)),(w2.instantAnimations||w2.skipAnimations)&&(ee=!0,Zee(Y),Y.delay=0),Y.allowFlatten=!z.type&&!z.ease,ee&&!N&&d.get()!==void 0){const ue=A1e(Y.keyframes,z);if(ue!==void 0){Dc.update(()=>{Y.onUpdate(ue),Y.onComplete()});return}}return z.isSync?new qte(Y):new p1e(Y)},Tce=new Set(["width","height","top","left","right","bottom",...aD]),vse=30,k1e=l=>!isNaN(parseFloat(l));class D1e{constructor(d,p={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=x=>{const A=mg.now();if(this.updatedAt!==A&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(x),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const N of this.dependents)N.dirty()},this.hasAnimated=!1,this.setCurrent(d),this.owner=p.owner}setCurrent(d){this.current=d,this.updatedAt=mg.now(),this.canTrackVelocity===null&&d!==void 0&&(this.canTrackVelocity=k1e(this.current))}setPrevFrameValue(d=this.current){this.prevFrameValue=d,this.prevUpdatedAt=this.updatedAt}onChange(d){return this.on("change",d)}on(d,p){this.events[d]||(this.events[d]=new Fte);const x=this.events[d].add(p);return d==="change"?()=>{x(),Dc.read(()=>{this.events.change.getSize()||this.stop()})}:x}clearListeners(){for(const d in this.events)this.events[d].clear()}attach(d,p){this.passiveEffect=d,this.stopPassiveEffect=p}set(d){this.passiveEffect?this.passiveEffect(d,this.updateAndNotify):this.updateAndNotify(d)}setWithVelocity(d,p,x){this.set(p),this.prev=void 0,this.prevFrameValue=d,this.prevUpdatedAt=this.updatedAt-x}jump(d,p=!0){this.updateAndNotify(d),this.prev=d,this.prevUpdatedAt=this.prevFrameValue=void 0,p&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(d){this.dependents||(this.dependents=new Set),this.dependents.add(d)}removeDependent(d){this.dependents&&this.dependents.delete(d)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const d=mg.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||d-this.updatedAt>vse)return 0;const p=Math.min(this.updatedAt-this.prevUpdatedAt,vse);return qle(parseFloat(this.current)-parseFloat(this.prevFrameValue),p)}start(d){return this.stop(),new Promise(p=>{this.hasAnimated=!0,this.animation=d(p),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function G3(l,d){return new D1e(l,d)}function xse(l){const d=[{},{}];return l?.values.forEach((p,x)=>{d[0][x]=p.get(),d[1][x]=p.getVelocity()}),d}function Xte(l,d,p,x){if(typeof d=="function"){const[A,N]=xse(x);d=d(p!==void 0?p:l.custom,A,N)}if(typeof d=="string"&&(d=l.variants&&l.variants[d]),typeof d=="function"){const[A,N]=xse(x);d=d(p!==void 0?p:l.custom,A,N)}return d}function U3(l,d,p){const x=l.getProps();return Xte(x,d,p!==void 0?p:x.custom,l)}const Wee=l=>Array.isArray(l);function _1e(l,d,p){l.hasValue(d)?l.getValue(d).set(p):l.addValue(d,G3(p))}function O1e(l){return Wee(l)?l[l.length-1]||0:l}function N1e(l,d){const p=U3(l,d);let{transitionEnd:x={},transition:A={},...N}=p||{};N={...N,...x};for(const O in N){const z=O1e(N[O]);_1e(l,O,z)}}const bh=l=>!!(l&&l.getVelocity);function R1e(l){return!!(bh(l)&&l.add)}function qee(l,d){const p=l.getValue("willChange");if(R1e(p))return p.add(d);if(!p&&w2.WillChange){const x=new w2.WillChange("auto");l.addValue("willChange",x),x.add(d)}}function Qte(l){return l.replace(/([A-Z])/g,d=>`-${d.toLowerCase()}`)}const M1e="framerAppearId",Ace="data-"+Qte(M1e);function kce(l){return l.props[Ace]}function B1e({protectedKeys:l,needsAnimating:d},p){const x=l.hasOwnProperty(p)&&d[p]!==!0;return d[p]=!1,x}function Dce(l,d,{delay:p=0,transitionOverride:x,type:A}={}){let{transition:N=l.getDefaultTransition(),transitionEnd:O,...z}=d;x&&(N=x);const U=[],V=A&&l.animationState&&l.animationState.getState()[A];for(const Y in z){const ee=l.getValue(Y,l.latestValues[Y]??null),ue=z[Y];if(ue===void 0||V&&B1e(V,Y))continue;const Ce={delay:p,...Kte(N||{},Y)},be=ee.get();if(be!==void 0&&!ee.isAnimating&&!Array.isArray(ue)&&ue===be&&!Ce.velocity)continue;let $e=!1;if(window.MotionHandoffAnimation){const it=kce(l);if(it){const Se=window.MotionHandoffAnimation(it,Y,Dc);Se!==null&&(Ce.startTime=Se,$e=!0)}}qee(l,Y),ee.start(Yte(Y,ee,ue,l.shouldReduceMotion&&Tce.has(Y)?{type:!1}:Ce,l,$e));const pe=ee.animation;pe&&U.push(pe)}return O&&Promise.all(U).then(()=>{Dc.update(()=>{O&&N1e(l,O)})}),U}function Gee(l,d,p={}){const x=U3(l,d,p.type==="exit"?l.presenceContext?.custom:void 0);let{transition:A=l.getDefaultTransition()||{}}=x||{};p.transitionOverride&&(A=p.transitionOverride);const N=x?()=>Promise.all(Dce(l,x,p)):()=>Promise.resolve(),O=l.variantChildren&&l.variantChildren.size?(U=0)=>{const{delayChildren:V=0,staggerChildren:Y,staggerDirection:ee}=A;return L1e(l,d,U,V,Y,ee,p)}:()=>Promise.resolve(),{when:z}=A;if(z){const[U,V]=z==="beforeChildren"?[N,O]:[O,N];return U().then(()=>V())}else return Promise.all([N(),O(p.delay)])}function L1e(l,d,p=0,x=0,A=0,N=1,O){const z=[];for(const U of l.variantChildren)U.notify("AnimationStart",d),z.push(Gee(U,d,{...O,delay:p+(typeof x=="function"?0:x)+Ece(l.variantChildren,U,x,A,N)}).then(()=>U.notify("AnimationComplete",d)));return Promise.all(z)}function P1e(l,d,p={}){l.notify("AnimationStart",d);let x;if(Array.isArray(d)){const A=d.map(N=>Gee(l,N,p));x=Promise.all(A)}else if(typeof d=="string")x=Gee(l,d,p);else{const A=typeof d=="function"?U3(l,d,p.custom):d;x=Promise.all(Dce(l,A,p))}return x.then(()=>{l.notify("AnimationComplete",d)})}const F1e={test:l=>l==="auto",parse:l=>l},_ce=l=>d=>d.test(l),Oce=[rD,is,_v,RC,u0e,c0e,F1e],wse=l=>Oce.find(_ce(l));function $1e(l){return typeof l=="number"?l===0:l!==null?l==="none"||l==="0"||Wle(l):!0}const I1e=new Set(["brightness","contrast","saturate","opacity"]);function H1e(l){const[d,p]=l.slice(0,-1).split("(");if(d==="drop-shadow")return l;const[x]=p.match(zte)||[];if(!x)return l;const A=p.replace(x,"");let N=I1e.has(d)?1:0;return x!==p&&(N*=100),d+"("+N+A+")"}const z1e=/\b([a-z-]*)\(.*?\)/gu,Kee={...$C,getAnimatableNone:l=>{const d=l.match(z1e);return d?d.map(H1e).join(" "):l}},Cse={...rD,transform:Math.round},j1e={rotate:RC,rotateX:RC,rotateY:RC,rotateZ:RC,scale:BH,scaleX:BH,scaleY:BH,scaleZ:BH,skew:RC,skewX:RC,skewY:RC,distance:is,translateX:is,translateY:is,translateZ:is,x:is,y:is,z:is,perspective:is,transformPerspective:is,opacity:tB,originX:lse,originY:lse,originZ:is},Jte={borderWidth:is,borderTopWidth:is,borderRightWidth:is,borderBottomWidth:is,borderLeftWidth:is,borderRadius:is,radius:is,borderTopLeftRadius:is,borderTopRightRadius:is,borderBottomRightRadius:is,borderBottomLeftRadius:is,width:is,maxWidth:is,height:is,maxHeight:is,top:is,right:is,bottom:is,left:is,inset:is,insetBlock:is,insetBlockStart:is,insetBlockEnd:is,insetInline:is,insetInlineStart:is,insetInlineEnd:is,padding:is,paddingTop:is,paddingRight:is,paddingBottom:is,paddingLeft:is,paddingBlock:is,paddingBlockStart:is,paddingBlockEnd:is,paddingInline:is,paddingInlineStart:is,paddingInlineEnd:is,margin:is,marginTop:is,marginRight:is,marginBottom:is,marginLeft:is,marginBlock:is,marginBlockStart:is,marginBlockEnd:is,marginInline:is,marginInlineStart:is,marginInlineEnd:is,backgroundPositionX:is,backgroundPositionY:is,...j1e,zIndex:Cse,fillOpacity:tB,strokeOpacity:tB,numOctaves:Cse},V1e={...Jte,color:Gd,backgroundColor:Gd,outlineColor:Gd,fill:Gd,stroke:Gd,borderColor:Gd,borderTopColor:Gd,borderRightColor:Gd,borderBottomColor:Gd,borderLeftColor:Gd,filter:Kee,WebkitFilter:Kee},Nce=l=>V1e[l];function Rce(l,d){let p=Nce(l);return p!==Kee&&(p=$C),p.getAnimatableNone?p.getAnimatableNone(d):void 0}const U1e=new Set(["auto","none","0"]);function Z1e(l,d,p){let x=0,A;for(;x<l.length&&!A;){const N=l[x];typeof N=="string"&&!U1e.has(N)&&nB(N).values.length&&(A=l[x]),x++}if(A&&p)for(const N of d)l[N]=Rce(p,A)}class W1e extends Gte{constructor(d,p,x,A,N){super(d,p,x,A,N,!0)}readKeyframes(){const{unresolvedKeyframes:d,element:p,name:x}=this;if(!p||!p.current)return;super.readKeyframes();for(let Y=0;Y<d.length;Y++){let ee=d[Y];if(typeof ee=="string"&&(ee=ee.trim(),Hte(ee))){const ue=Sce(ee,p.current);ue!==void 0&&(d[Y]=ue),Y===d.length-1&&(this.finalKeyframe=ee)}}if(this.resolveNoneKeyframes(),!Tce.has(x)||d.length!==2)return;const[A,N]=d,O=wse(A),z=wse(N),U=ise(A),V=ise(N);if(U!==V&&PC[x]){this.needsMeasurement=!0;return}if(O!==z)if(pse(O)&&pse(z))for(let Y=0;Y<d.length;Y++){const ee=d[Y];typeof ee=="string"&&(d[Y]=parseFloat(ee))}else PC[x]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:d,name:p}=this,x=[];for(let A=0;A<d.length;A++)(d[A]===null||$1e(d[A]))&&x.push(A);x.length&&Z1e(d,x,p)}measureInitialState(){const{element:d,unresolvedKeyframes:p,name:x}=this;if(!d||!d.current)return;x==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=PC[x](d.measureViewportBox(),window.getComputedStyle(d.current)),p[0]=this.measuredOrigin;const A=p[p.length-1];A!==void 0&&d.getValue(x,A).jump(A,!1)}measureEndState(){const{element:d,name:p,unresolvedKeyframes:x}=this;if(!d||!d.current)return;const A=d.getValue(p);A&&A.jump(this.measuredOrigin,!1);const N=x.length-1,O=x[N];x[N]=PC[p](d.measureViewportBox(),window.getComputedStyle(d.current)),O!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=O),this.removedTransforms?.length&&this.removedTransforms.forEach(([z,U])=>{d.getValue(z).set(U)}),this.resolveNoneKeyframes()}}function q1e(l,d,p){if(l instanceof EventTarget)return[l];if(typeof l=="string"){let x=document;const A=p?.[l]??x.querySelectorAll(l);return A?Array.from(A):[]}return Array.from(l)}const Mce=(l,d)=>d&&typeof l=="number"?d.transform(l):l;function Bce(l){return Zle(l)&&"offsetHeight"in l}const{schedule:ene}=sce(queueMicrotask,!1),cy={x:!1,y:!1};function Lce(){return cy.x||cy.y}function G1e(l){return l==="x"||l==="y"?cy[l]?null:(cy[l]=!0,()=>{cy[l]=!1}):cy.x||cy.y?null:(cy.x=cy.y=!0,()=>{cy.x=cy.y=!1})}function Pce(l,d){const p=q1e(l),x=new AbortController,A={passive:!0,...d,signal:x.signal};return[p,A,()=>x.abort()]}function Sse(l){return!(l.pointerType==="touch"||Lce())}function K1e(l,d,p={}){const[x,A,N]=Pce(l,p),O=z=>{if(!Sse(z))return;const{target:U}=z,V=d(U,z);if(typeof V!="function"||!U)return;const Y=ee=>{Sse(ee)&&(V(ee),U.removeEventListener("pointerleave",Y))};U.addEventListener("pointerleave",Y,A)};return x.forEach(z=>{z.addEventListener("pointerenter",O,A)}),N}const Fce=(l,d)=>d?l===d?!0:Fce(l,d.parentElement):!1,tne=l=>l.pointerType==="mouse"?typeof l.button!="number"||l.button<=0:l.isPrimary!==!1,Y1e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $ce(l){return Y1e.has(l.tagName)||l.isContentEditable===!0}const UH=new WeakSet;function Ese(l){return d=>{d.key==="Enter"&&l(d)}}function lee(l,d){l.dispatchEvent(new PointerEvent("pointer"+d,{isPrimary:!0,bubbles:!0}))}const X1e=(l,d)=>{const p=l.currentTarget;if(!p)return;const x=Ese(()=>{if(UH.has(p))return;lee(p,"down");const A=Ese(()=>{lee(p,"up")}),N=()=>lee(p,"cancel");p.addEventListener("keyup",A,d),p.addEventListener("blur",N,d)});p.addEventListener("keydown",x,d),p.addEventListener("blur",()=>p.removeEventListener("keydown",x),d)};function Tse(l){return tne(l)&&!Lce()}function Q1e(l,d,p={}){const[x,A,N]=Pce(l,p),O=z=>{const U=z.currentTarget;if(!Tse(z))return;UH.add(U);const V=d(U,z),Y=(Ce,be)=>{window.removeEventListener("pointerup",ee),window.removeEventListener("pointercancel",ue),UH.has(U)&&UH.delete(U),Tse(Ce)&&typeof V=="function"&&V(Ce,{success:be})},ee=Ce=>{Y(Ce,U===window||U===document||p.useGlobalTarget||Fce(U,Ce.target))},ue=Ce=>{Y(Ce,!1)};window.addEventListener("pointerup",ee,A),window.addEventListener("pointercancel",ue,A)};return x.forEach(z=>{(p.useGlobalTarget?window:z).addEventListener("pointerdown",O,A),Bce(z)&&(z.addEventListener("focus",V=>X1e(V,A)),!$ce(z)&&!z.hasAttribute("tabindex")&&(z.tabIndex=0))}),N}function Ice(l){return Zle(l)&&"ownerSVGElement"in l}function J1e(l){return Ice(l)&&l.tagName==="svg"}const ebe=[...Oce,Gd,$C],tbe=l=>ebe.find(_ce(l)),Ase=()=>({translate:0,scale:1,origin:0,originPoint:0}),I3=()=>({x:Ase(),y:Ase()}),kse=()=>({min:0,max:0}),Cf=()=>({x:kse(),y:kse()}),Yee={current:null},Hce={current:!1},nbe=typeof window<"u";function obe(){if(Hce.current=!0,!!nbe)if(window.matchMedia){const l=window.matchMedia("(prefers-reduced-motion)"),d=()=>Yee.current=l.matches;l.addEventListener("change",d),d()}else Yee.current=!1}const sbe=new WeakMap;function Tz(l){return l!==null&&typeof l=="object"&&typeof l.start=="function"}function oB(l){return typeof l=="string"||Array.isArray(l)}const nne=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],one=["initial",...nne];function Az(l){return Tz(l.animate)||one.some(d=>oB(l[d]))}function zce(l){return!!(Az(l)||l.variants)}function rbe(l,d,p){for(const x in d){const A=d[x],N=p[x];if(bh(A))l.addValue(x,A);else if(bh(N))l.addValue(x,G3(A,{owner:l}));else if(N!==A)if(l.hasValue(x)){const O=l.getValue(x);O.liveStyle===!0?O.jump(A):O.hasAnimated||O.set(A)}else{const O=l.getStaticValue(x);l.addValue(x,G3(O!==void 0?O:A,{owner:l}))}}for(const x in p)d[x]===void 0&&l.removeValue(x);return d}const Dse=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let iz={};function jce(l){iz=l}function abe(){return iz}class ibe{scrapeMotionValuesFromProps(d,p,x){return{}}constructor({parent:d,props:p,presenceContext:x,reducedMotionConfig:A,blockInitialAnimation:N,visualState:O},z={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Gte,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const ue=mg.now();this.renderScheduledAt<ue&&(this.renderScheduledAt=ue,Dc.render(this.render,!1,!0))};const{latestValues:U,renderState:V}=O;this.latestValues=U,this.baseTarget={...U},this.initialValues=p.initial?{...U}:{},this.renderState=V,this.parent=d,this.props=p,this.presenceContext=x,this.depth=d?d.depth+1:0,this.reducedMotionConfig=A,this.options=z,this.blockInitialAnimation=!!N,this.isControllingVariants=Az(p),this.isVariantNode=zce(p),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(d&&d.current);const{willChange:Y,...ee}=this.scrapeMotionValuesFromProps(p,{},this);for(const ue in ee){const Ce=ee[ue];U[ue]!==void 0&&bh(Ce)&&Ce.set(U[ue])}}mount(d){this.current=d,sbe.set(d,this),this.projection&&!this.projection.instance&&this.projection.mount(d),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((p,x)=>this.bindToMotionValue(x,p)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Hce.current||obe(),this.shouldReduceMotion=Yee.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),FC(this.notifyUpdate),FC(this.render),this.valueSubscriptions.forEach(d=>d()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const d in this.events)this.events[d].clear();for(const d in this.features){const p=this.features[d];p&&(p.unmount(),p.isMounted=!1)}this.current=null}addChild(d){this.children.add(d),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(d)}removeChild(d){this.children.delete(d),this.enteringChildren&&this.enteringChildren.delete(d)}bindToMotionValue(d,p){this.valueSubscriptions.has(d)&&this.valueSubscriptions.get(d)();const x=iD.has(d);x&&this.onBindTransform&&this.onBindTransform();const A=p.on("change",O=>{this.latestValues[d]=O,this.props.onUpdate&&Dc.preRender(this.notifyUpdate),x&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let N;typeof window<"u"&&window.MotionCheckAppearSync&&(N=window.MotionCheckAppearSync(this,d,p)),this.valueSubscriptions.set(d,()=>{A(),N&&N(),p.owner&&p.stop()})}sortNodePosition(d){return!this.current||!this.sortInstanceNodePosition||this.type!==d.type?0:this.sortInstanceNodePosition(this.current,d.current)}updateFeatures(){let d="animation";for(d in iz){const p=iz[d];if(!p)continue;const{isEnabled:x,Feature:A}=p;if(!this.features[d]&&A&&x(this.props)&&(this.features[d]=new A(this)),this.features[d]){const N=this.features[d];N.isMounted?N.update():(N.mount(),N.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Cf()}getStaticValue(d){return this.latestValues[d]}setStaticValue(d,p){this.latestValues[d]=p}update(d,p){(d.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=d,this.prevPresenceContext=this.presenceContext,this.presenceContext=p;for(let x=0;x<Dse.length;x++){const A=Dse[x];this.propEventSubscriptions[A]&&(this.propEventSubscriptions[A](),delete this.propEventSubscriptions[A]);const N="on"+A,O=d[N];O&&(this.propEventSubscriptions[A]=this.on(A,O))}this.prevMotionValues=rbe(this,this.scrapeMotionValuesFromProps(d,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(d){return this.props.variants?this.props.variants[d]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(d){const p=this.getClosestVariantNode();if(p)return p.variantChildren&&p.variantChildren.add(d),()=>p.variantChildren.delete(d)}addValue(d,p){const x=this.values.get(d);p!==x&&(x&&this.removeValue(d),this.bindToMotionValue(d,p),this.values.set(d,p),this.latestValues[d]=p.get())}removeValue(d){this.values.delete(d);const p=this.valueSubscriptions.get(d);p&&(p(),this.valueSubscriptions.delete(d)),delete this.latestValues[d],this.removeValueFromRenderState(d,this.renderState)}hasValue(d){return this.values.has(d)}getValue(d,p){if(this.props.values&&this.props.values[d])return this.props.values[d];let x=this.values.get(d);return x===void 0&&p!==void 0&&(x=G3(p===null?void 0:p,{owner:this}),this.addValue(d,x)),x}readValue(d,p){let x=this.latestValues[d]!==void 0||!this.current?this.latestValues[d]:this.getBaseTargetFromProps(this.props,d)??this.readValueFromInstance(this.current,d,this.options);return x!=null&&(typeof x=="string"&&(Ule(x)||Wle(x))?x=parseFloat(x):!tbe(x)&&$C.test(p)&&(x=Rce(d,p)),this.setBaseTarget(d,bh(x)?x.get():x)),bh(x)?x.get():x}setBaseTarget(d,p){this.baseTarget[d]=p}getBaseTarget(d){const{initial:p}=this.props;let x;if(typeof p=="string"||typeof p=="object"){const N=Xte(this.props,p,this.presenceContext?.custom);N&&(x=N[d])}if(p&&x!==void 0)return x;const A=this.getBaseTargetFromProps(this.props,d);return A!==void 0&&!bh(A)?A:this.initialValues[d]!==void 0&&x===void 0?void 0:this.baseTarget[d]}on(d,p){return this.events[d]||(this.events[d]=new Fte),this.events[d].add(p)}notify(d,...p){this.events[d]&&this.events[d].notify(...p)}scheduleRenderMicrotask(){ene.render(this.render)}}class IC{constructor(d){this.isMounted=!1,this.node=d}update(){}}class Vce extends ibe{constructor(){super(...arguments),this.KeyframeResolver=W1e}sortInstanceNodePosition(d,p){return d.compareDocumentPosition(p)&2?1:-1}getBaseTargetFromProps(d,p){const x=d.style;return x?x[p]:void 0}removeValueFromRenderState(d,{vars:p,style:x}){delete p[d],delete x[d]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:d}=this.props;bh(d)&&(this.childSubscription=d.on("change",p=>{this.current&&(this.current.textContent=`${p}`)}))}}function Uce({top:l,left:d,right:p,bottom:x}){return{x:{min:d,max:p},y:{min:l,max:x}}}function lbe({x:l,y:d}){return{top:d.min,right:l.max,bottom:d.max,left:l.min}}function cbe(l,d){if(!d)return l;const p=d({x:l.left,y:l.top}),x=d({x:l.right,y:l.bottom});return{top:p.y,left:p.x,bottom:x.y,right:x.x}}function cee(l){return l===void 0||l===1}function Xee({scale:l,scaleX:d,scaleY:p}){return!cee(l)||!cee(d)||!cee(p)}function ST(l){return Xee(l)||Zce(l)||l.z||l.rotate||l.rotateX||l.rotateY||l.skewX||l.skewY}function Zce(l){return _se(l.x)||_se(l.y)}function _se(l){return l&&l!=="0%"}function lz(l,d,p){const x=l-p,A=d*x;return p+A}function Ose(l,d,p,x,A){return A!==void 0&&(l=lz(l,A,x)),lz(l,p,x)+d}function Qee(l,d=0,p=1,x,A){l.min=Ose(l.min,d,p,x,A),l.max=Ose(l.max,d,p,x,A)}function Wce(l,{x:d,y:p}){Qee(l.x,d.translate,d.scale,d.originPoint),Qee(l.y,p.translate,p.scale,p.originPoint)}const Nse=.999999999999,Rse=1.0000000000001;function ube(l,d,p,x=!1){const A=p.length;if(!A)return;d.x=d.y=1;let N,O;for(let z=0;z<A;z++){N=p[z],O=N.projectionDelta;const{visualElement:U}=N.options;U&&U.props.style&&U.props.style.display==="contents"||(x&&N.options.layoutScroll&&N.scroll&&N!==N.root&&z3(l,{x:-N.scroll.offset.x,y:-N.scroll.offset.y}),O&&(d.x*=O.x.scale,d.y*=O.y.scale,Wce(l,O)),x&&ST(N.latestValues)&&z3(l,N.latestValues))}d.x<Rse&&d.x>Nse&&(d.x=1),d.y<Rse&&d.y>Nse&&(d.y=1)}function H3(l,d){l.min=l.min+d,l.max=l.max+d}function Mse(l,d,p,x,A=.5){const N=xu(l.min,l.max,A);Qee(l,d,p,N,x)}function z3(l,d){Mse(l.x,d.x,d.scaleX,d.scale,d.originX),Mse(l.y,d.y,d.scaleY,d.scale,d.originY)}function qce(l,d){return Uce(cbe(l.getBoundingClientRect(),d))}function dbe(l,d,p){const x=qce(l,p),{scroll:A}=d;return A&&(H3(x.x,A.offset.x),H3(x.y,A.offset.y)),x}const fbe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mbe=aD.length;function hbe(l,d,p){let x="",A=!0;for(let N=0;N<mbe;N++){const O=aD[N],z=l[O];if(z===void 0)continue;let U=!0;if(typeof z=="number"?U=z===(O.startsWith("scale")?1:0):U=parseFloat(z)===0,!U||p){const V=Mce(z,Jte[O]);if(!U){A=!1;const Y=fbe[O]||O;x+=`${Y}(${V}) `}p&&(d[O]=V)}}return x=x.trim(),p?x=p(d,A?"":x):A&&(x="none"),x}function sne(l,d,p){const{style:x,vars:A,transformOrigin:N}=l;let O=!1,z=!1;for(const U in d){const V=d[U];if(iD.has(U)){O=!0;continue}else if(ace(U)){A[U]=V;continue}else{const Y=Mce(V,Jte[U]);U.startsWith("origin")?(z=!0,N[U]=Y):x[U]=Y}}if(d.transform||(O||p?x.transform=hbe(d,l.transform,p):x.transform&&(x.transform="none")),z){const{originX:U="50%",originY:V="50%",originZ:Y=0}=N;x.transformOrigin=`${U} ${V} ${Y}`}}function Gce(l,{style:d,vars:p},x,A){const N=l.style;let O;for(O in d)N[O]=d[O];A?.applyProjectionStyles(N,x);for(O in p)N.setProperty(O,p[O])}function Bse(l,d){return d.max===d.min?0:l/(d.max-d.min)*100}const ZM={correct:(l,d)=>{if(!d.target)return l;if(typeof l=="string")if(is.test(l))l=parseFloat(l);else return l;const p=Bse(l,d.target.x),x=Bse(l,d.target.y);return`${p}% ${x}%`}},gbe={correct:(l,{treeScale:d,projectionDelta:p})=>{const x=l,A=$C.parse(l);if(A.length>5)return x;const N=$C.createTransformer(l),O=typeof A[0]!="number"?1:0,z=p.x.scale*d.x,U=p.y.scale*d.y;A[0+O]/=z,A[1+O]/=U;const V=xu(z,U,.5);return typeof A[2+O]=="number"&&(A[2+O]/=V),typeof A[3+O]=="number"&&(A[3+O]/=V),N(A)}},Jee={borderRadius:{...ZM,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ZM,borderTopRightRadius:ZM,borderBottomLeftRadius:ZM,borderBottomRightRadius:ZM,boxShadow:gbe};function Kce(l,{layout:d,layoutId:p}){return iD.has(l)||l.startsWith("origin")||(d||p!==void 0)&&(!!Jee[l]||l==="opacity")}function rne(l,d,p){const x=l.style,A=d?.style,N={};if(!x)return N;for(const O in x)(bh(x[O])||A&&bh(A[O])||Kce(O,l)||p?.getValue(O)?.liveStyle!==void 0)&&(N[O]=x[O]);return N}function pbe(l){return window.getComputedStyle(l)}class bbe extends Vce{constructor(){super(...arguments),this.type="html",this.renderInstance=Gce}readValueFromInstance(d,p){if(iD.has(p))return this.projection?.isProjecting?Hee(p):q0e(d,p);{const x=pbe(d),A=(ace(p)?x.getPropertyValue(p):x[p])||0;return typeof A=="string"?A.trim():A}}measureInstanceViewportBox(d,{transformPagePoint:p}){return qce(d,p)}build(d,p,x){sne(d,p,x.transformTemplate)}scrapeMotionValuesFromProps(d,p,x){return rne(d,p,x)}}const ybe={offset:"stroke-dashoffset",array:"stroke-dasharray"},vbe={offset:"strokeDashoffset",array:"strokeDasharray"};function xbe(l,d,p=1,x=0,A=!0){l.pathLength=1;const N=A?ybe:vbe;l[N.offset]=is.transform(-x);const O=is.transform(d),z=is.transform(p);l[N.array]=`${O} ${z}`}const wbe=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Yce(l,{attrX:d,attrY:p,attrScale:x,pathLength:A,pathSpacing:N=1,pathOffset:O=0,...z},U,V,Y){if(sne(l,z,V),U){l.style.viewBox&&(l.attrs.viewBox=l.style.viewBox);return}l.attrs=l.style,l.style={};const{attrs:ee,style:ue}=l;ee.transform&&(ue.transform=ee.transform,delete ee.transform),(ue.transform||ee.transformOrigin)&&(ue.transformOrigin=ee.transformOrigin??"50% 50%",delete ee.transformOrigin),ue.transform&&(ue.transformBox=Y?.transformBox??"fill-box",delete ee.transformBox);for(const Ce of wbe)ee[Ce]!==void 0&&(ue[Ce]=ee[Ce],delete ee[Ce]);d!==void 0&&(ee.x=d),p!==void 0&&(ee.y=p),x!==void 0&&(ee.scale=x),A!==void 0&&xbe(ee,A,N,O,!1)}const Xce=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Qce=l=>typeof l=="string"&&l.toLowerCase()==="svg";function Cbe(l,d,p,x){Gce(l,d,void 0,x);for(const A in d.attrs)l.setAttribute(Xce.has(A)?A:Qte(A),d.attrs[A])}function Jce(l,d,p){const x=rne(l,d,p);for(const A in l)if(bh(l[A])||bh(d[A])){const N=aD.indexOf(A)!==-1?"attr"+A.charAt(0).toUpperCase()+A.substring(1):A;x[N]=l[A]}return x}class Sbe extends Vce{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Cf}getBaseTargetFromProps(d,p){return d[p]}readValueFromInstance(d,p){if(iD.has(p)){const x=Nce(p);return x&&x.default||0}return p=Xce.has(p)?p:Qte(p),d.getAttribute(p)}scrapeMotionValuesFromProps(d,p,x){return Jce(d,p,x)}build(d,p,x){Yce(d,p,this.isSVGTag,x.transformTemplate,x.style)}renderInstance(d,p,x,A){Cbe(d,p,x,A)}mount(d){this.isSVGTag=Qce(d.tagName),super.mount(d)}}const Ebe=one.length;function eue(l){if(!l)return;if(!l.isControllingVariants){const p=l.parent?eue(l.parent)||{}:{};return l.props.initial!==void 0&&(p.initial=l.props.initial),p}const d={};for(let p=0;p<Ebe;p++){const x=one[p],A=l.props[x];(oB(A)||A===!1)&&(d[x]=A)}return d}function tue(l,d){if(!Array.isArray(d))return!1;const p=d.length;if(p!==l.length)return!1;for(let x=0;x<p;x++)if(d[x]!==l[x])return!1;return!0}const Tbe=[...nne].reverse(),Abe=nne.length;function kbe(l){return d=>Promise.all(d.map(({animation:p,options:x})=>P1e(l,p,x)))}function Dbe(l){let d=kbe(l),p=Lse(),x=!0;const A=U=>(V,Y)=>{const ee=U3(l,Y,U==="exit"?l.presenceContext?.custom:void 0);if(ee){const{transition:ue,transitionEnd:Ce,...be}=ee;V={...V,...be,...Ce}}return V};function N(U){d=U(l)}function O(U){const{props:V}=l,Y=eue(l.parent)||{},ee=[],ue=new Set;let Ce={},be=1/0;for(let pe=0;pe<Abe;pe++){const it=Tbe[pe],Se=p[it],J=V[it]!==void 0?V[it]:Y[it],vt=oB(J),Gt=it===U?Se.isActive:null;Gt===!1&&(be=pe);let Xe=J===Y[it]&&J!==V[it]&&vt;if(Xe&&x&&l.manuallyAnimateOnMount&&(Xe=!1),Se.protectedKeys={...Ce},!Se.isActive&&Gt===null||!J&&!Se.prevProp||Tz(J)||typeof J=="boolean")continue;const ie=_be(Se.prevProp,J);let ct=ie||it===U&&Se.isActive&&!Xe&&vt||pe>be&&vt,xn=!1;const fn=Array.isArray(J)?J:[J];let qe=fn.reduce(A(it),{});Gt===!1&&(qe={});const{prevResolvedValues:Re={}}=Se,Qo={...Re,...qe},yt=jt=>{ct=!0,ue.has(jt)&&(xn=!0,ue.delete(jt)),Se.needsAnimating[jt]=!0;const at=l.getValue(jt);at&&(at.liveStyle=!1)};for(const jt in Qo){const at=qe[jt],Jn=Re[jt];if(Ce.hasOwnProperty(jt))continue;let an=!1;Wee(at)&&Wee(Jn)?an=!tue(at,Jn):an=at!==Jn,an?at!=null?yt(jt):ue.add(jt):at!==void 0&&ue.has(jt)?yt(jt):Se.protectedKeys[jt]=!0}Se.prevProp=J,Se.prevResolvedValues=qe,Se.isActive&&(Ce={...Ce,...qe}),x&&l.blockInitialAnimation&&(ct=!1);const Lt=Xe&&ie;ct&&(!Lt||xn)&&ee.push(...fn.map(jt=>{const at={type:it};if(typeof jt=="string"&&x&&!Lt&&l.manuallyAnimateOnMount&&l.parent){const{parent:Jn}=l,an=U3(Jn,jt);if(Jn.enteringChildren&&an){const{delayChildren:le}=an.transition||{};at.delay=Ece(Jn.enteringChildren,l,le)}}return{animation:jt,options:at}}))}if(ue.size){const pe={};if(typeof V.initial!="boolean"){const it=U3(l,Array.isArray(V.initial)?V.initial[0]:V.initial);it&&it.transition&&(pe.transition=it.transition)}ue.forEach(it=>{const Se=l.getBaseTarget(it),J=l.getValue(it);J&&(J.liveStyle=!0),pe[it]=Se??null}),ee.push({animation:pe})}let $e=!!ee.length;return x&&(V.initial===!1||V.initial===V.animate)&&!l.manuallyAnimateOnMount&&($e=!1),x=!1,$e?d(ee):Promise.resolve()}function z(U,V){if(p[U].isActive===V)return Promise.resolve();l.variantChildren?.forEach(ee=>ee.animationState?.setActive(U,V)),p[U].isActive=V;const Y=O(U);for(const ee in p)p[ee].protectedKeys={};return Y}return{animateChanges:O,setActive:z,setAnimateFunction:N,getState:()=>p,reset:()=>{p=Lse()}}}function _be(l,d){return typeof d=="string"?d!==l:Array.isArray(d)?!tue(d,l):!1}function CT(l=!1){return{isActive:l,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Lse(){return{animate:CT(!0),whileInView:CT(),whileHover:CT(),whileTap:CT(),whileDrag:CT(),whileFocus:CT(),exit:CT()}}const nue=1e-4,Obe=1-nue,Nbe=1+nue,oue=.01,Rbe=0-oue,Mbe=0+oue;function hg(l){return l.max-l.min}function Bbe(l,d,p){return Math.abs(l-d)<=p}function Pse(l,d,p,x=.5){l.origin=x,l.originPoint=xu(d.min,d.max,l.origin),l.scale=hg(p)/hg(d),l.translate=xu(p.min,p.max,l.origin)-l.originPoint,(l.scale>=Obe&&l.scale<=Nbe||isNaN(l.scale))&&(l.scale=1),(l.translate>=Rbe&&l.translate<=Mbe||isNaN(l.translate))&&(l.translate=0)}function XM(l,d,p,x){Pse(l.x,d.x,p.x,x?x.originX:void 0),Pse(l.y,d.y,p.y,x?x.originY:void 0)}function Fse(l,d,p){l.min=p.min+d.min,l.max=l.min+hg(d)}function Lbe(l,d,p){Fse(l.x,d.x,p.x),Fse(l.y,d.y,p.y)}function $se(l,d,p){l.min=d.min-p.min,l.max=l.min+hg(d)}function cz(l,d,p){$se(l.x,d.x,p.x),$se(l.y,d.y,p.y)}function Ise(l,d,p,x,A){return l-=d,l=lz(l,1/p,x),A!==void 0&&(l=lz(l,1/A,x)),l}function Pbe(l,d=0,p=1,x=.5,A,N=l,O=l){if(_v.test(d)&&(d=parseFloat(d),d=xu(O.min,O.max,d/100)-O.min),typeof d!="number")return;let z=xu(N.min,N.max,x);l===N&&(z-=d),l.min=Ise(l.min,d,p,z,A),l.max=Ise(l.max,d,p,z,A)}function Hse(l,d,[p,x,A],N,O){Pbe(l,d[p],d[x],d[A],d.scale,N,O)}const Fbe=["x","scaleX","originX"],$be=["y","scaleY","originY"];function zse(l,d,p,x){Hse(l.x,d,Fbe,p?p.x:void 0,x?x.x:void 0),Hse(l.y,d,$be,p?p.y:void 0,x?x.y:void 0)}function jse(l,d){l.min=d.min,l.max=d.max}function ly(l,d){jse(l.x,d.x),jse(l.y,d.y)}function Vse(l,d){l.translate=d.translate,l.scale=d.scale,l.originPoint=d.originPoint,l.origin=d.origin}function Use(l){return l.translate===0&&l.scale===1}function sue(l){return Use(l.x)&&Use(l.y)}function Zse(l,d){return l.min===d.min&&l.max===d.max}function Ibe(l,d){return Zse(l.x,d.x)&&Zse(l.y,d.y)}function Wse(l,d){return Math.round(l.min)===Math.round(d.min)&&Math.round(l.max)===Math.round(d.max)}function rue(l,d){return Wse(l.x,d.x)&&Wse(l.y,d.y)}function qse(l){return hg(l.x)/hg(l.y)}function Gse(l,d){return l.translate===d.translate&&l.scale===d.scale&&l.originPoint===d.originPoint}function F1(l){return[l("x"),l("y")]}function Hbe(l,d,p){let x="";const A=l.x.translate/d.x,N=l.y.translate/d.y,O=p?.z||0;if((A||N||O)&&(x=`translate3d(${A}px, ${N}px, ${O}px) `),(d.x!==1||d.y!==1)&&(x+=`scale(${1/d.x}, ${1/d.y}) `),p){const{transformPerspective:V,rotate:Y,rotateX:ee,rotateY:ue,skewX:Ce,skewY:be}=p;V&&(x=`perspective(${V}px) ${x}`),Y&&(x+=`rotate(${Y}deg) `),ee&&(x+=`rotateX(${ee}deg) `),ue&&(x+=`rotateY(${ue}deg) `),Ce&&(x+=`skewX(${Ce}deg) `),be&&(x+=`skewY(${be}deg) `)}const z=l.x.scale*d.x,U=l.y.scale*d.y;return(z!==1||U!==1)&&(x+=`scale(${z}, ${U})`),x||"none"}const aue=["TopLeft","TopRight","BottomLeft","BottomRight"],zbe=aue.length,Kse=l=>typeof l=="string"?parseFloat(l):l,Yse=l=>typeof l=="number"||is.test(l);function jbe(l,d,p,x,A,N){A?(l.opacity=xu(0,p.opacity??1,Vbe(x)),l.opacityExit=xu(d.opacity??1,0,Ube(x))):N&&(l.opacity=xu(d.opacity??1,p.opacity??1,x));for(let O=0;O<zbe;O++){const z=`border${aue[O]}Radius`;let U=Xse(d,z),V=Xse(p,z);if(U===void 0&&V===void 0)continue;U||(U=0),V||(V=0),U===0||V===0||Yse(U)===Yse(V)?(l[z]=Math.max(xu(Kse(U),Kse(V),x),0),(_v.test(V)||_v.test(U))&&(l[z]+="%")):l[z]=V}(d.rotate||p.rotate)&&(l.rotate=xu(d.rotate||0,p.rotate||0,x))}function Xse(l,d){return l[d]!==void 0?l[d]:l.borderRadius}const Vbe=iue(0,.5,ece),Ube=iue(.5,.95,I1);function iue(l,d,p){return x=>x<l?0:x>d?1:p(eB(l,d,x))}function Zbe(l,d){const p=mg.now(),x=({timestamp:A})=>{const N=A-p;N>=d&&(FC(x),l(N-d))};return Dc.setup(x,!0),()=>FC(x)}function sB(l,d,p,x={passive:!0}){return l.addEventListener(d,p,x),()=>l.removeEventListener(d,p)}function ZH(l){return bh(l)?l.get():l}function Wbe(l,d,p){const x=bh(l)?l:G3(l);return x.start(Yte("",x,d,p)),x.animation}const qbe=(l,d)=>l.depth-d.depth;class Gbe{constructor(){this.children=[],this.isDirty=!1}add(d){Mte(this.children,d),this.isDirty=!0}remove(d){Bte(this.children,d),this.isDirty=!0}forEach(d){this.isDirty&&this.children.sort(qbe),this.isDirty=!1,this.children.forEach(d)}}class Kbe{constructor(){this.members=[]}add(d){Mte(this.members,d),d.scheduleRender()}remove(d){if(Bte(this.members,d),d===this.prevLead&&(this.prevLead=void 0),d===this.lead){const p=this.members[this.members.length-1];p&&this.promote(p)}}relegate(d){const p=this.members.findIndex(A=>d===A);if(p===0)return!1;let x;for(let A=p;A>=0;A--){const N=this.members[A];if(N.isPresent!==!1){x=N;break}}return x?(this.promote(x),!0):!1}promote(d,p){const x=this.lead;if(d!==x&&(this.prevLead=x,this.lead=d,d.show(),x)){x.instance&&x.scheduleRender(),d.scheduleRender(),d.resumeFrom=x,p&&(d.resumeFrom.preserveOpacity=!0),x.snapshot&&(d.snapshot=x.snapshot,d.snapshot.latestValues=x.animationValues||x.latestValues),d.root&&d.root.isUpdating&&(d.isLayoutDirty=!0);const{crossfade:A}=d.options;A===!1&&x.hide()}}exitAnimationComplete(){this.members.forEach(d=>{const{options:p,resumingFrom:x}=d;p.onExitComplete&&p.onExitComplete(),x&&x.options.onExitComplete&&x.options.onExitComplete()})}scheduleRender(){this.members.forEach(d=>{d.instance&&d.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const WH={hasAnimatedSinceResize:!0,hasEverUpdated:!1},uee=["","X","Y","Z"],Ybe=1e3;let Xbe=0;function dee(l,d,p,x){const{latestValues:A}=d;A[l]&&(p[l]=A[l],d.setStaticValue(l,0),x&&(x[l]=0))}function lue(l){if(l.hasCheckedOptimisedAppear=!0,l.root===l)return;const{visualElement:d}=l.options;if(!d)return;const p=kce(d);if(window.MotionHasOptimisedAnimation(p,"transform")){const{layout:A,layoutId:N}=l.options;window.MotionCancelOptimisedAnimation(p,"transform",Dc,!(A||N))}const{parent:x}=l;x&&!x.hasCheckedOptimisedAppear&&lue(x)}function cue({attachResizeListener:l,defaultParent:d,measureScroll:p,checkIsScrollRoot:x,resetTransform:A}){return class{constructor(O={},z=d?.()){this.id=Xbe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(eye),this.nodes.forEach(sye),this.nodes.forEach(rye),this.nodes.forEach(tye)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=O,this.root=z?z.root||z:this,this.path=z?[...z.path,z]:[],this.parent=z,this.depth=z?z.depth+1:0;for(let U=0;U<this.path.length;U++)this.path[U].shouldResetTransform=!0;this.root===this&&(this.nodes=new Gbe)}addEventListener(O,z){return this.eventHandlers.has(O)||this.eventHandlers.set(O,new Fte),this.eventHandlers.get(O).add(z)}notifyListeners(O,...z){const U=this.eventHandlers.get(O);U&&U.notify(...z)}hasListeners(O){return this.eventHandlers.has(O)}mount(O){if(this.instance)return;this.isSVG=Ice(O)&&!J1e(O),this.instance=O;const{layoutId:z,layout:U,visualElement:V}=this.options;if(V&&!V.current&&V.mount(O),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(U||z)&&(this.isLayoutDirty=!0),l){let Y,ee=0;const ue=()=>this.root.updateBlockedByResize=!1;Dc.read(()=>{ee=window.innerWidth}),l(O,()=>{const Ce=window.innerWidth;Ce!==ee&&(ee=Ce,this.root.updateBlockedByResize=!0,Y&&Y(),Y=Zbe(ue,250),WH.hasAnimatedSinceResize&&(WH.hasAnimatedSinceResize=!1,this.nodes.forEach(ere)))})}z&&this.root.registerSharedNode(z,this),this.options.animate!==!1&&V&&(z||U)&&this.addEventListener("didUpdate",({delta:Y,hasLayoutChanged:ee,hasRelativeLayoutChanged:ue,layout:Ce})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const be=this.options.transition||V.getDefaultTransition()||uye,{onLayoutAnimationStart:$e,onLayoutAnimationComplete:pe}=V.getProps(),it=!this.targetLayout||!rue(this.targetLayout,Ce),Se=!ee&&ue;if(this.options.layoutRoot||this.resumeFrom||Se||ee&&(it||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const J={...Kte(be,"layout"),onPlay:$e,onComplete:pe};(V.shouldReduceMotion||this.options.layoutRoot)&&(J.delay=0,J.type=!1),this.startAnimation(J),this.setAnimationOrigin(Y,Se)}else ee||ere(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=Ce})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const O=this.getStack();O&&O.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),FC(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aye),this.animationId++)}getTransformTemplate(){const{visualElement:O}=this.options;return O&&O.getProps().transformTemplate}willUpdate(O=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&lue(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let Y=0;Y<this.path.length;Y++){const ee=this.path[Y];ee.shouldResetTransform=!0,ee.updateScroll("snapshot"),ee.options.layoutRoot&&ee.willUpdate(!1)}const{layoutId:z,layout:U}=this.options;if(z===void 0&&!U)return;const V=this.getTransformTemplate();this.prevTransformTemplateValue=V?V(this.latestValues,""):void 0,this.updateSnapshot(),O&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Qse);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Jse);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(oye),this.nodes.forEach(Qbe),this.nodes.forEach(Jbe)):this.nodes.forEach(Jse),this.clearAllSnapshots();const z=mg.now();_m.delta=Nv(0,1e3/60,z-_m.timestamp),_m.timestamp=z,_m.isProcessing=!0,nee.update.process(_m),nee.preRender.process(_m),nee.render.process(_m),_m.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ene.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nye),this.sharedNodes.forEach(iye)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Dc.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Dc.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hg(this.snapshot.measuredBox.x)&&!hg(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let U=0;U<this.path.length;U++)this.path[U].updateScroll();const O=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Cf(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:z}=this.options;z&&z.notify("LayoutMeasure",this.layout.layoutBox,O?O.layoutBox:void 0)}updateScroll(O="measure"){let z=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===O&&(z=!1),z&&this.instance){const U=x(this.instance);this.scroll={animationId:this.root.animationId,phase:O,isRoot:U,offset:p(this.instance),wasRoot:this.scroll?this.scroll.isRoot:U}}}resetTransform(){if(!A)return;const O=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,z=this.projectionDelta&&!sue(this.projectionDelta),U=this.getTransformTemplate(),V=U?U(this.latestValues,""):void 0,Y=V!==this.prevTransformTemplateValue;O&&this.instance&&(z||ST(this.latestValues)||Y)&&(A(this.instance,V),this.shouldResetTransform=!1,this.scheduleRender())}measure(O=!0){const z=this.measurePageBox();let U=this.removeElementScroll(z);return O&&(U=this.removeTransform(U)),dye(U),{animationId:this.root.animationId,measuredBox:z,layoutBox:U,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:O}=this.options;if(!O)return Cf();const z=O.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(fye))){const{scroll:V}=this.root;V&&(H3(z.x,V.offset.x),H3(z.y,V.offset.y))}return z}removeElementScroll(O){const z=Cf();if(ly(z,O),this.scroll?.wasRoot)return z;for(let U=0;U<this.path.length;U++){const V=this.path[U],{scroll:Y,options:ee}=V;V!==this.root&&Y&&ee.layoutScroll&&(Y.wasRoot&&ly(z,O),H3(z.x,Y.offset.x),H3(z.y,Y.offset.y))}return z}applyTransform(O,z=!1){const U=Cf();ly(U,O);for(let V=0;V<this.path.length;V++){const Y=this.path[V];!z&&Y.options.layoutScroll&&Y.scroll&&Y!==Y.root&&z3(U,{x:-Y.scroll.offset.x,y:-Y.scroll.offset.y}),ST(Y.latestValues)&&z3(U,Y.latestValues)}return ST(this.latestValues)&&z3(U,this.latestValues),U}removeTransform(O){const z=Cf();ly(z,O);for(let U=0;U<this.path.length;U++){const V=this.path[U];if(!V.instance||!ST(V.latestValues))continue;Xee(V.latestValues)&&V.updateSnapshot();const Y=Cf(),ee=V.measurePageBox();ly(Y,ee),zse(z,V.latestValues,V.snapshot?V.snapshot.layoutBox:void 0,Y)}return ST(this.latestValues)&&zse(z,this.latestValues),z}setTargetDelta(O){this.targetDelta=O,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(O){this.options={...this.options,...O,crossfade:O.crossfade!==void 0?O.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_m.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(O=!1){const z=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=z.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=z.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=z.isSharedProjectionDirty);const U=!!this.resumingFrom||this!==z;if(!(O||U&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:Y,layoutId:ee}=this.options;if(!this.layout||!(Y||ee))return;this.resolvedRelativeTargetAt=_m.timestamp;const ue=this.getClosestProjectingParent();ue&&this.linkedParentVersion!==ue.layoutVersion&&!ue.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(ue&&ue.layout?this.createRelativeTarget(ue,this.layout.layoutBox,ue.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Cf(),this.targetWithTransforms=Cf()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Lbe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ly(this.target,this.layout.layoutBox),Wce(this.target,this.targetDelta)):ly(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,ue&&!!ue.resumingFrom==!!this.resumingFrom&&!ue.options.layoutScroll&&ue.target&&this.animationProgress!==1?this.createRelativeTarget(ue,this.target,ue.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Xee(this.parent.latestValues)||Zce(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(O,z,U){this.relativeParent=O,this.linkedParentVersion=O.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cf(),this.relativeTargetOrigin=Cf(),cz(this.relativeTargetOrigin,z,U),ly(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const O=this.getLead(),z=!!this.resumingFrom||this!==O;let U=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(U=!1),z&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(U=!1),this.resolvedRelativeTargetAt===_m.timestamp&&(U=!1),U)return;const{layout:V,layoutId:Y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(V||Y))return;ly(this.layoutCorrected,this.layout.layoutBox);const ee=this.treeScale.x,ue=this.treeScale.y;ube(this.layoutCorrected,this.treeScale,this.path,z),O.layout&&!O.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(O.target=O.layout.layoutBox,O.targetWithTransforms=Cf());const{target:Ce}=O;if(!Ce){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Vse(this.prevProjectionDelta.x,this.projectionDelta.x),Vse(this.prevProjectionDelta.y,this.projectionDelta.y)),XM(this.projectionDelta,this.layoutCorrected,Ce,this.latestValues),(this.treeScale.x!==ee||this.treeScale.y!==ue||!Gse(this.projectionDelta.x,this.prevProjectionDelta.x)||!Gse(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",Ce))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(O=!0){if(this.options.visualElement?.scheduleRender(),O){const z=this.getStack();z&&z.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=I3(),this.projectionDelta=I3(),this.projectionDeltaWithTransform=I3()}setAnimationOrigin(O,z=!1){const U=this.snapshot,V=U?U.latestValues:{},Y={...this.latestValues},ee=I3();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!z;const ue=Cf(),Ce=U?U.source:void 0,be=this.layout?this.layout.source:void 0,$e=Ce!==be,pe=this.getStack(),it=!pe||pe.members.length<=1,Se=!!($e&&!it&&this.options.crossfade===!0&&!this.path.some(cye));this.animationProgress=0;let J;this.mixTargetDelta=vt=>{const Gt=vt/1e3;tre(ee.x,O.x,Gt),tre(ee.y,O.y,Gt),this.setTargetDelta(ee),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cz(ue,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lye(this.relativeTarget,this.relativeTargetOrigin,ue,Gt),J&&Ibe(this.relativeTarget,J)&&(this.isProjectionDirty=!1),J||(J=Cf()),ly(J,this.relativeTarget)),$e&&(this.animationValues=Y,jbe(Y,V,this.latestValues,Gt,Se,it)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Gt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(O){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(FC(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Dc.update(()=>{WH.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=G3(0)),this.currentAnimation=Wbe(this.motionValue,[0,1e3],{...O,velocity:0,isSync:!0,onUpdate:z=>{this.mixTargetDelta(z),O.onUpdate&&O.onUpdate(z)},onStop:()=>{},onComplete:()=>{O.onComplete&&O.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const O=this.getStack();O&&O.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ybe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const O=this.getLead();let{targetWithTransforms:z,target:U,layout:V,latestValues:Y}=O;if(!(!z||!U||!V)){if(this!==O&&this.layout&&V&&uue(this.options.animationType,this.layout.layoutBox,V.layoutBox)){U=this.target||Cf();const ee=hg(this.layout.layoutBox.x);U.x.min=O.target.x.min,U.x.max=U.x.min+ee;const ue=hg(this.layout.layoutBox.y);U.y.min=O.target.y.min,U.y.max=U.y.min+ue}ly(z,U),z3(z,Y),XM(this.projectionDeltaWithTransform,this.layoutCorrected,z,Y)}}registerSharedNode(O,z){this.sharedNodes.has(O)||this.sharedNodes.set(O,new Kbe),this.sharedNodes.get(O).add(z);const V=z.options.initialPromotionConfig;z.promote({transition:V?V.transition:void 0,preserveFollowOpacity:V&&V.shouldPreserveFollowOpacity?V.shouldPreserveFollowOpacity(z):void 0})}isLead(){const O=this.getStack();return O?O.lead===this:!0}getLead(){const{layoutId:O}=this.options;return O?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:O}=this.options;return O?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:O}=this.options;if(O)return this.root.sharedNodes.get(O)}promote({needsReset:O,transition:z,preserveFollowOpacity:U}={}){const V=this.getStack();V&&V.promote(this,U),O&&(this.projectionDelta=void 0,this.needsReset=!0),z&&this.setOptions({transition:z})}relegate(){const O=this.getStack();return O?O.relegate(this):!1}resetSkewAndRotation(){const{visualElement:O}=this.options;if(!O)return;let z=!1;const{latestValues:U}=O;if((U.z||U.rotate||U.rotateX||U.rotateY||U.rotateZ||U.skewX||U.skewY)&&(z=!0),!z)return;const V={};U.z&&dee("z",O,V,this.animationValues);for(let Y=0;Y<uee.length;Y++)dee(`rotate${uee[Y]}`,O,V,this.animationValues),dee(`skew${uee[Y]}`,O,V,this.animationValues);O.render();for(const Y in V)O.setStaticValue(Y,V[Y]),this.animationValues&&(this.animationValues[Y]=V[Y]);O.scheduleRender()}applyProjectionStyles(O,z){if(!this.instance||this.isSVG)return;if(!this.isVisible){O.visibility="hidden";return}const U=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,O.visibility="",O.opacity="",O.pointerEvents=ZH(z?.pointerEvents)||"",O.transform=U?U(this.latestValues,""):"none";return}const V=this.getLead();if(!this.projectionDelta||!this.layout||!V.target){this.options.layoutId&&(O.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,O.pointerEvents=ZH(z?.pointerEvents)||""),this.hasProjected&&!ST(this.latestValues)&&(O.transform=U?U({},""):"none",this.hasProjected=!1);return}O.visibility="";const Y=V.animationValues||V.latestValues;this.applyTransformsToTarget();let ee=Hbe(this.projectionDeltaWithTransform,this.treeScale,Y);U&&(ee=U(Y,ee)),O.transform=ee;const{x:ue,y:Ce}=this.projectionDelta;O.transformOrigin=`${ue.origin*100}% ${Ce.origin*100}% 0`,V.animationValues?O.opacity=V===this?Y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:Y.opacityExit:O.opacity=V===this?Y.opacity!==void 0?Y.opacity:"":Y.opacityExit!==void 0?Y.opacityExit:0;for(const be in Jee){if(Y[be]===void 0)continue;const{correct:$e,applyTo:pe,isCSSVariable:it}=Jee[be],Se=ee==="none"?Y[be]:$e(Y[be],V);if(pe){const J=pe.length;for(let vt=0;vt<J;vt++)O[pe[vt]]=Se}else it?this.options.visualElement.renderState.vars[be]=Se:O[be]=Se}this.options.layoutId&&(O.pointerEvents=V===this?ZH(z?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(O=>O.currentAnimation?.stop()),this.root.nodes.forEach(Qse),this.root.sharedNodes.clear()}}}function Qbe(l){l.updateLayout()}function Jbe(l){const d=l.resumeFrom?.snapshot||l.snapshot;if(l.isLead()&&l.layout&&d&&l.hasListeners("didUpdate")){const{layoutBox:p,measuredBox:x}=l.layout,{animationType:A}=l.options,N=d.source!==l.layout.source;A==="size"?F1(Y=>{const ee=N?d.measuredBox[Y]:d.layoutBox[Y],ue=hg(ee);ee.min=p[Y].min,ee.max=ee.min+ue}):uue(A,d.layoutBox,p)&&F1(Y=>{const ee=N?d.measuredBox[Y]:d.layoutBox[Y],ue=hg(p[Y]);ee.max=ee.min+ue,l.relativeTarget&&!l.currentAnimation&&(l.isProjectionDirty=!0,l.relativeTarget[Y].max=l.relativeTarget[Y].min+ue)});const O=I3();XM(O,p,d.layoutBox);const z=I3();N?XM(z,l.applyTransform(x,!0),d.measuredBox):XM(z,p,d.layoutBox);const U=!sue(O);let V=!1;if(!l.resumeFrom){const Y=l.getClosestProjectingParent();if(Y&&!Y.resumeFrom){const{snapshot:ee,layout:ue}=Y;if(ee&&ue){const Ce=Cf();cz(Ce,d.layoutBox,ee.layoutBox);const be=Cf();cz(be,p,ue.layoutBox),rue(Ce,be)||(V=!0),Y.options.layoutRoot&&(l.relativeTarget=be,l.relativeTargetOrigin=Ce,l.relativeParent=Y)}}}l.notifyListeners("didUpdate",{layout:p,snapshot:d,delta:z,layoutDelta:O,hasLayoutChanged:U,hasRelativeLayoutChanged:V})}else if(l.isLead()){const{onExitComplete:p}=l.options;p&&p()}l.options.transition=void 0}function eye(l){l.parent&&(l.isProjecting()||(l.isProjectionDirty=l.parent.isProjectionDirty),l.isSharedProjectionDirty||(l.isSharedProjectionDirty=!!(l.isProjectionDirty||l.parent.isProjectionDirty||l.parent.isSharedProjectionDirty)),l.isTransformDirty||(l.isTransformDirty=l.parent.isTransformDirty))}function tye(l){l.isProjectionDirty=l.isSharedProjectionDirty=l.isTransformDirty=!1}function nye(l){l.clearSnapshot()}function Qse(l){l.clearMeasurements()}function Jse(l){l.isLayoutDirty=!1}function oye(l){const{visualElement:d}=l.options;d&&d.getProps().onBeforeLayoutMeasure&&d.notify("BeforeLayoutMeasure"),l.resetTransform()}function ere(l){l.finishAnimation(),l.targetDelta=l.relativeTarget=l.target=void 0,l.isProjectionDirty=!0}function sye(l){l.resolveTargetDelta()}function rye(l){l.calcProjection()}function aye(l){l.resetSkewAndRotation()}function iye(l){l.removeLeadSnapshot()}function tre(l,d,p){l.translate=xu(d.translate,0,p),l.scale=xu(d.scale,1,p),l.origin=d.origin,l.originPoint=d.originPoint}function nre(l,d,p,x){l.min=xu(d.min,p.min,x),l.max=xu(d.max,p.max,x)}function lye(l,d,p,x){nre(l.x,d.x,p.x,x),nre(l.y,d.y,p.y,x)}function cye(l){return l.animationValues&&l.animationValues.opacityExit!==void 0}const uye={duration:.45,ease:[.4,0,.1,1]},ore=l=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(l),sre=ore("applewebkit/")&&!ore("chrome/")?Math.round:I1;function rre(l){l.min=sre(l.min),l.max=sre(l.max)}function dye(l){rre(l.x),rre(l.y)}function uue(l,d,p){return l==="position"||l==="preserve-aspect"&&!Bbe(qse(d),qse(p),.2)}function fye(l){return l!==l.root&&l.scroll?.wasRoot}const mye=cue({attachResizeListener:(l,d)=>sB(l,"resize",d),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fee={current:void 0},due=cue({measureScroll:l=>({x:l.scrollLeft,y:l.scrollTop}),defaultParent:()=>{if(!fee.current){const l=new mye({});l.mount(window),l.setOptions({layoutScroll:!0}),fee.current=l}return fee.current},resetTransform:(l,d)=>{l.style.transform=d!==void 0?d:"none"},checkIsScrollRoot:l=>window.getComputedStyle(l).position==="fixed"}),ane=Ze.createContext({transformPagePoint:l=>l,isStatic:!1,reducedMotion:"never"});function are(l,d){if(typeof l=="function")return l(d);l!=null&&(l.current=d)}function hye(...l){return d=>{let p=!1;const x=l.map(A=>{const N=are(A,d);return!p&&typeof N=="function"&&(p=!0),N});if(p)return()=>{for(let A=0;A<x.length;A++){const N=x[A];typeof N=="function"?N():are(l[A],null)}}}}function gye(...l){return Ze.useCallback(hye(...l),l)}class pye extends Ze.Component{getSnapshotBeforeUpdate(d){const p=this.props.childRef.current;if(p&&d.isPresent&&!this.props.isPresent){const x=p.offsetParent,A=Bce(x)&&x.offsetWidth||0,N=this.props.sizeRef.current;N.height=p.offsetHeight||0,N.width=p.offsetWidth||0,N.top=p.offsetTop,N.left=p.offsetLeft,N.right=A-N.width-N.left}return null}componentDidUpdate(){}render(){return this.props.children}}function bye({children:l,isPresent:d,anchorX:p,root:x}){const A=Ze.useId(),N=Ze.useRef(null),O=Ze.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:z}=Ze.useContext(ane),U=l.props?.ref??l?.ref,V=gye(N,U);return Ze.useInsertionEffect(()=>{const{width:Y,height:ee,top:ue,left:Ce,right:be}=O.current;if(d||!N.current||!Y||!ee)return;const $e=p==="left"?`left: ${Ce}`:`right: ${be}`;N.current.dataset.motionPopId=A;const pe=document.createElement("style");z&&(pe.nonce=z);const it=x??document.head;return it.appendChild(pe),pe.sheet&&pe.sheet.insertRule(`
          [data-motion-pop-id="${A}"] {
            position: absolute !important;
            width: ${Y}px !important;
            height: ${ee}px !important;
            ${$e}px !important;
            top: ${ue}px !important;
          }
        `),()=>{it.contains(pe)&&it.removeChild(pe)}},[d]),B.jsx(pye,{isPresent:d,childRef:N,sizeRef:O,children:Ze.cloneElement(l,{ref:V})})}const yye=({children:l,initial:d,isPresent:p,onExitComplete:x,custom:A,presenceAffectsLayout:N,mode:O,anchorX:z,root:U})=>{const V=Rte(vye),Y=Ze.useId();let ee=!0,ue=Ze.useMemo(()=>(ee=!1,{id:Y,initial:d,isPresent:p,custom:A,onExitComplete:Ce=>{V.set(Ce,!0);for(const be of V.values())if(!be)return;x&&x()},register:Ce=>(V.set(Ce,!1),()=>V.delete(Ce))}),[p,V,x]);return N&&ee&&(ue={...ue}),Ze.useMemo(()=>{V.forEach((Ce,be)=>V.set(be,!1))},[p]),Ze.useEffect(()=>{!p&&!V.size&&x&&x()},[p]),O==="popLayout"&&(l=B.jsx(bye,{isPresent:p,anchorX:z,root:U,children:l})),B.jsx(Ez.Provider,{value:ue,children:l})};function vye(){return new Map}function fue(l=!0){const d=Ze.useContext(Ez);if(d===null)return[!0,null];const{isPresent:p,onExitComplete:x,register:A}=d,N=Ze.useId();Ze.useEffect(()=>{if(l)return A(N)},[l]);const O=Ze.useCallback(()=>l&&x&&x(N),[N,x,l]);return!p&&x?[!1,O]:[!0]}const LH=l=>l.key||"";function ire(l){const d=[];return Ze.Children.forEach(l,p=>{Ze.isValidElement(p)&&d.push(p)}),d}const HC=({children:l,custom:d,initial:p=!0,onExitComplete:x,presenceAffectsLayout:A=!0,mode:N="sync",propagate:O=!1,anchorX:z="left",root:U})=>{const[V,Y]=fue(O),ee=Ze.useMemo(()=>ire(l),[l]),ue=O&&!V?[]:ee.map(LH),Ce=Ze.useRef(!0),be=Ze.useRef(ee),$e=Rte(()=>new Map),pe=Ze.useRef(new Set),[it,Se]=Ze.useState(ee),[J,vt]=Ze.useState(ee);Vle(()=>{Ce.current=!1,be.current=ee;for(let ie=0;ie<J.length;ie++){const ct=LH(J[ie]);ue.includes(ct)?($e.delete(ct),pe.current.delete(ct)):$e.get(ct)!==!0&&$e.set(ct,!1)}},[J,ue.length,ue.join("-")]);const Gt=[];if(ee!==it){let ie=[...ee];for(let ct=0;ct<J.length;ct++){const xn=J[ct],fn=LH(xn);ue.includes(fn)||(ie.splice(ct,0,xn),Gt.push(xn))}return N==="wait"&&Gt.length&&(ie=Gt),vt(ire(ie)),Se(ee),null}const{forceRender:Xe}=Ze.useContext(Nte);return B.jsx(B.Fragment,{children:J.map(ie=>{const ct=LH(ie),xn=O&&!V?!1:ee===J||ue.includes(ct),fn=()=>{if(pe.current.has(ct))return;if(pe.current.add(ct),$e.has(ct))$e.set(ct,!0);else return;let qe=!0;$e.forEach(Re=>{Re||(qe=!1)}),qe&&(Xe?.(),vt(be.current),O&&Y?.(),x&&x())};return B.jsx(yye,{isPresent:xn,initial:!Ce.current||p?void 0:!1,custom:d,presenceAffectsLayout:A,mode:N,root:U,onExitComplete:xn?void 0:fn,anchorX:z,children:ie},ct)})})},mue=Ze.createContext({strict:!1}),lre={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let cre=!1;function xye(){if(cre)return;const l={};for(const d in lre)l[d]={isEnabled:p=>lre[d].some(x=>!!p[x])};jce(l),cre=!0}function hue(){return xye(),abe()}function wye(l){const d=hue();for(const p in l)d[p]={...d[p],...l[p]};jce(d)}const Cye=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function uz(l){return l.startsWith("while")||l.startsWith("drag")&&l!=="draggable"||l.startsWith("layout")||l.startsWith("onTap")||l.startsWith("onPan")||l.startsWith("onLayout")||Cye.has(l)}let gue=l=>!uz(l);function Sye(l){typeof l=="function"&&(gue=d=>d.startsWith("on")?!uz(d):l(d))}try{Sye(require("@emotion/is-prop-valid").default)}catch{}function Eye(l,d,p){const x={};for(const A in l)A==="values"&&typeof l.values=="object"||(gue(A)||p===!0&&uz(A)||!d&&!uz(A)||l.draggable&&A.startsWith("onDrag"))&&(x[A]=l[A]);return x}const kz=Ze.createContext({});function Tye(l,d){if(Az(l)){const{initial:p,animate:x}=l;return{initial:p===!1||oB(p)?p:void 0,animate:oB(x)?x:void 0}}return l.inherit!==!1?d:{}}function Aye(l){const{initial:d,animate:p}=Tye(l,Ze.useContext(kz));return Ze.useMemo(()=>({initial:d,animate:p}),[ure(d),ure(p)])}function ure(l){return Array.isArray(l)?l.join(" "):l}const ine=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pue(l,d,p){for(const x in d)!bh(d[x])&&!Kce(x,p)&&(l[x]=d[x])}function kye({transformTemplate:l},d){return Ze.useMemo(()=>{const p=ine();return sne(p,d,l),Object.assign({},p.vars,p.style)},[d])}function Dye(l,d){const p=l.style||{},x={};return pue(x,p,l),Object.assign(x,kye(l,d)),x}function _ye(l,d){const p={},x=Dye(l,d);return l.drag&&l.dragListener!==!1&&(p.draggable=!1,x.userSelect=x.WebkitUserSelect=x.WebkitTouchCallout="none",x.touchAction=l.drag===!0?"none":`pan-${l.drag==="x"?"y":"x"}`),l.tabIndex===void 0&&(l.onTap||l.onTapStart||l.whileTap)&&(p.tabIndex=0),p.style=x,p}const bue=()=>({...ine(),attrs:{}});function Oye(l,d,p,x){const A=Ze.useMemo(()=>{const N=bue();return Yce(N,d,Qce(x),l.transformTemplate,l.style),{...N.attrs,style:{...N.style}}},[d]);if(l.style){const N={};pue(N,l.style,l),A.style={...N,...A.style}}return A}const Nye=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lne(l){return typeof l!="string"||l.includes("-")?!1:!!(Nye.indexOf(l)>-1||/[A-Z]/u.test(l))}function Rye(l,d,p,{latestValues:x},A,N=!1,O){const U=(O??lne(l)?Oye:_ye)(d,x,A,l),V=Eye(d,typeof l=="string",N),Y=l!==Ze.Fragment?{...V,...U,ref:p}:{},{children:ee}=d,ue=Ze.useMemo(()=>bh(ee)?ee.get():ee,[ee]);return Ze.createElement(l,{...Y,children:ue})}function Mye({scrapeMotionValuesFromProps:l,createRenderState:d},p,x,A){return{latestValues:Bye(p,x,A,l),renderState:d()}}function Bye(l,d,p,x){const A={},N=x(l,{});for(const ue in N)A[ue]=ZH(N[ue]);let{initial:O,animate:z}=l;const U=Az(l),V=zce(l);d&&V&&!U&&l.inherit!==!1&&(O===void 0&&(O=d.initial),z===void 0&&(z=d.animate));let Y=p?p.initial===!1:!1;Y=Y||O===!1;const ee=Y?z:O;if(ee&&typeof ee!="boolean"&&!Tz(ee)){const ue=Array.isArray(ee)?ee:[ee];for(let Ce=0;Ce<ue.length;Ce++){const be=Xte(l,ue[Ce]);if(be){const{transitionEnd:$e,transition:pe,...it}=be;for(const Se in it){let J=it[Se];if(Array.isArray(J)){const vt=Y?J.length-1:0;J=J[vt]}J!==null&&(A[Se]=J)}for(const Se in $e)A[Se]=$e[Se]}}}return A}const yue=l=>(d,p)=>{const x=Ze.useContext(kz),A=Ze.useContext(Ez),N=()=>Mye(l,d,x,A);return p?N():Rte(N)},Lye=yue({scrapeMotionValuesFromProps:rne,createRenderState:ine}),Pye=yue({scrapeMotionValuesFromProps:Jce,createRenderState:bue}),Fye=Symbol.for("motionComponentSymbol");function $ye(l,d,p){const x=Ze.useRef(p);Ze.useInsertionEffect(()=>{x.current=p});const A=Ze.useRef(null);return Ze.useCallback(N=>{N&&l.onMount?.(N),d&&(N?d.mount(N):d.unmount());const O=x.current;if(typeof O=="function")if(N){const z=O(N);typeof z=="function"&&(A.current=z)}else A.current?(A.current(),A.current=null):O(N);else O&&(O.current=N)},[d])}const vue=Ze.createContext({});function GM(l){return l&&typeof l=="object"&&Object.prototype.hasOwnProperty.call(l,"current")}function Iye(l,d,p,x,A,N){const{visualElement:O}=Ze.useContext(kz),z=Ze.useContext(mue),U=Ze.useContext(Ez),V=Ze.useContext(ane).reducedMotion,Y=Ze.useRef(null);x=x||z.renderer,!Y.current&&x&&(Y.current=x(l,{visualState:d,parent:O,props:p,presenceContext:U,blockInitialAnimation:U?U.initial===!1:!1,reducedMotionConfig:V,isSVG:N}));const ee=Y.current,ue=Ze.useContext(vue);ee&&!ee.projection&&A&&(ee.type==="html"||ee.type==="svg")&&Hye(Y.current,p,A,ue);const Ce=Ze.useRef(!1);Ze.useInsertionEffect(()=>{ee&&Ce.current&&ee.update(p,U)});const be=p[Ace],$e=Ze.useRef(!!be&&!window.MotionHandoffIsComplete?.(be)&&window.MotionHasOptimisedAnimation?.(be));return Vle(()=>{ee&&(Ce.current=!0,window.MotionIsMounted=!0,ee.updateFeatures(),ee.scheduleRenderMicrotask(),$e.current&&ee.animationState&&ee.animationState.animateChanges())}),Ze.useEffect(()=>{ee&&(!$e.current&&ee.animationState&&ee.animationState.animateChanges(),$e.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(be)}),$e.current=!1),ee.enteringChildren=void 0)}),ee}function Hye(l,d,p,x){const{layoutId:A,layout:N,drag:O,dragConstraints:z,layoutScroll:U,layoutRoot:V,layoutCrossfade:Y}=d;l.projection=new p(l.latestValues,d["data-framer-portal-id"]?void 0:xue(l.parent)),l.projection.setOptions({layoutId:A,layout:N,alwaysMeasureLayout:!!O||z&&GM(z),visualElement:l,animationType:typeof N=="string"?N:"both",initialPromotionConfig:x,crossfade:Y,layoutScroll:U,layoutRoot:V})}function xue(l){if(l)return l.options.allowProjection!==!1?l.projection:xue(l.parent)}function mee(l,{forwardMotionProps:d=!1,type:p}={},x,A){x&&wye(x);const N=p?p==="svg":lne(l),O=N?Pye:Lye;function z(V,Y){let ee;const ue={...Ze.useContext(ane),...V,layoutId:zye(V)},{isStatic:Ce}=ue,be=Aye(V),$e=O(V,Ce);if(!Ce&&jle){jye();const pe=Vye(ue);ee=pe.MeasureLayout,be.visualElement=Iye(l,$e,ue,A,pe.ProjectionNode,N)}return B.jsxs(kz.Provider,{value:be,children:[ee&&be.visualElement?B.jsx(ee,{visualElement:be.visualElement,...ue}):null,Rye(l,V,$ye($e,be.visualElement,Y),$e,Ce,d,N)]})}z.displayName=`motion.${typeof l=="string"?l:`create(${l.displayName??l.name??""})`}`;const U=Ze.forwardRef(z);return U[Fye]=l,U}function zye({layoutId:l}){const d=Ze.useContext(Nte).id;return d&&l!==void 0?d+"-"+l:l}function jye(l,d){Ze.useContext(mue).strict}function Vye(l){const d=hue(),{drag:p,layout:x}=d;if(!p&&!x)return{};const A={...p,...x};return{MeasureLayout:p?.isEnabled(l)||x?.isEnabled(l)?A.MeasureLayout:void 0,ProjectionNode:A.ProjectionNode}}function Uye(l,d){if(typeof Proxy>"u")return mee;const p=new Map,x=(N,O)=>mee(N,O,l,d),A=(N,O)=>x(N,O);return new Proxy(A,{get:(N,O)=>O==="create"?x:(p.has(O)||p.set(O,mee(O,void 0,l,d)),p.get(O))})}const Zye=(l,d)=>d.isSVG??lne(l)?new Sbe(d):new bbe(d,{allowProjection:l!==Ze.Fragment});class Wye extends IC{constructor(d){super(d),d.animationState||(d.animationState=Dbe(d))}updateAnimationControlsSubscription(){const{animate:d}=this.node.getProps();Tz(d)&&(this.unmountControls=d.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:d}=this.node.getProps(),{animate:p}=this.node.prevProps||{};d!==p&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let qye=0;class Gye extends IC{constructor(){super(...arguments),this.id=qye++}update(){if(!this.node.presenceContext)return;const{isPresent:d,onExitComplete:p}=this.node.presenceContext,{isPresent:x}=this.node.prevPresenceContext||{};if(!this.node.animationState||d===x)return;const A=this.node.animationState.setActive("exit",!d);p&&!d&&A.then(()=>{p(this.id)})}mount(){const{register:d,onExitComplete:p}=this.node.presenceContext||{};p&&p(this.id),d&&(this.unmount=d(this.id))}unmount(){}}const Kye={animation:{Feature:Wye},exit:{Feature:Gye}};function xB(l){return{point:{x:l.pageX,y:l.pageY}}}const Yye=l=>d=>tne(d)&&l(d,xB(d));function QM(l,d,p,x){return sB(l,d,Yye(p),x)}const wue=({current:l})=>l?l.ownerDocument.defaultView:null,dre=(l,d)=>Math.abs(l-d);function Xye(l,d){const p=dre(l.x,d.x),x=dre(l.y,d.y);return Math.sqrt(p**2+x**2)}const fre=new Set(["auto","scroll"]);class Cue{constructor(d,p,{transformPagePoint:x,contextWindow:A=window,dragSnapToOrigin:N=!1,distanceThreshold:O=3,element:z}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=Ce=>{this.handleScroll(Ce.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Ce=gee(this.lastMoveEventInfo,this.history),be=this.startEvent!==null,$e=Xye(Ce.offset,{x:0,y:0})>=this.distanceThreshold;if(!be&&!$e)return;const{point:pe}=Ce,{timestamp:it}=_m;this.history.push({...pe,timestamp:it});const{onStart:Se,onMove:J}=this.handlers;be||(Se&&Se(this.lastMoveEvent,Ce),this.startEvent=this.lastMoveEvent),J&&J(this.lastMoveEvent,Ce)},this.handlePointerMove=(Ce,be)=>{this.lastMoveEvent=Ce,this.lastMoveEventInfo=hee(be,this.transformPagePoint),Dc.update(this.updatePoint,!0)},this.handlePointerUp=(Ce,be)=>{this.end();const{onEnd:$e,onSessionEnd:pe,resumeAnimation:it}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&it&&it(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Se=gee(Ce.type==="pointercancel"?this.lastMoveEventInfo:hee(be,this.transformPagePoint),this.history);this.startEvent&&$e&&$e(Ce,Se),pe&&pe(Ce,Se)},!tne(d))return;this.dragSnapToOrigin=N,this.handlers=p,this.transformPagePoint=x,this.distanceThreshold=O,this.contextWindow=A||window;const U=xB(d),V=hee(U,this.transformPagePoint),{point:Y}=V,{timestamp:ee}=_m;this.history=[{...Y,timestamp:ee}];const{onSessionStart:ue}=p;ue&&ue(d,gee(V,this.history)),this.removeListeners=bB(QM(this.contextWindow,"pointermove",this.handlePointerMove),QM(this.contextWindow,"pointerup",this.handlePointerUp),QM(this.contextWindow,"pointercancel",this.handlePointerUp)),z&&this.startScrollTracking(z)}startScrollTracking(d){let p=d.parentElement;for(;p;){const x=getComputedStyle(p);(fre.has(x.overflowX)||fre.has(x.overflowY))&&this.scrollPositions.set(p,{x:p.scrollLeft,y:p.scrollTop}),p=p.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(d){const p=this.scrollPositions.get(d);if(!p)return;const x=d===window,A=x?{x:window.scrollX,y:window.scrollY}:{x:d.scrollLeft,y:d.scrollTop},N={x:A.x-p.x,y:A.y-p.y};N.x===0&&N.y===0||(x?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=N.x,this.lastMoveEventInfo.point.y+=N.y):this.history.length>0&&(this.history[0].x-=N.x,this.history[0].y-=N.y),this.scrollPositions.set(d,A),Dc.update(this.updatePoint,!0))}updateHandlers(d){this.handlers=d}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),FC(this.updatePoint)}}function hee(l,d){return d?{point:d(l.point)}:l}function mre(l,d){return{x:l.x-d.x,y:l.y-d.y}}function gee({point:l},d){return{point:l,delta:mre(l,Sue(d)),offset:mre(l,Qye(d)),velocity:Jye(d,.1)}}function Qye(l){return l[0]}function Sue(l){return l[l.length-1]}function Jye(l,d){if(l.length<2)return{x:0,y:0};let p=l.length-1,x=null;const A=Sue(l);for(;p>=0&&(x=l[p],!(A.timestamp-x.timestamp>v2(d)));)p--;if(!x)return{x:0,y:0};const N=$1(A.timestamp-x.timestamp);if(N===0)return{x:0,y:0};const O={x:(A.x-x.x)/N,y:(A.y-x.y)/N};return O.x===1/0&&(O.x=0),O.y===1/0&&(O.y=0),O}function eve(l,{min:d,max:p},x){return d!==void 0&&l<d?l=x?xu(d,l,x.min):Math.max(l,d):p!==void 0&&l>p&&(l=x?xu(p,l,x.max):Math.min(l,p)),l}function hre(l,d,p){return{min:d!==void 0?l.min+d:void 0,max:p!==void 0?l.max+p-(l.max-l.min):void 0}}function tve(l,{top:d,left:p,bottom:x,right:A}){return{x:hre(l.x,p,A),y:hre(l.y,d,x)}}function gre(l,d){let p=d.min-l.min,x=d.max-l.max;return d.max-d.min<l.max-l.min&&([p,x]=[x,p]),{min:p,max:x}}function nve(l,d){return{x:gre(l.x,d.x),y:gre(l.y,d.y)}}function ove(l,d){let p=.5;const x=hg(l),A=hg(d);return A>x?p=eB(d.min,d.max-x,l.min):x>A&&(p=eB(l.min,l.max-A,d.min)),Nv(0,1,p)}function sve(l,d){const p={};return d.min!==void 0&&(p.min=d.min-l.min),d.max!==void 0&&(p.max=d.max-l.min),p}const ete=.35;function rve(l=ete){return l===!1?l=0:l===!0&&(l=ete),{x:pre(l,"left","right"),y:pre(l,"top","bottom")}}function pre(l,d,p){return{min:bre(l,d),max:bre(l,p)}}function bre(l,d){return typeof l=="number"?l:l[d]||0}const ave=new WeakMap;class ive{constructor(d){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Cf(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=d}start(d,{snapToCursor:p=!1,distanceThreshold:x}={}){const{presenceContext:A}=this.visualElement;if(A&&A.isPresent===!1)return;const N=ee=>{p?(this.stopAnimation(),this.snapToCursor(xB(ee).point)):this.pauseAnimation()},O=(ee,ue)=>{this.stopAnimation();const{drag:Ce,dragPropagation:be,onDragStart:$e}=this.getProps();if(Ce&&!be&&(this.openDragLock&&this.openDragLock(),this.openDragLock=G1e(Ce),!this.openDragLock))return;this.latestPointerEvent=ee,this.latestPanInfo=ue,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),F1(it=>{let Se=this.getAxisMotionValue(it).get()||0;if(_v.test(Se)){const{projection:J}=this.visualElement;if(J&&J.layout){const vt=J.layout.layoutBox[it];vt&&(Se=hg(vt)*(parseFloat(Se)/100))}}this.originPoint[it]=Se}),$e&&Dc.postRender(()=>$e(ee,ue)),qee(this.visualElement,"transform");const{animationState:pe}=this.visualElement;pe&&pe.setActive("whileDrag",!0)},z=(ee,ue)=>{this.latestPointerEvent=ee,this.latestPanInfo=ue;const{dragPropagation:Ce,dragDirectionLock:be,onDirectionLock:$e,onDrag:pe}=this.getProps();if(!Ce&&!this.openDragLock)return;const{offset:it}=ue;if(be&&this.currentDirection===null){this.currentDirection=lve(it),this.currentDirection!==null&&$e&&$e(this.currentDirection);return}this.updateAxis("x",ue.point,it),this.updateAxis("y",ue.point,it),this.visualElement.render(),pe&&pe(ee,ue)},U=(ee,ue)=>{this.latestPointerEvent=ee,this.latestPanInfo=ue,this.stop(ee,ue),this.latestPointerEvent=null,this.latestPanInfo=null},V=()=>F1(ee=>this.getAnimationState(ee)==="paused"&&this.getAxisMotionValue(ee).animation?.play()),{dragSnapToOrigin:Y}=this.getProps();this.panSession=new Cue(d,{onSessionStart:N,onStart:O,onMove:z,onSessionEnd:U,resumeAnimation:V},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:Y,distanceThreshold:x,contextWindow:wue(this.visualElement),element:this.visualElement.current})}stop(d,p){const x=d||this.latestPointerEvent,A=p||this.latestPanInfo,N=this.isDragging;if(this.cancel(),!N||!A||!x)return;const{velocity:O}=A;this.startAnimation(O);const{onDragEnd:z}=this.getProps();z&&Dc.postRender(()=>z(x,A))}cancel(){this.isDragging=!1;const{projection:d,animationState:p}=this.visualElement;d&&(d.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:x}=this.getProps();!x&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),p&&p.setActive("whileDrag",!1)}updateAxis(d,p,x){const{drag:A}=this.getProps();if(!x||!PH(d,A,this.currentDirection))return;const N=this.getAxisMotionValue(d);let O=this.originPoint[d]+x[d];this.constraints&&this.constraints[d]&&(O=eve(O,this.constraints[d],this.elastic[d])),N.set(O)}resolveConstraints(){const{dragConstraints:d,dragElastic:p}=this.getProps(),x=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,A=this.constraints;d&&GM(d)?this.constraints||(this.constraints=this.resolveRefConstraints()):d&&x?this.constraints=tve(x.layoutBox,d):this.constraints=!1,this.elastic=rve(p),A!==this.constraints&&x&&this.constraints&&!this.hasMutatedConstraints&&F1(N=>{this.constraints!==!1&&this.getAxisMotionValue(N)&&(this.constraints[N]=sve(x.layoutBox[N],this.constraints[N]))})}resolveRefConstraints(){const{dragConstraints:d,onMeasureDragConstraints:p}=this.getProps();if(!d||!GM(d))return!1;const x=d.current,{projection:A}=this.visualElement;if(!A||!A.layout)return!1;const N=dbe(x,A.root,this.visualElement.getTransformPagePoint());let O=nve(A.layout.layoutBox,N);if(p){const z=p(lbe(O));this.hasMutatedConstraints=!!z,z&&(O=Uce(z))}return O}startAnimation(d){const{drag:p,dragMomentum:x,dragElastic:A,dragTransition:N,dragSnapToOrigin:O,onDragTransitionEnd:z}=this.getProps(),U=this.constraints||{},V=F1(Y=>{if(!PH(Y,p,this.currentDirection))return;let ee=U&&U[Y]||{};O&&(ee={min:0,max:0});const ue=A?200:1e6,Ce=A?40:1e7,be={type:"inertia",velocity:x?d[Y]:0,bounceStiffness:ue,bounceDamping:Ce,timeConstant:750,restDelta:1,restSpeed:10,...N,...ee};return this.startAxisValueAnimation(Y,be)});return Promise.all(V).then(z)}startAxisValueAnimation(d,p){const x=this.getAxisMotionValue(d);return qee(this.visualElement,d),x.start(Yte(d,x,0,p,this.visualElement,!1))}stopAnimation(){F1(d=>this.getAxisMotionValue(d).stop())}pauseAnimation(){F1(d=>this.getAxisMotionValue(d).animation?.pause())}getAnimationState(d){return this.getAxisMotionValue(d).animation?.state}getAxisMotionValue(d){const p=`_drag${d.toUpperCase()}`,x=this.visualElement.getProps(),A=x[p];return A||this.visualElement.getValue(d,(x.initial?x.initial[d]:void 0)||0)}snapToCursor(d){F1(p=>{const{drag:x}=this.getProps();if(!PH(p,x,this.currentDirection))return;const{projection:A}=this.visualElement,N=this.getAxisMotionValue(p);if(A&&A.layout){const{min:O,max:z}=A.layout.layoutBox[p],U=N.get()||0;N.set(d[p]-xu(O,z,.5)+U)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:d,dragConstraints:p}=this.getProps(),{projection:x}=this.visualElement;if(!GM(p)||!x||!this.constraints)return;this.stopAnimation();const A={x:0,y:0};F1(O=>{const z=this.getAxisMotionValue(O);if(z&&this.constraints!==!1){const U=z.get();A[O]=ove({min:U,max:U},this.constraints[O])}});const{transformTemplate:N}=this.visualElement.getProps();this.visualElement.current.style.transform=N?N({},""):"none",x.root&&x.root.updateScroll(),x.updateLayout(),this.resolveConstraints(),F1(O=>{if(!PH(O,d,null))return;const z=this.getAxisMotionValue(O),{min:U,max:V}=this.constraints[O];z.set(xu(U,V,A[O]))})}addListeners(){if(!this.visualElement.current)return;ave.set(this.visualElement,this);const d=this.visualElement.current,p=QM(d,"pointerdown",U=>{const{drag:V,dragListener:Y=!0}=this.getProps();V&&Y&&!$ce(U.target)&&this.start(U)}),x=()=>{const{dragConstraints:U}=this.getProps();GM(U)&&U.current&&(this.constraints=this.resolveRefConstraints())},{projection:A}=this.visualElement,N=A.addEventListener("measure",x);A&&!A.layout&&(A.root&&A.root.updateScroll(),A.updateLayout()),Dc.read(x);const O=sB(window,"resize",()=>this.scalePositionWithinConstraints()),z=A.addEventListener("didUpdate",(({delta:U,hasLayoutChanged:V})=>{this.isDragging&&V&&(F1(Y=>{const ee=this.getAxisMotionValue(Y);ee&&(this.originPoint[Y]+=U[Y].translate,ee.set(ee.get()+U[Y].translate))}),this.visualElement.render())}));return()=>{O(),p(),N(),z&&z()}}getProps(){const d=this.visualElement.getProps(),{drag:p=!1,dragDirectionLock:x=!1,dragPropagation:A=!1,dragConstraints:N=!1,dragElastic:O=ete,dragMomentum:z=!0}=d;return{...d,drag:p,dragDirectionLock:x,dragPropagation:A,dragConstraints:N,dragElastic:O,dragMomentum:z}}}function PH(l,d,p){return(d===!0||d===l)&&(p===null||p===l)}function lve(l,d=10){let p=null;return Math.abs(l.y)>d?p="y":Math.abs(l.x)>d&&(p="x"),p}class cve extends IC{constructor(d){super(d),this.removeGroupControls=I1,this.removeListeners=I1,this.controls=new ive(d)}mount(){const{dragControls:d}=this.node.getProps();d&&(this.removeGroupControls=d.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||I1}update(){const{dragControls:d}=this.node.getProps(),{dragControls:p}=this.node.prevProps||{};d!==p&&(this.removeGroupControls(),d&&(this.removeGroupControls=d.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const yre=l=>(d,p)=>{l&&Dc.postRender(()=>l(d,p))};class uve extends IC{constructor(){super(...arguments),this.removePointerDownListener=I1}onPointerDown(d){this.session=new Cue(d,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wue(this.node)})}createPanHandlers(){const{onPanSessionStart:d,onPanStart:p,onPan:x,onPanEnd:A}=this.node.getProps();return{onSessionStart:yre(d),onStart:yre(p),onMove:x,onEnd:(N,O)=>{delete this.session,A&&Dc.postRender(()=>A(N,O))}}}mount(){this.removePointerDownListener=QM(this.node.current,"pointerdown",d=>this.onPointerDown(d))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let pee=!1;class dve extends Ze.Component{componentDidMount(){const{visualElement:d,layoutGroup:p,switchLayoutGroup:x,layoutId:A}=this.props,{projection:N}=d;N&&(p.group&&p.group.add(N),x&&x.register&&A&&x.register(N),pee&&N.root.didUpdate(),N.addEventListener("animationComplete",()=>{this.safeToRemove()}),N.setOptions({...N.options,onExitComplete:()=>this.safeToRemove()})),WH.hasEverUpdated=!0}getSnapshotBeforeUpdate(d){const{layoutDependency:p,visualElement:x,drag:A,isPresent:N}=this.props,{projection:O}=x;return O&&(O.isPresent=N,pee=!0,A||d.layoutDependency!==p||p===void 0||d.isPresent!==N?O.willUpdate():this.safeToRemove(),d.isPresent!==N&&(N?O.promote():O.relegate()||Dc.postRender(()=>{const z=O.getStack();(!z||!z.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:d}=this.props.visualElement;d&&(d.root.didUpdate(),ene.postRender(()=>{!d.currentAnimation&&d.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:d,layoutGroup:p,switchLayoutGroup:x}=this.props,{projection:A}=d;pee=!0,A&&(A.scheduleCheckAfterUnmount(),p&&p.group&&p.group.remove(A),x&&x.deregister&&x.deregister(A))}safeToRemove(){const{safeToRemove:d}=this.props;d&&d()}render(){return null}}function Eue(l){const[d,p]=fue(),x=Ze.useContext(Nte);return B.jsx(dve,{...l,layoutGroup:x,switchLayoutGroup:Ze.useContext(vue),isPresent:d,safeToRemove:p})}const fve={pan:{Feature:uve},drag:{Feature:cve,ProjectionNode:due,MeasureLayout:Eue}};function vre(l,d,p){const{props:x}=l;l.animationState&&x.whileHover&&l.animationState.setActive("whileHover",p==="Start");const A="onHover"+p,N=x[A];N&&Dc.postRender(()=>N(d,xB(d)))}class mve extends IC{mount(){const{current:d}=this.node;d&&(this.unmount=K1e(d,(p,x)=>(vre(this.node,x,"Start"),A=>vre(this.node,A,"End"))))}unmount(){}}class hve extends IC{constructor(){super(...arguments),this.isActive=!1}onFocus(){let d=!1;try{d=this.node.current.matches(":focus-visible")}catch{d=!0}!d||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bB(sB(this.node.current,"focus",()=>this.onFocus()),sB(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function xre(l,d,p){const{props:x}=l;if(l.current instanceof HTMLButtonElement&&l.current.disabled)return;l.animationState&&x.whileTap&&l.animationState.setActive("whileTap",p==="Start");const A="onTap"+(p==="End"?"":p),N=x[A];N&&Dc.postRender(()=>N(d,xB(d)))}class gve extends IC{mount(){const{current:d}=this.node;d&&(this.unmount=Q1e(d,(p,x)=>(xre(this.node,x,"Start"),(A,{success:N})=>xre(this.node,A,N?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const tte=new WeakMap,bee=new WeakMap,pve=l=>{const d=tte.get(l.target);d&&d(l)},bve=l=>{l.forEach(pve)};function yve({root:l,...d}){const p=l||document;bee.has(p)||bee.set(p,{});const x=bee.get(p),A=JSON.stringify(d);return x[A]||(x[A]=new IntersectionObserver(bve,{root:l,...d})),x[A]}function vve(l,d,p){const x=yve(d);return tte.set(l,p),x.observe(l),()=>{tte.delete(l),x.unobserve(l)}}const xve={some:0,all:1};class wve extends IC{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:d={}}=this.node.getProps(),{root:p,margin:x,amount:A="some",once:N}=d,O={root:p?p.current:void 0,rootMargin:x,threshold:typeof A=="number"?A:xve[A]},z=U=>{const{isIntersecting:V}=U;if(this.isInView===V||(this.isInView=V,N&&!V&&this.hasEnteredView))return;V&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",V);const{onViewportEnter:Y,onViewportLeave:ee}=this.node.getProps(),ue=V?Y:ee;ue&&ue(U)};return vve(this.node.current,O,z)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:d,prevProps:p}=this.node;["amount","margin","root"].some(Cve(d,p))&&this.startObserver()}unmount(){}}function Cve({viewport:l={}},{viewport:d={}}={}){return p=>l[p]!==d[p]}const Sve={inView:{Feature:wve},tap:{Feature:gve},focus:{Feature:hve},hover:{Feature:mve}},Eve={layout:{ProjectionNode:due,MeasureLayout:Eue}},Tve={...Kye,...Sve,...fve,...Eve},hi=Uye(Tve,Zye);function Ave(){const[l,d]=Ze.useState([]),[p,x]=Ze.useState([]),[A,N]=Ze.useState([]),[O,z]=Ze.useState([]),[U,V]=Ze.useState(null),[Y,ee]=Ze.useState(null),[ue,Ce]=Ze.useState([]),[be,$e]=Ze.useState([]),[pe,it]=Ze.useState([]),[Se,J]=Ze.useState(!0),[vt,Gt]=Ze.useState("locations"),[Xe,ie]=Ze.useState(""),[ct,xn]=Ze.useState("all"),[fn,qe]=Ze.useState(""),[Re,Qo]=Ze.useState("all"),[yt,Lt]=Ze.useState(""),[F,jt]=Ze.useState("all"),[at,Jn]=Ze.useState({suffix:"-mekan-fotografcisi",titleTemplate:"{name} Mekan Fotorafs"});Ze.useEffect(()=>{Ne(),an()},[]);const an=async()=>{try{const Pe=await _s.get("/admin-update.php?table=settings&action=list");if(Pe.data.success){const Tt=Pe.data.data,sn=Tt.find(Yo=>Yo.key==="seo_location_suffix")?.value||"-mekan-fotografcisi",Zn=Tt.find(Yo=>Yo.key==="seo_location_title_template")?.value||"{name} Mekan Fotorafs";Jn({suffix:sn,titleTemplate:Zn})}}catch{console.error("Failed to load SEO settings")}},le=(Pe,Tt)=>{Tt==="province"?Ce(sn=>sn.includes(Pe)?sn.filter(Zn=>Zn!==Pe):[...sn,Pe]):Tt==="district"?$e(sn=>sn.includes(Pe)?sn.filter(Zn=>Zn!==Pe):[...sn,Pe]):Tt==="town"&&it(sn=>sn.includes(Pe)?sn.filter(Zn=>Zn!==Pe):[...sn,Pe])},Ve=(Pe,Tt)=>{const sn=Pe.map(Zn=>Zn.id);Tt==="province"?Ce(Zn=>Zn.length===sn.length?[]:sn):Tt==="district"?$e(Zn=>Zn.length===sn.length?[]:sn):Tt==="town"&&it(Zn=>Zn.length===sn.length?[]:sn)},It=(Pe,Tt,sn)=>Pe.filter(Zn=>{const Yo=Zn.name.toLowerCase().includes(Tt.toLowerCase()),Jo=sn==="all"?!0:sn==="active"?Zn.is_active:!Zn.is_active;return Yo&&Jo}),Ne=async()=>{J(!0);try{const Pe=await _s.get("/admin-update.php?table=locations_province&action=list");Pe.data.success&&(d(Pe.data.data||[]),Ce([]))}catch{console.error("Failed to load provinces")}finally{J(!1)}},ft=async Pe=>{try{const Tt=await _s.get(`/admin-update.php?action=list&table=locations_district&province_id=${Pe}`);Tt.data.success&&(x(Tt.data.data||[]),$e([]))}catch{console.error("Failed to load districts")}},He=async Pe=>{try{const Tt=await _s.get(`/admin-update.php?action=list&table=locations_town&district_id=${Pe}`);Tt.data.success&&(N(Tt.data.data||[]),it([]))}catch{console.error("Failed to load towns")}},dt=async Pe=>{try{const Tt=await _s.get(`/admin-update.php?action=get-distances&province_id=${Pe}`);Tt.data.success&&z(Tt.data.data||[])}catch{console.error("Failed to load distances")}},X=Pe=>{V(Pe),ee(null),N([]),vt==="locations"?ft(Pe.id):dt(Pe.id)},$o=Pe=>{ee(Pe),He(Pe.id)},xo=async(Pe,Tt,sn)=>{try{await _s.post("/admin-update.php",{action:"update",table:sn,id:Pe,data:{is_active:!Tt}}),sn==="locations_province"?Ne():sn==="locations_district"?ft(U.id):sn==="locations_town"&&He(Y.id),yo.fire({title:"Gncellendi",icon:"success",timer:800,showConfirmButton:!1,toast:!0,position:"bottom-end"})}catch(Zn){console.error("Toggle Error:",Zn);const Yo=Zn.response?.data?.error||"Gncelleme baarsz";yo.fire("Hata",Yo,"error")}},Mo=async(Pe,Tt,sn)=>{if(sn.length===0)return;const Zn=Tt==="delete"?"silmek":Tt==="activate"?"aktif etmek":"pasif yapmak";if((await yo.fire({title:"Emin misiniz?",text:`${sn.length} adet kayd ${Zn} istediinize emin misiniz?`,icon:Tt==="delete"?"warning":"question",showCancelButton:!0,confirmButtonText:"Evet",cancelButtonText:"ptal"})).isConfirmed)try{Tt==="delete"?await _s.post("/admin-update.php",{action:"delete",table:Pe,ids:sn}):await _s.post("/admin-update.php",{action:"update",table:Pe,ids:sn,data:{is_active:Tt==="activate"}}),yo.fire("Baarl","lem tamamland","success"),Pe==="locations_province"?(Ne(),Tt==="delete"&&(V(null),x([]))):Pe==="locations_district"?(ft(U.id),Tt==="delete"&&(ee(null),N([]))):Pe==="locations_town"&&He(Y.id)}catch{yo.fire("Hata","lem gerekletirilemedi","error")}},Ho=async(Pe,Tt)=>{if((await yo.fire({title:"Emin misiniz?",text:"Bu ilem ve altndaki tm bal veriler silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal",customClass:{confirmButton:"bg-red-500 rounded-xl px-6 py-2.5 font-bold",cancelButton:"bg-gray-100 text-gray-600 rounded-xl px-6 py-2.5 font-bold"}})).isConfirmed)try{await _s.post("/admin-update.php",{action:"delete",table:Tt,id:Pe}),Tt==="locations_province"?(Ne(),V(null),ee(null),N([])):Tt==="locations_district"?(ft(U.id),ee(null),N([])):Tt==="locations_town"?He(Y.id):Tt==="locations_city_distance"&&dt(U.id),yo.fire("Silindi","","success")}catch(Zn){console.error("Delete Error:",Zn);const Yo=Zn.response?.data?.error||"Silme baarsz";yo.fire("Hata",Yo,"error")}},js=async()=>{if((await yo.fire({title:"Verileri Gncelle",text:"Tm Trkiye il, ile ve mahalle verileri GitHub zerinden ekilip gncellenecektir. Bu ilem uzun srebilir ve arka planda devam eder.",icon:"info",showCancelButton:!0,confirmButtonText:"imdi Balat",cancelButtonText:"ptal"})).isConfirmed)try{await _s.post("/admin-update.php",{action:"import-locations"}),yo.fire("Balatld","lem arka planda balatld. Tamamlandnda veriler gncellenmi olacak.","success")}catch{yo.fire("Hata","lem balatlamad","error")}},Be=async()=>{const{value:Pe}=await yo.fire({title:"Yeni l Ekle",input:"text",inputLabel:"l Ad",inputPlaceholder:"rn: stanbul, Antalya...",showCancelButton:!0,confirmButtonText:"Ekle",cancelButtonText:"ptal"});if(Pe)try{await _s.post("/admin-update.php",{action:"save-location",table:"locations_province",name:Pe}),Ne()}catch{yo.fire("Hata","Eklenemedi","error")}},Ke=async()=>{if(!U)return;const{value:Pe}=await yo.fire({title:"Yeni le Ekle",input:"text",inputLabel:"le Ad",inputPlaceholder:"rn: Ka, Bodrum...",showCancelButton:!0,confirmButtonText:"Ekle",cancelButtonText:"ptal"});if(Pe)try{await _s.post("/admin-update.php",{action:"save-location",table:"locations_district",name:Pe,province_id:U.id}),ft(U.id)}catch{yo.fire("Hata","Eklenemedi","error")}},tt=async()=>{if(!Y)return;const{value:Pe}=await yo.fire({title:"Yeni Mahalle/Belde Ekle",input:"text",inputLabel:"Mahalle/Belde Ad",inputPlaceholder:"rn: Gcek, Kalkan, Bitez...",showCancelButton:!0,confirmButtonText:"Ekle",cancelButtonText:"ptal"});if(Pe)try{await _s.post("/admin-update.php",{action:"save-location",table:"locations_town",name:Pe,district_id:Y.id}),He(Y.id)}catch{yo.fire("Hata","Eklenemedi","error")}},Le=async()=>{if(!(!Y||!U))try{const Tt=(await _s.post("/admin-update.php",{action:"get-available-towns",province:U.name,district:Y.name})).data.data;if(!Tt||Tt.length===0){yo.fire("Bilgi","Bu blge iin hazr mahalle bulunamad. Ltfen manuel ekleyin.","info");return}const{value:sn}=await yo.fire({title:"Ktphaneden Se",input:"select",inputOptions:Tt.reduce((Zn,Yo)=>({...Zn,[Yo]:Yo}),{}),inputPlaceholder:"Mahalle Seiniz",showCancelButton:!0,confirmButtonText:"Ekle"});sn&&(await _s.post("/admin-update.php",{action:"save-location",table:"locations_town",name:sn,district_id:Y.id}),He(Y.id),yo.fire("Eklendi","","success"))}catch(Pe){console.error(Pe),yo.fire("Hata","Liste alnamad","error")}},[Je,Nt]=Ze.useState(null),xt=async Pe=>{const Tt=`${Pe.slug}${at.suffix}`;try{const Zn=(await _s.get(`/admin-update.php?table=posts&action=list&post_type=seo_page&slug=${Tt}`)).data.data?.[0];if(Zn)Nt(Zn);else{const Yo=at.titleTemplate.replace("{name}",Pe.name);Nt({title:Yo,slug:Tt,content:`<p>${Pe.name} blgesinde profesyonel mekan ekimi hizmetleri.</p>`,excerpt:`${Pe.name} mekan fotorafs, otel, villa ve emlak ekimi hizmetleri.`,post_type:"seo_page",post_status:"draft"})}}catch(sn){console.error("Error fetching page content",sn),yo.fire("Hata","erik yklenemedi","error")}},Un=async()=>{try{await _s.post("/admin-update.php",{action:"save-post",...Je}),yo.fire("Kaydedildi","erik gncellendi","success"),Nt(null)}catch{yo.fire("Hata","Kaydetme baarsz","error")}},Dt=({search:Pe,setSearch:Tt,filter:sn,setFilter:Zn,items:Yo,selectedIds:Jo,onToggleAll:Do,type:mr,table:zo})=>B.jsxs("div",{className:"flex flex-col gap-2 mb-4 px-1",children:[B.jsxs("div",{className:"flex gap-2",children:[B.jsx("input",{type:"text",placeholder:"Ara...",value:Pe,onChange:os=>Tt(os.target.value),className:"w-full px-3 py-1.5 text-xs border border-gray-200 rounded-lg focus:outline-none focus:border-blue-400 shadow-inner bg-gray-50/50"}),B.jsxs("select",{value:sn,onChange:os=>Zn(os.target.value),className:"px-2 py-1.5 text-xs border border-gray-200 rounded-lg focus:outline-none focus:border-blue-400 bg-white",children:[B.jsx("option",{value:"all",children:"Tm"}),B.jsx("option",{value:"active",children:"Aktif"}),B.jsx("option",{value:"passive",children:"Pasif"})]})]}),B.jsxs("div",{className:"flex justify-between items-center px-2 py-1 bg-gray-50/80 rounded-lg border border-gray-100",children:[B.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[B.jsx("input",{type:"checkbox",className:"w-3.5 h-3.5 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:Yo.length>0&&Jo.length===Yo.length,onChange:()=>Do(Yo,mr)}),B.jsxs("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-tighter",children:["Tmn Se (",Jo.length,")"]})]}),Jo.length>0&&B.jsxs("div",{className:"flex gap-1",children:[B.jsx("button",{onClick:()=>Mo(zo,"activate",Jo),className:"bg-green-100 text-green-700 font-bold px-2 py-0.5 rounded text-[9px] hover:bg-green-200",children:"AKTF"}),B.jsx("button",{onClick:()=>Mo(zo,"deactivate",Jo),className:"bg-red-100 text-red-700 font-bold px-2 py-0.5 rounded text-[9px] hover:bg-red-200",children:"PASF"}),B.jsx("button",{onClick:()=>Mo(zo,"delete",Jo),className:"bg-gray-200 text-gray-700 font-bold px-2 py-0.5 rounded text-[9px] hover:bg-gray-300",children:"SL"})]})]})]});return Se&&l.length===0?B.jsxs("div",{className:"flex flex-col items-center justify-center py-24 gap-4",children:[B.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),B.jsx("p",{className:"text-gray-500 font-medium",children:"Veriler Ykleniyor..."})]}):B.jsxs(hi.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[B.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 bg-white/50 backdrop-blur-md p-6 rounded-[2rem] border border-white shadow-sm",children:[B.jsxs("div",{children:[B.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Lokasyon Ynetimi"}),B.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Trkiye il, ile ve mahalle verileri"})]}),B.jsxs("div",{className:"flex items-center gap-2 bg-gray-100/50 p-1.5 rounded-2xl border border-gray-200 shadow-inner",children:[B.jsx("button",{onClick:()=>Gt("locations"),className:`px-6 py-2 rounded-xl font-bold transition-all ${vt==="locations"?"bg-white text-blue-600 shadow-md translate-y-[-1px]":"text-gray-500 hover:text-gray-700"}`,children:" Yerleimler"}),B.jsx("button",{onClick:()=>{Gt("distances"),U&&dt(U.id)},className:`px-6 py-2 rounded-xl font-bold transition-all ${vt==="distances"?"bg-white text-blue-600 shadow-md translate-y-[-1px]":"text-gray-500 hover:text-gray-700"}`,children:" Mesafeler"}),B.jsx("div",{className:"w-px h-6 bg-gray-200 mx-1"}),B.jsx("button",{onClick:js,className:"px-6 py-2 rounded-xl font-bold text-gray-600 hover:text-blue-600 hover:bg-white transition-all",title:"Tm verileri GitHub'dan gncelle",children:" Gncelle"})]})]}),B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 h-[calc(100vh-280px)]",children:[B.jsxs("div",{className:"flex flex-col h-full space-y-4",children:[B.jsxs("div",{className:"flex justify-between items-center px-4",children:[B.jsxs("h2",{className:"text-lg font-black text-gray-800 tracking-tight flex items-center gap-2",children:[B.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 text-xs",children:"81"}),"ller"]}),B.jsx("button",{onClick:Be,className:"w-8 h-8 flex items-center justify-center bg-white hover:bg-blue-50 border border-gray-200 text-blue-600 rounded-xl transition-all shadow-sm font-bold",children:"+"})]}),B.jsx(Dt,{search:Xe,setSearch:ie,filter:ct,setFilter:xn,items:It(l,Xe,ct),selectedIds:ue,onToggleAll:Ve,type:"province",table:"locations_province"}),B.jsx("div",{className:"flex-1 bg-white rounded-[2rem] shadow-sm border border-gray-100 overflow-hidden overflow-y-auto custom-scrollbar",children:It(l,Xe,ct).map(Pe=>B.jsx("div",{className:`p-5 border-b border-gray-50 cursor-pointer transition-all ${U?.id===Pe.id?"bg-blue-50/50 border-l-4 border-l-blue-500":"hover:bg-gray-50/50"}`,onClick:()=>X(Pe),children:B.jsxs("div",{className:"flex justify-between items-center group",children:[B.jsxs("div",{className:"flex items-center gap-3",children:[B.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer",checked:ue.includes(Pe.id),onChange:Tt=>{Tt.stopPropagation(),le(Pe.id,"province")}}),B.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center font-bold text-sm shadow-sm transition-all ${U?.id===Pe.id?"bg-blue-500 text-white":"bg-gray-50 text-gray-400 group-hover:bg-white group-hover:text-blue-500"}`,children:Pe.plate_code||"??"}),B.jsxs("div",{children:[B.jsx("span",{className:`font-bold block transition-colors ${U?.id===Pe.id?"text-blue-900":"text-gray-700"}`,children:Pe.name}),B.jsxs("div",{className:"flex gap-2 mt-1",children:[B.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),xt(Pe)},className:"text-[10px] text-gray-300 hover:text-blue-500 flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all scale-95 hover:scale-100",children:" Dzenle"}),B.jsx("a",{href:`/${Pe.slug}${at.suffix}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-gray-300 hover:text-blue-500 flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all scale-95 hover:scale-100",onClick:Tt=>Tt.stopPropagation(),children:" Gr"})]})]})]}),B.jsxs("div",{className:"flex gap-2",children:[B.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),xo(Pe.id,Pe.is_active,"locations_province")},className:`w-2.5 h-2.5 rounded-full ring-4 ring-transparent ${Pe.is_active?"bg-green-500 shadow-[0_0_10px_rgba(34,197,94,0.4)]":"bg-red-300"}`,title:Pe.is_active?"Aktif":"Pasif"}),B.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),Ho(Pe.id,"locations_province")},className:"text-xs text-red-500 opacity-0 group-hover:opacity-20 hover:!opacity-100 transition-all",children:""})]})]})},Pe.id))})]}),B.jsx(HC,{mode:"wait",children:vt==="locations"?B.jsxs(B.Fragment,{children:[B.jsxs(hi.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex flex-col h-full space-y-4",children:[B.jsxs("div",{className:"flex justify-between items-center px-4",children:[B.jsxs("div",{children:[B.jsx("h2",{className:"text-lg font-black text-gray-800 tracking-tight",children:"leler"}),U&&B.jsx("span",{className:"text-[10px] text-blue-500 font-bold uppercase tracking-widest",children:U.name})]}),U&&B.jsx("button",{onClick:Ke,className:"w-8 h-8 flex items-center justify-center bg-white hover:bg-blue-50 border border-gray-200 text-blue-600 rounded-xl transition-all shadow-sm font-bold",children:"+"})]}),U&&B.jsx(Dt,{search:fn,setSearch:qe,filter:Re,setFilter:Qo,items:It(p,fn,Re),selectedIds:be,onToggleAll:Ve,type:"district",table:"locations_district"}),B.jsx("div",{className:"flex-1 bg-white rounded-[2rem] shadow-sm border border-gray-100 overflow-hidden overflow-y-auto custom-scrollbar",children:U?p.length===0?B.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300 p-8",children:[B.jsx("span",{className:"text-3xl mb-2",children:""}),B.jsx("span",{className:"text-xs uppercase font-bold tracking-widest",children:"Henz ile yok"})]}):It(p,fn,Re).map(Pe=>B.jsx("div",{className:`p-5 border-b border-gray-50 cursor-pointer transition-all ${Y?.id===Pe.id?"bg-blue-50/50 border-l-4 border-l-blue-500":"hover:bg-gray-50/50"}`,onClick:()=>$o(Pe),children:B.jsxs("div",{className:"flex justify-between items-center group",children:[B.jsxs("div",{className:"flex items-center gap-3",children:[B.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer",checked:be.includes(Pe.id),onChange:Tt=>{Tt.stopPropagation(),le(Pe.id,"district")}}),B.jsxs("div",{children:[B.jsx("span",{className:`font-bold block ${Y?.id===Pe.id?"text-blue-900":"text-gray-700"}`,children:Pe.name}),B.jsxs("div",{className:"flex gap-2 mt-1",children:[B.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),xt(Pe)},className:"text-[10px] text-gray-300 hover:text-blue-500 flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all",children:" Dzenle"}),B.jsx("a",{href:`/${Pe.slug}${at.suffix}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-gray-300 hover:text-blue-500 flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all",onClick:Tt=>Tt.stopPropagation(),children:" Gr"})]})]})]}),B.jsxs("div",{className:"flex gap-2",children:[B.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),xo(Pe.id,Pe.is_active,"locations_district")},className:`w-2.5 h-2.5 rounded-full ${Pe.is_active?"bg-green-500":"bg-red-300"}`,title:Pe.is_active?"Aktif":"Pasif"}),B.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),Ho(Pe.id,"locations_district")},className:"text-xs text-red-500 opacity-0 group-hover:opacity-20 hover:!opacity-100 transition-all",children:""})]})]})},Pe.id)):B.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300 p-8 grayscale opacity-50",children:[B.jsx("span",{className:"text-5xl mb-4",children:""}),B.jsx("span",{className:"text-xs uppercase font-black tracking-widest bg-gray-100 px-4 py-2 rounded-full",children:"Sol taraftan il sein"})]})})]},"districts"),B.jsxs(hi.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex flex-col h-full space-y-4",children:[B.jsxs("div",{className:"flex justify-between items-center px-4",children:[B.jsxs("div",{children:[B.jsx("h2",{className:"text-lg font-black text-gray-800 tracking-tight",children:"Mahalleler"}),Y&&B.jsx("span",{className:"text-[10px] text-blue-500 font-bold uppercase tracking-widest",children:Y.name})]}),Y&&B.jsxs("div",{className:"flex gap-2",children:[B.jsx("button",{onClick:Le,className:"w-8 h-8 flex items-center justify-center bg-blue-50 hover:bg-blue-100 border border-blue-200 text-blue-600 rounded-xl transition-all shadow-sm text-xs",title:"Ktphaneden Aktar",children:""}),B.jsx("button",{onClick:tt,className:"w-8 h-8 flex items-center justify-center bg-white hover:bg-gray-50 border border-gray-200 text-blue-600 rounded-xl transition-all shadow-sm font-bold",children:"+"})]})]}),Y&&B.jsx(Dt,{search:yt,setSearch:Lt,filter:F,setFilter:jt,items:It(A,yt,F),selectedIds:pe,onToggleAll:Ve,type:"town",table:"locations_town"}),B.jsx("div",{className:"flex-1 bg-white rounded-[2rem] shadow-sm border border-gray-100 overflow-hidden overflow-y-auto custom-scrollbar",children:Y?A.length===0?B.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300 p-8",children:[B.jsx("span",{className:"text-3xl mb-2",children:""}),B.jsx("span",{className:"text-xs uppercase font-bold tracking-widest",children:"Henz mahalle yok"})]}):It(A,yt,F).map(Pe=>B.jsx("div",{className:"p-5 border-b border-gray-50 hover:bg-gray-50/50 transition-all group",children:B.jsxs("div",{className:"flex justify-between items-center",children:[B.jsxs("div",{className:"flex items-center gap-3",children:[B.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer",checked:pe.includes(Pe.id),onChange:Tt=>{Tt.stopPropagation(),le(Pe.id,"town")}}),B.jsxs("div",{children:[B.jsx("span",{className:"font-bold text-gray-700 block",children:Pe.name}),B.jsxs("div",{className:"flex gap-2 mt-1",children:[B.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),xt(Pe)},className:"text-[10px] text-gray-300 hover:text-blue-500 opacity-0 group-hover:opacity-100 transition-all",children:" Dzenle"}),B.jsx("a",{href:`/${Pe.slug}${at.suffix}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-gray-300 hover:text-blue-500 opacity-0 group-hover:opacity-100 transition-all",onClick:Tt=>Tt.stopPropagation(),children:" Gr"})]})]})]}),B.jsxs("div",{className:"flex gap-2 items-center",children:[B.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),xo(Pe.id,Pe.is_active,"locations_town")},className:`px-3 py-1 rounded-lg text-[9px] font-black tracking-tighter transition-all ${Pe.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:Pe.is_active?"AKTF":"PASF"}),B.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),Ho(Pe.id,"locations_town")},className:"text-red-500 opacity-0 group-hover:opacity-20 hover:!opacity-100 transition-all text-xs",children:""})]})]})},Pe.id)):B.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300 p-8 grayscale opacity-50",children:[B.jsx("span",{className:"text-5xl mb-4",children:""}),B.jsx("span",{className:"text-xs uppercase font-black tracking-widest bg-gray-100 px-4 py-2 rounded-full",children:"le sein"})]})})]},"towns")]}):B.jsx(hi.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},className:"lg:col-span-2 flex flex-col h-full bg-white rounded-[2rem] border border-gray-100 shadow-sm overflow-hidden",children:U?B.jsxs("div",{className:"flex flex-col h-full",children:[B.jsxs("div",{className:"p-8 border-b border-gray-50 bg-gray-50/50",children:[B.jsxs("div",{className:"flex justify-between items-center mb-6",children:[B.jsxs("h3",{className:"text-2xl font-black text-gray-900 tracking-tight",children:[U.name," kl Mesafeler"]}),B.jsxs("div",{className:"bg-blue-100 text-blue-700 font-black px-4 py-2 rounded-2xl text-xs uppercase tracking-widest",children:[O.length," ehir Kaytl"]})]}),B.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[B.jsxs("div",{className:"bg-white p-4 rounded-3xl border border-gray-100 shadow-sm",children:[B.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase block mb-1",children:"En Yakn"}),B.jsx("span",{className:"text-lg font-bold text-gray-800",children:O.length>0?O.sort((Pe,Tt)=>Pe.distance_km-Tt.distance_km).filter(Pe=>Pe.distance_km>0)[0]?.to_province_name:"-"})]}),B.jsxs("div",{className:"bg-white p-4 rounded-3xl border border-gray-100 shadow-sm",children:[B.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase block mb-1",children:"En Uzak"}),B.jsx("span",{className:"text-lg font-bold text-gray-800",children:O.length>0?O.sort((Pe,Tt)=>Tt.distance_km-Pe.distance_km)[0]?.to_province_name:"-"})]})]})]}),B.jsx("div",{className:"flex-1 p-8 overflow-y-auto custom-scrollbar",children:B.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[O.map(Pe=>B.jsxs("div",{className:"group bg-gray-50 hover:bg-white hover:shadow-lg hover:shadow-blue-500/5 p-5 rounded-3xl border border-transparent hover:border-blue-100 transition-all",children:[B.jsxs("div",{className:"flex justify-between items-center mb-2",children:[B.jsx("span",{className:"font-bold text-gray-700",children:Pe.to_province_name}),B.jsxs("span",{className:"text-blue-600 font-black text-sm",children:[Pe.distance_km," km"]})]}),B.jsx("div",{className:"w-full bg-gray-200 h-1 rounded-full overflow-hidden",children:B.jsx("div",{className:"bg-blue-500 h-full rounded-full transition-all duration-1000",style:{width:`${Math.min(100,Pe.distance_km/2e3*100)}%`}})})]},Pe.id)),O.length===0&&B.jsx("div",{className:"col-span-full py-12 text-center text-gray-400 font-medium",children:"Bu il iin mesafe verisi bulunamad."})]})})]}):B.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300 p-8 grayscale opacity-50",children:[B.jsx("span",{className:"text-6xl mb-6",children:""}),B.jsx("span",{className:"text-xs uppercase font-black tracking-widest bg-gray-100 px-6 py-3 rounded-full",children:"Mesafeleri grmek iin listeden il sein"})]})},"distances_view")})]}),Je&&B.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:B.jsxs(hi.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden border border-white",children:[B.jsxs("div",{className:"p-8 border-b border-gray-100 flex justify-between items-center bg-gray-50/80",children:[B.jsxs("div",{children:[B.jsx("h2",{className:"text-2xl font-black text-gray-900 tracking-tight",children:"erik Dzenle"}),B.jsx("p",{className:"text-gray-500 text-xs mt-0.5",children:"SEO uyumlu lokasyon sayfas ayarlar"})]}),B.jsx("button",{onClick:()=>Nt(null),className:"w-10 h-10 flex items-center justify-center bg-white rounded-full text-gray-400 hover:text-gray-600 shadow-sm border border-gray-100 transition-all",children:""})]}),B.jsxs("div",{className:"p-8 overflow-y-auto custom-scrollbar space-y-8",children:[B.jsxs("div",{className:"bg-blue-500 text-white rounded-3xl p-6 flex gap-4 shadow-lg shadow-blue-500/20",children:[B.jsx("span",{className:"text-2xl",children:""}),B.jsxs("div",{children:[B.jsx("h4",{className:"font-black text-sm uppercase tracking-widest",children:"SEO Tavsiyesi"}),B.jsx("p",{className:"text-sm opacity-90 mt-1 font-medium leading-relaxed",children:"Her lokasyon iin zgn balk ve ierik girmek SEO performansn artrr. ehir/semt ismini balkta ve metnin ilk paragrafnda geirmeye zen gsterin."})]})]}),B.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[B.jsxs("div",{className:"space-y-2",children:[B.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Sayfa Bal (H1)"}),B.jsx("input",{type:"text",value:Je.title,onChange:Pe=>Nt({...Je,title:Pe.target.value}),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none font-bold text-gray-800 transition-all"})]}),B.jsxs("div",{className:"space-y-2",children:[B.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"URL (Slug)"}),B.jsx("input",{type:"text",value:Je.slug,readOnly:!0,disabled:!0,className:"w-full px-5 py-4 bg-gray-100/50 border border-gray-100 rounded-2xl text-gray-400 font-mono text-xs cursor-not-allowed select-none",title:"Lokasyon URL yaps standarttr, deitirilemez."})]})]}),B.jsxs("div",{className:"space-y-2",children:[B.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"erik (HTML)"}),B.jsx("textarea",{value:Je.content||"",onChange:Pe=>Nt({...Je,content:Pe.target.value}),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none font-mono text-sm h-64 transition-all",placeholder:"<p>Sayfa ierii...</p>"}),B.jsx("p",{className:"text-[10px] text-gray-400 font-bold px-1",children:"Tip: HTML etiketleri (<h2>, <p>, <ul>) kullanabilirsiniz."})]}),B.jsxs("div",{className:"space-y-2",children:[B.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Meta Aklamas (Description)"}),B.jsx("textarea",{value:Je.excerpt||"",onChange:Pe=>Nt({...Je,excerpt:Pe.target.value}),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none text-sm h-28 transition-all",placeholder:"Google arama sonularnda grnecek ksa aklama..."})]})]}),B.jsxs("div",{className:"p-8 border-t border-gray-100 bg-gray-50/80 flex justify-end gap-3",children:[B.jsx("button",{onClick:()=>Nt(null),className:"px-8 py-3 bg-white border border-gray-200 text-gray-700 font-black rounded-2xl hover:bg-gray-100 transition-all uppercase tracking-widest text-xs",children:"ptal"}),B.jsx("button",{onClick:Un,className:"px-8 py-3 bg-blue-600 text-white font-black rounded-2xl hover:bg-blue-700 shadow-xl shadow-blue-500/20 transition-all uppercase tracking-widest text-xs",children:"Kaydet"})]})]})})]})}function kve(){const[l,d]=Ze.useState([]),[p,x]=Ze.useState([]),[A,N]=Ze.useState(!0),O=Q3();Ze.useEffect(()=>{z()},[]);const z=async()=>{try{const[ee,ue]=await Promise.all([_s.get("/admin-update.php?table=posts&action=list&post_type=service&post_status=publish"),_s.get("/admin-update.php?table=settings&action=list")]);ee.data.success&&d(ee.data.data||[]),ue.data.success&&x(ue.data.data||[])}catch(ee){console.error("Failed to load data:",ee)}finally{N(!1)}},V=((ee,ue)=>p.find(Ce=>Ce.key===ee)?.value||ue)("seo_service_base","hizmetlerimiz"),Y=async ee=>{if((await yo.fire({title:"Emin misiniz?",text:"Bu hizmet kalc olarak silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal"})).isConfirmed)try{await _s.post("/admin-update.php",{action:"delete",table:"posts",id:ee}),loadServices(),yo.fire("Silindi!","Hizmet baaryla silindi.","success")}catch{yo.fire("Hata","Silme ilemi baarsz","error")}};return A?B.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):B.jsxs(hi.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},className:"space-y-6",children:[B.jsxs("div",{className:"flex justify-between items-center",children:[B.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Hizmetler"}),B.jsx("button",{onClick:()=>O("/services/new"),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold shadow-lg shadow-blue-500/20 transition transform hover:-translate-y-0.5 active:scale-95",children:"+ Yeni Hizmet Ekle"})]}),B.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:B.jsxs("table",{className:"w-full",children:[B.jsx("thead",{className:"bg-gray-50/50 border-b border-gray-100",children:B.jsxs("tr",{children:[B.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Hizmet Ad"}),B.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"URL (Slug)"}),B.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Durum"}),B.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-400 uppercase tracking-widest",children:"lemler"})]})}),B.jsx("tbody",{className:"divide-y divide-gray-100",children:l.map(ee=>B.jsxs("tr",{className:"group hover:bg-blue-50/30 transition-colors",children:[B.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B.jsx("div",{className:"text-sm font-semibold text-gray-800",children:ee.title})}),B.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B.jsxs("div",{className:"text-xs text-blue-500 font-mono",children:["/",V,"/",ee.slug]})}),B.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black tracking-widest uppercase ${ee.post_status==="publish"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:ee.post_status==="publish"?"YAYINDA":"TASLAK"})}),B.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[B.jsx("button",{onClick:()=>O(`/services/edit/${ee.id}`),className:"text-blue-600 hover:text-blue-900 bg-blue-50 px-4 py-1.5 rounded-lg transition-colors",children:"Dzenle"}),B.jsx("button",{onClick:()=>Y(ee.id),className:"text-red-500 hover:text-red-900 px-2 py-1.5 rounded-lg opacity-40 group-hover:opacity-100 transition-opacity",children:"Sil"})]})]},ee.id))})]})})]})}function Dve(){const[l,d]=Ze.useState([]),[p,x]=Ze.useState(!0),A=Q3();Ze.useEffect(()=>{N()},[]);const N=async()=>{try{const z=await _s.get("/admin-update.php?table=posts&action=list&post_type=page");z.data.success&&d(z.data.data||[])}catch(z){console.error("Failed to load pages:",z)}finally{x(!1)}},O=async z=>{if((await yo.fire({title:"Emin misiniz?",text:"Bu sayfa kalc olarak silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal"})).isConfirmed)try{await _s.post("/admin-update.php",{action:"delete",table:"posts",id:z}),N(),yo.fire("Silindi!","Sayfa baaryla silindi.","success")}catch{yo.fire("Hata","Silme ilemi baarsz","error")}};return p?B.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):B.jsxs(hi.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[B.jsxs("div",{className:"flex justify-between items-center",children:[B.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Kurumsal Sayfalar"}),B.jsx("button",{onClick:()=>A("/pages/new"),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold shadow-lg shadow-blue-500/20 transition transform hover:-translate-y-0.5 active:scale-95",children:"+ Yeni Sayfa Ekle"})]}),B.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:B.jsxs("table",{className:"w-full",children:[B.jsx("thead",{className:"bg-gray-50/50 border-b border-gray-100",children:B.jsxs("tr",{children:[B.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Sayfa Bal"}),B.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"URL"}),B.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Durum"}),B.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-400 uppercase tracking-widest",children:"lemler"})]})}),B.jsxs("tbody",{className:"divide-y divide-gray-100",children:[l.map(z=>B.jsxs(hi.tr,{layout:!0,className:"group hover:bg-blue-50/30 transition-colors",children:[B.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B.jsx("div",{className:"text-sm font-semibold text-gray-800",children:z.title})}),B.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B.jsxs("div",{className:"text-xs text-gray-400",children:["/",z.slug]})}),B.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black tracking-widest uppercase ${z.post_status==="publish"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:z.post_status==="publish"?"YAYINDA":"TASLAK"})}),B.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[B.jsx("button",{onClick:()=>A(`/pages/edit/${z.id}`),className:"text-blue-600 hover:text-blue-900 bg-blue-50 px-4 py-1.5 rounded-lg transition-colors",children:"Dzenle"}),B.jsx("button",{onClick:()=>O(z.id),className:"text-red-500 hover:text-red-900 px-2 py-1.5 rounded-lg opacity-40 group-hover:opacity-100 transition-opacity",children:"Sil"})]})]},z.id)),l.length===0&&B.jsx("tr",{children:B.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-gray-400 italic",children:"Henz sayfa oluturulmam."})})]})]})})]})}function _ve(){const[l,d]=Ze.useState([]),[p,x]=Ze.useState(!0),[A,N]=Ze.useState("");Ze.useEffect(()=>{O()},[]);const O=async()=>{try{const Ce=await _s.get("/admin-update.php?table=posts&action=list&post_type=seo_page");Ce.data.success&&d(Ce.data.data||[])}catch{console.error("Failed to load SEO pages")}finally{x(!1)}},z=async(Ce,be)=>{const $e=be==="publish"?"draft":"publish";try{await _s.post("/admin-update.php",{action:"update",table:"posts",id:Ce,data:{post_status:$e}}),O()}catch{yo.fire("Hata","Durum gncellenemedi","error")}},[U,V]=Ze.useState(null),Y=Ce=>{V({...Ce})},ee=async()=>{try{await _s.post("/admin-update.php",{action:"save-post",...U}),yo.fire("Kaydedildi","Sayfa ierii gncellendi","success"),V(null),O()}catch{yo.fire("Hata","Kaydetme baarsz","error")}},ue=l.filter(Ce=>Ce.title?.toLowerCase().includes(A.toLowerCase())||Ce.slug?.toLowerCase().includes(A.toLowerCase()));return p?B.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):B.jsxs(hi.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[B.jsx("div",{className:"flex justify-between items-center",children:B.jsxs("div",{children:[B.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Dinamik SEO Sayfalar"}),B.jsx("p",{className:"text-gray-500 text-sm",children:"Lokasyon ve hizmet kombinasyonlarndan oluan sayfalar"})]})}),B.jsxs("div",{className:"flex gap-4 items-center bg-white p-4 rounded-2xl border border-gray-100 shadow-sm",children:[B.jsx("span",{className:"text-gray-400 ml-2",children:""}),B.jsx("input",{type:"text",placeholder:"Sayfa veya URL ara...",value:A,onChange:Ce=>N(Ce.target.value),className:"flex-1 bg-transparent border-none focus:ring-0 text-sm font-medium outline-none"})]}),B.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:B.jsxs("table",{className:"w-full",children:[B.jsx("thead",{className:"bg-gray-50/50 border-b border-gray-100",children:B.jsxs("tr",{children:[B.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Sayfa / Balk"}),B.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"URL (Slug)"}),B.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Tip"}),B.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Durum"}),B.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-400 uppercase tracking-widest",children:"lem"})]})}),B.jsx("tbody",{className:"divide-y divide-gray-100",children:ue.map(Ce=>B.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[B.jsxs("td",{className:"px-6 py-4",children:[B.jsx("div",{className:"text-sm font-bold text-gray-800 line-clamp-1",children:Ce.title}),B.jsx("div",{className:"text-[10px] text-gray-400 mt-0.5 line-clamp-1",children:Ce.excerpt})]}),B.jsx("td",{className:"px-6 py-4",children:B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsxs("div",{className:"text-xs font-mono text-blue-500",children:["/",Ce.slug]}),B.jsx("a",{href:`/${Ce.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-600 transition-colors",title:"Sayfay Grntle",children:""})]})}),B.jsx("td",{className:"px-6 py-4",children:B.jsx("span",{className:"px-2 py-0.5 rounded bg-gray-100 text-[10px] font-black uppercase text-gray-500 tracking-tighter",children:Ce.post_type})}),B.jsx("td",{className:"px-6 py-4",children:B.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold ${Ce.post_status==="publish"?"text-green-600 bg-green-50":"text-gray-500 bg-gray-100"}`,children:Ce.post_status==="publish"?"YAYINDA":"TASLAK"})}),B.jsx("td",{className:"px-6 py-4 text-right",children:B.jsxs("div",{className:"flex justify-end gap-2",children:[B.jsx("button",{onClick:()=>Y(Ce),className:"px-3 py-1.5 bg-blue-50 text-blue-600 hover:bg-blue-100 rounded-lg text-xs font-bold transition-colors",children:"Dzenle "}),B.jsx("button",{onClick:()=>z(Ce.id,Ce.post_status),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-colors ${Ce.post_status==="publish"?"bg-amber-50 text-amber-600 hover:bg-amber-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,children:Ce.post_status==="publish"?"Pasifletir":"Yaynla"})]})})]},Ce.id))})]})}),U&&B.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:B.jsxs(hi.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden",children:[B.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[B.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Sayfa Dzenle"}),B.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-gray-600",children:""})]}),B.jsxs("div",{className:"p-6 overflow-y-auto custom-scrollbar space-y-6",children:[B.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Sayfa Bal (H1)"}),B.jsx("input",{type:"text",value:U.title,onChange:Ce=>V({...U,title:Ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none font-bold text-gray-800"})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"URL (Slug)"}),B.jsx("input",{type:"text",value:U.slug,onChange:Ce=>V({...U,slug:Ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none font-mono text-sm text-gray-600"})]})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"erik (HTML)"}),B.jsx("textarea",{value:U.content||"",onChange:Ce=>V({...U,content:Ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none font-mono text-sm h-64",placeholder:"<p>Sayfa ierii...</p>"}),B.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"HTML etiketleri kullanabilirsiniz."})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Meta Aklamas (Description)"}),B.jsx("textarea",{value:U.excerpt||"",onChange:Ce=>V({...U,excerpt:Ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm h-24",placeholder:"Google arama sonularnda grnecek ksa aklama..."})]})]}),B.jsxs("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end gap-3",children:[B.jsx("button",{onClick:()=>V(null),className:"px-6 py-2.5 bg-white border border-gray-200 text-gray-700 font-bold rounded-xl hover:bg-gray-50 transition-colors",children:"ptal"}),B.jsx("button",{onClick:ee,className:"px-6 py-2.5 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all",children:"Deiiklikleri Kaydet"})]})]})})]})}function Ove({quote:l,isOpen:d,onClose:p,onAssigned:x}){const[A,N]=Ze.useState([]),[O,z]=Ze.useState(!0),[U,V]=Ze.useState(null),[Y,ee]=Ze.useState(""),[ue,Ce]=Ze.useState(!1);Ze.useEffect(()=>{d&&l&&be()},[d,l]);const be=async()=>{z(!0);try{const Se=await _s.get(`/freelancer-matches.php?quote_id=${l.id}`);Se.data.success&&N(Se.data.matches||[])}catch(Se){console.error("Failed to load matches:",Se),yo.fire("Hata","Elemeler yklenemedi","error")}finally{z(!1)}},$e=async()=>{if(!U){yo.fire("Uyar","Ltfen bir freelancer sein","warning");return}Ce(!0);try{(await _s.post("/quote-assignments.php",{quote_id:l.id,freelancer_id:U.id,admin_note:Y,status:"pending"})).data.success&&(yo.fire("Baarl","Teklif freelancer'a atand","success"),x?.(),p())}catch(Se){console.error("Assignment failed:",Se),yo.fire("Hata",Se.response?.data?.error||"Atama baarsz","error")}finally{Ce(!1)}},pe=Se=>Se>=150?"text-green-600 bg-green-50":Se>=100?"text-blue-600 bg-blue-50":Se>=50?"text-amber-600 bg-amber-50":"text-gray-600 bg-gray-50",it=Se=>Se>=150?"Mkemmel Eleme":Se>=100?"yi Eleme":Se>=50?"Orta Eleme":"Dk Eleme";return d?B.jsx(HC,{children:B.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:B.jsxs(hi.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-3xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[B.jsxs("div",{className:"px-8 py-6 border-b border-gray-100 flex items-center justify-between bg-gradient-to-r from-blue-50 to-white",children:[B.jsxs("div",{children:[B.jsx("h2",{className:"text-2xl font-black text-gray-900",children:"Freelancer Ata"}),B.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[B.jsx("span",{className:"font-bold",children:l.name}),"  ",l.location||"Lokasyon belirtilmemi"]})]}),B.jsx("button",{onClick:p,className:"w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors",children:B.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),B.jsxs("div",{className:"flex-1 overflow-y-auto p-8",children:[O?B.jsxs("div",{className:"text-center py-12",children:[B.jsx("div",{className:"inline-block w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),B.jsx("p",{className:"mt-4 text-gray-500",children:"Uygun freelancer'lar aranyor..."})]}):A.length===0?B.jsxs("div",{className:"text-center py-12",children:[B.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:B.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),B.jsx("p",{className:"text-gray-500 font-medium",children:"Uygun freelancer bulunamad"}),B.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Bu blgede alan onayl freelancer yok"})]}):B.jsx("div",{className:"space-y-4",children:A.map(Se=>{const J=Se.freelancer,vt=U?.id===J.id;return B.jsx(hi.div,{whileHover:{scale:1.01},onClick:()=>V(J),className:`p-6 rounded-2xl border-2 cursor-pointer transition-all ${vt?"border-blue-500 bg-blue-50 shadow-lg":"border-gray-100 hover:border-gray-200 bg-white"}`,children:B.jsxs("div",{className:"flex items-start justify-between",children:[B.jsxs("div",{className:"flex-1",children:[B.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[B.jsx("h3",{className:"text-lg font-bold text-gray-900",children:J.name}),B.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-black uppercase tracking-wider ${pe(Se.score)}`,children:it(Se.score)})]}),B.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-3",children:[B.jsxs("div",{children:[B.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider block mb-1",children:"ehir"}),B.jsx("span",{className:"text-gray-700 font-medium",children:J.city})]}),B.jsxs("div",{children:[B.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider block mb-1",children:"Deneyim"}),B.jsxs("span",{className:"text-gray-700 font-medium",children:[J.experience," yl"]})]}),B.jsxs("div",{children:[B.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider block mb-1",children:"letiim"}),B.jsx("span",{className:"text-gray-700 font-medium text-xs",children:J.email})]}),B.jsxs("div",{children:[B.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider block mb-1",children:"Telefon"}),B.jsx("span",{className:"text-gray-700 font-medium",children:J.phone})]})]}),J.specialization&&B.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:JSON.parse(J.specialization).map(Gt=>B.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs font-bold text-gray-600 uppercase",children:Gt},Gt))}),Se.match_details&&B.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[B.jsxs("div",{children:[" ",Se.match_details.location]}),Se.match_details.specialization&&B.jsxs("div",{children:[" ",Se.match_details.specialization]})]})]}),B.jsx("div",{className:"ml-4",children:B.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center text-2xl font-black ${pe(Se.score)}`,children:Se.score})})]})},J.id)})}),U&&B.jsxs("div",{className:"mt-6 p-6 bg-gray-50 rounded-2xl border border-gray-200",children:[B.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Admin Notu (Opsiyonel)"}),B.jsx("textarea",{value:Y,onChange:Se=>ee(Se.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all resize-none",rows:"3",placeholder:"Bu atama hakknda not ekleyin..."})]})]}),B.jsxs("div",{className:"px-8 py-6 border-t border-gray-100 flex items-center justify-between bg-gray-50",children:[B.jsx("button",{onClick:p,className:"px-6 py-3 rounded-xl font-bold text-gray-600 hover:bg-gray-200 transition-colors",children:"ptal"}),B.jsx("button",{onClick:$e,disabled:!U||ue,className:"px-8 py-3 rounded-xl font-bold text-white bg-blue-600 hover:bg-blue-500 disabled:bg-gray-300 disabled:cursor-not-allowed transition-all shadow-lg shadow-blue-500/20",children:ue?"Atanyor...":"Freelancer'a Ata"})]})]})})}):null}function Nve(){const[l,d]=Ze.useState([]),[p,x]=Ze.useState(!0),[A,N]=Ze.useState("all"),[O,z]=Ze.useState(null),[U,V]=Ze.useState([]),[Y,ee]=Ze.useState(!1);Ze.useEffect(()=>{ue()},[]),Ze.useEffect(()=>{O&&$e(O.id)},[O]);const ue=async()=>{try{const Se=await _s.get("/admin-update.php?table=quotes&action=list");if(Se.data.success){const J=(Se.data.data||[]).sort((vt,Gt)=>new Date(Gt.created_at)-new Date(vt.created_at));d(J)}}catch(Se){console.error("Failed to load quotes:",Se)}finally{x(!1)}},Ce=async Se=>{try{await _s.post("/admin-update.php",{action:"update",table:"quotes",id:Se.id,data:{is_read:!Se.is_read}}),ue(),O?.id===Se.id&&z({...Se,is_read:!Se.is_read})}catch{yo.fire("Hata","Durum gncellenemedi","error")}},be=async Se=>{if((await yo.fire({title:"Emin misiniz?",text:"Bu talep kalc olarak silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal"})).isConfirmed)try{await _s.post("/admin-update.php",{action:"delete",table:"quotes",id:Se}),ue(),z(null),yo.fire("Silindi!","Talep baaryla silindi.","success")}catch{yo.fire("Hata","Silme ilemi baarsz","error")}},$e=async Se=>{try{const J=await _s.get(`/quote-assignments.php?quote_id=${Se}`);if(console.log("Assignments response:",J.data),J.data.success){const vt=Array.isArray(J.data.data)?J.data.data:[];V(vt)}}catch(J){console.error("Failed to load assignments:",J),V([])}},pe=()=>{O&&$e(O.id),ue()},it=l.filter(Se=>A==="new"?!Se.is_read:A==="read"?Se.is_read:!0);return p?B.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):B.jsxs(hi.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[B.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[B.jsxs("div",{children:[B.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Teklif Talepleri"}),B.jsx("p",{className:"text-gray-500 text-sm",children:"Gelen i talepleri ve mteri mesajlar"})]}),B.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl",children:[{id:"all",label:"Tm",count:l.length},{id:"new",label:"Yeni",count:l.filter(Se=>!Se.is_read).length},{id:"read",label:"Okundu",count:l.filter(Se=>Se.is_read).length}].map(Se=>B.jsxs("button",{onClick:()=>N(Se.id),className:`px-4 py-1.5 rounded-lg text-xs font-bold transition-all ${A===Se.id?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[Se.label," (",Se.count,")"]},Se.id))})]}),B.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[B.jsxs("div",{className:`xl:col-span-1 space-y-3 max-h-[700px] overflow-y-auto pr-2 custom-scrollbar ${O?"hidden xl:block":"block"}`,children:[it.map(Se=>B.jsxs(hi.div,{layout:!0,onClick:()=>z(Se),className:`p-4 rounded-2xl border cursor-pointer transition-all ${O?.id===Se.id?"bg-blue-600 border-blue-600 text-white shadow-lg shadow-blue-200":`bg-white hover:bg-gray-50 border-gray-100 ${Se.is_read?"":"border-l-4 border-l-blue-500"}`}`,children:[B.jsxs("div",{className:"flex justify-between items-start mb-1",children:[B.jsx("span",{className:"text-[10px] font-black uppercase text-blue-500 tracking-widest",children:Se.id?`MF-${String(Se.id).padStart(5,"0")}`:"---"}),B.jsx("span",{className:"text-[10px] opacity-60",children:new Date(Se.created_at).toLocaleDateString("tr-TR")})]}),B.jsx("div",{className:"flex justify-between items-center mb-1",children:B.jsx("span",{className:"text-xs font-black uppercase opacity-60 tracking-widest",children:Se.service||"Genel"})}),B.jsx("div",{className:`font-bold ${O?.id===Se.id?"text-white":"text-gray-800"}`,children:Se.name}),B.jsx("div",{className:"text-xs truncate opacity-70",children:Se.email})]},Se.id)),it.length===0&&B.jsx("div",{className:"text-center py-12 text-gray-400 italic bg-white rounded-3xl border border-dashed border-gray-200",children:"Talep bulunamad."})]}),B.jsx("div",{className:`xl:col-span-2 ${O?"block":"hidden xl:flex"}`,children:B.jsx(HC,{mode:"wait",children:O?B.jsxs(hi.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"bg-white rounded-3xl border border-gray-100 shadow-sm p-8 h-full flex flex-col",children:[B.jsxs("div",{className:"flex justify-between items-start mb-8",children:[B.jsx("button",{onClick:()=>z(null),className:"xl:hidden p-2 hover:bg-gray-100 rounded-lg text-gray-400",children:" Geri"}),B.jsxs("div",{className:"flex gap-2",children:[B.jsx("button",{onClick:()=>Ce(O),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${O.is_read?"bg-gray-100 text-gray-600":"bg-green-100 text-green-700"}`,children:O.is_read?"Okunmad Olarak aretle":"Okundu Olarak aretle"}),B.jsx("button",{onClick:()=>be(O.id),className:"p-2 text-red-400 hover:bg-red-50 rounded-xl transition-colors",children:""})]})]}),B.jsxs("div",{className:"space-y-6 flex-1",children:[B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[B.jsxs("div",{children:[B.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-2",children:"Mteri Bilgileri"}),B.jsxs("div",{className:"space-y-3",children:[B.jsxs("div",{className:"flex items-center gap-3",children:[B.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),B.jsx("div",{className:"text-lg font-bold text-gray-800",children:O.name})]}),B.jsxs("div",{className:"flex items-center gap-3",children:[B.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),B.jsx("div",{className:"text-sm text-gray-600 font-medium",children:O.email})]}),B.jsxs("div",{className:"flex items-center gap-3",children:[B.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),B.jsx("div",{className:"text-sm text-gray-600 font-medium",children:O.phone})]})]})]}),B.jsxs("div",{children:[B.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-2",children:"Talep Detaylar"}),B.jsxs("div",{className:"space-y-3",children:[B.jsxs("div",{className:"flex items-center gap-3",children:[B.jsx("span",{className:"w-8 h-8 rounded-full bg-amber-50 text-amber-500 flex items-center justify-center text-xs",children:""}),B.jsxs("div",{children:[B.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:"Hizmet"}),B.jsx("div",{className:"text-sm font-bold text-gray-800",children:O.service||"Genel"})]})]}),B.jsxs("div",{className:"flex items-center gap-3",children:[B.jsx("span",{className:"w-8 h-8 rounded-full bg-amber-50 text-amber-500 flex items-center justify-center text-xs",children:""}),B.jsxs("div",{children:[B.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:"Tarih"}),B.jsx("div",{className:"text-sm font-bold text-gray-800",children:new Date(O.created_at).toLocaleString("tr-TR")})]})]})]})]})]}),O.wizard_details&&B.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100",children:[B.jsx("h3",{className:"text-[10px] font-black text-blue-500 uppercase tracking-[0.2em] mb-4",children:"Sihirbaz Detaylar"}),B.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(JSON.parse(typeof O.wizard_details=="string"?O.wizard_details:JSON.stringify(O.wizard_details))).map(([Se,J])=>B.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:[B.jsx("div",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-wider mb-1",children:Se.replace(/_/g," ")}),B.jsx("div",{className:"text-sm font-bold text-gray-800",children:String(J)})]},Se))})]}),B.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-50",children:[B.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Mesaj / Ek Bilgiler"}),B.jsx("div",{className:"bg-gray-50 p-6 rounded-2xl text-gray-700 leading-relaxed whitespace-pre-wrap italic border border-dashed border-gray-200",children:O.message||"Ek bilgi belirtilmemi."})]}),B.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100",children:[B.jsxs("div",{className:"flex items-center justify-between mb-4",children:[B.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Freelancer Atamalar"}),B.jsxs("button",{onClick:()=>ee(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-xl text-xs font-bold transition-all shadow-lg shadow-blue-500/20 flex items-center gap-2",children:[B.jsx("span",{children:""}),"Freelancer Ata"]})]}),U.length>0?B.jsx("div",{className:"space-y-3",children:U.map(Se=>B.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[B.jsxs("div",{className:"flex items-center justify-between mb-2",children:[B.jsx("div",{className:"font-bold text-gray-900",children:Se.freelancer?.name}),B.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-black uppercase ${Se.status==="accepted"?"bg-green-100 text-green-700":Se.status==="rejected"?"bg-red-100 text-red-700":Se.status==="completed"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:Se.status==="pending"?"Beklemede":Se.status==="accepted"?"Kabul Edildi":Se.status==="rejected"?"Reddedildi":"Tamamland"})]}),B.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[B.jsxs("div",{children:[" ",Se.freelancer?.email]}),B.jsxs("div",{children:[" ",Se.freelancer?.phone]}),B.jsxs("div",{children:[" ",Se.freelancer?.city]}),B.jsxs("div",{children:[" Atand: ",new Date(Se.assigned_at).toLocaleString("tr-TR")]}),Se.admin_note&&B.jsxs("div",{className:"mt-2 p-2 bg-white rounded border border-slate-200",children:[B.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase mb-1",children:"Admin Notu:"}),B.jsx("div",{className:"text-xs text-gray-700",children:Se.admin_note})]})]})]},Se.id))}):B.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"Henz freelancer atamas yaplmam"})]})]}),B.jsxs("p",{className:"text-[10px] text-blue-500 mt-8 text-center uppercase tracking-[0.3em] font-black",children:["Teklif No: ",O.id?`MF-${String(O.id).padStart(5,"0")}`:O.id]})]},O.id):B.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-300 border-2 border-dashed border-gray-100 rounded-3xl bg-gray-50/30",children:[B.jsx("span",{className:"text-6xl mb-4",children:""}),B.jsx("p",{className:"font-bold tracking-tight uppercase text-xs opacity-50",children:"Detaylar grmek iin bir talep sein"})]})})})]}),B.jsx(Ove,{quote:O,isOpen:Y,onClose:()=>ee(!1),onAssigned:pe})]})}function Rve(){const[l,d]=Ze.useState([]),[p,x]=Ze.useState([]),[A,N]=Ze.useState(null),[O,z]=Ze.useState(null),[U,V]=Ze.useState(!0),[Y,ee]=Ze.useState(!1);Ze.useEffect(()=>{ue(A)},[A]);const ue=async Se=>{V(!0);try{const J=await _s.get(`/media.php?action=list&folder_id=${Se||""}`);J.data.success&&(d(J.data.folders),x(J.data.files),z(J.data.parent_id))}catch{console.error("Failed to load media")}finally{V(!1)}},Ce=async()=>{const{value:Se}=await yo.fire({title:"Yeni Klasr",input:"text",inputLabel:"Klasr Ad",inputPlaceholder:"rn: Villalar, Dn ekimleri...",showCancelButton:!0,confirmButtonText:"Olutur",cancelButtonText:"ptal",customClass:{confirmButton:"bg-blue-600 rounded-xl px-6 py-2.5 font-bold",cancelButton:"bg-gray-100 text-gray-600 rounded-xl px-6 py-2.5 font-bold"}});if(Se)try{await _s.post("/media.php",{action:"create-folder",name:Se,parent_id:A}),ue(A)}catch{yo.fire("Hata","Klasr oluturulamad","error")}},be=async Se=>{const J=Array.from(Se.target.files);if(J.length===0)return;ee(!0);let vt=0,Gt=0;try{await Promise.all(J.map(async Xe=>{const ie=new FormData;ie.append("file",Xe),ie.append("folder_id",A||""),ie.append("action","upload");try{await _s.post("/media.php",ie,{headers:{"Content-Type":"multipart/form-data"}}),vt++}catch(ct){console.error("Upload failed for file:",Xe.name,ct),Gt++}})),ue(A),Gt===0?yo.fire({title:"Yklendi",text:`${vt} dosya baaryla yklendi.`,icon:"success",timer:1500,showConfirmButton:!1}):yo.fire({title:"Tamamland",text:`${vt} dosya yklendi, ${Gt} dosya ise yklenemedi.`,icon:"warning"})}catch{yo.fire("Hata","Ykleme ilemi balatlamad","error")}finally{ee(!1),Se.target.value=""}},$e=(Se,J="url")=>{navigator.clipboard.writeText(Se),yo.fire({title:J==="url"?"Link Kopyaland":"Kod Kopyaland",text:J==="url"?"Resim adresi panoya kopyaland.":"Galeri kodu panoya kopyaland.",icon:"success",timer:1e3,showConfirmButton:!1,toast:!0,position:"bottom-end"})},pe=async Se=>{if((await yo.fire({title:"Emin misiniz?",text:"Bu dosya kalc olarak silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal"})).isConfirmed)try{await _s.post("/media.php",{action:"delete-file",id:Se}),ue(A)}catch{yo.fire("Hata","Silinemedi","error")}},it=async Se=>{if((await yo.fire({title:"Emin misiniz?",text:"Klasrn iindeki her ey silinecektir (Dosyalar varsa nce onlar silmelisiniz).",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal"})).isConfirmed)try{await _s.post("/media.php",{action:"delete-folder",id:Se}),ue(A)}catch(vt){yo.fire("Hata",vt.response?.data?.error||"Silinemedi","error")}};return B.jsxs(hi.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[B.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[B.jsxs("div",{children:[B.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Medya Ktphanesi"}),B.jsx("p",{className:"text-gray-500 text-sm",children:"Grsellerinizi ve galeri klasrlerinizi ynetin"})]}),B.jsxs("div",{className:"flex gap-2",children:[B.jsxs("button",{onClick:Ce,className:"px-5 py-2.5 bg-white border border-gray-200 text-gray-700 hover:bg-gray-50 rounded-xl font-bold transition-all shadow-sm flex items-center gap-2",children:[B.jsx("span",{children:""})," Yeni Klasr"]}),B.jsxs("label",{className:`px-5 py-2.5 ${Y?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"} text-white rounded-xl font-bold cursor-pointer transition-all shadow-lg shadow-blue-500/20 flex items-center gap-2`,children:[B.jsx("span",{children:Y?"":""}),Y?"Ykleniyor...":"Dosya Ykle",B.jsx("input",{type:"file",className:"hidden",onChange:be,disabled:Y,accept:"image/*",multiple:!0})]})]})]}),B.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white/50 backdrop-blur-sm rounded-2xl border border-gray-100",children:[B.jsx("button",{onClick:()=>N(null),className:`px-3 py-1 rounded-lg text-xs font-black tracking-widest uppercase transition-colors ${A?"text-gray-400 hover:text-blue-500":"bg-blue-100 text-blue-600"}`,children:"ROOT"}),A&&B.jsxs("div",{className:"flex items-center gap-3",children:[B.jsx("span",{className:"text-gray-300",children:"/"}),B.jsxs("button",{onClick:()=>N(O),className:"flex items-center gap-1.5 px-3 py-1 rounded-lg text-xs font-bold text-blue-500 hover:bg-blue-50 transition-colors",children:[B.jsx("span",{className:"text-sm",children:""})," Geri Dn"]})]})]}),U?B.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-6 animate-pulse",children:[...Array(12)].map((Se,J)=>B.jsx("div",{className:"aspect-square bg-gray-100 rounded-3xl"},J))}):B.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-6",children:[B.jsxs(HC,{mode:"popLayout",children:[l.map(Se=>B.jsxs(hi.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"group relative aspect-square bg-white rounded-3xl shadow-sm border border-gray-100 hover:border-blue-400 hover:shadow-xl hover:shadow-blue-500/5 transition-all p-4 flex flex-col items-center justify-center cursor-pointer",onClick:()=>N(Se.id),children:[B.jsxs("div",{className:"absolute inset-0 bg-blue-900/60 opacity-0 group-hover:opacity-100 transition-all flex flex-col items-center justify-center gap-3 rounded-3xl z-10",children:[B.jsx("button",{onClick:J=>{J.stopPropagation(),$e(`[gallery id="${Se.id}"]`,"shortcode")},className:"w-12 h-12 bg-white rounded-xl text-green-600 shadow-xl hover:scale-110 active:scale-95 transition-all flex items-center justify-center",title:"Galeri Kodunu Kopyala",children:""}),B.jsx("div",{className:"text-[10px] text-white/80 font-black tracking-widest uppercase",children:"Galeri Kodu"})]}),B.jsx("div",{className:"text-5xl mb-2 drop-shadow-sm group-hover:scale-110 transition-transform",children:""}),B.jsx("span",{className:"text-[11px] font-bold text-gray-700 text-center truncate w-full px-2 uppercase tracking-tighter",children:Se.name}),B.jsx("button",{onClick:J=>{J.stopPropagation(),it(Se.id)},className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 p-1.5 text-red-500 hover:bg-red-50 rounded-xl transition-all z-20",children:""})]},Se.id)),p.map(Se=>B.jsxs(hi.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"group relative aspect-square bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden hover:border-blue-400 hover:shadow-xl hover:shadow-blue-500/5 transition-all",children:[B.jsxs("div",{className:"w-full h-full relative",children:[Se.mime_type?.startsWith("image/")?B.jsx("img",{src:Se.public_url,alt:Se.alt,className:"w-full h-full object-cover"}):B.jsx("div",{className:"w-full h-full flex items-center justify-center text-4xl bg-gray-50",children:""}),B.jsxs("div",{className:"absolute inset-0 bg-blue-900/60 opacity-0 group-hover:opacity-100 transition-all flex flex-col items-center justify-center gap-3",children:[B.jsx("div",{className:"flex gap-2",children:B.jsx("button",{onClick:()=>$e(Se.public_url),className:"w-12 h-12 bg-white rounded-xl text-blue-600 shadow-xl hover:scale-110 active:scale-95 transition-all flex items-center justify-center",title:"Link Kopyala",children:""})}),B.jsx("div",{className:"text-[10px] text-white/80 font-black tracking-widest uppercase",children:"Link Kopyala"})]})]}),B.jsx("div",{className:"absolute top-2 right-2 flex gap-1",children:B.jsx("button",{onClick:()=>pe(Se.id),className:"opacity-0 group-hover:opacity-100 w-7 h-7 bg-red-500/80 backdrop-blur-md text-white rounded-lg flex items-center justify-center text-xs hover:bg-red-600 transition-all shadow-lg",children:""})}),B.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-2 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:B.jsxs("p",{className:"text-[9px] font-bold text-white truncate uppercase tracking-tighter",children:[(Se.file_size/1024).toFixed(1)," KB"]})})]},Se.id))]}),l.length===0&&p.length===0&&B.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center justify-center text-gray-300 border-2 border-dashed border-gray-100 rounded-[3rem] bg-gray-50/20",children:[B.jsx("span",{className:"text-6xl mb-4",children:""}),B.jsx("p",{className:"font-black uppercase text-xs tracking-[0.2em] opacity-30",children:"Buralar ok Issz..."})]})]})]})}function Mve(){const[l,d]=Ze.useState([]),[p,x]=Ze.useState(!0);Ze.useEffect(()=>{A()},[]);const A=async()=>{try{const V=await _s.get("/pexels-images.php");V.data.success&&d(V.data.images)}catch(V){console.error("Failed to load images",V),yo.fire("Hata","Grseller yklenemedi","error")}finally{x(!1)}},N=async V=>{try{const Y=!V.is_visible;d(ee=>ee.map(ue=>ue.id===V.id?{...ue,is_visible:Y}:ue)),await _s.post("/pexels-images.php",{action:"toggle",id:V.id,is_visible:Y})}catch{yo.fire("Hata","Durum gncellenemedi","error"),A()}},O=async V=>{if((await yo.fire({title:"Emin misiniz?",text:"Bu grsel koleksiyondan kaldrlacak.",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, Sil",cancelButtonText:"ptal"})).isConfirmed)try{await _s.post("/pexels-images.php",{action:"delete",id:V}),d(ee=>ee.filter(ue=>ue.id!==V)),yo.fire("Silindi","Grsel kaldrld.","success")}catch{yo.fire("Hata","Silinemedi","error")}},z=async()=>{x(!0);try{const V=await _s.post("/pexels-images.php",{action:"sync"});V.data.success&&(yo.fire("Eitlendi",`${V.data.synced_count} yeni grsel eklendi.`,"success"),A())}catch(V){console.error("Sync error:",V);const Y=V.response?.data?.error||V.message||"Senkronizasyon baarsz oldu.",ee=V.response?.data?.file?`
File: ${V.response.data.file}:${V.response.data.line}`:"";yo.fire("Hata",Y+ee,"error")}finally{x(!1)}},U=async()=>{const{value:V}=await yo.fire({title:"Yeni Pexels Grseli",input:"url",inputLabel:"Grsel URL (Pexels src)",inputPlaceholder:"https://images.pexels.com/...",showCancelButton:!0,confirmButtonText:"Ekle",cancelButtonText:"ptal"});if(V)try{await _s.post("/pexels-images.php",{action:"add",image_url:V,photographer:"Admin Added"}),A(),yo.fire("Baarl","Grsel eklendi","success")}catch{yo.fire("Hata","Ekleme baarsz","error")}};return p?B.jsx("div",{className:"p-8 text-center text-gray-500",children:"Ykleniyor..."}):B.jsxs(hi.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[B.jsxs("div",{className:"flex justify-between items-center",children:[B.jsxs("div",{children:[B.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Pexels Koleksiyonu"}),B.jsx("p",{className:"text-gray-500 text-sm",children:"Sitede rastgele gsterilen arka plan grsellerini ynetin."})]}),B.jsxs("div",{className:"flex gap-2",children:[B.jsx("button",{onClick:z,disabled:p,className:"px-6 py-2.5 bg-gray-600 text-white rounded-xl font-bold hover:bg-gray-700 transition-all shadow-sm",children:" Senkronize Et"}),B.jsx("button",{onClick:U,className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-500/30 hover:bg-indigo-700 hover:scale-105 transition-all",children:"+ Yeni Ekle"})]})]}),B.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:B.jsx(HC,{children:l.map(V=>B.jsxs(hi.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:`group relative rounded-3xl overflow-hidden shadow-sm border-2 transition-all ${V.is_visible?"border-transparent shadow-md":"border-red-200 grayscale opacity-70"}`,children:[B.jsxs("div",{className:"aspect-[3/4] relative",children:[B.jsx("img",{src:V.image_url,alt:V.photographer,className:"w-full h-full object-cover",loading:"lazy"}),B.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center gap-3",children:[B.jsx("button",{onClick:()=>N(V),className:`px-4 py-2 rounded-lg font-bold text-xs uppercase tracking-wider ${V.is_visible?"bg-red-500 text-white":"bg-green-500 text-white"}`,children:V.is_visible?"Pasifletir":"Aktifletir"}),B.jsx("button",{onClick:()=>O(V.id),className:"p-2 bg-white/20 text-white rounded-full hover:bg-red-600 transition-colors",title:"Sil",children:""})]}),B.jsx("div",{className:"absolute top-3 right-3",children:B.jsx("span",{className:`w-3 h-3 rounded-full block shadow-sm ${V.is_visible?"bg-green-500":"bg-red-500"}`})})]}),B.jsx("div",{className:"p-3 bg-white text-xs text-center text-gray-500 font-medium truncate",children:V.photographer||"Fotoraf Bilinmiyor"})]},V.id))})}),l.length===0&&B.jsx("div",{className:"text-center py-20 bg-gray-50 rounded-3xl border-2 border-dashed border-gray-200 text-gray-400",children:"Henz grsel eklenmemi."})]})}var yee={exports:{}},vee,wre;function Bve(){if(wre)return vee;wre=1;var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return vee=l,vee}var xee,Cre;function Lve(){if(Cre)return xee;Cre=1;var l=Bve();function d(){}function p(){}return p.resetWarningCache=d,xee=function(){function x(O,z,U,V,Y,ee){if(ee!==l){var ue=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ue.name="Invariant Violation",ue}}x.isRequired=x;function A(){return x}var N={array:x,bigint:x,bool:x,func:x,number:x,object:x,string:x,symbol:x,any:x,arrayOf:A,element:x,elementType:x,instanceOf:A,node:x,objectOf:A,oneOf:A,oneOfType:A,shape:A,exact:A,checkPropTypes:p,resetWarningCache:d};return N.PropTypes=N,N},xee}var Sre;function Pve(){return Sre||(Sre=1,yee.exports=Lve()()),yee.exports}var Vn=Pve(),nte=function(){return nte=Object.assign||function(l){for(var d,p=1,x=arguments.length;p<x;p++){d=arguments[p];for(var A in d)Object.prototype.hasOwnProperty.call(d,A)&&(l[A]=d[A])}return l},nte.apply(this,arguments)},Tue={onActivate:Vn.func,onAddUndo:Vn.func,onBeforeAddUndo:Vn.func,onBeforeExecCommand:Vn.func,onBeforeGetContent:Vn.func,onBeforeRenderUI:Vn.func,onBeforeSetContent:Vn.func,onBeforePaste:Vn.func,onBlur:Vn.func,onChange:Vn.func,onClearUndos:Vn.func,onClick:Vn.func,onContextMenu:Vn.func,onCommentChange:Vn.func,onCompositionEnd:Vn.func,onCompositionStart:Vn.func,onCompositionUpdate:Vn.func,onCopy:Vn.func,onCut:Vn.func,onDblclick:Vn.func,onDeactivate:Vn.func,onDirty:Vn.func,onDrag:Vn.func,onDragDrop:Vn.func,onDragEnd:Vn.func,onDragGesture:Vn.func,onDragOver:Vn.func,onDrop:Vn.func,onExecCommand:Vn.func,onFocus:Vn.func,onFocusIn:Vn.func,onFocusOut:Vn.func,onGetContent:Vn.func,onHide:Vn.func,onInit:Vn.func,onInput:Vn.func,onKeyDown:Vn.func,onKeyPress:Vn.func,onKeyUp:Vn.func,onLoadContent:Vn.func,onMouseDown:Vn.func,onMouseEnter:Vn.func,onMouseLeave:Vn.func,onMouseMove:Vn.func,onMouseOut:Vn.func,onMouseOver:Vn.func,onMouseUp:Vn.func,onNodeChange:Vn.func,onObjectResizeStart:Vn.func,onObjectResized:Vn.func,onObjectSelected:Vn.func,onPaste:Vn.func,onPostProcess:Vn.func,onPostRender:Vn.func,onPreProcess:Vn.func,onProgressState:Vn.func,onRedo:Vn.func,onRemove:Vn.func,onReset:Vn.func,onSaveContent:Vn.func,onSelectionChange:Vn.func,onSetAttrib:Vn.func,onSetContent:Vn.func,onShow:Vn.func,onSubmit:Vn.func,onUndo:Vn.func,onVisualAid:Vn.func,onSkinLoadError:Vn.func,onThemeLoadError:Vn.func,onModelLoadError:Vn.func,onPluginLoadError:Vn.func,onIconsLoadError:Vn.func,onLanguageLoadError:Vn.func,onScriptsLoad:Vn.func,onScriptsLoadError:Vn.func},Fve=nte({apiKey:Vn.string,licenseKey:Vn.string,id:Vn.string,inline:Vn.bool,init:Vn.object,initialValue:Vn.string,onEditorChange:Vn.func,value:Vn.string,tagName:Vn.string,tabIndex:Vn.number,cloudChannel:Vn.string,plugins:Vn.oneOfType([Vn.string,Vn.array]),toolbar:Vn.oneOfType([Vn.string,Vn.array]),disabled:Vn.bool,readonly:Vn.bool,textareaName:Vn.string,tinymceScriptSrc:Vn.oneOfType([Vn.string,Vn.arrayOf(Vn.string),Vn.arrayOf(Vn.shape({src:Vn.string,async:Vn.bool,defer:Vn.bool}))]),rollback:Vn.oneOfType([Vn.number,Vn.oneOf([!1])]),scriptLoading:Vn.shape({async:Vn.bool,defer:Vn.bool,delay:Vn.number})},Tue),Aue=function(l){var d=l;return d&&d.tinymce?d.tinymce:null},wee=function(l){return typeof l=="function"},Ere=function(l){return l in Tue},Tre=function(l){return l.substr(2)},$ve=function(l,d,p,x,A,N,O){var z=Object.keys(A).filter(Ere),U=Object.keys(N).filter(Ere),V=z.filter(function(ee){return N[ee]===void 0}),Y=U.filter(function(ee){return A[ee]===void 0});V.forEach(function(ee){var ue=Tre(ee),Ce=O[ue];p(ue,Ce),delete O[ue]}),Y.forEach(function(ee){var ue=x(l,ee),Ce=Tre(ee);O[Ce]=ue,d(Ce,ue)})},Ive=function(l,d,p,x,A){return $ve(A,l.on.bind(l),l.off.bind(l),function(N,O){return function(z){var U;return(U=N(O))===null||U===void 0?void 0:U(z,l)}},d,p,x)},Are=0,kue=function(l){var d=Date.now(),p=Math.floor(Math.random()*1e9);return Are++,l+"_"+p+Are+String(d)},kre=function(l){return l!==null&&(l.tagName.toLowerCase()==="textarea"||l.tagName.toLowerCase()==="input")},Dre=function(l){return typeof l>"u"||l===""?[]:Array.isArray(l)?l:l.split(" ")},Hve=function(l,d){return Dre(l).concat(Dre(d))},zve=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},jve=function(l){if(!("isConnected"in Node.prototype)){for(var d=l,p=l.parentNode;p!=null;)d=p,p=d.parentNode;return d===l.ownerDocument}return l.isConnected},_re=function(l,d){l!==void 0&&(l.mode!=null&&typeof l.mode=="object"&&typeof l.mode.set=="function"?l.mode.set(d):l.setMode(d))},Vve=function(l){var d=Aue(l);if(!d)throw new Error("tinymce should have been loaded into global scope");return d},Ore=function(l){return l.options&&l.options.isRegistered("disabled")},ote=function(){return ote=Object.assign||function(l){for(var d,p=1,x=arguments.length;p<x;p++){d=arguments[p];for(var A in d)Object.prototype.hasOwnProperty.call(d,A)&&(l[A]=d[A])}return l},ote.apply(this,arguments)},Uve=function(l,d,p){var x,A,N=l.createElement("script");N.referrerPolicy="origin",N.type="application/javascript",N.id=d.id,N.src=d.src,N.async=(x=d.async)!==null&&x!==void 0?x:!1,N.defer=(A=d.defer)!==null&&A!==void 0?A:!1;var O=function(){N.removeEventListener("load",O),N.removeEventListener("error",z),p(d.src)},z=function(U){N.removeEventListener("load",O),N.removeEventListener("error",z),p(d.src,U)};N.addEventListener("load",O),N.addEventListener("error",z),l.head&&l.head.appendChild(N)},Zve=function(l){var d={},p=function(O,z){var U=d[O];U.done=!0,U.error=z;for(var V=0,Y=U.handlers;V<Y.length;V++){var ee=Y[V];ee(O,z)}U.handlers=[]},x=function(O,z,U){var V=function(Se){return U!==void 0?U(Se):console.error(Se)};if(O.length===0){V(new Error("At least one script must be provided"));return}for(var Y=0,ee=!1,ue=function(Se,J){ee||(J?(ee=!0,V(J)):++Y===O.length&&z())},Ce=0,be=O;Ce<be.length;Ce++){var $e=be[Ce],pe=d[$e.src];if(pe)pe.done?ue($e.src,pe.error):pe.handlers.push(ue);else{var it=kue("tiny-");d[$e.src]={id:it,src:$e.src,done:!1,error:null,handlers:[ue]},Uve(l,ote({id:it},$e),p)}}},A=function(){for(var O,z=0,U=Object.values(d);z<U.length;z++){var V=U[z],Y=l.getElementById(V.id);Y!=null&&Y.tagName==="SCRIPT"&&((O=Y.parentNode)===null||O===void 0||O.removeChild(Y))}d={}},N=function(){return l};return{loadScripts:x,deleteScripts:A,getDocument:N}},Wve=function(){var l=[],d=function(A){var N=l.find(function(O){return O.getDocument()===A});return N===void 0&&(N=Zve(A),l.push(N)),N},p=function(A,N,O,z,U){var V=function(){return d(A).loadScripts(N,z,U)};O>0?setTimeout(V,O):V()},x=function(){for(var A=l.pop();A!=null;A=l.pop())A.deleteScripts()};return{loadList:p,reinitialize:x}},qve=Wve(),Gve=(function(){var l=function(d,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,A){x.__proto__=A}||function(x,A){for(var N in A)Object.prototype.hasOwnProperty.call(A,N)&&(x[N]=A[N])},l(d,p)};return function(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");l(d,p);function x(){this.constructor=d}d.prototype=p===null?Object.create(p):(x.prototype=p.prototype,new x)}})(),j3=function(){return j3=Object.assign||function(l){for(var d,p=1,x=arguments.length;p<x;p++){d=arguments[p];for(var A in d)Object.prototype.hasOwnProperty.call(d,A)&&(l[A]=d[A])}return l},j3.apply(this,arguments)},Cee="change keyup compositionend setcontent CommentChange",Kve=(function(l){Gve(d,l);function d(p){var x,A,N,O=l.call(this,p)||this;return O.rollbackTimer=void 0,O.valueCursor=void 0,O.rollbackChange=function(){var z=O.editor,U=O.props.value;z&&U&&U!==O.currentContent&&z.undoManager.ignore(function(){if(z.setContent(U),O.valueCursor&&(!O.inline||z.hasFocus()))try{z.selection.moveToBookmark(O.valueCursor)}catch{}}),O.rollbackTimer=void 0},O.handleBeforeInput=function(z){if(O.props.value!==void 0&&O.props.value===O.currentContent&&O.editor&&(!O.inline||O.editor.hasFocus()))try{O.valueCursor=O.editor.selection.getBookmark(3)}catch{}},O.handleBeforeInputSpecial=function(z){(z.key==="Enter"||z.key==="Backspace"||z.key==="Delete")&&O.handleBeforeInput(z)},O.handleEditorChange=function(z){var U=O.editor;if(U&&U.initialized){var V=U.getContent();O.props.value!==void 0&&O.props.value!==V&&O.props.rollback!==!1&&(O.rollbackTimer||(O.rollbackTimer=window.setTimeout(O.rollbackChange,typeof O.props.rollback=="number"?O.props.rollback:200))),V!==O.currentContent&&(O.currentContent=V,wee(O.props.onEditorChange)&&O.props.onEditorChange(V,U))}},O.handleEditorChangeSpecial=function(z){(z.key==="Backspace"||z.key==="Delete")&&O.handleEditorChange(z)},O.initialise=function(z){var U,V,Y;z===void 0&&(z=0);var ee=O.elementRef.current;if(ee){if(!jve(ee)){if(z===0)setTimeout(function(){return O.initialise(1)},1);else if(z<100)setTimeout(function(){return O.initialise(z+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var ue=Vve(O.view),Ce=j3(j3(j3(j3({},O.props.init),{selector:void 0,target:ee,disabled:O.props.disabled,readonly:O.props.readonly,inline:O.inline,plugins:Hve((U=O.props.init)===null||U===void 0?void 0:U.plugins,O.props.plugins),toolbar:(V=O.props.toolbar)!==null&&V!==void 0?V:(Y=O.props.init)===null||Y===void 0?void 0:Y.toolbar}),O.props.licenseKey?{license_key:O.props.licenseKey}:{}),{setup:function(be){O.editor=be,O.bindHandlers({}),O.inline&&!kre(ee)&&be.once("PostRender",function($e){be.setContent(O.getInitialValue(),{no_events:!0})}),O.props.init&&wee(O.props.init.setup)&&O.props.init.setup(be),O.props.disabled&&(Ore(O.editor)?O.editor.options.set("disabled",O.props.disabled):O.editor.mode.set("readonly"))},init_instance_callback:function(be){var $e,pe=O.getInitialValue();O.currentContent=($e=O.currentContent)!==null&&$e!==void 0?$e:be.getContent(),O.currentContent!==pe&&(O.currentContent=pe,be.setContent(pe),be.undoManager.clear(),be.undoManager.add(),be.setDirty(!1)),O.props.init&&wee(O.props.init.init_instance_callback)&&O.props.init.init_instance_callback(be)}});O.inline||(ee.style.visibility=""),kre(ee)&&(ee.value=O.getInitialValue()),ue.init(Ce)}},O.id=O.props.id||kue("tiny-react"),O.elementRef=Ze.createRef(),O.inline=(N=(x=O.props.inline)!==null&&x!==void 0?x:(A=O.props.init)===null||A===void 0?void 0:A.inline)!==null&&N!==void 0?N:!1,O.boundHandlers={},O}return Object.defineProperty(d.prototype,"view",{get:function(){var p,x;return(x=(p=this.elementRef.current)===null||p===void 0?void 0:p.ownerDocument.defaultView)!==null&&x!==void 0?x:window},enumerable:!1,configurable:!0}),d.prototype.componentDidUpdate=function(p){var x=this,A,N;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(p),this.editor.initialized)){if(this.currentContent=(A=this.currentContent)!==null&&A!==void 0?A:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==p.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var O=this.editor;O.undoManager.transact(function(){var U;if(!x.inline||O.hasFocus())try{U=O.selection.getBookmark(3)}catch{}var V=x.valueCursor;if(O.setContent(x.props.value),!x.inline||O.hasFocus())for(var Y=0,ee=[U,V];Y<ee.length;Y++){var ue=ee[Y];if(ue)try{O.selection.moveToBookmark(ue),x.valueCursor=ue;break}catch{}}})}if(this.props.readonly!==p.readonly){var z=(N=this.props.readonly)!==null&&N!==void 0?N:!1;_re(this.editor,z?"readonly":"design")}this.props.disabled!==p.disabled&&(Ore(this.editor)?this.editor.options.set("disabled",this.props.disabled):_re(this.editor,this.props.disabled?"readonly":"design"))}},d.prototype.componentDidMount=function(){var p=this,x,A,N,O,z;if(Aue(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(A=(x=this.props).onScriptsLoadError)===null||A===void 0||A.call(x,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((N=this.elementRef.current)===null||N===void 0)&&N.ownerDocument){var U=function(){var Y,ee;(ee=(Y=p.props).onScriptsLoad)===null||ee===void 0||ee.call(Y),p.initialise()},V=function(Y){var ee,ue;(ue=(ee=p.props).onScriptsLoadError)===null||ue===void 0||ue.call(ee,Y)};qve.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(z=(O=this.props.scriptLoading)===null||O===void 0?void 0:O.delay)!==null&&z!==void 0?z:0,U,V)}},d.prototype.componentWillUnmount=function(){var p=this,x=this.editor;x&&(x.off(Cee,this.handleEditorChange),x.off(this.beforeInputEvent(),this.handleBeforeInput),x.off("keypress",this.handleEditorChangeSpecial),x.off("keydown",this.handleBeforeInputSpecial),x.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(A){x.off(A,p.boundHandlers[A])}),this.boundHandlers={},x.remove(),this.editor=void 0)},d.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},d.prototype.beforeInputEvent=function(){return zve()?"beforeinput SelectionChange":"SelectionChange"},d.prototype.renderInline=function(){var p=this.props.tagName,x=p===void 0?"div":p;return Ze.createElement(x,{ref:this.elementRef,id:this.id,tabIndex:this.props.tabIndex})},d.prototype.renderIframe=function(){return Ze.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id,tabIndex:this.props.tabIndex})},d.prototype.getScriptSources=function(){var p,x,A=(p=this.props.scriptLoading)===null||p===void 0?void 0:p.async,N=(x=this.props.scriptLoading)===null||x===void 0?void 0:x.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:A,defer:N}]:this.props.tinymceScriptSrc.map(function(V){return typeof V=="string"?{src:V,async:A,defer:N}:V});var O=this.props.cloudChannel,z=this.props.apiKey?this.props.apiKey:"no-api-key",U="https://cdn.tiny.cloud/1/".concat(z,"/tinymce/").concat(O,"/tinymce.min.js");return[{src:U,async:A,defer:N}]},d.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},d.prototype.bindHandlers=function(p){var x=this;if(this.editor!==void 0){Ive(this.editor,p,this.props,this.boundHandlers,function(z){return x.props[z]});var A=function(z){return z.onEditorChange!==void 0||z.value!==void 0},N=A(p),O=A(this.props);!N&&O?(this.editor.on(Cee,this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):N&&!O&&(this.editor.off(Cee,this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},d.propTypes=Fve,d.defaultProps={cloudChannel:"8"},d})(Ze.Component),See={exports:{}},Nre;function Yve(){return Nre||(Nre=1,(function(l){(function(){var d=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},p=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},x=function(e,t){var o=Array.prototype.slice.call(e);return o.sort(t)},A=function(e,t){return N(function(o,r){return e.eq(t(o),t(r))})},N=function(e){return{eq:e}},O=N(function(e,t){return e===t}),z=O,U=function(e){return N(function(t,o){if(t.length!==o.length)return!1;for(var r=t.length,c=0;c<r;c++)if(!e.eq(t[c],o[c]))return!1;return!0})},V=function(e,t){return A(U(e),function(o){return x(o,t)})},Y=function(e){return N(function(t,o){var r=Object.keys(t),c=Object.keys(o);if(!V(z).eq(r,c))return!1;for(var h=r.length,v=0;v<h;v++){var T=r[v];if(!e.eq(t[T],o[T]))return!1}return!0})},ee=N(function(e,t){if(e===t)return!0;var o=d(e),r=d(t);return o!==r?!1:p(o)?e===t:o==="array"?U(ee).eq(e,t):o==="object"?Y(ee).eq(e,t):!1});const ue=Object.getPrototypeOf,Ce=(e,t,o)=>o(e,t.prototype)?!0:e.constructor?.name===t.name,be=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&Ce(e,String,(o,r)=>r.isPrototypeOf(o))?"string":t},$e=e=>t=>be(t)===e,pe=e=>t=>typeof t===e,it=e=>t=>e===t,Se=(e,t)=>vt(e)&&Ce(e,t,(o,r)=>ue(o)===r),J=$e("string"),vt=$e("object"),Gt=e=>Se(e,Object),Xe=$e("array"),ie=it(null),ct=pe("boolean"),xn=it(void 0),fn=e=>e==null,qe=e=>!fn(e),Re=pe("function"),Qo=pe("number"),yt=(e,t)=>{if(Xe(e)){for(let o=0,r=e.length;o<r;++o)if(!t(e[o]))return!1;return!0}return!1},Lt=()=>{},F=(e,t)=>(...o)=>e(t.apply(null,o)),jt=(e,t)=>o=>e(t(o)),at=e=>()=>e,Jn=e=>e,an=(e,t)=>e===t;function le(e,...t){return(...o)=>{const r=t.concat(o);return e.apply(null,r)}}const Ve=e=>t=>!e(t),It=e=>()=>{throw new Error(e)},Ne=e=>e(),ft=e=>{e()},He=at(!1),dt=at(!0);class X{tag;value;static singletonNone=new X(!1);constructor(t,o){this.tag=t,this.value=o}static some(t){return new X(!0,t)}static none(){return X.singletonNone}fold(t,o){return this.tag?o(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?X.some(t(this.value)):X.none()}bind(t){return this.tag?t(this.value):X.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:X.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return qe(t)?X.some(t):X.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const $o=Array.prototype.slice,xo=Array.prototype.indexOf,Mo=Array.prototype.push,Ho=(e,t)=>xo.call(e,t),js=(e,t)=>{const o=Ho(e,t);return o===-1?X.none():X.some(o)},Be=(e,t)=>Ho(e,t)>-1,Ke=(e,t)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];if(t(c,o))return!0}return!1},tt=(e,t)=>{const o=e.length,r=new Array(o);for(let c=0;c<o;c++){const h=e[c];r[c]=t(h,c)}return r},Le=(e,t)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];t(c,o)}},Je=(e,t)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];t(r,o)}},Nt=(e,t)=>{const o=[],r=[];for(let c=0,h=e.length;c<h;c++){const v=e[c];(t(v,c)?o:r).push(v)}return{pass:o,fail:r}},xt=(e,t)=>{const o=[];for(let r=0,c=e.length;r<c;r++){const h=e[r];t(h,r)&&o.push(h)}return o},Un=(e,t)=>{if(e.length===0)return[];{let o=t(e[0]);const r=[];let c=[];for(let h=0,v=e.length;h<v;h++){const T=e[h],k=t(T);k!==o&&(r.push(c),c=[]),o=k,c.push(T)}return c.length!==0&&r.push(c),r}},Dt=(e,t,o)=>(Je(e,(r,c)=>{o=t(o,r,c)}),o),Pe=(e,t,o)=>(Le(e,(r,c)=>{o=t(o,r,c)}),o),Tt=(e,t,o)=>{for(let r=0,c=e.length;r<c;r++){const h=e[r];if(t(h,r))return X.some(h);if(o(h,r))break}return X.none()},sn=(e,t)=>Tt(e,t,He),Zn=(e,t)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];if(t(c,o))return X.some(o)}return X.none()},Yo=(e,t)=>{for(let o=e.length-1;o>=0;o--)if(t(e[o],o))return X.some(o);return X.none()},Jo=e=>{const t=[];for(let o=0,r=e.length;o<r;++o){if(!Xe(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Mo.apply(t,e[o])}return t},Do=(e,t)=>Jo(tt(e,t)),mr=(e,t)=>{for(let o=0,r=e.length;o<r;++o){const c=e[o];if(t(c,o)!==!0)return!1}return!0},zo=e=>{const t=$o.call(e,0);return t.reverse(),t},os=(e,t)=>xt(e,o=>!Be(t,o)),Vs=(e,t)=>{const o={};for(let r=0,c=e.length;r<c;r++){const h=e[r];o[String(h)]=t(h,r)}return o},Ss=(e,t)=>{const o=$o.call(e,0);return o.sort(t),o},Xs=(e,t)=>t>=0&&t<e.length?X.some(e[t]):X.none(),gs=e=>Xs(e,0),Wr=e=>Xs(e,e.length-1),Es=Re(Array.from)?Array.from:e=>$o.call(e),$r=(e,t)=>{for(let o=0;o<e.length;o++){const r=t(e[o],o);if(r.isSome())return r}return X.none()},Ma=(e,t)=>{const o=[],r=Re(t)?c=>Ke(o,h=>t(h,c)):c=>Be(o,c);for(let c=0,h=e.length;c<h;c++){const v=e[c];r(v)||o.push(v)}return o},Hn=Object.keys,ts=Object.hasOwnProperty,Oo=(e,t)=>{const o=Hn(e);for(let r=0,c=o.length;r<c;r++){const h=o[r],v=e[h];t(v,h)}},ci=(e,t)=>Ba(e,(o,r)=>({k:r,v:t(o,r)})),Ba=(e,t)=>{const o={};return Oo(e,(r,c)=>{const h=t(r,c);o[h.k]=h.v}),o},Mn=e=>(t,o)=>{e[o]=t},Zt=(e,t,o,r)=>{Oo(e,(c,h)=>{(t(c,h)?o:r)(c,h)})},Kt=(e,t)=>{const o={},r={};return Zt(e,t,Mn(o),Mn(r)),{t:o,f:r}},Yn=(e,t)=>{const o={};return Zt(e,t,Mn(o),Lt),o},Gn=(e,t)=>{const o=[];return Oo(e,(r,c)=>{o.push(t(r,c))}),o},vo=e=>Gn(e,Jn),No=(e,t)=>Qn(e,t)?X.from(e[t]):X.none(),Qn=(e,t)=>ts.call(e,t),ls=(e,t)=>Qn(e,t)&&e[t]!==void 0&&e[t]!==null,La=(e,t,o=ee)=>Y(o).eq(e,t),gi={generate:e=>{if(!Xe(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],o={};return Le(e,(r,c)=>{const h=Hn(r);if(h.length!==1)throw new Error("one and only one name per case");const v=h[0],T=r[v];if(o[v]!==void 0)throw new Error("duplicate key detected:"+v);if(v==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Xe(T))throw new Error("case arguments must be an array");t.push(v),o[v]=(...k)=>{const L=k.length;if(L!==T.length)throw new Error("Wrong number of arguments to case "+v+". Expected "+T.length+" ("+T+"), got "+L);return{fold:(...G)=>{if(G.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+G.length);return G[c].apply(null,k)},match:G=>{const Q=Hn(G);if(t.length!==Q.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+Q.join(","));if(!mr(t,De=>Be(Q,De)))throw new Error("Not all branches were specified when using match. Specified: "+Q.join(", ")+`
Required: `+t.join(", "));return G[v].apply(null,k)},log:G=>{console.log(G,{constructors:t,constructor:v,params:k})}}}}),o}},Pn=e=>{let t=e;return{get:()=>t,set:c=>{t=c}}},er=e=>{const t=h=>h(e),o=at(e),r=()=>c,c={tag:!0,inner:e,fold:(h,v)=>v(e),isValue:dt,isError:He,map:h=>Ie.value(h(e)),mapError:r,bind:t,exists:t,forall:t,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:h=>{h(e)},toOptional:()=>X.some(e)};return c},tr=e=>{const t=()=>o,o={tag:!1,inner:e,fold:(r,c)=>r(e),isValue:He,isError:dt,map:t,mapError:r=>Ie.error(r(e)),bind:t,exists:He,forall:dt,getOr:Jn,or:Jn,getOrThunk:Ne,orThunk:Ne,getOrDie:It(String(e)),each:Lt,toOptional:X.none};return o},Ie={value:er,error:tr,fromOption:(e,t)=>e.fold(()=>tr(t),er)},Ue=typeof window<"u"?window:Function("return this;")(),nt=()=>{const e=window.crypto.getRandomValues(new Uint8Array(16));return e[6]=e[6]&15|64,e[8]=e[8]&63|128,e},gn=()=>{const e=nt(),t=(o,r)=>{let c="";for(let h=o;h<=r;++h){const v=e[h].toString(16).padStart(2,"0");c+=v}return c};return`${t(0,3)}-${t(4,5)}-${t(6,7)}-${t(8,9)}-${t(10,15)}`},Ao=(e,t,o)=>Math.min(Math.max(e,t),o),co=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Zo=0;const us=e=>{const o=new Date().getTime(),r=Math.floor(co()*1e9);return Zo++,e+"_"+r+Zo+String(o)},ko=()=>window.isSecureContext?window.crypto.randomUUID():gn(),Qs=(e,t)=>t,me=(e,t)=>Gt(e)&&Gt(t)?Vt(e,t):t,je=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<t.length;r++){const c=t[r];for(const h in c)Qn(c,h)&&(o[h]=e(o[h],c[h]))}return o},Vt=je(me),wn=je(Qs),qt=(e,t,o=an)=>e.exists(r=>o(r,t)),wo=(e,t,o=an)=>Bn(e,t,o).getOr(e.isNone()&&t.isNone()),oo=e=>{const t=[],o=r=>{t.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return t},Bn=(e,t,o)=>e.isSome()&&t.isSome()?X.some(o(e.getOrDie(),t.getOrDie())):X.none(),Uo=(e,t,o,r)=>e.isSome()&&t.isSome()&&o.isSome()?X.some(r(e.getOrDie(),t.getOrDie(),o.getOrDie())):X.none(),vs=e=>e.bind(Jn),Ts=(e,t)=>e?X.some(t):X.none(),As=(e,t)=>{let o=t??Ue;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},sa=(e,t)=>{const o=e.split(".");return As(o,t)};gi.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Sa=e=>{const t=[],o=[];return Le(e,r=>{r.fold(c=>{t.push(c)},c=>{o.push(c)})}),{errors:t,values:o}},Qf=e=>{const t=Pn(X.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(X.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:T=>{o(),t.set(X.some(T))}}},Tr=e=>{const t=Pn(X.none()),o=()=>t.get().each(T=>clearInterval(T));return{clear:()=>{o(),t.set(X.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:T=>{o(),t.set(X.some(setInterval(T,e)))}}},Fs=()=>{const e=Qf(Lt);return{...e,on:o=>e.get().each(o)}},ir=(e,t)=>e.substring(t),Vi=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t,Ci=(e,t)=>Co(e,t)?ir(e,t.length):e,Ir=(e,t,o=0,r)=>{const c=e.indexOf(t,o);return c!==-1?xn(r)?!0:c+t.length<=r:!1},Co=(e,t)=>Vi(e,t,0),Si=(e,t)=>Vi(e,t,e.length-t.length),ni=e=>t=>t.replace(e,""),Jr=ni(/^\s+|\s+$/g),Sf=ni(/^\s+/g),uc=ni(/\s+$/g),Hr=e=>e.length>0,wu=e=>!Hr(e),dc=(e,t)=>t<=0?"":new Array(t+1).join(e),Ef=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?X.none():X.some(o)},An=(e,t)=>{let o=null;return{cancel:()=>{ie(o)||(clearTimeout(o),o=null)},throttle:(...h)=>{ie(o)&&(o=setTimeout(()=>{o=null,e.apply(null,h)},t))}}},Cu=(e,t)=>{let o=null;const r=()=>{ie(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...h)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,h)},t)}}},Ri=e=>{let t=!1,o;return(...r)=>(t||(t=!0,o=e.apply(null,r)),o)},pi="\uFEFF",qr="",Kd="",Ei=e=>e===pi,rl=e=>e.replace(/\uFEFF/g,""),Tf=e=>{const t={};return Le(e,o=>{t[o]={}}),Hn(t)},Jf=e=>e.length!==void 0,Su=Array.isArray,Yd=e=>{if(Su(e))return e;{const t=[];for(let o=0,r=e.length;o<r;o++)t[o]=e[o];return t}},Dl=(e,t,o)=>{if(!e)return!1;if(o=o||e,Jf(e)){for(let r=0,c=e.length;r<c;r++)if(t.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(Qn(e,r)&&t.call(o,e[r],r,e)===!1)return!1;return!0},Wc=(e,t)=>{const o=[];return Dl(e,(r,c)=>{o.push(t(r,c,e))}),o},qc=(e,t)=>{const o=[];return Dl(e,(r,c)=>{(!t||t(r,c,e))&&o.push(r)}),o},mn=(e,t)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===t)return o}return-1},Eu=(e,t,o,r)=>{let c=xn(o)?e[0]:o;for(let h=0;h<e.length;h++)c=t.call(r,c,e[h],h);return c},bd=(e,t,o)=>{for(let r=0,c=e.length;r<c;r++)if(t.call(o,e[r],r,e))return r;return-1},Vl=e=>e[e.length-1],al=(e,t,o,r)=>{const c=e.isiOS()&&/ipad/i.test(o)===!0,h=e.isiOS()&&!c,v=e.isiOS()||e.isAndroid(),T=v||r("(pointer:coarse)"),k=c||!h&&v&&r("(min-device-width:768px)"),L=h||v&&!k,W=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,G=!L&&!k&&!W;return{isiPad:at(c),isiPhone:at(h),isTablet:at(k),isPhone:at(L),isTouch:at(T),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:at(W),isDesktop:at(G)}},Vu=(e,t)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(t))return r}},Ui=(e,t)=>{const o=Vu(e,t);if(!o)return{major:0,minor:0};const r=c=>Number(t.replace(o,"$"+c));return fc(r(1),r(2))},oi=(e,t)=>{const o=String(t).toLowerCase();return e.length===0?_l():Ui(e,o)},_l=()=>fc(0,0),fc=(e,t)=>({major:e,minor:t}),qs={nu:fc,detect:oi,unknown:_l},Af=(e,t)=>$r(t.brands,o=>{const r=o.brand.toLowerCase();return sn(e,c=>r===c.brand?.toLowerCase()).map(c=>({current:c.name,version:qs.nu(parseInt(o.version,10),0)}))}),te=(e,t)=>{const o=String(t).toLowerCase();return sn(e,r=>r.search(o))},ve=(e,t)=>te(e,t).map(o=>{const r=qs.detect(o.versionRegexes,t);return{current:o.name,version:r}}),Fe=(e,t)=>te(e,t).map(o=>{const r=qs.detect(o.versionRegexes,t);return{current:o.name,version:r}}),Rt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,qn=e=>t=>Ir(t,e),ps=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Ir(e,"edge/")&&Ir(e,"chrome")&&Ir(e,"safari")&&Ir(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Rt],search:e=>Ir(e,"chrome")&&!Ir(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Ir(e,"msie")||Ir(e,"trident")},{name:"Opera",versionRegexes:[Rt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:qn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:qn("firefox")},{name:"Safari",versionRegexes:[Rt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Ir(e,"safari")||Ir(e,"mobile/"))&&Ir(e,"applewebkit")}],lr=[{name:"Windows",search:qn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Ir(e,"iphone")||Ir(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:qn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:qn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:qn("linux"),versionRegexes:[]},{name:"Solaris",search:qn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:qn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:qn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Va={browsers:at(ps),oses:at(lr)},Ti="Edge",Ol="Chromium",oe="IE",ke="Opera",Qe="Firefox",Et="Safari",pn=()=>Wn({current:void 0,version:qs.unknown()}),Wn=e=>{const t=e.current,o=e.version,r=c=>()=>t===c;return{current:t,version:o,isEdge:r(Ti),isChromium:r(Ol),isIE:r(oe),isOpera:r(ke),isFirefox:r(Qe),isSafari:r(Et)}},Po={unknown:pn,nu:Wn},Gs="Windows",Os="iOS",Mi="Android",Ea="Linux",Xd="macOS",Om="Solaris",kf="FreeBSD",Gc="ChromeOS",R0=()=>M0({current:void 0,version:qs.unknown()}),M0=e=>{const t=e.current,o=e.version,r=c=>()=>t===c;return{current:t,version:o,isWindows:r(Gs),isiOS:r(Os),isAndroid:r(Mi),isMacOS:r(Xd),isLinux:r(Ea),isSolaris:r(Om),isFreeBSD:r(kf),isChromeOS:r(Gc)}},ye={unknown:R0,nu:M0},mt={detect:(e,t,o)=>{const r=Va.browsers(),c=Va.oses(),h=t.bind(k=>Af(r,k)).orThunk(()=>ve(r,e)).fold(Po.unknown,Po.nu),v=Fe(c,e).fold(ye.unknown,ye.nu),T=al(v,h,e,o);return{browser:h,os:v,deviceType:T}}},Xt=e=>window.matchMedia(e).matches;let po=Ri(()=>mt.detect(window.navigator.userAgent,X.from(window.navigator.userAgentData),Xt));const bs=()=>po(),Ta=(e,t)=>sa(e,t),il=(e,t)=>{const o=Ta(e,t);if(o==null)throw new Error(e+" not available on this browser");return o},Zi=Object.getPrototypeOf,Ul=e=>il("HTMLElement",e),Qd=e=>{const t=sa("ownerDocument.defaultView",e);return vt(e)&&(Ul(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Zi(e).constructor.name))},Zl=window.navigator.userAgent,Nm=bs(),Wl=Nm.browser,ll=Nm.os,Jd=Nm.deviceType,_c=Zl.indexOf("Windows Phone")!==-1,ds={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Wl.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Wl.isIE(),windowsPhone:_c,browser:{current:Wl.current,version:Wl.version,isChromium:Wl.isChromium,isEdge:Wl.isEdge,isFirefox:Wl.isFirefox,isIE:Wl.isIE,isOpera:Wl.isOpera,isSafari:Wl.isSafari},os:{current:ll.current,version:ll.version,isAndroid:ll.isAndroid,isChromeOS:ll.isChromeOS,isFreeBSD:ll.isFreeBSD,isiOS:ll.isiOS,isLinux:ll.isLinux,isMacOS:ll.isMacOS,isSolaris:ll.isSolaris,isWindows:ll.isWindows},deviceType:{isDesktop:Jd.isDesktop,isiPad:Jd.isiPad,isiPhone:Jd.isiPhone,isPhone:Jd.isPhone,isTablet:Jd.isTablet,isTouch:Jd.isTouch,isWebView:Jd.isWebView}},vh=/^\s*|\s*$/g,pp=e=>fn(e)?"":(""+e).replace(vh,""),Aa=(e,t)=>t?t==="array"&&Su(e)?!0:typeof e===t:e!==void 0,B0=(e,t,o={})=>{const r=J(e)?e.split(t||","):e||[];let c=r.length;for(;c--;)o[r[c]]={};return o},V1=Qn,U1=(e,...t)=>{for(let o=0;o<t.length;o++){const r=t[o];for(const c in r)if(Qn(r,c)){const h=r[c];h!==void 0&&(e[c]=h)}}return e},Z1=function(e,t,o,r){r=r||this,e&&(o&&(e=e[o]),Dl(e,(c,h)=>t.call(r,c,h,o)===!1?!1:(Z1(c,t,o,r),!0)))},ln={trim:pp,isArray:Su,is:Aa,toArray:Yd,makeMap:B0,each:Dl,map:Wc,grep:qc,inArray:mn,hasOwn:V1,extend:U1,walk:Z1,resolve:(e,t=window)=>{const o=e.split(".");for(let r=0,c=o.length;r<c&&(t=t[o[r]],!!t);r++);return t},explode:(e,t)=>Xe(e)?e:e===""?[]:Wc(e.split(t||","),pp),_addCacheSuffix:e=>{const t=ds.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Kc=(e,t)=>{const r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return yg(r.childNodes[0])},bg=(e,t)=>{const r=(t||document).createElement(e);return yg(r)},yd=(e,t)=>{const r=(t||document).createTextNode(e);return yg(r)},yg=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},_e={fromHtml:Kc,fromTag:bg,fromText:yd,fromDom:yg,fromPoint:(e,t,o)=>X.from(e.dom.elementFromPoint(t,o)).map(yg)},Yc=(e,t)=>{t.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},vl=(e,t)=>{t.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},xh=(e,t,o)=>{const r=e.document.createRange();return Yc(r,t),vl(r,o),r},wh=(e,t,o,r,c)=>{const h=e.document.createRange();return h.setStart(t.dom,o),h.setEnd(r.dom,c),h},Nl=gi.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Oc=(e,t,o)=>t(_e.fromDom(o.startContainer),o.startOffset,_e.fromDom(o.endContainer),o.endOffset),L0=(e,t)=>t.match({domRange:o=>({ltr:at(o),rtl:X.none}),relative:(o,r)=>({ltr:Ri(()=>xh(e,o,r)),rtl:Ri(()=>X.some(xh(e,r,o)))}),exact:(o,r,c,h)=>({ltr:Ri(()=>wh(e,o,r,c,h)),rtl:Ri(()=>X.some(wh(e,c,h,o,r)))})}),bp=(e,t)=>{const o=t.ltr();return o.collapsed?t.rtl().filter(c=>c.collapsed===!1).map(c=>Nl.rtl(_e.fromDom(c.endContainer),c.endOffset,_e.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>Oc(e,Nl.ltr,o)):Oc(e,Nl.ltr,o)},yp=(e,t)=>{const o=L0(e,t);return bp(e,o)};Nl.ltr,Nl.rtl;const xl=8,vp=9,Tu=11,Ch=1,P0=3,wl=(e,t)=>{const o=e.dom;if(o.nodeType!==Ch)return!1;{const r=o;if(r.matches!==void 0)return r.matches(t);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(t);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Rm=e=>e.nodeType!==Ch&&e.nodeType!==vp&&e.nodeType!==Tu||e.childElementCount===0,Uu=(e,t)=>{const o=t===void 0?document:t.dom;return Rm(o)?[]:tt(o.querySelectorAll(e),_e.fromDom)},tm=(e,t)=>{const o=t===void 0?document:t.dom;return Rm(o)?X.none():X.from(o.querySelector(e)).map(_e.fromDom)},ss=(e,t)=>e.dom===t.dom,mc=(e,t)=>{const o=e.dom,r=t.dom;return o===r?!1:o.contains(r)},Sh=wl,G1=(e,t)=>{const o=[],r=h=>(o.push(h),t(h));let c=t(e);do c=c.bind(r);while(c.isSome());return o},rs=e=>e.dom.nodeName.toLowerCase(),nm=e=>e.dom.nodeType,Ai=e=>t=>nm(t)===e,vd=e=>nm(e)===xl||rs(e)==="#comment",xd=e=>fa(e)&&Qd(e.dom),fa=Ai(Ch),xs=Ai(P0),F0=Ai(vp),wd=Ai(Tu),Pa=e=>t=>fa(t)&&rs(t)===e,Au=e=>_e.fromDom(e.dom.ownerDocument),Xc=e=>F0(e)?e:Au(e),si=e=>_e.fromDom(Xc(e).dom.documentElement),Zu=e=>_e.fromDom(Xc(e).dom.defaultView),Wi=e=>X.from(e.dom.parentNode).map(_e.fromDom),Qc=e=>X.from(e.dom.parentElement).map(_e.fromDom),cl=(e,t)=>{const o=Re(t)?t:He;let r=e.dom;const c=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const h=r.parentNode,v=_e.fromDom(h);if(c.push(v),o(v)===!0)break;r=h}return c},$s=e=>{const t=o=>xt(o,r=>!ss(e,r));return Wi(e).map(ma).map(t).getOr([])},Wu=e=>X.from(e.dom.previousSibling).map(_e.fromDom),Za=e=>X.from(e.dom.nextSibling).map(_e.fromDom),qi=e=>zo(G1(e,Wu)),Fa=e=>G1(e,Za),ma=e=>tt(e.dom.childNodes,_e.fromDom),Jc=(e,t)=>{const o=e.dom.childNodes;return X.from(o[t]).map(_e.fromDom)},ri=e=>Jc(e,0),ai=e=>Jc(e,e.dom.childNodes.length-1),om=e=>e.dom.childNodes.length,xp=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return _e.fromDom(t)},wp=e=>wd(e)&&qe(e.dom.host),ra=e=>_e.fromDom(e.dom.getRootNode()),Mm=e=>wp(e)?e:xp(Xc(e)),Eh=e=>wp(e)?e:_e.fromDom(Xc(e).dom.body),Df=e=>{const t=ra(e);return wp(t)?X.some(t):X.none()},uo=e=>_e.fromDom(e.dom.host),ku=e=>{if(qe(e.target)){const t=_e.fromDom(e.target);if(fa(t)&&ea(t)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return gs(o)}}return X.from(e.target)},ea=e=>qe(e.dom.shadowRoot),ii=(e,t,o,r,c,h,v)=>({target:e,x:t,y:o,stop:r,prevent:c,kill:h,raw:v}),$a=e=>{const t=_e.fromDom(ku(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),c=F(r,o);return ii(t,e.clientX,e.clientY,o,r,c,e)},cr=(e,t)=>o=>{e(o)&&t($a(o))},Nc=(e,t,o,r,c)=>{const h=cr(o,r);return e.dom.addEventListener(t,h,c),{unbind:le(eu,e,t,h,c)}},Cp=(e,t,o,r)=>Nc(e,t,o,r,!1),eu=(e,t,o,r)=>{e.dom.removeEventListener(t,o,r)},qu=dt,vg=(e,t,o)=>Cp(e,t,qu,o),Cl=()=>_e.fromDom(document),Ia=(e,t=!1)=>e.dom.focus({preventScroll:t}),Js=e=>{const t=ra(e).dom;return e.dom===t.activeElement},Rl=(e=Cl())=>X.from(e.dom.activeElement).map(_e.fromDom),Du=e=>Rl(ra(e)).filter(t=>e.dom.contains(t.dom)),ul=(e,t)=>{Wi(e).each(r=>{r.dom.insertBefore(t.dom,e.dom)})},Sl=(e,t)=>{Za(e).fold(()=>{Wi(e).each(c=>{Is(c,t)})},r=>{ul(r,t)})},ef=(e,t)=>{ri(e).fold(()=>{Is(e,t)},r=>{e.dom.insertBefore(t.dom,r.dom)})},Is=(e,t)=>{e.dom.appendChild(t.dom)},Ml=(e,t)=>{ul(e,t),Is(t,e)},Bm=(e,t)=>{Le(t,o=>{ul(e,o)})},Th=(e,t)=>{Le(t,(o,r)=>{const c=r===0?e:t[r-1];Sl(c,o)})},hc=(e,t)=>{Le(t,o=>{Is(e,o)})},So=(e,t,o)=>{if(J(o)||ct(o)||Qo(o))e.setAttribute(t,o+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},Or=(e,t,o)=>{So(e.dom,t,o)},Wa=(e,t)=>{const o=e.dom;Oo(t,(r,c)=>{So(o,c,r)})},yr=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?void 0:o},dl=(e,t)=>X.from(yr(e,t)),Gr=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):!1},li=(e,t)=>{e.dom.removeAttribute(t)},tf=e=>{const t=e.dom.attributes;return t==null||t.length===0},cs=e=>Pe(e.dom.attributes,(t,o)=>(t[o.name]=o.value,t),{}),ql=e=>{e.dom.textContent="",Le(ma(e),t=>{ws(t)})},ws=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Gl=e=>{const t=ma(e);t.length>0&&Th(e,t),ws(e)},bi=(e,t)=>_e.fromDom(e.dom.cloneNode(t)),ki=e=>bi(e,!1),_f=e=>bi(e,!0),xg=(e,t)=>{const o=_e.fromTag(t),r=cs(e);return Wa(o,r),o},qa=(e,t)=>{const o=xg(e,t);Sl(e,o);const r=ma(e);return hc(o,r),ws(e),o},Of=(e,t)=>{const r=(t||document).createElement("div");return r.innerHTML=e,ma(_e.fromDom(r))},Cd=e=>tt(e,_e.fromDom),Bi=e=>e.dom.innerHTML,nf=(e,t)=>{const r=Au(e).dom,c=_e.fromDom(r.createDocumentFragment()),h=Of(t,r);hc(c,h),ql(e),Is(e,c)},wg=e=>{const t=_e.fromTag("div"),o=_e.fromDom(e.dom.cloneNode(!0));return Is(t,o),Bi(t)},Gu=e=>e.style!==void 0&&Re(e.style.getPropertyValue),hr=e=>{const t=xs(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const o=t.ownerDocument;return Df(_e.fromDom(t)).fold(()=>o.body.contains(t),jt(hr,uo))},$0=(e,t,o)=>{if(!J(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Gu(e)&&e.style.setProperty(t,o)},Cg=(e,t)=>{Gu(e)&&e.style.removeProperty(t)},Bl=(e,t,o)=>{const r=e.dom;$0(r,t,o)},fl=(e,t)=>{const o=e.dom;Oo(t,(r,c)=>{$0(o,c,r)})},ka=(e,t)=>{const o=e.dom,c=window.getComputedStyle(o).getPropertyValue(t);return c===""&&!hr(e)?Sd(o,t):c},Sd=(e,t)=>Gu(e)?e.style.getPropertyValue(t):"",ui=(e,t)=>{const o=e.dom,r=Sd(o,t);return X.from(r).filter(c=>c.length>0)},of=e=>{const t={},o=e.dom;if(Gu(o))for(let r=0;r<o.style.length;r++){const c=o.style.item(r);t[c]=o.style[c]}return t},Sg=(e,t)=>{const o=e.dom;Cg(o,t),qt(dl(e,"style").map(Jr),"")&&li(e,"style")},Eg=e=>e.dom.offsetWidth,Ed=((e,t)=>{const o=(T,k)=>{if(!Qo(k)&&!k.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+k);const L=T.dom;Gu(L)&&(L.style[e]=k+"px")},r=T=>{const k=t(T);if(k<=0||k===null){const L=ka(T,e);return parseFloat(L)||0}return k},c=r,h=(T,k)=>Pe(k,(L,W)=>{const G=ka(T,W),Q=G===void 0?0:parseInt(G,10);return isNaN(Q)?L:L+Q},0);return{set:o,get:r,getOuter:c,aggregate:h,max:(T,k,L)=>{const W=h(T,L);return k>W?k-W:0}}})("height",e=>{const t=e.dom;return hr(e)?t.getBoundingClientRect().height:t.offsetHeight}),dy=e=>Ed.get(e),sm=(e,t)=>({left:e,top:t,translate:(r,c)=>sm(e+r,t+c)}),gc=sm,Y1=e=>{const t=e.getBoundingClientRect();return gc(t.left,t.top)},Ah=(e,t)=>e!==void 0?e:t!==void 0?t:0,Nf=e=>{const t=e.dom.ownerDocument,o=t.body,r=t.defaultView,c=t.documentElement;if(o===e.dom)return gc(o.offsetLeft,o.offsetTop);const h=Ah(r?.pageYOffset,c.scrollTop),v=Ah(r?.pageXOffset,c.scrollLeft),T=Ah(c.clientTop,o.clientTop),k=Ah(c.clientLeft,o.clientLeft);return rm(e).translate(v-k,h-T)},rm=e=>{const t=e.dom,r=t.ownerDocument.body;return r===t?gc(r.offsetLeft,r.offsetTop):hr(e)?Y1(t):gc(0,0)},Tg=e=>{const t=e!==void 0?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return gc(o,r)},Ag=(e,t,o)=>{const c=(o!==void 0?o.dom:document).defaultView;c&&c.scrollTo(e,t)},tu=(e,t)=>{bs().browser.isSafari()&&Re(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},fy=(e,t)=>{const o=h=>{if(!e(h))throw new Error("Can only get "+t+" value of a "+t+" node");return r(h).getOr("")},r=h=>e(h)?X.from(h.dom.nodeValue):X.none();return{get:o,getOption:r,set:(h,v)=>{if(!e(h))throw new Error("Can only set raw "+t+" value of a "+t+" node");h.dom.nodeValue=v}}},_u=(e,t)=>{const r=document.createDocumentFragment();return Le(e,c=>{r.appendChild(c.dom)}),_e.fromDom(r)},ur=fy(xs,"text"),yi=e=>ur.get(e),Td=e=>ur.getOption(e),Sp=(e,t)=>ur.set(e,t),nu=(e,t)=>{const o=yr(e,t);return o===void 0||o===""?[]:o.split(" ")},Rf=(e,t,o)=>{const c=nu(e,t).concat([o]);return Or(e,t,c.join(" ")),!0},kg=(e,t,o)=>{const r=xt(nu(e,t),c=>c!==o);return r.length>0?Or(e,t,r.join(" ")):li(e,t),!1};var Ad=(e,t,o,r,c)=>e(o,r)?X.some(o):Re(c)&&c(o)?X.none():t(o,r,c);const kd=(e,t,o)=>{let r=e.dom;const c=Re(o)?o:He;for(;r.parentNode;){r=r.parentNode;const h=_e.fromDom(r);if(t(h))return X.some(h);if(c(h))break}return X.none()},nr=(e,t,o)=>Ad((c,h)=>h(c),kd,e,t,o),Dg=(e,t)=>{const o=e.dom;return o.parentNode?ha(_e.fromDom(o.parentNode),r=>!ss(e,r)&&t(r)):X.none()},ha=(e,t)=>{const o=c=>t(_e.fromDom(c));return sn(e.dom.childNodes,o).map(_e.fromDom)},kh=(e,t)=>{const o=r=>{for(let c=0;c<r.childNodes.length;c++){const h=_e.fromDom(r.childNodes[c]);if(t(h))return X.some(h);const v=o(r.childNodes[c]);if(v.isSome())return v}return X.none()};return o(e.dom)},Da=(e,t,o)=>kd(e,r=>wl(r,t),o),Ku=(e,t)=>tm(t,e),El=(e,t,o)=>Ad((c,h)=>wl(c,h),Da,e,t,o),sf=e=>e.dom.classList!==void 0,_g=e=>nu(e,"class"),ou=(e,t)=>Rf(e,"class",t),Ou=(e,t)=>kg(e,"class",t),Lm=(e,t)=>Be(_g(e),t)?Ou(e,t):ou(e,t),pc=(e,t)=>{sf(e)?e.dom.classList.add(t):ou(e,t)},Dd=e=>{(sf(e)?e.dom.classList:_g(e)).length===0&&li(e,"class")},aa=(e,t)=>{sf(e)?e.dom.classList.remove(t):Ou(e,t),Dd(e)},ta=(e,t)=>{const o=sf(e)?e.dom.classList.toggle(t):Lm(e,t);return Dd(e),o},Di=(e,t)=>sf(e)&&e.dom.classList.contains(t),Pm=(e,t)=>{Le(t,o=>{pc(e,o)})},_d=(e,t)=>{Le(t,o=>{aa(e,o)})},or=e=>El(e,"[contenteditable]"),Cr=(e,t=!1)=>hr(e)?e.dom.isContentEditable:or(e).fold(at(t),o=>Ll(o)==="true"),Ll=e=>e.dom.contentEditable,P=(e,t)=>{e.dom.contentEditable=t?"true":"false"},j=(e,t,o)=>xt(cl(e,o),t),re=(e,t)=>xt(ma(e),t),we=(e,t)=>{let o=[];return Le(ma(e),r=>{t(r)&&(o=o.concat([r])),o=o.concat(we(r,t))}),o},Ge=(e,t,o)=>j(e,r=>wl(r,t),o),kt=(e,t)=>Uu(t,e),Cn=(e,t,o)=>kd(e,t,o).isSome(),_n=(e,t)=>Dg(e,t).isSome(),Fo=(e,t)=>kh(e,t).isSome(),as=(e,t)=>Cn(e,le(ss,t)),Br=(e,t,o)=>Da(e,t,o).isSome(),ia=(e,t,o)=>El(e,t,o).isSome(),vi=e=>Re(e)?e:He,Rc=(e,t,o)=>{let r=e.dom;const c=vi(o);for(;r.parentNode;){r=r.parentNode;const h=_e.fromDom(r),v=t(h);if(v.isSome())return v;if(c(h))break}return X.none()},Yu=(e,t,o)=>{const r=t(e),c=vi(o);return r.orThunk(()=>c(e)?X.none():Rc(e,t,c))},rf=e=>Td(e).filter(t=>t.trim().length!==0||t.indexOf(qr)>-1).isSome(),di=e=>xd(e)&&yr(e,"contenteditable")==="false",Li=["img","br"],am=e=>rf(e)||Be(Li,rs(e))||di(e),im=e=>kh(e,am),Dh={create:(e,t,o,r)=>({start:e,soffset:t,finish:o,foffset:r})},Nu=gi.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),_h=(e,t,o,r)=>e.fold(t,o,r),X1=e=>e.fold(Jn,Jn,Jn),Q1=Nu.before,Hs=Nu.on,Ha=Nu.after,Ga={before:Q1,on:Hs,after:Ha,cata:_h,getStart:X1},Pl=gi.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ep=e=>Pl.exact(e.start,e.soffset,e.finish,e.foffset),Og=e=>e.match({domRange:t=>_e.fromDom(t.startContainer),relative:(t,o)=>Ga.getStart(t),exact:(t,o,r,c)=>t}),Ng=Pl.domRange,Tp=Pl.relative,S2=Pl.exact,$m=e=>{const t=Og(e);return Zu(t)},I0=Dh.create,Oh={domRange:Ng,relative:Tp,exact:S2,exactFromRange:Ep,getWin:$m,range:I0},Rv=(e,t,o)=>X.from(e.caretPositionFromPoint?.(t,o)).bind(r=>{if(r.offsetNode===null)return X.none();const c=e.createRange();return c.setStart(r.offsetNode,r.offset),c.collapse(),X.some(c)}),Pi=(e,t,o)=>X.from(e.caretRangeFromPoint?.(t,o)),_i=(e,t,o)=>e.caretPositionFromPoint?Rv(e,t,o):e.caretRangeFromPoint?Pi(e,t,o):X.none(),Nh=(e,t,o)=>{const r=e.document;return _i(r,t,o).map(c=>Dh.create(_e.fromDom(c.startContainer),c.startOffset,_e.fromDom(c.endContainer),c.endOffset))},Im=(e,t)=>{const o=rs(e);return o==="input"?Ga.after(e):Be(["br","img"],o)?t===0?Ga.before(e):Ga.after(e):Ga.on(e,t)},my=(e,t)=>{const o=e.fold(Ga.before,Im,Ga.after),r=t.fold(Ga.before,Im,Ga.after);return Oh.relative(o,r)},bc=(e,t,o,r)=>{const c=Im(e,t),h=Im(o,r);return Oh.relative(c,h)},hy=e=>e.match({domRange:t=>{const o=_e.fromDom(t.startContainer),r=_e.fromDom(t.endContainer);return bc(o,t.startOffset,r,t.endOffset)},relative:my,exact:bc}),af=e=>{const t=Oh.getWin(e).dom,o=(c,h,v,T)=>wh(t,c,h,v,T),r=hy(e);return yp(t,r).match({ltr:o,rtl:o})},J1=(e,t,o)=>Nh(e,t,o),su=e=>{const t=e===void 0?window:e;return bs().browser.isFirefox()?X.none():X.from(t.visualViewport)},H0=(e,t,o,r)=>({x:e,y:t,width:o,height:r,right:e+o,bottom:t+r}),Ru=e=>{const t=e===void 0?window:e,o=t.document,r=Tg(_e.fromDom(o));return su(t).fold(()=>{const c=t.document.documentElement,h=c.clientWidth,v=c.clientHeight;return H0(r.left,r.top,h,v)},c=>H0(Math.max(c.pageLeft,r.left),Math.max(c.pageTop,r.top),c.width,c.height))};class Ka{rootNode;node;constructor(t,o){this.node=t,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,o,r,c){if(t){if(!c&&t[o])return t[o];if(t!==this.rootNode){let h=t[r];if(h)return h;for(let v=t.parentNode;v&&v!==this.rootNode;v=v.parentNode)if(h=v[r],h)return h}}}findPreviousNode(t,o){if(t){const r=t.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let h=r.lastChild;h;h=h.lastChild)if(!h.lastChild)return h}return r}const c=t.parentNode;if(c&&c!==this.rootNode)return c}}}const gy=/^[ \t\r\n]*$/,Ap=e=>gy.test(e),Mv=e=>{for(const t of e)if(!Ei(t))return!1;return!0},py=e=>" \f	\v".indexOf(e)!==-1,Bv=e=>e===`
`||e==="\r",Lv=(e,t)=>t<e.length&&t>=0?Bv(e[t]):!1,z0=(e,t=4,o=!0,r=!0)=>{const c=dc(" ",t),h=e.replace(/\t/g,c);return Pe(h,(T,k)=>py(k)||k===qr?T.pcIsSpace||T.str===""&&o||T.str.length===h.length-1&&r||Lv(h,T.str.length+1)?{pcIsSpace:!1,str:T.str+qr}:{pcIsSpace:!0,str:T.str+" "}:{pcIsSpace:Bv(k),str:T.str+k},{pcIsSpace:!1,str:""}).str},kp=e=>t=>!!t&&t.nodeType===e,eb=e=>!!e&&!Object.getPrototypeOf(e),Sn=kp(1),ru=e=>Sn(e)&&xd(_e.fromDom(e)),E2=e=>Sn(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",au=e=>{const t=e.toLowerCase();return o=>qe(o)&&o.nodeName.toLowerCase()===t},Xu=e=>{const t=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return Be(t,r)}return!1}},tb=(e,t)=>{const o=t.toLowerCase().split(" ");return r=>{if(Sn(r)){const c=r.ownerDocument.defaultView;if(c)for(let h=0;h<o.length;h++){const v=c.getComputedStyle(r,null);if((v?v.getPropertyValue(e):null)===o[h])return!0}}return!1}},T2=e=>t=>Sn(t)&&t.hasAttribute(e),Hm=e=>Sn(e)&&e.hasAttribute("data-mce-bogus"),A2=e=>Sn(e)&&e.getAttribute("data-mce-bogus")==="all",iu=e=>Sn(e)&&e.tagName==="TABLE",k2=e=>t=>!!(ru(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),lf=Xu(["textarea","input"]),dn=kp(3),Dp=kp(4),Fi=kp(7),ns=kp(8),zm=kp(9),_p=kp(11),la=au("br"),Od=au("img"),Op=au("a"),Mu=k2("true"),na=k2("false"),lm=e=>ru(e)&&e.isContentEditable&&qe(e.parentElement)&&!e.parentElement.isContentEditable,Np=Xu(["td","th"]),by=Xu(["td","th","caption"]),Rh=au("template"),Nd=Xu(["video","audio","object","embed"]),j0=au("li"),V0=au("details"),yy=au("summary"),vy="uc-video",Rp=e=>e.nodeName.toLowerCase()===vy,xy={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},nb=(e,t,o)=>{const r=_e.fromDom(t),c=_e.fromDom(e),h=o.getWhitespaceElements();return Cn(c,T=>Qn(h,rs(T)),le(ss,r))},zC=e=>Sn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Pv=(e,t)=>Sn(e)&&Qn(t.getNonEmptyElements(),e.nodeName),Tl=T2("data-mce-bookmark"),lu=e=>Qc(_e.fromDom(e)).exists(t=>!Cr(t)),U0=(e,t,o)=>Ap(e.data)&&!nb(e,t,o),jC=(e,t,o,r)=>dn(e)&&!U0(e,t,o)&&(!r.includeZwsp||!Mv(e.data)),Bu=(e,t,o,r)=>Re(r.isContent)&&r.isContent(t)||Pv(t,e)||Tl(t)||zC(t)||jC(t,o,e,r)||na(t)||Mu(t)&&lu(t),fo=(e,t,o)=>{const r={...xy,...o};if(r.checkRootAsContent&&Bu(e,t,t,r))return!1;let c=t.firstChild,h=0;if(!c)return!0;const v=new Ka(c,t);do{if(r.skipBogus&&Sn(c)){const T=c.getAttribute("data-mce-bogus");if(T){c=v.next(T==="all");continue}}if(ns(c)){c=v.next(!0);continue}if(la(c)){h++,c=v.next();continue}if(Bu(e,c,t,r))return!1;c=v.next()}while(c);return h<=1},_a=(e,t,o)=>fo(e,t.dom,{checkRootAsContent:!0,...o}),Mp=(e,t,o)=>Bu(e,t,t,{includeZwsp:xy.includeZwsp,...o}),ob=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},Rg=e=>ob(e)!=="html",Z0=e=>Rg(e.nodeName),W0=e=>ob(e.nodeName),Mh=["svg","math"],Fv=()=>{const e=Fs(),t=()=>e.get().map(W0).getOr("html");return{track:c=>(Z0(c)?e.set(c):e.get().exists(h=>!h.contains(c))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},cm="data-mce-block",$v=e=>xt(Hn(e),t=>!/[A-Z]/.test(t)),sb=e=>tt($v(e),t=>{const o=CSS.escape(t);return`${o}:`+tt(Mh,r=>`not(${r} ${o})`).join(":")}).join(","),ga=(e,t)=>qe(t.querySelector(e))?(t.setAttribute(cm,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(cm),!1),Qu=(e,t)=>{const o=sb(e.getTransparentElements()),r=sb(e.getBlockElements());return xt(t.querySelectorAll(o),c=>ga(r,c))},Mc=(e,t,o)=>{const r=o?"lastChild":"firstChild";for(let c=t[r];c;c=c[r])if(fo(e,c,{checkRootAsContent:!0})){c.parentNode?.removeChild(c);return}},Mg=(e,t,o)=>{const r=document.createRange(),c=t.parentNode;if(c){r.setStartBefore(t),r.setEndBefore(o);const h=r.extractContents();Mc(e,h,!0),r.setStartAfter(o),r.setEndAfter(t);const v=r.extractContents();Mc(e,v,!1),fo(e,h,{checkRootAsContent:!0})||c.insertBefore(h,t),fo(e,o,{checkRootAsContent:!0})||c.insertBefore(o,t),fo(e,v,{checkRootAsContent:!0})||c.insertBefore(v,t),c.removeChild(t)}},Kl=(e,t,o)=>{const r=e.getBlockElements(),c=_e.fromDom(t),h=T=>rs(T)in r,v=T=>ss(T,c);Le(Cd(o),T=>{kd(T,h,v).each(k=>{const L=re(T,W=>h(W)&&!e.isValidChild(rs(k),rs(W)));if(L.length>0){const W=Qc(k);Le(L,G=>{kd(G,h,v).each(Q=>{Mg(e,Q.dom,G.dom)})}),W.each(G=>Qu(e,G.dom))}})})},Bh=(e,t,o)=>{Le([...o,...Ya(e,t)?[t]:[]],r=>Le(kt(_e.fromDom(r),r.nodeName.toLowerCase()),c=>{Yl(e,c.dom)&&Gl(c)}))},ml=(e,t)=>{const o=Qu(e,t);Kl(e,t,o),Bh(e,t,o)},yc=(e,t)=>{if(ab(e,t)){const o=sb(e.getBlockElements());ga(o,t)}},rb=(e,t,o)=>{const r=h=>ss(h,_e.fromDom(t)),c=cl(_e.fromDom(o),r);Xs(c,c.length-2).filter(fa).fold(()=>ml(e,t),h=>ml(e,h.dom))},Wt=e=>e.hasAttribute(cm),Bc=(e,t)=>Qn(e.getTransparentElements(),t),ab=(e,t)=>Sn(t)&&Bc(e,t.nodeName),Ya=(e,t)=>ab(e,t)&&Wt(t),Yl=(e,t)=>ab(e,t)&&!Wt(t),cu=(e,t)=>t.type===1&&Bc(e,t.name)&&J(t.attr(cm)),D2=bs().browser,cf=e=>sn(e,fa),q0=e=>D2.isFirefox()&&rs(e)==="table"?cf(ma(e)).filter(t=>rs(t)==="caption").bind(t=>cf(Fa(t)).map(o=>{const r=o.dom.offsetTop,c=t.dom.offsetTop,h=t.dom.offsetHeight;return r<=c?-h:0})).getOr(0):0,Ar=(e,t)=>e.children&&Be(e.children,t),vr=(e,t,o)=>{let r=0,c=0;const h=e.ownerDocument;if(o=o||e,t){if(o===e&&t.getBoundingClientRect&&ka(_e.fromDom(e),"position")==="static"){const T=t.getBoundingClientRect();return r=T.left+(h.documentElement.scrollLeft||e.scrollLeft)-h.documentElement.clientLeft,c=T.top+(h.documentElement.scrollTop||e.scrollTop)-h.documentElement.clientTop,{x:r,y:c}}let v=t;for(;v&&v!==o&&v.nodeType&&!Ar(v,o);){const T=v;r+=T.offsetLeft||0,c+=T.offsetTop||0,v=T.offsetParent}for(v=t.parentNode;v&&v!==o&&v.nodeType&&!Ar(v,o);)r-=v.scrollLeft||0,c-=v.scrollTop||0,v=v.parentNode;c+=q0(_e.fromDom(t))}return{x:r,y:c}},um=(e,t)=>{const o=t.crossOrigin;return t.contentCssCors?"anonymous":Re(o)?o(e):void 0},Bp=(e,t={})=>{let o=0;const r={},c=_e.fromDom(e),h=Xc(c),v=rt=>{t.referrerPolicy=rt},T=rt=>{t.contentCssCors=rt},k=rt=>{t.crossOrigin=rt},L=rt=>{Is(Mm(c),rt)},W=rt=>{const ut=Mm(c);Ku(ut,"#"+rt).each(ws)},G=rt=>No(r,rt).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),Q=rt=>new Promise((ut,Pt)=>{let en;const Nn=ln._addCacheSuffix(rt),io=G(Nn);r[Nn]=io,io.count++;const Bt=(Lo,Ws)=>{Le(Lo,ft),io.status=Ws,io.passed=[],io.failed=[],en&&(en.onload=null,en.onerror=null,en=null)},Ct=()=>Bt(io.passed,2),Ft=()=>Bt(io.failed,3);if(ut&&io.passed.push(ut),Pt&&io.failed.push(Pt),io.status===1)return;if(io.status===2){Ct();return}if(io.status===3){Ft();return}io.status=1;const On=_e.fromTag("link",h.dom);Wa(On,{rel:"stylesheet",type:"text/css",id:io.id});const Bo=um(rt,t);Bo!==void 0&&Or(On,"crossOrigin",Bo),t.referrerPolicy&&Or(On,"referrerpolicy",t.referrerPolicy),en=On.dom,en.onload=Ct,en.onerror=Ft,L(On),Or(On,"href",Nn)}),ce=(rt,ut)=>{const Pt=G(rt);r[rt]=Pt,Pt.count++;const en=_e.fromTag("style",h.dom);Wa(en,{rel:"stylesheet",type:"text/css",id:Pt.id,"data-mce-key":rt}),en.dom.innerHTML=ut,L(en)},De=rt=>Promise.allSettled(tt(rt,Pt=>Q(Pt).then(at(Pt)))).then(Pt=>{const en=Nt(Pt,Nn=>Nn.status==="fulfilled");return en.fail.length>0?Promise.reject(tt(en.fail,Nn=>Nn.reason)):tt(en.pass,Nn=>Nn.value)}),ge=rt=>{const ut=ln._addCacheSuffix(rt);No(r,ut).each(Pt=>{--Pt.count===0&&(delete r[ut],W(Pt.id))})};return{load:Q,loadRawCss:ce,loadAll:De,unload:ge,unloadRawCss:rt=>{No(r,rt).each(ut=>{--ut.count===0&&(delete r[rt],W(ut.id))})},unloadAll:rt=>{Le(rt,ut=>{ge(ut)})},_setReferrerPolicy:v,_setContentCssCors:T,_setCrossOrigin:k}},jm=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const h=ra(o).dom;return X.from(e.get(h)).getOrThunk(()=>{const v=Bp(h,r);return e.set(h,v),v})}}})(),wy=e=>e.nodeName.toLowerCase()==="span",uf=(e,t)=>qe(e)&&(Mp(t,e)||t.isInline(e.nodeName.toLowerCase())),Bg=(e,t,o)=>{const r=new Ka(e,t).prev(!1),c=new Ka(e,t).next(!1),h=xn(r)||uf(r,o),v=xn(c)||uf(c,o);return h&&v},$i=e=>wy(e)&&e.getAttribute("data-mce-type")==="bookmark",_2=(e,t,o)=>dn(e)&&e.data.length>0&&Bg(e,t,o),pt=e=>Sn(e)?e.childNodes.length>0:!1,Ju=e=>_p(e)||zm(e),Lp=(e,t,o,r)=>{const c=r||t;if(Sn(t)&&$i(t))return t;const h=t.childNodes;for(let v=h.length-1;v>=0;v--)Lp(e,h[v],o,c);if(Sn(t)){const v=t.childNodes;v.length===1&&$i(v[0])&&t.parentNode?.insertBefore(v[0],t)}return!Ju(t)&&!Mp(o,t)&&!pt(t)&&!_2(t,c,o)&&e.remove(t),t},Oa=ln.makeMap,Xl=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Gi=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dr=/[<>&\"\']/g,Fl=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Vm={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},Lh={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},hl={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},ib=e=>{const t=_e.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Cy=(e,t)=>{const o={};if(e){const r=e.split(",");t=t||10;for(let c=0;c<r.length;c+=2){const h=String.fromCharCode(parseInt(r[c],t));if(!Lh[h]){const v="&"+r[c+1]+";";o[h]=v,o[v]=h}}return o}else return},Sy=Cy("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),za=(e,t)=>e.replace(t?Xl:Gi,o=>Lh[o]||o),vc=e=>(""+e).replace(dr,t=>Lh[t]||t),Um=(e,t)=>e.replace(t?Xl:Gi,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Lh[o]||"&#"+o.charCodeAt(0)+";"),Ey=(e,t,o)=>{const r=o||Sy;return e.replace(t?Xl:Gi,c=>Lh[c]||r[c]||c)},ed={encodeRaw:za,encodeAllRaw:vc,encodeNumeric:Um,encodeNamed:Ey,getEncodeFunc:(e,t)=>{const o=Cy(t)||Sy,r=(v,T)=>v.replace(T?Xl:Gi,k=>Lh[k]!==void 0?Lh[k]:o[k]!==void 0?o[k]:k.length>1?"&#"+((k.charCodeAt(0)-55296)*1024+(k.charCodeAt(1)-56320)+65536)+";":"&#"+k.charCodeAt(0)+";"),c=(v,T)=>Ey(v,T,o),h=Oa(e.replace(/\+/g,","));return h.named&&h.numeric?r:h.named?t?c:Ey:h.numeric?Um:za},decode:e=>e.replace(Fl,(t,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):Vm[o]||String.fromCharCode(o)):hl[t]||Sy[t]||ib(t))},Xa=(e,t)=>(e=ln.trim(e),e?e.split(t||" "):[]),$l=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),td=e=>vt(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",uu=e=>{const t=o=>Xe(o)?tt(o,t):td(o)?new RegExp(o.source,o.flags):vt(o)?ci(o,t):o;return t(e)},xc=e=>{const t=/^(~)?(.+)$/;return Do(Xa(e,","),o=>{const r=t.exec(o);if(r){const h=r[1]==="~"?"span":"div",v=r[2];return[{cloneName:h,name:v}]}else return[]})},Ii=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Mf=e=>{let t,o;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress template time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const r=[t,o].join(" ");return{blockContent:t,phrasingContent:o,flowContent:r}},Jl=e=>{const{blockContent:t,phrasingContent:o,flowContent:r}=Mf(e),c=h=>Object.freeze(h.split(" "));return Object.freeze({blockContent:c(t),phrasingContent:c(o),flowContent:c(r)})},ec={html4:Ri(()=>Jl("html4")),html5:Ri(()=>Jl("html5")),"html5-strict":Ri(()=>Jl("html5-strict"))},lb=(e,t)=>{const{blockContent:o,phrasingContent:r,flowContent:c}=ec[e]();return t==="blocks"?X.some(o):t==="phrasing"?X.some(r):t==="flow"?X.some(c):X.none()},Ki=e=>{const t=Ii(e),{phrasingContent:o,flowContent:r}=Mf(e),c={},h=(k,L,W)=>{c[k]={attributes:Vs(L,at({})),attributesOrder:L,children:Vs(W,at({}))}},v=(k,L="",W="")=>{const G=Xa(W),Q=Xa(k);let ce=Q.length;const De=[...t,...Xa(L)];for(;ce--;)h(Q[ce],De.slice(),G)},T=(k,L)=>{const W=Xa(k),G=Xa(L);let Q=W.length;for(;Q--;){const ce=c[W[Q]];for(let De=0,ge=G.length;De<ge;De++)ce.attributes[G[De]]={},ce.attributesOrder.push(G[De])}};return e!=="html5-strict"&&(Le(Xa("acronym applet basefont big font strike tt"),W=>{v(W,"",o)}),Le(Xa("center dir isindex noframes"),W=>{v(W,"",r)})),v("html","manifest","head body"),v("head","","base command link meta noscript script style title"),v("title hr noscript br"),v("base","href target"),v("link","href rel media hreflang type sizes hreflang"),v("meta","name http-equiv content charset property"),v("style","media type scoped"),v("script","src async defer type charset"),v("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),v("dd div","",r),v("address dt caption","",e==="html4"?o:r),v("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),v("blockquote","cite",r),v("ol","reversed start type","li"),v("ul","","li"),v("li","value",r),v("dl","","dt dd"),v("a","href target rel media hreflang type",e==="html4"?o:r),v("q","cite",o),v("ins del","cite datetime",r),v("img","src sizes srcset alt usemap ismap width height"),v("iframe","src name width height",r),v("embed","src type width height"),v("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),v("param","name value"),v("map","name",[r,"area"].join(" ")),v("area","alt coords shape href target rel media hreflang type"),v("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),v("colgroup","span","col"),v("col","span"),v("tbody thead tfoot","","tr"),v("tr","","td th"),v("td","colspan rowspan headers",r),v("th","colspan rowspan headers scope abbr",r),v("form","accept-charset action autocomplete enctype method name novalidate target",r),v("fieldset","disabled form name",[r,"legend"].join(" ")),v("label","form for",o),v("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),v("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:o),v("select","disabled form multiple name required size","option optgroup"),v("optgroup","disabled label","option"),v("option","disabled label selected value"),v("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),v("menu","type label",[r,"li"].join(" ")),v("noscript","",r),e!=="html4"&&(v("wbr"),v("ruby","",[o,"rt rp"].join(" ")),v("figcaption","",r),v("mark rt rp bdi","",o),v("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),v("canvas","width height",r),v("data","value",o),v("video","src crossorigin poster preload autoplay mediagroup loop controlslist disablepictureinpicture disableremoteplayback playsinline muted controls width height buffered",[r,"track source"].join(" ")),v("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),v("picture","","img source"),v("source","src srcset type media sizes"),v("track","kind src srclang label default"),v("datalist","",[o,"option"].join(" ")),v("article section nav aside main header footer","",r),v("hgroup","","h1 h2 h3 h4 h5 h6"),v("figure","",[r,"figcaption"].join(" ")),v("time","datetime",o),v("dialog","open",r),v("command","type label icon disabled checked radiogroup command"),v("output","for form name",o),v("progress","value max",o),v("meter","value min max low high optimum",o),v("details","open",[r,"summary"].join(" ")),v("keygen","autofocus challenge disabled form keytype name"),h("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(T("script","language xml:space"),T("style","xml:space"),T("object","declare classid code codebase codetype archive standby align border hspace vspace"),T("embed","align name hspace vspace"),T("param","valuetype type"),T("a","charset name rev shape coords"),T("br","clear"),T("applet","codebase archive code object alt name width height align hspace vspace"),T("img","name longdesc align border hspace vspace"),T("iframe","longdesc frameborder marginwidth marginheight scrolling align"),T("font basefont","size color face"),T("input","usemap align"),T("select"),T("textarea"),T("h1 h2 h3 h4 h5 h6 div p legend caption","align"),T("ul","type compact"),T("li","type"),T("ol dl menu dir","compact"),T("pre","width xml:space"),T("hr","align noshade size width"),T("isindex","prompt"),T("table","summary width frame rules cellspacing cellpadding align bgcolor"),T("col","width align char charoff valign"),T("colgroup","width align char charoff valign"),T("thead","align char charoff valign"),T("tr","align char charoff valign bgcolor"),T("th","axis align char charoff valign nowrap bgcolor width height"),T("form","accept"),T("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),T("tfoot","align char charoff valign"),T("tbody","align char charoff valign"),T("area","nohref"),T("body","background bgcolor text link vlink alink")),e!=="html4"&&(T("input button select textarea","autofocus"),T("input textarea","placeholder"),T("a","download"),T("link script img","crossorigin"),T("img","loading"),T("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&Le([c.video,c.audio],k=>{delete k.children.audio,delete k.children.video}),Le(Xa("a form meter progress dfn"),k=>{c[k]&&delete c[k].children[k]}),delete c.caption.children.table,delete c.script,c},Lu=e=>e==="-"?"remove":"add",Bf=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return X.from(t.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},Lf=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Do(Xa(e,","),o=>{const r=t.exec(o);if(r){const c=r[1],h=c?Lu(c):"replace",v=r[2],T=Do(Xa(r[3],"|"),k=>Bf(k).toArray());return[{operation:h,name:v,validChildren:T}]}else return[]})},dm=(e,t)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:c,attributesOrder:h}=t;return Le(Xa(e,"|"),v=>{const T=o.exec(v);if(T){const k={},L=T[1],W=T[2].replace(/[\\:]:/g,":"),G=T[3],Q=T[4];if(L==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(W),k.required=!0),L==="-"){delete c[W],h.splice(ln.inArray(h,W),1);return}if(G&&(G==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:W,value:Q}),k.defaultValue=Q):G==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:W,value:Q}),k.forcedValue=Q):G==="<"&&(k.validValues=ln.makeMap(Q,"?"))),r.test(W)){const ce=k;t.attributePatterns=t.attributePatterns||[],ce.pattern=$l(W),t.attributePatterns.push(ce)}else c[W]||h.push(W),c[W]=k}})},cb=(e,t)=>{Oo(e.attributes,(o,r)=>{t.attributes[r]=o}),t.attributesOrder.push(...e.attributesOrder)},Ph=(e,t)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Do(Xa(t,","),r=>{const c=o.exec(r);if(c){const h=c[1],v=c[2],T=c[3],k=c[4],L=c[5],W={attributes:{},attributesOrder:[]};if(e.each(G=>cb(G,W)),h==="#"?W.paddEmpty=!0:h==="-"&&(W.removeEmpty=!0),k==="!"&&(W.removeEmptyAttrs=!0),L&&dm(L,W),T&&(W.outputName=v),v==="@")if(e.isNone())e=X.some(W);else return[];return[T?{name:v,element:W,aliasName:T}:{name:v,element:W}]}else return[]})},Zm={},G0=ln.makeMap,kr=ln.each,Iv=ln.extend,Pf=ln.explode,Pp=(e,t={})=>{const o=G0(e," ",G0(e.toUpperCase()," "));return Iv(o,t)},Ty=e=>Pp("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Fh=(e,t)=>{if(e){const o={};return J(e)&&(e={"*":e}),kr(e,(r,c)=>{o[c]=o[c.toUpperCase()]=t==="map"?G0(r,/[, ]/):Pf(r,/[, ]/)}),o}else return},Ls=(e={})=>{const t={},o={};let r=[];const c={},h={},v={},T=(_o,Ys,yl)=>{const ja=e[_o];if(ja)return G0(ja,/[, ]/,G0(ja.toUpperCase(),/[, ]/));{let Xr=Zm[_o];return Xr||(Xr=Pp(Ys,yl),Zm[_o]=Xr),Xr}},k=e.schema??"html5",L=Ki(k);e.verify_html===!1&&(e.valid_elements="*[*]");const W=Fh(e.valid_styles),G=Fh(e.invalid_styles,"map"),Q=Fh(e.valid_classes,"map"),ce=T("whitespace_elements","pre script noscript style textarea video audio iframe object code"),De=T("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ge=T("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Ae=T("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),ot="td th iframe video audio object script code",rt=T("non_empty_elements",ot+" pre svg textarea summary",ge),ut=T("move_caret_before_on_enter_elements",ot+" table",ge),Pt="h1 h2 h3 h4 h5 h6",en=T("text_block_elements",Pt+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Nn=T("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing colgroup col",en),io=T("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Bt=T("transparent_elements","a ins del canvas map"),Ct=T("wrap_block_elements","pre "+Pt);kr("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),_o=>{h[_o]=new RegExp("</"+_o+"[^>]*>","gi")});const Ft=_o=>{const Ys=X.from(t["@"]),yl=/[*?+]/;Le(Ph(Ys,_o??""),({name:ja,element:Xr,aliasName:ol})=>{if(ol&&(t[ol]=Xr),yl.test(ja)){const Dm=Xr;Dm.pattern=$l(ja),r.push(Dm)}else t[ja]=Xr})},On=_o=>{r=[],Le(Hn(t),Ys=>{delete t[Ys]}),Ft(_o)},Bo=(_o,Ys)=>{delete Zm.text_block_elements,delete Zm.block_elements;const yl=Ys.extends?!Wd(Ys.extends):!1,ja=Ys.extends;if(o[_o]=ja?o[ja]:{},c[_o]=ja??_o,rt[_o.toUpperCase()]={},rt[_o]={},yl||(Nn[_o.toUpperCase()]={},Nn[_o]={}),ja&&!t[_o]&&t[ja]){const Xr=uu(t[ja]);delete Xr.removeEmptyAttrs,delete Xr.removeEmpty,t[_o]=Xr}else t[_o]={attributesOrder:[],attributes:{}};if(Xe(Ys.attributes)){const Xr=Dm=>{ol.attributesOrder.push(Dm),ol.attributes[Dm]={}},ol=t[_o]??{};delete ol.attributesDefault,delete ol.attributesForced,delete ol.attributePatterns,delete ol.attributesRequired,ol.attributesOrder=[],ol.attributes={},Le(Ys.attributes,Dm=>{const xf=Ii(k);Bf(Dm).each(({preset:fg,name:ay})=>{fg?ay==="global"&&Le(xf,Xr):Xr(ay)})}),t[_o]=ol}if(ct(Ys.padEmpty)){const Xr=t[_o]??{};Xr.paddEmpty=Ys.padEmpty,t[_o]=Xr}if(Xe(Ys.children)){const Xr={},ol=xf=>{Xr[xf]={}},Dm=xf=>{lb(k,xf).each(fg=>{Le(fg,ol)})};Le(Ys.children,xf=>{Bf(xf).each(({preset:fg,name:ay})=>{fg?Dm(ay):ol(ay)})}),o[_o]=Xr}ja&&Oo(o,(Xr,ol)=>{Xr[ja]&&(o[ol]=Xr=Iv({},o[ol]),Xr[_o]=Xr[ja])})},Lo=_o=>{Le(xc(_o??""),({name:Ys,cloneName:yl})=>{Bo(Ys,{extends:yl})})},Ws=(_o,Ys)=>{v[_o]=Ys},Pr=_o=>{vt(_o)?Oo(_o,(Ys,yl)=>{const ja=Ys.componentUrl;J(ja)&&Ws(yl,ja),Bo(yl,Ys)}):J(_o)&&Lo(_o)},Ca=_o=>{Le(Lf(_o??""),({operation:Ys,name:yl,validChildren:ja})=>{const Xr=Ys==="replace"?{"#comment":{}}:o[yl],ol=xf=>{Ys==="remove"?delete Xr[xf]:Xr[xf]={}},Dm=xf=>{lb(k,xf).each(fg=>{Le(fg,ol)})};Le(ja,({preset:xf,name:fg})=>{xf?Dm(fg):ol(fg)}),o[yl]=Xr})},ti=_o=>{const Ys=t[_o];if(Ys)return Ys;let yl=r.length;for(;yl--;){const ja=r[yl];if(ja.pattern.test(_o))return ja}},Vc=()=>{e.valid_elements?(On(e.valid_elements),kr(L,(_o,Ys)=>{o[Ys]=_o.children})):(kr(L,(_o,Ys)=>{t[Ys]={attributes:_o.attributes,attributesOrder:_o.attributesOrder},o[Ys]=_o.children}),kr(Xa("strong/b em/i"),_o=>{const Ys=Xa(_o,"/");t[Ys[1]].outputName=Ys[0]}),kr(io,(_o,Ys)=>{t[Ys]&&(e.padd_empty_block_inline_children&&(t[Ys].paddInEmptyBlock=!0),t[Ys].removeEmpty=!0)}),kr(Xa("ol ul blockquote a table tbody"),_o=>{t[_o]&&(t[_o].removeEmpty=!0)}),kr(Xa("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),_o=>{t[_o]&&(t[_o].paddEmpty=!0)}),kr(Xa("span"),_o=>{t[_o].removeEmptyAttrs=!0})),delete t.svg,Pr(e.custom_elements),Ca(e.valid_children),Ft(e.extended_valid_elements),Ca("+ol[ul|ol],+ul[ul|ol]"),kr({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(_o,Ys)=>{t[Ys]&&(t[Ys].parentsRequired=Xa(_o))}),e.invalid_elements&&kr(Pf(e.invalid_elements),_o=>{t[_o]&&delete t[_o]}),ti("span")||Ft("span[!data-mce-type|*]")},Am=at(W),$n=at(G),go=at(Q),_r=at(Ae),br=at(Nn),vu=at(en),Ht=at(io),En=at(Object.seal(ge)),Xn=at(De),Bs=at(rt),Cs=at(ut),Zr=at(ce),km=at(Bt),dp=at(Ct),dg=at(Object.seal(h)),fh=(_o,Ys)=>{const yl=o[_o.toLowerCase()];return!!(yl&&yl[Ys.toLowerCase()])},Tv=(_o,Ys)=>{const yl=ti(_o);if(yl)if(Ys){if(yl.attributes[Ys])return!0;const ja=yl.attributePatterns;if(ja){let Xr=ja.length;for(;Xr--;)if(ja[Xr].pattern.test(Ys))return!0}}else return!0;return!1},Wd=_o=>Qn(br(),_o),Yf=_o=>!Co(_o,"#")&&Tv(_o)&&!Wd(_o),ry=_o=>Qn(dp(),_o)||Yf(_o),_C=at(c),R3=at(v);return Vc(),{type:k,children:o,elements:t,getValidStyles:Am,getValidClasses:go,getBlockElements:br,getInvalidStyles:$n,getVoidElements:En,getTextBlockElements:vu,getTextInlineElements:Ht,getBoolAttrs:_r,getElementRule:ti,getSelfClosingElements:Xn,getNonEmptyElements:Bs,getMoveCaretBeforeOnEnterElements:Cs,getWhitespaceElements:Zr,getTransparentElements:km,getSpecialElements:dg,getComponentUrls:R3,isValidChild:fh,isValid:Tv,isBlock:Wd,isInline:Yf,isWrapper:ry,getCustomElements:_C,addValidElements:Ft,setValidElements:On,addCustomElements:Pr,addValidChildren:Ca}},ba=e=>({value:xr(e)}),xr=e=>Ci(e,"#").toUpperCase(),Nr=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},Na=e=>{const t=Nr(e.red)+Nr(e.green)+Nr(e.blue);return ba(t)},Pu=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Ff=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Fp=(e,t,o,r)=>({red:e,green:t,blue:o,alpha:r}),ub=(e,t,o,r)=>{const c=parseInt(e,10),h=parseInt(t,10),v=parseInt(o,10),T=parseFloat(r);return Fp(c,h,v,T)},fm=e=>Pu.test(e)?"rgb":Ff.test(e)?"rgba":"other",xi=e=>{const t=Pu.exec(e);if(t!==null)return X.some(ub(t[1],t[2],t[3],"1"));const o=Ff.exec(e);return o!==null?X.some(ub(o[1],o[2],o[3],o[4])):X.none()},Lc=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,wc=e=>xi(e).map(Na).map(t=>"#"+t.value).getOr(e),mm=(e={},t)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,h={};let v,T;const k=pi;t&&(v=t.getValidStyles(),T=t.getInvalidStyles());const L=(`\\" \\' \\; \\: ; : `+k).split(" ");for(let G=0;G<L.length;G++)h[L[G]]=k+G,h[k+G]=L[G];const W={parse:G=>{const Q={};let ce=!1;const De=e.url_converter,ge=e.url_converter_scope||W,Ae=(Bt,Ct,Ft)=>{const On=Q[Bt+"-top"+Ct];if(!On)return;const Bo=Q[Bt+"-right"+Ct];if(!Bo)return;const Lo=Q[Bt+"-bottom"+Ct];if(!Lo)return;const Ws=Q[Bt+"-left"+Ct];if(!Ws)return;const Pr=[On,Bo,Lo,Ws];let Ca=Pr.length-1;for(;Ca--&&Pr[Ca]===Pr[Ca+1];);Ca>-1&&Ft||(Q[Bt+Ct]=Ca===-1?Pr[0]:Pr.join(" "),delete Q[Bt+"-top"+Ct],delete Q[Bt+"-right"+Ct],delete Q[Bt+"-bottom"+Ct],delete Q[Bt+"-left"+Ct])},ot=Bt=>{const Ct=Q[Bt];if(!Ct)return;const Ft=Ct.indexOf(",")>-1?[Ct]:Ct.split(" ");let On=Ft.length;for(;On--;)if(Ft[On]!==Ft[0])return!1;return Q[Bt]=Ft[0],!0},rt=(Bt,Ct,Ft,On)=>{ot(Ct)&&ot(Ft)&&ot(On)&&(Q[Bt]=Q[Ct]+" "+Q[Ft]+" "+Q[On],delete Q[Ct],delete Q[Ft],delete Q[On])},ut=Bt=>(ce=!0,h[Bt]),Pt=(Bt,Ct)=>(ce&&(Bt=Bt.replace(/\uFEFF[0-9]/g,Ft=>h[Ft])),Ct||(Bt=Bt.replace(/\\([\'\";:])/g,"$1")),Bt),en=Bt=>String.fromCharCode(parseInt(Bt.slice(1),16)),Nn=Bt=>Bt.replace(/\\[0-9a-f]+/gi,en),io=(Bt,Ct,Ft,On,Bo,Lo)=>{if(Bo=Bo||Lo,Bo)return Bo=Pt(Bo),"'"+Bo.replace(/\'/g,"\\'")+"'";if(Ct=Pt(Ct||Ft||On||""),!e.allow_script_urls){const Ws=Ct.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Ws)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Ws))return""}return De&&(Ct=De.call(ge,Ct,"style")),"url('"+Ct.replace(/\'/g,"\\'")+"')"};if(G){G=G.replace(/[\u0000-\u001F]/g,""),G=G.replace(/\\[\"\';:\uFEFF]/g,ut).replace(/\"[^\"]+\"|\'[^\']+\'/g,Ct=>Ct.replace(/[;:]/g,ut));let Bt;for(;Bt=r.exec(G);){r.lastIndex=Bt.index+Bt[0].length;let Ct=Bt[1].replace(c,"").toLowerCase(),Ft=Bt[2].replace(c,"");if(Ct&&Ft){if(Ct=Nn(Ct),Ft=Nn(Ft),Ct.indexOf(k)!==-1||Ct.indexOf('"')!==-1||!e.allow_script_urls&&(Ct==="behavior"||/expression\s*\(|\/\*|\*\//.test(Ft)))continue;Ct==="font-weight"&&Ft==="700"?Ft="bold":(Ct==="color"||Ct==="background-color")&&(Ft=Ft.toLowerCase()),fm(Ft)==="rgb"&&xi(Ft).each(On=>{Ft=wc(Lc(On)).toLowerCase()}),Ft=Ft.replace(o,io),Q[Ct]=ce?Pt(Ft,!0):Ft}}Ae("border","",!0),Ae("border","-width"),Ae("border","-color"),Ae("border","-style"),Ae("padding",""),Ae("margin",""),rt("border","border-width","border-style","border-color"),Q.border==="medium none"&&delete Q.border,Q["border-image"]==="none"&&delete Q["border-image"]}return Q},serialize:(G,Q)=>{let ce="";const De=(Ae,ot)=>{const rt=ot[Ae];if(rt)for(let ut=0,Pt=rt.length;ut<Pt;ut++){const en=rt[ut],Nn=G[en];Nn&&(ce+=(ce.length>0?" ":"")+en+": "+Nn+";")}},ge=(Ae,ot)=>{if(!T||!ot)return!0;let rt=T["*"];return rt&&rt[Ae]?!1:(rt=T[ot],!(rt&&rt[Ae]))};return Q&&v?(De("*",v),De(Q,v)):Oo(G,(Ae,ot)=>{Ae&&ge(ot,Q)&&(ce+=(ce.length>0?" ":"")+ot+": "+Ae+";")}),ce}};return W},Rd={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},$h=e=>e instanceof Event||Re(e.initEvent),$p=e=>e.isDefaultPrevented===dt||e.isDefaultPrevented===He,nd=e=>fn(e.preventDefault)||$h(e),db=(e,t)=>{const o=t??{};for(const r in e)Qn(Rd,r)||(o[r]=e[r]);return qe(e.composedPath)&&(o.composedPath=()=>e.composedPath()),qe(e.getModifierState)&&(o.getModifierState=r=>e.getModifierState(r)),qe(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},Ip=(e,t,o,r)=>{const c=db(t,r);return c.type=e,fn(c.target)&&(c.target=c.srcElement??o),nd(t)&&(c.preventDefault=()=>{c.defaultPrevented=!0,c.isDefaultPrevented=dt,Re(t.preventDefault)&&t.preventDefault()},c.stopPropagation=()=>{c.cancelBubble=!0,c.isPropagationStopped=dt,Re(t.stopPropagation)&&t.stopPropagation()},c.stopImmediatePropagation=()=>{c.isImmediatePropagationStopped=dt,c.stopPropagation()},$p(c)||(c.isDefaultPrevented=c.defaultPrevented===!0?dt:He,c.isPropagationStopped=c.cancelBubble===!0?dt:He,c.isImmediatePropagationStopped=He)),c},fb="mce-data-",Hp=/^(?:mouse|contextmenu)|click/,Md=(e,t,o,r)=>{e.addEventListener(t,o,r||!1)},$f=(e,t,o,r)=>{e.removeEventListener(t,o,r||!1)},Yi=e=>qe(e)&&Hp.test(e.type),Bd=(e,t)=>{const o=Ip(e.type,e,document,t);if(Yi(e)&&xn(e.pageX)&&!xn(e.clientX)){const r=o.target.ownerDocument||document,c=r.documentElement,h=r.body,v=o;v.pageX=e.clientX+(c&&c.scrollLeft||h&&h.scrollLeft||0)-(c&&c.clientLeft||h&&h.clientLeft||0),v.pageY=e.clientY+(c&&c.scrollTop||h&&h.scrollTop||0)-(c&&c.clientTop||h&&h.clientTop||0)}return o},zp=(e,t,o)=>{const r=e.document,c={type:"ready"};if(o.domLoaded){t(c);return}const h=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,v=()=>{$f(e,"DOMContentLoaded",v),$f(e,"load",v),o.domLoaded||(o.domLoaded=!0,t(c)),e=null};h()?v():Md(e,"DOMContentLoaded",v),o.domLoaded||Md(e,"load",v)};class Ld{static Event=new Ld;domLoaded=!1;events={};expando;hasFocusIn;count=1;constructor(){this.expando=fb+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,o,r,c){const h=this;let v;const T=window,k=Q=>{h.executeHandlers(Bd(Q||T.event),L)};if(!t||dn(t)||ns(t))return r;let L;t[h.expando]?L=t[h.expando]:(L=h.count++,t[h.expando]=L,h.events[L]={}),c=c||t;const W=o.split(" ");let G=W.length;for(;G--;){let Q=W[G],ce=k,De=!1,ge=!1;if(Q==="DOMContentLoaded"&&(Q="ready"),h.domLoaded&&Q==="ready"&&t.readyState==="complete"){r.call(c,Bd({type:Q}));continue}!h.hasFocusIn&&(Q==="focusin"||Q==="focusout")&&(De=!0,ge=Q==="focusin"?"focus":"blur",ce=Ae=>{const ot=Bd(Ae||T.event);ot.type=ot.type==="focus"?"focusin":"focusout",h.executeHandlers(ot,L)}),v=h.events[L][Q],v?Q==="ready"&&h.domLoaded?r(Bd({type:Q})):v.push({func:r,scope:c}):(h.events[L][Q]=v=[{func:r,scope:c}],v.fakeName=ge,v.capture=De,v.nativeHandler=ce,Q==="ready"?zp(t,ce,h):Md(t,ge||Q,ce,De))}return t=v=null,r}unbind(t,o,r){if(!t||dn(t)||ns(t))return this;const c=t[this.expando];if(c){let h=this.events[c];if(o){const v=o.split(" ");let T=v.length;for(;T--;){const k=v[T],L=h[k];if(L){if(r){let W=L.length;for(;W--;)if(L[W].func===r){const G=L.nativeHandler,Q=L.fakeName,ce=L.capture,De=L.slice(0,W).concat(L.slice(W+1));De.nativeHandler=G,De.fakeName=Q,De.capture=ce,h[k]=De}}(!r||L.length===0)&&(delete h[k],$f(t,L.fakeName||k,L.nativeHandler,L.capture))}}}else Oo(h,(v,T)=>{$f(t,v.fakeName||T,v.nativeHandler,v.capture)}),h={};for(const v in h)if(Qn(h,v))return this;delete this.events[c];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,o,r){return this.dispatch(t,o,r)}dispatch(t,o,r){if(!t||dn(t)||ns(t))return this;const c=Bd({type:o,target:t},r);do{const h=t[this.expando];h&&this.executeHandlers(c,h),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!c.isPropagationStopped());return this}clean(t){if(!t||dn(t)||ns(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const o=t.getElementsByTagName("*");let r=o.length;for(;r--;)t=o[r],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,o){const r=this.events[o],c=r&&r[t.type];if(c)for(let h=0,v=c.length;h<v;h++){const T=c[h];if(T&&T.func.call(T.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}const Cc=ln.each,Hv=ln.grep,Ay="data-mce-style",jp=ln.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),K0=(e,t,o)=>{fn(o)||o===""?li(e,t):Or(e,t,o)},Pd=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),Lg=(e,t)=>{let o=0;if(e)for(let r=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const h=c.nodeType;t&&dn(c)&&(h===r||!c.data.length)||(o++,r=h)}return o},od=(e,t)=>{const o=yr(t,"style"),r=e.serialize(e.parse(o),rs(t));K0(t,Ay,r)},Y0=(e,t)=>Qo(e)?Qn(jp,t)?e+"":e+"px":e,ky=(e,t,o)=>{const r=Pd(t);fn(o)||o===""?Sg(e,r):Bl(e,r,Y0(o,r))},N2=(e,t,o)=>{const r=t.keep_values,c={set:(v,T,k)=>{const L=_e.fromDom(v);Re(t.url_converter)&&qe(T)&&(T=t.url_converter.call(t.url_converter_scope||o(),String(T),k,v));const W="data-mce-"+k;K0(L,W,T),K0(L,k,T)},get:(v,T)=>{const k=_e.fromDom(v);return yr(k,"data-mce-"+T)||yr(k,T)}},h={style:{set:(v,T)=>{const k=_e.fromDom(v);r&&K0(k,Ay,T),li(k,"style"),J(T)&&fl(k,e.parse(T))},get:v=>{const T=_e.fromDom(v),k=yr(T,Ay)||yr(T,"style");return e.serialize(e.parse(k),rs(T))}}};return r&&(h.href=h.src=c),h},hs=(e,t={})=>{const o={},r=window,c={};let h=0;const v=!0,T=!0,k=jm.forElement(_e.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy,crossOrigin:bt=>{const St=t.crossOrigin;if(Re(St))return St(bt,"stylesheet")}}),L=[],W=t.schema?t.schema:Ls({}),G=mm({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),Q=t.ownEvents?new Ld:Ld.Event,ce=W.getBlockElements(),De=bt=>J(bt)?Qn(ce,bt):Sn(bt)&&(Qn(ce,bt.nodeName)||Ya(W,bt)),ge=bt=>bt&&e&&J(bt)?e.getElementById(bt):bt,Ae=bt=>{const St=ge(bt);return qe(St)?_e.fromDom(St):null},ot=(bt,St,zn="")=>{let Tn;const Io=Ae(bt);if(qe(Io)&&fa(Io)){const wr=_H[St];wr&&wr.get?Tn=wr.get(Io.dom,St):Tn=yr(Io,St)}return qe(Tn)?Tn:zn},rt=bt=>{const St=ge(bt);return fn(St)?[]:St.attributes},ut=(bt,St,zn)=>{go(bt,Tn=>{if(Sn(Tn)){const Io=_e.fromDom(Tn),wr=zn===""?null:zn,zl=yr(Io,St),iy=_H[St];iy&&iy.set?iy.set(Io.dom,wr,St):K0(Io,St,wr),zl!==wr&&t.onSetAttrib&&t.onSetAttrib({attrElm:Io.dom,attrName:St,attrValue:wr})}})},Pt=(bt,St)=>bt.cloneNode(St),en=()=>t.root_element||e.body,Nn=bt=>{const St=Ru(bt);return{x:St.x,y:St.y,w:St.width,h:St.height}},io=(bt,St)=>vr(e.body,ge(bt),St),Bt=(bt,St,zn)=>{go(bt,Tn=>{const Io=_e.fromDom(Tn);ky(Io,St,zn),t.update_styles&&od(G,Io)})},Ct=(bt,St)=>{go(bt,zn=>{const Tn=_e.fromDom(zn);Oo(St,(Io,wr)=>{ky(Tn,wr,Io)}),t.update_styles&&od(G,Tn)})},Ft=(bt,St,zn)=>{const Tn=ge(bt);if(!(fn(Tn)||!ru(Tn)&&!E2(Tn)))return zn?ka(_e.fromDom(Tn),Pd(St)):(St=St.replace(/-(\D)/g,(Io,wr)=>wr.toUpperCase()),St==="float"&&(St="cssFloat"),Tn.style?Tn.style[St]:void 0)},On=bt=>{const St=ge(bt);if(!St)return{w:0,h:0};let zn=Ft(St,"width"),Tn=Ft(St,"height");return(!zn||zn.indexOf("px")===-1)&&(zn="0"),(!Tn||Tn.indexOf("px")===-1)&&(Tn="0"),{w:parseInt(zn,10)||St.offsetWidth||St.clientWidth,h:parseInt(Tn,10)||St.offsetHeight||St.clientHeight}},Bo=bt=>{const St=ge(bt),zn=io(St),Tn=On(St);return{x:zn.x,y:zn.y,w:Tn.w,h:Tn.h}},Lo=(bt,St)=>{if(!bt)return!1;const zn=Xe(bt)?bt:[bt];return Ke(zn,Tn=>wl(_e.fromDom(Tn),St))},Ws=(bt,St,zn,Tn)=>{const Io=[];let wr=ge(bt);Tn=Tn===void 0;const zl=zn||(en().nodeName!=="BODY"?en().parentNode:null);if(J(St))if(St==="*")St=Sn;else{const iy=St;St=P1=>Lo(P1,iy)}for(;wr&&!(wr===zl||fn(wr.nodeType)||zm(wr)||_p(wr));){if(!St||St(wr))if(Tn)Io.push(wr);else return[wr];wr=wr.parentNode}return Tn?Io:null},Pr=(bt,St,zn)=>{const Tn=Ws(bt,St,zn,!1);return Tn&&Tn.length>0?Tn[0]:null},Ca=(bt,St,zn)=>{let Tn=St;if(bt){J(St)&&(Tn=Io=>Lo(Io,St));for(let Io=bt[zn];Io;Io=Io[zn])if(Re(Tn)&&Tn(Io))return Io}return null},ti=(bt,St)=>Ca(bt,St,"nextSibling"),Vc=(bt,St)=>Ca(bt,St,"previousSibling"),Am=bt=>Re(bt.querySelectorAll),$n=(bt,St)=>{const zn=ge(St)??t.root_element??e;return Am(zn)?Es(zn.querySelectorAll(bt)):[]},go=function(bt,St,zn){const Tn=zn??this;if(Xe(bt)){const Io=[];return Cc(bt,(wr,zl)=>{const iy=ge(wr);iy&&Io.push(St.call(Tn,iy,zl))}),Io}else{const Io=ge(bt);return Io?St.call(Tn,Io):!1}},_r=(bt,St)=>{go(bt,zn=>{Oo(St,(Tn,Io)=>{ut(zn,Io,Tn)})})},br=(bt,St)=>{go(bt,zn=>{const Tn=_e.fromDom(zn);nf(Tn,St)})},vu=(bt,St,zn,Tn,Io)=>go(bt,wr=>{const zl=J(St)?e.createElement(St):St;return qe(zn)&&_r(zl,zn),Tn&&(!J(Tn)&&Tn.nodeType?zl.appendChild(Tn):J(Tn)&&br(zl,Tn)),Io?zl:wr.appendChild(zl)}),Ht=(bt,St,zn)=>vu(e.createElement(bt),bt,St,zn,!0),En=ed.decode,Xn=ed.encodeAllRaw,Bs=(bt,St,zn="")=>{let Tn="<"+bt;for(const Io in St)ls(St,Io)&&(Tn+=" "+Io+'="'+Xn(St[Io])+'"');return wu(zn)&&Qn(W.getVoidElements(),bt)?Tn+" />":Tn+">"+zn+"</"+bt+">"},Cs=bt=>{const St=e.createElement("div"),zn=e.createDocumentFragment();zn.appendChild(St),bt&&(St.innerHTML=bt);let Tn;for(;Tn=St.firstChild;)zn.appendChild(Tn);return zn.removeChild(St),zn},Zr=(bt,St)=>go(bt,zn=>{const Tn=_e.fromDom(zn);return St&&Le(ma(Tn),Io=>{xs(Io)&&Io.dom.length===0?ws(Io):ul(Tn,Io)}),ws(Tn),Tn.dom}),km=bt=>go(bt,St=>{const zn=St.attributes;for(let Tn=zn.length-1;Tn>=0;Tn--)St.removeAttributeNode(zn.item(Tn))}),dp=bt=>G.parse(bt),dg=(bt,St)=>G.serialize(bt,St),fh=bt=>{if(NC!==hs.DOM&&e===document){if(o[bt])return;o[bt]=!0}let St=e.getElementById("mceDefaultStyles");if(!St){St=e.createElement("style"),St.id="mceDefaultStyles",St.type="text/css";const zn=e.head;zn.firstChild?zn.insertBefore(St,zn.firstChild):zn.appendChild(St)}St.styleSheet?St.styleSheet.cssText+=bt:St.appendChild(e.createTextNode(bt))},Tv=bt=>{bt||(bt=""),Le(bt.split(","),St=>{c[St]=!0,k.load(St).catch(Lt)})},Wd=(bt,St,zn)=>{go(bt,Tn=>{if(Sn(Tn)){const Io=_e.fromDom(Tn),wr=St.split(" ");Le(wr,zl=>{qe(zn)?(zn?pc:aa)(Io,zl):ta(Io,zl)})}})},Yf=(bt,St)=>{Wd(bt,St,!0)},ry=(bt,St)=>{Wd(bt,St,!1)},_C=(bt,St)=>{const zn=Ae(bt),Tn=St.split(" ");return qe(zn)&&mr(Tn,Io=>Di(zn,Io))},R3=bt=>{go(bt,St=>Sg(_e.fromDom(St),"display"))},_o=bt=>{go(bt,St=>Bl(_e.fromDom(St),"display","none"))},Ys=bt=>{const St=Ae(bt);return qe(St)&&qt(ui(St,"display"),"none")},yl=bt=>(bt||"mce_")+h++,ja=bt=>{const St=Ae(bt);return qe(St)?Sn(St.dom)?St.dom.outerHTML:wg(St):""},Xr=(bt,St)=>{go(bt,zn=>{Sn(zn)&&(zn.outerHTML=St)})},ol=(bt,St)=>{const zn=ge(St);return go(bt,Tn=>{const Io=zn?.parentNode,wr=zn?.nextSibling;return Io&&(wr?Io.insertBefore(Tn,wr):Io.appendChild(Tn)),Tn})},Dm=(bt,St,zn)=>go(St,Tn=>{const Io=Xe(St)?bt.cloneNode(!0):bt;return zn&&Cc(Hv(Tn.childNodes),wr=>{Io.appendChild(wr)}),Tn.parentNode?.replaceChild(Io,Tn),Tn}),xf=(bt,St)=>{if(bt.nodeName!==St.toUpperCase()){const zn=Ht(St);return Cc(rt(bt),Tn=>{ut(zn,Tn.nodeName,ot(bt,Tn.nodeName))}),Dm(zn,bt,!0),zn}else return bt},fg=(bt,St)=>{let zn=bt;for(;zn;){let Tn=St;for(;Tn&&zn!==Tn;)Tn=Tn.parentNode;if(zn===Tn)break;zn=zn.parentNode}return!zn&&bt.ownerDocument?bt.ownerDocument.documentElement:zn},ay=(bt,St,zn)=>Gt(St)?fo(W,bt,{...zn,isContent:Io=>{const wr=Io.nodeName.toLowerCase();return!!St[wr]}}):fo(W,bt,zn),M3=()=>e.createRange(),B3=(bt,St,zn)=>{let Tn=M3(),Io,wr;if(bt&&St&&bt.parentNode&&St.parentNode){const zl=bt.parentNode;return Tn.setStart(zl,Lg(bt)),Tn.setEnd(St.parentNode,Lg(St)),Io=Tn.extractContents(),Tn=M3(),Tn.setStart(St.parentNode,Lg(St)+1),Tn.setEnd(zl,Lg(bt)+1),wr=Tn.extractContents(),zl.insertBefore(Lp(NC,Io,W),bt),zn?zl.insertBefore(zn,bt):zl.insertBefore(St,bt),zl.insertBefore(Lp(NC,wr,W),bt),Zr(bt),zn||St}else return},xT=(bt,St,zn,Tn)=>{if(Xe(bt)){let Io=bt.length;const wr=[];for(;Io--;)wr[Io]=xT(bt[Io],St,zn,Tn);return wr}else return t.collect&&(bt===e||bt===r)&&L.push([bt,St,zn,Tn]),Q.bind(bt,St,zn,Tn||NC)},L1=(bt,St,zn)=>{if(Xe(bt)){let Tn=bt.length;const Io=[];for(;Tn--;)Io[Tn]=L1(bt[Tn],St,zn);return Io}else{if(L.length>0&&(bt===e||bt===r)){let Tn=L.length;for(;Tn--;){const[Io,wr,zl]=L[Tn];bt===Io&&(!St||St===wr)&&(!zn||zn===zl)&&Q.unbind(Io,wr,zl)}}return Q.unbind(bt,St,zn)}},OC=(bt,St,zn)=>Q.dispatch(bt,St,zn),PM=(bt,St,zn)=>Q.dispatch(bt,St,zn),L3=bt=>{if(bt&&ru(bt)){const St=bt.getAttribute("data-mce-contenteditable");return St&&St!=="inherit"?St:bt.contentEditable!=="inherit"?bt.contentEditable:null}else return null},NC={doc:e,settings:t,win:r,files:c,stdMode:v,boxModel:T,styleSheetLoader:k,boundEvents:L,styles:G,schema:W,events:Q,isBlock:De,root:null,clone:Pt,getRoot:en,getViewPort:Nn,getRect:Bo,getSize:On,getParent:Pr,getParents:Ws,get:ge,getNext:ti,getPrev:Vc,select:$n,is:Lo,add:vu,create:Ht,createHTML:Bs,createFragment:Cs,remove:Zr,setStyle:Bt,getStyle:Ft,setStyles:Ct,removeAllAttribs:km,setAttrib:ut,setAttribs:_r,getAttrib:ot,getPos:io,parseStyle:dp,serializeStyle:dg,addStyle:fh,loadCSS:Tv,addClass:Yf,removeClass:ry,hasClass:_C,toggleClass:Wd,show:R3,hide:_o,isHidden:Ys,uniqueId:yl,setHTML:br,getOuterHTML:ja,setOuterHTML:Xr,decode:En,encode:Xn,insertAfter:ol,replace:Dm,rename:xf,findCommonAncestor:fg,run:go,getAttribs:rt,isEmpty:ay,createRng:M3,nodeIndex:Lg,split:B3,bind:xT,unbind:L1,fire:PM,dispatch:OC,getContentEditable:L3,getContentEditableParent:bt=>{const St=en();let zn=null;for(let Tn=bt;Tn&&Tn!==St&&(zn=L3(Tn),zn===null);Tn=Tn.parentNode);return zn},isEditable:bt=>{if(qe(bt)){const St=Sn(bt)?bt:bt.parentElement;return qe(St)&&ru(St)&&Cr(_e.fromDom(St))}else return!1},destroy:()=>{if(L.length>0){let bt=L.length;for(;bt--;){const[St,zn,Tn]=L[bt];Q.unbind(St,zn,Tn)}}Oo(c,(bt,St)=>{k.unload(St),delete c[St]})},isChildOf:(bt,St)=>bt===St||St.contains(bt),dumpRng:bt=>"startContainer: "+bt.startContainer.nodeName+", startOffset: "+bt.startOffset+", endContainer: "+bt.endContainer.nodeName+", endOffset: "+bt.endOffset},_H=N2(G,t,at(NC));return NC};hs.DOM=hs(document),hs.nodeIndex=Lg;const Vp=hs.DOM,Ps=0,tc=1,Ih=2,X0=3;class sr{static ScriptLoader=new sr;settings;states={};queue=[];scriptLoadedCallbacks={};queueLoadedCallbacks=[];loading=!1;constructor(t={}){this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}_setCrossOrigin(t){this.settings.crossOrigin=t}loadScript(t){return new Promise((o,r)=>{const c=Vp,h=document;let v;const T=()=>{c.remove(W),v&&(v.onerror=v.onload=v=null)},k=()=>{T(),o()},L=()=>{T(),r("Failed to load script: "+t)},W=c.uniqueId();v=h.createElement("script"),v.id=W,v.type="text/javascript",v.src=ln._addCacheSuffix(t),this.settings.referrerPolicy&&c.setAttrib(v,"referrerpolicy",this.settings.referrerPolicy);const G=this.settings.crossOrigin;if(Re(G)){const Q=G(t);Q!==void 0&&c.setAttrib(v,"crossorigin",Q)}v.onload=k,v.onerror=L,(h.head||h.body).appendChild(v)})}isDone(t){return this.states[t]===Ih}markDone(t){this.states[t]=Ih}add(t){const o=this;return o.queue.push(t),o.states[t]===void 0&&(o.states[t]=Ps),new Promise((c,h)=>{o.scriptLoadedCallbacks[t]||(o.scriptLoadedCallbacks[t]=[]),o.scriptLoadedCallbacks[t].push({resolve:c,reject:h})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const o=this,r=(k,L)=>{No(o.scriptLoadedCallbacks,L).each(W=>{Le(W,G=>G[k](L))}),delete o.scriptLoadedCallbacks[L]},c=k=>{const L=xt(k,W=>W.status==="rejected");return L.length>0?Promise.reject(Do(L,({reason:W})=>Xe(W)?W:[W])):Promise.resolve()},h=k=>Promise.allSettled(tt(k,L=>o.states[L]===Ih?(r("resolve",L),Promise.resolve()):o.states[L]===X0?(r("reject",L),Promise.reject(L)):(o.states[L]=tc,o.loadScript(L).then(()=>{o.states[L]=Ih,r("resolve",L);const W=o.queue;return W.length>0?(o.queue=[],h(W).then(c)):Promise.resolve()},()=>(o.states[L]=X0,r("reject",L),Promise.reject(L)))))),v=k=>(o.loading=!0,h(k).then(L=>{o.loading=!1;const W=o.queueLoadedCallbacks.shift();return X.from(W).each(ft),c(L)})),T=Tf(t);return o.loading?new Promise((k,L)=>{o.queueLoadedCallbacks.push(()=>{v(T).then(k,L)})}):v(T)}getScriptAttributes(t){const o={};this.settings.referrerPolicy&&(o.referrerpolicy=this.settings.referrerPolicy);const r=this.settings.crossOrigin;if(Re(r)){const c=r(t);J(c)&&(o.crossorigin=c)}return o}}const zv=(e,t)=>{const o=e.indexOf(t);return o!==-1&&e.indexOf(t,o+1)>o},mb=e=>vt(e)&&Qn(e,"raw"),jv=e=>Xe(e)&&e.length>1,Up={},hb=Pn("en"),R2=()=>No(Up,hb.get()),Fu={getData:()=>ci(Up,e=>({...e})),setCode:e=>{e&&hb.set(e)},getCode:()=>hb.get(),add:(e,t)=>{let o=Up[e];o||(Up[e]=o={});const r=tt(Hn(t),c=>c.toLowerCase());Oo(t,(c,h)=>{const v=h.toLowerCase();v!==h&&zv(r,v)?(Qn(t,v)||(o[v]=c),o[h]=c):o[v]=c})},translate:e=>{const t=R2().getOr({}),o=T=>Re(T)?Object.prototype.toString.call(T):r(T)?"":""+T,r=T=>T===""||T===null||T===void 0,c=T=>{const k=o(T);return Qn(t,k)?o(t[k]):No(t,k.toLowerCase()).map(o).getOr(k)},h=T=>T.replace(/{context:\w+}$/,""),v=T=>T.replaceAll("...",Kd);if(r(e))return"";if(mb(e))return v(o(e.raw));if(jv(e)){const T=e.slice(1),k=c(e[0]).replace(/\{([0-9]+)\}/g,(L,W)=>Qn(T,W)?o(T[W]):L);return v(h(k))}return v(h(c(e)))},isRtl:()=>R2().bind(e=>No(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Qn(Up,e)},Xi=()=>{const e=[],t={},o={},r=[],c=(ge,Ae)=>{const ot=xt(r,rt=>rt.name===ge&&rt.state===Ae);Le(ot,rt=>rt.resolve())},h=ge=>Qn(t,ge),v=ge=>Qn(o,ge),T=ge=>{if(o[ge])return o[ge].instance},k=(ge,Ae)=>{const ot=Fu.getCode(),rt=","+(Ae||"")+",";!ot||Ae&&rt.indexOf(","+ot+",")===-1||sr.ScriptLoader.add(t[ge]+"/langs/"+ot+".js")},L=(ge,Ae)=>{Xi.languageLoad!==!1&&(h(ge)?k(ge,Ae):De(ge,"loaded").then(()=>k(ge,Ae)))},W=(ge,Ae)=>(e.push(Ae),o[ge]={instance:Ae},c(ge,"added"),Ae),G=ge=>{delete t[ge],delete o[ge]},Q=(ge,Ae)=>J(Ae)?J(ge)?{prefix:"",resource:Ae,suffix:""}:{prefix:ge.prefix,resource:Ae,suffix:ge.suffix}:Ae,ce=(ge,Ae)=>{if(t[ge])return Promise.resolve();let ot=J(Ae)?Ae:Ae.prefix+Ae.resource+Ae.suffix;ot.indexOf("/")!==0&&ot.indexOf("://")===-1&&(ot=Xi.baseURL+"/"+ot),t[ge]=ot.substring(0,ot.lastIndexOf("/"));const rt=()=>(c(ge,"loaded"),Promise.resolve());return o[ge]?rt():sr.ScriptLoader.add(ot).then(rt)},De=(ge,Ae="added")=>Ae==="added"&&v(ge)||Ae==="loaded"&&h(ge)?Promise.resolve():new Promise(ot=>{r.push({name:ge,state:Ae,resolve:ot})});return{items:e,urls:t,lookup:o,get:T,requireLangPack:L,add:W,remove:G,createUrl:Q,load:ce,waitFor:De}};Xi.languageLoad=!0,Xi.baseURL="",Xi.PluginManager=Xi(),Xi.ThemeManager=Xi(),Xi.ModelManager=Xi();const Hh=at("mce-annotation"),sd=at("data-mce-annotation"),hm=at("data-mce-annotation-uid"),Wp=at("data-mce-annotation-active"),ca=at("data-mce-annotation-classes"),Q0=at("data-mce-annotation-attrs"),VC=e=>t=>ss(t,e),pb=(e,t)=>{const o=e.selection.getRng(),r=_e.fromDom(o.startContainer),c=_e.fromDom(e.getBody()),h=t.fold(()=>"."+Hh(),k=>`[${sd()}="${k}"]`),v=Jc(r,o.startOffset).getOr(r);return El(v,h,VC(c)).bind(k=>dl(k,`${hm()}`).bind(L=>dl(k,`${sd()}`).map(W=>{const G=bb(e,L);return{uid:L,name:W,elements:G}})))},Vv=e=>fa(e)&&Di(e,Hh()),Uv=(e,t)=>Gr(e,"data-mce-bogus")||Br(e,'[data-mce-bogus="all"]',VC(t)),bb=(e,t)=>{const o=_e.fromDom(e.getBody()),r=kt(o,`[${hm()}="${t}"]`);return xt(r,c=>!Uv(c,o))},If=(e,t)=>{const o=_e.fromDom(e.getBody()),r=kt(o,`[${sd()}="${t}"]`),c={};return Le(r,h=>{if(!Uv(h,o)){const v=yr(h,hm()),T=No(c,v).getOr([]);c[v]=T.concat([h])}}),c},zh=(e,t)=>{const o=Pn({}),r=()=>({listeners:[],previous:Fs()}),c=(G,Q)=>{h(G,ce=>(Q(ce),ce))},h=(G,Q)=>{const ce=o.get(),De=No(ce,G).getOrThunk(r),ge=Q(De);ce[G]=ge,o.set(ce)},v=(G,Q,ce)=>{c(G,De=>{Le(De.listeners,ge=>ge(!0,G,{uid:Q,nodes:tt(ce,Ae=>Ae.dom)}))})},T=G=>{c(G,Q=>{Le(Q.listeners,ce=>ce(!1,G))})},k=(G,Q)=>{Le(bb(e,G),ce=>{Q?Or(ce,Wp(),"true"):li(ce,Wp())})},L=Cu(()=>{const G=Ss(t.getNames());Le(G,Q=>{h(Q,ce=>{const De=ce.previous.get();return pb(e,X.some(Q)).fold(()=>{De.each(ge=>{T(Q),ce.previous.clear(),k(ge,!1)})},({uid:ge,name:Ae,elements:ot})=>{qt(De,ge)||(De.each(rt=>k(rt,!1)),v(Ae,ge,ot),ce.previous.set(ge),k(ge,!0))}),{previous:ce.previous,listeners:ce.listeners}})})},30);return e.on("remove",()=>{L.cancel()}),e.on("NodeChange",()=>{L.throttle()}),{addListener:(G,Q)=>{h(G,ce=>({previous:ce.previous,listeners:ce.listeners.concat([Q])}))}}},qp=(e,t)=>{const o=sd(),r=h=>X.from(h.attr(o)).bind(t.lookup),c=h=>{h.attr(hm(),null),h.attr(sd(),null),h.attr(Wp(),null);const v=X.from(h.attr(Q0())).map(W=>W.split(",")).getOr([]),T=X.from(h.attr(ca())).map(W=>W.split(",")).getOr([]);Le(v,W=>h.attr(W,null));const k=h.attr("class")?.split(" ")??[],L=os(k,[Hh()].concat(T));h.attr("class",L.length>0?L.join(" "):null),h.attr(ca(),null),h.attr(Q0(),null)};e.serializer.addTempAttr(Wp()),e.serializer.addAttributeFilter(o,h=>{for(const v of h)r(v).each(T=>{T.persistent===!1&&(v.name==="span"?v.unwrap():c(v))})})},Gp=()=>{const e={};return{register:(c,h)=>{e[c]={name:c,settings:h}},lookup:c=>No(e,c).map(h=>h.settings),getNames:()=>Hn(e)}},Dy=(e,t,o=He)=>{const r=new Ka(e,t),c=h=>{let v;do v=r[h]();while(v&&!dn(v)&&!o(v));return X.from(v).filter(dn)};return{current:()=>X.from(r.current()).filter(dn),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},du=(e,t)=>{const o=t||(v=>e.isBlock(v)||la(v)||na(v)),r=(v,T,k,L)=>{if(dn(v)){const W=L(v,T,v.data);if(W!==-1)return X.some({container:v,offset:W})}return k().bind(W=>r(W.container,W.offset,k,L))};return{backwards:(v,T,k,L)=>{const W=Dy(v,L??e.getRoot(),o);return r(v,T,()=>W.prev().map(G=>({container:G,offset:G.length})),k).getOrNull()},forwards:(v,T,k,L)=>{const W=Dy(v,L??e.getRoot(),o);return r(v,T,()=>W.next().map(G=>({container:G,offset:0})),k).getOrNull()}}},df=["td","th"],J0=["thead","tbody","tfoot"],UC=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],F2=["li","dd","dt"],Zv=["ul","ol","dl"],_y=["pre","script","textarea","style"],gm=e=>{let t;return o=>(t=t||Vs(e,dt),Qn(t,rs(o)))},$2=e=>rs(e)==="table",Fd=e=>fa(e)&&rs(e)==="br",Sc=gm(UC),$d=gm(Zv),fu=gm(F2),e1=gm(J0),jh=gm(df),Oy=gm(_y),Wv=e=>{const t=[];let o=e.dom;for(;o;)t.push(_e.fromDom(o)),o=o.lastChild;return t},yb=e=>{const t=kt(e,"br"),o=xt(Wv(e).slice(-1),Fd);t.length===o.length&&Le(o,ws)},Fg=()=>{const e=_e.fromTag("br");return Or(e,"data-mce-bogus","1"),e},Vh=e=>{ql(e),Is(e,Fg())},Rr=(e,t)=>{ai(e).each(o=>{Wu(o).each(r=>{t.isBlock(rs(e))&&Fd(o)&&t.isBlock(rs(r))&&ws(o)})})},Hi=pi,$g=Ei,Pc=rl,vb=e=>e.insertContent(Hi,{preserve_zwsp:!0}),Dr=Sn,rd=dn,Hf=e=>(rd(e)&&(e=e.parentNode),Dr(e)&&e.hasAttribute("data-mce-caret")),pm=e=>rd(e)&&$g(e.data),ad=e=>Hf(e)||pm(e),Ny=e=>e.firstChild!==e.lastChild||!la(e.firstChild),I2=(e,t)=>{const r=(e.ownerDocument??document).createTextNode(Hi),c=e.parentNode;if(t){const h=e.previousSibling;if(rd(h)){if(ad(h))return h;if(Qi(h))return h.splitText(h.data.length-1)}c?.insertBefore(r,e)}else{const h=e.nextSibling;if(rd(h)){if(ad(h))return h;if(mu(h))return h.splitText(1),h}e.nextSibling?c?.insertBefore(r,e.nextSibling):c?.appendChild(r)}return r},Wm=e=>{const t=e.container();return dn(t)?t.data.charAt(e.offset())===Hi||e.isAtStart()&&pm(t.previousSibling):!1},Ig=e=>{const t=e.container();return dn(t)?t.data.charAt(e.offset()-1)===Hi||e.isAtEnd()&&pm(t.nextSibling):!1},Qa=(e,t,o)=>{const c=(t.ownerDocument??document).createElement(e);c.setAttribute("data-mce-caret",o?"before":"after"),c.setAttribute("data-mce-bogus","all"),c.appendChild(Fg().dom);const h=t.parentNode;return o?h?.insertBefore(c,t):t.nextSibling?h?.insertBefore(c,t.nextSibling):h?.appendChild(c),c},mu=e=>rd(e)&&e.data[0]===Hi,Qi=e=>rd(e)&&e.data[e.data.length-1]===Hi,nc=e=>{const t=e.getElementsByTagName("br"),o=t[t.length-1];Hm(o)&&o.parentNode?.removeChild(o)},ff=e=>e&&e.hasAttribute("data-mce-caret")?(nc(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Ry=e=>Hf(e.startContainer),Uh=Math.round,qm=e=>e?{left:Uh(e.left),top:Uh(e.top),bottom:Uh(e.bottom),right:Uh(e.right),width:Uh(e.width),height:Uh(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Hg=(e,t)=>(e=qm(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),My=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,xb=(e,t,o)=>e>=0&&e<=Math.min(t.height,o.height)/2,Zh=(e,t)=>{const o=Math.min(t.height/2,e.height/2);return e.bottom-o<t.top?!0:e.top>t.bottom?!1:xb(t.top-e.bottom,e,t)},Gm=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:xb(t.bottom-e.top,e,t),qv=(e,t,o)=>t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom,t1=e=>Pe(e,(t,o)=>t.fold(()=>X.some(o),r=>{const c=Math.min(o.left,r.left),h=Math.min(o.top,r.top),v=Math.max(o.right,r.right),T=Math.max(o.bottom,r.bottom);return X.some({top:h,right:v,bottom:T,left:c,width:v-c,height:T-h})}),X.none()),Gv=(e,t,o)=>{const r=Math.max(Math.min(t,e.left+e.width),e.left),c=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((t-r)*(t-r)+(o-c)*(o-c))},Kv=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),gl=e=>{const t=e.startContainer,o=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===o+1?t.childNodes[o]:null},zg=(e,t)=>{if(Sn(e)&&e.hasChildNodes()){const o=e.childNodes,r=Ao(t,0,o.length-1);return o[r]}else return e},id=(e,t)=>{if(!(t<0&&Sn(e)&&e.hasChildNodes()))return zg(e,t)},Yv=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),wb=e=>J(e)&&e.charCodeAt(0)>=768&&Yv.test(e),Cb=(...e)=>t=>{for(let o=0;o<e.length;o++)if(e[o](t))return!0;return!1},Sb=(...e)=>t=>{for(let o=0;o<e.length;o++)if(!e[o](t))return!1;return!0},By=Mu,Xv=na,Qv=la,Kp=dn,Ji=Xu(["script","style","textarea"]),Kr=Xu(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Al=Xu(["table"]),kl=ad,ya=e=>kl(e)?!1:Kp(e)?!Ji(e.parentNode):Kr(e)||Qv(e)||Al(e)||Km(e),Oi=e=>Sn(e)&&e.getAttribute("unselectable")==="true",Km=e=>!Oi(e)&&Xv(e),Id=(e,t)=>{for(let o=e.parentNode;o&&o!==t;o=o.parentNode){if(Km(o))return!1;if(By(o))return!0}return!0},Ly=e=>Km(e)?!Pe(Es(e.getElementsByTagName("*")),(t,o)=>t||By(o),!1):!1,Eb=e=>Kr(e)||Ly(e),zf=(e,t)=>ya(e)&&Id(e,t),Jv=Sn,ex=ya,Wh=tb("display","block table"),Py=tb("float","left right"),n1=Sb(Jv,ex,Ve(Py)),H2=Ve(tb("white-space","pre pre-line pre-wrap")),Tb=dn,bm=la,Fy=hs.nodeIndex,Ab=id,o1=e=>e?e.createRange():hs.DOM.createRng(),jg=e=>J(e)&&/[\r\n\t ]/.test(e),Ym=e=>!!e.setStart&&!!e.setEnd,Vg=e=>{const t=e.startContainer,o=e.startOffset;if(jg(e.toString())&&H2(t.parentNode)&&dn(t)){const r=t.data;if(jg(r[o-1])||jg(r[o+1]))return!0}return!1},s1=e=>{const t=e.ownerDocument,o=o1(t),r=t.createTextNode(qr),c=e.parentNode;c.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const h=qm(o.getBoundingClientRect());return c.removeChild(r),h},$y=e=>{const t=e.startContainer,o=e.endContainer,r=e.startOffset,c=e.endOffset;if(t===o&&dn(o)&&r===0&&c===1){const h=e.cloneRange();return h.setEndAfter(o),Il(h)}else return null},jf=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Il=e=>{let t;const o=e.getClientRects();return o.length>0?t=qm(o[0]):t=qm(e.getBoundingClientRect()),!Ym(e)&&bm(e)&&jf(t)?s1(e):jf(t)&&Ym(e)?$y(e)??t:t},oc=(e,t)=>{const o=Hg(e,t);return o.width=1,o.right=o.left+1,o},qh=e=>{const t=[],o=v=>{v.height!==0&&(t.length>0&&My(v,t[t.length-1])||t.push(v))},r=(v,T)=>{const k=o1(v.ownerDocument);if(T<v.data.length){if(wb(v.data[T]))return;if(wb(v.data[T-1])&&(k.setStart(v,T),k.setEnd(v,T+1),!Vg(k))){o(oc(Il(k),!1));return}}T>0&&(k.setStart(v,T-1),k.setEnd(v,T),Vg(k)||o(oc(Il(k),!1))),T<v.data.length&&(k.setStart(v,T),k.setEnd(v,T+1),Vg(k)||o(oc(Il(k),!0)))},c=e.container(),h=e.offset();if(Tb(c))return r(c,h),t;if(Jv(c))if(e.isAtEnd()){const v=Ab(c,h);Tb(v)&&r(v,v.data.length),n1(v)&&!bm(v)&&o(oc(Il(v),!1))}else{const v=Ab(c,h);if(Tb(v)&&r(v,0),n1(v)&&e.isAtEnd())return o(oc(Il(v),!1)),t;const T=Ab(e.container(),e.offset()-1);n1(T)&&!bm(T)&&(Wh(T)||Wh(v)||!n1(v))&&o(oc(Il(T),!1)),n1(v)&&o(oc(Il(v),!0))}return t},_t=(e,t,o)=>{const r=()=>(Tb(e),t===0),c=()=>Tb(e)?t>=e.data.length:t>=e.childNodes.length,h=()=>{const W=o1(e.ownerDocument);return W.setStart(e,t),W.setEnd(e,t),W},v=()=>(o||(o=qh(_t(e,t))),o),T=()=>v().length>0,k=W=>W&&e===W.container()&&t===W.offset(),L=W=>Ab(e,W?t-1:t);return{container:at(e),offset:at(t),toRange:h,getClientRects:v,isVisible:T,isAtStart:r,isAtEnd:c,isEqual:k,getNode:L}};_t.fromRangeStart=e=>_t(e.startContainer,e.startOffset),_t.fromRangeEnd=e=>_t(e.endContainer,e.endOffset),_t.after=e=>_t(e.parentNode,Fy(e)+1),_t.before=e=>_t(e.parentNode,Fy(e)),_t.isAbove=(e,t)=>Bn(gs(t.getClientRects()),Wr(e.getClientRects()),Zh).getOr(!1),_t.isBelow=(e,t)=>Bn(Wr(t.getClientRects()),gs(e.getClientRects()),Gm).getOr(!1),_t.isAtStart=e=>e?e.isAtStart():!1,_t.isAtEnd=e=>e?e.isAtEnd():!1,_t.isTextPosition=e=>e?dn(e.container()):!1,_t.isElementPosition=e=>!_t.isTextPosition(e);const Yp=(e,t)=>{dn(t)&&t.data.length===0&&e.remove(t)},Iy=(e,t,o)=>{t.insertNode(o),Yp(e,o.previousSibling),Yp(e,o.nextSibling)},Fc=(e,t,o)=>{const r=X.from(o.firstChild),c=X.from(o.lastChild);t.insertNode(o),r.each(h=>Yp(e,h.previousSibling)),c.each(h=>Yp(e,h.nextSibling))},Xp=(e,t,o)=>{_p(o)?Fc(e,t,o):Iy(e,t,o)},ym=dn,Hy=Hm,tx=hs.nodeIndex,Gh=e=>{const t=e.parentNode;return Hy(t)?Gh(t):t},kb=e=>e?Eu(e.childNodes,(t,o)=>(Hy(o)&&o.nodeName!=="BR"?t=t.concat(kb(o)):t.push(o),t),[]):[],Vf=(e,t)=>{let o=e;for(;(o=o.previousSibling)&&ym(o);)t+=o.data.length;return t},Qp=e=>t=>e===t,zy=e=>{let t,o;t=kb(Gh(e)),o=bd(t,Qp(e),e),t=t.slice(0,o+1);const r=Eu(t,(c,h,v)=>(ym(h)&&ym(t[v-1])&&c++,c),0);return t=qc(t,Xu([e.nodeName])),o=bd(t,Qp(e),e),o-r},Ec=e=>(ym(e)?"text()":e.nodeName.toLowerCase())+"["+zy(e)+"]",ld=(e,t,o)=>{const r=[];for(let c=t.parentNode;c&&c!==e;c=c.parentNode)r.push(c);return r},cd=(e,t)=>{let o=[],r=t.container(),c=t.offset(),h;if(ym(r))h=Vf(r,c);else{const T=r.childNodes;c>=T.length?(h="after",c=T.length-1):h="before",r=T[c]}o.push(Ec(r));let v=ld(e,r);return v=qc(v,Ve(Hm)),o=o.concat(Wc(v,T=>Ec(T))),o.reverse().join("/")+","+h},z2=(e,t,o)=>{let r=kb(e);return r=qc(r,(c,h)=>!ym(c)||!ym(r[h-1])),r=qc(r,Xu([t])),r[o]},Jp=(e,t)=>{let o=e,r=0;for(;ym(o);){const c=o.data.length;if(t>=r&&t<=r+c){e=o,t=t-r;break}if(!ym(o.nextSibling)){e=o,t=c;break}r+=c,o=o.nextSibling}return ym(e)&&t>e.data.length&&(t=e.data.length),_t(e,t)},nx=(e,t)=>{if(!t)return null;const o=t.split(","),r=o[0].split("/"),c=o.length>1?o[1]:"before",h=Eu(r,(v,T)=>{const k=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(T);return k?(k[1]==="text()"&&(k[1]="#text"),z2(v,k[1],parseInt(k[2],10))):null},e);if(!h)return null;if(!ym(h)&&h.parentNode){let v;return c==="after"?v=tx(h)+1:v=tx(h),_t(h.parentNode,v)}return Jp(h,parseInt(c,10))},Db=na,ox=(e,t,o)=>{let r=e(t.data.slice(0,o)).length;for(let c=t.previousSibling;c&&dn(c);c=c.previousSibling)r+=e(c.data).length;return r},sx=(e,t,o,r,c)=>{const h=c?r.startContainer:r.endContainer;let v=c?r.startOffset:r.endOffset;const T=[],k=e.getRoot();if(dn(h))T.push(o?ox(t,h,v):v);else{let L=0;const W=h.childNodes;v>=W.length&&W.length&&(L=1,v=Math.max(0,W.length-1)),T.push(e.nodeIndex(W[v],o)+L)}for(let L=h;L&&L!==k;L=L.parentNode)T.push(e.nodeIndex(L,o));return T},fs=(e,t,o,r)=>{const c=t.dom,h=sx(c,e,o,r,!0),v=t.isForward(),T=Ry(r)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:h,forward:v,...T};{const k=sx(c,e,o,r,!1);return{start:h,end:k,forward:v,...T}}},so=(e,t,o)=>{let r=0;return ln.each(e.select(t),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;r++;return}}),r},r1=(e,t)=>{let o=t?e.startContainer:e.endContainer,r=t?e.startOffset:e.endOffset;if(Sn(o)&&o.nodeName==="TR"){const c=o.childNodes;o=c[Math.min(t?r:r-1,c.length-1)],o&&(r=t?0:o.childNodes.length,t?e.setStart(o,r):e.setEnd(o,r))}},jy=e=>(r1(e,!0),r1(e,!1),e),a1=(e,t)=>{if(Sn(e)&&(e=zg(e,t),Db(e)))return e;if(ad(e)){dn(e)&&Hf(e)&&(e=e.parentNode);let o=e.previousSibling;if(Db(o)||(o=e.nextSibling,Db(o)))return o}},rx=e=>a1(e.startContainer,e.startOffset)||a1(e.endContainer,e.endOffset),i1=(e,t,o)=>{const r=o.getNode(),c=o.getRng();if(r.nodeName==="IMG"||Db(r)){const v=r.nodeName;return{name:v,index:so(o.dom,v,r)}}const h=rx(c);if(h){const v=h.tagName;return{name:v,index:so(o.dom,v,h)}}return fs(e,o,t,c)},oa=e=>{const t=e.getRng();return{start:cd(e.dom.getRoot(),_t.fromRangeStart(t)),end:cd(e.dom.getRoot(),_t.fromRangeEnd(t)),forward:e.isForward()}},_b=e=>({rng:e.getRng(),forward:e.isForward()}),l1=(e,t,o)=>{const r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},Xm=(e,t)=>{const o=e.dom;let r=e.getRng();const c=o.uniqueId(),h=e.isCollapsed(),v=e.getNode(),T=v.nodeName,k=e.isForward();if(T==="IMG")return{name:T,index:so(o,T,v)};const L=jy(r.cloneRange());if(!h){L.collapse(!1);const G=l1(o,c+"_end",t);Xp(o,L,G)}r=jy(r),r.collapse(!0);const W=l1(o,c+"_start",t);return Xp(o,r,W),e.moveToBookmark({id:c,keep:!0,forward:k}),{id:c,forward:k}},Mt=(e,t,o=!1)=>t===2?i1(Pc,o,e):t===3?oa(e):t?_b(e):Xm(e,!1),mf=le(i1,Jn,!0),vm=e=>e===1,Hd=e=>e===-1;var Tc;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Tc||(Tc={}));const Qm=(e,t,o)=>e.stype===Tc.Error?t(e.serror):o(e.svalue),e0=e=>{const t=[],o=[];return Le(e,r=>{Qm(r,c=>o.push(c),c=>t.push(c))}),{values:t,errors:o}},xm=(e,t)=>e.stype===Tc.Error?{stype:Tc.Error,serror:t(e.serror)}:e,ZC=(e,t)=>e.stype===Tc.Value?{stype:Tc.Value,svalue:t(e.svalue)}:e,t0=(e,t)=>e.stype===Tc.Value?t(e.svalue):e,Lr=(e,t)=>e.stype===Tc.Error?t(e.serror):e,hf=e=>({stype:Tc.Value,svalue:e}),ax=e=>({stype:Tc.Error,serror:e}),sc={fromResult:e=>e.fold(ax,hf),toResult:e=>Qm(e,Ie.error,Ie.value),svalue:hf,partition:e0,serror:ax,bind:t0,bindError:Lr,map:ZC,mapError:xm,fold:Qm},n0=e=>vt(e)&&Hn(e).length>100?" removed due to size":JSON.stringify(e,null,2),Vy=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:at("... (only showing first ten failures)")}]):e;return tt(t,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},Uy=(e,t)=>sc.serror([{path:e,getErrorInfo:t}]),Zy=(e,t,o)=>Uy(e,()=>'Could not find valid *required* value for "'+t+'" in '+n0(o)),j2=(e,t)=>Uy(e,at(t)),ix=e=>{const t=(r,c)=>sc.bindError(e(c),h=>j2(r,h)),o=at("val");return{extract:t,toString:o}},Ob=ix(sc.svalue),a=at(Ob),u=(e,t)=>ix(o=>{const r=typeof o;return e(o)?sc.svalue(o):sc.serror(`Expected type: ${t} but got: ${r}`)}),g=u(Qo,"number"),C=u(J,"string"),R=u(Re,"function"),$=()=>({tag:"required",process:{}}),se=e=>({tag:"defaultedThunk",process:e}),fe=e=>se(at(e)),lt=()=>({tag:"option",process:{}}),Ut=(e,t,o,r)=>({tag:"field",key:e,newKey:t,presence:o,prop:r}),bn=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},Dn=(e,t)=>sc.svalue(Vt(t,wn.apply(void 0,e))),Qt=e=>F(sc.serror,Jo)(e),Ns={consolidateObj:(e,t)=>{const o=sc.partition(e);return o.errors.length>0?Qt(o.errors):Dn(o.values,t)},consolidateArr:e=>{const t=sc.partition(e);return t.errors.length>0?Qt(t.errors):sc.svalue(t.values)}},fi=(e,t,o,r)=>No(t,o).fold(()=>Zy(e,o,t),r),et=(e,t,o,r)=>{const c=No(e,t).getOrThunk(()=>o(e));return r(c)},ht=(e,t,o)=>o(No(e,t)),zt=(e,t,o,r)=>{const c=No(e,t).map(h=>h===!0?o(e):h);return r(c)},hn=(e,t,o,r,c)=>{const h=T=>c.extract(t.concat([r]),T),v=T=>T.fold(()=>sc.svalue(X.none()),k=>{const L=c.extract(t.concat([r]),k);return sc.map(L,X.some)});switch(e.tag){case"required":return fi(t,o,r,h);case"defaultedThunk":return et(o,r,e.process,h);case"option":return ht(o,r,v);case"defaultedOptionThunk":return zt(o,r,e.process,v);case"mergeWithThunk":return et(o,r,at({}),T=>{const k=Vt(e.process(o),T);return h(k)})}},ms=(e,t,o)=>{const r={},c=[];for(const h of o)bn(h,(v,T,k,L)=>{const W=hn(k,e,t,v,L);sc.fold(W,G=>{c.push(...G)},G=>{r[T]=G})},(v,T)=>{r[v]=T(t)});return c.length>0?sc.serror(c):sc.svalue(r)},Us=e=>({extract:(r,c)=>ms(r,c,e),toString:()=>`obj{
`+tt(e,c=>bn(c,(h,v,T,k)=>h+" -> "+k.toString(),(h,v)=>"state("+h+")")).join(`
`)+"}"}),Go=e=>({extract:(r,c)=>{const h=tt(c,(v,T)=>e.extract(r.concat(["["+T+"]"]),v));return Ns.consolidateArr(h)},toString:()=>"array("+e.toString()+")"}),rr=F(Go,Us),Mr=e=>ix(t=>e(t).fold(sc.serror,sc.svalue)),zr=(e,t,o)=>{const r=t.extract([e],o);return sc.mapError(r,c=>({input:o,errors:c}))},gf=(e,t,o)=>sc.toResult(zr(e,t,o)),Jm=e=>`Errors: 
`+Vy(e.errors).join(`
`)+`

Input object: `+n0(e.input),pl=Ut,o0=e=>pl(e,e,$(),a()),BT=(e,t)=>pl(e,e,$(),t),WC=e=>BT(e,C),LT=e=>BT(e,R),lD=(e,t)=>pl(e,e,$(),Go(t)),Zs=e=>pl(e,e,lt(),a()),eh=(e,t)=>pl(e,e,lt(),t),c1=e=>eh(e,C),wB=e=>eh(e,R),Wy=(e,t)=>pl(e,e,fe(t),a()),Ks=(e,t,o)=>pl(e,e,fe(t),o),cD=(e,t)=>Ks(e,t,g),uD=(e,t,o)=>Ks(e,t,Go(o)),CB=e=>e.type==="inline-command"||e.type==="inline-format",SB=e=>e.type==="block-command"||e.type==="block-format",lx=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,dD=e=>{const t=r=>Ie.error({message:r,pattern:e}),o=(r,c,h)=>{if(e.format!==void 0){let v;if(Xe(e.format)){if(!mr(e.format,J))return t(r+" pattern has non-string items in the `format` array");v=e.format}else if(J(e.format))v=[e.format];else return t(r+" pattern has non-string `format` parameter");return Ie.value(c(v))}else return e.cmd!==void 0?J(e.cmd)?Ie.value(h(e.cmd,e.value)):t(r+" pattern has non-string `cmd` parameter"):t(r+" pattern is missing both `format` and `cmd` parameters")};if(!vt(e))return t("Raw pattern is not an object");if(!J(e.start))return t("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!J(e.end))return t("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return t("Inline pattern has empty `start` and `end` parameters");let r=e.start,c=e.end;return c.length===0&&(c=r,r=""),o("Inline",h=>({type:"inline-format",start:r,end:c,format:h}),(h,v)=>({type:"inline-command",start:r,end:c,cmd:h,value:v}))}else{if(e.replacement!==void 0)return J(e.replacement)?e.start.length===0?t("Replacement pattern has empty `start` parameter"):Ie.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter");{const r=e.trigger??"space";return e.start.length===0?t("Block pattern has empty `start` parameter"):o("Block",c=>({type:"block-format",start:e.start,format:c[0],trigger:r}),(c,h)=>({type:"block-command",start:e.start,cmd:c,value:h,trigger:r}))}}},fD=e=>xt(e,SB),cx=e=>xt(e,CB),mD=(e,t)=>({inlinePatterns:cx(e),blockPatterns:fD(e),dynamicPatternsLookup:t}),ux=(e,t)=>({...e,blockPatterns:xt(e.blockPatterns,o=>lx(o,t))}),PT=e=>{const t=Sa(tt(e,dD));return Le(t.errors,o=>console.error(o.message,o.pattern)),t.values},hD=e=>t=>{const o=e(t);return PT(o)},V2=(e,t)=>e.dispatch("PreProcess",t),qC=(e,t)=>e.dispatch("PostProcess",t),GC=e=>{e.dispatch("remove")},FT=e=>{e.dispatch("detach")},gD=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},$T=(e,t,o,r,c)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:r,origin:c})},KC=(e,t,o,r,c)=>{e.dispatch("ObjectResized",{target:t,width:o,height:r,origin:c})},IT=e=>{e.dispatch("PreInit")},fr=e=>{e.dispatch("PostRender")},HT=e=>{e.dispatch("Init")},YC=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},U2=(e,t,o)=>{e.dispatch(t,o)},s0=(e,t,o,r)=>{e.dispatch("FormatApply",{format:t,node:o,vars:r})},XC=(e,t,o,r)=>{e.dispatch("FormatRemove",{format:t,node:o,vars:r})},pD=(e,t)=>e.dispatch("BeforeSetContent",t),zT=(e,t)=>e.dispatch("SetContent",t),qy=(e,t)=>e.dispatch("BeforeGetContent",t),jT=(e,t)=>e.dispatch("GetContent",t),dx=(e,t)=>{e.dispatch("AutocompleterStart",t)},fx=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},QC=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},u1=e=>{e.dispatch("AutocompleterEnd")},VT=(e,t,o)=>e.dispatch("PastePreProcess",{content:t,internal:o}),UT=(e,t,o)=>e.dispatch("PastePostProcess",{node:t,internal:o}),ZT=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),WT=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),EB=(e,t)=>e.dispatch("DisabledStateChange",{state:t}),qT=e=>e.dispatch("CloseActiveTooltips"),Z2=bs().deviceType,W2=Z2.isTouch(),mx=hs.DOM,q2=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Pe(t,(o,r)=>{const c=r.split("="),h=c[0],v=c.length>1?c[1]:h;return o[Jr(h)]=Jr(v),o},{})},G2=e=>Se(e,RegExp),jn=e=>t=>t.options.get(e),d1=e=>J(e)||vt(e),Ug=(e,t="")=>o=>{const r=J(o);if(r)if(o.indexOf("=")!==-1){const c=q2(o);return{value:No(c,e.id).getOr(t),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},hx=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("crossorigin",{processor:"function",default:at(void 0)}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.editorManager.documentBaseURL}),t("body_id",{processor:Ug(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:Ug(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:r=>{const c=J(r)&&Hr(r);return c?{value:r,valid:c}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:r=>{const c=Be(["block","linebreak","invert","default"],r);return c?{value:r,valid:c}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:r=>ct(r)?{valid:!0,value:r}:J(r)?{valid:!0,value:r}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:r=>{const c=r===!1||J(r)||yt(r,J);return c?J(r)?{value:tt(r.split(","),Jr),valid:c}:Xe(r)?{value:r,valid:c}:r===!1?{value:[],valid:c}:{value:r,valid:c}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:px(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:r=>{const c=J(r)||yt(r,J);return c?{value:Xe(r)?r:tt(r.split(","),Jr),valid:c}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("extended_mathml_attributes",{processor:"string[]"}),t("extended_mathml_elements",{processor:"string[]"}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:r=>{const c=ct(r)||J(r);return c?r===!1||Z2.isiPhone()||Z2.isiPad()?{value:"",valid:c}:{value:r===!0?"table,img,figure.image,div,video,iframe":r,valid:c}:{valid:!1,message:"Must be boolean or a string"}},default:!W2}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("onboarding",{processor:"boolean",default:!0}),t("tiny_cloud_entry_url",{processor:"string"}),t("theme",{processor:r=>r===!1||J(r)||Re(r),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:r=>{const c=r===!1||J(r);return c?{value:r===!1?"":r,valid:c}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("disabled",{processor:r=>ct(r)?(e.initialized&&nh(e)!==r&&Promise.resolve().then(()=>{EB(e,r)}),{valid:!0,value:r}):{valid:!1,message:"The value must be a boolean."},default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(e.hasPlugin("help")?". Press ALT-0 for help.":"")}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_html_in_comments",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("allow_mathml_annotation_encodings",{processor:r=>{const c=yt(r,J);return c?{value:r,valid:c}:{valid:!1,message:"Must be an array of strings."}},default:[]}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:d1}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:d1}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:d1}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:d1}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:r=>J(r)||r===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:r=>yt(r,vt)||r===!1?{value:PT(r===!1?[]:r),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:r=>Re(r)?{value:hD(r),valid:!0}:{valid:!1,message:"Must be a single function"},default:r=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:r=>yt(r,G2)?{value:r,valid:!0}:G2(r)?{value:[r],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:r=>{const c=Be(["inherited","collapsed","expanded"],r);return c?{value:r,valid:c}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:r=>{const c=Be(["inherited","collapsed","expanded"],r);return c?{value:r,valid:c}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),t("user_id",{processor:"string",default:"Anonymous"}),t("fetch_users",{processor:r=>r===void 0?{valid:!0,value:void 0}:Re(r)?{valid:!0,value:r}:{valid:!1,message:"fetch_users must be a function that returns a Promise<ExpectedUser[]>"}});const o=rr([WC("mimeType"),lD("extensions",Mr(r=>J(r)?Ie.value(r):Ie.error("Extensions must be an array of strings")))]);t("documents_file_types",{processor:r=>gf("documents_file_types",o,r).fold(c=>({valid:!1,message:"Must be a non-empty array of objects matching the configuration schema: https://www.tiny.cloud/docs/tinymce/latest/uploadcare-documents/#documents-file-types"}),c=>({valid:!0,value:c}))}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:Fu.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:mx.getAttrib(e.getElement(),"placeholder")})}),t("lists_indent_on_tab",{processor:"boolean",default:!0}),t("list_max_depth",{processor:r=>{const c=Qo(r);if(c){if(r<0)throw new Error("list_max_depth cannot be set to lower than 0");return{value:r,valid:c}}else return{valid:!1,message:"Must be a number"}}})},GT=jn("iframe_attrs"),JC=jn("doctype"),eS=jn("document_base_url"),KT=jn("body_id"),YT=jn("body_class"),XT=jn("content_security_policy"),K2=jn("br_in_pre"),bl=jn("forced_root_block"),th=jn("forced_root_block_attrs"),Y2=jn("newline_behavior"),QT=jn("br_newline_selector"),JT=jn("no_newline_selector"),eA=jn("keep_styles"),X2=jn("end_container_on_empty_block"),tS=jn("automatic_uploads"),tA=jn("images_reuse_filename"),nA=jn("images_replace_blob_uris"),gx=jn("icons"),nS=jn("icons_url"),Q2=jn("images_upload_url"),oS=jn("images_upload_base_path"),bD=jn("images_upload_credentials"),oA=jn("images_upload_handler"),sA=jn("content_css_cors"),J2=jn("referrer_policy"),Nb=jn("crossorigin"),rA=jn("language"),aA=jn("language_url"),ew=jn("indent_use_margin"),yD=jn("indentation"),vD=jn("content_css"),Rb=jn("content_style"),sS=jn("font_css"),xD=jn("directionality"),wD=jn("inline_boundaries_selector"),iA=jn("object_resizing"),CD=jn("resize_img_proportional"),rS=jn("placeholder"),tw=jn("event_root"),aS=jn("service_message"),Zg=jn("theme"),lA=jn("theme_url"),nw=jn("model"),SD=jn("model_url"),f1=jn("inline_boundaries"),ED=jn("formats"),TD=jn("preview_styles"),TB=jn("format_empty_lines"),AB=jn("format_noneditable_selector"),Gy=jn("custom_ui_selector"),px=jn("inline"),iS=jn("hidden_input"),AD=jn("submit_patch"),kD=jn("add_form_submit_trigger"),ow=jn("add_unload_trigger"),cA=jn("custom_undo_redo_levels"),uA=jn("disable_nodechange"),bx=jn("readonly"),sw=jn("editable_root"),lS=jn("content_css_cors"),yx=jn("plugins"),cS=jn("external_plugins"),DD=jn("block_unsupported_drop"),vx=jn("visual"),dA=jn("visual_table_class"),rw=jn("visual_anchor_class"),aw=jn("iframe_aria_text"),Mb=jn("setup"),_D=jn("init_instance_callback"),Wg=jn("urlconverter_callback"),OD=jn("auto_focus"),fA=jn("browser_spellcheck"),ND=jn("protect"),kB=jn("paste_block_drop"),iw=jn("paste_data_images"),RD=jn("paste_preprocess"),MD=jn("paste_postprocess"),BD=jn("newdocument_content"),uS=jn("paste_webkit_styles"),LD=jn("paste_remove_styles_if_webkit"),mA=jn("paste_merge_formats"),dS=jn("smart_paste"),PD=jn("paste_as_text"),FD=jn("paste_tab_spaces"),fS=jn("allow_html_data_urls"),hA=jn("text_patterns"),lo=jn("text_patterns_lookup"),xx=jn("noneditable_class"),gA=jn("editable_class"),$D=jn("noneditable_regexp"),mS=jn("preserve_cdata"),wx=jn("highlight_on_focus"),lw=jn("xss_sanitization"),Cx=jn("init_content_sync"),Ky=e=>e.options.isSet("text_patterns_lookup"),hS=e=>ln.explode(e.options.get("font_size_style_values")),gS=e=>ln.explode(e.options.get("font_size_classes")),pA=e=>e.options.get("encoding")==="xml",pS=e=>ln.explode(e.options.get("images_file_types")),bA=jn("table_tab_navigation"),Yy=jn("details_initial_state"),r0=jn("details_serialized_state"),Xy=jn("sandbox_iframes"),a0=e=>e.options.get("sandbox_iframes_exclusions"),i0=jn("convert_unsafe_embeds"),yA=jn("license_key"),Sx=jn("api_key"),nh=jn("disabled"),vA=jn("user_id"),xA=jn("fetch_users"),bS=jn("lists_indent_on_tab"),yS=e=>X.from(e.options.get("list_max_depth")),wA=Sn,CA=dn,ID=e=>{const t=e.parentNode;t&&t.removeChild(e)},SA=e=>{const t=Pc(e);return{count:e.length-t.length,text:t}},Bb=e=>{let t;for(;(t=e.data.lastIndexOf(Hi))!==-1;)e.deleteData(t,1)},vS=(e,t)=>(Lb(e),t),EA=(e,t)=>{const o=SA(e.data.substr(0,t.offset())),r=SA(e.data.substr(t.offset()));return(o.text+r.text).length>0?(Bb(e),_t(e,t.offset()-o.count)):t},xS=(e,t)=>{const o=t.container(),r=js(Es(o.childNodes),e).map(c=>c<t.offset()?_t(o,t.offset()-1):t).getOr(t);return Lb(e),r},wS=(e,t)=>CA(e)&&t.container()===e?EA(e,t):vS(e,t),CS=(e,t)=>t.container()===e.parentNode?xS(e,t):vS(e,t),HD=(e,t)=>_t.isTextPosition(t)?wS(e,t):CS(e,t),Lb=e=>{wA(e)&&ad(e)&&(Ny(e)?e.removeAttribute("data-mce-caret"):ID(e)),CA(e)&&(Bb(e),e.data.length===0&&ID(e))},Pb=na,cw=Nd,uw=Np,TA="*[contentEditable=false],video,audio,embed,object",zD=(e,t,o)=>{const r=Hg(t.getBoundingClientRect(),o);let c,h;if(e.tagName==="BODY"){const T=e.ownerDocument.documentElement;c=e.scrollLeft||T.scrollLeft,h=e.scrollTop||T.scrollTop}else{const T=e.getBoundingClientRect();c=e.scrollLeft-T.left,h=e.scrollTop-T.top}r.left+=c,r.right+=c,r.top+=h,r.bottom+=h,r.width=1;let v=t.offsetWidth-t.clientWidth;return v>0&&(o&&(v*=-1),r.left+=v,r.right+=v),r},AA=e=>{const t=kt(_e.fromDom(e),TA);for(let o=0;o<t.length;o++){const r=t[o].dom;let c=r.previousSibling;if(Qi(c)){const h=c.data;h.length===1?c.parentNode?.removeChild(c):c.deleteData(h.length-1,1)}c=r.nextSibling,mu(c)&&(c.data.length===1?c.parentNode?.removeChild(c):c.deleteData(0,1))}},jo=(e,t,o,r)=>{const c=Fs();let h,v;const T=bl(e),k=e.dom,L=(ge,Ae)=>{let ot;if(W(),uw(Ae))return null;if(o(Ae)){const rt=Qa(T,Ae,ge),ut=zD(t,Ae,ge);k.setStyle(rt,"top",ut.top),k.setStyle(rt,"caret-color","transparent"),v=rt;const Pt=k.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});k.setStyles(Pt,{...ut}),k.add(t,Pt),c.set({caret:Pt,element:Ae,before:ge}),ge&&k.addClass(Pt,"mce-visual-caret-before"),G(),ot=Ae.ownerDocument.createRange(),ot.setStart(rt,0),ot.setEnd(rt,0)}else return v=I2(Ae,ge),ot=Ae.ownerDocument.createRange(),Uf(v.nextSibling)?(ot.setStart(v,0),ot.setEnd(v,0)):(ot.setStart(v,1),ot.setEnd(v,1)),ot;return ot},W=()=>{AA(t),v&&(Lb(v),v=null),c.on(ge=>{k.remove(ge.caret),c.clear()}),h&&(clearInterval(h),h=void 0)},G=()=>{h=window.setInterval(()=>{c.on(ge=>{r()?k.toggleClass(ge.caret,"mce-visual-caret-hidden"):k.addClass(ge.caret,"mce-visual-caret-hidden")})},500)},Q=()=>{c.on(ge=>{const Ae=zD(t,ge.element,ge.before);k.setStyles(ge.caret,{...Ae})})},ce=()=>clearInterval(h),De=()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";return{isShowing:c.isSet,show:L,hide:W,getCss:De,reposition:Q,destroy:ce}},dw=()=>ds.browser.isFirefox(),Uf=e=>Pb(e)||cw(e),Ex=e=>(Uf(e)||iu(e)&&dw())&&Qc(_e.fromDom(e)).exists(Cr),jD=Mu,fw=na,VD=Nd,SS=tb("display","block table table-cell table-row table-caption list-item"),ES=ad,Tx=Hf,Kh=Sn,Qy=dn,UD=ya,Fb=(e,t)=>{let o;for(;o=e(t);)if(!Tx(o))return o;return null},Ax=(e,t,o,r,c)=>{const h=new Ka(e,r),v=fw(e)||Tx(e);let T;if(Hd(t)){if(v&&(T=Fb(h.prev.bind(h),!0),o(T)))return T;for(;T=Fb(h.prev.bind(h),c);)if(o(T))return T}if(vm(t)){if(v&&(T=Fb(h.next.bind(h),!0),o(T)))return T;for(;T=Fb(h.next.bind(h),c);)if(o(T))return T}return null},mw=(e,t)=>{const o=c=>jD(c.dom),r=c=>c.dom===t;return kd(_e.fromDom(e),o,r).map(c=>c.dom).getOr(t)},Hl=e=>Sn(e)&&ka(_e.fromDom(e),"position")==="absolute",ZD=(e,t)=>e.parentNode!==t,TS=(e,t)=>fw(e)&&Hl(e)&&ZD(e,t),m1=(e,t)=>{for(;e&&e!==t;){if(SS(e)&&!TS(e,t))return e;e=e.parentNode}return null},qg=(e,t,o)=>m1(e.container(),o)===m1(t.container(),o),AS=(e,t)=>{if(!t)return X.none();const o=t.container(),r=t.offset();return Kh(o)?X.from(o.childNodes[r+e]):X.none()},kA=(e,t)=>{const r=(t.ownerDocument??document).createRange();return e?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),r},WD=(e,t,o)=>m1(t,e)===m1(o,e),hw=(e,t,o)=>{const r=e?"previousSibling":"nextSibling";let c=o;for(;c&&c!==t;){let h=c[r];if(h&&ES(h)&&(h=h[r]),fw(h)||VD(h)){if(WD(t,h,c))return h;break}if(UD(h))break;c=c.parentNode}return null},kx=le(kA,!0),h1=le(kA,!1),gw=(e,t,o)=>{let r;const c=le(hw,!0,t),h=le(hw,!1,t),v=o.startContainer,T=o.startOffset;if(Hf(v)){const k=Qy(v)?v.parentNode:v,L=k.getAttribute("data-mce-caret");if(L==="before"&&(r=k.nextSibling,Ex(r)))return kx(r);if(L==="after"&&(r=k.previousSibling,Ex(r)))return h1(r)}if(!o.collapsed)return o;if(dn(v)){if(ES(v)){if(e===1){if(r=h(v),r)return kx(r);if(r=c(v),r)return h1(r)}if(e===-1){if(r=c(v),r)return h1(r);if(r=h(v),r)return kx(r)}return o}if(Qi(v)&&T>=v.data.length-1)return e===1&&(r=h(v),r)?kx(r):o;if(mu(v)&&T<=1)return e===-1&&(r=c(v),r)?h1(r):o;if(T===v.data.length)return r=h(v),r?kx(r):o;if(T===0)return r=c(v),r?h1(r):o}return o},pw=(e,t)=>AS(e?0:-1,t).filter(fw),g1=(e,t,o)=>{const r=gw(e,t,o);return e===-1?_t.fromRangeStart(r):_t.fromRangeEnd(r)},Dx=e=>X.from(e.getNode()).map(_e.fromDom),kS=e=>X.from(e.getNode(!0)).map(_e.fromDom),bw=(e,t)=>{let o=t;for(;o=e(o);)if(o.isVisible())return o;return o},Yh=(e,t)=>{const o=qg(e,t);return!o&&la(e.getNode())?!0:o},DA=na,Gg=dn,DS=Sn,yw=la,Jy=ya,_x=Eb,vw=zf,qD=(e,t)=>{const o=[];let r=e;for(;r&&r!==t;)o.push(r),r=r.parentNode;return o},_A=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,xw=(e,t)=>{if(vm(e)){if(Jy(t.previousSibling)&&!Gg(t.previousSibling))return _t.before(t);if(Gg(t))return _t(t,0)}if(Hd(e)){if(Jy(t.nextSibling)&&!Gg(t.nextSibling))return _t.after(t);if(Gg(t))return _t(t,t.data.length)}return Hd(e)?yw(t)?_t.before(t):_t.after(t):_t.before(t)},GD=(e,t)=>{const o=t.nextSibling;return o&&Jy(o)?Gg(o)?_t(o,0):_t.before(o):_S(1,_t.after(t),e)},_S=(e,t,o)=>{let r,c,h,v;if(!DS(o)||!t)return null;if(t.isEqual(_t.after(o))&&o.lastChild){if(v=_t.after(o.lastChild),Hd(e)&&Jy(o.lastChild)&&DS(o.lastChild))return yw(o.lastChild)?_t.before(o.lastChild):v}else v=t;const T=v.container();let k=v.offset();if(Gg(T)){if(Hd(e)&&k>0)return _t(T,--k);if(vm(e)&&k<T.length)return _t(T,++k);r=T}else{if(Hd(e)&&k>0&&(c=_A(T,k-1),Jy(c)))return!_x(c)&&(h=Ax(c,e,vw,c),h)?Gg(h)?_t(h,h.data.length):_t.after(h):Gg(c)?_t(c,c.data.length):_t.before(c);if(vm(e)&&k<T.childNodes.length&&(c=_A(T,k),Jy(c)))return yw(c)?GD(o,c):!_x(c)&&(h=Ax(c,e,vw,c),h)?Gg(h)?_t(h,0):_t.before(h):Gg(c)?_t(c,0):_t.after(c);r=c||v.getNode()}if(r&&(vm(e)&&v.isAtEnd()||Hd(e)&&v.isAtStart())&&(r=Ax(r,e,dt,o,!0),vw(r,o)))return xw(e,r);c=r&&Ax(r,e,vw,o);const L=Vl(xt(qD(T,o),DA));return L&&(!c||!L.contains(c))?(vm(e)?v=_t.after(L):v=_t.before(L),v):c?xw(e,c):null},Xh=e=>({next:t=>_S(1,t,e),prev:t=>_S(-1,t,e)}),OS=(e,t,o)=>{const r=e?_t.before(o):_t.after(o);return Zf(e,t,r)},KD=e=>la(e)?_t.before(e):_t.after(e),OA=e=>_t.isTextPosition(e)?e.offset()===0:ya(e.getNode()),NA=e=>{if(_t.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return ya(e.getNode(!0))},RA=(e,t)=>!_t.isTextPosition(e)&&!_t.isTextPosition(t)&&e.getNode()===t.getNode(!0),YD=e=>!_t.isTextPosition(e)&&la(e.getNode()),Ra=(e,t,o)=>e?!RA(t,o)&&!YD(t)&&NA(t)&&OA(o):!RA(o,t)&&OA(t)&&NA(o),Zf=(e,t,o)=>{const r=Xh(t);return X.from(e?r.next(o):r.prev(o))},ev=(e,t,o)=>Zf(e,t,o).bind(r=>qg(o,r,t)&&Ra(e,o,r)?Zf(e,t,r):X.some(r)),m=(e,t,o,r)=>ev(e,t,o).bind(c=>r(c)?m(e,t,c,r):X.some(c)),y=(e,t)=>{const o=e?t.firstChild:t.lastChild;return dn(o)?X.some(_t(o,e?0:o.data.length)):o?ya(o)?X.some(e?_t.before(o):KD(o)):OS(e,t,o):X.none()},E=le(Zf,!0),D=le(Zf,!1),I=le(y,!0),q=le(y,!1),ne="_mce_caret",de=e=>Sn(e)&&e.id===ne,Ee=(e,t)=>{let o=t;for(;o&&o!==e;){if(de(o))return o;o=o.parentNode}return null},We=e=>J(e.start),gt=e=>Qn(e,"rng"),tn=e=>Qn(e,"id"),Fn=e=>Qn(e,"name"),Rn=e=>ln.isArray(e.start),ro=e=>!Fn(e)&&ct(e.forward)?e.forward:!0,$t=(e,t)=>(Sn(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),nn=(e,t)=>{const o=X.from(nx(e.getRoot(),t.start)),r=X.from(nx(e.getRoot(),t.end));return Bn(o,r,(c,h)=>{const v=e.createRng();return v.setStart(c.container(),c.offset()),v.setEnd(h.container(),h.offset()),{range:v,forward:ro(t)}})},Eo=(e,t)=>{const r=(e.ownerDocument??document).createTextNode(Hi);e.appendChild(r),t.setStart(r,0),t.setEnd(r,0)},Xo=e=>!e.hasChildNodes(),Kn=(e,t)=>q(e).fold(He,o=>(t.setStart(o.container(),o.offset()),t.setEnd(o.container(),o.offset()),!0)),Sr=(e,t,o)=>Xo(t)&&Ee(e,t)?(Eo(t,o),!0):!1,Er=(e,t,o,r)=>{const c=o[t?"start":"end"],h=e.getRoot();if(c){let v=h,T=c[0];for(let k=c.length-1;v&&k>=1;k--){const L=v.childNodes;if(Sr(h,v,r))return!0;if(c[k]>L.length-1)return Sr(h,v,r)?!0:Kn(v,r);v=L[c[k]]}dn(v)&&(T=Math.min(c[0],v.data.length)),Sn(v)&&(T=Math.min(c[0],v.childNodes.length)),t?r.setStart(v,T):r.setEnd(v,T)}return!0},Wo=e=>dn(e)&&e.data.length>0,el=(e,t,o)=>{const r=e.get(o.id+"_"+t),c=r?.parentNode,h=o.keep;if(r&&c){let v,T;if(t==="start"?h?r.hasChildNodes()?(v=r.firstChild,T=1):Wo(r.nextSibling)?(v=r.nextSibling,T=0):Wo(r.previousSibling)?(v=r.previousSibling,T=r.previousSibling.data.length):(v=c,T=e.nodeIndex(r)+1):(v=c,T=e.nodeIndex(r)):h?r.hasChildNodes()?(v=r.firstChild,T=1):Wo(r.previousSibling)?(v=r.previousSibling,T=r.previousSibling.data.length):(v=c,T=e.nodeIndex(r)):(v=c,T=e.nodeIndex(r)),!h){const k=r.previousSibling,L=r.nextSibling;ln.each(ln.grep(r.childNodes),G=>{dn(G)&&(G.data=G.data.replace(/\uFEFF/g,""))});let W;for(;W=e.get(o.id+"_"+t);)e.remove(W,!0);if(dn(L)&&dn(k)&&!ds.browser.isOpera()){const G=k.data.length;k.appendData(L.data),e.remove(L),v=k,T=G}}return X.some(_t(v,T))}else return X.none()},Cm=(e,t)=>{const o=e.createRng();return Er(e,!0,t,o)&&Er(e,!1,t,o)?X.some({range:o,forward:ro(t)}):X.none()},l0=(e,t)=>{const o=el(e,"start",t),r=el(e,"end",t);return Bn(o,r.or(o),(c,h)=>{const v=e.createRng();return v.setStart($t(e,c.container()),c.offset()),v.setEnd($t(e,h.container()),h.offset()),{range:v,forward:ro(t)}})},p1=(e,t)=>X.from(e.select(t.name)[t.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),$b=(e,t)=>{const o=e.dom;if(t){if(Rn(t))return Cm(o,t);if(We(t))return nn(o,t);if(tn(t))return l0(o,t);if(Fn(t))return p1(o,t);if(gt(t))return X.some({range:t.rng,forward:ro(t)})}return X.none()},jr=(e,t,o)=>Mt(e,t,o),ud=(e,t)=>{$b(e,t).each(({range:o,forward:r})=>{e.setRng(o,r)})},wi=e=>Sn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",$u=(e=>t=>e===t)(qr),Wf=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,$c=e=>!Wf(e)&&!$u(e)&&!Ei(e),ww=e=>{const t=[];if(e)for(let o=0;o<e.rangeCount;o++)t.push(e.getRangeAt(o));return t},Ox=e=>Do(e,t=>{const o=gl(t);return o?[_e.fromDom(o)]:[]}),c0=e=>ww(e).length>1,Iu=e=>xt(Ox(e),jh),XD=e=>kt(e,"td[data-mce-selected],th[data-mce-selected]"),MA=(e,t)=>{const o=XD(t);return o.length>0?o:Iu(e)},eo=e=>MA(ww(e.selection.getSel()),_e.fromDom(e.getBody())),jd=(e,t)=>Da(e,"table",t),QD=e=>{const t=e.startContainer,o=e.startOffset;return dn(t)?o===0?X.some(_e.fromDom(t)):X.none():X.from(t.childNodes[o]).map(_e.fromDom)},Cw=e=>{const t=e.endContainer,o=e.endOffset;return dn(t)?o===t.data.length?X.some(_e.fromDom(t)):X.none():X.from(t.childNodes[o-1]).map(_e.fromDom)},BA=e=>ri(e).fold(at([e]),t=>[e].concat(BA(t))),Ib=e=>ai(e).fold(at([e]),t=>rs(t)==="br"?Wu(t).map(o=>[e].concat(Ib(o))).getOr([]):[e].concat(Ib(t))),JD=(e,t)=>Bn(QD(t),Cw(t),(o,r)=>{const c=sn(BA(e),le(ss,o)),h=sn(Ib(e),le(ss,r));return c.isSome()&&h.isSome()}).getOr(!1),LA=(e,t,o,r)=>{const c=o,h=new Ka(o,c),v=Yn(e.schema.getMoveCaretBeforeOnEnterElements(),(k,L)=>!Be(["td","th","table"],L.toLowerCase()));let T=o;do{if(dn(T)&&ln.trim(T.data).length!==0){r?t.setStart(T,0):t.setEnd(T,T.data.length);return}if(v[T.nodeName]){r?t.setStartBefore(T):T.nodeName==="BR"?t.setEndBefore(T):t.setEndAfter(T);return}}while(T=r?h.next():h.prev());c.nodeName==="BODY"&&(r?t.setStart(c,0):t.setEnd(c,c.childNodes.length))},NS=e=>{const t=e.selection.getSel();return qe(t)&&t.rangeCount>0},RS=(e,t)=>{const o=eo(e);o.length>0?Le(o,r=>{const c=r.dom,h=e.dom.createRng();h.setStartBefore(c),h.setEndAfter(c),t(h,!0)}):t(e.selection.getRng(),!1)},PA=(e,t,o)=>{const r=Xm(e,t);o(r),e.moveToBookmark(r)},MS=(e,t)=>e.startContainer===e.endContainer&&e.endOffset-e.startOffset===1&&t(e.startContainer.childNodes[e.startOffset]),Dz=e=>MS(e,ru),_z=e=>MS(e,dn),Oz=e=>MS(e,Op),BS=e=>Qo(e?.nodeType),LS=e=>Sn(e)&&!wi(e)&&!de(e)&&!Hm(e),DB=(e,t)=>{if(LS(t)&&!/^(TD|TH)$/.test(t.nodeName)){const o=e.getAttrib(t,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},_B=(e,t,o)=>{const{selection:r,dom:c}=e,h=r.getNode(),v=na(h);PA(r,!0,()=>{t()}),v&&na(h)&&c.isChildOf(h,e.getBody())?e.selection.select(h):o(r.getStart())&&OB(c,r)},OB=(e,t)=>{const o=t.getRng(),{startContainer:r,startOffset:c}=o,h=t.getNode();if(!DB(e,h)&&Sn(r)){const v=r.childNodes,T=e.getRoot();let k;if(c<v.length){const L=v[c];k=new Ka(L,e.getParent(L,e.isBlock)??T)}else{const L=v[v.length-1];k=new Ka(L,e.getParent(L,e.isBlock)??T),k.next(!0)}for(let L=k.current();L;L=k.next()){if(e.getContentEditable(L)==="false")return;if(dn(L)&&!e_(L)){o.setStart(L,0),t.setRng(o);return}}}},NB=(e,t,o)=>{if(e){const r=t?"nextSibling":"previousSibling";for(e=e[r];e;e=e[r])if(Sn(e)||!e_(e))return e}},PS=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Ya(e,t),Sw=(e,t,o)=>e.schema.isValidChild(t,o),e_=(e,t=!1)=>{if(qe(e)&&dn(e)){const o=t?e.data.replace(/ /g,""):e.data;return Ap(o)}else return!1},Nz=e=>qe(e)&&dn(e)&&e.length===0,Rz=(e,t)=>{const o="[data-mce-cef-wrappable]",r=AB(e),c=wu(r)?o:`${o},${r}`;return wl(_e.fromDom(t),c)},RB=(e,t)=>{const o=e.dom;return LS(t)&&o.getContentEditable(t)==="false"&&Rz(e,t)&&o.select('[contenteditable="true"]',t).length===0},Hb=(e,t)=>Re(e)?e(t):(qe(t)&&(e=e.replace(/%(\w+)/g,(o,r)=>t[r]||o)),e),FS=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),FA=(e,t)=>{if(fn(e))return null;{let o=String(e);return(t==="color"||t==="backgroundColor")&&(o=wc(o)),t==="fontWeight"&&e===700&&(o="bold"),t==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},$S=(e,t,o)=>{const r=e.getStyle(t,o);return FA(r,o)},MB=(e,t)=>{let o;return e.getParent(t,r=>Sn(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},$A=(e,t,o)=>e.getParents(t,o,e.getRoot()),t_=(e,t,o)=>{const r=e.formatter.get(t);return qe(r)&&Ke(r,o)},IA=(e,t)=>t_(e,t,r=>{const c=h=>Re(h)||h.length>1&&h.charAt(0)==="%";return Ke(["styles","attributes"],h=>No(r,h).exists(v=>{const T=Xe(v)?v:vo(v);return Ke(T,c)}))}),BB=(e,t,o)=>{const r=["inline","block","selector","attributes","styles","classes"],c=h=>Yn(h,(v,T)=>Ke(r,k=>k===T));return t_(e,t,h=>{const v=c(h);return t_(e,o,T=>{const k=c(T);return La(v,k)})})},u0=e=>ls(e,"block"),Mz=e=>u0(e)&&e.wrapper===!0,Bz=e=>u0(e)&&e.wrapper!==!0,Kg=e=>ls(e,"selector"),hu=e=>ls(e,"inline"),cne=e=>Kg(e)&&hu(e)&&qt(No(e,"mixed"),!0),n_=e=>Kg(e)&&e.expand!==!1&&!hu(e),une=e=>{const t=[];let o=e;for(;o;){if(dn(o)&&o.data!==Hi||o.childNodes.length>1)return[];Sn(o)&&t.push(o),o=o.firstChild}return t},LB=e=>une(e).length>0,o_=e=>de(e.dom)&&LB(e.dom),IS=wi,PB=$A,Ja=e_,s_=PS,HA=e=>la(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,HS=(e,t)=>{let o=t;for(;o;){if(Sn(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:t;o=o.parentNode}return t},b1=(e,t,o,r)=>{const c=t.data;if(e){for(let h=o;h>0;h--)if(r(c.charAt(h-1)))return h}else for(let h=o;h<c.length;h++)if(r(c.charAt(h)))return h;return-1},zA=(e,t,o)=>b1(e,t,o,r=>$u(r)||Wf(r)),Ew=(e,t,o)=>b1(e,t,o,$c),r_=(e,t,o,r,c,h)=>{let v;const T=e.getParent(o,G=>lm(G)||e.isBlock(G)),k=qe(T)?T:t,L=(G,Q,ce)=>{const De=du(e),ge=c?De.backwards:De.forwards;return X.from(ge(G,Q,(Ae,ot)=>IS(Ae.parentNode)?-1:(v=Ae,ce(c,Ae,ot)),k))};return L(o,r,zA).bind(G=>h?L(G.container,G.offset+(c?-1:0),Ew):X.some(G)).orThunk(()=>v?X.some({container:v,offset:c?0:v.length}):X.none())},FB=(e,t,o,r,c)=>{const h=r[c];dn(r)&&wu(r.data)&&h&&(r=h);const v=PB(e,r);for(let T=0;T<v.length;T++)for(let k=0;k<t.length;k++){const L=t[k];if(!(qe(L.collapsed)&&L.collapsed!==o.collapsed)&&Kg(L)&&e.is(v[T],L.selector))return v[T]}return r},$B=(e,t,o,r)=>{let c=o;const h=e.getRoot(),v=t[0];if(u0(v)&&(c=v.wrapper?null:e.getParent(o,v.block,h)),!c){const T=e.getParent(o,"LI,TD,TH,SUMMARY")??h;c=e.getParent(dn(o)?o.parentNode:o,k=>k!==h&&s_(e.schema,k),T)}if(c&&u0(v)&&v.wrapper&&(c=PB(e,c,"ul,ol").reverse()[0]||c),!c)for(c=o;c&&c[r]&&!e.isBlock(c[r])&&(c=c[r],!FS(c,"br")););return c||o},a_=(e,t,o,r)=>{const c=o.parentNode;return qe(o[r])?!1:c===t||fn(c)||e.isBlock(c)?!0:a_(e,t,c,r)},jA=(e,t,o,r,c,h)=>{let v=o;const T=c?"previousSibling":"nextSibling",k=e.getRoot();if(dn(o)&&!Ja(o)&&(c?r>0:r<o.data.length))return o;for(;v;){if(lm(v))return o;if(!t[0].block_expand&&e.isBlock(v))return h?v:o;for(let L=v[T];L;L=L[T]){const W=dn(L)&&!a_(e,k,L,T);if(!IS(L)&&!HA(L)&&!Ja(L,W))return v}if(v===k||v.parentNode===k){o=v;break}v=v.parentNode}return o},VA=e=>IS(e.parentNode)||IS(e),y1=(e,t,o,r={})=>{const{includeTrailingSpace:c=!1,expandToBlock:h=!0}=r,v=e.getParent(t.commonAncestorContainer,ce=>lm(ce)),T=qe(v)?v:e.getRoot();let{startContainer:k,startOffset:L,endContainer:W,endOffset:G}=t;const Q=o[0];return Sn(k)&&k.hasChildNodes()&&(k=zg(k,L),dn(k)&&(L=0)),Sn(W)&&W.hasChildNodes()&&(W=zg(W,t.collapsed?G:G-1),dn(W)&&(G=W.data.length)),k=HS(e,k),W=HS(e,W),VA(k)&&(k=IS(k)?k:k.parentNode,t.collapsed?k=k.previousSibling||k:k=k.nextSibling||k,dn(k)&&(L=t.collapsed?k.length:0)),VA(W)&&(W=IS(W)?W:W.parentNode,t.collapsed?W=W.nextSibling||W:W=W.previousSibling||W,dn(W)&&(G=t.collapsed?0:W.length)),t.collapsed&&(r_(e,T,k,L,!0,c).each(({container:ge,offset:Ae})=>{k=ge,L=Ae}),r_(e,T,W,G,!1,c).each(({container:ge,offset:Ae})=>{W=ge,G=Ae})),(hu(Q)||Q.block_expand)&&((!hu(Q)||!dn(k)||L===0)&&(k=jA(e,o,k,L,!0,h)),(!hu(Q)||!dn(W)||G===W.data.length)&&(W=jA(e,o,W,G,!1,h))),n_(Q)&&(k=FB(e,o,t,k,"previousSibling"),W=FB(e,o,t,W,"nextSibling")),(u0(Q)||Kg(Q))&&(k=$B(e,o,k,"previousSibling"),W=$B(e,o,W,"nextSibling"),u0(Q)&&(e.isBlock(k)||(k=jA(e,o,k,L,!0,h),dn(k)&&(L=0)),e.isBlock(W)||(W=jA(e,o,W,G,!1,h),dn(W)&&(G=W.data.length)))),Sn(k)&&k.parentNode&&(L=e.nodeIndex(k),k=k.parentNode),Sn(W)&&W.parentNode&&(G=e.nodeIndex(W)+1,W=W.parentNode),{startContainer:k,startOffset:L,endContainer:W,endOffset:G}},Yg=(e,t,o)=>{const r=t.startOffset,c=zg(t.startContainer,r),h=t.endOffset,v=zg(t.endContainer,h-1),T=ge=>{const Ae=ge[0];dn(Ae)&&Ae===c&&r>=Ae.data.length&&ge.splice(0,1);const ot=ge[ge.length-1];return h===0&&ge.length>0&&ot===v&&dn(ot)&&ge.splice(ge.length-1,1),ge},k=(ge,Ae,ot)=>{const rt=[];for(;ge&&ge!==ot;ge=ge[Ae])rt.push(ge);return rt},L=(ge,Ae)=>e.getParent(ge,ot=>ot.parentNode===Ae,Ae),W=(ge,Ae,ot)=>{const rt=ot?"nextSibling":"previousSibling";for(let ut=ge,Pt=ut.parentNode;ut&&ut!==Ae;ut=Pt){Pt=ut.parentNode;const en=k(ut===ge?ut:ut[rt],rt);en.length&&(ot||en.reverse(),o(T(en)))}};if(c===v)return o(T([c]));const G=e.findCommonAncestor(c,v)??e.getRoot();if(e.isChildOf(c,v))return W(c,G,!0);if(e.isChildOf(v,c))return W(v,G);const Q=L(c,G)||c,ce=L(v,G)||v;W(c,Q,!0);const De=k(Q===c?Q:Q.nextSibling,"nextSibling",ce===v?ce.nextSibling:ce);De.length&&o(T(De)),W(v,ce)},Nx=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"],IB=e=>xs(e)&&yi(e)===Hi,Lz=(e,t,o,r)=>Qc(t).fold(()=>"skipping",c=>r==="br"||IB(t)?"valid":Vv(t)?"existing":de(t.dom)?"caret":Ke(Nx,h=>wl(t,h))?"valid-block":!Sw(e,o,r)||!Sw(e,rs(c),o)?"invalid-child":"valid"),Pz=(e,t)=>{const o=y1(e.dom,t,[{inline:"span"}]);t.setStart(o.startContainer,o.startOffset),t.setEnd(o.endContainer,o.endOffset),e.selection.setRng(t)},HB=(e,t,o,r,c,h)=>{const{uid:v=t,...T}=o;pc(e,Hh()),Or(e,`${hm()}`,v),Or(e,`${sd()}`,r);const{attributes:k={},classes:L=[]}=c(v,T);if(Wa(e,k),Pm(e,L),h){L.length>0&&Or(e,`${ca()}`,L.join(","));const W=Hn(k);W.length>0&&Or(e,`${Q0()}`,W.join(","))}},Fz=e=>{aa(e,Hh()),li(e,`${hm()}`),li(e,`${sd()}`),li(e,`${Wp()}`);const t=dl(e,`${Q0()}`).map(r=>r.split(",")).getOr([]),o=dl(e,`${ca()}`).map(r=>r.split(",")).getOr([]);Le(t,r=>li(e,r)),_d(e,o),li(e,`${ca()}`),li(e,`${Q0()}`)},zB=(e,t,o,r,c)=>{const h=_e.fromTag("span",e);return HB(h,t,o,r,c,!1),h},$z=(e,t,o,r,c,h)=>{const v=[],T=zB(e.getDoc(),o,h,r,c),k=Fs(),L=()=>{k.clear()},W=()=>k.get().getOrThunk(()=>{const De=ki(T);return v.push(De),k.set(De),De}),G=De=>{Le(De,Q)},Q=De=>{switch(Lz(e,De,"span",rs(De))){case"invalid-child":{L();const Ae=ma(De);G(Ae),L();break}case"valid-block":{L(),HB(De,o,h,r,c,!0);break}case"valid":{const Ae=W();Ml(De,Ae);break}}},ce=De=>{const ge=tt(De,_e.fromDom);G(ge)};return Yg(e.dom,t,De=>{L(),ce(De)}),v},jB=(e,t,o,r)=>{e.undoManager.transact(()=>{const c=e.selection,h=c.getRng(),v=eo(e).length>0,T=us("mce-annotation");if(h.collapsed&&!v&&Pz(e,h),c.getRng().collapsed&&!v){const k=zB(e.getDoc(),T,r,t,o.decorate);nf(k,qr),c.getRng().insertNode(k.dom),c.select(k.dom)}else PA(c,!1,()=>{RS(e,k=>{$z(e,k,T,t,o.decorate,r)})})})},VB=e=>{const t=Gp();qp(e,t);const o=zh(e,t),r=Pa("span"),c=h=>{Le(h,v=>{r(v)?Gl(v):Fz(v)})};return{register:(h,v)=>{t.register(h,v)},annotate:(h,v)=>{t.lookup(h).each(T=>{jB(e,h,T,v)})},annotationChanged:(h,v)=>{o.addListener(h,v)},remove:h=>{pb(e,X.some(h)).each(({elements:v})=>{const T=e.selection.getBookmark();c(v),e.selection.moveToBookmark(T)})},removeAll:h=>{const v=e.selection.getBookmark();Oo(If(e,h),(T,k)=>{c(T)}),e.selection.moveToBookmark(v)},getAll:h=>{const v=If(e,h);return ci(v,T=>tt(T,k=>k.dom))}}},Tw=e=>({getBookmark:le(jr,e),moveToBookmark:le(ud,e)});Tw.isBookmarkNode=wi;const UB=(e,t,o)=>o.collapsed?!1:Ke(o.getClientRects(),r=>qv(r,e,t)),Iz=(e,t)=>{const o=xs(t)?yi(t).length:ma(t).length+1;return e>o?o:e<0?0:e},Hz=e=>Oh.range(e.start,Iz(e.soffset,e.start),e.finish,Iz(e.foffset,e.finish)),Ic=(e,t)=>!eb(t.dom)&&(mc(e,t)||ss(e,t)),zS=e=>t=>Ic(e,t.start)&&Ic(e,t.finish),Hu=e=>e.inline||ds.browser.isFirefox(),Xg=e=>Oh.range(_e.fromDom(e.startContainer),e.startOffset,_e.fromDom(e.endContainer),e.endOffset),zz=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?X.none():X.from(t.getRangeAt(0))).map(Xg)},ZB=e=>{const t=Zu(e);return zz(t.dom).filter(zS(e))},jz=(e,t)=>X.from(t).filter(zS(e)).map(Hz),i_=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),X.some(t)}catch{return X.none()}},UA=e=>{const t=Hu(e)?ZB(_e.fromDom(e.getBody())):X.none();e.bookmark=t.isSome()?t:e.bookmark},ZA=e=>(e.bookmark?e.bookmark:X.none()).bind(o=>jz(_e.fromDom(e.getBody()),o)).bind(i_),Vz=e=>{ZA(e).each(t=>e.selection.setRng(t))},WB={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},oh=(e,t)=>(Qo(t)||(t=0),window.setTimeout(e,t)),pf=(e,t)=>(Qo(t)||(t=0),window.setInterval(e,t)),Qg={setEditorTimeout:(e,t,o)=>oh(()=>{e.removed||t()},o),setEditorInterval:(e,t,o)=>{const r=pf(()=>{e.removed?window.clearInterval(r):t()},o);return r}},d0=e=>e.type==="nodechange"&&e.selectionChange,l_=(e,t)=>{const o=()=>{t.throttle()};hs.DOM.bind(document,"mouseup",o),e.on("remove",()=>{hs.DOM.unbind(document,"mouseup",o)})},Uz=(e,t)=>{e.on("mouseup touchend",o=>{t.throttle()})},Zz=(e,t)=>{Uz(e,t),e.on("keyup NodeChange AfterSetSelectionRange",o=>{d0(o)||UA(e)})},qB=e=>{const t=An(()=>{UA(e)},0);e.on("init",()=>{e.inline&&l_(e,t),Zz(e,t)}),e.on("remove",()=>{t.cancel()})};let Aw;const WA=hs.DOM,Wz=e=>Sn(e)&&WB.isEditorUIElement(e),jS=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},qA=(e,t)=>{const o=Gy(e);return WA.getParent(t,c=>Wz(c)||(o?e.dom.is(c,o):!1))!==null},c_=e=>{try{const t=ra(_e.fromDom(e.getElement()));return Rl(t).fold(()=>document.body,o=>o.dom)}catch{return document.body}},qz=(e,t)=>{const o=t.editor;qB(o);const r=(c,h)=>{if(wx(c)&&c.inline!==!0){const v=_e.fromDom(c.getContainer());h(v,"tox-edit-focus")}};o.on("focusin",()=>{const c=e.focusedEditor;jS(c_(o))&&r(o,pc),c!==o&&(c&&c.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:c}),o.focus(!0))}),o.on("focusout",()=>{Qg.setEditorTimeout(o,()=>{const c=e.focusedEditor;(!jS(c_(o))||c!==o)&&r(o,aa),!qA(o,c_(o))&&c===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Aw||(Aw=c=>{const h=e.activeEditor;h&&ku(c).each(v=>{const T=v;T.ownerDocument===document&&T!==document.body&&!qA(h,T)&&e.focusedEditor===h&&(h.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},WA.bind(document,"focusin",Aw))},Gz=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Aw&&(WA.unbind(document,"focusin",Aw),Aw=null)},GB=e=>{e.on("AddEditor",le(qz,e)),e.on("RemoveEditor",le(Gz,e))},u_=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="true"),KB=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="false")!==null,d_=e=>e.collapsed?X.from(zg(e.startContainer,e.startOffset)).map(_e.fromDom):X.none(),Kz=(e,t)=>d_(t).bind(o=>e1(o)?X.some(o):mc(e,o)?X.none():X.some(e)),Yz=(e,t)=>{Kz(_e.fromDom(e.getBody()),t).bind(o=>I(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},f_=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},Xz=e=>Js(e)||Du(e).isSome(),YB=e=>qe(e.iframeElement)&&Js(_e.fromDom(e.iframeElement)),Qz=e=>{const t=e.getBody();return t&&Xz(_e.fromDom(t))},Jz=e=>{const t=ra(_e.fromDom(e.getElement()));return Rl(t).filter(o=>!jS(o.dom)&&qA(e,o.dom)).isSome()},kw=e=>e.inline?Qz(e):YB(e),XB=e=>kw(e)||Jz(e),fne=e=>{const t=e.selection,o=e.getBody();let r=t.getRng();e.quirks.refreshContentEditable();const c=v=>{ZA(v).each(T=>{v.selection.setRng(T),r=T})};!kw(e)&&e.hasEditableRoot()&&c(e);const h=u_(e,t.getNode());if(h&&e.dom.isChildOf(h,o)){KB(e,h)||f_(o),f_(h),e.hasEditableRoot()||c(e),Yz(e,r),GA(e);return}e.inline||(ds.browser.isOpera()||f_(o),e.getWin().focus()),(ds.browser.isFirefox()||e.inline)&&(f_(o),Yz(e,r)),GA(e)},GA=e=>e.editorManager.setActive(e),QB=(e,t)=>{e.removed||(t?GA(e):fne(e))},Ln={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Ln.metaKeyPressed(e),metaKeyPressed:e=>ds.os.isMacOS()||ds.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Rx="data-mce-selected",ej=`table,img,figure.image,hr,video,span.mce-preview-object,details,${vy}`,tj=Math.abs,m_=Math.round,JB={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},nj=e=>e.type==="longpress"||e.type.indexOf("touch")===0,oj=(e,t)=>{const o=t.dom,r=t.getDoc(),c=document,h=t.getBody();let v,T,k,L,W,G,Q,ce,De,ge,Ae,ot,rt,ut,Pt;const en=Ht=>qe(Ht)&&(Od(Ht)||o.is(Ht,"figure.image")),Nn=Ht=>Nd(Ht)||o.hasClass(Ht,"mce-preview-object"),io=(Ht,En)=>{if(nj(Ht)){const Xn=Ht.touches[0];return en(Ht.target)&&!UB(Xn.clientX,Xn.clientY,En)}else return en(Ht.target)&&!UB(Ht.clientX,Ht.clientY,En)},Bt=Ht=>{const En=Ht.target;io(Ht,t.selection.getRng())&&!Ht.isDefaultPrevented()&&t.selection.select(En)},Ct=Ht=>o.hasClass(Ht,"mce-preview-object")&&qe(Ht.firstElementChild)?[Ht,Ht.firstElementChild]:o.is(Ht,"figure.image")?[Ht.querySelector("img")]:[Ht],Ft=Ht=>{const En=iA(t);return!En||t.mode.isReadOnly()||Ht.getAttribute("data-mce-resize")==="false"||Ht===t.getBody()?!1:o.hasClass(Ht,"mce-preview-object")&&qe(Ht.firstElementChild)?wl(_e.fromDom(Ht.firstElementChild),En):wl(_e.fromDom(Ht),En)},On=(Ht,En)=>{if(Nn(En))return Ht.create("img",{src:ds.transparentSrc});if(iu(En)){const Bs=Co(L.name,"n")?gs:Wr,Cs=En.cloneNode(!0);return Bs(Ht.select("tr",Cs)).each(Zr=>{const km=Ht.select("td,th",Zr);Ht.setStyle(Zr,"height",null),Le(km,dp=>Ht.setStyle(dp,"height",null))}),Cs}else return En.cloneNode(!0)},Bo=(Ht,En,Xn)=>{Ht[En]=Xn;const Bs=400;if(Ht.width>Bs&&!(En==="width"&&Xn<Bs))Ht[En]=Xn,o.setStyle(Ht,En,Xn);else{const Cs=En==="height"?Bs*(ge??1):Bs;Ht[En]=Cs,o.setStyle(Ht,En,Cs)}},Lo=(Ht,En,Xn)=>{if(qe(Xn)){const Bs=Ct(Ht);Le(Bs,Cs=>{Rp(Cs)?Bo(Cs,En,Xn):Cs.style[En]||!t.schema.isValid(Cs.nodeName.toLowerCase(),En)?o.setStyle(Cs,En,Xn):o.setAttrib(Cs,En,""+Xn)})}},Ws=(Ht,En,Xn)=>{Lo(Ht,"width",En),Lo(Ht,"height",Xn)},Pr=Ht=>{let En,Xn,Bs,Cs,Zr;En=Ht.screenX-G,Xn=Ht.screenY-Q,ot=En*L[2]+ce,rt=Xn*L[3]+De,ot=ot<5?5:ot,rt=rt<5?5:rt,(en(v)||Nn(v)||Rp(v))&&CD(t)!==!1?Bs=!Ln.modifierPressed(Ht):Bs=Ln.modifierPressed(Ht),Bs&&(tj(En)>tj(Xn)?(rt=m_(ot*ge),ot=m_(rt/ge)):(ot=m_(rt/ge),rt=m_(ot*ge))),Ws(T,ot,rt),Cs=L.startPos.x+En,Zr=L.startPos.y+Xn,Cs=Cs>0?Cs:0,Zr=Zr>0?Zr:0,o.setStyles(k,{left:Cs,top:Zr,display:"block"}),k.innerHTML=ot+" &times; "+rt,En=h.scrollWidth-ut,Xn=h.scrollHeight-Pt,En+Xn!==0&&o.setStyles(k,{left:Cs-En,top:Zr-Xn}),Ae||($T(t,v,ce,De,"corner-"+L.name),Ae=!0)},Ca=()=>{const Ht=Ae;Ae=!1,Ht&&(Lo(v,"width",ot),Lo(v,"height",rt)),o.unbind(r,"mousemove",Pr),o.unbind(r,"mouseup",Ca),c!==r&&(o.unbind(c,"mousemove",Pr),o.unbind(c,"mouseup",Ca)),o.remove(T),o.remove(k),o.remove(W),ti(v),Ht&&(KC(t,v,ot,rt,"corner-"+L.name),o.setAttrib(v,"style",o.getAttrib(v,"style"))),t.nodeChanged()},ti=Ht=>{_r();const En=o.getPos(Ht,h),Xn=En.x,Bs=En.y,Cs=Ht.getBoundingClientRect(),Zr=Cs.width||Cs.right-Cs.left,km=Cs.height||Cs.bottom-Cs.top;v!==Ht&&(Am(),v=Ht,ot=rt=0);const dp=t.dispatch("ObjectSelected",{target:Ht});Ft(Ht)&&!dp.isDefaultPrevented()?Oo(JB,(dg,fh)=>{const Tv=Yf=>{const ry=Ct(v)[0];G=Yf.screenX,Q=Yf.screenY,ce=ry.clientWidth,De=ry.clientHeight,ge=De/ce,L=dg,L.name=fh,L.startPos={x:Zr*dg[0]+Xn,y:km*dg[1]+Bs},ut=h.scrollWidth,Pt=h.scrollHeight,W=o.add(h,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(W,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),T=On(o,v),o.addClass(T,"mce-clonedresizable"),o.setAttrib(T,"data-mce-bogus","all"),T.contentEditable="false",o.setStyles(T,{left:Xn,top:Bs,margin:0}),Ws(T,Zr,km),T.removeAttribute(Rx),h.appendChild(T),o.bind(r,"mousemove",Pr),o.bind(r,"mouseup",Ca),c!==r&&(o.bind(c,"mousemove",Pr),o.bind(c,"mouseup",Ca)),k=o.add(h,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ce+" &times; "+De)};let Wd=o.get("mceResizeHandle"+fh);Wd&&o.remove(Wd),Wd=o.add(h,"div",{id:"mceResizeHandle"+fh,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+fh+"-resize; margin:0; padding:0"}),o.bind(Wd,"mousedown",Yf=>{Yf.stopImmediatePropagation(),Yf.preventDefault(),Tv(Yf)}),dg.elm=Wd,o.setStyles(Wd,{left:Zr*dg[0]+Xn-Wd.offsetWidth/2,top:km*dg[1]+Bs-Wd.offsetHeight/2})}):Am(!1)},Vc=An(ti,0),Am=(Ht=!0)=>{Vc.cancel(),_r(),v&&Ht&&v.removeAttribute(Rx),Oo(JB,(En,Xn)=>{const Bs=o.get("mceResizeHandle"+Xn);Bs&&(o.unbind(Bs),o.remove(Bs))})},$n=(Ht,En)=>o.isChildOf(Ht,En),go=Ht=>{if(Ae||t.removed||t.composing)return;const En=Ht.type==="mousedown"?Ht.target:e.getNode(),Xn=El(_e.fromDom(En),ej).map(Cs=>Cs.dom).filter(Cs=>o.isEditable(Cs.parentElement)||Cs.nodeName==="IMG"&&o.isEditable(Cs)).getOrUndefined(),Bs=qe(Xn)?o.getAttrib(Xn,Rx,"1"):"1";if(Le(o.select(`img[${Rx}],hr[${Rx}]`),Cs=>{Cs.removeAttribute(Rx)}),qe(Xn)&&$n(Xn,h)&&XB(t)){br();const Cs=e.getStart(!0);if($n(Cs,Xn)&&$n(e.getEnd(!0),Xn)){o.setAttrib(Xn,Rx,Bs),Vc.throttle(Xn);return}}Am()},_r=()=>{Oo(JB,Ht=>{Ht.elm&&(o.unbind(Ht.elm),delete Ht.elm)})},br=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{br(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",go),t.on("keyup compositionend",Ht=>{v&&v.nodeName==="TABLE"&&go(Ht)}),t.on("hide blur",Am),t.on("contextmenu longpress",Bt,!0)}),t.on("remove",_r),{isResizable:Ft,showResizeRect:ti,hideResizeRect:Am,updateResizeRect:go,destroy:()=>{Vc.cancel(),v=T=W=null}}},e6=(e,t,o)=>{const r=Zu(_e.fromDom(o));return J1(r.dom,e,t).map(c=>{const h=o.createRange();return h.setStart(c.start.dom,c.soffset),h.setEnd(c.finish.dom,c.foffset),h}).getOrUndefined()},zb=(e,t)=>qe(e)&&qe(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,sj=(e,t,o)=>{let r=e;for(;r&&r!==t;){if(o(r))return r;r=r.parentNode}return null},h_=(e,t,o)=>sj(e,t,o)!==null,t6=(e,t,o)=>h_(e,t,r=>r.nodeName===o),n6=(e,t)=>ad(e)&&!h_(e,t,de),g_=(e,t,o)=>{const r=t.parentNode;if(r){const c=new Ka(t,e.getParent(r,e.isBlock)||e.getRoot());let h;for(;h=c[o?"prev":"next"]();)if(la(h))return!0}return!1},p_=(e,t)=>e.previousSibling?.nodeName===t,mne=(e,t)=>{let o=t;for(;o&&o!==e;){if(na(o))return!0;o=o.parentNode}return!1},b_=(e,t,o,r,c)=>{const h=e.getRoot(),v=e.schema.getNonEmptyElements(),T=c.parentNode;let k,L;if(!T)return X.none();const W=e.getParent(T,e.isBlock)||h;if(r&&la(c)&&t&&e.isEmpty(W))return X.some(_t(T,e.nodeIndex(c)));const G=new Ka(c,W);for(;L=G[r?"prev":"next"]();){if(e.getContentEditableParent(L)==="false"||n6(L,h))return X.none();if(dn(L)&&L.data.length>0)return t6(L,h,"A")?X.none():X.some(_t(L,r?L.data.length:0));if(e.isBlock(L)||v[L.nodeName.toLowerCase()])return X.none();k=L}return ns(k)?X.none():o&&k?X.some(_t(k,0)):X.none()},rj=(e,t,o,r)=>{const c=e.getRoot();let h,v=!1,T=o?r.startContainer:r.endContainer,k=o?r.startOffset:r.endOffset;const L=Sn(T)&&k===T.childNodes.length,W=e.schema.getNonEmptyElements();let G=o;if(ad(T))return X.none();if(Sn(T)&&k>T.childNodes.length-1&&(G=!1),zm(T)&&(T=c,k=0),T===c){if(G&&(h=T.childNodes[k>0?k-1:0],h&&(ad(h)||W[h.nodeName]||iu(h))))return X.none();if(T.hasChildNodes()){if(k=Math.min(!G&&k>0?k-1:k,T.childNodes.length-1),T=T.childNodes[k],k=dn(T)&&L?T.data.length:0,!t&&T===c.lastChild&&iu(T)||mne(c,T)||ad(T)||V0(T))return X.none();if(T.hasChildNodes()&&!iu(T)){h=T;const Q=new Ka(T,c);do{if(na(h)||ad(h)){v=!1;break}if(dn(h)&&h.data.length>0){k=G?0:h.data.length,T=h,v=!0;break}if(W[h.nodeName.toLowerCase()]&&!by(h)){k=e.nodeIndex(h),T=h.parentNode,G||k++,v=!0;break}}while(h=G?Q.next():Q.prev())}}}return t&&(dn(T)&&k===0&&b_(e,L,t,!0,T).each(Q=>{T=Q.container(),k=Q.offset(),v=!0}),Sn(T)&&(h=T.childNodes[k],h||(h=T.childNodes[k-1]),h&&la(h)&&!p_(h,"A")&&!g_(e,h,!1)&&!g_(e,h,!0)&&b_(e,L,t,!0,h).each(Q=>{T=Q.container(),k=Q.offset(),v=!0}))),G&&!t&&dn(T)&&k===T.data.length&&b_(e,L,t,!1,T).each(Q=>{T=Q.container(),k=Q.offset(),v=!0}),v&&T?X.some(_t(T,k)):X.none()},KA=(e,t)=>{const o=t.collapsed,r=t.cloneRange(),c=_t.fromRangeStart(t);return rj(e,o,!0,r).each(h=>{(!o||!_t.isAbove(c,h))&&r.setStart(h.container(),h.offset())}),o||rj(e,o,!1,r).each(h=>{r.setEnd(h.container(),h.offset())}),o&&r.collapse(!0),zb(t,r)?X.none():X.some(r)},YA=(e,t)=>e.splitText(t),Dw=e=>{let t=e.startContainer,o=e.startOffset,r=e.endContainer,c=e.endOffset;if(t===r&&dn(t)){if(o>0&&o<t.data.length)if(r=YA(t,o),t=r.previousSibling,c>o){c=c-o;const h=YA(r,c).previousSibling;t=r=h,c=h.data.length,o=0}else c=0}else if(dn(t)&&o>0&&o<t.data.length&&(t=YA(t,o),o=0),dn(r)&&c>0&&c<r.data.length){const h=YA(r,c).previousSibling;r=h,c=h.data.length}return{startContainer:t,startOffset:o,endContainer:r,endOffset:c}},f0=e=>({walk:(h,v)=>Yg(e,h,v),split:Dw,expand:(h,v={type:"word"})=>{if(v.type==="word"){const T=y1(e,h,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),k=e.createRng();return k.setStart(T.startContainer,T.startOffset),k.setEnd(T.endContainer,T.endOffset),k}return h},normalize:h=>KA(e,h).fold(He,v=>(h.setStart(v.startContainer,v.startOffset),h.setEnd(v.endContainer,v.endOffset),!0))});f0.compareRanges=zb,f0.getCaretRangeFromPoint=e6,f0.getSelectedNode=gl,f0.getNode=zg;const aj=(e,t)=>e.view(t).fold(at([]),r=>{const c=e.owner(r),h=aj(e,c);return[r].concat(h)}),hne=(e,t)=>{const o=t.owner(e);return aj(t,o)};var pne=Object.freeze({__proto__:null,view:e=>(e.dom===document?X.none():X.from(e.dom.defaultView?.frameElement)).map(_e.fromDom),owner:e=>Xc(e)});const ij=e=>{const t=Cl(),o=Tg(t),r=hne(e,pne),c=rm(e),h=Dt(r,(v,T)=>{const k=rm(T);return{left:v.left+k.left,top:v.top+k.top}},{left:0,top:0});return gc(h.left+c.left+o.left,h.top+c.top+o.top)},XA=e=>rs(e)==="textarea",lj=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),o6=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},bne=(e,t)=>{const o=ma(e);if(o.length===0||XA(e))return{element:e,offset:t};if(t<o.length&&!XA(o[t]))return{element:o[t],offset:0};{const r=o[o.length-1];return XA(r)?{element:e,offset:t}:rs(r)==="img"?{element:r,offset:1}:xs(r)?{element:r,offset:yi(r).length}:{element:r,offset:ma(r).length}}},s6=(e,t)=>{const o=Nf(e),r=dy(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:t}},r6=(e,t)=>{const o=bne(e,t),r=_e.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Hi+"</span>");return ul(o.element,r),s6(r,()=>ws(r))},cj=e=>s6(_e.fromDom(e),Lt),a6=(e,t,o,r)=>{dj(e,(c,h)=>uj(e,t,o,r),o)},i6=(e,t,o,r,c)=>{const h={elm:r.element.dom,alignToTop:c};if(lj(e,h))return;const v=Tg(t).top;o(e,t,v,r,c),o6(e,h)},uj=(e,t,o,r)=>{const c=_e.fromDom(e.getBody()),h=_e.fromDom(e.getDoc());Eg(c);const v=r6(_e.fromDom(o.startContainer),o.startOffset);i6(e,h,t,v,r),v.cleanup()},l6=(e,t,o,r)=>{const c=_e.fromDom(e.getDoc());i6(e,c,o,cj(t),r)},dj=(e,t,o)=>{const r=o.startContainer,c=o.startOffset,h=o.endContainer,v=o.endOffset;t(_e.fromDom(r),_e.fromDom(h));const T=e.dom.createRng();T.setStart(r,c),T.setEnd(h,v),e.selection.setRng(o)},y_=(e,t,o,r,c)=>{const h=t.pos,v=30;if(r)Ag(h.left,Math.max(0,h.top-v),c);else{const T=h.top-o+t.height+v;Ag(-e.getBody().getBoundingClientRect().left,T,c)}},c6=(e,t,o,r,c,h)=>{const v=r+o,T=c.pos.top,k=c.bottom,L=k-T>=r;T<o?y_(e,c,r,h!==!1,t):T>v?y_(e,c,r,L?h!==!1:h===!0,t):k>v&&!L&&y_(e,c,r,h===!0,t)},u6=(e,t,o,r,c)=>{const h=Zu(t).dom.innerHeight;c6(e,t,o,h,r,c)},d6=(e,t,o,r,c)=>{const h=Zu(t).dom.innerHeight;c6(e,t,o,h,r,c);const v=ij(r.element),T=Ru(window);v.top<T.y?tu(r.element,c!==!1):v.top>T.bottom&&tu(r.element,c===!0)},fj=(e,t,o)=>a6(e,u6,t,o),mj=(e,t,o)=>l6(e,t,u6,o),hj=(e,t,o)=>a6(e,d6,t,o),gj=(e,t,o)=>l6(e,t,d6,o),In=(e,t,o)=>{(e.inline?mj:gj)(e,t,o)},sh=(e,t,o)=>{(e.inline?fj:hj)(e,t,o)},pj=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),f6=(e,t,o,r,c)=>{const h=o?t.startContainer:t.endContainer,v=o?t.startOffset:t.endOffset;return X.from(h).map(_e.fromDom).map(T=>!r||!t.collapsed?Jc(T,c(T,v)).getOr(T):T).bind(T=>fa(T)?X.some(T):Wi(T).filter(fa)).map(T=>T.dom).getOr(e)},QA=(e,t,o=!1)=>f6(e,t,!0,o,(r,c)=>Math.min(om(r),c)),v_=(e,t,o=!1)=>f6(e,t,!1,o,(r,c)=>c>0?c-1:c),x_=(e,t)=>{const o=e;for(;e&&dn(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||o},w_=(e,t)=>{if(!t)return e;let o=t.startContainer,r=t.endContainer;const c=t.startOffset,h=t.endOffset;let v=t.commonAncestorContainer;t.collapsed||(o===r&&h-c<2&&o.hasChildNodes()&&(v=o.childNodes[c]),dn(o)&&dn(r)&&(o.length===c?o=x_(o.nextSibling,!0):o=o.parentNode,h===0?r=x_(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(v=o)));const T=dn(v)?v.parentNode:v;return ru(T)?T:e},bj=(e,t,o,r)=>{const c=[],h=e.getRoot(),v=e.getParent(o||QA(h,t,t.collapsed),e.isBlock),T=e.getParent(r||v_(h,t,t.collapsed),e.isBlock);if(v&&v!==h&&c.push(v),v&&T&&v!==T){let k;const L=new Ka(v,h);for(;(k=L.next())&&k!==T;)e.isBlock(k)&&c.push(k)}return T&&v!==T&&T!==h&&c.push(T),c},m6=(e,t,o)=>X.from(t).bind(r=>X.from(r.parentNode).map(c=>{const h=e.nodeIndex(r),v=e.createRng();return v.setStart(c,h),v.setEnd(c,h+1),o&&(LA(e,v,r,!0),LA(e,v,r,!1)),v})),C_=(e,t)=>tt(t,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),yj={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},JA=(e,t,o)=>{const r=o?"lastChild":"firstChild",c=o?"prev":"next";if(e[r])return e[r];if(e!==t){let h=e[c];if(h)return h;for(let v=e.parent;v&&v!==t;v=v.parent)if(h=v[c],h)return h}},vj=e=>{const t=e.value??"";if(!Ap(t))return!1;const o=e.parent;return!(o&&(o.name!=="span"||o.attr("style"))&&/^[ ]+$/.test(t))},h6=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Hc{static create(t,o){const r=new Hc(t,yj[t]||1);return o&&Oo(o,(c,h)=>{r.attr(h,c)}),r}name;type;attributes;value;parent;firstChild;lastChild;next;prev;raw;constructor(t,o){this.name=t,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(t){const o=this;return t.parent&&t.remove(),o.insert(t,o),o.remove(),o}attr(t,o){const r=this;if(!J(t))return qe(t)&&Oo(t,(h,v)=>{r.attr(v,h)}),r;const c=r.attributes;if(c){if(o!==void 0){if(o===null){if(t in c.map){delete c.map[t];let h=c.length;for(;h--;)if(c[h].name===t)return c.splice(h,1),r}return r}if(t in c.map){let h=c.length;for(;h--;)if(c[h].name===t){c[h].value=o;break}}else c.push({name:t,value:o});return c.map[t]=o,r}return c.map[t]}}clone(){const t=this,o=new Hc(t.name,t.type),r=t.attributes;if(r){const c=[];c.map={};for(let h=0,v=r.length;h<v;h++){const T=r[h];T.name!=="id"&&(c[c.length]={name:T.name,value:T.value},c.map[T.name]=T.value)}o.attributes=c}return o.value=t.value,o}wrap(t){const o=this;return o.parent&&(o.parent.insert(t,o),t.append(o)),o}unwrap(){const t=this;for(let o=t.firstChild;o;){const r=o.next;t.insert(o,t,!0),o=r}t.remove()}remove(){const t=this,o=t.parent,r=t.next,c=t.prev;return o&&(o.firstChild===t?(o.firstChild=r,r&&(r.prev=null)):c&&(c.next=r),o.lastChild===t?(o.lastChild=c,c&&(c.next=null)):r&&(r.prev=c),t.parent=t.next=t.prev=null),t}append(t){const o=this;t.parent&&t.remove();const r=o.lastChild;return r?(r.next=t,t.prev=r,o.lastChild=t):o.lastChild=o.firstChild=t,t.parent=o,t}insert(t,o,r){t.parent&&t.remove();const c=o.parent||this;return r?(o===c.firstChild?c.firstChild=t:o.prev&&(o.prev.next=t),t.prev=o.prev,t.next=o,o.prev=t):(o===c.lastChild?c.lastChild=t:o.next&&(o.next.prev=t),t.next=o.next,t.prev=o,o.next=t),t.parent=c,t}getAll(t){const o=this,r=[];for(let c=o.firstChild;c;c=JA(c,o))c.name===t&&r.push(c);return r}children(){const t=this,o=[];for(let r=t.firstChild;r;r=r.next)o.push(r);return o}empty(){const t=this;if(t.firstChild){const o=[];for(let c=t.firstChild;c;c=JA(c,t))o.push(c);let r=o.length;for(;r--;){const c=o[r];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,o={},r){const c=this;let h=c.firstChild;if(h6(c))return!1;if(h)do{if(h.type===1){if(h.attr("data-mce-bogus"))continue;if(t[h.name]||h6(h))return!1}if(h.type===8||h.type===3&&!vj(h)||h.type===3&&h.parent&&o[h.parent.name]&&Ap(h.value??"")||r&&r(h))return!1}while(h=JA(h,c));return!0}walk(t){return JA(this,null,t)}}const xj=ln.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),g6=e=>J(e.nodeValue)&&e.nodeValue.includes(Hi),p6=e=>`${e.length===0?"":`${tt(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,wj=(e,t)=>t.querySelectorAll(p6(e)),b6=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>g6(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),S_=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(g6(t)){const o=t.parentNode;return o&&Qn(xj,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),ek=e=>b6(e).nextNode()!==null,Cj=e=>S_(e).nextNode()!==null,Sj=(e,t)=>t.querySelector(p6(e))!==null,Ej=(e,t)=>{Le(wj(e,t),o=>{const r=_e.fromDom(o);yr(r,"data-mce-bogus")==="all"?ws(r):Le(e,c=>{Gr(r,c)&&li(r,c)})})},y6=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},Tj=F(y6,b6),Aj=F(y6,S_),v6=(e,t)=>{const o=[{condition:le(Sj,t),action:le(Ej,t)},{condition:ek,action:Tj},{condition:Cj,action:Aj}];let r=e,c=!1;return Le(o,({condition:h,action:v})=>{h(r)&&(c||(r=e.cloneNode(!0),c=!0),v(r))}),r},x6=e=>{const t=kt(e,"[data-mce-bogus]");Le(t,o=>{yr(o,"data-mce-bogus")==="all"?ws(o):Fd(o)?(ul(o,_e.fromText(pi)),ws(o)):Gl(o)})},w6=e=>{const t=kt(e,"input");Le(t,o=>{li(o,"name")})},kj=(e,t)=>{const o=bl(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(r,"")},Dj=(e,t)=>{const o=e.getDoc(),r=ra(_e.fromDom(e.getBody())),c=_e.fromTag("div",o);Or(c,"data-mce-bogus","all"),fl(c,{position:"fixed",left:"-9999999px",top:"0"}),nf(c,t.innerHTML),x6(c),w6(c);const h=Eh(r);Is(h,c);const v=Pc(c.dom.innerText);return ws(c),v},_j=(e,t,o)=>{let r;return t.format==="raw"?r=ln.trim(Pc(v6(o,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?r=Dj(e,o):t.format==="tree"?r=e.serializer.serialize(o,t):r=kj(e,e.serializer.serialize(o,t)),t.format!=="text"&&!Oy(_e.fromDom(o))&&J(r)?ln.trim(r):r},Oj=(e,t)=>X.from(e.getBody()).fold(at(t.format==="tree"?new Hc("body",11):""),o=>_j(e,t,o)),C6=ln.makeMap,E_=e=>{const t=[];e=e||{};const o=e.indent,r=C6(e.indent_before||""),c=C6(e.indent_after||""),h=ed.getEncodeFunc(e.entity_encoding||"raw",e.entities),v=e.element_format!=="xhtml";return{start:(T,k,L)=>{if(o&&r[T]&&t.length>0){const W=t[t.length-1];W.length>0&&W!==`
`&&t.push(`
`)}if(t.push("<",T),k)for(let W=0,G=k.length;W<G;W++){const Q=k[W];t.push(" ",Q.name,'="',h(Q.value,!0),'"')}if(!L||v?t[t.length]=">":t[t.length]=" />",L&&o&&c[T]&&t.length>0){const W=t[t.length-1];W.length>0&&W!==`
`&&t.push(`
`)}},end:T=>{let k;t.push("</",T,">"),o&&c[T]&&t.length>0&&(k=t[t.length-1],k.length>0&&k!==`
`&&t.push(`
`))},text:(T,k)=>{T.length>0&&(t[t.length]=k?T:h(T))},cdata:T=>{t.push("<![CDATA[",T,"]]>")},comment:T=>{t.push("<!--",T,"-->")},pi:(T,k)=>{k?t.push("<?",T," ",h(k),"?>"):t.push("<?",T,"?>"),o&&t.push(`
`)},doctype:T=>{t.push("<!DOCTYPE",T,">",o?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},tv=(e={},t=Ls())=>{const o=E_(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const h=e.validate,v={3:k=>{o.text(k.value??"",k.raw)},8:k=>{o.comment(k.value??"")},7:k=>{o.pi(k.name,k.value)},10:k=>{o.doctype(k.value??"")},4:k=>{o.cdata(k.value??"")},11:k=>{let L=k;if(L=L.firstChild)do T(L);while(L=L.next)}};o.reset();const T=k=>{const L=v[k.type];if(L)L(k);else{const W=k.name,G=W in t.getVoidElements();let Q=k.attributes;if(h&&Q&&Q.length>1){const ce=[];ce.map={};const De=t.getElementRule(k.name);if(De){for(let ge=0,Ae=De.attributesOrder.length;ge<Ae;ge++){const ot=De.attributesOrder[ge];if(ot in Q.map){const rt=Q.map[ot];ce.map[ot]=rt,ce.push({name:ot,value:rt})}}for(let ge=0,Ae=Q.length;ge<Ae;ge++){const ot=Q[ge].name;if(!(ot in ce.map)){const rt=Q.map[ot];ce.map[ot]=rt,ce.push({name:ot,value:rt})}}Q=ce}}if(o.start(W,Q,G),Rg(W))J(k.value)&&o.text(k.value,!0),o.end(W);else if(!G){let ce=k.firstChild;if(ce){(W==="pre"||W==="textarea")&&ce.type===3&&ce.value?.[0]===`
`&&o.text(`
`,!0);do T(ce);while(ce=ce.next)}o.end(W)}}};return c.type===1&&!e.inner?T(c):c.type===3?v[3](c):v[11](c),o.getContent()}}},S6=new Set;Le(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{S6.add(t)});const VS=new Set;Le(["background-color"],t=>{VS.add(t)});const nv=["font","text-decoration","text-emphasis"],tk=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),_w=(e,t)=>Hn(tk(e,t)),Nj=e=>S6.has(e),Rj=e=>VS.has(e),E6=(e,t)=>Ke(_w(e,t),o=>Nj(o)),T6=(e,t)=>E6(e,t)&&Ke(_w(e,t),o=>Rj(o)),Mj=e=>xt(e,t=>Ke(nv,o=>Co(t,o))),Bj=(e,t,o)=>{const r=_w(e,t),c=_w(e,o),h=v=>{const T=e.getStyle(t,v)??"",k=e.getStyle(o,v)??"";return Hr(T)&&Hr(k)&&T!==k};return Ke(r,v=>{const T=k=>Ke(k,L=>L===v);if(!T(c)&&T(nv)){const k=Mj(c);return Ke(k,h)}else return h(v)})},T_=(e,t,o)=>X.from(o.container()).filter(dn).exists(r=>{const c=e?0:-1;return t(r.data.charAt(o.offset()+c))}),A_=le(T_,!0,Wf),nk=le(T_,!1,Wf),Lj=e=>{const t=e.container();return dn(t)&&(t.data.length===0||$g(t.data)&&Tw.isBookmarkNode(t.parentNode))},ov=(e,t)=>o=>AS(e?0:-1,o).filter(t).isSome(),A6=e=>Od(e)&&ka(_e.fromDom(e),"display")==="block",k_=e=>na(e)&&!A2(e),D_=ov(!0,A6),k6=ov(!1,A6),US=ov(!0,Nd),ZS=ov(!1,Nd),WS=ov(!0,iu),__=ov(!1,iu),jb=ov(!0,k_),v1=ov(!1,k_),D6=e=>e.slice(0,-1),Pj=(e,t,o)=>mc(t,e)?D6(cl(e,r=>o(r)||ss(r,t))):[],_6=(e,t)=>Pj(e,t,He),Jg=(e,t)=>[e].concat(_6(e,t)),ok=(e,t,o)=>m(e,t,o,Lj),O6=e=>t=>e.isBlock(rs(t)),O_=(e,t,o)=>sn(Jg(_e.fromDom(t.container()),e),O6(o)),N_=(e,t,o,r)=>ok(e,t.dom,o).forall(c=>O_(t,o,r).fold(()=>!qg(c,o,t.dom),h=>!qg(c,o,t.dom)&&mc(h,_e.fromDom(c.container())))),R_=(e,t,o,r)=>O_(t,o,r).fold(()=>ok(e,t.dom,o).forall(c=>!qg(c,o,t.dom)),c=>ok(e,c.dom,o).isNone()),sk=le(R_,!1),M_=le(R_,!0),N6=le(N_,!1),R6=le(N_,!0),M6=e=>Dx(e).exists(Fd),rk=(e,t,o,r)=>{const c=xt(Jg(_e.fromDom(o.container()),t),v=>r.isBlock(rs(v))),h=gs(c).getOr(t);return Zf(e,h.dom,o).filter(M6)},B_=(e,t,o)=>Dx(t).exists(Fd)||rk(!0,e,t,o).isSome(),ak=(e,t,o)=>kS(t).exists(Fd)||rk(!1,e,t,o).isSome(),B6=le(rk,!1),Fj=le(rk,!0),L6=e=>_t.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),P6=(e,t,o)=>{const r=xt(Jg(_e.fromDom(t.container()),e),c=>o.isBlock(rs(c)));return gs(r).getOr(e)},F6=(e,t,o)=>L6(t)?nk(t):nk(t)||D(P6(e,t,o).dom,t).exists(nk),$6=(e,t,o)=>L6(t)?A_(t):A_(t)||E(P6(e,t,o).dom,t).exists(A_),$j=e=>Be(["pre","pre-wrap"],e),ik=e=>Dx(e).bind(t=>nr(t,fa)).exists(t=>$j(ka(t,"white-space"))),yne=(e,t)=>D(e.dom,t).isNone(),vne=(e,t)=>E(e.dom,t).isNone(),Ij=(e,t,o)=>yne(e,t)||vne(e,t)||sk(e,t,o)||M_(e,t,o)||ak(e,t,o)||B_(e,t,o),xne=e=>qe(e)&&na(e)&&SS(e),I6=(e,t)=>o=>xne(new Ka(o,e)[t]()),dd=(e,t)=>{const o=E(e.dom,t).getOr(t),r=I6(e.dom,"next");return t.isAtEnd()&&(r(t.container())||r(o.container()))},Hj=(e,t)=>{const o=D(e.dom,t).getOr(t),r=I6(e.dom,"prev");return t.isAtStart()&&(r(t.container())||r(o.container()))},zj=(e,t,o)=>ik(t)?!1:Ij(e,t,o)||F6(e,t,o)||$6(e,t,o),qS=(e,t,o)=>ik(t)?!1:sk(e,t,o)||N6(e,t,o)||ak(e,t,o)||F6(e,t,o)||Hj(e,t),jj=e=>{const t=e.container(),o=e.offset();return dn(t)&&o<t.data.length?_t(t,o+1):e},fd=(e,t,o)=>ik(t)?!1:M_(e,t,o)||R6(e,t,o)||B_(e,t,o)||$6(e,t,o)||dd(e,t),H6=(e,t,o)=>qS(e,t,o)||fd(e,jj(t),o),z6=(e,t)=>$u(e.charAt(t)),Vj=(e,t)=>Wf(e.charAt(t)),Uj=e=>{const t=e.container();return dn(t)&&Ir(t.data,qr)},Zj=e=>{const t=e.split("");return tt(t,(o,r)=>$u(o)&&r>0&&r<t.length-1&&$c(t[r-1])&&$c(t[r+1])?" ":o).join("")},Wj=(e,t,o,r)=>{const c=t.data,h=_t(t,0);return!o&&z6(c,0)&&!H6(e,h,r)?(t.data=" "+c.slice(1),!0):o&&Vj(c,0)&&qS(e,h,r)?(t.data=qr+c.slice(1),!0):!1},qj=e=>{const t=e.data,o=Zj(t);return o!==t?(e.data=o,!0):!1},qf=(e,t,o,r)=>{const c=t.data,h=_t(t,c.length-1);return!o&&z6(c,c.length-1)&&!H6(e,h,r)?(t.data=c.slice(0,-1)+" ",!0):o&&Vj(c,c.length-1)&&fd(e,h,r)?(t.data=c.slice(0,-1)+qr,!0):!1},j6=(e,t,o)=>{const r=t.container();if(!dn(r))return X.none();if(Uj(t)){const c=Wj(e,r,!1,o)||qj(r)||qf(e,r,!1,o);return Ts(c,t)}else if(H6(e,t,o)){const c=Wj(e,r,!0,o)||qf(e,r,!0,o);return Ts(c,t)}else return X.none()},V6=e=>{const t=_e.fromDom(e.getBody());e.selection.isCollapsed()&&j6(t,_t.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},U6=(e,t,o,r)=>{if(o===0)return;const c=_e.fromDom(e),h=kd(c,L=>r.isBlock(rs(L))).getOr(c),v=e.data.slice(t,t+o),T=t+o>=e.data.length&&fd(h,_t(e,e.data.length),r),k=t===0&&qS(h,_t(e,0),r);e.replaceData(t,o,z0(v,4,k,T))},lk=(e,t,o)=>{const r=e.data.slice(t),c=r.length-Sf(r).length;U6(e,t,c,o)},ck=(e,t,o)=>{const r=e.data.slice(0,t),c=r.length-uc(r).length;U6(e,t-c,c,o)},uk=(e,t,o,r,c=!0)=>{const h=uc(e.data).length,v=c?e:t,T=c?t:e;return c?v.appendData(T.data):v.insertData(0,T.data),ws(_e.fromDom(T)),r&&lk(v,h,o),v},Gj=(e,t)=>{const o=e.container(),r=e.offset();return!_t.isTextPosition(e)&&o===t.parentNode&&r>_t.before(t).offset()},Kj=(e,t)=>Gj(t,e)?_t(t.container(),t.offset()-1):t,Yj=e=>dn(e)?_t(e,0):_t.before(e),Xj=e=>dn(e)?_t(e,e.data.length):_t.after(e),L_=e=>ya(e.previousSibling)?X.some(Xj(e.previousSibling)):e.previousSibling?q(e.previousSibling):X.none(),Z6=e=>ya(e.nextSibling)?X.some(Yj(e.nextSibling)):e.nextSibling?I(e.nextSibling):X.none(),W6=(e,t)=>X.from(t.previousSibling?t.previousSibling:t.parentNode).bind(o=>D(e,_t.before(o))).orThunk(()=>E(e,_t.after(t))),Qj=(e,t)=>E(e,_t.after(t)).orThunk(()=>D(e,_t.before(t))),wne=(e,t)=>L_(t).orThunk(()=>Z6(t)).orThunk(()=>W6(e,t)),Jj=(e,t)=>Z6(t).orThunk(()=>L_(t)).orThunk(()=>Qj(e,t)),eV=(e,t,o)=>e?Jj(t,o):wne(t,o),Cne=(e,t,o)=>eV(e,t,o).map(le(Kj,o)),q6=(e,t,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),t)})},ar=e=>t=>t.dom===e,GS=(e,t)=>t&&Qn(e.schema.getBlockElements(),rs(t)),Vb=(e,t,o)=>{if(_a(e,t)){const r=_e.fromHtml('<br data-mce-bogus="1">');return o?Le(ma(t),c=>{o_(c)||ws(c)}):ql(t),Is(t,r),X.some(_t.before(r.dom))}else return X.none()},Mx=(e,t,o,r)=>{const c=Wu(e).filter(xs),h=Za(e).filter(xs);return ws(e),Uo(c,h,t,(v,T,k)=>{const L=v.dom,W=T.dom,G=L.data.length;return uk(L,W,o,r),k.container()===W?_t(L,G):k}).orThunk(()=>(r&&(c.each(v=>ck(v.dom,v.dom.length,o)),h.each(v=>lk(v.dom,0,o))),t))},dk=(e,t)=>Qn(e.schema.getTextInlineElements(),rs(t)),x1=(e,t,o,r=!0,c=!1)=>{const h=Cne(t,e.getBody(),o.dom),v=kd(o,le(GS,e),ar(e.getBody())),T=Mx(o,h,e.schema,dk(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):v.bind(k=>Vb(e.schema,k,c)).fold(()=>{r&&q6(e,t,T)},k=>{r&&q6(e,t,X.some(k))})},P_=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,G6=e=>P_.test(e),Bx=(e,t)=>wl(_e.fromDom(t),wD(e))&&!Ya(e.schema,t)&&e.dom.isEditable(t),F_=e=>hs.DOM.getStyle(e,"direction",!0)==="rtl"||G6(e.textContent??""),K6=(e,t,o)=>xt(hs.DOM.getParents(o.container(),"*",t),e),sv=(e,t,o)=>{const r=K6(e,t,o);return X.from(r[r.length-1])},tV=(e,t,o)=>{const r=m1(t,e),c=m1(o,e);return qe(r)&&r===c},nV=e=>Wm(e)||Ig(e),Jh=(e,t)=>{const o=t.container(),r=t.offset();return e?pm(o)?dn(o.nextSibling)?_t(o.nextSibling,0):_t.after(o):Wm(t)?_t(o,r+1):t:pm(o)?dn(o.previousSibling)?_t(o.previousSibling,o.previousSibling.data.length):_t.before(o):Ig(t)?_t(o,r-1):t},Y6=le(Jh,!0),X6=le(Jh,!1),$_=(e,t)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(t),e.off("beforeinput input",o)},Q6=e=>{e.execCommand("delete")},I_=e=>$_(e,"Delete"),oV=e=>$_(e,"ForwardDelete"),Sne=e=>t=>qt(Wi(t),e,ss),sV=e=>Sc(e)||fu(e),H_=(e,t)=>mc(e,t)?nr(t,sV,Sne(e)):X.none(),J6=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},e8=(e,t,o)=>Bn(I(o),q(o),(r,c)=>{const h=Jh(!0,r),v=Jh(!1,c),T=Jh(!1,t);return e?E(o,T).exists(k=>k.isEqual(v)&&t.isEqual(h)):D(o,T).exists(k=>k.isEqual(h)&&t.isEqual(v))}).getOr(!0),t8=e=>(vd(e)?Wu(e):ai(e)).bind(t8).orThunk(()=>X.some(e)),rV=(e,t,o,r=!0)=>{t.deleteContents();const c=t8(o).getOr(o),h=_e.fromDom(e.dom.getParent(c.dom,e.dom.isBlock)??o.dom);if(h.dom===e.getBody()?J6(e,r):_a(e.schema,h,{checkRootAsContent:!1})&&(Vh(h),r&&e.selection.setCursorLocation(h.dom,0)),!ss(o,h)){const v=qt(Wi(h),o)?[]:$s(h);Le(v.concat(ma(o)),T=>{!ss(T,h)&&!mc(T,h)&&_a(e.schema,T)&&ws(T)})}},aV=e=>t=>ss(e,t),Vd=e=>kt(e,"td,th"),iV=(e,t)=>jd(_e.fromDom(e),t),lV=e=>Bn(e.startTable,e.endTable,(t,o)=>{const r=Fo(t,h=>ss(h,o)),c=Fo(o,h=>ss(h,t));return!r&&!c?e:{...e,startTable:r?X.none():e.startTable,endTable:c?X.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),n8=e=>lV(e),Ene=(e,t)=>{const o=iV(e.startContainer,t),r=iV(e.endContainer,t),c=o.isSome(),h=r.isSome(),v=Bn(o,r,ss).getOr(!1);return n8({startTable:o,endTable:r,isStartInTable:c,isEndInTable:h,isSameTable:v,isMultiTable:!v&&c&&h})},z_=(e,t)=>({start:e,end:t}),cV=(e,t,o)=>({rng:e,table:t,cells:o}),KS=gi.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Ow=(e,t)=>El(_e.fromDom(e),"td,th",t),uV=e=>!ss(e.start,e.end),o8=(e,t)=>jd(e.start,t).bind(o=>jd(e.end,t).bind(r=>Ts(ss(o,r),o))),dV=(e,t)=>!uV(e)&&o8(e,t).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),ua=(e,t)=>{const o=Ow(e.startContainer,t),r=Ow(e.endContainer,t);return Bn(o,r,z_)},fV=e=>t=>jd(t,e).bind(o=>Wr(Vd(o)).map(r=>z_(t,r))),mV=e=>t=>jd(t,e).bind(o=>gs(Vd(o)).map(r=>z_(r,t))),Lx=e=>t=>o8(t,e).map(o=>cV(t,o,Vd(o))),j_=(e,t,o,r)=>{if(o.collapsed||!e.forall(uV))return X.none();if(t.isSameTable){const c=e.bind(Lx(r));return X.some({start:c,end:c})}else{const c=Ow(o.startContainer,r),h=Ow(o.endContainer,r),v=c.bind(fV(r)).bind(Lx(r)),T=h.bind(mV(r)).bind(Lx(r));return X.some({start:v,end:T})}},s8=(e,t)=>Zn(e,o=>ss(o,t)),V_=e=>Bn(s8(e.cells,e.rng.start),s8(e.cells,e.rng.end),(t,o)=>e.cells.slice(t,o+1)),hV=(e,t,o)=>e.exists(r=>dV(r,o)&&JD(r.start,t)),U_=(e,t)=>{const{startTable:o,endTable:r}=t,c=e.cloneRange();return o.each(h=>c.setStartAfter(h.dom)),r.each(h=>c.setEndBefore(h.dom)),c},gV=(e,t,o,r)=>j_(e,t,o,r).bind(({start:c,end:h})=>c.or(h)).bind(c=>{const{isSameTable:h}=t,v=V_(c).getOr([]);if(h&&c.cells.length===v.length)return X.some(KS.fullTable(c.table));if(v.length>0){if(h)return X.some(KS.partialTable(v,X.none()));{const T=U_(o,t);return X.some(KS.partialTable(v,X.some({...t,rng:T})))}}else return X.none()}),Tne=(e,t,o,r)=>j_(e,t,o,r).bind(({start:c,end:h})=>{const v=c.bind(V_).getOr([]),T=h.bind(V_).getOr([]);if(v.length>0&&T.length>0){const k=U_(o,t);return X.some(KS.multiTable(v,T,k))}else return X.none()}),Ane=(e,t)=>{const o=aV(e),r=ua(t,o),c=Ene(t,o);return hV(r,t,o)?r.map(h=>KS.singleCellTable(t,h.start)):c.isMultiTable?Tne(r,c,t,o):gV(r,c,t,o)},r8=e=>Le(e,t=>{li(t,"contenteditable"),Vh(t)}),pV=(e,t)=>X.from(e.dom.getParent(t,e.dom.isBlock)).map(_e.fromDom),bV=(e,t,o)=>{o.each(r=>{t?ws(r):(Vh(r),e.selection.setCursorLocation(r.dom,0))})},Z_=(e,t,o,r)=>{const c=o.cloneRange();r?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(t.dom.lastChild)):(c.setStartBefore(t.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),fk(e,c,t,!1).each(h=>h())},W_=e=>{const t=eo(e),o=_e.fromDom(e.selection.getNode());Np(o.dom)&&_a(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),t.length>1&&Ke(t,r=>ss(r,o))&&Or(o,"data-mce-selected","1")},a8=(e,t,o)=>X.some(()=>{const r=e.selection.getRng(),c=o.bind(({rng:h,isStartInTable:v})=>{const T=pV(e,v?h.endContainer:h.startContainer);h.deleteContents(),bV(e,v,T.filter(le(_a,e.schema)));const k=v?t[0]:t[t.length-1];return Z_(e,k,r,v),_a(e.schema,k)?X.none():X.some(v?t.slice(1):t.slice(0,-1))}).getOr(t);r8(c),W_(e)}),Ms=(e,t,o,r)=>X.some(()=>{const c=e.selection.getRng(),h=t[0],v=o[o.length-1];Z_(e,h,c,!0),Z_(e,v,c,!1);const T=_a(e.schema,h)?t:t.slice(1),k=_a(e.schema,v)?o:o.slice(0,-1);r8(T.concat(k)),r.deleteContents(),W_(e)}),fk=(e,t,o,r=!0)=>X.some(()=>{rV(e,t,o,r)}),YS=(e,t)=>X.some(()=>x1(e,!1,t)),XS=(e,t,o)=>Ane(t,o).bind(r=>r.fold(le(fk,e),le(YS,e),le(a8,e),le(Ms,e))),QS=(e,t)=>q_(e,t),JS=(e,t,o,r)=>l8(t,r).fold(()=>XS(e,t,o),c=>QS(e,c)),i8=(e,t,o)=>{const r=_e.fromDom(e.getBody()),c=e.selection.getRng();return o.length!==0?a8(e,o,X.none()):JS(e,r,c,t)},yV=(e,t)=>sn(Jg(t,e),jh),l8=(e,t)=>sn(Jg(t,e),Pa("caption")),kne=(e,t,o,r,c)=>ev(o,e.getBody(),c).bind(h=>yV(t,_e.fromDom(h.getNode())).bind(v=>ss(v,r)?X.none():X.some(Lt))),q_=(e,t)=>X.some(()=>{Vh(t),e.selection.setCursorLocation(t.dom,0)}),vV=(e,t,o,r)=>I(e.dom).bind(c=>q(e.dom).map(h=>t?o.isEqual(c)&&r.isEqual(h):o.isEqual(h)&&r.isEqual(c))).getOr(!0),Dne=(e,t)=>q_(e,t),xV=(e,t,o)=>l8(e,_e.fromDom(o.getNode())).fold(()=>X.some(Lt),r=>Ts(!ss(r,t),Lt)),wV=(e,t,o,r,c)=>ev(o,e.getBody(),c).fold(()=>X.some(Lt),h=>vV(r,o,c,h)?Dne(e,r):xV(t,r,h)),_ne=(e,t,o,r)=>{const c=_t.fromRangeStart(e.selection.getRng());return yV(o,r).bind(h=>_a(e.schema,h,{checkRootAsContent:!1})?q_(e,h):kne(e,o,t,h,c))},CV=(e,t,o,r)=>{const c=_t.fromRangeStart(e.selection.getRng());return _a(e.schema,r)?q_(e,r):wV(e,o,t,r,c)},va=(e,t)=>e?WS(t):__(t),One=(e,t)=>{const o=_t.fromRangeStart(e.selection.getRng());return va(t,o)||Zf(t,e.getBody(),o).exists(r=>va(t,r))},Nne=(e,t,o)=>{const r=_e.fromDom(e.getBody());return l8(r,o).fold(()=>_ne(e,t,r,o).orThunk(()=>Ts(One(e,t),Lt)),c=>CV(e,t,r,c))},G_=(e,t)=>{const o=_e.fromDom(e.selection.getStart(!0)),r=eo(e);return e.selection.isCollapsed()&&r.length===0?Nne(e,t,o):i8(e,o,r)},m0=(e,t)=>{let o=t;for(;o&&o!==e;){if(Mu(o)||na(o))return o;o=o.parentNode}return null},SV=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],EV=ln.each,h0=e=>{const t=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(h,v)=>{if(h.nodeName!==v.nodeName||h.nodeType!==v.nodeType)return!1;const T=L=>{const W={};return EV(t.getAttribs(L),G=>{const Q=G.nodeName.toLowerCase();Q!=="style"&&!c(Q)&&(W[Q]=t.getAttrib(L,Q))}),W},k=(L,W)=>{for(const G in L)if(Qn(L,G)){const Q=W[G];if(xn(Q)||L[G]!==Q)return!1;delete W[G]}for(const G in W)if(Qn(W,G))return!1;return!0};return Sn(h)&&Sn(v)&&(!k(T(h),T(v))||!k(t.parseStyle(t.getAttrib(h,"style")),t.parseStyle(t.getAttrib(v,"style"))))?!1:!wi(h)&&!wi(v)},c=h=>Ke(SV,v=>Co(h,v))||o.has(h);return{compare:r,isAttributeInternal:c}},gr=(e,t)=>{if(dn(e))return{container:e,offset:t};const o=f0.getNode(e,t);return dn(o)?{container:o,offset:t>=e.childNodes.length?o.data.length:0}:o.previousSibling&&dn(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&dn(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:t}},Ac=e=>{const t=e.cloneRange(),o=gr(e.startContainer,e.startOffset);t.setStart(o.container,o.offset);const r=gr(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},rh=hs.DOM,TV=()=>rh.create("span",{"data-mce-type":"bookmark"}),c8=(e,t,o)=>{if(Sn(e)){const r=o();return e.hasChildNodes()?t===e.childNodes.length?e.appendChild(r):e.insertBefore(r,e.childNodes[t]):e.appendChild(r),{container:r,offset:0}}else return{container:e,offset:t}},u8=(e,t)=>{const o=r=>{let c=r.parentNode?.firstChild,h=0;for(;c;){if(c===r)return h;(!Sn(c)||c.getAttribute("data-mce-type")!=="bookmark")&&h++,c=c.nextSibling}return-1};if(Sn(e)&&qe(e.parentNode)){const r=e;t=o(e),e=e.parentNode,rh.remove(r),!e.hasChildNodes()&&rh.isBlock(e)&&e.appendChild(rh.create("br"))}return{container:e,offset:t}},d8=(e,t,o,r)=>{const c=rh.createRng();return c.setStart(e,t),c.setEnd(o,r),Ac(c)},w1=(e,t=TV)=>{const{container:o,offset:r}=c8(e.startContainer,e.startOffset,t);if(e.collapsed)return{startContainer:o,startOffset:r};{const{container:c,offset:h}=c8(e.endContainer,e.endOffset,t);return{startContainer:o,startOffset:r,endContainer:c,endOffset:h}}},eg=e=>{const{container:t,offset:o}=u8(e.startContainer,e.startOffset);if(!xn(e.endContainer)&&!xn(e.endOffset)){const{container:r,offset:c}=u8(e.endContainer,e.endOffset);return d8(t,o,r,c)}else return d8(t,o,t,o)},K_=(e,t,o,r)=>{if(ln.each(o.styles,(c,h)=>{e.setStyle(t,h,Hb(c,r))}),o.styles){const c=e.getAttrib(t,"style");c&&e.setAttrib(t,"data-mce-style",c)}},Px=(e,t,o,r,c)=>{const h=e.dom;Re(o.onformat)&&o.onformat(t,o,r,c),K_(h,t,o,r),ln.each(o.attributes,(v,T)=>{h.setAttrib(t,T,Hb(v,r))}),ln.each(o.classes,v=>{const T=Hb(v,r);h.hasClass(t,T)||h.addClass(t,T)})},AV=e=>!Xe(e.attributes)&&!Xe(e.styles),Y_=FS,f8=(e,t,o)=>{const r=e.formatter.get(o);if(r)for(let c=0;c<r.length;c++){const h=r[c];if(Kg(h)&&h.inherit===!1&&e.dom.is(t,h.selector))return!0}return!1},mk=(e,t,o,r,c)=>{const h=e.dom.getRoot();if(t===h)return!1;const v=e.dom.getParent(t,T=>f8(e,T,o)?!0:T.parentNode===h||!!tg(e,T,o,r,!0));return!!tg(e,v,o,r,c)},hk=(e,t,o)=>hu(o)&&Y_(t,o.inline)||u0(o)&&Y_(t,o.block)?!0:Kg(o)?Sn(t)&&e.is(t,o.selector):!1,m8=(e,t,o,r,c,h)=>{const v=o[r],T=r==="attributes";if(Re(o.onmatch))return o.onmatch(t,o,r);if(v){if(Jf(v)){for(let k=0;k<v.length;k++)if(T?e.getAttrib(t,v[k]):$S(e,t,v[k]))return!0}else for(const k in v)if(Qn(v,k)){const L=T?e.getAttrib(t,k):$S(e,t,k),W=Hb(v[k],h),G=fn(L)||wu(L);if(G&&fn(W))continue;if(c&&G&&!o.exact||(!c||o.exact)&&!Y_(L,FA(W,k)))return!1}}return!0},tg=(e,t,o,r,c)=>{const h=e.formatter.get(o),v=e.dom;if(h&&Sn(t))for(let T=0;T<h.length;T++){const k=h[T];if(hk(e.dom,t,k)&&m8(v,t,k,"attributes",c,r)&&m8(v,t,k,"styles",c,r)){const L=k.classes;if(L){for(let W=0;W<L.length;W++)if(!e.dom.hasClass(t,Hb(L[W],r)))return}return k}}},X_=(e,t,o,r,c)=>{if(r)return mk(e,r,t,o,c);if(r=e.selection.getNode(),mk(e,r,t,o,c))return!0;const h=e.selection.getStart();return!!(h!==r&&mk(e,h,t,o,c))},Q_=(e,t,o)=>{const r=[],c={},h=e.selection.getStart();return e.dom.getParent(h,v=>{for(let T=0;T<t.length;T++){const k=t[T];!c[k]&&tg(e,v,k,o)&&(c[k]=!0,r.push(k))}},e.dom.getRoot()),r},h8=(e,t)=>{const o=c=>ss(c,_e.fromDom(e.getBody())),r=(c,h)=>tg(e,c.dom,h)?X.some(h):X.none();return X.from(e.selection.getStart(!0)).bind(c=>Yu(_e.fromDom(c),h=>$r(t,v=>r(h,v)),o)).getOrNull()},J_=(e,t)=>{const o=e.formatter.get(t),r=e.dom;if(o&&e.selection.isEditable()){const c=e.selection.getStart(),h=$A(r,c);for(let v=o.length-1;v>=0;v--){const T=o[v];if(!Kg(T))return!0;for(let k=h.length-1;k>=0;k--)if(r.is(h[k],T.selector))return!0}}return!1},Rne=(e,t,o)=>Pe(o,(r,c)=>{const h=IA(e,c);return e.formatter.matchNode(t,c,{},h)?r.concat([c]):r},[]),rc=Hi,kV=(e,t)=>e.importNode(t,!0),DV=e=>{if(e){const t=new Ka(e,e);for(let o=t.current();o;o=t.next())if(dn(o))return o}return null},e5=e=>{const t=_e.fromTag("span");return Wa(t,{id:ne,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Is(t,_e.fromText(rc)),t},_V=e=>{const t=DV(e);return t&&t.data.charAt(0)===rc&&t.deleteData(0,1),t},t5=(e,t,o)=>{const r=e.dom,c=e.selection;if(LB(t))x1(e,!1,_e.fromDom(t),o,!0);else{const h=c.getRng(),v=r.getParent(t,r.isBlock),T=h.startContainer,k=h.startOffset,L=h.endContainer,W=h.endOffset,G=_V(t);r.remove(t,!0),T===G&&k>0&&h.setStart(G,k-1),L===G&&W>0&&h.setEnd(G,W-1),v&&r.isEmpty(v)&&Vh(_e.fromDom(v)),c.setRng(h)}},n5=(e,t,o)=>{const r=e.dom,c=e.selection;if(t)t5(e,t,o);else if(t=Ee(e.getBody(),c.getStart()),!t)for(;t=r.get(ne);)t5(e,t,o)},g8=(e,t,o)=>{const r=e.dom,c=r.getParent(o,le(PS,e.schema));c&&r.isEmpty(c)?o.parentNode?.replaceChild(t,o):(yb(_e.fromDom(o)),r.isEmpty(o)?o.parentNode?.replaceChild(t,o):r.insertAfter(t,o))},Nw=(e,t)=>(e.appendChild(t),t),p8=(e,t)=>{const o=Dt(e,(c,h)=>Nw(c,h.cloneNode(!1)),t),r=o.ownerDocument??document;return Nw(o,r.createTextNode(rc))},b8=(e,t,o,r,c,h)=>{const v=e.formatter,T=e.dom,k=xt(Hn(v.get()),G=>G!==r&&!Ir(G,"removeformat")),L=Rne(e,o,k);if(xt(L,G=>!BB(e,G,r)).length>0){const G=o.cloneNode(!1);return T.add(t,G),v.remove(r,c,G,h),T.remove(G),X.some(G)}else return X.none()},y8=e=>Sp(e,yi(e).replace(new RegExp(`${qr}$`)," ")),rv=(e,t)=>{const o=()=>{t!==null&&!e.dom.isEmpty(t)&&Wu(_e.fromDom(t)).each(r=>{xs(r)?y8(r):kh(r,c=>xs(c)).each(c=>{xs(c)&&y8(c)})})};e.once("input",r=>{r.data&&!Wf(r.data)&&(r.isComposing?e.once("compositionend",()=>{o()}):o())})},v8=(e,t,o)=>{let r;const c=e.selection,h=e.formatter.get(t);if(!h)return;const v=c.getRng();let T=v.startOffset;const L=v.startContainer.nodeValue;r=Ee(e.getBody(),c.getStart());const W=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(L&&T>0&&T<L.length&&W.test(L.charAt(T))&&W.test(L.charAt(T-1))){const G=c.getBookmark();v.collapse(!0);let Q=y1(e.dom,v,h);Q=Dw(Q),e.formatter.apply(t,o,Q),c.moveToBookmark(G)}else{let G=r?DV(r):null;(!r||G?.data!==rc)&&(r=kV(e.getDoc(),e5(!0).dom),G=r.firstChild,v.insertNode(r),T=1,rv(e,r)),e.formatter.apply(t,o,r),c.setCursorLocation(G,T)}},x8=(e,t,o,r)=>{const c=e.dom,h=e.selection;let v=!1;const T=e.formatter.get(t);if(!T)return;const k=h.getRng(),L=k.startContainer,W=k.startOffset;let G=L;dn(L)&&(W!==L.data.length&&(v=!0),G=G.parentNode);const Q=[];let ce;for(;G;){if(tg(e,G,t,o,r)){ce=G;break}G.nextSibling&&(v=!0),Q.push(G),G=G.parentNode}if(ce)if(v){const De=h.getBookmark();k.collapse(!0);let ge=y1(c,k,T,{includeTrailingSpace:!0});ge=Dw(ge),e.formatter.remove(t,o,ge,r),h.moveToBookmark(De)}else{const De=Ee(e.getBody(),ce),ge=qe(De)?c.getParents(ce.parentNode,dt,De):[],Ae=e5(!1).dom;g8(e,Ae,De??ce);const ot=b8(e,Ae,ce,t,o,r),rt=p8([...Q,...ot.toArray(),...ge],Ae);De&&t5(e,De,qe(De)),h.setCursorLocation(rt,1),rv(e,Ae),c.isEmpty(ce)&&c.remove(ce)}},w8=(e,t,o)=>{const r=e.selection,c=e.getBody();n5(e,null,o),(t===8||t===46)&&r.isCollapsed()&&r.getStart().innerHTML===rc&&n5(e,Ee(c,r.getStart()),!0),(t===37||t===39)&&n5(e,Ee(c,r.getStart()),!0)},C8=e=>dn(e)&&Si(e.data,qr),S8=e=>{e.on("mouseup keydown",t=>{w8(e,t.keyCode,C8(e.selection.getRng().endContainer))})},E8=e=>{const t=e5(!1),o=p8(e,t.dom);return{caretContainer:t,caretPosition:_t(o,0)}},o5=(e,t)=>{const{caretContainer:o,caretPosition:r}=E8(t);return ul(_e.fromDom(e),o),ws(_e.fromDom(e)),r},OV=(e,t)=>{const{caretContainer:o,caretPosition:r}=E8(t);return e.insertNode(o.dom),r},T8=(e,t)=>{if(de(t.dom))return!1;const o=e.schema.getTextInlineElements();return Qn(o,rs(t))&&!de(t.dom)&&!Hm(t.dom)},A8=["fontWeight","fontStyle","color","fontSize","fontFamily"],NV=e=>vt(e.styles)&&Ke(Hn(e.styles),t=>Be(A8,t)),RV=e=>sn(e,t=>hu(t)&&t.inline==="span"&&NV(t)),MV=(e,t)=>{const o=e.get(t);return Xe(o)?RV(o):X.none()},s5=(e,t)=>D(t,_t.fromRangeStart(e)).isNone(),k8=(e,t)=>E(t,_t.fromRangeEnd(e)).exists(o=>!la(o.getNode())||E(t,o).isSome())===!1,BV=e=>t=>j0(t)&&e.isEditable(t),D8=(e,t)=>tt(e.getSelectedBlocks(),(o,r)=>r===0&&t(o)?e.dom.getParent(o,j0)??o:o),r5=e=>{if(e.isCollapsed())return[];const t=e.getRng(),o=D8(e,r=>s5(t,r)&&!j0(r));if(o.length===1)return s5(t,o[0])&&k8(t,o[0])?o:[];{const r=gs(o).filter(v=>s5(t,v)).toArray(),c=Wr(o).filter(v=>k8(t,v)).toArray(),h=o.slice(1,-1);return r.concat(h).concat(c)}},a5=e=>xt(r5(e),BV(e.dom)),_8=e=>xt(D8(e,t=>!j0(t)),BV(e.dom)),O8=ln.each,i5=e=>Sn(e)&&!wi(e)&&!de(e)&&!Hm(e),N8=(e,t)=>{for(let o=e;o;o=o[t]){if(dn(o)&&Hr(o.data))return e;if(Sn(o)&&!wi(o))return o}return e},R8=(e,t,o)=>{const r=h0(e),c=ru(t)&&e.dom.isEditable(t),h=ru(o)&&e.dom.isEditable(o);if(c&&h){const v=N8(t,"previousSibling"),T=N8(o,"nextSibling");if(r.compare(v,T)){for(let k=v.nextSibling;k&&k!==T;){const L=k;k=k.nextSibling,v.appendChild(L)}return e.dom.remove(T),ln.each(ln.grep(T.childNodes),k=>{v.appendChild(k)}),v}}return o},M8=(e,t,o,r)=>{if(r&&t.merge_siblings!==!1){const c=R8(e,NB(r),r)??r;R8(e,c,NB(c,!0))}},LV=(e,t,o)=>{if(t.clear_child_styles){const r=t.links?"*:not(a)":"*";O8(e.select(r,o),c=>{i5(c)&&e.isEditable(c)&&O8(t.styles,(h,v)=>{e.setStyle(c,v,"")})})}},l5=(e,t,o)=>{O8(e.childNodes,r=>{i5(r)&&(t(r)&&o(r),r.hasChildNodes()&&l5(r,t,o))})},PV=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},c5=(e,t)=>o=>!!(o&&$S(e,o,t)),B8=(e,t,o)=>r=>{e.setStyle(r,t,o),r.getAttribute("style")===""&&r.removeAttribute("style"),PV(e,r)},Fx=gi.generate([{keep:[]},{rename:["name"]},{removed:[]}]),Ub=/^(src|href|style)$/,u5=ln.each,eE=FS,FV=e=>/^(TR|TH|TD)$/.test(e.nodeName),L8=(e,t,o)=>e.isChildOf(t,o)&&t!==o&&!e.isBlock(o),d5=(e,t,o)=>{let r=t[o?"startContainer":"endContainer"],c=t[o?"startOffset":"endOffset"];if(Sn(r)){const h=r.childNodes.length-1;!o&&c&&c--,r=r.childNodes[c>h?h:c]}return dn(r)&&o&&c>=r.data.length&&(r=new Ka(r,e.getBody()).next()||r),dn(r)&&!o&&c===0&&(r=new Ka(r,e.getBody()).prev()||r),r},f5=(e,t)=>{const o=t?"firstChild":"lastChild",r=e[o];return FV(e)&&r?e.nodeName==="TR"&&r[o]||r:e},gk=(e,t,o,r)=>{const c=e.create(o,r);return t.parentNode?.insertBefore(c,t),c.appendChild(t),c},m5=(e,t,o,r,c)=>{const h=_e.fromDom(t),v=_e.fromDom(e.create(r,c)),T=o?Fa(h):qi(h);return hc(v,T),o?(ul(h,v),ef(v,h)):(Sl(h,v),Is(v,h)),v.dom},$V=(e,t)=>t.links&&e.nodeName==="A",P8=(e,t,o)=>{const r=t.parentNode;let c;const h=e.dom,v=bl(e);u0(o)&&r===h.getRoot()&&(!o.list_block||!eE(t,o.list_block))&&Le(Es(t.childNodes),T=>{Sw(e,v,T.nodeName.toLowerCase())?c?c.appendChild(T):(c=gk(h,T,v),h.setAttribs(c,th(e))):c=null}),!(cne(o)&&!eE(o.inline,t))&&h.remove(t,!0)},F8=(e,t,o)=>Qo(e)?{name:t,value:null}:{name:e,value:Hb(t,o)},$8=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},I8=(e,t,o,r,c)=>{let h=!1;u5(o.styles,(v,T)=>{const{name:k,value:L}=F8(T,v,r),W=FA(L,k);(o.remove_similar||ie(L)||!Sn(c)||eE($S(e,c,k),W))&&e.setStyle(t,k,""),h=!0}),h&&$8(e,t)},$x=(e,t,o)=>{t==="removeformat"?Le(_8(e.selection),r=>{Le(A8,c=>e.dom.setStyle(r,c,"")),$8(e.dom,r)}):MV(e.formatter,t).each(r=>{Le(_8(e.selection),c=>I8(e.dom,c,r,o,null))})},pk=(e,t,o,r,c)=>{const h=e.dom,v=h0(e),T=e.schema;if(hu(t)&&Bc(T,t.inline)&&Ya(T,r)&&r.parentElement===e.getBody())return P8(e,r,t),Fx.removed();if(!t.ceFalseOverride&&r&&h.getContentEditableParent(r)==="false"||r&&!hk(h,r,t)&&!$V(r,t))return Fx.keep();const k=r,L=t.preserve_attributes;if(hu(t)&&t.remove==="all"&&Xe(L)){const W=xt(h.getAttribs(k),G=>Be(L,G.name.toLowerCase()));if(h.removeAllAttribs(k),Le(W,G=>h.setAttrib(k,G.name,G.value)),W.length>0)return Fx.rename("span")}if(t.remove!=="all"){I8(h,k,t,o,c),u5(t.attributes,(G,Q)=>{const{name:ce,value:De}=F8(Q,G,o);if(t.remove_similar||ie(De)||!Sn(c)||eE(h.getAttrib(c,ce),De)){if(ce==="class"){const ge=h.getAttrib(k,ce);if(ge){let Ae="";if(Le(ge.split(/\s+/),ot=>{/mce\-\w+/.test(ot)&&(Ae+=(Ae?" ":"")+ot)}),Ae){h.setAttrib(k,ce,Ae);return}}}if(Ub.test(ce)&&k.removeAttribute("data-mce-"+ce),ce==="style"&&Xu(["li"])(k)&&h.getStyle(k,"list-style-type")==="none"){k.removeAttribute(ce),h.setStyle(k,"list-style-type","none");return}ce==="class"&&k.removeAttribute("className"),k.removeAttribute(ce)}}),u5(t.classes,G=>{G=Hb(G,o),(!Sn(c)||h.hasClass(c,G))&&h.removeClass(k,G)});const W=h.getAttribs(k);for(let G=0;G<W.length;G++){const Q=W[G].nodeName;if(!v.isAttributeInternal(Q))return Fx.keep()}}return t.remove!=="none"?(P8(e,k,t),Fx.removed()):Fx.keep()},IV=(e,t,o,r,c)=>{let h;return t.parentNode&&Le($A(e.dom,t.parentNode).reverse(),v=>{if(!h&&Sn(v)&&v.id!=="_start"&&v.id!=="_end"){const T=tg(e,v,o,r,c);T&&T.split!==!1&&(h=v)}}),h},HV=(e,t,o,r)=>pk(e,t,o,r,r).fold(at(r),c=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,c)),at(null)),h5=(e,t,o,r,c,h,v,T)=>{let k,L;const W=e.dom;if(o){const G=o.parentNode;for(let Q=r.parentNode;Q&&Q!==G;Q=Q.parentNode){let ce=W.clone(Q,!1);for(let De=0;De<t.length&&(ce=HV(e,t[De],T,ce),ce!==null);De++);ce&&(k&&ce.appendChild(k),L||(L=ce),k=ce)}(!v.mixed||!W.isBlock(o))&&(r=W.split(o,r)??r),k&&L&&(c.parentNode?.insertBefore(k,c),L.appendChild(c),hu(v)&&M8(e,v,T,k))}return r},zV=(e,t,o,r,c)=>{const h=e.formatter.get(t),v=h[0],T=e.dom,k=e.selection,L=ge=>{const Ae=IV(e,ge,t,o,c);return h5(e,h,Ae,ge,ge,!0,v,o)},W=ge=>wi(ge)&&Sn(ge)&&(ge.id==="_start"||ge.id==="_end"),G=ge=>Ke(h,Ae=>tE(e,Ae,o,ge,ge)),Q=ge=>{const Ae=Es(ge.childNodes),rt=G(ge)||Ke(h,en=>hk(T,ge,en)),ut=ge.parentNode;if(!rt&&qe(ut)&&n_(v)&&G(ut),v.deep&&Ae.length)for(let en=0;en<Ae.length;en++)Q(Ae[en]);Le(["underline","line-through","overline"],en=>{Sn(ge)&&e.dom.getStyle(ge,"text-decoration")===en&&ge.parentNode&&MB(T,ge.parentNode)===en&&tE(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:en}},void 0,ge)})},ce=ge=>{const Ae=T.get(ge?"_start":"_end");if(Ae){let ot=Ae[ge?"firstChild":"lastChild"];return W(ot)&&(ot=ot[ge?"firstChild":"lastChild"]),dn(ot)&&ot.data.length===0&&(ot=ge?Ae.previousSibling||Ae.nextSibling:Ae.nextSibling||Ae.previousSibling),T.remove(Ae,!0),ot}else return null},De=ge=>{let Ae,ot,rt=y1(T,ge,h,{includeTrailingSpace:ge.collapsed});if(v.split){if(rt=Dw(rt),Ae=d5(e,rt,!0),ot=d5(e,rt),Ae!==ot){if(Ae=f5(Ae,!0),ot=f5(ot,!1),L8(T,Ae,ot)){const Pt=X.from(Ae.firstChild).getOr(Ae);L(m5(T,Pt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ce(!0);return}if(L8(T,ot,Ae)){const Pt=X.from(ot.lastChild).getOr(ot);L(m5(T,Pt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ce(!1);return}Ae=gk(T,Ae,"span",{id:"_start","data-mce-type":"bookmark"}),ot=gk(T,ot,"span",{id:"_end","data-mce-type":"bookmark"});const ut=T.createRng();ut.setStartAfter(Ae),ut.setEndBefore(ot),Yg(T,ut,Pt=>{Le(Pt,en=>{!wi(en)&&!wi(en.parentNode)&&L(en)})}),L(Ae),L(ot),Ae=ce(!0),ot=ce()}else Ae=ot=L(Ae);rt.startContainer=Ae.parentNode?Ae.parentNode:Ae,rt.startOffset=T.nodeIndex(Ae),rt.endContainer=ot.parentNode?ot.parentNode:ot,rt.endOffset=T.nodeIndex(ot)+1}Yg(T,rt,ut=>{Le(ut,Q)})};if(r){if(BS(r)){const ge=T.createRng();ge.setStartBefore(r),ge.setEndAfter(r),De(ge)}else De(r);XC(e,t,r,o);return}!k.isCollapsed()||!hu(v)||eo(e).length?(_B(e,()=>RS(e,De),ge=>hu(v)&&X_(e,t,o,ge)),e.nodeChanged()):x8(e,t,o,c),$x(e,t,o),XC(e,t,r,o)},bk=(e,t,o,r,c)=>{(r||e.selection.isEditable())&&zV(e,t,o,r,c)},H8=(e,t,o,r)=>pk(e,t,o,r).fold(()=>X.some(r),c=>X.some(e.dom.rename(r,c)),X.none),tE=(e,t,o,r,c)=>pk(e,t,o,r,c).fold(He,h=>(e.dom.rename(r,h),!0),dt),z8=["fontsize","subscript","superscript"],yk=["strikethrough",...z8],jV=(e,t,o)=>qe(e.matchNode(t.dom,o,{},o==="fontsize")),vk=(e,t)=>Ke(z8,o=>jV(e,t,o)),VV=e=>Be(yk,e),j8=(e,t,o,r,c)=>{const h=cl(t,e).filter(fa);return Yo(h,o).map(v=>{const T=h[v],k=r(T),L=[...c(ki(T)).toArray(),...Do(h.slice(0,v),W=>o(W)?c(W).toArray():[ki(W)])];return{container:T,innerWrapper:k,outerWrappers:L}})},V8=(e,t,o,r)=>{Le(ma(e),c=>{fa(c)&&o(c)&&r(c).isNone()&&Gl(c)}),Le(ma(e),c=>Is(t,c)),ef(e,t)},U8=(e,t)=>{if(t.length>0){const o=t[t.length-1];ul(e,o);const r=Pe(t.slice(0,t.length-1),(c,h)=>(Is(c,h),h),o);Is(r,e)}},UV=(e,t,o,r,c)=>{const h=v=>ss(_e.fromDom(e.getRoot()),v)||e.isBlock(v.dom);Le(t,v=>{j8(h,v,o,r,c).each(({container:T,innerWrapper:k,outerWrappers:L})=>{e.split(T.dom,v.dom),V8(v,k,o,c),U8(v,L)})})},g5=(e,t,o)=>{const r=T=>qe(tg(e,T.dom,t)),c=T=>{const k=_e.fromTag(rs(T)),L=tg(e,T.dom,t,{});return qe(L)&&AV(L)&&Px(e,k.dom,L),k},h=T=>{const k=tg(e,T.dom,t,{});return qe(k)?H8(e,k,{},T.dom).map(_e.fromDom):X.some(T)},v=w1(e.selection.getRng());UV(e.dom,o,r,c,h),e.selection.setRng(eg(v))},ZV=(e,t)=>Do(t,o=>{const r=we(o,c=>vk(e,c));return vk(e,o)?[o,...r]:r}),WV=(e,t,o)=>{if(VV(t)){const r=ZV(e.formatter,o);g5(e,"strikethrough",r)}},qV=(e,t)=>{const o=xt(t,r=>vk(e.formatter,r));g5(e,"strikethrough",o)},Gf=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),Z8=e=>e.name==="summary",GV=(e,t)=>{let o=e;for(;o=o.walk();)t(o)},p5=(e,t,o,r)=>{const c=o.name;for(let h=0,v=e.length;h<v;h++){const T=e[h];if(T.name===c){const k=r.nodes[c];k?k.nodes.push(o):r.nodes[c]={filter:T,nodes:[o]}}}if(o.attributes)for(let h=0,v=t.length;h<v;h++){const T=t[h],k=T.name;if(k in o.attributes.map){const L=r.attributes[k];L?L.nodes.push(o):r.attributes[k]={filter:T,nodes:[o]}}}},KV=(e,t,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&GV(o,c=>{p5(e,t,c,r)}),r},W8=(e,t)=>{const o=(r,c)=>{Oo(r,h=>{const v=Es(h.nodes);Le(h.filter.callbacks,T=>{for(let k=v.length-1;k>=0;k--){const L=v[k];(!(c?L.attr(h.filter.name)!==void 0:L.name===h.filter.name)||fn(L.parent))&&v.splice(k,1)}v.length>0&&T(v,h.filter.name,t)})})};o(e.nodes,!1),o(e.attributes,!0)},q8=(e,t,o,r={})=>{const c=KV(e,t,o);W8(c,r)},av=(e,t,o,r)=>{if((e.pad_empty_with_br||t.insert)&&o(r)){const h=new Hc("br",1);t.insert&&h.attr("data-mce-bogus","1"),r.empty().append(h)}else r.empty().append(new Hc("#text",3)).value=qr},Rw=e=>YV(e,"#text")&&e?.firstChild?.value===qr,YV=(e,t)=>{const o=e?.firstChild;return qe(o)&&o===e.lastChild&&o.name===t},XV=(e,t)=>e.getElementRule(t.name)?.paddEmpty===!0,nE=(e,t,o,r)=>r.isEmpty(t,o,c=>XV(e,c)),g0=(e,t)=>qe(e)&&(t(e)||e.name==="br"),QV=e=>{let t;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(t=o)}return X.from(t)},JV=e=>{const t=[];for(let o=e.firstChild;qe(o);o=o.walk())t.push(o);return t},Mw=(e,t,o=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const c of r)o&&!t.isValidChild(o.name,c.name)&&Mw(c,t,o);e.unwrap()}},G8=(e,t,o,r=Lt)=>{const c=t.getTextBlockElements(),h=t.getNonEmptyElements(),v=t.getWhitespaceElements(),T=ln.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),k=new Set,L=W=>W!==o&&!T[W.name];for(let W=0;W<e.length;W++){const G=e[W];let Q,ce,De;if(!G.parent||k.has(G))continue;if(c[G.name]&&G.parent.name==="li"){let Ae=G.next;for(;Ae&&c[Ae.name];){Ae.name="li",k.add(Ae),G.parent.insert(Ae,G.parent);Ae=Ae.next}G.unwrap();continue}const ge=[G];for(Q=G.parent;Q&&!t.isValidChild(Q.name,G.name)&&L(Q);Q=Q.parent)ge.push(Q);if(Q&&ge.length>1)if(oE(t,G,Q))Mw(G,t);else{ge.reverse(),ce=ge[0].clone(),r(ce);let Ae=ce;for(let ot=0;ot<ge.length-1;ot++){t.isValidChild(Ae.name,ge[ot].name)&&ot>0?(De=ge[ot].clone(),r(De),Ae.append(De)):De=Ae;for(let rt=ge[ot].firstChild;rt&&rt!==ge[ot+1];){const ut=rt.next;De.append(rt),rt=ut}Ae=De}nE(t,h,v,ce)?Q.insert(G,ge[0],!0):(Q.insert(ce,ge[0],!0),Q.insert(G,ce)),Q=ge[0],(nE(t,h,v,Q)||YV(Q,"br"))&&Q.empty().remove()}else if(G.parent){if(G.name==="li"){let Ae=G.prev;if(Ae&&(Ae.name==="ul"||Ae.name==="ol")){Ae.append(G);continue}if(Ae=G.next,Ae&&(Ae.name==="ul"||Ae.name==="ol")&&Ae.firstChild){Ae.insert(G,Ae.firstChild,!0);continue}const ot=new Hc("ul",1);r(ot),G.wrap(ot);continue}if(t.isValidChild(G.parent.name,"div")&&t.isValidChild("div",G.name)){const Ae=new Hc("div",1);r(Ae),G.wrap(Ae)}else Mw(G,t)}}},b5=(e,t)=>{let o=e;for(;o;){if(o.name===t)return!0;o=o.parent}return!1},oE=(e,t,o=t.parent)=>o?e.children[t.name]&&!e.isValidChild(o.name,t.name)||t.name==="a"&&b5(o,"a")?!0:Z8(o)&&Gf(t)?!(o?.firstChild===t&&o?.lastChild===t):!1:!1,K8=(e,t,o,r)=>{const c=document.createRange();return c.setStart(e,t),c.setEnd(o,r),c},eU=e=>{const t=_t.fromRangeStart(e),o=_t.fromRangeEnd(e),r=e.commonAncestorContainer;return Zf(!1,r,o).map(c=>!qg(t,o,r)&&qg(t,c,r)?K8(t.container(),t.offset(),c.container(),c.offset()):e).getOr(e)},y5=e=>e.collapsed?e:eU(e),Zb=ln.explode,Y8=()=>{const e={};return{addFilter:(c,h)=>{Le(Zb(c),v=>{Qn(e,v)||(e[v]={name:v,callbacks:[]}),e[v].callbacks.push(h)})},getFilters:()=>vo(e),removeFilter:(c,h)=>{Le(Zb(c),v=>{if(Qn(e,v))if(qe(h)){const T=e[v],k=xt(T.callbacks,L=>L!==h);k.length>0?T.callbacks=k:delete e[v]}else delete e[v]})}}},tU=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),nU=e=>e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),ks=(e,t)=>{Le(t,o=>{e.attr(o,null)})},oU=(e,t,o)=>{e.addNodeFilter("font",r=>{Le(r,c=>{const h=t.parse(c.attr("style")),v=c.attr("color"),T=c.attr("face"),k=c.attr("size");v&&(h.color=v),T&&(h["font-family"]=T),k&&Ef(k).each(L=>{h["font-size"]=o[L-1]}),c.name="span",c.attr("style",t.serialize(h)),ks(c,["color","face","size"])})})},sU=(e,t,o)=>{e.addNodeFilter("strike",r=>{const c=t.type!=="html4";Le(r,h=>{if(c)h.name="s";else{const v=o.parse(h.attr("style"));v["text-decoration"]="line-through",h.name="span",h.attr("style",o.serialize(v))}})})},X8=(e,t,o)=>{const r=mm();t.convert_fonts_to_spans&&oU(e,r,ln.explode(t.font_size_legacy_values??"")),sU(e,o,r)},rU=(e,t,o)=>{t.inline_styles&&X8(e,t,o)},aU=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),tl=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},iU=e=>{try{return decodeURIComponent(e)}catch{return e}},v5=e=>{const[t,...o]=e.split(","),r=o.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(c){const h=c[2]===";base64",v=iU(r),T=h?tl(v):v;return X.some({type:c[1],data:T,base64Encoded:h})}else return X.none()},Q8=(e,t,o=!0)=>{let r=t;if(o)try{r=atob(t)}catch{return X.none()}const c=new Uint8Array(r.length);for(let h=0;h<c.length;h++)c[h]=r.charCodeAt(h);return X.some(new Blob([c],{type:e}))},lU=e=>new Promise((t,o)=>{v5(e).bind(({type:r,data:c,base64Encoded:h})=>Q8(r,c,h)).fold(()=>o("Invalid data URI"),t)}),mi=e=>Co(e,"blob:")?aU(e):Co(e,"data:")?lU(e):Promise.reject("Unknown URI format"),x5=e=>new Promise((t,o)=>{const r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=()=>{o(r.error?.message)},r.readAsDataURL(e)});let J8=0;const cU=e=>"blobid"+J8++,w5=(e,t,o)=>v5(e).bind(({data:r,type:c,base64Encoded:h})=>{if(t&&!h)return X.none();{const v=h?r:btoa(r);return o(v,c)}}),eL=(e,t,o)=>{const r=e.create(cU(),t,o);return e.add(r),r},C1=(e,t,o=!1)=>w5(t,o,(r,c)=>X.from(e.getByData(r,c)).orThunk(()=>Q8(c,r).map(h=>eL(e,h,r)))),C5=(e,t)=>{const o=()=>Promise.reject("Invalid data URI");if(Co(t,"blob:")){const r=e.getByUri(t);return qe(r)?Promise.resolve(r):mi(t).then(c=>x5(c).then(h=>w5(h,!1,v=>X.some(eL(e,c,v))).getOrThunk(o)))}else return Co(t,"data:")?C1(e,t).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},uU=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,dU=e=>X.from(e.match(uU)).bind(t=>Xs(t,1)).map(t=>Co(t,"www.")?t.substring(4):t),xk=(e,t)=>{X.from(e.attr("src")).bind(dU).forall(o=>!Be(t,o))&&e.attr("sandbox","")},S5=(e,t)=>Co(e,`${t}/`),fU=e=>xn(e)?"iframe":S5(e,"image")?"img":S5(e,"video")?"video":S5(e,"audio")?"audio":"iframe",ac=({type:e,src:t,width:o,height:r}={},c,h)=>{const v=fU(e),T=new Hc(v,1);return T.attr(v==="audio"?{src:t}:{src:t,width:o,height:r}),(v==="audio"||v==="video")&&T.attr("controls",""),v==="iframe"&&c&&xk(T,h),T},mU=e=>qe(e.attr("data-mce-bogus")),iv=e=>e.attr("src")===ds.transparentSrc||qe(e.attr("data-mce-placeholder")),hU=(e,t)=>{const{blob_cache:o}=t;if(o){const r=c=>{const h=c.attr("src");iv(c)||mU(c)||fn(h)||C1(o,h,!0).each(v=>{c.attr("src",v.blobUri())})};e.addAttributeFilter("src",c=>Le(c,r))}},gU=(e,t)=>{const o=e.schema;e.addAttributeFilter("href",v=>{let T=v.length;const k=W=>W.split(" ").filter(Q=>Q.length>0).concat(["noopener"]).sort().join(" "),L=W=>{const G=W?ln.trim(W):"";return/\b(noopener)\b/g.test(G)?G:k(G)};if(!t.allow_unsafe_link_target)for(;T--;){const W=v[T];W.name==="a"&&W.attr("target")==="_blank"&&W.attr("rel",L(W.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",v=>{let T=v.length,k,L,W,G;for(;T--;)if(G=v[T],G.name==="a"&&G.firstChild&&!G.attr("href"))for(W=G.parent,k=G.lastChild;k&&W;)L=k.prev,W.insert(k,G),k=L}),t.fix_list_elements&&e.addNodeFilter("ul,ol",v=>{let T=v.length,k,L;for(;T--;)if(k=v[T],L=k.parent,L&&(L.name==="ul"||L.name==="ol"))if(k.prev&&k.prev.name==="li")k.prev.append(k);else{const W=new Hc("li",1);W.attr("style","list-style-type: none"),k.wrap(W)}});const r=o.getValidClasses();t.validate&&r&&e.addAttributeFilter("class",v=>{let T=v.length;for(;T--;){const k=v[T],L=k.attr("class")??"",W=ln.explode(L," ");let G="";for(let Q=0;Q<W.length;Q++){const ce=W[Q];let De=!1,ge=r["*"];ge&&ge[ce]&&(De=!0),ge=r[k.name],!De&&ge&&ge[ce]&&(De=!0),De&&(G&&(G+=" "),G+=ce)}G.length||(G=null),k.attr("class",G)}}),hU(e,t);const c=t.sandbox_iframes??!1,h=Ma(t.sandbox_iframes_exclusions??[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",v=>Le(v,T=>{T.replace(ac({type:T.attr("type"),src:T.name==="object"?T.attr("data"):T.attr("src"),width:T.attr("width"),height:T.attr("height")},c,h))})),c&&e.addNodeFilter("iframe",v=>Le(v,T=>xk(T,h)))};const{entries:tL,setPrototypeOf:nL,isFrozen:pU,getPrototypeOf:bU,getOwnPropertyDescriptor:yU}=Object;let{freeze:Sm,seal:ep,create:sE}=Object,{apply:E5,construct:T5}=typeof Reflect<"u"&&Reflect;Sm||(Sm=function(t){return t}),ep||(ep=function(t){return t}),E5||(E5=function(t,o,r){return t.apply(o,r)}),T5||(T5=function(t,o){return new t(...o)});const A5=Ud(Array.prototype.forEach),rE=Ud(Array.prototype.lastIndexOf),oL=Ud(Array.prototype.pop),Ix=Ud(Array.prototype.push),vU=Ud(Array.prototype.splice),wk=Ud(String.prototype.toLowerCase),k5=Ud(String.prototype.toString),sL=Ud(String.prototype.match),p0=Ud(String.prototype.replace),Hx=Ud(String.prototype.indexOf),Ck=Ud(String.prototype.trim),ah=Ud(Object.prototype.hasOwnProperty),gu=Ud(RegExp.prototype.test),b0=Sk(TypeError);function Ud(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var o=arguments.length,r=new Array(o>1?o-1:0),c=1;c<o;c++)r[c-1]=arguments[c];return E5(e,t,r)}}function Sk(e){return function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return T5(e,o)}}function da(e,t){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:wk;nL&&nL(e,null);let r=t.length;for(;r--;){let c=t[r];if(typeof c=="string"){const h=o(c);h!==c&&(pU(t)||(t[r]=h),c=h)}e[c]=!0}return e}function D5(e){for(let t=0;t<e.length;t++)ah(e,t)||(e[t]=null);return e}function y0(e){const t=sE(null);for(const[o,r]of tL(e))ah(e,o)&&(Array.isArray(r)?t[o]=D5(r):r&&typeof r=="object"&&r.constructor===Object?t[o]=y0(r):t[o]=r);return t}function Bw(e,t){for(;e!==null;){const r=yU(e,t);if(r){if(r.get)return Ud(r.get);if(typeof r.value=="function")return Ud(r.value)}e=bU(e)}function o(){return null}return o}const _5=Sm(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),lv=Sm(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ek=Sm(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),rL=Sm(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Tk=Sm(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ak=Sm(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),O5=Sm(["#text"]),N5=Sm(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),kk=Sm(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),R5=Sm(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),tp=Sm(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),cv=ep(/\{\{[\w\W]*|[\w\W]*\}\}/gm),np=ep(/<%[\w\W]*|[\w\W]*%>/gm),xU=ep(/\$\{[\w\W]*/gm),wU=ep(/^data-[\-\w.\u00B7-\uFFFF]+$/),CU=ep(/^aria-[\-\w]+$/),aL=ep(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),SU=ep(/^(?:\w+script|data):/i),EU=ep(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),iL=ep(/^html$/i),TU=ep(/^[a-z][.\w]*(-[.\w]+)+$/i);var lL=Object.freeze({__proto__:null,ARIA_ATTR:CU,ATTR_WHITESPACE:EU,CUSTOM_ELEMENT:TU,DATA_ATTR:wU,DOCTYPE_NAME:iL,ERB_EXPR:np,IS_ALLOWED_URI:aL,IS_SCRIPT_OR_DATA:SU,MUSTACHE_EXPR:cv,TMPLIT_EXPR:xU});const aE={element:1,text:3,progressingInstruction:7,comment:8,document:9},AU=function(){return typeof window>"u"?null:window},kU=function(t,o){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const c="data-tt-policy-suffix";o&&o.hasAttribute(c)&&(r=o.getAttribute(c));const h="dompurify"+(r?"#"+r:"");try{return t.createPolicy(h,{createHTML(v){return v},createScriptURL(v){return v}})}catch{return console.warn("TrustedTypes policy "+h+" could not be created."),null}},Dk=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function _k(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:AU();const t=zs=>_k(zs);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==aE.document||!e.Element)return t.isSupported=!1,t;let{document:o}=e;const r=o,c=r.currentScript,{DocumentFragment:h,HTMLTemplateElement:v,Node:T,Element:k,NodeFilter:L,NamedNodeMap:W=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:G,DOMParser:Q,trustedTypes:ce}=e,De=k.prototype,ge=Bw(De,"cloneNode"),Ae=Bw(De,"remove"),ot=Bw(De,"nextSibling"),rt=Bw(De,"childNodes"),ut=Bw(De,"parentNode");if(typeof v=="function"){const zs=o.createElement("template");zs.content&&zs.content.ownerDocument&&(o=zs.content.ownerDocument)}let Pt,en="";const{implementation:Nn,createNodeIterator:io,createDocumentFragment:Bt,getElementsByTagName:Ct}=o,{importNode:Ft}=r;let On=Dk();t.isSupported=typeof tL=="function"&&typeof ut=="function"&&Nn&&Nn.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Bo,ERB_EXPR:Lo,TMPLIT_EXPR:Ws,DATA_ATTR:Pr,ARIA_ATTR:Ca,IS_SCRIPT_OR_DATA:ti,ATTR_WHITESPACE:Vc,CUSTOM_ELEMENT:Am}=lL;let{IS_ALLOWED_URI:$n}=lL,go=null;const _r=da({},[..._5,...lv,...Ek,...Tk,...O5]);let br=null;const vu=da({},[...N5,...kk,...R5,...tp]);let Ht=Object.seal(sE(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),En=null,Xn=null,Bs=!0,Cs=!0,Zr=!1,km=!0,dp=!1,dg=!0,fh=!1,Tv=!1,Wd=!1,Yf=!1,ry=!1,_C=!1,R3=!0,_o=!1;const Ys="user-content-";let yl=!0,ja=!1,Xr={},ol=null;const Dm=da({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let xf=null;const fg=da({},["audio","video","img","source","image","track"]);let ay=null;const M3=da({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),B3="http://www.w3.org/1998/Math/MathML",xT="http://www.w3.org/2000/svg",L1="http://www.w3.org/1999/xhtml";let OC=L1,PM=!1,L3=null;const soe=da({},[B3,xT,L1],k5);let FM=da({},["mi","mo","mn","ms","mtext"]),$M=da({},["annotation-xml"]);const roe=da({},["title","style","font","a","script"]);let P3=null;const NC=["application/xhtml+xml","text/html"],_H="text/html";let bt=null,St=null;const zn=o.createElement("form"),Tn=function(At){return At instanceof RegExp||At instanceof Function},Io=function(){let At=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(St&&St===At)){if((!At||typeof At!="object")&&(At={}),At=y0(At),P3=NC.indexOf(At.PARSER_MEDIA_TYPE)===-1?_H:At.PARSER_MEDIA_TYPE,bt=P3==="application/xhtml+xml"?k5:wk,go=ah(At,"ALLOWED_TAGS")?da({},At.ALLOWED_TAGS,bt):_r,br=ah(At,"ALLOWED_ATTR")?da({},At.ALLOWED_ATTR,bt):vu,L3=ah(At,"ALLOWED_NAMESPACES")?da({},At.ALLOWED_NAMESPACES,k5):soe,ay=ah(At,"ADD_URI_SAFE_ATTR")?da(y0(M3),At.ADD_URI_SAFE_ATTR,bt):M3,xf=ah(At,"ADD_DATA_URI_TAGS")?da(y0(fg),At.ADD_DATA_URI_TAGS,bt):fg,ol=ah(At,"FORBID_CONTENTS")?da({},At.FORBID_CONTENTS,bt):Dm,En=ah(At,"FORBID_TAGS")?da({},At.FORBID_TAGS,bt):y0({}),Xn=ah(At,"FORBID_ATTR")?da({},At.FORBID_ATTR,bt):y0({}),Xr=ah(At,"USE_PROFILES")?At.USE_PROFILES:!1,Bs=At.ALLOW_ARIA_ATTR!==!1,Cs=At.ALLOW_DATA_ATTR!==!1,Zr=At.ALLOW_UNKNOWN_PROTOCOLS||!1,km=At.ALLOW_SELF_CLOSE_IN_ATTR!==!1,dp=At.SAFE_FOR_TEMPLATES||!1,dg=At.SAFE_FOR_XML!==!1,fh=At.WHOLE_DOCUMENT||!1,Yf=At.RETURN_DOM||!1,ry=At.RETURN_DOM_FRAGMENT||!1,_C=At.RETURN_TRUSTED_TYPE||!1,Wd=At.FORCE_BODY||!1,R3=At.SANITIZE_DOM!==!1,_o=At.SANITIZE_NAMED_PROPS||!1,yl=At.KEEP_CONTENT!==!1,ja=At.IN_PLACE||!1,$n=At.ALLOWED_URI_REGEXP||aL,OC=At.NAMESPACE||L1,FM=At.MATHML_TEXT_INTEGRATION_POINTS||FM,$M=At.HTML_INTEGRATION_POINTS||$M,Ht=At.CUSTOM_ELEMENT_HANDLING||{},At.CUSTOM_ELEMENT_HANDLING&&Tn(At.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ht.tagNameCheck=At.CUSTOM_ELEMENT_HANDLING.tagNameCheck),At.CUSTOM_ELEMENT_HANDLING&&Tn(At.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ht.attributeNameCheck=At.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),At.CUSTOM_ELEMENT_HANDLING&&typeof At.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ht.allowCustomizedBuiltInElements=At.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),dp&&(Cs=!1),ry&&(Yf=!0),Xr&&(go=da({},O5),br=[],Xr.html===!0&&(da(go,_5),da(br,N5)),Xr.svg===!0&&(da(go,lv),da(br,kk),da(br,tp)),Xr.svgFilters===!0&&(da(go,Ek),da(br,kk),da(br,tp)),Xr.mathMl===!0&&(da(go,Tk),da(br,R5),da(br,tp))),At.ADD_TAGS&&(go===_r&&(go=y0(go)),da(go,At.ADD_TAGS,bt)),At.ADD_ATTR&&(br===vu&&(br=y0(br)),da(br,At.ADD_ATTR,bt)),At.ADD_URI_SAFE_ATTR&&da(ay,At.ADD_URI_SAFE_ATTR,bt),At.FORBID_CONTENTS&&(ol===Dm&&(ol=y0(ol)),da(ol,At.FORBID_CONTENTS,bt)),yl&&(go["#text"]=!0),fh&&da(go,["html","head","body"]),go.table&&(da(go,["tbody"]),delete En.tbody),At.TRUSTED_TYPES_POLICY){if(typeof At.TRUSTED_TYPES_POLICY.createHTML!="function")throw b0('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof At.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw b0('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Pt=At.TRUSTED_TYPES_POLICY,en=Pt.createHTML("")}else Pt===void 0&&(Pt=kU(ce,c)),Pt!==null&&typeof en=="string"&&(en=Pt.createHTML(""));Sm&&Sm(At),St=At}},wr=da({},[...lv,...Ek,...rL]),zl=da({},[...Tk,...Ak]),iy=function(At){let bo=ut(At);(!bo||!bo.tagName)&&(bo={namespaceURI:OC,tagName:"template"});const Ds=wk(At.tagName),Uc=wk(bo.tagName);return L3[At.namespaceURI]?At.namespaceURI===xT?bo.namespaceURI===L1?Ds==="svg":bo.namespaceURI===B3?Ds==="svg"&&(Uc==="annotation-xml"||FM[Uc]):!!wr[Ds]:At.namespaceURI===B3?bo.namespaceURI===L1?Ds==="math":bo.namespaceURI===xT?Ds==="math"&&$M[Uc]:!!zl[Ds]:At.namespaceURI===L1?bo.namespaceURI===xT&&!$M[Uc]||bo.namespaceURI===B3&&!FM[Uc]?!1:!zl[Ds]&&(roe[Ds]||!wr[Ds]):!!(P3==="application/xhtml+xml"&&L3[At.namespaceURI]):!1},P1=function(At){Ix(t.removed,{element:At});try{ut(At).removeChild(At)}catch{Ae(At)}},F3=function(At,bo){try{Ix(t.removed,{attribute:bo.getAttributeNode(At),from:bo})}catch{Ix(t.removed,{attribute:null,from:bo})}if(bo.removeAttribute(At),At==="is")if(Yf||ry)try{P1(bo)}catch{}else try{bo.setAttribute(At,"")}catch{}},aoe=function(At){let bo=null,Ds=null;if(Wd)At="<remove></remove>"+At;else{const wf=sL(At,/^[\r\n\t ]+/);Ds=wf&&wf[0]}P3==="application/xhtml+xml"&&OC===L1&&(At='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+At+"</body></html>");const Uc=Pt?Pt.createHTML(At):At;if(OC===L1)try{bo=new Q().parseFromString(Uc,P3)}catch{}if(!bo||!bo.documentElement){bo=Nn.createDocument(OC,"template",null);try{bo.documentElement.innerHTML=PM?en:Uc}catch{}}const mh=bo.body||bo.documentElement;return At&&Ds&&mh.insertBefore(o.createTextNode(Ds),mh.childNodes[0]||null),OC===L1?Ct.call(bo,fh?"html":"body")[0]:fh?bo.documentElement:mh},ioe=function(At){return io.call(At.ownerDocument||At,At,L.SHOW_ELEMENT|L.SHOW_COMMENT|L.SHOW_TEXT|L.SHOW_PROCESSING_INSTRUCTION|L.SHOW_CDATA_SECTION,null)},IJ=function(At){return At instanceof G&&(typeof At.nodeName!="string"||typeof At.textContent!="string"||typeof At.removeChild!="function"||!(At.attributes instanceof W)||typeof At.removeAttribute!="function"||typeof At.setAttribute!="function"||typeof At.namespaceURI!="string"||typeof At.insertBefore!="function"||typeof At.hasChildNodes!="function")},loe=function(At){return typeof T=="function"&&At instanceof T};function g2(zs,At,bo){A5(zs,Ds=>{Ds.call(t,At,bo,St)})}const coe=function(At){let bo=null;if(g2(On.beforeSanitizeElements,At,null),IJ(At))return P1(At),!0;const Ds=bt(At.nodeName);if(g2(On.uponSanitizeElement,At,{tagName:Ds,allowedTags:go}),dg&&At.hasChildNodes()&&!loe(At.firstElementChild)&&gu(/<[/\w!]/g,At.innerHTML)&&gu(/<[/\w!]/g,At.textContent)||At.nodeType===aE.progressingInstruction||dg&&At.nodeType===aE.comment&&gu(/<[/\w]/g,At.data))return P1(At),!0;if(!go[Ds]||En[Ds]){if(!En[Ds]&&doe(Ds)&&(Ht.tagNameCheck instanceof RegExp&&gu(Ht.tagNameCheck,Ds)||Ht.tagNameCheck instanceof Function&&Ht.tagNameCheck(Ds)))return!1;if(yl&&!ol[Ds]){const Uc=ut(At)||At.parentNode,mh=rt(At)||At.childNodes;if(mh&&Uc){const wf=mh.length;for(let fp=wf-1;fp>=0;--fp){const p2=ge(mh[fp],!0);p2.__removalCount=(At.__removalCount||0)+1,Uc.insertBefore(p2,ot(At))}}}return P1(At),!0}return At instanceof k&&!iy(At)||(Ds==="noscript"||Ds==="noembed"||Ds==="noframes")&&gu(/<\/no(script|embed|frames)/i,At.innerHTML)?(P1(At),!0):(dp&&At.nodeType===aE.text&&(bo=At.textContent,A5([Bo,Lo,Ws],Uc=>{bo=p0(bo,Uc," ")}),At.textContent!==bo&&(Ix(t.removed,{element:At.cloneNode()}),At.textContent=bo)),g2(On.afterSanitizeElements,At,null),!1)},uoe=function(At,bo,Ds){if(R3&&(bo==="id"||bo==="name")&&(Ds in o||Ds in zn))return!1;if(!(Cs&&!Xn[bo]&&gu(Pr,bo))){if(!(Bs&&gu(Ca,bo))){if(!br[bo]||Xn[bo]){if(!(doe(At)&&(Ht.tagNameCheck instanceof RegExp&&gu(Ht.tagNameCheck,At)||Ht.tagNameCheck instanceof Function&&Ht.tagNameCheck(At))&&(Ht.attributeNameCheck instanceof RegExp&&gu(Ht.attributeNameCheck,bo)||Ht.attributeNameCheck instanceof Function&&Ht.attributeNameCheck(bo))||bo==="is"&&Ht.allowCustomizedBuiltInElements&&(Ht.tagNameCheck instanceof RegExp&&gu(Ht.tagNameCheck,Ds)||Ht.tagNameCheck instanceof Function&&Ht.tagNameCheck(Ds))))return!1}else if(!ay[bo]){if(!gu($n,p0(Ds,Vc,""))){if(!((bo==="src"||bo==="xlink:href"||bo==="href")&&At!=="script"&&Hx(Ds,"data:")===0&&xf[At])){if(!(Zr&&!gu(ti,p0(Ds,Vc,"")))){if(Ds)return!1}}}}}}return!0},doe=function(At){return At!=="annotation-xml"&&sL(At,Am)},foe=function(At){g2(On.beforeSanitizeAttributes,At,null);const{attributes:bo}=At;if(!bo||IJ(At))return;const Ds={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:br,forceKeepAttr:void 0};let Uc=bo.length;for(;Uc--;){const mh=bo[Uc],{name:wf,namespaceURI:fp,value:p2}=mh,IM=bt(wf),HJ=p2;let hh=wf==="value"?HJ:Ck(HJ);if(Ds.attrName=IM,Ds.attrValue=hh,Ds.keepAttr=!0,Ds.forceKeepAttr=void 0,g2(On.uponSanitizeAttribute,At,Ds),hh=Ds.attrValue,_o&&(IM==="id"||IM==="name")&&(F3(wf,At),hh=Ys+hh),dg&&gu(/((--!?|])>)|<\/(style|title)/i,hh)){F3(wf,At);continue}if(Ds.forceKeepAttr)continue;if(!Ds.keepAttr){F3(wf,At);continue}if(!km&&gu(/\/>/i,hh)){F3(wf,At);continue}dp&&A5([Bo,Lo,Ws],hoe=>{hh=p0(hh,hoe," ")});const moe=bt(At.nodeName);if(!uoe(moe,IM,hh)){F3(wf,At);continue}if(Pt&&typeof ce=="object"&&typeof ce.getAttributeType=="function"&&!fp)switch(ce.getAttributeType(moe,IM)){case"TrustedHTML":{hh=Pt.createHTML(hh);break}case"TrustedScriptURL":{hh=Pt.createScriptURL(hh);break}}if(hh!==HJ)try{fp?At.setAttributeNS(fp,wf,hh):At.setAttribute(wf,hh),IJ(At)?P1(At):oL(t.removed)}catch{F3(wf,At)}}g2(On.afterSanitizeAttributes,At,null)},Oue=function zs(At){let bo=null;const Ds=ioe(At);for(g2(On.beforeSanitizeShadowDOM,At,null);bo=Ds.nextNode();)g2(On.uponSanitizeShadowNode,bo,null),coe(bo),foe(bo),bo.content instanceof h&&zs(bo.content);g2(On.afterSanitizeShadowDOM,At,null)};return t.sanitize=function(zs){let At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},bo=null,Ds=null,Uc=null,mh=null;if(PM=!zs,PM&&(zs="<!-->"),typeof zs!="string"&&!loe(zs))if(typeof zs.toString=="function"){if(zs=zs.toString(),typeof zs!="string")throw b0("dirty is not a string, aborting")}else throw b0("toString is not a function");if(!t.isSupported)return zs;if(Tv||Io(At),t.removed=[],typeof zs=="string"&&(ja=!1),ja){if(zs.nodeName){const p2=bt(zs.nodeName);if(!go[p2]||En[p2])throw b0("root node is forbidden and cannot be sanitized in-place")}}else if(zs instanceof T)bo=aoe("<!---->"),Ds=bo.ownerDocument.importNode(zs,!0),Ds.nodeType===aE.element&&Ds.nodeName==="BODY"||Ds.nodeName==="HTML"?bo=Ds:bo.appendChild(Ds);else{if(!Yf&&!dp&&!fh&&zs.indexOf("<")===-1)return Pt&&_C?Pt.createHTML(zs):zs;if(bo=aoe(zs),!bo)return Yf?null:_C?en:""}bo&&Wd&&P1(bo.firstChild);const wf=ioe(ja?zs:bo);for(;Uc=wf.nextNode();)coe(Uc),foe(Uc),Uc.content instanceof h&&Oue(Uc.content);if(ja)return zs;if(Yf){if(ry)for(mh=Bt.call(bo.ownerDocument);bo.firstChild;)mh.appendChild(bo.firstChild);else mh=bo;return(br.shadowroot||br.shadowrootmode)&&(mh=Ft.call(r,mh,!0)),mh}let fp=fh?bo.outerHTML:bo.innerHTML;return fh&&go["!doctype"]&&bo.ownerDocument&&bo.ownerDocument.doctype&&bo.ownerDocument.doctype.name&&gu(iL,bo.ownerDocument.doctype.name)&&(fp="<!DOCTYPE "+bo.ownerDocument.doctype.name+`>
`+fp),dp&&A5([Bo,Lo,Ws],p2=>{fp=p0(fp,p2," ")}),Pt&&_C?Pt.createHTML(fp):fp},t.setConfig=function(){let zs=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Io(zs),Tv=!0},t.clearConfig=function(){St=null,Tv=!1},t.isValidAttribute=function(zs,At,bo){St||Io({});const Ds=bt(zs),Uc=bt(At);return uoe(Ds,Uc,bo)},t.addHook=function(zs,At){typeof At=="function"&&Ix(On[zs],At)},t.removeHook=function(zs,At){if(At!==void 0){const bo=rE(On[zs],At);return bo===-1?void 0:vU(On[zs],bo,1)[0]}return oL(On[zs])},t.removeHooks=function(zs){On[zs]=[]},t.removeAllHooks=function(){On=Dk()},t}var Ok=_k();const cL=ln.each,DU=ln.trim,uL=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],dL={ftp:21,http:80,https:443,mailto:25},M5=["img","video"],fL=(e,t)=>qe(e)?!e:qe(t)?!Be(M5,t):!0,mL=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},Nk=(e,t,o)=>{const r=mL(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?fL(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class op{static parseDataUri(t){let o;const r=decodeURIComponent(t).split(","),c=/data:([^;]+)/.exec(r[0]);return c&&(o=c[1]),{type:o,data:r[1]}}static isDomSafe(t,o,r={}){if(r.allow_script_urls)return!0;{const c=ed.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!Nk(r,c,o)}}static getDocumentBaseUrl(t){let o;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?o=t.href??"":o=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(o)&&(o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(o)||(o+="/")),o}source;protocol;authority;userInfo;user;password;host;port;relative;path="";directory="";file;query;anchor;settings;constructor(t,o={}){t=DU(t),this.settings=o;const r=o.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){c.source=t;return}const h=t.indexOf("//")===0;if(t.indexOf("/")===0&&!h&&(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const T=r?r.path:new op(document.location.href).directory;if(r?.protocol==="")t="//mce_host"+c.toAbsPath(T,t);else{const k=/([^#?]*)([#?]?.*)/.exec(t);k&&(t=(r&&r.protocol||"http")+"://mce_host"+c.toAbsPath(T,k[1])+k[2])}}t=t.replace(/@@/g,"(mce_at)");const v=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);v&&cL(uL,(T,k)=>{let L=v[k];L&&(L=L.replace(/\(mce_at\)/g,"@@")),c[T]=L}),r&&(c.protocol||(c.protocol=r.protocol),c.userInfo||(c.userInfo=r.userInfo),!c.port&&c.host==="mce_host"&&(c.port=r.port),(!c.host||c.host==="mce_host")&&(c.host=r.host),c.source=""),h&&(c.protocol="")}setPath(t){const o=/^(.*?)\/?(\w+)?$/.exec(t);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const o=new op(t,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),c=o.getURI();if(r===c||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===c)return r;let h=this.toRelPath(this.path,o.path);return o.query&&(h+="?"+o.query),o.anchor&&(h+="#"+o.anchor),h}toAbsolute(t,o){const r=new op(t,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const o=this.protocol?dL[this.protocol]:null;if(o&&(this.port||o)==(t.port||o))return!0}return!1}toRelPath(t,o){let r=0,c="",h,v;const T=t.substring(0,t.lastIndexOf("/")).split("/"),k=o.split("/");if(T.length>=k.length){for(h=0,v=T.length;h<v;h++)if(h>=k.length||T[h]!==k[h]){r=h+1;break}}if(T.length<k.length){for(h=0,v=k.length;h<v;h++)if(h>=T.length||T[h]!==k[h]){r=h+1;break}}if(r===1)return o;for(h=0,v=T.length-(r-1);h<v;h++)c+="../";for(h=r-1,v=k.length;h<v;h++)h!==r-1?c+="/"+k[h]:c+=k[h];return c}toAbsPath(t,o){let r=0;const c=/\/$/.test(o)?"/":"",h=t.split("/"),v=o.split("/"),T=[];cL(h,G=>{G&&T.push(G)});const k=[];for(let G=v.length-1;G>=0;G--)if(!(v[G].length===0||v[G]===".")){if(v[G]===".."){r++;continue}if(r>0){r--;continue}k.push(v[G])}const L=T.length-r;let W;return L<=0?W=zo(k).join("/"):W=T.slice(0,L).join("/")+"/"+zo(k).join("/"),W.indexOf("/")!==0&&(W="/"+W),c&&W.lastIndexOf("/")!==W.length-1&&(W+=c),W}getURI(t=!1){let o;return(!this.source||t)&&(o="",t||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const _U=ln.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),sp="data-mce-type";let ng=0;const iE=(e,t,o,r,c)=>{const h=t.validate,v=o.getSpecialElements();e.nodeType===xl&&(!t.allow_conditional_comments&&/^\[if/i.test(e.nodeValue??"")&&(e.nodeValue=" "+e.nodeValue),t.sanitize&&t.allow_html_in_comments&&J(e.nodeValue)&&(e.nodeValue=tU(e.nodeValue)));const T=c?.tagName??e.nodeName.toLowerCase();if(r!=="html"&&o.isValid(r)){qe(c)&&(c.allowedTags[T]=!0);return}if(e.nodeType!==Ch||T==="body")return;const k=_e.fromDom(e),L=Gr(k,sp),W=yr(k,"data-mce-bogus");if(!L&&J(W)){W==="all"?ws(k):Gl(k);return}const G=o.getElementRule(T);if(h&&!G){Qn(v,T)?ws(k):Gl(k);return}else qe(c)&&(c.allowedTags[T]=!0);if(h&&G&&!L){if(Le(G.attributesForced??[],Q=>{Or(k,Q.name,Q.value==="{$uid}"?`mce_${ng++}`:Q.value)}),Le(G.attributesDefault??[],Q=>{Gr(k,Q.name)||Or(k,Q.name,Q.value==="{$uid}"?`mce_${ng++}`:Q.value)}),G.attributesRequired&&!Ke(G.attributesRequired,Q=>Gr(k,Q))){Gl(k);return}if(G.removeEmptyAttrs&&tf(k)){Gl(k);return}G.outputName&&G.outputName!==T&&qa(k,G.outputName)}},hL=(e,t,o,r,c)=>{const h=e.tagName.toLowerCase(),{attrName:v,attrValue:T}=c;c.keepAttr=lE(t,o,r,h,v,T),c.keepAttr?(c.allowedAttributes[v]=!0,L5(v,o,e.nodeName)&&(c.attrValue=v),t.allow_svg_data_urls&&Co(T,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):B5(e,v)&&(c.forceKeepAttr=!0)},lE=(e,t,o,r,c,h)=>o!=="html"&&!Rg(r)?!0:!(c in _U&&Nk(e,h,r))&&(!e.validate||t.isValid(r,c)||Co(c,"data-")||Co(c,"aria-")),B5=(e,t)=>e.hasAttribute(sp)&&(t==="id"||t==="class"||t==="style"),L5=(e,t,o)=>e in t.getBoolAttrs()&&!Qn(t.getCustomElements(),o.toLowerCase()),gL=(e,t,o,r)=>{const{attributes:c}=e;for(let h=c.length-1;h>=0;h--){const v=c[h],T=v.name,k=v.value;!lE(t,o,r,e.tagName.toLowerCase(),T,k)&&!B5(e,T)?e.removeAttribute(T):L5(T,o,e.nodeName)&&e.setAttribute(T,T)}},pL=(e,t,o)=>{const r=Ok();return r.addHook("uponSanitizeElement",(c,h)=>{iE(c,e,t,o.track(c),h)}),r.addHook("uponSanitizeAttribute",(c,h)=>{hL(c,e,t,o.current(),h)}),r},bL=(e,t)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body","html"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=t,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},yL=e=>{const t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(r=>`xlink:${r}`),o={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t};Ok().sanitize(e,o)},Rk=(e,t)=>{const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},r=Ok(),c=t.allow_mathml_annotation_encodings,h=Xe(c)&&c.length>0,v=k=>{const L=k.getAttribute("encoding");return h&&J(L)&&Be(c,L)},T=(k,L)=>h&&L==="semantics"?X.some(!0):L==="annotation"?X.some(Sn(k)&&v(k)):Xe(t.extended_mathml_elements)&&t.extended_mathml_elements.includes(L)?X.from(!0):X.none();r.addHook("uponSanitizeElement",(k,L)=>{const W=L.tagName??k.nodeName.toLowerCase();T(k,W).each(Q=>{L.allowedTags[W]=Q,!Q&&t.sanitize&&Sn(k)&&k.remove()})}),r.addHook("uponSanitizeAttribute",(k,L)=>{Xe(t.extended_mathml_attributes)&&t.extended_mathml_attributes.includes(L.attrName)&&(L.forceKeepAttr=!0)}),r.sanitize(e,o)},P5=e=>t=>{const o=W0(t);if(o==="svg")yL(t);else if(o==="math")Rk(t,e);else throw new Error("Not a namespace element")},OU=(e,t)=>{const o=Fv();if(e.sanitize){const r=pL(e,t,o);return{sanitizeHtmlElement:(h,v)=>{r.sanitize(h,bL(e,v)),r.removed=[],o.reset()},sanitizeNamespaceElement:P5(e)}}else return{sanitizeHtmlElement:(h,v)=>{const T=document.createNodeIterator(h,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let k;for(;k=T.nextNode();){const L=o.track(k);iE(k,e,t,L),Sn(k)&&gL(k,e,t,L)}o.reset()},sanitizeNamespaceElement:Lt}},vL=["script","style","template","param","meta","title","link"],xL=ln.makeMap,wL=ln.extend,F5=(e,t,o,r,c)=>{const h=e.name,v=h in o&&h!=="title"&&h!=="textarea"&&h!=="noscript",T=t.childNodes;for(let k=0,L=T.length;k<L;k++){const W=T[k],G=new Hc(W.nodeName.toLowerCase(),W.nodeType);if(Sn(W)){const Q=W.attributes;for(let ce=0,De=Q.length;ce<De;ce++){const ge=Q[ce];G.attr(ge.name,ge.value)}Rg(G.name)&&(r(W),G.value=W.innerHTML)}else dn(W)?(G.value=W.data,v&&(G.raw=!0)):ns(W)?G.value=c?nU(W.data):W.data:(Dp(W)||Fi(W))&&(G.value=W.data);if(Rh(W)){const Q=Hc.create("#text");Q.value=W.innerHTML,Q.raw=!0,G.append(Q)}else Rg(G.name)||F5(G,W,o,r,c);e.append(G)}},NU=(e,t,o)=>{const r=[];for(let c=e,h=c;c;h=c,c=c.walk()){const v=c;Le(t,T=>T(v)),fn(v.parent)&&v!==e?c=h:r.push(v)}for(let c=r.length-1;c>=0;c--){const h=r[c];Le(o,v=>v(h))}},RU=(e,t,o,r)=>{const c=o.validate,h=t.getNonEmptyElements(),v=t.getWhitespaceElements(),T=wL(xL(vL),t.getBlockElements()),k=Ty(t),L=/[ \t\r\n]+/g,W=/^[ \t\r\n]+/,G=/[ \t\r\n]+$/,Q=rt=>{let ut=rt.parent;for(;qe(ut);){if(ut.name in v)return!0;ut=ut.parent}return!1},ce=rt=>{let ut=rt;for(;qe(ut);){if(ut.name in k)return nE(t,h,v,ut);ut=ut.parent}return!1},De=rt=>rt.name in T||cu(t,rt)||Rg(rt.name)&&rt.parent===e,ge=(rt,ut)=>{const Pt=ut?rt.prev:rt.next;return qe(Pt)||fn(rt.parent)?!1:De(rt.parent)&&(rt.parent!==e||r.isRootContent===!0)};return[rt=>{if(rt.type===3&&!Q(rt)){let ut=rt.value??"";ut=ut.replace(L," "),(g0(rt.prev,De)||ge(rt,!0))&&(ut=ut.replace(W,"")),ut.length===0||ut===" "&&rt.prev&&rt.prev.type===xl&&rt.next&&rt.next.type===xl?rt.remove():rt.value=ut}},rt=>{if(rt.type===1){const ut=t.getElementRule(rt.name);if(c&&ut){const Pt=nE(t,h,v,rt);ut.paddInEmptyBlock&&Pt&&ce(rt)?av(o,r,De,rt):ut.removeEmpty&&Pt?De(rt)?rt.remove():rt.unwrap():ut.paddEmpty&&(Pt||Rw(rt))&&av(o,r,De,rt)}}else if(rt.type===3&&!Q(rt)){let ut=rt.value??"";(rt.next&&De(rt.next)||ge(rt,!1))&&(ut=ut.replace(G,"")),ut.length===0?rt.remove():rt.value=ut}}]},$5=(e,t)=>{const o=t.forced_root_block??e.forced_root_block;return o===!1?"":o===!0?"p":o},CL=' xmlns="http://www.w3.org/1999/xhtml"',Lw=(e={},t=Ls())=>{const o=Y8(),r=Y8(),c={validate:!0,root_name:"body",sanitize:!0,allow_html_in_comments:!1,...e},h=new DOMParser,v=OU(c,t),T=(ut,Pt,en="html",Nn=!1)=>{const io=en==="xhtml",Bt=io?"application/xhtml+xml":"text/html",Ct=Qn(t.getSpecialElements(),Pt.toLowerCase()),Ft=Ct?`<${Pt}>${ut}</${Pt}>`:ut,On=()=>/^[\s]*<head/i.test(ut)||/^[\s]*<html/i.test(ut)||/^[\s]*<!DOCTYPE/i.test(ut)?`<html${io?CL:""}>${Ft}</html>`:io?`<html${CL}><head></head><body>${Ft}</body></html>`:`<body>${Ft}</body>`,Bo=h.parseFromString(On(),Bt),Lo=Nn?Bo.documentElement:Bo.body;return v.sanitizeHtmlElement(Lo,Bt),Ct?Lo.firstChild:Lo},k=o.addFilter,L=o.getFilters,W=o.removeFilter,G=r.addFilter,Q=r.getFilters,ce=r.removeFilter,De=(ut,Pt)=>{oE(t,ut)&&Pt.push(ut)},ge=(ut,Pt)=>{const en=J(Pt.attr(sp)),Nn=Pt.type===1&&!Qn(ut,Pt.name)&&!cu(t,Pt)&&!Rg(Pt.name);return Pt.type===3||Nn&&!en},Ae=(ut,Pt)=>{const en=wL(xL(vL),t.getBlockElements()),Nn=/^[ \t\r\n]+/,io=/[ \t\r\n]+$/;let Bt=ut.firstChild,Ct=null;const Ft=On=>{On&&(Bt=On.firstChild,Bt&&Bt.type===3&&(Bt.value=Bt.value?.replace(Nn,"")),Bt=On.lastChild,Bt&&Bt.type===3&&(Bt.value=Bt.value?.replace(io,"")))};if(t.isValidChild(ut.name,Pt.toLowerCase())){for(;Bt;){const On=Bt.next;ge(en,Bt)?(Ct||(Ct=new Hc(Pt,1),Ct.attr(c.forced_root_block_attrs),ut.insert(Ct,Bt)),Ct.append(Bt)):(Ft(Ct),Ct=null),Bt=On}Ft(Ct)}},rt={schema:t,addAttributeFilter:G,getAttributeFilters:Q,removeAttributeFilter:ce,addNodeFilter:k,getNodeFilters:L,removeNodeFilter:W,parse:(ut,Pt={})=>{const en=c.validate,Nn=(Pt.context??c.root_name)==="#document",io=Pt.context??(Nn?"html":c.root_name),Bt=T(ut,io,Pt.format,Nn);ml(t,Bt);const Ct=new Hc(io,11);F5(Ct,Bt,t.getSpecialElements(),v.sanitizeNamespaceElement,c.sanitize&&c.allow_html_in_comments),Bt.innerHTML="";const[Ft,On]=RU(Ct,t,c,Pt),Bo=[],Lo=en?ti=>De(ti,Bo):Lt,Ws={nodes:{},attributes:{}},Pr=ti=>p5(L(),Q(),ti,Ws);NU(Ct,[Ft,Pr],[On,Lo]),Bo.reverse(),en&&Bo.length>0&&(Pt.context?Pt.invalid=!0:G8(Bo,t,Ct,Pr));const Ca=$5(c,Pt);return Ca&&(Ct.name==="body"||Pt.isRootContent)&&Ae(Ct,Ca),Pt.invalid||W8(Ws,Pt),Ct}};return gU(rt,c),rU(rt,c,t),rt},Mk=e=>e instanceof Hc,MU=e=>Mk(e)?tv({validate:!1}).serialize(e):e,SL=(e,t,o)=>{const r=MU(e),c=t(r);if(c.isDefaultPrevented())return c;if(Mk(e))if(c.content!==r){const h=Lw({validate:!1,forced_root_block:!1,...o}).parse(c.content,{context:e.name});return{...c,content:h}}else return{...c,content:e};else return c},EL=e=>({sanitize:lw(e),sandbox_iframes:Xy(e),sandbox_iframes_exclusions:a0(e)}),TL=(e,t)=>{if(t.no_events)return Ie.value(t);{const o=qy(e,t);return o.isDefaultPrevented()?Ie.error(jT(e,{content:"",...o}).content):Ie.value(o)}},cE=(e,t,o)=>o.no_events?t:SL(t,c=>jT(e,{...o,content:c}),EL(e)).content,uE=(e,t)=>{if(t.no_events)return Ie.value(t);{const o=SL(t.content,r=>pD(e,{...t,content:r}),EL(e));return o.isDefaultPrevented()?(zT(e,o),Ie.error(void 0)):Ie.value(o)}},I5=(e,t,o)=>{o.no_events||zT(e,{...o,content:t})},BU="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),LU=["content_css_cors"],PU="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),H5=[{name:"export",replacedWith:"Export to PDF"}],AL=(e,t)=>{const o=xt(t,r=>Qn(e,r));return Ss(o)},FU=e=>{const t=AL(e,BU),o=e.forced_root_block;return(o===!1||o==="")&&t.push("forced_root_block (false only)"),Ss(t)},z5=e=>AL(e,LU),kL=(e,t)=>{const o=ln.makeMap(e.plugins," "),c=xt(t,h=>Qn(o,h));return Ss(c)},$U=e=>kL(e,PU),IU=e=>kL(e,H5.map(t=>t.name)),HU=(e,t)=>{const o=FU(e),r=$U(t),c=r.length>0,h=o.length>0,v=t.theme==="mobile";if(c||h||v){const k=v?`

Themes:
- mobile`:"",L=c?`

Plugins:
- ${r.join(`
- `)}`:"",W=h?`

Options:
- ${o.join(`
- `)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 8.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/8/migration-from-7x/ for more information."+k+L+W)}},zU=e=>sn(H5,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),jU=(e,t)=>{const o=z5(e),r=IU(t),c=r.length>0,h=o.length>0;if(c||h){const T=c?`

Plugins:
- ${r.map(zU).join(`
- `)}`:"",k=h?`

Options:
- ${o.join(`
- `)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+T+k)}},VU=(e,t)=>{HU(e,t),jU(e,t)},Bk={fire:'The "fire" event api has been deprecated and will be removed in TinyMCE 9. Use "dispatch" instead.',selectionSetContent:'The "editor.selection.setContent" method has been deprecated and will be removed in TinyMCE 9. Use "editor.insertContent" instead.'},dE=e=>{console.warn(Bk[e],new Error().stack)},DL=e=>e.dom.length===0?(ws(e),X.none()):X.some(e),UU=(e,t)=>e.filter(o=>Tw.isBookmarkNode(o.dom)).bind(t?Za:Wu),Lk=(e,t,o,r,c)=>{const h=e.dom,v=t.dom,T=r?h.length:v.length;r?(uk(h,v,c,!1,!r),o.setStart(v,T)):(uk(v,h,c,!1,!r),o.setEnd(v,T))},ZU=(e,t,o)=>{Wi(e).each(r=>{const c=e.dom;t&&qS(r,_t(c,0),o)?lk(c,0,o):!t&&fd(r,_t(c,c.length),o)&&ck(c,c.length,o)})},_L=(e,t,o,r,c)=>{e.bind(h=>((r?ck:lk)(h.dom,r?h.dom.length:0,c),t.filter(xs).map(T=>Lk(h,T,o,r,c)))).orThunk(()=>UU(t,r).or(t).filter(xs).map(v=>ZU(v,r,c)))},WU=(e,t,o)=>{const r=X.from(t.firstChild).map(_e.fromDom),c=X.from(t.lastChild).map(_e.fromDom);e.deleteContents(),e.insertNode(t);const h=r.bind(Wu).filter(xs).bind(DL),v=c.bind(Za).filter(xs).bind(DL);_L(h,r,e,!0,o),_L(v,c,e,!1,o),e.collapse(!1)},qU=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),GU=(e,t)=>{if(t.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),c=r?{context:r.nodeName.toLowerCase()}:{},h=e.parser.parse(t.content,{forced_root_block:!1,...c,...t});return tv({validate:!1},e.schema).serialize(h)}else return t.content},Pk=(e,t,o={})=>{const r=qU(o,t);uE(e,r).each(c=>{const h=GU(e,c),v=e.selection.getRng();WU(v,v.createContextualFragment(h),e.schema),e.selection.setRng(v),sh(e,v),I5(e,h,c)})},KU=(e,t,o={})=>{dE("selectionSetContent"),Pk(e,t,o)},YU=e=>qe(e.firstChild)&&e.firstChild===e.lastChild,XU=e=>e.name==="br"||e.value===qr,QU=(e,t)=>e.getBlockElements()[t.name]&&YU(t)&&XU(t.firstChild),JU=(e,t)=>{const o=e.getNonEmptyElements();return qe(t)&&(t.isEmpty(o)||QU(e,t))},Mne=(e,t)=>{let o=t.firstChild,r=t.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),JU(e,r)&&(r=r?.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},rp=e=>{const t=e.firstChild,o=e.lastChild;return t&&t.nodeName==="META"&&t.parentNode?.removeChild(t),o&&o.id==="mce_marker"&&o.parentNode?.removeChild(o),e},OL=(e,t,o)=>{const r=t.serialize(o),c=e.createFragment(r);return rp(c)},eZ=e=>xt(e?.childNodes??[],t=>t.nodeName==="LI"),NL=e=>e.data===qr||la(e),tZ=e=>qe(e?.firstChild)&&e.firstChild===e.lastChild&&NL(e.firstChild),nZ=e=>!e.firstChild||tZ(e),Bne=e=>e.length>0&&nZ(e[e.length-1])?e.slice(0,-1):e,pu=(e,t)=>{const o=e.getParent(t,e.isBlock);return o&&o.nodeName==="LI"?o:null},oZ=(e,t)=>!!pu(e,t),j5=(e,t)=>{const o=t.cloneRange(),r=t.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},RL=(e,t)=>{const o=_t.before(e),c=Xh(t).next(o);return c?c.toRange():null},fE=(e,t)=>{const o=_t.after(e),c=Xh(t).prev(o);return c?c.toRange():null},sZ=(e,t,o,r)=>{const c=j5(e,r),h=e.parentNode;return h&&(h.insertBefore(c[0],e),ln.each(t,v=>{h.insertBefore(v,e)}),h.insertBefore(c[1],e),h.removeChild(e)),fE(t[t.length-1],o)},rZ=(e,t,o)=>{const r=e.parentNode;return r&&ln.each(t,c=>{r.insertBefore(c,e)}),RL(e,o)},aZ=(e,t,o,r)=>(r.insertAfter(t.reverse(),e),fE(t[0],o)),iZ=(e,t,o,r)=>{const c=OL(t,e,r),h=pu(t,o.startContainer),v=Bne(eZ(c.firstChild)),T=1,k=2,L=t.getRoot(),W=G=>{const Q=_t.fromRangeStart(o),ce=Xh(t.getRoot()),ge=(G===T?ce.prev(Q):ce.next(Q))?.getNode();return ge?pu(t,ge)!==h:!0};return h?W(T)?rZ(h,v,L):W(k)?aZ(h,v,L,t):sZ(h,v,L,o):null},lZ=["pre"],ML=(e,t,o,r)=>{const c=t.firstChild,h=t.lastChild,v=h.attr("data-mce-type")==="bookmark"?h.prev:h,T=c===v,k=Be(lZ,c.name);if(T&&k){const L=c.attr("contenteditable")!=="false",W=e.getParent(o,e.isBlock)?.nodeName.toLowerCase()===c.name,G=X.from(m0(r,o)).forall(Mu);return L&&W&&G}else return!1},V5=Np,BL=(e,t,o)=>{if(qe(o)){const r=e.getParent(t.endContainer,V5);return o===r&&JD(_e.fromDom(o),t)}else return!1},LL=(e,t)=>{if(e.isBlock(t)&&e.isEditable(t)){const o=t.childNodes;return o.length===1&&la(o[0])||o.length===0}else return!1},cZ=(e,t,o)=>{o.getAttribute("data-mce-bogus")==="all"?o.parentNode?.insertBefore(e.dom.createFragment(t),o):LL(e.dom,o)?e.dom.setHTML(o,t):Pk(e,t,{no_events:!0})},uZ=(e,t,o)=>{X.from(e.getParent(t,"td,th")).map(_e.fromDom).each(r=>Rr(r,o))},dZ=(e,t)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(t){const c=e.getBody(),h=h0(e),v="*[data-mce-fragment]",T=r.select(v);ln.each(T,k=>{const L=Q=>qe(o[Q.nodeName.toLowerCase()]),W=Q=>Q.childNodes.length===1;if((Q=>!(E6(r,Q)||T6(r,Q)))(k)&&L(k)&&W(k)){const Q=_w(r,k),ce=(ot,rt)=>mr(ot,ut=>Be(rt,ut)),De=ot=>W(k)&&r.is(ot,v)&&L(ot)&&(ot.nodeName===k.nodeName&&ce(Q,_w(r,ot))||De(ot.children[0])),ge=ot=>qe(ot)&&ot!==c&&(h.compare(k,ot)||ge(ot.parentElement)),Ae=ot=>qe(ot)&&ot!==c&&r.is(ot,v)&&(Bj(r,k,ot)||Ae(ot.parentElement));(De(k.children[0])||ge(k.parentElement)&&!Ae(k.parentElement))&&r.remove(k,!0)}}),qV(e,Cd(T))}},fZ=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},mZ=e=>{ln.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},Fk=e=>!!e.getAttribute("data-mce-fragment"),PL=(e,t)=>qe(t)&&!e.schema.getVoidElements()[t.nodeName],FL=(e,t)=>{let o;const r=e.dom,c=e.selection;if(!t)return;c.scrollIntoView(t);const h=m0(e.getBody(),t);if(h&&r.getContentEditable(h)==="false"){r.remove(t),c.select(h);return}let v=r.createRng();const T=t.previousSibling;if(dn(T)){v.setStart(T,T.nodeValue?.length??0);const W=t.nextSibling;dn(W)&&(T.appendData(W.data),W.parentNode?.removeChild(W))}else v.setStartBefore(t),v.setEndBefore(t);const k=W=>{let G=_t.fromRangeStart(W);return G=Xh(e.getBody()).next(G),G?.toRange()},L=r.getParent(t,r.isBlock);if(r.remove(t),L&&r.isEmpty(L)){const W=V5(L);ql(_e.fromDom(L)),v.setStart(L,0),v.setEnd(L,0),!W&&!Fk(L)&&(o=k(v))?(v=o,r.remove(L)):r.add(L,r.create("br",W?{}:{"data-mce-bogus":"1"}))}c.setRng(v)},hZ=e=>{const t=e.dom,o=y5(e.selection.getRng());e.selection.setRng(o);const r=t.getParent(o.startContainer,V5);BL(t,o,r)?fk(e,o,_e.fromDom(r)):Oz(o)||_z(o)?o.deleteContents():e.getDoc().execCommand("Delete",!1)},$L=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return X.some(t);return X.none()},gZ=(e,t,o)=>Ke(o.children(),Gf)&&e.getParent(t,e.isBlock)?.nodeName==="SUMMARY",pZ=(e,t,o)=>{const r=e.selection,c=e.dom,h=e.parser,v=o.merge,T=tv({validate:!0},e.schema),k='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(t=Pc(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,k);let L=r.getRng();const W=L.startContainer,G=e.getBody();W===G&&r.isCollapsed()&&c.isBlock(G.firstChild)&&PL(e,G.firstChild)&&c.isEmpty(G.firstChild)&&(L=c.createRng(),L.setStart(G.firstChild,0),L.setEnd(G.firstChild,0),r.setRng(L)),r.isCollapsed()||hZ(e);const Q=r.getNode(),ce={context:Q.nodeName.toLowerCase(),data:o.data,insert:!0},De=h.parse(t,ce);if(o.paste===!0&&Mne(e.schema,De)&&oZ(c,Q))return L=iZ(T,c,r.getRng(),De),L&&r.setRng(L),t;o.paste===!0&&ML(c,De,Q,e.getBody())&&De.firstChild?.unwrap(),fZ(De);let ge=De.lastChild;if(ge&&ge.attr("id")==="mce_marker"){const Ae=ge;for(ge=ge.prev;ge&&ge.name!=="table";ge=ge.walk(!0))if(ge.type===3||!c.isBlock(ge.name)){ge.parent&&e.schema.isValidChild(ge.parent.name,"span")&&ge.parent.insert(Ae,ge,ge.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(Q),!ce.invalid&&!gZ(c,Q,De))t=T.serialize(De),cZ(e,t,Q);else{Pk(e,k);let Ae=r.getNode(),ot;const rt=e.getBody();for(zm(Ae)?Ae=ot=rt:ot=Ae;ot&&ot!==rt;)Ae=ot,ot=ot.parentNode;t=Ae===rt?rt.innerHTML:c.getOuterHTML(Ae);const ut=h.parse(t),Pt=$L(ut),en=Pt.bind(QV).getOr(ut);Pt.each(Bt=>Bt.replace(De));const Nn=JV(De);De.unwrap();const io=xt(Nn,Bt=>oE(e.schema,Bt));G8(io,e.schema,en),q8(h.getNodeFilters(),h.getAttributeFilters(),ut),t=T.serialize(ut),Ae===rt?c.setHTML(rt,t):c.setOuterHTML(Ae,t)}return dZ(e,v),FL(e,c.get("mce_marker")),mZ(e.getBody()),uZ(c,r.getStart(),e.schema),rb(e.schema,e.getBody(),r.getStart()),t},bZ=e=>{kw(e)&&I(e.getBody()).each(t=>{const o=t.getNode(),r=iu(o)?I(o).getOr(t):t;e.selection.setRng(r.toRange())})},mE=(e,t,o)=>{e.dom.setHTML(e.getBody(),t),o!==!0&&bZ(e)},U5=(e,t,o,r)=>{if(o=Pc(o),o.length===0||/^\s+$/.test(o)){const c='<br data-mce-bogus="1">';t.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(o="<li>"+c+"</li>");const h=bl(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),h.toLowerCase())?(o=c,o=e.dom.createHTML(h,th(e),o)):o||(o=c),mE(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=tv({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const c=Oy(_e.fromDom(t))?o:ln.trim(o);return mE(e,c,r.no_selection),{content:c,html:c}}},yZ=(e,t,o,r)=>{q8(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const c=tv({validate:!1},e.schema).serialize(o),h=Pc(Oy(_e.fromDom(t))?c:ln.trim(c));return mE(e,h,r.no_selection),{content:o,html:h}},Z5=(e,t,o)=>X.from(e.getBody()).map(r=>Mk(t)?yZ(e,r,t,o):U5(e,r,t,o)).getOr({content:t,html:Mk(o.content)?"":o.content}),hE={},IL=Xu(["pre"]),vZ=(e,t)=>{hE[e]||(hE[e]=[]),hE[e].push(t)},xZ=(e,t)=>{Qn(hE,e)&&Le(hE[e],o=>{o(t)})};vZ("pre",e=>{const t=e.selection.getRng(),o=c=>h=>{const v=h.previousSibling;return IL(v)&&Be(c,v)},r=(c,h)=>{const v=_e.fromDom(h),T=Xc(v).dom;ws(v),hc(_e.fromDom(c),[_e.fromTag("br",T),_e.fromTag("br",T),...ma(v)])};if(!t.collapsed){const c=e.selection.getSelectedBlocks(),h=xt(xt(c,IL),o(c));Le(h,v=>{r(v.previousSibling,v)})}});const HL=ln.each,wZ=(e,t,o,r)=>{const c=h=>{if(ru(h)&&Sn(h.parentNode)&&e.isEditable(h)){const v=MB(e,h.parentNode);e.getStyle(h,"color")&&v?e.setStyle(h,"text-decoration",v):e.getStyle(h,"text-decoration")===v&&e.setStyle(h,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(ln.walk(r,c,"childNodes"),c(r))},zL=(e,t,o,r)=>{if(t.styles&&t.styles.backgroundColor){const c=c5(e,"fontSize");l5(r,h=>c(h)&&e.isEditable(h),B8(e,"backgroundColor",Hb(t.styles.backgroundColor,o)))}},CZ=(e,t,o,r)=>{if(hu(t)&&(t.inline==="sub"||t.inline==="sup")){const c=c5(e,"fontSize");l5(r,v=>c(v)&&e.isEditable(v),B8(e,"fontSize",""));const h=xt(e.select(t.inline==="sup"?"sub":"sup",r),e.isEditable);e.remove(h,!0)}},SZ=(e,t,o,r)=>{HL(t,c=>{hu(c)&&HL(e.dom.select(c.inline,r),h=>{i5(h)&&tE(e,c,o,h,c.exact?h:null)}),LV(e.dom,c,r)})},EZ=(e,t,o,r,c)=>{const h=c.parentNode;tg(e,h,o,r)&&tE(e,t,r,c)||t.merge_with_parents&&h&&e.dom.getParent(h,v=>tg(e,v,o,r)?(tE(e,t,r,c),!0):!1)},TZ=ln.each,AZ=(e,t,o,r)=>{if(TB(e)&&hu(t)&&o.parentNode){const c=Ty(e.schema),h=_n(_e.fromDom(o),v=>de(v.dom));return ls(c,r)&&fo(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!h}else return!1},kZ=(e,t,o,r)=>{const c=e.formatter.get(t),h=c[0],v=!r&&e.selection.isCollapsed(),T=e.dom,k=e.selection,L=(ce,De)=>{let ge=!1;return TZ(ce,Ae=>Kg(Ae)?T.getContentEditable(De)==="false"&&!Ae.ceFalseOverride||qe(Ae.collapsed)&&Ae.collapsed!==v?!0:T.is(De,Ae.selector)&&!de(De)?(Px(e,De,Ae,o,De),ge=!0,!1):!0:!1),ge},W=ce=>{if(J(ce)){const De=T.create(ce);return Px(e,De,h,o,r),De}else return null},G=(ce,De,ge)=>{const Ae=[];let ot=!0;const rt=h.inline||h.block,ut=W(rt),Pt=io=>Mz(h)&&tg(e,io,t,o),en=(io,Bt,Ct)=>{const Ft=Bz(h)&&PS(e.schema,io)&&Sw(e,Bt,rt);return Ct&&Ft},Nn=(io,Bt,Ct,Ft)=>{const On=io.nodeName.toLowerCase(),Bo=Sw(e,rt,On)&&Sw(e,Bt,rt),Lo=!ge&&dn(io)&&$g(io.data),Ws=de(io),Pr=!hu(h)||!ce.isBlock(io);return(Ct||Ft)&&Bo&&!Lo&&!Ws&&Pr};Yg(ce,De,io=>{let Bt;const Ct=Ft=>{let On=!1,Bo=ot,Lo=!1;const Ws=Ft.parentNode,Pr=Ws.nodeName.toLowerCase(),Ca=ce.getContentEditable(Ft);qe(Ca)&&(Bo=ot,ot=Ca==="true",On=!0,Lo=RB(e,Ft));const ti=ot&&!On;if(la(Ft)&&!AZ(e,h,Ft,Pr)){Bt=null,u0(h)&&ce.remove(Ft);return}if(Pt(Ft)){Bt=null;return}if(en(Ft,Pr,ti)){const Vc=ce.rename(Ft,rt);Px(e,Vc,h,o,Ft),Ae.push(Vc),Bt=null;return}if(Kg(h)){let Vc=L(c,Ft);if(!Vc&&qe(Ws)&&n_(h)&&(Vc=L(c,Ws)),!hu(h)||Vc){Bt=null;return}}qe(ut)&&Nn(Ft,Pr,ti,Lo)?(Bt||(Bt=ce.clone(ut,!1),Ws.insertBefore(Bt,Ft),Ae.push(Bt)),Lo&&On&&(ot=Bo),Bt.appendChild(Ft)):(Bt=null,Le(Es(Ft.childNodes),Ct),On&&(ot=Bo),Bt=null)};Le(io,Ct)}),h.links===!0&&Le(Ae,io=>{const Bt=Ct=>{Ct.nodeName==="A"&&Px(e,Ct,h,o,r),Le(Es(Ct.childNodes),Bt)};Bt(io)}),WV(e,t,Cd(Ae)),Le(Ae,io=>{const Bt=On=>{let Bo=0;return Le(On.childNodes,Lo=>{!Nz(Lo)&&!wi(Lo)&&Bo++}),Bo},Ct=On=>sn(On.childNodes,LS).filter(Lo=>ce.getContentEditable(Lo)!=="false"&&hk(ce,Lo,h)).map(Lo=>{const Ws=ce.clone(Lo,!1);return Px(e,Ws,h,o,On),ce.replace(Ws,On,!0),ce.remove(Lo,!0),Ws}).getOr(On),Ft=Bt(io);if((Ae.length>1||!ce.isBlock(io))&&Ft===0){ce.remove(io,!0);return}(hu(h)||u0(h)&&h.wrapper)&&(!h.exact&&Ft===1&&(io=Ct(io)),SZ(e,c,o,io),EZ(e,h,t,o,io),zL(ce,h,o,io),wZ(ce,h,o,io),CZ(ce,h,o,io),M8(e,h,o,io))})},Q=BS(r)?r:k.getNode();if(T.getContentEditable(Q)==="false"&&!RB(e,Q)){r=Q,L(c,r),s0(e,t,r,o);return}if(h){if(r)if(BS(r)){if(!L(c,r)){const ce=T.createRng();ce.setStartBefore(r),ce.setEndAfter(r),G(T,y1(T,ce,c),!0)}}else G(T,r,!0);else!v||!hu(h)||eo(e).length?(k.setRng(y5(k.getRng())),_B(e,()=>{RS(e,(ce,De)=>{const ge=De?ce:y1(T,ce,c);G(T,ge,!1)})},dt),e.nodeChanged()):v8(e,t,o),MV(e.formatter,t).each(ce=>{const De=a5(e.selection);Le(De,ge=>K_(T,ge,ce,o))});xZ(t,e)}s0(e,t,r,o)},jL=(e,t,o,r)=>{(r||e.selection.isEditable())&&kZ(e,t,o,r)},zx=e=>Qn(e,"vars"),$k=(e,t)=>{e.set({}),t.on("NodeChange",o=>{UL(t,o.element,e.get())}),t.on("FormatApply FormatRemove",o=>{const r=X.from(o.node).map(c=>BS(c)?c:c.startContainer).bind(c=>Sn(c)?X.some(c):X.from(c.parentElement)).getOrThunk(()=>W5(t));UL(t,r,e.get())})},W5=e=>e.selection.getStart(),q5=(e,t,o,r,c)=>Tt(t,T=>{const k=e.formatter.matchNode(T,o,c??{},r);return!xn(k)},T=>f8(e,T,o)?!0:r?!1:qe(e.formatter.matchNode(T,o,c,!0))),VL=(e,t)=>{const o=t??W5(e);return xt($A(e.dom,o),r=>Sn(r)&&!Hm(r))},UL=(e,t,o)=>{const r=VL(e,t);Oo(o,(c,h)=>{const v=T=>{const k=q5(e,r,h,T.similar,zx(T)?T.vars:void 0),L=k.isSome();if(T.state.get()!==L){T.state.set(L);const W=k.getOr(t);zx(T)?T.callback(L,{node:W,format:h,parents:r}):Le(T.callbacks,G=>G(L,{node:W,format:h,parents:r}))}};Le([c.withSimilar,c.withoutSimilar],v),Le(c.withVars,v)})},G5=(e,t,o,r,c,h)=>{const v=t.get();Le(o.split(","),T=>{const k=No(v,T).getOrThunk(()=>{const W={withSimilar:{state:Pn(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Pn(!1),similar:!1,callbacks:[]},withVars:[]};return v[T]=W,W}),L=()=>{const W=VL(e);return q5(e,W,T,c,h).isSome()};if(xn(h)){const W=c?k.withSimilar:k.withoutSimilar;W.callbacks.push(r),W.callbacks.length===1&&W.state.set(L())}else k.withVars.push({state:Pn(L()),similar:c,vars:h,callback:r})}),t.set(v)},DZ=(e,t,o)=>{const r=e.get();Le(t.split(","),c=>No(r,c).each(h=>{r[c]={withSimilar:{...h.withSimilar,callbacks:xt(h.withSimilar.callbacks,v=>v!==o)},withoutSimilar:{...h.withoutSimilar,callbacks:xt(h.withoutSimilar.callbacks,v=>v!==o)},withVars:xt(h.withVars,v=>v.callback!==o)}})),e.set(r)},_Z=(e,t,o,r,c,h)=>(G5(e,t,o,r,c,h),{unbind:()=>DZ(t,o,r)}),OZ=(e,t,o,r)=>{const c=e.formatter.get(t);c&&(X_(e,t,o,r)&&(!("toggle"in c[0])||c[0].toggle)?bk(e,t,o,r):jL(e,t,o,r))},K5=(e,t,o)=>({element:e,width:t,rows:o}),ZL=(e,t)=>({element:e,cells:t}),Ik=(e,t)=>({x:e,y:t}),Pw=(e,t)=>dl(e,t).bind(Ef).getOr(1),NZ=(e,t,o,r,c)=>{const h=Pw(c,"rowspan"),v=Pw(c,"colspan"),T=e.rows;for(let k=o;k<o+h;k++){T[k]||(T[k]=ZL(_f(r),[]));for(let L=t;L<t+v;L++){const W=T[k].cells;W[L]=k===o&&L===t?c:ki(c)}}},Fw=(e,t,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[t]},ih=(e,t,o)=>{for(;Fw(e,t,o);)t++;return t},$w=e=>Pe(e,(t,o)=>o.cells.length>t?o.cells.length:t,0),Vr=(e,t)=>{const o=e.rows;for(let r=0;r<o.length;r++){const c=o[r].cells;for(let h=0;h<c.length;h++)if(ss(c[h],t))return X.some(Ik(h,r))}return X.none()},Iw=(e,t,o,r,c)=>{const h=[],v=e.rows;for(let T=o;T<=c;T++){const k=v[T].cells,L=t<r?k.slice(t,r+1):k.slice(r,t+1);h.push(ZL(v[T].element,L))}return h},WL=(e,t,o)=>{const r=t.x,c=t.y,h=o.x,v=o.y,T=c<v?Iw(e,r,c,h,v):Iw(e,r,v,h,c);return K5(e.element,$w(T),T)},qL=(e,t)=>{const o=ki(e.element),r=_e.fromTag("tbody");return hc(r,t),Is(o,r),o},Hk=e=>tt(e.rows,t=>{const o=tt(t.cells,c=>{const h=_f(c);return li(h,"colspan"),li(h,"rowspan"),h}),r=ki(t.element);return hc(r,o),r}),Y5=e=>{const t=K5(ki(e),0,[]);return Le(kt(e,"tr"),(o,r)=>{Le(kt(o,"td,th"),(c,h)=>{NZ(t,ih(t,h,r),r,o,c)})}),K5(t.element,$w(t.rows),t.rows)},X5=e=>qL(e,Hk(e)),Q5=(e,t,o)=>Vr(e,t).bind(r=>Vr(e,o).map(c=>WL(e,r,c))),J5=e=>sn(e,t=>rs(t)==="ul"||rs(t)==="ol"),zk=(e,t)=>sn(e,o=>rs(o)==="li"&&JD(o,t)).fold(at([]),o=>J5(e).map(r=>{const c=_e.fromTag(rs(r)),h=Yn(of(r),(v,T)=>Co(T,"list-style"));return fl(c,h),[_e.fromTag("li"),c]}).getOr([])),eO=(e,t)=>{const o=Pe(t,(r,c)=>(Is(c,r),c),e);return t.length>0?_u([o]):o},GL=e=>fu(e)?Wi(e).filter($d).fold(at([]),t=>[e,t]):$d(e)?[e]:[],KL=(e,t,o)=>{const r=_e.fromDom(t.commonAncestorContainer),c=Jg(r,e),h=xt(c,k=>o.isWrapper(rs(k))),v=zk(c,t),T=h.concat(v.length?v:GL(r));return tt(T,ki)},tO=()=>_u([]),YL=(e,t,o)=>eO(_e.fromDom(t.cloneContents()),KL(e,t,o)),XL=(e,t)=>Da(t,"table",le(ss,e)),jx=(e,t)=>XL(e,t[0]).bind(o=>{const r=t[0],c=t[t.length-1],h=Y5(o);return Q5(h,r,c).map(v=>_u([X5(v)]))}).getOrThunk(tO),QL=(e,t,o)=>t.length>0&&t[0].collapsed?tO():YL(e,t[0],o),nO=(e,t,o)=>{const r=MA(t,e);return r.length>0?jx(e,r):QL(e,t,o)},jk=(e,t)=>t>=0&&t<e.length&&Wf(e.charAt(t)),JL=e=>Pc(e.innerText),eP=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),tP=e=>X.from(e.selection.getRng()).map(t=>{const o=X.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),r=e.getBody(),c=eP(o),h=_e.fromDom(t.cloneContents());x6(h),w6(h);const v=e.dom.add(r,c,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},h.dom),T=JL(v),k=Pc(v.textContent??"");if(e.dom.remove(v),jk(k,0)||jk(k,k.length-1)){const L=o.getOr(r),W=JL(L),G=W.indexOf(T);if(G===-1)return T;{const Q=jk(W,G-1),ce=jk(W,G+T.length);return(Q?" ":"")+T+(ce?" ":"")}}else return T}).getOr(""),nP=(e,t)=>{const o=e.selection.getRng(),r=e.dom.create("body"),c=e.selection.getSel(),h=C_(e,ww(c)),v=t.contextual?nO(_e.fromDom(e.getBody()),h,e.schema).dom:o.cloneContents();return v&&r.appendChild(v),e.selection.serializer.serialize(r,t)},Vk=(e,t)=>{if(t.format==="text")return tP(e);{const o=nP(e,t);return t.format==="tree"?o:e.selection.isCollapsed()?"":o}},oP=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),sP=(e,t,o={})=>{const r=oP(o,t);return TL(e,r).fold(Jn,c=>{const h=Vk(e,c);return cE(e,h,c)})},Uk=0,oO=1,sO=2,rP=(e,t)=>{const o=e.length+t.length+2,r=new Array(o),c=new Array(o),h=(W,G,Q)=>({start:W,end:G,diag:Q}),v=(W,G,Q,ce,De)=>{const ge=k(W,G,Q,ce);if(ge===null||ge.start===G&&ge.diag===G-ce||ge.end===W&&ge.diag===W-Q){let Ae=W,ot=Q;for(;Ae<G||ot<ce;)Ae<G&&ot<ce&&e[Ae]===t[ot]?(De.push([Uk,e[Ae]]),++Ae,++ot):G-W>ce-Q?(De.push([sO,e[Ae]]),++Ae):(De.push([oO,t[ot]]),++ot)}else{v(W,ge.start,Q,ge.start-ge.diag,De);for(let Ae=ge.start;Ae<ge.end;++Ae)De.push([Uk,e[Ae]]);v(ge.end,G,ge.end-ge.diag,ce,De)}},T=(W,G,Q,ce)=>{let De=W;for(;De-G<ce&&De<Q&&e[De]===t[De-G];)++De;return h(W,De,G)},k=(W,G,Q,ce)=>{const De=G-W,ge=ce-Q;if(De===0||ge===0)return null;const Ae=De-ge,ot=ge+De,rt=(ot%2===0?ot:ot+1)/2;r[1+rt]=W,c[1+rt]=G+1;let ut,Pt,en,Nn,io;for(ut=0;ut<=rt;++ut){for(Pt=-ut;Pt<=ut;Pt+=2){for(en=Pt+rt,Pt===-ut||Pt!==ut&&r[en-1]<r[en+1]?r[en]=r[en+1]:r[en]=r[en-1]+1,Nn=r[en],io=Nn-W+Q-Pt;Nn<G&&io<ce&&e[Nn]===t[io];)r[en]=++Nn,++io;if(Ae%2!==0&&Ae-ut<=Pt&&Pt<=Ae+ut&&c[en-Ae]<=r[en])return T(c[en-Ae],Pt+W-Q,G,ce)}for(Pt=Ae-ut;Pt<=Ae+ut;Pt+=2){for(en=Pt+rt-Ae,Pt===Ae-ut||Pt!==Ae+ut&&c[en+1]<=c[en-1]?c[en]=c[en+1]-1:c[en]=c[en-1],Nn=c[en]-1,io=Nn-W+Q-Pt;Nn>=W&&io>=Q&&e[Nn]===t[io];)c[en]=Nn--,io--;if(Ae%2===0&&-ut<=Pt&&Pt<=ut&&c[en]<=r[en+Ae])return T(c[en],Pt+W-Q,G,ce)}}return null},L=[];return v(0,e.length,0,t.length,L),L},rO=e=>Sn(e)?e.outerHTML:dn(e)?ed.encodeRaw(e.data,!1):ns(e)?"<!--"+e.data+"-->":"",aP=e=>{let t;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);t=o.firstChild;)r.appendChild(t);return r},iP=(e,t,o)=>{const r=aP(t);if(e.hasChildNodes()&&o<e.childNodes.length){const c=e.childNodes[o];e.insertBefore(r,c)}else e.appendChild(r)},lP=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const o=e.childNodes[t];e.removeChild(o)}},aO=(e,t)=>{let o=0;Le(e,r=>{r[0]===Uk?o++:r[0]===oO?(iP(t,r[1],o),o++):r[0]===sO&&lP(t,o)})},cP=(e,t)=>xt(tt(Es(e.childNodes),F(Pc,rO)),o=>o.length>0),uP=(e,t)=>{const o=tt(Es(t.childNodes),rO);return aO(rP(o,e),t),t},dP=Ri(()=>document.implementation.createHTMLDocument("undo")),fP=e=>e.querySelector(`iframe, ${vy}`)!==null,mP=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),hP=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),gE=e=>{const t=e.serializer.getTempAttrs(),o=v6(e.getBody(),t);return fP(o)?mP(cP(o)):hP(Pc(o.innerHTML))},pE=(e,t,o)=>{const r=o?t.beforeBookmark:t.bookmark;t.type==="fragmented"?uP(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:qe(r)&&Rn(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},Hw=e=>e.type==="fragmented"?e.fragments.join(""):e.content,iO=(e,t)=>{const o=_e.fromTag("body",dP());return nf(o,Hw(t)),Le(kt(o,"*[data-mce-bogus]"),Gl),e&&Le(kt(o,"details[open]"),r=>li(r,"open")),Bi(o)},RZ=(e,t)=>Hw(e)===Hw(t),gP=(e,t,o)=>iO(e,t)===iO(e,o),zw=(e,t,o)=>!t||!o?!1:RZ(t,o)?!0:gP(e,t,o),bE=e=>e.get()===0,uv=(e,t,o)=>{bE(o)&&(e.typing=t)},Zk=(e,t)=>{e.typing&&(uv(e,!1,t),e.add())},pP=e=>{e.typing&&(e.typing=!1,e.add())},jw=(e,t,o)=>{bE(t)&&o.set(mf(e.selection))},lO=(e,t,o,r,c,h,v)=>{const T=gE(e),k=ln.extend(h||{},T);if(!bE(r)||e.removed)return null;const L=t.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:k,lastLevel:L,originalEvent:v}).isDefaultPrevented()||L&&zw(e.readonly,L,k))return null;t.data[o.get()]&&c.get().each(Q=>{t.data[o.get()].beforeBookmark=Q});const W=cA(e);if(W&&t.data.length>W){for(let Q=0;Q<t.data.length-1;Q++)t.data[Q]=t.data[Q+1];t.data.length--,o.set(t.data.length)}k.bookmark=mf(e.selection),o.get()<t.data.length-1&&(t.data.length=o.get()+1),t.data.push(k),o.set(t.data.length-1);const G={level:k,lastLevel:L,originalEvent:v};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",G),e.dispatch("change",G)):e.dispatch("AddUndo",G),k},cO=(e,t,o)=>{t.data=[],o.set(0),t.typing=!1,e.dispatch("ClearUndos")},Vw=(e,t,o,r,c)=>{if(t.transact(r)){const h=t.data[o.get()].bookmark,v=t.data[o.get()-1];pE(e,v,!0),t.transact(c)&&(t.data[o.get()-1].beforeBookmark=h)}},dv=(e,t,o)=>{let r;return t.get()<o.length-1&&(t.set(t.get()+1),r=o[t.get()],pE(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},bP=(e,t,o,r)=>{let c;return t.typing&&(t.add(),t.typing=!1,uv(t,!1,o)),r.get()>0&&(r.set(r.get()-1),c=t.data[r.get()],pE(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},MZ=e=>{e.clear(),e.add()},BZ=(e,t,o)=>o.get()>0||t.typing&&t.data[0]&&!zw(e.readonly,gE(e),t.data[0]),yP=(e,t)=>t.get()<e.data.length-1&&!e.typing,vP=(e,t,o)=>(Zk(e,t),e.beforeChange(),e.ignore(o),e.add()),xP=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},LZ=(e,t)=>{const o=e.dom,r=qe(t)?t:e.getBody();Le(o.select("table,a",r),c=>{switch(c.nodeName){case"TABLE":const h=dA(e),v=o.getAttrib(c,"border");(!v||v==="0")&&e.hasVisual?o.addClass(c,h):o.removeClass(c,h);break;case"A":if(!o.getAttrib(c,"href")){const T=o.getAttrib(c,"name")||c.id,k=rw(e);T&&e.hasVisual?o.addClass(c,k):o.removeClass(c,k)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},Wb=e=>({init:{bindEvents:Lt},undoManager:{beforeChange:(t,o)=>jw(e,t,o),add:(t,o,r,c,h,v)=>lO(e,t,o,r,c,h,v),undo:(t,o,r)=>bP(e,t,o,r),redo:(t,o)=>dv(e,t,o),clear:(t,o)=>cO(e,t,o),reset:t=>MZ(t),hasUndo:(t,o)=>BZ(e,t,o),hasRedo:(t,o)=>yP(t,o),transact:(t,o,r)=>vP(t,o,r),ignore:(t,o)=>xP(t,o),extra:(t,o,r,c)=>Vw(e,t,o,r,c)},formatter:{match:(t,o,r,c)=>X_(e,t,o,r,c),matchAll:(t,o)=>Q_(e,t,o),matchNode:(t,o,r,c)=>tg(e,t,o,r,c),canApply:t=>J_(e,t),closest:t=>h8(e,t),apply:(t,o,r)=>jL(e,t,o,r),remove:(t,o,r,c)=>bk(e,t,o,r,c),toggle:(t,o,r)=>OZ(e,t,o,r),formatChanged:(t,o,r,c,h)=>_Z(e,t,o,r,c,h)},editor:{getContent:t=>Oj(e,t),setContent:(t,o)=>Z5(e,t,o),insertContent:(t,o)=>pZ(e,t,o),addVisual:t=>LZ(e,t)},selection:{getContent:(t,o)=>sP(e,t,o)},autocompleter:{addDecoration:Lt,removeDecoration:Lt},raw:{getModel:()=>X.none()}}),Vx=e=>{const t=L=>vt(L)?L:{},{init:o,undoManager:r,formatter:c,editor:h,selection:v,autocompleter:T,raw:k}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(L,W,G)=>r.transact(G),ignore:(L,W)=>r.ignore(W),extra:(L,W,G,Q)=>r.extra(G,Q)},formatter:{match:(L,W,G,Q)=>c.match(L,t(W),Q),matchAll:c.matchAll,matchNode:c.matchNode,canApply:L=>c.canApply(L),closest:L=>c.closest(L),apply:(L,W,G)=>c.apply(L,t(W)),remove:(L,W,G,Q)=>c.remove(L,t(W)),toggle:(L,W,G)=>c.toggle(L,t(W)),formatChanged:(L,W,G,Q,ce)=>c.formatChanged(W,G,Q,ce)},editor:{getContent:L=>h.getContent(L),setContent:(L,W)=>({content:h.setContent(L,W),html:""}),insertContent:(L,W)=>(h.insertContent(L),""),addVisual:h.addVisual},selection:{getContent:(L,W)=>v.getContent(W)},autocompleter:{addDecoration:T.addDecoration,removeDecoration:T.removeDecoration},raw:{getModel:()=>X.some(k.getRawModel())}}},wP=()=>{const e=at(null),t=at("");return{init:{bindEvents:Lt},undoManager:{beforeChange:Lt,add:e,undo:e,redo:e,clear:Lt,reset:Lt,hasUndo:He,hasRedo:He,transact:e,ignore:Lt,extra:Lt},formatter:{match:He,matchAll:at([]),matchNode:at(void 0),canApply:He,closest:t,apply:Lt,remove:Lt,toggle:Lt,formatChanged:at({unbind:Lt})},editor:{getContent:t,setContent:at({content:"",html:""}),insertContent:at(""),addVisual:Lt},selection:{getContent:t},autocompleter:{addDecoration:Lt,removeDecoration:Lt},raw:{getModel:at(X.none())}}},v0=e=>Qn(e.plugins,"rtc"),PZ=e=>No(e.plugins,"rtc").bind(t=>X.from(t.setup)),FZ=e=>{const t=e;return PZ(e).fold(()=>(t.rtcInstance=Wb(e),X.none()),o=>(t.rtcInstance=wP(),X.some(()=>o().then(r=>(t.rtcInstance=Vx(r),r.rtc.isRemote)))))},uO=e=>e.rtcInstance?e.rtcInstance:Wb(e),xa=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},ap=(e,t,o)=>{xa(e).undoManager.beforeChange(t,o)},CP=(e,t,o,r,c,h,v)=>xa(e).undoManager.add(t,o,r,c,h,v),dO=(e,t,o,r)=>xa(e).undoManager.undo(t,o,r),fO=(e,t,o)=>xa(e).undoManager.redo(t,o),Wk=(e,t,o)=>{xa(e).undoManager.clear(t,o)},$Z=(e,t)=>{xa(e).undoManager.reset(t)},SP=(e,t,o)=>xa(e).undoManager.hasUndo(t,o),yE=(e,t,o)=>xa(e).undoManager.hasRedo(t,o),IZ=(e,t,o,r)=>xa(e).undoManager.transact(t,o,r),qk=(e,t,o)=>{xa(e).undoManager.ignore(t,o)},mO=(e,t,o,r,c)=>{xa(e).undoManager.extra(t,o,r,c)},EP=(e,t,o,r,c)=>xa(e).formatter.match(t,o,r,c),vE=(e,t,o)=>xa(e).formatter.matchAll(t,o),HZ=(e,t,o,r,c)=>xa(e).formatter.matchNode(t,o,r,c),zZ=(e,t)=>xa(e).formatter.canApply(t),x0=(e,t)=>xa(e).formatter.closest(t),Em=(e,t,o,r)=>{xa(e).formatter.apply(t,o,r)},xE=(e,t,o,r,c)=>{xa(e).formatter.remove(t,o,r,c)},Tm=(e,t,o,r)=>{xa(e).formatter.toggle(t,o,r)},jZ=(e,t,o,r,c,h)=>xa(e).formatter.formatChanged(t,o,r,c,h),wa=(e,t)=>uO(e).editor.getContent(t),VZ=(e,t,o)=>uO(e).editor.setContent(t,o),qb=(e,t,o)=>uO(e).editor.insertContent(t,o),wE=(e,t,o)=>xa(e).selection.getContent(t,o),TP=(e,t)=>xa(e).editor.addVisual(t),Gk=e=>xa(e).init.bindEvents(),hO=(e,t={})=>{const o=t.format?t.format:"html";return wE(e,o,t)},AP=(e,t,o)=>{if(Qn(e,t)){const r=xt(e[t],c=>c!==o);r.length===0?delete e[t]:e[t]=r}};var gO=(e,t)=>{let o,r;const c=(T,k)=>sn(k,L=>e.is(L,T)),h=T=>e.getParents(T,void 0,e.getRoot()),v=()=>{o={},r={},t.on("NodeChange",T=>{const k=T.element,L=h(k),W={};Oo(o,(G,Q)=>{c(Q,L).each(ce=>{r[Q]||(Le(G,De=>{De(!0,{node:ce,selector:Q,parents:L})}),r[Q]=G),W[Q]=G})}),Oo(r,(G,Q)=>{W[Q]||(delete r[Q],Le(G,ce=>{ce(!1,{node:k,selector:Q,parents:L})}))})})};return{selectorChangedWithUnbind:(T,k)=>(o||v(),o[T]||(o[T]=[]),o[T].push(k),c(T,h(t.selection.getStart())).each(()=>{r[T]=o[T]}),{unbind:()=>{AP(o,T,k),AP(r,T,k)}})}};const kP=e=>!!(e&&e.ownerDocument)&&mc(_e.fromDom(e.ownerDocument),_e.fromDom(e)),DP=e=>e?kP(e.startContainer)&&kP(e.endContainer):!1,pO=(e,t,o,r)=>{let c,h;const{selectorChangedWithUnbind:v}=gO(e,r),T=($n,go)=>{const _r=e.createRng();qe($n)&&qe(go)?(_r.setStart($n,go),_r.setEnd($n,go),Pt(_r),ot(!1)):(LA(e,_r,r.getBody(),!0),Pt(_r))},k=$n=>hO(r,$n),L=($n,go)=>KU(r,$n,go),W=$n=>QA(r.getBody(),ut(),$n),G=$n=>v_(r.getBody(),ut(),$n),Q=($n,go)=>Vc.getBookmark($n,go),ce=$n=>Vc.moveToBookmark($n),De=($n,go)=>(m6(e,$n,go).each(Pt),$n),ge=()=>{const $n=ut(),go=rt();return!$n||$n.item?!1:$n.compareEndPoints?$n.compareEndPoints("StartToEnd",$n)===0:!go||$n.collapsed},Ae=()=>{if(r.mode.isReadOnly())return!1;const $n=ut(),go=r.getBody().querySelectorAll('[data-mce-selected="1"]');return go.length>0?mr(go,_r=>e.isEditable(_r.parentElement)):pj(e,$n)},ot=$n=>{const go=ut();go.collapse(!!$n),Pt(go)},rt=()=>t.getSelection?t.getSelection():t.document.selection,ut=()=>{let $n;const go=(br,vu,Ht)=>{try{return vu.compareBoundaryPoints(br,Ht)}catch{return-1}},_r=t.document;if(qe(r.bookmark)&&!kw(r)){const br=ZA(r);if(br.isSome())return br.map(vu=>C_(r,[vu])[0]).getOr(_r.createRange())}try{const br=rt();br&&!eb(br.anchorNode)&&(br.rangeCount>0?$n=br.getRangeAt(0):$n=_r.createRange(),$n=C_(r,[$n])[0])}catch{}if($n||($n=_r.createRange()),zm($n.startContainer)&&$n.collapsed){const br=e.getRoot();$n.setStart(br,0),$n.setEnd(br,0)}return c&&h&&(go($n.START_TO_START,$n,c)===0&&go($n.END_TO_END,$n,c)===0?$n=h:(c=null,h=null)),$n},Pt=($n,go)=>{if(!DP($n))return;const _r=rt();if($n=r.dispatch("SetSelectionRange",{range:$n,forward:go}).range,_r){h=$n;try{_r.removeAllRanges(),_r.addRange($n)}catch{}go===!1&&_r.extend&&(_r.collapse($n.endContainer,$n.endOffset),_r.extend($n.startContainer,$n.startOffset)),c=_r.rangeCount>0?_r.getRangeAt(0):null}if(!$n.collapsed&&$n.startContainer===$n.endContainer&&_r?.setBaseAndExtent&&$n.endOffset-$n.startOffset<2&&$n.startContainer.hasChildNodes()){const vu=$n.startContainer.childNodes[$n.startOffset];vu&&vu.nodeName==="IMG"&&(_r.setBaseAndExtent($n.startContainer,$n.startOffset,$n.endContainer,$n.endOffset),(_r.anchorNode!==$n.startContainer||_r.focusNode!==$n.endContainer)&&_r.setBaseAndExtent(vu,0,vu,1))}r.dispatch("AfterSetSelectionRange",{range:$n,forward:go})},en=$n=>(Pk(r,e.getOuterHTML($n)),$n),Nn=()=>w_(r.getBody(),ut()),io=($n,go)=>bj(e,ut(),$n,go),Bt=()=>{const $n=rt(),go=$n?.anchorNode,_r=$n?.focusNode;if(!$n||!go||!_r||eb(go)||eb(_r))return!0;const br=e.createRng(),vu=e.createRng();try{br.setStart(go,$n.anchorOffset),br.collapse(!0),vu.setStart(_r,$n.focusOffset),vu.collapse(!0)}catch{return!0}return br.compareBoundaryPoints(br.START_TO_START,vu)<=0},ti={dom:e,win:t,serializer:o,editor:r,expand:($n={type:"word"})=>Pt(f0(e).expand(ut(),$n)),collapse:ot,setCursorLocation:T,getContent:k,setContent:L,getBookmark:Q,moveToBookmark:ce,select:De,isCollapsed:ge,isEditable:Ae,isForward:Bt,setNode:en,getNode:Nn,getSel:rt,setRng:Pt,getRng:ut,getStart:W,getEnd:G,getSelectedBlocks:io,normalize:()=>{const $n=ut(),go=rt();if(!c0(go)&&NS(r)){const _r=KA(e,$n);return _r.each(br=>{Pt(br,Bt())}),_r.getOr($n)}return $n},selectorChanged:($n,go)=>(v($n,go),ti),selectorChangedWithUnbind:v,getScrollContainer:()=>{let $n,go=e.getRoot();for(;go&&go.nodeName!=="BODY";){if(go.scrollHeight>go.clientHeight){$n=go;break}go=go.parentNode}return $n},scrollIntoView:($n,go)=>{qe($n)?In(r,$n,go):sh(r,ut(),go)},placeCaretAt:($n,go)=>Pt(e6($n,go,r.getDoc())),getBoundingClientRect:()=>{const $n=ut();return $n.collapsed?_t.fromRangeStart($n).getClientRects()[0]:$n.getBoundingClientRect()},destroy:()=>{t=c=h=null,Am.destroy()}},Vc=Tw(ti),Am=oj(ti,r);return ti.bookmarkManager=Vc,ti.controlSelection=Am,ti},bO=(e,t,o)=>{t.addNodeFilter("br",(r,c,h)=>{const v=ln.extend({},o.getBlockElements()),T=o.getNonEmptyElements(),k=o.getWhitespaceElements();v.body=1;const L=W=>W.name in v||cu(o,W);for(let W=0,G=r.length;W<G;W++){let Q=r[W],ce=Q.parent;if(ce&&L(ce)&&Q===ce.lastChild){let De=Q.prev;for(;De;){const ge=De.name;if(ge!=="span"||De.attr("data-mce-type")!=="bookmark"){ge==="br"&&(Q=null);break}De=De.prev}if(Q&&(Q.remove(),nE(o,T,k,ce))){const ge=o.getElementRule(ce.name);ge&&(ge.removeEmpty?ce.remove():ge.paddEmpty&&av(e,h,L,ce))}}else{let De=Q;for(;ce&&ce.firstChild===De&&ce.lastChild===De&&(De=ce,!v[ce.name]);)ce=ce.parent;if(De===ce){const ge=new Hc("#text",3);ge.value=qr,Q.replace(ge)}}}})},_P=(e,t,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,c)=>{let h=r.length;for(;h--;){const v=r[h];v.attr("tabindex",v.attr("data-mce-tabindex")),v.attr(c,null)}}),e.addAttributeFilter("src,href,style",(r,c)=>{const h="data-mce-"+c,v=t.url_converter,T=t.url_converter_scope;let k=r.length;for(;k--;){const L=r[k];let W=L.attr(h);W!==void 0?(L.attr(c,W.length>0?W:null),L.attr(h,null)):(W=L.attr(c),c==="style"?W=o.serializeStyle(o.parseStyle(W),L.name):v&&(W=v.call(T,W,c,L.name)),L.attr(c,W.length>0?W:null))}}),e.addAttributeFilter("class",r=>{let c=r.length;for(;c--;){const h=r[c];let v=h.attr("class");v&&(v=v.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),h.attr("class",v.length>0?v:null))}}),e.addAttributeFilter("data-mce-type",(r,c,h)=>{let v=r.length;for(;v--;){const T=r[v];T.attr("data-mce-type")==="bookmark"&&!h.cleanup&&(X.from(T.firstChild).exists(L=>!$g(L.value??""))?T.unwrap():T.remove())}}),e.addNodeFilter("script,style",(r,c)=>{const h=T=>T.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let v=r.length;for(;v--;){const T=r[v],k=T.firstChild,L=k?.value??"";if(c==="script"){const W=T.attr("type");W&&T.attr("type",W==="mce-no/type"?null:W.replace(/^mce\-/,"")),t.element_format==="xhtml"&&k&&L.length>0&&(k.value=`// <![CDATA[
`+h(L)+`
// ]]>`)}else t.element_format==="xhtml"&&k&&L.length>0&&(k.value=`<!--
`+h(L)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let c=r.length;for(;c--;){const h=r[c],v=h.value;t.preserve_cdata&&v?.indexOf("[CDATA[")===0?(h.name="#cdata",h.type=4,h.value=o.decode(v.replace(/^\[CDATA\[|\]\]$/g,""))):v?.indexOf("mce:protected ")===0&&(h.name="#text",h.type=3,h.raw=!0,h.value=unescape(v).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,c)=>{let h=r.length;for(;h--;){const v=r[h];v.type===7?v.remove():v.type===1&&c==="input"&&!v.attr("type")&&v.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{Le(r,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,c)=>{let h=r.length;for(;h--;)r[h].attr(c,null)}),t.remove_trailing_brs&&bO(t,e,e.schema)},Kk=e=>{const t=r=>r?.name==="br",o=e.lastChild;if(t(o)){const r=o.prev;t(r)&&(o.remove(),r.remove())}},UZ=(e,t,o)=>{let r;const c=e.dom;let h=t.cloneNode(!0);const v=document.implementation;if(v.createHTMLDocument){const T=v.createHTMLDocument("");ln.each(h.nodeName==="BODY"?h.childNodes:[h],k=>{T.body.appendChild(T.importNode(k,!0))}),h.nodeName!=="BODY"?h=T.body.firstChild:h=T.body,r=c.doc,c.doc=T}return V2(e,{...o,node:h}),r&&(c.doc=r),h},ZZ=(e,t)=>qe(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,WZ=(e,t,o)=>ZZ(e,o)?UZ(e,t,o):t,qZ=(e,t,o)=>{ln.inArray(t,o)===-1&&(e.addAttributeFilter(o,(r,c)=>{let h=r.length;for(;h--;)r[h].attr(c,null)}),t.push(o))},GZ=(e,t,o)=>!t.no_events&&e?qC(e,{...t,content:o}).content:o,OP=(e,t,o)=>{const r=Pc(o.getInner?t.innerHTML:e.getOuterHTML(t));return o.selection||Oy(_e.fromDom(t))?r:ln.trim(r)},KZ=(e,t,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,c=e.parse(t,r);return Kk(c),c},YZ=(e,t,o)=>tv(e,t).serialize(o),NP=(e,t,o,r,c)=>{const h=YZ(t,o,r);return GZ(e,c,h)},XZ=(e,t)=>{const o=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},c=t&&t.dom?t.dom:hs.DOM,h=t&&t.schema?t.schema:Ls(r),v=Lw(r,h);_P(v,r,c);const T=(k,L={})=>{const{indent:W,entity_encoding:G,...Q}=L,ce={format:"html",...Q},De=WZ(t,k,ce),ge=OP(c,De,ce),Ae=KZ(v,ge,ce);if(ce.format==="tree")return Ae;const ot={...r,...qe(W)?{indent:W}:{},...qe(G)?{entity_encoding:G}:{}};return NP(t,ot,h,Ae,ce)};return{schema:h,addNodeFilter:v.addNodeFilter,addAttributeFilter:v.addAttributeFilter,serialize:T,addRules:h.addValidElements,setRules:h.setValidElements,addTempAttr:le(qZ,v,o),getTempAttrs:at(o),getNodeFilters:v.getNodeFilters,getAttributeFilters:v.getAttributeFilters,removeNodeFilter:v.removeNodeFilter,removeAttributeFilter:v.removeAttributeFilter}},yO=(e,t)=>{const o=XZ(e,t);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},CE="html",QZ=(e,t)=>({...e,format:t,get:!0,getInner:!0}),JZ=(e,t={})=>{const o=t.format?t.format:CE,r=QZ(t,o);return TL(e,r).fold(Jn,c=>{const h=wa(e,c);return cE(e,h,c)})},RP="html",MP=(e,t)=>({format:RP,...e,set:!0,content:t}),vO=(e,t,o={})=>{const r=MP(o,t);uE(e,r).each(c=>{const h=VZ(e,c.content,c);I5(e,h.html,c)})},SE=hs.DOM,md=e=>{SE.setStyle(e.id,"display",e.orgDisplay)},Yk=e=>X.from(e).each(t=>t.destroy()),BP=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const o=e.selection;if(o){const r=o.dom;t.selection=o.win=o.dom=r.doc=null}},xO=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),SE.unbind(t,"submit reset",e.formEventDelegate))},wO=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:o}=e,r=e.getBody(),c=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&qe(c?.nextSibling)&&SE.remove(c.nextSibling),GC(e),e.editorManager.remove(e),!e.inline&&r&&md(e),FT(e),SE.remove(e.getContainer()),Yk(t),Yk(o),e.destroy()}},LP=(e,t)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Yk(o),Yk(r)),xO(e),BP(e),e.destroyed=!0}},Xk=(()=>{const e={};return{add:(c,h)=>{e[c]=h},get:c=>e[c]?e[c]:{icons:{}},has:c=>Qn(e,c)}})(),Uw=Xi.ModelManager,CO=(e,t)=>t.dom[e],SO=(e,t)=>parseInt(ka(t,e),10),lh=le(CO,"clientWidth"),tW=le(CO,"clientHeight"),nW=le(SO,"margin-top"),Lne=le(SO,"margin-left"),EO=e=>e.dom.getBoundingClientRect(),oW=(e,t,o)=>{const r=lh(e),c=tW(e);return t>=0&&o>=0&&t<=r&&o<=c},Pne=(e,t,o,r)=>{const c=EO(t),h=e?c.left+t.dom.clientLeft+Lne(t):0,v=e?c.top+t.dom.clientTop+nW(t):0,T=o-h,k=r-v;return{x:T,y:k}},sW=(e,t,o)=>{const r=_e.fromDom(e.getBody()),c=e.inline?r:si(r),h=Pne(e.inline,c,t,o);return oW(c,h.x,h.y)},TO=e=>X.from(e).map(_e.fromDom),ip=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return TO(t).map(hr).getOr(!1)};var AO=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const EE=e=>{const t=[],o=()=>{const Q=e.theme;return Q&&Q.getNotificationManagerImpl?Q.getNotificationManagerImpl():AO()},r=()=>X.from(t[0]),c=(Q,ce)=>Q.type===ce.type&&Q.text===ce.text&&!Q.progressBar&&!Q.timeout&&!ce.progressBar&&!ce.timeout,h=()=>{r().each(Q=>{Q.reposition()})},v=Q=>{t.push(Q)},T=Q=>{Zn(t,ce=>ce===Q).each(ce=>{t.splice(ce,1)})},k=(Q,ce=!0)=>e.removed||!ip(e)?{}:(ce&&e.dispatch("BeforeOpenNotification",{notification:Q}),sn(t,De=>c(o().getArgs(De),Q)).getOrThunk(()=>{e.editorManager.setActive(e);const De=o().open(Q,()=>{T(De)},()=>XB(e));return v(De),h(),e.dispatch("OpenNotification",{notification:{...De}}),De})),L=()=>{r().each(Q=>{o().close(Q),T(Q),h()})},W=at(t);return(Q=>{Q.on("SkinLoaded",()=>{const ce=aS(Q);ce&&k({text:ce,type:"warning",timeout:0},!1),h()}),Q.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(h)}),Q.on("remove",()=>{Le(t.slice(),ce=>{o().close(ce)})}),Q.on("keydown",ce=>{const De=ce.key?.toLowerCase()==="f12"||ce.keyCode===123;ce.altKey&&De&&(ce.preventDefault(),r().map(ge=>_e.fromDom(ge.getEl())).each(ge=>Ia(ge)))})})(e),{open:k,close:L,getNotifications:W}},fv=Xi.PluginManager,Ux=Xi.ThemeManager;var kO=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const PP=e=>{let t=[];const o=()=>{const Ae=e.theme;return Ae&&Ae.getWindowManagerImpl?Ae.getWindowManagerImpl():kO()},r=(Ae,ot)=>(...rt)=>ot?ot.apply(Ae,rt):void 0,c=Ae=>{e.dispatch("OpenWindow",{dialog:Ae})},h=Ae=>{e.dispatch("CloseWindow",{dialog:Ae})},v=(Ae,ot)=>{t.push({instanceApi:Ae,triggerElement:ot}),c(Ae)},T=Ae=>{h(Ae);const ot=$r(t,({instanceApi:rt,triggerElement:ut})=>rt===Ae?ut:X.none());t=xt(t,({instanceApi:rt})=>rt!==Ae),t.length===0?e.focus():ot.filter(hr).each(Ia)},k=()=>X.from(t[t.length-1]),L=Ae=>{e.editorManager.setActive(e),UA(e);const ot=Rl();e.ui.show();const rt=Ae();return v(rt,ot),rt},W=(Ae,ot)=>L(()=>o().open(Ae,ot,T)),G=Ae=>L(()=>o().openUrl(Ae,T)),Q=Ae=>{t.length!==0&&Ae.each(ot=>Ia(ot))},ce=(Ae,ot,rt)=>{const ut=Rl(),Pt=o();Pt.alert(Ae,r(rt||Pt,()=>{Q(ut),ot?.()}))},De=(Ae,ot,rt)=>{const ut=Rl(),Pt=o();Pt.confirm(Ae,r(rt||Pt,en=>{Q(ut),ot?.(en)}))},ge=()=>{k().each(({instanceApi:Ae})=>{o().close(Ae),T(Ae)})};return e.on("remove",()=>{Le(t,({instanceApi:Ae})=>{o().close(Ae)})}),{open:W,openUrl:G,alert:ce,confirm:De,close:ge}},DO=(e,t)=>{e.notificationManager.open({type:"error",text:t})},Qk=(e,t)=>{e._skinLoaded?DO(e,t):e.on("SkinLoaded",()=>{DO(e,t)})},rW=(e,t)=>{Qk(e,Fu.translate(["Failed to upload image: {0}",t]))},Gb=(e,t,o)=>{U2(e,t,{message:o}),console.error(o)},Zx=(e,t,o)=>o?`Failed to load ${e}: ${o} from url ${t}`:`Failed to load ${e} url: ${t}`,FP=(e,t,o)=>{Gb(e,"PluginLoadError",Zx("plugin",t,o))},aW=(e,t,o)=>{Gb(e,"IconsLoadError",Zx("icons",t,o))},Wx=(e,t,o)=>{Gb(e,"LanguageLoadError",Zx("language",t,o))},$P=(e,t,o)=>{Gb(e,"ThemeLoadError",Zx("theme",t,o))},iW=(e,t,o)=>{Gb(e,"ModelLoadError",Zx("model",t,o))},IP=(e,t)=>{Gb(e,"LicenseKeyManagerLoadError",Zx("license key manager",t))},lW=(e,t)=>{Gb(e,"ComponentLoadError",Zx("component",t))},cW=(e,t,o)=>{const r=Fu.translate(["Failed to initialize plugin: {0}",t]);U2(e,"PluginLoadError",{message:r}),Jk(r,o),Qk(e,r)},Jk=(e,...t)=>{const o=window.console;o&&(o.error?o.error(e,...t):o.log(e,...t))},HP=new WeakMap,uW=e=>{if(HP.has(e))return;HP.set(e,!0);const t=()=>{e.on("SwitchMode",r=>{const{mode:c}=r;c!=="readonly"&&e.mode.set("readonly")})},o=()=>{e.on("DisabledStateChange",r=>{const{state:c}=r;c||r.preventDefault()},!0)};e.initialized?(e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)):e.on("init",()=>{e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)}),o(),t()},_O=(e,t)=>{const{type:o,message:r}=t;e.notificationManager.open({type:o,text:r})},dW=e=>{switch(e){case"error":return console.error;case"info":return console.info;case"warn":return console.warn;default:return console.log}},OO=e=>{dW(e.type)(e.message)},S1=(e,t)=>{const{console:o,editor:r}=t;qe(r)&&(e._skinLoaded?_O(e,r):e.on("SkinLoaded",()=>{_O(e,r)})),qe(o)&&OO(o)},NO="Read more: https://www.tiny.cloud/docs/tinymce/latest/license-key/",TE="Make sure to provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms.",zP=e=>{const t="The editor is disabled because a TinyMCE license key has not been provided.";S1(e,{console:{type:"error",message:[`${t}`,TE,NO].join(" ")},editor:{type:"warning",message:`${t}`}})},jP=(e,t)=>{const o=`${t==="online"?"API":"license"} key`,r=`The editor is disabled because the TinyMCE ${o} could not be validated.`;S1(e,{console:{type:"error",message:[`${r}`,`The TinyMCE Commercial License Key Manager plugin is required for the provided ${o} to be validated but could not be loaded.`,NO].join(" ")},editor:{type:"warning",message:`${r}`}})},VP=(e,t,o)=>{const r=`The "${t}" plugin requires a valid TinyMCE license key.`;S1(e,{console:{type:"error",message:[`${r}`,NO].join(" ")},...o?{}:{editor:{type:"warning",message:"One or more premium plugins are disabled due to license key restrictions."}}})},AE="licensekeymanager",UP=e=>J(Sx(e))?"online":"offline",fW=e=>{const t=yA(e)?.toLowerCase();return t==="gpl"?"gpl":fn(t)?"no_key":"non_gpl"},RO=e=>{const t=UP(e),o=fW(e),r=new Set([...yx(e),...Hn(cS(e))]).has(AE);return o!=="gpl"||t==="online"||r?{type:"use_plugin",onlineStatus:t,licenseKeyType:o,forcePlugin:r}:{type:"use_gpl",onlineStatus:t,licenseKeyType:o,forcePlugin:r}},ZP=e=>t=>{let o=!1;return{validate:r=>{const{plugin:c}=r,h=J(c);return h&&(VP(t,c,o),o=!0),Promise.resolve(e&&!h)}}},mW=ZP(!1),e4=ZP(!0),kE="manager",MO=AE,LO=(()=>{const e=Xi();return{load:(c,h)=>{if(RO(c).type==="use_plugin"){const k=No(cS(c),MO).map(Jr).filter(Hr).getOr(`plugins/${MO}/plugin${h}.js`);e.load(kE,k).catch(()=>{IP(c,k)})}},add:c=>{e.add(kE,c)},init:c=>{const h=k=>{Object.defineProperty(c,"licenseKeyManager",{value:k,writable:!1,configurable:!1,enumerable:!0})},v=RO(c),T=e.get(kE);if(qe(T)){const k=T(c,e.urls[kE]);h(k)}else switch(v.type){case"use_gpl":{h(e4(c));break}case"use_plugin":{uW(c),h(mW(c)),v.onlineStatus==="offline"&&v.licenseKeyType==="no_key"?zP(c):jP(c,v.onlineStatus);break}}c.licenseKeyManager.validate({})}}})(),hW=e=>{X.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},PO=(e,t,o)=>{try{e.getDoc().execCommand(t,!1,String(o))}catch{}},WP=(e,t)=>{PO(e,"StyleWithCSS",t),PO(e,"enableInlineTableEditing",t),PO(e,"enableObjectResizing",t)},FO=e=>{e.selection.setRng(e.selection.getRng())},qP=(e,t,o)=>{Di(e,t)&&!o?aa(e,t):o&&pc(e,t)},$O=e=>{const t=_e.fromDom(e.getBody());qP(t,"mce-content-readonly",!0),e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),hW(e)},GP=e=>{const t=_e.fromDom(e.getBody());qP(t,"mce-content-readonly",!1),e.hasEditableRoot()&&P(t,!0),WP(e,!1),XB(e)&&e.focus(),FO(e),e.nodeChanged()},Kb=e=>nh(e),qx="data-mce-contenteditable",DE=e=>{Le(kt(e,'*[contenteditable="true"]'),t=>{Or(t,qx,"true"),P(t,!1)})},w0=e=>{Le(kt(e,`*[${qx}="true"]`),t=>{li(t,qx),P(t,!0)})},KP=(e,t)=>{const o=_e.fromDom(e.getBody());t?($O(e),P(o,!1),DE(o)):(w0(o),GP(e))},IO=e=>{e.serializer?Ni(e):e.on("PreInit",()=>{Ni(e)})},Ni=e=>{e.parser.addAttributeFilter("contenteditable",t=>{Kb(e)&&Le(t,o=>{o.attr(qx,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(qx,t=>{Kb(e)&&Le(t,o=>{o.attr("contenteditable",o.attr(qx))})}),e.serializer.addTempAttr(qx)},HO=e=>e.type==="click",t4=["copy"],Yb=e=>Be(t4,e.type),YP=(e,t)=>El(t,"a",r=>ss(r,_e.fromDom(e.getBody()))).bind(r=>dl(r,"href")),zO=(e,t)=>ia(t,"details",r=>ss(r,_e.fromDom(e.getBody()))),gW=(e,t)=>{if(HO(t)&&!Ln.metaKeyPressed(t)){const o=_e.fromDom(t.target);YP(e,o).fold(()=>{zO(e,o)&&t.preventDefault()},r=>{if(t.preventDefault(),/^#/.test(r)){const c=e.dom.select(`${r},[name="${Ci(r,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Yb(t)&&e.dispatch(t.type,t)},Zw=e=>{e.on("ShowCaret ObjectSelected",t=>{Kb(e)&&t.preventDefault()}),e.on("DisabledStateChange",t=>{t.isDefaultPrevented()||KP(e,t.state)})},pW=e=>{IO(e),Zw(e)},bW=e=>/^[a-z0-9\-]+$/i.test(e),mv=e=>"content/"+e+"/content.css",yW=e=>tinymce.Resource.has(mv(e)),Gx=e=>Xb(e,vD(e)),vW=e=>Xb(e,sS(e)),Xb=(e,t)=>{const o=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return tt(t,h=>yW(h)?h:bW(h)&&!e.inline?`${o}/${h}/${c}`:e.documentBaseURI.toAbsolute(h))},xW=e=>{e.contentCSS=e.contentCSS.concat(Gx(e),vW(e))},og=e=>e?Es(e.getElementsByTagName("img")):[],Kx=(e,t)=>{const o={};return{findAll:(c,h=dt)=>{const v=xt(og(c),k=>{const L=k.src;return k.hasAttribute("data-mce-bogus")||k.hasAttribute("data-mce-placeholder")||!L||L===ds.transparentSrc?!1:Co(L,"blob:")?!e.isUploaded(L)&&h(k):Co(L,"data:")?h(k):!1}),T=tt(v,k=>{const L=k.src;if(Qn(o,L))return o[L].then(W=>J(W)?W:{image:k,blobInfo:W.blobInfo});{const W=C5(t,L).then(G=>(delete o[L],{image:k,blobInfo:G})).catch(G=>(delete o[L],G));return o[L]=W,W}});return Promise.all(T)}}},XP=()=>{let o={};const r=(Q,ce)=>({status:Q,resultUri:ce}),c=Q=>Q in o;return{hasBlobUri:c,getResultUri:Q=>{const ce=o[Q];return ce?ce.resultUri:null},isPending:Q=>c(Q)?o[Q].status===1:!1,isUploaded:Q=>c(Q)?o[Q].status===2:!1,markPending:Q=>{o[Q]=r(1,null)},markUploaded:(Q,ce)=>{o[Q]=r(2,ce)},removeFailed:Q=>{delete o[Q]},destroy:()=>{o={}}}};let _E=0;const jO=()=>{const e=()=>Math.round(co()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},wW=e=>e+_E+++jO(),Ww=()=>{let e=[];const t=G=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[G.toLowerCase()]||"dat",o=(G,Q,ce,De,ge)=>{if(J(G))return r({id:G,name:De,filename:ge,blob:Q,base64:ce});if(vt(G))return r(G);throw new Error("Unknown input type")},r=G=>{if(!G.blob||!G.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const Q=G.id||wW("blobid"),ce=G.name||Q,De=G.blob;return{id:at(Q),name:at(ce),filename:at(G.filename||ce+"."+t(De.type)),blob:at(De),base64:at(G.base64),blobUri:at(G.blobUri||URL.createObjectURL(De)),uri:at(G.uri)}},c=G=>{v(G.id())||e.push(G)},h=G=>sn(e,G).getOrUndefined(),v=G=>h(Q=>Q.id()===G);return{create:o,add:c,get:v,getByUri:G=>h(Q=>Q.blobUri()===G),getByData:(G,Q)=>h(ce=>ce.base64()===G&&ce.blob().type===Q),findFirst:h,removeByUri:G=>{e=xt(e,Q=>Q.blobUri()===G?(URL.revokeObjectURL(Q.blobUri()),!1):!0)},destroy:()=>{Le(e,G=>{URL.revokeObjectURL(G.blobUri())}),e=[]}}},CW=(e,t)=>{const o={},r=(ge,Ae)=>ge?ge.replace(/\/$/,"")+"/"+Ae.replace(/^\//,""):Ae,c=(ge,Ae)=>new Promise((ot,rt)=>{const ut=new XMLHttpRequest;ut.open("POST",t.url),ut.withCredentials=t.credentials,ut.upload.onprogress=en=>{Ae(en.loaded/en.total*100)},ut.onerror=()=>{rt("Image upload failed due to a XHR Transport error. Code: "+ut.status)},ut.onload=()=>{if(ut.status<200||ut.status>=300){rt("HTTP Error: "+ut.status);return}const en=JSON.parse(ut.responseText);if(!en||!J(en.location)){rt("Invalid JSON: "+ut.responseText);return}ot(r(t.basePath,en.location))};const Pt=new FormData;Pt.append("file",ge.blob(),ge.filename()),ut.send(Pt)}),h=Re(t.handler)?t.handler:c,v=()=>new Promise(ge=>{ge([])}),T=(ge,Ae)=>({url:Ae,blobInfo:ge,status:!0}),k=(ge,Ae)=>({url:"",blobInfo:ge,status:!1,error:Ae}),L=(ge,Ae)=>{ln.each(o[ge],ot=>{ot(Ae)}),delete o[ge]},W=(ge,Ae,ot)=>(e.markPending(ge.blobUri()),new Promise(rt=>{let ut,Pt;try{const en=()=>{ut&&(ut.close(),Pt=Lt)},Nn=Bt=>{en();const Ct=J(Bt)?Bt:Bt.url;e.markUploaded(ge.blobUri(),Ct),L(ge.blobUri(),T(ge,Ct)),rt(T(ge,Ct))},io=Bt=>{en(),e.removeFailed(ge.blobUri()),L(ge.blobUri(),k(ge,Bt)),rt(k(ge,Bt))};Pt=Bt=>{Bt<0||Bt>100||X.from(ut).orThunk(()=>X.from(ot).map(Ne)).each(Ct=>{ut=Ct,Ct.progressBar.value(Bt)})},Ae(ge,Pt).then(Nn,Bt=>{io(J(Bt)?{message:Bt}:Bt)})}catch(en){rt(k(ge,en))}})),G=ge=>ge===c,Q=ge=>{const Ae=ge.blobUri();return new Promise(ot=>{o[Ae]=o[Ae]||[],o[Ae].push(ot)})},ce=(ge,Ae)=>(ge=ln.grep(ge,ot=>!e.isUploaded(ot.blobUri())),Promise.all(ln.map(ge,ot=>e.isPending(ot.blobUri())?Q(ot):W(ot,h,Ae))));return{upload:(ge,Ae)=>!t.url&&G(h)?v():ce(ge,Ae)}},sg=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),OE=(e,t)=>CW(t,{url:Q2(e),basePath:oS(e),credentials:bD(e),handler:oA(e)}),QP=e=>{const t=XP(),o=OE(e,t);return{upload:(r,c=!0)=>o.upload(r,c?sg(e):void 0)}},VO=(e,t)=>e.dom.isEmpty(t.dom)&&qe(e.schema.getTextBlockElements()[rs(t)]),UO=e=>t=>{VO(e,t)&&Is(t,_e.fromHtml('<br data-mce-bogus="1" />'))},Yx=e=>{const t=Ww();let o,r;const c=XP(),h=[],v=ut=>Pt=>e.selection?ut(Pt):[],T=ut=>ut+(ut.indexOf("?")===-1?"?":"&")+new Date().getTime(),k=(ut,Pt,en)=>{let Nn=0;do Nn=ut.indexOf(Pt,Nn),Nn!==-1&&(ut=ut.substring(0,Nn)+en+ut.substr(Nn+Pt.length),Nn+=en.length-Pt.length+1);while(Nn!==-1);return ut},L=(ut,Pt,en)=>{const Nn=`src="${en}"${en===ds.transparentSrc?' data-mce-placeholder="1"':""}`;return ut=k(ut,`src="${Pt}"`,Nn),ut=k(ut,'data-mce-src="'+Pt+'"','data-mce-src="'+en+'"'),ut},W=(ut,Pt)=>{Le(e.undoManager.data,en=>{en.type==="fragmented"?en.fragments=tt(en.fragments,Nn=>L(Nn,ut,Pt)):en.content=L(en.content,ut,Pt)})},G=(ut,Pt)=>{const en=e.convertURL(Pt,"src");W(ut.src,Pt),Wa(_e.fromDom(ut),{src:tA(e)?T(Pt):Pt,"data-mce-src":en})},Q=()=>(o||(o=OE(e,c)),Ae().then(v(ut=>{const Pt=tt(ut,en=>en.blobInfo);return o.upload(Pt,sg(e)).then(v(en=>{const Nn=[];let io=!1;const Bt=tt(en,(Ct,Ft)=>{const{blobInfo:On,image:Bo}=ut[Ft];let Lo=!1;return Ct.status&&nA(e)?(Ct.url&&!Ir(Bo.src,Ct.url)&&(io=!0),t.removeByUri(Bo.src),v0(e)||G(Bo,Ct.url)):Ct.error&&(Ct.error.remove&&(W(Bo.src,ds.transparentSrc),Nn.push(Bo),Lo=!0),rW(e,Ct.error.message)),{element:Bo,status:Ct.status,uploadUri:Ct.url,blobInfo:On,removed:Lo}});return Nn.length>0&&!v0(e)?e.undoManager.transact(()=>{Le(Cd(Nn),Ct=>{const Ft=Wi(Ct);ws(Ct),Ft.each(UO(e)),t.removeByUri(Ct.dom.src)})}):io&&e.undoManager.dispatchChange(),Bt}))}))),ce=()=>tS(e)?Q():Promise.resolve([]),De=ut=>mr(h,Pt=>Pt(ut)),ge=ut=>{h.push(ut)},Ae=()=>(r||(r=Kx(c,t)),r.findAll(e.getBody(),De).then(v(ut=>{const Pt=xt(ut,en=>J(en)?(Qk(e,en),!1):en.uriType!=="blob");return v0(e)||Le(Pt,en=>{W(en.image.src,en.blobInfo.blobUri()),en.image.src=en.blobInfo.blobUri(),en.image.removeAttribute("data-mce-src")}),Pt}))),ot=()=>{t.destroy(),c.destroy(),r=o=null},rt=ut=>ut.replace(/src="(blob:[^"]+)"/g,(Pt,en)=>{const Nn=c.getResultUri(en);if(Nn)return'src="'+Nn+'"';let io=t.getByUri(en);return io||(io=Pe(e.editorManager.get(),(Bt,Ct)=>Bt||Ct.editorUpload&&Ct.editorUpload.blobCache.getByUri(en),void 0)),io?'src="data:'+io.blob().type+";base64,"+io.base64()+'"':Pt});return e.on("SetContent",()=>{tS(e)?ce():Ae()}),e.on("RawSaveContent",ut=>{ut.content=rt(ut.content)}),e.on("GetContent",ut=>{ut.source_view||ut.format==="raw"||ut.format==="tree"||(ut.content=rt(ut.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",ut=>{Le(ut,Pt=>{const en=Pt.attr("src");if(!en||t.getByUri(en))return;const Nn=c.getResultUri(en);Nn&&Pt.attr("src",Nn)})})}),{blobCache:t,addFilter:ge,uploadImages:Q,uploadImagesAuto:ce,scanForImages:Ae,destroy:ot}},ZO=e=>{const t=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{t.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{t.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},h={inline:"strike",remove:"all",preserve_attributes:["class","style"]},v={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[v,c,h]:[c,v,h]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"},remove_similar:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,h,v)=>Sn(c)&&c.hasAttribute("href"),onformat:(c,h,v)=>{ln.each(v,(T,k)=>{t.setAttrib(c,k,T)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>c?.customValue??null}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return ln.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),c=>{r[c]={block:c,remove:"all"}}),r},JP={remove_similar:!0,inherit:!1},qw={selector:"td,th",...JP},SW={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...qw},tablecellverticalalign:{styles:{"vertical-align":"%value"},...qw},tablecellbordercolor:{styles:{borderColor:"%value"},...qw},tablecellclass:{classes:["%value"],...qw},tableclass:{selector:"table",classes:["%value"],...JP},tablecellborderstyle:{styles:{borderStyle:"%value"},...qw},tablecellborderwidth:{styles:{borderWidth:"%value"},...qw}},EW=at(SW),TW=e=>{const t={},o=v=>qe(v)?t[v]:t,r=v=>Qn(t,v),c=(v,T)=>{v&&(J(v)?(Xe(T)||(T=[T]),Le(T,k=>{xn(k.deep)&&(k.deep=!Kg(k)),xn(k.split)&&(k.split=!Kg(k)||hu(k)),xn(k.remove)&&Kg(k)&&!hu(k)&&(k.remove="none"),Kg(k)&&hu(k)&&(k.mixed=!0,k.block_expand=!0),J(k.classes)&&(k.classes=k.classes.split(/\s+/))}),t[v]=T):Oo(v,(k,L)=>{c(L,k)}))},h=v=>(v&&t[v]&&delete t[v],t);return c(ZO(e)),c(EW()),c(ED(e)),{get:o,has:r,register:c,unregister:h}},n4=ln.each,Zd=hs.DOM,rg=e=>qe(e)&&vt(e),eF=(e,t)=>{const o=t&&t.schema||Ls({}),r=(k,L)=>{L.classes.length>0&&Zd.addClass(k,L.classes.join(" ")),Zd.setAttribs(k,L.attrs)},c=k=>{const L=J(k)?{name:k,classes:[],attrs:{}}:k,W=Zd.create(L.name);return r(W,L),W},h=(k,L)=>{const G=o.getElementRule(k.nodeName.toLowerCase())?.parentsRequired;return G&&G.length?L&&Be(G,L)?L:G[0]:!1},v=(k,L,W)=>{let G;const Q=L[0],ce=rg(Q)?Q.name:void 0,De=h(k,ce);if(De)ce===De?(G=Q,L=L.slice(1)):G=De;else if(Q)G=Q,L=L.slice(1);else if(!W)return k;const ge=G?c(G):Zd.create("div");ge.appendChild(k),W&&ln.each(W,ot=>{const rt=c(ot);ge.insertBefore(rt,k)});const Ae=rg(G)?G.siblings:void 0;return v(ge,L,Ae)},T=Zd.create("div");if(e.length>0){const k=e[0],L=c(k),W=rg(k)?k.siblings:void 0;T.appendChild(v(L,e.slice(1),W))}return T},AW=e=>{e=ln.trim(e);let t="div";const o={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,c,h,v,T)=>{switch(c){case"#":o.attrs.id=h;break;case".":o.classes.push(h);break;case":":ln.inArray("checked disabled enabled read-only required".split(" "),h)!==-1&&(o.attrs[h]=h);break}if(v==="["){const k=T.match(/([\w\-]+)(?:\=\"([^\"]+))?/);k&&(o.attrs[k[1]]=k[2])}return""})),o.name=t||"div",o},kW=e=>J(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),ln.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const o=ln.map(t.split(/(?:~\+|~|\+)/),AW),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],DW=(e,t)=>{let o="",r=TD(e);if(r==="")return"";const c=Q=>J(Q)?Q.replace(/%(\w+)/g,""):"",h=(Q,ce)=>Zd.getStyle(ce??e.getBody(),Q,!0);if(J(t)){const Q=e.formatter.get(t);if(!Q)return"";t=Q[0]}if("preview"in t){const Q=t.preview;if(Q===!1)return"";r=Q||r}let v=t.block||t.inline||"span",T;const k=kW(t.selector);k.length>0?(k[0].name||(k[0].name=v),v=t.selector,T=eF(k,e)):T=eF([v],e);const L=Zd.select(v,T)[0]||T.firstChild;n4(t.styles,(Q,ce)=>{const De=c(Q);De&&Zd.setStyle(L,ce,De)}),n4(t.attributes,(Q,ce)=>{const De=c(Q);De&&Zd.setAttrib(L,ce,De)}),n4(t.classes,Q=>{const ce=c(Q);Zd.hasClass(L,ce)||Zd.addClass(L,ce)}),e.dispatch("PreviewFormats"),Zd.setStyles(T,{position:"absolute",left:-65535}),e.getBody().appendChild(T);const W=h("fontSize"),G=/px$/.test(W)?parseInt(W,10):0;return n4(r.split(" "),Q=>{let ce=h(Q,L);if(!(Q==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ce)&&(ce=h(Q),wc(ce).toLowerCase()==="#ffffff"))&&!(Q==="color"&&wc(ce).toLowerCase()==="#000000")){if(Q==="font-size"&&/em|%$/.test(ce)){if(G===0)return;ce=parseFloat(ce)/(/%$/.test(ce)?100:1)*G+"px"}Q==="border"&&ce&&(o+="padding:0 2px;"),o+=Q+":"+ce+";"}}),e.dispatch("AfterPreviewFormats"),Zd.remove(T),o},_W=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},tF=e=>{const t=TW(e),o=Pn({});return _W(e),S8(e),v0(e)||$k(o,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(r,c,h)=>{Em(e,r,c,h)},remove:(r,c,h,v)=>{xE(e,r,c,h,v)},toggle:(r,c,h)=>{Tm(e,r,c,h)},match:(r,c,h,v)=>EP(e,r,c,h,v),closest:r=>x0(e,r),matchAll:(r,c)=>vE(e,r,c),matchNode:(r,c,h,v)=>HZ(e,r,c,h,v),canApply:r=>zZ(e,r),formatChanged:(r,c,h,v)=>jZ(e,o,r,c,h,v),getCssText:le(DW,e)}},nF=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},OW=(e,t,o)=>{const r=Pn(!1),c=k=>{uv(t,!1,o),t.add({},k)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",k=>{const L=k.command;nF(L)||(Zk(t,o),t.beforeChange())}),e.on("ExecCommand",k=>{const L=k.command;nF(L)||c(k)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",k=>{const L=k.keyCode;if(k.isDefaultPrevented())return;const W=ds.os.isMacOS()&&k.key==="Meta";(L>=33&&L<=36||L>=37&&L<=40||L===45||k.ctrlKey||W)&&(c(),e.nodeChanged()),(L===46||L===8)&&e.nodeChanged(),r.get()&&t.typing&&!zw(e.readonly,gE(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",k=>{const L=k.keyCode;if(k.isDefaultPrevented())return;if(L>=33&&L<=36||L>=37&&L<=40||L===45){t.typing&&c(k);return}const W=k.ctrlKey&&!k.altKey||k.metaKey;if((L<16||L>20)&&L!==224&&L!==91&&!t.typing&&!W){t.beforeChange(),uv(t,!0,o),t.add({},k),r.set(!0);return}(ds.os.isMacOS()?k.metaKey:k.ctrlKey&&!k.altKey)&&t.beforeChange()}),e.on("mousedown",k=>{t.typing&&c(k)});const h=k=>k.inputType==="insertReplacementText",v=k=>k.inputType==="insertText"&&k.data===null,T=k=>k.inputType==="insertFromPaste"||k.inputType==="insertFromDrop";e.on("input",k=>{k.inputType&&(h(k)||v(k)||T(k))&&c(k)}),e.on("AddUndo Undo Redo ClearUndos",k=>{k.isDefaultPrevented()||e.nodeChanged()})},NW=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},RW=e=>{const t=Fs(),o=Pn(0),r=Pn(0),c={data:[],typing:!1,beforeChange:()=>{ap(e,o,t)},add:(h,v)=>CP(e,c,r,o,t,h,v),dispatchChange:()=>{e.setDirty(!0);const h=gE(e);h.bookmark=mf(e.selection),e.dispatch("change",{level:h,lastLevel:Xs(c.data,r.get()).getOrUndefined()})},undo:()=>dO(e,c,o,r),redo:()=>fO(e,r,c.data),clear:()=>{Wk(e,c,r)},reset:()=>{$Z(e,c)},hasUndo:()=>SP(e,c,r),hasRedo:()=>yE(e,c,r),transact:h=>IZ(e,c,o,h),ignore:h=>{qk(e,o,h)},extra:(h,v)=>{mO(e,c,r,h,v)}};return v0(e)||OW(e,c,o),NW(e),c},MW=[9,27,Ln.HOME,Ln.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Ln.DOWN,Ln.UP,Ln.LEFT,Ln.RIGHT].concat(ds.browser.isFirefox()?[224]:[]),oF="data-mce-placeholder",sF=e=>e.type==="keydown"||e.type==="keyup",rF=e=>{const t=e.keyCode;return t===Ln.BACKSPACE||t===Ln.DELETE},BW=e=>{if(sF(e)){const t=e.keyCode;return!rF(e)&&(Ln.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||Be(MW,t))}else return!1},LW=e=>sF(e)&&!(rF(e)||e.type==="keyup"&&e.keyCode===229),hv=(e,t,o)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const r=t.firstElementChild;return r?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},PW=e=>{const t=e.dom,o=bl(e),r=rS(e)??"",c=(h,v)=>{if(BW(h))return;const T=e.getBody(),k=LW(h)?!1:hv(t,T,o);(t.getAttrib(T,oF)!==""!==k||v)&&(t.setAttrib(T,oF,k?r:null),YC(e,k),e.on(k?"keydown":"keyup",c),e.off(k?"keyup":"keydown",c))};Hr(r)&&e.on("init",h=>{c(h,!0),e.on("change SetContent ExecCommand",c),e.on("paste",v=>Qg.setEditorTimeout(e,()=>c(v)))})},FW=e=>t=>qe(t)&&t.nodeName.toLowerCase()===e,Gw=e=>t=>qe(t)&&e.test(t.nodeName),C0=e=>qe(e)&&e.nodeType===3,o4=e=>qe(e)&&e.nodeType===1,ag=Gw(/^(OL|UL|DL)$/),$W=Gw(/^(OL|UL)$/),s4=Gw(/^(LI|DT|DD)$/),IW=Gw(/^(DT|DD)$/),Xx=FW("br"),HW=e=>e.parentNode?.firstChild===e,WO=(e,t)=>qe(t)&&t.nodeName in e.schema.getTextBlockElements(),qO=(e,t)=>qe(e)&&e.nodeName in t,zW=(e,t)=>qe(t)&&t.nodeName in e.schema.getVoidElements(),jW=(e,t)=>Xx(t)?e.isBlock(t.nextSibling)&&!Xx(t.previousSibling):!1,Qx=(e,t,o)=>{const r=e.isEmpty(t);return o&&e.select("span[data-mce-type=bookmark]",t).length>0?!1:r},aF=(e,t)=>e.isChildOf(t,e.getRoot()),iF=hs.DOM,VW=(e,t)=>{const o=t.parentElement;if(o&&o.nodeName==="LI"&&o.firstChild===t){const r=o.previousSibling;r&&r.nodeName==="LI"?(r.appendChild(t),Qx(e,o)&&iF.remove(o)):iF.setStyle(o,"listStyleType","none")}if(ag(o)){const r=o.previousSibling;r&&r.nodeName==="LI"&&r.appendChild(t)}},GO=(e,t)=>{const o=ln.grep(e.select("ol,ul",t));ln.each(o,r=>{VW(e,r)})},lF=(e,t)=>{if(C0(e))return{container:e,offset:t};const o=f0.getNode(e,t);return C0(o)?{container:o,offset:t>=e.childNodes.length?o.data.length:0}:o.previousSibling&&C0(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&C0(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:t}},KO=e=>{const t=e.cloneRange(),o=lF(e.startContainer,e.startOffset);t.setStart(o.container,o.offset);const r=lF(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},cF=["OL","UL","DL"],uF=cF.join(","),NE=(e,t)=>{const o=e.selection.getStart(!0);return e.dom.getParent(o,uF,RE(e,o))},dF=(e,t)=>qe(e)&&t.length===1&&t[0]===e,UW=e=>xt(e.querySelectorAll(uF),ag),ZW=e=>{const t=NE(e),o=e.selection.getSelectedBlocks();return dF(t,o)?UW(t):xt(o,r=>ag(r)&&t!==r)},WW=(e,t)=>{const o=ln.map(t,r=>{const c=e.dom.getParent(r,"li,dd,dt",RE(e,r));return c||r});return Ma(o)},YO=e=>{const t=e.selection.getSelectedBlocks();return xt(WW(e,t),s4)},qW=e=>xt(YO(e),IW),XO=(e,t)=>{const o=e.dom.getParents(t,"TD,TH");return o.length>0?o[0]:e.getBody()},GW=(e,t)=>!ag(t)&&!s4(t)&&Ke(cF,o=>e.isValidChild(t.nodeName,o)),RE=(e,t)=>{const o=e.dom.getParents(t,e.dom.isBlock),r=h=>h.nodeName.toLowerCase()!==bl(e);return sn(o,h=>r(h)&&GW(e.schema,h)).getOr(e.getBody())},fF=e=>Wi(e).exists(t=>s4(t.dom)&&ri(t).exists(o=>!ag(o.dom))&&ai(t).exists(o=>!ag(o.dom))),mF=(e,t)=>{const o=e.dom.getParents(t,"ol,ul",RE(e,t));return Wr(o)},KW=e=>{const t=mF(e,e.selection.getStart()),o=xt(e.selection.getSelectedBlocks(),$W);return t.toArray().concat(o)},YW=e=>{const t=e.selection.getStart();return e.dom.getParents(t,"ol,ul",RE(e,t))},XW=e=>{const t=KW(e),o=YW(e);return sn(o,r=>fF(_e.fromDom(r))).fold(()=>QW(e,t),r=>[r])},QW=(e,t)=>{const o=tt(t,r=>mF(e,r).getOr(r));return Ma(o)},r4=e=>/\btox\-/.test(e.className),hF=(e,t)=>t!==null&&!e.dom.isEditable(t),JW=e=>{const t=NE(e);return hF(e,t)||!e.selection.isEditable()},QO=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return hF(e,o)||!e.selection.isEditable()},gv=(e,t,o)=>e.dispatch("ListMutation",{action:t,element:o}),JO=(e,t,o={})=>{const r=e.dom,c=e.schema.getBlockElements(),h=r.createFragment(),v=bl(e),T=th(e);let k,L,W=!1;for(L=r.create(v,{...T,...o.style?{style:o.style}:{}}),qO(t.firstChild,c)||h.appendChild(L);k=t.firstChild;){const G=k.nodeName;!W&&(G!=="SPAN"||k.getAttribute("data-mce-type")!=="bookmark")&&(W=!0),qO(k,c)?(h.appendChild(k),L=null):(L||(L=r.create(v,T),h.appendChild(L)),L.appendChild(k))}return!W&&L&&L.appendChild(r.create("br",{"data-mce-bogus":"1"})),h},Kw=e=>Sh(e,"OL,UL"),$ne=e=>Sh(e,"LI"),eN=e=>ri(e).exists(Kw),eq=e=>ai(e).exists(Kw),gF=(e,t)=>yS(e).map(o=>o>=t).getOr(!0),Jx=e=>"listAttributes"in e,pF=e=>"isComment"in e,tq=e=>"isFragment"in e,bF=e=>e.depth>0,nq=e=>e.isSelected,oq=e=>{const t=ma(e),o=eq(e)?t.slice(0,-1):t;return tt(o,_f)},tN=(e,t,o)=>Wi(e).filter(fa).map(r=>({depth:t,dirty:!1,isSelected:o,content:oq(e),itemAttributes:cs(e),listAttributes:cs(r),listType:rs(r),isInPreviousLi:!1})),a4=(e,t)=>{Is(e.item,t.list)},sq=e=>{for(let t=1;t<e.length;t++)a4(e[t-1],e[t])},yF=(e,t)=>{Bn(Wr(e),gs(t),a4)},rq=(e,t)=>{const o={list:_e.fromTag(t,e),item:_e.fromTag("li",e)};return Is(o.list,o.item),o},aq=(e,t,o)=>{const r=[];for(let c=0;c<o;c++)r.push(rq(e,Jx(t)?t.listType:t.parentListType));return r},iq=(e,t)=>{for(let o=0;o<e.length-1;o++)Bl(e[o].item,"list-style-type","none");Wr(e).each(o=>{Jx(t)&&(Wa(o.list,t.listAttributes),Wa(o.item,t.itemAttributes)),hc(o.item,t.content)})},lq=(e,t)=>{rs(e.list)!==t.listType&&(e.list=qa(e.list,t.listType)),Wa(e.list,t.listAttributes)},cq=(e,t,o)=>{const r=_e.fromTag("li",e);return Wa(r,t),hc(r,o),r},uq=(e,t)=>{Is(e.list,t),e.item=t},vF=(e,t,o)=>{const r=t.slice(0,o.depth);return Wr(r).each(c=>{if(Jx(o)){const h=cq(e,o.itemAttributes,o.content);uq(c,h),lq(c,o)}else if(tq(o))hc(c.item,o.content);else{const h=_e.fromHtml(`<!--${o.content}-->`);Is(c.list,h)}}),r},dq=(e,t,o)=>{const r=aq(e,o,o.depth-t.length);return sq(r),iq(r,o),yF(t,r),t.concat(r)},fq=(e,t)=>{let o=X.none();const r=Pe(t,(c,h,v)=>pF(h)?v===0?(o=X.some(h),c):vF(e,c,h):h.depth>c.length?dq(e,c,h):vF(e,c,h),[]);return o.each(c=>{const h=_e.fromHtml(`<!--${c.content}-->`);gs(r).each(v=>{ef(v.list,h)})}),gs(r).map(c=>c.list)},mq=(e,t,o)=>{switch(t){case"Indent":if(gF(e,o.depth))o.depth++;else return;break;case"Outdent":o.depth--;break;case"Flatten":o.depth=0}o.dirty=!0},nN=(e,t)=>{Jx(e)&&Jx(t)&&(e.listType=t.listType,e.listAttributes={...t.listAttributes})},hq=e=>{e.listAttributes=Yn(e.listAttributes,(t,o)=>o!=="start")},gq=(e,t)=>{const o=e[t].depth,r=h=>h.depth===o&&!h.dirty,c=h=>h.depth<o;return Tt(zo(e.slice(0,t)),r,c).orThunk(()=>Tt(e.slice(t+1),r,c))},xF=e=>(Le(e,(t,o)=>{gq(e,o).fold(()=>{t.dirty&&Jx(t)&&hq(t)},r=>nN(t,r))}),e),wF=(e,t,o,r)=>{if(vd(r))return[{depth:e+1,content:r.dom.nodeValue??"",dirty:!1,isSelected:!1,isComment:!0}];t.each(v=>{ss(v.start,r)&&o.set(!0)});const c=tN(r,e,o.get());t.each(v=>{ss(v.end,r)&&o.set(!1)});const h=ai(r).filter(Kw).map(v=>ME(e,t,o,v)).getOr([]);return c.toArray().concat(h)},pq=(e,t,o,r)=>ri(r).filter(Kw).fold(()=>wF(e,t,o,r),c=>{const h=Pe(ma(r),(v,T,k)=>{if(k===0)return v;if($ne(T))return v.concat(wF(e,t,o,T));{const L={isFragment:!0,depth:e,content:[T],isSelected:!1,dirty:!1,parentListType:rs(c)};return v.concat(L)}},[]);return ME(e,t,o,c).concat(h)}),ME=(e,t,o,r)=>Do(ma(r),c=>{const h=Kw(c)?ME:pq,v=e+1;return h(v,t,o,c)}),e2=(e,t)=>{const o=Pn(!1),r=0;return tt(e,c=>({sourceList:c,entries:ME(r,t,o,c)}))},CF=(e,t)=>{const o=xF(t);return tt(o,r=>{const c=pF(r)?_u([_e.fromHtml(`<!--${r.content}-->`)]):_u(r.content),h=Jx(r)?r.itemAttributes:{};return _e.fromDom(JO(e,c.dom,h))})},bq=(e,t)=>{const o=xF(t);return fq(e.contentDocument,o).toArray()},yq=(e,t)=>Do(Un(t,bF),o=>gs(o).exists(bF)?bq(e,o):CF(e,o)),vq=(e,t,o)=>{Le(xt(t,nq),r=>mq(e,o,r))},xq=e=>{const t=tt(YO(e),_e.fromDom);return Bn(sn(t,Ve(eN)),sn(zo(t),Ve(eN)),(o,r)=>({start:o,end:r}))},Yw=(e,t,o)=>{const r=e2(t,xq(e));Le(r,c=>{vq(e,c.entries,o);const h=yq(e,c.entries);Le(h,v=>{gv(e,o==="Indent"?"IndentList":"OutdentList",v.dom)}),Bm(c.sourceList,h),ws(c.sourceList)})},wq=e=>yS(e).forall(t=>{const o=e.selection.getSelectedBlocks();return Ke(o,r=>El(_e.fromDom(r),"li").forall(c=>Ge(c,"ol,ul").length<=t))}),E1=hs.DOM,oN=(e,t,o)=>{const r=L=>{const W=L.parentNode;W&&ln.each(c,G=>{W.insertBefore(G,o.parentNode)}),E1.remove(L)},c=E1.select('span[data-mce-type="bookmark"]',t),h=JO(e,o),v=E1.createRng();v.setStartAfter(o),v.setEndAfter(t);const T=v.extractContents();for(let L=T.firstChild;L;L=L.firstChild)if(L.nodeName==="LI"&&e.dom.isEmpty(L)){E1.remove(L);break}e.dom.isEmpty(T)||E1.insertAfter(T,t),E1.insertAfter(h,t);const k=o.parentElement;k&&Qx(e.dom,k)&&r(k),E1.remove(o),Qx(e.dom,t)&&E1.remove(t)},Cq=Pa("dd"),sN=Pa("dt"),i4=(e,t)=>{Cq(t)?qa(t,"dt"):sN(t)&&Qc(t).each(o=>oN(e,o.dom,t.dom))},Sq=e=>{sN(e)&&qa(e,"dd")},Eq=(e,t,o)=>{t==="Indent"?Le(o,Sq):Le(o,r=>i4(e,r))},Tq=(e,t)=>{const o=Cd(XW(e)),r=Cd(qW(e));let c=!1;if(o.length||r.length){const h=e.selection.getBookmark();Yw(e,o,t),Eq(e,t,r),e.selection.moveToBookmark(h),e.selection.setRng(KO(e.selection.getRng())),e.nodeChanged(),c=!0}return c},rN=(e,t)=>!JW(e)&&Tq(e,t),SF=e=>rN(e,"Indent"),BE=e=>rN(e,"Outdent"),l4=e=>rN(e,"Flatten"),Xw=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Aq=(e,t,o)=>{const r=o["list-style-type"]?o["list-style-type"]:null;e.setStyle(t,"list-style-type",r)},EF=(e,t)=>{ln.each(t,(o,r)=>{e.setAttribute(r,o)})},kq=(e,t,o)=>{EF(t,o["list-attributes"]),ln.each(e.select("li",t),r=>{EF(r,o["list-item-attributes"])})},Qw=(e,t,o)=>{Aq(e,t,o),kq(e,t,o)},Dq=(e,t,o)=>{ln.each(o,r=>e.setStyle(t,r,""))},c4=(e,t)=>qe(t)&&!qO(t,e.schema.getBlockElements()),aN=(e,t,o,r)=>{let c=t[o?"startContainer":"endContainer"];const h=t[o?"startOffset":"endOffset"];o4(c)&&(c=c.childNodes[Math.min(h,c.childNodes.length-1)]||c),!o&&Xx(c.nextSibling)&&(c=c.nextSibling);const v=k=>{for(;!e.dom.isBlock(k)&&k.parentNode&&r!==k;)k=k.parentNode;return k},T=(k,L)=>{const W=new Ka(k,v(k)),G=L?"next":"prev";let Q;for(;Q=W[G]();)if(!(zW(e,Q)||Ei(Q.textContent)||Q.textContent?.length===0))return X.some(Q);return X.none()};if(o&&C0(c))if(Ei(c.textContent))c=T(c,!1).getOr(c);else for(c.parentNode!==null&&c4(e,c.parentNode)&&(c=c.parentNode);c.previousSibling!==null&&(c4(e,c.previousSibling)||C0(c.previousSibling));)c=c.previousSibling;if(!o&&C0(c))if(Ei(c.textContent))c=T(c,!0).getOr(c);else for(c.parentNode!==null&&c4(e,c.parentNode)&&(c=c.parentNode);c.nextSibling!==null&&(c4(e,c.nextSibling)||C0(c.nextSibling));)c=c.nextSibling;for(;c.parentNode!==r;){const k=c.parentNode;if(WO(e,c)||/^(TD|TH)$/.test(k.nodeName))return c;c=k}return c},_q=(e,t,o)=>{const r=[],c=e.dom,h=aN(e,t,!0,o),v=aN(e,t,!1,o);let T;const k=[];for(let L=h;L&&(k.push(L),L!==v);L=L.nextSibling);return ln.each(k,L=>{if(WO(e,L)){r.push(L),T=null;return}if(c.isBlock(L)||Xx(L)){Xx(L)&&c.remove(L),T=null;return}const W=L.nextSibling;if(Tw.isBookmarkNode(L)&&(ag(W)||WO(e,W)||!W&&L.parentNode===o)){T=null;return}T||(T=c.create("p"),L.parentNode?.insertBefore(T,L),r.push(T)),T.appendChild(L)}),r},Oq=(e,t,o)=>{const r=e.getStyle(t,"list-style-type");let c=o?o["list-style-type"]:"";return c=c===null?"":c,r===c},Nq=(e,t)=>{const o=e.selection.getStart(!0),r=aN(e,t,!0,e.getBody());return as(_e.fromDom(r),_e.fromDom(t.commonAncestorContainer))?t.commonAncestorContainer:o},iN=(e,t,o)=>{const r=e.selection.getRng();let c="LI";const h=RE(e,Nq(e,r)),v=e.dom;if(v.getContentEditable(e.selection.getNode())==="false")return;t=t.toUpperCase(),t==="DL"&&(c="DT");const T=w1(r),k=xt(_q(e,r,h),e.dom.isEditable);ln.each(k,L=>{let W;const G=L.previousSibling,Q=L.parentNode;s4(Q)||(G&&ag(G)&&G.nodeName===t&&Oq(v,G,o)?(W=G,L=v.rename(L,c),G.appendChild(L)):(W=v.create(t),Q.insertBefore(W,L),W.appendChild(L),L=v.rename(L,c)),Dq(v,L,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Qw(v,W,o),lN(e.dom,W))}),e.selection.setRng(eg(T))},Rq=(e,t)=>ag(e)&&e.nodeName===t?.nodeName,TF=(e,t,o)=>{const r=e.getStyle(t,"list-style-type",!0),c=e.getStyle(o,"list-style-type",!0);return r===c},Mq=(e,t)=>e.className===t.className,AF=(e,t,o)=>Rq(t,o)&&TF(e,t,o)&&Mq(t,o),lN=(e,t)=>{let o,r=t.nextSibling;if(AF(e,t,r)){const c=r;for(;o=c.firstChild;)t.appendChild(o);e.remove(c)}if(r=t.previousSibling,AF(e,t,r)){const c=r;for(;o=c.lastChild;)t.insertBefore(o,t.firstChild);e.remove(c)}},Bq=(e,t,o,r)=>{if(t.nodeName!==o){const c=e.dom.rename(t,o);Qw(e.dom,c,r),gv(e,Xw(o),c)}else Qw(e.dom,t,r),gv(e,Xw(o),t)},Lq=(e,t,o,r)=>{if(t.classList.forEach((c,h,v)=>{c.startsWith("tox-")&&(v.remove(c),v.length===0&&t.removeAttribute("class"))}),t.nodeName!==o){const c=e.dom.rename(t,o);Qw(e.dom,c,r),gv(e,Xw(o),c)}else Qw(e.dom,t,r),gv(e,Xw(o),t)},cN=(e,t,o,r,c)=>{const h=ag(t);if(h&&t.nodeName===r&&!kF(c)&&!r4(t))l4(e);else{iN(e,r,c);const v=w1(e.selection.getRng()),T=h?[t,...o]:o,k=h&&r4(t)?Lq:Bq;ln.each(T,L=>{k(e,L,r,c)}),e.selection.setRng(eg(v))}},kF=e=>"list-style-type"in e,Pq=(e,t,o,r)=>{if(t!==e.getBody())if(t)if(t.nodeName===o&&!kF(r)&&!r4(t))l4(e);else{const c=w1(e.selection.getRng());r4(t)&&t.classList.forEach((v,T,k)=>{v.startsWith("tox-")&&(k.remove(v),k.length===0&&t.removeAttribute("class"))}),Qw(e.dom,t,r);const h=e.dom.rename(t,o);lN(e.dom,h),e.selection.setRng(eg(c)),iN(e,o,r),gv(e,Xw(o),h)}else iN(e,o,r),gv(e,Xw(o),t)},uN=(e,t,o)=>{const r=NE(e);if(QO(e,r))return;const c=ZW(e),h=vt(o)?o:{};c.length>0?cN(e,r,c,t,h):Pq(e,r,t,h)},DF=(e,t,o,r)=>{let c=t.startContainer;const h=t.startOffset;if(C0(c)&&(o?h<c.data.length:h>0))return c;const v=e.schema.getNonEmptyElements();o4(c)&&(c=f0.getNode(c,h));const T=new Ka(c,r);o&&jW(e.dom,c)&&T.next();const k=o?T.next.bind(T):T.prev2.bind(T);for(;c=k();)if(c.nodeName==="LI"&&!c.hasChildNodes()||v[c.nodeName]||C0(c)&&c.data.length>0)return c;return null},_F=(e,t)=>{const o=t.childNodes;return o.length===1&&!ag(o[0])&&e.isBlock(o[0])},Fq=e=>X.from(e).map(_e.fromDom).filter(xd).exists(t=>Cr(t)&&!Be(["details"],rs(t))),$q=(e,t)=>{_F(e,t)&&Fq(t.firstChild)&&e.remove(t.firstChild,!0)},OF=(e,t,o)=>{let r;const c=_F(e,o)?o.firstChild:o;if($q(e,t),!Qx(e,t,!0))for(;r=t.firstChild;)c.appendChild(r)},dN=(e,t,o)=>{let r;const c=t.parentNode;if(!aF(e,t)||!aF(e,o))return;ag(o.lastChild)&&(r=o.lastChild),c===o.lastChild&&Xx(c.previousSibling)&&e.remove(c.previousSibling);const h=o.lastChild;h&&Xx(h)&&t.hasChildNodes()&&e.remove(h),Qx(e,o,!0)&&ql(_e.fromDom(o)),OF(e,t,o),r&&o.appendChild(r);const T=mc(_e.fromDom(o),_e.fromDom(t))?e.getParents(t,ag,o):[];e.remove(t),Le(T,k=>{Qx(e,k)&&k!==e.getRoot()&&e.remove(k)})},Iq=(e,t,o)=>{ql(_e.fromDom(o)),dN(e.dom,t,o),e.selection.setCursorLocation(o,0)},Hq=(e,t,o,r)=>{const c=e.dom;if(c.isEmpty(r))Iq(e,o,r);else{const h=w1(t);dN(c,o,r),e.selection.setRng(eg(h))}},zq=(e,t,o,r)=>{const c=w1(t);dN(e.dom,o,r);const h=eg(c);e.selection.setRng(h)},jq=(e,t)=>{const o=e.dom,r=e.selection,c=r.getStart(),h=XO(e,c),v=o.getParent(r.getStart(),"LI",h);if(v){const T=v.parentElement;if(T===e.getBody()&&Qx(o,T))return!0;const k=KO(r.getRng()),L=o.getParent(DF(e,k,t,h),"LI",h),W=L&&(t?o.isChildOf(v,L):o.isChildOf(L,v));if(L&&L!==v&&!W)return e.undoManager.transact(()=>{t?Hq(e,k,L,v):HW(v)?BE(e):zq(e,k,v,L)}),!0;if(W&&!t&&L!==v){const G=k.commonAncestorContainer.parentElement;return!G||o.isChildOf(L,G)?!1:(e.undoManager.transact(()=>{const Q=w1(k);OF(o,G,L),G.remove();const ce=eg(Q);e.selection.setRng(ce)}),!0)}else if(!L&&!t&&k.startOffset===0&&k.endOffset===0)return e.undoManager.transact(()=>{l4(e)}),!0}return!1},Vq=(e,t,o)=>{const r=e.getParent(t.parentNode,e.isBlock,o);e.remove(t),r&&e.isEmpty(r)&&e.remove(r)},Uq=(e,t)=>{const o=e.dom,r=e.selection.getStart(),c=XO(e,r),h=o.getParent(r,o.isBlock,c);if(h&&o.isEmpty(h,void 0,{checkRootAsContent:!0})){const v=KO(e.selection.getRng()),T=DF(e,v,t,c),k=o.getParent(T,"LI",c);if(T&&k){const L=ce=>Be(["td","th","caption"],rs(ce)),W=ce=>ce.dom===c,G=nr(_e.fromDom(k),L,W),Q=nr(_e.fromDom(v.startContainer),L,W);return wo(G,Q,ss)?(e.undoManager.transact(()=>{const ce=k.parentNode;Vq(o,h,c),lN(o,ce),e.selection.select(T,!0),e.selection.collapse(t)}),!0):!1}}return!1},Zq=(e,t)=>jq(e,t)||Uq(e,t),fN=e=>{const t=e.selection.getStart(),o=XO(e,t),r=e.dom.getParent(t,"LI,DT,DD",o);return qe(r)||YO(e).length>0},Wq=e=>fN(e)?(e.undoManager.transact(()=>{let t=!0;const o=()=>t=!1;e.on("input",o),e.execCommand("Delete"),e.off("input",o),t&&e.dispatch("input"),GO(e.dom,e.getBody())}),!0):!1,mN=(e,t)=>{const o=e.selection;return!QO(e,o.getNode())&&(o.isCollapsed()?Zq(e,t):Wq(e))},qq=(e,t)=>({block:e,position:t}),Gq=(e,t)=>({from:e,to:t}),u4=(e,t)=>{const o=_e.fromDom(e),r=_e.fromDom(t.container());return H_(o,r).map(c=>qq(c,t))},Kq=e=>!(mc(e.to.block,e.from.block)||mc(e.from.block,e.to.block)),Yq=e=>!ss(e.from.block,e.to.block),hN=(e,t)=>nr(t,c=>jh(c)||Mu(c.dom),c=>ss(c,e)).filter(fa).getOr(e),Xq=(e,t)=>{const o=_e.fromDom(e);return ss(hN(o,t.from.block),hN(o,t.to.block))},Qq=e=>na(e.from.block.dom)===!1&&na(e.to.block.dom)===!1,Jq=e=>{const t=o=>Sc(o)||Wt(o.dom)||fu(o);return t(e.from.block)&&t(e.to.block)},eG=(e,t,o,r)=>la(r.position.getNode())&&!_a(e,r.block)?y(!1,r.block.dom).bind(c=>c.isEqual(r.position)?Zf(o,t,c).bind(h=>u4(t,h)):X.some(r)).getOr(r):r,gN=(e,t,o,r)=>{const c=u4(t,_t.fromRangeStart(r)),h=c.bind(v=>Zf(o,t,v.position).bind(T=>u4(t,T).map(k=>eG(e,t,o,k))));return Bn(c,h,Gq).filter(v=>Yq(v)&&Xq(t,v)&&Qq(v)&&Jq(v)&&Kq(v))},NF=(e,t,o,r)=>r.collapsed?gN(e,t,o,r):X.none(),Ine=(e,t)=>{const o=ma(e);return Zn(o,r=>t.isBlock(rs(r))).fold(at(o),r=>o.slice(0,r))},Jw=(e,t)=>{const o=Ine(e,t);return Le(o,ws),o},tG=(e,t,o)=>{const r=Jg(o,t);return sn(r.reverse(),c=>_a(e,c)).each(ws)},Hne=(e,t)=>xt(qi(t),o=>!_a(e,o)).length===0,zne=(e,t,o,r,c)=>{if(_a(r,o))return Vh(o),I(o.dom);Hne(r,c)&&_a(r,t)&&ul(c,_e.fromTag("br"));const h=D(o.dom,_t.before(c.dom));return Le(Jw(t,r),v=>{ul(c,v)}),tG(r,e,t),h},jne=(e,t)=>e.isInline(rs(t)),S0=(e,t,o,r)=>{if(_a(r,o)){if(_a(r,t)){const v=Dt((T=>{const k=(L,W)=>ri(L).fold(()=>W,G=>jne(r,G)?k(G,W.concat(ki(G))):W);return k(T,[])})(o),(T,k)=>(Ml(T,k),k),Fg());ql(t),Is(t,v)}return ws(o),I(t.dom)}const c=q(o.dom);return Le(Jw(t,r),h=>{Is(o,h)}),tG(r,e,t),c},LE=(e,t)=>{const o=Jg(t,e);return X.from(o[o.length-1])},E0=(e,t)=>mc(t,e)?LE(t,e):X.none(),pv=(e,t)=>{y(e,t.dom).bind(o=>X.from(o.getNode())).map(_e.fromDom).filter(Fd).each(ws)},d4=(e,t,o,r)=>(pv(!0,t),pv(!1,o),E0(t,o).fold(le(S0,e,t,o,r),le(zne,e,t,o,r))),pN=(e,t,o,r,c)=>t?d4(e,r,o,c):d4(e,o,r,c),t2=(e,t)=>{const o=_e.fromDom(e.getBody());return NF(e.schema,o.dom,t,e.selection.getRng()).map(c=>()=>{pN(o,t,c.from.block,c.to.block,e.schema).each(h=>{e.selection.setRng(h.toRange())})})},nG=(e,t,o)=>{const r=t.getRng();return Bn(H_(e,_e.fromDom(r.startContainer)),H_(e,_e.fromDom(r.endContainer)),(c,h)=>ss(c,h)?X.none():X.some(()=>{r.deleteContents(),pN(e,!0,c,h,o).each(v=>{t.setRng(v.toRange())})})).getOr(X.none())},bN=(e,t)=>{const o=_e.fromDom(t),r=le(ss,e);return kd(o,jh,r).isSome()},Vne=(e,t)=>bN(e,t.startContainer)||bN(e,t.endContainer),oG=(e,t)=>{const o=D(e.dom,_t.fromRangeStart(t)).isNone(),r=E(e.dom,_t.fromRangeEnd(t)).isNone();return!Vne(e,t)&&o&&r},PE=e=>X.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),RF=e=>{const t=_e.fromDom(e.getBody()),o=e.selection.getRng();return oG(t,o)?PE(e):nG(t,e.selection,e.schema)},nl=(e,t)=>e.selection.isCollapsed()?X.none():RF(e),Qb=(e,t,o,r,c)=>X.from(t._selectionOverrides.showCaret(e,o,r,c)),sG=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},T1=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?X.none():X.some(sG(t)),n2=(e,t,o)=>{const r=gw(1,e.getBody(),t),c=_t.fromRangeStart(r),h=c.getNode();if(Uf(h))return Qb(1,e,h,!c.isAtEnd(),!1);const v=c.getNode(!0);if(Uf(v))return Qb(1,e,v,!1,!1);const T=m0(e.dom.getRoot(),c.getNode());return Uf(T)?Qb(1,e,T,!1,o):X.none()},Jb=(e,t,o)=>t.collapsed?n2(e,t,o).getOr(t):t,rG=e=>jb(e)||US(e),aG=e=>v1(e)||ZS(e),yN=(e,t)=>{dn(t)&&t.data.length===0&&e.remove(t)},f4=(e,t,o,r,c,h)=>{Qb(r,e,h.getNode(!c),c,!0).each(v=>{if(t.collapsed){const T=t.cloneRange();c?T.setEnd(v.startContainer,v.startOffset):T.setStart(v.endContainer,v.endOffset),T.deleteContents()}else t.deleteContents();e.selection.setRng(v)}),yN(e.dom,o)},MF=(e,t)=>{const o=e.selection.getRng();if(!dn(o.commonAncestorContainer))return X.none();const r=t?1:-1,c=Xh(e.getBody()),h=le(bw,t?c.next:c.prev),v=t?rG:aG,T=g1(r,e.getBody(),o),k=h(T),L=k&&Jh(t,k);if(!L||!Yh(T,L))return X.none();if(v(L))return X.some(()=>f4(e,o,T.getNode(),r,t,L));const W=h(L);return W&&v(W)&&Yh(L,W)?X.some(()=>f4(e,o,T.getNode(),r,t,W)):X.none()},m4=(e,t)=>MF(e,t),vN=(e,t)=>{const o=e.getBody();return t?I(o).filter(jb):q(o).filter(v1)},xN=e=>{const t=e.selection.getRng();return!t.collapsed&&(vN(e,!0).exists(o=>o.isEqual(_t.fromRangeStart(t)))||vN(e,!1).exists(o=>o.isEqual(_t.fromRangeEnd(t))))},wN=e=>qe(e)&&(jh(_e.fromDom(e))||fu(_e.fromDom(e))),ch=gi.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),iG=(e,t)=>{const o=t.getNode(!e),r=e?"after":"before";return Sn(o)&&o.getAttribute("data-mce-caret")===r},lG=(e,t,o,r,c)=>{const h=v=>c.isInline(v.nodeName.toLowerCase())&&!qg(o,r,e);return pw(!t,o).fold(()=>pw(t,r).fold(He,h),h)},BF=(e,t,o,r,c)=>{const h=c.getNode(!o);return H_(_e.fromDom(t),_e.fromDom(r.getNode())).map(v=>_a(e,v)?ch.remove(v.dom):ch.moveToElement(h)).orThunk(()=>X.some(ch.moveToElement(h)))},LF=(e,t,o,r)=>Zf(t,e,o).bind(c=>wN(c.getNode())||lG(e,t,o,c,r)?X.none():t&&na(c.getNode())||!t&&na(c.getNode(!0))?BF(r,e,t,o,c):t&&v1(o)||!t&&jb(o)?X.some(ch.moveToPosition(c)):X.none()),CN=(e,t)=>fn(t)?X.none():e&&na(t.nextSibling)?X.some(ch.moveToElement(t.nextSibling)):!e&&na(t.previousSibling)?X.some(ch.moveToElement(t.previousSibling)):X.none(),PF=(e,t,o)=>o.fold(r=>X.some(ch.remove(r)),r=>X.some(ch.moveToElement(r)),r=>qg(t,r,e)?X.none():X.some(ch.moveToPosition(r))),cG=(e,t,o,r)=>iG(t,o)?CN(t,o.getNode(!t)).orThunk(()=>LF(e,t,o,r)):LF(e,t,o,r).bind(c=>PF(e,o,c)),uG=(e,t,o,r)=>{const c=gw(t?1:-1,e,o),h=_t.fromRangeStart(c),v=_e.fromDom(e);return!t&&v1(h)?X.some(ch.remove(h.getNode(!0))):t&&jb(h)?X.some(ch.remove(h.getNode())):!t&&jb(h)&&ak(v,h,r)?B6(v,h,r).map(T=>ch.remove(T.getNode())):t&&v1(h)&&B_(v,h,r)?Fj(v,h,r).map(T=>ch.remove(T.getNode())):cG(e,t,h,r)},eC=(e,t)=>o=>(e._selectionOverrides.hideFakeCaret(),x1(e,t,_e.fromDom(o)),!0),FF=(e,t)=>o=>{const r=t?_t.before(o):_t.after(o);return e.selection.setRng(r.toRange()),!0},dG=e=>t=>(e.selection.setRng(t.toRange()),!0),SN=(e,t)=>X.from(m0(e.getBody(),t)),fG=(e,t)=>{const o=e.selection.getNode();return SN(e,o).filter(na).fold(()=>uG(e.getBody(),t,e.selection.getRng(),e.schema).map(r=>()=>r.fold(eC(e,t),FF(e,t),dG(e))),()=>X.some(Lt))},$F=e=>{Le(kt(e,".mce-offscreen-selection"),ws)},mG=(e,t)=>{const o=e.selection.getNode();return na(o)&&!Np(o)?SN(e,o.parentNode).filter(na).fold(()=>X.some(()=>{$F(_e.fromDom(e.getBody())),x1(e,t,_e.fromDom(e.selection.getNode())),J6(e)}),()=>X.some(Lt)):xN(e)?X.some(()=>{rV(e,e.selection.getRng(),_e.fromDom(e.getBody()))}):X.none()},EN=e=>{const t=e.dom,o=e.selection,r=m0(e.getBody(),o.getNode());if(Mu(r)&&t.isBlock(r)&&t.isEmpty(r)){const c=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(c),o.setRng(_t.before(c).toRange())}return!0},h4=(e,t)=>e.selection.isCollapsed()?fG(e,t):mG(e,t),g4=(e,t)=>{const o=e.dom,r=o.getParent(e.selection.getStart(),o.isBlock),c=o.getParent(e.selection.getEnd(),o.isBlock),h=e.getBody();if(r?.nodeName?.toLowerCase()==="div"&&r&&c&&r===h.firstChild&&c===h.lastChild&&!o.isEmpty(h)){const T=r.cloneNode(!1),k=()=>{if(t?oV(e):I_(e),h.firstChild!==r){const L=w1(e.selection.getRng(),()=>document.createElement("span"));Array.from(h.childNodes).forEach(W=>T.appendChild(W)),h.appendChild(T),e.selection.setRng(eg(L))}};return X.some(k)}return X.none()},IF=(e,t)=>{const o=_t.fromRangeStart(e.selection.getRng());return Zf(t,e.getBody(),o).filter(r=>t?D_(r):k6(r)).bind(r=>AS(t?0:-1,r)).map(r=>()=>e.selection.select(r))},p4=(e,t)=>e.selection.isCollapsed()?IF(e,t):X.none(),o2=dn,HF=e=>o2(e)&&e.data[0]===Hi,zF=e=>o2(e)&&e.data[e.data.length-1]===Hi,jF=e=>(e.ownerDocument??document).createTextNode(Hi),TN=e=>{if(o2(e.previousSibling))return zF(e.previousSibling)||e.previousSibling.appendData(Hi),e.previousSibling;if(o2(e))return HF(e)||e.insertData(0,Hi),e;{const t=jF(e);return e.parentNode?.insertBefore(t,e),t}},FE=e=>{if(o2(e.nextSibling))return HF(e.nextSibling)||e.nextSibling.insertData(0,Hi),e.nextSibling;if(o2(e))return zF(e)||e.appendData(Hi),e;{const t=jF(e);return e.nextSibling?e.parentNode?.insertBefore(t,e.nextSibling):e.parentNode?.appendChild(t),t}},bv=(e,t)=>e?TN(t):FE(t),AN=le(bv,!0),VF=le(bv,!1),kN=(e,t)=>dn(e.container())?bv(t,e.container()):bv(t,e.getNode()),$E=(e,t)=>{const o=t.get();return o&&e.container()===o&&pm(o)},DN=(e,t)=>t.fold(o=>{Lb(e.get());const r=AN(o);return e.set(r),X.some(_t(r,r.length-1))},o=>I(o).map(r=>{if($E(r,e)){const c=e.get();return _t(c,1)}else{Lb(e.get());const c=kN(r,!0);return e.set(c),_t(c,1)}}),o=>q(o).map(r=>{if($E(r,e)){const c=e.get();return _t(c,c.length-1)}else{Lb(e.get());const c=kN(r,!1);return e.set(c),_t(c,c.length-1)}}),o=>{Lb(e.get());const r=VF(o);return e.set(r),X.some(_t(r,1))}),UF=(e,t)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,t);if(r.isSome())return r}return X.none()},kc=gi.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),b4=(e,t)=>{const o=m1(t,e);return o||e},ZF=(e,t,o)=>{const r=Y6(o),c=b4(t,r.container());return sv(e,c,r).fold(()=>E(c,r).bind(le(sv,e,c)).map(h=>kc.before(h)),X.none)},IE=(e,t)=>Ee(e,t)===null,_N=(e,t,o)=>sv(e,t,o).filter(le(IE,t)),ON=(e,t,o)=>{const r=X6(o);return _N(e,t,r).bind(c=>D(c,r).isNone()?X.some(kc.start(c)):X.none())},WF=(e,t,o)=>{const r=Y6(o);return _N(e,t,r).bind(c=>E(c,r).isNone()?X.some(kc.end(c)):X.none())},qF=(e,t,o)=>{const r=X6(o),c=b4(t,r.container());return sv(e,c,r).fold(()=>D(c,r).bind(le(sv,e,c)).map(h=>kc.after(h)),X.none)},GF=e=>!F_(NN(e)),T0=(e,t,o)=>UF([ZF,ON,WF,qF],[e,t,o]).filter(GF),NN=e=>e.fold(Jn,Jn,Jn,Jn),KF=e=>e.fold(at("before"),at("start"),at("end"),at("after")),y4=e=>e.fold(kc.before,kc.before,kc.after,kc.after),RN=e=>e.fold(kc.start,kc.start,kc.end,kc.end),MN=(e,t)=>KF(e)===KF(t)&&NN(e)===NN(t),hG=(e,t,o,r,c,h)=>Bn(sv(t,o,r),sv(t,o,c),(v,T)=>v!==T&&tV(o,v,T)?kc.after(e?v:T):h).getOr(h),YF=(e,t)=>e.fold(dt,o=>!MN(o,t)),gG=(e,t,o,r,c)=>{const h=Jh(e,c);return Zf(e,o,h).map(le(Jh,e)).fold(()=>r.map(y4),k=>T0(t,o,k).map(le(hG,e,t,o,h,k)).filter(le(YF,r))).filter(GF)},pG=(e,t)=>e?t.fold(F(X.some,kc.start),X.none,F(X.some,kc.after),X.none):t.fold(X.none,F(X.some,kc.before),X.none,F(X.some,kc.end)),bG=(e,t,o,r)=>{const c=Jh(e,r),h=T0(t,o,c);return T0(t,o,c).bind(le(pG,e)).orThunk(()=>gG(e,t,o,h,r))},yG=e=>Re(e.selection.getSel().modify),XF=(e,t,o)=>{const r=e?1:-1;return t.setRng(_t(o.container(),o.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},vG=(e,t)=>{const o=t.selection.getRng(),r=e?_t.fromRangeEnd(o):_t.fromRangeStart(o);return yG(t)?e&&Wm(r)?XF(!0,t.selection,r):!e&&Ig(r)?XF(!1,t.selection,r):!1:!1};var A1;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(A1||(A1={}));const v4=(e,t)=>e===-1?zo(t):t,xG=(e,t,o)=>e===1?t.next(o):t.prev(o),wG=(e,t,o,r)=>la(r.getNode(t===1))?A1.Br:qg(o,r)===!1?A1.Block:A1.Wrap,QF=(e,t,o,r)=>{const c=Xh(o);let h=r;const v=[];for(;h;){const T=xG(t,c,h);if(!T)break;if(la(T.getNode(!1)))return t===1?{positions:v4(t,v).concat([T]),breakType:A1.Br,breakAt:X.some(T)}:{positions:v4(t,v),breakType:A1.Br,breakAt:X.some(T)};if(!T.isVisible()){h=T;continue}if(e(h,T)){const k=wG(o,t,h,T);return{positions:v4(t,v),breakType:k,breakAt:X.some(T)}}v.push(T),h=T}return{positions:v4(t,v),breakType:A1.Eol,breakAt:X.none()}},BN=(e,t,o,r)=>t(o,r).breakAt.map(c=>{const h=t(o,c).positions;return e===-1?h.concat(c):[c].concat(h)}).getOr([]),LN=(e,t)=>Pe(e,(o,r)=>o.fold(()=>X.some(r),c=>Bn(gs(c.getClientRects()),gs(r.getClientRects()),(h,v)=>{const T=Math.abs(t-h.left);return Math.abs(t-v.left)<=T?r:c}).or(o)),X.none()),s2=(e,t)=>gs(t.getClientRects()).bind(o=>LN(e,o.left)),zc=le(QF,_t.isAbove,-1),HE=le(QF,_t.isBelow,1),zE=le(BN,-1,zc),yv=le(BN,1,HE),x4=(e,t)=>zc(e,t).breakAt.isNone(),bf=(e,t)=>HE(e,t).breakAt.isNone(),r2=e=>I(e).map(t=>[t].concat(HE(e,t).positions)).getOr([]),JF=e=>q(e).map(t=>zc(e,t).positions.concat(t)).getOr([]),e7=(e,t)=>s2(zE(e,t),t),PN=(e,t)=>s2(yv(e,t),t),CG=na,FN=(e,t)=>Math.abs(e.left-t),w4=(e,t)=>Math.abs(e.right-t),$N=e=>ls(e,"node"),t7=(e,t)=>Eu(e,(o,r)=>{const c=Math.min(FN(o,t),w4(o,t)),h=Math.min(FN(r,t),w4(r,t));return h===c&&$N(r)&&CG(r.node)||h<c?r:o}),SG=e=>{const t=o=>tt(o,r=>{const c=qm(r);return c.node=e,c});if(Sn(e))return t(e.getClientRects());if(dn(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),t(o.getClientRects())}else return[]},IN=e=>Do(e,SG);var yf;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(yf||(yf={}));const HN=(e,t,o,r)=>{let c=r;for(;c=Ax(c,e,zf,t);)if(o(c))return},n7=(e,t,o,r,c,h)=>{let v=0;const T=[],k=G=>{let Q=IN([G]);e===yf.Up&&(Q=Q.reverse());for(let ce=0;ce<Q.length;ce++){const De=Q[ce];if(!o(De,L)){if(T.length>0&&t(De,Vl(T))&&v++,De.line=v,c(De))return!0;T.push(De)}}return!1},L=Vl(h.getClientRects());if(!L)return T;const W=h.getNode();return W&&(k(W),HN(e,r,k,W)),T},C4=(e,t)=>t.line>e,zN=(e,t)=>t.line===e,o7=le(n7,yf.Up,Zh,Gm),s7=le(n7,yf.Down,Gm,Zh),jN=e=>Vl(e.getClientRects()),EG=(e,t,o,r)=>{const c=Xh(t);let h,v,T,k;const L=[];let W=0;e===yf.Down?(h=c.next,v=Gm,T=Zh,k=_t.after(r)):(h=c.prev,v=Zh,T=Gm,k=_t.before(r));const G=jN(k);do{if(!k.isVisible())continue;const Q=jN(k);if(T(Q,G))continue;L.length>0&&v(Q,Vl(L))&&W++;const ce=qm(Q);if(ce.position=k,ce.line=W,o(ce))return L;L.push(ce)}while(k=h(k));return L},r7=e=>t=>C4(e,t),VN=e=>t=>zN(e,t),k1=(e,t)=>{e.selection.setRng(t),sh(e,e.selection.getRng())},UN=(e,t,o)=>X.some(Jb(e,t,o)),ZN=(e,t)=>{const o=e.getNode(t===-1);return qe(o)&&Hl(o)?X.some(o):X.none()},a7=(e,t)=>{const o=e.dom.createRng();return o.selectNode(t),o},i7=(e,t,o,r,c,h)=>{const v=t===1,T=Xh(e.getBody()),k=le(bw,v?T.next:T.prev),L=v?r:c;if(!o.collapsed){const De=gl(o);if(h(De))if(Hl(De)){const ge=g1(t,e.getBody(),o);return X.from(k(ge)).map(Ae=>Ae.toRange())}else return Qb(t,e,De,t===-1,!1);else if(xN(e)){const ge=o.cloneRange();return ge.collapse(t===-1),X.from(ge)}}const W=g1(t,e.getBody(),o);if(L(W))return T1(e,W.getNode(!v));let G=k(W);const Q=Ry(o);if(G)G=Jh(v,G);else return Q?X.some(o):X.none();if(L(G))return ZN(G,t).fold(()=>Qb(t,e,G?.getNode(!v),v,!1),De=>X.some(a7(e,De)));const ce=k(G);return ce&&L(ce)&&Yh(G,ce)?ZN(G,t).fold(()=>Qb(t,e,ce.getNode(!v),v,!1),De=>X.some(a7(e,De))):Q?UN(e,G.toRange(),!1):X.none()},l7=(e,t,o,r,c,h)=>{const v=g1(t,e.getBody(),o),T=Vl(v.getClientRects()),k=t===yf.Down,L=e.getBody();if(!T)return X.none();if(xN(e)){const Ae=k?_t.fromRangeEnd(o):_t.fromRangeStart(o);return(k?PN:e7)(L,Ae).orThunk(()=>X.from(Ae)).map(rt=>rt.toRange())}const G=(k?s7:o7)(L,r7(1),v),Q=xt(G,VN(1)),ce=T.left,De=t7(Q,ce);if(De&&h(De.node)){const Ae=Math.abs(ce-De.left),ot=Math.abs(ce-De.right);return Qb(t,e,De.node,Ae<ot,!1)}let ge;if(r(v)?ge=v.getNode():c(v)?ge=v.getNode(!0):ge=gl(o),ge){const Ae=EG(t,L,r7(1),ge);let ot=t7(xt(Ae,VN(1)),ce);if(ot||(ot=Vl(xt(Ae,VN(0))),ot))return UN(e,ot.position.toRange(),!1)}return Q.length===0?S4(e,k).filter(k?c:r).map(Ae=>Jb(e,Ae.toRange(),!1)):X.none()},S4=(e,t)=>{const o=e.selection.getRng(),r=t?_t.fromRangeEnd(o):_t.fromRangeStart(o),c=mw(r.container(),e.getBody());if(t){const h=HE(c,r);return Wr(h.positions)}else{const h=zc(c,r);return gs(h.positions)}},E4=(e,t,o)=>S4(e,t).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),tC=(e,t)=>{const o=e.dom.createRng();o.setStart(t.container(),t.offset()),o.setEnd(t.container(),t.offset()),e.selection.setRng(o)},WN=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},T4=(e,t,o)=>DN(t,o).map(r=>(tC(e,r),o)),c7=(e,t,o)=>{const r=_t.fromRangeStart(e);if(e.collapsed)return r;{const c=_t.fromRangeEnd(e);return o?D(t,c).getOr(c):E(t,r).getOr(r)}},u7=(e,t,o)=>{const r=e.getBody(),c=c7(e.selection.getRng(),r,o),h=le(Bx,e);return bG(o,h,r,c).bind(T=>T4(e,t,T))},qN=(e,t,o)=>{const r=tt(kt(_e.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),v=>v.dom),c=xt(r,e),h=xt(o,e);Le(os(c,h),le(WN,!1)),Le(os(h,c),le(WN,!0))},d7=(e,t)=>{const o=t.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=_t.fromRangeStart(e.selection.getRng());_t.isTextPosition(r)&&!nV(r)&&(tC(e,HD(o,r)),t.set(null))}},f7=(e,t,o,r)=>{if(t.selection.isCollapsed()){const c=xt(r,e);Le(c,h=>{const v=_t.fromRangeStart(t.selection.getRng());T0(e,t.getBody(),v).bind(T=>T4(t,o,T))})}},GN=(e,t,o)=>f1(e)?u7(e,t,o).isSome():!1,m7=(e,t,o)=>f1(t)?vG(e,t):!1,TG=e=>{const t=Pn(null),o=le(Bx,e);return e.on("NodeChange",r=>{f1(e)&&(qN(o,e.dom,r.parents),d7(e,t),f7(o,e,t,r.parents))}),t},A4=le(m7,!0),AG=le(m7,!1),vv=(e,t,o)=>{if(f1(e)){const r=S4(e,t).getOrThunk(()=>{const c=e.selection.getRng();return t?_t.fromRangeEnd(c):_t.fromRangeStart(c)});return T0(le(Bx,e),e.getBody(),r).exists(c=>{const h=y4(c);return DN(o,h).exists(v=>(tC(e,v),!0))})}else return!1},kG=(e,t)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(t.container(),t.offset()),o},DG=e=>Bn(I(e),q(e),(t,o)=>{const r=Jh(!0,t),c=Jh(!1,o);return E(e,r).forall(h=>h.isEqual(c))}).getOr(!0),h7=(e,t)=>o=>DN(t,o).map(r=>()=>tC(e,r)),g7=(e,t,o,r)=>{const c=e.getBody(),h=le(Bx,e);e.undoManager.ignore(()=>{e.selection.setRng(kG(o,r)),I_(e),T0(h,c,_t.fromRangeStart(e.selection.getRng())).map(RN).bind(h7(e,t)).each(ft)}),e.nodeChanged()},p7=(e,t)=>{const o=m1(t,e);return o||e},b7=(e,t,o,r)=>{const c=p7(e.getBody(),r.container()),h=le(Bx,e),v=T0(h,c,r);return v.bind(k=>o?k.fold(at(X.some(RN(k))),X.none,at(X.some(y4(k))),X.none):k.fold(X.none,at(X.some(y4(k))),X.none,at(X.some(RN(k))))).map(h7(e,t)).getOrThunk(()=>{const k=ev(o,c,r),L=k.bind(W=>T0(h,c,W));return Bn(v,L,()=>sv(h,c,r).bind(W=>DG(W)?X.some(()=>{x1(e,o,_e.fromDom(W))}):X.none())).getOrThunk(()=>L.bind(()=>k.map(W=>()=>{o?g7(e,t,r,W):g7(e,t,W,r)})))})},KN=(e,t,o)=>{if(e.selection.isCollapsed()&&f1(e)){const r=_t.fromRangeStart(e.selection.getRng());return b7(e,t,o,r)}return X.none()},_G=e=>om(e)>1,y7=(e,t)=>{const o=_e.fromDom(e.getBody()),r=_e.fromDom(e.selection.getStart()),c=Jg(r,o);return Zn(c,t).fold(at(c),h=>c.slice(0,h))},OG=e=>om(e)===1,NG=e=>y7(e,t=>e.schema.isBlock(rs(t))||_G(t)),v7=e=>y7(e,t=>e.schema.isBlock(rs(t))),RG=(e,t)=>{const o=le(T8,e);return Do(t,r=>o(r)?[r.dom]:[])},YN=e=>{const t=v7(e);return RG(e,t)},MG=(e,t,o,r)=>{const c=RG(t,r);if(c.length===0)x1(t,e,o);else{const h=o5(o.dom,c);t.selection.setRng(h.toRange())}},BG=(e,t)=>{const o=xt(NG(e),OG);return Wr(o).bind(r=>{const c=_t.fromRangeStart(e.selection.getRng());return e8(t,c,r.dom)&&!o_(r)?X.some(()=>MG(t,e,r,o)):X.none()})},LG=(e,t)=>{const o=t.parentElement;return la(t)&&!ie(o)&&e.dom.isEmpty(o)},PG=e=>o_(_e.fromDom(e)),x7=(e,t)=>{const o=e.selection.getStart(),r=LG(e,o)||PG(o)?o5(o,t):OV(e.selection.getRng(),t);e.selection.setRng(r.toRange())},w7=(e,t)=>{const o=os(t,YN(e));o.length>0&&x7(e,o)},XN=e=>dn(e.startContainer),FG=e=>e.startOffset===0&&XN(e),$G=(e,t)=>{const o=t.startContainer.parentElement;return!ie(o)&&T8(e,_e.fromDom(o))},IG=e=>{const t=e.startContainer.parentNode,o=e.endContainer.parentNode;return!ie(t)&&!ie(o)&&t.isEqualNode(o)},HG=e=>{const t=e.endContainer;return e.endOffset===(dn(t)?t.length:t.childNodes.length)},zG=e=>IG(e)&&HG(e),jG=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),VG=e=>zG(e)||jG(e),UG=e=>{const t=e.selection.getRng();return FG(t)&&$G(e,t)&&VG(t)},ZG=e=>{if(UG(e)){const t=YN(e);return X.some(()=>{I_(e),w7(e,t)})}else return X.none()},QN=(e,t)=>e.selection.isCollapsed()?BG(e,t):ZG(e),C7=(e,t)=>Cn(e,o=>de(o.dom),o=>t.isBlock(rs(o))),WG=e=>C7(_e.fromDom(e.selection.getStart()),e.schema),qG=e=>{const t=e.selection.getRng();return t.collapsed&&(XN(t)||e.dom.isEmpty(t.startContainer))&&!WG(e)},jE=e=>(qG(e)&&x7(e,[]),!0),nC=(e,t,o)=>qe(o)?X.some(()=>{e._selectionOverrides.hideFakeCaret(),x1(e,t,_e.fromDom(o))}):X.none(),GG=(e,t)=>{const o=t?US:ZS,c=g1(t?1:-1,e.getBody(),e.selection.getRng());return o(c)?nC(e,t,c.getNode(!t)):X.from(Jh(t,c)).filter(h=>o(h)&&Yh(c,h)).bind(h=>nC(e,t,h.getNode(!t)))},KG=(e,t)=>{const o=e.selection.getNode();return Nd(o)?nC(e,t,o):X.none()},k4=(e,t)=>e.selection.isCollapsed()?GG(e,t):KG(e,t),JN=e=>nr(e,t=>Mu(t.dom)||na(t.dom)).exists(t=>Mu(t.dom)),eR=e=>Ef(e??"").getOr(0),S7=(e,t)=>{const o=e||$2(t)?"margin":"padding",r=ka(t,"direction")==="rtl"?"-right":"-left";return o+r},Une=(e,t,o,r,c,h)=>{const v=S7(o,_e.fromDom(h)),T=eR(e.getStyle(h,v));if(t==="outdent"){const k=Math.max(0,T-r);e.setStyle(h,v,k?k+c:"")}else{const k=T+r+c;e.setStyle(h,v,k)}},YG=(e,t)=>mr(t,o=>{const r=S7(ew(e),o),c=ui(o,r).map(eR).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&c>0}),E7=e=>{const t=T7(e);return!e.mode.isReadOnly()&&(t.length>1||YG(e,t))},XG=e=>!e.mode.isReadOnly()&&wq(e),oC=e=>$d(e)||fu(e),QG=e=>Wi(e).exists(oC),T7=e=>xt(Cd(e.selection.getSelectedBlocks()),t=>!oC(t)&&!QG(t)&&JN(t)),A7=(e,t)=>{if(e.mode.isReadOnly())return;const{dom:o}=e,r=yD(e),c=/[a-z%]+$/i.exec(r)?.[0]??"px",h=eR(r),v=ew(e);Le(T7(e),T=>{Une(o,t,v,h,c,T.dom)}),t==="indent"?SF(e):BE(e)},k7=e=>A7(e,"indent"),ey=e=>A7(e,"outdent"),vf=e=>{if(e.selection.isCollapsed()&&E7(e)){const t=e.dom,o=e.selection.getRng(),r=_t.fromRangeStart(o),c=t.getParent(o.startContainer,t.isBlock);if(c!==null&&sk(_e.fromDom(c),r,e.schema))return X.some(()=>ey(e))}return X.none()},D7=(e,t)=>{const o=y5(e.selection.getRng());return Dz(o)?X.some(()=>x1(e,t,_e.fromDom(e.selection.getNode()))):X.none()},a2=(e,t)=>e.selection.isCollapsed()?X.none():D7(e,t),ty=(e,t,o)=>$r([vf,h4,m4,(r,c)=>KN(r,t,c),t2,G_,p4,k4,nl,QN,g4,a2],r=>r(e,o)).filter(r=>e.selection.isEditable()),lp=(e,t)=>{ty(e,t,!1).fold(()=>{e.selection.isEditable()&&(I_(e),J6(e))},ft),fN(e)&&GO(e.dom,e.getBody())},VE=(e,t)=>{ty(e,t,!0).fold(()=>{e.selection.isEditable()&&oV(e)},ft),fN(e)&&GO(e.dom,e.getBody())},tR=(e,t)=>{e.addCommand("delete",()=>{lp(e,t)}),e.addCommand("forwardDelete",()=>{VE(e,t)})},D4=5,_7=400,nR=e=>e.touches===void 0||e.touches.length!==1?X.none():X.some(e.touches[0]),JG=(e,t)=>{const o=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return o>D4||r>D4},eK=e=>{const t=Fs(),o=Pn(!1),r=Cu(c=>{e.dispatch("longpress",{...c,type:"longpress"}),o.set(!0)},_7);e.on("touchstart",c=>{nR(c).each(h=>{r.cancel();const v={x:h.clientX,y:h.clientY,target:c.target};r.throttle(c),o.set(!1),t.set(v)})},!0),e.on("touchmove",c=>{r.cancel(),nR(c).each(h=>{t.on(v=>{JG(h,v)&&(t.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{r.cancel(),c.type!=="touchcancel"&&t.get().filter(h=>h.target.isEqualNode(c.target)).each(()=>{o.get()?c.preventDefault():e.dispatch("tap",{...c,type:"tap"})})},!0)},_4=(e,t)=>Qn(e,t.nodeName),O7=(e,t)=>dn(t)?!0:Sn(t)?!_4(e.getBlockElements(),t)&&!wi(t)&&!Ya(e,t)&&!Z0(t)&&!Rh(t):!1,N7=(e,t,o)=>Ke(_6(_e.fromDom(o),_e.fromDom(t)),r=>_4(e,r.dom)),tK=(e,t)=>{if(dn(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||_4(e,t.nextSibling)||Z0(t.nextSibling)}return!1},R7=e=>e.dom.create(bl(e),th(e)),Zne=e=>{const t=e.dom,o=e.selection,r=e.schema,c=r.getBlockElements(),h=o.getStart(),v=e.getBody();let T,k,L=null;const W=bl(e);if(!h||!Sn(h))return;const G=v.nodeName.toLowerCase();if(!r.isValidChild(G,W.toLowerCase())||N7(c,v,h))return;if(v.firstChild===v.lastChild&&la(v.firstChild)){T=R7(e),T.appendChild(Fg().dom),v.replaceChild(T,v.firstChild),e.selection.setCursorLocation(T,0),e.nodeChanged();return}let Q=v.firstChild;for(;Q;)if(Sn(Q)&&yc(r,Q),O7(r,Q)){if(tK(c,Q)){k=Q,Q=Q.nextSibling,t.remove(k);continue}if(!T){if(!L&&e.hasFocus()&&(L=w1(e.selection.getRng(),()=>document.createElement("span"))),!Q.parentNode){Q=null;break}T=R7(e),v.insertBefore(T,Q)}k=Q,Q=Q.nextSibling,T.appendChild(k)}else T=null,Q=Q.nextSibling;L&&(e.selection.setRng(eg(L)),e.nodeChanged())},nK=(e,t,o)=>{const r=_e.fromDom(R7(e)),c=Fg();Is(r,c),o(t,r);const h=document.createRange();return h.setStartBefore(c.dom),h.setEndBefore(c.dom),h},cp=e=>{e.on("NodeChange",()=>Zne(e))},M7=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,oK=(e,t,o)=>function(r){const c=arguments,h=c[c.length-2],v=h>0?t.charAt(h-1):"";if(v==='"')return r;if(v===">"){const T=t.lastIndexOf("<",h);if(T!==-1&&t.substring(T,h).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},i2=(e,t,o)=>{let r=t.length,c=o.content;if(o.format!=="raw"){for(;r--;)c=c.replace(t[r],oK(e,c,xx(e)));o.content=c}},B7=(e,t)=>mr(e,o=>{const r=t.match(o);return r!==null&&r[0].length===t.length}),sK=e=>{const t="contenteditable",o=" "+ln.trim(gA(e))+" ",r=" "+ln.trim(xx(e))+" ",c=M7(o),h=M7(r),v=$D(e);v.length>0&&e.on("BeforeSetContent",T=>{i2(e,v,T)}),e.parser.addAttributeFilter("class",T=>{let k=T.length;for(;k--;){const L=T[k];c(L)?L.attr(t,"true"):h(L)&&L.attr(t,"false")}}),e.serializer.addAttributeFilter(t,T=>{let k=T.length;for(;k--;){const L=T[k];if(!c(L)&&!h(L))continue;const W=L.attr("data-mce-content");v.length>0&&W?B7(v,W)?(L.name="#text",L.type=3,L.raw=!0,L.value=W):L.remove():L.attr(t,null)}})},O4=e=>Ku(_e.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),N4=(e,t)=>{t.hasAttribute("data-mce-caret")&&(ff(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},L7=(e,t)=>{const o=O4(e);if(o){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),N4(e,o);return}Ny(o)&&(N4(e,o),e.undoManager.add())}},P7=e=>{e.on("keyup compositionstart",le(L7,e))},F7=na,$7=(e,t,o)=>i7(t,e,o,jb,v1,F7),I7=(e,t,o)=>l7(t,e,o,h=>jb(h)||WS(h),h=>v1(h)||__(h),F7),H7=e=>{const t=e.dom.create(bl(e));return t.innerHTML='<br data-mce-bogus="1">',t},R4=(e,t,o)=>{const r=Xh(e.getBody()),c=le(bw,t===1?r.next:r.prev);if(o.collapsed){const h=e.dom.getParent(o.startContainer,"PRE");if(!h)return;if(!c(_t.fromRangeStart(o))){const T=_e.fromDom(H7(e));t===1?Sl(_e.fromDom(h),T):ul(_e.fromDom(h),T),e.selection.select(T.dom,!0),e.selection.collapse()}}},rK=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return $7(o,e,r).orThunk(()=>(R4(e,o,r),X.none()))},aK=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return I7(o,e,r).orThunk(()=>(R4(e,o,r),X.none()))},iK=(e,t)=>{const o=t?e.getEnd(!0):e.getStart(!0);return F_(o)?!t:t},z7=(e,t)=>rK(e,iK(e.selection,t)).exists(o=>(k1(e,o),!0)),j7=(e,t)=>aK(e,t).exists(o=>(k1(e,o),!0)),V7=(e,t)=>E4(e,t,t?v1:jb),M4=(e,t)=>vN(e,!t).map(o=>{const r=o.toRange(),c=e.selection.getRng();return t?r.setStart(c.startContainer,c.startOffset):r.setEnd(c.endContainer,c.endOffset),r}).exists(o=>(k1(e,o),!0)),U7=(e,t)=>{const o=v=>ss(v,t),r=v=>Mu(v.dom),c=_e.fromDom(e.container());return nr(c,r,o).filter(v=>!o(v))},Z7=(e,t,o)=>(o?PN:e7)(e.getBody(),t).map(c=>c.toRange()),lK=(e,t)=>{const o=_t.fromRangeStart(e.selection.getRng()),r=_t.fromRangeEnd(e.selection.getRng()),c=_e.fromDom(e.getBody());return vs(Bn(U7(o,c),U7(r,c),(v,T)=>ss(v,T)?X.some(v):X.none())).fold(He,v=>t&&bf(v.dom,r)||!t&&x4(v.dom,o)?Z7(e,t?r:o,t).exists(T=>(k1(e,T),!0)):!1)},D1=(e,t)=>lK(e,t),oR=e=>Be(["figcaption"],rs(e)),cK=(e,t,o)=>{const r=le(ss,t);return nr(_e.fromDom(e.container()),c=>o.isBlock(rs(c)),r).filter(oR)},uK=(e,t,o)=>t?bf(e.dom,o):x4(e.dom,o),dK=(e,t)=>{const o=_e.fromDom(e.getBody()),r=_t.fromRangeStart(e.selection.getRng());return cK(r,o,e.schema).exists(()=>{if(uK(o,t,r)){const h=nK(e,o,t?Is:ef);return e.selection.setRng(h),!0}else return!1})},B4=(e,t)=>e.selection.isCollapsed()?dK(e,t):!1,sR=(e,t,o)=>{const r=e.selection.getRng(),c=_t.fromRangeStart(r);return e.getBody().firstChild===t&&x4(o,c)?(e.execCommand("InsertNewBlockBefore"),!0):!1},W7=(e,t)=>{const o=e.selection.getRng(),r=_t.fromRangeStart(o);return e.getBody().lastChild===t&&bf(t,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},q7=(e,t)=>t?X.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>W7(e,o)).getOr(!1):X.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>X.from(e.dom.getParent(o,"details")).map(r=>sR(e,r,o))).getOr(!1),rR=(e,t)=>q7(e,t),G7={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},UE=e=>tt(e,t=>({...G7,...t})),L4=e=>tt(e,t=>({...G7,...t})),aR=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,K7=(e,t)=>Do(UE(e),o=>aR(o,t)?[o]:[]),Y7=(e,t)=>Do(L4(e),o=>aR(o,t)?[o]:[]),Ro=(e,...t)=>()=>e.apply(null,t),xv=(e,t)=>sn(K7(e,t),o=>o.action()),P4=(e,t)=>$r(Y7(e,t),o=>o.action()),sC=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return i7(e,o,r,US,ZS,Nd).exists(c=>(k1(e,c),!0))},X7=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return l7(e,o,r,US,ZS,Nd).exists(c=>(k1(e,c),!0))},iR=(e,t)=>E4(e,t,t?ZS:US),fK=(e,t)=>Q7(e,t,dt),Q7=(e,t,o)=>Do(ma(e),r=>wl(r,t)?o(r)?[r]:[]:Q7(r,t,o)),J7=(e,t,o=He)=>{if(o(t))return X.none();if(Be(e,rs(t)))return X.some(t);const r=c=>wl(c,"table")||o(c);return Da(t,e.join(","),r)},mK=(e,t)=>J7(["td","th"],e,t),e$=e=>fK(e,"th,td"),hK=(e,t)=>El(e,"table",t),t$=gi.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),ZE={...t$,none:e=>t$.none(e)},lR=(e,t,o,r,c=dt)=>{const h=r===1;if(!h&&o<=0)return ZE.first(e[0]);if(h&&o>=e.length-1)return ZE.last(e[e.length-1]);{const v=o+r,T=e[v];return c(T)?ZE.middle(t,T):lR(e,t,v,r,c)}},n$=(e,t)=>hK(e,t).bind(o=>{const r=e$(o);return Zn(r,h=>ss(e,h)).map(h=>({index:h,all:r}))}),gK=(e,t,o)=>n$(e,o).fold(()=>ZE.none(e),c=>lR(c.all,e,c.index,1,t)),pK=(e,t,o)=>n$(e,o).fold(()=>ZE.none(),c=>lR(c.all,e,c.index,-1,t));var cR=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],bK=()=>{const e=L=>_e.fromDom(L.dom.cloneNode(!1)),t=L=>Xc(L).dom,o=L=>fa(L)?rs(L)==="body"?!0:Be(cR,rs(L)):!1,r=L=>fa(L)?Be(["br","img","hr","input"],rs(L)):!1,c=L=>fa(L)&&yr(L,"contenteditable")==="false",h=(L,W)=>L.dom.compareDocumentPosition(W.dom),v=(L,W)=>{const G=cs(L);Wa(W,G)},T=L=>{const W=rs(L);return Be(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],W)},k=L=>fa(L)?dl(L,"lang"):X.none();return{up:at({selector:Da,closest:El,predicate:kd,all:cl}),down:at({selector:kt,predicate:we}),styles:at({get:ka,getRaw:ui,set:Bl,remove:Sg}),attrs:at({get:yr,set:Or,remove:li,copyTo:v}),insert:at({before:ul,after:Sl,afterAll:Th,append:Is,appendAll:hc,prepend:ef,wrap:Ml}),remove:at({unwrap:Gl,remove:ws}),create:at({nu:_e.fromTag,clone:e,text:_e.fromText}),query:at({comparePosition:h,prevSibling:Wu,nextSibling:Za}),property:at({children:ma,name:rs,parent:Wi,document:t,isText:xs,isComment:vd,isElement:fa,isSpecial:T,getLanguage:k,getText:yi,setText:Sp,isBoundary:o,isEmptyTag:r,isNonEditable:c}),eq:ss,is:Sh}};const _1=(e,t)=>({element:e,offset:t}),uR=(e,t)=>{if(e.property().isText(t))return _1(t,e.property().getText(t).length);{const o=e.property().children(t);return o.length>0?uR(e,o[o.length-1]):_1(t,o.length)}},F4=(e,t,o)=>{const r=e.property().children(t);return r.length>0&&o<r.length?F4(e,r[o],0):r.length>0&&e.property().isElement(t)&&r.length===o?uR(e,r[r.length-1]):_1(t,o)},o$=F4,dR=bK(),wv=(e,t)=>o$(dR,e,t),fR=us("image"),ig=e=>{const t=e;return X.from(t[fR])},l2=(e,t)=>{const o=e;o[fR]=t},$4=us("event"),mR=e=>{const t=e;return X.from(t[$4])},I4=e=>t=>{const o=t;o[$4]=e},s$=(e,t)=>I4(t)(e),r$=I4(0),yK=I4(2),vK=I4(1),xK=(e=>t=>{const o=t;return X.from(o[$4]).exists(r=>r===e)})(0),a$=()=>Object.freeze({length:0,item:e=>null}),hR=us("mode"),wK=e=>{const t=e;return X.from(t[hR])},ny=e=>t=>{const o=t;o[hR]=e},WE=(e,t)=>ny(t)(e),gR=ny(0),H4=ny(2),pR=ny(1),i$=e=>t=>{const o=t;return X.from(o[hR]).exists(r=>r===e)},rC=i$(0),l$=i$(1),c$=(e,t)=>({...t,get length(){return t.length},add:(o,r)=>{if(rC(e))if(J(o)){if(!xn(r))return t.add(o,r)}else return t.add(o);return null},remove:o=>{rC(e)&&t.remove(o)},clear:()=>{rC(e)&&t.clear()}}),z4=["none","copy","link","move"],u$=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],aC=()=>{const e=new window.DataTransfer;let t="move",o="all";const r={get dropEffect(){return t},set dropEffect(c){Be(z4,c)&&(t=c)},get effectAllowed(){return o},set effectAllowed(c){xK(r)&&Be(u$,c)&&(o=c)},get items(){return c$(r,e.items)},get files(){return l$(r)?a$():e.files},get types(){return e.types},setDragImage:(c,h,v)=>{rC(r)&&(l2(r,{image:c,x:h,y:v}),e.setDragImage(c,h,v))},getData:c=>l$(r)?"":e.getData(c),setData:(c,h)=>{rC(r)&&e.setData(c,h)},clearData:c=>{rC(r)&&e.clearData(c)}};return gR(r),r},CK=e=>{const t=aC(),o=wK(e);return H4(e),r$(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,ig(e).each(r=>t.setDragImage(r.image,r.x,r.y)),Le(e.types,r=>{r!=="Files"&&t.setData(r,e.getData(r))}),Le(e.files,r=>t.items.add(r)),mR(e).each(r=>{s$(t,r)}),o.each(r=>{WE(e,r),WE(t,r)}),t},d$=e=>{const t=e.getData("text/html");return t===""?X.none():X.some(t)},f$=(e,t)=>e.setData("text/html",t),SK=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),EK=(e,t)=>Do(t,o=>{const r=SK(qm(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),m$=(e,t,o)=>Pe(e,(r,c)=>r.fold(()=>X.some(c),h=>{const v=Math.sqrt(Math.abs(h.x-t)+Math.abs(h.y-o)),T=Math.sqrt(Math.abs(c.x-t)+Math.abs(c.y-o));return X.some(T<v?c:h)}),X.none()),h$=(e,t,o,r,c)=>{const h=kt(_e.fromDom(o),"td,th,caption").map(T=>T.dom),v=xt(EK(e,h),T=>t(T,c));return m$(v,r,c).map(T=>T.cell)},TK=e=>e.bottom,g$=e=>e.top,qE=(e,t)=>e.y<t,AK=(e,t)=>e.y>t,p$=le(h$,TK,qE),b$=le(h$,g$,AK),y$=(e,t)=>gs(t.getClientRects()).bind(o=>p$(e,o.left,o.top)).bind(o=>s2(JF(o),t)),bR=(e,t)=>Wr(t.getClientRects()).bind(o=>b$(e,o.left,o.top)).bind(o=>s2(r2(o),t)),v$=(e,t,o)=>o.breakAt.exists(r=>e(t,r).breakAt.isSome()),kK=e=>e.breakType===A1.Wrap&&e.positions.length===0,x$=e=>e.breakType===A1.Br&&e.positions.length===1,w$=(e,t,o)=>{const r=e(t,o);return kK(r)||!la(o.getNode())&&x$(r)?!v$(e,t,r):r.breakAt.isNone()},DK=le(w$,zc),_K=le(w$,HE),yR=(e,t,o)=>{const r=_t.fromRangeStart(t);return y(!e,o).exists(c=>c.isEqual(r))},OK=(e,t,o,r)=>{const c=e.selection.getRng(),h=t?1:-1;return dw()&&yR(t,c,o)?(Qb(h,e,o,!t,!1).each(v=>{k1(e,v)}),!0):!1},NK=(e,t,o)=>y$(t,o).orThunk(()=>gs(o.getClientRects()).bind(r=>LN(zE(e,_t.before(t)),r.left))).getOr(_t.before(t)),j4=(e,t,o)=>bR(t,o).orThunk(()=>gs(o.getClientRects()).bind(r=>LN(yv(e,_t.after(t)),r.left))).getOr(_t.after(t)),C$=(e,t)=>{const o=t.getNode(e);return iu(o)?X.some(o):X.none()},vR=(e,t,o)=>{t.undoManager.transact(()=>{const r=e?Sl:ul,c=nK(t,_e.fromDom(o),r);k1(t,c)})},xR=(e,t,o)=>{const r=C$(!!t,o),c=t===!1;r.fold(()=>k1(e,o.toRange()),h=>y(c,e.getBody()).filter(v=>v.isEqual(o)).fold(()=>k1(e,o.toRange()),v=>vR(t,e,h)))},S$=(e,t,o,r)=>{const c=e.selection.getRng(),h=_t.fromRangeStart(c),v=e.getBody();if(!t&&DK(r,h)){const T=NK(v,o,h);return xR(e,t,T),!0}else if(t&&_K(r,h)){const T=j4(v,o,h);return xR(e,t,T),!0}else return!1},wR=(e,t,o)=>X.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>X.from(e.dom.getParent(r,"table")).map(c=>o(e,t,c,r))).getOr(!1),E$=(e,t)=>wR(e,t,OK),CR=(e,t)=>wR(e,t,S$),RK=e=>{const t=Oh.exact(e,0,e,0);return af(t)},MK=e=>iC(e)||$s(e).some(t=>xd(t)&&iC(t)),GE=(e,t,o)=>o.fold(X.none,X.none,(r,c)=>im(c).map(h=>RK(h)),r=>e.mode.isReadOnly()||!BK(r)||!MK(r)?X.none():(e.execCommand("mceTableInsertRowAfter"),T$(e,t,r))),BK=e=>nr(e,Pa("table")).exists(Cr),T$=(e,t,o)=>GE(e,t,gK(o,iC)),LK=(e,t,o)=>GE(e,t,pK(o,iC)),iC=e=>Cr(e)||Fo(e,PK),PK=e=>xd(e)&&Cr(e),A$=(e,t)=>{const o=["table","li","dl"],r=_e.fromDom(e.getBody()),c=T=>{const k=rs(T);return ss(T,r)||Be(o,k)},h=e.selection.getRng(),v=_e.fromDom(t?h.endContainer:h.startContainer);return mK(v,c).map(T=>(hK(T,c).each(W=>{e.model.table.clearSelectedCells(W.dom)}),e.selection.collapse(!t),(t?T$:LK)(e,c,T).each(W=>{e.selection.setRng(W)}),!0)).getOr(!1)},k$=(e,t,o)=>{const r=ds.os.isMacOS()||ds.os.isiOS(),c=ds.browser.isFirefox();xv([{keyCode:Ln.RIGHT,action:Ro(z7,e,!0)},{keyCode:Ln.LEFT,action:Ro(z7,e,!1)},{keyCode:Ln.UP,action:Ro(j7,e,!1)},{keyCode:Ln.DOWN,action:Ro(j7,e,!0)},...r?[{keyCode:Ln.UP,action:Ro(M4,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Ln.DOWN,action:Ro(M4,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Ln.RIGHT,action:Ro(E$,e,!0)},{keyCode:Ln.LEFT,action:Ro(E$,e,!1)},{keyCode:Ln.UP,action:Ro(CR,e,!1)},{keyCode:Ln.DOWN,action:Ro(CR,e,!0)},{keyCode:Ln.UP,action:Ro(CR,e,!1)},{keyCode:Ln.UP,action:Ro(rR,e,!1)},{keyCode:Ln.DOWN,action:Ro(rR,e,!0)},{keyCode:Ln.RIGHT,action:Ro(sC,e,!0)},{keyCode:Ln.LEFT,action:Ro(sC,e,!1)},{keyCode:Ln.UP,action:Ro(X7,e,!1)},{keyCode:Ln.DOWN,action:Ro(X7,e,!0)},{keyCode:Ln.RIGHT,action:Ro(GN,e,t,!0)},{keyCode:Ln.LEFT,action:Ro(GN,e,t,!1)},{keyCode:Ln.RIGHT,ctrlKey:!r,altKey:r,action:Ro(A4,e,t)},{keyCode:Ln.LEFT,ctrlKey:!r,altKey:r,action:Ro(AG,e,t)},{keyCode:Ln.UP,action:Ro(B4,e,!1)},{keyCode:Ln.DOWN,action:Ro(B4,e,!0)},...c?[{keyCode:Ln.UP,action:Ro(D1,e,!1)},{keyCode:Ln.DOWN,action:Ro(D1,e,!0)}]:[]],o).each(h=>{o.preventDefault()})},FK=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||k$(e,t,o)})},A0=(e,t)=>({container:e,offset:t}),V4=hs.DOM,U4=e=>t=>e===t?-1:0,$K=e=>t=>e.isBlock(t)||Be(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",SR=(e,t,o)=>{if(dn(e)&&t>=0)return X.some(A0(e,t));{const r=du(V4);return X.from(r.backwards(e,t,U4(e),o)).map(c=>A0(c.container,c.container.data.length))}},ER=(e,t,o)=>{if(dn(e)&&t>=e.length)return X.some(A0(e,t));{const r=du(V4);return X.from(r.forwards(e,t,U4(e),o)).map(c=>A0(c.container,0))}},TR=(e,t,o)=>{if(!dn(e))return X.none();const r=e.data;if(t>=0&&t<=r.length)return X.some(A0(e,t));{const c=du(V4);return X.from(c.backwards(e,t,U4(e),o)).bind(h=>{const v=h.container.data;return TR(h.container,t+v.length,o)})}},AR=(e,t,o)=>{if(!dn(e))return X.none();const r=e.data;if(t<=r.length)return X.some(A0(e,t));{const c=du(V4);return X.from(c.forwards(e,t,U4(e),o)).bind(h=>AR(h.container,t-r.length,o))}},kR=(e,t,o,r,c)=>{const h=du(e,$K(e));return X.from(h.backwards(t,o,r,c))},IK=e=>e.collapsed&&dn(e.startContainer),HK=e=>Pc(e.toString().replace(/\u00A0/g," ")),D$=e=>e!==""&&` \uFEFF\f
\r	\v`.indexOf(e)!==-1,ic=(e,t)=>e.substring(t.length),zK=(e,t,o,r=!1)=>{let c;const h=o.charAt(0);for(c=t-1;c>=0;c--){const v=e.charAt(c);if(!r&&D$(v))return X.none();if(h===v&&Ir(e,o,c,t))break}return X.some(c)},DR=(e,t,o,r=!1)=>{if(!IK(t))return X.none();const c={text:"",offset:0},h=(T,k,L)=>(c.text=L+c.text,c.offset+=k,zK(c.text,c.offset,o,r).getOr(k)),v=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return kR(e,t.startContainer,t.startOffset,h,v).bind(T=>{const k=t.cloneRange();if(k.setStart(T.container,T.offset),k.setEnd(t.endContainer,t.endOffset),k.collapsed)return X.none();const L=HK(k);return L.lastIndexOf(o)!==0?X.none():X.some({text:ic(L,o),range:k,trigger:o})})},jK=e=>e.nodeType===P0,_$=e=>e.nodeType===Ch,Z4=e=>{if(jK(e))return A0(e,e.data.length);{const t=e.childNodes;return t.length>0?Z4(t[t.length-1]):A0(e,t.length)}},_R=(e,t)=>{const o=e.childNodes;return o.length>0&&t<o.length?_R(o[t],0):o.length>0&&_$(e)&&o.length===t?Z4(o[o.length-1]):A0(e,t)},KE=(e,t)=>{const o=e.getParent(t.container,e.isBlock)??e.getRoot();return kR(e,t.container,t.offset,(r,c)=>c===0?-1:c,o).filter(r=>{const c=r.container.data.charAt(r.offset-1);return!D$(c)}).isSome()},VK=e=>t=>{const o=_R(t.startContainer,t.startOffset);return!KE(e,o)},UK=(e,t,o)=>$r(o.triggers,r=>DR(e,t,r)),ZK=(e,t)=>{const o=t(),r=e.selection.getRng();return UK(e.dom,r,o).bind(c=>O$(e,t,c))},O$=(e,t,o,r={})=>{const c=t(),v=e.selection.getRng().startContainer.nodeValue??"",T=xt(c.lookupByTrigger(o.trigger),L=>o.text.length>=L.minChars&&L.matches.getOrThunk(()=>VK(e.dom))(o.range,v,o.text));if(T.length===0)return X.none();const k=Promise.all(tt(T,L=>L.fetch(o.text,L.maxResults,r).then(G=>({matchText:o.text,items:G,columns:L.columns,onAction:L.onAction,highlightOn:L.highlightOn}))));return X.some({lookupData:k,context:o})},WK=WC("type"),qK=LT("fetch"),GK=LT("onAction"),KK=e=>Wy("columns",e),YK=Us([WK,WC("trigger"),cD("minChars",1),KK(1),cD("maxResults",10),wB("matches"),qK,GK,uD("highlightOn",[],C)]),XK=e=>gf("Autocompleter",YK,e),QK=()=>{const e={},t={},o={},r={},c={},h={},v={},T={},k={},L=(ce,De)=>(ge,Ae)=>{ce[ge.toLowerCase()]={...Ae,type:De}},W=(ce,De)=>(ge,Ae)=>{ce[ge.toLowerCase()]={type:De,...Ae}},G=(ce,De)=>r[ce.toLowerCase()]=De,Q=(ce,De)=>v[ce.toLowerCase()]=De;return{addButton:L(e,"button"),addGroupToolbarButton:L(e,"grouptoolbarbutton"),addToggleButton:L(e,"togglebutton"),addMenuButton:L(e,"menubutton"),addSplitButton:L(e,"splitbutton"),addMenuItem:L(t,"menuitem"),addNestedMenuItem:L(t,"nestedmenuitem"),addToggleMenuItem:L(t,"togglemenuitem"),addAutocompleter:L(o,"autocompleter"),addContextMenu:L(c,"contextmenu"),addContextToolbar:L(h,"contexttoolbar"),addContextForm:W(h,"contextform"),addSidebar:L(T,"sidebar"),addView:L(k,"views"),addIcon:G,addContext:Q,getAll:()=>({buttons:e,menuItems:t,icons:r,popups:o,contextMenus:c,contextToolbars:h,sidebars:T,views:k,contexts:v})}},JK=e=>{const t=e.ui.registry.getAll().popups,o=ci(t,v=>XK(v).fold(T=>{throw new Error(Jm(T))},Jn)),r=Tf(Gn(o,v=>v.trigger)),c=vo(o);return{dataset:o,triggers:r,lookupByTrigger:v=>xt(c,T=>T.trigger===v)}},eY=(e,t)=>{const o=Cu(t.load,50);e.on("input",r=>{r.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",r=>{const c=r.which;c===8?o.throttle():c===27?(o.cancel(),t.cancelIfNecessary()):(c===38||c===40)&&o.cancel()},!0),e.on("remove",o.cancel)},tY=e=>{const t=Fs(),o=Pn(!1),r=t.isSet,c=()=>{r()&&(u1(e),o.set(!1),t.clear())},h=G=>{r()||t.set({trigger:G.trigger,matchLength:G.text.length})},v=Ri(()=>JK(e)),T=G=>t.get().map(Q=>DR(e.dom,e.selection.getRng(),Q.trigger,!0).bind(ce=>O$(e,v,ce,G))).getOrThunk(()=>ZK(e,v)),k=G=>{T(G).fold(c,Q=>{h(Q.context),Q.lookupData.then(ce=>{t.get().map(De=>{const ge=Q.context;De.trigger===ge.trigger&&(t.set({...De,matchLength:ge.text.length}),o.get()?(QC(e,{range:ge.range}),fx(e,{lookupData:ce})):(o.set(!0),QC(e,{range:ge.range}),dx(e,{lookupData:ce})))})})})},L=(G,Q)=>{const ce=G.compareBoundaryPoints(window.Range.START_TO_START,Q),De=G.compareBoundaryPoints(window.Range.END_TO_END,Q);return ce>=0&&De<=0},W=()=>t.get().bind(({trigger:G})=>{const Q=e.selection.getRng();return DR(e.dom,Q,G,o.get()).filter(({range:ce})=>L(Q,ce)).map(({range:ce})=>ce)});e.addCommand("mceAutocompleterReload",(G,Q)=>{const ce=vt(Q)?Q.fetchOptions:{};k(ce)}),e.addCommand("mceAutocompleterClose",c),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{W().each(G=>{QC(e,{range:G})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>W().isSome()),eY(e,{cancelIfNecessary:c,load:k})},N$=bs().browser.isSafari(),OR=e=>Vh(_e.fromDom(e)),R$=(e,t)=>e.startOffset===0&&e.endOffset===t.textContent?.length,W4=(e,t)=>X.from(e.getParent(t.container(),"details")),M$=(e,t)=>W4(e,t).isSome(),oY=(e,t)=>{const o=X.from(e.getParent(t.startContainer,"details")),r=X.from(e.getParent(t.endContainer,"details"));if(o.isSome()||r.isSome()){const c=o.bind(h=>X.from(e.select("summary",h)[0]));return X.some({startSummary:c,startDetails:o,endDetails:r})}else return X.none()},B$=(e,t)=>I(t).exists(o=>o.isEqual(e)),sY=(e,t)=>q(t).exists(o=>la(o.getNode())&&D(t,o).exists(r=>r.isEqual(e))||o.isEqual(e)),L$=(e,t)=>t.startSummary.exists(o=>B$(e,o)),rY=(e,t)=>t.startSummary.exists(o=>sY(e,o)),P$=(e,t)=>t.startDetails.exists(o=>D(o,e).forall(r=>t.startSummary.exists(c=>!c.contains(e.container())&&c.contains(r.container())))),F$=(e,t,o)=>o.startDetails.exists(r=>E(e,t).forall(c=>!r.contains(c.container()))),$$=(e,t)=>{const o=t.getNode();xn(o)||e.selection.setCursorLocation(o,t.offset())},I$=(e,t,o)=>{const r=e.dom.getParent(t.container(),"details");if(r&&!r.open){const c=e.dom.select("summary",r)[0];c&&(o?I(c):q(c)).each(v=>$$(e,v))}else $$(e,t)},aY=(e,t)=>{const o=k=>k.contains(e.startContainer),r=k=>k.contains(e.endContainer),c=t.startSummary.exists(o),h=t.startSummary.exists(r),v=t.startDetails.forall(k=>t.endDetails.forall(L=>k!==L));return(c||h)&&!(c&&h)||v},H$=(e,t,o)=>{const{dom:r,selection:c}=e,h=e.getBody();if(o==="character"){const v=_t.fromRangeStart(c.getRng()),T=r.getParent(v.container(),r.isBlock),k=W4(r,v),L=T&&r.isEmpty(T),W=ie(T?.previousSibling),G=ie(T?.nextSibling);return L&&(t?G:W)&&ev(!t,h,v).exists(De=>M$(r,De)&&!wo(k,W4(r,De)))?!0:ev(t,h,v).fold(He,Q=>{const ce=W4(r,Q);if(M$(r,Q)&&!wo(k,ce)){if(t||I$(e,Q,!1),T&&L){if(t&&W)return!0;if(!t&&G)return!0;I$(e,Q,t),e.dom.remove(T)}return!0}else return!1})}else return!1},z$=(e,t,o,r)=>{const h=e.selection.getRng(),v=_t.fromRangeStart(h),T=e.getBody();return r==="selection"?aY(h,t):o?rY(v,t)||F$(T,v,t):L$(v,t)||P$(v,t)},iY=(e,t,o)=>oY(e.dom,e.selection.getRng()).fold(()=>H$(e,t,o),r=>z$(e,r,t,o)||H$(e,t,o)),lY=(e,t,o)=>{const r=e.selection,c=r.getNode(),h=r.getRng(),v=_t.fromRangeStart(h);return yy(c)?(o==="selection"&&R$(h,c)||e8(t,v,c)?OR(c):e.undoManager.transact(()=>{const T=r.getSel();let{anchorNode:k,anchorOffset:L,focusNode:W,focusOffset:G}=T??{};const Q=()=>{qe(k)&&qe(L)&&qe(W)&&qe(G)&&T?.setBaseAndExtent(k,L,W,G)},ce=()=>{k=T?.anchorNode,L=T?.anchorOffset,W=T?.focusNode,G=T?.focusOffset},De=(Ae,ot)=>{Le(Ae.childNodes,rt=>{BS(rt)&&ot.appendChild(rt)})},ge=e.dom.create("span",{"data-mce-bogus":"1"});De(c,ge),c.appendChild(ge),Q(),(o==="word"||o==="line")&&T?.modify("extend",t?"right":"left",o),!r.isCollapsed()&&R$(r.getRng(),ge)?OR(c):(e.execCommand(t?"ForwardDelete":"Delete"),ce(),De(ge,c),Q()),e.dom.remove(ge)}),!0):!1},Cv=(e,t,o)=>iY(e,t,o)||N$&&lY(e,t,o)?X.some(Lt):X.none(),j$=e=>(t,o,r={})=>{const c=t.getBody(),h={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:Lt,inputType:o},v=db(new InputEvent(e));return t.dispatch(e,{...v,...h,...r})},YE=j$("input"),XE=j$("beforeinput"),V$=bs(),U$=V$.os,Z$=U$.isMacOS()||U$.isiOS(),W$=V$.browser.isFirefox(),uY=(e,t,o)=>{const r=o.keyCode===Ln.BACKSPACE?"deleteContentBackward":"deleteContentForward",c=e.selection.isCollapsed(),h=c?"character":"selection",v=T=>c?T?"word":"line":"selection";P4([{keyCode:Ln.BACKSPACE,action:Ro(vf,e)},{keyCode:Ln.BACKSPACE,action:Ro(h4,e,!1)},{keyCode:Ln.DELETE,action:Ro(h4,e,!0)},{keyCode:Ln.BACKSPACE,action:Ro(m4,e,!1)},{keyCode:Ln.DELETE,action:Ro(m4,e,!0)},{keyCode:Ln.BACKSPACE,action:Ro(KN,e,t,!1)},{keyCode:Ln.DELETE,action:Ro(KN,e,t,!0)},{keyCode:Ln.BACKSPACE,action:Ro(G_,e,!1)},{keyCode:Ln.DELETE,action:Ro(G_,e,!0)},{keyCode:Ln.BACKSPACE,action:Ro(Cv,e,!1,h)},{keyCode:Ln.DELETE,action:Ro(Cv,e,!0,h)},...Z$?[{keyCode:Ln.BACKSPACE,altKey:!0,action:Ro(Cv,e,!1,v(!0))},{keyCode:Ln.DELETE,altKey:!0,action:Ro(Cv,e,!0,v(!0))},{keyCode:Ln.BACKSPACE,metaKey:!0,action:Ro(Cv,e,!1,v(!1))}]:[{keyCode:Ln.BACKSPACE,ctrlKey:!0,action:Ro(Cv,e,!1,v(!0))},{keyCode:Ln.DELETE,ctrlKey:!0,action:Ro(Cv,e,!0,v(!0))}],{keyCode:Ln.BACKSPACE,action:Ro(p4,e,!1)},{keyCode:Ln.DELETE,action:Ro(p4,e,!0)},{keyCode:Ln.BACKSPACE,action:Ro(k4,e,!1)},{keyCode:Ln.DELETE,action:Ro(k4,e,!0)},{keyCode:Ln.BACKSPACE,action:Ro(nl,e,!1)},{keyCode:Ln.DELETE,action:Ro(nl,e,!0)},{keyCode:Ln.BACKSPACE,action:Ro(t2,e,!1)},{keyCode:Ln.DELETE,action:Ro(t2,e,!0)},{keyCode:Ln.BACKSPACE,action:Ro(QN,e,!1)},{keyCode:Ln.DELETE,action:Ro(QN,e,!0)},{keyCode:Ln.BACKSPACE,action:Ro(g4,e,!1)},{keyCode:Ln.DELETE,action:Ro(g4,e,!0)},{keyCode:Ln.BACKSPACE,action:Ro(a2,e,!1)},{keyCode:Ln.DELETE,action:Ro(a2,e,!0)}],o).filter(T=>e.selection.isEditable()).each(T=>{o.preventDefault(),XE(e,r).isDefaultPrevented()||(T(),YE(e,r))})},dY=(e,t,o,r)=>xv([{keyCode:Ln.BACKSPACE,action:Ro(EN,e)},{keyCode:Ln.DELETE,action:Ro(EN,e)},...Z$?[{keyCode:Ln.BACKSPACE,altKey:!0,action:Ro(jE,e)},{keyCode:Ln.DELETE,altKey:!0,action:Ro(jE,e)},...o?[{keyCode:W$?224:91,action:Ro(()=>(w7(e,r),jE(e)))}]:[]]:[{keyCode:Ln.BACKSPACE,ctrlKey:!0,action:Ro(jE,e)},{keyCode:Ln.DELETE,ctrlKey:!0,action:Ro(jE,e)}]],t),fY=(e,t)=>{let o=!1,r=[];e.on("keydown",c=>{o=c.keyCode===Ln.BACKSPACE,r=YN(e),c.isDefaultPrevented()||uY(e,t,c)}),e.on("keyup",c=>{c.isDefaultPrevented()||(dY(e,c,o,r),r.length=0),o=!1})},mY=(e,t)=>{const o=_e.fromDom(e),r=_e.fromDom(t),c=Pa("span"),h=le(ss,o),v=k=>fa(k)&&ui(k,"font-size").isSome(),T=[...v(r)?[r]:[],...j(r,v,h)];Le(T.slice(1),k=>{Sg(k,"font-size"),li(k,"data-mce-style"),c(k)&&tf(k)&&Gl(k)})},hY=e=>{for(;e;){if(Sn(e)||dn(e)&&e.data&&/[\r\n\s]/.test(e.data))return X.from(_e.fromDom(e));e=e.nextSibling}return X.none()},lC=(e,t)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const h=k=>/^(ul|ol|dl)$/.test(rs(k)),v=k=>h(k)?X.from(k):kh(k,h),T=k=>o.isEmpty(k.dom);hY(t.firstChild).each(k=>{v(k).fold(()=>{if(T(k)){const L=wv(k,0).element;fa(L)&&!Fd(L)&&Is(L,_e.fromText(qr))}},L=>{ul(L,_e.fromText(qr))})})}const c=o.createRng();if(t.normalize(),t.hasChildNodes()){const h=new Ka(t,t);let v=t,T;for(;T=h.current();){if(dn(T)){c.setStart(T,0),c.setEnd(T,0);break}if(r[T.nodeName.toLowerCase()]){c.setStartBefore(T),c.setEndBefore(T);break}v=T,T=h.next()}T||(c.setStart(v,0),c.setEnd(v,0))}else la(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(c.setStartBefore(t),c.setEndBefore(t)):(c.setStartAfter(t),c.setEndAfter(t)):(c.setStart(t,0),c.setEnd(t,0));e.selection.setRng(c),sh(e,c)},QE=(e,t)=>{const o=e.getRoot();let r,c=t;for(;c!==o&&c&&e.getContentEditable(c)!=="false";){if(e.getContentEditable(c)==="true"){r=c;break}c=c.parentNode}return c!==o?r:o},NR=e=>X.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),Gne=e=>NR(e).fold(at(""),t=>t.nodeName.toUpperCase()),gY=e=>NR(e).filter(t=>fu(_e.fromDom(t))).isSome(),cC=e=>{e.innerHTML='<br data-mce-bogus="1">'},q$=(e,t,o)=>{const r=e.dom;X.from(o.style).map(r.parseStyle).each(k=>{const W={...of(_e.fromDom(t)),...k};r.setStyles(t,W)});const c=X.from(o.class).map(k=>k.split(/\s+/)),h=X.from(t.className).map(k=>xt(k.split(/\s+/),L=>L!==""));Bn(c,h,(k,L)=>{const W=xt(L,Q=>!Be(k,Q)),G=[...k,...W];r.setAttrib(t,"class",G.join(" "))});const v=["style","class"],T=Yn(o,(k,L)=>!Be(v,L));r.setAttribs(t,T)},uC=(e,t)=>{if(bl(e).toLowerCase()===t.tagName.toLowerCase()){const r=th(e);q$(e,t,r)}},G$=(e,t,o,r,c=!0,h,v)=>{const T=e.dom,k=e.schema,L=bl(e),W=o?o.nodeName.toUpperCase():"";let G=t;const Q=k.getTextInlineElements();let ce;h||W==="TABLE"||W==="HR"?ce=T.create(h||L,v||{}):ce=o.cloneNode(!1);let De=ce;if(!c)T.setAttrib(ce,"style",null),T.setAttrib(ce,"class",null);else{do if(Q[G.nodeName]){if(de(G)||wi(G))continue;const ge=G.cloneNode(!1);T.setAttrib(ge,"id",""),ce.hasChildNodes()?(ge.appendChild(ce.firstChild),ce.appendChild(ge)):(De=ge,ce.appendChild(ge))}while((G=G.parentNode)&&G!==r);ce.nodeName!=="LI"&&mY(ce,De)}return uC(e,ce),cC(De),ce},K$=(e,t)=>e.dom.getParent(t,V0),Y$=(e,t,o)=>{let r=t;for(;r&&r!==e&&ie(r.nextSibling);){const c=r.parentElement;if(!c||!o(c))return V0(c);r=c}return!1},pY=(e,t,o)=>!t&&o.nodeName.toLowerCase()===bl(e)&&e.dom.isEmpty(o)&&Y$(e.getBody(),o,r=>Qn(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),bY=(e,t,o)=>{const r=t(bl(e)),c=K$(e,o);c&&(e.dom.insertAfter(r,c),lC(e,r),(o.parentElement?.childNodes?.length??0)>1&&e.dom.remove(o))},yY=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,X$=e=>e.parentNode?.firstChild===e,Q$=(e,t)=>{const o=e?.parentNode;return qe(o)&&o.nodeName===t},q4=e=>qe(e)&&/^(OL|UL|LI)$/.test(e.nodeName),RR=e=>qe(e)&&/^(LI|DT|DD)$/.test(e.nodeName),vY=e=>q4(e)&&q4(e.parentNode),G4=e=>{const t=e.parentNode;return RR(t)?t:e},JE=(e,t,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!Sn(r);)r=r[o?"nextSibling":"previousSibling"];return r===t},J$=e=>Pe(Gn(of(_e.fromDom(e)),(t,o)=>`${o}: ${t};`),(t,o)=>t+o,""),xY=(e,t,o,r,c)=>{const h=e.dom,v=e.selection.getRng(),T=o.parentNode;if(o===e.getBody()||!T)return;vY(o)&&(c="LI");const k=RR(r)?J$(r):void 0;let L=RR(r)&&k?t(c,{style:J$(r)}):t(c);if(JE(o,r,!0)&&JE(o,r,!1))if(Q$(o,"LI")){const W=G4(o);h.insertAfter(L,W),X$(o)?h.remove(W):h.remove(o)}else h.replace(L,o);else if(JE(o,r,!0))Q$(o,"LI")?(h.insertAfter(L,G4(o)),L.appendChild(h.doc.createTextNode(" ")),L.appendChild(o)):T.insertBefore(L,o),h.remove(r);else if(JE(o,r,!1))h.insertAfter(L,G4(o)),h.remove(r);else{o=G4(o);const W=v.cloneRange();W.setStartAfter(r),W.setEndAfter(o);const G=W.extractContents();if(c==="LI"&&yY(G,"LI")){const Q=xt(tt(L.children,_e.fromDom),Ve(Pa("br")));L=G.firstChild,h.insertAfter(G,o),Le(Q,ce=>ef(_e.fromDom(L),ce)),k&&L.setAttribute("style",k)}else h.insertAfter(G,o),h.insertAfter(L,o);h.remove(r)}lC(e,L)},wY=e=>{Le(we(_e.fromDom(e),xs),t=>{const o=t.dom;o.nodeValue=Pc(o.data)})},CY=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},Kne=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),MR=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,SY=(e,t)=>e.nodeName===t||e.nextSibling&&e.nextSibling.nodeName===t,BR=(e,t)=>qe(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",EY=(e,t,o)=>{const r=[];if(!o)return;let c=o;for(;c=c.firstChild;){if(e.isBlock(c))return;Sn(c)&&!t[c.nodeName.toLowerCase()]&&r.push(c)}let h=r.length;for(;h--;)c=r[h],(!c.hasChildNodes()||c.firstChild===c.lastChild&&c.firstChild?.nodeValue===""||Kne(e,c))&&e.remove(c)},LR=(e,t,o)=>dn(t)?e?o===1&&t.data.charAt(o-1)===Hi?0:o:o===t.data.length-1&&t.data.charAt(o)===Hi?t.data.length:o:o,eI=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,LR(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,LR(!1,e.endContainer,e.endOffset)),t},TY=e=>{let t=e;do dn(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},PR=(e,t,o,r,c)=>{const h=e.dom,v=QE(h,r)??h.getRoot();let T=h.getParent(r,h.isBlock);if(!T||!BR(h,T)){if(T=T||v,!T.hasChildNodes()){const G=h.create(t);return uC(e,G),T.appendChild(G),o.setStart(G,0),o.setEnd(G,0),G}let k=r;for(;k&&k.parentNode!==T;)k=k.parentNode;let L;for(;k&&!h.isBlock(k);)L=k,k=k.previousSibling;const W=L?.parentElement?.nodeName;if(L&&W&&e.schema.isValidChild(W,t.toLowerCase())){const G=L.parentNode,Q=h.create(t);for(uC(e,Q),G.insertBefore(Q,L),k=L;k&&!h.isBlock(k);){const ce=k.nextSibling;Q.appendChild(k),k=ce}o.setStart(r,c),o.setEnd(r,c)}}return r},O1=(e,t)=>{t.normalize();const o=t.lastChild;(!o||Sn(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(t,"br")},tI=(e,t)=>{const o=X2(e);return fn(t)?!1:J(o)?Be(ln.explode(o),t.nodeName.toLowerCase()):o},eT={insert:(e,t)=>{let o,r,c,h,v=!1;const T=e.dom,k=e.schema,L=k.getNonEmptyElements(),W=e.selection.getRng(),G=bl(e),Q=_e.fromDom(W.startContainer),ce=Jc(Q,W.startOffset),De=ce.exists(Ft=>xd(Ft)&&!Cr(Ft)),ge=W.collapsed&&De,Ae=(Ft,On)=>G$(e,o,Nn,en,eA(e),Ft,On),ot=Ft=>{const On=LR(Ft,o,r);if(dn(o)&&(Ft?On>0:On<o.data.length))return!1;if((o.parentNode===Nn||o===Nn)&&v&&!Ft||Ft&&Sn(o)&&o===Nn.firstChild)return!0;if(MR(o,"TABLE")||MR(o,"HR"))return SY(o,"BR")?!Ft:v&&!Ft||!v&&Ft;const Bo=new Ka(o,Nn);dn(o)&&(Ft&&On===0?Bo.prev():!Ft&&On===o.data.length&&Bo.next());let Lo;for(;Lo=Bo.current();){if(Sn(Lo)){if(!Lo.getAttribute("data-mce-bogus")){const Ws=Lo.nodeName.toLowerCase();if(L[Ws]&&Ws!=="br")return!1}}else if(dn(Lo)&&!Ap(Lo.data))return!1;Ft?Bo.prev():Bo.next()}return!0},rt=()=>{let Ft;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&io!=="HGROUP"?Ft=Ae(G):Ft=Ae(),tI(e,h)&&BR(T,h)&&T.isEmpty(Nn,void 0,{includeZwsp:!0})?Ft=T.split(h,Nn):T.insertAfter(Ft,Nn),lC(e,Ft),Ft};KA(T,W).each(Ft=>{W.setStart(Ft.startContainer,Ft.startOffset),W.setEnd(Ft.endContainer,Ft.endOffset)}),o=W.startContainer,r=W.startOffset;const ut=!!(t&&t.shiftKey),Pt=!!(t&&t.ctrlKey);Sn(o)&&o.hasChildNodes()&&!ge&&(v=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,v&&dn(o)?r=o.data.length:r=0);const en=QE(T,o);if(!en||CY(e,o))return;ut||(o=PR(e,G,W,o,r));let Nn=T.getParent(o,T.isBlock)||T.getRoot();h=qe(Nn?.parentNode)?T.getParent(Nn.parentNode,T.isBlock):null,c=Nn?Nn.nodeName.toUpperCase():"";const io=h?h.nodeName.toUpperCase():"";if(io==="LI"&&!Pt){const Ft=h;Nn=Ft,h=Ft.parentNode,c=io}if(Sn(h)&&pY(e,ut,Nn))return bY(e,Ae,Nn);if(/^(LI|DT|DD)$/.test(c)&&Sn(h)&&T.isEmpty(Nn)){xY(e,Ae,h,Nn,G);return}if(!ge&&(Nn===e.getBody()||!BR(T,Nn)))return;const Bt=Nn.parentNode;let Ct;if(ge)Ct=Ae(G),ce.fold(()=>{Is(Q,_e.fromDom(Ct))},Ft=>{ul(Ft,_e.fromDom(Ct))}),e.selection.setCursorLocation(Ct,0);else if(Hf(Nn))Ct=ff(Nn),T.isEmpty(Nn)&&cC(Nn),uC(e,Ct),lC(e,Ct);else if(ot(!1))Ct=rt();else if(ot(!0)&&Bt){const Ft=_t.fromRangeStart(W),On=__(Ft),Bo=_e.fromDom(Nn),Ws=ak(Bo,Ft,e.schema)?B6(Bo,Ft,e.schema).bind(Ca=>X.from(Ca.getNode())):X.none();Ct=Bt.insertBefore(Ae(),Nn);const Pr=MR(Nn,"HR")||On?Ct:Ws.getOr(Nn);lC(e,Pr)}else{const Ft=eI(W).cloneRange();Ft.setEndAfter(Nn);const On=Ft.extractContents();wY(On),TY(On),Ct=On.firstChild,Nn===Ct?qe(Bt)&&T.insertAfter(On,Bt):T.insertAfter(On,Nn),EY(T,L,Ct),O1(T,Nn),T.isEmpty(Nn)&&cC(Nn),Ct.normalize(),T.isEmpty(Ct)?(T.remove(Ct),rt()):(uC(e,Ct),lC(e,Ct))}T.setAttrib(Ct,"id",""),e.dispatch("NewBlock",{newBlock:Ct})},fakeEventName:"insertParagraph"},FR=(e,t,o)=>{const r=new Ka(t,o);let c;const h=e.getNonEmptyElements();for(;c=r.next();)if(h[c.nodeName.toLowerCase()]||dn(c)&&c.length>0)return!0;return!1},$R=(e,t,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),sh(e,r)},nI=(e,t)=>{const o=e.selection,r=e.dom,c=o.getRng();let h,v=!1;KA(r,c).each(ce=>{c.setStart(ce.startContainer,ce.startOffset),c.setEnd(ce.endContainer,ce.endOffset)});let T=c.startOffset,k=c.startContainer;if(Sn(k)&&k.hasChildNodes()){const ce=T>k.childNodes.length-1;k=k.childNodes[Math.min(T,k.childNodes.length-1)]||k,ce&&dn(k)?T=k.data.length:T=0}let L=r.getParent(k,r.isBlock);const W=L&&L.parentNode?r.getParent(L.parentNode,r.isBlock):null,G=W?W.nodeName.toUpperCase():"",Q=!!(t&&t.ctrlKey);G==="LI"&&!Q&&(L=W),dn(k)&&T>=k.data.length&&(FR(e.schema,k,L||r.getRoot())||(h=r.create("br"),c.insertNode(h),c.setStartAfter(h),c.setEndAfter(h),v=!0)),h=r.create("br"),Xp(r,c,h),$R(e,h,v),e.undoManager.add()},kY=(e,t)=>{const o=_e.fromTag("br");ul(_e.fromDom(t),o),e.undoManager.add()},DY=(e,t)=>{OY(e.getBody(),t)||Sl(_e.fromDom(t),_e.fromTag("br"));const o=_e.fromTag("br");Sl(_e.fromDom(t),o),$R(e,o.dom,!1),e.undoManager.add()},_Y=e=>la(e.getNode()),OY=(e,t)=>_Y(_t.after(t))?!0:E(e,_t.after(t)).map(o=>la(o.getNode())).getOr(!1),oI=e=>e&&e.nodeName==="A"&&"href"in e,sI=e=>e.fold(He,oI,oI,He),NY=e=>{const t=le(Bx,e),o=_t.fromRangeStart(e.selection.getRng());return T0(t,e.getBody(),o).filter(sI)},RY=(e,t)=>{t.fold(Lt,le(kY,e),le(DY,e),Lt)},aI={insert:(e,t)=>{const o=NY(e);o.isSome()?o.each(le(RY,e)):nI(e,t)},fakeEventName:"insertLineBreak"},iI=(e,t)=>NR(e).filter(o=>t.length>0&&wl(_e.fromDom(o),t)).isSome(),MY=e=>iI(e,QT(e)),BY=e=>iI(e,JT(e)),uh=gi.generate([{br:[]},{block:[]},{none:[]}]),LY=(e,t)=>BY(e),lI=e=>(t,o)=>gY(t)===e,cI=(e,t)=>(o,r)=>Gne(o)===e.toUpperCase()===t,K4=e=>{const t=QE(e.dom,e.selection.getStart());return fn(t)},tT=e=>cI("pre",e),PY=()=>cI("summary",!0),dC=e=>(t,o)=>K2(t)===e,IR=(e,t)=>MY(e),Y4=(e,t)=>t,FY=e=>{const t=bl(e),o=QE(e.dom,e.selection.getStart());return qe(o)&&e.schema.isValidChild(o.nodeName,t)},uI=e=>{const t=e.selection.getRng(),o=_e.fromDom(t.startContainer),c=Jc(o,t.startOffset).map(h=>xd(h)&&!Cr(h));return t.collapsed&&c.getOr(!0)},lg=(e,t)=>(o,r)=>Pe(e,(h,v)=>h&&v(o,r),!0)?X.some(t):X.none(),$Y=(e,t)=>UF([lg([LY],uh.none()),lg([tT(!0),K4],uh.none()),lg([PY()],uh.br()),lg([tT(!0),dC(!1),Y4],uh.br()),lg([tT(!0),dC(!1)],uh.block()),lg([tT(!0),dC(!0),Y4],uh.block()),lg([tT(!0),dC(!0)],uh.br()),lg([lI(!0),Y4],uh.br()),lg([lI(!0)],uh.block()),lg([IR],uh.br()),lg([Y4],uh.br()),lg([FY],uh.block()),lg([uI],uh.block())],[e,!!(t&&t.shiftKey)]).getOr(uh.none()),X4=(e,t,o)=>{t.mode.isReadOnly()||(t.selection.isCollapsed()||Q6(t),!(qe(o)&&XE(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,o),qe(o)&&YE(t,e.fakeEventName)))},dI=(e,t)=>{if(e.mode.isReadOnly())return;const o=()=>X4(aI,e,t),r=()=>X4(eT,e,t),c=$Y(e,t);switch(Y2(e)){case"linebreak":c.fold(o,o,Lt);break;case"block":c.fold(r,r,Lt);break;case"invert":c.fold(r,o,Lt);break;default:c.fold(o,r,Lt);break}},fI=bs(),IY=fI.os.isiOS()&&fI.browser.isSafari(),HR=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),pP(e.undoManager),e.undoManager.transact(()=>{dI(e,t)}))},Q4=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(dn(t)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=t.data.charAt(e.startOffset-1);return o.test(r)}else return!1},mI=e=>{let t=X.none();const o=c=>{t=X.some(c.selection.getBookmark()),c.undoManager.add()},r=(c,h)=>{c.undoManager.undo(),t.fold(Lt,v=>c.selection.moveToBookmark(v)),HR(c,h),t=X.none()};e.on("keydown",c=>{c.keyCode===Ln.ENTER&&(IY&&Q4(e.selection.getRng())?o(e):HR(e,c))}),e.on("keyup",c=>{c.keyCode===Ln.ENTER&&t.each(()=>r(e,c))})},hI=(e,t,o)=>{const r=ds.os.isMacOS()||ds.os.isiOS();xv([{keyCode:Ln.END,action:Ro(V7,e,!0)},{keyCode:Ln.HOME,action:Ro(V7,e,!1)},...r?[]:[{keyCode:Ln.HOME,action:Ro(M4,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Ln.END,action:Ro(M4,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Ln.END,action:Ro(iR,e,!0)},{keyCode:Ln.HOME,action:Ro(iR,e,!1)},{keyCode:Ln.END,action:Ro(vv,e,!0,t)},{keyCode:Ln.HOME,action:Ro(vv,e,!1,t)}],o).each(c=>{o.preventDefault()})},HY=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||hI(e,t,o)})},zY=e=>{e.on("input",t=>{t.isComposing||V6(e)})},J4=bs(),jY=(e,t,o)=>{xv([{keyCode:Ln.PAGE_UP,action:Ro(vv,e,!1,t)},{keyCode:Ln.PAGE_DOWN,action:Ro(vv,e,!0,t)}],o)},zR=e=>e.stopImmediatePropagation(),gI=e=>e.keyCode===Ln.PAGE_UP||e.keyCode===Ln.PAGE_DOWN,jR=(e,t,o)=>{o&&!e.get()?t.on("NodeChange",zR,!0):!o&&e.get()&&t.off("NodeChange",zR),e.set(o)},VY=(e,t)=>{if(J4.os.isMacOS())return;const o=Pn(!1);e.on("keydown",r=>{gI(r)&&jR(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||jY(e,t,r),gI(r)&&o.get()&&(jR(o,e,!1),e.nodeChanged())})},pI=(e,t)=>e===t||e.contains(t),UY=(e,t)=>!pI(e.getBody(),t.startContainer)||!pI(e.getBody(),t.endContainer)?!0:pj(e.dom,t),ZY=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||Ke(t.getTargetRanges(),o=>!UY(e,o)))&&t.preventDefault()})},bI=(e,t)=>{const o=t.container(),r=t.offset();return dn(o)?(o.insertData(r,e),X.some(_t(o,r+e.length))):Dx(t).map(c=>{const h=_e.fromText(e);return t.isAtEnd()?Sl(c,h):ul(c,h),_t(h.dom,e.length)})},c2=le(bI,qr),yI=le(bI," "),WY=(e,t,o)=>zj(e,t,o)?c2(t):yI(t),vI=e=>t=>t.fold(o=>D(e.dom,_t.before(o)),o=>I(o),o=>q(o),o=>E(e.dom,_t.after(o))),qY=(e,t,o)=>r=>zj(e,r,o)?c2(t):yI(t),xI=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},GY=(e,t)=>e.isEditable(e.getParent(t,"summary")),wI=e=>{const t=_t.fromRangeStart(e.selection.getRng()),o=_e.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=le(Bx,e),c=_t.fromRangeStart(e.selection.getRng());return T0(r,e.getBody(),c).bind(vI(o)).map(h=>()=>qY(o,t,e.schema)(h).each(xI(e)))}else return X.none()},KY=e=>{const t=()=>{const o=_e.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=_t.fromRangeStart(e.selection.getRng());WY(o,r,e.schema).each(xI(e))};return Ts(ds.browser.isFirefox()&&e.selection.isEditable()&&GY(e.dom,e.selection.getRng().startContainer),t)},YY=(e,t)=>{P4([{keyCode:Ln.SPACEBAR,action:Ro(wI,e)},{keyCode:Ln.SPACEBAR,action:Ro(KY,e)}],t).each(o=>{t.preventDefault(),XE(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),YE(e,"insertText",{data:" "}))})},Xne=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||YY(e,t)})},e3=e=>bA(e)?[{keyCode:Ln.TAB,action:Ro(A$,e,!0)},{keyCode:Ln.TAB,shiftKey:!0,action:Ro(A$,e,!1)}]:[],XY=(e,t)=>{xv([...e3(e)],t).each(o=>{t.preventDefault()})},QY=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||XY(e,t)})},JY=e=>{if(e.addShortcut("Meta+P","","mcePrint"),tY(e),v0(e))return Pn(null);{const t=TG(e);return ZY(e),P7(e),FK(e,t),fY(e,t),mI(e),Xne(e),zY(e),QY(e),HY(e,t),VY(e,t),t}},eX=(e,t)=>{const o=NE(e);o===null||QO(e,o)||e.undoManager.transact(()=>{vt(t.styles)&&e.dom.setStyles(o,t.styles),vt(t.attrs)&&Oo(t.attrs,(r,c)=>e.dom.setAttrib(o,c,r))})},VR=(e,t)=>()=>{const o=NE(e);return qe(o)&&o.nodeName===t},tX=e=>{e.addCommand("InsertUnorderedList",(t,o)=>{uN(e,"UL",o)}),e.addCommand("InsertOrderedList",(t,o)=>{uN(e,"OL",o)}),e.addCommand("InsertDefinitionList",(t,o)=>{uN(e,"DL",o)}),e.addCommand("RemoveList",()=>{l4(e)}),e.addCommand("mceListUpdate",(t,o)=>{vt(o)&&eX(e,o)}),e.addCommand("mceListBackspaceDelete",(t,o)=>{mN(e,o)}),e.addQueryStateHandler("InsertUnorderedList",VR(e,"UL")),e.addQueryStateHandler("InsertOrderedList",VR(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",VR(e,"DL"))},nX=e=>{e.on("keydown",t=>{t.keyCode===Ln.BACKSPACE?mN(e,!1)&&t.preventDefault():t.keyCode===Ln.DELETE&&mN(e,!0)&&t.preventDefault()})},CI=e=>e.type===3,SI=e=>e.length===0,oX=e=>{const t=(c,h)=>{const v=Hc.create("li");Le(c,T=>v.append(T)),h?e.insert(v,h,!0):e.append(v)},o=(c,h)=>CI(h)?[...c,h]:!SI(c)&&!CI(h)?(t(c,h),[]):c,r=Pe(e.children(),o,[]);SI(r)||t(r)},sX=e=>{e.on("PreInit",()=>{const{parser:t}=e;t.addNodeFilter("ul,ol",o=>Le(o,oX))})},rX=e=>{e.on("keydown",t=>{t.keyCode!==Ln.TAB||Ln.metaKeyPressed(t)||e.undoManager.transact(()=>{(t.shiftKey?BE(e):SF(e))&&t.preventDefault()})})},aX=e=>{bS(e)&&rX(e)},Yr=e=>{nX(e),tX(e),sX(e),aX(e)};class iX{editor;lastPath=[];constructor(t){this.editor=t;let o;const r=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",c=>{const h=t.selection.getRng(),v={startContainer:h.startContainer,startOffset:h.startOffset,endContainer:h.endContainer,endOffset:h.endOffset};(c.type==="nodechange"||!zb(v,o))&&t.dispatch("SelectionChange"),o=v}),t.on("contextmenu",()=>{UA(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const c=t.selection.getStart(!0);c&&NS(t)&&!r.isSameElementPath(c)&&t.dom.isChildOf(c,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",c=>{!c.isDefaultPrevented()&&NS(t)&&(t.selection.getNode().nodeName==="IMG"?Qg.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const o=this.editor,r=o.selection;let c;if(o.initialized&&r&&!uA(o)&&!nh(o)){const h=o.getBody();c=r.getStart(!0)||h,(c.ownerDocument!==o.getDoc()||!o.dom.isChildOf(c,h))&&(c=h);const v=[];o.dom.getParent(c,T=>T===h?!0:(v.push(T),!1)),o.dispatch("NodeChange",{...t,element:c,parents:v})}}isSameElementPath(t){let o;const r=this.editor,c=zo(r.dom.getParents(t,dt,r.getBody()));if(c.length===this.lastPath.length){for(o=c.length;o>=0&&c[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const UR="x-tinymce/html",t3=at(UR),nT="<!-- "+UR+" -->",EI=e=>nT+e,lX=e=>e.replace(nT,""),TI=e=>e.indexOf(nT)!==-1,cX=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),AI=(e,t)=>{let o="<"+e;const r=Gn(t,(c,h)=>h+'="'+ed.encodeAllRaw(c)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},n3=(e,t,o)=>{const r=e.split(/\n\n/),c=AI(t,o),h="</"+t+">",v=tt(r,k=>k.split(/\n/).join("<br />")),T=k=>c+k+h;return v.length===1?v[0]:tt(v,T).join("")},kI="%MCEPASTEBIN%",uX=(e,t)=>{const{dom:o,selection:r}=e,c=e.getBody();t.set(r.getRng());const h=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},kI);ds.browser.isFirefox()&&o.setStyle(h,"left",o.getStyle(c,"direction",!0)==="rtl"?65535:-65535),o.bind(h,"beforedeactivate focusin focusout",v=>{v.stopPropagation()}),h.focus(),r.select(h,!0)},ZR=(e,t)=>{const o=e.dom;if(WR(e)){let r;const c=t.get();for(;r=WR(e);)o.remove(r),o.unbind(r);c&&e.selection.setRng(c)}t.set(null)},WR=e=>e.dom.get("mcepastebin"),dX=e=>qe(e)&&e.id==="mcepastebin",fX=e=>{const t=e.dom,o=(v,T)=>{v.appendChild(T),t.remove(T,!0)},[r,...c]=xt(e.getBody().childNodes,dX);Le(c,v=>{o(r,v)});const h=t.select("div[id=mcepastebin]",r);for(let v=h.length-1;v>=0;v--){const T=t.create("div");r.insertBefore(T,h[v]),o(T,h[v])}return r?r.innerHTML:""},DI=e=>e===kI,_I=e=>{const t=Pn(null);return{create:()=>uX(e,t),remove:()=>ZR(e,t),getEl:()=>WR(e),getHtml:()=>fX(e),getLastRng:t.get}},OI=(e,t)=>(ln.each(t,o=>{Se(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),mX=e=>{const t=Ls(),o=Lw({},t);let r="";const c=t.getVoidElements(),h=ln.makeMap("script noscript style textarea video audio iframe object"," "),v=t.getBlockElements(),T=k=>{const L=k.name,W=k;if(L==="br"){r+=`
`;return}if(L!=="wbr"){if(c[L]&&(r+=" "),h[L]){r+=" ";return}if(k.type===3&&(r+=k.value),!(k.name in t.getVoidElements())){let G=k.firstChild;if(G)do T(G);while(G=G.next)}v[L]&&W.next&&(r+=`
`,L==="p"&&(r+=`
`))}};return e=OI(e,[/<!\[[^\]]+\]>/g]),T(o.parse(e)),r},qR=e=>(e=OI(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,c)=>!r&&!c?" ":qr],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),hX=e=>{let t=0;return()=>e+t++},gX=e=>{const t=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return ln.hasOwn(o,t)?"image/"+o[t]:"image/"+t},pX=(e,t)=>{const o=Lw({sanitize:lw(e),sandbox_iframes:Xy(e),sandbox_iframes_exclusions:a0(e),convert_unsafe_embeds:i0(e)},e.schema);o.addNodeFilter("meta",c=>{ln.each(c,h=>{h.remove()})});const r=o.parse(t,{forced_root_block:!1,isRootContent:!0});return tv({validate:!0},e.schema).serialize(r)},o3=(e,t)=>({content:e,cancelled:t}),bX=(e,t,o)=>{const r=e.dom.create("div",{style:"display:none"},t),c=UT(e,r,o);return o3(c.node.innerHTML,c.isDefaultPrevented())},NI=(e,t,o)=>{const r=VT(e,t,o),c=pX(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?bX(e,c,o):o3(c,r.isDefaultPrevented())},yX=(e,t,o)=>NI(e,t,o),oT=(e,t)=>(e.insertContent(t,{merge:mA(e),paste:!0}),!0),GR=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),RI=(e,t)=>GR(t)&&Ke(pS(e),o=>Si(t.toLowerCase(),`.${o.toLowerCase()}`)),vX=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),xX=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),wX=(e,t,o)=>!e.selection.isCollapsed()&&GR(t)?xX(e,t,o):!1,CX=(e,t,o)=>RI(e,t)?vX(e,t,o):!1,MI=(e,t)=>{ln.each([wX,CX,oT],o=>!o(e,t,oT))},SX=(e,t,o)=>{o||!dS(e)?oT(e,t):MI(e,t)},BI=hX("mceclip"),s3=e=>{const t=aC();return f$(t,e),H4(t),t},r3=(e,t,o,r,c)=>{const h=yX(e,t,o);if(!h.cancelled){const v=h.content,T=()=>SX(e,v,r);c?XE(e,"insertFromPaste",{dataTransfer:s3(v)}).isDefaultPrevented()||(T(),YE(e,"insertFromPaste")):T()}},fC=(e,t,o,r)=>{const c=o||TI(t);r3(e,lX(t),c,!1,r)},KR=(e,t,o)=>{const r=e.dom.encode(t).replace(/\r\n/g,`
`),c=z0(r,FD(e)),h=n3(c,bl(e),th(e));r3(e,h,!1,!0,o)},LI=e=>{const t={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{t[r]=e.getData(r)}catch{t[r]=""}}return t},cg=(e,t)=>t in e&&e[t].length>0,PI=e=>cg(e,"text/html")||cg(e,"text/plain"),mC=(e,t)=>{const o=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return qe(o)?e.dom.encode(o[1]):void 0},sT=(e,t,o,r)=>{const c=BI(),h=tA(e)&&qe(o.name),v=h?mC(e,o.name):c,T=h?o.name:void 0,k=t.create(c,o,r,v,T);return t.add(k),k},EX=(e,t)=>{v5(t.uri).each(({data:o,type:r,base64Encoded:c})=>{const h=c?o:btoa(o),v=t.file,T=e.editorUpload.blobCache,L=T.getByData(h,r)??sT(e,T,v,h);fC(e,`<img src="${L.blobUri()}">`,!1,!0)})},TX=e=>e.type==="paste",hC=e=>Promise.all(tt(e,t=>x5(t).then(o=>({file:t,uri:o})))),AX=e=>{const t=pS(e);return o=>Co(o.type,"image/")&&Ke(t,r=>gX(r)===o.type)},YR=(e,t)=>{const o=t.items?Do(Es(t.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],r=t.files?Es(t.files):[];return xt(o.length>0?o:r,AX(e))},FI=(e,t,o)=>{const r=TX(t)?t.clipboardData:t.dataTransfer;if(iw(e)&&r){const c=YR(e,r);if(c.length>0)return t.preventDefault(),hC(c).then(h=>{o&&e.selection.setRng(o),Le(h,v=>{EX(e,v)})}),!0}return!1},$I=e=>ds.os.isAndroid()&&e.clipboardData?.items?.length===0,II=e=>Ln.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,rT=(e,t,o,r,c)=>{let h=qR(o);const v=cg(t,t3())||TI(o),T=!v&&cX(h),k=GR(h);(DI(h)||!h.length||T&&!k)&&(r=!0),(r||k)&&(cg(t,"text/plain")&&T?h=t["text/plain"]:h=mX(h)),!DI(h)&&(r?KR(e,h,c):fC(e,h,v,c))},HI=(e,t,o)=>{let r;const c=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",h=>{II(h)&&!h.isDefaultPrevented()&&(r=h.shiftKey&&h.keyCode===86)}),e.on("paste",h=>{if(h.isDefaultPrevented()||$I(h))return;const v=o.get()==="text"||r;r=!1;const T=LI(h.clipboardData);!PI(T)&&FI(e,h,c())||(cg(T,"text/html")?(h.preventDefault(),rT(e,T,T["text/html"],v,!0)):cg(T,"text/plain")&&cg(T,"text/uri-list")?(h.preventDefault(),rT(e,T,T["text/plain"],v,!0)):(t.create(),Qg.setEditorTimeout(e,()=>{const k=t.getHtml();t.remove(),rT(e,T,k,v,!1)},0)))})},kX=e=>{const t=c=>Co(c,"webkit-fake-url"),o=c=>Co(c,"data:"),r=c=>c.data?.paste===!0;e.parser.addNodeFilter("img",(c,h,v)=>{if(!iw(e)&&r(v))for(const T of c){const k=T.attr("src");J(k)&&!T.attr("data-mce-object")&&k!==ds.transparentSrc&&(t(k)||!fS(e)&&o(k))&&T.remove()}})},DX=(e,t,o)=>{HI(e,t,o),kX(e)},zI=(e,t)=>{t.get()==="text"?(t.set("html"),ZT(e,!1)):(t.set("text"),ZT(e,!0)),e.focus()},_X=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{zI(e,t)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&fC(e,r.html,r.internal,!1),r.text&&KR(e,r.text,!1)})},jI=(e,t,o)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",o),e.setData(t3(),t),!0}catch{return!1}else return!1},a3=(e,t,o,r)=>{jI(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):o(t.html,r)},XR=e=>(t,o)=>{const{dom:r,selection:c}=e,h=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),v=r.create("div",{contenteditable:"true"},t);r.setStyles(h,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),h.appendChild(v),r.add(e.getBody(),h);const T=c.getRng();v.focus();const k=r.createRng();k.selectNodeContents(v),c.setRng(k),Qg.setEditorTimeout(e,()=>{c.setRng(T),r.remove(h),o()},0)},VI=e=>({html:EI(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),OX=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),UI=e=>!e.selection.isCollapsed()||OX(e),ZI=(e,t)=>o=>{!o.isDefaultPrevented()&&UI(e)&&e.selection.isEditable()&&a3(o,VI(e),XR(e),()=>{if(ds.browser.isChromium()||ds.browser.isFirefox()){const r=e.selection.getRng();Qg.setEditorTimeout(e,()=>{e.selection.setRng(r),lp(e,t)},0)}else lp(e,t)})},QR=e=>t=>{!t.isDefaultPrevented()&&UI(e)&&a3(t,VI(e),XR(e),Lt)},NX=(e,t)=>{e.on("cut",ZI(e,t)),e.on("copy",QR(e))},JR=(e,t)=>f0.getCaretRangeFromPoint(t.clientX??0,t.clientY??0,e.getDoc()),WI=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},qI=(e,t)=>{t&&e.selection.setRng(t),e.focus()},GI=e=>Ke(e.files,t=>/^image\//.test(t.type)),RX=(e,t,o,r)=>{const c=e.getParent(o,v=>Ya(t,v));if(!ie(e.getParent(o,"summary")))return!0;if(c&&Qn(r,"text/html")){const v=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!ie(v.querySelector(c.nodeName.toLowerCase()))}else return!1},MX=e=>{e.on("input",t=>{const o=r=>ie(r.querySelector("summary"));if(t.inputType==="deleteByDrag"){const r=xt(e.dom.select("details"),o);Le(r,c=>{la(c.firstChild)&&c.firstChild.remove();const h=e.dom.create("summary");h.appendChild(Fg().dom),c.prepend(h)})}})},i3=(e,t)=>{kB(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),iw(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&GI(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=JR(e,o);if(fn(r))return;const c=LI(o.dataTransfer),h=cg(c,t3());if((!PI(c)||WI(c))&&FI(e,o,r))return;const v=c[t3()],T=v||c["text/html"]||c["text/plain"],k=RX(e.dom,e.schema,r.startContainer,c),L=t.get();L&&!k||T&&(o.preventDefault(),Qg.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(v||L&&k)&&e.execCommand("Delete"),qI(e,r);const W=qR(T);c["text/html"]?fC(e,W,h,!0):KR(e,W,!0)})}))}),e.on("dragstart",o=>{t.set(!0)}),e.on("dragover dragend",o=>{iw(e)&&!t.get()&&(o.preventDefault(),qI(e,JR(e,o))),o.type==="dragend"&&t.set(!1)}),MX(e)},BX=e=>{const t=c=>h=>{c(e,h)},o=RD(e);Re(o)&&e.on("PastePreProcess",t(o));const r=MD(e);Re(r)&&e.on("PastePostProcess",t(r))},LX=(e,t)=>{e.on("PastePreProcess",o=>{o.content=t(e,o.content,o.internal)})},KI=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,eM=e=>ln.trim(e).replace(KI,wc).toLowerCase(),PX=(e,t,o)=>{const r=uS(e);if(o||r==="all"||!LD(e))return t;const c=r?r.split(/[, ]/):[];if(c&&r!=="none"){const h=e.dom,v=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(T,k,L,W)=>{const G=h.parseStyle(h.decode(L)),Q={};for(let De=0;De<c.length;De++){const ge=G[c[De]];let Ae=ge,ot=h.getStyle(v,c[De],!0);/color/.test(c[De])&&(Ae=eM(Ae),ot=eM(ot)),ot!==Ae&&(Q[c[De]]=ge)}const ce=h.serializeStyle(Q,"span");return ce?k+' style="'+ce+'"'+W:k+W})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(h,v,T,k)=>v+' style="'+T+'"'+k),t},FX=e=>{(ds.browser.isChromium()||ds.browser.isSafari())&&LX(e,PX)},$X=(e,t)=>{const o=Pn(!1),r=Pn(PD(e)?"text":"html"),c=_I(e);FX(e),_X(e,r),BX(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>r.get()==="text"),e.on("PreInit",()=>{NX(e,t),i3(e,o),DX(e,c,r)})},IX=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},HX=e=>{e.parser.addNodeFilter("details",t=>{const o=Yy(e);Le(t,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const o=r0(e);Le(t,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})})},YI=e=>{IX(e),HX(e)},zX=la,XI=dn,jX=e=>na(e.dom),VX=e=>Mu(e.dom),QI=e=>t=>ss(_e.fromDom(e),t),UX=(e,t,o)=>nr(_e.fromDom(e),r=>VX(r)||o.isBlock(rs(r)),QI(t)).getOr(_e.fromDom(t)).dom,JI=(e,t)=>nr(_e.fromDom(e),jX,QI(t)),e9=(e,t,o)=>{const r=new Ka(e,t),c=o?r.next.bind(r):r.prev.bind(r);let h=e;for(let v=o?e:c();v&&!zX(v);v=c())ya(v)&&(h=v);return h},t9=(e,t,o)=>{const c=_t.fromRangeStart(e).getNode(),h=UX(c,t,o),v=e9(c,h,!1),T=e9(c,h,!0),k=document.createRange();return JI(v,h).fold(()=>{XI(v)?k.setStart(v,0):k.setStartBefore(v)},L=>k.setStartBefore(L.dom)),JI(T,h).fold(()=>{XI(T)?k.setEnd(T,T.data.length):k.setEndAfter(T)},L=>k.setEndAfter(L.dom)),k},n9=e=>{const t=t9(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(y5(t))},ZX=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),n9(e))})};var gC;(function(e){e.Before="before",e.After="after"})(gC||(gC={}));const WX=(e,t)=>Math.abs(e.left-t),aT=(e,t)=>Math.abs(e.right-t),qX=(e,t)=>e>=t.top&&e<=t.bottom,GX=(e,t)=>e.top<t.bottom&&e.bottom>t.top,o9=(e,t)=>{const o=Kv(e,t)/Math.min(e.height,t.height);return GX(e,t)&&o>.5},KX=(e,t)=>{const o=xt(e,r=>qX(t,r));return t1(o).fold(()=>[[],e],r=>{const{pass:c,fail:h}=Nt(e,v=>o9(v,r));return[c,h]})},YX=(e,t)=>({node:e.node,position:WX(e,t)<aT(e,t)?gC.Before:gC.After}),XX=(e,t,o)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),tM=(e,t,o,r)=>{const c=G=>ya(G.node)?X.some(G):Sn(G.node)?tM(Es(G.node.childNodes),t,o,!1):X.none(),h=(G,Q,ce)=>c(Q).filter(De=>Math.abs(ce(G,t,o)-ce(De,t,o))<2&&dn(De.node)),v=(G,Q)=>{const ce=Ss(G,(De,ge)=>Q(De,t,o)-Q(ge,t,o));return $r(ce,c).map(De=>r&&!dn(De.node)&&ce.length>1?h(De,ce[1],Q).getOr(De):De)},[T,k]=KX(IN(e),o),{pass:L,fail:W}=Nt(k,G=>G.top<o);return v(T,XX).orThunk(()=>v(W,Gv)).orThunk(()=>v(L,Gv))},QX=(e,t,o,r)=>{const c=(h,v)=>{const T=L=>Sn(L)&&L.classList.contains("mce-drag-container"),k=xt(h.dom.childNodes,Ve(T));return v.fold(()=>tM(k,o,r,!0),L=>{const W=xt(k,G=>G!==L.dom);return tM(W,o,r,!0)}).orThunk(()=>(ss(h,e)?X.none():Qc(h)).bind(W=>c(W,X.some(h))))};return c(t,X.none())},l3=(e,t,o)=>{const r=_e.fromDom(e),c=Xc(r),v=_e.fromPoint(c,t,o).filter(T=>mc(r,T)).getOr(r);return QX(r,v,t,o)},nM=(e,t,o)=>l3(e,t,o).filter(r=>Ex(r.node)).map(r=>YX(r,t)),oM=e=>{const t=e.getBoundingClientRect(),o=e.ownerDocument,r=o.documentElement,c=o.defaultView;return{top:t.top+(c?.scrollY??0)-r.clientTop,left:t.left+(c?.scrollX??0)-r.clientLeft}},JX=e=>e.inline?oM(e.getBody()):{left:0,top:0},eQ=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},tQ=e=>{const t=e.getBody(),o=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},c={left:t.scrollLeft||o.scrollLeft,top:t.scrollTop||o.scrollTop};return e.inline?r:c},Qne=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const o=oM(e.getContentAreaContainer()),r=tQ(e);return{left:t.pageX-o.left+r.left,top:t.pageY-o.top+r.top}}return{left:t.pageX,top:t.pageY}},nQ=(e,t,o)=>({pageX:o.left-e.left+t.left,pageY:o.top-e.top+t.top}),oQ=(e,t)=>nQ(JX(e),eQ(e),Qne(e,t)),c3=e=>({target:e,srcElement:e}),u3=(e,t,o,r)=>({...t,dataTransfer:r,type:e,...c3(o)}),sQ=(e,t,o)=>{const r=It("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:Lt,stopImmediatePropagation:Lt,stopPropagation:Lt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:o,...c3(t)}},rQ=(e,t)=>{const o=CK(e);return t==="dragstart"?(r$(o),gR(o)):t==="drop"?(yK(o),H4(o)):(vK(o),pR(o)),o},aQ=(e,t,o,r)=>{const c=rQ(o,e);return xn(r)?sQ(e,t,c):u3(e,r,t,c)},iT=32,iQ=100,pC=8,lT=16,s9=na,lQ=Cb(s9,Mu),r9=(e,t,o)=>s9(o)&&o!==t&&e.isEditable(o.parentElement),cQ=(e,t,o)=>fn(t)||t===o||e.dom.isChildOf(t,o)?!1:e.dom.isEditable(t),Jne=(e,t,o,r)=>{const c=e.dom,h=t.cloneNode(!0);c.setStyles(h,{width:o,height:r}),c.setAttrib(h,"data-mce-selected",null);const v=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(v,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),c.setStyles(h,{margin:0,boxSizing:"border-box"}),v.appendChild(h),v},uQ=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},d3=(e,t)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+t,behavior:"smooth"})},a9=d3("left",-iT),sM=d3("left",iT),f3=d3("top",-iT),cT=d3("top",iT),i9=(e,t,o,r,c,h,v,T,k,L,W,G)=>{let Q=0,ce=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+o>c&&(Q=t.pageX+o-c),t.pageY+r>h&&(ce=t.pageY+r-h),e.style.width=o-Q+"px",e.style.height=r-ce+"px";const De=k.clientHeight,ge=k.clientWidth,Ae=v+k.getBoundingClientRect().top,ot=T+k.getBoundingClientRect().left;W.on(rt=>{rt.intervalId.clear(),rt.dragging&&G&&(v+pC>=De?rt.intervalId.set(cT(L)):v-pC<=0?rt.intervalId.set(f3(L)):T+pC>=ge?rt.intervalId.set(sM(L)):T-pC<=0?rt.intervalId.set(a9(L)):Ae+lT>=window.innerHeight?rt.intervalId.set(cT(window)):Ae-lT<=0?rt.intervalId.set(f3(window)):ot+lT>=window.innerWidth?rt.intervalId.set(sM(window)):ot-lT<=0&&rt.intervalId.set(a9(window)))})},l9=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},dQ=(e,t)=>{const o=e.getParent(t.parentNode,e.isBlock);l9(t),o&&o!==e.getRoot()&&e.isEmpty(o)&&Vh(_e.fromDom(o))},fQ=e=>e.button===0,mQ=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),c9=(e,t)=>o=>{if(fQ(o)){const r=sn(t.dom.getParents(o.target),lQ).getOr(null);if(qe(r)&&r9(t.dom,t.getBody(),r)){const c=t.dom.getPos(r),h=t.getBody(),v=t.getDoc().documentElement;e.set({element:r,dataTransfer:aC(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(t.inline?h.scrollWidth:v.offsetWidth)-2,maxY:(t.inline?h.scrollHeight:v.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:r.offsetWidth,height:r.offsetHeight,ghost:Jne(t,r,r.offsetWidth,r.offsetHeight),intervalId:Tr(iQ)})}}},hQ=(e,t,o)=>{e._selectionOverrides.hideFakeCaret(),nM(e.getBody(),t,o).fold(()=>e.selection.placeCaretAt(t,o),r=>{const c=e._selectionOverrides.showCaret(1,r.node,r.position===gC.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(t,o)})},bC=(e,t,o,r,c)=>{t==="dragstart"&&f$(r,e.dom.getOuterHTML(o));const h=aQ(t,o,r,c);return e.dispatch(t,h)},gQ=(e,t)=>{const o=An((c,h)=>hQ(t,c,h),0);t.on("remove",o.cancel);const r=e;return c=>e.on(h=>{const v=Math.max(Math.abs(c.screenX-h.screenX),Math.abs(c.screenY-h.screenY));if(!h.dragging&&v>10){const T=bC(t,"dragstart",h.element,h.dataTransfer,c);if(qe(T.dataTransfer)&&(h.dataTransfer=T.dataTransfer),T.isDefaultPrevented())return;h.dragging=!0,t.focus()}if(h.dragging){const T=c.currentTarget===t.getDoc().documentElement,k=mQ(h,oQ(t,c));uQ(h.ghost,t.getBody()),i9(h.ghost,k,h.width,h.height,h.maxX,h.maxY,c.clientY,c.clientX,t.getContentAreaContainer(),t.getWin(),r,T),o.throttle(c.clientX,c.clientY)}})},pQ=e=>{const t=e.getSel();if(qe(t)){const r=t.getRangeAt(0).startContainer;return dn(r)?r.parentNode:r}else return null},rM=(e,t)=>o=>{e.on(r=>{if(r.intervalId.clear(),r.dragging){if(cQ(t,pQ(t.selection),r.element)){const c=t.getDoc().elementFromPoint(o.clientX,o.clientY)??t.getBody();bC(t,"drop",c,r.dataTransfer,o).isDefaultPrevented()||t.undoManager.transact(()=>{dQ(t.dom,r.element),d$(r.dataTransfer).each(v=>t.insertContent(v)),t._selectionOverrides.hideFakeCaret()})}bC(t,"dragend",t.getBody(),r.dataTransfer,o)}}),u9(e)},aM=(e,t,o)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&o.fold(()=>bC(t,"dragend",r.element,r.dataTransfer),c=>bC(t,"dragend",r.element,r.dataTransfer,c))}),u9(e)},eoe=(e,t)=>o=>aM(e,t,X.some(o)),u9=e=>{e.on(t=>{t.intervalId.clear(),l9(t.ghost)}),e.clear()},d9=e=>{const t=Fs(),o=hs.DOM,r=document,c=c9(t,e),h=gQ(t,e),v=rM(t,e),T=eoe(t,e);e.on("mousedown",c),e.on("mousemove",h),e.on("mouseup",v),o.bind(r,"mousemove",h),o.bind(r,"mouseup",T),e.on("remove",()=>{o.unbind(r,"mousemove",h),o.unbind(r,"mouseup",T)}),e.on("keydown",k=>{k.keyCode===Ln.ESC&&aM(t,e,X.none())})},bQ=e=>{const t=c=>{if(!c.isDefaultPrevented()){const h=c.dataTransfer;h&&(Be(h.types,"Files")||h.files.length>0)&&(c.preventDefault(),c.type==="drop"&&Qk(e,"Dropped file type is not supported"))}},o=c=>{qA(e,c.target)&&t(c)},r=()=>{const c=hs.DOM,h=e.dom,v=document,T=e.inline?e.getBody():e.getDoc(),k=["drop","dragover"];Le(k,L=>{c.bind(v,L,o),h.bind(T,L,t)}),e.on("remove",()=>{Le(k,L=>{c.unbind(v,L,o),h.unbind(T,L,t)})})};e.on("init",()=>{Qg.setEditorTimeout(e,r,0)})},iM=e=>{d9(e),DD(e)&&bQ(e)},yQ=e=>{const t=An(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=Jb(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},vQ=e=>{e.on("init",()=>{e.on("focusin",t=>{const o=t.target;if(Nd(o)){const r=m0(e.getBody(),o),c=na(r)?r:o;e.selection.getNode()!==c&&T1(e,c).each(h=>e.selection.setRng(h))}})})},uT=na,lM=(e,t)=>m0(e.getBody(),t),m3=e=>{const t=e.selection,o=e.dom,r=e.getBody(),c=jo(e,r,o.isBlock,()=>kw(e)),h="sel-"+o.uniqueId(),v="data-mce-selected";let T;const k=Bt=>qe(Bt)&&o.hasClass(Bt,"mce-offscreen-selection"),L=Bt=>Bt!==r&&(uT(Bt)||Nd(Bt))&&o.isChildOf(Bt,r)&&o.isEditable(Bt.parentNode),W=Bt=>{Bt&&t.setRng(Bt)},G=(Bt,Ct,Ft,On=!0)=>e.dispatch("ShowCaret",{target:Ct,direction:Bt,before:Ft}).isDefaultPrevented()?null:(On&&t.scrollIntoView(Ct,Bt===-1),c.show(Ft,Ct)),Q=Bt=>{Bt.hasAttribute("data-mce-caret")&&(ff(Bt),t.scrollIntoView(Bt))},ce=()=>{e.on("click",Ct=>{o.isEditable(Ct.target)||(Ct.preventDefault(),e.focus())}),e.on("blur NewBlock",en),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",Ct=>{const Ft=Ct.target,On=lM(e,Ft);uT(On)?(Ct.preventDefault(),T1(e,On).each(Pt)):L(Ft)&&T1(e,Ft).each(Pt)},!0),e.on("mousedown",Ct=>{const Ft=Ct.target;if(Ft!==r&&Ft.nodeName!=="HTML"&&!o.isChildOf(Ft,r)||!sW(e,Ct.clientX,Ct.clientY))return;en(),io();const On=lM(e,Ft);uT(On)?(Ct.preventDefault(),T1(e,On).each(Pt)):nM(r,Ct.clientX,Ct.clientY).each(Bo=>{Ct.preventDefault();const Lo=G(1,Bo.node,Bo.position===gC.Before,!1);W(Lo),ru(On)?On.focus():e.getBody().focus()})}),e.on("keypress",Ct=>{Ln.modifierPressed(Ct)||uT(t.getNode())&&Ct.preventDefault()}),e.on("GetSelectionRange",Ct=>{let Ft=Ct.range;if(T){if(!T.parentNode){T=null;return}Ft=Ft.cloneRange(),Ft.selectNode(T),Ct.range=Ft}}),e.on("focusin",Ct=>{if(!Nd(Ct.target)&&e.getBody().contains(Ct.target)&&Ct.target!==e.getBody()&&!e.dom.isEditable(Ct.target.parentNode)){c.isShowing()&&c.hide(),Ct.target.contains(e.selection.getNode())||(e.selection.select(Ct.target,!0),e.selection.collapse(!0));const Ft=Pt(e.selection.getRng(),!0);Ft&&e.selection.setRng(Ft)}}),e.on("SetSelectionRange",Ct=>{Ct.range=Ae(Ct.range);const Ft=Pt(Ct.range,Ct.forward);Ft&&(Ct.range=Ft)});const Bt=Ct=>Sn(Ct)&&Ct.id==="mcepastebin";e.on("AfterSetSelectionRange",Ct=>{const Ft=Ct.range,On=Ft.startContainer.parentElement;!ge(Ft)&&!Bt(On)&&io(),k(On)||en()}),iM(e),yQ(e),vQ(e)},De=Bt=>ad(Bt)||mu(Bt)||Qi(Bt),ge=Bt=>De(Bt.startContainer)||De(Bt.endContainer),Ae=Bt=>{const Ct=e.schema.getVoidElements(),Ft=o.createRng(),On=Bt.startContainer,Bo=Bt.startOffset,Lo=Bt.endContainer,Ws=Bt.endOffset;return Qn(Ct,On.nodeName.toLowerCase())?Bo===0?Ft.setStartBefore(On):Ft.setStartAfter(On):Ft.setStart(On,Bo),Qn(Ct,Lo.nodeName.toLowerCase())?Ws===0?Ft.setEndBefore(Lo):Ft.setEndAfter(Lo):Ft.setEnd(Lo,Ws),Ft},ot=(Bt,Ct)=>{const Ft=_e.fromDom(e.getBody()),On=e.getDoc(),Bo=Ku(Ft,"#"+h).getOrThunk(()=>{const Pr=_e.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',On);return Or(Pr,"id",h),Is(Ft,Pr),Pr}),Lo=o.createRng();ql(Bo),hc(Bo,[_e.fromText(qr,On),_e.fromDom(Ct),_e.fromText(qr,On)]),Lo.setStart(Bo.dom.firstChild,1),Lo.setEnd(Bo.dom.lastChild,0),fl(Bo,{top:o.getPos(Bt,e.getBody()).y+"px"}),Ia(Bo);const Ws=t.getSel();return Ws&&(Ws.removeAllRanges(),Ws.addRange(Lo)),Lo},rt=Bt=>{const Ct=e.getDoc().createElement("div");Ct.style.width=Bt.style.width,Ct.style.height=Bt.style.height;const Ft=Bt.getAttribute("width");Ft&&Ct.setAttribute("width",Ft);const On=Bt.getAttribute("height");return On&&Ct.setAttribute("height",On),Ct},ut=Bt=>{const Ct=Rp(Bt)?rt(Bt):Bt.cloneNode(!0),Ft=e.dispatch("ObjectSelected",{target:Bt,targetClone:Ct});if(Ft.isDefaultPrevented())return null;const On=ot(Bt,Ft.targetClone),Bo=_e.fromDom(Bt);return Le(kt(_e.fromDom(e.getBody()),`*[${v}]`),Lo=>{ss(Bo,Lo)||li(Lo,v)}),o.getAttrib(Bt,v)||Bt.setAttribute(v,"1"),T=Bt,io(),On},Pt=(Bt,Ct)=>{if(!Bt)return null;if(Bt.collapsed){if(!ge(Bt)){const Lo=Ct?1:-1,Ws=g1(Lo,r,Bt),Pr=Ws.getNode(!Ct);if(qe(Pr)){if(Ex(Pr))return G(Lo,Pr,Ct?!Ws.isAtEnd():!1,!1);if(pm(Pr)&&na(Pr.nextSibling)){const ti=o.createRng();return ti.setStart(Pr,0),ti.setEnd(Pr,0),ti}}const Ca=Ws.getNode(Ct);if(qe(Ca)){if(Ex(Ca))return G(Lo,Ca,Ct?!1:!Ws.isAtEnd(),!1);if(pm(Ca)&&na(Ca.previousSibling)){const ti=o.createRng();return ti.setStart(Ca,1),ti.setEnd(Ca,1),ti}}}return null}let Ft=Bt.startContainer,On=Bt.startOffset;const Bo=Bt.endOffset;if(dn(Ft)&&On===0&&uT(Ft.parentNode)&&(Ft=Ft.parentNode,On=o.nodeIndex(Ft),Ft=Ft.parentNode),!Sn(Ft))return null;if(Bo===On+1&&Ft===Bt.endContainer){const Lo=Ft.childNodes[On];if(L(Lo))return ut(Lo)}return null},en=()=>{T&&T.removeAttribute(v),Ku(_e.fromDom(e.getBody()),"#"+h).each(ws),T=null},Nn=()=>{c.destroy(),T=null},io=()=>{c.hide()};return v0(e)||ce(),{showCaret:G,showBlockCaretContainer:Q,hideFakeCaret:io,destroy:Nn}},f9=(e,t)=>{let o=t;for(let r=e.previousSibling;dn(r);r=r.previousSibling)o+=r.data.length;return o},cM=(e,t,o,r,c)=>{if(dn(o)&&(r<0||r>o.data.length))return[];const h=c&&dn(o)?[f9(o,r)]:[r];let v=o;for(;v!==t&&v.parentNode;)h.push(e.nodeIndex(v,c)),v=v.parentNode;return v===t?h.reverse():[]},uM=(e,t,o,r,c,h,v=!1)=>{const T=cM(e,t,o,r,v),k=cM(e,t,c,h,v);return{start:T,end:k}},m9=(e,t)=>{const o=t.slice(),r=o.pop();return Qo(r)?Pe(o,(h,v)=>h.bind(T=>X.from(T.childNodes[v])),X.some(e)).bind(h=>dn(h)&&(r<0||r>h.data.length)?X.none():X.some({node:h,offset:r})):X.none()},dM=(e,t)=>m9(e,t.start).bind(({node:o,offset:r})=>m9(e,t.end).map(({node:c,offset:h})=>{const v=document.createRange();return v.setStart(o,r),v.setEnd(c,h),v})),xQ=(e,t,o,r=!1)=>uM(e,t,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),yC=(e,t,o)=>{if(t&&e.isEmpty(t)&&!o(t)){const r=t.parentNode;e.remove(t,dn(t.firstChild)&&Ap(t.firstChild.data)),yC(e,r,o)}},h3=(e,t,o,r=!0)=>{const c=t.startContainer.parentNode,h=t.endContainer.parentNode;t.deleteContents(),r&&!o(t.startContainer)&&(dn(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),dn(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),yC(e,c,o),c!==h&&yC(e,h,o))},vC=(e,t)=>X.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),fM=(e,t,o)=>{const r=e.dynamicPatternsLookup({text:o,block:t});return{...e,blockPatterns:fD(r).concat(e.blockPatterns),inlinePatterns:cx(r).concat(e.inlinePatterns)}},mM=(e,t,o,r)=>{const c=e.createRng();return c.setStart(t,0),c.setEnd(o,r),c.toString()},h9=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),g3=(e,t)=>{const o=e.createRng();return o.setStartAfter(t.start),o.setEndBefore(t.end),o},g9=(e,t,o)=>{const r=dM(e.getRoot(),o).getOrDie("Unable to resolve path range"),c=r.startContainer,h=r.endContainer,v=r.endOffset===0?h:h.splitText(r.endOffset),T=r.startOffset===0?c:c.splitText(r.startOffset),k=T.parentNode,L=v.parentNode;return{prefix:t,end:L.insertBefore(h9(e,t+"-end"),v),start:k.insertBefore(h9(e,t+"-start"),T)}},p9=(e,t,o)=>{yC(e,e.get(t.prefix+"-end"),o),yC(e,e.get(t.prefix+"-start"),o)},dT=e=>e.start.length===0,wQ=e=>(t,o)=>{const c=t.data.substring(0,o),h=c.lastIndexOf(e.charAt(e.length-1)),v=c.lastIndexOf(e);return v!==-1?v+e.length:h!==-1?h+1:-1},b9=(e,t,o,r)=>{const c=t.start;return kR(e,r.container,r.offset,wQ(c),o).bind(v=>{const T=o.textContent?.indexOf(c)??-1;if(T!==-1&&v.offset>=T+c.length){const L=e.createRng();return L.setStart(v.container,v.offset-c.length),L.setEnd(v.container,v.offset),X.some(L)}else{const L=v.offset-c.length;return TR(v.container,L,o).map(W=>{const G=e.createRng();return G.setStart(W.container,W.offset),G.setEnd(v.container,v.offset),G}).filter(W=>W.toString()===c).orThunk(()=>b9(e,t,o,A0(v.container,0)))}})},CQ=(e,t,o,r,c,h=!1)=>{if(t.start.length===0&&!h){const v=e.createRng();return v.setStart(o,r),v.setEnd(o,r),X.some(v)}return SR(o,r,c).bind(v=>b9(e,t,c,v).bind(k=>{if(h){if(k.endContainer===v.container&&k.endOffset===v.offset)return X.none();if(v.offset===0&&k.endContainer.textContent?.length===k.endOffset)return X.none()}return X.some(k)}))},y9=(e,t,o,r)=>{const c=e.dom,h=c.getRoot(),v=o.pattern,T=o.position.container,k=o.position.offset;return TR(T,k-o.pattern.end.length,t).bind(L=>{const W=uM(c,h,L.container,L.offset,T,k,r);if(dT(v))return X.some({matches:[{pattern:v,startRng:W,endRng:W}],position:L});{const G=p3(e,o.remainingPatterns,L.container,L.offset,t,r),Q=G.getOr({matches:[],position:L}),ce=Q.position;return CQ(c,v,ce.container,ce.offset,t,G.isNone()).map(ge=>{const Ae=xQ(c,h,ge,r);return{matches:Q.matches.concat([{pattern:v,startRng:Ae,endRng:W}]),position:A0(ge.startContainer,ge.startOffset)}})}})},p3=(e,t,o,r,c,h)=>{const v=e.dom;return SR(o,r,v.getRoot()).bind(T=>{const k=mM(v,c,o,r);for(let L=0;L<t.length;L++){const W=t[L];if(!Si(k,W.end))continue;const G=t.slice();G.splice(L,1);const Q=y9(e,c,{pattern:W,remainingPatterns:G,position:T},h);if(Q.isNone()&&r>0)return p3(e,t,o,r-1,c,h);if(Q.isSome())return Q}return X.none()})},v9=(e,t,o)=>{e.selection.setRng(o),t.type==="inline-format"?Le(t.format,r=>{e.formatter.apply(r)}):e.execCommand(t.cmd,!1,t.value)},SQ=(e,t,o,r)=>{const c=g3(e.dom,o);h3(e.dom,c,r),v9(e,t,c)},EQ=(e,t,o,r,c)=>{const h=e.dom,v=g3(h,r),T=g3(h,o);h3(h,T,c),h3(h,v,c);const k={prefix:o.prefix,start:o.end,end:r.start},L=g3(h,k);v9(e,t,L)},TQ=(e,t)=>{const o=us("mce_textpattern"),r=Dt(t,(c,h)=>{const v=g9(e,o+`_end${c.length}`,h.endRng);return c.concat([{...h,endMarker:v}])},[]);return Dt(r,(c,h)=>{const v=r.length-c.length-1,T=dT(h.pattern)?h.endMarker:g9(e,o+`_start${v}`,h.startRng);return c.concat([{...h,startMarker:T}])},[])},AQ=e=>Ss(e,(t,o)=>o.end.length-t.end.length),kQ=(e,t)=>{const o=mr(e,r=>Ke(t,c=>r.pattern.start===c.pattern.start&&r.pattern.end===c.pattern.end));return e.length===t.length?o?e:t:e.length>t.length?e:t},x9=(e,t,o,r,c,h)=>{const v=p3(e,c.inlinePatterns,o,r,t,h).fold(()=>[],k=>k.matches),T=p3(e,AQ(c.inlinePatterns),o,r,t,h).fold(()=>[],k=>k.matches);return kQ(v,T)},hM=(e,t)=>{if(t.length===0)return;const o=e.dom,r=e.selection.getBookmark(),c=TQ(o,t);Le(c,h=>{const v=o.getParent(h.startMarker.start,o.isBlock),T=k=>k===v;dT(h.pattern)?SQ(e,h.pattern,h.endMarker,T):EQ(e,h.pattern,h.startMarker,h.endMarker,T),p9(o,h.endMarker,T),p9(o,h.startMarker,T)}),e.selection.moveToBookmark(r)},w9=(e,t,o)=>ER(t,0,t).map(r=>{const c=r.container;return AR(c,o.start.length,t).each(h=>{const v=e.createRng();v.setStart(c,0),v.setEnd(h.container,h.offset),h3(e,v,T=>T===t)}),c}),b3=e=>(t,o)=>{const r=t.dom,c=o.pattern,h=dM(r.getRoot(),o.range).getOrDie("Unable to resolve path range"),v=(T,k)=>{const L=k.get(T);return Xe(L)&&gs(L).exists(W=>Qn(W,"block"))};return vC(t,h).each(T=>{c.type==="block-format"?v(c.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,T,c),t.formatter.apply(c.format)}):c.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,T,c),t.execCommand(c.cmd,!1,c.value)})}),!0},DQ=e=>Ss(e,(t,o)=>o.start.length-t.start.length),C9=e=>(t,o)=>{const r=DQ(t),c=o.replace(qr," ");return sn(r,h=>e(h,o,c))},S9=(e,t)=>(o,r,c,h,v=r.textContent??"")=>{const T=o.dom,k=bl(o);return T.is(r,k)?e(c.blockPatterns,v).map(L=>t&&ln.trim(v).length===L.start.length?[]:[{pattern:L,range:uM(T,T.getRoot(),r,0,r,0,h)}]).getOr([]):[]},_Q=e=>/^\s[^\s]/.test(e),OQ=b3((e,t,o)=>{w9(e,t,o).each(r=>{const c=_e.fromDom(r),h=yi(c);_Q(h)&&Sp(c,h.slice(1))})}),y3=C9((e,t,o)=>t.indexOf(e.start)===0||o.indexOf(e.start)===0),NQ=S9(y3,!0),RQ=(e,t)=>{const o=e.selection.getRng();return vC(e,o).map(r=>{const c=Math.max(0,o.startOffset),h=fM(t,r,r.textContent??""),v=x9(e,r,o.startContainer,c,h,!0),T=NQ(e,r,h,!0);return{inlineMatches:v,blockMatches:T}}).filter(({inlineMatches:r,blockMatches:c})=>c.length>0||r.length>0)},MQ=(e,t)=>{if(t.length===0)return;const o=e.selection.getBookmark();Le(t,r=>OQ(e,r)),e.selection.moveToBookmark(o)},BQ=b3(w9),LQ=C9((e,t,o)=>t===e.start||o===e.start),PQ=S9(LQ,!1),FQ=(e,t)=>{const o=e.selection.getRng();return vC(e,o).map(r=>{const c=Math.max(0,o.startOffset),h=mM(e.dom,r,o.startContainer,c),v=fM(t,r,h);return PQ(e,r,v,!1,h)}).filter(r=>r.length>0)},$Q=(e,t)=>{Le(t,o=>BQ(e,o))},IQ=(e,t)=>RQ(e,t).fold(He,({inlineMatches:o,blockMatches:r})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{vb(e),hM(e,o),MQ(e,r);const c=e.selection.getRng(),h=SR(c.startContainer,c.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),h.each(v=>{const T=v.container;T.data.charAt(v.offset-1)===pi&&(T.deleteData(v.offset-1,1),yC(e.dom,T.parentNode,k=>k===e.dom.getRoot()))})}),!0)),E9=(e,t)=>{const o=e.selection.getRng();vC(e,o).map(r=>{const c=Math.max(0,o.startOffset-1),h=mM(e.dom,r,o.startContainer,c),v=fM(t,r,h),T=x9(e,r,o.startContainer,c,v,!1);T.length>0&&e.undoManager.transact(()=>{hM(e,T)})})},HQ=(e,t)=>FQ(e,t).fold(He,o=>(e.undoManager.transact(()=>{$Q(e,o)}),!0)),gM=(e,t,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],t))return!0;return!1},zQ=(e,t)=>gM(e,t,(o,r)=>o===r.keyCode&&!Ln.modifierPressed(r)),jQ=(e,t)=>gM(e,t,(o,r)=>o.charCodeAt(0)===r.charCode),T9=e=>{const t=[",",".",";",":","!","?"],o=[32],r=()=>mD(hA(e).filter(v=>v.type==="inline-command"||v.type==="block-command"?e.queryCommandSupported(v.cmd):!0),lo(e)),c=()=>Ky(e);e.on("keydown",v=>{if(v.keyCode===13&&!Ln.modifierPressed(v)&&e.selection.isCollapsed()&&e.selection.isEditable()){const T=ux(r(),"enter");(T.inlinePatterns.length>0||T.blockPatterns.length>0||c())&&IQ(e,T)&&v.preventDefault()}},!0),e.on("keydown",v=>{if(v.keyCode===32&&e.selection.isCollapsed()&&e.selection.isEditable()){const T=ux(r(),"space");(T.blockPatterns.length>0||c())&&HQ(e,T)&&v.preventDefault()}},!0);const h=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const v=ux(r(),"space");(v.inlinePatterns.length>0||c())&&E9(e,v)}};e.on("keyup",v=>{zQ(o,v)&&h()}),e.on("keypress",v=>{jQ(t,v)&&Qg.setEditorTimeout(e,h)})},fT=e=>{T9(e)},VQ=e=>{const t=ln.each,o=Ln.BACKSPACE,r=Ln.DELETE,c=e.dom,h=e.selection,v=e.parser,T=ds.browser,k=T.isFirefox(),L=T.isChromium()||T.isSafari(),W=ds.deviceType.isiPhone()||ds.deviceType.isiPad(),G=ds.os.isMacOS()||ds.os.isiOS(),Q=(Ht,En)=>{try{e.getDoc().execCommand(Ht,!1,String(En))}catch{}},ce=Ht=>Ht.isDefaultPrevented(),De=()=>{const Ht=Xn=>{const Bs=c.create("body"),Cs=Xn.cloneContents();return Bs.appendChild(Cs),h.serializer.serialize(Bs,{format:"html"})},En=Xn=>{const Bs=Ht(Xn),Cs=c.createRng();Cs.selectNode(e.getBody());const Zr=Ht(Cs);return Bs===Zr};e.on("keydown",Xn=>{const Bs=Xn.keyCode;if(!ce(Xn)&&(Bs===r||Bs===o)&&e.selection.isEditable()){const Cs=e.selection.isCollapsed(),Zr=e.getBody();if(Cs&&!fo(e.schema,Zr)||!Cs&&!En(e.selection.getRng()))return;Xn.preventDefault(),e.setContent(""),Zr.firstChild&&c.isBlock(Zr.firstChild)?e.selection.setCursorLocation(Zr.firstChild,0):e.selection.setCursorLocation(Zr,0),e.nodeChanged()}})},ge=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},Ae=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",Ht=>{let En;if(Ht.target===e.getDoc().documentElement)if(En=h.getRng(),e.getDoc().getSelection()?.anchorNode!==null&&e.getBody().focus(),Ht.type==="mousedown"){if(ad(En.startContainer))return;h.placeCaretAt(Ht.clientX,Ht.clientY)}else h.setRng(En)})},ot=()=>{e.on("keydown",Ht=>{if(!ce(Ht)&&Ht.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(h.isCollapsed()&&h.getRng().startOffset===0){const En=h.getNode(),Xn=En.previousSibling;if(En.nodeName==="HR"){c.remove(En),Ht.preventDefault();return}Xn&&Xn.nodeName&&Xn.nodeName.toLowerCase()==="hr"&&(c.remove(Xn),Ht.preventDefault())}}})},rt=()=>{Range.prototype.getClientRects||e.on("mousedown",Ht=>{if(!ce(Ht)&&Ht.target.nodeName==="HTML"){const En=e.getBody();En.blur(),Qg.setEditorTimeout(e,()=>{En.focus()})}})},ut=()=>{const Ht=rw(e);e.on("click",En=>{const Xn=En.target;/^(IMG|HR)$/.test(Xn.nodeName)&&c.isEditable(Xn)&&(En.preventDefault(),e.selection.select(Xn),e.nodeChanged()),Xn.nodeName==="A"&&c.hasClass(Xn,Ht)&&Xn.childNodes.length===0&&c.isEditable(Xn.parentNode)&&(En.preventDefault(),h.select(Xn))})},Pt=()=>{const Ht=En=>En.nodeName==="IMG"&&e.dom.isEditable(En);e.on("mousedown",En=>{Bn(X.from(En.clientX),X.from(En.clientY),(Xn,Bs)=>{const Cs=e.getDoc().caretPositionFromPoint(Xn,Bs),Zr=Cs?.offsetNode?.childNodes[Cs.offset-(Cs.offset>0?1:0)]||Cs?.offsetNode;if(qe(Zr)&&Ht(Zr)){const km=Zr.getBoundingClientRect();En.preventDefault(),e.hasFocus()||e.focus(),e.selection.select(Zr),En.clientX<km.left||En.clientY<km.top?e.selection.collapse(!0):(En.clientX>km.right||En.clientY>km.bottom)&&e.selection.collapse(!1)}})})},en=()=>{const Ht=()=>{const Xn=c.getAttribs(h.getStart().cloneNode(!1));return()=>{const Bs=h.getStart();Bs!==e.getBody()&&(c.setAttrib(Bs,"style",null),t(Xn,Cs=>{Bs.setAttributeNode(Cs.cloneNode(!0))}))}},En=()=>!h.isCollapsed()&&c.getParent(h.getStart(),c.isBlock)!==c.getParent(h.getEnd(),c.isBlock);e.on("keypress",Xn=>{let Bs;return!ce(Xn)&&(Xn.keyCode===8||Xn.keyCode===46)&&En()?(Bs=Ht(),e.getDoc().execCommand("delete",!1),Bs(),Xn.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",Xn=>{if(!ce(Xn)&&En()){const Bs=Ht();Qg.setEditorTimeout(e,()=>{Bs()})}})},Nn=()=>{e.on("keydown",Ht=>{if(!ce(Ht)&&Ht.keyCode===o&&h.isCollapsed()&&h.getRng().startOffset===0){const En=h.getNode().previousSibling;if(En&&En.nodeName&&En.nodeName.toLowerCase()==="table")return Ht.preventDefault(),!1}return!0})},io=()=>{e.on("keydown",Ht=>{if(ce(Ht)||Ht.keyCode!==Ln.BACKSPACE)return;let En=h.getRng();const Xn=En.startContainer,Bs=En.startOffset,Cs=c.getRoot();let Zr=Xn;if(!(!En.collapsed||Bs!==0)){for(;Zr.parentNode&&Zr.parentNode.firstChild===Zr&&Zr.parentNode!==Cs;)Zr=Zr.parentNode;Zr.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Zr),En=c.createRng(),En.setStart(Xn,0),En.setEnd(Xn,0),h.setRng(En))}})},Bt=()=>{const Ht=Pa("figcaption");e.on("keydown",En=>{if(En.keyCode===Ln.LEFT||En.keyCode===Ln.RIGHT){const Xn=_e.fromDom(e.selection.getNode());Ht(Xn)&&e.selection.isCollapsed()&&Wi(Xn).bind(Bs=>e.selection.getRng().startOffset===0&&En.keyCode===Ln.LEFT?Wu(Bs):e.selection.getRng().endOffset===Xn.dom.textContent?.length&&En.keyCode===Ln.RIGHT?Za(Bs):X.none()).each(Bs=>{e.selection.setCursorLocation(Bs.dom,0)})}})},Ct=()=>{const Ht=()=>{Q("StyleWithCSS",!1),Q("enableInlineTableEditing",!1),iA(e)||Q("enableObjectResizing",!1)};bx(e)||e.on("BeforeExecCommand mousedown",Ht)},Ft=()=>{const Ht=()=>{t(c.select("a:not([data-mce-block])"),En=>{let Xn=En.parentNode;const Bs=c.getRoot();if(Xn?.lastChild===En){for(;Xn&&!c.isBlock(Xn);){if(Xn.parentNode?.lastChild!==Xn||Xn===Bs)return;Xn=Xn.parentNode}c.add(Xn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",En=>{(En.type==="setcontent"||En.command==="mceInsertLink")&&Ht()})},On=()=>{e.on("init",()=>{Q("DefaultParagraphSeparator",bl(e))})},Bo=Ht=>{const En=Ht.getBody(),Xn=Ht.selection.getRng();return Xn.startContainer===Xn.endContainer&&Xn.startContainer===En&&Xn.startOffset===0&&Xn.endOffset===En.childNodes.length},Lo=()=>{e.on("keyup focusin mouseup",Ht=>{!Ln.modifierPressed(Ht)&&!Bo(e)&&h.normalize()},!0)},Ws=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Pr=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Ca=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",Ht=>{let En;Ht.target.nodeName==="HTML"&&(En=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(En),e.selection.normalize(),e.nodeChanged())}))},ti=()=>{G&&e.on("keydown",Ht=>{Ln.metaKeyPressed(Ht)&&!Ht.shiftKey&&(Ht.keyCode===37||Ht.keyCode===39)&&(Ht.preventDefault(),e.selection.getSel().modify("move",Ht.keyCode===37?"backward":"forward","lineboundary"))})},Vc=()=>{e.on("click",Ht=>{let En=Ht.target;do if(En.tagName==="A"){Ht.preventDefault();return}while(En=En.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Am=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",Ht=>{Ht.preventDefault()})})},$n=()=>{v.addNodeFilter("br",Ht=>{let En=Ht.length;for(;En--;)Ht[En].attr("class")==="Apple-interchange-newline"&&Ht[En].remove()})},go=Lt,_r=()=>{if(!k||e.removed)return!1;const Ht=e.selection.getSel();return!Ht||!Ht.rangeCount||Ht.rangeCount===0},br=()=>{L&&(Ae(),ut(),Am(),ge(),W&&(Pr(),Ca(),Vc())),k&&(rt(),Ct(),Ws(),ti())},vu=()=>{io(),De(),ds.windowsPhone||Lo(),L&&(Ae(),ut(),On(),Am(),Nn(),$n(),W?(Pr(),Ca(),Vc()):ge()),k&&(Bt(),Pt(),ot(),rt(),en(),Ct(),Ft(),Ws(),ti(),Nn())};return v0(e)?br():vu(),{refreshContentEditable:go,isHidden:_r}};class pM extends Error{url;constructor(t,o){super(t),this.url=o}}const bM={},UQ=(e,t,o)=>new Promise((r,c)=>{const h=_e.fromTag("script");Wa(h,{type:"text/javascript",src:e,...o});const v=()=>{ws(h)};vg(h,"load",()=>{v(),r()}),vg(h,"error",()=>{v(),c(new Error(`Failed to load script url: ${e}`))}),Is(xp(t),h)}),A9=async(e,t)=>{const o=sr.ScriptLoader.getScriptAttributes(e);return await UQ(e,t,o).catch(()=>Promise.reject(new pM(`Failed to load component url: ${e}`,e))),e},ZQ=e=>Gn(e,(t,o)=>No(bM,t).getOrThunk(()=>{if(fn(window.customElements.get(o))){const r=A9(t,Cl());return bM[t]=r,r}else return Promise.resolve(t)}).catch(r=>(delete bM[t],Promise.reject(r)))),k9=(e,t)=>{const o=Ma(vo(e));return tt(o,r=>A9(r,_e.fromDom(t)))},WQ=e=>{const t=e.schema.getComponentUrls();return e.inline?ZQ(t):k9(t,e.getDoc())},D9=async e=>{const t=WQ(e),o=xt(await Promise.allSettled(t),r=>r.status==="rejected");o.length>0&&Le(o,r=>{if(r.reason instanceof pM){const{url:c}=r.reason;lW(e,c)}})},qQ=e=>{D9(e)},yM=hs.DOM,GQ=(e,t)=>{const o=_e.fromDom(e.getBody()),r=Mm(ra(o)),c=_e.fromTag("style");Or(c,"type","text/css"),Is(c,_e.fromText(t)),Is(r,c),e.on("remove",()=>{ws(c)})},KQ=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,vM=e=>Yn(e,t=>xn(t)===!1),_9=e=>{const t=e.options.get,o=e.editorUpload.blobCache;return vM({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_html_in_comments:t("allow_html_in_comments"),allow_mathml_annotation_encodings:t("allow_mathml_annotation_encodings"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),extended_mathml_attributes:t("extended_mathml_attributes"),extended_mathml_elements:t("extended_mathml_elements"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:KQ(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:a0(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},O9=e=>{const t=e.options.get;return vM({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},YQ=e=>{const t=e.options.get;return{..._9(e),...O9(e),...vM({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},XQ=e=>{const t=Lw(_9(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const c=e.dom,h="data-mce-"+r;let v=o.length;for(;v--;){const T=o[v];let k=T.attr(r);if(k&&!T.attr(h)){if(k.indexOf("data:")===0||k.indexOf("blob:")===0)continue;r==="style"?(k=c.serializeStyle(c.parseStyle(k),T.name),k.length||(k=null),T.attr(h,k),T.attr(r,k)):r==="tabindex"?(T.attr(h,k),T.attr(r,null)):T.attr(h,e.convertURL(k,r,T.name))}}}),t.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const c=o[r],h=c.attr("type")||"no/type";h.indexOf("mce-")!==0&&c.attr("type","mce-"+h)}}),mS(e)&&t.addNodeFilter("#cdata",o=>{let r=o.length;for(;r--;){const c=o[r];c.type=8,c.name="#comment",c.value="[CDATA["+e.dom.encode(c.value??"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const c=e.schema.getNonEmptyElements();for(;r--;){const h=o[r];h.isEmpty(c)&&h.getAll("br").length===0&&h.append(new Hc("br",1))}}),t},N9=e=>{const t=OD(e);t&&Qg.setEditorTimeout(e,()=>{let o;t===!0?o=e:o=e.editorManager.get(t),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},xM=e=>{const t=e.dom.getRoot();!e.inline&&(!NS(e)||e.selection.getStart(!0)===t)&&I(t).each(o=>{const r=o.getNode(),c=iu(r)?I(r).getOr(o):o;e.selection.setRng(c.toRange())})},R9=e=>{e.bindPendingEventDelegates(),e.initialized=!0,HT(e),e.focus(!0),xM(e),e.nodeChanged({initial:!0});const t=_D(e);Re(t)&&t.call(e,e),N9(e),Kb(e)&&KP(e,!0)},v3=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,QQ=(e,t,o)=>{const{pass:r,fail:c}=Nt(t,T=>tinymce.Resource.has(mv(T))),v=[...r.map(T=>{const k=tinymce.Resource.get(mv(T));return J(k)?Promise.resolve(v3(e).loadRawCss(T,k)):Promise.resolve()}),v3(e).loadAll(c)];return e.inline?v:v.concat([e.ui.styleSheetLoader.loadAll(o)])},M9=e=>{const t=v3(e),o=sS(e),r=e.contentCSS,c=()=>{t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},h=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let k="";ln.each(e.contentStyles,L=>{k+=L+`\r
`}),e.dom.addStyle(k)}const v=Promise.all(QQ(e,r,o)).then(h).catch(h),T=Rb(e);return T&&GQ(e,T),v},JQ=e=>{const t=e.getDoc(),o=e.getBody();IT(e),fA(e)||(t.body.spellcheck=!1,yM.setAttrib(o,"spellcheck","false")),e.quirks=VQ(e),fr(e);const r=xD(e);r!==void 0&&(o.dir=r);const c=ND(e);c&&e.on("BeforeSetContent",h=>{ln.each(c,v=>{h.content=h.content.replace(v,T=>"<!--mce:protected "+escape(T)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",h=>{e.composing=h.type==="compositionstart"})},B9=e=>{v0(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},x3=e=>{e.removed!==!0&&(B9(e),R9(e))},eJ=e=>{let t=!1;const o=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(o),t=!0,e.setProgressState(!1)}},L9=e=>{const t=e.getElement();let o=e.getDoc();e.inline&&(yM.addClass(t,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const r=e.getBody();r.disabled=!0,e.readonly=bx(e),e._editableRoot=sw(e),!nh(e)&&e.hasEditableRoot()&&(e.inline&&yM.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=Yx(e),e.schema=Ls(O9(e)),e.dom=hs(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:sA(e),referrerPolicy:J2(e),crossOrigin:Nb(e),onSetAttrib:v=>{e.dispatch("SetAttrib",v)}}),e.parser=XQ(e),e.serializer=yO(YQ(e),e),e.selection=pO(e.dom,e.getWin(),e.serializer,e),e.annotator=VB(e),e.formatter=tF(e),e.undoManager=RW(e),e._nodeChangeDispatcher=new iX(e),e._selectionOverrides=m3(e),Yr(e),eK(e),YI(e),sK(e),v0(e)||(ZX(e),fT(e));const c=JY(e);tR(e,c),cp(e),PW(e),$X(e,c);const h=FZ(e);JQ(e),qQ(e),h.fold(()=>{const v=eJ(e);M9(e).then(()=>{x3(e),v()})},v=>{e.setProgressState(!0),M9(e).then(()=>{v().then(T=>{e.setProgressState(!1),x3(e),Gk(e)},T=>{e.notificationManager.open({type:"error",text:String(T)}),x3(e),Gk(e)})})})},mT=hs.DOM,w3=(e,t,o,r)=>{const c=_e.fromTag("iframe");return r.each(h=>Or(c,"tabindex",h)),Wa(c,o),Wa(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",...ds.browser.isFirefox()?{title:t}:{}}),pc(c,"tox-edit-area__iframe"),c},P9=e=>{let t=JC(e)+"<html><head>";eS(e)!==e.editorManager.documentBaseURL&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=KT(e),r=YT(e),c=e.translate(aw(e)),h=ds.browser.isFirefox()?"":`aria-label="${c}"`;return XT(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+XT(e)+'" />'),t+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" ${h}><br></body></html>`,t},F9=(e,t)=>{const o=aw(e),r=e.translate(o),c=dl(_e.fromDom(e.getElement()),"tabindex").bind(Ef),h=w3(e.id,r,GT(e),c).dom;h.onload=()=>{h.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=h,e.iframeHTML=P9(e),mT.add(t.iframeContainer,h)},$9=e=>{const t=e.iframeElement,o=()=>{e.contentDocument=t.contentDocument,L9(e)};if(Cx(e)||ds.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),o()}else{const r=vg(_e.fromDom(t),"load",()=>{r.unbind(),o()});t.srcdoc=e.iframeHTML}},tJ=(e,t)=>{F9(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=mT.isHidden(t.editorContainer)),e.getElement().style.display="none",mT.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,$9(e)},I9=hs.DOM,nJ=(e,t,o)=>{const r=fv.get(o),c=fv.urls[o]||e.editorManager.documentBaseURL.replace(/\/$/,"");if(o=ln.trim(o),r&&ln.inArray(t,o)===-1){if(e.plugins[o])return;try{const h=r(e,c)||{};e.plugins[o]=h,Re(h.init)&&(h.init(e,c),t.push(o))}catch(h){cW(e,o,h)}}},oJ=e=>{const t=o=>{o.keyCode===Ln.ESC&&!o.defaultPrevented&&qT(e).isDefaultPrevented()&&o.preventDefault()};document.addEventListener("keyup",t),e.inline||e.on("keyup",t),e.on("remove",()=>{document.removeEventListener("keyup",t),e.inline||e.off("keyup",t)})},N1=e=>e.replace(/^\-/,""),H9=e=>{const t=[];Le(yx(e),o=>{nJ(e,t,N1(o))})},sJ=e=>{const t=ln.trim(gx(e)),o=e.ui.registry.getAll().icons,r={...Xk.get("default").icons,...Xk.get(t).icons};Oo(r,(c,h)=>{Qn(o,h)||e.ui.registry.addIcon(h,c)})},z9=e=>{const t=Zg(e);if(J(t)){const o=Ux.get(t);e.theme=o(e,Ux.urls[t])||{},Re(e.theme.init)&&e.theme.init(e,Ux.urls[t]||e.editorManager.documentBaseURL.replace(/\/$/,""))}else e.theme={}},rJ=e=>{const t=nw(e),o=Uw.get(t);e.model=o(e,Uw.urls[t])},aJ=e=>{LO.init(e)},wM=e=>{const t=e.theme.renderUI;return t?t():V9(e)},C3=e=>{const t=e.getElement(),r=Zg(e)(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},j9=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),iJ=e=>{const t=I9.create("div");return I9.insertAfter(t,e),j9(t,t)},V9=e=>{const t=e.getElement();return e.inline?j9(null):iJ(t)},U9=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,J(Zg(e))?wM(e):Re(Zg(e))?C3(e):V9(e)},lJ=(e,t)=>{const o={show:X.from(t.show).getOr(Lt),hide:X.from(t.hide).getOr(Lt),isEnabled:X.from(t.isEnabled).getOr(dt),setEnabled:r=>{r&&(e.mode.get()==="readonly"||Kb(e))||X.from(t.setEnabled).each(h=>h(r))}};e.ui={...e.ui,...o}},Z9=async e=>{e.dispatch("ScriptsLoaded"),sJ(e),oJ(e),z9(e),rJ(e),aJ(e),H9(e);const t=await U9(e);lJ(e,X.from(t.api).getOr({})),e.editorContainer=t.editorContainer,xW(e),e.inline?L9(e):tJ(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},u2=hs.DOM,W9=e=>e.charAt(0)==="-",cJ=(e,t)=>{const o=rA(t),r=aA(t);if(!Fu.hasCode(o)&&o!=="en"){const c=Hr(r)?r:`${t.editorManager.baseURL}/langs/${o}.js`;e.add(c).catch(()=>{Wx(t,c,o)})}},uJ=(e,t)=>{const o=Zg(e);if(J(o)&&!W9(o)&&!Qn(Ux.urls,o)){const r=lA(e),c=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${t}.js`;Ux.load(o,c).catch(()=>{$P(e,c,o)})}},dJ=(e,t)=>{const o=nw(e);if(o!=="plugin"&&!Qn(Uw.urls,o)){const r=SD(e),c=J(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${t}.js`;Uw.load(o,c).catch(()=>{iW(e,c,o)})}},q9=(e,t)=>{LO.load(e,t)},S3=e=>X.from(nS(e)).filter(Hr).map(t=>({url:t,name:X.none()})),E3=(e,t,o)=>X.from(t).filter(r=>Hr(r)&&!Xk.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:X.some(r)})),fJ=(e,t,o)=>{const r=E3(t,"default",o),c=S3(t).orThunk(()=>E3(t,gx(t),""));Le(oo([r,c]),h=>{e.add(h.url).catch(()=>{aW(t,h.url,h.name.getOrUndefined())})})},G9=(e,t)=>{const o=(r,c)=>{r!=="licensekeymanager"&&fv.load(r,c).catch(()=>{FP(e,c,r)})};Oo(cS(e),(r,c)=>{o(c,r),e.options.set("plugins",yx(e).concat(c))}),Le(yx(e),r=>{r=ln.trim(r),r&&!fv.urls[r]&&!W9(r)&&o(r,`plugins/${r}/plugin${t}.js`)})},K9=e=>{const t=Zg(e);return!J(t)||qe(Ux.get(t))},mJ=e=>{const t=nw(e);return qe(Uw.get(t))},Y9=(e,t)=>{const o=sr.ScriptLoader,r=()=>{!e.removed&&K9(e)&&mJ(e)&&Z9(e)};uJ(e,t),dJ(e,t),q9(e,t),cJ(o,e),fJ(o,e,t),G9(e,t),o.loadQueue().then(r,r)},hJ=(e,t)=>jm.forElement(e,{contentCssCors:lS(t),referrerPolicy:J2(t)}),gJ=e=>{const t=e.id;Fu.setCode(rA(e));const o=()=>{u2.unbind(window,"ready",o),e.render()};if(!Ld.Event.domLoaded){u2.bind(window,"ready",o);return}if(!e.getElement())return;const r=_e.fromDom(e.getElement()),c=cs(r);e.on("remove",()=>{Je(r.dom.attributes,v=>li(r,v.name)),Wa(r,c)}),e.ui.styleSheetLoader=hJ(r,e),px(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const h=e.getElement().form||u2.getParent(t,"form");h&&(e.formElement=h,iS(e)&&!lf(e.getElement())&&(u2.insertAfter(u2.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=v=>{e.dispatch(v.type,v)},u2.bind(h,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),AD(e)&&!h.submit.nodeType&&!h.submit.length&&!h._mceOldSubmit&&(h._mceOldSubmit=h.submit,h.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),h._mceOldSubmit(h)))),e.windowManager=PP(e),e.notificationManager=EE(e),pA(e)&&e.on("GetContent",v=>{v.save&&(v.content=u2.encode(v.content))}),kD(e)&&e.on("submit",()=>{e.initialized&&e.save()}),ow(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),Y9(e,e.suffix)},X9=["#E41B60","#AD1457","#1939EC","#001CB5","#648000","#465B00","#006CE7","#0054B4","#00838F","#006064","#00866F","#004D40","#51742F","#385021","#CF4900","#A84600","#CC0000","#6A1B9A","#9C27B0","#6A00AB","#3041BA","#0A1877","#774433","#452B24","#607D8B","#455A64"],pJ=e=>Intl.Segmenter?`${new Intl.Segmenter().segment(e)[Symbol.iterator]().next().value?.segment}`:e.trim()[0],Q9=(e,t)=>{let o=5381;for(let r=0;r<e.length;r++)o=(o<<5)+o+e.charCodeAt(r);return(o>>>0)%(t+1)},J9=e=>{const t=Q9(e??"",X9.length-1);return X9[t]},eH=(e,t,o)=>{const r=o/2;return`<svg height="${o}" width="${o}" xmlns="http://www.w3.org/2000/svg"><circle cx="${r}" cy="${r}" r="${r}" fill="${t}"/><text x="50%" y="50%" text-anchor="middle" dominant-baseline="central" fill="#FFF" font-family="sans-serif" font-size="${r}">`+e+"</text></svg>"},tH=(e,t,o)=>"data:image/svg+xml,"+encodeURIComponent(eH(e,t,o)),T3=(e,t={size:36})=>tH(pJ(e.name),J9(e.id),t.size),nH=Us([o0("id"),c1("name"),c1("avatar"),Zs("custom")]),CM=e=>{const t={};return Oo(e,(o,r)=>{o.each(c=>{t[r]=c})}),t},oH=e=>{if(!Array.isArray(e))throw new Error("fetch_users must return an array");const t=tt(e,c=>gf("Invalid user object",nH,c)),{errors:o,values:r}=Sa(t);if(o.length>0){const c=tt(o,(h,v)=>`User at index ${v}: ${Jm(h)}`);console.warn(`User validation errors:
`+c.join(`
`))}return tt(r,c=>{const{id:h,name:v,avatar:T,...k}=c;return{id:h,name:v.getOr(h),avatar:T.getOr(T3({id:h,name:v.getOr(h)})),...CM(k)}})},sH=e=>{const t=new Map,o=new Map,r=L=>X.from(t.get(L)),c=(L,W)=>{t.set(W,L)},h=(L,W)=>X.from(o.get(L)).each(({reject:G})=>{G(W),o.delete(L)}),v=(L,W)=>X.from(o.get(L)).each(({resolve:G})=>{G(W),o.delete(L)}),T=L=>{const W=xA(e);if(Array.isArray(L)){if(!W)return Vs(L,Q=>Promise.resolve({id:Q,name:Q,avatar:T3({id:Q,name:Q})}))}else return{};const G=Ma(xt(L,Q=>!r(Q).isSome()));return Le(G,Q=>{const ce=new Promise((De,ge)=>{o.set(Q,{resolve:De,reject:ge})});c(ce,Q)}),G.length>0&&W(G).then(oH).then(Q=>{const ce=new Set(tt(Q,De=>De.id));Le(Q,De=>v(De.id,De)),Le(G,De=>{ce.has(De)||h(De,new Error(`User ${De} not found`))})}).catch(Q=>{Le(G,ce=>h(ce,Q instanceof Error?Q:new Error("Network error")))}),Pe(L,(Q,ce)=>(Q[ce]=r(ce).getOr(Promise.resolve({id:ce,name:ce,avatar:T3({id:ce,name:ce})})),Q),{})},k=vA(e);return Object.freeze({userId:k,fetchUsers:T})},rH=e=>sH(e),bJ=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,Kb(e)||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),WT(e,t))},yJ=e=>e._editableRoot,aH=(e,t)=>({sections:at(e),options:at(t)}),SM=bs().deviceType,EM=SM.isPhone(),iH=SM.isTablet(),d2=e=>{if(fn(e))return[];{const t=Xe(e)?e:e.split(/[ ,]/),o=tt(t,Jr);return xt(o,Hr)}},TM=(e,t)=>{const o=Kt(t,(r,c)=>Be(e,c));return aH(o.t,o.f)},A3=(e,t,o={})=>{const r=e.sections(),c=No(r,t).getOr({});return ln.extend({},o,c)},k3=(e,t)=>Qn(e.sections(),t),lH=(e,t)=>k3(e,t)?e.sections()[t]:{},cH=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:No(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),AM=(e,t)=>{const o=t.external_plugins??{};return e&&e.external_plugins?ln.extend({},e.external_plugins,o):o},uH=(e,t)=>[...d2(e),...d2(t)],dH=(e,t,o,r)=>e&&k3(t,"mobile")?r:o,vJ=(e,t,o,r)=>{const c=d2(o.forced_plugins),h=d2(r.plugins),v=lH(t,"mobile"),T=v.plugins?d2(v.plugins):h,k=dH(e,t,h,T),L=uH(c,k);return ln.extend(r,{forced_plugins:c,plugins:L})},fH=(e,t)=>e&&k3(t,"mobile"),xJ=(e,t,o,r,c)=>{const h=e?{mobile:cH(c.mobile??{},t)}:{},v=TM(["mobile"],Vt(h,c)),T=ln.extend(o,r,v.options(),fH(e,v)?A3(v,"mobile"):{},{external_plugins:AM(r,v.options())});return vJ(e,v,r,T)},wJ=(e,t)=>{const o=wn(t);return xJ(EM||iH,EM,o,e,o)},CJ=(e,t)=>TP(e,t),mH=e=>{const t=(r,c)=>{e.formatter.toggle(r,c),e.nodeChanged()},o=r=>()=>{Le("left,center,right,justify".split(","),c=>{r!==c&&e.formatter.remove("align"+c)}),r!=="none"&&t("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},SJ=e=>{const t=o=>()=>{const r=e.selection,c=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return Ke(c,h=>qe(e.formatter.matchNode(h,o)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},hH=e=>{mH(e),SJ(e)},D3=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const o=e.getDoc();let r;try{o.execCommand(t)}catch{r=!0}if(t==="paste"&&!o.queryCommandEnabled(t)&&(r=!0),r||!o.queryCommandSupported(t)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(ds.os.isMacOS()||ds.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:c,type:"error"})}}})},EJ=(e,t,o,r)=>{const c=_e.fromDom(e.getRoot());return qS(c,_t.fromRangeStart(t),r)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),fd(c,_t.fromRangeEnd(t),r)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},gH=e=>{if(typeof e!="string"){const t=ln.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},TJ=(e,t)=>{const o=e.selection,r=e.dom;return/^ | $/.test(t)?EJ(r,o.getRng(),t,e.schema):t},hT=(e,t)=>{if(e.selection.isEditable()){const{content:o,details:r}=gH(t);uE(e,{...r,content:TJ(e,o),format:"html",set:!1,selection:!0}).each(c=>{const h=qb(e,c.content,r);I5(e,h,c),e.addVisual()})}},kM=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,o,r)=>{hT(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,o,r)=>{hT(e,e.dom.encode(r))},insertHTML:(t,o,r)=>{hT(e,r)},mceInsertContent:(t,o,r)=>{hT(e,r)},mceSetContent:(t,o,r)=>{e.setContent(r)},mceReplaceContent:(t,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(BD(e))}})},AJ={"font-size":"size","font-family":"face"},kJ=Pa("font"),pH=(e,t,o)=>{const r=h=>ui(h,e).orThunk(()=>kJ(h)?No(AJ,e).bind(v=>dl(h,v)):X.none()),c=h=>ss(_e.fromDom(t),h);return Yu(_e.fromDom(o),h=>r(h),c)},DJ=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),_J=(e,t)=>X.from(hs.DOM.getStyle(t,e,!0)),bH=e=>(t,o)=>X.from(o).map(_e.fromDom).filter(fa).bind(r=>pH(e,t,r.dom).or(_J(e,r.dom))).getOr(""),OJ=bH("font-size"),NJ=F(DJ,bH("font-family")),yH=e=>I(e.getBody()).bind(t=>{const o=t.container();return X.from(dn(o)?o.parentNode:o)}),vH=e=>X.from(e.selection.getRng()).bind(t=>{const o=e.getBody();return t.startContainer===o&&t.startOffset===0?X.none():X.from(e.selection.getStart(!0))}),RJ=(e,t)=>vH(e).orThunk(le(yH,e)).map(_e.fromDom).filter(fa).bind(t),DM=(e,t)=>RJ(e,jt(X.some,t)),xH=(e,t)=>{if(/^[0-9.]+$/.test(t)){const o=parseInt(t,10);if(o>=1&&o<=7){const r=hS(e),c=gS(e);return c.length>0?c[o-1]||t:r[o-1]||t}else return t}else return t},MJ=e=>{const t=e.split(/\s*,\s*/);return tt(t,o=>o.indexOf(" ")!==-1&&!(Co(o,'"')||Co(o,"'"))?`'${o}'`:o).join(",")},n=(e,t)=>{const o=xH(e,t);e.formatter.toggle("fontname",{value:MJ(o)}),e.nodeChanged()},s=e=>DM(e,t=>NJ(e.getBody(),t.dom)).getOr(""),i=(e,t)=>{e.formatter.toggle("fontsize",{value:xH(e,t)}),e.nodeChanged()},f=e=>DM(e,t=>OJ(e.getBody(),t.dom)).getOr(""),b=e=>DM(e,t=>{const o=_e.fromDom(e.getBody()),r=Yu(t,h=>ui(h,"line-height"),le(ss,o)),c=()=>{const h=parseFloat(ka(t,"line-height")),v=parseFloat(ka(t,"font-size"));return String(h/v)};return r.getOrThunk(c)}).getOr(""),w=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},S=e=>{const t=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{t(o)},"ForeColor,HiliteColor":(o,r,c)=>{t(o,{value:c})},BackColor:(o,r,c)=>{t("hilitecolor",{value:c})},FontName:(o,r,c)=>{n(e,c)},FontSize:(o,r,c)=>{i(e,c)},LineHeight:(o,r,c)=>{w(e,c)},Lang:(o,r,c)=>{t(o,{value:c.code,customValue:c.customCode??null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(o,r,c)=>{t(J(c)?c:"p")},mceToggleFormat:(o,r,c)=>{t(c)}})},_=e=>{const t=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>t(o),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>s(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>f(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>b(e))},M=e=>{S(e),_(e)},H=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},Z=e=>{e.editorCommands.addCommands({Indent:()=>{k7(e)},Outdent:()=>{ey(e)}}),e.editorCommands.addCommands({Outdent:()=>E7(e),Indent:()=>XG(e)},"state")},K=e=>{const t=(o,r,c)=>{if(e.mode.isReadOnly())return;const h=J(c)?{href:c}:c,v=e.dom.getParent(e.selection.getNode(),"a");vt(h)&&J(h.href)&&(h.href=h.href.replace(/ /g,"%20").replace(/&amp;/g,"&"),(!v||!h.href)&&e.formatter.remove("link"),h.href&&e.formatter.apply("link",h,v))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},ae=(e,t,o,r)=>{const c=e.dom,h=T=>c.isBlock(T)&&T.parentElement===o,v=h(t)?t:c.getParent(r,h,o);return X.from(v).map(_e.fromDom)},he=(e,t)=>{if(e.mode.isReadOnly())return;const o=e.dom,r=e.selection.getRng(),c=t?e.selection.getStart():e.selection.getEnd(),h=t?r.startContainer:r.endContainer,v=QE(o,h);if(!v||!v.isContentEditable)return;const T=t?ul:Sl,k=bl(e);ae(e,c,v,h).each(L=>{const W=G$(e,h,L.dom,v,!1,k);T(L,_e.fromDom(W)),e.selection.setCursorLocation(W,0),e.dispatch("NewBlock",{newBlock:W}),YE(e,"insertParagraph")})},xe=e=>he(e,!0),Oe=e=>he(e,!1),ze=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{xe(e)},InsertNewBlockAfter:()=>{Oe(e)}})},Te=e=>{e.editorCommands.addCommands({insertParagraph:()=>{X4(eT,e)},mceInsertNewLine:(t,o,r)=>{dI(e,r)},InsertLineBreak:(t,o,r)=>{X4(aI,e)}})},Ye=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,o,r)=>{let c=0;e.dom.getParent(e.selection.getNode(),h=>Sn(h)&&c++===r?(e.selection.select(h),!1):!0,e.getBody())},mceSelectNode:(t,o,r)=>{e.selection.select(r)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),Mu);if(t){const o=e.dom.createRng();o.selectNodeContents(t),e.selection.setRng(o)}}})},st=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,o,r)=>{const c=r??e.selection.getNode();if(c!==e.getBody()){const h=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(h)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,o,r)=>{QB(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},wt=e=>{hH(e),D3(e),H(e),Ye(e),kM(e),K(e),Z(e),ze(e),Te(e),M(e),st(e)},Ot=["toggleview"],kn=e=>Be(Ot,e.toLowerCase());class Jt{editor;commands={state:{},exec:{},value:{}};constructor(t){this.editor=t}execCommand(t,o=!1,r,c){const h=this.editor,v=t.toLowerCase(),T=c?.skip_focus;if(h.removed||(v!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(v)&&!T?h.focus():Vz(h)),h.dispatch("BeforeExecCommand",{command:t,ui:o,value:r}).isDefaultPrevented()))return!1;const L=this.commands.exec[v];return Re(L)?(L(v,o,r,c),h.dispatch("ExecCommand",{command:t,ui:o,value:r,args:c}),!0):!1}queryCommandState(t){if(!kn(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=t.toLowerCase(),r=this.commands.state[o];return Re(r)?r(o):!1}queryCommandValue(t){if(!kn(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=t.toLowerCase(),r=this.commands.value[o];return Re(r)?r(o):""}addCommands(t,o="exec"){const r=this.commands;Oo(t,(c,h)=>{Le(h.toLowerCase().split(","),v=>{r[o][v]=c})})}addCommand(t,o,r){const c=t.toLowerCase();this.commands.exec[c]=(h,v,T,k)=>o.call(r??this.editor,v,T,k)}removeCommand(t,o){const r=t.toLowerCase();o?delete this.commands[o][r]:(delete this.commands.exec[r],delete this.commands.state[r],delete this.commands.value[r])}queryCommandSupported(t){const o=t.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(t,o,r){this.commands.state[t.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(t,o,r){this.commands.value[t.toLowerCase()]=()=>o.call(r??this.editor)}}const rn=ln.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class on{static isNative(t){return!!rn[t.toLowerCase()]}settings;scope;toggleEvent;bindings={};constructor(t){this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||He}fire(t,o){return this.dispatch(t,o)}dispatch(t,o){const r=t.toLowerCase(),c=Ip(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const h=this.bindings[r];if(h)for(let v=0,T=h.length;v<T;v++){const k=h[v];if(!k.removed){if(k.once&&this.off(r,k.func),c.isImmediatePropagationStopped())return c;if(k.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(t,o,r,c){if(o===!1&&(o=He),o){const h={func:o,removed:!1};c&&ln.extend(h,c);const v=t.toLowerCase().split(" ");let T=v.length;for(;T--;){const k=v[T];let L=this.bindings[k];L||(L=[],this.toggleEvent(k,!0)),r?L=[h,...L]:L=[...L,h],this.bindings[k]=L}}return this}off(t,o){if(t){const r=t.toLowerCase().split(" ");let c=r.length;for(;c--;){const h=r[c];let v=this.bindings[h];if(!h)return Oo(this.bindings,(T,k)=>{this.toggleEvent(k,!1),delete this.bindings[k]}),this;if(v){if(!o)v.length=0;else{const T=Nt(v,k=>k.func===o);v=T.fail,this.bindings[h]=v,Le(T.pass,k=>{k.removed=!0})}v.length||(this.toggleEvent(t,!1),delete this.bindings[h])}}}else Oo(this.bindings,(r,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(t,o,r){return this.on(t,o,r,{once:!0})}has(t){t=t.toLowerCase();const o=this.bindings[t];return!(!o||o.length===0)}}const mo=e=>(e._eventDispatcher||(e._eventDispatcher=new on({scope:e,toggleEvent:(t,o)=>{on.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,o)}})),e._eventDispatcher),to={fire(e,t,o){return dE("fire"),this.dispatch(e,t,o)},dispatch(e,t,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return Ip(e.toLowerCase(),t??{},r);const c=mo(r).dispatch(e,t);if(o!==!1&&r.parent){let h=r.parent();for(;h&&!c.isPropagationStopped();)h.dispatch(e,c,!1),h=h.parent?h.parent():void 0}return c},on(e,t,o){return mo(this).on(e,t,o)},off(e,t){return mo(this).off(e,t)},once(e,t){return mo(this).once(e,t)},hasEventListeners(e){return mo(this).has(e)}},ys=hs.DOM;let ho;const Vo=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const o=tw(e);return o?(e.eventRoot||(e.eventRoot=ys.select(o)[0]),e.eventRoot):e.getBody()},no=e=>!e.hidden&&!Kb(e),Yt=(e,t,o)=>{no(e)?e.dispatch(t,o):Kb(e)&&gW(e,o)},vn=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const o=Vo(e,t);if(tw(e)){if(ho||(ho={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||ho&&(Oo(ho,(c,h)=>{e.dom.unbind(Vo(e,h))}),ho=null)})),ho[t])return;const r=c=>{const h=c.target,v=e.editorManager.get();let T=v.length;for(;T--;){const k=v[T].getBody();(k===h||ys.isChildOf(h,k))&&Yt(v[T],t,c)}};ho[t]=r,ys.bind(o,t,r)}else{const r=c=>{Yt(e,t,c)};ys.bind(o,t,r),e.delegates[t]=r}},To={...to,bindPendingEventDelegates(){const e=this;ln.each(e._pendingNativeEvents,t=>{vn(e,t)})},toggleNativeEvent(e,t){const o=this;e==="focus"||e==="blur"||o.removed||(t?o.initialized?vn(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(Vo(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),o=e.dom;e.delegates&&(Oo(e.delegates,(r,c)=>{e.dom.unbind(Vo(e,c),c,r)}),delete e.delegates),!e.inline&&t&&o&&(t.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(t),o.unbind(e.getContainer()))}},Ko=e=>J(e)?{value:e.split(/[ ,]/),valid:!0}:yt(e,J)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},ao=e=>{const t=(()=>{switch(e){case"array":return Xe;case"boolean":return ct;case"function":return Re;case"number":return Qo;case"object":return vt;case"string":return J;case"string[]":return Ko;case"object[]":return o=>yt(o,vt);case"regexp":return o=>Se(o,RegExp);default:return dt}})();return o=>zu(o,t,`The value must be a ${e}.`)},qo=e=>J(e.processor),Ur=(e,t)=>{const o=wu(t.message)?"":`. ${t.message}`;return e+o},pr=e=>e.valid,zu=(e,t,o="")=>{const r=t(e);return ct(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},ei=(e,t,o)=>{if(!xn(t)){const r=zu(t,o);if(pr(r))return r.value;console.error(Ur(`Invalid default value passed for the "${e}" option`,r))}},Kf=(e,t,o=t)=>{const r={},c={},h=(ce,De,ge)=>{const Ae=zu(De,ge);return pr(Ae)?(c[ce]=Ae.value,!0):(console.warn(Ur(`Invalid value passed for the ${ce} option`,Ae)),!1)},v=(ce,De)=>{const ge=qo(De)?ao(De.processor):De.processor,Ae=ei(ce,De.default,ge);r[ce]={...De,default:Ae,processor:ge},No(c,ce).orThunk(()=>No(t,ce)).each(rt=>h(ce,rt,ge))},T=ce=>Qn(r,ce);return{register:v,isRegistered:T,get:ce=>No(c,ce).orThunk(()=>No(r,ce).map(De=>De.default)).getOrUndefined(),set:(ce,De)=>{if(T(ce)){const ge=r[ce];return ge.immutable?(console.error(`"${ce}" is an immutable option and cannot be updated`),!1):h(ce,De,ge.processor)}else return console.warn(`"${ce}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:ce=>{const De=T(ce);return De&&delete c[ce],De},isSet:ce=>Qn(c,ce),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(ce,De)=>ct(De)||Qo(De)||J(De)||ie(De)||Xe(De)||Gt(De)?De:Object.prototype.toString.call(De))))}catch(ce){console.error(ce)}}}},jc=(e,t)=>{e.dom.contentEditable="true"},dh=(e,t)=>{const o=_e.fromDom(e.getBody());t?(e.readonly=!0,e.hasEditableRoot()&&jc(o),$O(e)):(e.readonly=!1,GP(e))},bu=e=>e.readonly,ug=e=>{const t=e.undoManager.add();qe(t)&&(e.undoManager.undo(),e.undoManager.reset())},Sv=e=>Ke(e,t=>t.type==="characterData"||t.type==="childList"),R1=e=>{const t=r=>{bu(e)&&Sv(r)&&ug(e)},o=new MutationObserver(t);e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",r=>{bu(e)&&r.preventDefault()}),e.on("BeforeExecCommand",r=>{(r.command==="Undo"||r.command==="Redo")&&bu(e)&&r.preventDefault()}),e.on("compositionstart",()=>{bu(e)&&o.observe(e.getBody(),{characterData:!0,childList:!0,subtree:!0})}),e.on("compositionend",()=>{if(bu(e)){const r=o.takeRecords();t(r)}o.disconnect()})},xC=["design","readonly"],M1=(e,t,o,r)=>{const c=o[t.get()],h=o[r];try{h.activate()}catch(v){console.error(`problem while activating editor mode ${r}:`,v);return}c.deactivate(),c.editorReadOnly!==h.editorReadOnly&&dh(e,h.editorReadOnly),t.set(r),gD(e,r)},gT=(e,t,o,r)=>{if(!(r===o.get()||e.initialized&&Kb(e))){if(!Qn(t,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?M1(e,o,t,r):e.on("init",()=>M1(e,o,t,r))}},_M=(e,t,o)=>{if(Be(xC,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${t}:`,r)}}}}},wC=e=>{const t=Pn("design"),o=Pn({design:{activate:Lt,deactivate:Lt,editorReadOnly:!1},readonly:{activate:Lt,deactivate:Lt,editorReadOnly:!0}});return R1(e),pW(e),{isReadOnly:()=>bu(e),set:r=>gT(e,o.get(),t,r),get:()=>t.get(),register:(r,c)=>{o.set(_M(o.get(),r,c))}}},CC=ln.each,SC=ln.explode,wH={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},OM=ln.makeMap("alt,ctrl,shift,meta,access"),BJ=e=>e in OM,NM=e=>{const t={},o=ds.os.isMacOS()||ds.os.isiOS();CC(SC(e.toLowerCase(),"+"),h=>{BJ(h)?t[h]=!0:/^[0-9]{2,}$/.test(h)?t.keyCode=parseInt(h,10):(t.charCode=h.charCodeAt(0),t.keyCode=wH[h]||h.toUpperCase().charCodeAt(0))});const r=[t.keyCode];let c;for(c in OM)t[c]?r.push(c):t[c]=!1;return t.id=r.join(","),t.access&&(t.alt=!0,o?t.ctrl=!0:t.shift=!0),t.meta&&(o?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class EC{editor;shortcuts={};pendingPatterns=[];constructor(t){this.editor=t;const o=this;t.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(CC(o.shortcuts,c=>{o.matchShortcut(r,c)&&(o.pendingPatterns=c.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(c))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(t,o,r,c){const h=this,v=h.normalizeCommandFunc(r);return CC(SC(ln.trim(t)),T=>{const k=h.createShortcut(T,o,v,c);h.shortcuts[k.id]=k}),!0}remove(t){const o=this.createShortcut(t);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(t){const o=this,r=t;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:ln.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(t,o,r,c){const h=ln.map(SC(t,">"),NM);return h[h.length-1]=ln.extend(h[h.length-1],{func:r,scope:c||this.editor}),ln.extend(h[0],{desc:this.editor.translate(o),subpatterns:h.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,o){return!o||o.ctrl!==t.ctrlKey||o.meta!==t.metaKey||o.alt!==t.altKey||o.shift!==t.shiftKey?!1:t.keyCode===o.keyCode||t.charCode&&t.charCode===o.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const TC=()=>{const e=QK();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},up=hs.DOM,RM=ln.extend,CH=ln.each;class pT{baseUri;id;editorUid;plugins={};documentBaseURI;baseURI;contentCSS=[];contentStyles=[];ui;mode;options;editorUpload;userLookup;shortcuts;loadedCSS={};editorCommands;suffix;editorManager;hidden;inline;hasVisual;isNotDirty=!1;annotator;bodyElement;bookmark;composing=!1;container;contentAreaContainer;contentDocument;contentWindow;delegates;destroyed=!1;dom;editorContainer;eventRoot;formatter;formElement;formEventDelegate;hasHiddenInput=!1;iframeElement=null;iframeHTML;initialized=!1;notificationManager;orgDisplay;orgVisibility;parser;quirks;readonly=!1;removed=!1;schema;selection;serializer;startContent="";targetElm;theme;model;undoManager;windowManager;licenseKeyManager;_beforeUnload;_eventDispatcher;_nodeChangeDispatcher;_pendingNativeEvents=[];_selectionOverrides;_skinLoaded=!1;_editableRoot=!0;bindPendingEventDelegates;toggleNativeEvent;unbindAllNativeEvents;fire;dispatch;on;off;once;hasEventListeners;constructor(t,o,r){this.editorManager=r,RM(this,To);const c=this;this.id=t,this.editorUid=ko(),this.hidden=!1;const h=wJ(r.defaultOptions,o);this.options=Kf(c,h,o),hx(c),this.userLookup=rH(this);const v=this.options.get;v("deprecation_warnings")&&VU(o,h);const T=v("suffix");T&&(r.suffix=T),this.suffix=r.suffix;const k=v("base_url");k&&r._setBaseUrl(k),this.baseUri=r.baseURI;const L=J2(c);L&&(sr.ScriptLoader._setReferrerPolicy(L),hs.DOM.styleSheetLoader._setReferrerPolicy(L)),sr.ScriptLoader._setCrossOrigin(ce=>Nb(c)(ce,"script")),hs.DOM.styleSheetLoader._setCrossOrigin(ce=>Nb(c)(ce,"stylesheet"));const W=lS(c);qe(W)&&hs.DOM.styleSheetLoader._setContentCssCors(W),Xi.languageLoad=v("language_load"),Xi.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new op(eS(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=px(c),this.hasVisual=vx(c),this.shortcuts=new EC(this),this.editorCommands=new Jt(this),wt(this);const G=v("cache_suffix");G&&(ds.cacheSuffix=G.replace(/^[\?\&]+/,"")),this.ui={registry:TC(),styleSheetLoader:void 0,show:Lt,hide:Lt,setEnabled:Lt,isEnabled:dt},this.mode=wC(c),Object.defineProperty(this,"editorUid",{writable:!1,configurable:!1,enumerable:!0}),r.dispatch("SetupEditor",{editor:this});const Q=Mb(c);Re(Q)&&Q.call(c,c)}render(){gJ(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return kw(this)}translate(t){return Fu.translate(t)}getParam(t,o,r){const c=this.options;return c.isRegistered(t)||(qe(r)?c.register(t,{processor:r,default:o}):c.register(t,{processor:dt,default:o})),!c.isSet(t)&&!xn(o)?o:c.get(t)}hasPlugin(t,o){return Be(yx(this),t)?o?fv.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,o,r){this.editorCommands.addCommand(t,o,r)}addQueryStateHandler(t,o,r){this.editorCommands.addQueryStateHandler(t,o,r)}addQueryValueHandler(t,o,r){this.editorCommands.addQueryValueHandler(t,o,r)}addShortcut(t,o,r,c){this.shortcuts.add(t,o,r,c)}execCommand(t,o,r,c){return this.editorCommands.execCommand(t,o,r,c)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(up.show(t.getContainer()),up.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(up.hide(t.getContainer()),up.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,o){this.dispatch("ProgressState",{state:t,time:o})}load(t={}){const o=this,r=o.getElement();if(!o.removed&&r){const c={...t,load:!0},h=lf(r)?r.value:r.innerHTML;o.setContent(h,c),c.no_events||o.dispatch("LoadContent",{...c,element:r})}}save(t={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const c={...t,save:!0,element:r};let h=o.getContent(c);const v={...c,content:h};if(v.no_events||o.dispatch("SaveContent",v),v.format==="raw"&&o.dispatch("RawSaveContent",v),h=v.content,lf(r))r.value=h;else{(t.is_removing||!o.inline)&&(r.innerHTML=h);const T=up.getParent(o.id,"form");T&&CH(T.elements,k=>k.name===o.id?(k.value=h,!1):!0)}return v.element=c.element=r=null,v.set_dirty!==!1&&o.setDirty(!1),h}setContent(t,o){vO(this,t,o)}getContent(t){return JZ(this,t)}insertContent(t,o){o&&(t=RM({content:t},o)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?vO(this,this.startContent,{initial:!0,format:"raw"}):vO(this,t,{initial:!0}),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const o=!this.isNotDirty;this.isNotDirty=!t,t&&t!==o&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||up.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=up.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const o=t.iframeElement;o&&(t.contentWindow=o.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const o=t.getWin();o&&(t.contentDocument=o.document)}return t.contentDocument}getBody(){const t=this.getDoc();return this.bodyElement??t?.body??null}convertURL(t,o,r){const c=this,h=c.options.get,v=Wg(c);if(Re(v))return v.call(c,t,r,!0,o);if(!h("convert_urls")||r==="link"||vt(r)&&r.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const T=new op(t);return T.protocol!=="http"&&T.protocol!=="https"&&T.protocol!==""?t:h("relative_urls")?c.documentBaseURI.toRelative(t):(t=c.documentBaseURI.toAbsolute(t,h("remove_script_host")),t)}addVisual(t){CJ(this,t)}setEditableRoot(t){bJ(this,t)}hasEditableRoot(){return yJ(this)}remove(){wO(this)}destroy(t){LP(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Ev=hs.DOM,bT=ln.each;let yT=!1,f2,lc=[];const oy=e=>{const t=e.type;bT(k0.get(),o=>{switch(t){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},_3=e=>{if(e!==yT){const t=hs.DOM;e?(t.bind(window,"resize",oy),t.bind(window,"scroll",oy)):(t.unbind(window,"resize",oy),t.unbind(window,"scroll",oy)),yT=e}},O3=e=>{const t=lc;return lc=xt(lc,o=>e!==o),k0.activeEditor===e&&(k0.activeEditor=lc.length>0?lc[0]:null),k0.focusedEditor===e&&(k0.focusedEditor=null),t.length!==lc.length},LJ=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(O3(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},N3=document.compatMode!=="CSS1Compat",k0={...to,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,pageUid:ko(),majorVersion:"8",minorVersion:"3.2",releaseDate:"2026-01-14",i18n:Fu,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",o="",r=op.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)t=c.base||c.baseURL,o=c.suffix;else{const h=document.getElementsByTagName("script");for(let v=0;v<h.length;v++){const T=h[v].src||"";if(T==="")continue;const k=T.substring(T.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(T)){k.indexOf(".min")!==-1&&(o=".min"),t=T.substring(0,T.lastIndexOf("/"));break}}if(!t&&document.currentScript){const v=document.currentScript.src;v.indexOf(".min")!==-1&&(o=".min"),t=v.substring(0,v.lastIndexOf("/"))}}e.baseURL=new op(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new op(e.baseURL),e.suffix=o,GB(e),Le(["majorVersion","minorVersion","releaseDate","pageUid","_addLicenseKeyManager"],h=>Object.defineProperty(e,h,{writable:!1,configurable:!1,enumerable:!0}))},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&Oo(r,(c,h)=>{Xi.PluginManager.urls[h]=c})},init(e){const t=this;let o;const r=ln.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=(W,G)=>W.inline&&G.tagName.toLowerCase()in r,h=W=>{let G=W.id;return G||(G=No(W,"name").filter(Q=>!Ev.get(Q)).getOrThunk(Ev.uniqueId),W.setAttribute("id",G)),G},v=W=>{const G=e[W];if(G)return G.apply(t,[])},T=W=>ds.browser.isIE()||ds.browser.isEdge()?(Jk("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/8/support/#supportedwebbrowsers"),[]):N3?(Jk("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):J(W.selector)?Ev.select(W.selector):qe(W.target)?[W.target]:[];let k=W=>{o=W};const L=()=>{let W=0;const G=[];let Q;const ce=(De,ge,Ae)=>{const ot=new pT(De,ge,t);G.push(ot),ot.on("init",()=>{++W===Q.length&&k(G)}),ot.targetElm=ot.targetElm||Ae,ot.render()};Ev.unbind(window,"ready",L),v("onpageload"),Q=Ma(T(e)),ln.each(Q,De=>{LJ(t.get(De.id))}),Q=ln.grep(Q,De=>!t.get(De.id)),Q.length===0?k([]):bT(Q,De=>{c(e,De)?Jk("Could not initialize inline editor on invalid inline target element",De):ce(h(De),e,De)})};return Ev.bind(window,"ready",L),new Promise(W=>{o?W(o):k=G=>{W(G)}})},get(e){return arguments.length===0?lc.slice(0):J(e)?sn(lc,t=>t.id===e).getOr(null):Qo(e)&&lc[e]?lc[e]:null},add(e){const t=this,o=t.get(e.id);return o===e||(o===null&&lc.push(e),_3(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),f2||(f2=r=>{const c=t.dispatch("BeforeUnload");if(c.returnValue)return r.preventDefault(),r.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",f2))),e},createEditor(e,t){return this.add(new pT(e,t,this))},remove(e){const t=this;let o;if(!e){for(let r=lc.length-1;r>=0;r--)t.remove(lc[r]);return}if(J(e)){bT(Ev.select(e),r=>{o=t.get(r.id),o&&t.remove(o)});return}return o=e,ie(t.get(o.id))?null:(O3(o)&&t.dispatch("RemoveEditor",{editor:o}),lc.length===0&&window.removeEventListener("beforeunload",f2),o.remove(),_3(lc.length>0),o)},execCommand(e,t,o){const r=this,c=vt(o)?o.id??o.index:o;switch(e){case"mceAddEditor":{if(!r.get(c)){const h=o.options;new pT(c,h,r).render()}return!0}case"mceRemoveEditor":{const h=r.get(c);return h&&h.remove(),!0}case"mceToggleEditor":{const h=r.get(c);return h?(h.isHidden()?h.show():h.hide(),!0):(r.execCommand("mceAddEditor",!1,o),!0)}}return r.activeEditor?r.activeEditor.execCommand(e,t,o):!1},triggerSave:()=>{bT(lc,e=>{e.save()})},addI18n:(e,t)=>{Fu.add(e,t)},translate:e=>Fu.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new op(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new op(this.baseURL)},_addLicenseKeyManager:e=>LO.add(e)};k0.setup();const vT=(()=>{const e=Fs(),t=h=>({items:h,types:Hn(h),getType:v=>No(h,v).getOrUndefined()}),o=h=>{e.set(h)},r=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:t,write:o,read:r,clear:c}})(),SH=Math.min,AC=Math.max,yu=Math.round,m2=(e,t,o)=>{let r=t.x,c=t.y;const h=e.w,v=e.h,T=t.w,k=t.h,L=(o||"").split("");return L[0]==="b"&&(c+=k),L[1]==="r"&&(r+=T),L[0]==="c"&&(c+=yu(k/2)),L[1]==="c"&&(r+=yu(T/2)),L[3]==="b"&&(c-=v),L[4]==="r"&&(r-=h),L[3]==="c"&&(c-=yu(v/2)),L[4]==="c"&&(r-=yu(h/2)),h2(r,c,h,v)},PJ=(e,t,o,r)=>{for(let c=0;c<r.length;c++){const h=m2(e,t,r[c]);if(h.x>=o.x&&h.x+h.w<=o.w+o.x&&h.y>=o.y&&h.y+h.h<=o.h+o.y)return r[c]}return null},EH=(e,t,o)=>h2(e.x-t,e.y-o,e.w+t*2,e.h+o*2),MM=(e,t)=>{const o=AC(e.x,t.x),r=AC(e.y,t.y),c=SH(e.x+e.w,t.x+t.w),h=SH(e.y+e.h,t.y+t.h);return c-o<0||h-r<0?null:h2(o,r,c-o,h-r)},TH=(e,t,o)=>{let r=e.x,c=e.y,h=e.x+e.w,v=e.y+e.h;const T=t.x+t.w,k=t.y+t.h,L=AC(0,t.x-r),W=AC(0,t.y-c),G=AC(0,h-T),Q=AC(0,v-k);return r+=L,c+=W,o&&(h+=L,v+=W,r-=G,c-=Q),h-=G,v-=Q,h2(r,c,h-r,v-c)},h2=(e,t,o,r)=>({x:e,y:t,w:o,h:r}),B1={inflate:EH,relativePosition:m2,findBestRelativePosition:PJ,intersect:MM,clamp:TH,create:h2,fromClientRect:e=>h2(e.left,e.top,e.width,e.height)},kC=(e,t,o=1e3)=>{let r=!1,c=null;const h=L=>(...W)=>{r||(r=!0,c!==null&&(window.clearTimeout(c),c=null),L.apply(null,W))},v=h(e),T=h(t);return{start:(...L)=>{!r&&c===null&&(c=window.setTimeout(()=>T.apply(null,L),o))},resolve:v,reject:T}},AH=(()=>{const e={},t={},o={};return{load:(k,L)=>{const W=`Script at URL "${L}" failed to load`,G=`Script at URL "${L}" did not call \`tinymce.Resource.add('${k}', data)\` within 1 second`;if(e[k]!==void 0)return e[k];{const Q=new Promise((ce,De)=>{const ge=kC(ce,De);t[k]=ge.resolve,sr.ScriptLoader.loadScript(L).then(()=>ge.start(G),()=>ge.reject(W))});return e[k]=Q,Q}},add:(k,L)=>{t[k]!==void 0&&(t[k](L),delete t[k]),e[k]=Promise.resolve(L),o[k]=L},has:k=>k in o,get:k=>o[k],unload:k=>{delete e[k],delete o[k]}}})(),BM=()=>(()=>{let e={},t=[];const o={getItem:r=>{const c=e[r];return c||null},setItem:(r,c)=>{t.push(r),e[r]=String(c)},key:r=>t[r],removeItem:r=>{t=t.filter(c=>c===r),delete e[r]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),o})();let DC;try{const e="__storage_test__";DC=window.localStorage,DC.setItem(e,e),DC.removeItem(e)}catch{DC=BM()}var sy=DC;const kH={geom:{Rect:B1},util:{Delay:Qg,Tools:ln,VK:Ln,URI:op,EventDispatcher:on,Observable:to,I18n:Fu,LocalStorage:sy,ImageUploader:QP},dom:{EventUtils:Ld,TreeWalker:Ka,TextSeeker:du,DOMUtils:hs,ScriptLoader:sr,RangeUtils:f0,Serializer:yO,StyleSheetLoader:Bp,ControlSelection:oj,BookmarkManager:Tw,Selection:pO,Event:Ld.Event},html:{Styles:mm,Entities:ed,Node:Hc,Schema:Ls,DomParser:Lw,Writer:E_,Serializer:tv},Env:ds,AddOnManager:Xi,Annotator:VB,Formatter:tF,UndoManager:RW,EditorCommands:Jt,WindowManager:PP,NotificationManager:EE,EditorObservable:To,Shortcuts:EC,Editor:pT,FocusManager:WB,EditorManager:k0,DOM:hs.DOM,ScriptLoader:sr.ScriptLoader,PluginManager:fv,ThemeManager:Ux,ModelManager:Uw,IconManager:Xk,Resource:AH,FakeClipboard:vT,trim:ln.trim,isArray:ln.isArray,is:ln.is,toArray:ln.toArray,makeMap:ln.makeMap,each:ln.each,map:ln.map,grep:ln.grep,inArray:ln.inArray,extend:ln.extend,walk:ln.walk,resolve:ln.resolve,explode:ln.explode,_addCacheSuffix:ln._addCacheSuffix},LM=ln.extend(k0,kH),DH=e=>{try{l.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(LM),DH(LM)})()})(See)),See.exports}Yve();var Rre={},Mre={},Bre;function Xve(){return Bre||(Bre=1,tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',"checkmark-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.8 5a1 1 0 0 0-1.4.3l-5.4 8-2-2.1a1 1 0 1 0-1.5 1.4l3 3a1 1 0 0 0 1.5-.2l6-9a1 1 0 0 0-.2-1.4Z"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',"close-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.7 5.3a1 1 0 0 0-1.3 0L12 10.6 8.6 7.3a1 1 0 0 0-1.3 1.3l3.3 3.4-3.3 3.4a1 1 0 0 0 1.3 1.3l3.4-3.3 3.4 3.3a1 1 0 0 0 1.3-1.3L13.4 12l3.3-3.4a1 1 0 0 0 0-1.3Z"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-gear-properties":'<svg height="24" width="24"><path d="M17.3 14.5a7.1 7.1 0 0 1 1.2.6l1.5-.5 1 1.8-1.2 1V18.7l1.2 1-1 1.6-1.5-.4a4.5 4.5 0 0 1-.6.3 7.1 7.1 0 0 1-.6.3L17 23h-2l-.3-1.5a7.4 7.4 0 0 1-.6-.3 4.5 4.5 0 0 1-.6-.3l-1.5.5-1-1.8 1.2-1a3.9 3.9 0 0 1 0-.6v-.7l-1.2-1 1-1.6 1.5.4a4.5 4.5 0 0 1 1.2-.6L15 13h2zM16 16a2 2 0 0 0-1.5.6A1.9 1.9 0 0 0 14 18c0 .6.2 1 .6 1.4s1 .6 1.5.6 1-.2 1.5-.6.6-.8.6-1.4-.2-1-.6-1.4A2 2 0 0 0 16 16z" fill-rule="evenodd"/><path d="M19 7.6V12h-2V9h-4V5H7v14h3v2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h7.4z"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',feedback:'<svg width="24" height="24"><path fill-rule="evenodd" d="M16 6c1 0 2 1 2 2v5c0 1-1 2-2 2h-3l-4 3v-3H8c-1 0-2-1-2-2V8c0-1 1-2 2-2h8Zm-7 5v1h4v-1H9Zm0-2v1h6V9H9Z"/></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg height="48" width="48"><path d="M8 14a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 34a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-default":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M12 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M16 31h6v6h-6z"/><path d="M16 31h6v6h-6z"/><path d="M18 12h22v4H18zm4 10h18v4H22zm4 10h14v4H26z" opacity=".2"/></svg>',"list-bull-disc":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-square":'<svg height="48" width="48"><path d="M8 21h6v6H8zm0 10h6v6H8zm0-20h6v6H8z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',"suggestededits-badge":'<svg height="24" width="24"><path d="M11 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9.7a6 6 0 0 1-2 .3v9H7V5h4a6 6 0 0 1 0-2z"/><path d="M15 13v-2h-4v2zm-3 2H9v2h3zm-1-8H9v2h2zm4 10v-2h-2v2z"/><path d="M21 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0z" class="tox-icon--badge"/></svg>',suggestededits:'<svg width="24" height="24"><path d="M7 3h7.4L19 7.6V19a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2Zm0 16h10V9h-3V5H7v14Z" clip-rule="evenodd"/><path d="M9 7h2v2H9V7Zm2 4h4v2h-4v-2Zm-2 4h3v2H9v-2Z"/><path d="M9 7h2v2H9V7Zm4 8h2v2h-2v-2Z"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',"upload-from-device":'<svg width="24" height="25"><path d="M11 19a1 1 0 1 0 2 0v-3.2l1.5 1a1 1 0 1 0 1-1.7L12 12.8l-3.5 2.3a1 1 0 0 0 1 1.7l1.5-1V19Z"/><path d="M9.6 4c.3 0 .6.2.8.5l1.3 2h6.7c.7 0 1.4.2 1.8.7.5.5.8 1.2.8 1.9v8.3c0 .7-.3 1.3-.8 1.8a2.6 2.6 0 0 1-1.8.8H16v-2h2.4a.6.6 0 0 0 .4-.2.6.6 0 0 0 .2-.4V9a.6.6 0 0 0-.2-.5.6.6 0 0 0-.4-.1h-7.2a1 1 0 0 1-.8-.5L9 6H5.6a.6.6 0 0 0-.4.2.6.6 0 0 0-.2.4v10.8c0 .1 0 .3.2.4a.6.6 0 0 0 .4.2H8v2H5.6a2.6 2.6 0 0 1-1.8-.8 2.7 2.7 0 0 1-.8-1.8V6.6c0-.7.3-1.3.8-1.8A2.6 2.6 0 0 1 5.6 4h4Z"/></svg>',"upload-from-link":'<svg height="25" width="24"><path d="M11.5 11.8a1 1 0 0 1 1.9-.5 5 5 0 0 1-1.3 4.8l-2.4 2.3A4 4 0 1 1 4 13L5 12a1 1 0 0 1 1.4 1.4l-.7.8A2 2 0 1 0 8.3 17l2.4-2.4a3 3 0 0 0 .8-2.8z"/><path d="M10.1 11.8a1 1 0 0 1-2 .5 5 5 0 0 1 1.4-4.8L12 5.1a4 4 0 0 1 5.5 5.6l-.7.8a1 1 0 0 1-1.5-1.4l.8-.8a2 2 0 1 0-2.7-2.7l-2.4 2.3a3 3 0 0 0-.8 3zm5.7 7.2a1 1 0 1 0 2 0v-3l1.4 1.1a1 1 0 0 0 1.2-1.5l-3.6-2.9-3.6 2.9a1 1 0 0 0 1.2 1.5l1.4-1z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}})),Mre}var Lre;function Qve(){return Lre||(Lre=1,Xve()),Rre}Qve();var Pre={},Fre={},$re;function Jve(){return $re||($re=1,(function(){const l=Object.getPrototypeOf,d=(n,s,i)=>i(n,s.prototype)?!0:n.constructor?.name===s.name,p=n=>{const s=typeof n;return n===null?"null":s==="object"&&Array.isArray(n)?"array":s==="object"&&d(n,String,(i,f)=>f.isPrototypeOf(i))?"string":s},x=n=>s=>p(s)===n,A=n=>s=>typeof s===n,N=n=>s=>n===s,O=(n,s)=>U(n)&&d(n,s,(i,f)=>l(i)===f),z=x("string"),U=x("object"),V=n=>O(n,Object),Y=x("array"),ee=N(null),ue=A("boolean"),Ce=N(void 0),be=n=>n==null,$e=n=>!be(n),pe=A("function"),it=A("number"),Se=(n,s)=>{if(Y(n)){for(let i=0,f=n.length;i<f;++i)if(!s(n[i]))return!1;return!0}return!1},J=()=>{},vt=n=>()=>n(),Gt=(n,s)=>(...i)=>n(s.apply(null,i)),Xe=(n,s)=>i=>n(s(i)),ie=n=>()=>n,ct=n=>n,xn=(n,s)=>n===s;function fn(n,...s){return(...i)=>{const f=s.concat(i);return n.apply(null,f)}}const qe=n=>s=>!n(s),Re=n=>()=>{throw new Error(n)},Qo=n=>n(),yt=ie(!1),Lt=ie(!0);class F{tag;value;static singletonNone=new F(!1);constructor(s,i){this.tag=s,this.value=i}static some(s){return new F(!0,s)}static none(){return F.singletonNone}fold(s,i){return this.tag?i(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?F.some(s(this.value)):F.none()}bind(s){return this.tag?s(this.value):F.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:F.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return $e(s)?F.some(s):F.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const jt=Array.prototype.slice,at=Array.prototype.indexOf,Jn=Array.prototype.push,an=(n,s)=>at.call(n,s),le=(n,s)=>{const i=an(n,s);return i===-1?F.none():F.some(i)},Ve=(n,s)=>an(n,s)>-1,It=(n,s)=>{for(let i=0,f=n.length;i<f;i++){const b=n[i];if(s(b,i))return!0}return!1},Ne=(n,s)=>{const i=[];for(let f=0;f<n;f++)i.push(s(f));return i},ft=(n,s)=>{const i=[];for(let f=0;f<n.length;f+=s){const b=jt.call(n,f,f+s);i.push(b)}return i},He=(n,s)=>{const i=n.length,f=new Array(i);for(let b=0;b<i;b++){const w=n[b];f[b]=s(w,b)}return f},dt=(n,s)=>{for(let i=0,f=n.length;i<f;i++){const b=n[i];s(b,i)}},X=(n,s)=>{for(let i=n.length-1;i>=0;i--){const f=n[i];s(f,i)}},$o=(n,s)=>{const i=[],f=[];for(let b=0,w=n.length;b<w;b++){const S=n[b];(s(S,b)?i:f).push(S)}return{pass:i,fail:f}},xo=(n,s)=>{const i=[];for(let f=0,b=n.length;f<b;f++){const w=n[f];s(w,f)&&i.push(w)}return i},Mo=(n,s,i)=>(X(n,(f,b)=>{i=s(i,f,b)}),i),Ho=(n,s,i)=>(dt(n,(f,b)=>{i=s(i,f,b)}),i),js=(n,s,i)=>{for(let f=0,b=n.length;f<b;f++){const w=n[f];if(s(w,f))return F.some(w);if(i(w,f))break}return F.none()},Be=(n,s)=>js(n,s,yt),Ke=(n,s)=>{for(let i=0,f=n.length;i<f;i++){const b=n[i];if(s(b,i))return F.some(i)}return F.none()},tt=n=>{const s=[];for(let i=0,f=n.length;i<f;++i){if(!Y(n[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+n);Jn.apply(s,n[i])}return s},Le=(n,s)=>tt(He(n,s)),Je=(n,s)=>{for(let i=0,f=n.length;i<f;++i){const b=n[i];if(s(b,i)!==!0)return!1}return!0},Nt=n=>{const s=jt.call(n,0);return s.reverse(),s},xt=(n,s)=>xo(n,i=>!Ve(s,i)),Un=(n,s)=>{const i={};for(let f=0,b=n.length;f<b;f++){const w=n[f];i[String(w)]=s(w,f)}return i},Dt=n=>[n],Pe=(n,s)=>{const i=jt.call(n,0);return i.sort(s),i},Tt=(n,s)=>s>=0&&s<n.length?F.some(n[s]):F.none(),sn=n=>Tt(n,0),Zn=n=>Tt(n,n.length-1),Yo=pe(Array.from)?Array.from:n=>jt.call(n),Jo=(n,s)=>{for(let i=0;i<n.length;i++){const f=s(n[i],i);if(f.isSome())return f}return F.none()},Do=Object.keys,mr=Object.hasOwnProperty,zo=(n,s)=>{const i=Do(n);for(let f=0,b=i.length;f<b;f++){const w=i[f],S=n[w];s(S,w)}},os=(n,s)=>Vs(n,(i,f)=>({k:f,v:s(i,f)})),Vs=(n,s)=>{const i={};return zo(n,(f,b)=>{const w=s(f,b);i[w.k]=w.v}),i},Ss=n=>(s,i)=>{n[i]=s},Xs=(n,s,i,f)=>{zo(n,(b,w)=>{(s(b,w)?i:f)(b,w)})},gs=(n,s)=>{const i={},f={};return Xs(n,s,Ss(i),Ss(f)),{t:i,f}},Wr=(n,s)=>{const i={};return Xs(n,s,Ss(i),J),i},Es=(n,s)=>{const i=[];return zo(n,(f,b)=>{i.push(s(f,b))}),i},$r=(n,s)=>{const i=Do(n);for(let f=0,b=i.length;f<b;f++){const w=i[f],S=n[w];if(s(S,w,n))return F.some(S)}return F.none()},Ma=n=>Es(n,ct),Hn=(n,s)=>ts(n,s)?F.from(n[s]):F.none(),ts=(n,s)=>mr.call(n,s),Oo=(n,s)=>ts(n,s)&&n[s]!==void 0&&n[s]!==null,Ba={generate:n=>{if(!Y(n))throw new Error("cases must be an array");if(n.length===0)throw new Error("there must be at least one case");const s=[],i={};return dt(n,(f,b)=>{const w=Do(f);if(w.length!==1)throw new Error("one and only one name per case");const S=w[0],_=f[S];if(i[S]!==void 0)throw new Error("duplicate key detected:"+S);if(S==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Y(_))throw new Error("case arguments must be an array");s.push(S),i[S]=(...M)=>{const H=M.length;if(H!==_.length)throw new Error("Wrong number of arguments to case "+S+". Expected "+_.length+" ("+_+"), got "+H);return{fold:(...K)=>{if(K.length!==n.length)throw new Error("Wrong number of arguments to fold. Expected "+n.length+", got "+K.length);return K[b].apply(null,M)},match:K=>{const ae=Do(K);if(s.length!==ae.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+ae.join(","));if(!Je(s,xe=>Ve(ae,xe)))throw new Error("Not all branches were specified when using match. Specified: "+ae.join(", ")+`
Required: `+s.join(", "));return K[S].apply(null,M)},log:K=>{console.log(K,{constructors:s,constructor:S,params:M})}}}}),i}},Mn=n=>{let s=n;return{get:()=>s,set:b=>{s=b}}},Zt=n=>{let s=F.none(),i=[];const f=H=>Zt(Z=>{b(K=>{Z(H(K))})}),b=H=>{S()?M(H):i.push(H)},w=H=>{S()||(s=F.some(H),_(i),i=[])},S=()=>s.isSome(),_=H=>{dt(H,M)},M=H=>{s.each(Z=>{setTimeout(()=>{H(Z)},0)})};return n(w),{get:b,map:f,isReady:S}},Yn={nu:Zt,pure:n=>Zt(s=>{s(n)})},Gn=n=>{setTimeout(()=>{throw n},0)},vo=n=>{const s=M=>{n().then(M,Gn)};return{map:M=>vo(()=>n().then(M)),bind:M=>vo(()=>n().then(H=>M(H).toPromise())),anonBind:M=>vo(()=>n().then(()=>M.toPromise())),toLazy:()=>Yn.nu(s),toCached:()=>{let M=null;return vo(()=>(M===null&&(M=n()),M))},toPromise:n,get:s}},ls={nu:n=>vo(()=>new Promise(n)),pure:n=>vo(()=>Promise.resolve(n))},La=n=>{const s=w=>w(n),i=ie(n),f=()=>b,b={tag:!0,inner:n,fold:(w,S)=>S(n),isValue:Lt,isError:yt,map:w=>Pn.value(w(n)),mapError:f,bind:s,exists:s,forall:s,getOr:i,or:f,getOrThunk:i,orThunk:f,getOrDie:i,each:w=>{w(n)},toOptional:()=>F.some(n)};return b},sl=n=>{const s=()=>i,i={tag:!1,inner:n,fold:(f,b)=>f(n),isValue:yt,isError:Lt,map:s,mapError:f=>Pn.error(f(n)),bind:s,exists:yt,forall:Lt,getOr:ct,or:ct,getOrThunk:Qo,orThunk:Qo,getOrDie:Re(String(n)),each:J,toOptional:F.none};return i},Pn={value:La,error:sl,fromOption:(n,s)=>n.fold(()=>sl(s),La)},er=n=>({...n,toCached:()=>er(n.toCached()),bindFuture:M=>er(n.bind(H=>H.fold(Z=>ls.pure(Pn.error(Z)),Z=>M(Z)))),bindResult:M=>er(n.map(H=>H.bind(M))),mapResult:M=>er(n.map(H=>H.map(M))),mapError:M=>er(n.map(H=>H.mapError(M))),foldResult:(M,H)=>n.map(Z=>Z.fold(M,H)),withTimeout:(M,H)=>er(ls.nu(Z=>{let K=!1;const ae=setTimeout(()=>{K=!0,Z(Pn.error(H()))},M);n.get(he=>{K||(clearTimeout(ae),Z(he))})}))}),tr=n=>er(ls.nu(n)),jl=n=>er(ls.pure(Pn.value(n))),Ao={nu:tr,wrap:er,pure:jl,value:jl,error:n=>er(ls.pure(Pn.error(n))),fromResult:n=>er(ls.pure(n)),fromFuture:n=>er(n.map(Pn.value)),fromPromise:n=>tr(s=>{n.then(i=>{s(Pn.value(i))},i=>{s(Pn.error(i))})})},co=typeof window<"u"?window:Function("return this;")(),Zo=(n,s,i,f)=>{const b=n+s;return b>f?i:b<i?f:b},us=(n,s,i)=>Math.min(Math.max(n,s),i),ko=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Qs=0;const me=n=>{const i=new Date().getTime(),f=Math.floor(ko()*1e9);return Qs++,n+"_"+f+Qs+String(i)},je=(n,s)=>s,Vt=(n,s)=>V(n)&&V(s)?qt(n,s):s,wn=n=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const i={};for(let f=0;f<s.length;f++){const b=s[f];for(const w in b)ts(b,w)&&(i[w]=n(i[w],b[w]))}return i},qt=wn(Vt),wo=wn(je),oo=(n,s,i=xn)=>n.exists(f=>i(f,s)),Bn=(n,s,i=xn)=>Ts(n,s,i).getOr(n.isNone()&&s.isNone()),Uo=n=>{const s=[],i=f=>{s.push(f)};for(let f=0;f<n.length;f++)n[f].each(i);return s},vs=n=>{const s=[];for(let i=0;i<n.length;i++){const f=n[i];if(f.isSome())s.push(f.getOrDie());else return F.none()}return F.some(s)},Ts=(n,s,i)=>n.isSome()&&s.isSome()?F.some(i(n.getOrDie(),s.getOrDie())):F.none(),As=(n,s,i,f)=>n.isSome()&&s.isSome()&&i.isSome()?F.some(f(n.getOrDie(),s.getOrDie(),i.getOrDie())):F.none(),sa=(n,s)=>n!=null?F.some(s(n)):F.none(),Sa=(n,s)=>n?F.some(s):F.none(),Qf=n=>n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Tr=(n,s)=>{let i=s??co;for(let f=0;f<n.length&&i!==void 0&&i!==null;++f)i=i[n[f]];return i},Fs=(n,s)=>{const i=n.split(".");return Tr(i,s)};Ba.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const ir=n=>{const s=[],i=[];return dt(n,f=>{f.fold(b=>{s.push(b)},b=>{i.push(b)})}),{errors:s,values:i}},Vi=n=>{const s=Mn(F.none()),i=()=>s.get().each(n);return{clear:()=>{i(),s.set(F.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:_=>{i(),s.set(F.some(_))}}},Ci=()=>Vi(n=>n.destroy()),Ir=()=>Vi(n=>n.unbind()),Co=()=>{const n=Vi(J);return{...n,on:i=>n.get().each(i)}},Si=(n,s)=>n+s,ni=(n,s)=>n.substring(s),Jr=(n,s,i)=>s===""||n.length>=s.length&&n.substr(i,i+s.length)===s,Sf=(n,s)=>wu(n,s)?ni(n,s.length):n,uc=(n,s)=>dc(n,s)?n:Si(n,s),Hr=(n,s,i=0,f)=>{const b=n.indexOf(s,i);return b!==-1?Ce(f)?!0:b+s.length<=f:!1},wu=(n,s)=>Jr(n,s,0),dc=(n,s)=>Jr(n,s,n.length-s.length),An=(n=>s=>s.replace(n,""))(/^\s+|\s+$/g),Cu=n=>n.length>0,Ri=n=>!Cu(n),pi=n=>{const s=parseFloat(n);return isNaN(s)?F.none():F.some(s)},qr=(n,s)=>{let i=null,f=null;return{cancel:()=>{ee(i)||(clearTimeout(i),i=null,f=null)},throttle:(...S)=>{f=S,ee(i)&&(i=setTimeout(()=>{const _=f;i=null,f=null,n.apply(null,_)},s))}}},Kd=(n,s)=>{let i=null;return{cancel:()=>{ee(i)||(clearTimeout(i),i=null)},throttle:(...w)=>{ee(i)&&(i=setTimeout(()=>{i=null,n.apply(null,w)},s))}}},Ei=(n,s)=>{let i=null;const f=()=>{ee(i)||(clearTimeout(i),i=null)};return{cancel:f,throttle:(...w)=>{f(),i=setTimeout(()=>{i=null,n.apply(null,w)},s)}}},rl=n=>{let s=!1,i;return(...f)=>(s||(s=!0,i=n.apply(null,f)),i)},Tf="\uFEFF",Jf="",Su=(n,s)=>{const f=(s||document).createElement("div");if(f.innerHTML=n,!f.hasChildNodes()||f.childNodes.length>1){const b="HTML does not have a single root node";throw console.error(b,n),new Error(b)}return Wc(f.childNodes[0])},Yd=(n,s)=>{const f=(s||document).createElement(n);return Wc(f)},Dl=(n,s)=>{const f=(s||document).createTextNode(n);return Wc(f)},Wc=n=>{if(n==null)throw new Error("Node cannot be null or undefined");return{dom:n}},mn={fromHtml:Su,fromTag:Yd,fromText:Dl,fromDom:Wc,fromPoint:(n,s,i)=>F.from(n.dom.elementFromPoint(s,i)).map(Wc)},Eu=(n,s)=>{s.fold(i=>{n.setStartBefore(i.dom)},(i,f)=>{n.setStart(i.dom,f)},i=>{n.setStartAfter(i.dom)})},bd=(n,s)=>{s.fold(i=>{n.setEndBefore(i.dom)},(i,f)=>{n.setEnd(i.dom,f)},i=>{n.setEndAfter(i.dom)})},Vl=(n,s,i)=>{const f=n.document.createRange();return Eu(f,s),bd(f,i),f},al=(n,s,i,f,b)=>{const w=n.document.createRange();return w.setStart(s.dom,i),w.setEnd(f.dom,b),w},Vu=n=>({left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.width,height:n.height}),Ui=n=>{const s=n.getClientRects(),i=s.length>0?s[0]:n.getBoundingClientRect();return i.width>0||i.height>0?F.some(i).map(Vu):F.none()},oi=n=>{const s=n.getBoundingClientRect();return s.width>0||s.height>0?F.some(s).map(Vu):F.none()},_l=Ba.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),fc=(n,s,i)=>s(mn.fromDom(i.startContainer),i.startOffset,mn.fromDom(i.endContainer),i.endOffset),qs=(n,s)=>s.match({domRange:i=>({ltr:ie(i),rtl:F.none}),relative:(i,f)=>({ltr:rl(()=>Vl(n,i,f)),rtl:rl(()=>F.some(Vl(n,f,i)))}),exact:(i,f,b,w)=>({ltr:rl(()=>al(n,i,f,b,w)),rtl:rl(()=>F.some(al(n,b,w,i,f)))})}),Af=(n,s)=>{const i=s.ltr();return i.collapsed?s.rtl().filter(b=>b.collapsed===!1).map(b=>_l.rtl(mn.fromDom(b.endContainer),b.endOffset,mn.fromDom(b.startContainer),b.startOffset)).getOrThunk(()=>fc(n,_l.ltr,i)):fc(n,_l.ltr,i)},te=(n,s)=>{const i=qs(n,s);return Af(n,i)},ve=(n,s)=>te(n,s).match({ltr:(f,b,w,S)=>{const _=n.document.createRange();return _.setStart(f.dom,b),_.setEnd(w.dom,S),_},rtl:(f,b,w,S)=>{const _=n.document.createRange();return _.setStart(w.dom,S),_.setEnd(f.dom,b),_}});_l.ltr,_l.rtl;const Fe=9,Rt=11,qn=1,ps=3,lr=(n,s)=>{const i=n.dom;if(i.nodeType!==qn)return!1;{const f=i;if(f.matches!==void 0)return f.matches(s);if(f.msMatchesSelector!==void 0)return f.msMatchesSelector(s);if(f.webkitMatchesSelector!==void 0)return f.webkitMatchesSelector(s);if(f.mozMatchesSelector!==void 0)return f.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},Va=n=>n.nodeType!==qn&&n.nodeType!==Fe&&n.nodeType!==Rt||n.childElementCount===0,Ti=(n,s)=>{const i=s===void 0?document:s.dom;return Va(i)?[]:He(i.querySelectorAll(n),mn.fromDom)},Ol=(n,s)=>{const i=s===void 0?document:s.dom;return Va(i)?F.none():F.from(i.querySelector(n)).map(mn.fromDom)},oe=(n,s)=>n.dom===s.dom,ke=(n,s)=>{const i=n.dom,f=s.dom;return i===f?!1:i.contains(f)},Qe=(n,s,i,f)=>{const b=n.isiOS()&&/ipad/i.test(i)===!0,w=n.isiOS()&&!b,S=n.isiOS()||n.isAndroid(),_=S||f("(pointer:coarse)"),M=b||!w&&S&&f("(min-device-width:768px)"),H=w||S&&!M,Z=s.isSafari()&&n.isiOS()&&/safari/i.test(i)===!1,K=!H&&!M&&!Z;return{isiPad:ie(b),isiPhone:ie(w),isTablet:ie(M),isPhone:ie(H),isTouch:ie(_),isAndroid:n.isAndroid,isiOS:n.isiOS,isWebView:ie(Z),isDesktop:ie(K)}},Et=(n,s)=>{for(let i=0;i<n.length;i++){const f=n[i];if(f.test(s))return f}},pn=(n,s)=>{const i=Et(n,s);if(!i)return{major:0,minor:0};const f=b=>Number(s.replace(i,"$"+b));return Gs(f(1),f(2))},Wn=(n,s)=>{const i=String(s).toLowerCase();return n.length===0?Po():pn(n,i)},Po=()=>Gs(0,0),Gs=(n,s)=>({major:n,minor:s}),Os={nu:Gs,detect:Wn,unknown:Po},Mi=(n,s)=>Jo(s.brands,i=>{const f=i.brand.toLowerCase();return Be(n,b=>f===b.brand?.toLowerCase()).map(b=>({current:b.name,version:Os.nu(parseInt(i.version,10),0)}))}),Ea=(n,s)=>{const i=String(s).toLowerCase();return Be(n,f=>f.search(i))},Xd=(n,s)=>Ea(n,s).map(i=>{const f=Os.detect(i.versionRegexes,s);return{current:i.name,version:f}}),Om=(n,s)=>Ea(n,s).map(i=>{const f=Os.detect(i.versionRegexes,s);return{current:i.name,version:f}}),kf=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Gc=n=>s=>Hr(s,n),R0=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:n=>Hr(n,"edge/")&&Hr(n,"chrome")&&Hr(n,"safari")&&Hr(n,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,kf],search:n=>Hr(n,"chrome")&&!Hr(n,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:n=>Hr(n,"msie")||Hr(n,"trident")},{name:"Opera",versionRegexes:[kf,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Gc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Gc("firefox")},{name:"Safari",versionRegexes:[kf,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:n=>(Hr(n,"safari")||Hr(n,"mobile/"))&&Hr(n,"applewebkit")}],M0=[{name:"Windows",search:Gc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:n=>Hr(n,"iphone")||Hr(n,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Gc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Gc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Gc("linux"),versionRegexes:[]},{name:"Solaris",search:Gc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Gc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Gc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ye={browsers:ie(R0),oses:ie(M0)},Me="Edge",mt="Chromium",Xt="IE",po="Opera",bs="Firefox",Ta="Safari",il=()=>Zi({current:void 0,version:Os.unknown()}),Zi=n=>{const s=n.current,i=n.version,f=b=>()=>s===b;return{current:s,version:i,isEdge:f(Me),isChromium:f(mt),isIE:f(Xt),isOpera:f(po),isFirefox:f(bs),isSafari:f(Ta)}},Ul={unknown:il,nu:Zi},Qd="Windows",Zl="iOS",Nm="Android",Wl="Linux",ll="macOS",Jd="Solaris",_c="FreeBSD",ds="ChromeOS",vh=()=>pp({current:void 0,version:Os.unknown()}),pp=n=>{const s=n.current,i=n.version,f=b=>()=>s===b;return{current:s,version:i,isWindows:f(Qd),isiOS:f(Zl),isAndroid:f(Nm),isMacOS:f(ll),isLinux:f(Wl),isSolaris:f(Jd),isFreeBSD:f(_c),isChromeOS:f(ds)}},Aa={unknown:vh,nu:pp},V1={detect:(n,s,i)=>{const f=ye.browsers(),b=ye.oses(),w=s.bind(M=>Mi(f,M)).orThunk(()=>Xd(f,n)).fold(Ul.unknown,Ul.nu),S=Om(b,n).fold(Aa.unknown,Aa.nu),_=Qe(S,w,n,i);return{browser:w,os:S,deviceType:_}}},U1=n=>window.matchMedia(n).matches;let Z1=rl(()=>V1.detect(window.navigator.userAgent,F.from(window.navigator.userAgentData),U1));const Ua=()=>Z1(),em=(n,s)=>Fs(n,s),W1=(n,s)=>{const i=em(n,s);if(i==null)throw new Error(n+" not available on this browser");return i},ln=Object.getPrototypeOf,Kc=n=>W1("HTMLElement",n),bg=n=>{const s=Fs("ownerDocument.defaultView",n);return U(n)&&(Kc(s).prototype.isPrototypeOf(n)||/^HTML\w*Element$/.test(ln(n).constructor.name))},yd=n=>n.dom.nodeName.toLowerCase(),yg=n=>n.dom.nodeType,q1=n=>s=>yg(s)===n,_e=n=>Yc(n)&&bg(n.dom),Yc=q1(qn),vl=q1(ps),xh=q1(Fe),wh=q1(Rt),Nl=n=>s=>Yc(s)&&yd(s)===n,Oc=n=>mn.fromDom(n.dom.ownerDocument),L0=n=>xh(n)?n:Oc(n),bp=n=>mn.fromDom(L0(n).dom.documentElement),yp=n=>mn.fromDom(L0(n).dom.defaultView),xl=n=>F.from(n.dom.parentNode).map(mn.fromDom),vp=n=>xl(n),Tu=n=>F.from(n.dom.parentElement).map(mn.fromDom),Ch=(n,s)=>{const i=pe(s)?s:yt;let f=n.dom;const b=[];for(;f.parentNode!==null&&f.parentNode!==void 0;){const w=f.parentNode,S=mn.fromDom(w);if(b.push(S),i(S)===!0)break;f=w}return b},P0=n=>F.from(n.dom.offsetParent).map(mn.fromDom),wl=n=>F.from(n.dom.previousSibling).map(mn.fromDom),Rm=n=>F.from(n.dom.nextSibling).map(mn.fromDom),Uu=n=>He(n.dom.childNodes,mn.fromDom),tm=(n,s)=>{const i=n.dom.childNodes;return F.from(i[s]).map(mn.fromDom)},ss=n=>tm(n,0),mc=(n,s)=>({element:n,offset:s}),Sh=(n,s)=>{const i=Uu(n);return i.length>0&&s<i.length?mc(i[s],0):mc(n,s)},G1=(n,s,i,f)=>{const w=Oc(n).dom.createRange();return w.setStart(n.dom,s),w.setEnd(i.dom,f),w},rs=(n,s,i,f)=>{const b=G1(n,s,i,f),w=oe(n,i)&&s===f;return b.collapsed&&!w},nm=n=>wh(n)&&$e(n.dom.host),Ai=n=>mn.fromDom(n.dom.getRootNode()),vd=n=>nm(n)?n:mn.fromDom(L0(n).dom.body),xd=n=>fa(n).isSome(),fa=n=>{const s=Ai(n);return nm(s)?F.some(s):F.none()},xs=n=>mn.fromDom(n.dom.host),F0=n=>{if($e(n.target)){const s=mn.fromDom(n.target);if(Yc(s)&&wd(s)&&n.composed&&n.composedPath){const i=n.composedPath();if(i)return sn(i)}}return F.from(n.target)},wd=n=>$e(n.dom.shadowRoot),Pa=(n,s,i,f,b,w,S)=>({target:n,x:s,y:i,stop:f,prevent:b,kill:w,raw:S}),Au=n=>{const s=mn.fromDom(F0(n).getOr(n.target)),i=()=>n.stopPropagation(),f=()=>n.preventDefault(),b=Gt(f,i);return Pa(s,n.clientX,n.clientY,i,f,b,n)},Xc=(n,s)=>i=>{n(i)&&s(Au(i))},si=(n,s,i,f,b)=>{const w=Xc(i,f);return n.dom.addEventListener(s,w,b),{unbind:fn(Qc,n,s,w,b)}},Zu=(n,s,i,f)=>si(n,s,i,f,!1),Wi=(n,s,i,f)=>si(n,s,i,f,!0),Qc=(n,s,i,f)=>{n.dom.removeEventListener(s,i,f)},cl=Lt,$s=(n,s,i)=>Zu(n,s,cl,i),Wu=(n,s,i)=>Wi(n,s,cl,i),Za=Au,qi=()=>mn.fromDom(document),Fa=(n,s=!1)=>n.dom.focus({preventScroll:s}),ma=n=>n.dom.blur(),Jc=n=>{const s=Ai(n).dom;return n.dom===s.activeElement},ri=(n=qi())=>F.from(n.dom.activeElement).map(mn.fromDom),ai=n=>ri(Ai(n)).filter(s=>n.dom.contains(s.dom)),om=(n,s)=>{xl(n).each(f=>{f.dom.insertBefore(s.dom,n.dom)})},xp=(n,s)=>{Rm(n).fold(()=>{xl(n).each(b=>{ra(b,s)})},f=>{om(f,s)})},wp=(n,s)=>{ss(n).fold(()=>{ra(n,s)},f=>{n.dom.insertBefore(s.dom,f.dom)})},ra=(n,s)=>{n.dom.appendChild(s.dom)},Mm=(n,s,i)=>{tm(n,i).fold(()=>{ra(n,s)},f=>{om(f,s)})},Eh=(n,s)=>{dt(s,i=>{ra(n,i)})},Df=(n,s,i)=>{if(z(i)||ue(i)||it(i))n.setAttribute(s,i+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",i,":: Element ",n),new Error("Attribute value was not simple")},uo=(n,s,i)=>{Df(n.dom,s,i)},ku=(n,s)=>{const i=n.dom;zo(s,(f,b)=>{Df(i,b,f)})},ea=(n,s)=>{const i=n.dom.getAttribute(s);return i===null?void 0:i},ii=(n,s)=>F.from(ea(n,s)),$a=(n,s)=>{const i=n.dom;return i&&i.hasAttribute?i.hasAttribute(s):!1},cr=(n,s)=>{n.dom.removeAttribute(s)},Nc=n=>Ho(n.dom.attributes,(s,i)=>(s[i.name]=i.value,s),{}),Cp=n=>{n.dom.textContent="",dt(Uu(n),s=>{eu(s)})},eu=n=>{const s=n.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},qu=(n,s)=>mn.fromDom(n.dom.cloneNode(s)),vg=n=>qu(n,!1),Cl=n=>qu(n,!0),Ia=(n,s)=>{const f=(s||document).createElement("div");return f.innerHTML=n,Uu(mn.fromDom(f))},Js=n=>n.dom.innerHTML,Rl=(n,s)=>{const f=Oc(n).dom,b=mn.fromDom(f.createDocumentFragment()),w=Ia(s,f);Eh(b,w),Cp(n),ra(n,b)},Du=n=>{const s=mn.fromTag("div"),i=mn.fromDom(n.dom.cloneNode(!0));return ra(s,i),Js(s)},ul=n=>{if(nm(n))return"#shadow-root";{const s=vg(n);return Du(s)}},Sl=n=>new Promise((s,i)=>{const f=()=>{w(),s(n)},b=[$s(n,"load",f),$s(n,"error",()=>{w(),i("Unable to load data from image: "+n.dom.src)})],w=()=>dt(b,S=>S.unbind());n.dom.complete&&f()}),ef=n=>n.style!==void 0&&pe(n.style.getPropertyValue),Is=n=>{const s=vl(n)?n.dom.parentNode:n.dom;if(s==null||s.ownerDocument===null)return!1;const i=s.ownerDocument;return fa(mn.fromDom(s)).fold(()=>i.body.contains(s),Xe(Is,xs))},Ml=()=>Bm(mn.fromDom(document)),Bm=n=>{const s=n.dom.body;if(s==null)throw new Error("Body is not available yet");return mn.fromDom(s)},Th=(n,s,i)=>{if(!z(i))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",i,":: Element ",n),new Error("CSS value must be a string: "+i);ef(n)&&n.style.setProperty(s,i)},hc=(n,s)=>{ef(n)&&n.style.removeProperty(s)},So=(n,s,i)=>{const f=n.dom;Th(f,s,i)},Or=(n,s)=>{const i=n.dom;zo(s,(f,b)=>{Th(i,b,f)})},Wa=(n,s)=>{const i=n.dom;zo(s,(f,b)=>{f.fold(()=>{hc(i,b)},w=>{Th(i,b,w)})})},yr=(n,s)=>{const i=n.dom,b=window.getComputedStyle(i).getPropertyValue(s);return b===""&&!Is(n)?dl(i,s):b},dl=(n,s)=>ef(n)?n.style.getPropertyValue(s):"",Gr=(n,s)=>{const i=n.dom,f=dl(i,s);return F.from(f).filter(b=>b.length>0)},li=n=>{const s={},i=n.dom;if(ef(i))for(let f=0;f<i.style.length;f++){const b=i.style.item(f);s[b]=i.style[b]}return s},tf=(n,s,i)=>{const f=mn.fromTag(n);return So(f,s,i),Gr(f,s).isSome()},cs=(n,s)=>{const i=n.dom;hc(i,s),oo(ii(n,"style").map(An),"")&&cr(n,"style")},ql=n=>n.dom.offsetWidth,ws=(n,s)=>{const i=(_,M)=>{if(!it(M)&&!M.match(/^[0-9]+$/))throw new Error(n+".set accepts only positive integer values. Value was "+M);const H=_.dom;ef(H)&&(H.style[n]=M+"px")},f=_=>{const M=s(_);if(M<=0||M===null){const H=yr(_,n);return parseFloat(H)||0}return M},b=f,w=(_,M)=>Ho(M,(H,Z)=>{const K=yr(_,Z),ae=K===void 0?0:parseInt(K,10);return isNaN(ae)?H:H+ae},0);return{set:i,get:f,getOuter:b,aggregate:w,max:(_,M,H)=>{const Z=w(_,H);return M>Z?M-Z:0}}},Gl=ws("height",n=>{const s=n.dom;return Is(n)?s.getBoundingClientRect().height:s.offsetHeight}),bi=n=>Gl.get(n),ki=n=>Gl.getOuter(n),_f=(n,s)=>{const i=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],f=Gl.max(n,s,i);So(n,"max-height",f+"px")},xg=n=>n.offsetWidth<=0&&n.offsetHeight<=0,qa=n=>!xg(n.dom),Of=ws("width",n=>{const s=n.dom;return Is(n)?s.getBoundingClientRect().width:s.offsetWidth}),Cd=(n,s)=>Of.set(n,s),Bi=n=>Of.get(n),nf=n=>Of.getOuter(n),wg=(n,s)=>{const i=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],f=Of.max(n,s,i);So(n,"max-width",f+"px")},Gu=(n,s)=>({left:n,top:s,translate:(f,b)=>Gu(n+f,s+b)}),hr=Gu,$0=n=>{const s=n.getBoundingClientRect();return hr(s.left,s.top)},Cg=(n,s)=>n!==void 0?n:s!==void 0?s:0,Bl=n=>{const s=n.dom.ownerDocument,i=s.body,f=s.defaultView,b=s.documentElement;if(i===n.dom)return hr(i.offsetLeft,i.offsetTop);const w=Cg(f?.pageYOffset,b.scrollTop),S=Cg(f?.pageXOffset,b.scrollLeft),_=Cg(b.clientTop,i.clientTop),M=Cg(b.clientLeft,i.clientLeft);return fl(n).translate(S-M,w-_)},fl=n=>{const s=n.dom,f=s.ownerDocument.body;return f===s?hr(f.offsetLeft,f.offsetTop):Is(n)?$0(s):hr(0,0)},ka=n=>{const s=n!==void 0?n.dom:document,i=s.body.scrollLeft||s.documentElement.scrollLeft,f=s.body.scrollTop||s.documentElement.scrollTop;return hr(i,f)},Sd=(n,s,i)=>{const b=(i!==void 0?i.dom:document).defaultView;b&&b.scrollTo(n,s)},of=((n,s)=>{const i=w=>{if(!n(w))throw new Error("Can only get "+s+" value of a "+s+" node");return f(w).getOr("")},f=w=>n(w)?F.from(w.dom.nodeValue):F.none();return{get:i,getOption:f,set:(w,S)=>{if(!n(w))throw new Error("Can only set raw "+s+" value of a "+s+" node");w.dom.nodeValue=S}}})(vl,"text"),Sg=n=>of.get(n),Eg=(n,s)=>i=>K1(i)==="rtl"?s:n,K1=n=>yr(n,"direction")==="rtl"?"rtl":"ltr",Ed=(n,s)=>{const i=ea(n,s);return i===void 0||i===""?[]:i.split(" ")},dy=(n,s,i)=>{const b=Ed(n,s).concat([i]);return uo(n,s,b.join(" ")),!0},sm=(n,s,i)=>{const f=xo(Ed(n,s),b=>b!==i);return f.length>0?uo(n,s,f.join(" ")):cr(n,s),!1};var gc=(n,s,i,f,b)=>n(i,f)?F.some(i):pe(b)&&b(i)?F.none():s(i,f,b);const Y1=(n,s,i)=>{let f=n.dom;const b=pe(i)?i:yt;for(;f.parentNode;){f=f.parentNode;const w=mn.fromDom(f);if(s(w))return F.some(w);if(b(w))break}return F.none()},Ah=(n,s,i)=>gc((b,w)=>w(b),Y1,n,s,i),Nf=(n,s)=>{const i=n.dom;return i.parentNode?rm(mn.fromDom(i.parentNode),f=>!oe(n,f)&&s(f)):F.none()},rm=(n,s)=>{const i=b=>s(mn.fromDom(b));return Be(n.dom.childNodes,i).map(mn.fromDom)},Tg=(n,s)=>{const i=f=>{for(let b=0;b<f.childNodes.length;b++){const w=mn.fromDom(f.childNodes[b]);if(s(w))return F.some(w);const S=i(f.childNodes[b]);if(S.isSome())return S}return F.none()};return i(n.dom)},Ag=n=>Ol(n),tu=(n,s,i)=>Y1(n,f=>lr(f,s),i),fy=(n,s)=>Nf(n,i=>lr(i,s)),_u=(n,s)=>rm(n,i=>lr(i,s)),ur=(n,s)=>Ol(s,n),yi=(n,s,i)=>gc((b,w)=>lr(b,w),tu,n,s,i),Td=(n,s)=>{n.dom.checked=s},Sp=n=>n.dom.checked,nu=n=>n.dom.classList!==void 0,Rf=n=>Ed(n,"class"),kg=(n,s)=>dy(n,"class",s),Ad=(n,s)=>sm(n,"class",s),kd=(n,s)=>Ve(Rf(n),s)?Ad(n,s):kg(n,s),nr=(n,s)=>{nu(n)?n.dom.classList.add(s):kg(n,s)},Dg=n=>{(nu(n)?n.dom.classList:Rf(n)).length===0&&cr(n,"class")},ha=(n,s)=>{nu(n)?n.dom.classList.remove(s):Ad(n,s),Dg(n)},kh=(n,s)=>{const i=nu(n)?n.dom.classList.toggle(s):kd(n,s);return Dg(n),i},Da=(n,s)=>nu(n)&&n.dom.classList.contains(s),Ku=(n,s)=>{dt(s,i=>{nr(n,i)})},El=(n,s)=>{dt(s,i=>{ha(n,i)})},sf=(n,s)=>{dt(s,i=>{kh(n,i)})},_g=(n,s)=>Je(s,i=>Da(n,i)),ou=n=>{const s=n.dom.classList,i=new Array(s.length);for(let f=0;f<s.length;f++){const b=s.item(f);b!==null&&(i[f]=b)}return i},Ou=n=>nu(n)?ou(n):Rf(n),Lm=n=>n.dom.textContent,pc=n=>n.dom.value,Dd=(n,s)=>{if(s===void 0)throw new Error("Value.set was undefined");n.dom.value=s},aa=(n,s,i)=>xo(Ch(n,i),s),ta=(n,s)=>Ti(s,n),Di=(n,s,i)=>Ah(n,s,i).isSome(),Pm=(n,s,i)=>yi(n,s,i).isSome(),_d=n=>pe(n)?n:yt,or=(n,s,i)=>{let f=n.dom;const b=_d(i);for(;f.parentNode;){f=f.parentNode;const w=mn.fromDom(f),S=s(w);if(S.isSome())return S;if(b(w))break}return F.none()},Cr=(n,s,i)=>{const f=s(n),b=_d(i);return f.orThunk(()=>b(n)?F.none():or(n,s,b))},P={create:(n,s,i,f)=>({start:n,soffset:s,finish:i,foffset:f})},j=Ba.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),re=(n,s,i,f)=>n.fold(s,i,f),we=n=>n.fold(ct,ct,ct),Ge=j.before,kt=j.on,Cn=j.after,_n={before:Ge,on:kt,after:Cn,cata:re,getStart:we},Fo=Ba.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),as=n=>Fo.exact(n.start,n.soffset,n.finish,n.foffset),Br=n=>n.match({domRange:s=>mn.fromDom(s.startContainer),relative:(s,i)=>_n.getStart(s),exact:(s,i,f,b)=>s}),ia=Fo.domRange,vi=Fo.relative,Rc=Fo.exact,Yu=n=>{const s=Br(n);return yp(s)},rf=P.create,di={domRange:ia,relative:vi,exact:Rc,exactFromRange:as,getWin:Yu,range:rf},Li=n=>F.from(n.getSelection()),am=n=>{if(n.rangeCount>0){const s=n.getRangeAt(0),i=n.getRangeAt(n.rangeCount-1);return F.some(P.create(mn.fromDom(s.startContainer),s.startOffset,mn.fromDom(i.endContainer),i.endOffset))}else return F.none()},im=n=>{if(n.anchorNode===null||n.focusNode===null)return am(n);{const s=mn.fromDom(n.anchorNode),i=mn.fromDom(n.focusNode);return rs(s,n.anchorOffset,i,n.focusOffset)?F.some(P.create(s,n.anchorOffset,i,n.focusOffset)):am(n)}},Fm=n=>Li(n).filter(s=>s.rangeCount>0).bind(im),Dh=(n,s)=>{const i=ve(n,s);return Ui(i)},Nu=(n,s)=>{const i=ve(n,s);return oi(i)},_h={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},X1=(()=>{const n="[0-9]+",i="[eE]"+("[+-]?"+n),f="\\.",b=_=>`(?:${_})?`,S=`[+-]?(?:${["Infinity",n+f+b(n)+b(i),f+n+b(i),n+b(i)].join("|")})`;return new RegExp(`^(${S})(.*)$`)})(),Q1=(n,s)=>It(s,i=>It(_h[i],f=>n===f)),Hs=(n,s)=>F.from(X1.exec(n)).bind(f=>{const b=Number(f[1]),w=f[2];return Q1(w,s)?F.some({value:b,unit:w}):F.none()}),Ha=(n,s)=>Hs(n,s).map(({value:i,unit:f})=>i+f),Ga=n=>{const s=n===void 0?window:n;return Ua().browser.isFirefox()?F.none():F.from(s.visualViewport)},Pl=(n,s,i,f)=>({x:n,y:s,width:i,height:f,right:n+i,bottom:s+f}),Ep=n=>{const s=n===void 0?window:n,i=s.document,f=ka(mn.fromDom(i));return Ga(s).fold(()=>{const b=s.document.documentElement,w=b.clientWidth,S=b.clientHeight;return Pl(f.left,f.top,w,S)},b=>Pl(Math.max(b.pageLeft,f.left),Math.max(b.pageTop,f.top),b.width,b.height))},Og=(n,s)=>n.view(s).fold(ie([]),f=>{const b=n.owner(f),w=Og(n,b);return[f].concat(w)}),Ng=(n,s)=>{const i=s.owner(n),f=Og(s,i);return F.some(f)};var $m=Object.freeze({__proto__:null,view:n=>(n.dom===document?F.none():F.from(n.dom.defaultView?.frameElement)).map(mn.fromDom),owner:n=>Oc(n)});const I0=n=>{const s=qi(),i=ka(s);return Ng(n,$m).fold(fn(Bl,n),b=>{const w=fl(n),S=Mo(b,(_,M)=>{const H=fl(M);return{left:_.left+H.left,top:_.top+H.top}},{left:0,top:0});return hr(S.left+w.left+i.left,S.top+w.top+i.top)})},Oh=(n,s,i)=>({point:n,width:s,height:i}),Rv=(n,s,i,f)=>({x:n,y:s,width:i,height:f}),Pi=(n,s,i,f)=>({x:n,y:s,width:i,height:f,right:n+i,bottom:s+f}),_i=n=>{const s=Bl(n),i=nf(n),f=ki(n);return Pi(s.left,s.top,i,f)},Nh=n=>{const s=I0(n),i=nf(n),f=ki(n);return Pi(s.left,s.top,i,f)},Im=(n,s)=>{const i=Math.max(n.x,s.x),f=Math.max(n.y,s.y),b=Math.min(n.right,s.right),w=Math.min(n.bottom,s.bottom),S=b-i,_=w-f;return Pi(i,f,S,_)},my=(n,s)=>Ho(s,(i,f)=>Im(i,f),n),bc=()=>Ep(window),hy=(n,s)=>oe(n.element,s.event.target),af=n=>(oo(Gr(n,"position"),"fixed")?F.none():P0(n)).orThunk(()=>{const f=mn.fromTag("span");return xl(n).bind(b=>{ra(b,f);const w=P0(f);return eu(f),w})}),J1=n=>af(n).map(Bl).getOrThunk(()=>hr(0,0)),su=(n,s)=>{const i=F.from(ea(n,"id")).getOrThunk(()=>{const f=me("aria");return uo(s,"id",f),f});uo(n,"aria-describedby",i)},H0=n=>{cr(n,"aria-describedby")};var Ru;(function(n){n[n.Error=0]="Error",n[n.Value=1]="Value"})(Ru||(Ru={}));const Ka=(n,s,i)=>n.stype===Ru.Error?s(n.serror):i(n.svalue),gy=n=>{const s=[],i=[];return dt(n,f=>{Ka(f,b=>i.push(b),b=>s.push(b))}),{values:s,errors:i}},Ap=(n,s)=>n.stype===Ru.Error?{stype:Ru.Error,serror:s(n.serror)}:n,Mv=(n,s)=>n.stype===Ru.Value?{stype:Ru.Value,svalue:s(n.svalue)}:n,py=(n,s)=>n.stype===Ru.Value?s(n.svalue):n,Bv=(n,s)=>n.stype===Ru.Error?s(n.serror):n,Lv=n=>({stype:Ru.Value,svalue:n}),z0=n=>({stype:Ru.Error,serror:n}),Sn={fromResult:n=>n.fold(z0,Lv),toResult:n=>Ka(n,Pn.error,Pn.value),svalue:Lv,partition:gy,serror:z0,bind:py,bindError:Bv,map:Mv,mapError:Ap,fold:Ka},ru=n=>U(n)&&Do(n).length>100?" removed due to size":JSON.stringify(n,null,2),E2=n=>{const s=n.length>10?n.slice(0,10).concat([{path:[],getErrorInfo:ie("... (only showing first ten failures)")}]):n;return He(s,i=>"Failed path: ("+i.path.join(" > ")+`)
`+i.getErrorInfo())},au=(n,s)=>Sn.serror([{path:n,getErrorInfo:s}]),Xu=(n,s,i)=>au(n,()=>'Could not find valid *required* value for "'+s+'" in '+ru(i)),tb=(n,s)=>au(n,()=>'Choice schema did not contain choice key: "'+s+'"'),T2=(n,s,i)=>au(n,()=>'The chosen schema: "'+i+'" did not exist in branches: '+ru(s)),Hm=(n,s)=>au(n,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),A2=(n,s)=>au(n,ie(s)),iu=n=>{const s=(f,b)=>Sn.bindError(n(b),w=>A2(f,w)),i=ie("val");return{extract:s,toString:i}},k2=iu(Sn.svalue),lf=ie(k2),dn=(n,s)=>iu(i=>{const f=typeof i;return n(i)?Sn.svalue(i):Sn.serror(`Expected type: ${s} but got: ${f}`)}),Dp=dn(it,"number"),Fi=dn(z,"string"),ns=dn(ue,"boolean"),zm=dn(pe,"function"),_p=n=>{if(Object(n)!==n)return!0;switch({}.toString.call(n).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(n).every(s=>_p(n[s]));default:return!1}},la=iu(n=>_p(n)?Sn.svalue(n):Sn.serror("Expected value to be acceptable for sending via postMessage")),Od=()=>({tag:"required",process:{}}),Op=n=>({tag:"defaultedThunk",process:n}),Mu=n=>Op(ie(n)),na=()=>({tag:"option",process:{}}),lm=n=>({tag:"mergeWithThunk",process:n}),Np=n=>lm(ie(n)),by=(n,s,i,f)=>({tag:"field",key:n,newKey:s,presence:i,prop:f}),Rh=(n,s)=>({tag:"custom",newKey:n,instantiator:s}),Nd=(n,s,i)=>{switch(n.tag){case"field":return s(n.key,n.newKey,n.presence,n.prop);case"custom":return i(n.newKey,n.instantiator)}},j0=(n,s)=>Sn.svalue(qt(s,wo.apply(void 0,n))),V0=n=>Gt(Sn.serror,tt)(n),Rp={consolidateObj:(n,s)=>{const i=Sn.partition(n);return i.errors.length>0?V0(i.errors):j0(i.values,s)},consolidateArr:n=>{const s=Sn.partition(n);return s.errors.length>0?V0(s.errors):Sn.svalue(s.values)}},xy=(n,s,i,f)=>Hn(s,i).fold(()=>Xu(n,i,s),f),nb=(n,s,i,f)=>{const b=Hn(n,s).getOrThunk(()=>i(n));return f(b)},zC=(n,s,i)=>i(Hn(n,s)),Pv=(n,s,i,f)=>{const b=Hn(n,s).map(w=>w===!0?i(n):w);return f(b)},Tl=(n,s,i,f,b)=>{const w=_=>b.extract(s.concat([f]),_),S=_=>_.fold(()=>Sn.svalue(F.none()),M=>{const H=b.extract(s.concat([f]),M);return Sn.map(H,F.some)});switch(n.tag){case"required":return xy(s,i,f,w);case"defaultedThunk":return nb(i,f,n.process,w);case"option":return zC(i,f,S);case"defaultedOptionThunk":return Pv(i,f,n.process,S);case"mergeWithThunk":return nb(i,f,ie({}),_=>{const M=qt(n.process(i),_);return w(M)})}},lu=(n,s,i)=>{const f={},b=[];for(const w of i)Nd(w,(S,_,M,H)=>{const Z=Tl(M,n,s,S,H);Sn.fold(Z,K=>{b.push(...K)},K=>{f[_]=K})},(S,_)=>{f[S]=_(s)});return b.length>0?Sn.serror(b):Sn.svalue(f)},U0=n=>({extract:(f,b)=>n().extract(f,b),toString:()=>n().toString()}),jC=n=>Do(Wr(n,$e)),Bu=n=>{const s=fo(n),i=Mo(n,(b,w)=>Nd(w,S=>qt(b,{[S]:!0}),ie(b)),{});return{extract:(b,w)=>{const S=ue(w)?[]:jC(w),_=xo(S,M=>!Oo(i,M));return _.length===0?s.extract(b,w):Hm(b,_)},toString:s.toString}},fo=n=>({extract:(f,b)=>lu(f,b,n),toString:()=>`obj{
`+He(n,b=>Nd(b,(w,S,_,M)=>w+" -> "+M.toString(),(w,S)=>"state("+w+")")).join(`
`)+"}"}),_a=n=>({extract:(f,b)=>{const w=He(b,(S,_)=>n.extract(f.concat(["["+_+"]"]),S));return Rp.consolidateArr(w)},toString:()=>"array("+n.toString()+")"}),Mp=(n,s)=>{const i=s!==void 0?s:ct;return{extract:(w,S)=>{const _=[];for(const M of n){const H=M.extract(w,S);if(H.stype===Ru.Value)return{stype:Ru.Value,svalue:i(H.svalue)};_.push(H)}return Rp.consolidateArr(_)},toString:()=>"oneOf("+He(n,w=>w.toString()).join(", ")+")"}},ob=(n,s)=>{const i=(w,S)=>_a(iu(n)).extract(w,S);return{extract:(w,S)=>{const _=Do(S),M=i(w,_);return Sn.bind(M,H=>{const Z=He(H,K=>by(K,K,Od(),s));return fo(Z).extract(w,S)})},toString:()=>"setOf("+s.toString()+")"}},Rg=(n,s)=>{const i=rl(s);return{extract:(w,S)=>i().extract(w,S),toString:()=>i().toString()}},Z0=Gt(_a,fo),W0=(n,s,i,f)=>Hn(i,f).fold(()=>T2(n,i,f),w=>w.extract(n.concat(["branch: "+f]),s)),Mh=(n,s)=>({extract:(b,w)=>Hn(w,n).fold(()=>tb(b,n),_=>W0(b,w,s,_)),toString:()=>"chooseOn("+n+"). Possible values: "+Do(s)}),Fv=()=>_a(k2),cm=n=>iu(s=>n(s).fold(Sn.serror,Sn.svalue)),$v=(n,s)=>ob(i=>Sn.fromResult(n(i)),s),sb=(n,s,i)=>{const f=s.extract([n],i);return Sn.mapError(f,b=>({input:i,errors:b}))},ga=(n,s,i)=>Sn.toResult(sb(n,s,i)),Qu=n=>n.fold(s=>{throw new Error(Mg(s))},ct),Mc=(n,s,i)=>Qu(ga(n,s,i)),Mg=n=>`Errors: 
`+E2(n.errors).join(`
`)+`

Input object: `+ru(n.input),Kl=(n,s)=>Mh(n,os(s,fo)),Bh=(n,s)=>Rg(n,s),ml=by,yc=Rh,rb=n=>cm(s=>Ve(n,s)?Pn.value(s):Pn.error(`Unsupported value: "${s}", choose one of "${n.join(", ")}".`)),Wt=n=>ml(n,n,Od(),lf()),Bc=(n,s)=>ml(n,n,Od(),s),ab=n=>Bc(n,Dp),Ya=n=>Bc(n,Fi),Yl=(n,s)=>ml(n,n,Od(),rb(s)),cu=n=>Bc(n,zm),D2=(n,s)=>ml(n,n,na(),iu(i=>Sn.serror("The field: "+n+" is forbidden. "+s))),cf=(n,s)=>ml(n,n,Od(),fo(s)),q0=(n,s)=>ml(n,n,Od(),Z0(s)),Ar=(n,s)=>ml(n,n,Od(),_a(s)),vr=n=>ml(n,n,na(),lf()),um=(n,s)=>ml(n,n,na(),s),Bp=n=>um(n,Dp),pa=n=>um(n,Fi),jm=(n,s)=>um(n,rb(s)),wy=n=>um(n,ns),uf=n=>um(n,zm),Bg=(n,s)=>um(n,_a(s)),$i=(n,s)=>um(n,fo(s)),_2=(n,s)=>um(n,Bu(s)),pt=(n,s)=>ml(n,n,Mu(s),lf()),Ju=(n,s,i)=>ml(n,n,Mu(s),i),Lp=(n,s)=>Ju(n,s,Dp),Oa=(n,s)=>Ju(n,s,Fi),Xl=(n,s,i)=>Ju(n,s,rb(i)),Gi=(n,s)=>Ju(n,s,ns),dr=(n,s)=>Ju(n,s,zm),Fl=(n,s)=>Ju(n,s,la),Vm=(n,s,i)=>Ju(n,s,_a(i)),Lh=(n,s,i)=>Ju(n,s,fo(i)),hl=(n,s)=>{const i={};return zo(n,(f,b)=>{Ve(s,b)||(i[b]=f)}),i},ib=(n,s)=>({[n]:s}),Cy=n=>{const s={};return dt(n,i=>{s[i.key]=i.value}),s},Sy=(n,s)=>hl(n,s),za=(n,s)=>ib(n,s),vc=n=>Cy(n),Um=(n,s)=>n.length===0?Pn.value(s):Pn.value(qt(s,wo.apply(void 0,n))),Ey=n=>Pn.error(tt(n)),O2=(n,s)=>{const i=ir(n);return i.errors.length>0?Ey(i.errors):Um(i.values,s)},Ql=ie,ed=Ql("touchstart"),Xa=Ql("touchmove"),$l=Ql("touchend"),td=Ql("touchcancel"),uu=Ql("mousedown"),xc=Ql("mousemove"),Ii=Ql("mouseout"),Mf=Ql("mouseup"),Jl=Ql("mouseover"),ec=Ql("focusin"),lb=Ql("focusout"),Ki=Ql("keydown"),Lu=Ql("keyup"),Bf=Ql("input"),Lf=Ql("change"),dm=Ql("click"),cb=Ql("transitioncancel"),Ph=Ql("transitionend"),Zm=Ql("transitionstart"),G0=Ql("selectstart"),kr=n=>ie("alloy."+n),Iv={tap:kr("tap")},Pf=kr("focus"),Pp=kr("blur.post"),Ty=kr("paste.post"),Fh=kr("receive"),Ls=kr("execute"),ba=kr("focus.item"),xr=Iv.tap,Nr=kr("longpress"),Na=kr("sandbox.close"),Pu=kr("typeahead.cancel"),Ff=kr("system.init"),Fp=kr("system.touchmove"),ub=kr("system.touchend"),fm=kr("system.scroll"),xi=kr("system.resize"),Lc=kr("system.attached"),wc=kr("system.detached"),mm=kr("system.dismissRequested"),Rd=kr("system.repositionRequested"),$h=kr("focusmanager.shifted"),$p=kr("slotcontainer.visibility"),nd=kr("system.external.element.scroll"),db=kr("change.tab"),Ip=kr("dismiss.tab"),fb=kr("highlight"),Hp=kr("dehighlight"),Md=n=>ul(n),$f="unknown";var Yi;(function(n){n[n.STOP=0]="STOP",n[n.NORMAL=1]="NORMAL",n[n.LOGGING=2]="LOGGING"})(Yi||(Yi={}));const Bd=Mn({}),zp=(n,s)=>{const i=[],f=new Date().getTime();return{logEventCut:(b,w,S)=>{i.push({outcome:"cut",target:w,purpose:S})},logEventStopped:(b,w,S)=>{i.push({outcome:"stopped",target:w,purpose:S})},logNoParent:(b,w,S)=>{i.push({outcome:"no-parent",target:w,purpose:S})},logEventNoHandlers:(b,w)=>{i.push({outcome:"no-handlers-left",target:w})},logEventResponse:(b,w,S)=>{i.push({outcome:"response",purpose:S,target:w})},write:()=>{const b=new Date().getTime();Ve(["mousemove","mouseover","mouseout",Ff()],n)||console.log(n,{event:n,time:b-f,target:s.dom,sequence:He(i,w=>Ve(["cut","stopped","response"],w.outcome)?"{"+w.purpose+"} "+w.outcome+" at ("+Md(w.target)+")":w.outcome)})}}},Ld=(n,s,i)=>{switch(Hn(Bd.get(),n).orThunk(()=>{const b=Do(Bd.get());return Jo(b,w=>n.indexOf(w)>-1?F.some(Bd.get()[w]):F.none())}).getOr(Yi.NORMAL)){case Yi.NORMAL:return i(K0());case Yi.LOGGING:{const b=zp(n,s),w=i(b);return b.write(),w}case Yi.STOP:return!0}},Cc=["alloy/data/Fields","alloy/debugging/Debugging"],Hv=()=>{const n=new Error;if(n.stack!==void 0){const s=n.stack.split(`
`);return Be(s,i=>i.indexOf("alloy")>0&&!It(Cc,f=>i.indexOf(f)>-1)).getOr($f)}else return $f},Ay={logEventCut:J,logEventStopped:J,logNoParent:J,logEventNoHandlers:J,logEventResponse:J,write:J},jp=(n,s,i)=>Ld(n,s,i),K0=ie(Ay),Pd=ie([Wt("menu"),Wt("selectedMenu")]),Lg=ie([Wt("item"),Wt("selectedItem")]);ie(fo(Lg().concat(Pd())));const od=ie(fo(Lg())),Y0=cf("initSize",[Wt("numColumns"),Wt("numRows")]),ky=()=>Bc("markers",od()),N2=()=>cf("markers",[Wt("backgroundMenu")].concat(Pd()).concat(Lg())),hs=n=>cf("markers",He(n,Wt)),Vp=(n,s,i)=>(Hv(),ml(s,s,i,cm(f=>Pn.value((...b)=>f.apply(void 0,b))))),Ps=n=>Vp("onHandler",n,Mu(J)),tc=n=>Vp("onKeyboardHandler",n,Mu(F.none)),Ih=n=>Vp("onHandler",n,Od()),X0=n=>Vp("onKeyboardHandler",n,Od()),sr=(n,s)=>yc(n,ie(s)),zv=n=>yc(n,ct),mb=ie(Y0),jv=(n,s,i)=>{const f=i.toString(),b=f.indexOf(")")+1,w=f.indexOf("("),S=f.substring(w+1,b-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:s,parameters:Up(S.slice(0,1).concat(S.slice(3)))}),n},Up=n=>He(n,s=>dc(s,"/*")?s.substring(0,s.length-2):s),hb=(n,s)=>{const i=n.toString(),f=i.indexOf(")")+1,b=i.indexOf("("),w=i.substring(b+1,f-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:s,parameters:Up(w)}),n},R2=(n,s)=>{const i=s.toString(),f=i.indexOf(")")+1,b=i.indexOf("("),w=i.substring(b+1,f-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Up(w.slice(1))}),n},M2=(n,s)=>{let i=null;return{cancel:()=>{i!==null&&(clearTimeout(i),i=null)},schedule:(...w)=>{i=setTimeout(()=>{n.apply(null,w),i=null},s)}}},B2=5,Zp=400,gb=n=>{const s=n.raw;return s.touches===void 0||s.touches.length!==1?F.none():F.some(s.touches[0])},L2=(n,s)=>{const i=Math.abs(n.clientX-s.x),f=Math.abs(n.clientY-s.y);return i>B2||f>B2},P2=n=>{const s=Co(),i=Mn(!1),f=M2(H=>{n.triggerEvent(Nr(),H),i.set(!0)},Zp),b=H=>(gb(H).each(Z=>{f.cancel();const K={x:Z.clientX,y:Z.clientY,target:H.target};f.schedule(H),i.set(!1),s.set(K)}),F.none()),w=H=>(f.cancel(),gb(H).each(Z=>{s.on(K=>{L2(Z,K)&&s.clear()})}),F.none()),S=H=>{f.cancel();const Z=K=>oe(K.target,H.target);return s.get().filter(Z).map(K=>i.get()?(H.prevent(),!1):n.triggerEvent(xr(),H))},_=vc([{key:ed(),value:b},{key:Xa(),value:w},{key:$l(),value:S}]);return{fireIfReady:(H,Z)=>Hn(_,Z).bind(K=>K(H))}};var Pg;(function(n){n.OnFocusMode="onFocus",n.OnEnterOrSpaceMode="onEnterOrSpace",n.OnApiMode="onApi"})(Pg||(Pg={}));const Fu="placeholder",Xi=Ba.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Hh=n=>ts(n,"uiType"),sd=(n,s,i,f)=>n.exists(b=>b!==i.owner)?Xi.single(!0,ie(i)):Hn(f,i.name).fold(()=>{throw new Error("Unknown placeholder component: "+i.name+`
Known: [`+Do(f)+`]
Namespace: `+n.getOr("none")+`
Spec: `+JSON.stringify(i,null,2))},b=>b.replace()),hm=(n,s,i,f)=>Hh(i)&&i.uiType===Fu?sd(n,s,i,f):Xi.single(!1,ie(i)),Wp=(n,s,i,f)=>hm(n,s,i,f).fold((w,S)=>{const _=Hh(i)?S(s,i.config,i.validated):S(s),M=Hn(_,"components").getOr([]),H=Le(M,Z=>Wp(n,s,Z,f));return[{..._,components:H}]},(w,S)=>{if(Hh(i)){const _=S(s,i.config,i.validated);return i.validated.preprocess.getOr(ct)(_)}else return S(s)}),ca=(n,s,i,f)=>Le(i,b=>Wp(n,s,b,f)),Q0=(n,s)=>{let i=!1;const f=()=>i,b=()=>{if(i)throw new Error("Trying to use the same placeholder more than once: "+n);return i=!0,s},w=()=>s.fold((S,_)=>S,(S,_)=>S);return{name:ie(n),required:w,used:f,replace:b}},VC=(n,s,i,f)=>{const b=os(f,(S,_)=>Q0(_,S)),w=ca(n,s,i,b);return zo(b,S=>{if(S.used()===!1&&S.required())throw new Error("Placeholder: "+S.name()+` was not found in components list
Namespace: `+n.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),w},pb=Xi.single,Vv=Xi.multiple,Uv=ie(Fu),bb=Ba.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),If=pt("factory",{sketch:ct}),zh=pt("schema",[]),qp=Wt("name"),Gp=ml("pname","pname",Op(n=>"<alloy."+me(n.name)+">"),lf()),Dy=yc("schema",()=>[vr("preprocess")]),du=pt("defaults",ie({})),df=pt("overrides",ie({})),J0=fo([If,zh,qp,Gp,du,df]),UC=fo([If,zh,qp,du,df]),F2=fo([If,zh,qp,Gp,du,df]),Zv=fo([If,Dy,qp,Wt("unit"),Gp,du,df]),_y=n=>n.fold(F.some,F.none,F.some,F.some),gm=n=>{const s=i=>i.name;return n.fold(s,s,s,s)},$2=n=>n.fold(ct,ct,ct,ct),Fd=(n,s)=>i=>{const f=Mc("Converting part type",s,i);return n(f)},Sc=Fd(bb.required,J0),$d=Fd(bb.external,UC),fu=Fd(bb.optional,F2),e1=Fd(bb.group,Zv),jh=ie("entirety");var Oy=Object.freeze({__proto__:null,required:Sc,external:$d,optional:fu,group:e1,asNamedPart:_y,name:gm,asCommon:$2,original:jh});const Wv=(n,s,i,f)=>qt(s.defaults(n,i,f),i,{uid:n.partUids[s.name]},s.overrides(n,i,f)),yb=(n,s,i)=>{const f={},b={};return dt(i,w=>{w.fold(S=>{f[S.pname]=pb(!0,(_,M,H)=>S.factory.sketch(Wv(_,S,M,H)))},S=>{const _=s.parts[S.name];b[S.name]=ie(S.factory.sketch(Wv(s,S,_[jh()]),_))},S=>{f[S.pname]=pb(!1,(_,M,H)=>S.factory.sketch(Wv(_,S,M,H)))},S=>{f[S.pname]=Vv(!0,(_,M,H)=>{const Z=_[S.name];return He(Z,K=>S.factory.sketch(qt(S.defaults(_,K,H),K,S.overrides(_,K))))})})}),{internals:ie(f),externals:ie(b)}},Fg=(n,s)=>{const i={};return dt(s,f=>{_y(f).each(b=>{const w=Vh(n,b.pname);i[b.name]=S=>{const _=Mc("Part: "+b.name+" in "+n,fo(b.schema),S);return{...w,config:S,validated:_}}})}),i},Vh=(n,s)=>({uiType:Uv(),owner:n,name:s}),Rr=(n,s,i)=>({uiType:Uv(),owner:n,name:s,config:i,validated:{}}),Hi=n=>Le(n,s=>s.fold(F.none,F.some,F.none,F.none).map(i=>cf(i.name,i.schema.concat([zv(jh())]))).toArray()),$g=n=>He(n,gm),Pc=(n,s,i)=>yb(n,s,i),vb=(n,s,i)=>VC(F.some(n),s,s.components,i),Dr=(n,s,i)=>{const f=s.partUids[i];return n.getSystem().getByUid(f).toOptional()},rd=(n,s,i)=>Dr(n,s,i).getOrDie("Could not find part: "+i),Hf=(n,s,i)=>{const f={},b=s.partUids,w=n.getSystem();return dt(i,S=>{f[S]=ie(w.getByUid(b[S]))}),f},pm=(n,s)=>{const i=n.getSystem();return os(s.partUids,(f,b)=>ie(i.getByUid(f)))},ad=n=>Do(n.partUids),Ny=(n,s,i)=>{const f={},b=s.partUids,w=n.getSystem();return dt(i,S=>{f[S]=ie(w.getByUid(b[S]).getOrDie())}),f},I2=(n,s)=>{const i=$g(s);return vc(He(i,f=>({key:f,value:n+"-"+f})))},Wm=n=>ml("partUids","partUids",lm(s=>I2(s.uid,n)),lf());var Ig=Object.freeze({__proto__:null,generate:Fg,generateOne:Rr,schemas:Hi,names:$g,substitutes:Pc,components:vb,defaultUids:I2,defaultUidsSchema:Wm,getAllParts:pm,getAllPartNames:ad,getPart:Dr,getPartOrDie:rd,getParts:Hf,getPartsOrDie:Ny});const Qa=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],mu=(n,s,i,f=1)=>{const b=n*f,w=s*f,S=M=>Hn(i,M).getOr([]),_=(M,H,Z)=>{const K=xt(Qa,Z);return{offset:hr(M,H),classesOn:Le(Z,S),classesOff:Le(K,S)}};return{southeast:()=>_(-n,s,["top","alignLeft"]),southwest:()=>_(n,s,["top","alignRight"]),south:()=>_(-n/2,s,["top","alignCentre"]),northeast:()=>_(-n,-s,["bottom","alignLeft"]),northwest:()=>_(n,-s,["bottom","alignRight"]),north:()=>_(-n/2,-s,["bottom","alignCentre"]),east:()=>_(n,-s/2,["valignCentre","left"]),west:()=>_(-n,-s/2,["valignCentre","right"]),insetNortheast:()=>_(b,w,["top","alignLeft","inset"]),insetNorthwest:()=>_(-b,w,["top","alignRight","inset"]),insetNorth:()=>_(-b/2,w,["top","alignCentre","inset"]),insetSoutheast:()=>_(b,-w,["bottom","alignLeft","inset"]),insetSouthwest:()=>_(-b,-w,["bottom","alignRight","inset"]),insetSouth:()=>_(-b/2,-w,["bottom","alignCentre","inset"]),insetEast:()=>_(-b,-w/2,["valignCentre","right","inset"]),insetWest:()=>_(b,-w/2,["valignCentre","left","inset"])}},Qi=()=>mu(0,0,{}),nc=(n,s,i,f,b,w,S,_=!1)=>({x:n,y:s,bubble:i,direction:f,placement:b,restriction:w,label:`${S}-${b}`,alwaysFit:_}),ff=Ba.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Ry=(n,s,i,f,b,w,S,_,M)=>n.fold(s,i,f,b,w,S,_,M),Uh=(n,s,i,f)=>n.fold(s,s,f,f,s,f,i,i),qm=(n,s,i,f)=>n.fold(s,f,s,f,i,i,s,f),Hg=ff.southeast,My=ff.southwest,xb=ff.northeast,Zh=ff.northwest,Gm=ff.south,qv=ff.north,t1=ff.east,Gv=ff.west,Kv=(n,s)=>{switch(s){case 1:return n.x;case 0:return n.x+n.width;case 2:return n.y;case 3:return n.y+n.height}},gl=(n,s)=>Un(["left","right","top","bottom"],i=>Hn(s,i).map(f=>Kv(n,f))),zg=(n,s,i)=>{const f=(M,H)=>s[M].map(Z=>{const K=M==="top"||M==="bottom",ae=K?i.top:i.left,xe=(M==="left"||M==="top"?Math.max:Math.min)(Z,H)+ae;return K?us(xe,n.y,n.bottom):us(xe,n.x,n.right)}).getOr(H),b=f("left",n.x),w=f("top",n.y),S=f("right",n.right),_=f("bottom",n.bottom);return Pi(b,w,S-b,_-w)},id="layout",Yv=n=>n.x,wb=(n,s)=>n.x+n.width/2-s.width/2,Cb=(n,s)=>n.x+n.width-s.width,Sb=(n,s)=>n.y-s.height,By=n=>n.y+n.height,Xv=(n,s)=>n.y+n.height/2-s.height/2,Qv=n=>n.x+n.width,Kp=(n,s)=>n.x-s.width,Ji=(n,s,i)=>nc(Yv(n),By(n),i.southeast(),Hg(),"southeast",gl(n,{left:1,top:3}),id),Kr=(n,s,i)=>nc(Cb(n,s),By(n),i.southwest(),My(),"southwest",gl(n,{right:0,top:3}),id),Al=(n,s,i)=>nc(Yv(n),Sb(n,s),i.northeast(),xb(),"northeast",gl(n,{left:1,bottom:2}),id),kl=(n,s,i)=>nc(Cb(n,s),Sb(n,s),i.northwest(),Zh(),"northwest",gl(n,{right:0,bottom:2}),id),ya=(n,s,i)=>nc(wb(n,s),Sb(n,s),i.north(),qv(),"north",gl(n,{bottom:2}),id),Oi=(n,s,i)=>nc(wb(n,s),By(n),i.south(),Gm(),"south",gl(n,{top:3}),id),Km=(n,s,i)=>nc(Qv(n),Xv(n,s),i.east(),t1(),"east",gl(n,{left:0}),id),Id=(n,s,i)=>nc(Kp(n,s),Xv(n,s),i.west(),Gv(),"west",gl(n,{right:1}),id),Ly=()=>[Ji,Kr,Al,kl,Oi,ya,Km,Id],Eb=()=>[Kr,Ji,kl,Al,Oi,ya,Km,Id],zf=()=>[Al,kl,Ji,Kr,ya,Oi],Jv=()=>[kl,Al,Kr,Ji,ya,Oi],ex=()=>[Ji,Kr,Al,kl,Oi,ya],Wh=()=>[Kr,Ji,kl,Al,Oi,ya],Py="data-alloy-placement",n1=(n,s)=>{uo(n,Py,s)},H2=n=>ii(n,Py),Tb=n=>cr(n,Py),bm="layout-inset",Fy=n=>n.x,Ab=(n,s)=>n.x+n.width/2-s.width/2,o1=(n,s)=>n.x+n.width-s.width,jg=n=>n.y,Ym=(n,s)=>n.y+n.height-s.height,Vg=(n,s)=>n.y+n.height/2-s.height/2,s1=(n,s,i)=>nc(o1(n,s),Ym(n,s),i.insetSouthwest(),Zh(),"southwest",gl(n,{right:0,bottom:3}),bm),$y=(n,s,i)=>nc(Fy(n),Ym(n,s),i.insetSoutheast(),xb(),"southeast",gl(n,{left:1,bottom:3}),bm),jf=(n,s,i)=>nc(o1(n,s),jg(n),i.insetNorthwest(),My(),"northwest",gl(n,{right:0,top:2}),bm),Il=(n,s,i)=>nc(Fy(n),jg(n),i.insetNortheast(),Hg(),"northeast",gl(n,{left:1,top:2}),bm),oc=(n,s,i)=>nc(Ab(n,s),jg(n),i.insetNorth(),Gm(),"north",gl(n,{top:2}),bm),qh=(n,s,i)=>nc(Ab(n,s),Ym(n,s),i.insetSouth(),qv(),"south",gl(n,{bottom:3}),bm),_t=(n,s,i)=>nc(o1(n,s),Vg(n,s),i.insetEast(),Gv(),"east",gl(n,{right:0}),bm),Yp=(n,s,i)=>nc(Fy(n),Vg(n,s),i.insetWest(),t1(),"west",gl(n,{left:1}),bm),Iy=n=>{switch(n){case"north":return oc;case"northeast":return Il;case"northwest":return jf;case"south":return qh;case"southeast":return $y;case"southwest":return s1;case"east":return _t;case"west":return Yp}},Fc=(n,s,i,f,b)=>H2(f).map(Iy).getOr(oc)(n,s,i,f,b),Xp=n=>{switch(n){case"north":return qh;case"northeast":return $y;case"northwest":return s1;case"south":return oc;case"southeast":return Il;case"southwest":return jf;case"east":return Yp;case"west":return _t}},ym=(n,s,i,f,b)=>H2(f).map(Xp).getOr(oc)(n,s,i,f,b),Hy=(n,s)=>{_f(n,Math.floor(s))},tx=ie((n,s)=>{Hy(n,s),Or(n,{"overflow-x":"hidden","overflow-y":"auto"})}),Gh=ie((n,s)=>{Hy(n,s)}),kb=ie((n,s)=>{wg(n,Math.floor(s))});var Vf;(function(n){n.TopToBottom="toptobottom",n.BottomToTop="bottomtotop"})(Vf||(Vf={}));const Qp="data-alloy-vertical-dir",zy=n=>Di(n,s=>Yc(s)&&ea(s,"data-alloy-vertical-dir")===Vf.BottomToTop);var Ec;(function(n){n[n.HighlightMenuAndItem=0]="HighlightMenuAndItem",n[n.HighlightJustMenu=1]="HighlightJustMenu",n[n.HighlightNone=2]="HighlightNone"})(Ec||(Ec={}));const ld={init:()=>cd({readState:ie("No State required")})},cd=n=>n,z2={can:Lt,abort:yt,run:J},Jp=n=>{if(!Oo(n,"can")&&!Oo(n,"abort")&&!Oo(n,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(n,null,2)+" does not have can, abort, or run!");return{...z2,...n}},nx=(n,s)=>(...i)=>Ho(n,(f,b)=>f&&s(b).apply(void 0,i),!0),Db=(n,s)=>(...i)=>Ho(n,(f,b)=>f||s(b).apply(void 0,i),!1),ox=n=>pe(n)?{can:Lt,abort:yt,run:n}:n,sx=n=>{const s=nx(n,b=>b.can),i=Db(n,b=>b.abort);return{can:s,abort:i,run:(...b)=>{dt(n,w=>{w.run.apply(void 0,b)})}}},fs=(n,s)=>{a1(n,n.element,s,{})},so=(n,s,i)=>{a1(n,n.element,s,i)},r1=n=>{fs(n,Ls())},jy=(n,s,i)=>{a1(n,s,i,{})},a1=(n,s,i,f)=>{const b={target:s,...f};n.getSystem().triggerEvent(i,s,b)},rx=(n,s,i,f)=>{const b={...f,target:s};n.getSystem().triggerEvent(i,s,b)},i1=(n,s,i,f)=>{n.getSystem().triggerEvent(i,s,f.event)},oa=n=>vc(n),_b=(n,s)=>({key:n,value:Jp({abort:s})}),l1=(n,s)=>({key:n,value:Jp({can:s})}),Xm=n=>({key:n,value:Jp({run:(s,i)=>{i.event.prevent()}})}),Mt=(n,s)=>({key:n,value:Jp({run:s})}),mf=(n,s,i)=>({key:n,value:Jp({run:(f,b)=>{s.apply(void 0,[f,b].concat(i))}})}),vm=n=>s=>Mt(n,s),Hd=n=>s=>({key:n,value:Jp({run:(i,f)=>{hy(i,f)&&s(i,f)}})}),Tc=(n,s)=>Mt(n,(i,f)=>{i.getSystem().getByUid(s).each(b=>{i1(b,b.element,n,f)})}),Qm=(n,s,i)=>{const f=s.partUids[i];return Tc(n,f)},e0=(n,s)=>Mt(n,(i,f)=>{const b=f.event,w=i.getSystem().getByDom(b.target).getOrThunk(()=>Cr(b.target,_=>i.getSystem().getByDom(_).toOptional(),yt).getOr(i));s(i,w,f)}),xm=n=>Mt(n,(s,i)=>{i.cut()}),ZC=n=>Mt(n,(s,i)=>{i.stop()}),t0=(n,s)=>Hd(n)(s),Lr=Hd(Lc()),hf=Hd(wc()),ax=Hd(Ff()),wm=vm(Ls()),zd=n=>({classes:Ce(n.classes)?[]:n.classes,attributes:Ce(n.attributes)?{}:n.attributes,styles:Ce(n.styles)?{}:n.styles}),sc=(n,s)=>({...n,attributes:{...n.attributes,...s.attributes},styles:{...n.styles,...s.styles},classes:n.classes.concat(s.classes)}),n0=(n,s,i)=>wm(f=>{i(f,n,s)}),Vy=(n,s,i)=>ax((f,b)=>{i(f,n,s)}),Uy=(n,s,i,f,b,w)=>{const S=Bu(n),_=$i(s,[_2("config",n)]);return Ob(S,_,s,i,f,b,w)},Zy=(n,s,i,f,b,w)=>{const S=n,_=$i(s,[um("config",n)]);return Ob(S,_,s,i,f,b,w)},j2=(n,s,i)=>jv((b,...w)=>{const S=[b].concat(w);return b.config({name:ie(n)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+n+". Using API: "+i)},_=>{const M=Array.prototype.slice.call(S,1);return s.apply(void 0,[b,_.config,_.state].concat(M))})},i,s),ix=n=>({key:n,value:void 0}),Ob=(n,s,i,f,b,w,S)=>{const _=K=>Oo(K,i)?K[i]():F.none(),M=os(b,(K,ae)=>j2(i,K,ae)),Z={...os(w,(K,ae)=>hb(K,ae)),...M,revoke:fn(ix,i),config:K=>{const ae=Mc(i+"-config",n,K);return{key:i,value:{config:ae,me:Z,configAsRaw:rl(()=>Mc(i+"-config",n,K)),initialConfig:K,state:S}}},schema:ie(s),exhibit:(K,ae)=>Ts(_(K),Hn(f,"exhibit"),(he,xe)=>xe(ae,he.config,he.state)).getOrThunk(()=>zd({})),name:ie(i),handlers:K=>_(K).map(ae=>Hn(f,"events").getOr(()=>({}))(ae.config,ae.state)).getOr({})};return Z},a=n=>vc(n),u=Bu([Wt("fields"),Wt("name"),pt("active",{}),pt("apis",{}),pt("state",ld),pt("extra",{})]),g=n=>{const s=Mc("Creating behaviour: "+n.name,u,n);return Uy(s.fields,s.name,s.active,s.apis,s.extra,s.state)},C=Bu([Wt("branchKey"),Wt("branches"),Wt("name"),pt("active",{}),pt("apis",{}),pt("state",ld),pt("extra",{})]),R=n=>{const s=Mc("Creating behaviour: "+n.name,C,n);return Zy(Kl(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},$=ie(void 0),se=(n,s)=>{const i=oa(s);return g({fields:[Wt("enabled")],name:n,active:{events:ie(i)}})},fe=(n,s)=>{const i=se(n,s);return{key:n,value:{config:{},me:i,configAsRaw:ie({}),initialConfig:{},state:ld}}},lt=n=>({init:()=>{const i=Mn(n);return{get:()=>i.get(),set:_=>i.set(_),clear:()=>i.set(n),readState:()=>i.get()}}}),Ut=(n,s)=>{s.ignore||(Fa(n.element),s.onFocus(n))};var Qt=Object.freeze({__proto__:null,focus:Ut,blur:(n,s)=>{s.ignore||ma(n.element)},isFocused:n=>Jc(n.element)}),Ns=Object.freeze({__proto__:null,exhibit:(n,s)=>{const i=s.ignore?{}:{attributes:{tabindex:"-1"}};return zd(i)},events:n=>oa([Mt(Pf(),(s,i)=>{Ut(s,n),i.stop()})].concat(n.stopMousedown?[Mt(uu(),(s,i)=>{i.event.prevent()})]:[]))}),fi=[Ps("onFocus"),pt("stopMousedown",!1),pt("ignore",!1)];const et=g({fields:fi,name:"focusing",active:Ns,apis:Qt}),ht=[8],zt=[9],hn=[13],ms=[27],Us=[32],Go=[37],rr=[38],Mr=[39],zr=[40],gf=ie("tooltipping.close.all"),Jm=ie("dismiss.popups"),pl=ie("reposition.popups"),o0=ie("mouse.released"),BT=(n,s,i)=>{const f=Nt(n.slice(0,s)),b=Nt(n.slice(s+1));return Be(f.concat(b),i)},WC=(n,s,i)=>{const f=Nt(n.slice(0,s));return Be(f,i)},LT=(n,s,i)=>{const f=n.slice(0,s),b=n.slice(s+1);return Be(b.concat(f),i)},lD=(n,s,i)=>{const f=n.slice(s+1);return Be(f,i)},Zs=n=>s=>{const i=s.raw;return Ve(n,i.which)},eh=n=>s=>Je(n,i=>i(s)),c1=n=>n.raw.shiftKey===!0,wB=n=>n.raw.ctrlKey===!0,Wy=qe(c1),Ks=(n,s)=>({matches:n,classification:s}),cD=(n,s)=>Be(n,f=>f.matches(s)).map(f=>f.classification),uD=(n,s,i,f)=>{const b=ta(n.element,"."+s.highlightClass);dt(b,w=>{It(f,_=>oe(_.element,w))||(ha(w,s.highlightClass),n.getSystem().getByDom(w).each(_=>{s.onDehighlight(n,_),fs(_,Hp())}))})},CB=(n,s,i)=>uD(n,s,i,[]),SB=(n,s,i,f)=>{ux(n,s,i,f)&&(ha(f.element,s.highlightClass),s.onDehighlight(n,f),fs(f,Hp()))},lx=(n,s,i,f)=>{uD(n,s,i,[f]),ux(n,s,i,f)||(nr(f.element,s.highlightClass),s.onHighlight(n,f),fs(f,fb()))},dD=(n,s,i)=>{V2(n,s).each(f=>{lx(n,s,i,f)})},fD=(n,s,i)=>{qC(n,s).each(f=>{lx(n,s,i,f)})},cx=(n,s,i,f)=>{hD(n,s,i,f).fold(b=>{throw b},b=>{lx(n,s,i,b)})},mD=(n,s,i,f)=>{const b=$T(n,s);Be(b,f).each(S=>{lx(n,s,i,S)})},ux=(n,s,i,f)=>Da(f.element,s.highlightClass),PT=(n,s,i)=>ur(n.element,"."+s.highlightClass).bind(f=>n.getSystem().getByDom(f).toOptional()),hD=(n,s,i,f)=>{const b=ta(n.element,"."+s.itemClass);return F.from(b[f]).fold(()=>Pn.error(new Error("No element found with index "+f)),n.getSystem().getByDom)},V2=(n,s,i)=>ur(n.element,"."+s.itemClass).bind(f=>n.getSystem().getByDom(f).toOptional()),qC=(n,s,i)=>{const f=ta(n.element,"."+s.itemClass);return(f.length>0?F.some(f[f.length-1]):F.none()).bind(w=>n.getSystem().getByDom(w).toOptional())},GC=(n,s,i,f)=>{const b=ta(n.element,"."+s.itemClass);return Ke(b,S=>Da(S,s.highlightClass)).bind(S=>{const _=Zo(S,f,0,b.length-1);return n.getSystem().getByDom(b[_]).toOptional()})},FT=(n,s,i)=>GC(n,s,i,-1),gD=(n,s,i)=>GC(n,s,i,1),$T=(n,s,i)=>{const f=ta(n.element,"."+s.itemClass);return Uo(He(f,b=>n.getSystem().getByDom(b).toOptional()))};var KC=Object.freeze({__proto__:null,dehighlightAll:CB,dehighlight:SB,highlight:lx,highlightFirst:dD,highlightLast:fD,highlightAt:cx,highlightBy:mD,isHighlighted:ux,getHighlighted:PT,getFirst:V2,getLast:qC,getPrevious:FT,getNext:gD,getCandidates:$T}),IT=[Wt("highlightClass"),Wt("itemClass"),Ps("onHighlight"),Ps("onDehighlight")];const fr=g({fields:IT,name:"highlighting",apis:KC}),HT=(n,s,i)=>{s.exists(b=>i.exists(w=>oe(w,b)))||so(n,$h(),{prevFocus:s,newFocus:i})},YC=()=>{const n=i=>ai(i.element);return{get:n,set:(i,f)=>{const b=n(i);i.getSystem().triggerFocus(f,i.element);const w=n(i);HT(i,b,w)}}},U2=()=>{const n=i=>fr.getHighlighted(i).map(f=>f.element);return{get:n,set:(i,f)=>{const b=n(i);i.getSystem().getByDom(f).fold(J,S=>{fr.highlight(i,S)});const w=n(i);HT(i,b,w)}}},s0=(n,s,i,f,b)=>{const w=()=>n.concat([pt("focusManager",YC()),Ju("focusInside","onFocus",cm(H=>Ve(["onFocus","onEnterOrSpace","onApi"],H)?Pn.value(H):Pn.error("Invalid value for focusInside"))),sr("handler",M),sr("state",s),sr("sendFocusIn",b)]),S=(H,Z,K,ae,he)=>{const xe=K(H,Z,ae,he);return cD(xe,Z.event).bind(Oe=>Oe(H,Z,ae,he))},M={schema:w,processKey:S,toEvents:(H,Z)=>{const K=H.focusInside!==Pg.OnFocusMode?F.none():b(H).map(xe=>Mt(Pf(),(Oe,ze)=>{xe(Oe,H,Z),ze.stop()})),ae=(xe,Oe)=>{const ze=Zs(Us.concat(hn))(Oe.event);H.focusInside===Pg.OnEnterOrSpaceMode&&ze&&hy(xe,Oe)&&b(H).each(Te=>{Te(xe,H,Z),Oe.stop()})},he=[Mt(Ki(),(xe,Oe)=>{S(xe,Oe,i,H,Z).fold(()=>{ae(xe,Oe)},ze=>{Oe.stop()})}),Mt(Lu(),(xe,Oe)=>{S(xe,Oe,f,H,Z).each(ze=>{Oe.stop()})})];return oa(K.toArray().concat(he))}};return M},XC=n=>{const s=[vr("onEscape"),vr("onEnter"),pt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),pt("firstTabstop",0),pt("useTabstopAt",Lt),vr("visibilitySelector")].concat([n]),i=(Te,Ye)=>{const st=Te.visibilitySelector.bind(wt=>yi(Ye,wt)).getOr(Ye);return bi(st)>0},f=(Te,Ye)=>{const st=ta(Te.element,Ye.selector),wt=xo(st,Ot=>i(Ye,Ot));return F.from(wt[Ye.firstTabstop])},b=(Te,Ye)=>Ye.focusManager.get(Te).bind(st=>yi(st,Ye.selector)),w=(Te,Ye)=>i(Te,Ye)&&Te.useTabstopAt(Ye),S=(Te,Ye,st)=>{f(Te,Ye).each(wt=>{Ye.focusManager.set(Te,wt)})},_=(Te,Ye,st,wt,Ot)=>Ot(Ye,st,kn=>w(wt,kn)).fold(()=>wt.cyclic?F.some(!0):F.none(),kn=>(wt.focusManager.set(Te,kn),F.some(!0))),M=(Te,Ye,st,wt)=>{const Ot=xo(ta(Te.element,st.selector),kn=>i(st,kn));return b(Te,st).bind(kn=>Ke(Ot,fn(oe,kn)).bind(rn=>_(Te,Ot,rn,st,wt)))},H=(Te,Ye,st)=>{const wt=st.cyclic?BT:WC;return M(Te,Ye,st,wt)},Z=(Te,Ye,st)=>{const wt=st.cyclic?LT:lD;return M(Te,Ye,st,wt)},K=Te=>vp(Te).bind(ss).exists(Ye=>oe(Ye,Te)),ae=(Te,Ye,st)=>b(Te,st).filter(wt=>!st.useTabstopAt(wt)).bind(wt=>(K(wt)?H:Z)(Te,Ye,st)),he=(Te,Ye,st)=>st.onEnter.bind(wt=>wt(Te,Ye)),xe=(Te,Ye,st)=>(Te.getSystem().broadcastOn([gf()],{closedTooltip:()=>{Ye.stop()}}),Ye.isStopped()?F.none():st.onEscape.bind(wt=>wt(Te,Ye))),Oe=ie([Ks(eh([c1,Zs(zt)]),H),Ks(Zs(zt),Z),Ks(eh([Wy,Zs(hn)]),he)]),ze=ie([Ks(Zs(ms),xe),Ks(Zs(zt),ae)]);return s0(s,ld.init,Oe,ze,()=>F.some(S))};var pD=XC(yc("cyclic",yt)),zT=XC(yc("cyclic",Lt));const qy=n=>Nl("input")(n)&&ea(n,"type")!=="radio"||Nl("textarea")(n),jT=(n,s,i)=>(jy(n,i,Ls()),F.some(!0)),dx=(n,s,i)=>qy(i)&&Zs(Us)(s.event)?F.none():jT(n,s,i),fx=(n,s)=>F.some(!0),QC=[pt("execute",dx),pt("useSpace",!1),pt("useEnter",!0),pt("useControlEnter",!1),pt("useDown",!1)],u1=(n,s,i)=>i.execute(n,s,n.element),VT=(n,s,i,f)=>{const b=i.useSpace&&!qy(n.element)?Us:[],w=i.useEnter?hn:[],S=i.useDown?zr:[],_=b.concat(w).concat(S);return[Ks(Zs(_),u1)].concat(i.useControlEnter?[Ks(eh([wB,Zs(hn)]),u1)]:[])},UT=(n,s,i,f)=>i.useSpace&&!qy(n.element)?[Ks(Zs(Us),fx)]:[];var ZT=s0(QC,ld.init,VT,UT,()=>F.none());const WT=()=>{const n=Co();return cd({readState:()=>n.get().map(b=>({numRows:String(b.numRows),numColumns:String(b.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(b,w)=>{n.set({numRows:b,numColumns:w})},getNumRows:()=>n.get().map(b=>b.numRows),getNumColumns:()=>n.get().map(b=>b.numColumns)})};var qT=Object.freeze({__proto__:null,flatgrid:WT,init:n=>n.state(n)});const Z2=n=>(s,i,f,b)=>{const w=n(s.element);return G2(w,s,i,f,b)},W2=(n,s)=>{const i=Eg(n,s);return Z2(i)},mx=(n,s)=>{const i=Eg(s,n);return Z2(i)},q2=n=>(s,i,f,b)=>G2(n,s,i,f,b),G2=(n,s,i,f,b)=>f.focusManager.get(s).bind(S=>n(s.element,S,f,b)).map(S=>(f.focusManager.set(s,S),!0)),jn=q2,d1=q2,Ug=q2,hx=(n,s)=>Ke(n,s).map(i=>({index:i,candidates:n})),GT=(n,s,i)=>{const f=S=>oe(S,s),b=ta(n,i),w=xo(b,qa);return hx(w,f)},JC=(n,s)=>Ke(n,i=>oe(s,i)),eS=(n,s,i,f)=>{const b=Math.floor(s/i),w=s%i;return f(b,w).bind(S=>{const _=S.row*i+S.column;return _>=0&&_<n.length?F.some(n[_]):F.none()})},KT=(n,s,i,f,b)=>eS(n,s,f,(w,S)=>{const M=w===i-1?n.length-w*f:f,H=Zo(S,b,0,M-1);return F.some({row:w,column:H})}),YT=(n,s,i,f,b)=>eS(n,s,f,(w,S)=>{const _=Zo(w,b,0,i-1),H=_===i-1?n.length-_*f:f,Z=us(S,0,H-1);return F.some({row:_,column:Z})}),XT=(n,s,i,f)=>KT(n,s,i,f,1),K2=(n,s,i,f)=>KT(n,s,i,f,-1),bl=(n,s,i,f)=>YT(n,s,i,f,-1),th=(n,s,i,f)=>YT(n,s,i,f,1),Y2=[Wt("selector"),pt("execute",dx),tc("onEscape"),pt("captureTab",!1),mb()],QT=(n,s,i)=>{ur(n.element,s.selector).each(f=>{s.focusManager.set(n,f)})},JT=(n,s)=>s.focusManager.get(n).bind(i=>yi(i,s.selector)),eA=(n,s,i,f)=>JT(n,i).bind(b=>i.execute(n,s,b)),X2=n=>(s,i,f,b)=>GT(s,i,f.selector).bind(w=>n(w.candidates,w.index,b.getNumRows().getOr(f.initSize.numRows),b.getNumColumns().getOr(f.initSize.numColumns))),tS=(n,s,i)=>i.captureTab?F.some(!0):F.none(),tA=(n,s,i)=>i.onEscape(n,s),nA=X2(K2),gx=X2(XT),nS=X2(bl),Q2=X2(th),oS=ie([Ks(Zs(Go),W2(nA,gx)),Ks(Zs(Mr),mx(nA,gx)),Ks(Zs(rr),jn(nS)),Ks(Zs(zr),d1(Q2)),Ks(eh([c1,Zs(zt)]),tS),Ks(eh([Wy,Zs(zt)]),tS),Ks(Zs(Us.concat(hn)),eA)]),bD=ie([Ks(Zs(ms),tA),Ks(Zs(Us),fx)]);var oA=s0(Y2,WT,oS,bD,()=>F.some(QT));const sA=(n,s,i,f,b)=>{const w=_=>yd(_)==="button"&&ea(_,"disabled")==="disabled",S=(_,M,H)=>b(_,M,f,0,H.length-1,H[M],Z=>w(H[Z])?S(_,Z,H):F.from(H[Z]));return GT(n,i,s).bind(_=>{const M=_.index,H=_.candidates;return S(M,M,H)})},J2=(n,s,i,f)=>sA(n,s,i,f,(b,w,S,_,M,H,Z)=>{const K=us(w+S,_,M);return K===b?F.from(H):Z(K)}),Nb=(n,s,i,f)=>sA(n,s,i,f,(b,w,S,_,M,H,Z)=>{const K=Zo(w,S,_,M);return K===b?F.none():Z(K)}),rA=[Wt("selector"),pt("getInitial",F.none),pt("execute",dx),tc("onEscape"),pt("executeOnMove",!1),pt("allowVertical",!0),pt("allowHorizontal",!0),pt("cycles",!0)],aA=(n,s)=>s.focusManager.get(n).bind(i=>yi(i,s.selector)),ew=(n,s,i)=>aA(n,i).bind(f=>i.execute(n,s,f)),yD=(n,s,i)=>{s.getInitial(n).orThunk(()=>ur(n.element,s.selector)).each(f=>{s.focusManager.set(n,f)})},vD=(n,s,i)=>(i.cycles?Nb:J2)(n,i.selector,s,-1),Rb=(n,s,i)=>(i.cycles?Nb:J2)(n,i.selector,s,1),sS=n=>(s,i,f,b)=>n(s,i,f,b).bind(()=>f.executeOnMove?ew(s,i,f):F.some(!0)),xD=(n,s,i)=>i.onEscape(n,s),wD=(n,s,i,f)=>{const b=[...i.allowHorizontal?Go:[]].concat(i.allowVertical?rr:[]),w=[...i.allowHorizontal?Mr:[]].concat(i.allowVertical?zr:[]);return[Ks(Zs(b),sS(W2(vD,Rb))),Ks(Zs(w),sS(mx(vD,Rb))),Ks(Zs(hn),ew),Ks(Zs(Us),ew)]},iA=ie([Ks(Zs(Us),fx),Ks(Zs(ms),xD)]);var CD=s0(rA,ld.init,wD,iA,()=>F.some(yD));const rS=(n,s,i)=>F.from(n[s]).bind(f=>F.from(f[i]).map(b=>({rowIndex:s,columnIndex:i,cell:b}))),tw=(n,s,i,f)=>{const w=n[s].length,S=Zo(i,f,0,w-1);return rS(n,s,S)},aS=(n,s,i,f)=>{const b=Zo(i,f,0,n.length-1),w=n[b].length,S=us(s,0,w-1);return rS(n,b,S)},Zg=(n,s,i,f)=>{const w=n[s].length,S=us(i+f,0,w-1);return rS(n,s,S)},lA=(n,s,i,f)=>{const b=us(i+f,0,n.length-1),w=n[b].length,S=us(s,0,w-1);return rS(n,b,S)},nw=(n,s,i)=>tw(n,s,i,1),SD=(n,s,i)=>tw(n,s,i,-1),f1=(n,s,i)=>aS(n,i,s,-1),ED=(n,s,i)=>aS(n,i,s,1),TD=(n,s,i)=>Zg(n,s,i,-1),TB=(n,s,i)=>Zg(n,s,i,1),AB=(n,s,i)=>lA(n,i,s,-1),Gy=(n,s,i)=>lA(n,i,s,1),px=[cf("selectors",[Wt("row"),Wt("cell")]),pt("cycles",!0),pt("previousSelector",F.none),pt("execute",dx)],iS=(n,s,i)=>{s.previousSelector(n).orThunk(()=>{const b=s.selectors;return ur(n.element,b.cell)}).each(b=>{s.focusManager.set(n,b)})},AD=(n,s,i)=>ai(n.element).bind(f=>i.execute(n,s,f)),kD=(n,s)=>He(n,i=>ta(i,s.selectors.cell)),ow=(n,s)=>(i,f,b)=>{const w=b.cycles?n:s;return yi(f,b.selectors.row).bind(S=>{const _=ta(S,b.selectors.cell);return JC(_,f).bind(M=>{const H=ta(i,b.selectors.row);return JC(H,S).bind(Z=>{const K=kD(H,b);return w(K,Z,M).map(ae=>ae.cell)})})})},cA=ow(SD,TD),uA=ow(nw,TB),bx=ow(f1,AB),sw=ow(ED,Gy),lS=ie([Ks(Zs(Go),W2(cA,uA)),Ks(Zs(Mr),mx(cA,uA)),Ks(Zs(rr),jn(bx)),Ks(Zs(zr),d1(sw)),Ks(Zs(Us.concat(hn)),AD)]),yx=ie([Ks(Zs(Us),fx)]);var cS=s0(px,ld.init,lS,yx,()=>F.some(iS));const DD=[Wt("selector"),pt("execute",dx),pt("moveOnTab",!1)],vx=(n,s,i)=>i.focusManager.get(n).bind(f=>i.execute(n,s,f)),dA=(n,s,i)=>{ur(n.element,s.selector).each(f=>{s.focusManager.set(n,f)})},rw=(n,s,i)=>Nb(n,i.selector,s,-1),aw=(n,s,i)=>Nb(n,i.selector,s,1),Mb=(n,s,i,f)=>i.moveOnTab?Ug(rw)(n,s,i,f):F.none(),_D=(n,s,i,f)=>i.moveOnTab?Ug(aw)(n,s,i,f):F.none(),Wg=ie([Ks(Zs(rr),Ug(rw)),Ks(Zs(zr),Ug(aw)),Ks(eh([c1,Zs(zt)]),Mb),Ks(eh([Wy,Zs(zt)]),_D),Ks(Zs(hn),vx),Ks(Zs(Us),vx)]),OD=ie([Ks(Zs(Us),fx)]);var fA=s0(DD,ld.init,Wg,OD,()=>F.some(dA));const ND=[tc("onSpace"),tc("onEnter"),tc("onShiftEnter"),tc("onLeft"),tc("onRight"),tc("onTab"),tc("onShiftTab"),tc("onUp"),tc("onDown"),tc("onEscape"),pt("stopSpaceKeyup",!1),vr("focusIn")],kB=(n,s,i)=>[Ks(Zs(Us),i.onSpace),Ks(eh([Wy,Zs(hn)]),i.onEnter),Ks(eh([c1,Zs(hn)]),i.onShiftEnter),Ks(eh([c1,Zs(zt)]),i.onShiftTab),Ks(eh([Wy,Zs(zt)]),i.onTab),Ks(Zs(rr),i.onUp),Ks(Zs(zr),i.onDown),Ks(Zs(Go),i.onLeft),Ks(Zs(Mr),i.onRight),Ks(Zs(Us),i.onSpace)],iw=(n,s,i)=>[...i.stopSpaceKeyup?[Ks(Zs(Us),fx)]:[],Ks(Zs(ms),i.onEscape)];var RD=s0(ND,ld.init,kB,iw,n=>n.focusIn);const MD=pD.schema(),BD=zT.schema(),uS=CD.schema(),LD=oA.schema(),mA=cS.schema(),dS=ZT.schema(),PD=fA.schema(),FD=RD.schema();var fS=Object.freeze({__proto__:null,acyclic:MD,cyclic:BD,flow:uS,flatgrid:LD,matrix:mA,execution:dS,menu:PD,special:FD});const hA=n=>Oo(n,"setGridSize"),lo=R({branchKey:"mode",branches:fS,name:"keying",active:{events:(n,s)=>n.handler.toEvents(n,s)},apis:{focusIn:(n,s,i)=>{s.sendFocusIn(s).fold(()=>{n.getSystem().triggerFocus(n.element,n.element)},f=>{f(n,s,i)})},setGridSize:(n,s,i,f,b)=>{hA(i)?i.setGridSize(f,b):console.error("Layout does not support setGridSize")}},state:qT}),xx=me("alloy-premade"),gA=n=>(Object.defineProperty(n.element.dom,xx,{value:n.uid,writable:!0}),za(xx,n)),$D=n=>ts(n.dom,xx),mS=n=>Hn(n,xx),wx=n=>R2((s,...i)=>n(s.getApis(),s,...i),n),lw=n=>n.getSystem().isConnected(),Cx=n=>{fs(n,wc());const s=n.components();dt(s,Cx)},Ky=n=>{const s=n.components();dt(s,Ky),fs(n,Lc())},hS=(n,s)=>{n.getSystem().addToWorld(s),Is(n.element)&&Ky(s)},gS=n=>{Cx(n),n.getSystem().removeFromWorld(n)},pA=(n,s)=>{ra(n.element,s.element)},pS=n=>{dt(n.components(),s=>eu(s.element)),Cp(n.element),n.syncComponents()},bA=(n,s,i)=>{const f=n.components();pS(n);const b=i(s),w=xt(f,b);dt(w,S=>{Cx(S),n.getSystem().removeFromWorld(S)}),dt(b,S=>{lw(S)?pA(n,S):(n.getSystem().addToWorld(S),pA(n,S),Is(n.element)&&Ky(S))}),n.syncComponents()},Yy=(n,s,i)=>{const f=n.components(),b=Le(s,_=>mS(_).toArray());dt(f,_=>{Ve(b,_)||gS(_)});const w=i(s),S=xt(f,w);dt(S,_=>{lw(_)&&gS(_)}),dt(w,_=>{lw(_)||hS(n,_)}),n.syncComponents()},r0=(n,s)=>{Xy(n,s,ra)},Xy=(n,s,i)=>{n.getSystem().addToWorld(s),i(n.element,s.element),Is(n.element)&&Ky(s),n.syncComponents()},a0=n=>{Cx(n),eu(n.element),n.getSystem().removeFromWorld(n)},i0=n=>{const s=xl(n.element).bind(i=>n.getSystem().getByDom(i).toOptional());a0(n),s.each(i=>{i.syncComponents()})},yA=n=>{const s=n.components();dt(s,a0),Cp(n.element),n.syncComponents()},Sx=(n,s)=>{vA(n,s,ra)},nh=(n,s)=>{vA(n,s,xp)},vA=(n,s,i)=>{i(n,s.element);const f=Uu(s.element);dt(f,b=>{s.getByDom(b).each(Ky)})},xA=n=>{const s=Uu(n.element);dt(s,i=>{n.getByDom(i).each(Cx)}),eu(n.element)},bS=(n,s,i)=>tm(n,s).map(b=>{if(i.exists(S=>!oe(S,b))){const S=i.map(yd).getOr("span"),_=mn.fromTag(S);return om(b,_),_}else return b}),yS=(n,s,i)=>{i.fold(()=>ra(n,s),f=>{oe(f,s)||(om(f,s),eu(f))})},wA=(n,s,i)=>{const f=He(s,i),b=Uu(n);return dt(b.slice(f.length),eu),f},CA=(n,s,i,f)=>{const b=tm(n,s),w=f(i,b),S=bS(n,s,b);return yS(n,w.element,S),w},ID=(n,s,i)=>wA(n,s,(f,b)=>CA(n,b,f,i)),SA=(n,s)=>wA(n,s,(i,f)=>{const b=tm(n,f);return yS(n,i,b),i}),Bb=(n,s)=>{const i=Ai(s),f=ri(i).bind(w=>{const S=_=>oe(w,_);return S(s)?F.some(s):Tg(s,S)}),b=n(s);return f.each(w=>{ri(i).filter(S=>oe(S,w)).fold(()=>{Fa(w)},J)}),b},vS=(n,s)=>{Bb(()=>{bA(n,s,()=>He(s,n.getSystem().build))},n.element)},EA=(n,s)=>{Bb(()=>{Yy(n,s,()=>ID(n.element,s,n.getSystem().buildOrPatch))},n.element)},xS=(n,s,i,f)=>{gS(s);const b=CA(n.element,i,f,n.getSystem().buildOrPatch);hS(n,b),n.syncComponents()},wS=(n,s,i)=>{const f=n.getSystem().build(i);Xy(n,f,s)},CS=(n,s,i,f)=>{i0(s),wS(n,(b,w)=>Mm(b,w,i),f)},HD=(n,s,i,f)=>(s.reuseDom?EA:vS)(n,f),Lb=(n,s,i,f)=>{wS(n,ra,f)},Pb=(n,s,i,f)=>{wS(n,wp,f)},cw=(n,s,i,f)=>{const b=uw(n);Be(b,S=>oe(f.element,S.element)).each(i0)},uw=(n,s)=>n.components(),TA=(n,s,i,f,b)=>{const w=uw(n);return F.from(w[f]).map(S=>(b.fold(()=>i0(S),_=>{(s.reuseDom?xS:CS)(n,S,f,_)}),S))};var AA=Object.freeze({__proto__:null,append:Lb,prepend:Pb,remove:cw,replaceAt:TA,replaceBy:(n,s,i,f,b)=>{const w=uw(n);return Ke(w,f).bind(S=>TA(n,s,i,S,b))},set:HD,contents:uw});const jo=g({fields:[Gi("reuseDom",!0)],name:"replacing",apis:AA}),dw=(n,s,i)=>oe(s,n.element)&&!oe(s,i),Uf=oa([l1(Pf(),(n,s)=>{const i=s.event,f=i.originator,b=i.target;return dw(n,f,b)?(console.warn(Pf()+` did not get interpreted by the desired target. 
Originator: `+Md(f)+`
Target: `+Md(b)+`
Check the `+Pf()+" event handlers"),!1):!0})]);var Ex=Object.freeze({__proto__:null,events:Uf});const jD=ie("alloy-id-"),fw=ie("data-alloy-id"),VD=jD(),SS=fw(),ES=(n,s)=>{const i=me(VD+n);return Tx(s,i),i},Tx=(n,s)=>{Object.defineProperty(n.dom,SS,{value:s,writable:!0})},Kh=n=>{const s=Yc(n)?n.dom[SS]:null;return F.from(s)},Qy=n=>me(n),UD=ct,Fb=n=>{const s=b=>`The component must be in a context to execute: ${b}`+(n?`
`+Md(n().element)+" is not in context.":""),i=b=>()=>{throw new Error(s(b))},f=b=>()=>{console.warn(s(b))};return{debugInfo:ie("fake"),triggerEvent:f("triggerEvent"),triggerFocus:f("triggerFocus"),triggerEscape:f("triggerEscape"),broadcast:f("broadcast"),broadcastOn:f("broadcastOn"),broadcastEvent:f("broadcastEvent"),build:i("build"),buildOrPatch:i("buildOrPatch"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:yt}},Ax=Fb(),mw=(n,s)=>{const i=He(s,b=>$i(b.name(),[Wt("config"),pt("state",ld)])),f=ga("component.behaviours",fo(i),n.behaviours).fold(b=>{throw new Error(Mg(b)+`
Complete spec:
`+JSON.stringify(n,null,2))},ct);return{list:s,data:os(f,b=>{const w=b.map(S=>({config:S.config,state:S.state.init(S.config)}));return ie(w)})}},Hl=n=>n.list,ZD=n=>n.data,TS=(n,s)=>{const i={};return zo(n,(f,b)=>{zo(f,(w,S)=>{const _=Hn(i,S).getOr([]);i[S]=_.concat([s(b,w)])})}),i},m1=(n,s,i,f)=>{const b={...s};dt(i,Z=>{b[Z.name()]=Z.exhibit(n,f)});const w=TS(b,(Z,K)=>({name:Z,modification:K})),S=Z=>Mo(Z,(K,ae)=>({...ae.modification,...K}),{}),_=Mo(w.classes,(Z,K)=>K.modification.concat(Z),[]),M=S(w.attributes),H=S(w.styles);return zd({classes:_,attributes:M,styles:H})},qg=(n,s,i,f)=>{try{const b=Pe(i,(w,S)=>{const _=w[s],M=S[s],H=f.indexOf(_),Z=f.indexOf(M);if(H===-1)throw new Error("The ordering for "+n+" does not have an entry for "+_+`.
Order specified: `+JSON.stringify(f,null,2));if(Z===-1)throw new Error("The ordering for "+n+" does not have an entry for "+M+`.
Order specified: `+JSON.stringify(f,null,2));return H<Z?-1:Z<H?1:0});return Pn.value(b)}catch(b){return Pn.error([b])}},AS=(n,s)=>({handler:n,purpose:s}),kA=(n,s)=>({cHandler:n,purpose:s}),WD=(n,s)=>kA(fn.apply(void 0,[n.handler].concat(s)),n.purpose),hw=n=>n.cHandler,kx=(n,s)=>({name:n,handler:s}),h1=(n,s)=>{const i={};return dt(n,f=>{i[f.name()]=f.handlers(s)}),i},gw=(n,s,i)=>{const f={...i,...h1(s,n)};return TS(f,kx)},pw=(n,s,i,f)=>{const b=gw(n,i,f);return bw(b,s)},g1=n=>{const s=ox(n);return(i,f,...b)=>{const w=[i,f].concat(b);s.abort.apply(void 0,w)?f.stop():s.can.apply(void 0,w)&&s.run.apply(void 0,w)}},Dx=(n,s)=>Pn.error(["The event ("+n+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(He(s,i=>i.name),null,2)]),kS=(n,s,i)=>{const f=s[i];return f?qg("Event: "+i,"name",n,f).map(b=>{const w=He(b,S=>S.handler);return sx(w)}):Dx(i,n)},bw=(n,s)=>{const i=Es(n,(f,b)=>(f.length===1?Pn.value(f[0].handler):kS(f,s,b)).map(S=>{const _=g1(S),M=f.length>1?xo(s[b],H=>It(f,Z=>Z.name===H)).join(" > "):f[0].name;return za(b,AS(_,M))}));return O2(i,{})},Yh="alloy.base.behaviour",DA=fo([ml("dom","dom",Od(),fo([Wt("tag"),pt("styles",{}),pt("classes",[]),pt("attributes",{}),vr("value"),vr("innerHtml")])),Wt("components"),Wt("uid"),pt("events",{}),pt("apis",{}),ml("eventOrder","eventOrder",Np({[Ls()]:["disabling",Yh,"toggling","typeaheadevents"],[Pf()]:[Yh,"focusing","keying"],[Ff()]:[Yh,"disabling","toggling","representing","tooltipping"],[Bf()]:[Yh,"representing","streaming","invalidating"],[wc()]:[Yh,"representing","item-events","toolbar-button-events","tooltipping"],[uu()]:["focusing",Yh,"item-type-events"],[ed()]:["focusing",Yh,"item-type-events"],[Jl()]:["item-type-events","tooltipping"],[Fh()]:["receiving","reflecting","tooltipping"]}),lf()),vr("domModification")]),Gg=n=>ga("custom.definition",DA,n),DS=n=>({...n.dom,uid:n.uid,domChildren:He(n.components,s=>s.element)}),yw=n=>n.domModification.fold(()=>zd({}),zd),Jy=n=>n.events,_x=(n,s)=>{const i=Do(n),f=Do(s),b=xt(f,i),w=gs(n,(S,_)=>!ts(s,_)||S!==s[_]).t;return{toRemove:b,toSet:w}},vw=(n,s)=>{const{class:i,style:f,...b}=Nc(s),{toSet:w,toRemove:S}=_x(n.attributes,b),_=()=>{dt(S,st=>cr(s,st)),ku(s,w)},M=li(s),{toSet:H,toRemove:Z}=_x(n.styles,M),K=()=>{dt(Z,st=>cs(s,st)),Or(s,H)},ae=Ou(s),he=xt(ae,n.classes),xe=xt(n.classes,ae),Oe=()=>{Ku(s,xe),El(s,he)},ze=st=>{Rl(s,st)},Te=()=>{const st=n.domChildren;SA(s,st)},Ye=()=>{const st=s,wt=n.value.getOrUndefined();wt!==pc(st)&&Dd(st,wt??"")};return _(),Oe(),K(),n.innerHtml.fold(Te,ze),Ye(),s},qD=n=>{const s=mn.fromTag(n.tag);ku(s,n.attributes),Ku(s,n.classes),Or(s,n.styles),n.innerHtml.each(f=>Rl(s,f));const i=n.domChildren;return Eh(s,i),n.value.each(f=>{Dd(s,f)}),s},_A=(n,s)=>{try{const i=vw(n,s);return F.some(i)}catch{return F.none()}},xw=n=>n.innerHtml.isSome()&&n.domChildren.length>0,GD=(n,s)=>{const i=b=>yd(b)===n.tag&&!xw(n)&&!$D(b),f=s.filter(i).bind(b=>_A(n,b)).getOrThunk(()=>qD(n));return Tx(f,n.uid),f},_S=n=>{const s=Hn(n,"behaviours").getOr({});return Le(Do(s),i=>{const f=s[i];return $e(f)?[f.me]:[]})},Xh=(n,s)=>mw(n,s),OS=n=>{const s=_S(n);return Xh(n,s)},KD=(n,s,i)=>{const f=DS(n),b=yw(n),w={"alloy.base.modification":b},S=s.length>0?m1(i,w,s,f):b;return sc(f,S)},OA=(n,s,i)=>{const f={"alloy.base.behaviour":Jy(n)};return pw(i,n.eventOrder,s,f).getOrDie()},NA=(n,s)=>{const i=()=>st,f=Mn(Ax),b=Qu(Gg(n)),w=OS(n),S=Hl(w),_=ZD(w),M=KD(b,S,_),H=GD(M,s),Z=OA(b,S,_),K=Mn(b.components),ae=wt=>{f.set(wt)},he=()=>{f.set(Fb(i))},xe=()=>{const wt=Uu(H),Ot=Le(wt,kn=>f.get().getByDom(kn).fold(()=>[],Dt));K.set(Ot)},Oe=wt=>{const Ot=_;return(pe(Ot[wt.name()])?Ot[wt.name()]:()=>{throw new Error("Could not find "+wt.name()+" in "+JSON.stringify(n,null,2))})()},ze=wt=>pe(_[wt.name()]),Te=()=>b.apis,Ye=wt=>_[wt]().map(Ot=>Ot.state.readState()).getOr("not enabled"),st={uid:n.uid,getSystem:f.get,config:Oe,hasConfigured:ze,spec:n,readState:Ye,getApis:Te,connect:ae,disconnect:he,element:H,syncComponents:xe,components:K.get,events:Z};return st},RA=(n,s)=>{const i=Hn(n,"components").getOr([]);return s.fold(()=>He(i,E),f=>He(i,(b,w)=>y(b,tm(f,w))))},YD=(n,s)=>{const{events:i,...f}=UD(n),b=RA(f,s),w={...f,events:{...Ex,...i},components:b};return Pn.value(NA(w,s))},Ra=n=>{const s=mn.fromText(n);return Zf({element:s})},Zf=n=>{const s=Mc("external.component",Bu([Wt("element"),vr("uid")]),n),i=Mn(Fb()),f=_=>{i.set(_)},b=()=>{i.set(Fb(()=>S))},w=s.uid.getOrThunk(()=>Qy("external"));Tx(s.element,w);const S={uid:w,getSystem:i.get,config:F.none,hasConfigured:yt,connect:f,disconnect:b,getApis:()=>({}),element:s.element,spec:n,readState:ie("No state"),syncComponents:J,components:ie([]),events:{}};return gA(S)},ev=Qy,m=n=>ts(n,"uid"),y=(n,s)=>mS(n).getOrThunk(()=>{const i=m(n)?n:{uid:ev(""),...n};return YD(i,s).getOrDie()}),E=n=>y(n,F.none()),D=gA;var de=Object.freeze({__proto__:null,block:(n,s,i,f)=>{uo(n.element,"aria-busy",!0);const b=s.getRoot(n).getOr(n),w=a([lo.config({mode:"special",onTab:()=>F.some(!0),onShiftTab:()=>F.some(!0)}),et.config({})]),S=f(b,w),_=b.getSystem().build(S);jo.append(b,D(_)),_.hasConfigured(lo)&&s.focus&&lo.focusIn(_),i.isBlocked()||s.onBlock(n),i.blockWith(()=>jo.remove(b,_))},unblock:(n,s,i)=>{cr(n.element,"aria-busy"),i.isBlocked()&&s.onUnblock(n),i.clear()},isBlocked:(n,s,i)=>i.isBlocked()}),Ee=[dr("getRoot",F.none),Gi("focus",!0),Ps("onBlock"),Ps("onUnblock")],gt=Object.freeze({__proto__:null,init:()=>{const n=Ci(),s=i=>{n.set({destroy:i})};return cd({readState:n.isSet,blockWith:s,clear:n.clear,isBlocked:n.isSet})}});const tn=g({fields:Ee,name:"blocking",apis:de,state:gt});var Rn=Object.freeze({__proto__:null,getCurrent:(n,s,i)=>s.find(n)});const ro=[Wt("find")],$t=g({fields:ro,name:"composing",apis:Rn});var Xo=Object.freeze({__proto__:null,getCoupled:(n,s,i,f)=>i.getOrCreate(n,s,f),getExistingCoupled:(n,s,i,f)=>i.getExisting(n,s,f)}),Kn=[Bc("others",$v(Pn.value,lf()))],Er=Object.freeze({__proto__:null,init:()=>{const n={},s=(w,S)=>{if(Do(w.others).length===0)throw new Error("Cannot find any known coupled components");return Hn(n,S)},i=(w,S,_)=>s(S,_).getOrThunk(()=>{const H=Hn(S.others,_).getOrDie("No information found for coupled component: "+_)(w),Z=w.getSystem().build(H);return n[_]=Z,Z}),f=(w,S,_)=>s(S,_).orThunk(()=>(Hn(S.others,_).getOrDie("No information found for coupled component: "+_),F.none())),b=ie({});return cd({readState:b,getExisting:f,getOrCreate:i})}});const Wo=g({fields:Kn,name:"coupling",apis:Xo,state:Er}),el=["input","button","textarea","select"],Cm=(n,s,i)=>{(s.disabled()?$u:Wf)(n,s)},l0=(n,s)=>s.useNative===!0&&Ve(el,yd(n.element)),p1=n=>$a(n.element,"disabled"),$b=n=>{uo(n.element,"disabled","disabled")},jr=n=>{cr(n.element,"disabled")},ud=n=>ea(n.element,"aria-disabled")==="true",wi=n=>{uo(n.element,"aria-disabled","true")},Qh=n=>{uo(n.element,"aria-disabled","false")},$u=(n,s,i)=>{s.disableClass.each(b=>{nr(n.element,b)}),(l0(n,s)?$b:wi)(n),s.onDisabled(n)},Wf=(n,s,i)=>{s.disableClass.each(b=>{ha(n.element,b)}),(l0(n,s)?jr:Qh)(n),s.onEnabled(n)},$c=(n,s)=>l0(n,s)?p1(n):ud(n);var Ox=Object.freeze({__proto__:null,enable:Wf,disable:$u,isDisabled:$c,onLoad:Cm,set:(n,s,i,f)=>{(f?$u:Wf)(n,s)}}),XD=Object.freeze({__proto__:null,exhibit:(n,s)=>zd({classes:s.disabled()?s.disableClass.toArray():[]}),events:(n,s)=>oa([_b(Ls(),(i,f)=>$c(i,n)),Vy(n,s,Cm)])}),MA=[dr("disabled",yt),pt("useNative",!0),vr("disableClass"),Ps("onDisabled"),Ps("onEnabled")];const eo=g({fields:MA,name:"disabling",active:XD,apis:Ox}),jd=(n,s,i,f,b)=>{const w=S=>S+"px";return{position:n,left:s.map(w),top:i.map(w),right:f.map(w),bottom:b.map(w)}},QD=n=>({...n,position:F.some(n.position)}),Cw=(n,s)=>{Wa(n,QD(s))},BA=(n,s)=>{const i=n.element;nr(i,s.transitionClass),ha(i,s.fadeOutClass),nr(i,s.fadeInClass),s.onShow(n)},Ib=(n,s)=>{const i=n.element;nr(i,s.transitionClass),ha(i,s.fadeInClass),nr(i,s.fadeOutClass),s.onHide(n)},JD=(n,s)=>n.y<s.bottom&&n.bottom>s.y,LA=(n,s)=>n.y>=s.y,NS=(n,s)=>n.bottom<=s.bottom,RS=(n,s,i)=>({location:"top",leftX:s,topY:i.bounds.y-n.y}),PA=(n,s,i)=>({location:"bottom",leftX:s,bottomY:n.bottom-i.bounds.bottom}),MS=n=>n.box.x-n.win.x,Dz=(n,s,i)=>{const f=s.win,b=s.box,w=MS(s);return Jo(n,S=>{switch(S){case"bottom":return NS(b,i.bounds)?F.none():F.some(PA(f,w,i));case"top":return LA(b,i.bounds)?F.none():F.some(RS(f,w,i));default:return F.none()}}).getOr({location:"no-dock"})},_z=(n,s,i)=>Je(n,f=>{switch(f){case"bottom":return NS(s,i.bounds);case"top":return LA(s,i.bounds)}}),Oz=(n,s)=>{const i=s.optScrollEnv.fold(ie(n.bounds.y),f=>f.scrollElmTop+(n.bounds.y-f.currentScrollTop));return hr(n.bounds.x,i)},BS=(n,s)=>{const i=s.optScrollEnv.fold(ie(n.y),f=>n.y+f.currentScrollTop-f.scrollElmTop);return hr(n.x,i)},LS=(n,s,i)=>i.getInitialPos().map(f=>{const b=Oz(f,s);return{box:Pi(b.left,b.top,Bi(n),bi(n)),location:f.location}}),DB=(n,s,i,f,b)=>{const w=BS(s,i),S=Pi(w.left,w.top,s.width,s.height);f.setInitialPos({style:li(n),position:yr(n,"position")||"static",bounds:S,location:b.location})},_B=(n,s,i,f,b)=>{f.getInitialPos().fold(()=>DB(n,s,i,f,b),()=>J)},OB=(n,s,i)=>i.getInitialPos().bind(f=>{switch(i.clearInitialPos(),f.position){case"static":return F.some({morph:"static"});case"absolute":const b=af(n).getOr(Ml()),w=_i(b),S=b.dom.scrollTop??0;return F.some({morph:"absolute",positionCss:jd("absolute",Hn(f.style,"left").map(_=>s.x-w.x),Hn(f.style,"top").map(_=>s.y-w.y+S),Hn(f.style,"right").map(_=>w.right-s.right),Hn(f.style,"bottom").map(_=>w.bottom-s.bottom))});default:return F.none()}}),NB=(n,s,i)=>LS(n,s,i).filter(({box:f})=>_z(i.getModes(),f,s)).bind(({box:f})=>OB(n,f,i)),PS=n=>{switch(n.location){case"top":return F.some({morph:"fixed",positionCss:jd("fixed",F.some(n.leftX),F.some(n.topY),F.none(),F.none())});case"bottom":return F.some({morph:"fixed",positionCss:jd("fixed",F.some(n.leftX),F.none(),F.none(),F.some(n.bottomY))});default:return F.none()}},Sw=(n,s,i)=>{const f=_i(n),b=bc(),w=Dz(i.getModes(),{win:b,box:f},s);return w.location==="top"||w.location==="bottom"?(DB(n,f,s,i,w),PS(w)):F.none()},e_=(n,s,i)=>NB(n,s,i).orThunk(()=>s.optScrollEnv.bind(f=>LS(n,s,i)).bind(({box:f,location:b})=>{const w=bc(),S=MS({win:w,box:f}),_=b==="top"?RS(w,S,s):PA(w,S,s);return PS(_)})),Nz=(n,s,i)=>{const f=n.element;return oo(Gr(f,"position"),"fixed")?e_(f,s,i):Sw(f,s,i)},Rz=(n,s,i)=>{const f=n.element;return LS(f,s,i).bind(({box:b})=>OB(f,b,i))},RB=(n,s,i,f)=>{const b=_i(n),w=bc(),S=MS({win:w,box:b}),_=f(w,S,s);return _.location==="bottom"||_.location==="top"?(_B(n,b,s,i,_),PS(_)):F.none()},Hb=(n,s,i)=>{i.setDocked(!1),dt(["left","right","top","bottom","position"],f=>cs(n.element,f)),s.onUndocked(n)},FS=(n,s,i,f)=>{const b=f.position==="fixed";i.setDocked(b),Cw(n.element,f),(b?s.onDocked:s.onUndocked)(n)},FA=(n,s,i,f,b=!1)=>{s.contextual.each(w=>{w.lazyContext(n).each(S=>{const _=JD(S,f.bounds);_!==i.isVisible()&&(i.setVisible(_),b&&!_?(Ku(n.element,[w.fadeOutClass]),w.onHide(n)):(_?BA:Ib)(n,w))})})},$S=(n,s,i,f,b)=>{FA(n,s,i,f,!0),FS(n,s,i,b.positionCss)},MB=(n,s,i,f,b)=>{switch(b.morph){case"static":return Hb(n,s,i);case"absolute":return FS(n,s,i,b.positionCss);case"fixed":return $S(n,s,i,f,b)}},$A=(n,s,i)=>{const f=s.lazyViewport(n);FA(n,s,i,f),Nz(n,f,i).each(b=>{MB(n,s,i,f,b)})},t_=(n,s,i)=>{const f=n.element;i.setDocked(!1);const b=s.lazyViewport(n);Rz(n,b,i).each(w=>{switch(w.morph){case"static":{Hb(n,s,i);break}case"absolute":{FS(n,s,i,w.positionCss);break}}}),i.setVisible(!0),s.contextual.each(w=>{El(f,[w.fadeInClass,w.fadeOutClass,w.transitionClass]),w.onShow(n)}),IA(n,s,i)},IA=(n,s,i)=>{n.getSystem().isConnected()&&$A(n,s,i)},BB=(n,s,i)=>{i.isDocked()&&t_(n,s,i)},u0=n=>(s,i,f)=>{const b=i.lazyViewport(s);RB(s.element,b,f,n).each(S=>{$S(s,i,f,b,S)})},Mz=u0(RS),Bz=u0(PA);var n_=Object.freeze({__proto__:null,refresh:IA,reset:BB,isDocked:(n,s,i)=>i.isDocked(),getModes:(n,s,i)=>i.getModes(),setModes:(n,s,i,f)=>i.setModes(f),forceDockToTop:Mz,forceDockToBottom:Bz}),LB=Object.freeze({__proto__:null,events:(n,s)=>oa([t0(Ph(),(i,f)=>{n.contextual.each(b=>{Da(i.element,b.transitionClass)&&(El(i.element,[b.transitionClass,b.fadeInClass]),(s.isVisible()?b.onShown:b.onHidden)(i)),f.stop()})}),Mt(fm(),(i,f)=>{IA(i,n,s)}),Mt(nd(),(i,f)=>{IA(i,n,s)}),Mt(xi(),(i,f)=>{BB(i,n,s)})])}),o_=[$i("contextual",[Ya("fadeInClass"),Ya("fadeOutClass"),Ya("transitionClass"),cu("lazyContext"),Ps("onShow"),Ps("onShown"),Ps("onHide"),Ps("onHidden")]),dr("lazyViewport",()=>({bounds:bc(),optScrollEnv:F.none()})),Vm("modes",["top","bottom"],Fi),Ps("onDocked"),Ps("onUndocked")],PB=Object.freeze({__proto__:null,init:n=>{const s=Mn(!1),i=Mn(!0),f=Co(),b=Mn(n.modes),w=()=>`docked:  ${s.get()}, visible: ${i.get()}, modes: ${b.get().join(",")}`;return cd({isDocked:s.get,setDocked:s.set,getInitialPos:f.get,setInitialPos:f.set,clearInitialPos:f.clear,isVisible:i.get,setVisible:i.set,getModes:b.get,setModes:b.set,readState:w})}});const Ja=g({fields:o_,name:"docking",active:LB,apis:n_,state:PB}),s_=Ba.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),HA=n=>s=>s.translate(-n.left,-n.top),HS=n=>s=>s.translate(n.left,n.top),b1=n=>(s,i)=>Ho(n,(f,b)=>b(f),hr(s,i)),zA=(n,s,i)=>n.fold(b1([HS(i),HA(s)]),b1([HA(s)]),b1([])),Ew=(n,s,i)=>n.fold(b1([HS(i)]),b1([]),b1([HS(s)])),r_=(n,s,i)=>n.fold(b1([]),b1([HA(i)]),b1([HS(s),HA(i)])),FB=(n,s,i,f,b,w)=>{const S=Ew(n,b,w),_=Ew(s,b,w);return Math.abs(S.left-_.left)<=i&&Math.abs(S.top-_.top)<=f},$B=(n,s,i,f,b,w)=>{const S=Ew(n,b,w),_=Ew(s,b,w),M=Math.abs(S.left-_.left),H=Math.abs(S.top-_.top);return hr(M,H)},a_=(n,s,i)=>{const f=n.fold((b,w)=>({position:F.some("absolute"),left:F.some(b+"px"),top:F.some(w+"px")}),(b,w)=>({position:F.some("absolute"),left:F.some(b-i.left+"px"),top:F.some(w-i.top+"px")}),(b,w)=>({position:F.some("fixed"),left:F.some(b+"px"),top:F.some(w+"px")}));return{right:F.none(),bottom:F.none(),...f}},jA=(n,s,i)=>n.fold((f,b)=>y1(f+s,b+i),(f,b)=>Yg(f+s,b+i),(f,b)=>Nx(f+s,b+i)),VA=(n,s,i,f)=>{const b=(w,S)=>(_,M)=>{const H=w(s,i,f);return S(_.getOr(H.left),M.getOr(H.top))};return n.fold(b(r_,y1),b(Ew,Yg),b(zA,Nx))},y1=s_.offset,Yg=s_.absolute,Nx=s_.fixed,IB=(n,s)=>{const i=ea(n,s);return Ce(i)?NaN:parseInt(i,10)},Lz=(n,s)=>{const i=n.element,f=IB(i,s.leftAttr),b=IB(i,s.topAttr);return isNaN(f)||isNaN(b)?F.none():F.some(hr(f,b))},Pz=(n,s,i)=>{const f=n.element;uo(f,s.leftAttr,i.left+"px"),uo(f,s.topAttr,i.top+"px")},HB=(n,s)=>{const i=n.element;cr(i,s.leftAttr),cr(i,s.topAttr)},Fz=(n,s,i,f)=>Lz(n,s).fold(()=>i,b=>Nx(b.left+f.left,b.top+f.top)),zB=(n,s,i,f,b,w)=>{const S=Fz(n,s,i,f),_=s.mustSnap?VB(n,s,S,b,w):Tw(n,s,S,b,w),M=zA(S,b,w);return Pz(n,s,M),_.fold(()=>({coord:Nx(M.left,M.top),extra:F.none()}),H=>({coord:H.output,extra:H.extra}))},$z=(n,s)=>{HB(n,s)},jB=(n,s,i,f)=>Jo(n,b=>{const w=b.sensor;return FB(s,w,b.range.left,b.range.top,i,f)?F.some({output:VA(b.output,s,i,f),extra:b.extra}):F.none()}),VB=(n,s,i,f,b)=>{const w=s.getSnapPoints(n);return jB(w,i,f,b).orThunk(()=>Ho(w,(M,H)=>{const Z=H.sensor,K=$B(i,Z,H.range.left,H.range.top,f,b);return M.deltas.fold(()=>({deltas:F.some(K),snap:F.some(H)}),ae=>{const he=(K.left+K.top)/2,xe=(ae.left+ae.top)/2;return he<=xe?{deltas:F.some(K),snap:F.some(H)}:M})},{deltas:F.none(),snap:F.none()}).snap.map(M=>({output:VA(M.output,i,f,b),extra:M.extra})))},Tw=(n,s,i,f,b)=>{const w=s.getSnapPoints(n);return jB(w,i,f,b)},UB=(n,s,i)=>({coord:VA(n.output,n.output,s,i),extra:n.extra});var Hz=Object.freeze({__proto__:null,snapTo:(n,s,i,f)=>{const b=s.getTarget(n.element);if(s.repositionTarget){const w=Oc(n.element),S=ka(w),_=J1(b),M=UB(f,S,_),H=a_(M.coord,S,_);Wa(b,H)}}});const Ic=(n,s)=>Lh(n,{},He(s,i=>D2(i.name(),"Cannot configure "+i.name()+" for "+n)).concat([yc("dump",ct)])),zS=n=>n.dump,Hu=(n,s)=>({...a(s),...n.dump}),Xg={field:Ic,augment:Hu,get:zS},zz=(n,s)=>(n.length>0?[cf("parts",n)]:[]).concat([Wt("uid"),pt("dom",{}),pt("components",[]),zv("originalSpec"),pt("debug.sketcher",{})]).concat(s),ZB=(n,s,i,f,b)=>{const w=zz(f,b);return Mc(n+" [SpecSchema]",Bu(w.concat(s)),i)},jz=(n,s,i,f)=>{const b=ZA(f),w=ZB(n,s,b,[],[]);return i(w,b)},i_=(n,s,i,f,b)=>{const w=ZA(b),S=Hi(i),_=Wm(i),M=ZB(n,s,w,S,[_]),H=Pc(n,M,i),Z=vb(n,M,H.internals());return f(M,Z,w,H.externals())},UA=n=>ts(n,"uid"),ZA=n=>UA(n)?n:{...n,uid:Qy("uid")},Vz=n=>n.uid!==void 0,dne=Bu([Wt("name"),Wt("factory"),Wt("configFields"),pt("apis",{}),pt("extraApis",{})]),WB=Bu([Wt("name"),Wt("factory"),Wt("configFields"),Wt("partFields"),pt("apis",{}),pt("extraApis",{})]),oh=n=>{const s=Mc("Sketcher for "+n.name,dne,n),i=w=>jz(s.name,s.configFields,s.factory,w),f=os(s.apis,wx),b=os(s.extraApis,(w,S)=>hb(w,S));return{name:s.name,configFields:s.configFields,sketch:i,...f,...b}},pf=n=>{const s=Mc("Sketcher for "+n.name,WB,n),i=S=>i_(s.name,s.configFields,s.partFields,s.factory,S),f=Fg(s.name,s.partFields),b=os(s.apis,wx),w=os(s.extraApis,(S,_)=>hb(S,_));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:i,parts:f,...b,...w}},d0=oh({name:"Container",factory:n=>{const{attributes:s,...i}=n.dom;return{uid:n.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...i},components:n.components,behaviours:zS(n.containerBehaviours),events:n.events,domModification:n.domModification,eventOrder:n.eventOrder}},configFields:[pt("components",[]),Ic("containerBehaviours",[]),pt("events",{}),pt("domModification",{}),pt("eventOrder",{})]}),l_="data-initial-z-index",Uz=n=>{xl(n.element).filter(Yc).each(s=>{ii(s,l_).fold(()=>cs(s,"z-index"),i=>So(s,"z-index",i)),cr(s,l_)})},Zz=n=>{xl(n.element).filter(Yc).each(s=>{Gr(s,"z-index").each(i=>{uo(s,l_,i)}),So(s,"z-index",yr(n.element,"z-index"))})},qB=(n,s)=>{n.getSystem().addToGui(s),Zz(s)},Aw=n=>{Uz(n),n.getSystem().removeFromGui(n)},WA=(n,s,i)=>n.getSystem().build(d0.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:i}));var Wz=$i("snaps",[Wt("getSnapPoints"),Ps("onSensor"),Wt("leftAttr"),Wt("topAttr"),pt("lazyViewport",bc),pt("mustSnap",!1)]);const jS=[pt("useFixed",yt),Wt("blockerClass"),pt("getTarget",ct),pt("onDrag",J),pt("repositionTarget",!0),pt("onDrop",J),dr("getBounds",bc),Wz],qA=n=>As(Gr(n,"left"),Gr(n,"top"),Gr(n,"position"),(s,i,f)=>(f==="fixed"?Nx:y1)(parseInt(s,10),parseInt(i,10))).getOrThunk(()=>{const s=Bl(n);return Yg(s.left,s.top)}),c_=(n,s,i,f,b)=>{const w=b.bounds,S=Ew(s,i,f),_=us(S.left,w.x,w.x+w.width-b.width),M=us(S.top,w.y,w.y+w.height-b.height),H=Yg(_,M);return s.fold(()=>{const Z=r_(H,i,f);return y1(Z.left,Z.top)},ie(H),()=>{const Z=zA(H,i,f);return Nx(Z.left,Z.top)})},qz=(n,s,i,f,b,w,S)=>{const _=s.fold(()=>{const M=jA(i,w.left,w.top),H=zA(M,f,b);return Nx(H.left,H.top)},M=>{const H=zB(n,M,i,w,f,b);return H.extra.each(Z=>{M.onSensor(n,Z)}),H.coord});return c_(n,_,f,b,S)},Gz=(n,s,i,f)=>{const b=s.getTarget(n.element);if(s.repositionTarget){const w=Oc(n.element),S=ka(w),_=J1(b),M=qA(b),H=qz(n,s.snaps,M,S,_,f,i),Z=a_(H,S,_);Wa(b,Z)}s.onDrag(n,b,f)},GB=(n,s)=>({bounds:n.getBounds(),height:ki(s.element),width:nf(s.element)}),u_=(n,s,i,f,b)=>{const w=i.update(f,b),S=i.getStartData().getOrThunk(()=>GB(s,n));w.each(_=>{Gz(n,s,S,_)})},KB=(n,s,i,f)=>{s.each(Aw),i.snaps.each(w=>{$z(n,w)});const b=i.getTarget(n.element);f.reset(),i.onDrop(n,b)},d_=n=>(s,i)=>{const f=b=>{i.setStartData(GB(s,b))};return oa([Mt(fm(),b=>{i.getStartData().each(()=>f(b))}),...n(s,i,f)])},Kz=n=>oa([Mt(uu(),n.forceDrop),Mt(Mf(),n.drop),Mt(xc(),(s,i)=>{n.move(i.event)}),Mt(Ii(),n.delayDrop)]);var Xz=Object.freeze({__proto__:null,getData:n=>F.from(hr(n.x,n.y)),getDelta:(n,s)=>hr(s.left-n.left,s.top-n.top)});const YB=(n,s,i)=>[Mt(uu(),(f,b)=>{if(b.event.raw.button!==0)return;b.stop();const S=()=>KB(f,F.some(H),n,s),_=M2(S,200),M={drop:S,delayDrop:_.schedule,forceDrop:S,move:K=>{_.cancel(),u_(f,n,s,Xz,K)}},H=WA(f,n.blockerClass,Kz(M));i(f),qB(f,H)})],Qz=[...jS,sr("dragger",{handlers:d_(YB)})],Jz=n=>oa([Mt(ed(),n.forceDrop),Mt($l(),n.drop),Mt(td(),n.drop),Mt(Xa(),(s,i)=>{n.move(i.event)})]),kw=n=>{const s=n[0];return F.some(hr(s.clientX,s.clientY))};var GA=Object.freeze({__proto__:null,getData:n=>{const i=n.raw.touches;return i.length===1?kw(i):F.none()},getDelta:(n,s)=>hr(s.left-n.left,s.top-n.top)});const QB=(n,s,i)=>{const f=Co(),b=w=>{KB(w,f.get(),n,s),f.clear()};return[Mt(ed(),(w,S)=>{S.stop();const _=()=>b(w),M={drop:_,delayDrop:J,forceDrop:_,move:K=>{u_(w,n,s,GA,K)}},H=WA(w,n.blockerClass,Jz(M));f.set(H),i(w),qB(w,H)}),Mt(Xa(),(w,S)=>{S.stop(),u_(w,n,s,GA,S.event)}),Mt($l(),(w,S)=>{S.stop(),b(w)}),Mt(td(),b)]},Ln=[...jS,sr("dragger",{handlers:d_(QB)})],Rx=(n,s,i)=>[...YB(n,s,i),...QB(n,s,i)],ej=[...jS,sr("dragger",{handlers:d_(Rx)})];var nj=Object.freeze({__proto__:null,mouse:Qz,touch:Ln,mouseOrTouch:ej}),e6=Object.freeze({__proto__:null,init:()=>{let n=F.none(),s=F.none();const i=()=>{n=F.none(),s=F.none()},f=(M,H)=>{const Z=n.map(K=>M.getDelta(K,H));return n=F.some(H),Z},b=(M,H)=>M.getData(H).bind(Z=>f(M,Z)),w=M=>{s=F.some(M)},S=()=>s,_=ie({});return cd({readState:_,reset:i,update:b,getStartData:S,setStartData:w})}});const zb=R({branchKey:"mode",branches:nj,name:"dragging",active:{events:(n,s)=>n.dragger.handlers(n,s)},extra:{snap:n=>({sensor:n.sensor,range:n.range,output:n.output,extra:F.from(n.extra)})},state:e6,apis:Hz}),sj=["input","textarea"],h_=n=>{const s=yd(n);return Ve(sj,s)},t6=(n,s)=>{const i=s.getRoot(n).getOr(n.element);ha(i,s.invalidClass),s.notify.each(f=>{h_(n.element)&&uo(n.element,"aria-invalid",!1),f.getContainer(n).each(b=>{Rl(b,f.validHtml)}),f.onValid(n)})},n6=(n,s,i,f)=>{const b=s.getRoot(n).getOr(n.element);nr(b,s.invalidClass),s.notify.each(w=>{h_(n.element)&&uo(n.element,"aria-invalid",!0),w.getContainer(n).each(S=>{Rl(S,f)}),w.onInvalid(n,f)})},g_=(n,s,i)=>s.validator.fold(()=>ls.pure(Pn.value(!0)),f=>f.validate(n)),p_=(n,s,i)=>(s.notify.each(f=>{f.onValidate(n)}),g_(n,s).map(f=>n.getSystem().isConnected()?f.fold(b=>(n6(n,s,i,b),Pn.error(b)),b=>(t6(n,s),Pn.value(b))):Pn.error("No longer in system")));var b_=Object.freeze({__proto__:null,markValid:t6,markInvalid:n6,query:g_,run:p_,isInvalid:(n,s)=>{const i=s.getRoot(n).getOr(n.element);return Da(i,s.invalidClass)}}),KA=Object.freeze({__proto__:null,events:(n,s)=>n.validator.map(i=>oa([Mt(i.onEvent,f=>{p_(f,n,s).get(ct)})].concat(i.validateOnLoad?[Lr(f=>{p_(f,n,s).get(J)})]:[]))).getOr({})}),YA=[Wt("invalidClass"),pt("getRoot",F.none),$i("notify",[pt("aria","alert"),pt("getContainer",F.none),pt("validHtml",""),Ps("onValid"),Ps("onInvalid"),Ps("onValidate")]),$i("validator",[Wt("validate"),pt("onEvent","input"),pt("validateOnLoad",!0)])];const Dw=(n,s,i)=>{s.store.manager.onLoad(n,s,i)},f0=(n,s,i)=>{s.store.manager.onUnload(n,s,i)};var gne=Object.freeze({__proto__:null,onLoad:Dw,onUnload:f0,setValue:(n,s,i,f)=>{s.store.manager.setValue(n,s,i,f)},getValue:(n,s,i)=>s.store.manager.getValue(n,s,i),getState:(n,s,i)=>i}),ij=Object.freeze({__proto__:null,events:(n,s)=>{const i=n.resetOnDom?[Lr((f,b)=>{Dw(f,n,s)}),hf((f,b)=>{f0(f,n,s)})]:[Vy(n,s,Dw)];return oa(i)}});const XA=()=>{const n=Mn(null),s=()=>({mode:"memory",value:n.get()}),i=()=>n.get()===null,f=()=>{n.set(null)};return cd({set:n.set,get:n.get,isNotSet:i,clear:f,readState:s})},lj=()=>cd({readState:J}),o6=()=>{const n=Mn({}),s=Mn({});return cd({readState:()=>({mode:"dataset",dataByValue:n.get(),dataByText:s.get()}),lookup:S=>Hn(n.get(),S).orThunk(()=>Hn(s.get(),S)),update:S=>{const _=n.get(),M=s.get(),H={},Z={};dt(S,K=>{H[K.value]=K,Hn(K,"meta").each(ae=>{Hn(ae,"text").each(he=>{Z[he]=K})})}),n.set({..._,...H}),s.set({...M,...Z})},clear:()=>{n.set({}),s.set({})}})};var s6=Object.freeze({__proto__:null,memory:XA,dataset:o6,manual:lj,init:n=>n.store.manager.state(n)});const r6=(n,s,i,f)=>{const b=s.store;i.update([f]),b.setValue(n,f),s.onSetValue(n,f)},cj=(n,s,i)=>{const f=s.store,b=f.getDataKey(n);return i.lookup(b).getOrThunk(()=>f.getFallbackEntry(b))},a6=(n,s,i)=>{s.store.initialValue.each(b=>{r6(n,s,i,b)})},i6=(n,s,i)=>{i.clear()};var uj=[vr("initialValue"),Wt("getFallbackEntry"),Wt("getDataKey"),Wt("setValue"),sr("manager",{setValue:r6,getValue:cj,onLoad:a6,onUnload:i6,state:o6})];const l6=(n,s,i)=>s.store.getValue(n),dj=(n,s,i,f)=>{s.store.setValue(n,f),s.onSetValue(n,f)},y_=(n,s,i)=>{s.store.initialValue.each(f=>{s.store.setValue(n,f)})};var c6=[Wt("getValue"),pt("setValue",J),vr("initialValue"),sr("manager",{setValue:dj,getValue:l6,onLoad:y_,onUnload:J,state:ld.init})];const u6=(n,s,i,f)=>{i.set(f),s.onSetValue(n,f)},d6=(n,s,i)=>i.get(),fj=(n,s,i)=>{s.store.initialValue.each(f=>{i.isNotSet()&&i.set(f)})},mj=(n,s,i)=>{i.clear()};var hj=[vr("initialValue"),sr("manager",{setValue:u6,getValue:d6,onLoad:fj,onUnload:mj,state:XA})],gj=[Ju("store",{mode:"memory"},Kl("mode",{memory:hj,manual:c6,dataset:uj})),Ps("onSetValue"),pt("resetOnDom",!1)];const In=g({fields:gj,name:"representing",active:ij,apis:gne,extra:{setValueFrom:(n,s)=>{const i=In.getValue(s);In.setValue(n,i)}},state:s6}),sh=g({fields:YA,name:"invalidating",active:KA,apis:b_,extra:{validation:n=>s=>{const i=In.getValue(s);return ls.pure(n(i))}}});var f6=Object.freeze({__proto__:null,exhibit:(n,s)=>zd({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const QA=Ba.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),v_=(n,s,i,f,b,w)=>{const S=s.rect,_=S.x-i,M=S.y-f,H=S.width,Z=S.height,K=b-(_+H),ae=w-(M+Z),he=F.some(_),xe=F.some(M),Oe=F.some(K),ze=F.some(ae),Te=F.none();return Ry(s.direction,()=>jd(n,he,xe,Te,Te),()=>jd(n,Te,xe,Oe,Te),()=>jd(n,he,Te,Te,ze),()=>jd(n,Te,Te,Oe,ze),()=>jd(n,he,xe,Te,Te),()=>jd(n,he,Te,Te,ze),()=>jd(n,he,xe,Te,Te),()=>jd(n,Te,xe,Oe,Te))},x_=(n,s)=>n.fold(()=>{const i=s.rect;return jd("absolute",F.some(i.x),F.some(i.y),F.none(),F.none())},(i,f,b,w)=>v_("absolute",s,i,f,b,w),(i,f,b,w)=>v_("fixed",s,i,f,b,w)),w_=(n,s)=>{const i=fn(I0,s),f=n.fold(i,i,()=>{const S=ka();return I0(s).translate(-S.left,-S.top)}),b=nf(s),w=ki(s);return Pi(f.left,f.top,b,w)},bj=(n,s)=>s.fold(()=>n.fold(bc,bc,Pi),i=>n.fold(ie(i),ie(i),()=>{const f=m6(n,i.x,i.y);return Pi(f.left,f.top,i.width,i.height)})),m6=(n,s,i)=>{const f=hr(s,i),b=()=>{const w=ka();return f.translate(-w.left,-w.top)};return n.fold(ie(f),ie(f),b)},C_=(n,s,i,f)=>n.fold(s,i,f);QA.none;const yj=QA.relative,JA=QA.fixed,vj=(n,s)=>({anchorBox:n,origin:s}),h6=(n,s)=>vj(n,s),Hc=Ba.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),xj=(n,s)=>{const{x:i,y:f,right:b,bottom:w}=s,{x:S,y:_,right:M,bottom:H,width:Z,height:K}=n,ae=S>=i&&S<=b,he=_>=f&&_<=w,xe=ae&&he,Oe=M<=b&&M>=i,ze=H<=w&&H>=f,Te=Oe&&ze,Ye=Math.min(Z,S>=i?b-S:M-i),st=Math.min(K,_>=f?w-_:H-f);return{originInBounds:xe,sizeInBounds:Te,visibleW:Ye,visibleH:st}},g6=(n,s)=>{const{x:i,y:f,right:b,bottom:w}=s,{x:S,y:_,width:M,height:H}=n,Z=Math.max(i,b-M),K=Math.max(f,w-H),ae=us(S,i,Z),he=us(_,f,K),xe=Math.min(ae+M,b)-ae,Oe=Math.min(he+H,w)-he;return Pi(ae,he,xe,Oe)},p6=(n,s,i)=>{const f=ie(s.bottom-i.y),b=ie(i.bottom-s.y),w=Uh(n,b,b,f),S=ie(s.right-i.x),_=ie(i.right-s.x);return{maxWidth:qm(n,_,_,S),maxHeight:w}},wj=(n,s,i,f)=>{const b=n.bubble,w=b.offset,S=zg(f,n.restriction,w),_=n.x+w.left,M=n.y+w.top,H=Pi(_,M,s,i),{originInBounds:Z,sizeInBounds:K,visibleW:ae,visibleH:he}=xj(H,S),xe=Z&&K,Oe=xe?H:g6(H,S),ze=Oe.width>0&&Oe.height>0,{maxWidth:Te,maxHeight:Ye}=p6(n.direction,Oe,f),st={rect:Oe,maxHeight:Ye,maxWidth:Te,direction:n.direction,placement:n.placement,classes:{on:b.classesOn,off:b.classesOff},layout:n.label,testY:M};return xe||n.alwaysFit?Hc.fit(st):Hc.nofit(st,ae,he,ze)},b6=(n,s,i,f,b,w)=>{const S=f.width,_=f.height,M=(Z,K,ae,he,xe)=>{const Oe=Z(i,f,b,n,w),ze=wj(Oe,S,_,w);return ze.fold(ie(ze),(Te,Ye,st,wt)=>(xe===wt?st>he||Ye>ae:!xe&&wt)?ze:Hc.nofit(K,ae,he,xe))};return Ho(s,(Z,K)=>{const ae=fn(M,K);return Z.fold(ie(Z),ae)},Hc.nofit({rect:i,maxHeight:f.height,maxWidth:f.width,direction:Hg(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:i.y},-1,-1,!1)).fold(ct,ct)},S_=["top","bottom","right","left"],ek="data-alloy-transition-timer",Cj=(n,s)=>_g(n,s.classes),Sj=(n,s,i)=>i.exists(f=>{const b=n.mode;return b==="all"?!0:f[b]!==s[b]}),Ej=(n,s)=>{const i=f=>parseFloat(f).toFixed(3);return $r(s,(f,b)=>{const w=n[b].map(i),S=f.map(i);return!Bn(w,S)}).isSome()},y6=n=>{const s=w=>{const _=yr(n,w).split(/\s*,\s*/);return xo(_,Cu)},i=w=>{if(z(w)&&/^[\d.]+/.test(w)){const S=parseFloat(w);return dc(w,"ms")?S:S*1e3}else return 0},f=s("transition-delay"),b=s("transition-duration");return Ho(b,(w,S,_)=>{const M=i(f[_])+i(S);return Math.max(w,M)},0)},Tj=(n,s)=>{const i=Ir(),f=Ir();let b;const w=H=>{const Z=H.raw.pseudoElement??"";return oe(H.target,n)&&Ri(Z)&&Ve(S_,H.raw.propertyName)},S=H=>{if(be(H)||w(H)){i.clear(),f.clear();const Z=H?.raw.type;(be(Z)||Z===Ph())&&(clearTimeout(b),cr(n,ek),El(n,s.classes))}},_=$s(n,Zm(),H=>{w(H)&&(_.unbind(),i.set($s(n,Ph(),S)),f.set($s(n,cb(),S)))}),M=y6(n);window.requestAnimationFrame(()=>{b=setTimeout(S,M+17),uo(n,ek,b)})},Aj=(n,s)=>{Ku(n,s.classes),ii(n,ek).each(i=>{clearTimeout(parseInt(i,10)),cr(n,ek)}),Tj(n,s)},v6=(n,s,i,f,b,w)=>{const S=Sj(f,b,w);if(S||Cj(n,f)){So(n,"position",i.position);const _=w_(s,n),M=x_(s,{...b,rect:_}),H=Un(S_,Z=>M[Z]);Ej(i,H)&&(Wa(n,H),S&&Aj(n,f),ql(n))}else El(n,f.classes)},x6=n=>({width:Math.ceil(nf(n)),height:ki(n)}),w6=(n,s,i,f)=>{cs(s,"max-height"),cs(s,"max-width");const b=x6(s);return b6(s,f.preference,n,b,i,f.bounds)},kj=(n,s)=>{const i=s.classes;El(n,i.off),Ku(n,i.on)},Dj=(n,s,i)=>{const f=i.maxHeightFunction;f(n,s.maxHeight)},_j=(n,s,i)=>{const f=i.maxWidthFunction;f(n,s.maxWidth)},Oj=(n,s,i)=>{const f=x_(i.origin,s);i.transition.each(b=>{v6(n,i.origin,f,b,s,i.lastPlacement)}),Cw(n,f)},C6=(n,s)=>{n1(n,s.placement)},E_=(n,s,i)=>n[s]===void 0?i:n[s],tv=(n,s,i,f,b,w,S,_)=>{const M=E_(S,"maxHeightFunction",tx()),H=E_(S,"maxWidthFunction",J),Z=n.anchorBox,K=n.origin,ae={bounds:bj(K,w),origin:K,preference:f,maxHeightFunction:M,maxWidthFunction:H,lastPlacement:b,transition:_};return S6(Z,s,i,ae)},S6=(n,s,i,f)=>{const b=w6(n,s,i,f);return Oj(s,b,f),C6(s,b),kj(s,b),Dj(s,b,f),_j(s,b,f),{layout:b.layout,placement:b.placement}},VS=ct,nv=()=>$i("layouts",[Wt("onLtr"),Wt("onRtl"),vr("onBottomLtr"),vr("onBottomRtl")]),tk=(n,s,i,f,b,w,S)=>{const _=S.map(zy).getOr(!1),M=s.layouts.map(he=>he.onLtr(n)),H=s.layouts.map(he=>he.onRtl(n)),Z=_?s.layouts.bind(he=>he.onBottomLtr.map(xe=>xe(n))).or(M).getOr(b):M.getOr(i),K=_?s.layouts.bind(he=>he.onBottomRtl.map(xe=>xe(n))).or(H).getOr(w):H.getOr(f);return Eg(Z,K)(n)},_w=(n,s,i)=>{const f=s.hotspot,b=w_(i,f.element),w=tk(n.element,s,ex(),Wh(),zf(),Jv(),F.some(s.hotspot.element));return F.some(VS({anchorBox:b,bubble:s.bubble.getOr(Qi()),overrides:s.overrides,layouts:w}))};var Nj=[Wt("hotspot"),vr("bubble"),pt("overrides",{}),nv(),sr("placement",_w)];const Rj=(n,s,i)=>{const f=m6(i,s.x,s.y),b=Pi(f.left,f.top,s.width,s.height),w=tk(n.element,s,Ly(),Eb(),Ly(),Eb(),F.none());return F.some(VS({anchorBox:b,bubble:s.bubble,overrides:s.overrides,layouts:w}))};var E6=[Wt("x"),Wt("y"),pt("height",0),pt("width",0),pt("bubble",Qi()),pt("overrides",{}),nv(),sr("placement",Rj)];const T6=Ba.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Mj=n=>n.fold(ct,(s,i,f)=>s.translate(-i,-f)),Bj=n=>n.fold(ct,ct),T_=n=>Ho(n,(s,i)=>s.translate(i.left,i.top),hr(0,0)),A_=n=>{const s=He(n,Mj);return T_(s)},nk=n=>{const s=He(n,Bj);return T_(s)},Lj=T6.screen,ov=T6.absolute,A6=(n,s,i)=>{const f=yp(i.root).dom,b=w=>{const S=Oc(w),_=Oc(n.element);return oe(S,_)};return F.from(f.frameElement).map(mn.fromDom).filter(b).map(Bl)},k_=(n,s,i)=>{const f=Oc(n.element),b=ka(f),w=A6(n,s,i).getOr(b);return ov(w,b.left,b.top)},D_=(n,s,i,f)=>{const b=Lj(hr(n,s));return F.some(Oh(b,i,f))},k6=(n,s,i,f,b)=>n.map(w=>{const S=[s,w.point],_=C_(f,()=>nk(S),()=>nk(S),()=>A_(S)),M=Rv(_.left,_.top,w.width,w.height),H=i.showAbove?zf():ex(),Z=i.showAbove?Jv():Wh(),K=tk(b,i,H,Z,H,Z,F.none());return VS({anchorBox:M,bubble:i.bubble.getOr(Qi()),overrides:i.overrides,layouts:K})}),US=(n,s,i)=>{const f=k_(n,i,s);return s.node.filter(Is).bind(b=>{const w=b.dom.getBoundingClientRect(),S=D_(w.left,w.top,w.width,w.height),_=s.node.getOr(n.element);return k6(S,f,s,i,_)})};var ZS=[Wt("node"),Wt("root"),vr("bubble"),nv(),pt("overrides",{}),pt("showAbove",!1),sr("placement",US)];const WS=(n,s)=>({element:n,offset:s}),__=(n,s)=>{const i=Uu(n);if(i.length===0)return WS(n,s);if(s<i.length)return WS(i[s],0);{const f=i[i.length-1],b=vl(f)?Sg(f).length:Uu(f).length;return WS(f,b)}},jb=(n,s)=>vl(n)?WS(n,s):__(n,s),v1=n=>n.foffset!==void 0,D6=(n,s)=>s.getSelection.getOrThunk(()=>()=>Fm(n))().map(f=>{if(v1(f)){const b=jb(f.start,f.soffset),w=jb(f.finish,f.foffset);return di.range(b.element,b.offset,w.element,w.offset)}else return f}),Pj=(n,s,i)=>{const f=yp(s.root).dom,b=k_(n,i,s),w=D6(f,s).bind(M=>{if(v1(M))return Nu(f,di.exactFromRange(M)).orThunk(()=>{const Z=mn.fromText(Tf);om(M.start,Z);const K=Dh(f,di.exact(Z,0,Z,1));return eu(Z),K}).bind(Z=>D_(Z.left,Z.top,Z.width,Z.height));{const H=os(M,K=>K.dom.getBoundingClientRect()),Z={left:Math.min(H.firstCell.left,H.lastCell.left),right:Math.max(H.firstCell.right,H.lastCell.right),top:Math.min(H.firstCell.top,H.lastCell.top),bottom:Math.max(H.firstCell.bottom,H.lastCell.bottom)};return D_(Z.left,Z.top,Z.right-Z.left,Z.bottom-Z.top)}}),_=D6(f,s).bind(M=>v1(M)?Yc(M.start)?F.some(M.start):Tu(M.start):F.some(M.firstCell)).getOr(n.element);return k6(w,b,s,i,_)};var _6=[vr("getSelection"),Wt("root"),vr("bubble"),nv(),pt("overrides",{}),pt("showAbove",!1),sr("placement",Pj)];const Jg="link-layout",ok=n=>n.x+n.width,O6=(n,s)=>n.x-s.width,O_=(n,s)=>n.y-s.height+n.height,N_=n=>n.y,R_=(n,s,i)=>nc(ok(n),N_(n),i.southeast(),Hg(),"southeast",gl(n,{left:0,top:2}),Jg),sk=(n,s,i)=>nc(O6(n,s),N_(n),i.southwest(),My(),"southwest",gl(n,{right:1,top:2}),Jg),M_=(n,s,i)=>nc(ok(n),O_(n,s),i.northeast(),xb(),"northeast",gl(n,{left:0,bottom:3}),Jg),N6=(n,s,i)=>nc(O6(n,s),O_(n,s),i.northwest(),Zh(),"northwest",gl(n,{right:1,bottom:3}),Jg),R6=()=>[R_,sk,M_,N6],M6=()=>[sk,R_,N6,M_],rk=(n,s,i)=>{const f=w_(i,s.item.element),b=tk(n.element,s,R6(),M6(),R6(),M6(),F.none());return F.some(VS({anchorBox:f,bubble:Qi(),overrides:s.overrides,layouts:b}))};var B_=[Wt("item"),nv(),pt("overrides",{}),sr("placement",rk)],ak=Kl("type",{selection:_6,node:ZS,hotspot:Nj,submenu:B_,makeshift:E6});const B6=[Ar("classes",Fi),Xl("mode","all",["all","layout","placement"])],Fj=[pt("useFixed",yt),vr("getBounds")],L6=[Bc("anchor",ak),$i("transition",B6)],P6=()=>{const n=document.documentElement;return JA(0,0,n.clientWidth,n.clientHeight)},F6=n=>{const s=Bl(n.element),i=n.element.dom.getBoundingClientRect();return yj(s.left,s.top,i.width,i.height)},$6=(n,s,i,f,b,w)=>{const S=h6(s.anchorBox,n);return tv(S,f.element,s.bubble,s.layouts,b,i,s.overrides,w)},$j=(n,s,i,f,b)=>{const w=F.none();ik(n,s,i,f,b,w)},ik=(n,s,i,f,b,w)=>{const S=Mc("placement.info",fo(L6),b),_=S.anchor,M=f.element,H=i.get(f.uid);Bb(()=>{So(M,"position","fixed");const Z=Gr(M,"visibility");So(M,"visibility","hidden");const K=s.useFixed()?P6():F6(n);_.placement(n,_,K).each(ae=>{const he=w.orThunk(()=>s.getBounds.map(Qo)),xe=$6(K,ae,he,f,H,S.transition);i.set(f.uid,xe)}),Z.fold(()=>{cs(M,"visibility")},ae=>{So(M,"visibility",ae)}),Gr(M,"left").isNone()&&Gr(M,"top").isNone()&&Gr(M,"right").isNone()&&Gr(M,"bottom").isNone()&&oo(Gr(M,"position"),"fixed")&&cs(M,"position")},M)};var Ij=Object.freeze({__proto__:null,position:$j,positionWithinBounds:ik,getMode:(n,s,i)=>s.useFixed()?"fixed":"absolute",reset:(n,s,i,f)=>{const b=f.element;dt(["position","left","right","top","bottom"],w=>cs(b,w)),Tb(b),i.clear(f.uid)}}),I6=Object.freeze({__proto__:null,init:()=>{let n={};return cd({readState:()=>n,clear:b=>{$e(b)?delete n[b]:n={}},set:(b,w)=>{n[b]=w},get:b=>Hn(n,b)})}});const dd=g({fields:Fj,name:"positioning",active:f6,apis:Ij,state:I6}),Hj=(n,s)=>s.universal?n:xo(n,i=>Ve(s.channels,i));var qS=Object.freeze({__proto__:null,events:n=>oa([Mt(Fh(),(s,i)=>{const f=n.channels,b=Do(f),w=i,S=Hj(b,w);dt(S,_=>{const M=f[_],H=M.schema,Z=Mc("channel["+_+`] data
Receiver: `+Md(s.element),H,w.data);M.onReceive(s,Z)})})])}),jj=[Bc("channels",$v(Pn.value,Bu([Ih("onReceive"),pt("schema",lf())])))];const fd=g({fields:jj,name:"receiving",active:qS});var z6=Object.freeze({__proto__:null,events:(n,s)=>{const i=(f,b)=>{n.updateState.each(w=>{const S=w(f,b);s.set(S)}),n.renderComponents.each(w=>{const S=w(b,s.get());(n.reuseDom?EA:vS)(f,S)})};return oa([Mt(Fh(),(f,b)=>{const w=b;if(!w.universal){const S=n.channel;Ve(w.channels,S)&&i(f,w.data)}}),Lr((f,b)=>{n.initialData.each(w=>{i(f,w)})})])}}),Uj=Object.freeze({__proto__:null,getState:(n,s,i)=>i}),Zj=[Wt("channel"),vr("renderComponents"),vr("updateState"),vr("initialData"),Gi("reuseDom",!0)],qj=Object.freeze({__proto__:null,init:()=>{const n=Mn(F.none()),s=()=>n.set(F.none());return{readState:()=>n.get().getOr("none"),get:n.get,set:n.set,clear:s}}});const qf=g({fields:Zj,name:"reflecting",active:z6,apis:Uj,state:qj}),j6=(n,s,i,f)=>{i.get().each(S=>{yA(n)});const b=s.getAttachPoint(n);r0(b,n);const w=n.getSystem().build(f);return r0(n,w),i.set(w),w},V6=(n,s,i,f)=>{const b=j6(n,s,i,f);return s.onOpen(n,b),b},U6=(n,s,i,f)=>i.get().map(()=>j6(n,s,i,f)),lk=(n,s,i,f,b)=>{L_(n,s),V6(n,s,i,f),b(),W6(n,s)},ck=(n,s,i)=>{i.get().each(f=>{yA(n),i0(n),s.onClose(n,f),i.clear()})},uk=(n,s,i)=>i.isOpen(),Gj=(n,s,i,f)=>uk(n,s,i)&&i.get().exists(b=>s.isPartOf(n,b,f)),Kj=(n,s,i)=>i.get(),Yj=(n,s,i,f)=>{Gr(n.element,s).fold(()=>{cr(n.element,i)},b=>{uo(n.element,i,b)}),So(n.element,s,f)},Xj=(n,s,i)=>{ii(n.element,i).fold(()=>cs(n.element,s),f=>So(n.element,s,f))},L_=(n,s,i)=>{const f=s.getAttachPoint(n);So(n.element,"position",dd.getMode(f)),Yj(n,"visibility",s.cloakVisibilityAttr,"hidden")},Z6=n=>It(["top","left","right","bottom"],s=>Gr(n,s).isSome()),W6=(n,s,i)=>{Z6(n.element)||cs(n.element,"position"),Xj(n,"visibility",s.cloakVisibilityAttr)};var Qj=Object.freeze({__proto__:null,cloak:L_,decloak:W6,open:V6,openWhileCloaked:lk,close:ck,isOpen:uk,isPartOf:Gj,getState:Kj,setContent:U6}),Jj=Object.freeze({__proto__:null,events:(n,s)=>oa([Mt(Na(),(i,f)=>{ck(i,n,s)})])}),eV=[Ps("onOpen"),Ps("onClose"),Wt("isPartOf"),Wt("getAttachPoint"),pt("cloakVisibilityAttr","data-precloak-visibility")],q6=Object.freeze({__proto__:null,init:()=>{const n=Co(),s=ie("not-implemented");return cd({readState:s,isOpen:n.isSet,clear:n.clear,set:n.set,get:n.get})}});const ar=g({fields:eV,name:"sandboxing",active:Jj,apis:Qj,state:q6}),GS=(n,s)=>s.getAnimationRoot.fold(()=>n.element,i=>i(n)),Vb=n=>n.dimension.property,Mx=(n,s)=>n.dimension.getDimension(s),dk=(n,s)=>{const i=GS(n,s);El(i,[s.shrinkingClass,s.growingClass])},x1=(n,s)=>{ha(n.element,s.openClass),nr(n.element,s.closedClass),So(n.element,Vb(s),"0px"),ql(n.element)},P_=(n,s)=>{ha(n.element,s.closedClass),nr(n.element,s.openClass),cs(n.element,Vb(s))},G6=(n,s,i,f)=>{i.setCollapsed(),So(n.element,Vb(s),Mx(s,n.element)),dk(n,s),x1(n,s),s.onStartShrink(n),s.onShrunk(n)},Bx=(n,s,i,f)=>{const b=f.getOrThunk(()=>Mx(s,n.element));i.setCollapsed(),So(n.element,Vb(s),b),ql(n.element);const w=GS(n,s);ha(w,s.growingClass),nr(w,s.shrinkingClass),x1(n,s),s.onStartShrink(n)},F_=(n,s,i)=>{const f=Mx(s,n.element);(f==="0px"?G6:Bx)(n,s,i,F.some(f))},K6=(n,s,i)=>{const f=GS(n,s),b=Da(f,s.shrinkingClass),w=Mx(s,n.element);P_(n,s);const S=Mx(s,n.element);(b?()=>{So(n.element,Vb(s),w),ql(n.element)}:()=>{x1(n,s)})(),ha(f,s.shrinkingClass),nr(f,s.growingClass),P_(n,s),So(n.element,Vb(s),S),i.setExpanded(),s.onStartGrow(n)},sv=(n,s,i)=>{if(i.isExpanded()){cs(n.element,Vb(s));const f=Mx(s,n.element);So(n.element,Vb(s),f)}},tV=(n,s,i)=>{i.isExpanded()||K6(n,s,i)},nV=(n,s,i)=>{i.isExpanded()&&F_(n,s,i)},Jh=(n,s,i)=>{i.isExpanded()&&G6(n,s,i)},Y6=(n,s,i)=>i.isExpanded(),X6=(n,s,i)=>i.isCollapsed(),$_=(n,s,i)=>{const f=GS(n,s);return Da(f,s.growingClass)===!0},Q6=(n,s,i)=>{const f=GS(n,s);return Da(f,s.shrinkingClass)===!0};var sV=Object.freeze({__proto__:null,refresh:sv,grow:tV,shrink:nV,immediateShrink:Jh,hasGrown:Y6,hasShrunk:X6,isGrowing:$_,isShrinking:Q6,isTransitioning:(n,s,i)=>$_(n,s)||Q6(n,s),toggleGrow:(n,s,i)=>{(i.isExpanded()?F_:K6)(n,s,i)},disableTransitions:dk,immediateGrow:(n,s,i)=>{i.isExpanded()||(P_(n,s),So(n.element,Vb(s),Mx(s,n.element)),dk(n,s),i.setExpanded(),s.onStartGrow(n),s.onGrown(n))}}),e8=Object.freeze({__proto__:null,exhibit:(n,s,i)=>{const f=s.expanded;return zd(f?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:za(s.dimension.property,"0px")})},events:(n,s)=>oa([t0(Ph(),(i,f)=>{f.event.raw.propertyName===n.dimension.property&&(dk(i,n),s.isExpanded()&&cs(i.element,n.dimension.property),(s.isExpanded()?n.onGrown:n.onShrunk)(i))})])}),t8=[Wt("closedClass"),Wt("openClass"),Wt("shrinkingClass"),Wt("growingClass"),vr("getAnimationRoot"),Ps("onShrunk"),Ps("onStartShrink"),Ps("onGrown"),Ps("onStartGrow"),pt("expanded",!1),Bc("dimension",Kl("property",{width:[sr("property","width"),sr("getDimension",n=>Bi(n)+"px")],height:[sr("property","height"),sr("getDimension",n=>bi(n)+"px")]}))],aV=Object.freeze({__proto__:null,init:n=>{const s=Mn(n.expanded),i=()=>"expanded: "+s.get();return cd({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:fn(s.set,!1),setExpanded:fn(s.set,!0),readState:i})}});const Vd=g({fields:t8,name:"sliding",active:e8,apis:sV,state:aV});var lV=Object.freeze({__proto__:null,events:(n,s)=>{const f=n.stream.streams.setup(n,s);return oa([Mt(n.event,f),hf(()=>s.cancel())].concat(n.cancelEvent.map(b=>[Mt(b,()=>s.cancel())]).getOr([])))}});const n8=n=>{const s=Mn(null);return cd({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:w=>{s.set(w)},cancel:()=>{const w=s.get();w!==null&&w.cancel()}})};var z_=Object.freeze({__proto__:null,throttle:n8,init:n=>n.stream.streams.state(n)});const cV=(n,s)=>{const i=n.stream,f=Ei(n.onStream,i.delay);return s.setTimer(f),(b,w)=>{f.throttle(b,w),i.stopEvent&&w.stop()}};var KS=[Bc("stream",Kl("mode",{throttle:[Wt("delay"),pt("stopEvent",!0),sr("streams",{setup:cV,state:n8})]})),pt("event","input"),vr("cancelEvent"),Ih("onStream")];const Ow=g({fields:KS,name:"streaming",active:lV,state:z_});var o8=Object.freeze({__proto__:null,exhibit:(n,s)=>zd({attributes:vc([{key:s.tabAttr,value:"true"}])})}),dV=[pt("tabAttr","data-alloy-tabstop")];const ua=g({fields:dV,name:"tabstopping",active:o8}),fV=(n,s,i)=>{const f=s.aria;f.update(n,f,i.get())},mV=(n,s,i)=>{s.toggleClass.each(f=>{i.get()?nr(n.element,f):ha(n.element,f)})},Lx=(n,s,i,f)=>{const b=i.get();i.set(f),mV(n,s,i),fV(n,s,i),b!==f&&s.onToggled(n,f)},j_=(n,s,i)=>{Lx(n,s,i,!i.get())},s8=(n,s,i)=>{Lx(n,s,i,!0)},V_=(n,s,i)=>{Lx(n,s,i,!1)},hV=(n,s,i)=>i.get(),U_=(n,s,i)=>{Lx(n,s,i,s.selected)};var gV=Object.freeze({__proto__:null,onLoad:U_,toggle:j_,isOn:hV,on:s8,off:V_,set:Lx}),r8=Object.freeze({__proto__:null,exhibit:()=>zd({}),events:(n,s)=>{const i=n0(n,s,j_),f=Vy(n,s,U_);return oa(tt([n.toggleOnExecute?[i]:[],[f]]))}});const pV=(n,s,i)=>{uo(n.element,"aria-pressed",i),s.syncWithExpanded&&W_(n,s,i)},bV=(n,s,i)=>{uo(n.element,"aria-selected",i)},Z_=(n,s,i)=>{uo(n.element,"aria-checked",i)},W_=(n,s,i)=>{uo(n.element,"aria-expanded",i)};var a8=[pt("selected",!1),vr("toggleClass"),pt("toggleOnExecute",!0),Ps("onToggled"),Ju("aria",{mode:"none"},Kl("mode",{pressed:[pt("syncWithExpanded",!1),sr("update",pV)],checked:[sr("update",Z_)],expanded:[sr("update",W_)],selected:[sr("update",bV)],none:[sr("update",J)]}))];const Ms=g({fields:a8,name:"toggling",active:r8,apis:gV,state:lt(!1)}),fk=me("tooltip.exclusive"),YS=me("tooltip.show"),XS=me("tooltip.hide"),QS=me("tooltip.immediateHide"),JS=me("tooltip.immediateShow"),i8=(n,s,i)=>{n.getSystem().broadcastOn([fk],{})};var vV=Object.freeze({__proto__:null,hideAllExclusive:i8,immediateOpenClose:(n,s,i,f)=>fs(n,f?JS:QS),isEnabled:(n,s,i)=>i.isEnabled(),setComponents:(n,s,i,f)=>{i.getTooltip().each(b=>{b.getSystem().isConnected()&&jo.set(b,f)})},setEnabled:(n,s,i,f)=>i.setEnabled(f)}),xV=Object.freeze({__proto__:null,events:(n,s)=>{const i=S=>{s.getTooltip().each(_=>{_.getSystem().isConnected()&&(i0(_),n.onHide(S,_),s.clearTooltip())}),s.clearTimer()},f=S=>{if(!s.isShowing()&&s.isEnabled()){i8(S);const _=n.lazySink(S).getOrDie(),M=S.getSystem().build({dom:n.tooltipDom,components:n.tooltipComponents,events:oa(n.mode==="normal"?[Mt(Jl(),H=>{fs(S,YS)}),Mt(Ii(),H=>{fs(S,XS)})]:[]),behaviours:a([jo.config({})])});s.setTooltip(M),r0(_,M),n.onShow(S,M),dd.position(_,M,{anchor:n.anchor(S)})}},b=S=>{s.getTooltip().each(_=>{const M=n.lazySink(S).getOrDie();dd.position(M,_,{anchor:n.anchor(S)})})},w=()=>{switch(n.mode){case"normal":return[Mt(ec(),S=>{fs(S,JS)}),Mt(Pp(),S=>{fs(S,QS)}),Mt(Jl(),S=>{fs(S,YS)}),Mt(Ii(),S=>{fs(S,XS)})];case"follow-highlight":return[Mt(fb(),(S,_)=>{fs(S,YS)}),Mt(Hp(),S=>{fs(S,XS)})];case"children-normal":return[Mt(ec(),(S,_)=>{ai(S.element).each(M=>{lr(_.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{fs(S,JS)},H=>{s.isShowing()&&(n.onShow(S,H),b(S))})})}),Mt(Pp(),S=>{ai(S.element).fold(()=>{fs(S,QS)},J)}),Mt(Jl(),S=>{ur(S.element,"[data-mce-tooltip]:hover").each(_=>{s.getTooltip().fold(()=>{fs(S,YS)},M=>{s.isShowing()&&(n.onShow(S,M),b(S))})})}),Mt(Ii(),S=>{ur(S.element,"[data-mce-tooltip]:hover").fold(()=>{fs(S,XS)},J)})];default:return[Mt(ec(),(S,_)=>{ai(S.element).each(M=>{lr(_.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{fs(S,JS)},H=>{s.isShowing()&&(n.onShow(S,H),b(S))})})}),Mt(Pp(),S=>{ai(S.element).fold(()=>{fs(S,QS)},J)})]}};return oa(tt([[ax(S=>{n.onSetup(S)}),Mt(YS,S=>{s.resetTimer(()=>{f(S)},n.delayForShow())}),Mt(XS,S=>{s.resetTimer(()=>{i(S)},n.delayForHide())}),Mt(JS,S=>{s.resetTimer(()=>{f(S)},0)}),Mt(QS,S=>{s.resetTimer(()=>{i(S)},0)}),Mt(Fh(),(S,_)=>{const M=_;M.universal||(Ve(M.channels,fk)||Ve(M.channels,gf()))&&(M.data.closedTooltip&&s.isShowing()&&M.data.closedTooltip(),i(S))}),hf(S=>{i(S)})],w()]))}}),wV=[Wt("lazySink"),Wt("tooltipDom"),pt("exclusive",!0),pt("tooltipComponents",[]),dr("delayForShow",ie(300)),dr("delayForHide",ie(100)),dr("onSetup",J),Xl("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),pt("anchor",n=>({type:"hotspot",hotspot:n,layouts:{onLtr:ie([Oi,ya,Ji,Al,Kr,kl]),onRtl:ie([Oi,ya,Ji,Al,Kr,kl])},bubble:mu(0,-2,{})})),Ps("onHide"),Ps("onShow")],CV=Object.freeze({__proto__:null,init:()=>{const n=Mn(!0),s=Co(),i=Co(),f=()=>{s.on(clearTimeout)},b=(S,_)=>{f(),s.set(setTimeout(S,_))},w=ie("not-implemented");return cd({getTooltip:i.get,isShowing:i.isSet,setTooltip:i.set,clearTooltip:i.clear,clearTimer:f,resetTimer:b,readState:w,isEnabled:()=>n.get(),setEnabled:S=>n.set(S)})}});const va=g({fields:wV,name:"tooltipping",active:xV,state:CV,apis:vV});var G_=Object.freeze({__proto__:null,events:()=>oa([_b(G0(),Lt)]),exhibit:()=>zd({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const m0=g({fields:[],name:"unselecting",active:G_}),SV=n=>{const s=n.dom.attributes!==void 0?n.dom.attributes:[];return Ho(s,(i,f)=>f.name==="class"?i:{...i,[f.name]:f.value},{})},EV=n=>Array.prototype.slice.call(n.dom.classList,0),h0=n=>{const s=mn.fromHtml(n),i=Uu(s),f=SV(s),b=EV(s),w=i.length===0?{}:{innerHtml:Js(s)};return{tag:yd(s),classes:b,attributes:f,...w}},gr=n=>{const s=Vz(n)&&Oo(n,"uid")?n.uid:Qy("memento");return{get:w=>w.getSystem().getByUid(s).getOrDie(),getOpt:w=>w.getSystem().getByUid(s).toOptional(),asSpec:()=>({...n,uid:s})}},Ac=Ig,rh=Oy,TV=(n,s)=>{const i=Mn(!1),f=Mn(!1);return{stop:()=>{i.set(!0)},cut:()=>{f.set(!0)},isStopped:i.get,isCut:f.get,event:n,setSource:s.set,getSource:s.get}},c8=n=>{const s=Mn(!1);return{stop:()=>{s.set(!0)},cut:J,isStopped:s.get,isCut:yt,event:n,setSource:Re("Cannot set source of a broadcasted event"),getSource:Re("Cannot get source of a broadcasted event")}},u8=n=>n.raw.which===ht[0]&&!Ve(["input","textarea"],yd(n.target))&&!Pm(n.target,'[contenteditable="true"]'),d8=(n,s)=>{const i={stopBackspace:!0,...s},f=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],b=P2(i),w=He(f.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),he=>$s(n,he,xe=>{b.fireIfReady(xe,he).each(ze=>{ze&&xe.kill()}),i.triggerEvent(he,xe)&&xe.kill()})),S=Co(),_=$s(n,"paste",he=>{b.fireIfReady(he,"paste").each(Oe=>{Oe&&he.kill()}),i.triggerEvent("paste",he)&&he.kill(),S.set(setTimeout(()=>{i.triggerEvent(Ty(),he)},0))}),M=$s(n,"keydown",he=>{i.triggerEvent("keydown",he)?he.kill():i.stopBackspace&&u8(he)&&he.prevent()}),H=$s(n,"focusin",he=>{i.triggerEvent("focusin",he)&&he.kill()}),Z=Co(),K=$s(n,"focusout",he=>{i.triggerEvent("focusout",he)&&he.kill(),Z.set(setTimeout(()=>{i.triggerEvent(Pp(),he)},0))});return{unbind:()=>{dt(w,he=>{he.unbind()}),M.unbind(),H.unbind(),K.unbind(),_.unbind(),S.on(clearTimeout),Z.on(clearTimeout)}}},w1=(n,s)=>{const i=Hn(n,"target").getOr(s);return Mn(i)},eg=Ba.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),K_=(n,s,i,f,b,w)=>{const S=n(s,f),_=TV(i,b);return S.fold(()=>(w.logEventNoHandlers(s,f),eg.complete()),M=>{const H=M.descHandler;return hw(H)(_),_.isStopped()?(w.logEventStopped(s,M.element,H.purpose),eg.stopped()):_.isCut()?(w.logEventCut(s,M.element,H.purpose),eg.complete()):xl(M.element).fold(()=>(w.logNoParent(s,M.element,H.purpose),eg.complete()),K=>(w.logEventResponse(s,M.element,H.purpose),eg.resume(K)))})},Px=(n,s,i,f,b,w)=>K_(n,s,i,f,b,w).fold(Lt,S=>Px(n,s,i,S,b,w),yt),AV=(n,s,i,f,b)=>{const w=w1(i,f);return K_(n,s,i,f,w,b)},Y_=(n,s,i)=>{const f=c8(s);return dt(n,b=>{const w=b.descHandler;hw(w)(f)}),f.isStopped()},f8=(n,s,i,f)=>mk(n,s,i,i.target,f),mk=(n,s,i,f,b)=>{const w=w1(i,f);return Px(n,s,i,f,w,b)},hk=(n,s)=>({element:n,descHandler:s}),m8=(n,s)=>({id:n,descHandler:s}),tg=()=>{const n={},s=(S,_,M)=>{zo(M,(H,Z)=>{const K=n[Z]!==void 0?n[Z]:{};K[_]=WD(H,S),n[Z]=K})},i=(S,_)=>Kh(_).bind(M=>Hn(S,M)).map(M=>hk(_,M));return{registerId:s,unregisterId:S=>{zo(n,(_,M)=>{ts(_,S)&&delete _[S]})},filterByType:S=>Hn(n,S).map(_=>Es(_,(M,H)=>m8(H,M))).getOr([]),find:(S,_,M)=>Hn(n,_).bind(H=>Cr(M,Z=>i(H,Z),S))}},X_=()=>{const n=tg(),s={},i=H=>{const Z=H.element;return Kh(Z).getOrThunk(()=>ES("uid-",H.element))},f=(H,Z)=>{const K=s[Z];if(K===H)w(H);else throw new Error('The tagId "'+Z+'" is already used by: '+Md(K.element)+`
Cannot use it for: `+Md(H.element)+`
The conflicting element is`+(Is(K.element)?" ":" not ")+"already in the DOM")},b=H=>{const Z=i(H);Oo(s,Z)&&f(H,Z);const K=[H];n.registerId(K,Z,H.events),s[Z]=H},w=H=>{Kh(H.element).each(Z=>{delete s[Z],n.unregisterId(Z)})};return{find:(H,Z,K)=>n.find(H,Z,K),filter:H=>n.filterByType(H),register:b,unregister:w,getById:H=>Hn(s,H)}},Q_=n=>{const s=Te=>xl(n.element).fold(Lt,Ye=>oe(Te,Ye)),i=X_(),f=(Te,Ye)=>i.find(s,Te,Ye),b=d8(n.element,{triggerEvent:(Te,Ye)=>jp(Te,Ye.target,st=>f8(f,Te,Ye,st))}),w={debugInfo:ie("real"),triggerEvent:(Te,Ye,st)=>{jp(Te,Ye,wt=>mk(f,Te,st,Ye,wt))},triggerFocus:(Te,Ye)=>{Kh(Te).fold(()=>{Fa(Te)},st=>{jp(Pf(),Te,wt=>(AV(f,Pf(),{originator:Ye,kill:J,prevent:J,target:Te},Te,wt),!1))})},triggerEscape:(Te,Ye)=>{w.triggerEvent("keydown",Te.element,Ye.event)},getByUid:Te=>Oe(Te),getByDom:Te=>ze(Te),build:E,buildOrPatch:y,addToGui:Te=>{M(Te)},removeFromGui:Te=>{H(Te)},addToWorld:Te=>{S(Te)},removeFromWorld:Te=>{_(Te)},broadcast:Te=>{ae(Te)},broadcastOn:(Te,Ye)=>{he(Te,Ye)},broadcastEvent:(Te,Ye)=>{xe(Te,Ye)},isConnected:Lt},S=Te=>{Te.connect(w),vl(Te.element)||(i.register(Te),dt(Te.components(),S),w.triggerEvent(Ff(),Te.element,{target:Te.element}))},_=Te=>{vl(Te.element)||(dt(Te.components(),_),i.unregister(Te)),Te.disconnect()},M=Te=>{r0(n,Te)},H=Te=>{i0(Te)},Z=()=>{b.unbind(),eu(n.element)},K=Te=>{const Ye=i.filter(Fh());dt(Ye,st=>{const wt=st.descHandler;hw(wt)(Te)})},ae=Te=>{K({universal:!0,data:Te})},he=(Te,Ye)=>{K({universal:!1,channels:Te,data:Ye})},xe=(Te,Ye)=>{const st=i.filter(Te);return Y_(st,Ye)},Oe=Te=>i.getById(Te).fold(()=>Pn.error(new Error('Could not find component with uid: "'+Te+'" in system.')),Pn.value),ze=Te=>{const Ye=Kh(Te).getOr("not found");return Oe(Ye)};return S(n),{root:n,element:n.element,destroy:Z,add:M,remove:H,getByUid:Oe,getByDom:ze,addToWorld:S,removeFromWorld:_,broadcast:ae,broadcastOn:he,broadcastEvent:xe}},h8=()=>{const n=(s,i)=>{i.stop(),r1(s)};return[Mt(dm(),n),Mt(xr(),n),xm(ed()),xm(uu())]},J_=n=>{const s=i=>wm((f,b)=>{i(f),b.stop()});return oa(tt([n.map(s).toArray(),h8()]))},rc=oh({name:"Button",factory:n=>{const s=J_(n.action),i=n.dom.tag,f=w=>Hn(n.dom,"attributes").bind(S=>Hn(S,w)),b=()=>{if(i==="button"){const w=f("type").getOr("button"),S=f("role").map(_=>({role:_})).getOr({});return{type:w,...S}}else return{role:n.role.getOr(f("role").getOr("button"))}};return{uid:n.uid,dom:n.dom,components:n.components,events:s,behaviours:Xg.augment(n.buttonBehaviours,[et.config({}),lo.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:b()},eventOrder:n.eventOrder}},configFields:[pt("uid",void 0),Wt("dom"),pt("components",[]),Xg.field("buttonBehaviours",[et,lo]),vr("action"),vr("role"),pt("eventOrder",{})]}),kV=ie([pt("shell",!1),Wt("makeItem"),pt("setupItem",J),Xg.field("listBehaviours",[jo])]),e5=fu({name:"items",overrides:()=>({behaviours:a([jo.config({})])})}),_V=ie([e5]),t5=ie("CustomList"),n5=(n,s,i,f)=>{const b=(_,M)=>{S(_).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},H=>{const Z=jo.contents(H),K=M.length,ae=K-Z.length,he=ae>0?Ne(ae,()=>n.makeItem()):[],xe=Z.slice(K);dt(xe,ze=>jo.remove(H,ze)),dt(he,ze=>jo.append(H,ze));const Oe=jo.contents(H);dt(Oe,(ze,Te)=>{n.setupItem(_,ze,M[Te],Te)})})},w=n.shell?{behaviours:[jo.config({})],components:[]}:{behaviours:[],components:s},S=_=>n.shell?F.some(_):Dr(_,n,"items");return{uid:n.uid,dom:n.dom,components:w.components,behaviours:Hu(n.listBehaviours,w.behaviours),apis:{setItems:b}}},g8=pf({name:t5(),configFields:kV(),partFields:_V(),factory:n5,apis:{setItems:(n,s,i)=>{n.setItems(s,i)}}}),Nw="aria-controls",p8=n=>Ah(n,i=>{if(!Yc(i))return!1;const f=ea(i,"id");return f!==void 0&&f.indexOf(Nw)>-1}).bind(i=>{const f=ea(i,"id"),b=Ai(i);return ur(b,`[${Nw}="${f}"]`)}),b8=()=>{const n=me(Nw);return{id:n,link:f=>{uo(f,Nw,n)},unlink:f=>{cr(f,Nw)}}},y8=(n,s)=>p8(s).exists(i=>rv(n,i)),rv=(n,s)=>Di(s,i=>oe(i,n.element),yt)||y8(n,s),v8="alloy.item-hover",x8="alloy.item-focus",w8="alloy.item-toggled",C8=n=>{(ai(n.element).isNone()||et.isFocused(n))&&(et.isFocused(n)||et.focus(n),so(n,v8,{item:n}))},S8=n=>{so(n,x8,{item:n})},E8=(n,s)=>{so(n,w8,{item:n,state:s})},o5=ie(v8),OV=ie(x8),T8=ie(w8),A8=n=>n.role.fold(()=>n.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),ct),NV=(n,s)=>({aria:{mode:s?"selected":"checked"},...Wr(n,(i,f)=>f!=="exclusive"),onToggled:(i,f)=>{pe(n.onToggled)&&n.onToggled(i,f),E8(i,f)}}),RV=n=>({dom:n.dom,domModification:{...n.domModification,attributes:{role:A8(n),...n.domModification.attributes,"aria-haspopup":n.hasSubmenu,...n.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Xg.augment(n.itemBehaviours,[n.toggling.fold(Ms.revoke,s=>Ms.config(NV(s,n.role.exists(i=>i==="option")))),et.config({ignore:n.ignoreFocus,stopMousedown:n.ignoreFocus,onFocus:s=>{S8(s)}}),lo.config({mode:"execution"}),In.config({store:{mode:"memory",initialValue:n.data}}),fe("item-type-events",[...h8(),Mt(Jl(),C8),Mt(ba(),et.focus)])]),components:n.components,eventOrder:n.eventOrder});var s5=[Wt("data"),Wt("components"),Wt("dom"),pt("hasSubmenu",!1),vr("toggling"),vr("role"),Xg.field("itemBehaviours",[Ms,et,lo,In]),pt("ignoreFocus",!1),pt("domModification",{}),sr("builder",RV),pt("eventOrder",{})];const k8=n=>({dom:n.dom,components:n.components,events:oa([ZC(ba())])});var D8=[Wt("dom"),Wt("components"),sr("builder",k8)];const r5=ie("item-widget"),a5=ie([Sc({name:"widget",overrides:n=>({behaviours:a([In.config({store:{mode:"manual",getValue:s=>n.data,setValue:J}})])})})]),_8=n=>{const s=Pc(r5(),n,a5()),i=vb(r5(),n,s.internals()),f=w=>Dr(w,n,"widget").map(S=>(lo.focusIn(S),S)),b=(w,S)=>(qy(S.event.target)||n.autofocus&&S.setSource(w.element),F.none());return{dom:n.dom,components:i,domModification:n.domModification,events:oa([wm((w,S)=>{f(w).each(_=>{S.stop()})}),Mt(Jl(),C8),Mt(ba(),(w,S)=>{n.autofocus?f(w):et.focus(w)})]),behaviours:Xg.augment(n.widgetBehaviours,[In.config({store:{mode:"memory",initialValue:n.data}}),et.config({ignore:n.ignoreFocus,onFocus:w=>{S8(w)}}),lo.config({mode:"special",focusIn:n.autofocus?w=>{f(w)}:$(),onLeft:b,onRight:b,onEscape:(w,S)=>!et.isFocused(w)&&!n.autofocus?(et.focus(w),F.some(!0)):(n.autofocus&&S.setSource(w.element),F.none())})])}};var i5=[Wt("uid"),Wt("data"),Wt("components"),Wt("dom"),pt("autofocus",!1),pt("ignoreFocus",!1),Xg.field("widgetBehaviours",[In,et,lo]),pt("domModification",{}),Wm(a5()),sr("builder",_8)];const N8=Kl("type",{widget:i5,item:s5,separator:D8}),R8=(n,s)=>({mode:"flatgrid",selector:"."+n.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:n.focusManager}),M8=(n,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+n.markers.item},previousSelector:s.previousSelector,focusManager:n.focusManager}),LV=(n,s)=>({mode:"menu",selector:"."+n.markers.item,moveOnTab:s.moveOnTab,focusManager:n.focusManager}),l5=ie([e1({factory:{sketch:n=>{const s=Mc("menu.spec item",N8,n);return s.builder(s)}},name:"items",unit:"item",defaults:(n,s)=>ts(s,"uid")?s:{...s,uid:Qy("item")},overrides:(n,s)=>({type:s.type,ignoreFocus:n.fakeFocus,domModification:{classes:[n.markers.item]}})})]),PV=ie([pa("role"),Wt("value"),Wt("items"),Wt("dom"),Wt("components"),pt("eventOrder",{}),Ic("menuBehaviours",[fr,In,$t,lo]),Ju("movement",{mode:"menu",moveOnTab:!0},Kl("mode",{grid:[mb(),sr("config",R8)],matrix:[sr("config",M8),Wt("rowSelector"),pt("previousSelector",F.none)],menu:[pt("moveOnTab",!0),sr("config",LV)]})),ky(),pt("fakeFocus",!1),pt("focusManager",YC()),Ps("onHighlight"),Ps("onDehighlight"),pt("showMenuRole",!0)]),c5=ie("alloy.menu-focus"),B8=(n,s)=>{const i=ta(n.element,'[role="menuitemradio"][aria-checked="true"]');dt(i,f=>{oe(f,s.element)||n.getSystem().getByDom(f).each(b=>{Ms.off(b)})})},Fx=(n,s,i,f)=>({uid:n.uid,dom:n.dom,markers:n.markers,behaviours:Hu(n.menuBehaviours,[fr.config({highlightClass:n.markers.selectedItem,itemClass:n.markers.item,onHighlight:n.onHighlight,onDehighlight:n.onDehighlight}),In.config({store:{mode:"memory",initialValue:n.value}}),$t.config({find:F.some}),lo.config(n.movement.config(n,n.movement))]),events:oa([Mt(OV(),(b,w)=>{const S=w.event;b.getSystem().getByDom(S.target).each(_=>{fr.highlight(b,_),w.stop(),so(b,c5(),{menu:b,item:_})})}),Mt(o5(),(b,w)=>{const S=w.event.item;fr.highlight(b,S)}),Mt(T8(),(b,w)=>{const{item:S,state:_}=w.event;_&&ea(S.element,"role")==="menuitemradio"&&B8(b,S)})]),components:s,eventOrder:n.eventOrder,...n.showMenuRole?{domModification:{attributes:{role:n.role.getOr("menu")}}}:{}}),Ub=pf({name:"Menu",configFields:PV(),partFields:l5(),factory:Fx}),u5=n=>Vs(n,(s,i)=>({k:s,v:i})),eE=(n,s,i,f)=>Hn(i,f).bind(b=>Hn(n,b).bind(w=>{const S=eE(n,s,i,w);return F.some([w].concat(S))})).getOr([]),FV=(n,s)=>{const i={};zo(n,(S,_)=>{dt(S,M=>{i[M]=_})});const f=s,b=u5(s),w=os(b,(S,_)=>[_].concat(eE(i,f,b,_)));return os(i,S=>Hn(w,S).getOr([S]))},L8=()=>{const n=Mn({}),s=Mn({}),i=Mn({}),f=Co(),b=Mn({}),w=()=>{n.set({}),s.set({}),i.set({}),f.clear()},S=()=>f.get().isNone(),_=(Ot,kn)=>{s.set({...s.get(),[Ot]:{type:"prepared",menu:kn}})},M=(Ot,kn,Jt,rn)=>{f.set(Ot),n.set(Jt),s.set(kn),b.set(rn);const on=FV(rn,Jt);i.set(on)},H=Ot=>$r(n.get(),(kn,Jt)=>kn===Ot),Z=(Ot,kn,Jt)=>Oe(Ot).bind(rn=>H(Ot).bind(on=>kn(on).map(mo=>({triggeredMenu:rn,triggeringItem:mo,triggeringPath:Jt})))),K=(Ot,kn)=>{const Jt=xo(Te(Ot).toArray(),rn=>Oe(rn).isSome());return Hn(i.get(),Ot).bind(rn=>{const on=Nt(Jt.concat(rn)),mo=Le(on,(to,ys)=>Z(to,kn,on.slice(0,ys+1)).fold(()=>oo(f.get(),to)?[]:[F.none()],ho=>[F.some(ho)]));return vs(mo)})},ae=Ot=>Hn(n.get(),Ot).map(kn=>{const Jt=Hn(i.get(),Ot).getOr([]);return[kn].concat(Jt)}),he=Ot=>Hn(i.get(),Ot).bind(kn=>kn.length>1?F.some(kn.slice(1)):F.none()),xe=Ot=>Hn(i.get(),Ot),Oe=Ot=>ze(Ot).bind(d5),ze=Ot=>Hn(s.get(),Ot),Te=Ot=>Hn(n.get(),Ot);return{setMenuBuilt:_,setContents:M,expand:ae,refresh:xe,collapse:he,lookupMenu:ze,lookupItem:Te,otherMenus:Ot=>{const kn=b.get();return xt(Do(kn),Ot)},getPrimary:()=>f.get().bind(Oe),getMenus:()=>s.get(),clear:w,isClear:S,getTriggeringPath:K}},d5=n=>n.type==="prepared"?F.some(n.menu):F.none(),f5={init:L8,extractPreparedMenu:d5},gk=me("tiered-menu-item-highlight"),m5=me("tiered-menu-item-dehighlight"),$V=(n,s)=>{const i=Co(),f=(Yt,vn,To)=>os(To,(Ko,ao)=>{const qo=()=>Ub.sketch({...Ko,value:ao,markers:n.markers,fakeFocus:n.fakeFocus,onHighlight:(Ur,pr)=>{so(Ur,gk,{menuComp:Ur,itemComp:pr})},onDehighlight:(Ur,pr)=>{so(Ur,m5,{menuComp:Ur,itemComp:pr})},focusManager:n.fakeFocus?U2():YC()});return ao===vn?{type:"prepared",menu:Yt.getSystem().build(qo())}:{type:"notbuilt",nbMenu:qo}}),b=f5.init(),w=Yt=>{const vn=f(Yt,n.data.primary,n.data.menus),To=M();return b.setContents(n.data.primary,vn,n.data.expansions,To),b.getPrimary()},S=Yt=>In.getValue(Yt).value,_=(Yt,vn,To)=>Jo(vn,Ko=>{if(!Ko.getSystem().isConnected())return F.none();const ao=fr.getCandidates(Ko);return Be(ao,qo=>S(qo)===To)}),M=Yt=>os(n.data.menus,(vn,To)=>Le(vn.items,Ko=>Ko.type==="separator"?[]:[Ko.data.value])),H=fr.highlight,Z=(Yt,vn)=>{H(Yt,vn),fr.getHighlighted(vn).orThunk(()=>fr.getFirst(vn)).each(To=>{n.fakeFocus?fr.highlight(vn,To):jy(Yt,To.element,ba())})},K=(Yt,vn)=>Uo(He(vn,To=>Yt.lookupMenu(To).bind(Ko=>Ko.type==="prepared"?F.some(Ko.menu):F.none()))),ae=(Yt,vn,To)=>{const Ko=K(vn,vn.otherMenus(To));dt(Ko,ao=>{El(ao.element,[n.markers.backgroundMenu]),n.stayInDom||jo.remove(Yt,ao)})},he=Yt=>i.get().getOrThunk(()=>{const vn={},To=ta(Yt.element,`.${n.markers.item}`),Ko=xo(To,ao=>ea(ao,"aria-haspopup")==="true");return dt(Ko,ao=>{Yt.getSystem().getByDom(ao).each(qo=>{const Ur=S(qo);vn[Ur]=qo})}),i.set(vn),vn}),xe=(Yt,vn)=>{const To=he(Yt);zo(To,(Ko,ao)=>{const qo=Ve(vn,ao);uo(Ko.element,"aria-expanded",qo)})},Oe=(Yt,vn,To)=>F.from(To[0]).bind(Ko=>vn.lookupMenu(Ko).bind(ao=>{if(ao.type==="notbuilt")return F.none();{const qo=ao.menu,Ur=K(vn,To.slice(1));return dt(Ur,pr=>{nr(pr.element,n.markers.backgroundMenu)}),Is(qo.element)||jo.append(Yt,D(qo)),El(qo.element,[n.markers.backgroundMenu]),Z(Yt,qo),ae(Yt,vn,To),F.some(qo)}}));let ze;(function(Yt){Yt[Yt.HighlightSubmenu=0]="HighlightSubmenu",Yt[Yt.HighlightParent=1]="HighlightParent"})(ze||(ze={}));const Te=(Yt,vn,To)=>{if(To.type==="notbuilt"){const Ko=Yt.getSystem().build(To.nbMenu());return b.setMenuBuilt(vn,Ko),Ko}else return To.menu},Ye=(Yt,vn,To=ze.HighlightSubmenu)=>{if(vn.hasConfigured(eo)&&eo.isDisabled(vn))return F.some(vn);{const Ko=S(vn);return b.expand(Ko).bind(ao=>(xe(Yt,ao),F.from(ao[0]).bind(qo=>b.lookupMenu(qo).bind(Ur=>{const pr=Te(Yt,qo,Ur);return Is(pr.element)||jo.append(Yt,D(pr)),n.onOpenSubmenu(Yt,vn,pr,Nt(ao)),To===ze.HighlightSubmenu?(fr.highlightFirst(pr),Oe(Yt,b,ao)):(fr.dehighlightAll(pr),F.some(vn))}))))}},st=(Yt,vn)=>{const To=S(vn);return b.collapse(To).bind(Ko=>(xe(Yt,Ko),Oe(Yt,b,Ko).map(ao=>(n.onCollapseMenu(Yt,vn,ao),ao))))},wt=(Yt,vn)=>{const To=S(vn);return b.refresh(To).bind(Ko=>(xe(Yt,Ko),Oe(Yt,b,Ko)))},Ot=(Yt,vn)=>qy(vn.element)?F.none():Ye(Yt,vn,ze.HighlightSubmenu),kn=(Yt,vn)=>qy(vn.element)?F.none():st(Yt,vn),Jt=(Yt,vn)=>st(Yt,vn).orThunk(()=>n.onEscape(Yt,vn).map(()=>Yt)),rn=Yt=>(vn,To)=>yi(To.getSource(),`.${n.markers.item}`).bind(Ko=>vn.getSystem().getByDom(Ko).toOptional().bind(ao=>Yt(vn,ao).map(Lt))),on=oa([Mt(c5(),(Yt,vn)=>{const To=vn.event.item;b.lookupItem(S(To)).each(()=>{const Ko=vn.event.menu;fr.highlight(Yt,Ko);const ao=S(vn.event.item);b.refresh(ao).each(qo=>ae(Yt,b,qo))})}),wm((Yt,vn)=>{const To=vn.event.target;Yt.getSystem().getByDom(To).each(Ko=>{S(Ko).indexOf("collapse-item")===0&&st(Yt,Ko),Ye(Yt,Ko,ze.HighlightSubmenu).fold(()=>{n.onExecute(Yt,Ko)},J)})}),Lr((Yt,vn)=>{w(Yt).each(To=>{jo.append(Yt,D(To)),n.onOpenMenu(Yt,To),n.highlightOnOpen===Ec.HighlightMenuAndItem?Z(Yt,To):n.highlightOnOpen===Ec.HighlightJustMenu&&H(Yt,To)})}),Mt(gk,(Yt,vn)=>{n.onHighlightItem(Yt,vn.event.menuComp,vn.event.itemComp)}),Mt(m5,(Yt,vn)=>{n.onDehighlightItem(Yt,vn.event.menuComp,vn.event.itemComp)}),...n.navigateOnHover?[Mt(o5(),(Yt,vn)=>{const To=vn.event.item;wt(Yt,To),Ye(Yt,To,ze.HighlightParent),n.onHover(Yt,To)})]:[]]),mo=Yt=>fr.getHighlighted(Yt).bind(fr.getHighlighted),to=Yt=>{mo(Yt).each(vn=>{st(Yt,vn)})},ys=Yt=>{b.getPrimary().each(vn=>{Z(Yt,vn)})},ho=Yt=>F.from(Yt.components()[0]).filter(vn=>ea(vn.element,"role")==="menu"),no={collapseMenu:to,highlightPrimary:ys,repositionMenus:Yt=>{b.getPrimary().bind(To=>mo(Yt).bind(Ko=>{const ao=S(Ko),qo=Ma(b.getMenus()),Ur=Uo(He(qo,f5.extractPreparedMenu));return b.getTriggeringPath(ao,pr=>_(Yt,Ur,pr))}).map(Ko=>({primary:To,triggeringPath:Ko}))).fold(()=>{ho(Yt).each(To=>{n.onRepositionMenu(Yt,To,[])})},({primary:To,triggeringPath:Ko})=>{n.onRepositionMenu(Yt,To,Ko)})}};return{uid:n.uid,dom:n.dom,markers:n.markers,behaviours:Hu(n.tmenuBehaviours,[lo.config({mode:"special",onRight:rn(Ot),onLeft:rn(kn),onEscape:rn(Jt),focusIn:(Yt,vn)=>{b.getPrimary().each(To=>{jy(Yt,To.element,ba())})}}),fr.config({highlightClass:n.markers.selectedMenu,itemClass:n.markers.menu}),$t.config({find:Yt=>fr.getHighlighted(Yt)}),jo.config({})]),eventOrder:n.eventOrder,apis:no,events:on}},P8=ie("collapse-item"),F8=(n,s,i)=>({primary:n,menus:s,expansions:i}),$8=(n,s)=>({primary:n,menus:za(n,s),expansions:{}}),I8=n=>({value:me(P8()),meta:{text:n}}),$x=oh({name:"TieredMenu",configFields:[X0("onExecute"),X0("onEscape"),Ih("onOpenMenu"),Ih("onOpenSubmenu"),Ps("onRepositionMenu"),Ps("onCollapseMenu"),pt("highlightOnOpen",Ec.HighlightMenuAndItem),cf("data",[Wt("primary"),Wt("menus"),Wt("expansions")]),pt("fakeFocus",!1),Ps("onHighlightItem"),Ps("onDehighlightItem"),Ps("onHover"),N2(),Wt("dom"),pt("navigateOnHover",!0),pt("stayInDom",!1),Ic("tmenuBehaviours",[lo,fr,$t,jo]),pt("eventOrder",{})],apis:{collapseMenu:(n,s)=>{n.collapseMenu(s)},highlightPrimary:(n,s)=>{n.highlightPrimary(s)},repositionMenus:(n,s)=>{n.repositionMenus(s)}},factory:$V,extraApis:{tieredData:F8,singleData:$8,collapseItem:I8}}),pk=ie("sink"),IV=ie(fu({name:pk(),overrides:ie({dom:{tag:"div"},behaviours:a([dd.config({useFixed:Lt})]),events:oa([xm(Ki()),xm(uu()),xm(dm())])})})),HV=Bu([pt("isExtraPart",yt),$i("fireEventInstead",[pt("event",mm())])]),h5=n=>{const s=Mc("Dismissal",HV,n);return{[Jm()]:{schema:Bu([Wt("target")]),onReceive:(i,f)=>{ar.isOpen(i)&&(ar.isPartOf(i,f.target)||s.isExtraPart(i,f.target)||s.fireEventInstead.fold(()=>ar.close(i),w=>fs(i,w.event)))}}}},zV=Bu([$i("fireEventInstead",[pt("event",Rd())]),cu("doReposition")]),bk=n=>{const s=Mc("Reposition",zV,n);return{[pl()]:{onReceive:i=>{ar.isOpen(i)&&s.fireEventInstead.fold(()=>s.doReposition(i),f=>fs(i,f.event))}}}},H8=(n,s)=>{const i=n.getHotspot(s).getOr(s),f="hotspot",b=n.getAnchorOverrides();return n.layouts.fold(()=>({type:f,hotspot:i,overrides:b}),w=>({type:f,hotspot:i,overrides:b,layouts:w}))},tE=(n,s,i)=>{const f=n.fetch;return f(i).map(s)},z8=(n,s,i,f,b,w,S)=>{const _=tE(n,s,f),M=j8(f,n);return _.map(H=>H.bind(Z=>{const K=Z.menus[Z.primary];return F.from(K).each(ae=>{n.listRole.each(he=>{ae.role=he})}),F.from($x.sketch({...w.menu(),uid:Qy(""),data:Z,highlightOnOpen:S,onOpenMenu:(ae,he)=>{const xe=M().getOrDie();dd.position(xe,he,{anchor:i}),ar.decloak(b)},onOpenSubmenu:(ae,he,xe)=>{const Oe=M().getOrDie();dd.position(Oe,xe,{anchor:{type:"submenu",item:he}}),ar.decloak(b)},onRepositionMenu:(ae,he,xe)=>{const Oe=M().getOrDie();dd.position(Oe,he,{anchor:i}),dt(xe,ze=>{dd.position(Oe,ze.triggeredMenu,{anchor:{type:"submenu",item:ze.triggeringItem}})})},onEscape:()=>(et.focus(f),ar.close(b),F.some(!0))}))}))},yk=(n,s,i,f,b,w,S)=>{const _=H8(n,i);return z8(n,s,_,i,f,b,S).map(H=>(H.fold(()=>{ar.isOpen(f)&&ar.close(f)},Z=>{ar.cloak(f),ar.open(f,Z),w(f)}),f))},jV=(n,s,i,f,b,w,S)=>(ar.close(f),ls.pure(f)),vk=(n,s,i,f,b,w)=>{const S=Wo.getCoupled(i,"sandbox");return(ar.isOpen(S)?jV:yk)(n,s,i,S,f,b,w)},VV=(n,s,i)=>{const f=$t.getCurrent(s).getOr(s),b=Bi(n.element);i?So(f.element,"min-width",b+"px"):Cd(f.element,b)},j8=(n,s)=>n.getSystem().getByUid(s.uid+"-"+pk()).map(i=>()=>Pn.value(i)).getOrThunk(()=>s.lazySink.fold(()=>()=>Pn.error(new Error("No internal sink is specified, nor could an external sink be found")),i=>()=>i(n))),V8=n=>{ar.getState(n).each(s=>{$x.repositionMenus(s)})},U8=(n,s,i)=>{const f=b8(),b=(_,M)=>{const H=H8(n,s);f.link(s.element),n.matchWidth&&VV(H.hotspot,M,n.useMinWidth),n.onOpen(H,_,M),i!==void 0&&i.onOpen!==void 0&&i.onOpen(_,M)},w=(_,M)=>{f.unlink(s.element),S().getOr(M).element.dom.dispatchEvent(new window.FocusEvent("focusout")),i!==void 0&&i.onClose!==void 0&&i.onClose(_,M)},S=j8(s,n);return{dom:{tag:"div",classes:n.sandboxClasses,attributes:{id:f.id}},behaviours:Xg.augment(n.sandboxBehaviours,[In.config({store:{mode:"memory",initialValue:s}}),ar.config({onOpen:b,onClose:w,isPartOf:(_,M,H)=>rv(M,H)||rv(s,H),getAttachPoint:()=>S().getOrDie()}),$t.config({find:_=>ar.getState(_).bind(M=>$t.getCurrent(M))}),fd.config({channels:{...h5({isExtraPart:yt}),...bk({doReposition:V8})}})])}},UV=n=>{const s=Wo.getCoupled(n,"sandbox");V8(s)},g5=()=>[pt("sandboxClasses",[]),Xg.field("sandboxBehaviours",[$t,fd,ar,In])],ZV=ie([Wt("dom"),Wt("fetch"),Ps("onOpen"),tc("onExecute"),pt("getHotspot",F.some),pt("getAnchorOverrides",ie({})),nv(),Ic("dropdownBehaviours",[Ms,Wo,lo,et]),Wt("toggleClass"),pt("eventOrder",{}),vr("lazySink"),pt("matchWidth",!1),pt("useMinWidth",!1),vr("role"),vr("listRole")].concat(g5())),WV=ie([$d({schema:[N2(),pt("fakeFocus",!1)],name:"menu",defaults:n=>({onExecute:n.onExecute})}),IV()]),qV=(n,s,i,f)=>{const b=Z=>Hn(n.dom,"attributes").bind(K=>Hn(K,Z)),w=Z=>{ar.getState(Z).each(K=>{$x.highlightPrimary(K)})},S=(Z,K,ae)=>vk(n,ct,Z,f,K,ae),_=Z=>{S(Z,w,Ec.HighlightMenuAndItem).get(J)},M={expand:Z=>{Ms.isOn(Z)||S(Z,J,Ec.HighlightNone).get(J)},open:Z=>{Ms.isOn(Z)||S(Z,J,Ec.HighlightMenuAndItem).get(J)},refetch:Z=>Wo.getExistingCoupled(Z,"sandbox").fold(()=>S(Z,J,Ec.HighlightMenuAndItem).map(J),ae=>yk(n,ct,Z,ae,f,J,Ec.HighlightMenuAndItem).map(J)),isOpen:Ms.isOn,close:Z=>{Ms.isOn(Z)&&S(Z,J,Ec.HighlightMenuAndItem).get(J)},repositionMenus:Z=>{Ms.isOn(Z)&&UV(Z)}},H=(Z,K)=>(r1(Z),F.some(!0));return{uid:n.uid,dom:n.dom,components:s,behaviours:Hu(n.dropdownBehaviours,[Ms.config({toggleClass:n.toggleClass,aria:{mode:"expanded"}}),Wo.config({others:{sandbox:Z=>U8(n,Z,{onOpen:()=>Ms.on(Z),onClose:()=>Ms.off(Z)})}}),lo.config({mode:"special",onSpace:H,onEnter:H,onDown:(Z,K)=>{if(Gf.isOpen(Z)){const ae=Wo.getCoupled(Z,"sandbox");w(ae)}else Gf.open(Z);return F.some(!0)},onEscape:(Z,K)=>Gf.isOpen(Z)?(Gf.close(Z),F.some(!0)):F.none()}),et.config({})]),events:J_(F.some(_)),eventOrder:{...n.eventOrder,[Ls()]:["disabling","toggling","alloy.base.behaviour"]},apis:M,domModification:{attributes:{"aria-haspopup":n.listRole.getOr("true"),...n.role.fold(()=>({}),Z=>({role:Z})),...n.dom.tag==="button"?{type:b("type").getOr("button")}:{}}}}},Gf=pf({name:"Dropdown",configFields:ZV(),partFields:WV(),factory:qV,apis:{open:(n,s)=>n.open(s),refetch:(n,s)=>n.refetch(s),expand:(n,s)=>n.expand(s),close:(n,s)=>n.close(s),isOpen:(n,s)=>n.isOpen(s),repositionMenus:(n,s)=>n.repositionMenus(s)}}),Z8="form",GV=[Ic("formBehaviours",[In])],p5=n=>"<alloy.field."+n+">",KV=n=>{const s=(()=>{const w=[];return{field:(_,M)=>(w.push(_),Rr(Z8,p5(_),M)),record:ie(w)}})(),i=n(s),f=s.record(),b=He(f,w=>Sc({name:w,pname:p5(w)}));return i_(Z8,GV,b,q8,i)},W8=(n,s)=>n.fold(()=>Pn.error(s),Pn.value),q8=(n,s)=>({uid:n.uid,dom:n.dom,components:s,behaviours:Hu(n.formBehaviours,[In.config({store:{mode:"manual",getValue:i=>{const f=pm(i,n);return os(f,(b,w)=>b().bind(S=>{const _=$t.getCurrent(S);return W8(_,new Error(`Cannot find a current component to extract the value from for form part '${w}': `+Md(S.element)))}).map(In.getValue))},setValue:(i,f)=>{zo(f,(b,w)=>{Dr(i,n,w).each(S=>{$t.getCurrent(S).each(_=>{In.setValue(_,b)})})})}}})]),apis:{getField:(i,f)=>Dr(i,n,f).bind($t.getCurrent)}}),av={getField:wx((n,s,i)=>n.getField(s,i)),sketch:KV},Rw=ie([Wt("dom"),pt("shell",!0),Ic("toolbarBehaviours",[jo])]),XV=ie([fu({name:"groups",overrides:()=>({behaviours:a([jo.config({})])})})]),nE=(n,s,i,f)=>{const b=(_,M)=>{w(_).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},H=>{jo.set(H,M)})},w=_=>n.shell?F.some(_):Dr(_,n,"groups"),S=n.shell?{behaviours:[jo.config({})],components:[]}:{behaviours:[],components:s};return{uid:n.uid,dom:n.dom,components:S.components,behaviours:Hu(n.toolbarBehaviours,S.behaviours),apis:{setGroups:b,refresh:J},domModification:{attributes:{role:"group"}}}},g0=pf({name:"Toolbar",configFields:Rw(),partFields:XV(),factory:nE,apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)}}}),QV=ie([hs(["toggledClass"]),Wt("lazySink"),cu("fetch"),uf("getBounds"),$i("fireDismissalEventInstead",[pt("event",mm())]),nv(),Ps("onToggled")]),JV=ie([$d({name:"button",overrides:n=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:a([Ms.config({toggleClass:n.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:n.onToggled})])})}),$d({factory:g0,schema:Rw(),name:"toolbar",overrides:n=>({toolbarBehaviours:a([lo.config({mode:"cyclic",onEscape:s=>(Dr(s,n,"button").each(et.focus),F.none())})])})})]),Mw=Co(),G8=(n,s)=>{Mw.set(!0),b5(n,s),Mw.clear()},b5=(n,s)=>{const i=Wo.getCoupled(n,"toolbarSandbox");ar.isOpen(i)?ar.close(i):ar.open(i,s.toolbar())},oE=(n,s,i,f)=>{const b=i.getBounds.map(S=>S()),w=i.lazySink(n).getOrDie();dd.positionWithinBounds(w,s,{anchor:{type:"hotspot",hotspot:n,layouts:f,overrides:{maxWidthFunction:kb()}}},b)},K8=(n,s,i,f,b)=>{g0.setGroups(s,b),oE(n,s,i,f),Ms.on(n)},eU=(n,s,i)=>{const f=b8(),b=(S,_)=>{const M=Mw.get().getOr(!1);i.fetch().get(H=>{K8(n,_,i,s.layouts,H),f.link(n.element),M||lo.focusIn(_)})},w=()=>{Ms.off(n),Mw.get().getOr(!1)||et.focus(n),f.unlink(n.element)};return{dom:{tag:"div",attributes:{id:f.id}},behaviours:a([lo.config({mode:"special",onEscape:S=>(ar.close(S),F.some(!0))}),ar.config({onOpen:b,onClose:w,isPartOf:(S,_,M)=>rv(_,M)||rv(n,M),getAttachPoint:()=>i.lazySink(n).getOrDie()}),fd.config({channels:{...h5({isExtraPart:yt,...i.fireDismissalEventInstead.map(S=>({fireEventInstead:{event:S.event}})).getOr({})}),...bk({doReposition:()=>{ar.getState(Wo.getCoupled(n,"toolbarSandbox")).each(S=>{oE(n,S,i,s.layouts)})}})}})])}},Zb=pf({name:"FloatingToolbarButton",factory:(n,s,i,f)=>({...rc.sketch({...f.button(),action:b=>{b5(b,f)},buttonBehaviours:Xg.augment({dump:f.button().buttonBehaviours},[Wo.config({others:{toolbarSandbox:b=>eU(b,i,n)}})])}),apis:{setGroups:(b,w)=>{ar.getState(Wo.getCoupled(b,"toolbarSandbox")).each(S=>{K8(b,S,n,i.layouts,w)})},reposition:b=>{ar.getState(Wo.getCoupled(b,"toolbarSandbox")).each(w=>{oE(b,w,n,i.layouts)})},toggle:b=>{b5(b,f)},toggleWithoutFocusing:b=>{G8(b,f)},getToolbar:b=>ar.getState(Wo.getCoupled(b,"toolbarSandbox")),isOpen:b=>ar.isOpen(Wo.getCoupled(b,"toolbarSandbox"))}}),configFields:QV(),partFields:JV(),apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)},reposition:(n,s)=>{n.reposition(s)},toggle:(n,s)=>{n.toggle(s)},toggleWithoutFocusing:(n,s)=>{n.toggleWithoutFocusing(s)},getToolbar:(n,s)=>n.getToolbar(s),isOpen:(n,s)=>n.isOpen(s)}}),Y8=ie([pt("prefix","form-field"),Ic("fieldBehaviours",[$t,In])]),tU=ie([fu({schema:[Wt("dom")],name:"label"}),fu({factory:{sketch:n=>({uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}})},schema:[Wt("text")],name:"aria-descriptor"}),Sc({factory:{sketch:n=>{const s=Sy(n,["factory"]);return n.factory.sketch(s)}},schema:[Wt("factory")],name:"field"})]),nU=(n,s,i,f)=>{const b=Hu(n.fieldBehaviours,[$t.config({find:_=>Dr(_,n,"field")}),In.config({store:{mode:"manual",getValue:_=>$t.getCurrent(_).bind(In.getValue),setValue:(_,M)=>{$t.getCurrent(_).each(H=>{In.setValue(H,M)})}}})]),w=oa([Lr((_,M)=>{const H=Hf(_,n,["label","field","aria-descriptor"]);H.field().each(Z=>{const K=me(n.prefix);H.label().each(ae=>{uo(ae.element,"for",K),uo(Z.element,"id",K)}),H["aria-descriptor"]().each(ae=>{const he=me(n.prefix);uo(ae.element,"id",he),uo(Z.element,"aria-describedby",he)})})})]),S={getField:_=>Dr(_,n,"field"),getLabel:_=>Dr(_,n,"label")};return{uid:n.uid,dom:n.dom,components:s,behaviours:b,events:w,apis:S}},ks=pf({name:"FormField",configFields:Y8(),partFields:tU(),factory:nU,apis:{getField:(n,s)=>n.getField(s),getLabel:(n,s)=>n.getLabel(s)}}),oU=ie([pt("field1Name","field1"),pt("field2Name","field2"),Ih("onLockedChange"),hs(["lockClass"]),pt("locked",!1),Xg.field("coupledFieldBehaviours",[$t,In]),dr("onInput",J)]),sU=(n,s,i)=>Dr(n,s,i).bind($t.getCurrent),X8=(n,s)=>Sc({factory:ks,name:n,overrides:i=>({fieldBehaviours:a([fe("coupled-input-behaviour",[Mt(Bf(),f=>{sU(f,i,s).each(b=>{Dr(f,i,"lock").each(w=>{Ms.isOn(w)&&i.onLockedChange(f,b,w),i.onInput(f)})})})])])})}),rU=ie([X8("field1","field2"),X8("field2","field1"),Sc({factory:rc,schema:[Wt("dom")],name:"lock",overrides:n=>({buttonBehaviours:a([Ms.config({selected:n.locked,toggleClass:n.markers.lockClass,aria:{mode:"pressed"}})])})})]),aU=(n,s,i,f)=>({uid:n.uid,dom:n.dom,components:s,behaviours:Xg.augment(n.coupledFieldBehaviours,[$t.config({find:F.some}),In.config({store:{mode:"manual",getValue:b=>{const w=Ny(b,n,["field1","field2"]);return{[n.field1Name]:In.getValue(w.field1()),[n.field2Name]:In.getValue(w.field2())}},setValue:(b,w)=>{const S=Ny(b,n,["field1","field2"]);Oo(w,n.field1Name)&&In.setValue(S.field1(),w[n.field1Name]),Oo(w,n.field2Name)&&In.setValue(S.field2(),w[n.field2Name])}}})]),apis:{getField1:b=>Dr(b,n,"field1"),getField2:b=>Dr(b,n,"field2"),getLock:b=>Dr(b,n,"lock")}}),tl=pf({name:"FormCoupledInputs",configFields:oU(),partFields:rU(),factory:aU,apis:{getField1:(n,s)=>n.getField1(s),getField2:(n,s)=>n.getField2(s),getLock:(n,s)=>n.getLock(s)}}),iU=(n,s)=>{const i=He(n.options,b=>({dom:{tag:"option",value:b.value,innerHtml:b.text}})),f=n.data.map(b=>za("initialValue",b)).getOr({});return{uid:n.uid,dom:{tag:"select",classes:n.selectClasses,attributes:n.selectAttributes},components:i,behaviours:Hu(n.selectBehaviours,[et.config({}),In.config({store:{mode:"manual",getValue:b=>pc(b.element),setValue:(b,w)=>{const S=sn(n.options);Be(n.options,M=>M.value===w).isSome()?Dd(b.element,w):b.element.dom.selectedIndex===-1&&w===""&&S.each(M=>Dd(b.element,M.value))},...f}})])}},v5=oh({name:"HtmlSelect",configFields:[Wt("options"),Ic("selectBehaviours",[et,In]),pt("selectClasses",[]),pt("selectAttributes",{}),vr("data")],factory:iU}),Q8=(n,s,i,f,b)=>{const w=()=>n.lazySink(s),S=f.type==="horizontal"?{layouts:{onLtr:()=>ex(),onRtl:()=>Wh()}}:{},_=H=>H.length===2,M=H=>_(H)?S:{};return $x.sketch({dom:{tag:"div"},data:f.data,markers:f.menu.markers,highlightOnOpen:f.menu.highlightOnOpen,fakeFocus:f.menu.fakeFocus,onEscape:()=>(ar.close(s),n.onEscape.map(H=>H(s)),F.some(!0)),onExecute:()=>F.some(!0),onOpenMenu:(H,Z)=>{dd.positionWithinBounds(w().getOrDie(),Z,i,b())},onOpenSubmenu:(H,Z,K,ae)=>{const he=w().getOrDie();dd.position(he,K,{anchor:{type:"submenu",item:Z,...M(ae)}})},onRepositionMenu:(H,Z,K)=>{const ae=w().getOrDie();dd.positionWithinBounds(ae,Z,i,b()),dt(K,he=>{const xe=M(he.triggeringPath);dd.position(ae,he.triggeredMenu,{anchor:{type:"submenu",item:he.triggeringItem,...xe}})})}})},lU=(n,s)=>{const i=(ae,he)=>n.getRelated(ae).exists(Oe=>rv(Oe,he)),f=(ae,he)=>{ar.setContent(ae,he)},b=(ae,he,xe)=>{const Oe=F.none;w(ae,he,xe,Oe)},w=(ae,he,xe,Oe)=>{const ze=n.lazySink(ae).getOrDie();ar.openWhileCloaked(ae,he,()=>dd.positionWithinBounds(ze,ae,xe,Oe())),In.setValue(ae,F.some({mode:"position",config:xe,getBounds:Oe}))},S=(ae,he,xe)=>{_(ae,he,xe,F.none)},_=(ae,he,xe,Oe)=>{const ze=Q8(n,ae,he,xe,Oe);ar.open(ae,ze),In.setValue(ae,F.some({mode:"menu",menu:ze}))},M=ae=>{ar.isOpen(ae)&&(In.setValue(ae,F.none()),ar.close(ae))},H=ae=>ar.getState(ae),Z=ae=>{ar.isOpen(ae)&&In.getValue(ae).each(he=>{switch(he.mode){case"menu":ar.getState(ae).each($x.repositionMenus);break;case"position":const xe=n.lazySink(ae).getOrDie();dd.positionWithinBounds(xe,ae,he.config,he.getBounds());break}})},K={setContent:f,showAt:b,showWithinBounds:w,showMenuAt:S,showMenuWithinBounds:_,hide:M,getContent:H,reposition:Z,isOpen:ar.isOpen};return{uid:n.uid,dom:n.dom,behaviours:Hu(n.inlineBehaviours,[ar.config({isPartOf:(ae,he,xe)=>rv(he,xe)||i(ae,xe),getAttachPoint:ae=>n.lazySink(ae).getOrDie(),onOpen:ae=>{n.onShow(ae)},onClose:ae=>{n.onHide(ae)}}),In.config({store:{mode:"memory",initialValue:F.none()}}),fd.config({channels:{...h5({isExtraPart:s.isExtraPart,...n.fireDismissalEventInstead.map(ae=>({fireEventInstead:{event:ae.event}})).getOr({})}),...bk({...n.fireRepositionEventInstead.map(ae=>({fireEventInstead:{event:ae.event}})).getOr({}),doReposition:Z})}})]),eventOrder:n.eventOrder,apis:K}},mi=oh({name:"InlineView",configFields:[Wt("lazySink"),Ps("onShow"),Ps("onHide"),uf("onEscape"),Ic("inlineBehaviours",[ar,In,fd]),$i("fireDismissalEventInstead",[pt("event",mm())]),$i("fireRepositionEventInstead",[pt("event",Rd())]),pt("getRelated",F.none),pt("isExtraPart",yt),pt("eventOrder",F.none)],factory:lU,apis:{showAt:(n,s,i,f)=>{n.showAt(s,i,f)},showWithinBounds:(n,s,i,f,b)=>{n.showWithinBounds(s,i,f,b)},showMenuAt:(n,s,i,f)=>{n.showMenuAt(s,i,f)},showMenuWithinBounds:(n,s,i,f,b)=>{n.showMenuWithinBounds(s,i,f,b)},hide:(n,s)=>{n.hide(s)},isOpen:(n,s)=>n.isOpen(s),getContent:(n,s)=>n.getContent(s),setContent:(n,s,i)=>{n.setContent(s,i)},reposition:(n,s)=>{n.reposition(s)}}}),x5=ie([Oa("type","text"),vr("data"),pt("inputAttributes",{}),pt("inputStyles",{}),pt("tag","input"),pt("inputClasses",[]),Ps("onSetValue"),dr("fromInputValue",ct),dr("toInputValue",ct),pt("styles",{}),pt("eventOrder",{}),Ic("inputBehaviours",[In,et]),pt("selectOnFocus",!0)]),J8=n=>a([et.config({onFocus:n.selectOnFocus?s=>{const i=s.element,f=pc(i);n.type!=="range"&&i.dom.setSelectionRange(0,f.length)}:J})]),cU=n=>({...J8(n),...Hu(n.inputBehaviours,[In.config({store:{mode:"manual",...n.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>n.fromInputValue(pc(s.element)),setValue:(s,i)=>{pc(s.element)!==i&&Dd(s.element,n.toInputValue(i))}},onSetValue:n.onSetValue})])}),w5=n=>({tag:n.tag,attributes:{type:n.type,...n.inputAttributes},styles:n.inputStyles,classes:n.inputClasses}),eL=(n,s)=>({uid:n.uid,dom:w5(n),components:[],behaviours:cU(n),eventOrder:n.eventOrder}),C1=oh({name:"Input",configFields:x5(),factory:eL}),C5=Fg(r5(),a5()),uU=(n,s)=>{const i=ii(n,"id").fold(()=>{const f=me("dialog-label");return uo(s,"id",f),f},ct);uo(n,"aria-labelledby",i)},dU=ie([Wt("lazySink"),vr("dragBlockClass"),dr("getBounds",bc),pt("useTabstopAt",Lt),pt("firstTabstop",0),pt("eventOrder",{}),Ic("modalBehaviours",[lo]),tc("onExecute"),X0("onEscape")]),xk={sketch:ct},S5=ie([fu({name:"draghandle",overrides:(n,s)=>({behaviours:a([zb.config({mode:"mouse",getTarget:i=>tu(i,'[role="dialog"]').getOr(i),blockerClass:n.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:n.getDragBounds})])})}),Sc({schema:[Wt("dom")],name:"title"}),Sc({factory:xk,schema:[Wt("dom")],name:"close"}),Sc({factory:xk,schema:[Wt("dom")],name:"body"}),fu({factory:xk,schema:[Wt("dom")],name:"footer"}),$d({factory:{sketch:(n,s)=>({...n,dom:s.dom,components:s.components})},schema:[pt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),pt("components",[])],name:"blocker"})]),fU=(n,s,i,f)=>{const b=Co(),w=xe=>{b.set(xe);const Oe=n.lazySink(xe).getOrDie(),ze=f.blocker(),Te=Oe.getSystem().build({...ze,components:ze.components.concat([D(xe)]),behaviours:a([et.config({}),fe("dialog-blocker-events",[t0(ec(),()=>{tn.isBlocked(xe)?J():lo.focusIn(xe)})])])});r0(Oe,Te),lo.focusIn(xe)},S=xe=>{b.clear(),xl(xe.element).each(Oe=>{xe.getSystem().getByDom(Oe).each(ze=>{i0(ze)})})},_=xe=>rd(xe,n,"body"),M=xe=>Dr(xe,n,"footer"),H=(xe,Oe)=>{tn.block(xe,Oe)},Z=xe=>{tn.unblock(xe)},K=me("modal-events"),ae={...n.eventOrder,[Lc()]:[K].concat(n.eventOrder["alloy.system.attached"]||[])},he=Ua();return{uid:n.uid,dom:n.dom,components:s,apis:{show:w,hide:S,getBody:_,getFooter:M,setIdle:Z,setBusy:H},eventOrder:ae,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Hu(n.modalBehaviours,[jo.config({}),lo.config({mode:"cyclic",onEnter:n.onExecute,onEscape:n.onEscape,useTabstopAt:n.useTabstopAt,firstTabstop:n.firstTabstop}),tn.config({getRoot:b.get}),fe(K,[Lr(xe=>{const Oe=rd(xe,n,"title").element,ze=Lm(Oe);he.os.isMacOS()&&$e(ze)?uo(xe.element,"aria-label",ze):uU(xe.element,Oe)})])])}},ac=pf({name:"ModalDialog",configFields:dU(),partFields:S5(),factory:fU,apis:{show:(n,s)=>{n.show(s)},hide:(n,s)=>{n.hide(s)},getBody:(n,s)=>n.getBody(s),getFooter:(n,s)=>n.getFooter(s),setBusy:(n,s,i)=>{n.setBusy(s,i)},setIdle:(n,s)=>{n.setIdle(s)}}}),mU=fu({schema:[Wt("dom")],name:"label"}),iv=n=>fu({name:""+n+"-edge",overrides:s=>s.model.manager.edgeActions[n].fold(()=>({}),f=>({events:oa([mf(ed(),(b,w,S)=>f(b,S),[s]),mf(uu(),(b,w,S)=>f(b,S),[s]),mf(xc(),(b,w,S)=>{S.mouseIsDown.get()&&f(b,S)},[s])])}))}),hU=iv("top-left"),gU=iv("top"),tL=iv("top-right"),nL=iv("right"),pU=iv("bottom-right"),bU=iv("bottom"),yU=iv("bottom-left"),Sm=iv("left"),ep=Sc({name:"thumb",defaults:ie({dom:{styles:{position:"absolute"}}}),overrides:n=>({events:oa([Qm(ed(),n,"spectrum"),Qm(Xa(),n,"spectrum"),Qm($l(),n,"spectrum"),Qm(uu(),n,"spectrum"),Qm(xc(),n,"spectrum"),Qm(Mf(),n,"spectrum")])})}),sE=n=>c1(n.event),E5=Sc({schema:[yc("mouseIsDown",()=>Mn(!1))],name:"spectrum",overrides:n=>{const i=n.model.manager,f=(b,w)=>i.getValueFromEvent(w).map(S=>i.setValueFrom(b,n,S));return{behaviours:a([lo.config({mode:"special",onLeft:(b,w)=>i.onLeft(b,n,sE(w)),onRight:(b,w)=>i.onRight(b,n,sE(w)),onUp:(b,w)=>i.onUp(b,n,sE(w)),onDown:(b,w)=>i.onDown(b,n,sE(w))}),ua.config({}),et.config({})]),events:oa([Mt(ed(),f),Mt(Xa(),f),Mt(uu(),f),Mt(xc(),(b,w)=>{n.mouseIsDown.get()&&f(b,w)})])}}});var T5=[mU,Sm,nL,gU,bU,hU,tL,yU,pU,ep,E5];const rE=ie("slider.change.value"),oL=n=>n.type.indexOf("touch")!==-1,Ix=n=>{const s=n.event.raw;if(oL(s)){const i=s;return i.touches!==void 0&&i.touches.length===1?F.some(i.touches[0]).map(f=>hr(f.clientX,f.clientY)):F.none()}else{const i=s;return i.clientX!==void 0?F.some(i).map(f=>hr(f.clientX,f.clientY)):F.none()}},vU="top",wk="right",k5="bottom",sL="left",p0=n=>n.model.minX,Hx=n=>n.model.minY,Ck=n=>n.model.minX-1,ah=n=>n.model.minY-1,gu=n=>n.model.maxX,b0=n=>n.model.maxY,Ud=n=>n.model.maxX+1,Sk=n=>n.model.maxY+1,da=(n,s,i)=>s(n)-i(n),D5=n=>da(n,gu,p0),y0=n=>da(n,b0,Hx),Bw=n=>D5(n)/2,_5=n=>y0(n)/2,lv=(n,s)=>s?n.stepSize*n.speedMultiplier:n.stepSize,Ek=n=>n.snapToGrid,rL=n=>n.snapStart,Tk=n=>n.rounded,Ak=(n,s)=>n[s+"-edge"]!==void 0,O5=n=>Ak(n,sL),N5=n=>Ak(n,wk),kk=n=>Ak(n,vU),R5=n=>Ak(n,k5),tp=n=>n.model.value.get(),cv=(n,s)=>({x:n,y:s}),np=(n,s)=>{so(n,rE(),{value:s})},xU=(n,s)=>{np(n,cv(Ck(s),ah(s)))},wU=(n,s)=>{np(n,ah(s))},CU=(n,s)=>{np(n,cv(Bw(s),ah(s)))},aL=(n,s)=>{np(n,cv(Ud(s),ah(s)))},SU=(n,s)=>{np(n,Ud(s))},EU=(n,s)=>{np(n,cv(Ud(s),_5(s)))},iL=(n,s)=>{np(n,cv(Ud(s),Sk(s)))},TU=(n,s)=>{np(n,Sk(s))},lL=(n,s)=>{np(n,cv(Bw(s),Sk(s)))},aE=(n,s)=>{np(n,cv(Ck(s),Sk(s)))},AU=(n,s)=>{np(n,Ck(s))},kU=(n,s)=>{np(n,cv(Ck(s),_5(s)))},Dk=(n,s,i,f)=>n<s?n:n>i?i:n===s?s-1:Math.max(s,n-f),_k=(n,s,i,f)=>n>i?n:n<s?s:n===i?i+1:Math.min(i,n+f),Ok=(n,s,i)=>Math.max(s,Math.min(i,n)),cL=(n,s,i,f,b)=>b.fold(()=>{const w=n-s,S=Math.round(w/f)*f;return Ok(s+S,s-1,i+1)},w=>{const S=(n-w)%f,_=Math.round(S/f),M=Math.floor((n-w)/f),H=Math.floor((i-w)/f),Z=Math.min(H,M+_),K=w+Z*f;return Math.max(w,K)}),DU=(n,s,i)=>Math.min(i,Math.max(n,s))-s,uL=n=>{const{min:s,max:i,range:f,value:b,step:w,snap:S,snapStart:_,rounded:M,hasMinEdge:H,hasMaxEdge:Z,minBound:K,maxBound:ae,screenRange:he}=n,xe=H?s-1:s,Oe=Z?i+1:i;if(b<K)return xe;if(b>ae)return Oe;{const ze=DU(b,K,ae),Te=Ok(ze/he*f+s,xe,Oe);return S&&Te>=s&&Te<=i?cL(Te,s,i,w,_):M?Math.round(Te):Te}},dL=n=>{const{min:s,max:i,range:f,value:b,hasMinEdge:w,hasMaxEdge:S,maxBound:_,maxOffset:M,centerMinEdge:H,centerMaxEdge:Z}=n;return b<s?w?0:H:b>i?S?_:Z:(b-s)/f*M},M5="top",fL="right",mL="bottom",Nk="left",op="width",_U="height",sp=n=>n.element.dom.getBoundingClientRect(),ng=(n,s)=>n[s],iE=n=>{const s=sp(n);return ng(s,Nk)},hL=n=>{const s=sp(n);return ng(s,fL)},lE=n=>{const s=sp(n);return ng(s,M5)},B5=n=>{const s=sp(n);return ng(s,mL)},L5=n=>{const s=sp(n);return ng(s,op)},gL=n=>{const s=sp(n);return ng(s,_U)},pL=(n,s,i)=>(n+s)/2-i,bL=(n,s)=>{const i=sp(n),f=sp(s),b=ng(i,Nk),w=ng(i,fL),S=ng(f,Nk);return pL(b,w,S)},yL=(n,s)=>{const i=sp(n),f=sp(s),b=ng(i,M5),w=ng(i,mL),S=ng(f,M5);return pL(b,w,S)},Rk=(n,s)=>{so(n,rE(),{value:s})},P5=(n,s,i)=>{const f={min:p0(s),max:gu(s),range:D5(s),value:i,step:lv(s),snap:Ek(s),snapStart:rL(s),rounded:Tk(s),hasMinEdge:O5(s),hasMaxEdge:N5(s),minBound:iE(n),maxBound:hL(n),screenRange:L5(n)};return uL(f)},OU=(n,s,i)=>{const f=P5(n,s,i);return Rk(n,f),f},vL=(n,s)=>{const i=p0(s);Rk(n,i)},xL=(n,s)=>{const i=gu(s);Rk(n,i)},wL=(n,s,i,f)=>{const w=(n>0?_k:Dk)(tp(i),p0(i),gu(i),lv(i,f));return Rk(s,w),F.some(w)},F5=n=>(s,i,f)=>wL(n,s,i,f).map(Lt),NU=n=>Ix(n).map(i=>i.left),RU=(n,s,i,f,b)=>{const S=L5(n),_=f.bind(Z=>F.some(bL(Z,n))).getOr(0),M=b.bind(Z=>F.some(bL(Z,n))).getOr(S),H={min:p0(s),max:gu(s),range:D5(s),value:i,hasMinEdge:O5(s),hasMaxEdge:N5(s),minBound:iE(n),maxBound:hL(n),maxOffset:S,centerMinEdge:_,centerMaxEdge:M};return dL(H)},$5=(n,s,i,f,b,w)=>{const S=RU(s,w,i,f,b);return iE(s)-iE(n)+S},CL=(n,s,i,f)=>{const b=tp(i),w=$5(n,f.getSpectrum(n),b,f.getLeftEdge(n),f.getRightEdge(n),i),S=Bi(s.element)/2;So(s.element,"left",w-S+"px")},Lw=F5(-1),Mk=F5(1),MU=F.none,SL=F.none,EL={"top-left":F.none(),top:F.none(),"top-right":F.none(),right:F.some(SU),"bottom-right":F.none(),bottom:F.none(),"bottom-left":F.none(),left:F.some(AU)};var TL=Object.freeze({__proto__:null,setValueFrom:OU,setToMin:vL,setToMax:xL,findValueOfOffset:P5,getValueFromEvent:NU,findPositionOfValue:$5,setPositionFromValue:CL,onLeft:Lw,onRight:Mk,onUp:MU,onDown:SL,edgeActions:EL});const cE=(n,s)=>{so(n,rE(),{value:s})},uE=(n,s,i)=>{const f={min:Hx(s),max:b0(s),range:y0(s),value:i,step:lv(s),snap:Ek(s),snapStart:rL(s),rounded:Tk(s),hasMinEdge:kk(s),hasMaxEdge:R5(s),minBound:lE(n),maxBound:B5(n),screenRange:gL(n)};return uL(f)},I5=(n,s,i)=>{const f=uE(n,s,i);return cE(n,f),f},BU=(n,s)=>{const i=Hx(s);cE(n,i)},LU=(n,s)=>{const i=b0(s);cE(n,i)},PU=(n,s,i,f)=>{const w=(n>0?_k:Dk)(tp(i),Hx(i),b0(i),lv(i,f));return cE(s,w),F.some(w)},H5=n=>(s,i,f)=>PU(n,s,i,f).map(Lt),AL=n=>Ix(n).map(i=>i.top),FU=(n,s,i,f,b)=>{const S=gL(n),_=f.bind(Z=>F.some(yL(Z,n))).getOr(0),M=b.bind(Z=>F.some(yL(Z,n))).getOr(S),H={min:Hx(s),max:b0(s),range:y0(s),value:i,hasMinEdge:kk(s),hasMaxEdge:R5(s),minBound:lE(n),maxBound:B5(n),maxOffset:S,centerMinEdge:_,centerMaxEdge:M};return dL(H)},z5=(n,s,i,f,b,w)=>{const S=FU(s,w,i,f,b);return lE(s)-lE(n)+S},kL=(n,s,i,f)=>{const b=tp(i),w=z5(n,f.getSpectrum(n),b,f.getTopEdge(n),f.getBottomEdge(n),i),S=bi(s.element)/2;So(s.element,"top",w-S+"px")},$U=F.none,IU=F.none,HU=H5(-1),zU=H5(1),jU={"top-left":F.none(),top:F.some(wU),"top-right":F.none(),right:F.none(),"bottom-right":F.none(),bottom:F.some(TU),"bottom-left":F.none(),left:F.none()};var VU=Object.freeze({__proto__:null,setValueFrom:I5,setToMin:BU,setToMax:LU,findValueOfOffset:uE,getValueFromEvent:AL,findPositionOfValue:z5,setPositionFromValue:kL,onLeft:$U,onRight:IU,onUp:HU,onDown:zU,edgeActions:jU});const Bk=(n,s)=>{so(n,rE(),{value:s})},dE=(n,s)=>({x:n,y:s}),DL=(n,s,i)=>{const f=P5(n,s,i.left),b=uE(n,s,i.top),w=dE(f,b);return Bk(n,w),w},UU=(n,s,i,f,b)=>{const w=n>0?_k:Dk,S=s?tp(f).x:w(tp(f).x,p0(f),gu(f),lv(f,b)),_=s?w(tp(f).y,Hx(f),b0(f),lv(f,b)):tp(f).y;return Bk(i,dE(S,_)),F.some(S)},Lk=(n,s)=>(i,f,b)=>UU(n,s,i,f,b).map(Lt),ZU=(n,s)=>{const i=p0(s),f=Hx(s);Bk(n,dE(i,f))},_L=(n,s)=>{const i=gu(s),f=b0(s);Bk(n,dE(i,f))},WU=n=>Ix(n),qU=(n,s,i,f)=>{const b=tp(i),w=$5(n,f.getSpectrum(n),b.x,f.getLeftEdge(n),f.getRightEdge(n),i),S=z5(n,f.getSpectrum(n),b.y,f.getTopEdge(n),f.getBottomEdge(n),i),_=Bi(s.element)/2,M=bi(s.element)/2;So(s.element,"left",w-_+"px"),So(s.element,"top",S-M+"px")},GU=Lk(-1,!1),Pk=Lk(1,!1),KU=Lk(-1,!0),YU=Lk(1,!0),XU={"top-left":F.some(xU),top:F.some(CU),"top-right":F.some(aL),right:F.some(EU),"bottom-right":F.some(iL),bottom:F.some(lL),"bottom-left":F.some(aE),left:F.some(kU)};var QU=Object.freeze({__proto__:null,setValueFrom:DL,setToMin:ZU,setToMax:_L,getValueFromEvent:WU,setPositionFromValue:qU,onLeft:GU,onRight:Pk,onUp:KU,onDown:YU,edgeActions:XU});const JU=[pt("stepSize",1),pt("speedMultiplier",10),pt("onChange",J),pt("onChoose",J),pt("onInit",J),pt("onDragStart",J),pt("onDragEnd",J),pt("snapToGrid",!1),pt("rounded",!0),vr("snapStart"),Bc("model",Kl("mode",{x:[pt("minX",0),pt("maxX",100),yc("value",n=>Mn(n.mode.minX)),Wt("getInitialValue"),sr("manager",TL)],y:[pt("minY",0),pt("maxY",100),yc("value",n=>Mn(n.mode.minY)),Wt("getInitialValue"),sr("manager",VU)],xy:[pt("minX",0),pt("maxX",100),pt("minY",0),pt("maxY",100),yc("value",n=>Mn({x:n.mode.minX,y:n.mode.minY})),Wt("getInitialValue"),sr("manager",QU)]})),Ic("sliderBehaviours",[lo,In]),yc("mouseIsDown",()=>Mn(!1))],rp=pf({name:"Slider",configFields:JU,partFields:T5,factory:(n,s,i,f)=>{const b=Ot=>rd(Ot,n,"thumb"),w=Ot=>rd(Ot,n,"spectrum"),S=Ot=>Dr(Ot,n,"left-edge"),_=Ot=>Dr(Ot,n,"right-edge"),M=Ot=>Dr(Ot,n,"top-edge"),H=Ot=>Dr(Ot,n,"bottom-edge"),Z=n.model,K=Z.manager,ae=(Ot,kn)=>{K.setPositionFromValue(Ot,kn,n,{getLeftEdge:S,getRightEdge:_,getTopEdge:M,getBottomEdge:H,getSpectrum:w})},he=(Ot,kn)=>{Z.value.set(kn);const Jt=b(Ot);ae(Ot,Jt)},xe=(Ot,kn)=>{he(Ot,kn);const Jt=b(Ot);return n.onChange(Ot,Jt,kn),F.some(!0)},Oe=Ot=>{K.setToMin(Ot,n)},ze=Ot=>{K.setToMax(Ot,n)},Te=Ot=>{const kn=()=>{Dr(Ot,n,"thumb").each(rn=>{const on=Z.value.get();n.onChoose(Ot,rn,on)})},Jt=n.mouseIsDown.get();n.mouseIsDown.set(!1),Jt&&kn()},Ye=(Ot,kn)=>{kn.stop(),n.mouseIsDown.set(!0),n.onDragStart(Ot,b(Ot))},st=(Ot,kn)=>{kn.stop(),n.onDragEnd(Ot,b(Ot)),Te(Ot)},wt=Ot=>{Dr(Ot,n,"spectrum").map(lo.focusIn)};return{uid:n.uid,dom:n.dom,components:s,behaviours:Hu(n.sliderBehaviours,[lo.config({mode:"special",focusIn:wt}),In.config({store:{mode:"manual",getValue:Ot=>Z.value.get(),setValue:he}}),fd.config({channels:{[o0()]:{onReceive:Te}}})]),events:oa([Mt(rE(),(Ot,kn)=>{xe(Ot,kn.event.value)}),Lr((Ot,kn)=>{const Jt=Z.getInitialValue();Z.value.set(Jt);const rn=b(Ot);ae(Ot,rn);const on=w(Ot);n.onInit(Ot,rn,on,Z.value.get())}),Mt(ed(),Ye),Mt($l(),st),Mt(uu(),(Ot,kn)=>{wt(Ot),Ye(Ot,kn)}),Mt(Mf(),st)]),apis:{resetToMin:Oe,resetToMax:ze,setValue:he,refresh:ae},domModification:{styles:{position:"relative"}}}},apis:{setValue:(n,s,i)=>{n.setValue(s,i)},resetToMin:(n,s)=>{n.resetToMin(s)},resetToMax:(n,s)=>{n.resetToMax(s)},refresh:(n,s)=>{n.refresh(s)}}}),OL="container",eZ=[Ic("slotBehaviours",[])],NL=n=>"<alloy.field."+n+">",tZ=n=>{const s=(()=>{const w=[];return{slot:(_,M)=>(w.push(_),Rr(OL,NL(_),M)),record:ie(w)}})(),i=n(s),f=s.record(),b=He(f,w=>Sc({name:w,pname:NL(w)}));return i_(OL,eZ,b,nZ,i)},nZ=(n,s)=>{const i=Oe=>ad(n),f=(Oe,ze)=>Dr(Oe,n,ze),b=(Oe,ze)=>(Te,Ye)=>Dr(Te,n,Ye).map(st=>Oe(st,Ye)).getOr(ze),w=Oe=>(ze,Te)=>{dt(Te,Ye=>Oe(ze,Ye))},S=(Oe,ze)=>ea(Oe.element,"aria-hidden")!=="true",_=(Oe,ze)=>{if(!S(Oe)){const Te=Oe.element;cs(Te,"display"),cr(Te,"aria-hidden"),so(Oe,$p(),{name:ze,visible:!0})}},M=(Oe,ze)=>{if(S(Oe)){const Te=Oe.element;So(Te,"display","none"),uo(Te,"aria-hidden","true"),so(Oe,$p(),{name:ze,visible:!1})}},H=b(S,!1),Z=b(M),K=w(Z),ae=Oe=>K(Oe,i()),he=b(_),xe={getSlotNames:i,getSlot:f,isShowing:H,hideSlot:Z,hideAllSlots:ae,showSlot:he};return{uid:n.uid,dom:n.dom,components:s,behaviours:zS(n.slotBehaviours),apis:xe}},pu={...os({getSlotNames:(n,s)=>n.getSlotNames(s),getSlot:(n,s,i)=>n.getSlot(s,i),isShowing:(n,s,i)=>n.isShowing(s,i),hideSlot:(n,s,i)=>n.hideSlot(s,i),hideAllSlots:(n,s)=>n.hideAllSlots(s),showSlot:(n,s,i)=>n.showSlot(s,i)},n=>wx(n)),sketch:tZ},oZ=(n,s)=>Ho(n,(b,w)=>s(w,b.len).fold(ie(b),_=>({len:_.finish,list:b.list.concat([_])})),{len:0,list:[]}).list,j5=(n,s,i)=>({within:n,extra:s,withinWidth:i}),RL=(n,s,i)=>{const f=oZ(n,(_,M)=>{const H=i(_);return F.some({element:_,start:M,finish:M+H,width:H})}),b=xo(f,_=>_.finish<=s),w=Mo(b,(_,M)=>_+M.width,0),S=f.slice(b.length);return{within:b,extra:S,withinWidth:w}},fE=n=>He(n,s=>s.element),sZ=(n,s,i)=>{const f=fE(n.concat(s));return j5(f,[],i)},rZ=(n,s,i,f)=>{const b=fE(n).concat([i]);return j5(b,fE(s),f)},aZ=(n,s,i)=>j5(fE(n),[],i),iZ=(n,s,i)=>{const f=RL(s,n,i);return f.extra.length===0?F.some(f):F.none()},lZ=(n,s,i,f)=>{const b=iZ(n,s,i).getOrThunk(()=>RL(s,n-i(f),i)),w=b.within,S=b.extra,_=b.withinWidth;return S.length===1&&S[0].width<=i(f)?sZ(w,S,_):S.length>=1?rZ(w,S,f,_):aZ(w,S,_)},ML=(n,s)=>{const i=He(s,f=>D(f));g0.setGroups(n,i)},V5=n=>Jo(n,s=>ai(s.element).bind(i=>s.getSystem().getByDom(i).toOptional())),BL=(n,s,i)=>{const f=s.builtGroups.get();if(f.length===0)return;const b=rd(n,s,"primary"),w=Wo.getCoupled(n,"overflowGroup");So(b.element,"visibility","hidden");const S=f.concat([w]),_=V5(S);i([]),ML(b,S);const M=Bi(b.element),H=lZ(M,s.builtGroups.get(),Z=>Math.ceil(Z.element.dom.getBoundingClientRect().width),w);H.extra.length===0?(jo.remove(b,w),i([])):(ML(b,H.within),i(H.extra)),cs(b.element,"visibility"),ql(b.element),_.each(et.focus)},LL=ie([Ic("splitToolbarBehaviours",[Wo]),yc("builtGroups",()=>Mn([]))]),cZ=ie([hs(["overflowToggledClass"]),uf("getOverflowBounds"),Wt("lazySink"),yc("overflowGroups",()=>Mn([])),Ps("onOpened"),Ps("onClosed")].concat(LL())),uZ=ie([Sc({factory:g0,schema:Rw(),name:"primary"}),$d({schema:Rw(),name:"overflow"}),$d({name:"overflow-button"}),$d({name:"overflow-group"})]),dZ=ie([Wt("items"),hs(["itemSelector"]),Ic("tgroupBehaviours",[lo])]),fZ=ie([e1({name:"items",unit:"item"})]),mZ=(n,s,i,f)=>({uid:n.uid,dom:n.dom,components:s,behaviours:Hu(n.tgroupBehaviours,[lo.config({mode:"flow",selector:n.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),Fk=pf({name:"ToolbarGroup",configFields:dZ(),partFields:fZ(),factory:mZ}),PL=n=>He(n,s=>D(s)),FL=(n,s,i)=>{BL(n,i,f=>{i.overflowGroups.set(f),s.getOpt(n).each(b=>{Zb.setGroups(b,PL(f))})})},hZ=(n,s,i,f)=>{const b=gr(Zb.sketch({fetch:()=>ls.nu(w=>{w(PL(n.overflowGroups.get()))}),layouts:{onLtr:()=>[Kr,Ji],onRtl:()=>[Ji,Kr],onBottomLtr:()=>[kl,Al],onBottomRtl:()=>[Al,kl]},getBounds:i.getOverflowBounds,lazySink:n.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:n.markers.overflowToggledClass},parts:{button:f["overflow-button"](),toolbar:f.overflow()},onToggled:(w,S)=>n[S?"onOpened":"onClosed"](w)}));return{uid:n.uid,dom:n.dom,components:s,behaviours:Hu(n.splitToolbarBehaviours,[Wo.config({others:{overflowGroup:()=>Fk.sketch({...f["overflow-group"](),items:[b.asSpec()]})}})]),apis:{setGroups:(w,S)=>{n.builtGroups.set(He(S,w.getSystem().build)),FL(w,b,n)},refresh:w=>FL(w,b,n),toggle:w=>{b.getOpt(w).each(S=>{Zb.toggle(S)})},toggleWithoutFocusing:w=>{b.getOpt(w).each(Zb.toggleWithoutFocusing)},isOpen:w=>b.getOpt(w).map(Zb.isOpen).getOr(!1),reposition:w=>{b.getOpt(w).each(S=>{Zb.reposition(S)})},getOverflow:w=>b.getOpt(w).bind(Zb.getToolbar)},domModification:{attributes:{role:"group"}}}},$L=pf({name:"SplitFloatingToolbar",configFields:cZ(),partFields:uZ(),factory:hZ,apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)},refresh:(n,s)=>{n.refresh(s)},reposition:(n,s)=>{n.reposition(s)},toggle:(n,s)=>{n.toggle(s)},toggleWithoutFocusing:(n,s)=>{n.toggle(s)},isOpen:(n,s)=>n.isOpen(s),getOverflow:(n,s)=>n.getOverflow(s)}}),gZ=ie([hs(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Ps("onOpened"),Ps("onClosed")].concat(LL())),pZ=ie([Sc({factory:g0,schema:Rw(),name:"primary"}),Sc({factory:g0,schema:Rw(),name:"overflow",overrides:n=>({toolbarBehaviours:a([Vd.config({dimension:{property:"height"},closedClass:n.markers.closedClass,openClass:n.markers.openClass,shrinkingClass:n.markers.shrinkingClass,growingClass:n.markers.growingClass,onShrunk:s=>{Dr(s,n,"overflow-button").each(i=>{Ms.off(i)}),n.onClosed(s)},onGrown:s=>{n.onOpened(s)},onStartGrow:s=>{Dr(s,n,"overflow-button").each(Ms.on)}}),lo.config({mode:"acyclic",onEscape:s=>(Dr(s,n,"overflow-button").each(et.focus),F.some(!0))})])})}),$d({name:"overflow-button",overrides:n=>({buttonBehaviours:a([Ms.config({toggleClass:n.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),$d({name:"overflow-group"})]),bZ=(n,s)=>Dr(n,s,"overflow").map(Vd.hasGrown).getOr(!1),mE=(n,s,i)=>{Dr(n,s,"overflow-button").each(f=>{Dr(n,s,"overflow").each(b=>{if(U5(n,s),Vd.hasShrunk(b)){const w=s.onOpened;s.onOpened=S=>{i||lo.focusIn(b),w(S),s.onOpened=w}}else{const w=s.onClosed;s.onClosed=S=>{i||et.focus(f),w(S),s.onClosed=w}}Vd.toggleGrow(b)})})},U5=(n,s)=>{Dr(n,s,"overflow").each(i=>{BL(n,s,f=>{const b=He(f,w=>D(w));g0.setGroups(i,b)}),Dr(n,s,"overflow-button").each(f=>{Vd.hasGrown(i)&&Ms.on(f)}),Vd.refresh(i)})},yZ=(n,s,i,f)=>{const b="alloy.toolbar.toggle",w=(S,_)=>{const M=He(_,S.getSystem().build);n.builtGroups.set(M)};return{uid:n.uid,dom:n.dom,components:s,behaviours:Hu(n.splitToolbarBehaviours,[Wo.config({others:{overflowGroup:S=>Fk.sketch({...f["overflow-group"](),items:[rc.sketch({...f["overflow-button"](),action:_=>{fs(S,b)}})]})}}),fe("toolbar-toggle-events",[Mt(b,S=>{mE(S,n,!1)})])]),apis:{setGroups:(S,_)=>{w(S,_),U5(S,n)},refresh:S=>U5(S,n),toggle:S=>{mE(S,n,!1)},toggleWithoutFocusing:S=>{mE(S,n,!0)},isOpen:S=>bZ(S,n)},domModification:{attributes:{role:"group"}}}},Z5=pf({name:"SplitSlidingToolbar",configFields:gZ(),partFields:pZ(),factory:yZ,apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)},refresh:(n,s)=>{n.refresh(s)},toggle:(n,s)=>{n.toggle(s)},isOpen:(n,s)=>n.isOpen(s)}}),hE=(n,s)=>({uid:n.uid,dom:n.dom,components:n.components,events:J_(n.action),behaviours:Hu(n.tabButtonBehaviours,[et.config({}),lo.config({mode:"execution",useSpace:!0,useEnter:!0}),In.config({store:{mode:"memory",initialValue:n.value}})]),domModification:n.domModification}),IL=oh({name:"TabButton",configFields:[pt("uid",void 0),Wt("value"),ml("dom","dom",lm(()=>({attributes:{role:"tab",id:me("aria"),"aria-selected":"false"}})),lf()),vr("action"),pt("domModification",{}),Ic("tabButtonBehaviours",[et,lo,In]),Wt("view")],factory:hE}),vZ=ie([Wt("tabs"),Wt("dom"),pt("clickToDismiss",!1),Ic("tabbarBehaviours",[fr,lo]),hs(["tabClass","selectedClass"])]),xZ=e1({factory:IL,name:"tabs",unit:"tab",overrides:n=>{const s=(f,b)=>{fr.dehighlight(f,b),so(f,Ip(),{tabbar:f,button:b})},i=(f,b)=>{fr.highlight(f,b),so(f,db(),{tabbar:f,button:b})};return{action:f=>{const b=f.getSystem().getByUid(n.uid).getOrDie(),w=fr.isHighlighted(b,f);(w&&n.clickToDismiss?s:w?J:i)(b,f)},domModification:{classes:[n.markers.tabClass]}}}}),HL=ie([xZ]),wZ=(n,s,i,f)=>({uid:n.uid,dom:n.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Hu(n.tabbarBehaviours,[fr.config({highlightClass:n.markers.selectedClass,itemClass:n.markers.tabClass,onHighlight:(b,w)=>{uo(w.element,"aria-selected","true")},onDehighlight:(b,w)=>{uo(w.element,"aria-selected","false")}}),lo.config({mode:"flow",getInitial:b=>fr.getHighlighted(b).map(w=>w.element),selector:"."+n.markers.tabClass,executeOnMove:!0})])}),zL=pf({name:"Tabbar",configFields:vZ(),partFields:HL(),factory:wZ}),CZ=(n,s)=>({uid:n.uid,dom:n.dom,behaviours:Hu(n.tabviewBehaviours,[jo.config({})]),domModification:{attributes:{role:"tabpanel"}}}),SZ=oh({name:"Tabview",configFields:[Ic("tabviewBehaviours",[jo])],factory:CZ}),EZ=ie([pt("selectFirst",!0),Ps("onChangeTab"),Ps("onDismissTab"),pt("tabs",[]),Ic("tabSectionBehaviours",[])]),TZ=Sc({factory:zL,schema:[Wt("dom"),cf("markers",[Wt("tabClass"),Wt("selectedClass")])],name:"tabbar",defaults:n=>({tabs:n.tabs})}),AZ=Sc({factory:SZ,name:"tabview"}),kZ=ie([TZ,AZ]),jL=(n,s,i,f)=>{const b=S=>{const _=In.getValue(S);Dr(S,n,"tabview").each(M=>{Be(n.tabs,Z=>Z.value===_).each(Z=>{const K=Z.view();ii(S.element,"id").each(ae=>{uo(M.element,"aria-labelledby",ae)}),jo.set(M,K),n.onChangeTab(M,S,K)})})},w=(S,_)=>{Dr(S,n,"tabbar").each(M=>{_(M).each(r1)})};return{uid:n.uid,dom:n.dom,components:s,behaviours:zS(n.tabSectionBehaviours),events:oa(tt([n.selectFirst?[Lr((S,_)=>{w(S,fr.getFirst)})]:[],[Mt(db(),(S,_)=>{const M=_.event.button;b(M)}),Mt(Ip(),(S,_)=>{const M=_.event.button;n.onDismissTab(S,M)})]])),apis:{getViewItems:S=>Dr(S,n,"tabview").map(_=>jo.contents(_)).getOr([]),showTab:(S,_)=>{w(S,H=>{const Z=fr.getCandidates(H);return Be(Z,ae=>In.getValue(ae)===_).filter(ae=>!fr.isHighlighted(H,ae))})}}}},zx=pf({name:"TabSection",configFields:EZ(),partFields:kZ(),factory:jL,apis:{getViewItems:(n,s)=>n.getViewItems(s),showTab:(n,s,i)=>{n.showTab(s,i)}}}),$k=(n,s,i)=>{const f=In.getValue(i);In.setValue(s,f),q5(s)},W5=(n,s)=>{const i=n.element,f=pc(i),b=i.dom;ea(i,"type")!=="number"&&s(b,f)},q5=n=>{W5(n,(s,i)=>s.setSelectionRange(i.length,i.length))},VL=(n,s)=>{W5(n,(i,f)=>i.setSelectionRange(s,f.length))},UL=(n,s,i)=>{if(n.selectsOver){const f=In.getValue(s),b=n.getDisplayText(f),w=In.getValue(i);return n.getDisplayText(w).indexOf(b)===0?F.some(()=>{$k(n,s,i),VL(s,b.length)}):F.none()}else return F.none()},G5=ie("alloy.typeahead.itemexecute"),DZ=(n,s,i,f)=>{const b=(K,ae,he)=>{n.previewing.set(!1);const xe=Wo.getCoupled(K,"sandbox");if(ar.isOpen(xe))$t.getCurrent(xe).each(Oe=>{fr.getHighlighted(Oe).fold(()=>{he(Oe)},()=>{i1(xe,Oe.element,"keydown",ae)})});else{const Oe=ze=>{$t.getCurrent(ze).each(he)};yk(n,S(K),K,xe,f,Oe,Ec.HighlightMenuAndItem).get(J)}},w=J8(n),S=K=>ae=>ae.map(he=>{const xe=Ma(he.menus),Oe=Le(xe,Te=>xo(Te.items,Ye=>Ye.type==="item"));return In.getState(K).update(He(Oe,Te=>Te.data)),he}),_=K=>$t.getCurrent(K),M="typeaheadevents",H=[et.config({}),In.config({onSetValue:n.onSetValue,store:{mode:"dataset",getDataKey:K=>pc(K.element),getFallbackEntry:K=>({value:K,meta:{}}),setValue:(K,ae)=>{Dd(K.element,n.model.getDisplayText(ae))},...n.initialData.map(K=>za("initialValue",K)).getOr({})}}),Ow.config({stream:{mode:"throttle",delay:n.responseTime,stopEvent:!1},onStream:(K,ae)=>{const he=Wo.getCoupled(K,"sandbox");if(et.isFocused(K)&&pc(K.element).length>=n.minChars){const Oe=_(he).bind(Te=>fr.getHighlighted(Te).map(In.getValue));n.previewing.set(!0);const ze=Te=>{_(he).each(Ye=>{Oe.fold(()=>{n.model.selectsOver&&fr.highlightFirst(Ye)},st=>{fr.highlightBy(Ye,wt=>In.getValue(wt).value===st.value),fr.getHighlighted(Ye).orThunk(()=>(fr.highlightFirst(Ye),F.none()))})})};yk(n,S(K),K,he,f,ze,Ec.HighlightJustMenu).get(J)}},cancelEvent:Pu()}),lo.config({mode:"special",onDown:(K,ae)=>(b(K,ae,fr.highlightFirst),F.some(!0)),onEscape:K=>{const ae=Wo.getCoupled(K,"sandbox");return ar.isOpen(ae)?(ar.close(ae),F.some(!0)):F.none()},onUp:(K,ae)=>(b(K,ae,fr.highlightLast),F.some(!0)),onEnter:K=>{const ae=Wo.getCoupled(K,"sandbox"),he=ar.isOpen(ae);if(he&&!n.previewing.get())return _(ae).bind(xe=>fr.getHighlighted(xe)).map(xe=>(so(K,G5(),{item:xe}),!0));{const xe=In.getValue(K);return fs(K,Pu()),n.onExecute(ae,K,xe),he&&ar.close(ae),F.some(!0)}}}),Ms.config({toggleClass:n.markers.openClass,aria:{mode:"expanded"}}),Wo.config({others:{sandbox:K=>U8(n,K,{onOpen:()=>Ms.on(K),onClose:()=>{n.lazyTypeaheadComp.get().each(ae=>cr(ae.element,"aria-activedescendant")),Ms.off(K)}})}}),fe(M,[Lr(K=>{n.lazyTypeaheadComp.set(F.some(K))}),hf(K=>{n.lazyTypeaheadComp.set(F.none())}),wm(K=>{const ae=J;vk(n,S(K),K,f,ae,Ec.HighlightMenuAndItem).get(J)}),Mt(G5(),(K,ae)=>{const he=Wo.getCoupled(K,"sandbox");$k(n.model,K,ae.event.item),fs(K,Pu()),n.onItemExecute(K,he,ae.event.item,In.getValue(K)),ar.close(he),q5(K)})].concat(n.dismissOnBlur?[Mt(Pp(),K=>{const ae=Wo.getCoupled(K,"sandbox");ai(ae.element).isNone()&&ar.close(ae)})]:[]))],Z={[wc()]:[In.name(),Ow.name(),M],...n.eventOrder};return{uid:n.uid,dom:w5(qt(n,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...w,...Hu(n.typeaheadBehaviours,H)},eventOrder:Z}},_Z=ie([vr("lazySink"),Wt("fetch"),pt("minChars",5),pt("responseTime",1e3),Ps("onOpen"),pt("getHotspot",F.some),pt("getAnchorOverrides",ie({})),pt("layouts",F.none()),pt("eventOrder",{}),Lh("model",{},[pt("getDisplayText",n=>n.meta!==void 0&&n.meta.text!==void 0?n.meta.text:n.value),pt("selectsOver",!0),pt("populateFromBrowse",!0)]),Ps("onSetValue"),tc("onExecute"),Ps("onItemExecute"),pt("inputClasses",[]),pt("inputAttributes",{}),pt("inputStyles",{}),pt("matchWidth",!0),pt("useMinWidth",!1),pt("dismissOnBlur",!0),hs(["openClass"]),vr("initialData"),vr("listRole"),Ic("typeaheadBehaviours",[et,In,Ow,lo,Ms,Wo]),yc("lazyTypeaheadComp",()=>Mn(F.none)),yc("previewing",()=>Mn(!0))].concat(x5()).concat(g5())),OZ=ie([$d({schema:[N2()],name:"menu",overrides:n=>({fakeFocus:!0,onHighlightItem:(s,i,f)=>{n.previewing.get()?n.lazyTypeaheadComp.get().each(b=>{UL(n.model,b,f).fold(()=>{n.model.selectsOver?(fr.dehighlight(i,f),n.previewing.set(!0)):n.previewing.set(!1)},(w=>{w(),n.previewing.set(!1)}))}):n.lazyTypeaheadComp.get().each(b=>{n.model.populateFromBrowse&&$k(n.model,b,f),ii(f.element,"id").each(w=>uo(b.element,"aria-activedescendant",w))})},onExecute:(s,i)=>n.lazyTypeaheadComp.get().map(f=>(so(f,G5(),{item:i}),!0)),onHover:(s,i)=>{n.previewing.set(!1),n.lazyTypeaheadComp.get().each(f=>{n.model.populateFromBrowse&&$k(n.model,f,i)})}})})]),K5=pf({name:"Typeahead",configFields:_Z(),partFields:OZ(),factory:DZ});var ZL=tinymce.util.Tools.resolve("tinymce.ThemeManager"),Ik=tinymce.util.Tools.resolve("tinymce.util.Delay"),Pw=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),NZ=tinymce.util.Tools.resolve("tinymce.EditorManager"),Fw=tinymce.util.Tools.resolve("tinymce.Env"),ih;(function(n){n.default="wrap",n.floating="floating",n.sliding="sliding",n.scrolling="scrolling"})(ih||(ih={}));var $w;(function(n){n.auto="auto",n.top="top",n.bottom="bottom"})($w||($w={}));const Vr=n=>s=>s.options.get(n),Iw=n=>s=>F.from(n(s)),WL=n=>{const s=Fw.deviceType.isPhone(),i=Fw.deviceType.isTablet()||s,f=n.options.register,b=S=>z(S)||S===!1,w=S=>z(S)||it(S);f("skin",{processor:S=>z(S)||S===!1,default:"oxide"}),f("skin_url",{processor:"string"}),f("height",{processor:w,default:Math.max(n.getElement().offsetHeight,400)}),f("width",{processor:w,default:Pw.DOM.getStyle(n.getElement(),"width")}),f("min_height",{processor:"number",default:100}),f("min_width",{processor:"number"}),f("max_height",{processor:"number"}),f("max_width",{processor:"number"}),f("style_formats",{processor:"object[]"}),f("style_formats_merge",{processor:"boolean",default:!1}),f("style_formats_autohide",{processor:"boolean",default:!1}),f("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),f("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),f("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),f("font_size_input_default_unit",{processor:"string",default:"pt"}),f("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),f("content_langs",{processor:"object[]"}),f("removed_menuitems",{processor:"string",default:""}),f("menubar",{processor:S=>z(S)||ue(S),default:!s}),f("menu",{processor:"object",default:{}}),f("toolbar",{processor:S=>ue(S)||z(S)||Y(S)?{value:S,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Ne(9,S=>{f("toolbar"+(S+1),{processor:"string"})}),f("toolbar_mode",{processor:"string",default:i?"scrolling":"floating"}),f("toolbar_groups",{processor:"object",default:{}}),f("toolbar_location",{processor:"string",default:$w.auto}),f("toolbar_persist",{processor:"boolean",default:!1}),f("toolbar_sticky",{processor:"boolean",default:n.inline}),f("toolbar_sticky_offset",{processor:"number",default:0}),f("fixed_toolbar_container",{processor:"string",default:""}),f("fixed_toolbar_container_target",{processor:"object"}),f("ui_mode",{processor:"string",default:"combined"}),f("file_picker_callback",{processor:"function"}),f("file_picker_validator_handler",{processor:"function"}),f("file_picker_types",{processor:"string"}),f("typeahead_urls",{processor:"boolean",default:!0}),f("anchor_top",{processor:b,default:"#top"}),f("anchor_bottom",{processor:b,default:"#bottom"}),f("draggable_modal",{processor:"boolean",default:!1}),f("statusbar",{processor:"boolean",default:!0}),f("elementpath",{processor:"boolean",default:!0}),f("branding",{processor:"boolean",default:!0}),f("promotion",{processor:"boolean",default:!0}),f("resize",{processor:S=>S==="both"||ue(S),default:!Fw.deviceType.isTouch()}),f("sidebar_show",{processor:"string"}),f("help_accessibility",{processor:"boolean",default:n.hasPlugin("help")}),f("default_font_stack",{processor:"string[]",default:[]})},qL=Vr("readonly"),Hk=Vr("disabled"),Y5=Vr("height"),X5=Vr("width"),Q5=Iw(Vr("min_width")),J5=Iw(Vr("min_height")),zk=Iw(Vr("max_width")),eO=Iw(Vr("max_height")),GL=Iw(Vr("style_formats")),KL=Vr("style_formats_merge"),tO=Vr("style_formats_autohide"),YL=Vr("content_langs"),XL=Vr("removed_menuitems"),jx=Vr("toolbar_mode"),QL=Vr("toolbar_groups"),nO=Vr("toolbar_location"),jk=Vr("fixed_toolbar_container"),JL=Vr("fixed_toolbar_container_target"),eP=Vr("toolbar_persist"),tP=Vr("toolbar_sticky_offset"),nP=Vr("menubar"),Vk=Vr("toolbar"),oP=Vr("file_picker_callback"),sP=Vr("file_picker_validator_handler"),Uk=Vr("font_size_input_default_unit"),oO=Vr("file_picker_types"),sO=Vr("typeahead_urls"),rP=Vr("anchor_top"),rO=Vr("anchor_bottom"),aP=Vr("draggable_modal"),iP=Vr("statusbar"),lP=Vr("elementpath"),aO=Vr("branding"),cP=Vr("resize"),uP=Vr("paste_as_text"),dP=Vr("sidebar_show"),fP=Vr("promotion"),mP=Vr("help_accessibility"),hP=Vr("default_font_stack"),gE=Vr("skin"),pE=n=>n.options.get("skin")===!1,Hw=n=>n.options.get("menubar")!==!1,iO=n=>{const s=n.options.get("skin_url");if(pE(n))return s;if(s)return n.documentBaseURI.toAbsolute(s);{const i=n.options.get("skin");return NZ.baseURL+"/skins/ui/"+i}},RZ=n=>F.from(n.options.get("skin_url")),gP=n=>n.options.get("line_height_formats").split(" "),zw=n=>{const s=Vk(n),i=z(s),f=Y(s)&&s.length>0;return!uv(n)&&(f||i||s===!0)},bE=n=>{const s=Ne(9,f=>n.options.get("toolbar"+(f+1))),i=xo(s,z);return Sa(i.length>0,i)},uv=n=>bE(n).fold(()=>{const s=Vk(n);return Se(s,z)&&s.length>0},Lt),Zk=n=>nO(n)===$w.bottom,pP=n=>{if(!n.inline)return F.none();const s=jk(n)??"";if(s.length>0)return ur(Ml(),s);const i=JL(n);return $e(i)?F.some(mn.fromDom(i)):F.none()},jw=n=>n.inline&&pP(n).isSome(),lO=n=>pP(n).getOrThunk(()=>vd(Ai(mn.fromDom(n.getElement())))),cO=n=>n.inline&&!Hw(n)&&!zw(n)&&!uv(n),Vw=n=>(n.options.get("toolbar_sticky")||n.inline)&&!jw(n)&&!cO(n),dv=n=>!jw(n)&&n.options.get("ui_mode")==="split",bP=n=>{const s=n.options.get("menu");return os(s,i=>({...i,items:i.items}))};var MZ=Object.freeze({__proto__:null,get ToolbarMode(){return ih},get ToolbarLocation(){return $w},register:WL,getSkinUrl:iO,getSkinUrlOption:RZ,isReadOnly:qL,isDisabled:Hk,getSkin:gE,isSkinDisabled:pE,getHeightOption:Y5,getWidthOption:X5,getMinWidthOption:Q5,getMinHeightOption:J5,getMaxWidthOption:zk,getMaxHeightOption:eO,getUserStyleFormats:GL,shouldMergeStyleFormats:KL,shouldAutoHideStyleFormats:tO,getLineHeightFormats:gP,getContentLanguages:YL,getRemovedMenuItems:XL,isMenubarEnabled:Hw,isMultipleToolbars:uv,isToolbarEnabled:zw,isToolbarPersist:eP,getMultipleToolbarsOption:bE,getUiContainer:lO,useFixedContainer:jw,isSplitUiMode:dv,getToolbarMode:jx,isDraggableModal:aP,isDistractionFree:cO,isStickyToolbar:Vw,getStickyToolbarOffset:tP,getToolbarLocation:nO,isToolbarLocationBottom:Zk,getToolbarGroups:QL,getMenus:bP,getMenubar:nP,getToolbar:Vk,getFilePickerCallback:oP,getFilePickerTypes:oO,useTypeaheadUrls:sO,getAnchorTop:rP,getAnchorBottom:rO,getFilePickerValidatorHandler:sP,getFontSizeInputDefaultUnit:Uk,useStatusBar:iP,useElementPath:lP,promotionEnabled:fP,useBranding:aO,getResize:cP,getPasteAsText:uP,getSidebarShow:dP,useHelpAccessibility:mP,getDefaultFontStack:hP});const BZ=["visible","hidden","clip"],yP=n=>An(n).length>0&&!Ve(BZ,n),vP=n=>{if(_e(n)){const s=yr(n,"overflow-x"),i=yr(n,"overflow-y");return yP(s)||yP(i)}else return!1},xP=n=>n.plugins.fullscreen&&n.plugins.fullscreen.isFullscreen(),LZ=(n,s)=>{const i=aa(s,vP),f=i.length===0?fa(s).map(xs).map(b=>aa(b,vP)).getOr([]):i;return sn(f).map(b=>({element:b,others:f.slice(1),isFullscreen:()=>xP(n)}))},Wb=(n,s)=>dv(n)?LZ(n,s):F.none(),Vx=n=>{const s=[...He(n.others,_i),bc()];return n.isFullscreen()?bc():my(_i(n.element),s)};const{entries:wP,setPrototypeOf:v0,isFrozen:PZ,getPrototypeOf:FZ,getOwnPropertyDescriptor:uO}=Object;let{freeze:xa,seal:ap,create:CP}=Object,{apply:dO,construct:fO}=typeof Reflect<"u"&&Reflect;xa||(xa=function(s){return s}),ap||(ap=function(s){return s}),dO||(dO=function(s,i,f){return s.apply(i,f)}),fO||(fO=function(s,i){return new s(...i)});const Wk=Tm(Array.prototype.forEach),$Z=Tm(Array.prototype.lastIndexOf),SP=Tm(Array.prototype.pop),yE=Tm(Array.prototype.push),IZ=Tm(Array.prototype.splice),qk=Tm(String.prototype.toLowerCase),mO=Tm(String.prototype.toString),EP=Tm(String.prototype.match),vE=Tm(String.prototype.replace),HZ=Tm(String.prototype.indexOf),zZ=Tm(String.prototype.trim),x0=Tm(Object.prototype.hasOwnProperty),Em=Tm(RegExp.prototype.test),xE=jZ(TypeError);function Tm(n){return function(s){s instanceof RegExp&&(s.lastIndex=0);for(var i=arguments.length,f=new Array(i>1?i-1:0),b=1;b<i;b++)f[b-1]=arguments[b];return dO(n,s,f)}}function jZ(n){return function(){for(var s=arguments.length,i=new Array(s),f=0;f<s;f++)i[f]=arguments[f];return fO(n,i)}}function wa(n,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qk;v0&&v0(n,null);let f=s.length;for(;f--;){let b=s[f];if(typeof b=="string"){const w=i(b);w!==b&&(PZ(s)||(s[f]=w),b=w)}n[b]=!0}return n}function VZ(n){for(let s=0;s<n.length;s++)x0(n,s)||(n[s]=null);return n}function qb(n){const s=CP(null);for(const[i,f]of wP(n))x0(n,i)&&(Array.isArray(f)?s[i]=VZ(f):f&&typeof f=="object"&&f.constructor===Object?s[i]=qb(f):s[i]=f);return s}function wE(n,s){for(;n!==null;){const f=uO(n,s);if(f){if(f.get)return Tm(f.get);if(typeof f.value=="function")return Tm(f.value)}n=FZ(n)}function i(){return null}return i}const TP=xa(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Gk=xa(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),hO=xa(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),AP=xa(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),gO=xa(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),kP=xa(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),DP=xa(["#text"]),pO=xa(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),bO=xa(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),_P=xa(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Kk=xa(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),UZ=ap(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ZZ=ap(/<%[\w\W]*|[\w\W]*%>/gm),WZ=ap(/\$\{[\w\W]*/gm),qZ=ap(/^data-[\-\w.\u00B7-\uFFFF]+$/),GZ=ap(/^aria-[\-\w]+$/),OP=ap(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),KZ=ap(/^(?:\w+script|data):/i),YZ=ap(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),NP=ap(/^html$/i),XZ=ap(/^[a-z][.\w]*(-[.\w]+)+$/i);var yO=Object.freeze({__proto__:null,ARIA_ATTR:GZ,ATTR_WHITESPACE:YZ,CUSTOM_ELEMENT:XZ,DATA_ATTR:qZ,DOCTYPE_NAME:NP,ERB_EXPR:ZZ,IS_ALLOWED_URI:OP,IS_SCRIPT_OR_DATA:KZ,MUSTACHE_EXPR:UZ,TMPLIT_EXPR:WZ});const CE={element:1,text:3,progressingInstruction:7,comment:8,document:9},QZ=function(){return typeof window>"u"?null:window},JZ=function(s,i){if(typeof s!="object"||typeof s.createPolicy!="function")return null;let f=null;const b="data-tt-policy-suffix";i&&i.hasAttribute(b)&&(f=i.getAttribute(b));const w="dompurify"+(f?"#"+f:"");try{return s.createPolicy(w,{createHTML(S){return S},createScriptURL(S){return S}})}catch{return console.warn("TrustedTypes policy "+w+" could not be created."),null}},RP=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function MP(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:QZ();const s=t=>MP(t);if(s.version="3.2.6",s.removed=[],!n||!n.document||n.document.nodeType!==CE.document||!n.Element)return s.isSupported=!1,s;let{document:i}=n;const f=i,b=f.currentScript,{DocumentFragment:w,HTMLTemplateElement:S,Node:_,Element:M,NodeFilter:H,NamedNodeMap:Z=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:K,DOMParser:ae,trustedTypes:he}=n,xe=M.prototype,Oe=wE(xe,"cloneNode"),ze=wE(xe,"remove"),Te=wE(xe,"nextSibling"),Ye=wE(xe,"childNodes"),st=wE(xe,"parentNode");if(typeof S=="function"){const t=i.createElement("template");t.content&&t.content.ownerDocument&&(i=t.content.ownerDocument)}let wt,Ot="";const{implementation:kn,createNodeIterator:Jt,createDocumentFragment:rn,getElementsByTagName:on}=i,{importNode:mo}=f;let to=RP();s.isSupported=typeof wP=="function"&&typeof st=="function"&&kn&&kn.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ys,ERB_EXPR:ho,TMPLIT_EXPR:Vo,DATA_ATTR:no,ARIA_ATTR:Yt,IS_SCRIPT_OR_DATA:vn,ATTR_WHITESPACE:To,CUSTOM_ELEMENT:Ko}=yO;let{IS_ALLOWED_URI:ao}=yO,qo=null;const Ur=wa({},[...TP,...Gk,...hO,...gO,...DP]);let pr=null;const zu=wa({},[...pO,...bO,..._P,...Kk]);let ei=Object.seal(CP(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Kf=null,jc=null,dh=!0,bu=!0,ug=!1,Sv=!0,R1=!1,xC=!0,M1=!1,gT=!1,_M=!1,wC=!1,CC=!1,SC=!1,wH=!0,OM=!1;const BJ="user-content-";let NM=!0,EC=!1,TC={},up=null;const RM=wa({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let CH=null;const pT=wa({},["audio","video","img","source","image","track"]);let Ev=null;const bT=wa({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),yT="http://www.w3.org/1998/Math/MathML",f2="http://www.w3.org/2000/svg",lc="http://www.w3.org/1999/xhtml";let oy=lc,_3=!1,O3=null;const LJ=wa({},[yT,f2,lc],mO);let N3=wa({},["mi","mo","mn","ms","mtext"]),k0=wa({},["annotation-xml"]);const noe=wa({},["title","style","font","a","script"]);let vT=null;const SH=["application/xhtml+xml","text/html"],AC="text/html";let yu=null,m2=null;const PJ=i.createElement("form"),EH=function(o){return o instanceof RegExp||o instanceof Function},MM=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(m2&&m2===o)){if((!o||typeof o!="object")&&(o={}),o=qb(o),vT=SH.indexOf(o.PARSER_MEDIA_TYPE)===-1?AC:o.PARSER_MEDIA_TYPE,yu=vT==="application/xhtml+xml"?mO:qk,qo=x0(o,"ALLOWED_TAGS")?wa({},o.ALLOWED_TAGS,yu):Ur,pr=x0(o,"ALLOWED_ATTR")?wa({},o.ALLOWED_ATTR,yu):zu,O3=x0(o,"ALLOWED_NAMESPACES")?wa({},o.ALLOWED_NAMESPACES,mO):LJ,Ev=x0(o,"ADD_URI_SAFE_ATTR")?wa(qb(bT),o.ADD_URI_SAFE_ATTR,yu):bT,CH=x0(o,"ADD_DATA_URI_TAGS")?wa(qb(pT),o.ADD_DATA_URI_TAGS,yu):pT,up=x0(o,"FORBID_CONTENTS")?wa({},o.FORBID_CONTENTS,yu):RM,Kf=x0(o,"FORBID_TAGS")?wa({},o.FORBID_TAGS,yu):qb({}),jc=x0(o,"FORBID_ATTR")?wa({},o.FORBID_ATTR,yu):qb({}),TC=x0(o,"USE_PROFILES")?o.USE_PROFILES:!1,dh=o.ALLOW_ARIA_ATTR!==!1,bu=o.ALLOW_DATA_ATTR!==!1,ug=o.ALLOW_UNKNOWN_PROTOCOLS||!1,Sv=o.ALLOW_SELF_CLOSE_IN_ATTR!==!1,R1=o.SAFE_FOR_TEMPLATES||!1,xC=o.SAFE_FOR_XML!==!1,M1=o.WHOLE_DOCUMENT||!1,wC=o.RETURN_DOM||!1,CC=o.RETURN_DOM_FRAGMENT||!1,SC=o.RETURN_TRUSTED_TYPE||!1,_M=o.FORCE_BODY||!1,wH=o.SANITIZE_DOM!==!1,OM=o.SANITIZE_NAMED_PROPS||!1,NM=o.KEEP_CONTENT!==!1,EC=o.IN_PLACE||!1,ao=o.ALLOWED_URI_REGEXP||OP,oy=o.NAMESPACE||lc,N3=o.MATHML_TEXT_INTEGRATION_POINTS||N3,k0=o.HTML_INTEGRATION_POINTS||k0,ei=o.CUSTOM_ELEMENT_HANDLING||{},o.CUSTOM_ELEMENT_HANDLING&&EH(o.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ei.tagNameCheck=o.CUSTOM_ELEMENT_HANDLING.tagNameCheck),o.CUSTOM_ELEMENT_HANDLING&&EH(o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ei.attributeNameCheck=o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),o.CUSTOM_ELEMENT_HANDLING&&typeof o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ei.allowCustomizedBuiltInElements=o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),R1&&(bu=!1),CC&&(wC=!0),TC&&(qo=wa({},DP),pr=[],TC.html===!0&&(wa(qo,TP),wa(pr,pO)),TC.svg===!0&&(wa(qo,Gk),wa(pr,bO),wa(pr,Kk)),TC.svgFilters===!0&&(wa(qo,hO),wa(pr,bO),wa(pr,Kk)),TC.mathMl===!0&&(wa(qo,gO),wa(pr,_P),wa(pr,Kk))),o.ADD_TAGS&&(qo===Ur&&(qo=qb(qo)),wa(qo,o.ADD_TAGS,yu)),o.ADD_ATTR&&(pr===zu&&(pr=qb(pr)),wa(pr,o.ADD_ATTR,yu)),o.ADD_URI_SAFE_ATTR&&wa(Ev,o.ADD_URI_SAFE_ATTR,yu),o.FORBID_CONTENTS&&(up===RM&&(up=qb(up)),wa(up,o.FORBID_CONTENTS,yu)),NM&&(qo["#text"]=!0),M1&&wa(qo,["html","head","body"]),qo.table&&(wa(qo,["tbody"]),delete Kf.tbody),o.TRUSTED_TYPES_POLICY){if(typeof o.TRUSTED_TYPES_POLICY.createHTML!="function")throw xE('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof o.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw xE('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');wt=o.TRUSTED_TYPES_POLICY,Ot=wt.createHTML("")}else wt===void 0&&(wt=JZ(he,b)),wt!==null&&typeof Ot=="string"&&(Ot=wt.createHTML(""));xa&&xa(o),m2=o}},TH=wa({},[...Gk,...hO,...AP]),h2=wa({},[...gO,...kP]),ooe=function(o){let r=st(o);(!r||!r.tagName)&&(r={namespaceURI:oy,tagName:"template"});const c=qk(o.tagName),h=qk(r.tagName);return O3[o.namespaceURI]?o.namespaceURI===f2?r.namespaceURI===lc?c==="svg":r.namespaceURI===yT?c==="svg"&&(h==="annotation-xml"||N3[h]):!!TH[c]:o.namespaceURI===yT?r.namespaceURI===lc?c==="math":r.namespaceURI===f2?c==="math"&&k0[h]:!!h2[c]:o.namespaceURI===lc?r.namespaceURI===f2&&!k0[h]||r.namespaceURI===yT&&!N3[h]?!1:!h2[c]&&(noe[c]||!TH[c]):!!(vT==="application/xhtml+xml"&&O3[o.namespaceURI]):!1},B1=function(o){yE(s.removed,{element:o});try{st(o).removeChild(o)}catch{ze(o)}},kC=function(o,r){try{yE(s.removed,{attribute:r.getAttributeNode(o),from:r})}catch{yE(s.removed,{attribute:null,from:r})}if(r.removeAttribute(o),o==="is")if(wC||CC)try{B1(r)}catch{}else try{r.setAttribute(o,"")}catch{}},FJ=function(o){let r=null,c=null;if(_M)o="<remove></remove>"+o;else{const T=EP(o,/^[\r\n\t ]+/);c=T&&T[0]}vT==="application/xhtml+xml"&&oy===lc&&(o='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+o+"</body></html>");const h=wt?wt.createHTML(o):o;if(oy===lc)try{r=new ae().parseFromString(h,vT)}catch{}if(!r||!r.documentElement){r=kn.createDocument(oy,"template",null);try{r.documentElement.innerHTML=_3?Ot:h}catch{}}const v=r.body||r.documentElement;return o&&c&&v.insertBefore(i.createTextNode(c),v.childNodes[0]||null),oy===lc?on.call(r,M1?"html":"body")[0]:M1?r.documentElement:v},AH=function(o){return Jt.call(o.ownerDocument||o,o,H.SHOW_ELEMENT|H.SHOW_COMMENT|H.SHOW_TEXT|H.SHOW_PROCESSING_INSTRUCTION|H.SHOW_CDATA_SECTION,null)},BM=function(o){return o instanceof K&&(typeof o.nodeName!="string"||typeof o.textContent!="string"||typeof o.removeChild!="function"||!(o.attributes instanceof Z)||typeof o.removeAttribute!="function"||typeof o.setAttribute!="function"||typeof o.namespaceURI!="string"||typeof o.insertBefore!="function"||typeof o.hasChildNodes!="function")},DC=function(o){return typeof _=="function"&&o instanceof _};function sy(t,o,r){Wk(t,c=>{c.call(s,o,r,m2)})}const kH=function(o){let r=null;if(sy(to.beforeSanitizeElements,o,null),BM(o))return B1(o),!0;const c=yu(o.nodeName);if(sy(to.uponSanitizeElement,o,{tagName:c,allowedTags:qo}),xC&&o.hasChildNodes()&&!DC(o.firstElementChild)&&Em(/<[/\w!]/g,o.innerHTML)&&Em(/<[/\w!]/g,o.textContent)||o.nodeType===CE.progressingInstruction||xC&&o.nodeType===CE.comment&&Em(/<[/\w]/g,o.data))return B1(o),!0;if(!qo[c]||Kf[c]){if(!Kf[c]&&DH(c)&&(ei.tagNameCheck instanceof RegExp&&Em(ei.tagNameCheck,c)||ei.tagNameCheck instanceof Function&&ei.tagNameCheck(c)))return!1;if(NM&&!up[c]){const h=st(o)||o.parentNode,v=Ye(o)||o.childNodes;if(v&&h){const T=v.length;for(let k=T-1;k>=0;--k){const L=Oe(v[k],!0);L.__removalCount=(o.__removalCount||0)+1,h.insertBefore(L,Te(o))}}}return B1(o),!0}return o instanceof M&&!ooe(o)||(c==="noscript"||c==="noembed"||c==="noframes")&&Em(/<\/no(script|embed|frames)/i,o.innerHTML)?(B1(o),!0):(R1&&o.nodeType===CE.text&&(r=o.textContent,Wk([ys,ho,Vo],h=>{r=vE(r,h," ")}),o.textContent!==r&&(yE(s.removed,{element:o.cloneNode()}),o.textContent=r)),sy(to.afterSanitizeElements,o,null),!1)},LM=function(o,r,c){if(wH&&(r==="id"||r==="name")&&(c in i||c in PJ))return!1;if(!(bu&&!jc[r]&&Em(no,r))){if(!(dh&&Em(Yt,r))){if(!pr[r]||jc[r]){if(!(DH(o)&&(ei.tagNameCheck instanceof RegExp&&Em(ei.tagNameCheck,o)||ei.tagNameCheck instanceof Function&&ei.tagNameCheck(o))&&(ei.attributeNameCheck instanceof RegExp&&Em(ei.attributeNameCheck,r)||ei.attributeNameCheck instanceof Function&&ei.attributeNameCheck(r))||r==="is"&&ei.allowCustomizedBuiltInElements&&(ei.tagNameCheck instanceof RegExp&&Em(ei.tagNameCheck,c)||ei.tagNameCheck instanceof Function&&ei.tagNameCheck(c))))return!1}else if(!Ev[r]){if(!Em(ao,vE(c,To,""))){if(!((r==="src"||r==="xlink:href"||r==="href")&&o!=="script"&&HZ(c,"data:")===0&&CH[o])){if(!(ug&&!Em(vn,vE(c,To,"")))){if(c)return!1}}}}}}return!0},DH=function(o){return o!=="annotation-xml"&&EP(o,Ko)},$J=function(o){sy(to.beforeSanitizeAttributes,o,null);const{attributes:r}=o;if(!r||BM(o))return;const c={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:pr,forceKeepAttr:void 0};let h=r.length;for(;h--;){const v=r[h],{name:T,namespaceURI:k,value:L}=v,W=yu(T),G=L;let Q=T==="value"?G:zZ(G);if(c.attrName=W,c.attrValue=Q,c.keepAttr=!0,c.forceKeepAttr=void 0,sy(to.uponSanitizeAttribute,o,c),Q=c.attrValue,OM&&(W==="id"||W==="name")&&(kC(T,o),Q=BJ+Q),xC&&Em(/((--!?|])>)|<\/(style|title)/i,Q)){kC(T,o);continue}if(c.forceKeepAttr)continue;if(!c.keepAttr){kC(T,o);continue}if(!Sv&&Em(/\/>/i,Q)){kC(T,o);continue}R1&&Wk([ys,ho,Vo],De=>{Q=vE(Q,De," ")});const ce=yu(o.nodeName);if(!LM(ce,W,Q)){kC(T,o);continue}if(wt&&typeof he=="object"&&typeof he.getAttributeType=="function"&&!k)switch(he.getAttributeType(ce,W)){case"TrustedHTML":{Q=wt.createHTML(Q);break}case"TrustedScriptURL":{Q=wt.createScriptURL(Q);break}}if(Q!==G)try{k?o.setAttributeNS(k,T,Q):o.setAttribute(T,Q),BM(o)?B1(o):SP(s.removed)}catch{kC(T,o)}}sy(to.afterSanitizeAttributes,o,null)},e=function t(o){let r=null;const c=AH(o);for(sy(to.beforeSanitizeShadowDOM,o,null);r=c.nextNode();)sy(to.uponSanitizeShadowNode,r,null),kH(r),$J(r),r.content instanceof w&&t(r.content);sy(to.afterSanitizeShadowDOM,o,null)};return s.sanitize=function(t){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=null,c=null,h=null,v=null;if(_3=!t,_3&&(t="<!-->"),typeof t!="string"&&!DC(t))if(typeof t.toString=="function"){if(t=t.toString(),typeof t!="string")throw xE("dirty is not a string, aborting")}else throw xE("toString is not a function");if(!s.isSupported)return t;if(gT||MM(o),s.removed=[],typeof t=="string"&&(EC=!1),EC){if(t.nodeName){const L=yu(t.nodeName);if(!qo[L]||Kf[L])throw xE("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof _)r=FJ("<!---->"),c=r.ownerDocument.importNode(t,!0),c.nodeType===CE.element&&c.nodeName==="BODY"||c.nodeName==="HTML"?r=c:r.appendChild(c);else{if(!wC&&!R1&&!M1&&t.indexOf("<")===-1)return wt&&SC?wt.createHTML(t):t;if(r=FJ(t),!r)return wC?null:SC?Ot:""}r&&_M&&B1(r.firstChild);const T=AH(EC?t:r);for(;h=T.nextNode();)kH(h),$J(h),h.content instanceof w&&e(h.content);if(EC)return t;if(wC){if(CC)for(v=rn.call(r.ownerDocument);r.firstChild;)v.appendChild(r.firstChild);else v=r;return(pr.shadowroot||pr.shadowrootmode)&&(v=mo.call(f,v,!0)),v}let k=M1?r.outerHTML:r.innerHTML;return M1&&qo["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&Em(NP,r.ownerDocument.doctype.name)&&(k="<!DOCTYPE "+r.ownerDocument.doctype.name+`>
`+k),R1&&Wk([ys,ho,Vo],L=>{k=vE(k,L," ")}),wt&&SC?wt.createHTML(k):k},s.setConfig=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};MM(t),gT=!0},s.clearConfig=function(){m2=null,gT=!1},s.isValidAttribute=function(t,o,r){m2||MM({});const c=yu(t),h=yu(o);return LM(c,h,r)},s.addHook=function(t,o){typeof o=="function"&&yE(to[t],o)},s.removeHook=function(t,o){if(o!==void 0){const r=$Z(to[t],o);return r===-1?void 0:IZ(to[t],r,1)[0]}return SP(to[t])},s.removeHooks=function(t){to[t]=[]},s.removeAllHooks=function(){to=RP()},s}var vO=MP();const SE=n=>vO().sanitize(n);var md=tinymce.util.Tools.resolve("tinymce.util.I18n");const Yk={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-disc":!0,"list-bull-default":!0,"list-bull-square":!0},BP="temporary-placeholder",xO=n=>()=>Hn(n,BP).getOr("!not found!"),wO=(n,s)=>{const i=n.toLowerCase();if(md.isRtl()){const f=uc(i,"-rtl");return ts(s,f)?f:i}else return i},LP=(n,s)=>Hn(s,wO(n,s)),eW=(n,s)=>{const i=s();return LP(n,i).getOrThunk(xO(i))},Xk=(n,s,i)=>{const f=s();return LP(n,f).or(i).getOrThunk(xO(f))},Uw=n=>md.isRtl()?ts(Yk,n):!1,CO=()=>fe("add-focusable",[Lr(n=>{_u(n.element,"svg").each(s=>uo(s,"focusable","false"))})]),SO=(n,s,i,f)=>{const b=Uw(s)?["tox-icon--flip"]:[],w=Hn(i,wO(s,i)).or(f).getOrThunk(xO(i));return{dom:{tag:n.tag,attributes:n.attributes??{},classes:n.classes.concat(b),innerHtml:w},behaviours:a([...n.behaviours??[],CO()]),eventOrder:n.eventOrder??{}}},lh=(n,s,i,f=F.none())=>SO(s,n,i(),f),tW=(n,s,i)=>{const f=i(),b=Be(n,w=>ts(f,wO(w,f)));return SO(s,b.getOr(BP),f,F.none())},nW={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},EO=oh({name:"Notification",factory:n=>{const s=me("notification-text"),i=gr({dom:h0(`<p id=${s}>${SE(n.backstageProvider.translate(n.text))}</p>`),behaviours:a([jo.config({})])}),f=xe=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${xe}%`}}}),b=xe=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${xe}%`}}),w=gr({dom:{tag:"div",classes:n.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(0)]},b(0)],behaviours:a([jo.config({})])}),M={updateProgress:(xe,Oe)=>{xe.getSystem().isConnected()&&w.getOpt(xe).each(ze=>{jo.set(ze,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(Oe)]},b(Oe)])})},updateText:(xe,Oe)=>{if(xe.getSystem().isConnected()){const ze=i.get(xe);jo.set(ze,[Ra(Oe)])}}},H=tt([n.icon.toArray(),[n.level],F.from(nW[n.level]).toArray()]),Z=gr(rc.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":n.backstageProvider.translate("Close")}},components:[lh("close",{tag:"span",classes:["tox-icon"]},n.iconProvider)],buttonBehaviours:a([ua.config({}),va.config({...n.backstageProvider.tooltips.getConfig({tooltipText:n.backstageProvider.translate("Close")})})]),action:xe=>{n.onAction(xe)}})),K=tW(H,{tag:"div",classes:["tox-notification__icon"]},n.iconProvider),ae={dom:{tag:"div",classes:["tox-notification__body"]},components:[i.asSpec()],behaviours:a([jo.config({})])},he=[K,ae];return{uid:n.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":s},classes:["tox-notification","tox-notification--in",`tox-notification--${n.level}`]},behaviours:a([ua.config({}),et.config({}),lo.config({mode:"special",onEscape:xe=>(n.onAction(xe),F.some(!0))})]),components:he.concat(n.progress?[w.asSpec()]:[]).concat([Z.asSpec()]),apis:M}},configFields:[Xl("level","info",["success","error","warning","warn","info"]),Wt("progress"),vr("icon"),Wt("onAction"),Wt("text"),Wt("iconProvider"),Wt("backstageProvider")],apis:{updateProgress:(n,s,i)=>{n.updateProgress(s,i)},updateText:(n,s,i)=>{n.updateText(s,i)}}});var oW=(n,s,i,f)=>{const b=s.backstage.shared,w=()=>mn.fromDom(n.queryCommandValue("ToggleView")===""?n.getContentAreaContainer():n.getContainer()),S=()=>{const K=_i(w());return F.some(K)},_=K=>{S().each(ae=>{dt(K,he=>{cs(he.element,"width"),Bi(he.element)>ae.width&&So(he.element,"width",ae.width+"px")})})};return{open:(K,ae,he)=>{const xe=()=>{const st=Jt=>{jo.remove(Jt,ze),Te()},wt=(Jt,rn)=>{Uu(Jt.element).length===0?Ot(Jt,rn):kn(Jt,rn)},Ot=(Jt,rn)=>{mi.hide(Jt),f.clear(),rn&&n.focus()},kn=(Jt,rn)=>{rn&&lo.focusIn(Jt)};f.on(Jt=>{ae();const rn=he();st(Jt),wt(Jt,rn)})},Oe=()=>!Vw(n)||!b.header.isPositionedAtTop(),ze=E(EO.sketch({text:K.text,level:Ve(["success","error","warning","warn","info"],K.type)?K.type:void 0,progress:K.progressBar===!0,icon:K.icon,onAction:xe,iconProvider:b.providers.icons,backstageProvider:b.providers}));if(f.isSet()){const st=D(ze);f.on(wt=>{jo.append(wt,st),mi.reposition(wt),ze.hasConfigured(Ja)&&Ja.refresh(wt),_(wt.components())})}else{const st=E(mi.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:b.getSink,fireDismissalEventInstead:{},...b.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:a([lo.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),jo.config({}),...Oe()?[Ja.config({contextual:{lazyContext:()=>F.some(_i(w())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:Jt=>Wb(n,Jt.element).map(on=>({bounds:Vx(on),optScrollEnv:F.some({currentScrollTop:on.element.dom.scrollTop,scrollElmTop:Bl(on.element).top})})).getOrThunk(()=>({bounds:bc(),optScrollEnv:F.none()}))})]:[]])})),wt=D(ze),Ot={maxHeightFunction:Gh()},kn={...b.anchors.banner(),overrides:Ot};f.set(st),i.add(st),mi.showWithinBounds(st,wt,{anchor:kn},S)}it(K.timeout)&&K.timeout>0&&Ik.setEditorTimeout(n,()=>{xe()},K.timeout);const Te=()=>{f.on(st=>{mi.reposition(st),st.hasConfigured(Ja)&&Ja.refresh(st),_(st.components())})};return{close:xe,reposition:Te,text:st=>{EO.updateText(ze,st)},settings:K,getEl:()=>ze.element.dom,progressBar:{value:st=>{EO.updateProgress(ze,st)}}}},close:K=>{K.close()},getArgs:K=>K.settings}};const sW={setup:(n,s)=>{const i=(b,w)=>{so(b,Ki(),{raw:w})},f=()=>n.getMenu().bind(fr.getHighlighted);s.on("keydown",b=>{const w=b.which;n.isActive()&&(n.isMenuOpen()?w===13?(f().each(r1),b.preventDefault()):w===40?(f().fold(()=>{n.getMenu().each(fr.highlightFirst)},S=>{i(S,b)}),b.preventDefault(),b.stopImmediatePropagation()):(w===37||w===38||w===39)&&f().each(S=>{i(S,b),b.preventDefault(),b.stopImmediatePropagation()}):(w===13||w===38||w===40)&&n.cancelIfNecessary())}),s.on("NodeChange",()=>{n.isActive()&&!n.isProcessingAction()&&!s.queryCommandState("mceAutoCompleterInRange")&&n.cancelIfNecessary()})}};var TO;(function(n){n[n.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",n[n.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(TO||(TO={}));var ip=TO;const AO="tox-menu-nav__js",EE="tox-collection__item",fv="tox-swatch",Ux={normal:AO,color:fv},kO="tox-collection__item--enabled",PP="tox-collection__group-heading",DO="tox-collection__item-icon",Qk="tox-collection__item-image",rW="tox-collection__item-image-selector",Gb="tox-collection__item-label",Zx="tox-collection__item-accessory",FP="tox-collection__item-caret",aW="tox-collection__item-checkmark",Wx="tox-collection__item--active",$P="tox-collection__item-container",iW="tox-collection__item-container--column",IP="tox-collection__item-container--row",lW="tox-collection__item-container--align-right",cW="tox-collection__item-container--align-left",Jk="tox-collection__item-container--valign-top",HP="tox-collection__item-container--valign-middle",uW="tox-collection__item-container--valign-bottom",_O=n=>Hn(Ux,n).getOr(AO),dW=n=>n==="color"?"tox-swatches":"tox-menu",OO=n=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:dW(n),tieredMenu:"tox-tiered-menu"}),S1=n=>{const s=OO(n);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:_O(n)}},Fne=(n,s,i)=>{const f=OO(i);return{tag:"div",classes:tt([[f.menu,`tox-menu-${s}-column`],n?[f.hasIcons]:[]])}},NO=[Ub.parts.items({})],TE=(n,s,i)=>{const f=OO(i);return{dom:{tag:"div",classes:tt([[f.tieredMenu]])},markers:S1(i)}},zP=me("refetch-trigger-event"),jP=me("redirect-menu-item-interaction"),VP="tox-menu__searcher",AE=n=>ur(n.element,`.${VP}`).bind(s=>n.getSystem().getByDom(s).toOptional()),UP=AE,fW=(n,s)=>{In.setValue(n,s.fetchPattern),n.element.dom.selectionStart=s.selectionStart,n.element.dom.selectionEnd=s.selectionEnd},RO=n=>{const s=In.getValue(n),i=n.element.dom.selectionStart,f=n.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:i,selectionEnd:f}},ZP=(n,s)=>{ii(s.element,"id").each(i=>uo(n.element,"aria-activedescendant",i))},mW=n=>{const s=(b,w)=>(w.cut(),F.none()),i=(b,w)=>{const S={interactionEvent:w.event,eventType:w.event.raw.type};return so(b,jP,S),F.some(!0)},f="searcher-events";return{dom:{tag:"div",classes:[EE]},components:[C1.sketch({inputClasses:[VP,"tox-textfield"],inputAttributes:{...n.placeholder.map(b=>({placeholder:n.i18n(b)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:a([fe(f,[Mt(Bf(),b=>{fs(b,zP)}),Mt(Ki(),(b,w)=>{w.event.raw.key==="Escape"&&w.stop()})]),lo.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:i,onEscape:i,onUp:i,onDown:i})]),eventOrder:{keydown:[f,lo.name()]}})]}},e4="tox-collection--results__js",kE=n=>n.dom?{...n,dom:{...n.dom,attributes:{...n.dom.attributes??{},id:me("aria-item-search-result-id"),"aria-selected":"false"}}}:n,MO="Use arrow keys to navigate.",BO=(n,s)=>i=>{const f=ft(i,s);return He(f,b=>({dom:n,components:b}))},LO=n=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"],attributes:{"aria-label":md.translate(MO)}},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Ub.parts.items({preprocess:n!=="auto"?BO({tag:"div",classes:["tox-swatches__row"]},n):ct})]}]}),hW=n=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[Ub.parts.items({preprocess:n!=="auto"?BO({tag:"div",classes:["tox-image-selector__row"]},n):ct})]}]}),PO=n=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Ub.parts.items({preprocess:BO({tag:"div",classes:["tox-collection__group"]},n)})]}),WP=(n,s)=>{const i=[];let f=[];return dt(n,(b,w)=>{s(b,w)?(f.length>0&&i.push(f),f=[],(ts(b.dom,"innerHtml")||b.components&&b.components.length>0)&&f.push(b)):f.push(b)}),f.length>0&&i.push(f),He(i,b=>({dom:{tag:"div",classes:["tox-collection__group"]},components:b}))},FO=(n,s,i)=>Ub.parts.items({preprocess:f=>{const b=He(f,i);return n!=="auto"&&n>1?BO({tag:"div",classes:["tox-collection__group"]},n)(b):WP(b,(w,S)=>s[S].type==="separator")}}),qP=n=>It(n,s=>s.type==="widget"),$O=(n,s,i=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{...qP(s)?{"aria-label":md.translate(MO)}:{}}},components:[FO(n,s,ct)]}),GP=(n,s,i=!0)=>{const f=me("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",e4].concat(n===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:f}},components:[FO(n,s,kE)]}},Kb=(n,s,i)=>{const f=me("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"])},components:[mW({i18n:md.translate,placeholder:i.placeholder}),{dom:{tag:"div",classes:[...n===1?["tox-collection--list"]:["tox-collection--grid"],e4],attributes:{id:f}},components:[FO(n,s,kE)]}]}},qx=(n,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Ub.parts.items({preprocess:i=>WP(i,(f,b)=>n[b].type==="separator")})]}),DE=n=>It(n,s=>"icon"in s&&s.icon!==void 0),w0=n=>(console.error(Mg(n)),console.log(n),F.none()),KP=(n,s,i,f,b)=>{const w=qx(i);return{value:n,dom:w.dom,components:w.components,items:i}},IO=(n,s,i,f,b)=>{const w=()=>b.menuType!=="searchable"?$O(f,i):b.searchMode.searchMode==="search-with-field"?Kb(f,i,b.searchMode):GP(f,i);if(b.menuType==="color"){const S=LO(f);return{value:n,dom:S.dom,components:S.components,items:i}}else if(b.menuType==="imageselector"&&f!=="auto"){const S=hW(f);return{value:n,dom:S.dom,components:S.components,items:i}}else if(b.menuType==="normal"&&f==="auto"){const S=$O(f,i);return{value:n,dom:S.dom,components:S.components,items:i}}else if(b.menuType==="normal"||b.menuType==="searchable"){const S=w();return{value:n,dom:S.dom,components:S.components,items:i}}else if(b.menuType==="listpreview"&&f!=="auto"){const S=PO(f);return{value:n,dom:S.dom,components:S.components,items:i}}else return{value:n,dom:Fne(s,f,b.menuType),components:NO,items:i}},Ni=Ya("type"),HO=Ya("name"),t4=Ya("label"),Yb=Ya("text"),YP=Ya("title"),zO=Ya("icon"),gW=Ya("url"),Zw=Ya("value"),pW=cu("fetch"),bW=cu("getSubmenuItems"),mv=cu("onAction"),yW=cu("onItemAction"),Gx=dr("onSetup",()=>J),vW=pa("name"),Xb=pa("text"),xW=pa("role"),og=pa("icon"),Kx=pa("tooltip"),XP=pa("chevronTooltip"),_E=pa("label"),jO=pa("shortcut"),wW=uf("select"),Ww=Gi("active",!1),CW=Gi("borderless",!1),sg=Gi("enabled",!0),OE=Gi("primary",!1),QP=n=>pt("columns",n),VO=pt("meta",{}),UO=dr("onAction",J),Yx=n=>Oa("type",n),ZO=n=>ml("name","name",Op(()=>me(`${n}-name`)),Fi),JP=n=>ml("value","value",Op(()=>me(`${n}-value`)),lf()),qw=[Ni,Yb,Yl("level",["info","warn","error","success"]),zO,pt("url","")],SW=fo(qw),EW=n=>[Ni,n],TW=[Ni,Yb,sg,ZO("button"),og,CW,jm("buttonType",["primary","secondary","toolbar"]),OE,Oa("context","mode:design")],n4=fo(TW),Zd=[Ni,HO],rg=Zd.concat([_E]),eF=Zd.concat([t4,sg,Oa("context","mode:design")]),AW=fo(eF),kW=ns,DW=rg.concat([QP("auto"),Oa("context","mode:design")]),_W=fo(DW),tF=Z0([Zw,Yb,zO]),nF=rg.concat([Oa("storageKey","default"),Oa("context","mode:design")]),OW=fo(nF),NW=Fi,MW=fo(rg),oF=Fi,sF=Zd.concat([Oa("tag","textarea"),Ya("scriptId"),Ya("scriptUrl"),uf("onFocus"),Fl("settings",void 0)]),rF=Zd.concat([Oa("tag","textarea"),cu("init")]),BW=cm(n=>ga("customeditor.old",Bu(rF),n).orThunk(()=>ga("customeditor.new",Bu(sF),n))),LW=Fi,hv=[sg,Xb,xW,jO,JP("menuitem"),VO,Oa("context","mode:design")],PW=fo([Ni,HO].concat(hv)),FW=ns,Gw=[ZO("button"),og,Xl("align","end",["start","end"]),OE,sg,jm("buttonType",["primary","secondary"]),Oa("context","mode:design")],C0=[...Gw,Yb],o4=[Yl("type",["submit","cancel","custom"]),...C0],ag=[Yl("type",["menu"]),Xb,Kx,og,Ar("items",PW),...Gw],$W=[...Gw,Yl("type",["togglebutton"]),Kx,og,Xb,Gi("active",!1)],s4=Kl("type",{submit:o4,cancel:o4,custom:o4,menu:ag,togglebutton:$W}),IW=rg.concat([Oa("context","mode:design"),pa("dropAreaLabel"),pa("buttonLabel"),pa("allowedFileTypes"),Bg("allowedFileExtensions",Fi)]),Xx=fo(IW),HW=Fv(),WO=n=>[Ni,ab("columns"),n],qO=[Ni,Ya("html"),Xl("presets","presentation",["presentation","document"]),dr("onInit",J),Gi("stretched",!1)],zW=fo(qO),jW=rg.concat([Gi("border",!1),Gi("sandboxed",!0),Gi("streamContent",!1),Gi("transparent",!0)]),Qx=fo(jW),aF=Fi,iF=fo(Zd.concat([pa("height")])),VW=fo([Ya("url"),Bp("zoom"),Bp("cachedWidth"),Bp("cachedHeight")]),GO=rg.concat([pa("inputMode"),pa("placeholder"),Gi("maximized",!1),sg,Oa("context","mode:design")]),lF=fo(GO),KO=Fi,cF=n=>[Ni,t4,n,Xl("align","start",["start","center","end"]),pa("for")],uF=[Yb,Zw],NE=[Yb,Ar("items",Bh("items",()=>dF))],dF=Mp([fo(uF),fo(NE)]),UW=rg.concat([Ar("items",dF),sg,Oa("context","mode:design")]),ZW=fo(UW),WW=Fi,YO=rg.concat([q0("items",[Yb,Zw]),Lp("size",1),sg,Oa("context","mode:design")]),qW=fo(YO),XO=Fi,GW=rg.concat([Gi("constrain",!0),sg,Oa("context","mode:design")]),RE=fo(GW),fF=fo([Ya("width"),Ya("height")]),mF=Zd.concat([t4,Lp("min",0),Lp("max",0)]),KW=fo(mF),YW=Dp,XW=[Ni,Ar("header",Fi),Ar("cells",_a(Fi))],QW=fo(XW),r4=rg.concat([pa("placeholder"),Gi("maximized",!1),sg,Oa("context","mode:design"),wy("spellcheck")]),hF=fo(r4),JW=Fi,QO=[Oa("buttonType","default"),pa("text"),pa("tooltip"),pa("icon"),Ju("search",!1,Mp([ns,fo([pa("placeholder")])],n=>ue(n)?n?F.some({placeholder:F.none()}):F.none():F.some(n))),cu("fetch"),dr("onSetup",()=>J),Oa("context","mode:design")],gv=fo([Ni,...QO]),JO=n=>ga("menubutton",gv,n),Kw=[Yl("type",["directory","leaf"]),YP,Ya("id"),um("menu",gv),pa("customStateIcon"),pa("customStateIconTooltip")],eN=fo(Kw),eq=Kw.concat([Ar("children",Bh("children",()=>Mh("type",{directory:gF,leaf:eN})))]),gF=fo(eq),Jx=Mh("type",{directory:gF,leaf:eN}),pF=[Ni,Ar("items",Jx),uf("onLeafAction"),uf("onToggleExpand"),Vm("defaultExpandedIds",[],Fi),pa("defaultSelectedId")],tq=fo(pF),bF=rg.concat([Xl("filetype","file",["image","media","file"]),sg,pa("picker_text"),Oa("context","mode:design")]),nq=fo(bF),oq=fo([Zw,VO]),tN=n=>ml("items","items",Od(),_a(cm(s=>ga(`Checking item of ${n}`,a4,s).fold(i=>Pn.error(Mg(i)),i=>Pn.value(i))))),a4=U0(()=>Mh("type",{alertbanner:SW,bar:fo(EW(tN("bar"))),button:n4,checkbox:AW,colorinput:OW,colorpicker:MW,dropzone:Xx,grid:fo(WO(tN("grid"))),iframe:Qx,input:lF,listbox:ZW,selectbox:qW,sizeinput:RE,slider:KW,textarea:hF,urlinput:nq,customeditor:BW,htmlpanel:zW,imagepreview:iF,collection:_W,label:fo(cF(tN("label"))),table:QW,tree:tq,panel:yF})),sq=[Ni,pt("classes",[]),Ar("items",a4)],yF=fo(sq),rq=[ZO("tab"),YP,Ar("items",a4)],aq=[Ni,q0("tabs",rq)],iq=fo(aq),lq=C0,cq=s4,uq=fo([Ya("title"),Bc("body",Mh("type",{panel:yF,tabpanel:iq})),Oa("size","normal"),Vm("buttons",[],cq),pt("initialData",{}),dr("onAction",J),dr("onChange",J),dr("onSubmit",J),dr("onClose",J),dr("onCancel",J),dr("onTabChange",J)]),vF=n=>ga("dialog",uq,n),dq=fo([Yl("type",["cancel","custom"]),...lq]),fq=fo([Ya("title"),Ya("url"),Bp("height"),Bp("width"),Bg("buttons",dq),dr("onAction",J),dr("onCancel",J),dr("onClose",J),dr("onMessage",J)]),mq=n=>ga("dialog",fq,n),nN=n=>U(n)?[n].concat(Le(Ma(n),nN)):Y(n)?Le(n,nN):[],hq=n=>z(n.type)&&z(n.name),gq={checkbox:kW,colorinput:NW,colorpicker:oF,dropzone:HW,input:KO,iframe:aF,imagepreview:VW,selectbox:XO,sizeinput:fF,slider:YW,listbox:WW,size:fF,textarea:JW,urlinput:oq,customeditor:LW,collection:tF,togglemenuitem:FW},xF=n=>F.from(gq[n.type]),wF=n=>xo(nN(n),hq),pq=n=>{const s=wF(n),i=Le(s,f=>xF(f).fold(()=>[],b=>[Bc(f.name,b)]));return fo(i)},ME=n=>{const s=Qu(vF(n)),i=pq(n),f=n.initialData??{};return{internalDialog:s,dataValidator:i,initialData:f}},e2={open:(n,s)=>{const i=ME(s);return n(i.internalDialog,i.initialData,i.dataValidator)},openUrl:(n,s)=>{const i=Qu(mq(s));return n(i)},redial:n=>ME(n)},CF=fo([Ni,Xb]),bq=n=>ga("separatormenuitem",CF,n),yq=fo([Yx("autocompleteitem"),Ww,sg,VO,Zw,Xb,og]),vq=n=>ga("Autocompleter.Separator",CF,n),xq=n=>ga("Autocompleter.Item",yq,n),Yw=[sg,Kx,og,Xb,Gx,Oa("context","mode:design")],wq=fo([Ni,mv,jO].concat(Yw)),E1=n=>ga("toolbarbutton",wq,n),oN=[Ww].concat(Yw),Cq=fo(oN.concat([Ni,mv,jO])),sN=n=>ga("ToggleButton",Cq,n),i4=[dr("predicate",yt),Xl("scope","node",["node","editor"]),Xl("position","selection",["node","selection","line"])],Sq=Yw.concat([Yx("contextformbutton"),Oa("align","end"),OE,mv,yc("original",ct)]),Eq=oN.concat([Yx("contextformbutton"),Oa("align","end"),OE,mv,yc("original",ct)]),Tq=Yw.concat([Yx("contextformbutton")]),rN=oN.concat([Yx("contextformtogglebutton")]),SF=Kl("type",{contextformbutton:Sq,contextformtogglebutton:Eq}),BE=[_E,Ar("commands",SF),um("launch",Kl("type",{contextformbutton:Tq,contextformtogglebutton:rN})),dr("onInput",J),dr("onSetup",J)],l4=[...i4,...BE,Yl("type",["contextform"]),dr("initValue",ie("")),pa("placeholder")],Xw=[...i4,...BE,Yl("type",["contextsliderform"]),dr("initValue",ie(0)),dr("min",ie(0)),dr("max",ie(100))],Aq=[...i4,...BE,Yl("type",["contextsizeinputform"]),dr("initValue",ie({width:"",height:""}))],EF=Kl("type",{contextform:l4,contextsliderform:Xw,contextsizeinputform:Aq}),kq=n=>ga("ContextForm",EF,n),Qw=Yw.concat([Yx("contexttoolbarbutton")]),Dq=fo([Yx("contexttoolbar"),$i("launch",Qw),Bc("items",Mp([Fi,Z0([pa("name"),pa("label"),Ar("items",Fi)])]))].concat(i4)),c4=n=>({name:n.name.getOrUndefined(),label:n.label.getOrUndefined(),items:n.items}),aN=n=>({...n,launch:n.launch.getOrUndefined(),items:z(n.items)?n.items:He(n.items,c4)}),_q=n=>ga("ContextToolbar",Dq,n),Oq=[Ni,Ya("src"),pa("alt"),Vm("classes",[],Fi)],Nq=fo(Oq),iN=[Ni,Yb,vW,Vm("classes",["tox-collection__item-label"],Fi)],Rq=fo(iN),TF=U0(()=>Mh("type",{cardimage:Nq,cardtext:Rq,cardcontainer:Mq})),Mq=fo([Ni,Oa("direction","horizontal"),Oa("align","left"),Oa("valign","middle"),Ar("items",TF)]),AF=fo([Ni,_E,Ar("items",TF),Gx,UO].concat(hv)),lN=n=>ga("cardmenuitem",AF,n),Bq=fo([Ni,Ww,og,_E].concat(hv)),Lq=n=>ga("choicemenuitem",Bq,n),cN=[Ni,Ya("fancytype"),UO],kF=[pt("initData",{})].concat(cN),Pq=[uf("select"),Lh("initData",{},[Gi("allowCustomColors",!0),Oa("storageKey","default"),Bg("colors",lf())])].concat(cN),uN=[uf("select"),cf("initData",[ab("columns"),Vm("items",[],lf())])].concat(cN),DF=Kl("fancytype",{inserttable:kF,colorswatch:Pq,imageselect:uN}),_F=n=>ga("fancymenuitem",DF,n),Fq=fo([Ni,Ww,gW,_E,Kx].concat(hv)),$q=fo([Ni,Ww,zO,t4,Kx,Zw].concat(hv)),OF=n=>ga("imagemenuitem",Fq,n),dN=n=>ga("resetimageitem",$q,n),Iq=fo([Ni,Gx,UO,og].concat(hv)),Hq=n=>ga("menuitem",Iq,n),zq=fo([Ni,bW,Gx,og].concat(hv)),jq=n=>ga("nestedmenuitem",zq,n),Vq=fo([Ni,og,Ww,Gx,mv].concat(hv)),Uq=n=>ga("togglemenuitem",Vq,n),Zq=fo([og,Kx,dr("onShow",J),dr("onHide",J),Gx]),fN=n=>ga("sidebar",Zq,n),Wq=fo([Ni,Bc("items",Mp([Z0([HO,Ar("items",Fi)]),Fi]))].concat(Yw)),mN=n=>ga("GroupToolbarButton",Wq,n),qq=fo([Ni,Kx,XP,og,Xb,wW,pW,Gx,Xl("presets","normal",["normal","color","listpreview"]),QP(1),mv,yW,Oa("context","mode:design")]),Gq=n=>ga("SplitButton",qq,n),u4=[Xb,og,pa("tooltip"),Xl("buttonType","secondary",["primary","secondary"]),Gi("borderless",!1),cu("onAction"),Oa("context","mode:design")],Kq=[...u4,Yb,Yl("type",["button"])],Yq=[...u4,Gi("active",!1),Yl("type",["togglebutton"])],hN={button:Kq,togglebutton:Yq},Xq=[Yl("type",["group"]),Vm("buttons",[],Kl("type",hN))],Qq=Kl("type",{...hN,group:Xq}),Jq=fo([Vm("buttons",[],Qq),cu("onShow"),cu("onHide")]),eG=n=>ga("view",Jq,n),gN=(n,s,i)=>{const f=ta(n.element,"."+i);if(f.length>0){const b=Ke(f,w=>{const S=w.dom.getBoundingClientRect().top,_=f[0].dom.getBoundingClientRect().top;return Math.abs(S-_)>s}).getOr(f.length);return F.some({numColumns:b,numRows:Math.ceil(f.length/b)})}else return F.none()},NF=(n,s)=>a([fe(n,s)]),Jw={namedEvents:NF,unnamedEvents:n=>NF(me("unnamed-events"),n)},S0={item:n=>eo.config({disabled:n,disableClass:"tox-collection__item--state-disabled"}),button:n=>eo.config({disabled:n}),splitButton:n=>eo.config({disabled:n,disableClass:"tox-tbtn--disabled"}),toolbarButton:n=>eo.config({disabled:n,disableClass:"tox-tbtn--disabled",useNative:!1})},LE=(n,s)=>{const i=n.getApi(s);return f=>{f(i)}},E0=(n,s)=>Lr(i=>{pe(n.onBeforeSetup)&&n.onBeforeSetup(i),LE(n,i)(b=>{const w=n.onSetup(b);pe(w)&&s.set(w)})}),pv=(n,s)=>hf(i=>LE(n,i)(s.get())),d4=(n,s,i)=>hf(f=>(i.set(In.getValue(f)),LE(n,f)(s.get()))),pN="silver.uistate",t2="setDisabled",nG="setEnabled",bN="init",oG=["switchmode",bN],PE=(n,s)=>{const i=n.mainUi.outerContainer,f=[n.mainUi.mothership,...n.uiMotherships];s===t2&&dt(f,b=>{b.broadcastOn([Jm()],{target:i.element})}),dt(f,b=>{b.broadcastOn([pN],s)})},RF=(n,s)=>{n.on("init SwitchMode",i=>{PE(s,i.type)}),n.on("DisabledStateChange",i=>{if(!i.isDefaultPrevented()){const f=i.state?t2:bN;PE(s,f),i.state||n.nodeChanged()}}),n.on("NodeChange",i=>{const f=n.ui.isEnabled()?i.type:t2;PE(s,f)}),qL(n)&&n.mode.set("readonly")},nl=n=>fd.config({channels:{[pN]:{onReceive:(s,i)=>{if(i===t2||i===nG){eo.set(s,i===t2);return}const{contextType:f,shouldDisable:b}=n();f==="mode"&&!Ve(oG,i)||eo.set(s,b)}}}}),Qb=(n,s)=>wm((i,f)=>{LE(n,i)(n.onAction),!n.triggersSubmenu&&s===ip.CLOSE_ON_EXECUTE&&(i.getSystem().isConnected()&&fs(i,Na()),f.stop())}),sG={[Ls()]:["disabling","alloy.base.behaviour","toggling","item-events"]},T1=Uo,n2=(n,s,i,f)=>{const b=Mn(J);return{type:"item",dom:s.dom,components:T1(s.optComponents),data:n.data,eventOrder:sG,hasSubmenu:n.triggersSubmenu,itemBehaviours:a([fe("item-events",[Qb(n,i),E0(n,b),pv(n,b)]),S0.item(()=>!n.enabled||f.checkUiComponentContext(n.context).shouldDisable),nl(()=>f.checkUiComponentContext(n.context)),jo.config({})].concat(n.itemBehaviours))}},Jb=n=>({value:n.value,meta:{text:n.text.getOr(""),...n.meta}}),rG=(n,s)=>{const i=mn.fromTag("div");nr(i,"tox-image-selector-loading-spinner");const f=w=>{nr(w,"tox-image-selector-loading-spinner-wrapper"),ra(w,i)},b=w=>{ha(w,"tox-image-selector-loading-spinner-wrapper"),eu(i)};return{dom:{tag:n.tag,attributes:n.attributes??{},classes:n.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:s},classes:["tox-image-selector-image-img"]}}]},...n.checkMark.toArray()],behaviours:a([...n.behaviours??[],fe("render-image-events",[Lr(w=>{f(w.element),ur(w.element,"img").each(S=>{Sl(S).catch(_=>{console.error(_)}).finally(()=>{b(w.element)})})})])])}},aG=(n,s)=>rG(s,n),yN=n=>{const s=Fw.os.isMacOS()||Fw.os.isiOS(),b=s?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},w=n.split("+"),S=He(w,_=>{const M=_.toLowerCase().trim();return ts(b,M)?b[M]:_});return s?S.join(""):S.join("+")},f4=(n,s,i=[DO])=>lh(n,{tag:"div",classes:i},s),MF=n=>({dom:{tag:"div",classes:[Gb]},components:[Ra(md.translate(n))]}),m4=(n,s)=>({dom:{tag:"div",classes:s,innerHtml:n}}),vN=(n,s)=>({dom:{tag:"div",classes:[Gb]},components:[{dom:{tag:n.tag,styles:n.styles},components:[Ra(md.translate(s))]}]}),xN=n=>({dom:{tag:"div",classes:[Zx]},components:[Ra(yN(n))]}),wN=n=>f4("checkmark",n,[aW]),ch=n=>f4("chevron-right",n,[FP]),iG=n=>f4("chevron-down",n,[FP]),lG=(n,s)=>{const i=n.direction==="vertical"?iW:IP,f=n.align==="left"?cW:lW;return{dom:{tag:"div",classes:[$P,i,f,(()=>{switch(n.valign){case"top":return Jk;case"middle":return HP;case"bottom":return uW}})()]},components:s}},BF=(n,s,i)=>({dom:{tag:"img",classes:s,attributes:{src:n,alt:i.getOr("")}}}),LF=(n,s,i)=>{const f="custom",b="remove",w=n.value,S=n.iconContent.map(H=>Xk(H,s.icons,i)),_=n.ariaLabel.map(H=>({"aria-label":s.translate(H),"data-mce-name":H})).getOr({});return{dom:(()=>{const H=fv,Z=S.getOr(""),K={tag:"div",attributes:_,classes:[H]};return w===f?{...K,tag:"button",classes:[...K.classes,"tox-swatches__picker-btn"],innerHtml:Z}:w===b?{...K,classes:[...K.classes,"tox-swatch--remove"],innerHtml:Z}:$e(w)?{...K,attributes:{...K.attributes,"data-mce-color":w},styles:{"background-color":w},innerHtml:Z}:K})(),optComponents:[]}},CN=(n,s)=>{const i=n.map(f=>({attributes:{id:me("menu-item"),"aria-label":md.translate(f)}})).getOr({});return{tag:"div",classes:[AO,EE].concat(s),...i}},PF=n=>({dom:{tag:"label"},components:[Ra(n)]}),cG=(n,s,i,f)=>{const b={tag:"div",classes:[DO]},w=ae=>lh(ae,b,s.icons,f),S=()=>F.some({dom:b}),_=i?n.iconContent.map(w).orThunk(S):F.none(),M=n.checkMark,H=F.from(n.meta).fold(()=>MF,ae=>ts(ae,"style")?fn(vN,ae.style):MF),Z=n.htmlContent.fold(()=>n.textContent.map(H),ae=>F.some(m4(ae,[Gb])));return{dom:CN(n.ariaLabel,[]),optComponents:[_,Z,n.shortcutContent.map(xN),M,n.caret,n.labelContent.map(PF)]}},uG=n=>({dom:CN(n.ariaLabel,[rW]),optComponents:[F.some(aG(n.iconContent.getOrDie(),{tag:"div",classes:[Qk],checkMark:n.checkMark})),n.labelContent.map(PF)]}),eC=(n,s,i,f=F.none())=>n.presets==="color"?LF(n,s,f):n.presets==="img"?uG(n):cG(n,s,i,f),FF=(n,s,i)=>Hn(n,"tooltipWorker").map(f=>[va.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:b=>({type:"submenu",item:b,overrides:{maxHeightFunction:Gh}}),mode:"follow-highlight",onShow:(b,w)=>{f(S=>{va.setComponents(b,[Zf({element:mn.fromDom(S)})])})}})]).getOrThunk(()=>i.map(f=>[va.config({...s.providers.tooltips.getConfig({tooltipText:f}),mode:"follow-highlight"})]).getOr([])),dG=n=>Pw.DOM.encode(n),SN=(n,s)=>{const i=md.translate(n),f=dG(i);if(s.length>0){const b=new RegExp(Qf(s),"gi");return f.replace(b,w=>`<span class="tox-autocompleter-highlight">${w}</span>`)}else return f},fG=(n,s,i,f,b,w,S,_=!0)=>{const M=eC({presets:f,textContent:F.none(),htmlContent:i?n.text.map(Z=>SN(Z,s)):F.none(),ariaLabel:n.text,labelContent:F.none(),iconContent:n.icon,shortcutContent:F.none(),checkMark:F.none(),caret:F.none(),value:n.value},S.providers,_,n.icon),H=n.text.filter(Z=>!i&&Z!=="");return n2({context:"mode:design",data:Jb(n),enabled:n.enabled,getApi:ie({}),onAction:Z=>b(n.value,n.meta),onSetup:ie(J),triggersSubmenu:!1,itemBehaviours:FF(n,S,H)},M,w,S.providers)},$F=(n,s)=>He(n,i=>{switch(i.type){case"cardcontainer":return lG(i,$F(i.items,s));case"cardimage":return BF(i.src,i.classes,i.alt);case"cardtext":const b=i.name.exists(w=>Ve(s.cardText.highlightOn,w))?F.from(s.cardText.matchText).getOr(""):"";return m4(SN(i.text,b),i.classes)}}),mG=(n,s,i,f)=>{const b=S=>({isEnabled:()=>!eo.isDisabled(S),setEnabled:_=>{eo.set(S,!_),dt(ta(S.element,"*"),M=>{S.getSystem().getByDom(M).each(H=>{H.hasConfigured(eo)&&eo.set(H,!_)})})}}),w={dom:CN(n.label,[]),optComponents:[F.some({dom:{tag:"div",classes:[$P,IP]},components:$F(n.items,f)})]};return n2({context:"mode:design",data:Jb({text:F.none(),...n}),enabled:n.enabled,getApi:b,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:F.from(f.itemBehaviours).getOr([])},w,s,i.providers)},EN=(n,s,i,f,b,w,S,_=!0)=>{const M=K=>({setActive:ae=>{Ms.set(K,ae)},isActive:()=>Ms.isOn(K),isEnabled:()=>!eo.isDisabled(K),setEnabled:ae=>eo.set(K,!ae)}),H=eC({presets:i,textContent:s?n.text:F.none(),htmlContent:F.none(),labelContent:n.label,ariaLabel:n.text,iconContent:n.icon,shortcutContent:s?n.shortcut:F.none(),checkMark:s?F.some(wN(S.icons)):F.none(),caret:F.none(),value:n.value},S,_),Z=n.text.filter(ie(!s)).map(K=>va.config(S.tooltips.getConfig({tooltipText:S.translate(K)})));return qt(n2({context:n.context,data:Jb(n),enabled:n.enabled,getApi:M,onAction:K=>f(n.value),onSetup:K=>(K.setActive(b),J),triggersSubmenu:!1,itemBehaviours:[...Z.toArray()]},H,w,S),{toggling:{toggleClass:kO,toggleOnExecute:!1,selected:n.active,exclusive:!0}})},h4=n=>({value:o2(n)}),g4=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,IF=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,p4=n=>g4.test(n)||IF.test(n),o2=n=>Sf(n,"#").toUpperCase(),HF=n=>p4(n)?F.some({value:o2(n)}):F.none(),zF=n=>({value:n.value.replace(g4,(i,f,b,w)=>f+f+b+b+w+w)}),jF=n=>{const s=zF(n),i=IF.exec(s.value);return i===null?["FFFFFF","FF","FF","FF"]:i},TN=n=>{const s=n.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},FE=n=>{const s=TN(n.red)+TN(n.green)+TN(n.blue);return h4(s)},bv=(n,s,i)=>({hue:n,saturation:s,value:i}),AN=n=>{let s=0,i=0,f=0;const b=n.red/255,w=n.green/255,S=n.blue/255,_=Math.min(b,Math.min(w,S)),M=Math.max(b,Math.max(w,S));if(_===M)return f=_,bv(0,0,f*100);const H=b===_?w-S:S===_?b-w:S-b;return s=b===_?3:S===_?1:5,s=60*(s-H/(M-_)),i=(M-_)/M,f=M,bv(Math.round(s),Math.round(i*100),Math.round(f*100))},VF=Math.min,kN=Math.max,$E=Math.round,DN=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,UF=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,kc=(n,s,i,f)=>({red:n,green:s,blue:i,alpha:f}),b4=n=>{const s=parseInt(n,10);return s.toString()===n&&s>=0&&s<=255},ZF=n=>{let s,i,f;const b=(n.hue||0)%360;let w=n.saturation/100,S=n.value/100;if(w=kN(0,VF(w,1)),S=kN(0,VF(S,1)),w===0)return s=i=f=$E(255*S),kc(s,i,f,1);const _=b/60,M=S*w,H=M*(1-Math.abs(_%2-1)),Z=S-M;switch(Math.floor(_)){case 0:s=M,i=H,f=0;break;case 1:s=H,i=M,f=0;break;case 2:s=0,i=M,f=H;break;case 3:s=0,i=H,f=M;break;case 4:s=H,i=0,f=M;break;case 5:s=M,i=0,f=H;break;default:s=i=f=0}return s=$E(255*(s+Z)),i=$E(255*(i+Z)),f=$E(255*(f+Z)),kc(s,i,f,1)},IE=n=>{const s=jF(n),i=parseInt(s[1],16),f=parseInt(s[2],16),b=parseInt(s[3],16);return kc(i,f,b,1)},_N=(n,s,i,f)=>{const b=parseInt(n,10),w=parseInt(s,10),S=parseInt(i,10),_=parseFloat(f);return kc(b,w,S,_)},ON=n=>{const s=DN.exec(n);if(s!==null)return F.some(_N(s[1],s[2],s[3],"1"));const i=UF.exec(n);return i!==null?F.some(_N(i[1],i[2],i[3],i[4])):F.none()},WF=n=>`rgba(${n.red},${n.green},${n.blue},${n.alpha})`,qF=kc(255,0,0,1),GF=n=>AN(IE(n)),T0=n=>FE(ZF(n)),NN=n=>HF(n).orThunk(()=>ON(n).map(FE)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const i=s.getContext("2d");i.clearRect(0,0,s.width,s.height),i.fillStyle="#FFFFFF",i.fillStyle=n,i.fillRect(0,0,1,1);const f=i.getImageData(0,0,1,1).data,b=f[0],w=f[1],S=f[2],_=f[3];return FE(kc(b,w,S,_))}),KF=n=>{n.dispatch("SkinLoaded")},y4=(n,s)=>{n.dispatch("SkinLoadError",s)},RN=n=>{n.dispatch("ResizeEditor")},MN=(n,s)=>{n.dispatch("ResizeContent",s)},hG=(n,s)=>{n.dispatch("ScrollContent",s)},YF=(n,s)=>{n.dispatch("TextColorChange",s)},gG=(n,s)=>{n.dispatch("AfterProgressState",{state:s})},pG=(n,s)=>n.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),bG=(n,s)=>{n.dispatch("ToggleToolbarDrawer",{state:s})},yG=(n,s)=>{n.dispatch("StylesTextUpdate",s)},XF=(n,s)=>{n.dispatch("AlignTextUpdate",s)},vG=(n,s)=>{n.dispatch("FontSizeTextUpdate",s)},A1=(n,s)=>{n.dispatch("FontSizeInputTextUpdate",s)},v4=(n,s)=>{n.dispatch("BlocksTextUpdate",s)},xG=(n,s)=>{n.dispatch("FontFamilyTextUpdate",s)},wG=n=>{n.dispatch("ToggleSidebar")},QF=n=>{n.dispatch("ToggleView")},BN=n=>{n.dispatch("ContextToolbarClose")},LN=n=>{n.dispatch("ContextFormSlideBack")},s2=(n,s)=>()=>{n(),s()},zc=(n,s=Lt)=>yv(n,"NodeChange",i=>{i.setEnabled(n.selection.isEditable()&&s())}),HE=(n,s)=>i=>{const f=Ir(),b=()=>{i.setActive(n.formatter.match(s));const w=n.formatter.formatChanged(s,i.setActive);f.set(w)};return n.initialized?b():n.once("init",b),()=>{n.off("init",b),f.clear()}},zE=(n,s)=>i=>{const f=zc(n)(i),b=HE(n,s)(i);return()=>{f(),b()}},yv=(n,s,i)=>f=>{const b=()=>i(f),w=()=>{i(f),n.on(s,b)};return n.initialized?w():n.once("init",w),()=>{n.off("init",w),n.off(s,b)}},x4=n=>s=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("mceToggleFormat",!1,s.format)})},bf=(n,s)=>()=>n.execCommand(s);var r2=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const JF={},e7=(n,s=10)=>{const i=r2.getItem(n),f=z(i)?JSON.parse(i):[],w=(H=>s-H.length<0?H.slice(0,s):H)(f),S=H=>{le(w,H).each(_),w.unshift(H),w.length>s&&w.pop(),r2.setItem(n,JSON.stringify(w))},_=H=>{w.splice(H,1)};return{add:S,state:()=>w.slice(0)}},PN=n=>Hn(JF,n).getOrThunk(()=>{const s=`tinymce-custom-colors-${n}`,i=r2.getItem(s);if(be(i)){const b=r2.getItem("tinymce-custom-colors");r2.setItem(s,$e(b)?b:"[]")}const f=e7(s,10);return JF[n]=f,f}),CG=n=>He(PN(n).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),FN=(n,s)=>{PN(n).add(s)},w4="forecolor",$N="hilitecolor",t7=5,SG=n=>IN(n.map((s,i)=>i%2===0?"#"+NN(s).value:s)),IN=n=>{const s=[];for(let i=0;i<n.length;i+=2)s.push({text:n[i+1],value:n[i],icon:"checkmark",type:"choiceitem"});return s},yf=n=>s=>s.options.get(n),HN="#000000",n7=n=>{const s=n.options.register,i=w=>Se(w,z)?{value:SG(w),valid:!0}:{valid:!1,message:"Must be an array of strings."},f=w=>Se(w,z)?{value:IN(w),valid:!0}:{valid:!1,message:"Must be an array of strings."},b=w=>it(w)&&w>0?{value:w,valid:!0}:{valid:!1,message:"Must be a positive number."};s("color_map",{processor:i,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_raw",{processor:f}),s("color_map_background",{processor:i}),s("color_map_foreground",{processor:i}),s("color_cols",{processor:b,default:zN(n)}),s("color_cols_foreground",{processor:b,default:o7(n,w4)}),s("color_cols_background",{processor:b,default:o7(n,$N)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:HN}),s("color_default_background",{processor:"string",default:HN})},C4=(n,s)=>s===w4&&n.options.isSet("color_map_foreground")?yf("color_map_foreground")(n):s===$N&&n.options.isSet("color_map_background")?yf("color_map_background")(n):n.options.isSet("color_map_raw")?yf("color_map_raw")(n):yf("color_map")(n),zN=(n,s="default")=>Math.max(t7,Math.ceil(Math.sqrt(C4(n,s).length))),o7=(n,s)=>{const i=yf("color_cols")(n),f=zN(n,s);return i===zN(n)?f:i},s7=(n,s="default")=>Math.round(s===w4?yf("color_cols_foreground")(n):s===$N?yf("color_cols_background")(n):yf("color_cols")(n)),jN=yf("custom_colors"),EG=yf("color_default_foreground"),r7=yf("color_default_background"),VN="rgba(0, 0, 0, 0)",k1=n=>ON(n).exists(s=>s.alpha!==0),UN=n=>Cr(n,s=>{if(Yc(s)){const i=yr(s,"background-color");return Sa(k1(i),i)}else return F.none()}).getOr(VN),ZN=(n,s)=>{const i=mn.fromDom(n.selection.getStart()),f=s==="hilitecolor"?UN(i):yr(i,"color");return ON(f).map(b=>"#"+FE(b).value)},a7=(n,s,i)=>{n.undoManager.transact(()=>{n.focus(),n.formatter.apply(s,{value:i}),n.nodeChanged()})},i7=(n,s)=>{n.undoManager.transact(()=>{n.focus(),n.formatter.remove(s,{value:null},void 0,!0),n.nodeChanged()})},l7=n=>{n.addCommand("mceApplyTextcolor",(s,i)=>{a7(n,s,i)}),n.addCommand("mceRemoveTextcolor",s=>{i7(n,s)})},S4=n=>{const s="choiceitem",i={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return n?[i,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]},E4=(n,s,i,f)=>{i==="custom"?GN(n)(w=>{w.each(S=>{FN(s,S),n.execCommand("mceApplyTextcolor",s,S),f(S)})},ZN(n,s).getOr(HN)):i==="remove"?(f(""),n.execCommand("mceRemoveTextcolor",s)):(f(i),n.execCommand("mceApplyTextcolor",s,i))},tC=(n,s,i)=>n.concat(CG(s).concat(S4(i))),WN=(n,s,i)=>f=>{f(tC(n,s,i))},T4=(n,s,i)=>{const f=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";n.setIconFill(f,i)},c7=(n,s)=>{n.setTooltip(s)},u7=(n,s)=>i=>{const f=ZN(n,s);return oo(f,i.toUpperCase())},qN=(n,s,i)=>{if(Ri(i))return s==="forecolor"?"Text color":"Background color";const f=s==="forecolor"?"Text color {0}":"Background color {0}",b=tC(C4(n,s),s,!1),w=Be(b,S=>S.value===i).getOr({text:""}).text;return n.translate([f,n.translate(w)])},d7=(n,s,i,f)=>{n.ui.registry.addSplitButton(s,{tooltip:qN(n,i,f.get()),chevronTooltip:s==="forecolor"?"Text color menu":"Background color menu",presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:u7(n,i),columns:s7(n,i),fetch:WN(C4(n,i),i,jN(n)),onAction:b=>{E4(n,i,f.get(),J)},onItemAction:(b,w)=>{E4(n,i,w,S=>{f.set(S),YF(n,{name:s,color:S})})},onSetup:b=>{T4(b,s,f.get());const w=S=>{S.name===s&&(T4(b,S.name,S.color),c7(b,qN(n,i,S.color)))};return n.on("TextColorChange",w),s2(zc(n)(b),()=>{n.off("TextColorChange",w)})}})},f7=(n,s,i,f,b)=>{n.ui.registry.addNestedMenuItem(s,{text:f,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:w=>(c7(w,qN(n,i,b.get())),T4(w,s,b.get()),zc(n)(w)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:u7(n,i),initData:{storageKey:i},onAction:w=>{E4(n,i,w.value,S=>{b.set(S),YF(n,{name:s,color:S})})}}]})},GN=n=>(s,i)=>{let f=!1;const b=_=>{const H=_.getData().colorpicker;f?(s(F.from(H)),_.close()):n.windowManager.alert(n.translate(["Invalid hex color code: {0}",H]))},w=(_,M)=>{M.name==="hex-valid"&&(f=M.value)},S={colorpicker:i};n.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:S,onAction:w,onSubmit:b,onClose:J,onCancel:()=>{s(F.none())}})},m7=n=>{l7(n);const s=EG(n),i=r7(n),f=Mn(s),b=Mn(i);d7(n,"forecolor","forecolor",f),d7(n,"backcolor","hilitecolor",b),f7(n,"forecolor","forecolor","Text color",f),f7(n,"backcolor","hilitecolor","Background color",b)},TG=(n,s,i,f,b)=>{const w=M=>({setActive:H=>{Ms.set(M,H)},isActive:()=>Ms.isOn(M),isEnabled:()=>!eo.isDisabled(M),setEnabled:H=>eo.set(M,!H)}),S=eC({presets:"img",textContent:F.none(),htmlContent:F.none(),ariaLabel:n.tooltip,iconContent:F.some(n.url),labelContent:n.label,shortcutContent:F.none(),checkMark:F.some(wN(b.icons)),caret:F.none(),value:n.value},b,!0),_=n.tooltip.map(M=>va.config(b.tooltips.getConfig({tooltipText:b.translate(M)})));return qt(n2({context:n.context,data:Jb(n),enabled:n.enabled,getApi:w,onAction:M=>{s(n.value),M.setActive(!0)},onSetup:M=>(M.setActive(i),J),triggersSubmenu:!1,itemBehaviours:[..._.toArray()]},S,f,b),{toggling:{toggleClass:kO,toggleOnExecute:!1,selected:n.active,exclusive:!0}})},A4=(n,s,i,f,b,w,S,_)=>{const M=DE(s),Z=AG(s,i,f,b!=="color"?"normal":"color",w,S,_);return IO(n,M,Z,f,{menuType:b})},AG=(n,s,i,f,b,w,S)=>Uo(He(n,_=>_.type==="choiceitem"?Lq(_).fold(w0,M=>F.some(EN(M,i===1,f,s,w(M.value),b,S,DE(n)))):_.type==="imageitem"?OF(_).fold(w0,M=>F.some(TG(M,s,w(M.value),b,S))):_.type==="resetimage"?dN(_).fold(w0,M=>F.some(EN({...M,text:M.tooltip,icon:F.some(M.icon),label:F.some(M.label)},i===1,f,s,w(M.value),b,S,DE(n)))):F.none())),vv=(n,s)=>{const i=S1(s);return n===1?{mode:"menu",moveOnTab:!0}:n==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+{color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[s],previousSelector:b=>s==="color"?ur(b.element,"[aria-checked=true]"):F.none()}},kG=(n,s)=>n===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:n==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${fv}`:`.${EE}`}},DG=(n,s)=>{const i=h7(n,s),f=s.colorinput.getColorCols(n.initData.storageKey),b="color",S={...A4(me("menu-value"),i,_=>{n.onAction({value:_})},f,b,ip.CLOSE_ON_EXECUTE,n.select.getOr(yt),s.shared.providers),markers:S1(b),movement:vv(f,b),showMenuRole:!1};return{type:"widget",data:{value:me("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[C5.widget(Ub.sketch(S))]}},h7=(n,s)=>{const i=n.initData.allowCustomColors&&s.colorinput.hasCustomColors();return n.initData.colors.fold(()=>tC(s.colorinput.getColors(n.initData.storageKey),n.initData.storageKey,i),f=>f.concat(S4(i)))},g7=(n,s)=>{const i="imageselector",f=n.initData.columns,w={...A4(me("menu-value"),n.initData.items,S=>{n.onAction({value:S})},f,i,ip.CLOSE_ON_EXECUTE,n.select.getOr(yt),s.shared.providers),markers:S1(i),movement:vv(f,i),showMenuRole:!1};return{type:"widget",data:{value:me("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:!0,components:[C5.widget(Ub.sketch(w))]}},p7=me("cell-over"),b7=me("cell-execute"),KN=n=>(s,i)=>n.shared.providers.translate(["{0} columns, {1} rows",i,s]),_G=(n,s,i)=>{const f=S=>so(S,p7,{row:n,col:s}),b=S=>so(S,b7,{row:n,col:s}),w=(S,_)=>{_.stop(),b(S)};return E({dom:{tag:"div",attributes:{role:"button","aria-label":i}},behaviours:a([fe("insert-table-picker-cell",[Mt(Jl(),et.focus),Mt(Ls(),b),Mt(dm(),w),Mt(xr(),w)]),Ms.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),et.config({onFocus:f})])})},y7=(n,s,i)=>{const f=[];for(let b=0;b<s;b++){const w=[];for(let S=0;S<i;S++){const _=n(b+1,S+1);w.push(_G(b,S,_))}f.push(w)}return f},OG=(n,s,i,f,b)=>{for(let w=0;w<f;w++)for(let S=0;S<b;S++)Ms.set(n[w][S],w<=s&&S<=i)},NG=n=>Le(n,s=>He(s,D)),v7=(n,s)=>Ra(`${s}x${n}`),YN={inserttable:(n,s)=>{const b=KN(s),w=y7(b,10,10),S=v7(0,0),_=gr({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[S],behaviours:a([jo.config({})])});return{type:"widget",data:{value:me("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[C5.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:NG(w).concat(_.asSpec()),behaviours:a([fe("insert-table-picker",[Lr(M=>{jo.set(_.get(M),[S])}),e0(p7,(M,H,Z)=>{const{row:K,col:ae}=Z.event;OG(w,K,ae,10,10),jo.set(_.get(M),[v7(K+1,ae+1)])}),e0(b7,(M,H,Z)=>{const{row:K,col:ae}=Z.event;fs(M,Na()),n.onAction({numRows:K+1,numColumns:ae+1})})]),lo.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:DG,imageselect:g7},MG=(n,s)=>Hn(YN,n.fancytype).map(i=>i(n,s)),BG=(n,s,i,f=!0,b=!1)=>{const w=b?iG(i.icons):ch(i.icons),S=M=>({isEnabled:()=>!eo.isDisabled(M),setEnabled:H=>eo.set(M,!H),setIconFill:(H,Z)=>{ur(M.element,`svg path[class="${H}"], rect[class="${H}"]`).each(K=>{uo(K,"fill",Z)})},setTooltip:H=>{const Z=i.translate(H);uo(M.element,"aria-label",Z)}}),_=eC({presets:"normal",iconContent:n.icon,textContent:n.text,htmlContent:F.none(),ariaLabel:n.text,labelContent:F.none(),caret:F.some(w),checkMark:F.none(),shortcutContent:n.shortcut},i,f);return n2({context:n.context,data:Jb(n),getApi:S,enabled:n.enabled,onAction:J,onSetup:n.onSetup,triggersSubmenu:!0,itemBehaviours:[]},_,s,i)},LG=(n,s,i,f=!0)=>{const b=S=>({isEnabled:()=>!eo.isDisabled(S),setEnabled:_=>eo.set(S,!_)}),w=eC({presets:"normal",iconContent:n.icon,textContent:n.text,htmlContent:F.none(),labelContent:F.none(),ariaLabel:n.text,caret:F.none(),checkMark:F.none(),shortcutContent:n.shortcut},i,f);return n2({context:n.context,data:Jb(n),getApi:b,enabled:n.enabled,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:[]},w,s,i)},PG=n=>({type:"separator",dom:{tag:"div",classes:[EE,PP]},components:n.text.map(Ra).toArray()}),x7=(n,s,i,f=!0)=>{const b=S=>({setActive:_=>{Ms.set(S,_)},isActive:()=>Ms.isOn(S),isEnabled:()=>!eo.isDisabled(S),setEnabled:_=>eo.set(S,!_)}),w=eC({iconContent:n.icon,textContent:n.text,htmlContent:F.none(),labelContent:F.none(),ariaLabel:n.text,checkMark:F.some(wN(i.icons)),caret:F.none(),shortcutContent:n.shortcut,presets:"normal",meta:n.meta},i,f);return qt(n2({context:n.context,data:Jb(n),enabled:n.enabled,getApi:b,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:[]},w,s,i),{toggling:{toggleClass:kO,toggleOnExecute:!1,selected:n.active},role:n.role.getOrUndefined()})},w7=fG,XN=PG,FG=LG,$G=BG,IG=x7,HG=MG,zG=mG,jG=n=>n.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:n},VG=n=>{const s=In.getValue(n),i=AE(n).map(RO);Gf.refetch(s).get(()=>{const f=Wo.getCoupled(s,"sandbox");i.each(b=>AE(f).each(w=>fW(w,b)))})},UG=(n,s)=>{ZG(n).each(i=>{rx(n,i.element,s.event.eventType,s.event.interactionEvent)})},ZG=n=>ar.getState(n).bind(fr.getHighlighted).bind(fr.getHighlighted),QN=n=>Da(n.element,e4)?F.some(n.element):ur(n.element,"."+e4),C7=(n,s,i)=>{UP(n).each(f=>{ZP(f,i),QN(s).each(w=>{ii(w,"id").each(S=>uo(f.element,"aria-controls",S))})}),uo(i.element,"aria-selected","true")},WG=(n,s,i)=>{uo(i.element,"aria-selected","false")},qG=n=>{UP(n).each(s=>et.focus(s))},jE=n=>Wo.getExistingCoupled(n,"sandbox").bind(AE).map(RO).map(i=>i.fetchPattern).getOr("");var nC;(function(n){n[n.ContentFocus=0]="ContentFocus",n[n.UiFocus=1]="UiFocus"})(nC||(nC={}));const GG=(n,s,i,f,b)=>{const w=i.shared.providers,S=_=>b?{..._,shortcut:F.none(),icon:_.text.isSome()?F.none():_.icon}:_;switch(n.type){case"menuitem":return Hq(n).fold(w0,_=>F.some(FG(S(_),s,w,f)));case"nestedmenuitem":return jq(n).fold(w0,_=>F.some($G(S(_),s,w,f,b)));case"togglemenuitem":return Uq(n).fold(w0,_=>F.some(IG(S(_),s,w,f)));case"separator":return bq(n).fold(w0,_=>F.some(XN(_)));case"fancymenuitem":return _F(n).fold(w0,_=>HG(_,i));default:return console.error("Unknown item in general menu",n),F.none()}},KG=(n,s,i,f,b,w,S)=>{const _=f===1,M=!_||DE(n);return Uo(He(n,H=>{switch(H.type){case"separator":return vq(H).fold(w0,Z=>F.some(XN(Z)));case"cardmenuitem":return lN(H).fold(w0,Z=>F.some(zG({...Z,onAction:K=>{Z.onAction(K),i(Z.value,Z.meta)}},b,w,{itemBehaviours:FF(Z.meta,w,F.none()),cardText:{matchText:s,highlightOn:S}})));default:return xq(H).fold(w0,Z=>F.some(w7(Z,s,_,"normal",i,b,w,M)))}}))},k4=(n,s,i,f,b,w)=>{const S=DE(s),_=Uo(He(s,Z=>{const K=he=>b?!ts(he,"text"):S,ae=he=>GG(he,i,f,K(he),b);return Z.type==="nestedmenuitem"&&Z.getSubmenuItems().length<=0?ae({...Z,enabled:!1}):ae(Z)})),M=jG(w);return(b?KP:IO)(n,S,_,1,M)},JN=n=>$x.singleData(n.value,n),eR=(n,s,i,f)=>{const b=vv(s,f),w=S1(f);return{data:JN({...n,movement:b,menuBehaviours:Jw.unnamedEvents(s!=="auto"?[]:[Lr((S,_)=>{gN(S,4,w.item).each(({numColumns:M,numRows:H})=>{lo.setGridSize(S,H,M)})})])}),menu:{markers:S1(f),fakeFocus:i===nC.ContentFocus}}},S7=n=>P.create(mn.fromDom(n.startContainer),n.startOffset,mn.fromDom(n.endContainer),n.endOffset),YG={register:(n,s)=>{const i=me("autocompleter"),f=Mn(!1),b=Mn(!1),w=Co(),S=E(mi.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:i}},components:[],fireDismissalEventInstead:{},inlineBehaviours:a([fe("dismissAutocompleter",[Mt(mm(),()=>K()),Mt(fb(),(Te,Ye)=>{ii(Ye.event.target,"id").each(st=>uo(mn.fromDom(n.getBody()),"aria-activedescendant",st))})])]),lazySink:s.getSink})),_=()=>mi.isOpen(S),M=b.get,H=()=>{if(_()){mi.hide(S),n.dom.remove(i,!1);const Te=mn.fromDom(n.getBody());ii(Te,"aria-owns").filter(Ye=>Ye===i).each(()=>{cr(Te,"aria-owns"),cr(Te,"aria-activedescendant")})}},Z=()=>mi.getContent(S).bind(Te=>Tt(Te.components(),0)),K=()=>n.execCommand("mceAutocompleterClose"),ae=Te=>{const Ye=Jo(Te,st=>F.from(st.columns)).getOr(1);return Le(Te,st=>{const wt=st.items;return KG(wt,st.matchText,(Ot,kn)=>{const Jt={hide:()=>K(),reload:rn=>{H(),n.execCommand("mceAutocompleterReload",!1,{fetchOptions:rn})}};n.execCommand("mceAutocompleterRefreshActiveRange"),w.get().each(rn=>{f.set(!0),st.onAction(Jt,rn,Ot,kn),f.set(!1)})},Ye,ip.BUBBLE_TO_SANDBOX,s,st.highlightOn)})},he=(Te,Ye)=>{const st=Jo(Te,wt=>F.from(wt.columns)).getOr(1);mi.showMenuAt(S,{anchor:{type:"selection",getSelection:()=>w.get().map(S7),root:mn.fromDom(n.getBody())}},eR(IO("autocompleter-value",!0,Ye,st,{menuType:"normal"}),st,nC.ContentFocus,"normal")),Z().each(fr.highlightFirst)},xe=Te=>{const Ye=ae(Te);Ye.length>0?(he(Te,Ye),uo(mn.fromDom(n.getBody()),"aria-owns",i),n.inline||Oe()):H()},Oe=()=>{n.dom.get(i)&&n.dom.remove(i,!1);const Te=n.getDoc().documentElement,Ye=n.selection.getNode(),st=Cl(S.element);Or(st,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${Ye.offsetTop}px`,left:`${Ye.offsetLeft}px`}),n.dom.add(Te,st.dom),ur(st,'[role="menu"]').each(wt=>{cs(wt,"position"),cs(wt,"max-height")})};n.on("AutocompleterStart",({lookupData:Te})=>{b.set(!0),f.set(!1),xe(Te)}),n.on("AutocompleterUpdate",({lookupData:Te})=>xe(Te)),n.on("AutocompleterUpdateActiveRange",({range:Te})=>w.set(Te)),n.on("AutocompleterEnd",()=>{H(),b.set(!1),f.set(!1),w.clear()});const ze={cancelIfNecessary:K,isMenuOpen:_,isActive:M,isProcessingAction:f.get,getMenu:Z};sW.setup(ze,n)}},E7=(n,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:He(n.items,s.interpreter)});var XG=tinymce.util.Tools.resolve("tinymce.html.Entities");const oC=(n,s,i,f)=>{const b=T7(n,s,i,f);return ks.sketch(b)},QG=(n,s)=>oC(n,s,[],[]),T7=(n,s,i,f)=>({dom:k7(i),components:n.toArray().concat([s]),fieldBehaviours:a(f)}),A7=()=>k7([]),k7=n=>({tag:"div",classes:["tox-form__group"].concat(n)}),ey=(n,s)=>ks.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ra(s.translate(n))]}),vf=me("form-component-change"),D7=me("form-component-input"),a2=me("form-close"),ty=me("form-cancel"),lp=me("form-action"),VE=me("form-submit"),tR=me("form-block"),D4=me("form-unblock"),_7=me("form-tabchange"),nR=me("form-resize"),JG=(n,s,i)=>{const f=n.label.map(he=>ey(he,s)),b=s.icons(),w=he=>b[he]??he,S=he=>(xe,Oe)=>{yi(Oe.event.target,"[data-collection-item-value]").each(ze=>{he(xe,Oe,ze,ea(ze,"data-collection-item-value"))})},_=(he,xe)=>{const ze=s.checkUiComponentContext("mode:design").shouldDisable||s.isDisabled()?" tox-collection__item--state-disabled":"",Te=He(xe,wt=>{const Ot=md.translate(wt.text),kn=n.columns===1?`<div class="tox-collection__item-label">${Ot}</div>`:"",Jt=`<div class="tox-collection__item-icon">${w(wt.icon)}</div>`,rn={_:" "," - ":" ","-":" "},on=Ot.replace(/\_| \- |\-/g,mo=>rn[mo]);return`<div data-mce-tooltip="${on}" class="tox-collection__item${ze}" tabindex="-1" data-collection-item-value="${XG.encodeAllRaw(wt.value)}" aria-label="${on}">${Jt}${kn}</div>`}),Ye=n.columns!=="auto"&&n.columns>1?ft(Te,n.columns):[Te],st=He(Ye,wt=>`<div class="tox-collection__group">${wt.join("")}</div>`);Rl(he.element,st.join(""))},M=S((he,xe,Oe,ze)=>{xe.stop(),s.checkUiComponentContext("mode:design").shouldDisable||s.isDisabled()||so(he,lp,{name:n.name,value:ze})}),H=[Mt(Jl(),S((he,xe,Oe)=>{Fa(Oe,!0)})),Mt(dm(),M),Mt(xr(),M),Mt(ec(),S((he,xe,Oe)=>{ur(he.element,"."+Wx).each(ze=>{ha(ze,Wx)}),nr(Oe,Wx)})),Mt(lb(),S(he=>{ur(he.element,"."+Wx).each(xe=>{ha(xe,Wx),ma(xe)})})),wm(S((he,xe,Oe,ze)=>{so(he,lp,{name:n.name,value:ze})}))],Z=(he,xe)=>He(ta(he.element,".tox-collection__item"),xe),K=ks.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(n.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:ct},behaviours:a([eo.config({disabled:()=>s.checkUiComponentContext(n.context).shouldDisable,onDisabled:he=>{Z(he,xe=>{nr(xe,"tox-collection__item--state-disabled"),uo(xe,"aria-disabled",!0)})},onEnabled:he=>{Z(he,xe=>{ha(xe,"tox-collection__item--state-disabled"),cr(xe,"aria-disabled")})}}),nl(()=>s.checkUiComponentContext(n.context)),jo.config({}),va.config({...s.tooltips.getConfig({tooltipText:"",onShow:he=>{ur(he.element,"."+Wx+"[data-mce-tooltip]").each(xe=>{ii(xe,"data-mce-tooltip").each(Oe=>{va.setComponents(he,s.tooltips.getComponents({tooltipText:Oe}))})})}}),mode:"children-keyboard-focus",anchor:he=>({type:"node",node:ur(he.element,"."+Wx).orThunk(()=>Ag(".tox-collection__item")),root:he.element,layouts:{onLtr:ie([Oi,ya,Ji,Al,Kr,kl]),onRtl:ie([Oi,ya,Ji,Al,Kr,kl])},bubble:mu(0,-2,{})})}),In.config({store:{mode:"memory",initialValue:i.getOr([])},onSetValue:(he,xe)=>{_(he,xe),n.columns==="auto"&&gN(he,5,"tox-collection__item").each(({numRows:Oe,numColumns:ze})=>{lo.setGridSize(he,Oe,ze)}),fs(he,nR)}}),ua.config({}),lo.config(kG(n.columns,"normal")),fe("collection-events",H)]),eventOrder:{[Ls()]:["disabling","alloy.base.behaviour","collection-events"],[ec()]:["collection-events","tooltipping"]}});return oC(f,K,["tox-form__group--collection"],[])},eK=(n,s)=>Gf.sketch({dom:n.dom,components:n.components,toggleClass:"mce-active",dropdownBehaviours:a([S0.button(()=>s.providers.isDisabled()||s.providers.checkUiComponentContext(n.context).shouldDisable),nl(()=>s.providers.checkUiComponentContext(n.context)),m0.config({}),ua.config({})]),layouts:n.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:i=>ls.nu(f=>n.fetch(f)).map(f=>F.from(JN(qt(A4(me("menu-value"),f,b=>{n.onItemAction(i,b)},n.columns,n.presets,ip.CLOSE_ON_EXECUTE,yt,s.providers),{movement:vv(n.columns,n.presets)})))),parts:{menu:TE(!1,1,n.presets)}}),_4=me("color-input-change"),O7=me("color-swatch-change"),N7=me("color-picker-cancel"),tK=(n,s,i,f)=>{const b=ks.parts.field({factory:C1,inputClasses:["tox-textfield"],data:f,onSetValue:H=>sh.run(H).get(J),inputBehaviours:a([eo.config({disabled:()=>s.providers.isDisabled()||s.providers.checkUiComponentContext(n.context).shouldDisable}),nl(()=>s.providers.checkUiComponentContext(n.context)),ua.config({}),sh.config({invalidClass:"tox-textbox-field-invalid",getRoot:H=>Tu(H.element),notify:{onValid:H=>{const Z=In.getValue(H);so(H,_4,{color:Z})}},validator:{validateOnLoad:!1,validate:H=>{const Z=In.getValue(H);if(Z.length===0)return ls.pure(Pn.value(!0));{const K=mn.fromTag("span");So(K,"background-color",Z);const ae=Gr(K,"background-color").fold(()=>Pn.error("blah"),he=>Pn.value(Z));return ls.pure(ae)}}}})]),selectOnFocus:!1}),w=n.label.map(H=>ey(H,s.providers)),S=(H,Z)=>{so(H,O7,{value:Z})},_=(H,Z)=>{M.getOpt(H).each(K=>{Z==="custom"?i.colorPicker(ae=>{ae.fold(()=>fs(K,N7),he=>{S(K,he),FN(n.storageKey,he)})},"#ffffff"):Z==="remove"?S(K,""):S(K,Z)})},M=gr(eK({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Kr,Ji,Oi],onLtr:()=>[Ji,Kr,Oi]},components:[],fetch:WN(i.getColors(n.storageKey),n.storageKey,i.hasCustomColors()),columns:i.getColorCols(n.storageKey),presets:"color",onItemAction:_,context:n.context},s));return ks.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:w.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[b,M.asSpec()]}]),fieldBehaviours:a([fe("form-field-events",[Mt(_4,(H,Z)=>{M.getOpt(H).each(K=>{So(K.element,"background-color",Z.event.color)}),so(H,vf,{name:n.name})}),Mt(O7,(H,Z)=>{ks.getField(H).each(K=>{In.setValue(K,Z.event.value),$t.getCurrent(H).each(et.focus)})}),Mt(N7,(H,Z)=>{ks.getField(H).each(K=>{$t.getCurrent(H).each(et.focus)})})])])})},cp={self:()=>$t.config({find:F.some}),memento:n=>$t.config({find:n.getOpt}),childAt:n=>$t.config({find:s=>tm(s.element,n).bind(i=>s.getSystem().getByDom(i).toOptional())})},M7=fo([pt("preprocess",ct),pt("postprocess",ct)]),oK=(n,s)=>{const i=Mc("RepresentingConfigs.memento processors",M7,s);return In.config({store:{mode:"manual",getValue:f=>{const b=n.get(f),w=In.getValue(b);return i.postprocess(w)},setValue:(f,b)=>{const w=i.preprocess(b),S=n.get(f);In.setValue(S,w)}}})},i2=(n,s,i)=>In.config({store:{mode:"manual",...n.map(f=>({initialValue:f})).getOr({}),getValue:s,setValue:i}}),B7=(n,s,i)=>i2(n,f=>s(f.element),(f,b)=>i(f.element,b)),sK=n=>B7(n,Js,Rl),O4=n=>In.config({store:{mode:"memory",initialValue:n}}),N4=me("rgb-hex-update"),L7=me("slider-update"),P7=me("palette-update"),F7=(n,s)=>{const i=rp.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),f=rp.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return rp.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:ie(0)},components:[i,f],sliderBehaviours:a([et.config({})]),onChange:(b,w,S)=>{uo(b.element,"aria-valuenow",Math.floor(360-S*3.6)),so(b,L7,{value:S})}})},$7=me("valid-input"),I7=me("invalid-input"),H7=me("validating-input"),R4="colorcustom.rgb.",rK={isEnabled:Lt,setEnabled:J,immediatelyShow:J,immediatelyHide:J},aK=(n,s,i,f,b,w)=>{const S=(Oe,ze)=>{const Te=ze.get();Oe!==Te.isEnabled()&&(Te.setEnabled(Oe),Oe?Te.immediatelyShow():Te.immediatelyHide())},_=(Oe,ze,Te)=>sh.config({invalidClass:s("invalid"),notify:{onValidate:Ye=>{so(Ye,H7,{type:Oe})},onValid:Ye=>{S(!1,Te),so(Ye,$7,{type:Oe,value:In.getValue(Ye)})},onInvalid:Ye=>{S(!0,Te),so(Ye,I7,{type:Oe,value:In.getValue(Ye)})}},validator:{validate:Ye=>{const st=In.getValue(Ye),wt=ze(st)?Pn.value(!0):Pn.error(n("aria.input.invalid"));return ls.pure(wt)},validateOnLoad:!1}}),M=(Oe,ze,Te,Ye,st)=>{const wt=Mn(rK),Ot=n(R4+"range"),kn=ks.parts.label({dom:{tag:"label"},components:[Ra(Te)]}),Jt=ks.parts.field({data:st,factory:C1,inputAttributes:{type:"text","aria-label":Ye,...ze==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:a([_(ze,Oe,wt),ua.config({}),va.config({...b({tooltipText:"",onSetup:Vo=>{wt.set({isEnabled:()=>va.isEnabled(Vo),setEnabled:no=>va.setEnabled(Vo,no),immediatelyShow:()=>va.immediateOpenClose(Vo,!0),immediatelyHide:()=>va.immediateOpenClose(Vo,!1)}),va.setEnabled(Vo,!1)},onShow:(Vo,no)=>{va.setComponents(Vo,[{dom:{tag:"p",classes:[s("rgb-warning-note")]},components:[Ra(n(ze==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:Vo=>{sh.isInvalid(Vo)&&sh.run(Vo).get(J)}}),rn=me("aria-invalid"),on=gr(w("invalid",F.some(rn),"warning")),mo=gr({dom:{tag:"div",classes:[s("invalid-icon")]},components:[on.asSpec()]}),to=[kn,Jt,mo.asSpec()],ys=ze!=="hex"?[ks.parts["aria-descriptor"]({text:Ot})]:[],ho=to.concat(ys);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[s("rgb-container")]},components:ho}},H=(Oe,ze)=>{const Te=FE(ze);return av.getField(Oe,"hex").each(Ye=>{et.isFocused(Ye)||In.setValue(Oe,{hex:Te.value})}),Te},Z=(Oe,ze)=>{const Te=ze.red,Ye=ze.green,st=ze.blue;In.setValue(Oe,{red:Te,green:Ye,blue:st})},K=gr({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),ae=(Oe,ze)=>{K.getOpt(Oe).each(Te=>{So(Te.element,"background-color","#"+ze.value)})};return oh({factory:()=>{const Oe={red:Mn(F.some(255)),green:Mn(F.some(255)),blue:Mn(F.some(255)),hex:Mn(F.some("ffffff"))},ze=(no,Yt)=>{const vn=IE(Yt);Z(no,vn),wt(vn)},Te=no=>Oe[no].get(),Ye=(no,Yt)=>{Oe[no].set(Yt)},st=()=>Te("red").bind(no=>Te("green").bind(Yt=>Te("blue").map(vn=>kc(no,Yt,vn,1)))),wt=no=>{const Yt=no.red,vn=no.green,To=no.blue;Ye("red",F.some(Yt)),Ye("green",F.some(vn)),Ye("blue",F.some(To))},Ot=(no,Yt)=>{const vn=Yt.event;vn.type!=="hex"?Ye(vn.type,F.none()):f(no)},kn=(no,Yt)=>{i(no);const vn=h4(Yt);Ye("hex",F.some(vn.value));const To=IE(vn);Z(no,To),wt(To),so(no,N4,{hex:vn}),ae(no,vn)},Jt=(no,Yt,vn)=>{const To=parseInt(vn,10);Ye(Yt,F.some(To)),st().each(Ko=>{const ao=H(no,Ko);so(no,N4,{hex:ao}),ae(no,ao)})},rn=no=>no.type==="hex",on=(no,Yt)=>{const vn=Yt.event;rn(vn)?kn(no,vn.value):Jt(no,vn.type,vn.value)},mo=no=>({label:n(R4+no+".label"),description:n(R4+no+".description")}),to=mo("red"),ys=mo("green"),ho=mo("blue"),Vo=mo("hex");return qt(av.sketch(no=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":n("aria.color.picker")}},components:[no.field("red",ks.sketch(M(b4,"red",to.label,to.description,255))),no.field("green",ks.sketch(M(b4,"green",ys.label,ys.description,255))),no.field("blue",ks.sketch(M(b4,"blue",ho.label,ho.description,255))),no.field("hex",ks.sketch(M(p4,"hex",Vo.label,Vo.description,"ffffff"))),K.asSpec()],formBehaviours:a([sh.config({invalidClass:s("form-invalid")}),fe("rgb-form-events",[Mt($7,on),Mt(I7,Ot),Mt(H7,Ot)])])})),{apis:{updateHex:(no,Yt)=>{In.setValue(no,{hex:Yt.value}),ze(no,Yt),ae(no,Yt)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(Oe,ze,Te)=>{Oe.updateHex(ze,Te)}},extraApis:{}})},iK=(n,s)=>{const i=rp.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),f=rp.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),b=(H,Z)=>{const{width:K,height:ae}=H,he=H.getContext("2d");if(he===null)return;he.fillStyle=Z,he.fillRect(0,0,K,ae);const xe=he.createLinearGradient(0,0,K,0);xe.addColorStop(0,"rgba(255,255,255,1)"),xe.addColorStop(1,"rgba(255,255,255,0)"),he.fillStyle=xe,he.fillRect(0,0,K,ae);const Oe=he.createLinearGradient(0,0,0,ae);Oe.addColorStop(0,"rgba(0,0,0,0)"),Oe.addColorStop(1,"rgba(0,0,0,1)"),he.fillStyle=Oe,he.fillRect(0,0,K,ae)},w=(H,Z)=>{const K=H.components()[0].element.dom,ae=bv(Z,100,100),he=ZF(ae);b(K,WF(he))},S=(H,Z)=>{const K=AN(IE(Z));rp.setValue(H,{x:K.saturation,y:100-K.value}),uo(H.element,"aria-valuetext",n(["Saturation {0}%, Brightness {1}%",K.saturation,K.value]))};return oh({factory:H=>{const Z=ie({x:0,y:0}),K=(xe,Oe,ze)=>{it(ze)||uo(xe.element,"aria-valuetext",n(["Saturation {0}%, Brightness {1}%",Math.floor(ze.x),Math.floor(100-ze.y)])),so(xe,P7,{value:ze})},ae=(xe,Oe,ze,Te)=>{b(ze.element.dom,WF(qF))},he=a([$t.config({find:F.some}),et.config({})]);return rp.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":n(["Saturation {0}%, Brightness {1}%",0,0])},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:Z},rounded:!1,components:[i,f],onChange:K,onInit:ae,sliderBehaviours:he})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(H,Z,K)=>{w(Z,K)},setThumb:(H,Z,K)=>{S(Z,K)}},extraApis:{}})},z7=(n,s,i,f)=>{const b=S=>{const _=aK(n,s,S.onValidHex,S.onInvalidHex,i,f),M=iK(n,s),H=rn=>(100-rn)/100*360,Z=rn=>100-rn/360*100,K={paletteRgba:Mn(qF),paletteHue:Mn(0)},ae=gr(F7(n,s)),he=gr(M.sketch({})),xe=gr(_.sketch({})),Oe=(rn,on,mo)=>{he.getOpt(rn).each(to=>{M.setHue(to,mo)})},ze=(rn,on)=>{xe.getOpt(rn).each(mo=>{_.updateHex(mo,on)})},Te=(rn,on,mo)=>{ae.getOpt(rn).each(to=>{rp.setValue(to,Z(mo))})},Ye=(rn,on)=>{he.getOpt(rn).each(mo=>{M.setThumb(mo,on)})},st=(rn,on)=>{const mo=IE(rn);K.paletteRgba.set(mo),K.paletteHue.set(on)},wt=(rn,on,mo,to)=>{st(on,mo),dt(to,ys=>{ys(rn,on,mo)})},Ot=()=>{const rn=[ze];return(on,mo)=>{const to=mo.event.value,ys=K.paletteHue.get(),ho=bv(ys,to.x,100-to.y),Vo=T0(ho);wt(on,Vo,ys,rn)}},kn=()=>{const rn=[Oe,ze];return(on,mo)=>{const to=H(mo.event.value),ys=K.paletteRgba.get(),ho=AN(ys),Vo=bv(to,ho.saturation,ho.value),no=T0(Vo);wt(on,no,to,rn)}},Jt=()=>{const rn=[Oe,Te,Ye];return(on,mo)=>{const to=mo.event.hex,ys=GF(to);wt(on,to,ys.hue,rn)}};return{uid:S.uid,dom:S.dom,components:[he.asSpec(),ae.asSpec(),xe.asSpec()],behaviours:a([fe("colour-picker-events",[Mt(N4,Jt()),Mt(P7,Ot()),Mt(L7,kn())]),$t.config({find:rn=>xe.getOpt(rn)}),lo.config({mode:"acyclic"})])}};return oh({name:"ColourPicker",configFields:[Wt("dom"),pt("onValidHex",J),pt("onInvalidHex",J)],factory:b})},j7={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},V7=n=>s=>z(s)?n.translate(j7[s]):n.translate(s),M4=(n,s,i)=>{const f=H=>"tox-"+H,b=(H,Z,K=H,ae=H)=>lh(K,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+H],attributes:{title:s.translate(ae),"aria-live":"polite",...Z.fold(()=>({}),he=>({id:he}))}},s.icons),w=z7(V7(s),f,s.tooltips.getConfig,b),S=H=>{so(H,lp,{name:"hex-valid",value:!0})},_=H=>{so(H,lp,{name:"hex-valid",value:!1})},M=gr(w.sketch({dom:{tag:"div",classes:[f("color-picker-container")],attributes:{role:"presentation"}},onValidHex:S,onInvalidHex:_}));return{dom:{tag:"div"},components:[M.asSpec()],behaviours:a([i2(i,H=>{const Z=M.get(H);return $t.getCurrent(Z).bind(he=>In.getValue(he).hex).map(he=>"#"+Sf(he,"#")).getOr("")},(H,Z)=>{const K=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,ae=F.from(K.exec(Z)).bind(Oe=>Tt(Oe,1)),he=M.get(H);$t.getCurrent(he).fold(()=>{console.log("Can not find form")},Oe=>{In.setValue(Oe,{hex:ae.getOr("")}),av.getField(Oe,"hex").each(ze=>{fs(ze,Bf())})})}),cp.self()])}};var U7=tinymce.util.Tools.resolve("tinymce.Resource");const Z7=n=>ts(n,"init"),lK=n=>{const s=Co(),i=gr({dom:{tag:n.tag}}),f=Co(),b=!Z7(n)&&n.onFocus.isSome()?[et.config({onFocus:w=>{n.onFocus.each(S=>{S(w.element.dom)})}}),ua.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:a([fe("custom-editor-events",[Lr(w=>{i.getOpt(w).each(S=>{(Z7(n)?n.init(S.element.dom):U7.load(n.scriptId,n.scriptUrl).then(_=>_(S.element.dom,n.settings))).then(_=>{f.on(M=>{_.setValue(M)}),f.clear(),s.set(_)})})})]),i2(F.none(),()=>s.get().fold(()=>f.get().getOr(""),w=>w.getValue()),(w,S)=>{s.get().fold(()=>f.set(S),_=>_.setValue(S))}),cp.self()].concat(b)),components:[i.asSpec()]}};var D1=tinymce.util.Tools.resolve("tinymce.util.Tools");const oR=me("browse.files.event"),cK=(n,s,i)=>{const f=D1.explode(s.getOption("images_file_types")),b=w=>i.fold(()=>It(f,S=>dc(w.name.toLowerCase(),`.${S.toLowerCase()}`)),S=>It(S,_=>dc(w.name.toLowerCase(),`.${_.toLowerCase()}`)));return xo(Yo(n),b)},uK=(n,s,i)=>{const f=(ae,he)=>{he.stop()},b=ae=>(he,xe)=>{dt(ae,Oe=>{Oe(he,xe)})},w=(ae,he)=>{if(!eo.isDisabled(ae)){const xe=he.event.raw;so(ae,oR,{files:xe.dataTransfer?.files})}},S=(ae,he)=>{const xe=he.event.raw.target;so(ae,oR,{files:xe.files})},_=(ae,he)=>{he&&(In.setValue(ae,cK(he,s,n.allowedFileExtensions)),so(ae,vf,{name:n.name}))},M=gr({dom:{tag:"input",attributes:{type:"file",accept:n.allowedFileTypes.getOr("image/*")},styles:{display:"none"}},behaviours:a([fe("input-file-events",[xm(dm()),xm(xr())])])}),H=n.label.map(ae=>ey(ae,s)),Z=ks.parts.field({factory:rc,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Ra(s.translate(n.buttonLabel.getOr("Browse for an image"))),M.asSpec()],action:ae=>{M.get(ae).element.dom.click()},buttonBehaviours:a([cp.self(),O4(i.getOr([])),ua.config({}),S0.button(()=>s.checkUiComponentContext(n.context).shouldDisable),nl(()=>s.checkUiComponentContext(n.context))])}),K={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:a([eo.config({disabled:()=>s.checkUiComponentContext(n.context).shouldDisable}),nl(()=>s.checkUiComponentContext(n.context)),Ms.config({toggleClass:"dragenter",toggleOnExecute:!1}),fe("dropzone-events",[Mt("dragenter",b([f,Ms.toggle])),Mt("dragleave",b([f,Ms.toggle])),Mt("dragover",f),Mt("drop",b([f,w])),Mt(Lf(),S)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Ra(s.translate(n.dropAreaLabel.getOr("Drop an image here")))]},Z]}]};return oC(H,K,["tox-form__group--stretched"],[fe("handle-files",[Mt(oR,(ae,he)=>{ks.getField(ae).each(xe=>{_(xe,he.event.files)})})])])},dK=(n,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${n.columns}col`]},components:He(n.items,s.interpreter)}),B4=me("alloy-fake-before-tabstop"),sR=me("alloy-fake-after-tabstop"),W7=n=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:n},behaviours:a([et.config({ignore:!0}),ua.config({})])}),q7=(n,s)=>({dom:{tag:"div",classes:["tox-navobj",...n.getOr([])]},components:[W7([B4]),s,W7([sR])],behaviours:a([cp.childAt(1)])}),rR=(n,s)=>{so(n,Ki(),{raw:{which:9,shiftKey:s}})},G7=(n,s)=>{const i=s.element;Da(i,B4)?rR(n,!0):Da(i,sR)&&rR(n,!1)},UE=n=>Pm(n,["."+B4,"."+sR].join(","),yt),L4=me("update-dialog"),aR=me("update-title"),K7=me("update-body"),Y7=me("update-footer"),Ro=me("body-send-message"),xv=me("dialog-focus-shifted"),P4=Ua().browser,sC=P4.isSafari(),X7=P4.isFirefox(),iR=sC||X7,fK=P4.isChromium(),Q7=({scrollTop:n,scrollHeight:s,clientHeight:i})=>Math.ceil(n)+i>=s,J7=(n,s)=>n.scrollTo(0,s==="bottom"?99999999:s),mK=(n,s)=>{const i=n.body;return F.from(!/^<!DOCTYPE (html|HTML)/.test(s)&&(!fK&&!sC||$e(i)&&(i.scrollTop!==0||Math.abs(i.scrollHeight-i.clientHeight)>1))?i:n.documentElement)},e$=(n,s,i)=>{const f=n.dom;F.from(f.contentDocument).fold(i,b=>{let w=0;const S=mK(b,s).map(M=>(w=M.scrollTop,M)).forall(Q7),_=()=>{const M=f.contentWindow;$e(M)&&(S?J7(M,"bottom"):!S&&iR&&w!==0&&J7(M,w))};sC&&f.addEventListener("load",_,{once:!0}),b.open(),b.write(s),b.close(),sC||_()})},t$=Sa(iR,sC?500:200).map(n=>qr(e$,n)),Wne=(n,s)=>{const i=Mn(n.getOr(""));return{getValue:f=>i.get(),setValue:(f,b)=>{if(i.get()!==b){const w=f.element,S=()=>uo(w,"srcdoc",b);s?t$.fold(ie(e$),_=>_.throttle)(w,b,S):S()}i.set(b)}}},ZE=(n,s,i)=>{const f="tox-dialog__iframe",b=n.transparent?[]:[`${f}--opaque`],w=n.border?["tox-navobj-bordered"]:[],S={...n.label.map(K=>({title:K})).getOr({}),...i.map(K=>({srcdoc:K})).getOr({}),...n.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},_=Wne(i,n.streamContent),M=n.label.map(K=>ey(K,s)),H=K=>q7(F.from(w),{uid:K.uid,dom:{tag:"iframe",attributes:S,classes:[f,...b]},behaviours:a([ua.config({}),et.config({}),i2(i,_.getValue,_.setValue),fd.config({channels:{[xv]:{onReceive:(ae,he)=>{he.newFocus.each(xe=>{Tu(ae.element).each(Oe=>{(oe(ae.element,xe)?nr:ha)(Oe,"tox-navobj-bordered-focus")})})}}}})])}),Z=ks.parts.field({factory:{sketch:H}});return oC(M,Z,["tox-form__group--stretched"],[])},lR=(n,s,i,f,b)=>{const w=i*b,S=f*b,_=Math.max(0,n/2-w/2),M=Math.max(0,s/2-S/2);return{left:_.toString()+"px",top:M.toString()+"px",width:w.toString()+"px",height:S.toString()+"px"}},n$=(n,s,i)=>{const f=Bi(n),b=bi(n);return Math.min(f/s,b/i,1)},gK=(n,s)=>{const i=Mn(s.getOr({url:""})),f=gr({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(M=>({src:M.url})).getOr({})}}),b=gr({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[f.asSpec()]}),w=(M,H)=>{const Z={url:H.url};H.zoom.each(ae=>Z.zoom=ae),H.cachedWidth.each(ae=>Z.cachedWidth=ae),H.cachedHeight.each(ae=>Z.cachedHeight=ae),i.set(Z);const K=()=>{const{cachedWidth:ae,cachedHeight:he,zoom:xe}=Z;if(!Ce(ae)&&!Ce(he)){if(Ce(xe)){const ze=n$(M.element,ae,he);Z.zoom=ze}const Oe=lR(Bi(M.element),bi(M.element),ae,he,Z.zoom);b.getOpt(M).each(ze=>{Or(ze.element,Oe)})}};f.getOpt(M).each(ae=>{const he=ae.element;H.url!==ea(he,"src")&&(uo(he,"src",H.url),ha(M.element,"tox-imagepreview__loaded")),K(),Sl(he).then(xe=>{M.getSystem().isConnected()&&(nr(M.element,"tox-imagepreview__loaded"),Z.cachedWidth=xe.dom.naturalWidth,Z.cachedHeight=xe.dom.naturalHeight,K())})})},S={};n.height.each(M=>S.height=M);const _=s.map(M=>({url:M.url,zoom:F.from(M.zoom),cachedWidth:F.from(M.cachedWidth),cachedHeight:F.from(M.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:S,attributes:{role:"presentation"}},components:[b.asSpec()],behaviours:a([cp.self(),i2(_,()=>i.get(),w)])}},pK=(n,s,i)=>{const f="tox-label",b=n.align==="center"?[`${f}--center`]:[],w=n.align==="end"?[`${f}--end`]:[],S=gr({dom:{tag:"label",classes:[f,...b,...w]},components:[Ra(s.providers.translate(n.label))]}),_=He(n.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[S.asSpec(),..._],behaviours:a([cp.self(),jo.config({}),sK(F.none()),lo.config({mode:"acyclic"}),fe("label",[Lr(M=>{n.for.each(H=>{i(H).each(Z=>{S.getOpt(M).each(K=>{const ae=ea(Z.element,"id")??me("form-field");uo(Z.element,"id",ae),uo(K.element,"for",ae)})})})})])])}},cR=me("toolbar.button.execute"),bK=n=>wm((s,i)=>{LE(n,s)(f=>{so(s,cR,{buttonApi:f}),n.onAction(f)})}),_1=me("common-button-display-events"),uR={[Ls()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[Lc()]:["toolbar-button-events",_1],[wc()]:["toolbar-button-events","dropdown-events","tooltipping"],[uu()]:["focusing","alloy.base.behaviour",_1]},F4=n=>So(n.element,"width",yr(n.element,"width")),o$=(n,s,i)=>lh(n,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},s),dR=(n,s)=>o$(n,s,[]),wv=(n,s)=>o$(n,s,[jo.config({})]),fR=(n,s,i)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[Ra(i.translate(n))],behaviours:a([jo.config({})])}),ig=me("update-menu-text"),l2=me("update-menu-icon"),$4=me("update-tooltip-text"),mR=(n,s,i,f)=>{const b=Mn(J),w=Mn(n.tooltip),S=n.text.map(ze=>gr(fR(ze,s,i.providers))),_=n.icon.map(ze=>gr(wv(ze,i.providers.icons))),M=(ze,Te)=>{const Ye=In.getValue(ze);return et.focus(Ye),so(Ye,"keydown",{raw:Te.event.raw}),Gf.close(Ye),F.some(!0)},H=n.role.fold(()=>({}),ze=>({role:ze})),Z=F.from(n.listRole).map(ze=>({listRole:ze})).getOr({}),K=n.ariaLabel.fold(()=>({}),ze=>({"aria-label":i.providers.translate(ze)})),ae=lh("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},i.providers.icons),he=me("common-button-display-events"),xe="dropdown-events";return gr(Gf.sketch({...n.uid?{uid:n.uid}:{},...H,...Z,dom:{tag:"button",classes:[s,`${s}--select`].concat(He(n.classes,ze=>`${s}--${ze}`)),attributes:{...K,...$e(f)?{"data-mce-name":f}:{}}},components:T1([_.map(ze=>ze.asSpec()),S.map(ze=>ze.asSpec()),F.some(ae)]),matchWidth:!0,useMinWidth:!0,onOpen:(ze,Te,Ye)=>{n.searchable&&qG(Ye)},dropdownBehaviours:a([...n.dropdownBehaviours,S0.button(()=>n.disabled||i.providers.checkUiComponentContext(n.context).shouldDisable),nl(()=>i.providers.checkUiComponentContext(n.context)),m0.config({}),jo.config({}),...n.tooltip.map(ze=>va.config(i.providers.tooltips.getConfig({tooltipText:i.providers.translate(ze),onShow:Te=>{if(Ts(w.get(),n.tooltip,(Ye,st)=>st!==Ye).getOr(!1)){const Ye=i.providers.translate(w.get().getOr(""));va.setComponents(Te,i.providers.tooltips.getComponents({tooltipText:Ye}))}}}))).toArray(),fe(xe,[E0(n,b),pv(n,b)]),fe(he,[Lr((ze,Te)=>{n.listRole!=="listbox"&&F4(ze)})]),fe("update-dropdown-width-variable",[Mt(xi(),(ze,Te)=>Gf.close(ze))]),fe("menubutton-update-display-text",[Mt(ig,(ze,Te)=>{S.bind(Ye=>Ye.getOpt(ze)).each(Ye=>{jo.set(Ye,[Ra(i.providers.translate(Te.event.text))])})}),Mt(l2,(ze,Te)=>{_.bind(Ye=>Ye.getOpt(ze)).each(Ye=>{jo.set(Ye,[wv(Te.event.icon,i.providers.icons)])})}),Mt($4,(ze,Te)=>{const Ye=i.providers.translate(Te.event.text);uo(ze.element,"aria-label",Ye),w.set(F.some(Te.event.text))})])]),eventOrder:qt(uR,{[uu()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Lc()]:["toolbar-button-events",va.name(),xe,he]}),sandboxBehaviours:a([lo.config({mode:"special",onLeft:M,onRight:M}),fe("dropdown-sandbox-events",[Mt(zP,(ze,Te)=>{VG(ze),Te.stop()}),Mt(jP,(ze,Te)=>{UG(ze,Te),Te.stop()})])]),lazySink:i.getSink,toggleClass:`${s}--active`,parts:{menu:{...TE(!1,n.columns,n.presets),fakeFocus:n.searchable,...n.listRole==="listbox"?{}:{onHighlightItem:C7,onCollapseMenu:(ze,Te,Ye)=>{fr.getHighlighted(Ye).each(st=>{C7(ze,Ye,st)})},onDehighlightItem:WG}}},getAnchorOverrides:()=>({maxHeightFunction:(ze,Te)=>{tx()(ze,Te-10)}}),fetch:ze=>ls.nu(fn(n.fetch,ze))})).asSpec()},I4=n=>z(n),s$=n=>n.type==="separator",r$=n=>ts(n,"getSubmenuItems"),yK={type:"separator"},vK=(n,s)=>{const i=Ho(n,(f,b)=>I4(b)?b===""?f:b==="|"?f.length>0&&!s$(f[f.length-1])?f.concat([yK]):f:ts(s,b.toLowerCase())?f.concat([s[b.toLowerCase()]]):f:f.concat([b]),[]);return i.length>0&&s$(i[i.length-1])&&i.pop(),i},qne=(n,s)=>{const i=n.getSubmenuItems(),f=a$(i,s),b=qt(f.menus,{[n.value]:f.items}),w=qt(f.expansions,{[n.value]:n.value});return{item:n,menus:b,expansions:w}},xK=n=>{const s=Hn(n,"value").getOrThunk(()=>me("generated-menu-item"));return qt({value:s},n)},a$=(n,s)=>{const i=vK(z(n)?n.split(" "):n,s);return Mo(i,(f,b)=>{if(r$(b)){const w=xK(b),S=qne(w,s);return{menus:qt(f.menus,S.menus),items:[S.item,...f.items],expansions:qt(f.expansions,S.expansions)}}else return{...f,items:[b,...f.items]}},{menus:{},expansions:{},items:[]})},hR=n=>n.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),wK=n=>n.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),ny=(n,s,i,f)=>{const b=me("primary-menu"),w=a$(n,i.shared.providers.menuItems());if(w.items.length===0)return F.none();const S=hR(f),_=k4(b,w.items,s,i,f.isHorizontalMenu,S),M=wK(f),H=os(w.menus,(K,ae)=>k4(ae,K,s,i,!1,M)),Z=qt(H,za(b,_));return F.from($x.tieredData(b,Z,w.expansions))},WE=n=>!ts(n,"items"),gR="data-value",H4=(n,s,i,f,b)=>He(i,w=>WE(w)?{type:"togglemenuitem",...b?{}:{role:"option"},text:w.text,value:w.value,active:w.value===f,onAction:()=>{In.setValue(n,w.value),so(n,vf,{name:s}),et.focus(n)}}:{type:"nestedmenuitem",text:w.text,getSubmenuItems:()=>H4(n,s,w.items,f,b)}),pR=(n,s)=>Jo(n,i=>WE(i)?Sa(i.value===s,i):pR(i.items,s)),i$=(n,s,i)=>{const f=It(n.items,H=>!WE(H)),b=s.shared.providers,w=i.bind(H=>pR(n.items,H)).orThunk(()=>sn(n.items).filter(WE)),S=n.label.map(H=>ey(H,b)),_=ks.parts.field({dom:{},factory:{sketch:H=>mR({context:n.context,uid:H.uid,text:w.map(Z=>Z.text),icon:F.none(),tooltip:F.none(),role:Sa(!f,"combobox"),...f?{}:{listRole:"listbox"},ariaLabel:n.label,fetch:(Z,K)=>{const ae=H4(Z,n.name,n.items,In.getValue(Z),f);K(ny(ae,ip.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:F.none()}))},onSetup:ie(J),getApi:ie({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ua.config({}),i2(w.map(Z=>Z.value),Z=>ea(Z.element,gR),(Z,K)=>{pR(n.items,K).each(ae=>{uo(Z.element,gR,ae.value),so(Z,ig,{text:ae.text})})})]},"tox-listbox",s.shared)}}),M={dom:{tag:"div",classes:["tox-listboxfield"]},components:[_]};return ks.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:tt([S.toArray(),[M]]),fieldBehaviours:a([eo.config({disabled:()=>!n.enabled||b.checkUiComponentContext(n.context).shouldDisable,onDisabled:H=>{ks.getField(H).each(eo.disable)},onEnabled:H=>{ks.getField(H).each(eo.enable)}})])})},rC=(n,s)=>({dom:{tag:"div",classes:n.classes},components:He(n.items,s.shared.interpreter)}),l$=(n,s,i)=>{const f=He(n.items,M=>({text:s.translate(M.text),value:M.value})),b=n.label.map(M=>ey(M,s)),w=ks.parts.field({dom:{},...i.map(M=>({data:M})).getOr({}),selectAttributes:{size:n.size},options:f,factory:v5,selectBehaviours:a([eo.config({disabled:()=>!n.enabled||s.checkUiComponentContext(n.context).shouldDisable}),ua.config({}),fe("selectbox-change",[Mt(Lf(),(M,H)=>{so(M,vf,{name:n.name})})])])}),S=n.size>1?F.none():F.some(lh("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),_={dom:{tag:"div",classes:["tox-selectfield"]},components:tt([[w],S.toArray()])};return ks.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:tt([b.toArray(),[_]]),fieldBehaviours:a([eo.config({disabled:()=>!n.enabled||s.checkUiComponentContext(n.context).shouldDisable,onDisabled:M=>{ks.getField(M).each(eo.disable)},onEnabled:M=>{ks.getField(M).each(eo.enable)}}),nl(()=>s.checkUiComponentContext(n.context))])})},c$=n=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},i=b=>b in s?s[b]:1;let f=n.value.toFixed(i(n.unit));return f.indexOf(".")!==-1&&(f=f.replace(/\.?0*$/,"")),f+n.unit},z4=n=>{const i=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(n);if(i!==null){const f=parseFloat(i[1]),b=i[2];return Pn.value({value:f,unit:b})}else return Pn.error(n)},u$=(n,s)=>{const i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},f=b=>ts(i,b);return n.unit===s?F.some(n.value):f(n.unit)&&f(s)?i[n.unit]===i[s]?F.some(n.value):F.some(n.value/i[n.unit]*i[s]):F.none()},aC=n=>F.none(),CK=(n,s)=>i=>u$(i,s).map(f=>({value:f*n,unit:s})),d$=(n,s)=>{const i=z4(n).toOptional(),f=z4(s).toOptional();return Ts(i,f,(b,w)=>u$(b,w.unit).map(S=>w.value/S).map(S=>CK(S,w.unit)).getOr(aC)).getOr(aC)},f$=(n,s)=>{let i=aC;const f=me("ratio-event"),b=Oe=>lh(Oe,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Oe]},s.icons),w=()=>!n.enabled||s.checkUiComponentContext(n.context).shouldDisable,S=nl(()=>s.checkUiComponentContext(n.context)),_=n.label.getOr("Constrain proportions"),M=s.translate(_),H=tl.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":M,"data-mce-name":_}},components:[b("lock"),b("unlock")],buttonBehaviours:a([eo.config({disabled:w}),S,ua.config({}),va.config(s.tooltips.getConfig({tooltipText:M}))])}),Z=Oe=>({dom:{tag:"div",classes:["tox-form__group"]},components:Oe}),K=Oe=>ks.parts.field({factory:C1,inputClasses:["tox-textfield"],inputBehaviours:a([eo.config({disabled:w}),S,ua.config({}),fe("size-input-events",[Mt(ec(),(ze,Te)=>{so(ze,f,{isField1:Oe})}),Mt(Lf(),(ze,Te)=>{so(ze,vf,{name:n.name})})])]),selectOnFocus:!1}),ae=Oe=>({dom:{tag:"label",classes:["tox-label"]},components:[Ra(s.translate(Oe))]}),he=tl.parts.field1(Z([ks.parts.label(ae("Width")),K(!0)])),xe=tl.parts.field2(Z([ks.parts.label(ae("Height")),K(!1)]));return tl.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[he,xe,Z([ae(Jf),H])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Oe,ze,Te)=>{z4(In.getValue(Oe)).each(Ye=>{i(Ye).each(st=>{In.setValue(ze,c$(st))})})},coupledFieldBehaviours:a([eo.config({disabled:w,onDisabled:Oe=>{tl.getField1(Oe).bind(ks.getField).each(eo.disable),tl.getField2(Oe).bind(ks.getField).each(eo.disable),tl.getLock(Oe).each(eo.disable)},onEnabled:Oe=>{tl.getField1(Oe).bind(ks.getField).each(eo.enable),tl.getField2(Oe).bind(ks.getField).each(eo.enable),tl.getLock(Oe).each(eo.enable)}}),nl(()=>s.checkUiComponentContext("mode:design")),fe("size-input-events2",[Mt(f,(Oe,ze)=>{const Te=ze.event.isField1,Ye=Te?tl.getField1(Oe):tl.getField2(Oe),st=Te?tl.getField2(Oe):tl.getField1(Oe),wt=Ye.map(In.getValue).getOr(""),Ot=st.map(In.getValue).getOr("");i=d$(wt,Ot)})])])})},SK=(n,s,i)=>{const f=rp.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ra(s.translate(n.label))]}),b=rp.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),w=rp.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return rp.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:n.min,maxX:n.max,getInitialValue:ie(i.getOrThunk(()=>(Math.abs(n.max)-Math.abs(n.min))/2))},components:[f,b,w],sliderBehaviours:a([cp.self(),et.config({})]),onChoose:(S,_,M)=>{so(S,vf,{name:n.name,value:M})},onChange:(S,_,M)=>{so(S,vf,{name:n.name,value:M})}})},EK=(n,s)=>{const i=_=>({dom:{tag:"th",innerHtml:s.translate(_)}}),f=_=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:He(_,i)}]}),b=_=>({dom:{tag:"td",innerHtml:s.translate(_)}}),w=_=>({dom:{tag:"tr"},components:He(_,b)}),S=_=>({dom:{tag:"tbody"},components:He(_,w)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[f(n.header),S(n.cells)],behaviours:a([ua.config({}),et.config({})])}},m$=(n,s)=>{const i=n.label.map(xe=>ey(xe,s)),f=[eo.config({disabled:()=>n.disabled||s.checkUiComponentContext(n.context).shouldDisable}),nl(()=>s.checkUiComponentContext(n.context)),lo.config({mode:"execution",useEnter:n.multiline!==!0,useControlEnter:n.multiline===!0,execute:xe=>(fs(xe,VE),F.some(!0))}),fe("textfield-change",[Mt(Bf(),(xe,Oe)=>{so(xe,vf,{name:n.name})}),Mt(Ty(),(xe,Oe)=>{so(xe,vf,{name:n.name})})]),ua.config({})],b=n.validation.map(xe=>sh.config({getRoot:Oe=>Tu(Oe.element),invalidClass:"tox-invalid",validator:{validate:Oe=>{const ze=In.getValue(Oe),Te=xe.validator(ze);return ls.pure(Te===!0?Pn.value(ze):Pn.error(Te))},validateOnLoad:xe.validateOnLoad}})).toArray(),w=n.placeholder.fold(ie({}),xe=>({placeholder:s.translate(xe)})),S=n.inputMode.fold(ie({}),xe=>({inputmode:xe})),M={...n.spellcheck.fold(ie({}),xe=>({spellcheck:xe})),...w,...S,"data-mce-name":n.name},H=ks.parts.field({tag:n.multiline===!0?"textarea":"input",...n.data.map(xe=>({data:xe})).getOr({}),inputAttributes:M,inputClasses:[n.classname],inputBehaviours:a(tt([f,b])),selectOnFocus:!1,factory:C1}),Z=n.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[H]}:H,ae=(n.flex?["tox-form__group--stretched"]:[]).concat(n.maximized?["tox-form-group--maximize"]:[]),he=[eo.config({disabled:()=>n.disabled||s.checkUiComponentContext(n.context).shouldDisable,onDisabled:xe=>{ks.getField(xe).each(eo.disable)},onEnabled:xe=>{ks.getField(xe).each(eo.enable)}}),nl(()=>s.checkUiComponentContext(n.context))];return oC(i,Z,ae,he)},h$=(n,s,i)=>m$({name:n.name,multiline:!1,label:n.label,inputMode:n.inputMode,placeholder:n.placeholder,flex:!1,disabled:!n.enabled,classname:"tox-textfield",validation:F.none(),maximized:n.maximized,data:i,context:n.context,spellcheck:F.none()},s),TK=(n,s,i)=>m$({name:n.name,multiline:!0,label:n.label,inputMode:F.none(),placeholder:n.placeholder,flex:!0,disabled:!n.enabled,classname:"tox-textarea",validation:F.none(),maximized:n.maximized,data:i,context:n.context,spellcheck:n.spellcheck},s),g$=n=>({isEnabled:()=>!eo.isDisabled(n),setEnabled:s=>eo.set(n,!s),setActive:s=>{const i=n.element;s?(nr(i,"tox-tbtn--enabled"),uo(i,"aria-pressed",!0)):(ha(i,"tox-tbtn--enabled"),cr(i,"aria-pressed"))},isActive:()=>Da(n.element,"tox-tbtn--enabled"),setTooltip:s=>{so(n,$4,{text:s})},setText:s=>{so(n,ig,{text:s})},setIcon:s=>so(n,l2,{icon:s})}),qE=(n,s,i,f,b=!0,w)=>{const S=n.buttonType==="bordered"?["bordered"]:[];return mR({text:n.text,icon:n.icon,tooltip:n.tooltip,ariaLabel:n.tooltip,searchable:n.search.isSome(),role:f,fetch:(_,M)=>{const H={pattern:n.search.isSome()?jE(_):""};n.fetch(Z=>{M(ny(Z,ip.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:n.search}))},H,g$(_))},onSetup:n.onSetup,getApi:_=>g$(_),columns:1,presets:"normal",classes:S,dropdownBehaviours:[...b?[ua.config({})]:[]],context:n.context},s,i.shared,w)},AK=(n,s,i)=>{const f=w=>S=>{const _=!S.isActive();S.setActive(_),w.storage.set(_),i.shared.getSink().each(M=>{s().getOpt(M).each(H=>{Fa(H.element),so(H,lp,{name:w.name,value:w.storage.get()})})})},b=w=>S=>{S.setActive(w.storage.get())};return w=>{w(He(n,S=>{const _=S.text.fold(()=>({}),M=>({text:M}));return{type:S.type,active:!1,..._,context:S.context,onAction:f(S),onSetup:b(S)}}))}},p$=n=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":n}},components:[Ra(n)]}),b$=(n,s,i)=>{n.customStateIcon.each(f=>s.push(v$(f,i.shared.providers.icons,n.customStateIconTooltip.fold(()=>[],b=>[va.config(i.shared.providers.tooltips.getConfig({tooltipText:b}))]),["tox-icon-custom-state"])))},y$=me("leaf-label-event-id"),bR=({leaf:n,onLeafAction:s,visible:i,treeId:f,selectedId:b,backstage:w})=>{const S=n.menu.map(M=>qE(M,"tox-mbtn",w,F.none(),i)),_=[p$(n.title)];return b$(n,_,w),S.each(M=>_.push(M)),rc.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(i?["tox-tree--leaf__label--visible"]:[])},components:_,role:"treeitem",action:M=>{s(n.id),M.getSystem().broadcastOn([`update-active-item-${f}`],{value:n.id})},eventOrder:{[Ki()]:[y$,"keying"]},buttonBehaviours:a([...i?[ua.config({})]:[],Ms.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),fd.config({channels:{[`update-active-item-${f}`]:{onReceive:(M,H)=>{(H.value===n.id?Ms.on:Ms.off)(M)}}}}),fe(y$,[Lr((M,H)=>{b.each(Z=>{(Z===n.id?Ms.on:Ms.off)(M)})}),Mt(Ki(),(M,H)=>{const Z=H.event.raw.code==="ArrowLeft",K=H.event.raw.code==="ArrowRight";Z?(tu(M.element,".tox-tree--directory").each(ae=>{M.getSystem().getByDom(ae).each(he=>{_u(ae,".tox-tree--directory__label").each(xe=>{he.getSystem().getByDom(xe).each(et.focus)})})}),H.stop()):K&&H.stop()})])])})},v$=(n,s,i,f,b)=>lh(n,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(f||[]),behaviours:i,attributes:b},s),kK=(n,s)=>v$(n,s,[]),x$=me("directory-label-event-id"),w$=({directory:n,visible:s,noChildren:i,backstage:f})=>{const b=n.menu.map(_=>qE(_,"tox-mbtn",f,F.none())),w=[{dom:{tag:"div",classes:["tox-chevron"]},components:[kK("chevron-right",f.shared.providers.icons)]},p$(n.title)];b$(n,w,f),b.each(_=>{w.push(_)});const S=_=>{tu(_.element,".tox-tree--directory").each(M=>{_.getSystem().getByDom(M).each(H=>{const Z=!Ms.isOn(H);Ms.toggle(H),so(_,"expand-tree-node",{expanded:Z,node:n.id})})})};return rc.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:w,action:S,eventOrder:{[Ki()]:[x$,"keying"]},buttonBehaviours:a([...s?[ua.config({})]:[],fe(x$,[Mt(Ki(),(_,M)=>{const H=M.event.raw.code==="ArrowRight",Z=M.event.raw.code==="ArrowLeft";H&&i&&M.stop(),(H||Z)&&tu(_.element,".tox-tree--directory").each(K=>{_.getSystem().getByDom(K).each(ae=>{!Ms.isOn(ae)&&H||Ms.isOn(ae)&&Z?(S(_),M.stop()):Z&&!Ms.isOn(ae)&&(tu(ae.element,".tox-tree--directory").each(he=>{_u(he,".tox-tree--directory__label").each(xe=>{ae.getSystem().getByDom(xe).each(et.focus)})}),M.stop())})})})])])})},DK=({children:n,onLeafAction:s,visible:i,treeId:f,expandedIds:b,selectedId:w,backstage:S})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:n.map(_=>_.type==="leaf"?bR({leaf:_,selectedId:w,onLeafAction:s,visible:i,treeId:f,backstage:S}):yR({directory:_,expandedIds:b,selectedId:w,onLeafAction:s,labelTabstopping:i,treeId:f,backstage:S})),behaviours:a([Vd.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:i}),jo.config({})])}),_K=me("directory-event-id"),yR=({directory:n,onLeafAction:s,labelTabstopping:i,treeId:f,backstage:b,expandedIds:w,selectedId:S})=>{const{children:_}=n,M=Mn(w),H=K=>_.map(ae=>ae.type==="leaf"?bR({leaf:ae,selectedId:S,onLeafAction:s,visible:K,treeId:f,backstage:b}):yR({directory:ae,expandedIds:M.get(),selectedId:S,onLeafAction:s,labelTabstopping:K,treeId:f,backstage:b})),Z=w.includes(n.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[w$({directory:n,visible:i,noChildren:n.children.length===0,backstage:b}),DK({children:_,expandedIds:w,selectedId:S,onLeafAction:s,visible:Z,treeId:f,backstage:b})],behaviours:a([fe(_K,[Lr((K,ae)=>{Ms.set(K,Z)}),Mt("expand-tree-node",(K,ae)=>{const{expanded:he,node:xe}=ae.event;M.set(he?[...M.get(),xe]:M.get().filter(Oe=>Oe!==xe))})]),Ms.config({...n.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(K,ae)=>{const he=K.components()[1],xe=H(ae);ae?Vd.grow(he):Vd.shrink(he),jo.set(he,xe)}})])}},OK=me("tree-event-id"),NK=(n,s)=>{const i=n.onLeafAction.getOr(J),f=n.onToggleExpand.getOr(J),b=n.defaultExpandedIds,w=Mn(b),S=Mn(n.defaultSelectedId),_=me("tree-id"),M=(H,Z)=>n.items.map(K=>K.type==="leaf"?bR({leaf:K,selectedId:H,onLeafAction:i,visible:!0,treeId:_,backstage:s}):yR({directory:K,selectedId:H,onLeafAction:i,expandedIds:Z,labelTabstopping:!0,treeId:_,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:M(S.get(),w.get()),behaviours:a([lo.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),fe(OK,[Mt("expand-tree-node",(H,Z)=>{const{expanded:K,node:ae}=Z.event;w.set(K?[...w.get(),ae]:w.get().filter(he=>he!==ae)),f(w.get(),{expanded:K,node:ae})})]),fd.config({channels:{[`update-active-item-${_}`]:{onReceive:(H,Z)=>{S.set(F.some(Z.value)),jo.set(H,M(F.some(Z.value),w.get()))}}}}),jo.config({})])}},j4=(n,s,i=[],f,b,w,S)=>{const _=s.fold(()=>({}),Z=>({action:Z})),M={buttonBehaviours:a([S0.item(()=>!n.enabled||S.checkUiComponentContext(n.context).shouldDisable),nl(()=>S.checkUiComponentContext(n.context)),ua.config({}),...w.map(Z=>va.config(S.tooltips.getConfig({tooltipText:S.translate(Z)}))).toArray(),fe("button press",[Xm("click")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},..._},H=qt(M,{dom:f});return qt(H,{components:b})},C$=(n,s,i,f=[],b)=>{const w=n.tooltip.map(H=>({"aria-label":i.translate(H)})).getOr({}),S={tag:"button",classes:["tox-tbtn"],attributes:{...w,"data-mce-name":b}},_=n.icon.map(H=>dR(H,i.icons)),M=T1([_]);return j4(n,s,f,S,M,n.tooltip,i)},vR=n=>{switch(n){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},xR=(n,s,i,f=[],b=[])=>{const w=i.translate(n.text),S=n.icon.map(he=>dR(he,i.icons)),_=[S.getOrThunk(()=>Ra(w))],M=n.buttonType.getOr(!n.primary&&!n.borderless?"secondary":"primary"),K={tag:"button",classes:[...vR(M),...S.isSome()?["tox-button--icon"]:[],...n.borderless?["tox-button--naked"]:[],...b],attributes:{"aria-label":w,"data-mce-name":n.text}},ae=n.icon.map(ie(w));return j4(n,s,f,K,_,ae,i)},S$=(n,s,i,f=[],b=[])=>{const w=xR(n,F.some(s),i,f,b);return rc.sketch(w)},wR=(n,s)=>i=>{s==="custom"?so(i,lp,{name:n,value:{}}):s==="submit"?fs(i,VE):s==="cancel"?fs(i,ty):console.error("Unknown button type: ",s)},E$=(n,s)=>s==="menu",CR=(n,s)=>s==="custom"||s==="cancel"||s==="submit",RK=(n,s)=>s==="togglebutton",MK=(n,s,i)=>{const f=n.icon.map(Te=>wv(Te,s.icons)).map(gr),b=Te=>{so(Te,lp,{name:n.name,value:{setIcon:Ye=>{f.map(st=>st.getOpt(Te).each(wt=>{jo.set(wt,[wv(Ye,s.icons)])}))}}})},w=n.buttonType.getOr(n.primary?"primary":"secondary"),S={...n,name:n.name??"",tooltip:n.tooltip,enabled:n.enabled??!1},_=S.tooltip.or(n.text).map(Te=>({"aria-label":s.translate(Te)})).getOr({}),M=vR(w??"secondary"),H=n.icon.isSome()&&n.text.isSome(),Z={tag:"button",classes:[...M.concat(n.icon.isSome()?["tox-button--icon"]:[]),...n.active?["tox-button--enabled"]:[],...H?["tox-button--icon-and-text"]:[]],attributes:{..._,...$e(i)?{"data-mce-name":i}:{}}},K=[],ae=s.translate(n.text.getOr("")),he=Ra(ae),Oe=[...T1([f.map(Te=>Te.asSpec())]),...n.text.isSome()?[he]:[]],ze=j4(S,F.some(b),K,Z,Oe,n.tooltip,s);return rc.sketch(ze)},GE=(n,s,i)=>{if(E$(n,s)){const f=()=>S,b=n,w={...n,buttonType:"default",type:"menubutton",search:F.none(),onSetup:_=>(_.setEnabled(n.enabled),J),fetch:AK(b.items,f,i)},S=gr(qE(w,"tox-tbtn",i,F.none(),!0,n.text.or(n.tooltip).getOrUndefined()));return S.asSpec()}else if(CR(n,s)){const f=wR(n.name,s),b={...n,context:s==="cancel"?"any":n.context,borderless:!1};return S$(b,f,i.shared.providers,[])}else{if(RK(n,s))return MK(n,i.shared.providers,n.text.or(n.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")}},BK=(n,s)=>{const i=wR(n.name,"custom");return QG(F.none(),ks.parts.field({factory:rc,...xR(n,F.some(i),s,[O4(""),cp.self()])}))},T$={type:"separator"},LK=n=>({type:"menuitem",value:n.url,text:n.title,meta:{attach:n.attach},onAction:J}),iC=(n,s)=>({type:"menuitem",value:s,text:n,meta:{attach:void 0},onAction:J}),PK=n=>He(n,LK),A$=(n,s)=>xo(s,i=>i.type===n),k$=(n,s)=>PK(A$(n,s)),FK=n=>k$("header",n.targets),A0=n=>k$("anchor",n.targets),V4=n=>F.from(n.anchorTop).map(s=>iC("<top>",s)).toArray(),U4=n=>F.from(n.anchorBottom).map(s=>iC("<bottom>",s)).toArray(),$K=n=>He(n,s=>iC(s,s)),SR=n=>Ho(n,(s,i)=>s.length===0||i.length===0?s.concat(i):s.concat(T$,i),[]),ER=(n,s)=>{const i=n.toLowerCase();return xo(s,f=>{const b=f.meta!==void 0&&f.meta.text!==void 0?f.meta.text:f.text,w=f.value??"";return Hr(b.toLowerCase(),i)||Hr(w.toLowerCase(),i)})},TR=(n,s,i)=>{const f=In.getValue(s),b=f?.meta?.text??f.value;return i.getLinkInformation().fold(()=>[],S=>{const _=ER(b,$K(i.getHistory(n)));return n==="file"?SR([_,ER(b,FK(S)),ER(b,tt([V4(S),A0(S),U4(S)]))]):_})},AR=me("aria-invalid"),kR=(n,s,i,f)=>{const b=s.shared.providers,w=Ye=>{const st=In.getValue(Ye);i.addToHistory(st.value,n.filetype)},S={...f.map(Ye=>({initialData:Ye})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{type:"url"},minChars:0,responseTime:0,fetch:Ye=>{const st=TR(n.filetype,Ye,i),wt=ny(st,ip.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:F.none()});return ls.pure(wt)},getHotspot:Ye=>xe.getOpt(Ye),onSetValue:(Ye,st)=>{Ye.hasConfigured(sh)&&sh.run(Ye).get(J)},typeaheadBehaviours:a([...i.getValidationHandler().map(Ye=>sh.config({getRoot:st=>Tu(st.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(st,wt)=>{Z.getOpt(st).each(Ot=>{uo(Ot.element,"title",b.translate(wt))})}},validator:{validate:st=>{const wt=In.getValue(st);return Ao.nu(Ot=>{Ye({type:n.filetype,url:wt.value},kn=>{if(kn.status==="invalid"){uo(st.element,"aria-errormessage",AR);const Jt=Pn.error(kn.message);Ot(Jt)}else{cr(st.element,"aria-errormessage");const Jt=Pn.value(kn.message);Ot(Jt)}})})},validateOnLoad:!1}})).toArray(),eo.config({disabled:()=>!n.enabled||b.checkUiComponentContext(n.context).shouldDisable}),ua.config({}),fe("urlinput-events",[Mt(Bf(),Ye=>{const st=pc(Ye.element),wt=st.trim();wt!==st&&Dd(Ye.element,wt),n.filetype==="file"&&so(Ye,vf,{name:n.name})}),Mt(Lf(),Ye=>{so(Ye,vf,{name:n.name}),w(Ye)}),Mt(Ty(),Ye=>{so(Ye,vf,{name:n.name}),w(Ye)})])]),eventOrder:{[Bf()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:Ye=>Ye.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:TE(!1,1,"normal")},onExecute:(Ye,st,wt)=>{so(st,VE,{})},onItemExecute:(Ye,st,wt,Ot)=>{w(Ye),so(Ye,vf,{name:n.name})}},_=ks.parts.field({...S,factory:K5}),M=n.label.map(Ye=>ey(Ye,b)),Z=gr(((Ye,st,wt=Ye,Ot=Ye)=>lh(wt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Ye],attributes:{title:b.translate(Ot),"aria-live":"polite",...st.fold(()=>({}),kn=>({id:kn}))}},b.icons))("invalid",F.some(AR),"warning")),K=gr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[Z.asSpec()]}),ae=i.getUrlPicker(n.filetype),he=me("browser.url.event"),xe=gr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[_,K.asSpec()],behaviours:a([eo.config({disabled:()=>!n.enabled||b.checkUiComponentContext(n.context).shouldDisable})])}),Oe=gr(S$({context:n.context,name:n.name,icon:F.some("browse"),text:n.picker_text.or(n.label).getOr(""),enabled:n.enabled,primary:!1,buttonType:F.none(),borderless:!0},Ye=>fs(Ye,he),b,[],["tox-browse-url"])),ze=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:tt([[xe.asSpec()],ae.map(()=>Oe.asSpec()).toArray()])}),Te=Ye=>{$t.getCurrent(Ye).each(st=>{const wt=In.getValue(st),Ot={fieldname:n.name,...wt};ae.each(kn=>{kn(Ot).get(Jt=>{In.setValue(st,Jt),so(Ye,vf,{name:n.name})})})})};return ks.sketch({dom:A7(),components:M.toArray().concat([ze()]),fieldBehaviours:a([eo.config({disabled:()=>!n.enabled||b.checkUiComponentContext(n.context).shouldDisable,onDisabled:Ye=>{ks.getField(Ye).each(eo.disable),Oe.getOpt(Ye).each(eo.disable)},onEnabled:Ye=>{ks.getField(Ye).each(eo.enable),Oe.getOpt(Ye).each(eo.enable)}}),nl(()=>b.checkUiComponentContext(n.context)),fe("url-input-events",[Mt(he,Te)])])})},IK=(n,s)=>{const i=eW(n.icon,s.icons);return d0.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${n.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:n.url?void 0:i},components:n.url?[rc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:i,attributes:{title:s.translate(n.iconTooltip)}},action:f=>so(f,lp,{name:"alert-banner",value:n.url}),buttonBehaviours:a([CO()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(n.text)}}]})},HK=(n,s,i)=>{const f=M=>(M.element.dom.click(),F.some(!0)),b=ks.parts.field({factory:{sketch:ct},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:a([cp.self(),eo.config({disabled:()=>!n.enabled||s.checkUiComponentContext(n.context).shouldDisable,onDisabled:M=>{Tu(M.element).each(H=>nr(H,"tox-checkbox--disabled"))},onEnabled:M=>{Tu(M.element).each(H=>ha(H,"tox-checkbox--disabled"))}}),ua.config({}),et.config({}),B7(i,Sp,Td),lo.config({mode:"special",onEnter:f,onSpace:f,stopSpaceKeyup:!0}),fe("checkbox-events",[Mt(Lf(),(M,H)=>{so(M,vf,{name:n.name})})])])}),w=ks.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Ra(s.translate(n.label))],behaviours:a([m0.config({})])}),S=M=>lh(M==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+M]},s.icons),_=gr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[S("checked"),S("unchecked")]});return ks.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[b,_.asSpec(),w],fieldBehaviours:a([eo.config({disabled:()=>!n.enabled||s.checkUiComponentContext(n.context).shouldDisable}),nl(()=>s.checkUiComponentContext(n.context))])})},D$=(n,s)=>{const i=["tox-form__group",...n.stretched?["tox-form__group--stretched"]:[]],f=fe("htmlpanel",[Lr(b=>{n.onInit(b.element.dom)})]);return n.presets==="presentation"?d0.sketch({dom:{tag:"div",classes:i,innerHtml:n.html},containerBehaviours:a([va.config({...s.tooltips.getConfig({tooltipText:"",onShow:b=>{ur(b.element,"[data-mce-tooltip]:hover").orThunk(()=>ai(b.element)).each(w=>{ii(w,"data-mce-tooltip").each(S=>{va.setComponents(b,s.tooltips.getComponents({tooltipText:S}))})})}}),mode:"children-normal",anchor:b=>({type:"node",node:ur(b.element,"[data-mce-tooltip]:hover").orThunk(()=>ai(b.element).filter(w=>ii(w,"data-mce-tooltip").isSome())),root:b.element,layouts:{onLtr:ie([Oi,ya,Ji,Al,Kr,kl]),onRtl:ie([Oi,ya,Ji,Al,Kr,kl])},bubble:mu(0,-2,{})})}),f])}):d0.sketch({dom:{tag:"div",classes:i,innerHtml:n.html,attributes:{role:"document"}},containerBehaviours:a([ua.config({}),et.config({}),f])})},ic=n=>(s,i,f,b,w)=>Hn(i,"name").fold(()=>n(i,b,F.none(),w),S=>s.field(S,n(i,b,Hn(f,S),w))),zK=n=>(s,i,f,b,w)=>{const S=qt(i,{source:"dynamic"});return ic(n)(s,S,f,b,w)},DR={bar:ic((n,s)=>E7(n,s.shared)),collection:ic((n,s,i)=>JG(n,s.shared.providers,i)),alertbanner:ic((n,s)=>IK(n,s.shared.providers)),input:ic((n,s,i)=>h$(n,s.shared.providers,i)),textarea:ic((n,s,i)=>TK(n,s.shared.providers,i)),label:ic((n,s,i,f)=>pK(n,s.shared,f)),iframe:zK((n,s,i)=>ZE(n,s.shared.providers,i)),button:ic((n,s)=>BK(n,s.shared.providers)),checkbox:ic((n,s,i)=>HK(n,s.shared.providers,i)),colorinput:ic((n,s,i)=>tK(n,s.shared,s.colorinput,i)),colorpicker:ic((n,s,i)=>M4(n,s.shared.providers,i)),dropzone:ic((n,s,i)=>uK(n,s.shared.providers,i)),grid:ic((n,s)=>dK(n,s.shared)),listbox:ic((n,s,i)=>i$(n,s,i)),selectbox:ic((n,s,i)=>l$(n,s.shared.providers,i)),sizeinput:ic((n,s)=>f$(n,s.shared.providers)),slider:ic((n,s,i)=>SK(n,s.shared.providers,i)),urlinput:ic((n,s,i)=>kR(n,s,s.urlinput,i)),customeditor:ic(lK),htmlpanel:ic((n,s)=>D$(n,s.shared.providers)),imagepreview:ic((n,s,i)=>gK(n,i)),table:ic((n,s)=>EK(n,s.shared.providers)),tree:ic((n,s)=>NK(n,s)),panel:ic((n,s)=>rC(n,s))},jK={field:(n,s)=>s,record:ie([])},_$=(n,s,i,f,b)=>{const w=qt(f,{shared:{interpreter:S=>Z4(n,S,i,w,b)}});return Z4(n,s,i,w,b)},Z4=(n,s,i,f,b)=>Hn(DR,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),w=>w(n,s,i,f,b)),_R=(n,s,i,f)=>Z4(jK,n,s,i,f),KE={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},VK=(n,s,i)=>{const b={maxHeightFunction:Gh()},w=()=>({type:"node",root:vd(Ai(n())),node:F.from(n()),bubble:mu(12,12,KE),layouts:{onRtl:()=>[Il],onLtr:()=>[jf]},overrides:b}),S=()=>({type:"hotspot",hotspot:s(),bubble:mu(-12,12,KE),layouts:{onRtl:()=>[Ji,Kr,Oi],onLtr:()=>[Kr,Ji,Oi]},overrides:b});return()=>i()?w():S()},UK=(n,s,i,f)=>{const w={maxHeightFunction:Gh()},S=()=>({type:"node",root:vd(Ai(s())),node:F.from(s()),bubble:mu(12,12,KE),layouts:{onRtl:()=>[oc],onLtr:()=>[oc]},overrides:w}),_=()=>n?{type:"node",root:vd(Ai(s())),node:F.from(s()),bubble:mu(0,-ki(s()),KE),layouts:{onRtl:()=>[ya],onLtr:()=>[ya]},overrides:w}:{type:"hotspot",hotspot:i(),bubble:mu(0,0,KE),layouts:{onRtl:()=>[ya],onLtr:()=>[ya]},overrides:w};return()=>f()?S():_()},ZK=(n,s,i)=>{const f=()=>({type:"node",root:vd(Ai(n())),node:F.from(n()),layouts:{onRtl:()=>[oc],onLtr:()=>[oc]}}),b=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[Oi],onLtr:()=>[Oi]}});return()=>i()?f():b()},O$=(n,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const i=n.selection.getRng(),f=n.model.table.getSelectedCells();if(f.length>1){const b=f[0],w=f[f.length-1],S={firstCell:mn.fromDom(b),lastCell:mn.fromDom(w)};return F.some(S)}return F.some(di.range(mn.fromDom(i.startContainer),i.startOffset,mn.fromDom(i.endContainer),i.endOffset))}}),WK=n=>s=>({type:"node",root:n(),node:s}),qK=(n,s,i,f)=>{const b=jw(n),w=()=>mn.fromDom(n.getBody()),S=()=>mn.fromDom(n.getContentAreaContainer()),_=()=>b||!f();return{inlineDialog:VK(S,s,_),inlineBottomDialog:UK(n.inline,S,i,_),banner:ZK(S,s,_),cursor:O$(n,w),node:WK(w)}},GK=n=>(s,i)=>{GN(n)(s,i)},KK=n=>()=>jN(n),YK=n=>s=>C4(n,s),XK=n=>s=>s7(n,s),QK=n=>({colorPicker:GK(n),hasCustomColors:KK(n),getColors:YK(n),getColorCols:XK(n)}),JK=n=>()=>aP(n),eY=n=>({isDraggableModal:JK(n)}),tY=n=>{const s=Mn(Zk(n)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},nY=n=>Oo(n,"items"),N$=n=>Oo(n,"format"),OR=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],R$=n=>ts(n,"items"),W4=n=>ts(n,"block"),M$=n=>ts(n,"inline"),oY=n=>ts(n,"selector"),B$=n=>Ho(n,(s,i)=>{if(R$(i)){const f=B$(i.items);return{customFormats:s.customFormats.concat(f.customFormats),formats:s.formats.concat([{title:i.title,items:f.formats}])}}else if(M$(i)||W4(i)||oY(i)){const b=`custom-${z(i.name)?i.name:i.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:b,format:i}]),formats:s.formats.concat([{title:i.title,format:b,icon:i.icon}])}}else return{...s,formats:s.formats.concat(i)}},{customFormats:[],formats:[]}),sY=(n,s)=>{const i=B$(s),f=b=>{dt(b,w=>{n.formatter.has(w.name)||n.formatter.register(w.name,w.format)})};return n.formatter?f(i.customFormats):n.on("init",()=>{f(i.customFormats)}),i.formats},L$=n=>GL(n).map(s=>{const i=sY(n,s);return KL(n)?OR.concat(i):i}).getOr(OR),rY=n=>{const s=Do(n);return s.length===1&&Ve(s,"title")},P$=(n,s,i)=>({...n,type:"formatter",isSelected:s(n.format),getStylePreview:i(n.format)}),F$=(n,s,i,f)=>{const b=M=>P$(M,i,f),w=M=>{const H=_(M.items);return{...M,type:"submenu",getStyleItems:ie(H)}},S=M=>{const H=z(M.name)?M.name:me(M.title),Z=`custom-${H}`,K={...M,type:"formatter",format:Z,isSelected:i(Z),getStylePreview:f(Z)};return n.formatter.register(H,K),K},_=M=>He(M,H=>nY(H)?w(H):N$(H)?b(H):rY(H)?{...H,type:"separator"}:S(H));return _(s)},$$=n=>{const s=_=>()=>n.formatter.match(_),i=_=>()=>{const M=n.formatter.get(_);return M!==void 0?F.some({tag:M.length>0&&(M[0].inline||M[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(_))}):F.none()},f=Mn([]),b=Mn([]),w=Mn(!1);return n.on("PreInit",_=>{const M=L$(n),H=F$(n,M,s,i);f.set(H)}),n.on("addStyleModifications",_=>{const M=F$(n,_.items,s,i);b.set(M),w.set(_.replace)}),{getData:()=>{const _=w.get()?[]:f.get(),M=b.get();return _.concat(M)}}},I$=n=>{let f=0;const b=()=>f>0,w=_=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Ra(_.tooltipText)]}];return{getConfig:_=>({delayForShow:()=>b()?60:300,delayForHide:ie(300),exclusive:!0,lazySink:n,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:w(_),onShow:(M,H)=>{f++,_.onShow&&_.onShow(M,H)},onHide:(M,H)=>{f--,_.onHide&&_.onHide(M,H)},onSetup:_.onSetup}),getComponents:w}},aY=n=>$e(n)&&n.nodeType===1,H$=D1.trim,z$=n=>s=>!!(aY(s)&&(s.contentEditable===n||s.getAttribute("data-mce-contenteditable")===n)),iY=z$("true"),lY=z$("false"),Cv=(n,s,i,f,b)=>({type:n,title:s,url:i,level:f,attach:b}),j$=n=>{let s=n;for(;s=s.parentNode;){const i=s.contentEditable;if(i&&i!=="inherit")return iY(s)}return!1},YE=(n,s)=>He(ta(mn.fromDom(s),n),i=>i.dom),XE=n=>n.innerText||n.textContent,V$=n=>n.id?n.id:me("h"),U$=n=>n&&n.nodeName==="A"&&(n.id||n.name)!==void 0,Z$=n=>U$(n)&&W$(n),cY=n=>n&&/^(H[1-6])$/.test(n.nodeName),W$=n=>j$(n)&&!lY(n),uY=n=>cY(n)&&W$(n),dY=n=>cY(n)?parseInt(n.nodeName.substr(1),10):0,fY=n=>{const s=V$(n),i=()=>{n.id=s};return Cv("header",XE(n)??"","#"+s,dY(n),i)},mY=n=>{const s=n.id||n.name,i=XE(n);return Cv("anchor",i||"#"+s,"#"+s,0,J)},hY=n=>He(xo(n,uY),fY),lC=n=>He(xo(n,Z$),mY),QE=n=>YE("h1,h2,h3,h4,h5,h6,a:not([href])",n),NR=n=>H$(n.title).length>0,gY={find:n=>{const s=QE(n);return xo(hY(s).concat(lC(s)),NR)}},cC="tinymce-url-history",q$=5,uC=n=>z(n)&&/^https?/.test(n),G$=n=>Y(n)&&n.length<=q$&&Je(n,uC),K$=n=>U(n)&&$r(n,s=>!G$(s)).isNone(),Y$=()=>{const n=r2.getItem(cC);if(n===null)return{};let s;try{s=JSON.parse(n)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+cC+" was not valid JSON",i),{};throw i}return K$(s)?s:(console.log("Local storage "+cC+" was not valid format",s),{})},pY=n=>{if(!K$(n))throw new Error(`Bad format for history:
`+JSON.stringify(n));r2.setItem(cC,JSON.stringify(n))},bY=n=>{const s=Y$();return Hn(s,n).getOr([])},yY=(n,s)=>{if(!uC(n))return;const i=Y$(),f=Hn(i,s).getOr([]),b=xo(f,w=>w!==n);i[s]=[n].concat(b).slice(0,q$),pY(i)},X$=n=>!!n,Q$=n=>os(D1.makeMap(n,/[, ]/),X$),q4=n=>F.from(oP(n)),RR=n=>{const s=F.from(oO(n)).filter(X$).map(Q$);return q4(n).fold(yt,i=>s.fold(Lt,f=>Do(f).length>0?f:!1))},vY=(n,s)=>{const i=RR(n);return ue(i)?i?q4(n):F.none():i[s]?q4(n):F.none()},G4=(n,s)=>vY(n,s).map(i=>f=>ls.nu(b=>{const w=(_,M)=>{if(!z(_))throw new Error("Expected value to be string");if(M!==void 0&&!U(M))throw new Error("Expected meta to be a object");b({value:_,meta:M})},S={filetype:s,fieldname:f.fieldname,...F.from(f.meta).getOr({})};i.call(n,w,f.value,S)})),JE=n=>F.from(n).filter(z).getOrUndefined(),J$=n=>sO(n)?F.some({targets:gY.find(n.getBody()),anchorTop:JE(rP(n)),anchorBottom:JE(rO(n))}):F.none(),xY=n=>F.from(sP(n)),wY=n=>({getHistory:bY,addToHistory:yY,getLinkInformation:()=>J$(n),getValidationHandler:()=>xY(n),getUrlPicker:s=>G4(n,s)}),CY=(n,s,i,f)=>{const b=Mn(!1),w=tY(s),S={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:md.translate,isDisabled:()=>!s.ui.isEnabled(),getOption:s.options.get,tooltips:I$(n.dialog),checkUiComponentContext:Te=>{if(Hk(s))return{contextType:"disabled",shouldDisable:!0};const[Ye,st=""]=Te.split(":"),wt=s.ui.registry.getAll().contexts,Ot=Hn(wt,Ye).fold(()=>Hn(wt,"mode").map(kn=>kn("design")).getOr(!1),kn=>st.charAt(0)==="!"?!kn(st.slice(1)):kn(st));return{contextType:Ye,shouldDisable:!Ot}}},_=wY(s),M=$$(s),H=QK(s),Z=eY(s),K=()=>b.get(),ae=Te=>b.set(Te),he={shared:{providers:S,anchors:qK(s,i,f,w.isPositionedAtTop),header:w},urlinput:_,styles:M,colorinput:H,dialog:Z,isContextMenuOpen:K,setContextMenuState:ae},xe=Te=>F.none(),Oe={...he,shared:{...he.shared,interpreter:Te=>_R(Te,{},Oe,xe),getSink:n.popup}},ze={...he,shared:{...he.shared,interpreter:Te=>_R(Te,{},ze,xe),getSink:n.dialog}};return{popup:Oe,dialog:ze}},MR={skipFocus:"ToggleToolbarDrawer skipFocus is deprecated see migration guide: https://www.tiny.cloud/docs/tinymce/latest/migration-from-7x/"},SY=n=>{console.warn(MR[n],new Error().stack)},BR=(n,s,i)=>{const f=(on,mo)=>{dt([s,...i],to=>{to.broadcastEvent(on,mo)})},b=(on,mo)=>{dt([s,...i],to=>{to.broadcastOn([on],mo)})},w=on=>b(Jm(),{target:on.target}),S=on=>{b(gf(),{closedTooltip:()=>{on.preventDefault()}})},_=qi(),M=$s(_,"touchstart",w),H=$s(_,"touchmove",on=>f(Fp(),on)),Z=$s(_,"touchend",on=>f(ub(),on)),K=$s(_,"mousedown",w),ae=$s(_,"mouseup",on=>{on.raw.button===0&&b(o0(),{target:on.target})}),he=on=>b(Jm(),{target:mn.fromDom(on.target)}),xe=on=>{on.button===0&&b(o0(),{target:mn.fromDom(on.target)})},Oe=()=>{dt(n.editorManager.get(),on=>{n!==on&&on.dispatch("DismissPopups",{relatedTarget:n})})},ze=on=>f(fm(),Za(on)),Te=on=>{b(pl(),{}),f(xi(),Za(on))},Ye=Ai(mn.fromDom(n.getElement())),st=Wu(Ye,"scroll",on=>{requestAnimationFrame(()=>{const mo=n.getContainer();if(mo!=null){const ys=Wb(n,s.element).map(ho=>[ho.element,...ho.others]).getOr([]);It(ys,ho=>oe(ho,on.target))&&(n.dispatch("ElementScroll",{target:on.target.dom}),f(nd(),on))}})}),wt=()=>b(pl(),{}),Ot=on=>{on.state&&b(Jm(),{target:mn.fromDom(n.getContainer())})},kn=on=>{b(Jm(),{target:mn.fromDom(on.relatedTarget.getContainer())})},Jt=on=>n.dispatch("focusin",on),rn=on=>n.dispatch("focusout",on);n.on("PostRender",()=>{n.on("click",he),n.on("tap",he),n.on("mouseup",xe),n.on("mousedown",Oe),n.on("ScrollWindow",ze),n.on("ResizeWindow",Te),n.on("ResizeEditor",wt),n.on("AfterProgressState",Ot),n.on("DismissPopups",kn),n.on("CloseActiveTooltips",S),dt([s,...i],on=>{on.element.dom.addEventListener("focusin",Jt),on.element.dom.addEventListener("focusout",rn)})}),n.on("remove",()=>{n.off("click",he),n.off("tap",he),n.off("mouseup",xe),n.off("mousedown",Oe),n.off("ScrollWindow",ze),n.off("ResizeWindow",Te),n.off("ResizeEditor",wt),n.off("AfterProgressState",Ot),n.off("DismissPopups",kn),n.off("CloseActiveTooltips",S),dt([s,...i],on=>{on.element.dom.removeEventListener("focusin",Jt),on.element.dom.removeEventListener("focusout",rn)}),K.unbind(),M.unbind(),H.unbind(),Z.unbind(),ae.unbind(),st.unbind()}),n.on("detach",()=>{dt([s,...i],xA),dt([s,...i],on=>on.destroy())})},EY=J,LR=yt,eI=ie([]);var TY=Object.freeze({__proto__:null,setup:EY,isDocked:LR,getBehaviours:eI});const PR=ie(me("toolbar-height-change")),O1={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},tI="tox-tinymce--toolbar-sticky-on",AY="tox-tinymce--toolbar-sticky-off",Yne=(n,s)=>{const i=Oc(s),b=yp(s).dom.innerHeight,w=ka(i),S=mn.fromDom(n.elm),_=Nh(S),M=bi(S),H=_.y,Z=H+M,K=Bl(s),ae=bi(s),he=K.top,xe=he+ae,Oe=Math.abs(he-w.top)<2,ze=Math.abs(xe-(w.top+b))<2;if(Oe&&H<xe)Sd(w.left,H-ae,i);else if(ze&&Z>he){const Te=H-b+M+ae;Sd(w.left,Te,i)}},eT=(n,s)=>Ve(Ja.getModes(n),s),FR=n=>{const s=f=>ki(f)+(parseInt(yr(f,"margin-top"),10)||0)+(parseInt(yr(f,"margin-bottom"),10)||0),i=n.element;Tu(i).each(f=>{const b="padding-"+Ja.getModes(n)[0];if(Ja.isDocked(n)){const w=Bi(f);So(i,"width",w+"px"),So(f,b,s(i)+"px")}else cs(i,"width"),cs(f,b)})},$R=(n,s)=>{s?(ha(n,O1.fadeOutClass),Ku(n,[O1.transitionClass,O1.fadeInClass])):(ha(n,O1.fadeInClass),Ku(n,[O1.fadeOutClass,O1.transitionClass]))},nI=(n,s)=>{const i=mn.fromDom(n.getContainer());s?(nr(i,tI),ha(i,AY)):(nr(i,AY),ha(i,tI))},kY=(n,s)=>{const i=Oc(s);ri(i).filter(f=>!oe(s,f)).filter(f=>oe(f,mn.fromDom(i.dom.body))||ke(n,f)).each(()=>Fa(s))},DY=(n,s)=>ai(n).orThunk(()=>s().toOptional().bind(i=>ai(i.element))),_Y=(n,s,i)=>{n.inline||(s.header.isPositionedAtTop()||n.on("ResizeEditor",()=>{i().each(Ja.reset)}),n.on("ResizeWindow ResizeEditor",()=>{i().each(FR)}),n.on("SkinLoaded",()=>{i().each(f=>{Ja.isDocked(f)?Ja.reset(f):Ja.refresh(f)})}),n.on("FullscreenStateChanged",()=>{i().each(Ja.reset)})),n.on("AfterScrollIntoView",f=>{i().each(b=>{Ja.refresh(b);const w=b.element;qa(w)&&Yne(f,w)})}),n.on("PostRender",()=>{nI(n,!1)})},OY=n=>n().map(Ja.isDocked).getOr(!1),oI=()=>[fd.config({channels:{[PR()]:{onReceive:FR}}})],sI=(n,s)=>{const i=Co(),f=s.getSink,b=_=>{f().each(M=>_(M.element))},w=_=>{n.inline||FR(_),nI(n,Ja.isDocked(_)),_.getSystem().broadcastOn([pl()],{}),f().each(M=>M.getSystem().broadcastOn([pl()],{}))},S=n.inline?[]:oI();return[et.config({}),Ja.config({contextual:{lazyContext:_=>{const M=ki(_.element),H=n.inline?n.getContentAreaContainer():n.getContainer();return F.from(H).map(Z=>{const K=_i(mn.fromDom(Z));return Wb(n,_.element).fold(()=>{const he=K.height-M,xe=K.y+(eT(_,"top")?0:M);return Pi(K.x,xe,K.width,he)},he=>{const xe=Im(K,Vx(he)),Oe=eT(_,"top")?xe.y:xe.y+M;return Pi(xe.x,Oe,xe.width,xe.height-M)})})},onShow:()=>{b(_=>$R(_,!0))},onShown:_=>{b(M=>El(M,[O1.transitionClass,O1.fadeInClass])),i.get().each(M=>{kY(_.element,M),i.clear()})},onHide:_=>{DY(_.element,f).fold(i.clear,i.set),b(M=>$R(M,!1))},onHidden:()=>{b(_=>El(_,[O1.transitionClass]))},...O1},lazyViewport:_=>Wb(n,_.element).fold(()=>{const H=bc(),Z=tP(n),K=H.y+(eT(_,"top")&&!xP(n)?Z:0),ae=H.height-(eT(_,"bottom")?Z:0);return{bounds:Pi(H.x,K,H.width,ae),optScrollEnv:F.none()}},H=>({bounds:Vx(H),optScrollEnv:F.some({currentScrollTop:H.element.dom.scrollTop,scrollElmTop:Bl(H.element).top})})),modes:[s.header.getDockingMode()],onDocked:w,onUndocked:w}),...S]};var NY=Object.freeze({__proto__:null,setup:_Y,isDocked:OY,getBehaviours:sI});const RY=n=>{const s=n.editor,i=n.sticky?sI:eI;return{uid:n.uid,dom:n.dom,components:n.components,behaviours:a(i(s,n.sharedBackstage))}};var rI=oh({factory:(n,s)=>{const i=(b,w)=>{const S=He(w,_=>{const M={type:"menubutton",text:_.text,fetch:Z=>{Z(_.getItems())},context:"any"},H=JO(M).mapError(Z=>Mg(Z)).getOrDie();return qE(H,"tox-mbtn",s.backstage,F.some("menuitem"))});jo.set(b,S)},f={focus:lo.focusIn,setMenus:i};return{uid:n.uid,dom:n.dom,components:[],behaviours:a([jo.config({}),fe("menubar-events",[Lr(b=>{n.onSetup(b)}),Mt(Jl(),(b,w)=>{ur(b.element,".tox-mbtn--active").each(S=>{yi(w.event.target,".tox-mbtn").each(_=>{oe(S,_)||b.getSystem().getByDom(S).each(M=>{b.getSystem().getByDom(_).each(H=>{Gf.expand(H),Gf.close(M),et.focus(H)})})})})}),Mt($h(),(b,w)=>{w.event.prevFocus.bind(S=>b.getSystem().getByDom(S).toOptional()).each(S=>{w.event.newFocus.bind(_=>b.getSystem().getByDom(_).toOptional()).each(_=>{Gf.isOpen(S)&&(Gf.expand(_),Gf.close(S))})})})]),lo.config({mode:"flow",selector:".tox-mbtn",onEscape:b=>(n.onEscape(b),F.some(!0))}),ua.config({})]),apis:f,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Wt("dom"),Wt("uid"),Wt("onEscape"),Wt("backstage"),pt("onSetup",J)],apis:{focus:(n,s)=>{n.focus(s)},setMenus:(n,s,i)=>{n.setMenus(s,i)}}});const aI=" Get all features",iI="https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",MY=n=>{const s=n.promotionLink?[{dom:{tag:"a",attributes:{href:iI,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:aI}}]:[];return{uid:n.uid,dom:n.dom,components:s}},BY=n=>{const{sidebars:s}=n.ui.registry.getAll();dt(Do(s),i=>{const f=s[i],b=()=>oo(F.from(n.queryCommandValue("ToggleSidebar")),i);n.ui.registry.addToggleButton(i,{icon:f.icon,tooltip:f.tooltip,onAction:w=>{n.execCommand("ToggleSidebar",!1,i),w.setActive(b())},onSetup:w=>{w.setActive(b());const S=()=>w.setActive(b());return n.on("ToggleSidebar",S),()=>{n.off("ToggleSidebar",S)}},context:"any"})})},uh=n=>({element:()=>n.element.dom}),LY=(n,s)=>{const i=He(Do(s),f=>{const b=s[f],w=Qu(fN(b));return{name:f,getApi:uh,onSetup:w.onSetup,onShow:w.onShow,onHide:w.onHide}});return He(i,f=>{const b=Mn(J);return n.slot(f.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Jw.unnamedEvents([E0(f,b),pv(f,b),Mt($p(),(w,S)=>{const _=S.event;Be(i,H=>H.name===_.name).each(H=>{(_.visible?H.onShow:H.onHide)(H.getApi(w))})})])})})},lI=n=>pu.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:LY(s,n),slotBehaviours:Jw.unnamedEvents([Lr(i=>pu.hideAllSlots(i))])})),cI=(n,s,i)=>{$t.getCurrent(n).each(b=>{jo.set(b,[lI(s)]);const w=i?.toLowerCase();z(w)&&ts(s,w)&&$t.getCurrent(b).each(S=>{pu.showSlot(S,w),Vd.immediateGrow(b),cs(b.element,"width"),K4(n.element,"region")})})},K4=(n,s)=>{uo(n,"role",s)},tT=(n,s)=>{$t.getCurrent(n).each(f=>{$t.getCurrent(f).each(w=>{Vd.hasGrown(f)?pu.isShowing(w,s)?(Vd.shrink(f),K4(n.element,"presentation")):(pu.hideAllSlots(w),pu.showSlot(w,s),K4(n.element,"region")):(pu.hideAllSlots(w),pu.showSlot(w,s),Vd.grow(f),K4(n.element,"region"))})})},PY=n=>$t.getCurrent(n).bind(i=>Vd.isGrowing(i)||Vd.hasGrown(i)?$t.getCurrent(i).bind(w=>Be(pu.getSlotNames(w),S=>pu.isShowing(w,S))):F.none()),dC=me("FixSizeEvent"),IR=me("AutoSizeEvent"),Y4=n=>({uid:n.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:a([ua.config({}),et.config({}),Vd.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{$t.getCurrent(s).each(pu.hideAllSlots),fs(s,IR)},onGrown:s=>{fs(s,IR)},onStartGrow:s=>{so(s,dC,{width:Gr(s.element,"width").getOr("")})},onStartShrink:s=>{so(s,dC,{width:Bi(s.element)+"px"})}}),jo.config({}),$t.config({find:s=>{const i=jo.contents(s);return sn(i)}})])}],behaviours:a([cp.childAt(0),fe("sidebar-sliding-events",[Mt(dC,(s,i)=>{So(s.element,"width",i.event.width)}),Mt(IR,(s,i)=>{cs(s.element,"width")})])])}),FY=n=>(s,i)=>({dom:{tag:"div",attributes:{"aria-label":n.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:h0('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),uI=n=>$t.getCurrent(n).each(s=>Fa(s.element,!0)),lg=(n,s)=>{const i="tabindex",f=`data-mce-${i}`;F.from(n.iframeElement).map(mn.fromDom).each(b=>{s?(ii(b,i).each(w=>uo(b,f,w)),uo(b,i,-1)):(cr(b,i),ii(b,f).each(w=>{uo(b,i,w),cr(b,f)}))})},$Y=(n,s,i,f)=>{const b=s.element;if(lg(n,i),i)tn.block(s,FY(f)),cs(b,"display"),cr(b,"aria-hidden"),n.hasFocus()&&uI(s);else{const w=$t.getCurrent(s).exists(S=>Jc(S.element));tn.unblock(s),So(b,"display","none"),uo(b,"aria-hidden","true"),w&&n.focus()}},X4=n=>({uid:n.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:a([jo.config({}),tn.config({focus:!1}),$t.config({find:s=>sn(s.components())})]),components:[]}),dI=n=>n.type==="focusin",fI=n=>dI(n)?(n.composed?sn(n.composedPath()):F.from(n.target)).map(mn.fromDom).filter(Yc).exists(i=>Da(i,"mce-pastebin")):!1,IY=(n,s,i)=>{const f=Mn(!1),b=Co(),w=_=>{f.get()&&!fI(_)&&(_.preventDefault(),uI(s()),n.editorManager.setActive(n))};n.inline||n.on("PreInit",()=>{n.dom.bind(n.getWin(),"focusin",w),n.on("BeforeExecCommand",_=>{_.command.toLowerCase()==="mcefocus"&&_.value!==!0&&w(_)})});const S=_=>{_!==f.get()&&(f.set(_),$Y(n,s(),_,i.providers),gG(n,_))};n.on("ProgressState",_=>{if(b.on(clearTimeout),it(_.time)){const M=Ik.setEditorTimeout(n,()=>S(_.state),_.time);b.set(M)}else S(_.state),b.clear()})},HR=n=>{const s=n.label.isNone()?n.title.fold(()=>({}),i=>({attributes:{"aria-label":i}})):n.label.fold(()=>({}),i=>({attributes:{"aria-label":i}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(n.label.isSome()?["tox-toolbar__group_with_label"]:[]),...s},components:[...n.label.map(i=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[Ra(i)]})).toArray(),Fk.parts.items({})],items:n.items,markers:{itemSelector:".tox-tbtn:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:a([ua.config({}),et.config({ignore:!0})])}},Q4=n=>Fk.sketch(HR(n)),mI=(n,s)=>{const i=Lr(f=>{const b=He(n.initGroups,Q4);g0.setGroups(f,b)});return a([S0.toolbarButton(()=>n.providers.checkUiComponentContext("any").shouldDisable),nl(()=>n.providers.checkUiComponentContext("any")),lo.config({mode:s,onEscape:n.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),fe("toolbar-events",[i])])},hI=n=>{const s=n.cyclicKeying?"cyclic":"acyclic";return{uid:n.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":HR({title:F.none(),label:F.none(),items:[]}),"overflow-button":C$({context:"any",icon:F.some("more-drawer"),enabled:!0,tooltip:F.some("Reveal or hide additional toolbar items")},F.none(),n.providers,[],"overflow-button")},splitToolbarBehaviours:mI(n,s)}},HY=n=>{const s=hI(n),i=4,f=$L.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return $L.sketch({...s,lazySink:n.getSink,getOverflowBounds:()=>{const b=n.moreDrawerData.lazyHeader().element,w=Nh(b),S=bp(b),_=Nh(S),M=Math.max(S.dom.scrollHeight,_.height);return Pi(w.x+i,_.y,w.width-i*2,M)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n.attributes}}},components:[f],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:b=>n.onToggled(b,!0),onClosed:b=>n.onToggled(b,!1)})},zY=n=>{const s=Z5.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=Z5.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),f=hI(n);return Z5.sketch({...f,components:[s,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:b=>{b.getSystem().broadcastOn([PR()],{type:"opened"}),n.onToggled(b,!0)},onClosed:b=>{b.getSystem().broadcastOn([PR()],{type:"closed"}),n.onToggled(b,!1)}})},J4=n=>{const s=n.cyclicKeying?"cyclic":"acyclic";return g0.sketch({uid:n.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(n.type===ih.scrolling?["tox-toolbar--scrolling"]:[])},components:[g0.parts.groups({})],toolbarBehaviours:mI(n,s)})},jY=(n,s)=>{const i=n.type==="togglebutton",f=n.icon.map(Te=>wv(Te,s.icons)).map(gr),w=Te=>{const Ye=kn=>{f.map(Jt=>Jt.getOpt(Te).each(rn=>{jo.set(rn,[wv(kn,s.icons)])}))},st=kn=>{const Jt=Te.element;kn?(nr(Jt,"tox-button--enabled"),uo(Jt,"aria-pressed",!0)):(ha(Jt,"tox-button--enabled"),cr(Jt,"aria-pressed"))},wt=()=>Da(Te.element,"tox-button--enabled"),Ot=()=>Fa(Te.element);if(i)return n.onAction({setIcon:Ye,setActive:st,isActive:wt,focus:Ot});if(n.type==="button")return n.onAction({setIcon:Ye})},S={...n,name:i?n.text.getOr(n.icon.getOr("")):n.text??n.icon.getOr(""),primary:n.buttonType==="primary",buttonType:F.from(n.buttonType),tooltip:n.tooltip,icon:n.icon,enabled:!0,borderless:n.borderless},_=vR(n.buttonType??"secondary"),M=i?n.text.map(s.translate):F.some(s.translate(n.text)),H=M.map(Ra),Z=S.tooltip.or(M).map(Te=>({"aria-label":s.translate(Te)})).getOr({}),K=f.map(Te=>Te.asSpec()),ae=T1([K,H]),he=n.icon.isSome()&&H.isSome(),xe={tag:"button",classes:_.concat(...n.icon.isSome()&&!he?["tox-button--icon"]:[]).concat(...he?["tox-button--icon-and-text"]:[]).concat(...n.borderless?["tox-button--naked"]:[]).concat(...n.type==="togglebutton"&&n.active?["tox-button--enabled"]:[]),attributes:Z},Oe=[],ze=j4(S,F.some(w),Oe,xe,ae,n.tooltip,s);return rc.sketch(ze)},zR=(n,s)=>jY(n,s),gI=(n,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:He(n.buttons,i=>zR(i,s))}),jR=Ua().deviceType,VY=jR.isPhone(),pI=jR.isTablet(),UY=n=>{let s=!1;const i=He(n.buttons,f=>f.type==="group"?(s=!0,gI(f,n.providers)):zR(f,n.providers));return{uid:n.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...VY||pI?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:a([et.config({}),lo.config({mode:"flow",selector:"button, .tox-button",focusInside:Pg.OnEnterOrSpaceMode})]),components:s?i:[d0.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),d0.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:i})]}},ZY=n=>({uid:n.uid,behaviours:a([et.config({}),ua.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}}),bI=(n,s,i,f)=>{const b={getPane:w=>Ac.getPart(w,n,"pane"),getOnShow:w=>n.viewConfig.onShow,getOnHide:w=>n.viewConfig.onHide};return{uid:n.uid,dom:n.dom,components:s,behaviours:a([et.config({}),lo.config({mode:"cyclic",focusInside:Pg.OnEnterOrSpaceMode})]),apis:b}};var c2=pf({name:"silver.View",configFields:[Wt("viewConfig")],partFields:[fu({factory:{sketch:UY},schema:[Wt("buttons"),Wt("providers")],name:"header"}),fu({factory:{sketch:ZY},schema:[],name:"pane"})],factory:bI,apis:{getPane:(n,s)=>n.getPane(s),getOnShow:(n,s)=>n.getOnShow(s),getOnHide:(n,s)=>n.getOnHide(s)}});const yI=(n,s,i)=>Es(s,(f,b)=>{const w=Qu(eG(f));return n.slot(b,c2.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:w,components:[...w.buttons.length>0?[c2.parts.header({buttons:w.buttons,providers:i})]:[],c2.parts.pane({})]}))}),WY=(n,s)=>pu.sketch(i=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:yI(i,n,s),slotBehaviours:Jw.unnamedEvents([Lr(f=>pu.hideAllSlots(f))])})),vI=n=>Be(pu.getSlotNames(n),s=>pu.isShowing(n,s)),qY=n=>{const s=n.element;So(s,"display","none"),uo(s,"aria-hidden","true")},xI=n=>{const s=n.element;cs(s,"display"),cr(s,"aria-hidden")},GY=n=>({getContainer:ie(n)}),wI=(n,s,i)=>{pu.getSlot(n,s).each(f=>{c2.getPane(f).each(b=>{i(f)(GY(b.element.dom))})})},KY=(n,s)=>wI(n,s,c2.getOnShow),YY=(n,s)=>wI(n,s,c2.getOnHide);var e3=oh({factory:(n,s)=>{const w={setViews:(S,_)=>{jo.set(S,[WY(_,s.backstage.shared.providers)])},whichView:S=>$t.getCurrent(S).bind(vI),toggleView:(S,_,M,H)=>$t.getCurrent(S).exists(Z=>{const K=vI(Z),ae=K.exists(xe=>H===xe),he=pu.getSlot(Z,H).isSome();return he&&(pu.hideAllSlots(Z),ae?(qY(S),_()):(M(),xI(S),pu.showSlot(Z,H),KY(Z,H)),K.each(xe=>YY(Z,xe))),he})};return{uid:n.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:a([jo.config({}),$t.config({find:S=>{const _=jo.contents(S);return sn(_)}})]),apis:w}},name:"silver.ViewWrapper",configFields:[Wt("backstage")],apis:{setViews:(n,s,i)=>n.setViews(s,i),toggleView:(n,s,i,f,b)=>n.toggleView(s,i,f,b),whichView:(n,s)=>n.whichView(s)}});const XY=(n,s,i)=>{let f=!1;const b=S=>{fy(S,".tox-statusbar").each(_=>{yr(_,"display")==="none"&&ea(_,"aria-hidden")==="true"?(cs(_,"display"),cr(_,"aria-hidden")):(So(_,"display","none"),uo(_,"aria-hidden","true"))})},w={getSocket:S=>Ac.getPart(S,n,"socket"),setSidebar:(S,_,M)=>{Ac.getPart(S,n,"sidebar").each(H=>cI(H,_,M))},toggleSidebar:(S,_)=>{Ac.getPart(S,n,"sidebar").each(M=>tT(M,_))},whichSidebar:S=>Ac.getPart(S,n,"sidebar").bind(PY).getOrNull(),getHeader:S=>Ac.getPart(S,n,"header"),getToolbar:S=>Ac.getPart(S,n,"toolbar"),setToolbar:(S,_)=>{Ac.getPart(S,n,"toolbar").each(M=>{const H=He(_,Q4);M.getApis().setGroups(M,H)})},setToolbars:(S,_)=>{Ac.getPart(S,n,"multiple-toolbar").each(M=>{const H=He(_,Z=>He(Z,Q4));g8.setItems(M,H)})},refreshToolbar:S=>{Ac.getPart(S,n,"toolbar").each(M=>M.getApis().refresh(M))},toggleToolbarDrawer:S=>{Ac.getPart(S,n,"toolbar").each(_=>{sa(_.getApis().toggle,M=>M(_))})},toggleToolbarDrawerWithoutFocusing:S=>{Ac.getPart(S,n,"toolbar").each(_=>{sa(_.getApis().toggleWithoutFocusing,M=>M(_))})},isToolbarDrawerToggled:S=>Ac.getPart(S,n,"toolbar").bind(_=>F.from(_.getApis().isOpen).map(M=>M(_))).getOr(!1),getThrobber:S=>Ac.getPart(S,n,"throbber"),focusToolbar:S=>{Ac.getPart(S,n,"toolbar").orThunk(()=>Ac.getPart(S,n,"multiple-toolbar")).each(M=>{lo.focusIn(M)})},setMenubar:(S,_)=>{Ac.getPart(S,n,"menubar").each(M=>{rI.setMenus(M,_)})},focusMenubar:S=>{Ac.getPart(S,n,"menubar").each(_=>{rI.focus(_)})},setViews:(S,_)=>{Ac.getPart(S,n,"viewWrapper").each(M=>{e3.setViews(M,_)})},toggleView:(S,_)=>Ac.getPart(S,n,"viewWrapper").exists(M=>e3.toggleView(M,()=>w.showMainView(S),()=>w.hideMainView(S),_)),whichView:S=>Ac.getPart(S,n,"viewWrapper").bind(e3.whichView).getOrNull(),hideMainView:S=>{f=w.isToolbarDrawerToggled(S),f&&w.toggleToolbarDrawer(S),Ac.getPart(S,n,"editorContainer").each(_=>{const M=_.element;b(M),So(M,"display","none"),uo(M,"aria-hidden","true")})},showMainView:S=>{f&&w.toggleToolbarDrawer(S),Ac.getPart(S,n,"editorContainer").each(_=>{const M=_.element;b(M),cs(M,"display"),cr(M,"aria-hidden")})}};return{uid:n.uid,dom:n.dom,components:s,apis:w,behaviours:n.behaviours}},QY=rh.optional({factory:rI,name:"menubar",schema:[Wt("backstage")]}),JY=n=>n.type===ih.sliding?zY:n.type===ih.floating?HY:J4,eX=rh.optional({factory:{sketch:n=>g8.sketch({uid:n.uid,dom:n.dom,listBehaviours:a([lo.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>J4({type:n.type,uid:me("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:n.providers,onEscape:()=>(n.onEscape(),F.some(!0))}),setupItem:(s,i,f,b)=>{g0.setGroups(i,f)},shell:!0})},name:"multiple-toolbar",schema:[Wt("dom"),Wt("onEscape")]}),VR=rh.optional({factory:{sketch:n=>{const s=JY(n),i={type:n.type,uid:n.uid,onEscape:()=>(n.onEscape(),F.some(!0)),onToggled:(f,b)=>n.onToolbarToggled(b),cyclicKeying:!1,initGroups:[],getSink:n.getSink,providers:n.providers,moreDrawerData:{lazyToolbar:n.lazyToolbar,lazyMoreButton:n.lazyMoreButton,lazyHeader:n.lazyHeader},attributes:n.attributes};return s(i)}},name:"toolbar",schema:[Wt("dom"),Wt("onEscape"),Wt("getSink")]}),tX=rh.optional({factory:{sketch:RY},name:"header",schema:[Wt("dom")]}),nX=rh.optional({factory:{sketch:MY},name:"promotion",schema:[Wt("dom"),Wt("promotionLink")]}),CI=rh.optional({name:"socket",schema:[Wt("dom")]}),SI=rh.optional({factory:{sketch:Y4},name:"sidebar",schema:[Wt("dom")]}),oX=rh.optional({factory:{sketch:X4},name:"throbber",schema:[Wt("dom")]}),sX=rh.optional({factory:e3,name:"viewWrapper",schema:[Wt("backstage")]}),rX=n=>({uid:n.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:n.components}),aX=rh.optional({factory:{sketch:rX},name:"editorContainer",schema:[]});var Yr=pf({name:"OuterContainer",factory:XY,configFields:[Wt("dom"),Wt("behaviours")],partFields:[tX,QY,VR,eX,CI,SI,nX,oX,sX,aX],apis:{getSocket:(n,s)=>n.getSocket(s),setSidebar:(n,s,i,f)=>{n.setSidebar(s,i,f)},toggleSidebar:(n,s,i)=>{n.toggleSidebar(s,i)},whichSidebar:(n,s)=>n.whichSidebar(s),getHeader:(n,s)=>n.getHeader(s),getToolbar:(n,s)=>n.getToolbar(s),setToolbar:(n,s,i)=>{n.setToolbar(s,i)},setToolbars:(n,s,i)=>{n.setToolbars(s,i)},refreshToolbar:(n,s)=>n.refreshToolbar(s),toggleToolbarDrawer:(n,s)=>{n.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(n,s)=>{n.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(n,s)=>n.isToolbarDrawerToggled(s),getThrobber:(n,s)=>n.getThrobber(s),setMenubar:(n,s,i)=>{n.setMenubar(s,i)},focusMenubar:(n,s)=>{n.focusMenubar(s)},focusToolbar:(n,s)=>{n.focusToolbar(s)},setViews:(n,s,i)=>{n.setViews(s,i)},toggleView:(n,s,i)=>n.toggleView(s,i),whichView:(n,s)=>n.whichView(s)}});const iX="file edit view insert format tools table help",UR={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code suggestededits revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image video link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},t3=(n,s,i)=>{const f=XL(i).split(/[ ,]/);return{text:n.title,getItems:()=>Le(n.items,b=>{const w=b.toLowerCase();return w.trim().length===0?[]:It(f,S=>S===w)?[]:w==="separator"||w==="|"?[{type:"separator"}]:s.menuItems[w]?[s.menuItems[w]]:[]})}},nT=n=>n.split(" "),EI=(n,s)=>{const i={...UR,...s.menus},f=Do(s.menus).length>0,b=s.menubar===void 0||s.menubar===!0?nT(iX):nT(s.menubar===!1?"":s.menubar),w=xo(b,_=>{const M=ts(UR,_);return f?M||Hn(s.menus,_).exists(H=>ts(H,"items")):M}),S=He(w,_=>{const M=i[_];return t3({title:M.title,items:nT(M.items)},s,n)});return xo(S,_=>{const M=H=>z(H)||H.type!=="separator";return _.getItems().length>0&&It(_.getItems(),M)})},lX=n=>{const s=()=>{n._skinLoaded=!0,KF(n)};return()=>{n.initialized?s():n.on("init",s)}},TI=(n,s)=>()=>y4(n,{message:s}),cX=n=>{const s=gE(n);return s?F.from(s):F.none()},AI=(n,s,i)=>(n.on("remove",()=>i.unload(s)),i.load(s)),n3=(n,s,i,f)=>(n.on("remove",()=>f.unloadRawCss(s)),f.loadRawCss(s,i)),kI=(n,s)=>"ui/"+n+"/"+s,uX=n=>F.from(tinymce.Resource.get(n)).filter(z),ZR=(n,s,i="")=>{const f=cX(n).map(w=>kI(w,`${s}.css`)),b=f.bind(uX);return Ts(f,b,(w,S)=>({_kind:"load-raw",key:w,css:S})).getOrThunk(()=>{const w=n.editorManager.suffix;return{_kind:"load-stylesheet",url:i+`/${s}${w}.css`}})},WR=(n,s)=>{const i=n.ui.styleSheetLoader,f=ZR(n,"skin",s);switch(f._kind){case"load-raw":const{key:b,css:w}=f;return n3(n,b,w,i),Promise.resolve();case"load-stylesheet":const{url:S}=f;return AI(n,S,i);default:return Promise.resolve()}},dX=(n,s)=>{if(xd(mn.fromDom(n.getElement()))){const f=Pw.DOM.styleSheetLoader,b=ZR(n,"skin.shadowdom",s);switch(b._kind){case"load-raw":const{key:w,css:S}=b;return n3(n,w,S,f),Promise.resolve();case"load-stylesheet":const{url:_}=b;return AI(n,_,f);default:return Promise.resolve()}}else return Promise.resolve()},fX=(n,s,i)=>{const b=ZR(n,s?"content.inline":"content",i);switch(b._kind){case"load-raw":const{key:w,css:S}=b;return s?n3(n,w,S,n.ui.styleSheetLoader):n.on("PostRender",()=>{n3(n,w,S,n.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:_}=b;return i&&n.contentCSS.push(_),Promise.resolve();default:return Promise.resolve()}},DI=async(n,s)=>{const i=iO(s);if(await fX(s,n,i),!pE(s)&&z(i))return Promise.all([WR(s,i),dX(s,i)]).then()},_I=(n,s)=>DI(n,s).then(lX(s),TI(s,"Skin could not be loaded")),OI=fn(_I,!1),mX=fn(_I,!0),qR=n=>({isEnabled:()=>!eo.isDisabled(n),setEnabled:s=>eo.set(n,!s),setText:s=>so(n,ig,{text:s}),setIcon:s=>so(n,l2,{icon:s})}),hX=n=>({setActive:s=>{Ms.set(n,s)},isActive:()=>Ms.isOn(n),isEnabled:()=>!eo.isDisabled(n),setEnabled:s=>eo.set(n,!s),setText:s=>so(n,ig,{text:s}),setIcon:s=>so(n,l2,{icon:s})}),gX=(n,s)=>n.map(i=>({"aria-label":s.translate(i)})).getOr({}),pX=me("focus-button"),o3=(n,s,i,f,b,w,S)=>{const _=s.map(H=>gr(fR(H,"tox-tbtn",b))),M=n.map(H=>gr(wv(H,b.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:{...gX(i,b),...$e(S)?{"data-mce-name":S}:{}}},components:T1([M.map(H=>H.asSpec()),_.map(H=>H.asSpec())]),eventOrder:{[uu()]:["focusing","alloy.base.behaviour",_1],[Lc()]:[_1,"toolbar-group-button-events"],[wc()]:[_1,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:a([S0.toolbarButton(()=>b.checkUiComponentContext(w).shouldDisable),nl(()=>b.checkUiComponentContext(w)),fe(_1,[Lr((H,Z)=>F4(H)),Mt(ig,(H,Z)=>{_.bind(K=>K.getOpt(H)).each(K=>{jo.set(K,[Ra(b.translate(Z.event.text))])})}),Mt(l2,(H,Z)=>{M.bind(K=>K.getOpt(H)).each(K=>{jo.set(K,[wv(Z.event.icon,b.icons)])})}),Mt(uu(),(H,Z)=>{Z.event.prevent(),fs(H,pX)})])].concat(f.getOr([])))}},bX=(n,s,i,f,b)=>{const w=s.shared,S=Mn(J),_={toolbarButtonBehaviours:[],getApi:qR,onSetup:n.onSetup},M=[fe("toolbar-group-button-events",[E0(_,S),pv(_,S)]),...n.tooltip.map(H=>va.config(s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(H)}))).toArray()];return Zb.sketch({lazySink:w.getSink,fetch:()=>ls.nu(H=>{H(He(i(n.items),Q4))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:o3(n.icon,n.text,n.tooltip,F.some(M),w.providers,n.context,b),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:f}}}})},NI=(n,s,i,f)=>{const b=Mn(J),w=o3(n.icon,n.text,n.tooltip,F.none(),i,n.context,f);return rc.sketch({dom:w.dom,components:w.components,eventOrder:uR,buttonBehaviours:{...a([fe("toolbar-button-events",[bK({onAction:n.onAction,getApi:s.getApi}),E0(s,b),pv(s,b)]),...n.tooltip.map(S=>va.config(i.tooltips.getConfig({tooltipText:i.translate(S)+n.shortcut.map(_=>` (${yN(_)})`).getOr("")}))).toArray(),S0.toolbarButton(()=>!n.enabled||i.checkUiComponentContext(n.context).shouldDisable),nl(()=>i.checkUiComponentContext(n.context))].concat(s.toolbarButtonBehaviours)),[_1]:w.buttonBehaviours?.[_1]}})},yX=(n,s,i)=>oT(n,s,[],i),oT=(n,s,i,f)=>NI(n,{toolbarButtonBehaviours:i.length>0?[fe("toolbarButtonWith",i)]:[],getApi:qR,onSetup:n.onSetup},s,f),GR=(n,s,i)=>RI(n,s,[],i),RI=(n,s,i,f)=>NI(n,{toolbarButtonBehaviours:[jo.config({}),Ms.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[fe("toolbarToggleButtonWith",i)]:[]),getApi:hX,onSetup:n.onSetup},s,f),vX=(n,s,i)=>f=>ls.nu(b=>s.fetch(b)).map(b=>F.from(JN(qt(A4(me("menu-value"),b,w=>{s.onItemAction(n(f),w)},s.columns,s.presets,ip.CLOSE_ON_EXECUTE,s.select.getOr(yt),i),{movement:vv(s.columns,s.presets),menuBehaviours:Jw.unnamedEvents(s.columns!=="auto"?[]:[Lr((w,S)=>{gN(w,4,_O(s.presets)).each(({numRows:_,numColumns:M})=>{lo.setGridSize(w,_,M)})})])})))),xX=(n,s,i)=>f=>{const b=f.getSystem(),w=f.element,S=()=>{const M=Da(w,"tox-split-button__chevron"),H=M?wl(w).bind(K=>b.getByDom(K).toOptional()):F.some(f),Z=M?F.some(f):Rm(w).bind(K=>b.getByDom(K).toOptional().filter(ae=>Da(ae.element,"tox-split-button__chevron")));return{mainOpt:H,chevronOpt:Z}},_=M=>{const{mainOpt:H,chevronOpt:Z}=S();H.each(M),Z.each(M)};return{isEnabled:()=>{const{mainOpt:M}=S();return M.exists(H=>!eo.isDisabled(H))},setEnabled:M=>_(H=>eo.set(H,!M)),setText:M=>{const{mainOpt:H}=S();H.each(Z=>so(Z,ig,{text:M}))},setIcon:M=>{const{mainOpt:H}=S();H.each(Z=>so(Z,l2,{icon:M}))},setIconFill:(M,H)=>_(Z=>{ur(Z.element,`svg path[class="${M}"], rect[class="${M}"]`).each(K=>{uo(K,"fill",H)})}),isActive:()=>{const{mainOpt:M}=S();return M.exists(H=>Ms.isOn(H))},setActive:M=>{const{mainOpt:H}=S();H.each(Z=>Ms.set(Z,M))},setTooltip:M=>{n.set(M);const{mainOpt:H,chevronOpt:Z}=S();H.each(ae=>uo(ae.element,"aria-label",s.providers.translate(M)));const K=i.chevronTooltip.map(ae=>s.providers.translate(ae)).getOr(s.providers.translate(M));Z.each(ae=>uo(ae.element,"aria-label",K))}}},wX=(n,s,i)=>{const f=Mn(J),b=Mn(n.tooltip.getOr("")),w=xX(b,s,n),S=me("tox-split-menu"),_=Mn(!1),M=()=>({"aria-haspopup":"menu","aria-expanded":String(_.get()),"aria-controls":S}),H=()=>n.tooltip.map(Oe=>s.providers.translate(Oe)).getOr(s.providers.translate("Text color")),Z=()=>n.chevronTooltip.map(Oe=>s.providers.translate(Oe)).getOrThunk(()=>{const Oe=H();return s.providers.translate(["{0} menu",Oe])}),K=(Oe,ze)=>{_.set(Oe),uo(ze.element,"aria-expanded",String(Oe))},ae=Gf.sketch({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:eW("chevron-down",s.providers.icons),attributes:{"aria-label":Z(),...$e(i)?{"data-mce-name":i+"-chevron"}:{},...M()}},components:[],toggleClass:"tox-tbtn--enabled",dropdownBehaviours:a([fe("split-dropdown-events",[Lr((Oe,ze)=>F4(Oe)),E0({getApi:w,onSetup:n.onSetup},f),Mt("alloy-dropdown-open",Oe=>K(!0,Oe)),Mt("alloy-dropdown-close",Oe=>K(!1,Oe))]),S0.toolbarButton(()=>s.providers.checkUiComponentContext(n.context).shouldDisable),nl(()=>s.providers.checkUiComponentContext(n.context)),m0.config({}),va.config(s.providers.tooltips.getConfig({tooltipText:Z(),onShow:Oe=>{if(b.get()!==n.tooltip.getOr("")){const ze=n.chevronTooltip.map(Te=>s.providers.translate(Te)).getOr(`${s.providers.translate(b.get())} menu`);va.setComponents(Oe,s.providers.tooltips.getComponents({tooltipText:ze}))}}}))]),lazySink:s.getSink,fetch:vX(w,n,s.providers),getHotspot:Oe=>wl(Oe.element).bind(ze=>Oe.getSystem().getByDom(ze).toOptional()),onOpen:(Oe,ze,Te)=>{fr.highlightBy(Te,Ye=>Da(Ye.element,"tox-collection__item--active")),fr.getHighlighted(Te).each(lo.focusIn)},parts:{menu:{...TE(!1,n.columns,n.presets),dom:{...TE(!1,n.columns,n.presets).dom,tag:"div",attributes:{id:S}}}}}),he=o3(n.icon,n.text,F.none(),F.some([Ms.config({toggleClass:"tox-tbtn--enabled",aria:n.presets==="color"?{mode:"none"}:{mode:"pressed"},toggleOnExecute:!1}),...n.tooltip.isSome()?[va.config(s.providers.tooltips.getConfig({tooltipText:s.providers.translate(n.tooltip.getOr("")),onShow:Oe=>{if(b.get()!==n.tooltip.getOr("")){const ze=s.providers.translate(b.get());va.setComponents(Oe,s.providers.tooltips.getComponents({tooltipText:ze}))}}}))]:[]]),s.providers,n.context,i);return[rc.sketch({dom:{...he.dom,classes:["tox-tbtn","tox-split-button__main"].concat(n.text.isSome()?["tox-tbtn--select"]:[]),attributes:{"aria-label":H(),...$e(i)?{"data-mce-name":i}:{}}},components:he.components,eventOrder:he.eventOrder,buttonBehaviours:he.buttonBehaviours,action:Oe=>{if(n.onAction){const ze=w(Oe);ze.isEnabled()&&n.onAction(ze)}}}),ae]},CX=".tox-toolbar-slider__input,.tox-toolbar-textfield",MI=n=>{mi.getContent(n).each(s=>{ur(s.element,CX).fold(()=>lo.focusIn(s),Fa)})},SX=n=>ai(n.element).each(s=>{tu(s,'[tabindex="-1"]').each(i=>{Fa(i)})}),BI=me("forward-slide"),s3=me("backward-slide"),r3=me("change-slide-event"),fC="tox-pop--resizing",KR=n=>{const s=Mn([]);return{sketch:mi.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:f=>{s.set([]),mi.getContent(f).each(b=>{cs(b.element,"visibility")}),ha(f.element,fC),cs(f.element,"width")},onHide:()=>{s.set([]),n.onHide()},inlineBehaviours:a([fe("context-toolbar-events",[t0(Ph(),(f,b)=>{b.event.raw.propertyName==="width"&&(ha(f.element,fC),cs(f.element,"width"))}),Mt(r3,(f,b)=>{const w=f.element;cs(w,"width");const S=Bi(w),_=ai(f.element).isSome();cs(w,"left"),cs(w,"right"),cs(w,"max-width"),mi.setContent(f,b.event.contents),nr(w,fC);const M=Bi(w);So(w,"transition","none"),mi.reposition(f),cs(w,"transition"),So(w,"width",S+"px"),b.event.focus.fold(()=>{_&&MI(f)},H=>{ri(Ai(f.element)).fold(()=>Fa(H),Z=>{oe(Z,H)||n.focusElement(H)})}),setTimeout(()=>{So(f.element,"width",M+"px")},0)}),Mt(BI,(f,b)=>{mi.getContent(f).each(w=>{s.set(s.get().concat([{bar:w,focus:ri(Ai(f.element))}]))}),so(f,r3,{contents:b.event.forwardContents,focus:F.none()})}),Mt(s3,(f,b)=>{n.onBack(),Zn(s.get()).each(w=>{s.set(s.get().slice(0,s.get().length-1)),so(f,r3,{contents:D(w.bar),focus:w.focus})})})]),lo.config({mode:"special",onEscape:f=>Zn(s.get()).fold(()=>n.onEscape(),b=>(fs(f,s3),F.some(!0)))})]),lazySink:()=>Pn.value(n.sink)}),inSubtoolbar:()=>s.get().length>0}},LI=(n,s)=>{const i=Qu(E1({type:"button",icon:"chevron-left",tooltip:"Back",onAction:J}));return oT(i,s.shared.providers,[Mt(cR,f=>{fs(f,s3)})])},cg=(n,s,i)=>Ri(i)?n.translate(s):n.translate([s,n.translate(i)]),PI=(n,s)=>{const i=(S,_,M,H)=>{const Z=n.shared.providers.translate(S.title);if(S.type==="separator")return F.some({type:"separator",text:Z});if(S.type==="submenu"){const K=Le(S.getStyleItems(),ae=>f(ae,_,H));return _===0&&K.length<=0?F.none():F.some({type:"nestedmenuitem",text:Z,enabled:K.length>0,getSubmenuItems:()=>Le(S.getStyleItems(),ae=>f(ae,_,H))})}else return F.some({type:"togglemenuitem",text:Z,icon:S.icon,active:S.isSelected(H),enabled:!M,onAction:s.onAction(S),...S.getStylePreview().fold(()=>({}),K=>({meta:{style:K}}))})},f=(S,_,M)=>{const H=S.type==="formatter"&&s.isInvalid(S);return _===0?H?[]:i(S,_,!1,M).toArray():i(S,_,H,M).toArray()},b=S=>{const _=s.getCurrentValue(),M=s.shouldHide?0:1;return Le(S,H=>f(H,M,_))};return{validateItems:b,getFetch:(S,_)=>(M,H)=>{const Z=_(),K=b(Z),ae=ny(K,ip.CLOSE_ON_EXECUTE,S,{isHorizontalMenu:!1,search:F.none()});H(ae)}}},mC=(n,s)=>{const i=s.dataset,f=i.type==="basic"?()=>He(i.data,b=>P$(b,s.isSelectedFor,s.getPreviewFor)):i.getData;return{items:PI(n,s),getStyleItems:f}},sT=(n,s,i,f,b,w)=>{const{items:S,getStyleItems:_}=mC(s,i),M=Mn(i.tooltip),H=K=>({getComponent:ie(K),setTooltip:ae=>{const he=s.shared.providers.translate(ae);uo(K.element,"aria-label",he),M.set(ae)}}),Z=K=>{const ae=he=>K.setTooltip(cg(n,f(he.value),he.value));return n.on(b,ae),s2(yv(n,"NodeChange",he=>{const xe=he.getComponent();i.updateText(xe),eo.set(he.getComponent(),!n.selection.isEditable()||_().length===0)})(K),()=>n.off(b,ae))};return mR({context:"mode:design",text:i.icon.isSome()?F.none():i.text,icon:i.icon,ariaLabel:F.some(i.tooltip),tooltip:F.none(),role:F.none(),fetch:S.getFetch(s,_),onSetup:Z,getApi:H,columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[va.config({...s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(i.tooltip),onShow:K=>{if(i.tooltip!==M.get()){const ae=s.shared.providers.translate(M.get());va.setComponents(K,s.shared.providers.tooltips.getComponents({tooltipText:ae}))}}})})]},"tox-tbtn",s.shared,w)},EX=n=>He(n,s=>{let i=s,f=s;const b=s.split("=");return b.length>1&&(i=b[0],f=b[1]),{title:i,format:f}}),TX=n=>({type:"basic",data:n});var hC;(function(n){n[n.SemiColon=0]="SemiColon",n[n.Space=1]="Space"})(hC||(hC={}));const AX=(n,s)=>s===hC.SemiColon?n.replace(/;$/,"").split(";"):n.split(" "),YR=(n,s,i)=>{const f=n.options.get(s);return{type:"basic",data:EX(AX(f,i))}},FI="Align",$I=ie("Alignment {0}"),II="left",rT=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],HI=n=>{const s=()=>Be(rT,_=>n.formatter.match(_.format)),i=_=>()=>n.formatter.match(_),f=_=>F.none,b=_=>{const H=s().fold(ie(II),Z=>Z.title.toLowerCase());so(_,l2,{icon:`align-${H}`}),XF(n,{value:H})},w=TX(rT),S=_=>()=>Be(rT,M=>M.format===_.format).each(M=>n.execCommand(M.command));return{tooltip:cg(n,$I(),II),text:F.none(),icon:F.some("align-left"),isSelectedFor:i,getCurrentValue:F.none,getPreviewFor:f,onAction:S,updateText:b,dataset:w,shouldHide:!1,isInvalid:_=>!n.formatter.canApply(_.format)}},kX=(n,s)=>sT(n,s,HI(n),$I,"AlignTextUpdate","align"),DX=(n,s)=>{const i=mC(s,HI(n));n.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate(FI),onSetup:zc(n),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},zI=(n,s)=>{const i=s(),f=He(i,b=>b.format);return F.from(n.formatter.closest(f)).bind(b=>Be(i,w=>w.format===b))},_X="Blocks",jI=ie("Block {0}"),a3="Paragraph",XR=n=>{const s=w=>()=>n.formatter.match(w),i=w=>()=>{const S=n.formatter.get(w);return S?F.some({tag:S.length>0&&(S[0].inline||S[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(w))}):F.none()},f=w=>{const _=zI(n,()=>b.data).fold(ie(a3),M=>M.title);so(w,ig,{text:_}),v4(n,{value:_})},b=YR(n,"block_formats",hC.SemiColon);return{tooltip:cg(n,jI(),a3),text:F.some(a3),icon:F.none(),isSelectedFor:s,getCurrentValue:F.none,getPreviewFor:i,onAction:x4(n),updateText:f,dataset:b,shouldHide:!1,isInvalid:w=>!n.formatter.canApply(w.format)}},VI=(n,s)=>sT(n,s,XR(n),jI,"BlocksTextUpdate","blocks"),OX=(n,s)=>{const i=mC(s,XR(n));n.ui.registry.addNestedMenuItem("blocks",{text:_X,onSetup:zc(n),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},UI="Fonts",ZI=ie("Font {0}"),QR="System Font",NX=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],JR=n=>{const s=n.split(/\s*,\s*/);return He(s,i=>i.replace(/^['"]+|['"]+$/g,""))},WI=(n,s)=>s.length>0&&Je(s,i=>n.indexOf(i.toLowerCase())>-1),qI=(n,s)=>{if(n.indexOf("-apple-system")===0||s.length>0){const i=JR(n.toLowerCase());return WI(i,NX)||WI(i,s)}else return!1},GI=n=>{const s=()=>{const M=xe=>xe?JR(xe)[0]:"",H=n.queryCommandValue("FontName"),Z=_.data,K=H?H.toLowerCase():"",ae=hP(n);return{matchOpt:Be(Z,xe=>{const Oe=xe.format;return Oe.toLowerCase()===K||M(Oe).toLowerCase()===M(K).toLowerCase()}).orThunk(()=>Sa(qI(K,ae),{title:QR,format:K})),font:H}},i=M=>H=>H.exists(Z=>Z.format===M),f=()=>{const{matchOpt:M}=s();return M},b=M=>()=>F.some({tag:"div",styles:M.indexOf("dings")===-1?{"font-family":M}:{}}),w=M=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontName",!1,M.format)})},S=M=>{const{matchOpt:H,font:Z}=s(),K=H.fold(ie(Z),ae=>ae.title);so(M,ig,{text:K}),xG(n,{value:K})},_=YR(n,"font_family_formats",hC.SemiColon);return{tooltip:cg(n,ZI(),QR),text:F.some(QR),icon:F.none(),isSelectedFor:i,getCurrentValue:f,getPreviewFor:b,onAction:w,updateText:S,dataset:_,shouldHide:!1,isInvalid:yt}},RX=(n,s)=>sT(n,s,GI(n),ZI,"FontFamilyTextUpdate","fontfamily"),MX=(n,s)=>{const i=mC(s,GI(n));n.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate(UI),onSetup:zc(n),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})};var i3=tinymce.util.Tools.resolve("tinymce.util.VK");const BX=(n,s,i,f)=>{let b=F.none();const w=st=>st.map(wt=>In.getValue(wt)).getOr(""),S=yv(n,"NodeChange SwitchMode DisabledStateChange",st=>{const wt=st.getComponent();b=F.some(wt),i.updateInputValue(wt),eo.set(wt,!n.selection.isEditable()||Hk(n))}),_=st=>({getComponent:ie(st)}),M=Mn(J),H=me("custom-number-input-events"),Z=(st,wt,Ot)=>{const kn=w(b),Jt=i.getNewValue(kn,st),rn=kn.length-`${Jt}`.length,on=b.map(to=>to.element.dom.selectionStart-rn),mo=b.map(to=>to.element.dom.selectionEnd-rn);i.onAction(Jt,Ot),b.each(to=>{In.setValue(to,Jt),wt&&(on.each(ys=>to.element.dom.selectionStart=ys),mo.each(ys=>to.element.dom.selectionEnd=ys))})},K=(st,wt)=>Z((Ot,kn)=>Ot-kn,st,wt),ae=(st,wt)=>Z((Ot,kn)=>Ot+kn,st,wt),he=st=>Tu(st.element).fold(F.none,wt=>(Fa(wt),F.some(!0))),xe=st=>Jc(st.element)?(ss(st.element).each(wt=>Fa(wt)),F.some(!0)):F.none(),Oe=(st,wt,Ot,kn)=>{const Jt=Mn(J),rn=s.shared.providers.translate(Ot),on=me("altExecuting"),mo=yv(n,"NodeChange SwitchMode DisabledStateChange",ys=>{eo.set(ys.getComponent(),!n.selection.isEditable()||Hk(n))}),to=ys=>{eo.isDisabled(ys)||st(!0)};return rc.sketch({dom:{tag:"button",attributes:{"aria-label":rn,"data-mce-name":wt},classes:kn.concat(wt)},components:[dR(wt,s.shared.providers.icons)],buttonBehaviours:a([eo.config({}),va.config(s.shared.providers.tooltips.getConfig({tooltipText:rn})),fe(on,[E0({onSetup:mo,getApi:_},Jt),pv({getApi:_},Jt),Mt(Ki(),(ys,ho)=>{(ho.event.raw.keyCode===i3.SPACEBAR||ho.event.raw.keyCode===i3.ENTER)&&(eo.isDisabled(ys)||st(!1))}),Mt(dm(),to),Mt($l(),to)])]),eventOrder:{[Ki()]:[on,"keying"],[dm()]:[on,"alloy.base.behaviour"],[$l()]:[on,"alloy.base.behaviour"],[Lc()]:["alloy.base.behaviour",on,"tooltipping"],[wc()]:[on,"tooltipping"]}})},ze=gr(Oe(st=>K(!1,st),"minus","Decrease font size",[])),Te=gr(Oe(st=>ae(!1,st),"plus","Increase font size",[])),Ye=gr({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[C1.sketch({inputBehaviours:a([eo.config({}),fe(H,[E0({onSetup:S,getApi:_},M),pv({getApi:_},M)]),fe("input-update-display-text",[Mt(ig,(st,wt)=>{In.setValue(st,wt.event.text)}),Mt(lb(),st=>{i.onAction(In.getValue(st))}),Mt(Lf(),st=>{i.onAction(In.getValue(st))})]),lo.config({mode:"special",onEnter:st=>(Z(ct,!0,!0),F.some(!0)),onEscape:he,onUp:st=>(ae(!0,!1),F.some(!0)),onDown:st=>(K(!0,!1),F.some(!0)),onLeft:(st,wt)=>(wt.cut(),F.none()),onRight:(st,wt)=>(wt.cut(),F.none())})])})],behaviours:a([et.config({}),lo.config({mode:"special",onEnter:xe,onSpace:xe,onEscape:he}),fe("input-wrapper-events",[Mt(Jl(),st=>{dt([ze,Te],wt=>{const Ot=mn.fromDom(wt.get(st).element.dom);Jc(Ot)&&ma(Ot)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...$e(f)?{"data-mce-name":f}:{}}},components:[ze.asSpec(),Ye.asSpec(),Te.asSpec()],behaviours:a([et.config({}),lo.config({mode:"flow",focusInside:Pg.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:st=>Jc(st.element)?F.none():(Fa(st.element),F.some(!0))})])}},LX="Font sizes",KI=ie("Font size {0}"),eM="12pt",PX={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},FX={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},$X=(n,s)=>{const i=Math.pow(10,s);return Math.round(n*i)/i},IX=(n,s)=>/[0-9.]+px$/.test(n)?$X(parseInt(n,10)*72/96,s||0)+"pt":Hn(FX,n).getOr(n),HX=n=>Hn(PX,n).getOr(""),YI=n=>{const s=()=>{let M=F.none();const H=_.data,Z=n.queryCommandValue("FontSize");if(Z)for(let K=3;M.isNone()&&K>=0;K--){const ae=IX(Z,K),he=HX(ae);M=Be(H,xe=>xe.format===Z||xe.format===ae||xe.format===he)}return{matchOpt:M,size:Z}},i=M=>H=>H.exists(Z=>Z.format===M),f=()=>{const{matchOpt:M}=s();return M},b=ie(F.none),w=M=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontSize",!1,M.format)})},S=M=>{const{matchOpt:H,size:Z}=s(),K=H.fold(ie(Z),ae=>ae.title);so(M,ig,{text:K}),vG(n,{value:K})},_=YR(n,"font_size_formats",hC.Space);return{tooltip:cg(n,KI(),eM),text:F.some(eM),icon:F.none(),isSelectedFor:i,getPreviewFor:b,getCurrentValue:f,onAction:w,updateText:S,dataset:_,shouldHide:!1,isInvalid:yt}},zX=(n,s)=>sT(n,s,YI(n),KI,"FontSizeTextUpdate","fontsize"),XI=n=>{const s={step:1};return{em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[n]??s},jX=16,VX=n=>n>=0,QI=n=>{const s=()=>n.queryCommandValue("FontSize");return{updateInputValue:f=>so(f,ig,{text:s()}),onAction:(f,b)=>n.execCommand("FontSize",!1,f,{skip_focus:!b}),getNewValue:(f,b)=>{Hs(f,["unsupportedLength","empty"]);const w=s(),S=Hs(f,["unsupportedLength","empty"]).or(Hs(w,["unsupportedLength","empty"])),_=S.map(ae=>ae.value).getOr(jX),M=Uk(n),H=S.map(ae=>ae.unit).filter(ae=>ae!=="").getOr(M),Z=b(_,XI(H).step),K=`${VX(Z)?Z:_}${H}`;return K!==w&&A1(n,{value:K}),K}}},UX=(n,s)=>BX(n,s,QI(n),"fontsizeinput"),JI=(n,s)=>{const i=mC(s,YI(n));n.ui.registry.addNestedMenuItem("fontsize",{text:LX,onSetup:zc(n),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},e9="Formats",t9=n=>Ri(n)?"Formats":"Format {0}",n9=(n,s)=>{const i="Formats",f=S=>()=>n.formatter.match(S),b=S=>()=>{const _=n.formatter.get(S);return _!==void 0?F.some({tag:_.length>0&&(_[0].inline||_[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(S))}):F.none()},w=S=>{const _=K=>nY(K)?Le(K.items,_):N$(K)?[{title:K.title,format:K.format}]:[],M=Le(L$(n),_),Z=zI(n,ie(M)).fold(ie({title:i,tooltipLabel:""}),K=>({title:K.title,tooltipLabel:K.title}));so(S,ig,{text:Z.title}),yG(n,{value:Z.tooltipLabel})};return{tooltip:cg(n,t9(""),""),text:F.some(i),icon:F.none(),isSelectedFor:f,getCurrentValue:F.none,getPreviewFor:b,onAction:x4(n),updateText:w,shouldHide:tO(n),isInvalid:S=>!n.formatter.canApply(S.format),dataset:s}},ZX=(n,s)=>{const i={type:"advanced",...s.styles};return sT(n,s,n9(n,i),t9,"StylesTextUpdate","styles")},gC=(n,s)=>{const i={type:"advanced",...s.styles},f=mC(s,n9(n,i));n.ui.registry.addNestedMenuItem("styles",{text:e9,onSetup:zc(n,()=>f.getStyleItems().length>0),getSubmenuItems:()=>f.items.validateItems(f.getStyleItems())})},WX=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],aT=(n,s)=>(i,f,b,w)=>{const S=n(i).mapError(_=>Mg(_)).getOrDie();return s(S,f,b,w)},qX={button:aT(E1,(n,s,i,f)=>yX(n,s.shared.providers,f)),togglebutton:aT(sN,(n,s,i,f)=>GR(n,s.shared.providers,f)),menubutton:aT(JO,(n,s,i,f)=>qE(n,"tox-tbtn",s,F.none(),!1,f)),splitbutton:aT(Gq,(n,s,i,f)=>wX(n,s.shared,f)),grouptoolbarbutton:aT(mN,(n,s,i,f)=>{const b=i.ui.registry.getAll().buttons,w=_=>l3(i,{buttons:b,toolbar:_,allowToolbarGroups:!1},s,F.none()),S={[Qp]:s.shared.header.isPositionedAtTop()?Vf.TopToBottom:Vf.BottomToTop};if(jx(i)===ih.floating)return bX(n,s,w,S,f);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},GX=(n,s,i,f)=>Hn(qX,n.type).fold(()=>(console.error("skipping button defined by",n),F.none()),b=>F.some(b(n,s,i,f))),o9={styles:ZX,fontsize:zX,fontsizeinput:UX,fontfamily:RX,blocks:VI,align:kX,navigateback:LI},KX=n=>{const s=He(WX,i=>{const f=xo(i.items,b=>ts(n,b)||ts(o9,b));return{name:i.name,items:f}});return xo(s,i=>i.items.length>0)},YX=n=>{const s=n.split("|");return He(s,i=>({items:i.trim().split(" ")}))},XX=n=>Se(n,s=>(ts(s,"name")||ts(s,"label"))&&ts(s,"items")),tM=n=>{const s=n.toolbar,i=n.buttons;return s===!1?[]:s===void 0||s===!0?KX(i):z(s)?YX(s):XX(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},QX=(n,s,i,f,b,w)=>Hn(s,i.toLowerCase()).orThunk(()=>w.bind(S=>Jo(S,_=>Hn(s,_+i.toLowerCase())))).fold(()=>Hn(o9,i.toLowerCase()).map(S=>S(n,b)),S=>S.type==="grouptoolbarbutton"&&!f?(console.warn(`Ignoring the '${i}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),F.none()):GX(S,b,n,i.toLowerCase())),l3=(n,s,i,f)=>{const b=tM(s),w=He(b,S=>{const _=Le(S.items,M=>M.trim().length===0?[]:QX(n,s.buttons,M,s.allowToolbarGroups,i,f).map(H=>Array.isArray(H)?H:[H]).getOr([]));return{title:F.from(n.translate(S.name)),label:Sa(S.label!==void 0,n.translate(S.label)),items:_}});return xo(w,S=>S.items.length>0)},nM=(n,s,i,f)=>{const b=s.mainUi.outerContainer,w=i.toolbar,S=i.buttons;if(Se(w,z)){const _=w.map(M=>{const H={toolbar:M,buttons:S,allowToolbarGroups:i.allowToolbarGroups};return l3(n,H,f,F.none())});Yr.setToolbars(b,_)}else Yr.setToolbar(b,l3(n,i,f,F.none()))},oM=Ua(),JX=oM.os.isiOS()&&oM.os.version.major<=12,eQ=(n,s)=>{const{uiMotherships:i}=s,f=n.dom;let b=n.getWin();const w=n.getDoc().documentElement,S=Mn(hr(b.innerWidth,b.innerHeight)),_=Mn(hr(w.offsetWidth,w.offsetHeight)),M=()=>{const ae=S.get();(ae.left!==b.innerWidth||ae.top!==b.innerHeight)&&(S.set(hr(b.innerWidth,b.innerHeight)),MN(n))},H=()=>{const ae=n.getDoc().documentElement,he=_.get();(he.left!==ae.offsetWidth||he.top!==ae.offsetHeight)&&(_.set(hr(ae.offsetWidth,ae.offsetHeight)),MN(n))},Z=ae=>{hG(n,ae)};f.bind(b,"resize",M),f.bind(b,"scroll",Z);const K=Wu(mn.fromDom(n.getBody()),"load",H);n.on("hide",()=>{dt(i,ae=>{So(ae.element,"display","none")})}),n.on("show",()=>{dt(i,ae=>{cs(ae.element,"display")})}),n.on("NodeChange",H),n.on("remove",()=>{K.unbind(),f.unbind(b,"resize",M),f.unbind(b,"scroll",Z),b=null})},tQ=(n,s,i)=>{dv(n)&&nh(i.mainUi.mothership.element,i.popupUi.mothership),Sx(s,i.dialogUi.mothership)};var nQ=Object.freeze({__proto__:null,render:(n,s,i,f,b)=>{const{mainUi:w,uiMotherships:S}=s,_=Mn(0),M=w.outerContainer;OI(n);const H=mn.fromDom(b.targetNode),Z=vd(Ai(H));nh(H,w.mothership),tQ(n,Z,s),n.on("PostRender",()=>{Yr.setSidebar(M,i.sidebar,dP(n)),Yr.setViews(M,i.views)}),n.on("SkinLoaded",()=>{nM(n,s,i,f),_.set(n.getWin().innerWidth),Yr.setMenubar(M,EI(n,i)),eQ(n,s)});const K=Yr.getSocket(M).getOrDie("Could not find expected socket element");if(JX){Or(K.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const Oe=Kd(()=>{n.dispatch("ScrollContent")},20),ze=$s(K.element,"scroll",Oe.throttle);n.on("remove",ze.unbind)}RF(n,s),n.addCommand("ToggleSidebar",(Oe,ze)=>{Yr.toggleSidebar(M,ze),wG(n)}),n.addQueryValueHandler("ToggleSidebar",()=>Yr.whichSidebar(M)??""),n.addCommand("ToggleView",(Oe,ze)=>{if(Yr.toggleView(M,ze)){const Te=M.element;w.mothership.broadcastOn([Jm()],{target:Te}),dt(S,Ye=>{Ye.broadcastOn([Jm()],{target:Te})}),ee(Yr.whichView(M))&&(n.focus(),n.nodeChanged(),Yr.refreshToolbar(M)),QF(n)}}),n.addQueryValueHandler("ToggleView",()=>Yr.whichView(M)??"");const ae=jx(n),he=()=>{Yr.refreshToolbar(s.mainUi.outerContainer)};(ae===ih.sliding||ae===ih.floating)&&n.on("ResizeWindow ResizeEditor ResizeContent",()=>{const Oe=n.getWin().innerWidth;Oe!==_.get()&&(he(),_.set(Oe))});const xe={setEnabled:Oe=>{PE(s,Oe?"setEnabled":"setDisabled")},isEnabled:()=>!eo.isDisabled(M)};return{iframeContainer:K.element.dom,editorContainer:M.element.dom,api:xe}}});const oQ=n=>/^[0-9\.]+(|px)$/i.test(""+n)?F.some(parseInt(""+n,10)):F.none(),c3=n=>it(n)?n+"px":n,u3=(n,s,i)=>{const f=s.filter(w=>n<w),b=i.filter(w=>n>w);return f.or(b).getOr(n)},sQ=(n,s)=>{if(typeof s=="number")return F.from(s);const i=/^([0-9.]+)(pt|em|px)$/.exec(s.trim());if(i){const f=i[2],b=Number.parseFloat(i[1]);if(Number.isNaN(b)||b<0)return F.none();if(f==="em")return F.from(b*Number.parseFloat(window.getComputedStyle(n.dom).fontSize));if(f==="pt")return F.from(b*(72/96));if(f==="px")return F.from(b)}return F.none()},rQ=n=>{const s=sQ(mn.fromDom(n.targetElm),Y5(n)),i=J5(n),f=eO(n);return s.map(b=>u3(b,i,f))},aQ=n=>rQ(n).getOr(Y5(n)),iT=n=>{const s=X5(n),i=Q5(n),f=zk(n);return oQ(s).map(b=>u3(b,i,f))},iQ=n=>iT(n).getOr(X5(n)),{ToolbarLocation:pC,ToolbarMode:lT}=MZ,s9=40,lQ=(n,s,i,f,b)=>{const{mainUi:w,uiMotherships:S}=i,_=Pw.DOM,M=jw(n),H=Vw(n),Z=zk(n).or(iT(n)),K=f.shared.header,ae=K.isPositionedAtTop,he=150,xe=jx(n),Oe=xe===lT.sliding||xe===lT.floating,ze=Mn(!1),Te=()=>ze.get()&&!n.removed,Ye=no=>Oe?no.fold(ie(0),Yt=>Yt.components().length>1?bi(Yt.components()[1].element):0):0,st=no=>{switch(nO(n)){case pC.auto:const Yt=Yr.getToolbar(w.outerContainer),vn=Ye(Yt),To=bi(no.element)-vn,Ko=_i(s);if(Ko.y>To)return"top";{const qo=bp(s),Ur=Math.max(qo.dom.scrollHeight,bi(qo));return Ko.bottom<Ur-To||bc().bottom<Ko.bottom-To?"bottom":"top"}case pC.bottom:return"bottom";case pC.top:default:return"top"}},wt=no=>{b.on(Yt=>{Ja.setModes(Yt,[no]),K.setDockingMode(no);const vn=ae()?Vf.TopToBottom:Vf.BottomToTop;uo(Yt.element,Qp,vn)})},Ot=()=>{b.on(no=>{const Yt=Z.getOrThunk(()=>Ep().width-fl(s).left-10);So(no.element,"max-width",Yt+"px")})},kn=(no,Yt)=>{b.on(vn=>{const To=Yr.getToolbar(w.outerContainer),Ko=Ye(To),ao=_i(s),qo=Jt(n,w.outerContainer.element),Ur=()=>qo.fold(()=>ao.x,jc=>{const dh=_i(jc);return oe(jc,Ml())?ao.x:ao.x-dh.x}),pr=()=>qo.fold(()=>ae()?Math.max(ao.y-bi(vn.element)+Ko,0):ao.bottom,jc=>{const dh=_i(jc),bu=jc.dom.scrollTop??0,Sv=oe(jc,Ml())?Math.max(ao.y-bi(vn.element)+Ko,0):ao.y-dh.y+bu-bi(vn.element)+Ko;return ae()?Sv:ao.bottom}),zu=Ur(),ei=Sa(no,Math.ceil(w.outerContainer.element.dom.getBoundingClientRect().width)).filter(jc=>jc>he).map(jc=>{const dh=Yt.getOr(ka()),bu=window.innerWidth-(zu-dh.left),ug=Math.max(Math.min(jc,bu),he);return bu<jc&&So(w.outerContainer.element,"width",ug+"px"),{width:ug+"px"}}).getOr({width:"max-content"}),Kf={position:"absolute",left:Math.round(zu)+"px",top:pr()+"px"};Or(w.outerContainer.element,{...Kf,...ei})})},Jt=(no,Yt)=>dv(no)?af(Yt):F.none(),rn=()=>{dt(S,no=>{no.broadcastOn([pl()],{})})},on=()=>!M&&(Bl(w.outerContainer.element).left+nf(w.outerContainer.element)>=window.innerWidth-s9||Gr(w.outerContainer.element,"width").isSome())?(So(w.outerContainer.element,"position","absolute"),So(w.outerContainer.element,"left","0px"),cs(w.outerContainer.element,"width"),!0):!1,mo=no=>{if(!Te())return;M||Ot();const Yt=ka(),vn=M?!1:on();if(Oe&&Yr.refreshToolbar(w.outerContainer),!M){const To=ka(),Ko=Sa(Yt.left!==To.left,Yt);kn(vn,Ko),Ko.each(ao=>{Sd(ao.left,To.top)})}H&&b.on(no),rn()},to=()=>M||!H||!Te()?!1:b.get().exists(no=>{const Yt=K.getDockingMode(),vn=st(no);return vn!==Yt?(wt(vn),!0):!1});return{isVisible:Te,isPositionedAtTop:ae,show:()=>{ze.set(!0),So(w.outerContainer.element,"display","flex"),_.addClass(n.getBody(),"mce-edit-focus"),dt(S,no=>{cs(no.element,"display")}),to(),dv(n)?mo(no=>Ja.isDocked(no)?Ja.reset(no):Ja.refresh(no)):mo(Ja.refresh)},hide:()=>{ze.set(!1),So(w.outerContainer.element,"display","none"),_.removeClass(n.getBody(),"mce-edit-focus"),dt(S,no=>{So(no.element,"display","none")})},update:mo,updateMode:()=>{to()&&mo(Ja.reset)},repositionPopups:rn}},r9=(n,s)=>{const i=_i(n);return{pos:s?i.y:i.bottom,bounds:i}},cQ=(n,s,i,f)=>{const b=Mn(r9(s,i.isPositionedAtTop())),w=H=>{const{pos:Z,bounds:K}=r9(s,i.isPositionedAtTop()),{pos:ae,bounds:he}=b.get(),xe=K.height!==he.height||K.width!==he.width;b.set({pos:Z,bounds:K}),xe&&MN(n,H),i.isVisible()&&(ae!==Z?i.update(Ja.reset):xe&&(i.updateMode(),i.repositionPopups()))};f||(n.on("activate",i.show),n.on("deactivate",i.hide)),n.on("SkinLoaded ResizeWindow",()=>i.update(Ja.reset)),n.on("NodeChange keydown",H=>{requestAnimationFrame(()=>w(H))});let S=0;const _=Ei(()=>i.update(Ja.refresh),33);n.on("ScrollWindow",()=>{const H=ka().left;H!==S&&(S=H,_.throttle()),i.updateMode()}),dv(n)&&n.on("ElementScroll",H=>{i.update(Ja.refresh)});const M=Ir();M.set(Wu(mn.fromDom(n.getBody()),"load",H=>w(H.raw))),n.on("remove",()=>{M.clear()})};var uQ=Object.freeze({__proto__:null,render:(n,s,i,f,b)=>{const{mainUi:w}=s,S=Co(),_=mn.fromDom(b.targetNode),M=lQ(n,_,s,f,S),H=eP(n);mX(n);const Z=()=>{if(S.isSet()){M.show();return}S.set(Yr.getHeader(w.outerContainer).getOrDie());const ae=lO(n);dv(n)?(nh(_,w.mothership),nh(_,s.popupUi.mothership)):Sx(ae,w.mothership),Sx(ae,s.dialogUi.mothership);const he=()=>{nM(n,s,i,f),Yr.setMenubar(w.outerContainer,EI(n,i)),M.show(),cQ(n,_,M,H),n.nodeChanged()};H?n.once("SkinLoaded",he):he()};n.on("show",Z),n.on("hide",M.hide),H||(n.on("focus",Z),n.on("blur",M.hide)),n.on("init",()=>{(n.hasFocus()||H)&&Z()}),RF(n,s);const K={show:Z,hide:M.hide,setEnabled:ae=>{PE(s,ae?"setEnabled":"setDisabled")},isEnabled:()=>!eo.isDisabled(w.outerContainer)};return{editorContainer:w.outerContainer.element.dom,api:K}}});const d3=()=>{const n=Co(),s=Co(),i=Co();return{dialogUi:n,popupUi:s,mainUi:i,getUiMotherships:()=>{const w=n.get().map(_=>_.mothership),S=s.get().map(_=>_.mothership);return w.fold(()=>S.toArray(),_=>S.fold(()=>[_],M=>oe(_.element,M.element)?[_]:[_,M]))},lazyGetInOuterOrDie:(w,S)=>()=>i.get().bind(_=>S(_.outerContainer)).getOrDie(`Could not find ${w} element in OuterContainer`)}},a9="contexttoolbar-show",sM="contexttoolbar-hide",f3=(n,s,i)=>({setInputEnabled:f=>{!f&&i&&Fa(i),eo.set(n,!f)},isInputEnabled:()=>!eo.isDisabled(n),hide:()=>{fs(n,Na())},back:()=>{fs(n,s3)},getValue:()=>s.get().getOrThunk(()=>In.getValue(n)),setValue:f=>{n.getSystem().isConnected()?In.setValue(n,f):s.set(f)}}),cT=(n,s,i)=>{const b=xl(n.element).bind(w=>n.getSystem().getByDom(w).toOptional());return f3(b.getOr(n),s,i)},i9=(n,s,i)=>Mt(cR,(f,b)=>{const w=n.get(f),S=f3(w,i,f.element);s.onAction(S,b.event.buttonApi)}),l9=(n,s,i,f)=>{const{primary:b,...w}=s.original,S=Qu(E1({...w,type:"button",onAction:J}));return oT(S,i,[i9(n,s,f)])},dQ=(n,s,i,f)=>{const{primary:b,...w}=s.original,S=Qu(sN({...w,type:"togglebutton",onAction:J}));return RI(S,i,[i9(n,s,f)])},fQ=n=>n.type==="contextformtogglebutton",mQ=(n,s,i,f)=>fQ(s)?dQ(n,s,i,f):l9(n,s,i,f),c9=(n,s,i,f)=>{const b=He(s,_=>gr(mQ(n,_,i,f)));return{asSpecs:()=>He(b,_=>_.asSpec()),findPrimary:_=>Jo(s,(M,H)=>M.primary?F.from(b[H]).bind(Z=>Z.getOpt(_)).filter(qe(eo.isDisabled)):F.none())}},hQ=(n,s,i,f)=>{const{width:b,height:w}=n.initValue();let S=aC;const _=me("ratio-event"),M=Jt=>f3(Jt,f),H=Jt=>lh(Jt,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Jt]},s.icons),Z=()=>!1,K=n.label.getOr("Constrain proportions"),ae=s.translate(K),he=tl.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-lock-context-form-size-input","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":ae,"data-mce-name":K}},components:[H("lock"),H("unlock")],buttonBehaviours:a([eo.config({disabled:Z}),ua.config({}),va.config(s.tooltips.getConfig({tooltipText:ae}))])}),xe=Jt=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:Jt}),Oe=Jt=>tu(Jt.element,"div.tox-focusable-wrapper").fold(F.none,on=>(Fa(on),F.some(!0))),ze=Jt=>ks.parts.field({factory:C1,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:Jt?b:w,inputBehaviours:a([eo.config({disabled:Z}),ua.config({}),fe("size-input-toolbar-events",[Mt(ec(),(rn,on)=>{so(rn,_,{isField1:Jt})})]),lo.config({mode:"special",onEnter:i,onEscape:Oe})]),selectOnFocus:!1}),Te=Jt=>({dom:{tag:"label",classes:["tox-label"]},components:[Ra(s.translate(Jt))]}),Ye=Jt=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[Jt],behaviours:a([ua.config({}),et.config({}),lo.config({mode:"special",onEnter:rn=>ur(rn.element,"input").fold(F.none,mo=>(Fa(mo),F.some(!0)))})])}),st=Ye(tl.parts.field1(xe([ks.parts.label(Te("Width:")),ze(!0)]))),wt=Ye(tl.parts.field2(xe([ks.parts.label(Te("Height:")),ze(!1)]))),Ot=Mn(J),kn=[E0({onBeforeSetup:Jt=>ur(Jt.element,"input").each(Fa),onSetup:n.onSetup,getApi:M},Ot),d4({getApi:M},Ot,f)];return tl.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[st,xe([he]),wt],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Jt,rn,on)=>{z4(In.getValue(Jt)).each(mo=>{S(mo).each(to=>{In.setValue(rn,c$(to))})})},onInput:Jt=>fs(Jt,D7),coupledFieldBehaviours:a([et.config({}),lo.config({mode:"flow",focusInside:Pg.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),eo.config({disabled:Z,onDisabled:Jt=>{tl.getField1(Jt).bind(ks.getField).each(eo.disable),tl.getField2(Jt).bind(ks.getField).each(eo.disable),tl.getLock(Jt).each(eo.disable)},onEnabled:Jt=>{tl.getField1(Jt).bind(ks.getField).each(eo.enable),tl.getField2(Jt).bind(ks.getField).each(eo.enable),tl.getLock(Jt).each(eo.enable)}}),nl(()=>s.checkUiComponentContext("mode:design")),fe("size-input-toolbar-events2",[Mt(_,(Jt,rn)=>{const on=rn.event.isField1,mo=on?tl.getField1(Jt):tl.getField2(Jt),to=on?tl.getField2(Jt):tl.getField1(Jt),ys=mo.map(In.getValue).getOr(""),ho=to.map(In.getValue).getOr("");S=d$(ys,ho)}),Mt(D7,Jt=>n.onInput(M(Jt))),...kn])])})},bC=(n,s,i)=>ks.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...n.toArray(),s],fieldBehaviours:a([eo.config({disabled:()=>i.checkUiComponentContext("mode:design").shouldDisable,onDisabled:f=>{SX(f),ks.getField(f).each(eo.disable)},onEnabled:f=>{ks.getField(f).each(eo.enable)}})])}),gQ=(n,s,i,f)=>{const b=Mn(J),w=M=>cT(M,f),S=n.label.map(M=>ks.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ra(s.translate(M))]})),_=ks.parts.field({factory:C1,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(n.min()),max:String(n.max())},data:n.initValue().toString(),fromInputValue:M=>pi(M).getOr(n.min()),toInputValue:M=>String(M),inputBehaviours:a([eo.config({disabled:()=>s.checkUiComponentContext("mode:design").shouldDisable}),nl(()=>s.checkUiComponentContext("mode:design")),lo.config({mode:"special",onEnter:i,onLeft:(M,H)=>(H.cut(),F.none()),onRight:(M,H)=>(H.cut(),F.none())}),fe("slider-events",[E0({onSetup:n.onSetup,getApi:w,onBeforeSetup:lo.focusIn},b),d4({getApi:w},b,f),Mt(Bf(),M=>{n.onInput(w(M))})])])});return bC(S,_,s)},pQ=(n,s,i,f)=>{const b=Mn(J),w=Z=>cT(Z,f),S=n.label.map(Z=>ks.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ra(s.translate(Z))]})),M={...n.placeholder.map(Z=>({placeholder:s.translate(Z)})).getOr({})},H=ks.parts.field({factory:C1,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:M,data:n.initValue(),selectOnFocus:!0,inputBehaviours:a([eo.config({disabled:()=>s.checkUiComponentContext("mode:design").shouldDisable}),nl(()=>s.checkUiComponentContext("mode:design")),lo.config({mode:"special",onEnter:i,onLeft:(Z,K)=>(K.cut(),F.none()),onRight:(Z,K)=>(K.cut(),F.none())}),fe("input-events",[E0({onSetup:n.onSetup,getApi:Z=>tu(Z.element,".tox-toolbar").bind(ae=>ur(ae,"button:enabled")).fold(()=>cT(Z,f),ae=>cT(Z,f,ae)),onBeforeSetup:lo.focusIn},b),d4({getApi:w},b,f),Mt(Bf(),Z=>{n.onInput(w(Z))})])])});return bC(S,H,s)},rM=(n,s,i)=>{const f=Co(),w=gr(n(i,H=>_.findPrimary(H).orThunk(()=>M.findPrimary(H)).map(Z=>(r1(Z),!0)),f)),S=$o(s.commands,H=>H.align==="start"),_=c9(w,S.pass,i,f),M=c9(w,S.fail,i,f);return xo([{title:F.none(),label:F.none(),items:_.asSpecs()},{title:F.none(),label:F.none(),items:[w.asSpec()]},{title:F.none(),label:F.none(),items:M.asSpecs()}],H=>H.items.length>0)},aM=(n,s)=>{switch(n.type){case"contextform":return rM(fn(pQ,n),n,s);case"contextsliderform":return rM(fn(gQ,n),n,s);case"contextsizeinputform":return rM(fn(hQ,n),n,s)}},u9={renderContextForm:(n,s,i)=>J4({type:n,uid:me("context-toolbar"),initGroups:aM(s,i),onEscape:F.none,cyclicKeying:!0,providers:i}),buildInitGroups:aM},d9=(n,s,i)=>s.bottom-n.y>=i&&n.bottom-s.y>=i,bQ=n=>{const s=n.getBoundingClientRect();if(s.height<=0&&s.width<=0){const i=Sh(mn.fromDom(n.startContainer),n.startOffset).element;return(vl(i)?xl(i):F.some(i)).filter(Yc).map(b=>b.dom.getBoundingClientRect()).getOr(s)}else return s},iM=n=>{const s=n.selection.getRng(),i=bQ(s);if(n.inline){const f=ka();return Pi(f.left+i.left,f.top+i.top,i.width,i.height)}else{const f=Nh(mn.fromDom(n.getBody()));return Pi(f.x+i.left,f.y+i.top,i.width,i.height)}},yQ=(n,s)=>s.filter(i=>Is(i)&&_e(i)).map(Nh).getOrThunk(()=>iM(n)),vQ=(n,s,i)=>{const f=Math.max(n.x+i,s.x),b=Math.min(n.right-i,s.right);return{x:f,width:b-f}},uT=(n,s,i,f,b,w)=>{const S=mn.fromDom(n.getContainer()),_=ur(S,".tox-editor-header").getOr(S),M=_i(_),H=M.y>=s.bottom,Z=f&&!H;if(n.inline&&Z)return{y:Math.max(M.bottom+w,i.y),bottom:i.bottom};if(n.inline&&!Z)return{y:i.y,bottom:Math.min(M.y-w,i.bottom)};const K=b==="line"?_i(S):s;return Z?{y:Math.max(M.bottom+w,i.y),bottom:Math.min(K.bottom-w,i.bottom)}:{y:Math.max(K.y+w,i.y),bottom:Math.min(M.y-w,i.bottom)}},lM=(n,s,i,f=0)=>{const b=Ep(window),w=_i(mn.fromDom(n.getContentAreaContainer())),S=Hw(n)||zw(n)||uv(n),{x:_,width:M}=vQ(w,b,f);if(n.inline&&!S)return Pi(_,b.y,M,b.height);{const H=s.header.isPositionedAtTop(),{y:Z,bottom:K}=uT(n,w,b,H,i,f);return Pi(_,Z,M,K-Z)}},m3=12,f9={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},cM={maxHeightFunction:Gh(),maxWidthFunction:kb()},uM=(n,s)=>{const i=n.selection.getRng(),f=Sh(mn.fromDom(i.startContainer),i.startOffset);return i.startContainer===i.endContainer&&i.startOffset===i.endOffset-1&&oe(f.element,s)},m9=(n,s,i)=>{const f=Gr(n,"position");So(n,"position",s);const b=i(n);return f.each(w=>So(n,"position",w)),b},dM=n=>n==="node",xQ=(n,s,i,f,b)=>{const w=iM(n),S=f.lastElement().exists(_=>oe(i,_));if(uM(n,i))return S?Fc:oc;if(S)return m9(s,f.getMode(),()=>d9(w,_i(s),-20)&&!f.isReposition()?ym:Fc);{const _=f.getMode()==="fixed"?b.y+ka().top:b.y,M=bi(s)+m3;return _+M<=w.y?oc:qh}},yC=(n,s,i,f)=>{const b=M=>(H,Z,K,ae,he)=>{const xe=xQ(n,ae,M,i,he),Oe={...H,y:he.y,height:he.height};return{...xe(Oe,Z,K,ae,he),alwaysFit:!0}},w=M=>dM(f)?[b(M)]:[];return s?{onLtr:M=>[Oi,Ji,Kr,Al,kl,ya].concat(w(M)),onRtl:M=>[Oi,Kr,Ji,kl,Al,ya].concat(w(M))}:{onLtr:M=>[ya,Oi,Al,Ji,kl,Kr].concat(w(M)),onRtl:M=>[ya,Oi,kl,Kr,Al,Ji].concat(w(M))}},h3=(n,s,i,f)=>s==="line"?{bubble:mu(m3,0,f9),layouts:{onLtr:()=>[Km],onRtl:()=>[Id]},overrides:cM}:{bubble:mu(0,m3,f9,1/m3),layouts:yC(n,i,f,s),overrides:cM},vC=(n,s)=>{const i=xo(s,w=>w.predicate(n.dom)),{pass:f,fail:b}=$o(i,w=>w.type==="contexttoolbar");return{contextToolbars:f,contextForms:b}},fM=n=>{if(n.length<=1)return n;{const s=w=>It(n,S=>S.position===w),i=w=>xo(n,S=>S.position===w),f=s("selection"),b=s("node");if(f||b)if(b&&f){const w=i("node"),S=He(i("selection"),_=>({..._,position:"node"}));return w.concat(S)}else return i(f?"selection":"node");else return i("line")}},mM=n=>{if(n.length<=1)return n;{const s=f=>Be(n,b=>b.position===f);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(f=>f.position).fold(()=>[],f=>xo(n,b=>b.position===f))}},h9=(n,s,i)=>{const f=vC(n,s);if(f.contextForms.length>0)return F.some({elem:n,toolbars:[f.contextForms[0]]});{const b=vC(n,i);if(b.contextForms.length>0)return F.some({elem:n,toolbars:[b.contextForms[0]]});if(f.contextToolbars.length>0||b.contextToolbars.length>0){const w=fM(f.contextToolbars.concat(b.contextToolbars));return F.some({elem:n,toolbars:w})}else return F.none()}},g3=(n,s,i)=>n(s)?F.none():or(s,f=>{if(Yc(f)){const{contextToolbars:b,contextForms:w}=vC(f,i.inNodeScope),S=w.length>0?w:mM(b);return S.length>0?F.some({elem:f,toolbars:S}):F.none()}else return F.none()},n),g9=(n,s)=>{const i=mn.fromDom(s.getBody()),f=S=>oe(S,i),b=S=>!f(S)&&!ke(i,S),w=mn.fromDom(s.selection.getNode());return b(w)?F.none():h9(w,n.inNodeScope,n.inEditorScope).orThunk(()=>g3(f,w,n))},p9=(n,s)=>{const i={},f=[],b=[],w={},S={},_=(Z,K)=>{const ae=Qu(kq(K));i[Z]=ae,ae.launch.map(he=>{w["form:"+Z]={...K.launch,type:he.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(ae)}}}),ae.scope==="editor"?b.push(ae):f.push(ae),S[Z]=ae},M=(Z,K)=>{_q(K).each(ae=>{ae.launch.isSome()&&(w["toolbar:"+Z]={...K.launch,type:"button",onAction:()=>{s(ae)}}),K.scope==="editor"?b.push(ae):f.push(ae),S[Z]=ae})},H=Do(n);return dt(H,Z=>{const K=n[Z];K.type==="contextform"||K.type==="contextsliderform"||K.type==="contextsizeinputform"?_(Z,K):K.type==="contexttoolbar"&&M(Z,K)}),{forms:i,inNodeScope:f,inEditorScope:b,lookupTable:S,formNavigators:w}},dT="tox-pop--transition",wQ=n=>n===i3.ENTER||n===i3.SPACEBAR,b9=(n,s,i,f)=>{const b=f.backstage,w=b.shared,S=Ua().deviceType.isTouch,_=Co(),M=Co(),H=Co(),Z=KR({sink:i,onEscape:()=>(n.focus(),BN(n),F.some(!0)),onHide:()=>{BN(n)},onBack:()=>{LN(n)},focusElement:ho=>{n.getBody().contains(ho.dom)?n.focus():Fa(ho)}}),K=E(Z.sketch),ae=()=>{const ho=H.get().getOr("node"),Vo=dM(ho)?1:0;return lM(n,w,ho,Vo)},he=()=>!n.removed&&!(S()&&b.isContextMenuOpen()),xe=ho=>oo(Ts(ho,_.get(),oe),!0),Oe=()=>{if(he()){const ho=ae(),Vo=oo(H.get(),"node")?yQ(n,_.get()):iM(n);return ho.height<=0||!d9(Vo,ho,.01)}else return!0},ze=()=>{_.clear(),M.clear(),H.clear(),mi.hide(K)},Te=()=>{if(mi.isOpen(K)){const ho=K.element;cs(ho,"display"),Oe()?So(ho,"display","none"):(M.set(0),mi.reposition(K))}},Ye=ho=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[ho],behaviours:a([lo.config({mode:"acyclic"}),fe("pop-dialog-wrap-events",[Lr(Vo=>{n.shortcuts.add("ctrl+F9","focus statusbar",()=>lo.focusIn(Vo))}),hf(Vo=>{n.shortcuts.remove("ctrl+F9")})])])}),st=ho=>{const Vo=Jt([ho]);so(K,BI,{forwardContents:Ye(Vo)})},wt=rl(()=>p9(s,st)),Ot=(ho,Vo)=>l3(n,{buttons:ho,toolbar:Vo.items,allowToolbarGroups:!1},f.backstage,F.some(["form:","toolbar:"])),kn=(ho,Vo)=>u9.buildInitGroups(ho,Vo),Jt=ho=>{const{buttons:Vo}=n.ui.registry.getAll(),no=wt(),Yt={...Vo,...no.formNavigators},vn=jx(n)===ih.scrolling?ih.scrolling:ih.default,To=tt(He(ho,Ko=>Ko.type==="contexttoolbar"?Ot(Yt,aN(Ko)):kn(Ko,w.providers)));return J4({type:vn,uid:me("context-toolbar"),initGroups:To,onEscape:F.none,cyclicKeying:!0,providers:w.providers})},rn=(ho,Vo)=>{const no=ho==="node"?w.anchors.node(Vo):w.anchors.cursor(),Yt=h3(n,ho,S(),{lastElement:_.get,isReposition:()=>oo(M.get(),0),getMode:()=>dd.getMode(i)});return qt(no,Yt)},on=(ho,Vo)=>{if(ys.cancel(),!he())return;const no=Jt(ho),Yt=ho[0].position,vn=rn(Yt,Vo);H.set(Yt),M.set(1);const To=K.element;cs(To,"display"),xe(Vo)||(ha(To,dT),dd.reset(i,K)),mi.showWithinBounds(K,Ye(no),{anchor:vn,transition:{classes:[dT],mode:"placement"}},()=>F.some(ae())),Vo.fold(_.clear,_.set),Oe()&&So(To,"display","none")},mo=()=>{So(K.element,"transition","none"),Te(),cs(K.element,"transition")};let to=!1;const ys=Ei(()=>{if(!(!n.hasFocus()||n.removed||to))if(Da(K.element,dT))ys.throttle();else{const ho=wt();g9(ho,n).fold(ze,Vo=>{on(Vo.toolbars,F.some(Vo.elem))})}},17);n.on("init",()=>{n.on("remove",ze),n.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Te),n.on("click focus SetContent",ys.throttle),n.on("keyup",ho=>{(!wQ(ho.keyCode)||!Z.inSubtoolbar())&&ys.throttle()}),n.on(sM,ze),n.on(a9,ho=>{const Vo=wt();Hn(Vo.lookupTable,ho.toolbarKey).each(no=>{on([no],Sa(ho.target!==n,ho.target)),MI(K)})}),n.on("focusout",ho=>{Ik.setEditorTimeout(n,()=>{ai(i.element).isNone()&&ai(K.element).isNone()&&!n.hasFocus()&&ze()},0)}),n.on("SwitchMode",()=>{n.mode.isReadOnly()&&ze()}),n.on("DisabledStateChange",ho=>{ho.state&&ze()}),n.on("ExecCommand",({command:ho})=>{ho.toLowerCase()==="toggleview"&&ze()}),n.on("AfterProgressState",ho=>{ho.state?ze():n.hasFocus()&&ys.throttle()}),n.on("dragstart",()=>{to=!0}),n.on("dragend drop",()=>{to=!1}),n.on("NodeChange",ho=>{Z.inSubtoolbar()?mo():ai(K.element).fold(ys.throttle,J)})})},CQ=n=>{dt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],i=>{n.ui.registry.addToggleButton(i.name,{tooltip:i.text,icon:i.icon,onAction:bf(n,i.cmd),onSetup:zE(n,i.name)})}),n.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:zc(n),onAction:bf(n,"JustifyNone")})},y9=(n,s)=>{const i=()=>{const f=s.getOptions(n),b=s.getCurrent(n).map(s.hash),w=Co();return He(f,S=>({type:"togglemenuitem",text:s.display(S),onSetup:_=>{const M=Z=>{Z&&(w.on(K=>K.setActive(!1)),w.set(_)),_.setActive(Z)};M(oo(b,s.hash(S)));const H=s.watcher(n,S,M);return()=>{w.clear(),H()}},onAction:()=>s.setCurrent(n,S)}))};n.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:f=>f(i()),onSetup:s.onToolbarSetup}),n.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:i,onSetup:s.onMenuSetup})},p3=n=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:gP,hash:s=>Ha(s,["fixed","relative","empty"]).getOr(s),display:ct,watcher:(s,i,f)=>s.formatter.formatChanged("lineheight",f,!1,{value:i}).unbind,getCurrent:s=>F.from(s.queryCommandValue("LineHeight")),setCurrent:(s,i)=>s.execCommand("LineHeight",!1,i),onToolbarSetup:zc(n),onMenuSetup:zc(n)}),v9=n=>F.from(YL(n)).map(i=>({name:"language",text:"Language",icon:"language",getOptions:ie(i),hash:f=>Ce(f.customCode)?f.code:`${f.code}/${f.customCode}`,display:f=>f.title,watcher:(f,b,w)=>f.formatter.formatChanged("lang",w,!1,{value:b.code,customValue:b.customCode??null}).unbind,getCurrent:f=>{const b=mn.fromDom(f.selection.getNode());return Cr(b,w=>F.some(w).filter(Yc).bind(S=>ii(S,"lang").map(M=>{const H=ii(S,"data-mce-lang").getOrUndefined();return{code:M,customCode:H,title:""}})))},setCurrent:(f,b)=>f.execCommand("Lang",!1,b),onToolbarSetup:f=>{const b=Ir();return f.setActive(n.formatter.match("lang",{},void 0,!0)),b.set(n.formatter.formatChanged("lang",f.setActive,!0)),s2(b.clear,zc(n)(f))},onMenuSetup:zc(n)})),SQ=n=>{y9(n,p3(n)),v9(n).each(s=>y9(n,s))},EQ=(n,s)=>{DX(n,s),MX(n,s),gC(n,s),OX(n,s),JI(n,s)},TQ=n=>{n.ui.registry.addContext("editable",()=>n.selection.isEditable()),n.ui.registry.addContext("mode",s=>n.mode.get()===s),n.ui.registry.addContext("any",Lt),n.ui.registry.addContext("formatting",s=>n.formatter.canApply(s)),n.ui.registry.addContext("insert",s=>n.schema.isValidChild(n.selection.getNode().tagName,s))},AQ=n=>yv(n,"NodeChange",s=>{s.setEnabled(n.queryCommandState("outdent")&&n.selection.isEditable())}),kQ=n=>{n.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:AQ(n),onAction:bf(n,"outdent")}),n.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:zc(n,()=>n.queryCommandState("indent")),onAction:bf(n,"indent")})},x9=n=>{kQ(n)},hM=(n,s)=>i=>{i.setActive(s.get());const f=b=>{s.set(b.state),i.setActive(b.state)};return n.on("PastePlainTextToggle",f),s2(()=>n.off("PastePlainTextToggle",f),zc(n)(i))},w9=n=>{const s=Mn(uP(n)),i=()=>n.execCommand("mceTogglePlainTextPaste");n.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:i,onSetup:hM(n,s)}),n.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:i,onSetup:hM(n,s)})},b3=(n,s)=>()=>{n.execCommand("mceToggleFormat",!1,s)},DQ=n=>{D1.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,i)=>{n.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:zE(n,s.name),onAction:b3(n,s.name),shortcut:s.shortcut})});for(let s=1;s<=6;s++){const i="h"+s,f=`Access+${s}`;n.ui.registry.addToggleButton(i,{text:i.toUpperCase(),tooltip:"Heading "+s,onSetup:zE(n,i),onAction:b3(n,i),shortcut:f})}},C9=n=>{D1.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],s=>{n.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:bf(n,s.action),shortcut:s.shortcut,context:s.context})}),D1.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{n.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:zc(n),onAction:bf(n,s.action)})})},S9=n=>{D1.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{n.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:bf(n,s.action),onSetup:zE(n,s.name)})})},_Q=n=>{DQ(n),C9(n),S9(n)},toe=n=>{D1.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],s=>{n.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:bf(n,s.action),context:s.context})}),D1.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{n.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:zc(n),onAction:bf(n,s.action)})}),n.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:zc(n),onAction:b3(n,"code")})},OQ=n=>{_Q(n),toe(n)},y3=(n,s)=>yv(n,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i=>{i.setEnabled(!n.mode.isReadOnly()&&n.undoManager[s]())}),NQ=n=>{n.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:y3(n,"hasUndo"),onAction:bf(n,"undo")}),n.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:y3(n,"hasRedo"),onAction:bf(n,"redo")})},RQ=n=>{n.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:y3(n,"hasUndo"),onAction:bf(n,"undo"),shortcut:"Meta+Z"}),n.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:y3(n,"hasRedo"),onAction:bf(n,"redo"),shortcut:"Meta+Y"})},MQ=n=>{NQ(n),RQ(n)},BQ=n=>yv(n,"VisualAid",s=>{s.setActive(n.hasVisual)}),LQ=n=>{n.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:BQ(n),onAction:bf(n,"mceToggleVisualAid"),context:"any"})},PQ=n=>{n.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:bf(n,"mceToggleVisualAid"),context:"any"})},FQ=n=>{PQ(n),LQ(n)},$Q=(n,s)=>{CQ(n),OQ(n),EQ(n,s),MQ(n),m7(n),FQ(n),x9(n),SQ(n),w9(n),TQ(n)},IQ=n=>z(n)?n.split(/[ ,]/):n,E9=n=>s=>s.options.get(n),HQ=n=>{const s=n.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:i=>i===!1?{value:[],valid:!0}:z(i)||Se(i,z)?{value:IQ(i),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},gM=E9("contextmenu_never_use_native"),zQ=E9("contextmenu_avoid_overlap"),jQ=n=>T9(n).length===0,T9=n=>{const s=n.ui.registry.getAll().contextMenus,i=n.options.get("contextmenu");return n.options.isSet("contextmenu")?i:xo(i,f=>ts(s,f))},fT=(n,s)=>({type:"makeshift",x:n,y:s}),VQ=(n,s,i)=>fT(n.x+s,n.y+i),pM=n=>n.type==="longpress"||n.type.indexOf("touch")===0,bM=n=>{if(pM(n)){const s=n.touches[0];return fT(s.pageX,s.pageY)}else return fT(n.pageX,n.pageY)},UQ=n=>{if(pM(n)){const s=n.touches[0];return fT(s.clientX,s.clientY)}else return fT(n.clientX,n.clientY)},A9=(n,s)=>{const i=Pw.DOM.getPos(n);return VQ(s,i.x,i.y)},ZQ=(n,s)=>s.type==="contextmenu"||s.type==="longpress"?n.inline?bM(s):A9(n.getContentAreaContainer(),UQ(s)):k9(n),k9=n=>({type:"selection",root:mn.fromDom(n.selection.getNode())}),WQ=n=>({type:"node",node:F.some(mn.fromDom(n.selection.getNode())),root:mn.fromDom(n.getBody())}),D9=(n,s,i)=>{switch(i){case"node":return WQ(n);case"point":return ZQ(n,s);case"selection":return k9(n)}},qQ=(n,s,i,f,b,w)=>{const S=i(),_=D9(n,s,w);ny(S,ip.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:F.none()}).map(M=>{s.preventDefault(),mi.showMenuAt(b,{anchor:_},{menu:{markers:S1("normal")},data:M})})},yM={onLtr:()=>[Oi,Ji,Kr,Al,kl,ya,oc,qh,Il,$y,jf,s1],onRtl:()=>[Oi,Kr,Ji,kl,Al,ya,oc,qh,jf,s1,Il,$y]},GQ=12,KQ={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},vM=(n,s)=>{const i=n.selection;if(i.isCollapsed()||s.touches.length<1)return!1;{const f=s.touches[0],b=i.getRng();return Dh(n.getWin(),di.domRange(b)).exists(S=>S.left<=f.clientX&&S.right>=f.clientX&&S.top<=f.clientY&&S.bottom>=f.clientY)}},_9=n=>{const s=n.selection.getRng(),i=()=>{Ik.setEditorTimeout(n,()=>{n.selection.setRng(s)},10),w()};n.once("touchend",i);const f=S=>{S.preventDefault(),S.stopImmediatePropagation()};n.on("mousedown",f,!0);const b=()=>w();n.once("longpresscancel",b);const w=()=>{n.off("touchend",i),n.off("longpresscancel",b),n.off("mousedown",f)}},O9=(n,s,i)=>{const f=D9(n,s,i);return{bubble:mu(0,i==="point"?GQ:0,KQ),layouts:yM,overrides:{maxWidthFunction:kb(),maxHeightFunction:Gh()},...f}},YQ=(n,s,i,f,b,w,S)=>{const _=O9(n,s,w);ny(i,ip.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!0,search:F.none()}).map(M=>{s.preventDefault();const H=S?Ec.HighlightMenuAndItem:Ec.HighlightNone;mi.showMenuWithinBounds(b,{anchor:_},{menu:{markers:S1("normal"),highlightOnOpen:H},data:M,type:"horizontal"},()=>F.some(lM(n,f.shared,w==="node"?"node":"selection"))),n.dispatch(sM)})},XQ=(n,s,i,f,b,w)=>{const S=Ua(),_=S.os.isiOS(),M=S.os.isMacOS(),H=S.os.isAndroid(),Z=S.deviceType.isTouch(),K=()=>!(H||_||M&&Z),ae=()=>{const he=i();YQ(n,s,he,f,b,w,K())};if((M||_)&&w!=="node"){const he=()=>{_9(n),ae()};vM(n,s)?he():(n.once("selectionchange",he),n.once("touchend",()=>n.off("selectionchange",he)))}else ae()},N9=n=>z(n)?n==="|":n.type==="separator",xM={type:"separator"},R9=n=>{const s=i=>({text:i.text,icon:i.icon,enabled:i.enabled,shortcut:i.shortcut});if(z(n))return n;switch(n.type){case"separator":return xM;case"submenu":return{type:"nestedmenuitem",...s(n),getSubmenuItems:()=>{const f=n.getSubmenuItems();return z(f)?f:He(f,R9)}};default:const i=n;return{type:"menuitem",...s(i),onAction:vt(i.onAction)}}},v3=(n,s)=>{if(s.length===0)return n;const f=Zn(n).filter(b=>!N9(b)).fold(()=>[],b=>[xM]);return n.concat(f).concat(s).concat([xM])},QQ=(n,s,i)=>{const f=Ho(s,(b,w)=>Hn(n,w.toLowerCase()).map(S=>{const _=S.update(i);if(z(_)&&Cu(An(_)))return v3(b,_.split(" "));if(Y(_)&&_.length>0){const M=He(_,R9);return v3(b,M)}else return b}).getOrThunk(()=>b.concat([w])),[]);return f.length>0&&N9(f[f.length-1])&&f.pop(),f},M9=(n,s)=>s.ctrlKey&&!gM(n),JQ=n=>n.type==="longpress"||ts(n,"touches"),B9=(n,s)=>!JQ(s)&&(s.button!==2||s.target===n.getBody()&&s.pointerType===""),x3=(n,s)=>B9(n,s)?n.selection.getStart(!0):s.target,eJ=(n,s)=>{const i=zQ(n),f=B9(n,s)?"selection":"point";if(Cu(i)){const b=x3(n,s);return Pm(mn.fromDom(b),i)?"node":f}else return f},L9=(n,s,i)=>{const b=Ua().deviceType.isTouch,w=E(mi.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>n.focus(),onShow:()=>i.setContextMenuState(!0),onHide:()=>i.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:a([fe("dismissContextMenu",[Mt(mm(),(M,H)=>{ar.close(M),n.focus()})])])})),S=()=>mi.hide(w),_=M=>{if(gM(n)&&M.preventDefault(),M9(n,M)||jQ(n))return;const H=eJ(n,M),Z=()=>{const ae=x3(n,M),he=n.ui.registry.getAll(),xe=T9(n);return QQ(he.contextMenus,xe,ae)};(b()?XQ:qQ)(n,M,Z,i,w,H)};n.on("init",()=>{const M="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(b()?"":" ResizeWindow");n.on(M,S),n.on("longpress contextmenu",_)})},mT=40,w3=mT/2,P9=(n,s,i,f,b,w)=>n.fold(()=>zb.snap({sensor:Yg(i-w3,f-w3),range:hr(b,w),output:Yg(F.some(i),F.some(f)),extra:{td:s}}),S=>{const _=i-w3,M=f-w3,H=mT,Z=mT,K=S.element.dom.getBoundingClientRect();return zb.snap({sensor:Yg(_,M),range:hr(H,Z),output:Yg(F.some(i-K.width/2),F.some(f-K.height/2)),extra:{td:s}})}),F9=(n,s,i)=>{const f=(b,w)=>b.exists(S=>oe(S,w));return{getSnapPoints:n,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(b,w)=>{const S=w.td;f(s.get(),S)||(s.set(S),i(S))},mustSnap:!0}},$9=n=>gr(rc.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:a([zb.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:n}),m0.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),tJ=(n,s)=>{const i=Mn([]),f=Mn([]),b=Mn(!1),w=Co(),S=Co(),_=Jt=>{const rn=Nh(Jt);return P9(he.getOpt(s),Jt,rn.x,rn.y,rn.width,rn.height)},M=()=>He(i.get(),Jt=>_(Jt)),H=Jt=>{const rn=Nh(Jt);return P9(xe.getOpt(s),Jt,rn.right,rn.bottom,rn.width,rn.height)},Z=()=>He(f.get(),Jt=>H(Jt)),K=F9(M,w,Jt=>{S.get().each(rn=>{n.dispatch("TableSelectorChange",{start:Jt,finish:rn})})}),ae=F9(Z,S,Jt=>{w.get().each(rn=>{n.dispatch("TableSelectorChange",{start:rn,finish:Jt})})}),he=$9(K),xe=$9(ae),Oe=E(he.asSpec()),ze=E(xe.asSpec()),Te=(Jt,rn,on,mo)=>{const to=rn.dom.getBoundingClientRect();cs(Jt.element,"display");const ys=yp(mn.fromDom(n.getBody())).dom.innerHeight,ho=on(to),Vo=mo(to,ys);(ho||Vo)&&So(Jt.element,"display","none")},Ye=(Jt,rn,on,mo)=>{const to=on(rn);zb.snapTo(Jt,to),Te(Jt,rn,Vo=>Vo[mo]<0,(Vo,no)=>Vo[mo]>no)},st=Jt=>Ye(Oe,Jt,_,"top"),wt=()=>w.get().each(st),Ot=Jt=>Ye(ze,Jt,H,"bottom"),kn=()=>S.get().each(Ot);if(Ua().deviceType.isTouch()){const Jt=rn=>He(rn,mn.fromDom);n.on("TableSelectionChange",rn=>{b.get()||(r0(s,Oe),r0(s,ze),b.set(!0));const on=mn.fromDom(rn.start),mo=mn.fromDom(rn.finish);w.set(on),S.set(mo),F.from(rn.otherCells).each(to=>{i.set(Jt(to.upOrLeftCells)),f.set(Jt(to.downOrRightCells)),st(on),Ot(mo)})}),n.on("ResizeEditor ResizeWindow ScrollContent",()=>{wt(),kn()}),n.on("TableSelectionClear",()=>{b.get()&&(i0(Oe),i0(ze),b.set(!1)),w.clear(),S.clear()})}};var I9=`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`;const nJ=n=>n.nodeName==="BR"||!!n.getAttribute("data-mce-bogus")||n.getAttribute("data-mce-type")==="bookmark",oJ=(n,s,i)=>{const f=s.delimiter??"",b=(M,H,Z)=>rc.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":Z}},components:[Ra(M)],action:K=>{n.focus(),n.selection.select(H),n.nodeChanged()},buttonBehaviours:a([va.config({...i.tooltips.getConfig({tooltipText:i.translate(["Select the {0} element",H.nodeName.toLowerCase()]),onShow:(K,ae)=>{su(K.element,ae.element)},onHide:K=>{H0(K.element)}})}),S0.button(i.isDisabled),nl(()=>i.checkUiComponentContext("any"))])}),w=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Ra(` ${f} `)]}),S=M=>Ho(M,(H,Z,K)=>{const ae=b(Z.name,Z.element,K);return K===0?H.concat([ae]):H.concat([w(),ae])},[]),_=M=>{const H=[];let Z=M.length;for(;Z-- >0;){const K=M[Z];if(K.nodeType===1&&!nJ(K)){const ae=pG(n,K);if(ae.isDefaultPrevented()||H.push({name:ae.name,element:K}),ae.isPropagationStopped())break}}return H};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:a([lo.config({mode:"flow",selector:"div[role=button]"}),eo.config({disabled:i.isDisabled}),nl(()=>i.checkUiComponentContext("any")),ua.config({}),jo.config({}),fe("elementPathEvents",[Lr((M,H)=>{n.shortcuts.add("alt+F11","focus statusbar elementpath",()=>lo.focusIn(M)),n.on("NodeChange",Z=>{const K=_(Z.parents),ae=K.length>0?S(K):[];jo.set(M,ae)})})])]),components:[]}};var N1;(function(n){n[n.None=0]="None",n[n.Both=1]="Both",n[n.Vertical=2]="Vertical"})(N1||(N1={}));const H9=n=>{const s=mn.fromDom(n.getContainer()),i=bi(s),f=Bi(s);return{height:i,width:f}},sJ=(n,s,i,f)=>{const b=u3(f.height+s.top,J5(n),eO(n));return i===N1.Both?{height:b,width:u3(f.width+s.left,Q5(n),zk(n))}:{height:b}},z9=(n,s,i)=>{const f=mn.fromDom(n.getContainer()),b=H9(n),w=sJ(n,s,i,b);return zo(w,(S,_)=>{it(S)&&So(f,_,c3(S))}),RN(n),w},rJ=n=>{const s=cP(n);return s===!1?N1.None:s==="both"?N1.Both:N1.Vertical},aJ=(n,s)=>s===N1.Both?md.translate(["Editor's height: {0} pixels, Editor's width: {1} pixels",n.height,n.width]):md.translate(["Editor's height: {0} pixels",n.height]),wM=(n,s,i)=>{uo(n.element,"aria-valuetext",aJ(s,i))},C3=(n,s,i,f,b)=>{const S=hr(f*20,b*20),_=z9(n,S,i);return wM(s,_,i),F.some(!0)},j9=(n,s)=>{const i=rJ(n);if(i===N1.None)return F.none();const f=i===N1.Both?md.translate("Press the arrow keys to resize the editor."):md.translate("Press the Up and Down arrow keys to resize the editor."),b=i===N1.Both?"tox-statusbar__resize-cursor-both":"tox-statusbar__resize-cursor-default";return F.some(lh("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle",b],attributes:{"aria-label":s.translate(f),"data-mce-name":"resize-handle",role:"separator"},behaviours:[zb.config({mode:"mouse",repositionTarget:!1,onDrag:(w,S,_)=>{const M=z9(n,_,i);wM(w,M,i)},blockerClass:"tox-blocker"}),lo.config({mode:"special",onLeft:w=>C3(n,w,i,-1,0),onRight:w=>C3(n,w,i,1,0),onUp:w=>C3(n,w,i,0,-1),onDown:w=>C3(n,w,i,0,1)}),ua.config({}),et.config({}),va.config(s.tooltips.getConfig({tooltipText:s.translate("Resize")})),fe("set-aria-valuetext",[Lr(w=>{const S=()=>{wM(w,H9(n),i)};n._skinLoaded?S():n.once("SkinLoaded",S)})])],eventOrder:{[Lc()]:["add-focusable","set-aria-valuetext"]}},s.icons))},iJ=(n,s)=>{const i=(f,b,w)=>jo.set(f,[Ra(s.translate(["{0} "+w,b[w]]))]);return rc.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:a([S0.button(s.isDisabled),nl(()=>s.checkUiComponentContext("any")),ua.config({}),jo.config({}),In.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),fe("wordcount-events",[wm(f=>{const b=In.getValue(f),w=b.mode==="words"?"characters":"words";In.setValue(f,{mode:w,count:b.count}),i(f,b.count,w)}),Lr(f=>{n.on("wordCountUpdate",b=>{const{mode:w}=In.getValue(f);In.setValue(f,{mode:w,count:b.wordCount}),i(f,b.wordCount,w)})})])]),eventOrder:{[Ls()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},V9=(n,s)=>{const i=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":n.translate(["Build with {0}","TinyMCE"])},innerHtml:n.translate(["Build with {0}",I9.trim()])},behaviours:a([et.config({})])}]}),f=()=>{const _=yN("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Ra(md.translate(["Press {0} for help",_]))]}},b=()=>{const _=[];return n.hasPlugin("wordcount")&&_.push(iJ(n,s)),aO(n)&&_.push(i()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:_}},w=()=>{const _=[],M=mP(n),H=lP(n),Z=aO(n)||n.hasPlugin("wordcount"),K=()=>{const ae="tox-statusbar__text-container--flex-start",he="tox-statusbar__text-container--flex-end",xe="tox-statusbar__text-container--space-around";if(M){const Oe="tox-statusbar__text-container-3-cols";return!Z&&!H?[Oe,xe]:Z&&!H?[Oe,he]:[Oe,ae]}return[Z&&!H?he:ae]};return H&&_.push(oJ(n,{},s)),M&&_.push(f()),Z&&_.push(b()),_.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...K()]},components:_}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const _=w(),M=j9(n,s);return _.concat(M.toArray())})()}},U9=(n,s)=>s.get().getOrDie(`UI for ${n} has not been rendered`),lJ=(n,s)=>{const i=n.inline,f=i?uQ:nQ,b=Vw(n)?NY:TY,w=d3(),S=Co(),_=Co(),M=Co(),ae=Ua().deviceType.isTouch()?["tox-platform-touch"]:[],he=Zk(n),xe=jx(n),Oe=gr({dom:{tag:"div",classes:["tox-anchorbar"]}}),ze=gr({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),Te=()=>w.mainUi.get().map(ao=>ao.outerContainer).bind(Yr.getHeader),Ye=()=>Pn.fromOption(w.dialogUi.get().map(ao=>ao.sink),"UI has not been rendered"),st=()=>Pn.fromOption(w.popupUi.get().map(ao=>ao.sink),"(popup) UI has not been rendered"),wt=w.lazyGetInOuterOrDie("anchor bar",Oe.getOpt),Ot=w.lazyGetInOuterOrDie("bottom anchor bar",ze.getOpt),kn=w.lazyGetInOuterOrDie("toolbar",Yr.getToolbar),Jt=w.lazyGetInOuterOrDie("throbber",Yr.getThrobber),rn=CY({popup:st,dialog:Ye},n,wt,Ot),on=()=>{const ao={attributes:{[Qp]:he?Vf.BottomToTop:Vf.TopToBottom}},qo=Yr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:rn.popup,onEscape:()=>{n.focus()}}),Ur=Yr.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:rn.popup.shared.getSink,providers:rn.popup.shared.providers,onEscape:()=>{n.focus()},onToolbarToggled:R1=>{bG(n,R1)},type:xe,lazyToolbar:kn,lazyHeader:()=>Te().getOrDie("Could not find header element"),...ao}),pr=Yr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:rn.popup.shared.providers,onEscape:()=>{n.focus()},type:xe}),zu=uv(n),ei=zw(n),Kf=Hw(n),jc=fP(n),dh=mo(jc),bu=zu||ei||Kf,ug=()=>zu?[pr]:ei?[Ur]:[],Sv=[dh,qo];return Yr.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(bu?[]:["tox-editor-header--empty"]),...ao},components:tt([Kf?Sv:[],ug(),jw(n)?[]:[Oe.asSpec()]]),sticky:Vw(n),editor:n,sharedBackstage:rn.popup.shared})},mo=ao=>Yr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:ao}),to=()=>{const ao=Yr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),qo=Yr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[ao,qo]}},ys=()=>{const ao=lO(n),qo=oe(Ml(),ao)&&yr(ao,"display")==="grid",Ur={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(ae),attributes:{...md.isRtl()?{dir:"rtl"}:{}}},behaviours:a([dd.config({useFixed:()=>b.isDocked(Te)})])},pr={dom:{styles:{width:document.body.clientWidth+"px"}},events:oa([Mt(xi(),Kf=>{So(Kf.element,"width",document.body.clientWidth+"px")})])},zu=E(qt(Ur,qo?pr:{})),ei=Q_(zu);return _.set(ei),{sink:zu,mothership:ei}},ho=()=>{const ao={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(ae),attributes:{...md.isRtl()?{dir:"rtl"}:{}}},behaviours:a([dd.config({useFixed:()=>b.isDocked(Te),getBounds:()=>s.getPopupSinkBounds()})])},qo=E(ao),Ur=Q_(qo);return M.set(Ur),{sink:qo,mothership:Ur}},Vo=()=>{const ao=on(),qo=to(),Ur=Yr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:rn.popup}),pr=Yr.parts.viewWrapper({backstage:rn.popup}),zu=iP(n)&&!i?F.some(V9(n,rn.popup.shared.providers)):F.none(),ei=tt([he?[]:[ao],i?[]:[qo],he?[ao]:[]]),Kf=Yr.parts.editorContainer({components:tt([ei,i?[]:[ze.asSpec()]])}),jc=cO(n),dh={role:"application",...md.isRtl()?{dir:"rtl"}:{},...jc?{"aria-hidden":"true"}:{}},bu=E(Yr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(he?["tox-tinymce--toolbar-bottom"]:[]).concat(ae),styles:{visibility:"hidden",...jc?{opacity:"0",border:"0"}:{}},attributes:dh},components:[Kf,...i?[]:[pr,...zu.toArray()],Ur],behaviours:a([nl(()=>rn.popup.shared.providers.checkUiComponentContext("any")),eo.config({disableClass:"tox-tinymce--disabled"}),lo.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),ug=Q_(bu);return S.set(ug),{mothership:ug,outerContainer:bu}},no=ao=>{const qo=c3(aQ(n)),Ur=c3(iQ(n));return n.inline||(tf("div","width",Ur)&&So(ao.element,"width",Ur),tf("div","height",qo)?So(ao.element,"height",qo):So(ao.element,"height","400px")),qo},Yt=ao=>{n.addShortcut("alt+F9","focus menubar",()=>{Yr.focusMenubar(ao)}),n.addShortcut("alt+F10","focus toolbar",()=>{Yr.focusToolbar(ao)}),n.addCommand("ToggleToolbarDrawer",(qo,Ur,pr)=>{Ur?.skipFocus?(SY("skipFocus"),Yr.toggleToolbarDrawerWithoutFocusing(ao)):pr?.skip_focus?Yr.toggleToolbarDrawerWithoutFocusing(ao):Yr.toggleToolbarDrawer(ao)}),n.addQueryStateHandler("ToggleToolbarDrawer",()=>Yr.isToolbarDrawerToggled(ao)),n.on("blur",()=>{jx(n)===ih.floating&&Yr.isToolbarDrawerToggled(ao)&&Yr.toggleToolbarDrawerWithoutFocusing(ao)})},vn=ao=>{const{mainUi:qo,popupUi:Ur,uiMotherships:pr}=ao;os(QL(n),(M1,gT)=>{n.ui.registry.addGroupToolbarButton(gT,M1)});const{buttons:zu,menuItems:ei,contextToolbars:Kf,sidebars:jc,views:dh}=n.ui.registry.getAll(),bu=bE(n),ug={menuItems:ei,menus:bP(n),menubar:nP(n),toolbar:bu.getOrThunk(()=>Vk(n)),allowToolbarGroups:xe===ih.floating,buttons:zu,sidebar:jc,views:dh};Yt(qo.outerContainer),BR(n,qo.mothership,pr),b.setup(n,rn.popup.shared,Te),$Q(n,rn.popup),L9(n,rn.popup.shared.getSink,rn.popup),BY(n),IY(n,Jt,rn.popup.shared),b9(n,Kf,Ur.sink,{backstage:rn.popup}),tJ(n,Ur.sink);const Sv=n.getElement(),R1=no(qo.outerContainer),xC={targetNode:Sv,height:R1};return f.render(n,ao,ug,rn.popup,xC)},To=ao=>(M.set(ao.mothership),ao),Ko=()=>{const ao=Vo(),qo=ys(),Ur=dv(n)?ho():To(qo);w.dialogUi.set(qo),w.popupUi.set(Ur),w.mainUi.set(ao);const pr={popupUi:Ur,dialogUi:qo,mainUi:ao,uiMotherships:w.getUiMotherships()};return vn(pr)};return{popups:{backstage:rn.popup,getMothership:()=>U9("popups",M)},dialogs:{backstage:rn.dialog,getMothership:()=>U9("dialogs",_)},renderUI:Ko}},Z9=n=>{const s=[],i={};return zo(n,(f,b)=>{f.fold(()=>{s.push(b)},w=>{i[b]=w})}),s.length>0?Pn.error(s):Pn.value(i)},u2=(n,s,i,f)=>{const b=gr(av.sketch(w=>({dom:{tag:"div",classes:["tox-form"].concat(n.classes)},components:He(n.items,S=>_$(w,S,s,i,f))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[b.asSpec()]}],behaviours:a([lo.config({mode:"acyclic",useTabstopAt:qe(UE)}),cp.memento(b),oK(b,{postprocess:w=>Z9(w).fold(S=>(console.error(S),{}),ct)}),fe("dialog-body-panel",[Mt(ec(),(w,S)=>{w.getSystem().broadcastOn([xv],{newFocus:F.some(S.event.target)})})])])}},W9=(n,s,i)=>He(n,(f,b)=>{jo.set(i,n[b].view());const w=s.dom.getBoundingClientRect();return jo.set(i,[]),w.height}),cJ=n=>sn(Pe(n,(s,i)=>s>i?-1:s<i?1:0)),uJ=(n,s,i)=>{const f=bp(n).dom,b=tu(n,".tox-dialog-wrap").getOr(n),w=yr(b,"position")==="fixed";let S;w?S=Math.max(f.clientHeight,window.innerHeight):S=Math.max(f.offsetHeight,f.scrollHeight);const _=bi(s),H=s.dom.offsetLeft>=i.dom.offsetLeft+Bi(i)?Math.max(bi(i),_):_,Z=parseInt(yr(n,"margin-top"),10)||0,K=parseInt(yr(n,"margin-bottom"),10)||0,he=bi(n)+Z+K-H;return S-he},dJ=(n,s)=>{sn(n).each(i=>zx.showTab(s,i.value))},q9=(n,s)=>{So(n,"height",s+"px"),So(n,"flex-basis",s+"px")},S3=(n,s,i)=>{tu(n,'[role="dialog"]').each(f=>{ur(f,'[role="tablist"]').each(b=>{i.get().map(w=>(So(s,"height","0"),So(s,"flex-basis","0"),Math.min(w,uJ(f,s,b)))).each(w=>{q9(s,w)})})})},E3=n=>ur(n,'[role="tabpanel"]'),fJ=n=>{const s=Co();return{extraEvents:[Lr(b=>{const w=b.element;E3(w).each(S=>{So(S,"visibility","hidden"),b.getSystem().getByDom(S).toOptional().each(_=>{const M=W9(n,S,_);cJ(M).fold(s.clear,s.set)}),S3(w,S,s),cs(S,"visibility"),dJ(n,b),requestAnimationFrame(()=>{S3(w,S,s)})})}),Mt(xi(),b=>{const w=b.element;E3(w).each(S=>{S3(w,S,s)})}),Mt(nR,(b,w)=>{const S=b.element;E3(S).each(_=>{const M=ri(Ai(_));So(_,"visibility","hidden");const H=Gr(_,"height").map(ae=>parseInt(ae,10));cs(_,"height"),cs(_,"flex-basis");const Z=_.dom.getBoundingClientRect().height;H.forall(ae=>Z>ae)?(s.set(Z),S3(S,_,s)):H.each(ae=>{q9(_,ae)}),cs(_,"visibility"),M.each(Fa)})})],selectFirst:!1}},G9="send-data-to-section",K9="send-data-to-view",mJ=(n,s,i,f)=>{const b=Mn({}),w=Z=>{const K=In.getValue(Z),ae=Z9(K).getOr({}),he=b.get(),xe=qt(he,ae);b.set(xe)},S=Z=>{const K=b.get();In.setValue(Z,K)},_=Mn(null),M=He(n.tabs,Z=>({value:Z.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Ra(i.shared.providers.translate(Z.title))],view:()=>[av.sketch(K=>({dom:{tag:"div",classes:["tox-form"]},components:He(Z.items,ae=>_$(K,ae,s,i,f)),formBehaviours:a([lo.config({mode:"acyclic",useTabstopAt:qe(UE)}),fe("TabView.form.events",[Lr(S),hf(w)]),fd.config({channels:vc([{key:G9,value:{onReceive:w}},{key:K9,value:{onReceive:S}}])})])}))]})),H=fJ(M);return zx.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(Z,K,ae)=>{const he=In.getValue(K);so(Z,_7,{name:he,oldName:_.get()}),_.set(he)},tabs:M,components:[zx.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[zL.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:a([ua.config({})])}),zx.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:H.selectFirst,tabSectionBehaviours:a([fe("tabpanel",H.extraEvents),lo.config({mode:"acyclic"}),$t.config({find:Z=>sn(zx.getViewItems(Z))}),i2(F.none(),Z=>(Z.getSystem().broadcastOn([G9],{}),b.get()),(Z,K)=>{b.set(K),Z.getSystem().broadcastOn([K9],{})})])})},Y9=(n,s,i,f,b,w)=>{const S=H=>{const Z=H.body;return Z.type==="tabpanel"?[mJ(Z,H.initialData,f,w)]:[u2(Z,H.initialData,f,w)]},_=(H,Z)=>F.some({isTabPanel:()=>Z.body.type==="tabpanel"}),M={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...i.map(H=>({id:H})).getOr({}),...b?M:{}}},components:[],behaviours:a([cp.childAt(0),qf.config({channel:`${K7}-${s}`,updateState:_,renderComponents:S,initialData:n})])}},hJ=(n,s,i,f,b,w)=>Y9(n,s,F.some(i),f,b,w),gJ=(n,s,i,f)=>{const b=Y9(n,s,F.none(),i,!1,f);return ac.parts.body(b)},X9=n=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[q7(F.none(),{dom:{tag:"iframe",attributes:{src:n.url}},behaviours:a([ua.config({}),et.config({})])})]}],behaviours:a([lo.config({mode:"acyclic",useTabstopAt:qe(UE)})])};return ac.parts.body(s)},pJ=Fw.deviceType.isTouch(),Q9=(n,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[n,s]}),J9=(n,s)=>ac.parts.close(rc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:n,buttonBehaviours:a([ua.config({})])})),eH=()=>ac.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),tH=(n,s)=>ac.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:h0(`<p>${SE(s.translate(n))}</p>`)}]}]}),T3=n=>ac.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:n}),nH=(n,s)=>[d0.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:n}),d0.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],CM=n=>{const s="tox-dialog",i=s+"-wrap",f=i+"__backdrop",b=s+"__disable-scroll";return ac.sketch({lazySink:n.lazySink,onEscape:w=>(n.onEscape(w),F.some(!0)),useTabstopAt:w=>!UE(w),firstTabstop:n.firstTabstop,dom:{tag:"div",classes:[s].concat(n.extraClasses),styles:{position:"relative",...n.extraStyles}},components:[n.header,n.body,...n.footer.toArray()],parts:{blocker:{dom:h0(`<div class="${i}"></div>`),components:[{dom:{tag:"div",classes:pJ?[f,f+"--opaque"]:[f]}}]}},dragBlockClass:i,modalBehaviours:a([et.config({}),fe("dialog-events",n.dialogEvents.concat([t0(ec(),(w,S)=>{tn.isBlocked(w)?J():lo.focusIn(w)}),Mt($h(),(w,S)=>{w.getSystem().broadcastOn([xv],{newFocus:S.event.newFocus})})])),fe("scroll-lock",[Lr(()=>{nr(Ml(),b)}),hf(()=>{ha(Ml(),b)})]),...n.extraBehaviours]),eventOrder:{[Ls()]:["dialog-events"],[Lc()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[wc()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...n.eventOrder}})},oH=n=>rc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:a([ua.config({}),va.config(n.tooltips.getConfig({tooltipText:n.translate("Close")}))]),components:[lh("close",{tag:"span",classes:["tox-icon"]},n.icons)],action:s=>{fs(s,ty)}}),sH=(n,s,i,f)=>{const b=w=>[Ra(f.translate(w.title))];return{dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...i.map(w=>({id:w})).getOr({})}},components:[],behaviours:a([qf.config({channel:`${aR}-${s}`,initialData:n,renderComponents:b})])}},rH=()=>({dom:h0('<div class="tox-dialog__draghandle"></div>')}),bJ=(n,s,i,f)=>d0.sketch({dom:h0('<div class="tox-dialog__header"></div>'),components:[sH(n,s,F.some(i),f),rH(),oH(f)],containerBehaviours:a([zb.config({mode:"mouse",blockerClass:"blocker",getTarget:b=>yi(b,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(b,w)=>{b.getSystem().broadcastOn([pl()],{target:w})}})])}),yJ=(n,s,i)=>{const f=ac.parts.title(sH(n,s,F.none(),i)),b=ac.parts.draghandle(rH()),w=ac.parts.close(oH(i)),S=[f].concat(n.draggable?[b]:[]).concat([w]);return d0.sketch({dom:h0('<div class="tox-dialog__header"></div>'),components:S})},aH=(n,s,i)=>yJ({title:i.shared.providers.translate(n),draggable:i.dialog.isDraggableModal()},s,i.shared.providers),SM=(n,s,i,f)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(n)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${f.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:h0('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),EM=(n,s,i)=>({onClose:()=>i.closeWindow(),onBlock:f=>{const b=ur(n().element,".tox-dialog__header").map(w=>bi(w));ac.setBusy(n(),(w,S)=>SM(f.message,S,s,b))},onUnblock:()=>{ac.setIdle(n())}}),iH="tox-dialog--fullscreen",d2="tox-dialog--width-lg",TM="tox-dialog--width-md",A3=n=>{switch(n){case"large":return F.some(d2);case"medium":return F.some(TM);default:return F.none()}},k3=(n,s)=>{const i=mn.fromDom(s.element.dom);Da(i,iH)||(El(i,[d2,TM]),A3(n).each(f=>nr(i,f)))},lH=(n,s)=>{const i=mn.fromDom(n.element.dom),f=Ou(i),b=Be(f,w=>w===d2||w===TM).or(A3(s));sf(i,[iH,...b.toArray()])},cH=(n,s,i)=>E(CM({...n,firstTabstop:1,lazySink:i.shared.getSink,extraBehaviours:[O4({}),...n.extraBehaviours],onEscape:f=>{fs(f,ty)},dialogEvents:s,eventOrder:{[Fh()]:[qf.name(),fd.name()],[Lc()]:["scroll-lock",qf.name(),"messages","dialog-events","alloy.base.behaviour"],[wc()]:["alloy.base.behaviour","dialog-events","messages",qf.name(),"scroll-lock"]}})),AM=(n,s={})=>{const i=f=>{const b=He(f.items,w=>{const S=Hn(s,w.name).getOr(Mn(!1));return{...w,storage:S}});return{...f,items:b}};return He(n,f=>f.type==="menu"?i(f):f)},uH=n=>Ho(n,(s,i)=>i.type==="menu"?Ho(i.items,(b,w)=>(b[w.name]=w.storage,b),s):s,{}),dH=(n,s)=>[e0(ec(),G7),n(a2,(i,f,b,w)=>{Jc(w.element)&&ri(Ai(w.element)).each(ma),s.onClose(),f.onClose()}),n(ty,(i,f,b,w)=>{f.onCancel(i),fs(w,a2)}),Mt(D4,(i,f)=>s.onUnblock()),Mt(tR,(i,f)=>s.onBlock(f.event))],vJ=(n,s)=>{const i=(b,w)=>Mt(b,(S,_)=>{f(S,(M,H)=>{w(n(),M,_.event,S)})}),f=(b,w)=>{qf.getState(b).get().each(S=>{w(S,b)})};return[...dH(i,s),i(lp,(b,w,S)=>{w.onAction(b,{name:S.name})})]},fH=(n,s,i)=>{const f=(w,S)=>Mt(w,(_,M)=>{b(_,(H,Z)=>{S(n(),H,M.event,_)})}),b=(w,S)=>{qf.getState(w).get().each(_=>{S(_.internalDialog,w)})};return[...dH(f,s),f(VE,(w,S)=>S.onSubmit(w)),f(vf,(w,S,_)=>{S.onChange(w,{name:_.name})}),f(lp,(w,S,_,M)=>{const H=()=>M.getSystem().isConnected()?lo.focusIn(M):void 0,Z=he=>$a(he,"disabled")||ii(he,"aria-disabled").exists(xe=>xe==="true"),K=Ai(M.element),ae=ri(K);S.onAction(w,{name:_.name,value:_.value}),ri(K).fold(H,he=>{Z(he)||ae.exists(xe=>ke(he,xe)&&Z(xe))?H():i().toOptional().filter(xe=>!ke(xe.element,he)).each(H)})}),f(_7,(w,S,_)=>{S.onTabChange(w,{newTabName:_.name,oldTabName:_.oldName})}),hf(w=>{const S=n();In.setValue(w,S.getData())})]},xJ=(n,s)=>GE(n,n.type,s),wJ=(n,s,i)=>Be(s,f=>f.name===i).bind(f=>f.memento.getOpt(n)),CJ=(n,s)=>{const i=s.map(_=>_.footerButtons).getOr([]),f=$o(i,_=>_.align==="start"),b=(_,M)=>d0.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${_}`]},components:He(M,H=>H.memento.asSpec())}),w=b("start",f.pass),S=b("end",f.fail);return[w,S]},mH=(n,s,i)=>{const f=(b,w)=>{const S=He(w.buttons,M=>{const H=gr(xJ(M,i));return{name:M.name,align:M.align,memento:H}}),_=M=>wJ(b,S,M);return F.some({lookupByName:_,footerButtons:S})};return{dom:h0('<div class="tox-dialog__footer"></div>'),components:[],behaviours:a([qf.config({channel:`${Y7}-${s}`,initialData:n,updateState:f,renderComponents:CJ})])}},SJ=(n,s,i)=>mH(n,s,i),hH=(n,s,i)=>ac.parts.footer(mH(n,s,i)),D3=(n,s)=>{if(n.getRoot().getSystem().isConnected()){const f=$t.getCurrent(n.getFormWrapper()).getOr(n.getFormWrapper());return av.getField(f,s).orThunk(()=>n.getFooter().bind(S=>qf.getState(S).get()).bind(S=>S.lookupByName(s)))}else return F.none()},EJ=(n,s)=>{const i=n.getRoot();return qf.getState(i).get().map(f=>Qu(ga("data",f.dataValidator,s))).getOr(s)},gH=(n,s,i)=>{const f=xe=>{const Oe=n.getRoot();Oe.getSystem().isConnected()&&xe(Oe)},he={getData:()=>{const xe=n.getRoot(),Oe=xe.getSystem().isConnected()?n.getFormWrapper():xe,ze=In.getValue(Oe),Te=os(i,Ye=>Ye.get());return{...ze,...Te}},setData:xe=>{f(Oe=>{const ze=he.getData(),Te=qt(ze,xe),Ye=EJ(n,Te),st=n.getFormWrapper();In.setValue(st,Ye),zo(i,(wt,Ot)=>{ts(Te,Ot)&&wt.set(Te[Ot])})})},setEnabled:(xe,Oe)=>{D3(n,xe).each(Oe?eo.enable:eo.disable)},focus:xe=>{D3(n,xe).each(et.focus)},block:xe=>{if(!z(xe))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");f(Oe=>{so(Oe,tR,{message:xe})})},unblock:()=>{f(xe=>{fs(xe,D4)})},showTab:xe=>{f(Oe=>{const ze=n.getBody();qf.getState(ze).get().exists(Ye=>Ye.isTabPanel())&&$t.getCurrent(ze).each(Ye=>{zx.showTab(Ye,xe)})})},redial:xe=>{f(Oe=>{const ze=n.getId(),Te=s(xe),Ye=AM(Te.internalDialog.buttons,i);Oe.getSystem().broadcastOn([`${L4}-${ze}`],Te),Oe.getSystem().broadcastOn([`${aR}-${ze}`],Te.internalDialog),Oe.getSystem().broadcastOn([`${K7}-${ze}`],Te.internalDialog),Oe.getSystem().broadcastOn([`${Y7}-${ze}`],{...Te.internalDialog,buttons:Ye}),he.setData(Te.initialData)})},close:()=>{f(xe=>{fs(xe,a2)})},toggleFullscreen:n.toggleFullscreen};return he},TJ=(n,s,i)=>{const f=me("dialog"),b=n.internalDialog,w=aH(b.title,f,i),S=Mn(b.size),_=st=>D3(Te,st),M=A3(S.get()).toArray(),H=(st,wt)=>(S.set(wt.internalDialog.size),k3(wt.internalDialog.size,st),F.some(wt)),Z=gJ({body:b.body,initialData:b.initialData},f,i,_),K=AM(b.buttons),ae=uH(K),he=Sa(K.length!==0,hH({buttons:K},f,i)),xe=fH(()=>Ye,EM(()=>ze,i.shared.providers,s),i.shared.getSink),Oe={id:f,header:w,body:Z,footer:he,extraClasses:M,extraBehaviours:[qf.config({channel:`${L4}-${f}`,updateState:H,initialData:n})],extraStyles:{}},ze=cH(Oe,xe,i),Te=(()=>{const st=()=>{const Ot=ac.getBody(ze);return $t.getCurrent(Ot).getOr(Ot)},wt=()=>{lH(ze,S.get())};return{getId:ie(f),getRoot:ie(ze),getBody:()=>ac.getBody(ze),getFooter:()=>ac.getFooter(ze),getFormWrapper:st,toggleFullscreen:wt}})(),Ye=gH(Te,s.redial,ae);return{dialog:ze,instanceApi:Ye}},hT=(n,s,i,f=!1,b)=>{const w=me("dialog"),S=me("dialog-label"),_=me("dialog-content"),M=n.internalDialog,H=on=>D3(Jt,on),Z=Mn(M.size),K=A3(Z.get()).toArray(),ae=(on,mo)=>(Z.set(mo.internalDialog.size),k3(mo.internalDialog.size,on),b(),F.some(mo)),he=gr(bJ({title:M.title,draggable:!0},w,S,i.shared.providers)),xe=gr(hJ({body:M.body,initialData:M.initialData},w,_,i,f,H)),Oe=AM(M.buttons),ze=uH(Oe),Te=Sa(Oe.length!==0,gr(SJ({buttons:Oe},w,i))),Ye=fH(()=>rn,{onBlock:on=>{tn.block(Ot,(mo,to)=>{const ys=he.getOpt(Ot).map(ho=>bi(ho.element));return SM(on.message,to,i.shared.providers,ys)})},onUnblock:()=>{tn.unblock(Ot)},onClose:()=>s.closeWindow()},i.shared.getSink),st="tox-dialog-inline",wt=Ua().os,Ot=E({dom:{tag:"div",classes:["tox-dialog",st,...K],attributes:{role:"dialog",...wt.isMacOS()?{"aria-label":M.title}:{"aria-labelledby":S}}},eventOrder:{[Fh()]:[qf.name(),fd.name()],[Ls()]:["execute-on-form"],[Lc()]:["reflecting","execute-on-form"]},behaviours:a([lo.config({mode:"cyclic",onEscape:on=>(fs(on,a2),F.some(!0)),useTabstopAt:on=>!UE(on)&&(yd(on)!=="button"||ea(on,"disabled")!=="disabled"),firstTabstop:1}),qf.config({channel:`${L4}-${w}`,updateState:ae,initialData:n}),et.config({}),fe("execute-on-form",Ye.concat([t0(ec(),(on,mo)=>{lo.focusIn(on)}),Mt($h(),(on,mo)=>{on.getSystem().broadcastOn([xv],{newFocus:mo.event.newFocus})})])),tn.config({getRoot:()=>F.some(Ot)}),jo.config({}),O4({})]),components:[he.asSpec(),xe.asSpec(),...Te.map(on=>on.asSpec()).toArray()]}),kn=()=>{lH(Ot,Z.get())},Jt={getId:ie(w),getRoot:ie(Ot),getFooter:()=>Te.map(on=>on.get(Ot)),getBody:()=>xe.get(Ot),getFormWrapper:()=>{const on=xe.get(Ot);return $t.getCurrent(on).getOr(on)},toggleFullscreen:kn},rn=gH(Jt,s.redial,ze);return{dialog:Ot,instanceApi:rn}};var kM=tinymce.util.Tools.resolve("tinymce.util.URI");const AJ=n=>{const s=S=>{n.getSystem().isConnected()&&S(n)};return{block:S=>{if(!z(S))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(_=>{so(_,tR,{message:S})})},unblock:()=>{s(S=>{fs(S,D4)})},close:()=>{s(S=>{fs(S,a2)})},sendMessage:S=>{s(_=>{_.getSystem().broadcastOn([Ro],S)})}}},kJ=["insertContent","setContent","execCommand","close","block","unblock"],pH=n=>U(n)&&kJ.indexOf(n.mceAction)!==-1,DJ=n=>!pH(n)&&U(n)&&ts(n,"mceAction"),_J=(n,s,i)=>{switch(i.mceAction){case"insertContent":n.insertContent(i.content);break;case"setContent":n.setContent(i.content);break;case"execCommand":const f=ue(i.ui)?i.ui:!1;n.execCommand(i.cmd,f,i.value);break;case"close":s.close();break;case"block":s.block(i.message);break;case"unblock":s.unblock();break}},bH=(n,s,i,f)=>{const b=me("dialog"),w=aH(n.title,b,f),S=X9(n),_=n.buttons.bind(st=>st.length===0?F.none():F.some(hH({buttons:st},b,f))),M=vJ(()=>Ye,EM(()=>Te,f.shared.providers,s)),H={...n.height.fold(()=>({}),st=>({height:st+"px","max-height":st+"px"})),...n.width.fold(()=>({}),st=>({width:st+"px","max-width":st+"px"}))},Z=n.width.isNone()&&n.height.isNone()?["tox-dialog--width-lg"]:[],K=new kM(n.url,{base_uri:new kM(window.location.href)}),ae=`${K.protocol}://${K.host}${K.port?":"+K.port:""}`,he=Ir(),xe=(st,wt)=>F.some(wt),Oe=[qf.config({channel:`${L4}-${b}`,updateState:xe,initialData:n}),fe("messages",[Lr(()=>{const st=$s(mn.fromDom(window),"message",wt=>{if(K.isSameOrigin(new kM(wt.raw.origin))){const Ot=wt.raw.data;pH(Ot)?_J(i,Ye,Ot):DJ(Ot)&&n.onMessage(Ye,Ot)}});he.set(st)}),hf(he.clear)]),fd.config({channels:{[Ro]:{onReceive:(st,wt)=>{ur(st.element,"iframe").each(Ot=>{const kn=Ot.dom.contentWindow;$e(kn)&&kn.postMessage(wt,ae)})}}}})],Te=cH({id:b,header:w,body:S,footer:_,extraClasses:Z,extraBehaviours:Oe,extraStyles:H},M,f),Ye=AJ(Te);return{dialog:Te,instanceApi:Ye}},OJ=n=>{const s=n.shared;return{open:(f,b)=>{const w=()=>{ac.hide(H),b()},S=gr(GE({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:F.some("primary"),align:"end",enabled:!0,icon:F.none()},"cancel",n)),_=eH(),M=J9(w,s.providers),H=E(CM({lazySink:()=>s.getSink(),header:Q9(_,M),body:tH(f,s.providers),footer:F.some(T3(nH([],[S.asSpec()]))),onEscape:w,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Mt(ty,w)],eventOrder:{}}));ac.show(H);const Z=S.get(H);et.focus(Z)}}},NJ=n=>{const s=n.shared;return{open:(f,b)=>{const w=ae=>{ac.hide(Z),b(ae)},S=gr(GE({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:F.some("primary"),align:"end",enabled:!0,icon:F.none()},"submit",n)),_=GE({context:"any",name:"no",text:"No",primary:!1,buttonType:F.some("secondary"),align:"end",enabled:!0,icon:F.none()},"cancel",n),M=eH(),H=J9(()=>w(!1),s.providers),Z=E(CM({lazySink:()=>s.getSink(),header:Q9(M,H),body:tH(f,s.providers),footer:F.some(T3(nH([],[_,S.asSpec()]))),onEscape:()=>w(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Mt(ty,()=>w(!1)),Mt(VE,()=>w(!0))],eventOrder:{}}));ac.show(Z);const K=S.get(Z);et.focus(K)}}},yH=(n,s)=>Qu(ga("data",s,n)),vH=n=>Pm(n,".tox-alert-dialog")||Pm(n,".tox-confirm-dialog"),RJ=(n,s,i,f)=>s&&i?[]:[Ja.config({contextual:{lazyContext:()=>F.some(_i(mn.fromDom(n.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition",onHide:f},modes:["top"],lazyViewport:b=>Wb(n,b.element).map(S=>({bounds:Vx(S),optScrollEnv:F.some({currentScrollTop:S.element.dom.scrollTop,scrollElmTop:Bl(S.element).top})})).getOrThunk(()=>({bounds:bc(),optScrollEnv:F.none()}))})],DM=n=>{const s=n.editor,i=Vw(s),f=OJ(n.backstages.dialog),b=NJ(n.backstages.dialog),w=(xe,Oe,ze)=>{if(!Ce(Oe)){if(Oe.inline==="toolbar")return H(xe,n.backstages.popup.shared.anchors.inlineDialog(),ze,Oe);if(Oe.inline==="bottom")return Z(xe,n.backstages.popup.shared.anchors.inlineBottomDialog(),ze,Oe);if(Oe.inline==="cursor")return H(xe,n.backstages.popup.shared.anchors.cursor(),ze,Oe)}return M(xe,ze)},S=(xe,Oe)=>_(xe,Oe),_=(xe,Oe)=>{const ze=Te=>{const Ye=bH(Te,{closeWindow:()=>{ac.hide(Ye.dialog),Oe(Ye.instanceApi)}},s,n.backstages.dialog);return ac.show(Ye.dialog),Ye.instanceApi};return e2.openUrl(ze,xe)},M=(xe,Oe)=>{const ze=(Te,Ye,st)=>{const wt=Ye,kn=TJ({dataValidator:st,initialData:wt,internalDialog:Te},{redial:e2.redial,closeWindow:()=>{ac.hide(kn.dialog),Oe(kn.instanceApi)}},n.backstages.dialog);return ac.show(kn.dialog),kn.instanceApi.setData(wt),kn.instanceApi};return e2.open(ze,xe)},H=(xe,Oe,ze,Te)=>{const Ye=(st,wt,Ot)=>{const kn=yH(wt,Ot),Jt=Co(),rn=n.backstages.popup.shared.header.isPositionedAtTop(),on={dataValidator:Ot,initialData:kn,internalDialog:st},mo=()=>Jt.on(Yt=>{mi.reposition(Yt),(!i||!rn)&&Ja.refresh(Yt)}),to=hT(on,{redial:e2.redial,closeWindow:()=>{Jt.on(mi.hide),s.off("ResizeEditor",mo),s.off("ScrollWindow",ys),Jt.clear(),ze(to.instanceApi)}},n.backstages.popup,Te.ariaAttrs,mo),ys=()=>to.dialog.getSystem().broadcastOn([pl()],{target:to.dialog.element}),ho=()=>to.dialog.getSystem().broadcastOn([Jm()],{target:to.dialog.element}),Vo=E(mi.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Te.persistent?{event:"doNotDismissYet"}:{},...rn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:a([fe("window-manager-inline-events",[Mt(mm(),(Yt,vn)=>{fs(to.dialog,ty)})]),...RJ(s,i,rn,ho)]),isExtraPart:(Yt,vn)=>vH(vn)}));Jt.set(Vo);const no=()=>{const Yt=s.inline?Ml():mn.fromDom(s.getContainer()),vn=_i(Yt);return F.some(vn)};return mi.showWithinBounds(Vo,D(to.dialog),{anchor:Oe},no),(!i||!rn)&&(Ja.refresh(Vo),s.on("ResizeEditor",mo)),s.on("ScrollWindow",ys),to.instanceApi.setData(kn),lo.focusIn(to.dialog),to.instanceApi};return e2.open(Ye,xe)},Z=(xe,Oe,ze,Te)=>{const Ye=(st,wt,Ot)=>{const kn=yH(wt,Ot),Jt=Co(),rn=n.backstages.popup.shared.header.isPositionedAtTop(),on={dataValidator:Ot,initialData:kn,internalDialog:st},mo=()=>Jt.on(Vo=>{mi.reposition(Vo),Ja.refresh(Vo)}),to=hT(on,{redial:e2.redial,closeWindow:()=>{Jt.on(mi.hide),s.off("ResizeEditor ScrollWindow ElementScroll",mo),Jt.clear(),ze(to.instanceApi)}},n.backstages.popup,Te.ariaAttrs,mo),ys=E(mi.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Te.persistent?{event:"doNotDismissYet"}:{},...rn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:a([fe("window-manager-inline-events",[Mt(mm(),(Vo,no)=>{fs(to.dialog,ty)})]),Ja.config({contextual:{lazyContext:()=>F.some(_i(mn.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:Vo=>Wb(s,Vo.element).map(Yt=>({bounds:Vx(Yt),optScrollEnv:F.some({currentScrollTop:Yt.element.dom.scrollTop,scrollElmTop:Bl(Yt.element).top})})).getOrThunk(()=>({bounds:bc(),optScrollEnv:F.none()}))})]),isExtraPart:(Vo,no)=>vH(no)}));Jt.set(ys);const ho=()=>n.backstages.popup.shared.getSink().toOptional().bind(Vo=>{const no=Wb(s,Vo.element),Yt=15,vn=no.map(ao=>Vx(ao)).getOr(bc()),To=_i(mn.fromDom(s.getContentAreaContainer())),Ko=Im(To,vn);return F.some(Pi(Ko.x,Ko.y,Ko.width,Ko.height-Yt))});return mi.showWithinBounds(ys,D(to.dialog),{anchor:Oe},ho),Ja.refresh(ys),s.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",mo),to.instanceApi.setData(kn),lo.focusIn(to.dialog),to.instanceApi};return e2.open(Ye,xe)};return{open:w,openUrl:S,alert:(xe,Oe)=>{f.open(xe,Oe)},close:xe=>{xe.close()},confirm:(xe,Oe)=>{b.open(xe,Oe)}}},xH=n=>{WL(n),n7(n),HQ(n)};var MJ=()=>{ZL.add("silver",n=>{xH(n);let s=()=>bc();const{dialogs:i,popups:f,renderUI:b}=lJ(n,{getPopupSinkBounds:()=>s()}),w=()=>{const Z=b();return Wb(n,f.getMothership().element).each(ae=>{s=()=>Vx(ae)}),Z};YG.register(n,f.backstage.shared);const S=DM({editor:n,backstages:{popup:f.backstage,dialog:i.backstage}}),_=Co(),M=()=>oW(n,{backstage:f.backstage},f.getMothership(),_),H=()=>ur(mn.fromDom(n.getContainer()),".tox-promotion").map(Z=>Z.dom).getOrNull();return{renderUI:w,getWindowManagerImpl:ie(S),getNotificationManagerImpl:M,getPromotionElement:H}})};MJ()})()),Fre}var Ire;function exe(){return Ire||(Ire=1,Jve()),Pre}exe();var Hre={},zre={},jre;function txe(){return jre||(jre=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.ModelManager");const d=(m,y,E)=>E(m,y.prototype)?!0:m.constructor?.name===y.name,p=m=>{const y=typeof m;return m===null?"null":y==="object"&&Array.isArray(m)?"array":y==="object"&&d(m,String,(E,D)=>D.isPrototypeOf(E))?"string":y},x=m=>y=>p(y)===m,A=m=>y=>typeof y===m,N=m=>y=>m===y,O=x("string"),z=x("object"),U=x("array"),V=N(null),Y=A("boolean"),ee=N(void 0),ue=m=>m==null,Ce=m=>!ue(m),be=A("function"),$e=A("number"),pe=()=>{},it=(m,y)=>(...E)=>m(y.apply(null,E)),Se=(m,y)=>E=>m(y(E)),J=m=>()=>m,vt=m=>m,Gt=(m,y)=>m===y;function Xe(m,...y){return(...E)=>{const D=y.concat(E);return m.apply(null,D)}}const ie=m=>y=>!m(y),ct=m=>()=>{throw new Error(m)},xn=m=>m(),fn=J(!1),qe=J(!0);class Re{tag;value;static singletonNone=new Re(!1);constructor(y,E){this.tag=y,this.value=E}static some(y){return new Re(!0,y)}static none(){return Re.singletonNone}fold(y,E){return this.tag?E(this.value):y()}isSome(){return this.tag}isNone(){return!this.tag}map(y){return this.tag?Re.some(y(this.value)):Re.none()}bind(y){return this.tag?y(this.value):Re.none()}exists(y){return this.tag&&y(this.value)}forall(y){return!this.tag||y(this.value)}filter(y){return!this.tag||y(this.value)?this:Re.none()}getOr(y){return this.tag?this.value:y}or(y){return this.tag?this:y}getOrThunk(y){return this.tag?this.value:y()}orThunk(y){return this.tag?this:y()}getOrDie(y){if(this.tag)return this.value;throw new Error(y??"Called getOrDie on None")}static from(y){return Ce(y)?Re.some(y):Re.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(y){this.tag&&y(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Qo=Array.prototype.slice,yt=Array.prototype.indexOf,Lt=Array.prototype.push,F=(m,y)=>yt.call(m,y),jt=(m,y)=>F(m,y)>-1,at=(m,y)=>{for(let E=0,D=m.length;E<D;E++){const I=m[E];if(y(I,E))return!0}return!1},Jn=(m,y)=>{const E=[];for(let D=0;D<m;D++)E.push(y(D));return E},an=(m,y)=>{const E=m.length,D=new Array(E);for(let I=0;I<E;I++){const q=m[I];D[I]=y(q,I)}return D},le=(m,y)=>{for(let E=0,D=m.length;E<D;E++){const I=m[E];y(I,E)}},Ve=(m,y)=>{for(let E=m.length-1;E>=0;E--){const D=m[E];y(D,E)}},It=(m,y)=>{const E=[],D=[];for(let I=0,q=m.length;I<q;I++){const ne=m[I];(y(ne,I)?E:D).push(ne)}return{pass:E,fail:D}},Ne=(m,y)=>{const E=[];for(let D=0,I=m.length;D<I;D++){const q=m[D];y(q,D)&&E.push(q)}return E},ft=(m,y,E)=>(Ve(m,(D,I)=>{E=y(E,D,I)}),E),He=(m,y,E)=>(le(m,(D,I)=>{E=y(E,D,I)}),E),dt=(m,y,E)=>{for(let D=0,I=m.length;D<I;D++){const q=m[D];if(y(q,D))return Re.some(q);if(E(q,D))break}return Re.none()},X=(m,y)=>dt(m,y,fn),$o=(m,y)=>{for(let E=0,D=m.length;E<D;E++){const I=m[E];if(y(I,E))return Re.some(E)}return Re.none()},xo=m=>{const y=[];for(let E=0,D=m.length;E<D;++E){if(!U(m[E]))throw new Error("Arr.flatten item "+E+" was not an array, input: "+m);Lt.apply(y,m[E])}return y},Mo=(m,y)=>xo(an(m,y)),Ho=(m,y)=>{for(let E=0,D=m.length;E<D;++E){const I=m[E];if(y(I,E)!==!0)return!1}return!0},js=m=>{const y=Qo.call(m,0);return y.reverse(),y},Be=(m,y)=>{const E={};for(let D=0,I=m.length;D<I;D++){const q=m[D];E[String(q)]=y(q,D)}return E},Ke=(m,y)=>{const E=Qo.call(m,0);return E.sort(y),E},tt=(m,y)=>y>=0&&y<m.length?Re.some(m[y]):Re.none(),Le=m=>tt(m,0),Je=m=>tt(m,m.length-1),Nt=(m,y)=>{for(let E=0;E<m.length;E++){const D=y(m[E],E);if(D.isSome())return D}return Re.none()},xt=Object.keys,Un=Object.hasOwnProperty,Dt=(m,y)=>{const E=xt(m);for(let D=0,I=E.length;D<I;D++){const q=E[D],ne=m[q];y(ne,q)}},Pe=(m,y)=>Tt(m,(E,D)=>({k:D,v:y(E,D)})),Tt=(m,y)=>{const E={};return Dt(m,(D,I)=>{const q=y(D,I);E[q.k]=q.v}),E},sn=m=>(y,E)=>{m[E]=y},Zn=(m,y,E,D)=>{Dt(m,(I,q)=>{(y(I,q)?E:D)(I,q)})},Yo=(m,y)=>{const E={};return Zn(m,y,sn(E),pe),E},Jo=(m,y)=>{const E=[];return Dt(m,(D,I)=>{E.push(y(D,I))}),E},Do=m=>Jo(m,vt),mr=(m,y)=>zo(m,y)?Re.from(m[y]):Re.none(),zo=(m,y)=>Un.call(m,y),os=(m,y)=>zo(m,y)&&m[y]!==void 0&&m[y]!==null,Vs=m=>{for(const y in m)if(Un.call(m,y))return!1;return!0},Xs={generate:m=>{if(!U(m))throw new Error("cases must be an array");if(m.length===0)throw new Error("there must be at least one case");const y=[],E={};return le(m,(D,I)=>{const q=xt(D);if(q.length!==1)throw new Error("one and only one name per case");const ne=q[0],de=D[ne];if(E[ne]!==void 0)throw new Error("duplicate key detected:"+ne);if(ne==="cata")throw new Error("cannot have a case named cata (sorry)");if(!U(de))throw new Error("case arguments must be an array");y.push(ne),E[ne]=(...Ee)=>{const We=Ee.length;if(We!==de.length)throw new Error("Wrong number of arguments to case "+ne+". Expected "+de.length+" ("+de+"), got "+We);return{fold:(...tn)=>{if(tn.length!==m.length)throw new Error("Wrong number of arguments to fold. Expected "+m.length+", got "+tn.length);return tn[I].apply(null,Ee)},match:tn=>{const Fn=xt(tn);if(y.length!==Fn.length)throw new Error("Wrong number of arguments to match. Expected: "+y.join(",")+`
Actual: `+Fn.join(","));if(!Ho(y,ro=>jt(Fn,ro)))throw new Error("Not all branches were specified when using match. Specified: "+Fn.join(", ")+`
Required: `+y.join(", "));return tn[ne].apply(null,Ee)},log:tn=>{console.log(tn,{constructors:y,constructor:ne,params:Ee})}}}}),E}},gs=m=>{let y=m;return{get:()=>y,set:I=>{y=I}}},Wr=m=>m.slice(0).sort(),Es=(m,y)=>{throw new Error("All required keys ("+Wr(m).join(", ")+") were not specified. Specified keys were: "+Wr(y).join(", ")+".")},$r=m=>{throw new Error("Unsupported keys for object: "+Wr(m).join(", "))},Ma=(m,y)=>{if(!U(y))throw new Error("The "+m+" fields must be an array. Was: "+y+".");le(y,E=>{if(!O(E))throw new Error("The value "+E+" in the "+m+" fields was not a string.")})},Hn=(m,y)=>{throw new Error("All values need to be of type: "+y+". Keys ("+Wr(m).join(", ")+") were not.")},ts=m=>{const y=Wr(m);X(y,(D,I)=>I<y.length-1&&D===y[I+1]).each(D=>{throw new Error("The field: "+D+" occurs more than once in the combined fields: ["+y.join(", ")+"].")})},Oo=(m,y)=>ci(m,y,{validate:be,label:"function"}),ci=(m,y,E)=>{if(y.length===0)throw new Error("You must specify at least one required field.");return Ma("required",y),ts(y),D=>{const I=xt(D);Ho(y,de=>jt(I,de))||Es(y,I),m(y,I);const ne=Ne(y,de=>!E.validate(D[de],de));return ne.length>0&&Hn(ne,E.label),D}},Ba=(m,y)=>{const E=Ne(y,D=>!jt(m,D));E.length>0&&$r(E)},Mn=m=>Oo(Ba,m),Zt=m=>{const y=q=>q(m),E=J(m),D=()=>I,I={tag:!0,inner:m,fold:(q,ne)=>ne(m),isValue:qe,isError:fn,map:q=>Gn.value(q(m)),mapError:D,bind:y,exists:y,forall:y,getOr:E,or:D,getOrThunk:E,orThunk:D,getOrDie:E,each:q=>{q(m)},toOptional:()=>Re.some(m)};return I},Kt=m=>{const y=()=>E,E={tag:!1,inner:m,fold:(D,I)=>D(m),isValue:fn,isError:qe,map:y,mapError:D=>Gn.error(D(m)),bind:y,exists:fn,forall:qe,getOr:vt,or:vt,getOrThunk:xn,orThunk:xn,getOrDie:ct(String(m)),each:pe,toOptional:Re.none};return E},Gn={value:Zt,error:Kt,fromOption:(m,y)=>m.fold(()=>Kt(y),Zt)},vo=typeof window<"u"?window:Function("return this;")(),No=m=>{const y=m.replace(/\./g,"-");return{resolve:D=>y+"-"+D}},Qn=(m,y,E=Gt)=>m.exists(D=>E(D,y)),ls=m=>{const y=[],E=D=>{y.push(D)};for(let D=0;D<m.length;D++)m[D].each(E);return y},La=(m,y)=>m!=null?y(m):Re.none(),sl=(m,y)=>m?Re.some(y):Re.none(),gi=(m,y)=>{let E=y??vo;for(let D=0;D<m.length&&E!==void 0&&E!==null;++D)E=E[m[D]];return E},Pn=(m,y)=>{const E=m.split(".");return gi(E,y)},er=m=>{const y=gs(Re.none()),E=()=>y.get().each(m);return{clear:()=>{E(),y.set(Re.none())},isSet:()=>y.get().isSome(),get:()=>y.get(),set:de=>{E(),y.set(Re.some(de))}}},tr=()=>{const m=er(pe);return{...m,on:E=>m.get().each(E)}},jl=(m,y)=>m.substring(y),Ie=(m,y,E)=>y===""||m.length>=y.length&&m.substr(E,E+y.length)===y,Ue=(m,y)=>gn(m,y)?jl(m,y.length):m,nt=(m,y,E=0,D)=>{const I=m.indexOf(y,E);return I!==-1?ee(D)?!0:I+y.length<=D:!1},gn=(m,y)=>Ie(m,y,0),Ao=(m,y)=>Ie(m,y,m.length-y.length),Zo=(m=>y=>y.replace(m,""))(/^\s+|\s+$/g),us=m=>m.length>0,ko=m=>{const y=parseFloat(m);return isNaN(y)?Re.none():Re.some(y)},Qs=(m,y)=>{let E=null;const D=()=>{V(E)||(clearTimeout(E),E=null)};return{cancel:D,throttle:(...q)=>{D(),E=setTimeout(()=>{E=null,m.apply(null,q)},y)}}},me=m=>{let y=!1,E;return(...D)=>(y||(y=!0,E=m.apply(null,D)),E)},je="",Vt=["tfoot","thead","tbody","colgroup"],wn=m=>jt(Vt,m),qt=(m,y)=>({rows:m,columns:y}),wo=(m,y)=>({row:m,column:y}),oo=(m,y,E)=>({element:m,rowspan:y,colspan:E}),Bn=(m,y,E,D)=>({element:m,rowspan:y,colspan:E,isNew:D}),Uo=(m,y,E,D,I,q)=>({element:m,rowspan:y,colspan:E,row:D,column:I,isLocked:q}),vs=(m,y,E)=>({element:m,cells:y,section:E}),Ts=(m,y,E,D)=>({element:m,cells:y,section:E,isNew:D}),As=(m,y,E)=>({element:m,isNew:y,isLocked:E}),sa=(m,y,E,D)=>({element:m,cells:y,section:E,isNew:D}),Sa=(m,y,E,D)=>({startRow:m,startCol:y,finishRow:E,finishCol:D}),Qf=(m,y,E)=>({element:m,colspan:y,column:E}),Tr=(m,y)=>({element:m,columns:y}),Fs=(m,y,E)=>{const D=m.cells,I=D.slice(0,y),q=D.slice(y),ne=I.concat(E).concat(q);return Ci(m,ne)},ir=(m,y,E)=>Fs(m,y,[E]),Vi=(m,y,E)=>{const D=m.cells;D[y]=E},Ci=(m,y)=>sa(m.element,y,m.section,m.isNew),Ir=(m,y)=>{const E=m.cells,D=an(E,y);return sa(m.element,D,m.section,m.isNew)},Co=(m,y)=>m.cells[y],Si=(m,y)=>Co(m,y).element,ni=m=>m.cells.length,Jr=m=>{const y=It(m,E=>E.section==="colgroup");return{rows:y.fail,cols:y.pass}},Sf=(m,y,E)=>{const D=an(m.cells,E);return sa(y(m.element),D,m.section,!0)},uc=(m,y)=>{const D=(y||document).createElement("div");if(D.innerHTML=m,!D.hasChildNodes()||D.childNodes.length>1){const I="HTML does not have a single root node";throw console.error(I,m),new Error(I)}return dc(D.childNodes[0])},Hr=(m,y)=>{const D=(y||document).createElement(m);return dc(D)},wu=(m,y)=>{const D=(y||document).createTextNode(m);return dc(D)},dc=m=>{if(m==null)throw new Error("Node cannot be null or undefined");return{dom:m}},An={fromHtml:uc,fromTag:Hr,fromText:wu,fromDom:dc,fromPoint:(m,y,E)=>Re.from(m.dom.elementFromPoint(y,E)).map(dc)},Cu=(m,y)=>{const E=m.document.createRange();return E.selectNode(y.dom),E},Ri=(m,y)=>{const E=m.document.createRange();return pi(E,y),E},pi=(m,y)=>m.selectNodeContents(y.dom),qr=(m,y)=>{y.fold(E=>{m.setStartBefore(E.dom)},(E,D)=>{m.setStart(E.dom,D)},E=>{m.setStartAfter(E.dom)})},Kd=(m,y)=>{y.fold(E=>{m.setEndBefore(E.dom)},(E,D)=>{m.setEnd(E.dom,D)},E=>{m.setEndAfter(E.dom)})},Ei=(m,y,E)=>{const D=m.document.createRange();return qr(D,y),Kd(D,E),D},rl=(m,y,E,D,I)=>{const q=m.document.createRange();return q.setStart(y.dom,E),q.setEnd(D.dom,I),q},Tf=m=>({left:m.left,top:m.top,right:m.right,bottom:m.bottom,width:m.width,height:m.height}),Jf=m=>{const y=m.getClientRects(),E=y.length>0?y[0]:m.getBoundingClientRect();return E.width>0||E.height>0?Re.some(E).map(Tf):Re.none()},Su=Xs.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Yd=(m,y,E)=>y(An.fromDom(E.startContainer),E.startOffset,An.fromDom(E.endContainer),E.endOffset),Dl=(m,y)=>y.match({domRange:E=>({ltr:J(E),rtl:Re.none}),relative:(E,D)=>({ltr:me(()=>Ei(m,E,D)),rtl:me(()=>Re.some(Ei(m,D,E)))}),exact:(E,D,I,q)=>({ltr:me(()=>rl(m,E,D,I,q)),rtl:me(()=>Re.some(rl(m,I,q,E,D)))})}),Wc=(m,y)=>{const E=y.ltr();return E.collapsed?y.rtl().filter(I=>I.collapsed===!1).map(I=>Su.rtl(An.fromDom(I.endContainer),I.endOffset,An.fromDom(I.startContainer),I.startOffset)).getOrThunk(()=>Yd(m,Su.ltr,E)):Yd(m,Su.ltr,E)},qc=(m,y)=>{const E=Dl(m,y);return Wc(m,E)},mn=(m,y)=>qc(m,y).match({ltr:(D,I,q,ne)=>{const de=m.document.createRange();return de.setStart(D.dom,I),de.setEnd(q.dom,ne),de},rtl:(D,I,q,ne)=>{const de=m.document.createRange();return de.setStart(q.dom,ne),de.setEnd(D.dom,I),de}});Su.ltr,Su.rtl;const Eu=8,bd=9,Vl=11,al=1,Vu=3,Ui=(m,y)=>{const E=m.dom;if(E.nodeType!==al)return!1;{const D=E;if(D.matches!==void 0)return D.matches(y);if(D.msMatchesSelector!==void 0)return D.msMatchesSelector(y);if(D.webkitMatchesSelector!==void 0)return D.webkitMatchesSelector(y);if(D.mozMatchesSelector!==void 0)return D.mozMatchesSelector(y);throw new Error("Browser lacks native selectors")}},oi=m=>m.nodeType!==al&&m.nodeType!==bd&&m.nodeType!==Vl||m.childElementCount===0,_l=(m,y)=>{const E=y===void 0?document:y.dom;return oi(E)?[]:an(E.querySelectorAll(m),An.fromDom)},fc=(m,y)=>{const E=y===void 0?document:y.dom;return oi(E)?Re.none():Re.from(E.querySelector(m)).map(An.fromDom)},qs=(m,y)=>m.dom===y.dom,Af=(m,y)=>{const E=m.dom,D=y.dom;return E===D?!1:E.contains(D)},te=Ui,ve=(m,y,E,D)=>{const I=m.isiOS()&&/ipad/i.test(E)===!0,q=m.isiOS()&&!I,ne=m.isiOS()||m.isAndroid(),de=ne||D("(pointer:coarse)"),Ee=I||!q&&ne&&D("(min-device-width:768px)"),We=q||ne&&!Ee,gt=y.isSafari()&&m.isiOS()&&/safari/i.test(E)===!1,tn=!We&&!Ee&&!gt;return{isiPad:J(I),isiPhone:J(q),isTablet:J(Ee),isPhone:J(We),isTouch:J(de),isAndroid:m.isAndroid,isiOS:m.isiOS,isWebView:J(gt),isDesktop:J(tn)}},Fe=(m,y)=>{for(let E=0;E<m.length;E++){const D=m[E];if(D.test(y))return D}},Rt=(m,y)=>{const E=Fe(m,y);if(!E)return{major:0,minor:0};const D=I=>Number(y.replace(E,"$"+I));return lr(D(1),D(2))},qn=(m,y)=>{const E=String(y).toLowerCase();return m.length===0?ps():Rt(m,E)},ps=()=>lr(0,0),lr=(m,y)=>({major:m,minor:y}),Va={nu:lr,detect:qn,unknown:ps},Ti=(m,y)=>Nt(y.brands,E=>{const D=E.brand.toLowerCase();return X(m,I=>D===I.brand?.toLowerCase()).map(I=>({current:I.name,version:Va.nu(parseInt(E.version,10),0)}))}),Ol=(m,y)=>{const E=String(y).toLowerCase();return X(m,D=>D.search(E))},oe=(m,y)=>Ol(m,y).map(E=>{const D=Va.detect(E.versionRegexes,y);return{current:E.name,version:D}}),ke=(m,y)=>Ol(m,y).map(E=>{const D=Va.detect(E.versionRegexes,y);return{current:E.name,version:D}}),Qe=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Et=m=>y=>nt(y,m),pn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:m=>nt(m,"edge/")&&nt(m,"chrome")&&nt(m,"safari")&&nt(m,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Qe],search:m=>nt(m,"chrome")&&!nt(m,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:m=>nt(m,"msie")||nt(m,"trident")},{name:"Opera",versionRegexes:[Qe,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Et("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Et("firefox")},{name:"Safari",versionRegexes:[Qe,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:m=>(nt(m,"safari")||nt(m,"mobile/"))&&nt(m,"applewebkit")}],Wn=[{name:"Windows",search:Et("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:m=>nt(m,"iphone")||nt(m,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Et("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Et("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Et("linux"),versionRegexes:[]},{name:"Solaris",search:Et("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Et("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Et("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Po={browsers:J(pn),oses:J(Wn)},Gs="Edge",Os="Chromium",Mi="IE",Ea="Opera",Xd="Firefox",Om="Safari",kf=()=>Gc({current:void 0,version:Va.unknown()}),Gc=m=>{const y=m.current,E=m.version,D=I=>()=>y===I;return{current:y,version:E,isEdge:D(Gs),isChromium:D(Os),isIE:D(Mi),isOpera:D(Ea),isFirefox:D(Xd),isSafari:D(Om)}},R0={unknown:kf,nu:Gc},M0="Windows",ye="iOS",Me="Android",mt="Linux",Xt="macOS",po="Solaris",bs="FreeBSD",Ta="ChromeOS",il=()=>Zi({current:void 0,version:Va.unknown()}),Zi=m=>{const y=m.current,E=m.version,D=I=>()=>y===I;return{current:y,version:E,isWindows:D(M0),isiOS:D(ye),isAndroid:D(Me),isMacOS:D(Xt),isLinux:D(mt),isSolaris:D(po),isFreeBSD:D(bs),isChromeOS:D(Ta)}},Ul={unknown:il,nu:Zi},Zl={detect:(m,y,E)=>{const D=Po.browsers(),I=Po.oses(),q=y.bind(Ee=>Ti(D,Ee)).orThunk(()=>oe(D,m)).fold(R0.unknown,R0.nu),ne=ke(I,m).fold(Ul.unknown,Ul.nu),de=ve(ne,q,m,E);return{browser:q,os:ne,deviceType:de}}},Nm=m=>window.matchMedia(m).matches;let Wl=me(()=>Zl.detect(window.navigator.userAgent,Re.from(window.navigator.userAgentData),Nm));const ll=()=>Wl(),Jd=(m,y)=>Pn(m,y),_c=(m,y)=>{const E=Jd(m,y);if(E==null)throw new Error(m+" not available on this browser");return E},ds=Object.getPrototypeOf,vh=m=>_c("HTMLElement",m),pp=m=>{const y=Pn("ownerDocument.defaultView",m);return z(m)&&(vh(y).prototype.isPrototypeOf(m)||/^HTML\w*Element$/.test(ds(m).constructor.name))},Aa=m=>m.dom.nodeName.toLowerCase(),B0=m=>m.dom.nodeType,V1=m=>y=>B0(y)===m,U1=m=>B0(m)===Eu||Aa(m)==="#comment",Z1=m=>Ua(m)&&pp(m.dom),Ua=V1(al),em=V1(Vu),W1=V1(bd),ln=V1(Vl),Kc=m=>y=>Ua(y)&&Aa(y)===m,bg=m=>An.fromDom(m.dom.ownerDocument),yd=m=>W1(m)?m:bg(m),yg=m=>An.fromDom(yd(m).dom.documentElement),q1=m=>An.fromDom(yd(m).dom.defaultView),_e=m=>Re.from(m.dom.parentNode).map(An.fromDom),Yc=m=>Re.from(m.dom.parentElement).map(An.fromDom),vl=(m,y)=>{const E=be(y)?y:fn;let D=m.dom;const I=[];for(;D.parentNode!==null&&D.parentNode!==void 0;){const q=D.parentNode,ne=An.fromDom(q);if(I.push(ne),E(ne)===!0)break;D=q}return I},xh=m=>Re.from(m.dom.previousSibling).map(An.fromDom),wh=m=>Re.from(m.dom.nextSibling).map(An.fromDom),Nl=m=>an(m.dom.childNodes,An.fromDom),Oc=(m,y)=>{const E=m.dom.childNodes;return Re.from(E[y]).map(An.fromDom)},L0=m=>Oc(m,0),bp=(m,y,E,D)=>{const q=bg(m).dom.createRange();return q.setStart(m.dom,y),q.setEnd(E.dom,D),q},yp=(m,y,E,D)=>{const I=bp(m,y,E,D),q=qs(m,E)&&y===D;return I.collapsed&&!q},xl=m=>ln(m)&&Ce(m.dom.host),vp=m=>An.fromDom(m.dom.getRootNode()),Tu=m=>xl(m)?m:An.fromDom(yd(m).dom.body),Ch=m=>{const y=vp(m);return xl(y)?Re.some(y):Re.none()},P0=m=>An.fromDom(m.dom.host),wl=m=>{if(Ce(m.target)){const y=An.fromDom(m.target);if(Ua(y)&&Rm(y)&&m.composed&&m.composedPath){const E=m.composedPath();if(E)return Le(E)}}return Re.from(m.target)},Rm=m=>Ce(m.dom.shadowRoot),Uu=(m,y,E,D,I,q,ne)=>({target:m,x:y,y:E,stop:D,prevent:I,kill:q,raw:ne}),tm=m=>{const y=An.fromDom(wl(m).getOr(m.target)),E=()=>m.stopPropagation(),D=()=>m.preventDefault(),I=it(D,E);return Uu(y,m.clientX,m.clientY,E,D,I,m)},ss=(m,y)=>E=>{m(E)&&y(tm(E))},mc=(m,y,E,D,I)=>{const q=ss(E,D);return m.dom.addEventListener(y,q,I),{unbind:Xe(G1,m,y,q,I)}},Sh=(m,y,E,D)=>mc(m,y,E,D,!1),G1=(m,y,E,D)=>{m.dom.removeEventListener(y,E,D)},rs=qe,nm=(m,y,E)=>Sh(m,y,rs,E),Ai=tm,vd=(m,y)=>{_e(m).each(D=>{D.dom.insertBefore(y.dom,m.dom)})},xd=(m,y)=>{wh(m).fold(()=>{_e(m).each(I=>{xs(I,y)})},D=>{vd(D,y)})},fa=(m,y)=>{L0(m).fold(()=>{xs(m,y)},D=>{m.dom.insertBefore(y.dom,D.dom)})},xs=(m,y)=>{m.dom.appendChild(y.dom)},F0=(m,y,E)=>{Oc(m,E).fold(()=>{xs(m,y)},D=>{vd(D,y)})},wd=(m,y)=>{vd(m,y),xs(y,m)},Pa=(m,y)=>{le(y,(E,D)=>{const I=D===0?m:y[D-1];xd(I,E)})},Au=(m,y)=>{le(y,E=>{xs(m,E)})},Xc=(m,y,E)=>{if(O(E)||Y(E)||$e(E))m.setAttribute(y,E+"");else throw console.error("Invalid call to Attribute.set. Key ",y,":: Value ",E,":: Element ",m),new Error("Attribute value was not simple")},si=(m,y,E)=>{Xc(m.dom,y,E)},Zu=(m,y)=>{const E=m.dom;Dt(y,(D,I)=>{Xc(E,I,D)})},Wi=(m,y)=>{Dt(y,(E,D)=>{E.fold(()=>{$s(m,D)},I=>{Xc(m.dom,D,I)})})},Qc=(m,y)=>{const E=m.dom.getAttribute(y);return E===null?void 0:E},cl=(m,y)=>Re.from(Qc(m,y)),$s=(m,y)=>{m.dom.removeAttribute(y)},Wu=m=>He(m.dom.attributes,(y,E)=>(y[E.name]=E.value,y),{}),Za=m=>{m.dom.textContent="",le(Nl(m),y=>{qi(y)})},qi=m=>{const y=m.dom;y.parentNode!==null&&y.parentNode.removeChild(y)},Fa=m=>{const y=Nl(m);y.length>0&&Pa(m,y),qi(m)},ma=(m,y)=>An.fromDom(m.dom.cloneNode(y)),Jc=m=>ma(m,!1),ri=m=>ma(m,!0),ai=(m,y)=>{const E=An.fromTag(y),D=Wu(m);return Zu(E,D),E},om=(m,y)=>{const E=ai(m,y),D=Nl(ri(m));return Au(E,D),E},xp=(m,y)=>{const E=ai(m,y);xd(m,E);const D=Nl(m);return Au(E,D),qi(m),E},wp=(m,y)=>{const D=document.createElement("div");return D.innerHTML=m,Nl(An.fromDom(D))},ra=m=>an(m,An.fromDom),Mm=m=>m.dom.innerHTML,Eh=m=>{const y=An.fromTag("div"),E=An.fromDom(m.dom.cloneNode(!0));return xs(y,E),Mm(y)},Df=m=>m.style!==void 0&&be(m.style.getPropertyValue),uo=m=>{const y=em(m)?m.dom.parentNode:m.dom;if(y==null||y.ownerDocument===null)return!1;const E=y.ownerDocument;return Ch(An.fromDom(y)).fold(()=>E.body.contains(y),Se(uo,P0))},ku=m=>{const y=m.dom.body;if(y==null)throw new Error("Body is not available yet");return An.fromDom(y)},ea=(m,y,E)=>{if(!O(E))throw console.error("Invalid call to CSS.set. Property ",y,":: Value ",E,":: Element ",m),new Error("CSS value must be a string: "+E);Df(m)&&m.style.setProperty(y,E)},ii=(m,y)=>{Df(m)&&m.style.removeProperty(y)},$a=(m,y,E)=>{const D=m.dom;ea(D,y,E)},cr=(m,y)=>{const E=m.dom;Dt(y,(D,I)=>{ea(E,I,D)})},Nc=(m,y)=>{const E=m.dom,I=window.getComputedStyle(E).getPropertyValue(y);return I===""&&!uo(m)?Cp(E,y):I},Cp=(m,y)=>Df(m)?m.style.getPropertyValue(y):"",eu=(m,y)=>{const E=m.dom,D=Cp(E,y);return Re.from(D).filter(I=>I.length>0)},qu=(m,y)=>{const E=m.dom;ii(E,y),Qn(cl(m,"style").map(Zo),"")&&$s(m,"style")},vg=(m,y)=>{const E=m.dom,D=y.dom;Df(E)&&Df(D)&&(D.style.cssText=E.style.cssText)},Cl=(m,y)=>{const E=(de,Ee)=>{if(!$e(Ee)&&!Ee.match(/^[0-9]+$/))throw new Error(m+".set accepts only positive integer values. Value was "+Ee);const We=de.dom;Df(We)&&(We.style[m]=Ee+"px")},D=de=>{const Ee=y(de);if(Ee<=0||Ee===null){const We=Nc(de,m);return parseFloat(We)||0}return Ee},I=D,q=(de,Ee)=>He(Ee,(We,gt)=>{const tn=Nc(de,gt),Fn=tn===void 0?0:parseInt(tn,10);return isNaN(Fn)?We:We+Fn},0);return{set:E,get:D,getOuter:I,aggregate:q,max:(de,Ee,We)=>{const gt=q(de,We);return Ee>gt?Ee-gt:0}}},Ia=(m,y)=>ko(m).getOr(y),Js=(m,y,E)=>Ia(Nc(m,y),E),Rl=(m,y,E,D)=>{const I=Js(m,`padding-${E}`,0),q=Js(m,`padding-${D}`,0),ne=Js(m,`border-${E}-width`,0),de=Js(m,`border-${D}-width`,0);return y-I-q-ne-de},Du=(m,y)=>{const E=m.dom,D=E.getBoundingClientRect().width||E.offsetWidth;return Rl(m,D,"left","right")},ul=m=>Js(m,"height",m.dom.offsetHeight),Sl=m=>Js(m,"width",m.dom.offsetWidth),ef=m=>Du(m),Is=Cl("height",m=>{const y=m.dom;return uo(m)?y.getBoundingClientRect().height:y.offsetHeight}),Ml=m=>Is.get(m),Bm=m=>Is.getOuter(m),Th=ul,hc=Cl("width",m=>{const y=m.dom;return uo(m)?y.getBoundingClientRect().width:y.offsetWidth}),So=m=>hc.get(m),Or=m=>hc.getOuter(m),Wa=ef,yr=Sl,dl=(m,y)=>({left:m,top:y,translate:(D,I)=>dl(m+D,y+I)}),Gr=dl,li=m=>{const y=m.getBoundingClientRect();return Gr(y.left,y.top)},tf=(m,y)=>m!==void 0?m:y!==void 0?y:0,cs=m=>{const y=m.dom.ownerDocument,E=y.body,D=y.defaultView,I=y.documentElement;if(E===m.dom)return Gr(E.offsetLeft,E.offsetTop);const q=tf(D?.pageYOffset,I.scrollTop),ne=tf(D?.pageXOffset,I.scrollLeft),de=tf(I.clientTop,E.clientTop),Ee=tf(I.clientLeft,E.clientLeft);return ql(m).translate(ne-Ee,q-de)},ql=m=>{const y=m.dom,D=y.ownerDocument.body;return D===y?Gr(D.offsetLeft,D.offsetTop):uo(m)?li(y):Gr(0,0)},ws=m=>{const y=m!==void 0?m.dom:document,E=y.body.scrollLeft||y.documentElement.scrollLeft,D=y.body.scrollTop||y.documentElement.scrollTop;return Gr(E,D)},Gl=(m,y,E)=>{const I=(E!==void 0?E.dom:document).defaultView;I&&I.scrollBy(m,y)},ki=((m,y)=>{const E=q=>{if(!m(q))throw new Error("Can only get "+y+" value of a "+y+" node");return D(q).getOr("")},D=q=>m(q)?Re.from(q.dom.nodeValue):Re.none();return{get:E,getOption:D,set:(q,ne)=>{if(!m(q))throw new Error("Can only set raw "+y+" value of a "+y+" node");q.dom.nodeValue=ne}}})(em,"text"),_f=m=>ki.get(m),xg=m=>ki.getOption(m),qa=(m,y)=>ki.set(m,y),Of=(m,y)=>E=>Cd(E)==="rtl"?y:m,Cd=m=>Nc(m,"direction")==="rtl"?"rtl":"ltr",Bi=(m,y)=>{const E=Qc(m,y);return E===void 0||E===""?[]:E.split(" ")},nf=(m,y,E)=>{const I=Bi(m,y).concat([E]);return si(m,y,I.join(" ")),!0},wg=(m,y,E)=>{const D=Ne(Bi(m,y),I=>I!==E);return D.length>0?si(m,y,D.join(" ")):$s(m,y),!1};var Gu=(m,y,E,D,I)=>m(E,D)?Re.some(E):be(I)&&I(E)?Re.none():y(E,D,I);const hr=(m,y,E)=>{let D=m.dom;const I=be(E)?E:fn;for(;D.parentNode;){D=D.parentNode;const q=An.fromDom(D);if(y(q))return Re.some(q);if(I(q))break}return Re.none()},$0=(m,y,E)=>Gu((I,q)=>q(I),hr,m,y,E),Cg=(m,y)=>{const E=I=>y(An.fromDom(I));return X(m.dom.childNodes,E).map(An.fromDom)},Bl=(m,y)=>{const E=D=>{for(let I=0;I<D.childNodes.length;I++){const q=An.fromDom(D.childNodes[I]);if(y(q))return Re.some(q);const ne=E(D.childNodes[I]);if(ne.isSome())return ne}return Re.none()};return E(m.dom)},fl=(m,y,E)=>hr(m,D=>Ui(D,y),E),ka=(m,y)=>Cg(m,E=>Ui(E,y)),Sd=(m,y)=>fc(y,m),ui=(m,y,E)=>Gu((I,q)=>Ui(I,q),fl,m,y,E),of=m=>m.dom.classList!==void 0,Sg=m=>Bi(m,"class"),Eg=(m,y)=>nf(m,"class",y),K1=(m,y)=>wg(m,"class",y),Ed=(m,y)=>{of(m)?m.dom.classList.add(y):Eg(m,y)},dy=m=>{(of(m)?m.dom.classList:Sg(m)).length===0&&$s(m,"class")},sm=(m,y)=>{of(m)?m.dom.classList.remove(y):K1(m,y),dy(m)},gc=(m,y)=>of(m)&&m.dom.classList.contains(y),Y1=(m,y)=>{le(y,E=>{sm(m,E)})},Ah=m=>ui(m,"[contenteditable]"),Nf=(m,y=!1)=>uo(m)?m.dom.isContentEditable:Ah(m).fold(J(y),E=>rm(E)==="true"),rm=m=>m.dom.contentEditable,Tg=m=>y=>{Ed(y,m)},Ag=m=>y=>{Y1(y,m)},tu=(m,y,E)=>Ne(vl(m,E),y),fy=(m,y)=>Ne(Nl(m),y),_u=(m,y)=>{let E=[];return le(Nl(m),D=>{y(D)&&(E=E.concat([D])),E=E.concat(_u(D,y))}),E},ur=(m,y,E)=>tu(m,D=>Ui(D,y),E),yi=(m,y)=>fy(m,E=>Ui(E,y)),Td=(m,y)=>_l(y,m),Sp=(m,y,E,D)=>({parent:m,children:y,element:E,index:D}),nu=m=>_e(m).bind(y=>{const E=Nl(y);return Rf(E,m).map(D=>Sp(y,E,m,D))}),Rf=(m,y)=>$o(m,Xe(qs,y)),kg=(m,y,E)=>hr(m,y,E).isSome(),Ad=m=>Aa(m)==="img"?1:xg(m).fold(()=>Nl(m).length,y=>y.length),kd=m=>xg(m).filter(y=>y.trim().length!==0||y.indexOf(je)>-1).isSome(),nr=m=>Z1(m)&&Qc(m,"contenteditable")==="false",Dg=["img","br"],ha=m=>kd(m)||jt(Dg,Aa(m))||nr(m),kh=m=>Bl(m,ha),Da=m=>Ku(m,ha),Ku=(m,y)=>{const E=D=>{const I=Nl(D);for(let q=I.length-1;q>=0;q--){const ne=I[q];if(y(ne))return Re.some(ne);const de=E(ne);if(de.isSome())return de}return Re.none()};return E(m)},sf={create:(m,y,E,D)=>({start:m,soffset:y,finish:E,foffset:D})},_g=Xs.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),ou=(m,y,E,D)=>m.fold(y,E,D),Ou=m=>m.fold(vt,vt,vt),Lm=_g.before,pc=_g.on,Dd=_g.after,aa={before:Lm,on:pc,after:Dd,cata:ou,getStart:Ou},ta=Xs.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Di=m=>ta.exact(m.start,m.soffset,m.finish,m.foffset),Pm=m=>m.match({domRange:y=>An.fromDom(y.startContainer),relative:(y,E)=>aa.getStart(y),exact:(y,E,D,I)=>y}),_d=ta.domRange,or=ta.relative,Cr=ta.exact,Ll=m=>{const y=Pm(m);return q1(y)},P=sf.create,j={domRange:_d,relative:or,exact:Cr,exactFromRange:Di,getWin:Ll,range:P},re=(m,y,E)=>Re.from(m.caretPositionFromPoint?.(y,E)).bind(D=>{if(D.offsetNode===null)return Re.none();const I=m.createRange();return I.setStart(D.offsetNode,D.offset),I.collapse(),Re.some(I)}),we=(m,y,E)=>Re.from(m.caretRangeFromPoint?.(y,E)),Ge=(m,y,E)=>m.caretPositionFromPoint?re(m,y,E):m.caretRangeFromPoint?we(m,y,E):Re.none(),kt=(m,y,E)=>{const D=m.document;return Ge(D,y,E).map(I=>sf.create(An.fromDom(I.startContainer),I.startOffset,An.fromDom(I.endContainer),I.endOffset))},Cn=(m,y)=>{const E=Aa(m);return E==="input"?aa.after(m):jt(["br","img"],E)?y===0?aa.before(m):aa.after(m):aa.on(m,y)},_n=(m,y)=>{const E=m.fold(aa.before,Cn,aa.after),D=y.fold(aa.before,Cn,aa.after);return j.relative(E,D)},Fo=(m,y,E,D)=>{const I=Cn(m,y),q=Cn(E,D);return j.relative(I,q)},as=m=>Re.from(m.getSelection()),Br=(m,y)=>{as(m).each(E=>{E.removeAllRanges(),E.addRange(y)})},ia=(m,y,E,D,I)=>{const q=rl(m,y,E,D,I);Br(m,q)},vi=(m,y,E,D,I,q)=>{y.collapse(E.dom,D),y.extend(I.dom,q)},Rc=(m,y)=>qc(m,y).match({ltr:(E,D,I,q)=>{ia(m,E,D,I,q)},rtl:(E,D,I,q)=>{as(m).each(ne=>{if(ne.setBaseAndExtent)ne.setBaseAndExtent(E.dom,D,I.dom,q);else if(ne.extend)try{vi(m,ne,E,D,I,q)}catch{ia(m,I,q,E,D)}else ia(m,I,q,E,D)})}}),Yu=(m,y,E,D,I)=>{const q=Fo(y,E,D,I);Rc(m,q)},rf=(m,y,E)=>{const D=_n(y,E);Rc(m,D)},di=m=>{if(m.rangeCount>0){const y=m.getRangeAt(0),E=m.getRangeAt(m.rangeCount-1);return Re.some(sf.create(An.fromDom(y.startContainer),y.startOffset,An.fromDom(E.endContainer),E.endOffset))}else return Re.none()},Li=m=>{if(m.anchorNode===null||m.focusNode===null)return di(m);{const y=An.fromDom(m.anchorNode),E=An.fromDom(m.focusNode);return yp(y,m.anchorOffset,E,m.focusOffset)?Re.some(sf.create(y,m.anchorOffset,E,m.focusOffset)):di(m)}},am=(m,y,E=!0)=>{const I=(E?Ri:Cu)(m,y);Br(m,I)},im=m=>as(m).filter(y=>y.rangeCount>0).bind(Li),Fm=m=>im(m).map(y=>j.exact(y.start,y.soffset,y.finish,y.foffset)),Dh=(m,y)=>{const E=mn(m,y);return Jf(E)},Nu=(m,y,E)=>kt(m,y,E),_h=m=>{as(m).each(y=>y.removeAllRanges())},X1={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Q1=(()=>{const m="[0-9]+",E="[eE]"+("[+-]?"+m),D="\\.",I=de=>`(?:${de})?`,ne=`[+-]?(?:${["Infinity",m+D+I(m)+I(E),D+m+I(E),m+I(E)].join("|")})`;return new RegExp(`^(${ne})(.*)$`)})(),Hs=(m,y)=>at(y,E=>at(X1[E],D=>m===D)),Ha=(m,y)=>Re.from(Q1.exec(m)).bind(D=>{const I=Number(D[1]),q=D[2];return Hs(q,y)?Re.some({value:I,unit:q}):Re.none()}),Ga=m=>an(m,J(0)),Pl=(m,y,E,D,I)=>I(m.slice(0,y)).concat(D).concat(I(m.slice(E))),Ep=m=>(y,E,D,I)=>{if(m(D)){const q=Math.max(I,y[E]-Math.abs(D)),ne=Math.abs(q-y[E]);return D>=0?ne:-ne}else return D},Og=Ep(m=>m<0),Ng=Ep(qe),Tp=()=>{const m=(de,Ee,We,gt,tn)=>{const Fn=Og(de,Ee,gt,tn);return Pl(de,Ee,We+1,[Fn,0],Ga)},y=(de,Ee,We,gt)=>{const tn=(100+We)/100,Fn=Math.max(gt,(de[Ee]+We)/tn);return an(de,(Rn,ro)=>(ro===Ee?Fn:Rn/tn)-Rn)},E=(de,Ee,We,gt,tn,Fn)=>Fn?y(de,Ee,gt,tn):m(de,Ee,We,gt,tn);return{resizeTable:(de,Ee)=>de(Ee),clampTableDelta:Og,calcLeftEdgeDeltas:E,calcMiddleDeltas:(de,Ee,We,gt,tn,Fn,Rn)=>E(de,We,gt,tn,Fn,Rn),calcRightEdgeDeltas:(de,Ee,We,gt,tn,Fn)=>{if(Fn)return y(de,We,gt,tn);{const Rn=Og(de,We,gt,tn);return Ga(de.slice(0,We)).concat([Rn])}},calcRedestributedWidths:(de,Ee,We,gt)=>{if(gt){const Fn=(Ee+We)/Ee,Rn=an(de,ro=>ro/Fn);return{delta:Fn*100-100,newSizes:Rn}}else return{delta:We,newSizes:de}}}},S2=()=>{const m=(ne,de,Ee,We,gt)=>{const tn=We>=0?Ee:de,Fn=Ng(ne,tn,We,gt);return Pl(ne,de,Ee+1,[Fn,-Fn],Ga)};return{resizeTable:(ne,de,Ee)=>{Ee&&ne(de)},clampTableDelta:(ne,de,Ee,We,gt)=>{if(gt){if(Ee>=0)return Ee;{const tn=He(ne,(Fn,Rn)=>Fn+Rn-We,0);return Math.max(-tn,Ee)}}else return Og(ne,de,Ee,We)},calcLeftEdgeDeltas:m,calcMiddleDeltas:(ne,de,Ee,We,gt,tn)=>m(ne,Ee,We,gt,tn),calcRightEdgeDeltas:(ne,de,Ee,We,gt,tn)=>{if(tn)return Ga(ne);{const Fn=We/ne.length;return an(ne,J(Fn))}},calcRedestributedWidths:(ne,de,Ee,We)=>({delta:0,newSizes:ne})}},$m=(m,y,E=0)=>cl(m,y).map(D=>parseInt(D,10)).getOr(E),I0=(m,y)=>$m(m,y,1),Oh=m=>Kc("col")(m)?$m(m,"span",1)>1:I0(m,"colspan")>1,Rv=m=>I0(m,"rowspan")>1,Pi=(m,y)=>parseInt(Nc(m,y),10),_i=J(10),Nh=J(10),Im=(m,y)=>my(m,y,qe),my=(m,y,E)=>Mo(Nl(m),D=>Ui(D,y)?E(D)?[D]:[]:my(D,y,E)),bc=(m,y,E=fn)=>{if(E(y))return Re.none();if(jt(m,Aa(y)))return Re.some(y);const D=I=>Ui(I,"table")||E(I);return fl(y,m.join(","),D)},hy=(m,y)=>bc(["td","th"],m,y),af=m=>Im(m,"th,td"),J1=m=>Ui(m,"colgroup")?yi(m,"col"):Mo(Ru(m),y=>yi(y,"col")),su=(m,y)=>ui(m,"table",y),H0=m=>Im(m,"tr"),Ru=m=>su(m).fold(J([]),y=>yi(y,"colgroup")),Ka=Kc("th"),gy=m=>Ho(m,y=>Ka(y.element)),Ap=(m,y)=>m&&y?"sectionCells":m?"section":"cells",Mv=m=>{const y=m.section==="thead",E=Qn(py(m.cells),"th");return m.section==="tfoot"?{type:"footer"}:y||E?{type:"header",subType:Ap(y,E)}:{type:"body"}},py=m=>{const y=Ne(m,E=>Ka(E.element));return y.length===0?Re.some("td"):y.length===m.length?Re.some("th"):Re.none()},Bv=m=>{const y=an(m,I=>Mv(I).type),E=jt(y,"header"),D=jt(y,"footer");if(!E&&!D)return Re.some("body");{const I=jt(y,"body");return E&&!I&&!D?Re.some("header"):!E&&!I&&D?Re.some("footer"):Re.none()}},Lv=m=>Nt(m.all,y=>{const E=Mv(y);return E.type==="header"?Re.from(E.subType):Re.none()}),z0=(m,y)=>an(m,E=>{if(Aa(E)==="colgroup"){const D=an(J1(E),I=>{const q=$m(I,"span",1);return oo(I,1,q)});return vs(E,D,"colgroup")}else{const D=an(af(E),I=>{const q=$m(I,"rowspan",1),ne=$m(I,"colspan",1);return oo(I,q,ne)});return vs(E,D,y(E))}}),kp=m=>_e(m).map(y=>{const E=Aa(y);return wn(E)?E:"tbody"}).getOr("tbody"),eb=m=>{const y=H0(m),D=[...Ru(m),...y];return z0(D,kp)},Sn=(m,y)=>z0(m,()=>y),ru="data-snooker-locked-cols",E2=m=>cl(m,ru).bind(y=>Re.from(y.match(/\d+/g))).map(y=>Be(y,qe)),au=m=>{const y=He(Jr(m).rows,(D,I)=>(le(I.cells,(q,ne)=>{q.isLocked&&(D[ne]=!0)}),D),{}),E=Jo(y,(D,I)=>parseInt(I,10));return Ke(E)},Xu=(m,y)=>m+","+y,tb=(m,y,E)=>Re.from(m.access[Xu(y,E)]),T2=(m,y,E)=>{const D=Hm(m,I=>E(y,I.element));return D.length>0?Re.some(D[0]):Re.none()},Hm=(m,y)=>{const E=Mo(m.all,D=>D.cells);return Ne(E,y)},A2=m=>{const y={};let E=0;return le(m.cells,D=>{const I=D.colspan;Jn(I,q=>{const ne=E+q;y[ne]=Qf(D.element,I,ne)}),E+=I}),y},iu=m=>{const y={},E=[],I=Le(m).map(Rn=>Rn.element).bind(su).bind(E2).getOr({});let q=0,ne=0,de=0;const{pass:Ee,fail:We}=It(m,Rn=>Rn.section==="colgroup");le(We,Rn=>{const ro=[];le(Rn.cells,$t=>{let nn=0;for(;y[Xu(de,nn)]!==void 0;)nn++;const Eo=os(I,nn.toString()),Xo=Uo($t.element,$t.rowspan,$t.colspan,de,nn,Eo);for(let Kn=0;Kn<$t.colspan;Kn++)for(let Sr=0;Sr<$t.rowspan;Sr++){const Er=de+Sr,Wo=nn+Kn,el=Xu(Er,Wo);y[el]=Xo,ne=Math.max(ne,Wo+1)}ro.push(Xo)}),q++,E.push(vs(Rn.element,ro,Rn.section)),de++});const{columns:gt,colgroups:tn}=Je(Ee).map(Rn=>{const ro=A2(Rn);return{colgroups:[Tr(Rn.element,Do(ro))],columns:ro}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:qt(q,ne),access:y,all:E,columns:gt,colgroups:tn}},ns={fromTable:m=>{const y=eb(m);return iu(y)},generate:iu,getAt:tb,findItem:T2,filterItems:Hm,justCells:m=>Mo(m.all,y=>y.cells),justColumns:m=>Do(m.columns),hasColumns:m=>xt(m.columns).length>0,getColumnAt:(m,y)=>Re.from(m.columns[y])},zm=(m,y,E)=>As(E(m.element,y),!0,m.isLocked),_p=(m,y)=>m.section!==y?sa(m.element,m.cells,y,m.isNew):m,la=()=>({transformRow:_p,transformCell:(m,y,E)=>{const D=E(m.element,y),I=Aa(D)!=="td"?xp(D,"td"):D;return As(I,m.isNew,m.isLocked)}}),Od=()=>({transformRow:_p,transformCell:zm}),Op=()=>({transformRow:(m,y)=>_p(m,y==="thead"?"tbody":y),transformCell:zm}),lm={getTableSectionType:(m,y)=>{const E=ns.fromTable(m);switch(Lv(E).getOr(y)){case"section":return la();case"sectionCells":return Od();case"cells":return Op()}},section:la,sectionCells:Od,cells:Op,fallback:()=>({transformRow:vt,transformCell:zm})},Np=(m,y=qe)=>{const E=m.grid,D=Jn(E.columns,vt),I=Jn(E.rows,vt);return an(D,q=>by(()=>Mo(I,We=>ns.getAt(m,We,q).filter(gt=>gt.column===q).toArray()),We=>We.colspan===1&&y(We.element),()=>ns.getAt(m,0,q)))},by=(m,y,E)=>{const D=m();return X(D,y).orThunk(()=>Re.from(D[0]).orThunk(E)).map(ne=>ne.element)},Rh=m=>{const y=m.grid,E=Jn(y.rows,vt),D=Jn(y.columns,vt);return an(E,I=>by(()=>Mo(D,Ee=>ns.getAt(m,I,Ee).filter(We=>We.row===I).fold(J([]),We=>[We])),Ee=>Ee.rowspan===1,()=>ns.getAt(m,I,0)))},Nd=(m,y)=>{if(y<0||y>=m.length-1)return Re.none();const E=m[y].fold(()=>{const I=js(m.slice(0,y));return Nt(I,(q,ne)=>q.map(de=>({value:de,delta:ne+1})))},I=>Re.some({value:I,delta:0})),D=m[y+1].fold(()=>{const I=m.slice(y+1);return Nt(I,(q,ne)=>q.map(de=>({value:de,delta:ne+1})))},I=>Re.some({value:I,delta:1}));return E.bind(I=>D.map(q=>{const ne=q.delta+I.delta;return Math.abs(q.value-I.value)/ne}))},j0=(m,y)=>({row:m,y}),V0=(m,y)=>({col:m,x:y}),yy=m=>cs(m).left+Or(m),vy=m=>cs(m).left,Rp=(m,y)=>V0(m,vy(y)),xy=(m,y)=>V0(m,yy(y)),nb=m=>cs(m).top,zC=(m,y)=>j0(m,nb(y)),Pv=(m,y)=>j0(m,nb(y)+Bm(y)),Tl=(m,y,E)=>{if(E.length===0)return[];const D=an(E.slice(1),(q,ne)=>q.map(de=>m(ne,de))),I=E[E.length-1].map(q=>y(E.length-1,q));return D.concat([I])},lu=m=>-m,U0={delta:vt,positions:m=>Tl(zC,Pv,m),edge:nb},fo=Of({delta:vt,edge:vy,positions:m=>Tl(Rp,xy,m)},{delta:lu,edge:yy,positions:m=>Tl(xy,Rp,m)}),_a={delta:(m,y)=>fo(y).delta(m,y),positions:(m,y)=>fo(y).positions(m,y),edge:m=>fo(m).edge(m)},Mp=/(\d+(\.\d+)?)%/,ob=/(\d+(\.\d+)?)px|em/,Rg=Kc("col"),Z0=Kc("tr"),W0=(m,y,E)=>{const D=Yc(m).getOrThunk(()=>ku(bg(m)));return y(m)/E(D)*100},Mh=(m,y)=>{$a(m,"width",y+"px")},Fv=(m,y)=>{$a(m,"width",y+"%")},cm=(m,y)=>{$a(m,"height",y+"px")},$v=m=>{qu(m,"height")},sb=m=>Th(m)+"px",ga=(m,y,E,D)=>{const I=su(m).map(q=>{const ne=E(q);return Math.floor(y/100*ne)}).getOr(y);return D(m,I),I},Qu=(m,y,E,D)=>{const I=parseFloat(m);return Ao(m,"%")&&Aa(y)!=="table"?ga(y,I,E,D):I},Mc=m=>{const y=sb(m);return y?Qu(y,m,Ml,cm):Ml(m)},Mg=(m,y,E)=>{const D=E(m),I=I0(m,y);return D/I},Kl=(m,y)=>eu(m,y).orThunk(()=>cl(m,y).map(E=>E+"px")),Bh=m=>Kl(m,"width"),ml=m=>Kl(m,"height"),yc=m=>W0(m,So,Wa),rb=m=>Rg(m)?Math.round(So(m)):yr(m),Wt=m=>Z0(m)?Ml(m):Mg(m,"rowspan",Mc),Bc=m=>Bh(m).bind(E=>Ha(E,["fixed","relative","empty"])),ab=(m,y,E)=>{$a(m,"width",y+E)},Ya=m=>So(m)+"px",Yl=m=>Ml(m)+"px",cu=m=>W0(m,So,Wa)+"%",D2=m=>Bh(m).exists(y=>Mp.test(y)),cf=m=>Bh(m).exists(y=>ob.test(y)),q0=m=>Bh(m).isNone(),Ar=J(Mp),vr=Kc("col"),um=m=>Bh(m).getOrThunk(()=>rb(m)+"px"),Bp=m=>ml(m).getOrThunk(()=>Wt(m)+"px"),pa=m=>an(ns.justColumns(m),y=>Re.from(y.element)),jm=m=>{const y=ll().browser,E=y.isChromium()||y.isFirefox();return vr(m)?E:!0},wy=(m,y,E,D,I,q)=>m.filter(D).fold(()=>q(Nd(E,y)),ne=>I(ne)),uf=(m,y,E,D)=>{const I=Np(m),q=ns.hasColumns(m)?pa(m):I,ne=[Re.some(_a.edge(y))].concat(an(_a.positions(I,y),Ee=>Ee.map(We=>We.x))),de=ie(Oh);return an(q,(Ee,We)=>wy(Ee,We,ne,de,gt=>{if(jm(gt))return E(gt);{const tn=La(I[We],vt);return wy(tn,We,ne,de,Fn=>D(Re.some(Math.round(So(Fn)))),D)}},D))},Bg=m=>m.map(y=>y+"px").getOr(""),$i=(m,y)=>uf(m,y,um,Bg),_2=(m,y,E)=>uf(m,y,yc,D=>D.fold(()=>E.minCellWidth(),I=>I/E.pixelWidth()*100)),pt=(m,y,E)=>uf(m,y,rb,D=>D.getOrThunk(E.minCellWidth)),Ju=(m,y,E,D)=>{const I=Rh(m),q=an(m.all,de=>Re.some(de.element)),ne=[Re.some(U0.edge(y))].concat(an(U0.positions(I,y),de=>de.map(Ee=>Ee.y)));return an(q,(de,Ee)=>wy(de,Ee,ne,qe,E,D))},Lp=(m,y)=>Ju(m,y,Wt,E=>E.getOrThunk(Nh)),Oa=(m,y)=>Ju(m,y,Bp,Bg),Xl=(m,y)=>()=>uo(m)?y(m):parseFloat(eu(m,"width").getOr("0")),Gi=m=>{const y=Xl(m,So),E=J(0);return{width:y,pixelWidth:y,getWidths:(I,q)=>pt(I,m,q),getCellDelta:E,singleColumnWidth:J([0]),minCellWidth:E,setElementWidth:pe,adjustTableWidth:pe,isRelative:!0,label:"none"}},dr=m=>{const y=Xl(m,Ee=>parseFloat(cu(Ee))),E=Xl(m,So);return{width:y,pixelWidth:E,getWidths:(Ee,We)=>_2(Ee,m,We),getCellDelta:Ee=>Ee/E()*100,singleColumnWidth:(Ee,We)=>[100-Ee],minCellWidth:()=>_i()/E()*100,setElementWidth:Fv,adjustTableWidth:Ee=>{const We=y(),gt=Ee/100*We,tn=We+gt;Fv(m,tn)},isRelative:!0,label:"percent"}},Fl=m=>{const y=Xl(m,So);return{width:y,pixelWidth:y,getWidths:(ne,de)=>pt(ne,m,de),getCellDelta:vt,singleColumnWidth:(ne,de)=>[Math.max(_i(),ne+de)-ne],minCellWidth:_i,setElementWidth:Mh,adjustTableWidth:ne=>{const de=y()+ne;Mh(m,de)},isRelative:!1,label:"pixel"}},Vm=(m,y)=>Ar().exec(y)!==null?dr(m):Fl(m),hl={getTableSize:m=>Bh(m).fold(()=>Gi(m),E=>Vm(m,E)),pixelSize:Fl,percentageSize:dr,noneSize:Gi},ib=(m,y,E,D)=>{E===D?$s(m,y):si(m,y,E)},Cy=(m,y,E)=>{Je(yi(m,y)).fold(()=>fa(m,E),D=>xd(D,E))},Sy=(m,y)=>{const E=ka(m,y).getOrThunk(()=>{const D=An.fromTag(y,bg(m).dom);return y==="thead"?Cy(m,"caption,colgroup",D):y==="colgroup"?Cy(m,"caption",D):xs(m,D),D});return Za(E),E},za=(m,y)=>{const E=[],D=[],I=Rn=>an(Rn,ro=>{ro.isNew&&E.push(ro.element);const $t=ro.element;return Za($t),le(ro.cells,nn=>{nn.isNew&&D.push(nn.element),ib(nn.element,"colspan",nn.colspan,1),ib(nn.element,"rowspan",nn.rowspan,1),xs($t,nn.element)}),$t}),q=Rn=>Mo(Rn,ro=>an(ro.cells,$t=>(ib($t.element,"span",$t.colspan,1),$t.element))),ne=(Rn,ro)=>{const $t=Sy(m,ro),Eo=(ro==="colgroup"?q:I)(Rn);Au($t,Eo)},de=Rn=>{ka(m,Rn).each(qi)},Ee=(Rn,ro)=>{Rn.length>0?ne(Rn,ro):de(ro)},We=[],gt=[],tn=[],Fn=[];return le(y,Rn=>{switch(Rn.section){case"thead":We.push(Rn);break;case"tbody":gt.push(Rn);break;case"tfoot":tn.push(Rn);break;case"colgroup":Fn.push(Rn);break}}),Ee(Fn,"colgroup"),Ee(We,"thead"),Ee(gt,"tbody"),Ee(tn,"tfoot"),{newRows:E,newCells:D}},vc=m=>an(m,y=>{const E=Jc(y.element);return le(y.cells,D=>{const I=ri(D.element);ib(I,"colspan",D.colspan,1),ib(I,"rowspan",D.rowspan,1),xs(E,I)}),E}),Um=(m,y)=>an(m,E=>Co(E,y)),Ey=(m,y)=>m[y],O2=(m,y)=>{if(m.length===0)return 0;const E=m[0];return $o(m,I=>!y(E.element,I.element)).getOr(m.length)},Ql=(m,y,E,D)=>{const I=Ey(m,y),q=I.section==="colgroup",ne=O2(I.cells.slice(E),D),de=q?1:O2(Um(m.slice(y),E),D);return{colspan:ne,rowspan:de}},ed=(m,y)=>{const E=an(m,I=>an(I.cells,fn)),D=(I,q,ne,de)=>{for(let Ee=I;Ee<I+ne;Ee++)for(let We=q;We<q+de;We++)E[Ee][We]=!0};return an(m,(I,q)=>{const ne=Mo(I.cells,(de,Ee)=>{if(E[q][Ee]===!1){const We=Ql(m,q,Ee,y);return D(q,Ee,We.rowspan,We.colspan),[Bn(de.element,We.rowspan,We.colspan,de.isNew)]}else return[]});return Ts(I.element,ne,I.section,I.isNew)})},Xa=(m,y,E)=>{const D=[];le(m.colgroups,I=>{const q=[];for(let ne=0;ne<m.grid.columns;ne++){const de=ns.getColumnAt(m,ne).map(Ee=>As(Ee.element,E,!1)).getOrThunk(()=>As(y.colGap(),!0,!1));q.push(de)}D.push(sa(I.element,q,"colgroup",E))});for(let I=0;I<m.grid.rows;I++){const q=[];for(let Ee=0;Ee<m.grid.columns;Ee++){const We=ns.getAt(m,I,Ee).map(gt=>As(gt.element,E,gt.isLocked)).getOrThunk(()=>As(y.gap(),!0,!1));q.push(We)}const ne=m.all[I],de=sa(ne.element,q,ne.section,E);D.push(de)}return D},$l=(m,y)=>Xa(m,y,!1),td=m=>ed(m,qs),uu=(m,y)=>Nt(m.all,E=>X(E.cells,D=>qs(y,D.element))),xc=(m,y,E)=>{const D=an(y.selection,q=>hy(q).bind(ne=>uu(m,ne)).filter(E)),I=ls(D);return sl(I.length>0,I)},Ii=(m,y,E,D,I,q,ne,de,Ee)=>{const We=ns.fromTable(q),gt=Re.from(Ee?.section).getOrThunk(lm.fallback);return y(We,ne).map(Fn=>{const Rn=$l(We,de),ro=m(Rn,Fn,qs,I(de),gt),$t=au(ro.grid),nn=td(ro.grid);return{info:Fn,grid:nn,cursor:ro.cursor,lockedColumns:$t}}).bind(Fn=>{const Rn=za(q,Fn.grid),ro=Re.from(Ee?.sizing).getOrThunk(()=>hl.getTableSize(q)),$t=Re.from(Ee?.resize).getOrThunk(S2);return E(q,Fn.grid,Fn.info,{sizing:ro,resize:$t,section:gt}),D(q),$s(q,ru),Fn.lockedColumns.length>0&&si(q,ru,Fn.lockedColumns.join(",")),Re.some({cursor:Fn.cursor,newRows:Rn.newRows,newCells:Rn.newCells})})},Mf=(m,y)=>hy(y.element).bind(E=>uu(m,E).map(D=>({...D,generators:y.generators,clipboard:y.clipboard}))),Jl=(m,y)=>xc(m,y,qe).map(E=>({cells:E,generators:y.generators,clipboard:y.clipboard})),ec=(m,y)=>y.mergable,lb=(m,y)=>y.unmergable,Ki=(m,y)=>xc(m,y,qe),Lu=(m,y)=>xc(m,y,E=>!E.isLocked),Bf=(m,y)=>uu(m,y).exists(E=>!E.isLocked),Lf=(m,y)=>Ho(y,E=>Bf(m,E)),dm=(m,y)=>ec(m,y).filter(E=>Lf(m,E.cells)),cb=(m,y)=>lb(m,y).filter(E=>Lf(m,E)),Zm={...Xs.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},G0=(m,y)=>m.length===0?Zm.none():m.length===1?Zm.only(0):y===0?Zm.left(0,1):y===m.length-1?Zm.right(y-1,y):y>0&&y<m.length-1?Zm.middle(y-1,y,y+1):Zm.none(),kr=(m,y,E,D,I)=>{const q=m.slice(0),ne=G0(m,y),de=J(an(q,J(0))),Ee=Fn=>D.singleColumnWidth(q[Fn],E),We=(Fn,Rn)=>I.calcLeftEdgeDeltas(q,Fn,Rn,E,D.minCellWidth(),D.isRelative),gt=(Fn,Rn,ro)=>I.calcMiddleDeltas(q,Fn,Rn,ro,E,D.minCellWidth(),D.isRelative),tn=(Fn,Rn)=>I.calcRightEdgeDeltas(q,Fn,Rn,E,D.minCellWidth(),D.isRelative);return ne.fold(de,Ee,We,gt,tn)},Iv=(m,y,E)=>{let D=0;for(let I=m;I<y;I++)D+=E[I]!==void 0?E[I]:0;return D},Pf=(m,y)=>{const E=ns.justCells(m);return an(E,D=>{const I=Iv(D.column,D.column+D.colspan,y);return{element:D.element,width:I,colspan:D.colspan}})},Pp=(m,y)=>{const E=ns.justColumns(m);return an(E,(D,I)=>({element:D.element,width:y[I],colspan:D.colspan}))},Ty=(m,y)=>an(m.all,(E,D)=>({element:E.element,height:y[D]})),Fh=m=>ft(m,(y,E)=>y+E,0),Ls=(m,y)=>ns.hasColumns(m)?Pp(m,y):Pf(m,y),ba=(m,y,E)=>{const D=Ls(m,y);le(D,I=>{E.setElementWidth(I.element,I.width)})},xr=(m,y,E,D,I)=>{const q=ns.fromTable(m),ne=I.getCellDelta(y),de=I.getWidths(q,I),Ee=E===q.grid.columns-1,We=D.clampTableDelta(de,E,ne,I.minCellWidth(),Ee),gt=kr(de,E,We,I,D),tn=an(gt,(Fn,Rn)=>Fn+de[Rn]);ba(q,tn,I),D.resizeTable(I.adjustTableWidth,We,Ee)},Nr=(m,y,E)=>{const D=ns.fromTable(m),I=Lp(D,m),q=an(I,(Ee,We)=>E===We?Math.max(y+Ee,Nh()):Ee),ne=Ty(D,q);le(ne,Ee=>{cm(Ee.element,Ee.height)}),le(ns.justCells(D),Ee=>{$v(Ee.element)});const de=Fh(q);cm(m,de)},Na=(m,y,E,D,I)=>{const q=ns.generate(y),ne=D.getWidths(q,D),de=D.pixelWidth(),{newSizes:Ee,delta:We}=I.calcRedestributedWidths(ne,de,E.pixelDelta,D.isRelative);ba(q,Ee,D),D.adjustTableWidth(We)},Pu=(m,y,E,D)=>{const I=ns.generate(y),q=D.getWidths(I,D);ba(I,q,D)},Ff=(m,y)=>{Oh(m)||Bc(m).each(D=>{const I=D.value/2;ab(m,I,D.unit),ab(y,I,D.unit)})},Fp=(m,y,E)=>{const D=$m(m,y,1);E===1||D<=1?$s(m,y):si(m,y,Math.min(E,D))},ub=(m,y)=>E=>{const D=E.column+E.colspan-1,I=E.column;return D>=m&&I<y},fm=(m,y,E)=>{if(ns.hasColumns(m)){const D=Ne(ns.justColumns(m),ub(y,E)),I=an(D,ne=>{const de=ri(ne.element);return Fp(de,"span",E-y),de}),q=An.fromTag("colgroup");return Au(q,I),[q]}else return[]},xi=(m,y,E)=>an(m.all,D=>{const I=Ne(D.cells,ub(y,E)),q=an(I,de=>{const Ee=ri(de.element);return Fp(Ee,"colspan",E-y),Ee}),ne=An.fromTag("tr");return Au(ne,q),ne}),Lc=(m,y)=>{const E=ns.fromTable(m);return Lu(E,y).map(I=>{const q=I[I.length-1],ne=I[0].column,de=q.column+q.colspan,Ee=fm(E,ne,de),We=xi(E,ne,de);return[...Ee,...We]})},wc=(m,y,E)=>{const D=ns.fromTable(m);return Ki(D,y).bind(q=>{const ne=Xa(D,E,!1),Ee=Jr(ne).rows.slice(q[0].row,q[q.length-1].row+q[q.length-1].rowspan),We=Mo(Ee,tn=>{const Fn=Ne(tn.cells,Rn=>!Rn.isLocked);return Fn.length>0?[{...tn,cells:Fn}]:[]}),gt=td(We);return sl(gt.length>0,gt)}).map(q=>vc(q))},mm=(m,y,E,D,I,q)=>({minRow:m,minCol:y,maxRow:E,maxCol:D,allCells:I,selectedCells:q}),Rd=(m,y)=>{const E=m.grid.columns;let I=m.grid.rows,q=E,ne=0,de=0;const Ee=[],We=[];return Dt(m.access,gt=>{if(Ee.push(gt),y(gt)){We.push(gt);const tn=gt.row,Fn=tn+gt.rowspan-1,Rn=gt.column,ro=Rn+gt.colspan-1;tn<I?I=tn:Fn>ne&&(ne=Fn),Rn<q?q=Rn:ro>de&&(de=ro)}}),mm(I,q,ne,de,Ee,We)},$h=(m,y,E)=>{const D=m[E].element,I=An.fromTag("td");xs(I,An.fromTag("br")),(y?xs:fa)(D,I)},$p=(m,y,E,D)=>{const I=Ne(m,de=>de.section!=="colgroup"),q=y.grid.columns,ne=y.grid.rows;for(let de=0;de<ne;de++){let Ee=!1;for(let We=0;We<q;We++)de<E.minRow||de>E.maxRow||We<E.minCol||We>E.maxCol||(ns.getAt(y,de,We).filter(D).isNone()?$h(I,Ee,de):Ee=!0)}},nd=(m,y,E,D)=>{Dt(E.columns,ne=>{(ne.column<y.minCol||ne.column>y.maxCol)&&qi(ne.element)});const I=Ne(Im(m,"tr"),ne=>ne.dom.childElementCount===0);le(I,qi),(y.minCol===y.maxCol||y.minRow===y.maxRow)&&le(Im(m,"th,td"),ne=>{$s(ne,"rowspan"),$s(ne,"colspan")}),$s(m,ru),$s(m,"data-snooker-col-series"),hl.getTableSize(m).adjustTableWidth(D)},db=(m,y,E,D)=>{if(D.minCol===0&&y.grid.columns===D.maxCol+1)return 0;const I=pt(y,m,E),q=He(I,(We,gt)=>We+gt,0),Ee=He(I.slice(D.minCol,D.maxCol+1),(We,gt)=>We+gt,0)/q*E.pixelWidth()-E.pixelWidth();return E.getCellDelta(Ee)},Ip=(m,y)=>{const E=Fn=>Ui(Fn.element,y),D=ri(m),I=eb(D),q=hl.getTableSize(m),ne=ns.generate(I),de=Rd(ne,E),Ee="th:not("+y+"),td:not("+y+")",We=my(D,"th,td",Fn=>Ui(Fn,Ee));le(We,qi),$p(I,ne,de,E);const gt=ns.fromTable(m),tn=db(m,gt,q,de);return nd(D,de,ne,tn),D},fb=Kc("col"),Hp=Kc("colgroup"),Md=m=>Aa(m)==="tr"||Hp(m),$f=m=>{const y=$m(m,"colspan",1),E=$m(m,"rowspan",1);return{element:m,colspan:y,rowspan:E}},Yi=(m,y=$f)=>{const E=de=>fb(de.element)?m.col(de):m.cell(de),D=de=>Hp(de.element)?m.colgroup(de):m.row(de),I=de=>{if(Md(de))return D({element:de});{const Ee=de,We=E(y(Ee));return q=Re.some({item:Ee,replacement:We}),We}};let q=Re.none();return{getOrInit:(de,Ee)=>q.fold(()=>I(de),We=>Ee(de,We.item)?We.replacement:I(de))}},Bd=m=>y=>{const E=[],D=(ne,de)=>X(E,Ee=>de(Ee.item,ne)),I=ne=>{const de=m==="td"?{scope:null}:{},Ee=y.replace(ne,m,de);return E.push({item:ne,sub:Ee}),Ee};return{replaceOrInit:(ne,de)=>{if(Md(ne)||fb(ne))return ne;{const Ee=ne;return D(Ee,de).fold(()=>I(Ee),We=>de(ne,We.item)?We.sub:I(Ee))}}}},zp=m=>cl(m,"scope").map(y=>y.substr(0,3)),Cc={modification:Yi,transform:Bd,merging:m=>({unmerge:D=>{const I=zp(D);return I.each(q=>si(D,"scope",q)),()=>{const q=m.cell({element:D,colspan:1,rowspan:1});return qu(q,"width"),qu(D,"width"),I.each(ne=>si(q,"scope",ne)),q}},merge:D=>{const I=()=>{const q=ls(an(D,zp));if(q.length===0)return Re.none();{const ne=q[0],de=["row","col"];return at(q,We=>We!==ne&&jt(de,We))?Re.none():Re.from(ne)}};return qu(D[0],"width"),I().fold(()=>$s(D[0],"scope"),q=>si(D[0],"scope",q+"group")),J(D[0])}})},Hv=(m,y)=>{const E=m.slice(0,y[y.length-1].row+1),D=td(E);return Mo(D,I=>{const q=I.cells.slice(0,y[y.length-1].column+1);return an(q,ne=>ne.element)})},Ay=(m,y)=>{const E=m.slice(y[0].row+y[0].rowspan-1,m.length),D=td(E);return Mo(D,I=>{const q=I.cells.slice(y[0].column+y[0].colspan-1,I.cells.length);return an(q,ne=>ne.element)})},jp=(m,y,E)=>{const D=ns.fromTable(m);return Ki(D,y).map(q=>{const ne=Xa(D,E,!1),{rows:de}=Jr(ne),Ee=Hv(de,q),We=Ay(de,q);return{upOrLeftCells:Ee,downOrRightCells:We}})},od={only:(m,y)=>{const E=W1(m)?yg(m):m;return{parent:J(E),view:J(m),dragContainer:J(E),origin:J(Gr(0,0)),isResizable:y}},detached:(m,y,E)=>{const D=()=>cs(y);return{parent:J(y),view:J(m),dragContainer:J(y),origin:D,isResizable:E}},body:(m,y)=>({parent:J(m),view:J(m),dragContainer:J(m),origin:()=>cs(m),isResizable:y})},Y0=Xs.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),ky=(m,y,E)=>{const D=E.substring(0,E.length-m.length),I=parseFloat(D);return D===I.toString()?y(I):Y0.invalid(E)},hs={...Y0,from:m=>Ao(m,"%")?ky("%",Y0.percent,m):Ao(m,"px")?ky("px",Y0.pixels,m):Y0.invalid(m)},Vp=(m,y)=>an(m,E=>hs.from(E).fold(()=>E,I=>I/y*100+"%",I=>I+"%")),Ps=(m,y,E)=>{const D=E/y;return an(m,I=>hs.from(I).fold(()=>I,ne=>ne*D+"px",ne=>ne/100*E+"px"))},tc=(m,y)=>{const E=m.fold(()=>J(""),D=>{const I=D/y;return J(I+"px")},()=>{const D=100/y;return J(D+"%")});return Jn(y,E)},Ih=(m,y,E)=>m.fold(()=>y,D=>Ps(y,E,D),D=>Vp(y,E)),X0=(m,y,E)=>{const D=hs.from(E),I=Ho(m,q=>q==="0px")?tc(D,m.length):Ih(D,m,y);return jv(I)},sr=(m,y)=>m.length===0?y:ft(m,(E,D)=>hs.from(D).fold(J(0),vt,vt)+E,0),zv=(m,y)=>{const E=Math.floor(m);return{value:E+y,remainder:m-E}},mb=(m,y)=>hs.from(m).fold(J(m),E=>E+y+"px",E=>E+y+"%"),jv=m=>{if(m.length===0)return m;const y=ft(m,(D,I)=>{const q=hs.from(I).fold(()=>({value:I,remainder:0}),ne=>zv(ne,"px"),ne=>({value:ne+"%",remainder:0}));return{output:[q.value].concat(D.output),remainder:D.remainder+q.remainder}},{output:[],remainder:0}),E=y.output;return E.slice(0,E.length-1).concat([mb(E[E.length-1],Math.round(y.remainder))])},Up=hs.from,hb=(m,y,E)=>{le(y,D=>{const I=m.slice(D.column,D.colspan+D.column),q=sr(I,_i());$a(D.element,"width",q+E)})},R2=(m,y,E)=>{le(y,(D,I)=>{const q=sr([m[I]],_i());$a(D.element,"width",q+E)})},M2=(m,y,E)=>{le(E,D=>{qu(D.element,"height")}),le(y,(D,I)=>{$a(D.element,"height",m[I])})},B2=m=>Up(m).fold(J("px"),J("px"),J("%")),Zp=(m,y,E)=>{const D=ns.fromTable(m),I=D.all,q=ns.justCells(D),ne=ns.justColumns(D);y.each(de=>{const Ee=B2(de),We=So(m),gt=$i(D,m),tn=X0(gt,We,de);ns.hasColumns(D)?R2(tn,ne,Ee):hb(tn,q,Ee),$a(m,"width",de)}),E.each(de=>{const Ee=Ml(m),We=Oa(D,m),gt=X0(We,Ee,de);M2(gt,I,q),$a(m,"height",de)})},gb=D2,L2=cf,P2=q0;var Pg=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Fu=()=>{const m=We=>An.fromDom(We.dom.cloneNode(!1)),y=We=>yd(We).dom,E=We=>Ua(We)?Aa(We)==="body"?!0:jt(Pg,Aa(We)):!1,D=We=>Ua(We)?jt(["br","img","hr","input"],Aa(We)):!1,I=We=>Ua(We)&&Qc(We,"contenteditable")==="false",q=(We,gt)=>We.dom.compareDocumentPosition(gt.dom),ne=(We,gt)=>{const tn=Wu(We);Zu(gt,tn)},de=We=>{const gt=Aa(We);return jt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],gt)},Ee=We=>Ua(We)?cl(We,"lang"):Re.none();return{up:J({selector:fl,closest:ui,predicate:hr,all:vl}),down:J({selector:Td,predicate:_u}),styles:J({get:Nc,getRaw:eu,set:$a,remove:qu}),attrs:J({get:Qc,set:si,remove:$s,copyTo:ne}),insert:J({before:vd,after:xd,afterAll:Pa,append:xs,appendAll:Au,prepend:fa,wrap:wd}),remove:J({unwrap:Fa,remove:qi}),create:J({nu:An.fromTag,clone:m,text:An.fromText}),query:J({comparePosition:q,prevSibling:xh,nextSibling:wh}),property:J({children:Nl,name:Aa,parent:_e,document:y,isText:em,isComment:U1,isElement:Ua,isSpecial:de,getLanguage:Ee,getText:_f,setText:qa,isBoundary:E,isEmptyTag:D,isNonEditable:I}),eq:qs,is:te}};const Xi=(m,y)=>({item:m,mode:y}),Hh=(m,y,E,D=sd)=>m.property().parent(y).map(I=>Xi(I,D)),sd=(m,y,E,D=hm)=>E.sibling(m,y).map(I=>Xi(I,D)),hm=(m,y,E,D=hm)=>{const I=m.property().children(y);return E.first(I).map(ne=>Xi(ne,D))},Wp=[{current:Hh,next:sd,fallback:Re.none()},{current:sd,next:hm,fallback:Re.some(Hh)},{current:hm,next:hm,fallback:Re.some(sd)}],ca=(m,y,E,D,I=Wp)=>X(I,ne=>ne.current===E).bind(ne=>ne.current(m,y,D,ne.next).orThunk(()=>ne.fallback.bind(de=>ca(m,y,de,D)))),pb={left:()=>({sibling:(E,D)=>E.query().prevSibling(D),first:E=>E.length>0?Re.some(E[E.length-1]):Re.none()}),right:()=>({sibling:(E,D)=>E.query().nextSibling(D),first:E=>E.length>0?Re.some(E[0]):Re.none()})},Vv=(m,y,E,D,I,q)=>ca(m,y,D,I).bind(de=>q(de.item)?Re.none():E(de.item)?Re.some(de.item):Vv(m,de.item,E,de.mode,I,q)),Uv=(m,y,E,D)=>Vv(m,y,E,sd,pb.left(),D),bb=(m,y,E,D)=>Vv(m,y,E,sd,pb.right(),D),If=(m,y)=>({element:m,offset:y}),zh=(m,y,E)=>m.property().isText(y)&&m.property().getText(y).trim().length===0||m.property().isComment(y)?E(y).bind(D=>zh(m,D,E).orThunk(()=>Re.some(D))):Re.none(),qp=(m,y)=>m.property().isText(y)?m.property().getText(y).length:m.property().children(y).length,Gp=(m,y)=>{const E=zh(m,y,m.query().prevSibling).getOr(y);if(m.property().isText(E))return If(E,qp(m,E));const D=m.property().children(E);return D.length>0?Gp(m,D[D.length-1]):If(E,qp(m,E))},Dy=Gp,du=Fu(),df=m=>Dy(du,m),J0=m=>y=>m.property().children(y).length===0,UC=(m,y,E)=>Zv(m,y,J0(m),E),F2=(m,y,E)=>_y(m,y,J0(m),E),Zv=Uv,_y=bb,gm=Fu(),$2=(m,y)=>UC(gm,m,y),Fd=(m,y)=>F2(gm,m,y),Sc=(m,y,E)=>Zv(gm,m,y,E),$d=(m,y,E)=>_y(gm,m,y,E),fu=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],e1=(m,y)=>{const E=m.property().name(y);return jt(["ol","ul"],E)},jh=(m,y)=>{const E=m.property().name(y);return jt(fu,E)},Oy=(m,y)=>jt(["br","img","hr","input"],m.property().name(y)),Wv=(m,y,E,D)=>{const I=E[0],q=E.slice(1);return D(m,y,I,q)},yb=(m,y,E)=>E.length>0?Wv(m,y,E,Fg):Re.none(),Fg=(m,y,E,D)=>{const I=y(m,E);return ft(D,(q,ne)=>{const de=y(m,ne);return Vh(m,q,de)},I)},Vh=(m,y,E)=>y.bind(D=>E.filter(Xe(m.eq,D))),Rr=(m,y)=>Xe(m.eq,y),Hi=(m,y,E,D=fn)=>{const I=[y].concat(m.up().all(y)),q=[E].concat(m.up().all(E)),ne=gt=>$o(gt,D).fold(()=>gt,Fn=>gt.slice(0,Fn+1)),de=ne(I),Ee=ne(q),We=X(de,gt=>at(Ee,Rr(m,gt)));return{firstpath:de,secondpath:Ee,shared:We}},$g=yb,Pc=Hi,vb=Fu(),Dr=(m,y)=>$g(vb,(E,D)=>m(D),y),rd=(m,y,E)=>Pc(vb,m,y,E),Hf=Fu(),pm=m=>jh(Hf,m),ad=m=>e1(Hf,m),Ny=m=>Oy(Hf,m),I2=m=>{const y=Kc("br"),E=Ee=>Ho(Ee,We=>y(We)||em(We)&&_f(We).trim().length===0),D=Ee=>Aa(Ee)==="li"||hr(Ee,ad).isSome(),I=Ee=>wh(Ee).map(We=>pm(We)?!0:Ny(We)?Aa(We)!=="img":!1).getOr(!1),q=Ee=>Da(Ee).bind(We=>{const gt=I(We);return _e(We).map(tn=>gt===!0||D(tn)||y(We)||pm(tn)&&!qs(Ee,tn)?[]:[An.fromTag("br")])}).getOr([]),de=(()=>{const Ee=Mo(m,We=>{const gt=Nl(We);return E(gt)?[]:gt.concat(q(We))});return Ee.length===0?[An.fromTag("br")]:Ee})();Za(m[0]),Au(m[0],de)},Wm=m=>{$s(m,"width"),$s(m,"height")},Ig=m=>{const y=cu(m);Zp(m,Re.some(y),Re.none()),Wm(m)},Qa=m=>{const y=Ya(m);Zp(m,Re.some(y),Re.none()),Wm(m)},mu=m=>{const y=Yl(m);Zp(m,Re.none(),Re.some(y)),Wm(m)},Qi=m=>{qu(m,"width");const y=J1(m),E=y.length>0?y:af(m);le(E,D=>{qu(D,"width"),Wm(D)}),Wm(m)},nc={scope:["row","col"]},ff=m=>()=>{const y=An.fromTag("td",m.dom);return xs(y,An.fromTag("br",m.dom)),y},Ry=m=>()=>An.fromTag("col",m.dom),Uh=m=>()=>An.fromTag("colgroup",m.dom),qm=m=>()=>An.fromTag("tr",m.dom),Hg=(m,y,E)=>{const D=om(m,y);return Dt(E,(I,q)=>{I===null?$s(D,q):si(D,q,I)}),D},My=m=>m,xb=(m,y,E)=>kh(m).map(I=>{const q=E.join(","),ne=ur(I,q,de=>qs(de,m));return ft(ne,(de,Ee)=>{const We=Jc(Ee);return xs(de,We),We},y)}).getOr(y),Zh=(m,y)=>{Dt(nc,(E,D)=>cl(m,D).filter(I=>jt(E,I)).each(I=>si(y,D,I)))},Gm=(m,y,E)=>{const D=(ne,de)=>{vg(ne.element,de),qu(de,"height"),ne.colspan!==1&&qu(de,"width")},I=ne=>{const de=An.fromTag(Aa(ne.element),y.dom),Ee=E.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),We=Ee.length>0?xb(ne.element,de,Ee):de;return xs(We,An.fromTag("br")),D(ne,de),Zh(ne.element,de),m(ne.element,de),de};return{col:ne=>{const de=An.fromTag(Aa(ne.element),y.dom);return D(ne,de),m(ne.element,de),de},colgroup:Uh(y),row:qm(y),cell:I,replace:Hg,colGap:Ry(y),gap:ff(y)}},qv=m=>({col:Ry(m),colgroup:Uh(m),row:qm(m),cell:ff(m),replace:My,colGap:Ry(m),gap:ff(m)}),t1=m=>ns.fromTable(m).grid,Gv=(m,y,E,D)=>{const I=Jr(m).rows;if(I.length===0)return m;for(let q=y.startRow;q<=y.finishRow;q++)for(let ne=y.startCol;ne<=y.finishCol;ne++){const de=I[q],Ee=Co(de,ne).isLocked;Vi(de,ne,As(D(),!1,Ee))}return m},Kv=(m,y,E,D)=>{const I=Jr(m).rows;let q=!0;for(let ne=0;ne<I.length;ne++)for(let de=0;de<ni(I[0]);de++){const Ee=I[ne],We=Co(Ee,de),gt=We.element,tn=E(gt,y);tn&&!q?Vi(Ee,de,As(D(),!0,We.isLocked)):tn&&(q=!1)}return m},gl=(m,y)=>He(m,(E,D)=>at(E,I=>y(I.element,D.element))?E:E.concat([D]),[]),zg=(m,y,E,D)=>(y>0&&y<m[0].cells.length&&le(m,I=>{const q=I.cells[y-1];let ne=0;const de=D();for(;I.cells.length>y+ne&&E(q.element,I.cells[y+ne].element);)Vi(I,y+ne,As(de,!0,I.cells[y+ne].isLocked)),ne++}),m),id=(m,y,E,D)=>{const I=Jr(m).rows;if(y>0&&y<I.length){const q=I[y-1].cells,ne=gl(q,E);le(ne,de=>{let Ee=Re.none();for(let We=y;We<I.length;We++)for(let gt=0;gt<ni(I[0]);gt++){const tn=I[We],Fn=Co(tn,gt);E(Fn.element,de.element)&&(Ee.isNone()&&(Ee=Re.some(D())),Ee.each(ro=>{Vi(tn,gt,As(ro,!0,Fn.isLocked))}))}})}return m},Yv=(m,y,E)=>{if(m.row>=y.length||m.column>ni(y[0]))return Gn.error("invalid start address out of table bounds, row: "+m.row+", column: "+m.column);const D=y.slice(m.row),I=D[0].cells.slice(m.column),q=ni(E[0]),ne=E.length;return Gn.value({rowDelta:D.length-ne,colDelta:I.length-q})},wb=(m,y)=>{const E=ni(m[0]),D=ni(y[0]);return{rowDelta:0,colDelta:E-D}},Cb=(m,y)=>{const E=m.length,D=y.length;return{rowDelta:E-D,colDelta:0}},Sb=(m,y,E,D)=>{const I=y.section==="colgroup"?E.col:E.cell;return Jn(m,q=>As(I(),!0,D(q)))},By=(m,y,E,D)=>{const I=m[m.length-1];return m.concat(Jn(y,()=>{const q=I.section==="colgroup"?E.colgroup:E.row,ne=Sf(I,q,vt),de=Sb(ne.cells.length,ne,E,Ee=>zo(D,Ee.toString()));return Ci(ne,de)}))},Xv=(m,y,E,D)=>an(m,I=>{const q=Sb(y,I,E,fn);return Fs(I,D,q)}),Qv=(m,y,E)=>an(m,D=>He(E,(I,q)=>{const ne=Sb(1,D,y,qe)[0];return ir(I,q,ne)},D)),Kp=(m,y,E)=>{const D=y.colDelta<0?Xv:vt,I=y.rowDelta<0?By:vt,q=au(m),ne=ni(m[0]),de=at(q,gt=>gt===ne-1),Ee=D(m,Math.abs(y.colDelta),E,de?ne-1:ne),We=au(Ee);return I(Ee,Math.abs(y.rowDelta),E,Be(We,qe))},Ji=(m,y,E,D)=>{const I=Co(m[y],E),q=Xe(D,I.element),ne=m[y];return m.length>1&&ni(ne)>1&&(E>0&&q(Si(ne,E-1))||E<ne.cells.length-1&&q(Si(ne,E+1))||y>0&&q(Si(m[y-1],E))||y<m.length-1&&q(Si(m[y+1],E)))},Kr=(m,y,E,D,I,q)=>{const ne=m.row,de=m.column,Ee=E.length,We=ni(E[0]),gt=ne+Ee,tn=de+We+q.length,Fn=Be(q,qe);for(let Rn=ne;Rn<gt;Rn++){let ro=0;for(let $t=de;$t<tn;$t++){if(Fn[$t]){ro++;continue}Ji(y,Rn,$t,I)&&Kv(y,Si(y[Rn],$t),I,D.cell);const nn=$t-de-ro,Eo=Co(E[Rn-ne],nn),Xo=Eo.element,Kn=D.replace(Xo);Vi(y[Rn],$t,As(Kn,!0,Eo.isLocked))}}return y},Al=(m,y,E)=>{const D=ni(y[0]),I=Jr(y).cols.length+m.row,q=Jn(D-m.column,de=>de+m.column),ne=X(q,de=>Ho(E,Ee=>Ee!==de)).getOr(D-1);return{row:I,column:ne}},kl=(m,y,E)=>Ne(E,D=>D>=m.column&&D<=ni(y[0])+m.column),ya=(m,y,E,D,I)=>{const q=au(y),ne=Al(m,y,q),de=Jr(E).rows,Ee=kl(ne,de,q);return Yv(ne,y,de).map(gt=>{const tn={...gt,colDelta:gt.colDelta-Ee.length},Fn=Kp(y,tn,D),Rn=au(Fn),ro=kl(ne,de,Rn);return Kr(ne,Fn,de,D,I,ro)})},Oi=(m,y,E,D,I)=>{zg(y,m,I,D.cell);const q=Cb(E,y),ne=Kp(E,q,D),de=Cb(y,ne),Ee=Kp(y,de,D);return an(Ee,(We,gt)=>Fs(We,m,ne[gt].cells))},Km=(m,y,E,D,I)=>{id(y,m,I,D.cell);const q=au(y),ne=wb(y,E),de={...ne,colDelta:ne.colDelta-q.length},Ee=Kp(y,de,D),{cols:We,rows:gt}=Jr(Ee),tn=au(Ee),Fn=wb(E,y),Rn={...Fn,colDelta:Fn.colDelta+tn.length},ro=Qv(E,D,tn),$t=Kp(ro,Rn,D);return[...We,...gt.slice(0,m),...$t,...gt.slice(m,gt.length)]},Id=(m,y,E,D)=>Sf(m,I=>D(I,E),y),Ly=(m,y,E,D,I)=>{const{rows:q,cols:ne}=Jr(m),de=q.slice(0,y),Ee=q.slice(y),We=Id(q[E],(gt,tn)=>y>0&&y<q.length&&D(Si(q[y-1],tn),Si(q[y],tn))?Co(q[y],tn):As(I(gt.element,D),!0,gt.isLocked),D,I);return[...ne,...de,We,...Ee]},Eb=(m,y,E,D,I,q,ne)=>{if(E==="colgroup"||!D){const de=Co(m,I);return As(ne(de.element,q),!0,!1)}else return Co(m,y)},zf=(m,y,E,D,I)=>an(m,q=>{const ne=y>0&&y<ni(q)&&D(Si(q,y-1),Si(q,y)),de=Eb(q,y,q.section,ne,E,D,I);return ir(q,y,de)}),Jv=(m,y)=>Mo(m,E=>{const D=E.cells,I=ft(y,(q,ne)=>ne>=0&&ne<q.length?q.slice(0,ne).concat(q.slice(ne+1)):q,D);return I.length>0?[sa(E.element,I,E.section,E.isNew)]:[]}),ex=(m,y,E)=>{const{rows:D,cols:I}=Jr(m);return[...I,...D.slice(0,y),...D.slice(E+1)]},Wh=(m,y,E,D)=>Si(m[y],E)!==void 0&&y>0&&D(Si(m[y-1],E),Si(m[y],E)),Py=(m,y,E)=>y>0&&E(Si(m,y-1),Si(m,y)),n1=(m,y,E,D)=>Wh(m,y,E,D)||Py(m[y],E,D),H2=(m,y)=>Ho(y,vt)&&gy(m.cells)?qe:(D,I,q)=>!(Aa(D.element)==="th"&&y[q]),Tb=(m,y)=>Ho(y,vt)&&gy(m)?qe:(D,I,q)=>!(Aa(D.element)==="th"&&y[I]),bm=(m,y,E,D)=>{const I=ne=>ne==="row"?Rv(y):Oh(y),q=ne=>I(ne)?`${ne}group`:ne;return m?Ka(y)?q(E):null:D&&Ka(y)?q(E==="row"?"col":"row"):null},Fy=(m,y)=>(E,D,I)=>Re.some(bm(m,E.element,"col",y[I])),Ab=(m,y)=>(E,D)=>Re.some(bm(m,E.element,"row",y[D])),o1=(m,y,E)=>As(E(m.element,y),!0,m.isLocked),jg=(m,y,E,D,I,q,ne)=>{const de=Ee=>at(y,We=>E(Ee.element,We.element));return an(m,(Ee,We)=>Ir(Ee,(gt,tn)=>{if(de(gt)){const Fn=ne(gt,We,tn)?I(gt,E,D):gt;return q(Fn,We,tn).each(Rn=>{Wi(Fn.element,{scope:Re.from(Rn)})}),Fn}else return gt}))},Ym=(m,y,E)=>Mo(m,(D,I)=>n1(m,I,y,E)?[]:[Co(D,y)]),Vg=(m,y,E)=>{const D=m[y];return Mo(D.cells,(I,q)=>n1(m,y,q,E)?[]:[I])},s1=(m,y,E,D,I)=>{const q=Jr(m).rows,ne=Mo(y,gt=>Ym(q,gt,D)),de=an(q,gt=>gy(gt.cells)),Ee=Tb(ne,de),We=Ab(E,de);return jg(m,ne,D,I,o1,We,Ee)},$y=(m,y,E,D,I,q,ne)=>{const{cols:de,rows:Ee}=Jr(m),We=Ee[y[0]],gt=Mo(y,nn=>Vg(Ee,nn,I)),tn=an(We.cells,(nn,Eo)=>gy(Ym(Ee,Eo,I))),Fn=[...Ee];le(y,nn=>{Fn[nn]=ne.transformRow(Ee[nn],E)});const Rn=[...de,...Fn],ro=H2(We,tn),$t=Fy(D,tn);return jg(Rn,gt,I,q,ne.transformCell,$t,ro)},jf=(m,y,E,D)=>{const I=Jr(m).rows,q=an(y,ne=>Co(I[ne.row],ne.column));return jg(m,q,E,D,o1,Re.none,qe)},Il=m=>He(m,(E,D)=>at(E,q=>q.column===D.column)?E:E.concat([D]),[]).sort((E,D)=>E.column-D.column),oc=m=>Nf(m,!0),qh=m=>{af(m).length===0&&qi(m)},_t=(m,y)=>({grid:m,cursor:y}),Yp=m=>Nt(m,y=>Nt(y.cells,E=>{const D=E.element;return sl(oc(D),D)})),Iy=(m,y,E)=>{const D=Jr(m).rows;return Re.from(D[y]?.cells[E]?.element).filter(oc).orThunk(()=>Yp(D))},Fc=(m,y,E)=>{const D=Iy(m,y,E);return _t(m,D)},Xp=m=>He(m,(E,D)=>at(E,q=>q.row===D.row)?E:E.concat([D]),[]).sort((E,D)=>E.row-D.row),ym=(m,y,E,D)=>{const I=y[0].row,q=Xp(y),ne=ft(q,(de,Ee)=>({grid:Ly(de.grid,I,Ee.row+de.delta,E,D.getOrInit),delta:de.delta+1}),{grid:m,delta:0}).grid;return Fc(ne,I,y[0].column)},Hy=(m,y,E,D)=>{const I=Xp(y),q=I[I.length-1],ne=q.row+q.rowspan,de=ft(I,(Ee,We)=>Ly(Ee,ne,We.row,E,D.getOrInit),m);return Fc(de,ne,y[0].column)},tx=(m,y,E,D)=>{const I=y.details,q=Il(I),ne=q[0].column,de=ft(q,(Ee,We)=>({grid:zf(Ee.grid,ne,We.column+Ee.delta,E,D.getOrInit),delta:Ee.delta+1}),{grid:m,delta:0}).grid;return Fc(de,I[0].row,ne)},Gh=(m,y,E,D)=>{const I=y.details,q=I[I.length-1],ne=q.column+q.colspan,de=Il(I),Ee=ft(de,(We,gt)=>zf(We,ne,gt.column,E,D.getOrInit),m);return Fc(Ee,I[0].row,ne)},kb=(m,y,E,D)=>{const I=Il(y),q=an(I,de=>de.column),ne=s1(m,q,!0,E,D.replaceOrInit);return Fc(ne,y[0].row,y[0].column)},Vf=(m,y,E,D)=>{const I=jf(m,y,E,D.replaceOrInit);return Fc(I,y[0].row,y[0].column)},Qp=(m,y,E,D)=>{const I=Il(y),q=an(I,de=>de.column),ne=s1(m,q,!1,E,D.replaceOrInit);return Fc(ne,y[0].row,y[0].column)},zy=(m,y,E,D)=>{const I=jf(m,y,E,D.replaceOrInit);return Fc(I,y[0].row,y[0].column)},Ec=(m,y)=>(E,D,I,q,ne)=>{const de=Xp(D),Ee=an(de,gt=>gt.row),We=$y(E,Ee,m,y,I,q.replaceOrInit,ne);return Fc(We,D[0].row,D[0].column)},ld=Ec("thead",!0),cd=Ec("tbody",!1),z2=Ec("tfoot",!1),Jp=(m,y,E,D)=>{const I=Il(y.details),q=Jv(m,an(I,de=>de.column)),ne=q.length>0?q[0].cells.length-1:0;return Fc(q,I[0].row,Math.min(I[0].column,ne))},nx=(m,y,E,D)=>{const I=Xp(y),q=ex(m,I[0].row,I[I.length-1].row),ne=Math.max(Jr(q).rows.length-1,0);return Fc(q,Math.min(y[0].row,ne),y[0].column)},Db=(m,y,E,D)=>{const I=y.cells;I2(I);const q=Gv(m,y.bounds,E,D.merge(I));return _t(q,Re.from(I[0]))},ox=(m,y,E,D)=>{const q=ft(y,(ne,de)=>Kv(ne,de,E,D.unmerge(de)),m);return _t(q,Re.from(y[0]))},sx=(m,y,E,D)=>{const q=((Ee,We)=>{const gt=ns.fromTable(Ee);return Xa(gt,We,!0)})(y.clipboard,y.generators),ne=wo(y.row,y.column);return ya(ne,m,q,y.generators,E).fold(()=>_t(m,Re.some(y.element)),Ee=>Fc(Ee,y.row,y.column))},fs=(m,y,E)=>{const D=Sn(m,E.section),I=ns.generate(D);return Xa(I,y,!0)},so=(m,y,E,D)=>{const I=Jr(m).rows,q=y.cells[0].column,ne=I[y.cells[0].row],de=fs(y.clipboard,y.generators,ne),Ee=Oi(q,m,de,y.generators,E);return Fc(Ee,y.cells[0].row,y.cells[0].column)},r1=(m,y,E,D)=>{const I=Jr(m).rows,q=y.cells[y.cells.length-1].column+y.cells[y.cells.length-1].colspan,ne=I[y.cells[0].row],de=fs(y.clipboard,y.generators,ne),Ee=Oi(q,m,de,y.generators,E);return Fc(Ee,y.cells[0].row,q)},jy=(m,y,E,D)=>{const I=Jr(m).rows,q=y.cells[0].row,ne=I[q],de=fs(y.clipboard,y.generators,ne),Ee=Km(q,m,de,y.generators,E);return Fc(Ee,y.cells[0].row,y.cells[0].column)},a1=(m,y,E,D)=>{const I=Jr(m).rows,q=y.cells[y.cells.length-1].row+y.cells[y.cells.length-1].rowspan,ne=I[y.cells[0].row],de=fs(y.clipboard,y.generators,ne),Ee=Km(q,m,de,y.generators,E);return Fc(Ee,q,y.cells[0].column)},rx=(m,y)=>{const E=ns.fromTable(m);return Ki(E,y).bind(I=>{const q=I[I.length-1],ne=I[0].column,de=q.column+q.colspan,Ee=xo(an(E.all,We=>Ne(We.cells,gt=>gt.column>=ne&&gt.column<de)));return py(Ee)}).getOr("")},i1=(m,y)=>{const E=ns.fromTable(m);return Ki(E,y).bind(py).getOr("")},oa=(m,y)=>{const E=ns.fromTable(m);return Ki(E,y).bind(I=>{const q=I[I.length-1],ne=I[0].row,de=q.row+q.rowspan,Ee=E.all.slice(ne,de);return Bv(Ee)}).getOr("")},_b=(m,y,E,D)=>Pu(m,y,E,D.sizing),l1=(m,y,E,D)=>Na(m,y,E,D.sizing,D.resize),Xm=(m,y)=>at(y,E=>E.column===0&&E.isLocked),Mt=(m,y)=>at(y,E=>E.column+E.colspan>=m.grid.columns&&E.isLocked),mf=(m,y)=>{const E=Np(m),D=Il(y);return He(D,(I,q)=>{const de=E[q.column].map(Or).getOr(0);return I+de},0)},vm=m=>(y,E)=>Ki(y,E).filter(D=>!(m?Xm:Mt)(y,D)).map(D=>({details:D,pixelDelta:mf(y,D)})),Hd=(m,y)=>Lu(m,y).map(E=>({details:E,pixelDelta:-mf(m,E)})),Tc=m=>(y,E)=>Jl(y,E).filter(D=>!(m?Xm:Mt)(y,D.cells)),Qm=Cc.transform("th"),e0=Cc.transform("td"),xm=(m,y,E,D)=>Ii(ym,Ki,pe,pe,Cc.modification,m,y,E,D),ZC=(m,y,E,D)=>Ii(Hy,Ki,pe,pe,Cc.modification,m,y,E,D),t0=(m,y,E,D)=>Ii(tx,vm(!0),l1,pe,Cc.modification,m,y,E,D),Lr=(m,y,E,D)=>Ii(Gh,vm(!1),l1,pe,Cc.modification,m,y,E,D),hf=(m,y,E,D)=>Ii(Jp,Hd,l1,qh,Cc.modification,m,y,E,D),ax=(m,y,E,D)=>Ii(nx,Ki,pe,qh,Cc.modification,m,y,E,D),wm=(m,y,E,D)=>Ii(kb,Lu,pe,pe,Qm,m,y,E,D),zd=(m,y,E,D)=>Ii(Qp,Lu,pe,pe,e0,m,y,E,D),sc=(m,y,E,D)=>Ii(ld,Ki,pe,pe,Qm,m,y,E,D),n0=(m,y,E,D)=>Ii(cd,Ki,pe,pe,e0,m,y,E,D),Vy=(m,y,E,D)=>Ii(z2,Ki,pe,pe,e0,m,y,E,D),Uy=(m,y,E,D)=>Ii(Vf,Lu,pe,pe,Qm,m,y,E,D),Zy=(m,y,E,D)=>Ii(zy,Lu,pe,pe,e0,m,y,E,D),j2=(m,y,E,D)=>Ii(Db,dm,_b,pe,Cc.merging,m,y,E,D),ix=(m,y,E,D)=>Ii(ox,cb,_b,pe,Cc.merging,m,y,E,D),Ob=(m,y,E,D)=>Ii(sx,Mf,_b,pe,Cc.modification,m,y,E,D),a=(m,y,E,D)=>Ii(so,Tc(!0),pe,pe,Cc.modification,m,y,E,D),u=(m,y,E,D)=>Ii(r1,Tc(!1),pe,pe,Cc.modification,m,y,E,D),g=(m,y,E,D)=>Ii(jy,Jl,pe,pe,Cc.modification,m,y,E,D),C=(m,y,E,D)=>Ii(a1,Jl,pe,pe,Cc.modification,m,y,E,D),R=rx,$=i1,se=oa,fe=(m,y)=>{const E=y.column,D=y.column+y.colspan-1,I=y.row,q=y.row+y.rowspan-1;return E<=m.finishCol&&D>=m.startCol&&I<=m.finishRow&&q>=m.startRow},lt=(m,y)=>y.column>=m.startCol&&y.column+y.colspan-1<=m.finishCol&&y.row>=m.startRow&&y.row+y.rowspan-1<=m.finishRow,Ut=(m,y)=>{let E=!0;const D=Xe(lt,y);for(let I=y.startRow;I<=y.finishRow;I++)for(let q=y.startCol;q<=y.finishCol;q++)E=E&&ns.getAt(m,I,q).exists(D);return E?Re.some(y):Re.none()},bn=(m,y)=>Sa(Math.min(m.row,y.row),Math.min(m.column,y.column),Math.max(m.row+m.rowspan-1,y.row+y.rowspan-1),Math.max(m.column+m.colspan-1,y.column+y.colspan-1)),Dn=(m,y,E)=>{const D=ns.findItem(m,y,qs),I=ns.findItem(m,E,qs);return D.bind(q=>I.map(ne=>bn(q,ne)))},Qt=(m,y,E)=>Dn(m,y,E).bind(D=>Ut(m,D)),cn=(m,y,E,D)=>ns.findItem(m,y,qs).bind(I=>{const q=E>0?I.row+I.rowspan-1:I.row,ne=D>0?I.column+I.colspan-1:I.column;return ns.getAt(m,q+E,ne+D).map(Ee=>Ee.element)}),es=(m,y,E)=>Dn(m,y,E).map(D=>{const I=ns.filterItems(m,Xe(fe,D));return an(I,q=>q.element)}),Ns=(m,y)=>{const E=(D,I)=>Af(I,D);return ns.findItem(m,y,E).map(D=>D.element)},fi=(m,y,E)=>su(m).bind(D=>{const I=hn(D);return cn(I,m,y,E)}),et=(m,y,E)=>{const D=hn(m);return es(D,y,E)},ht=(m,y,E,D,I)=>{const q=hn(m),ne=qs(m,E)?Re.some(y):Ns(q,y),de=qs(m,I)?Re.some(D):Ns(q,D);return ne.bind(Ee=>de.bind(We=>es(q,Ee,We)))},zt=(m,y,E)=>{const D=hn(m);return Qt(D,y,E)},hn=ns.fromTable,ms={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Us=()=>An.fromTag("th"),Go=()=>An.fromTag("td"),rr=()=>An.fromTag("col"),Mr=(m,y,E,D)=>{const I=An.fromTag("tr");for(let q=0;q<m;q++){const ne=D<y||q<E?Us():Go();q<E&&si(ne,"scope","row"),D<y&&si(ne,"scope","col"),xs(ne,An.fromTag("br")),xs(I,ne)}return I},zr=m=>{const y=An.fromTag("colgroup");return Jn(m,()=>xs(y,rr())),y},gf=(m,y,E,D)=>Jn(m,I=>Mr(y,E,D,I)),Jm=(m,y,E,D,I,q=ms)=>{const ne=An.fromTag("table"),de=I!=="cells";cr(ne,q.styles),Zu(ne,q.attributes),q.colGroups&&xs(ne,zr(y));const Ee=Math.min(m,E);if(de&&E>0){const Rn=An.fromTag("thead");xs(ne,Rn);const $t=gf(E,y,I==="sectionCells"?Ee:0,D);Au(Rn,$t)}const We=An.fromTag("tbody");xs(ne,We);const gt=de?m-Ee:m,Fn=gf(gt,y,de?0:E,D);return Au(We,Fn),ne},pl=m=>{let y=[];return{bind:q=>{if(q===void 0)throw new Error("Event bind error: undefined handler");y.push(q)},unbind:q=>{y=Ne(y,ne=>ne!==q)},trigger:(...q)=>{const ne={};le(m,(de,Ee)=>{ne[de]=q[Ee]}),le(y,de=>{de(ne)})}}},o0=m=>{const y=Pe(m,D=>({bind:D.bind,unbind:D.unbind})),E=Pe(m,D=>D.trigger);return{registry:y,trigger:E}},BT=Mn(["compare","extract","mutate","sink"]),WC=Mn(["element","start","stop","destroy"]),LT=Mn(["forceDrop","drop","move","delayDrop"]),lD=()=>{let m=Re.none();const y=()=>{m=Re.none()},E=(q,ne)=>{const de=m.map(Ee=>q.compare(Ee,ne));return m=Re.some(ne),de},D=(q,ne)=>{ne.extract(q).each(Ee=>{E(ne,Ee).each(gt=>{I.trigger.move(gt)})})},I=o0({move:pl(["info"])});return{onEvent:D,reset:y,events:I.registry}},Zs=()=>{const m=o0({move:pl(["info"])});return{onEvent:pe,reset:pe,events:m.registry}},eh=()=>{const m=Zs(),y=lD();let E=m;return{on:()=>{E.reset(),E=y},off:()=>{E.reset(),E=m},isOn:()=>E===y,onEvent:(de,Ee)=>{E.onEvent(de,Ee)},events:y.events}},c1=(m,y,E)=>{let D=!1;const I=o0({start:pl([]),stop:pl([])}),q=eh(),ne=()=>{ro.stop(),q.isOn()&&(q.off(),I.trigger.stop())},de=Qs(ne,200),Ee=nn=>{ro.start(nn),q.on(),I.trigger.start()},We=nn=>{de.cancel(),q.onEvent(nn,y)};q.events.move.bind(nn=>{y.mutate(m,nn.info)});const gt=()=>{D=!0},tn=()=>{D=!1},Fn=()=>D,Rn=nn=>(...Eo)=>{D&&nn.apply(null,Eo)},ro=y.sink(LT({forceDrop:ne,drop:Rn(ne),move:Rn(We),delayDrop:Rn(de.throttle)}),E),$t=()=>{ro.destroy()};return{element:ro.element,go:Ee,on:gt,off:tn,isActive:Fn,destroy:$t,events:I.registry}},Wy=No("ephox-dragster").resolve,Ks=m=>{const y={layerClass:Wy("blocker"),...m},E=An.fromTag("div");return si(E,"role","presentation"),si(E,"data-mce-bogus","all"),cr(E,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Ed(E,Wy("blocker")),Ed(E,y.layerClass),{element:J(E),destroy:()=>{qi(E)}}};var lx=BT({compare:(m,y)=>Gr(y.left-m.left,y.top-m.top),extract:m=>Re.some(Gr(m.x,m.y)),sink:(m,y)=>{const E=Ks(y),D=nm(E.element(),"mousedown",m.forceDrop),I=nm(E.element(),"mouseup",m.drop),q=nm(E.element(),"mousemove",m.move),ne=nm(E.element(),"mouseout",m.delayDrop),de=()=>{E.destroy(),I.unbind(),q.unbind(),ne.unbind(),D.unbind()},Ee=gt=>{xs(gt,E.element())},We=()=>{qi(E.element())};return WC({element:E.element,start:Ee,stop:We,destroy:de})},mutate:(m,y)=>{m.mutate(y.left,y.top)}});const dD=(m,y={})=>{const E=y.mode??lx;return c1(m,E,y)},cx=No("ephox-snooker").resolve,mD=()=>{const m=o0({drag:pl(["xDelta","yDelta"])});return{mutate:(E,D)=>{m.trigger.drag(E,D)},events:m.registry}},ux=()=>{const m=o0({drag:pl(["xDelta","yDelta","target"])});let y=Re.none();const E=mD();return E.events.drag.bind(q=>{y.each(ne=>{m.trigger.drag(q.xDelta,q.yDelta,ne)})}),{assign:q=>{y=Re.some(q)},get:()=>y,mutate:E.mutate,events:m.registry}},PT=(m,y,E,D,I)=>{const q=An.fromTag("div");return cr(q,{position:"absolute",left:y-D/2+"px",top:E+"px",height:I+"px",width:D+"px"}),Zu(q,{"data-mce-bogus":"all","data-column":m,role:"presentation"}),q},hD=(m,y,E,D,I)=>{const q=An.fromTag("div");return cr(q,{position:"absolute",left:y+"px",top:E-I/2+"px",height:I+"px",width:D+"px"}),Zu(q,{"data-mce-bogus":"all","data-row":m,role:"presentation"}),q},V2=cx("resizer-bar"),qC=cx("resizer-rows"),GC=cx("resizer-cols"),FT=7,gD=(m,y)=>Mo(m.all,(E,D)=>y(E.element)?[D]:[]),$T=(m,y)=>{const E=[];return Jn(m.grid.columns,D=>{ns.getColumnAt(m,D).map(q=>q.element).forall(y)&&E.push(D)}),Ne(E,D=>{const I=ns.filterItems(m,q=>q.column===D);return Ho(I,q=>y(q.element))})},KC=m=>{const y=Td(m.parent(),"."+V2);le(y,qi)},IT=(m,y,E)=>{const D=m.origin();le(y,I=>{I.each(q=>{const ne=E(D,q);Ed(ne,V2),xs(m.parent(),ne)})})},fr=(m,y,E,D)=>{IT(m,y,(I,q)=>{const ne=PT(q.col,q.x-I.left,E.top-I.top,FT,D);return Ed(ne,GC),ne})},HT=(m,y,E,D)=>{IT(m,y,(I,q)=>{const ne=hD(q.row,E.left-I.left,q.y-I.top,D,FT);return Ed(ne,qC),ne})},YC=(m,y,E,D,I)=>{const q=cs(E),ne=y.isResizable,de=D.length>0?U0.positions(D,E):[],Ee=de.length>0?gD(m,ne):[],We=Ne(de,(Rn,ro)=>at(Ee,$t=>ro===$t));HT(y,We,q,Or(E));const gt=I.length>0?_a.positions(I,E):[],tn=gt.length>0?$T(m,ne):[],Fn=Ne(gt,(Rn,ro)=>at(tn,$t=>ro===$t));fr(y,Fn,q,Bm(E))},U2=(m,y)=>{if(KC(m),m.isResizable(y)){const E=ns.fromTable(y),D=Rh(E),I=Np(E);YC(E,m,y,D,I)}},s0=(m,y)=>{const E=Td(m.parent(),"."+V2);le(E,y)},XC=m=>{s0(m,y=>{$a(y,"display","none")})},pD=m=>{s0(m,y=>{$a(y,"display","block")})},zT=m=>gc(m,qC),qy=m=>gc(m,GC),jT=cx("resizer-bar-dragging"),dx=m=>{const y=ux(),E=dD(y,{});let D=Re.none();const I=($t,nn)=>Re.from(Qc($t,nn));y.events.drag.bind($t=>{I($t.target,"data-row").each(nn=>{const Eo=Pi($t.target,"top");$a($t.target,"top",Eo+$t.yDelta+"px")}),I($t.target,"data-column").each(nn=>{const Eo=Pi($t.target,"left");$a($t.target,"left",Eo+$t.xDelta+"px")})});const q=($t,nn)=>{const Eo=Pi($t,nn),Xo=$m($t,"data-initial-"+nn,0);return Eo-Xo};E.events.stop.bind(()=>{y.get().each($t=>{D.each(nn=>{I($t,"data-row").each(Eo=>{const Xo=q($t,"top");$s($t,"data-initial-top"),ro.trigger.adjustHeight(nn,Xo,parseInt(Eo,10))}),I($t,"data-column").each(Eo=>{const Xo=q($t,"left");$s($t,"data-initial-left"),ro.trigger.adjustWidth(nn,Xo,parseInt(Eo,10))}),U2(m,nn)})})});const ne=($t,nn)=>{ro.trigger.startAdjust(),y.assign($t),si($t,"data-initial-"+nn,Pi($t,nn)),Ed($t,jT),$a($t,"opacity","0.2"),E.go(m.dragContainer())},de=nm(m.parent(),"mousedown",$t=>{zT($t.target)&&ne($t.target,"top"),qy($t.target)&&ne($t.target,"left")}),Ee=$t=>qs($t,m.view()),We=$t=>ui($t,"table",Ee).filter(Nf),gt=$t=>gc($t,"ephox-snooker-resizer-bar")||gc($t,"ephox-dragster-blocker"),tn=nm(m.view(),"mouseover",$t=>{We($t.target).fold(()=>{uo($t.target)&&!gt($t.target)&&KC(m)},nn=>{E.isActive()&&(D=Re.some(nn),U2(m,nn))})}),Fn=()=>{de.unbind(),tn.unbind(),E.destroy(),KC(m)},Rn=$t=>{U2(m,$t)},ro=o0({adjustHeight:pl(["table","delta","row"]),adjustWidth:pl(["table","delta","column"]),startAdjust:pl([])});return{destroy:Fn,refresh:Rn,on:E.on,off:E.off,hideBars:Xe(XC,m),showBars:Xe(pD,m),events:ro.registry}},QC={create:(m,y,E)=>{const D=U0,I=_a,q=dx(m),ne=o0({beforeResize:pl(["table","type"]),afterResize:pl(["table","type"]),startDrag:pl([])});return q.events.adjustHeight.bind(de=>{const Ee=de.table;ne.trigger.beforeResize(Ee,"row");const We=D.delta(de.delta,Ee);Nr(Ee,We,de.row),ne.trigger.afterResize(Ee,"row")}),q.events.startAdjust.bind(de=>{ne.trigger.startDrag()}),q.events.adjustWidth.bind(de=>{const Ee=de.table;ne.trigger.beforeResize(Ee,"col");const We=I.delta(de.delta,Ee),gt=E(Ee);xr(Ee,We,de.column,y,gt),ne.trigger.afterResize(Ee,"col")}),{on:q.on,off:q.off,refreshBars:q.refresh,hideBars:q.hideBars,showBars:q.showBars,destroy:q.destroy,events:ne.registry}}},u1=m=>y=>y.options.get(m),VT="100%",UT=m=>{const y=m.dom,E=y.getParent(m.selection.getStart(),y.isBlock)??m.getBody();return Wa(An.fromDom(E))+"px"},ZT=(m,y)=>hx(m)||!JC(m)?y:Ug(m)?{...y,width:UT(m)}:{...y,width:VT},WT=(m,y)=>hx(m)||JC(m)?y:Ug(m)?{...y,width:UT(m)}:{...y,width:VT},EB=m=>{const y=m.options.register;y("table_clone_elements",{processor:"string[]"}),y("table_use_colgroups",{processor:"boolean",default:!0}),y("table_header_type",{processor:E=>{const D=jt(["section","cells","sectionCells","auto"],E);return D?{value:E,valid:D}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),y("table_sizing_mode",{processor:"string",default:"auto"}),y("table_default_attributes",{processor:"object",default:{border:"1"}}),y("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),y("table_column_resizing",{processor:E=>{const D=jt(["preservetable","resizetable"],E);return D?{value:E,valid:D}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),y("table_resize_bars",{processor:"boolean",default:!0}),y("table_style_by_css",{processor:"boolean",default:!0}),y("table_merge_content_on_paste",{processor:"boolean",default:!0})},qT=m=>Re.from(m.options.get("table_clone_elements")),Z2=m=>{const y=m.options.get("object_resizing");return jt(y.split(","),"table")},W2=u1("table_header_type"),mx=u1("table_column_resizing"),q2=m=>mx(m)==="preservetable",G2=m=>mx(m)==="resizetable",jn=u1("table_sizing_mode"),d1=m=>jn(m)==="relative",Ug=m=>jn(m)==="fixed",hx=m=>jn(m)==="responsive",GT=u1("table_resize_bars"),JC=u1("table_style_by_css"),eS=u1("table_merge_content_on_paste"),KT=m=>{const y=m.options,E=y.get("table_default_attributes");return y.isSet("table_default_attributes")?E:WT(m,E)},YT=m=>{const y=m.options,E=y.get("table_default_styles");return y.isSet("table_default_styles")?E:ZT(m,E)},XT=u1("table_use_colgroups"),K2=m=>An.fromDom(m.getBody()),bl=m=>y=>qs(y,K2(m)),th=m=>{$s(m,"data-mce-style");const y=E=>$s(E,"data-mce-style");le(af(m),y),le(J1(m),y),le(H0(m),y)},Y2=m=>An.fromDom(m.selection.getStart()),QT=m=>m.getBoundingClientRect().width,JT=m=>m.getBoundingClientRect().height,eA=m=>(y,E)=>{const D=y.dom.getStyle(E,m)||y.dom.getAttrib(E,m);return Re.from(D).filter(us)},X2=eA("width"),tS=eA("height"),tA=m=>/^(\d+(\.\d+)?)%$/.test(m),nA=m=>/^(\d+(\.\d+)?)px$/.test(m),gx=m=>$0(m,Kc("table")).exists(Nf),nS=m=>fl(m,"table"),Q2=(m,y,E)=>{const D=I=>q=>E!==void 0&&E(q)||qs(q,I);return qs(m,y)?Re.some({boxes:Re.some([m]),start:m,finish:y}):nS(m).bind(I=>nS(y).bind(q=>{if(qs(I,q))return Re.some({boxes:et(I,m,y),start:m,finish:y});if(Af(I,q)){const ne=ur(y,"td,th",D(I)),de=ne.length>0?ne[ne.length-1]:y;return Re.some({boxes:ht(I,m,I,y,q),start:m,finish:de})}else if(Af(q,I)){const ne=ur(m,"td,th",D(q)),de=ne.length>0?ne[ne.length-1]:m;return Re.some({boxes:ht(q,m,I,y,q),start:m,finish:de})}else return rd(m,y).shared.bind(ne=>ui(ne,"table",E).bind(de=>{const Ee=ur(y,"td,th",D(de)),We=Ee.length>0?Ee[Ee.length-1]:y,gt=ur(m,"td,th",D(de)),tn=gt.length>0?gt[gt.length-1]:m;return Re.some({boxes:ht(de,m,I,y,q),start:tn,finish:We})}))}))},oS=(m,y)=>{const E=Td(m,y);return E.length>0?Re.some(E):Re.none()},bD=(m,y)=>X(m,E=>Ui(E,y)),oA=(m,y,E)=>Sd(m,y).bind(D=>Sd(m,E).bind(I=>Dr(nS,[D,I]).map(q=>({first:D,last:I,table:q})))),sA=(m,y)=>fl(m,"table").bind(E=>Sd(E,y).bind(D=>Q2(D,m).bind(I=>I.boxes.map(q=>({boxes:q,start:I.start,finish:I.finish}))))),J2=(m,y,E,D,I)=>bD(m,I).bind(q=>fi(q,y,E).bind(ne=>sA(ne,D))),Nb=(m,y)=>oS(m,y),rA=(m,y,E)=>oA(m,y,E).bind(D=>{const I=Ee=>qs(m,Ee),q="thead,tfoot,tbody,table",ne=fl(D.first,q,I),de=fl(D.last,q,I);return ne.bind(Ee=>de.bind(We=>qs(Ee,We)?zt(D.table,D.first,D.last):Re.none()))}),aA=vt,ew=m=>{const y=(D,I)=>cl(D,I).exists(q=>parseInt(q,10)>1),E=D=>y(D,"rowspan")||y(D,"colspan");return m.length>0&&Ho(m,E)?Re.some(m):Re.none()},yD=(m,y,E)=>y.length<=1?Re.none():rA(m,E.firstSelectedSelector,E.lastSelectedSelector).map(D=>({bounds:D,cells:y})),Rb={create:(m,y)=>({selection:m,kill:y})},sS=(m,y,E,D)=>{switch(m.tag){case"none":return y();case"single":return D(m.element);case"multiple":return E(m.elements)}},xD=()=>({tag:"none"}),wD=m=>({tag:"multiple",elements:m}),iA=m=>({tag:"single",element:m}),CD=(m,y,E)=>({get:()=>Nb(m(),E).fold(()=>y().fold(xD,iA),wD)}),tw={create:(m,y,E,D)=>({start:aa.on(m,y),finish:aa.on(E,D)})},aS=(m,y)=>{const E=mn(m,y);return sf.create(An.fromDom(E.startContainer),E.startOffset,An.fromDom(E.endContainer),E.endOffset)},Zg=tw.create,lA=(m,y,E,D,I,q,ne)=>qs(E,I)&&D===q?Re.none():ui(E,"td,th",y).bind(de=>ui(I,"td,th",y).bind(Ee=>nw(m,y,de,Ee,ne))),nw=(m,y,E,D,I)=>qs(E,D)?Re.none():Q2(E,D,y).bind(q=>{const ne=q.boxes.getOr([]);return ne.length>1?(I(m,ne,q.start,q.finish),Re.some(Rb.create(Re.some(Zg(E,0,E,Ad(E))),!0))):Re.none()}),SD=(m,y,E,D,I)=>{const q=ne=>(I.clearBeforeUpdate(E),I.selectRange(E,ne.boxes,ne.start,ne.finish),ne.boxes);return J2(D,m,y,I.firstSelectedSelector,I.lastSelectedSelector).map(q)},f1=Xs.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),ED=(m,y,E)=>{const D=m.getRect(y),I=m.getRect(E);return I.right>D.left&&I.left<D.right},TD=m=>ui(m,"tr"),Gy={...f1,verify:(m,y,E,D,I,q,ne)=>ui(D,"td,th",ne).bind(de=>ui(y,"td,th",ne).map(Ee=>qs(de,Ee)?qs(D,de)&&Ad(de)===I?q(Ee):f1.none("in same cell"):Dr(TD,[de,Ee]).fold(()=>ED(m,Ee,de)?f1.success():q(Ee),We=>q(Ee)))).getOr(f1.none("default")),cata:(m,y,E,D,I)=>m.fold(y,E,D,I)},px=Kc("br"),iS=(m,y,E)=>y(m,E).bind(D=>em(D)&&_f(D).trim().length===0?iS(D,y,E):Re.some(D)),AD=(m,y,E)=>E.traverse(y).orThunk(()=>iS(y,E.gather,m)).map(E.relative),kD=(m,y)=>Oc(m,y).filter(px).orThunk(()=>Oc(m,y-1).filter(px)),ow=(m,y,E,D)=>kD(y,E).bind(I=>D.traverse(I).fold(()=>iS(I,D.gather,m).map(D.relative),q=>nu(q).map(ne=>aa.on(ne.parent,ne.index)))),cA=(m,y,E,D)=>(px(y)?AD(m,y,D):ow(m,y,E,D)).map(q=>({start:q,finish:q})),uA=m=>Gy.cata(m,y=>Re.none(),()=>Re.none(),y=>Re.some(If(y,0)),y=>Re.some(If(y,Ad(y)))),bx=(m,y)=>({left:m.left,top:m.top+y,right:m.right,bottom:m.bottom+y}),sw=(m,y)=>({left:m.left,top:m.top-y,right:m.right,bottom:m.bottom-y}),lS=(m,y,E)=>({left:m.left+y,top:m.top+E,right:m.right+y,bottom:m.bottom+E}),yx=m=>m.top,cS=m=>m.bottom,DD=(m,y,E)=>E>=0&&E<Ad(y)?m.getRangedRect(y,E,y,E+1):E>0?m.getRangedRect(y,E-1,y,E):Re.none(),vx=m=>({left:m.left,top:m.top,right:m.right,bottom:m.bottom}),dA=(m,y)=>Re.some(m.getRect(y)),rw=(m,y,E)=>Ua(y)?dA(m,y).map(vx):em(y)?DD(m,y,E).map(vx):Re.none(),aw=(m,y)=>Ua(y)?dA(m,y).map(vx):em(y)?m.getRangedRect(y,0,y,Ad(y)).map(vx):Re.none(),Mb=5,_D=100,Wg=Xs.generate([{none:[]},{retry:["caret"]}]),OD=(m,y)=>m.left<y.left||Math.abs(y.right-m.left)<1||m.left>y.right,fA=(m,y,E)=>$0(y,pm).fold(fn,D=>aw(m,D).exists(I=>OD(E,I))),ND=(m,y,E,D,I)=>{const q=bx(I,Mb);return Math.abs(E.bottom-D.bottom)<1||E.top>I.bottom?Wg.retry(q):E.top===I.bottom?Wg.retry(bx(I,1)):fA(m,y,I)?Wg.retry(lS(q,Mb,0)):Wg.none()},iw={point:yx,adjuster:(m,y,E,D,I)=>{const q=sw(I,Mb);return Math.abs(E.top-D.top)<1||E.bottom<I.top?Wg.retry(q):E.bottom===I.top?Wg.retry(sw(I,1)):fA(m,y,I)?Wg.retry(lS(q,Mb,0)):Wg.none()},move:sw,gather:$2},RD={point:cS,adjuster:ND,move:bx,gather:Fd},MD=(m,y,E)=>m.elementFromPoint(y,E).filter(D=>Aa(D)==="table").isSome(),BD=(m,y,E,D,I)=>uS(m,y,E,y.move(D,Mb),I),uS=(m,y,E,D,I)=>I===0?Re.some(D):MD(m,D.left,y.point(D))?BD(m,y,E,D,I-1):m.situsFromPoint(D.left,y.point(D)).bind(q=>q.start.fold(Re.none,ne=>aw(m,ne).bind(de=>y.adjuster(m,ne,de,E,D).fold(Re.none,Ee=>uS(m,y,E,Ee,I-1))).orThunk(()=>Re.some(D)),Re.none)),LD=(m,y,E)=>m.point(y)>E.getInnerHeight()?Re.some(m.point(y)-E.getInnerHeight()):m.point(y)<0?Re.some(-m.point(y)):Re.none(),mA=(m,y,E)=>{const D=m.move(E,Mb),I=uS(y,m,E,D,_D).getOr(D);return LD(m,I,y).fold(()=>y.situsFromPoint(I.left,m.point(I)),q=>(y.scrollBy(0,q),y.situsFromPoint(I.left,m.point(I)-q)))},dS={tryUp:Xe(mA,iw),tryDown:Xe(mA,RD),getJumpSize:J(Mb)},PD=20,FD=(m,y,E)=>m.getSelection().bind(D=>cA(y,D.finish,D.foffset,E).fold(()=>Re.some(If(D.finish,D.foffset)),I=>{const q=m.fromSitus(I),ne=Gy.verify(m,D.finish,D.foffset,q.finish,q.foffset,E.failure,y);return uA(ne)})),fS=(m,y,E,D,I,q)=>q===0?Re.none():xx(m,y,E,D,I).bind(ne=>{const de=m.fromSitus(ne),Ee=Gy.verify(m,E,D,de.finish,de.foffset,I.failure,y);return Gy.cata(Ee,()=>Re.none(),()=>Re.some(ne),We=>qs(E,We)&&D===0?hA(m,E,D,sw,I):fS(m,y,We,0,I,q-1),We=>qs(E,We)&&D===Ad(We)?hA(m,E,D,bx,I):fS(m,y,We,Ad(We),I,q-1))}),hA=(m,y,E,D,I)=>rw(m,y,E).bind(q=>lo(m,I,D(q,dS.getJumpSize()))),lo=(m,y,E)=>{const D=ll().browser;return D.isChromium()||D.isSafari()||D.isFirefox()?y.retry(m,E):Re.none()},xx=(m,y,E,D,I)=>rw(m,E,D).bind(q=>lo(m,I,q)),gA=(m,y,E)=>FD(m,y,E).bind(D=>fS(m,y,D.element,D.offset,E,PD).map(m.fromSitus)),$D=(m,y)=>kg(m,E=>_e(E).exists(D=>qs(D,y))),mS=(m,y,E,D,I)=>ui(D,"td,th",y).bind(q=>ui(q,"table",y).bind(ne=>$D(I,ne)?gA(m,y,E).bind(de=>ui(de.finish,"td,th",y).map(Ee=>({start:q,finish:Ee,range:de}))):Re.none())),wx=(m,y,E,D,I,q)=>q(D,y).orThunk(()=>mS(m,y,E,D,I).map(ne=>{const de=ne.range;return Rb.create(Re.some(Zg(de.start,de.soffset,de.finish,de.foffset)),!0)})),lw=(m,y)=>ui(m,"tr",y).bind(E=>ui(E,"table",y).bind(D=>{const I=Td(D,"tr");return qs(E,I[0])?Sc(D,q=>Da(q).isSome(),y).map(q=>{const ne=Ad(q);return Rb.create(Re.some(Zg(q,ne,q,ne)),!0)}):Re.none()})),Cx=(m,y)=>ui(m,"tr",y).bind(E=>ui(E,"table",y).bind(D=>{const I=Td(D,"tr");return qs(E,I[I.length-1])?$d(D,q=>kh(q).isSome(),y).map(q=>Rb.create(Re.some(Zg(q,0,q,0)),!0)):Re.none()})),Ky=(m,y,E,D,I,q,ne)=>mS(m,E,D,I,q).bind(de=>nw(y,E,de.start,de.finish,ne)),hS=(m,y)=>ui(m,"td,th",y),gS=m=>Yc(m).exists(Nf),pA=(m,y,E,D)=>{const I=tr(),q=I.clear,ne=gt=>{I.on(tn=>{D.clearBeforeUpdate(y),hS(gt.target,E).each(Fn=>{Q2(tn,Fn,E).each(Rn=>{const ro=Rn.boxes.getOr([]);if(ro.length===1){const $t=ro[0],nn=rm($t)==="false",Eo=Qn(Ah(gt.target),$t,qs);nn&&Eo&&D.selectRange(y,ro,$t,$t)}else ro.length>1&&(D.selectRange(y,ro,Rn.start,Rn.finish),m.selectContents(Fn))})})})};return{clearstate:q,mousedown:gt=>{D.clear(y),hS(gt.target,E).filter(gS).each(I.set)},mouseover:gt=>{ne(gt)},mouseup:gt=>{ne(gt),q()}}},pS={traverse:wh,gather:Fd,relative:aa.before,retry:dS.tryDown,failure:Gy.failedDown},bA={traverse:xh,gather:$2,relative:aa.before,retry:dS.tryUp,failure:Gy.failedUp},Yy=m=>y=>y===m,r0=Yy(38),Xy=Yy(40),a0=m=>m>=37&&m<=40,i0={isBackward:Yy(37),isForward:Yy(39)},yA={isBackward:Yy(39),isForward:Yy(37)},Sx=m=>({elementFromPoint:(nn,Eo)=>An.fromPoint(An.fromDom(m.document),nn,Eo),getRect:nn=>nn.dom.getBoundingClientRect(),getRangedRect:(nn,Eo,Xo,Kn)=>{const Sr=j.exact(nn,Eo,Xo,Kn);return Dh(m,Sr)},getSelection:()=>Fm(m).map(nn=>aS(m,nn)),fromSitus:nn=>{const Eo=j.relative(nn.start,nn.finish);return aS(m,Eo)},situsFromPoint:(nn,Eo)=>Nu(m,nn,Eo).map(Xo=>tw.create(Xo.start,Xo.soffset,Xo.finish,Xo.foffset)),clearSelection:()=>{_h(m)},collapseSelection:(nn=!1)=>{Fm(m).each(Eo=>Eo.fold(Xo=>Xo.collapse(nn),(Xo,Kn)=>{const Sr=nn?Xo:Kn;rf(m,Sr,Sr)},(Xo,Kn,Sr,Er)=>{const Wo=nn?Xo:Sr,el=nn?Kn:Er;Yu(m,Wo,el,Wo,el)}))},setSelection:nn=>{Yu(m,nn.start,nn.soffset,nn.finish,nn.foffset)},setRelativeSelection:(nn,Eo)=>{rf(m,nn,Eo)},selectNode:nn=>{am(m,nn,!1)},selectContents:nn=>{am(m,nn)},getInnerHeight:()=>m.innerHeight,getScrollY:()=>ws(An.fromDom(m.document)).top,scrollBy:(nn,Eo)=>{Gl(nn,Eo,An.fromDom(m.document))}}),nh=(m,y)=>({rows:m,cols:y}),vA=(m,y,E,D)=>{const I=Sx(m),q=pA(I,y,E,D);return{clearstate:q.clearstate,mousedown:q.mousedown,mouseover:q.mouseover,mouseup:q.mouseup}},xA=m=>$0(m,Z1).exists(Nf),bS=(m,y)=>xA(m)||xA(y),yS=(m,y,E,D)=>{const I=Sx(m),q=()=>(D.clear(y),Re.none());return{keydown:(Ee,We,gt,tn,Fn,Rn)=>{const ro=Ee.raw,$t=ro.which,nn=ro.shiftKey===!0;return oS(y,D.selectedSelector).fold(()=>(a0($t)&&!nn&&D.clearBeforeUpdate(y),a0($t)&&nn&&!bS(We,tn)?Re.none:Xy($t)&&nn?Xe(Ky,I,y,E,pS,tn,We,D.selectRange):r0($t)&&nn?Xe(Ky,I,y,E,bA,tn,We,D.selectRange):Xy($t)?Xe(wx,I,E,pS,tn,We,Cx):r0($t)?Xe(wx,I,E,bA,tn,We,lw):Re.none),Xo=>{const Kn=Sr=>()=>Nt(Sr,Wo=>SD(Wo.rows,Wo.cols,y,Xo,D)).fold(()=>oA(y,D.firstSelectedSelector,D.lastSelectedSelector).map(Wo=>{const el=Xy($t)||Rn.isForward($t)?aa.after:aa.before;return I.setRelativeSelection(aa.on(Wo.first,0),el(Wo.table)),D.clear(y),Rb.create(Re.none(),!0)}),Wo=>Re.some(Rb.create(Re.none(),!0)));return a0($t)&&nn&&!bS(We,tn)?Re.none:Xy($t)&&nn?Kn([nh(1,0)]):r0($t)&&nn?Kn([nh(-1,0)]):Rn.isBackward($t)&&nn?Kn([nh(0,-1),nh(-1,0)]):Rn.isForward($t)&&nn?Kn([nh(0,1),nh(1,0)]):a0($t)&&!nn?q:Re.none})()},keyup:(Ee,We,gt,tn,Fn)=>oS(y,D.selectedSelector).fold(()=>{const Rn=Ee.raw,ro=Rn.which;return Rn.shiftKey===!0&&a0(ro)&&bS(We,tn)?lA(y,E,We,gt,tn,Fn,D.selectRange):Re.none()},Re.none)}},wA=(m,y,E,D)=>{const I=Sx(m);return(q,ne)=>{D.clearBeforeUpdate(y),Q2(q,ne,E).each(de=>{const Ee=de.boxes.getOr([]);D.selectRange(y,Ee,de.start,de.finish),I.selectContents(ne),I.collapseSelection()})}},SA={byClass:m=>{const y=Tg(m.selected),E=Ag([m.selected,m.lastSelected,m.firstSelected]),D=q=>{const ne=Td(q,m.selectedSelector);le(ne,E)};return{clearBeforeUpdate:D,clear:D,selectRange:(q,ne,de,Ee)=>{D(q),le(ne,y),Ed(de,m.firstSelected),Ed(Ee,m.lastSelected)},selectedSelector:m.selectedSelector,firstSelectedSelector:m.firstSelectedSelector,lastSelectedSelector:m.lastSelectedSelector}},byAttr:(m,y,E)=>{const D=Ee=>{$s(Ee,m.selected),$s(Ee,m.firstSelected),$s(Ee,m.lastSelected)},I=Ee=>{si(Ee,m.selected,"1")},q=Ee=>{ne(Ee),E()},ne=Ee=>{const We=Td(Ee,`${m.selectedSelector},${m.firstSelectedSelector},${m.lastSelectedSelector}`);le(We,D)};return{clearBeforeUpdate:ne,clear:q,selectRange:(Ee,We,gt,tn)=>{q(Ee),le(We,I),si(gt,m.firstSelected,"1"),si(tn,m.lastSelected,"1"),y(We,gt,tn)},selectedSelector:m.selectedSelector,firstSelectedSelector:m.firstSelectedSelector,lastSelectedSelector:m.lastSelectedSelector}}},Bb="data-mce-selected",vS="td["+Bb+"],th["+Bb+"]",EA="["+Bb+"]",xS="data-mce-first-selected",wS="td["+xS+"],th["+xS+"]",CS="data-mce-last-selected",HD="td["+CS+"],th["+CS+"]",Lb=EA,Pb={selected:Bb,selectedSelector:vS,firstSelected:xS,firstSelectedSelector:wS,lastSelected:CS,lastSelectedSelector:HD},cw=(m,y,E)=>({element:E,mergable:yD(y,m,Pb),unmergable:ew(m),selection:aA(m)}),uw=(m,y,E)=>({element:m,clipboard:y,generators:E}),TA=(m,y,E,D)=>({selection:aA(m),clipboard:E,generators:D}),zD=m=>su(m).bind(y=>Nb(y,Pb.firstSelectedSelector)).fold(J(m),y=>y[0]),AA=m=>(y,E)=>{const D=Aa(y),I=D==="col"||D==="colgroup"?zD(y):y;return ui(I,m,E)},jo=AA("th,td,caption"),dw=AA("th,td"),Uf=m=>ra(m.model.table.getSelectedCells()),Ex=m=>Ne(Uf(m),y=>Ui(y,Pb.selectedSelector)),jD=m=>su(m[0]).map(y=>{const E=Ip(y,Lb);return th(E),[E]}),fw=(m,y)=>an(y,E=>m.selection.serializer.serialize(E.dom,{})).join(""),VD=(m,y)=>{const E=m.getDoc(),D=vp(An.fromDom(m.getBody())),I=An.fromTag("div",E);si(I,"data-mce-bogus","all"),cr(I,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const q=Tu(D);Au(I,y),xs(q,I);const ne=I.dom.innerText;return qi(I),ne},SS=(m,y)=>{m.on("BeforeGetContent",E=>{const D=I=>{E.preventDefault(),jD(I).each(q=>{const ne=E.format==="text"?VD(m,q):fw(m,q);E.content=ne})};if(E.selection===!0){const I=Ex(m);I.length>=1&&D(I)}}),m.on("BeforeSetContent",E=>{if(E.selection===!0&&E.paste===!0){const D=Uf(m);Le(D).each(I=>{su(I).each(q=>{const ne=Ne(wp(E.content),Ee=>Aa(Ee)!=="meta"),de=Kc("table");if(eS(m)&&ne.length===1&&de(ne[0])){E.preventDefault();const Ee=An.fromDom(m.getDoc()),We=qv(Ee),gt=uw(I,ne[0],We);y.pasteCells(q,gt).each(()=>{m.focus()})}})})}})},ES=(m,y)=>m.dispatch("NewRow",{node:y}),Tx=(m,y)=>m.dispatch("NewCell",{node:y}),Kh=(m,y,E)=>{m.dispatch("TableModified",{...E,table:y})},Qy=(m,y,E,D,I)=>{m.dispatch("TableSelectionChange",{cells:y,start:E,finish:D,otherCells:I})},UD=m=>{m.dispatch("TableSelectionClear")},Fb=(m,y,E,D,I)=>{m.dispatch("ObjectResizeStart",{target:y,width:E,height:D,origin:I})},Ax=(m,y,E,D,I)=>{m.dispatch("ObjectResized",{target:y,width:E,height:D,origin:I})},mw={structure:!1,style:!0},Hl={structure:!0,style:!1},ZD={structure:!0,style:!0},TS=(m,y)=>d1(m)?hl.percentageSize(y):Ug(m)?hl.pixelSize(y):hl.getTableSize(y),m1=(m,y,E)=>{const D=$c=>Aa(K2($c))==="table",I=$c=>!D(m)||t1($c).rows>1,q=$c=>!D(m)||t1($c).columns>1,ne=qT(m),de=G2(m)?pe:Ff,Ee=$c=>{switch(W2(m)){case"section":return lm.section();case"sectionCells":return lm.sectionCells();case"cells":return lm.cells();default:return lm.getTableSectionType($c,"section")}},We=($c,ww)=>ww.cursor.fold(()=>{const Ox=af($c);return Le(Ox).filter(uo).map(c0=>{E.clearSelectedCells($c.dom);const Iu=m.dom.createRng();return Iu.selectNode(c0.dom),m.selection.setRng(Iu),si(c0,"data-mce-selected","1"),Iu})},Ox=>{const c0=df(Ox),Iu=m.dom.createRng();return Iu.setStart(c0.element.dom,c0.offset),Iu.setEnd(c0.element.dom,c0.offset),m.selection.setRng(Iu),E.clearSelectedCells($c.dom),Re.some(Iu)}),gt=($c,ww,Ox,c0)=>(Iu,XD,MA=!1)=>{th(Iu);const eo=An.fromDom(m.getDoc()),jd=Gm(Ox,eo,ne),QD={sizing:TS(m,Iu),resize:G2(m)?Tp():S2(),section:Ee(Iu)};return ww(Iu)?$c(Iu,XD,jd,QD).bind(Cw=>{y.refresh(Iu.dom),le(Cw.newRows,Ib=>{ES(m,Ib.dom)}),le(Cw.newCells,Ib=>{Tx(m,Ib.dom)});const BA=We(Iu,Cw);return uo(Iu)&&(th(Iu),MA||Kh(m,Iu.dom,c0)),BA.map(Ib=>({rng:Ib,effect:c0}))}):Re.none()},tn=gt(ax,I,pe,Hl),Fn=gt(hf,q,pe,Hl),Rn=gt(xm,qe,pe,Hl),ro=gt(ZC,qe,pe,Hl),$t=gt(t0,qe,de,Hl),nn=gt(Lr,qe,de,Hl),Eo=gt(j2,qe,pe,Hl),Xo=gt(ix,qe,pe,Hl),Kn=gt(a,qe,pe,Hl),Sr=gt(u,qe,pe,Hl),Er=gt(g,qe,pe,Hl),Wo=gt(C,qe,pe,Hl),el=gt(Ob,qe,pe,ZD),Cm=gt(Uy,qe,pe,Hl),l0=gt(Zy,qe,pe,Hl),p1=gt(wm,qe,pe,Hl),$b=gt(zd,qe,pe,Hl),jr=gt(sc,qe,pe,Hl),ud=gt(n0,qe,pe,Hl),wi=gt(Vy,qe,pe,Hl);return{deleteRow:tn,deleteColumn:Fn,insertRowsBefore:Rn,insertRowsAfter:ro,insertColumnsBefore:$t,insertColumnsAfter:nn,mergeCells:Eo,unmergeCells:Xo,pasteColsBefore:Kn,pasteColsAfter:Sr,pasteRowsBefore:Er,pasteRowsAfter:Wo,pasteCells:el,makeCellsHeader:Cm,unmakeCellsHeader:l0,makeColumnsHeader:p1,unmakeColumnsHeader:$b,makeRowsHeader:jr,makeRowsBody:ud,makeRowsFooter:wi,getTableRowType:se,getTableCellType:$,getTableColType:R}},qg=(m,y)=>{m.selection.select(y.dom,!0),m.selection.collapse(!0)},AS=(m,y)=>{Sd(y,"td,th").each(Xe(qg,m))},kA=(m,y)=>{le(Td(y,"tr"),E=>{ES(m,E.dom),le(Td(E,"th,td"),D=>{Tx(m,D.dom)})})},WD=m=>O(m)&&m.indexOf("%")!==-1,hw=(m,y,E,D,I)=>{const q=YT(m),ne={styles:q,attributes:KT(m),colGroups:XT(m)};return m.undoManager.ignore(()=>{const de=Jm(E,y,I,D,W2(m),ne);si(de,"data-mce-id","__mce");const Ee=Eh(de);m.insertContent(Ee),m.addVisual()}),Sd(K2(m),'table[data-mce-id="__mce"]').map(de=>(Ug(m)?Qa(de):hx(m)?Qi(de):(d1(m)||WD(q.width))&&Ig(de),th(de),$s(de,"data-mce-id"),kA(m,de),AS(m,de),de.dom)).getOrNull()},kx=(m,y,E,D={})=>{const I=q=>$e(q)&&q>0;if(I(y)&&I(E)){const q=D.headerRows||0,ne=D.headerColumns||0;return hw(m,E,y,ne,q)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var h1=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const gw="x-tinymce/dom-table-",pw=gw+"rows",g1=gw+"columns",Dx=m=>{const y=h1.FakeClipboardItem(m);h1.write([y])},kS=m=>{const y=h1.read()??[];return Nt(y,E=>Re.from(E.getType(m)))},bw=m=>{kS(m).isSome()&&h1.clear()},Yh=m=>{m.fold(Gg,y=>Dx({[pw]:y}))},DA=()=>kS(pw),Gg=()=>bw(pw),DS=m=>{m.fold(Jy,y=>Dx({[g1]:y}))},yw=()=>kS(g1),Jy=()=>bw(g1),_x=m=>jo(Y2(m),bl(m)).filter(gx),vw=m=>dw(Y2(m),bl(m)).filter(gx),qD=(m,y)=>{const E=bl(m),D=()=>_x(m).each(nn=>{su(nn,E).filter(ie(E)).each(Eo=>{const Xo=An.fromText("");if(xd(Eo,Xo),qi(Eo),m.dom.isEmpty(m.getBody()))m.setContent(""),m.selection.setCursorLocation();else{const Kn=m.dom.createRng();Kn.setStart(Xo.dom,0),Kn.setEnd(Xo.dom,0),m.selection.setRng(Kn),m.nodeChanged()}})}),I=nn=>_x(m).each(Eo=>{hx(m)||Ug(m)||d1(m)||su(Eo,E).each(Kn=>{nn==="relative"&&!gb(Kn)?Ig(Kn):nn==="fixed"&&!L2(Kn)?Qa(Kn):nn==="responsive"&&!P2(Kn)&&Qi(Kn),th(Kn),Kh(m,Kn.dom,Hl)})}),q=nn=>su(nn,E),ne=nn=>vw(m).bind(Eo=>q(Eo).map(Xo=>nn(Xo,Eo))),de=(nn,Eo)=>{ne(Xo=>{m.formatter.toggle("tableclass",{value:Eo},Xo.dom),Kh(m,Xo.dom,mw)})},Ee=(nn,Eo)=>{ne(Xo=>{const Kn=Uf(m),Er=Ho(Kn,Wo=>m.formatter.match("tablecellclass",{value:Eo},Wo.dom))?m.formatter.remove:m.formatter.apply;le(Kn,Wo=>Er("tablecellclass",{value:Eo},Wo.dom)),Kh(m,Xo.dom,mw)})},We=()=>{_x(m).each(nn=>{su(nn,E).each(Eo=>{ka(Eo,"caption").fold(()=>{const Xo=An.fromTag("caption");xs(Xo,An.fromText("Caption")),F0(Eo,Xo,0),m.selection.setCursorLocation(Xo.dom,0)},Xo=>{Kc("caption")(nn)&&fc("td",Eo).each(Kn=>m.selection.setCursorLocation(Kn.dom,0)),qi(Xo)}),Kh(m,Eo.dom,Hl)})})},gt=nn=>{m.focus()},tn=(nn,Eo=!1)=>ne((Xo,Kn)=>{const Sr=cw(Uf(m),Xo,Kn);nn(Xo,Sr,Eo).each(gt)}),Fn=()=>ne((nn,Eo)=>{const Xo=cw(Uf(m),nn,Eo),Kn=Gm(pe,An.fromDom(m.getDoc()),Re.none());return wc(nn,Xo,Kn)}),Rn=()=>ne((nn,Eo)=>{const Xo=cw(Uf(m),nn,Eo);return Lc(nn,Xo)}),ro=(nn,Eo)=>Eo().each(Xo=>{const Kn=an(Xo,Sr=>ri(Sr));ne((Sr,Er)=>{const Wo=qv(An.fromDom(m.getDoc())),el=TA(Uf(m),Er,Kn,Wo);nn(Sr,el).each(gt)})}),$t=nn=>(Eo,Xo)=>mr(Xo,"type").each(Kn=>{tn(nn(Kn),Xo.no_events)});Dt({mceTableSplitCells:()=>tn(y.unmergeCells),mceTableMergeCells:()=>tn(y.mergeCells),mceTableInsertRowBefore:()=>tn(y.insertRowsBefore),mceTableInsertRowAfter:()=>tn(y.insertRowsAfter),mceTableInsertColBefore:()=>tn(y.insertColumnsBefore),mceTableInsertColAfter:()=>tn(y.insertColumnsAfter),mceTableDeleteCol:()=>tn(y.deleteColumn),mceTableDeleteRow:()=>tn(y.deleteRow),mceTableCutCol:()=>Rn().each(nn=>{DS(nn),tn(y.deleteColumn)}),mceTableCutRow:()=>Fn().each(nn=>{Yh(nn),tn(y.deleteRow)}),mceTableCopyCol:()=>Rn().each(nn=>DS(nn)),mceTableCopyRow:()=>Fn().each(nn=>Yh(nn)),mceTablePasteColBefore:()=>ro(y.pasteColsBefore,yw),mceTablePasteColAfter:()=>ro(y.pasteColsAfter,yw),mceTablePasteRowBefore:()=>ro(y.pasteRowsBefore,DA),mceTablePasteRowAfter:()=>ro(y.pasteRowsAfter,DA),mceTableDelete:D,mceTableCellToggleClass:Ee,mceTableToggleClass:de,mceTableToggleCaption:We,mceTableSizingMode:(nn,Eo)=>I(Eo),mceTableCellType:$t(nn=>nn==="th"?y.makeCellsHeader:y.unmakeCellsHeader),mceTableColType:$t(nn=>nn==="th"?y.makeColumnsHeader:y.unmakeColumnsHeader),mceTableRowType:$t(nn=>{switch(nn){case"header":return y.makeRowsHeader;case"footer":return y.makeRowsFooter;default:return y.makeRowsBody}})},(nn,Eo)=>m.addCommand(Eo,nn)),m.addCommand("mceInsertTable",(nn,Eo)=>{kx(m,Eo.rows,Eo.columns,Eo.options)}),m.addCommand("mceTableApplyCellStyle",(nn,Eo)=>{const Xo=Er=>"tablecell"+Er.toLowerCase().replace("-","");if(!z(Eo))return;const Kn=Ne(Uf(m),gx);if(Kn.length===0)return;const Sr=Yo(Eo,(Er,Wo)=>m.formatter.has(Xo(Wo))&&O(Er));Vs(Sr)||(Dt(Sr,(Er,Wo)=>{const el=Xo(Wo);le(Kn,Cm=>{Er===""?m.formatter.remove(el,{value:null},Cm.dom,!0):m.formatter.apply(el,{value:Er},Cm.dom)})}),q(Kn[0]).each(Er=>Kh(m,Er.dom,mw)))})},_A=(m,y)=>{const E=bl(m),D=I=>dw(Y2(m)).bind(q=>su(q,E).map(ne=>{const de=cw(Uf(m),ne,q);return I(ne,de)})).getOr("");Dt({mceTableRowType:()=>D(y.getTableRowType),mceTableCellType:()=>D(y.getTableCellType),mceTableColType:()=>D(y.getTableColType)},(I,q)=>m.addQueryValueHandler(q,I))},xw=m=>!gc(An.fromDom(m.target),"ephox-snooker-resizer-bar"),GD=(m,y)=>{const E=CD(()=>An.fromDom(m.getBody()),()=>dw(Y2(m),bl(m)),Pb.selectedSelector),D=(Ee,We,gt)=>{su(We).each(Fn=>{const Rn=an(Ee,Xo=>Xo.dom),ro=qT(m),$t=Gm(pe,An.fromDom(m.getDoc()),ro),nn=Uf(m),Eo=jp(Fn,{selection:nn},$t).map(Xo=>Pe(Xo,Kn=>an(Kn,Sr=>Sr.dom))).getOrUndefined();Qy(m,Rn,We.dom,gt.dom,Eo)})},I=()=>UD(m),q=SA.byAttr(Pb,D,I);return m.on("init",Ee=>{const We=m.getWin(),gt=K2(m),tn=bl(m),Fn=()=>{const jr=m.selection,ud=An.fromDom(jr.getStart()),wi=An.fromDom(jr.getEnd());Dr(su,[ud,wi]).fold(()=>q.clear(gt),pe)},Rn=vA(We,gt,tn,q),ro=yS(We,gt,tn,q),$t=wA(We,gt,tn,q),nn=jr=>jr.raw.shiftKey===!0;m.on("TableSelectorChange",jr=>$t(jr.start,jr.finish));const Eo=(jr,ud)=>{nn(jr)&&(ud.kill&&jr.kill(),ud.selection.each(wi=>{const Qh=j.relative(wi.start,wi.finish),$u=mn(We,Qh);m.selection.setRng($u)}))},Xo=jr=>{const ud=Ai(jr);if(ud.raw.shiftKey&&a0(ud.raw.which)){const wi=m.selection.getRng(),Qh=An.fromDom(wi.startContainer),$u=An.fromDom(wi.endContainer);ro.keyup(ud,Qh,wi.startOffset,$u,wi.endOffset).each(Wf=>{Eo(ud,Wf)})}},Kn=jr=>{const ud=Ai(jr);y.hide();const wi=m.selection.getRng(),Qh=An.fromDom(wi.startContainer),$u=An.fromDom(wi.endContainer),Wf=Of(i0,yA)(An.fromDom(m.selection.getStart()));ro.keydown(ud,Qh,wi.startOffset,$u,wi.endOffset,Wf).each($c=>{Eo(ud,$c)}),y.show()},Sr=jr=>jr.button===0,Er=jr=>jr.buttons===void 0?!0:(jr.buttons&1)!==0,Wo=jr=>{Rn.clearstate()},el=jr=>{Sr(jr)&&xw(jr)&&Rn.mousedown(Ai(jr))},Cm=jr=>{Er(jr)&&xw(jr)&&Rn.mouseover(Ai(jr))},l0=jr=>{Sr(jr)&&xw(jr)&&Rn.mouseup(Ai(jr))},$b=(()=>{const jr=gs(An.fromDom(gt)),ud=gs(0);return{touchEnd:Qh=>{const $u=An.fromDom(Qh.target);if(Kc("td")($u)||Kc("th")($u)){const Wf=jr.get(),$c=ud.get();qs(Wf,$u)&&Qh.timeStamp-$c<300&&(Qh.preventDefault(),$t($u,$u))}jr.set($u),ud.set(Qh.timeStamp)}}})();m.on("dragstart",Wo),m.on("mousedown",el),m.on("mouseover",Cm),m.on("mouseup",l0),m.on("touchend",$b.touchEnd),m.on("keyup",Xo),m.on("keydown",Kn),m.on("NodeChange",Fn)}),m.on("PreInit",()=>{m.serializer.addTempAttr(Pb.firstSelected),m.serializer.addTempAttr(Pb.lastSelected)}),{getSelectedCells:()=>sS(E.get(),J([]),Ee=>an(Ee,We=>We.dom),Ee=>[Ee.dom]),clearSelectedCells:Ee=>q.clear(An.fromDom(Ee))}},_S=(m,y)=>{const E=An.fromDom(m.getBody());return od.body(E,y)},Xh=m=>Ce(m)&&m.nodeName==="TABLE",OS="bar-",KD=m=>Qc(m,"data-mce-resize")!=="false",OA=m=>{const y=ns.fromTable(m);ns.hasColumns(y)||le(af(m),E=>{const D=Nc(E,"width");$a(E,"width",D),$s(E,"width")})},NA=m=>gn(m,"corner-"),RA=m=>Ue(m,"corner-"),YD=m=>{const y=tr(),E=tr(),D=tr();let I,q,ne,de;const Ee=Kn=>TS(m,Kn),We=()=>q2(m)?S2():Tp(),gt=Kn=>t1(Kn).columns,tn=Kn=>t1(Kn).rows,Fn=(Kn,Sr,Er,Wo)=>{const el=RA(Sr),Cm=Ao(el,"e"),l0=gn(el,"n");if(q===""&&Ig(Kn),de===""&&mu(Kn),Er!==I&&q!==""){$a(Kn,"width",q);const p1=We(),$b=Ee(Kn),jr=q2(m)||Cm?gt(Kn)-1:0;xr(Kn,Er-I,jr,p1,$b)}else if(tA(q)){const p1=parseFloat(q.replace("%","")),$b=Er*p1/I;$a(Kn,"width",$b+"%")}if(nA(q)&&OA(Kn),Wo!==ne&&de!==""){$a(Kn,"height",de);const p1=l0?0:tn(Kn)-1;Nr(Kn,Wo-ne,p1)}},Rn=()=>{E.on(Kn=>{Kn.destroy()})};m.on("init",()=>{const Kn=_S(m,KD);if(D.set(Kn),Z2(m)&&GT(m)){const Sr=We(),Er=QC.create(Kn,Sr,Ee);m.mode.isReadOnly()||Er.on(),Er.events.startDrag.bind(Wo=>{y.set(m.selection.getRng())}),Er.events.beforeResize.bind(Wo=>{const el=Wo.table.dom;Fb(m,el,QT(el),JT(el),OS+Wo.type)}),Er.events.afterResize.bind(Wo=>{const el=Wo.table,Cm=el.dom;th(el),y.on(l0=>{m.selection.setRng(l0),m.focus()}),Ax(m,Cm,QT(Cm),JT(Cm),OS+Wo.type),m.undoManager.add()}),E.set(Er)}}),m.on("ObjectResizeStart",Kn=>{const Sr=Kn.target;if(Xh(Sr)&&!m.mode.isReadOnly()){const Er=An.fromDom(Sr);le(m.dom.select(".mce-clonedresizable"),Wo=>{m.dom.addClass(Wo,"mce-"+mx(m)+"-columns")}),!L2(Er)&&Ug(m)?Qa(Er):!gb(Er)&&d1(m)&&Ig(Er),P2(Er)&&gn(Kn.origin,OS)&&Ig(Er),I=Kn.width,q=hx(m)?"":X2(m,Sr).getOr(""),ne=Kn.height,de=tS(m,Sr).getOr("")}}),m.on("ObjectResized",Kn=>{const Sr=Kn.target;if(Xh(Sr)){const Er=An.fromDom(Sr),Wo=Kn.origin;NA(Wo)&&Fn(Er,Wo,Kn.width,Kn.height),th(Er),Kh(m,Er.dom,mw)}});const ro=()=>{E.on(Kn=>{Kn.on(),Kn.showBars()})},$t=()=>{E.on(Kn=>{Kn.off(),Kn.hideBars()})};return m.on("DisabledStateChange",Kn=>{Kn.state?$t():ro()}),m.on("SwitchMode",()=>{m.mode.isReadOnly()?$t():ro()}),m.on("dragstart dragend",Kn=>{Kn.type==="dragstart"?$t():ro()}),m.on("remove",()=>{Rn()}),{refresh:Kn=>{E.on(Sr=>Sr.refreshBars(An.fromDom(Kn)))},hide:()=>{E.on(Kn=>Kn.hideBars())},show:()=>{E.on(Kn=>Kn.showBars())}}},Ra=m=>{EB(m);const y=YD(m),E=GD(m,y),D=m1(m,y,E);return qD(m,D),_A(m,D),SS(m,D),{getSelectedCells:E.getSelectedCells,clearSelectedCells:E.clearSelectedCells}},Zf=m=>({table:Ra(m)});var ev=()=>{l.add("dom",Zf)};ev()})()),zre}var Vre;function nxe(){return Vre||(Vre=1,txe()),Hre}nxe();var Ure={},Zre={},Wre;function oxe(){return Wre||(Wre=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const d=(le,Ve,It)=>{const Ne=Ve==="UL"?"InsertUnorderedList":"InsertOrderedList";le.execCommand(Ne,!1,It===!1?null:{"list-style-type":It})},p=le=>{le.addCommand("ApplyUnorderedListStyle",(Ve,It)=>{d(le,"UL",It["list-style-type"])}),le.addCommand("ApplyOrderedListStyle",(Ve,It)=>{d(le,"OL",It["list-style-type"])})},x=le=>Ve=>Ve.options.get(le),A=le=>{const Ve=le.options.register;Ve("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),Ve("advlist_bullet_styles",{processor:"string[]",default:"default,disc,circle,square".split(",")})},N=x("advlist_number_styles"),O=x("advlist_bullet_styles"),z=le=>le==null,U=le=>!z(le);class V{tag;value;static singletonNone=new V(!1);constructor(Ve,It){this.tag=Ve,this.value=It}static some(Ve){return new V(!0,Ve)}static none(){return V.singletonNone}fold(Ve,It){return this.tag?It(this.value):Ve()}isSome(){return this.tag}isNone(){return!this.tag}map(Ve){return this.tag?V.some(Ve(this.value)):V.none()}bind(Ve){return this.tag?Ve(this.value):V.none()}exists(Ve){return this.tag&&Ve(this.value)}forall(Ve){return!this.tag||Ve(this.value)}filter(Ve){return!this.tag||Ve(this.value)?this:V.none()}getOr(Ve){return this.tag?this.value:Ve}or(Ve){return this.tag?this:Ve}getOrThunk(Ve){return this.tag?this.value:Ve()}orThunk(Ve){return this.tag?this:Ve()}getOrDie(Ve){if(this.tag)return this.value;throw new Error(Ve??"Called getOrDie on None")}static from(Ve){return U(Ve)?V.some(Ve):V.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ve){this.tag&&Ve(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Y=Array.prototype.indexOf,ee=(le,Ve)=>Y.call(le,Ve),ue=(le,Ve)=>ee(le,Ve)>-1,Ce=(le,Ve,It)=>{for(let Ne=0,ft=le.length;Ne<ft;Ne++){const He=le[Ne];if(Ve(He,Ne))return V.some(He);if(It(He,Ne))break}return V.none()},be=Object.keys,$e=(le,Ve)=>{const It=be(le);for(let Ne=0,ft=It.length;Ne<ft;Ne++){const He=It[Ne],dt=le[He];Ve(dt,He)}},pe=(le,Ve)=>it(le,(It,Ne)=>({k:Ne,v:Ve(It,Ne)})),it=(le,Ve)=>{const It={};return $e(le,(Ne,ft)=>{const He=Ve(Ne,ft);It[He.k]=He.v}),It};var Se=tinymce.util.Tools.resolve("tinymce.util.Tools");const J=le=>/\btox\-/.test(le.className),vt=(le,Ve)=>le.dom.isChildOf(Ve,le.getBody()),Gt=le=>Ve=>U(Ve)&&le.test(Ve.nodeName),Xe=Gt(/^(OL|UL|DL)$/),ie=Gt(/^(TH|TD)$/),ct=(le,Ve,It)=>Ce(Ve,Ne=>Xe(Ne)&&!J(Ne),ie).exists(Ne=>Ne.nodeName===It&&vt(le,Ne)),xn=le=>{const Ve=le.dom.getParent(le.selection.getNode(),"ol,ul"),It=le.dom.getStyle(Ve,"listStyleType");return V.from(It)},fn=(le,Ve)=>Ve!==null&&!le.dom.isEditable(Ve),qe=(le,Ve)=>{const It=le.dom.getParent(Ve,"ol,ul,dl");return fn(le,It)||!le.selection.isEditable()},Re=(le,Ve)=>{const It=le.selection.getNode();return Ve({parents:le.dom.getParents(It),element:It}),le.on("NodeChange",Ve),()=>le.off("NodeChange",Ve)},Qo=le=>le.replace(/\-/g," ").replace(/\b\w/g,Ve=>Ve.toUpperCase()),yt=le=>z(le)||le==="default"?"":le,Lt=(le,Ve)=>It=>{const Ne=(He,dt)=>{const X=He.selection.getStart(!0);It.setActive(ct(He,dt,Ve)),It.setEnabled(!qe(He,X))};return Re(le,He=>Ne(le,He.parents))},F=(le,Ve,It,Ne,ft,He)=>{const dt={"lower-latin":"lower-alpha","upper-latin":"upper-alpha","lower-alpha":"lower-latin","upper-alpha":"upper-latin"},X=pe(dt,$o=>ue(He,$o));le.ui.registry.addSplitButton(Ve,{tooltip:It,chevronTooltip:It,icon:ft==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:ft==="OL"?3:4,fetch:$o=>{const xo=Se.map(He,Mo=>{const Ho=ft==="OL"?"num":"bull",js=Mo==="decimal"?"default":Mo,Be=yt(Mo),Ke=Qo(Mo);return{type:"choiceitem",value:Be,icon:"list-"+Ho+"-"+js,text:Ke}});$o(xo)},onAction:()=>le.execCommand(Ne),onItemAction:($o,xo)=>{d(le,ft,xo)},select:$o=>xn(le).exists(Mo=>$o===Mo||dt[Mo]===$o&&!X[$o]),onSetup:Lt(le,ft)})},jt=(le,Ve,It,Ne,ft,He)=>{le.ui.registry.addToggleButton(Ve,{active:!1,tooltip:It,icon:ft==="OL"?"ordered-list":"unordered-list",onSetup:Lt(le,ft),onAction:()=>le.queryCommandState(Ne)||He===""?le.execCommand(Ne):d(le,ft,He)})},at=(le,Ve,It,Ne,ft,He)=>{He.length>1?F(le,Ve,It,Ne,ft,He):jt(le,Ve,It,Ne,ft,yt(He[0]))},Jn=le=>{at(le,"numlist","Numbered list","InsertOrderedList","OL",N(le)),at(le,"bullist","Bullet list","InsertUnorderedList","UL",O(le))};var an=()=>{l.add("advlist",le=>{le.hasPlugin("lists")?(A(le),Jn(le),p(le)):console.error("Please use the Lists plugin together with the List Styles plugin.")})};an()})()),Zre}var qre;function sxe(){return qre||(qre=1,oxe()),Ure}sxe();var Gre={},Kre={},Yre;function rxe(){return Yre||(Yre=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const d=(Ne,ft,He)=>He(Ne,ft.prototype)?!0:Ne.constructor?.name===ft.name,p=Ne=>{const ft=typeof Ne;return Ne===null?"null":ft==="object"&&Array.isArray(Ne)?"array":ft==="object"&&d(Ne,String,(He,dt)=>dt.isPrototypeOf(He))?"string":ft},x=Ne=>ft=>p(ft)===Ne,A=Ne=>ft=>Ne===ft,N=x("string"),O=A(void 0),z=Ne=>Ne==null,U=Ne=>!z(Ne),V=Ne=>ft=>!Ne(ft),Y=Object.hasOwnProperty,ee=(Ne,ft)=>Y.call(Ne,ft),ue=(Ne,ft,He)=>Ne.length>=ft.length&&Ne.substr(He,He+ft.length)===ft,Ce=(Ne,ft,He=0,dt)=>{const X=Ne.indexOf(ft,He);return X!==-1?O(dt)?!0:X+ft.length<=dt:!1},be=(Ne,ft)=>ue(Ne,ft,0),$e="\uFEFF",pe=Ne=>Ne===$e,it=Ne=>Ne.replace(/\uFEFF/g,""),Se=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,J=Ne=>ft=>ft.options.get(Ne),vt=Ne=>{const ft=Ne.options.register;ft("autolink_pattern",{processor:"regexp",default:new RegExp("^"+Se().source+"$","i")}),ft("link_default_target",{processor:"string"}),ft("link_default_protocol",{processor:"string",default:"https"})},Gt=J("autolink_pattern"),Xe=J("link_default_target"),ie=J("link_default_protocol"),ct=J("allow_unsafe_link_target");var xn=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const fn=Ne=>Ne.nodeType===3,qe=Ne=>Ne.nodeType===1,Re=Ne=>/^[(\[{ \u00a0]$/.test(Ne),Qo=Ne=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(Ne),yt=Ne=>/[?!,.;:]/.test(Ne),Lt=(Ne,ft,He)=>{for(let dt=ft-1;dt>=0;dt--){const X=Ne.charAt(dt);if(!pe(X)&&He(X))return dt}return-1},F=(Ne,ft)=>{let He=Ne,dt=ft;for(;qe(He)&&He.childNodes[dt];)He=He.childNodes[dt],dt=fn(He)?He.data.length:He.childNodes.length;return{container:He,offset:dt}},jt=(Ne,ft)=>{const He=Ne.schema.getVoidElements(),dt=Gt(Ne),{dom:X,selection:$o}=Ne;if(X.getParent($o.getNode(),"a[href]")!==null||Ne.mode.isReadOnly())return null;const xo=$o.getRng(),Mo=xn(X,Un=>X.isBlock(Un)||ee(He,Un.nodeName.toLowerCase())||X.getContentEditable(Un)==="false"||X.getParent(Un,"a[href]")!==null),{container:Ho,offset:js}=F(xo.endContainer,xo.endOffset),Be=X.getParent(Ho,X.isBlock)??X.getRoot(),Ke=Mo.backwards(Ho,js+ft,(Un,Dt)=>{const Pe=Un.data,Tt=Lt(Pe,Dt,V(Re));return Tt===-1||yt(Pe[Tt])?Tt:Tt+1},Be);if(!Ke)return null;let tt=Ke.container;const Le=Mo.backwards(Ke.container,Ke.offset,(Un,Dt)=>{tt=Un;const Pe=Lt(Un.data,Dt,Re);return Pe===-1?Pe:Pe+1},Be),Je=X.createRng();Le?Je.setStart(Le.container,Le.offset):Je.setStart(tt,0),Je.setEnd(Ke.container,Ke.offset);const xt=it(Je.toString()).match(dt);if(xt){let Un=xt[0];return be(Un,"www.")?Un=ie(Ne)+"://"+Un:Ce(Un,"@")&&!Qo(Un)&&(Un="mailto:"+Un),{rng:Je,url:Un}}else return null},at=(Ne,ft)=>{const{dom:He,selection:dt}=Ne,{rng:X,url:$o}=ft,xo=dt.getBookmark();dt.setRng(X);const Mo="createlink",Ho={command:Mo,ui:!1,value:$o};if(!Ne.dispatch("BeforeExecCommand",Ho).isDefaultPrevented()){Ne.getDoc().execCommand(Mo,!1,$o),Ne.dispatch("ExecCommand",Ho);const Be=Xe(Ne);if(N(Be)){const Ke=dt.getNode();He.setAttrib(Ke,"target",Be),Be==="_blank"&&!ct(Ne)&&He.setAttrib(Ke,"rel","noopener")}}dt.moveToBookmark(xo),Ne.nodeChanged()},Jn=Ne=>{const ft=jt(Ne,-1);U(ft)&&at(Ne,ft)},an=Jn,le=Ne=>{const ft=jt(Ne,0);U(ft)&&at(Ne,ft)},Ve=Ne=>{Ne.on("keydown",ft=>{ft.keyCode===13&&!ft.isDefaultPrevented()&&le(Ne)}),Ne.on("keyup",ft=>{ft.keyCode===32?Jn(Ne):(ft.keyCode===48&&ft.shiftKey||ft.keyCode===221)&&an(Ne)})};var It=()=>{l.add("autolink",Ne=>{vt(Ne),Ve(Ne)})};It()})()),Kre}var Xre;function axe(){return Xre||(Xre=1,rxe()),Gre}axe();var Qre={},Jre={},eae;function ixe(){return eae||(eae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const d=Je=>({backspaceDelete:Nt=>{Je.execCommand("mceListBackspaceDelete",!1,Nt)}}),p=Je=>Je==null,x=Je=>!p(Je),A=Je=>()=>Je,N=(Je,Nt)=>Je===Nt,O=A(!1);class z{tag;value;static singletonNone=new z(!1);constructor(Nt,xt){this.tag=Nt,this.value=xt}static some(Nt){return new z(!0,Nt)}static none(){return z.singletonNone}fold(Nt,xt){return this.tag?xt(this.value):Nt()}isSome(){return this.tag}isNone(){return!this.tag}map(Nt){return this.tag?z.some(Nt(this.value)):z.none()}bind(Nt){return this.tag?Nt(this.value):z.none()}exists(Nt){return this.tag&&Nt(this.value)}forall(Nt){return!this.tag||Nt(this.value)}filter(Nt){return!this.tag||Nt(this.value)?this:z.none()}getOr(Nt){return this.tag?this.value:Nt}or(Nt){return this.tag?this:Nt}getOrThunk(Nt){return this.tag?this.value:Nt()}orThunk(Nt){return this.tag?this:Nt()}getOrDie(Nt){if(this.tag)return this.value;throw new Error(Nt??"Called getOrDie on None")}static from(Nt){return x(Nt)?z.some(Nt):z.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Nt){this.tag&&Nt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const U=Array.prototype.slice,V=(Je,Nt)=>{for(let xt=0,Un=Je.length;xt<Un;xt++){const Dt=Je[xt];if(Nt(Dt,xt))return!0}return!1},Y=(Je,Nt)=>{const xt=Je.length,Un=new Array(xt);for(let Dt=0;Dt<xt;Dt++){const Pe=Je[Dt];Un[Dt]=Nt(Pe,Dt)}return Un},ee=(Je,Nt)=>{for(let xt=0,Un=Je.length;xt<Un;xt++){const Dt=Je[xt];Nt(Dt,xt)}},ue=(Je,Nt,xt)=>(ee(Je,(Un,Dt)=>{xt=Nt(xt,Un,Dt)}),xt),Ce=(Je,Nt,xt)=>{for(let Un=0,Dt=Je.length;Un<Dt;Un++){const Pe=Je[Un];if(Nt(Pe,Un))return z.some(Pe);if(xt(Pe,Un))break}return z.none()},be=(Je,Nt)=>Ce(Je,Nt,O),$e=Je=>{const Nt=U.call(Je,0);return Nt.reverse(),Nt},pe=(Je,Nt,xt=N)=>Je.exists(Un=>xt(Un,Nt)),Se=(Je=>Nt=>Nt.replace(Je,""))(/^\s+|\s+$/g),J=Je=>Je.length>0,vt=Je=>!J(Je),Gt=Je=>{const Nt=$e(Se(Je).split("")),xt=Y(Nt,(Un,Dt)=>{const Pe=Un.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,Dt)*Pe});return ue(xt,(Un,Dt)=>Un+Dt,0)},Xe=Je=>{if(Je--,Je<0)return"";{const Nt=Je%26,xt=Math.floor(Je/26),Un=Xe(xt),Dt=String.fromCharCode(65+Nt);return Un+Dt}},ie=Je=>/^[A-Z]+$/.test(Je),ct=Je=>/^[a-z]+$/.test(Je),xn=Je=>/^[0-9]+$/.test(Je),fn=Je=>xn(Je)?2:ie(Je)?0:ct(Je)?1:vt(Je)?3:4,qe=Je=>{switch(fn(Je)){case 2:return z.some({listStyleType:z.none(),start:Je});case 0:return z.some({listStyleType:z.some("upper-alpha"),start:Gt(Je).toString()});case 1:return z.some({listStyleType:z.some("lower-alpha"),start:Gt(Je).toString()});case 3:return z.some({listStyleType:z.none(),start:""});case 4:return z.none()}},Re=Je=>{const Nt=parseInt(Je.start,10);return pe(Je.listStyleType,"upper-alpha")?Xe(Nt):pe(Je.listStyleType,"lower-alpha")?Xe(Nt).toLowerCase():Je.start},yt=(Je=>Nt=>Nt.options.get(Je))("forced_root_block"),Lt=Je=>/\btox\-/.test(Je.className),F=Je=>Nt=>x(Nt)&&Je.test(Nt.nodeName),jt=Je=>Nt=>x(Nt)&&Nt.nodeName.toLowerCase()===Je,at=F(/^(OL|UL|DL)$/),Jn=F(/^(TH|TD)$/),an=F(/^(LI|DT|DD)$/),le=(Je,Nt)=>Ce(Je,at,Jn).exists(xt=>xt.nodeName===Nt&&!Lt(xt)),Ve=(Je,Nt)=>{const xt=Je.selection.getNode();return Nt({parents:Je.dom.getParents(xt),element:xt}),Je.on("NodeChange",Nt),()=>Je.off("NodeChange",Nt)},It=(Je,Nt)=>Nt!==null&&!Je.dom.isEditable(Nt),Ne=(Je,Nt)=>{const xt=Je.dom.getParent(Nt,"ol,ul,dl");return It(Je,xt)||!Je.selection.isEditable()},ft=jt("ol"),He=["OL","UL","DL"],dt=He.join(","),X=(Je,Nt)=>{const xt=Nt||Je.selection.getStart(!0);return Je.dom.getParent(xt,dt,$o(Je,xt))},$o=(Je,Nt)=>{const xt=Je.dom.getParents(Nt,Je.dom.isBlock),Un=Pe=>Pe.nodeName.toLowerCase()!==yt(Je);return be(xt,Pe=>Un(Pe)&&xo(Je.schema,Pe)).getOr(Je.getBody())},xo=(Je,Nt)=>!at(Nt)&&!an(Nt)&&V(He,xt=>Je.isValidChild(Nt.nodeName,xt)),Mo=Je=>{const Nt=X(Je);!ft(Nt)||Ne(Je,Nt)||Je.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Re({start:Je.dom.getAttrib(Nt,"start","1"),listStyleType:z.from(Je.dom.getStyle(Nt,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:xt=>{const Un=xt.getData();qe(Un.start).each(Dt=>{Je.execCommand("mceListUpdate",!1,{attrs:{start:Dt.start==="1"?"":Dt.start},styles:{"list-style-type":Dt.listStyleType.getOr("")}})}),xt.close()}})},Ho=Je=>{Je.addCommand("mceListProps",()=>{Mo(Je)})},js=(Je,Nt)=>xt=>{const Un=Dt=>{xt.setActive(le(Dt.parents,Nt)),xt.setEnabled(!Ne(Je,Dt.element)&&Je.selection.isEditable())};return xt.setEnabled(Je.selection.isEditable()),Ve(Je,Un)},Be=Je=>{const Nt=xt=>()=>Je.execCommand(xt);Je.hasPlugin("advlist")||(Je.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:Nt("InsertOrderedList"),onSetup:js(Je,"OL")}),Je.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:Nt("InsertUnorderedList"),onSetup:js(Je,"UL")}))},Ke=(Je,Nt)=>xt=>Ve(Je,Dt=>xt.setEnabled(le(Dt.parents,Nt)&&!Ne(Je,Dt.element))),tt=Je=>{const Nt={text:"List properties...",icon:"ordered-list",onAction:()=>Je.execCommand("mceListProps"),onSetup:Ke(Je,"OL")};Je.ui.registry.addMenuItem("listprops",Nt),Je.ui.registry.addContextMenu("lists",{update:xt=>{const Un=X(Je,xt);return ft(Un)?["listprops"]:[]}})};var Le=()=>{l.add("lists",Je=>(Ho(Je),Be(Je),tt(Je),d(Je)))};Le()})()),Jre}var tae;function lxe(){return tae||(tae=1,ixe()),Qre}lxe();var nae={},oae={},sae;function cxe(){return sae||(sae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const d=(oe,ke,Qe)=>Qe(oe,ke.prototype)?!0:oe.constructor?.name===ke.name,p=oe=>{const ke=typeof oe;return oe===null?"null":ke==="object"&&Array.isArray(oe)?"array":ke==="object"&&d(oe,String,(Qe,Et)=>Et.isPrototypeOf(Qe))?"string":ke},x=oe=>ke=>p(ke)===oe,A=oe=>ke=>typeof ke===oe,N=oe=>ke=>oe===ke,O=x("string"),z=x("object"),U=x("array"),V=N(null),Y=A("boolean"),ee=oe=>oe==null,ue=oe=>!ee(oe),Ce=A("function"),be=(oe,ke)=>{if(U(oe)){for(let Qe=0,Et=oe.length;Qe<Et;++Qe)if(!ke(oe[Qe]))return!1;return!0}return!1},$e=()=>{},pe=oe=>()=>oe,it=oe=>oe,Se=(oe,ke)=>oe===ke;class J{tag;value;static singletonNone=new J(!1);constructor(ke,Qe){this.tag=ke,this.value=Qe}static some(ke){return new J(!0,ke)}static none(){return J.singletonNone}fold(ke,Qe){return this.tag?Qe(this.value):ke()}isSome(){return this.tag}isNone(){return!this.tag}map(ke){return this.tag?J.some(ke(this.value)):J.none()}bind(ke){return this.tag?ke(this.value):J.none()}exists(ke){return this.tag&&ke(this.value)}forall(ke){return!this.tag||ke(this.value)}filter(ke){return!this.tag||ke(this.value)?this:J.none()}getOr(ke){return this.tag?this.value:ke}or(ke){return this.tag?this:ke}getOrThunk(ke){return this.tag?this.value:ke()}orThunk(ke){return this.tag?this:ke()}getOrDie(ke){if(this.tag)return this.value;throw new Error(ke??"Called getOrDie on None")}static from(ke){return ue(ke)?J.some(ke):J.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ke){this.tag&&ke(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const vt=Array.prototype.indexOf,Gt=Array.prototype.push,Xe=(oe,ke)=>vt.call(oe,ke),ie=(oe,ke)=>Xe(oe,ke)>-1,ct=(oe,ke)=>{const Qe=oe.length,Et=new Array(Qe);for(let pn=0;pn<Qe;pn++){const Wn=oe[pn];Et[pn]=ke(Wn,pn)}return Et},xn=(oe,ke)=>{for(let Qe=0,Et=oe.length;Qe<Et;Qe++){const pn=oe[Qe];ke(pn,Qe)}},fn=(oe,ke,Qe)=>(xn(oe,(Et,pn)=>{Qe=ke(Qe,Et,pn)}),Qe),qe=oe=>{const ke=[];for(let Qe=0,Et=oe.length;Qe<Et;++Qe){if(!U(oe[Qe]))throw new Error("Arr.flatten item "+Qe+" was not an array, input: "+oe);Gt.apply(ke,oe[Qe])}return ke},Re=(oe,ke)=>qe(ct(oe,ke)),Qo=(oe,ke)=>ke>=0&&ke<oe.length?J.some(oe[ke]):J.none(),yt=oe=>Qo(oe,0),Lt=(oe,ke)=>{for(let Qe=0;Qe<oe.length;Qe++){const Et=ke(oe[Qe],Qe);if(Et.isSome())return Et}return J.none()},F=Object.keys,jt=Object.hasOwnProperty,at=(oe,ke)=>{const Qe=F(oe);for(let Et=0,pn=Qe.length;Et<pn;Et++){const Wn=Qe[Et],Po=oe[Wn];ke(Po,Wn)}},Jn=oe=>(ke,Qe)=>{oe[Qe]=ke},an=(oe,ke,Qe,Et)=>{at(oe,(pn,Wn)=>{(ke(pn,Wn)?Qe:Et)(pn,Wn)})},le=(oe,ke)=>{const Qe={};return an(oe,ke,Jn(Qe),$e),Qe},Ve=(oe,ke)=>jt.call(oe,ke),It=(oe,ke)=>Ve(oe,ke)&&oe[ke]!==void 0&&oe[ke]!==null,Ne=oe=>{let ke=oe;return{get:()=>ke,set:pn=>{ke=pn}}},ft=(oe,ke,Qe=Se)=>oe.exists(Et=>Qe(Et,ke)),He=oe=>{const ke=[],Qe=Et=>{ke.push(Et)};for(let Et=0;Et<oe.length;Et++)oe[Et].each(Qe);return ke},dt=(oe,ke)=>oe?J.some(ke):J.none(),X=oe=>{const ke=Ne(J.none()),Qe=()=>ke.get().each(oe);return{clear:()=>{Qe(),ke.set(J.none())},isSet:()=>ke.get().isSome(),get:()=>ke.get(),set:Gs=>{Qe(),ke.set(J.some(Gs))}}},$o=()=>{const oe=X($e);return{...oe,on:Qe=>oe.get().each(Qe)}},xo=(oe,ke)=>oe.substring(ke),Mo=(oe,ke,Qe)=>ke===""||oe.length>=ke.length&&oe.substr(Qe,Qe+ke.length)===ke,Ho=(oe,ke)=>js(oe,ke)?xo(oe,ke.length):oe,js=(oe,ke)=>Mo(oe,ke,0),Be=oe=>ke=>ke.options.get(oe),Ke=oe=>{const ke=oe.options.register;ke("link_assume_external_targets",{processor:Qe=>{const Et=O(Qe)||Y(Qe);return Et?Qe===!0?{value:1,valid:Et}:Qe==="http"||Qe==="https"?{value:Qe,valid:Et}:{value:0,valid:Et}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),ke("link_context_toolbar",{processor:"boolean",default:!1}),ke("link_list",{processor:Qe=>O(Qe)||Ce(Qe)||be(Qe,z)}),ke("link_default_target",{processor:"string"}),ke("link_default_protocol",{processor:"string",default:"https"}),ke("link_target_list",{processor:Qe=>Y(Qe)||be(Qe,z),default:!0}),ke("link_rel_list",{processor:"object[]",default:[]}),ke("link_class_list",{processor:"object[]",default:[]}),ke("link_title",{processor:"boolean",default:!0}),ke("allow_unsafe_link_target",{processor:"boolean",default:!1}),ke("link_quicklink",{processor:"boolean",default:!1}),ke("link_attributes_postprocess",{processor:"function"}),ke("files_upload_handler",{processor:"function"}),ke("link_uploadtab",{processor:"boolean",default:!0})},tt=Be("link_assume_external_targets"),Le=Be("link_context_toolbar"),Je=Be("link_list"),Nt=Be("link_default_target"),xt=Be("link_default_protocol"),Un=Be("link_target_list"),Dt=Be("link_rel_list"),Pe=Be("link_class_list"),Tt=Be("link_title"),sn=Be("allow_unsafe_link_target"),Zn=Be("link_quicklink"),Yo=Be("link_attributes_postprocess"),Jo=Be("files_upload_handler"),Do=Be("link_uploadtab"),mr=Be("documents_file_types"),zo=oe=>ue(oe.options.get("files_upload_handler")),os=oe=>ue(oe.options.get("documents_file_types"));var Vs=tinymce.util.Tools.resolve("tinymce.util.URI"),Ss=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Xs=tinymce.util.Tools.resolve("tinymce.util.Tools");const gs=oe=>ue(oe)&&oe.nodeName.toLowerCase()==="a",Wr=oe=>gs(oe)&&!!Ma(oe),Es=(oe,ke)=>{if(oe.collapsed)return[];{const Qe=oe.cloneContents(),Et=Qe.firstChild,pn=new Ss(Et,Qe),Wn=[];let Po=Et;do ke(Po)&&Wn.push(Po);while(Po=pn.next());return Wn}},$r=oe=>/^\w+:/i.test(oe),Ma=oe=>oe.getAttribute("data-mce-href")??oe.getAttribute("href")??"",Hn=(oe,ke)=>{const Qe=["noopener"],Et=oe?oe.split(/\s+/):[],pn=Os=>Xs.trim(Os.sort().join(" ")),Wn=Os=>(Os=Po(Os),Os.length>0?Os.concat(Qe):Qe),Po=Os=>Os.filter(Mi=>Xs.inArray(Qe,Mi)===-1),Gs=ke?Wn(Et):Po(Et);return Gs.length>0?pn(Gs):""},ts=oe=>oe.replace(/\uFEFF/g,""),Oo=(oe,ke)=>(ke=ke||Mn(oe.selection.getRng())[0]||oe.selection.getNode(),vo(ke)?J.from(oe.dom.select("a[href]",ke)[0]):J.from(oe.dom.getParent(ke,"a[href]"))),ci=(oe,ke)=>Oo(oe,ke).isSome(),Ba=(oe,ke)=>{const Qe=ke.fold(()=>oe.getContent({format:"text"}),Et=>Et.innerText||Et.textContent||"");return ts(Qe)},Mn=oe=>Es(oe,Wr),Zt=oe=>Xs.grep(oe,Wr),Kt=oe=>Zt(oe).length>0,Yn=oe=>Mn(oe).length>0,Gn=oe=>{const ke=oe.schema.getTextInlineElements(),Qe=Wn=>Wn.nodeType===1&&!gs(Wn)&&!Ve(ke,Wn.nodeName.toLowerCase());if(Oo(oe).exists(Wn=>Wn.hasAttribute("data-mce-block")))return!1;const pn=oe.selection.getRng();return pn.collapsed?!0:Es(pn,Qe).length===0},vo=oe=>ue(oe)&&oe.nodeName==="FIGURE"&&/\bimage\b/i.test(oe.className),No=oe=>new Promise((ke,Qe)=>{const Et=new FileReader;Et.onload=()=>{ke(Et.result)},Et.onerror=()=>{Qe(new Error(Et.error?.message??"Failed to convert blob to a data url"))},Et.readAsDataURL(oe)}),Qn=oe=>fn(["title","rel","class","target"],(Qe,Et)=>(oe[Et].each(pn=>{Qe[Et]=pn.length>0?pn:null}),Qe),{href:oe.href}),ls=(oe,ke)=>(ke==="http"||ke==="https")&&!$r(oe)?ke+"://"+oe:oe,La=(oe,ke)=>{const Qe={...ke};if(Dt(oe).length===0&&!sn(oe)){const Et=Hn(Qe.rel,Qe.target==="_blank");Qe.rel=Et||null}return J.from(Qe.target).isNone()&&Un(oe)===!1&&(Qe.target=Nt(oe)),Qe.href=ls(Qe.href,tt(oe)),Qe},sl=(oe,ke,Qe,Et)=>{Qe.each(Wn=>{Ve(ke,"innerText")?ke.innerText=Wn:ke.textContent=Wn}),oe.dom.setAttribs(ke,Et);const pn=oe.dom.createRng();pn.setStartAfter(ke),pn.setEndAfter(ke),oe.selection.setRng(pn)},gi=(oe,ke,Qe,Et)=>{const pn=oe.dom;vo(ke)?Ao(pn,ke,Et):Qe.fold(()=>{oe.execCommand("mceInsertLink",!1,Et);const Wn=oe.selection.getEnd(),Po=pn.createRng();Po.setStartAfter(Wn),Po.setEndAfter(Wn),oe.selection.setRng(Po)},Wn=>{oe.insertContent(pn.createHTML("a",Et,pn.encode(Wn)))})},Pn=(oe,ke,Qe)=>{const Et=oe.selection.getNode(),pn=Oo(oe,Et),Wn=La(oe,Qn(Qe)),Po=Yo(oe);ue(Po)&&Po(Wn),oe.undoManager.transact(()=>{Qe.href===ke.href&&ke.attach(),pn.fold(()=>{gi(oe,Et,Qe.text,Wn)},Gs=>{oe.focus(),sl(oe,Gs,Qe.text,Wn)})})},er=oe=>{const ke=oe.dom,Qe=oe.selection,Et=Qe.getBookmark(),pn=Qe.getRng().cloneRange(),Wn=ke.getParent(pn.startContainer,"a[href]",oe.getBody()),Po=ke.getParent(pn.endContainer,"a[href]",oe.getBody());Wn&&pn.setStartBefore(Wn),Po&&pn.setEndAfter(Po),Qe.setRng(pn),oe.execCommand("unlink"),Qe.moveToBookmark(Et)},tr=oe=>{oe.undoManager.transact(()=>{const ke=oe.selection.getNode();vo(ke)?gn(oe,ke):er(oe),oe.focus()})},jl=oe=>{const{class:ke,href:Qe,rel:Et,target:pn,text:Wn,title:Po}=oe;return le({class:ke.getOrNull(),href:Qe,rel:Et.getOrNull(),target:pn.getOrNull(),text:Wn.getOrNull(),title:Po.getOrNull()},(Gs,Os)=>V(Gs)===!1)},Ie=(oe,ke)=>{const Qe=oe.options.get,Et={allow_html_data_urls:Qe("allow_html_data_urls"),allow_script_urls:Qe("allow_script_urls"),allow_svg_data_urls:Qe("allow_svg_data_urls")},pn=ke.href;return{...ke,href:Vs.isDomSafe(pn,"a",Et)?pn:""}},Ue=(oe,ke,Qe)=>{const Et=Ie(oe,Qe);oe.hasPlugin("rtc",!0)?oe.execCommand("createlink",!1,jl(Et)):Pn(oe,ke,Et)},nt=oe=>{oe.hasPlugin("rtc",!0)?oe.execCommand("unlink"):tr(oe)},gn=(oe,ke)=>{const Qe=oe.dom.select("img",ke)[0];if(Qe){const Et=oe.dom.getParents(Qe,"a[href]",ke)[0];Et&&(Et.parentNode?.insertBefore(Qe,Et),oe.dom.remove(Et))}},Ao=(oe,ke,Qe)=>{const Et=oe.select("img",ke)[0];if(Et){const pn=oe.create("a",Qe);Et.parentNode?.insertBefore(pn,Et),pn.appendChild(Et)}},co=oe=>O(oe.value)?oe.value:"",Zo=oe=>O(oe.text)?oe.text:O(oe.title)?oe.title:"",us=(oe,ke)=>{const Qe=[];return Xs.each(oe,Et=>{const pn=Zo(Et);if(Et.menu!==void 0){const Wn=us(Et.menu,ke);Qe.push({text:pn,items:Wn})}else{const Wn=ke(Et);Qe.push({text:pn,value:Wn})}}),Qe},ko=(oe=co)=>ke=>J.from(ke).map(Qe=>us(Qe,oe)),je={sanitize:oe=>ko(co)(oe),sanitizeWith:ko,createUi:(oe,ke)=>Qe=>({name:oe,type:"listbox",label:ke,items:Qe}),getValue:co},Vt=oe=>It(oe,"items"),wn=(oe,ke)=>Lt(ke,Qe=>Vt(Qe)?wn(oe,Qe.items):dt(Qe.value===oe,Qe)),qt=(oe,ke,Qe,Et)=>{const pn=Et[ke],Wn=oe.length>0;return pn!==void 0?wn(pn,Qe).map(Po=>({url:{value:Po.value,meta:{text:Wn?oe:Po.text,attach:$e}},text:Wn?oe:Po.text})):J.none()},wo=(oe,ke)=>ke==="link"?oe.link:ke==="anchor"?oe.anchor:J.none(),Bn={init:(oe,ke)=>{const Qe={text:oe.text,title:oe.title},Et=Os=>dt(Qe.title.length<=0,J.from(Os.meta?.title).getOr("")),pn=Os=>dt(Qe.text.length<=0,J.from(Os.meta?.text).getOr(Os.value)),Wn=Os=>{const Mi=pn(Os.url),Ea=Et(Os.url);return Mi.isSome()||Ea.isSome()?J.some({...Mi.map(Xd=>({text:Xd})).getOr({}),...Ea.map(Xd=>({title:Xd})).getOr({})}):J.none()},Po=(Os,Mi)=>{const Ea=wo(ke,Mi).getOr([]);return qt(Qe.text,Mi,Ea,Os)};return{onChange:(Os,Mi)=>{const Ea=Mi.name;return Ea==="url"?Wn(Os()):ie(["anchor","link"],Ea)?Po(Os(),Ea):((Ea==="text"||Ea==="title")&&(Qe[Ea]=Os()[Ea]),J.none())}}},getDelta:qt};var Uo=tinymce.util.Tools.resolve("tinymce.util.Delay");const vs=(oe,ke,Qe)=>{const Et=oe.selection.getRng();Uo.setEditorTimeout(oe,()=>{oe.windowManager.confirm(ke,pn=>{oe.selection.setRng(Et),Qe(pn)})})},Ts=oe=>{const ke=oe.href;return ke.indexOf("@")>0&&ke.indexOf("/")===-1&&ke.indexOf("mailto:")===-1?J.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Et=>({...Et,href:"mailto:"+ke})}):J.none()},As=(oe,ke)=>Qe=>{const Et=Qe.href;return oe===1&&!$r(Et)||oe===0&&/^\s*www(\.|\d\.)/i.test(Et)?J.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${ke}:// prefix?`,preprocess:Wn=>({...Wn,href:ke+"://"+Et})}):J.none()},Sa={preprocess:(oe,ke)=>Lt([Ts,As(tt(oe),xt(oe))],Qe=>Qe(ke)).fold(()=>Promise.resolve(ke),Qe=>new Promise(Et=>{vs(oe,Qe.message,pn=>{Et(pn?Qe.preprocess(ke):ke)})}))},Tr={getAnchors:oe=>{const ke=oe.dom.select("a:not([href])"),Qe=Re(ke,Et=>{const pn=Et.name||Et.id;return pn?[{text:pn,value:"#"+pn}]:[]});return Qe.length>0?J.some([{text:"None",value:""}].concat(Qe)):J.none()}},ir={getClasses:oe=>{const ke=Pe(oe);return ke.length>0?je.sanitize(ke):J.none()}},Vi=oe=>{try{return J.some(JSON.parse(oe))}catch{return J.none()}},Ir={getLinks:oe=>{const ke=Et=>oe.convertURL(Et.value||Et.url||"","href"),Qe=Je(oe);return new Promise(Et=>{O(Qe)?fetch(Qe).then(pn=>pn.ok?pn.text().then(Vi):Promise.reject()).then(Et,()=>Et(J.none())):Ce(Qe)?Qe(pn=>Et(J.some(pn))):Et(J.from(Qe))}).then(Et=>Et.bind(je.sanitizeWith(ke)).map(pn=>pn.length>0?[{text:"None",value:""}].concat(pn):pn))}},Si={getRels:(oe,ke)=>{const Qe=Dt(oe);if(Qe.length>0){const Et=ft(ke,"_blank"),pn=sn(oe)===!1,Wn=Gs=>Hn(je.getValue(Gs),Et);return(pn?je.sanitizeWith(Wn):je.sanitize)(Qe)}return J.none()}},ni=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Sf={getTargets:oe=>{const ke=Un(oe);return U(ke)?je.sanitize(ke).orThunk(()=>J.some(ni)):ke===!1?J.none():J.some(ni)}},uc=(oe,ke,Qe)=>{const Et=oe.getAttrib(ke,Qe);return Et!==null&&Et.length>0?J.some(Et):J.none()},Hr=(oe,ke)=>{const Qe=oe.dom,pn=Gn(oe)?J.some(Ba(oe.selection,ke)):J.none(),Wn=ke.bind(Ea=>J.from(Qe.getAttrib(Ea,"href"))),Po=ke.bind(Ea=>J.from(Qe.getAttrib(Ea,"target"))),Gs=ke.bind(Ea=>uc(Qe,Ea,"rel")),Os=ke.bind(Ea=>uc(Qe,Ea,"class")),Mi=ke.bind(Ea=>uc(Qe,Ea,"title"));return{url:Wn,text:pn,title:Mi,target:Po,rel:Gs,linkClass:Os}},dc={collect:(oe,ke)=>Ir.getLinks(oe).then(Qe=>{const Et=zo(oe)&&os(oe)&&Do(oe),pn=Hr(oe,ke);return{anchor:pn,catalogs:{targets:Sf.getTargets(oe),rels:Si.getRels(oe,pn.target),classes:ir.getClasses(oe),anchor:Tr.getAnchors(oe),link:Qe},hasUploadPanel:Et,optNode:ke,flags:{titleEnabled:Tt(oe)}}})},An={makeTab:oe=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput",buttonLabel:"Browse for a file",dropAreaLabel:"Drop a file here",allowedFileTypes:oe.map(Qe=>Qe.mimeType).join(","),allowedFileExtensions:qe(oe.map(Qe=>Qe.extensions))}]})},Cu=(oe,ke)=>Qe=>{const Et=Qe.getData();if(!Et.url.value){nt(oe),Qe.close();return}const pn=Gs=>J.from(Et[Gs]).filter(Os=>!ft(ke.anchor[Gs],Os)),Wn={href:Et.url.value,text:pn("text"),target:pn("target"),rel:pn("rel"),class:pn("linkClass"),title:pn("title")},Po={href:Et.url.value,attach:Et.url.meta!==void 0&&Et.url.meta.attach?Et.url.meta.attach:$e};Sa.preprocess(oe,Wn).then(Gs=>{Ue(oe,Po,Gs)}),Qe.close()},Ri=oe=>(ke,Qe)=>Jo(oe)(ke,Qe),pi=oe=>J.from(oe.split(",")[1]).getOr(""),qr=(oe,ke)=>{const Qe=ke.getData();ke.block("Uploading file"),yt(Qe.fileinput).fold(()=>{ke.unblock()},Et=>{const pn=URL.createObjectURL(Et),Wn=({url:Gs,fileName:Os})=>{ke.setData({text:Os,title:Os,url:{value:Gs,meta:{}}}),ke.showTab("general"),ke.focus("url")},Po=()=>{ke.unblock(),URL.revokeObjectURL(pn)};No(Et).then(Gs=>{const Os=oe.getExistingBlobInfo(pi(Gs),Et.type),Mi=Os&&Os.filename()===Et.name?Os:oe.createBlobCache(Et,pn,Gs);return oe.addToBlobCache(Mi),oe.uploadFile(Mi,it)}).then(Gs=>{Wn(Gs),Po()}).catch(Gs=>{Po(),oe.alertErr(Gs,()=>{ke.focus("fileinput")})})})},Kd=oe=>(ke,Qe,Et)=>oe.editorUpload.blobCache.create({blob:ke,blobUri:Qe,name:ke.name?.replace(/\.[^\.]+$/,""),filename:ke.name,base64:Et.split(",")[1]}),Ei=oe=>ke=>{oe.editorUpload.blobCache.add(ke)},rl=oe=>(ke,Qe)=>oe.editorUpload.blobCache.getByData(ke,Qe),Tf=oe=>(ke,Qe)=>{oe.windowManager.alert(ke,Qe)},Jf=oe=>{const ke=Oo(oe);return dc.collect(oe,ke)},Su=(oe,ke)=>{const Qe=oe.anchor,Et=Qe.url.getOr("");return{url:{value:Et,meta:{original:{value:Et}}},text:Qe.text.getOr(""),title:Qe.title.getOr(""),anchor:Et,link:Et,rel:Qe.rel.getOr(""),target:Qe.target.or(ke).getOr(""),linkClass:Qe.linkClass.getOr(""),fileinput:[]}},Yd=(oe,ke,Qe,Et,pn,Wn)=>{const Po=qe([oe,ke,Qe,He([Et.anchor.map(je.createUi("anchor","Anchors")),Et.rels.map(je.createUi("rel","Rel")),Et.targets.map(je.createUi("target","Open link in...")),Et.link.map(je.createUi("link","Link list")),Et.classes.map(je.createUi("linkClass","Class"))])]);return pn?{type:"tabpanel",tabs:qe([[{title:"General",name:"general",items:Po}],[An.makeTab(Wn)]])}:{type:"panel",items:Po}},Dl=(oe,ke,Qe)=>{const Et=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],pn=oe.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Wn=oe.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Po=J.from(Nt(Qe)),Gs=Su(oe,Po),Os=oe.catalogs,Mi=Bn.init(Gs,Os),Ea=Yd(Et,pn,Wn,Os,oe.hasUploadPanel,mr(Qe)),Xd={addToBlobCache:Ei(Qe),createBlobCache:Kd(Qe),alertErr:Tf(Qe),uploadFile:Ri(Qe),getExistingBlobInfo:rl(Qe)};return{title:"Insert/Edit Link",size:"normal",body:Ea,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Gs,onChange:(Om,{name:kf})=>{kf==="fileinput"?qr(Xd,Om):Mi.onChange(Om.getData,{name:kf}).each(Gc=>{Om.setData(Gc)})},onSubmit:ke}},Wc=oe=>{Jf(oe).then(Qe=>{const Et=Cu(oe,Qe);return Dl(Qe,Et,oe)}).then(Qe=>{oe.windowManager.open(Qe)})},qc=oe=>{oe.addCommand("mceLink",(ke,Qe)=>{Qe?.dialog===!0||!Zn(oe)?Wc(oe):oe.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},mn=oe=>{oe.addShortcut("Meta+K","",()=>{oe.execCommand("mceLink")})};var Eu=tinymce.util.Tools.resolve("tinymce.util.VK");const bd=(oe,ke)=>{document.body.appendChild(oe),oe.dispatchEvent(ke),document.body.removeChild(oe)},Vl=oe=>{const ke=document.createElement("a");ke.target="_blank",ke.href=oe,ke.rel="noreferrer noopener";const Qe=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(Qe),bd(ke,Qe)},al=oe=>oe.altKey===!0&&oe.shiftKey===!1&&oe.ctrlKey===!1&&oe.metaKey===!1,Vu=(oe,ke)=>{if(ke){const Qe=Ma(ke);if(/^#/.test(Qe)){const Et=oe.dom.select(`${Qe},[name="${Ho(Qe,"#")}"]`);Et.length&&oe.selection.scrollIntoView(Et[0],!0)}else Vl(ke.href)}},Ui=oe=>{const ke=oe.selection.getRng(),Qe=ke.startContainer;return Wr(Qe)&&ke.startContainer===ke.endContainer&&oe.dom.select("img",Qe).length===1},oi=(oe,ke)=>{const Qe=Zt(oe.dom.getParents(ke));return dt(Qe.length===1,Qe[0])},_l=oe=>{const ke=Mn(oe.selection.getRng());return dt(ke.length>0,ke[0]).or(oi(oe,oe.selection.getNode()))},fc=oe=>oe.selection.isCollapsed()||Ui(oe)?oi(oe,oe.selection.getStart()):_l(oe),qs=oe=>{const ke=$o(),Qe=()=>ke.get().or(fc(oe)),Et=()=>Qe().each(pn=>Vu(oe,pn));return oe.on("contextmenu",pn=>{oi(oe,pn.target).each(ke.set)}),oe.on("SelectionChange",()=>{ke.isSet()||fc(oe).each(ke.set)}),oe.on("click",pn=>{ke.clear();const Wn=Zt(oe.dom.getParents(pn.target));Wn.length===1&&Eu.metaKeyPressed(pn)&&(pn.preventDefault(),Vu(oe,Wn[0]))}),oe.on("keydown",pn=>{ke.clear(),!pn.isDefaultPrevented()&&pn.keyCode===13&&al(pn)&&Qe().each(Wn=>{pn.preventDefault(),Vu(oe,Wn)})}),{gotoSelectedLink:Et}},Af=oe=>()=>{oe.execCommand("mceLink",!1,{dialog:!0})},te=(oe,ke)=>(oe.on("NodeChange",ke),()=>oe.off("NodeChange",ke)),ve=oe=>ke=>{const Qe=()=>{ke.setActive(!oe.mode.isReadOnly()&&ci(oe,oe.selection.getNode())),ke.setEnabled(oe.selection.isEditable())};return Qe(),te(oe,Qe)},Fe=oe=>ke=>{const Qe=()=>{ke.setEnabled(oe.selection.isEditable())};return Qe(),te(oe,Qe)},Rt=oe=>ke=>{const Qe=Wn=>Kt(Wn)||Yn(oe.selection.getRng()),Et=oe.dom.getParents(oe.selection.getStart()),pn=Wn=>{ke.setEnabled(Qe(Wn)&&oe.selection.isEditable())};return pn(Et),te(oe,Wn=>pn(Wn.parents))},qn=(oe,ke)=>{oe.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:Af(oe),onSetup:ve(oe)}),oe.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:ke.gotoSelectedLink,onSetup:Rt(oe)}),oe.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>nt(oe),onSetup:Rt(oe)})},ps=(oe,ke)=>{oe.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:ke.gotoSelectedLink,onSetup:Rt(oe)}),oe.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Af(oe),onSetup:Fe(oe)}),oe.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>nt(oe),onSetup:Rt(oe)})},lr=oe=>{const ke="link unlink openlink",Qe="link";oe.ui.registry.addContextMenu("link",{update:Et=>oe.dom.isEditable(Et)?Kt(oe.dom.getParents(Et,"a"))?ke:Qe:""})},Va=(oe,ke)=>{const Qe=Wn=>{Wn.selection.collapse(!1)},Et=Wn=>{const Po=oe.selection.getNode();return Wn.setEnabled(ci(oe,Po)&&oe.selection.isEditable()),$e},pn=Wn=>{const Po=Oo(oe),Gs=Gn(oe);if(Po.isNone()&&Gs){const Os=Ba(oe.selection,Po);return dt(Os.length===0,Wn)}else return J.none()};oe.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:ve(oe)},label:"Link",predicate:Wn=>Le(oe)&&ci(oe,Wn),initValue:()=>Oo(oe).fold(pe(""),Ma),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Wn=>{const Po=oe.selection.getNode();return Wn.setActive(ci(oe,Po)),ve(oe)(Wn)},onAction:Wn=>{const Po=Wn.getValue(),Gs=pn(Po);Ue(oe,{href:Po,attach:$e},{href:Po,text:Gs,title:J.none(),rel:J.none(),target:J.from(Nt(oe)),class:J.none()}),Qe(oe),Wn.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Et,onAction:Wn=>{nt(oe),Wn.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Et,onAction:Wn=>{ke.gotoSelectedLink(),Wn.hide()}}]})},Ti=oe=>{const ke=qs(oe);qn(oe,ke),ps(oe,ke),lr(oe),Va(oe,ke)};var Ol=()=>{l.add("link",oe=>{Ke(oe),qc(oe),Ti(oe),mn(oe)})};Ol()})()),oae}var rae;function uxe(){return rae||(rae=1,cxe()),nae}uxe();var aae={},iae={},lae;function dxe(){return lae||(lae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const d=Object.getPrototypeOf,p=(te,ve,Fe)=>Fe(te,ve.prototype)?!0:te.constructor?.name===ve.name,x=te=>{const ve=typeof te;return te===null?"null":ve==="object"&&Array.isArray(te)?"array":ve==="object"&&p(te,String,(Fe,Rt)=>Rt.isPrototypeOf(Fe))?"string":ve},A=te=>ve=>x(ve)===te,N=te=>ve=>typeof ve===te,O=te=>ve=>te===ve,z=(te,ve)=>V(te)&&p(te,ve,(Fe,Rt)=>d(Fe)===Rt),U=A("string"),V=A("object"),Y=te=>z(te,Object),ee=A("array"),ue=O(null),Ce=N("boolean"),be=te=>te==null,$e=te=>!be(te),pe=N("function"),it=N("number"),Se=(te,ve)=>{if(ee(te)){for(let Fe=0,Rt=te.length;Fe<Rt;++Fe)if(!ve(te[Fe]))return!1;return!0}return!1},J=()=>{};class vt{tag;value;static singletonNone=new vt(!1);constructor(ve,Fe){this.tag=ve,this.value=Fe}static some(ve){return new vt(!0,ve)}static none(){return vt.singletonNone}fold(ve,Fe){return this.tag?Fe(this.value):ve()}isSome(){return this.tag}isNone(){return!this.tag}map(ve){return this.tag?vt.some(ve(this.value)):vt.none()}bind(ve){return this.tag?ve(this.value):vt.none()}exists(ve){return this.tag&&ve(this.value)}forall(ve){return!this.tag||ve(this.value)}filter(ve){return!this.tag||ve(this.value)?this:vt.none()}getOr(ve){return this.tag?this.value:ve}or(ve){return this.tag?this:ve}getOrThunk(ve){return this.tag?this.value:ve()}orThunk(ve){return this.tag?this:ve()}getOrDie(ve){if(this.tag)return this.value;throw new Error(ve??"Called getOrDie on None")}static from(ve){return $e(ve)?vt.some(ve):vt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ve){this.tag&&ve(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Gt=Array.prototype.push,Xe=te=>{const ve=[];for(let Fe=0,Rt=te.length;Fe<Rt;++Fe){if(!ee(te[Fe]))throw new Error("Arr.flatten item "+Fe+" was not an array, input: "+te);Gt.apply(ve,te[Fe])}return ve},ie=(te,ve)=>ve>=0&&ve<te.length?vt.some(te[ve]):vt.none(),ct=te=>ie(te,0),xn=(te,ve)=>{for(let Fe=0;Fe<te.length;Fe++){const Rt=ve(te[Fe],Fe);if(Rt.isSome())return Rt}return vt.none()},fn=Object.keys,qe=Object.hasOwnProperty,Re=(te,ve)=>{const Fe=fn(te);for(let Rt=0,qn=Fe.length;Rt<qn;Rt++){const ps=Fe[Rt],lr=te[ps];ve(lr,ps)}},Qo=te=>(ve,Fe)=>{te[Fe]=ve},yt=(te,ve,Fe,Rt)=>{Re(te,(qn,ps)=>{(ve(qn,ps)?Fe:Rt)(qn,ps)})},Lt=(te,ve)=>{const Fe={};return yt(te,ve,Qo(Fe),J),Fe},F=(te,ve)=>qe.call(te,ve),jt=(te,ve)=>F(te,ve)&&te[ve]!==void 0&&te[ve]!==null,an=(te=>(...ve)=>{if(ve.length===0)throw new Error("Can't merge zero objects");const Fe={};for(let Rt=0;Rt<ve.length;Rt++){const qn=ve[Rt];for(const ps in qn)F(qn,ps)&&(Fe[ps]=te(Fe[ps],qn[ps]))}return Fe})((te,ve)=>Y(te)&&Y(ve)?an(te,ve):ve),le=te=>te.length>0,Ve=(te,ve)=>{const Rt=(ve||document).createElement("div");if(Rt.innerHTML=te,!Rt.hasChildNodes()||Rt.childNodes.length>1){const qn="HTML does not have a single root node";throw console.error(qn,te),new Error(qn)}return ft(Rt.childNodes[0])},It=(te,ve)=>{const Rt=(ve||document).createElement(te);return ft(Rt)},Ne=(te,ve)=>{const Rt=(ve||document).createTextNode(te);return ft(Rt)},ft=te=>{if(te==null)throw new Error("Node cannot be null or undefined");return{dom:te}},dt={fromHtml:Ve,fromTag:It,fromText:Ne,fromDom:ft,fromPoint:(te,ve,Fe)=>vt.from(te.dom.elementFromPoint(ve,Fe)).map(ft)},X=(te,ve,Fe)=>{if(U(Fe)||Ce(Fe)||it(Fe))te.setAttribute(ve,Fe+"");else throw console.error("Invalid call to Attribute.set. Key ",ve,":: Value ",Fe,":: Element ",te),new Error("Attribute value was not simple")},$o=(te,ve,Fe)=>{X(te.dom,ve,Fe)},xo=(te,ve)=>{te.dom.removeAttribute(ve)};var Mo=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ho=tinymce.util.Tools.resolve("tinymce.util.URI");const js=te=>ve=>ve.options.get(te),Be=te=>{const ve=te.options.register;ve("image_dimensions",{processor:"boolean",default:!0}),ve("image_advtab",{processor:"boolean",default:!1}),ve("image_uploadtab",{processor:"boolean",default:!0}),ve("image_prepend_url",{processor:"string",default:""}),ve("image_class_list",{processor:"object[]"}),ve("image_description",{processor:"boolean",default:!0}),ve("image_title",{processor:"boolean",default:!1}),ve("image_caption",{processor:"boolean",default:!1}),ve("image_list",{processor:Fe=>{const Rt=Fe===!1||U(Fe)||Se(Fe,V)||pe(Fe);return Rt?{value:Fe,valid:Rt}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},Ke=js("image_dimensions"),tt=js("image_advtab"),Le=js("image_uploadtab"),Je=js("image_prepend_url"),Nt=js("image_class_list"),xt=js("image_description"),Un=js("image_title"),Dt=js("image_caption"),Pe=js("image_list"),Tt=js("a11y_advanced_options"),sn=js("automatic_uploads"),Zn=te=>le(te.options.get("images_upload_url")),Yo=te=>$e(te.options.get("images_upload_handler")),Jo=(te,ve)=>Math.max(parseInt(te,10),parseInt(ve,10)),Do=te=>new Promise(ve=>{const Fe=document.createElement("img"),Rt=ps=>{Fe.parentNode&&Fe.parentNode.removeChild(Fe),ve(ps)};Fe.addEventListener("load",()=>{const ps=Jo(Fe.width,Fe.clientWidth),lr=Jo(Fe.height,Fe.clientHeight),Va={width:ps,height:lr};Rt(Promise.resolve(Va))}),Fe.addEventListener("error",()=>{Rt(Promise.reject(`Failed to get image dimensions for: ${te}`))});const qn=Fe.style;qn.visibility="hidden",qn.position="fixed",qn.bottom=qn.left="0px",qn.width=qn.height="auto",document.body.appendChild(Fe),Fe.src=te}),mr=te=>(te&&(te=te.replace(/px$/,"")),te),zo=te=>(te.length>0&&/^[0-9]+$/.test(te)&&(te+="px"),te),os=te=>{if(te.margin){const ve=String(te.margin).split(" ");switch(ve.length){case 1:te["margin-top"]=te["margin-top"]||ve[0],te["margin-right"]=te["margin-right"]||ve[0],te["margin-bottom"]=te["margin-bottom"]||ve[0],te["margin-left"]=te["margin-left"]||ve[0];break;case 2:te["margin-top"]=te["margin-top"]||ve[0],te["margin-right"]=te["margin-right"]||ve[1],te["margin-bottom"]=te["margin-bottom"]||ve[0],te["margin-left"]=te["margin-left"]||ve[1];break;case 3:te["margin-top"]=te["margin-top"]||ve[0],te["margin-right"]=te["margin-right"]||ve[1],te["margin-bottom"]=te["margin-bottom"]||ve[2],te["margin-left"]=te["margin-left"]||ve[1];break;case 4:te["margin-top"]=te["margin-top"]||ve[0],te["margin-right"]=te["margin-right"]||ve[1],te["margin-bottom"]=te["margin-bottom"]||ve[2],te["margin-left"]=te["margin-left"]||ve[3]}delete te.margin}return te},Vs=(te,ve)=>{const Fe=Pe(te);U(Fe)?fetch(Fe).then(Rt=>{Rt.ok&&Rt.json().then(ve)}):pe(Fe)?Fe(ve):ve(Fe)},Ss=(te,ve,Fe)=>{const Rt=()=>{Fe.onload=Fe.onerror=null,te.selection&&(te.selection.select(Fe),te.nodeChanged())};Fe.onload=()=>{!ve.width&&!ve.height&&Ke(te)&&te.dom.setAttribs(Fe,{width:String(Fe.clientWidth),height:String(Fe.clientHeight)}),Rt()},Fe.onerror=Rt},Xs=te=>new Promise((ve,Fe)=>{const Rt=new FileReader;Rt.onload=()=>{ve(Rt.result)},Rt.onerror=()=>{Fe(Rt.error?.message)},Rt.readAsDataURL(te)}),gs=te=>te.nodeName==="IMG"&&(te.hasAttribute("data-mce-object")||te.hasAttribute("data-mce-placeholder")),Wr=(te,ve)=>{const Fe=te.options.get;return Ho.isDomSafe(ve,"img",{allow_html_data_urls:Fe("allow_html_data_urls"),allow_script_urls:Fe("allow_script_urls"),allow_svg_data_urls:Fe("allow_svg_data_urls")})},Es=Mo.DOM,$r=te=>te.style.marginLeft&&te.style.marginRight&&te.style.marginLeft===te.style.marginRight?mr(te.style.marginLeft):"",Ma=te=>te.style.marginTop&&te.style.marginBottom&&te.style.marginTop===te.style.marginBottom?mr(te.style.marginTop):"",Hn=te=>te.style.borderWidth?mr(te.style.borderWidth):"",ts=(te,ve)=>te.hasAttribute(ve)?te.getAttribute(ve)??"":"",Oo=te=>te.parentNode!==null&&te.parentNode.nodeName==="FIGURE",ci=(te,ve,Fe)=>{Fe===""||Fe===null?te.removeAttribute(ve):te.setAttribute(ve,Fe)},Ba=te=>{const ve=Es.create("figure",{class:"image"});Es.insertAfter(ve,te),ve.appendChild(te),ve.appendChild(Es.create("figcaption",{contentEditable:"true"},"Caption")),ve.contentEditable="false"},Mn=te=>{const ve=te.parentNode;$e(ve)&&(Es.insertAfter(te,ve),Es.remove(ve))},Zt=te=>{Oo(te)?Mn(te):Ba(te)},Kt=(te,ve)=>{const Fe=te.getAttribute("style"),Rt=ve(Fe!==null?Fe:"");Rt.length>0?(te.setAttribute("style",Rt),te.setAttribute("data-mce-style",Rt)):te.removeAttribute("style")},Yn=(te,ve)=>(Fe,Rt,qn)=>{const ps=Fe.style;ps[Rt]?(ps[Rt]=zo(qn),Kt(Fe,ve)):ci(Fe,Rt,qn)},Gn=(te,ve)=>te.style[ve]?mr(te.style[ve]):ts(te,ve),vo=(te,ve)=>{const Fe=zo(ve);te.style.marginLeft=Fe,te.style.marginRight=Fe},No=(te,ve)=>{const Fe=zo(ve);te.style.marginTop=Fe,te.style.marginBottom=Fe},Qn=(te,ve)=>{const Fe=zo(ve);te.style.borderWidth=Fe},ls=(te,ve)=>{te.style.borderStyle=ve},La=te=>te.style.borderStyle??"",sl=te=>$e(te)&&te.nodeName==="FIGURE",gi=te=>te.nodeName==="IMG",Pn=te=>{const ve=Es.getAttrib(te,"alt"),Fe=Es.getAttrib(te,"role");return te.hasAttribute("alt")&&ve.length===0||Fe==="presentation"||Fe==="none"},er=te=>Pn(te)?"":ts(te,"alt"),tr=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),jl=(te,ve)=>{const Fe=document.createElement("img");return ci(Fe,"style",ve.style),($r(Fe)||ve.hspace!=="")&&vo(Fe,ve.hspace),(Ma(Fe)||ve.vspace!=="")&&No(Fe,ve.vspace),(Hn(Fe)||ve.border!=="")&&Qn(Fe,ve.border),(La(Fe)||ve.borderStyle!=="")&&ls(Fe,ve.borderStyle),te(Fe.getAttribute("style")??"")},Ie=(te,ve)=>{const Fe=document.createElement("img");if(Zo(te,{...ve,caption:!1},Fe),gn(Fe,ve.alt,ve.isDecorative),ve.caption){const Rt=Es.create("figure",{class:"image"});return Rt.appendChild(Fe),Rt.appendChild(Es.create("figcaption",{contentEditable:"true"},"Caption")),Rt.contentEditable="false",Rt}else return Fe},Ue=(te,ve)=>({src:ts(ve,"src"),alt:er(ve),title:ts(ve,"title"),width:Gn(ve,"width"),height:Gn(ve,"height"),class:ts(ve,"class"),style:te(ts(ve,"style")),caption:Oo(ve),hspace:$r(ve),vspace:Ma(ve),border:Hn(ve),borderStyle:La(ve),isDecorative:Pn(ve)}),nt=(te,ve,Fe,Rt,qn)=>{Fe[Rt]!==ve[Rt]&&qn(te,Rt,String(Fe[Rt]))},gn=(te,ve,Fe)=>{if(Fe){Es.setAttrib(te,"role","presentation");const Rt=dt.fromDom(te);$o(Rt,"alt","")}else{if(ue(ve)){const Rt=dt.fromDom(te);xo(Rt,"alt")}else{const Rt=dt.fromDom(te);$o(Rt,"alt",ve)}Es.getAttrib(te,"role")==="presentation"&&Es.setAttrib(te,"role","")}},Ao=(te,ve,Fe)=>{(Fe.alt!==ve.alt||Fe.isDecorative!==ve.isDecorative)&&gn(te,Fe.alt,Fe.isDecorative)},co=(te,ve)=>(Fe,Rt,qn)=>{te(Fe,qn),Kt(Fe,ve)},Zo=(te,ve,Fe)=>{const Rt=Ue(te,Fe);nt(Fe,Rt,ve,"caption",(qn,ps,lr)=>Zt(qn)),nt(Fe,Rt,ve,"src",ci),nt(Fe,Rt,ve,"title",ci),nt(Fe,Rt,ve,"width",Yn("width",te)),nt(Fe,Rt,ve,"height",Yn("height",te)),nt(Fe,Rt,ve,"class",ci),nt(Fe,Rt,ve,"style",co((qn,ps)=>ci(qn,"style",ps),te)),nt(Fe,Rt,ve,"hspace",co(vo,te)),nt(Fe,Rt,ve,"vspace",co(No,te)),nt(Fe,Rt,ve,"border",co(Qn,te)),nt(Fe,Rt,ve,"borderStyle",co(ls,te)),Ao(Fe,Rt,ve)},us=(te,ve)=>{const Fe=te.dom.styles.parse(ve),Rt=os(Fe),qn=te.dom.styles.parse(te.dom.styles.serialize(Rt));return te.dom.styles.serialize(qn)},ko=te=>{const ve=te.selection.getNode(),Fe=te.dom.getParent(ve,"figure.image");return Fe?te.dom.select("img",Fe)[0]:ve&&(ve.nodeName!=="IMG"||gs(ve))?null:ve},Qs=(te,ve)=>{const Fe=te.dom,Rt=Lt(te.schema.getTextBlockElements(),(ps,lr)=>!te.schema.isValidChild(lr,"figure")),qn=Fe.getParent(ve.parentNode,ps=>jt(Rt,ps.nodeName),te.getBody());return qn?Fe.split(qn,ve)??ve:ve},me=te=>{const ve=ko(te);return ve?Ue(Fe=>us(te,Fe),ve):tr()},je=(te,ve)=>{const Fe=Ie(qn=>us(te,qn),ve);te.dom.setAttrib(Fe,"data-mce-id","__mcenew"),te.focus(),te.insertContent(Fe.outerHTML);const Rt=te.dom.select('*[data-mce-id="__mcenew"]')[0];if(te.dom.setAttrib(Rt,"data-mce-id",null),sl(Rt)){const qn=Qs(te,Rt);te.selection.select(qn)}else te.selection.select(Rt)},Vt=(te,ve)=>{te.dom.setAttrib(ve,"src",ve.getAttribute("src"))},wn=(te,ve)=>{if(ve){const Fe=te.dom.is(ve.parentNode,"figure.image")?ve.parentNode:ve;te.dom.remove(Fe),te.focus(),te.nodeChanged(),te.dom.isEmpty(te.getBody())&&(te.setContent(""),te.selection.setCursorLocation())}},qt=(te,ve)=>{const Fe=ko(te);if(Fe)if(Zo(Rt=>us(te,Rt),ve,Fe),Vt(te,Fe),sl(Fe.parentNode)){te.dom.setStyle(Fe,"float","");const Rt=Fe.parentNode;Qs(te,Rt),te.selection.select(Fe.parentNode)}else te.selection.select(Fe),Ss(te,ve,Fe)},wo=(te,ve)=>{const Fe=ve.src;return{...ve,src:Wr(te,Fe)?Fe:""}},oo=(te,ve)=>{const Fe=ko(te);if(Fe){const qn={...Ue(lr=>us(te,lr),Fe),...ve},ps=wo(te,qn);qn.src?qt(te,ps):wn(te,Fe)}else ve.src&&je(te,{...tr(),...ve})};var Bn=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Uo=tinymce.util.Tools.resolve("tinymce.util.Tools");const vs=te=>U(te.value)?te.value:"",Ts=te=>U(te.text)?te.text:U(te.title)?te.title:"",As=(te,ve)=>{const Fe=[];return Uo.each(te,Rt=>{const qn=Ts(Rt);if(Rt.menu!==void 0){const ps=As(Rt.menu,ve);Fe.push({text:qn,items:ps})}else{const ps=ve(Rt);Fe.push({text:qn,value:ps})}}),Fe},sa=(te=vs)=>ve=>ve?vt.from(ve).map(Fe=>As(Fe,te)):vt.none(),Sa=te=>sa(vs)(te),Qf=te=>F(te,"items"),Tr=(te,ve)=>xn(te,Fe=>Qf(Fe)?Tr(Fe.items,ve):Fe.value===ve?vt.some(Fe):vt.none()),ir={sanitizer:sa,sanitize:Sa,findEntry:(te,ve)=>te.bind(Fe=>Tr(Fe,ve))},Ci={makeTab:te=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},Ir=te=>{const ve=ir.sanitizer(Po=>te.convertURL(Po.value||Po.url||"","src")),Fe=new Promise(Po=>{Vs(te,Gs=>{Po(ve(Gs).map(Os=>Xe([[{text:"None",value:""}],Os])))})}),Rt=ir.sanitize(Nt(te)),qn=tt(te),ps=Le(te),lr=Zn(te),Va=Yo(te),Ti=me(te),Ol=xt(te),oe=Un(te),ke=Ke(te),Qe=Dt(te),Et=Tt(te),pn=sn(te),Wn=vt.some(Je(te)).filter(Po=>U(Po)&&Po.length>0);return Fe.then(Po=>({image:Ti,imageList:Po,classList:Rt,hasAdvTab:qn,hasUploadTab:ps,hasUploadUrl:lr,hasUploadHandler:Va,hasDescription:Ol,hasImageTitle:oe,hasDimensions:ke,hasImageCaption:Qe,prependURL:Wn,hasAccessibilityOptions:Et,automaticUploads:pn}))},Co=te=>{const ve={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},Fe=te.imageList.map(oe=>({name:"images",type:"listbox",label:"Image list",items:oe})),Rt={name:"alt",type:"input",label:"Alternative description",enabled:!(te.hasAccessibilityOptions&&te.image.isDecorative)},qn={name:"title",type:"input",label:"Image title"},ps={name:"dimensions",type:"sizeinput"},lr={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},Va=te.classList.map(oe=>({name:"classes",type:"listbox",label:"Class",items:oe})),Ti={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Ol=oe=>oe?{type:"grid",columns:2}:{type:"panel"};return Xe([[ve],Fe.toArray(),te.hasAccessibilityOptions&&te.hasDescription?[lr]:[],te.hasDescription?[Rt]:[],te.hasImageTitle?[qn]:[],te.hasDimensions?[ps]:[],[{...Ol(te.classList.isSome()&&te.hasImageCaption),items:Xe([Va.toArray(),te.hasImageCaption?[Ti]:[]])}]])},ni={makeTab:te=>({title:"General",name:"general",items:Co(te)}),makeItems:Co},Sf={makeTab:te=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},uc=te=>({prevImage:ir.findEntry(te.imageList,te.image.src),prevAlt:te.image.alt,open:!0}),Hr=te=>({src:{value:te.src,meta:{}},images:te.src,alt:te.alt,title:te.title,dimensions:{width:te.width,height:te.height},classes:te.class,caption:te.caption,style:te.style,vspace:te.vspace,border:te.border,hspace:te.hspace,borderstyle:te.borderStyle,fileinput:[],isDecorative:te.isDecorative}),wu=(te,ve)=>({src:te.src.value,alt:(te.alt===null||te.alt.length===0)&&ve?null:te.alt,title:te.title,width:te.dimensions.width,height:te.dimensions.height,class:te.classes,style:te.style,caption:te.caption,hspace:te.hspace,vspace:te.vspace,border:te.border,borderStyle:te.borderstyle,isDecorative:te.isDecorative}),dc=(te,ve)=>/^(?:[a-zA-Z]+:)?\/\//.test(ve)?vt.none():te.prependURL.bind(Fe=>ve.substring(0,Fe.length)!==Fe?vt.some(Fe+ve):vt.none()),Ef=(te,ve)=>{const Fe=ve.getData();dc(te,Fe.src.value).each(Rt=>{ve.setData({src:{value:Rt,meta:Fe.src.meta}})})},An=(te,ve,Fe)=>{te.hasDescription&&U(Fe.alt)&&(ve.alt=Fe.alt),te.hasAccessibilityOptions&&(ve.isDecorative=Fe.isDecorative||ve.isDecorative||!1),te.hasImageTitle&&U(Fe.title)&&(ve.title=Fe.title),te.hasDimensions&&(U(Fe.width)&&(ve.dimensions.width=Fe.width),U(Fe.height)&&(ve.dimensions.height=Fe.height)),U(Fe.class)&&ir.findEntry(te.classList,Fe.class).each(Rt=>{ve.classes=Rt.value}),te.hasImageCaption&&Ce(Fe.caption)&&(ve.caption=Fe.caption),te.hasAdvTab&&(U(Fe.style)&&(ve.style=Fe.style),U(Fe.vspace)&&(ve.vspace=Fe.vspace),U(Fe.border)&&(ve.border=Fe.border),U(Fe.hspace)&&(ve.hspace=Fe.hspace),U(Fe.borderstyle)&&(ve.borderstyle=Fe.borderstyle))},Cu=(te,ve)=>{const Fe=ve.getData(),Rt=Fe.src.meta;if(Rt!==void 0){const qn=an({},Fe);An(te,qn,Rt),ve.setData(qn)}},Ri=(te,ve,Fe,Rt)=>{const qn=Rt.getData(),ps=qn.src.value,lr=qn.src.meta||{};!lr.width&&!lr.height&&ve.hasDimensions&&(le(ps)?te.imageSize(ps).then(Va=>{Fe.open&&Rt.setData({dimensions:Va})}).catch(Va=>console.error(Va)):Rt.setData({dimensions:{width:"",height:""}}))},pi=(te,ve,Fe)=>{const Rt=Fe.getData(),qn=ir.findEntry(te.imageList,Rt.src.value);ve.prevImage=qn,Fe.setData({images:qn.map(ps=>ps.value).getOr("")})},qr=(te,ve,Fe,Rt)=>{Ef(ve,Rt),Cu(ve,Rt),Ri(te,ve,Fe,Rt),pi(ve,Fe,Rt)},Kd=(te,ve,Fe,Rt)=>{const qn=Rt.getData(),ps=ir.findEntry(ve.imageList,qn.images);ps.each(lr=>{qn.alt===""||Fe.prevImage.map(Ti=>Ti.text===qn.alt).getOr(!1)?lr.value===""?Rt.setData({src:lr,alt:Fe.prevAlt}):Rt.setData({src:lr,alt:lr.text}):Rt.setData({src:lr})}),Fe.prevImage=ps,qr(te,ve,Fe,Rt)},Ei=(te,ve,Fe,Rt)=>{const qn=Rt.getData();Rt.block("Uploading image"),ct(qn.fileinput).fold(()=>{Rt.unblock()},ps=>{const lr=URL.createObjectURL(ps),Va=()=>{Rt.unblock(),URL.revokeObjectURL(lr)},Ti=Ol=>{Rt.setData({src:{value:Ol,meta:{}}}),Rt.showTab("general"),qr(te,ve,Fe,Rt),Rt.focus("src")};Xs(ps).then(Ol=>{const oe=te.createBlobCache(ps,lr,Ol);ve.automaticUploads?te.uploadImage(oe).then(ke=>{Ti(ke.url),Va()}).catch(ke=>{Va(),te.alertErr(ke,()=>{Rt.focus("fileinput")})}):(te.addToBlobCache(oe),Ti(oe.blobUri()),Rt.unblock())})})},rl=(te,ve,Fe)=>(Rt,qn)=>{qn.name==="src"?qr(te,ve,Fe,Rt):qn.name==="images"?Kd(te,ve,Fe,Rt):qn.name==="alt"?Fe.prevAlt=Rt.getData().alt:qn.name==="fileinput"?Ei(te,ve,Fe,Rt):qn.name==="isDecorative"&&Rt.setEnabled("alt",!Rt.getData().isDecorative)},Tf=te=>()=>{te.open=!1},Jf=te=>te.hasAdvTab||te.hasUploadUrl||te.hasUploadHandler?{type:"tabpanel",tabs:Xe([[ni.makeTab(te)],te.hasAdvTab?[Ci.makeTab(te)]:[],te.hasUploadTab&&(te.hasUploadUrl||te.hasUploadHandler)?[Sf.makeTab(te)]:[]])}:{type:"panel",items:ni.makeItems(te)},Su=(te,ve,Fe)=>Rt=>{const qn=an(Hr(ve.image),Rt.getData()),ps={...qn,style:jl(Fe.normalizeCss,wu(qn,!1))};te.execCommand("mceUpdateImage",!1,wu(ps,ve.hasAccessibilityOptions)),te.editorUpload.uploadImagesAuto(),Rt.close()},Yd=te=>ve=>Wr(te,ve)?Do(te.documentBaseURI.toAbsolute(ve)).then(Fe=>({width:String(Fe.width),height:String(Fe.height)})):Promise.resolve({width:"",height:""}),Dl=te=>(ve,Fe,Rt)=>te.editorUpload.blobCache.create({blob:ve,blobUri:Fe,name:ve.name?.replace(/\.[^\.]+$/,""),filename:ve.name,base64:Rt.split(",")[1]}),Wc=te=>ve=>{te.editorUpload.blobCache.add(ve)},qc=te=>(ve,Fe)=>{te.windowManager.alert(ve,Fe)},mn=te=>ve=>us(te,ve),Eu=te=>ve=>te.dom.parseStyle(ve),bd=te=>(ve,Fe)=>te.dom.serializeStyle(ve,Fe),Vl=te=>ve=>Bn(te).upload([ve],!1).then(Fe=>Fe.length===0?Promise.reject("Failed to upload image"):Fe[0].status===!1?Promise.reject(Fe[0].error?.message):Fe[0]),al=te=>{const ve={imageSize:Yd(te),addToBlobCache:Wc(te),createBlobCache:Dl(te),alertErr:qc(te),normalizeCss:mn(te),parseStyle:Eu(te),serializeStyle:bd(te),uploadImage:Vl(te)};return{open:()=>{Ir(te).then(Rt=>{const qn=uc(Rt);return{title:"Insert/Edit Image",size:"normal",body:Jf(Rt),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Hr(Rt.image),onSubmit:Su(te,Rt,ve),onChange:rl(ve,Rt,qn),onClose:Tf(qn)}}).then(te.windowManager.open)}}},Vu=te=>{te.addCommand("mceImage",al(te).open),te.addCommand("mceUpdateImage",(ve,Fe)=>{te.undoManager.transact(()=>oo(te,Fe))})},Ui=te=>{const ve=te.attr("class");return $e(ve)&&/\bimage\b/.test(ve)},oi=te=>ve=>{let Fe=ve.length;const Rt=qn=>{qn.attr("contenteditable",te?"true":null)};for(;Fe--;){const qn=ve[Fe];Ui(qn)&&(qn.attr("contenteditable",te?"false":null),Uo.each(qn.getAll("figcaption"),Rt))}},_l=te=>{te.on("PreInit",()=>{te.parser.addNodeFilter("figure",oi(!0)),te.serializer.addNodeFilter("figure",oi(!1))})},fc=te=>ve=>{const Fe=()=>{ve.setEnabled(te.selection.isEditable())};return te.on("NodeChange",Fe),Fe(),()=>{te.off("NodeChange",Fe)}},qs=te=>{te.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:al(te).open,onSetup:ve=>{ve.setActive($e(ko(te)));const Fe=te.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",ve.setActive).unbind,Rt=fc(te)(ve);return()=>{Fe(),Rt()}}}),te.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:al(te).open,onSetup:fc(te)}),te.ui.registry.addContextMenu("image",{update:ve=>te.selection.isEditable()&&(sl(ve)||gi(ve)&&!gs(ve))?["image"]:[]})};var Af=()=>{l.add("image",te=>{Be(te),_l(te),qs(te),Vu(te)})};Af()})()),iae}var cae;function fxe(){return cae||(cae=1,dxe()),aae}fxe();var uae={},dae={},fae;function mxe(){return fae||(fae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const d=(Be,Ke)=>Be.dispatch("insertCustomChar",{chr:Ke}),p=(Be,Ke)=>{const tt=d(Be,Ke).chr;Be.execCommand("mceInsertContent",!1,tt)},x=(Be,Ke,tt)=>tt(Be,Ke.prototype)?!0:Be.constructor?.name===Ke.name,A=Be=>{const Ke=typeof Be;return Be===null?"null":Ke==="object"&&Array.isArray(Be)?"array":Ke==="object"&&x(Be,String,(tt,Le)=>Le.isPrototypeOf(tt))?"string":Ke},N=Be=>Ke=>A(Ke)===Be,O=Be=>Ke=>typeof Ke===Be,z=Be=>Ke=>Be===Ke,U=N("array"),V=z(null),Y=z(void 0),ee=Be=>Be==null,ue=Be=>!ee(Be),Ce=O("function"),$e=(Be=>()=>Be)(!1);class pe{tag;value;static singletonNone=new pe(!1);constructor(Ke,tt){this.tag=Ke,this.value=tt}static some(Ke){return new pe(!0,Ke)}static none(){return pe.singletonNone}fold(Ke,tt){return this.tag?tt(this.value):Ke()}isSome(){return this.tag}isNone(){return!this.tag}map(Ke){return this.tag?pe.some(Ke(this.value)):pe.none()}bind(Ke){return this.tag?Ke(this.value):pe.none()}exists(Ke){return this.tag&&Ke(this.value)}forall(Ke){return!this.tag||Ke(this.value)}filter(Ke){return!this.tag||Ke(this.value)?this:pe.none()}getOr(Ke){return this.tag?this.value:Ke}or(Ke){return this.tag?this:Ke}getOrThunk(Ke){return this.tag?this.value:Ke()}orThunk(Ke){return this.tag?this:Ke()}getOrDie(Ke){if(this.tag)return this.value;throw new Error(Ke??"Called getOrDie on None")}static from(Ke){return ue(Ke)?pe.some(Ke):pe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ke){this.tag&&Ke(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const it=Array.prototype.push,Se=(Be,Ke)=>{const tt=Be.length,Le=new Array(tt);for(let Je=0;Je<tt;Je++){const Nt=Be[Je];Le[Je]=Ke(Nt,Je)}return Le},J=(Be,Ke)=>{for(let tt=0,Le=Be.length;tt<Le;tt++){const Je=Be[tt];Ke(Je,tt)}},vt=(Be,Ke,tt)=>{for(let Le=0,Je=Be.length;Le<Je;Le++){const Nt=Be[Le];if(Ke(Nt,Le))return pe.some(Nt);if(tt(Nt,Le))break}return pe.none()},Gt=(Be,Ke)=>vt(Be,Ke,$e),Xe=Be=>{const Ke=[];for(let tt=0,Le=Be.length;tt<Le;++tt){if(!U(Be[tt]))throw new Error("Arr.flatten item "+tt+" was not an array, input: "+Be);it.apply(Ke,Be[tt])}return Ke},ie=(Be,Ke)=>Xe(Se(Be,Ke)),ct=Be=>{let Ke=Be;return{get:()=>Ke,set:Je=>{Ke=Je}}},xn=(Be,Ke,tt=0,Le)=>{const Je=Be.indexOf(Ke,tt);return Je!==-1?Y(Le)?!0:Je+Ke.length<=Le:!1},fn=String.fromCodePoint,qe=(Be,Ke)=>{let tt=null;const Le=()=>{V(tt)||(clearTimeout(tt),tt=null)};return{cancel:Le,throttle:(...Nt)=>{Le(),tt=setTimeout(()=>{tt=null,Be.apply(null,Nt)},Ke)}}};var Re=tinymce.util.Tools.resolve("tinymce.util.Tools");const Qo=Be=>Ke=>Ke.options.get(Be),yt=Be=>{const Ke=Be.options.register,tt=Le=>Ce(Le)||U(Le);Ke("charmap",{processor:tt}),Ke("charmap_append",{processor:tt})},Lt=Qo("charmap"),F=Qo("charmap_append"),jt=Re.isArray,at="User Defined",Jn=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],an=Be=>Re.grep(Be,Ke=>jt(Ke)&&Ke.length===2),le=Be=>jt(Be)?an(Be):typeof Be=="function"?Be():[],Ve=(Be,Ke)=>{const tt=Lt(Be);tt&&(Ke=[{name:at,characters:le(tt)}]);const Le=F(Be);if(Le){const Je=Re.grep(Ke,Nt=>Nt.name===at);return Je.length?(Je[0].characters=[...Je[0].characters,...le(Le)],Ke):Ke.concat({name:at,characters:le(Le)})}return Ke},It=Be=>{const Ke=Ve(Be,Jn());return Ke.length>1?[{name:"All",characters:ie(Ke,tt=>tt.characters)}].concat(Ke):Ke},Ne=Be=>({getCharMap:()=>It(Be),insertChar:Le=>{p(Be,Le)}}),ft=(Be,Ke,tt)=>xn(fn(Be).toLowerCase(),tt)?!0:xn(Ke.toLowerCase(),tt)||xn(Ke.toLowerCase().replace(/\s+/g,""),tt),He=(Be,Ke)=>{const tt=[],Le=Ke.toLowerCase();return J(Be.characters,Je=>{ft(Je[0],Je[1],Le)&&tt.push(Je)}),Se(tt,Je=>({text:Je[1],value:fn(Je[0]),icon:fn(Je[0])}))},dt="pattern",X=(Be,Ke)=>{const tt=()=>[{label:"Search",type:"input",name:dt},{type:"collection",name:"results"}],Le=()=>Se(Ke,Jo=>({title:Jo.name,name:Jo.name,items:tt()})),Je=()=>({type:"panel",items:tt()}),Nt=()=>({type:"tabpanel",tabs:Le()}),xt=Ke.length===1?ct(at):ct("All"),Un=(Jo,Do)=>{Gt(Ke,mr=>mr.name===xt.get()).each(mr=>{const zo=He(mr,Do);Jo.setData({results:zo})})},Pe=qe(Jo=>{const Do=Jo.getData().pattern;Un(Jo,Do)},40),Tt=Ke.length===1?Je():Nt(),sn={pattern:"",results:He(Ke[0],"")},Zn={title:"Special Character",size:"normal",body:Tt,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:sn,onAction:(Jo,Do)=>{Do.name==="results"&&(p(Be,Do.value),Jo.close())},onTabChange:(Jo,Do)=>{xt.set(Do.newTabName),Pe.throttle(Jo)},onChange:(Jo,Do)=>{Do.name===dt&&Pe.throttle(Jo)}};Be.windowManager.open(Zn).focus(dt)},$o=(Be,Ke)=>{Be.addCommand("mceShowCharmap",()=>{X(Be,Ke)})},xo=(Be,Ke)=>{Be.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(tt,Le)=>new Promise((Je,Nt)=>{Je(He(Ke,tt))}),onAction:(tt,Le,Je)=>{Be.selection.setRng(Le),Be.insertContent(Je),tt.hide()}})},Mo=Be=>Ke=>{const tt=()=>{Ke.setEnabled(Be.selection.isEditable())};return Be.on("NodeChange",tt),tt(),()=>{Be.off("NodeChange",tt)}},Ho=Be=>{const Ke=()=>Be.execCommand("mceShowCharmap");Be.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:Ke,onSetup:Mo(Be)}),Be.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:Ke,onSetup:Mo(Be)})};var js=()=>{l.add("charmap",Be=>{yt(Be);const Ke=It(Be);return $o(Be,Ke),Ho(Be),xo(Be,Ke[0]),Ne(Be)})};js()})()),dae}var mae;function hxe(){return mae||(mae=1,mxe()),uae}hxe();var hae={},gae={},pae;function gxe(){return pae||(pae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const d=Zt=>Kt=>typeof Kt===Zt,x=(Zt=>Kt=>Zt===Kt)(void 0),A=Zt=>Zt==null,N=Zt=>!A(Zt),O=d("function"),z=Zt=>()=>Zt,U=Zt=>Zt,V=z(!1);class Y{tag;value;static singletonNone=new Y(!1);constructor(Kt,Yn){this.tag=Kt,this.value=Yn}static some(Kt){return new Y(!0,Kt)}static none(){return Y.singletonNone}fold(Kt,Yn){return this.tag?Yn(this.value):Kt()}isSome(){return this.tag}isNone(){return!this.tag}map(Kt){return this.tag?Y.some(Kt(this.value)):Y.none()}bind(Kt){return this.tag?Kt(this.value):Y.none()}exists(Kt){return this.tag&&Kt(this.value)}forall(Kt){return!this.tag||Kt(this.value)}filter(Kt){return!this.tag||Kt(this.value)?this:Y.none()}getOr(Kt){return this.tag?this.value:Kt}or(Kt){return this.tag?this:Kt}getOrThunk(Kt){return this.tag?this.value:Kt()}orThunk(Kt){return this.tag?this:Kt()}getOrDie(Kt){if(this.tag)return this.value;throw new Error(Kt??"Called getOrDie on None")}static from(Kt){return N(Kt)?Y.some(Kt):Y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Kt){this.tag&&Kt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const ee=Array.prototype.indexOf,ue=(Zt,Kt)=>ee.call(Zt,Kt),Ce=(Zt,Kt)=>ue(Zt,Kt)>-1,be=(Zt,Kt)=>{for(let Yn=0,Gn=Zt.length;Yn<Gn;Yn++){const vo=Zt[Yn];if(Kt(vo,Yn))return!0}return!1},$e=(Zt,Kt)=>{const Yn=Zt.length,Gn=new Array(Yn);for(let vo=0;vo<Yn;vo++){const No=Zt[vo];Gn[vo]=Kt(No,vo)}return Gn},pe=(Zt,Kt,Yn)=>{for(let Gn=0,vo=Zt.length;Gn<vo;Gn++){const No=Zt[Gn];if(Kt(No,Gn))return Y.some(No);if(Yn(No,Gn))break}return Y.none()},it=(Zt,Kt)=>pe(Zt,Kt,V),Se=(Zt,Kt)=>{for(let Yn=0;Yn<Zt.length;Yn++){const Gn=Kt(Zt[Yn],Yn);if(Gn.isSome())return Gn}return Y.none()},J=(Zt,Kt)=>{const Yn=[],Gn=O(Kt)?vo=>be(Yn,No=>Kt(No,vo)):vo=>Ce(Yn,vo);for(let vo=0,No=Zt.length;vo<No;vo++){const Qn=Zt[vo];Gn(Qn)||Yn.push(Qn)}return Yn},vt=Object.keys,Gt=(Zt,Kt)=>{const Yn=vt(Zt);for(let Gn=0,vo=Yn.length;Gn<vo;Gn++){const No=Yn[Gn],Qn=Zt[No];Kt(Qn,No)}},Xe=(Zt,Kt)=>{const Yn=[];return Gt(Zt,(Gn,vo)=>{Yn.push(Kt(Gn,vo))}),Yn},ie=Zt=>Xe(Zt,U),ct=(Zt,Kt,Yn=0,Gn)=>{const vo=Zt.indexOf(Kt,Yn);return vo!==-1?x(Gn)?!0:vo+Kt.length<=Gn:!1},xn=Zt=>{let Kt=!1,Yn;return(...Gn)=>(Kt||(Kt=!0,Yn=Zt.apply(null,Gn)),Yn)},fn=(Zt,Kt,Yn,Gn)=>{const vo=Zt.isiOS()&&/ipad/i.test(Yn)===!0,No=Zt.isiOS()&&!vo,Qn=Zt.isiOS()||Zt.isAndroid(),ls=Qn||Gn("(pointer:coarse)"),La=vo||!No&&Qn&&Gn("(min-device-width:768px)"),sl=No||Qn&&!La,gi=Kt.isSafari()&&Zt.isiOS()&&/safari/i.test(Yn)===!1,Pn=!sl&&!La&&!gi;return{isiPad:z(vo),isiPhone:z(No),isTablet:z(La),isPhone:z(sl),isTouch:z(ls),isAndroid:Zt.isAndroid,isiOS:Zt.isiOS,isWebView:z(gi),isDesktop:z(Pn)}},qe=(Zt,Kt)=>{for(let Yn=0;Yn<Zt.length;Yn++){const Gn=Zt[Yn];if(Gn.test(Kt))return Gn}},Re=(Zt,Kt)=>{const Yn=qe(Zt,Kt);if(!Yn)return{major:0,minor:0};const Gn=vo=>Number(Kt.replace(Yn,"$"+vo));return Lt(Gn(1),Gn(2))},Qo=(Zt,Kt)=>{const Yn=String(Kt).toLowerCase();return Zt.length===0?yt():Re(Zt,Yn)},yt=()=>Lt(0,0),Lt=(Zt,Kt)=>({major:Zt,minor:Kt}),F={nu:Lt,detect:Qo,unknown:yt},jt=(Zt,Kt)=>Se(Kt.brands,Yn=>{const Gn=Yn.brand.toLowerCase();return it(Zt,vo=>Gn===vo.brand?.toLowerCase()).map(vo=>({current:vo.name,version:F.nu(parseInt(Yn.version,10),0)}))}),at=(Zt,Kt)=>{const Yn=String(Kt).toLowerCase();return it(Zt,Gn=>Gn.search(Yn))},Jn=(Zt,Kt)=>at(Zt,Kt).map(Yn=>{const Gn=F.detect(Yn.versionRegexes,Kt);return{current:Yn.name,version:Gn}}),an=(Zt,Kt)=>at(Zt,Kt).map(Yn=>{const Gn=F.detect(Yn.versionRegexes,Kt);return{current:Yn.name,version:Gn}}),le=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ve=Zt=>Kt=>ct(Kt,Zt),It=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:Zt=>ct(Zt,"edge/")&&ct(Zt,"chrome")&&ct(Zt,"safari")&&ct(Zt,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,le],search:Zt=>ct(Zt,"chrome")&&!ct(Zt,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:Zt=>ct(Zt,"msie")||ct(Zt,"trident")},{name:"Opera",versionRegexes:[le,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ve("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ve("firefox")},{name:"Safari",versionRegexes:[le,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:Zt=>(ct(Zt,"safari")||ct(Zt,"mobile/"))&&ct(Zt,"applewebkit")}],Ne=[{name:"Windows",search:Ve("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:Zt=>ct(Zt,"iphone")||ct(Zt,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ve("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ve("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ve("linux"),versionRegexes:[]},{name:"Solaris",search:Ve("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ve("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ve("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ft={browsers:z(It),oses:z(Ne)},He="Edge",dt="Chromium",X="IE",$o="Opera",xo="Firefox",Mo="Safari",Ho=()=>js({current:void 0,version:F.unknown()}),js=Zt=>{const Kt=Zt.current,Yn=Zt.version,Gn=vo=>()=>Kt===vo;return{current:Kt,version:Yn,isEdge:Gn(He),isChromium:Gn(dt),isIE:Gn(X),isOpera:Gn($o),isFirefox:Gn(xo),isSafari:Gn(Mo)}},Be={unknown:Ho,nu:js},Ke="Windows",tt="iOS",Le="Android",Je="Linux",Nt="macOS",xt="Solaris",Un="FreeBSD",Dt="ChromeOS",Pe=()=>Tt({current:void 0,version:F.unknown()}),Tt=Zt=>{const Kt=Zt.current,Yn=Zt.version,Gn=vo=>()=>Kt===vo;return{current:Kt,version:Yn,isWindows:Gn(Ke),isiOS:Gn(tt),isAndroid:Gn(Le),isMacOS:Gn(Nt),isLinux:Gn(Je),isSolaris:Gn(xt),isFreeBSD:Gn(Un),isChromeOS:Gn(Dt)}},sn={unknown:Pe,nu:Tt},Yo={detect:(Zt,Kt,Yn)=>{const Gn=ft.browsers(),vo=ft.oses(),No=Kt.bind(La=>jt(Gn,La)).orThunk(()=>Jn(Gn,Zt)).fold(Be.unknown,Be.nu),Qn=an(vo,Zt).fold(sn.unknown,sn.nu),ls=fn(Qn,No,Zt,Yn);return{browser:No,os:Qn,deviceType:ls}}},Jo=Zt=>window.matchMedia(Zt).matches;let Do=xn(()=>Yo.detect(window.navigator.userAgent,Y.from(window.navigator.userAgentData),Jo));const mr=()=>Do(),zo=()=>mr().os.isMacOS(),os=()=>mr().os.isiOS(),Vs=()=>{const Zt=zo()||os();return`<script>(${(Yn=>{document.addEventListener("click",Gn=>{for(let vo=Gn.target;vo;vo=vo.parentNode)if(vo.nodeName==="A"){const Qn=vo.getAttribute("href");if(Qn&&Qn.startsWith("#")){Gn.preventDefault();const La=document.getElementById(Qn.substring(1));La&&La.scrollIntoView({behavior:"smooth"});return}(Yn?Gn.metaKey:Gn.ctrlKey&&!Gn.altKey)||Gn.preventDefault()}},!1)}).toString()})(${Zt})<\/script>`};var Ss=tinymce.util.Tools.resolve("tinymce.dom.ScriptLoader"),Xs=tinymce.util.Tools.resolve("tinymce.util.Tools");const gs=Zt=>Kt=>Kt.options.get(Zt),Wr=gs("content_style"),Es=gs("content_css_cors"),$r=gs("body_class"),Ma=gs("body_id"),Hn=Zt=>{const Kt=J(ie(Zt.schema.getComponentUrls()));return $e(Kt,Yn=>{const Gn=Xe(Ss.ScriptLoader.getScriptAttributes(Yn),(vo,No)=>` ${Zt.dom.encode(No)}="${Zt.dom.encode(vo)}"`);return`<script src="${Zt.dom.encode(Yn)}"${Gn.join("")}><\/script>`}).join("")},ts=Zt=>{let Kt="";const Yn=Zt.dom.encode,Gn=Wr(Zt)??"";Kt+=`<base href="${Yn(Zt.documentBaseURI.getURI())}">`;const vo=Es(Zt)?' crossorigin="anonymous"':"";Xs.each(Zt.contentCSS,gi=>{Kt+='<link type="text/css" rel="stylesheet" href="'+Yn(Zt.documentBaseURI.toAbsolute(gi))+'"'+vo+">"}),Gn&&(Kt+='<style type="text/css">'+Gn+"</style>"),Kt+=Hn(Zt);const No=Ma(Zt),Qn=$r(Zt),ls=Zt.getBody().dir,La=ls?' dir="'+Yn(ls)+'"':"";return"<!DOCTYPE html><html><head>"+Kt+'</head><body id="'+Yn(No)+'" class="mce-content-body '+Yn(Qn)+'"'+La+">"+Zt.getContent()+Vs()+"</body></html>"},Oo=Zt=>{const Kt=ts(Zt);Zt.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:Kt}}).focus("close")},ci=Zt=>{Zt.addCommand("mcePreview",()=>{Oo(Zt)})},Ba=Zt=>{const Kt=()=>Zt.execCommand("mcePreview");Zt.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:Kt,context:"any"}),Zt.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:Kt,context:"any"})};var Mn=()=>{l.add("preview",Zt=>{ci(Zt),Ba(Zt)})};Mn()})()),gae}var bae;function pxe(){return bae||(bae=1,gxe()),hae}pxe();var yae={},vae={},xae;function bxe(){return xae||(xae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager"),d=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),p=tinymce.util.Tools.resolve("tinymce.util.Tools");const x=yt=>Lt=>Lt.options.get(yt),A=yt=>{const Lt=yt.options.register;Lt("allow_html_in_named_anchor",{processor:"boolean",default:!1})},N=x("allow_html_in_named_anchor"),O="a:not([href])",z=yt=>!yt,U=yt=>yt.getAttribute("id")||yt.getAttribute("name")||"",V=yt=>yt.nodeName.toLowerCase()==="a",Y=yt=>V(yt)&&!yt.getAttribute("href")&&U(yt)!=="",ee=yt=>Y(yt)&&!yt.firstChild,ue=yt=>{const Lt=yt.dom;d(Lt).walk(yt.selection.getRng(),F=>{p.each(F,jt=>{ee(jt)&&Lt.remove(jt,!1)})})},Ce=yt=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(yt),be=yt=>yt.dom.getParent(yt.selection.getStart(),O),$e=yt=>{const Lt=be(yt);return Lt?U(Lt):""},pe=(yt,Lt)=>{yt.undoManager.transact(()=>{N(yt)||yt.selection.collapse(!0),yt.selection.isCollapsed()?yt.insertContent(yt.dom.createHTML("a",{id:Lt})):(ue(yt),yt.formatter.remove("namedAnchor",void 0,void 0,!0),yt.formatter.apply("namedAnchor",{value:Lt}),yt.addVisual())})},it=(yt,Lt,F)=>{F.removeAttribute("name"),F.id=Lt,yt.addVisual(),yt.undoManager.add()},Se=(yt,Lt)=>{const F=be(yt);F?it(yt,Lt,F):pe(yt,Lt),yt.focus()},J=(yt,Lt)=>Ce(Lt)?(Se(yt,Lt),!0):(yt.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1),vt=yt=>{const Lt=$e(yt);yt.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:Lt},onSubmit:F=>{J(yt,F.getData().id)&&F.close()}})},Gt=yt=>{yt.addCommand("mceAnchor",()=>{vt(yt)})},Xe=yt=>z(yt.attr("href"))&&!z(yt.attr("id")||yt.attr("name")),ie=yt=>Xe(yt)&&!yt.firstChild,ct=yt=>Lt=>{for(let F=0;F<Lt.length;F++){const jt=Lt[F];ie(jt)&&jt.attr("contenteditable",yt)}},xn=yt=>{yt.on("PreInit",()=>{yt.parser.addNodeFilter("a",ct("false")),yt.serializer.addNodeFilter("a",ct(null))})},fn=yt=>{yt.formatter.register("namedAnchor",{inline:"a",selector:O,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:(Lt,F,jt)=>Y(Lt)})},qe=yt=>Lt=>{const F=()=>{Lt.setEnabled(yt.selection.isEditable())};return yt.on("NodeChange",F),F(),()=>{yt.off("NodeChange",F)}},Re=yt=>{const Lt=()=>yt.execCommand("mceAnchor");yt.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:Lt,onSetup:F=>{const jt=yt.selection.selectorChangedWithUnbind("a:not([href])",F.setActive).unbind,at=qe(yt)(F);return()=>{jt(),at()}}}),yt.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:Lt,onSetup:qe(yt)})};var Qo=()=>{l.add("anchor",yt=>{A(yt),xn(yt),Gt(yt),Re(yt),yt.on("PreInit",()=>{fn(yt)})})};Qo()})()),vae}var wae;function yxe(){return wae||(wae=1,bxe()),yae}yxe();var Cae={},Sae={},Eae;function vxe(){return Eae||(Eae=1,(function(){const l=(me,je,Vt)=>Vt(me,je.prototype)?!0:me.constructor?.name===je.name,d=me=>{const je=typeof me;return me===null?"null":je==="object"&&Array.isArray(me)?"array":je==="object"&&l(me,String,(Vt,wn)=>wn.isPrototypeOf(Vt))?"string":je},p=me=>je=>d(je)===me,x=me=>je=>typeof je===me,A=p("string"),N=p("array"),O=x("boolean"),z=me=>me==null,U=me=>!z(me),V=x("number"),Y=()=>{},ee=me=>()=>me,ue=ee(!0);class Ce{tag;value;static singletonNone=new Ce(!1);constructor(je,Vt){this.tag=je,this.value=Vt}static some(je){return new Ce(!0,je)}static none(){return Ce.singletonNone}fold(je,Vt){return this.tag?Vt(this.value):je()}isSome(){return this.tag}isNone(){return!this.tag}map(je){return this.tag?Ce.some(je(this.value)):Ce.none()}bind(je){return this.tag?je(this.value):Ce.none()}exists(je){return this.tag&&je(this.value)}forall(je){return!this.tag||je(this.value)}filter(je){return!this.tag||je(this.value)?this:Ce.none()}getOr(je){return this.tag?this.value:je}or(je){return this.tag?this:je}getOrThunk(je){return this.tag?this.value:je()}orThunk(je){return this.tag?this:je()}getOrDie(je){if(this.tag)return this.value;throw new Error(je??"Called getOrDie on None")}static from(je){return U(je)?Ce.some(je):Ce.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(je){this.tag&&je(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const be=Array.prototype.slice,$e=Array.prototype.push,pe=(me,je)=>{const Vt=me.length,wn=new Array(Vt);for(let qt=0;qt<Vt;qt++){const wo=me[qt];wn[qt]=je(wo,qt)}return wn},it=(me,je)=>{for(let Vt=0,wn=me.length;Vt<wn;Vt++){const qt=me[Vt];je(qt,Vt)}},Se=(me,je)=>{for(let Vt=me.length-1;Vt>=0;Vt--){const wn=me[Vt];je(wn,Vt)}},J=(me,je)=>{if(me.length===0)return[];{let Vt=je(me[0]);const wn=[];let qt=[];for(let wo=0,oo=me.length;wo<oo;wo++){const Bn=me[wo],Uo=je(Bn);Uo!==Vt&&(wn.push(qt),qt=[]),Vt=Uo,qt.push(Bn)}return qt.length!==0&&wn.push(qt),wn}},vt=(me,je,Vt)=>(it(me,(wn,qt)=>{Vt=je(Vt,wn,qt)}),Vt),Gt=me=>{const je=[];for(let Vt=0,wn=me.length;Vt<wn;++Vt){if(!N(me[Vt]))throw new Error("Arr.flatten item "+Vt+" was not an array, input: "+me);$e.apply(je,me[Vt])}return je},Xe=(me,je)=>Gt(pe(me,je)),ie=(me,je)=>{const Vt=be.call(me,0);return Vt.sort(je),Vt},ct=Object.hasOwnProperty,xn=(me,je)=>ct.call(me,je),fn=me=>{let je=me;return{get:()=>je,set:qt=>{je=qt}}},qe=me=>{const je=fn(Ce.none()),Vt=()=>je.get().each(me);return{clear:()=>{Vt(),je.set(Ce.none())},isSet:()=>je.get().isSome(),get:()=>je.get(),set:Bn=>{Vt(),je.set(Ce.some(Bn))}}},Re=()=>{const me=qe(Y);return{...me,on:Vt=>me.get().each(Vt)}};var Qo=tinymce.util.Tools.resolve("tinymce.PluginManager");const F=ee("[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]");var jt=tinymce.util.Tools.resolve("tinymce.Env"),at=tinymce.util.Tools.resolve("tinymce.util.Tools");const Jn=(me,je)=>{const wn=(je||document).createElement("div");if(wn.innerHTML=me,!wn.hasChildNodes()||wn.childNodes.length>1){const qt="HTML does not have a single root node";throw console.error(qt,me),new Error(qt)}return Ve(wn.childNodes[0])},an=(me,je)=>{const wn=(je||document).createElement(me);return Ve(wn)},le=(me,je)=>{const wn=(je||document).createTextNode(me);return Ve(wn)},Ve=me=>{if(me==null)throw new Error("Node cannot be null or undefined");return{dom:me}},Ne={fromHtml:Jn,fromTag:an,fromText:le,fromDom:Ve,fromPoint:(me,je,Vt)=>Ce.from(me.dom.elementFromPoint(je,Vt)).map(Ve)},ft=9,He=11,dt=1,X=3,$o=me=>me.nodeType!==dt&&me.nodeType!==ft&&me.nodeType!==He||me.childElementCount===0,xo=(me,je)=>{const Vt=je===void 0?document:je.dom;return $o(Vt)?[]:pe(Vt.querySelectorAll(me),Ne.fromDom)},Mo=(me,je,Vt)=>(me.compareDocumentPosition(je)&Vt)!==0,Ho=(me,je)=>Mo(me,je,Node.DOCUMENT_POSITION_PRECEDING),js=me=>me.dom.nodeType,Ke=(me=>je=>js(je)===me)(X),tt=me=>Ce.from(me.dom.parentNode).map(Ne.fromDom),Le=me=>pe(me.dom.childNodes,Ne.fromDom),Je=(me,je)=>({element:me,offset:je}),Nt=(me,je)=>{const Vt=Le(me);return Vt.length>0&&je<Vt.length?Je(Vt[je],0):Je(me,je)},xt=(me,je)=>{tt(me).each(wn=>{wn.dom.insertBefore(je.dom,me.dom)})},Un=(me,je)=>{me.dom.appendChild(je.dom)},Dt=(me,je)=>{xt(me,je),Un(je,me)},Pe=(me,je,Vt)=>{if(A(Vt)||O(Vt)||V(Vt))me.setAttribute(je,Vt+"");else throw console.error("Invalid call to Attribute.set. Key ",je,":: Value ",Vt,":: Element ",me),new Error("Attribute value was not simple")},Tt=(me,je,Vt)=>{Pe(me.dom,je,Vt)},Zn=((me,je)=>{const Vt=wo=>{if(!me(wo))throw new Error("Can only get "+je+" value of a "+je+" node");return wn(wo).getOr("")},wn=wo=>me(wo)?Ce.from(wo.dom.nodeValue):Ce.none();return{get:Vt,getOption:wn,set:(wo,oo)=>{if(!me(wo))throw new Error("Can only set raw "+je+" value of a "+je+" node");wo.dom.nodeValue=oo}}})(Ke,"text"),Yo=me=>Zn.get(me),Jo=(me,je)=>xo(je,me);var Do=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const mr=(me,je)=>me.isBlock(je)||xn(me.schema.getVoidElements(),je.nodeName),zo=(me,je)=>!me.isEditable(je),os=(me,je)=>me.getContentEditable(je)==="true"&&je.parentNode&&!me.isEditable(je.parentNode),Vs=(me,je)=>!me.isBlock(je)&&xn(me.schema.getWhitespaceElements(),je.nodeName),Ss=(me,je)=>mr(me,je)||zo(me,je)||Vs(me,je)||os(me,je),Xs=me=>me.nodeType===3,gs=()=>({sOffset:0,fOffset:0,elements:[]}),Wr=(me,je)=>Nt(Ne.fromDom(me),je),Es=(me,je,Vt,wn,qt,wo=!0)=>{let oo=wo?je(!1):Vt;for(;oo;){const Bn=zo(me,oo);if(Bn||Vs(me,oo)){if(Bn?wn.cef(oo):wn.boundary(oo))break;oo=je(!0);continue}else if(mr(me,oo)){if(wn.boundary(oo))break}else Xs(oo)&&wn.text(oo);if(oo===qt)break;oo=je(!1)}},$r=(me,je,Vt,wn,qt)=>{if(Ss(me,Vt))return;const wo=me.getParent(wn,me.isBlock)??me.getRoot(),oo=new Do(Vt,wo),Bn=qt?oo.next.bind(oo):oo.prev.bind(oo);Es(me,Bn,Vt,{boundary:ue,cef:ue,text:Uo=>{qt?je.fOffset+=Uo.length:je.sOffset+=Uo.length,je.elements.push(Ne.fromDom(Uo))}})},Ma=(me,je,Vt,wn,qt,wo=!0)=>{const oo=new Do(Vt,je),Bn=[];let Uo=gs();$r(me,Uo,Vt,je,!1);const vs=()=>(Uo.elements.length>0&&(Bn.push(Uo),Uo=gs()),!1);return Es(me,oo.next.bind(oo),Vt,{boundary:vs,cef:Ts=>(vs(),qt&&Bn.push(...qt.cef(Ts)),!1),text:Ts=>{Uo.elements.push(Ne.fromDom(Ts)),qt&&qt.text(Ts,Uo)}},wn,wo),wn&&$r(me,Uo,wn,je,!0),vs(),Bn},Hn=(me,je)=>{const Vt=Wr(je.startContainer,je.startOffset),wn=Vt.element.dom,qt=Wr(je.endContainer,je.endOffset),wo=qt.element.dom;return Ma(me,je.commonAncestorContainer,wn,wo,{text:(oo,Bn)=>{oo===wo?Bn.fOffset+=oo.length-qt.offset:oo===wn&&(Bn.sOffset+=Vt.offset)},cef:oo=>{const Bn=Xe(Jo(Ne.fromDom(oo),"*[contenteditable=true]"),Uo=>{const vs=Uo.dom;return Ma(me,vs,vs)});return ie(Bn,(Uo,vs)=>Ho(Uo.elements[0].dom,vs.elements[0].dom)?1:-1)}},!1)},ts=(me,je)=>je.collapsed?[]:Hn(me,je),Oo=(me,je)=>{const Vt=me.createRng();return Vt.selectNode(je),ts(me,Vt)},ci=(me,je)=>Xe(je,Vt=>Oo(me,Vt)),Ba=(me,je,Vt=0,wn=me.length)=>{const qt=je.regex;qt.lastIndex=Vt;const wo=[];let oo;for(;oo=qt.exec(me);){const Bn=oo[je.matchIndex],Uo=oo.index+oo[0].indexOf(Bn),vs=Uo+Bn.length;if(vs>wn)break;wo.push({start:Uo,finish:vs}),qt.lastIndex=vs}return wo},Mn=(me,je)=>{const Vt=vt(me,(wn,qt)=>{const wo=Yo(qt),oo=wn.last,Bn=oo+wo.length,Uo=Xe(je,(vs,Ts)=>vs.start<Bn&&vs.finish>oo?[{element:qt,start:Math.max(oo,vs.start)-oo,finish:Math.min(Bn,vs.finish)-oo,matchId:Ts}]:[]);return{results:wn.results.concat(Uo),last:Bn}},{results:[],last:0}).results;return J(Vt,wn=>wn.matchId)},Zt=(me,je)=>Xe(je,Vt=>{const wn=Vt.elements,qt=pe(wn,Yo).join(""),wo=Ba(qt,me,Vt.sOffset,qt.length-Vt.fOffset);return Mn(wn,wo)}),Kt=(me,je)=>{Se(me,(Vt,wn)=>{Se(Vt,qt=>{const wo=Ne.fromDom(je.cloneNode(!1));Tt(wo,"data-mce-index",wn);const oo=qt.element.dom;if(oo.length===qt.finish&&qt.start===0)Dt(qt.element,wo);else{oo.length!==qt.finish&&oo.splitText(qt.finish);const Bn=oo.splitText(qt.start);Dt(Ne.fromDom(Bn),wo)}})})},Yn=(me,je,Vt,wn)=>{const qt=Oo(me,Vt),wo=Zt(je,qt);return Kt(wo,wn),wo.length},Gn=(me,je,Vt,wn)=>{const qt=Vt.getBookmark(),wo=me.select("td[data-mce-selected],th[data-mce-selected]"),oo=wo.length>0?ci(me,wo):ts(me,Vt.getRng()),Bn=Zt(je,oo);return Kt(Bn,wn),Vt.moveToBookmark(qt),Bn.length},vo=me=>me.getAttribute("data-mce-index"),No=(me,je,Vt,wn)=>{const qt=me.dom.create("span",{"data-mce-bogus":1});qt.className="mce-match-marker";const wo=me.getBody();return Ue(me,je,!1),wn?Gn(me.dom,Vt,me.selection,qt):Yn(me.dom,Vt,wo,qt)},Qn=me=>{const je=me.parentNode;me.firstChild&&je.insertBefore(me.firstChild,me),me.parentNode?.removeChild(me)},ls=(me,je)=>{const Vt=[],wn=at.toArray(me.getBody().getElementsByTagName("span"));if(wn.length)for(let qt=0;qt<wn.length;qt++){const wo=vo(wn[qt]);wo===null||!wo.length||wo===je.toString()&&Vt.push(wn[qt])}return Vt},La=(me,je,Vt)=>{const wn=je.get();let qt=wn.index;const wo=me.dom;Vt?qt+1===wn.count?qt=0:qt++:qt-1===-1?qt=wn.count-1:qt--,wo.removeClass(ls(me,wn.index),"mce-match-marker-selected");const oo=ls(me,qt);return oo.length?(wo.addClass(ls(me,qt),"mce-match-marker-selected"),me.selection.scrollIntoView(oo[0]),qt):-1},sl=(me,je)=>{const Vt=je.parentNode;me.remove(je),Vt&&me.isEmpty(Vt)&&me.remove(Vt)},gi=(me,je)=>{const wn="("+me.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return je?`(?:^|\\s|${F()})`+wn+`(?=$|\\s|${F()})`:wn},Pn=(me,je,Vt,wn,qt,wo)=>{const oo=me.selection,Bn=gi(Vt,qt),Uo=oo.isForward(),vs={regex:new RegExp(Bn,wn?"g":"gi"),matchIndex:1},Ts=No(me,je,vs,wo);if(jt.browser.isSafari()&&oo.setRng(oo.getRng(),Uo),Ts){const As=La(me,je,!0);je.set({index:As,count:Ts,text:Vt,matchCase:wn,wholeWord:qt,inSelection:wo})}return Ts},er=(me,je)=>{const Vt=La(me,je,!0);je.set({...je.get(),index:Vt})},tr=(me,je)=>{const Vt=La(me,je,!1);je.set({...je.get(),index:Vt})},jl=me=>{const je=vo(me);return je!==null&&je.length>0},Ie=(me,je,Vt,wn,qt)=>{const wo=je.get(),oo=wo.index;let Bn,Uo=oo;wn=wn!==!1;const vs=me.getBody(),Ts=at.grep(at.toArray(vs.getElementsByTagName("span")),jl);for(let As=0;As<Ts.length;As++){const sa=vo(Ts[As]);let Sa=Bn=parseInt(sa,10);if(qt||Sa===wo.index){for(Vt.length?(Ts[As].innerText=Vt,Qn(Ts[As])):sl(me.dom,Ts[As]);Ts[++As];)if(Sa=parseInt(vo(Ts[As]),10),Sa===Bn)sl(me.dom,Ts[As]);else{As--;break}wn&&Uo--}else Bn>oo&&Ts[As].setAttribute("data-mce-index",String(Bn-1))}return je.set({...wo,count:qt?0:wo.count-1,index:Uo}),wn?er(me,je):tr(me,je),!qt&&je.get().count>0},Ue=(me,je,Vt)=>{let wn,qt;const wo=je.get(),oo=at.toArray(me.getBody().getElementsByTagName("span"));for(let Bn=0;Bn<oo.length;Bn++){const Uo=vo(oo[Bn]);Uo!==null&&Uo.length&&(Uo===wo.index.toString()&&(wn||(wn=oo[Bn].firstChild),qt=oo[Bn].firstChild),Qn(oo[Bn]))}if(je.set({...wo,index:-1,count:0,text:""}),wn&&qt){const Bn=me.dom.createRng();return Bn.setStart(wn,0),Bn.setEnd(qt,qt.data.length),Vt!==!1&&me.selection.setRng(Bn),Bn}else return},nt=(me,je)=>je.get().count>1,gn=(me,je)=>je.get().count>1,Ao=(me,je)=>({done:Bn=>Ue(me,je,Bn),find:(Bn,Uo,vs,Ts=!1)=>Pn(me,je,Bn,Uo,vs,Ts),next:()=>er(me,je),prev:()=>tr(me,je),replace:(Bn,Uo,vs)=>Ie(me,je,Bn,Uo,vs)}),co=(me,je)=>{const Vt=Re();me.undoManager.add();const wn=at.trim(me.selection.getContent({format:"text"})),qt=Tr=>{Tr.setEnabled("next",nt(me,je)),Tr.setEnabled("prev",gn(me,je))},wo=Tr=>{const Fs=Tr.getData(),ir=je.get();je.set({...ir,matchCase:Fs.matchcase,wholeWord:Fs.wholewords,inSelection:Fs.inselection})},oo=(Tr,Fs)=>{it(["replace","replaceall","prev","next"],Ci=>Tr.setEnabled(Ci,!Fs))},Bn=(Tr,Fs)=>{Fs.redial(Qf(Tr,Fs.getData()))},Uo=(Tr,Fs)=>{jt.browser.isSafari()&&jt.deviceType.isTouch()&&(Fs==="find"||Fs==="replace"||Fs==="replaceall")&&Tr.focus(Fs)},vs=Tr=>{Ue(me,je,!1),oo(Tr,!0),qt(Tr)},Ts=Tr=>{const Fs=Tr.getData(),ir=je.get();if(!Fs.findtext.length){vs(Tr);return}if(ir.text===Fs.findtext&&ir.matchCase===Fs.matchcase&&ir.wholeWord===Fs.wholewords)er(me,je);else{const Vi=Pn(me,je,Fs.findtext,Fs.matchcase,Fs.wholewords,Fs.inselection);Vi<=0&&Bn(!0,Tr),oo(Tr,Vi===0)}qt(Tr)},As=je.get(),sa={findtext:wn,replacetext:"",wholewords:As.wholeWord,matchcase:As.matchCase,inselection:As.inSelection},Sa=Tr=>{const Fs=[{type:"label",label:"Find",for:"findtext",items:[{type:"bar",items:[{type:"input",name:"findtext",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]}]},{type:"input",name:"replacetext",label:"Replace with",inputMode:"search"}];return Tr&&Fs.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),Fs},Qf=(Tr,Fs)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:Sa(Tr)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:Fs,onChange:(ir,Vi)=>{Tr&&Bn(!1,ir),Vi.name==="findtext"&&je.get().count>0&&vs(ir)},onAction:(ir,Vi)=>{const Ci=ir.getData();switch(Vi.name){case"find":Ts(ir);break;case"replace":Ie(me,je,Ci.replacetext)?qt(ir):vs(ir);break;case"replaceall":Ie(me,je,Ci.replacetext,!0,!0),vs(ir);break;case"prev":tr(me,je),qt(ir);break;case"next":er(me,je),qt(ir);break;case"matchcase":case"wholewords":case"inselection":Bn(!1,ir),wo(ir),vs(ir);break}Uo(ir,Vi.name)},onSubmit:ir=>{Ts(ir),Uo(ir,"find")},onClose:()=>{me.focus(),Ue(me,je),me.undoManager.add()}});Vt.set(me.windowManager.open(Qf(!1,sa),{inline:"toolbar"}))},Zo=(me,je)=>{me.addCommand("SearchReplace",()=>{co(me,je)})},us=(me,je)=>()=>{co(me,je)},ko=(me,je)=>{me.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:us(me,je),icon:"search"}),me.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:us(me,je),icon:"search",shortcut:"Meta+F"}),me.shortcuts.add("Meta+F","",us(me,je))};var Qs=()=>{Qo.add("searchreplace",me=>{const je=fn({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return Zo(me,je),ko(me,je),Ao(me,je)})};Qs()})()),Sae}var Tae;function xxe(){return Tae||(Tae=1,vxe()),Cae}xxe();var Aae={},kae={},Dae;function wxe(){return Dae||(Dae=1,(function(){const l=ue=>{let Ce=ue;return{get:()=>Ce,set:pe=>{Ce=pe}}};var d=tinymce.util.Tools.resolve("tinymce.PluginManager");const p=(ue,Ce)=>{ue.dispatch("VisualBlocks",{state:Ce})},x=(ue,Ce,be)=>{ue.dom.toggleClass(ue.getBody(),"mce-visualblocks"),be.set(!be.get()),p(ue,be.get())},A=(ue,Ce,be)=>{ue.addCommand("mceVisualBlocks",()=>{x(ue,Ce,be)})},N=ue=>Ce=>Ce.options.get(ue),O=ue=>{const Ce=ue.options.register;Ce("visualblocks_default_state",{processor:"boolean",default:!1})},z=N("visualblocks_default_state"),U=(ue,Ce,be)=>{ue.on("PreviewFormats AfterPreviewFormats",$e=>{be.get()&&ue.dom.toggleClass(ue.getBody(),"mce-visualblocks",$e.type==="afterpreviewformats")}),ue.on("init",()=>{z(ue)&&x(ue,Ce,be)})},V=(ue,Ce)=>be=>{be.setActive(Ce.get());const $e=pe=>be.setActive(pe.state);return ue.on("VisualBlocks",$e),()=>ue.off("VisualBlocks",$e)},Y=(ue,Ce)=>{const be=()=>ue.execCommand("mceVisualBlocks");ue.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:be,onSetup:V(ue,Ce),context:"any"}),ue.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:be,onSetup:V(ue,Ce),context:"any"})};var ee=()=>{d.add("visualblocks",(ue,Ce)=>{O(ue);const be=l(!1);A(ue,Ce,be),Y(ue,be),U(ue,Ce,be)})};ee()})()),kae}var _ae;function Cxe(){return _ae||(_ae=1,wxe()),Aae}Cxe();var Oae={},Nae={},Rae;function Sxe(){return Rae||(Rae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const d=(z,U)=>{z.focus(),z.undoManager.transact(()=>{z.setContent(U)}),z.selection.setCursorLocation(),z.nodeChanged()},p=z=>z.getContent({source_view:!0}),x=z=>{const U=p(z);z.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code",spellcheck:!1}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:U},onSubmit:V=>{d(z,V.getData().code),V.close()}})},A=z=>{z.addCommand("mceCodeEditor",()=>{x(z)})},N=z=>{const U=()=>z.execCommand("mceCodeEditor");z.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:U}),z.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:U})};var O=()=>{l.add("code",z=>(A(z),N(z),{}))};O()})()),Nae}var Mae;function Exe(){return Mae||(Mae=1,Sxe()),Oae}Exe();var Bae={},Lae={},Pae;function Txe(){return Pae||(Pae=1,(function(){const l=(ye,Me,mt)=>mt(ye,Me.prototype)?!0:ye.constructor?.name===Me.name,d=ye=>{const Me=typeof ye;return ye===null?"null":Me==="object"&&Array.isArray(ye)?"array":Me==="object"&&l(ye,String,(mt,Xt)=>Xt.isPrototypeOf(mt))?"string":Me},p=ye=>Me=>d(Me)===ye,x=ye=>Me=>typeof Me===ye,A=ye=>Me=>ye===Me,N=p("string"),O=p("object"),z=p("array"),U=A(null),V=x("boolean"),Y=A(void 0),ee=ye=>ye==null,ue=ye=>!ee(ye),Ce=x("function"),be=x("number"),$e=()=>{},pe=(ye,Me)=>(...mt)=>ye(Me.apply(null,mt)),it=(ye,Me)=>mt=>ye(Me(mt)),Se=ye=>()=>ye;function J(ye,...Me){return(...mt)=>{const Xt=Me.concat(mt);return ye.apply(null,Xt)}}const vt=Se(!1),Gt=Se(!0);class Xe{tag;value;static singletonNone=new Xe(!1);constructor(Me,mt){this.tag=Me,this.value=mt}static some(Me){return new Xe(!0,Me)}static none(){return Xe.singletonNone}fold(Me,mt){return this.tag?mt(this.value):Me()}isSome(){return this.tag}isNone(){return!this.tag}map(Me){return this.tag?Xe.some(Me(this.value)):Xe.none()}bind(Me){return this.tag?Me(this.value):Xe.none()}exists(Me){return this.tag&&Me(this.value)}forall(Me){return!this.tag||Me(this.value)}filter(Me){return!this.tag||Me(this.value)?this:Xe.none()}getOr(Me){return this.tag?this.value:Me}or(Me){return this.tag?this:Me}getOrThunk(Me){return this.tag?this.value:Me()}orThunk(Me){return this.tag?this:Me()}getOrDie(Me){if(this.tag)return this.value;throw new Error(Me??"Called getOrDie on None")}static from(Me){return ue(Me)?Xe.some(Me):Xe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Me){this.tag&&Me(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const ie=Array.prototype.push,ct=(ye,Me)=>{const mt=ye.length,Xt=new Array(mt);for(let po=0;po<mt;po++){const bs=ye[po];Xt[po]=Me(bs,po)}return Xt},xn=(ye,Me)=>{for(let mt=0,Xt=ye.length;mt<Xt;mt++){const po=ye[mt];Me(po,mt)}},fn=(ye,Me)=>{const mt=[];for(let Xt=0,po=ye.length;Xt<po;Xt++){const bs=ye[Xt];Me(bs,Xt)&&mt.push(bs)}return mt},qe=(ye,Me,mt)=>{for(let Xt=0,po=ye.length;Xt<po;Xt++){const bs=ye[Xt];if(Me(bs,Xt))return Xe.some(bs);if(mt(bs,Xt))break}return Xe.none()},Re=(ye,Me)=>qe(ye,Me,vt),Qo=ye=>{const Me=[];for(let mt=0,Xt=ye.length;mt<Xt;++mt){if(!z(ye[mt]))throw new Error("Arr.flatten item "+mt+" was not an array, input: "+ye);ie.apply(Me,ye[mt])}return Me},yt=(ye,Me)=>Qo(ct(ye,Me)),Lt=(ye,Me)=>Me>=0&&Me<ye.length?Xe.some(ye[Me]):Xe.none(),F=ye=>Lt(ye,0),jt=(ye,Me)=>{for(let mt=0;mt<ye.length;mt++){const Xt=Me(ye[mt],mt);if(Xt.isSome())return Xt}return Xe.none()},at=Object.keys,Jn=(ye,Me)=>{const mt=at(ye);for(let Xt=0,po=mt.length;Xt<po;Xt++){const bs=mt[Xt],Ta=ye[bs];Me(Ta,bs)}},an=ye=>{let Me=ye;return{get:()=>Me,set:po=>{Me=po}}},le=typeof window<"u"?window:Function("return this;")(),Ve=(ye,Me,mt)=>ye.isSome()&&Me.isSome()?Xe.some(mt(ye.getOrDie(),Me.getOrDie())):Xe.none(),It=(ye,Me)=>{let mt=Me??le;for(let Xt=0;Xt<ye.length&&mt!==void 0&&mt!==null;++Xt)mt=mt[ye[Xt]];return mt},Ne=(ye,Me)=>{const mt=ye.split(".");return It(mt,Me)},ft=ye=>{const Me=an(Xe.none()),mt=()=>Me.get().each(ye);return{clear:()=>{mt(),Me.set(Xe.none())},isSet:()=>Me.get().isSome(),get:()=>Me.get(),set:il=>{mt(),Me.set(Xe.some(il))}}},He=()=>ft(ye=>ye.unbind()),dt=()=>{const ye=ft($e);return{...ye,on:mt=>ye.get().each(mt)}},X=(ye,Me,mt=0,Xt)=>{const po=ye.indexOf(Me,mt);return po!==-1?Y(Xt)?!0:po+Me.length<=Xt:!1},$o=(ye,Me)=>{let mt=null;return{cancel:()=>{U(mt)||(clearTimeout(mt),mt=null)},throttle:(...bs)=>{U(mt)&&(mt=setTimeout(()=>{mt=null,ye.apply(null,bs)},Me))}}},xo=ye=>{let Me=!1,mt;return(...Xt)=>(Me||(Me=!0,mt=ye.apply(null,Xt)),mt)};var Mo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ho=ye=>({isFullscreen:()=>ye.get()!==null}),js=(ye,Me)=>{const Xt=(Me||document).createElement("div");if(Xt.innerHTML=ye,!Xt.hasChildNodes()||Xt.childNodes.length>1){const po="HTML does not have a single root node";throw console.error(po,ye),new Error(po)}return tt(Xt.childNodes[0])},Be=(ye,Me)=>{const Xt=(Me||document).createElement(ye);return tt(Xt)},Ke=(ye,Me)=>{const Xt=(Me||document).createTextNode(ye);return tt(Xt)},tt=ye=>{if(ye==null)throw new Error("Node cannot be null or undefined");return{dom:ye}},Je={fromHtml:js,fromTag:Be,fromText:Ke,fromDom:tt,fromPoint:(ye,Me,mt)=>Xe.from(ye.dom.elementFromPoint(Me,mt)).map(tt)},Nt=9,xt=11,Un=1,Dt=3,Pe=(ye,Me)=>{const mt=ye.dom;if(mt.nodeType!==Un)return!1;{const Xt=mt;if(Xt.matches!==void 0)return Xt.matches(Me);if(Xt.msMatchesSelector!==void 0)return Xt.msMatchesSelector(Me);if(Xt.webkitMatchesSelector!==void 0)return Xt.webkitMatchesSelector(Me);if(Xt.mozMatchesSelector!==void 0)return Xt.mozMatchesSelector(Me);throw new Error("Browser lacks native selectors")}},Tt=ye=>ye.nodeType!==Un&&ye.nodeType!==Nt&&ye.nodeType!==xt||ye.childElementCount===0,sn=(ye,Me)=>{const mt=document;return Tt(mt)?[]:ct(mt.querySelectorAll(ye),Je.fromDom)},Zn=(ye,Me)=>ye.dom===Me.dom,Yo=(ye,Me,mt,Xt)=>{const po=ye.isiOS()&&/ipad/i.test(mt)===!0,bs=ye.isiOS()&&!po,Ta=ye.isiOS()||ye.isAndroid(),il=Ta||Xt("(pointer:coarse)"),Zi=po||!bs&&Ta&&Xt("(min-device-width:768px)"),Ul=bs||Ta&&!Zi,Qd=Me.isSafari()&&ye.isiOS()&&/safari/i.test(mt)===!1,Zl=!Ul&&!Zi&&!Qd;return{isiPad:Se(po),isiPhone:Se(bs),isTablet:Se(Zi),isPhone:Se(Ul),isTouch:Se(il),isAndroid:ye.isAndroid,isiOS:ye.isiOS,isWebView:Se(Qd),isDesktop:Se(Zl)}},Jo=(ye,Me)=>{for(let mt=0;mt<ye.length;mt++){const Xt=ye[mt];if(Xt.test(Me))return Xt}},Do=(ye,Me)=>{const mt=Jo(ye,Me);if(!mt)return{major:0,minor:0};const Xt=po=>Number(Me.replace(mt,"$"+po));return os(Xt(1),Xt(2))},mr=(ye,Me)=>{const mt=String(Me).toLowerCase();return ye.length===0?zo():Do(ye,mt)},zo=()=>os(0,0),os=(ye,Me)=>({major:ye,minor:Me}),Vs={nu:os,detect:mr,unknown:zo},Ss=(ye,Me)=>jt(Me.brands,mt=>{const Xt=mt.brand.toLowerCase();return Re(ye,po=>Xt===po.brand?.toLowerCase()).map(po=>({current:po.name,version:Vs.nu(parseInt(mt.version,10),0)}))}),Xs=(ye,Me)=>{const mt=String(Me).toLowerCase();return Re(ye,Xt=>Xt.search(mt))},gs=(ye,Me)=>Xs(ye,Me).map(mt=>{const Xt=Vs.detect(mt.versionRegexes,Me);return{current:mt.name,version:Xt}}),Wr=(ye,Me)=>Xs(ye,Me).map(mt=>{const Xt=Vs.detect(mt.versionRegexes,Me);return{current:mt.name,version:Xt}}),Es=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,$r=ye=>Me=>X(Me,ye),Ma=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:ye=>X(ye,"edge/")&&X(ye,"chrome")&&X(ye,"safari")&&X(ye,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Es],search:ye=>X(ye,"chrome")&&!X(ye,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:ye=>X(ye,"msie")||X(ye,"trident")},{name:"Opera",versionRegexes:[Es,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:$r("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:$r("firefox")},{name:"Safari",versionRegexes:[Es,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:ye=>(X(ye,"safari")||X(ye,"mobile/"))&&X(ye,"applewebkit")}],Hn=[{name:"Windows",search:$r("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:ye=>X(ye,"iphone")||X(ye,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:$r("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:$r("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:$r("linux"),versionRegexes:[]},{name:"Solaris",search:$r("sunos"),versionRegexes:[]},{name:"FreeBSD",search:$r("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:$r("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ts={browsers:Se(Ma),oses:Se(Hn)},Oo="Edge",ci="Chromium",Ba="IE",Mn="Opera",Zt="Firefox",Kt="Safari",Yn=()=>Gn({current:void 0,version:Vs.unknown()}),Gn=ye=>{const Me=ye.current,mt=ye.version,Xt=po=>()=>Me===po;return{current:Me,version:mt,isEdge:Xt(Oo),isChromium:Xt(ci),isIE:Xt(Ba),isOpera:Xt(Mn),isFirefox:Xt(Zt),isSafari:Xt(Kt)}},vo={unknown:Yn,nu:Gn},No="Windows",Qn="iOS",ls="Android",La="Linux",sl="macOS",gi="Solaris",Pn="FreeBSD",er="ChromeOS",tr=()=>jl({current:void 0,version:Vs.unknown()}),jl=ye=>{const Me=ye.current,mt=ye.version,Xt=po=>()=>Me===po;return{current:Me,version:mt,isWindows:Xt(No),isiOS:Xt(Qn),isAndroid:Xt(ls),isMacOS:Xt(sl),isLinux:Xt(La),isSolaris:Xt(gi),isFreeBSD:Xt(Pn),isChromeOS:Xt(er)}},Ie={unknown:tr,nu:jl},nt={detect:(ye,Me,mt)=>{const Xt=ts.browsers(),po=ts.oses(),bs=Me.bind(Zi=>Ss(Xt,Zi)).orThunk(()=>gs(Xt,ye)).fold(vo.unknown,vo.nu),Ta=Wr(po,ye).fold(Ie.unknown,Ie.nu),il=Yo(Ta,bs,ye,mt);return{browser:bs,os:Ta,deviceType:il}}},gn=ye=>window.matchMedia(ye).matches;let Ao=xo(()=>nt.detect(window.navigator.userAgent,Xe.from(window.navigator.userAgentData),gn));const co=()=>Ao(),Zo=(ye,Me)=>Ne(ye,Me),us=(ye,Me)=>{const mt=Zo(ye,Me);if(mt==null)throw new Error(ye+" not available on this browser");return mt},ko=Object.getPrototypeOf,Qs=ye=>us("HTMLElement",ye),me=ye=>{const Me=Ne("ownerDocument.defaultView",ye);return O(ye)&&(Qs(Me).prototype.isPrototypeOf(ye)||/^HTML\w*Element$/.test(ko(ye).constructor.name))},je=ye=>ye.dom.nodeType,Vt=ye=>Me=>je(Me)===ye,wn=ye=>qt(ye)&&me(ye.dom),qt=Vt(Un),wo=Vt(Dt),oo=Vt(xt),Bn=ye=>Je.fromDom(ye.dom.ownerDocument),Uo=ye=>Xe.from(ye.dom.parentNode).map(Je.fromDom),vs=(ye,Me)=>{const mt=Ce(Me)?Me:vt;let Xt=ye.dom;const po=[];for(;Xt.parentNode!==null&&Xt.parentNode!==void 0;){const bs=Xt.parentNode,Ta=Je.fromDom(bs);if(po.push(Ta),mt(Ta)===!0)break;Xt=bs}return po},Ts=ye=>{const Me=mt=>fn(mt,Xt=>!Zn(ye,Xt));return Uo(ye).map(sa).map(Me).getOr([])},As=ye=>Xe.from(ye.dom.nextSibling).map(Je.fromDom),sa=ye=>ct(ye.dom.childNodes,Je.fromDom),Sa=ye=>oo(ye)&&ue(ye.dom.host),Qf=ye=>Je.fromDom(ye.dom.getRootNode()),Tr=ye=>{const Me=Qf(ye);return Sa(Me)?Xe.some(Me):Xe.none()},Fs=ye=>Je.fromDom(ye.dom.host),ir=ye=>{if(ue(ye.target)){const Me=Je.fromDom(ye.target);if(qt(Me)&&Vi(Me)&&ye.composed&&ye.composedPath){const mt=ye.composedPath();if(mt)return F(mt)}}return Xe.from(ye.target)},Vi=ye=>ue(ye.dom.shadowRoot),Ci=(ye,Me,mt,Xt,po,bs,Ta)=>({target:ye,x:Me,y:mt,stop:Xt,prevent:po,kill:bs,raw:Ta}),Ir=ye=>{const Me=Je.fromDom(ir(ye).getOr(ye.target)),mt=()=>ye.stopPropagation(),Xt=()=>ye.preventDefault(),po=pe(Xt,mt);return Ci(Me,ye.clientX,ye.clientY,mt,Xt,po,ye)},Co=(ye,Me)=>mt=>{ye(mt)&&Me(Ir(mt))},Si=(ye,Me,mt,Xt,po)=>{const bs=Co(mt,Xt);return ye.dom.addEventListener(Me,bs,po),{unbind:J(Jr,ye,Me,bs,po)}},ni=(ye,Me,mt,Xt)=>Si(ye,Me,mt,Xt,!1),Jr=(ye,Me,mt,Xt)=>{ye.dom.removeEventListener(Me,mt,Xt)},Sf=Gt,uc=(ye,Me,mt)=>ni(ye,Me,Sf,mt),Hr=(ye,Me,mt)=>{if(N(mt)||V(mt)||be(mt))ye.setAttribute(Me,mt+"");else throw console.error("Invalid call to Attribute.set. Key ",Me,":: Value ",mt,":: Element ",ye),new Error("Attribute value was not simple")},wu=(ye,Me,mt)=>{Hr(ye.dom,Me,mt)},dc=(ye,Me)=>{const mt=ye.dom.getAttribute(Me);return mt===null?void 0:mt},Ef=(ye,Me)=>{ye.dom.removeAttribute(Me)},An=ye=>ye.style!==void 0&&Ce(ye.style.getPropertyValue),Cu=ye=>{const Me=wo(ye)?ye.dom.parentNode:ye.dom;if(Me==null||Me.ownerDocument===null)return!1;const mt=Me.ownerDocument;return Tr(Je.fromDom(Me)).fold(()=>mt.body.contains(Me),it(Cu,Fs))},Ri=ye=>{const Me=ye.dom.body;if(Me==null)throw new Error("Body is not available yet");return Je.fromDom(Me)},pi=(ye,Me,mt)=>{if(!N(mt))throw console.error("Invalid call to CSS.set. Property ",Me,":: Value ",mt,":: Element ",ye),new Error("CSS value must be a string: "+mt);An(ye)&&ye.style.setProperty(Me,mt)},qr=(ye,Me,mt)=>{const Xt=ye.dom;pi(Xt,Me,mt)},Kd=(ye,Me)=>{const mt=ye.dom;Jn(Me,(Xt,po)=>{pi(mt,po,Xt)})},Ei=(ye,Me)=>{const mt=ye.dom,po=window.getComputedStyle(mt).getPropertyValue(Me);return po===""&&!Cu(ye)?rl(mt,Me):po},rl=(ye,Me)=>An(ye)?ye.style.getPropertyValue(Me):"",Tf=(ye,Me)=>({left:ye,top:Me,translate:(Xt,po)=>Tf(ye+Xt,Me+po)}),Jf=Tf,Su=ye=>{const Me=ye!==void 0?ye.dom:document,mt=Me.body.scrollLeft||Me.documentElement.scrollLeft,Xt=Me.body.scrollTop||Me.documentElement.scrollTop;return Jf(mt,Xt)},Yd=ye=>ye.dom.classList!==void 0,Dl=(ye,Me)=>Yd(ye)&&ye.dom.classList.contains(Me),Wc=(ye,Me,mt)=>fn(vs(ye,mt),Me),qc=(ye,Me)=>fn(Ts(ye),Me),mn=ye=>sn(ye),Eu=(ye,Me,mt)=>Wc(ye,Xt=>Pe(Xt,Me),mt),bd=(ye,Me)=>qc(ye,mt=>Pe(mt,Me)),Vl=ye=>{const Me=ye===void 0?window:ye;return co().browser.isFirefox()?Xe.none():Xe.from(Me.visualViewport)},al=(ye,Me,mt,Xt)=>({x:ye,y:Me,width:mt,height:Xt,right:ye+mt,bottom:Me+Xt}),Vu=ye=>{const Me=ye===void 0?window:ye,mt=Me.document,Xt=Su(Je.fromDom(mt));return Vl(Me).fold(()=>{const po=Me.document.documentElement,bs=po.clientWidth,Ta=po.clientHeight;return al(Xt.left,Xt.top,bs,Ta)},po=>al(Math.max(po.pageLeft,Xt.left),Math.max(po.pageTop,Xt.top),po.width,po.height))},Ui=(ye,Me,mt)=>Vl(mt).map(Xt=>{const po=bs=>Me(Ir(bs));return Xt.addEventListener(ye,po),{unbind:()=>Xt.removeEventListener(ye,po)}}).getOrThunk(()=>({unbind:$e}));var oi=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),_l=tinymce.util.Tools.resolve("tinymce.Env");const fc=(ye,Me)=>{ye.dispatch("FullscreenStateChanged",{state:Me}),ye.dispatch("ResizeEditor")},qs=ye=>Me=>Me.options.get(ye),Af=ye=>{const Me=ye.options.register;Me("fullscreen_native",{processor:"boolean",default:!1})},te=qs("fullscreen_native"),ve=ye=>{const Me=Je.fromDom(ye.getElement());return Tr(Me).map(Fs).getOrThunk(()=>Ri(Bn(Me)))},Fe=ye=>ye.fullscreenElement!==void 0?ye.fullscreenElement:ye.msFullscreenElement!==void 0?ye.msFullscreenElement:ye.webkitFullscreenElement!==void 0?ye.webkitFullscreenElement:null,Rt=()=>document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange",qn=ye=>{const Me=ye.dom;Me.requestFullscreen?Me.requestFullscreen():Me.msRequestFullscreen?Me.msRequestFullscreen():Me.webkitRequestFullScreen&&Me.webkitRequestFullScreen()},ps=ye=>{const Me=ye.dom;Me.exitFullscreen?Me.exitFullscreen():Me.msExitFullscreen?Me.msExitFullscreen():Me.webkitCancelFullScreen&&Me.webkitCancelFullScreen()},lr=ye=>ye.dom===Fe(Bn(ye).dom),Va="data-ephox-mobile-fullscreen-style",Ti="display:none!important;",Ol="position:absolute!important;",oe="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",ke="background-color:rgb(255,255,255)!important;",Qe=_l.os.isAndroid(),Et=ye=>{const Me=Ei(ye,"background-color");return Me!==void 0&&Me!==""?"background-color:"+Me+"!important":ke},pn=(ye,Me,mt)=>{const Xt=Ul=>bd(Ul,"*:not(.tox-silver-sink)"),po=Ul=>Qd=>{const Zl=dc(Qd,"style"),Nm=Zl===void 0?"no-styles":Zl.trim();Nm!==Ul&&(wu(Qd,Va,Nm),Kd(Qd,ye.parseStyle(Ul)))},bs=Eu(Me,"*"),Ta=yt(bs,Xt),il=Et(mt);xn(Ta,po(Ti)),xn(bs,po(Ol+oe+il)),po((Qe===!0?"":Ol)+oe+il)(Me)},Wn=ye=>{const Me=mn("["+Va+"]");xn(Me,mt=>{const Xt=dc(mt,Va);Xt&&Xt!=="no-styles"?Kd(mt,ye.parseStyle(Xt)):Ef(mt,"style"),Ef(mt,Va)})},Po=oi.DOM,Gs=()=>Vu(window),Os=ye=>window.scrollTo(ye.x,ye.y),Mi=Vl().fold(()=>({bind:$e,unbind:$e}),ye=>{const Me=dt(),mt=He(),Xt=He(),po=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},bs=()=>{window.requestAnimationFrame(()=>{Me.on(Ul=>Kd(Ul,{top:ye.offsetTop+"px",left:ye.offsetLeft+"px",height:ye.height+"px",width:ye.width+"px"}))})},Ta=$o(()=>{po(),bs()},50);return{bind:Ul=>{Me.set(Ul),Ta.throttle(),mt.set(Ui("resize",Ta.throttle)),Xt.set(Ui("scroll",Ta.throttle))},unbind:()=>{Me.on(()=>{mt.clear(),Xt.clear()}),Me.clear()}}}),Ea=(ye,Me)=>{const mt=document.body,Xt=document.documentElement,po=ye.getContainer(),bs=Je.fromDom(po),Ta=As(bs).filter(_c=>wn(_c)&&Dl(_c,"tox-silver-sink")),il=ve(ye),Zi=Me.get(),Ul=Je.fromDom(ye.getBody()),Qd=_l.deviceType.isTouch(),Zl=po.style,Wl=ye.iframeElement?.style,ll=_c=>{_c(mt,"tox-fullscreen"),_c(Xt,"tox-fullscreen"),_c(po,"tox-fullscreen"),Tr(bs).map(ds=>Fs(ds).dom).each(ds=>{_c(ds,"tox-fullscreen"),_c(ds,"tox-shadowhost")})},Jd=()=>{Qd&&Wn(ye.dom),ll(Po.removeClass),Mi.unbind(),Xe.from(Me.get()).each(_c=>_c.fullscreenChangeHandler.unbind())};if(Zi)Zi.fullscreenChangeHandler.unbind(),te(ye)&&lr(il)&&ps(Bn(il)),Wl.width=Zi.iframeWidth,Wl.height=Zi.iframeHeight,Zl.width=Zi.containerWidth,Zl.height=Zi.containerHeight,Zl.top=Zi.containerTop,Zl.left=Zi.containerLeft,Ve(Ta,Zi.sinkCssPosition,(_c,ds)=>{qr(_c,"position",ds)}),Jd(),Os(Zi.scrollPos),Me.set(null),fc(ye,!1),ye.off("remove",Jd);else{const _c=uc(Bn(il),Rt(),vh=>{te(ye)&&!lr(il)&&Me.get()!==null&&Ea(ye,Me)}),ds={scrollPos:Gs(),containerWidth:Zl.width,containerHeight:Zl.height,containerTop:Zl.top,containerLeft:Zl.left,iframeWidth:Wl.width,iframeHeight:Wl.height,fullscreenChangeHandler:_c,sinkCssPosition:Ta.map(vh=>Ei(vh,"position"))};Qd&&pn(ye.dom,bs,Ul),Wl.width=Wl.height="100%",Zl.width=Zl.height="",ll(Po.addClass),Ta.each(vh=>{qr(vh,"position","fixed")}),Mi.bind(bs),ye.on("remove",Jd),Me.set(ds),te(ye)&&qn(il),fc(ye,!0)}},Xd=(ye,Me)=>{ye.addCommand("mceFullScreen",()=>{Ea(ye,Me)})};var Om=tinymce.util.Tools.resolve("tinymce.util.VK");const kf=(ye,Me)=>{ye.on("init",()=>{ye.on("keydown",mt=>{mt.keyCode===Om.TAB&&!(mt.metaKey||mt.ctrlKey)&&Me.get()&&mt.preventDefault()})})},Gc=(ye,Me)=>mt=>{mt.setActive(Me.get()!==null);const Xt=po=>mt.setActive(po.state);return ye.on("FullscreenStateChanged",Xt),()=>ye.off("FullscreenStateChanged",Xt)},R0=(ye,Me)=>{const mt=()=>ye.execCommand("mceFullScreen");ye.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:mt,onSetup:Gc(ye,Me),context:"any"}),ye.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:mt,onSetup:Gc(ye,Me),shortcut:"Meta+Shift+F",context:"any"})};var M0=()=>{Mo.add("fullscreen",ye=>{const Me=an(null);return ye.inline||(Af(ye),Xd(ye,Me),R0(ye,Me),kf(ye,Me),ye.addShortcut("Meta+Shift+F","","mceFullScreen")),Ho(Me)})};M0()})()),Lae}var Fae;function Axe(){return Fae||(Fae=1,Txe()),Bae}Axe();var $ae={},Iae={},Hae;function kxe(){return Hae||(Hae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const d=Xe=>ie=>ie.options.get(Xe),p=Xe=>{const ie=Xe.options.register;ie("insertdatetime_dateformat",{processor:"string",default:Xe.translate("%Y-%m-%d")}),ie("insertdatetime_timeformat",{processor:"string",default:Xe.translate("%H:%M:%S")}),ie("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),ie("insertdatetime_element",{processor:"boolean",default:!1})},x=d("insertdatetime_dateformat"),A=d("insertdatetime_timeformat"),N=d("insertdatetime_formats"),O=d("insertdatetime_element"),z=Xe=>{const ie=N(Xe);return ie.length>0?ie[0]:A(Xe)},U="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),V="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Y="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ee="January February March April May June July August September October November December".split(" "),ue=(Xe,ie)=>{if(Xe=""+Xe,Xe.length<ie)for(let ct=0;ct<ie-Xe.length;ct++)Xe="0"+Xe;return Xe},Ce=(Xe,ie,ct=new Date)=>(ie=ie.replace("%D","%m/%d/%Y"),ie=ie.replace("%r","%I:%M:%S %p"),ie=ie.replace("%Y",""+ct.getFullYear()),ie=ie.replace("%y",""+ct.getYear()),ie=ie.replace("%m",ue(ct.getMonth()+1,2)),ie=ie.replace("%d",ue(ct.getDate(),2)),ie=ie.replace("%H",""+ue(ct.getHours(),2)),ie=ie.replace("%M",""+ue(ct.getMinutes(),2)),ie=ie.replace("%S",""+ue(ct.getSeconds(),2)),ie=ie.replace("%I",""+((ct.getHours()+11)%12+1)),ie=ie.replace("%p",ct.getHours()<12?"AM":"PM"),ie=ie.replace("%B",""+Xe.translate(ee[ct.getMonth()])),ie=ie.replace("%b",""+Xe.translate(Y[ct.getMonth()])),ie=ie.replace("%A",""+Xe.translate(V[ct.getDay()])),ie=ie.replace("%a",""+Xe.translate(U[ct.getDay()])),ie=ie.replace("%%","%"),ie),be=(Xe,ie,ct,xn)=>{const fn=Xe.dom.create("time",{datetime:ct},xn);Xe.dom.replace(fn,ie),Xe.selection.select(fn,!0),Xe.selection.collapse(!1)},$e=(Xe,ie)=>{if(O(Xe)&&Xe.selection.isEditable()){const ct=Ce(Xe,ie);let xn;/%[HMSIp]/.test(ie)?xn=Ce(Xe,"%Y-%m-%dT%H:%M"):xn=Ce(Xe,"%Y-%m-%d");const fn=Xe.dom.getParent(Xe.selection.getStart(),"time");fn?be(Xe,fn,xn,ct):Xe.insertContent('<time datetime="'+xn+'">'+ct+"</time>")}else Xe.insertContent(Ce(Xe,ie))},pe=Xe=>{Xe.addCommand("mceInsertDate",(ie,ct)=>{$e(Xe,ct??x(Xe))}),Xe.addCommand("mceInsertTime",(ie,ct)=>{$e(Xe,ct??A(Xe))})},it=Xe=>{let ie=Xe;return{get:()=>ie,set:fn=>{ie=fn}}};var Se=tinymce.util.Tools.resolve("tinymce.util.Tools");const J=Xe=>ie=>{const ct=()=>{ie.setEnabled(Xe.selection.isEditable())};return Xe.on("NodeChange",ct),ct(),()=>{Xe.off("NodeChange",ct)}},vt=Xe=>{const ie=N(Xe),ct=it(z(Xe)),xn=qe=>Xe.execCommand("mceInsertDate",!1,qe);Xe.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",chevronTooltip:"Insert date/time menu",select:qe=>qe===ct.get(),fetch:qe=>{qe(Se.map(ie,Re=>({type:"choiceitem",text:Ce(Xe,Re),value:Re})))},onAction:qe=>{xn(ct.get())},onItemAction:(qe,Re)=>{ct.set(Re),xn(Re)},onSetup:J(Xe)});const fn=qe=>()=>{ct.set(qe),xn(qe)};Xe.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:()=>Se.map(ie,qe=>({type:"menuitem",text:Ce(Xe,qe),onAction:fn(qe)})),onSetup:J(Xe)})};var Gt=()=>{l.add("insertdatetime",Xe=>{p(Xe),pe(Xe),vt(Xe)})};Gt()})()),Iae}var zae;function Dxe(){return zae||(zae=1,kxe()),$ae}Dxe();var jae={},Vae={},Uae;function _xe(){return Uae||(Uae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const d=(Ie,Ue,nt)=>nt(Ie,Ue.prototype)?!0:Ie.constructor?.name===Ue.name,p=Ie=>{const Ue=typeof Ie;return Ie===null?"null":Ue==="object"&&Array.isArray(Ie)?"array":Ue==="object"&&d(Ie,String,(nt,gn)=>gn.isPrototypeOf(nt))?"string":Ue},x=Ie=>Ue=>p(Ue)===Ie,A=x("string"),N=x("object"),O=x("array"),z=Ie=>Ie==null,U=Ie=>!z(Ie);class V{tag;value;static singletonNone=new V(!1);constructor(Ue,nt){this.tag=Ue,this.value=nt}static some(Ue){return new V(!0,Ue)}static none(){return V.singletonNone}fold(Ue,nt){return this.tag?nt(this.value):Ue()}isSome(){return this.tag}isNone(){return!this.tag}map(Ue){return this.tag?V.some(Ue(this.value)):V.none()}bind(Ue){return this.tag?Ue(this.value):V.none()}exists(Ue){return this.tag&&Ue(this.value)}forall(Ue){return!this.tag||Ue(this.value)}filter(Ue){return!this.tag||Ue(this.value)?this:V.none()}getOr(Ue){return this.tag?this.value:Ue}or(Ue){return this.tag?this:Ue}getOrThunk(Ue){return this.tag?this.value:Ue()}orThunk(Ue){return this.tag?this:Ue()}getOrDie(Ue){if(this.tag)return this.value;throw new Error(Ue??"Called getOrDie on None")}static from(Ue){return U(Ue)?V.some(Ue):V.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ue){this.tag&&Ue(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Y=Array.prototype.push,ee=(Ie,Ue)=>{for(let nt=0,gn=Ie.length;nt<gn;nt++){const Ao=Ie[nt];Ue(Ao,nt)}},ue=Ie=>{const Ue=[];for(let nt=0,gn=Ie.length;nt<gn;++nt){if(!O(Ie[nt]))throw new Error("Arr.flatten item "+nt+" was not an array, input: "+Ie);Y.apply(Ue,Ie[nt])}return Ue},Ce=Object.keys,be=Object.hasOwnProperty,$e=(Ie,Ue)=>{const nt=Ce(Ie);for(let gn=0,Ao=nt.length;gn<Ao;gn++){const co=nt[gn],Zo=Ie[co];Ue(Zo,co)}},pe=(Ie,Ue)=>it(Ie,Ue)?V.from(Ie[Ue]):V.none(),it=(Ie,Ue)=>be.call(Ie,Ue),Se=Ie=>{let Ue=Ie;return{get:()=>Ue,set:Ao=>{Ue=Ao}}},J=(Ie,Ue,nt)=>Ie.length>=Ue.length&&Ie.substr(nt,nt+Ue.length)===Ue,vt=(Ie,Ue)=>J(Ie,Ue,0),Gt=Ie=>Ue=>Ue.options.get(Ie),Xe=Ie=>{const Ue=Ie.options.register;Ue("audio_template_callback",{processor:"function"}),Ue("video_template_callback",{processor:"function"}),Ue("iframe_template_callback",{processor:"function"}),Ue("media_live_embeds",{processor:"boolean",default:!0}),Ue("media_filter_html",{processor:"boolean",default:!0}),Ue("media_url_resolver",{processor:"function"}),Ue("media_alt_source",{processor:"boolean",default:!0}),Ue("media_poster",{processor:"boolean",default:!0}),Ue("media_dimensions",{processor:"boolean",default:!0})},ie=Gt("audio_template_callback"),ct=Gt("video_template_callback"),xn=Gt("iframe_template_callback"),fn=Gt("media_live_embeds"),qe=Gt("media_filter_html"),Re=Gt("media_url_resolver"),Qo=Gt("media_alt_source"),yt=Gt("media_poster"),Lt=Gt("media_dimensions");var F=tinymce.util.Tools.resolve("tinymce.util.Tools"),jt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),at=tinymce.util.Tools.resolve("tinymce.html.DomParser");const Jn=jt.DOM,an=Ie=>Ie.replace(/px$/,""),le=Ie=>{const Ue=Ie.attr("style"),nt=Ue?Jn.parseStyle(Ue):{};return{type:"ephox-embed-iri",source:Ie.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:pe(nt,"max-width").map(an).getOr(""),height:pe(nt,"max-height").map(an).getOr("")}},Ve=(Ie,Ue)=>{let nt={};const Ao=at({validate:!1,forced_root_block:!1},Ue).parse(Ie);for(let co=Ao;co;co=co.walk())if(co.type===1){const Zo=co.name;if(co.attr("data-ephox-embed-iri")){nt=le(co);break}else!nt.source&&Zo==="param"&&(nt.source=co.attr("movie")),(Zo==="iframe"||Zo==="object"||Zo==="embed"||Zo==="video"||Zo==="audio")&&(nt.type||(nt.type=Zo),nt=F.extend(co.attributes.map,nt)),Zo==="source"&&(nt.source?nt.altsource||(nt.altsource=co.attr("src")):nt.source=co.attr("src")),Zo==="img"&&!nt.poster&&(nt.poster=co.attr("src"))}return nt.source=nt.source||nt.src||"",nt.altsource=nt.altsource||"",nt.poster=nt.poster||"",nt},It=Ie=>{const Ue={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},nt=Ie.toLowerCase().split(".").pop()??"";return pe(Ue,nt).getOr("")};var Ne=tinymce.util.Tools.resolve("tinymce.html.Node"),ft=tinymce.util.Tools.resolve("tinymce.html.Serializer");const He=(Ie,Ue={})=>at({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...Ue},Ie),dt=jt.DOM,X=Ie=>/^[0-9.]+$/.test(Ie)?Ie+"px":Ie,$o=(Ie,Ue)=>{const nt=Ue.attr("style"),gn=nt?dt.parseStyle(nt):{};U(Ie.width)&&(gn["max-width"]=X(Ie.width)),U(Ie.height)&&(gn["max-height"]=X(Ie.height)),Ue.attr("style",dt.serializeStyle(gn))},xo=["source","altsource"],Mo=(Ie,Ue,nt,gn)=>{let Ao=0,co=0;const Zo=He(gn);Zo.addNodeFilter("source",ko=>Ao=ko.length);const us=Zo.parse(Ie);for(let ko=us;ko;ko=ko.walk())if(ko.type===1){const Qs=ko.name;if(ko.attr("data-ephox-embed-iri")){$o(Ue,ko);break}else{switch(Qs){case"video":case"object":case"embed":case"img":case"iframe":Ue.height!==void 0&&Ue.width!==void 0&&(ko.attr("width",Ue.width),ko.attr("height",Ue.height));break}if(nt)switch(Qs){case"video":ko.attr("poster",Ue.poster),ko.attr("src",null);for(let je=Ao;je<2;je++)if(Ue[xo[je]]){const Vt=new Ne("source",1);Vt.attr("src",Ue[xo[je]]),Vt.attr("type",Ue[xo[je]+"mime"]||null),ko.append(Vt)}break;case"iframe":ko.attr("src",Ue.source);break;case"object":const me=ko.getAll("img").length>0;if(Ue.poster&&!me){ko.attr("src",Ue.poster);const je=new Ne("img",1);je.attr("src",Ue.poster),je.attr("width",Ue.width),je.attr("height",Ue.height),ko.append(je)}break;case"source":if(co<2&&(ko.attr("src",Ue[xo[co]]),ko.attr("type",Ue[xo[co]+"mime"]||null),!Ue[xo[co]])){ko.remove();continue}co++;break;case"img":Ue.poster||ko.remove();break}}}return ft({},gn).serialize(us)},Ho=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],js=Ie=>{const Ue=Ie.match(/^(https?:\/\/|www\.)(.+)$/i);return Ue&&Ue.length>1?Ue[1]==="www."?"https://":Ue[1]:"https://"},Be=(Ie,Ue)=>{const nt=js(Ue),gn=Ie.regex.exec(Ue);let Ao=nt+Ie.url;if(U(gn))for(let co=0;co<gn.length;co++)Ao=Ao.replace("$"+co,()=>gn[co]?gn[co]:"");return Ao.replace(/\?$/,"")},Ke=Ie=>{const Ue=Ho.filter(nt=>nt.regex.test(Ie));return Ue.length>0?F.extend({},Ue[0],{url:Be(Ue[0],Ie)}):null},tt=(Ie,Ue)=>{if(Ue)return Ue(Ie);{const nt=Ie.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+Ie.source+'" width="'+Ie.width+'" height="'+Ie.height+'"'+nt+"></iframe>"}},Le=Ie=>{let Ue='<object data="'+Ie.source+'" width="'+Ie.width+'" height="'+Ie.height+'" type="application/x-shockwave-flash">';return Ie.poster&&(Ue+='<img src="'+Ie.poster+'" width="'+Ie.width+'" height="'+Ie.height+'" />'),Ue+="</object>",Ue},Je=(Ie,Ue)=>Ue?Ue(Ie):'<audio controls="controls" src="'+Ie.source+'">'+(Ie.altsource?`
<source src="`+Ie.altsource+'"'+(Ie.altsourcemime?' type="'+Ie.altsourcemime+'"':"")+` />
`:"")+"</audio>",Nt=(Ie,Ue)=>Ue?Ue(Ie):'<video width="'+Ie.width+'" height="'+Ie.height+'"'+(Ie.poster?' poster="'+Ie.poster+'"':"")+` controls="controls">
<source src="`+Ie.source+'"'+(Ie.sourcemime?' type="'+Ie.sourcemime+'"':"")+` />
`+(Ie.altsource?'<source src="'+Ie.altsource+'"'+(Ie.altsourcemime?' type="'+Ie.altsourcemime+'"':"")+` />
`:"")+"</video>",xt=(Ie,Ue)=>{const nt=F.extend({},Ue);if(!nt.source&&(F.extend(nt,Ve(nt.embed??"",Ie.schema)),!nt.source))return"";nt.altsource||(nt.altsource=""),nt.poster||(nt.poster=""),nt.source=Ie.convertURL(nt.source,"source"),nt.altsource=Ie.convertURL(nt.altsource,"source"),nt.sourcemime=It(nt.source),nt.altsourcemime=It(nt.altsource),nt.poster=Ie.convertURL(nt.poster,"poster");const gn=Ke(nt.source);if(gn&&(nt.source=gn.url,nt.type=gn.type,nt.allowfullscreen=gn.allowFullscreen,nt.width=nt.width||String(gn.w),nt.height=nt.height||String(gn.h)),nt.embed)return Mo(nt.embed,nt,!0,Ie.schema);{const Ao=ie(Ie),co=ct(Ie),Zo=xn(Ie);return nt.width=nt.width||"300",nt.height=nt.height||"150",F.each(nt,(us,ko)=>{nt[ko]=Ie.dom.encode(""+us)}),nt.type==="iframe"?tt(nt,Zo):nt.sourcemime==="application/x-shockwave-flash"?Le(nt):nt.sourcemime.indexOf("audio")!==-1?Je(nt,Ao):Nt(nt,co)}},Un=Ie=>Ie.hasAttribute("data-mce-object")||Ie.hasAttribute("data-ephox-embed-iri"),Dt=Ie=>{Ie.on("mousedown",Ue=>{const nt=Ie.dom.getParent(Ue.target,".mce-preview-object");nt&&Ie.dom.getAttrib(nt,"data-mce-selected")==="2"&&Ue.stopImmediatePropagation()}),Ie.on("click keyup touchend",()=>{const Ue=Ie.selection.getNode();Ue&&Ie.dom.hasClass(Ue,"mce-preview-object")&&Ie.dom.getAttrib(Ue,"data-mce-selected")&&Ue.setAttribute("data-mce-selected","2")}),Ie.on("ObjectResized",Ue=>{const nt=Ue.target;if(nt.getAttribute("data-mce-object")){let gn=nt.getAttribute("data-mce-html");gn&&(gn=unescape(gn),nt.setAttribute("data-mce-html",escape(Mo(gn,{width:String(Ue.width),height:String(Ue.height)},!1,Ie.schema))))}})},Pe={},Tt=(Ie,Ue,nt)=>new Promise((gn,Ao)=>{const co=Zo=>(Zo.html&&(Pe[Ie.source]=Zo),gn({url:Ie.source,html:Zo.html?Zo.html:Ue(Ie)}));Pe[Ie.source]?co(Pe[Ie.source]):nt({url:Ie.source}).then(co).catch(Ao)}),sn=(Ie,Ue)=>Promise.resolve({html:Ue(Ie),url:Ie.source}),Zn=Ie=>Ue=>xt(Ie,Ue),Yo=(Ie,Ue)=>{const nt=Re(Ie);return nt?Tt(Ue,Zn(Ie),nt):sn(Ue,Zn(Ie))},Jo=Ie=>it(Pe,Ie),Do=(Ie,Ue)=>pe(Ue,Ie).bind(nt=>pe(nt,"meta")),mr=(Ie,Ue,nt)=>gn=>{const Ao=()=>pe(Ie,gn),co=()=>pe(Ue,gn),Zo=Qs=>pe(Qs,"value").bind(me=>me.length>0?V.some(me):V.none()),us=()=>Ao().bind(Qs=>N(Qs)?Zo(Qs).orThunk(co):co().orThunk(()=>V.from(Qs))),ko=()=>co().orThunk(()=>Ao().bind(Qs=>N(Qs)?Zo(Qs):V.from(Qs)));return{[gn]:(gn===nt?us():ko()).getOr("")}},zo=(Ie,Ue)=>{const nt={};return pe(Ie,"dimensions").each(gn=>{ee(["width","height"],Ao=>{pe(Ue,Ao).orThunk(()=>pe(gn,Ao)).each(co=>nt[Ao]=co)})}),nt},os=(Ie,Ue)=>{const nt=Ue&&Ue!=="dimensions"?Do(Ue,Ie).getOr({}):{},gn=mr(Ie,nt,Ue);return{...gn("source"),...gn("altsource"),...gn("poster"),...gn("embed"),...zo(Ie,nt)}},Vs=Ie=>{const Ue={...Ie,source:{value:pe(Ie,"source").getOr("")},altsource:{value:pe(Ie,"altsource").getOr("")},poster:{value:pe(Ie,"poster").getOr("")}};return ee(["width","height"],nt=>{pe(Ie,nt).each(gn=>{const Ao=Ue.dimensions||{};Ao[nt]=gn,Ue.dimensions=Ao})}),Ue},Ss=Ie=>Ue=>{const nt=Ue&&Ue.msg?"Media embed handler error: "+Ue.msg:"Media embed handler threw unknown error.";Ie.notificationManager.open({type:"error",text:nt})},Xs=Ie=>{const Ue=Ie.selection.getNode(),nt=Un(Ue)?Ie.serializer.serialize(Ue,{selection:!0}):"",gn=Ve(nt,Ie.schema),co=(()=>{if($r(gn.source,gn.type)){const Zo=Ie.dom.getRect(Ue);return{width:Zo.w.toString().replace(/px$/,""),height:Zo.h.toString().replace(/px$/,"")}}else return{}})();return{embed:nt,...gn,...co}},gs=(Ie,Ue)=>nt=>{if(A(nt.url)&&nt.url.trim().length>0){const gn=nt.html,co={...Ve(gn,Ue.schema),source:nt.url,embed:gn};Ie.setData(Vs(co))}},Wr=(Ie,Ue)=>{const nt=Ie.dom.select("*[data-mce-object]");for(let gn=0;gn<Ue.length;gn++)for(let Ao=nt.length-1;Ao>=0;Ao--)Ue[gn]===nt[Ao]&&nt.splice(Ao,1);Ie.selection.select(nt[0])},Es=(Ie,Ue)=>{const nt=Ie.dom.select("*[data-mce-object]");Ie.insertContent(Ue),Wr(Ie,nt),Ie.nodeChanged()},$r=(Ie,Ue)=>U(Ue)&&Ue==="ephox-embed-iri"&&U(Ke(Ie)),Ma=(Ie,Ue)=>((gn,Ao)=>gn.width!==Ao.width||gn.height!==Ao.height)(Ie,Ue)&&$r(Ue.source,Ie.type),Hn=(Ie,Ue,nt)=>{Ue.embed=Ma(Ie,Ue)&&Lt(nt)?xt(nt,{...Ue,embed:""}):Mo(Ue.embed??"",Ue,!1,nt.schema),Ue.embed&&(Ie.source===Ue.source||Jo(Ue.source))?Es(nt,Ue.embed):Yo(nt,Ue).then(gn=>{Es(nt,gn.html)}).catch(Ss(nt))},ts=Ie=>{const Ue=Xs(Ie),nt=Se(Ue),gn=Vs(Ue),Ao=(Bn,Uo)=>{const vs=os(Uo.getData(),"source");Bn.source!==vs.source&&(gs(oo,Ie)({url:vs.source,html:""}),Yo(Ie,vs).then(gs(oo,Ie)).catch(Ss(Ie)))},co=Bn=>{const Uo=os(Bn.getData()),vs=Ve(Uo.embed??"",Ie.schema);Bn.setData(Vs(vs))},Zo=(Bn,Uo,vs)=>{const Ts=os(Bn.getData(),Uo),As=Ma(vs,Ts)&&Lt(Ie)?{...Ts,embed:""}:Ts,sa=xt(Ie,As);Bn.setData(Vs({...As,embed:sa}))},us=[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],ko=Lt(Ie)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],Qs={title:"General",name:"general",items:ue([us,ko])},je={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},Vt=[];Qo(Ie)&&Vt.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),yt(Ie)&&Vt.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const wn={title:"Advanced",name:"advanced",items:Vt},qt=[Qs,je];Vt.length>0&&qt.push(wn);const wo={type:"tabpanel",tabs:qt},oo=Ie.windowManager.open({title:"Insert/Edit Media",size:"normal",body:wo,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Bn=>{const Uo=os(Bn.getData());Hn(nt.get(),Uo,Ie),Bn.close()},onChange:(Bn,Uo)=>{switch(Uo.name){case"source":Ao(nt.get(),Bn);break;case"embed":co(Bn);break;case"dimensions":case"altsource":case"poster":Zo(Bn,Uo.name,nt.get());break}nt.set(os(Bn.getData()))},initialData:gn})},Oo=Ie=>({showDialog:()=>{ts(Ie)}}),ci=Ie=>{const Ue=()=>{ts(Ie)};Ie.addCommand("mceMedia",Ue)};var Ba=tinymce.util.Tools.resolve("tinymce.Env");const Mn=Ie=>{const Ue=Ie.name;return Ue==="iframe"||Ue==="video"||Ue==="audio"},Zt=(Ie,Ue,nt,gn=null)=>{const Ao=Ie.attr(nt);return U(Ao)?Ao:it(Ue,nt)?null:gn},Kt=(Ie,Ue,nt)=>{const gn=Ue.name==="img"||Ie.name==="video",Ao=gn?"300":null,co=Ie.name==="audio"?"30":"150",Zo=gn?co:null;Ue.attr({width:Zt(Ie,nt,"width",Ao),height:Zt(Ie,nt,"height",Zo)})},Yn=(Ie,Ue,nt,gn)=>{const Ao=He(Ie.schema).parse(gn,{context:Ue});for(;Ao.firstChild;)nt.append(Ao.firstChild)},Gn=(Ie,Ue)=>{const nt=Ue.name,gn=new Ne("img",1);return No(Ie,Ue,gn),Kt(Ue,gn,{}),gn.attr({style:Ue.attr("style"),src:Ba.transparentSrc,"data-mce-object":nt,class:"mce-object mce-object-"+nt}),gn},vo=(Ie,Ue)=>{const nt=Ue.name,gn=new Ne("span",1);gn.attr({contentEditable:"false",style:Ue.attr("style"),"data-mce-object":nt,class:"mce-preview-object mce-object-"+nt}),No(Ie,Ue,gn);const Ao=Ie.dom.parseStyle(Ue.attr("style")??""),co=new Ne(nt,1);if(Kt(Ue,co,Ao),co.attr({src:Ue.attr("src"),style:Ue.attr("style"),class:Ue.attr("class")}),nt==="iframe")co.attr({allowfullscreen:Ue.attr("allowfullscreen"),frameborder:"0",sandbox:Ue.attr("sandbox"),referrerpolicy:Ue.attr("referrerpolicy")});else{ee(["controls","crossorigin","currentTime","loop","muted","poster","preload"],Qs=>{co.attr(Qs,Ue.attr(Qs))});const ko=gn.attr("data-mce-html");U(ko)&&Yn(Ie,nt,co,unescape(ko))}const Zo=new Ne("span",1);return Zo.attr("class","mce-shim"),gn.append(co),gn.append(Zo),gn},No=(Ie,Ue,nt)=>{const gn=Ue.attributes??[];let Ao=gn.length;for(;Ao--;){const ko=gn[Ao].name;let Qs=gn[Ao].value;ko!=="width"&&ko!=="height"&&ko!=="style"&&!vt(ko,"data-mce-")&&((ko==="data"||ko==="src")&&(Qs=Ie.convertURL(Qs,ko)),nt.attr("data-mce-p-"+ko,Qs))}const co=ft({inner:!0},Ie.schema),Zo=new Ne("div",1);ee(Ue.children(),ko=>Zo.append(ko));const us=co.serialize(Zo);us&&(nt.attr("data-mce-html",escape(us)),nt.empty())},Qn=Ie=>{const Ue=Ie.attr("class");return A(Ue)&&/\btiny-pageembed\b/.test(Ue)},ls=Ie=>{let Ue=Ie;for(;Ue=Ue.parent;)if(Ue.attr("data-ephox-embed-iri")||Qn(Ue))return!0;return!1},La=Ie=>Ue=>{let nt=Ue.length,gn;for(;nt--;)gn=Ue[nt],gn.parent&&(gn.parent.attr("data-mce-object")||(Mn(gn)&&fn(Ie)?ls(gn)||gn.replace(vo(Ie,gn)):ls(gn)||gn.replace(Gn(Ie,gn))))},sl=(Ie,Ue,nt)=>{const gn=Ie.options.get,Ao=gn("xss_sanitization"),co=qe(Ie);return He(Ie.schema,{sanitize:Ao,validate:co}).parse(nt,{context:Ue})},gi=Ie=>{Ie.on("PreInit",()=>{const{schema:Ue,serializer:nt,parser:gn}=Ie,Ao=Ue.getBoolAttrs();ee("webkitallowfullscreen mozallowfullscreen".split(" "),co=>{Ao[co]={}}),$e({embed:["wmode"]},(co,Zo)=>{const us=Ue.getElementRule(Zo);us&&ee(co,ko=>{us.attributes[ko]={},us.attributesOrder.push(ko)})}),gn.addNodeFilter("iframe,video,audio,object,embed",La(Ie)),nt.addAttributeFilter("data-mce-object",(co,Zo)=>{let us=co.length;for(;us--;){const ko=co[us];if(!ko.parent)continue;const Qs=ko.attr(Zo),me=new Ne(Qs,1);if(Qs!=="audio"){const qt=ko.attr("class");qt&&qt.indexOf("mce-preview-object")!==-1&&ko.firstChild?me.attr({width:ko.firstChild.attr("width"),height:ko.firstChild.attr("height")}):me.attr({width:ko.attr("width"),height:ko.attr("height")})}me.attr({style:ko.attr("style")});const je=ko.attributes??[];let Vt=je.length;for(;Vt--;){const qt=je[Vt].name;qt.indexOf("data-mce-p-")===0&&me.attr(qt.substr(11),je[Vt].value)}const wn=ko.attr("data-mce-html");if(wn){const qt=sl(Ie,Qs,unescape(wn));ee(qt.children(),wo=>me.append(wo))}ko.replace(me)}})}),Ie.on("SetContent",()=>{const Ue=Ie.dom;ee(Ue.select("span.mce-preview-object"),nt=>{Ue.select("span.mce-shim",nt).length===0&&Ue.add(nt,"span",{class:"mce-shim"})})})},Pn=Ie=>{Ie.on("ResolveName",Ue=>{let nt;Ue.target.nodeType===1&&(nt=Ue.target.getAttribute("data-mce-object"))&&(Ue.name=nt)})},er=Ie=>Ue=>{const nt=()=>{Ue.setEnabled(Ie.selection.isEditable())};return Ie.on("NodeChange",nt),nt(),()=>{Ie.off("NodeChange",nt)}},tr=Ie=>{const Ue=()=>Ie.execCommand("mceMedia");Ie.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:Ue,onSetup:nt=>{const gn=Ie.selection;nt.setActive(Un(gn.getNode()));const Ao=gn.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",nt.setActive).unbind,co=er(Ie)(nt);return()=>{Ao(),co()}}}),Ie.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:Ue,onSetup:er(Ie)})};var jl=()=>{l.add("media",Ie=>(Xe(Ie),ci(Ie),tr(Ie),Pn(Ie),gi(Ie),Dt(Ie),Oo(Ie)))};jl()})()),Vae}var Zae;function Oxe(){return Zae||(Zae=1,_xe()),jae}Oxe();var Wae={},qae={},Gae;function Nxe(){return Gae||(Gae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const d=(P,j,re)=>re(P,j.prototype)?!0:P.constructor?.name===j.name,p=P=>{const j=typeof P;return P===null?"null":j==="object"&&Array.isArray(P)?"array":j==="object"&&d(P,String,(re,we)=>we.isPrototypeOf(re))?"string":j},x=P=>j=>p(j)===P,A=P=>j=>typeof j===P,N=P=>j=>P===j,O=x("string"),z=x("array"),U=A("boolean"),V=N(void 0),Y=P=>P==null,ee=P=>!Y(P),ue=A("function"),Ce=A("number"),be=()=>{},$e=(P,j)=>re=>P(j(re)),pe=P=>()=>P,it=P=>P,Se=(P,j)=>P===j;function J(P,...j){return(...re)=>{const we=j.concat(re);return P.apply(null,we)}}const vt=P=>{P()},Gt=pe(!1),Xe=pe(!0);class ie{tag;value;static singletonNone=new ie(!1);constructor(j,re){this.tag=j,this.value=re}static some(j){return new ie(!0,j)}static none(){return ie.singletonNone}fold(j,re){return this.tag?re(this.value):j()}isSome(){return this.tag}isNone(){return!this.tag}map(j){return this.tag?ie.some(j(this.value)):ie.none()}bind(j){return this.tag?j(this.value):ie.none()}exists(j){return this.tag&&j(this.value)}forall(j){return!this.tag||j(this.value)}filter(j){return!this.tag||j(this.value)?this:ie.none()}getOr(j){return this.tag?this.value:j}or(j){return this.tag?this:j}getOrThunk(j){return this.tag?this.value:j()}orThunk(j){return this.tag?this:j()}getOrDie(j){if(this.tag)return this.value;throw new Error(j??"Called getOrDie on None")}static from(j){return ee(j)?ie.some(j):ie.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(j){this.tag&&j(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const ct=Array.prototype.indexOf,xn=Array.prototype.push,fn=(P,j)=>ct.call(P,j),qe=(P,j)=>fn(P,j)>-1,Re=(P,j)=>{for(let re=0,we=P.length;re<we;re++){const Ge=P[re];if(j(Ge,re))return!0}return!1},Qo=(P,j)=>{const re=[];for(let we=0;we<P;we++)re.push(j(we));return re},yt=(P,j)=>{const re=P.length,we=new Array(re);for(let Ge=0;Ge<re;Ge++){const kt=P[Ge];we[Ge]=j(kt,Ge)}return we},Lt=(P,j)=>{for(let re=0,we=P.length;re<we;re++){const Ge=P[re];j(Ge,re)}},F=(P,j)=>{for(let re=P.length-1;re>=0;re--){const we=P[re];j(we,re)}},jt=(P,j)=>{const re=[],we=[];for(let Ge=0,kt=P.length;Ge<kt;Ge++){const Cn=P[Ge];(j(Cn,Ge)?re:we).push(Cn)}return{pass:re,fail:we}},at=(P,j)=>{const re=[];for(let we=0,Ge=P.length;we<Ge;we++){const kt=P[we];j(kt,we)&&re.push(kt)}return re},Jn=(P,j,re)=>(F(P,(we,Ge)=>{re=j(re,we,Ge)}),re),an=(P,j,re)=>(Lt(P,(we,Ge)=>{re=j(re,we,Ge)}),re),le=(P,j,re)=>{for(let we=0,Ge=P.length;we<Ge;we++){const kt=P[we];if(j(kt,we))return ie.some(kt);if(re(kt,we))break}return ie.none()},Ve=(P,j)=>le(P,j,Gt),It=P=>{const j=[];for(let re=0,we=P.length;re<we;++re){if(!z(P[re]))throw new Error("Arr.flatten item "+re+" was not an array, input: "+P);xn.apply(j,P[re])}return j},Ne=(P,j)=>It(yt(P,j)),ft=(P,j)=>{for(let re=0,we=P.length;re<we;++re){const Ge=P[re];if(j(Ge,re)!==!0)return!1}return!0},He=(P,j)=>{const re={};for(let we=0,Ge=P.length;we<Ge;we++){const kt=P[we];re[String(kt)]=j(kt,we)}return re},dt=(P,j)=>j>=0&&j<P.length?ie.some(P[j]):ie.none(),X=P=>dt(P,0),$o=P=>dt(P,P.length-1),xo=(P,j)=>{for(let re=0;re<P.length;re++){const we=j(P[re],re);if(we.isSome())return we}return ie.none()},Mo=Object.keys,Ho=Object.hasOwnProperty,js=(P,j)=>{const re=Mo(P);for(let we=0,Ge=re.length;we<Ge;we++){const kt=re[we],Cn=P[kt];j(Cn,kt)}},Be=P=>(j,re)=>{P[re]=j},Ke=(P,j,re,we)=>{js(P,(Ge,kt)=>{(j(Ge,kt)?re:we)(Ge,kt)})},tt=(P,j)=>{const re={};return Ke(P,j,Be(re),be),re},Le=(P,j)=>{const re=[];return js(P,(we,Ge)=>{re.push(j(we,Ge))}),re},Je=P=>Le(P,it),Nt=P=>Mo(P).length,xt=(P,j)=>Un(P,j)?ie.from(P[j]):ie.none(),Un=(P,j)=>Ho.call(P,j),Dt=(P,j)=>Un(P,j)&&P[j]!==void 0&&P[j]!==null,Pe=P=>{for(const j in P)if(Ho.call(P,j))return!1;return!0},Tt=P=>{let j=P;return{get:()=>j,set:Ge=>{j=Ge}}},sn=(P,j,re=Se)=>P.exists(we=>re(we,j)),Zn=P=>{const j=[],re=we=>{j.push(we)};for(let we=0;we<P.length;we++)P[we].each(re);return j},Yo=(P,j,re)=>P.isSome()&&j.isSome()?ie.some(re(P.getOrDie(),j.getOrDie())):ie.none(),Jo=P=>P.bind(it),Do=(P,j)=>P?ie.some(j):ie.none(),mr=P=>{const j=Tt(ie.none()),re=()=>j.get().each(P);return{clear:()=>{re(),j.set(ie.none())},isSet:()=>j.get().isSome(),get:()=>j.get(),set:_n=>{re(),j.set(ie.some(_n))}}},zo=()=>mr(P=>P.unbind()),os=(P,j)=>P.substring(j),Vs=(P,j,re)=>j===""||P.length>=j.length&&P.substr(re,re+j.length)===j,Ss=(P,j)=>Xs(P,j)?os(P,j.length):P,Xs=(P,j)=>Vs(P,j,0),Wr=(P=>j=>j.replace(P,""))(/^\s+|\s+$/g),Es=P=>P.length>0,$r=P=>!Es(P),Ma=(P,j=10)=>{const re=parseInt(P,j);return isNaN(re)?ie.none():ie.some(re)},Hn=P=>{const j=parseFloat(P);return isNaN(j)?ie.none():ie.some(j)},ts=P=>{let j=!1,re;return(...we)=>(j||(j=!0,re=P.apply(null,we)),re)},Oo=(P,j)=>{const we=(j||document).createElement("div");if(we.innerHTML=P,!we.hasChildNodes()||we.childNodes.length>1){const Ge="HTML does not have a single root node";throw console.error(Ge,P),new Error(Ge)}return Mn(we.childNodes[0])},ci=(P,j)=>{const we=(j||document).createElement(P);return Mn(we)},Ba=(P,j)=>{const we=(j||document).createTextNode(P);return Mn(we)},Mn=P=>{if(P==null)throw new Error("Node cannot be null or undefined");return{dom:P}},Kt={fromHtml:Oo,fromTag:ci,fromText:Ba,fromDom:Mn,fromPoint:(P,j,re)=>ie.from(P.dom.elementFromPoint(j,re)).map(Mn)},Yn=8,Gn=9,vo=11,No=1,Qn=3,ls=(P,j)=>{const re=P.dom;if(re.nodeType!==No)return!1;{const we=re;if(we.matches!==void 0)return we.matches(j);if(we.msMatchesSelector!==void 0)return we.msMatchesSelector(j);if(we.webkitMatchesSelector!==void 0)return we.webkitMatchesSelector(j);if(we.mozMatchesSelector!==void 0)return we.mozMatchesSelector(j);throw new Error("Browser lacks native selectors")}},La=P=>P.nodeType!==No&&P.nodeType!==Gn&&P.nodeType!==vo||P.childElementCount===0,sl=(P,j)=>{const re=j===void 0?document:j.dom;return La(re)?[]:yt(re.querySelectorAll(P),Kt.fromDom)},gi=(P,j)=>{const re=j===void 0?document:j.dom;return La(re)?ie.none():ie.from(re.querySelector(P)).map(Kt.fromDom)},Pn=(P,j)=>P.dom===j.dom,er=ls,tr=P=>P.dom.nodeName.toLowerCase(),jl=P=>P.dom.nodeType,Ie=P=>j=>jl(j)===P,Ue=P=>jl(P)===Yn||tr(P)==="#comment",nt=Ie(No),gn=Ie(Qn),Ao=Ie(Gn),co=Ie(vo),Zo=P=>j=>nt(j)&&tr(j)===P,us=P=>Kt.fromDom(P.dom.ownerDocument),ko=P=>Ao(P)?P:us(P),Qs=P=>ie.from(P.dom.parentNode).map(Kt.fromDom),me=(P,j)=>{const re=ue(j)?j:Gt;let we=P.dom;const Ge=[];for(;we.parentNode!==null&&we.parentNode!==void 0;){const kt=we.parentNode,Cn=Kt.fromDom(kt);if(Ge.push(Cn),re(Cn)===!0)break;we=kt}return Ge},je=P=>ie.from(P.dom.previousSibling).map(Kt.fromDom),Vt=P=>ie.from(P.dom.nextSibling).map(Kt.fromDom),wn=P=>yt(P.dom.childNodes,Kt.fromDom),qt=(P,j)=>{const re=P.dom.childNodes;return ie.from(re[j]).map(Kt.fromDom)},wo=P=>qt(P,0),oo=P=>co(P)&&ee(P.dom.host),Bn=P=>Kt.fromDom(P.dom.getRootNode()),Uo=P=>{const j=Bn(P);return oo(j)?ie.some(j):ie.none()},vs=P=>Kt.fromDom(P.dom.host),Ts=(P,j)=>{Qs(P).each(we=>{we.dom.insertBefore(j.dom,P.dom)})},As=(P,j)=>{Vt(P).fold(()=>{Qs(P).each(Ge=>{Sa(Ge,j)})},we=>{Ts(we,j)})},sa=(P,j)=>{wo(P).fold(()=>{Sa(P,j)},we=>{P.dom.insertBefore(j.dom,we.dom)})},Sa=(P,j)=>{P.dom.appendChild(j.dom)},Qf=(P,j)=>{Ts(P,j),Sa(j,P)},Tr=(P,j)=>{Lt(j,(re,we)=>{const Ge=we===0?P:j[we-1];As(Ge,re)})},Fs=(P,j)=>{Lt(j,re=>{Sa(P,re)})},ir=(P,j,re)=>{if(O(re)||U(re)||Ce(re))P.setAttribute(j,re+"");else throw console.error("Invalid call to Attribute.set. Key ",j,":: Value ",re,":: Element ",P),new Error("Attribute value was not simple")},Vi=(P,j,re)=>{ir(P.dom,j,re)},Ci=(P,j)=>{const re=P.dom;js(j,(we,Ge)=>{ir(re,Ge,we)})},Ir=(P,j)=>{const re=P.dom.getAttribute(j);return re===null?void 0:re},Co=(P,j)=>ie.from(Ir(P,j)),Si=(P,j)=>{P.dom.removeAttribute(j)},ni=P=>an(P.dom.attributes,(j,re)=>(j[re.name]=re.value,j),{}),Jr=P=>{const j=P.dom;j.parentNode!==null&&j.parentNode.removeChild(j)},Sf=P=>{const j=wn(P);j.length>0&&Tr(P,j),Jr(P)},uc=P=>yt(P,Kt.fromDom),Hr=P=>P.style!==void 0&&ue(P.style.getPropertyValue),wu=P=>{const j=gn(P)?P.dom.parentNode:P.dom;if(j==null||j.ownerDocument===null)return!1;const re=j.ownerDocument;return Uo(Kt.fromDom(j)).fold(()=>re.body.contains(j),$e(wu,vs))},dc=(P,j,re)=>{if(!O(re))throw console.error("Invalid call to CSS.set. Property ",j,":: Value ",re,":: Element ",P),new Error("CSS value must be a string: "+re);Hr(P)&&P.style.setProperty(j,re)},Ef=(P,j)=>{Hr(P)&&P.style.removeProperty(j)},An=(P,j,re)=>{const we=P.dom;dc(we,j,re)},Cu=(P,j)=>{const re=P.dom,Ge=window.getComputedStyle(re).getPropertyValue(j);return Ge===""&&!wu(P)?Ri(re,j):Ge},Ri=(P,j)=>Hr(P)?P.style.getPropertyValue(j):"",pi=(P,j)=>{const re=P.dom,we=Ri(re,j);return ie.from(we).filter(Ge=>Ge.length>0)},qr=(P,j)=>{const re=P.dom;Ef(re,j),sn(Co(P,"style").map(Wr),"")&&Si(P,"style")},Kd=(P,j)=>Hn(P).getOr(j),Ei=(P,j,re)=>Kd(Cu(P,j),re),rl=(P,j,re,we)=>{const Ge=Ei(P,`padding-${re}`,0),kt=Ei(P,`padding-${we}`,0),Cn=Ei(P,`border-${re}-width`,0),_n=Ei(P,`border-${we}-width`,0);return j-Ge-kt-Cn-_n},Tf=(P,j)=>{const re=P.dom,we=re.getBoundingClientRect().width||re.offsetWidth;return rl(P,we,"left","right")},Su=P=>Tf(P),Dl=((P,j)=>{const re=kt=>{if(!P(kt))throw new Error("Can only get "+j+" value of a "+j+" node");return we(kt).getOr("")},we=kt=>P(kt)?ie.from(kt.dom.nodeValue):ie.none();return{get:re,getOption:we,set:(kt,Cn)=>{if(!P(kt))throw new Error("Can only set raw "+j+" value of a "+j+" node");kt.dom.nodeValue=Cn}}})(gn,"text"),Wc=P=>Dl.get(P),qc=(P,j)=>Dl.set(P,j);var mn=(P,j,re,we,Ge)=>P(re,we)?ie.some(re):ue(Ge)&&Ge(re)?ie.none():j(re,we,Ge);const Eu=(P,j,re)=>{let we=P.dom;const Ge=ue(re)?re:Gt;for(;we.parentNode;){we=we.parentNode;const kt=Kt.fromDom(we);if(j(kt))return ie.some(kt);if(Ge(kt))break}return ie.none()},bd=(P,j,re)=>mn((Ge,kt)=>kt(Ge),Eu,P,j,re),Vl=(P,j)=>{const re=Ge=>j(Kt.fromDom(Ge));return Ve(P.dom.childNodes,re).map(Kt.fromDom)},al=(P,j,re)=>Eu(P,we=>ls(we,j),re),Vu=(P,j)=>Vl(P,re=>ls(re,j)),Ui=(P,j)=>gi(j,P),oi=(P,j,re)=>mn((Ge,kt)=>ls(Ge,kt),al,P,j,re),_l=P=>oi(P,"[contenteditable]"),fc=(P,j=!1)=>wu(P)?P.dom.isContentEditable:_l(P).fold(pe(j),re=>qs(re)==="true"),qs=P=>P.dom.contentEditable,Af=(P,j)=>at(wn(P),j),te=(P,j)=>{let re=[];return Lt(wn(P),we=>{j(we)&&(re=re.concat([we])),re=re.concat(te(we,j))}),re},ve=(P,j)=>Af(P,re=>ls(re,j)),Fe=(P,j)=>sl(j,P),Rt=(P,j)=>Vu(P,j).isSome(),qn=P=>P.nodeName.toLowerCase(),ps=P=>Kt.fromDom(P.getBody()),lr=P=>j=>Pn(j,ps(P)),Va=P=>P?P.replace(/px$/,""):"",Ti=P=>/^\d+(\.\d+)?$/.test(P)?P+"px":P,Ol=P=>Kt.fromDom(P.selection.getStart()),oe=P=>Kt.fromDom(P.selection.getEnd()),ke=P=>bd(P,Zo("table")).forall(fc),Qe=["tfoot","thead","tbody","colgroup"],Et=P=>qe(Qe,P),pn=(P,j)=>({rows:P,columns:j}),Wn=(P,j,re)=>({element:P,rowspan:j,colspan:re}),Po=(P,j,re,we,Ge,kt)=>({element:P,rowspan:j,colspan:re,row:we,column:Ge,isLocked:kt}),Gs=(P,j,re)=>({element:P,cells:j,section:re}),Os=(P,j,re,we)=>({startRow:P,startCol:j,finishRow:re,finishCol:we}),Mi=(P,j,re)=>({element:P,colspan:j,column:re}),Ea=(P,j)=>({element:P,columns:j}),Xd=(P,j,re=0)=>Co(P,j).map(we=>parseInt(we,10)).getOr(re),Om=(P,j)=>kf(P,j,Xe),kf=(P,j,re)=>Ne(wn(P),we=>ls(we,j)?re(we)?[we]:[]:kf(we,j,re)),Gc=(P,j,re=Gt)=>{if(re(j))return ie.none();if(qe(P,tr(j)))return ie.some(j);const we=Ge=>ls(Ge,"table")||re(Ge);return al(j,P.join(","),we)},R0=(P,j)=>Gc(["td","th"],P,j),M0=P=>Om(P,"th,td"),ye=P=>ls(P,"colgroup")?ve(P,"col"):Ne(Xt(P),j=>ve(j,"col")),Me=(P,j)=>oi(P,"table",j),mt=P=>Om(P,"tr"),Xt=P=>Me(P).fold(pe([]),j=>ve(j,"colgroup")),po=Zo("th"),bs=(P,j)=>P&&j?"sectionCells":P?"section":"cells",Ta=P=>{const j=P.section==="thead",re=sn(il(P.cells),"th");return P.section==="tfoot"?{type:"footer"}:j||re?{type:"header",subType:bs(j,re)}:{type:"body"}},il=P=>{const j=at(P,re=>po(re.element));return j.length===0?ie.some("td"):j.length===P.length?ie.some("th"):ie.none()},Zi=P=>{const j=yt(P,Ge=>Ta(Ge).type),re=qe(j,"header"),we=qe(j,"footer");if(!re&&!we)return ie.some("body");{const Ge=qe(j,"body");return re&&!Ge&&!we?ie.some("header"):!re&&!Ge&&we?ie.some("footer"):ie.none()}},Ul=(P,j)=>yt(P,re=>{if(tr(re)==="colgroup"){const we=yt(ye(re),Ge=>{const kt=Xd(Ge,"span",1);return Wn(Ge,1,kt)});return Gs(re,we,"colgroup")}else{const we=yt(M0(re),Ge=>{const kt=Xd(Ge,"rowspan",1),Cn=Xd(Ge,"colspan",1);return Wn(Ge,kt,Cn)});return Gs(re,we,j(re))}}),Qd=P=>Qs(P).map(j=>{const re=tr(j);return Et(re)?re:"tbody"}).getOr("tbody"),Zl=P=>{const j=mt(P),we=[...Xt(P),...j];return Ul(we,Qd)},Nm="data-snooker-locked-cols",Wl=P=>Co(P,Nm).bind(j=>ie.from(j.match(/\d+/g))).map(j=>He(j,Xe)),ll=(P,j)=>P+","+j,Jd=(P,j,re)=>ie.from(P.access[ll(j,re)]),_c=(P,j,re)=>{const we=ds(P,Ge=>re(j,Ge.element));return we.length>0?ie.some(we[0]):ie.none()},ds=(P,j)=>{const re=Ne(P.all,we=>we.cells);return at(re,j)},vh=P=>{const j={};let re=0;return Lt(P.cells,we=>{const Ge=we.colspan;Qo(Ge,kt=>{const Cn=re+kt;j[Cn]=Mi(we.element,Ge,Cn)}),re+=Ge}),j},pp=P=>{const j={},re=[],Ge=X(P).map(Rc=>Rc.element).bind(Me).bind(Wl).getOr({});let kt=0,Cn=0,_n=0;const{pass:Fo,fail:as}=jt(P,Rc=>Rc.section==="colgroup");Lt(as,Rc=>{const Yu=[];Lt(Rc.cells,rf=>{let di=0;for(;j[ll(_n,di)]!==void 0;)di++;const Li=Dt(Ge,di.toString()),am=Po(rf.element,rf.rowspan,rf.colspan,_n,di,Li);for(let im=0;im<rf.colspan;im++)for(let Fm=0;Fm<rf.rowspan;Fm++){const Dh=_n+Fm,Nu=di+im,_h=ll(Dh,Nu);j[_h]=am,Cn=Math.max(Cn,Nu+1)}Yu.push(am)}),kt++,re.push(Gs(Rc.element,Yu,Rc.section)),_n++});const{columns:Br,colgroups:ia}=$o(Fo).map(Rc=>{const Yu=vh(Rc);return{colgroups:[Ea(Rc.element,Je(Yu))],columns:Yu}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:pn(kt,Cn),access:j,all:re,columns:Br,colgroups:ia}},Ua={fromTable:P=>{const j=Zl(P);return pp(j)},generate:pp,getAt:Jd,findItem:_c,filterItems:ds,justCells:P=>Ne(P.all,j=>j.cells),justColumns:P=>Je(P.columns),hasColumns:P=>Mo(P.columns).length>0,getColumnAt:(P,j)=>ie.from(P.columns[j])},em=(P,j)=>xo(P.all,re=>Ve(re.cells,we=>Pn(j,we.element))),W1=(P,j,re)=>{const we=yt(j.selection,kt=>R0(kt).bind(Cn=>em(P,Cn)).filter(re)),Ge=Zn(we);return Do(Ge.length>0,Ge)},ln=(P,j)=>j.mergable,Kc=(P,j)=>j.unmergable,bg=(P,j)=>W1(P,j,Xe),yd=(P,j)=>em(P,j).exists(re=>!re.isLocked),yg=(P,j)=>ft(j,re=>yd(P,re)),q1=(P,j)=>ln(P,j).filter(re=>yg(P,re.cells)),_e=(P,j)=>Kc(P,j).filter(re=>yg(P,re));var Yc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],vl=()=>{const P=as=>Kt.fromDom(as.dom.cloneNode(!1)),j=as=>ko(as).dom,re=as=>nt(as)?tr(as)==="body"?!0:qe(Yc,tr(as)):!1,we=as=>nt(as)?qe(["br","img","hr","input"],tr(as)):!1,Ge=as=>nt(as)&&Ir(as,"contenteditable")==="false",kt=(as,Br)=>as.dom.compareDocumentPosition(Br.dom),Cn=(as,Br)=>{const ia=ni(as);Ci(Br,ia)},_n=as=>{const Br=tr(as);return qe(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Br)},Fo=as=>nt(as)?Co(as,"lang"):ie.none();return{up:pe({selector:al,closest:oi,predicate:Eu,all:me}),down:pe({selector:Fe,predicate:te}),styles:pe({get:Cu,getRaw:pi,set:An,remove:qr}),attrs:pe({get:Ir,set:Vi,remove:Si,copyTo:Cn}),insert:pe({before:Ts,after:As,afterAll:Tr,append:Sa,appendAll:Fs,prepend:sa,wrap:Qf}),remove:pe({unwrap:Sf,remove:Jr}),create:pe({nu:Kt.fromTag,clone:P,text:Kt.fromText}),query:pe({comparePosition:kt,prevSibling:je,nextSibling:Vt}),property:pe({children:wn,name:tr,parent:Qs,document:j,isText:gn,isComment:Ue,isElement:nt,isSpecial:_n,getLanguage:Fo,getText:Wc,setText:qc,isBoundary:re,isEmptyTag:we,isNonEditable:Ge}),eq:Pn,is:er}};const xh=(P,j,re,we)=>{const Ge=re[0],kt=re.slice(1);return we(P,j,Ge,kt)},wh=(P,j,re)=>re.length>0?xh(P,j,re,Nl):ie.none(),Nl=(P,j,re,we)=>{const Ge=j(P,re);return Jn(we,(kt,Cn)=>{const _n=j(P,Cn);return Oc(P,kt,_n)},Ge)},Oc=(P,j,re)=>j.bind(we=>re.filter(J(P.eq,we))),L0=wh,bp=vl(),yp=(P,j)=>L0(bp,(re,we)=>P(we),j),vp=(P,j)=>{const re=Ua.fromTable(P);return bg(re,j).bind(Ge=>{const kt=Ge[Ge.length-1],Cn=Ge[0].row,_n=kt.row+kt.rowspan,Fo=re.all.slice(Cn,_n);return Zi(Fo)}).getOr("")},Tu=(P,j)=>j.column>=P.startCol&&j.column+j.colspan-1<=P.finishCol&&j.row>=P.startRow&&j.row+j.rowspan-1<=P.finishRow,Ch=(P,j)=>{let re=!0;const we=J(Tu,j);for(let Ge=j.startRow;Ge<=j.finishRow;Ge++)for(let kt=j.startCol;kt<=j.finishCol;kt++)re=re&&Ua.getAt(P,Ge,kt).exists(we);return re?ie.some(j):ie.none()},P0=(P,j)=>Os(Math.min(P.row,j.row),Math.min(P.column,j.column),Math.max(P.row+P.rowspan-1,j.row+j.rowspan-1),Math.max(P.column+P.colspan-1,j.column+j.colspan-1)),wl=(P,j,re)=>{const we=Ua.findItem(P,j,Pn),Ge=Ua.findItem(P,re,Pn);return we.bind(kt=>Ge.map(Cn=>P0(kt,Cn)))},Rm=(P,j,re)=>wl(P,j,re).bind(we=>Ch(P,we)),Uu=(P,j,re)=>{const we=tm(P);return Rm(we,j,re)},tm=Ua.fromTable;var ss=tinymce.util.Tools.resolve("tinymce.util.Tools");const mc=(P,j,re)=>{const we=P.select("td,th",j);let Ge;for(let kt=0;kt<we.length;kt++){const Cn=P.getStyle(we[kt],re);if(V(Ge)&&(Ge=Cn),Ge!==Cn)return""}return Ge},Sh=(P,j,re)=>{ss.each("left center right".split(" "),we=>{we!==re&&P.formatter.remove("align"+we,{},j)}),re&&P.formatter.apply("align"+re,{},j)},G1=(P,j,re)=>{ss.each("top middle bottom".split(" "),we=>{we!==re&&P.formatter.remove("valign"+we,{},j)}),re&&P.formatter.apply("valign"+re,{},j)},rs=(P,j,re)=>{P.dispatch("TableModified",{...re,table:j})};var nm=tinymce.util.Tools.resolve("tinymce.Env");const Ai="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",vd=Qo(5,P=>{const j=`${P+1}px`;return{title:j,value:j}}),xd=yt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],P=>({title:P,value:P.toLowerCase()})),fa="100%",xs=P=>{const j=P.dom,re=j.getParent(P.selection.getStart(),j.isBlock)??P.getBody();return Su(Kt.fromDom(re))+"px"},F0=(P,j)=>xp(P)||!Za(P)?j:om(P)?{...j,width:xs(P)}:{...j,width:fa},wd=(P,j)=>xp(P)||Za(P)?j:om(P)?{...j,width:xs(P)}:{...j,width:fa},Pa=P=>j=>j.options.get(P),Au=P=>{const j=P.options.register;j("table_border_widths",{processor:"object[]",default:vd}),j("table_border_styles",{processor:"object[]",default:xd}),j("table_cell_advtab",{processor:"boolean",default:!0}),j("table_row_advtab",{processor:"boolean",default:!0}),j("table_advtab",{processor:"boolean",default:!0}),j("table_appearance_options",{processor:"boolean",default:!0}),j("table_grid",{processor:"boolean",default:!nm.deviceType.isTouch()}),j("table_cell_class_list",{processor:"object[]",default:[]}),j("table_row_class_list",{processor:"object[]",default:[]}),j("table_class_list",{processor:"object[]",default:[]}),j("table_toolbar",{processor:"string",default:Ai}),j("table_background_color_map",{processor:"object[]",default:[]}),j("table_border_color_map",{processor:"object[]",default:[]})},Xc=Pa("table_sizing_mode"),si=Pa("table_border_widths"),Zu=Pa("table_border_styles"),Wi=Pa("table_cell_advtab"),Qc=Pa("table_row_advtab"),cl=Pa("table_advtab"),$s=Pa("table_appearance_options"),Wu=Pa("table_grid"),Za=Pa("table_style_by_css"),qi=Pa("table_cell_class_list"),Fa=Pa("table_row_class_list"),ma=Pa("table_class_list"),Jc=Pa("table_toolbar"),ri=Pa("table_background_color_map"),ai=Pa("table_border_color_map"),om=P=>Xc(P)==="fixed",xp=P=>Xc(P)==="responsive",wp=P=>{const j=P.options,re=j.get("table_default_styles");return j.isSet("table_default_styles")?re:F0(P,re)},ra=P=>{const j=P.options,re=j.get("table_default_attributes");return j.isSet("table_default_attributes")?re:wd(P,re)},Mm=P=>al(P,"table"),Eh=(P,j)=>{const re=Fe(P,j);return re.length>0?ie.some(re):ie.none()},Df=(P,j,re)=>Ui(P,j).bind(we=>Ui(P,re).bind(Ge=>yp(Mm,[we,Ge]).map(kt=>({first:we,last:Ge,table:kt})))),uo=(P,j)=>Eh(P,j),ku=(P,j,re)=>Df(P,j,re).bind(we=>{const Ge=Fo=>Pn(P,Fo),kt="thead,tfoot,tbody,table",Cn=al(we.first,kt,Ge),_n=al(we.last,kt,Ge);return Cn.bind(Fo=>_n.bind(as=>Pn(Fo,as)?Uu(we.table,we.first,we.last):ie.none()))}),ea=it,ii=P=>{const j=(we,Ge)=>Co(we,Ge).exists(kt=>parseInt(kt,10)>1),re=we=>j(we,"rowspan")||j(we,"colspan");return P.length>0&&ft(P,re)?ie.some(P):ie.none()},$a=(P,j,re)=>j.length<=1?ie.none():ku(P,re.firstSelectedSelector,re.lastSelectedSelector).map(we=>({bounds:we,cells:j})),cr="data-mce-selected",Nc="data-mce-first-selected",Cp="td["+Nc+"],th["+Nc+"]",eu="data-mce-last-selected",qu="td["+eu+"],th["+eu+"]",vg={selected:cr,firstSelectedSelector:Cp,lastSelectedSelector:qu},Cl=P=>Me(P).bind(j=>uo(j,vg.firstSelectedSelector)).fold(pe(P),j=>j[0]),Ia=P=>(j,re)=>{const we=tr(j),Ge=we==="col"||we==="colgroup"?Cl(j):j;return oi(Ge,P,re)},Js=Ia("th,td,caption"),Rl=Ia("th,td"),Du=P=>uc(P.model.table.getSelectedCells()),ul=(P,j)=>{const re=Rl(P),we=re.bind(Ge=>Me(Ge)).map(Ge=>mt(Ge));return Yo(re,we,(Ge,kt)=>at(kt,Cn=>Re(uc(Cn.dom.cells),_n=>Ir(_n,j)==="1"||Pn(_n,Ge)))).getOr([])},Sl=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],ef=P=>({value:Th(P)}),Is=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Ml=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Bm=P=>Is.test(P)||Ml.test(P),Th=P=>Ss(P,"#").toUpperCase(),hc=P=>Bm(P)?ie.some({value:Th(P)}):ie.none(),So=P=>{const j=P.toString(16);return(j.length===1?"0"+j:j).toUpperCase()},Or=P=>{const j=So(P.red)+So(P.green)+So(P.blue);return ef(j)},Wa=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,yr=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,dl=(P,j,re,we)=>({red:P,green:j,blue:re,alpha:we}),Gr=(P,j,re,we)=>{const Ge=parseInt(P,10),kt=parseInt(j,10),Cn=parseInt(re,10),_n=parseFloat(we);return dl(Ge,kt,Cn,_n)},li=P=>{const j=Wa.exec(P);if(j!==null)return ie.some(Gr(j[1],j[2],j[3],"1"));const re=yr.exec(P);return re!==null?ie.some(Gr(re[1],re[2],re[3],re[4])):ie.none()},tf=P=>hc(P).orThunk(()=>li(P).map(Or)).getOrThunk(()=>{const j=document.createElement("canvas");j.height=1,j.width=1;const re=j.getContext("2d");re.clearRect(0,0,j.width,j.height),re.fillStyle="#FFFFFF",re.fillStyle=P,re.fillRect(0,0,1,1);const we=re.getImageData(0,0,1,1).data,Ge=we[0],kt=we[1],Cn=we[2],_n=we[3];return Or(dl(Ge,kt,Cn,_n))}),cs=P=>li(P).map(Or).map(j=>"#"+j.value).getOr(P),ql=(P,j,re)=>we=>{const Ge=zo(),kt=$r(re),Cn=()=>{const _n=Du(P),Fo=as=>P.formatter.match(j,{value:re},as.dom,kt);kt?(we.setActive(!Re(_n,Fo)),Ge.set(P.formatter.formatChanged(j,as=>we.setActive(!as),!0))):(we.setActive(ft(_n,Fo)),Ge.set(P.formatter.formatChanged(j,we.setActive,!1,{value:re})))};return P.initialized?Cn():P.on("init",Cn),Ge.clear},ws=P=>Dt(P,"menu"),Gl=P=>yt(P,j=>{const re=j.text||j.title||"";return ws(j)?{text:re,items:Gl(j.menu)}:{text:re,value:j.value}}),bi=P=>P.length?ie.some(Gl([{text:"Select...",value:"mce-no-match"},...P])):ie.none(),ki=(P,j,re,we)=>yt(j,Ge=>{const kt=Ge.text||Ge.title;return ws(Ge)?{type:"nestedmenuitem",text:kt,getSubmenuItems:()=>ki(P,Ge.menu,re,we)}:{text:kt,type:"togglemenuitem",onAction:()=>we(Ge.value),onSetup:ql(P,re,Ge.value)}}),_f=(P,j)=>re=>{P.execCommand("mceTableApplyCellStyle",!1,{[j]:re})},xg=P=>Ne(P,j=>ws(j)?[{...j,menu:xg(j.menu)}]:Es(j.value)?[j]:[]),qa=(P,j,re,we)=>Ge=>Ge(ki(P,j,re,we)),Of=(P,j,re)=>{const we=yt(j,Ge=>({text:Ge.title,value:"#"+tf(Ge.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:we.length>0?we:void 0,allowCustomColors:!1},onAction:Ge=>{const kt=Ge.value==="remove"?"":Ge.value;P.execCommand("mceTableApplyCellStyle",!1,{[re]:kt})}}]},Cd=P=>()=>{const re=P.queryCommandValue("mceTableRowType")==="header"?"body":"header";P.execCommand("mceTableRowType",!1,{type:re})},Bi=P=>()=>{const re=P.queryCommandValue("mceTableColType")==="th"?"td":"th";P.execCommand("mceTableColType",!1,{type:re})},nf=P=>bi(qi(P)).map(j=>({name:"class",type:"listbox",label:"Class",items:j})),wg=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Sl}],Gu=P=>wg.concat(nf(P).toArray()),hr=(P,j)=>{const we=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Gl(Zu(P)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:j==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(we):we}},Cg={normal:(P,j)=>{const re=P.dom;return{setAttrib:(Cn,_n)=>{re.setAttrib(j,Cn,_n)},setStyle:(Cn,_n)=>{re.setStyle(j,Cn,_n)},setFormat:(Cn,_n)=>{_n===""?P.formatter.remove(Cn,{value:null},j,!0):P.formatter.apply(Cn,{value:_n},j)}}}},Bl=P=>Xs(P,"rgb")?cs(P):P,fl=P=>{const j=Kt.fromDom(P);return{borderwidth:pi(j,"border-width").getOr(""),borderstyle:pi(j,"border-style").getOr(""),bordercolor:pi(j,"border-color").map(Bl).getOr(""),backgroundcolor:pi(j,"background-color").map(Bl).getOr("")}},ka=P=>{const j=P[0],re=P.slice(1);return Lt(re,we=>{Lt(Mo(j),Ge=>{js(we,(kt,Cn)=>{const _n=j[Ge];_n!==""&&Ge===Cn&&_n!==kt&&(j[Ge]=Ge==="class"?"mce-no-match":"")})})}),j},Sd=(P,j,re,we)=>Ve(P,Ge=>!V(re.formatter.matchNode(we,j+Ge))).getOr(""),ui=J(Sd,["left","center","right"],"align"),of=J(Sd,["top","middle","bottom"],"valign"),Sg=(P,j)=>{const re=wp(P),we=ra(P),Ge=()=>({borderstyle:xt(re,"border-style").getOr(""),bordercolor:Bl(xt(re,"border-color").getOr("")),backgroundcolor:Bl(xt(re,"background-color").getOr(""))}),kt={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},Cn=()=>{const Br=re["border-width"];return Za(P)&&Br?{border:Br}:xt(we,"border").fold(()=>({}),ia=>({border:ia}))},_n=j?Ge():{},Fo=()=>{const Br=xt(re,"border-spacing").or(xt(we,"cellspacing")).fold(()=>({}),vi=>({cellspacing:vi})),ia=xt(re,"border-padding").or(xt(we,"cellpadding")).fold(()=>({}),vi=>({cellpadding:vi}));return{...Br,...ia}};return{...kt,...re,...we,..._n,...Cn(),...Fo()}},Eg=P=>Me(Kt.fromDom(P)).map(j=>{const re={selection:uc(P.cells)};return vp(j,re)}).getOr(""),K1=(P,j,re)=>{const we=(_n,Fo)=>{const as=pi(Kt.fromDom(Fo),"border-width");return Za(P)&&as.isSome()?as.getOr(""):_n.getAttrib(Fo,"border")||mc(P.dom,Fo,"border-width")||mc(P.dom,Fo,"border")||""},Ge=P.dom,kt=Za(P)?Ge.getStyle(j,"border-spacing")||Ge.getAttrib(j,"cellspacing"):Ge.getAttrib(j,"cellspacing")||Ge.getStyle(j,"border-spacing"),Cn=Za(P)?mc(Ge,j,"padding")||Ge.getAttrib(j,"cellpadding"):Ge.getAttrib(j,"cellpadding")||mc(Ge,j,"padding");return{width:Ge.getStyle(j,"width")||Ge.getAttrib(j,"width"),height:Ge.getStyle(j,"height")||Ge.getAttrib(j,"height"),cellspacing:kt??"",cellpadding:Cn??"",border:we(Ge,j),caption:!!Ge.select("caption",j)[0],class:Ge.getAttrib(j,"class",""),align:ui(P,j),...re?fl(j):{}}},Ed=(P,j,re)=>{const we=P.dom;return{height:we.getStyle(j,"height")||we.getAttrib(j,"height"),class:we.getAttrib(j,"class",""),type:Eg(j),align:ui(P,j),...re?fl(j):{}}},dy=(P,j,re,we)=>{const Ge=P.dom,kt=we.getOr(j);return{width:((_n,Fo)=>Ge.getStyle(_n,Fo)||Ge.getAttrib(_n,Fo))(kt,"width"),scope:Ge.getAttrib(j,"scope"),celltype:qn(j),class:Ge.getAttrib(j,"class",""),halign:ui(P,j),valign:of(P,j),...re?fl(j):{}}},sm=(P,j)=>{const re=Ua.fromTable(P),we=Ua.justCells(re),Ge=at(we,kt=>Re(j,Cn=>Pn(kt.element,Cn)));return yt(Ge,kt=>({element:kt.element.dom,column:Ua.getColumnAt(re,kt.column).map(Cn=>Cn.element.dom)}))},gc=(P,j,re,we)=>{we("scope")&&P.setAttrib("scope",re.scope),we("class")&&re.class!=="mce-no-match"&&P.setAttrib("class",re.class),we("width")&&j.setStyle("width",Ti(re.width))},Y1=(P,j,re)=>{re("backgroundcolor")&&P.setFormat("tablecellbackgroundcolor",j.backgroundcolor),re("bordercolor")&&P.setFormat("tablecellbordercolor",j.bordercolor),re("borderstyle")&&P.setFormat("tablecellborderstyle",j.borderstyle),re("borderwidth")&&P.setFormat("tablecellborderwidth",Ti(j.borderwidth))},Ah=(P,j,re,we)=>{const Ge=j.length===1;Lt(j,kt=>{const Cn=kt.element,_n=Ge?Xe:we,Fo=Cg.normal(P,Cn),as=kt.column.map(Br=>Cg.normal(P,Br)).getOr(Fo);gc(Fo,as,re,_n),Wi(P)&&Y1(Fo,re,_n),we("halign")&&Sh(P,Cn,re.halign),we("valign")&&G1(P,Cn,re.valign)})},Nf=(P,j)=>{P.execCommand("mceTableCellType",!1,{type:j.celltype,no_events:!0})},rm=(P,j,re,we)=>{const Ge=tt(we,(kt,Cn)=>re[Cn]!==kt);Nt(Ge)>0&&j.length>=1&&Me(j[0]).each(kt=>{const Cn=sm(kt,j),_n=Nt(tt(Ge,(as,Br)=>Br!=="scope"&&Br!=="celltype"))>0,Fo=Un(Ge,"celltype");(_n||Un(Ge,"scope"))&&Ah(P,Cn,we,J(Un,Ge)),Fo&&Nf(P,we),rs(P,kt.dom,{structure:Fo,style:_n})})},Tg=(P,j,re,we)=>{const Ge=we.getData();we.close(),P.undoManager.transact(()=>{rm(P,j,re,Ge),P.focus()})},Ag=(P,j)=>{const re=Me(j[0]).map(we=>yt(sm(we,j),Ge=>dy(P,Ge.element,Wi(P),Ge.column)));return ka(re.getOrDie())},tu=P=>{const j=Du(P);if(j.length===0)return;const re=Ag(P,j),we={type:"tabpanel",tabs:[{title:"General",name:"general",items:Gu(P)},hr(P,"cell")]},Ge={type:"panel",items:[{type:"grid",columns:2,items:Gu(P)}]};P.windowManager.open({title:"Cell Properties",size:"normal",body:Wi(P)?we:Ge,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:re,onSubmit:J(Tg,P,j,re)})},fy=P=>bi(Fa(P)).map(j=>({name:"class",type:"listbox",label:"Class",items:j})),_u=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],ur=P=>_u.concat(fy(P).toArray()),yi=(P,j,re)=>{re("class")&&j.class!=="mce-no-match"&&P.setAttrib("class",j.class),re("height")&&P.setStyle("height",Ti(j.height))},Td=(P,j,re)=>{re("backgroundcolor")&&P.setStyle("background-color",j.backgroundcolor),re("bordercolor")&&P.setStyle("border-color",j.bordercolor),re("borderstyle")&&P.setStyle("border-style",j.borderstyle)},Sp=(P,j,re,we)=>{const kt=j.length===1?Xe:we;Lt(j,Cn=>{const _n=ve(Kt.fromDom(Cn),"td,th"),Fo=Cg.normal(P,Cn);yi(Fo,re,kt),Qc(P)&&Td(Fo,re,kt),we("height")&&Lt(_n,as=>{P.dom.setStyle(as.dom,"height",null)}),we("align")&&Sh(P,Cn,re.align)})},nu=(P,j)=>{P.execCommand("mceTableRowType",!1,{type:j.type,no_events:!0})},Rf=(P,j,re,we)=>{const Ge=tt(we,(kt,Cn)=>re[Cn]!==kt);if(Nt(Ge)>0){const kt=Un(Ge,"type"),Cn=kt?Nt(Ge)>1:!0;Cn&&Sp(P,j,we,J(Un,Ge)),kt&&nu(P,we),Me(Kt.fromDom(j[0])).each(_n=>rs(P,_n.dom,{structure:kt,style:Cn}))}},kg=(P,j,re,we)=>{const Ge=we.getData();we.close(),P.undoManager.transact(()=>{Rf(P,j,re,Ge),P.focus()})},Ad=P=>{const j=ul(Ol(P),vg.selected);if(j.length===0)return;const re=yt(j,Cn=>Ed(P,Cn.dom,Qc(P))),we=ka(re),Ge={type:"tabpanel",tabs:[{title:"General",name:"general",items:ur(P)},hr(P,"row")]},kt={type:"panel",items:[{type:"grid",columns:2,items:ur(P)}]};P.windowManager.open({title:"Row Properties",size:"normal",body:Qc(P)?Ge:kt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:we,onSubmit:J(kg,P,yt(j,Cn=>Cn.dom),we)})},kd=(P,j,re)=>{const we=re?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],Ge=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],kt=$s(P)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],Cn=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],_n=j.length>0?[{name:"class",type:"listbox",label:"Class",items:j}]:[];return we.concat(Ge).concat(kt).concat(Cn).concat(_n)},nr=(P,j,re,we)=>{if(j.tagName==="TD"||j.tagName==="TH")O(re)&&ee(we)?P.setStyle(j,re,we):P.setStyles(j,re);else if(j.children)for(let Ge=0;Ge<j.children.length;Ge++)nr(P,j.children[Ge],re,we)},Dg=(P,j,re,we)=>{const Ge=P.dom,kt={},Cn={},_n=Za(P),Fo=cl(P),as=parseFloat(re.border)===0;if(!V(re.class)&&re.class!=="mce-no-match"&&(kt.class=re.class),Cn.height=Ti(re.height),_n?Cn.width=Ti(re.width):Ge.getAttrib(j,"width")&&(kt.width=Va(re.width)),_n?(as?(kt.border=0,Cn["border-width"]=""):(Cn["border-width"]=Ti(re.border),kt.border=1),Cn["border-spacing"]=Ti(re.cellspacing)):(kt.border=as?0:re.border,kt.cellpadding=re.cellpadding,kt.cellspacing=re.cellspacing),_n&&j.children){const Br={};if(as?Br["border-width"]="":we.border&&(Br["border-width"]=Ti(re.border)),we.cellpadding&&(Br.padding=Ti(re.cellpadding)),Fo&&we.bordercolor&&(Br["border-color"]=re.bordercolor),!Pe(Br))for(let ia=0;ia<j.children.length;ia++)nr(Ge,j.children[ia],Br)}if(Fo){const Br=re;Cn["background-color"]=Br.backgroundcolor,Cn["border-color"]=Br.bordercolor,Cn["border-style"]=Br.borderstyle}Ge.setStyles(j,{...wp(P),...Cn}),Ge.setAttribs(j,{...ra(P),...kt})},ha=(P,j,re,we)=>{const Ge=P.dom,kt=we.getData(),Cn=tt(kt,(_n,Fo)=>re[Fo]!==_n);we.close(),P.undoManager.transact(()=>{if(!j){const _n=Ma(kt.cols).getOr(1),Fo=Ma(kt.rows).getOr(1);P.execCommand("mceInsertTable",!1,{rows:Fo,columns:_n}),j=Rl(Ol(P),lr(P)).bind(as=>Me(as,lr(P))).map(as=>as.dom).getOrDie()}if(Nt(Cn)>0){const _n={border:Un(Cn,"border"),bordercolor:Un(Cn,"bordercolor"),cellpadding:Un(Cn,"cellpadding")};Dg(P,j,kt,_n);const Fo=Ge.select("caption",j)[0];(Fo&&!kt.caption||!Fo&&kt.caption)&&P.execCommand("mceTableToggleCaption"),Sh(P,j,kt.align)}if(P.focus(),P.addVisual(),Nt(Cn)>0){const _n=Un(Cn,"caption"),Fo=_n?Nt(Cn)>1:!0;rs(P,j,{structure:_n,style:Fo})}})},kh=(P,j)=>{const re=P.dom;let we,Ge=Sg(P,cl(P));j?(Ge.cols="1",Ge.rows="1",cl(P)&&(Ge.borderstyle="",Ge.bordercolor="",Ge.backgroundcolor="")):(we=re.getParent(P.selection.getStart(),"table",P.getBody()),we?Ge=K1(P,we,cl(P)):cl(P)&&(Ge.borderstyle="",Ge.bordercolor="",Ge.backgroundcolor=""));const kt=bi(ma(P));kt.isSome()&&Ge.class&&(Ge.class=Ge.class.replace(/\s*mce\-item\-table\s*/g,""));const Cn={type:"grid",columns:2,items:kd(P,kt.getOr([]),j)},_n=()=>({type:"panel",items:[Cn]}),Fo=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[Cn]},hr(P,"table")]}),as=cl(P)?Fo():_n();P.windowManager.open({title:"Table Properties",size:"normal",body:as,onSubmit:J(ha,P,we,Ge),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ge})},Da=P=>{const j=re=>{ke(Ol(P))&&re()};js({mceTableProps:J(kh,P,!1),mceTableRowProps:J(Ad,P),mceTableCellProps:J(tu,P),mceInsertTableDialog:J(kh,P,!0)},(re,we)=>P.addCommand(we,()=>j(re)))},Ku=P=>({element:P,mergable:ie.none(),unmergable:ie.none(),selection:[P]}),El=(P,j,re)=>({element:re,mergable:$a(j,P,vg),unmergable:ii(P),selection:ea(P)}),sf=P=>{const j=Tt(ie.none()),re=Tt([]);let we=ie.none();const Ge=Zo("caption"),kt=Hs=>we.forall(Ha=>!Ha[Hs]),Cn=()=>Js(Ol(P),lr(P)),_n=()=>Js(oe(P),lr(P)),Fo=()=>Cn().bind(Hs=>Jo(Yo(Me(Hs),_n().bind(Me),(Ha,Ga)=>Pn(Ha,Ga)?Ge(Hs)?ie.some(Ku(Hs)):ie.some(El(Du(P),Ha,Hs)):ie.none()))),as=Hs=>Me(Hs.element).map(Ga=>{const Pl=Ua.fromTable(Ga),Ep=bg(Pl,Hs).getOr([]),Og=an(Ep,(Ng,Tp)=>(Tp.isLocked&&(Ng.onAny=!0,Tp.column===0?Ng.onFirst=!0:Tp.column+Tp.colspan>=Pl.grid.columns&&(Ng.onLast=!0)),Ng),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:q1(Pl,Hs).isSome(),unmergeable:_e(Pl,Hs).isSome(),locked:Og}}),Br=()=>{j.set(ts(Fo)()),we=j.get().bind(as),Lt(re.get(),vt)},ia=Hs=>(Hs(),re.set(re.get().concat([Hs])),()=>{re.set(at(re.get(),Ha=>Ha!==Hs))}),vi=(Hs,Ha)=>ia(()=>j.get().fold(()=>{Hs.setEnabled(!1)},Ga=>{Hs.setEnabled(!Ha(Ga)&&P.selection.isEditable())})),Rc=(Hs,Ha,Ga)=>ia(()=>j.get().fold(()=>{Hs.setEnabled(!1),Hs.setActive(!1)},Pl=>{Hs.setEnabled(!Ha(Pl)&&P.selection.isEditable()),Hs.setActive(Ga(Pl))})),Yu=Hs=>we.exists(Ha=>Ha.locked[Hs]),rf=Hs=>vi(Hs,Ha=>!1),di=Hs=>vi(Hs,Ha=>Ge(Ha.element)),Li=Hs=>Ha=>vi(Ha,Ga=>Ge(Ga.element)||Yu(Hs)),am=Hs=>Ha=>vi(Ha,Ga=>Ge(Ga.element)||Hs().isNone()),im=(Hs,Ha)=>Ga=>vi(Ga,Pl=>Ge(Pl.element)||Hs().isNone()||Yu(Ha)),Fm=Hs=>vi(Hs,Ha=>kt("mergeable")),Dh=Hs=>vi(Hs,Ha=>kt("unmergeable")),Nu=Hs=>Rc(Hs,Gt,Ha=>Me(Ha.element,lr(P)).exists(Pl=>Rt(Pl,"caption"))),_h=(Hs,Ha)=>Ga=>Rc(Ga,Pl=>Ge(Pl.element),()=>P.queryCommandValue(Hs)===Ha),X1=_h("mceTableRowType","header"),Q1=_h("mceTableColType","th");return P.on("NodeChange ExecCommand TableSelectorChange",Br),{onSetupTable:rf,onSetupCellOrRow:di,onSetupColumn:Li,onSetupPasteable:am,onSetupPasteableColumn:im,onSetupMergeable:Fm,onSetupUnmergeable:Dh,resetTargets:Br,onSetupTableWithCaption:Nu,onSetupTableRowHeaders:X1,onSetupTableColumnHeaders:Q1,targets:j.get}};var _g=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const ou="x-tinymce/dom-table-",Ou=ou+"rows",Lm=ou+"columns",pc=P=>{const j=_g.read()??[];return xo(j,re=>ie.from(re.getType(P)))},Dd=()=>pc(Ou),aa=()=>pc(Lm),ta=P=>j=>{const re=()=>{j.setEnabled(P.selection.isEditable())};return P.on("NodeChange",re),re(),()=>{P.off("NodeChange",re)}},Di=(P,j)=>{P.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:ta(P),fetch:_n=>_n("inserttable | cell row column | advtablesort | tableprops deletetable")});const re=_n=>()=>P.execCommand(_n),we=(_n,Fo)=>{P.queryCommandSupported(Fo.command)&&P.ui.registry.addButton(_n,{...Fo,onAction:ue(Fo.onAction)?Fo.onAction:re(Fo.command)})},Ge=(_n,Fo)=>{P.queryCommandSupported(Fo.command)&&P.ui.registry.addToggleButton(_n,{...Fo,onAction:ue(Fo.onAction)?Fo.onAction:re(Fo.command)})};we("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:j.onSetupTable}),we("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:j.onSetupTable}),we("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:j.onSetupCellOrRow}),we("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:j.onSetupMergeable}),we("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:j.onSetupUnmergeable}),we("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:j.onSetupCellOrRow}),we("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:j.onSetupCellOrRow}),we("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:j.onSetupCellOrRow}),we("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:j.onSetupCellOrRow}),we("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:j.onSetupColumn("onFirst")}),we("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:j.onSetupColumn("onLast")}),we("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:j.onSetupColumn("onAny")}),we("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:j.onSetupCellOrRow}),we("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:j.onSetupCellOrRow}),we("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:j.onSetupPasteable(Dd)}),we("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:j.onSetupPasteable(Dd)}),we("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:j.onSetupColumn("onAny")}),we("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:j.onSetupColumn("onAny")}),we("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:j.onSetupPasteableColumn(aa,"onFirst")}),we("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:j.onSetupPasteableColumn(aa,"onLast")}),we("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:ta(P)});const kt=xg(ma(P));kt.length!==0&&P.queryCommandSupported("mceTableToggleClass")&&P.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:qa(P,kt,"tableclass",_n=>P.execCommand("mceTableToggleClass",!1,_n)),onSetup:j.onSetupTable});const Cn=xg(qi(P));Cn.length!==0&&P.queryCommandSupported("mceTableCellToggleClass")&&P.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:qa(P,Cn,"tablecellclass",_n=>P.execCommand("mceTableCellToggleClass",!1,_n)),onSetup:j.onSetupCellOrRow}),P.queryCommandSupported("mceTableApplyCellStyle")&&(P.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:qa(P,Sl,"tablecellverticalalign",_f(P,"vertical-align")),onSetup:j.onSetupCellOrRow}),P.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:qa(P,si(P),"tablecellborderwidth",_f(P,"border-width")),onSetup:j.onSetupCellOrRow}),P.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:qa(P,Zu(P),"tablecellborderstyle",_f(P,"border-style")),onSetup:j.onSetupCellOrRow}),P.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:_n=>_n(Of(P,ri(P),"background-color")),onSetup:j.onSetupCellOrRow}),P.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:_n=>_n(Of(P,ai(P),"border-color")),onSetup:j.onSetupCellOrRow})),Ge("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:j.onSetupTableWithCaption}),Ge("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Cd(P),onSetup:j.onSetupTableRowHeaders}),Ge("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Bi(P),onSetup:j.onSetupTableColumnHeaders})},Pm=P=>{const j=we=>P.dom.is(we,"table")&&P.getBody().contains(we)&&P.dom.isEditable(we.parentNode),re=Jc(P);re.length>0&&P.ui.registry.addContextToolbar("table",{predicate:j,items:re,scope:"node",position:"node"})},_d=P=>j=>{const re=()=>{j.setEnabled(P.selection.isEditable())};return P.on("NodeChange",re),re(),()=>{P.off("NodeChange",re)}},or=(P,j)=>{const re=ia=>()=>P.execCommand(ia),we=(ia,vi)=>P.queryCommandSupported(vi.command)?(P.ui.registry.addMenuItem(ia,{...vi,onAction:ue(vi.onAction)?vi.onAction:re(vi.command)}),!0):!1,Ge=(ia,vi)=>{P.queryCommandSupported(vi.command)&&P.ui.registry.addToggleMenuItem(ia,{...vi,onAction:ue(vi.onAction)?vi.onAction:re(vi.command)})},kt=ia=>{P.execCommand("mceInsertTable",!1,{rows:ia.numRows,columns:ia.numColumns})},Cn=[we("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:j.onSetupCellOrRow}),we("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:j.onSetupCellOrRow}),we("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:j.onSetupCellOrRow}),we("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:j.onSetupCellOrRow}),we("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:j.onSetupCellOrRow}),we("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:j.onSetupCellOrRow}),we("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:j.onSetupPasteable(Dd)}),we("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:j.onSetupPasteable(Dd)})],_n=[we("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:j.onSetupColumn("onFirst")}),we("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:j.onSetupColumn("onLast")}),we("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:j.onSetupColumn("onAny")}),we("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:j.onSetupColumn("onAny")}),we("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:j.onSetupColumn("onAny")}),we("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:j.onSetupPasteableColumn(aa,"onFirst")}),we("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:j.onSetupPasteableColumn(aa,"onLast")})],Fo=[we("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:j.onSetupCellOrRow}),we("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:j.onSetupMergeable}),we("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:j.onSetupUnmergeable})];Wu(P)?P.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:kt}],onSetup:_d(P)}):P.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:re("mceInsertTableDialog"),onSetup:_d(P)}),P.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:re("mceInsertTableDialog"),onSetup:_d(P)}),we("tableprops",{text:"Table properties",onSetup:j.onSetupTable,command:"mceTableProps"}),we("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:j.onSetupTable,command:"mceTableDelete"}),qe(Cn,!0)&&P.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:pe("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),qe(_n,!0)&&P.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:pe("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),qe(Fo,!0)&&P.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:pe("tablecellprops tablemergecells tablesplitcells")}),P.ui.registry.addContextMenu("table",{update:()=>(j.resetTargets(),j.targets().fold(pe(""),ia=>tr(ia.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const as=xg(ma(P));as.length!==0&&P.queryCommandSupported("mceTableToggleClass")&&P.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>ki(P,as,"tableclass",ia=>P.execCommand("mceTableToggleClass",!1,ia)),onSetup:j.onSetupTable});const Br=xg(qi(P));Br.length!==0&&P.queryCommandSupported("mceTableCellToggleClass")&&P.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>ki(P,Br,"tablecellclass",ia=>P.execCommand("mceTableCellToggleClass",!1,ia)),onSetup:j.onSetupCellOrRow}),P.queryCommandSupported("mceTableApplyCellStyle")&&(P.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>ki(P,Sl,"tablecellverticalalign",_f(P,"vertical-align")),onSetup:j.onSetupCellOrRow}),P.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>ki(P,si(P),"tablecellborderwidth",_f(P,"border-width")),onSetup:j.onSetupCellOrRow}),P.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>ki(P,Zu(P),"tablecellborderstyle",_f(P,"border-style")),onSetup:j.onSetupCellOrRow}),P.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Of(P,ri(P),"background-color"),onSetup:j.onSetupCellOrRow}),P.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Of(P,ai(P),"border-color"),onSetup:j.onSetupCellOrRow})),Ge("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:j.onSetupTableWithCaption}),Ge("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Cd(P),onSetup:j.onSetupTableRowHeaders}),Ge("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Bi(P),onSetup:j.onSetupTableRowHeaders})},Cr=P=>{const j=sf(P);Au(P),Da(P),or(P,j),Di(P,j),Pm(P)};var Ll=()=>{l.add("table",Cr)};Ll()})()),qae}var Kae;function Rxe(){return Kae||(Kae=1,Nxe()),Wae}Rxe();var Yae={},Xae={},Qae;function Mxe(){return Qae||(Qae=1,(function(){const l=(Dt,Pe,Tt)=>Tt(Dt,Pe.prototype)?!0:Dt.constructor?.name===Pe.name,d=Dt=>{const Pe=typeof Dt;return Dt===null?"null":Pe==="object"&&Array.isArray(Dt)?"array":Pe==="object"&&l(Dt,String,(Tt,sn)=>sn.isPrototypeOf(Tt))?"string":Pe},p=Dt=>Pe=>d(Pe)===Dt,x=Dt=>Pe=>typeof Pe===Dt,A=Dt=>Pe=>Dt===Pe,N=p("string"),O=A(void 0),z=Dt=>Dt==null,U=Dt=>!z(Dt),V=x("function"),ee=(Dt=>()=>Dt)(!1);class ue{tag;value;static singletonNone=new ue(!1);constructor(Pe,Tt){this.tag=Pe,this.value=Tt}static some(Pe){return new ue(!0,Pe)}static none(){return ue.singletonNone}fold(Pe,Tt){return this.tag?Tt(this.value):Pe()}isSome(){return this.tag}isNone(){return!this.tag}map(Pe){return this.tag?ue.some(Pe(this.value)):ue.none()}bind(Pe){return this.tag?Pe(this.value):ue.none()}exists(Pe){return this.tag&&Pe(this.value)}forall(Pe){return!this.tag||Pe(this.value)}filter(Pe){return!this.tag||Pe(this.value)?this:ue.none()}getOr(Pe){return this.tag?this.value:Pe}or(Pe){return this.tag?this:Pe}getOrThunk(Pe){return this.tag?this.value:Pe()}orThunk(Pe){return this.tag?this:Pe()}getOrDie(Pe){if(this.tag)return this.value;throw new Error(Pe??"Called getOrDie on None")}static from(Pe){return U(Pe)?ue.some(Pe):ue.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Pe){this.tag&&Pe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Ce=Array.prototype.slice,be=Array.prototype.indexOf,$e=(Dt,Pe)=>be.call(Dt,Pe),pe=(Dt,Pe)=>$e(Dt,Pe)>-1,it=(Dt,Pe)=>{const Tt=Dt.length,sn=new Array(Tt);for(let Zn=0;Zn<Tt;Zn++){const Yo=Dt[Zn];sn[Zn]=Pe(Yo,Zn)}return sn},Se=(Dt,Pe)=>{const Tt=[];for(let sn=0,Zn=Dt.length;sn<Zn;sn++){const Yo=Dt[sn];Pe(Yo,sn)&&Tt.push(Yo)}return Tt},J=(Dt,Pe,Tt)=>{for(let sn=0,Zn=Dt.length;sn<Zn;sn++){const Yo=Dt[sn];if(Pe(Yo,sn))return ue.some(Yo);if(Tt(Yo,sn))break}return ue.none()},vt=(Dt,Pe)=>J(Dt,Pe,ee),Gt=(Dt,Pe)=>{const Tt=Ce.call(Dt,0);return Tt.sort(Pe),Tt},Xe=Object.keys,ie=Object.hasOwnProperty,ct=(Dt,Pe)=>xn(Dt,Pe)?ue.from(Dt[Pe]):ue.none(),xn=(Dt,Pe)=>ie.call(Dt,Pe),fn=Dt=>{let Pe=Dt;return{get:()=>Pe,set:Zn=>{Pe=Zn}}},qe=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Re=0;const Qo=Dt=>{const Tt=new Date().getTime(),sn=Math.floor(qe()*1e9);return Re++,Dt+"_"+sn+Re+String(Tt)},yt=Dt=>{const Pe=[],Tt=sn=>{Pe.push(sn)};for(let sn=0;sn<Dt.length;sn++)Dt[sn].each(Tt);return Pe};var Lt=tinymce.util.Tools.resolve("tinymce.PluginManager");const F=Dt=>({addTab:Tt=>{const sn=Tt.name??Qo("tab-name"),Zn=Dt.get();Zn[sn]=Tt,Dt.set(Zn)}}),jt=(Dt,Pe)=>{Dt.addCommand("mceHelp",Pe)},at=Dt=>Pe=>Pe.options.get(Dt),Jn=Dt=>{const Pe=Dt.options.register;Pe("help_tabs",{processor:"array"})},an=at("help_tabs"),le=at("forced_plugins"),Ve=(Dt,Pe)=>{Dt.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:Pe,context:"any"}),Dt.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:Pe,context:"any"})};var It=tinymce.util.Tools.resolve("tinymce.Resource"),Ne=tinymce.util.Tools.resolve("tinymce.util.I18n");const ft=(Dt,Pe)=>It.load(`tinymce.html-i18n.help-keynav.${Pe}`,`${Dt}/js/i18n/keynav/${Pe}.js`),He=Dt=>ft(Dt,Ne.getCode()).catch(()=>ft(Dt,"en")),dt=(Dt,Pe)=>{Dt.on("init",()=>{He(Pe)})},X=async Dt=>({name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:await He(Dt)}]});var $o=tinymce.util.Tools.resolve("tinymce.Env");const xo=Dt=>{const Pe=$o.os.isMacOS()||$o.os.isiOS(),Zn=Pe?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl ",access:"Shift + Alt "},Yo=Dt.split("+"),Jo=it(Yo,Do=>{const mr=Do.toLowerCase().trim();return xn(Zn,mr)?Zn[mr]:Do});return Pe?Jo.join("").replace(/\s/,""):Jo.join("+")},Mo=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Alt + F12"],action:"Focus to notification"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],Ho=()=>{const Dt=it(Mo,Tt=>{const sn=it(Tt.shortcuts,xo).join(" or ");return[Tt.action,sn]});return{name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:Dt}]}},js=it([{key:"accordion",name:"Accordion"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"image",name:"Image"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"advlist",name:"List Styles"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"pagebreak",name:"Page Break"},{key:"preview",name:"Preview"},{key:"quickbars",name:"Quick Toolbars"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"table",name:"Table"},{key:"textcolor",name:"Text Color"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"a11ychecker",name:"Accessibility Checker",type:"premium"},{key:"typography",name:"Advanced Typography",type:"premium",slug:"advanced-typography"},{key:"ai",name:"AI Assistant",type:"premium"},{key:"casechange",name:"Case Change",type:"premium"},{key:"checklist",name:"Checklist",type:"premium"},{key:"advcode",name:"Enhanced Code Editor",type:"premium"},{key:"mediaembed",name:"Enhanced Media Embed",type:"premium",slug:"introduction-to-mediaembed"},{key:"advtable",name:"Enhanced Tables",type:"premium"},{key:"exportpdf",name:"Export to PDF",type:"premium"},{key:"exportword",name:"Export to Word",type:"premium"},{key:"footnotes",name:"Footnotes",type:"premium"},{key:"formatpainter",name:"Format Painter",type:"premium"},{key:"editimage",name:"Image Editing",type:"premium"},{key:"uploadcare",name:"Image Optimizer Powered by Uploadcare",type:"premium"},{key:"importword",name:"Import from Word",type:"premium"},{key:"inlinecss",name:"Inline CSS",type:"premium",slug:"inline-css"},{key:"linkchecker",name:"Link Checker",type:"premium"},{key:"math",name:"Math",type:"premium"},{key:"markdown",name:"Markdown",type:"premium"},{key:"mentions",name:"Mentions",type:"premium"},{key:"mergetags",name:"Merge Tags",type:"premium"},{key:"pageembed",name:"Page Embed",type:"premium"},{key:"permanentpen",name:"Permanent Pen",type:"premium"},{key:"powerpaste",name:"PowerPaste",type:"premium",slug:"introduction-to-powerpaste"},{key:"revisionhistory",name:"Revision History",type:"premium"},{key:"tinymcespellchecker",name:"Spell Checker",type:"premium",slug:"introduction-to-tiny-spellchecker"},{key:"suggestededits",name:"Suggested Edits",type:"premium"},{key:"autocorrect",name:"Spelling Autocorrect",type:"premium"},{key:"tableofcontents",name:"Table of Contents",type:"premium"},{key:"fullpagehtml",name:"Fullpage HTML",type:"premium"},{key:"advtemplate",name:"Templates",type:"premium",slug:"advanced-templates"},{key:"tinycomments",name:"Tiny Comments",type:"premium",slug:"introduction-to-tiny-comments"},{key:"tinydrive",name:"Tiny Drive",type:"premium",slug:"tinydrive-introduction"}],Dt=>({...Dt,type:Dt.type||"opensource",slug:Dt.slug||Dt.key})),Be=Dt=>{const Pe=()=>{const zo=Se(js,({type:Ss})=>Ss==="premium"),os=Gt(it(zo,Ss=>Ss.name),(Ss,Xs)=>Ss.localeCompare(Xs)),Vs=it(os,Ss=>`<li>${Ss}</li>`).join("");return"<div><p><b>"+Ne.translate("Premium plugins:")+"</b></p><ul>"+Vs+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=help_dialog_plugin_tab&utm_source=tiny&utm_medium=referral&utm_term=read_more&utm_content=premium_plugin_heading" rel="noopener" target="_blank" data-alloy-tabstop="true" tabindex="-1">'+Ne.translate("Learn more...")+"</a></li></ul></div>"},Tt=zo=>`<a data-alloy-tabstop="true" tabindex="-1" href="${zo.url}" target="_blank" rel="noopener">${zo.name}</a>`,sn=(zo,os)=>{const Vs=zo.plugins[os].getMetadata;if(V(Vs)){const Ss=Vs();return{name:Ss.name,html:Tt(Ss)}}else return{name:os,html:os}},Zn=(zo,os)=>vt(js,Vs=>Vs.key===os).fold(()=>sn(zo,os),Vs=>{const Ss=Vs.type==="premium"?`${Vs.name}*`:Vs.name,Xs=Tt({name:Ss,url:`https://www.tiny.cloud/docs/tinymce/${tinymce.majorVersion}/${Vs.slug}/`});return{name:Ss,html:Xs}}),Yo=zo=>{const os=Xe(zo.plugins),Vs=le(zo),Ss=O(Vs)?["onboarding","licensekeymanager"]:Vs.concat(["onboarding","licensekeymanager"]);return Se(os,Xs=>!pe(Ss,Xs))},Jo=zo=>{const os=Yo(zo),Vs=Gt(it(os,Es=>Zn(zo,Es)),(Es,$r)=>Es.name.localeCompare($r.name)),Ss=it(Vs,Es=>"<li>"+Es.html+"</li>"),Xs=Ss.length,gs=Ss.join("");return"<p><b>"+Ne.translate(["Plugins installed ({0}):",Xs])+"</b></p><ul>"+gs+"</ul>"};return{name:"plugins",title:"Plugins",items:[{type:"htmlpanel",presets:"document",html:[(zo=>zo==null?"":"<div>"+Jo(zo)+"</div>")(Dt),Pe()].join("")}]}};var Ke=tinymce.util.Tools.resolve("tinymce.EditorManager");const tt=()=>{const Tt='<a data-alloy-tabstop="true" tabindex="-1" href="https://www.tiny.cloud/docs/tinymce/8/changelog/?utm_campaign=help_dialog_version_tab&utm_source=tiny&utm_medium=referral" rel="noopener" target="_blank">TinyMCE '+((Zn,Yo)=>Zn.indexOf("@")===0?"X.X.X":Zn+"."+Yo)(Ke.majorVersion,Ke.minorVersion)+"</a>";return{name:"versions",title:"Version",items:[{type:"htmlpanel",html:"<p>"+Ne.translate(["You are using {0}",Tt])+"</p>",presets:"document"}]}},Le=(Dt,Pe)=>{const Tt={},sn=it(Dt,Zn=>{if(N(Zn))return xn(Pe,Zn)&&(Tt[Zn]=Pe[Zn]),Zn;{const Yo=Zn.name??Qo("tab-name");return Tt[Yo]=Zn,Yo}});return{tabs:Tt,names:sn}},Je=Dt=>{const Pe=Xe(Dt),Tt=Pe.indexOf("versions");return Tt!==-1&&(Pe.splice(Tt,1),Pe.push("versions")),{tabs:Dt,names:Pe}},Nt=async(Dt,Pe,Tt)=>{const sn=Ho(),Zn=await X(Tt),Yo=Be(Dt),Jo=tt(),Do={[sn.name]:sn,[Zn.name]:Zn,[Yo.name]:Yo,[Jo.name]:Jo,...Pe.get()};return ue.from(an(Dt)).fold(()=>Je(Do),mr=>Le(mr,Do))},xt=(Dt,Pe,Tt)=>()=>{Nt(Dt,Pe,Tt).then(({tabs:sn,names:Zn})=>{const Yo=it(Zn,mr=>ct(sn,mr)),Do={type:"tabpanel",tabs:yt(Yo)};Dt.windowManager.open({title:"Help",size:"medium",body:Do,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})})};var Un=()=>{Lt.add("help",(Dt,Pe)=>{const Tt=fn({}),sn=F(Tt);Jn(Dt);const Zn=xt(Dt,Tt,Pe);return Ve(Dt,Zn),jt(Dt,Zn),Dt.shortcuts.add("Alt+0","Open help dialog","mceHelp"),dt(Dt,Pe),sn})};Un()})()),Xae}var Jae;function Bxe(){return Jae||(Jae=1,Mxe()),Yae}Bxe();var eie={},tie={},nie;function Lxe(){return nie||(nie=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const p=(Be=>Ke=>Be===Ke)(null),x=Be=>Be,A=(Be,Ke)=>{const tt=Be.length,Le=new Array(tt);for(let Je=0;Je<tt;Je++){const Nt=Be[Je];Le[Je]=Ke(Nt,Je)}return Le},N=(Be,Ke)=>{let tt=null;return{cancel:()=>{p(tt)||(clearTimeout(tt),tt=null)},throttle:(...Nt)=>{p(tt)&&(tt=setTimeout(()=>{tt=null,Be.apply(null,Nt)},Ke))}}},O=Be=>Be.replace(/\uFEFF/g,""),U={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\uFEFF-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:"[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]"},V={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},Y=[new RegExp(U.aletter),new RegExp(U.midnumlet),new RegExp(U.midletter),new RegExp(U.midnum),new RegExp(U.numeric),new RegExp(U.cr),new RegExp(U.lf),new RegExp(U.newline),new RegExp(U.extend),new RegExp(U.format),new RegExp(U.katakana),new RegExp(U.extendnumlet),new RegExp("@")],ee="",ue=new RegExp("^"+U.punctuation+"$"),Ce=/^\s+$/,be=Y,$e=V.OTHER,pe=Be=>{let Ke=$e;const tt=be.length;for(let Le=0;Le<tt;++Le){const Je=be[Le];if(Je&&Je.test(Be)){Ke=Le;break}}return Ke},it=Be=>{const Ke={};return tt=>{if(Ke[tt])return Ke[tt];{const Le=Be(tt);return Ke[tt]=Le,Le}}},Se=Be=>{const Ke=it(pe);return A(Be,Ke)},J=(Be,Ke)=>{const tt=Be[Ke],Le=Be[Ke+1];if(Ke<0||Ke>Be.length-1&&Ke!==0||tt===V.ALETTER&&Le===V.ALETTER)return!1;const Je=Be[Ke+2];if(tt===V.ALETTER&&(Le===V.MIDLETTER||Le===V.MIDNUMLET||Le===V.AT)&&Je===V.ALETTER)return!1;const Nt=Be[Ke-1];return(tt===V.MIDLETTER||tt===V.MIDNUMLET||Le===V.AT)&&Le===V.ALETTER&&Nt===V.ALETTER||(tt===V.NUMERIC||tt===V.ALETTER)&&(Le===V.NUMERIC||Le===V.ALETTER)||(tt===V.MIDNUM||tt===V.MIDNUMLET)&&Le===V.NUMERIC&&Nt===V.NUMERIC||tt===V.NUMERIC&&(Le===V.MIDNUM||Le===V.MIDNUMLET)&&Je===V.NUMERIC||(tt===V.EXTEND||tt===V.FORMAT)&&(Le===V.ALETTER||Le===V.NUMERIC||Le===V.KATAKANA||Le===V.EXTEND||Le===V.FORMAT)||(Le===V.EXTEND||Le===V.FORMAT&&(Je===V.ALETTER||Je===V.NUMERIC||Je===V.KATAKANA||Je===V.EXTEND||Je===V.FORMAT))&&(tt===V.ALETTER||tt===V.NUMERIC||tt===V.KATAKANA||tt===V.EXTEND||tt===V.FORMAT)||tt===V.CR&&Le===V.LF?!1:tt===V.NEWLINE||tt===V.CR||tt===V.LF||Le===V.NEWLINE||Le===V.CR||Le===V.LF?!0:!(tt===V.KATAKANA&&Le===V.KATAKANA||Le===V.EXTENDNUMLET&&(tt===V.ALETTER||tt===V.NUMERIC||tt===V.KATAKANA||tt===V.EXTENDNUMLET)||tt===V.EXTENDNUMLET&&(Le===V.ALETTER||Le===V.NUMERIC||Le===V.KATAKANA)||tt===V.AT)},vt=ee,Gt=Ce,Xe=ue,ie=Be=>Be==="http"||Be==="https",ct=(Be,Ke)=>{let tt;for(tt=Ke;tt<Be.length&&!Gt.test(Be[tt]);tt++);return tt},xn=(Be,Ke)=>{const tt=ct(Be,Ke+1);return Be.slice(Ke+1,tt).join(vt).substr(0,3)==="://"?tt:Ke},fn=(Be,Ke,tt,Le)=>{const Je=[],Nt=[];let xt=[];for(let Un=0;Un<tt.length;++Un)if(xt.push(Be[Un]),J(tt,Un)){const Dt=Ke[Un];if((Le.includeWhitespace||!Gt.test(Dt))&&(Le.includePunctuation||!Xe.test(Dt))){const Pe=Un-xt.length+1,Tt=Un+1,sn=Ke.slice(Pe,Tt).join(vt);if(ie(sn)){const Zn=xn(Ke,Un),Yo=Be.slice(Tt,Zn);Array.prototype.push.apply(xt,Yo),Un=Zn}Ke[Un+1]==="."&&/^([a-zA-Z]\.)+$/.test(sn+".")?(xt.push(Be[Un+1]),Nt.push({start:Pe,end:Tt+1})):Nt.push({start:Pe,end:Tt}),Je.push(xt)}xt=[]}return{words:Je,indices:Nt}},qe=()=>({includeWhitespace:!1,includePunctuation:!1}),Re=(Be,Ke,tt)=>{tt={...qe(),...tt};const Le=A(Be,Ke),Je=Se(Le);return fn(Be,Le,Je,tt)},yt=(Be,Ke,tt)=>Re(Be,Ke,tt).words;var Lt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const F=(Be,Ke)=>{const tt=Ke.getBlockElements(),Le=Ke.getVoidElements(),Je=Pe=>tt[Pe.nodeName]||Le[Pe.nodeName],Nt=[];let xt="";const Un=new Lt(Be,Be);let Dt;for(;Dt=Un.next();)Dt.nodeType===3?xt+=O(Dt.data):Je(Dt)&&xt.length&&(Nt.push(xt),xt="");return xt.length&&Nt.push(xt),Nt},jt=Be=>Be.replace(/\u200B/g,""),at=Be=>Be.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,Jn=(Be,Ke)=>{const tt=jt(F(Be,Ke).join(`
`));return yt(tt.split(""),x).length},an=(Be,Ke)=>{const tt=F(Be,Ke).join("");return at(tt)},le=(Be,Ke)=>{const tt=F(Be,Ke).join("").replace(/\s/g,"");return at(tt)},Ve=(Be,Ke)=>()=>Ke(Be.getBody(),Be.schema),It=(Be,Ke)=>()=>Ke(Be.selection.getRng().cloneContents(),Be.schema),Ne=Be=>Ve(Be,Jn),ft=Be=>({body:{getWordCount:Ne(Be),getCharacterCount:Ve(Be,an),getCharacterCountWithoutSpaces:Ve(Be,le)},selection:{getWordCount:It(Be,Jn),getCharacterCount:It(Be,an),getCharacterCountWithoutSpaces:It(Be,le)},getCount:Ne(Be)}),He=(Be,Ke)=>{Be.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Ke.body.getWordCount()),String(Ke.selection.getWordCount())],["Characters (no spaces)",String(Ke.body.getCharacterCountWithoutSpaces()),String(Ke.selection.getCharacterCountWithoutSpaces())],["Characters",String(Ke.body.getCharacterCount()),String(Ke.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},dt=(Be,Ke)=>{Be.addCommand("mceWordCount",()=>He(Be,Ke))};var X=tinymce.util.Tools.resolve("tinymce.util.Delay");const $o=(Be,Ke)=>{Be.dispatch("wordCountUpdate",{wordCount:{words:Ke.body.getWordCount(),characters:Ke.body.getCharacterCount(),charactersWithoutSpaces:Ke.body.getCharacterCountWithoutSpaces()}})},xo=(Be,Ke)=>{$o(Be,Ke)},Mo=(Be,Ke,tt)=>{const Le=N(()=>xo(Be,Ke),tt);Be.on("init",()=>{xo(Be,Ke),X.setEditorTimeout(Be,()=>{Be.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",Le.throttle)},0),Be.on("remove",Le.cancel)})},Ho=Be=>{const Ke=()=>Be.execCommand("mceWordCount");Be.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Ke,context:"any"}),Be.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Ke,context:"any"})};var js=(Be=300)=>{l.add("wordcount",Ke=>{const tt=ft(Ke);return dt(Ke,tt),Ho(Ke),Mo(Ke,tt,Be),tt})};js()})()),tie}var oie;function Pxe(){return oie||(oie=1,Lxe()),eie}Pxe();function FH(){const{id:l,type:d}=Ade(),p=Q3(),x=!l,[A,N]=Ze.useState({title:"",slug:"",content:"",excerpt:"",post_status:"draft",post_type:d||"page",gallery_folder_id:""}),[O,z]=Ze.useState([]),[U,V]=Ze.useState(!0),[Y,ee]=Ze.useState("content"),[ue,Ce]=Ze.useState(!1);Ze.useEffect(()=>{$e(),x?V(!1):be()},[l]);const be=async()=>{try{const Se=await _s.get(`/admin-update.php?action=get&table=posts&id=${l}`);Se.data.success&&N(Se.data.data)}catch{yo.fire("Hata","Yaz yklenemedi","error"),p(-1)}finally{V(!1)}},$e=async()=>{try{const Se=await _s.get("/admin-update.php?action=list&table=media_folders");Se.data.success&&z(Se.data.data||[])}catch{console.error("Failed to load folders")}},pe=async Se=>{Se&&Se.preventDefault();try{(await _s.post("/admin-update.php",{action:"save-post",...A,id:x?null:l})).data.success&&(yo.fire({title:"Baarl",text:"Deiiklikler kaydedildi.",icon:"success",timer:1500,showConfirmButton:!1}),x&&p(`/${A.post_type==="service"?"services":"pages"}`))}catch(J){yo.fire("Hata",J.response?.data?.error||"Kaydedilemedi","error")}},it=async()=>{if(!A.title){yo.fire("Eksik Bilgi","Ltfen nce bir sayfa bal girin.","warning");return}const{value:Se}=await yo.fire({title:"AI erik Olutur",input:"text",inputLabel:"Odaklanlacak Anahtar Kelimeler (opsiyonel)",inputPlaceholder:"otel ekimi, mimari fotoraflk...",showCancelButton:!0,confirmButtonText:"ret",cancelButtonText:"ptal",icon:"info"});if(Se!==void 0){Ce(!0);try{const J=await _s.post("/ai.php",{action:"generate-content",title:A.title,keywords:Se,existing_content:A.content,type:A.post_type});J.data.success&&(N(vt=>({...vt,content:J.data.content})),yo.fire({title:"erik retildi",icon:"success",timer:1500,showConfirmButton:!1}))}catch(J){yo.fire("Hata","erik retilemedi: "+(J.response?.data?.error||J.message),"error")}finally{Ce(!1)}}};return U?B.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):B.jsxs(hi.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-5xl mx-auto space-y-6 pb-20",children:[B.jsxs("div",{className:"flex justify-between items-center bg-white/50 backdrop-blur-md p-4 rounded-2xl border border-gray-100 sticky top-0 z-10",children:[B.jsxs("div",{className:"flex items-center gap-4",children:[B.jsx("button",{onClick:()=>p(-1),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:""}),B.jsxs("div",{children:[B.jsxs("h1",{className:"text-xl font-bold text-gray-800",children:[x?"Yeni Ekle":"Dzenle",": ",B.jsx("span",{className:"text-blue-600 uppercase text-sm tracking-widest ml-2",children:A.post_type})]}),B.jsx("p",{className:"text-xs text-gray-500",children:A.title||"Balksz"})]})]}),B.jsx("div",{className:"flex gap-2",children:B.jsx("button",{onClick:pe,className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold shadow-lg shadow-blue-500/20 transition-all hover:-translate-y-0.5",children:x?"Yaynla":"Deiiklikleri Kaydet"})})]}),B.jsxs("div",{className:"flex gap-1 p-1 bg-gray-200/50 rounded-2xl w-fit",children:[B.jsx("button",{onClick:()=>ee("content"),className:`px-6 py-2 rounded-xl text-sm font-bold transition-all ${Y==="content"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:bg-white/50"}`,children:"erik"}),B.jsx("button",{onClick:()=>ee("seo"),className:`px-6 py-2 rounded-xl text-sm font-bold transition-all ${Y==="seo"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:bg-white/50"}`,children:"SEO & Ayarlar"})]}),B.jsx("form",{onSubmit:pe,className:"space-y-6",children:B.jsx(HC,{mode:"wait",children:Y==="content"?B.jsx(hi.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:"bg-white p-8 rounded-3xl shadow-sm border border-gray-100 space-y-6",children:B.jsxs("div",{className:"space-y-4",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2 tracking-tight",children:"Sayfa Bal"}),B.jsx("input",{type:"text",required:!0,value:A.title,onChange:Se=>N({...A,title:Se.target.value}),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all outline-none text-lg font-semibold",placeholder:"rn: Hakkmzda"})]}),B.jsxs("div",{className:"quill-editor-wrapper",children:[B.jsxs("div",{className:"flex justify-between items-end mb-2",children:[B.jsx("label",{className:"block text-sm font-bold text-gray-700 tracking-tight",children:"erik"}),B.jsx("button",{type:"button",onClick:it,disabled:ue,className:"px-4 py-1.5 bg-purple-100 text-purple-700 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-purple-200 transition-all flex items-center gap-2 disabled:opacity-50",children:ue?" retiliyor...":" AI ile ret"})]}),B.jsx(Kve,{init:{height:600,menubar:!0,license_key:"gpl",promotion:!1,branding:!1,plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","code","help","wordcount"],toolbar:"undo redo | blocks | bold italic forecolor | alignleft aligncenter alignright alignjustify | borderless_table | bullist numlist outdent indent | removeformat | help",content_style:"body { font-family:Inter,Helvetica,Arial,sans-serif; font-size:16px; line-height:1.6; padding: 20px; } h2 { font-weight: 800; color: #1e293b; } p { color: #475569; }",skin:"oxide",content_css:"default"},value:A.content,onEditorChange:Se=>N({...A,content:Se})}),B.jsx("style",{children:`
                                        /* Hide TinyMCE setup and promotion elements */
                                        .tox-promotion, 
                                        .tox-statusbar__branding, 
                                        .tox-notification--warning {
                                            display: none !important;
                                        }
                                        /* If the 'Finish setting up' is a dialog, this might be tricky, but usually it's a notification or promo */
                                    `})]})]})},"content"):B.jsx(hi.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"bg-white p-8 rounded-3xl shadow-sm border border-gray-100 space-y-8",children:B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[B.jsxs("div",{className:"space-y-6",children:[B.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"URL Yaps"}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-1",children:"Slug (URL)"}),B.jsx("input",{type:"text",value:A.slug,onChange:Se=>N({...A,slug:Se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all font-mono text-sm",placeholder:"otomatik-olusturulur"}),B.jsx("p",{className:"mt-1 text-[10px] text-gray-400",children:"Bo brakrsanz bala gre oluturulur."})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-1",children:"Durum"}),B.jsx("div",{className:"flex gap-2",children:["draft","publish"].map(Se=>B.jsx("button",{type:"button",onClick:()=>N({...A,post_status:Se}),className:`flex-1 py-3 rounded-xl text-xs font-bold ring-1 transition-all ${A.post_status===Se?"bg-blue-600 text-white ring-blue-600":"bg-white text-gray-500 ring-gray-200 hover:bg-gray-50"}`,children:Se==="publish"?"YAYINDA":"TASLAK"},Se))})]})]}),B.jsxs("div",{className:"space-y-6",children:[B.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"SEO Meta Verileri"}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-1",children:"Meta Aklamas (Excerpt)"}),B.jsx("textarea",{rows:"4",value:A.excerpt||"",onChange:Se=>N({...A,excerpt:Se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all text-sm leading-relaxed",placeholder:"Arama sonularnda grnecek ksa aklama..."}),B.jsxs("p",{className:"mt-1 text-[10px] text-gray-400",children:[A.excerpt?.length||0," karakter (nerilen 150-160)"]})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-1",children:"Galeri Klasr Balants"}),B.jsxs("select",{value:A.gallery_folder_id||"",onChange:Se=>N({...A,gallery_folder_id:Se.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all text-sm font-semibold",children:[B.jsx("option",{value:"",children:"Klasr Sein (Opsiyonel)"}),O.map(Se=>B.jsx("option",{value:Se.id,children:Se.name},Se.id))]}),B.jsx("p",{className:"mt-1 text-[10px] text-gray-400",children:"Bu sayfada grnecek resim galerisi iin bir klasr sein."})]})]})]})},"seo")})})]})}function Fxe(){const[l,d]=Ze.useState({}),[p,x]=Ze.useState(!0),[A,N]=Ze.useState("general"),[O,z]=Ze.useState(!1),U=[{id:"general",label:"Genel Ayarlar",icon:""},{id:"contact",label:"letiim",icon:""},{id:"social",label:"Sosyal Medya",icon:""},{id:"style",label:"Renk & Stil",icon:""},{id:"hero",label:"Hero Ayarlar",icon:""}];Ze.useEffect(()=>{V()},[]);const V=async()=>{try{const be=await _s.get("/settings.php");if(be.data.success){const $e={};Object.values(be.data.settings).forEach(pe=>{pe.forEach(it=>{$e[it.key]=it.value})}),d($e)}}catch(be){console.error("Failed to load settings",be),yo.fire("Hata","Ayarlar yklenemedi","error")}finally{x(!1)}},Y=(be,$e)=>{d(pe=>({...pe,[be]:$e}))},ee=async(be,$e)=>{const pe=be.target.files[0];if(!pe)return;z(!0);const it=new FormData;it.append("file",pe),it.append("action","upload");try{const Se=await _s.post("/media.php",it,{headers:{"Content-Type":"multipart/form-data"}});Se.data.success&&(Y($e,Se.data.data.public_url),yo.fire({title:"Yklendi",icon:"success",toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3}))}catch{yo.fire("Hata","Ykleme baarsz","error")}finally{z(!1)}},ue=async()=>{try{await _s.post("/settings.php",{settings:l}),yo.fire("Baarl","Ayarlar kaydedildi","success")}catch{yo.fire("Hata","Kaydetme baarsz","error")}},Ce=(be,$e,pe="text",it="")=>pe==="image"?B.jsxs("div",{className:"mb-6",children:[B.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:$e}),B.jsxs("div",{className:"flex items-start gap-4 p-4 border border-gray-100 rounded-2xl bg-gray-50/50",children:[B.jsx("div",{className:"w-24 h-24 bg-white rounded-xl border border-gray-200 flex items-center justify-center p-2 shadow-sm overflow-hidden",children:l[be]?B.jsx("img",{src:l[be],alt:$e,className:"max-w-full max-h-full object-contain"}):B.jsx("span",{className:"text-2xl text-gray-300",children:""})}),B.jsxs("div",{className:"flex-1",children:[B.jsx("input",{type:"text",value:l[be]||"",onChange:Se=>Y(be,Se.target.value),className:"w-full px-4 py-2 rounded-xl border border-gray-200 text-sm mb-3 text-gray-500 focus:text-gray-800 focus:border-blue-500 outline-none transition-all",placeholder:"https://..."}),B.jsx("div",{className:"relative",children:B.jsxs("label",{className:`inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-xl text-sm font-bold text-gray-600 hover:bg-gray-50 cursor-pointer shadow-sm transition-all ${O?"opacity-50 pointer-events-none":""}`,children:[B.jsx("span",{children:O?"":""}),O?"Ykleniyor...":"Grsel Ykle",B.jsx("input",{type:"file",className:"hidden",onChange:Se=>ee(Se,be),accept:"image/*"})]})})]})]})]}):pe==="color"?B.jsxs("div",{className:"mb-6",children:[B.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:$e}),B.jsxs("div",{className:"flex items-center gap-3 p-2 border border-gray-200 rounded-2xl bg-white focus-within:ring-2 focus-within:ring-blue-500/20 focus-within:border-blue-500 transition-all",children:[B.jsx("div",{className:"relative w-12 h-12 rounded-xl border border-gray-100 overflow-hidden shadow-inner flex-shrink-0",children:B.jsx("input",{type:"color",value:l[be]||"#000000",onChange:Se=>Y(be,Se.target.value),className:"absolute -top-1/2 -left-1/2 w-[200%] h-[200%] cursor-pointer p-0 border-0"})}),B.jsx("div",{className:"flex-1",children:B.jsx("input",{type:"text",value:l[be]||"",onChange:Se=>Y(be,Se.target.value),className:"w-full text-sm font-mono font-bold text-gray-600 outline-none uppercase tracking-wider",placeholder:"#000000",maxLength:7})})]})]}):B.jsxs("div",{className:"mb-4",children:[B.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:$e}),pe==="textarea"?B.jsx("textarea",{value:l[be]||"",onChange:Se=>Y(be,Se.target.value),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-brand-500 focus:ring-2 focus:ring-brand-500/20 outline-none transition-all",placeholder:it,rows:"4"}):B.jsx("input",{type:pe,value:l[be]||"",onChange:Se=>Y(be,Se.target.value),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-brand-500 focus:ring-2 focus:ring-brand-500/20 outline-none transition-all",placeholder:it})]});return p?B.jsx("div",{className:"p-8 text-center text-gray-500",children:"Ykleniyor..."}):B.jsxs("div",{className:"space-y-6",children:[B.jsxs("div",{className:"flex justify-between items-center",children:[B.jsxs("div",{children:[B.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Sistem Ayarlar"}),B.jsx("p",{className:"text-gray-500 text-sm",children:"Site genel yaplandrmasn buradan ynetebilirsiniz."})]}),B.jsx("button",{onClick:ue,className:"px-6 py-2.5 bg-blue-600 text-white rounded-xl font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 hover:scale-105 transition-all active:scale-95",children:"Kaydet"})]}),B.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden",children:[B.jsx("div",{className:"flex border-b border-gray-100 overflow-x-auto",children:U.map(be=>B.jsxs("button",{onClick:()=>N(be.id),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 whitespace-nowrap transition-all ${A===be.id?"text-blue-600 bg-blue-50/50 border-b-2 border-blue-600":"text-gray-500 hover:bg-gray-50 hover:text-gray-700"}`,children:[B.jsx("span",{children:be.icon})," ",be.label]},be.id))}),B.jsxs("div",{className:"p-8",children:[A==="general"&&B.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[Ce("site_title","Site Bal (Title)","text","rn: Mekan Fotorafs"),Ce("site_description","Site Aklamas (Meta Description)","textarea","Site hakknda ksa bilgi..."),Ce("logo_url","Logo","image"),Ce("favicon_url","Favicon","image"),Ce("google_analytics","Google Analytics ID","text","UA-XXXXX-Y")]}),A==="contact"&&B.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[Ce("phone_primary","Telefon 1 (Grnr)","text","+90 555 ..."),Ce("phone_whatsapp","Whatsapp Numaras","text","90555..."),Ce("email_primary","E-posta Adresi","email","info@site.com"),Ce("address_short","Ksa Adres","text","stanbul, Trkiye"),Ce("address_full","Tam Adres","textarea","Ak adres bilgisi...")]}),A==="social"&&B.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[Ce("social_instagram","Instagram URL","text","https://instagram.com/..."),Ce("social_facebook","Facebook URL","text","https://facebook.com/..."),Ce("social_twitter","Twitter / X URL","text","https://x.com/..."),Ce("social_linkedin","LinkedIn URL","text","https://linkedin.com/..."),Ce("social_youtube","YouTube URL","text","https://youtube.com/...")]}),A==="style"&&B.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[Ce("primary_color","Ana Renk (Primary)","color"),Ce("secondary_color","kincil Renk (Secondary)","color"),B.jsx("div",{className:"col-span-full mt-4 p-4 bg-gray-50 rounded-2xl",children:B.jsx("p",{className:"text-sm text-gray-500",children:"Not: Renk deiikliklerinin sitede aktif olmas iin CSS deikenlerinin ayarlanm olmas gerekir."})})]}),A==="hero"&&B.jsxs("div",{className:"space-y-8",children:[B.jsxs("div",{children:[B.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[B.jsx("span",{className:"w-8 h-8 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center text-sm",children:"1"}),"Dnen Metin Ayarlar (Animated Text)"]}),B.jsxs("div",{className:"grid md:grid-cols-2 gap-6 p-6 bg-slate-50 rounded-3xl border border-slate-100",children:[B.jsxs("div",{className:"space-y-1",children:[Ce("hero_text_variants_1","1. Kelime Varyasyonlar (Beyaz)","textarea","rn: Mekannz,Otelinizi,Restorannz"),B.jsx("p",{className:"text-[11px] text-gray-400 font-medium px-1 italic",children:"Virglle ayrarak yazn. rn: Mekannz, Otelinizi, Villanz"})]}),B.jsxs("div",{className:"space-y-1",children:[Ce("hero_text_variants_2","2. Kelime Varyasyonlar (Mavi/talik)","textarea","rn: Sanata,Markaya,Sata"),B.jsx("p",{className:"text-[11px] text-gray-400 font-medium px-1 italic",children:"Virglle ayrarak yazn. rn: Sanata, Markaya, Hikayeye"})]})]})]}),B.jsxs("div",{className:"p-4 bg-amber-50 rounded-2xl border border-amber-100 flex gap-4 items-start",children:[B.jsx("span",{className:"text-xl",children:""}),B.jsxs("div",{className:"text-sm text-amber-800 leading-relaxed",children:[B.jsx("strong",{children:"pucu:"})," Her iki kutudaki kelime saysnn eit olmas (rn: ikisinde de 5 kelime) animasyonun daha senkronize almasn salar. Metinler her 4 saniyede bir srayla deiecektir."]})]})]})]})]})]})}function $xe(){const[l,d]=Ze.useState([]),[p,x]=Ze.useState([]),[A,N]=Ze.useState([]),[O,z]=Ze.useState([]),[U,V]=Ze.useState([]),[Y,ee]=Ze.useState([]),[ue,Ce]=Ze.useState(!0),[be,$e]=Ze.useState("settings"),[pe,it]=Ze.useState("province"),[Se,J]=Ze.useState([]),[vt,Gt]=Ze.useState(!1),[Xe,ie]=Ze.useState({});Ze.useEffect(()=>{ct()},[]);const ct=async()=>{Ce(!0);try{const Ne=[{name:"settings",url:"/admin-update.php?table=settings&action=list"},{name:"provinces",url:"/admin-update.php?table=locations_province&action=list"},{name:"districts",url:"/admin-update.php?table=locations_district&action=list"},{name:"towns",url:"/admin-update.php?table=locations_town&action=list"},{name:"services",url:"/admin-update.php?table=services&action=list"},{name:"seoPages",url:"/admin-update.php?table=posts&action=list&post_type=seo_page"}],ft=await Promise.all(Ne.map(X=>_s.get(X.url).catch($o=>(console.error(`API Error on ${X.name}:`,$o),{data:{success:!1,data:[]}})))),He=ft[0].data.data||[];d(He);const dt={};He.forEach(X=>dt[X.key]=X.value),ie(dt),x(ft[1].data.data||[]),N(ft[2].data.data||[]),z(ft[3].data.data||[]),V(ft[4].data.data||[]),ee(ft[5].data.data||[])}catch{console.error("Failed to load SEO data")}finally{Ce(!1)}},xn=(Ne,ft)=>{ie(He=>({...He,[Ne]:ft}))},fn=async Ne=>{const ft=Xe[Ne];try{await _s.post("/admin-update.php",{action:"update",table:"settings",id:Ne,data:{value:ft}}),d(He=>He.map(dt=>dt.key===Ne?{...dt,value:ft}:dt)),yo.fire({title:"Baaryla Kaydedildi",icon:"success",timer:1e3,showConfirmButton:!1})}catch{yo.fire("Hata","Kaydedilemedi","error")}},qe=(Ne,ft)=>Xe[Ne]||ft,Re=qe("seo_location_suffix","-mekan-fotografcisi"),Qo=qe("seo_location_title_template","{name} Mekan Fotorafs"),yt=qe("seo_service_location_sep","-"),Lt=qe("seo_service_location_order","province-service"),F=qe("seo_service_location_title_template","{province} {service}"),jt=qe("openai_api_key",""),at=qe("openai_model","gpt-4o-mini"),Jn=qe("seo_service_location_meta_desc_template",""),an=qe("seo_location_meta_desc_template",""),le=Ne=>{const ft=Y.find(He=>He.slug===Ne);return ft?ft.post_status==="publish"?{label:"Yaynda",color:"green",status:"publish"}:{label:"Taslak",color:"amber",status:"draft"}:{label:"Oluturulmad",color:"gray",status:"missing"}},Ve=async(Ne,ft)=>{try{await _s.post("/admin-update.php",{action:"save-post",title:Ne,slug:ft,content:`<p>${Ne} hizmetleri hakknda detayl bilgi.</p>`,excerpt:Ne.includes("-")?Jn.replace("{name}",Ne).replace("{location}",Ne).replace("{service}",Ne):an.replace("{name}",Ne).replace("{location}",Ne),post_type:"seo_page",post_status:"draft"}),ct(),yo.fire({title:"Sayfa Taslak Olarak Oluturuldu",icon:"success",timer:1e3,showConfirmButton:!1})}catch{yo.fire("Hata","Sayfa oluturulamad","error")}},It=async()=>{if(!jt){yo.fire("Eksik Bilgi","Ltfen nce Ayarlar sekmesinden OpenAI API Anahtarn girin.","warning");return}Gt(!0);try{const Ne=await _s.post("/ai.php",{action:"suggest-urls"});Ne.data.success&&J(Ne.data.suggestions)}catch(Ne){yo.fire("Hata","neri alnamad: "+(Ne.response?.data?.error||Ne.message),"error")}finally{Gt(!1)}};return ue?B.jsx("div",{className:"flex justify-center py-24",children:B.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):B.jsxs(hi.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[B.jsxs("div",{className:"flex justify-between items-center bg-white/50 backdrop-blur-md p-6 rounded-[2rem] border border-white shadow-sm",children:[B.jsxs("div",{children:[B.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"SEO Link Ynetimi"}),B.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Gelimi URL yaps ve sayfa ynetimi"})]}),B.jsxs("div",{className:"flex bg-gray-100/50 p-1 rounded-2xl border border-gray-200 shadow-inner overflow-x-auto no-scrollbar",children:[B.jsx("button",{onClick:()=>$e("settings"),className:`px-4 py-2 rounded-xl font-bold transition-all whitespace-nowrap ${be==="settings"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:" Ayarlar"}),B.jsx("button",{onClick:()=>$e("locations"),className:`px-4 py-2 rounded-xl font-bold transition-all whitespace-nowrap ${be==="locations"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:" Lokasyonlar"}),B.jsx("button",{onClick:()=>$e("services"),className:`px-4 py-2 rounded-xl font-bold transition-all whitespace-nowrap ${be==="services"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:" Hizmetler"}),B.jsx("button",{onClick:()=>$e("ai"),className:`px-4 py-2 rounded-xl font-bold transition-all whitespace-nowrap ${be==="ai"?"bg-white text-purple-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:" AI Asistan"})]})]}),B.jsx(HC,{mode:"wait",children:be==="settings"?B.jsxs(hi.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6 pb-20",children:[B.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm space-y-6",children:[B.jsxs("h2",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[B.jsx("span",{className:"p-2 bg-amber-50 rounded-lg text-amber-600 text-sm",children:""})," Genel URL Tanm"]}),B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[B.jsx("div",{className:"space-y-4",children:B.jsxs("div",{className:"space-y-2",children:[B.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Hizmet Ana URL (Prefix)"}),B.jsxs("div",{className:"flex gap-2",children:[B.jsx("input",{type:"text",value:qe("seo_service_base","hizmetlerimiz"),onChange:Ne=>xn("seo_service_base",Ne.target.value),className:"flex-1 px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-amber-500/10 focus:border-amber-500 outline-none font-bold text-amber-600",placeholder:"hizmetlerimiz"}),B.jsx("button",{onClick:()=>fn("seo_service_base"),className:"px-6 bg-amber-600 text-white rounded-2xl font-bold hover:bg-amber-700 transition-colors shadow-lg shadow-amber-500/20",children:"Kaydet"})]}),B.jsx("p",{className:"text-[10px] text-gray-400 px-1 italic",children:"Tm hizmet sayfalar bu nek altnda yayna girer. rn: /hizmetlerimiz/cekim-adi"})]})}),B.jsxs("div",{className:"bg-amber-900/5 rounded-[2rem] p-6 border border-amber-200/50",children:[B.jsx("h3",{className:"text-xs font-black text-amber-700 uppercase tracking-widest mb-2",children:"URL Kurallar"}),B.jsxs("p",{className:"text-xs text-amber-900/70 leading-relaxed",children:["Sistem otomatik olarak bu neki zorunlu klar. nek olmadan eriilmeye allan hizmet sayfalar otomatik olarak ",B.jsx("b",{children:"301 (Kalc Ynlendirme)"})," ile doru adrese tanr."]})]})]})]}),B.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm space-y-6",children:[B.jsxs("h2",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[B.jsx("span",{className:"p-2 bg-blue-50 rounded-lg text-blue-600 text-sm",children:""})," Lokasyon Link Ayarlar"]}),B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[B.jsxs("div",{className:"space-y-4",children:[B.jsxs("div",{className:"space-y-2",children:[B.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"URL Sonsaks (Suffix)"}),B.jsxs("div",{className:"flex gap-2",children:[B.jsx("input",{type:"text",value:Xe.seo_location_suffix||"",onChange:Ne=>xn("seo_location_suffix",Ne.target.value),className:"flex-1 px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none font-mono text-sm",placeholder:"-mekan-fotografcisi"}),B.jsx("button",{onClick:()=>fn("seo_location_suffix"),className:"px-6 bg-blue-600 text-white rounded-2xl font-bold hover:bg-blue-700 transition-colors",children:"Kaydet"})]})]}),B.jsxs("div",{className:"space-y-2",children:[B.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Balk Tasla"}),B.jsxs("div",{className:"flex gap-2",children:[B.jsx("input",{type:"text",value:Xe.seo_location_title_template||"",onChange:Ne=>xn("seo_location_title_template",Ne.target.value),className:"flex-1 px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none font-bold"}),B.jsx("button",{onClick:()=>fn("seo_location_title_template"),className:"px-6 bg-blue-600 text-white rounded-2xl font-bold hover:bg-blue-700 transition-colors",children:"Kaydet"})]})]})]}),B.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-6 text-white space-y-3",children:[B.jsx("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-widest",children:"rnek Grnm"}),B.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10",children:[B.jsxs("div",{className:"text-blue-400 font-mono text-xs",children:["/antalya",Re]}),B.jsx("div",{className:"font-bold text-lg mt-1",children:Qo.replace("{name}","Antalya")})]})]})]})]}),B.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm space-y-6",children:[B.jsxs("h2",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[B.jsx("span",{className:"p-2 bg-purple-50 rounded-lg text-purple-600 text-sm",children:""})," Hizmet & Lokasyon Link Ayarlar"]}),B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[B.jsxs("div",{className:"space-y-4",children:[B.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[B.jsxs("div",{className:"space-y-2",children:[B.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Ayra (Separator)"}),B.jsx("input",{type:"text",value:Xe.seo_service_location_sep||"",onChange:Ne=>xn("seo_service_location_sep",Ne.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 outline-none font-mono text-center"})]}),B.jsxs("div",{className:"space-y-2",children:[B.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Sralama (Order)"}),B.jsxs("select",{value:Xe.seo_service_location_order||"",onChange:Ne=>xn("seo_service_location_order",Ne.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 outline-none font-bold appearance-none bg-no-repeat bg-[right_1.25rem_center] bg-[length:1rem_1rem]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`},children:[B.jsx("option",{value:"province-service",children:"l-Hizmet"}),B.jsx("option",{value:"service-province",children:"Hizmet-l"})]})]})]}),B.jsxs("div",{className:"space-y-2",children:[B.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Balk Tasla"}),B.jsxs("div",{className:"flex gap-2",children:[B.jsx("input",{type:"text",value:Xe.seo_service_location_title_template||"",onChange:Ne=>xn("seo_service_location_title_template",Ne.target.value),className:"flex-1 px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 outline-none font-bold"}),B.jsx("button",{onClick:()=>{fn("seo_service_location_sep"),fn("seo_service_location_order"),fn("seo_service_location_title_template")},className:"px-6 bg-purple-600 text-white rounded-2xl font-bold hover:bg-purple-700 transition-colors",children:"Kaydet"})]})]})]}),B.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-6 text-white space-y-3",children:[B.jsx("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-widest",children:"rnek Grnm"}),B.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10",children:[B.jsxs("div",{className:"text-purple-400 font-mono text-xs",children:["/",qe("seo_service_base","hizmetlerimiz"),"/",Lt==="service-province"?`otel-cekimi${yt}antalya`:`antalya${yt}otel-cekimi`]}),B.jsx("div",{className:"font-bold text-lg mt-1",children:F.replace("{province}","Antalya").replace("{service}","Otel ekimi")})]})]})]})]}),B.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm space-y-6",children:[B.jsxs("h2",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[B.jsx("span",{className:"p-2 bg-green-50 rounded-lg text-green-600 text-sm",children:""})," Global Meta ablonlar"]}),B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[B.jsxs("div",{className:"space-y-2",children:[B.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"l + Hizmet Meta Description ablonu"}),B.jsx("textarea",{value:Jn,onChange:Ne=>handleUpdateSetting("seo_service_location_meta_desc_template",Ne.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-green-500/10 focus:border-green-500 outline-none text-sm h-32",placeholder:"Antalya Otel ekimi iin profesyonel zmler..."}),B.jsxs("p",{className:"text-[10px] text-gray-400 px-1",children:["Deikenler: `","{name}","`, `","{service}","`, `","{location}","`"]})]}),B.jsxs("div",{className:"space-y-2",children:[B.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Sadece Lokasyon Meta Description ablonu"}),B.jsx("textarea",{value:an,onChange:Ne=>handleUpdateSetting("seo_location_meta_desc_template",Ne.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-green-500/10 focus:border-green-500 outline-none text-sm h-32",placeholder:"Antalya blgesinde profesyonel ekim hizmetleri..."}),B.jsxs("p",{className:"text-[10px] text-gray-400 px-1",children:["Deikenler: `","{name}","`, `","{location}","`"]})]})]})]}),B.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm space-y-6",children:[B.jsxs("h2",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[B.jsx("span",{className:"p-2 bg-purple-50 rounded-lg text-purple-600 text-sm",children:""})," AI Yaplandrmas"]}),B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[B.jsxs("div",{className:"space-y-4",children:[B.jsxs("div",{className:"space-y-2",children:[B.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"OpenAI API Key"}),B.jsx("input",{type:"password",value:jt,onChange:Ne=>handleUpdateSetting("openai_api_key",Ne.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 outline-none font-mono text-sm",placeholder:"sk-..."})]}),B.jsxs("div",{className:"space-y-2",children:[B.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Model"}),B.jsxs("select",{value:at,onChange:Ne=>handleUpdateSetting("openai_model",Ne.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 outline-none font-bold appearance-none bg-no-repeat bg-[right_1.25rem_center] bg-[length:1rem_1rem]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`},children:[B.jsx("option",{value:"gpt-4o-mini",children:"GPT-4o Mini"}),B.jsx("option",{value:"gpt-4o",children:"GPT-4o"}),B.jsx("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"})]})]})]}),B.jsx("div",{className:"flex items-center justify-center p-6 border-2 border-dashed border-gray-200 rounded-[2rem]",children:B.jsxs("div",{className:"text-center",children:[B.jsx("div",{className:"text-3xl mb-2",children:""}),B.jsx("p",{className:"text-xs text-gray-500 max-w-[200px]",children:"OpenAI entegrasyonu ile ierik ve URL nerileri alabilirsiniz."})]})})]})]})]},"settings"):be==="locations"?B.jsxs(hi.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[B.jsxs("div",{className:"flex gap-2 bg-white/50 p-2 rounded-2xl border border-gray-200 w-fit",children:[B.jsx("button",{onClick:()=>it("province"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${pe==="province"?"bg-blue-600 text-white shadow-lg":"text-gray-500"}`,children:"ller"}),B.jsx("button",{onClick:()=>it("district"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${pe==="district"?"bg-blue-600 text-white shadow-lg":"text-gray-500"}`,children:"leler"}),B.jsx("button",{onClick:()=>it("town"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${pe==="town"?"bg-blue-600 text-white shadow-lg":"text-gray-500"}`,children:"Mahalleler"})]}),B.jsx("div",{className:"bg-white rounded-[2rem] border border-gray-100 shadow-sm overflow-hidden overflow-y-auto max-h-[calc(100vh-350px)] custom-scrollbar",children:B.jsxs("table",{className:"w-full text-left",children:[B.jsx("thead",{className:"bg-gray-50 border-b border-gray-100 sticky top-0 z-10 backdrop-blur-sm",children:B.jsxs("tr",{children:[B.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Lokasyon"}),B.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"URL"}),B.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Durum"}),B.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"lem"})]})}),B.jsx("tbody",{className:"divide-y divide-gray-50",children:(pe==="province"?p:pe==="district"?A:O).map(Ne=>{const ft=`${Ne.slug}${Re}`,He=le(ft),dt=Qo.replace("{name}",Ne.name);return B.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[B.jsx("td",{className:"px-6 py-4",children:B.jsx("div",{className:"font-bold text-gray-800",children:Ne.name})}),B.jsx("td",{className:"px-6 py-4",children:B.jsxs("div",{className:"text-xs font-mono text-blue-500",children:["/",ft]})}),B.jsx("td",{className:"px-6 py-4",children:B.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-black uppercase tracking-tighter bg-${He.color}-50 text-${He.color}-600 border border-${He.color}-100`,children:He.label})}),B.jsx("td",{className:"px-6 py-4 text-right",children:He.status==="missing"?B.jsx("button",{onClick:()=>Ve(dt,ft),className:"px-3 py-1.5 bg-gray-900 text-white rounded-lg text-[9px] font-black uppercase tracking-widest hover:bg-blue-600 transition-all",children:"Olutur"}):B.jsx("div",{className:"flex justify-end gap-2",children:B.jsx("a",{href:`/${ft}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-500",children:""})})})]},Ne.id)})})]})})]},"locations"):be==="services"?B.jsx(hi.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"bg-white rounded-[2rem] border border-gray-100 shadow-sm overflow-hidden overflow-y-auto max-h-[calc(100vh-300px)] custom-scrollbar",children:B.jsxs("table",{className:"w-full text-left",children:[B.jsx("thead",{className:"bg-gray-50 border-b border-gray-100 sticky top-0 z-10 backdrop-blur-sm",children:B.jsxs("tr",{children:[B.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"l / Hizmet"}),B.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"URL"}),B.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Durum"}),B.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"lem"})]})}),B.jsx("tbody",{className:"divide-y divide-gray-50",children:p.filter(Ne=>Ne.is_active).map(Ne=>U.filter(ft=>ft.is_active).map(ft=>{const He=Lt==="service-province"?`${ft.slug}${yt}${Ne.slug}`:`${Ne.slug}${yt}${ft.slug}`,dt=le(He),X=F.replace("{province}",Ne.name).replace("{service}",ft.name);return B.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[B.jsx("td",{className:"px-6 py-4",children:B.jsxs("div",{className:"font-bold text-gray-800 text-sm",children:[Ne.name," ",B.jsx("span",{className:"text-gray-300 mx-1",children:"/"})," ",ft.name]})}),B.jsx("td",{className:"px-6 py-4",children:B.jsxs("div",{className:"text-xs font-mono text-purple-600",children:["/",He]})}),B.jsx("td",{className:"px-6 py-4",children:B.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-black uppercase tracking-tighter bg-${dt.color}-50 text-${dt.color}-600 border border-${dt.color}-100`,children:dt.label})}),B.jsx("td",{className:"px-6 py-4 text-right",children:dt.status==="missing"?B.jsx("button",{onClick:()=>Ve(X,He),className:"px-3 py-1.5 bg-gray-900 text-white rounded-lg text-[9px] font-black uppercase tracking-widest hover:bg-purple-600 transition-all",children:"Olutur"}):B.jsx("div",{className:"flex justify-end gap-2",children:B.jsx("a",{href:`/${He}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-purple-500",children:""})})})]},`${Ne.id}-${ft.id}`)}))})]})},"services"):B.jsxs(hi.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"space-y-6",children:[B.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-blue-700 rounded-[3rem] p-12 text-white relative overflow-hidden shadow-2xl shadow-purple-500/20",children:[B.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full -mr-48 -mt-48 blur-3xl"}),B.jsxs("div",{className:"relative z-10 space-y-6 max-w-2xl",children:[B.jsx("h2",{className:"text-4xl font-black leading-tight",children:"Link Yaps AI Asistan"}),B.jsx("p",{className:"text-purple-100 text-lg",children:"Hizmetlerimiz iin en yksek SEO potansiyeline sahip URL yaplarn ve link stratejilerini yapay zeka ile kefedin."}),B.jsx("button",{onClick:It,disabled:vt,className:"px-8 py-4 bg-white text-purple-600 rounded-2xl font-black shadow-xl hover:scale-105 transition-all flex items-center gap-3 disabled:opacity-50",children:vt?B.jsxs(B.Fragment,{children:[B.jsx("span",{className:"w-5 h-5 border-2 border-purple-600 border-t-transparent rounded-full animate-spin"})," Bekleniyor..."]}):B.jsxs(B.Fragment,{children:[B.jsx("span",{className:"text-xl",children:""})," URL nerileri Al"]})})]})]}),Se.length>0&&B.jsxs(hi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm space-y-6",children:[B.jsx("h3",{className:"text-lg font-black text-gray-900 px-2 tracking-tight",children:"nerilen URL Yaplar"}),B.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Se.map((Ne,ft)=>B.jsx("div",{className:"p-4 bg-gray-50 border border-gray-100 rounded-2xl group hover:border-purple-200 transition-all",children:B.jsxs("div",{className:"flex items-center justify-between",children:[B.jsxs("code",{className:"text-purple-600 font-mono text-sm",children:["/",Ne]}),B.jsx("button",{onClick:()=>{const He=Ne.split("-").map(dt=>dt.charAt(0).toUpperCase()+dt.slice(1)).join(" ");Ve(He,Ne)},className:"opacity-0 group-hover:opacity-100 p-2 bg-white rounded-lg shadow-sm text-xs hover:text-purple-600 transition-all",children:"Olutur"})]})},ft))})]})]},"ai")})]})}function Ixe(){const[l,d]=Ze.useState([]),[p,x]=Ze.useState(!0),[A,N]=Ze.useState("all"),[O,z]=Ze.useState(null);Ze.useEffect(()=>{U()},[]);const U=async()=>{try{const be=await _s.get("/admin-update.php?table=freelancer_applications&action=list");if(be.data.success){const $e=(be.data.data||[]).sort((pe,it)=>new Date(it.created_at)-new Date(pe.created_at));d($e)}}catch(be){console.error("Failed to load applications:",be)}finally{x(!1)}},V=async(be,$e)=>{try{await _s.post("/admin-update.php",{action:"update",table:"freelancer_applications",id:be.id,data:{status:$e}}),U(),O?.id===be.id&&z({...be,status:$e}),yo.fire({title:"Gncellendi",icon:"success",timer:800,showConfirmButton:!1,toast:!0,position:"bottom-end"})}catch{yo.fire("Hata","Durum gncellenemedi","error")}},Y=async be=>{if((await yo.fire({title:"Emin misiniz?",text:"Bu bavuru kalc olarak silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal"})).isConfirmed)try{await _s.post("/admin-update.php",{action:"delete",table:"freelancer_applications",id:be}),U(),z(null),yo.fire("Silindi!","Bavuru baaryla silindi.","success")}catch{yo.fire("Hata","Silme ilemi baarsz","error")}},ee=l.filter(be=>A==="pending"?be.status==="pending":A==="approved"?be.status==="approved":A==="rejected"?be.status==="rejected":!0),ue=be=>{switch(be){case"approved":return"green";case"rejected":return"red";default:return"amber"}},Ce=be=>{switch(be){case"approved":return"Onayland";case"rejected":return"Reddedildi";default:return"Beklemede"}};return p?B.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):B.jsxs(hi.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[B.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[B.jsxs("div",{children:[B.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Freelancer Bavurular"}),B.jsx("p",{className:"text-gray-500 text-sm",children:"Ekibimize katlmak isteyen fotoraflarn listesi"})]}),B.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl",children:[{id:"all",label:"Tm",count:l.length},{id:"pending",label:"Bekleyen",count:l.filter(be=>be.status==="pending").length},{id:"approved",label:"Onaylanan",count:l.filter(be=>be.status==="approved").length}].map(be=>B.jsxs("button",{onClick:()=>N(be.id),className:`px-4 py-1.5 rounded-lg text-xs font-bold transition-all ${A===be.id?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[be.label," (",be.count,")"]},be.id))})]}),B.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[B.jsxs("div",{className:`xl:col-span-1 space-y-3 max-h-[700px] overflow-y-auto pr-2 custom-scrollbar ${O?"hidden xl:block":"block"}`,children:[ee.map(be=>B.jsxs(hi.div,{layout:!0,onClick:()=>z(be),className:`p-4 rounded-2xl border cursor-pointer transition-all ${O?.id===be.id?"bg-blue-600 border-blue-600 text-white shadow-lg shadow-blue-200":"bg-white hover:bg-gray-50 border-gray-100"}`,children:[B.jsxs("div",{className:"flex justify-between items-start mb-1",children:[B.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${O?.id===be.id?"text-white/70":`text-${ue(be.status)}-500`}`,children:Ce(be.status)}),B.jsx("span",{className:"text-[10px] opacity-60",children:new Date(be.created_at).toLocaleDateString("tr-TR")})]}),B.jsx("div",{className:`font-bold ${O?.id===be.id?"text-white":"text-gray-800"}`,children:be.name}),B.jsx("div",{className:"text-xs truncate opacity-70",children:be.city})]},be.id)),ee.length===0&&B.jsx("div",{className:"text-center py-12 text-gray-400 italic bg-white rounded-3xl border border-dashed border-gray-200",children:"Bavuru bulunamad."})]}),B.jsx("div",{className:`xl:col-span-2 ${O?"block":"hidden xl:flex"}`,children:B.jsx(HC,{mode:"wait",children:O?B.jsxs(hi.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"bg-white rounded-3xl border border-gray-100 shadow-sm p-8 h-full flex flex-col",children:[B.jsxs("div",{className:"flex justify-between items-start mb-8",children:[B.jsx("button",{onClick:()=>z(null),className:"xl:hidden p-2 hover:bg-gray-100 rounded-lg text-gray-400",children:" Geri"}),B.jsxs("div",{className:"flex gap-2",children:[B.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-xl mr-2",children:[B.jsx("button",{onClick:()=>V(O,"approved"),className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase transition-all ${O.status==="approved"?"bg-green-500 text-white shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Onayla"}),B.jsx("button",{onClick:()=>V(O,"rejected"),className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase transition-all ${O.status==="rejected"?"bg-red-500 text-white shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Reddet"}),B.jsx("button",{onClick:()=>V(O,"pending"),className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase transition-all ${O.status==="pending"?"bg-amber-500 text-white shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Beklet"})]}),B.jsx("button",{onClick:()=>Y(O.id),className:"p-2 text-red-400 hover:bg-red-50 rounded-xl transition-colors",children:""})]})]}),B.jsxs("div",{className:"space-y-6 flex-1",children:[B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[B.jsxs("div",{children:[B.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-2",children:"Bavuru Sahibi"}),B.jsxs("div",{className:"space-y-3",children:[B.jsxs("div",{className:"flex items-center gap-3",children:[B.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),B.jsx("div",{className:"text-lg font-bold text-gray-800",children:O.name})]}),B.jsxs("div",{className:"flex items-center gap-3",children:[B.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),B.jsx("div",{className:"text-sm text-gray-600 font-medium",children:O.email})]}),B.jsxs("div",{className:"flex items-center gap-3",children:[B.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),B.jsx("div",{className:"text-sm text-gray-600 font-medium",children:O.phone})]}),B.jsxs("div",{className:"flex items-center gap-3",children:[B.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),B.jsx("div",{className:"text-sm text-gray-600 font-medium",children:O.city})]})]})]}),B.jsxs("div",{children:[B.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-2",children:"Mesleki Detaylar"}),B.jsxs("div",{className:"space-y-3",children:[B.jsxs("div",{className:"flex items-center gap-3",children:[B.jsx("span",{className:"w-8 h-8 rounded-full bg-purple-50 text-purple-500 flex items-center justify-center text-xs",children:""}),B.jsxs("div",{children:[B.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:"Deneyim"}),B.jsxs("div",{className:"text-sm font-bold text-gray-800",children:[O.experience," Yl"]})]})]}),B.jsxs("div",{className:"flex items-center gap-3",children:[B.jsx("span",{className:"w-8 h-8 rounded-full bg-purple-50 text-purple-500 flex items-center justify-center text-xs",children:""}),B.jsxs("div",{children:[B.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:"Uzmanlk Alanlar"}),B.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:JSON.parse(O.specialization||"[]").map(be=>B.jsx("span",{className:"px-2 py-0.5 bg-slate-100 rounded text-[9px] font-black uppercase text-slate-600",children:be},be))})]})]}),O.portfolio_url&&B.jsxs("div",{className:"flex items-center gap-3",children:[B.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),B.jsxs("div",{children:[B.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:"Portfolyo"}),B.jsx("a",{href:O.portfolio_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-bold text-blue-600 hover:underline",children:O.portfolio_url})]})]})]})]})]}),B.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-50",children:[B.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Mesaj / Hakknda"}),B.jsx("div",{className:"bg-gray-50 p-6 rounded-2xl text-gray-700 leading-relaxed whitespace-pre-wrap italic",children:O.message||"Ek bilgi belirtilmemi."})]})]}),B.jsxs("p",{className:"text-[9px] text-gray-300 mt-8 text-center uppercase tracking-widest font-bold",children:["Bavuru ID: ",O.id]})]},O.id):B.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-300 border-2 border-dashed border-gray-100 rounded-3xl bg-gray-50/30",children:[B.jsx("span",{className:"text-6xl mb-4",children:""}),B.jsx("p",{className:"font-bold tracking-tight uppercase text-xs opacity-50",children:"Detaylar grmek iin bir bavuru sein"})]})})})]})]})}function Hxe(){const l=C2(),d=[{path:"/dashboard",icon:"",label:"Dashboard"},{path:"/pages",icon:"",label:"Sayfalar"},{path:"/services",icon:"",label:"Hizmetler"},{path:"/locations",icon:"",label:"Lokasyonlar"},{path:"/seo-links",icon:"",label:"SEO Link Ynetimi"},{path:"/seo-pages",icon:"",label:"SEO Sayfalar"},{path:"/quotes",icon:"",label:"Teklif Talepleri"},{path:"/freelancers",icon:"",label:"Freelancer Bavurular"},{path:"/media",icon:"",label:"Medya"},{path:"/pexels",icon:"",label:"Pexels Koleksiyon"},{path:"/settings",icon:"",label:"Ayarlar"}];return B.jsxs("div",{className:"w-72 bg-gradient-to-b from-slate-900 to-black text-white min-h-screen p-6 flex flex-col border-r border-white/5 shadow-2xl",children:[B.jsxs("div",{className:"mb-10 px-2 flex items-center gap-3",children:[B.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-2xl flex items-center justify-center text-xl shadow-lg shadow-blue-500/20 rotate-3",children:""}),B.jsxs("div",{children:[B.jsx("h1",{className:"text-lg font-black tracking-tighter leading-none",children:"MEKAN"}),B.jsx("p",{className:"text-[10px] text-blue-400 font-bold tracking-[0.2em] uppercase",children:"Fotorafs"})]})]}),B.jsx("nav",{className:"flex-1 space-y-1.5 relative",children:d.map(p=>{const x=l.pathname.startsWith(p.path);return B.jsxs(kv,{to:p.path,className:`group relative flex items-center gap-4 px-4 py-3 rounded-2xl transition-all duration-300 ${x?"bg-blue-600 text-white shadow-lg shadow-blue-500/20":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:[x&&B.jsx(hi.div,{layoutId:"active-pill",className:"absolute left-[-1.5rem] w-1.5 h-8 bg-blue-500 rounded-r-full"}),B.jsx("span",{className:`text-lg transition-transform group-hover:scale-125 duration-300 ${x?"grayscale-0":"grayscale opacity-70 group-hover:grayscale-0 group-hover:opacity-100"}`,children:p.icon}),B.jsx("span",{className:"text-sm font-bold tracking-tight",children:p.label})]},p.path)})}),B.jsx("div",{className:"mt-auto pt-6 border-t border-white/5",children:B.jsxs("button",{onClick:()=>{localStorage.removeItem("admin_token"),window.location.href="/admin/"},className:"w-full flex items-center gap-4 px-4 py-3 rounded-2xl text-slate-500 hover:text-red-400 hover:bg-red-400/5 transition-all group",children:[B.jsx("span",{className:"text-xl grayscale group-hover:grayscale-0 transition-all",children:""}),B.jsx("span",{className:"text-sm font-bold tracking-tight",children:"Oturumu Kapat"})]})})]})}function zxe(){const{user:l,logout:d}=mz(),p=async()=>{try{await _s.post("/auth.php?action=logout")}catch(x){console.error("Logout error:",x)}finally{d(),window.location.href="/admin/"}};return B.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[B.jsx(Hxe,{}),B.jsxs("div",{className:"flex-1 flex flex-col",children:[B.jsxs("header",{className:"bg-white shadow-sm px-6 py-4 flex justify-between items-center",children:[B.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Admin Panel"}),B.jsxs("div",{className:"flex items-center gap-4",children:[B.jsx("span",{className:"text-sm text-gray-600",children:l?.name||"Admin"}),B.jsx("button",{onClick:p,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition",children:"k"})]})]}),B.jsx(hi.main,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"flex-1 p-8",children:B.jsx(vie,{})},window.location.pathname)]})]})}function jxe(){const{isAuthenticated:l,token:d,logout:p}=mz();return Ze.useEffect(()=>{!localStorage.getItem("admin_token")&&l&&p()},[l,d,p]),!l||!d?B.jsx(Tee,{to:"/",replace:!0}):B.jsx(vie,{})}function Vxe(){const{isAuthenticated:l,initialize:d}=mz();return Ze.useEffect(()=>{d()},[d]),B.jsx(dfe,{basename:"/admin",children:B.jsxs(zde,{children:[B.jsx(qd,{path:"/",element:l?B.jsx(Tee,{to:"/dashboard",replace:!0}):B.jsx(Vpe,{})}),B.jsx(qd,{element:B.jsx(jxe,{}),children:B.jsxs(qd,{element:B.jsx(zxe,{}),children:[B.jsx(qd,{path:"/dashboard",element:B.jsx(Upe,{})}),B.jsx(qd,{path:"/pages",element:B.jsx(Dve,{})}),B.jsx(qd,{path:"/pages/new",element:B.jsx(FH,{})}),B.jsx(qd,{path:"/pages/edit/:id",element:B.jsx(FH,{})}),B.jsx(qd,{path:"/locations",element:B.jsx(Ave,{})}),B.jsx(qd,{path:"/services",element:B.jsx(kve,{})}),B.jsx(qd,{path:"/services/new",element:B.jsx(FH,{})}),B.jsx(qd,{path:"/services/edit/:id",element:B.jsx(FH,{})}),B.jsx(qd,{path:"/seo-pages",element:B.jsx(_ve,{})}),B.jsx(qd,{path:"/seo-links",element:B.jsx($xe,{})}),B.jsx(qd,{path:"/quotes",element:B.jsx(Nve,{})}),B.jsx(qd,{path:"/freelancers",element:B.jsx(Ixe,{})}),B.jsx(qd,{path:"/media",element:B.jsx(Rve,{})}),B.jsx(qd,{path:"/pexels",element:B.jsx(Mve,{})}),B.jsx(qd,{path:"/settings",element:B.jsx(Fxe,{})})]})}),B.jsx(qd,{path:"*",element:B.jsx(Tee,{to:"/",replace:!0})})]})})}zue.createRoot(document.getElementById("root")).render(B.jsx(WM.StrictMode,{children:B.jsx(Vxe,{})}));
