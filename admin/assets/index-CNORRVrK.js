(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))x(A);new MutationObserver(A=>{for(const R of A)if(R.type==="childList")for(const O of R.addedNodes)O.tagName==="LINK"&&O.rel==="modulepreload"&&x(O)}).observe(document,{childList:!0,subtree:!0});function p(A){const R={};return A.integrity&&(R.integrity=A.integrity),A.referrerPolicy&&(R.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?R.credentials="include":A.crossOrigin==="anonymous"?R.credentials="omit":R.credentials="same-origin",R}function x(A){if(A.ep)return;A.ep=!0;const R=p(A);fetch(A.href,R)}})();function sie(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var zJ={exports:{}},jM={};var goe;function Nue(){if(goe)return jM;goe=1;var l=Symbol.for("react.transitional.element"),u=Symbol.for("react.fragment");function p(x,A,R){var O=null;if(R!==void 0&&(O=""+R),A.key!==void 0&&(O=""+A.key),"key"in A){R={};for(var I in A)I!=="key"&&(R[I]=A[I])}else R=A;return A=R.ref,{$$typeof:l,type:x,key:O,ref:A!==void 0?A:null,props:R}}return jM.Fragment=u,jM.jsx=p,jM.jsxs=p,jM}var poe;function Rue(){return poe||(poe=1,zJ.exports=Nue()),zJ.exports}var M=Rue(),jJ={exports:{}},Fr={};var boe;function Mue(){if(boe)return Fr;boe=1;var l=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),O=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),V=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),ue=Symbol.iterator;function Ce(le){return le===null||typeof le!="object"?null:(le=ue&&le[ue]||le["@@iterator"],typeof le=="function"?le:null)}var pe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fe=Object.assign,be={};function lt(le,Ve,It){this.props=le,this.context=Ve,this.refs=be,this.updater=It||pe}lt.prototype.isReactComponent={},lt.prototype.setState=function(le,Ve){if(typeof le!="object"&&typeof le!="function"&&le!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,le,Ve,"setState")},lt.prototype.forceUpdate=function(le){this.updater.enqueueForceUpdate(this,le,"forceUpdate")};function Oe(){}Oe.prototype=lt.prototype;function J(le,Ve,It){this.props=le,this.context=Ve,this.refs=be,this.updater=It||pe}var it=J.prototype=new Oe;it.constructor=J,Fe(it,lt.prototype),it.isPureReactComponent=!0;var jt=Array.isArray;function Ke(){}var ie={H:null,A:null,T:null,S:null},ut=Object.prototype.hasOwnProperty;function xn(le,Ve,It){var Ne=It.ref;return{$$typeof:l,type:le,key:Ve,ref:Ne!==void 0?Ne:null,props:It}}function fn(le,Ve){return xn(le.type,Ve,le.props)}function qe(le){return typeof le=="object"&&le!==null&&le.$$typeof===l}function Re(le){var Ve={"=":"=0",":":"=2"};return"$"+le.replace(/[=:]/g,function(It){return Ve[It]})}var Qo=/\/+/g;function vt(le,Ve){return typeof le=="object"&&le!==null&&le.key!=null?Re(""+le.key):Ve.toString(36)}function Lt(le){switch(le.status){case"fulfilled":return le.value;case"rejected":throw le.reason;default:switch(typeof le.status=="string"?le.then(Ke,Ke):(le.status="pending",le.then(function(Ve){le.status==="pending"&&(le.status="fulfilled",le.value=Ve)},function(Ve){le.status==="pending"&&(le.status="rejected",le.reason=Ve)})),le.status){case"fulfilled":return le.value;case"rejected":throw le.reason}}throw le}function F(le,Ve,It,Ne,mt){var He=typeof le;(He==="undefined"||He==="boolean")&&(le=null);var ft=!1;if(le===null)ft=!0;else switch(He){case"bigint":case"string":case"number":ft=!0;break;case"object":switch(le.$$typeof){case l:case u:ft=!0;break;case Y:return ft=le._init,F(ft(le._payload),Ve,It,Ne,mt)}}if(ft)return mt=mt(le),ft=Ne===""?"."+vt(le,0):Ne,jt(mt)?(It="",ft!=null&&(It=ft.replace(Qo,"$&/")+"/"),F(mt,Ve,It,"",function(xo){return xo})):mt!=null&&(qe(mt)&&(mt=fn(mt,It+(mt.key==null||le&&le.key===mt.key?"":(""+mt.key).replace(Qo,"$&/")+"/")+ft)),Ve.push(mt)),1;ft=0;var X=Ne===""?".":Ne+":";if(jt(le))for(var $o=0;$o<le.length;$o++)Ne=le[$o],He=X+vt(Ne,$o),ft+=F(Ne,Ve,It,He,mt);else if($o=Ce(le),typeof $o=="function")for(le=$o.call(le),$o=0;!(Ne=le.next()).done;)Ne=Ne.value,He=X+vt(Ne,$o++),ft+=F(Ne,Ve,It,He,mt);else if(He==="object"){if(typeof le.then=="function")return F(Lt(le),Ve,It,Ne,mt);throw Ve=String(le),Error("Objects are not valid as a React child (found: "+(Ve==="[object Object]"?"object with keys {"+Object.keys(le).join(", ")+"}":Ve)+"). If you meant to render a collection of children, use an array instead.")}return ft}function Vt(le,Ve,It){if(le==null)return le;var Ne=[],mt=0;return F(le,Ne,"","",function(He){return Ve.call(It,He,mt++)}),Ne}function at(le){if(le._status===-1){var Ve=le._result;Ve=Ve(),Ve.then(function(It){(le._status===0||le._status===-1)&&(le._status=1,le._result=It)},function(It){(le._status===0||le._status===-1)&&(le._status=2,le._result=It)}),le._status===-1&&(le._status=0,le._result=Ve)}if(le._status===1)return le._result.default;throw le._result}var Jn=typeof reportError=="function"?reportError:function(le){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Ve=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof le=="object"&&le!==null&&typeof le.message=="string"?String(le.message):String(le),error:le});if(!window.dispatchEvent(Ve))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",le);return}console.error(le)},an={map:Vt,forEach:function(le,Ve,It){Vt(le,function(){Ve.apply(this,arguments)},It)},count:function(le){var Ve=0;return Vt(le,function(){Ve++}),Ve},toArray:function(le){return Vt(le,function(Ve){return Ve})||[]},only:function(le){if(!qe(le))throw Error("React.Children.only expected to receive a single React element child.");return le}};return Fr.Activity=ee,Fr.Children=an,Fr.Component=lt,Fr.Fragment=p,Fr.Profiler=A,Fr.PureComponent=J,Fr.StrictMode=x,Fr.Suspense=U,Fr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,Fr.__COMPILER_RUNTIME={__proto__:null,c:function(le){return ie.H.useMemoCache(le)}},Fr.cache=function(le){return function(){return le.apply(null,arguments)}},Fr.cacheSignal=function(){return null},Fr.cloneElement=function(le,Ve,It){if(le==null)throw Error("The argument must be a React element, but you passed "+le+".");var Ne=Fe({},le.props),mt=le.key;if(Ve!=null)for(He in Ve.key!==void 0&&(mt=""+Ve.key),Ve)!ut.call(Ve,He)||He==="key"||He==="__self"||He==="__source"||He==="ref"&&Ve.ref===void 0||(Ne[He]=Ve[He]);var He=arguments.length-2;if(He===1)Ne.children=It;else if(1<He){for(var ft=Array(He),X=0;X<He;X++)ft[X]=arguments[X+2];Ne.children=ft}return xn(le.type,mt,Ne)},Fr.createContext=function(le){return le={$$typeof:O,_currentValue:le,_currentValue2:le,_threadCount:0,Provider:null,Consumer:null},le.Provider=le,le.Consumer={$$typeof:R,_context:le},le},Fr.createElement=function(le,Ve,It){var Ne,mt={},He=null;if(Ve!=null)for(Ne in Ve.key!==void 0&&(He=""+Ve.key),Ve)ut.call(Ve,Ne)&&Ne!=="key"&&Ne!=="__self"&&Ne!=="__source"&&(mt[Ne]=Ve[Ne]);var ft=arguments.length-2;if(ft===1)mt.children=It;else if(1<ft){for(var X=Array(ft),$o=0;$o<ft;$o++)X[$o]=arguments[$o+2];mt.children=X}if(le&&le.defaultProps)for(Ne in ft=le.defaultProps,ft)mt[Ne]===void 0&&(mt[Ne]=ft[Ne]);return xn(le,He,mt)},Fr.createRef=function(){return{current:null}},Fr.forwardRef=function(le){return{$$typeof:I,render:le}},Fr.isValidElement=qe,Fr.lazy=function(le){return{$$typeof:Y,_payload:{_status:-1,_result:le},_init:at}},Fr.memo=function(le,Ve){return{$$typeof:V,type:le,compare:Ve===void 0?null:Ve}},Fr.startTransition=function(le){var Ve=ie.T,It={};ie.T=It;try{var Ne=le(),mt=ie.S;mt!==null&&mt(It,Ne),typeof Ne=="object"&&Ne!==null&&typeof Ne.then=="function"&&Ne.then(Ke,Jn)}catch(He){Jn(He)}finally{Ve!==null&&It.types!==null&&(Ve.types=It.types),ie.T=Ve}},Fr.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},Fr.use=function(le){return ie.H.use(le)},Fr.useActionState=function(le,Ve,It){return ie.H.useActionState(le,Ve,It)},Fr.useCallback=function(le,Ve){return ie.H.useCallback(le,Ve)},Fr.useContext=function(le){return ie.H.useContext(le)},Fr.useDebugValue=function(){},Fr.useDeferredValue=function(le,Ve){return ie.H.useDeferredValue(le,Ve)},Fr.useEffect=function(le,Ve){return ie.H.useEffect(le,Ve)},Fr.useEffectEvent=function(le){return ie.H.useEffectEvent(le)},Fr.useId=function(){return ie.H.useId()},Fr.useImperativeHandle=function(le,Ve,It){return ie.H.useImperativeHandle(le,Ve,It)},Fr.useInsertionEffect=function(le,Ve){return ie.H.useInsertionEffect(le,Ve)},Fr.useLayoutEffect=function(le,Ve){return ie.H.useLayoutEffect(le,Ve)},Fr.useMemo=function(le,Ve){return ie.H.useMemo(le,Ve)},Fr.useOptimistic=function(le,Ve){return ie.H.useOptimistic(le,Ve)},Fr.useReducer=function(le,Ve,It){return ie.H.useReducer(le,Ve,It)},Fr.useRef=function(le){return ie.H.useRef(le)},Fr.useState=function(le){return ie.H.useState(le)},Fr.useSyncExternalStore=function(le,Ve,It){return ie.H.useSyncExternalStore(le,Ve,It)},Fr.useTransition=function(){return ie.H.useTransition()},Fr.version="19.2.3",Fr}var yoe;function ste(){return yoe||(yoe=1,jJ.exports=Mue()),jJ.exports}var Ze=ste();const qM=sie(Ze);var VJ={exports:{}},VM={},UJ={exports:{}},ZJ={};var voe;function Bue(){return voe||(voe=1,(function(l){function u(F,Vt){var at=F.length;F.push(Vt);e:for(;0<at;){var Jn=at-1>>>1,an=F[Jn];if(0<A(an,Vt))F[Jn]=Vt,F[at]=an,at=Jn;else break e}}function p(F){return F.length===0?null:F[0]}function x(F){if(F.length===0)return null;var Vt=F[0],at=F.pop();if(at!==Vt){F[0]=at;e:for(var Jn=0,an=F.length,le=an>>>1;Jn<le;){var Ve=2*(Jn+1)-1,It=F[Ve],Ne=Ve+1,mt=F[Ne];if(0>A(It,at))Ne<an&&0>A(mt,It)?(F[Jn]=mt,F[Ne]=at,Jn=Ne):(F[Jn]=It,F[Ve]=at,Jn=Ve);else if(Ne<an&&0>A(mt,at))F[Jn]=mt,F[Ne]=at,Jn=Ne;else break e}}return Vt}function A(F,Vt){var at=F.sortIndex-Vt.sortIndex;return at!==0?at:F.id-Vt.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var R=performance;l.unstable_now=function(){return R.now()}}else{var O=Date,I=O.now();l.unstable_now=function(){return O.now()-I}}var U=[],V=[],Y=1,ee=null,ue=3,Ce=!1,pe=!1,Fe=!1,be=!1,lt=typeof setTimeout=="function"?setTimeout:null,Oe=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function it(F){for(var Vt=p(V);Vt!==null;){if(Vt.callback===null)x(V);else if(Vt.startTime<=F)x(V),Vt.sortIndex=Vt.expirationTime,u(U,Vt);else break;Vt=p(V)}}function jt(F){if(Fe=!1,it(F),!pe)if(p(U)!==null)pe=!0,Ke||(Ke=!0,Re());else{var Vt=p(V);Vt!==null&&Lt(jt,Vt.startTime-F)}}var Ke=!1,ie=-1,ut=5,xn=-1;function fn(){return be?!0:!(l.unstable_now()-xn<ut)}function qe(){if(be=!1,Ke){var F=l.unstable_now();xn=F;var Vt=!0;try{e:{pe=!1,Fe&&(Fe=!1,Oe(ie),ie=-1),Ce=!0;var at=ue;try{t:{for(it(F),ee=p(U);ee!==null&&!(ee.expirationTime>F&&fn());){var Jn=ee.callback;if(typeof Jn=="function"){ee.callback=null,ue=ee.priorityLevel;var an=Jn(ee.expirationTime<=F);if(F=l.unstable_now(),typeof an=="function"){ee.callback=an,it(F),Vt=!0;break t}ee===p(U)&&x(U),it(F)}else x(U);ee=p(U)}if(ee!==null)Vt=!0;else{var le=p(V);le!==null&&Lt(jt,le.startTime-F),Vt=!1}}break e}finally{ee=null,ue=at,Ce=!1}Vt=void 0}}finally{Vt?Re():Ke=!1}}}var Re;if(typeof J=="function")Re=function(){J(qe)};else if(typeof MessageChannel<"u"){var Qo=new MessageChannel,vt=Qo.port2;Qo.port1.onmessage=qe,Re=function(){vt.postMessage(null)}}else Re=function(){lt(qe,0)};function Lt(F,Vt){ie=lt(function(){F(l.unstable_now())},Vt)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(F){F.callback=null},l.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ut=0<F?Math.floor(1e3/F):5},l.unstable_getCurrentPriorityLevel=function(){return ue},l.unstable_next=function(F){switch(ue){case 1:case 2:case 3:var Vt=3;break;default:Vt=ue}var at=ue;ue=Vt;try{return F()}finally{ue=at}},l.unstable_requestPaint=function(){be=!0},l.unstable_runWithPriority=function(F,Vt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var at=ue;ue=F;try{return Vt()}finally{ue=at}},l.unstable_scheduleCallback=function(F,Vt,at){var Jn=l.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?Jn+at:Jn):at=Jn,F){case 1:var an=-1;break;case 2:an=250;break;case 5:an=1073741823;break;case 4:an=1e4;break;default:an=5e3}return an=at+an,F={id:Y++,callback:Vt,priorityLevel:F,startTime:at,expirationTime:an,sortIndex:-1},at>Jn?(F.sortIndex=at,u(V,F),p(U)===null&&F===p(V)&&(Fe?(Oe(ie),ie=-1):Fe=!0,Lt(jt,at-Jn))):(F.sortIndex=an,u(U,F),pe||Ce||(pe=!0,Ke||(Ke=!0,Re()))),F},l.unstable_shouldYield=fn,l.unstable_wrapCallback=function(F){var Vt=ue;return function(){var at=ue;ue=Vt;try{return F.apply(this,arguments)}finally{ue=at}}}})(ZJ)),ZJ}var xoe;function Lue(){return xoe||(xoe=1,UJ.exports=Bue()),UJ.exports}var WJ={exports:{}},gh={};var woe;function Pue(){if(woe)return gh;woe=1;var l=ste();function u(U){var V="https://react.dev/errors/"+U;if(1<arguments.length){V+="?args[]="+encodeURIComponent(arguments[1]);for(var Y=2;Y<arguments.length;Y++)V+="&args[]="+encodeURIComponent(arguments[Y])}return"Minified React error #"+U+"; visit "+V+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(){}var x={d:{f:p,r:function(){throw Error(u(522))},D:p,C:p,L:p,m:p,X:p,S:p,M:p},p:0,findDOMNode:null},A=Symbol.for("react.portal");function R(U,V,Y){var ee=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:ee==null?null:""+ee,children:U,containerInfo:V,implementation:Y}}var O=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function I(U,V){if(U==="font")return"";if(typeof V=="string")return V==="use-credentials"?V:""}return gh.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,gh.createPortal=function(U,V){var Y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V||V.nodeType!==1&&V.nodeType!==9&&V.nodeType!==11)throw Error(u(299));return R(U,V,null,Y)},gh.flushSync=function(U){var V=O.T,Y=x.p;try{if(O.T=null,x.p=2,U)return U()}finally{O.T=V,x.p=Y,x.d.f()}},gh.preconnect=function(U,V){typeof U=="string"&&(V?(V=V.crossOrigin,V=typeof V=="string"?V==="use-credentials"?V:"":void 0):V=null,x.d.C(U,V))},gh.prefetchDNS=function(U){typeof U=="string"&&x.d.D(U)},gh.preinit=function(U,V){if(typeof U=="string"&&V&&typeof V.as=="string"){var Y=V.as,ee=I(Y,V.crossOrigin),ue=typeof V.integrity=="string"?V.integrity:void 0,Ce=typeof V.fetchPriority=="string"?V.fetchPriority:void 0;Y==="style"?x.d.S(U,typeof V.precedence=="string"?V.precedence:void 0,{crossOrigin:ee,integrity:ue,fetchPriority:Ce}):Y==="script"&&x.d.X(U,{crossOrigin:ee,integrity:ue,fetchPriority:Ce,nonce:typeof V.nonce=="string"?V.nonce:void 0})}},gh.preinitModule=function(U,V){if(typeof U=="string")if(typeof V=="object"&&V!==null){if(V.as==null||V.as==="script"){var Y=I(V.as,V.crossOrigin);x.d.M(U,{crossOrigin:Y,integrity:typeof V.integrity=="string"?V.integrity:void 0,nonce:typeof V.nonce=="string"?V.nonce:void 0})}}else V==null&&x.d.M(U)},gh.preload=function(U,V){if(typeof U=="string"&&typeof V=="object"&&V!==null&&typeof V.as=="string"){var Y=V.as,ee=I(Y,V.crossOrigin);x.d.L(U,Y,{crossOrigin:ee,integrity:typeof V.integrity=="string"?V.integrity:void 0,nonce:typeof V.nonce=="string"?V.nonce:void 0,type:typeof V.type=="string"?V.type:void 0,fetchPriority:typeof V.fetchPriority=="string"?V.fetchPriority:void 0,referrerPolicy:typeof V.referrerPolicy=="string"?V.referrerPolicy:void 0,imageSrcSet:typeof V.imageSrcSet=="string"?V.imageSrcSet:void 0,imageSizes:typeof V.imageSizes=="string"?V.imageSizes:void 0,media:typeof V.media=="string"?V.media:void 0})}},gh.preloadModule=function(U,V){if(typeof U=="string")if(V){var Y=I(V.as,V.crossOrigin);x.d.m(U,{as:typeof V.as=="string"&&V.as!=="script"?V.as:void 0,crossOrigin:Y,integrity:typeof V.integrity=="string"?V.integrity:void 0})}else x.d.m(U)},gh.requestFormReset=function(U){x.d.r(U)},gh.unstable_batchedUpdates=function(U,V){return U(V)},gh.useFormState=function(U,V,Y){return O.H.useFormState(U,V,Y)},gh.useFormStatus=function(){return O.H.useHostTransitionStatus()},gh.version="19.2.3",gh}var Coe;function Fue(){if(Coe)return WJ.exports;Coe=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(u){console.error(u)}}return l(),WJ.exports=Pue(),WJ.exports}var Soe;function $ue(){if(Soe)return VM;Soe=1;var l=Lue(),u=ste(),p=Fue();function x(a){var d="https://react.dev/errors/"+a;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+a+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function A(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function R(a){var d=a,g=a;if(a.alternate)for(;d.return;)d=d.return;else{a=d;do d=a,(d.flags&4098)!==0&&(g=d.return),a=d.return;while(a)}return d.tag===3?g:null}function O(a){if(a.tag===13){var d=a.memoizedState;if(d===null&&(a=a.alternate,a!==null&&(d=a.memoizedState)),d!==null)return d.dehydrated}return null}function I(a){if(a.tag===31){var d=a.memoizedState;if(d===null&&(a=a.alternate,a!==null&&(d=a.memoizedState)),d!==null)return d.dehydrated}return null}function U(a){if(R(a)!==a)throw Error(x(188))}function V(a){var d=a.alternate;if(!d){if(d=R(a),d===null)throw Error(x(188));return d!==a?null:a}for(var g=a,C=d;;){var N=g.return;if(N===null)break;var $=N.alternate;if($===null){if(C=N.return,C!==null){g=C;continue}break}if(N.child===$.child){for($=N.child;$;){if($===g)return U(N),a;if($===C)return U(N),d;$=$.sibling}throw Error(x(188))}if(g.return!==C.return)g=N,C=$;else{for(var se=!1,fe=N.child;fe;){if(fe===g){se=!0,g=N,C=$;break}if(fe===C){se=!0,C=N,g=$;break}fe=fe.sibling}if(!se){for(fe=$.child;fe;){if(fe===g){se=!0,g=$,C=N;break}if(fe===C){se=!0,C=$,g=N;break}fe=fe.sibling}if(!se)throw Error(x(189))}}if(g.alternate!==C)throw Error(x(190))}if(g.tag!==3)throw Error(x(188));return g.stateNode.current===g?a:d}function Y(a){var d=a.tag;if(d===5||d===26||d===27||d===6)return a;for(a=a.child;a!==null;){if(d=Y(a),d!==null)return d;a=a.sibling}return null}var ee=Object.assign,ue=Symbol.for("react.element"),Ce=Symbol.for("react.transitional.element"),pe=Symbol.for("react.portal"),Fe=Symbol.for("react.fragment"),be=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),Oe=Symbol.for("react.consumer"),J=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),jt=Symbol.for("react.suspense"),Ke=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),ut=Symbol.for("react.lazy"),xn=Symbol.for("react.activity"),fn=Symbol.for("react.memo_cache_sentinel"),qe=Symbol.iterator;function Re(a){return a===null||typeof a!="object"?null:(a=qe&&a[qe]||a["@@iterator"],typeof a=="function"?a:null)}var Qo=Symbol.for("react.client.reference");function vt(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Qo?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case Fe:return"Fragment";case lt:return"Profiler";case be:return"StrictMode";case jt:return"Suspense";case Ke:return"SuspenseList";case xn:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case pe:return"Portal";case J:return a.displayName||"Context";case Oe:return(a._context.displayName||"Context")+".Consumer";case it:var d=a.render;return a=a.displayName,a||(a=d.displayName||d.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ie:return d=a.displayName||null,d!==null?d:vt(a.type)||"Memo";case ut:d=a._payload,a=a._init;try{return vt(a(d))}catch{}}return null}var Lt=Array.isArray,F=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Vt=p.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},Jn=[],an=-1;function le(a){return{current:a}}function Ve(a){0>an||(a.current=Jn[an],Jn[an]=null,an--)}function It(a,d){an++,Jn[an]=a.current,a.current=d}var Ne=le(null),mt=le(null),He=le(null),ft=le(null);function X(a,d){switch(It(He,d),It(mt,a),It(Ne,null),d.nodeType){case 9:case 11:a=(a=d.documentElement)&&(a=a.namespaceURI)?By(a):0;break;default:if(a=d.tagName,d=d.namespaceURI)d=By(d),a=xb(d,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Ve(Ne),It(Ne,a)}function $o(){Ve(Ne),Ve(mt),Ve(He)}function xo(a){a.memoizedState!==null&&It(ft,a);var d=Ne.current,g=xb(d,a.type);d!==g&&(It(mt,a),It(Ne,g))}function Mo(a){mt.current===a&&(Ve(Ne),Ve(mt)),ft.current===a&&(Ve(ft),cd._currentValue=at)}var Ho,js;function Be(a){if(Ho===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);Ho=d&&d[1]||"",js=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ho+a+js}var Ye=!1;function tt(a,d){if(!a||Ye)return"";Ye=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(d){var Dn=function(){throw Error()};if(Object.defineProperty(Dn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Dn,[])}catch(cn){var Qt=cn}Reflect.construct(a,[],Dn)}else{try{Dn.call()}catch(cn){Qt=cn}a.call(Dn.prototype)}}else{try{throw Error()}catch(cn){Qt=cn}(Dn=a())&&typeof Dn.catch=="function"&&Dn.catch(function(){})}}catch(cn){if(cn&&Qt&&typeof cn.stack=="string")return[cn.stack,Qt.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var $=C.DetermineComponentFrameRoot(),se=$[0],fe=$[1];if(se&&fe){var ct=se.split(`
`),Zt=fe.split(`
`);for(N=C=0;C<ct.length&&!ct[C].includes("DetermineComponentFrameRoot");)C++;for(;N<Zt.length&&!Zt[N].includes("DetermineComponentFrameRoot");)N++;if(C===ct.length||N===Zt.length)for(C=ct.length-1,N=Zt.length-1;1<=C&&0<=N&&ct[C]!==Zt[N];)N--;for(;1<=C&&0<=N;C--,N--)if(ct[C]!==Zt[N]){if(C!==1||N!==1)do if(C--,N--,0>N||ct[C]!==Zt[N]){var bn=`
`+ct[C].replace(" at new "," at ");return a.displayName&&bn.includes("<anonymous>")&&(bn=bn.replace("<anonymous>",a.displayName)),bn}while(1<=C&&0<=N);break}}}finally{Ye=!1,Error.prepareStackTrace=g}return(g=a?a.displayName||a.name:"")?Be(g):""}function Le(a,d){switch(a.tag){case 26:case 27:case 5:return Be(a.type);case 16:return Be("Lazy");case 13:return a.child!==d&&d!==null?Be("Suspense Fallback"):Be("Suspense");case 19:return Be("SuspenseList");case 0:case 15:return tt(a.type,!1);case 11:return tt(a.type.render,!1);case 1:return tt(a.type,!0);case 31:return Be("Activity");default:return""}}function Je(a){try{var d="",g=null;do d+=Le(a,g),g=a,a=a.return;while(a);return d}catch(C){return`
Error generating stack: `+C.message+`
`+C.stack}}var Nt=Object.prototype.hasOwnProperty,xt=l.unstable_scheduleCallback,Un=l.unstable_cancelCallback,Dt=l.unstable_shouldYield,Pe=l.unstable_requestPaint,Tt=l.unstable_now,sn=l.unstable_getCurrentPriorityLevel,Zn=l.unstable_ImmediatePriority,Yo=l.unstable_UserBlockingPriority,Jo=l.unstable_NormalPriority,Do=l.unstable_LowPriority,mr=l.unstable_IdlePriority,zo=l.log,os=l.unstable_setDisableYieldValue,Vs=null,Es=null;function Xs(a){if(typeof zo=="function"&&os(a),Es&&typeof Es.setStrictMode=="function")try{Es.setStrictMode(Vs,a)}catch{}}var gs=Math.clz32?Math.clz32:$r,Wr=Math.log,Ts=Math.LN2;function $r(a){return a>>>=0,a===0?32:31-(Wr(a)/Ts|0)|0}var Ma=256,Hn=262144,ts=4194304;function Oo(a){var d=a&42;if(d!==0)return d;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ui(a,d,g){var C=a.pendingLanes;if(C===0)return 0;var N=0,$=a.suspendedLanes,se=a.pingedLanes;a=a.warmLanes;var fe=C&134217727;return fe!==0?(C=fe&~$,C!==0?N=Oo(C):(se&=fe,se!==0?N=Oo(se):g||(g=fe&~a,g!==0&&(N=Oo(g))))):(fe=C&~$,fe!==0?N=Oo(fe):se!==0?N=Oo(se):g||(g=C&~a,g!==0&&(N=Oo(g)))),N===0?0:d!==0&&d!==N&&(d&$)===0&&($=N&-N,g=d&-d,$>=g||$===32&&(g&4194048)!==0)?d:N}function Ba(a,d){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&d)===0}function Mn(a,d){switch(a){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wt(){var a=ts;return ts<<=1,(ts&62914560)===0&&(ts=4194304),a}function Kt(a){for(var d=[],g=0;31>g;g++)d.push(a);return d}function Yn(a,d){a.pendingLanes|=d,d!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Gn(a,d,g,C,N,$){var se=a.pendingLanes;a.pendingLanes=g,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=g,a.entangledLanes&=g,a.errorRecoveryDisabledLanes&=g,a.shellSuspendCounter=0;var fe=a.entanglements,ct=a.expirationTimes,Zt=a.hiddenUpdates;for(g=se&~g;0<g;){var bn=31-gs(g),Dn=1<<bn;fe[bn]=0,ct[bn]=-1;var Qt=Zt[bn];if(Qt!==null)for(Zt[bn]=null,bn=0;bn<Qt.length;bn++){var cn=Qt[bn];cn!==null&&(cn.lane&=-536870913)}g&=~Dn}C!==0&&vo(a,C,0),$!==0&&N===0&&a.tag!==0&&(a.suspendedLanes|=$&~(se&~d))}function vo(a,d,g){a.pendingLanes|=d,a.suspendedLanes&=~d;var C=31-gs(d);a.entangledLanes|=d,a.entanglements[C]=a.entanglements[C]|1073741824|g&261930}function No(a,d){var g=a.entangledLanes|=d;for(a=a.entanglements;g;){var C=31-gs(g),N=1<<C;N&d|a[C]&d&&(a[C]|=d),g&=~N}}function Qn(a,d){var g=d&-d;return g=(g&42)!==0?1:ls(g),(g&(a.suspendedLanes|d))!==0?0:g}function ls(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function La(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function sl(){var a=Vt.p;return a!==0?a:(a=window.event,a===void 0?32:_b(a.type))}function gi(a,d){var g=Vt.p;try{return Vt.p=a,d()}finally{Vt.p=g}}var Pn=Math.random().toString(36).slice(2),er="__reactFiber$"+Pn,tr="__reactProps$"+Pn,jl="__reactContainer$"+Pn,Ie="__reactEvents$"+Pn,Ue="__reactListeners$"+Pn,nt="__reactHandles$"+Pn,gn="__reactResources$"+Pn,Ao="__reactMarker$"+Pn;function co(a){delete a[er],delete a[tr],delete a[Ie],delete a[Ue],delete a[nt]}function Zo(a){var d=a[er];if(d)return d;for(var g=a.parentNode;g;){if(d=g[jl]||g[er]){if(g=d.alternate,d.child!==null||g!==null&&g.child!==null)for(a=ya(a);a!==null;){if(g=a[er])return g;a=ya(a)}return d}a=g,g=a.parentNode}return null}function us(a){if(a=a[er]||a[jl]){var d=a.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return a}return null}function ko(a){var d=a.tag;if(d===5||d===26||d===27||d===6)return a.stateNode;throw Error(x(33))}function Qs(a){var d=a[gn];return d||(d=a[gn]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function me(a){a[Ao]=!0}var je=new Set,Ut={};function wn(a,d){Gt(a,d),Gt(a+"Capture",d)}function Gt(a,d){for(Ut[a]=d,a=0;a<d.length;a++)je.add(d[a])}var wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oo={},Bn={};function Uo(a){return Nt.call(Bn,a)?!0:Nt.call(oo,a)?!1:wo.test(a)?Bn[a]=!0:(oo[a]=!0,!1)}function xs(a,d,g){if(Uo(d))if(g===null)a.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":a.removeAttribute(d);return;case"boolean":var C=d.toLowerCase().slice(0,5);if(C!=="data-"&&C!=="aria-"){a.removeAttribute(d);return}}a.setAttribute(d,""+g)}}function As(a,d,g){if(g===null)a.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttribute(d,""+g)}}function ks(a,d,g,C){if(C===null)a.removeAttribute(g);else{switch(typeof C){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(g);return}a.setAttributeNS(d,g,""+C)}}function sa(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Sa(a){var d=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Qf(a,d,g){var C=Object.getOwnPropertyDescriptor(a.constructor.prototype,d);if(!a.hasOwnProperty(d)&&typeof C<"u"&&typeof C.get=="function"&&typeof C.set=="function"){var N=C.get,$=C.set;return Object.defineProperty(a,d,{configurable:!0,get:function(){return N.call(this)},set:function(se){g=""+se,$.call(this,se)}}),Object.defineProperty(a,d,{enumerable:C.enumerable}),{getValue:function(){return g},setValue:function(se){g=""+se},stopTracking:function(){a._valueTracker=null,delete a[d]}}}}function Tr(a){if(!a._valueTracker){var d=Sa(a)?"checked":"value";a._valueTracker=Qf(a,d,""+a[d])}}function Fs(a){if(!a)return!1;var d=a._valueTracker;if(!d)return!0;var g=d.getValue(),C="";return a&&(C=Sa(a)?a.checked?"true":"false":a.value),a=C,a!==g?(d.setValue(a),!0):!1}function ir(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Vi=/[\n"\\]/g;function Ci(a){return a.replace(Vi,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Ir(a,d,g,C,N,$,se,fe){a.name="",se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?a.type=se:a.removeAttribute("type"),d!=null?se==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+sa(d)):a.value!==""+sa(d)&&(a.value=""+sa(d)):se!=="submit"&&se!=="reset"||a.removeAttribute("value"),d!=null?Si(a,se,sa(d)):g!=null?Si(a,se,sa(g)):C!=null&&a.removeAttribute("value"),N==null&&$!=null&&(a.defaultChecked=!!$),N!=null&&(a.checked=N&&typeof N!="function"&&typeof N!="symbol"),fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"?a.name=""+sa(fe):a.removeAttribute("name")}function Co(a,d,g,C,N,$,se,fe){if($!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(a.type=$),d!=null||g!=null){if(!($!=="submit"&&$!=="reset"||d!=null)){Tr(a);return}g=g!=null?""+sa(g):"",d=d!=null?""+sa(d):g,fe||d===a.value||(a.value=d),a.defaultValue=d}C=C??N,C=typeof C!="function"&&typeof C!="symbol"&&!!C,a.checked=fe?a.checked:!!C,a.defaultChecked=!!C,se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"&&(a.name=se),Tr(a)}function Si(a,d,g){d==="number"&&ir(a.ownerDocument)===a||a.defaultValue===""+g||(a.defaultValue=""+g)}function oi(a,d,g,C){if(a=a.options,d){d={};for(var N=0;N<g.length;N++)d["$"+g[N]]=!0;for(g=0;g<a.length;g++)N=d.hasOwnProperty("$"+a[g].value),a[g].selected!==N&&(a[g].selected=N),N&&C&&(a[g].defaultSelected=!0)}else{for(g=""+sa(g),d=null,N=0;N<a.length;N++){if(a[N].value===g){a[N].selected=!0,C&&(a[N].defaultSelected=!0);return}d!==null||a[N].disabled||(d=a[N])}d!==null&&(d.selected=!0)}}function Jr(a,d,g){if(d!=null&&(d=""+sa(d),d!==a.value&&(a.value=d),g==null)){a.defaultValue!==d&&(a.defaultValue=d);return}a.defaultValue=g!=null?""+sa(g):""}function Sf(a,d,g,C){if(d==null){if(C!=null){if(g!=null)throw Error(x(92));if(Lt(C)){if(1<C.length)throw Error(x(93));C=C[0]}g=C}g==null&&(g=""),d=g}g=sa(d),a.defaultValue=g,C=a.textContent,C===g&&C!==""&&C!==null&&(a.value=C),Tr(a)}function uc(a,d){if(d){var g=a.firstChild;if(g&&g===a.lastChild&&g.nodeType===3){g.nodeValue=d;return}}a.textContent=d}var Hr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cu(a,d,g){var C=d.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?C?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="":C?a.setProperty(d,g):typeof g!="number"||g===0||Hr.has(d)?d==="float"?a.cssFloat=g:a[d]=(""+g).trim():a[d]=g+"px"}function dc(a,d,g){if(d!=null&&typeof d!="object")throw Error(x(62));if(a=a.style,g!=null){for(var C in g)!g.hasOwnProperty(C)||d!=null&&d.hasOwnProperty(C)||(C.indexOf("--")===0?a.setProperty(C,""):C==="float"?a.cssFloat="":a[C]="");for(var N in d)C=d[N],d.hasOwnProperty(N)&&g[N]!==C&&Cu(a,N,C)}else for(var $ in d)d.hasOwnProperty($)&&Cu(a,$,d[$])}function Ef(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var An=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Su=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ri(a){return Su.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function pi(){}var qr=null;function Kd(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ei=null,rl=null;function Tf(a){var d=us(a);if(d&&(a=d.stateNode)){var g=a[tr]||null;e:switch(a=d.stateNode,d.type){case"input":if(Ir(a,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),d=g.name,g.type==="radio"&&d!=null){for(g=a;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Ci(""+d)+'"][type="radio"]'),d=0;d<g.length;d++){var C=g[d];if(C!==a&&C.form===a.form){var N=C[tr]||null;if(!N)throw Error(x(90));Ir(C,N.value,N.defaultValue,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name)}}for(d=0;d<g.length;d++)C=g[d],C.form===a.form&&Fs(C)}break e;case"textarea":Jr(a,g.value,g.defaultValue);break e;case"select":d=g.value,d!=null&&oi(a,!!g.multiple,d,!1)}}}var Jf=!1;function Eu(a,d,g){if(Jf)return a(d,g);Jf=!0;try{var C=a(d);return C}finally{if(Jf=!1,(Ei!==null||rl!==null)&&(Vp(),Ei&&(d=Ei,a=rl,rl=Ei=null,Tf(d),a)))for(d=0;d<a.length;d++)Tf(a[d])}}function Yd(a,d){var g=a.stateNode;if(g===null)return null;var C=g[tr]||null;if(C===null)return null;g=C[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(a=a.type,C=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!C;break e;default:a=!1}if(a)return null;if(g&&typeof g!="function")throw Error(x(231,d,typeof g));return g}var Dl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wc=!1;if(Dl)try{var qc={};Object.defineProperty(qc,"passive",{get:function(){Wc=!0}}),window.addEventListener("test",qc,qc),window.removeEventListener("test",qc,qc)}catch{Wc=!1}var mn=null,Tu=null,yd=null;function Vl(){if(yd)return yd;var a,d=Tu,g=d.length,C,N="value"in mn?mn.value:mn.textContent,$=N.length;for(a=0;a<g&&d[a]===N[a];a++);var se=g-a;for(C=1;C<=se&&d[g-C]===N[$-C];C++);return yd=N.slice(a,1<C?1-C:void 0)}function al(a){var d=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&d===13&&(a=13)):a=d,a===10&&(a=13),32<=a||a===13?a:0}function Uu(){return!0}function Ui(){return!1}function si(a){function d(g,C,N,$,se){this._reactName=g,this._targetInst=N,this.type=C,this.nativeEvent=$,this.target=se,this.currentTarget=null;for(var fe in a)a.hasOwnProperty(fe)&&(g=a[fe],this[fe]=g?g($):$[fe]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?Uu:Ui,this.isPropagationStopped=Ui,this}return ee(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Uu)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Uu)},persist:function(){},isPersistent:Uu}),d}var _l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fc=si(_l),qs=ee({},_l,{view:0,detail:0}),Af=si(qs),te,ve,$e,Rt=ee({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mi,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==$e&&($e&&a.type==="mousemove"?(te=a.screenX-$e.screenX,ve=a.screenY-$e.screenY):ve=te=0,$e=a),te)},movementY:function(a){return"movementY"in a?a.movementY:ve}}),qn=si(Rt),ps=ee({},Rt,{dataTransfer:0}),lr=si(ps),Va=ee({},qs,{relatedTarget:0}),Ti=si(Va),Ol=ee({},_l,{animationName:0,elapsedTime:0,pseudoElement:0}),oe=si(Ol),Ae=ee({},_l,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Qe=si(Ae),Et=ee({},_l,{data:0}),pn=si(Et),Wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Os(a){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(a):(a=Gs[a])?!!d[a]:!1}function Mi(){return Os}var Ea=ee({},qs,{key:function(a){if(a.key){var d=Wn[a.key]||a.key;if(d!=="Unidentified")return d}return a.type==="keypress"?(a=al(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Po[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mi,charCode:function(a){return a.type==="keypress"?al(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?al(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Xd=si(Ea),Om=ee({},Rt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kf=si(Om),Gc=ee({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mi}),R0=si(Gc),M0=ee({},_l,{propertyName:0,elapsedTime:0,pseudoElement:0}),ye=si(M0),Me=ee({},Rt,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ht=si(Me),Xt=ee({},_l,{newState:0,oldState:0}),bo=si(Xt),bs=[9,13,27,32],Ta=Dl&&"CompositionEvent"in window,il=null;Dl&&"documentMode"in document&&(il=document.documentMode);var Zi=Dl&&"TextEvent"in window&&!il,Ul=Dl&&(!Ta||il&&8<il&&11>=il),Qd=" ",Zl=!1;function Nm(a,d){switch(a){case"keyup":return bs.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ll=!1;function Jd(a,d){switch(a){case"compositionend":return Wl(d);case"keypress":return d.which!==32?null:(Zl=!0,Qd);case"textInput":return a=d.data,a===Qd&&Zl?null:a;default:return null}}function _c(a,d){if(ll)return a==="compositionend"||!Ta&&Nm(a,d)?(a=Vl(),yd=Tu=mn=null,ll=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Ul&&d.locale!=="ko"?null:d.data;default:return null}}var ds={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vh(a){var d=a&&a.nodeName&&a.nodeName.toLowerCase();return d==="input"?!!ds[a.type]:d==="textarea"}function pp(a,d,g,C){Ei?rl?rl.push(C):rl=[C]:Ei=C,d=Hf(d,"onChange"),0<d.length&&(g=new fc("onChange","change",null,g,C),a.push({event:g,listeners:d}))}var Aa=null,B0=null;function V1(a){Vh(a,0)}function U1(a){var d=ko(a);if(Fs(d))return a}function Z1(a,d){if(a==="change")return d}var Ua=!1;if(Dl){var em;if(Dl){var W1="oninput"in document;if(!W1){var ln=document.createElement("div");ln.setAttribute("oninput","return;"),W1=typeof ln.oninput=="function"}em=W1}else em=!1;Ua=em&&(!document.documentMode||9<document.documentMode)}function Kc(){Aa&&(Aa.detachEvent("onpropertychange",bg),B0=Aa=null)}function bg(a){if(a.propertyName==="value"&&U1(B0)){var d=[];pp(d,B0,a,Kd(a)),Eu(V1,d)}}function vd(a,d,g){a==="focusin"?(Kc(),Aa=d,B0=g,Aa.attachEvent("onpropertychange",bg)):a==="focusout"&&Kc()}function yg(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return U1(B0)}function q1(a,d){if(a==="click")return U1(d)}function De(a,d){if(a==="input"||a==="change")return U1(d)}function Yc(a,d){return a===d&&(a!==0||1/a===1/d)||a!==a&&d!==d}var vl=typeof Object.is=="function"?Object.is:Yc;function xh(a,d){if(vl(a,d))return!0;if(typeof a!="object"||a===null||typeof d!="object"||d===null)return!1;var g=Object.keys(a),C=Object.keys(d);if(g.length!==C.length)return!1;for(C=0;C<g.length;C++){var N=g[C];if(!Nt.call(d,N)||!vl(a[N],d[N]))return!1}return!0}function wh(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Nl(a,d){var g=wh(a);a=0;for(var C;g;){if(g.nodeType===3){if(C=a+g.textContent.length,a<=d&&C>=d)return{node:g,offset:d-a};a=C}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=wh(g)}}function Oc(a,d){return a&&d?a===d?!0:a&&a.nodeType===3?!1:d&&d.nodeType===3?Oc(a,d.parentNode):"contains"in a?a.contains(d):a.compareDocumentPosition?!!(a.compareDocumentPosition(d)&16):!1:!1}function L0(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var d=ir(a.document);d instanceof a.HTMLIFrameElement;){try{var g=typeof d.contentWindow.location.href=="string"}catch{g=!1}if(g)a=d.contentWindow;else break;d=ir(a.document)}return d}function bp(a){var d=a&&a.nodeName&&a.nodeName.toLowerCase();return d&&(d==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||d==="textarea"||a.contentEditable==="true")}var yp=Dl&&"documentMode"in document&&11>=document.documentMode,xl=null,vp=null,Au=null,Ch=!1;function P0(a,d,g){var C=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Ch||xl==null||xl!==ir(C)||(C=xl,"selectionStart"in C&&bp(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),Au&&xh(Au,C)||(Au=C,C=Hf(vp,"onSelect"),0<C.length&&(d=new fc("onSelect","select",null,d,g),a.push({event:d,listeners:C}),d.target=xl)))}function wl(a,d){var g={};return g[a.toLowerCase()]=d.toLowerCase(),g["Webkit"+a]="webkit"+d,g["Moz"+a]="moz"+d,g}var Rm={animationend:wl("Animation","AnimationEnd"),animationiteration:wl("Animation","AnimationIteration"),animationstart:wl("Animation","AnimationStart"),transitionrun:wl("Transition","TransitionRun"),transitionstart:wl("Transition","TransitionStart"),transitioncancel:wl("Transition","TransitionCancel"),transitionend:wl("Transition","TransitionEnd")},Zu={},tm={};Dl&&(tm=document.createElement("div").style,"AnimationEvent"in window||(delete Rm.animationend.animation,delete Rm.animationiteration.animation,delete Rm.animationstart.animation),"TransitionEvent"in window||delete Rm.transitionend.transition);function ss(a){if(Zu[a])return Zu[a];if(!Rm[a])return a;var d=Rm[a],g;for(g in d)if(d.hasOwnProperty(g)&&g in tm)return Zu[a]=d[g];return a}var mc=ss("animationend"),Sh=ss("animationiteration"),G1=ss("animationstart"),rs=ss("transitionrun"),nm=ss("transitionstart"),Ai=ss("transitioncancel"),xd=ss("transitionend"),wd=new Map,fa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fa.push("scrollEnd");function ws(a,d){wd.set(a,d),wn(d,[a])}var F0=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Cd=[],Pa=0,ku=0;function Xc(){for(var a=Pa,d=ku=Pa=0;d<a;){var g=Cd[d];Cd[d++]=null;var C=Cd[d];Cd[d++]=null;var N=Cd[d];Cd[d++]=null;var $=Cd[d];if(Cd[d++]=null,C!==null&&N!==null){var se=C.pending;se===null?N.next=N:(N.next=se.next,se.next=N),C.pending=N}$!==0&&Qc(g,N,$)}}function ri(a,d,g,C){Cd[Pa++]=a,Cd[Pa++]=d,Cd[Pa++]=g,Cd[Pa++]=C,ku|=C,a.lanes|=C,a=a.alternate,a!==null&&(a.lanes|=C)}function Wu(a,d,g,C){return ri(a,d,g,C),cl(a)}function Wi(a,d){return ri(a,null,null,d),cl(a)}function Qc(a,d,g){a.lanes|=g;var C=a.alternate;C!==null&&(C.lanes|=g);for(var N=!1,$=a.return;$!==null;)$.childLanes|=g,C=$.alternate,C!==null&&(C.childLanes|=g),$.tag===22&&(a=$.stateNode,a===null||a._visibility&1||(N=!0)),a=$,$=$.return;return a.tag===3?($=a.stateNode,N&&d!==null&&(N=31-gs(g),a=$.hiddenUpdates,C=a[N],C===null?a[N]=[d]:C.push(d),d.lane=g|536870912),$):null}function cl(a){if(50<jp)throw jp=0,K0=null,Error(x(185));for(var d=a.return;d!==null;)a=d,d=a.return;return a.tag===3?a.stateNode:null}var $s={};function qu(a,d,g,C){this.tag=a,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Za(a,d,g,C){return new qu(a,d,g,C)}function qi(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Fa(a,d){var g=a.alternate;return g===null?(g=Za(a.tag,d,a.key,a.mode),g.elementType=a.elementType,g.type=a.type,g.stateNode=a.stateNode,g.alternate=a,a.alternate=g):(g.pendingProps=d,g.type=a.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=a.flags&65011712,g.childLanes=a.childLanes,g.lanes=a.lanes,g.child=a.child,g.memoizedProps=a.memoizedProps,g.memoizedState=a.memoizedState,g.updateQueue=a.updateQueue,d=a.dependencies,g.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},g.sibling=a.sibling,g.index=a.index,g.ref=a.ref,g.refCleanup=a.refCleanup,g}function ma(a,d){a.flags&=65011714;var g=a.alternate;return g===null?(a.childLanes=0,a.lanes=d,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=g.childLanes,a.lanes=g.lanes,a.child=g.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=g.memoizedProps,a.memoizedState=g.memoizedState,a.updateQueue=g.updateQueue,a.type=g.type,d=g.dependencies,a.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),a}function Jc(a,d,g,C,N,$){var se=0;if(C=a,typeof a=="function")qi(a)&&(se=1);else if(typeof a=="string")se=ym(a,g,Ne.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case xn:return a=Za(31,g,d,N),a.elementType=xn,a.lanes=$,a;case Fe:return ai(g.children,N,$,d);case be:se=8,N|=24;break;case lt:return a=Za(12,g,d,N|2),a.elementType=lt,a.lanes=$,a;case jt:return a=Za(13,g,d,N),a.elementType=jt,a.lanes=$,a;case Ke:return a=Za(19,g,d,N),a.elementType=Ke,a.lanes=$,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case J:se=10;break e;case Oe:se=9;break e;case it:se=11;break e;case ie:se=14;break e;case ut:se=16,C=null;break e}se=29,g=Error(x(130,a===null?"null":typeof a,"")),C=null}return d=Za(se,g,d,N),d.elementType=a,d.type=C,d.lanes=$,d}function ai(a,d,g,C){return a=Za(7,a,C,d),a.lanes=g,a}function ii(a,d,g){return a=Za(6,a,null,d),a.lanes=g,a}function om(a){var d=Za(18,null,null,0);return d.stateNode=a,d}function xp(a,d,g){return d=Za(4,a.children!==null?a.children:[],a.key,d),d.lanes=g,d.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},d}var wp=new WeakMap;function ra(a,d){if(typeof a=="object"&&a!==null){var g=wp.get(a);return g!==void 0?g:(d={value:a,source:d,stack:Je(d)},wp.set(a,d),d)}return{value:a,source:d,stack:Je(d)}}var Mm=[],Eh=0,Df=null,uo=0,Du=[],ea=0,li=null,$a=1,cr="";function Nc(a,d){Mm[Eh++]=uo,Mm[Eh++]=Df,Df=a,uo=d}function Cp(a,d,g){Du[ea++]=$a,Du[ea++]=cr,Du[ea++]=li,li=a;var C=$a;a=cr;var N=32-gs(C)-1;C&=~(1<<N),g+=1;var $=32-gs(d)+N;if(30<$){var se=N-N%5;$=(C&(1<<se)-1).toString(32),C>>=se,N-=se,$a=1<<32-gs(d)+N|g<<N|C,cr=$+a}else $a=1<<$|g<<N|C,cr=a}function eu(a){a.return!==null&&(Nc(a,1),Cp(a,1,0))}function Gu(a){for(;a===Df;)Df=Mm[--Eh],Mm[Eh]=null,uo=Mm[--Eh],Mm[Eh]=null;for(;a===li;)li=Du[--ea],Du[ea]=null,cr=Du[--ea],Du[ea]=null,$a=Du[--ea],Du[ea]=null}function vg(a,d){Du[ea++]=$a,Du[ea++]=cr,Du[ea++]=li,$a=d.id,cr=d.overflow,li=a}var Cl=null,Ia=null,Js=!1,Rl=null,_u=!1,ul=Error(x(519));function Sl(a){var d=Error(x(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hc(ra(d,a)),ul}function ef(a){var d=a.stateNode,g=a.type,C=a.memoizedProps;switch(d[er]=a,d[tr]=C,g){case"dialog":Rr("cancel",d),Rr("close",d);break;case"iframe":case"object":case"embed":Rr("load",d);break;case"video":case"audio":for(g=0;g<yb.length;g++)Rr(yb[g],d);break;case"source":Rr("error",d);break;case"img":case"image":case"link":Rr("error",d),Rr("load",d);break;case"details":Rr("toggle",d);break;case"input":Rr("invalid",d),Co(d,C.value,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name,!0);break;case"select":Rr("invalid",d);break;case"textarea":Rr("invalid",d),Sf(d,C.value,C.defaultValue,C.children)}g=C.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||d.textContent===""+g||C.suppressHydrationWarning===!0||Ig(d.textContent,g)?(C.popover!=null&&(Rr("beforetoggle",d),Rr("toggle",d)),C.onScroll!=null&&Rr("scroll",d),C.onScrollEnd!=null&&Rr("scrollend",d),C.onClick!=null&&(d.onclick=pi),d=!0):d=!1,d||Sl(a,!0)}function Is(a){for(Cl=a.return;Cl;)switch(Cl.tag){case 5:case 31:case 13:_u=!1;return;case 27:case 3:_u=!0;return;default:Cl=Cl.return}}function Ml(a){if(a!==Cl)return!1;if(!Js)return Is(a),Js=!0,!1;var d=a.tag,g;if((g=d!==3&&d!==27)&&((g=d===5)&&(g=a.type,g=!(g!=="form"&&g!=="button")||Zh(a.type,a.memoizedProps)),g=!g),g&&Ia&&Sl(a),Is(a),d===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(x(317));Ia=kl(a)}else if(d===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(x(317));Ia=kl(a)}else d===27?(d=Ia,ld(a.type)?(a=Al,Al=null,Ia=a):Ia=d):Ia=Cl?Kr(a.stateNode.nextSibling):null;return!0}function Bm(){Ia=Cl=null,Js=!1}function Th(){var a=Rl;return a!==null&&(od===null?od=a:od.push.apply(od,a),Rl=null),a}function hc(a){Rl===null?Rl=[a]:Rl.push(a)}var So=le(null),Or=null,Wa=null;function yr(a,d,g){It(So,d._currentValue),d._currentValue=g}function dl(a){a._currentValue=So.current,Ve(So)}function Gr(a,d,g){for(;a!==null;){var C=a.alternate;if((a.childLanes&d)!==d?(a.childLanes|=d,C!==null&&(C.childLanes|=d)):C!==null&&(C.childLanes&d)!==d&&(C.childLanes|=d),a===g)break;a=a.return}}function ci(a,d,g,C){var N=a.child;for(N!==null&&(N.return=a);N!==null;){var $=N.dependencies;if($!==null){var se=N.child;$=$.firstContext;e:for(;$!==null;){var fe=$;$=N;for(var ct=0;ct<d.length;ct++)if(fe.context===d[ct]){$.lanes|=g,fe=$.alternate,fe!==null&&(fe.lanes|=g),Gr($.return,g,a),C||(se=null);break e}$=fe.next}}else if(N.tag===18){if(se=N.return,se===null)throw Error(x(341));se.lanes|=g,$=se.alternate,$!==null&&($.lanes|=g),Gr(se,g,a),se=null}else se=N.child;if(se!==null)se.return=N;else for(se=N;se!==null;){if(se===a){se=null;break}if(N=se.sibling,N!==null){N.return=se.return,se=N;break}se=se.return}N=se}}function tf(a,d,g,C){a=null;for(var N=d,$=!1;N!==null;){if(!$){if((N.flags&524288)!==0)$=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var se=N.alternate;if(se===null)throw Error(x(387));if(se=se.memoizedProps,se!==null){var fe=N.type;vl(N.pendingProps.value,se.value)||(a!==null?a.push(fe):a=[fe])}}else if(N===ft.current){if(se=N.alternate,se===null)throw Error(x(387));se.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(a!==null?a.push(cd):a=[cd])}N=N.return}a!==null&&ci(d,a,g,C),d.flags|=262144}function cs(a){for(a=a.firstContext;a!==null;){if(!vl(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ql(a){Or=a,Wa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Cs(a){return bi(Or,a)}function Gl(a,d){return Or===null&&ql(a),bi(a,d)}function bi(a,d){var g=d._currentValue;if(d={context:d,memoizedValue:g,next:null},Wa===null){if(a===null)throw Error(x(308));Wa=d,a.dependencies={lanes:0,firstContext:d},a.flags|=524288}else Wa=Wa.next=d;return g}var ki=typeof AbortController<"u"?AbortController:function(){var a=[],d=this.signal={aborted:!1,addEventListener:function(g,C){a.push(C)}};this.abort=function(){d.aborted=!0,a.forEach(function(g){return g()})}},_f=l.unstable_scheduleCallback,xg=l.unstable_NormalPriority,qa={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Of(){return{controller:new ki,data:new Map,refCount:0}}function Sd(a){a.refCount--,a.refCount===0&&_f(xg,function(){a.controller.abort()})}var Bi=null,nf=0,wg=0,Ku=null;function hr(a,d){if(Bi===null){var g=Bi=[];nf=0,wg=$d(),Ku={status:"pending",value:void 0,then:function(C){g.push(C)}}}return nf++,d.then($0,$0),d}function $0(){if(--nf===0&&Bi!==null){Ku!==null&&(Ku.status="fulfilled");var a=Bi;Bi=null,wg=0,Ku=null;for(var d=0;d<a.length;d++)(0,a[d])()}}function Cg(a,d){var g=[],C={status:"pending",value:null,reason:null,then:function(N){g.push(N)}};return a.then(function(){C.status="fulfilled",C.value=d;for(var N=0;N<g.length;N++)(0,g[N])(d)},function(N){for(C.status="rejected",C.reason=N,N=0;N<g.length;N++)(0,g[N])(void 0)}),C}var Bl=F.S;F.S=function(a,d){fb=Tt(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&hr(a,d),Bl!==null&&Bl(a,d)};var fl=le(null);function ka(){var a=fl.current;return a!==null?a:ba.pooledCache}function Ed(a,d){d===null?It(fl,fl.current):It(fl,d.pool)}function di(){var a=ka();return a===null?null:{parent:qa._currentValue,pool:a}}var of=Error(x(460)),Sg=Error(x(474)),Eg=Error(x(542)),K1={then:function(){}};function Td(a){return a=a.status,a==="fulfilled"||a==="rejected"}function fy(a,d,g){switch(g=a[g],g===void 0?a.push(d):g!==d&&(d.then(pi,pi),d=g),d.status){case"fulfilled":return d.value;case"rejected":throw a=d.reason,Ah(a),a;default:if(typeof d.status=="string")d.then(pi,pi);else{if(a=ba,a!==null&&100<a.shellSuspendCounter)throw Error(x(482));a=d,a.status="pending",a.then(function(C){if(d.status==="pending"){var N=d;N.status="fulfilled",N.value=C}},function(C){if(d.status==="pending"){var N=d;N.status="rejected",N.reason=C}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw a=d.reason,Ah(a),a}throw gc=d,of}}function sm(a){try{var d=a._init;return d(a._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(gc=g,of):g}}var gc=null;function Y1(){if(gc===null)throw Error(x(459));var a=gc;return gc=null,a}function Ah(a){if(a===of||a===Eg)throw Error(x(483))}var Nf=null,rm=0;function Tg(a){var d=rm;return rm+=1,Nf===null&&(Nf=[]),fy(Nf,a,d)}function Ag(a,d){d=d.props.ref,a.ref=d!==void 0?d:null}function tu(a,d){throw d.$$typeof===ue?Error(x(525)):(a=Object.prototype.toString.call(d),Error(x(31,a==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":a)))}function my(a){function d(et,gt){if(a){var zt=et.deletions;zt===null?(et.deletions=[gt],et.flags|=16):zt.push(gt)}}function g(et,gt){if(!a)return null;for(;gt!==null;)d(et,gt),gt=gt.sibling;return null}function C(et){for(var gt=new Map;et!==null;)et.key!==null?gt.set(et.key,et):gt.set(et.index,et),et=et.sibling;return gt}function N(et,gt){return et=Fa(et,gt),et.index=0,et.sibling=null,et}function $(et,gt,zt){return et.index=zt,a?(zt=et.alternate,zt!==null?(zt=zt.index,zt<gt?(et.flags|=67108866,gt):zt):(et.flags|=67108866,gt)):(et.flags|=1048576,gt)}function se(et){return a&&et.alternate===null&&(et.flags|=67108866),et}function fe(et,gt,zt,hn){return gt===null||gt.tag!==6?(gt=ii(zt,et.mode,hn),gt.return=et,gt):(gt=N(gt,zt),gt.return=et,gt)}function ct(et,gt,zt,hn){var ms=zt.type;return ms===Fe?bn(et,gt,zt.props.children,hn,zt.key):gt!==null&&(gt.elementType===ms||typeof ms=="object"&&ms!==null&&ms.$$typeof===ut&&sm(ms)===gt.type)?(gt=N(gt,zt.props),Ag(gt,zt),gt.return=et,gt):(gt=Jc(zt.type,zt.key,zt.props,null,et.mode,hn),Ag(gt,zt),gt.return=et,gt)}function Zt(et,gt,zt,hn){return gt===null||gt.tag!==4||gt.stateNode.containerInfo!==zt.containerInfo||gt.stateNode.implementation!==zt.implementation?(gt=xp(zt,et.mode,hn),gt.return=et,gt):(gt=N(gt,zt.children||[]),gt.return=et,gt)}function bn(et,gt,zt,hn,ms){return gt===null||gt.tag!==7?(gt=ai(zt,et.mode,hn,ms),gt.return=et,gt):(gt=N(gt,zt),gt.return=et,gt)}function Dn(et,gt,zt){if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return gt=ii(""+gt,et.mode,zt),gt.return=et,gt;if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case Ce:return zt=Jc(gt.type,gt.key,gt.props,null,et.mode,zt),Ag(zt,gt),zt.return=et,zt;case pe:return gt=xp(gt,et.mode,zt),gt.return=et,gt;case ut:return gt=sm(gt),Dn(et,gt,zt)}if(Lt(gt)||Re(gt))return gt=ai(gt,et.mode,zt,null),gt.return=et,gt;if(typeof gt.then=="function")return Dn(et,Tg(gt),zt);if(gt.$$typeof===J)return Dn(et,Gl(et,gt),zt);tu(et,gt)}return null}function Qt(et,gt,zt,hn){var ms=gt!==null?gt.key:null;if(typeof zt=="string"&&zt!==""||typeof zt=="number"||typeof zt=="bigint")return ms!==null?null:fe(et,gt,""+zt,hn);if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case Ce:return zt.key===ms?ct(et,gt,zt,hn):null;case pe:return zt.key===ms?Zt(et,gt,zt,hn):null;case ut:return zt=sm(zt),Qt(et,gt,zt,hn)}if(Lt(zt)||Re(zt))return ms!==null?null:bn(et,gt,zt,hn,null);if(typeof zt.then=="function")return Qt(et,gt,Tg(zt),hn);if(zt.$$typeof===J)return Qt(et,gt,Gl(et,zt),hn);tu(et,zt)}return null}function cn(et,gt,zt,hn,ms){if(typeof hn=="string"&&hn!==""||typeof hn=="number"||typeof hn=="bigint")return et=et.get(zt)||null,fe(gt,et,""+hn,ms);if(typeof hn=="object"&&hn!==null){switch(hn.$$typeof){case Ce:return et=et.get(hn.key===null?zt:hn.key)||null,ct(gt,et,hn,ms);case pe:return et=et.get(hn.key===null?zt:hn.key)||null,Zt(gt,et,hn,ms);case ut:return hn=sm(hn),cn(et,gt,zt,hn,ms)}if(Lt(hn)||Re(hn))return et=et.get(zt)||null,bn(gt,et,hn,ms,null);if(typeof hn.then=="function")return cn(et,gt,zt,Tg(hn),ms);if(hn.$$typeof===J)return cn(et,gt,zt,Gl(gt,hn),ms);tu(gt,hn)}return null}function es(et,gt,zt,hn){for(var ms=null,Us=null,Go=gt,rr=gt=0,Mr=null;Go!==null&&rr<zt.length;rr++){Go.index>rr?(Mr=Go,Go=null):Mr=Go.sibling;var zr=Qt(et,Go,zt[rr],hn);if(zr===null){Go===null&&(Go=Mr);break}a&&Go&&zr.alternate===null&&d(et,Go),gt=$(zr,gt,rr),Us===null?ms=zr:Us.sibling=zr,Us=zr,Go=Mr}if(rr===zt.length)return g(et,Go),Js&&Nc(et,rr),ms;if(Go===null){for(;rr<zt.length;rr++)Go=Dn(et,zt[rr],hn),Go!==null&&(gt=$(Go,gt,rr),Us===null?ms=Go:Us.sibling=Go,Us=Go);return Js&&Nc(et,rr),ms}for(Go=C(Go);rr<zt.length;rr++)Mr=cn(Go,et,rr,zt[rr],hn),Mr!==null&&(a&&Mr.alternate!==null&&Go.delete(Mr.key===null?rr:Mr.key),gt=$(Mr,gt,rr),Us===null?ms=Mr:Us.sibling=Mr,Us=Mr);return a&&Go.forEach(function(gf){return d(et,gf)}),Js&&Nc(et,rr),ms}function Ns(et,gt,zt,hn){if(zt==null)throw Error(x(151));for(var ms=null,Us=null,Go=gt,rr=gt=0,Mr=null,zr=zt.next();Go!==null&&!zr.done;rr++,zr=zt.next()){Go.index>rr?(Mr=Go,Go=null):Mr=Go.sibling;var gf=Qt(et,Go,zr.value,hn);if(gf===null){Go===null&&(Go=Mr);break}a&&Go&&gf.alternate===null&&d(et,Go),gt=$(gf,gt,rr),Us===null?ms=gf:Us.sibling=gf,Us=gf,Go=Mr}if(zr.done)return g(et,Go),Js&&Nc(et,rr),ms;if(Go===null){for(;!zr.done;rr++,zr=zt.next())zr=Dn(et,zr.value,hn),zr!==null&&(gt=$(zr,gt,rr),Us===null?ms=zr:Us.sibling=zr,Us=zr);return Js&&Nc(et,rr),ms}for(Go=C(Go);!zr.done;rr++,zr=zt.next())zr=cn(Go,et,rr,zr.value,hn),zr!==null&&(a&&zr.alternate!==null&&Go.delete(zr.key===null?rr:zr.key),gt=$(zr,gt,rr),Us===null?ms=zr:Us.sibling=zr,Us=zr);return a&&Go.forEach(function(Jm){return d(et,Jm)}),Js&&Nc(et,rr),ms}function mi(et,gt,zt,hn){if(typeof zt=="object"&&zt!==null&&zt.type===Fe&&zt.key===null&&(zt=zt.props.children),typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case Ce:e:{for(var ms=zt.key;gt!==null;){if(gt.key===ms){if(ms=zt.type,ms===Fe){if(gt.tag===7){g(et,gt.sibling),hn=N(gt,zt.props.children),hn.return=et,et=hn;break e}}else if(gt.elementType===ms||typeof ms=="object"&&ms!==null&&ms.$$typeof===ut&&sm(ms)===gt.type){g(et,gt.sibling),hn=N(gt,zt.props),Ag(hn,zt),hn.return=et,et=hn;break e}g(et,gt);break}else d(et,gt);gt=gt.sibling}zt.type===Fe?(hn=ai(zt.props.children,et.mode,hn,zt.key),hn.return=et,et=hn):(hn=Jc(zt.type,zt.key,zt.props,null,et.mode,hn),Ag(hn,zt),hn.return=et,et=hn)}return se(et);case pe:e:{for(ms=zt.key;gt!==null;){if(gt.key===ms)if(gt.tag===4&&gt.stateNode.containerInfo===zt.containerInfo&&gt.stateNode.implementation===zt.implementation){g(et,gt.sibling),hn=N(gt,zt.children||[]),hn.return=et,et=hn;break e}else{g(et,gt);break}else d(et,gt);gt=gt.sibling}hn=xp(zt,et.mode,hn),hn.return=et,et=hn}return se(et);case ut:return zt=sm(zt),mi(et,gt,zt,hn)}if(Lt(zt))return es(et,gt,zt,hn);if(Re(zt)){if(ms=Re(zt),typeof ms!="function")throw Error(x(150));return zt=ms.call(zt),Ns(et,gt,zt,hn)}if(typeof zt.then=="function")return mi(et,gt,Tg(zt),hn);if(zt.$$typeof===J)return mi(et,gt,Gl(et,zt),hn);tu(et,zt)}return typeof zt=="string"&&zt!==""||typeof zt=="number"||typeof zt=="bigint"?(zt=""+zt,gt!==null&&gt.tag===6?(g(et,gt.sibling),hn=N(gt,zt),hn.return=et,et=hn):(g(et,gt),hn=ii(zt,et.mode,hn),hn.return=et,et=hn),se(et)):g(et,gt)}return function(et,gt,zt,hn){try{rm=0;var ms=mi(et,gt,zt,hn);return Nf=null,ms}catch(Go){if(Go===of||Go===Eg)throw Go;var Us=Za(29,Go,null,et.mode);return Us.lanes=hn,Us.return=et,Us}}}var Ou=my(!0),ur=my(!1),yi=!1;function Ad(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sp(a,d){a=a.updateQueue,d.updateQueue===a&&(d.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function nu(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Rf(a,d,g){var C=a.updateQueue;if(C===null)return null;if(C=C.shared,(Ls&2)!==0){var N=C.pending;return N===null?d.next=d:(d.next=N.next,N.next=d),C.pending=d,d=cl(a),Qc(a,null,g),d}return ri(a,C,d,g),cl(a)}function kg(a,d,g){if(d=d.updateQueue,d!==null&&(d=d.shared,(g&4194048)!==0)){var C=d.lanes;C&=a.pendingLanes,g|=C,d.lanes=g,No(a,g)}}function kd(a,d){var g=a.updateQueue,C=a.alternate;if(C!==null&&(C=C.updateQueue,g===C)){var N=null,$=null;if(g=g.firstBaseUpdate,g!==null){do{var se={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};$===null?N=$=se:$=$.next=se,g=g.next}while(g!==null);$===null?N=$=d:$=$.next=d}else N=$=d;g={baseState:C.baseState,firstBaseUpdate:N,lastBaseUpdate:$,shared:C.shared,callbacks:C.callbacks},a.updateQueue=g;return}a=g.lastBaseUpdate,a===null?g.firstBaseUpdate=d:a.next=d,g.lastBaseUpdate=d}var Dd=!1;function nr(){if(Dd){var a=Ku;if(a!==null)throw a}}function Dg(a,d,g,C){Dd=!1;var N=a.updateQueue;yi=!1;var $=N.firstBaseUpdate,se=N.lastBaseUpdate,fe=N.shared.pending;if(fe!==null){N.shared.pending=null;var ct=fe,Zt=ct.next;ct.next=null,se===null?$=Zt:se.next=Zt,se=ct;var bn=a.alternate;bn!==null&&(bn=bn.updateQueue,fe=bn.lastBaseUpdate,fe!==se&&(fe===null?bn.firstBaseUpdate=Zt:fe.next=Zt,bn.lastBaseUpdate=ct))}if($!==null){var Dn=N.baseState;se=0,bn=Zt=ct=null,fe=$;do{var Qt=fe.lane&-536870913,cn=Qt!==fe.lane;if(cn?(Nr&Qt)===Qt:(C&Qt)===Qt){Qt!==0&&Qt===wg&&(Dd=!0),bn!==null&&(bn=bn.next={lane:0,tag:fe.tag,payload:fe.payload,callback:null,next:null});e:{var es=a,Ns=fe;Qt=d;var mi=g;switch(Ns.tag){case 1:if(es=Ns.payload,typeof es=="function"){Dn=es.call(mi,Dn,Qt);break e}Dn=es;break e;case 3:es.flags=es.flags&-65537|128;case 0:if(es=Ns.payload,Qt=typeof es=="function"?es.call(mi,Dn,Qt):es,Qt==null)break e;Dn=ee({},Dn,Qt);break e;case 2:yi=!0}}Qt=fe.callback,Qt!==null&&(a.flags|=64,cn&&(a.flags|=8192),cn=N.callbacks,cn===null?N.callbacks=[Qt]:cn.push(Qt))}else cn={lane:Qt,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},bn===null?(Zt=bn=cn,ct=Dn):bn=bn.next=cn,se|=Qt;if(fe=fe.next,fe===null){if(fe=N.shared.pending,fe===null)break;cn=fe,fe=cn.next,cn.next=null,N.lastBaseUpdate=cn,N.shared.pending=null}}while(!0);bn===null&&(ct=Dn),N.baseState=ct,N.firstBaseUpdate=Zt,N.lastBaseUpdate=bn,$===null&&(N.shared.lanes=0),Lc|=se,a.lanes=se,a.memoizedState=Dn}}function ha(a,d){if(typeof a!="function")throw Error(x(191,a));a.call(d)}function kh(a,d){var g=a.callbacks;if(g!==null)for(a.callbacks=null,a=0;a<g.length;a++)ha(g[a],d)}var Da=le(null),Yu=le(0);function El(a,d){a=fm,It(Yu,a),It(Da,d),fm=a|d.baseLanes}function sf(){It(Yu,fm),It(Da,Da.current)}function _g(){fm=Yu.current,Ve(Da),Ve(Yu)}var ou=le(null),Nu=null;function Lm(a){var d=a.alternate;It(Di,Di.current&1),It(ou,a),Nu===null&&(d===null||Da.current!==null||d.memoizedState!==null)&&(Nu=a)}function pc(a){It(Di,Di.current),It(ou,a),Nu===null&&(Nu=a)}function _d(a){a.tag===22?(It(Di,Di.current),It(ou,a),Nu===null&&(Nu=a)):aa()}function aa(){It(Di,Di.current),It(ou,ou.current)}function ta(a){Ve(ou),Nu===a&&(Nu=null),Ve(Di)}var Di=le(0);function Pm(a){for(var d=a;d!==null;){if(d.tag===13){var g=d.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||Jv(g)||Kp(g)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Od=0,or=null,Cr=null,Ll=null,P=!1,j=!1,re=!1,we=0,Ge=0,kt=null,Cn=0;function _n(){throw Error(x(321))}function Fo(a,d){if(d===null)return!1;for(var g=0;g<d.length&&g<a.length;g++)if(!vl(a[g],d[g]))return!1;return!0}function as(a,d,g,C,N,$){return Od=$,or=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,F.H=a===null||a.memoizedState===null?Nd:Op,re=!1,$=g(C,N),re=!1,j&&($=ia(d,g,C,N)),Br(a),$}function Br(a){F.H=la;var d=Cr!==null&&Cr.next!==null;if(Od=0,Ll=Cr=or=null,P=!1,Ge=0,kt=null,d)throw Error(x(300));a===null||Tl||(a=a.dependencies,a!==null&&cs(a)&&(Tl=!0))}function ia(a,d,g,C){or=a;var N=0;do{if(j&&(kt=null),Ge=0,j=!1,25<=N)throw Error(x(301));if(N+=1,Ll=Cr=null,a.updateQueue!=null){var $=a.updateQueue;$.lastEffect=null,$.events=null,$.stores=null,$.memoCache!=null&&($.memoCache.index=0)}F.H=Bu,$=d(g,C)}while(j);return $}function vi(){var a=F.H,d=a.useState()[0];return d=typeof d.then=="function"?im(d):d,a=a.useState()[0],(Cr!==null?Cr.memoizedState:null)!==a&&(or.flags|=1024),d}function Rc(){var a=we!==0;return we=0,a}function Xu(a,d,g){d.updateQueue=a.updateQueue,d.flags&=-2053,a.lanes&=~g}function rf(a){if(P){for(a=a.memoizedState;a!==null;){var d=a.queue;d!==null&&(d.pending=null),a=a.next}P=!1}Od=0,Ll=Cr=or=null,j=!1,Ge=we=0,kt=null}function fi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ll===null?or.memoizedState=Ll=a:Ll=Ll.next=a,Ll}function Li(){if(Cr===null){var a=or.alternate;a=a!==null?a.memoizedState:null}else a=Cr.next;var d=Ll===null?or.memoizedState:Ll.next;if(d!==null)Ll=d,Cr=a;else{if(a===null)throw or.alternate===null?Error(x(467)):Error(x(310));Cr=a,a={memoizedState:Cr.memoizedState,baseState:Cr.baseState,baseQueue:Cr.baseQueue,queue:Cr.queue,next:null},Ll===null?or.memoizedState=Ll=a:Ll=Ll.next=a}return Ll}function am(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function im(a){var d=Ge;return Ge+=1,kt===null&&(kt=[]),a=fy(kt,a,d),d=or,(Ll===null?d.memoizedState:Ll.next)===null&&(d=d.alternate,F.H=d===null||d.memoizedState===null?Nd:Op),a}function Fm(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return im(a);if(a.$$typeof===J)return Cs(a)}throw Error(x(438,String(a)))}function Dh(a){var d=null,g=or.updateQueue;if(g!==null&&(d=g.memoCache),d==null){var C=or.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(d={data:C.data.map(function(N){return N.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),g===null&&(g=am(),or.updateQueue=g),g.memoCache=d,g=d.data[d.index],g===void 0)for(g=d.data[d.index]=Array(a),C=0;C<a;C++)g[C]=fn;return d.index++,g}function Ru(a,d){return typeof d=="function"?d(a):d}function _h(a){var d=Li();return X1(d,Cr,a)}function X1(a,d,g){var C=a.queue;if(C===null)throw Error(x(311));C.lastRenderedReducer=g;var N=a.baseQueue,$=C.pending;if($!==null){if(N!==null){var se=N.next;N.next=$.next,$.next=se}d.baseQueue=N=$,C.pending=null}if($=a.baseState,N===null)a.memoizedState=$;else{d=N.next;var fe=se=null,ct=null,Zt=d,bn=!1;do{var Dn=Zt.lane&-536870913;if(Dn!==Zt.lane?(Nr&Dn)===Dn:(Od&Dn)===Dn){var Qt=Zt.revertLane;if(Qt===0)ct!==null&&(ct=ct.next={lane:0,revertLane:0,gesture:null,action:Zt.action,hasEagerState:Zt.hasEagerState,eagerState:Zt.eagerState,next:null}),Dn===wg&&(bn=!0);else if((Od&Qt)===Qt){Zt=Zt.next,Qt===wg&&(bn=!0);continue}else Dn={lane:0,revertLane:Zt.revertLane,gesture:null,action:Zt.action,hasEagerState:Zt.hasEagerState,eagerState:Zt.eagerState,next:null},ct===null?(fe=ct=Dn,se=$):ct=ct.next=Dn,or.lanes|=Qt,Lc|=Qt;Dn=Zt.action,re&&g($,Dn),$=Zt.hasEagerState?Zt.eagerState:g($,Dn)}else Qt={lane:Dn,revertLane:Zt.revertLane,gesture:Zt.gesture,action:Zt.action,hasEagerState:Zt.hasEagerState,eagerState:Zt.eagerState,next:null},ct===null?(fe=ct=Qt,se=$):ct=ct.next=Qt,or.lanes|=Dn,Lc|=Dn;Zt=Zt.next}while(Zt!==null&&Zt!==d);if(ct===null?se=$:ct.next=fe,!vl($,a.memoizedState)&&(Tl=!0,bn&&(g=Ku,g!==null)))throw g;a.memoizedState=$,a.baseState=se,a.baseQueue=ct,C.lastRenderedState=$}return N===null&&(C.lanes=0),[a.memoizedState,C.dispatch]}function Q1(a){var d=Li(),g=d.queue;if(g===null)throw Error(x(311));g.lastRenderedReducer=a;var C=g.dispatch,N=g.pending,$=d.memoizedState;if(N!==null){g.pending=null;var se=N=N.next;do $=a($,se.action),se=se.next;while(se!==N);vl($,d.memoizedState)||(Tl=!0),d.memoizedState=$,d.baseQueue===null&&(d.baseState=$),g.lastRenderedState=$}return[$,C]}function Hs(a,d,g){var C=or,N=Li(),$=Js;if($){if(g===void 0)throw Error(x(407));g=g()}else g=d();var se=!vl((Cr||N).memoizedState,g);if(se&&(N.memoizedState=g,Tl=!0),N=N.queue,Ka(Pl.bind(null,C,N,a),[a]),N.getSnapshot!==d||se||Ll!==null&&Ll.memoizedState.tag&1){if(C.flags|=2048,af(9,{destroy:void 0},Ga.bind(null,C,N,g,d),null),ba===null)throw Error(x(349));$||(Od&127)!==0||Ha(C,d,g)}return g}function Ha(a,d,g){a.flags|=16384,a={getSnapshot:d,value:g},d=or.updateQueue,d===null?(d=am(),or.updateQueue=d,d.stores=[a]):(g=d.stores,g===null?d.stores=[a]:g.push(a))}function Ga(a,d,g,C){d.value=g,d.getSnapshot=C,Ep(d)&&Og(a)}function Pl(a,d,g){return g(function(){Ep(d)&&Og(a)})}function Ep(a){var d=a.getSnapshot;a=a.value;try{var g=d();return!vl(a,g)}catch{return!0}}function Og(a){var d=Wi(a,2);d!==null&&sd(d,a,2)}function Ng(a){var d=fi();if(typeof a=="function"){var g=a;if(a=g(),re){Xs(!0);try{g()}finally{Xs(!1)}}}return d.memoizedState=d.baseState=a,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ru,lastRenderedState:a},d}function Tp(a,d,g,C){return a.baseState=g,X1(a,Cr,typeof C=="function"?C:Ru)}function S2(a,d,g,C,N){if(ns(a))throw Error(x(485));if(a=d.action,a!==null){var $={payload:N,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(se){$.listeners.push(se)}};F.T!==null?g(!0):$.isTransition=!1,C($),g=d.pending,g===null?($.next=d.pending=$,$m(d,$)):($.next=g.next,d.pending=g.next=$)}}function $m(a,d){var g=d.action,C=d.payload,N=a.state;if(d.isTransition){var $=F.T,se={};F.T=se;try{var fe=g(N,C),ct=F.S;ct!==null&&ct(se,fe),I0(a,d,fe)}catch(Zt){Mv(a,d,Zt)}finally{$!==null&&se.types!==null&&($.types=se.types),F.T=$}}else try{$=g(N,C),I0(a,d,$)}catch(Zt){Mv(a,d,Zt)}}function I0(a,d,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(C){Oh(a,d,C)},function(C){return Mv(a,d,C)}):Oh(a,d,g)}function Oh(a,d,g){d.status="fulfilled",d.value=g,Pi(d),a.state=g,d=a.pending,d!==null&&(g=d.next,g===d?a.pending=null:(g=g.next,d.next=g,$m(a,g)))}function Mv(a,d,g){var C=a.pending;if(a.pending=null,C!==null){C=C.next;do d.status="rejected",d.reason=g,Pi(d),d=d.next;while(d!==C)}a.action=null}function Pi(a){a=a.listeners;for(var d=0;d<a.length;d++)(0,a[d])()}function _i(a,d){return d}function Nh(a,d){if(Js){var g=ba.formState;if(g!==null){e:{var C=or;if(Js){if(Ia){t:{for(var N=Ia,$=_u;N.nodeType!==8;){if(!$){N=null;break t}if(N=Kr(N.nextSibling),N===null){N=null;break t}}$=N.data,N=$==="F!"||$==="F"?N:null}if(N){Ia=Kr(N.nextSibling),C=N.data==="F!";break e}}Sl(C)}C=!1}C&&(d=g[0])}}return g=fi(),g.memoizedState=g.baseState=d,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:d},g.queue=C,g=dn.bind(null,or,C),C.dispatch=g,C=Ng(!1),$=Fi.bind(null,or,!1,C.queue),C=fi(),N={state:d,dispatch:null,action:a,pending:null},C.queue=N,g=S2.bind(null,or,N,$,g),N.dispatch=g,C.memoizedState=a,[d,g,!1]}function Im(a){var d=Li();return hy(d,Cr,a)}function hy(a,d,g){if(d=X1(a,d,_i)[0],a=_h(Ru)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var C=im(d)}catch(se){throw se===of?Eg:se}else C=d;d=Li();var N=d.queue,$=N.dispatch;return g!==d.memoizedState&&(or.flags|=2048,af(9,{destroy:void 0},bc.bind(null,N,g),null)),[C,$,a]}function bc(a,d){a.action=d}function gy(a){var d=Li(),g=Cr;if(g!==null)return hy(d,g,a);Li(),d=d.memoizedState,g=Li();var C=g.queue.dispatch;return g.memoizedState=a,[d,C,!1]}function af(a,d,g,C){return a={tag:a,create:g,deps:C,inst:d,next:null},d=or.updateQueue,d===null&&(d=am(),or.updateQueue=d),g=d.lastEffect,g===null?d.lastEffect=a.next=a:(C=g.next,g.next=a,a.next=C,d.lastEffect=a),a}function J1(){return Li().memoizedState}function su(a,d,g,C){var N=fi();or.flags|=a,N.memoizedState=af(1|d,{destroy:void 0},g,C===void 0?null:C)}function H0(a,d,g,C){var N=Li();C=C===void 0?null:C;var $=N.memoizedState.inst;Cr!==null&&C!==null&&Fo(C,Cr.memoizedState.deps)?N.memoizedState=af(d,$,g,C):(or.flags|=a,N.memoizedState=af(1|d,$,g,C))}function Mu(a,d){su(8390656,8,a,d)}function Ka(a,d){H0(2048,8,a,d)}function py(a){or.flags|=4;var d=or.updateQueue;if(d===null)d=am(),or.updateQueue=d,d.events=[a];else{var g=d.events;g===null?d.events=[a]:g.push(a)}}function Ap(a){var d=Li().memoizedState;return py({ref:d,nextImpl:a}),function(){if((Ls&2)!==0)throw Error(x(440));return d.impl.apply(void 0,arguments)}}function Bv(a,d){return H0(4,2,a,d)}function by(a,d){return H0(4,4,a,d)}function Lv(a,d){if(typeof d=="function"){a=a();var g=d(a);return function(){typeof g=="function"?g():d(null)}}if(d!=null)return a=a(),d.current=a,function(){d.current=null}}function Pv(a,d,g){g=g!=null?g.concat([a]):null,H0(4,4,Lv.bind(null,d,a),g)}function z0(){}function kp(a,d){var g=Li();d=d===void 0?null:d;var C=g.memoizedState;return d!==null&&Fo(d,C[1])?C[0]:(g.memoizedState=[a,d],a)}function eb(a,d){var g=Li();d=d===void 0?null:d;var C=g.memoizedState;if(d!==null&&Fo(d,C[1]))return C[0];if(C=a(),re){Xs(!0);try{a()}finally{Xs(!1)}}return g.memoizedState=[C,d],C}function Sn(a,d,g){return g===void 0||(Od&1073741824)!==0&&(Nr&261930)===0?a.memoizedState=d:(a.memoizedState=g,a=Lg(),or.lanes|=a,Lc|=a,g)}function ru(a,d,g,C){return vl(g,d)?g:Da.current!==null?(a=Sn(a,g,C),vl(a,d)||(Tl=!0),a):(Od&42)===0||(Od&1073741824)!==0&&(Nr&261930)===0?(Tl=!0,a.memoizedState=g):(a=Lg(),or.lanes|=a,Lc|=a,d)}function E2(a,d,g,C,N){var $=Vt.p;Vt.p=$!==0&&8>$?$:8;var se=F.T,fe={};F.T=fe,Fi(a,!1,d,g);try{var ct=N(),Zt=F.S;if(Zt!==null&&Zt(fe,ct),ct!==null&&typeof ct=="object"&&typeof ct.then=="function"){var bn=Cg(ct,C);Dp(a,d,bn,Fd(a))}else Dp(a,d,C,Fd(a))}catch(Dn){Dp(a,d,{then:function(){},status:"rejected",reason:Dn},Fd())}finally{Vt.p=$,se!==null&&fe.types!==null&&(se.types=fe.types),F.T=se}}function au(){}function Qu(a,d,g,C){if(a.tag!==5)throw Error(x(476));var N=tb(a).queue;E2(a,N,d,at,g===null?au:function(){return T2(a),g(C)})}function tb(a){var d=a.memoizedState;if(d!==null)return d;d={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ru,lastRenderedState:at},next:null};var g={};return d.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ru,lastRenderedState:g},next:null},a.memoizedState=d,a=a.alternate,a!==null&&(a.memoizedState=d),d}function T2(a){var d=tb(a);d.next===null&&(d=a.alternate.memoizedState),Dp(a,d.next.queue,{},Fd())}function Hm(){return Cs(cd)}function A2(){return Li().memoizedState}function iu(){return Li().memoizedState}function k2(a){for(var d=a.return;d!==null;){switch(d.tag){case 24:case 3:var g=Fd();a=nu(g);var C=Rf(d,a,g);C!==null&&(sd(C,d,g),kg(C,d,g)),d={cache:Of()},a.payload=d;return}d=d.return}}function lf(a,d,g){var C=Fd();g={lane:C,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},ns(a)?zm(d,g):(g=Wu(a,d,g,C),g!==null&&(sd(g,a,C),_p(g,d,C)))}function dn(a,d,g){var C=Fd();Dp(a,d,g,C)}function Dp(a,d,g,C){var N={lane:C,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(ns(a))zm(d,N);else{var $=a.alternate;if(a.lanes===0&&($===null||$.lanes===0)&&($=d.lastRenderedReducer,$!==null))try{var se=d.lastRenderedState,fe=$(se,g);if(N.hasEagerState=!0,N.eagerState=fe,vl(fe,se))return ri(a,d,N,0),ba===null&&Xc(),!1}catch{}if(g=Wu(a,d,N,C),g!==null)return sd(g,a,C),_p(g,d,C),!0}return!1}function Fi(a,d,g,C){if(C={lane:2,revertLane:$d(),gesture:null,action:C,hasEagerState:!1,eagerState:null,next:null},ns(a)){if(d)throw Error(x(479))}else d=Wu(a,g,C,2),d!==null&&sd(d,a,2)}function ns(a){var d=a.alternate;return a===or||d!==null&&d===or}function zm(a,d){j=P=!0;var g=a.pending;g===null?d.next=d:(d.next=g.next,g.next=d),a.pending=d}function _p(a,d,g){if((g&4194048)!==0){var C=d.lanes;C&=a.pendingLanes,g|=C,d.lanes=g,No(a,g)}}var la={readContext:Cs,use:Fm,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useLayoutEffect:_n,useInsertionEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useSyncExternalStore:_n,useId:_n,useHostTransitionStatus:_n,useFormState:_n,useActionState:_n,useOptimistic:_n,useMemoCache:_n,useCacheRefresh:_n};la.useEffectEvent=_n;var Nd={readContext:Cs,use:Fm,useCallback:function(a,d){return fi().memoizedState=[a,d===void 0?null:d],a},useContext:Cs,useEffect:Mu,useImperativeHandle:function(a,d,g){g=g!=null?g.concat([a]):null,su(4194308,4,Lv.bind(null,d,a),g)},useLayoutEffect:function(a,d){return su(4194308,4,a,d)},useInsertionEffect:function(a,d){su(4,2,a,d)},useMemo:function(a,d){var g=fi();d=d===void 0?null:d;var C=a();if(re){Xs(!0);try{a()}finally{Xs(!1)}}return g.memoizedState=[C,d],C},useReducer:function(a,d,g){var C=fi();if(g!==void 0){var N=g(d);if(re){Xs(!0);try{g(d)}finally{Xs(!1)}}}else N=d;return C.memoizedState=C.baseState=N,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:N},C.queue=a,a=a.dispatch=lf.bind(null,or,a),[C.memoizedState,a]},useRef:function(a){var d=fi();return a={current:a},d.memoizedState=a},useState:function(a){a=Ng(a);var d=a.queue,g=dn.bind(null,or,d);return d.dispatch=g,[a.memoizedState,g]},useDebugValue:z0,useDeferredValue:function(a,d){var g=fi();return Sn(g,a,d)},useTransition:function(){var a=Ng(!1);return a=E2.bind(null,or,a.queue,!0,!1),fi().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,d,g){var C=or,N=fi();if(Js){if(g===void 0)throw Error(x(407));g=g()}else{if(g=d(),ba===null)throw Error(x(349));(Nr&127)!==0||Ha(C,d,g)}N.memoizedState=g;var $={value:g,getSnapshot:d};return N.queue=$,Mu(Pl.bind(null,C,$,a),[a]),C.flags|=2048,af(9,{destroy:void 0},Ga.bind(null,C,$,g,d),null),g},useId:function(){var a=fi(),d=ba.identifierPrefix;if(Js){var g=cr,C=$a;g=(C&~(1<<32-gs(C)-1)).toString(32)+g,d="_"+d+"R_"+g,g=we++,0<g&&(d+="H"+g.toString(32)),d+="_"}else g=Cn++,d="_"+d+"r_"+g.toString(32)+"_";return a.memoizedState=d},useHostTransitionStatus:Hm,useFormState:Nh,useActionState:Nh,useOptimistic:function(a){var d=fi();d.memoizedState=d.baseState=a;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=g,d=Fi.bind(null,or,!0,g),g.dispatch=d,[a,d]},useMemoCache:Dh,useCacheRefresh:function(){return fi().memoizedState=k2.bind(null,or)},useEffectEvent:function(a){var d=fi(),g={impl:a};return d.memoizedState=g,function(){if((Ls&2)!==0)throw Error(x(440));return g.impl.apply(void 0,arguments)}}},Op={readContext:Cs,use:Fm,useCallback:kp,useContext:Cs,useEffect:Ka,useImperativeHandle:Pv,useInsertionEffect:Bv,useLayoutEffect:by,useMemo:eb,useReducer:_h,useRef:J1,useState:function(){return _h(Ru)},useDebugValue:z0,useDeferredValue:function(a,d){var g=Li();return ru(g,Cr.memoizedState,a,d)},useTransition:function(){var a=_h(Ru)[0],d=Li().memoizedState;return[typeof a=="boolean"?a:im(a),d]},useSyncExternalStore:Hs,useId:A2,useHostTransitionStatus:Hm,useFormState:Im,useActionState:Im,useOptimistic:function(a,d){var g=Li();return Tp(g,Cr,a,d)},useMemoCache:Dh,useCacheRefresh:iu};Op.useEffectEvent=Ap;var Bu={readContext:Cs,use:Fm,useCallback:kp,useContext:Cs,useEffect:Ka,useImperativeHandle:Pv,useInsertionEffect:Bv,useLayoutEffect:by,useMemo:eb,useReducer:Q1,useRef:J1,useState:function(){return Q1(Ru)},useDebugValue:z0,useDeferredValue:function(a,d){var g=Li();return Cr===null?Sn(g,a,d):ru(g,Cr.memoizedState,a,d)},useTransition:function(){var a=Q1(Ru)[0],d=Li().memoizedState;return[typeof a=="boolean"?a:im(a),d]},useSyncExternalStore:Hs,useId:A2,useHostTransitionStatus:Hm,useFormState:gy,useActionState:gy,useOptimistic:function(a,d){var g=Li();return Cr!==null?Tp(g,Cr,a,d):(g.baseState=a,[a,g.queue.dispatch])},useMemoCache:Dh,useCacheRefresh:iu};Bu.useEffectEvent=Ap;function na(a,d,g,C){d=a.memoizedState,g=g(C,d),g=g==null?d:ee({},d,g),a.memoizedState=g,a.lanes===0&&(a.updateQueue.baseState=g)}var lm={enqueueSetState:function(a,d,g){a=a._reactInternals;var C=Fd(),N=nu(C);N.payload=d,g!=null&&(N.callback=g),d=Rf(a,N,C),d!==null&&(sd(d,a,C),kg(d,a,C))},enqueueReplaceState:function(a,d,g){a=a._reactInternals;var C=Fd(),N=nu(C);N.tag=1,N.payload=d,g!=null&&(N.callback=g),d=Rf(a,N,C),d!==null&&(sd(d,a,C),kg(d,a,C))},enqueueForceUpdate:function(a,d){a=a._reactInternals;var g=Fd(),C=nu(g);C.tag=2,d!=null&&(C.callback=d),d=Rf(a,C,g),d!==null&&(sd(d,a,g),kg(d,a,g))}};function Np(a,d,g,C,N,$,se){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(C,$,se):d.prototype&&d.prototype.isPureReactComponent?!xh(g,C)||!xh(N,$):!0}function yy(a,d,g,C){a=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(g,C),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(g,C),d.state!==a&&lm.enqueueReplaceState(d,d.state,null)}function Rh(a,d){var g=d;if("ref"in d){g={};for(var C in d)C!=="ref"&&(g[C]=d[C])}if(a=a.defaultProps){g===d&&(g=ee({},g));for(var N in a)g[N]===void 0&&(g[N]=a[N])}return g}function Rd(a){F0(a)}function j0(a){console.error(a)}function V0(a){F0(a)}function vy(a,d){try{var g=a.onUncaughtError;g(d.value,{componentStack:d.stack})}catch(C){setTimeout(function(){throw C})}}function xy(a,d,g){try{var C=a.onCaughtError;C(g.value,{componentStack:g.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function Rp(a,d,g){return g=nu(g),g.tag=3,g.payload={element:null},g.callback=function(){vy(a,d)},g}function wy(a){return a=nu(a),a.tag=3,a}function nb(a,d,g,C){var N=g.type.getDerivedStateFromError;if(typeof N=="function"){var $=C.value;a.payload=function(){return N($)},a.callback=function(){xy(d,g,C)}}var se=g.stateNode;se!==null&&typeof se.componentDidCatch=="function"&&(a.callback=function(){xy(d,g,C),typeof N!="function"&&($f===null?$f=new Set([this]):$f.add(this));var fe=C.stack;this.componentDidCatch(C.value,{componentStack:fe!==null?fe:""})})}function zC(a,d,g,C,N){if(g.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(d=g.alternate,d!==null&&tf(d,g,N,!0),g=ou.current,g!==null){switch(g.tag){case 31:case 13:return Nu===null?mb():g.alternate===null&&xi===0&&(xi=3),g.flags&=-257,g.flags|=65536,g.lanes=N,C===K1?g.flags|=16384:(d=g.updateQueue,d===null?g.updateQueue=new Set([C]):d.add(C),Q0(a,C,N)),!1;case 22:return g.flags|=65536,C===K1?g.flags|=16384:(d=g.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([C])},g.updateQueue=d):(g=d.retryQueue,g===null?d.retryQueue=new Set([C]):g.add(C)),Q0(a,C,N)),!1}throw Error(x(435,g.tag))}return Q0(a,C,N),mb(),!1}if(Js)return d=ou.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=N,C!==ul&&(a=Error(x(422),{cause:C}),hc(ra(a,g)))):(C!==ul&&(d=Error(x(423),{cause:C}),hc(ra(d,g))),a=a.current.alternate,a.flags|=65536,N&=-N,a.lanes|=N,C=ra(C,g),N=Rp(a.stateNode,C,N),kd(a,N),xi!==4&&(xi=2)),!1;var $=Error(x(520),{cause:C});if($=ra($,g),$p===null?$p=[$]:$p.push($),xi!==4&&(xi=2),d===null)return!0;C=ra(C,g),g=d;do{switch(g.tag){case 3:return g.flags|=65536,a=N&-N,g.lanes|=a,a=Rp(g.stateNode,C,a),kd(g,a),!1;case 1:if(d=g.type,$=g.stateNode,(g.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&($f===null||!$f.has($))))return g.flags|=65536,N&=-N,g.lanes|=N,N=wy(N),nb(N,a,g,C),kd(g,N),!1}g=g.return}while(g!==null);return!1}var Fv=Error(x(461)),Tl=!1;function lu(a,d,g,C){d.child=a===null?ur(d,null,g,C):Ou(d,a.child,g,C)}function U0(a,d,g,C,N){g=g.render;var $=d.ref;if("ref"in C){var se={};for(var fe in C)fe!=="ref"&&(se[fe]=C[fe])}else se=C;return ql(d),C=as(a,d,g,se,$,N),fe=Rc(),a!==null&&!Tl?(Xu(a,d,N),qt(a,d,N)):(Js&&fe&&eu(d),d.flags|=1,lu(a,d,C,N),d.child)}function jC(a,d,g,C,N){if(a===null){var $=g.type;return typeof $=="function"&&!qi($)&&$.defaultProps===void 0&&g.compare===null?(d.tag=15,d.type=$,Lu(a,d,$,C,N)):(a=Jc(g.type,null,C,d,d.mode,N),a.ref=d.ref,a.return=d,d.child=a)}if($=a.child,!Bc(a,N)){var se=$.memoizedProps;if(g=g.compare,g=g!==null?g:xh,g(se,C)&&a.ref===d.ref)return qt(a,d,N)}return d.flags|=1,a=Fa($,C),a.ref=d.ref,a.return=d,d.child=a}function Lu(a,d,g,C,N){if(a!==null){var $=a.memoizedProps;if(xh($,C)&&a.ref===d.ref)if(Tl=!1,d.pendingProps=C=$,Bc(a,N))(a.flags&131072)!==0&&(Tl=!0);else return d.lanes=a.lanes,qt(a,d,N)}return Mh(a,d,g,C,N)}function fo(a,d,g,C){var N=C.children,$=a!==null?a.memoizedState:null;if(a===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),C.mode==="hidden"){if((d.flags&128)!==0){if($=$!==null?$.baseLanes|g:g,a!==null){for(C=d.child=a.child,N=0;C!==null;)N=N|C.lanes|C.childLanes,C=C.sibling;C=N&~$}else C=0,d.child=null;return Mp(a,d,$,g,C)}if((g&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},a!==null&&Ed(d,$!==null?$.cachePool:null),$!==null?El(d,$):sf(),_d(d);else return C=d.lanes=536870912,Mp(a,d,$!==null?$.baseLanes|g:g,g,C)}else $!==null?(Ed(d,$.cachePool),El(d,$),aa(),d.memoizedState=null):(a!==null&&Ed(d,null),sf(),aa());return lu(a,d,N,g),d.child}function _a(a,d){return a!==null&&a.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function Mp(a,d,g,C,N){var $=ka();return $=$===null?null:{parent:qa._currentValue,pool:$},d.memoizedState={baseLanes:g,cachePool:$},a!==null&&Ed(d,null),sf(),_d(d),a!==null&&tf(a,d,C,!0),d.childLanes=N,null}function ob(a,d){return d=Kl({mode:d.mode,children:d.children},a.mode),d.ref=a.ref,a.child=d,d.return=a,d}function Rg(a,d,g){return Ou(d,a.child,null,g),a=ob(d,d.pendingProps),a.flags|=2,ta(d),d.memoizedState=null,a}function Z0(a,d,g){var C=d.pendingProps,N=(d.flags&128)!==0;if(d.flags&=-129,a===null){if(Js){if(C.mode==="hidden")return a=ob(d,C),d.lanes=536870912,_a(null,a);if(pc(d),(a=Ia)?(a=Qv(a,_u),a=a!==null&&a.data==="&"?a:null,a!==null&&(d.memoizedState={dehydrated:a,treeContext:li!==null?{id:$a,overflow:cr}:null,retryLane:536870912,hydrationErrors:null},g=om(a),g.return=d,d.child=g,Cl=d,Ia=null)):a=null,a===null)throw Sl(d);return d.lanes=536870912,null}return ob(d,C)}var $=a.memoizedState;if($!==null){var se=$.dehydrated;if(pc(d),N)if(d.flags&256)d.flags&=-257,d=Rg(a,d,g);else if(d.memoizedState!==null)d.child=a.child,d.flags|=128,d=null;else throw Error(x(558));else if(Tl||tf(a,d,g,!1),N=(g&a.childLanes)!==0,Tl||N){if(C=ba,C!==null&&(se=Qn(C,g),se!==0&&se!==$.retryLane))throw $.retryLane=se,Wi(a,se),sd(C,a,se),Fv;mb(),d=Rg(a,d,g)}else a=$.treeContext,Ia=Kr(se.nextSibling),Cl=d,Js=!0,Rl=null,_u=!1,a!==null&&vg(d,a),d=ob(d,C),d.flags|=4096;return d}return a=Fa(a.child,{mode:C.mode,children:C.children}),a.ref=d.ref,d.child=a,a.return=d,a}function W0(a,d){var g=d.ref;if(g===null)a!==null&&a.ref!==null&&(d.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(x(284));(a===null||a.ref!==g)&&(d.flags|=4194816)}}function Mh(a,d,g,C,N){return ql(d),g=as(a,d,g,C,void 0,N),C=Rc(),a!==null&&!Tl?(Xu(a,d,N),qt(a,d,N)):(Js&&C&&eu(d),d.flags|=1,lu(a,d,g,N),d.child)}function $v(a,d,g,C,N,$){return ql(d),d.updateQueue=null,g=ia(d,C,g,N),Br(a),C=Rc(),a!==null&&!Tl?(Xu(a,d,$),qt(a,d,$)):(Js&&C&&eu(d),d.flags|=1,lu(a,d,g,$),d.child)}function cm(a,d,g,C,N){if(ql(d),d.stateNode===null){var $=$s,se=g.contextType;typeof se=="object"&&se!==null&&($=Cs(se)),$=new g(C,$),d.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=lm,d.stateNode=$,$._reactInternals=d,$=d.stateNode,$.props=C,$.state=d.memoizedState,$.refs={},Ad(d),se=g.contextType,$.context=typeof se=="object"&&se!==null?Cs(se):$s,$.state=d.memoizedState,se=g.getDerivedStateFromProps,typeof se=="function"&&(na(d,g,se,C),$.state=d.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof $.getSnapshotBeforeUpdate=="function"||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(se=$.state,typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount(),se!==$.state&&lm.enqueueReplaceState($,$.state,null),Dg(d,C,$,N),nr(),$.state=d.memoizedState),typeof $.componentDidMount=="function"&&(d.flags|=4194308),C=!0}else if(a===null){$=d.stateNode;var fe=d.memoizedProps,ct=Rh(g,fe);$.props=ct;var Zt=$.context,bn=g.contextType;se=$s,typeof bn=="object"&&bn!==null&&(se=Cs(bn));var Dn=g.getDerivedStateFromProps;bn=typeof Dn=="function"||typeof $.getSnapshotBeforeUpdate=="function",fe=d.pendingProps!==fe,bn||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(fe||Zt!==se)&&yy(d,$,C,se),yi=!1;var Qt=d.memoizedState;$.state=Qt,Dg(d,C,$,N),nr(),Zt=d.memoizedState,fe||Qt!==Zt||yi?(typeof Dn=="function"&&(na(d,g,Dn,C),Zt=d.memoizedState),(ct=yi||Np(d,g,ct,C,Qt,Zt,se))?(bn||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(d.flags|=4194308)):(typeof $.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=C,d.memoizedState=Zt),$.props=C,$.state=Zt,$.context=se,C=ct):(typeof $.componentDidMount=="function"&&(d.flags|=4194308),C=!1)}else{$=d.stateNode,Sp(a,d),se=d.memoizedProps,bn=Rh(g,se),$.props=bn,Dn=d.pendingProps,Qt=$.context,Zt=g.contextType,ct=$s,typeof Zt=="object"&&Zt!==null&&(ct=Cs(Zt)),fe=g.getDerivedStateFromProps,(Zt=typeof fe=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(se!==Dn||Qt!==ct)&&yy(d,$,C,ct),yi=!1,Qt=d.memoizedState,$.state=Qt,Dg(d,C,$,N),nr();var cn=d.memoizedState;se!==Dn||Qt!==cn||yi||a!==null&&a.dependencies!==null&&cs(a.dependencies)?(typeof fe=="function"&&(na(d,g,fe,C),cn=d.memoizedState),(bn=yi||Np(d,g,bn,C,Qt,cn,ct)||a!==null&&a.dependencies!==null&&cs(a.dependencies))?(Zt||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(C,cn,ct),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(C,cn,ct)),typeof $.componentDidUpdate=="function"&&(d.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof $.componentDidUpdate!="function"||se===a.memoizedProps&&Qt===a.memoizedState||(d.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||se===a.memoizedProps&&Qt===a.memoizedState||(d.flags|=1024),d.memoizedProps=C,d.memoizedState=cn),$.props=C,$.state=cn,$.context=ct,C=bn):(typeof $.componentDidUpdate!="function"||se===a.memoizedProps&&Qt===a.memoizedState||(d.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||se===a.memoizedProps&&Qt===a.memoizedState||(d.flags|=1024),C=!1)}return $=C,W0(a,d),C=(d.flags&128)!==0,$||C?($=d.stateNode,g=C&&typeof g.getDerivedStateFromError!="function"?null:$.render(),d.flags|=1,a!==null&&C?(d.child=Ou(d,a.child,null,N),d.child=Ou(d,null,g,N)):lu(a,d,g,N),d.memoizedState=$.state,a=d.child):a=qt(a,d,N),a}function Iv(a,d,g,C){return Bm(),d.flags|=256,lu(a,d,g,C),d.child}var sb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ga(a){return{baseLanes:a,cachePool:di()}}function Ju(a,d,g){return a=a!==null?a.childLanes&~g:0,d&&(a|=Md),a}function Mc(a,d,g){var C=d.pendingProps,N=!1,$=(d.flags&128)!==0,se;if((se=$)||(se=a!==null&&a.memoizedState===null?!1:(Di.current&2)!==0),se&&(N=!0,d.flags&=-129),se=(d.flags&32)!==0,d.flags&=-33,a===null){if(Js){if(N?Lm(d):aa(),(a=Ia)?(a=Qv(a,_u),a=a!==null&&a.data!=="&"?a:null,a!==null&&(d.memoizedState={dehydrated:a,treeContext:li!==null?{id:$a,overflow:cr}:null,retryLane:536870912,hydrationErrors:null},g=om(a),g.return=d,d.child=g,Cl=d,Ia=null)):a=null,a===null)throw Sl(d);return Kp(a)?d.lanes=32:d.lanes=536870912,null}var fe=C.children;return C=C.fallback,N?(aa(),N=d.mode,fe=Kl({mode:"hidden",children:fe},N),C=ai(C,N,g,null),fe.return=d,C.return=d,fe.sibling=C,d.child=fe,C=d.child,C.memoizedState=ga(g),C.childLanes=Ju(a,se,g),d.memoizedState=sb,_a(null,C)):(Lm(d),Mg(d,fe))}var ct=a.memoizedState;if(ct!==null&&(fe=ct.dehydrated,fe!==null)){if($)d.flags&256?(Lm(d),d.flags&=-257,d=Bh(a,d,g)):d.memoizedState!==null?(aa(),d.child=a.child,d.flags|=128,d=null):(aa(),fe=C.fallback,N=d.mode,C=Kl({mode:"visible",children:C.children},N),fe=ai(fe,N,g,null),fe.flags|=2,C.return=d,fe.return=d,C.sibling=fe,d.child=C,Ou(d,a.child,null,g),C=d.child,C.memoizedState=ga(g),C.childLanes=Ju(a,se,g),d.memoizedState=sb,d=_a(null,C));else if(Lm(d),Kp(fe)){if(se=fe.nextSibling&&fe.nextSibling.dataset,se)var Zt=se.dgst;se=Zt,C=Error(x(419)),C.stack="",C.digest=se,hc({value:C,source:null,stack:null}),d=Bh(a,d,g)}else if(Tl||tf(a,d,g,!1),se=(g&a.childLanes)!==0,Tl||se){if(se=ba,se!==null&&(C=Qn(se,g),C!==0&&C!==ct.retryLane))throw ct.retryLane=C,Wi(a,C),sd(se,a,C),Fv;Jv(fe)||mb(),d=Bh(a,d,g)}else Jv(fe)?(d.flags|=192,d.child=a.child,d=null):(a=ct.treeContext,Ia=Kr(fe.nextSibling),Cl=d,Js=!0,Rl=null,_u=!1,a!==null&&vg(d,a),d=Mg(d,C.children),d.flags|=4096);return d}return N?(aa(),fe=C.fallback,N=d.mode,ct=a.child,Zt=ct.sibling,C=Fa(ct,{mode:"hidden",children:C.children}),C.subtreeFlags=ct.subtreeFlags&65011712,Zt!==null?fe=Fa(Zt,fe):(fe=ai(fe,N,g,null),fe.flags|=2),fe.return=d,C.return=d,C.sibling=fe,d.child=C,_a(null,C),C=d.child,fe=a.child.memoizedState,fe===null?fe=ga(g):(N=fe.cachePool,N!==null?(ct=qa._currentValue,N=N.parent!==ct?{parent:ct,pool:ct}:N):N=di(),fe={baseLanes:fe.baseLanes|g,cachePool:N}),C.memoizedState=fe,C.childLanes=Ju(a,se,g),d.memoizedState=sb,_a(a.child,C)):(Lm(d),g=a.child,a=g.sibling,g=Fa(g,{mode:"visible",children:C.children}),g.return=d,g.sibling=null,a!==null&&(se=d.deletions,se===null?(d.deletions=[a],d.flags|=16):se.push(a)),d.child=g,d.memoizedState=null,g)}function Mg(a,d){return d=Kl({mode:"visible",children:d},a.mode),d.return=a,a.child=d}function Kl(a,d){return a=Za(22,a,null,d),a.lanes=0,a}function Bh(a,d,g){return Ou(d,a.child,null,g),a=Mg(d,d.pendingProps.children),a.flags|=2,d.memoizedState=null,a}function ml(a,d,g){a.lanes|=d;var C=a.alternate;C!==null&&(C.lanes|=d),Gr(a.return,d,g)}function yc(a,d,g,C,N,$){var se=a.memoizedState;se===null?a.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:C,tail:g,tailMode:N,treeForkCount:$}:(se.isBackwards=d,se.rendering=null,se.renderingStartTime=0,se.last=C,se.tail=g,se.tailMode=N,se.treeForkCount=$)}function rb(a,d,g){var C=d.pendingProps,N=C.revealOrder,$=C.tail;C=C.children;var se=Di.current,fe=(se&2)!==0;if(fe?(se=se&1|2,d.flags|=128):se&=1,It(Di,se),lu(a,d,C,g),C=Js?uo:0,!fe&&a!==null&&(a.flags&128)!==0)e:for(a=d.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&ml(a,g,d);else if(a.tag===19)ml(a,g,d);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===d)break e;for(;a.sibling===null;){if(a.return===null||a.return===d)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(N){case"forwards":for(g=d.child,N=null;g!==null;)a=g.alternate,a!==null&&Pm(a)===null&&(N=g),g=g.sibling;g=N,g===null?(N=d.child,d.child=null):(N=g.sibling,g.sibling=null),yc(d,!1,N,g,$,C);break;case"backwards":case"unstable_legacy-backwards":for(g=null,N=d.child,d.child=null;N!==null;){if(a=N.alternate,a!==null&&Pm(a)===null){d.child=N;break}a=N.sibling,N.sibling=g,g=N,N=a}yc(d,!0,g,null,$,C);break;case"together":yc(d,!1,null,null,void 0,C);break;default:d.memoizedState=null}return d.child}function qt(a,d,g){if(a!==null&&(d.dependencies=a.dependencies),Lc|=d.lanes,(g&d.childLanes)===0)if(a!==null){if(tf(a,d,g,!1),(g&d.childLanes)===0)return null}else return null;if(a!==null&&d.child!==a.child)throw Error(x(153));if(d.child!==null){for(a=d.child,g=Fa(a,a.pendingProps),d.child=g,g.return=d;a.sibling!==null;)a=a.sibling,g=g.sibling=Fa(a,a.pendingProps),g.return=d;g.sibling=null}return d.child}function Bc(a,d){return(a.lanes&d)!==0?!0:(a=a.dependencies,!!(a!==null&&cs(a)))}function ab(a,d,g){switch(d.tag){case 3:X(d,d.stateNode.containerInfo),yr(d,qa,a.memoizedState.cache),Bm();break;case 27:case 5:xo(d);break;case 4:X(d,d.stateNode.containerInfo);break;case 10:yr(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,pc(d),null;break;case 13:var C=d.memoizedState;if(C!==null)return C.dehydrated!==null?(Lm(d),d.flags|=128,null):(g&d.child.childLanes)!==0?Mc(a,d,g):(Lm(d),a=qt(a,d,g),a!==null?a.sibling:null);Lm(d);break;case 19:var N=(a.flags&128)!==0;if(C=(g&d.childLanes)!==0,C||(tf(a,d,g,!1),C=(g&d.childLanes)!==0),N){if(C)return rb(a,d,g);d.flags|=128}if(N=d.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),It(Di,Di.current),C)break;return null;case 22:return d.lanes=0,fo(a,d,g,d.pendingProps);case 24:yr(d,qa,a.memoizedState.cache)}return qt(a,d,g)}function Ya(a,d,g){if(a!==null)if(a.memoizedProps!==d.pendingProps)Tl=!0;else{if(!Bc(a,g)&&(d.flags&128)===0)return Tl=!1,ab(a,d,g);Tl=(a.flags&131072)!==0}else Tl=!1,Js&&(d.flags&1048576)!==0&&Cp(d,uo,d.index);switch(d.lanes=0,d.tag){case 16:e:{var C=d.pendingProps;if(a=sm(d.elementType),d.type=a,typeof a=="function")qi(a)?(C=Rh(a,C),d.tag=1,d=cm(null,d,a,C,g)):(d.tag=0,d=Mh(null,d,a,C,g));else{if(a!=null){var N=a.$$typeof;if(N===it){d.tag=11,d=U0(null,d,a,C,g);break e}else if(N===ie){d.tag=14,d=jC(null,d,a,C,g);break e}}throw d=vt(a)||a,Error(x(306,d,""))}}return d;case 0:return Mh(a,d,d.type,d.pendingProps,g);case 1:return C=d.type,N=Rh(C,d.pendingProps),cm(a,d,C,N,g);case 3:e:{if(X(d,d.stateNode.containerInfo),a===null)throw Error(x(387));C=d.pendingProps;var $=d.memoizedState;N=$.element,Sp(a,d),Dg(d,C,null,g);var se=d.memoizedState;if(C=se.cache,yr(d,qa,C),C!==$.cache&&ci(d,[qa],g,!0),nr(),C=se.element,$.isDehydrated)if($={element:C,isDehydrated:!1,cache:se.cache},d.updateQueue.baseState=$,d.memoizedState=$,d.flags&256){d=Iv(a,d,C,g);break e}else if(C!==N){N=ra(Error(x(424)),d),hc(N),d=Iv(a,d,C,g);break e}else for(a=d.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Ia=Kr(a.firstChild),Cl=d,Js=!0,Rl=null,_u=!0,g=ur(d,null,C,g),d.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Bm(),C===N){d=qt(a,d,g);break e}lu(a,d,C,g)}d=d.child}return d;case 26:return W0(a,d),a===null?(g=jg(d.type,null,d.pendingProps,null))?d.memoizedState=g:Js||(g=d.type,a=d.pendingProps,C=Hg(He.current).createElement(g),C[er]=d,C[tr]=a,Qi(C,g,a),me(C),d.stateNode=C):d.memoizedState=jg(d.type,a.memoizedProps,d.pendingProps,a.memoizedState),null;case 27:return xo(d),a===null&&Js&&(C=d.stateNode=Oi(d.type,d.pendingProps,He.current),Cl=d,_u=!0,N=Ia,ld(d.type)?(Al=N,Ia=Kr(C.firstChild)):Ia=N),lu(a,d,d.pendingProps.children,g),W0(a,d),a===null&&(d.flags|=4194304),d.child;case 5:return a===null&&Js&&((N=C=Ia)&&(C=Sb(C,d.type,d.pendingProps,_u),C!==null?(d.stateNode=C,Cl=d,Ia=Kr(C.firstChild),_u=!1,N=!0):N=!1),N||Sl(d)),xo(d),N=d.type,$=d.pendingProps,se=a!==null?a.memoizedProps:null,C=$.children,Zh(N,$)?C=null:se!==null&&Zh(N,se)&&(d.flags|=32),d.memoizedState!==null&&(N=as(a,d,vi,null,null,g),cd._currentValue=N),W0(a,d),lu(a,d,C,g),d.child;case 6:return a===null&&Js&&((a=g=Ia)&&(g=Ly(g,d.pendingProps,_u),g!==null?(d.stateNode=g,Cl=d,Ia=null,a=!0):a=!1),a||Sl(d)),null;case 13:return Mc(a,d,g);case 4:return X(d,d.stateNode.containerInfo),C=d.pendingProps,a===null?d.child=Ou(d,null,C,g):lu(a,d,C,g),d.child;case 11:return U0(a,d,d.type,d.pendingProps,g);case 7:return lu(a,d,d.pendingProps,g),d.child;case 8:return lu(a,d,d.pendingProps.children,g),d.child;case 12:return lu(a,d,d.pendingProps.children,g),d.child;case 10:return C=d.pendingProps,yr(d,d.type,C.value),lu(a,d,C.children,g),d.child;case 9:return N=d.type._context,C=d.pendingProps.children,ql(d),N=Cs(N),C=C(N),d.flags|=1,lu(a,d,C,g),d.child;case 14:return jC(a,d,d.type,d.pendingProps,g);case 15:return Lu(a,d,d.type,d.pendingProps,g);case 19:return rb(a,d,g);case 31:return Z0(a,d,g);case 22:return fo(a,d,g,d.pendingProps);case 24:return ql(d),C=Cs(qa),a===null?(N=ka(),N===null&&(N=ba,$=Of(),N.pooledCache=$,$.refCount++,$!==null&&(N.pooledCacheLanes|=g),N=$),d.memoizedState={parent:C,cache:N},Ad(d),yr(d,qa,N)):((a.lanes&g)!==0&&(Sp(a,d),Dg(d,null,null,g),nr()),N=a.memoizedState,$=d.memoizedState,N.parent!==C?(N={parent:C,cache:C},d.memoizedState=N,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=N),yr(d,qa,C)):(C=$.cache,yr(d,qa,C),C!==N.cache&&ci(d,[qa],g,!0))),lu(a,d,d.pendingProps.children,g),d.child;case 29:throw d.pendingProps}throw Error(x(156,d.tag))}function Yl(a){a.flags|=4}function cu(a,d,g,C,N){if((d=(a.mode&32)!==0)&&(d=!1),d){if(a.flags|=16777216,(N&335544128)===N)if(a.stateNode.complete)a.flags|=8192;else if(X0())a.flags|=8192;else throw gc=K1,Sg}else a.flags&=-16777217}function D2(a,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!zy(d))if(X0())a.flags|=8192;else throw gc=K1,Sg}function cf(a,d){d!==null&&(a.flags|=4),a.flags&16384&&(d=a.tag!==22?Wt():536870912,a.lanes|=d,$h|=d)}function q0(a,d){if(!Js)switch(a.tailMode){case"hidden":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?a.tail=null:g.sibling=null;break;case"collapsed":g=a.tail;for(var C=null;g!==null;)g.alternate!==null&&(C=g),g=g.sibling;C===null?d||a.tail===null?a.tail=null:a.tail.sibling=null:C.sibling=null}}function Ar(a){var d=a.alternate!==null&&a.alternate.child===a.child,g=0,C=0;if(d)for(var N=a.child;N!==null;)g|=N.lanes|N.childLanes,C|=N.subtreeFlags&65011712,C|=N.flags&65011712,N.return=a,N=N.sibling;else for(N=a.child;N!==null;)g|=N.lanes|N.childLanes,C|=N.subtreeFlags,C|=N.flags,N.return=a,N=N.sibling;return a.subtreeFlags|=C,a.childLanes=g,d}function vr(a,d,g){var C=d.pendingProps;switch(Gu(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ar(d),null;case 1:return Ar(d),null;case 3:return g=d.stateNode,C=null,a!==null&&(C=a.memoizedState.cache),d.memoizedState.cache!==C&&(d.flags|=2048),dl(qa),$o(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(Ml(d)?Yl(d):a===null||a.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Th())),Ar(d),null;case 26:var N=d.type,$=d.memoizedState;return a===null?(Yl(d),$!==null?(Ar(d),D2(d,$)):(Ar(d),cu(d,N,null,C,g))):$?$!==a.memoizedState?(Yl(d),Ar(d),D2(d,$)):(Ar(d),d.flags&=-16777217):(a=a.memoizedProps,a!==C&&Yl(d),Ar(d),cu(d,N,a,C,g)),null;case 27:if(Mo(d),g=He.current,N=d.type,a!==null&&d.stateNode!=null)a.memoizedProps!==C&&Yl(d);else{if(!C){if(d.stateNode===null)throw Error(x(166));return Ar(d),null}a=Ne.current,Ml(d)?ef(d):(a=Oi(N,C,g),d.stateNode=a,Yl(d))}return Ar(d),null;case 5:if(Mo(d),N=d.type,a!==null&&d.stateNode!=null)a.memoizedProps!==C&&Yl(d);else{if(!C){if(d.stateNode===null)throw Error(x(166));return Ar(d),null}if($=Ne.current,Ml(d))ef(d);else{var se=Hg(He.current);switch($){case 1:$=se.createElementNS("http://www.w3.org/2000/svg",N);break;case 2:$=se.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;default:switch(N){case"svg":$=se.createElementNS("http://www.w3.org/2000/svg",N);break;case"math":$=se.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;case"script":$=se.createElement("div"),$.innerHTML="<script><\/script>",$=$.removeChild($.firstChild);break;case"select":$=typeof C.is=="string"?se.createElement("select",{is:C.is}):se.createElement("select"),C.multiple?$.multiple=!0:C.size&&($.size=C.size);break;default:$=typeof C.is=="string"?se.createElement(N,{is:C.is}):se.createElement(N)}}$[er]=d,$[tr]=C;e:for(se=d.child;se!==null;){if(se.tag===5||se.tag===6)$.appendChild(se.stateNode);else if(se.tag!==4&&se.tag!==27&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===d)break e;for(;se.sibling===null;){if(se.return===null||se.return===d)break e;se=se.return}se.sibling.return=se.return,se=se.sibling}d.stateNode=$;e:switch(Qi($,N,C),N){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break e;case"img":C=!0;break e;default:C=!1}C&&Yl(d)}}return Ar(d),cu(d,d.type,a===null?null:a.memoizedProps,d.pendingProps,g),null;case 6:if(a&&d.stateNode!=null)a.memoizedProps!==C&&Yl(d);else{if(typeof C!="string"&&d.stateNode===null)throw Error(x(166));if(a=He.current,Ml(d)){if(a=d.stateNode,g=d.memoizedProps,C=null,N=Cl,N!==null)switch(N.tag){case 27:case 5:C=N.memoizedProps}a[er]=d,a=!!(a.nodeValue===g||C!==null&&C.suppressHydrationWarning===!0||Ig(a.nodeValue,g)),a||Sl(d,!0)}else a=Hg(a).createTextNode(C),a[er]=d,d.stateNode=a}return Ar(d),null;case 31:if(g=d.memoizedState,a===null||a.memoizedState!==null){if(C=Ml(d),g!==null){if(a===null){if(!C)throw Error(x(318));if(a=d.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(x(557));a[er]=d}else Bm(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Ar(d),a=!1}else g=Th(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=g),a=!0;if(!a)return d.flags&256?(ta(d),d):(ta(d),null);if((d.flags&128)!==0)throw Error(x(558))}return Ar(d),null;case 13:if(C=d.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(N=Ml(d),C!==null&&C.dehydrated!==null){if(a===null){if(!N)throw Error(x(318));if(N=d.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(x(317));N[er]=d}else Bm(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Ar(d),N=!1}else N=Th(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=N),N=!0;if(!N)return d.flags&256?(ta(d),d):(ta(d),null)}return ta(d),(d.flags&128)!==0?(d.lanes=g,d):(g=C!==null,a=a!==null&&a.memoizedState!==null,g&&(C=d.child,N=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(N=C.alternate.memoizedState.cachePool.pool),$=null,C.memoizedState!==null&&C.memoizedState.cachePool!==null&&($=C.memoizedState.cachePool.pool),$!==N&&(C.flags|=2048)),g!==a&&g&&(d.child.flags|=8192),cf(d,d.updateQueue),Ar(d),null);case 4:return $o(),a===null&&Pc(d.stateNode.containerInfo),Ar(d),null;case 10:return dl(d.type),Ar(d),null;case 19:if(Ve(Di),C=d.memoizedState,C===null)return Ar(d),null;if(N=(d.flags&128)!==0,$=C.rendering,$===null)if(N)q0(C,!1);else{if(xi!==0||a!==null&&(a.flags&128)!==0)for(a=d.child;a!==null;){if($=Pm(a),$!==null){for(d.flags|=128,q0(C,!1),a=$.updateQueue,d.updateQueue=a,cf(d,a),d.subtreeFlags=0,a=g,g=d.child;g!==null;)ma(g,a),g=g.sibling;return It(Di,Di.current&1|2),Js&&Nc(d,C.treeForkCount),d.child}a=a.sibling}C.tail!==null&&Tt()>Hp&&(d.flags|=128,N=!0,q0(C,!1),d.lanes=4194304)}else{if(!N)if(a=Pm($),a!==null){if(d.flags|=128,N=!0,a=a.updateQueue,d.updateQueue=a,cf(d,a),q0(C,!0),C.tail===null&&C.tailMode==="hidden"&&!$.alternate&&!Js)return Ar(d),null}else 2*Tt()-C.renderingStartTime>Hp&&g!==536870912&&(d.flags|=128,N=!0,q0(C,!1),d.lanes=4194304);C.isBackwards?($.sibling=d.child,d.child=$):(a=C.last,a!==null?a.sibling=$:d.child=$,C.last=$)}return C.tail!==null?(a=C.tail,C.rendering=a,C.tail=a.sibling,C.renderingStartTime=Tt(),a.sibling=null,g=Di.current,It(Di,N?g&1|2:g&1),Js&&Nc(d,C.treeForkCount),a):(Ar(d),null);case 22:case 23:return ta(d),_g(),C=d.memoizedState!==null,a!==null?a.memoizedState!==null!==C&&(d.flags|=8192):C&&(d.flags|=8192),C?(g&536870912)!==0&&(d.flags&128)===0&&(Ar(d),d.subtreeFlags&6&&(d.flags|=8192)):Ar(d),g=d.updateQueue,g!==null&&cf(d,g.retryQueue),g=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),C=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(C=d.memoizedState.cachePool.pool),C!==g&&(d.flags|=2048),a!==null&&Ve(fl),null;case 24:return g=null,a!==null&&(g=a.memoizedState.cache),d.memoizedState.cache!==g&&(d.flags|=2048),dl(qa),Ar(d),null;case 25:return null;case 30:return null}throw Error(x(156,d.tag))}function um(a,d){switch(Gu(d),d.tag){case 1:return a=d.flags,a&65536?(d.flags=a&-65537|128,d):null;case 3:return dl(qa),$o(),a=d.flags,(a&65536)!==0&&(a&128)===0?(d.flags=a&-65537|128,d):null;case 26:case 27:case 5:return Mo(d),null;case 31:if(d.memoizedState!==null){if(ta(d),d.alternate===null)throw Error(x(340));Bm()}return a=d.flags,a&65536?(d.flags=a&-65537|128,d):null;case 13:if(ta(d),a=d.memoizedState,a!==null&&a.dehydrated!==null){if(d.alternate===null)throw Error(x(340));Bm()}return a=d.flags,a&65536?(d.flags=a&-65537|128,d):null;case 19:return Ve(Di),null;case 4:return $o(),null;case 10:return dl(d.type),null;case 22:case 23:return ta(d),_g(),a!==null&&Ve(fl),a=d.flags,a&65536?(d.flags=a&-65537|128,d):null;case 24:return dl(qa),null;case 25:return null;default:return null}}function Bp(a,d){switch(Gu(d),d.tag){case 3:dl(qa),$o();break;case 26:case 27:case 5:Mo(d);break;case 4:$o();break;case 31:d.memoizedState!==null&&ta(d);break;case 13:ta(d);break;case 19:Ve(Di);break;case 10:dl(d.type);break;case 22:case 23:ta(d),_g(),a!==null&&Ve(fl);break;case 24:dl(qa)}}function pa(a,d){try{var g=d.updateQueue,C=g!==null?g.lastEffect:null;if(C!==null){var N=C.next;g=N;do{if((g.tag&a)===a){C=void 0;var $=g.create,se=g.inst;C=$(),se.destroy=C}g=g.next}while(g!==N)}}catch(fe){ca(d,d.return,fe)}}function jm(a,d,g){try{var C=d.updateQueue,N=C!==null?C.lastEffect:null;if(N!==null){var $=N.next;C=$;do{if((C.tag&a)===a){var se=C.inst,fe=se.destroy;if(fe!==void 0){se.destroy=void 0,N=d;var ct=g,Zt=fe;try{Zt()}catch(bn){ca(N,ct,bn)}}}C=C.next}while(C!==$)}}catch(bn){ca(d,d.return,bn)}}function Cy(a){var d=a.updateQueue;if(d!==null){var g=a.stateNode;try{kh(d,g)}catch(C){ca(a,a.return,C)}}}function uf(a,d,g){g.props=Rh(a.type,a.memoizedProps),g.state=a.memoizedState;try{g.componentWillUnmount()}catch(C){ca(a,d,C)}}function Bg(a,d){try{var g=a.ref;if(g!==null){switch(a.tag){case 26:case 27:case 5:var C=a.stateNode;break;case 30:C=a.stateNode;break;default:C=a.stateNode}typeof g=="function"?a.refCleanup=g(C):g.current=C}}catch(N){ca(a,d,N)}}function $i(a,d){var g=a.ref,C=a.refCleanup;if(g!==null)if(typeof C=="function")try{C()}catch(N){ca(a,d,N)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(N){ca(a,d,N)}else g.current=null}function _2(a){var d=a.type,g=a.memoizedProps,C=a.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":g.autoFocus&&C.focus();break e;case"img":g.src?C.src=g.src:g.srcSet&&(C.srcset=g.srcSet)}}catch(N){ca(a,a.return,N)}}function bt(a,d,g){try{var C=a.stateNode;nc(C,a.type,g,d),C[tr]=d}catch(N){ca(a,a.return,N)}}function ed(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ld(a.type)||a.tag===4}function Lp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||ed(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ld(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Oa(a,d,g){var C=a.tag;if(C===5||C===6)a=a.stateNode,d?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(a,d):(d=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,d.appendChild(a),g=g._reactRootContainer,g!=null||d.onclick!==null||(d.onclick=pi));else if(C!==4&&(C===27&&ld(a.type)&&(g=a.stateNode,d=null),a=a.child,a!==null))for(Oa(a,d,g),a=a.sibling;a!==null;)Oa(a,d,g),a=a.sibling}function Xl(a,d,g){var C=a.tag;if(C===5||C===6)a=a.stateNode,d?g.insertBefore(a,d):g.appendChild(a);else if(C!==4&&(C===27&&ld(a.type)&&(g=a.stateNode),a=a.child,a!==null))for(Xl(a,d,g),a=a.sibling;a!==null;)Xl(a,d,g),a=a.sibling}function Gi(a){var d=a.stateNode,g=a.memoizedProps;try{for(var C=a.type,N=d.attributes;N.length;)d.removeAttributeNode(N[0]);Qi(d,C,g),d[er]=a,d[tr]=g}catch($){ca(a,a.return,$)}}var dr=!1,Fl=!1,Vm=!1,Lh=typeof WeakSet=="function"?WeakSet:Set,hl=null;function ib(a,d){if(a=a.containerInfo,Uh=so,a=L0(a),bp(a)){if("selectionStart"in a)var g={start:a.selectionStart,end:a.selectionEnd};else e:{g=(g=a.ownerDocument)&&g.defaultView||window;var C=g.getSelection&&g.getSelection();if(C&&C.rangeCount!==0){g=C.anchorNode;var N=C.anchorOffset,$=C.focusNode;C=C.focusOffset;try{g.nodeType,$.nodeType}catch{g=null;break e}var se=0,fe=-1,ct=-1,Zt=0,bn=0,Dn=a,Qt=null;t:for(;;){for(var cn;Dn!==g||N!==0&&Dn.nodeType!==3||(fe=se+N),Dn!==$||C!==0&&Dn.nodeType!==3||(ct=se+C),Dn.nodeType===3&&(se+=Dn.nodeValue.length),(cn=Dn.firstChild)!==null;)Qt=Dn,Dn=cn;for(;;){if(Dn===a)break t;if(Qt===g&&++Zt===N&&(fe=se),Qt===$&&++bn===C&&(ct=se),(cn=Dn.nextSibling)!==null)break;Dn=Qt,Qt=Dn.parentNode}Dn=cn}g=fe===-1||ct===-1?null:{start:fe,end:ct}}else g=null}g=g||{start:0,end:0}}else g=null;for(qm={focusedElem:a,selectionRange:g},so=!1,hl=d;hl!==null;)if(d=hl,a=d.child,(d.subtreeFlags&1028)!==0&&a!==null)a.return=d,hl=a;else for(;hl!==null;){switch(d=hl,$=d.alternate,a=d.flags,d.tag){case 0:if((a&4)!==0&&(a=d.updateQueue,a=a!==null?a.events:null,a!==null))for(g=0;g<a.length;g++)N=a[g],N.ref.impl=N.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&$!==null){a=void 0,g=d,N=$.memoizedProps,$=$.memoizedState,C=g.stateNode;try{var es=Rh(g.type,N);a=C.getSnapshotBeforeUpdate(es,$),C.__reactInternalSnapshotBeforeUpdate=a}catch(Ns){ca(g,g.return,Ns)}}break;case 3:if((a&1024)!==0){if(a=d.stateNode.containerInfo,g=a.nodeType,g===9)Cb(a);else if(g===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Cb(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(x(163))}if(a=d.sibling,a!==null){a.return=d.return,hl=a;break}hl=d.return}}function Sy(a,d,g){var C=g.flags;switch(g.tag){case 0:case 11:case 15:Mf(a,g),C&4&&pa(5,g);break;case 1:if(Mf(a,g),C&4)if(a=g.stateNode,d===null)try{a.componentDidMount()}catch(se){ca(g,g.return,se)}else{var N=Rh(g.type,d.memoizedProps);d=d.memoizedState;try{a.componentDidUpdate(N,d,a.__reactInternalSnapshotBeforeUpdate)}catch(se){ca(g,g.return,se)}}C&64&&Cy(g),C&512&&Bg(g,g.return);break;case 3:if(Mf(a,g),C&64&&(a=g.updateQueue,a!==null)){if(d=null,g.child!==null)switch(g.child.tag){case 27:case 5:d=g.child.stateNode;break;case 1:d=g.child.stateNode}try{kh(a,d)}catch(se){ca(g,g.return,se)}}break;case 27:d===null&&C&4&&Gi(g);case 26:case 5:Mf(a,g),d===null&&C&4&&_2(g),C&512&&Bg(g,g.return);break;case 12:Mf(a,g);break;case 31:Mf(a,g),C&4&&O2(a,g);break;case 13:Mf(a,g),C&4&&Ql(a,g),C&64&&(a=g.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(g=Uv.bind(null,g),Ji(a,g))));break;case 22:if(C=g.memoizedState!==null||dr,!C){d=d!==null&&d.memoizedState!==null||Fl,N=dr;var $=Fl;dr=C,(Fl=d)&&!$?ec(a,g,(g.subtreeFlags&8772)!==0):Mf(a,g),dr=N,Fl=$}break;case 30:break;default:Mf(a,g)}}function Ey(a){var d=a.alternate;d!==null&&(a.alternate=null,Ey(d)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(d=a.stateNode,d!==null&&co(d)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var za=null,vc=!1;function Um(a,d,g){for(g=g.child;g!==null;)Ty(a,d,g),g=g.sibling}function Ty(a,d,g){if(Es&&typeof Es.onCommitFiberUnmount=="function")try{Es.onCommitFiberUnmount(Vs,g)}catch{}switch(g.tag){case 26:Fl||$i(g,d),Um(a,d,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Fl||$i(g,d);var C=za,N=vc;ld(g.type)&&(za=g.stateNode,vc=!1),Um(a,d,g),Km(g.stateNode),za=C,vc=N;break;case 5:Fl||$i(g,d);case 6:if(C=za,N=vc,za=null,Um(a,d,g),za=C,vc=N,za!==null)if(vc)try{(za.nodeType===9?za.body:za.nodeName==="HTML"?za.ownerDocument.body:za).removeChild(g.stateNode)}catch($){ca(g,d,$)}else try{za.removeChild(g.stateNode)}catch($){ca(g,d,$)}break;case 18:za!==null&&(vc?(a=za,Xv(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,g.stateNode),n0(a)):Xv(za,g.stateNode));break;case 4:C=za,N=vc,za=g.stateNode.containerInfo,vc=!0,Um(a,d,g),za=C,vc=N;break;case 0:case 11:case 14:case 15:jm(2,g,d),Fl||jm(4,g,d),Um(a,d,g);break;case 1:Fl||($i(g,d),C=g.stateNode,typeof C.componentWillUnmount=="function"&&uf(g,d,C)),Um(a,d,g);break;case 21:Um(a,d,g);break;case 22:Fl=(C=Fl)||g.memoizedState!==null,Um(a,d,g),Fl=C;break;default:Um(a,d,g)}}function O2(a,d){if(d.memoizedState===null&&(a=d.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{n0(a)}catch(g){ca(d,d.return,g)}}}function Ql(a,d){if(d.memoizedState===null&&(a=d.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{n0(a)}catch(g){ca(d,d.return,g)}}function td(a){switch(a.tag){case 31:case 13:case 19:var d=a.stateNode;return d===null&&(d=a.stateNode=new Lh),d;case 22:return a=a.stateNode,d=a._retryCache,d===null&&(d=a._retryCache=new Lh),d;default:throw Error(x(435,a.tag))}}function Xa(a,d){var g=td(a);d.forEach(function(C){if(!g.has(C)){g.add(C);var N=Zv.bind(null,a,C);C.then(N,N)}})}function $l(a,d){var g=d.deletions;if(g!==null)for(var C=0;C<g.length;C++){var N=g[C],$=a,se=d,fe=se;e:for(;fe!==null;){switch(fe.tag){case 27:if(ld(fe.type)){za=fe.stateNode,vc=!1;break e}break;case 5:za=fe.stateNode,vc=!1;break e;case 3:case 4:za=fe.stateNode.containerInfo,vc=!0;break e}fe=fe.return}if(za===null)throw Error(x(160));Ty($,se,N),za=null,vc=!1,$=N.alternate,$!==null&&($.return=null),N.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)uu(d,a),d=d.sibling}var nd=null;function uu(a,d){var g=a.alternate,C=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:$l(d,a),xc(a),C&4&&(jm(3,a,a.return),pa(3,a),jm(5,a,a.return));break;case 1:$l(d,a),xc(a),C&512&&(Fl||g===null||$i(g,g.return)),C&64&&dr&&(a=a.updateQueue,a!==null&&(C=a.callbacks,C!==null&&(g=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=g===null?C:g.concat(C))));break;case 26:var N=nd;if($l(d,a),xc(a),C&512&&(Fl||g===null||$i(g,g.return)),C&4){var $=g!==null?g.memoizedState:null;if(C=a.memoizedState,g===null)if(C===null)if(a.stateNode===null){e:{C=a.type,g=a.memoizedProps,N=N.ownerDocument||N;t:switch(C){case"title":$=N.getElementsByTagName("title")[0],(!$||$[Ao]||$[er]||$.namespaceURI==="http://www.w3.org/2000/svg"||$.hasAttribute("itemprop"))&&($=N.createElement(C),N.head.insertBefore($,N.querySelector("head > title"))),Qi($,C,g),$[er]=a,me($),C=$;break e;case"link":var se=Fc("link","href",N).get(C+(g.href||""));if(se){for(var fe=0;fe<se.length;fe++)if($=se[fe],$.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&$.getAttribute("rel")===(g.rel==null?null:g.rel)&&$.getAttribute("title")===(g.title==null?null:g.title)&&$.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){se.splice(fe,1);break t}}$=N.createElement(C),Qi($,C,g),N.head.appendChild($);break;case"meta":if(se=Fc("meta","content",N).get(C+(g.content||""))){for(fe=0;fe<se.length;fe++)if($=se[fe],$.getAttribute("content")===(g.content==null?null:""+g.content)&&$.getAttribute("name")===(g.name==null?null:g.name)&&$.getAttribute("property")===(g.property==null?null:g.property)&&$.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&$.getAttribute("charset")===(g.charSet==null?null:g.charSet)){se.splice(fe,1);break t}}$=N.createElement(C),Qi($,C,g),N.head.appendChild($);break;default:throw Error(x(468,C))}$[er]=a,me($),C=$}a.stateNode=C}else Xp(N,a.type,a.stateNode);else a.stateNode=oc(N,C,a.memoizedProps);else $!==C?($===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):$.count--,C===null?Xp(N,a.type,a.stateNode):oc(N,C,a.memoizedProps)):C===null&&a.stateNode!==null&&bt(a,a.memoizedProps,g.memoizedProps)}break;case 27:$l(d,a),xc(a),C&512&&(Fl||g===null||$i(g,g.return)),g!==null&&C&4&&bt(a,a.memoizedProps,g.memoizedProps);break;case 5:if($l(d,a),xc(a),C&512&&(Fl||g===null||$i(g,g.return)),a.flags&32){N=a.stateNode;try{uc(N,"")}catch(es){ca(a,a.return,es)}}C&4&&a.stateNode!=null&&(N=a.memoizedProps,bt(a,N,g!==null?g.memoizedProps:N)),C&1024&&(Vm=!0);break;case 6:if($l(d,a),xc(a),C&4){if(a.stateNode===null)throw Error(x(162));C=a.memoizedProps,g=a.stateNode;try{g.nodeValue=C}catch(es){ca(a,a.return,es)}}break;case 3:if(Hy=null,N=nd,nd=Eb(d.containerInfo),$l(d,a),nd=N,xc(a),C&4&&g!==null&&g.memoizedState.isDehydrated)try{n0(d.containerInfo)}catch(es){ca(a,a.return,es)}Vm&&(Vm=!1,Ii(a));break;case 4:C=nd,nd=Eb(a.stateNode.containerInfo),$l(d,a),xc(a),nd=C;break;case 12:$l(d,a),xc(a);break;case 31:$l(d,a),xc(a),C&4&&(C=a.updateQueue,C!==null&&(a.updateQueue=null,Xa(a,C)));break;case 13:$l(d,a),xc(a),a.child.flags&8192&&a.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Ip=Tt()),C&4&&(C=a.updateQueue,C!==null&&(a.updateQueue=null,Xa(a,C)));break;case 22:N=a.memoizedState!==null;var ct=g!==null&&g.memoizedState!==null,Zt=dr,bn=Fl;if(dr=Zt||N,Fl=bn||ct,$l(d,a),Fl=bn,dr=Zt,xc(a),C&8192)e:for(d=a.stateNode,d._visibility=N?d._visibility&-2:d._visibility|1,N&&(g===null||ct||dr||Fl||Jl(a)),g=null,d=a;;){if(d.tag===5||d.tag===26){if(g===null){ct=g=d;try{if($=ct.stateNode,N)se=$.style,typeof se.setProperty=="function"?se.setProperty("display","none","important"):se.display="none";else{fe=ct.stateNode;var Dn=ct.memoizedProps.style,Qt=Dn!=null&&Dn.hasOwnProperty("display")?Dn.display:null;fe.style.display=Qt==null||typeof Qt=="boolean"?"":(""+Qt).trim()}}catch(es){ca(ct,ct.return,es)}}}else if(d.tag===6){if(g===null){ct=d;try{ct.stateNode.nodeValue=N?"":ct.memoizedProps}catch(es){ca(ct,ct.return,es)}}}else if(d.tag===18){if(g===null){ct=d;try{var cn=ct.stateNode;N?wb(cn,!0):wb(ct.stateNode,!1)}catch(es){ca(ct,ct.return,es)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===a)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break e;for(;d.sibling===null;){if(d.return===null||d.return===a)break e;g===d&&(g=null),d=d.return}g===d&&(g=null),d.sibling.return=d.return,d=d.sibling}C&4&&(C=a.updateQueue,C!==null&&(g=C.retryQueue,g!==null&&(C.retryQueue=null,Xa(a,g))));break;case 19:$l(d,a),xc(a),C&4&&(C=a.updateQueue,C!==null&&(a.updateQueue=null,Xa(a,C)));break;case 30:break;case 21:break;default:$l(d,a),xc(a)}}function xc(a){var d=a.flags;if(d&2){try{for(var g,C=a.return;C!==null;){if(ed(C)){g=C;break}C=C.return}if(g==null)throw Error(x(160));switch(g.tag){case 27:var N=g.stateNode,$=Lp(a);Xl(a,$,N);break;case 5:var se=g.stateNode;g.flags&32&&(uc(se,""),g.flags&=-33);var fe=Lp(a);Xl(a,fe,se);break;case 3:case 4:var ct=g.stateNode.containerInfo,Zt=Lp(a);Oa(a,Zt,ct);break;default:throw Error(x(161))}}catch(bn){ca(a,a.return,bn)}a.flags&=-3}d&4096&&(a.flags&=-4097)}function Ii(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var d=a;Ii(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),a=a.sibling}}function Mf(a,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)Sy(a,d.alternate,d),d=d.sibling}function Jl(a){for(a=a.child;a!==null;){var d=a;switch(d.tag){case 0:case 11:case 14:case 15:jm(4,d,d.return),Jl(d);break;case 1:$i(d,d.return);var g=d.stateNode;typeof g.componentWillUnmount=="function"&&uf(d,d.return,g),Jl(d);break;case 27:Km(d.stateNode);case 26:case 5:$i(d,d.return),Jl(d);break;case 22:d.memoizedState===null&&Jl(d);break;case 30:Jl(d);break;default:Jl(d)}a=a.sibling}}function ec(a,d,g){for(g=g&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var C=d.alternate,N=a,$=d,se=$.flags;switch($.tag){case 0:case 11:case 15:ec(N,$,g),pa(4,$);break;case 1:if(ec(N,$,g),C=$,N=C.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(Zt){ca(C,C.return,Zt)}if(C=$,N=C.updateQueue,N!==null){var fe=C.stateNode;try{var ct=N.shared.hiddenCallbacks;if(ct!==null)for(N.shared.hiddenCallbacks=null,N=0;N<ct.length;N++)ha(ct[N],fe)}catch(Zt){ca(C,C.return,Zt)}}g&&se&64&&Cy($),Bg($,$.return);break;case 27:Gi($);case 26:case 5:ec(N,$,g),g&&C===null&&se&4&&_2($),Bg($,$.return);break;case 12:ec(N,$,g);break;case 31:ec(N,$,g),g&&se&4&&O2(N,$);break;case 13:ec(N,$,g),g&&se&4&&Ql(N,$);break;case 22:$.memoizedState===null&&ec(N,$,g),Bg($,$.return);break;case 30:break;default:ec(N,$,g)}d=d.sibling}}function lb(a,d){var g=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),a=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(a=d.memoizedState.cachePool.pool),a!==g&&(a!=null&&a.refCount++,g!=null&&Sd(g))}function Ki(a,d){a=null,d.alternate!==null&&(a=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==a&&(d.refCount++,a!=null&&Sd(a))}function Pu(a,d,g,C){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Bf(a,d,g,C),d=d.sibling}function Bf(a,d,g,C){var N=d.flags;switch(d.tag){case 0:case 11:case 15:Pu(a,d,g,C),N&2048&&pa(9,d);break;case 1:Pu(a,d,g,C);break;case 3:Pu(a,d,g,C),N&2048&&(a=null,d.alternate!==null&&(a=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==a&&(d.refCount++,a!=null&&Sd(a)));break;case 12:if(N&2048){Pu(a,d,g,C),a=d.stateNode;try{var $=d.memoizedProps,se=$.id,fe=$.onPostCommit;typeof fe=="function"&&fe(se,d.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ct){ca(d,d.return,ct)}}else Pu(a,d,g,C);break;case 31:Pu(a,d,g,C);break;case 13:Pu(a,d,g,C);break;case 23:break;case 22:$=d.stateNode,se=d.alternate,d.memoizedState!==null?$._visibility&2?Pu(a,d,g,C):dm(a,d):$._visibility&2?Pu(a,d,g,C):($._visibility|=2,Lf(a,d,g,C,(d.subtreeFlags&10256)!==0||!1)),N&2048&&lb(se,d);break;case 24:Pu(a,d,g,C),N&2048&&Ki(d.alternate,d);break;default:Pu(a,d,g,C)}}function Lf(a,d,g,C,N){for(N=N&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var $=a,se=d,fe=g,ct=C,Zt=se.flags;switch(se.tag){case 0:case 11:case 15:Lf($,se,fe,ct,N),pa(8,se);break;case 23:break;case 22:var bn=se.stateNode;se.memoizedState!==null?bn._visibility&2?Lf($,se,fe,ct,N):dm($,se):(bn._visibility|=2,Lf($,se,fe,ct,N)),N&&Zt&2048&&lb(se.alternate,se);break;case 24:Lf($,se,fe,ct,N),N&&Zt&2048&&Ki(se.alternate,se);break;default:Lf($,se,fe,ct,N)}d=d.sibling}}function dm(a,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var g=a,C=d,N=C.flags;switch(C.tag){case 22:dm(g,C),N&2048&&lb(C.alternate,C);break;case 24:dm(g,C),N&2048&&Ki(C.alternate,C);break;default:dm(g,C)}d=d.sibling}}var cb=8192;function Ph(a,d,g){if(a.subtreeFlags&cb)for(a=a.child;a!==null;)Zm(a,d,g),a=a.sibling}function Zm(a,d,g){switch(a.tag){case 26:Ph(a,d,g),a.flags&cb&&a.memoizedState!==null&&nx(g,nd,a.memoizedState,a.memoizedProps);break;case 5:Ph(a,d,g);break;case 3:case 4:var C=nd;nd=Eb(a.stateNode.containerInfo),Ph(a,d,g),nd=C;break;case 22:a.memoizedState===null&&(C=a.alternate,C!==null&&C.memoizedState!==null?(C=cb,cb=16777216,Ph(a,d,g),cb=C):Ph(a,d,g));break;default:Ph(a,d,g)}}function G0(a){var d=a.alternate;if(d!==null&&(a=d.child,a!==null)){d.child=null;do d=a.sibling,a.sibling=null,a=d;while(a!==null)}}function kr(a){var d=a.deletions;if((a.flags&16)!==0){if(d!==null)for(var g=0;g<d.length;g++){var C=d[g];hl=C,Pp(C,a)}G0(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Hv(a),a=a.sibling}function Hv(a){switch(a.tag){case 0:case 11:case 15:kr(a),a.flags&2048&&jm(9,a,a.return);break;case 3:kr(a);break;case 12:kr(a);break;case 22:var d=a.stateNode;a.memoizedState!==null&&d._visibility&2&&(a.return===null||a.return.tag!==13)?(d._visibility&=-3,Pf(a)):kr(a);break;default:kr(a)}}function Pf(a){var d=a.deletions;if((a.flags&16)!==0){if(d!==null)for(var g=0;g<d.length;g++){var C=d[g];hl=C,Pp(C,a)}G0(a)}for(a=a.child;a!==null;){switch(d=a,d.tag){case 0:case 11:case 15:jm(8,d,d.return),Pf(d);break;case 22:g=d.stateNode,g._visibility&2&&(g._visibility&=-3,Pf(d));break;default:Pf(d)}a=a.sibling}}function Pp(a,d){for(;hl!==null;){var g=hl;switch(g.tag){case 0:case 11:case 15:jm(8,g,d);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var C=g.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:Sd(g.memoizedState.cache)}if(C=g.child,C!==null)C.return=g,hl=C;else e:for(g=a;hl!==null;){C=hl;var N=C.sibling,$=C.return;if(Ey(C),C===g){hl=null;break e}if(N!==null){N.return=$,hl=N;break e}hl=$}}}var Ay={getCacheForType:function(a){var d=Cs(qa),g=d.data.get(a);return g===void 0&&(g=a(),d.data.set(a,g)),g},cacheSignal:function(){return Cs(qa).controller.signal}},Fh=typeof WeakMap=="function"?WeakMap:Map,Ls=0,ba=null,xr=null,Nr=0,Na=0,Fu=null,Ff=!1,Fp=!1,ub=!1,fm=0,xi=0,Lc=0,wc=0,mm=0,Md=0,$h=0,$p=null,od=null,db=!1,Ip=0,fb=0,Hp=1/0,Bd=null,$f=null,Yi=0,Ld=null,zp=null,Pd=0,Cc=0,zv=null,ky=null,jp=0,K0=null;function Fd(){return(Ls&2)!==0&&Nr!==0?Nr&-Nr:F.T!==null?$d():sl()}function Lg(){if(Md===0)if((Nr&536870912)===0||Js){var a=Hn;Hn<<=1,(Hn&3932160)===0&&(Hn=262144),Md=a}else Md=536870912;return a=ou.current,a!==null&&(a.flags|=32),Md}function sd(a,d,g){(a===ba&&(Na===2||Na===9)||a.cancelPendingCommit!==null)&&(tc(a,0),hs(a,Nr,Md,!1)),Yn(a,g),((Ls&2)===0||a!==ba)&&(a===ba&&((Ls&2)===0&&(wc|=g),xi===4&&hs(a,Nr,Md,!1)),df(a))}function Y0(a,d,g){if((Ls&6)!==0)throw Error(x(327));var C=!g&&(d&127)===0&&(d&a.expiredLanes)===0||Ba(a,d),N=C?hb(a,d):Vv(a,d,!0),$=C;do{if(N===0){Fp&&!C&&hs(a,d,0,!1);break}else{if(g=a.current.alternate,$&&!N2(g)){N=Vv(a,d,!1),$=!1;continue}if(N===2){if($=d,a.errorRecoveryDisabledLanes&$)var se=0;else se=a.pendingLanes&-536870913,se=se!==0?se:se&536870912?536870912:0;if(se!==0){d=se;e:{var fe=a;N=$p;var ct=fe.current.memoizedState.isDehydrated;if(ct&&(tc(fe,se).flags|=256),se=Vv(fe,se,!1),se!==2){if(ub&&!ct){fe.errorRecoveryDisabledLanes|=$,wc|=$,N=4;break e}$=od,od=N,$!==null&&(od===null?od=$:od.push.apply(od,$))}N=se}if($=!1,N!==2)continue}}if(N===1){tc(a,0),hs(a,d,0,!0);break}e:{switch(C=a,$=N,$){case 0:case 1:throw Error(x(345));case 4:if((d&4194048)!==d)break;case 6:hs(C,d,Md,!Ff);break e;case 2:od=null;break;case 3:case 5:break;default:throw Error(x(329))}if((d&62914560)===d&&(N=Ip+300-Tt(),10<N)){if(hs(C,d,Md,!Ff),ui(C,0,!0)!==0)break e;Pd=d,C.timeoutHandle=t1(Dy.bind(null,C,g,od,Bd,db,d,Md,wc,$h,Ff,$,"Throttled",-0,0),N);break e}Dy(C,g,od,Bd,db,d,Md,wc,$h,Ff,$,null,-0,0)}}break}while(!0);df(a)}function Dy(a,d,g,C,N,$,se,fe,ct,Zt,bn,Dn,Qt,cn){if(a.timeoutHandle=-1,Dn=d.subtreeFlags,Dn&8192||(Dn&16785408)===16785408){Dn={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pi},Zm(d,$,Dn);var es=($&62914560)===$?Ip-Tt():($&4194048)===$?fb-Tt():0;if(es=kb(Dn,es),es!==null){Pd=$,a.cancelPendingCommit=es(P2.bind(null,a,d,$,g,C,N,se,fe,ct,bn,Dn,null,Qt,cn)),hs(a,$,se,!Zt);return}}P2(a,d,$,g,C,N,se,fe,ct)}function N2(a){for(var d=a;;){var g=d.tag;if((g===0||g===11||g===15)&&d.flags&16384&&(g=d.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var C=0;C<g.length;C++){var N=g[C],$=N.getSnapshot;N=N.value;try{if(!vl($(),N))return!1}catch{return!1}}if(g=d.child,d.subtreeFlags&16384&&g!==null)g.return=d,d=g;else{if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function hs(a,d,g,C){d&=~mm,d&=~wc,a.suspendedLanes|=d,a.pingedLanes&=~d,C&&(a.warmLanes|=d),C=a.expirationTimes;for(var N=d;0<N;){var $=31-gs(N),se=1<<$;C[$]=-1,N&=~se}g!==0&&vo(a,g,d)}function Vp(){return(Ls&6)===0?(J0(0),!1):!0}function Ps(){if(xr!==null){if(Na===0)var a=xr.return;else a=xr,Wa=Or=null,rf(a),Nf=null,rm=0,a=xr;for(;a!==null;)Bp(a.alternate,a),a=a.return;xr=null}}function tc(a,d){var g=a.timeoutHandle;g!==-1&&(a.timeoutHandle=-1,Kv(g)),g=a.cancelPendingCommit,g!==null&&(a.cancelPendingCommit=null,g()),Pd=0,Ps(),ba=a,xr=g=Fa(a.current,null),Nr=d,Na=0,Fu=null,Ff=!1,Fp=Ba(a,d),ub=!1,$h=Md=mm=wc=Lc=xi=0,od=$p=null,db=!1,(d&8)!==0&&(d|=d&32);var C=a.entangledLanes;if(C!==0)for(a=a.entanglements,C&=d;0<C;){var N=31-gs(C),$=1<<N;d|=a[N],C&=~$}return fm=d,Xc(),g}function Ih(a,d){or=null,F.H=la,d===of||d===Eg?(d=Y1(),Na=3):d===Sg?(d=Y1(),Na=4):Na=d===Fv?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Fu=d,xr===null&&(xi=1,vy(a,ra(d,a.current)))}function X0(){var a=ou.current;return a===null?!0:(Nr&4194048)===Nr?Nu===null:(Nr&62914560)===Nr||(Nr&536870912)!==0?a===Nu:!1}function sr(){var a=F.H;return F.H=la,a===null?la:a}function jv(){var a=F.A;return F.A=Ay,a}function mb(){xi=4,Ff||(Nr&4194048)!==Nr&&ou.current!==null||(Fp=!0),(Lc&134217727)===0&&(wc&134217727)===0||ba===null||hs(ba,Nr,Md,!1)}function Vv(a,d,g){var C=Ls;Ls|=2;var N=sr(),$=jv();(ba!==a||Nr!==d)&&(Bd=null,tc(a,d)),d=!1;var se=xi;e:do try{if(Na!==0&&xr!==null){var fe=xr,ct=Fu;switch(Na){case 8:Ps(),se=6;break e;case 3:case 2:case 9:case 6:ou.current===null&&(d=!0);var Zt=Na;if(Na=0,Fu=null,Zp(a,fe,ct,Zt),g&&Fp){se=0;break e}break;default:Zt=Na,Na=0,Fu=null,Zp(a,fe,ct,Zt)}}Up(),se=xi;break}catch(bn){Ih(a,bn)}while(!0);return d&&a.shellSuspendCounter++,Wa=Or=null,Ls=C,F.H=N,F.A=$,xr===null&&(ba=null,Nr=0,Xc()),se}function Up(){for(;xr!==null;)M2(xr)}function hb(a,d){var g=Ls;Ls|=2;var C=sr(),N=jv();ba!==a||Nr!==d?(Bd=null,Hp=Tt()+500,tc(a,d)):Fp=Ba(a,d);e:do try{if(Na!==0&&xr!==null){d=xr;var $=Fu;t:switch(Na){case 1:Na=0,Fu=null,Zp(a,d,$,1);break;case 2:case 9:if(Td($)){Na=0,Fu=null,B2(d);break}d=function(){Na!==2&&Na!==9||ba!==a||(Na=7),df(a)},$.then(d,d);break e;case 3:Na=7;break e;case 4:Na=5;break e;case 7:Td($)?(Na=0,Fu=null,B2(d)):(Na=0,Fu=null,Zp(a,d,$,7));break;case 5:var se=null;switch(xr.tag){case 26:se=xr.memoizedState;case 5:case 27:var fe=xr;if(se?zy(se):fe.stateNode.complete){Na=0,Fu=null;var ct=fe.sibling;if(ct!==null)xr=ct;else{var Zt=fe.return;Zt!==null?(xr=Zt,gb(Zt)):xr=null}break t}}Na=0,Fu=null,Zp(a,d,$,5);break;case 6:Na=0,Fu=null,Zp(a,d,$,6);break;case 8:Ps(),xi=6;break e;default:throw Error(x(462))}}R2();break}catch(bn){Ih(a,bn)}while(!0);return Wa=Or=null,F.H=C,F.A=N,Ls=g,xr!==null?0:(ba=null,Nr=0,Xc(),xi)}function R2(){for(;xr!==null&&!Dt();)M2(xr)}function M2(a){var d=Ya(a.alternate,a,fm);a.memoizedProps=a.pendingProps,d===null?gb(a):xr=d}function B2(a){var d=a,g=d.alternate;switch(d.tag){case 15:case 0:d=$v(g,d,d.pendingProps,d.type,void 0,Nr);break;case 11:d=$v(g,d,d.pendingProps,d.type.render,d.ref,Nr);break;case 5:rf(d);default:Bp(g,d),d=xr=ma(d,fm),d=Ya(g,d,fm)}a.memoizedProps=a.pendingProps,d===null?gb(a):xr=d}function Zp(a,d,g,C){Wa=Or=null,rf(d),Nf=null,rm=0;var N=d.return;try{if(zC(a,N,d,g,Nr)){xi=1,vy(a,ra(g,a.current)),xr=null;return}}catch($){if(N!==null)throw xr=N,$;xi=1,vy(a,ra(g,a.current)),xr=null;return}d.flags&32768?(Js||C===1?a=!0:Fp||(Nr&536870912)!==0?a=!1:(Ff=a=!0,(C===2||C===9||C===3||C===6)&&(C=ou.current,C!==null&&C.tag===13&&(C.flags|=16384))),L2(d,a)):gb(d)}function gb(a){var d=a;do{if((d.flags&32768)!==0){L2(d,Ff);return}a=d.return;var g=vr(d.alternate,d,fm);if(g!==null){xr=g;return}if(d=d.sibling,d!==null){xr=d;return}xr=d=a}while(d!==null);xi===0&&(xi=5)}function L2(a,d){do{var g=um(a.alternate,a);if(g!==null){g.flags&=32767,xr=g;return}if(g=a.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!d&&(a=a.sibling,a!==null)){xr=a;return}xr=a=g}while(a!==null);xi=6,xr=null}function P2(a,d,g,C,N,$,se,fe,ct){a.cancelPendingCommit=null;do rd();while(Yi!==0);if((Ls&6)!==0)throw Error(x(327));if(d!==null){if(d===a.current)throw Error(x(177));if($=d.lanes|d.childLanes,$|=ku,Gn(a,g,$,se,fe,ct),a===ba&&(xr=ba=null,Nr=0),zp=d,Ld=a,Pd=g,Cc=$,zv=N,ky=C,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,bb(Jo,function(){return hm(),null})):(a.callbackNode=null,a.callbackPriority=0),C=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||C){C=F.T,F.T=null,N=Vt.p,Vt.p=2,se=Ls,Ls|=4;try{ib(a,d,g)}finally{Ls=se,Vt.p=N,F.T=C}}Yi=1,Pg(),$u(),Xi()}}function Pg(){if(Yi===1){Yi=0;var a=Ld,d=zp,g=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||g){g=F.T,F.T=null;var C=Vt.p;Vt.p=2;var N=Ls;Ls|=4;try{uu(d,a);var $=qm,se=L0(a.containerInfo),fe=$.focusedElem,ct=$.selectionRange;if(se!==fe&&fe&&fe.ownerDocument&&Oc(fe.ownerDocument.documentElement,fe)){if(ct!==null&&bp(fe)){var Zt=ct.start,bn=ct.end;if(bn===void 0&&(bn=Zt),"selectionStart"in fe)fe.selectionStart=Zt,fe.selectionEnd=Math.min(bn,fe.value.length);else{var Dn=fe.ownerDocument||document,Qt=Dn&&Dn.defaultView||window;if(Qt.getSelection){var cn=Qt.getSelection(),es=fe.textContent.length,Ns=Math.min(ct.start,es),mi=ct.end===void 0?Ns:Math.min(ct.end,es);!cn.extend&&Ns>mi&&(se=mi,mi=Ns,Ns=se);var et=Nl(fe,Ns),gt=Nl(fe,mi);if(et&&gt&&(cn.rangeCount!==1||cn.anchorNode!==et.node||cn.anchorOffset!==et.offset||cn.focusNode!==gt.node||cn.focusOffset!==gt.offset)){var zt=Dn.createRange();zt.setStart(et.node,et.offset),cn.removeAllRanges(),Ns>mi?(cn.addRange(zt),cn.extend(gt.node,gt.offset)):(zt.setEnd(gt.node,gt.offset),cn.addRange(zt))}}}}for(Dn=[],cn=fe;cn=cn.parentNode;)cn.nodeType===1&&Dn.push({element:cn,left:cn.scrollLeft,top:cn.scrollTop});for(typeof fe.focus=="function"&&fe.focus(),fe=0;fe<Dn.length;fe++){var hn=Dn[fe];hn.element.scrollLeft=hn.left,hn.element.scrollTop=hn.top}}so=!!Uh,qm=Uh=null}finally{Ls=N,Vt.p=C,F.T=g}}a.current=d,Yi=2}}function $u(){if(Yi===2){Yi=0;var a=Ld,d=zp,g=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||g){g=F.T,F.T=null;var C=Vt.p;Vt.p=2;var N=Ls;Ls|=4;try{Sy(a,d.alternate,d)}finally{Ls=N,Vt.p=C,F.T=g}}Yi=3}}function Xi(){if(Yi===4||Yi===3){Yi=0,Pe();var a=Ld,d=zp,g=Pd,C=ky;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?Yi=5:(Yi=0,zp=Ld=null,Hh(a,a.pendingLanes));var N=a.pendingLanes;if(N===0&&($f=null),La(g),d=d.stateNode,Es&&typeof Es.onCommitFiberRoot=="function")try{Es.onCommitFiberRoot(Vs,d,void 0,(d.current.flags&128)===128)}catch{}if(C!==null){d=F.T,N=Vt.p,Vt.p=2,F.T=null;try{for(var $=a.onRecoverableError,se=0;se<C.length;se++){var fe=C[se];$(fe.value,{componentStack:fe.stack})}}finally{F.T=d,Vt.p=N}}(Pd&3)!==0&&rd(),df(a),N=a.pendingLanes,(g&261930)!==0&&(N&42)!==0?a===K0?jp++:(jp=0,K0=a):jp=0,J0(0)}}function Hh(a,d){(a.pooledCacheLanes&=d)===0&&(d=a.pooledCache,d!=null&&(a.pooledCache=null,Sd(d)))}function rd(){return Pg(),$u(),Xi(),hm()}function hm(){if(Yi!==5)return!1;var a=Ld,d=Cc;Cc=0;var g=La(Pd),C=F.T,N=Vt.p;try{Vt.p=32>g?32:g,F.T=null,g=zv,zv=null;var $=Ld,se=Pd;if(Yi=0,zp=Ld=null,Pd=0,(Ls&6)!==0)throw Error(x(331));var fe=Ls;if(Ls|=4,Hv($.current),Bf($,$.current,se,g),Ls=fe,J0(0,!1),Es&&typeof Es.onPostCommitFiberRoot=="function")try{Es.onPostCommitFiberRoot(Vs,$)}catch{}return!0}finally{Vt.p=N,F.T=C,Hh(a,d)}}function Wp(a,d,g){d=ra(g,d),d=Rp(a.stateNode,d,2),a=Rf(a,d,2),a!==null&&(Yn(a,2),df(a))}function ca(a,d,g){if(a.tag===3)Wp(a,a,g);else for(;d!==null;){if(d.tag===3){Wp(d,a,g);break}else if(d.tag===1){var C=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&($f===null||!$f.has(C))){a=ra(g,a),g=wy(2),C=Rf(d,g,2),C!==null&&(nb(g,C,d,a),Yn(C,2),df(C));break}}d=d.return}}function Q0(a,d,g){var C=a.pingCache;if(C===null){C=a.pingCache=new Fh;var N=new Set;C.set(d,N)}else N=C.get(d),N===void 0&&(N=new Set,C.set(d,N));N.has(g)||(ub=!0,N.add(g),a=VC.bind(null,a,d,g),d.then(a,a))}function VC(a,d,g){var C=a.pingCache;C!==null&&C.delete(d),a.pingedLanes|=a.suspendedLanes&g,a.warmLanes&=~g,ba===a&&(Nr&g)===g&&(xi===4||xi===3&&(Nr&62914560)===Nr&&300>Tt()-Ip?(Ls&2)===0&&tc(a,0):mm|=g,$h===Nr&&($h=0)),df(a)}function pb(a,d){d===0&&(d=Wt()),a=Wi(a,d),a!==null&&(Yn(a,d),df(a))}function Uv(a){var d=a.memoizedState,g=0;d!==null&&(g=d.retryLane),pb(a,g)}function Zv(a,d){var g=0;switch(a.tag){case 31:case 13:var C=a.stateNode,N=a.memoizedState;N!==null&&(g=N.retryLane);break;case 19:C=a.stateNode;break;case 22:C=a.stateNode._retryCache;break;default:throw Error(x(314))}C!==null&&C.delete(d),pb(a,g)}function bb(a,d){return xt(a,d)}var If=null,zh=null,qp=!1,Gp=!1,_y=!1,du=0;function df(a){a!==zh&&a.next===null&&(zh===null?If=zh=a:zh=zh.next=a),Gp=!0,qp||(qp=!0,$2())}function J0(a,d){if(!_y&&Gp){_y=!0;do for(var g=!1,C=If;C!==null;){if(a!==0){var N=C.pendingLanes;if(N===0)var $=0;else{var se=C.suspendedLanes,fe=C.pingedLanes;$=(1<<31-gs(42|a)+1)-1,$&=N&~(se&~fe),$=$&201326741?$&201326741|1:$?$|2:0}$!==0&&(g=!0,gm(C,$))}else $=Nr,$=ui(C,C===ba?$:0,C.cancelPendingCommit!==null||C.timeoutHandle!==-1),($&3)===0||Ba(C,$)||(g=!0,gm(C,$));C=C.next}while(g);_y=!1}}function UC(){F2()}function F2(){Gp=qp=!1;var a=0;du!==0&&Gv()&&(a=du);for(var d=Tt(),g=null,C=If;C!==null;){var N=C.next,$=Wv(C,d);$===0?(C.next=null,g===null?If=N:g.next=N,N===null&&(zh=g)):(g=C,(a!==0||($&3)!==0)&&(Gp=!0)),C=N}Yi!==0&&Yi!==5||J0(a),du!==0&&(du=0)}function Wv(a,d){for(var g=a.suspendedLanes,C=a.pingedLanes,N=a.expirationTimes,$=a.pendingLanes&-62914561;0<$;){var se=31-gs($),fe=1<<se,ct=N[se];ct===-1?((fe&g)===0||(fe&C)!==0)&&(N[se]=Mn(fe,d)):ct<=d&&(a.expiredLanes|=fe),$&=~fe}if(d=ba,g=Nr,g=ui(a,a===d?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),C=a.callbackNode,g===0||a===d&&(Na===2||Na===9)||a.cancelPendingCommit!==null)return C!==null&&C!==null&&Un(C),a.callbackNode=null,a.callbackPriority=0;if((g&3)===0||Ba(a,g)){if(d=g&-g,d===a.callbackPriority)return d;switch(C!==null&&Un(C),La(g)){case 2:case 8:g=Yo;break;case 32:g=Jo;break;case 268435456:g=mr;break;default:g=Jo}return C=Oy.bind(null,a),g=xt(g,C),a.callbackPriority=d,a.callbackNode=g,d}return C!==null&&C!==null&&Un(C),a.callbackPriority=2,a.callbackNode=null,2}function Oy(a,d){if(Yi!==0&&Yi!==5)return a.callbackNode=null,a.callbackPriority=0,null;var g=a.callbackNode;if(rd()&&a.callbackNode!==g)return null;var C=Nr;return C=ui(a,a===ba?C:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),C===0?null:(Y0(a,C,d),Wv(a,Tt()),a.callbackNode!=null&&a.callbackNode===g?Oy.bind(null,a):null)}function gm(a,d){if(rd())return null;Y0(a,d,!0)}function $2(){gl(function(){(Ls&6)!==0?xt(Zn,UC):F2()})}function $d(){if(du===0){var a=wg;a===0&&(a=Ma,Ma<<=1,(Ma&261888)===0&&(Ma=256)),du=a}return du}function Sc(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ri(""+a)}function Id(a,d){var g=d.ownerDocument.createElement("input");return g.name=d.name,g.value=d.value,a.id&&g.setAttribute("form",a.id),d.parentNode.insertBefore(g,d),a=new FormData(a),g.parentNode.removeChild(g),a}function fu(a,d,g,C,N){if(d==="submit"&&g&&g.stateNode===N){var $=Sc((N[tr]||null).action),se=C.submitter;se&&(d=(d=se[tr]||null)?Sc(d.formAction):se.getAttribute("formAction"),d!==null&&($=d,se=null));var fe=new fc("action","action",null,C,N);a.push({event:fe,listeners:[{instance:null,listener:function(){if(C.defaultPrevented){if(du!==0){var ct=se?Id(N,se):new FormData(N);Qu(g,{pending:!0,data:ct,method:N.method,action:$},null,ct)}}else typeof $=="function"&&(fe.preventDefault(),ct=se?Id(N,se):new FormData(N),Qu(g,{pending:!0,data:ct,method:N.method,action:$},$,ct))},currentTarget:N}]})}}for(var e1=0;e1<fa.length;e1++){var jh=fa[e1],Ny=jh.toLowerCase(),qv=jh[0].toUpperCase()+jh.slice(1);ws(Ny,"on"+qv)}ws(mc,"onAnimationEnd"),ws(Sh,"onAnimationIteration"),ws(G1,"onAnimationStart"),ws("dblclick","onDoubleClick"),ws("focusin","onFocus"),ws("focusout","onBlur"),ws(rs,"onTransitionRun"),ws(nm,"onTransitionStart"),ws(Ai,"onTransitionCancel"),ws(xd,"onTransitionEnd"),Gt("onMouseEnter",["mouseout","mouseover"]),Gt("onMouseLeave",["mouseout","mouseover"]),Gt("onPointerEnter",["pointerout","pointerover"]),Gt("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yb));function Vh(a,d){d=(d&4)!==0;for(var g=0;g<a.length;g++){var C=a[g],N=C.event;C=C.listeners;e:{var $=void 0;if(d)for(var se=C.length-1;0<=se;se--){var fe=C[se],ct=fe.instance,Zt=fe.currentTarget;if(fe=fe.listener,ct!==$&&N.isPropagationStopped())break e;$=fe,N.currentTarget=Zt;try{$(N)}catch(bn){F0(bn)}N.currentTarget=null,$=ct}else for(se=0;se<C.length;se++){if(fe=C[se],ct=fe.instance,Zt=fe.currentTarget,fe=fe.listener,ct!==$&&N.isPropagationStopped())break e;$=fe,N.currentTarget=Zt;try{$(N)}catch(bn){F0(bn)}N.currentTarget=null,$=ct}}}}function Rr(a,d){var g=d[Ie];g===void 0&&(g=d[Ie]=new Set);var C=a+"__bubble";g.has(C)||(vb(d,a,2,!1),g.add(C))}function Hi(a,d,g){var C=0;d&&(C|=4),vb(g,a,C,d)}var $g="_reactListening"+Math.random().toString(36).slice(2);function Pc(a){if(!a[$g]){a[$g]=!0,je.forEach(function(g){g!=="selectionchange"&&(Fg.has(g)||Hi(g,!1,a),Hi(g,!0,a))});var d=a.nodeType===9?a:a.ownerDocument;d===null||d[$g]||(d[$g]=!0,Hi("selectionchange",!1,d))}}function vb(a,d,g,C){switch(_b(d)){case 2:var N=r1;break;case 8:N=Vy;break;default:N=a1}g=N.bind(null,d,g,a),N=void 0,!Wc||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(N=!0),C?N!==void 0?a.addEventListener(d,g,{capture:!0,passive:N}):a.addEventListener(d,g,!0):N!==void 0?a.addEventListener(d,g,{passive:N}):a.addEventListener(d,g,!1)}function Dr(a,d,g,C,N){var $=C;if((d&1)===0&&(d&2)===0&&C!==null)e:for(;;){if(C===null)return;var se=C.tag;if(se===3||se===4){var fe=C.stateNode.containerInfo;if(fe===N)break;if(se===4)for(se=C.return;se!==null;){var ct=se.tag;if((ct===3||ct===4)&&se.stateNode.containerInfo===N)return;se=se.return}for(;fe!==null;){if(se=Zo(fe),se===null)return;if(ct=se.tag,ct===5||ct===6||ct===26||ct===27){C=$=se;continue e}fe=fe.parentNode}}C=C.return}Eu(function(){var Zt=$,bn=Kd(g),Dn=[];e:{var Qt=wd.get(a);if(Qt!==void 0){var cn=fc,es=a;switch(a){case"keypress":if(al(g)===0)break e;case"keydown":case"keyup":cn=Xd;break;case"focusin":es="focus",cn=Ti;break;case"focusout":es="blur",cn=Ti;break;case"beforeblur":case"afterblur":cn=Ti;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":cn=qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":cn=lr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":cn=R0;break;case mc:case Sh:case G1:cn=oe;break;case xd:cn=ye;break;case"scroll":case"scrollend":cn=Af;break;case"wheel":cn=ht;break;case"copy":case"cut":case"paste":cn=Qe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":cn=kf;break;case"toggle":case"beforetoggle":cn=bo}var Ns=(d&4)!==0,mi=!Ns&&(a==="scroll"||a==="scrollend"),et=Ns?Qt!==null?Qt+"Capture":null:Qt;Ns=[];for(var gt=Zt,zt;gt!==null;){var hn=gt;if(zt=hn.stateNode,hn=hn.tag,hn!==5&&hn!==26&&hn!==27||zt===null||et===null||(hn=Yd(gt,et),hn!=null&&Ns.push(ad(gt,hn,zt))),mi)break;gt=gt.return}0<Ns.length&&(Qt=new cn(Qt,es,null,g,bn),Dn.push({event:Qt,listeners:Ns}))}}if((d&7)===0){e:{if(Qt=a==="mouseover"||a==="pointerover",cn=a==="mouseout"||a==="pointerout",Qt&&g!==qr&&(es=g.relatedTarget||g.fromElement)&&(Zo(es)||es[jl]))break e;if((cn||Qt)&&(Qt=bn.window===bn?bn:(Qt=bn.ownerDocument)?Qt.defaultView||Qt.parentWindow:window,cn?(es=g.relatedTarget||g.toElement,cn=Zt,es=es?Zo(es):null,es!==null&&(mi=R(es),Ns=es.tag,es!==mi||Ns!==5&&Ns!==27&&Ns!==6)&&(es=null)):(cn=null,es=Zt),cn!==es)){if(Ns=qn,hn="onMouseLeave",et="onMouseEnter",gt="mouse",(a==="pointerout"||a==="pointerover")&&(Ns=kf,hn="onPointerLeave",et="onPointerEnter",gt="pointer"),mi=cn==null?Qt:ko(cn),zt=es==null?Qt:ko(es),Qt=new Ns(hn,gt+"leave",cn,g,bn),Qt.target=mi,Qt.relatedTarget=zt,hn=null,Zo(bn)===Zt&&(Ns=new Ns(et,gt+"enter",es,g,bn),Ns.target=zt,Ns.relatedTarget=mi,hn=Ns),mi=hn,cn&&es)t:{for(Ns=pm,et=cn,gt=es,zt=0,hn=et;hn;hn=Ns(hn))zt++;hn=0;for(var ms=gt;ms;ms=Ns(ms))hn++;for(;0<zt-hn;)et=Ns(et),zt--;for(;0<hn-zt;)gt=Ns(gt),hn--;for(;zt--;){if(et===gt||gt!==null&&et===gt.alternate){Ns=et;break t}et=Ns(et),gt=Ns(gt)}Ns=null}else Ns=null;cn!==null&&id(Dn,Qt,cn,Ns,!1),es!==null&&mi!==null&&id(Dn,mi,es,Ns,!0)}}e:{if(Qt=Zt?ko(Zt):window,cn=Qt.nodeName&&Qt.nodeName.toLowerCase(),cn==="select"||cn==="input"&&Qt.type==="file")var Us=Z1;else if(vh(Qt))if(Ua)Us=De;else{Us=yg;var Go=vd}else cn=Qt.nodeName,!cn||cn.toLowerCase()!=="input"||Qt.type!=="checkbox"&&Qt.type!=="radio"?Zt&&Ef(Zt.elementType)&&(Us=Z1):Us=q1;if(Us&&(Us=Us(a,Zt))){pp(Dn,Us,g,bn);break e}Go&&Go(a,Qt,Zt),a==="focusout"&&Zt&&Qt.type==="number"&&Zt.memoizedProps.value!=null&&Si(Qt,"number",Qt.value)}switch(Go=Zt?ko(Zt):window,a){case"focusin":(vh(Go)||Go.contentEditable==="true")&&(xl=Go,vp=Zt,Au=null);break;case"focusout":Au=vp=xl=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,P0(Dn,g,bn);break;case"selectionchange":if(yp)break;case"keydown":case"keyup":P0(Dn,g,bn)}var rr;if(Ta)e:{switch(a){case"compositionstart":var Mr="onCompositionStart";break e;case"compositionend":Mr="onCompositionEnd";break e;case"compositionupdate":Mr="onCompositionUpdate";break e}Mr=void 0}else ll?Nm(a,g)&&(Mr="onCompositionEnd"):a==="keydown"&&g.keyCode===229&&(Mr="onCompositionStart");Mr&&(Ul&&g.locale!=="ko"&&(ll||Mr!=="onCompositionStart"?Mr==="onCompositionEnd"&&ll&&(rr=Vl()):(mn=bn,Tu="value"in mn?mn.value:mn.textContent,ll=!0)),Go=Hf(Zt,Mr),0<Go.length&&(Mr=new pn(Mr,a,null,g,bn),Dn.push({event:Mr,listeners:Go}),rr?Mr.data=rr:(rr=Wl(g),rr!==null&&(Mr.data=rr)))),(rr=Zi?Jd(a,g):_c(a,g))&&(Mr=Hf(Zt,"onBeforeInput"),0<Mr.length&&(Go=new pn("onBeforeInput","beforeinput",null,g,bn),Dn.push({event:Go,listeners:Mr}),Go.data=rr)),fu(Dn,a,Zt,g,bn)}Vh(Dn,d)})}function ad(a,d,g){return{instance:a,listener:d,currentTarget:g}}function Hf(a,d){for(var g=d+"Capture",C=[];a!==null;){var N=a,$=N.stateNode;if(N=N.tag,N!==5&&N!==26&&N!==27||$===null||(N=Yd(a,g),N!=null&&C.unshift(ad(a,N,$)),N=Yd(a,d),N!=null&&C.push(ad(a,N,$))),a.tag===3)return C;a=a.return}return[]}function pm(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function id(a,d,g,C,N){for(var $=d._reactName,se=[];g!==null&&g!==C;){var fe=g,ct=fe.alternate,Zt=fe.stateNode;if(fe=fe.tag,ct!==null&&ct===C)break;fe!==5&&fe!==26&&fe!==27||Zt===null||(ct=Zt,N?(Zt=Yd(g,$),Zt!=null&&se.unshift(ad(g,Zt,ct))):N||(Zt=Yd(g,$),Zt!=null&&se.push(ad(g,Zt,ct)))),g=g.return}se.length!==0&&a.push({event:d,listeners:se})}var Ry=/\r\n?/g,I2=/\u0000|\uFFFD/g;function Wm(a){return(typeof a=="string"?a:""+a).replace(Ry,`
`).replace(I2,"")}function Ig(a,d){return d=Wm(d),Wm(a)===d}function Qa(a,d,g,C,N,$){switch(g){case"children":typeof C=="string"?d==="body"||d==="textarea"&&C===""||uc(a,C):(typeof C=="number"||typeof C=="bigint")&&d!=="body"&&uc(a,""+C);break;case"className":As(a,"class",C);break;case"tabIndex":As(a,"tabindex",C);break;case"dir":case"role":case"viewBox":case"width":case"height":As(a,g,C);break;case"style":dc(a,C,$);break;case"data":if(d!=="object"){As(a,"data",C);break}case"src":case"href":if(C===""&&(d!=="a"||g!=="href")){a.removeAttribute(g);break}if(C==null||typeof C=="function"||typeof C=="symbol"||typeof C=="boolean"){a.removeAttribute(g);break}C=Ri(""+C),a.setAttribute(g,C);break;case"action":case"formAction":if(typeof C=="function"){a.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof $=="function"&&(g==="formAction"?(d!=="input"&&Qa(a,d,"name",N.name,N,null),Qa(a,d,"formEncType",N.formEncType,N,null),Qa(a,d,"formMethod",N.formMethod,N,null),Qa(a,d,"formTarget",N.formTarget,N,null)):(Qa(a,d,"encType",N.encType,N,null),Qa(a,d,"method",N.method,N,null),Qa(a,d,"target",N.target,N,null)));if(C==null||typeof C=="symbol"||typeof C=="boolean"){a.removeAttribute(g);break}C=Ri(""+C),a.setAttribute(g,C);break;case"onClick":C!=null&&(a.onclick=pi);break;case"onScroll":C!=null&&Rr("scroll",a);break;case"onScrollEnd":C!=null&&Rr("scrollend",a);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(x(61));if(g=C.__html,g!=null){if(N.children!=null)throw Error(x(60));a.innerHTML=g}}break;case"multiple":a.multiple=C&&typeof C!="function"&&typeof C!="symbol";break;case"muted":a.muted=C&&typeof C!="function"&&typeof C!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(C==null||typeof C=="function"||typeof C=="boolean"||typeof C=="symbol"){a.removeAttribute("xlink:href");break}g=Ri(""+C),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":C!=null&&typeof C!="function"&&typeof C!="symbol"?a.setAttribute(g,""+C):a.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":C&&typeof C!="function"&&typeof C!="symbol"?a.setAttribute(g,""):a.removeAttribute(g);break;case"capture":case"download":C===!0?a.setAttribute(g,""):C!==!1&&C!=null&&typeof C!="function"&&typeof C!="symbol"?a.setAttribute(g,C):a.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":C!=null&&typeof C!="function"&&typeof C!="symbol"&&!isNaN(C)&&1<=C?a.setAttribute(g,C):a.removeAttribute(g);break;case"rowSpan":case"start":C==null||typeof C=="function"||typeof C=="symbol"||isNaN(C)?a.removeAttribute(g):a.setAttribute(g,C);break;case"popover":Rr("beforetoggle",a),Rr("toggle",a),xs(a,"popover",C);break;case"xlinkActuate":ks(a,"http://www.w3.org/1999/xlink","xlink:actuate",C);break;case"xlinkArcrole":ks(a,"http://www.w3.org/1999/xlink","xlink:arcrole",C);break;case"xlinkRole":ks(a,"http://www.w3.org/1999/xlink","xlink:role",C);break;case"xlinkShow":ks(a,"http://www.w3.org/1999/xlink","xlink:show",C);break;case"xlinkTitle":ks(a,"http://www.w3.org/1999/xlink","xlink:title",C);break;case"xlinkType":ks(a,"http://www.w3.org/1999/xlink","xlink:type",C);break;case"xmlBase":ks(a,"http://www.w3.org/XML/1998/namespace","xml:base",C);break;case"xmlLang":ks(a,"http://www.w3.org/XML/1998/namespace","xml:lang",C);break;case"xmlSpace":ks(a,"http://www.w3.org/XML/1998/namespace","xml:space",C);break;case"is":xs(a,"is",C);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=An.get(g)||g,xs(a,g,C))}}function mu(a,d,g,C,N,$){switch(g){case"style":dc(a,C,$);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(x(61));if(g=C.__html,g!=null){if(N.children!=null)throw Error(x(60));a.innerHTML=g}}break;case"children":typeof C=="string"?uc(a,C):(typeof C=="number"||typeof C=="bigint")&&uc(a,""+C);break;case"onScroll":C!=null&&Rr("scroll",a);break;case"onScrollEnd":C!=null&&Rr("scrollend",a);break;case"onClick":C!=null&&(a.onclick=pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ut.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(N=g.endsWith("Capture"),d=g.slice(2,N?g.length-7:void 0),$=a[tr]||null,$=$!=null?$[g]:null,typeof $=="function"&&a.removeEventListener(d,$,N),typeof C=="function")){typeof $!="function"&&$!==null&&(g in a?a[g]=null:a.hasAttribute(g)&&a.removeAttribute(g)),a.addEventListener(d,C,N);break e}g in a?a[g]=C:C===!0?a.setAttribute(g,""):xs(a,g,C)}}}function Qi(a,d,g){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rr("error",a),Rr("load",a);var C=!1,N=!1,$;for($ in g)if(g.hasOwnProperty($)){var se=g[$];if(se!=null)switch($){case"src":C=!0;break;case"srcSet":N=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(x(137,d));default:Qa(a,d,$,se,g,null)}}N&&Qa(a,d,"srcSet",g.srcSet,g,null),C&&Qa(a,d,"src",g.src,g,null);return;case"input":Rr("invalid",a);var fe=$=se=N=null,ct=null,Zt=null;for(C in g)if(g.hasOwnProperty(C)){var bn=g[C];if(bn!=null)switch(C){case"name":N=bn;break;case"type":se=bn;break;case"checked":ct=bn;break;case"defaultChecked":Zt=bn;break;case"value":$=bn;break;case"defaultValue":fe=bn;break;case"children":case"dangerouslySetInnerHTML":if(bn!=null)throw Error(x(137,d));break;default:Qa(a,d,C,bn,g,null)}}Co(a,$,fe,ct,Zt,se,N,!1);return;case"select":Rr("invalid",a),C=se=$=null;for(N in g)if(g.hasOwnProperty(N)&&(fe=g[N],fe!=null))switch(N){case"value":$=fe;break;case"defaultValue":se=fe;break;case"multiple":C=fe;default:Qa(a,d,N,fe,g,null)}d=$,g=se,a.multiple=!!C,d!=null?oi(a,!!C,d,!1):g!=null&&oi(a,!!C,g,!0);return;case"textarea":Rr("invalid",a),$=N=C=null;for(se in g)if(g.hasOwnProperty(se)&&(fe=g[se],fe!=null))switch(se){case"value":C=fe;break;case"defaultValue":N=fe;break;case"children":$=fe;break;case"dangerouslySetInnerHTML":if(fe!=null)throw Error(x(91));break;default:Qa(a,d,se,fe,g,null)}Sf(a,C,N,$);return;case"option":for(ct in g)g.hasOwnProperty(ct)&&(C=g[ct],C!=null)&&(ct==="selected"?a.selected=C&&typeof C!="function"&&typeof C!="symbol":Qa(a,d,ct,C,g,null));return;case"dialog":Rr("beforetoggle",a),Rr("toggle",a),Rr("cancel",a),Rr("close",a);break;case"iframe":case"object":Rr("load",a);break;case"video":case"audio":for(C=0;C<yb.length;C++)Rr(yb[C],a);break;case"image":Rr("error",a),Rr("load",a);break;case"details":Rr("toggle",a);break;case"embed":case"source":case"link":Rr("error",a),Rr("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Zt in g)if(g.hasOwnProperty(Zt)&&(C=g[Zt],C!=null))switch(Zt){case"children":case"dangerouslySetInnerHTML":throw Error(x(137,d));default:Qa(a,d,Zt,C,g,null)}return;default:if(Ef(d)){for(bn in g)g.hasOwnProperty(bn)&&(C=g[bn],C!==void 0&&mu(a,d,bn,C,g,void 0));return}}for(fe in g)g.hasOwnProperty(fe)&&(C=g[fe],C!=null&&Qa(a,d,fe,C,g,null))}function nc(a,d,g,C){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var N=null,$=null,se=null,fe=null,ct=null,Zt=null,bn=null;for(cn in g){var Dn=g[cn];if(g.hasOwnProperty(cn)&&Dn!=null)switch(cn){case"checked":break;case"value":break;case"defaultValue":ct=Dn;default:C.hasOwnProperty(cn)||Qa(a,d,cn,null,C,Dn)}}for(var Qt in C){var cn=C[Qt];if(Dn=g[Qt],C.hasOwnProperty(Qt)&&(cn!=null||Dn!=null))switch(Qt){case"type":$=cn;break;case"name":N=cn;break;case"checked":Zt=cn;break;case"defaultChecked":bn=cn;break;case"value":se=cn;break;case"defaultValue":fe=cn;break;case"children":case"dangerouslySetInnerHTML":if(cn!=null)throw Error(x(137,d));break;default:cn!==Dn&&Qa(a,d,Qt,cn,C,Dn)}}Ir(a,se,fe,ct,Zt,bn,$,N);return;case"select":cn=se=fe=Qt=null;for($ in g)if(ct=g[$],g.hasOwnProperty($)&&ct!=null)switch($){case"value":break;case"multiple":cn=ct;default:C.hasOwnProperty($)||Qa(a,d,$,null,C,ct)}for(N in C)if($=C[N],ct=g[N],C.hasOwnProperty(N)&&($!=null||ct!=null))switch(N){case"value":Qt=$;break;case"defaultValue":fe=$;break;case"multiple":se=$;default:$!==ct&&Qa(a,d,N,$,C,ct)}d=fe,g=se,C=cn,Qt!=null?oi(a,!!g,Qt,!1):!!C!=!!g&&(d!=null?oi(a,!!g,d,!0):oi(a,!!g,g?[]:"",!1));return;case"textarea":cn=Qt=null;for(fe in g)if(N=g[fe],g.hasOwnProperty(fe)&&N!=null&&!C.hasOwnProperty(fe))switch(fe){case"value":break;case"children":break;default:Qa(a,d,fe,null,C,N)}for(se in C)if(N=C[se],$=g[se],C.hasOwnProperty(se)&&(N!=null||$!=null))switch(se){case"value":Qt=N;break;case"defaultValue":cn=N;break;case"children":break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(x(91));break;default:N!==$&&Qa(a,d,se,N,C,$)}Jr(a,Qt,cn);return;case"option":for(var es in g)Qt=g[es],g.hasOwnProperty(es)&&Qt!=null&&!C.hasOwnProperty(es)&&(es==="selected"?a.selected=!1:Qa(a,d,es,null,C,Qt));for(ct in C)Qt=C[ct],cn=g[ct],C.hasOwnProperty(ct)&&Qt!==cn&&(Qt!=null||cn!=null)&&(ct==="selected"?a.selected=Qt&&typeof Qt!="function"&&typeof Qt!="symbol":Qa(a,d,ct,Qt,C,cn));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ns in g)Qt=g[Ns],g.hasOwnProperty(Ns)&&Qt!=null&&!C.hasOwnProperty(Ns)&&Qa(a,d,Ns,null,C,Qt);for(Zt in C)if(Qt=C[Zt],cn=g[Zt],C.hasOwnProperty(Zt)&&Qt!==cn&&(Qt!=null||cn!=null))switch(Zt){case"children":case"dangerouslySetInnerHTML":if(Qt!=null)throw Error(x(137,d));break;default:Qa(a,d,Zt,Qt,C,cn)}return;default:if(Ef(d)){for(var mi in g)Qt=g[mi],g.hasOwnProperty(mi)&&Qt!==void 0&&!C.hasOwnProperty(mi)&&mu(a,d,mi,void 0,C,Qt);for(bn in C)Qt=C[bn],cn=g[bn],!C.hasOwnProperty(bn)||Qt===cn||Qt===void 0&&cn===void 0||mu(a,d,bn,Qt,C,cn);return}}for(var et in g)Qt=g[et],g.hasOwnProperty(et)&&Qt!=null&&!C.hasOwnProperty(et)&&Qa(a,d,et,null,C,Qt);for(Dn in C)Qt=C[Dn],cn=g[Dn],!C.hasOwnProperty(Dn)||Qt===cn||Qt==null&&cn==null||Qa(a,d,Dn,Qt,C,cn)}function ff(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function My(){if(typeof performance.getEntriesByType=="function"){for(var a=0,d=0,g=performance.getEntriesByType("resource"),C=0;C<g.length;C++){var N=g[C],$=N.transferSize,se=N.initiatorType,fe=N.duration;if($&&fe&&ff(se)){for(se=0,fe=N.responseEnd,C+=1;C<g.length;C++){var ct=g[C],Zt=ct.startTime;if(Zt>fe)break;var bn=ct.transferSize,Dn=ct.initiatorType;bn&&ff(Dn)&&(ct=ct.responseEnd,se+=bn*(ct<fe?1:(fe-Zt)/(ct-Zt)))}if(--C,d+=8*($+se)/(N.duration/1e3),a++,10<a)break}}if(0<a)return d/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Uh=null,qm=null;function Hg(a){return a.nodeType===9?a:a.ownerDocument}function By(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xb(a,d){if(a===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&d==="foreignObject"?0:a}function Zh(a,d){return a==="textarea"||a==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Gm=null;function Gv(){var a=window.event;return a&&a.type==="popstate"?a===Gm?!1:(Gm=a,!0):(Gm=null,!1)}var t1=typeof setTimeout=="function"?setTimeout:void 0,Kv=typeof clearTimeout=="function"?clearTimeout:void 0,Yv=typeof Promise=="function"?Promise:void 0,gl=typeof queueMicrotask=="function"?queueMicrotask:typeof Yv<"u"?function(a){return Yv.resolve(null).then(a).catch(zg)}:t1;function zg(a){setTimeout(function(){throw a})}function ld(a){return a==="head"}function Xv(a,d){var g=d,C=0;do{var N=g.nextSibling;if(a.removeChild(g),N&&N.nodeType===8)if(g=N.data,g==="/$"||g==="/&"){if(C===0){a.removeChild(N),n0(d);return}C--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")C++;else if(g==="html")Km(a.ownerDocument.documentElement);else if(g==="head"){g=a.ownerDocument.head,Km(g);for(var $=g.firstChild;$;){var se=$.nextSibling,fe=$.nodeName;$[Ao]||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&$.rel.toLowerCase()==="stylesheet"||g.removeChild($),$=se}}else g==="body"&&Km(a.ownerDocument.body);g=N}while(g);n0(d)}function wb(a,d){var g=a;a=0;do{var C=g.nextSibling;if(g.nodeType===1?d?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(d?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),C&&C.nodeType===8)if(g=C.data,g==="/$"){if(a===0)break;a--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||a++;g=C}while(g)}function Cb(a){var d=a.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var g=d;switch(d=d.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":Cb(g),co(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}a.removeChild(g)}}function Sb(a,d,g,C){for(;a.nodeType===1;){var N=g;if(a.nodeName.toLowerCase()!==d.toLowerCase()){if(!C&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(C){if(!a[Ao])switch(d){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if($=a.getAttribute("rel"),$==="stylesheet"&&a.hasAttribute("data-precedence"))break;if($!==N.rel||a.getAttribute("href")!==(N.href==null||N.href===""?null:N.href)||a.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin)||a.getAttribute("title")!==(N.title==null?null:N.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if($=a.getAttribute("src"),($!==(N.src==null?null:N.src)||a.getAttribute("type")!==(N.type==null?null:N.type)||a.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin))&&$&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(d==="input"&&a.type==="hidden"){var $=N.name==null?null:""+N.name;if(N.type==="hidden"&&a.getAttribute("name")===$)return a}else return a;if(a=Kr(a.nextSibling),a===null)break}return null}function Ly(a,d,g){if(d==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!g||(a=Kr(a.nextSibling),a===null))return null;return a}function Qv(a,d){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Kr(a.nextSibling),a===null))return null;return a}function Jv(a){return a.data==="$?"||a.data==="$~"}function Kp(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function Ji(a,d){var g=a.ownerDocument;if(a.data==="$~")a._reactRetry=d;else if(a.data!=="$?"||g.readyState!=="loading")d();else{var C=function(){d(),g.removeEventListener("DOMContentLoaded",C)};g.addEventListener("DOMContentLoaded",C),a._reactRetry=C}}function Kr(a){for(;a!=null;a=a.nextSibling){var d=a.nodeType;if(d===1||d===3)break;if(d===8){if(d=a.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return a}var Al=null;function kl(a){a=a.nextSibling;for(var d=0;a;){if(a.nodeType===8){var g=a.data;if(g==="/$"||g==="/&"){if(d===0)return Kr(a.nextSibling);d--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||d++}a=a.nextSibling}return null}function ya(a){a=a.previousSibling;for(var d=0;a;){if(a.nodeType===8){var g=a.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(d===0)return a;d--}else g!=="/$"&&g!=="/&"||d++}a=a.previousSibling}return null}function Oi(a,d,g){switch(d=Hg(g),a){case"html":if(a=d.documentElement,!a)throw Error(x(452));return a;case"head":if(a=d.head,!a)throw Error(x(453));return a;case"body":if(a=d.body,!a)throw Error(x(454));return a;default:throw Error(x(451))}}function Km(a){for(var d=a.attributes;d.length;)a.removeAttributeNode(d[0]);co(a)}var Hd=new Map,Py=new Set;function Eb(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var zf=Vt.d;Vt.d={f:ex,r:tx,D:n1,C:H2,L:Tb,m:bm,X:Ab,S:$y,M:o1};function ex(){var a=zf.f(),d=Vp();return a||d}function tx(a){var d=us(a);d!==null&&d.tag===5&&d.type==="form"?T2(d):zf.r(a)}var Wh=typeof document>"u"?null:document;function Fy(a,d,g){var C=Wh;if(C&&typeof d=="string"&&d){var N=Ci(d);N='link[rel="'+a+'"][href="'+N+'"]',typeof g=="string"&&(N+='[crossorigin="'+g+'"]'),Py.has(N)||(Py.add(N),a={rel:a,crossOrigin:g,href:d},C.querySelector(N)===null&&(d=C.createElement("link"),Qi(d,"link",a),me(d),C.head.appendChild(d)))}}function n1(a){zf.D(a),Fy("dns-prefetch",a,null)}function H2(a,d){zf.C(a,d),Fy("preconnect",a,d)}function Tb(a,d,g){zf.L(a,d,g);var C=Wh;if(C&&a&&d){var N='link[rel="preload"][as="'+Ci(d)+'"]';d==="image"&&g&&g.imageSrcSet?(N+='[imagesrcset="'+Ci(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(N+='[imagesizes="'+Ci(g.imageSizes)+'"]')):N+='[href="'+Ci(a)+'"]';var $=N;switch(d){case"style":$=Ym(a);break;case"script":$=jf(a)}Hd.has($)||(a=ee({rel:"preload",href:d==="image"&&g&&g.imageSrcSet?void 0:a,as:d},g),Hd.set($,a),C.querySelector(N)!==null||d==="style"&&C.querySelector(Vg($))||d==="script"&&C.querySelector(Il($))||(d=C.createElement("link"),Qi(d,"link",a),me(d),C.head.appendChild(d)))}}function bm(a,d){zf.m(a,d);var g=Wh;if(g&&a){var C=d&&typeof d.as=="string"?d.as:"script",N='link[rel="modulepreload"][as="'+Ci(C)+'"][href="'+Ci(a)+'"]',$=N;switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":$=jf(a)}if(!Hd.has($)&&(a=ee({rel:"modulepreload",href:a},d),Hd.set($,a),g.querySelector(N)===null)){switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Il($)))return}C=g.createElement("link"),Qi(C,"link",a),me(C),g.head.appendChild(C)}}}function $y(a,d,g){zf.S(a,d,g);var C=Wh;if(C&&a){var N=Qs(C).hoistableStyles,$=Ym(a);d=d||"default";var se=N.get($);if(!se){var fe={loading:0,preload:null};if(se=C.querySelector(Vg($)))fe.loading=5;else{a=ee({rel:"stylesheet",href:a,"data-precedence":d},g),(g=Hd.get($))&&_t(a,g);var ct=se=C.createElement("link");me(ct),Qi(ct,"link",a),ct._p=new Promise(function(Zt,bn){ct.onload=Zt,ct.onerror=bn}),ct.addEventListener("load",function(){fe.loading|=1}),ct.addEventListener("error",function(){fe.loading|=2}),fe.loading|=4,qh(se,d,C)}se={type:"stylesheet",instance:se,count:1,state:fe},N.set($,se)}}}function Ab(a,d){zf.X(a,d);var g=Wh;if(g&&a){var C=Qs(g).hoistableScripts,N=jf(a),$=C.get(N);$||($=g.querySelector(Il(N)),$||(a=ee({src:a,async:!0},d),(d=Hd.get(N))&&Yp(a,d),$=g.createElement("script"),me($),Qi($,"link",a),g.head.appendChild($)),$={type:"script",instance:$,count:1,state:null},C.set(N,$))}}function o1(a,d){zf.M(a,d);var g=Wh;if(g&&a){var C=Qs(g).hoistableScripts,N=jf(a),$=C.get(N);$||($=g.querySelector(Il(N)),$||(a=ee({src:a,async:!0,type:"module"},d),(d=Hd.get(N))&&Yp(a,d),$=g.createElement("script"),me($),Qi($,"link",a),g.head.appendChild($)),$={type:"script",instance:$,count:1,state:null},C.set(N,$))}}function jg(a,d,g,C){var N=(N=He.current)?Eb(N):null;if(!N)throw Error(x(446));switch(a){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(d=Ym(g.href),g=Qs(N).hoistableStyles,C=g.get(d),C||(C={type:"style",instance:null,count:0,state:null},g.set(d,C)),C):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){a=Ym(g.href);var $=Qs(N).hoistableStyles,se=$.get(a);if(se||(N=N.ownerDocument||N,se={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},$.set(a,se),($=N.querySelector(Vg(a)))&&!$._p&&(se.instance=$,se.state.loading=5),Hd.has(a)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Hd.set(a,g),$||Iy(N,a,g,se.state))),d&&C===null)throw Error(x(528,""));return se}if(d&&C!==null)throw Error(x(529,""));return null;case"script":return d=g.async,g=g.src,typeof g=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=jf(g),g=Qs(N).hoistableScripts,C=g.get(d),C||(C={type:"script",instance:null,count:0,state:null},g.set(d,C)),C):{type:"void",instance:null,count:0,state:null};default:throw Error(x(444,a))}}function Ym(a){return'href="'+Ci(a)+'"'}function Vg(a){return'link[rel="stylesheet"]['+a+"]"}function s1(a){return ee({},a,{"data-precedence":a.precedence,precedence:null})}function Iy(a,d,g,C){a.querySelector('link[rel="preload"][as="style"]['+d+"]")?C.loading=1:(d=a.createElement("link"),C.preload=d,d.addEventListener("load",function(){return C.loading|=1}),d.addEventListener("error",function(){return C.loading|=2}),Qi(d,"link",g),me(d),a.head.appendChild(d))}function jf(a){return'[src="'+Ci(a)+'"]'}function Il(a){return"script[async]"+a}function oc(a,d,g){if(d.count++,d.instance===null)switch(d.type){case"style":var C=a.querySelector('style[data-href~="'+Ci(g.href)+'"]');if(C)return d.instance=C,me(C),C;var N=ee({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return C=(a.ownerDocument||a).createElement("style"),me(C),Qi(C,"style",N),qh(C,g.precedence,a),d.instance=C;case"stylesheet":N=Ym(g.href);var $=a.querySelector(Vg(N));if($)return d.state.loading|=4,d.instance=$,me($),$;C=s1(g),(N=Hd.get(N))&&_t(C,N),$=(a.ownerDocument||a).createElement("link"),me($);var se=$;return se._p=new Promise(function(fe,ct){se.onload=fe,se.onerror=ct}),Qi($,"link",C),d.state.loading|=4,qh($,g.precedence,a),d.instance=$;case"script":return $=jf(g.src),(N=a.querySelector(Il($)))?(d.instance=N,me(N),N):(C=g,(N=Hd.get($))&&(C=ee({},g),Yp(C,N)),a=a.ownerDocument||a,N=a.createElement("script"),me(N),Qi(N,"link",C),a.head.appendChild(N),d.instance=N);case"void":return null;default:throw Error(x(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(C=d.instance,d.state.loading|=4,qh(C,g.precedence,a));return d.instance}function qh(a,d,g){for(var C=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),N=C.length?C[C.length-1]:null,$=N,se=0;se<C.length;se++){var fe=C[se];if(fe.dataset.precedence===d)$=fe;else if($!==N)break}$?$.parentNode.insertBefore(a,$.nextSibling):(d=g.nodeType===9?g.head:g,d.insertBefore(a,d.firstChild))}function _t(a,d){a.crossOrigin==null&&(a.crossOrigin=d.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=d.referrerPolicy),a.title==null&&(a.title=d.title)}function Yp(a,d){a.crossOrigin==null&&(a.crossOrigin=d.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=d.referrerPolicy),a.integrity==null&&(a.integrity=d.integrity)}var Hy=null;function Fc(a,d,g){if(Hy===null){var C=new Map,N=Hy=new Map;N.set(g,C)}else N=Hy,C=N.get(g),C||(C=new Map,N.set(g,C));if(C.has(a))return C;for(C.set(a,null),g=g.getElementsByTagName(a),N=0;N<g.length;N++){var $=g[N];if(!($[Ao]||$[er]||a==="link"&&$.getAttribute("rel")==="stylesheet")&&$.namespaceURI!=="http://www.w3.org/2000/svg"){var se=$.getAttribute(d)||"";se=a+se;var fe=C.get(se);fe?fe.push($):C.set(se,[$])}}return C}function Xp(a,d,g){a=a.ownerDocument||a,a.head.insertBefore(g,d==="title"?a.querySelector("head > title"):null)}function ym(a,d,g){if(g===1||d.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;return d.rel==="stylesheet"?(a=d.disabled,typeof d.precedence=="string"&&a==null):!0;case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function zy(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function nx(a,d,g,C){if(g.type==="stylesheet"&&(typeof C.media!="string"||matchMedia(C.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var N=Ym(C.href),$=d.querySelector(Vg(N));if($){d=$._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(a.count++,a=Vf.bind(a),d.then(a,a)),g.state.loading|=4,g.instance=$,me($);return}$=d.ownerDocument||d,C=s1(C),(N=Hd.get(N))&&_t(C,N),$=$.createElement("link"),me($);var se=$;se._p=new Promise(function(fe,ct){se.onload=fe,se.onerror=ct}),Qi($,"link",C),g.instance=$}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(g,d),(d=g.state.preload)&&(g.state.loading&3)===0&&(a.count++,g=Vf.bind(a),d.addEventListener("load",g),d.addEventListener("error",g))}}var Gh=0;function kb(a,d){return a.stylesheets&&a.count===0&&jy(a,a.stylesheets),0<a.count||0<a.imgCount?function(g){var C=setTimeout(function(){if(a.stylesheets&&jy(a,a.stylesheets),a.unsuspend){var $=a.unsuspend;a.unsuspend=null,$()}},6e4+d);0<a.imgBytes&&Gh===0&&(Gh=62500*My());var N=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&jy(a,a.stylesheets),a.unsuspend)){var $=a.unsuspend;a.unsuspend=null,$()}},(a.imgBytes>Gh?50:800)+d);return a.unsuspend=g,function(){a.unsuspend=null,clearTimeout(C),clearTimeout(N)}}:null}function Vf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jy(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Qp=null;function jy(a,d){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Qp=new Map,d.forEach(Ec,a),Qp=null,Vf.call(a))}function Ec(a,d){if(!(d.state.loading&4)){var g=Qp.get(a);if(g)var C=g.get(null);else{g=new Map,Qp.set(a,g);for(var N=a.querySelectorAll("link[data-precedence],style[data-precedence]"),$=0;$<N.length;$++){var se=N[$];(se.nodeName==="LINK"||se.getAttribute("media")!=="not all")&&(g.set(se.dataset.precedence,se),C=se)}C&&g.set(null,C)}N=d.instance,se=N.getAttribute("data-precedence"),$=g.get(se)||C,$===C&&g.set(null,N),g.set(se,N),this.count++,C=Vf.bind(this),N.addEventListener("load",C),N.addEventListener("error",C),$?$.parentNode.insertBefore(N,$.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(N,a.firstChild)),d.state.loading|=4}}var cd={$$typeof:J,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function ud(a,d,g,C,N,$,se,fe,ct){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kt(0),this.hiddenUpdates=Kt(null),this.identifierPrefix=C,this.onUncaughtError=N,this.onCaughtError=$,this.onRecoverableError=se,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ct,this.incompleteTransitions=new Map}function z2(a,d,g,C,N,$,se,fe,ct,Zt,bn,Dn){return a=new ud(a,d,g,se,ct,Zt,bn,Dn,fe),d=1,$===!0&&(d|=24),$=Za(3,null,null,d),a.current=$,$.stateNode=a,d=Of(),d.refCount++,a.pooledCache=d,d.refCount++,$.memoizedState={element:C,isDehydrated:g,cache:d},Ad($),a}function Jp(a){return a?(a=$s,a):$s}function ox(a,d,g,C,N,$){N=Jp(N),C.context===null?C.context=N:C.pendingContext=N,C=nu(d),C.payload={element:g},$=$===void 0?null:$,$!==null&&(C.callback=$),g=Rf(a,C,d),g!==null&&(sd(g,a,d),kg(g,a,d))}function Db(a,d){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var g=a.retryLane;a.retryLane=g!==0&&g<d?g:d}}function sx(a,d){Db(a,d),(a=a.alternate)&&Db(a,d)}function rx(a){if(a.tag===13||a.tag===31){var d=Wi(a,67108864);d!==null&&sd(d,a,67108864),sx(a,67108864)}}function fs(a){if(a.tag===13||a.tag===31){var d=Fd();d=ls(d);var g=Wi(a,d);g!==null&&sd(g,a,d),sx(a,d)}}var so=!0;function r1(a,d,g,C){var N=F.T;F.T=null;var $=Vt.p;try{Vt.p=2,a1(a,d,g,C)}finally{Vt.p=$,F.T=N}}function Vy(a,d,g,C){var N=F.T;F.T=null;var $=Vt.p;try{Vt.p=8,a1(a,d,g,C)}finally{Vt.p=$,F.T=N}}function a1(a,d,g,C){if(so){var N=ax(C);if(N===null)Dr(a,d,C,i1,g),e0(a,C);else if(ZC(N,a,d,g,C))C.stopPropagation();else if(e0(a,C),d&4&&-1<Qm.indexOf(a)){for(;N!==null;){var $=us(N);if($!==null)switch($.tag){case 3:if($=$.stateNode,$.current.memoizedState.isDehydrated){var se=Oo($.pendingLanes);if(se!==0){var fe=$;for(fe.pendingLanes|=2,fe.entangledLanes|=2;se;){var ct=1<<31-gs(se);fe.entanglements[1]|=ct,se&=~ct}df($),(Ls&6)===0&&(Hp=Tt()+500,J0(0))}}break;case 31:case 13:fe=Wi($,2),fe!==null&&sd(fe,$,2),Vp(),sx($,2)}if($=ax(C),$===null&&Dr(a,d,C,i1,g),$===N)break;N=$}N!==null&&C.stopPropagation()}else Dr(a,d,C,null,g)}}function ax(a){return a=Kd(a),oa(a)}var i1=null;function oa(a){if(i1=null,a=Zo(a),a!==null){var d=R(a);if(d===null)a=null;else{var g=d.tag;if(g===13){if(a=O(d),a!==null)return a;a=null}else if(g===31){if(a=I(d),a!==null)return a;a=null}else if(g===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;a=null}else d!==a&&(a=null)}}return i1=a,null}function _b(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sn()){case Zn:return 2;case Yo:return 8;case Jo:case Do:return 32;case mr:return 268435456;default:return 32}default:return 32}}var l1=!1,Xm=null,Mt=null,mf=null,vm=new Map,zd=new Map,Tc=[],Qm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e0(a,d){switch(a){case"focusin":case"focusout":Xm=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":mf=null;break;case"pointerover":case"pointerout":vm.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":zd.delete(d.pointerId)}}function xm(a,d,g,C,N,$){return a===null||a.nativeEvent!==$?(a={blockedOn:d,domEventName:g,eventSystemFlags:C,nativeEvent:$,targetContainers:[N]},d!==null&&(d=us(d),d!==null&&rx(d)),a):(a.eventSystemFlags|=C,d=a.targetContainers,N!==null&&d.indexOf(N)===-1&&d.push(N),a)}function ZC(a,d,g,C,N){switch(d){case"focusin":return Xm=xm(Xm,a,d,g,C,N),!0;case"dragenter":return Mt=xm(Mt,a,d,g,C,N),!0;case"mouseover":return mf=xm(mf,a,d,g,C,N),!0;case"pointerover":var $=N.pointerId;return vm.set($,xm(vm.get($)||null,a,d,g,C,N)),!0;case"gotpointercapture":return $=N.pointerId,zd.set($,xm(zd.get($)||null,a,d,g,C,N)),!0}return!1}function t0(a){var d=Zo(a.target);if(d!==null){var g=R(d);if(g!==null){if(d=g.tag,d===13){if(d=O(g),d!==null){a.blockedOn=d,gi(a.priority,function(){fs(g)});return}}else if(d===31){if(d=I(g),d!==null){a.blockedOn=d,gi(a.priority,function(){fs(g)});return}}else if(d===3&&g.stateNode.current.memoizedState.isDehydrated){a.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Lr(a){if(a.blockedOn!==null)return!1;for(var d=a.targetContainers;0<d.length;){var g=ax(a.nativeEvent);if(g===null){g=a.nativeEvent;var C=new g.constructor(g.type,g);qr=C,g.target.dispatchEvent(C),qr=null}else return d=us(g),d!==null&&rx(d),a.blockedOn=g,!1;d.shift()}return!0}function hf(a,d,g){Lr(a)&&g.delete(d)}function ix(){l1=!1,Xm!==null&&Lr(Xm)&&(Xm=null),Mt!==null&&Lr(Mt)&&(Mt=null),mf!==null&&Lr(mf)&&(mf=null),vm.forEach(hf),zd.forEach(hf)}function wm(a,d){a.blockedOn===d&&(a.blockedOn=null,l1||(l1=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,ix)))}var jd=null;function sc(a){jd!==a&&(jd=a,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){jd===a&&(jd=null);for(var d=0;d<a.length;d+=3){var g=a[d],C=a[d+1],N=a[d+2];if(typeof C!="function"){if(oa(C||g)===null)continue;break}var $=us(g);$!==null&&(a.splice(d,3),d-=3,Qu($,{pending:!0,data:N,method:g.method,action:C},C,N))}}))}function n0(a){function d(ct){return wm(ct,a)}Xm!==null&&wm(Xm,a),Mt!==null&&wm(Mt,a),mf!==null&&wm(mf,a),vm.forEach(d),zd.forEach(d);for(var g=0;g<Tc.length;g++){var C=Tc[g];C.blockedOn===a&&(C.blockedOn=null)}for(;0<Tc.length&&(g=Tc[0],g.blockedOn===null);)t0(g),g.blockedOn===null&&Tc.shift();if(g=(a.ownerDocument||a).$$reactFormReplay,g!=null)for(C=0;C<g.length;C+=3){var N=g[C],$=g[C+1],se=N[tr]||null;if(typeof $=="function")se||sc(g);else if(se){var fe=null;if($&&$.hasAttribute("formAction")){if(N=$,se=$[tr]||null)fe=se.formAction;else if(oa(N)!==null)continue}else fe=se.action;typeof fe=="function"?g[C+1]=fe:(g.splice(C,3),C-=3),sc(g)}}}function Uy(){function a($){$.canIntercept&&$.info==="react-transition"&&$.intercept({handler:function(){return new Promise(function(se){return N=se})},focusReset:"manual",scroll:"manual"})}function d(){N!==null&&(N(),N=null),C||setTimeout(g,20)}function g(){if(!C&&!navigation.transition){var $=navigation.currentEntry;$&&$.url!=null&&navigation.navigate($.url,{state:$.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var C=!1,N=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(g,100),function(){C=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),N!==null&&(N(),N=null)}}}function Zy(a){this._internalRoot=a}Wy.prototype.render=Zy.prototype.render=function(a){var d=this._internalRoot;if(d===null)throw Error(x(409));var g=d.current,C=Fd();ox(g,C,a,d,null,null)},Wy.prototype.unmount=Zy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var d=a.containerInfo;ox(a.current,2,null,a,null,null),Vp(),d[jl]=null}};function Wy(a){this._internalRoot=a}Wy.prototype.unstable_scheduleHydration=function(a){if(a){var d=sl();a={blockedOn:null,target:a,priority:d};for(var g=0;g<Tc.length&&d!==0&&d<Tc[g].priority;g++);Tc.splice(g,0,a),g===0&&t0(a)}};var j2=u.version;if(j2!=="19.2.3")throw Error(x(527,j2,"19.2.3"));Vt.findDOMNode=function(a){var d=a._reactInternals;if(d===void 0)throw typeof a.render=="function"?Error(x(188)):(a=Object.keys(a).join(","),Error(x(268,a)));return a=V(d),a=a!==null?Y(a):null,a=a===null?null:a.stateNode,a};var lx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ob=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ob.isDisabled&&Ob.supportsFiber)try{Vs=Ob.inject(lx),Es=Ob}catch{}}return VM.createRoot=function(a,d){if(!A(a))throw Error(x(299));var g=!1,C="",N=Rd,$=j0,se=V0;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(C=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&($=d.onCaughtError),d.onRecoverableError!==void 0&&(se=d.onRecoverableError)),d=z2(a,1,!1,null,null,g,C,null,N,$,se,Uy),a[jl]=d.current,Pc(a),new Zy(d)},VM.hydrateRoot=function(a,d,g){if(!A(a))throw Error(x(299));var C=!1,N="",$=Rd,se=j0,fe=V0,ct=null;return g!=null&&(g.unstable_strictMode===!0&&(C=!0),g.identifierPrefix!==void 0&&(N=g.identifierPrefix),g.onUncaughtError!==void 0&&($=g.onUncaughtError),g.onCaughtError!==void 0&&(se=g.onCaughtError),g.onRecoverableError!==void 0&&(fe=g.onRecoverableError),g.formState!==void 0&&(ct=g.formState)),d=z2(a,1,!0,d,g??null,C,N,ct,$,se,fe,Uy),d.context=Jp(null),g=d.current,C=Fd(),C=ls(C),N=nu(C),N.callback=null,Rf(g,N,C),g=C,d.current.lanes=g,Yn(d,g),df(d),a[jl]=d.current,Pc(a),new Wy(d)},VM.version="19.2.3",VM}var Eoe;function Iue(){if(Eoe)return VJ.exports;Eoe=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(u){console.error(u)}}return l(),VJ.exports=$ue(),VJ.exports}var Hue=Iue();const zue=sie(Hue);var Toe="popstate";function jue(l={}){function u(x,A){let{pathname:R,search:O,hash:I}=x.location;return Eee("",{pathname:R,search:O,hash:I},A.state&&A.state.usr||null,A.state&&A.state.key||"default")}function p(x,A){return typeof A=="string"?A:eB(A)}return Uue(u,p,null,l)}function Zc(l,u){if(l===!1||l===null||typeof l>"u")throw new Error(u)}function H1(l,u){if(!l){typeof console<"u"&&console.warn(u);try{throw new Error(u)}catch{}}}function Vue(){return Math.random().toString(36).substring(2,10)}function Aoe(l,u){return{usr:l.state,key:l.key,idx:u}}function Eee(l,u,p=null,x){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof u=="string"?Q3(u):u,state:p,key:u&&u.key||x||Vue()}}function eB({pathname:l="/",search:u="",hash:p=""}){return u&&u!=="?"&&(l+=u.charAt(0)==="?"?u:"?"+u),p&&p!=="#"&&(l+=p.charAt(0)==="#"?p:"#"+p),l}function Q3(l){let u={};if(l){let p=l.indexOf("#");p>=0&&(u.hash=l.substring(p),l=l.substring(0,p));let x=l.indexOf("?");x>=0&&(u.search=l.substring(x),l=l.substring(0,x)),l&&(u.pathname=l)}return u}function Uue(l,u,p,x={}){let{window:A=document.defaultView,v5Compat:R=!1}=x,O=A.history,I="POP",U=null,V=Y();V==null&&(V=0,O.replaceState({...O.state,idx:V},""));function Y(){return(O.state||{idx:null}).idx}function ee(){I="POP";let be=Y(),lt=be==null?null:be-V;V=be,U&&U({action:I,location:Fe.location,delta:lt})}function ue(be,lt){I="PUSH";let Oe=Eee(Fe.location,be,lt);V=Y()+1;let J=Aoe(Oe,V),it=Fe.createHref(Oe);try{O.pushState(J,"",it)}catch(jt){if(jt instanceof DOMException&&jt.name==="DataCloneError")throw jt;A.location.assign(it)}R&&U&&U({action:I,location:Fe.location,delta:1})}function Ce(be,lt){I="REPLACE";let Oe=Eee(Fe.location,be,lt);V=Y();let J=Aoe(Oe,V),it=Fe.createHref(Oe);O.replaceState(J,"",it),R&&U&&U({action:I,location:Fe.location,delta:0})}function pe(be){return Zue(be)}let Fe={get action(){return I},get location(){return l(A,O)},listen(be){if(U)throw new Error("A history only accepts one active listener");return A.addEventListener(Toe,ee),U=be,()=>{A.removeEventListener(Toe,ee),U=null}},createHref(be){return u(A,be)},createURL:pe,encodeLocation(be){let lt=pe(be);return{pathname:lt.pathname,search:lt.search,hash:lt.hash}},push:ue,replace:Ce,go(be){return O.go(be)}};return Fe}function Zue(l,u=!1){let p="http://localhost";typeof window<"u"&&(p=window.location.origin!=="null"?window.location.origin:window.location.href),Zc(p,"No window.location.(origin|href) available to create URL");let x=typeof l=="string"?l:eB(l);return x=x.replace(/ $/,"%20"),!u&&x.startsWith("//")&&(x=p+x),new URL(x,p)}function rie(l,u,p="/"){return Wue(l,u,p,!1)}function Wue(l,u,p,x){let A=typeof u=="string"?Q3(u):u,R=w2(A.pathname||"/",p);if(R==null)return null;let O=aie(l);que(O);let I=null;for(let U=0;I==null&&U<O.length;++U){let V=sde(R);I=nde(O[U],V,x)}return I}function aie(l,u=[],p=[],x="",A=!1){let R=(O,I,U=A,V)=>{let Y={relativePath:V===void 0?O.path||"":V,caseSensitive:O.caseSensitive===!0,childrenIndex:I,route:O};if(Y.relativePath.startsWith("/")){if(!Y.relativePath.startsWith(x)&&U)return;Zc(Y.relativePath.startsWith(x),`Absolute route path "${Y.relativePath}" nested under path "${x}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),Y.relativePath=Y.relativePath.slice(x.length)}let ee=y2([x,Y.relativePath]),ue=p.concat(Y);O.children&&O.children.length>0&&(Zc(O.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${ee}".`),aie(O.children,u,ue,ee,U)),!(O.path==null&&!O.index)&&u.push({path:ee,score:ede(ee,O.index),routesMeta:ue})};return l.forEach((O,I)=>{if(O.path===""||!O.path?.includes("?"))R(O,I);else for(let U of iie(O.path))R(O,I,!0,U)}),u}function iie(l){let u=l.split("/");if(u.length===0)return[];let[p,...x]=u,A=p.endsWith("?"),R=p.replace(/\?$/,"");if(x.length===0)return A?[R,""]:[R];let O=iie(x.join("/")),I=[];return I.push(...O.map(U=>U===""?R:[R,U].join("/"))),A&&I.push(...O),I.map(U=>l.startsWith("/")&&U===""?"/":U)}function que(l){l.sort((u,p)=>u.score!==p.score?p.score-u.score:tde(u.routesMeta.map(x=>x.childrenIndex),p.routesMeta.map(x=>x.childrenIndex)))}var Gue=/^:[\w-]+$/,Kue=3,Yue=2,Xue=1,Que=10,Jue=-2,koe=l=>l==="*";function ede(l,u){let p=l.split("/"),x=p.length;return p.some(koe)&&(x+=Jue),u&&(x+=Yue),p.filter(A=>!koe(A)).reduce((A,R)=>A+(Gue.test(R)?Kue:R===""?Xue:Que),x)}function tde(l,u){return l.length===u.length&&l.slice(0,-1).every((x,A)=>x===u[A])?l[l.length-1]-u[u.length-1]:0}function nde(l,u,p=!1){let{routesMeta:x}=l,A={},R="/",O=[];for(let I=0;I<x.length;++I){let U=x[I],V=I===x.length-1,Y=R==="/"?u:u.slice(R.length)||"/",ee=qH({path:U.relativePath,caseSensitive:U.caseSensitive,end:V},Y),ue=U.route;if(!ee&&V&&p&&!x[x.length-1].route.index&&(ee=qH({path:U.relativePath,caseSensitive:U.caseSensitive,end:!1},Y)),!ee)return null;Object.assign(A,ee.params),O.push({params:A,pathname:y2([R,ee.pathname]),pathnameBase:lde(y2([R,ee.pathnameBase])),route:ue}),ee.pathnameBase!=="/"&&(R=y2([R,ee.pathnameBase]))}return O}function qH(l,u){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[p,x]=ode(l.path,l.caseSensitive,l.end),A=u.match(p);if(!A)return null;let R=A[0],O=R.replace(/(.)\/+$/,"$1"),I=A.slice(1);return{params:x.reduce((V,{paramName:Y,isOptional:ee},ue)=>{if(Y==="*"){let pe=I[ue]||"";O=R.slice(0,R.length-pe.length).replace(/(.)\/+$/,"$1")}const Ce=I[ue];return ee&&!Ce?V[Y]=void 0:V[Y]=(Ce||"").replace(/%2F/g,"/"),V},{}),pathname:R,pathnameBase:O,pattern:l}}function ode(l,u=!1,p=!0){H1(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let x=[],A="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(O,I,U)=>(x.push({paramName:I,isOptional:U!=null}),U?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return l.endsWith("*")?(x.push({paramName:"*"}),A+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):p?A+="\\/*$":l!==""&&l!=="/"&&(A+="(?:(?=\\/|$))"),[new RegExp(A,u?void 0:"i"),x]}function sde(l){try{return l.split("/").map(u=>decodeURIComponent(u).replace(/\//g,"%2F")).join("/")}catch(u){return H1(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${u}).`),l}}function w2(l,u){if(u==="/")return l;if(!l.toLowerCase().startsWith(u.toLowerCase()))return null;let p=u.endsWith("/")?u.length-1:u.length,x=l.charAt(p);return x&&x!=="/"?null:l.slice(p)||"/"}var lie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rde=l=>lie.test(l);function ade(l,u="/"){let{pathname:p,search:x="",hash:A=""}=typeof l=="string"?Q3(l):l,R;if(p)if(rde(p))R=p;else{if(p.includes("//")){let O=p;p=p.replace(/\/\/+/g,"/"),H1(!1,`Pathnames cannot have embedded double slashes - normalizing ${O} -> ${p}`)}p.startsWith("/")?R=Doe(p.substring(1),"/"):R=Doe(p,u)}else R=u;return{pathname:R,search:cde(x),hash:ude(A)}}function Doe(l,u){let p=u.replace(/\/+$/,"").split("/");return l.split("/").forEach(A=>{A===".."?p.length>1&&p.pop():A!=="."&&p.push(A)}),p.length>1?p.join("/"):"/"}function qJ(l,u,p,x){return`Cannot include a '${l}' character in a manually specified \`to.${u}\` field [${JSON.stringify(x)}].  Please separate it out to the \`to.${p}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ide(l){return l.filter((u,p)=>p===0||u.route.path&&u.route.path.length>0)}function rte(l){let u=ide(l);return u.map((p,x)=>x===u.length-1?p.pathname:p.pathnameBase)}function ate(l,u,p,x=!1){let A;typeof l=="string"?A=Q3(l):(A={...l},Zc(!A.pathname||!A.pathname.includes("?"),qJ("?","pathname","search",A)),Zc(!A.pathname||!A.pathname.includes("#"),qJ("#","pathname","hash",A)),Zc(!A.search||!A.search.includes("#"),qJ("#","search","hash",A)));let R=l===""||A.pathname==="",O=R?"/":A.pathname,I;if(O==null)I=p;else{let ee=u.length-1;if(!x&&O.startsWith("..")){let ue=O.split("/");for(;ue[0]==="..";)ue.shift(),ee-=1;A.pathname=ue.join("/")}I=ee>=0?u[ee]:"/"}let U=ade(A,I),V=O&&O!=="/"&&O.endsWith("/"),Y=(R||O===".")&&p.endsWith("/");return!U.pathname.endsWith("/")&&(V||Y)&&(U.pathname+="/"),U}var y2=l=>l.join("/").replace(/\/\/+/g,"/"),lde=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),cde=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,ude=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l,dde=class{constructor(l,u,p,x=!1){this.status=l,this.statusText=u||"",this.internal=x,p instanceof Error?(this.data=p.toString(),this.error=p):this.data=p}};function fde(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}function mde(l){return l.map(u=>u.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var cie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function uie(l,u){let p=l;if(typeof p!="string"||!lie.test(p))return{absoluteURL:void 0,isExternal:!1,to:p};let x=p,A=!1;if(cie)try{let R=new URL(window.location.href),O=p.startsWith("//")?new URL(R.protocol+p):new URL(p),I=w2(O.pathname,u);O.origin===R.origin&&I!=null?p=I+O.search+O.hash:A=!0}catch{H1(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:x,isExternal:A,to:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var die=["POST","PUT","PATCH","DELETE"];new Set(die);var hde=["GET",...die];new Set(hde);var J3=Ze.createContext(null);J3.displayName="DataRouter";var dz=Ze.createContext(null);dz.displayName="DataRouterState";var gde=Ze.createContext(!1),fie=Ze.createContext({isTransitioning:!1});fie.displayName="ViewTransition";var pde=Ze.createContext(new Map);pde.displayName="Fetchers";var bde=Ze.createContext(null);bde.displayName="Await";var _0=Ze.createContext(null);_0.displayName="Navigation";var aB=Ze.createContext(null);aB.displayName="Location";var j1=Ze.createContext({outlet:null,matches:[],isDataRoute:!1});j1.displayName="Route";var ite=Ze.createContext(null);ite.displayName="RouteError";var mie="REACT_ROUTER_ERROR",yde="REDIRECT",vde="ROUTE_ERROR_RESPONSE";function xde(l){if(l.startsWith(`${mie}:${yde}:{`))try{let u=JSON.parse(l.slice(28));if(typeof u=="object"&&u&&typeof u.status=="number"&&typeof u.statusText=="string"&&typeof u.location=="string"&&typeof u.reloadDocument=="boolean"&&typeof u.replace=="boolean")return u}catch{}}function wde(l){if(l.startsWith(`${mie}:${vde}:{`))try{let u=JSON.parse(l.slice(40));if(typeof u=="object"&&u&&typeof u.status=="number"&&typeof u.statusText=="string")return new dde(u.status,u.statusText,u.data)}catch{}}function Cde(l,{relative:u}={}){Zc(eD(),"useHref() may be used only in the context of a <Router> component.");let{basename:p,navigator:x}=Ze.useContext(_0),{hash:A,pathname:R,search:O}=iB(l,{relative:u}),I=R;return p!=="/"&&(I=R==="/"?p:y2([p,R])),x.createHref({pathname:I,search:O,hash:A})}function eD(){return Ze.useContext(aB)!=null}function Rv(){return Zc(eD(),"useLocation() may be used only in the context of a <Router> component."),Ze.useContext(aB).location}var hie="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gie(l){Ze.useContext(_0).static||Ze.useLayoutEffect(l)}function RT(){let{isDataRoute:l}=Ze.useContext(j1);return l?$de():Sde()}function Sde(){Zc(eD(),"useNavigate() may be used only in the context of a <Router> component.");let l=Ze.useContext(J3),{basename:u,navigator:p}=Ze.useContext(_0),{matches:x}=Ze.useContext(j1),{pathname:A}=Rv(),R=JSON.stringify(rte(x)),O=Ze.useRef(!1);return gie(()=>{O.current=!0}),Ze.useCallback((U,V={})=>{if(H1(O.current,hie),!O.current)return;if(typeof U=="number"){p.go(U);return}let Y=ate(U,JSON.parse(R),A,V.relative==="path");l==null&&u!=="/"&&(Y.pathname=Y.pathname==="/"?u:y2([u,Y.pathname])),(V.replace?p.replace:p.push)(Y,V.state,V)},[u,p,R,A,l])}var Ede=Ze.createContext(null);function Tde(l){let u=Ze.useContext(j1).outlet;return Ze.useMemo(()=>u&&Ze.createElement(Ede.Provider,{value:l},u),[u,l])}function Ade(){let{matches:l}=Ze.useContext(j1),u=l[l.length-1];return u?u.params:{}}function iB(l,{relative:u}={}){let{matches:p}=Ze.useContext(j1),{pathname:x}=Rv(),A=JSON.stringify(rte(p));return Ze.useMemo(()=>ate(l,JSON.parse(A),x,u==="path"),[l,A,x,u])}function kde(l,u){return pie(l,u)}function pie(l,u,p,x,A){Zc(eD(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:R}=Ze.useContext(_0),{matches:O}=Ze.useContext(j1),I=O[O.length-1],U=I?I.params:{},V=I?I.pathname:"/",Y=I?I.pathnameBase:"/",ee=I&&I.route;{let Oe=ee&&ee.path||"";yie(V,!ee||Oe.endsWith("*")||Oe.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${V}" (under <Route path="${Oe}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Oe}"> to <Route path="${Oe==="/"?"*":`${Oe}/*`}">.`)}let ue=Rv(),Ce;if(u){let Oe=typeof u=="string"?Q3(u):u;Zc(Y==="/"||Oe.pathname?.startsWith(Y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${Y}" but pathname "${Oe.pathname}" was given in the \`location\` prop.`),Ce=Oe}else Ce=ue;let pe=Ce.pathname||"/",Fe=pe;if(Y!=="/"){let Oe=Y.replace(/^\//,"").split("/");Fe="/"+pe.replace(/^\//,"").split("/").slice(Oe.length).join("/")}let be=rie(l,{pathname:Fe});H1(ee||be!=null,`No routes matched location "${Ce.pathname}${Ce.search}${Ce.hash}" `),H1(be==null||be[be.length-1].route.element!==void 0||be[be.length-1].route.Component!==void 0||be[be.length-1].route.lazy!==void 0,`Matched leaf route at location "${Ce.pathname}${Ce.search}${Ce.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let lt=Rde(be&&be.map(Oe=>Object.assign({},Oe,{params:Object.assign({},U,Oe.params),pathname:y2([Y,R.encodeLocation?R.encodeLocation(Oe.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Oe.pathname]),pathnameBase:Oe.pathnameBase==="/"?Y:y2([Y,R.encodeLocation?R.encodeLocation(Oe.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Oe.pathnameBase])})),O,p,x,A);return u&&lt?Ze.createElement(aB.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...Ce},navigationType:"POP"}},lt):lt}function Dde(){let l=Fde(),u=fde(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),p=l instanceof Error?l.stack:null,x="rgba(200,200,200, 0.5)",A={padding:"0.5rem",backgroundColor:x},R={padding:"2px 4px",backgroundColor:x},O=null;return console.error("Error handled by React Router default ErrorBoundary:",l),O=Ze.createElement(Ze.Fragment,null,Ze.createElement("p",null," Hey developer "),Ze.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Ze.createElement("code",{style:R},"ErrorBoundary")," or"," ",Ze.createElement("code",{style:R},"errorElement")," prop on your route.")),Ze.createElement(Ze.Fragment,null,Ze.createElement("h2",null,"Unexpected Application Error!"),Ze.createElement("h3",{style:{fontStyle:"italic"}},u),p?Ze.createElement("pre",{style:A},p):null,O)}var _de=Ze.createElement(Dde,null),bie=class extends Ze.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,u){return u.location!==l.location||u.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:u.error,location:u.location,revalidation:l.revalidation||u.revalidation}}componentDidCatch(l,u){this.props.onError?this.props.onError(l,u):console.error("React Router caught the following error during render",l)}render(){let l=this.state.error;if(this.context&&typeof l=="object"&&l&&"digest"in l&&typeof l.digest=="string"){const p=wde(l.digest);p&&(l=p)}let u=l!==void 0?Ze.createElement(j1.Provider,{value:this.props.routeContext},Ze.createElement(ite.Provider,{value:l,children:this.props.component})):this.props.children;return this.context?Ze.createElement(Ode,{error:l},u):u}};bie.contextType=gde;var GJ=new WeakMap;function Ode({children:l,error:u}){let{basename:p}=Ze.useContext(_0);if(typeof u=="object"&&u&&"digest"in u&&typeof u.digest=="string"){let x=xde(u.digest);if(x){let A=GJ.get(u);if(A)throw A;let R=uie(x.location,p);if(cie&&!GJ.get(u))if(R.isExternal||x.reloadDocument)window.location.href=R.absoluteURL||R.to;else{const O=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(R.to,{replace:x.replace}));throw GJ.set(u,O),O}return Ze.createElement("meta",{httpEquiv:"refresh",content:`0;url=${R.absoluteURL||R.to}`})}}return l}function Nde({routeContext:l,match:u,children:p}){let x=Ze.useContext(J3);return x&&x.static&&x.staticContext&&(u.route.errorElement||u.route.ErrorBoundary)&&(x.staticContext._deepestRenderedBoundaryId=u.route.id),Ze.createElement(j1.Provider,{value:l},p)}function Rde(l,u=[],p=null,x=null,A=null){if(l==null){if(!p)return null;if(p.errors)l=p.matches;else if(u.length===0&&!p.initialized&&p.matches.length>0)l=p.matches;else return null}let R=l,O=p?.errors;if(O!=null){let Y=R.findIndex(ee=>ee.route.id&&O?.[ee.route.id]!==void 0);Zc(Y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(O).join(",")}`),R=R.slice(0,Math.min(R.length,Y+1))}let I=!1,U=-1;if(p)for(let Y=0;Y<R.length;Y++){let ee=R[Y];if((ee.route.HydrateFallback||ee.route.hydrateFallbackElement)&&(U=Y),ee.route.id){let{loaderData:ue,errors:Ce}=p,pe=ee.route.loader&&!ue.hasOwnProperty(ee.route.id)&&(!Ce||Ce[ee.route.id]===void 0);if(ee.route.lazy||pe){I=!0,U>=0?R=R.slice(0,U+1):R=[R[0]];break}}}let V=p&&x?(Y,ee)=>{x(Y,{location:p.location,params:p.matches?.[0]?.params??{},unstable_pattern:mde(p.matches),errorInfo:ee})}:void 0;return R.reduceRight((Y,ee,ue)=>{let Ce,pe=!1,Fe=null,be=null;p&&(Ce=O&&ee.route.id?O[ee.route.id]:void 0,Fe=ee.route.errorElement||_de,I&&(U<0&&ue===0?(yie("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),pe=!0,be=null):U===ue&&(pe=!0,be=ee.route.hydrateFallbackElement||null)));let lt=u.concat(R.slice(0,ue+1)),Oe=()=>{let J;return Ce?J=Fe:pe?J=be:ee.route.Component?J=Ze.createElement(ee.route.Component,null):ee.route.element?J=ee.route.element:J=Y,Ze.createElement(Nde,{match:ee,routeContext:{outlet:Y,matches:lt,isDataRoute:p!=null},children:J})};return p&&(ee.route.ErrorBoundary||ee.route.errorElement||ue===0)?Ze.createElement(bie,{location:p.location,revalidation:p.revalidation,component:Fe,error:Ce,children:Oe(),routeContext:{outlet:null,matches:lt,isDataRoute:!0},onError:V}):Oe()},null)}function lte(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mde(l){let u=Ze.useContext(J3);return Zc(u,lte(l)),u}function Bde(l){let u=Ze.useContext(dz);return Zc(u,lte(l)),u}function Lde(l){let u=Ze.useContext(j1);return Zc(u,lte(l)),u}function cte(l){let u=Lde(l),p=u.matches[u.matches.length-1];return Zc(p.route.id,`${l} can only be used on routes that contain a unique "id"`),p.route.id}function Pde(){return cte("useRouteId")}function Fde(){let l=Ze.useContext(ite),u=Bde("useRouteError"),p=cte("useRouteError");return l!==void 0?l:u.errors?.[p]}function $de(){let{router:l}=Mde("useNavigate"),u=cte("useNavigate"),p=Ze.useRef(!1);return gie(()=>{p.current=!0}),Ze.useCallback(async(A,R={})=>{H1(p.current,hie),p.current&&(typeof A=="number"?await l.navigate(A):await l.navigate(A,{fromRouteId:u,...R}))},[l,u])}var _oe={};function yie(l,u,p){!u&&!_oe[l]&&(_oe[l]=!0,H1(!1,p))}Ze.memo(Ide);function Ide({routes:l,future:u,state:p,onError:x}){return pie(l,void 0,p,x,u)}function Tee({to:l,replace:u,state:p,relative:x}){Zc(eD(),"<Navigate> may be used only in the context of a <Router> component.");let{static:A}=Ze.useContext(_0);H1(!A,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:R}=Ze.useContext(j1),{pathname:O}=Rv(),I=RT(),U=ate(l,rte(R),O,x==="path"),V=JSON.stringify(U);return Ze.useEffect(()=>{I(JSON.parse(V),{replace:u,state:p,relative:x})},[I,V,x,u,p]),null}function vie(l){return Tde(l.context)}function xu(l){Zc(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Hde({basename:l="/",children:u=null,location:p,navigationType:x="POP",navigator:A,static:R=!1,unstable_useTransitions:O}){Zc(!eD(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let I=l.replace(/^\/*/,"/"),U=Ze.useMemo(()=>({basename:I,navigator:A,static:R,unstable_useTransitions:O,future:{}}),[I,A,R,O]);typeof p=="string"&&(p=Q3(p));let{pathname:V="/",search:Y="",hash:ee="",state:ue=null,key:Ce="default"}=p,pe=Ze.useMemo(()=>{let Fe=w2(V,I);return Fe==null?null:{location:{pathname:Fe,search:Y,hash:ee,state:ue,key:Ce},navigationType:x}},[I,V,Y,ee,ue,Ce,x]);return H1(pe!=null,`<Router basename="${I}"> is not able to match the URL "${V}${Y}${ee}" because it does not start with the basename, so the <Router> won't render anything.`),pe==null?null:Ze.createElement(_0.Provider,{value:U},Ze.createElement(aB.Provider,{children:u,value:pe}))}function zde({children:l,location:u}){return kde(Aee(l),u)}function Aee(l,u=[]){let p=[];return Ze.Children.forEach(l,(x,A)=>{if(!Ze.isValidElement(x))return;let R=[...u,A];if(x.type===Ze.Fragment){p.push.apply(p,Aee(x.props.children,R));return}Zc(x.type===xu,`[${typeof x.type=="string"?x.type:x.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zc(!x.props.index||!x.props.children,"An index route cannot have child routes.");let O={id:x.props.id||R.join("-"),caseSensitive:x.props.caseSensitive,element:x.props.element,Component:x.props.Component,index:x.props.index,path:x.props.path,middleware:x.props.middleware,loader:x.props.loader,action:x.props.action,hydrateFallbackElement:x.props.hydrateFallbackElement,HydrateFallback:x.props.HydrateFallback,errorElement:x.props.errorElement,ErrorBoundary:x.props.ErrorBoundary,hasErrorBoundary:x.props.hasErrorBoundary===!0||x.props.ErrorBoundary!=null||x.props.errorElement!=null,shouldRevalidate:x.props.shouldRevalidate,handle:x.props.handle,lazy:x.props.lazy};x.props.children&&(O.children=Aee(x.props.children,R)),p.push(O)}),p}var $H="get",IH="application/x-www-form-urlencoded";function fz(l){return typeof HTMLElement<"u"&&l instanceof HTMLElement}function jde(l){return fz(l)&&l.tagName.toLowerCase()==="button"}function Vde(l){return fz(l)&&l.tagName.toLowerCase()==="form"}function Ude(l){return fz(l)&&l.tagName.toLowerCase()==="input"}function Zde(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function Wde(l,u){return l.button===0&&(!u||u==="_self")&&!Zde(l)}var NH=null;function qde(){if(NH===null)try{new FormData(document.createElement("form"),0),NH=!1}catch{NH=!0}return NH}var Gde=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function KJ(l){return l!=null&&!Gde.has(l)?(H1(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${IH}"`),null):l}function Kde(l,u){let p,x,A,R,O;if(Vde(l)){let I=l.getAttribute("action");x=I?w2(I,u):null,p=l.getAttribute("method")||$H,A=KJ(l.getAttribute("enctype"))||IH,R=new FormData(l)}else if(jde(l)||Ude(l)&&(l.type==="submit"||l.type==="image")){let I=l.form;if(I==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let U=l.getAttribute("formaction")||I.getAttribute("action");if(x=U?w2(U,u):null,p=l.getAttribute("formmethod")||I.getAttribute("method")||$H,A=KJ(l.getAttribute("formenctype"))||KJ(I.getAttribute("enctype"))||IH,R=new FormData(I,l),!qde()){let{name:V,type:Y,value:ee}=l;if(Y==="image"){let ue=V?`${V}.`:"";R.append(`${ue}x`,"0"),R.append(`${ue}y`,"0")}else V&&R.append(V,ee)}}else{if(fz(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');p=$H,x=null,A=IH,O=l}return R&&A==="text/plain"&&(O=R,R=void 0),{action:x,method:p.toLowerCase(),encType:A,formData:R,body:O}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ute(l,u){if(l===!1||l===null||typeof l>"u")throw new Error(u)}function Yde(l,u,p,x){let A=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return p?A.pathname.endsWith("/")?A.pathname=`${A.pathname}_.${x}`:A.pathname=`${A.pathname}.${x}`:A.pathname==="/"?A.pathname=`_root.${x}`:u&&w2(A.pathname,u)==="/"?A.pathname=`${u.replace(/\/$/,"")}/_root.${x}`:A.pathname=`${A.pathname.replace(/\/$/,"")}.${x}`,A}async function Xde(l,u){if(l.id in u)return u[l.id];try{let p=await import(l.module);return u[l.id]=p,p}catch(p){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(p),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qde(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function Jde(l,u,p){let x=await Promise.all(l.map(async A=>{let R=u.routes[A.route.id];if(R){let O=await Xde(R,p);return O.links?O.links():[]}return[]}));return ofe(x.flat(1).filter(Qde).filter(A=>A.rel==="stylesheet"||A.rel==="preload").map(A=>A.rel==="stylesheet"?{...A,rel:"prefetch",as:"style"}:{...A,rel:"prefetch"}))}function Ooe(l,u,p,x,A,R){let O=(U,V)=>p[V]?U.route.id!==p[V].route.id:!0,I=(U,V)=>p[V].pathname!==U.pathname||p[V].route.path?.endsWith("*")&&p[V].params["*"]!==U.params["*"];return R==="assets"?u.filter((U,V)=>O(U,V)||I(U,V)):R==="data"?u.filter((U,V)=>{let Y=x.routes[U.route.id];if(!Y||!Y.hasLoader)return!1;if(O(U,V)||I(U,V))return!0;if(U.route.shouldRevalidate){let ee=U.route.shouldRevalidate({currentUrl:new URL(A.pathname+A.search+A.hash,window.origin),currentParams:p[0]?.params||{},nextUrl:new URL(l,window.origin),nextParams:U.params,defaultShouldRevalidate:!0});if(typeof ee=="boolean")return ee}return!0}):[]}function efe(l,u,{includeHydrateFallback:p}={}){return tfe(l.map(x=>{let A=u.routes[x.route.id];if(!A)return[];let R=[A.module];return A.clientActionModule&&(R=R.concat(A.clientActionModule)),A.clientLoaderModule&&(R=R.concat(A.clientLoaderModule)),p&&A.hydrateFallbackModule&&(R=R.concat(A.hydrateFallbackModule)),A.imports&&(R=R.concat(A.imports)),R}).flat(1))}function tfe(l){return[...new Set(l)]}function nfe(l){let u={},p=Object.keys(l).sort();for(let x of p)u[x]=l[x];return u}function ofe(l,u){let p=new Set;return new Set(u),l.reduce((x,A)=>{let R=JSON.stringify(nfe(A));return p.has(R)||(p.add(R),x.push({key:R,link:A})),x},[])}function xie(){let l=Ze.useContext(J3);return ute(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function sfe(){let l=Ze.useContext(dz);return ute(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var dte=Ze.createContext(void 0);dte.displayName="FrameworkContext";function wie(){let l=Ze.useContext(dte);return ute(l,"You must render this element inside a <HydratedRouter> element"),l}function rfe(l,u){let p=Ze.useContext(dte),[x,A]=Ze.useState(!1),[R,O]=Ze.useState(!1),{onFocus:I,onBlur:U,onMouseEnter:V,onMouseLeave:Y,onTouchStart:ee}=u,ue=Ze.useRef(null);Ze.useEffect(()=>{if(l==="render"&&O(!0),l==="viewport"){let Fe=lt=>{lt.forEach(Oe=>{O(Oe.isIntersecting)})},be=new IntersectionObserver(Fe,{threshold:.5});return ue.current&&be.observe(ue.current),()=>{be.disconnect()}}},[l]),Ze.useEffect(()=>{if(x){let Fe=setTimeout(()=>{O(!0)},100);return()=>{clearTimeout(Fe)}}},[x]);let Ce=()=>{A(!0)},pe=()=>{A(!1),O(!1)};return p?l!=="intent"?[R,ue,{}]:[R,ue,{onFocus:UM(I,Ce),onBlur:UM(U,pe),onMouseEnter:UM(V,Ce),onMouseLeave:UM(Y,pe),onTouchStart:UM(ee,Ce)}]:[!1,ue,{}]}function UM(l,u){return p=>{l&&l(p),p.defaultPrevented||u(p)}}function afe({page:l,...u}){let{router:p}=xie(),x=Ze.useMemo(()=>rie(p.routes,l,p.basename),[p.routes,l,p.basename]);return x?Ze.createElement(lfe,{page:l,matches:x,...u}):null}function ife(l){let{manifest:u,routeModules:p}=wie(),[x,A]=Ze.useState([]);return Ze.useEffect(()=>{let R=!1;return Jde(l,u,p).then(O=>{R||A(O)}),()=>{R=!0}},[l,u,p]),x}function lfe({page:l,matches:u,...p}){let x=Rv(),{future:A,manifest:R,routeModules:O}=wie(),{basename:I}=xie(),{loaderData:U,matches:V}=sfe(),Y=Ze.useMemo(()=>Ooe(l,u,V,R,x,"data"),[l,u,V,R,x]),ee=Ze.useMemo(()=>Ooe(l,u,V,R,x,"assets"),[l,u,V,R,x]),ue=Ze.useMemo(()=>{if(l===x.pathname+x.search+x.hash)return[];let Fe=new Set,be=!1;if(u.forEach(Oe=>{let J=R.routes[Oe.route.id];!J||!J.hasLoader||(!Y.some(it=>it.route.id===Oe.route.id)&&Oe.route.id in U&&O[Oe.route.id]?.shouldRevalidate||J.hasClientLoader?be=!0:Fe.add(Oe.route.id))}),Fe.size===0)return[];let lt=Yde(l,I,A.unstable_trailingSlashAwareDataRequests,"data");return be&&Fe.size>0&&lt.searchParams.set("_routes",u.filter(Oe=>Fe.has(Oe.route.id)).map(Oe=>Oe.route.id).join(",")),[lt.pathname+lt.search]},[I,A.unstable_trailingSlashAwareDataRequests,U,x,R,Y,u,l,O]),Ce=Ze.useMemo(()=>efe(ee,R),[ee,R]),pe=ife(ee);return Ze.createElement(Ze.Fragment,null,ue.map(Fe=>Ze.createElement("link",{key:Fe,rel:"prefetch",as:"fetch",href:Fe,...p})),Ce.map(Fe=>Ze.createElement("link",{key:Fe,rel:"modulepreload",href:Fe,...p})),pe.map(({key:Fe,link:be})=>Ze.createElement("link",{key:Fe,nonce:p.nonce,...be})))}function cfe(...l){return u=>{l.forEach(p=>{typeof p=="function"?p(u):p!=null&&(p.current=u)})}}var ufe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ufe&&(window.__reactRouterVersion="7.12.0")}catch{}function dfe({basename:l,children:u,unstable_useTransitions:p,window:x}){let A=Ze.useRef();A.current==null&&(A.current=jue({window:x,v5Compat:!0}));let R=A.current,[O,I]=Ze.useState({action:R.action,location:R.location}),U=Ze.useCallback(V=>{p===!1?I(V):Ze.startTransition(()=>I(V))},[p]);return Ze.useLayoutEffect(()=>R.listen(U),[R,U]),Ze.createElement(Hde,{basename:l,children:u,location:O.location,navigationType:O.action,navigator:R,unstable_useTransitions:p})}var Cie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uy=Ze.forwardRef(function({onClick:u,discover:p="render",prefetch:x="none",relative:A,reloadDocument:R,replace:O,state:I,target:U,to:V,preventScrollReset:Y,viewTransition:ee,unstable_defaultShouldRevalidate:ue,...Ce},pe){let{basename:Fe,unstable_useTransitions:be}=Ze.useContext(_0),lt=typeof V=="string"&&Cie.test(V),Oe=uie(V,Fe);V=Oe.to;let J=Cde(V,{relative:A}),[it,jt,Ke]=rfe(x,Ce),ie=gfe(V,{replace:O,state:I,target:U,preventScrollReset:Y,relative:A,viewTransition:ee,unstable_defaultShouldRevalidate:ue,unstable_useTransitions:be});function ut(fn){u&&u(fn),fn.defaultPrevented||ie(fn)}let xn=Ze.createElement("a",{...Ce,...Ke,href:Oe.absoluteURL||J,onClick:Oe.isExternal||R?u:ut,ref:cfe(pe,jt),target:U,"data-discover":!lt&&p==="render"?"true":void 0});return it&&!lt?Ze.createElement(Ze.Fragment,null,xn,Ze.createElement(afe,{page:J})):xn});uy.displayName="Link";var ffe=Ze.forwardRef(function({"aria-current":u="page",caseSensitive:p=!1,className:x="",end:A=!1,style:R,to:O,viewTransition:I,children:U,...V},Y){let ee=iB(O,{relative:V.relative}),ue=Rv(),Ce=Ze.useContext(dz),{navigator:pe,basename:Fe}=Ze.useContext(_0),be=Ce!=null&&xfe(ee)&&I===!0,lt=pe.encodeLocation?pe.encodeLocation(ee).pathname:ee.pathname,Oe=ue.pathname,J=Ce&&Ce.navigation&&Ce.navigation.location?Ce.navigation.location.pathname:null;p||(Oe=Oe.toLowerCase(),J=J?J.toLowerCase():null,lt=lt.toLowerCase()),J&&Fe&&(J=w2(J,Fe)||J);const it=lt!=="/"&&lt.endsWith("/")?lt.length-1:lt.length;let jt=Oe===lt||!A&&Oe.startsWith(lt)&&Oe.charAt(it)==="/",Ke=J!=null&&(J===lt||!A&&J.startsWith(lt)&&J.charAt(lt.length)==="/"),ie={isActive:jt,isPending:Ke,isTransitioning:be},ut=jt?u:void 0,xn;typeof x=="function"?xn=x(ie):xn=[x,jt?"active":null,Ke?"pending":null,be?"transitioning":null].filter(Boolean).join(" ");let fn=typeof R=="function"?R(ie):R;return Ze.createElement(uy,{...V,"aria-current":ut,className:xn,ref:Y,style:fn,to:O,viewTransition:I},typeof U=="function"?U(ie):U)});ffe.displayName="NavLink";var mfe=Ze.forwardRef(({discover:l="render",fetcherKey:u,navigate:p,reloadDocument:x,replace:A,state:R,method:O=$H,action:I,onSubmit:U,relative:V,preventScrollReset:Y,viewTransition:ee,unstable_defaultShouldRevalidate:ue,...Ce},pe)=>{let{unstable_useTransitions:Fe}=Ze.useContext(_0),be=yfe(),lt=vfe(I,{relative:V}),Oe=O.toLowerCase()==="get"?"get":"post",J=typeof I=="string"&&Cie.test(I),it=jt=>{if(U&&U(jt),jt.defaultPrevented)return;jt.preventDefault();let Ke=jt.nativeEvent.submitter,ie=Ke?.getAttribute("formmethod")||O,ut=()=>be(Ke||jt.currentTarget,{fetcherKey:u,method:ie,navigate:p,replace:A,state:R,relative:V,preventScrollReset:Y,viewTransition:ee,unstable_defaultShouldRevalidate:ue});Fe&&p!==!1?Ze.startTransition(()=>ut()):ut()};return Ze.createElement("form",{ref:pe,method:Oe,action:lt,onSubmit:x?U:it,...Ce,"data-discover":!J&&l==="render"?"true":void 0})});mfe.displayName="Form";function hfe(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sie(l){let u=Ze.useContext(J3);return Zc(u,hfe(l)),u}function gfe(l,{target:u,replace:p,state:x,preventScrollReset:A,relative:R,viewTransition:O,unstable_defaultShouldRevalidate:I,unstable_useTransitions:U}={}){let V=RT(),Y=Rv(),ee=iB(l,{relative:R});return Ze.useCallback(ue=>{if(Wde(ue,u)){ue.preventDefault();let Ce=p!==void 0?p:eB(Y)===eB(ee),pe=()=>V(l,{replace:Ce,state:x,preventScrollReset:A,relative:R,viewTransition:O,unstable_defaultShouldRevalidate:I});U?Ze.startTransition(()=>pe()):pe()}},[Y,V,ee,p,x,u,l,A,R,O,I,U])}var pfe=0,bfe=()=>`__${String(++pfe)}__`;function yfe(){let{router:l}=Sie("useSubmit"),{basename:u}=Ze.useContext(_0),p=Pde(),x=l.fetch,A=l.navigate;return Ze.useCallback(async(R,O={})=>{let{action:I,method:U,encType:V,formData:Y,body:ee}=Kde(R,u);if(O.navigate===!1){let ue=O.fetcherKey||bfe();await x(ue,p,O.action||I,{unstable_defaultShouldRevalidate:O.unstable_defaultShouldRevalidate,preventScrollReset:O.preventScrollReset,formData:Y,body:ee,formMethod:O.method||U,formEncType:O.encType||V,flushSync:O.flushSync})}else await A(O.action||I,{unstable_defaultShouldRevalidate:O.unstable_defaultShouldRevalidate,preventScrollReset:O.preventScrollReset,formData:Y,body:ee,formMethod:O.method||U,formEncType:O.encType||V,replace:O.replace,state:O.state,fromRouteId:p,flushSync:O.flushSync,viewTransition:O.viewTransition})},[x,A,u,p])}function vfe(l,{relative:u}={}){let{basename:p}=Ze.useContext(_0),x=Ze.useContext(j1);Zc(x,"useFormAction must be used inside a RouteContext");let[A]=x.matches.slice(-1),R={...iB(l||".",{relative:u})},O=Rv();if(l==null){R.search=O.search;let I=new URLSearchParams(R.search),U=I.getAll("index");if(U.some(Y=>Y==="")){I.delete("index"),U.filter(ee=>ee).forEach(ee=>I.append("index",ee));let Y=I.toString();R.search=Y?`?${Y}`:""}}return(!l||l===".")&&A.route.index&&(R.search=R.search?R.search.replace(/^\?/,"?index&"):"?index"),p!=="/"&&(R.pathname=R.pathname==="/"?p:y2([p,R.pathname])),eB(R)}function xfe(l,{relative:u}={}){let p=Ze.useContext(fie);Zc(p!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:x}=Sie("useViewTransitionState"),A=iB(l,{relative:u});if(!p.isTransitioning)return!1;let R=w2(p.currentLocation.pathname,x)||p.currentLocation.pathname,O=w2(p.nextLocation.pathname,x)||p.nextLocation.pathname;return qH(A.pathname,O)!=null||qH(A.pathname,R)!=null}const Noe=l=>{let u;const p=new Set,x=(V,Y)=>{const ee=typeof V=="function"?V(u):V;if(!Object.is(ee,u)){const ue=u;u=Y??(typeof ee!="object"||ee===null)?ee:Object.assign({},u,ee),p.forEach(Ce=>Ce(u,ue))}},A=()=>u,I={setState:x,getState:A,getInitialState:()=>U,subscribe:V=>(p.add(V),()=>p.delete(V))},U=u=l(x,A,I);return I},wfe=(l=>l?Noe(l):Noe),Cfe=l=>l;function Sfe(l,u=Cfe){const p=qM.useSyncExternalStore(l.subscribe,qM.useCallback(()=>u(l.getState()),[l,u]),qM.useCallback(()=>u(l.getInitialState()),[l,u]));return qM.useDebugValue(p),p}const Roe=l=>{const u=wfe(l),p=x=>Sfe(u,x);return Object.assign(p,u),p},Efe=(l=>l?Roe(l):Roe),mz=Efe(l=>({user:null,token:null,isAuthenticated:!1,initialize:()=>{const u=localStorage.getItem("admin_token");l(u?{token:u,isAuthenticated:!0}:{token:null,user:null,isAuthenticated:!1})},login:(u,p)=>{localStorage.setItem("admin_token",u),l({token:u,user:p,isAuthenticated:!0})},logout:()=>{localStorage.removeItem("admin_token"),l({token:null,user:null,isAuthenticated:!1})},setUser:u=>l({user:u})}));function Eie(l,u){return function(){return l.apply(u,arguments)}}const{toString:Tfe}=Object.prototype,{getPrototypeOf:fte}=Object,{iterator:hz,toStringTag:Tie}=Symbol,gz=(l=>u=>{const p=Tfe.call(u);return l[p]||(l[p]=p.slice(8,-1).toLowerCase())})(Object.create(null)),dy=l=>(l=l.toLowerCase(),u=>gz(u)===l),pz=l=>u=>typeof u===l,{isArray:tD}=Array,G3=pz("undefined");function lB(l){return l!==null&&!G3(l)&&l.constructor!==null&&!G3(l.constructor)&&mp(l.constructor.isBuffer)&&l.constructor.isBuffer(l)}const Aie=dy("ArrayBuffer");function Afe(l){let u;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?u=ArrayBuffer.isView(l):u=l&&l.buffer&&Aie(l.buffer),u}const kfe=pz("string"),mp=pz("function"),kie=pz("number"),cB=l=>l!==null&&typeof l=="object",Dfe=l=>l===!0||l===!1,HH=l=>{if(gz(l)!=="object")return!1;const u=fte(l);return(u===null||u===Object.prototype||Object.getPrototypeOf(u)===null)&&!(Tie in l)&&!(hz in l)},_fe=l=>{if(!cB(l)||lB(l))return!1;try{return Object.keys(l).length===0&&Object.getPrototypeOf(l)===Object.prototype}catch{return!1}},Ofe=dy("Date"),Nfe=dy("File"),Rfe=dy("Blob"),Mfe=dy("FileList"),Bfe=l=>cB(l)&&mp(l.pipe),Lfe=l=>{let u;return l&&(typeof FormData=="function"&&l instanceof FormData||mp(l.append)&&((u=gz(l))==="formdata"||u==="object"&&mp(l.toString)&&l.toString()==="[object FormData]"))},Pfe=dy("URLSearchParams"),[Ffe,$fe,Ife,Hfe]=["ReadableStream","Request","Response","Headers"].map(dy),zfe=l=>l.trim?l.trim():l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function uB(l,u,{allOwnKeys:p=!1}={}){if(l===null||typeof l>"u")return;let x,A;if(typeof l!="object"&&(l=[l]),tD(l))for(x=0,A=l.length;x<A;x++)u.call(null,l[x],x,l);else{if(lB(l))return;const R=p?Object.getOwnPropertyNames(l):Object.keys(l),O=R.length;let I;for(x=0;x<O;x++)I=R[x],u.call(null,l[I],I,l)}}function Die(l,u){if(lB(l))return null;u=u.toLowerCase();const p=Object.keys(l);let x=p.length,A;for(;x-- >0;)if(A=p[x],u===A.toLowerCase())return A;return null}const ET=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_ie=l=>!G3(l)&&l!==ET;function kee(){const{caseless:l,skipUndefined:u}=_ie(this)&&this||{},p={},x=(A,R)=>{const O=l&&Die(p,R)||R;HH(p[O])&&HH(A)?p[O]=kee(p[O],A):HH(A)?p[O]=kee({},A):tD(A)?p[O]=A.slice():(!u||!G3(A))&&(p[O]=A)};for(let A=0,R=arguments.length;A<R;A++)arguments[A]&&uB(arguments[A],x);return p}const jfe=(l,u,p,{allOwnKeys:x}={})=>(uB(u,(A,R)=>{p&&mp(A)?l[R]=Eie(A,p):l[R]=A},{allOwnKeys:x}),l),Vfe=l=>(l.charCodeAt(0)===65279&&(l=l.slice(1)),l),Ufe=(l,u,p,x)=>{l.prototype=Object.create(u.prototype,x),l.prototype.constructor=l,Object.defineProperty(l,"super",{value:u.prototype}),p&&Object.assign(l.prototype,p)},Zfe=(l,u,p,x)=>{let A,R,O;const I={};if(u=u||{},l==null)return u;do{for(A=Object.getOwnPropertyNames(l),R=A.length;R-- >0;)O=A[R],(!x||x(O,l,u))&&!I[O]&&(u[O]=l[O],I[O]=!0);l=p!==!1&&fte(l)}while(l&&(!p||p(l,u))&&l!==Object.prototype);return u},Wfe=(l,u,p)=>{l=String(l),(p===void 0||p>l.length)&&(p=l.length),p-=u.length;const x=l.indexOf(u,p);return x!==-1&&x===p},qfe=l=>{if(!l)return null;if(tD(l))return l;let u=l.length;if(!kie(u))return null;const p=new Array(u);for(;u-- >0;)p[u]=l[u];return p},Gfe=(l=>u=>l&&u instanceof l)(typeof Uint8Array<"u"&&fte(Uint8Array)),Kfe=(l,u)=>{const x=(l&&l[hz]).call(l);let A;for(;(A=x.next())&&!A.done;){const R=A.value;u.call(l,R[0],R[1])}},Yfe=(l,u)=>{let p;const x=[];for(;(p=l.exec(u))!==null;)x.push(p);return x},Xfe=dy("HTMLFormElement"),Qfe=l=>l.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(p,x,A){return x.toUpperCase()+A}),Moe=(({hasOwnProperty:l})=>(u,p)=>l.call(u,p))(Object.prototype),Jfe=dy("RegExp"),Oie=(l,u)=>{const p=Object.getOwnPropertyDescriptors(l),x={};uB(p,(A,R)=>{let O;(O=u(A,R,l))!==!1&&(x[R]=O||A)}),Object.defineProperties(l,x)},eme=l=>{Oie(l,(u,p)=>{if(mp(l)&&["arguments","caller","callee"].indexOf(p)!==-1)return!1;const x=l[p];if(mp(x)){if(u.enumerable=!1,"writable"in u){u.writable=!1;return}u.set||(u.set=()=>{throw Error("Can not rewrite read-only method '"+p+"'")})}})},tme=(l,u)=>{const p={},x=A=>{A.forEach(R=>{p[R]=!0})};return tD(l)?x(l):x(String(l).split(u)),p},nme=()=>{},ome=(l,u)=>l!=null&&Number.isFinite(l=+l)?l:u;function sme(l){return!!(l&&mp(l.append)&&l[Tie]==="FormData"&&l[hz])}const rme=l=>{const u=new Array(10),p=(x,A)=>{if(cB(x)){if(u.indexOf(x)>=0)return;if(lB(x))return x;if(!("toJSON"in x)){u[A]=x;const R=tD(x)?[]:{};return uB(x,(O,I)=>{const U=p(O,A+1);!G3(U)&&(R[I]=U)}),u[A]=void 0,R}}return x};return p(l,0)},ame=dy("AsyncFunction"),ime=l=>l&&(cB(l)||mp(l))&&mp(l.then)&&mp(l.catch),Nie=((l,u)=>l?setImmediate:u?((p,x)=>(ET.addEventListener("message",({source:A,data:R})=>{A===ET&&R===p&&x.length&&x.shift()()},!1),A=>{x.push(A),ET.postMessage(p,"*")}))(`axios@${Math.random()}`,[]):p=>setTimeout(p))(typeof setImmediate=="function",mp(ET.postMessage)),lme=typeof queueMicrotask<"u"?queueMicrotask.bind(ET):typeof process<"u"&&process.nextTick||Nie,cme=l=>l!=null&&mp(l[hz]),un={isArray:tD,isArrayBuffer:Aie,isBuffer:lB,isFormData:Lfe,isArrayBufferView:Afe,isString:kfe,isNumber:kie,isBoolean:Dfe,isObject:cB,isPlainObject:HH,isEmptyObject:_fe,isReadableStream:Ffe,isRequest:$fe,isResponse:Ife,isHeaders:Hfe,isUndefined:G3,isDate:Ofe,isFile:Nfe,isBlob:Rfe,isRegExp:Jfe,isFunction:mp,isStream:Bfe,isURLSearchParams:Pfe,isTypedArray:Gfe,isFileList:Mfe,forEach:uB,merge:kee,extend:jfe,trim:zfe,stripBOM:Vfe,inherits:Ufe,toFlatObject:Zfe,kindOf:gz,kindOfTest:dy,endsWith:Wfe,toArray:qfe,forEachEntry:Kfe,matchAll:Yfe,isHTMLForm:Xfe,hasOwnProperty:Moe,hasOwnProp:Moe,reduceDescriptors:Oie,freezeMethods:eme,toObjectSet:tme,toCamelCase:Qfe,noop:nme,toFiniteNumber:ome,findKey:Die,global:ET,isContextDefined:_ie,isSpecCompliantForm:sme,toJSONObject:rme,isAsyncFn:ame,isThenable:ime,setImmediate:Nie,asap:lme,isIterable:cme};function Qr(l,u,p,x,A){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=l,this.name="AxiosError",u&&(this.code=u),p&&(this.config=p),x&&(this.request=x),A&&(this.response=A,this.status=A.status?A.status:null)}un.inherits(Qr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:un.toJSONObject(this.config),code:this.code,status:this.status}}});const Rie=Qr.prototype,Mie={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(l=>{Mie[l]={value:l}});Object.defineProperties(Qr,Mie);Object.defineProperty(Rie,"isAxiosError",{value:!0});Qr.from=(l,u,p,x,A,R)=>{const O=Object.create(Rie);un.toFlatObject(l,O,function(Y){return Y!==Error.prototype},V=>V!=="isAxiosError");const I=l&&l.message?l.message:"Error",U=u==null&&l?l.code:u;return Qr.call(O,I,U,p,x,A),l&&O.cause==null&&Object.defineProperty(O,"cause",{value:l,configurable:!0}),O.name=l&&l.name||"Error",R&&Object.assign(O,R),O};const ume=null;function Dee(l){return un.isPlainObject(l)||un.isArray(l)}function Bie(l){return un.endsWith(l,"[]")?l.slice(0,-2):l}function Boe(l,u,p){return l?l.concat(u).map(function(A,R){return A=Bie(A),!p&&R?"["+A+"]":A}).join(p?".":""):u}function dme(l){return un.isArray(l)&&!l.some(Dee)}const fme=un.toFlatObject(un,{},null,function(u){return/^is[A-Z]/.test(u)});function bz(l,u,p){if(!un.isObject(l))throw new TypeError("target must be an object");u=u||new FormData,p=un.toFlatObject(p,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Fe,be){return!un.isUndefined(be[Fe])});const x=p.metaTokens,A=p.visitor||Y,R=p.dots,O=p.indexes,U=(p.Blob||typeof Blob<"u"&&Blob)&&un.isSpecCompliantForm(u);if(!un.isFunction(A))throw new TypeError("visitor must be a function");function V(pe){if(pe===null)return"";if(un.isDate(pe))return pe.toISOString();if(un.isBoolean(pe))return pe.toString();if(!U&&un.isBlob(pe))throw new Qr("Blob is not supported. Use a Buffer instead.");return un.isArrayBuffer(pe)||un.isTypedArray(pe)?U&&typeof Blob=="function"?new Blob([pe]):Buffer.from(pe):pe}function Y(pe,Fe,be){let lt=pe;if(pe&&!be&&typeof pe=="object"){if(un.endsWith(Fe,"{}"))Fe=x?Fe:Fe.slice(0,-2),pe=JSON.stringify(pe);else if(un.isArray(pe)&&dme(pe)||(un.isFileList(pe)||un.endsWith(Fe,"[]"))&&(lt=un.toArray(pe)))return Fe=Bie(Fe),lt.forEach(function(J,it){!(un.isUndefined(J)||J===null)&&u.append(O===!0?Boe([Fe],it,R):O===null?Fe:Fe+"[]",V(J))}),!1}return Dee(pe)?!0:(u.append(Boe(be,Fe,R),V(pe)),!1)}const ee=[],ue=Object.assign(fme,{defaultVisitor:Y,convertValue:V,isVisitable:Dee});function Ce(pe,Fe){if(!un.isUndefined(pe)){if(ee.indexOf(pe)!==-1)throw Error("Circular reference detected in "+Fe.join("."));ee.push(pe),un.forEach(pe,function(lt,Oe){(!(un.isUndefined(lt)||lt===null)&&A.call(u,lt,un.isString(Oe)?Oe.trim():Oe,Fe,ue))===!0&&Ce(lt,Fe?Fe.concat(Oe):[Oe])}),ee.pop()}}if(!un.isObject(l))throw new TypeError("data must be an object");return Ce(l),u}function Loe(l){const u={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(l).replace(/[!'()~]|%20|%00/g,function(x){return u[x]})}function mte(l,u){this._pairs=[],l&&bz(l,this,u)}const Lie=mte.prototype;Lie.append=function(u,p){this._pairs.push([u,p])};Lie.toString=function(u){const p=u?function(x){return u.call(this,x,Loe)}:Loe;return this._pairs.map(function(A){return p(A[0])+"="+p(A[1])},"").join("&")};function mme(l){return encodeURIComponent(l).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Pie(l,u,p){if(!u)return l;const x=p&&p.encode||mme;un.isFunction(p)&&(p={serialize:p});const A=p&&p.serialize;let R;if(A?R=A(u,p):R=un.isURLSearchParams(u)?u.toString():new mte(u,p).toString(x),R){const O=l.indexOf("#");O!==-1&&(l=l.slice(0,O)),l+=(l.indexOf("?")===-1?"?":"&")+R}return l}class Poe{constructor(){this.handlers=[]}use(u,p,x){return this.handlers.push({fulfilled:u,rejected:p,synchronous:x?x.synchronous:!1,runWhen:x?x.runWhen:null}),this.handlers.length-1}eject(u){this.handlers[u]&&(this.handlers[u]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(u){un.forEach(this.handlers,function(x){x!==null&&u(x)})}}const Fie={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hme=typeof URLSearchParams<"u"?URLSearchParams:mte,gme=typeof FormData<"u"?FormData:null,pme=typeof Blob<"u"?Blob:null,bme={isBrowser:!0,classes:{URLSearchParams:hme,FormData:gme,Blob:pme},protocols:["http","https","file","blob","url","data"]},hte=typeof window<"u"&&typeof document<"u",_ee=typeof navigator=="object"&&navigator||void 0,yme=hte&&(!_ee||["ReactNative","NativeScript","NS"].indexOf(_ee.product)<0),vme=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xme=hte&&window.location.href||"http://localhost",wme=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hte,hasStandardBrowserEnv:yme,hasStandardBrowserWebWorkerEnv:vme,navigator:_ee,origin:xme},Symbol.toStringTag,{value:"Module"})),ph={...wme,...bme};function Cme(l,u){return bz(l,new ph.classes.URLSearchParams,{visitor:function(p,x,A,R){return ph.isNode&&un.isBuffer(p)?(this.append(x,p.toString("base64")),!1):R.defaultVisitor.apply(this,arguments)},...u})}function Sme(l){return un.matchAll(/\w+|\[(\w*)]/g,l).map(u=>u[0]==="[]"?"":u[1]||u[0])}function Eme(l){const u={},p=Object.keys(l);let x;const A=p.length;let R;for(x=0;x<A;x++)R=p[x],u[R]=l[R];return u}function $ie(l){function u(p,x,A,R){let O=p[R++];if(O==="__proto__")return!0;const I=Number.isFinite(+O),U=R>=p.length;return O=!O&&un.isArray(A)?A.length:O,U?(un.hasOwnProp(A,O)?A[O]=[A[O],x]:A[O]=x,!I):((!A[O]||!un.isObject(A[O]))&&(A[O]=[]),u(p,x,A[O],R)&&un.isArray(A[O])&&(A[O]=Eme(A[O])),!I)}if(un.isFormData(l)&&un.isFunction(l.entries)){const p={};return un.forEachEntry(l,(x,A)=>{u(Sme(x),A,p,0)}),p}return null}function Tme(l,u,p){if(un.isString(l))try{return(u||JSON.parse)(l),un.trim(l)}catch(x){if(x.name!=="SyntaxError")throw x}return(p||JSON.stringify)(l)}const dB={transitional:Fie,adapter:["xhr","http","fetch"],transformRequest:[function(u,p){const x=p.getContentType()||"",A=x.indexOf("application/json")>-1,R=un.isObject(u);if(R&&un.isHTMLForm(u)&&(u=new FormData(u)),un.isFormData(u))return A?JSON.stringify($ie(u)):u;if(un.isArrayBuffer(u)||un.isBuffer(u)||un.isStream(u)||un.isFile(u)||un.isBlob(u)||un.isReadableStream(u))return u;if(un.isArrayBufferView(u))return u.buffer;if(un.isURLSearchParams(u))return p.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),u.toString();let I;if(R){if(x.indexOf("application/x-www-form-urlencoded")>-1)return Cme(u,this.formSerializer).toString();if((I=un.isFileList(u))||x.indexOf("multipart/form-data")>-1){const U=this.env&&this.env.FormData;return bz(I?{"files[]":u}:u,U&&new U,this.formSerializer)}}return R||A?(p.setContentType("application/json",!1),Tme(u)):u}],transformResponse:[function(u){const p=this.transitional||dB.transitional,x=p&&p.forcedJSONParsing,A=this.responseType==="json";if(un.isResponse(u)||un.isReadableStream(u))return u;if(u&&un.isString(u)&&(x&&!this.responseType||A)){const O=!(p&&p.silentJSONParsing)&&A;try{return JSON.parse(u,this.parseReviver)}catch(I){if(O)throw I.name==="SyntaxError"?Qr.from(I,Qr.ERR_BAD_RESPONSE,this,null,this.response):I}}return u}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ph.classes.FormData,Blob:ph.classes.Blob},validateStatus:function(u){return u>=200&&u<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};un.forEach(["delete","get","head","post","put","patch"],l=>{dB.headers[l]={}});const Ame=un.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kme=l=>{const u={};let p,x,A;return l&&l.split(`
`).forEach(function(O){A=O.indexOf(":"),p=O.substring(0,A).trim().toLowerCase(),x=O.substring(A+1).trim(),!(!p||u[p]&&Ame[p])&&(p==="set-cookie"?u[p]?u[p].push(x):u[p]=[x]:u[p]=u[p]?u[p]+", "+x:x)}),u},Foe=Symbol("internals");function ZM(l){return l&&String(l).trim().toLowerCase()}function zH(l){return l===!1||l==null?l:un.isArray(l)?l.map(zH):String(l)}function Dme(l){const u=Object.create(null),p=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let x;for(;x=p.exec(l);)u[x[1]]=x[2];return u}const _me=l=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(l.trim());function YJ(l,u,p,x,A){if(un.isFunction(x))return x.call(this,u,p);if(A&&(u=p),!!un.isString(u)){if(un.isString(x))return u.indexOf(x)!==-1;if(un.isRegExp(x))return x.test(u)}}function Ome(l){return l.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(u,p,x)=>p.toUpperCase()+x)}function Nme(l,u){const p=un.toCamelCase(" "+u);["get","set","has"].forEach(x=>{Object.defineProperty(l,x+p,{value:function(A,R,O){return this[x].call(this,u,A,R,O)},configurable:!0})})}let hp=class{constructor(u){u&&this.set(u)}set(u,p,x){const A=this;function R(I,U,V){const Y=ZM(U);if(!Y)throw new Error("header name must be a non-empty string");const ee=un.findKey(A,Y);(!ee||A[ee]===void 0||V===!0||V===void 0&&A[ee]!==!1)&&(A[ee||U]=zH(I))}const O=(I,U)=>un.forEach(I,(V,Y)=>R(V,Y,U));if(un.isPlainObject(u)||u instanceof this.constructor)O(u,p);else if(un.isString(u)&&(u=u.trim())&&!_me(u))O(kme(u),p);else if(un.isObject(u)&&un.isIterable(u)){let I={},U,V;for(const Y of u){if(!un.isArray(Y))throw TypeError("Object iterator must return a key-value pair");I[V=Y[0]]=(U=I[V])?un.isArray(U)?[...U,Y[1]]:[U,Y[1]]:Y[1]}O(I,p)}else u!=null&&R(p,u,x);return this}get(u,p){if(u=ZM(u),u){const x=un.findKey(this,u);if(x){const A=this[x];if(!p)return A;if(p===!0)return Dme(A);if(un.isFunction(p))return p.call(this,A,x);if(un.isRegExp(p))return p.exec(A);throw new TypeError("parser must be boolean|regexp|function")}}}has(u,p){if(u=ZM(u),u){const x=un.findKey(this,u);return!!(x&&this[x]!==void 0&&(!p||YJ(this,this[x],x,p)))}return!1}delete(u,p){const x=this;let A=!1;function R(O){if(O=ZM(O),O){const I=un.findKey(x,O);I&&(!p||YJ(x,x[I],I,p))&&(delete x[I],A=!0)}}return un.isArray(u)?u.forEach(R):R(u),A}clear(u){const p=Object.keys(this);let x=p.length,A=!1;for(;x--;){const R=p[x];(!u||YJ(this,this[R],R,u,!0))&&(delete this[R],A=!0)}return A}normalize(u){const p=this,x={};return un.forEach(this,(A,R)=>{const O=un.findKey(x,R);if(O){p[O]=zH(A),delete p[R];return}const I=u?Ome(R):String(R).trim();I!==R&&delete p[R],p[I]=zH(A),x[I]=!0}),this}concat(...u){return this.constructor.concat(this,...u)}toJSON(u){const p=Object.create(null);return un.forEach(this,(x,A)=>{x!=null&&x!==!1&&(p[A]=u&&un.isArray(x)?x.join(", "):x)}),p}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([u,p])=>u+": "+p).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(u){return u instanceof this?u:new this(u)}static concat(u,...p){const x=new this(u);return p.forEach(A=>x.set(A)),x}static accessor(u){const x=(this[Foe]=this[Foe]={accessors:{}}).accessors,A=this.prototype;function R(O){const I=ZM(O);x[I]||(Nme(A,O),x[I]=!0)}return un.isArray(u)?u.forEach(R):R(u),this}};hp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);un.reduceDescriptors(hp.prototype,({value:l},u)=>{let p=u[0].toUpperCase()+u.slice(1);return{get:()=>l,set(x){this[p]=x}}});un.freezeMethods(hp);function XJ(l,u){const p=this||dB,x=u||p,A=hp.from(x.headers);let R=x.data;return un.forEach(l,function(I){R=I.call(p,R,A.normalize(),u?u.status:void 0)}),A.normalize(),R}function Iie(l){return!!(l&&l.__CANCEL__)}function nD(l,u,p){Qr.call(this,l??"canceled",Qr.ERR_CANCELED,u,p),this.name="CanceledError"}un.inherits(nD,Qr,{__CANCEL__:!0});function Hie(l,u,p){const x=p.config.validateStatus;!p.status||!x||x(p.status)?l(p):u(new Qr("Request failed with status code "+p.status,[Qr.ERR_BAD_REQUEST,Qr.ERR_BAD_RESPONSE][Math.floor(p.status/100)-4],p.config,p.request,p))}function Rme(l){const u=/^([-+\w]{1,25})(:?\/\/|:)/.exec(l);return u&&u[1]||""}function Mme(l,u){l=l||10;const p=new Array(l),x=new Array(l);let A=0,R=0,O;return u=u!==void 0?u:1e3,function(U){const V=Date.now(),Y=x[R];O||(O=V),p[A]=U,x[A]=V;let ee=R,ue=0;for(;ee!==A;)ue+=p[ee++],ee=ee%l;if(A=(A+1)%l,A===R&&(R=(R+1)%l),V-O<u)return;const Ce=Y&&V-Y;return Ce?Math.round(ue*1e3/Ce):void 0}}function Bme(l,u){let p=0,x=1e3/u,A,R;const O=(V,Y=Date.now())=>{p=Y,A=null,R&&(clearTimeout(R),R=null),l(...V)};return[(...V)=>{const Y=Date.now(),ee=Y-p;ee>=x?O(V,Y):(A=V,R||(R=setTimeout(()=>{R=null,O(A)},x-ee)))},()=>A&&O(A)]}const GH=(l,u,p=3)=>{let x=0;const A=Mme(50,250);return Bme(R=>{const O=R.loaded,I=R.lengthComputable?R.total:void 0,U=O-x,V=A(U),Y=O<=I;x=O;const ee={loaded:O,total:I,progress:I?O/I:void 0,bytes:U,rate:V||void 0,estimated:V&&I&&Y?(I-O)/V:void 0,event:R,lengthComputable:I!=null,[u?"download":"upload"]:!0};l(ee)},p)},$oe=(l,u)=>{const p=l!=null;return[x=>u[0]({lengthComputable:p,total:l,loaded:x}),u[1]]},Ioe=l=>(...u)=>un.asap(()=>l(...u)),Lme=ph.hasStandardBrowserEnv?((l,u)=>p=>(p=new URL(p,ph.origin),l.protocol===p.protocol&&l.host===p.host&&(u||l.port===p.port)))(new URL(ph.origin),ph.navigator&&/(msie|trident)/i.test(ph.navigator.userAgent)):()=>!0,Pme=ph.hasStandardBrowserEnv?{write(l,u,p,x,A,R,O){if(typeof document>"u")return;const I=[`${l}=${encodeURIComponent(u)}`];un.isNumber(p)&&I.push(`expires=${new Date(p).toUTCString()}`),un.isString(x)&&I.push(`path=${x}`),un.isString(A)&&I.push(`domain=${A}`),R===!0&&I.push("secure"),un.isString(O)&&I.push(`SameSite=${O}`),document.cookie=I.join("; ")},read(l){if(typeof document>"u")return null;const u=document.cookie.match(new RegExp("(?:^|; )"+l+"=([^;]*)"));return u?decodeURIComponent(u[1]):null},remove(l){this.write(l,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Fme(l){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(l)}function $me(l,u){return u?l.replace(/\/?\/$/,"")+"/"+u.replace(/^\/+/,""):l}function zie(l,u,p){let x=!Fme(u);return l&&(x||p==!1)?$me(l,u):u}const Hoe=l=>l instanceof hp?{...l}:l;function OT(l,u){u=u||{};const p={};function x(V,Y,ee,ue){return un.isPlainObject(V)&&un.isPlainObject(Y)?un.merge.call({caseless:ue},V,Y):un.isPlainObject(Y)?un.merge({},Y):un.isArray(Y)?Y.slice():Y}function A(V,Y,ee,ue){if(un.isUndefined(Y)){if(!un.isUndefined(V))return x(void 0,V,ee,ue)}else return x(V,Y,ee,ue)}function R(V,Y){if(!un.isUndefined(Y))return x(void 0,Y)}function O(V,Y){if(un.isUndefined(Y)){if(!un.isUndefined(V))return x(void 0,V)}else return x(void 0,Y)}function I(V,Y,ee){if(ee in u)return x(V,Y);if(ee in l)return x(void 0,V)}const U={url:R,method:R,data:R,baseURL:O,transformRequest:O,transformResponse:O,paramsSerializer:O,timeout:O,timeoutMessage:O,withCredentials:O,withXSRFToken:O,adapter:O,responseType:O,xsrfCookieName:O,xsrfHeaderName:O,onUploadProgress:O,onDownloadProgress:O,decompress:O,maxContentLength:O,maxBodyLength:O,beforeRedirect:O,transport:O,httpAgent:O,httpsAgent:O,cancelToken:O,socketPath:O,responseEncoding:O,validateStatus:I,headers:(V,Y,ee)=>A(Hoe(V),Hoe(Y),ee,!0)};return un.forEach(Object.keys({...l,...u}),function(Y){const ee=U[Y]||A,ue=ee(l[Y],u[Y],Y);un.isUndefined(ue)&&ee!==I||(p[Y]=ue)}),p}const jie=l=>{const u=OT({},l);let{data:p,withXSRFToken:x,xsrfHeaderName:A,xsrfCookieName:R,headers:O,auth:I}=u;if(u.headers=O=hp.from(O),u.url=Pie(zie(u.baseURL,u.url,u.allowAbsoluteUrls),l.params,l.paramsSerializer),I&&O.set("Authorization","Basic "+btoa((I.username||"")+":"+(I.password?unescape(encodeURIComponent(I.password)):""))),un.isFormData(p)){if(ph.hasStandardBrowserEnv||ph.hasStandardBrowserWebWorkerEnv)O.setContentType(void 0);else if(un.isFunction(p.getHeaders)){const U=p.getHeaders(),V=["content-type","content-length"];Object.entries(U).forEach(([Y,ee])=>{V.includes(Y.toLowerCase())&&O.set(Y,ee)})}}if(ph.hasStandardBrowserEnv&&(x&&un.isFunction(x)&&(x=x(u)),x||x!==!1&&Lme(u.url))){const U=A&&R&&Pme.read(R);U&&O.set(A,U)}return u},Ime=typeof XMLHttpRequest<"u",Hme=Ime&&function(l){return new Promise(function(p,x){const A=jie(l);let R=A.data;const O=hp.from(A.headers).normalize();let{responseType:I,onUploadProgress:U,onDownloadProgress:V}=A,Y,ee,ue,Ce,pe;function Fe(){Ce&&Ce(),pe&&pe(),A.cancelToken&&A.cancelToken.unsubscribe(Y),A.signal&&A.signal.removeEventListener("abort",Y)}let be=new XMLHttpRequest;be.open(A.method.toUpperCase(),A.url,!0),be.timeout=A.timeout;function lt(){if(!be)return;const J=hp.from("getAllResponseHeaders"in be&&be.getAllResponseHeaders()),jt={data:!I||I==="text"||I==="json"?be.responseText:be.response,status:be.status,statusText:be.statusText,headers:J,config:l,request:be};Hie(function(ie){p(ie),Fe()},function(ie){x(ie),Fe()},jt),be=null}"onloadend"in be?be.onloadend=lt:be.onreadystatechange=function(){!be||be.readyState!==4||be.status===0&&!(be.responseURL&&be.responseURL.indexOf("file:")===0)||setTimeout(lt)},be.onabort=function(){be&&(x(new Qr("Request aborted",Qr.ECONNABORTED,l,be)),be=null)},be.onerror=function(it){const jt=it&&it.message?it.message:"Network Error",Ke=new Qr(jt,Qr.ERR_NETWORK,l,be);Ke.event=it||null,x(Ke),be=null},be.ontimeout=function(){let it=A.timeout?"timeout of "+A.timeout+"ms exceeded":"timeout exceeded";const jt=A.transitional||Fie;A.timeoutErrorMessage&&(it=A.timeoutErrorMessage),x(new Qr(it,jt.clarifyTimeoutError?Qr.ETIMEDOUT:Qr.ECONNABORTED,l,be)),be=null},R===void 0&&O.setContentType(null),"setRequestHeader"in be&&un.forEach(O.toJSON(),function(it,jt){be.setRequestHeader(jt,it)}),un.isUndefined(A.withCredentials)||(be.withCredentials=!!A.withCredentials),I&&I!=="json"&&(be.responseType=A.responseType),V&&([ue,pe]=GH(V,!0),be.addEventListener("progress",ue)),U&&be.upload&&([ee,Ce]=GH(U),be.upload.addEventListener("progress",ee),be.upload.addEventListener("loadend",Ce)),(A.cancelToken||A.signal)&&(Y=J=>{be&&(x(!J||J.type?new nD(null,l,be):J),be.abort(),be=null)},A.cancelToken&&A.cancelToken.subscribe(Y),A.signal&&(A.signal.aborted?Y():A.signal.addEventListener("abort",Y)));const Oe=Rme(A.url);if(Oe&&ph.protocols.indexOf(Oe)===-1){x(new Qr("Unsupported protocol "+Oe+":",Qr.ERR_BAD_REQUEST,l));return}be.send(R||null)})},zme=(l,u)=>{const{length:p}=l=l?l.filter(Boolean):[];if(u||p){let x=new AbortController,A;const R=function(V){if(!A){A=!0,I();const Y=V instanceof Error?V:this.reason;x.abort(Y instanceof Qr?Y:new nD(Y instanceof Error?Y.message:Y))}};let O=u&&setTimeout(()=>{O=null,R(new Qr(`timeout ${u} of ms exceeded`,Qr.ETIMEDOUT))},u);const I=()=>{l&&(O&&clearTimeout(O),O=null,l.forEach(V=>{V.unsubscribe?V.unsubscribe(R):V.removeEventListener("abort",R)}),l=null)};l.forEach(V=>V.addEventListener("abort",R));const{signal:U}=x;return U.unsubscribe=()=>un.asap(I),U}},jme=function*(l,u){let p=l.byteLength;if(p<u){yield l;return}let x=0,A;for(;x<p;)A=x+u,yield l.slice(x,A),x=A},Vme=async function*(l,u){for await(const p of Ume(l))yield*jme(p,u)},Ume=async function*(l){if(l[Symbol.asyncIterator]){yield*l;return}const u=l.getReader();try{for(;;){const{done:p,value:x}=await u.read();if(p)break;yield x}}finally{await u.cancel()}},zoe=(l,u,p,x)=>{const A=Vme(l,u);let R=0,O,I=U=>{O||(O=!0,x&&x(U))};return new ReadableStream({async pull(U){try{const{done:V,value:Y}=await A.next();if(V){I(),U.close();return}let ee=Y.byteLength;if(p){let ue=R+=ee;p(ue)}U.enqueue(new Uint8Array(Y))}catch(V){throw I(V),V}},cancel(U){return I(U),A.return()}},{highWaterMark:2})},joe=64*1024,{isFunction:RH}=un,Zme=(({Request:l,Response:u})=>({Request:l,Response:u}))(un.global),{ReadableStream:Voe,TextEncoder:Uoe}=un.global,Zoe=(l,...u)=>{try{return!!l(...u)}catch{return!1}},Wme=l=>{l=un.merge.call({skipUndefined:!0},Zme,l);const{fetch:u,Request:p,Response:x}=l,A=u?RH(u):typeof fetch=="function",R=RH(p),O=RH(x);if(!A)return!1;const I=A&&RH(Voe),U=A&&(typeof Uoe=="function"?(pe=>Fe=>pe.encode(Fe))(new Uoe):async pe=>new Uint8Array(await new p(pe).arrayBuffer())),V=R&&I&&Zoe(()=>{let pe=!1;const Fe=new p(ph.origin,{body:new Voe,method:"POST",get duplex(){return pe=!0,"half"}}).headers.has("Content-Type");return pe&&!Fe}),Y=O&&I&&Zoe(()=>un.isReadableStream(new x("").body)),ee={stream:Y&&(pe=>pe.body)};A&&["text","arrayBuffer","blob","formData","stream"].forEach(pe=>{!ee[pe]&&(ee[pe]=(Fe,be)=>{let lt=Fe&&Fe[pe];if(lt)return lt.call(Fe);throw new Qr(`Response type '${pe}' is not supported`,Qr.ERR_NOT_SUPPORT,be)})});const ue=async pe=>{if(pe==null)return 0;if(un.isBlob(pe))return pe.size;if(un.isSpecCompliantForm(pe))return(await new p(ph.origin,{method:"POST",body:pe}).arrayBuffer()).byteLength;if(un.isArrayBufferView(pe)||un.isArrayBuffer(pe))return pe.byteLength;if(un.isURLSearchParams(pe)&&(pe=pe+""),un.isString(pe))return(await U(pe)).byteLength},Ce=async(pe,Fe)=>{const be=un.toFiniteNumber(pe.getContentLength());return be??ue(Fe)};return async pe=>{let{url:Fe,method:be,data:lt,signal:Oe,cancelToken:J,timeout:it,onDownloadProgress:jt,onUploadProgress:Ke,responseType:ie,headers:ut,withCredentials:xn="same-origin",fetchOptions:fn}=jie(pe),qe=u||fetch;ie=ie?(ie+"").toLowerCase():"text";let Re=zme([Oe,J&&J.toAbortSignal()],it),Qo=null;const vt=Re&&Re.unsubscribe&&(()=>{Re.unsubscribe()});let Lt;try{if(Ke&&V&&be!=="get"&&be!=="head"&&(Lt=await Ce(ut,lt))!==0){let le=new p(Fe,{method:"POST",body:lt,duplex:"half"}),Ve;if(un.isFormData(lt)&&(Ve=le.headers.get("content-type"))&&ut.setContentType(Ve),le.body){const[It,Ne]=$oe(Lt,GH(Ioe(Ke)));lt=zoe(le.body,joe,It,Ne)}}un.isString(xn)||(xn=xn?"include":"omit");const F=R&&"credentials"in p.prototype,Vt={...fn,signal:Re,method:be.toUpperCase(),headers:ut.normalize().toJSON(),body:lt,duplex:"half",credentials:F?xn:void 0};Qo=R&&new p(Fe,Vt);let at=await(R?qe(Qo,fn):qe(Fe,Vt));const Jn=Y&&(ie==="stream"||ie==="response");if(Y&&(jt||Jn&&vt)){const le={};["status","statusText","headers"].forEach(mt=>{le[mt]=at[mt]});const Ve=un.toFiniteNumber(at.headers.get("content-length")),[It,Ne]=jt&&$oe(Ve,GH(Ioe(jt),!0))||[];at=new x(zoe(at.body,joe,It,()=>{Ne&&Ne(),vt&&vt()}),le)}ie=ie||"text";let an=await ee[un.findKey(ee,ie)||"text"](at,pe);return!Jn&&vt&&vt(),await new Promise((le,Ve)=>{Hie(le,Ve,{data:an,headers:hp.from(at.headers),status:at.status,statusText:at.statusText,config:pe,request:Qo})})}catch(F){throw vt&&vt(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new Qr("Network Error",Qr.ERR_NETWORK,pe,Qo),{cause:F.cause||F}):Qr.from(F,F&&F.code,pe,Qo)}}},qme=new Map,Vie=l=>{let u=l&&l.env||{};const{fetch:p,Request:x,Response:A}=u,R=[x,A,p];let O=R.length,I=O,U,V,Y=qme;for(;I--;)U=R[I],V=Y.get(U),V===void 0&&Y.set(U,V=I?new Map:Wme(u)),Y=V;return V};Vie();const gte={http:ume,xhr:Hme,fetch:{get:Vie}};un.forEach(gte,(l,u)=>{if(l){try{Object.defineProperty(l,"name",{value:u})}catch{}Object.defineProperty(l,"adapterName",{value:u})}});const Woe=l=>`- ${l}`,Gme=l=>un.isFunction(l)||l===null||l===!1;function Kme(l,u){l=un.isArray(l)?l:[l];const{length:p}=l;let x,A;const R={};for(let O=0;O<p;O++){x=l[O];let I;if(A=x,!Gme(x)&&(A=gte[(I=String(x)).toLowerCase()],A===void 0))throw new Qr(`Unknown adapter '${I}'`);if(A&&(un.isFunction(A)||(A=A.get(u))))break;R[I||"#"+O]=A}if(!A){const O=Object.entries(R).map(([U,V])=>`adapter ${U} `+(V===!1?"is not supported by the environment":"is not available in the build"));let I=p?O.length>1?`since :
`+O.map(Woe).join(`
`):" "+Woe(O[0]):"as no adapter specified";throw new Qr("There is no suitable adapter to dispatch the request "+I,"ERR_NOT_SUPPORT")}return A}const Uie={getAdapter:Kme,adapters:gte};function QJ(l){if(l.cancelToken&&l.cancelToken.throwIfRequested(),l.signal&&l.signal.aborted)throw new nD(null,l)}function qoe(l){return QJ(l),l.headers=hp.from(l.headers),l.data=XJ.call(l,l.transformRequest),["post","put","patch"].indexOf(l.method)!==-1&&l.headers.setContentType("application/x-www-form-urlencoded",!1),Uie.getAdapter(l.adapter||dB.adapter,l)(l).then(function(x){return QJ(l),x.data=XJ.call(l,l.transformResponse,x),x.headers=hp.from(x.headers),x},function(x){return Iie(x)||(QJ(l),x&&x.response&&(x.response.data=XJ.call(l,l.transformResponse,x.response),x.response.headers=hp.from(x.response.headers))),Promise.reject(x)})}const Zie="1.13.2",yz={};["object","boolean","number","function","string","symbol"].forEach((l,u)=>{yz[l]=function(x){return typeof x===l||"a"+(u<1?"n ":" ")+l}});const Goe={};yz.transitional=function(u,p,x){function A(R,O){return"[Axios v"+Zie+"] Transitional option '"+R+"'"+O+(x?". "+x:"")}return(R,O,I)=>{if(u===!1)throw new Qr(A(O," has been removed"+(p?" in "+p:"")),Qr.ERR_DEPRECATED);return p&&!Goe[O]&&(Goe[O]=!0,console.warn(A(O," has been deprecated since v"+p+" and will be removed in the near future"))),u?u(R,O,I):!0}};yz.spelling=function(u){return(p,x)=>(console.warn(`${x} is likely a misspelling of ${u}`),!0)};function Yme(l,u,p){if(typeof l!="object")throw new Qr("options must be an object",Qr.ERR_BAD_OPTION_VALUE);const x=Object.keys(l);let A=x.length;for(;A-- >0;){const R=x[A],O=u[R];if(O){const I=l[R],U=I===void 0||O(I,R,l);if(U!==!0)throw new Qr("option "+R+" must be "+U,Qr.ERR_BAD_OPTION_VALUE);continue}if(p!==!0)throw new Qr("Unknown option "+R,Qr.ERR_BAD_OPTION)}}const jH={assertOptions:Yme,validators:yz},kv=jH.validators;let kT=class{constructor(u){this.defaults=u||{},this.interceptors={request:new Poe,response:new Poe}}async request(u,p){try{return await this._request(u,p)}catch(x){if(x instanceof Error){let A={};Error.captureStackTrace?Error.captureStackTrace(A):A=new Error;const R=A.stack?A.stack.replace(/^.+\n/,""):"";try{x.stack?R&&!String(x.stack).endsWith(R.replace(/^.+\n.+\n/,""))&&(x.stack+=`
`+R):x.stack=R}catch{}}throw x}}_request(u,p){typeof u=="string"?(p=p||{},p.url=u):p=u||{},p=OT(this.defaults,p);const{transitional:x,paramsSerializer:A,headers:R}=p;x!==void 0&&jH.assertOptions(x,{silentJSONParsing:kv.transitional(kv.boolean),forcedJSONParsing:kv.transitional(kv.boolean),clarifyTimeoutError:kv.transitional(kv.boolean)},!1),A!=null&&(un.isFunction(A)?p.paramsSerializer={serialize:A}:jH.assertOptions(A,{encode:kv.function,serialize:kv.function},!0)),p.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?p.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:p.allowAbsoluteUrls=!0),jH.assertOptions(p,{baseUrl:kv.spelling("baseURL"),withXsrfToken:kv.spelling("withXSRFToken")},!0),p.method=(p.method||this.defaults.method||"get").toLowerCase();let O=R&&un.merge(R.common,R[p.method]);R&&un.forEach(["delete","get","head","post","put","patch","common"],pe=>{delete R[pe]}),p.headers=hp.concat(O,R);const I=[];let U=!0;this.interceptors.request.forEach(function(Fe){typeof Fe.runWhen=="function"&&Fe.runWhen(p)===!1||(U=U&&Fe.synchronous,I.unshift(Fe.fulfilled,Fe.rejected))});const V=[];this.interceptors.response.forEach(function(Fe){V.push(Fe.fulfilled,Fe.rejected)});let Y,ee=0,ue;if(!U){const pe=[qoe.bind(this),void 0];for(pe.unshift(...I),pe.push(...V),ue=pe.length,Y=Promise.resolve(p);ee<ue;)Y=Y.then(pe[ee++],pe[ee++]);return Y}ue=I.length;let Ce=p;for(;ee<ue;){const pe=I[ee++],Fe=I[ee++];try{Ce=pe(Ce)}catch(be){Fe.call(this,be);break}}try{Y=qoe.call(this,Ce)}catch(pe){return Promise.reject(pe)}for(ee=0,ue=V.length;ee<ue;)Y=Y.then(V[ee++],V[ee++]);return Y}getUri(u){u=OT(this.defaults,u);const p=zie(u.baseURL,u.url,u.allowAbsoluteUrls);return Pie(p,u.params,u.paramsSerializer)}};un.forEach(["delete","get","head","options"],function(u){kT.prototype[u]=function(p,x){return this.request(OT(x||{},{method:u,url:p,data:(x||{}).data}))}});un.forEach(["post","put","patch"],function(u){function p(x){return function(R,O,I){return this.request(OT(I||{},{method:u,headers:x?{"Content-Type":"multipart/form-data"}:{},url:R,data:O}))}}kT.prototype[u]=p(),kT.prototype[u+"Form"]=p(!0)});let Xme=class Wie{constructor(u){if(typeof u!="function")throw new TypeError("executor must be a function.");let p;this.promise=new Promise(function(R){p=R});const x=this;this.promise.then(A=>{if(!x._listeners)return;let R=x._listeners.length;for(;R-- >0;)x._listeners[R](A);x._listeners=null}),this.promise.then=A=>{let R;const O=new Promise(I=>{x.subscribe(I),R=I}).then(A);return O.cancel=function(){x.unsubscribe(R)},O},u(function(R,O,I){x.reason||(x.reason=new nD(R,O,I),p(x.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(u){if(this.reason){u(this.reason);return}this._listeners?this._listeners.push(u):this._listeners=[u]}unsubscribe(u){if(!this._listeners)return;const p=this._listeners.indexOf(u);p!==-1&&this._listeners.splice(p,1)}toAbortSignal(){const u=new AbortController,p=x=>{u.abort(x)};return this.subscribe(p),u.signal.unsubscribe=()=>this.unsubscribe(p),u.signal}static source(){let u;return{token:new Wie(function(A){u=A}),cancel:u}}};function Qme(l){return function(p){return l.apply(null,p)}}function Jme(l){return un.isObject(l)&&l.isAxiosError===!0}const Oee={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Oee).forEach(([l,u])=>{Oee[u]=l});function qie(l){const u=new kT(l),p=Eie(kT.prototype.request,u);return un.extend(p,kT.prototype,u,{allOwnKeys:!0}),un.extend(p,u,null,{allOwnKeys:!0}),p.create=function(A){return qie(OT(l,A))},p}const pd=qie(dB);pd.Axios=kT;pd.CanceledError=nD;pd.CancelToken=Xme;pd.isCancel=Iie;pd.VERSION=Zie;pd.toFormData=bz;pd.AxiosError=Qr;pd.Cancel=pd.CanceledError;pd.all=function(u){return Promise.all(u)};pd.spread=Qme;pd.isAxiosError=Jme;pd.mergeConfig=OT;pd.AxiosHeaders=hp;pd.formToJSON=l=>$ie(un.isHTMLForm(l)?new FormData(l):l);pd.getAdapter=Uie.getAdapter;pd.HttpStatusCode=Oee;pd.default=pd;const{Axios:qxe,AxiosError:Gxe,CanceledError:Kxe,isCancel:Yxe,CancelToken:Xxe,VERSION:Qxe,all:Jxe,Cancel:e2e,isAxiosError:t2e,spread:n2e,toFormData:o2e,AxiosHeaders:s2e,HttpStatusCode:r2e,formToJSON:a2e,getAdapter:i2e,mergeConfig:l2e}=pd,vs=pd.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});vs.interceptors.request.use(l=>{const u=localStorage.getItem("admin_token");return u&&(l.headers.Authorization=`Bearer ${u}`),l});vs.interceptors.response.use(l=>l,async l=>(l.response?.status===401&&(localStorage.removeItem("admin_token"),window.location.href="/admin/"),Promise.reject(l)));function Gie(l,u,p){if(typeof l=="function"?l===u:l.has(u))return arguments.length<3?u:p;throw new TypeError("Private element is not present on this object")}function ehe(l,u){if(u.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Koe(l,u){return l.get(Gie(l,u))}function the(l,u,p){ehe(l,u),u.set(l,p)}function nhe(l,u,p){return l.set(Gie(l,u),p),p}const ohe=100,Rs={},she=()=>{Rs.previousActiveElement instanceof HTMLElement?(Rs.previousActiveElement.focus(),Rs.previousActiveElement=null):document.body&&document.body.focus()},rhe=l=>new Promise(u=>{if(!l)return u();const p=window.scrollX,x=window.scrollY;Rs.restoreFocusTimeout=setTimeout(()=>{she(),u()},ohe),window.scrollTo(p,x)}),Kie="swal2-",ahe=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],yn=ahe.reduce((l,u)=>(l[u]=Kie+u,l),{}),ihe=["success","warning","info","question","error"],KH=ihe.reduce((l,u)=>(l[u]=Kie+u,l),{}),Yie="SweetAlert2:",pte=l=>l.charAt(0).toUpperCase()+l.slice(1),gg=l=>{console.warn(`${Yie} ${typeof l=="object"?l.join(" "):l}`)},MT=l=>{console.error(`${Yie} ${l}`)},Yoe=[],lhe=l=>{Yoe.includes(l)||(Yoe.push(l),gg(l))},Xie=(l,u=null)=>{lhe(`"${l}" is deprecated and will be removed in the next major release.${u?` Use "${u}" instead.`:""}`)},vz=l=>typeof l=="function"?l():l,bte=l=>l&&typeof l.toPromise=="function",fB=l=>bte(l)?l.toPromise():Promise.resolve(l),yte=l=>l&&Promise.resolve(l)===l,pg=()=>document.body.querySelector(`.${yn.container}`),mB=l=>{const u=pg();return u?u.querySelector(l):null},O0=l=>mB(`.${l}`),ji=()=>O0(yn.popup),oD=()=>O0(yn.icon),che=()=>O0(yn["icon-content"]),Qie=()=>O0(yn.title),vte=()=>O0(yn["html-container"]),Jie=()=>O0(yn.image),xte=()=>O0(yn["progress-steps"]),xz=()=>O0(yn["validation-message"]),Ov=()=>mB(`.${yn.actions} .${yn.confirm}`),sD=()=>mB(`.${yn.actions} .${yn.cancel}`),BT=()=>mB(`.${yn.actions} .${yn.deny}`),uhe=()=>O0(yn["input-label"]),rD=()=>mB(`.${yn.loader}`),hB=()=>O0(yn.actions),ele=()=>O0(yn.footer),wz=()=>O0(yn["timer-progress-bar"]),wte=()=>O0(yn.close),dhe=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Cte=()=>{const l=ji();if(!l)return[];const u=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),p=Array.from(u).sort((R,O)=>{const I=parseInt(R.getAttribute("tabindex")||"0"),U=parseInt(O.getAttribute("tabindex")||"0");return I>U?1:I<U?-1:0}),x=l.querySelectorAll(dhe),A=Array.from(x).filter(R=>R.getAttribute("tabindex")!=="-1");return[...new Set(p.concat(A))].filter(R=>gp(R))},Ste=()=>v2(document.body,yn.shown)&&!v2(document.body,yn["toast-shown"])&&!v2(document.body,yn["no-backdrop"]),Cz=()=>{const l=ji();return l?v2(l,yn.toast):!1},fhe=()=>{const l=ji();return l?l.hasAttribute("data-loading"):!1},N0=(l,u)=>{if(l.textContent="",u){const x=new DOMParser().parseFromString(u,"text/html"),A=x.querySelector("head");A&&Array.from(A.childNodes).forEach(O=>{l.appendChild(O)});const R=x.querySelector("body");R&&Array.from(R.childNodes).forEach(O=>{O instanceof HTMLVideoElement||O instanceof HTMLAudioElement?l.appendChild(O.cloneNode(!0)):l.appendChild(O)})}},v2=(l,u)=>{if(!u)return!1;const p=u.split(/\s+/);for(let x=0;x<p.length;x++)if(!l.classList.contains(p[x]))return!1;return!0},mhe=(l,u)=>{Array.from(l.classList).forEach(p=>{!Object.values(yn).includes(p)&&!Object.values(KH).includes(p)&&!Object.values(u.showClass||{}).includes(p)&&l.classList.remove(p)})},D0=(l,u,p)=>{if(mhe(l,u),!u.customClass)return;const x=u.customClass[p];if(x){if(typeof x!="string"&&!x.forEach){gg(`Invalid type of customClass.${p}! Expected string or iterable object, got "${typeof x}"`);return}zi(l,x)}},Sz=(l,u)=>{if(!u)return null;switch(u){case"select":case"textarea":case"file":return l.querySelector(`.${yn.popup} > .${yn[u]}`);case"checkbox":return l.querySelector(`.${yn.popup} > .${yn.checkbox} input`);case"radio":return l.querySelector(`.${yn.popup} > .${yn.radio} input:checked`)||l.querySelector(`.${yn.popup} > .${yn.radio} input:first-child`);case"range":return l.querySelector(`.${yn.popup} > .${yn.range} input`);default:return l.querySelector(`.${yn.popup} > .${yn.input}`)}},tle=l=>{if(l.focus(),l.type!=="file"){const u=l.value;l.value="",l.value=u}},nle=(l,u,p)=>{!l||!u||(typeof u=="string"&&(u=u.split(/\s+/).filter(Boolean)),u.forEach(x=>{Array.isArray(l)?l.forEach(A=>{p?A.classList.add(x):A.classList.remove(x)}):p?l.classList.add(x):l.classList.remove(x)}))},zi=(l,u)=>{nle(l,u,!0)},z1=(l,u)=>{nle(l,u,!1)},MC=(l,u)=>{const p=Array.from(l.children);for(let x=0;x<p.length;x++){const A=p[x];if(A instanceof HTMLElement&&v2(A,u))return A}},DT=(l,u,p)=>{p===`${parseInt(`${p}`)}`&&(p=parseInt(p)),p||parseInt(`${p}`)===0?l.style.setProperty(u,typeof p=="number"?`${p}px`:p):l.style.removeProperty(u)},Xf=(l,u="flex")=>{l&&(l.style.display=u)},yh=l=>{l&&(l.style.display="none")},Ete=(l,u="block")=>{l&&new MutationObserver(()=>{gB(l,l.innerHTML,u)}).observe(l,{childList:!0,subtree:!0})},Xoe=(l,u,p,x)=>{const A=l.querySelector(u);A&&A.style.setProperty(p,x)},gB=(l,u,p="flex")=>{u?Xf(l,p):yh(l)},gp=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),hhe=()=>!gp(Ov())&&!gp(BT())&&!gp(sD()),Nee=l=>l.scrollHeight>l.clientHeight,ghe=(l,u)=>{let p=l;for(;p&&p!==u;){if(Nee(p))return!0;p=p.parentElement}return!1},ole=l=>{const u=window.getComputedStyle(l),p=parseFloat(u.getPropertyValue("animation-duration")||"0"),x=parseFloat(u.getPropertyValue("transition-duration")||"0");return p>0||x>0},Tte=(l,u=!1)=>{const p=wz();p&&gp(p)&&(u&&(p.style.transition="none",p.style.width="100%"),setTimeout(()=>{p.style.transition=`width ${l/1e3}s linear`,p.style.width="0%"},10))},phe=()=>{const l=wz();if(!l)return;const u=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";const p=parseInt(window.getComputedStyle(l).width),x=u/p*100;l.style.width=`${x}%`},bhe=()=>typeof window>"u"||typeof document>"u",yhe=`
 <div aria-labelledby="${yn.title}" aria-describedby="${yn["html-container"]}" class="${yn.popup}" tabindex="-1">
   <button type="button" class="${yn.close}"></button>
   <ul class="${yn["progress-steps"]}"></ul>
   <div class="${yn.icon}"></div>
   <img class="${yn.image}" />
   <h2 class="${yn.title}" id="${yn.title}"></h2>
   <div class="${yn["html-container"]}" id="${yn["html-container"]}"></div>
   <input class="${yn.input}" id="${yn.input}" />
   <input type="file" class="${yn.file}" />
   <div class="${yn.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${yn.select}" id="${yn.select}"></select>
   <div class="${yn.radio}"></div>
   <label class="${yn.checkbox}">
     <input type="checkbox" id="${yn.checkbox}" />
     <span class="${yn.label}"></span>
   </label>
   <textarea class="${yn.textarea}" id="${yn.textarea}"></textarea>
   <div class="${yn["validation-message"]}" id="${yn["validation-message"]}"></div>
   <div class="${yn.actions}">
     <div class="${yn.loader}"></div>
     <button type="button" class="${yn.confirm}"></button>
     <button type="button" class="${yn.deny}"></button>
     <button type="button" class="${yn.cancel}"></button>
   </div>
   <div class="${yn.footer}"></div>
   <div class="${yn["timer-progress-bar-container"]}">
     <div class="${yn["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),vhe=()=>{const l=pg();return l?(l.remove(),z1([document.documentElement,document.body],[yn["no-backdrop"],yn["toast-shown"],yn["has-column"]]),!0):!1},wT=()=>{Rs.currentInstance&&Rs.currentInstance.resetValidationMessage()},xhe=()=>{const l=ji();if(!l)return;const u=MC(l,yn.input),p=MC(l,yn.file),x=l.querySelector(`.${yn.range} input`),A=l.querySelector(`.${yn.range} output`),R=MC(l,yn.select),O=l.querySelector(`.${yn.checkbox} input`),I=MC(l,yn.textarea);u&&(u.oninput=wT),p&&(p.onchange=wT),R&&(R.onchange=wT),O&&(O.onchange=wT),I&&(I.oninput=wT),x&&A&&(x.oninput=()=>{wT(),A.value=x.value},x.onchange=()=>{wT(),A.value=x.value})},whe=l=>{if(typeof l=="string"){const u=document.querySelector(l);if(!u)throw new Error(`Target element "${l}" not found`);return u}return l},Che=l=>{const u=ji();u&&(u.setAttribute("role",l.toast?"alert":"dialog"),u.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||u.setAttribute("aria-modal","true"))},She=l=>{window.getComputedStyle(l).direction==="rtl"&&(zi(pg(),yn.rtl),Rs.isRTL=!0)},Ehe=l=>{const u=vhe();if(bhe()){MT("SweetAlert2 requires document to initialize");return}const p=document.createElement("div");p.className=yn.container,u&&zi(p,yn["no-transition"]),N0(p,yhe),p.dataset.swal2Theme=l.theme;const x=whe(l.target||"body");x.appendChild(p),l.topLayer&&(p.setAttribute("popover",""),p.showPopover()),Che(l),She(x),xhe()},Ate=(l,u)=>{l instanceof HTMLElement?u.appendChild(l):typeof l=="object"?The(l,u):l&&N0(u,l)},The=(l,u)=>{"jquery"in l?Ahe(u,l):N0(u,l.toString())},Ahe=(l,u)=>{if(l.textContent="",0 in u)for(let p=0;p in u;p++)l.appendChild(u[p].cloneNode(!0));else l.appendChild(u.cloneNode(!0))},khe=(l,u)=>{const p=hB(),x=rD();!p||!x||(!u.showConfirmButton&&!u.showDenyButton&&!u.showCancelButton?yh(p):Xf(p),D0(p,u,"actions"),Dhe(p,x,u),N0(x,u.loaderHtml||""),D0(x,u,"loader"))};function Dhe(l,u,p){const x=Ov(),A=BT(),R=sD();!x||!A||!R||(eee(x,"confirm",p),eee(A,"deny",p),eee(R,"cancel",p),_he(x,A,R,p),p.reverseButtons&&(p.toast?(l.insertBefore(R,x),l.insertBefore(A,x)):(l.insertBefore(R,u),l.insertBefore(A,u),l.insertBefore(x,u))))}function _he(l,u,p,x){if(!x.buttonsStyling){z1([l,u,p],yn.styled);return}zi([l,u,p],yn.styled),x.confirmButtonColor&&l.style.setProperty("--swal2-confirm-button-background-color",x.confirmButtonColor),x.denyButtonColor&&u.style.setProperty("--swal2-deny-button-background-color",x.denyButtonColor),x.cancelButtonColor&&p.style.setProperty("--swal2-cancel-button-background-color",x.cancelButtonColor),JJ(l),JJ(u),JJ(p)}function JJ(l){const u=window.getComputedStyle(l);if(u.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const p=u.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");l.style.setProperty("--swal2-action-button-focus-box-shadow",u.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${p}`))}function eee(l,u,p){const x=pte(u);gB(l,p[`show${x}Button`],"inline-block"),N0(l,p[`${u}ButtonText`]||""),l.setAttribute("aria-label",p[`${u}ButtonAriaLabel`]||""),l.className=yn[u],D0(l,p,`${u}Button`)}const Ohe=(l,u)=>{const p=wte();p&&(N0(p,u.closeButtonHtml||""),D0(p,u,"closeButton"),gB(p,u.showCloseButton),p.setAttribute("aria-label",u.closeButtonAriaLabel||""))},Nhe=(l,u)=>{const p=pg();p&&(Rhe(p,u.backdrop),Mhe(p,u.position),Bhe(p,u.grow),D0(p,u,"container"))};function Rhe(l,u){typeof u=="string"?l.style.background=u:u||zi([document.documentElement,document.body],yn["no-backdrop"])}function Mhe(l,u){u&&(u in yn?zi(l,yn[u]):(gg('The "position" parameter is not valid, defaulting to "center"'),zi(l,yn.center)))}function Bhe(l,u){u&&zi(l,yn[`grow-${u}`])}var cc={innerParams:new WeakMap,domCache:new WeakMap};const Lhe=["input","file","range","select","radio","checkbox","textarea"],Phe=(l,u)=>{const p=ji();if(!p)return;const x=cc.innerParams.get(l),A=!x||u.input!==x.input;Lhe.forEach(R=>{const O=MC(p,yn[R]);O&&(Ihe(R,u.inputAttributes),O.className=yn[R],A&&yh(O))}),u.input&&(A&&Fhe(u),Hhe(u))},Fhe=l=>{if(!l.input)return;if(!gd[l.input]){MT(`Unexpected type of input! Expected ${Object.keys(gd).join(" | ")}, got "${l.input}"`);return}const u=sle(l.input);if(!u)return;const p=gd[l.input](u,l);Xf(u),l.inputAutoFocus&&setTimeout(()=>{tle(p)})},$he=l=>{for(let u=0;u<l.attributes.length;u++){const p=l.attributes[u].name;["id","type","value","style"].includes(p)||l.removeAttribute(p)}},Ihe=(l,u)=>{const p=ji();if(!p)return;const x=Sz(p,l);if(x){$he(x);for(const A in u)x.setAttribute(A,u[A])}},Hhe=l=>{if(!l.input)return;const u=sle(l.input);u&&D0(u,l,"input")},kte=(l,u)=>{!l.placeholder&&u.inputPlaceholder&&(l.placeholder=u.inputPlaceholder)},pB=(l,u,p)=>{if(p.inputLabel){const x=document.createElement("label"),A=yn["input-label"];x.setAttribute("for",l.id),x.className=A,typeof p.customClass=="object"&&zi(x,p.customClass.inputLabel),x.innerText=p.inputLabel,u.insertAdjacentElement("beforebegin",x)}},sle=l=>{const u=ji();if(u)return MC(u,yn[l]||yn.input)},YH=(l,u)=>{["string","number"].includes(typeof u)?l.value=`${u}`:yte(u)||gg(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof u}"`)},gd={};gd.text=gd.email=gd.password=gd.number=gd.tel=gd.url=gd.search=gd.date=gd["datetime-local"]=gd.time=gd.week=gd.month=(l,u)=>{const p=l;return YH(p,u.inputValue),pB(p,p,u),kte(p,u),p.type=u.input,p};gd.file=(l,u)=>{const p=l;return pB(p,p,u),kte(p,u),p};gd.range=(l,u)=>{const p=l,x=p.querySelector("input"),A=p.querySelector("output");return x&&(YH(x,u.inputValue),x.type=u.input,pB(x,l,u)),A&&YH(A,u.inputValue),l};gd.select=(l,u)=>{const p=l;if(p.textContent="",u.inputPlaceholder){const x=document.createElement("option");N0(x,u.inputPlaceholder),x.value="",x.disabled=!0,x.selected=!0,p.appendChild(x)}return pB(p,p,u),p};gd.radio=l=>{const u=l;return u.textContent="",l};gd.checkbox=(l,u)=>{const p=ji();if(!p)throw new Error("Popup not found");const x=Sz(p,"checkbox");if(!x)throw new Error("Checkbox input not found");x.value="1",x.checked=!!u.inputValue;const R=l.querySelector("span");if(R){const O=u.inputPlaceholder||u.inputLabel;O&&N0(R,O)}return x};gd.textarea=(l,u)=>{const p=l;YH(p,u.inputValue),kte(p,u),pB(p,p,u);const x=A=>parseInt(window.getComputedStyle(A).marginLeft)+parseInt(window.getComputedStyle(A).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const A=ji();if(!A)return;const R=parseInt(window.getComputedStyle(A).width),O=()=>{if(!document.body.contains(p))return;const I=p.offsetWidth+x(p),U=ji();U&&(I>R?U.style.width=`${I}px`:DT(U,"width",u.width))};new MutationObserver(O).observe(p,{attributes:!0,attributeFilter:["style"]})}}),p};const zhe=(l,u)=>{const p=vte();p&&(Ete(p),D0(p,u,"htmlContainer"),u.html?(Ate(u.html,p),Xf(p,"block")):u.text?(p.textContent=u.text,Xf(p,"block")):yh(p),Phe(l,u))},jhe=(l,u)=>{const p=ele();p&&(Ete(p),gB(p,!!u.footer,"block"),u.footer&&Ate(u.footer,p),D0(p,u,"footer"))},Vhe=(l,u)=>{const p=cc.innerParams.get(l),x=oD();if(!x)return;if(p&&u.icon===p.icon){Joe(x,u),Qoe(x,u);return}if(!u.icon&&!u.iconHtml){yh(x);return}if(u.icon&&Object.keys(KH).indexOf(u.icon)===-1){MT(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${u.icon}"`),yh(x);return}Xf(x),Joe(x,u),Qoe(x,u),zi(x,u.showClass&&u.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",rle)},Qoe=(l,u)=>{for(const[p,x]of Object.entries(KH))u.icon!==p&&z1(l,x);zi(l,u.icon&&KH[u.icon]),Whe(l,u),rle(),D0(l,u,"icon")},rle=()=>{const l=ji();if(!l)return;const u=window.getComputedStyle(l).getPropertyValue("background-color"),p=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let x=0;x<p.length;x++)p[x].style.backgroundColor=u},Uhe=l=>`
  ${l.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${l.animation?'<div class="swal2-success-fix"></div>':""}
  ${l.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,Zhe=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Joe=(l,u)=>{if(!u.icon&&!u.iconHtml)return;let p=l.innerHTML,x="";u.iconHtml?x=ese(u.iconHtml):u.icon==="success"?(x=Uhe(u),p=p.replace(/ style=".*?"/g,"")):u.icon==="error"?x=Zhe:u.icon&&(x=ese({question:"?",warning:"!",info:"i"}[u.icon])),p.trim()!==x.trim()&&N0(l,x)},Whe=(l,u)=>{if(u.iconColor){l.style.color=u.iconColor,l.style.borderColor=u.iconColor;for(const p of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Xoe(l,p,"background-color",u.iconColor);Xoe(l,".swal2-success-ring","border-color",u.iconColor)}},ese=l=>`<div class="${yn["icon-content"]}">${l}</div>`,qhe=(l,u)=>{const p=Jie();if(p){if(!u.imageUrl){yh(p);return}Xf(p,""),p.setAttribute("src",u.imageUrl),p.setAttribute("alt",u.imageAlt||""),DT(p,"width",u.imageWidth),DT(p,"height",u.imageHeight),p.className=yn.image,D0(p,u,"image")}};let Dte=!1,ale=0,ile=0,lle=0,cle=0;const Ghe=l=>{l.addEventListener("mousedown",XH),document.body.addEventListener("mousemove",QH),l.addEventListener("mouseup",JH),l.addEventListener("touchstart",XH),document.body.addEventListener("touchmove",QH),l.addEventListener("touchend",JH)},Khe=l=>{l.removeEventListener("mousedown",XH),document.body.removeEventListener("mousemove",QH),l.removeEventListener("mouseup",JH),l.removeEventListener("touchstart",XH),document.body.removeEventListener("touchmove",QH),l.removeEventListener("touchend",JH)},XH=l=>{const u=ji();if(!u)return;const p=oD();if(l.target===u||p&&p.contains(l.target)){Dte=!0;const x=ule(l);ale=x.clientX,ile=x.clientY,lle=parseInt(u.style.insetInlineStart)||0,cle=parseInt(u.style.insetBlockStart)||0,zi(u,"swal2-dragging")}},QH=l=>{const u=ji();if(u&&Dte){let{clientX:p,clientY:x}=ule(l);const A=p-ale;u.style.insetInlineStart=`${lle+(Rs.isRTL?-A:A)}px`,u.style.insetBlockStart=`${cle+(x-ile)}px`}},JH=()=>{const l=ji();Dte=!1,z1(l,"swal2-dragging")},ule=l=>{let u=0,p=0;return l.type.startsWith("mouse")?(u=l.clientX,p=l.clientY):l.type.startsWith("touch")&&(u=l.touches[0].clientX,p=l.touches[0].clientY),{clientX:u,clientY:p}},Yhe=(l,u)=>{const p=pg(),x=ji();if(!(!p||!x)){if(u.toast){DT(p,"width",u.width),x.style.width="100%";const A=rD();A&&x.insertBefore(A,oD())}else DT(x,"width",u.width);DT(x,"padding",u.padding),u.color&&(x.style.color=u.color),u.background&&(x.style.background=u.background),yh(xz()),Xhe(x,u),u.draggable&&!u.toast?(zi(x,yn.draggable),Ghe(x)):(z1(x,yn.draggable),Khe(x))}},Xhe=(l,u)=>{const p=u.showClass||{};l.className=`${yn.popup} ${gp(l)?p.popup:""}`,u.toast?(zi([document.documentElement,document.body],yn["toast-shown"]),zi(l,yn.toast)):zi(l,yn.modal),D0(l,u,"popup"),typeof u.customClass=="string"&&zi(l,u.customClass),u.icon&&zi(l,yn[`icon-${u.icon}`])},Qhe=(l,u)=>{const p=xte();if(!p)return;const{progressSteps:x,currentProgressStep:A}=u;if(!x||x.length===0||A===void 0){yh(p);return}Xf(p),p.textContent="",A>=x.length&&gg("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),x.forEach((R,O)=>{const I=Jhe(R);if(p.appendChild(I),O===A&&zi(I,yn["active-progress-step"]),O!==x.length-1){const U=ege(u);p.appendChild(U)}})},Jhe=l=>{const u=document.createElement("li");return zi(u,yn["progress-step"]),N0(u,l),u},ege=l=>{const u=document.createElement("li");return zi(u,yn["progress-step-line"]),l.progressStepsDistance&&DT(u,"width",l.progressStepsDistance),u},tge=(l,u)=>{const p=Qie();p&&(Ete(p),gB(p,!!(u.title||u.titleText),"block"),u.title&&Ate(u.title,p),u.titleText&&(p.innerText=u.titleText),D0(p,u,"title"))},dle=(l,u)=>{var p;Yhe(l,u),Nhe(l,u),Qhe(l,u),Vhe(l,u),qhe(l,u),tge(l,u),Ohe(l,u),zhe(l,u),khe(l,u),jhe(l,u);const x=ji();typeof u.didRender=="function"&&x&&u.didRender(x),(p=Rs.eventEmitter)===null||p===void 0||p.emit("didRender",x)},nge=()=>gp(ji()),fle=()=>{var l;return(l=Ov())===null||l===void 0?void 0:l.click()},oge=()=>{var l;return(l=BT())===null||l===void 0?void 0:l.click()},sge=()=>{var l;return(l=sD())===null||l===void 0?void 0:l.click()},aD=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),mle=l=>{if(l.keydownTarget&&l.keydownHandlerAdded&&l.keydownHandler){const u=l.keydownHandler;l.keydownTarget.removeEventListener("keydown",u,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1}},rge=(l,u,p)=>{if(mle(l),!u.toast){const x=R=>ige(u,R,p);l.keydownHandler=x;const A=u.keydownListenerCapture?window:ji();if(A){l.keydownTarget=A,l.keydownListenerCapture=u.keydownListenerCapture;const R=x;l.keydownTarget.addEventListener("keydown",R,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0}}},Ree=(l,u)=>{var p;const x=Cte();if(x.length){l=l+u,l===-2&&(l=x.length-1),l===x.length?l=0:l===-1&&(l=x.length-1),x[l].focus();return}(p=ji())===null||p===void 0||p.focus()},hle=["ArrowRight","ArrowDown"],age=["ArrowLeft","ArrowUp"],ige=(l,u,p)=>{l&&(u.isComposing||u.keyCode===229||(l.stopKeydownPropagation&&u.stopPropagation(),u.key==="Enter"?lge(u,l):u.key==="Tab"?cge(u):[...hle,...age].includes(u.key)?uge(u.key):u.key==="Escape"&&dge(u,l,p)))},lge=(l,u)=>{if(!vz(u.allowEnterKey))return;const p=ji();if(!p||!u.input)return;const x=Sz(p,u.input);if(l.target&&x&&l.target instanceof HTMLElement&&l.target.outerHTML===x.outerHTML){if(["textarea","file"].includes(u.input))return;fle(),l.preventDefault()}},cge=l=>{const u=l.target,p=Cte();let x=-1;for(let A=0;A<p.length;A++)if(u===p[A]){x=A;break}l.shiftKey?Ree(x,-1):Ree(x,1),l.stopPropagation(),l.preventDefault()},uge=l=>{const u=hB(),p=Ov(),x=BT(),A=sD();if(!u||!p||!x||!A)return;const R=[p,x,A];if(document.activeElement instanceof HTMLElement&&!R.includes(document.activeElement))return;const O=hle.includes(l)?"nextElementSibling":"previousElementSibling";let I=document.activeElement;if(I){for(let U=0;U<u.children.length;U++){if(I=I[O],!I)return;if(I instanceof HTMLButtonElement&&gp(I))break}I instanceof HTMLButtonElement&&I.focus()}},dge=(l,u,p)=>{l.preventDefault(),vz(u.allowEscapeKey)&&p(aD.esc)};var K3={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const fge=()=>{const l=pg();Array.from(document.body.children).forEach(p=>{p.contains(l)||(p.hasAttribute("aria-hidden")&&p.setAttribute("data-previous-aria-hidden",p.getAttribute("aria-hidden")||""),p.setAttribute("aria-hidden","true"))})},gle=()=>{Array.from(document.body.children).forEach(u=>{u.hasAttribute("data-previous-aria-hidden")?(u.setAttribute("aria-hidden",u.getAttribute("data-previous-aria-hidden")||""),u.removeAttribute("data-previous-aria-hidden")):u.removeAttribute("aria-hidden")})},ple=typeof window<"u"&&!!window.GestureEvent,mge=()=>{if(ple&&!v2(document.body,yn.iosfix)){const l=document.body.scrollTop;document.body.style.top=`${l*-1}px`,zi(document.body,yn.iosfix),hge()}},hge=()=>{const l=pg();if(!l)return;let u;l.ontouchstart=p=>{u=gge(p)},l.ontouchmove=p=>{u&&(p.preventDefault(),p.stopPropagation())}},gge=l=>{const u=l.target,p=pg(),x=vte();return!p||!x||pge(l)||bge(l)?!1:u===p||!Nee(p)&&u instanceof HTMLElement&&!ghe(u,x)&&u.tagName!=="INPUT"&&u.tagName!=="TEXTAREA"&&!(Nee(x)&&x.contains(u))},pge=l=>!!(l.touches&&l.touches.length&&l.touches[0].touchType==="stylus"),bge=l=>l.touches&&l.touches.length>1,yge=()=>{if(v2(document.body,yn.iosfix)){const l=parseInt(document.body.style.top,10);z1(document.body,yn.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},vge=()=>{const l=document.createElement("div");l.className=yn["scrollbar-measure"],document.body.appendChild(l);const u=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),u};let W3=null;const xge=l=>{W3===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(W3=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${W3+vge()}px`)},wge=()=>{W3!==null&&(document.body.style.paddingRight=`${W3}px`,W3=null)};function ble(l,u,p,x){Cz()?tse(l,x):(rhe(p).then(()=>tse(l,x)),mle(Rs)),ple?(u.setAttribute("style","display:none !important"),u.removeAttribute("class"),u.innerHTML=""):u.remove(),Ste()&&(wge(),yge(),gle()),Cge()}function Cge(){z1([document.documentElement,document.body],[yn.shown,yn["height-auto"],yn["no-backdrop"],yn["toast-shown"]])}function BC(l){l=Ege(l);const u=K3.swalPromiseResolve.get(this),p=Sge(this);this.isAwaitingPromise?l.isDismissed||(bB(this),u(l)):p&&u(l)}const Sge=l=>{const u=ji();if(!u)return!1;const p=cc.innerParams.get(l);if(!p||v2(u,p.hideClass.popup))return!1;z1(u,p.showClass.popup),zi(u,p.hideClass.popup);const x=pg();return z1(x,p.showClass.backdrop),zi(x,p.hideClass.backdrop),Tge(l,u,p),!0};function yle(l){const u=K3.swalPromiseReject.get(this);bB(this),u&&u(l)}const bB=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,cc.innerParams.get(l)||l._destroy())},Ege=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),Tge=(l,u,p)=>{var x;const A=pg(),R=ole(u);typeof p.willClose=="function"&&p.willClose(u),(x=Rs.eventEmitter)===null||x===void 0||x.emit("willClose",u),R&&A?Age(l,u,A,!!p.returnFocus,p.didClose):A&&ble(l,A,!!p.returnFocus,p.didClose)},Age=(l,u,p,x,A)=>{Rs.swalCloseEventFinishedCallback=ble.bind(null,l,p,x,A);const R=function(O){if(O.target===u){var I;(I=Rs.swalCloseEventFinishedCallback)===null||I===void 0||I.call(Rs),delete Rs.swalCloseEventFinishedCallback,u.removeEventListener("animationend",R),u.removeEventListener("transitionend",R)}};u.addEventListener("animationend",R),u.addEventListener("transitionend",R)},tse=(l,u)=>{setTimeout(()=>{var p;typeof u=="function"&&u.bind(l.params)(),(p=Rs.eventEmitter)===null||p===void 0||p.emit("didClose"),l._destroy&&l._destroy()})},Y3=l=>{let u=ji();if(u||new go,u=ji(),!u)return;const p=rD();Cz()?yh(oD()):kge(u,l),Xf(p),u.setAttribute("data-loading","true"),u.setAttribute("aria-busy","true"),u.focus()},kge=(l,u)=>{const p=hB(),x=rD();!p||!x||(!u&&gp(Ov())&&(u=Ov()),Xf(p),u&&(yh(u),x.setAttribute("data-button-to-replace",u.className),p.insertBefore(x,u)),zi([l,p],yn.loading))},Dge=(l,u)=>{u.input==="select"||u.input==="radio"?Mge(l,u):["text","email","number","tel","textarea"].some(p=>p===u.input)&&(bte(u.inputValue)||yte(u.inputValue))&&(Y3(Ov()),Bge(l,u))},_ge=(l,u)=>{const p=l.getInput();if(!p)return null;switch(u.input){case"checkbox":return Oge(p);case"radio":return Nge(p);case"file":return Rge(p);default:return u.inputAutoTrim?p.value.trim():p.value}},Oge=l=>l.checked?1:0,Nge=l=>l.checked?l.value:null,Rge=l=>l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,Mge=(l,u)=>{const p=ji();if(!p)return;const x=A=>{u.input==="select"?Lge(p,ez(A),u):u.input==="radio"&&Pge(p,ez(A),u)};bte(u.inputOptions)||yte(u.inputOptions)?(Y3(Ov()),fB(u.inputOptions).then(A=>{l.hideLoading(),x(A)})):typeof u.inputOptions=="object"?x(u.inputOptions):MT(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof u.inputOptions}`)},Bge=(l,u)=>{const p=l.getInput();p&&(yh(p),fB(u.inputValue).then(x=>{p.value=u.input==="number"?`${parseFloat(x)||0}`:`${x}`,Xf(p),p.focus(),l.hideLoading()}).catch(x=>{MT(`Error in inputValue promise: ${x}`),p.value="",Xf(p),p.focus(),l.hideLoading()}))};function Lge(l,u,p){const x=MC(l,yn.select);if(!x)return;const A=(R,O,I)=>{const U=document.createElement("option");U.value=I,N0(U,O),U.selected=vle(I,p.inputValue),R.appendChild(U)};u.forEach(R=>{const O=R[0],I=R[1];if(Array.isArray(I)){const U=document.createElement("optgroup");U.label=O,U.disabled=!1,x.appendChild(U),I.forEach(V=>A(U,V[1],V[0]))}else A(x,I,O)}),x.focus()}function Pge(l,u,p){const x=MC(l,yn.radio);if(!x)return;u.forEach(R=>{const O=R[0],I=R[1],U=document.createElement("input"),V=document.createElement("label");U.type="radio",U.name=yn.radio,U.value=O,vle(O,p.inputValue)&&(U.checked=!0);const Y=document.createElement("span");N0(Y,I),Y.className=yn.label,V.appendChild(U),V.appendChild(Y),x.appendChild(V)});const A=x.querySelectorAll("input");A.length&&A[0].focus()}const ez=l=>{const u=[];return l instanceof Map?l.forEach((p,x)=>{let A=p;typeof A=="object"&&(A=ez(A)),u.push([x,A])}):Object.keys(l).forEach(p=>{let x=l[p];typeof x=="object"&&(x=ez(x)),u.push([p,x])}),u},vle=(l,u)=>!!u&&u!==null&&u!==void 0&&u.toString()===l.toString(),Fge=l=>{const u=cc.innerParams.get(l);l.disableButtons(),u.input?xle(l,"confirm"):Ote(l,!0)},$ge=l=>{const u=cc.innerParams.get(l);l.disableButtons(),u.returnInputValueOnDeny?xle(l,"deny"):_te(l,!1)},Ige=(l,u)=>{l.disableButtons(),u(aD.cancel)},xle=(l,u)=>{const p=cc.innerParams.get(l);if(!p.input){MT(`The "input" parameter is needed to be set when using returnInputValueOn${pte(u)}`);return}const x=l.getInput(),A=_ge(l,p);p.inputValidator?Hge(l,A,u):x&&!x.checkValidity()?(l.enableButtons(),l.showValidationMessage(p.validationMessage||x.validationMessage)):u==="deny"?_te(l,A):Ote(l,A)},Hge=(l,u,p)=>{const x=cc.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>fB(x.inputValidator(u,x.validationMessage))).then(R=>{l.enableButtons(),l.enableInput(),R?l.showValidationMessage(R):p==="deny"?_te(l,u):Ote(l,u)})},_te=(l,u)=>{const p=cc.innerParams.get(l);p.showLoaderOnDeny&&Y3(BT()),p.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>fB(p.preDeny(u,p.validationMessage))).then(A=>{A===!1?(l.hideLoading(),bB(l)):l.close({isDenied:!0,value:typeof A>"u"?u:A})}).catch(A=>wle(l,A))):l.close({isDenied:!0,value:u})},nse=(l,u)=>{l.close({isConfirmed:!0,value:u})},wle=(l,u)=>{l.rejectPromise(u)},Ote=(l,u)=>{const p=cc.innerParams.get(l);p.showLoaderOnConfirm&&Y3(),p.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>fB(p.preConfirm(u,p.validationMessage))).then(A=>{gp(xz())||A===!1?(l.hideLoading(),bB(l)):nse(l,typeof A>"u"?u:A)}).catch(A=>wle(l,A))):nse(l,u)};function tz(){const l=cc.innerParams.get(this);if(!l)return;const u=cc.domCache.get(this);yh(u.loader),Cz()?l.icon&&Xf(oD()):zge(u),z1([u.popup,u.actions],yn.loading),u.popup.removeAttribute("aria-busy"),u.popup.removeAttribute("data-loading"),u.confirmButton.disabled=!1,u.denyButton.disabled=!1,u.cancelButton.disabled=!1}const zge=l=>{const u=l.loader.getAttribute("data-button-to-replace"),p=u?l.popup.getElementsByClassName(u):[];p.length?Xf(p[0],"inline-block"):hhe()&&yh(l.actions)};function Cle(){const l=cc.innerParams.get(this),u=cc.domCache.get(this);return u?Sz(u.popup,l.input):null}function Sle(l,u,p){const x=cc.domCache.get(l);u.forEach(A=>{x[A].disabled=p})}function Ele(l,u){const p=ji();if(!(!p||!l))if(l.type==="radio"){const x=p.querySelectorAll(`[name="${yn.radio}"]`);for(let A=0;A<x.length;A++)x[A].disabled=u}else l.disabled=u}function Tle(){Sle(this,["confirmButton","denyButton","cancelButton"],!1)}function Ale(){Sle(this,["confirmButton","denyButton","cancelButton"],!0)}function kle(){Ele(this.getInput(),!1)}function Dle(){Ele(this.getInput(),!0)}function _le(l){const u=cc.domCache.get(this),p=cc.innerParams.get(this);N0(u.validationMessage,l),u.validationMessage.className=yn["validation-message"],p.customClass&&p.customClass.validationMessage&&zi(u.validationMessage,p.customClass.validationMessage),Xf(u.validationMessage);const x=this.getInput();x&&(x.setAttribute("aria-invalid","true"),x.setAttribute("aria-describedby",yn["validation-message"]),tle(x),zi(x,yn.inputerror))}function Ole(){const l=cc.domCache.get(this);l.validationMessage&&yh(l.validationMessage);const u=this.getInput();u&&(u.removeAttribute("aria-invalid"),u.removeAttribute("aria-describedby"),z1(u,yn.inputerror))}const LC={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},jge=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Vge={allowEnterKey:void 0},Uge=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Nle=l=>Object.prototype.hasOwnProperty.call(LC,l),Rle=l=>jge.indexOf(l)!==-1,Mle=l=>Vge[l],Zge=l=>{Nle(l)||gg(`Unknown parameter "${l}"`)},Wge=l=>{Uge.includes(l)&&gg(`The parameter "${l}" is incompatible with toasts`)},qge=l=>{const u=Mle(l);u&&Xie(l,u)},Ble=l=>{l.backdrop===!1&&l.allowOutsideClick&&gg('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),l.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(l.theme)&&gg(`Invalid theme "${l.theme}"`);for(const u in l)Zge(u),l.toast&&Wge(u),qge(u)};function Lle(l){const u=pg(),p=ji(),x=cc.innerParams.get(this);if(!p||v2(p,x.hideClass.popup)){gg("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const A=Gge(l),R=Object.assign({},x,A);Ble(R),u&&(u.dataset.swal2Theme=R.theme),dle(this,R),cc.innerParams.set(this,R),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}const Gge=l=>{const u={};return Object.keys(l).forEach(p=>{if(Rle(p)){const x=l;u[p]=x[p]}else gg(`Invalid parameter to update: ${p}`)}),u};function Ple(){var l;const u=cc.domCache.get(this),p=cc.innerParams.get(this);if(!p){Fle(this);return}u.popup&&Rs.swalCloseEventFinishedCallback&&(Rs.swalCloseEventFinishedCallback(),delete Rs.swalCloseEventFinishedCallback),typeof p.didDestroy=="function"&&p.didDestroy(),(l=Rs.eventEmitter)===null||l===void 0||l.emit("didDestroy"),Kge(this)}const Kge=l=>{Fle(l),delete l.params,delete Rs.keydownHandler,delete Rs.keydownTarget,delete Rs.currentInstance},Fle=l=>{l.isAwaitingPromise?(tee(cc,l),l.isAwaitingPromise=!0):(tee(K3,l),tee(cc,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},tee=(l,u)=>{for(const p in l)l[p].delete(u)};var Yge=Object.freeze({__proto__:null,_destroy:Ple,close:BC,closeModal:BC,closePopup:BC,closeToast:BC,disableButtons:Ale,disableInput:Dle,disableLoading:tz,enableButtons:Tle,enableInput:kle,getInput:Cle,handleAwaitingPromise:bB,hideLoading:tz,rejectPromise:yle,resetValidationMessage:Ole,showValidationMessage:_le,update:Lle});const Xge=(l,u,p)=>{l.toast?Qge(l,u,p):(epe(u),tpe(u),npe(l,u,p))},Qge=(l,u,p)=>{u.popup.onclick=()=>{l&&(Jge(l)||l.timer||l.input)||p(aD.close)}},Jge=l=>!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton);let nz=!1;const epe=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(u){l.container.onmouseup=()=>{},u.target===l.container&&(nz=!0)}}},tpe=l=>{l.container.onmousedown=u=>{u.target===l.container&&u.preventDefault(),l.popup.onmouseup=function(p){l.popup.onmouseup=()=>{},(p.target===l.popup||p.target instanceof HTMLElement&&l.popup.contains(p.target))&&(nz=!0)}}},npe=(l,u,p)=>{u.container.onclick=x=>{if(nz){nz=!1;return}x.target===u.container&&vz(l.allowOutsideClick)&&p(aD.backdrop)}},ope=l=>typeof l=="object"&&l.jquery,ose=l=>l instanceof Element||ope(l),spe=l=>{const u={};return typeof l[0]=="object"&&!ose(l[0])?Object.assign(u,l[0]):["title","html","icon"].forEach((p,x)=>{const A=l[x];typeof A=="string"||ose(A)?u[p]=A:A!==void 0&&MT(`Unexpected type of ${p}! Expected "string" or "Element", got ${typeof A}`)}),u};function rpe(...l){return new this(...l)}function ape(l){class u extends this{_main(x,A){return super._main(x,Object.assign({},l,A))}}return u}const ipe=()=>Rs.timeout&&Rs.timeout.getTimerLeft(),$le=()=>{if(Rs.timeout)return phe(),Rs.timeout.stop()},Ile=()=>{if(Rs.timeout){const l=Rs.timeout.start();return Tte(l),l}},lpe=()=>{const l=Rs.timeout;return l&&(l.running?$le():Ile())},cpe=l=>{if(Rs.timeout){const u=Rs.timeout.increase(l);return Tte(u,!0),u}},upe=()=>!!(Rs.timeout&&Rs.timeout.isRunning());let sse=!1;const Mee={};function dpe(l="data-swal-template"){Mee[l]=this,sse||(document.body.addEventListener("click",fpe),sse=!0)}const fpe=l=>{for(let u=l.target;u&&u!==document;u=u.parentNode)for(const p in Mee){const x=u.getAttribute&&u.getAttribute(p);if(x){Mee[p].fire({template:x});return}}};class mpe{constructor(){this.events={}}_getHandlersByEventName(u){return typeof this.events[u]>"u"&&(this.events[u]=[]),this.events[u]}on(u,p){const x=this._getHandlersByEventName(u);x.includes(p)||x.push(p)}once(u,p){const x=(...A)=>{this.removeListener(u,x),p.apply(this,A)};this.on(u,x)}emit(u,...p){this._getHandlersByEventName(u).forEach(x=>{try{x.apply(this,p)}catch(A){console.error(A)}})}removeListener(u,p){const x=this._getHandlersByEventName(u),A=x.indexOf(p);A>-1&&x.splice(A,1)}removeAllListeners(u){this.events[u]!==void 0&&(this.events[u].length=0)}reset(){this.events={}}}Rs.eventEmitter=new mpe;const hpe=(l,u)=>{Rs.eventEmitter&&Rs.eventEmitter.on(l,u)},gpe=(l,u)=>{Rs.eventEmitter&&Rs.eventEmitter.once(l,u)},ppe=(l,u)=>{if(Rs.eventEmitter){if(!l){Rs.eventEmitter.reset();return}u?Rs.eventEmitter.removeListener(l,u):Rs.eventEmitter.removeAllListeners(l)}};var bpe=Object.freeze({__proto__:null,argsToParams:spe,bindClickHandler:dpe,clickCancel:sge,clickConfirm:fle,clickDeny:oge,enableLoading:Y3,fire:rpe,getActions:hB,getCancelButton:sD,getCloseButton:wte,getConfirmButton:Ov,getContainer:pg,getDenyButton:BT,getFocusableElements:Cte,getFooter:ele,getHtmlContainer:vte,getIcon:oD,getIconContent:che,getImage:Jie,getInputLabel:uhe,getLoader:rD,getPopup:ji,getProgressSteps:xte,getTimerLeft:ipe,getTimerProgressBar:wz,getTitle:Qie,getValidationMessage:xz,increaseTimer:cpe,isDeprecatedParameter:Mle,isLoading:fhe,isTimerRunning:upe,isUpdatableParameter:Rle,isValidParameter:Nle,isVisible:nge,mixin:ape,off:ppe,on:hpe,once:gpe,resumeTimer:Ile,showLoading:Y3,stopTimer:$le,toggleTimer:lpe});class ype{constructor(u,p){this.callback=u,this.remaining=p,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(u){const p=this.running;return p&&this.stop(),this.remaining+=u,p&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Hle=["swal-title","swal-html","swal-footer"],vpe=l=>{const u=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!u)return{};const p=u.content;return kpe(p),Object.assign(xpe(p),wpe(p),Cpe(p),Spe(p),Epe(p),Tpe(p),Ape(p,Hle))},xpe=l=>{const u={};return Array.from(l.querySelectorAll("swal-param")).forEach(x=>{NT(x,["name","value"]);const A=x.getAttribute("name"),R=x.getAttribute("value");!A||!R||(A in LC&&typeof LC[A]=="boolean"?u[A]=R!=="false":A in LC&&typeof LC[A]=="object"?u[A]=JSON.parse(R):u[A]=R)}),u},wpe=l=>{const u={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(x=>{const A=x.getAttribute("name"),R=x.getAttribute("value");!A||!R||(u[A]=new Function(`return ${R}`)())}),u},Cpe=l=>{const u={};return Array.from(l.querySelectorAll("swal-button")).forEach(x=>{NT(x,["type","color","aria-label"]);const A=x.getAttribute("type");if(!(!A||!["confirm","cancel","deny"].includes(A))){if(u[`${A}ButtonText`]=x.innerHTML,u[`show${pte(A)}Button`]=!0,x.hasAttribute("color")){const R=x.getAttribute("color");R!==null&&(u[`${A}ButtonColor`]=R)}if(x.hasAttribute("aria-label")){const R=x.getAttribute("aria-label");R!==null&&(u[`${A}ButtonAriaLabel`]=R)}}}),u},Spe=l=>{const u={},p=l.querySelector("swal-image");return p&&(NT(p,["src","width","height","alt"]),p.hasAttribute("src")&&(u.imageUrl=p.getAttribute("src")||void 0),p.hasAttribute("width")&&(u.imageWidth=p.getAttribute("width")||void 0),p.hasAttribute("height")&&(u.imageHeight=p.getAttribute("height")||void 0),p.hasAttribute("alt")&&(u.imageAlt=p.getAttribute("alt")||void 0)),u},Epe=l=>{const u={},p=l.querySelector("swal-icon");return p&&(NT(p,["type","color"]),p.hasAttribute("type")&&(u.icon=p.getAttribute("type")),p.hasAttribute("color")&&(u.iconColor=p.getAttribute("color")),u.iconHtml=p.innerHTML),u},Tpe=l=>{const u={},p=l.querySelector("swal-input");p&&(NT(p,["type","label","placeholder","value"]),u.input=p.getAttribute("type")||"text",p.hasAttribute("label")&&(u.inputLabel=p.getAttribute("label")),p.hasAttribute("placeholder")&&(u.inputPlaceholder=p.getAttribute("placeholder")),p.hasAttribute("value")&&(u.inputValue=p.getAttribute("value")));const x=Array.from(l.querySelectorAll("swal-input-option"));return x.length&&(u.inputOptions={},x.forEach(A=>{NT(A,["value"]);const R=A.getAttribute("value");if(!R)return;const O=A.innerHTML;u.inputOptions[R]=O})),u},Ape=(l,u)=>{const p={};for(const x in u){const A=u[x],R=l.querySelector(A);R&&(NT(R,[]),p[A.replace(/^swal-/,"")]=R.innerHTML.trim())}return p},kpe=l=>{const u=Hle.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(p=>{const x=p.tagName.toLowerCase();u.includes(x)||gg(`Unrecognized element <${x}>`)})},NT=(l,u)=>{Array.from(l.attributes).forEach(p=>{u.indexOf(p.name)===-1&&gg([`Unrecognized attribute "${p.name}" on <${l.tagName.toLowerCase()}>.`,`${u.length?`Allowed attributes are: ${u.join(", ")}`:"To set the value, use HTML within the element."}`])})},zle=10,Dpe=l=>{var u,p;const x=pg(),A=ji();if(!x||!A)return;typeof l.willOpen=="function"&&l.willOpen(A),(u=Rs.eventEmitter)===null||u===void 0||u.emit("willOpen",A);const O=window.getComputedStyle(document.body).overflowY;if(Npe(x,A,l),setTimeout(()=>{_pe(x,A)},zle),Ste()&&(Ope(x,l.scrollbarPadding!==void 0?l.scrollbarPadding:!1,O),fge()),!Cz()&&!Rs.previousActiveElement&&(Rs.previousActiveElement=document.activeElement),typeof l.didOpen=="function"){const I=l.didOpen;setTimeout(()=>I(A))}(p=Rs.eventEmitter)===null||p===void 0||p.emit("didOpen",A)},oz=l=>{const u=ji();if(!u||l.target!==u)return;const p=pg();p&&(u.removeEventListener("animationend",oz),u.removeEventListener("transitionend",oz),p.style.overflowY="auto",z1(p,yn["no-transition"]))},_pe=(l,u)=>{ole(u)?(l.style.overflowY="hidden",u.addEventListener("animationend",oz),u.addEventListener("transitionend",oz)):l.style.overflowY="auto"},Ope=(l,u,p)=>{mge(),u&&p!=="hidden"&&xge(p),setTimeout(()=>{l.scrollTop=0})},Npe=(l,u,p)=>{var x;(x=p.showClass)!==null&&x!==void 0&&x.backdrop&&zi(l,p.showClass.backdrop),p.animation?(u.style.setProperty("opacity","0","important"),Xf(u,"grid"),setTimeout(()=>{var A;(A=p.showClass)!==null&&A!==void 0&&A.popup&&zi(u,p.showClass.popup),u.style.removeProperty("opacity")},zle)):Xf(u,"grid"),zi([document.documentElement,document.body],yn.shown),p.heightAuto&&p.backdrop&&!p.toast&&zi([document.documentElement,document.body],yn["height-auto"])};var rse={email:(l,u)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(l)?Promise.resolve():Promise.resolve(u||"Invalid email address"),url:(l,u)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(u||"Invalid URL")};function Rpe(l){l.inputValidator||(l.input==="email"&&(l.inputValidator=rse.email),l.input==="url"&&(l.inputValidator=rse.url))}function Mpe(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(gg('Target parameter is not valid, defaulting to "body"'),l.target="body")}function Bpe(l){Rpe(l),l.showLoaderOnConfirm&&!l.preConfirm&&gg(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Mpe(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),Ehe(l)}let Dv;var MH=new WeakMap;class bd{constructor(...u){if(the(this,MH,Promise.resolve({isConfirmed:!1,isDenied:!1,isDismissed:!0})),typeof window>"u")return;Dv=this;const p=Object.freeze(this.constructor.argsToParams(u));this.params=p,this.isAwaitingPromise=!1,nhe(MH,this,this._main(Dv.params))}_main(u,p={}){if(Ble(Object.assign({},p,u)),Rs.currentInstance){const R=K3.swalPromiseResolve.get(Rs.currentInstance),{isAwaitingPromise:O}=Rs.currentInstance;Rs.currentInstance._destroy(),O||R({isDismissed:!0}),Ste()&&gle()}Rs.currentInstance=Dv;const x=Ppe(u,p);Bpe(x),Object.freeze(x),Rs.timeout&&(Rs.timeout.stop(),delete Rs.timeout),clearTimeout(Rs.restoreFocusTimeout);const A=Fpe(Dv);return dle(Dv,x),cc.innerParams.set(Dv,x),Lpe(Dv,A,x)}then(u){return Koe(MH,this).then(u)}finally(u){return Koe(MH,this).finally(u)}}const Lpe=(l,u,p)=>new Promise((x,A)=>{const R=O=>{l.close({isDismissed:!0,dismiss:O,isConfirmed:!1,isDenied:!1})};K3.swalPromiseResolve.set(l,x),K3.swalPromiseReject.set(l,A),u.confirmButton.onclick=()=>{Fge(l)},u.denyButton.onclick=()=>{$ge(l)},u.cancelButton.onclick=()=>{Ige(l,R)},u.closeButton.onclick=()=>{R(aD.close)},Xge(p,u,R),rge(Rs,p,R),Dge(l,p),Dpe(p),$pe(Rs,p,R),Ipe(u,p),setTimeout(()=>{u.container.scrollTop=0})}),Ppe=(l,u)=>{const p=vpe(l),x=Object.assign({},LC,u,p,l);return x.showClass=Object.assign({},LC.showClass,x.showClass),x.hideClass=Object.assign({},LC.hideClass,x.hideClass),x.animation===!1&&(x.showClass={backdrop:"swal2-noanimation"},x.hideClass={}),x},Fpe=l=>{const u={popup:ji(),container:pg(),actions:hB(),confirmButton:Ov(),denyButton:BT(),cancelButton:sD(),loader:rD(),closeButton:wte(),validationMessage:xz(),progressSteps:xte()};return cc.domCache.set(l,u),u},$pe=(l,u,p)=>{const x=wz();yh(x),u.timer&&(l.timeout=new ype(()=>{p("timer"),delete l.timeout},u.timer),u.timerProgressBar&&x&&(Xf(x),D0(x,u,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&Tte(u.timer)})))},Ipe=(l,u)=>{if(!u.toast){if(!vz(u.allowEnterKey)){Xie("allowEnterKey"),jpe();return}Hpe(l)||zpe(l,u)||Ree(-1,1)}},Hpe=l=>{const u=Array.from(l.popup.querySelectorAll("[autofocus]"));for(const p of u)if(p instanceof HTMLElement&&gp(p))return p.focus(),!0;return!1},zpe=(l,u)=>u.focusDeny&&gp(l.denyButton)?(l.denyButton.focus(),!0):u.focusCancel&&gp(l.cancelButton)?(l.cancelButton.focus(),!0):u.focusConfirm&&gp(l.confirmButton)?(l.confirmButton.focus(),!0):!1,jpe=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};bd.prototype.disableButtons=Ale;bd.prototype.enableButtons=Tle;bd.prototype.getInput=Cle;bd.prototype.disableInput=Dle;bd.prototype.enableInput=kle;bd.prototype.hideLoading=tz;bd.prototype.disableLoading=tz;bd.prototype.showValidationMessage=_le;bd.prototype.resetValidationMessage=Ole;bd.prototype.close=BC;bd.prototype.closePopup=BC;bd.prototype.closeModal=BC;bd.prototype.closeToast=BC;bd.prototype.rejectPromise=yle;bd.prototype.update=Lle;bd.prototype._destroy=Ple;Object.assign(bd,bpe);Object.keys(Yge).forEach(l=>{bd[l]=function(...u){if(Dv&&Dv[l])return Dv[l](...u)}});bd.DismissReason=aD;bd.version="11.26.17";const go=bd;go.default=go;typeof document<"u"&&(function(l,u){var p=l.createElement("style");if(l.getElementsByTagName("head")[0].appendChild(p),p.styleSheet)p.styleSheet.disabled||(p.styleSheet.cssText=u);else try{p.innerHTML=u}catch{p.innerText=u}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');function Vpe(){const[l,u]=Ze.useState(""),[p,x]=Ze.useState(""),[A,R]=Ze.useState(!1),O=RT(),I=mz(V=>V.login),U=async V=>{V.preventDefault(),R(!0);try{const Y=await vs.post("/auth.php?action=login",{email:l,password:p});Y.data.success?(I(Y.data.token,Y.data.user),O("/dashboard")):go.fire("Hata",Y.data.error||"Giri baarsz","error")}catch(Y){go.fire("Hata",Y.response?.data?.error||"Sunucu hatas","error")}finally{R(!1)}};return M.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:M.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl overflow-hidden",children:[M.jsxs("div",{className:"p-8",children:[M.jsxs("div",{className:"text-center mb-8",children:[M.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-xl flex items-center justify-center mx-auto mb-4",children:M.jsxs("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),M.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Admin Panel Giri"})]}),M.jsxs("form",{onSubmit:U,className:"space-y-6",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"E-posta"}),M.jsx("input",{type:"email",value:l,onChange:V=>u(V.target.value),required:!0,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"admin@example.com"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"ifre"}),M.jsx("input",{type:"password",value:p,onChange:V=>x(V.target.value),required:!0,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:""})]}),M.jsx("button",{type:"submit",disabled:A,className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:A?"Giri yaplyor...":"Giri Yap"})]})]}),M.jsx("div",{className:"bg-gray-50 px-8 py-4 border-t border-gray-100",children:M.jsx("p",{className:"text-xs text-gray-500 text-center",children:" 2026 Mekan Fotorafs"})})]})})}function Upe(){const[l,u]=Ze.useState(null),[p,x]=Ze.useState(!0);Ze.useEffect(()=>{A()},[]);const A=async()=>{try{const R=await vs.get("/dashboard.php");R.data.success&&u(R.data)}catch(R){console.error("Failed to load dashboard:",R)}finally{x(!1)}};return p?M.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):M.jsxs("div",{className:"space-y-6",children:[M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Dashboard"}),M.jsx("div",{className:"text-xs font-bold text-gray-400 bg-gray-100 px-3 py-1 rounded-full uppercase tracking-widest",children:"Canl zet"})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[M.jsx(uy,{to:"/services",children:M.jsx(I3,{title:"Aktif Hizmet",value:l?.stats?.services||0,icon:"",color:"blue"})}),M.jsx(uy,{to:"/blog",children:M.jsx(I3,{title:"Blog Yazs",value:l?.stats?.blog_posts||0,icon:"",color:"amber"})}),M.jsx(uy,{to:"/seo-pages",children:M.jsx(I3,{title:"SEO Sayfas",value:l?.stats?.seo_pages||0,icon:"",color:"green"})}),M.jsx(uy,{to:"/quotes",children:M.jsx(I3,{title:"Toplam Teklif",value:l?.stats?.total_quotes||0,icon:"",color:"purple"})}),M.jsx(uy,{to:"/quotes?filter=new",children:M.jsx(I3,{title:"Yeni Talep",value:l?.stats?.new_quotes||0,icon:"",color:"red"})}),M.jsx(uy,{to:"/freelancers",children:M.jsx(I3,{title:"Freelancer Bavuru",value:l?.stats?.total_freelancers||0,icon:"",color:"green"})})]}),M.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[M.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm p-8",children:[M.jsxs("div",{className:"flex justify-between items-center mb-6",children:[M.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Son Teklif Talepleri"}),M.jsx(uy,{to:"/quotes",className:"text-xs font-bold text-blue-600 hover:underline px-3 py-1 bg-blue-50 rounded-lg uppercase tracking-wider",children:"Tmn Gr"})]}),M.jsx("div",{className:"overflow-x-auto",children:M.jsxs("table",{className:"w-full",children:[M.jsx("thead",{children:M.jsxs("tr",{className:"text-left border-b border-gray-50",children:[M.jsx("th",{className:"pb-3 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Mteri"}),M.jsx("th",{className:"pb-3 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Hizmet"}),M.jsx("th",{className:"pb-3 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Tarih"})]})}),M.jsxs("tbody",{className:"divide-y divide-gray-50",children:[l?.recent_quotes?.map(R=>M.jsxs("tr",{className:"group hover:bg-gray-50 transition-colors",children:[M.jsxs("td",{className:"py-4",children:[M.jsx("div",{className:"font-bold text-gray-800 text-sm",children:R.name}),M.jsx("div",{className:"text-[10px] text-gray-400",children:R.email})]}),M.jsx("td",{className:"py-4",children:M.jsx("span",{className:"px-2 py-1 bg-slate-100 rounded text-[9px] font-black uppercase text-slate-500",children:R.service||"Genel"})}),M.jsx("td",{className:"py-4 text-[11px] text-gray-500 font-medium",children:new Date(R.created_at).toLocaleDateString("tr-TR")})]},R.id)),(!l?.recent_quotes||l?.recent_quotes.length===0)&&M.jsx("tr",{children:M.jsx("td",{colSpan:"3",className:"py-12 text-center text-gray-300 italic",children:"Henz talep yok."})})]})]})})]}),M.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm p-8",children:[M.jsxs("div",{className:"flex justify-between items-center mb-6",children:[M.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Son Gncellemeler"}),M.jsx(uy,{to:"/pages",className:"text-xs font-bold text-blue-600 hover:underline px-3 py-1 bg-blue-50 rounded-lg uppercase tracking-wider",children:"Tm erik"})]}),M.jsx("div",{className:"space-y-4",children:l?.recent_pages?.map(R=>M.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-2xl transition-colors border border-transparent hover:border-gray-100",children:[M.jsxs("div",{className:"flex items-center gap-4",children:[M.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-100 flex items-center justify-center text-lg",children:R.post_type==="service"?"":R.post_type==="blog"?"":""}),M.jsxs("div",{children:[M.jsx("div",{className:"text-sm font-bold text-gray-800",children:R.title}),M.jsx("div",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest",children:R.post_type})]})]}),M.jsx("div",{className:"text-[10px] text-gray-400 font-bold whitespace-nowrap",children:new Date(R.updated_at||R.created_at).toLocaleDateString("tr-TR")})]},R.id))})]})]})]})}function I3({title:l,value:u,icon:p,color:x}){const A={blue:{bg:"bg-blue-50",icon:"bg-blue-500",text:"text-blue-600"},green:{bg:"bg-green-50",icon:"bg-green-500",text:"text-green-600"},purple:{bg:"bg-purple-50",icon:"bg-purple-500",text:"text-purple-600"},red:{bg:"bg-red-50",icon:"bg-red-500",text:"text-red-600"},amber:{bg:"bg-amber-50",icon:"bg-amber-500",text:"text-amber-600"}},R=A[x]||A.blue;return M.jsxs("div",{className:"p-6 rounded-3xl border border-transparent hover:border-gray-200 transition-all bg-white shadow-sm flex items-center justify-between group cursor-pointer active:scale-95",children:[M.jsxs("div",{children:[M.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1 group-hover:text-gray-600 transition-colors",children:l}),M.jsx("p",{className:"text-3xl font-black text-gray-900 tracking-tighter",children:u})]}),M.jsx("div",{className:`w-14 h-14 ${R.icon} rounded-2xl flex items-center justify-center text-2xl shadow-lg shadow-gray-200 group-hover:scale-110 transition-transform`,children:p})]})}const Nte=Ze.createContext({});function Rte(l){const u=Ze.useRef(null);return u.current===null&&(u.current=l()),u.current}const jle=typeof window<"u",Vle=jle?Ze.useLayoutEffect:Ze.useEffect,Ez=Ze.createContext(null);function Mte(l,u){l.indexOf(u)===-1&&l.push(u)}function Bte(l,u){const p=l.indexOf(u);p>-1&&l.splice(p,1)}const Nv=(l,u,p)=>p>u?u:p<l?l:p;let Lte=()=>{};const C2={},Ule=l=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(l);function Zle(l){return typeof l=="object"&&l!==null}const Wle=l=>/^0[^.\s]+$/u.test(l);function Pte(l){let u;return()=>(u===void 0&&(u=l()),u)}const I1=l=>l,Zpe=(l,u)=>p=>u(l(p)),yB=(...l)=>l.reduce(Zpe),tB=(l,u,p)=>{const x=u-l;return x===0?1:(p-l)/x};class Fte{constructor(){this.subscriptions=[]}add(u){return Mte(this.subscriptions,u),()=>Bte(this.subscriptions,u)}notify(u,p,x){const A=this.subscriptions.length;if(A)if(A===1)this.subscriptions[0](u,p,x);else for(let R=0;R<A;R++){const O=this.subscriptions[R];O&&O(u,p,x)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const x2=l=>l*1e3,$1=l=>l/1e3;function qle(l,u){return u?l*(1e3/u):0}const Gle=(l,u,p)=>(((1-3*p+3*u)*l+(3*p-6*u))*l+3*u)*l,Wpe=1e-7,qpe=12;function Gpe(l,u,p,x,A){let R,O,I=0;do O=u+(p-u)/2,R=Gle(O,x,A)-l,R>0?p=O:u=O;while(Math.abs(R)>Wpe&&++I<qpe);return O}function vB(l,u,p,x){if(l===u&&p===x)return I1;const A=R=>Gpe(R,0,1,l,p);return R=>R===0||R===1?R:Gle(A(R),u,x)}const Kle=l=>u=>u<=.5?l(2*u)/2:(2-l(2*(1-u)))/2,Yle=l=>u=>1-l(1-u),Xle=vB(.33,1.53,.69,.99),$te=Yle(Xle),Qle=Kle($te),Jle=l=>(l*=2)<1?.5*$te(l):.5*(2-Math.pow(2,-10*(l-1))),Ite=l=>1-Math.sin(Math.acos(l)),ece=Yle(Ite),tce=Kle(Ite),Kpe=vB(.42,0,1,1),Ype=vB(0,0,.58,1),nce=vB(.42,0,.58,1),Xpe=l=>Array.isArray(l)&&typeof l[0]!="number",oce=l=>Array.isArray(l)&&typeof l[0]=="number",Qpe={linear:I1,easeIn:Kpe,easeInOut:nce,easeOut:Ype,circIn:Ite,circInOut:tce,circOut:ece,backIn:$te,backInOut:Qle,backOut:Xle,anticipate:Jle},Jpe=l=>typeof l=="string",ase=l=>{if(oce(l)){Lte(l.length===4);const[u,p,x,A]=l;return vB(u,p,x,A)}else if(Jpe(l))return Qpe[l];return l},BH=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function e0e(l,u){let p=new Set,x=new Set,A=!1,R=!1;const O=new WeakSet;let I={delta:0,timestamp:0,isProcessing:!1};function U(Y){O.has(Y)&&(V.schedule(Y),l()),Y(I)}const V={schedule:(Y,ee=!1,ue=!1)=>{const pe=ue&&A?p:x;return ee&&O.add(Y),pe.has(Y)||pe.add(Y),Y},cancel:Y=>{x.delete(Y),O.delete(Y)},process:Y=>{if(I=Y,A){R=!0;return}A=!0,[p,x]=[x,p],p.forEach(U),p.clear(),A=!1,R&&(R=!1,V.process(Y))}};return V}const t0e=40;function sce(l,u){let p=!1,x=!0;const A={delta:0,timestamp:0,isProcessing:!1},R=()=>p=!0,O=BH.reduce((J,it)=>(J[it]=e0e(R),J),{}),{setup:I,read:U,resolveKeyframes:V,preUpdate:Y,update:ee,preRender:ue,render:Ce,postRender:pe}=O,Fe=()=>{const J=C2.useManualTiming?A.timestamp:performance.now();p=!1,C2.useManualTiming||(A.delta=x?1e3/60:Math.max(Math.min(J-A.timestamp,t0e),1)),A.timestamp=J,A.isProcessing=!0,I.process(A),U.process(A),V.process(A),Y.process(A),ee.process(A),ue.process(A),Ce.process(A),pe.process(A),A.isProcessing=!1,p&&u&&(x=!1,l(Fe))},be=()=>{p=!0,x=!0,A.isProcessing||l(Fe)};return{schedule:BH.reduce((J,it)=>{const jt=O[it];return J[it]=(Ke,ie=!1,ut=!1)=>(p||be(),jt.schedule(Ke,ie,ut)),J},{}),cancel:J=>{for(let it=0;it<BH.length;it++)O[BH[it]].cancel(J)},state:A,steps:O}}const{schedule:Dc,cancel:FC,state:_m,steps:nee}=sce(typeof requestAnimationFrame<"u"?requestAnimationFrame:I1,!0);let VH;function n0e(){VH=void 0}const mg={now:()=>(VH===void 0&&mg.set(_m.isProcessing||C2.useManualTiming?_m.timestamp:performance.now()),VH),set:l=>{VH=l,queueMicrotask(n0e)}},rce=l=>u=>typeof u=="string"&&u.startsWith(l),ace=rce("--"),o0e=rce("var(--"),Hte=l=>o0e(l)?s0e.test(l.split("/*")[0].trim()):!1,s0e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function ise(l){return typeof l!="string"?!1:l.split("/*")[0].includes("var(--")}const iD={test:l=>typeof l=="number",parse:parseFloat,transform:l=>l},nB={...iD,transform:l=>Nv(0,1,l)},LH={...iD,default:1},YM=l=>Math.round(l*1e5)/1e5,zte=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function r0e(l){return l==null}const a0e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jte=(l,u)=>p=>!!(typeof p=="string"&&a0e.test(p)&&p.startsWith(l)||u&&!r0e(p)&&Object.prototype.hasOwnProperty.call(p,u)),ice=(l,u,p)=>x=>{if(typeof x!="string")return x;const[A,R,O,I]=x.match(zte);return{[l]:parseFloat(A),[u]:parseFloat(R),[p]:parseFloat(O),alpha:I!==void 0?parseFloat(I):1}},i0e=l=>Nv(0,255,l),oee={...iD,transform:l=>Math.round(i0e(l))},TT={test:jte("rgb","red"),parse:ice("red","green","blue"),transform:({red:l,green:u,blue:p,alpha:x=1})=>"rgba("+oee.transform(l)+", "+oee.transform(u)+", "+oee.transform(p)+", "+YM(nB.transform(x))+")"};function l0e(l){let u="",p="",x="",A="";return l.length>5?(u=l.substring(1,3),p=l.substring(3,5),x=l.substring(5,7),A=l.substring(7,9)):(u=l.substring(1,2),p=l.substring(2,3),x=l.substring(3,4),A=l.substring(4,5),u+=u,p+=p,x+=x,A+=A),{red:parseInt(u,16),green:parseInt(p,16),blue:parseInt(x,16),alpha:A?parseInt(A,16)/255:1}}const Bee={test:jte("#"),parse:l0e,transform:TT.transform},xB=l=>({test:u=>typeof u=="string"&&u.endsWith(l)&&u.split(" ").length===1,parse:parseFloat,transform:u=>`${u}${l}`}),RC=xB("deg"),_v=xB("%"),is=xB("px"),c0e=xB("vh"),u0e=xB("vw"),lse={..._v,parse:l=>_v.parse(l)/100,transform:l=>_v.transform(l*100)},z3={test:jte("hsl","hue"),parse:ice("hue","saturation","lightness"),transform:({hue:l,saturation:u,lightness:p,alpha:x=1})=>"hsla("+Math.round(l)+", "+_v.transform(YM(u))+", "+_v.transform(YM(p))+", "+YM(nB.transform(x))+")"},Gd={test:l=>TT.test(l)||Bee.test(l)||z3.test(l),parse:l=>TT.test(l)?TT.parse(l):z3.test(l)?z3.parse(l):Bee.parse(l),transform:l=>typeof l=="string"?l:l.hasOwnProperty("red")?TT.transform(l):z3.transform(l),getAnimatableNone:l=>{const u=Gd.parse(l);return u.alpha=0,Gd.transform(u)}},d0e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function f0e(l){return isNaN(l)&&typeof l=="string"&&(l.match(zte)?.length||0)+(l.match(d0e)?.length||0)>0}const lce="number",cce="color",m0e="var",h0e="var(",cse="${}",g0e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function oB(l){const u=l.toString(),p=[],x={color:[],number:[],var:[]},A=[];let R=0;const I=u.replace(g0e,U=>(Gd.test(U)?(x.color.push(R),A.push(cce),p.push(Gd.parse(U))):U.startsWith(h0e)?(x.var.push(R),A.push(m0e),p.push(U)):(x.number.push(R),A.push(lce),p.push(parseFloat(U))),++R,cse)).split(cse);return{values:p,split:I,indexes:x,types:A}}function uce(l){return oB(l).values}function dce(l){const{split:u,types:p}=oB(l),x=u.length;return A=>{let R="";for(let O=0;O<x;O++)if(R+=u[O],A[O]!==void 0){const I=p[O];I===lce?R+=YM(A[O]):I===cce?R+=Gd.transform(A[O]):R+=A[O]}return R}}const p0e=l=>typeof l=="number"?0:Gd.test(l)?Gd.getAnimatableNone(l):l;function b0e(l){const u=uce(l);return dce(l)(u.map(p0e))}const $C={test:f0e,parse:uce,createTransformer:dce,getAnimatableNone:b0e};function see(l,u,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?l+(u-l)*6*p:p<1/2?u:p<2/3?l+(u-l)*(2/3-p)*6:l}function y0e({hue:l,saturation:u,lightness:p,alpha:x}){l/=360,u/=100,p/=100;let A=0,R=0,O=0;if(!u)A=R=O=p;else{const I=p<.5?p*(1+u):p+u-p*u,U=2*p-I;A=see(U,I,l+1/3),R=see(U,I,l),O=see(U,I,l-1/3)}return{red:Math.round(A*255),green:Math.round(R*255),blue:Math.round(O*255),alpha:x}}function sz(l,u){return p=>p>0?u:l}const wu=(l,u,p)=>l+(u-l)*p,ree=(l,u,p)=>{const x=l*l,A=p*(u*u-x)+x;return A<0?0:Math.sqrt(A)},v0e=[Bee,TT,z3],x0e=l=>v0e.find(u=>u.test(l));function use(l){const u=x0e(l);if(!u)return!1;let p=u.parse(l);return u===z3&&(p=y0e(p)),p}const dse=(l,u)=>{const p=use(l),x=use(u);if(!p||!x)return sz(l,u);const A={...p};return R=>(A.red=ree(p.red,x.red,R),A.green=ree(p.green,x.green,R),A.blue=ree(p.blue,x.blue,R),A.alpha=wu(p.alpha,x.alpha,R),TT.transform(A))},Lee=new Set(["none","hidden"]);function w0e(l,u){return Lee.has(l)?p=>p<=0?l:u:p=>p>=1?u:l}function C0e(l,u){return p=>wu(l,u,p)}function Vte(l){return typeof l=="number"?C0e:typeof l=="string"?Hte(l)?sz:Gd.test(l)?dse:T0e:Array.isArray(l)?fce:typeof l=="object"?Gd.test(l)?dse:S0e:sz}function fce(l,u){const p=[...l],x=p.length,A=l.map((R,O)=>Vte(R)(R,u[O]));return R=>{for(let O=0;O<x;O++)p[O]=A[O](R);return p}}function S0e(l,u){const p={...l,...u},x={};for(const A in p)l[A]!==void 0&&u[A]!==void 0&&(x[A]=Vte(l[A])(l[A],u[A]));return A=>{for(const R in x)p[R]=x[R](A);return p}}function E0e(l,u){const p=[],x={color:0,var:0,number:0};for(let A=0;A<u.values.length;A++){const R=u.types[A],O=l.indexes[R][x[R]],I=l.values[O]??0;p[A]=I,x[R]++}return p}const T0e=(l,u)=>{const p=$C.createTransformer(u),x=oB(l),A=oB(u);return x.indexes.var.length===A.indexes.var.length&&x.indexes.color.length===A.indexes.color.length&&x.indexes.number.length>=A.indexes.number.length?Lee.has(l)&&!A.values.length||Lee.has(u)&&!x.values.length?w0e(l,u):yB(fce(E0e(x,A),A.values),p):sz(l,u)};function mce(l,u,p){return typeof l=="number"&&typeof u=="number"&&typeof p=="number"?wu(l,u,p):Vte(l)(l,u)}const A0e=l=>{const u=({timestamp:p})=>l(p);return{start:(p=!0)=>Dc.update(u,p),stop:()=>FC(u),now:()=>_m.isProcessing?_m.timestamp:mg.now()}},hce=(l,u,p=10)=>{let x="";const A=Math.max(Math.round(u/p),2);for(let R=0;R<A;R++)x+=Math.round(l(R/(A-1))*1e4)/1e4+", ";return`linear(${x.substring(0,x.length-2)})`},rz=2e4;function Ute(l){let u=0;const p=50;let x=l.next(u);for(;!x.done&&u<rz;)u+=p,x=l.next(u);return u>=rz?1/0:u}function k0e(l,u=100,p){const x=p({...l,keyframes:[0,u]}),A=Math.min(Ute(x),rz);return{type:"keyframes",ease:R=>x.next(A*R).value/u,duration:$1(A)}}const D0e=5;function gce(l,u,p){const x=Math.max(u-D0e,0);return qle(p-l(x),u-x)}const Vu={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},aee=.001;function _0e({duration:l=Vu.duration,bounce:u=Vu.bounce,velocity:p=Vu.velocity,mass:x=Vu.mass}){let A,R,O=1-u;O=Nv(Vu.minDamping,Vu.maxDamping,O),l=Nv(Vu.minDuration,Vu.maxDuration,$1(l)),O<1?(A=V=>{const Y=V*O,ee=Y*l,ue=Y-p,Ce=Pee(V,O),pe=Math.exp(-ee);return aee-ue/Ce*pe},R=V=>{const ee=V*O*l,ue=ee*p+p,Ce=Math.pow(O,2)*Math.pow(V,2)*l,pe=Math.exp(-ee),Fe=Pee(Math.pow(V,2),O);return(-A(V)+aee>0?-1:1)*((ue-Ce)*pe)/Fe}):(A=V=>{const Y=Math.exp(-V*l),ee=(V-p)*l+1;return-aee+Y*ee},R=V=>{const Y=Math.exp(-V*l),ee=(p-V)*(l*l);return Y*ee});const I=5/l,U=N0e(A,R,I);if(l=x2(l),isNaN(U))return{stiffness:Vu.stiffness,damping:Vu.damping,duration:l};{const V=Math.pow(U,2)*x;return{stiffness:V,damping:O*2*Math.sqrt(x*V),duration:l}}}const O0e=12;function N0e(l,u,p){let x=p;for(let A=1;A<O0e;A++)x=x-l(x)/u(x);return x}function Pee(l,u){return l*Math.sqrt(1-u*u)}const R0e=["duration","bounce"],M0e=["stiffness","damping","mass"];function fse(l,u){return u.some(p=>l[p]!==void 0)}function B0e(l){let u={velocity:Vu.velocity,stiffness:Vu.stiffness,damping:Vu.damping,mass:Vu.mass,isResolvedFromDuration:!1,...l};if(!fse(l,M0e)&&fse(l,R0e))if(l.visualDuration){const p=l.visualDuration,x=2*Math.PI/(p*1.2),A=x*x,R=2*Nv(.05,1,1-(l.bounce||0))*Math.sqrt(A);u={...u,mass:Vu.mass,stiffness:A,damping:R}}else{const p=_0e(l);u={...u,...p,mass:Vu.mass},u.isResolvedFromDuration=!0}return u}function az(l=Vu.visualDuration,u=Vu.bounce){const p=typeof l!="object"?{visualDuration:l,keyframes:[0,1],bounce:u}:l;let{restSpeed:x,restDelta:A}=p;const R=p.keyframes[0],O=p.keyframes[p.keyframes.length-1],I={done:!1,value:R},{stiffness:U,damping:V,mass:Y,duration:ee,velocity:ue,isResolvedFromDuration:Ce}=B0e({...p,velocity:-$1(p.velocity||0)}),pe=ue||0,Fe=V/(2*Math.sqrt(U*Y)),be=O-R,lt=$1(Math.sqrt(U/Y)),Oe=Math.abs(be)<5;x||(x=Oe?Vu.restSpeed.granular:Vu.restSpeed.default),A||(A=Oe?Vu.restDelta.granular:Vu.restDelta.default);let J;if(Fe<1){const jt=Pee(lt,Fe);J=Ke=>{const ie=Math.exp(-Fe*lt*Ke);return O-ie*((pe+Fe*lt*be)/jt*Math.sin(jt*Ke)+be*Math.cos(jt*Ke))}}else if(Fe===1)J=jt=>O-Math.exp(-lt*jt)*(be+(pe+lt*be)*jt);else{const jt=lt*Math.sqrt(Fe*Fe-1);J=Ke=>{const ie=Math.exp(-Fe*lt*Ke),ut=Math.min(jt*Ke,300);return O-ie*((pe+Fe*lt*be)*Math.sinh(ut)+jt*be*Math.cosh(ut))/jt}}const it={calculatedDuration:Ce&&ee||null,next:jt=>{const Ke=J(jt);if(Ce)I.done=jt>=ee;else{let ie=jt===0?pe:0;Fe<1&&(ie=jt===0?x2(pe):gce(J,jt,Ke));const ut=Math.abs(ie)<=x,xn=Math.abs(O-Ke)<=A;I.done=ut&&xn}return I.value=I.done?O:Ke,I},toString:()=>{const jt=Math.min(Ute(it),rz),Ke=hce(ie=>it.next(jt*ie).value,jt,30);return jt+"ms "+Ke},toTransition:()=>{}};return it}az.applyToOptions=l=>{const u=k0e(l,100,az);return l.ease=u.ease,l.duration=x2(u.duration),l.type="keyframes",l};function Fee({keyframes:l,velocity:u=0,power:p=.8,timeConstant:x=325,bounceDamping:A=10,bounceStiffness:R=500,modifyTarget:O,min:I,max:U,restDelta:V=.5,restSpeed:Y}){const ee=l[0],ue={done:!1,value:ee},Ce=ut=>I!==void 0&&ut<I||U!==void 0&&ut>U,pe=ut=>I===void 0?U:U===void 0||Math.abs(I-ut)<Math.abs(U-ut)?I:U;let Fe=p*u;const be=ee+Fe,lt=O===void 0?be:O(be);lt!==be&&(Fe=lt-ee);const Oe=ut=>-Fe*Math.exp(-ut/x),J=ut=>lt+Oe(ut),it=ut=>{const xn=Oe(ut),fn=J(ut);ue.done=Math.abs(xn)<=V,ue.value=ue.done?lt:fn};let jt,Ke;const ie=ut=>{Ce(ue.value)&&(jt=ut,Ke=az({keyframes:[ue.value,pe(ue.value)],velocity:gce(J,ut,ue.value),damping:A,stiffness:R,restDelta:V,restSpeed:Y}))};return ie(0),{calculatedDuration:null,next:ut=>{let xn=!1;return!Ke&&jt===void 0&&(xn=!0,it(ut),ie(ut)),jt!==void 0&&ut>=jt?Ke.next(ut-jt):(!xn&&it(ut),ue)}}}function L0e(l,u,p){const x=[],A=p||C2.mix||mce,R=l.length-1;for(let O=0;O<R;O++){let I=A(l[O],l[O+1]);if(u){const U=Array.isArray(u)?u[O]||I1:u;I=yB(U,I)}x.push(I)}return x}function P0e(l,u,{clamp:p=!0,ease:x,mixer:A}={}){const R=l.length;if(Lte(R===u.length),R===1)return()=>u[0];if(R===2&&u[0]===u[1])return()=>u[1];const O=l[0]===l[1];l[0]>l[R-1]&&(l=[...l].reverse(),u=[...u].reverse());const I=L0e(u,x,A),U=I.length,V=Y=>{if(O&&Y<l[0])return u[0];let ee=0;if(U>1)for(;ee<l.length-2&&!(Y<l[ee+1]);ee++);const ue=tB(l[ee],l[ee+1],Y);return I[ee](ue)};return p?Y=>V(Nv(l[0],l[R-1],Y)):V}function F0e(l,u){const p=l[l.length-1];for(let x=1;x<=u;x++){const A=tB(0,u,x);l.push(wu(p,1,A))}}function $0e(l){const u=[0];return F0e(u,l.length-1),u}function I0e(l,u){return l.map(p=>p*u)}function H0e(l,u){return l.map(()=>u||nce).splice(0,l.length-1)}function XM({duration:l=300,keyframes:u,times:p,ease:x="easeInOut"}){const A=Xpe(x)?x.map(ase):ase(x),R={done:!1,value:u[0]},O=I0e(p&&p.length===u.length?p:$0e(u),l),I=P0e(O,u,{ease:Array.isArray(A)?A:H0e(u,A)});return{calculatedDuration:l,next:U=>(R.value=I(U),R.done=U>=l,R)}}const z0e=l=>l!==null;function Zte(l,{repeat:u,repeatType:p="loop"},x,A=1){const R=l.filter(z0e),I=A<0||u&&p!=="loop"&&u%2===1?0:R.length-1;return!I||x===void 0?R[I]:x}const j0e={decay:Fee,inertia:Fee,tween:XM,keyframes:XM,spring:az};function pce(l){typeof l.type=="string"&&(l.type=j0e[l.type])}class Wte{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(u=>{this.resolve=u})}notifyFinished(){this.resolve()}then(u,p){return this.finished.then(u,p)}}const V0e=l=>l/100;class qte extends Wte{constructor(u){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:p}=this.options;p&&p.updatedAt!==mg.now()&&this.tick(mg.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=u,this.initAnimation(),this.play(),u.autoplay===!1&&this.pause()}initAnimation(){const{options:u}=this;pce(u);const{type:p=XM,repeat:x=0,repeatDelay:A=0,repeatType:R,velocity:O=0}=u;let{keyframes:I}=u;const U=p||XM;U!==XM&&typeof I[0]!="number"&&(this.mixKeyframes=yB(V0e,mce(I[0],I[1])),I=[0,100]);const V=U({...u,keyframes:I});R==="mirror"&&(this.mirroredGenerator=U({...u,keyframes:[...I].reverse(),velocity:-O})),V.calculatedDuration===null&&(V.calculatedDuration=Ute(V));const{calculatedDuration:Y}=V;this.calculatedDuration=Y,this.resolvedDuration=Y+A,this.totalDuration=this.resolvedDuration*(x+1)-A,this.generator=V}updateTime(u){const p=Math.round(u-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=p}tick(u,p=!1){const{generator:x,totalDuration:A,mixKeyframes:R,mirroredGenerator:O,resolvedDuration:I,calculatedDuration:U}=this;if(this.startTime===null)return x.next(0);const{delay:V=0,keyframes:Y,repeat:ee,repeatType:ue,repeatDelay:Ce,type:pe,onUpdate:Fe,finalKeyframe:be}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,u):this.speed<0&&(this.startTime=Math.min(u-A/this.speed,this.startTime)),p?this.currentTime=u:this.updateTime(u);const lt=this.currentTime-V*(this.playbackSpeed>=0?1:-1),Oe=this.playbackSpeed>=0?lt<0:lt>A;this.currentTime=Math.max(lt,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=A);let J=this.currentTime,it=x;if(ee){const ut=Math.min(this.currentTime,A)/I;let xn=Math.floor(ut),fn=ut%1;!fn&&ut>=1&&(fn=1),fn===1&&xn--,xn=Math.min(xn,ee+1),xn%2&&(ue==="reverse"?(fn=1-fn,Ce&&(fn-=Ce/I)):ue==="mirror"&&(it=O)),J=Nv(0,1,fn)*I}const jt=Oe?{done:!1,value:Y[0]}:it.next(J);R&&(jt.value=R(jt.value));let{done:Ke}=jt;!Oe&&U!==null&&(Ke=this.playbackSpeed>=0?this.currentTime>=A:this.currentTime<=0);const ie=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Ke);return ie&&pe!==Fee&&(jt.value=Zte(Y,this.options,be,this.speed)),Fe&&Fe(jt.value),ie&&this.finish(),jt}then(u,p){return this.finished.then(u,p)}get duration(){return $1(this.calculatedDuration)}get iterationDuration(){const{delay:u=0}=this.options||{};return this.duration+$1(u)}get time(){return $1(this.currentTime)}set time(u){u=x2(u),this.currentTime=u,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=u:this.driver&&(this.startTime=this.driver.now()-u/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(u){this.updateTime(mg.now());const p=this.playbackSpeed!==u;this.playbackSpeed=u,p&&(this.time=$1(this.currentTime))}play(){if(this.isStopped)return;const{driver:u=A0e,startTime:p}=this.options;this.driver||(this.driver=u(A=>this.tick(A))),this.options.onPlay?.();const x=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=x):this.holdTime!==null?this.startTime=x-this.holdTime:this.startTime||(this.startTime=p??x),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mg.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(u){return this.startTime=0,this.tick(u,!0)}attachTimeline(u){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),u.observe(this)}}function U0e(l){for(let u=1;u<l.length;u++)l[u]??(l[u]=l[u-1])}const AT=l=>l*180/Math.PI,$ee=l=>{const u=AT(Math.atan2(l[1],l[0]));return Iee(u)},Z0e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:l=>(Math.abs(l[0])+Math.abs(l[3]))/2,rotate:$ee,rotateZ:$ee,skewX:l=>AT(Math.atan(l[1])),skewY:l=>AT(Math.atan(l[2])),skew:l=>(Math.abs(l[1])+Math.abs(l[2]))/2},Iee=l=>(l=l%360,l<0&&(l+=360),l),mse=$ee,hse=l=>Math.sqrt(l[0]*l[0]+l[1]*l[1]),gse=l=>Math.sqrt(l[4]*l[4]+l[5]*l[5]),W0e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hse,scaleY:gse,scale:l=>(hse(l)+gse(l))/2,rotateX:l=>Iee(AT(Math.atan2(l[6],l[5]))),rotateY:l=>Iee(AT(Math.atan2(-l[2],l[0]))),rotateZ:mse,rotate:mse,skewX:l=>AT(Math.atan(l[4])),skewY:l=>AT(Math.atan(l[1])),skew:l=>(Math.abs(l[1])+Math.abs(l[4]))/2};function Hee(l){return l.includes("scale")?1:0}function zee(l,u){if(!l||l==="none")return Hee(u);const p=l.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let x,A;if(p)x=W0e,A=p;else{const I=l.match(/^matrix\(([-\d.e\s,]+)\)$/u);x=Z0e,A=I}if(!A)return Hee(u);const R=x[u],O=A[1].split(",").map(G0e);return typeof R=="function"?R(O):O[R]}const q0e=(l,u)=>{const{transform:p="none"}=getComputedStyle(l);return zee(p,u)};function G0e(l){return parseFloat(l.trim())}const lD=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cD=new Set(lD),pse=l=>l===iD||l===is,K0e=new Set(["x","y","z"]),Y0e=lD.filter(l=>!K0e.has(l));function X0e(l){const u=[];return Y0e.forEach(p=>{const x=l.getValue(p);x!==void 0&&(u.push([p,x.get()]),x.set(p.startsWith("scale")?1:0))}),u}const PC={width:({x:l},{paddingLeft:u="0",paddingRight:p="0"})=>l.max-l.min-parseFloat(u)-parseFloat(p),height:({y:l},{paddingTop:u="0",paddingBottom:p="0"})=>l.max-l.min-parseFloat(u)-parseFloat(p),top:(l,{top:u})=>parseFloat(u),left:(l,{left:u})=>parseFloat(u),bottom:({y:l},{top:u})=>parseFloat(u)+(l.max-l.min),right:({x:l},{left:u})=>parseFloat(u)+(l.max-l.min),x:(l,{transform:u})=>zee(u,"x"),y:(l,{transform:u})=>zee(u,"y")};PC.translateX=PC.x;PC.translateY=PC.y;const _T=new Set;let jee=!1,Vee=!1,Uee=!1;function bce(){if(Vee){const l=Array.from(_T).filter(x=>x.needsMeasurement),u=new Set(l.map(x=>x.element)),p=new Map;u.forEach(x=>{const A=X0e(x);A.length&&(p.set(x,A),x.render())}),l.forEach(x=>x.measureInitialState()),u.forEach(x=>{x.render();const A=p.get(x);A&&A.forEach(([R,O])=>{x.getValue(R)?.set(O)})}),l.forEach(x=>x.measureEndState()),l.forEach(x=>{x.suspendedScrollY!==void 0&&window.scrollTo(0,x.suspendedScrollY)})}Vee=!1,jee=!1,_T.forEach(l=>l.complete(Uee)),_T.clear()}function yce(){_T.forEach(l=>{l.readKeyframes(),l.needsMeasurement&&(Vee=!0)})}function Q0e(){Uee=!0,yce(),bce(),Uee=!1}class Gte{constructor(u,p,x,A,R,O=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...u],this.onComplete=p,this.name=x,this.motionValue=A,this.element=R,this.isAsync=O}scheduleResolve(){this.state="scheduled",this.isAsync?(_T.add(this),jee||(jee=!0,Dc.read(yce),Dc.resolveKeyframes(bce))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:u,name:p,element:x,motionValue:A}=this;if(u[0]===null){const R=A?.get(),O=u[u.length-1];if(R!==void 0)u[0]=R;else if(x&&p){const I=x.readValue(p,O);I!=null&&(u[0]=I)}u[0]===void 0&&(u[0]=O),A&&R===void 0&&A.set(u[0])}U0e(u)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(u=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,u),_T.delete(this)}cancel(){this.state==="scheduled"&&(_T.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const J0e=l=>l.startsWith("--");function e1e(l,u,p){J0e(u)?l.style.setProperty(u,p):l.style[u]=p}const t1e=Pte(()=>window.ScrollTimeline!==void 0),n1e={};function o1e(l,u){const p=Pte(l);return()=>n1e[u]??p()}const vce=o1e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),GM=([l,u,p,x])=>`cubic-bezier(${l}, ${u}, ${p}, ${x})`,bse={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:GM([0,.65,.55,1]),circOut:GM([.55,0,1,.45]),backIn:GM([.31,.01,.66,-.59]),backOut:GM([.33,1.53,.69,.99])};function xce(l,u){if(l)return typeof l=="function"?vce()?hce(l,u):"ease-out":oce(l)?GM(l):Array.isArray(l)?l.map(p=>xce(p,u)||bse.easeOut):bse[l]}function s1e(l,u,p,{delay:x=0,duration:A=300,repeat:R=0,repeatType:O="loop",ease:I="easeOut",times:U}={},V=void 0){const Y={[u]:p};U&&(Y.offset=U);const ee=xce(I,A);Array.isArray(ee)&&(Y.easing=ee);const ue={delay:x,duration:A,easing:Array.isArray(ee)?"linear":ee,fill:"both",iterations:R+1,direction:O==="reverse"?"alternate":"normal"};return V&&(ue.pseudoElement=V),l.animate(Y,ue)}function wce(l){return typeof l=="function"&&"applyToOptions"in l}function r1e({type:l,...u}){return wce(l)&&vce()?l.applyToOptions(u):(u.duration??(u.duration=300),u.ease??(u.ease="easeOut"),u)}class a1e extends Wte{constructor(u){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!u)return;const{element:p,name:x,keyframes:A,pseudoElement:R,allowFlatten:O=!1,finalKeyframe:I,onComplete:U}=u;this.isPseudoElement=!!R,this.allowFlatten=O,this.options=u,Lte(typeof u.type!="string");const V=r1e(u);this.animation=s1e(p,x,A,V,R),V.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!R){const Y=Zte(A,this.options,I,this.speed);this.updateMotionValue?this.updateMotionValue(Y):e1e(p,x,Y),this.animation.cancel()}U?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:u}=this;u==="idle"||u==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const u=this.animation.effect?.getComputedTiming?.().duration||0;return $1(Number(u))}get iterationDuration(){const{delay:u=0}=this.options||{};return this.duration+$1(u)}get time(){return $1(Number(this.animation.currentTime)||0)}set time(u){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=x2(u)}get speed(){return this.animation.playbackRate}set speed(u){u<0&&(this.finishedTime=null),this.animation.playbackRate=u}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(u){this.manualStartTime=this.animation.startTime=u}attachTimeline({timeline:u,observe:p}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,u&&t1e()?(this.animation.timeline=u,I1):p(this)}}const Cce={anticipate:Jle,backInOut:Qle,circInOut:tce};function i1e(l){return l in Cce}function l1e(l){typeof l.ease=="string"&&i1e(l.ease)&&(l.ease=Cce[l.ease])}const iee=10;class c1e extends a1e{constructor(u){l1e(u),pce(u),super(u),u.startTime!==void 0&&(this.startTime=u.startTime),this.options=u}updateMotionValue(u){const{motionValue:p,onUpdate:x,onComplete:A,element:R,...O}=this.options;if(!p)return;if(u!==void 0){p.set(u);return}const I=new qte({...O,autoplay:!1}),U=Math.max(iee,mg.now()-this.startTime),V=Nv(0,iee,U-iee);p.setWithVelocity(I.sample(Math.max(0,U-V)).value,I.sample(U).value,V),I.stop()}}const yse=(l,u)=>u==="zIndex"?!1:!!(typeof l=="number"||Array.isArray(l)||typeof l=="string"&&($C.test(l)||l==="0")&&!l.startsWith("url("));function u1e(l){const u=l[0];if(l.length===1)return!0;for(let p=0;p<l.length;p++)if(l[p]!==u)return!0}function d1e(l,u,p,x){const A=l[0];if(A===null)return!1;if(u==="display"||u==="visibility")return!0;const R=l[l.length-1],O=yse(A,u),I=yse(R,u);return!O||!I?!1:u1e(l)||(p==="spring"||wce(p))&&x}function Zee(l){l.duration=0,l.type="keyframes"}const f1e=new Set(["opacity","clipPath","filter","transform"]),m1e=Pte(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function h1e(l){const{motionValue:u,name:p,repeatDelay:x,repeatType:A,damping:R,type:O}=l;if(!(u?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:U,transformTemplate:V}=u.owner.getProps();return m1e()&&p&&f1e.has(p)&&(p!=="transform"||!V)&&!U&&!x&&A!=="mirror"&&R!==0&&O!=="inertia"}const g1e=40;class p1e extends Wte{constructor({autoplay:u=!0,delay:p=0,type:x="keyframes",repeat:A=0,repeatDelay:R=0,repeatType:O="loop",keyframes:I,name:U,motionValue:V,element:Y,...ee}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=mg.now();const ue={autoplay:u,delay:p,type:x,repeat:A,repeatDelay:R,repeatType:O,name:U,motionValue:V,element:Y,...ee},Ce=Y?.KeyframeResolver||Gte;this.keyframeResolver=new Ce(I,(pe,Fe,be)=>this.onKeyframesResolved(pe,Fe,ue,!be),U,V,Y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(u,p,x,A){this.keyframeResolver=void 0;const{name:R,type:O,velocity:I,delay:U,isHandoff:V,onUpdate:Y}=x;this.resolvedAt=mg.now(),d1e(u,R,O,I)||((C2.instantAnimations||!U)&&Y?.(Zte(u,x,p)),u[0]=u[u.length-1],Zee(x),x.repeat=0);const ue={startTime:A?this.resolvedAt?this.resolvedAt-this.createdAt>g1e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:p,...x,keyframes:u},Ce=!V&&h1e(ue)?new c1e({...ue,element:ue.motionValue.owner.current}):new qte(ue);Ce.finished.then(()=>this.notifyFinished()).catch(I1),this.pendingTimeline&&(this.stopTimeline=Ce.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=Ce}get finished(){return this._animation?this.animation.finished:this._finished}then(u,p){return this.finished.finally(u).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Q0e()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(u){this.animation.time=u}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(u){this.animation.speed=u}get startTime(){return this.animation.startTime}attachTimeline(u){return this._animation?this.stopTimeline=this.animation.attachTimeline(u):this.pendingTimeline=u,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const b1e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function y1e(l){const u=b1e.exec(l);if(!u)return[,];const[,p,x,A]=u;return[`--${p??x}`,A]}function Sce(l,u,p=1){const[x,A]=y1e(l);if(!x)return;const R=window.getComputedStyle(u).getPropertyValue(x);if(R){const O=R.trim();return Ule(O)?parseFloat(O):O}return Hte(A)?Sce(A,u,p+1):A}function Kte(l,u){return l?.[u]??l?.default??l}const v1e={type:"spring",stiffness:500,damping:25,restSpeed:10},x1e=l=>({type:"spring",stiffness:550,damping:l===0?2*Math.sqrt(550):30,restSpeed:10}),w1e={type:"keyframes",duration:.8},C1e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},S1e=(l,{keyframes:u})=>u.length>2?w1e:cD.has(l)?l.startsWith("scale")?x1e(u[1]):v1e:C1e;function E1e({when:l,delay:u,delayChildren:p,staggerChildren:x,staggerDirection:A,repeat:R,repeatType:O,repeatDelay:I,from:U,elapsed:V,...Y}){return!!Object.keys(Y).length}const T1e=l=>l!==null;function A1e(l,{repeat:u,repeatType:p="loop"},x){const A=l.filter(T1e),R=u&&p!=="loop"&&u%2===1?0:A.length-1;return A[R]}function Ece(l,u,p,x=0,A=1){const R=Array.from(l).sort((V,Y)=>V.sortNodePosition(Y)).indexOf(u),O=l.size,I=(O-1)*x;return typeof p=="function"?p(R,O):A===1?R*x:I-R*x}const Yte=(l,u,p,x={},A,R)=>O=>{const I=Kte(x,l)||{},U=I.delay||x.delay||0;let{elapsed:V=0}=x;V=V-x2(U);const Y={keyframes:Array.isArray(p)?p:[null,p],ease:"easeOut",velocity:u.getVelocity(),...I,delay:-V,onUpdate:ue=>{u.set(ue),I.onUpdate&&I.onUpdate(ue)},onComplete:()=>{O(),I.onComplete&&I.onComplete()},name:l,motionValue:u,element:R?void 0:A};E1e(I)||Object.assign(Y,S1e(l,Y)),Y.duration&&(Y.duration=x2(Y.duration)),Y.repeatDelay&&(Y.repeatDelay=x2(Y.repeatDelay)),Y.from!==void 0&&(Y.keyframes[0]=Y.from);let ee=!1;if((Y.type===!1||Y.duration===0&&!Y.repeatDelay)&&(Zee(Y),Y.delay===0&&(ee=!0)),(C2.instantAnimations||C2.skipAnimations)&&(ee=!0,Zee(Y),Y.delay=0),Y.allowFlatten=!I.type&&!I.ease,ee&&!R&&u.get()!==void 0){const ue=A1e(Y.keyframes,I);if(ue!==void 0){Dc.update(()=>{Y.onUpdate(ue),Y.onComplete()});return}}return I.isSync?new qte(Y):new p1e(Y)},Tce=new Set(["width","height","top","left","right","bottom",...lD]),vse=30,k1e=l=>!isNaN(parseFloat(l));class D1e{constructor(u,p={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=x=>{const A=mg.now();if(this.updatedAt!==A&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(x),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const R of this.dependents)R.dirty()},this.hasAnimated=!1,this.setCurrent(u),this.owner=p.owner}setCurrent(u){this.current=u,this.updatedAt=mg.now(),this.canTrackVelocity===null&&u!==void 0&&(this.canTrackVelocity=k1e(this.current))}setPrevFrameValue(u=this.current){this.prevFrameValue=u,this.prevUpdatedAt=this.updatedAt}onChange(u){return this.on("change",u)}on(u,p){this.events[u]||(this.events[u]=new Fte);const x=this.events[u].add(p);return u==="change"?()=>{x(),Dc.read(()=>{this.events.change.getSize()||this.stop()})}:x}clearListeners(){for(const u in this.events)this.events[u].clear()}attach(u,p){this.passiveEffect=u,this.stopPassiveEffect=p}set(u){this.passiveEffect?this.passiveEffect(u,this.updateAndNotify):this.updateAndNotify(u)}setWithVelocity(u,p,x){this.set(p),this.prev=void 0,this.prevFrameValue=u,this.prevUpdatedAt=this.updatedAt-x}jump(u,p=!0){this.updateAndNotify(u),this.prev=u,this.prevUpdatedAt=this.prevFrameValue=void 0,p&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(u){this.dependents||(this.dependents=new Set),this.dependents.add(u)}removeDependent(u){this.dependents&&this.dependents.delete(u)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const u=mg.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||u-this.updatedAt>vse)return 0;const p=Math.min(this.updatedAt-this.prevUpdatedAt,vse);return qle(parseFloat(this.current)-parseFloat(this.prevFrameValue),p)}start(u){return this.stop(),new Promise(p=>{this.hasAnimated=!0,this.animation=u(p),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function X3(l,u){return new D1e(l,u)}function xse(l){const u=[{},{}];return l?.values.forEach((p,x)=>{u[0][x]=p.get(),u[1][x]=p.getVelocity()}),u}function Xte(l,u,p,x){if(typeof u=="function"){const[A,R]=xse(x);u=u(p!==void 0?p:l.custom,A,R)}if(typeof u=="string"&&(u=l.variants&&l.variants[u]),typeof u=="function"){const[A,R]=xse(x);u=u(p!==void 0?p:l.custom,A,R)}return u}function q3(l,u,p){const x=l.getProps();return Xte(x,u,p!==void 0?p:x.custom,l)}const Wee=l=>Array.isArray(l);function _1e(l,u,p){l.hasValue(u)?l.getValue(u).set(p):l.addValue(u,X3(p))}function O1e(l){return Wee(l)?l[l.length-1]||0:l}function N1e(l,u){const p=q3(l,u);let{transitionEnd:x={},transition:A={},...R}=p||{};R={...R,...x};for(const O in R){const I=O1e(R[O]);_1e(l,O,I)}}const bh=l=>!!(l&&l.getVelocity);function R1e(l){return!!(bh(l)&&l.add)}function qee(l,u){const p=l.getValue("willChange");if(R1e(p))return p.add(u);if(!p&&C2.WillChange){const x=new C2.WillChange("auto");l.addValue("willChange",x),x.add(u)}}function Qte(l){return l.replace(/([A-Z])/g,u=>`-${u.toLowerCase()}`)}const M1e="framerAppearId",Ace="data-"+Qte(M1e);function kce(l){return l.props[Ace]}function B1e({protectedKeys:l,needsAnimating:u},p){const x=l.hasOwnProperty(p)&&u[p]!==!0;return u[p]=!1,x}function Dce(l,u,{delay:p=0,transitionOverride:x,type:A}={}){let{transition:R=l.getDefaultTransition(),transitionEnd:O,...I}=u;x&&(R=x);const U=[],V=A&&l.animationState&&l.animationState.getState()[A];for(const Y in I){const ee=l.getValue(Y,l.latestValues[Y]??null),ue=I[Y];if(ue===void 0||V&&B1e(V,Y))continue;const Ce={delay:p,...Kte(R||{},Y)},pe=ee.get();if(pe!==void 0&&!ee.isAnimating&&!Array.isArray(ue)&&ue===pe&&!Ce.velocity)continue;let Fe=!1;if(window.MotionHandoffAnimation){const lt=kce(l);if(lt){const Oe=window.MotionHandoffAnimation(lt,Y,Dc);Oe!==null&&(Ce.startTime=Oe,Fe=!0)}}qee(l,Y),ee.start(Yte(Y,ee,ue,l.shouldReduceMotion&&Tce.has(Y)?{type:!1}:Ce,l,Fe));const be=ee.animation;be&&U.push(be)}return O&&Promise.all(U).then(()=>{Dc.update(()=>{O&&N1e(l,O)})}),U}function Gee(l,u,p={}){const x=q3(l,u,p.type==="exit"?l.presenceContext?.custom:void 0);let{transition:A=l.getDefaultTransition()||{}}=x||{};p.transitionOverride&&(A=p.transitionOverride);const R=x?()=>Promise.all(Dce(l,x,p)):()=>Promise.resolve(),O=l.variantChildren&&l.variantChildren.size?(U=0)=>{const{delayChildren:V=0,staggerChildren:Y,staggerDirection:ee}=A;return L1e(l,u,U,V,Y,ee,p)}:()=>Promise.resolve(),{when:I}=A;if(I){const[U,V]=I==="beforeChildren"?[R,O]:[O,R];return U().then(()=>V())}else return Promise.all([R(),O(p.delay)])}function L1e(l,u,p=0,x=0,A=0,R=1,O){const I=[];for(const U of l.variantChildren)U.notify("AnimationStart",u),I.push(Gee(U,u,{...O,delay:p+(typeof x=="function"?0:x)+Ece(l.variantChildren,U,x,A,R)}).then(()=>U.notify("AnimationComplete",u)));return Promise.all(I)}function P1e(l,u,p={}){l.notify("AnimationStart",u);let x;if(Array.isArray(u)){const A=u.map(R=>Gee(l,R,p));x=Promise.all(A)}else if(typeof u=="string")x=Gee(l,u,p);else{const A=typeof u=="function"?q3(l,u,p.custom):u;x=Promise.all(Dce(l,A,p))}return x.then(()=>{l.notify("AnimationComplete",u)})}const F1e={test:l=>l==="auto",parse:l=>l},_ce=l=>u=>u.test(l),Oce=[iD,is,_v,RC,u0e,c0e,F1e],wse=l=>Oce.find(_ce(l));function $1e(l){return typeof l=="number"?l===0:l!==null?l==="none"||l==="0"||Wle(l):!0}const I1e=new Set(["brightness","contrast","saturate","opacity"]);function H1e(l){const[u,p]=l.slice(0,-1).split("(");if(u==="drop-shadow")return l;const[x]=p.match(zte)||[];if(!x)return l;const A=p.replace(x,"");let R=I1e.has(u)?1:0;return x!==p&&(R*=100),u+"("+R+A+")"}const z1e=/\b([a-z-]*)\(.*?\)/gu,Kee={...$C,getAnimatableNone:l=>{const u=l.match(z1e);return u?u.map(H1e).join(" "):l}},Cse={...iD,transform:Math.round},j1e={rotate:RC,rotateX:RC,rotateY:RC,rotateZ:RC,scale:LH,scaleX:LH,scaleY:LH,scaleZ:LH,skew:RC,skewX:RC,skewY:RC,distance:is,translateX:is,translateY:is,translateZ:is,x:is,y:is,z:is,perspective:is,transformPerspective:is,opacity:nB,originX:lse,originY:lse,originZ:is},Jte={borderWidth:is,borderTopWidth:is,borderRightWidth:is,borderBottomWidth:is,borderLeftWidth:is,borderRadius:is,radius:is,borderTopLeftRadius:is,borderTopRightRadius:is,borderBottomRightRadius:is,borderBottomLeftRadius:is,width:is,maxWidth:is,height:is,maxHeight:is,top:is,right:is,bottom:is,left:is,inset:is,insetBlock:is,insetBlockStart:is,insetBlockEnd:is,insetInline:is,insetInlineStart:is,insetInlineEnd:is,padding:is,paddingTop:is,paddingRight:is,paddingBottom:is,paddingLeft:is,paddingBlock:is,paddingBlockStart:is,paddingBlockEnd:is,paddingInline:is,paddingInlineStart:is,paddingInlineEnd:is,margin:is,marginTop:is,marginRight:is,marginBottom:is,marginLeft:is,marginBlock:is,marginBlockStart:is,marginBlockEnd:is,marginInline:is,marginInlineStart:is,marginInlineEnd:is,backgroundPositionX:is,backgroundPositionY:is,...j1e,zIndex:Cse,fillOpacity:nB,strokeOpacity:nB,numOctaves:Cse},V1e={...Jte,color:Gd,backgroundColor:Gd,outlineColor:Gd,fill:Gd,stroke:Gd,borderColor:Gd,borderTopColor:Gd,borderRightColor:Gd,borderBottomColor:Gd,borderLeftColor:Gd,filter:Kee,WebkitFilter:Kee},Nce=l=>V1e[l];function Rce(l,u){let p=Nce(l);return p!==Kee&&(p=$C),p.getAnimatableNone?p.getAnimatableNone(u):void 0}const U1e=new Set(["auto","none","0"]);function Z1e(l,u,p){let x=0,A;for(;x<l.length&&!A;){const R=l[x];typeof R=="string"&&!U1e.has(R)&&oB(R).values.length&&(A=l[x]),x++}if(A&&p)for(const R of u)l[R]=Rce(p,A)}class W1e extends Gte{constructor(u,p,x,A,R){super(u,p,x,A,R,!0)}readKeyframes(){const{unresolvedKeyframes:u,element:p,name:x}=this;if(!p||!p.current)return;super.readKeyframes();for(let Y=0;Y<u.length;Y++){let ee=u[Y];if(typeof ee=="string"&&(ee=ee.trim(),Hte(ee))){const ue=Sce(ee,p.current);ue!==void 0&&(u[Y]=ue),Y===u.length-1&&(this.finalKeyframe=ee)}}if(this.resolveNoneKeyframes(),!Tce.has(x)||u.length!==2)return;const[A,R]=u,O=wse(A),I=wse(R),U=ise(A),V=ise(R);if(U!==V&&PC[x]){this.needsMeasurement=!0;return}if(O!==I)if(pse(O)&&pse(I))for(let Y=0;Y<u.length;Y++){const ee=u[Y];typeof ee=="string"&&(u[Y]=parseFloat(ee))}else PC[x]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:u,name:p}=this,x=[];for(let A=0;A<u.length;A++)(u[A]===null||$1e(u[A]))&&x.push(A);x.length&&Z1e(u,x,p)}measureInitialState(){const{element:u,unresolvedKeyframes:p,name:x}=this;if(!u||!u.current)return;x==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=PC[x](u.measureViewportBox(),window.getComputedStyle(u.current)),p[0]=this.measuredOrigin;const A=p[p.length-1];A!==void 0&&u.getValue(x,A).jump(A,!1)}measureEndState(){const{element:u,name:p,unresolvedKeyframes:x}=this;if(!u||!u.current)return;const A=u.getValue(p);A&&A.jump(this.measuredOrigin,!1);const R=x.length-1,O=x[R];x[R]=PC[p](u.measureViewportBox(),window.getComputedStyle(u.current)),O!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=O),this.removedTransforms?.length&&this.removedTransforms.forEach(([I,U])=>{u.getValue(I).set(U)}),this.resolveNoneKeyframes()}}function q1e(l,u,p){if(l instanceof EventTarget)return[l];if(typeof l=="string"){let x=document;const A=p?.[l]??x.querySelectorAll(l);return A?Array.from(A):[]}return Array.from(l)}const Mce=(l,u)=>u&&typeof l=="number"?u.transform(l):l;function Bce(l){return Zle(l)&&"offsetHeight"in l}const{schedule:ene}=sce(queueMicrotask,!1),cy={x:!1,y:!1};function Lce(){return cy.x||cy.y}function G1e(l){return l==="x"||l==="y"?cy[l]?null:(cy[l]=!0,()=>{cy[l]=!1}):cy.x||cy.y?null:(cy.x=cy.y=!0,()=>{cy.x=cy.y=!1})}function Pce(l,u){const p=q1e(l),x=new AbortController,A={passive:!0,...u,signal:x.signal};return[p,A,()=>x.abort()]}function Sse(l){return!(l.pointerType==="touch"||Lce())}function K1e(l,u,p={}){const[x,A,R]=Pce(l,p),O=I=>{if(!Sse(I))return;const{target:U}=I,V=u(U,I);if(typeof V!="function"||!U)return;const Y=ee=>{Sse(ee)&&(V(ee),U.removeEventListener("pointerleave",Y))};U.addEventListener("pointerleave",Y,A)};return x.forEach(I=>{I.addEventListener("pointerenter",O,A)}),R}const Fce=(l,u)=>u?l===u?!0:Fce(l,u.parentElement):!1,tne=l=>l.pointerType==="mouse"?typeof l.button!="number"||l.button<=0:l.isPrimary!==!1,Y1e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $ce(l){return Y1e.has(l.tagName)||l.isContentEditable===!0}const UH=new WeakSet;function Ese(l){return u=>{u.key==="Enter"&&l(u)}}function lee(l,u){l.dispatchEvent(new PointerEvent("pointer"+u,{isPrimary:!0,bubbles:!0}))}const X1e=(l,u)=>{const p=l.currentTarget;if(!p)return;const x=Ese(()=>{if(UH.has(p))return;lee(p,"down");const A=Ese(()=>{lee(p,"up")}),R=()=>lee(p,"cancel");p.addEventListener("keyup",A,u),p.addEventListener("blur",R,u)});p.addEventListener("keydown",x,u),p.addEventListener("blur",()=>p.removeEventListener("keydown",x),u)};function Tse(l){return tne(l)&&!Lce()}function Q1e(l,u,p={}){const[x,A,R]=Pce(l,p),O=I=>{const U=I.currentTarget;if(!Tse(I))return;UH.add(U);const V=u(U,I),Y=(Ce,pe)=>{window.removeEventListener("pointerup",ee),window.removeEventListener("pointercancel",ue),UH.has(U)&&UH.delete(U),Tse(Ce)&&typeof V=="function"&&V(Ce,{success:pe})},ee=Ce=>{Y(Ce,U===window||U===document||p.useGlobalTarget||Fce(U,Ce.target))},ue=Ce=>{Y(Ce,!1)};window.addEventListener("pointerup",ee,A),window.addEventListener("pointercancel",ue,A)};return x.forEach(I=>{(p.useGlobalTarget?window:I).addEventListener("pointerdown",O,A),Bce(I)&&(I.addEventListener("focus",V=>X1e(V,A)),!$ce(I)&&!I.hasAttribute("tabindex")&&(I.tabIndex=0))}),R}function Ice(l){return Zle(l)&&"ownerSVGElement"in l}function J1e(l){return Ice(l)&&l.tagName==="svg"}const ebe=[...Oce,Gd,$C],tbe=l=>ebe.find(_ce(l)),Ase=()=>({translate:0,scale:1,origin:0,originPoint:0}),j3=()=>({x:Ase(),y:Ase()}),kse=()=>({min:0,max:0}),Cf=()=>({x:kse(),y:kse()}),Yee={current:null},Hce={current:!1},nbe=typeof window<"u";function obe(){if(Hce.current=!0,!!nbe)if(window.matchMedia){const l=window.matchMedia("(prefers-reduced-motion)"),u=()=>Yee.current=l.matches;l.addEventListener("change",u),u()}else Yee.current=!1}const sbe=new WeakMap;function Tz(l){return l!==null&&typeof l=="object"&&typeof l.start=="function"}function sB(l){return typeof l=="string"||Array.isArray(l)}const nne=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],one=["initial",...nne];function Az(l){return Tz(l.animate)||one.some(u=>sB(l[u]))}function zce(l){return!!(Az(l)||l.variants)}function rbe(l,u,p){for(const x in u){const A=u[x],R=p[x];if(bh(A))l.addValue(x,A);else if(bh(R))l.addValue(x,X3(A,{owner:l}));else if(R!==A)if(l.hasValue(x)){const O=l.getValue(x);O.liveStyle===!0?O.jump(A):O.hasAnimated||O.set(A)}else{const O=l.getStaticValue(x);l.addValue(x,X3(O!==void 0?O:A,{owner:l}))}}for(const x in p)u[x]===void 0&&l.removeValue(x);return u}const Dse=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let iz={};function jce(l){iz=l}function abe(){return iz}class ibe{scrapeMotionValuesFromProps(u,p,x){return{}}constructor({parent:u,props:p,presenceContext:x,reducedMotionConfig:A,blockInitialAnimation:R,visualState:O},I={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Gte,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const ue=mg.now();this.renderScheduledAt<ue&&(this.renderScheduledAt=ue,Dc.render(this.render,!1,!0))};const{latestValues:U,renderState:V}=O;this.latestValues=U,this.baseTarget={...U},this.initialValues=p.initial?{...U}:{},this.renderState=V,this.parent=u,this.props=p,this.presenceContext=x,this.depth=u?u.depth+1:0,this.reducedMotionConfig=A,this.options=I,this.blockInitialAnimation=!!R,this.isControllingVariants=Az(p),this.isVariantNode=zce(p),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(u&&u.current);const{willChange:Y,...ee}=this.scrapeMotionValuesFromProps(p,{},this);for(const ue in ee){const Ce=ee[ue];U[ue]!==void 0&&bh(Ce)&&Ce.set(U[ue])}}mount(u){this.current=u,sbe.set(u,this),this.projection&&!this.projection.instance&&this.projection.mount(u),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((p,x)=>this.bindToMotionValue(x,p)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Hce.current||obe(),this.shouldReduceMotion=Yee.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),FC(this.notifyUpdate),FC(this.render),this.valueSubscriptions.forEach(u=>u()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const u in this.events)this.events[u].clear();for(const u in this.features){const p=this.features[u];p&&(p.unmount(),p.isMounted=!1)}this.current=null}addChild(u){this.children.add(u),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(u)}removeChild(u){this.children.delete(u),this.enteringChildren&&this.enteringChildren.delete(u)}bindToMotionValue(u,p){this.valueSubscriptions.has(u)&&this.valueSubscriptions.get(u)();const x=cD.has(u);x&&this.onBindTransform&&this.onBindTransform();const A=p.on("change",O=>{this.latestValues[u]=O,this.props.onUpdate&&Dc.preRender(this.notifyUpdate),x&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let R;typeof window<"u"&&window.MotionCheckAppearSync&&(R=window.MotionCheckAppearSync(this,u,p)),this.valueSubscriptions.set(u,()=>{A(),R&&R(),p.owner&&p.stop()})}sortNodePosition(u){return!this.current||!this.sortInstanceNodePosition||this.type!==u.type?0:this.sortInstanceNodePosition(this.current,u.current)}updateFeatures(){let u="animation";for(u in iz){const p=iz[u];if(!p)continue;const{isEnabled:x,Feature:A}=p;if(!this.features[u]&&A&&x(this.props)&&(this.features[u]=new A(this)),this.features[u]){const R=this.features[u];R.isMounted?R.update():(R.mount(),R.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Cf()}getStaticValue(u){return this.latestValues[u]}setStaticValue(u,p){this.latestValues[u]=p}update(u,p){(u.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=u,this.prevPresenceContext=this.presenceContext,this.presenceContext=p;for(let x=0;x<Dse.length;x++){const A=Dse[x];this.propEventSubscriptions[A]&&(this.propEventSubscriptions[A](),delete this.propEventSubscriptions[A]);const R="on"+A,O=u[R];O&&(this.propEventSubscriptions[A]=this.on(A,O))}this.prevMotionValues=rbe(this,this.scrapeMotionValuesFromProps(u,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(u){return this.props.variants?this.props.variants[u]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(u){const p=this.getClosestVariantNode();if(p)return p.variantChildren&&p.variantChildren.add(u),()=>p.variantChildren.delete(u)}addValue(u,p){const x=this.values.get(u);p!==x&&(x&&this.removeValue(u),this.bindToMotionValue(u,p),this.values.set(u,p),this.latestValues[u]=p.get())}removeValue(u){this.values.delete(u);const p=this.valueSubscriptions.get(u);p&&(p(),this.valueSubscriptions.delete(u)),delete this.latestValues[u],this.removeValueFromRenderState(u,this.renderState)}hasValue(u){return this.values.has(u)}getValue(u,p){if(this.props.values&&this.props.values[u])return this.props.values[u];let x=this.values.get(u);return x===void 0&&p!==void 0&&(x=X3(p===null?void 0:p,{owner:this}),this.addValue(u,x)),x}readValue(u,p){let x=this.latestValues[u]!==void 0||!this.current?this.latestValues[u]:this.getBaseTargetFromProps(this.props,u)??this.readValueFromInstance(this.current,u,this.options);return x!=null&&(typeof x=="string"&&(Ule(x)||Wle(x))?x=parseFloat(x):!tbe(x)&&$C.test(p)&&(x=Rce(u,p)),this.setBaseTarget(u,bh(x)?x.get():x)),bh(x)?x.get():x}setBaseTarget(u,p){this.baseTarget[u]=p}getBaseTarget(u){const{initial:p}=this.props;let x;if(typeof p=="string"||typeof p=="object"){const R=Xte(this.props,p,this.presenceContext?.custom);R&&(x=R[u])}if(p&&x!==void 0)return x;const A=this.getBaseTargetFromProps(this.props,u);return A!==void 0&&!bh(A)?A:this.initialValues[u]!==void 0&&x===void 0?void 0:this.baseTarget[u]}on(u,p){return this.events[u]||(this.events[u]=new Fte),this.events[u].add(p)}notify(u,...p){this.events[u]&&this.events[u].notify(...p)}scheduleRenderMicrotask(){ene.render(this.render)}}class IC{constructor(u){this.isMounted=!1,this.node=u}update(){}}class Vce extends ibe{constructor(){super(...arguments),this.KeyframeResolver=W1e}sortInstanceNodePosition(u,p){return u.compareDocumentPosition(p)&2?1:-1}getBaseTargetFromProps(u,p){const x=u.style;return x?x[p]:void 0}removeValueFromRenderState(u,{vars:p,style:x}){delete p[u],delete x[u]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:u}=this.props;bh(u)&&(this.childSubscription=u.on("change",p=>{this.current&&(this.current.textContent=`${p}`)}))}}function Uce({top:l,left:u,right:p,bottom:x}){return{x:{min:u,max:p},y:{min:l,max:x}}}function lbe({x:l,y:u}){return{top:u.min,right:l.max,bottom:u.max,left:l.min}}function cbe(l,u){if(!u)return l;const p=u({x:l.left,y:l.top}),x=u({x:l.right,y:l.bottom});return{top:p.y,left:p.x,bottom:x.y,right:x.x}}function cee(l){return l===void 0||l===1}function Xee({scale:l,scaleX:u,scaleY:p}){return!cee(l)||!cee(u)||!cee(p)}function ST(l){return Xee(l)||Zce(l)||l.z||l.rotate||l.rotateX||l.rotateY||l.skewX||l.skewY}function Zce(l){return _se(l.x)||_se(l.y)}function _se(l){return l&&l!=="0%"}function lz(l,u,p){const x=l-p,A=u*x;return p+A}function Ose(l,u,p,x,A){return A!==void 0&&(l=lz(l,A,x)),lz(l,p,x)+u}function Qee(l,u=0,p=1,x,A){l.min=Ose(l.min,u,p,x,A),l.max=Ose(l.max,u,p,x,A)}function Wce(l,{x:u,y:p}){Qee(l.x,u.translate,u.scale,u.originPoint),Qee(l.y,p.translate,p.scale,p.originPoint)}const Nse=.999999999999,Rse=1.0000000000001;function ube(l,u,p,x=!1){const A=p.length;if(!A)return;u.x=u.y=1;let R,O;for(let I=0;I<A;I++){R=p[I],O=R.projectionDelta;const{visualElement:U}=R.options;U&&U.props.style&&U.props.style.display==="contents"||(x&&R.options.layoutScroll&&R.scroll&&R!==R.root&&U3(l,{x:-R.scroll.offset.x,y:-R.scroll.offset.y}),O&&(u.x*=O.x.scale,u.y*=O.y.scale,Wce(l,O)),x&&ST(R.latestValues)&&U3(l,R.latestValues))}u.x<Rse&&u.x>Nse&&(u.x=1),u.y<Rse&&u.y>Nse&&(u.y=1)}function V3(l,u){l.min=l.min+u,l.max=l.max+u}function Mse(l,u,p,x,A=.5){const R=wu(l.min,l.max,A);Qee(l,u,p,R,x)}function U3(l,u){Mse(l.x,u.x,u.scaleX,u.scale,u.originX),Mse(l.y,u.y,u.scaleY,u.scale,u.originY)}function qce(l,u){return Uce(cbe(l.getBoundingClientRect(),u))}function dbe(l,u,p){const x=qce(l,p),{scroll:A}=u;return A&&(V3(x.x,A.offset.x),V3(x.y,A.offset.y)),x}const fbe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mbe=lD.length;function hbe(l,u,p){let x="",A=!0;for(let R=0;R<mbe;R++){const O=lD[R],I=l[O];if(I===void 0)continue;let U=!0;if(typeof I=="number"?U=I===(O.startsWith("scale")?1:0):U=parseFloat(I)===0,!U||p){const V=Mce(I,Jte[O]);if(!U){A=!1;const Y=fbe[O]||O;x+=`${Y}(${V}) `}p&&(u[O]=V)}}return x=x.trim(),p?x=p(u,A?"":x):A&&(x="none"),x}function sne(l,u,p){const{style:x,vars:A,transformOrigin:R}=l;let O=!1,I=!1;for(const U in u){const V=u[U];if(cD.has(U)){O=!0;continue}else if(ace(U)){A[U]=V;continue}else{const Y=Mce(V,Jte[U]);U.startsWith("origin")?(I=!0,R[U]=Y):x[U]=Y}}if(u.transform||(O||p?x.transform=hbe(u,l.transform,p):x.transform&&(x.transform="none")),I){const{originX:U="50%",originY:V="50%",originZ:Y=0}=R;x.transformOrigin=`${U} ${V} ${Y}`}}function Gce(l,{style:u,vars:p},x,A){const R=l.style;let O;for(O in u)R[O]=u[O];A?.applyProjectionStyles(R,x);for(O in p)R.setProperty(O,p[O])}function Bse(l,u){return u.max===u.min?0:l/(u.max-u.min)*100}const WM={correct:(l,u)=>{if(!u.target)return l;if(typeof l=="string")if(is.test(l))l=parseFloat(l);else return l;const p=Bse(l,u.target.x),x=Bse(l,u.target.y);return`${p}% ${x}%`}},gbe={correct:(l,{treeScale:u,projectionDelta:p})=>{const x=l,A=$C.parse(l);if(A.length>5)return x;const R=$C.createTransformer(l),O=typeof A[0]!="number"?1:0,I=p.x.scale*u.x,U=p.y.scale*u.y;A[0+O]/=I,A[1+O]/=U;const V=wu(I,U,.5);return typeof A[2+O]=="number"&&(A[2+O]/=V),typeof A[3+O]=="number"&&(A[3+O]/=V),R(A)}},Jee={borderRadius:{...WM,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:WM,borderTopRightRadius:WM,borderBottomLeftRadius:WM,borderBottomRightRadius:WM,boxShadow:gbe};function Kce(l,{layout:u,layoutId:p}){return cD.has(l)||l.startsWith("origin")||(u||p!==void 0)&&(!!Jee[l]||l==="opacity")}function rne(l,u,p){const x=l.style,A=u?.style,R={};if(!x)return R;for(const O in x)(bh(x[O])||A&&bh(A[O])||Kce(O,l)||p?.getValue(O)?.liveStyle!==void 0)&&(R[O]=x[O]);return R}function pbe(l){return window.getComputedStyle(l)}class bbe extends Vce{constructor(){super(...arguments),this.type="html",this.renderInstance=Gce}readValueFromInstance(u,p){if(cD.has(p))return this.projection?.isProjecting?Hee(p):q0e(u,p);{const x=pbe(u),A=(ace(p)?x.getPropertyValue(p):x[p])||0;return typeof A=="string"?A.trim():A}}measureInstanceViewportBox(u,{transformPagePoint:p}){return qce(u,p)}build(u,p,x){sne(u,p,x.transformTemplate)}scrapeMotionValuesFromProps(u,p,x){return rne(u,p,x)}}const ybe={offset:"stroke-dashoffset",array:"stroke-dasharray"},vbe={offset:"strokeDashoffset",array:"strokeDasharray"};function xbe(l,u,p=1,x=0,A=!0){l.pathLength=1;const R=A?ybe:vbe;l[R.offset]=is.transform(-x);const O=is.transform(u),I=is.transform(p);l[R.array]=`${O} ${I}`}const wbe=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Yce(l,{attrX:u,attrY:p,attrScale:x,pathLength:A,pathSpacing:R=1,pathOffset:O=0,...I},U,V,Y){if(sne(l,I,V),U){l.style.viewBox&&(l.attrs.viewBox=l.style.viewBox);return}l.attrs=l.style,l.style={};const{attrs:ee,style:ue}=l;ee.transform&&(ue.transform=ee.transform,delete ee.transform),(ue.transform||ee.transformOrigin)&&(ue.transformOrigin=ee.transformOrigin??"50% 50%",delete ee.transformOrigin),ue.transform&&(ue.transformBox=Y?.transformBox??"fill-box",delete ee.transformBox);for(const Ce of wbe)ee[Ce]!==void 0&&(ue[Ce]=ee[Ce],delete ee[Ce]);u!==void 0&&(ee.x=u),p!==void 0&&(ee.y=p),x!==void 0&&(ee.scale=x),A!==void 0&&xbe(ee,A,R,O,!1)}const Xce=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Qce=l=>typeof l=="string"&&l.toLowerCase()==="svg";function Cbe(l,u,p,x){Gce(l,u,void 0,x);for(const A in u.attrs)l.setAttribute(Xce.has(A)?A:Qte(A),u.attrs[A])}function Jce(l,u,p){const x=rne(l,u,p);for(const A in l)if(bh(l[A])||bh(u[A])){const R=lD.indexOf(A)!==-1?"attr"+A.charAt(0).toUpperCase()+A.substring(1):A;x[R]=l[A]}return x}class Sbe extends Vce{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Cf}getBaseTargetFromProps(u,p){return u[p]}readValueFromInstance(u,p){if(cD.has(p)){const x=Nce(p);return x&&x.default||0}return p=Xce.has(p)?p:Qte(p),u.getAttribute(p)}scrapeMotionValuesFromProps(u,p,x){return Jce(u,p,x)}build(u,p,x){Yce(u,p,this.isSVGTag,x.transformTemplate,x.style)}renderInstance(u,p,x,A){Cbe(u,p,x,A)}mount(u){this.isSVGTag=Qce(u.tagName),super.mount(u)}}const Ebe=one.length;function eue(l){if(!l)return;if(!l.isControllingVariants){const p=l.parent?eue(l.parent)||{}:{};return l.props.initial!==void 0&&(p.initial=l.props.initial),p}const u={};for(let p=0;p<Ebe;p++){const x=one[p],A=l.props[x];(sB(A)||A===!1)&&(u[x]=A)}return u}function tue(l,u){if(!Array.isArray(u))return!1;const p=u.length;if(p!==l.length)return!1;for(let x=0;x<p;x++)if(u[x]!==l[x])return!1;return!0}const Tbe=[...nne].reverse(),Abe=nne.length;function kbe(l){return u=>Promise.all(u.map(({animation:p,options:x})=>P1e(l,p,x)))}function Dbe(l){let u=kbe(l),p=Lse(),x=!0;const A=U=>(V,Y)=>{const ee=q3(l,Y,U==="exit"?l.presenceContext?.custom:void 0);if(ee){const{transition:ue,transitionEnd:Ce,...pe}=ee;V={...V,...pe,...Ce}}return V};function R(U){u=U(l)}function O(U){const{props:V}=l,Y=eue(l.parent)||{},ee=[],ue=new Set;let Ce={},pe=1/0;for(let be=0;be<Abe;be++){const lt=Tbe[be],Oe=p[lt],J=V[lt]!==void 0?V[lt]:Y[lt],it=sB(J),jt=lt===U?Oe.isActive:null;jt===!1&&(pe=be);let Ke=J===Y[lt]&&J!==V[lt]&&it;if(Ke&&x&&l.manuallyAnimateOnMount&&(Ke=!1),Oe.protectedKeys={...Ce},!Oe.isActive&&jt===null||!J&&!Oe.prevProp||Tz(J)||typeof J=="boolean")continue;const ie=_be(Oe.prevProp,J);let ut=ie||lt===U&&Oe.isActive&&!Ke&&it||be>pe&&it,xn=!1;const fn=Array.isArray(J)?J:[J];let qe=fn.reduce(A(lt),{});jt===!1&&(qe={});const{prevResolvedValues:Re={}}=Oe,Qo={...Re,...qe},vt=Vt=>{ut=!0,ue.has(Vt)&&(xn=!0,ue.delete(Vt)),Oe.needsAnimating[Vt]=!0;const at=l.getValue(Vt);at&&(at.liveStyle=!1)};for(const Vt in Qo){const at=qe[Vt],Jn=Re[Vt];if(Ce.hasOwnProperty(Vt))continue;let an=!1;Wee(at)&&Wee(Jn)?an=!tue(at,Jn):an=at!==Jn,an?at!=null?vt(Vt):ue.add(Vt):at!==void 0&&ue.has(Vt)?vt(Vt):Oe.protectedKeys[Vt]=!0}Oe.prevProp=J,Oe.prevResolvedValues=qe,Oe.isActive&&(Ce={...Ce,...qe}),x&&l.blockInitialAnimation&&(ut=!1);const Lt=Ke&&ie;ut&&(!Lt||xn)&&ee.push(...fn.map(Vt=>{const at={type:lt};if(typeof Vt=="string"&&x&&!Lt&&l.manuallyAnimateOnMount&&l.parent){const{parent:Jn}=l,an=q3(Jn,Vt);if(Jn.enteringChildren&&an){const{delayChildren:le}=an.transition||{};at.delay=Ece(Jn.enteringChildren,l,le)}}return{animation:Vt,options:at}}))}if(ue.size){const be={};if(typeof V.initial!="boolean"){const lt=q3(l,Array.isArray(V.initial)?V.initial[0]:V.initial);lt&&lt.transition&&(be.transition=lt.transition)}ue.forEach(lt=>{const Oe=l.getBaseTarget(lt),J=l.getValue(lt);J&&(J.liveStyle=!0),be[lt]=Oe??null}),ee.push({animation:be})}let Fe=!!ee.length;return x&&(V.initial===!1||V.initial===V.animate)&&!l.manuallyAnimateOnMount&&(Fe=!1),x=!1,Fe?u(ee):Promise.resolve()}function I(U,V){if(p[U].isActive===V)return Promise.resolve();l.variantChildren?.forEach(ee=>ee.animationState?.setActive(U,V)),p[U].isActive=V;const Y=O(U);for(const ee in p)p[ee].protectedKeys={};return Y}return{animateChanges:O,setActive:I,setAnimateFunction:R,getState:()=>p,reset:()=>{p=Lse()}}}function _be(l,u){return typeof u=="string"?u!==l:Array.isArray(u)?!tue(u,l):!1}function CT(l=!1){return{isActive:l,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Lse(){return{animate:CT(!0),whileInView:CT(),whileHover:CT(),whileTap:CT(),whileDrag:CT(),whileFocus:CT(),exit:CT()}}const nue=1e-4,Obe=1-nue,Nbe=1+nue,oue=.01,Rbe=0-oue,Mbe=0+oue;function hg(l){return l.max-l.min}function Bbe(l,u,p){return Math.abs(l-u)<=p}function Pse(l,u,p,x=.5){l.origin=x,l.originPoint=wu(u.min,u.max,l.origin),l.scale=hg(p)/hg(u),l.translate=wu(p.min,p.max,l.origin)-l.originPoint,(l.scale>=Obe&&l.scale<=Nbe||isNaN(l.scale))&&(l.scale=1),(l.translate>=Rbe&&l.translate<=Mbe||isNaN(l.translate))&&(l.translate=0)}function QM(l,u,p,x){Pse(l.x,u.x,p.x,x?x.originX:void 0),Pse(l.y,u.y,p.y,x?x.originY:void 0)}function Fse(l,u,p){l.min=p.min+u.min,l.max=l.min+hg(u)}function Lbe(l,u,p){Fse(l.x,u.x,p.x),Fse(l.y,u.y,p.y)}function $se(l,u,p){l.min=u.min-p.min,l.max=l.min+hg(u)}function cz(l,u,p){$se(l.x,u.x,p.x),$se(l.y,u.y,p.y)}function Ise(l,u,p,x,A){return l-=u,l=lz(l,1/p,x),A!==void 0&&(l=lz(l,1/A,x)),l}function Pbe(l,u=0,p=1,x=.5,A,R=l,O=l){if(_v.test(u)&&(u=parseFloat(u),u=wu(O.min,O.max,u/100)-O.min),typeof u!="number")return;let I=wu(R.min,R.max,x);l===R&&(I-=u),l.min=Ise(l.min,u,p,I,A),l.max=Ise(l.max,u,p,I,A)}function Hse(l,u,[p,x,A],R,O){Pbe(l,u[p],u[x],u[A],u.scale,R,O)}const Fbe=["x","scaleX","originX"],$be=["y","scaleY","originY"];function zse(l,u,p,x){Hse(l.x,u,Fbe,p?p.x:void 0,x?x.x:void 0),Hse(l.y,u,$be,p?p.y:void 0,x?x.y:void 0)}function jse(l,u){l.min=u.min,l.max=u.max}function ly(l,u){jse(l.x,u.x),jse(l.y,u.y)}function Vse(l,u){l.translate=u.translate,l.scale=u.scale,l.originPoint=u.originPoint,l.origin=u.origin}function Use(l){return l.translate===0&&l.scale===1}function sue(l){return Use(l.x)&&Use(l.y)}function Zse(l,u){return l.min===u.min&&l.max===u.max}function Ibe(l,u){return Zse(l.x,u.x)&&Zse(l.y,u.y)}function Wse(l,u){return Math.round(l.min)===Math.round(u.min)&&Math.round(l.max)===Math.round(u.max)}function rue(l,u){return Wse(l.x,u.x)&&Wse(l.y,u.y)}function qse(l){return hg(l.x)/hg(l.y)}function Gse(l,u){return l.translate===u.translate&&l.scale===u.scale&&l.originPoint===u.originPoint}function F1(l){return[l("x"),l("y")]}function Hbe(l,u,p){let x="";const A=l.x.translate/u.x,R=l.y.translate/u.y,O=p?.z||0;if((A||R||O)&&(x=`translate3d(${A}px, ${R}px, ${O}px) `),(u.x!==1||u.y!==1)&&(x+=`scale(${1/u.x}, ${1/u.y}) `),p){const{transformPerspective:V,rotate:Y,rotateX:ee,rotateY:ue,skewX:Ce,skewY:pe}=p;V&&(x=`perspective(${V}px) ${x}`),Y&&(x+=`rotate(${Y}deg) `),ee&&(x+=`rotateX(${ee}deg) `),ue&&(x+=`rotateY(${ue}deg) `),Ce&&(x+=`skewX(${Ce}deg) `),pe&&(x+=`skewY(${pe}deg) `)}const I=l.x.scale*u.x,U=l.y.scale*u.y;return(I!==1||U!==1)&&(x+=`scale(${I}, ${U})`),x||"none"}const aue=["TopLeft","TopRight","BottomLeft","BottomRight"],zbe=aue.length,Kse=l=>typeof l=="string"?parseFloat(l):l,Yse=l=>typeof l=="number"||is.test(l);function jbe(l,u,p,x,A,R){A?(l.opacity=wu(0,p.opacity??1,Vbe(x)),l.opacityExit=wu(u.opacity??1,0,Ube(x))):R&&(l.opacity=wu(u.opacity??1,p.opacity??1,x));for(let O=0;O<zbe;O++){const I=`border${aue[O]}Radius`;let U=Xse(u,I),V=Xse(p,I);if(U===void 0&&V===void 0)continue;U||(U=0),V||(V=0),U===0||V===0||Yse(U)===Yse(V)?(l[I]=Math.max(wu(Kse(U),Kse(V),x),0),(_v.test(V)||_v.test(U))&&(l[I]+="%")):l[I]=V}(u.rotate||p.rotate)&&(l.rotate=wu(u.rotate||0,p.rotate||0,x))}function Xse(l,u){return l[u]!==void 0?l[u]:l.borderRadius}const Vbe=iue(0,.5,ece),Ube=iue(.5,.95,I1);function iue(l,u,p){return x=>x<l?0:x>u?1:p(tB(l,u,x))}function Zbe(l,u){const p=mg.now(),x=({timestamp:A})=>{const R=A-p;R>=u&&(FC(x),l(R-u))};return Dc.setup(x,!0),()=>FC(x)}function rB(l,u,p,x={passive:!0}){return l.addEventListener(u,p,x),()=>l.removeEventListener(u,p)}function ZH(l){return bh(l)?l.get():l}function Wbe(l,u,p){const x=bh(l)?l:X3(l);return x.start(Yte("",x,u,p)),x.animation}const qbe=(l,u)=>l.depth-u.depth;class Gbe{constructor(){this.children=[],this.isDirty=!1}add(u){Mte(this.children,u),this.isDirty=!0}remove(u){Bte(this.children,u),this.isDirty=!0}forEach(u){this.isDirty&&this.children.sort(qbe),this.isDirty=!1,this.children.forEach(u)}}class Kbe{constructor(){this.members=[]}add(u){Mte(this.members,u),u.scheduleRender()}remove(u){if(Bte(this.members,u),u===this.prevLead&&(this.prevLead=void 0),u===this.lead){const p=this.members[this.members.length-1];p&&this.promote(p)}}relegate(u){const p=this.members.findIndex(A=>u===A);if(p===0)return!1;let x;for(let A=p;A>=0;A--){const R=this.members[A];if(R.isPresent!==!1){x=R;break}}return x?(this.promote(x),!0):!1}promote(u,p){const x=this.lead;if(u!==x&&(this.prevLead=x,this.lead=u,u.show(),x)){x.instance&&x.scheduleRender(),u.scheduleRender(),u.resumeFrom=x,p&&(u.resumeFrom.preserveOpacity=!0),x.snapshot&&(u.snapshot=x.snapshot,u.snapshot.latestValues=x.animationValues||x.latestValues),u.root&&u.root.isUpdating&&(u.isLayoutDirty=!0);const{crossfade:A}=u.options;A===!1&&x.hide()}}exitAnimationComplete(){this.members.forEach(u=>{const{options:p,resumingFrom:x}=u;p.onExitComplete&&p.onExitComplete(),x&&x.options.onExitComplete&&x.options.onExitComplete()})}scheduleRender(){this.members.forEach(u=>{u.instance&&u.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const WH={hasAnimatedSinceResize:!0,hasEverUpdated:!1},uee=["","X","Y","Z"],Ybe=1e3;let Xbe=0;function dee(l,u,p,x){const{latestValues:A}=u;A[l]&&(p[l]=A[l],u.setStaticValue(l,0),x&&(x[l]=0))}function lue(l){if(l.hasCheckedOptimisedAppear=!0,l.root===l)return;const{visualElement:u}=l.options;if(!u)return;const p=kce(u);if(window.MotionHasOptimisedAnimation(p,"transform")){const{layout:A,layoutId:R}=l.options;window.MotionCancelOptimisedAnimation(p,"transform",Dc,!(A||R))}const{parent:x}=l;x&&!x.hasCheckedOptimisedAppear&&lue(x)}function cue({attachResizeListener:l,defaultParent:u,measureScroll:p,checkIsScrollRoot:x,resetTransform:A}){return class{constructor(O={},I=u?.()){this.id=Xbe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(eye),this.nodes.forEach(sye),this.nodes.forEach(rye),this.nodes.forEach(tye)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=O,this.root=I?I.root||I:this,this.path=I?[...I.path,I]:[],this.parent=I,this.depth=I?I.depth+1:0;for(let U=0;U<this.path.length;U++)this.path[U].shouldResetTransform=!0;this.root===this&&(this.nodes=new Gbe)}addEventListener(O,I){return this.eventHandlers.has(O)||this.eventHandlers.set(O,new Fte),this.eventHandlers.get(O).add(I)}notifyListeners(O,...I){const U=this.eventHandlers.get(O);U&&U.notify(...I)}hasListeners(O){return this.eventHandlers.has(O)}mount(O){if(this.instance)return;this.isSVG=Ice(O)&&!J1e(O),this.instance=O;const{layoutId:I,layout:U,visualElement:V}=this.options;if(V&&!V.current&&V.mount(O),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(U||I)&&(this.isLayoutDirty=!0),l){let Y,ee=0;const ue=()=>this.root.updateBlockedByResize=!1;Dc.read(()=>{ee=window.innerWidth}),l(O,()=>{const Ce=window.innerWidth;Ce!==ee&&(ee=Ce,this.root.updateBlockedByResize=!0,Y&&Y(),Y=Zbe(ue,250),WH.hasAnimatedSinceResize&&(WH.hasAnimatedSinceResize=!1,this.nodes.forEach(ere)))})}I&&this.root.registerSharedNode(I,this),this.options.animate!==!1&&V&&(I||U)&&this.addEventListener("didUpdate",({delta:Y,hasLayoutChanged:ee,hasRelativeLayoutChanged:ue,layout:Ce})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const pe=this.options.transition||V.getDefaultTransition()||uye,{onLayoutAnimationStart:Fe,onLayoutAnimationComplete:be}=V.getProps(),lt=!this.targetLayout||!rue(this.targetLayout,Ce),Oe=!ee&&ue;if(this.options.layoutRoot||this.resumeFrom||Oe||ee&&(lt||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const J={...Kte(pe,"layout"),onPlay:Fe,onComplete:be};(V.shouldReduceMotion||this.options.layoutRoot)&&(J.delay=0,J.type=!1),this.startAnimation(J),this.setAnimationOrigin(Y,Oe)}else ee||ere(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=Ce})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const O=this.getStack();O&&O.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),FC(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aye),this.animationId++)}getTransformTemplate(){const{visualElement:O}=this.options;return O&&O.getProps().transformTemplate}willUpdate(O=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&lue(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let Y=0;Y<this.path.length;Y++){const ee=this.path[Y];ee.shouldResetTransform=!0,ee.updateScroll("snapshot"),ee.options.layoutRoot&&ee.willUpdate(!1)}const{layoutId:I,layout:U}=this.options;if(I===void 0&&!U)return;const V=this.getTransformTemplate();this.prevTransformTemplateValue=V?V(this.latestValues,""):void 0,this.updateSnapshot(),O&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Qse);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Jse);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(oye),this.nodes.forEach(Qbe),this.nodes.forEach(Jbe)):this.nodes.forEach(Jse),this.clearAllSnapshots();const I=mg.now();_m.delta=Nv(0,1e3/60,I-_m.timestamp),_m.timestamp=I,_m.isProcessing=!0,nee.update.process(_m),nee.preRender.process(_m),nee.render.process(_m),_m.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ene.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nye),this.sharedNodes.forEach(iye)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Dc.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Dc.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hg(this.snapshot.measuredBox.x)&&!hg(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let U=0;U<this.path.length;U++)this.path[U].updateScroll();const O=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Cf(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:I}=this.options;I&&I.notify("LayoutMeasure",this.layout.layoutBox,O?O.layoutBox:void 0)}updateScroll(O="measure"){let I=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===O&&(I=!1),I&&this.instance){const U=x(this.instance);this.scroll={animationId:this.root.animationId,phase:O,isRoot:U,offset:p(this.instance),wasRoot:this.scroll?this.scroll.isRoot:U}}}resetTransform(){if(!A)return;const O=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,I=this.projectionDelta&&!sue(this.projectionDelta),U=this.getTransformTemplate(),V=U?U(this.latestValues,""):void 0,Y=V!==this.prevTransformTemplateValue;O&&this.instance&&(I||ST(this.latestValues)||Y)&&(A(this.instance,V),this.shouldResetTransform=!1,this.scheduleRender())}measure(O=!0){const I=this.measurePageBox();let U=this.removeElementScroll(I);return O&&(U=this.removeTransform(U)),dye(U),{animationId:this.root.animationId,measuredBox:I,layoutBox:U,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:O}=this.options;if(!O)return Cf();const I=O.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(fye))){const{scroll:V}=this.root;V&&(V3(I.x,V.offset.x),V3(I.y,V.offset.y))}return I}removeElementScroll(O){const I=Cf();if(ly(I,O),this.scroll?.wasRoot)return I;for(let U=0;U<this.path.length;U++){const V=this.path[U],{scroll:Y,options:ee}=V;V!==this.root&&Y&&ee.layoutScroll&&(Y.wasRoot&&ly(I,O),V3(I.x,Y.offset.x),V3(I.y,Y.offset.y))}return I}applyTransform(O,I=!1){const U=Cf();ly(U,O);for(let V=0;V<this.path.length;V++){const Y=this.path[V];!I&&Y.options.layoutScroll&&Y.scroll&&Y!==Y.root&&U3(U,{x:-Y.scroll.offset.x,y:-Y.scroll.offset.y}),ST(Y.latestValues)&&U3(U,Y.latestValues)}return ST(this.latestValues)&&U3(U,this.latestValues),U}removeTransform(O){const I=Cf();ly(I,O);for(let U=0;U<this.path.length;U++){const V=this.path[U];if(!V.instance||!ST(V.latestValues))continue;Xee(V.latestValues)&&V.updateSnapshot();const Y=Cf(),ee=V.measurePageBox();ly(Y,ee),zse(I,V.latestValues,V.snapshot?V.snapshot.layoutBox:void 0,Y)}return ST(this.latestValues)&&zse(I,this.latestValues),I}setTargetDelta(O){this.targetDelta=O,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(O){this.options={...this.options,...O,crossfade:O.crossfade!==void 0?O.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_m.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(O=!1){const I=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=I.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=I.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=I.isSharedProjectionDirty);const U=!!this.resumingFrom||this!==I;if(!(O||U&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:Y,layoutId:ee}=this.options;if(!this.layout||!(Y||ee))return;this.resolvedRelativeTargetAt=_m.timestamp;const ue=this.getClosestProjectingParent();ue&&this.linkedParentVersion!==ue.layoutVersion&&!ue.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(ue&&ue.layout?this.createRelativeTarget(ue,this.layout.layoutBox,ue.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Cf(),this.targetWithTransforms=Cf()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Lbe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ly(this.target,this.layout.layoutBox),Wce(this.target,this.targetDelta)):ly(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,ue&&!!ue.resumingFrom==!!this.resumingFrom&&!ue.options.layoutScroll&&ue.target&&this.animationProgress!==1?this.createRelativeTarget(ue,this.target,ue.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Xee(this.parent.latestValues)||Zce(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(O,I,U){this.relativeParent=O,this.linkedParentVersion=O.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cf(),this.relativeTargetOrigin=Cf(),cz(this.relativeTargetOrigin,I,U),ly(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const O=this.getLead(),I=!!this.resumingFrom||this!==O;let U=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(U=!1),I&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(U=!1),this.resolvedRelativeTargetAt===_m.timestamp&&(U=!1),U)return;const{layout:V,layoutId:Y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(V||Y))return;ly(this.layoutCorrected,this.layout.layoutBox);const ee=this.treeScale.x,ue=this.treeScale.y;ube(this.layoutCorrected,this.treeScale,this.path,I),O.layout&&!O.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(O.target=O.layout.layoutBox,O.targetWithTransforms=Cf());const{target:Ce}=O;if(!Ce){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Vse(this.prevProjectionDelta.x,this.projectionDelta.x),Vse(this.prevProjectionDelta.y,this.projectionDelta.y)),QM(this.projectionDelta,this.layoutCorrected,Ce,this.latestValues),(this.treeScale.x!==ee||this.treeScale.y!==ue||!Gse(this.projectionDelta.x,this.prevProjectionDelta.x)||!Gse(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",Ce))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(O=!0){if(this.options.visualElement?.scheduleRender(),O){const I=this.getStack();I&&I.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=j3(),this.projectionDelta=j3(),this.projectionDeltaWithTransform=j3()}setAnimationOrigin(O,I=!1){const U=this.snapshot,V=U?U.latestValues:{},Y={...this.latestValues},ee=j3();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!I;const ue=Cf(),Ce=U?U.source:void 0,pe=this.layout?this.layout.source:void 0,Fe=Ce!==pe,be=this.getStack(),lt=!be||be.members.length<=1,Oe=!!(Fe&&!lt&&this.options.crossfade===!0&&!this.path.some(cye));this.animationProgress=0;let J;this.mixTargetDelta=it=>{const jt=it/1e3;tre(ee.x,O.x,jt),tre(ee.y,O.y,jt),this.setTargetDelta(ee),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cz(ue,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lye(this.relativeTarget,this.relativeTargetOrigin,ue,jt),J&&Ibe(this.relativeTarget,J)&&(this.isProjectionDirty=!1),J||(J=Cf()),ly(J,this.relativeTarget)),Fe&&(this.animationValues=Y,jbe(Y,V,this.latestValues,jt,Oe,lt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=jt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(O){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(FC(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Dc.update(()=>{WH.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=X3(0)),this.currentAnimation=Wbe(this.motionValue,[0,1e3],{...O,velocity:0,isSync:!0,onUpdate:I=>{this.mixTargetDelta(I),O.onUpdate&&O.onUpdate(I)},onStop:()=>{},onComplete:()=>{O.onComplete&&O.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const O=this.getStack();O&&O.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ybe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const O=this.getLead();let{targetWithTransforms:I,target:U,layout:V,latestValues:Y}=O;if(!(!I||!U||!V)){if(this!==O&&this.layout&&V&&uue(this.options.animationType,this.layout.layoutBox,V.layoutBox)){U=this.target||Cf();const ee=hg(this.layout.layoutBox.x);U.x.min=O.target.x.min,U.x.max=U.x.min+ee;const ue=hg(this.layout.layoutBox.y);U.y.min=O.target.y.min,U.y.max=U.y.min+ue}ly(I,U),U3(I,Y),QM(this.projectionDeltaWithTransform,this.layoutCorrected,I,Y)}}registerSharedNode(O,I){this.sharedNodes.has(O)||this.sharedNodes.set(O,new Kbe),this.sharedNodes.get(O).add(I);const V=I.options.initialPromotionConfig;I.promote({transition:V?V.transition:void 0,preserveFollowOpacity:V&&V.shouldPreserveFollowOpacity?V.shouldPreserveFollowOpacity(I):void 0})}isLead(){const O=this.getStack();return O?O.lead===this:!0}getLead(){const{layoutId:O}=this.options;return O?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:O}=this.options;return O?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:O}=this.options;if(O)return this.root.sharedNodes.get(O)}promote({needsReset:O,transition:I,preserveFollowOpacity:U}={}){const V=this.getStack();V&&V.promote(this,U),O&&(this.projectionDelta=void 0,this.needsReset=!0),I&&this.setOptions({transition:I})}relegate(){const O=this.getStack();return O?O.relegate(this):!1}resetSkewAndRotation(){const{visualElement:O}=this.options;if(!O)return;let I=!1;const{latestValues:U}=O;if((U.z||U.rotate||U.rotateX||U.rotateY||U.rotateZ||U.skewX||U.skewY)&&(I=!0),!I)return;const V={};U.z&&dee("z",O,V,this.animationValues);for(let Y=0;Y<uee.length;Y++)dee(`rotate${uee[Y]}`,O,V,this.animationValues),dee(`skew${uee[Y]}`,O,V,this.animationValues);O.render();for(const Y in V)O.setStaticValue(Y,V[Y]),this.animationValues&&(this.animationValues[Y]=V[Y]);O.scheduleRender()}applyProjectionStyles(O,I){if(!this.instance||this.isSVG)return;if(!this.isVisible){O.visibility="hidden";return}const U=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,O.visibility="",O.opacity="",O.pointerEvents=ZH(I?.pointerEvents)||"",O.transform=U?U(this.latestValues,""):"none";return}const V=this.getLead();if(!this.projectionDelta||!this.layout||!V.target){this.options.layoutId&&(O.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,O.pointerEvents=ZH(I?.pointerEvents)||""),this.hasProjected&&!ST(this.latestValues)&&(O.transform=U?U({},""):"none",this.hasProjected=!1);return}O.visibility="";const Y=V.animationValues||V.latestValues;this.applyTransformsToTarget();let ee=Hbe(this.projectionDeltaWithTransform,this.treeScale,Y);U&&(ee=U(Y,ee)),O.transform=ee;const{x:ue,y:Ce}=this.projectionDelta;O.transformOrigin=`${ue.origin*100}% ${Ce.origin*100}% 0`,V.animationValues?O.opacity=V===this?Y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:Y.opacityExit:O.opacity=V===this?Y.opacity!==void 0?Y.opacity:"":Y.opacityExit!==void 0?Y.opacityExit:0;for(const pe in Jee){if(Y[pe]===void 0)continue;const{correct:Fe,applyTo:be,isCSSVariable:lt}=Jee[pe],Oe=ee==="none"?Y[pe]:Fe(Y[pe],V);if(be){const J=be.length;for(let it=0;it<J;it++)O[be[it]]=Oe}else lt?this.options.visualElement.renderState.vars[pe]=Oe:O[pe]=Oe}this.options.layoutId&&(O.pointerEvents=V===this?ZH(I?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(O=>O.currentAnimation?.stop()),this.root.nodes.forEach(Qse),this.root.sharedNodes.clear()}}}function Qbe(l){l.updateLayout()}function Jbe(l){const u=l.resumeFrom?.snapshot||l.snapshot;if(l.isLead()&&l.layout&&u&&l.hasListeners("didUpdate")){const{layoutBox:p,measuredBox:x}=l.layout,{animationType:A}=l.options,R=u.source!==l.layout.source;A==="size"?F1(Y=>{const ee=R?u.measuredBox[Y]:u.layoutBox[Y],ue=hg(ee);ee.min=p[Y].min,ee.max=ee.min+ue}):uue(A,u.layoutBox,p)&&F1(Y=>{const ee=R?u.measuredBox[Y]:u.layoutBox[Y],ue=hg(p[Y]);ee.max=ee.min+ue,l.relativeTarget&&!l.currentAnimation&&(l.isProjectionDirty=!0,l.relativeTarget[Y].max=l.relativeTarget[Y].min+ue)});const O=j3();QM(O,p,u.layoutBox);const I=j3();R?QM(I,l.applyTransform(x,!0),u.measuredBox):QM(I,p,u.layoutBox);const U=!sue(O);let V=!1;if(!l.resumeFrom){const Y=l.getClosestProjectingParent();if(Y&&!Y.resumeFrom){const{snapshot:ee,layout:ue}=Y;if(ee&&ue){const Ce=Cf();cz(Ce,u.layoutBox,ee.layoutBox);const pe=Cf();cz(pe,p,ue.layoutBox),rue(Ce,pe)||(V=!0),Y.options.layoutRoot&&(l.relativeTarget=pe,l.relativeTargetOrigin=Ce,l.relativeParent=Y)}}}l.notifyListeners("didUpdate",{layout:p,snapshot:u,delta:I,layoutDelta:O,hasLayoutChanged:U,hasRelativeLayoutChanged:V})}else if(l.isLead()){const{onExitComplete:p}=l.options;p&&p()}l.options.transition=void 0}function eye(l){l.parent&&(l.isProjecting()||(l.isProjectionDirty=l.parent.isProjectionDirty),l.isSharedProjectionDirty||(l.isSharedProjectionDirty=!!(l.isProjectionDirty||l.parent.isProjectionDirty||l.parent.isSharedProjectionDirty)),l.isTransformDirty||(l.isTransformDirty=l.parent.isTransformDirty))}function tye(l){l.isProjectionDirty=l.isSharedProjectionDirty=l.isTransformDirty=!1}function nye(l){l.clearSnapshot()}function Qse(l){l.clearMeasurements()}function Jse(l){l.isLayoutDirty=!1}function oye(l){const{visualElement:u}=l.options;u&&u.getProps().onBeforeLayoutMeasure&&u.notify("BeforeLayoutMeasure"),l.resetTransform()}function ere(l){l.finishAnimation(),l.targetDelta=l.relativeTarget=l.target=void 0,l.isProjectionDirty=!0}function sye(l){l.resolveTargetDelta()}function rye(l){l.calcProjection()}function aye(l){l.resetSkewAndRotation()}function iye(l){l.removeLeadSnapshot()}function tre(l,u,p){l.translate=wu(u.translate,0,p),l.scale=wu(u.scale,1,p),l.origin=u.origin,l.originPoint=u.originPoint}function nre(l,u,p,x){l.min=wu(u.min,p.min,x),l.max=wu(u.max,p.max,x)}function lye(l,u,p,x){nre(l.x,u.x,p.x,x),nre(l.y,u.y,p.y,x)}function cye(l){return l.animationValues&&l.animationValues.opacityExit!==void 0}const uye={duration:.45,ease:[.4,0,.1,1]},ore=l=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(l),sre=ore("applewebkit/")&&!ore("chrome/")?Math.round:I1;function rre(l){l.min=sre(l.min),l.max=sre(l.max)}function dye(l){rre(l.x),rre(l.y)}function uue(l,u,p){return l==="position"||l==="preserve-aspect"&&!Bbe(qse(u),qse(p),.2)}function fye(l){return l!==l.root&&l.scroll?.wasRoot}const mye=cue({attachResizeListener:(l,u)=>rB(l,"resize",u),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fee={current:void 0},due=cue({measureScroll:l=>({x:l.scrollLeft,y:l.scrollTop}),defaultParent:()=>{if(!fee.current){const l=new mye({});l.mount(window),l.setOptions({layoutScroll:!0}),fee.current=l}return fee.current},resetTransform:(l,u)=>{l.style.transform=u!==void 0?u:"none"},checkIsScrollRoot:l=>window.getComputedStyle(l).position==="fixed"}),ane=Ze.createContext({transformPagePoint:l=>l,isStatic:!1,reducedMotion:"never"});function are(l,u){if(typeof l=="function")return l(u);l!=null&&(l.current=u)}function hye(...l){return u=>{let p=!1;const x=l.map(A=>{const R=are(A,u);return!p&&typeof R=="function"&&(p=!0),R});if(p)return()=>{for(let A=0;A<x.length;A++){const R=x[A];typeof R=="function"?R():are(l[A],null)}}}}function gye(...l){return Ze.useCallback(hye(...l),l)}class pye extends Ze.Component{getSnapshotBeforeUpdate(u){const p=this.props.childRef.current;if(p&&u.isPresent&&!this.props.isPresent){const x=p.offsetParent,A=Bce(x)&&x.offsetWidth||0,R=this.props.sizeRef.current;R.height=p.offsetHeight||0,R.width=p.offsetWidth||0,R.top=p.offsetTop,R.left=p.offsetLeft,R.right=A-R.width-R.left}return null}componentDidUpdate(){}render(){return this.props.children}}function bye({children:l,isPresent:u,anchorX:p,root:x}){const A=Ze.useId(),R=Ze.useRef(null),O=Ze.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:I}=Ze.useContext(ane),U=l.props?.ref??l?.ref,V=gye(R,U);return Ze.useInsertionEffect(()=>{const{width:Y,height:ee,top:ue,left:Ce,right:pe}=O.current;if(u||!R.current||!Y||!ee)return;const Fe=p==="left"?`left: ${Ce}`:`right: ${pe}`;R.current.dataset.motionPopId=A;const be=document.createElement("style");I&&(be.nonce=I);const lt=x??document.head;return lt.appendChild(be),be.sheet&&be.sheet.insertRule(`
          [data-motion-pop-id="${A}"] {
            position: absolute !important;
            width: ${Y}px !important;
            height: ${ee}px !important;
            ${Fe}px !important;
            top: ${ue}px !important;
          }
        `),()=>{lt.contains(be)&&lt.removeChild(be)}},[u]),M.jsx(pye,{isPresent:u,childRef:R,sizeRef:O,children:Ze.cloneElement(l,{ref:V})})}const yye=({children:l,initial:u,isPresent:p,onExitComplete:x,custom:A,presenceAffectsLayout:R,mode:O,anchorX:I,root:U})=>{const V=Rte(vye),Y=Ze.useId();let ee=!0,ue=Ze.useMemo(()=>(ee=!1,{id:Y,initial:u,isPresent:p,custom:A,onExitComplete:Ce=>{V.set(Ce,!0);for(const pe of V.values())if(!pe)return;x&&x()},register:Ce=>(V.set(Ce,!1),()=>V.delete(Ce))}),[p,V,x]);return R&&ee&&(ue={...ue}),Ze.useMemo(()=>{V.forEach((Ce,pe)=>V.set(pe,!1))},[p]),Ze.useEffect(()=>{!p&&!V.size&&x&&x()},[p]),O==="popLayout"&&(l=M.jsx(bye,{isPresent:p,anchorX:I,root:U,children:l})),M.jsx(Ez.Provider,{value:ue,children:l})};function vye(){return new Map}function fue(l=!0){const u=Ze.useContext(Ez);if(u===null)return[!0,null];const{isPresent:p,onExitComplete:x,register:A}=u,R=Ze.useId();Ze.useEffect(()=>{if(l)return A(R)},[l]);const O=Ze.useCallback(()=>l&&x&&x(R),[R,x,l]);return!p&&x?[!1,O]:[!0]}const PH=l=>l.key||"";function ire(l){const u=[];return Ze.Children.forEach(l,p=>{Ze.isValidElement(p)&&u.push(p)}),u}const HC=({children:l,custom:u,initial:p=!0,onExitComplete:x,presenceAffectsLayout:A=!0,mode:R="sync",propagate:O=!1,anchorX:I="left",root:U})=>{const[V,Y]=fue(O),ee=Ze.useMemo(()=>ire(l),[l]),ue=O&&!V?[]:ee.map(PH),Ce=Ze.useRef(!0),pe=Ze.useRef(ee),Fe=Rte(()=>new Map),be=Ze.useRef(new Set),[lt,Oe]=Ze.useState(ee),[J,it]=Ze.useState(ee);Vle(()=>{Ce.current=!1,pe.current=ee;for(let ie=0;ie<J.length;ie++){const ut=PH(J[ie]);ue.includes(ut)?(Fe.delete(ut),be.current.delete(ut)):Fe.get(ut)!==!0&&Fe.set(ut,!1)}},[J,ue.length,ue.join("-")]);const jt=[];if(ee!==lt){let ie=[...ee];for(let ut=0;ut<J.length;ut++){const xn=J[ut],fn=PH(xn);ue.includes(fn)||(ie.splice(ut,0,xn),jt.push(xn))}return R==="wait"&&jt.length&&(ie=jt),it(ire(ie)),Oe(ee),null}const{forceRender:Ke}=Ze.useContext(Nte);return M.jsx(M.Fragment,{children:J.map(ie=>{const ut=PH(ie),xn=O&&!V?!1:ee===J||ue.includes(ut),fn=()=>{if(be.current.has(ut))return;if(be.current.add(ut),Fe.has(ut))Fe.set(ut,!0);else return;let qe=!0;Fe.forEach(Re=>{Re||(qe=!1)}),qe&&(Ke?.(),it(pe.current),O&&Y?.(),x&&x())};return M.jsx(yye,{isPresent:xn,initial:!Ce.current||p?void 0:!1,custom:u,presenceAffectsLayout:A,mode:R,root:U,onExitComplete:xn?void 0:fn,anchorX:I,children:ie},ut)})})},mue=Ze.createContext({strict:!1}),lre={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let cre=!1;function xye(){if(cre)return;const l={};for(const u in lre)l[u]={isEnabled:p=>lre[u].some(x=>!!p[x])};jce(l),cre=!0}function hue(){return xye(),abe()}function wye(l){const u=hue();for(const p in l)u[p]={...u[p],...l[p]};jce(u)}const Cye=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function uz(l){return l.startsWith("while")||l.startsWith("drag")&&l!=="draggable"||l.startsWith("layout")||l.startsWith("onTap")||l.startsWith("onPan")||l.startsWith("onLayout")||Cye.has(l)}let gue=l=>!uz(l);function Sye(l){typeof l=="function"&&(gue=u=>u.startsWith("on")?!uz(u):l(u))}try{Sye(require("@emotion/is-prop-valid").default)}catch{}function Eye(l,u,p){const x={};for(const A in l)A==="values"&&typeof l.values=="object"||(gue(A)||p===!0&&uz(A)||!u&&!uz(A)||l.draggable&&A.startsWith("onDrag"))&&(x[A]=l[A]);return x}const kz=Ze.createContext({});function Tye(l,u){if(Az(l)){const{initial:p,animate:x}=l;return{initial:p===!1||sB(p)?p:void 0,animate:sB(x)?x:void 0}}return l.inherit!==!1?u:{}}function Aye(l){const{initial:u,animate:p}=Tye(l,Ze.useContext(kz));return Ze.useMemo(()=>({initial:u,animate:p}),[ure(u),ure(p)])}function ure(l){return Array.isArray(l)?l.join(" "):l}const ine=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pue(l,u,p){for(const x in u)!bh(u[x])&&!Kce(x,p)&&(l[x]=u[x])}function kye({transformTemplate:l},u){return Ze.useMemo(()=>{const p=ine();return sne(p,u,l),Object.assign({},p.vars,p.style)},[u])}function Dye(l,u){const p=l.style||{},x={};return pue(x,p,l),Object.assign(x,kye(l,u)),x}function _ye(l,u){const p={},x=Dye(l,u);return l.drag&&l.dragListener!==!1&&(p.draggable=!1,x.userSelect=x.WebkitUserSelect=x.WebkitTouchCallout="none",x.touchAction=l.drag===!0?"none":`pan-${l.drag==="x"?"y":"x"}`),l.tabIndex===void 0&&(l.onTap||l.onTapStart||l.whileTap)&&(p.tabIndex=0),p.style=x,p}const bue=()=>({...ine(),attrs:{}});function Oye(l,u,p,x){const A=Ze.useMemo(()=>{const R=bue();return Yce(R,u,Qce(x),l.transformTemplate,l.style),{...R.attrs,style:{...R.style}}},[u]);if(l.style){const R={};pue(R,l.style,l),A.style={...R,...A.style}}return A}const Nye=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lne(l){return typeof l!="string"||l.includes("-")?!1:!!(Nye.indexOf(l)>-1||/[A-Z]/u.test(l))}function Rye(l,u,p,{latestValues:x},A,R=!1,O){const U=(O??lne(l)?Oye:_ye)(u,x,A,l),V=Eye(u,typeof l=="string",R),Y=l!==Ze.Fragment?{...V,...U,ref:p}:{},{children:ee}=u,ue=Ze.useMemo(()=>bh(ee)?ee.get():ee,[ee]);return Ze.createElement(l,{...Y,children:ue})}function Mye({scrapeMotionValuesFromProps:l,createRenderState:u},p,x,A){return{latestValues:Bye(p,x,A,l),renderState:u()}}function Bye(l,u,p,x){const A={},R=x(l,{});for(const ue in R)A[ue]=ZH(R[ue]);let{initial:O,animate:I}=l;const U=Az(l),V=zce(l);u&&V&&!U&&l.inherit!==!1&&(O===void 0&&(O=u.initial),I===void 0&&(I=u.animate));let Y=p?p.initial===!1:!1;Y=Y||O===!1;const ee=Y?I:O;if(ee&&typeof ee!="boolean"&&!Tz(ee)){const ue=Array.isArray(ee)?ee:[ee];for(let Ce=0;Ce<ue.length;Ce++){const pe=Xte(l,ue[Ce]);if(pe){const{transitionEnd:Fe,transition:be,...lt}=pe;for(const Oe in lt){let J=lt[Oe];if(Array.isArray(J)){const it=Y?J.length-1:0;J=J[it]}J!==null&&(A[Oe]=J)}for(const Oe in Fe)A[Oe]=Fe[Oe]}}}return A}const yue=l=>(u,p)=>{const x=Ze.useContext(kz),A=Ze.useContext(Ez),R=()=>Mye(l,u,x,A);return p?R():Rte(R)},Lye=yue({scrapeMotionValuesFromProps:rne,createRenderState:ine}),Pye=yue({scrapeMotionValuesFromProps:Jce,createRenderState:bue}),Fye=Symbol.for("motionComponentSymbol");function $ye(l,u,p){const x=Ze.useRef(p);Ze.useInsertionEffect(()=>{x.current=p});const A=Ze.useRef(null);return Ze.useCallback(R=>{R&&l.onMount?.(R),u&&(R?u.mount(R):u.unmount());const O=x.current;if(typeof O=="function")if(R){const I=O(R);typeof I=="function"&&(A.current=I)}else A.current?(A.current(),A.current=null):O(R);else O&&(O.current=R)},[u])}const vue=Ze.createContext({});function KM(l){return l&&typeof l=="object"&&Object.prototype.hasOwnProperty.call(l,"current")}function Iye(l,u,p,x,A,R){const{visualElement:O}=Ze.useContext(kz),I=Ze.useContext(mue),U=Ze.useContext(Ez),V=Ze.useContext(ane).reducedMotion,Y=Ze.useRef(null);x=x||I.renderer,!Y.current&&x&&(Y.current=x(l,{visualState:u,parent:O,props:p,presenceContext:U,blockInitialAnimation:U?U.initial===!1:!1,reducedMotionConfig:V,isSVG:R}));const ee=Y.current,ue=Ze.useContext(vue);ee&&!ee.projection&&A&&(ee.type==="html"||ee.type==="svg")&&Hye(Y.current,p,A,ue);const Ce=Ze.useRef(!1);Ze.useInsertionEffect(()=>{ee&&Ce.current&&ee.update(p,U)});const pe=p[Ace],Fe=Ze.useRef(!!pe&&!window.MotionHandoffIsComplete?.(pe)&&window.MotionHasOptimisedAnimation?.(pe));return Vle(()=>{ee&&(Ce.current=!0,window.MotionIsMounted=!0,ee.updateFeatures(),ee.scheduleRenderMicrotask(),Fe.current&&ee.animationState&&ee.animationState.animateChanges())}),Ze.useEffect(()=>{ee&&(!Fe.current&&ee.animationState&&ee.animationState.animateChanges(),Fe.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(pe)}),Fe.current=!1),ee.enteringChildren=void 0)}),ee}function Hye(l,u,p,x){const{layoutId:A,layout:R,drag:O,dragConstraints:I,layoutScroll:U,layoutRoot:V,layoutCrossfade:Y}=u;l.projection=new p(l.latestValues,u["data-framer-portal-id"]?void 0:xue(l.parent)),l.projection.setOptions({layoutId:A,layout:R,alwaysMeasureLayout:!!O||I&&KM(I),visualElement:l,animationType:typeof R=="string"?R:"both",initialPromotionConfig:x,crossfade:Y,layoutScroll:U,layoutRoot:V})}function xue(l){if(l)return l.options.allowProjection!==!1?l.projection:xue(l.parent)}function mee(l,{forwardMotionProps:u=!1,type:p}={},x,A){x&&wye(x);const R=p?p==="svg":lne(l),O=R?Pye:Lye;function I(V,Y){let ee;const ue={...Ze.useContext(ane),...V,layoutId:zye(V)},{isStatic:Ce}=ue,pe=Aye(V),Fe=O(V,Ce);if(!Ce&&jle){jye();const be=Vye(ue);ee=be.MeasureLayout,pe.visualElement=Iye(l,Fe,ue,A,be.ProjectionNode,R)}return M.jsxs(kz.Provider,{value:pe,children:[ee&&pe.visualElement?M.jsx(ee,{visualElement:pe.visualElement,...ue}):null,Rye(l,V,$ye(Fe,pe.visualElement,Y),Fe,Ce,u,R)]})}I.displayName=`motion.${typeof l=="string"?l:`create(${l.displayName??l.name??""})`}`;const U=Ze.forwardRef(I);return U[Fye]=l,U}function zye({layoutId:l}){const u=Ze.useContext(Nte).id;return u&&l!==void 0?u+"-"+l:l}function jye(l,u){Ze.useContext(mue).strict}function Vye(l){const u=hue(),{drag:p,layout:x}=u;if(!p&&!x)return{};const A={...p,...x};return{MeasureLayout:p?.isEnabled(l)||x?.isEnabled(l)?A.MeasureLayout:void 0,ProjectionNode:A.ProjectionNode}}function Uye(l,u){if(typeof Proxy>"u")return mee;const p=new Map,x=(R,O)=>mee(R,O,l,u),A=(R,O)=>x(R,O);return new Proxy(A,{get:(R,O)=>O==="create"?x:(p.has(O)||p.set(O,mee(O,void 0,l,u)),p.get(O))})}const Zye=(l,u)=>u.isSVG??lne(l)?new Sbe(u):new bbe(u,{allowProjection:l!==Ze.Fragment});class Wye extends IC{constructor(u){super(u),u.animationState||(u.animationState=Dbe(u))}updateAnimationControlsSubscription(){const{animate:u}=this.node.getProps();Tz(u)&&(this.unmountControls=u.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:u}=this.node.getProps(),{animate:p}=this.node.prevProps||{};u!==p&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let qye=0;class Gye extends IC{constructor(){super(...arguments),this.id=qye++}update(){if(!this.node.presenceContext)return;const{isPresent:u,onExitComplete:p}=this.node.presenceContext,{isPresent:x}=this.node.prevPresenceContext||{};if(!this.node.animationState||u===x)return;const A=this.node.animationState.setActive("exit",!u);p&&!u&&A.then(()=>{p(this.id)})}mount(){const{register:u,onExitComplete:p}=this.node.presenceContext||{};p&&p(this.id),u&&(this.unmount=u(this.id))}unmount(){}}const Kye={animation:{Feature:Wye},exit:{Feature:Gye}};function wB(l){return{point:{x:l.pageX,y:l.pageY}}}const Yye=l=>u=>tne(u)&&l(u,wB(u));function JM(l,u,p,x){return rB(l,u,Yye(p),x)}const wue=({current:l})=>l?l.ownerDocument.defaultView:null,dre=(l,u)=>Math.abs(l-u);function Xye(l,u){const p=dre(l.x,u.x),x=dre(l.y,u.y);return Math.sqrt(p**2+x**2)}const fre=new Set(["auto","scroll"]);class Cue{constructor(u,p,{transformPagePoint:x,contextWindow:A=window,dragSnapToOrigin:R=!1,distanceThreshold:O=3,element:I}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=Ce=>{this.handleScroll(Ce.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Ce=gee(this.lastMoveEventInfo,this.history),pe=this.startEvent!==null,Fe=Xye(Ce.offset,{x:0,y:0})>=this.distanceThreshold;if(!pe&&!Fe)return;const{point:be}=Ce,{timestamp:lt}=_m;this.history.push({...be,timestamp:lt});const{onStart:Oe,onMove:J}=this.handlers;pe||(Oe&&Oe(this.lastMoveEvent,Ce),this.startEvent=this.lastMoveEvent),J&&J(this.lastMoveEvent,Ce)},this.handlePointerMove=(Ce,pe)=>{this.lastMoveEvent=Ce,this.lastMoveEventInfo=hee(pe,this.transformPagePoint),Dc.update(this.updatePoint,!0)},this.handlePointerUp=(Ce,pe)=>{this.end();const{onEnd:Fe,onSessionEnd:be,resumeAnimation:lt}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&lt&&lt(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Oe=gee(Ce.type==="pointercancel"?this.lastMoveEventInfo:hee(pe,this.transformPagePoint),this.history);this.startEvent&&Fe&&Fe(Ce,Oe),be&&be(Ce,Oe)},!tne(u))return;this.dragSnapToOrigin=R,this.handlers=p,this.transformPagePoint=x,this.distanceThreshold=O,this.contextWindow=A||window;const U=wB(u),V=hee(U,this.transformPagePoint),{point:Y}=V,{timestamp:ee}=_m;this.history=[{...Y,timestamp:ee}];const{onSessionStart:ue}=p;ue&&ue(u,gee(V,this.history)),this.removeListeners=yB(JM(this.contextWindow,"pointermove",this.handlePointerMove),JM(this.contextWindow,"pointerup",this.handlePointerUp),JM(this.contextWindow,"pointercancel",this.handlePointerUp)),I&&this.startScrollTracking(I)}startScrollTracking(u){let p=u.parentElement;for(;p;){const x=getComputedStyle(p);(fre.has(x.overflowX)||fre.has(x.overflowY))&&this.scrollPositions.set(p,{x:p.scrollLeft,y:p.scrollTop}),p=p.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(u){const p=this.scrollPositions.get(u);if(!p)return;const x=u===window,A=x?{x:window.scrollX,y:window.scrollY}:{x:u.scrollLeft,y:u.scrollTop},R={x:A.x-p.x,y:A.y-p.y};R.x===0&&R.y===0||(x?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=R.x,this.lastMoveEventInfo.point.y+=R.y):this.history.length>0&&(this.history[0].x-=R.x,this.history[0].y-=R.y),this.scrollPositions.set(u,A),Dc.update(this.updatePoint,!0))}updateHandlers(u){this.handlers=u}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),FC(this.updatePoint)}}function hee(l,u){return u?{point:u(l.point)}:l}function mre(l,u){return{x:l.x-u.x,y:l.y-u.y}}function gee({point:l},u){return{point:l,delta:mre(l,Sue(u)),offset:mre(l,Qye(u)),velocity:Jye(u,.1)}}function Qye(l){return l[0]}function Sue(l){return l[l.length-1]}function Jye(l,u){if(l.length<2)return{x:0,y:0};let p=l.length-1,x=null;const A=Sue(l);for(;p>=0&&(x=l[p],!(A.timestamp-x.timestamp>x2(u)));)p--;if(!x)return{x:0,y:0};const R=$1(A.timestamp-x.timestamp);if(R===0)return{x:0,y:0};const O={x:(A.x-x.x)/R,y:(A.y-x.y)/R};return O.x===1/0&&(O.x=0),O.y===1/0&&(O.y=0),O}function eve(l,{min:u,max:p},x){return u!==void 0&&l<u?l=x?wu(u,l,x.min):Math.max(l,u):p!==void 0&&l>p&&(l=x?wu(p,l,x.max):Math.min(l,p)),l}function hre(l,u,p){return{min:u!==void 0?l.min+u:void 0,max:p!==void 0?l.max+p-(l.max-l.min):void 0}}function tve(l,{top:u,left:p,bottom:x,right:A}){return{x:hre(l.x,p,A),y:hre(l.y,u,x)}}function gre(l,u){let p=u.min-l.min,x=u.max-l.max;return u.max-u.min<l.max-l.min&&([p,x]=[x,p]),{min:p,max:x}}function nve(l,u){return{x:gre(l.x,u.x),y:gre(l.y,u.y)}}function ove(l,u){let p=.5;const x=hg(l),A=hg(u);return A>x?p=tB(u.min,u.max-x,l.min):x>A&&(p=tB(l.min,l.max-A,u.min)),Nv(0,1,p)}function sve(l,u){const p={};return u.min!==void 0&&(p.min=u.min-l.min),u.max!==void 0&&(p.max=u.max-l.min),p}const ete=.35;function rve(l=ete){return l===!1?l=0:l===!0&&(l=ete),{x:pre(l,"left","right"),y:pre(l,"top","bottom")}}function pre(l,u,p){return{min:bre(l,u),max:bre(l,p)}}function bre(l,u){return typeof l=="number"?l:l[u]||0}const ave=new WeakMap;class ive{constructor(u){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Cf(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=u}start(u,{snapToCursor:p=!1,distanceThreshold:x}={}){const{presenceContext:A}=this.visualElement;if(A&&A.isPresent===!1)return;const R=ee=>{p?(this.stopAnimation(),this.snapToCursor(wB(ee).point)):this.pauseAnimation()},O=(ee,ue)=>{this.stopAnimation();const{drag:Ce,dragPropagation:pe,onDragStart:Fe}=this.getProps();if(Ce&&!pe&&(this.openDragLock&&this.openDragLock(),this.openDragLock=G1e(Ce),!this.openDragLock))return;this.latestPointerEvent=ee,this.latestPanInfo=ue,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),F1(lt=>{let Oe=this.getAxisMotionValue(lt).get()||0;if(_v.test(Oe)){const{projection:J}=this.visualElement;if(J&&J.layout){const it=J.layout.layoutBox[lt];it&&(Oe=hg(it)*(parseFloat(Oe)/100))}}this.originPoint[lt]=Oe}),Fe&&Dc.postRender(()=>Fe(ee,ue)),qee(this.visualElement,"transform");const{animationState:be}=this.visualElement;be&&be.setActive("whileDrag",!0)},I=(ee,ue)=>{this.latestPointerEvent=ee,this.latestPanInfo=ue;const{dragPropagation:Ce,dragDirectionLock:pe,onDirectionLock:Fe,onDrag:be}=this.getProps();if(!Ce&&!this.openDragLock)return;const{offset:lt}=ue;if(pe&&this.currentDirection===null){this.currentDirection=lve(lt),this.currentDirection!==null&&Fe&&Fe(this.currentDirection);return}this.updateAxis("x",ue.point,lt),this.updateAxis("y",ue.point,lt),this.visualElement.render(),be&&be(ee,ue)},U=(ee,ue)=>{this.latestPointerEvent=ee,this.latestPanInfo=ue,this.stop(ee,ue),this.latestPointerEvent=null,this.latestPanInfo=null},V=()=>F1(ee=>this.getAnimationState(ee)==="paused"&&this.getAxisMotionValue(ee).animation?.play()),{dragSnapToOrigin:Y}=this.getProps();this.panSession=new Cue(u,{onSessionStart:R,onStart:O,onMove:I,onSessionEnd:U,resumeAnimation:V},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:Y,distanceThreshold:x,contextWindow:wue(this.visualElement),element:this.visualElement.current})}stop(u,p){const x=u||this.latestPointerEvent,A=p||this.latestPanInfo,R=this.isDragging;if(this.cancel(),!R||!A||!x)return;const{velocity:O}=A;this.startAnimation(O);const{onDragEnd:I}=this.getProps();I&&Dc.postRender(()=>I(x,A))}cancel(){this.isDragging=!1;const{projection:u,animationState:p}=this.visualElement;u&&(u.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:x}=this.getProps();!x&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),p&&p.setActive("whileDrag",!1)}updateAxis(u,p,x){const{drag:A}=this.getProps();if(!x||!FH(u,A,this.currentDirection))return;const R=this.getAxisMotionValue(u);let O=this.originPoint[u]+x[u];this.constraints&&this.constraints[u]&&(O=eve(O,this.constraints[u],this.elastic[u])),R.set(O)}resolveConstraints(){const{dragConstraints:u,dragElastic:p}=this.getProps(),x=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,A=this.constraints;u&&KM(u)?this.constraints||(this.constraints=this.resolveRefConstraints()):u&&x?this.constraints=tve(x.layoutBox,u):this.constraints=!1,this.elastic=rve(p),A!==this.constraints&&x&&this.constraints&&!this.hasMutatedConstraints&&F1(R=>{this.constraints!==!1&&this.getAxisMotionValue(R)&&(this.constraints[R]=sve(x.layoutBox[R],this.constraints[R]))})}resolveRefConstraints(){const{dragConstraints:u,onMeasureDragConstraints:p}=this.getProps();if(!u||!KM(u))return!1;const x=u.current,{projection:A}=this.visualElement;if(!A||!A.layout)return!1;const R=dbe(x,A.root,this.visualElement.getTransformPagePoint());let O=nve(A.layout.layoutBox,R);if(p){const I=p(lbe(O));this.hasMutatedConstraints=!!I,I&&(O=Uce(I))}return O}startAnimation(u){const{drag:p,dragMomentum:x,dragElastic:A,dragTransition:R,dragSnapToOrigin:O,onDragTransitionEnd:I}=this.getProps(),U=this.constraints||{},V=F1(Y=>{if(!FH(Y,p,this.currentDirection))return;let ee=U&&U[Y]||{};O&&(ee={min:0,max:0});const ue=A?200:1e6,Ce=A?40:1e7,pe={type:"inertia",velocity:x?u[Y]:0,bounceStiffness:ue,bounceDamping:Ce,timeConstant:750,restDelta:1,restSpeed:10,...R,...ee};return this.startAxisValueAnimation(Y,pe)});return Promise.all(V).then(I)}startAxisValueAnimation(u,p){const x=this.getAxisMotionValue(u);return qee(this.visualElement,u),x.start(Yte(u,x,0,p,this.visualElement,!1))}stopAnimation(){F1(u=>this.getAxisMotionValue(u).stop())}pauseAnimation(){F1(u=>this.getAxisMotionValue(u).animation?.pause())}getAnimationState(u){return this.getAxisMotionValue(u).animation?.state}getAxisMotionValue(u){const p=`_drag${u.toUpperCase()}`,x=this.visualElement.getProps(),A=x[p];return A||this.visualElement.getValue(u,(x.initial?x.initial[u]:void 0)||0)}snapToCursor(u){F1(p=>{const{drag:x}=this.getProps();if(!FH(p,x,this.currentDirection))return;const{projection:A}=this.visualElement,R=this.getAxisMotionValue(p);if(A&&A.layout){const{min:O,max:I}=A.layout.layoutBox[p],U=R.get()||0;R.set(u[p]-wu(O,I,.5)+U)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:u,dragConstraints:p}=this.getProps(),{projection:x}=this.visualElement;if(!KM(p)||!x||!this.constraints)return;this.stopAnimation();const A={x:0,y:0};F1(O=>{const I=this.getAxisMotionValue(O);if(I&&this.constraints!==!1){const U=I.get();A[O]=ove({min:U,max:U},this.constraints[O])}});const{transformTemplate:R}=this.visualElement.getProps();this.visualElement.current.style.transform=R?R({},""):"none",x.root&&x.root.updateScroll(),x.updateLayout(),this.resolveConstraints(),F1(O=>{if(!FH(O,u,null))return;const I=this.getAxisMotionValue(O),{min:U,max:V}=this.constraints[O];I.set(wu(U,V,A[O]))})}addListeners(){if(!this.visualElement.current)return;ave.set(this.visualElement,this);const u=this.visualElement.current,p=JM(u,"pointerdown",U=>{const{drag:V,dragListener:Y=!0}=this.getProps();V&&Y&&!$ce(U.target)&&this.start(U)}),x=()=>{const{dragConstraints:U}=this.getProps();KM(U)&&U.current&&(this.constraints=this.resolveRefConstraints())},{projection:A}=this.visualElement,R=A.addEventListener("measure",x);A&&!A.layout&&(A.root&&A.root.updateScroll(),A.updateLayout()),Dc.read(x);const O=rB(window,"resize",()=>this.scalePositionWithinConstraints()),I=A.addEventListener("didUpdate",(({delta:U,hasLayoutChanged:V})=>{this.isDragging&&V&&(F1(Y=>{const ee=this.getAxisMotionValue(Y);ee&&(this.originPoint[Y]+=U[Y].translate,ee.set(ee.get()+U[Y].translate))}),this.visualElement.render())}));return()=>{O(),p(),R(),I&&I()}}getProps(){const u=this.visualElement.getProps(),{drag:p=!1,dragDirectionLock:x=!1,dragPropagation:A=!1,dragConstraints:R=!1,dragElastic:O=ete,dragMomentum:I=!0}=u;return{...u,drag:p,dragDirectionLock:x,dragPropagation:A,dragConstraints:R,dragElastic:O,dragMomentum:I}}}function FH(l,u,p){return(u===!0||u===l)&&(p===null||p===l)}function lve(l,u=10){let p=null;return Math.abs(l.y)>u?p="y":Math.abs(l.x)>u&&(p="x"),p}class cve extends IC{constructor(u){super(u),this.removeGroupControls=I1,this.removeListeners=I1,this.controls=new ive(u)}mount(){const{dragControls:u}=this.node.getProps();u&&(this.removeGroupControls=u.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||I1}update(){const{dragControls:u}=this.node.getProps(),{dragControls:p}=this.node.prevProps||{};u!==p&&(this.removeGroupControls(),u&&(this.removeGroupControls=u.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const yre=l=>(u,p)=>{l&&Dc.postRender(()=>l(u,p))};class uve extends IC{constructor(){super(...arguments),this.removePointerDownListener=I1}onPointerDown(u){this.session=new Cue(u,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wue(this.node)})}createPanHandlers(){const{onPanSessionStart:u,onPanStart:p,onPan:x,onPanEnd:A}=this.node.getProps();return{onSessionStart:yre(u),onStart:yre(p),onMove:x,onEnd:(R,O)=>{delete this.session,A&&Dc.postRender(()=>A(R,O))}}}mount(){this.removePointerDownListener=JM(this.node.current,"pointerdown",u=>this.onPointerDown(u))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let pee=!1;class dve extends Ze.Component{componentDidMount(){const{visualElement:u,layoutGroup:p,switchLayoutGroup:x,layoutId:A}=this.props,{projection:R}=u;R&&(p.group&&p.group.add(R),x&&x.register&&A&&x.register(R),pee&&R.root.didUpdate(),R.addEventListener("animationComplete",()=>{this.safeToRemove()}),R.setOptions({...R.options,onExitComplete:()=>this.safeToRemove()})),WH.hasEverUpdated=!0}getSnapshotBeforeUpdate(u){const{layoutDependency:p,visualElement:x,drag:A,isPresent:R}=this.props,{projection:O}=x;return O&&(O.isPresent=R,pee=!0,A||u.layoutDependency!==p||p===void 0||u.isPresent!==R?O.willUpdate():this.safeToRemove(),u.isPresent!==R&&(R?O.promote():O.relegate()||Dc.postRender(()=>{const I=O.getStack();(!I||!I.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:u}=this.props.visualElement;u&&(u.root.didUpdate(),ene.postRender(()=>{!u.currentAnimation&&u.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:u,layoutGroup:p,switchLayoutGroup:x}=this.props,{projection:A}=u;pee=!0,A&&(A.scheduleCheckAfterUnmount(),p&&p.group&&p.group.remove(A),x&&x.deregister&&x.deregister(A))}safeToRemove(){const{safeToRemove:u}=this.props;u&&u()}render(){return null}}function Eue(l){const[u,p]=fue(),x=Ze.useContext(Nte);return M.jsx(dve,{...l,layoutGroup:x,switchLayoutGroup:Ze.useContext(vue),isPresent:u,safeToRemove:p})}const fve={pan:{Feature:uve},drag:{Feature:cve,ProjectionNode:due,MeasureLayout:Eue}};function vre(l,u,p){const{props:x}=l;l.animationState&&x.whileHover&&l.animationState.setActive("whileHover",p==="Start");const A="onHover"+p,R=x[A];R&&Dc.postRender(()=>R(u,wB(u)))}class mve extends IC{mount(){const{current:u}=this.node;u&&(this.unmount=K1e(u,(p,x)=>(vre(this.node,x,"Start"),A=>vre(this.node,A,"End"))))}unmount(){}}class hve extends IC{constructor(){super(...arguments),this.isActive=!1}onFocus(){let u=!1;try{u=this.node.current.matches(":focus-visible")}catch{u=!0}!u||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yB(rB(this.node.current,"focus",()=>this.onFocus()),rB(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function xre(l,u,p){const{props:x}=l;if(l.current instanceof HTMLButtonElement&&l.current.disabled)return;l.animationState&&x.whileTap&&l.animationState.setActive("whileTap",p==="Start");const A="onTap"+(p==="End"?"":p),R=x[A];R&&Dc.postRender(()=>R(u,wB(u)))}class gve extends IC{mount(){const{current:u}=this.node;u&&(this.unmount=Q1e(u,(p,x)=>(xre(this.node,x,"Start"),(A,{success:R})=>xre(this.node,A,R?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const tte=new WeakMap,bee=new WeakMap,pve=l=>{const u=tte.get(l.target);u&&u(l)},bve=l=>{l.forEach(pve)};function yve({root:l,...u}){const p=l||document;bee.has(p)||bee.set(p,{});const x=bee.get(p),A=JSON.stringify(u);return x[A]||(x[A]=new IntersectionObserver(bve,{root:l,...u})),x[A]}function vve(l,u,p){const x=yve(u);return tte.set(l,p),x.observe(l),()=>{tte.delete(l),x.unobserve(l)}}const xve={some:0,all:1};class wve extends IC{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:u={}}=this.node.getProps(),{root:p,margin:x,amount:A="some",once:R}=u,O={root:p?p.current:void 0,rootMargin:x,threshold:typeof A=="number"?A:xve[A]},I=U=>{const{isIntersecting:V}=U;if(this.isInView===V||(this.isInView=V,R&&!V&&this.hasEnteredView))return;V&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",V);const{onViewportEnter:Y,onViewportLeave:ee}=this.node.getProps(),ue=V?Y:ee;ue&&ue(U)};return vve(this.node.current,O,I)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:u,prevProps:p}=this.node;["amount","margin","root"].some(Cve(u,p))&&this.startObserver()}unmount(){}}function Cve({viewport:l={}},{viewport:u={}}={}){return p=>l[p]!==u[p]}const Sve={inView:{Feature:wve},tap:{Feature:gve},focus:{Feature:hve},hover:{Feature:mve}},Eve={layout:{ProjectionNode:due,MeasureLayout:Eue}},Tve={...Kye,...Sve,...fve,...Eve},ni=Uye(Tve,Zye);function Ave(){const[l,u]=Ze.useState([]),[p,x]=Ze.useState([]),[A,R]=Ze.useState([]),[O,I]=Ze.useState([]),[U,V]=Ze.useState(null),[Y,ee]=Ze.useState(null),[ue,Ce]=Ze.useState([]),[pe,Fe]=Ze.useState([]),[be,lt]=Ze.useState([]),[Oe,J]=Ze.useState(!0),[it,jt]=Ze.useState("locations"),[Ke,ie]=Ze.useState(""),[ut,xn]=Ze.useState("all"),[fn,qe]=Ze.useState(""),[Re,Qo]=Ze.useState("all"),[vt,Lt]=Ze.useState(""),[F,Vt]=Ze.useState("all"),[at,Jn]=Ze.useState({suffix:"-mekan-fotografcisi",titleTemplate:"{name} Mekan Fotorafs"});Ze.useEffect(()=>{Ne(),an()},[]);const an=async()=>{try{const Pe=await vs.get("/admin-update.php?table=settings&action=list");if(Pe.data.success){const Tt=Pe.data.data,sn=Tt.find(Yo=>Yo.key==="seo_location_suffix")?.value||"-mekan-fotografcisi",Zn=Tt.find(Yo=>Yo.key==="seo_location_title_template")?.value||"{name} Mekan Fotorafs";Jn({suffix:sn,titleTemplate:Zn})}}catch{console.error("Failed to load SEO settings")}},le=(Pe,Tt)=>{Tt==="province"?Ce(sn=>sn.includes(Pe)?sn.filter(Zn=>Zn!==Pe):[...sn,Pe]):Tt==="district"?Fe(sn=>sn.includes(Pe)?sn.filter(Zn=>Zn!==Pe):[...sn,Pe]):Tt==="town"&&lt(sn=>sn.includes(Pe)?sn.filter(Zn=>Zn!==Pe):[...sn,Pe])},Ve=(Pe,Tt)=>{const sn=Pe.map(Zn=>Zn.id);Tt==="province"?Ce(Zn=>Zn.length===sn.length?[]:sn):Tt==="district"?Fe(Zn=>Zn.length===sn.length?[]:sn):Tt==="town"&&lt(Zn=>Zn.length===sn.length?[]:sn)},It=(Pe,Tt,sn)=>Pe.filter(Zn=>{const Yo=Zn.name.toLowerCase().includes(Tt.toLowerCase()),Jo=sn==="all"?!0:sn==="active"?Zn.is_active:!Zn.is_active;return Yo&&Jo}),Ne=async()=>{J(!0);try{const Pe=await vs.get("/admin-update.php?table=locations_province&action=list");Pe.data.success&&(u(Pe.data.data||[]),Ce([]))}catch{console.error("Failed to load provinces")}finally{J(!1)}},mt=async Pe=>{try{const Tt=await vs.get(`/admin-update.php?action=list&table=locations_district&province_id=${Pe}`);Tt.data.success&&(x(Tt.data.data||[]),Fe([]))}catch{console.error("Failed to load districts")}},He=async Pe=>{try{const Tt=await vs.get(`/admin-update.php?action=list&table=locations_town&district_id=${Pe}`);Tt.data.success&&(R(Tt.data.data||[]),lt([]))}catch{console.error("Failed to load towns")}},ft=async Pe=>{try{const Tt=await vs.get(`/admin-update.php?action=get-distances&province_id=${Pe}`);Tt.data.success&&I(Tt.data.data||[])}catch{console.error("Failed to load distances")}},X=Pe=>{V(Pe),ee(null),R([]),it==="locations"?mt(Pe.id):ft(Pe.id)},$o=Pe=>{ee(Pe),He(Pe.id)},xo=async(Pe,Tt,sn)=>{try{await vs.post("/admin-update.php",{action:"update",table:sn,id:Pe,data:{is_active:!Tt}}),sn==="locations_province"?Ne():sn==="locations_district"?mt(U.id):sn==="locations_town"&&He(Y.id),go.fire({title:"Gncellendi",icon:"success",timer:800,showConfirmButton:!1,toast:!0,position:"bottom-end"})}catch(Zn){console.error("Toggle Error:",Zn);const Yo=Zn.response?.data?.error||"Gncelleme baarsz";go.fire("Hata",Yo,"error")}},Mo=async(Pe,Tt,sn)=>{if(sn.length===0)return;const Zn=Tt==="delete"?"silmek":Tt==="activate"?"aktif etmek":"pasif yapmak";if((await go.fire({title:"Emin misiniz?",text:`${sn.length} adet kayd ${Zn} istediinize emin misiniz?`,icon:Tt==="delete"?"warning":"question",showCancelButton:!0,confirmButtonText:"Evet",cancelButtonText:"ptal"})).isConfirmed)try{Tt==="delete"?await vs.post("/admin-update.php",{action:"delete",table:Pe,ids:sn}):await vs.post("/admin-update.php",{action:"update",table:Pe,ids:sn,data:{is_active:Tt==="activate"}}),go.fire("Baarl","lem tamamland","success"),Pe==="locations_province"?(Ne(),Tt==="delete"&&(V(null),x([]))):Pe==="locations_district"?(mt(U.id),Tt==="delete"&&(ee(null),R([]))):Pe==="locations_town"&&He(Y.id)}catch{go.fire("Hata","lem gerekletirilemedi","error")}},Ho=async(Pe,Tt)=>{if((await go.fire({title:"Emin misiniz?",text:"Bu ilem ve altndaki tm bal veriler silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal",customClass:{confirmButton:"bg-red-500 rounded-xl px-6 py-2.5 font-bold",cancelButton:"bg-gray-100 text-gray-600 rounded-xl px-6 py-2.5 font-bold"}})).isConfirmed)try{await vs.post("/admin-update.php",{action:"delete",table:Tt,id:Pe}),Tt==="locations_province"?(Ne(),V(null),ee(null),R([])):Tt==="locations_district"?(mt(U.id),ee(null),R([])):Tt==="locations_town"?He(Y.id):Tt==="locations_city_distance"&&ft(U.id),go.fire("Silindi","","success")}catch(Zn){console.error("Delete Error:",Zn);const Yo=Zn.response?.data?.error||"Silme baarsz";go.fire("Hata",Yo,"error")}},js=async()=>{if((await go.fire({title:"Verileri Gncelle",text:"Tm Trkiye il, ile ve mahalle verileri GitHub zerinden ekilip gncellenecektir. Bu ilem uzun srebilir ve arka planda devam eder.",icon:"info",showCancelButton:!0,confirmButtonText:"imdi Balat",cancelButtonText:"ptal"})).isConfirmed)try{await vs.post("/admin-update.php",{action:"import-locations"}),go.fire("Balatld","lem arka planda balatld. Tamamlandnda veriler gncellenmi olacak.","success")}catch{go.fire("Hata","lem balatlamad","error")}},Be=async()=>{const{value:Pe}=await go.fire({title:"Yeni l Ekle",input:"text",inputLabel:"l Ad",inputPlaceholder:"rn: stanbul, Antalya...",showCancelButton:!0,confirmButtonText:"Ekle",cancelButtonText:"ptal"});if(Pe)try{await vs.post("/admin-update.php",{action:"save-location",table:"locations_province",name:Pe}),Ne()}catch{go.fire("Hata","Eklenemedi","error")}},Ye=async()=>{if(!U)return;const{value:Pe}=await go.fire({title:"Yeni le Ekle",input:"text",inputLabel:"le Ad",inputPlaceholder:"rn: Ka, Bodrum...",showCancelButton:!0,confirmButtonText:"Ekle",cancelButtonText:"ptal"});if(Pe)try{await vs.post("/admin-update.php",{action:"save-location",table:"locations_district",name:Pe,province_id:U.id}),mt(U.id)}catch{go.fire("Hata","Eklenemedi","error")}},tt=async()=>{if(!Y)return;const{value:Pe}=await go.fire({title:"Yeni Mahalle/Belde Ekle",input:"text",inputLabel:"Mahalle/Belde Ad",inputPlaceholder:"rn: Gcek, Kalkan, Bitez...",showCancelButton:!0,confirmButtonText:"Ekle",cancelButtonText:"ptal"});if(Pe)try{await vs.post("/admin-update.php",{action:"save-location",table:"locations_town",name:Pe,district_id:Y.id}),He(Y.id)}catch{go.fire("Hata","Eklenemedi","error")}},Le=async()=>{if(!(!Y||!U))try{const Tt=(await vs.post("/admin-update.php",{action:"get-available-towns",province:U.name,district:Y.name})).data.data;if(!Tt||Tt.length===0){go.fire("Bilgi","Bu blge iin hazr mahalle bulunamad. Ltfen manuel ekleyin.","info");return}const{value:sn}=await go.fire({title:"Ktphaneden Se",input:"select",inputOptions:Tt.reduce((Zn,Yo)=>({...Zn,[Yo]:Yo}),{}),inputPlaceholder:"Mahalle Seiniz",showCancelButton:!0,confirmButtonText:"Ekle"});sn&&(await vs.post("/admin-update.php",{action:"save-location",table:"locations_town",name:sn,district_id:Y.id}),He(Y.id),go.fire("Eklendi","","success"))}catch(Pe){console.error(Pe),go.fire("Hata","Liste alnamad","error")}},[Je,Nt]=Ze.useState(null),xt=async Pe=>{const Tt=`${Pe.slug}${at.suffix}`;try{const Zn=(await vs.get(`/admin-update.php?table=posts&action=list&post_type=seo_page&slug=${Tt}`)).data.data?.[0];if(Zn)Nt(Zn);else{const Yo=at.titleTemplate.replace("{name}",Pe.name);Nt({title:Yo,slug:Tt,content:`<p>${Pe.name} blgesinde profesyonel mekan ekimi hizmetleri.</p>`,excerpt:`${Pe.name} mekan fotorafs, otel, villa ve emlak ekimi hizmetleri.`,post_type:"seo_page",post_status:"draft"})}}catch(sn){console.error("Error fetching page content",sn),go.fire("Hata","erik yklenemedi","error")}},Un=async()=>{try{await vs.post("/admin-update.php",{action:"save-post",...Je}),go.fire("Kaydedildi","erik gncellendi","success"),Nt(null)}catch{go.fire("Hata","Kaydetme baarsz","error")}},Dt=({search:Pe,setSearch:Tt,filter:sn,setFilter:Zn,items:Yo,selectedIds:Jo,onToggleAll:Do,type:mr,table:zo})=>M.jsxs("div",{className:"flex flex-col gap-2 mb-4 px-1",children:[M.jsxs("div",{className:"flex gap-2",children:[M.jsx("input",{type:"text",placeholder:"Ara...",value:Pe,onChange:os=>Tt(os.target.value),className:"w-full px-3 py-1.5 text-xs border border-gray-200 rounded-lg focus:outline-none focus:border-blue-400 shadow-inner bg-gray-50/50"}),M.jsxs("select",{value:sn,onChange:os=>Zn(os.target.value),className:"px-2 py-1.5 text-xs border border-gray-200 rounded-lg focus:outline-none focus:border-blue-400 bg-white",children:[M.jsx("option",{value:"all",children:"Tm"}),M.jsx("option",{value:"active",children:"Aktif"}),M.jsx("option",{value:"passive",children:"Pasif"})]})]}),M.jsxs("div",{className:"flex justify-between items-center px-2 py-1 bg-gray-50/80 rounded-lg border border-gray-100",children:[M.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[M.jsx("input",{type:"checkbox",className:"w-3.5 h-3.5 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:Yo.length>0&&Jo.length===Yo.length,onChange:()=>Do(Yo,mr)}),M.jsxs("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-tighter",children:["Tmn Se (",Jo.length,")"]})]}),Jo.length>0&&M.jsxs("div",{className:"flex gap-1",children:[M.jsx("button",{onClick:()=>Mo(zo,"activate",Jo),className:"bg-green-100 text-green-700 font-bold px-2 py-0.5 rounded text-[9px] hover:bg-green-200",children:"AKTF"}),M.jsx("button",{onClick:()=>Mo(zo,"deactivate",Jo),className:"bg-red-100 text-red-700 font-bold px-2 py-0.5 rounded text-[9px] hover:bg-red-200",children:"PASF"}),M.jsx("button",{onClick:()=>Mo(zo,"delete",Jo),className:"bg-gray-200 text-gray-700 font-bold px-2 py-0.5 rounded text-[9px] hover:bg-gray-300",children:"SL"})]})]})]});return Oe&&l.length===0?M.jsxs("div",{className:"flex flex-col items-center justify-center py-24 gap-4",children:[M.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),M.jsx("p",{className:"text-gray-500 font-medium",children:"Veriler Ykleniyor..."})]}):M.jsxs(ni.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[M.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 bg-white/50 backdrop-blur-md p-6 rounded-[2rem] border border-white shadow-sm",children:[M.jsxs("div",{children:[M.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Lokasyon Ynetimi"}),M.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Trkiye il, ile ve mahalle verileri"})]}),M.jsxs("div",{className:"flex items-center gap-2 bg-gray-100/50 p-1.5 rounded-2xl border border-gray-200 shadow-inner",children:[M.jsx("button",{onClick:()=>jt("locations"),className:`px-6 py-2 rounded-xl font-bold transition-all ${it==="locations"?"bg-white text-blue-600 shadow-md translate-y-[-1px]":"text-gray-500 hover:text-gray-700"}`,children:" Yerleimler"}),M.jsx("button",{onClick:()=>{jt("distances"),U&&ft(U.id)},className:`px-6 py-2 rounded-xl font-bold transition-all ${it==="distances"?"bg-white text-blue-600 shadow-md translate-y-[-1px]":"text-gray-500 hover:text-gray-700"}`,children:" Mesafeler"}),M.jsx("div",{className:"w-px h-6 bg-gray-200 mx-1"}),M.jsx("button",{onClick:js,className:"px-6 py-2 rounded-xl font-bold text-gray-600 hover:text-blue-600 hover:bg-white transition-all",title:"Tm verileri GitHub'dan gncelle",children:" Gncelle"})]})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 h-[calc(100vh-280px)]",children:[M.jsxs("div",{className:"flex flex-col h-full space-y-4",children:[M.jsxs("div",{className:"flex justify-between items-center px-4",children:[M.jsxs("h2",{className:"text-lg font-black text-gray-800 tracking-tight flex items-center gap-2",children:[M.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 text-xs",children:"81"}),"ller"]}),M.jsx("button",{onClick:Be,className:"w-8 h-8 flex items-center justify-center bg-white hover:bg-blue-50 border border-gray-200 text-blue-600 rounded-xl transition-all shadow-sm font-bold",children:"+"})]}),M.jsx(Dt,{search:Ke,setSearch:ie,filter:ut,setFilter:xn,items:It(l,Ke,ut),selectedIds:ue,onToggleAll:Ve,type:"province",table:"locations_province"}),M.jsx("div",{className:"flex-1 bg-white rounded-[2rem] shadow-sm border border-gray-100 overflow-hidden overflow-y-auto custom-scrollbar",children:It(l,Ke,ut).map(Pe=>M.jsx("div",{className:`p-5 border-b border-gray-50 cursor-pointer transition-all ${U?.id===Pe.id?"bg-blue-50/50 border-l-4 border-l-blue-500":"hover:bg-gray-50/50"}`,onClick:()=>X(Pe),children:M.jsxs("div",{className:"flex justify-between items-center group",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer",checked:ue.includes(Pe.id),onChange:Tt=>{Tt.stopPropagation(),le(Pe.id,"province")}}),M.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center font-bold text-sm shadow-sm transition-all ${U?.id===Pe.id?"bg-blue-500 text-white":"bg-gray-50 text-gray-400 group-hover:bg-white group-hover:text-blue-500"}`,children:Pe.plate_code||"??"}),M.jsxs("div",{children:[M.jsx("span",{className:`font-bold block transition-colors ${U?.id===Pe.id?"text-blue-900":"text-gray-700"}`,children:Pe.name}),M.jsxs("div",{className:"flex gap-2 mt-1",children:[M.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),xt(Pe)},className:"text-[10px] text-gray-300 hover:text-blue-500 flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all scale-95 hover:scale-100",children:" Dzenle"}),M.jsx("a",{href:`/${Pe.slug}${at.suffix}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-gray-300 hover:text-blue-500 flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all scale-95 hover:scale-100",onClick:Tt=>Tt.stopPropagation(),children:" Gr"})]})]})]}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),xo(Pe.id,Pe.is_active,"locations_province")},className:`w-2.5 h-2.5 rounded-full ring-4 ring-transparent ${Pe.is_active?"bg-green-500 shadow-[0_0_10px_rgba(34,197,94,0.4)]":"bg-red-300"}`,title:Pe.is_active?"Aktif":"Pasif"}),M.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),Ho(Pe.id,"locations_province")},className:"text-xs text-red-500 opacity-0 group-hover:opacity-20 hover:!opacity-100 transition-all",children:""})]})]})},Pe.id))})]}),M.jsx(HC,{mode:"wait",children:it==="locations"?M.jsxs(M.Fragment,{children:[M.jsxs(ni.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex flex-col h-full space-y-4",children:[M.jsxs("div",{className:"flex justify-between items-center px-4",children:[M.jsxs("div",{children:[M.jsx("h2",{className:"text-lg font-black text-gray-800 tracking-tight",children:"leler"}),U&&M.jsx("span",{className:"text-[10px] text-blue-500 font-bold uppercase tracking-widest",children:U.name})]}),U&&M.jsx("button",{onClick:Ye,className:"w-8 h-8 flex items-center justify-center bg-white hover:bg-blue-50 border border-gray-200 text-blue-600 rounded-xl transition-all shadow-sm font-bold",children:"+"})]}),U&&M.jsx(Dt,{search:fn,setSearch:qe,filter:Re,setFilter:Qo,items:It(p,fn,Re),selectedIds:pe,onToggleAll:Ve,type:"district",table:"locations_district"}),M.jsx("div",{className:"flex-1 bg-white rounded-[2rem] shadow-sm border border-gray-100 overflow-hidden overflow-y-auto custom-scrollbar",children:U?p.length===0?M.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300 p-8",children:[M.jsx("span",{className:"text-3xl mb-2",children:""}),M.jsx("span",{className:"text-xs uppercase font-bold tracking-widest",children:"Henz ile yok"})]}):It(p,fn,Re).map(Pe=>M.jsx("div",{className:`p-5 border-b border-gray-50 cursor-pointer transition-all ${Y?.id===Pe.id?"bg-blue-50/50 border-l-4 border-l-blue-500":"hover:bg-gray-50/50"}`,onClick:()=>$o(Pe),children:M.jsxs("div",{className:"flex justify-between items-center group",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer",checked:pe.includes(Pe.id),onChange:Tt=>{Tt.stopPropagation(),le(Pe.id,"district")}}),M.jsxs("div",{children:[M.jsx("span",{className:`font-bold block ${Y?.id===Pe.id?"text-blue-900":"text-gray-700"}`,children:Pe.name}),M.jsxs("div",{className:"flex gap-2 mt-1",children:[M.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),xt(Pe)},className:"text-[10px] text-gray-300 hover:text-blue-500 flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all",children:" Dzenle"}),M.jsx("a",{href:`/${Pe.slug}${at.suffix}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-gray-300 hover:text-blue-500 flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all",onClick:Tt=>Tt.stopPropagation(),children:" Gr"})]})]})]}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),xo(Pe.id,Pe.is_active,"locations_district")},className:`w-2.5 h-2.5 rounded-full ${Pe.is_active?"bg-green-500":"bg-red-300"}`,title:Pe.is_active?"Aktif":"Pasif"}),M.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),Ho(Pe.id,"locations_district")},className:"text-xs text-red-500 opacity-0 group-hover:opacity-20 hover:!opacity-100 transition-all",children:""})]})]})},Pe.id)):M.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300 p-8 grayscale opacity-50",children:[M.jsx("span",{className:"text-5xl mb-4",children:""}),M.jsx("span",{className:"text-xs uppercase font-black tracking-widest bg-gray-100 px-4 py-2 rounded-full",children:"Sol taraftan il sein"})]})})]},"districts"),M.jsxs(ni.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex flex-col h-full space-y-4",children:[M.jsxs("div",{className:"flex justify-between items-center px-4",children:[M.jsxs("div",{children:[M.jsx("h2",{className:"text-lg font-black text-gray-800 tracking-tight",children:"Mahalleler"}),Y&&M.jsx("span",{className:"text-[10px] text-blue-500 font-bold uppercase tracking-widest",children:Y.name})]}),Y&&M.jsxs("div",{className:"flex gap-2",children:[M.jsx("button",{onClick:Le,className:"w-8 h-8 flex items-center justify-center bg-blue-50 hover:bg-blue-100 border border-blue-200 text-blue-600 rounded-xl transition-all shadow-sm text-xs",title:"Ktphaneden Aktar",children:""}),M.jsx("button",{onClick:tt,className:"w-8 h-8 flex items-center justify-center bg-white hover:bg-gray-50 border border-gray-200 text-blue-600 rounded-xl transition-all shadow-sm font-bold",children:"+"})]})]}),Y&&M.jsx(Dt,{search:vt,setSearch:Lt,filter:F,setFilter:Vt,items:It(A,vt,F),selectedIds:be,onToggleAll:Ve,type:"town",table:"locations_town"}),M.jsx("div",{className:"flex-1 bg-white rounded-[2rem] shadow-sm border border-gray-100 overflow-hidden overflow-y-auto custom-scrollbar",children:Y?A.length===0?M.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300 p-8",children:[M.jsx("span",{className:"text-3xl mb-2",children:""}),M.jsx("span",{className:"text-xs uppercase font-bold tracking-widest",children:"Henz mahalle yok"})]}):It(A,vt,F).map(Pe=>M.jsx("div",{className:"p-5 border-b border-gray-50 hover:bg-gray-50/50 transition-all group",children:M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer",checked:be.includes(Pe.id),onChange:Tt=>{Tt.stopPropagation(),le(Pe.id,"town")}}),M.jsxs("div",{children:[M.jsx("span",{className:"font-bold text-gray-700 block",children:Pe.name}),M.jsxs("div",{className:"flex gap-2 mt-1",children:[M.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),xt(Pe)},className:"text-[10px] text-gray-300 hover:text-blue-500 opacity-0 group-hover:opacity-100 transition-all",children:" Dzenle"}),M.jsx("a",{href:`/${Pe.slug}${at.suffix}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-gray-300 hover:text-blue-500 opacity-0 group-hover:opacity-100 transition-all",onClick:Tt=>Tt.stopPropagation(),children:" Gr"})]})]})]}),M.jsxs("div",{className:"flex gap-2 items-center",children:[M.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),xo(Pe.id,Pe.is_active,"locations_town")},className:`px-3 py-1 rounded-lg text-[9px] font-black tracking-tighter transition-all ${Pe.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:Pe.is_active?"AKTF":"PASF"}),M.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),Ho(Pe.id,"locations_town")},className:"text-red-500 opacity-0 group-hover:opacity-20 hover:!opacity-100 transition-all text-xs",children:""})]})]})},Pe.id)):M.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300 p-8 grayscale opacity-50",children:[M.jsx("span",{className:"text-5xl mb-4",children:""}),M.jsx("span",{className:"text-xs uppercase font-black tracking-widest bg-gray-100 px-4 py-2 rounded-full",children:"le sein"})]})})]},"towns")]}):M.jsx(ni.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},className:"lg:col-span-2 flex flex-col h-full bg-white rounded-[2rem] border border-gray-100 shadow-sm overflow-hidden",children:U?M.jsxs("div",{className:"flex flex-col h-full",children:[M.jsxs("div",{className:"p-8 border-b border-gray-50 bg-gray-50/50",children:[M.jsxs("div",{className:"flex justify-between items-center mb-6",children:[M.jsxs("h3",{className:"text-2xl font-black text-gray-900 tracking-tight",children:[U.name," kl Mesafeler"]}),M.jsxs("div",{className:"bg-blue-100 text-blue-700 font-black px-4 py-2 rounded-2xl text-xs uppercase tracking-widest",children:[O.length," ehir Kaytl"]})]}),M.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[M.jsxs("div",{className:"bg-white p-4 rounded-3xl border border-gray-100 shadow-sm",children:[M.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase block mb-1",children:"En Yakn"}),M.jsx("span",{className:"text-lg font-bold text-gray-800",children:O.length>0?O.sort((Pe,Tt)=>Pe.distance_km-Tt.distance_km).filter(Pe=>Pe.distance_km>0)[0]?.to_province_name:"-"})]}),M.jsxs("div",{className:"bg-white p-4 rounded-3xl border border-gray-100 shadow-sm",children:[M.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase block mb-1",children:"En Uzak"}),M.jsx("span",{className:"text-lg font-bold text-gray-800",children:O.length>0?O.sort((Pe,Tt)=>Tt.distance_km-Pe.distance_km)[0]?.to_province_name:"-"})]})]})]}),M.jsx("div",{className:"flex-1 p-8 overflow-y-auto custom-scrollbar",children:M.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[O.map(Pe=>M.jsxs("div",{className:"group bg-gray-50 hover:bg-white hover:shadow-lg hover:shadow-blue-500/5 p-5 rounded-3xl border border-transparent hover:border-blue-100 transition-all",children:[M.jsxs("div",{className:"flex justify-between items-center mb-2",children:[M.jsx("span",{className:"font-bold text-gray-700",children:Pe.to_province_name}),M.jsxs("span",{className:"text-blue-600 font-black text-sm",children:[Pe.distance_km," km"]})]}),M.jsx("div",{className:"w-full bg-gray-200 h-1 rounded-full overflow-hidden",children:M.jsx("div",{className:"bg-blue-500 h-full rounded-full transition-all duration-1000",style:{width:`${Math.min(100,Pe.distance_km/2e3*100)}%`}})})]},Pe.id)),O.length===0&&M.jsx("div",{className:"col-span-full py-12 text-center text-gray-400 font-medium",children:"Bu il iin mesafe verisi bulunamad."})]})})]}):M.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300 p-8 grayscale opacity-50",children:[M.jsx("span",{className:"text-6xl mb-6",children:""}),M.jsx("span",{className:"text-xs uppercase font-black tracking-widest bg-gray-100 px-6 py-3 rounded-full",children:"Mesafeleri grmek iin listeden il sein"})]})},"distances_view")})]}),Je&&M.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:M.jsxs(ni.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden border border-white",children:[M.jsxs("div",{className:"p-8 border-b border-gray-100 flex justify-between items-center bg-gray-50/80",children:[M.jsxs("div",{children:[M.jsx("h2",{className:"text-2xl font-black text-gray-900 tracking-tight",children:"erik Dzenle"}),M.jsx("p",{className:"text-gray-500 text-xs mt-0.5",children:"SEO uyumlu lokasyon sayfas ayarlar"})]}),M.jsx("button",{onClick:()=>Nt(null),className:"w-10 h-10 flex items-center justify-center bg-white rounded-full text-gray-400 hover:text-gray-600 shadow-sm border border-gray-100 transition-all",children:""})]}),M.jsxs("div",{className:"p-8 overflow-y-auto custom-scrollbar space-y-8",children:[M.jsxs("div",{className:"bg-blue-500 text-white rounded-3xl p-6 flex gap-4 shadow-lg shadow-blue-500/20",children:[M.jsx("span",{className:"text-2xl",children:""}),M.jsxs("div",{children:[M.jsx("h4",{className:"font-black text-sm uppercase tracking-widest",children:"SEO Tavsiyesi"}),M.jsx("p",{className:"text-sm opacity-90 mt-1 font-medium leading-relaxed",children:"Her lokasyon iin zgn balk ve ierik girmek SEO performansn artrr. ehir/semt ismini balkta ve metnin ilk paragrafnda geirmeye zen gsterin."})]})]}),M.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[M.jsxs("div",{className:"space-y-2",children:[M.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Sayfa Bal (H1)"}),M.jsx("input",{type:"text",value:Je.title,onChange:Pe=>Nt({...Je,title:Pe.target.value}),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none font-bold text-gray-800 transition-all"})]}),M.jsxs("div",{className:"space-y-2",children:[M.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"URL (Slug)"}),M.jsx("input",{type:"text",value:Je.slug,readOnly:!0,disabled:!0,className:"w-full px-5 py-4 bg-gray-100/50 border border-gray-100 rounded-2xl text-gray-400 font-mono text-xs cursor-not-allowed select-none",title:"Lokasyon URL yaps standarttr, deitirilemez."})]})]}),M.jsxs("div",{className:"space-y-2",children:[M.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"erik (HTML)"}),M.jsx("textarea",{value:Je.content||"",onChange:Pe=>Nt({...Je,content:Pe.target.value}),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none font-mono text-sm h-64 transition-all",placeholder:"<p>Sayfa ierii...</p>"}),M.jsx("p",{className:"text-[10px] text-gray-400 font-bold px-1",children:"Tip: HTML etiketleri (<h2>, <p>, <ul>) kullanabilirsiniz."})]}),M.jsxs("div",{className:"space-y-2",children:[M.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Meta Aklamas (Description)"}),M.jsx("textarea",{value:Je.excerpt||"",onChange:Pe=>Nt({...Je,excerpt:Pe.target.value}),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none text-sm h-28 transition-all",placeholder:"Google arama sonularnda grnecek ksa aklama..."})]})]}),M.jsxs("div",{className:"p-8 border-t border-gray-100 bg-gray-50/80 flex justify-end gap-3",children:[M.jsx("button",{onClick:()=>Nt(null),className:"px-8 py-3 bg-white border border-gray-200 text-gray-700 font-black rounded-2xl hover:bg-gray-100 transition-all uppercase tracking-widest text-xs",children:"ptal"}),M.jsx("button",{onClick:Un,className:"px-8 py-3 bg-blue-600 text-white font-black rounded-2xl hover:bg-blue-700 shadow-xl shadow-blue-500/20 transition-all uppercase tracking-widest text-xs",children:"Kaydet"})]})]})})]})}function kve(){const[l,u]=Ze.useState([]),[p,x]=Ze.useState([]),[A,R]=Ze.useState(!0),O=RT();Ze.useEffect(()=>{I()},[]);const I=async()=>{try{const[ee,ue]=await Promise.all([vs.get("/admin-update.php?table=posts&action=list&post_type=service&post_status=publish"),vs.get("/admin-update.php?table=settings&action=list")]);ee.data.success&&u(ee.data.data||[]),ue.data.success&&x(ue.data.data||[])}catch(ee){console.error("Failed to load data:",ee)}finally{R(!1)}},V=((ee,ue)=>p.find(Ce=>Ce.key===ee)?.value||ue)("seo_service_base","hizmetlerimiz"),Y=async ee=>{if((await go.fire({title:"Emin misiniz?",text:"Bu hizmet kalc olarak silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal"})).isConfirmed)try{await vs.post("/admin-update.php",{action:"delete",table:"posts",id:ee}),loadServices(),go.fire("Silindi!","Hizmet baaryla silindi.","success")}catch{go.fire("Hata","Silme ilemi baarsz","error")}};return A?M.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):M.jsxs(ni.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},className:"space-y-6",children:[M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Hizmetler"}),M.jsx("button",{onClick:()=>O("/services/new"),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold shadow-lg shadow-blue-500/20 transition transform hover:-translate-y-0.5 active:scale-95",children:"+ Yeni Hizmet Ekle"})]}),M.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:M.jsxs("table",{className:"w-full",children:[M.jsx("thead",{className:"bg-gray-50/50 border-b border-gray-100",children:M.jsxs("tr",{children:[M.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Hizmet Ad"}),M.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"URL (Slug)"}),M.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Durum"}),M.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-400 uppercase tracking-widest",children:"lemler"})]})}),M.jsx("tbody",{className:"divide-y divide-gray-100",children:l.map(ee=>M.jsxs("tr",{className:"group hover:bg-blue-50/30 transition-colors",children:[M.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:M.jsx("div",{className:"text-sm font-semibold text-gray-800",children:ee.title})}),M.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:M.jsxs("div",{className:"text-xs text-blue-500 font-mono",children:["/",V,"/",ee.slug]})}),M.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:M.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black tracking-widest uppercase ${ee.post_status==="publish"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:ee.post_status==="publish"?"YAYINDA":"TASLAK"})}),M.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[M.jsx("button",{onClick:()=>O(`/services/edit/${ee.id}`),className:"text-blue-600 hover:text-blue-900 bg-blue-50 px-4 py-1.5 rounded-lg transition-colors",children:"Dzenle"}),M.jsx("button",{onClick:()=>Y(ee.id),className:"text-red-500 hover:text-red-900 px-2 py-1.5 rounded-lg opacity-40 group-hover:opacity-100 transition-opacity",children:"Sil"})]})]},ee.id))})]})})]})}function Dve(){const[l,u]=Ze.useState([]),[p,x]=Ze.useState(!0),A=RT();Ze.useEffect(()=>{R()},[]);const R=async()=>{try{const I=await vs.get("/admin-update.php?table=posts&action=list&post_type=blog");I.data.success&&u(I.data.data||[])}catch(I){console.error("Failed to load blog posts:",I)}finally{x(!1)}},O=async I=>{if((await go.fire({title:"Emin misiniz?",text:"Bu blog yazs kalc olarak silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal"})).isConfirmed)try{await vs.post("/admin-update.php",{action:"delete",table:"posts",id:I}),R(),go.fire("Silindi!","Blog yazs baaryla silindi.","success")}catch{go.fire("Hata","Silme ilemi baarsz","error")}};return p?M.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):M.jsxs(ni.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Blog Yazlar"}),M.jsx("button",{onClick:()=>A("/blog/new"),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold shadow-lg shadow-blue-500/20 transition transform hover:-translate-y-0.5 active:scale-95",children:"+ Yeni Blog Yazs Ekle"})]}),M.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:M.jsxs("table",{className:"w-full",children:[M.jsx("thead",{className:"bg-gray-50/50 border-b border-gray-100",children:M.jsxs("tr",{children:[M.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Balk"}),M.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"URL"}),M.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Durum"}),M.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-400 uppercase tracking-widest",children:"lemler"})]})}),M.jsxs("tbody",{className:"divide-y divide-gray-100",children:[l.map(I=>M.jsxs(ni.tr,{layout:!0,className:"group hover:bg-blue-50/30 transition-colors",children:[M.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:M.jsx("div",{className:"text-sm font-semibold text-gray-800",children:I.title})}),M.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:M.jsxs("div",{className:"text-xs text-gray-400",children:["/blog/",I.slug]})}),M.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:M.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black tracking-widest uppercase ${I.post_status==="publish"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:I.post_status==="publish"?"YAYINDA":"TASLAK"})}),M.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[M.jsx("button",{onClick:()=>A(`/blog/edit/${I.id}`),className:"text-blue-600 hover:text-blue-900 bg-blue-50 px-4 py-1.5 rounded-lg transition-colors",children:"Dzenle"}),M.jsx("button",{onClick:()=>O(I.id),className:"text-red-500 hover:text-red-900 px-2 py-1.5 rounded-lg opacity-40 group-hover:opacity-100 transition-opacity",children:"Sil"})]})]},I.id)),l.length===0&&M.jsx("tr",{children:M.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-gray-400 italic",children:"Henz blog yazs oluturulmam."})})]})]})})]})}function _ve(){const[l,u]=Ze.useState([]),[p,x]=Ze.useState(!0),A=RT();Ze.useEffect(()=>{R()},[]);const R=async()=>{try{const I=await vs.get("/admin-update.php?table=posts&action=list&post_type=page");I.data.success&&u(I.data.data||[])}catch(I){console.error("Failed to load pages:",I)}finally{x(!1)}},O=async I=>{if((await go.fire({title:"Emin misiniz?",text:"Bu sayfa kalc olarak silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal"})).isConfirmed)try{await vs.post("/admin-update.php",{action:"delete",table:"posts",id:I}),R(),go.fire("Silindi!","Sayfa baaryla silindi.","success")}catch{go.fire("Hata","Silme ilemi baarsz","error")}};return p?M.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):M.jsxs(ni.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Kurumsal Sayfalar"}),M.jsx("button",{onClick:()=>A("/pages/new"),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold shadow-lg shadow-blue-500/20 transition transform hover:-translate-y-0.5 active:scale-95",children:"+ Yeni Sayfa Ekle"})]}),M.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:M.jsxs("table",{className:"w-full",children:[M.jsx("thead",{className:"bg-gray-50/50 border-b border-gray-100",children:M.jsxs("tr",{children:[M.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Sayfa Bal"}),M.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"URL"}),M.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Durum"}),M.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-400 uppercase tracking-widest",children:"lemler"})]})}),M.jsxs("tbody",{className:"divide-y divide-gray-100",children:[l.map(I=>M.jsxs(ni.tr,{layout:!0,className:"group hover:bg-blue-50/30 transition-colors",children:[M.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:M.jsx("div",{className:"text-sm font-semibold text-gray-800",children:I.title})}),M.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:M.jsxs("div",{className:"text-xs text-gray-400",children:["/",I.slug]})}),M.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:M.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black tracking-widest uppercase ${I.post_status==="publish"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:I.post_status==="publish"?"YAYINDA":"TASLAK"})}),M.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[M.jsx("button",{onClick:()=>A(`/pages/edit/${I.id}`),className:"text-blue-600 hover:text-blue-900 bg-blue-50 px-4 py-1.5 rounded-lg transition-colors",children:"Dzenle"}),M.jsx("button",{onClick:()=>O(I.id),className:"text-red-500 hover:text-red-900 px-2 py-1.5 rounded-lg opacity-40 group-hover:opacity-100 transition-opacity",children:"Sil"})]})]},I.id)),l.length===0&&M.jsx("tr",{children:M.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-gray-400 italic",children:"Henz sayfa oluturulmam."})})]})]})})]})}function Ove(){const[l,u]=Ze.useState([]),[p,x]=Ze.useState(!0),[A,R]=Ze.useState("");Ze.useEffect(()=>{O()},[]);const O=async()=>{try{const Ce=await vs.get("/admin-update.php?table=posts&action=list&post_type=seo_page");Ce.data.success&&u(Ce.data.data||[])}catch{console.error("Failed to load SEO pages")}finally{x(!1)}},I=async(Ce,pe)=>{const Fe=pe==="publish"?"draft":"publish";try{await vs.post("/admin-update.php",{action:"update",table:"posts",id:Ce,data:{post_status:Fe}}),O()}catch{go.fire("Hata","Durum gncellenemedi","error")}},[U,V]=Ze.useState(null),Y=Ce=>{V({...Ce})},ee=async()=>{try{await vs.post("/admin-update.php",{action:"save-post",...U}),go.fire("Kaydedildi","Sayfa ierii gncellendi","success"),V(null),O()}catch{go.fire("Hata","Kaydetme baarsz","error")}},ue=l.filter(Ce=>Ce.title?.toLowerCase().includes(A.toLowerCase())||Ce.slug?.toLowerCase().includes(A.toLowerCase()));return p?M.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):M.jsxs(ni.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[M.jsx("div",{className:"flex justify-between items-center",children:M.jsxs("div",{children:[M.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Dinamik SEO Sayfalar"}),M.jsx("p",{className:"text-gray-500 text-sm",children:"Lokasyon ve hizmet kombinasyonlarndan oluan sayfalar"})]})}),M.jsxs("div",{className:"flex gap-4 items-center bg-white p-4 rounded-2xl border border-gray-100 shadow-sm",children:[M.jsx("span",{className:"text-gray-400 ml-2",children:""}),M.jsx("input",{type:"text",placeholder:"Sayfa veya URL ara...",value:A,onChange:Ce=>R(Ce.target.value),className:"flex-1 bg-transparent border-none focus:ring-0 text-sm font-medium outline-none"})]}),M.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:M.jsxs("table",{className:"w-full",children:[M.jsx("thead",{className:"bg-gray-50/50 border-b border-gray-100",children:M.jsxs("tr",{children:[M.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Sayfa / Balk"}),M.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"URL (Slug)"}),M.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Tip"}),M.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Durum"}),M.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-400 uppercase tracking-widest",children:"lem"})]})}),M.jsx("tbody",{className:"divide-y divide-gray-100",children:ue.map(Ce=>M.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[M.jsxs("td",{className:"px-6 py-4",children:[M.jsx("div",{className:"text-sm font-bold text-gray-800 line-clamp-1",children:Ce.title}),M.jsx("div",{className:"text-[10px] text-gray-400 mt-0.5 line-clamp-1",children:Ce.excerpt})]}),M.jsx("td",{className:"px-6 py-4",children:M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsxs("div",{className:"text-xs font-mono text-blue-500",children:["/",Ce.slug]}),M.jsx("a",{href:`/${Ce.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-600 transition-colors",title:"Sayfay Grntle",children:""})]})}),M.jsx("td",{className:"px-6 py-4",children:M.jsx("span",{className:"px-2 py-0.5 rounded bg-gray-100 text-[10px] font-black uppercase text-gray-500 tracking-tighter",children:Ce.post_type})}),M.jsx("td",{className:"px-6 py-4",children:M.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold ${Ce.post_status==="publish"?"text-green-600 bg-green-50":"text-gray-500 bg-gray-100"}`,children:Ce.post_status==="publish"?"YAYINDA":"TASLAK"})}),M.jsx("td",{className:"px-6 py-4 text-right",children:M.jsxs("div",{className:"flex justify-end gap-2",children:[M.jsx("button",{onClick:()=>Y(Ce),className:"px-3 py-1.5 bg-blue-50 text-blue-600 hover:bg-blue-100 rounded-lg text-xs font-bold transition-colors",children:"Dzenle "}),M.jsx("button",{onClick:()=>I(Ce.id,Ce.post_status),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-colors ${Ce.post_status==="publish"?"bg-amber-50 text-amber-600 hover:bg-amber-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,children:Ce.post_status==="publish"?"Pasifletir":"Yaynla"})]})})]},Ce.id))})]})}),U&&M.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:M.jsxs(ni.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden",children:[M.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[M.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Sayfa Dzenle"}),M.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-gray-600",children:""})]}),M.jsxs("div",{className:"p-6 overflow-y-auto custom-scrollbar space-y-6",children:[M.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Sayfa Bal (H1)"}),M.jsx("input",{type:"text",value:U.title,onChange:Ce=>V({...U,title:Ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none font-bold text-gray-800"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"URL (Slug)"}),M.jsx("input",{type:"text",value:U.slug,onChange:Ce=>V({...U,slug:Ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none font-mono text-sm text-gray-600"})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"erik (HTML)"}),M.jsx("textarea",{value:U.content||"",onChange:Ce=>V({...U,content:Ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none font-mono text-sm h-64",placeholder:"<p>Sayfa ierii...</p>"}),M.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"HTML etiketleri kullanabilirsiniz."})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Meta Aklamas (Description)"}),M.jsx("textarea",{value:U.excerpt||"",onChange:Ce=>V({...U,excerpt:Ce.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm h-24",placeholder:"Google arama sonularnda grnecek ksa aklama..."})]})]}),M.jsxs("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end gap-3",children:[M.jsx("button",{onClick:()=>V(null),className:"px-6 py-2.5 bg-white border border-gray-200 text-gray-700 font-bold rounded-xl hover:bg-gray-50 transition-colors",children:"ptal"}),M.jsx("button",{onClick:ee,className:"px-6 py-2.5 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all",children:"Deiiklikleri Kaydet"})]})]})})]})}function Nve({quote:l,isOpen:u,onClose:p,onAssigned:x}){const[A,R]=Ze.useState([]),[O,I]=Ze.useState(!0),[U,V]=Ze.useState(null),[Y,ee]=Ze.useState(""),[ue,Ce]=Ze.useState(!1);Ze.useEffect(()=>{u&&l&&pe()},[u,l]);const pe=async()=>{I(!0);try{const Oe=await vs.get(`/freelancer-matches.php?quote_id=${l.id}`);Oe.data.success&&R(Oe.data.matches||[])}catch(Oe){console.error("Failed to load matches:",Oe),go.fire("Hata","Elemeler yklenemedi","error")}finally{I(!1)}},Fe=async()=>{if(!U){go.fire("Uyar","Ltfen bir freelancer sein","warning");return}Ce(!0);try{(await vs.post("/quote-assignments.php",{quote_id:l.id,freelancer_id:U.id,admin_note:Y,status:"pending"})).data.success&&(go.fire("Baarl","Teklif freelancer'a atand","success"),x?.(),p())}catch(Oe){console.error("Assignment failed:",Oe),go.fire("Hata",Oe.response?.data?.error||"Atama baarsz","error")}finally{Ce(!1)}},be=Oe=>Oe>=150?"text-green-600 bg-green-50":Oe>=100?"text-blue-600 bg-blue-50":Oe>=50?"text-amber-600 bg-amber-50":"text-gray-600 bg-gray-50",lt=Oe=>Oe>=150?"Mkemmel Eleme":Oe>=100?"yi Eleme":Oe>=50?"Orta Eleme":"Dk Eleme";return u?M.jsx(HC,{children:M.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:M.jsxs(ni.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-3xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[M.jsxs("div",{className:"px-8 py-6 border-b border-gray-100 flex items-center justify-between bg-gradient-to-r from-blue-50 to-white",children:[M.jsxs("div",{children:[M.jsx("h2",{className:"text-2xl font-black text-gray-900",children:"Freelancer Ata"}),M.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[M.jsx("span",{className:"font-bold",children:l.name}),"  ",l.location||"Lokasyon belirtilmemi"]})]}),M.jsx("button",{onClick:p,className:"w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors",children:M.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),M.jsxs("div",{className:"flex-1 overflow-y-auto p-8",children:[O?M.jsxs("div",{className:"text-center py-12",children:[M.jsx("div",{className:"inline-block w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),M.jsx("p",{className:"mt-4 text-gray-500",children:"Uygun freelancer'lar aranyor..."})]}):A.length===0?M.jsxs("div",{className:"text-center py-12",children:[M.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:M.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),M.jsx("p",{className:"text-gray-500 font-medium",children:"Uygun freelancer bulunamad"}),M.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Bu blgede alan onayl freelancer yok"})]}):M.jsx("div",{className:"space-y-4",children:A.map(Oe=>{const J=Oe.freelancer,it=U?.id===J.id;return M.jsx(ni.div,{whileHover:{scale:1.01},onClick:()=>V(J),className:`p-6 rounded-2xl border-2 cursor-pointer transition-all ${it?"border-blue-500 bg-blue-50 shadow-lg":"border-gray-100 hover:border-gray-200 bg-white"}`,children:M.jsxs("div",{className:"flex items-start justify-between",children:[M.jsxs("div",{className:"flex-1",children:[M.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[M.jsx("h3",{className:"text-lg font-bold text-gray-900",children:J.name}),M.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-black uppercase tracking-wider ${be(Oe.score)}`,children:lt(Oe.score)})]}),M.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-3",children:[M.jsxs("div",{children:[M.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider block mb-1",children:"ehir"}),M.jsx("span",{className:"text-gray-700 font-medium",children:J.city})]}),M.jsxs("div",{children:[M.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider block mb-1",children:"Deneyim"}),M.jsxs("span",{className:"text-gray-700 font-medium",children:[J.experience," yl"]})]}),M.jsxs("div",{children:[M.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider block mb-1",children:"letiim"}),M.jsx("span",{className:"text-gray-700 font-medium text-xs",children:J.email})]}),M.jsxs("div",{children:[M.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider block mb-1",children:"Telefon"}),M.jsx("span",{className:"text-gray-700 font-medium",children:J.phone})]})]}),J.specialization&&M.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:JSON.parse(J.specialization).map(jt=>M.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs font-bold text-gray-600 uppercase",children:jt},jt))}),Oe.match_details&&M.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[M.jsxs("div",{children:[" ",Oe.match_details.location]}),Oe.match_details.specialization&&M.jsxs("div",{children:[" ",Oe.match_details.specialization]})]})]}),M.jsx("div",{className:"ml-4",children:M.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center text-2xl font-black ${be(Oe.score)}`,children:Oe.score})})]})},J.id)})}),U&&M.jsxs("div",{className:"mt-6 p-6 bg-gray-50 rounded-2xl border border-gray-200",children:[M.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Admin Notu (Opsiyonel)"}),M.jsx("textarea",{value:Y,onChange:Oe=>ee(Oe.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all resize-none",rows:"3",placeholder:"Bu atama hakknda not ekleyin..."})]})]}),M.jsxs("div",{className:"px-8 py-6 border-t border-gray-100 flex items-center justify-between bg-gray-50",children:[M.jsx("button",{onClick:p,className:"px-6 py-3 rounded-xl font-bold text-gray-600 hover:bg-gray-200 transition-colors",children:"ptal"}),M.jsx("button",{onClick:Fe,disabled:!U||ue,className:"px-8 py-3 rounded-xl font-bold text-white bg-blue-600 hover:bg-blue-500 disabled:bg-gray-300 disabled:cursor-not-allowed transition-all shadow-lg shadow-blue-500/20",children:ue?"Atanyor...":"Freelancer'a Ata"})]})]})})}):null}function Rve(){const[l,u]=Ze.useState([]),[p,x]=Ze.useState(!0),[A,R]=Ze.useState("all"),[O,I]=Ze.useState(null),[U,V]=Ze.useState([]),[Y,ee]=Ze.useState(!1);Ze.useEffect(()=>{ue()},[]),Ze.useEffect(()=>{O&&Fe(O.id)},[O]);const ue=async()=>{try{const Oe=await vs.get("/admin-update.php?table=quotes&action=list");if(Oe.data.success){const J=(Oe.data.data||[]).sort((it,jt)=>new Date(jt.created_at)-new Date(it.created_at));u(J)}}catch(Oe){console.error("Failed to load quotes:",Oe)}finally{x(!1)}},Ce=async Oe=>{try{await vs.post("/admin-update.php",{action:"update",table:"quotes",id:Oe.id,data:{is_read:!Oe.is_read}}),ue(),O?.id===Oe.id&&I({...Oe,is_read:!Oe.is_read})}catch{go.fire("Hata","Durum gncellenemedi","error")}},pe=async Oe=>{if((await go.fire({title:"Emin misiniz?",text:"Bu talep kalc olarak silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal"})).isConfirmed)try{await vs.post("/admin-update.php",{action:"delete",table:"quotes",id:Oe}),ue(),I(null),go.fire("Silindi!","Talep baaryla silindi.","success")}catch{go.fire("Hata","Silme ilemi baarsz","error")}},Fe=async Oe=>{try{const J=await vs.get(`/quote-assignments.php?quote_id=${Oe}`);if(console.log("Assignments response:",J.data),J.data.success){const it=Array.isArray(J.data.data)?J.data.data:[];V(it)}}catch(J){console.error("Failed to load assignments:",J),V([])}},be=()=>{O&&Fe(O.id),ue()},lt=l.filter(Oe=>A==="new"?!Oe.is_read:A==="read"?Oe.is_read:!0);return p?M.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):M.jsxs(ni.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[M.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[M.jsxs("div",{children:[M.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Teklif Talepleri"}),M.jsx("p",{className:"text-gray-500 text-sm",children:"Gelen i talepleri ve mteri mesajlar"})]}),M.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl",children:[{id:"all",label:"Tm",count:l.length},{id:"new",label:"Yeni",count:l.filter(Oe=>!Oe.is_read).length},{id:"read",label:"Okundu",count:l.filter(Oe=>Oe.is_read).length}].map(Oe=>M.jsxs("button",{onClick:()=>R(Oe.id),className:`px-4 py-1.5 rounded-lg text-xs font-bold transition-all ${A===Oe.id?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[Oe.label," (",Oe.count,")"]},Oe.id))})]}),M.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[M.jsxs("div",{className:`xl:col-span-1 space-y-3 max-h-[700px] overflow-y-auto pr-2 custom-scrollbar ${O?"hidden xl:block":"block"}`,children:[lt.map(Oe=>M.jsxs(ni.div,{layout:!0,onClick:()=>I(Oe),className:`p-4 rounded-2xl border cursor-pointer transition-all ${O?.id===Oe.id?"bg-blue-600 border-blue-600 text-white shadow-lg shadow-blue-200":`bg-white hover:bg-gray-50 border-gray-100 ${Oe.is_read?"":"border-l-4 border-l-blue-500"}`}`,children:[M.jsxs("div",{className:"flex justify-between items-start mb-1",children:[M.jsx("span",{className:"text-[10px] font-black uppercase text-blue-500 tracking-widest",children:Oe.id?`MF-${String(Oe.id).padStart(5,"0")}`:"---"}),M.jsx("span",{className:"text-[10px] opacity-60",children:new Date(Oe.created_at).toLocaleDateString("tr-TR")})]}),M.jsx("div",{className:"flex justify-between items-center mb-1",children:M.jsx("span",{className:"text-xs font-black uppercase opacity-60 tracking-widest",children:Oe.service||"Genel"})}),M.jsx("div",{className:`font-bold ${O?.id===Oe.id?"text-white":"text-gray-800"}`,children:Oe.name}),M.jsx("div",{className:"text-xs truncate opacity-70",children:Oe.email})]},Oe.id)),lt.length===0&&M.jsx("div",{className:"text-center py-12 text-gray-400 italic bg-white rounded-3xl border border-dashed border-gray-200",children:"Talep bulunamad."})]}),M.jsx("div",{className:`xl:col-span-2 ${O?"block":"hidden xl:flex"}`,children:M.jsx(HC,{mode:"wait",children:O?M.jsxs(ni.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"bg-white rounded-3xl border border-gray-100 shadow-sm p-8 h-full flex flex-col",children:[M.jsxs("div",{className:"flex justify-between items-start mb-8",children:[M.jsx("button",{onClick:()=>I(null),className:"xl:hidden p-2 hover:bg-gray-100 rounded-lg text-gray-400",children:" Geri"}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("button",{onClick:()=>Ce(O),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${O.is_read?"bg-gray-100 text-gray-600":"bg-green-100 text-green-700"}`,children:O.is_read?"Okunmad Olarak aretle":"Okundu Olarak aretle"}),M.jsx("button",{onClick:()=>pe(O.id),className:"p-2 text-red-400 hover:bg-red-50 rounded-xl transition-colors",children:""})]})]}),M.jsxs("div",{className:"space-y-6 flex-1",children:[M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[M.jsxs("div",{children:[M.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-2",children:"Mteri Bilgileri"}),M.jsxs("div",{className:"space-y-3",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),M.jsx("div",{className:"text-lg font-bold text-gray-800",children:O.name})]}),M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),M.jsx("div",{className:"text-sm text-gray-600 font-medium",children:O.email})]}),M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),M.jsx("div",{className:"text-sm text-gray-600 font-medium",children:O.phone})]})]})]}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-2",children:"Talep Detaylar"}),M.jsxs("div",{className:"space-y-3",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("span",{className:"w-8 h-8 rounded-full bg-amber-50 text-amber-500 flex items-center justify-center text-xs",children:""}),M.jsxs("div",{children:[M.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:"Hizmet"}),M.jsx("div",{className:"text-sm font-bold text-gray-800",children:O.service||"Genel"})]})]}),M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("span",{className:"w-8 h-8 rounded-full bg-amber-50 text-amber-500 flex items-center justify-center text-xs",children:""}),M.jsxs("div",{children:[M.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:"Tarih"}),M.jsx("div",{className:"text-sm font-bold text-gray-800",children:new Date(O.created_at).toLocaleString("tr-TR")})]})]})]})]})]}),O.wizard_details&&M.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100",children:[M.jsx("h3",{className:"text-[10px] font-black text-blue-500 uppercase tracking-[0.2em] mb-4",children:"Sihirbaz Detaylar"}),M.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(JSON.parse(typeof O.wizard_details=="string"?O.wizard_details:JSON.stringify(O.wizard_details))).map(([Oe,J])=>M.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:[M.jsx("div",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-wider mb-1",children:Oe.replace(/_/g," ")}),M.jsx("div",{className:"text-sm font-bold text-gray-800",children:String(J)})]},Oe))})]}),M.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-50",children:[M.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Mesaj / Ek Bilgiler"}),M.jsx("div",{className:"bg-gray-50 p-6 rounded-2xl text-gray-700 leading-relaxed whitespace-pre-wrap italic border border-dashed border-gray-200",children:O.message||"Ek bilgi belirtilmemi."})]}),M.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100",children:[M.jsxs("div",{className:"flex items-center justify-between mb-4",children:[M.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Freelancer Atamalar"}),M.jsxs("button",{onClick:()=>ee(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-xl text-xs font-bold transition-all shadow-lg shadow-blue-500/20 flex items-center gap-2",children:[M.jsx("span",{children:""}),"Freelancer Ata"]})]}),U.length>0?M.jsx("div",{className:"space-y-3",children:U.map(Oe=>M.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[M.jsxs("div",{className:"flex items-center justify-between mb-2",children:[M.jsx("div",{className:"font-bold text-gray-900",children:Oe.freelancer?.name}),M.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-black uppercase ${Oe.status==="accepted"?"bg-green-100 text-green-700":Oe.status==="rejected"?"bg-red-100 text-red-700":Oe.status==="completed"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:Oe.status==="pending"?"Beklemede":Oe.status==="accepted"?"Kabul Edildi":Oe.status==="rejected"?"Reddedildi":"Tamamland"})]}),M.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[M.jsxs("div",{children:[" ",Oe.freelancer?.email]}),M.jsxs("div",{children:[" ",Oe.freelancer?.phone]}),M.jsxs("div",{children:[" ",Oe.freelancer?.city]}),M.jsxs("div",{children:[" Atand: ",new Date(Oe.assigned_at).toLocaleString("tr-TR")]}),Oe.admin_note&&M.jsxs("div",{className:"mt-2 p-2 bg-white rounded border border-slate-200",children:[M.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase mb-1",children:"Admin Notu:"}),M.jsx("div",{className:"text-xs text-gray-700",children:Oe.admin_note})]})]})]},Oe.id))}):M.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"Henz freelancer atamas yaplmam"})]})]}),M.jsxs("p",{className:"text-[10px] text-blue-500 mt-8 text-center uppercase tracking-[0.3em] font-black",children:["Teklif No: ",O.id?`MF-${String(O.id).padStart(5,"0")}`:O.id]})]},O.id):M.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-300 border-2 border-dashed border-gray-100 rounded-3xl bg-gray-50/30",children:[M.jsx("span",{className:"text-6xl mb-4",children:""}),M.jsx("p",{className:"font-bold tracking-tight uppercase text-xs opacity-50",children:"Detaylar grmek iin bir talep sein"})]})})})]}),M.jsx(Nve,{quote:O,isOpen:Y,onClose:()=>ee(!1),onAssigned:be})]})}function Mve(){const[l,u]=Ze.useState([]),[p,x]=Ze.useState([]),[A,R]=Ze.useState(null),[O,I]=Ze.useState(null),[U,V]=Ze.useState(!0),[Y,ee]=Ze.useState(!1);Ze.useEffect(()=>{ue(A)},[A]);const ue=async Oe=>{V(!0);try{const J=await vs.get(`/media.php?action=list&folder_id=${Oe||""}`);J.data.success&&(u(J.data.folders),x(J.data.files),I(J.data.parent_id))}catch{console.error("Failed to load media")}finally{V(!1)}},Ce=async()=>{const{value:Oe}=await go.fire({title:"Yeni Klasr",input:"text",inputLabel:"Klasr Ad",inputPlaceholder:"rn: Villalar, Dn ekimleri...",showCancelButton:!0,confirmButtonText:"Olutur",cancelButtonText:"ptal",customClass:{confirmButton:"bg-blue-600 rounded-xl px-6 py-2.5 font-bold",cancelButton:"bg-gray-100 text-gray-600 rounded-xl px-6 py-2.5 font-bold"}});if(Oe)try{await vs.post("/media.php",{action:"create-folder",name:Oe,parent_id:A}),ue(A)}catch{go.fire("Hata","Klasr oluturulamad","error")}},pe=async Oe=>{const J=Array.from(Oe.target.files);if(J.length===0)return;ee(!0);let it=0,jt=0;try{await Promise.all(J.map(async Ke=>{const ie=new FormData;ie.append("file",Ke),ie.append("folder_id",A||""),ie.append("action","upload");try{await vs.post("/media.php",ie,{headers:{"Content-Type":"multipart/form-data"}}),it++}catch(ut){console.error("Upload failed for file:",Ke.name,ut),jt++}})),ue(A),jt===0?go.fire({title:"Yklendi",text:`${it} dosya baaryla yklendi.`,icon:"success",timer:1500,showConfirmButton:!1}):go.fire({title:"Tamamland",text:`${it} dosya yklendi, ${jt} dosya ise yklenemedi.`,icon:"warning"})}catch{go.fire("Hata","Ykleme ilemi balatlamad","error")}finally{ee(!1),Oe.target.value=""}},Fe=(Oe,J="url")=>{navigator.clipboard.writeText(Oe),go.fire({title:J==="url"?"Link Kopyaland":"Kod Kopyaland",text:J==="url"?"Resim adresi panoya kopyaland.":"Galeri kodu panoya kopyaland.",icon:"success",timer:1e3,showConfirmButton:!1,toast:!0,position:"bottom-end"})},be=async Oe=>{if((await go.fire({title:"Emin misiniz?",text:"Bu dosya kalc olarak silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal"})).isConfirmed)try{await vs.post("/media.php",{action:"delete-file",id:Oe}),ue(A)}catch{go.fire("Hata","Silinemedi","error")}},lt=async Oe=>{if((await go.fire({title:"Emin misiniz?",text:"Klasrn iindeki her ey silinecektir (Dosyalar varsa nce onlar silmelisiniz).",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal"})).isConfirmed)try{await vs.post("/media.php",{action:"delete-folder",id:Oe}),ue(A)}catch(it){go.fire("Hata",it.response?.data?.error||"Silinemedi","error")}};return M.jsxs(ni.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[M.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[M.jsxs("div",{children:[M.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Medya Ktphanesi"}),M.jsx("p",{className:"text-gray-500 text-sm",children:"Grsellerinizi ve galeri klasrlerinizi ynetin"})]}),M.jsxs("div",{className:"flex gap-2",children:[M.jsxs("button",{onClick:Ce,className:"px-5 py-2.5 bg-white border border-gray-200 text-gray-700 hover:bg-gray-50 rounded-xl font-bold transition-all shadow-sm flex items-center gap-2",children:[M.jsx("span",{children:""})," Yeni Klasr"]}),M.jsxs("label",{className:`px-5 py-2.5 ${Y?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"} text-white rounded-xl font-bold cursor-pointer transition-all shadow-lg shadow-blue-500/20 flex items-center gap-2`,children:[M.jsx("span",{children:Y?"":""}),Y?"Ykleniyor...":"Dosya Ykle",M.jsx("input",{type:"file",className:"hidden",onChange:pe,disabled:Y,accept:"image/*",multiple:!0})]})]})]}),M.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white/50 backdrop-blur-sm rounded-2xl border border-gray-100",children:[M.jsx("button",{onClick:()=>R(null),className:`px-3 py-1 rounded-lg text-xs font-black tracking-widest uppercase transition-colors ${A?"text-gray-400 hover:text-blue-500":"bg-blue-100 text-blue-600"}`,children:"ROOT"}),A&&M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("span",{className:"text-gray-300",children:"/"}),M.jsxs("button",{onClick:()=>R(O),className:"flex items-center gap-1.5 px-3 py-1 rounded-lg text-xs font-bold text-blue-500 hover:bg-blue-50 transition-colors",children:[M.jsx("span",{className:"text-sm",children:""})," Geri Dn"]})]})]}),U?M.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-6 animate-pulse",children:[...Array(12)].map((Oe,J)=>M.jsx("div",{className:"aspect-square bg-gray-100 rounded-3xl"},J))}):M.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-6",children:[M.jsxs(HC,{mode:"popLayout",children:[l.map(Oe=>M.jsxs(ni.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"group relative aspect-square bg-white rounded-3xl shadow-sm border border-gray-100 hover:border-blue-400 hover:shadow-xl hover:shadow-blue-500/5 transition-all p-4 flex flex-col items-center justify-center cursor-pointer",onClick:()=>R(Oe.id),children:[M.jsxs("div",{className:"absolute inset-0 bg-blue-900/60 opacity-0 group-hover:opacity-100 transition-all flex flex-col items-center justify-center gap-3 rounded-3xl z-10",children:[M.jsx("button",{onClick:J=>{J.stopPropagation(),Fe(`[gallery id="${Oe.id}"]`,"shortcode")},className:"w-12 h-12 bg-white rounded-xl text-green-600 shadow-xl hover:scale-110 active:scale-95 transition-all flex items-center justify-center",title:"Galeri Kodunu Kopyala",children:""}),M.jsx("div",{className:"text-[10px] text-white/80 font-black tracking-widest uppercase",children:"Galeri Kodu"})]}),M.jsx("div",{className:"text-5xl mb-2 drop-shadow-sm group-hover:scale-110 transition-transform",children:""}),M.jsx("span",{className:"text-[11px] font-bold text-gray-700 text-center truncate w-full px-2 uppercase tracking-tighter",children:Oe.name}),M.jsx("button",{onClick:J=>{J.stopPropagation(),lt(Oe.id)},className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 p-1.5 text-red-500 hover:bg-red-50 rounded-xl transition-all z-20",children:""})]},Oe.id)),p.map(Oe=>M.jsxs(ni.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"group relative aspect-square bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden hover:border-blue-400 hover:shadow-xl hover:shadow-blue-500/5 transition-all",children:[M.jsxs("div",{className:"w-full h-full relative",children:[Oe.mime_type?.startsWith("image/")?M.jsx("img",{src:Oe.public_url,alt:Oe.alt,className:"w-full h-full object-cover"}):M.jsx("div",{className:"w-full h-full flex items-center justify-center text-4xl bg-gray-50",children:""}),M.jsxs("div",{className:"absolute inset-0 bg-blue-900/60 opacity-0 group-hover:opacity-100 transition-all flex flex-col items-center justify-center gap-3",children:[M.jsx("div",{className:"flex gap-2",children:M.jsx("button",{onClick:()=>Fe(Oe.public_url),className:"w-12 h-12 bg-white rounded-xl text-blue-600 shadow-xl hover:scale-110 active:scale-95 transition-all flex items-center justify-center",title:"Link Kopyala",children:""})}),M.jsx("div",{className:"text-[10px] text-white/80 font-black tracking-widest uppercase",children:"Link Kopyala"})]})]}),M.jsx("div",{className:"absolute top-2 right-2 flex gap-1",children:M.jsx("button",{onClick:()=>be(Oe.id),className:"opacity-0 group-hover:opacity-100 w-7 h-7 bg-red-500/80 backdrop-blur-md text-white rounded-lg flex items-center justify-center text-xs hover:bg-red-600 transition-all shadow-lg",children:""})}),M.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-2 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:M.jsxs("p",{className:"text-[9px] font-bold text-white truncate uppercase tracking-tighter",children:[(Oe.file_size/1024).toFixed(1)," KB"]})})]},Oe.id))]}),l.length===0&&p.length===0&&M.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center justify-center text-gray-300 border-2 border-dashed border-gray-100 rounded-[3rem] bg-gray-50/20",children:[M.jsx("span",{className:"text-6xl mb-4",children:""}),M.jsx("p",{className:"font-black uppercase text-xs tracking-[0.2em] opacity-30",children:"Buralar ok Issz..."})]})]})]})}function Bve(){const[l,u]=Ze.useState([]),[p,x]=Ze.useState(!0);Ze.useEffect(()=>{A()},[]);const A=async()=>{try{const V=await vs.get("/pexels-images.php");V.data.success&&u(V.data.images)}catch(V){console.error("Failed to load images",V),go.fire("Hata","Grseller yklenemedi","error")}finally{x(!1)}},R=async V=>{try{const Y=!V.is_visible;u(ee=>ee.map(ue=>ue.id===V.id?{...ue,is_visible:Y}:ue)),await vs.post("/pexels-images.php",{action:"toggle",id:V.id,is_visible:Y})}catch{go.fire("Hata","Durum gncellenemedi","error"),A()}},O=async V=>{if((await go.fire({title:"Emin misiniz?",text:"Bu grsel koleksiyondan kaldrlacak.",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, Sil",cancelButtonText:"ptal"})).isConfirmed)try{await vs.post("/pexels-images.php",{action:"delete",id:V}),u(ee=>ee.filter(ue=>ue.id!==V)),go.fire("Silindi","Grsel kaldrld.","success")}catch{go.fire("Hata","Silinemedi","error")}},I=async()=>{x(!0);try{const V=await vs.post("/pexels-images.php",{action:"sync"});V.data.success&&(go.fire("Eitlendi",`${V.data.synced_count} yeni grsel eklendi.`,"success"),A())}catch(V){console.error("Sync error:",V);const Y=V.response?.data?.error||V.message||"Senkronizasyon baarsz oldu.",ee=V.response?.data?.file?`
File: ${V.response.data.file}:${V.response.data.line}`:"";go.fire("Hata",Y+ee,"error")}finally{x(!1)}},U=async()=>{const{value:V}=await go.fire({title:"Yeni Pexels Grseli",input:"url",inputLabel:"Grsel URL (Pexels src)",inputPlaceholder:"https://images.pexels.com/...",showCancelButton:!0,confirmButtonText:"Ekle",cancelButtonText:"ptal"});if(V)try{await vs.post("/pexels-images.php",{action:"add",image_url:V,photographer:"Admin Added"}),A(),go.fire("Baarl","Grsel eklendi","success")}catch{go.fire("Hata","Ekleme baarsz","error")}};return p?M.jsx("div",{className:"p-8 text-center text-gray-500",children:"Ykleniyor..."}):M.jsxs(ni.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsxs("div",{children:[M.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Pexels Koleksiyonu"}),M.jsx("p",{className:"text-gray-500 text-sm",children:"Sitede rastgele gsterilen arka plan grsellerini ynetin."})]}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("button",{onClick:I,disabled:p,className:"px-6 py-2.5 bg-gray-600 text-white rounded-xl font-bold hover:bg-gray-700 transition-all shadow-sm",children:" Senkronize Et"}),M.jsx("button",{onClick:U,className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-500/30 hover:bg-indigo-700 hover:scale-105 transition-all",children:"+ Yeni Ekle"})]})]}),M.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:M.jsx(HC,{children:l.map(V=>M.jsxs(ni.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:`group relative rounded-3xl overflow-hidden shadow-sm border-2 transition-all ${V.is_visible?"border-transparent shadow-md":"border-red-200 grayscale opacity-70"}`,children:[M.jsxs("div",{className:"aspect-[3/4] relative",children:[M.jsx("img",{src:V.image_url,alt:V.photographer,className:"w-full h-full object-cover",loading:"lazy"}),M.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center gap-3",children:[M.jsx("button",{onClick:()=>R(V),className:`px-4 py-2 rounded-lg font-bold text-xs uppercase tracking-wider ${V.is_visible?"bg-red-500 text-white":"bg-green-500 text-white"}`,children:V.is_visible?"Pasifletir":"Aktifletir"}),M.jsx("button",{onClick:()=>O(V.id),className:"p-2 bg-white/20 text-white rounded-full hover:bg-red-600 transition-colors",title:"Sil",children:""})]}),M.jsx("div",{className:"absolute top-3 right-3",children:M.jsx("span",{className:`w-3 h-3 rounded-full block shadow-sm ${V.is_visible?"bg-green-500":"bg-red-500"}`})})]}),M.jsx("div",{className:"p-3 bg-white text-xs text-center text-gray-500 font-medium truncate",children:V.photographer||"Fotoraf Bilinmiyor"})]},V.id))})}),l.length===0&&M.jsx("div",{className:"text-center py-20 bg-gray-50 rounded-3xl border-2 border-dashed border-gray-200 text-gray-400",children:"Henz grsel eklenmemi."})]})}var yee={exports:{}},vee,wre;function Lve(){if(wre)return vee;wre=1;var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return vee=l,vee}var xee,Cre;function Pve(){if(Cre)return xee;Cre=1;var l=Lve();function u(){}function p(){}return p.resetWarningCache=u,xee=function(){function x(O,I,U,V,Y,ee){if(ee!==l){var ue=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ue.name="Invariant Violation",ue}}x.isRequired=x;function A(){return x}var R={array:x,bigint:x,bool:x,func:x,number:x,object:x,string:x,symbol:x,any:x,arrayOf:A,element:x,elementType:x,instanceOf:A,node:x,objectOf:A,oneOf:A,oneOfType:A,shape:A,exact:A,checkPropTypes:p,resetWarningCache:u};return R.PropTypes=R,R},xee}var Sre;function Fve(){return Sre||(Sre=1,yee.exports=Pve()()),yee.exports}var Vn=Fve(),nte=function(){return nte=Object.assign||function(l){for(var u,p=1,x=arguments.length;p<x;p++){u=arguments[p];for(var A in u)Object.prototype.hasOwnProperty.call(u,A)&&(l[A]=u[A])}return l},nte.apply(this,arguments)},Tue={onActivate:Vn.func,onAddUndo:Vn.func,onBeforeAddUndo:Vn.func,onBeforeExecCommand:Vn.func,onBeforeGetContent:Vn.func,onBeforeRenderUI:Vn.func,onBeforeSetContent:Vn.func,onBeforePaste:Vn.func,onBlur:Vn.func,onChange:Vn.func,onClearUndos:Vn.func,onClick:Vn.func,onContextMenu:Vn.func,onCommentChange:Vn.func,onCompositionEnd:Vn.func,onCompositionStart:Vn.func,onCompositionUpdate:Vn.func,onCopy:Vn.func,onCut:Vn.func,onDblclick:Vn.func,onDeactivate:Vn.func,onDirty:Vn.func,onDrag:Vn.func,onDragDrop:Vn.func,onDragEnd:Vn.func,onDragGesture:Vn.func,onDragOver:Vn.func,onDrop:Vn.func,onExecCommand:Vn.func,onFocus:Vn.func,onFocusIn:Vn.func,onFocusOut:Vn.func,onGetContent:Vn.func,onHide:Vn.func,onInit:Vn.func,onInput:Vn.func,onKeyDown:Vn.func,onKeyPress:Vn.func,onKeyUp:Vn.func,onLoadContent:Vn.func,onMouseDown:Vn.func,onMouseEnter:Vn.func,onMouseLeave:Vn.func,onMouseMove:Vn.func,onMouseOut:Vn.func,onMouseOver:Vn.func,onMouseUp:Vn.func,onNodeChange:Vn.func,onObjectResizeStart:Vn.func,onObjectResized:Vn.func,onObjectSelected:Vn.func,onPaste:Vn.func,onPostProcess:Vn.func,onPostRender:Vn.func,onPreProcess:Vn.func,onProgressState:Vn.func,onRedo:Vn.func,onRemove:Vn.func,onReset:Vn.func,onSaveContent:Vn.func,onSelectionChange:Vn.func,onSetAttrib:Vn.func,onSetContent:Vn.func,onShow:Vn.func,onSubmit:Vn.func,onUndo:Vn.func,onVisualAid:Vn.func,onSkinLoadError:Vn.func,onThemeLoadError:Vn.func,onModelLoadError:Vn.func,onPluginLoadError:Vn.func,onIconsLoadError:Vn.func,onLanguageLoadError:Vn.func,onScriptsLoad:Vn.func,onScriptsLoadError:Vn.func},$ve=nte({apiKey:Vn.string,licenseKey:Vn.string,id:Vn.string,inline:Vn.bool,init:Vn.object,initialValue:Vn.string,onEditorChange:Vn.func,value:Vn.string,tagName:Vn.string,tabIndex:Vn.number,cloudChannel:Vn.string,plugins:Vn.oneOfType([Vn.string,Vn.array]),toolbar:Vn.oneOfType([Vn.string,Vn.array]),disabled:Vn.bool,readonly:Vn.bool,textareaName:Vn.string,tinymceScriptSrc:Vn.oneOfType([Vn.string,Vn.arrayOf(Vn.string),Vn.arrayOf(Vn.shape({src:Vn.string,async:Vn.bool,defer:Vn.bool}))]),rollback:Vn.oneOfType([Vn.number,Vn.oneOf([!1])]),scriptLoading:Vn.shape({async:Vn.bool,defer:Vn.bool,delay:Vn.number})},Tue),Aue=function(l){var u=l;return u&&u.tinymce?u.tinymce:null},wee=function(l){return typeof l=="function"},Ere=function(l){return l in Tue},Tre=function(l){return l.substr(2)},Ive=function(l,u,p,x,A,R,O){var I=Object.keys(A).filter(Ere),U=Object.keys(R).filter(Ere),V=I.filter(function(ee){return R[ee]===void 0}),Y=U.filter(function(ee){return A[ee]===void 0});V.forEach(function(ee){var ue=Tre(ee),Ce=O[ue];p(ue,Ce),delete O[ue]}),Y.forEach(function(ee){var ue=x(l,ee),Ce=Tre(ee);O[Ce]=ue,u(Ce,ue)})},Hve=function(l,u,p,x,A){return Ive(A,l.on.bind(l),l.off.bind(l),function(R,O){return function(I){var U;return(U=R(O))===null||U===void 0?void 0:U(I,l)}},u,p,x)},Are=0,kue=function(l){var u=Date.now(),p=Math.floor(Math.random()*1e9);return Are++,l+"_"+p+Are+String(u)},kre=function(l){return l!==null&&(l.tagName.toLowerCase()==="textarea"||l.tagName.toLowerCase()==="input")},Dre=function(l){return typeof l>"u"||l===""?[]:Array.isArray(l)?l:l.split(" ")},zve=function(l,u){return Dre(l).concat(Dre(u))},jve=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},Vve=function(l){if(!("isConnected"in Node.prototype)){for(var u=l,p=l.parentNode;p!=null;)u=p,p=u.parentNode;return u===l.ownerDocument}return l.isConnected},_re=function(l,u){l!==void 0&&(l.mode!=null&&typeof l.mode=="object"&&typeof l.mode.set=="function"?l.mode.set(u):l.setMode(u))},Uve=function(l){var u=Aue(l);if(!u)throw new Error("tinymce should have been loaded into global scope");return u},Ore=function(l){return l.options&&l.options.isRegistered("disabled")},ote=function(){return ote=Object.assign||function(l){for(var u,p=1,x=arguments.length;p<x;p++){u=arguments[p];for(var A in u)Object.prototype.hasOwnProperty.call(u,A)&&(l[A]=u[A])}return l},ote.apply(this,arguments)},Zve=function(l,u,p){var x,A,R=l.createElement("script");R.referrerPolicy="origin",R.type="application/javascript",R.id=u.id,R.src=u.src,R.async=(x=u.async)!==null&&x!==void 0?x:!1,R.defer=(A=u.defer)!==null&&A!==void 0?A:!1;var O=function(){R.removeEventListener("load",O),R.removeEventListener("error",I),p(u.src)},I=function(U){R.removeEventListener("load",O),R.removeEventListener("error",I),p(u.src,U)};R.addEventListener("load",O),R.addEventListener("error",I),l.head&&l.head.appendChild(R)},Wve=function(l){var u={},p=function(O,I){var U=u[O];U.done=!0,U.error=I;for(var V=0,Y=U.handlers;V<Y.length;V++){var ee=Y[V];ee(O,I)}U.handlers=[]},x=function(O,I,U){var V=function(Oe){return U!==void 0?U(Oe):console.error(Oe)};if(O.length===0){V(new Error("At least one script must be provided"));return}for(var Y=0,ee=!1,ue=function(Oe,J){ee||(J?(ee=!0,V(J)):++Y===O.length&&I())},Ce=0,pe=O;Ce<pe.length;Ce++){var Fe=pe[Ce],be=u[Fe.src];if(be)be.done?ue(Fe.src,be.error):be.handlers.push(ue);else{var lt=kue("tiny-");u[Fe.src]={id:lt,src:Fe.src,done:!1,error:null,handlers:[ue]},Zve(l,ote({id:lt},Fe),p)}}},A=function(){for(var O,I=0,U=Object.values(u);I<U.length;I++){var V=U[I],Y=l.getElementById(V.id);Y!=null&&Y.tagName==="SCRIPT"&&((O=Y.parentNode)===null||O===void 0||O.removeChild(Y))}u={}},R=function(){return l};return{loadScripts:x,deleteScripts:A,getDocument:R}},qve=function(){var l=[],u=function(A){var R=l.find(function(O){return O.getDocument()===A});return R===void 0&&(R=Wve(A),l.push(R)),R},p=function(A,R,O,I,U){var V=function(){return u(A).loadScripts(R,I,U)};O>0?setTimeout(V,O):V()},x=function(){for(var A=l.pop();A!=null;A=l.pop())A.deleteScripts()};return{loadList:p,reinitialize:x}},Gve=qve(),Kve=(function(){var l=function(u,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,A){x.__proto__=A}||function(x,A){for(var R in A)Object.prototype.hasOwnProperty.call(A,R)&&(x[R]=A[R])},l(u,p)};return function(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");l(u,p);function x(){this.constructor=u}u.prototype=p===null?Object.create(p):(x.prototype=p.prototype,new x)}})(),Z3=function(){return Z3=Object.assign||function(l){for(var u,p=1,x=arguments.length;p<x;p++){u=arguments[p];for(var A in u)Object.prototype.hasOwnProperty.call(u,A)&&(l[A]=u[A])}return l},Z3.apply(this,arguments)},Cee="change keyup compositionend setcontent CommentChange",Yve=(function(l){Kve(u,l);function u(p){var x,A,R,O=l.call(this,p)||this;return O.rollbackTimer=void 0,O.valueCursor=void 0,O.rollbackChange=function(){var I=O.editor,U=O.props.value;I&&U&&U!==O.currentContent&&I.undoManager.ignore(function(){if(I.setContent(U),O.valueCursor&&(!O.inline||I.hasFocus()))try{I.selection.moveToBookmark(O.valueCursor)}catch{}}),O.rollbackTimer=void 0},O.handleBeforeInput=function(I){if(O.props.value!==void 0&&O.props.value===O.currentContent&&O.editor&&(!O.inline||O.editor.hasFocus()))try{O.valueCursor=O.editor.selection.getBookmark(3)}catch{}},O.handleBeforeInputSpecial=function(I){(I.key==="Enter"||I.key==="Backspace"||I.key==="Delete")&&O.handleBeforeInput(I)},O.handleEditorChange=function(I){var U=O.editor;if(U&&U.initialized){var V=U.getContent();O.props.value!==void 0&&O.props.value!==V&&O.props.rollback!==!1&&(O.rollbackTimer||(O.rollbackTimer=window.setTimeout(O.rollbackChange,typeof O.props.rollback=="number"?O.props.rollback:200))),V!==O.currentContent&&(O.currentContent=V,wee(O.props.onEditorChange)&&O.props.onEditorChange(V,U))}},O.handleEditorChangeSpecial=function(I){(I.key==="Backspace"||I.key==="Delete")&&O.handleEditorChange(I)},O.initialise=function(I){var U,V,Y;I===void 0&&(I=0);var ee=O.elementRef.current;if(ee){if(!Vve(ee)){if(I===0)setTimeout(function(){return O.initialise(1)},1);else if(I<100)setTimeout(function(){return O.initialise(I+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var ue=Uve(O.view),Ce=Z3(Z3(Z3(Z3({},O.props.init),{selector:void 0,target:ee,disabled:O.props.disabled,readonly:O.props.readonly,inline:O.inline,plugins:zve((U=O.props.init)===null||U===void 0?void 0:U.plugins,O.props.plugins),toolbar:(V=O.props.toolbar)!==null&&V!==void 0?V:(Y=O.props.init)===null||Y===void 0?void 0:Y.toolbar}),O.props.licenseKey?{license_key:O.props.licenseKey}:{}),{setup:function(pe){O.editor=pe,O.bindHandlers({}),O.inline&&!kre(ee)&&pe.once("PostRender",function(Fe){pe.setContent(O.getInitialValue(),{no_events:!0})}),O.props.init&&wee(O.props.init.setup)&&O.props.init.setup(pe),O.props.disabled&&(Ore(O.editor)?O.editor.options.set("disabled",O.props.disabled):O.editor.mode.set("readonly"))},init_instance_callback:function(pe){var Fe,be=O.getInitialValue();O.currentContent=(Fe=O.currentContent)!==null&&Fe!==void 0?Fe:pe.getContent(),O.currentContent!==be&&(O.currentContent=be,pe.setContent(be),pe.undoManager.clear(),pe.undoManager.add(),pe.setDirty(!1)),O.props.init&&wee(O.props.init.init_instance_callback)&&O.props.init.init_instance_callback(pe)}});O.inline||(ee.style.visibility=""),kre(ee)&&(ee.value=O.getInitialValue()),ue.init(Ce)}},O.id=O.props.id||kue("tiny-react"),O.elementRef=Ze.createRef(),O.inline=(R=(x=O.props.inline)!==null&&x!==void 0?x:(A=O.props.init)===null||A===void 0?void 0:A.inline)!==null&&R!==void 0?R:!1,O.boundHandlers={},O}return Object.defineProperty(u.prototype,"view",{get:function(){var p,x;return(x=(p=this.elementRef.current)===null||p===void 0?void 0:p.ownerDocument.defaultView)!==null&&x!==void 0?x:window},enumerable:!1,configurable:!0}),u.prototype.componentDidUpdate=function(p){var x=this,A,R;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(p),this.editor.initialized)){if(this.currentContent=(A=this.currentContent)!==null&&A!==void 0?A:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==p.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var O=this.editor;O.undoManager.transact(function(){var U;if(!x.inline||O.hasFocus())try{U=O.selection.getBookmark(3)}catch{}var V=x.valueCursor;if(O.setContent(x.props.value),!x.inline||O.hasFocus())for(var Y=0,ee=[U,V];Y<ee.length;Y++){var ue=ee[Y];if(ue)try{O.selection.moveToBookmark(ue),x.valueCursor=ue;break}catch{}}})}if(this.props.readonly!==p.readonly){var I=(R=this.props.readonly)!==null&&R!==void 0?R:!1;_re(this.editor,I?"readonly":"design")}this.props.disabled!==p.disabled&&(Ore(this.editor)?this.editor.options.set("disabled",this.props.disabled):_re(this.editor,this.props.disabled?"readonly":"design"))}},u.prototype.componentDidMount=function(){var p=this,x,A,R,O,I;if(Aue(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(A=(x=this.props).onScriptsLoadError)===null||A===void 0||A.call(x,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((R=this.elementRef.current)===null||R===void 0)&&R.ownerDocument){var U=function(){var Y,ee;(ee=(Y=p.props).onScriptsLoad)===null||ee===void 0||ee.call(Y),p.initialise()},V=function(Y){var ee,ue;(ue=(ee=p.props).onScriptsLoadError)===null||ue===void 0||ue.call(ee,Y)};Gve.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(I=(O=this.props.scriptLoading)===null||O===void 0?void 0:O.delay)!==null&&I!==void 0?I:0,U,V)}},u.prototype.componentWillUnmount=function(){var p=this,x=this.editor;x&&(x.off(Cee,this.handleEditorChange),x.off(this.beforeInputEvent(),this.handleBeforeInput),x.off("keypress",this.handleEditorChangeSpecial),x.off("keydown",this.handleBeforeInputSpecial),x.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(A){x.off(A,p.boundHandlers[A])}),this.boundHandlers={},x.remove(),this.editor=void 0)},u.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},u.prototype.beforeInputEvent=function(){return jve()?"beforeinput SelectionChange":"SelectionChange"},u.prototype.renderInline=function(){var p=this.props.tagName,x=p===void 0?"div":p;return Ze.createElement(x,{ref:this.elementRef,id:this.id,tabIndex:this.props.tabIndex})},u.prototype.renderIframe=function(){return Ze.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id,tabIndex:this.props.tabIndex})},u.prototype.getScriptSources=function(){var p,x,A=(p=this.props.scriptLoading)===null||p===void 0?void 0:p.async,R=(x=this.props.scriptLoading)===null||x===void 0?void 0:x.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:A,defer:R}]:this.props.tinymceScriptSrc.map(function(V){return typeof V=="string"?{src:V,async:A,defer:R}:V});var O=this.props.cloudChannel,I=this.props.apiKey?this.props.apiKey:"no-api-key",U="https://cdn.tiny.cloud/1/".concat(I,"/tinymce/").concat(O,"/tinymce.min.js");return[{src:U,async:A,defer:R}]},u.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},u.prototype.bindHandlers=function(p){var x=this;if(this.editor!==void 0){Hve(this.editor,p,this.props,this.boundHandlers,function(I){return x.props[I]});var A=function(I){return I.onEditorChange!==void 0||I.value!==void 0},R=A(p),O=A(this.props);!R&&O?(this.editor.on(Cee,this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):R&&!O&&(this.editor.off(Cee,this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},u.propTypes=$ve,u.defaultProps={cloudChannel:"8"},u})(Ze.Component),See={exports:{}},Nre;function Xve(){return Nre||(Nre=1,(function(l){(function(){var u=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},p=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},x=function(e,t){var o=Array.prototype.slice.call(e);return o.sort(t)},A=function(e,t){return R(function(o,r){return e.eq(t(o),t(r))})},R=function(e){return{eq:e}},O=R(function(e,t){return e===t}),I=O,U=function(e){return R(function(t,o){if(t.length!==o.length)return!1;for(var r=t.length,c=0;c<r;c++)if(!e.eq(t[c],o[c]))return!1;return!0})},V=function(e,t){return A(U(e),function(o){return x(o,t)})},Y=function(e){return R(function(t,o){var r=Object.keys(t),c=Object.keys(o);if(!V(I).eq(r,c))return!1;for(var h=r.length,v=0;v<h;v++){var T=r[v];if(!e.eq(t[T],o[T]))return!1}return!0})},ee=R(function(e,t){if(e===t)return!0;var o=u(e),r=u(t);return o!==r?!1:p(o)?e===t:o==="array"?U(ee).eq(e,t):o==="object"?Y(ee).eq(e,t):!1});const ue=Object.getPrototypeOf,Ce=(e,t,o)=>o(e,t.prototype)?!0:e.constructor?.name===t.name,pe=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&Ce(e,String,(o,r)=>r.isPrototypeOf(o))?"string":t},Fe=e=>t=>pe(t)===e,be=e=>t=>typeof t===e,lt=e=>t=>e===t,Oe=(e,t)=>it(e)&&Ce(e,t,(o,r)=>ue(o)===r),J=Fe("string"),it=Fe("object"),jt=e=>Oe(e,Object),Ke=Fe("array"),ie=lt(null),ut=be("boolean"),xn=lt(void 0),fn=e=>e==null,qe=e=>!fn(e),Re=be("function"),Qo=be("number"),vt=(e,t)=>{if(Ke(e)){for(let o=0,r=e.length;o<r;++o)if(!t(e[o]))return!1;return!0}return!1},Lt=()=>{},F=(e,t)=>(...o)=>e(t.apply(null,o)),Vt=(e,t)=>o=>e(t(o)),at=e=>()=>e,Jn=e=>e,an=(e,t)=>e===t;function le(e,...t){return(...o)=>{const r=t.concat(o);return e.apply(null,r)}}const Ve=e=>t=>!e(t),It=e=>()=>{throw new Error(e)},Ne=e=>e(),mt=e=>{e()},He=at(!1),ft=at(!0);class X{tag;value;static singletonNone=new X(!1);constructor(t,o){this.tag=t,this.value=o}static some(t){return new X(!0,t)}static none(){return X.singletonNone}fold(t,o){return this.tag?o(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?X.some(t(this.value)):X.none()}bind(t){return this.tag?t(this.value):X.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:X.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return qe(t)?X.some(t):X.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const $o=Array.prototype.slice,xo=Array.prototype.indexOf,Mo=Array.prototype.push,Ho=(e,t)=>xo.call(e,t),js=(e,t)=>{const o=Ho(e,t);return o===-1?X.none():X.some(o)},Be=(e,t)=>Ho(e,t)>-1,Ye=(e,t)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];if(t(c,o))return!0}return!1},tt=(e,t)=>{const o=e.length,r=new Array(o);for(let c=0;c<o;c++){const h=e[c];r[c]=t(h,c)}return r},Le=(e,t)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];t(c,o)}},Je=(e,t)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];t(r,o)}},Nt=(e,t)=>{const o=[],r=[];for(let c=0,h=e.length;c<h;c++){const v=e[c];(t(v,c)?o:r).push(v)}return{pass:o,fail:r}},xt=(e,t)=>{const o=[];for(let r=0,c=e.length;r<c;r++){const h=e[r];t(h,r)&&o.push(h)}return o},Un=(e,t)=>{if(e.length===0)return[];{let o=t(e[0]);const r=[];let c=[];for(let h=0,v=e.length;h<v;h++){const T=e[h],k=t(T);k!==o&&(r.push(c),c=[]),o=k,c.push(T)}return c.length!==0&&r.push(c),r}},Dt=(e,t,o)=>(Je(e,(r,c)=>{o=t(o,r,c)}),o),Pe=(e,t,o)=>(Le(e,(r,c)=>{o=t(o,r,c)}),o),Tt=(e,t,o)=>{for(let r=0,c=e.length;r<c;r++){const h=e[r];if(t(h,r))return X.some(h);if(o(h,r))break}return X.none()},sn=(e,t)=>Tt(e,t,He),Zn=(e,t)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];if(t(c,o))return X.some(o)}return X.none()},Yo=(e,t)=>{for(let o=e.length-1;o>=0;o--)if(t(e[o],o))return X.some(o);return X.none()},Jo=e=>{const t=[];for(let o=0,r=e.length;o<r;++o){if(!Ke(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Mo.apply(t,e[o])}return t},Do=(e,t)=>Jo(tt(e,t)),mr=(e,t)=>{for(let o=0,r=e.length;o<r;++o){const c=e[o];if(t(c,o)!==!0)return!1}return!0},zo=e=>{const t=$o.call(e,0);return t.reverse(),t},os=(e,t)=>xt(e,o=>!Be(t,o)),Vs=(e,t)=>{const o={};for(let r=0,c=e.length;r<c;r++){const h=e[r];o[String(h)]=t(h,r)}return o},Es=(e,t)=>{const o=$o.call(e,0);return o.sort(t),o},Xs=(e,t)=>t>=0&&t<e.length?X.some(e[t]):X.none(),gs=e=>Xs(e,0),Wr=e=>Xs(e,e.length-1),Ts=Re(Array.from)?Array.from:e=>$o.call(e),$r=(e,t)=>{for(let o=0;o<e.length;o++){const r=t(e[o],o);if(r.isSome())return r}return X.none()},Ma=(e,t)=>{const o=[],r=Re(t)?c=>Ye(o,h=>t(h,c)):c=>Be(o,c);for(let c=0,h=e.length;c<h;c++){const v=e[c];r(v)||o.push(v)}return o},Hn=Object.keys,ts=Object.hasOwnProperty,Oo=(e,t)=>{const o=Hn(e);for(let r=0,c=o.length;r<c;r++){const h=o[r],v=e[h];t(v,h)}},ui=(e,t)=>Ba(e,(o,r)=>({k:r,v:t(o,r)})),Ba=(e,t)=>{const o={};return Oo(e,(r,c)=>{const h=t(r,c);o[h.k]=h.v}),o},Mn=e=>(t,o)=>{e[o]=t},Wt=(e,t,o,r)=>{Oo(e,(c,h)=>{(t(c,h)?o:r)(c,h)})},Kt=(e,t)=>{const o={},r={};return Wt(e,t,Mn(o),Mn(r)),{t:o,f:r}},Yn=(e,t)=>{const o={};return Wt(e,t,Mn(o),Lt),o},Gn=(e,t)=>{const o=[];return Oo(e,(r,c)=>{o.push(t(r,c))}),o},vo=e=>Gn(e,Jn),No=(e,t)=>Qn(e,t)?X.from(e[t]):X.none(),Qn=(e,t)=>ts.call(e,t),ls=(e,t)=>Qn(e,t)&&e[t]!==void 0&&e[t]!==null,La=(e,t,o=ee)=>Y(o).eq(e,t),gi={generate:e=>{if(!Ke(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],o={};return Le(e,(r,c)=>{const h=Hn(r);if(h.length!==1)throw new Error("one and only one name per case");const v=h[0],T=r[v];if(o[v]!==void 0)throw new Error("duplicate key detected:"+v);if(v==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ke(T))throw new Error("case arguments must be an array");t.push(v),o[v]=(...k)=>{const L=k.length;if(L!==T.length)throw new Error("Wrong number of arguments to case "+v+". Expected "+T.length+" ("+T+"), got "+L);return{fold:(...G)=>{if(G.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+G.length);return G[c].apply(null,k)},match:G=>{const Q=Hn(G);if(t.length!==Q.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+Q.join(","));if(!mr(t,ke=>Be(Q,ke)))throw new Error("Not all branches were specified when using match. Specified: "+Q.join(", ")+`
Required: `+t.join(", "));return G[v].apply(null,k)},log:G=>{console.log(G,{constructors:t,constructor:v,params:k})}}}}),o}},Pn=e=>{let t=e;return{get:()=>t,set:c=>{t=c}}},er=e=>{const t=h=>h(e),o=at(e),r=()=>c,c={tag:!0,inner:e,fold:(h,v)=>v(e),isValue:ft,isError:He,map:h=>Ie.value(h(e)),mapError:r,bind:t,exists:t,forall:t,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:h=>{h(e)},toOptional:()=>X.some(e)};return c},tr=e=>{const t=()=>o,o={tag:!1,inner:e,fold:(r,c)=>r(e),isValue:He,isError:ft,map:t,mapError:r=>Ie.error(r(e)),bind:t,exists:He,forall:ft,getOr:Jn,or:Jn,getOrThunk:Ne,orThunk:Ne,getOrDie:It(String(e)),each:Lt,toOptional:X.none};return o},Ie={value:er,error:tr,fromOption:(e,t)=>e.fold(()=>tr(t),er)},Ue=typeof window<"u"?window:Function("return this;")(),nt=()=>{const e=window.crypto.getRandomValues(new Uint8Array(16));return e[6]=e[6]&15|64,e[8]=e[8]&63|128,e},gn=()=>{const e=nt(),t=(o,r)=>{let c="";for(let h=o;h<=r;++h){const v=e[h].toString(16).padStart(2,"0");c+=v}return c};return`${t(0,3)}-${t(4,5)}-${t(6,7)}-${t(8,9)}-${t(10,15)}`},Ao=(e,t,o)=>Math.min(Math.max(e,t),o),co=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Zo=0;const us=e=>{const o=new Date().getTime(),r=Math.floor(co()*1e9);return Zo++,e+"_"+r+Zo+String(o)},ko=()=>window.isSecureContext?window.crypto.randomUUID():gn(),Qs=(e,t)=>t,me=(e,t)=>jt(e)&&jt(t)?Ut(e,t):t,je=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<t.length;r++){const c=t[r];for(const h in c)Qn(c,h)&&(o[h]=e(o[h],c[h]))}return o},Ut=je(me),wn=je(Qs),Gt=(e,t,o=an)=>e.exists(r=>o(r,t)),wo=(e,t,o=an)=>Bn(e,t,o).getOr(e.isNone()&&t.isNone()),oo=e=>{const t=[],o=r=>{t.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return t},Bn=(e,t,o)=>e.isSome()&&t.isSome()?X.some(o(e.getOrDie(),t.getOrDie())):X.none(),Uo=(e,t,o,r)=>e.isSome()&&t.isSome()&&o.isSome()?X.some(r(e.getOrDie(),t.getOrDie(),o.getOrDie())):X.none(),xs=e=>e.bind(Jn),As=(e,t)=>e?X.some(t):X.none(),ks=(e,t)=>{let o=t??Ue;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},sa=(e,t)=>{const o=e.split(".");return ks(o,t)};gi.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Sa=e=>{const t=[],o=[];return Le(e,r=>{r.fold(c=>{t.push(c)},c=>{o.push(c)})}),{errors:t,values:o}},Qf=e=>{const t=Pn(X.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(X.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:T=>{o(),t.set(X.some(T))}}},Tr=e=>{const t=Pn(X.none()),o=()=>t.get().each(T=>clearInterval(T));return{clear:()=>{o(),t.set(X.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:T=>{o(),t.set(X.some(setInterval(T,e)))}}},Fs=()=>{const e=Qf(Lt);return{...e,on:o=>e.get().each(o)}},ir=(e,t)=>e.substring(t),Vi=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t,Ci=(e,t)=>Co(e,t)?ir(e,t.length):e,Ir=(e,t,o=0,r)=>{const c=e.indexOf(t,o);return c!==-1?xn(r)?!0:c+t.length<=r:!1},Co=(e,t)=>Vi(e,t,0),Si=(e,t)=>Vi(e,t,e.length-t.length),oi=e=>t=>t.replace(e,""),Jr=oi(/^\s+|\s+$/g),Sf=oi(/^\s+/g),uc=oi(/\s+$/g),Hr=e=>e.length>0,Cu=e=>!Hr(e),dc=(e,t)=>t<=0?"":new Array(t+1).join(e),Ef=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?X.none():X.some(o)},An=(e,t)=>{let o=null;return{cancel:()=>{ie(o)||(clearTimeout(o),o=null)},throttle:(...h)=>{ie(o)&&(o=setTimeout(()=>{o=null,e.apply(null,h)},t))}}},Su=(e,t)=>{let o=null;const r=()=>{ie(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...h)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,h)},t)}}},Ri=e=>{let t=!1,o;return(...r)=>(t||(t=!0,o=e.apply(null,r)),o)},pi="\uFEFF",qr="",Kd="",Ei=e=>e===pi,rl=e=>e.replace(/\uFEFF/g,""),Tf=e=>{const t={};return Le(e,o=>{t[o]={}}),Hn(t)},Jf=e=>e.length!==void 0,Eu=Array.isArray,Yd=e=>{if(Eu(e))return e;{const t=[];for(let o=0,r=e.length;o<r;o++)t[o]=e[o];return t}},Dl=(e,t,o)=>{if(!e)return!1;if(o=o||e,Jf(e)){for(let r=0,c=e.length;r<c;r++)if(t.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(Qn(e,r)&&t.call(o,e[r],r,e)===!1)return!1;return!0},Wc=(e,t)=>{const o=[];return Dl(e,(r,c)=>{o.push(t(r,c,e))}),o},qc=(e,t)=>{const o=[];return Dl(e,(r,c)=>{(!t||t(r,c,e))&&o.push(r)}),o},mn=(e,t)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===t)return o}return-1},Tu=(e,t,o,r)=>{let c=xn(o)?e[0]:o;for(let h=0;h<e.length;h++)c=t.call(r,c,e[h],h);return c},yd=(e,t,o)=>{for(let r=0,c=e.length;r<c;r++)if(t.call(o,e[r],r,e))return r;return-1},Vl=e=>e[e.length-1],al=(e,t,o,r)=>{const c=e.isiOS()&&/ipad/i.test(o)===!0,h=e.isiOS()&&!c,v=e.isiOS()||e.isAndroid(),T=v||r("(pointer:coarse)"),k=c||!h&&v&&r("(min-device-width:768px)"),L=h||v&&!k,W=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,G=!L&&!k&&!W;return{isiPad:at(c),isiPhone:at(h),isTablet:at(k),isPhone:at(L),isTouch:at(T),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:at(W),isDesktop:at(G)}},Uu=(e,t)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(t))return r}},Ui=(e,t)=>{const o=Uu(e,t);if(!o)return{major:0,minor:0};const r=c=>Number(t.replace(o,"$"+c));return fc(r(1),r(2))},si=(e,t)=>{const o=String(t).toLowerCase();return e.length===0?_l():Ui(e,o)},_l=()=>fc(0,0),fc=(e,t)=>({major:e,minor:t}),qs={nu:fc,detect:si,unknown:_l},Af=(e,t)=>$r(t.brands,o=>{const r=o.brand.toLowerCase();return sn(e,c=>r===c.brand?.toLowerCase()).map(c=>({current:c.name,version:qs.nu(parseInt(o.version,10),0)}))}),te=(e,t)=>{const o=String(t).toLowerCase();return sn(e,r=>r.search(o))},ve=(e,t)=>te(e,t).map(o=>{const r=qs.detect(o.versionRegexes,t);return{current:o.name,version:r}}),$e=(e,t)=>te(e,t).map(o=>{const r=qs.detect(o.versionRegexes,t);return{current:o.name,version:r}}),Rt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,qn=e=>t=>Ir(t,e),ps=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Ir(e,"edge/")&&Ir(e,"chrome")&&Ir(e,"safari")&&Ir(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Rt],search:e=>Ir(e,"chrome")&&!Ir(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Ir(e,"msie")||Ir(e,"trident")},{name:"Opera",versionRegexes:[Rt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:qn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:qn("firefox")},{name:"Safari",versionRegexes:[Rt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Ir(e,"safari")||Ir(e,"mobile/"))&&Ir(e,"applewebkit")}],lr=[{name:"Windows",search:qn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Ir(e,"iphone")||Ir(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:qn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:qn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:qn("linux"),versionRegexes:[]},{name:"Solaris",search:qn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:qn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:qn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Va={browsers:at(ps),oses:at(lr)},Ti="Edge",Ol="Chromium",oe="IE",Ae="Opera",Qe="Firefox",Et="Safari",pn=()=>Wn({current:void 0,version:qs.unknown()}),Wn=e=>{const t=e.current,o=e.version,r=c=>()=>t===c;return{current:t,version:o,isEdge:r(Ti),isChromium:r(Ol),isIE:r(oe),isOpera:r(Ae),isFirefox:r(Qe),isSafari:r(Et)}},Po={unknown:pn,nu:Wn},Gs="Windows",Os="iOS",Mi="Android",Ea="Linux",Xd="macOS",Om="Solaris",kf="FreeBSD",Gc="ChromeOS",R0=()=>M0({current:void 0,version:qs.unknown()}),M0=e=>{const t=e.current,o=e.version,r=c=>()=>t===c;return{current:t,version:o,isWindows:r(Gs),isiOS:r(Os),isAndroid:r(Mi),isMacOS:r(Xd),isLinux:r(Ea),isSolaris:r(Om),isFreeBSD:r(kf),isChromeOS:r(Gc)}},ye={unknown:R0,nu:M0},ht={detect:(e,t,o)=>{const r=Va.browsers(),c=Va.oses(),h=t.bind(k=>Af(r,k)).orThunk(()=>ve(r,e)).fold(Po.unknown,Po.nu),v=$e(c,e).fold(ye.unknown,ye.nu),T=al(v,h,e,o);return{browser:h,os:v,deviceType:T}}},Xt=e=>window.matchMedia(e).matches;let bo=Ri(()=>ht.detect(window.navigator.userAgent,X.from(window.navigator.userAgentData),Xt));const bs=()=>bo(),Ta=(e,t)=>sa(e,t),il=(e,t)=>{const o=Ta(e,t);if(o==null)throw new Error(e+" not available on this browser");return o},Zi=Object.getPrototypeOf,Ul=e=>il("HTMLElement",e),Qd=e=>{const t=sa("ownerDocument.defaultView",e);return it(e)&&(Ul(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Zi(e).constructor.name))},Zl=window.navigator.userAgent,Nm=bs(),Wl=Nm.browser,ll=Nm.os,Jd=Nm.deviceType,_c=Zl.indexOf("Windows Phone")!==-1,ds={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Wl.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Wl.isIE(),windowsPhone:_c,browser:{current:Wl.current,version:Wl.version,isChromium:Wl.isChromium,isEdge:Wl.isEdge,isFirefox:Wl.isFirefox,isIE:Wl.isIE,isOpera:Wl.isOpera,isSafari:Wl.isSafari},os:{current:ll.current,version:ll.version,isAndroid:ll.isAndroid,isChromeOS:ll.isChromeOS,isFreeBSD:ll.isFreeBSD,isiOS:ll.isiOS,isLinux:ll.isLinux,isMacOS:ll.isMacOS,isSolaris:ll.isSolaris,isWindows:ll.isWindows},deviceType:{isDesktop:Jd.isDesktop,isiPad:Jd.isiPad,isiPhone:Jd.isiPhone,isPhone:Jd.isPhone,isTablet:Jd.isTablet,isTouch:Jd.isTouch,isWebView:Jd.isWebView}},vh=/^\s*|\s*$/g,pp=e=>fn(e)?"":(""+e).replace(vh,""),Aa=(e,t)=>t?t==="array"&&Eu(e)?!0:typeof e===t:e!==void 0,B0=(e,t,o={})=>{const r=J(e)?e.split(t||","):e||[];let c=r.length;for(;c--;)o[r[c]]={};return o},V1=Qn,U1=(e,...t)=>{for(let o=0;o<t.length;o++){const r=t[o];for(const c in r)if(Qn(r,c)){const h=r[c];h!==void 0&&(e[c]=h)}}return e},Z1=function(e,t,o,r){r=r||this,e&&(o&&(e=e[o]),Dl(e,(c,h)=>t.call(r,c,h,o)===!1?!1:(Z1(c,t,o,r),!0)))},ln={trim:pp,isArray:Eu,is:Aa,toArray:Yd,makeMap:B0,each:Dl,map:Wc,grep:qc,inArray:mn,hasOwn:V1,extend:U1,walk:Z1,resolve:(e,t=window)=>{const o=e.split(".");for(let r=0,c=o.length;r<c&&(t=t[o[r]],!!t);r++);return t},explode:(e,t)=>Ke(e)?e:e===""?[]:Wc(e.split(t||","),pp),_addCacheSuffix:e=>{const t=ds.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Kc=(e,t)=>{const r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return yg(r.childNodes[0])},bg=(e,t)=>{const r=(t||document).createElement(e);return yg(r)},vd=(e,t)=>{const r=(t||document).createTextNode(e);return yg(r)},yg=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},De={fromHtml:Kc,fromTag:bg,fromText:vd,fromDom:yg,fromPoint:(e,t,o)=>X.from(e.dom.elementFromPoint(t,o)).map(yg)},Yc=(e,t)=>{t.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},vl=(e,t)=>{t.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},xh=(e,t,o)=>{const r=e.document.createRange();return Yc(r,t),vl(r,o),r},wh=(e,t,o,r,c)=>{const h=e.document.createRange();return h.setStart(t.dom,o),h.setEnd(r.dom,c),h},Nl=gi.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Oc=(e,t,o)=>t(De.fromDom(o.startContainer),o.startOffset,De.fromDom(o.endContainer),o.endOffset),L0=(e,t)=>t.match({domRange:o=>({ltr:at(o),rtl:X.none}),relative:(o,r)=>({ltr:Ri(()=>xh(e,o,r)),rtl:Ri(()=>X.some(xh(e,r,o)))}),exact:(o,r,c,h)=>({ltr:Ri(()=>wh(e,o,r,c,h)),rtl:Ri(()=>X.some(wh(e,c,h,o,r)))})}),bp=(e,t)=>{const o=t.ltr();return o.collapsed?t.rtl().filter(c=>c.collapsed===!1).map(c=>Nl.rtl(De.fromDom(c.endContainer),c.endOffset,De.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>Oc(e,Nl.ltr,o)):Oc(e,Nl.ltr,o)},yp=(e,t)=>{const o=L0(e,t);return bp(e,o)};Nl.ltr,Nl.rtl;const xl=8,vp=9,Au=11,Ch=1,P0=3,wl=(e,t)=>{const o=e.dom;if(o.nodeType!==Ch)return!1;{const r=o;if(r.matches!==void 0)return r.matches(t);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(t);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Rm=e=>e.nodeType!==Ch&&e.nodeType!==vp&&e.nodeType!==Au||e.childElementCount===0,Zu=(e,t)=>{const o=t===void 0?document:t.dom;return Rm(o)?[]:tt(o.querySelectorAll(e),De.fromDom)},tm=(e,t)=>{const o=t===void 0?document:t.dom;return Rm(o)?X.none():X.from(o.querySelector(e)).map(De.fromDom)},ss=(e,t)=>e.dom===t.dom,mc=(e,t)=>{const o=e.dom,r=t.dom;return o===r?!1:o.contains(r)},Sh=wl,G1=(e,t)=>{const o=[],r=h=>(o.push(h),t(h));let c=t(e);do c=c.bind(r);while(c.isSome());return o},rs=e=>e.dom.nodeName.toLowerCase(),nm=e=>e.dom.nodeType,Ai=e=>t=>nm(t)===e,xd=e=>nm(e)===xl||rs(e)==="#comment",wd=e=>fa(e)&&Qd(e.dom),fa=Ai(Ch),ws=Ai(P0),F0=Ai(vp),Cd=Ai(Au),Pa=e=>t=>fa(t)&&rs(t)===e,ku=e=>De.fromDom(e.dom.ownerDocument),Xc=e=>F0(e)?e:ku(e),ri=e=>De.fromDom(Xc(e).dom.documentElement),Wu=e=>De.fromDom(Xc(e).dom.defaultView),Wi=e=>X.from(e.dom.parentNode).map(De.fromDom),Qc=e=>X.from(e.dom.parentElement).map(De.fromDom),cl=(e,t)=>{const o=Re(t)?t:He;let r=e.dom;const c=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const h=r.parentNode,v=De.fromDom(h);if(c.push(v),o(v)===!0)break;r=h}return c},$s=e=>{const t=o=>xt(o,r=>!ss(e,r));return Wi(e).map(ma).map(t).getOr([])},qu=e=>X.from(e.dom.previousSibling).map(De.fromDom),Za=e=>X.from(e.dom.nextSibling).map(De.fromDom),qi=e=>zo(G1(e,qu)),Fa=e=>G1(e,Za),ma=e=>tt(e.dom.childNodes,De.fromDom),Jc=(e,t)=>{const o=e.dom.childNodes;return X.from(o[t]).map(De.fromDom)},ai=e=>Jc(e,0),ii=e=>Jc(e,e.dom.childNodes.length-1),om=e=>e.dom.childNodes.length,xp=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return De.fromDom(t)},wp=e=>Cd(e)&&qe(e.dom.host),ra=e=>De.fromDom(e.dom.getRootNode()),Mm=e=>wp(e)?e:xp(Xc(e)),Eh=e=>wp(e)?e:De.fromDom(Xc(e).dom.body),Df=e=>{const t=ra(e);return wp(t)?X.some(t):X.none()},uo=e=>De.fromDom(e.dom.host),Du=e=>{if(qe(e.target)){const t=De.fromDom(e.target);if(fa(t)&&ea(t)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return gs(o)}}return X.from(e.target)},ea=e=>qe(e.dom.shadowRoot),li=(e,t,o,r,c,h,v)=>({target:e,x:t,y:o,stop:r,prevent:c,kill:h,raw:v}),$a=e=>{const t=De.fromDom(Du(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),c=F(r,o);return li(t,e.clientX,e.clientY,o,r,c,e)},cr=(e,t)=>o=>{e(o)&&t($a(o))},Nc=(e,t,o,r,c)=>{const h=cr(o,r);return e.dom.addEventListener(t,h,c),{unbind:le(eu,e,t,h,c)}},Cp=(e,t,o,r)=>Nc(e,t,o,r,!1),eu=(e,t,o,r)=>{e.dom.removeEventListener(t,o,r)},Gu=ft,vg=(e,t,o)=>Cp(e,t,Gu,o),Cl=()=>De.fromDom(document),Ia=(e,t=!1)=>e.dom.focus({preventScroll:t}),Js=e=>{const t=ra(e).dom;return e.dom===t.activeElement},Rl=(e=Cl())=>X.from(e.dom.activeElement).map(De.fromDom),_u=e=>Rl(ra(e)).filter(t=>e.dom.contains(t.dom)),ul=(e,t)=>{Wi(e).each(r=>{r.dom.insertBefore(t.dom,e.dom)})},Sl=(e,t)=>{Za(e).fold(()=>{Wi(e).each(c=>{Is(c,t)})},r=>{ul(r,t)})},ef=(e,t)=>{ai(e).fold(()=>{Is(e,t)},r=>{e.dom.insertBefore(t.dom,r.dom)})},Is=(e,t)=>{e.dom.appendChild(t.dom)},Ml=(e,t)=>{ul(e,t),Is(t,e)},Bm=(e,t)=>{Le(t,o=>{ul(e,o)})},Th=(e,t)=>{Le(t,(o,r)=>{const c=r===0?e:t[r-1];Sl(c,o)})},hc=(e,t)=>{Le(t,o=>{Is(e,o)})},So=(e,t,o)=>{if(J(o)||ut(o)||Qo(o))e.setAttribute(t,o+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},Or=(e,t,o)=>{So(e.dom,t,o)},Wa=(e,t)=>{const o=e.dom;Oo(t,(r,c)=>{So(o,c,r)})},yr=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?void 0:o},dl=(e,t)=>X.from(yr(e,t)),Gr=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):!1},ci=(e,t)=>{e.dom.removeAttribute(t)},tf=e=>{const t=e.dom.attributes;return t==null||t.length===0},cs=e=>Pe(e.dom.attributes,(t,o)=>(t[o.name]=o.value,t),{}),ql=e=>{e.dom.textContent="",Le(ma(e),t=>{Cs(t)})},Cs=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Gl=e=>{const t=ma(e);t.length>0&&Th(e,t),Cs(e)},bi=(e,t)=>De.fromDom(e.dom.cloneNode(t)),ki=e=>bi(e,!1),_f=e=>bi(e,!0),xg=(e,t)=>{const o=De.fromTag(t),r=cs(e);return Wa(o,r),o},qa=(e,t)=>{const o=xg(e,t);Sl(e,o);const r=ma(e);return hc(o,r),Cs(e),o},Of=(e,t)=>{const r=(t||document).createElement("div");return r.innerHTML=e,ma(De.fromDom(r))},Sd=e=>tt(e,De.fromDom),Bi=e=>e.dom.innerHTML,nf=(e,t)=>{const r=ku(e).dom,c=De.fromDom(r.createDocumentFragment()),h=Of(t,r);hc(c,h),ql(e),Is(e,c)},wg=e=>{const t=De.fromTag("div"),o=De.fromDom(e.dom.cloneNode(!0));return Is(t,o),Bi(t)},Ku=e=>e.style!==void 0&&Re(e.style.getPropertyValue),hr=e=>{const t=ws(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const o=t.ownerDocument;return Df(De.fromDom(t)).fold(()=>o.body.contains(t),Vt(hr,uo))},$0=(e,t,o)=>{if(!J(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Ku(e)&&e.style.setProperty(t,o)},Cg=(e,t)=>{Ku(e)&&e.style.removeProperty(t)},Bl=(e,t,o)=>{const r=e.dom;$0(r,t,o)},fl=(e,t)=>{const o=e.dom;Oo(t,(r,c)=>{$0(o,c,r)})},ka=(e,t)=>{const o=e.dom,c=window.getComputedStyle(o).getPropertyValue(t);return c===""&&!hr(e)?Ed(o,t):c},Ed=(e,t)=>Ku(e)?e.style.getPropertyValue(t):"",di=(e,t)=>{const o=e.dom,r=Ed(o,t);return X.from(r).filter(c=>c.length>0)},of=e=>{const t={},o=e.dom;if(Ku(o))for(let r=0;r<o.style.length;r++){const c=o.style.item(r);t[c]=o.style[c]}return t},Sg=(e,t)=>{const o=e.dom;Cg(o,t),Gt(dl(e,"style").map(Jr),"")&&ci(e,"style")},Eg=e=>e.dom.offsetWidth,Td=((e,t)=>{const o=(T,k)=>{if(!Qo(k)&&!k.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+k);const L=T.dom;Ku(L)&&(L.style[e]=k+"px")},r=T=>{const k=t(T);if(k<=0||k===null){const L=ka(T,e);return parseFloat(L)||0}return k},c=r,h=(T,k)=>Pe(k,(L,W)=>{const G=ka(T,W),Q=G===void 0?0:parseInt(G,10);return isNaN(Q)?L:L+Q},0);return{set:o,get:r,getOuter:c,aggregate:h,max:(T,k,L)=>{const W=h(T,L);return k>W?k-W:0}}})("height",e=>{const t=e.dom;return hr(e)?t.getBoundingClientRect().height:t.offsetHeight}),fy=e=>Td.get(e),sm=(e,t)=>({left:e,top:t,translate:(r,c)=>sm(e+r,t+c)}),gc=sm,Y1=e=>{const t=e.getBoundingClientRect();return gc(t.left,t.top)},Ah=(e,t)=>e!==void 0?e:t!==void 0?t:0,Nf=e=>{const t=e.dom.ownerDocument,o=t.body,r=t.defaultView,c=t.documentElement;if(o===e.dom)return gc(o.offsetLeft,o.offsetTop);const h=Ah(r?.pageYOffset,c.scrollTop),v=Ah(r?.pageXOffset,c.scrollLeft),T=Ah(c.clientTop,o.clientTop),k=Ah(c.clientLeft,o.clientLeft);return rm(e).translate(v-k,h-T)},rm=e=>{const t=e.dom,r=t.ownerDocument.body;return r===t?gc(r.offsetLeft,r.offsetTop):hr(e)?Y1(t):gc(0,0)},Tg=e=>{const t=e!==void 0?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return gc(o,r)},Ag=(e,t,o)=>{const c=(o!==void 0?o.dom:document).defaultView;c&&c.scrollTo(e,t)},tu=(e,t)=>{bs().browser.isSafari()&&Re(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},my=(e,t)=>{const o=h=>{if(!e(h))throw new Error("Can only get "+t+" value of a "+t+" node");return r(h).getOr("")},r=h=>e(h)?X.from(h.dom.nodeValue):X.none();return{get:o,getOption:r,set:(h,v)=>{if(!e(h))throw new Error("Can only set raw "+t+" value of a "+t+" node");h.dom.nodeValue=v}}},Ou=(e,t)=>{const r=document.createDocumentFragment();return Le(e,c=>{r.appendChild(c.dom)}),De.fromDom(r)},ur=my(ws,"text"),yi=e=>ur.get(e),Ad=e=>ur.getOption(e),Sp=(e,t)=>ur.set(e,t),nu=(e,t)=>{const o=yr(e,t);return o===void 0||o===""?[]:o.split(" ")},Rf=(e,t,o)=>{const c=nu(e,t).concat([o]);return Or(e,t,c.join(" ")),!0},kg=(e,t,o)=>{const r=xt(nu(e,t),c=>c!==o);return r.length>0?Or(e,t,r.join(" ")):ci(e,t),!1};var kd=(e,t,o,r,c)=>e(o,r)?X.some(o):Re(c)&&c(o)?X.none():t(o,r,c);const Dd=(e,t,o)=>{let r=e.dom;const c=Re(o)?o:He;for(;r.parentNode;){r=r.parentNode;const h=De.fromDom(r);if(t(h))return X.some(h);if(c(h))break}return X.none()},nr=(e,t,o)=>kd((c,h)=>h(c),Dd,e,t,o),Dg=(e,t)=>{const o=e.dom;return o.parentNode?ha(De.fromDom(o.parentNode),r=>!ss(e,r)&&t(r)):X.none()},ha=(e,t)=>{const o=c=>t(De.fromDom(c));return sn(e.dom.childNodes,o).map(De.fromDom)},kh=(e,t)=>{const o=r=>{for(let c=0;c<r.childNodes.length;c++){const h=De.fromDom(r.childNodes[c]);if(t(h))return X.some(h);const v=o(r.childNodes[c]);if(v.isSome())return v}return X.none()};return o(e.dom)},Da=(e,t,o)=>Dd(e,r=>wl(r,t),o),Yu=(e,t)=>tm(t,e),El=(e,t,o)=>kd((c,h)=>wl(c,h),Da,e,t,o),sf=e=>e.dom.classList!==void 0,_g=e=>nu(e,"class"),ou=(e,t)=>Rf(e,"class",t),Nu=(e,t)=>kg(e,"class",t),Lm=(e,t)=>Be(_g(e),t)?Nu(e,t):ou(e,t),pc=(e,t)=>{sf(e)?e.dom.classList.add(t):ou(e,t)},_d=e=>{(sf(e)?e.dom.classList:_g(e)).length===0&&ci(e,"class")},aa=(e,t)=>{sf(e)?e.dom.classList.remove(t):Nu(e,t),_d(e)},ta=(e,t)=>{const o=sf(e)?e.dom.classList.toggle(t):Lm(e,t);return _d(e),o},Di=(e,t)=>sf(e)&&e.dom.classList.contains(t),Pm=(e,t)=>{Le(t,o=>{pc(e,o)})},Od=(e,t)=>{Le(t,o=>{aa(e,o)})},or=e=>El(e,"[contenteditable]"),Cr=(e,t=!1)=>hr(e)?e.dom.isContentEditable:or(e).fold(at(t),o=>Ll(o)==="true"),Ll=e=>e.dom.contentEditable,P=(e,t)=>{e.dom.contentEditable=t?"true":"false"},j=(e,t,o)=>xt(cl(e,o),t),re=(e,t)=>xt(ma(e),t),we=(e,t)=>{let o=[];return Le(ma(e),r=>{t(r)&&(o=o.concat([r])),o=o.concat(we(r,t))}),o},Ge=(e,t,o)=>j(e,r=>wl(r,t),o),kt=(e,t)=>Zu(t,e),Cn=(e,t,o)=>Dd(e,t,o).isSome(),_n=(e,t)=>Dg(e,t).isSome(),Fo=(e,t)=>kh(e,t).isSome(),as=(e,t)=>Cn(e,le(ss,t)),Br=(e,t,o)=>Da(e,t,o).isSome(),ia=(e,t,o)=>El(e,t,o).isSome(),vi=e=>Re(e)?e:He,Rc=(e,t,o)=>{let r=e.dom;const c=vi(o);for(;r.parentNode;){r=r.parentNode;const h=De.fromDom(r),v=t(h);if(v.isSome())return v;if(c(h))break}return X.none()},Xu=(e,t,o)=>{const r=t(e),c=vi(o);return r.orThunk(()=>c(e)?X.none():Rc(e,t,c))},rf=e=>Ad(e).filter(t=>t.trim().length!==0||t.indexOf(qr)>-1).isSome(),fi=e=>wd(e)&&yr(e,"contenteditable")==="false",Li=["img","br"],am=e=>rf(e)||Be(Li,rs(e))||fi(e),im=e=>kh(e,am),Dh={create:(e,t,o,r)=>({start:e,soffset:t,finish:o,foffset:r})},Ru=gi.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),_h=(e,t,o,r)=>e.fold(t,o,r),X1=e=>e.fold(Jn,Jn,Jn),Q1=Ru.before,Hs=Ru.on,Ha=Ru.after,Ga={before:Q1,on:Hs,after:Ha,cata:_h,getStart:X1},Pl=gi.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ep=e=>Pl.exact(e.start,e.soffset,e.finish,e.foffset),Og=e=>e.match({domRange:t=>De.fromDom(t.startContainer),relative:(t,o)=>Ga.getStart(t),exact:(t,o,r,c)=>t}),Ng=Pl.domRange,Tp=Pl.relative,S2=Pl.exact,$m=e=>{const t=Og(e);return Wu(t)},I0=Dh.create,Oh={domRange:Ng,relative:Tp,exact:S2,exactFromRange:Ep,getWin:$m,range:I0},Mv=(e,t,o)=>X.from(e.caretPositionFromPoint?.(t,o)).bind(r=>{if(r.offsetNode===null)return X.none();const c=e.createRange();return c.setStart(r.offsetNode,r.offset),c.collapse(),X.some(c)}),Pi=(e,t,o)=>X.from(e.caretRangeFromPoint?.(t,o)),_i=(e,t,o)=>e.caretPositionFromPoint?Mv(e,t,o):e.caretRangeFromPoint?Pi(e,t,o):X.none(),Nh=(e,t,o)=>{const r=e.document;return _i(r,t,o).map(c=>Dh.create(De.fromDom(c.startContainer),c.startOffset,De.fromDom(c.endContainer),c.endOffset))},Im=(e,t)=>{const o=rs(e);return o==="input"?Ga.after(e):Be(["br","img"],o)?t===0?Ga.before(e):Ga.after(e):Ga.on(e,t)},hy=(e,t)=>{const o=e.fold(Ga.before,Im,Ga.after),r=t.fold(Ga.before,Im,Ga.after);return Oh.relative(o,r)},bc=(e,t,o,r)=>{const c=Im(e,t),h=Im(o,r);return Oh.relative(c,h)},gy=e=>e.match({domRange:t=>{const o=De.fromDom(t.startContainer),r=De.fromDom(t.endContainer);return bc(o,t.startOffset,r,t.endOffset)},relative:hy,exact:bc}),af=e=>{const t=Oh.getWin(e).dom,o=(c,h,v,T)=>wh(t,c,h,v,T),r=gy(e);return yp(t,r).match({ltr:o,rtl:o})},J1=(e,t,o)=>Nh(e,t,o),su=e=>{const t=e===void 0?window:e;return bs().browser.isFirefox()?X.none():X.from(t.visualViewport)},H0=(e,t,o,r)=>({x:e,y:t,width:o,height:r,right:e+o,bottom:t+r}),Mu=e=>{const t=e===void 0?window:e,o=t.document,r=Tg(De.fromDom(o));return su(t).fold(()=>{const c=t.document.documentElement,h=c.clientWidth,v=c.clientHeight;return H0(r.left,r.top,h,v)},c=>H0(Math.max(c.pageLeft,r.left),Math.max(c.pageTop,r.top),c.width,c.height))};class Ka{rootNode;node;constructor(t,o){this.node=t,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,o,r,c){if(t){if(!c&&t[o])return t[o];if(t!==this.rootNode){let h=t[r];if(h)return h;for(let v=t.parentNode;v&&v!==this.rootNode;v=v.parentNode)if(h=v[r],h)return h}}}findPreviousNode(t,o){if(t){const r=t.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let h=r.lastChild;h;h=h.lastChild)if(!h.lastChild)return h}return r}const c=t.parentNode;if(c&&c!==this.rootNode)return c}}}const py=/^[ \t\r\n]*$/,Ap=e=>py.test(e),Bv=e=>{for(const t of e)if(!Ei(t))return!1;return!0},by=e=>" \f	\v".indexOf(e)!==-1,Lv=e=>e===`
`||e==="\r",Pv=(e,t)=>t<e.length&&t>=0?Lv(e[t]):!1,z0=(e,t=4,o=!0,r=!0)=>{const c=dc(" ",t),h=e.replace(/\t/g,c);return Pe(h,(T,k)=>by(k)||k===qr?T.pcIsSpace||T.str===""&&o||T.str.length===h.length-1&&r||Pv(h,T.str.length+1)?{pcIsSpace:!1,str:T.str+qr}:{pcIsSpace:!0,str:T.str+" "}:{pcIsSpace:Lv(k),str:T.str+k},{pcIsSpace:!1,str:""}).str},kp=e=>t=>!!t&&t.nodeType===e,eb=e=>!!e&&!Object.getPrototypeOf(e),Sn=kp(1),ru=e=>Sn(e)&&wd(De.fromDom(e)),E2=e=>Sn(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",au=e=>{const t=e.toLowerCase();return o=>qe(o)&&o.nodeName.toLowerCase()===t},Qu=e=>{const t=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return Be(t,r)}return!1}},tb=(e,t)=>{const o=t.toLowerCase().split(" ");return r=>{if(Sn(r)){const c=r.ownerDocument.defaultView;if(c)for(let h=0;h<o.length;h++){const v=c.getComputedStyle(r,null);if((v?v.getPropertyValue(e):null)===o[h])return!0}}return!1}},T2=e=>t=>Sn(t)&&t.hasAttribute(e),Hm=e=>Sn(e)&&e.hasAttribute("data-mce-bogus"),A2=e=>Sn(e)&&e.getAttribute("data-mce-bogus")==="all",iu=e=>Sn(e)&&e.tagName==="TABLE",k2=e=>t=>!!(ru(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),lf=Qu(["textarea","input"]),dn=kp(3),Dp=kp(4),Fi=kp(7),ns=kp(8),zm=kp(9),_p=kp(11),la=au("br"),Nd=au("img"),Op=au("a"),Bu=k2("true"),na=k2("false"),lm=e=>ru(e)&&e.isContentEditable&&qe(e.parentElement)&&!e.parentElement.isContentEditable,Np=Qu(["td","th"]),yy=Qu(["td","th","caption"]),Rh=au("template"),Rd=Qu(["video","audio","object","embed"]),j0=au("li"),V0=au("details"),vy=au("summary"),xy="uc-video",Rp=e=>e.nodeName.toLowerCase()===xy,wy={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},nb=(e,t,o)=>{const r=De.fromDom(t),c=De.fromDom(e),h=o.getWhitespaceElements();return Cn(c,T=>Qn(h,rs(T)),le(ss,r))},zC=e=>Sn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Fv=(e,t)=>Sn(e)&&Qn(t.getNonEmptyElements(),e.nodeName),Tl=T2("data-mce-bookmark"),lu=e=>Qc(De.fromDom(e)).exists(t=>!Cr(t)),U0=(e,t,o)=>Ap(e.data)&&!nb(e,t,o),jC=(e,t,o,r)=>dn(e)&&!U0(e,t,o)&&(!r.includeZwsp||!Bv(e.data)),Lu=(e,t,o,r)=>Re(r.isContent)&&r.isContent(t)||Fv(t,e)||Tl(t)||zC(t)||jC(t,o,e,r)||na(t)||Bu(t)&&lu(t),fo=(e,t,o)=>{const r={...wy,...o};if(r.checkRootAsContent&&Lu(e,t,t,r))return!1;let c=t.firstChild,h=0;if(!c)return!0;const v=new Ka(c,t);do{if(r.skipBogus&&Sn(c)){const T=c.getAttribute("data-mce-bogus");if(T){c=v.next(T==="all");continue}}if(ns(c)){c=v.next(!0);continue}if(la(c)){h++,c=v.next();continue}if(Lu(e,c,t,r))return!1;c=v.next()}while(c);return h<=1},_a=(e,t,o)=>fo(e,t.dom,{checkRootAsContent:!0,...o}),Mp=(e,t,o)=>Lu(e,t,t,{includeZwsp:wy.includeZwsp,...o}),ob=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},Rg=e=>ob(e)!=="html",Z0=e=>Rg(e.nodeName),W0=e=>ob(e.nodeName),Mh=["svg","math"],$v=()=>{const e=Fs(),t=()=>e.get().map(W0).getOr("html");return{track:c=>(Z0(c)?e.set(c):e.get().exists(h=>!h.contains(c))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},cm="data-mce-block",Iv=e=>xt(Hn(e),t=>!/[A-Z]/.test(t)),sb=e=>tt(Iv(e),t=>{const o=CSS.escape(t);return`${o}:`+tt(Mh,r=>`not(${r} ${o})`).join(":")}).join(","),ga=(e,t)=>qe(t.querySelector(e))?(t.setAttribute(cm,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(cm),!1),Ju=(e,t)=>{const o=sb(e.getTransparentElements()),r=sb(e.getBlockElements());return xt(t.querySelectorAll(o),c=>ga(r,c))},Mc=(e,t,o)=>{const r=o?"lastChild":"firstChild";for(let c=t[r];c;c=c[r])if(fo(e,c,{checkRootAsContent:!0})){c.parentNode?.removeChild(c);return}},Mg=(e,t,o)=>{const r=document.createRange(),c=t.parentNode;if(c){r.setStartBefore(t),r.setEndBefore(o);const h=r.extractContents();Mc(e,h,!0),r.setStartAfter(o),r.setEndAfter(t);const v=r.extractContents();Mc(e,v,!1),fo(e,h,{checkRootAsContent:!0})||c.insertBefore(h,t),fo(e,o,{checkRootAsContent:!0})||c.insertBefore(o,t),fo(e,v,{checkRootAsContent:!0})||c.insertBefore(v,t),c.removeChild(t)}},Kl=(e,t,o)=>{const r=e.getBlockElements(),c=De.fromDom(t),h=T=>rs(T)in r,v=T=>ss(T,c);Le(Sd(o),T=>{Dd(T,h,v).each(k=>{const L=re(T,W=>h(W)&&!e.isValidChild(rs(k),rs(W)));if(L.length>0){const W=Qc(k);Le(L,G=>{Dd(G,h,v).each(Q=>{Mg(e,Q.dom,G.dom)})}),W.each(G=>Ju(e,G.dom))}})})},Bh=(e,t,o)=>{Le([...o,...Ya(e,t)?[t]:[]],r=>Le(kt(De.fromDom(r),r.nodeName.toLowerCase()),c=>{Yl(e,c.dom)&&Gl(c)}))},ml=(e,t)=>{const o=Ju(e,t);Kl(e,t,o),Bh(e,t,o)},yc=(e,t)=>{if(ab(e,t)){const o=sb(e.getBlockElements());ga(o,t)}},rb=(e,t,o)=>{const r=h=>ss(h,De.fromDom(t)),c=cl(De.fromDom(o),r);Xs(c,c.length-2).filter(fa).fold(()=>ml(e,t),h=>ml(e,h.dom))},qt=e=>e.hasAttribute(cm),Bc=(e,t)=>Qn(e.getTransparentElements(),t),ab=(e,t)=>Sn(t)&&Bc(e,t.nodeName),Ya=(e,t)=>ab(e,t)&&qt(t),Yl=(e,t)=>ab(e,t)&&!qt(t),cu=(e,t)=>t.type===1&&Bc(e,t.name)&&J(t.attr(cm)),D2=bs().browser,cf=e=>sn(e,fa),q0=e=>D2.isFirefox()&&rs(e)==="table"?cf(ma(e)).filter(t=>rs(t)==="caption").bind(t=>cf(Fa(t)).map(o=>{const r=o.dom.offsetTop,c=t.dom.offsetTop,h=t.dom.offsetHeight;return r<=c?-h:0})).getOr(0):0,Ar=(e,t)=>e.children&&Be(e.children,t),vr=(e,t,o)=>{let r=0,c=0;const h=e.ownerDocument;if(o=o||e,t){if(o===e&&t.getBoundingClientRect&&ka(De.fromDom(e),"position")==="static"){const T=t.getBoundingClientRect();return r=T.left+(h.documentElement.scrollLeft||e.scrollLeft)-h.documentElement.clientLeft,c=T.top+(h.documentElement.scrollTop||e.scrollTop)-h.documentElement.clientTop,{x:r,y:c}}let v=t;for(;v&&v!==o&&v.nodeType&&!Ar(v,o);){const T=v;r+=T.offsetLeft||0,c+=T.offsetTop||0,v=T.offsetParent}for(v=t.parentNode;v&&v!==o&&v.nodeType&&!Ar(v,o);)r-=v.scrollLeft||0,c-=v.scrollTop||0,v=v.parentNode;c+=q0(De.fromDom(t))}return{x:r,y:c}},um=(e,t)=>{const o=t.crossOrigin;return t.contentCssCors?"anonymous":Re(o)?o(e):void 0},Bp=(e,t={})=>{let o=0;const r={},c=De.fromDom(e),h=Xc(c),v=rt=>{t.referrerPolicy=rt},T=rt=>{t.contentCssCors=rt},k=rt=>{t.crossOrigin=rt},L=rt=>{Is(Mm(c),rt)},W=rt=>{const dt=Mm(c);Yu(dt,"#"+rt).each(Cs)},G=rt=>No(r,rt).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),Q=rt=>new Promise((dt,Pt)=>{let en;const Nn=ln._addCacheSuffix(rt),io=G(Nn);r[Nn]=io,io.count++;const Bt=(Lo,Ws)=>{Le(Lo,mt),io.status=Ws,io.passed=[],io.failed=[],en&&(en.onload=null,en.onerror=null,en=null)},Ct=()=>Bt(io.passed,2),Ft=()=>Bt(io.failed,3);if(dt&&io.passed.push(dt),Pt&&io.failed.push(Pt),io.status===1)return;if(io.status===2){Ct();return}if(io.status===3){Ft();return}io.status=1;const On=De.fromTag("link",h.dom);Wa(On,{rel:"stylesheet",type:"text/css",id:io.id});const Bo=um(rt,t);Bo!==void 0&&Or(On,"crossOrigin",Bo),t.referrerPolicy&&Or(On,"referrerpolicy",t.referrerPolicy),en=On.dom,en.onload=Ct,en.onerror=Ft,L(On),Or(On,"href",Nn)}),ce=(rt,dt)=>{const Pt=G(rt);r[rt]=Pt,Pt.count++;const en=De.fromTag("style",h.dom);Wa(en,{rel:"stylesheet",type:"text/css",id:Pt.id,"data-mce-key":rt}),en.dom.innerHTML=dt,L(en)},ke=rt=>Promise.allSettled(tt(rt,Pt=>Q(Pt).then(at(Pt)))).then(Pt=>{const en=Nt(Pt,Nn=>Nn.status==="fulfilled");return en.fail.length>0?Promise.reject(tt(en.fail,Nn=>Nn.reason)):tt(en.pass,Nn=>Nn.value)}),ge=rt=>{const dt=ln._addCacheSuffix(rt);No(r,dt).each(Pt=>{--Pt.count===0&&(delete r[dt],W(Pt.id))})};return{load:Q,loadRawCss:ce,loadAll:ke,unload:ge,unloadRawCss:rt=>{No(r,rt).each(dt=>{--dt.count===0&&(delete r[rt],W(dt.id))})},unloadAll:rt=>{Le(rt,dt=>{ge(dt)})},_setReferrerPolicy:v,_setContentCssCors:T,_setCrossOrigin:k}},jm=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const h=ra(o).dom;return X.from(e.get(h)).getOrThunk(()=>{const v=Bp(h,r);return e.set(h,v),v})}}})(),Cy=e=>e.nodeName.toLowerCase()==="span",uf=(e,t)=>qe(e)&&(Mp(t,e)||t.isInline(e.nodeName.toLowerCase())),Bg=(e,t,o)=>{const r=new Ka(e,t).prev(!1),c=new Ka(e,t).next(!1),h=xn(r)||uf(r,o),v=xn(c)||uf(c,o);return h&&v},$i=e=>Cy(e)&&e.getAttribute("data-mce-type")==="bookmark",_2=(e,t,o)=>dn(e)&&e.data.length>0&&Bg(e,t,o),bt=e=>Sn(e)?e.childNodes.length>0:!1,ed=e=>_p(e)||zm(e),Lp=(e,t,o,r)=>{const c=r||t;if(Sn(t)&&$i(t))return t;const h=t.childNodes;for(let v=h.length-1;v>=0;v--)Lp(e,h[v],o,c);if(Sn(t)){const v=t.childNodes;v.length===1&&$i(v[0])&&t.parentNode?.insertBefore(v[0],t)}return!ed(t)&&!Mp(o,t)&&!bt(t)&&!_2(t,c,o)&&e.remove(t),t},Oa=ln.makeMap,Xl=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Gi=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dr=/[<>&\"\']/g,Fl=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Vm={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},Lh={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},hl={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},ib=e=>{const t=De.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Sy=(e,t)=>{const o={};if(e){const r=e.split(",");t=t||10;for(let c=0;c<r.length;c+=2){const h=String.fromCharCode(parseInt(r[c],t));if(!Lh[h]){const v="&"+r[c+1]+";";o[h]=v,o[v]=h}}return o}else return},Ey=Sy("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),za=(e,t)=>e.replace(t?Xl:Gi,o=>Lh[o]||o),vc=e=>(""+e).replace(dr,t=>Lh[t]||t),Um=(e,t)=>e.replace(t?Xl:Gi,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Lh[o]||"&#"+o.charCodeAt(0)+";"),Ty=(e,t,o)=>{const r=o||Ey;return e.replace(t?Xl:Gi,c=>Lh[c]||r[c]||c)},td={encodeRaw:za,encodeAllRaw:vc,encodeNumeric:Um,encodeNamed:Ty,getEncodeFunc:(e,t)=>{const o=Sy(t)||Ey,r=(v,T)=>v.replace(T?Xl:Gi,k=>Lh[k]!==void 0?Lh[k]:o[k]!==void 0?o[k]:k.length>1?"&#"+((k.charCodeAt(0)-55296)*1024+(k.charCodeAt(1)-56320)+65536)+";":"&#"+k.charCodeAt(0)+";"),c=(v,T)=>Ty(v,T,o),h=Oa(e.replace(/\+/g,","));return h.named&&h.numeric?r:h.named?t?c:Ty:h.numeric?Um:za},decode:e=>e.replace(Fl,(t,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):Vm[o]||String.fromCharCode(o)):hl[t]||Ey[t]||ib(t))},Xa=(e,t)=>(e=ln.trim(e),e?e.split(t||" "):[]),$l=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),nd=e=>it(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",uu=e=>{const t=o=>Ke(o)?tt(o,t):nd(o)?new RegExp(o.source,o.flags):it(o)?ui(o,t):o;return t(e)},xc=e=>{const t=/^(~)?(.+)$/;return Do(Xa(e,","),o=>{const r=t.exec(o);if(r){const h=r[1]==="~"?"span":"div",v=r[2];return[{cloneName:h,name:v}]}else return[]})},Ii=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Mf=e=>{let t,o;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress template time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const r=[t,o].join(" ");return{blockContent:t,phrasingContent:o,flowContent:r}},Jl=e=>{const{blockContent:t,phrasingContent:o,flowContent:r}=Mf(e),c=h=>Object.freeze(h.split(" "));return Object.freeze({blockContent:c(t),phrasingContent:c(o),flowContent:c(r)})},ec={html4:Ri(()=>Jl("html4")),html5:Ri(()=>Jl("html5")),"html5-strict":Ri(()=>Jl("html5-strict"))},lb=(e,t)=>{const{blockContent:o,phrasingContent:r,flowContent:c}=ec[e]();return t==="blocks"?X.some(o):t==="phrasing"?X.some(r):t==="flow"?X.some(c):X.none()},Ki=e=>{const t=Ii(e),{phrasingContent:o,flowContent:r}=Mf(e),c={},h=(k,L,W)=>{c[k]={attributes:Vs(L,at({})),attributesOrder:L,children:Vs(W,at({}))}},v=(k,L="",W="")=>{const G=Xa(W),Q=Xa(k);let ce=Q.length;const ke=[...t,...Xa(L)];for(;ce--;)h(Q[ce],ke.slice(),G)},T=(k,L)=>{const W=Xa(k),G=Xa(L);let Q=W.length;for(;Q--;){const ce=c[W[Q]];for(let ke=0,ge=G.length;ke<ge;ke++)ce.attributes[G[ke]]={},ce.attributesOrder.push(G[ke])}};return e!=="html5-strict"&&(Le(Xa("acronym applet basefont big font strike tt"),W=>{v(W,"",o)}),Le(Xa("center dir isindex noframes"),W=>{v(W,"",r)})),v("html","manifest","head body"),v("head","","base command link meta noscript script style title"),v("title hr noscript br"),v("base","href target"),v("link","href rel media hreflang type sizes hreflang"),v("meta","name http-equiv content charset property"),v("style","media type scoped"),v("script","src async defer type charset"),v("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),v("dd div","",r),v("address dt caption","",e==="html4"?o:r),v("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),v("blockquote","cite",r),v("ol","reversed start type","li"),v("ul","","li"),v("li","value",r),v("dl","","dt dd"),v("a","href target rel media hreflang type",e==="html4"?o:r),v("q","cite",o),v("ins del","cite datetime",r),v("img","src sizes srcset alt usemap ismap width height"),v("iframe","src name width height",r),v("embed","src type width height"),v("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),v("param","name value"),v("map","name",[r,"area"].join(" ")),v("area","alt coords shape href target rel media hreflang type"),v("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),v("colgroup","span","col"),v("col","span"),v("tbody thead tfoot","","tr"),v("tr","","td th"),v("td","colspan rowspan headers",r),v("th","colspan rowspan headers scope abbr",r),v("form","accept-charset action autocomplete enctype method name novalidate target",r),v("fieldset","disabled form name",[r,"legend"].join(" ")),v("label","form for",o),v("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),v("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:o),v("select","disabled form multiple name required size","option optgroup"),v("optgroup","disabled label","option"),v("option","disabled label selected value"),v("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),v("menu","type label",[r,"li"].join(" ")),v("noscript","",r),e!=="html4"&&(v("wbr"),v("ruby","",[o,"rt rp"].join(" ")),v("figcaption","",r),v("mark rt rp bdi","",o),v("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),v("canvas","width height",r),v("data","value",o),v("video","src crossorigin poster preload autoplay mediagroup loop controlslist disablepictureinpicture disableremoteplayback playsinline muted controls width height buffered",[r,"track source"].join(" ")),v("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),v("picture","","img source"),v("source","src srcset type media sizes"),v("track","kind src srclang label default"),v("datalist","",[o,"option"].join(" ")),v("article section nav aside main header footer","",r),v("hgroup","","h1 h2 h3 h4 h5 h6"),v("figure","",[r,"figcaption"].join(" ")),v("time","datetime",o),v("dialog","open",r),v("command","type label icon disabled checked radiogroup command"),v("output","for form name",o),v("progress","value max",o),v("meter","value min max low high optimum",o),v("details","open",[r,"summary"].join(" ")),v("keygen","autofocus challenge disabled form keytype name"),h("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(T("script","language xml:space"),T("style","xml:space"),T("object","declare classid code codebase codetype archive standby align border hspace vspace"),T("embed","align name hspace vspace"),T("param","valuetype type"),T("a","charset name rev shape coords"),T("br","clear"),T("applet","codebase archive code object alt name width height align hspace vspace"),T("img","name longdesc align border hspace vspace"),T("iframe","longdesc frameborder marginwidth marginheight scrolling align"),T("font basefont","size color face"),T("input","usemap align"),T("select"),T("textarea"),T("h1 h2 h3 h4 h5 h6 div p legend caption","align"),T("ul","type compact"),T("li","type"),T("ol dl menu dir","compact"),T("pre","width xml:space"),T("hr","align noshade size width"),T("isindex","prompt"),T("table","summary width frame rules cellspacing cellpadding align bgcolor"),T("col","width align char charoff valign"),T("colgroup","width align char charoff valign"),T("thead","align char charoff valign"),T("tr","align char charoff valign bgcolor"),T("th","axis align char charoff valign nowrap bgcolor width height"),T("form","accept"),T("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),T("tfoot","align char charoff valign"),T("tbody","align char charoff valign"),T("area","nohref"),T("body","background bgcolor text link vlink alink")),e!=="html4"&&(T("input button select textarea","autofocus"),T("input textarea","placeholder"),T("a","download"),T("link script img","crossorigin"),T("img","loading"),T("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&Le([c.video,c.audio],k=>{delete k.children.audio,delete k.children.video}),Le(Xa("a form meter progress dfn"),k=>{c[k]&&delete c[k].children[k]}),delete c.caption.children.table,delete c.script,c},Pu=e=>e==="-"?"remove":"add",Bf=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return X.from(t.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},Lf=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Do(Xa(e,","),o=>{const r=t.exec(o);if(r){const c=r[1],h=c?Pu(c):"replace",v=r[2],T=Do(Xa(r[3],"|"),k=>Bf(k).toArray());return[{operation:h,name:v,validChildren:T}]}else return[]})},dm=(e,t)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:c,attributesOrder:h}=t;return Le(Xa(e,"|"),v=>{const T=o.exec(v);if(T){const k={},L=T[1],W=T[2].replace(/[\\:]:/g,":"),G=T[3],Q=T[4];if(L==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(W),k.required=!0),L==="-"){delete c[W],h.splice(ln.inArray(h,W),1);return}if(G&&(G==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:W,value:Q}),k.defaultValue=Q):G==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:W,value:Q}),k.forcedValue=Q):G==="<"&&(k.validValues=ln.makeMap(Q,"?"))),r.test(W)){const ce=k;t.attributePatterns=t.attributePatterns||[],ce.pattern=$l(W),t.attributePatterns.push(ce)}else c[W]||h.push(W),c[W]=k}})},cb=(e,t)=>{Oo(e.attributes,(o,r)=>{t.attributes[r]=o}),t.attributesOrder.push(...e.attributesOrder)},Ph=(e,t)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Do(Xa(t,","),r=>{const c=o.exec(r);if(c){const h=c[1],v=c[2],T=c[3],k=c[4],L=c[5],W={attributes:{},attributesOrder:[]};if(e.each(G=>cb(G,W)),h==="#"?W.paddEmpty=!0:h==="-"&&(W.removeEmpty=!0),k==="!"&&(W.removeEmptyAttrs=!0),L&&dm(L,W),T&&(W.outputName=v),v==="@")if(e.isNone())e=X.some(W);else return[];return[T?{name:v,element:W,aliasName:T}:{name:v,element:W}]}else return[]})},Zm={},G0=ln.makeMap,kr=ln.each,Hv=ln.extend,Pf=ln.explode,Pp=(e,t={})=>{const o=G0(e," ",G0(e.toUpperCase()," "));return Hv(o,t)},Ay=e=>Pp("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Fh=(e,t)=>{if(e){const o={};return J(e)&&(e={"*":e}),kr(e,(r,c)=>{o[c]=o[c.toUpperCase()]=t==="map"?G0(r,/[, ]/):Pf(r,/[, ]/)}),o}else return},Ls=(e={})=>{const t={},o={};let r=[];const c={},h={},v={},T=(_o,Ys,yl)=>{const ja=e[_o];if(ja)return G0(ja,/[, ]/,G0(ja.toUpperCase(),/[, ]/));{let Xr=Zm[_o];return Xr||(Xr=Pp(Ys,yl),Zm[_o]=Xr),Xr}},k=e.schema??"html5",L=Ki(k);e.verify_html===!1&&(e.valid_elements="*[*]");const W=Fh(e.valid_styles),G=Fh(e.invalid_styles,"map"),Q=Fh(e.valid_classes,"map"),ce=T("whitespace_elements","pre script noscript style textarea video audio iframe object code"),ke=T("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ge=T("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Te=T("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),ot="td th iframe video audio object script code",rt=T("non_empty_elements",ot+" pre svg textarea summary",ge),dt=T("move_caret_before_on_enter_elements",ot+" table",ge),Pt="h1 h2 h3 h4 h5 h6",en=T("text_block_elements",Pt+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Nn=T("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing colgroup col",en),io=T("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Bt=T("transparent_elements","a ins del canvas map"),Ct=T("wrap_block_elements","pre "+Pt);kr("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),_o=>{h[_o]=new RegExp("</"+_o+"[^>]*>","gi")});const Ft=_o=>{const Ys=X.from(t["@"]),yl=/[*?+]/;Le(Ph(Ys,_o??""),({name:ja,element:Xr,aliasName:ol})=>{if(ol&&(t[ol]=Xr),yl.test(ja)){const Dm=Xr;Dm.pattern=$l(ja),r.push(Dm)}else t[ja]=Xr})},On=_o=>{r=[],Le(Hn(t),Ys=>{delete t[Ys]}),Ft(_o)},Bo=(_o,Ys)=>{delete Zm.text_block_elements,delete Zm.block_elements;const yl=Ys.extends?!qd(Ys.extends):!1,ja=Ys.extends;if(o[_o]=ja?o[ja]:{},c[_o]=ja??_o,rt[_o.toUpperCase()]={},rt[_o]={},yl||(Nn[_o.toUpperCase()]={},Nn[_o]={}),ja&&!t[_o]&&t[ja]){const Xr=uu(t[ja]);delete Xr.removeEmptyAttrs,delete Xr.removeEmpty,t[_o]=Xr}else t[_o]={attributesOrder:[],attributes:{}};if(Ke(Ys.attributes)){const Xr=Dm=>{ol.attributesOrder.push(Dm),ol.attributes[Dm]={}},ol=t[_o]??{};delete ol.attributesDefault,delete ol.attributesForced,delete ol.attributePatterns,delete ol.attributesRequired,ol.attributesOrder=[],ol.attributes={},Le(Ys.attributes,Dm=>{const xf=Ii(k);Bf(Dm).each(({preset:fg,name:ay})=>{fg?ay==="global"&&Le(xf,Xr):Xr(ay)})}),t[_o]=ol}if(ut(Ys.padEmpty)){const Xr=t[_o]??{};Xr.paddEmpty=Ys.padEmpty,t[_o]=Xr}if(Ke(Ys.children)){const Xr={},ol=xf=>{Xr[xf]={}},Dm=xf=>{lb(k,xf).each(fg=>{Le(fg,ol)})};Le(Ys.children,xf=>{Bf(xf).each(({preset:fg,name:ay})=>{fg?Dm(ay):ol(ay)})}),o[_o]=Xr}ja&&Oo(o,(Xr,ol)=>{Xr[ja]&&(o[ol]=Xr=Hv({},o[ol]),Xr[_o]=Xr[ja])})},Lo=_o=>{Le(xc(_o??""),({name:Ys,cloneName:yl})=>{Bo(Ys,{extends:yl})})},Ws=(_o,Ys)=>{v[_o]=Ys},Pr=_o=>{it(_o)?Oo(_o,(Ys,yl)=>{const ja=Ys.componentUrl;J(ja)&&Ws(yl,ja),Bo(yl,Ys)}):J(_o)&&Lo(_o)},Ca=_o=>{Le(Lf(_o??""),({operation:Ys,name:yl,validChildren:ja})=>{const Xr=Ys==="replace"?{"#comment":{}}:o[yl],ol=xf=>{Ys==="remove"?delete Xr[xf]:Xr[xf]={}},Dm=xf=>{lb(k,xf).each(fg=>{Le(fg,ol)})};Le(ja,({preset:xf,name:fg})=>{xf?Dm(fg):ol(fg)}),o[yl]=Xr})},ti=_o=>{const Ys=t[_o];if(Ys)return Ys;let yl=r.length;for(;yl--;){const ja=r[yl];if(ja.pattern.test(_o))return ja}},Vc=()=>{e.valid_elements?(On(e.valid_elements),kr(L,(_o,Ys)=>{o[Ys]=_o.children})):(kr(L,(_o,Ys)=>{t[Ys]={attributes:_o.attributes,attributesOrder:_o.attributesOrder},o[Ys]=_o.children}),kr(Xa("strong/b em/i"),_o=>{const Ys=Xa(_o,"/");t[Ys[1]].outputName=Ys[0]}),kr(io,(_o,Ys)=>{t[Ys]&&(e.padd_empty_block_inline_children&&(t[Ys].paddInEmptyBlock=!0),t[Ys].removeEmpty=!0)}),kr(Xa("ol ul blockquote a table tbody"),_o=>{t[_o]&&(t[_o].removeEmpty=!0)}),kr(Xa("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),_o=>{t[_o]&&(t[_o].paddEmpty=!0)}),kr(Xa("span"),_o=>{t[_o].removeEmptyAttrs=!0})),delete t.svg,Pr(e.custom_elements),Ca(e.valid_children),Ft(e.extended_valid_elements),Ca("+ol[ul|ol],+ul[ul|ol]"),kr({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(_o,Ys)=>{t[Ys]&&(t[Ys].parentsRequired=Xa(_o))}),e.invalid_elements&&kr(Pf(e.invalid_elements),_o=>{t[_o]&&delete t[_o]}),ti("span")||Ft("span[!data-mce-type|*]")},Am=at(W),$n=at(G),po=at(Q),_r=at(Te),br=at(Nn),vu=at(en),Ht=at(io),En=at(Object.seal(ge)),Xn=at(ke),Bs=at(rt),Ss=at(dt),Zr=at(ce),km=at(Bt),dp=at(Ct),dg=at(Object.seal(h)),fh=(_o,Ys)=>{const yl=o[_o.toLowerCase()];return!!(yl&&yl[Ys.toLowerCase()])},Av=(_o,Ys)=>{const yl=ti(_o);if(yl)if(Ys){if(yl.attributes[Ys])return!0;const ja=yl.attributePatterns;if(ja){let Xr=ja.length;for(;Xr--;)if(ja[Xr].pattern.test(Ys))return!0}}else return!0;return!1},qd=_o=>Qn(br(),_o),Yf=_o=>!Co(_o,"#")&&Av(_o)&&!qd(_o),ry=_o=>Qn(dp(),_o)||Yf(_o),_C=at(c),M3=at(v);return Vc(),{type:k,children:o,elements:t,getValidStyles:Am,getValidClasses:po,getBlockElements:br,getInvalidStyles:$n,getVoidElements:En,getTextBlockElements:vu,getTextInlineElements:Ht,getBoolAttrs:_r,getElementRule:ti,getSelfClosingElements:Xn,getNonEmptyElements:Bs,getMoveCaretBeforeOnEnterElements:Ss,getWhitespaceElements:Zr,getTransparentElements:km,getSpecialElements:dg,getComponentUrls:M3,isValidChild:fh,isValid:Av,isBlock:qd,isInline:Yf,isWrapper:ry,getCustomElements:_C,addValidElements:Ft,setValidElements:On,addCustomElements:Pr,addValidChildren:Ca}},ba=e=>({value:xr(e)}),xr=e=>Ci(e,"#").toUpperCase(),Nr=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},Na=e=>{const t=Nr(e.red)+Nr(e.green)+Nr(e.blue);return ba(t)},Fu=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Ff=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Fp=(e,t,o,r)=>({red:e,green:t,blue:o,alpha:r}),ub=(e,t,o,r)=>{const c=parseInt(e,10),h=parseInt(t,10),v=parseInt(o,10),T=parseFloat(r);return Fp(c,h,v,T)},fm=e=>Fu.test(e)?"rgb":Ff.test(e)?"rgba":"other",xi=e=>{const t=Fu.exec(e);if(t!==null)return X.some(ub(t[1],t[2],t[3],"1"));const o=Ff.exec(e);return o!==null?X.some(ub(o[1],o[2],o[3],o[4])):X.none()},Lc=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,wc=e=>xi(e).map(Na).map(t=>"#"+t.value).getOr(e),mm=(e={},t)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,h={};let v,T;const k=pi;t&&(v=t.getValidStyles(),T=t.getInvalidStyles());const L=(`\\" \\' \\; \\: ; : `+k).split(" ");for(let G=0;G<L.length;G++)h[L[G]]=k+G,h[k+G]=L[G];const W={parse:G=>{const Q={};let ce=!1;const ke=e.url_converter,ge=e.url_converter_scope||W,Te=(Bt,Ct,Ft)=>{const On=Q[Bt+"-top"+Ct];if(!On)return;const Bo=Q[Bt+"-right"+Ct];if(!Bo)return;const Lo=Q[Bt+"-bottom"+Ct];if(!Lo)return;const Ws=Q[Bt+"-left"+Ct];if(!Ws)return;const Pr=[On,Bo,Lo,Ws];let Ca=Pr.length-1;for(;Ca--&&Pr[Ca]===Pr[Ca+1];);Ca>-1&&Ft||(Q[Bt+Ct]=Ca===-1?Pr[0]:Pr.join(" "),delete Q[Bt+"-top"+Ct],delete Q[Bt+"-right"+Ct],delete Q[Bt+"-bottom"+Ct],delete Q[Bt+"-left"+Ct])},ot=Bt=>{const Ct=Q[Bt];if(!Ct)return;const Ft=Ct.indexOf(",")>-1?[Ct]:Ct.split(" ");let On=Ft.length;for(;On--;)if(Ft[On]!==Ft[0])return!1;return Q[Bt]=Ft[0],!0},rt=(Bt,Ct,Ft,On)=>{ot(Ct)&&ot(Ft)&&ot(On)&&(Q[Bt]=Q[Ct]+" "+Q[Ft]+" "+Q[On],delete Q[Ct],delete Q[Ft],delete Q[On])},dt=Bt=>(ce=!0,h[Bt]),Pt=(Bt,Ct)=>(ce&&(Bt=Bt.replace(/\uFEFF[0-9]/g,Ft=>h[Ft])),Ct||(Bt=Bt.replace(/\\([\'\";:])/g,"$1")),Bt),en=Bt=>String.fromCharCode(parseInt(Bt.slice(1),16)),Nn=Bt=>Bt.replace(/\\[0-9a-f]+/gi,en),io=(Bt,Ct,Ft,On,Bo,Lo)=>{if(Bo=Bo||Lo,Bo)return Bo=Pt(Bo),"'"+Bo.replace(/\'/g,"\\'")+"'";if(Ct=Pt(Ct||Ft||On||""),!e.allow_script_urls){const Ws=Ct.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Ws)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Ws))return""}return ke&&(Ct=ke.call(ge,Ct,"style")),"url('"+Ct.replace(/\'/g,"\\'")+"')"};if(G){G=G.replace(/[\u0000-\u001F]/g,""),G=G.replace(/\\[\"\';:\uFEFF]/g,dt).replace(/\"[^\"]+\"|\'[^\']+\'/g,Ct=>Ct.replace(/[;:]/g,dt));let Bt;for(;Bt=r.exec(G);){r.lastIndex=Bt.index+Bt[0].length;let Ct=Bt[1].replace(c,"").toLowerCase(),Ft=Bt[2].replace(c,"");if(Ct&&Ft){if(Ct=Nn(Ct),Ft=Nn(Ft),Ct.indexOf(k)!==-1||Ct.indexOf('"')!==-1||!e.allow_script_urls&&(Ct==="behavior"||/expression\s*\(|\/\*|\*\//.test(Ft)))continue;Ct==="font-weight"&&Ft==="700"?Ft="bold":(Ct==="color"||Ct==="background-color")&&(Ft=Ft.toLowerCase()),fm(Ft)==="rgb"&&xi(Ft).each(On=>{Ft=wc(Lc(On)).toLowerCase()}),Ft=Ft.replace(o,io),Q[Ct]=ce?Pt(Ft,!0):Ft}}Te("border","",!0),Te("border","-width"),Te("border","-color"),Te("border","-style"),Te("padding",""),Te("margin",""),rt("border","border-width","border-style","border-color"),Q.border==="medium none"&&delete Q.border,Q["border-image"]==="none"&&delete Q["border-image"]}return Q},serialize:(G,Q)=>{let ce="";const ke=(Te,ot)=>{const rt=ot[Te];if(rt)for(let dt=0,Pt=rt.length;dt<Pt;dt++){const en=rt[dt],Nn=G[en];Nn&&(ce+=(ce.length>0?" ":"")+en+": "+Nn+";")}},ge=(Te,ot)=>{if(!T||!ot)return!0;let rt=T["*"];return rt&&rt[Te]?!1:(rt=T[ot],!(rt&&rt[Te]))};return Q&&v?(ke("*",v),ke(Q,v)):Oo(G,(Te,ot)=>{Te&&ge(ot,Q)&&(ce+=(ce.length>0?" ":"")+ot+": "+Te+";")}),ce}};return W},Md={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},$h=e=>e instanceof Event||Re(e.initEvent),$p=e=>e.isDefaultPrevented===ft||e.isDefaultPrevented===He,od=e=>fn(e.preventDefault)||$h(e),db=(e,t)=>{const o=t??{};for(const r in e)Qn(Md,r)||(o[r]=e[r]);return qe(e.composedPath)&&(o.composedPath=()=>e.composedPath()),qe(e.getModifierState)&&(o.getModifierState=r=>e.getModifierState(r)),qe(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},Ip=(e,t,o,r)=>{const c=db(t,r);return c.type=e,fn(c.target)&&(c.target=c.srcElement??o),od(t)&&(c.preventDefault=()=>{c.defaultPrevented=!0,c.isDefaultPrevented=ft,Re(t.preventDefault)&&t.preventDefault()},c.stopPropagation=()=>{c.cancelBubble=!0,c.isPropagationStopped=ft,Re(t.stopPropagation)&&t.stopPropagation()},c.stopImmediatePropagation=()=>{c.isImmediatePropagationStopped=ft,c.stopPropagation()},$p(c)||(c.isDefaultPrevented=c.defaultPrevented===!0?ft:He,c.isPropagationStopped=c.cancelBubble===!0?ft:He,c.isImmediatePropagationStopped=He)),c},fb="mce-data-",Hp=/^(?:mouse|contextmenu)|click/,Bd=(e,t,o,r)=>{e.addEventListener(t,o,r||!1)},$f=(e,t,o,r)=>{e.removeEventListener(t,o,r||!1)},Yi=e=>qe(e)&&Hp.test(e.type),Ld=(e,t)=>{const o=Ip(e.type,e,document,t);if(Yi(e)&&xn(e.pageX)&&!xn(e.clientX)){const r=o.target.ownerDocument||document,c=r.documentElement,h=r.body,v=o;v.pageX=e.clientX+(c&&c.scrollLeft||h&&h.scrollLeft||0)-(c&&c.clientLeft||h&&h.clientLeft||0),v.pageY=e.clientY+(c&&c.scrollTop||h&&h.scrollTop||0)-(c&&c.clientTop||h&&h.clientTop||0)}return o},zp=(e,t,o)=>{const r=e.document,c={type:"ready"};if(o.domLoaded){t(c);return}const h=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,v=()=>{$f(e,"DOMContentLoaded",v),$f(e,"load",v),o.domLoaded||(o.domLoaded=!0,t(c)),e=null};h()?v():Bd(e,"DOMContentLoaded",v),o.domLoaded||Bd(e,"load",v)};class Pd{static Event=new Pd;domLoaded=!1;events={};expando;hasFocusIn;count=1;constructor(){this.expando=fb+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,o,r,c){const h=this;let v;const T=window,k=Q=>{h.executeHandlers(Ld(Q||T.event),L)};if(!t||dn(t)||ns(t))return r;let L;t[h.expando]?L=t[h.expando]:(L=h.count++,t[h.expando]=L,h.events[L]={}),c=c||t;const W=o.split(" ");let G=W.length;for(;G--;){let Q=W[G],ce=k,ke=!1,ge=!1;if(Q==="DOMContentLoaded"&&(Q="ready"),h.domLoaded&&Q==="ready"&&t.readyState==="complete"){r.call(c,Ld({type:Q}));continue}!h.hasFocusIn&&(Q==="focusin"||Q==="focusout")&&(ke=!0,ge=Q==="focusin"?"focus":"blur",ce=Te=>{const ot=Ld(Te||T.event);ot.type=ot.type==="focus"?"focusin":"focusout",h.executeHandlers(ot,L)}),v=h.events[L][Q],v?Q==="ready"&&h.domLoaded?r(Ld({type:Q})):v.push({func:r,scope:c}):(h.events[L][Q]=v=[{func:r,scope:c}],v.fakeName=ge,v.capture=ke,v.nativeHandler=ce,Q==="ready"?zp(t,ce,h):Bd(t,ge||Q,ce,ke))}return t=v=null,r}unbind(t,o,r){if(!t||dn(t)||ns(t))return this;const c=t[this.expando];if(c){let h=this.events[c];if(o){const v=o.split(" ");let T=v.length;for(;T--;){const k=v[T],L=h[k];if(L){if(r){let W=L.length;for(;W--;)if(L[W].func===r){const G=L.nativeHandler,Q=L.fakeName,ce=L.capture,ke=L.slice(0,W).concat(L.slice(W+1));ke.nativeHandler=G,ke.fakeName=Q,ke.capture=ce,h[k]=ke}}(!r||L.length===0)&&(delete h[k],$f(t,L.fakeName||k,L.nativeHandler,L.capture))}}}else Oo(h,(v,T)=>{$f(t,v.fakeName||T,v.nativeHandler,v.capture)}),h={};for(const v in h)if(Qn(h,v))return this;delete this.events[c];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,o,r){return this.dispatch(t,o,r)}dispatch(t,o,r){if(!t||dn(t)||ns(t))return this;const c=Ld({type:o,target:t},r);do{const h=t[this.expando];h&&this.executeHandlers(c,h),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!c.isPropagationStopped());return this}clean(t){if(!t||dn(t)||ns(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const o=t.getElementsByTagName("*");let r=o.length;for(;r--;)t=o[r],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,o){const r=this.events[o],c=r&&r[t.type];if(c)for(let h=0,v=c.length;h<v;h++){const T=c[h];if(T&&T.func.call(T.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}const Cc=ln.each,zv=ln.grep,ky="data-mce-style",jp=ln.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),K0=(e,t,o)=>{fn(o)||o===""?ci(e,t):Or(e,t,o)},Fd=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),Lg=(e,t)=>{let o=0;if(e)for(let r=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const h=c.nodeType;t&&dn(c)&&(h===r||!c.data.length)||(o++,r=h)}return o},sd=(e,t)=>{const o=yr(t,"style"),r=e.serialize(e.parse(o),rs(t));K0(t,ky,r)},Y0=(e,t)=>Qo(e)?Qn(jp,t)?e+"":e+"px":e,Dy=(e,t,o)=>{const r=Fd(t);fn(o)||o===""?Sg(e,r):Bl(e,r,Y0(o,r))},N2=(e,t,o)=>{const r=t.keep_values,c={set:(v,T,k)=>{const L=De.fromDom(v);Re(t.url_converter)&&qe(T)&&(T=t.url_converter.call(t.url_converter_scope||o(),String(T),k,v));const W="data-mce-"+k;K0(L,W,T),K0(L,k,T)},get:(v,T)=>{const k=De.fromDom(v);return yr(k,"data-mce-"+T)||yr(k,T)}},h={style:{set:(v,T)=>{const k=De.fromDom(v);r&&K0(k,ky,T),ci(k,"style"),J(T)&&fl(k,e.parse(T))},get:v=>{const T=De.fromDom(v),k=yr(T,ky)||yr(T,"style");return e.serialize(e.parse(k),rs(T))}}};return r&&(h.href=h.src=c),h},hs=(e,t={})=>{const o={},r=window,c={};let h=0;const v=!0,T=!0,k=jm.forElement(De.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy,crossOrigin:yt=>{const St=t.crossOrigin;if(Re(St))return St(yt,"stylesheet")}}),L=[],W=t.schema?t.schema:Ls({}),G=mm({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),Q=t.ownEvents?new Pd:Pd.Event,ce=W.getBlockElements(),ke=yt=>J(yt)?Qn(ce,yt):Sn(yt)&&(Qn(ce,yt.nodeName)||Ya(W,yt)),ge=yt=>yt&&e&&J(yt)?e.getElementById(yt):yt,Te=yt=>{const St=ge(yt);return qe(St)?De.fromDom(St):null},ot=(yt,St,zn="")=>{let Tn;const Io=Te(yt);if(qe(Io)&&fa(Io)){const wr=OH[St];wr&&wr.get?Tn=wr.get(Io.dom,St):Tn=yr(Io,St)}return qe(Tn)?Tn:zn},rt=yt=>{const St=ge(yt);return fn(St)?[]:St.attributes},dt=(yt,St,zn)=>{po(yt,Tn=>{if(Sn(Tn)){const Io=De.fromDom(Tn),wr=zn===""?null:zn,zl=yr(Io,St),iy=OH[St];iy&&iy.set?iy.set(Io.dom,wr,St):K0(Io,St,wr),zl!==wr&&t.onSetAttrib&&t.onSetAttrib({attrElm:Io.dom,attrName:St,attrValue:wr})}})},Pt=(yt,St)=>yt.cloneNode(St),en=()=>t.root_element||e.body,Nn=yt=>{const St=Mu(yt);return{x:St.x,y:St.y,w:St.width,h:St.height}},io=(yt,St)=>vr(e.body,ge(yt),St),Bt=(yt,St,zn)=>{po(yt,Tn=>{const Io=De.fromDom(Tn);Dy(Io,St,zn),t.update_styles&&sd(G,Io)})},Ct=(yt,St)=>{po(yt,zn=>{const Tn=De.fromDom(zn);Oo(St,(Io,wr)=>{Dy(Tn,wr,Io)}),t.update_styles&&sd(G,Tn)})},Ft=(yt,St,zn)=>{const Tn=ge(yt);if(!(fn(Tn)||!ru(Tn)&&!E2(Tn)))return zn?ka(De.fromDom(Tn),Fd(St)):(St=St.replace(/-(\D)/g,(Io,wr)=>wr.toUpperCase()),St==="float"&&(St="cssFloat"),Tn.style?Tn.style[St]:void 0)},On=yt=>{const St=ge(yt);if(!St)return{w:0,h:0};let zn=Ft(St,"width"),Tn=Ft(St,"height");return(!zn||zn.indexOf("px")===-1)&&(zn="0"),(!Tn||Tn.indexOf("px")===-1)&&(Tn="0"),{w:parseInt(zn,10)||St.offsetWidth||St.clientWidth,h:parseInt(Tn,10)||St.offsetHeight||St.clientHeight}},Bo=yt=>{const St=ge(yt),zn=io(St),Tn=On(St);return{x:zn.x,y:zn.y,w:Tn.w,h:Tn.h}},Lo=(yt,St)=>{if(!yt)return!1;const zn=Ke(yt)?yt:[yt];return Ye(zn,Tn=>wl(De.fromDom(Tn),St))},Ws=(yt,St,zn,Tn)=>{const Io=[];let wr=ge(yt);Tn=Tn===void 0;const zl=zn||(en().nodeName!=="BODY"?en().parentNode:null);if(J(St))if(St==="*")St=Sn;else{const iy=St;St=P1=>Lo(P1,iy)}for(;wr&&!(wr===zl||fn(wr.nodeType)||zm(wr)||_p(wr));){if(!St||St(wr))if(Tn)Io.push(wr);else return[wr];wr=wr.parentNode}return Tn?Io:null},Pr=(yt,St,zn)=>{const Tn=Ws(yt,St,zn,!1);return Tn&&Tn.length>0?Tn[0]:null},Ca=(yt,St,zn)=>{let Tn=St;if(yt){J(St)&&(Tn=Io=>Lo(Io,St));for(let Io=yt[zn];Io;Io=Io[zn])if(Re(Tn)&&Tn(Io))return Io}return null},ti=(yt,St)=>Ca(yt,St,"nextSibling"),Vc=(yt,St)=>Ca(yt,St,"previousSibling"),Am=yt=>Re(yt.querySelectorAll),$n=(yt,St)=>{const zn=ge(St)??t.root_element??e;return Am(zn)?Ts(zn.querySelectorAll(yt)):[]},po=function(yt,St,zn){const Tn=zn??this;if(Ke(yt)){const Io=[];return Cc(yt,(wr,zl)=>{const iy=ge(wr);iy&&Io.push(St.call(Tn,iy,zl))}),Io}else{const Io=ge(yt);return Io?St.call(Tn,Io):!1}},_r=(yt,St)=>{po(yt,zn=>{Oo(St,(Tn,Io)=>{dt(zn,Io,Tn)})})},br=(yt,St)=>{po(yt,zn=>{const Tn=De.fromDom(zn);nf(Tn,St)})},vu=(yt,St,zn,Tn,Io)=>po(yt,wr=>{const zl=J(St)?e.createElement(St):St;return qe(zn)&&_r(zl,zn),Tn&&(!J(Tn)&&Tn.nodeType?zl.appendChild(Tn):J(Tn)&&br(zl,Tn)),Io?zl:wr.appendChild(zl)}),Ht=(yt,St,zn)=>vu(e.createElement(yt),yt,St,zn,!0),En=td.decode,Xn=td.encodeAllRaw,Bs=(yt,St,zn="")=>{let Tn="<"+yt;for(const Io in St)ls(St,Io)&&(Tn+=" "+Io+'="'+Xn(St[Io])+'"');return Cu(zn)&&Qn(W.getVoidElements(),yt)?Tn+" />":Tn+">"+zn+"</"+yt+">"},Ss=yt=>{const St=e.createElement("div"),zn=e.createDocumentFragment();zn.appendChild(St),yt&&(St.innerHTML=yt);let Tn;for(;Tn=St.firstChild;)zn.appendChild(Tn);return zn.removeChild(St),zn},Zr=(yt,St)=>po(yt,zn=>{const Tn=De.fromDom(zn);return St&&Le(ma(Tn),Io=>{ws(Io)&&Io.dom.length===0?Cs(Io):ul(Tn,Io)}),Cs(Tn),Tn.dom}),km=yt=>po(yt,St=>{const zn=St.attributes;for(let Tn=zn.length-1;Tn>=0;Tn--)St.removeAttributeNode(zn.item(Tn))}),dp=yt=>G.parse(yt),dg=(yt,St)=>G.serialize(yt,St),fh=yt=>{if(NC!==hs.DOM&&e===document){if(o[yt])return;o[yt]=!0}let St=e.getElementById("mceDefaultStyles");if(!St){St=e.createElement("style"),St.id="mceDefaultStyles",St.type="text/css";const zn=e.head;zn.firstChild?zn.insertBefore(St,zn.firstChild):zn.appendChild(St)}St.styleSheet?St.styleSheet.cssText+=yt:St.appendChild(e.createTextNode(yt))},Av=yt=>{yt||(yt=""),Le(yt.split(","),St=>{c[St]=!0,k.load(St).catch(Lt)})},qd=(yt,St,zn)=>{po(yt,Tn=>{if(Sn(Tn)){const Io=De.fromDom(Tn),wr=St.split(" ");Le(wr,zl=>{qe(zn)?(zn?pc:aa)(Io,zl):ta(Io,zl)})}})},Yf=(yt,St)=>{qd(yt,St,!0)},ry=(yt,St)=>{qd(yt,St,!1)},_C=(yt,St)=>{const zn=Te(yt),Tn=St.split(" ");return qe(zn)&&mr(Tn,Io=>Di(zn,Io))},M3=yt=>{po(yt,St=>Sg(De.fromDom(St),"display"))},_o=yt=>{po(yt,St=>Bl(De.fromDom(St),"display","none"))},Ys=yt=>{const St=Te(yt);return qe(St)&&Gt(di(St,"display"),"none")},yl=yt=>(yt||"mce_")+h++,ja=yt=>{const St=Te(yt);return qe(St)?Sn(St.dom)?St.dom.outerHTML:wg(St):""},Xr=(yt,St)=>{po(yt,zn=>{Sn(zn)&&(zn.outerHTML=St)})},ol=(yt,St)=>{const zn=ge(St);return po(yt,Tn=>{const Io=zn?.parentNode,wr=zn?.nextSibling;return Io&&(wr?Io.insertBefore(Tn,wr):Io.appendChild(Tn)),Tn})},Dm=(yt,St,zn)=>po(St,Tn=>{const Io=Ke(St)?yt.cloneNode(!0):yt;return zn&&Cc(zv(Tn.childNodes),wr=>{Io.appendChild(wr)}),Tn.parentNode?.replaceChild(Io,Tn),Tn}),xf=(yt,St)=>{if(yt.nodeName!==St.toUpperCase()){const zn=Ht(St);return Cc(rt(yt),Tn=>{dt(zn,Tn.nodeName,ot(yt,Tn.nodeName))}),Dm(zn,yt,!0),zn}else return yt},fg=(yt,St)=>{let zn=yt;for(;zn;){let Tn=St;for(;Tn&&zn!==Tn;)Tn=Tn.parentNode;if(zn===Tn)break;zn=zn.parentNode}return!zn&&yt.ownerDocument?yt.ownerDocument.documentElement:zn},ay=(yt,St,zn)=>jt(St)?fo(W,yt,{...zn,isContent:Io=>{const wr=Io.nodeName.toLowerCase();return!!St[wr]}}):fo(W,yt,zn),B3=()=>e.createRange(),L3=(yt,St,zn)=>{let Tn=B3(),Io,wr;if(yt&&St&&yt.parentNode&&St.parentNode){const zl=yt.parentNode;return Tn.setStart(zl,Lg(yt)),Tn.setEnd(St.parentNode,Lg(St)),Io=Tn.extractContents(),Tn=B3(),Tn.setStart(St.parentNode,Lg(St)+1),Tn.setEnd(zl,Lg(yt)+1),wr=Tn.extractContents(),zl.insertBefore(Lp(NC,Io,W),yt),zn?zl.insertBefore(zn,yt):zl.insertBefore(St,yt),zl.insertBefore(Lp(NC,wr,W),yt),Zr(yt),zn||St}else return},xT=(yt,St,zn,Tn)=>{if(Ke(yt)){let Io=yt.length;const wr=[];for(;Io--;)wr[Io]=xT(yt[Io],St,zn,Tn);return wr}else return t.collect&&(yt===e||yt===r)&&L.push([yt,St,zn,Tn]),Q.bind(yt,St,zn,Tn||NC)},L1=(yt,St,zn)=>{if(Ke(yt)){let Tn=yt.length;const Io=[];for(;Tn--;)Io[Tn]=L1(yt[Tn],St,zn);return Io}else{if(L.length>0&&(yt===e||yt===r)){let Tn=L.length;for(;Tn--;){const[Io,wr,zl]=L[Tn];yt===Io&&(!St||St===wr)&&(!zn||zn===zl)&&Q.unbind(Io,wr,zl)}}return Q.unbind(yt,St,zn)}},OC=(yt,St,zn)=>Q.dispatch(yt,St,zn),$M=(yt,St,zn)=>Q.dispatch(yt,St,zn),P3=yt=>{if(yt&&ru(yt)){const St=yt.getAttribute("data-mce-contenteditable");return St&&St!=="inherit"?St:yt.contentEditable!=="inherit"?yt.contentEditable:null}else return null},NC={doc:e,settings:t,win:r,files:c,stdMode:v,boxModel:T,styleSheetLoader:k,boundEvents:L,styles:G,schema:W,events:Q,isBlock:ke,root:null,clone:Pt,getRoot:en,getViewPort:Nn,getRect:Bo,getSize:On,getParent:Pr,getParents:Ws,get:ge,getNext:ti,getPrev:Vc,select:$n,is:Lo,add:vu,create:Ht,createHTML:Bs,createFragment:Ss,remove:Zr,setStyle:Bt,getStyle:Ft,setStyles:Ct,removeAllAttribs:km,setAttrib:dt,setAttribs:_r,getAttrib:ot,getPos:io,parseStyle:dp,serializeStyle:dg,addStyle:fh,loadCSS:Av,addClass:Yf,removeClass:ry,hasClass:_C,toggleClass:qd,show:M3,hide:_o,isHidden:Ys,uniqueId:yl,setHTML:br,getOuterHTML:ja,setOuterHTML:Xr,decode:En,encode:Xn,insertAfter:ol,replace:Dm,rename:xf,findCommonAncestor:fg,run:po,getAttribs:rt,isEmpty:ay,createRng:B3,nodeIndex:Lg,split:L3,bind:xT,unbind:L1,fire:$M,dispatch:OC,getContentEditable:P3,getContentEditableParent:yt=>{const St=en();let zn=null;for(let Tn=yt;Tn&&Tn!==St&&(zn=P3(Tn),zn===null);Tn=Tn.parentNode);return zn},isEditable:yt=>{if(qe(yt)){const St=Sn(yt)?yt:yt.parentElement;return qe(St)&&ru(St)&&Cr(De.fromDom(St))}else return!1},destroy:()=>{if(L.length>0){let yt=L.length;for(;yt--;){const[St,zn,Tn]=L[yt];Q.unbind(St,zn,Tn)}}Oo(c,(yt,St)=>{k.unload(St),delete c[St]})},isChildOf:(yt,St)=>yt===St||St.contains(yt),dumpRng:yt=>"startContainer: "+yt.startContainer.nodeName+", startOffset: "+yt.startOffset+", endContainer: "+yt.endContainer.nodeName+", endOffset: "+yt.endOffset},OH=N2(G,t,at(NC));return NC};hs.DOM=hs(document),hs.nodeIndex=Lg;const Vp=hs.DOM,Ps=0,tc=1,Ih=2,X0=3;class sr{static ScriptLoader=new sr;settings;states={};queue=[];scriptLoadedCallbacks={};queueLoadedCallbacks=[];loading=!1;constructor(t={}){this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}_setCrossOrigin(t){this.settings.crossOrigin=t}loadScript(t){return new Promise((o,r)=>{const c=Vp,h=document;let v;const T=()=>{c.remove(W),v&&(v.onerror=v.onload=v=null)},k=()=>{T(),o()},L=()=>{T(),r("Failed to load script: "+t)},W=c.uniqueId();v=h.createElement("script"),v.id=W,v.type="text/javascript",v.src=ln._addCacheSuffix(t),this.settings.referrerPolicy&&c.setAttrib(v,"referrerpolicy",this.settings.referrerPolicy);const G=this.settings.crossOrigin;if(Re(G)){const Q=G(t);Q!==void 0&&c.setAttrib(v,"crossorigin",Q)}v.onload=k,v.onerror=L,(h.head||h.body).appendChild(v)})}isDone(t){return this.states[t]===Ih}markDone(t){this.states[t]=Ih}add(t){const o=this;return o.queue.push(t),o.states[t]===void 0&&(o.states[t]=Ps),new Promise((c,h)=>{o.scriptLoadedCallbacks[t]||(o.scriptLoadedCallbacks[t]=[]),o.scriptLoadedCallbacks[t].push({resolve:c,reject:h})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const o=this,r=(k,L)=>{No(o.scriptLoadedCallbacks,L).each(W=>{Le(W,G=>G[k](L))}),delete o.scriptLoadedCallbacks[L]},c=k=>{const L=xt(k,W=>W.status==="rejected");return L.length>0?Promise.reject(Do(L,({reason:W})=>Ke(W)?W:[W])):Promise.resolve()},h=k=>Promise.allSettled(tt(k,L=>o.states[L]===Ih?(r("resolve",L),Promise.resolve()):o.states[L]===X0?(r("reject",L),Promise.reject(L)):(o.states[L]=tc,o.loadScript(L).then(()=>{o.states[L]=Ih,r("resolve",L);const W=o.queue;return W.length>0?(o.queue=[],h(W).then(c)):Promise.resolve()},()=>(o.states[L]=X0,r("reject",L),Promise.reject(L)))))),v=k=>(o.loading=!0,h(k).then(L=>{o.loading=!1;const W=o.queueLoadedCallbacks.shift();return X.from(W).each(mt),c(L)})),T=Tf(t);return o.loading?new Promise((k,L)=>{o.queueLoadedCallbacks.push(()=>{v(T).then(k,L)})}):v(T)}getScriptAttributes(t){const o={};this.settings.referrerPolicy&&(o.referrerpolicy=this.settings.referrerPolicy);const r=this.settings.crossOrigin;if(Re(r)){const c=r(t);J(c)&&(o.crossorigin=c)}return o}}const jv=(e,t)=>{const o=e.indexOf(t);return o!==-1&&e.indexOf(t,o+1)>o},mb=e=>it(e)&&Qn(e,"raw"),Vv=e=>Ke(e)&&e.length>1,Up={},hb=Pn("en"),R2=()=>No(Up,hb.get()),$u={getData:()=>ui(Up,e=>({...e})),setCode:e=>{e&&hb.set(e)},getCode:()=>hb.get(),add:(e,t)=>{let o=Up[e];o||(Up[e]=o={});const r=tt(Hn(t),c=>c.toLowerCase());Oo(t,(c,h)=>{const v=h.toLowerCase();v!==h&&jv(r,v)?(Qn(t,v)||(o[v]=c),o[h]=c):o[v]=c})},translate:e=>{const t=R2().getOr({}),o=T=>Re(T)?Object.prototype.toString.call(T):r(T)?"":""+T,r=T=>T===""||T===null||T===void 0,c=T=>{const k=o(T);return Qn(t,k)?o(t[k]):No(t,k.toLowerCase()).map(o).getOr(k)},h=T=>T.replace(/{context:\w+}$/,""),v=T=>T.replaceAll("...",Kd);if(r(e))return"";if(mb(e))return v(o(e.raw));if(Vv(e)){const T=e.slice(1),k=c(e[0]).replace(/\{([0-9]+)\}/g,(L,W)=>Qn(T,W)?o(T[W]):L);return v(h(k))}return v(h(c(e)))},isRtl:()=>R2().bind(e=>No(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Qn(Up,e)},Xi=()=>{const e=[],t={},o={},r=[],c=(ge,Te)=>{const ot=xt(r,rt=>rt.name===ge&&rt.state===Te);Le(ot,rt=>rt.resolve())},h=ge=>Qn(t,ge),v=ge=>Qn(o,ge),T=ge=>{if(o[ge])return o[ge].instance},k=(ge,Te)=>{const ot=$u.getCode(),rt=","+(Te||"")+",";!ot||Te&&rt.indexOf(","+ot+",")===-1||sr.ScriptLoader.add(t[ge]+"/langs/"+ot+".js")},L=(ge,Te)=>{Xi.languageLoad!==!1&&(h(ge)?k(ge,Te):ke(ge,"loaded").then(()=>k(ge,Te)))},W=(ge,Te)=>(e.push(Te),o[ge]={instance:Te},c(ge,"added"),Te),G=ge=>{delete t[ge],delete o[ge]},Q=(ge,Te)=>J(Te)?J(ge)?{prefix:"",resource:Te,suffix:""}:{prefix:ge.prefix,resource:Te,suffix:ge.suffix}:Te,ce=(ge,Te)=>{if(t[ge])return Promise.resolve();let ot=J(Te)?Te:Te.prefix+Te.resource+Te.suffix;ot.indexOf("/")!==0&&ot.indexOf("://")===-1&&(ot=Xi.baseURL+"/"+ot),t[ge]=ot.substring(0,ot.lastIndexOf("/"));const rt=()=>(c(ge,"loaded"),Promise.resolve());return o[ge]?rt():sr.ScriptLoader.add(ot).then(rt)},ke=(ge,Te="added")=>Te==="added"&&v(ge)||Te==="loaded"&&h(ge)?Promise.resolve():new Promise(ot=>{r.push({name:ge,state:Te,resolve:ot})});return{items:e,urls:t,lookup:o,get:T,requireLangPack:L,add:W,remove:G,createUrl:Q,load:ce,waitFor:ke}};Xi.languageLoad=!0,Xi.baseURL="",Xi.PluginManager=Xi(),Xi.ThemeManager=Xi(),Xi.ModelManager=Xi();const Hh=at("mce-annotation"),rd=at("data-mce-annotation"),hm=at("data-mce-annotation-uid"),Wp=at("data-mce-annotation-active"),ca=at("data-mce-annotation-classes"),Q0=at("data-mce-annotation-attrs"),VC=e=>t=>ss(t,e),pb=(e,t)=>{const o=e.selection.getRng(),r=De.fromDom(o.startContainer),c=De.fromDom(e.getBody()),h=t.fold(()=>"."+Hh(),k=>`[${rd()}="${k}"]`),v=Jc(r,o.startOffset).getOr(r);return El(v,h,VC(c)).bind(k=>dl(k,`${hm()}`).bind(L=>dl(k,`${rd()}`).map(W=>{const G=bb(e,L);return{uid:L,name:W,elements:G}})))},Uv=e=>fa(e)&&Di(e,Hh()),Zv=(e,t)=>Gr(e,"data-mce-bogus")||Br(e,'[data-mce-bogus="all"]',VC(t)),bb=(e,t)=>{const o=De.fromDom(e.getBody()),r=kt(o,`[${hm()}="${t}"]`);return xt(r,c=>!Zv(c,o))},If=(e,t)=>{const o=De.fromDom(e.getBody()),r=kt(o,`[${rd()}="${t}"]`),c={};return Le(r,h=>{if(!Zv(h,o)){const v=yr(h,hm()),T=No(c,v).getOr([]);c[v]=T.concat([h])}}),c},zh=(e,t)=>{const o=Pn({}),r=()=>({listeners:[],previous:Fs()}),c=(G,Q)=>{h(G,ce=>(Q(ce),ce))},h=(G,Q)=>{const ce=o.get(),ke=No(ce,G).getOrThunk(r),ge=Q(ke);ce[G]=ge,o.set(ce)},v=(G,Q,ce)=>{c(G,ke=>{Le(ke.listeners,ge=>ge(!0,G,{uid:Q,nodes:tt(ce,Te=>Te.dom)}))})},T=G=>{c(G,Q=>{Le(Q.listeners,ce=>ce(!1,G))})},k=(G,Q)=>{Le(bb(e,G),ce=>{Q?Or(ce,Wp(),"true"):ci(ce,Wp())})},L=Su(()=>{const G=Es(t.getNames());Le(G,Q=>{h(Q,ce=>{const ke=ce.previous.get();return pb(e,X.some(Q)).fold(()=>{ke.each(ge=>{T(Q),ce.previous.clear(),k(ge,!1)})},({uid:ge,name:Te,elements:ot})=>{Gt(ke,ge)||(ke.each(rt=>k(rt,!1)),v(Te,ge,ot),ce.previous.set(ge),k(ge,!0))}),{previous:ce.previous,listeners:ce.listeners}})})},30);return e.on("remove",()=>{L.cancel()}),e.on("NodeChange",()=>{L.throttle()}),{addListener:(G,Q)=>{h(G,ce=>({previous:ce.previous,listeners:ce.listeners.concat([Q])}))}}},qp=(e,t)=>{const o=rd(),r=h=>X.from(h.attr(o)).bind(t.lookup),c=h=>{h.attr(hm(),null),h.attr(rd(),null),h.attr(Wp(),null);const v=X.from(h.attr(Q0())).map(W=>W.split(",")).getOr([]),T=X.from(h.attr(ca())).map(W=>W.split(",")).getOr([]);Le(v,W=>h.attr(W,null));const k=h.attr("class")?.split(" ")??[],L=os(k,[Hh()].concat(T));h.attr("class",L.length>0?L.join(" "):null),h.attr(ca(),null),h.attr(Q0(),null)};e.serializer.addTempAttr(Wp()),e.serializer.addAttributeFilter(o,h=>{for(const v of h)r(v).each(T=>{T.persistent===!1&&(v.name==="span"?v.unwrap():c(v))})})},Gp=()=>{const e={};return{register:(c,h)=>{e[c]={name:c,settings:h}},lookup:c=>No(e,c).map(h=>h.settings),getNames:()=>Hn(e)}},_y=(e,t,o=He)=>{const r=new Ka(e,t),c=h=>{let v;do v=r[h]();while(v&&!dn(v)&&!o(v));return X.from(v).filter(dn)};return{current:()=>X.from(r.current()).filter(dn),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},du=(e,t)=>{const o=t||(v=>e.isBlock(v)||la(v)||na(v)),r=(v,T,k,L)=>{if(dn(v)){const W=L(v,T,v.data);if(W!==-1)return X.some({container:v,offset:W})}return k().bind(W=>r(W.container,W.offset,k,L))};return{backwards:(v,T,k,L)=>{const W=_y(v,L??e.getRoot(),o);return r(v,T,()=>W.prev().map(G=>({container:G,offset:G.length})),k).getOrNull()},forwards:(v,T,k,L)=>{const W=_y(v,L??e.getRoot(),o);return r(v,T,()=>W.next().map(G=>({container:G,offset:0})),k).getOrNull()}}},df=["td","th"],J0=["thead","tbody","tfoot"],UC=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],F2=["li","dd","dt"],Wv=["ul","ol","dl"],Oy=["pre","script","textarea","style"],gm=e=>{let t;return o=>(t=t||Vs(e,ft),Qn(t,rs(o)))},$2=e=>rs(e)==="table",$d=e=>fa(e)&&rs(e)==="br",Sc=gm(UC),Id=gm(Wv),fu=gm(F2),e1=gm(J0),jh=gm(df),Ny=gm(Oy),qv=e=>{const t=[];let o=e.dom;for(;o;)t.push(De.fromDom(o)),o=o.lastChild;return t},yb=e=>{const t=kt(e,"br"),o=xt(qv(e).slice(-1),$d);t.length===o.length&&Le(o,Cs)},Fg=()=>{const e=De.fromTag("br");return Or(e,"data-mce-bogus","1"),e},Vh=e=>{ql(e),Is(e,Fg())},Rr=(e,t)=>{ii(e).each(o=>{qu(o).each(r=>{t.isBlock(rs(e))&&$d(o)&&t.isBlock(rs(r))&&Cs(o)})})},Hi=pi,$g=Ei,Pc=rl,vb=e=>e.insertContent(Hi,{preserve_zwsp:!0}),Dr=Sn,ad=dn,Hf=e=>(ad(e)&&(e=e.parentNode),Dr(e)&&e.hasAttribute("data-mce-caret")),pm=e=>ad(e)&&$g(e.data),id=e=>Hf(e)||pm(e),Ry=e=>e.firstChild!==e.lastChild||!la(e.firstChild),I2=(e,t)=>{const r=(e.ownerDocument??document).createTextNode(Hi),c=e.parentNode;if(t){const h=e.previousSibling;if(ad(h)){if(id(h))return h;if(Qi(h))return h.splitText(h.data.length-1)}c?.insertBefore(r,e)}else{const h=e.nextSibling;if(ad(h)){if(id(h))return h;if(mu(h))return h.splitText(1),h}e.nextSibling?c?.insertBefore(r,e.nextSibling):c?.appendChild(r)}return r},Wm=e=>{const t=e.container();return dn(t)?t.data.charAt(e.offset())===Hi||e.isAtStart()&&pm(t.previousSibling):!1},Ig=e=>{const t=e.container();return dn(t)?t.data.charAt(e.offset()-1)===Hi||e.isAtEnd()&&pm(t.nextSibling):!1},Qa=(e,t,o)=>{const c=(t.ownerDocument??document).createElement(e);c.setAttribute("data-mce-caret",o?"before":"after"),c.setAttribute("data-mce-bogus","all"),c.appendChild(Fg().dom);const h=t.parentNode;return o?h?.insertBefore(c,t):t.nextSibling?h?.insertBefore(c,t.nextSibling):h?.appendChild(c),c},mu=e=>ad(e)&&e.data[0]===Hi,Qi=e=>ad(e)&&e.data[e.data.length-1]===Hi,nc=e=>{const t=e.getElementsByTagName("br"),o=t[t.length-1];Hm(o)&&o.parentNode?.removeChild(o)},ff=e=>e&&e.hasAttribute("data-mce-caret")?(nc(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,My=e=>Hf(e.startContainer),Uh=Math.round,qm=e=>e?{left:Uh(e.left),top:Uh(e.top),bottom:Uh(e.bottom),right:Uh(e.right),width:Uh(e.width),height:Uh(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Hg=(e,t)=>(e=qm(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),By=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,xb=(e,t,o)=>e>=0&&e<=Math.min(t.height,o.height)/2,Zh=(e,t)=>{const o=Math.min(t.height/2,e.height/2);return e.bottom-o<t.top?!0:e.top>t.bottom?!1:xb(t.top-e.bottom,e,t)},Gm=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:xb(t.bottom-e.top,e,t),Gv=(e,t,o)=>t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom,t1=e=>Pe(e,(t,o)=>t.fold(()=>X.some(o),r=>{const c=Math.min(o.left,r.left),h=Math.min(o.top,r.top),v=Math.max(o.right,r.right),T=Math.max(o.bottom,r.bottom);return X.some({top:h,right:v,bottom:T,left:c,width:v-c,height:T-h})}),X.none()),Kv=(e,t,o)=>{const r=Math.max(Math.min(t,e.left+e.width),e.left),c=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((t-r)*(t-r)+(o-c)*(o-c))},Yv=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),gl=e=>{const t=e.startContainer,o=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===o+1?t.childNodes[o]:null},zg=(e,t)=>{if(Sn(e)&&e.hasChildNodes()){const o=e.childNodes,r=Ao(t,0,o.length-1);return o[r]}else return e},ld=(e,t)=>{if(!(t<0&&Sn(e)&&e.hasChildNodes()))return zg(e,t)},Xv=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),wb=e=>J(e)&&e.charCodeAt(0)>=768&&Xv.test(e),Cb=(...e)=>t=>{for(let o=0;o<e.length;o++)if(e[o](t))return!0;return!1},Sb=(...e)=>t=>{for(let o=0;o<e.length;o++)if(!e[o](t))return!1;return!0},Ly=Bu,Qv=na,Jv=la,Kp=dn,Ji=Qu(["script","style","textarea"]),Kr=Qu(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Al=Qu(["table"]),kl=id,ya=e=>kl(e)?!1:Kp(e)?!Ji(e.parentNode):Kr(e)||Jv(e)||Al(e)||Km(e),Oi=e=>Sn(e)&&e.getAttribute("unselectable")==="true",Km=e=>!Oi(e)&&Qv(e),Hd=(e,t)=>{for(let o=e.parentNode;o&&o!==t;o=o.parentNode){if(Km(o))return!1;if(Ly(o))return!0}return!0},Py=e=>Km(e)?!Pe(Ts(e.getElementsByTagName("*")),(t,o)=>t||Ly(o),!1):!1,Eb=e=>Kr(e)||Py(e),zf=(e,t)=>ya(e)&&Hd(e,t),ex=Sn,tx=ya,Wh=tb("display","block table"),Fy=tb("float","left right"),n1=Sb(ex,tx,Ve(Fy)),H2=Ve(tb("white-space","pre pre-line pre-wrap")),Tb=dn,bm=la,$y=hs.nodeIndex,Ab=ld,o1=e=>e?e.createRange():hs.DOM.createRng(),jg=e=>J(e)&&/[\r\n\t ]/.test(e),Ym=e=>!!e.setStart&&!!e.setEnd,Vg=e=>{const t=e.startContainer,o=e.startOffset;if(jg(e.toString())&&H2(t.parentNode)&&dn(t)){const r=t.data;if(jg(r[o-1])||jg(r[o+1]))return!0}return!1},s1=e=>{const t=e.ownerDocument,o=o1(t),r=t.createTextNode(qr),c=e.parentNode;c.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const h=qm(o.getBoundingClientRect());return c.removeChild(r),h},Iy=e=>{const t=e.startContainer,o=e.endContainer,r=e.startOffset,c=e.endOffset;if(t===o&&dn(o)&&r===0&&c===1){const h=e.cloneRange();return h.setEndAfter(o),Il(h)}else return null},jf=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Il=e=>{let t;const o=e.getClientRects();return o.length>0?t=qm(o[0]):t=qm(e.getBoundingClientRect()),!Ym(e)&&bm(e)&&jf(t)?s1(e):jf(t)&&Ym(e)?Iy(e)??t:t},oc=(e,t)=>{const o=Hg(e,t);return o.width=1,o.right=o.left+1,o},qh=e=>{const t=[],o=v=>{v.height!==0&&(t.length>0&&By(v,t[t.length-1])||t.push(v))},r=(v,T)=>{const k=o1(v.ownerDocument);if(T<v.data.length){if(wb(v.data[T]))return;if(wb(v.data[T-1])&&(k.setStart(v,T),k.setEnd(v,T+1),!Vg(k))){o(oc(Il(k),!1));return}}T>0&&(k.setStart(v,T-1),k.setEnd(v,T),Vg(k)||o(oc(Il(k),!1))),T<v.data.length&&(k.setStart(v,T),k.setEnd(v,T+1),Vg(k)||o(oc(Il(k),!0)))},c=e.container(),h=e.offset();if(Tb(c))return r(c,h),t;if(ex(c))if(e.isAtEnd()){const v=Ab(c,h);Tb(v)&&r(v,v.data.length),n1(v)&&!bm(v)&&o(oc(Il(v),!1))}else{const v=Ab(c,h);if(Tb(v)&&r(v,0),n1(v)&&e.isAtEnd())return o(oc(Il(v),!1)),t;const T=Ab(e.container(),e.offset()-1);n1(T)&&!bm(T)&&(Wh(T)||Wh(v)||!n1(v))&&o(oc(Il(T),!1)),n1(v)&&o(oc(Il(v),!0))}return t},_t=(e,t,o)=>{const r=()=>(Tb(e),t===0),c=()=>Tb(e)?t>=e.data.length:t>=e.childNodes.length,h=()=>{const W=o1(e.ownerDocument);return W.setStart(e,t),W.setEnd(e,t),W},v=()=>(o||(o=qh(_t(e,t))),o),T=()=>v().length>0,k=W=>W&&e===W.container()&&t===W.offset(),L=W=>Ab(e,W?t-1:t);return{container:at(e),offset:at(t),toRange:h,getClientRects:v,isVisible:T,isAtStart:r,isAtEnd:c,isEqual:k,getNode:L}};_t.fromRangeStart=e=>_t(e.startContainer,e.startOffset),_t.fromRangeEnd=e=>_t(e.endContainer,e.endOffset),_t.after=e=>_t(e.parentNode,$y(e)+1),_t.before=e=>_t(e.parentNode,$y(e)),_t.isAbove=(e,t)=>Bn(gs(t.getClientRects()),Wr(e.getClientRects()),Zh).getOr(!1),_t.isBelow=(e,t)=>Bn(Wr(t.getClientRects()),gs(e.getClientRects()),Gm).getOr(!1),_t.isAtStart=e=>e?e.isAtStart():!1,_t.isAtEnd=e=>e?e.isAtEnd():!1,_t.isTextPosition=e=>e?dn(e.container()):!1,_t.isElementPosition=e=>!_t.isTextPosition(e);const Yp=(e,t)=>{dn(t)&&t.data.length===0&&e.remove(t)},Hy=(e,t,o)=>{t.insertNode(o),Yp(e,o.previousSibling),Yp(e,o.nextSibling)},Fc=(e,t,o)=>{const r=X.from(o.firstChild),c=X.from(o.lastChild);t.insertNode(o),r.each(h=>Yp(e,h.previousSibling)),c.each(h=>Yp(e,h.nextSibling))},Xp=(e,t,o)=>{_p(o)?Fc(e,t,o):Hy(e,t,o)},ym=dn,zy=Hm,nx=hs.nodeIndex,Gh=e=>{const t=e.parentNode;return zy(t)?Gh(t):t},kb=e=>e?Tu(e.childNodes,(t,o)=>(zy(o)&&o.nodeName!=="BR"?t=t.concat(kb(o)):t.push(o),t),[]):[],Vf=(e,t)=>{let o=e;for(;(o=o.previousSibling)&&ym(o);)t+=o.data.length;return t},Qp=e=>t=>e===t,jy=e=>{let t,o;t=kb(Gh(e)),o=yd(t,Qp(e),e),t=t.slice(0,o+1);const r=Tu(t,(c,h,v)=>(ym(h)&&ym(t[v-1])&&c++,c),0);return t=qc(t,Qu([e.nodeName])),o=yd(t,Qp(e),e),o-r},Ec=e=>(ym(e)?"text()":e.nodeName.toLowerCase())+"["+jy(e)+"]",cd=(e,t,o)=>{const r=[];for(let c=t.parentNode;c&&c!==e;c=c.parentNode)r.push(c);return r},ud=(e,t)=>{let o=[],r=t.container(),c=t.offset(),h;if(ym(r))h=Vf(r,c);else{const T=r.childNodes;c>=T.length?(h="after",c=T.length-1):h="before",r=T[c]}o.push(Ec(r));let v=cd(e,r);return v=qc(v,Ve(Hm)),o=o.concat(Wc(v,T=>Ec(T))),o.reverse().join("/")+","+h},z2=(e,t,o)=>{let r=kb(e);return r=qc(r,(c,h)=>!ym(c)||!ym(r[h-1])),r=qc(r,Qu([t])),r[o]},Jp=(e,t)=>{let o=e,r=0;for(;ym(o);){const c=o.data.length;if(t>=r&&t<=r+c){e=o,t=t-r;break}if(!ym(o.nextSibling)){e=o,t=c;break}r+=c,o=o.nextSibling}return ym(e)&&t>e.data.length&&(t=e.data.length),_t(e,t)},ox=(e,t)=>{if(!t)return null;const o=t.split(","),r=o[0].split("/"),c=o.length>1?o[1]:"before",h=Tu(r,(v,T)=>{const k=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(T);return k?(k[1]==="text()"&&(k[1]="#text"),z2(v,k[1],parseInt(k[2],10))):null},e);if(!h)return null;if(!ym(h)&&h.parentNode){let v;return c==="after"?v=nx(h)+1:v=nx(h),_t(h.parentNode,v)}return Jp(h,parseInt(c,10))},Db=na,sx=(e,t,o)=>{let r=e(t.data.slice(0,o)).length;for(let c=t.previousSibling;c&&dn(c);c=c.previousSibling)r+=e(c.data).length;return r},rx=(e,t,o,r,c)=>{const h=c?r.startContainer:r.endContainer;let v=c?r.startOffset:r.endOffset;const T=[],k=e.getRoot();if(dn(h))T.push(o?sx(t,h,v):v);else{let L=0;const W=h.childNodes;v>=W.length&&W.length&&(L=1,v=Math.max(0,W.length-1)),T.push(e.nodeIndex(W[v],o)+L)}for(let L=h;L&&L!==k;L=L.parentNode)T.push(e.nodeIndex(L,o));return T},fs=(e,t,o,r)=>{const c=t.dom,h=rx(c,e,o,r,!0),v=t.isForward(),T=My(r)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:h,forward:v,...T};{const k=rx(c,e,o,r,!1);return{start:h,end:k,forward:v,...T}}},so=(e,t,o)=>{let r=0;return ln.each(e.select(t),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;r++;return}}),r},r1=(e,t)=>{let o=t?e.startContainer:e.endContainer,r=t?e.startOffset:e.endOffset;if(Sn(o)&&o.nodeName==="TR"){const c=o.childNodes;o=c[Math.min(t?r:r-1,c.length-1)],o&&(r=t?0:o.childNodes.length,t?e.setStart(o,r):e.setEnd(o,r))}},Vy=e=>(r1(e,!0),r1(e,!1),e),a1=(e,t)=>{if(Sn(e)&&(e=zg(e,t),Db(e)))return e;if(id(e)){dn(e)&&Hf(e)&&(e=e.parentNode);let o=e.previousSibling;if(Db(o)||(o=e.nextSibling,Db(o)))return o}},ax=e=>a1(e.startContainer,e.startOffset)||a1(e.endContainer,e.endOffset),i1=(e,t,o)=>{const r=o.getNode(),c=o.getRng();if(r.nodeName==="IMG"||Db(r)){const v=r.nodeName;return{name:v,index:so(o.dom,v,r)}}const h=ax(c);if(h){const v=h.tagName;return{name:v,index:so(o.dom,v,h)}}return fs(e,o,t,c)},oa=e=>{const t=e.getRng();return{start:ud(e.dom.getRoot(),_t.fromRangeStart(t)),end:ud(e.dom.getRoot(),_t.fromRangeEnd(t)),forward:e.isForward()}},_b=e=>({rng:e.getRng(),forward:e.isForward()}),l1=(e,t,o)=>{const r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},Xm=(e,t)=>{const o=e.dom;let r=e.getRng();const c=o.uniqueId(),h=e.isCollapsed(),v=e.getNode(),T=v.nodeName,k=e.isForward();if(T==="IMG")return{name:T,index:so(o,T,v)};const L=Vy(r.cloneRange());if(!h){L.collapse(!1);const G=l1(o,c+"_end",t);Xp(o,L,G)}r=Vy(r),r.collapse(!0);const W=l1(o,c+"_start",t);return Xp(o,r,W),e.moveToBookmark({id:c,keep:!0,forward:k}),{id:c,forward:k}},Mt=(e,t,o=!1)=>t===2?i1(Pc,o,e):t===3?oa(e):t?_b(e):Xm(e,!1),mf=le(i1,Jn,!0),vm=e=>e===1,zd=e=>e===-1;var Tc;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Tc||(Tc={}));const Qm=(e,t,o)=>e.stype===Tc.Error?t(e.serror):o(e.svalue),e0=e=>{const t=[],o=[];return Le(e,r=>{Qm(r,c=>o.push(c),c=>t.push(c))}),{values:t,errors:o}},xm=(e,t)=>e.stype===Tc.Error?{stype:Tc.Error,serror:t(e.serror)}:e,ZC=(e,t)=>e.stype===Tc.Value?{stype:Tc.Value,svalue:t(e.svalue)}:e,t0=(e,t)=>e.stype===Tc.Value?t(e.svalue):e,Lr=(e,t)=>e.stype===Tc.Error?t(e.serror):e,hf=e=>({stype:Tc.Value,svalue:e}),ix=e=>({stype:Tc.Error,serror:e}),sc={fromResult:e=>e.fold(ix,hf),toResult:e=>Qm(e,Ie.error,Ie.value),svalue:hf,partition:e0,serror:ix,bind:t0,bindError:Lr,map:ZC,mapError:xm,fold:Qm},n0=e=>it(e)&&Hn(e).length>100?" removed due to size":JSON.stringify(e,null,2),Uy=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:at("... (only showing first ten failures)")}]):e;return tt(t,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},Zy=(e,t)=>sc.serror([{path:e,getErrorInfo:t}]),Wy=(e,t,o)=>Zy(e,()=>'Could not find valid *required* value for "'+t+'" in '+n0(o)),j2=(e,t)=>Zy(e,at(t)),lx=e=>{const t=(r,c)=>sc.bindError(e(c),h=>j2(r,h)),o=at("val");return{extract:t,toString:o}},Ob=lx(sc.svalue),a=at(Ob),d=(e,t)=>lx(o=>{const r=typeof o;return e(o)?sc.svalue(o):sc.serror(`Expected type: ${t} but got: ${r}`)}),g=d(Qo,"number"),C=d(J,"string"),N=d(Re,"function"),$=()=>({tag:"required",process:{}}),se=e=>({tag:"defaultedThunk",process:e}),fe=e=>se(at(e)),ct=()=>({tag:"option",process:{}}),Zt=(e,t,o,r)=>({tag:"field",key:e,newKey:t,presence:o,prop:r}),bn=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},Dn=(e,t)=>sc.svalue(Ut(t,wn.apply(void 0,e))),Qt=e=>F(sc.serror,Jo)(e),Ns={consolidateObj:(e,t)=>{const o=sc.partition(e);return o.errors.length>0?Qt(o.errors):Dn(o.values,t)},consolidateArr:e=>{const t=sc.partition(e);return t.errors.length>0?Qt(t.errors):sc.svalue(t.values)}},mi=(e,t,o,r)=>No(t,o).fold(()=>Wy(e,o,t),r),et=(e,t,o,r)=>{const c=No(e,t).getOrThunk(()=>o(e));return r(c)},gt=(e,t,o)=>o(No(e,t)),zt=(e,t,o,r)=>{const c=No(e,t).map(h=>h===!0?o(e):h);return r(c)},hn=(e,t,o,r,c)=>{const h=T=>c.extract(t.concat([r]),T),v=T=>T.fold(()=>sc.svalue(X.none()),k=>{const L=c.extract(t.concat([r]),k);return sc.map(L,X.some)});switch(e.tag){case"required":return mi(t,o,r,h);case"defaultedThunk":return et(o,r,e.process,h);case"option":return gt(o,r,v);case"defaultedOptionThunk":return zt(o,r,e.process,v);case"mergeWithThunk":return et(o,r,at({}),T=>{const k=Ut(e.process(o),T);return h(k)})}},ms=(e,t,o)=>{const r={},c=[];for(const h of o)bn(h,(v,T,k,L)=>{const W=hn(k,e,t,v,L);sc.fold(W,G=>{c.push(...G)},G=>{r[T]=G})},(v,T)=>{r[v]=T(t)});return c.length>0?sc.serror(c):sc.svalue(r)},Us=e=>({extract:(r,c)=>ms(r,c,e),toString:()=>`obj{
`+tt(e,c=>bn(c,(h,v,T,k)=>h+" -> "+k.toString(),(h,v)=>"state("+h+")")).join(`
`)+"}"}),Go=e=>({extract:(r,c)=>{const h=tt(c,(v,T)=>e.extract(r.concat(["["+T+"]"]),v));return Ns.consolidateArr(h)},toString:()=>"array("+e.toString()+")"}),rr=F(Go,Us),Mr=e=>lx(t=>e(t).fold(sc.serror,sc.svalue)),zr=(e,t,o)=>{const r=t.extract([e],o);return sc.mapError(r,c=>({input:o,errors:c}))},gf=(e,t,o)=>sc.toResult(zr(e,t,o)),Jm=e=>`Errors: 
`+Uy(e.errors).join(`
`)+`

Input object: `+n0(e.input),pl=Zt,o0=e=>pl(e,e,$(),a()),LT=(e,t)=>pl(e,e,$(),t),WC=e=>LT(e,C),PT=e=>LT(e,N),uD=(e,t)=>pl(e,e,$(),Go(t)),Zs=e=>pl(e,e,ct(),a()),eh=(e,t)=>pl(e,e,ct(),t),c1=e=>eh(e,C),CB=e=>eh(e,N),qy=(e,t)=>pl(e,e,fe(t),a()),Ks=(e,t,o)=>pl(e,e,fe(t),o),dD=(e,t)=>Ks(e,t,g),fD=(e,t,o)=>Ks(e,t,Go(o)),SB=e=>e.type==="inline-command"||e.type==="inline-format",EB=e=>e.type==="block-command"||e.type==="block-format",cx=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,mD=e=>{const t=r=>Ie.error({message:r,pattern:e}),o=(r,c,h)=>{if(e.format!==void 0){let v;if(Ke(e.format)){if(!mr(e.format,J))return t(r+" pattern has non-string items in the `format` array");v=e.format}else if(J(e.format))v=[e.format];else return t(r+" pattern has non-string `format` parameter");return Ie.value(c(v))}else return e.cmd!==void 0?J(e.cmd)?Ie.value(h(e.cmd,e.value)):t(r+" pattern has non-string `cmd` parameter"):t(r+" pattern is missing both `format` and `cmd` parameters")};if(!it(e))return t("Raw pattern is not an object");if(!J(e.start))return t("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!J(e.end))return t("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return t("Inline pattern has empty `start` and `end` parameters");let r=e.start,c=e.end;return c.length===0&&(c=r,r=""),o("Inline",h=>({type:"inline-format",start:r,end:c,format:h}),(h,v)=>({type:"inline-command",start:r,end:c,cmd:h,value:v}))}else{if(e.replacement!==void 0)return J(e.replacement)?e.start.length===0?t("Replacement pattern has empty `start` parameter"):Ie.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter");{const r=e.trigger??"space";return e.start.length===0?t("Block pattern has empty `start` parameter"):o("Block",c=>({type:"block-format",start:e.start,format:c[0],trigger:r}),(c,h)=>({type:"block-command",start:e.start,cmd:c,value:h,trigger:r}))}}},hD=e=>xt(e,EB),ux=e=>xt(e,SB),gD=(e,t)=>({inlinePatterns:ux(e),blockPatterns:hD(e),dynamicPatternsLookup:t}),dx=(e,t)=>({...e,blockPatterns:xt(e.blockPatterns,o=>cx(o,t))}),FT=e=>{const t=Sa(tt(e,mD));return Le(t.errors,o=>console.error(o.message,o.pattern)),t.values},pD=e=>t=>{const o=e(t);return FT(o)},V2=(e,t)=>e.dispatch("PreProcess",t),qC=(e,t)=>e.dispatch("PostProcess",t),GC=e=>{e.dispatch("remove")},$T=e=>{e.dispatch("detach")},bD=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},IT=(e,t,o,r,c)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:r,origin:c})},KC=(e,t,o,r,c)=>{e.dispatch("ObjectResized",{target:t,width:o,height:r,origin:c})},HT=e=>{e.dispatch("PreInit")},fr=e=>{e.dispatch("PostRender")},zT=e=>{e.dispatch("Init")},YC=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},U2=(e,t,o)=>{e.dispatch(t,o)},s0=(e,t,o,r)=>{e.dispatch("FormatApply",{format:t,node:o,vars:r})},XC=(e,t,o,r)=>{e.dispatch("FormatRemove",{format:t,node:o,vars:r})},yD=(e,t)=>e.dispatch("BeforeSetContent",t),jT=(e,t)=>e.dispatch("SetContent",t),Gy=(e,t)=>e.dispatch("BeforeGetContent",t),VT=(e,t)=>e.dispatch("GetContent",t),fx=(e,t)=>{e.dispatch("AutocompleterStart",t)},mx=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},QC=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},u1=e=>{e.dispatch("AutocompleterEnd")},UT=(e,t,o)=>e.dispatch("PastePreProcess",{content:t,internal:o}),ZT=(e,t,o)=>e.dispatch("PastePostProcess",{node:t,internal:o}),WT=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),qT=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),TB=(e,t)=>e.dispatch("DisabledStateChange",{state:t}),GT=e=>e.dispatch("CloseActiveTooltips"),Z2=bs().deviceType,W2=Z2.isTouch(),hx=hs.DOM,q2=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Pe(t,(o,r)=>{const c=r.split("="),h=c[0],v=c.length>1?c[1]:h;return o[Jr(h)]=Jr(v),o},{})},G2=e=>Oe(e,RegExp),jn=e=>t=>t.options.get(e),d1=e=>J(e)||it(e),Ug=(e,t="")=>o=>{const r=J(o);if(r)if(o.indexOf("=")!==-1){const c=q2(o);return{value:No(c,e.id).getOr(t),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},gx=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("crossorigin",{processor:"function",default:at(void 0)}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.editorManager.documentBaseURL}),t("body_id",{processor:Ug(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:Ug(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:r=>{const c=J(r)&&Hr(r);return c?{value:r,valid:c}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:r=>{const c=Be(["block","linebreak","invert","default"],r);return c?{value:r,valid:c}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:r=>ut(r)?{valid:!0,value:r}:J(r)?{valid:!0,value:r}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:r=>{const c=r===!1||J(r)||vt(r,J);return c?J(r)?{value:tt(r.split(","),Jr),valid:c}:Ke(r)?{value:r,valid:c}:r===!1?{value:[],valid:c}:{value:r,valid:c}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:bx(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:r=>{const c=J(r)||vt(r,J);return c?{value:Ke(r)?r:tt(r.split(","),Jr),valid:c}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("extended_mathml_attributes",{processor:"string[]"}),t("extended_mathml_elements",{processor:"string[]"}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:r=>{const c=ut(r)||J(r);return c?r===!1||Z2.isiPhone()||Z2.isiPad()?{value:"",valid:c}:{value:r===!0?"table,img,figure.image,div,video,iframe":r,valid:c}:{valid:!1,message:"Must be boolean or a string"}},default:!W2}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("onboarding",{processor:"boolean",default:!0}),t("tiny_cloud_entry_url",{processor:"string"}),t("theme",{processor:r=>r===!1||J(r)||Re(r),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:r=>{const c=r===!1||J(r);return c?{value:r===!1?"":r,valid:c}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("disabled",{processor:r=>ut(r)?(e.initialized&&nh(e)!==r&&Promise.resolve().then(()=>{TB(e,r)}),{valid:!0,value:r}):{valid:!1,message:"The value must be a boolean."},default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(e.hasPlugin("help")?". Press ALT-0 for help.":"")}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_html_in_comments",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("allow_mathml_annotation_encodings",{processor:r=>{const c=vt(r,J);return c?{value:r,valid:c}:{valid:!1,message:"Must be an array of strings."}},default:[]}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:d1}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:d1}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:d1}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:d1}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:r=>J(r)||r===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:r=>vt(r,it)||r===!1?{value:FT(r===!1?[]:r),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:r=>Re(r)?{value:pD(r),valid:!0}:{valid:!1,message:"Must be a single function"},default:r=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:r=>vt(r,G2)?{value:r,valid:!0}:G2(r)?{value:[r],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:r=>{const c=Be(["inherited","collapsed","expanded"],r);return c?{value:r,valid:c}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:r=>{const c=Be(["inherited","collapsed","expanded"],r);return c?{value:r,valid:c}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),t("user_id",{processor:"string",default:"Anonymous"}),t("fetch_users",{processor:r=>r===void 0?{valid:!0,value:void 0}:Re(r)?{valid:!0,value:r}:{valid:!1,message:"fetch_users must be a function that returns a Promise<ExpectedUser[]>"}});const o=rr([WC("mimeType"),uD("extensions",Mr(r=>J(r)?Ie.value(r):Ie.error("Extensions must be an array of strings")))]);t("documents_file_types",{processor:r=>gf("documents_file_types",o,r).fold(c=>({valid:!1,message:"Must be a non-empty array of objects matching the configuration schema: https://www.tiny.cloud/docs/tinymce/latest/uploadcare-documents/#documents-file-types"}),c=>({valid:!0,value:c}))}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:$u.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:hx.getAttrib(e.getElement(),"placeholder")})}),t("lists_indent_on_tab",{processor:"boolean",default:!0}),t("list_max_depth",{processor:r=>{const c=Qo(r);if(c){if(r<0)throw new Error("list_max_depth cannot be set to lower than 0");return{value:r,valid:c}}else return{valid:!1,message:"Must be a number"}}})},KT=jn("iframe_attrs"),JC=jn("doctype"),eS=jn("document_base_url"),YT=jn("body_id"),XT=jn("body_class"),QT=jn("content_security_policy"),K2=jn("br_in_pre"),bl=jn("forced_root_block"),th=jn("forced_root_block_attrs"),Y2=jn("newline_behavior"),JT=jn("br_newline_selector"),eA=jn("no_newline_selector"),tA=jn("keep_styles"),X2=jn("end_container_on_empty_block"),tS=jn("automatic_uploads"),nA=jn("images_reuse_filename"),oA=jn("images_replace_blob_uris"),px=jn("icons"),nS=jn("icons_url"),Q2=jn("images_upload_url"),oS=jn("images_upload_base_path"),vD=jn("images_upload_credentials"),sA=jn("images_upload_handler"),rA=jn("content_css_cors"),J2=jn("referrer_policy"),Nb=jn("crossorigin"),aA=jn("language"),iA=jn("language_url"),ew=jn("indent_use_margin"),xD=jn("indentation"),wD=jn("content_css"),Rb=jn("content_style"),sS=jn("font_css"),CD=jn("directionality"),SD=jn("inline_boundaries_selector"),lA=jn("object_resizing"),ED=jn("resize_img_proportional"),rS=jn("placeholder"),tw=jn("event_root"),aS=jn("service_message"),Zg=jn("theme"),cA=jn("theme_url"),nw=jn("model"),TD=jn("model_url"),f1=jn("inline_boundaries"),AD=jn("formats"),kD=jn("preview_styles"),AB=jn("format_empty_lines"),kB=jn("format_noneditable_selector"),Ky=jn("custom_ui_selector"),bx=jn("inline"),iS=jn("hidden_input"),DD=jn("submit_patch"),_D=jn("add_form_submit_trigger"),ow=jn("add_unload_trigger"),uA=jn("custom_undo_redo_levels"),dA=jn("disable_nodechange"),yx=jn("readonly"),sw=jn("editable_root"),lS=jn("content_css_cors"),vx=jn("plugins"),cS=jn("external_plugins"),OD=jn("block_unsupported_drop"),xx=jn("visual"),fA=jn("visual_table_class"),rw=jn("visual_anchor_class"),aw=jn("iframe_aria_text"),Mb=jn("setup"),ND=jn("init_instance_callback"),Wg=jn("urlconverter_callback"),RD=jn("auto_focus"),mA=jn("browser_spellcheck"),MD=jn("protect"),DB=jn("paste_block_drop"),iw=jn("paste_data_images"),BD=jn("paste_preprocess"),LD=jn("paste_postprocess"),PD=jn("newdocument_content"),uS=jn("paste_webkit_styles"),FD=jn("paste_remove_styles_if_webkit"),hA=jn("paste_merge_formats"),dS=jn("smart_paste"),$D=jn("paste_as_text"),ID=jn("paste_tab_spaces"),fS=jn("allow_html_data_urls"),gA=jn("text_patterns"),lo=jn("text_patterns_lookup"),wx=jn("noneditable_class"),pA=jn("editable_class"),HD=jn("noneditable_regexp"),mS=jn("preserve_cdata"),Cx=jn("highlight_on_focus"),lw=jn("xss_sanitization"),Sx=jn("init_content_sync"),Yy=e=>e.options.isSet("text_patterns_lookup"),hS=e=>ln.explode(e.options.get("font_size_style_values")),gS=e=>ln.explode(e.options.get("font_size_classes")),bA=e=>e.options.get("encoding")==="xml",pS=e=>ln.explode(e.options.get("images_file_types")),yA=jn("table_tab_navigation"),Xy=jn("details_initial_state"),r0=jn("details_serialized_state"),Qy=jn("sandbox_iframes"),a0=e=>e.options.get("sandbox_iframes_exclusions"),i0=jn("convert_unsafe_embeds"),vA=jn("license_key"),Ex=jn("api_key"),nh=jn("disabled"),xA=jn("user_id"),wA=jn("fetch_users"),bS=jn("lists_indent_on_tab"),yS=e=>X.from(e.options.get("list_max_depth")),CA=Sn,SA=dn,zD=e=>{const t=e.parentNode;t&&t.removeChild(e)},EA=e=>{const t=Pc(e);return{count:e.length-t.length,text:t}},Bb=e=>{let t;for(;(t=e.data.lastIndexOf(Hi))!==-1;)e.deleteData(t,1)},vS=(e,t)=>(Lb(e),t),TA=(e,t)=>{const o=EA(e.data.substr(0,t.offset())),r=EA(e.data.substr(t.offset()));return(o.text+r.text).length>0?(Bb(e),_t(e,t.offset()-o.count)):t},xS=(e,t)=>{const o=t.container(),r=js(Ts(o.childNodes),e).map(c=>c<t.offset()?_t(o,t.offset()-1):t).getOr(t);return Lb(e),r},wS=(e,t)=>SA(e)&&t.container()===e?TA(e,t):vS(e,t),CS=(e,t)=>t.container()===e.parentNode?xS(e,t):vS(e,t),jD=(e,t)=>_t.isTextPosition(t)?wS(e,t):CS(e,t),Lb=e=>{CA(e)&&id(e)&&(Ry(e)?e.removeAttribute("data-mce-caret"):zD(e)),SA(e)&&(Bb(e),e.data.length===0&&zD(e))},Pb=na,cw=Rd,uw=Np,AA="*[contentEditable=false],video,audio,embed,object",VD=(e,t,o)=>{const r=Hg(t.getBoundingClientRect(),o);let c,h;if(e.tagName==="BODY"){const T=e.ownerDocument.documentElement;c=e.scrollLeft||T.scrollLeft,h=e.scrollTop||T.scrollTop}else{const T=e.getBoundingClientRect();c=e.scrollLeft-T.left,h=e.scrollTop-T.top}r.left+=c,r.right+=c,r.top+=h,r.bottom+=h,r.width=1;let v=t.offsetWidth-t.clientWidth;return v>0&&(o&&(v*=-1),r.left+=v,r.right+=v),r},kA=e=>{const t=kt(De.fromDom(e),AA);for(let o=0;o<t.length;o++){const r=t[o].dom;let c=r.previousSibling;if(Qi(c)){const h=c.data;h.length===1?c.parentNode?.removeChild(c):c.deleteData(h.length-1,1)}c=r.nextSibling,mu(c)&&(c.data.length===1?c.parentNode?.removeChild(c):c.deleteData(0,1))}},jo=(e,t,o,r)=>{const c=Fs();let h,v;const T=bl(e),k=e.dom,L=(ge,Te)=>{let ot;if(W(),uw(Te))return null;if(o(Te)){const rt=Qa(T,Te,ge),dt=VD(t,Te,ge);k.setStyle(rt,"top",dt.top),k.setStyle(rt,"caret-color","transparent"),v=rt;const Pt=k.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});k.setStyles(Pt,{...dt}),k.add(t,Pt),c.set({caret:Pt,element:Te,before:ge}),ge&&k.addClass(Pt,"mce-visual-caret-before"),G(),ot=Te.ownerDocument.createRange(),ot.setStart(rt,0),ot.setEnd(rt,0)}else return v=I2(Te,ge),ot=Te.ownerDocument.createRange(),Uf(v.nextSibling)?(ot.setStart(v,0),ot.setEnd(v,0)):(ot.setStart(v,1),ot.setEnd(v,1)),ot;return ot},W=()=>{kA(t),v&&(Lb(v),v=null),c.on(ge=>{k.remove(ge.caret),c.clear()}),h&&(clearInterval(h),h=void 0)},G=()=>{h=window.setInterval(()=>{c.on(ge=>{r()?k.toggleClass(ge.caret,"mce-visual-caret-hidden"):k.addClass(ge.caret,"mce-visual-caret-hidden")})},500)},Q=()=>{c.on(ge=>{const Te=VD(t,ge.element,ge.before);k.setStyles(ge.caret,{...Te})})},ce=()=>clearInterval(h),ke=()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";return{isShowing:c.isSet,show:L,hide:W,getCss:ke,reposition:Q,destroy:ce}},dw=()=>ds.browser.isFirefox(),Uf=e=>Pb(e)||cw(e),Tx=e=>(Uf(e)||iu(e)&&dw())&&Qc(De.fromDom(e)).exists(Cr),UD=Bu,fw=na,ZD=Rd,SS=tb("display","block table table-cell table-row table-caption list-item"),ES=id,Ax=Hf,Kh=Sn,Jy=dn,WD=ya,Fb=(e,t)=>{let o;for(;o=e(t);)if(!Ax(o))return o;return null},kx=(e,t,o,r,c)=>{const h=new Ka(e,r),v=fw(e)||Ax(e);let T;if(zd(t)){if(v&&(T=Fb(h.prev.bind(h),!0),o(T)))return T;for(;T=Fb(h.prev.bind(h),c);)if(o(T))return T}if(vm(t)){if(v&&(T=Fb(h.next.bind(h),!0),o(T)))return T;for(;T=Fb(h.next.bind(h),c);)if(o(T))return T}return null},mw=(e,t)=>{const o=c=>UD(c.dom),r=c=>c.dom===t;return Dd(De.fromDom(e),o,r).map(c=>c.dom).getOr(t)},Hl=e=>Sn(e)&&ka(De.fromDom(e),"position")==="absolute",qD=(e,t)=>e.parentNode!==t,TS=(e,t)=>fw(e)&&Hl(e)&&qD(e,t),m1=(e,t)=>{for(;e&&e!==t;){if(SS(e)&&!TS(e,t))return e;e=e.parentNode}return null},qg=(e,t,o)=>m1(e.container(),o)===m1(t.container(),o),AS=(e,t)=>{if(!t)return X.none();const o=t.container(),r=t.offset();return Kh(o)?X.from(o.childNodes[r+e]):X.none()},DA=(e,t)=>{const r=(t.ownerDocument??document).createRange();return e?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),r},GD=(e,t,o)=>m1(t,e)===m1(o,e),hw=(e,t,o)=>{const r=e?"previousSibling":"nextSibling";let c=o;for(;c&&c!==t;){let h=c[r];if(h&&ES(h)&&(h=h[r]),fw(h)||ZD(h)){if(GD(t,h,c))return h;break}if(WD(h))break;c=c.parentNode}return null},Dx=le(DA,!0),h1=le(DA,!1),gw=(e,t,o)=>{let r;const c=le(hw,!0,t),h=le(hw,!1,t),v=o.startContainer,T=o.startOffset;if(Hf(v)){const k=Jy(v)?v.parentNode:v,L=k.getAttribute("data-mce-caret");if(L==="before"&&(r=k.nextSibling,Tx(r)))return Dx(r);if(L==="after"&&(r=k.previousSibling,Tx(r)))return h1(r)}if(!o.collapsed)return o;if(dn(v)){if(ES(v)){if(e===1){if(r=h(v),r)return Dx(r);if(r=c(v),r)return h1(r)}if(e===-1){if(r=c(v),r)return h1(r);if(r=h(v),r)return Dx(r)}return o}if(Qi(v)&&T>=v.data.length-1)return e===1&&(r=h(v),r)?Dx(r):o;if(mu(v)&&T<=1)return e===-1&&(r=c(v),r)?h1(r):o;if(T===v.data.length)return r=h(v),r?Dx(r):o;if(T===0)return r=c(v),r?h1(r):o}return o},pw=(e,t)=>AS(e?0:-1,t).filter(fw),g1=(e,t,o)=>{const r=gw(e,t,o);return e===-1?_t.fromRangeStart(r):_t.fromRangeEnd(r)},_x=e=>X.from(e.getNode()).map(De.fromDom),kS=e=>X.from(e.getNode(!0)).map(De.fromDom),bw=(e,t)=>{let o=t;for(;o=e(o);)if(o.isVisible())return o;return o},Yh=(e,t)=>{const o=qg(e,t);return!o&&la(e.getNode())?!0:o},_A=na,Gg=dn,DS=Sn,yw=la,ev=ya,Ox=Eb,vw=zf,KD=(e,t)=>{const o=[];let r=e;for(;r&&r!==t;)o.push(r),r=r.parentNode;return o},OA=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,xw=(e,t)=>{if(vm(e)){if(ev(t.previousSibling)&&!Gg(t.previousSibling))return _t.before(t);if(Gg(t))return _t(t,0)}if(zd(e)){if(ev(t.nextSibling)&&!Gg(t.nextSibling))return _t.after(t);if(Gg(t))return _t(t,t.data.length)}return zd(e)?yw(t)?_t.before(t):_t.after(t):_t.before(t)},YD=(e,t)=>{const o=t.nextSibling;return o&&ev(o)?Gg(o)?_t(o,0):_t.before(o):_S(1,_t.after(t),e)},_S=(e,t,o)=>{let r,c,h,v;if(!DS(o)||!t)return null;if(t.isEqual(_t.after(o))&&o.lastChild){if(v=_t.after(o.lastChild),zd(e)&&ev(o.lastChild)&&DS(o.lastChild))return yw(o.lastChild)?_t.before(o.lastChild):v}else v=t;const T=v.container();let k=v.offset();if(Gg(T)){if(zd(e)&&k>0)return _t(T,--k);if(vm(e)&&k<T.length)return _t(T,++k);r=T}else{if(zd(e)&&k>0&&(c=OA(T,k-1),ev(c)))return!Ox(c)&&(h=kx(c,e,vw,c),h)?Gg(h)?_t(h,h.data.length):_t.after(h):Gg(c)?_t(c,c.data.length):_t.before(c);if(vm(e)&&k<T.childNodes.length&&(c=OA(T,k),ev(c)))return yw(c)?YD(o,c):!Ox(c)&&(h=kx(c,e,vw,c),h)?Gg(h)?_t(h,0):_t.before(h):Gg(c)?_t(c,0):_t.after(c);r=c||v.getNode()}if(r&&(vm(e)&&v.isAtEnd()||zd(e)&&v.isAtStart())&&(r=kx(r,e,ft,o,!0),vw(r,o)))return xw(e,r);c=r&&kx(r,e,vw,o);const L=Vl(xt(KD(T,o),_A));return L&&(!c||!L.contains(c))?(vm(e)?v=_t.after(L):v=_t.before(L),v):c?xw(e,c):null},Xh=e=>({next:t=>_S(1,t,e),prev:t=>_S(-1,t,e)}),OS=(e,t,o)=>{const r=e?_t.before(o):_t.after(o);return Zf(e,t,r)},XD=e=>la(e)?_t.before(e):_t.after(e),NA=e=>_t.isTextPosition(e)?e.offset()===0:ya(e.getNode()),RA=e=>{if(_t.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return ya(e.getNode(!0))},MA=(e,t)=>!_t.isTextPosition(e)&&!_t.isTextPosition(t)&&e.getNode()===t.getNode(!0),QD=e=>!_t.isTextPosition(e)&&la(e.getNode()),Ra=(e,t,o)=>e?!MA(t,o)&&!QD(t)&&RA(t)&&NA(o):!MA(o,t)&&NA(t)&&RA(o),Zf=(e,t,o)=>{const r=Xh(t);return X.from(e?r.next(o):r.prev(o))},tv=(e,t,o)=>Zf(e,t,o).bind(r=>qg(o,r,t)&&Ra(e,o,r)?Zf(e,t,r):X.some(r)),m=(e,t,o,r)=>tv(e,t,o).bind(c=>r(c)?m(e,t,c,r):X.some(c)),y=(e,t)=>{const o=e?t.firstChild:t.lastChild;return dn(o)?X.some(_t(o,e?0:o.data.length)):o?ya(o)?X.some(e?_t.before(o):XD(o)):OS(e,t,o):X.none()},E=le(Zf,!0),D=le(Zf,!1),H=le(y,!0),q=le(y,!1),ne="_mce_caret",de=e=>Sn(e)&&e.id===ne,Se=(e,t)=>{let o=t;for(;o&&o!==e;){if(de(o))return o;o=o.parentNode}return null},We=e=>J(e.start),pt=e=>Qn(e,"rng"),tn=e=>Qn(e,"id"),Fn=e=>Qn(e,"name"),Rn=e=>ln.isArray(e.start),ro=e=>!Fn(e)&&ut(e.forward)?e.forward:!0,$t=(e,t)=>(Sn(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),nn=(e,t)=>{const o=X.from(ox(e.getRoot(),t.start)),r=X.from(ox(e.getRoot(),t.end));return Bn(o,r,(c,h)=>{const v=e.createRng();return v.setStart(c.container(),c.offset()),v.setEnd(h.container(),h.offset()),{range:v,forward:ro(t)}})},Eo=(e,t)=>{const r=(e.ownerDocument??document).createTextNode(Hi);e.appendChild(r),t.setStart(r,0),t.setEnd(r,0)},Xo=e=>!e.hasChildNodes(),Kn=(e,t)=>q(e).fold(He,o=>(t.setStart(o.container(),o.offset()),t.setEnd(o.container(),o.offset()),!0)),Sr=(e,t,o)=>Xo(t)&&Se(e,t)?(Eo(t,o),!0):!1,Er=(e,t,o,r)=>{const c=o[t?"start":"end"],h=e.getRoot();if(c){let v=h,T=c[0];for(let k=c.length-1;v&&k>=1;k--){const L=v.childNodes;if(Sr(h,v,r))return!0;if(c[k]>L.length-1)return Sr(h,v,r)?!0:Kn(v,r);v=L[c[k]]}dn(v)&&(T=Math.min(c[0],v.data.length)),Sn(v)&&(T=Math.min(c[0],v.childNodes.length)),t?r.setStart(v,T):r.setEnd(v,T)}return!0},Wo=e=>dn(e)&&e.data.length>0,el=(e,t,o)=>{const r=e.get(o.id+"_"+t),c=r?.parentNode,h=o.keep;if(r&&c){let v,T;if(t==="start"?h?r.hasChildNodes()?(v=r.firstChild,T=1):Wo(r.nextSibling)?(v=r.nextSibling,T=0):Wo(r.previousSibling)?(v=r.previousSibling,T=r.previousSibling.data.length):(v=c,T=e.nodeIndex(r)+1):(v=c,T=e.nodeIndex(r)):h?r.hasChildNodes()?(v=r.firstChild,T=1):Wo(r.previousSibling)?(v=r.previousSibling,T=r.previousSibling.data.length):(v=c,T=e.nodeIndex(r)):(v=c,T=e.nodeIndex(r)),!h){const k=r.previousSibling,L=r.nextSibling;ln.each(ln.grep(r.childNodes),G=>{dn(G)&&(G.data=G.data.replace(/\uFEFF/g,""))});let W;for(;W=e.get(o.id+"_"+t);)e.remove(W,!0);if(dn(L)&&dn(k)&&!ds.browser.isOpera()){const G=k.data.length;k.appendData(L.data),e.remove(L),v=k,T=G}}return X.some(_t(v,T))}else return X.none()},Cm=(e,t)=>{const o=e.createRng();return Er(e,!0,t,o)&&Er(e,!1,t,o)?X.some({range:o,forward:ro(t)}):X.none()},l0=(e,t)=>{const o=el(e,"start",t),r=el(e,"end",t);return Bn(o,r.or(o),(c,h)=>{const v=e.createRng();return v.setStart($t(e,c.container()),c.offset()),v.setEnd($t(e,h.container()),h.offset()),{range:v,forward:ro(t)}})},p1=(e,t)=>X.from(e.select(t.name)[t.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),$b=(e,t)=>{const o=e.dom;if(t){if(Rn(t))return Cm(o,t);if(We(t))return nn(o,t);if(tn(t))return l0(o,t);if(Fn(t))return p1(o,t);if(pt(t))return X.some({range:t.rng,forward:ro(t)})}return X.none()},jr=(e,t,o)=>Mt(e,t,o),dd=(e,t)=>{$b(e,t).each(({range:o,forward:r})=>{e.setRng(o,r)})},wi=e=>Sn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",Iu=(e=>t=>e===t)(qr),Wf=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,$c=e=>!Wf(e)&&!Iu(e)&&!Ei(e),ww=e=>{const t=[];if(e)for(let o=0;o<e.rangeCount;o++)t.push(e.getRangeAt(o));return t},Nx=e=>Do(e,t=>{const o=gl(t);return o?[De.fromDom(o)]:[]}),c0=e=>ww(e).length>1,Hu=e=>xt(Nx(e),jh),JD=e=>kt(e,"td[data-mce-selected],th[data-mce-selected]"),BA=(e,t)=>{const o=JD(t);return o.length>0?o:Hu(e)},eo=e=>BA(ww(e.selection.getSel()),De.fromDom(e.getBody())),Vd=(e,t)=>Da(e,"table",t),e_=e=>{const t=e.startContainer,o=e.startOffset;return dn(t)?o===0?X.some(De.fromDom(t)):X.none():X.from(t.childNodes[o]).map(De.fromDom)},Cw=e=>{const t=e.endContainer,o=e.endOffset;return dn(t)?o===t.data.length?X.some(De.fromDom(t)):X.none():X.from(t.childNodes[o-1]).map(De.fromDom)},LA=e=>ai(e).fold(at([e]),t=>[e].concat(LA(t))),Ib=e=>ii(e).fold(at([e]),t=>rs(t)==="br"?qu(t).map(o=>[e].concat(Ib(o))).getOr([]):[e].concat(Ib(t))),t_=(e,t)=>Bn(e_(t),Cw(t),(o,r)=>{const c=sn(LA(e),le(ss,o)),h=sn(Ib(e),le(ss,r));return c.isSome()&&h.isSome()}).getOr(!1),PA=(e,t,o,r)=>{const c=o,h=new Ka(o,c),v=Yn(e.schema.getMoveCaretBeforeOnEnterElements(),(k,L)=>!Be(["td","th","table"],L.toLowerCase()));let T=o;do{if(dn(T)&&ln.trim(T.data).length!==0){r?t.setStart(T,0):t.setEnd(T,T.data.length);return}if(v[T.nodeName]){r?t.setStartBefore(T):T.nodeName==="BR"?t.setEndBefore(T):t.setEndAfter(T);return}}while(T=r?h.next():h.prev());c.nodeName==="BODY"&&(r?t.setStart(c,0):t.setEnd(c,c.childNodes.length))},NS=e=>{const t=e.selection.getSel();return qe(t)&&t.rangeCount>0},RS=(e,t)=>{const o=eo(e);o.length>0?Le(o,r=>{const c=r.dom,h=e.dom.createRng();h.setStartBefore(c),h.setEndAfter(c),t(h,!0)}):t(e.selection.getRng(),!1)},FA=(e,t,o)=>{const r=Xm(e,t);o(r),e.moveToBookmark(r)},MS=(e,t)=>e.startContainer===e.endContainer&&e.endOffset-e.startOffset===1&&t(e.startContainer.childNodes[e.startOffset]),Dz=e=>MS(e,ru),_z=e=>MS(e,dn),Oz=e=>MS(e,Op),BS=e=>Qo(e?.nodeType),LS=e=>Sn(e)&&!wi(e)&&!de(e)&&!Hm(e),_B=(e,t)=>{if(LS(t)&&!/^(TD|TH)$/.test(t.nodeName)){const o=e.getAttrib(t,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},OB=(e,t,o)=>{const{selection:r,dom:c}=e,h=r.getNode(),v=na(h);FA(r,!0,()=>{t()}),v&&na(h)&&c.isChildOf(h,e.getBody())?e.selection.select(h):o(r.getStart())&&NB(c,r)},NB=(e,t)=>{const o=t.getRng(),{startContainer:r,startOffset:c}=o,h=t.getNode();if(!_B(e,h)&&Sn(r)){const v=r.childNodes,T=e.getRoot();let k;if(c<v.length){const L=v[c];k=new Ka(L,e.getParent(L,e.isBlock)??T)}else{const L=v[v.length-1];k=new Ka(L,e.getParent(L,e.isBlock)??T),k.next(!0)}for(let L=k.current();L;L=k.next()){if(e.getContentEditable(L)==="false")return;if(dn(L)&&!n_(L)){o.setStart(L,0),t.setRng(o);return}}}},RB=(e,t,o)=>{if(e){const r=t?"nextSibling":"previousSibling";for(e=e[r];e;e=e[r])if(Sn(e)||!n_(e))return e}},PS=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Ya(e,t),Sw=(e,t,o)=>e.schema.isValidChild(t,o),n_=(e,t=!1)=>{if(qe(e)&&dn(e)){const o=t?e.data.replace(/ /g,""):e.data;return Ap(o)}else return!1},Nz=e=>qe(e)&&dn(e)&&e.length===0,Rz=(e,t)=>{const o="[data-mce-cef-wrappable]",r=kB(e),c=Cu(r)?o:`${o},${r}`;return wl(De.fromDom(t),c)},MB=(e,t)=>{const o=e.dom;return LS(t)&&o.getContentEditable(t)==="false"&&Rz(e,t)&&o.select('[contenteditable="true"]',t).length===0},Hb=(e,t)=>Re(e)?e(t):(qe(t)&&(e=e.replace(/%(\w+)/g,(o,r)=>t[r]||o)),e),FS=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),$A=(e,t)=>{if(fn(e))return null;{let o=String(e);return(t==="color"||t==="backgroundColor")&&(o=wc(o)),t==="fontWeight"&&e===700&&(o="bold"),t==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},$S=(e,t,o)=>{const r=e.getStyle(t,o);return $A(r,o)},BB=(e,t)=>{let o;return e.getParent(t,r=>Sn(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},IA=(e,t,o)=>e.getParents(t,o,e.getRoot()),o_=(e,t,o)=>{const r=e.formatter.get(t);return qe(r)&&Ye(r,o)},HA=(e,t)=>o_(e,t,r=>{const c=h=>Re(h)||h.length>1&&h.charAt(0)==="%";return Ye(["styles","attributes"],h=>No(r,h).exists(v=>{const T=Ke(v)?v:vo(v);return Ye(T,c)}))}),LB=(e,t,o)=>{const r=["inline","block","selector","attributes","styles","classes"],c=h=>Yn(h,(v,T)=>Ye(r,k=>k===T));return o_(e,t,h=>{const v=c(h);return o_(e,o,T=>{const k=c(T);return La(v,k)})})},u0=e=>ls(e,"block"),Mz=e=>u0(e)&&e.wrapper===!0,Bz=e=>u0(e)&&e.wrapper!==!0,Kg=e=>ls(e,"selector"),hu=e=>ls(e,"inline"),cne=e=>Kg(e)&&hu(e)&&Gt(No(e,"mixed"),!0),s_=e=>Kg(e)&&e.expand!==!1&&!hu(e),une=e=>{const t=[];let o=e;for(;o;){if(dn(o)&&o.data!==Hi||o.childNodes.length>1)return[];Sn(o)&&t.push(o),o=o.firstChild}return t},PB=e=>une(e).length>0,r_=e=>de(e.dom)&&PB(e.dom),IS=wi,FB=IA,Ja=n_,a_=PS,zA=e=>la(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,HS=(e,t)=>{let o=t;for(;o;){if(Sn(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:t;o=o.parentNode}return t},b1=(e,t,o,r)=>{const c=t.data;if(e){for(let h=o;h>0;h--)if(r(c.charAt(h-1)))return h}else for(let h=o;h<c.length;h++)if(r(c.charAt(h)))return h;return-1},jA=(e,t,o)=>b1(e,t,o,r=>Iu(r)||Wf(r)),Ew=(e,t,o)=>b1(e,t,o,$c),i_=(e,t,o,r,c,h)=>{let v;const T=e.getParent(o,G=>lm(G)||e.isBlock(G)),k=qe(T)?T:t,L=(G,Q,ce)=>{const ke=du(e),ge=c?ke.backwards:ke.forwards;return X.from(ge(G,Q,(Te,ot)=>IS(Te.parentNode)?-1:(v=Te,ce(c,Te,ot)),k))};return L(o,r,jA).bind(G=>h?L(G.container,G.offset+(c?-1:0),Ew):X.some(G)).orThunk(()=>v?X.some({container:v,offset:c?0:v.length}):X.none())},$B=(e,t,o,r,c)=>{const h=r[c];dn(r)&&Cu(r.data)&&h&&(r=h);const v=FB(e,r);for(let T=0;T<v.length;T++)for(let k=0;k<t.length;k++){const L=t[k];if(!(qe(L.collapsed)&&L.collapsed!==o.collapsed)&&Kg(L)&&e.is(v[T],L.selector))return v[T]}return r},IB=(e,t,o,r)=>{let c=o;const h=e.getRoot(),v=t[0];if(u0(v)&&(c=v.wrapper?null:e.getParent(o,v.block,h)),!c){const T=e.getParent(o,"LI,TD,TH,SUMMARY")??h;c=e.getParent(dn(o)?o.parentNode:o,k=>k!==h&&a_(e.schema,k),T)}if(c&&u0(v)&&v.wrapper&&(c=FB(e,c,"ul,ol").reverse()[0]||c),!c)for(c=o;c&&c[r]&&!e.isBlock(c[r])&&(c=c[r],!FS(c,"br")););return c||o},l_=(e,t,o,r)=>{const c=o.parentNode;return qe(o[r])?!1:c===t||fn(c)||e.isBlock(c)?!0:l_(e,t,c,r)},VA=(e,t,o,r,c,h)=>{let v=o;const T=c?"previousSibling":"nextSibling",k=e.getRoot();if(dn(o)&&!Ja(o)&&(c?r>0:r<o.data.length))return o;for(;v;){if(lm(v))return o;if(!t[0].block_expand&&e.isBlock(v))return h?v:o;for(let L=v[T];L;L=L[T]){const W=dn(L)&&!l_(e,k,L,T);if(!IS(L)&&!zA(L)&&!Ja(L,W))return v}if(v===k||v.parentNode===k){o=v;break}v=v.parentNode}return o},UA=e=>IS(e.parentNode)||IS(e),y1=(e,t,o,r={})=>{const{includeTrailingSpace:c=!1,expandToBlock:h=!0}=r,v=e.getParent(t.commonAncestorContainer,ce=>lm(ce)),T=qe(v)?v:e.getRoot();let{startContainer:k,startOffset:L,endContainer:W,endOffset:G}=t;const Q=o[0];return Sn(k)&&k.hasChildNodes()&&(k=zg(k,L),dn(k)&&(L=0)),Sn(W)&&W.hasChildNodes()&&(W=zg(W,t.collapsed?G:G-1),dn(W)&&(G=W.data.length)),k=HS(e,k),W=HS(e,W),UA(k)&&(k=IS(k)?k:k.parentNode,t.collapsed?k=k.previousSibling||k:k=k.nextSibling||k,dn(k)&&(L=t.collapsed?k.length:0)),UA(W)&&(W=IS(W)?W:W.parentNode,t.collapsed?W=W.nextSibling||W:W=W.previousSibling||W,dn(W)&&(G=t.collapsed?0:W.length)),t.collapsed&&(i_(e,T,k,L,!0,c).each(({container:ge,offset:Te})=>{k=ge,L=Te}),i_(e,T,W,G,!1,c).each(({container:ge,offset:Te})=>{W=ge,G=Te})),(hu(Q)||Q.block_expand)&&((!hu(Q)||!dn(k)||L===0)&&(k=VA(e,o,k,L,!0,h)),(!hu(Q)||!dn(W)||G===W.data.length)&&(W=VA(e,o,W,G,!1,h))),s_(Q)&&(k=$B(e,o,t,k,"previousSibling"),W=$B(e,o,t,W,"nextSibling")),(u0(Q)||Kg(Q))&&(k=IB(e,o,k,"previousSibling"),W=IB(e,o,W,"nextSibling"),u0(Q)&&(e.isBlock(k)||(k=VA(e,o,k,L,!0,h),dn(k)&&(L=0)),e.isBlock(W)||(W=VA(e,o,W,G,!1,h),dn(W)&&(G=W.data.length)))),Sn(k)&&k.parentNode&&(L=e.nodeIndex(k),k=k.parentNode),Sn(W)&&W.parentNode&&(G=e.nodeIndex(W)+1,W=W.parentNode),{startContainer:k,startOffset:L,endContainer:W,endOffset:G}},Yg=(e,t,o)=>{const r=t.startOffset,c=zg(t.startContainer,r),h=t.endOffset,v=zg(t.endContainer,h-1),T=ge=>{const Te=ge[0];dn(Te)&&Te===c&&r>=Te.data.length&&ge.splice(0,1);const ot=ge[ge.length-1];return h===0&&ge.length>0&&ot===v&&dn(ot)&&ge.splice(ge.length-1,1),ge},k=(ge,Te,ot)=>{const rt=[];for(;ge&&ge!==ot;ge=ge[Te])rt.push(ge);return rt},L=(ge,Te)=>e.getParent(ge,ot=>ot.parentNode===Te,Te),W=(ge,Te,ot)=>{const rt=ot?"nextSibling":"previousSibling";for(let dt=ge,Pt=dt.parentNode;dt&&dt!==Te;dt=Pt){Pt=dt.parentNode;const en=k(dt===ge?dt:dt[rt],rt);en.length&&(ot||en.reverse(),o(T(en)))}};if(c===v)return o(T([c]));const G=e.findCommonAncestor(c,v)??e.getRoot();if(e.isChildOf(c,v))return W(c,G,!0);if(e.isChildOf(v,c))return W(v,G);const Q=L(c,G)||c,ce=L(v,G)||v;W(c,Q,!0);const ke=k(Q===c?Q:Q.nextSibling,"nextSibling",ce===v?ce.nextSibling:ce);ke.length&&o(T(ke)),W(v,ce)},Rx=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"],HB=e=>ws(e)&&yi(e)===Hi,Lz=(e,t,o,r)=>Qc(t).fold(()=>"skipping",c=>r==="br"||HB(t)?"valid":Uv(t)?"existing":de(t.dom)?"caret":Ye(Rx,h=>wl(t,h))?"valid-block":!Sw(e,o,r)||!Sw(e,rs(c),o)?"invalid-child":"valid"),Pz=(e,t)=>{const o=y1(e.dom,t,[{inline:"span"}]);t.setStart(o.startContainer,o.startOffset),t.setEnd(o.endContainer,o.endOffset),e.selection.setRng(t)},zB=(e,t,o,r,c,h)=>{const{uid:v=t,...T}=o;pc(e,Hh()),Or(e,`${hm()}`,v),Or(e,`${rd()}`,r);const{attributes:k={},classes:L=[]}=c(v,T);if(Wa(e,k),Pm(e,L),h){L.length>0&&Or(e,`${ca()}`,L.join(","));const W=Hn(k);W.length>0&&Or(e,`${Q0()}`,W.join(","))}},Fz=e=>{aa(e,Hh()),ci(e,`${hm()}`),ci(e,`${rd()}`),ci(e,`${Wp()}`);const t=dl(e,`${Q0()}`).map(r=>r.split(",")).getOr([]),o=dl(e,`${ca()}`).map(r=>r.split(",")).getOr([]);Le(t,r=>ci(e,r)),Od(e,o),ci(e,`${ca()}`),ci(e,`${Q0()}`)},jB=(e,t,o,r,c)=>{const h=De.fromTag("span",e);return zB(h,t,o,r,c,!1),h},$z=(e,t,o,r,c,h)=>{const v=[],T=jB(e.getDoc(),o,h,r,c),k=Fs(),L=()=>{k.clear()},W=()=>k.get().getOrThunk(()=>{const ke=ki(T);return v.push(ke),k.set(ke),ke}),G=ke=>{Le(ke,Q)},Q=ke=>{switch(Lz(e,ke,"span",rs(ke))){case"invalid-child":{L();const Te=ma(ke);G(Te),L();break}case"valid-block":{L(),zB(ke,o,h,r,c,!0);break}case"valid":{const Te=W();Ml(ke,Te);break}}},ce=ke=>{const ge=tt(ke,De.fromDom);G(ge)};return Yg(e.dom,t,ke=>{L(),ce(ke)}),v},VB=(e,t,o,r)=>{e.undoManager.transact(()=>{const c=e.selection,h=c.getRng(),v=eo(e).length>0,T=us("mce-annotation");if(h.collapsed&&!v&&Pz(e,h),c.getRng().collapsed&&!v){const k=jB(e.getDoc(),T,r,t,o.decorate);nf(k,qr),c.getRng().insertNode(k.dom),c.select(k.dom)}else FA(c,!1,()=>{RS(e,k=>{$z(e,k,T,t,o.decorate,r)})})})},UB=e=>{const t=Gp();qp(e,t);const o=zh(e,t),r=Pa("span"),c=h=>{Le(h,v=>{r(v)?Gl(v):Fz(v)})};return{register:(h,v)=>{t.register(h,v)},annotate:(h,v)=>{t.lookup(h).each(T=>{VB(e,h,T,v)})},annotationChanged:(h,v)=>{o.addListener(h,v)},remove:h=>{pb(e,X.some(h)).each(({elements:v})=>{const T=e.selection.getBookmark();c(v),e.selection.moveToBookmark(T)})},removeAll:h=>{const v=e.selection.getBookmark();Oo(If(e,h),(T,k)=>{c(T)}),e.selection.moveToBookmark(v)},getAll:h=>{const v=If(e,h);return ui(v,T=>tt(T,k=>k.dom))}}},Tw=e=>({getBookmark:le(jr,e),moveToBookmark:le(dd,e)});Tw.isBookmarkNode=wi;const ZB=(e,t,o)=>o.collapsed?!1:Ye(o.getClientRects(),r=>Gv(r,e,t)),Iz=(e,t)=>{const o=ws(t)?yi(t).length:ma(t).length+1;return e>o?o:e<0?0:e},Hz=e=>Oh.range(e.start,Iz(e.soffset,e.start),e.finish,Iz(e.foffset,e.finish)),Ic=(e,t)=>!eb(t.dom)&&(mc(e,t)||ss(e,t)),zS=e=>t=>Ic(e,t.start)&&Ic(e,t.finish),zu=e=>e.inline||ds.browser.isFirefox(),Xg=e=>Oh.range(De.fromDom(e.startContainer),e.startOffset,De.fromDom(e.endContainer),e.endOffset),zz=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?X.none():X.from(t.getRangeAt(0))).map(Xg)},WB=e=>{const t=Wu(e);return zz(t.dom).filter(zS(e))},jz=(e,t)=>X.from(t).filter(zS(e)).map(Hz),c_=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),X.some(t)}catch{return X.none()}},ZA=e=>{const t=zu(e)?WB(De.fromDom(e.getBody())):X.none();e.bookmark=t.isSome()?t:e.bookmark},WA=e=>(e.bookmark?e.bookmark:X.none()).bind(o=>jz(De.fromDom(e.getBody()),o)).bind(c_),Vz=e=>{WA(e).each(t=>e.selection.setRng(t))},qB={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},oh=(e,t)=>(Qo(t)||(t=0),window.setTimeout(e,t)),pf=(e,t)=>(Qo(t)||(t=0),window.setInterval(e,t)),Qg={setEditorTimeout:(e,t,o)=>oh(()=>{e.removed||t()},o),setEditorInterval:(e,t,o)=>{const r=pf(()=>{e.removed?window.clearInterval(r):t()},o);return r}},d0=e=>e.type==="nodechange"&&e.selectionChange,u_=(e,t)=>{const o=()=>{t.throttle()};hs.DOM.bind(document,"mouseup",o),e.on("remove",()=>{hs.DOM.unbind(document,"mouseup",o)})},Uz=(e,t)=>{e.on("mouseup touchend",o=>{t.throttle()})},Zz=(e,t)=>{Uz(e,t),e.on("keyup NodeChange AfterSetSelectionRange",o=>{d0(o)||ZA(e)})},GB=e=>{const t=An(()=>{ZA(e)},0);e.on("init",()=>{e.inline&&u_(e,t),Zz(e,t)}),e.on("remove",()=>{t.cancel()})};let Aw;const qA=hs.DOM,Wz=e=>Sn(e)&&qB.isEditorUIElement(e),jS=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},GA=(e,t)=>{const o=Ky(e);return qA.getParent(t,c=>Wz(c)||(o?e.dom.is(c,o):!1))!==null},d_=e=>{try{const t=ra(De.fromDom(e.getElement()));return Rl(t).fold(()=>document.body,o=>o.dom)}catch{return document.body}},qz=(e,t)=>{const o=t.editor;GB(o);const r=(c,h)=>{if(Cx(c)&&c.inline!==!0){const v=De.fromDom(c.getContainer());h(v,"tox-edit-focus")}};o.on("focusin",()=>{const c=e.focusedEditor;jS(d_(o))&&r(o,pc),c!==o&&(c&&c.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:c}),o.focus(!0))}),o.on("focusout",()=>{Qg.setEditorTimeout(o,()=>{const c=e.focusedEditor;(!jS(d_(o))||c!==o)&&r(o,aa),!GA(o,d_(o))&&c===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Aw||(Aw=c=>{const h=e.activeEditor;h&&Du(c).each(v=>{const T=v;T.ownerDocument===document&&T!==document.body&&!GA(h,T)&&e.focusedEditor===h&&(h.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},qA.bind(document,"focusin",Aw))},Gz=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Aw&&(qA.unbind(document,"focusin",Aw),Aw=null)},KB=e=>{e.on("AddEditor",le(qz,e)),e.on("RemoveEditor",le(Gz,e))},f_=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="true"),YB=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="false")!==null,m_=e=>e.collapsed?X.from(zg(e.startContainer,e.startOffset)).map(De.fromDom):X.none(),Kz=(e,t)=>m_(t).bind(o=>e1(o)?X.some(o):mc(e,o)?X.none():X.some(e)),Yz=(e,t)=>{Kz(De.fromDom(e.getBody()),t).bind(o=>H(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},h_=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},Xz=e=>Js(e)||_u(e).isSome(),XB=e=>qe(e.iframeElement)&&Js(De.fromDom(e.iframeElement)),Qz=e=>{const t=e.getBody();return t&&Xz(De.fromDom(t))},Jz=e=>{const t=ra(De.fromDom(e.getElement()));return Rl(t).filter(o=>!jS(o.dom)&&GA(e,o.dom)).isSome()},kw=e=>e.inline?Qz(e):XB(e),QB=e=>kw(e)||Jz(e),fne=e=>{const t=e.selection,o=e.getBody();let r=t.getRng();e.quirks.refreshContentEditable();const c=v=>{WA(v).each(T=>{v.selection.setRng(T),r=T})};!kw(e)&&e.hasEditableRoot()&&c(e);const h=f_(e,t.getNode());if(h&&e.dom.isChildOf(h,o)){YB(e,h)||h_(o),h_(h),e.hasEditableRoot()||c(e),Yz(e,r),KA(e);return}e.inline||(ds.browser.isOpera()||h_(o),e.getWin().focus()),(ds.browser.isFirefox()||e.inline)&&(h_(o),Yz(e,r)),KA(e)},KA=e=>e.editorManager.setActive(e),JB=(e,t)=>{e.removed||(t?KA(e):fne(e))},Ln={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Ln.metaKeyPressed(e),metaKeyPressed:e=>ds.os.isMacOS()||ds.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Mx="data-mce-selected",ej=`table,img,figure.image,hr,video,span.mce-preview-object,details,${xy}`,tj=Math.abs,g_=Math.round,e6={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},nj=e=>e.type==="longpress"||e.type.indexOf("touch")===0,oj=(e,t)=>{const o=t.dom,r=t.getDoc(),c=document,h=t.getBody();let v,T,k,L,W,G,Q,ce,ke,ge,Te,ot,rt,dt,Pt;const en=Ht=>qe(Ht)&&(Nd(Ht)||o.is(Ht,"figure.image")),Nn=Ht=>Rd(Ht)||o.hasClass(Ht,"mce-preview-object"),io=(Ht,En)=>{if(nj(Ht)){const Xn=Ht.touches[0];return en(Ht.target)&&!ZB(Xn.clientX,Xn.clientY,En)}else return en(Ht.target)&&!ZB(Ht.clientX,Ht.clientY,En)},Bt=Ht=>{const En=Ht.target;io(Ht,t.selection.getRng())&&!Ht.isDefaultPrevented()&&t.selection.select(En)},Ct=Ht=>o.hasClass(Ht,"mce-preview-object")&&qe(Ht.firstElementChild)?[Ht,Ht.firstElementChild]:o.is(Ht,"figure.image")?[Ht.querySelector("img")]:[Ht],Ft=Ht=>{const En=lA(t);return!En||t.mode.isReadOnly()||Ht.getAttribute("data-mce-resize")==="false"||Ht===t.getBody()?!1:o.hasClass(Ht,"mce-preview-object")&&qe(Ht.firstElementChild)?wl(De.fromDom(Ht.firstElementChild),En):wl(De.fromDom(Ht),En)},On=(Ht,En)=>{if(Nn(En))return Ht.create("img",{src:ds.transparentSrc});if(iu(En)){const Bs=Co(L.name,"n")?gs:Wr,Ss=En.cloneNode(!0);return Bs(Ht.select("tr",Ss)).each(Zr=>{const km=Ht.select("td,th",Zr);Ht.setStyle(Zr,"height",null),Le(km,dp=>Ht.setStyle(dp,"height",null))}),Ss}else return En.cloneNode(!0)},Bo=(Ht,En,Xn)=>{Ht[En]=Xn;const Bs=400;if(Ht.width>Bs&&!(En==="width"&&Xn<Bs))Ht[En]=Xn,o.setStyle(Ht,En,Xn);else{const Ss=En==="height"?Bs*(ge??1):Bs;Ht[En]=Ss,o.setStyle(Ht,En,Ss)}},Lo=(Ht,En,Xn)=>{if(qe(Xn)){const Bs=Ct(Ht);Le(Bs,Ss=>{Rp(Ss)?Bo(Ss,En,Xn):Ss.style[En]||!t.schema.isValid(Ss.nodeName.toLowerCase(),En)?o.setStyle(Ss,En,Xn):o.setAttrib(Ss,En,""+Xn)})}},Ws=(Ht,En,Xn)=>{Lo(Ht,"width",En),Lo(Ht,"height",Xn)},Pr=Ht=>{let En,Xn,Bs,Ss,Zr;En=Ht.screenX-G,Xn=Ht.screenY-Q,ot=En*L[2]+ce,rt=Xn*L[3]+ke,ot=ot<5?5:ot,rt=rt<5?5:rt,(en(v)||Nn(v)||Rp(v))&&ED(t)!==!1?Bs=!Ln.modifierPressed(Ht):Bs=Ln.modifierPressed(Ht),Bs&&(tj(En)>tj(Xn)?(rt=g_(ot*ge),ot=g_(rt/ge)):(ot=g_(rt/ge),rt=g_(ot*ge))),Ws(T,ot,rt),Ss=L.startPos.x+En,Zr=L.startPos.y+Xn,Ss=Ss>0?Ss:0,Zr=Zr>0?Zr:0,o.setStyles(k,{left:Ss,top:Zr,display:"block"}),k.innerHTML=ot+" &times; "+rt,En=h.scrollWidth-dt,Xn=h.scrollHeight-Pt,En+Xn!==0&&o.setStyles(k,{left:Ss-En,top:Zr-Xn}),Te||(IT(t,v,ce,ke,"corner-"+L.name),Te=!0)},Ca=()=>{const Ht=Te;Te=!1,Ht&&(Lo(v,"width",ot),Lo(v,"height",rt)),o.unbind(r,"mousemove",Pr),o.unbind(r,"mouseup",Ca),c!==r&&(o.unbind(c,"mousemove",Pr),o.unbind(c,"mouseup",Ca)),o.remove(T),o.remove(k),o.remove(W),ti(v),Ht&&(KC(t,v,ot,rt,"corner-"+L.name),o.setAttrib(v,"style",o.getAttrib(v,"style"))),t.nodeChanged()},ti=Ht=>{_r();const En=o.getPos(Ht,h),Xn=En.x,Bs=En.y,Ss=Ht.getBoundingClientRect(),Zr=Ss.width||Ss.right-Ss.left,km=Ss.height||Ss.bottom-Ss.top;v!==Ht&&(Am(),v=Ht,ot=rt=0);const dp=t.dispatch("ObjectSelected",{target:Ht});Ft(Ht)&&!dp.isDefaultPrevented()?Oo(e6,(dg,fh)=>{const Av=Yf=>{const ry=Ct(v)[0];G=Yf.screenX,Q=Yf.screenY,ce=ry.clientWidth,ke=ry.clientHeight,ge=ke/ce,L=dg,L.name=fh,L.startPos={x:Zr*dg[0]+Xn,y:km*dg[1]+Bs},dt=h.scrollWidth,Pt=h.scrollHeight,W=o.add(h,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(W,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),T=On(o,v),o.addClass(T,"mce-clonedresizable"),o.setAttrib(T,"data-mce-bogus","all"),T.contentEditable="false",o.setStyles(T,{left:Xn,top:Bs,margin:0}),Ws(T,Zr,km),T.removeAttribute(Mx),h.appendChild(T),o.bind(r,"mousemove",Pr),o.bind(r,"mouseup",Ca),c!==r&&(o.bind(c,"mousemove",Pr),o.bind(c,"mouseup",Ca)),k=o.add(h,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ce+" &times; "+ke)};let qd=o.get("mceResizeHandle"+fh);qd&&o.remove(qd),qd=o.add(h,"div",{id:"mceResizeHandle"+fh,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+fh+"-resize; margin:0; padding:0"}),o.bind(qd,"mousedown",Yf=>{Yf.stopImmediatePropagation(),Yf.preventDefault(),Av(Yf)}),dg.elm=qd,o.setStyles(qd,{left:Zr*dg[0]+Xn-qd.offsetWidth/2,top:km*dg[1]+Bs-qd.offsetHeight/2})}):Am(!1)},Vc=An(ti,0),Am=(Ht=!0)=>{Vc.cancel(),_r(),v&&Ht&&v.removeAttribute(Mx),Oo(e6,(En,Xn)=>{const Bs=o.get("mceResizeHandle"+Xn);Bs&&(o.unbind(Bs),o.remove(Bs))})},$n=(Ht,En)=>o.isChildOf(Ht,En),po=Ht=>{if(Te||t.removed||t.composing)return;const En=Ht.type==="mousedown"?Ht.target:e.getNode(),Xn=El(De.fromDom(En),ej).map(Ss=>Ss.dom).filter(Ss=>o.isEditable(Ss.parentElement)||Ss.nodeName==="IMG"&&o.isEditable(Ss)).getOrUndefined(),Bs=qe(Xn)?o.getAttrib(Xn,Mx,"1"):"1";if(Le(o.select(`img[${Mx}],hr[${Mx}]`),Ss=>{Ss.removeAttribute(Mx)}),qe(Xn)&&$n(Xn,h)&&QB(t)){br();const Ss=e.getStart(!0);if($n(Ss,Xn)&&$n(e.getEnd(!0),Xn)){o.setAttrib(Xn,Mx,Bs),Vc.throttle(Xn);return}}Am()},_r=()=>{Oo(e6,Ht=>{Ht.elm&&(o.unbind(Ht.elm),delete Ht.elm)})},br=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{br(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",po),t.on("keyup compositionend",Ht=>{v&&v.nodeName==="TABLE"&&po(Ht)}),t.on("hide blur",Am),t.on("contextmenu longpress",Bt,!0)}),t.on("remove",_r),{isResizable:Ft,showResizeRect:ti,hideResizeRect:Am,updateResizeRect:po,destroy:()=>{Vc.cancel(),v=T=W=null}}},t6=(e,t,o)=>{const r=Wu(De.fromDom(o));return J1(r.dom,e,t).map(c=>{const h=o.createRange();return h.setStart(c.start.dom,c.soffset),h.setEnd(c.finish.dom,c.foffset),h}).getOrUndefined()},zb=(e,t)=>qe(e)&&qe(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,sj=(e,t,o)=>{let r=e;for(;r&&r!==t;){if(o(r))return r;r=r.parentNode}return null},p_=(e,t,o)=>sj(e,t,o)!==null,n6=(e,t,o)=>p_(e,t,r=>r.nodeName===o),o6=(e,t)=>id(e)&&!p_(e,t,de),b_=(e,t,o)=>{const r=t.parentNode;if(r){const c=new Ka(t,e.getParent(r,e.isBlock)||e.getRoot());let h;for(;h=c[o?"prev":"next"]();)if(la(h))return!0}return!1},y_=(e,t)=>e.previousSibling?.nodeName===t,mne=(e,t)=>{let o=t;for(;o&&o!==e;){if(na(o))return!0;o=o.parentNode}return!1},v_=(e,t,o,r,c)=>{const h=e.getRoot(),v=e.schema.getNonEmptyElements(),T=c.parentNode;let k,L;if(!T)return X.none();const W=e.getParent(T,e.isBlock)||h;if(r&&la(c)&&t&&e.isEmpty(W))return X.some(_t(T,e.nodeIndex(c)));const G=new Ka(c,W);for(;L=G[r?"prev":"next"]();){if(e.getContentEditableParent(L)==="false"||o6(L,h))return X.none();if(dn(L)&&L.data.length>0)return n6(L,h,"A")?X.none():X.some(_t(L,r?L.data.length:0));if(e.isBlock(L)||v[L.nodeName.toLowerCase()])return X.none();k=L}return ns(k)?X.none():o&&k?X.some(_t(k,0)):X.none()},rj=(e,t,o,r)=>{const c=e.getRoot();let h,v=!1,T=o?r.startContainer:r.endContainer,k=o?r.startOffset:r.endOffset;const L=Sn(T)&&k===T.childNodes.length,W=e.schema.getNonEmptyElements();let G=o;if(id(T))return X.none();if(Sn(T)&&k>T.childNodes.length-1&&(G=!1),zm(T)&&(T=c,k=0),T===c){if(G&&(h=T.childNodes[k>0?k-1:0],h&&(id(h)||W[h.nodeName]||iu(h))))return X.none();if(T.hasChildNodes()){if(k=Math.min(!G&&k>0?k-1:k,T.childNodes.length-1),T=T.childNodes[k],k=dn(T)&&L?T.data.length:0,!t&&T===c.lastChild&&iu(T)||mne(c,T)||id(T)||V0(T))return X.none();if(T.hasChildNodes()&&!iu(T)){h=T;const Q=new Ka(T,c);do{if(na(h)||id(h)){v=!1;break}if(dn(h)&&h.data.length>0){k=G?0:h.data.length,T=h,v=!0;break}if(W[h.nodeName.toLowerCase()]&&!yy(h)){k=e.nodeIndex(h),T=h.parentNode,G||k++,v=!0;break}}while(h=G?Q.next():Q.prev())}}}return t&&(dn(T)&&k===0&&v_(e,L,t,!0,T).each(Q=>{T=Q.container(),k=Q.offset(),v=!0}),Sn(T)&&(h=T.childNodes[k],h||(h=T.childNodes[k-1]),h&&la(h)&&!y_(h,"A")&&!b_(e,h,!1)&&!b_(e,h,!0)&&v_(e,L,t,!0,h).each(Q=>{T=Q.container(),k=Q.offset(),v=!0}))),G&&!t&&dn(T)&&k===T.data.length&&v_(e,L,t,!1,T).each(Q=>{T=Q.container(),k=Q.offset(),v=!0}),v&&T?X.some(_t(T,k)):X.none()},YA=(e,t)=>{const o=t.collapsed,r=t.cloneRange(),c=_t.fromRangeStart(t);return rj(e,o,!0,r).each(h=>{(!o||!_t.isAbove(c,h))&&r.setStart(h.container(),h.offset())}),o||rj(e,o,!1,r).each(h=>{r.setEnd(h.container(),h.offset())}),o&&r.collapse(!0),zb(t,r)?X.none():X.some(r)},XA=(e,t)=>e.splitText(t),Dw=e=>{let t=e.startContainer,o=e.startOffset,r=e.endContainer,c=e.endOffset;if(t===r&&dn(t)){if(o>0&&o<t.data.length)if(r=XA(t,o),t=r.previousSibling,c>o){c=c-o;const h=XA(r,c).previousSibling;t=r=h,c=h.data.length,o=0}else c=0}else if(dn(t)&&o>0&&o<t.data.length&&(t=XA(t,o),o=0),dn(r)&&c>0&&c<r.data.length){const h=XA(r,c).previousSibling;r=h,c=h.data.length}return{startContainer:t,startOffset:o,endContainer:r,endOffset:c}},f0=e=>({walk:(h,v)=>Yg(e,h,v),split:Dw,expand:(h,v={type:"word"})=>{if(v.type==="word"){const T=y1(e,h,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),k=e.createRng();return k.setStart(T.startContainer,T.startOffset),k.setEnd(T.endContainer,T.endOffset),k}return h},normalize:h=>YA(e,h).fold(He,v=>(h.setStart(v.startContainer,v.startOffset),h.setEnd(v.endContainer,v.endOffset),!0))});f0.compareRanges=zb,f0.getCaretRangeFromPoint=t6,f0.getSelectedNode=gl,f0.getNode=zg;const aj=(e,t)=>e.view(t).fold(at([]),r=>{const c=e.owner(r),h=aj(e,c);return[r].concat(h)}),hne=(e,t)=>{const o=t.owner(e);return aj(t,o)};var pne=Object.freeze({__proto__:null,view:e=>(e.dom===document?X.none():X.from(e.dom.defaultView?.frameElement)).map(De.fromDom),owner:e=>Xc(e)});const ij=e=>{const t=Cl(),o=Tg(t),r=hne(e,pne),c=rm(e),h=Dt(r,(v,T)=>{const k=rm(T);return{left:v.left+k.left,top:v.top+k.top}},{left:0,top:0});return gc(h.left+c.left+o.left,h.top+c.top+o.top)},QA=e=>rs(e)==="textarea",lj=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),s6=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},bne=(e,t)=>{const o=ma(e);if(o.length===0||QA(e))return{element:e,offset:t};if(t<o.length&&!QA(o[t]))return{element:o[t],offset:0};{const r=o[o.length-1];return QA(r)?{element:e,offset:t}:rs(r)==="img"?{element:r,offset:1}:ws(r)?{element:r,offset:yi(r).length}:{element:r,offset:ma(r).length}}},r6=(e,t)=>{const o=Nf(e),r=fy(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:t}},a6=(e,t)=>{const o=bne(e,t),r=De.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Hi+"</span>");return ul(o.element,r),r6(r,()=>Cs(r))},cj=e=>r6(De.fromDom(e),Lt),i6=(e,t,o,r)=>{dj(e,(c,h)=>uj(e,t,o,r),o)},l6=(e,t,o,r,c)=>{const h={elm:r.element.dom,alignToTop:c};if(lj(e,h))return;const v=Tg(t).top;o(e,t,v,r,c),s6(e,h)},uj=(e,t,o,r)=>{const c=De.fromDom(e.getBody()),h=De.fromDom(e.getDoc());Eg(c);const v=a6(De.fromDom(o.startContainer),o.startOffset);l6(e,h,t,v,r),v.cleanup()},c6=(e,t,o,r)=>{const c=De.fromDom(e.getDoc());l6(e,c,o,cj(t),r)},dj=(e,t,o)=>{const r=o.startContainer,c=o.startOffset,h=o.endContainer,v=o.endOffset;t(De.fromDom(r),De.fromDom(h));const T=e.dom.createRng();T.setStart(r,c),T.setEnd(h,v),e.selection.setRng(o)},x_=(e,t,o,r,c)=>{const h=t.pos,v=30;if(r)Ag(h.left,Math.max(0,h.top-v),c);else{const T=h.top-o+t.height+v;Ag(-e.getBody().getBoundingClientRect().left,T,c)}},u6=(e,t,o,r,c,h)=>{const v=r+o,T=c.pos.top,k=c.bottom,L=k-T>=r;T<o?x_(e,c,r,h!==!1,t):T>v?x_(e,c,r,L?h!==!1:h===!0,t):k>v&&!L&&x_(e,c,r,h===!0,t)},d6=(e,t,o,r,c)=>{const h=Wu(t).dom.innerHeight;u6(e,t,o,h,r,c)},f6=(e,t,o,r,c)=>{const h=Wu(t).dom.innerHeight;u6(e,t,o,h,r,c);const v=ij(r.element),T=Mu(window);v.top<T.y?tu(r.element,c!==!1):v.top>T.bottom&&tu(r.element,c===!0)},fj=(e,t,o)=>i6(e,d6,t,o),mj=(e,t,o)=>c6(e,t,d6,o),hj=(e,t,o)=>i6(e,f6,t,o),gj=(e,t,o)=>c6(e,t,f6,o),In=(e,t,o)=>{(e.inline?mj:gj)(e,t,o)},sh=(e,t,o)=>{(e.inline?fj:hj)(e,t,o)},pj=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),m6=(e,t,o,r,c)=>{const h=o?t.startContainer:t.endContainer,v=o?t.startOffset:t.endOffset;return X.from(h).map(De.fromDom).map(T=>!r||!t.collapsed?Jc(T,c(T,v)).getOr(T):T).bind(T=>fa(T)?X.some(T):Wi(T).filter(fa)).map(T=>T.dom).getOr(e)},JA=(e,t,o=!1)=>m6(e,t,!0,o,(r,c)=>Math.min(om(r),c)),w_=(e,t,o=!1)=>m6(e,t,!1,o,(r,c)=>c>0?c-1:c),C_=(e,t)=>{const o=e;for(;e&&dn(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||o},S_=(e,t)=>{if(!t)return e;let o=t.startContainer,r=t.endContainer;const c=t.startOffset,h=t.endOffset;let v=t.commonAncestorContainer;t.collapsed||(o===r&&h-c<2&&o.hasChildNodes()&&(v=o.childNodes[c]),dn(o)&&dn(r)&&(o.length===c?o=C_(o.nextSibling,!0):o=o.parentNode,h===0?r=C_(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(v=o)));const T=dn(v)?v.parentNode:v;return ru(T)?T:e},bj=(e,t,o,r)=>{const c=[],h=e.getRoot(),v=e.getParent(o||JA(h,t,t.collapsed),e.isBlock),T=e.getParent(r||w_(h,t,t.collapsed),e.isBlock);if(v&&v!==h&&c.push(v),v&&T&&v!==T){let k;const L=new Ka(v,h);for(;(k=L.next())&&k!==T;)e.isBlock(k)&&c.push(k)}return T&&v!==T&&T!==h&&c.push(T),c},h6=(e,t,o)=>X.from(t).bind(r=>X.from(r.parentNode).map(c=>{const h=e.nodeIndex(r),v=e.createRng();return v.setStart(c,h),v.setEnd(c,h+1),o&&(PA(e,v,r,!0),PA(e,v,r,!1)),v})),E_=(e,t)=>tt(t,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),yj={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},ek=(e,t,o)=>{const r=o?"lastChild":"firstChild",c=o?"prev":"next";if(e[r])return e[r];if(e!==t){let h=e[c];if(h)return h;for(let v=e.parent;v&&v!==t;v=v.parent)if(h=v[c],h)return h}},vj=e=>{const t=e.value??"";if(!Ap(t))return!1;const o=e.parent;return!(o&&(o.name!=="span"||o.attr("style"))&&/^[ ]+$/.test(t))},g6=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Hc{static create(t,o){const r=new Hc(t,yj[t]||1);return o&&Oo(o,(c,h)=>{r.attr(h,c)}),r}name;type;attributes;value;parent;firstChild;lastChild;next;prev;raw;constructor(t,o){this.name=t,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(t){const o=this;return t.parent&&t.remove(),o.insert(t,o),o.remove(),o}attr(t,o){const r=this;if(!J(t))return qe(t)&&Oo(t,(h,v)=>{r.attr(v,h)}),r;const c=r.attributes;if(c){if(o!==void 0){if(o===null){if(t in c.map){delete c.map[t];let h=c.length;for(;h--;)if(c[h].name===t)return c.splice(h,1),r}return r}if(t in c.map){let h=c.length;for(;h--;)if(c[h].name===t){c[h].value=o;break}}else c.push({name:t,value:o});return c.map[t]=o,r}return c.map[t]}}clone(){const t=this,o=new Hc(t.name,t.type),r=t.attributes;if(r){const c=[];c.map={};for(let h=0,v=r.length;h<v;h++){const T=r[h];T.name!=="id"&&(c[c.length]={name:T.name,value:T.value},c.map[T.name]=T.value)}o.attributes=c}return o.value=t.value,o}wrap(t){const o=this;return o.parent&&(o.parent.insert(t,o),t.append(o)),o}unwrap(){const t=this;for(let o=t.firstChild;o;){const r=o.next;t.insert(o,t,!0),o=r}t.remove()}remove(){const t=this,o=t.parent,r=t.next,c=t.prev;return o&&(o.firstChild===t?(o.firstChild=r,r&&(r.prev=null)):c&&(c.next=r),o.lastChild===t?(o.lastChild=c,c&&(c.next=null)):r&&(r.prev=c),t.parent=t.next=t.prev=null),t}append(t){const o=this;t.parent&&t.remove();const r=o.lastChild;return r?(r.next=t,t.prev=r,o.lastChild=t):o.lastChild=o.firstChild=t,t.parent=o,t}insert(t,o,r){t.parent&&t.remove();const c=o.parent||this;return r?(o===c.firstChild?c.firstChild=t:o.prev&&(o.prev.next=t),t.prev=o.prev,t.next=o,o.prev=t):(o===c.lastChild?c.lastChild=t:o.next&&(o.next.prev=t),t.next=o.next,t.prev=o,o.next=t),t.parent=c,t}getAll(t){const o=this,r=[];for(let c=o.firstChild;c;c=ek(c,o))c.name===t&&r.push(c);return r}children(){const t=this,o=[];for(let r=t.firstChild;r;r=r.next)o.push(r);return o}empty(){const t=this;if(t.firstChild){const o=[];for(let c=t.firstChild;c;c=ek(c,t))o.push(c);let r=o.length;for(;r--;){const c=o[r];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,o={},r){const c=this;let h=c.firstChild;if(g6(c))return!1;if(h)do{if(h.type===1){if(h.attr("data-mce-bogus"))continue;if(t[h.name]||g6(h))return!1}if(h.type===8||h.type===3&&!vj(h)||h.type===3&&h.parent&&o[h.parent.name]&&Ap(h.value??"")||r&&r(h))return!1}while(h=ek(h,c));return!0}walk(t){return ek(this,null,t)}}const xj=ln.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),p6=e=>J(e.nodeValue)&&e.nodeValue.includes(Hi),b6=e=>`${e.length===0?"":`${tt(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,wj=(e,t)=>t.querySelectorAll(b6(e)),y6=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>p6(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),T_=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(p6(t)){const o=t.parentNode;return o&&Qn(xj,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),tk=e=>y6(e).nextNode()!==null,Cj=e=>T_(e).nextNode()!==null,Sj=(e,t)=>t.querySelector(b6(e))!==null,Ej=(e,t)=>{Le(wj(e,t),o=>{const r=De.fromDom(o);yr(r,"data-mce-bogus")==="all"?Cs(r):Le(e,c=>{Gr(r,c)&&ci(r,c)})})},v6=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},Tj=F(v6,y6),Aj=F(v6,T_),x6=(e,t)=>{const o=[{condition:le(Sj,t),action:le(Ej,t)},{condition:tk,action:Tj},{condition:Cj,action:Aj}];let r=e,c=!1;return Le(o,({condition:h,action:v})=>{h(r)&&(c||(r=e.cloneNode(!0),c=!0),v(r))}),r},w6=e=>{const t=kt(e,"[data-mce-bogus]");Le(t,o=>{yr(o,"data-mce-bogus")==="all"?Cs(o):$d(o)?(ul(o,De.fromText(pi)),Cs(o)):Gl(o)})},C6=e=>{const t=kt(e,"input");Le(t,o=>{ci(o,"name")})},kj=(e,t)=>{const o=bl(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(r,"")},Dj=(e,t)=>{const o=e.getDoc(),r=ra(De.fromDom(e.getBody())),c=De.fromTag("div",o);Or(c,"data-mce-bogus","all"),fl(c,{position:"fixed",left:"-9999999px",top:"0"}),nf(c,t.innerHTML),w6(c),C6(c);const h=Eh(r);Is(h,c);const v=Pc(c.dom.innerText);return Cs(c),v},_j=(e,t,o)=>{let r;return t.format==="raw"?r=ln.trim(Pc(x6(o,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?r=Dj(e,o):t.format==="tree"?r=e.serializer.serialize(o,t):r=kj(e,e.serializer.serialize(o,t)),t.format!=="text"&&!Ny(De.fromDom(o))&&J(r)?ln.trim(r):r},Oj=(e,t)=>X.from(e.getBody()).fold(at(t.format==="tree"?new Hc("body",11):""),o=>_j(e,t,o)),S6=ln.makeMap,A_=e=>{const t=[];e=e||{};const o=e.indent,r=S6(e.indent_before||""),c=S6(e.indent_after||""),h=td.getEncodeFunc(e.entity_encoding||"raw",e.entities),v=e.element_format!=="xhtml";return{start:(T,k,L)=>{if(o&&r[T]&&t.length>0){const W=t[t.length-1];W.length>0&&W!==`
`&&t.push(`
`)}if(t.push("<",T),k)for(let W=0,G=k.length;W<G;W++){const Q=k[W];t.push(" ",Q.name,'="',h(Q.value,!0),'"')}if(!L||v?t[t.length]=">":t[t.length]=" />",L&&o&&c[T]&&t.length>0){const W=t[t.length-1];W.length>0&&W!==`
`&&t.push(`
`)}},end:T=>{let k;t.push("</",T,">"),o&&c[T]&&t.length>0&&(k=t[t.length-1],k.length>0&&k!==`
`&&t.push(`
`))},text:(T,k)=>{T.length>0&&(t[t.length]=k?T:h(T))},cdata:T=>{t.push("<![CDATA[",T,"]]>")},comment:T=>{t.push("<!--",T,"-->")},pi:(T,k)=>{k?t.push("<?",T," ",h(k),"?>"):t.push("<?",T,"?>"),o&&t.push(`
`)},doctype:T=>{t.push("<!DOCTYPE",T,">",o?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},nv=(e={},t=Ls())=>{const o=A_(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const h=e.validate,v={3:k=>{o.text(k.value??"",k.raw)},8:k=>{o.comment(k.value??"")},7:k=>{o.pi(k.name,k.value)},10:k=>{o.doctype(k.value??"")},4:k=>{o.cdata(k.value??"")},11:k=>{let L=k;if(L=L.firstChild)do T(L);while(L=L.next)}};o.reset();const T=k=>{const L=v[k.type];if(L)L(k);else{const W=k.name,G=W in t.getVoidElements();let Q=k.attributes;if(h&&Q&&Q.length>1){const ce=[];ce.map={};const ke=t.getElementRule(k.name);if(ke){for(let ge=0,Te=ke.attributesOrder.length;ge<Te;ge++){const ot=ke.attributesOrder[ge];if(ot in Q.map){const rt=Q.map[ot];ce.map[ot]=rt,ce.push({name:ot,value:rt})}}for(let ge=0,Te=Q.length;ge<Te;ge++){const ot=Q[ge].name;if(!(ot in ce.map)){const rt=Q.map[ot];ce.map[ot]=rt,ce.push({name:ot,value:rt})}}Q=ce}}if(o.start(W,Q,G),Rg(W))J(k.value)&&o.text(k.value,!0),o.end(W);else if(!G){let ce=k.firstChild;if(ce){(W==="pre"||W==="textarea")&&ce.type===3&&ce.value?.[0]===`
`&&o.text(`
`,!0);do T(ce);while(ce=ce.next)}o.end(W)}}};return c.type===1&&!e.inner?T(c):c.type===3?v[3](c):v[11](c),o.getContent()}}},E6=new Set;Le(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{E6.add(t)});const VS=new Set;Le(["background-color"],t=>{VS.add(t)});const ov=["font","text-decoration","text-emphasis"],nk=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),_w=(e,t)=>Hn(nk(e,t)),Nj=e=>E6.has(e),Rj=e=>VS.has(e),T6=(e,t)=>Ye(_w(e,t),o=>Nj(o)),A6=(e,t)=>T6(e,t)&&Ye(_w(e,t),o=>Rj(o)),Mj=e=>xt(e,t=>Ye(ov,o=>Co(t,o))),Bj=(e,t,o)=>{const r=_w(e,t),c=_w(e,o),h=v=>{const T=e.getStyle(t,v)??"",k=e.getStyle(o,v)??"";return Hr(T)&&Hr(k)&&T!==k};return Ye(r,v=>{const T=k=>Ye(k,L=>L===v);if(!T(c)&&T(ov)){const k=Mj(c);return Ye(k,h)}else return h(v)})},k_=(e,t,o)=>X.from(o.container()).filter(dn).exists(r=>{const c=e?0:-1;return t(r.data.charAt(o.offset()+c))}),D_=le(k_,!0,Wf),ok=le(k_,!1,Wf),Lj=e=>{const t=e.container();return dn(t)&&(t.data.length===0||$g(t.data)&&Tw.isBookmarkNode(t.parentNode))},sv=(e,t)=>o=>AS(e?0:-1,o).filter(t).isSome(),k6=e=>Nd(e)&&ka(De.fromDom(e),"display")==="block",__=e=>na(e)&&!A2(e),O_=sv(!0,k6),D6=sv(!1,k6),US=sv(!0,Rd),ZS=sv(!1,Rd),WS=sv(!0,iu),N_=sv(!1,iu),jb=sv(!0,__),v1=sv(!1,__),_6=e=>e.slice(0,-1),Pj=(e,t,o)=>mc(t,e)?_6(cl(e,r=>o(r)||ss(r,t))):[],O6=(e,t)=>Pj(e,t,He),Jg=(e,t)=>[e].concat(O6(e,t)),sk=(e,t,o)=>m(e,t,o,Lj),N6=e=>t=>e.isBlock(rs(t)),R_=(e,t,o)=>sn(Jg(De.fromDom(t.container()),e),N6(o)),M_=(e,t,o,r)=>sk(e,t.dom,o).forall(c=>R_(t,o,r).fold(()=>!qg(c,o,t.dom),h=>!qg(c,o,t.dom)&&mc(h,De.fromDom(c.container())))),B_=(e,t,o,r)=>R_(t,o,r).fold(()=>sk(e,t.dom,o).forall(c=>!qg(c,o,t.dom)),c=>sk(e,c.dom,o).isNone()),rk=le(B_,!1),L_=le(B_,!0),R6=le(M_,!1),M6=le(M_,!0),B6=e=>_x(e).exists($d),ak=(e,t,o,r)=>{const c=xt(Jg(De.fromDom(o.container()),t),v=>r.isBlock(rs(v))),h=gs(c).getOr(t);return Zf(e,h.dom,o).filter(B6)},P_=(e,t,o)=>_x(t).exists($d)||ak(!0,e,t,o).isSome(),ik=(e,t,o)=>kS(t).exists($d)||ak(!1,e,t,o).isSome(),L6=le(ak,!1),Fj=le(ak,!0),P6=e=>_t.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),F6=(e,t,o)=>{const r=xt(Jg(De.fromDom(t.container()),e),c=>o.isBlock(rs(c)));return gs(r).getOr(e)},$6=(e,t,o)=>P6(t)?ok(t):ok(t)||D(F6(e,t,o).dom,t).exists(ok),I6=(e,t,o)=>P6(t)?D_(t):D_(t)||E(F6(e,t,o).dom,t).exists(D_),$j=e=>Be(["pre","pre-wrap"],e),lk=e=>_x(e).bind(t=>nr(t,fa)).exists(t=>$j(ka(t,"white-space"))),yne=(e,t)=>D(e.dom,t).isNone(),vne=(e,t)=>E(e.dom,t).isNone(),Ij=(e,t,o)=>yne(e,t)||vne(e,t)||rk(e,t,o)||L_(e,t,o)||ik(e,t,o)||P_(e,t,o),xne=e=>qe(e)&&na(e)&&SS(e),H6=(e,t)=>o=>xne(new Ka(o,e)[t]()),fd=(e,t)=>{const o=E(e.dom,t).getOr(t),r=H6(e.dom,"next");return t.isAtEnd()&&(r(t.container())||r(o.container()))},Hj=(e,t)=>{const o=D(e.dom,t).getOr(t),r=H6(e.dom,"prev");return t.isAtStart()&&(r(t.container())||r(o.container()))},zj=(e,t,o)=>lk(t)?!1:Ij(e,t,o)||$6(e,t,o)||I6(e,t,o),qS=(e,t,o)=>lk(t)?!1:rk(e,t,o)||R6(e,t,o)||ik(e,t,o)||$6(e,t,o)||Hj(e,t),jj=e=>{const t=e.container(),o=e.offset();return dn(t)&&o<t.data.length?_t(t,o+1):e},md=(e,t,o)=>lk(t)?!1:L_(e,t,o)||M6(e,t,o)||P_(e,t,o)||I6(e,t,o)||fd(e,t),z6=(e,t,o)=>qS(e,t,o)||md(e,jj(t),o),j6=(e,t)=>Iu(e.charAt(t)),Vj=(e,t)=>Wf(e.charAt(t)),Uj=e=>{const t=e.container();return dn(t)&&Ir(t.data,qr)},Zj=e=>{const t=e.split("");return tt(t,(o,r)=>Iu(o)&&r>0&&r<t.length-1&&$c(t[r-1])&&$c(t[r+1])?" ":o).join("")},Wj=(e,t,o,r)=>{const c=t.data,h=_t(t,0);return!o&&j6(c,0)&&!z6(e,h,r)?(t.data=" "+c.slice(1),!0):o&&Vj(c,0)&&qS(e,h,r)?(t.data=qr+c.slice(1),!0):!1},qj=e=>{const t=e.data,o=Zj(t);return o!==t?(e.data=o,!0):!1},qf=(e,t,o,r)=>{const c=t.data,h=_t(t,c.length-1);return!o&&j6(c,c.length-1)&&!z6(e,h,r)?(t.data=c.slice(0,-1)+" ",!0):o&&Vj(c,c.length-1)&&md(e,h,r)?(t.data=c.slice(0,-1)+qr,!0):!1},V6=(e,t,o)=>{const r=t.container();if(!dn(r))return X.none();if(Uj(t)){const c=Wj(e,r,!1,o)||qj(r)||qf(e,r,!1,o);return As(c,t)}else if(z6(e,t,o)){const c=Wj(e,r,!0,o)||qf(e,r,!0,o);return As(c,t)}else return X.none()},U6=e=>{const t=De.fromDom(e.getBody());e.selection.isCollapsed()&&V6(t,_t.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},Z6=(e,t,o,r)=>{if(o===0)return;const c=De.fromDom(e),h=Dd(c,L=>r.isBlock(rs(L))).getOr(c),v=e.data.slice(t,t+o),T=t+o>=e.data.length&&md(h,_t(e,e.data.length),r),k=t===0&&qS(h,_t(e,0),r);e.replaceData(t,o,z0(v,4,k,T))},ck=(e,t,o)=>{const r=e.data.slice(t),c=r.length-Sf(r).length;Z6(e,t,c,o)},uk=(e,t,o)=>{const r=e.data.slice(0,t),c=r.length-uc(r).length;Z6(e,t-c,c,o)},dk=(e,t,o,r,c=!0)=>{const h=uc(e.data).length,v=c?e:t,T=c?t:e;return c?v.appendData(T.data):v.insertData(0,T.data),Cs(De.fromDom(T)),r&&ck(v,h,o),v},Gj=(e,t)=>{const o=e.container(),r=e.offset();return!_t.isTextPosition(e)&&o===t.parentNode&&r>_t.before(t).offset()},Kj=(e,t)=>Gj(t,e)?_t(t.container(),t.offset()-1):t,Yj=e=>dn(e)?_t(e,0):_t.before(e),Xj=e=>dn(e)?_t(e,e.data.length):_t.after(e),F_=e=>ya(e.previousSibling)?X.some(Xj(e.previousSibling)):e.previousSibling?q(e.previousSibling):X.none(),W6=e=>ya(e.nextSibling)?X.some(Yj(e.nextSibling)):e.nextSibling?H(e.nextSibling):X.none(),q6=(e,t)=>X.from(t.previousSibling?t.previousSibling:t.parentNode).bind(o=>D(e,_t.before(o))).orThunk(()=>E(e,_t.after(t))),Qj=(e,t)=>E(e,_t.after(t)).orThunk(()=>D(e,_t.before(t))),wne=(e,t)=>F_(t).orThunk(()=>W6(t)).orThunk(()=>q6(e,t)),Jj=(e,t)=>W6(t).orThunk(()=>F_(t)).orThunk(()=>Qj(e,t)),eV=(e,t,o)=>e?Jj(t,o):wne(t,o),Cne=(e,t,o)=>eV(e,t,o).map(le(Kj,o)),G6=(e,t,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),t)})},ar=e=>t=>t.dom===e,GS=(e,t)=>t&&Qn(e.schema.getBlockElements(),rs(t)),Vb=(e,t,o)=>{if(_a(e,t)){const r=De.fromHtml('<br data-mce-bogus="1">');return o?Le(ma(t),c=>{r_(c)||Cs(c)}):ql(t),Is(t,r),X.some(_t.before(r.dom))}else return X.none()},Bx=(e,t,o,r)=>{const c=qu(e).filter(ws),h=Za(e).filter(ws);return Cs(e),Uo(c,h,t,(v,T,k)=>{const L=v.dom,W=T.dom,G=L.data.length;return dk(L,W,o,r),k.container()===W?_t(L,G):k}).orThunk(()=>(r&&(c.each(v=>uk(v.dom,v.dom.length,o)),h.each(v=>ck(v.dom,0,o))),t))},fk=(e,t)=>Qn(e.schema.getTextInlineElements(),rs(t)),x1=(e,t,o,r=!0,c=!1)=>{const h=Cne(t,e.getBody(),o.dom),v=Dd(o,le(GS,e),ar(e.getBody())),T=Bx(o,h,e.schema,fk(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):v.bind(k=>Vb(e.schema,k,c)).fold(()=>{r&&G6(e,t,T)},k=>{r&&G6(e,t,X.some(k))})},$_=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,K6=e=>$_.test(e),Lx=(e,t)=>wl(De.fromDom(t),SD(e))&&!Ya(e.schema,t)&&e.dom.isEditable(t),I_=e=>hs.DOM.getStyle(e,"direction",!0)==="rtl"||K6(e.textContent??""),Y6=(e,t,o)=>xt(hs.DOM.getParents(o.container(),"*",t),e),rv=(e,t,o)=>{const r=Y6(e,t,o);return X.from(r[r.length-1])},tV=(e,t,o)=>{const r=m1(t,e),c=m1(o,e);return qe(r)&&r===c},nV=e=>Wm(e)||Ig(e),Jh=(e,t)=>{const o=t.container(),r=t.offset();return e?pm(o)?dn(o.nextSibling)?_t(o.nextSibling,0):_t.after(o):Wm(t)?_t(o,r+1):t:pm(o)?dn(o.previousSibling)?_t(o.previousSibling,o.previousSibling.data.length):_t.before(o):Ig(t)?_t(o,r-1):t},X6=le(Jh,!0),Q6=le(Jh,!1),H_=(e,t)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(t),e.off("beforeinput input",o)},J6=e=>{e.execCommand("delete")},z_=e=>H_(e,"Delete"),oV=e=>H_(e,"ForwardDelete"),Sne=e=>t=>Gt(Wi(t),e,ss),sV=e=>Sc(e)||fu(e),j_=(e,t)=>mc(e,t)?nr(t,sV,Sne(e)):X.none(),e8=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},t8=(e,t,o)=>Bn(H(o),q(o),(r,c)=>{const h=Jh(!0,r),v=Jh(!1,c),T=Jh(!1,t);return e?E(o,T).exists(k=>k.isEqual(v)&&t.isEqual(h)):D(o,T).exists(k=>k.isEqual(h)&&t.isEqual(v))}).getOr(!0),n8=e=>(xd(e)?qu(e):ii(e)).bind(n8).orThunk(()=>X.some(e)),rV=(e,t,o,r=!0)=>{t.deleteContents();const c=n8(o).getOr(o),h=De.fromDom(e.dom.getParent(c.dom,e.dom.isBlock)??o.dom);if(h.dom===e.getBody()?e8(e,r):_a(e.schema,h,{checkRootAsContent:!1})&&(Vh(h),r&&e.selection.setCursorLocation(h.dom,0)),!ss(o,h)){const v=Gt(Wi(h),o)?[]:$s(h);Le(v.concat(ma(o)),T=>{!ss(T,h)&&!mc(T,h)&&_a(e.schema,T)&&Cs(T)})}},aV=e=>t=>ss(e,t),Ud=e=>kt(e,"td,th"),iV=(e,t)=>Vd(De.fromDom(e),t),lV=e=>Bn(e.startTable,e.endTable,(t,o)=>{const r=Fo(t,h=>ss(h,o)),c=Fo(o,h=>ss(h,t));return!r&&!c?e:{...e,startTable:r?X.none():e.startTable,endTable:c?X.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),o8=e=>lV(e),Ene=(e,t)=>{const o=iV(e.startContainer,t),r=iV(e.endContainer,t),c=o.isSome(),h=r.isSome(),v=Bn(o,r,ss).getOr(!1);return o8({startTable:o,endTable:r,isStartInTable:c,isEndInTable:h,isSameTable:v,isMultiTable:!v&&c&&h})},V_=(e,t)=>({start:e,end:t}),cV=(e,t,o)=>({rng:e,table:t,cells:o}),KS=gi.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Ow=(e,t)=>El(De.fromDom(e),"td,th",t),uV=e=>!ss(e.start,e.end),s8=(e,t)=>Vd(e.start,t).bind(o=>Vd(e.end,t).bind(r=>As(ss(o,r),o))),dV=(e,t)=>!uV(e)&&s8(e,t).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),ua=(e,t)=>{const o=Ow(e.startContainer,t),r=Ow(e.endContainer,t);return Bn(o,r,V_)},fV=e=>t=>Vd(t,e).bind(o=>Wr(Ud(o)).map(r=>V_(t,r))),mV=e=>t=>Vd(t,e).bind(o=>gs(Ud(o)).map(r=>V_(r,t))),Px=e=>t=>s8(t,e).map(o=>cV(t,o,Ud(o))),U_=(e,t,o,r)=>{if(o.collapsed||!e.forall(uV))return X.none();if(t.isSameTable){const c=e.bind(Px(r));return X.some({start:c,end:c})}else{const c=Ow(o.startContainer,r),h=Ow(o.endContainer,r),v=c.bind(fV(r)).bind(Px(r)),T=h.bind(mV(r)).bind(Px(r));return X.some({start:v,end:T})}},r8=(e,t)=>Zn(e,o=>ss(o,t)),Z_=e=>Bn(r8(e.cells,e.rng.start),r8(e.cells,e.rng.end),(t,o)=>e.cells.slice(t,o+1)),hV=(e,t,o)=>e.exists(r=>dV(r,o)&&t_(r.start,t)),W_=(e,t)=>{const{startTable:o,endTable:r}=t,c=e.cloneRange();return o.each(h=>c.setStartAfter(h.dom)),r.each(h=>c.setEndBefore(h.dom)),c},gV=(e,t,o,r)=>U_(e,t,o,r).bind(({start:c,end:h})=>c.or(h)).bind(c=>{const{isSameTable:h}=t,v=Z_(c).getOr([]);if(h&&c.cells.length===v.length)return X.some(KS.fullTable(c.table));if(v.length>0){if(h)return X.some(KS.partialTable(v,X.none()));{const T=W_(o,t);return X.some(KS.partialTable(v,X.some({...t,rng:T})))}}else return X.none()}),Tne=(e,t,o,r)=>U_(e,t,o,r).bind(({start:c,end:h})=>{const v=c.bind(Z_).getOr([]),T=h.bind(Z_).getOr([]);if(v.length>0&&T.length>0){const k=W_(o,t);return X.some(KS.multiTable(v,T,k))}else return X.none()}),Ane=(e,t)=>{const o=aV(e),r=ua(t,o),c=Ene(t,o);return hV(r,t,o)?r.map(h=>KS.singleCellTable(t,h.start)):c.isMultiTable?Tne(r,c,t,o):gV(r,c,t,o)},a8=e=>Le(e,t=>{ci(t,"contenteditable"),Vh(t)}),pV=(e,t)=>X.from(e.dom.getParent(t,e.dom.isBlock)).map(De.fromDom),bV=(e,t,o)=>{o.each(r=>{t?Cs(r):(Vh(r),e.selection.setCursorLocation(r.dom,0))})},q_=(e,t,o,r)=>{const c=o.cloneRange();r?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(t.dom.lastChild)):(c.setStartBefore(t.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),mk(e,c,t,!1).each(h=>h())},G_=e=>{const t=eo(e),o=De.fromDom(e.selection.getNode());Np(o.dom)&&_a(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),t.length>1&&Ye(t,r=>ss(r,o))&&Or(o,"data-mce-selected","1")},i8=(e,t,o)=>X.some(()=>{const r=e.selection.getRng(),c=o.bind(({rng:h,isStartInTable:v})=>{const T=pV(e,v?h.endContainer:h.startContainer);h.deleteContents(),bV(e,v,T.filter(le(_a,e.schema)));const k=v?t[0]:t[t.length-1];return q_(e,k,r,v),_a(e.schema,k)?X.none():X.some(v?t.slice(1):t.slice(0,-1))}).getOr(t);a8(c),G_(e)}),Ms=(e,t,o,r)=>X.some(()=>{const c=e.selection.getRng(),h=t[0],v=o[o.length-1];q_(e,h,c,!0),q_(e,v,c,!1);const T=_a(e.schema,h)?t:t.slice(1),k=_a(e.schema,v)?o:o.slice(0,-1);a8(T.concat(k)),r.deleteContents(),G_(e)}),mk=(e,t,o,r=!0)=>X.some(()=>{rV(e,t,o,r)}),YS=(e,t)=>X.some(()=>x1(e,!1,t)),XS=(e,t,o)=>Ane(t,o).bind(r=>r.fold(le(mk,e),le(YS,e),le(i8,e),le(Ms,e))),QS=(e,t)=>K_(e,t),JS=(e,t,o,r)=>c8(t,r).fold(()=>XS(e,t,o),c=>QS(e,c)),l8=(e,t,o)=>{const r=De.fromDom(e.getBody()),c=e.selection.getRng();return o.length!==0?i8(e,o,X.none()):JS(e,r,c,t)},yV=(e,t)=>sn(Jg(t,e),jh),c8=(e,t)=>sn(Jg(t,e),Pa("caption")),kne=(e,t,o,r,c)=>tv(o,e.getBody(),c).bind(h=>yV(t,De.fromDom(h.getNode())).bind(v=>ss(v,r)?X.none():X.some(Lt))),K_=(e,t)=>X.some(()=>{Vh(t),e.selection.setCursorLocation(t.dom,0)}),vV=(e,t,o,r)=>H(e.dom).bind(c=>q(e.dom).map(h=>t?o.isEqual(c)&&r.isEqual(h):o.isEqual(h)&&r.isEqual(c))).getOr(!0),Dne=(e,t)=>K_(e,t),xV=(e,t,o)=>c8(e,De.fromDom(o.getNode())).fold(()=>X.some(Lt),r=>As(!ss(r,t),Lt)),wV=(e,t,o,r,c)=>tv(o,e.getBody(),c).fold(()=>X.some(Lt),h=>vV(r,o,c,h)?Dne(e,r):xV(t,r,h)),_ne=(e,t,o,r)=>{const c=_t.fromRangeStart(e.selection.getRng());return yV(o,r).bind(h=>_a(e.schema,h,{checkRootAsContent:!1})?K_(e,h):kne(e,o,t,h,c))},CV=(e,t,o,r)=>{const c=_t.fromRangeStart(e.selection.getRng());return _a(e.schema,r)?K_(e,r):wV(e,o,t,r,c)},va=(e,t)=>e?WS(t):N_(t),One=(e,t)=>{const o=_t.fromRangeStart(e.selection.getRng());return va(t,o)||Zf(t,e.getBody(),o).exists(r=>va(t,r))},Nne=(e,t,o)=>{const r=De.fromDom(e.getBody());return c8(r,o).fold(()=>_ne(e,t,r,o).orThunk(()=>As(One(e,t),Lt)),c=>CV(e,t,r,c))},Y_=(e,t)=>{const o=De.fromDom(e.selection.getStart(!0)),r=eo(e);return e.selection.isCollapsed()&&r.length===0?Nne(e,t,o):l8(e,o,r)},m0=(e,t)=>{let o=t;for(;o&&o!==e;){if(Bu(o)||na(o))return o;o=o.parentNode}return null},SV=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],EV=ln.each,h0=e=>{const t=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(h,v)=>{if(h.nodeName!==v.nodeName||h.nodeType!==v.nodeType)return!1;const T=L=>{const W={};return EV(t.getAttribs(L),G=>{const Q=G.nodeName.toLowerCase();Q!=="style"&&!c(Q)&&(W[Q]=t.getAttrib(L,Q))}),W},k=(L,W)=>{for(const G in L)if(Qn(L,G)){const Q=W[G];if(xn(Q)||L[G]!==Q)return!1;delete W[G]}for(const G in W)if(Qn(W,G))return!1;return!0};return Sn(h)&&Sn(v)&&(!k(T(h),T(v))||!k(t.parseStyle(t.getAttrib(h,"style")),t.parseStyle(t.getAttrib(v,"style"))))?!1:!wi(h)&&!wi(v)},c=h=>Ye(SV,v=>Co(h,v))||o.has(h);return{compare:r,isAttributeInternal:c}},gr=(e,t)=>{if(dn(e))return{container:e,offset:t};const o=f0.getNode(e,t);return dn(o)?{container:o,offset:t>=e.childNodes.length?o.data.length:0}:o.previousSibling&&dn(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&dn(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:t}},Ac=e=>{const t=e.cloneRange(),o=gr(e.startContainer,e.startOffset);t.setStart(o.container,o.offset);const r=gr(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},rh=hs.DOM,TV=()=>rh.create("span",{"data-mce-type":"bookmark"}),u8=(e,t,o)=>{if(Sn(e)){const r=o();return e.hasChildNodes()?t===e.childNodes.length?e.appendChild(r):e.insertBefore(r,e.childNodes[t]):e.appendChild(r),{container:r,offset:0}}else return{container:e,offset:t}},d8=(e,t)=>{const o=r=>{let c=r.parentNode?.firstChild,h=0;for(;c;){if(c===r)return h;(!Sn(c)||c.getAttribute("data-mce-type")!=="bookmark")&&h++,c=c.nextSibling}return-1};if(Sn(e)&&qe(e.parentNode)){const r=e;t=o(e),e=e.parentNode,rh.remove(r),!e.hasChildNodes()&&rh.isBlock(e)&&e.appendChild(rh.create("br"))}return{container:e,offset:t}},f8=(e,t,o,r)=>{const c=rh.createRng();return c.setStart(e,t),c.setEnd(o,r),Ac(c)},w1=(e,t=TV)=>{const{container:o,offset:r}=u8(e.startContainer,e.startOffset,t);if(e.collapsed)return{startContainer:o,startOffset:r};{const{container:c,offset:h}=u8(e.endContainer,e.endOffset,t);return{startContainer:o,startOffset:r,endContainer:c,endOffset:h}}},eg=e=>{const{container:t,offset:o}=d8(e.startContainer,e.startOffset);if(!xn(e.endContainer)&&!xn(e.endOffset)){const{container:r,offset:c}=d8(e.endContainer,e.endOffset);return f8(t,o,r,c)}else return f8(t,o,t,o)},X_=(e,t,o,r)=>{if(ln.each(o.styles,(c,h)=>{e.setStyle(t,h,Hb(c,r))}),o.styles){const c=e.getAttrib(t,"style");c&&e.setAttrib(t,"data-mce-style",c)}},Fx=(e,t,o,r,c)=>{const h=e.dom;Re(o.onformat)&&o.onformat(t,o,r,c),X_(h,t,o,r),ln.each(o.attributes,(v,T)=>{h.setAttrib(t,T,Hb(v,r))}),ln.each(o.classes,v=>{const T=Hb(v,r);h.hasClass(t,T)||h.addClass(t,T)})},AV=e=>!Ke(e.attributes)&&!Ke(e.styles),Q_=FS,m8=(e,t,o)=>{const r=e.formatter.get(o);if(r)for(let c=0;c<r.length;c++){const h=r[c];if(Kg(h)&&h.inherit===!1&&e.dom.is(t,h.selector))return!0}return!1},hk=(e,t,o,r,c)=>{const h=e.dom.getRoot();if(t===h)return!1;const v=e.dom.getParent(t,T=>m8(e,T,o)?!0:T.parentNode===h||!!tg(e,T,o,r,!0));return!!tg(e,v,o,r,c)},gk=(e,t,o)=>hu(o)&&Q_(t,o.inline)||u0(o)&&Q_(t,o.block)?!0:Kg(o)?Sn(t)&&e.is(t,o.selector):!1,h8=(e,t,o,r,c,h)=>{const v=o[r],T=r==="attributes";if(Re(o.onmatch))return o.onmatch(t,o,r);if(v){if(Jf(v)){for(let k=0;k<v.length;k++)if(T?e.getAttrib(t,v[k]):$S(e,t,v[k]))return!0}else for(const k in v)if(Qn(v,k)){const L=T?e.getAttrib(t,k):$S(e,t,k),W=Hb(v[k],h),G=fn(L)||Cu(L);if(G&&fn(W))continue;if(c&&G&&!o.exact||(!c||o.exact)&&!Q_(L,$A(W,k)))return!1}}return!0},tg=(e,t,o,r,c)=>{const h=e.formatter.get(o),v=e.dom;if(h&&Sn(t))for(let T=0;T<h.length;T++){const k=h[T];if(gk(e.dom,t,k)&&h8(v,t,k,"attributes",c,r)&&h8(v,t,k,"styles",c,r)){const L=k.classes;if(L){for(let W=0;W<L.length;W++)if(!e.dom.hasClass(t,Hb(L[W],r)))return}return k}}},J_=(e,t,o,r,c)=>{if(r)return hk(e,r,t,o,c);if(r=e.selection.getNode(),hk(e,r,t,o,c))return!0;const h=e.selection.getStart();return!!(h!==r&&hk(e,h,t,o,c))},e5=(e,t,o)=>{const r=[],c={},h=e.selection.getStart();return e.dom.getParent(h,v=>{for(let T=0;T<t.length;T++){const k=t[T];!c[k]&&tg(e,v,k,o)&&(c[k]=!0,r.push(k))}},e.dom.getRoot()),r},g8=(e,t)=>{const o=c=>ss(c,De.fromDom(e.getBody())),r=(c,h)=>tg(e,c.dom,h)?X.some(h):X.none();return X.from(e.selection.getStart(!0)).bind(c=>Xu(De.fromDom(c),h=>$r(t,v=>r(h,v)),o)).getOrNull()},t5=(e,t)=>{const o=e.formatter.get(t),r=e.dom;if(o&&e.selection.isEditable()){const c=e.selection.getStart(),h=IA(r,c);for(let v=o.length-1;v>=0;v--){const T=o[v];if(!Kg(T))return!0;for(let k=h.length-1;k>=0;k--)if(r.is(h[k],T.selector))return!0}}return!1},Rne=(e,t,o)=>Pe(o,(r,c)=>{const h=HA(e,c);return e.formatter.matchNode(t,c,{},h)?r.concat([c]):r},[]),rc=Hi,kV=(e,t)=>e.importNode(t,!0),DV=e=>{if(e){const t=new Ka(e,e);for(let o=t.current();o;o=t.next())if(dn(o))return o}return null},n5=e=>{const t=De.fromTag("span");return Wa(t,{id:ne,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Is(t,De.fromText(rc)),t},_V=e=>{const t=DV(e);return t&&t.data.charAt(0)===rc&&t.deleteData(0,1),t},o5=(e,t,o)=>{const r=e.dom,c=e.selection;if(PB(t))x1(e,!1,De.fromDom(t),o,!0);else{const h=c.getRng(),v=r.getParent(t,r.isBlock),T=h.startContainer,k=h.startOffset,L=h.endContainer,W=h.endOffset,G=_V(t);r.remove(t,!0),T===G&&k>0&&h.setStart(G,k-1),L===G&&W>0&&h.setEnd(G,W-1),v&&r.isEmpty(v)&&Vh(De.fromDom(v)),c.setRng(h)}},s5=(e,t,o)=>{const r=e.dom,c=e.selection;if(t)o5(e,t,o);else if(t=Se(e.getBody(),c.getStart()),!t)for(;t=r.get(ne);)o5(e,t,o)},p8=(e,t,o)=>{const r=e.dom,c=r.getParent(o,le(PS,e.schema));c&&r.isEmpty(c)?o.parentNode?.replaceChild(t,o):(yb(De.fromDom(o)),r.isEmpty(o)?o.parentNode?.replaceChild(t,o):r.insertAfter(t,o))},Nw=(e,t)=>(e.appendChild(t),t),b8=(e,t)=>{const o=Dt(e,(c,h)=>Nw(c,h.cloneNode(!1)),t),r=o.ownerDocument??document;return Nw(o,r.createTextNode(rc))},y8=(e,t,o,r,c,h)=>{const v=e.formatter,T=e.dom,k=xt(Hn(v.get()),G=>G!==r&&!Ir(G,"removeformat")),L=Rne(e,o,k);if(xt(L,G=>!LB(e,G,r)).length>0){const G=o.cloneNode(!1);return T.add(t,G),v.remove(r,c,G,h),T.remove(G),X.some(G)}else return X.none()},v8=e=>Sp(e,yi(e).replace(new RegExp(`${qr}$`)," ")),av=(e,t)=>{const o=()=>{t!==null&&!e.dom.isEmpty(t)&&qu(De.fromDom(t)).each(r=>{ws(r)?v8(r):kh(r,c=>ws(c)).each(c=>{ws(c)&&v8(c)})})};e.once("input",r=>{r.data&&!Wf(r.data)&&(r.isComposing?e.once("compositionend",()=>{o()}):o())})},x8=(e,t,o)=>{let r;const c=e.selection,h=e.formatter.get(t);if(!h)return;const v=c.getRng();let T=v.startOffset;const L=v.startContainer.nodeValue;r=Se(e.getBody(),c.getStart());const W=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(L&&T>0&&T<L.length&&W.test(L.charAt(T))&&W.test(L.charAt(T-1))){const G=c.getBookmark();v.collapse(!0);let Q=y1(e.dom,v,h);Q=Dw(Q),e.formatter.apply(t,o,Q),c.moveToBookmark(G)}else{let G=r?DV(r):null;(!r||G?.data!==rc)&&(r=kV(e.getDoc(),n5(!0).dom),G=r.firstChild,v.insertNode(r),T=1,av(e,r)),e.formatter.apply(t,o,r),c.setCursorLocation(G,T)}},w8=(e,t,o,r)=>{const c=e.dom,h=e.selection;let v=!1;const T=e.formatter.get(t);if(!T)return;const k=h.getRng(),L=k.startContainer,W=k.startOffset;let G=L;dn(L)&&(W!==L.data.length&&(v=!0),G=G.parentNode);const Q=[];let ce;for(;G;){if(tg(e,G,t,o,r)){ce=G;break}G.nextSibling&&(v=!0),Q.push(G),G=G.parentNode}if(ce)if(v){const ke=h.getBookmark();k.collapse(!0);let ge=y1(c,k,T,{includeTrailingSpace:!0});ge=Dw(ge),e.formatter.remove(t,o,ge,r),h.moveToBookmark(ke)}else{const ke=Se(e.getBody(),ce),ge=qe(ke)?c.getParents(ce.parentNode,ft,ke):[],Te=n5(!1).dom;p8(e,Te,ke??ce);const ot=y8(e,Te,ce,t,o,r),rt=b8([...Q,...ot.toArray(),...ge],Te);ke&&o5(e,ke,qe(ke)),h.setCursorLocation(rt,1),av(e,Te),c.isEmpty(ce)&&c.remove(ce)}},C8=(e,t,o)=>{const r=e.selection,c=e.getBody();s5(e,null,o),(t===8||t===46)&&r.isCollapsed()&&r.getStart().innerHTML===rc&&s5(e,Se(c,r.getStart()),!0),(t===37||t===39)&&s5(e,Se(c,r.getStart()),!0)},S8=e=>dn(e)&&Si(e.data,qr),E8=e=>{e.on("mouseup keydown",t=>{C8(e,t.keyCode,S8(e.selection.getRng().endContainer))})},T8=e=>{const t=n5(!1),o=b8(e,t.dom);return{caretContainer:t,caretPosition:_t(o,0)}},r5=(e,t)=>{const{caretContainer:o,caretPosition:r}=T8(t);return ul(De.fromDom(e),o),Cs(De.fromDom(e)),r},OV=(e,t)=>{const{caretContainer:o,caretPosition:r}=T8(t);return e.insertNode(o.dom),r},A8=(e,t)=>{if(de(t.dom))return!1;const o=e.schema.getTextInlineElements();return Qn(o,rs(t))&&!de(t.dom)&&!Hm(t.dom)},k8=["fontWeight","fontStyle","color","fontSize","fontFamily"],NV=e=>it(e.styles)&&Ye(Hn(e.styles),t=>Be(k8,t)),RV=e=>sn(e,t=>hu(t)&&t.inline==="span"&&NV(t)),MV=(e,t)=>{const o=e.get(t);return Ke(o)?RV(o):X.none()},a5=(e,t)=>D(t,_t.fromRangeStart(e)).isNone(),D8=(e,t)=>E(t,_t.fromRangeEnd(e)).exists(o=>!la(o.getNode())||E(t,o).isSome())===!1,BV=e=>t=>j0(t)&&e.isEditable(t),_8=(e,t)=>tt(e.getSelectedBlocks(),(o,r)=>r===0&&t(o)?e.dom.getParent(o,j0)??o:o),i5=e=>{if(e.isCollapsed())return[];const t=e.getRng(),o=_8(e,r=>a5(t,r)&&!j0(r));if(o.length===1)return a5(t,o[0])&&D8(t,o[0])?o:[];{const r=gs(o).filter(v=>a5(t,v)).toArray(),c=Wr(o).filter(v=>D8(t,v)).toArray(),h=o.slice(1,-1);return r.concat(h).concat(c)}},l5=e=>xt(i5(e),BV(e.dom)),O8=e=>xt(_8(e,t=>!j0(t)),BV(e.dom)),N8=ln.each,c5=e=>Sn(e)&&!wi(e)&&!de(e)&&!Hm(e),R8=(e,t)=>{for(let o=e;o;o=o[t]){if(dn(o)&&Hr(o.data))return e;if(Sn(o)&&!wi(o))return o}return e},M8=(e,t,o)=>{const r=h0(e),c=ru(t)&&e.dom.isEditable(t),h=ru(o)&&e.dom.isEditable(o);if(c&&h){const v=R8(t,"previousSibling"),T=R8(o,"nextSibling");if(r.compare(v,T)){for(let k=v.nextSibling;k&&k!==T;){const L=k;k=k.nextSibling,v.appendChild(L)}return e.dom.remove(T),ln.each(ln.grep(T.childNodes),k=>{v.appendChild(k)}),v}}return o},B8=(e,t,o,r)=>{if(r&&t.merge_siblings!==!1){const c=M8(e,RB(r),r)??r;M8(e,c,RB(c,!0))}},LV=(e,t,o)=>{if(t.clear_child_styles){const r=t.links?"*:not(a)":"*";N8(e.select(r,o),c=>{c5(c)&&e.isEditable(c)&&N8(t.styles,(h,v)=>{e.setStyle(c,v,"")})})}},u5=(e,t,o)=>{N8(e.childNodes,r=>{c5(r)&&(t(r)&&o(r),r.hasChildNodes()&&u5(r,t,o))})},PV=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},d5=(e,t)=>o=>!!(o&&$S(e,o,t)),L8=(e,t,o)=>r=>{e.setStyle(r,t,o),r.getAttribute("style")===""&&r.removeAttribute("style"),PV(e,r)},$x=gi.generate([{keep:[]},{rename:["name"]},{removed:[]}]),Ub=/^(src|href|style)$/,f5=ln.each,eE=FS,FV=e=>/^(TR|TH|TD)$/.test(e.nodeName),P8=(e,t,o)=>e.isChildOf(t,o)&&t!==o&&!e.isBlock(o),m5=(e,t,o)=>{let r=t[o?"startContainer":"endContainer"],c=t[o?"startOffset":"endOffset"];if(Sn(r)){const h=r.childNodes.length-1;!o&&c&&c--,r=r.childNodes[c>h?h:c]}return dn(r)&&o&&c>=r.data.length&&(r=new Ka(r,e.getBody()).next()||r),dn(r)&&!o&&c===0&&(r=new Ka(r,e.getBody()).prev()||r),r},h5=(e,t)=>{const o=t?"firstChild":"lastChild",r=e[o];return FV(e)&&r?e.nodeName==="TR"&&r[o]||r:e},pk=(e,t,o,r)=>{const c=e.create(o,r);return t.parentNode?.insertBefore(c,t),c.appendChild(t),c},g5=(e,t,o,r,c)=>{const h=De.fromDom(t),v=De.fromDom(e.create(r,c)),T=o?Fa(h):qi(h);return hc(v,T),o?(ul(h,v),ef(v,h)):(Sl(h,v),Is(v,h)),v.dom},$V=(e,t)=>t.links&&e.nodeName==="A",F8=(e,t,o)=>{const r=t.parentNode;let c;const h=e.dom,v=bl(e);u0(o)&&r===h.getRoot()&&(!o.list_block||!eE(t,o.list_block))&&Le(Ts(t.childNodes),T=>{Sw(e,v,T.nodeName.toLowerCase())?c?c.appendChild(T):(c=pk(h,T,v),h.setAttribs(c,th(e))):c=null}),!(cne(o)&&!eE(o.inline,t))&&h.remove(t,!0)},$8=(e,t,o)=>Qo(e)?{name:t,value:null}:{name:e,value:Hb(t,o)},I8=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},H8=(e,t,o,r,c)=>{let h=!1;f5(o.styles,(v,T)=>{const{name:k,value:L}=$8(T,v,r),W=$A(L,k);(o.remove_similar||ie(L)||!Sn(c)||eE($S(e,c,k),W))&&e.setStyle(t,k,""),h=!0}),h&&I8(e,t)},Ix=(e,t,o)=>{t==="removeformat"?Le(O8(e.selection),r=>{Le(k8,c=>e.dom.setStyle(r,c,"")),I8(e.dom,r)}):MV(e.formatter,t).each(r=>{Le(O8(e.selection),c=>H8(e.dom,c,r,o,null))})},bk=(e,t,o,r,c)=>{const h=e.dom,v=h0(e),T=e.schema;if(hu(t)&&Bc(T,t.inline)&&Ya(T,r)&&r.parentElement===e.getBody())return F8(e,r,t),$x.removed();if(!t.ceFalseOverride&&r&&h.getContentEditableParent(r)==="false"||r&&!gk(h,r,t)&&!$V(r,t))return $x.keep();const k=r,L=t.preserve_attributes;if(hu(t)&&t.remove==="all"&&Ke(L)){const W=xt(h.getAttribs(k),G=>Be(L,G.name.toLowerCase()));if(h.removeAllAttribs(k),Le(W,G=>h.setAttrib(k,G.name,G.value)),W.length>0)return $x.rename("span")}if(t.remove!=="all"){H8(h,k,t,o,c),f5(t.attributes,(G,Q)=>{const{name:ce,value:ke}=$8(Q,G,o);if(t.remove_similar||ie(ke)||!Sn(c)||eE(h.getAttrib(c,ce),ke)){if(ce==="class"){const ge=h.getAttrib(k,ce);if(ge){let Te="";if(Le(ge.split(/\s+/),ot=>{/mce\-\w+/.test(ot)&&(Te+=(Te?" ":"")+ot)}),Te){h.setAttrib(k,ce,Te);return}}}if(Ub.test(ce)&&k.removeAttribute("data-mce-"+ce),ce==="style"&&Qu(["li"])(k)&&h.getStyle(k,"list-style-type")==="none"){k.removeAttribute(ce),h.setStyle(k,"list-style-type","none");return}ce==="class"&&k.removeAttribute("className"),k.removeAttribute(ce)}}),f5(t.classes,G=>{G=Hb(G,o),(!Sn(c)||h.hasClass(c,G))&&h.removeClass(k,G)});const W=h.getAttribs(k);for(let G=0;G<W.length;G++){const Q=W[G].nodeName;if(!v.isAttributeInternal(Q))return $x.keep()}}return t.remove!=="none"?(F8(e,k,t),$x.removed()):$x.keep()},IV=(e,t,o,r,c)=>{let h;return t.parentNode&&Le(IA(e.dom,t.parentNode).reverse(),v=>{if(!h&&Sn(v)&&v.id!=="_start"&&v.id!=="_end"){const T=tg(e,v,o,r,c);T&&T.split!==!1&&(h=v)}}),h},HV=(e,t,o,r)=>bk(e,t,o,r,r).fold(at(r),c=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,c)),at(null)),p5=(e,t,o,r,c,h,v,T)=>{let k,L;const W=e.dom;if(o){const G=o.parentNode;for(let Q=r.parentNode;Q&&Q!==G;Q=Q.parentNode){let ce=W.clone(Q,!1);for(let ke=0;ke<t.length&&(ce=HV(e,t[ke],T,ce),ce!==null);ke++);ce&&(k&&ce.appendChild(k),L||(L=ce),k=ce)}(!v.mixed||!W.isBlock(o))&&(r=W.split(o,r)??r),k&&L&&(c.parentNode?.insertBefore(k,c),L.appendChild(c),hu(v)&&B8(e,v,T,k))}return r},zV=(e,t,o,r,c)=>{const h=e.formatter.get(t),v=h[0],T=e.dom,k=e.selection,L=ge=>{const Te=IV(e,ge,t,o,c);return p5(e,h,Te,ge,ge,!0,v,o)},W=ge=>wi(ge)&&Sn(ge)&&(ge.id==="_start"||ge.id==="_end"),G=ge=>Ye(h,Te=>tE(e,Te,o,ge,ge)),Q=ge=>{const Te=Ts(ge.childNodes),rt=G(ge)||Ye(h,en=>gk(T,ge,en)),dt=ge.parentNode;if(!rt&&qe(dt)&&s_(v)&&G(dt),v.deep&&Te.length)for(let en=0;en<Te.length;en++)Q(Te[en]);Le(["underline","line-through","overline"],en=>{Sn(ge)&&e.dom.getStyle(ge,"text-decoration")===en&&ge.parentNode&&BB(T,ge.parentNode)===en&&tE(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:en}},void 0,ge)})},ce=ge=>{const Te=T.get(ge?"_start":"_end");if(Te){let ot=Te[ge?"firstChild":"lastChild"];return W(ot)&&(ot=ot[ge?"firstChild":"lastChild"]),dn(ot)&&ot.data.length===0&&(ot=ge?Te.previousSibling||Te.nextSibling:Te.nextSibling||Te.previousSibling),T.remove(Te,!0),ot}else return null},ke=ge=>{let Te,ot,rt=y1(T,ge,h,{includeTrailingSpace:ge.collapsed});if(v.split){if(rt=Dw(rt),Te=m5(e,rt,!0),ot=m5(e,rt),Te!==ot){if(Te=h5(Te,!0),ot=h5(ot,!1),P8(T,Te,ot)){const Pt=X.from(Te.firstChild).getOr(Te);L(g5(T,Pt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ce(!0);return}if(P8(T,ot,Te)){const Pt=X.from(ot.lastChild).getOr(ot);L(g5(T,Pt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ce(!1);return}Te=pk(T,Te,"span",{id:"_start","data-mce-type":"bookmark"}),ot=pk(T,ot,"span",{id:"_end","data-mce-type":"bookmark"});const dt=T.createRng();dt.setStartAfter(Te),dt.setEndBefore(ot),Yg(T,dt,Pt=>{Le(Pt,en=>{!wi(en)&&!wi(en.parentNode)&&L(en)})}),L(Te),L(ot),Te=ce(!0),ot=ce()}else Te=ot=L(Te);rt.startContainer=Te.parentNode?Te.parentNode:Te,rt.startOffset=T.nodeIndex(Te),rt.endContainer=ot.parentNode?ot.parentNode:ot,rt.endOffset=T.nodeIndex(ot)+1}Yg(T,rt,dt=>{Le(dt,Q)})};if(r){if(BS(r)){const ge=T.createRng();ge.setStartBefore(r),ge.setEndAfter(r),ke(ge)}else ke(r);XC(e,t,r,o);return}!k.isCollapsed()||!hu(v)||eo(e).length?(OB(e,()=>RS(e,ke),ge=>hu(v)&&J_(e,t,o,ge)),e.nodeChanged()):w8(e,t,o,c),Ix(e,t,o),XC(e,t,r,o)},yk=(e,t,o,r,c)=>{(r||e.selection.isEditable())&&zV(e,t,o,r,c)},z8=(e,t,o,r)=>bk(e,t,o,r).fold(()=>X.some(r),c=>X.some(e.dom.rename(r,c)),X.none),tE=(e,t,o,r,c)=>bk(e,t,o,r,c).fold(He,h=>(e.dom.rename(r,h),!0),ft),j8=["fontsize","subscript","superscript"],vk=["strikethrough",...j8],jV=(e,t,o)=>qe(e.matchNode(t.dom,o,{},o==="fontsize")),xk=(e,t)=>Ye(j8,o=>jV(e,t,o)),VV=e=>Be(vk,e),V8=(e,t,o,r,c)=>{const h=cl(t,e).filter(fa);return Yo(h,o).map(v=>{const T=h[v],k=r(T),L=[...c(ki(T)).toArray(),...Do(h.slice(0,v),W=>o(W)?c(W).toArray():[ki(W)])];return{container:T,innerWrapper:k,outerWrappers:L}})},U8=(e,t,o,r)=>{Le(ma(e),c=>{fa(c)&&o(c)&&r(c).isNone()&&Gl(c)}),Le(ma(e),c=>Is(t,c)),ef(e,t)},Z8=(e,t)=>{if(t.length>0){const o=t[t.length-1];ul(e,o);const r=Pe(t.slice(0,t.length-1),(c,h)=>(Is(c,h),h),o);Is(r,e)}},UV=(e,t,o,r,c)=>{const h=v=>ss(De.fromDom(e.getRoot()),v)||e.isBlock(v.dom);Le(t,v=>{V8(h,v,o,r,c).each(({container:T,innerWrapper:k,outerWrappers:L})=>{e.split(T.dom,v.dom),U8(v,k,o,c),Z8(v,L)})})},b5=(e,t,o)=>{const r=T=>qe(tg(e,T.dom,t)),c=T=>{const k=De.fromTag(rs(T)),L=tg(e,T.dom,t,{});return qe(L)&&AV(L)&&Fx(e,k.dom,L),k},h=T=>{const k=tg(e,T.dom,t,{});return qe(k)?z8(e,k,{},T.dom).map(De.fromDom):X.some(T)},v=w1(e.selection.getRng());UV(e.dom,o,r,c,h),e.selection.setRng(eg(v))},ZV=(e,t)=>Do(t,o=>{const r=we(o,c=>xk(e,c));return xk(e,o)?[o,...r]:r}),WV=(e,t,o)=>{if(VV(t)){const r=ZV(e.formatter,o);b5(e,"strikethrough",r)}},qV=(e,t)=>{const o=xt(t,r=>xk(e.formatter,r));b5(e,"strikethrough",o)},Gf=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),W8=e=>e.name==="summary",GV=(e,t)=>{let o=e;for(;o=o.walk();)t(o)},y5=(e,t,o,r)=>{const c=o.name;for(let h=0,v=e.length;h<v;h++){const T=e[h];if(T.name===c){const k=r.nodes[c];k?k.nodes.push(o):r.nodes[c]={filter:T,nodes:[o]}}}if(o.attributes)for(let h=0,v=t.length;h<v;h++){const T=t[h],k=T.name;if(k in o.attributes.map){const L=r.attributes[k];L?L.nodes.push(o):r.attributes[k]={filter:T,nodes:[o]}}}},KV=(e,t,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&GV(o,c=>{y5(e,t,c,r)}),r},q8=(e,t)=>{const o=(r,c)=>{Oo(r,h=>{const v=Ts(h.nodes);Le(h.filter.callbacks,T=>{for(let k=v.length-1;k>=0;k--){const L=v[k];(!(c?L.attr(h.filter.name)!==void 0:L.name===h.filter.name)||fn(L.parent))&&v.splice(k,1)}v.length>0&&T(v,h.filter.name,t)})})};o(e.nodes,!1),o(e.attributes,!0)},G8=(e,t,o,r={})=>{const c=KV(e,t,o);q8(c,r)},iv=(e,t,o,r)=>{if((e.pad_empty_with_br||t.insert)&&o(r)){const h=new Hc("br",1);t.insert&&h.attr("data-mce-bogus","1"),r.empty().append(h)}else r.empty().append(new Hc("#text",3)).value=qr},Rw=e=>YV(e,"#text")&&e?.firstChild?.value===qr,YV=(e,t)=>{const o=e?.firstChild;return qe(o)&&o===e.lastChild&&o.name===t},XV=(e,t)=>e.getElementRule(t.name)?.paddEmpty===!0,nE=(e,t,o,r)=>r.isEmpty(t,o,c=>XV(e,c)),g0=(e,t)=>qe(e)&&(t(e)||e.name==="br"),QV=e=>{let t;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(t=o)}return X.from(t)},JV=e=>{const t=[];for(let o=e.firstChild;qe(o);o=o.walk())t.push(o);return t},Mw=(e,t,o=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const c of r)o&&!t.isValidChild(o.name,c.name)&&Mw(c,t,o);e.unwrap()}},K8=(e,t,o,r=Lt)=>{const c=t.getTextBlockElements(),h=t.getNonEmptyElements(),v=t.getWhitespaceElements(),T=ln.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),k=new Set,L=W=>W!==o&&!T[W.name];for(let W=0;W<e.length;W++){const G=e[W];let Q,ce,ke;if(!G.parent||k.has(G))continue;if(c[G.name]&&G.parent.name==="li"){let Te=G.next;for(;Te&&c[Te.name];){Te.name="li",k.add(Te),G.parent.insert(Te,G.parent);Te=Te.next}G.unwrap();continue}const ge=[G];for(Q=G.parent;Q&&!t.isValidChild(Q.name,G.name)&&L(Q);Q=Q.parent)ge.push(Q);if(Q&&ge.length>1)if(oE(t,G,Q))Mw(G,t);else{ge.reverse(),ce=ge[0].clone(),r(ce);let Te=ce;for(let ot=0;ot<ge.length-1;ot++){t.isValidChild(Te.name,ge[ot].name)&&ot>0?(ke=ge[ot].clone(),r(ke),Te.append(ke)):ke=Te;for(let rt=ge[ot].firstChild;rt&&rt!==ge[ot+1];){const dt=rt.next;ke.append(rt),rt=dt}Te=ke}nE(t,h,v,ce)?Q.insert(G,ge[0],!0):(Q.insert(ce,ge[0],!0),Q.insert(G,ce)),Q=ge[0],(nE(t,h,v,Q)||YV(Q,"br"))&&Q.empty().remove()}else if(G.parent){if(G.name==="li"){let Te=G.prev;if(Te&&(Te.name==="ul"||Te.name==="ol")){Te.append(G);continue}if(Te=G.next,Te&&(Te.name==="ul"||Te.name==="ol")&&Te.firstChild){Te.insert(G,Te.firstChild,!0);continue}const ot=new Hc("ul",1);r(ot),G.wrap(ot);continue}if(t.isValidChild(G.parent.name,"div")&&t.isValidChild("div",G.name)){const Te=new Hc("div",1);r(Te),G.wrap(Te)}else Mw(G,t)}}},v5=(e,t)=>{let o=e;for(;o;){if(o.name===t)return!0;o=o.parent}return!1},oE=(e,t,o=t.parent)=>o?e.children[t.name]&&!e.isValidChild(o.name,t.name)||t.name==="a"&&v5(o,"a")?!0:W8(o)&&Gf(t)?!(o?.firstChild===t&&o?.lastChild===t):!1:!1,Y8=(e,t,o,r)=>{const c=document.createRange();return c.setStart(e,t),c.setEnd(o,r),c},eU=e=>{const t=_t.fromRangeStart(e),o=_t.fromRangeEnd(e),r=e.commonAncestorContainer;return Zf(!1,r,o).map(c=>!qg(t,o,r)&&qg(t,c,r)?Y8(t.container(),t.offset(),c.container(),c.offset()):e).getOr(e)},x5=e=>e.collapsed?e:eU(e),Zb=ln.explode,X8=()=>{const e={};return{addFilter:(c,h)=>{Le(Zb(c),v=>{Qn(e,v)||(e[v]={name:v,callbacks:[]}),e[v].callbacks.push(h)})},getFilters:()=>vo(e),removeFilter:(c,h)=>{Le(Zb(c),v=>{if(Qn(e,v))if(qe(h)){const T=e[v],k=xt(T.callbacks,L=>L!==h);k.length>0?T.callbacks=k:delete e[v]}else delete e[v]})}}},tU=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),nU=e=>e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),Ds=(e,t)=>{Le(t,o=>{e.attr(o,null)})},oU=(e,t,o)=>{e.addNodeFilter("font",r=>{Le(r,c=>{const h=t.parse(c.attr("style")),v=c.attr("color"),T=c.attr("face"),k=c.attr("size");v&&(h.color=v),T&&(h["font-family"]=T),k&&Ef(k).each(L=>{h["font-size"]=o[L-1]}),c.name="span",c.attr("style",t.serialize(h)),Ds(c,["color","face","size"])})})},sU=(e,t,o)=>{e.addNodeFilter("strike",r=>{const c=t.type!=="html4";Le(r,h=>{if(c)h.name="s";else{const v=o.parse(h.attr("style"));v["text-decoration"]="line-through",h.name="span",h.attr("style",o.serialize(v))}})})},Q8=(e,t,o)=>{const r=mm();t.convert_fonts_to_spans&&oU(e,r,ln.explode(t.font_size_legacy_values??"")),sU(e,o,r)},rU=(e,t,o)=>{t.inline_styles&&Q8(e,t,o)},aU=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),tl=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},iU=e=>{try{return decodeURIComponent(e)}catch{return e}},w5=e=>{const[t,...o]=e.split(","),r=o.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(c){const h=c[2]===";base64",v=iU(r),T=h?tl(v):v;return X.some({type:c[1],data:T,base64Encoded:h})}else return X.none()},J8=(e,t,o=!0)=>{let r=t;if(o)try{r=atob(t)}catch{return X.none()}const c=new Uint8Array(r.length);for(let h=0;h<c.length;h++)c[h]=r.charCodeAt(h);return X.some(new Blob([c],{type:e}))},lU=e=>new Promise((t,o)=>{w5(e).bind(({type:r,data:c,base64Encoded:h})=>J8(r,c,h)).fold(()=>o("Invalid data URI"),t)}),hi=e=>Co(e,"blob:")?aU(e):Co(e,"data:")?lU(e):Promise.reject("Unknown URI format"),C5=e=>new Promise((t,o)=>{const r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=()=>{o(r.error?.message)},r.readAsDataURL(e)});let eL=0;const cU=e=>"blobid"+eL++,S5=(e,t,o)=>w5(e).bind(({data:r,type:c,base64Encoded:h})=>{if(t&&!h)return X.none();{const v=h?r:btoa(r);return o(v,c)}}),tL=(e,t,o)=>{const r=e.create(cU(),t,o);return e.add(r),r},C1=(e,t,o=!1)=>S5(t,o,(r,c)=>X.from(e.getByData(r,c)).orThunk(()=>J8(c,r).map(h=>tL(e,h,r)))),E5=(e,t)=>{const o=()=>Promise.reject("Invalid data URI");if(Co(t,"blob:")){const r=e.getByUri(t);return qe(r)?Promise.resolve(r):hi(t).then(c=>C5(c).then(h=>S5(h,!1,v=>X.some(tL(e,c,v))).getOrThunk(o)))}else return Co(t,"data:")?C1(e,t).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},uU=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,dU=e=>X.from(e.match(uU)).bind(t=>Xs(t,1)).map(t=>Co(t,"www.")?t.substring(4):t),wk=(e,t)=>{X.from(e.attr("src")).bind(dU).forall(o=>!Be(t,o))&&e.attr("sandbox","")},T5=(e,t)=>Co(e,`${t}/`),fU=e=>xn(e)?"iframe":T5(e,"image")?"img":T5(e,"video")?"video":T5(e,"audio")?"audio":"iframe",ac=({type:e,src:t,width:o,height:r}={},c,h)=>{const v=fU(e),T=new Hc(v,1);return T.attr(v==="audio"?{src:t}:{src:t,width:o,height:r}),(v==="audio"||v==="video")&&T.attr("controls",""),v==="iframe"&&c&&wk(T,h),T},mU=e=>qe(e.attr("data-mce-bogus")),lv=e=>e.attr("src")===ds.transparentSrc||qe(e.attr("data-mce-placeholder")),hU=(e,t)=>{const{blob_cache:o}=t;if(o){const r=c=>{const h=c.attr("src");lv(c)||mU(c)||fn(h)||C1(o,h,!0).each(v=>{c.attr("src",v.blobUri())})};e.addAttributeFilter("src",c=>Le(c,r))}},gU=(e,t)=>{const o=e.schema;e.addAttributeFilter("href",v=>{let T=v.length;const k=W=>W.split(" ").filter(Q=>Q.length>0).concat(["noopener"]).sort().join(" "),L=W=>{const G=W?ln.trim(W):"";return/\b(noopener)\b/g.test(G)?G:k(G)};if(!t.allow_unsafe_link_target)for(;T--;){const W=v[T];W.name==="a"&&W.attr("target")==="_blank"&&W.attr("rel",L(W.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",v=>{let T=v.length,k,L,W,G;for(;T--;)if(G=v[T],G.name==="a"&&G.firstChild&&!G.attr("href"))for(W=G.parent,k=G.lastChild;k&&W;)L=k.prev,W.insert(k,G),k=L}),t.fix_list_elements&&e.addNodeFilter("ul,ol",v=>{let T=v.length,k,L;for(;T--;)if(k=v[T],L=k.parent,L&&(L.name==="ul"||L.name==="ol"))if(k.prev&&k.prev.name==="li")k.prev.append(k);else{const W=new Hc("li",1);W.attr("style","list-style-type: none"),k.wrap(W)}});const r=o.getValidClasses();t.validate&&r&&e.addAttributeFilter("class",v=>{let T=v.length;for(;T--;){const k=v[T],L=k.attr("class")??"",W=ln.explode(L," ");let G="";for(let Q=0;Q<W.length;Q++){const ce=W[Q];let ke=!1,ge=r["*"];ge&&ge[ce]&&(ke=!0),ge=r[k.name],!ke&&ge&&ge[ce]&&(ke=!0),ke&&(G&&(G+=" "),G+=ce)}G.length||(G=null),k.attr("class",G)}}),hU(e,t);const c=t.sandbox_iframes??!1,h=Ma(t.sandbox_iframes_exclusions??[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",v=>Le(v,T=>{T.replace(ac({type:T.attr("type"),src:T.name==="object"?T.attr("data"):T.attr("src"),width:T.attr("width"),height:T.attr("height")},c,h))})),c&&e.addNodeFilter("iframe",v=>Le(v,T=>wk(T,h)))};const{entries:nL,setPrototypeOf:oL,isFrozen:pU,getPrototypeOf:bU,getOwnPropertyDescriptor:yU}=Object;let{freeze:Sm,seal:ep,create:sE}=Object,{apply:A5,construct:k5}=typeof Reflect<"u"&&Reflect;Sm||(Sm=function(t){return t}),ep||(ep=function(t){return t}),A5||(A5=function(t,o,r){return t.apply(o,r)}),k5||(k5=function(t,o){return new t(...o)});const D5=Zd(Array.prototype.forEach),rE=Zd(Array.prototype.lastIndexOf),sL=Zd(Array.prototype.pop),Hx=Zd(Array.prototype.push),vU=Zd(Array.prototype.splice),Ck=Zd(String.prototype.toLowerCase),_5=Zd(String.prototype.toString),rL=Zd(String.prototype.match),p0=Zd(String.prototype.replace),zx=Zd(String.prototype.indexOf),Sk=Zd(String.prototype.trim),ah=Zd(Object.prototype.hasOwnProperty),gu=Zd(RegExp.prototype.test),b0=Ek(TypeError);function Zd(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var o=arguments.length,r=new Array(o>1?o-1:0),c=1;c<o;c++)r[c-1]=arguments[c];return A5(e,t,r)}}function Ek(e){return function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return k5(e,o)}}function da(e,t){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ck;oL&&oL(e,null);let r=t.length;for(;r--;){let c=t[r];if(typeof c=="string"){const h=o(c);h!==c&&(pU(t)||(t[r]=h),c=h)}e[c]=!0}return e}function O5(e){for(let t=0;t<e.length;t++)ah(e,t)||(e[t]=null);return e}function y0(e){const t=sE(null);for(const[o,r]of nL(e))ah(e,o)&&(Array.isArray(r)?t[o]=O5(r):r&&typeof r=="object"&&r.constructor===Object?t[o]=y0(r):t[o]=r);return t}function Bw(e,t){for(;e!==null;){const r=yU(e,t);if(r){if(r.get)return Zd(r.get);if(typeof r.value=="function")return Zd(r.value)}e=bU(e)}function o(){return null}return o}const N5=Sm(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),cv=Sm(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Tk=Sm(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),aL=Sm(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ak=Sm(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),kk=Sm(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),R5=Sm(["#text"]),M5=Sm(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Dk=Sm(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),B5=Sm(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),tp=Sm(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),uv=ep(/\{\{[\w\W]*|[\w\W]*\}\}/gm),np=ep(/<%[\w\W]*|[\w\W]*%>/gm),xU=ep(/\$\{[\w\W]*/gm),wU=ep(/^data-[\-\w.\u00B7-\uFFFF]+$/),CU=ep(/^aria-[\-\w]+$/),iL=ep(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),SU=ep(/^(?:\w+script|data):/i),EU=ep(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),lL=ep(/^html$/i),TU=ep(/^[a-z][.\w]*(-[.\w]+)+$/i);var cL=Object.freeze({__proto__:null,ARIA_ATTR:CU,ATTR_WHITESPACE:EU,CUSTOM_ELEMENT:TU,DATA_ATTR:wU,DOCTYPE_NAME:lL,ERB_EXPR:np,IS_ALLOWED_URI:iL,IS_SCRIPT_OR_DATA:SU,MUSTACHE_EXPR:uv,TMPLIT_EXPR:xU});const aE={element:1,text:3,progressingInstruction:7,comment:8,document:9},AU=function(){return typeof window>"u"?null:window},kU=function(t,o){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const c="data-tt-policy-suffix";o&&o.hasAttribute(c)&&(r=o.getAttribute(c));const h="dompurify"+(r?"#"+r:"");try{return t.createPolicy(h,{createHTML(v){return v},createScriptURL(v){return v}})}catch{return console.warn("TrustedTypes policy "+h+" could not be created."),null}},_k=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Ok(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:AU();const t=zs=>Ok(zs);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==aE.document||!e.Element)return t.isSupported=!1,t;let{document:o}=e;const r=o,c=r.currentScript,{DocumentFragment:h,HTMLTemplateElement:v,Node:T,Element:k,NodeFilter:L,NamedNodeMap:W=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:G,DOMParser:Q,trustedTypes:ce}=e,ke=k.prototype,ge=Bw(ke,"cloneNode"),Te=Bw(ke,"remove"),ot=Bw(ke,"nextSibling"),rt=Bw(ke,"childNodes"),dt=Bw(ke,"parentNode");if(typeof v=="function"){const zs=o.createElement("template");zs.content&&zs.content.ownerDocument&&(o=zs.content.ownerDocument)}let Pt,en="";const{implementation:Nn,createNodeIterator:io,createDocumentFragment:Bt,getElementsByTagName:Ct}=o,{importNode:Ft}=r;let On=_k();t.isSupported=typeof nL=="function"&&typeof dt=="function"&&Nn&&Nn.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Bo,ERB_EXPR:Lo,TMPLIT_EXPR:Ws,DATA_ATTR:Pr,ARIA_ATTR:Ca,IS_SCRIPT_OR_DATA:ti,ATTR_WHITESPACE:Vc,CUSTOM_ELEMENT:Am}=cL;let{IS_ALLOWED_URI:$n}=cL,po=null;const _r=da({},[...N5,...cv,...Tk,...Ak,...R5]);let br=null;const vu=da({},[...M5,...Dk,...B5,...tp]);let Ht=Object.seal(sE(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),En=null,Xn=null,Bs=!0,Ss=!0,Zr=!1,km=!0,dp=!1,dg=!0,fh=!1,Av=!1,qd=!1,Yf=!1,ry=!1,_C=!1,M3=!0,_o=!1;const Ys="user-content-";let yl=!0,ja=!1,Xr={},ol=null;const Dm=da({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let xf=null;const fg=da({},["audio","video","img","source","image","track"]);let ay=null;const B3=da({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),L3="http://www.w3.org/1998/Math/MathML",xT="http://www.w3.org/2000/svg",L1="http://www.w3.org/1999/xhtml";let OC=L1,$M=!1,P3=null;const soe=da({},[L3,xT,L1],_5);let IM=da({},["mi","mo","mn","ms","mtext"]),HM=da({},["annotation-xml"]);const roe=da({},["title","style","font","a","script"]);let F3=null;const NC=["application/xhtml+xml","text/html"],OH="text/html";let yt=null,St=null;const zn=o.createElement("form"),Tn=function(At){return At instanceof RegExp||At instanceof Function},Io=function(){let At=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(St&&St===At)){if((!At||typeof At!="object")&&(At={}),At=y0(At),F3=NC.indexOf(At.PARSER_MEDIA_TYPE)===-1?OH:At.PARSER_MEDIA_TYPE,yt=F3==="application/xhtml+xml"?_5:Ck,po=ah(At,"ALLOWED_TAGS")?da({},At.ALLOWED_TAGS,yt):_r,br=ah(At,"ALLOWED_ATTR")?da({},At.ALLOWED_ATTR,yt):vu,P3=ah(At,"ALLOWED_NAMESPACES")?da({},At.ALLOWED_NAMESPACES,_5):soe,ay=ah(At,"ADD_URI_SAFE_ATTR")?da(y0(B3),At.ADD_URI_SAFE_ATTR,yt):B3,xf=ah(At,"ADD_DATA_URI_TAGS")?da(y0(fg),At.ADD_DATA_URI_TAGS,yt):fg,ol=ah(At,"FORBID_CONTENTS")?da({},At.FORBID_CONTENTS,yt):Dm,En=ah(At,"FORBID_TAGS")?da({},At.FORBID_TAGS,yt):y0({}),Xn=ah(At,"FORBID_ATTR")?da({},At.FORBID_ATTR,yt):y0({}),Xr=ah(At,"USE_PROFILES")?At.USE_PROFILES:!1,Bs=At.ALLOW_ARIA_ATTR!==!1,Ss=At.ALLOW_DATA_ATTR!==!1,Zr=At.ALLOW_UNKNOWN_PROTOCOLS||!1,km=At.ALLOW_SELF_CLOSE_IN_ATTR!==!1,dp=At.SAFE_FOR_TEMPLATES||!1,dg=At.SAFE_FOR_XML!==!1,fh=At.WHOLE_DOCUMENT||!1,Yf=At.RETURN_DOM||!1,ry=At.RETURN_DOM_FRAGMENT||!1,_C=At.RETURN_TRUSTED_TYPE||!1,qd=At.FORCE_BODY||!1,M3=At.SANITIZE_DOM!==!1,_o=At.SANITIZE_NAMED_PROPS||!1,yl=At.KEEP_CONTENT!==!1,ja=At.IN_PLACE||!1,$n=At.ALLOWED_URI_REGEXP||iL,OC=At.NAMESPACE||L1,IM=At.MATHML_TEXT_INTEGRATION_POINTS||IM,HM=At.HTML_INTEGRATION_POINTS||HM,Ht=At.CUSTOM_ELEMENT_HANDLING||{},At.CUSTOM_ELEMENT_HANDLING&&Tn(At.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ht.tagNameCheck=At.CUSTOM_ELEMENT_HANDLING.tagNameCheck),At.CUSTOM_ELEMENT_HANDLING&&Tn(At.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ht.attributeNameCheck=At.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),At.CUSTOM_ELEMENT_HANDLING&&typeof At.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ht.allowCustomizedBuiltInElements=At.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),dp&&(Ss=!1),ry&&(Yf=!0),Xr&&(po=da({},R5),br=[],Xr.html===!0&&(da(po,N5),da(br,M5)),Xr.svg===!0&&(da(po,cv),da(br,Dk),da(br,tp)),Xr.svgFilters===!0&&(da(po,Tk),da(br,Dk),da(br,tp)),Xr.mathMl===!0&&(da(po,Ak),da(br,B5),da(br,tp))),At.ADD_TAGS&&(po===_r&&(po=y0(po)),da(po,At.ADD_TAGS,yt)),At.ADD_ATTR&&(br===vu&&(br=y0(br)),da(br,At.ADD_ATTR,yt)),At.ADD_URI_SAFE_ATTR&&da(ay,At.ADD_URI_SAFE_ATTR,yt),At.FORBID_CONTENTS&&(ol===Dm&&(ol=y0(ol)),da(ol,At.FORBID_CONTENTS,yt)),yl&&(po["#text"]=!0),fh&&da(po,["html","head","body"]),po.table&&(da(po,["tbody"]),delete En.tbody),At.TRUSTED_TYPES_POLICY){if(typeof At.TRUSTED_TYPES_POLICY.createHTML!="function")throw b0('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof At.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw b0('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Pt=At.TRUSTED_TYPES_POLICY,en=Pt.createHTML("")}else Pt===void 0&&(Pt=kU(ce,c)),Pt!==null&&typeof en=="string"&&(en=Pt.createHTML(""));Sm&&Sm(At),St=At}},wr=da({},[...cv,...Tk,...aL]),zl=da({},[...Ak,...kk]),iy=function(At){let yo=dt(At);(!yo||!yo.tagName)&&(yo={namespaceURI:OC,tagName:"template"});const _s=Ck(At.tagName),Uc=Ck(yo.tagName);return P3[At.namespaceURI]?At.namespaceURI===xT?yo.namespaceURI===L1?_s==="svg":yo.namespaceURI===L3?_s==="svg"&&(Uc==="annotation-xml"||IM[Uc]):!!wr[_s]:At.namespaceURI===L3?yo.namespaceURI===L1?_s==="math":yo.namespaceURI===xT?_s==="math"&&HM[Uc]:!!zl[_s]:At.namespaceURI===L1?yo.namespaceURI===xT&&!HM[Uc]||yo.namespaceURI===L3&&!IM[Uc]?!1:!zl[_s]&&(roe[_s]||!wr[_s]):!!(F3==="application/xhtml+xml"&&P3[At.namespaceURI]):!1},P1=function(At){Hx(t.removed,{element:At});try{dt(At).removeChild(At)}catch{Te(At)}},$3=function(At,yo){try{Hx(t.removed,{attribute:yo.getAttributeNode(At),from:yo})}catch{Hx(t.removed,{attribute:null,from:yo})}if(yo.removeAttribute(At),At==="is")if(Yf||ry)try{P1(yo)}catch{}else try{yo.setAttribute(At,"")}catch{}},aoe=function(At){let yo=null,_s=null;if(qd)At="<remove></remove>"+At;else{const wf=rL(At,/^[\r\n\t ]+/);_s=wf&&wf[0]}F3==="application/xhtml+xml"&&OC===L1&&(At='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+At+"</body></html>");const Uc=Pt?Pt.createHTML(At):At;if(OC===L1)try{yo=new Q().parseFromString(Uc,F3)}catch{}if(!yo||!yo.documentElement){yo=Nn.createDocument(OC,"template",null);try{yo.documentElement.innerHTML=$M?en:Uc}catch{}}const mh=yo.body||yo.documentElement;return At&&_s&&mh.insertBefore(o.createTextNode(_s),mh.childNodes[0]||null),OC===L1?Ct.call(yo,fh?"html":"body")[0]:fh?yo.documentElement:mh},ioe=function(At){return io.call(At.ownerDocument||At,At,L.SHOW_ELEMENT|L.SHOW_COMMENT|L.SHOW_TEXT|L.SHOW_PROCESSING_INSTRUCTION|L.SHOW_CDATA_SECTION,null)},IJ=function(At){return At instanceof G&&(typeof At.nodeName!="string"||typeof At.textContent!="string"||typeof At.removeChild!="function"||!(At.attributes instanceof W)||typeof At.removeAttribute!="function"||typeof At.setAttribute!="function"||typeof At.namespaceURI!="string"||typeof At.insertBefore!="function"||typeof At.hasChildNodes!="function")},loe=function(At){return typeof T=="function"&&At instanceof T};function p2(zs,At,yo){D5(zs,_s=>{_s.call(t,At,yo,St)})}const coe=function(At){let yo=null;if(p2(On.beforeSanitizeElements,At,null),IJ(At))return P1(At),!0;const _s=yt(At.nodeName);if(p2(On.uponSanitizeElement,At,{tagName:_s,allowedTags:po}),dg&&At.hasChildNodes()&&!loe(At.firstElementChild)&&gu(/<[/\w!]/g,At.innerHTML)&&gu(/<[/\w!]/g,At.textContent)||At.nodeType===aE.progressingInstruction||dg&&At.nodeType===aE.comment&&gu(/<[/\w]/g,At.data))return P1(At),!0;if(!po[_s]||En[_s]){if(!En[_s]&&doe(_s)&&(Ht.tagNameCheck instanceof RegExp&&gu(Ht.tagNameCheck,_s)||Ht.tagNameCheck instanceof Function&&Ht.tagNameCheck(_s)))return!1;if(yl&&!ol[_s]){const Uc=dt(At)||At.parentNode,mh=rt(At)||At.childNodes;if(mh&&Uc){const wf=mh.length;for(let fp=wf-1;fp>=0;--fp){const b2=ge(mh[fp],!0);b2.__removalCount=(At.__removalCount||0)+1,Uc.insertBefore(b2,ot(At))}}}return P1(At),!0}return At instanceof k&&!iy(At)||(_s==="noscript"||_s==="noembed"||_s==="noframes")&&gu(/<\/no(script|embed|frames)/i,At.innerHTML)?(P1(At),!0):(dp&&At.nodeType===aE.text&&(yo=At.textContent,D5([Bo,Lo,Ws],Uc=>{yo=p0(yo,Uc," ")}),At.textContent!==yo&&(Hx(t.removed,{element:At.cloneNode()}),At.textContent=yo)),p2(On.afterSanitizeElements,At,null),!1)},uoe=function(At,yo,_s){if(M3&&(yo==="id"||yo==="name")&&(_s in o||_s in zn))return!1;if(!(Ss&&!Xn[yo]&&gu(Pr,yo))){if(!(Bs&&gu(Ca,yo))){if(!br[yo]||Xn[yo]){if(!(doe(At)&&(Ht.tagNameCheck instanceof RegExp&&gu(Ht.tagNameCheck,At)||Ht.tagNameCheck instanceof Function&&Ht.tagNameCheck(At))&&(Ht.attributeNameCheck instanceof RegExp&&gu(Ht.attributeNameCheck,yo)||Ht.attributeNameCheck instanceof Function&&Ht.attributeNameCheck(yo))||yo==="is"&&Ht.allowCustomizedBuiltInElements&&(Ht.tagNameCheck instanceof RegExp&&gu(Ht.tagNameCheck,_s)||Ht.tagNameCheck instanceof Function&&Ht.tagNameCheck(_s))))return!1}else if(!ay[yo]){if(!gu($n,p0(_s,Vc,""))){if(!((yo==="src"||yo==="xlink:href"||yo==="href")&&At!=="script"&&zx(_s,"data:")===0&&xf[At])){if(!(Zr&&!gu(ti,p0(_s,Vc,"")))){if(_s)return!1}}}}}}return!0},doe=function(At){return At!=="annotation-xml"&&rL(At,Am)},foe=function(At){p2(On.beforeSanitizeAttributes,At,null);const{attributes:yo}=At;if(!yo||IJ(At))return;const _s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:br,forceKeepAttr:void 0};let Uc=yo.length;for(;Uc--;){const mh=yo[Uc],{name:wf,namespaceURI:fp,value:b2}=mh,zM=yt(wf),HJ=b2;let hh=wf==="value"?HJ:Sk(HJ);if(_s.attrName=zM,_s.attrValue=hh,_s.keepAttr=!0,_s.forceKeepAttr=void 0,p2(On.uponSanitizeAttribute,At,_s),hh=_s.attrValue,_o&&(zM==="id"||zM==="name")&&($3(wf,At),hh=Ys+hh),dg&&gu(/((--!?|])>)|<\/(style|title)/i,hh)){$3(wf,At);continue}if(_s.forceKeepAttr)continue;if(!_s.keepAttr){$3(wf,At);continue}if(!km&&gu(/\/>/i,hh)){$3(wf,At);continue}dp&&D5([Bo,Lo,Ws],hoe=>{hh=p0(hh,hoe," ")});const moe=yt(At.nodeName);if(!uoe(moe,zM,hh)){$3(wf,At);continue}if(Pt&&typeof ce=="object"&&typeof ce.getAttributeType=="function"&&!fp)switch(ce.getAttributeType(moe,zM)){case"TrustedHTML":{hh=Pt.createHTML(hh);break}case"TrustedScriptURL":{hh=Pt.createScriptURL(hh);break}}if(hh!==HJ)try{fp?At.setAttributeNS(fp,wf,hh):At.setAttribute(wf,hh),IJ(At)?P1(At):sL(t.removed)}catch{$3(wf,At)}}p2(On.afterSanitizeAttributes,At,null)},Oue=function zs(At){let yo=null;const _s=ioe(At);for(p2(On.beforeSanitizeShadowDOM,At,null);yo=_s.nextNode();)p2(On.uponSanitizeShadowNode,yo,null),coe(yo),foe(yo),yo.content instanceof h&&zs(yo.content);p2(On.afterSanitizeShadowDOM,At,null)};return t.sanitize=function(zs){let At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},yo=null,_s=null,Uc=null,mh=null;if($M=!zs,$M&&(zs="<!-->"),typeof zs!="string"&&!loe(zs))if(typeof zs.toString=="function"){if(zs=zs.toString(),typeof zs!="string")throw b0("dirty is not a string, aborting")}else throw b0("toString is not a function");if(!t.isSupported)return zs;if(Av||Io(At),t.removed=[],typeof zs=="string"&&(ja=!1),ja){if(zs.nodeName){const b2=yt(zs.nodeName);if(!po[b2]||En[b2])throw b0("root node is forbidden and cannot be sanitized in-place")}}else if(zs instanceof T)yo=aoe("<!---->"),_s=yo.ownerDocument.importNode(zs,!0),_s.nodeType===aE.element&&_s.nodeName==="BODY"||_s.nodeName==="HTML"?yo=_s:yo.appendChild(_s);else{if(!Yf&&!dp&&!fh&&zs.indexOf("<")===-1)return Pt&&_C?Pt.createHTML(zs):zs;if(yo=aoe(zs),!yo)return Yf?null:_C?en:""}yo&&qd&&P1(yo.firstChild);const wf=ioe(ja?zs:yo);for(;Uc=wf.nextNode();)coe(Uc),foe(Uc),Uc.content instanceof h&&Oue(Uc.content);if(ja)return zs;if(Yf){if(ry)for(mh=Bt.call(yo.ownerDocument);yo.firstChild;)mh.appendChild(yo.firstChild);else mh=yo;return(br.shadowroot||br.shadowrootmode)&&(mh=Ft.call(r,mh,!0)),mh}let fp=fh?yo.outerHTML:yo.innerHTML;return fh&&po["!doctype"]&&yo.ownerDocument&&yo.ownerDocument.doctype&&yo.ownerDocument.doctype.name&&gu(lL,yo.ownerDocument.doctype.name)&&(fp="<!DOCTYPE "+yo.ownerDocument.doctype.name+`>
`+fp),dp&&D5([Bo,Lo,Ws],b2=>{fp=p0(fp,b2," ")}),Pt&&_C?Pt.createHTML(fp):fp},t.setConfig=function(){let zs=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Io(zs),Av=!0},t.clearConfig=function(){St=null,Av=!1},t.isValidAttribute=function(zs,At,yo){St||Io({});const _s=yt(zs),Uc=yt(At);return uoe(_s,Uc,yo)},t.addHook=function(zs,At){typeof At=="function"&&Hx(On[zs],At)},t.removeHook=function(zs,At){if(At!==void 0){const yo=rE(On[zs],At);return yo===-1?void 0:vU(On[zs],yo,1)[0]}return sL(On[zs])},t.removeHooks=function(zs){On[zs]=[]},t.removeAllHooks=function(){On=_k()},t}var Nk=Ok();const uL=ln.each,DU=ln.trim,dL=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],fL={ftp:21,http:80,https:443,mailto:25},L5=["img","video"],mL=(e,t)=>qe(e)?!e:qe(t)?!Be(L5,t):!0,hL=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},Rk=(e,t,o)=>{const r=hL(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?mL(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class op{static parseDataUri(t){let o;const r=decodeURIComponent(t).split(","),c=/data:([^;]+)/.exec(r[0]);return c&&(o=c[1]),{type:o,data:r[1]}}static isDomSafe(t,o,r={}){if(r.allow_script_urls)return!0;{const c=td.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!Rk(r,c,o)}}static getDocumentBaseUrl(t){let o;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?o=t.href??"":o=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(o)&&(o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(o)||(o+="/")),o}source;protocol;authority;userInfo;user;password;host;port;relative;path="";directory="";file;query;anchor;settings;constructor(t,o={}){t=DU(t),this.settings=o;const r=o.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){c.source=t;return}const h=t.indexOf("//")===0;if(t.indexOf("/")===0&&!h&&(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const T=r?r.path:new op(document.location.href).directory;if(r?.protocol==="")t="//mce_host"+c.toAbsPath(T,t);else{const k=/([^#?]*)([#?]?.*)/.exec(t);k&&(t=(r&&r.protocol||"http")+"://mce_host"+c.toAbsPath(T,k[1])+k[2])}}t=t.replace(/@@/g,"(mce_at)");const v=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);v&&uL(dL,(T,k)=>{let L=v[k];L&&(L=L.replace(/\(mce_at\)/g,"@@")),c[T]=L}),r&&(c.protocol||(c.protocol=r.protocol),c.userInfo||(c.userInfo=r.userInfo),!c.port&&c.host==="mce_host"&&(c.port=r.port),(!c.host||c.host==="mce_host")&&(c.host=r.host),c.source=""),h&&(c.protocol="")}setPath(t){const o=/^(.*?)\/?(\w+)?$/.exec(t);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const o=new op(t,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),c=o.getURI();if(r===c||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===c)return r;let h=this.toRelPath(this.path,o.path);return o.query&&(h+="?"+o.query),o.anchor&&(h+="#"+o.anchor),h}toAbsolute(t,o){const r=new op(t,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const o=this.protocol?fL[this.protocol]:null;if(o&&(this.port||o)==(t.port||o))return!0}return!1}toRelPath(t,o){let r=0,c="",h,v;const T=t.substring(0,t.lastIndexOf("/")).split("/"),k=o.split("/");if(T.length>=k.length){for(h=0,v=T.length;h<v;h++)if(h>=k.length||T[h]!==k[h]){r=h+1;break}}if(T.length<k.length){for(h=0,v=k.length;h<v;h++)if(h>=T.length||T[h]!==k[h]){r=h+1;break}}if(r===1)return o;for(h=0,v=T.length-(r-1);h<v;h++)c+="../";for(h=r-1,v=k.length;h<v;h++)h!==r-1?c+="/"+k[h]:c+=k[h];return c}toAbsPath(t,o){let r=0;const c=/\/$/.test(o)?"/":"",h=t.split("/"),v=o.split("/"),T=[];uL(h,G=>{G&&T.push(G)});const k=[];for(let G=v.length-1;G>=0;G--)if(!(v[G].length===0||v[G]===".")){if(v[G]===".."){r++;continue}if(r>0){r--;continue}k.push(v[G])}const L=T.length-r;let W;return L<=0?W=zo(k).join("/"):W=T.slice(0,L).join("/")+"/"+zo(k).join("/"),W.indexOf("/")!==0&&(W="/"+W),c&&W.lastIndexOf("/")!==W.length-1&&(W+=c),W}getURI(t=!1){let o;return(!this.source||t)&&(o="",t||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const _U=ln.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),sp="data-mce-type";let ng=0;const iE=(e,t,o,r,c)=>{const h=t.validate,v=o.getSpecialElements();e.nodeType===xl&&(!t.allow_conditional_comments&&/^\[if/i.test(e.nodeValue??"")&&(e.nodeValue=" "+e.nodeValue),t.sanitize&&t.allow_html_in_comments&&J(e.nodeValue)&&(e.nodeValue=tU(e.nodeValue)));const T=c?.tagName??e.nodeName.toLowerCase();if(r!=="html"&&o.isValid(r)){qe(c)&&(c.allowedTags[T]=!0);return}if(e.nodeType!==Ch||T==="body")return;const k=De.fromDom(e),L=Gr(k,sp),W=yr(k,"data-mce-bogus");if(!L&&J(W)){W==="all"?Cs(k):Gl(k);return}const G=o.getElementRule(T);if(h&&!G){Qn(v,T)?Cs(k):Gl(k);return}else qe(c)&&(c.allowedTags[T]=!0);if(h&&G&&!L){if(Le(G.attributesForced??[],Q=>{Or(k,Q.name,Q.value==="{$uid}"?`mce_${ng++}`:Q.value)}),Le(G.attributesDefault??[],Q=>{Gr(k,Q.name)||Or(k,Q.name,Q.value==="{$uid}"?`mce_${ng++}`:Q.value)}),G.attributesRequired&&!Ye(G.attributesRequired,Q=>Gr(k,Q))){Gl(k);return}if(G.removeEmptyAttrs&&tf(k)){Gl(k);return}G.outputName&&G.outputName!==T&&qa(k,G.outputName)}},gL=(e,t,o,r,c)=>{const h=e.tagName.toLowerCase(),{attrName:v,attrValue:T}=c;c.keepAttr=lE(t,o,r,h,v,T),c.keepAttr?(c.allowedAttributes[v]=!0,F5(v,o,e.nodeName)&&(c.attrValue=v),t.allow_svg_data_urls&&Co(T,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):P5(e,v)&&(c.forceKeepAttr=!0)},lE=(e,t,o,r,c,h)=>o!=="html"&&!Rg(r)?!0:!(c in _U&&Rk(e,h,r))&&(!e.validate||t.isValid(r,c)||Co(c,"data-")||Co(c,"aria-")),P5=(e,t)=>e.hasAttribute(sp)&&(t==="id"||t==="class"||t==="style"),F5=(e,t,o)=>e in t.getBoolAttrs()&&!Qn(t.getCustomElements(),o.toLowerCase()),pL=(e,t,o,r)=>{const{attributes:c}=e;for(let h=c.length-1;h>=0;h--){const v=c[h],T=v.name,k=v.value;!lE(t,o,r,e.tagName.toLowerCase(),T,k)&&!P5(e,T)?e.removeAttribute(T):F5(T,o,e.nodeName)&&e.setAttribute(T,T)}},bL=(e,t,o)=>{const r=Nk();return r.addHook("uponSanitizeElement",(c,h)=>{iE(c,e,t,o.track(c),h)}),r.addHook("uponSanitizeAttribute",(c,h)=>{gL(c,e,t,o.current(),h)}),r},yL=(e,t)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body","html"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=t,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},vL=e=>{const t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(r=>`xlink:${r}`),o={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t};Nk().sanitize(e,o)},Mk=(e,t)=>{const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},r=Nk(),c=t.allow_mathml_annotation_encodings,h=Ke(c)&&c.length>0,v=k=>{const L=k.getAttribute("encoding");return h&&J(L)&&Be(c,L)},T=(k,L)=>h&&L==="semantics"?X.some(!0):L==="annotation"?X.some(Sn(k)&&v(k)):Ke(t.extended_mathml_elements)&&t.extended_mathml_elements.includes(L)?X.from(!0):X.none();r.addHook("uponSanitizeElement",(k,L)=>{const W=L.tagName??k.nodeName.toLowerCase();T(k,W).each(Q=>{L.allowedTags[W]=Q,!Q&&t.sanitize&&Sn(k)&&k.remove()})}),r.addHook("uponSanitizeAttribute",(k,L)=>{Ke(t.extended_mathml_attributes)&&t.extended_mathml_attributes.includes(L.attrName)&&(L.forceKeepAttr=!0)}),r.sanitize(e,o)},$5=e=>t=>{const o=W0(t);if(o==="svg")vL(t);else if(o==="math")Mk(t,e);else throw new Error("Not a namespace element")},OU=(e,t)=>{const o=$v();if(e.sanitize){const r=bL(e,t,o);return{sanitizeHtmlElement:(h,v)=>{r.sanitize(h,yL(e,v)),r.removed=[],o.reset()},sanitizeNamespaceElement:$5(e)}}else return{sanitizeHtmlElement:(h,v)=>{const T=document.createNodeIterator(h,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let k;for(;k=T.nextNode();){const L=o.track(k);iE(k,e,t,L),Sn(k)&&pL(k,e,t,L)}o.reset()},sanitizeNamespaceElement:Lt}},xL=["script","style","template","param","meta","title","link"],wL=ln.makeMap,CL=ln.extend,I5=(e,t,o,r,c)=>{const h=e.name,v=h in o&&h!=="title"&&h!=="textarea"&&h!=="noscript",T=t.childNodes;for(let k=0,L=T.length;k<L;k++){const W=T[k],G=new Hc(W.nodeName.toLowerCase(),W.nodeType);if(Sn(W)){const Q=W.attributes;for(let ce=0,ke=Q.length;ce<ke;ce++){const ge=Q[ce];G.attr(ge.name,ge.value)}Rg(G.name)&&(r(W),G.value=W.innerHTML)}else dn(W)?(G.value=W.data,v&&(G.raw=!0)):ns(W)?G.value=c?nU(W.data):W.data:(Dp(W)||Fi(W))&&(G.value=W.data);if(Rh(W)){const Q=Hc.create("#text");Q.value=W.innerHTML,Q.raw=!0,G.append(Q)}else Rg(G.name)||I5(G,W,o,r,c);e.append(G)}},NU=(e,t,o)=>{const r=[];for(let c=e,h=c;c;h=c,c=c.walk()){const v=c;Le(t,T=>T(v)),fn(v.parent)&&v!==e?c=h:r.push(v)}for(let c=r.length-1;c>=0;c--){const h=r[c];Le(o,v=>v(h))}},RU=(e,t,o,r)=>{const c=o.validate,h=t.getNonEmptyElements(),v=t.getWhitespaceElements(),T=CL(wL(xL),t.getBlockElements()),k=Ay(t),L=/[ \t\r\n]+/g,W=/^[ \t\r\n]+/,G=/[ \t\r\n]+$/,Q=rt=>{let dt=rt.parent;for(;qe(dt);){if(dt.name in v)return!0;dt=dt.parent}return!1},ce=rt=>{let dt=rt;for(;qe(dt);){if(dt.name in k)return nE(t,h,v,dt);dt=dt.parent}return!1},ke=rt=>rt.name in T||cu(t,rt)||Rg(rt.name)&&rt.parent===e,ge=(rt,dt)=>{const Pt=dt?rt.prev:rt.next;return qe(Pt)||fn(rt.parent)?!1:ke(rt.parent)&&(rt.parent!==e||r.isRootContent===!0)};return[rt=>{if(rt.type===3&&!Q(rt)){let dt=rt.value??"";dt=dt.replace(L," "),(g0(rt.prev,ke)||ge(rt,!0))&&(dt=dt.replace(W,"")),dt.length===0||dt===" "&&rt.prev&&rt.prev.type===xl&&rt.next&&rt.next.type===xl?rt.remove():rt.value=dt}},rt=>{if(rt.type===1){const dt=t.getElementRule(rt.name);if(c&&dt){const Pt=nE(t,h,v,rt);dt.paddInEmptyBlock&&Pt&&ce(rt)?iv(o,r,ke,rt):dt.removeEmpty&&Pt?ke(rt)?rt.remove():rt.unwrap():dt.paddEmpty&&(Pt||Rw(rt))&&iv(o,r,ke,rt)}}else if(rt.type===3&&!Q(rt)){let dt=rt.value??"";(rt.next&&ke(rt.next)||ge(rt,!1))&&(dt=dt.replace(G,"")),dt.length===0?rt.remove():rt.value=dt}}]},H5=(e,t)=>{const o=t.forced_root_block??e.forced_root_block;return o===!1?"":o===!0?"p":o},SL=' xmlns="http://www.w3.org/1999/xhtml"',Lw=(e={},t=Ls())=>{const o=X8(),r=X8(),c={validate:!0,root_name:"body",sanitize:!0,allow_html_in_comments:!1,...e},h=new DOMParser,v=OU(c,t),T=(dt,Pt,en="html",Nn=!1)=>{const io=en==="xhtml",Bt=io?"application/xhtml+xml":"text/html",Ct=Qn(t.getSpecialElements(),Pt.toLowerCase()),Ft=Ct?`<${Pt}>${dt}</${Pt}>`:dt,On=()=>/^[\s]*<head/i.test(dt)||/^[\s]*<html/i.test(dt)||/^[\s]*<!DOCTYPE/i.test(dt)?`<html${io?SL:""}>${Ft}</html>`:io?`<html${SL}><head></head><body>${Ft}</body></html>`:`<body>${Ft}</body>`,Bo=h.parseFromString(On(),Bt),Lo=Nn?Bo.documentElement:Bo.body;return v.sanitizeHtmlElement(Lo,Bt),Ct?Lo.firstChild:Lo},k=o.addFilter,L=o.getFilters,W=o.removeFilter,G=r.addFilter,Q=r.getFilters,ce=r.removeFilter,ke=(dt,Pt)=>{oE(t,dt)&&Pt.push(dt)},ge=(dt,Pt)=>{const en=J(Pt.attr(sp)),Nn=Pt.type===1&&!Qn(dt,Pt.name)&&!cu(t,Pt)&&!Rg(Pt.name);return Pt.type===3||Nn&&!en},Te=(dt,Pt)=>{const en=CL(wL(xL),t.getBlockElements()),Nn=/^[ \t\r\n]+/,io=/[ \t\r\n]+$/;let Bt=dt.firstChild,Ct=null;const Ft=On=>{On&&(Bt=On.firstChild,Bt&&Bt.type===3&&(Bt.value=Bt.value?.replace(Nn,"")),Bt=On.lastChild,Bt&&Bt.type===3&&(Bt.value=Bt.value?.replace(io,"")))};if(t.isValidChild(dt.name,Pt.toLowerCase())){for(;Bt;){const On=Bt.next;ge(en,Bt)?(Ct||(Ct=new Hc(Pt,1),Ct.attr(c.forced_root_block_attrs),dt.insert(Ct,Bt)),Ct.append(Bt)):(Ft(Ct),Ct=null),Bt=On}Ft(Ct)}},rt={schema:t,addAttributeFilter:G,getAttributeFilters:Q,removeAttributeFilter:ce,addNodeFilter:k,getNodeFilters:L,removeNodeFilter:W,parse:(dt,Pt={})=>{const en=c.validate,Nn=(Pt.context??c.root_name)==="#document",io=Pt.context??(Nn?"html":c.root_name),Bt=T(dt,io,Pt.format,Nn);ml(t,Bt);const Ct=new Hc(io,11);I5(Ct,Bt,t.getSpecialElements(),v.sanitizeNamespaceElement,c.sanitize&&c.allow_html_in_comments),Bt.innerHTML="";const[Ft,On]=RU(Ct,t,c,Pt),Bo=[],Lo=en?ti=>ke(ti,Bo):Lt,Ws={nodes:{},attributes:{}},Pr=ti=>y5(L(),Q(),ti,Ws);NU(Ct,[Ft,Pr],[On,Lo]),Bo.reverse(),en&&Bo.length>0&&(Pt.context?Pt.invalid=!0:K8(Bo,t,Ct,Pr));const Ca=H5(c,Pt);return Ca&&(Ct.name==="body"||Pt.isRootContent)&&Te(Ct,Ca),Pt.invalid||q8(Ws,Pt),Ct}};return gU(rt,c),rU(rt,c,t),rt},Bk=e=>e instanceof Hc,MU=e=>Bk(e)?nv({validate:!1}).serialize(e):e,EL=(e,t,o)=>{const r=MU(e),c=t(r);if(c.isDefaultPrevented())return c;if(Bk(e))if(c.content!==r){const h=Lw({validate:!1,forced_root_block:!1,...o}).parse(c.content,{context:e.name});return{...c,content:h}}else return{...c,content:e};else return c},TL=e=>({sanitize:lw(e),sandbox_iframes:Qy(e),sandbox_iframes_exclusions:a0(e)}),AL=(e,t)=>{if(t.no_events)return Ie.value(t);{const o=Gy(e,t);return o.isDefaultPrevented()?Ie.error(VT(e,{content:"",...o}).content):Ie.value(o)}},cE=(e,t,o)=>o.no_events?t:EL(t,c=>VT(e,{...o,content:c}),TL(e)).content,uE=(e,t)=>{if(t.no_events)return Ie.value(t);{const o=EL(t.content,r=>yD(e,{...t,content:r}),TL(e));return o.isDefaultPrevented()?(jT(e,o),Ie.error(void 0)):Ie.value(o)}},z5=(e,t,o)=>{o.no_events||jT(e,{...o,content:t})},BU="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),LU=["content_css_cors"],PU="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),j5=[{name:"export",replacedWith:"Export to PDF"}],kL=(e,t)=>{const o=xt(t,r=>Qn(e,r));return Es(o)},FU=e=>{const t=kL(e,BU),o=e.forced_root_block;return(o===!1||o==="")&&t.push("forced_root_block (false only)"),Es(t)},V5=e=>kL(e,LU),DL=(e,t)=>{const o=ln.makeMap(e.plugins," "),c=xt(t,h=>Qn(o,h));return Es(c)},$U=e=>DL(e,PU),IU=e=>DL(e,j5.map(t=>t.name)),HU=(e,t)=>{const o=FU(e),r=$U(t),c=r.length>0,h=o.length>0,v=t.theme==="mobile";if(c||h||v){const k=v?`

Themes:
- mobile`:"",L=c?`

Plugins:
- ${r.join(`
- `)}`:"",W=h?`

Options:
- ${o.join(`
- `)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 8.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/8/migration-from-7x/ for more information."+k+L+W)}},zU=e=>sn(j5,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),jU=(e,t)=>{const o=V5(e),r=IU(t),c=r.length>0,h=o.length>0;if(c||h){const T=c?`

Plugins:
- ${r.map(zU).join(`
- `)}`:"",k=h?`

Options:
- ${o.join(`
- `)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+T+k)}},VU=(e,t)=>{HU(e,t),jU(e,t)},Lk={fire:'The "fire" event api has been deprecated and will be removed in TinyMCE 9. Use "dispatch" instead.',selectionSetContent:'The "editor.selection.setContent" method has been deprecated and will be removed in TinyMCE 9. Use "editor.insertContent" instead.'},dE=e=>{console.warn(Lk[e],new Error().stack)},_L=e=>e.dom.length===0?(Cs(e),X.none()):X.some(e),UU=(e,t)=>e.filter(o=>Tw.isBookmarkNode(o.dom)).bind(t?Za:qu),Pk=(e,t,o,r,c)=>{const h=e.dom,v=t.dom,T=r?h.length:v.length;r?(dk(h,v,c,!1,!r),o.setStart(v,T)):(dk(v,h,c,!1,!r),o.setEnd(v,T))},ZU=(e,t,o)=>{Wi(e).each(r=>{const c=e.dom;t&&qS(r,_t(c,0),o)?ck(c,0,o):!t&&md(r,_t(c,c.length),o)&&uk(c,c.length,o)})},OL=(e,t,o,r,c)=>{e.bind(h=>((r?uk:ck)(h.dom,r?h.dom.length:0,c),t.filter(ws).map(T=>Pk(h,T,o,r,c)))).orThunk(()=>UU(t,r).or(t).filter(ws).map(v=>ZU(v,r,c)))},WU=(e,t,o)=>{const r=X.from(t.firstChild).map(De.fromDom),c=X.from(t.lastChild).map(De.fromDom);e.deleteContents(),e.insertNode(t);const h=r.bind(qu).filter(ws).bind(_L),v=c.bind(Za).filter(ws).bind(_L);OL(h,r,e,!0,o),OL(v,c,e,!1,o),e.collapse(!1)},qU=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),GU=(e,t)=>{if(t.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),c=r?{context:r.nodeName.toLowerCase()}:{},h=e.parser.parse(t.content,{forced_root_block:!1,...c,...t});return nv({validate:!1},e.schema).serialize(h)}else return t.content},Fk=(e,t,o={})=>{const r=qU(o,t);uE(e,r).each(c=>{const h=GU(e,c),v=e.selection.getRng();WU(v,v.createContextualFragment(h),e.schema),e.selection.setRng(v),sh(e,v),z5(e,h,c)})},KU=(e,t,o={})=>{dE("selectionSetContent"),Fk(e,t,o)},YU=e=>qe(e.firstChild)&&e.firstChild===e.lastChild,XU=e=>e.name==="br"||e.value===qr,QU=(e,t)=>e.getBlockElements()[t.name]&&YU(t)&&XU(t.firstChild),JU=(e,t)=>{const o=e.getNonEmptyElements();return qe(t)&&(t.isEmpty(o)||QU(e,t))},Mne=(e,t)=>{let o=t.firstChild,r=t.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),JU(e,r)&&(r=r?.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},rp=e=>{const t=e.firstChild,o=e.lastChild;return t&&t.nodeName==="META"&&t.parentNode?.removeChild(t),o&&o.id==="mce_marker"&&o.parentNode?.removeChild(o),e},NL=(e,t,o)=>{const r=t.serialize(o),c=e.createFragment(r);return rp(c)},eZ=e=>xt(e?.childNodes??[],t=>t.nodeName==="LI"),RL=e=>e.data===qr||la(e),tZ=e=>qe(e?.firstChild)&&e.firstChild===e.lastChild&&RL(e.firstChild),nZ=e=>!e.firstChild||tZ(e),Bne=e=>e.length>0&&nZ(e[e.length-1])?e.slice(0,-1):e,pu=(e,t)=>{const o=e.getParent(t,e.isBlock);return o&&o.nodeName==="LI"?o:null},oZ=(e,t)=>!!pu(e,t),U5=(e,t)=>{const o=t.cloneRange(),r=t.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},ML=(e,t)=>{const o=_t.before(e),c=Xh(t).next(o);return c?c.toRange():null},fE=(e,t)=>{const o=_t.after(e),c=Xh(t).prev(o);return c?c.toRange():null},sZ=(e,t,o,r)=>{const c=U5(e,r),h=e.parentNode;return h&&(h.insertBefore(c[0],e),ln.each(t,v=>{h.insertBefore(v,e)}),h.insertBefore(c[1],e),h.removeChild(e)),fE(t[t.length-1],o)},rZ=(e,t,o)=>{const r=e.parentNode;return r&&ln.each(t,c=>{r.insertBefore(c,e)}),ML(e,o)},aZ=(e,t,o,r)=>(r.insertAfter(t.reverse(),e),fE(t[0],o)),iZ=(e,t,o,r)=>{const c=NL(t,e,r),h=pu(t,o.startContainer),v=Bne(eZ(c.firstChild)),T=1,k=2,L=t.getRoot(),W=G=>{const Q=_t.fromRangeStart(o),ce=Xh(t.getRoot()),ge=(G===T?ce.prev(Q):ce.next(Q))?.getNode();return ge?pu(t,ge)!==h:!0};return h?W(T)?rZ(h,v,L):W(k)?aZ(h,v,L,t):sZ(h,v,L,o):null},lZ=["pre"],BL=(e,t,o,r)=>{const c=t.firstChild,h=t.lastChild,v=h.attr("data-mce-type")==="bookmark"?h.prev:h,T=c===v,k=Be(lZ,c.name);if(T&&k){const L=c.attr("contenteditable")!=="false",W=e.getParent(o,e.isBlock)?.nodeName.toLowerCase()===c.name,G=X.from(m0(r,o)).forall(Bu);return L&&W&&G}else return!1},Z5=Np,LL=(e,t,o)=>{if(qe(o)){const r=e.getParent(t.endContainer,Z5);return o===r&&t_(De.fromDom(o),t)}else return!1},PL=(e,t)=>{if(e.isBlock(t)&&e.isEditable(t)){const o=t.childNodes;return o.length===1&&la(o[0])||o.length===0}else return!1},cZ=(e,t,o)=>{o.getAttribute("data-mce-bogus")==="all"?o.parentNode?.insertBefore(e.dom.createFragment(t),o):PL(e.dom,o)?e.dom.setHTML(o,t):Fk(e,t,{no_events:!0})},uZ=(e,t,o)=>{X.from(e.getParent(t,"td,th")).map(De.fromDom).each(r=>Rr(r,o))},dZ=(e,t)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(t){const c=e.getBody(),h=h0(e),v="*[data-mce-fragment]",T=r.select(v);ln.each(T,k=>{const L=Q=>qe(o[Q.nodeName.toLowerCase()]),W=Q=>Q.childNodes.length===1;if((Q=>!(T6(r,Q)||A6(r,Q)))(k)&&L(k)&&W(k)){const Q=_w(r,k),ce=(ot,rt)=>mr(ot,dt=>Be(rt,dt)),ke=ot=>W(k)&&r.is(ot,v)&&L(ot)&&(ot.nodeName===k.nodeName&&ce(Q,_w(r,ot))||ke(ot.children[0])),ge=ot=>qe(ot)&&ot!==c&&(h.compare(k,ot)||ge(ot.parentElement)),Te=ot=>qe(ot)&&ot!==c&&r.is(ot,v)&&(Bj(r,k,ot)||Te(ot.parentElement));(ke(k.children[0])||ge(k.parentElement)&&!Te(k.parentElement))&&r.remove(k,!0)}}),qV(e,Sd(T))}},fZ=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},mZ=e=>{ln.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},$k=e=>!!e.getAttribute("data-mce-fragment"),FL=(e,t)=>qe(t)&&!e.schema.getVoidElements()[t.nodeName],$L=(e,t)=>{let o;const r=e.dom,c=e.selection;if(!t)return;c.scrollIntoView(t);const h=m0(e.getBody(),t);if(h&&r.getContentEditable(h)==="false"){r.remove(t),c.select(h);return}let v=r.createRng();const T=t.previousSibling;if(dn(T)){v.setStart(T,T.nodeValue?.length??0);const W=t.nextSibling;dn(W)&&(T.appendData(W.data),W.parentNode?.removeChild(W))}else v.setStartBefore(t),v.setEndBefore(t);const k=W=>{let G=_t.fromRangeStart(W);return G=Xh(e.getBody()).next(G),G?.toRange()},L=r.getParent(t,r.isBlock);if(r.remove(t),L&&r.isEmpty(L)){const W=Z5(L);ql(De.fromDom(L)),v.setStart(L,0),v.setEnd(L,0),!W&&!$k(L)&&(o=k(v))?(v=o,r.remove(L)):r.add(L,r.create("br",W?{}:{"data-mce-bogus":"1"}))}c.setRng(v)},hZ=e=>{const t=e.dom,o=x5(e.selection.getRng());e.selection.setRng(o);const r=t.getParent(o.startContainer,Z5);LL(t,o,r)?mk(e,o,De.fromDom(r)):Oz(o)||_z(o)?o.deleteContents():e.getDoc().execCommand("Delete",!1)},IL=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return X.some(t);return X.none()},gZ=(e,t,o)=>Ye(o.children(),Gf)&&e.getParent(t,e.isBlock)?.nodeName==="SUMMARY",pZ=(e,t,o)=>{const r=e.selection,c=e.dom,h=e.parser,v=o.merge,T=nv({validate:!0},e.schema),k='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(t=Pc(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,k);let L=r.getRng();const W=L.startContainer,G=e.getBody();W===G&&r.isCollapsed()&&c.isBlock(G.firstChild)&&FL(e,G.firstChild)&&c.isEmpty(G.firstChild)&&(L=c.createRng(),L.setStart(G.firstChild,0),L.setEnd(G.firstChild,0),r.setRng(L)),r.isCollapsed()||hZ(e);const Q=r.getNode(),ce={context:Q.nodeName.toLowerCase(),data:o.data,insert:!0},ke=h.parse(t,ce);if(o.paste===!0&&Mne(e.schema,ke)&&oZ(c,Q))return L=iZ(T,c,r.getRng(),ke),L&&r.setRng(L),t;o.paste===!0&&BL(c,ke,Q,e.getBody())&&ke.firstChild?.unwrap(),fZ(ke);let ge=ke.lastChild;if(ge&&ge.attr("id")==="mce_marker"){const Te=ge;for(ge=ge.prev;ge&&ge.name!=="table";ge=ge.walk(!0))if(ge.type===3||!c.isBlock(ge.name)){ge.parent&&e.schema.isValidChild(ge.parent.name,"span")&&ge.parent.insert(Te,ge,ge.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(Q),!ce.invalid&&!gZ(c,Q,ke))t=T.serialize(ke),cZ(e,t,Q);else{Fk(e,k);let Te=r.getNode(),ot;const rt=e.getBody();for(zm(Te)?Te=ot=rt:ot=Te;ot&&ot!==rt;)Te=ot,ot=ot.parentNode;t=Te===rt?rt.innerHTML:c.getOuterHTML(Te);const dt=h.parse(t),Pt=IL(dt),en=Pt.bind(QV).getOr(dt);Pt.each(Bt=>Bt.replace(ke));const Nn=JV(ke);ke.unwrap();const io=xt(Nn,Bt=>oE(e.schema,Bt));K8(io,e.schema,en),G8(h.getNodeFilters(),h.getAttributeFilters(),dt),t=T.serialize(dt),Te===rt?c.setHTML(rt,t):c.setOuterHTML(Te,t)}return dZ(e,v),$L(e,c.get("mce_marker")),mZ(e.getBody()),uZ(c,r.getStart(),e.schema),rb(e.schema,e.getBody(),r.getStart()),t},bZ=e=>{kw(e)&&H(e.getBody()).each(t=>{const o=t.getNode(),r=iu(o)?H(o).getOr(t):t;e.selection.setRng(r.toRange())})},mE=(e,t,o)=>{e.dom.setHTML(e.getBody(),t),o!==!0&&bZ(e)},W5=(e,t,o,r)=>{if(o=Pc(o),o.length===0||/^\s+$/.test(o)){const c='<br data-mce-bogus="1">';t.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(o="<li>"+c+"</li>");const h=bl(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),h.toLowerCase())?(o=c,o=e.dom.createHTML(h,th(e),o)):o||(o=c),mE(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=nv({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const c=Ny(De.fromDom(t))?o:ln.trim(o);return mE(e,c,r.no_selection),{content:c,html:c}}},yZ=(e,t,o,r)=>{G8(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const c=nv({validate:!1},e.schema).serialize(o),h=Pc(Ny(De.fromDom(t))?c:ln.trim(c));return mE(e,h,r.no_selection),{content:o,html:h}},q5=(e,t,o)=>X.from(e.getBody()).map(r=>Bk(t)?yZ(e,r,t,o):W5(e,r,t,o)).getOr({content:t,html:Bk(o.content)?"":o.content}),hE={},HL=Qu(["pre"]),vZ=(e,t)=>{hE[e]||(hE[e]=[]),hE[e].push(t)},xZ=(e,t)=>{Qn(hE,e)&&Le(hE[e],o=>{o(t)})};vZ("pre",e=>{const t=e.selection.getRng(),o=c=>h=>{const v=h.previousSibling;return HL(v)&&Be(c,v)},r=(c,h)=>{const v=De.fromDom(h),T=Xc(v).dom;Cs(v),hc(De.fromDom(c),[De.fromTag("br",T),De.fromTag("br",T),...ma(v)])};if(!t.collapsed){const c=e.selection.getSelectedBlocks(),h=xt(xt(c,HL),o(c));Le(h,v=>{r(v.previousSibling,v)})}});const zL=ln.each,wZ=(e,t,o,r)=>{const c=h=>{if(ru(h)&&Sn(h.parentNode)&&e.isEditable(h)){const v=BB(e,h.parentNode);e.getStyle(h,"color")&&v?e.setStyle(h,"text-decoration",v):e.getStyle(h,"text-decoration")===v&&e.setStyle(h,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(ln.walk(r,c,"childNodes"),c(r))},jL=(e,t,o,r)=>{if(t.styles&&t.styles.backgroundColor){const c=d5(e,"fontSize");u5(r,h=>c(h)&&e.isEditable(h),L8(e,"backgroundColor",Hb(t.styles.backgroundColor,o)))}},CZ=(e,t,o,r)=>{if(hu(t)&&(t.inline==="sub"||t.inline==="sup")){const c=d5(e,"fontSize");u5(r,v=>c(v)&&e.isEditable(v),L8(e,"fontSize",""));const h=xt(e.select(t.inline==="sup"?"sub":"sup",r),e.isEditable);e.remove(h,!0)}},SZ=(e,t,o,r)=>{zL(t,c=>{hu(c)&&zL(e.dom.select(c.inline,r),h=>{c5(h)&&tE(e,c,o,h,c.exact?h:null)}),LV(e.dom,c,r)})},EZ=(e,t,o,r,c)=>{const h=c.parentNode;tg(e,h,o,r)&&tE(e,t,r,c)||t.merge_with_parents&&h&&e.dom.getParent(h,v=>tg(e,v,o,r)?(tE(e,t,r,c),!0):!1)},TZ=ln.each,AZ=(e,t,o,r)=>{if(AB(e)&&hu(t)&&o.parentNode){const c=Ay(e.schema),h=_n(De.fromDom(o),v=>de(v.dom));return ls(c,r)&&fo(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!h}else return!1},kZ=(e,t,o,r)=>{const c=e.formatter.get(t),h=c[0],v=!r&&e.selection.isCollapsed(),T=e.dom,k=e.selection,L=(ce,ke)=>{let ge=!1;return TZ(ce,Te=>Kg(Te)?T.getContentEditable(ke)==="false"&&!Te.ceFalseOverride||qe(Te.collapsed)&&Te.collapsed!==v?!0:T.is(ke,Te.selector)&&!de(ke)?(Fx(e,ke,Te,o,ke),ge=!0,!1):!0:!1),ge},W=ce=>{if(J(ce)){const ke=T.create(ce);return Fx(e,ke,h,o,r),ke}else return null},G=(ce,ke,ge)=>{const Te=[];let ot=!0;const rt=h.inline||h.block,dt=W(rt),Pt=io=>Mz(h)&&tg(e,io,t,o),en=(io,Bt,Ct)=>{const Ft=Bz(h)&&PS(e.schema,io)&&Sw(e,Bt,rt);return Ct&&Ft},Nn=(io,Bt,Ct,Ft)=>{const On=io.nodeName.toLowerCase(),Bo=Sw(e,rt,On)&&Sw(e,Bt,rt),Lo=!ge&&dn(io)&&$g(io.data),Ws=de(io),Pr=!hu(h)||!ce.isBlock(io);return(Ct||Ft)&&Bo&&!Lo&&!Ws&&Pr};Yg(ce,ke,io=>{let Bt;const Ct=Ft=>{let On=!1,Bo=ot,Lo=!1;const Ws=Ft.parentNode,Pr=Ws.nodeName.toLowerCase(),Ca=ce.getContentEditable(Ft);qe(Ca)&&(Bo=ot,ot=Ca==="true",On=!0,Lo=MB(e,Ft));const ti=ot&&!On;if(la(Ft)&&!AZ(e,h,Ft,Pr)){Bt=null,u0(h)&&ce.remove(Ft);return}if(Pt(Ft)){Bt=null;return}if(en(Ft,Pr,ti)){const Vc=ce.rename(Ft,rt);Fx(e,Vc,h,o,Ft),Te.push(Vc),Bt=null;return}if(Kg(h)){let Vc=L(c,Ft);if(!Vc&&qe(Ws)&&s_(h)&&(Vc=L(c,Ws)),!hu(h)||Vc){Bt=null;return}}qe(dt)&&Nn(Ft,Pr,ti,Lo)?(Bt||(Bt=ce.clone(dt,!1),Ws.insertBefore(Bt,Ft),Te.push(Bt)),Lo&&On&&(ot=Bo),Bt.appendChild(Ft)):(Bt=null,Le(Ts(Ft.childNodes),Ct),On&&(ot=Bo),Bt=null)};Le(io,Ct)}),h.links===!0&&Le(Te,io=>{const Bt=Ct=>{Ct.nodeName==="A"&&Fx(e,Ct,h,o,r),Le(Ts(Ct.childNodes),Bt)};Bt(io)}),WV(e,t,Sd(Te)),Le(Te,io=>{const Bt=On=>{let Bo=0;return Le(On.childNodes,Lo=>{!Nz(Lo)&&!wi(Lo)&&Bo++}),Bo},Ct=On=>sn(On.childNodes,LS).filter(Lo=>ce.getContentEditable(Lo)!=="false"&&gk(ce,Lo,h)).map(Lo=>{const Ws=ce.clone(Lo,!1);return Fx(e,Ws,h,o,On),ce.replace(Ws,On,!0),ce.remove(Lo,!0),Ws}).getOr(On),Ft=Bt(io);if((Te.length>1||!ce.isBlock(io))&&Ft===0){ce.remove(io,!0);return}(hu(h)||u0(h)&&h.wrapper)&&(!h.exact&&Ft===1&&(io=Ct(io)),SZ(e,c,o,io),EZ(e,h,t,o,io),jL(ce,h,o,io),wZ(ce,h,o,io),CZ(ce,h,o,io),B8(e,h,o,io))})},Q=BS(r)?r:k.getNode();if(T.getContentEditable(Q)==="false"&&!MB(e,Q)){r=Q,L(c,r),s0(e,t,r,o);return}if(h){if(r)if(BS(r)){if(!L(c,r)){const ce=T.createRng();ce.setStartBefore(r),ce.setEndAfter(r),G(T,y1(T,ce,c),!0)}}else G(T,r,!0);else!v||!hu(h)||eo(e).length?(k.setRng(x5(k.getRng())),OB(e,()=>{RS(e,(ce,ke)=>{const ge=ke?ce:y1(T,ce,c);G(T,ge,!1)})},ft),e.nodeChanged()):x8(e,t,o),MV(e.formatter,t).each(ce=>{const ke=l5(e.selection);Le(ke,ge=>X_(T,ge,ce,o))});xZ(t,e)}s0(e,t,r,o)},VL=(e,t,o,r)=>{(r||e.selection.isEditable())&&kZ(e,t,o,r)},jx=e=>Qn(e,"vars"),Ik=(e,t)=>{e.set({}),t.on("NodeChange",o=>{ZL(t,o.element,e.get())}),t.on("FormatApply FormatRemove",o=>{const r=X.from(o.node).map(c=>BS(c)?c:c.startContainer).bind(c=>Sn(c)?X.some(c):X.from(c.parentElement)).getOrThunk(()=>G5(t));ZL(t,r,e.get())})},G5=e=>e.selection.getStart(),K5=(e,t,o,r,c)=>Tt(t,T=>{const k=e.formatter.matchNode(T,o,c??{},r);return!xn(k)},T=>m8(e,T,o)?!0:r?!1:qe(e.formatter.matchNode(T,o,c,!0))),UL=(e,t)=>{const o=t??G5(e);return xt(IA(e.dom,o),r=>Sn(r)&&!Hm(r))},ZL=(e,t,o)=>{const r=UL(e,t);Oo(o,(c,h)=>{const v=T=>{const k=K5(e,r,h,T.similar,jx(T)?T.vars:void 0),L=k.isSome();if(T.state.get()!==L){T.state.set(L);const W=k.getOr(t);jx(T)?T.callback(L,{node:W,format:h,parents:r}):Le(T.callbacks,G=>G(L,{node:W,format:h,parents:r}))}};Le([c.withSimilar,c.withoutSimilar],v),Le(c.withVars,v)})},Y5=(e,t,o,r,c,h)=>{const v=t.get();Le(o.split(","),T=>{const k=No(v,T).getOrThunk(()=>{const W={withSimilar:{state:Pn(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Pn(!1),similar:!1,callbacks:[]},withVars:[]};return v[T]=W,W}),L=()=>{const W=UL(e);return K5(e,W,T,c,h).isSome()};if(xn(h)){const W=c?k.withSimilar:k.withoutSimilar;W.callbacks.push(r),W.callbacks.length===1&&W.state.set(L())}else k.withVars.push({state:Pn(L()),similar:c,vars:h,callback:r})}),t.set(v)},DZ=(e,t,o)=>{const r=e.get();Le(t.split(","),c=>No(r,c).each(h=>{r[c]={withSimilar:{...h.withSimilar,callbacks:xt(h.withSimilar.callbacks,v=>v!==o)},withoutSimilar:{...h.withoutSimilar,callbacks:xt(h.withoutSimilar.callbacks,v=>v!==o)},withVars:xt(h.withVars,v=>v.callback!==o)}})),e.set(r)},_Z=(e,t,o,r,c,h)=>(Y5(e,t,o,r,c,h),{unbind:()=>DZ(t,o,r)}),OZ=(e,t,o,r)=>{const c=e.formatter.get(t);c&&(J_(e,t,o,r)&&(!("toggle"in c[0])||c[0].toggle)?yk(e,t,o,r):VL(e,t,o,r))},X5=(e,t,o)=>({element:e,width:t,rows:o}),WL=(e,t)=>({element:e,cells:t}),Hk=(e,t)=>({x:e,y:t}),Pw=(e,t)=>dl(e,t).bind(Ef).getOr(1),NZ=(e,t,o,r,c)=>{const h=Pw(c,"rowspan"),v=Pw(c,"colspan"),T=e.rows;for(let k=o;k<o+h;k++){T[k]||(T[k]=WL(_f(r),[]));for(let L=t;L<t+v;L++){const W=T[k].cells;W[L]=k===o&&L===t?c:ki(c)}}},Fw=(e,t,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[t]},ih=(e,t,o)=>{for(;Fw(e,t,o);)t++;return t},$w=e=>Pe(e,(t,o)=>o.cells.length>t?o.cells.length:t,0),Vr=(e,t)=>{const o=e.rows;for(let r=0;r<o.length;r++){const c=o[r].cells;for(let h=0;h<c.length;h++)if(ss(c[h],t))return X.some(Hk(h,r))}return X.none()},Iw=(e,t,o,r,c)=>{const h=[],v=e.rows;for(let T=o;T<=c;T++){const k=v[T].cells,L=t<r?k.slice(t,r+1):k.slice(r,t+1);h.push(WL(v[T].element,L))}return h},qL=(e,t,o)=>{const r=t.x,c=t.y,h=o.x,v=o.y,T=c<v?Iw(e,r,c,h,v):Iw(e,r,v,h,c);return X5(e.element,$w(T),T)},GL=(e,t)=>{const o=ki(e.element),r=De.fromTag("tbody");return hc(r,t),Is(o,r),o},zk=e=>tt(e.rows,t=>{const o=tt(t.cells,c=>{const h=_f(c);return ci(h,"colspan"),ci(h,"rowspan"),h}),r=ki(t.element);return hc(r,o),r}),Q5=e=>{const t=X5(ki(e),0,[]);return Le(kt(e,"tr"),(o,r)=>{Le(kt(o,"td,th"),(c,h)=>{NZ(t,ih(t,h,r),r,o,c)})}),X5(t.element,$w(t.rows),t.rows)},J5=e=>GL(e,zk(e)),eO=(e,t,o)=>Vr(e,t).bind(r=>Vr(e,o).map(c=>qL(e,r,c))),tO=e=>sn(e,t=>rs(t)==="ul"||rs(t)==="ol"),jk=(e,t)=>sn(e,o=>rs(o)==="li"&&t_(o,t)).fold(at([]),o=>tO(e).map(r=>{const c=De.fromTag(rs(r)),h=Yn(of(r),(v,T)=>Co(T,"list-style"));return fl(c,h),[De.fromTag("li"),c]}).getOr([])),nO=(e,t)=>{const o=Pe(t,(r,c)=>(Is(c,r),c),e);return t.length>0?Ou([o]):o},KL=e=>fu(e)?Wi(e).filter(Id).fold(at([]),t=>[e,t]):Id(e)?[e]:[],YL=(e,t,o)=>{const r=De.fromDom(t.commonAncestorContainer),c=Jg(r,e),h=xt(c,k=>o.isWrapper(rs(k))),v=jk(c,t),T=h.concat(v.length?v:KL(r));return tt(T,ki)},oO=()=>Ou([]),XL=(e,t,o)=>nO(De.fromDom(t.cloneContents()),YL(e,t,o)),QL=(e,t)=>Da(t,"table",le(ss,e)),Vx=(e,t)=>QL(e,t[0]).bind(o=>{const r=t[0],c=t[t.length-1],h=Q5(o);return eO(h,r,c).map(v=>Ou([J5(v)]))}).getOrThunk(oO),JL=(e,t,o)=>t.length>0&&t[0].collapsed?oO():XL(e,t[0],o),sO=(e,t,o)=>{const r=BA(t,e);return r.length>0?Vx(e,r):JL(e,t,o)},Vk=(e,t)=>t>=0&&t<e.length&&Wf(e.charAt(t)),eP=e=>Pc(e.innerText),tP=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),nP=e=>X.from(e.selection.getRng()).map(t=>{const o=X.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),r=e.getBody(),c=tP(o),h=De.fromDom(t.cloneContents());w6(h),C6(h);const v=e.dom.add(r,c,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},h.dom),T=eP(v),k=Pc(v.textContent??"");if(e.dom.remove(v),Vk(k,0)||Vk(k,k.length-1)){const L=o.getOr(r),W=eP(L),G=W.indexOf(T);if(G===-1)return T;{const Q=Vk(W,G-1),ce=Vk(W,G+T.length);return(Q?" ":"")+T+(ce?" ":"")}}else return T}).getOr(""),oP=(e,t)=>{const o=e.selection.getRng(),r=e.dom.create("body"),c=e.selection.getSel(),h=E_(e,ww(c)),v=t.contextual?sO(De.fromDom(e.getBody()),h,e.schema).dom:o.cloneContents();return v&&r.appendChild(v),e.selection.serializer.serialize(r,t)},Uk=(e,t)=>{if(t.format==="text")return nP(e);{const o=oP(e,t);return t.format==="tree"?o:e.selection.isCollapsed()?"":o}},sP=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),rP=(e,t,o={})=>{const r=sP(o,t);return AL(e,r).fold(Jn,c=>{const h=Uk(e,c);return cE(e,h,c)})},Zk=0,rO=1,aO=2,aP=(e,t)=>{const o=e.length+t.length+2,r=new Array(o),c=new Array(o),h=(W,G,Q)=>({start:W,end:G,diag:Q}),v=(W,G,Q,ce,ke)=>{const ge=k(W,G,Q,ce);if(ge===null||ge.start===G&&ge.diag===G-ce||ge.end===W&&ge.diag===W-Q){let Te=W,ot=Q;for(;Te<G||ot<ce;)Te<G&&ot<ce&&e[Te]===t[ot]?(ke.push([Zk,e[Te]]),++Te,++ot):G-W>ce-Q?(ke.push([aO,e[Te]]),++Te):(ke.push([rO,t[ot]]),++ot)}else{v(W,ge.start,Q,ge.start-ge.diag,ke);for(let Te=ge.start;Te<ge.end;++Te)ke.push([Zk,e[Te]]);v(ge.end,G,ge.end-ge.diag,ce,ke)}},T=(W,G,Q,ce)=>{let ke=W;for(;ke-G<ce&&ke<Q&&e[ke]===t[ke-G];)++ke;return h(W,ke,G)},k=(W,G,Q,ce)=>{const ke=G-W,ge=ce-Q;if(ke===0||ge===0)return null;const Te=ke-ge,ot=ge+ke,rt=(ot%2===0?ot:ot+1)/2;r[1+rt]=W,c[1+rt]=G+1;let dt,Pt,en,Nn,io;for(dt=0;dt<=rt;++dt){for(Pt=-dt;Pt<=dt;Pt+=2){for(en=Pt+rt,Pt===-dt||Pt!==dt&&r[en-1]<r[en+1]?r[en]=r[en+1]:r[en]=r[en-1]+1,Nn=r[en],io=Nn-W+Q-Pt;Nn<G&&io<ce&&e[Nn]===t[io];)r[en]=++Nn,++io;if(Te%2!==0&&Te-dt<=Pt&&Pt<=Te+dt&&c[en-Te]<=r[en])return T(c[en-Te],Pt+W-Q,G,ce)}for(Pt=Te-dt;Pt<=Te+dt;Pt+=2){for(en=Pt+rt-Te,Pt===Te-dt||Pt!==Te+dt&&c[en+1]<=c[en-1]?c[en]=c[en+1]-1:c[en]=c[en-1],Nn=c[en]-1,io=Nn-W+Q-Pt;Nn>=W&&io>=Q&&e[Nn]===t[io];)c[en]=Nn--,io--;if(Te%2===0&&-dt<=Pt&&Pt<=dt&&c[en]<=r[en+Te])return T(c[en],Pt+W-Q,G,ce)}}return null},L=[];return v(0,e.length,0,t.length,L),L},iO=e=>Sn(e)?e.outerHTML:dn(e)?td.encodeRaw(e.data,!1):ns(e)?"<!--"+e.data+"-->":"",iP=e=>{let t;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);t=o.firstChild;)r.appendChild(t);return r},lP=(e,t,o)=>{const r=iP(t);if(e.hasChildNodes()&&o<e.childNodes.length){const c=e.childNodes[o];e.insertBefore(r,c)}else e.appendChild(r)},cP=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const o=e.childNodes[t];e.removeChild(o)}},lO=(e,t)=>{let o=0;Le(e,r=>{r[0]===Zk?o++:r[0]===rO?(lP(t,r[1],o),o++):r[0]===aO&&cP(t,o)})},uP=(e,t)=>xt(tt(Ts(e.childNodes),F(Pc,iO)),o=>o.length>0),dP=(e,t)=>{const o=tt(Ts(t.childNodes),iO);return lO(aP(o,e),t),t},fP=Ri(()=>document.implementation.createHTMLDocument("undo")),mP=e=>e.querySelector(`iframe, ${xy}`)!==null,hP=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),gP=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),gE=e=>{const t=e.serializer.getTempAttrs(),o=x6(e.getBody(),t);return mP(o)?hP(uP(o)):gP(Pc(o.innerHTML))},pE=(e,t,o)=>{const r=o?t.beforeBookmark:t.bookmark;t.type==="fragmented"?dP(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:qe(r)&&Rn(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},Hw=e=>e.type==="fragmented"?e.fragments.join(""):e.content,cO=(e,t)=>{const o=De.fromTag("body",fP());return nf(o,Hw(t)),Le(kt(o,"*[data-mce-bogus]"),Gl),e&&Le(kt(o,"details[open]"),r=>ci(r,"open")),Bi(o)},RZ=(e,t)=>Hw(e)===Hw(t),pP=(e,t,o)=>cO(e,t)===cO(e,o),zw=(e,t,o)=>!t||!o?!1:RZ(t,o)?!0:pP(e,t,o),bE=e=>e.get()===0,dv=(e,t,o)=>{bE(o)&&(e.typing=t)},Wk=(e,t)=>{e.typing&&(dv(e,!1,t),e.add())},bP=e=>{e.typing&&(e.typing=!1,e.add())},jw=(e,t,o)=>{bE(t)&&o.set(mf(e.selection))},uO=(e,t,o,r,c,h,v)=>{const T=gE(e),k=ln.extend(h||{},T);if(!bE(r)||e.removed)return null;const L=t.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:k,lastLevel:L,originalEvent:v}).isDefaultPrevented()||L&&zw(e.readonly,L,k))return null;t.data[o.get()]&&c.get().each(Q=>{t.data[o.get()].beforeBookmark=Q});const W=uA(e);if(W&&t.data.length>W){for(let Q=0;Q<t.data.length-1;Q++)t.data[Q]=t.data[Q+1];t.data.length--,o.set(t.data.length)}k.bookmark=mf(e.selection),o.get()<t.data.length-1&&(t.data.length=o.get()+1),t.data.push(k),o.set(t.data.length-1);const G={level:k,lastLevel:L,originalEvent:v};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",G),e.dispatch("change",G)):e.dispatch("AddUndo",G),k},dO=(e,t,o)=>{t.data=[],o.set(0),t.typing=!1,e.dispatch("ClearUndos")},Vw=(e,t,o,r,c)=>{if(t.transact(r)){const h=t.data[o.get()].bookmark,v=t.data[o.get()-1];pE(e,v,!0),t.transact(c)&&(t.data[o.get()-1].beforeBookmark=h)}},fv=(e,t,o)=>{let r;return t.get()<o.length-1&&(t.set(t.get()+1),r=o[t.get()],pE(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},yP=(e,t,o,r)=>{let c;return t.typing&&(t.add(),t.typing=!1,dv(t,!1,o)),r.get()>0&&(r.set(r.get()-1),c=t.data[r.get()],pE(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},MZ=e=>{e.clear(),e.add()},BZ=(e,t,o)=>o.get()>0||t.typing&&t.data[0]&&!zw(e.readonly,gE(e),t.data[0]),vP=(e,t)=>t.get()<e.data.length-1&&!e.typing,xP=(e,t,o)=>(Wk(e,t),e.beforeChange(),e.ignore(o),e.add()),wP=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},LZ=(e,t)=>{const o=e.dom,r=qe(t)?t:e.getBody();Le(o.select("table,a",r),c=>{switch(c.nodeName){case"TABLE":const h=fA(e),v=o.getAttrib(c,"border");(!v||v==="0")&&e.hasVisual?o.addClass(c,h):o.removeClass(c,h);break;case"A":if(!o.getAttrib(c,"href")){const T=o.getAttrib(c,"name")||c.id,k=rw(e);T&&e.hasVisual?o.addClass(c,k):o.removeClass(c,k)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},Wb=e=>({init:{bindEvents:Lt},undoManager:{beforeChange:(t,o)=>jw(e,t,o),add:(t,o,r,c,h,v)=>uO(e,t,o,r,c,h,v),undo:(t,o,r)=>yP(e,t,o,r),redo:(t,o)=>fv(e,t,o),clear:(t,o)=>dO(e,t,o),reset:t=>MZ(t),hasUndo:(t,o)=>BZ(e,t,o),hasRedo:(t,o)=>vP(t,o),transact:(t,o,r)=>xP(t,o,r),ignore:(t,o)=>wP(t,o),extra:(t,o,r,c)=>Vw(e,t,o,r,c)},formatter:{match:(t,o,r,c)=>J_(e,t,o,r,c),matchAll:(t,o)=>e5(e,t,o),matchNode:(t,o,r,c)=>tg(e,t,o,r,c),canApply:t=>t5(e,t),closest:t=>g8(e,t),apply:(t,o,r)=>VL(e,t,o,r),remove:(t,o,r,c)=>yk(e,t,o,r,c),toggle:(t,o,r)=>OZ(e,t,o,r),formatChanged:(t,o,r,c,h)=>_Z(e,t,o,r,c,h)},editor:{getContent:t=>Oj(e,t),setContent:(t,o)=>q5(e,t,o),insertContent:(t,o)=>pZ(e,t,o),addVisual:t=>LZ(e,t)},selection:{getContent:(t,o)=>rP(e,t,o)},autocompleter:{addDecoration:Lt,removeDecoration:Lt},raw:{getModel:()=>X.none()}}),Ux=e=>{const t=L=>it(L)?L:{},{init:o,undoManager:r,formatter:c,editor:h,selection:v,autocompleter:T,raw:k}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(L,W,G)=>r.transact(G),ignore:(L,W)=>r.ignore(W),extra:(L,W,G,Q)=>r.extra(G,Q)},formatter:{match:(L,W,G,Q)=>c.match(L,t(W),Q),matchAll:c.matchAll,matchNode:c.matchNode,canApply:L=>c.canApply(L),closest:L=>c.closest(L),apply:(L,W,G)=>c.apply(L,t(W)),remove:(L,W,G,Q)=>c.remove(L,t(W)),toggle:(L,W,G)=>c.toggle(L,t(W)),formatChanged:(L,W,G,Q,ce)=>c.formatChanged(W,G,Q,ce)},editor:{getContent:L=>h.getContent(L),setContent:(L,W)=>({content:h.setContent(L,W),html:""}),insertContent:(L,W)=>(h.insertContent(L),""),addVisual:h.addVisual},selection:{getContent:(L,W)=>v.getContent(W)},autocompleter:{addDecoration:T.addDecoration,removeDecoration:T.removeDecoration},raw:{getModel:()=>X.some(k.getRawModel())}}},CP=()=>{const e=at(null),t=at("");return{init:{bindEvents:Lt},undoManager:{beforeChange:Lt,add:e,undo:e,redo:e,clear:Lt,reset:Lt,hasUndo:He,hasRedo:He,transact:e,ignore:Lt,extra:Lt},formatter:{match:He,matchAll:at([]),matchNode:at(void 0),canApply:He,closest:t,apply:Lt,remove:Lt,toggle:Lt,formatChanged:at({unbind:Lt})},editor:{getContent:t,setContent:at({content:"",html:""}),insertContent:at(""),addVisual:Lt},selection:{getContent:t},autocompleter:{addDecoration:Lt,removeDecoration:Lt},raw:{getModel:at(X.none())}}},v0=e=>Qn(e.plugins,"rtc"),PZ=e=>No(e.plugins,"rtc").bind(t=>X.from(t.setup)),FZ=e=>{const t=e;return PZ(e).fold(()=>(t.rtcInstance=Wb(e),X.none()),o=>(t.rtcInstance=CP(),X.some(()=>o().then(r=>(t.rtcInstance=Ux(r),r.rtc.isRemote)))))},fO=e=>e.rtcInstance?e.rtcInstance:Wb(e),xa=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},ap=(e,t,o)=>{xa(e).undoManager.beforeChange(t,o)},SP=(e,t,o,r,c,h,v)=>xa(e).undoManager.add(t,o,r,c,h,v),mO=(e,t,o,r)=>xa(e).undoManager.undo(t,o,r),hO=(e,t,o)=>xa(e).undoManager.redo(t,o),qk=(e,t,o)=>{xa(e).undoManager.clear(t,o)},$Z=(e,t)=>{xa(e).undoManager.reset(t)},EP=(e,t,o)=>xa(e).undoManager.hasUndo(t,o),yE=(e,t,o)=>xa(e).undoManager.hasRedo(t,o),IZ=(e,t,o,r)=>xa(e).undoManager.transact(t,o,r),Gk=(e,t,o)=>{xa(e).undoManager.ignore(t,o)},gO=(e,t,o,r,c)=>{xa(e).undoManager.extra(t,o,r,c)},TP=(e,t,o,r,c)=>xa(e).formatter.match(t,o,r,c),vE=(e,t,o)=>xa(e).formatter.matchAll(t,o),HZ=(e,t,o,r,c)=>xa(e).formatter.matchNode(t,o,r,c),zZ=(e,t)=>xa(e).formatter.canApply(t),x0=(e,t)=>xa(e).formatter.closest(t),Em=(e,t,o,r)=>{xa(e).formatter.apply(t,o,r)},xE=(e,t,o,r,c)=>{xa(e).formatter.remove(t,o,r,c)},Tm=(e,t,o,r)=>{xa(e).formatter.toggle(t,o,r)},jZ=(e,t,o,r,c,h)=>xa(e).formatter.formatChanged(t,o,r,c,h),wa=(e,t)=>fO(e).editor.getContent(t),VZ=(e,t,o)=>fO(e).editor.setContent(t,o),qb=(e,t,o)=>fO(e).editor.insertContent(t,o),wE=(e,t,o)=>xa(e).selection.getContent(t,o),AP=(e,t)=>xa(e).editor.addVisual(t),Kk=e=>xa(e).init.bindEvents(),pO=(e,t={})=>{const o=t.format?t.format:"html";return wE(e,o,t)},kP=(e,t,o)=>{if(Qn(e,t)){const r=xt(e[t],c=>c!==o);r.length===0?delete e[t]:e[t]=r}};var bO=(e,t)=>{let o,r;const c=(T,k)=>sn(k,L=>e.is(L,T)),h=T=>e.getParents(T,void 0,e.getRoot()),v=()=>{o={},r={},t.on("NodeChange",T=>{const k=T.element,L=h(k),W={};Oo(o,(G,Q)=>{c(Q,L).each(ce=>{r[Q]||(Le(G,ke=>{ke(!0,{node:ce,selector:Q,parents:L})}),r[Q]=G),W[Q]=G})}),Oo(r,(G,Q)=>{W[Q]||(delete r[Q],Le(G,ce=>{ce(!1,{node:k,selector:Q,parents:L})}))})})};return{selectorChangedWithUnbind:(T,k)=>(o||v(),o[T]||(o[T]=[]),o[T].push(k),c(T,h(t.selection.getStart())).each(()=>{r[T]=o[T]}),{unbind:()=>{kP(o,T,k),kP(r,T,k)}})}};const DP=e=>!!(e&&e.ownerDocument)&&mc(De.fromDom(e.ownerDocument),De.fromDom(e)),_P=e=>e?DP(e.startContainer)&&DP(e.endContainer):!1,yO=(e,t,o,r)=>{let c,h;const{selectorChangedWithUnbind:v}=bO(e,r),T=($n,po)=>{const _r=e.createRng();qe($n)&&qe(po)?(_r.setStart($n,po),_r.setEnd($n,po),Pt(_r),ot(!1)):(PA(e,_r,r.getBody(),!0),Pt(_r))},k=$n=>pO(r,$n),L=($n,po)=>KU(r,$n,po),W=$n=>JA(r.getBody(),dt(),$n),G=$n=>w_(r.getBody(),dt(),$n),Q=($n,po)=>Vc.getBookmark($n,po),ce=$n=>Vc.moveToBookmark($n),ke=($n,po)=>(h6(e,$n,po).each(Pt),$n),ge=()=>{const $n=dt(),po=rt();return!$n||$n.item?!1:$n.compareEndPoints?$n.compareEndPoints("StartToEnd",$n)===0:!po||$n.collapsed},Te=()=>{if(r.mode.isReadOnly())return!1;const $n=dt(),po=r.getBody().querySelectorAll('[data-mce-selected="1"]');return po.length>0?mr(po,_r=>e.isEditable(_r.parentElement)):pj(e,$n)},ot=$n=>{const po=dt();po.collapse(!!$n),Pt(po)},rt=()=>t.getSelection?t.getSelection():t.document.selection,dt=()=>{let $n;const po=(br,vu,Ht)=>{try{return vu.compareBoundaryPoints(br,Ht)}catch{return-1}},_r=t.document;if(qe(r.bookmark)&&!kw(r)){const br=WA(r);if(br.isSome())return br.map(vu=>E_(r,[vu])[0]).getOr(_r.createRange())}try{const br=rt();br&&!eb(br.anchorNode)&&(br.rangeCount>0?$n=br.getRangeAt(0):$n=_r.createRange(),$n=E_(r,[$n])[0])}catch{}if($n||($n=_r.createRange()),zm($n.startContainer)&&$n.collapsed){const br=e.getRoot();$n.setStart(br,0),$n.setEnd(br,0)}return c&&h&&(po($n.START_TO_START,$n,c)===0&&po($n.END_TO_END,$n,c)===0?$n=h:(c=null,h=null)),$n},Pt=($n,po)=>{if(!_P($n))return;const _r=rt();if($n=r.dispatch("SetSelectionRange",{range:$n,forward:po}).range,_r){h=$n;try{_r.removeAllRanges(),_r.addRange($n)}catch{}po===!1&&_r.extend&&(_r.collapse($n.endContainer,$n.endOffset),_r.extend($n.startContainer,$n.startOffset)),c=_r.rangeCount>0?_r.getRangeAt(0):null}if(!$n.collapsed&&$n.startContainer===$n.endContainer&&_r?.setBaseAndExtent&&$n.endOffset-$n.startOffset<2&&$n.startContainer.hasChildNodes()){const vu=$n.startContainer.childNodes[$n.startOffset];vu&&vu.nodeName==="IMG"&&(_r.setBaseAndExtent($n.startContainer,$n.startOffset,$n.endContainer,$n.endOffset),(_r.anchorNode!==$n.startContainer||_r.focusNode!==$n.endContainer)&&_r.setBaseAndExtent(vu,0,vu,1))}r.dispatch("AfterSetSelectionRange",{range:$n,forward:po})},en=$n=>(Fk(r,e.getOuterHTML($n)),$n),Nn=()=>S_(r.getBody(),dt()),io=($n,po)=>bj(e,dt(),$n,po),Bt=()=>{const $n=rt(),po=$n?.anchorNode,_r=$n?.focusNode;if(!$n||!po||!_r||eb(po)||eb(_r))return!0;const br=e.createRng(),vu=e.createRng();try{br.setStart(po,$n.anchorOffset),br.collapse(!0),vu.setStart(_r,$n.focusOffset),vu.collapse(!0)}catch{return!0}return br.compareBoundaryPoints(br.START_TO_START,vu)<=0},ti={dom:e,win:t,serializer:o,editor:r,expand:($n={type:"word"})=>Pt(f0(e).expand(dt(),$n)),collapse:ot,setCursorLocation:T,getContent:k,setContent:L,getBookmark:Q,moveToBookmark:ce,select:ke,isCollapsed:ge,isEditable:Te,isForward:Bt,setNode:en,getNode:Nn,getSel:rt,setRng:Pt,getRng:dt,getStart:W,getEnd:G,getSelectedBlocks:io,normalize:()=>{const $n=dt(),po=rt();if(!c0(po)&&NS(r)){const _r=YA(e,$n);return _r.each(br=>{Pt(br,Bt())}),_r.getOr($n)}return $n},selectorChanged:($n,po)=>(v($n,po),ti),selectorChangedWithUnbind:v,getScrollContainer:()=>{let $n,po=e.getRoot();for(;po&&po.nodeName!=="BODY";){if(po.scrollHeight>po.clientHeight){$n=po;break}po=po.parentNode}return $n},scrollIntoView:($n,po)=>{qe($n)?In(r,$n,po):sh(r,dt(),po)},placeCaretAt:($n,po)=>Pt(t6($n,po,r.getDoc())),getBoundingClientRect:()=>{const $n=dt();return $n.collapsed?_t.fromRangeStart($n).getClientRects()[0]:$n.getBoundingClientRect()},destroy:()=>{t=c=h=null,Am.destroy()}},Vc=Tw(ti),Am=oj(ti,r);return ti.bookmarkManager=Vc,ti.controlSelection=Am,ti},vO=(e,t,o)=>{t.addNodeFilter("br",(r,c,h)=>{const v=ln.extend({},o.getBlockElements()),T=o.getNonEmptyElements(),k=o.getWhitespaceElements();v.body=1;const L=W=>W.name in v||cu(o,W);for(let W=0,G=r.length;W<G;W++){let Q=r[W],ce=Q.parent;if(ce&&L(ce)&&Q===ce.lastChild){let ke=Q.prev;for(;ke;){const ge=ke.name;if(ge!=="span"||ke.attr("data-mce-type")!=="bookmark"){ge==="br"&&(Q=null);break}ke=ke.prev}if(Q&&(Q.remove(),nE(o,T,k,ce))){const ge=o.getElementRule(ce.name);ge&&(ge.removeEmpty?ce.remove():ge.paddEmpty&&iv(e,h,L,ce))}}else{let ke=Q;for(;ce&&ce.firstChild===ke&&ce.lastChild===ke&&(ke=ce,!v[ce.name]);)ce=ce.parent;if(ke===ce){const ge=new Hc("#text",3);ge.value=qr,Q.replace(ge)}}}})},OP=(e,t,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,c)=>{let h=r.length;for(;h--;){const v=r[h];v.attr("tabindex",v.attr("data-mce-tabindex")),v.attr(c,null)}}),e.addAttributeFilter("src,href,style",(r,c)=>{const h="data-mce-"+c,v=t.url_converter,T=t.url_converter_scope;let k=r.length;for(;k--;){const L=r[k];let W=L.attr(h);W!==void 0?(L.attr(c,W.length>0?W:null),L.attr(h,null)):(W=L.attr(c),c==="style"?W=o.serializeStyle(o.parseStyle(W),L.name):v&&(W=v.call(T,W,c,L.name)),L.attr(c,W.length>0?W:null))}}),e.addAttributeFilter("class",r=>{let c=r.length;for(;c--;){const h=r[c];let v=h.attr("class");v&&(v=v.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),h.attr("class",v.length>0?v:null))}}),e.addAttributeFilter("data-mce-type",(r,c,h)=>{let v=r.length;for(;v--;){const T=r[v];T.attr("data-mce-type")==="bookmark"&&!h.cleanup&&(X.from(T.firstChild).exists(L=>!$g(L.value??""))?T.unwrap():T.remove())}}),e.addNodeFilter("script,style",(r,c)=>{const h=T=>T.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let v=r.length;for(;v--;){const T=r[v],k=T.firstChild,L=k?.value??"";if(c==="script"){const W=T.attr("type");W&&T.attr("type",W==="mce-no/type"?null:W.replace(/^mce\-/,"")),t.element_format==="xhtml"&&k&&L.length>0&&(k.value=`// <![CDATA[
`+h(L)+`
// ]]>`)}else t.element_format==="xhtml"&&k&&L.length>0&&(k.value=`<!--
`+h(L)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let c=r.length;for(;c--;){const h=r[c],v=h.value;t.preserve_cdata&&v?.indexOf("[CDATA[")===0?(h.name="#cdata",h.type=4,h.value=o.decode(v.replace(/^\[CDATA\[|\]\]$/g,""))):v?.indexOf("mce:protected ")===0&&(h.name="#text",h.type=3,h.raw=!0,h.value=unescape(v).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,c)=>{let h=r.length;for(;h--;){const v=r[h];v.type===7?v.remove():v.type===1&&c==="input"&&!v.attr("type")&&v.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{Le(r,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,c)=>{let h=r.length;for(;h--;)r[h].attr(c,null)}),t.remove_trailing_brs&&vO(t,e,e.schema)},Yk=e=>{const t=r=>r?.name==="br",o=e.lastChild;if(t(o)){const r=o.prev;t(r)&&(o.remove(),r.remove())}},UZ=(e,t,o)=>{let r;const c=e.dom;let h=t.cloneNode(!0);const v=document.implementation;if(v.createHTMLDocument){const T=v.createHTMLDocument("");ln.each(h.nodeName==="BODY"?h.childNodes:[h],k=>{T.body.appendChild(T.importNode(k,!0))}),h.nodeName!=="BODY"?h=T.body.firstChild:h=T.body,r=c.doc,c.doc=T}return V2(e,{...o,node:h}),r&&(c.doc=r),h},ZZ=(e,t)=>qe(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,WZ=(e,t,o)=>ZZ(e,o)?UZ(e,t,o):t,qZ=(e,t,o)=>{ln.inArray(t,o)===-1&&(e.addAttributeFilter(o,(r,c)=>{let h=r.length;for(;h--;)r[h].attr(c,null)}),t.push(o))},GZ=(e,t,o)=>!t.no_events&&e?qC(e,{...t,content:o}).content:o,NP=(e,t,o)=>{const r=Pc(o.getInner?t.innerHTML:e.getOuterHTML(t));return o.selection||Ny(De.fromDom(t))?r:ln.trim(r)},KZ=(e,t,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,c=e.parse(t,r);return Yk(c),c},YZ=(e,t,o)=>nv(e,t).serialize(o),RP=(e,t,o,r,c)=>{const h=YZ(t,o,r);return GZ(e,c,h)},XZ=(e,t)=>{const o=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},c=t&&t.dom?t.dom:hs.DOM,h=t&&t.schema?t.schema:Ls(r),v=Lw(r,h);OP(v,r,c);const T=(k,L={})=>{const{indent:W,entity_encoding:G,...Q}=L,ce={format:"html",...Q},ke=WZ(t,k,ce),ge=NP(c,ke,ce),Te=KZ(v,ge,ce);if(ce.format==="tree")return Te;const ot={...r,...qe(W)?{indent:W}:{},...qe(G)?{entity_encoding:G}:{}};return RP(t,ot,h,Te,ce)};return{schema:h,addNodeFilter:v.addNodeFilter,addAttributeFilter:v.addAttributeFilter,serialize:T,addRules:h.addValidElements,setRules:h.setValidElements,addTempAttr:le(qZ,v,o),getTempAttrs:at(o),getNodeFilters:v.getNodeFilters,getAttributeFilters:v.getAttributeFilters,removeNodeFilter:v.removeNodeFilter,removeAttributeFilter:v.removeAttributeFilter}},xO=(e,t)=>{const o=XZ(e,t);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},CE="html",QZ=(e,t)=>({...e,format:t,get:!0,getInner:!0}),JZ=(e,t={})=>{const o=t.format?t.format:CE,r=QZ(t,o);return AL(e,r).fold(Jn,c=>{const h=wa(e,c);return cE(e,h,c)})},MP="html",BP=(e,t)=>({format:MP,...e,set:!0,content:t}),wO=(e,t,o={})=>{const r=BP(o,t);uE(e,r).each(c=>{const h=VZ(e,c.content,c);z5(e,h.html,c)})},SE=hs.DOM,hd=e=>{SE.setStyle(e.id,"display",e.orgDisplay)},Xk=e=>X.from(e).each(t=>t.destroy()),LP=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const o=e.selection;if(o){const r=o.dom;t.selection=o.win=o.dom=r.doc=null}},CO=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),SE.unbind(t,"submit reset",e.formEventDelegate))},SO=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:o}=e,r=e.getBody(),c=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&qe(c?.nextSibling)&&SE.remove(c.nextSibling),GC(e),e.editorManager.remove(e),!e.inline&&r&&hd(e),$T(e),SE.remove(e.getContainer()),Xk(t),Xk(o),e.destroy()}},PP=(e,t)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Xk(o),Xk(r)),CO(e),LP(e),e.destroyed=!0}},Qk=(()=>{const e={};return{add:(c,h)=>{e[c]=h},get:c=>e[c]?e[c]:{icons:{}},has:c=>Qn(e,c)}})(),Uw=Xi.ModelManager,EO=(e,t)=>t.dom[e],TO=(e,t)=>parseInt(ka(t,e),10),lh=le(EO,"clientWidth"),tW=le(EO,"clientHeight"),nW=le(TO,"margin-top"),Lne=le(TO,"margin-left"),AO=e=>e.dom.getBoundingClientRect(),oW=(e,t,o)=>{const r=lh(e),c=tW(e);return t>=0&&o>=0&&t<=r&&o<=c},Pne=(e,t,o,r)=>{const c=AO(t),h=e?c.left+t.dom.clientLeft+Lne(t):0,v=e?c.top+t.dom.clientTop+nW(t):0,T=o-h,k=r-v;return{x:T,y:k}},sW=(e,t,o)=>{const r=De.fromDom(e.getBody()),c=e.inline?r:ri(r),h=Pne(e.inline,c,t,o);return oW(c,h.x,h.y)},kO=e=>X.from(e).map(De.fromDom),ip=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return kO(t).map(hr).getOr(!1)};var DO=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const EE=e=>{const t=[],o=()=>{const Q=e.theme;return Q&&Q.getNotificationManagerImpl?Q.getNotificationManagerImpl():DO()},r=()=>X.from(t[0]),c=(Q,ce)=>Q.type===ce.type&&Q.text===ce.text&&!Q.progressBar&&!Q.timeout&&!ce.progressBar&&!ce.timeout,h=()=>{r().each(Q=>{Q.reposition()})},v=Q=>{t.push(Q)},T=Q=>{Zn(t,ce=>ce===Q).each(ce=>{t.splice(ce,1)})},k=(Q,ce=!0)=>e.removed||!ip(e)?{}:(ce&&e.dispatch("BeforeOpenNotification",{notification:Q}),sn(t,ke=>c(o().getArgs(ke),Q)).getOrThunk(()=>{e.editorManager.setActive(e);const ke=o().open(Q,()=>{T(ke)},()=>QB(e));return v(ke),h(),e.dispatch("OpenNotification",{notification:{...ke}}),ke})),L=()=>{r().each(Q=>{o().close(Q),T(Q),h()})},W=at(t);return(Q=>{Q.on("SkinLoaded",()=>{const ce=aS(Q);ce&&k({text:ce,type:"warning",timeout:0},!1),h()}),Q.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(h)}),Q.on("remove",()=>{Le(t.slice(),ce=>{o().close(ce)})}),Q.on("keydown",ce=>{const ke=ce.key?.toLowerCase()==="f12"||ce.keyCode===123;ce.altKey&&ke&&(ce.preventDefault(),r().map(ge=>De.fromDom(ge.getEl())).each(ge=>Ia(ge)))})})(e),{open:k,close:L,getNotifications:W}},mv=Xi.PluginManager,Zx=Xi.ThemeManager;var _O=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const FP=e=>{let t=[];const o=()=>{const Te=e.theme;return Te&&Te.getWindowManagerImpl?Te.getWindowManagerImpl():_O()},r=(Te,ot)=>(...rt)=>ot?ot.apply(Te,rt):void 0,c=Te=>{e.dispatch("OpenWindow",{dialog:Te})},h=Te=>{e.dispatch("CloseWindow",{dialog:Te})},v=(Te,ot)=>{t.push({instanceApi:Te,triggerElement:ot}),c(Te)},T=Te=>{h(Te);const ot=$r(t,({instanceApi:rt,triggerElement:dt})=>rt===Te?dt:X.none());t=xt(t,({instanceApi:rt})=>rt!==Te),t.length===0?e.focus():ot.filter(hr).each(Ia)},k=()=>X.from(t[t.length-1]),L=Te=>{e.editorManager.setActive(e),ZA(e);const ot=Rl();e.ui.show();const rt=Te();return v(rt,ot),rt},W=(Te,ot)=>L(()=>o().open(Te,ot,T)),G=Te=>L(()=>o().openUrl(Te,T)),Q=Te=>{t.length!==0&&Te.each(ot=>Ia(ot))},ce=(Te,ot,rt)=>{const dt=Rl(),Pt=o();Pt.alert(Te,r(rt||Pt,()=>{Q(dt),ot?.()}))},ke=(Te,ot,rt)=>{const dt=Rl(),Pt=o();Pt.confirm(Te,r(rt||Pt,en=>{Q(dt),ot?.(en)}))},ge=()=>{k().each(({instanceApi:Te})=>{o().close(Te),T(Te)})};return e.on("remove",()=>{Le(t,({instanceApi:Te})=>{o().close(Te)})}),{open:W,openUrl:G,alert:ce,confirm:ke,close:ge}},OO=(e,t)=>{e.notificationManager.open({type:"error",text:t})},Jk=(e,t)=>{e._skinLoaded?OO(e,t):e.on("SkinLoaded",()=>{OO(e,t)})},rW=(e,t)=>{Jk(e,$u.translate(["Failed to upload image: {0}",t]))},Gb=(e,t,o)=>{U2(e,t,{message:o}),console.error(o)},Wx=(e,t,o)=>o?`Failed to load ${e}: ${o} from url ${t}`:`Failed to load ${e} url: ${t}`,$P=(e,t,o)=>{Gb(e,"PluginLoadError",Wx("plugin",t,o))},aW=(e,t,o)=>{Gb(e,"IconsLoadError",Wx("icons",t,o))},qx=(e,t,o)=>{Gb(e,"LanguageLoadError",Wx("language",t,o))},IP=(e,t,o)=>{Gb(e,"ThemeLoadError",Wx("theme",t,o))},iW=(e,t,o)=>{Gb(e,"ModelLoadError",Wx("model",t,o))},HP=(e,t)=>{Gb(e,"LicenseKeyManagerLoadError",Wx("license key manager",t))},lW=(e,t)=>{Gb(e,"ComponentLoadError",Wx("component",t))},cW=(e,t,o)=>{const r=$u.translate(["Failed to initialize plugin: {0}",t]);U2(e,"PluginLoadError",{message:r}),e4(r,o),Jk(e,r)},e4=(e,...t)=>{const o=window.console;o&&(o.error?o.error(e,...t):o.log(e,...t))},zP=new WeakMap,uW=e=>{if(zP.has(e))return;zP.set(e,!0);const t=()=>{e.on("SwitchMode",r=>{const{mode:c}=r;c!=="readonly"&&e.mode.set("readonly")})},o=()=>{e.on("DisabledStateChange",r=>{const{state:c}=r;c||r.preventDefault()},!0)};e.initialized?(e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)):e.on("init",()=>{e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)}),o(),t()},NO=(e,t)=>{const{type:o,message:r}=t;e.notificationManager.open({type:o,text:r})},dW=e=>{switch(e){case"error":return console.error;case"info":return console.info;case"warn":return console.warn;default:return console.log}},RO=e=>{dW(e.type)(e.message)},S1=(e,t)=>{const{console:o,editor:r}=t;qe(r)&&(e._skinLoaded?NO(e,r):e.on("SkinLoaded",()=>{NO(e,r)})),qe(o)&&RO(o)},MO="Read more: https://www.tiny.cloud/docs/tinymce/latest/license-key/",TE="Make sure to provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms.",jP=e=>{const t="The editor is disabled because a TinyMCE license key has not been provided.";S1(e,{console:{type:"error",message:[`${t}`,TE,MO].join(" ")},editor:{type:"warning",message:`${t}`}})},VP=(e,t)=>{const o=`${t==="online"?"API":"license"} key`,r=`The editor is disabled because the TinyMCE ${o} could not be validated.`;S1(e,{console:{type:"error",message:[`${r}`,`The TinyMCE Commercial License Key Manager plugin is required for the provided ${o} to be validated but could not be loaded.`,MO].join(" ")},editor:{type:"warning",message:`${r}`}})},UP=(e,t,o)=>{const r=`The "${t}" plugin requires a valid TinyMCE license key.`;S1(e,{console:{type:"error",message:[`${r}`,MO].join(" ")},...o?{}:{editor:{type:"warning",message:"One or more premium plugins are disabled due to license key restrictions."}}})},AE="licensekeymanager",ZP=e=>J(Ex(e))?"online":"offline",fW=e=>{const t=vA(e)?.toLowerCase();return t==="gpl"?"gpl":fn(t)?"no_key":"non_gpl"},BO=e=>{const t=ZP(e),o=fW(e),r=new Set([...vx(e),...Hn(cS(e))]).has(AE);return o!=="gpl"||t==="online"||r?{type:"use_plugin",onlineStatus:t,licenseKeyType:o,forcePlugin:r}:{type:"use_gpl",onlineStatus:t,licenseKeyType:o,forcePlugin:r}},WP=e=>t=>{let o=!1;return{validate:r=>{const{plugin:c}=r,h=J(c);return h&&(UP(t,c,o),o=!0),Promise.resolve(e&&!h)}}},mW=WP(!1),t4=WP(!0),kE="manager",LO=AE,FO=(()=>{const e=Xi();return{load:(c,h)=>{if(BO(c).type==="use_plugin"){const k=No(cS(c),LO).map(Jr).filter(Hr).getOr(`plugins/${LO}/plugin${h}.js`);e.load(kE,k).catch(()=>{HP(c,k)})}},add:c=>{e.add(kE,c)},init:c=>{const h=k=>{Object.defineProperty(c,"licenseKeyManager",{value:k,writable:!1,configurable:!1,enumerable:!0})},v=BO(c),T=e.get(kE);if(qe(T)){const k=T(c,e.urls[kE]);h(k)}else switch(v.type){case"use_gpl":{h(t4(c));break}case"use_plugin":{uW(c),h(mW(c)),v.onlineStatus==="offline"&&v.licenseKeyType==="no_key"?jP(c):VP(c,v.onlineStatus);break}}c.licenseKeyManager.validate({})}}})(),hW=e=>{X.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},$O=(e,t,o)=>{try{e.getDoc().execCommand(t,!1,String(o))}catch{}},qP=(e,t)=>{$O(e,"StyleWithCSS",t),$O(e,"enableInlineTableEditing",t),$O(e,"enableObjectResizing",t)},IO=e=>{e.selection.setRng(e.selection.getRng())},GP=(e,t,o)=>{Di(e,t)&&!o?aa(e,t):o&&pc(e,t)},HO=e=>{const t=De.fromDom(e.getBody());GP(t,"mce-content-readonly",!0),e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),hW(e)},KP=e=>{const t=De.fromDom(e.getBody());GP(t,"mce-content-readonly",!1),e.hasEditableRoot()&&P(t,!0),qP(e,!1),QB(e)&&e.focus(),IO(e),e.nodeChanged()},Kb=e=>nh(e),Gx="data-mce-contenteditable",DE=e=>{Le(kt(e,'*[contenteditable="true"]'),t=>{Or(t,Gx,"true"),P(t,!1)})},w0=e=>{Le(kt(e,`*[${Gx}="true"]`),t=>{ci(t,Gx),P(t,!0)})},YP=(e,t)=>{const o=De.fromDom(e.getBody());t?(HO(e),P(o,!1),DE(o)):(w0(o),KP(e))},zO=e=>{e.serializer?Ni(e):e.on("PreInit",()=>{Ni(e)})},Ni=e=>{e.parser.addAttributeFilter("contenteditable",t=>{Kb(e)&&Le(t,o=>{o.attr(Gx,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Gx,t=>{Kb(e)&&Le(t,o=>{o.attr("contenteditable",o.attr(Gx))})}),e.serializer.addTempAttr(Gx)},jO=e=>e.type==="click",n4=["copy"],Yb=e=>Be(n4,e.type),XP=(e,t)=>El(t,"a",r=>ss(r,De.fromDom(e.getBody()))).bind(r=>dl(r,"href")),VO=(e,t)=>ia(t,"details",r=>ss(r,De.fromDom(e.getBody()))),gW=(e,t)=>{if(jO(t)&&!Ln.metaKeyPressed(t)){const o=De.fromDom(t.target);XP(e,o).fold(()=>{VO(e,o)&&t.preventDefault()},r=>{if(t.preventDefault(),/^#/.test(r)){const c=e.dom.select(`${r},[name="${Ci(r,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Yb(t)&&e.dispatch(t.type,t)},Zw=e=>{e.on("ShowCaret ObjectSelected",t=>{Kb(e)&&t.preventDefault()}),e.on("DisabledStateChange",t=>{t.isDefaultPrevented()||YP(e,t.state)})},pW=e=>{zO(e),Zw(e)},bW=e=>/^[a-z0-9\-]+$/i.test(e),hv=e=>"content/"+e+"/content.css",yW=e=>tinymce.Resource.has(hv(e)),Kx=e=>Xb(e,wD(e)),vW=e=>Xb(e,sS(e)),Xb=(e,t)=>{const o=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return tt(t,h=>yW(h)?h:bW(h)&&!e.inline?`${o}/${h}/${c}`:e.documentBaseURI.toAbsolute(h))},xW=e=>{e.contentCSS=e.contentCSS.concat(Kx(e),vW(e))},og=e=>e?Ts(e.getElementsByTagName("img")):[],Yx=(e,t)=>{const o={};return{findAll:(c,h=ft)=>{const v=xt(og(c),k=>{const L=k.src;return k.hasAttribute("data-mce-bogus")||k.hasAttribute("data-mce-placeholder")||!L||L===ds.transparentSrc?!1:Co(L,"blob:")?!e.isUploaded(L)&&h(k):Co(L,"data:")?h(k):!1}),T=tt(v,k=>{const L=k.src;if(Qn(o,L))return o[L].then(W=>J(W)?W:{image:k,blobInfo:W.blobInfo});{const W=E5(t,L).then(G=>(delete o[L],{image:k,blobInfo:G})).catch(G=>(delete o[L],G));return o[L]=W,W}});return Promise.all(T)}}},QP=()=>{let o={};const r=(Q,ce)=>({status:Q,resultUri:ce}),c=Q=>Q in o;return{hasBlobUri:c,getResultUri:Q=>{const ce=o[Q];return ce?ce.resultUri:null},isPending:Q=>c(Q)?o[Q].status===1:!1,isUploaded:Q=>c(Q)?o[Q].status===2:!1,markPending:Q=>{o[Q]=r(1,null)},markUploaded:(Q,ce)=>{o[Q]=r(2,ce)},removeFailed:Q=>{delete o[Q]},destroy:()=>{o={}}}};let _E=0;const UO=()=>{const e=()=>Math.round(co()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},wW=e=>e+_E+++UO(),Ww=()=>{let e=[];const t=G=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[G.toLowerCase()]||"dat",o=(G,Q,ce,ke,ge)=>{if(J(G))return r({id:G,name:ke,filename:ge,blob:Q,base64:ce});if(it(G))return r(G);throw new Error("Unknown input type")},r=G=>{if(!G.blob||!G.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const Q=G.id||wW("blobid"),ce=G.name||Q,ke=G.blob;return{id:at(Q),name:at(ce),filename:at(G.filename||ce+"."+t(ke.type)),blob:at(ke),base64:at(G.base64),blobUri:at(G.blobUri||URL.createObjectURL(ke)),uri:at(G.uri)}},c=G=>{v(G.id())||e.push(G)},h=G=>sn(e,G).getOrUndefined(),v=G=>h(Q=>Q.id()===G);return{create:o,add:c,get:v,getByUri:G=>h(Q=>Q.blobUri()===G),getByData:(G,Q)=>h(ce=>ce.base64()===G&&ce.blob().type===Q),findFirst:h,removeByUri:G=>{e=xt(e,Q=>Q.blobUri()===G?(URL.revokeObjectURL(Q.blobUri()),!1):!0)},destroy:()=>{Le(e,G=>{URL.revokeObjectURL(G.blobUri())}),e=[]}}},CW=(e,t)=>{const o={},r=(ge,Te)=>ge?ge.replace(/\/$/,"")+"/"+Te.replace(/^\//,""):Te,c=(ge,Te)=>new Promise((ot,rt)=>{const dt=new XMLHttpRequest;dt.open("POST",t.url),dt.withCredentials=t.credentials,dt.upload.onprogress=en=>{Te(en.loaded/en.total*100)},dt.onerror=()=>{rt("Image upload failed due to a XHR Transport error. Code: "+dt.status)},dt.onload=()=>{if(dt.status<200||dt.status>=300){rt("HTTP Error: "+dt.status);return}const en=JSON.parse(dt.responseText);if(!en||!J(en.location)){rt("Invalid JSON: "+dt.responseText);return}ot(r(t.basePath,en.location))};const Pt=new FormData;Pt.append("file",ge.blob(),ge.filename()),dt.send(Pt)}),h=Re(t.handler)?t.handler:c,v=()=>new Promise(ge=>{ge([])}),T=(ge,Te)=>({url:Te,blobInfo:ge,status:!0}),k=(ge,Te)=>({url:"",blobInfo:ge,status:!1,error:Te}),L=(ge,Te)=>{ln.each(o[ge],ot=>{ot(Te)}),delete o[ge]},W=(ge,Te,ot)=>(e.markPending(ge.blobUri()),new Promise(rt=>{let dt,Pt;try{const en=()=>{dt&&(dt.close(),Pt=Lt)},Nn=Bt=>{en();const Ct=J(Bt)?Bt:Bt.url;e.markUploaded(ge.blobUri(),Ct),L(ge.blobUri(),T(ge,Ct)),rt(T(ge,Ct))},io=Bt=>{en(),e.removeFailed(ge.blobUri()),L(ge.blobUri(),k(ge,Bt)),rt(k(ge,Bt))};Pt=Bt=>{Bt<0||Bt>100||X.from(dt).orThunk(()=>X.from(ot).map(Ne)).each(Ct=>{dt=Ct,Ct.progressBar.value(Bt)})},Te(ge,Pt).then(Nn,Bt=>{io(J(Bt)?{message:Bt}:Bt)})}catch(en){rt(k(ge,en))}})),G=ge=>ge===c,Q=ge=>{const Te=ge.blobUri();return new Promise(ot=>{o[Te]=o[Te]||[],o[Te].push(ot)})},ce=(ge,Te)=>(ge=ln.grep(ge,ot=>!e.isUploaded(ot.blobUri())),Promise.all(ln.map(ge,ot=>e.isPending(ot.blobUri())?Q(ot):W(ot,h,Te))));return{upload:(ge,Te)=>!t.url&&G(h)?v():ce(ge,Te)}},sg=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),OE=(e,t)=>CW(t,{url:Q2(e),basePath:oS(e),credentials:vD(e),handler:sA(e)}),JP=e=>{const t=QP(),o=OE(e,t);return{upload:(r,c=!0)=>o.upload(r,c?sg(e):void 0)}},ZO=(e,t)=>e.dom.isEmpty(t.dom)&&qe(e.schema.getTextBlockElements()[rs(t)]),WO=e=>t=>{ZO(e,t)&&Is(t,De.fromHtml('<br data-mce-bogus="1" />'))},Xx=e=>{const t=Ww();let o,r;const c=QP(),h=[],v=dt=>Pt=>e.selection?dt(Pt):[],T=dt=>dt+(dt.indexOf("?")===-1?"?":"&")+new Date().getTime(),k=(dt,Pt,en)=>{let Nn=0;do Nn=dt.indexOf(Pt,Nn),Nn!==-1&&(dt=dt.substring(0,Nn)+en+dt.substr(Nn+Pt.length),Nn+=en.length-Pt.length+1);while(Nn!==-1);return dt},L=(dt,Pt,en)=>{const Nn=`src="${en}"${en===ds.transparentSrc?' data-mce-placeholder="1"':""}`;return dt=k(dt,`src="${Pt}"`,Nn),dt=k(dt,'data-mce-src="'+Pt+'"','data-mce-src="'+en+'"'),dt},W=(dt,Pt)=>{Le(e.undoManager.data,en=>{en.type==="fragmented"?en.fragments=tt(en.fragments,Nn=>L(Nn,dt,Pt)):en.content=L(en.content,dt,Pt)})},G=(dt,Pt)=>{const en=e.convertURL(Pt,"src");W(dt.src,Pt),Wa(De.fromDom(dt),{src:nA(e)?T(Pt):Pt,"data-mce-src":en})},Q=()=>(o||(o=OE(e,c)),Te().then(v(dt=>{const Pt=tt(dt,en=>en.blobInfo);return o.upload(Pt,sg(e)).then(v(en=>{const Nn=[];let io=!1;const Bt=tt(en,(Ct,Ft)=>{const{blobInfo:On,image:Bo}=dt[Ft];let Lo=!1;return Ct.status&&oA(e)?(Ct.url&&!Ir(Bo.src,Ct.url)&&(io=!0),t.removeByUri(Bo.src),v0(e)||G(Bo,Ct.url)):Ct.error&&(Ct.error.remove&&(W(Bo.src,ds.transparentSrc),Nn.push(Bo),Lo=!0),rW(e,Ct.error.message)),{element:Bo,status:Ct.status,uploadUri:Ct.url,blobInfo:On,removed:Lo}});return Nn.length>0&&!v0(e)?e.undoManager.transact(()=>{Le(Sd(Nn),Ct=>{const Ft=Wi(Ct);Cs(Ct),Ft.each(WO(e)),t.removeByUri(Ct.dom.src)})}):io&&e.undoManager.dispatchChange(),Bt}))}))),ce=()=>tS(e)?Q():Promise.resolve([]),ke=dt=>mr(h,Pt=>Pt(dt)),ge=dt=>{h.push(dt)},Te=()=>(r||(r=Yx(c,t)),r.findAll(e.getBody(),ke).then(v(dt=>{const Pt=xt(dt,en=>J(en)?(Jk(e,en),!1):en.uriType!=="blob");return v0(e)||Le(Pt,en=>{W(en.image.src,en.blobInfo.blobUri()),en.image.src=en.blobInfo.blobUri(),en.image.removeAttribute("data-mce-src")}),Pt}))),ot=()=>{t.destroy(),c.destroy(),r=o=null},rt=dt=>dt.replace(/src="(blob:[^"]+)"/g,(Pt,en)=>{const Nn=c.getResultUri(en);if(Nn)return'src="'+Nn+'"';let io=t.getByUri(en);return io||(io=Pe(e.editorManager.get(),(Bt,Ct)=>Bt||Ct.editorUpload&&Ct.editorUpload.blobCache.getByUri(en),void 0)),io?'src="data:'+io.blob().type+";base64,"+io.base64()+'"':Pt});return e.on("SetContent",()=>{tS(e)?ce():Te()}),e.on("RawSaveContent",dt=>{dt.content=rt(dt.content)}),e.on("GetContent",dt=>{dt.source_view||dt.format==="raw"||dt.format==="tree"||(dt.content=rt(dt.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",dt=>{Le(dt,Pt=>{const en=Pt.attr("src");if(!en||t.getByUri(en))return;const Nn=c.getResultUri(en);Nn&&Pt.attr("src",Nn)})})}),{blobCache:t,addFilter:ge,uploadImages:Q,uploadImagesAuto:ce,scanForImages:Te,destroy:ot}},qO=e=>{const t=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{t.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{t.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},h={inline:"strike",remove:"all",preserve_attributes:["class","style"]},v={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[v,c,h]:[c,v,h]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"},remove_similar:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,h,v)=>Sn(c)&&c.hasAttribute("href"),onformat:(c,h,v)=>{ln.each(v,(T,k)=>{t.setAttrib(c,k,T)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>c?.customValue??null}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return ln.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),c=>{r[c]={block:c,remove:"all"}}),r},eF={remove_similar:!0,inherit:!1},qw={selector:"td,th",...eF},SW={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...qw},tablecellverticalalign:{styles:{"vertical-align":"%value"},...qw},tablecellbordercolor:{styles:{borderColor:"%value"},...qw},tablecellclass:{classes:["%value"],...qw},tableclass:{selector:"table",classes:["%value"],...eF},tablecellborderstyle:{styles:{borderStyle:"%value"},...qw},tablecellborderwidth:{styles:{borderWidth:"%value"},...qw}},EW=at(SW),TW=e=>{const t={},o=v=>qe(v)?t[v]:t,r=v=>Qn(t,v),c=(v,T)=>{v&&(J(v)?(Ke(T)||(T=[T]),Le(T,k=>{xn(k.deep)&&(k.deep=!Kg(k)),xn(k.split)&&(k.split=!Kg(k)||hu(k)),xn(k.remove)&&Kg(k)&&!hu(k)&&(k.remove="none"),Kg(k)&&hu(k)&&(k.mixed=!0,k.block_expand=!0),J(k.classes)&&(k.classes=k.classes.split(/\s+/))}),t[v]=T):Oo(v,(k,L)=>{c(L,k)}))},h=v=>(v&&t[v]&&delete t[v],t);return c(qO(e)),c(EW()),c(AD(e)),{get:o,has:r,register:c,unregister:h}},o4=ln.each,Wd=hs.DOM,rg=e=>qe(e)&&it(e),tF=(e,t)=>{const o=t&&t.schema||Ls({}),r=(k,L)=>{L.classes.length>0&&Wd.addClass(k,L.classes.join(" ")),Wd.setAttribs(k,L.attrs)},c=k=>{const L=J(k)?{name:k,classes:[],attrs:{}}:k,W=Wd.create(L.name);return r(W,L),W},h=(k,L)=>{const G=o.getElementRule(k.nodeName.toLowerCase())?.parentsRequired;return G&&G.length?L&&Be(G,L)?L:G[0]:!1},v=(k,L,W)=>{let G;const Q=L[0],ce=rg(Q)?Q.name:void 0,ke=h(k,ce);if(ke)ce===ke?(G=Q,L=L.slice(1)):G=ke;else if(Q)G=Q,L=L.slice(1);else if(!W)return k;const ge=G?c(G):Wd.create("div");ge.appendChild(k),W&&ln.each(W,ot=>{const rt=c(ot);ge.insertBefore(rt,k)});const Te=rg(G)?G.siblings:void 0;return v(ge,L,Te)},T=Wd.create("div");if(e.length>0){const k=e[0],L=c(k),W=rg(k)?k.siblings:void 0;T.appendChild(v(L,e.slice(1),W))}return T},AW=e=>{e=ln.trim(e);let t="div";const o={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,c,h,v,T)=>{switch(c){case"#":o.attrs.id=h;break;case".":o.classes.push(h);break;case":":ln.inArray("checked disabled enabled read-only required".split(" "),h)!==-1&&(o.attrs[h]=h);break}if(v==="["){const k=T.match(/([\w\-]+)(?:\=\"([^\"]+))?/);k&&(o.attrs[k[1]]=k[2])}return""})),o.name=t||"div",o},kW=e=>J(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),ln.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const o=ln.map(t.split(/(?:~\+|~|\+)/),AW),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],DW=(e,t)=>{let o="",r=kD(e);if(r==="")return"";const c=Q=>J(Q)?Q.replace(/%(\w+)/g,""):"",h=(Q,ce)=>Wd.getStyle(ce??e.getBody(),Q,!0);if(J(t)){const Q=e.formatter.get(t);if(!Q)return"";t=Q[0]}if("preview"in t){const Q=t.preview;if(Q===!1)return"";r=Q||r}let v=t.block||t.inline||"span",T;const k=kW(t.selector);k.length>0?(k[0].name||(k[0].name=v),v=t.selector,T=tF(k,e)):T=tF([v],e);const L=Wd.select(v,T)[0]||T.firstChild;o4(t.styles,(Q,ce)=>{const ke=c(Q);ke&&Wd.setStyle(L,ce,ke)}),o4(t.attributes,(Q,ce)=>{const ke=c(Q);ke&&Wd.setAttrib(L,ce,ke)}),o4(t.classes,Q=>{const ce=c(Q);Wd.hasClass(L,ce)||Wd.addClass(L,ce)}),e.dispatch("PreviewFormats"),Wd.setStyles(T,{position:"absolute",left:-65535}),e.getBody().appendChild(T);const W=h("fontSize"),G=/px$/.test(W)?parseInt(W,10):0;return o4(r.split(" "),Q=>{let ce=h(Q,L);if(!(Q==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ce)&&(ce=h(Q),wc(ce).toLowerCase()==="#ffffff"))&&!(Q==="color"&&wc(ce).toLowerCase()==="#000000")){if(Q==="font-size"&&/em|%$/.test(ce)){if(G===0)return;ce=parseFloat(ce)/(/%$/.test(ce)?100:1)*G+"px"}Q==="border"&&ce&&(o+="padding:0 2px;"),o+=Q+":"+ce+";"}}),e.dispatch("AfterPreviewFormats"),Wd.remove(T),o},_W=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},nF=e=>{const t=TW(e),o=Pn({});return _W(e),E8(e),v0(e)||Ik(o,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(r,c,h)=>{Em(e,r,c,h)},remove:(r,c,h,v)=>{xE(e,r,c,h,v)},toggle:(r,c,h)=>{Tm(e,r,c,h)},match:(r,c,h,v)=>TP(e,r,c,h,v),closest:r=>x0(e,r),matchAll:(r,c)=>vE(e,r,c),matchNode:(r,c,h,v)=>HZ(e,r,c,h,v),canApply:r=>zZ(e,r),formatChanged:(r,c,h,v)=>jZ(e,o,r,c,h,v),getCssText:le(DW,e)}},oF=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},OW=(e,t,o)=>{const r=Pn(!1),c=k=>{dv(t,!1,o),t.add({},k)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",k=>{const L=k.command;oF(L)||(Wk(t,o),t.beforeChange())}),e.on("ExecCommand",k=>{const L=k.command;oF(L)||c(k)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",k=>{const L=k.keyCode;if(k.isDefaultPrevented())return;const W=ds.os.isMacOS()&&k.key==="Meta";(L>=33&&L<=36||L>=37&&L<=40||L===45||k.ctrlKey||W)&&(c(),e.nodeChanged()),(L===46||L===8)&&e.nodeChanged(),r.get()&&t.typing&&!zw(e.readonly,gE(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",k=>{const L=k.keyCode;if(k.isDefaultPrevented())return;if(L>=33&&L<=36||L>=37&&L<=40||L===45){t.typing&&c(k);return}const W=k.ctrlKey&&!k.altKey||k.metaKey;if((L<16||L>20)&&L!==224&&L!==91&&!t.typing&&!W){t.beforeChange(),dv(t,!0,o),t.add({},k),r.set(!0);return}(ds.os.isMacOS()?k.metaKey:k.ctrlKey&&!k.altKey)&&t.beforeChange()}),e.on("mousedown",k=>{t.typing&&c(k)});const h=k=>k.inputType==="insertReplacementText",v=k=>k.inputType==="insertText"&&k.data===null,T=k=>k.inputType==="insertFromPaste"||k.inputType==="insertFromDrop";e.on("input",k=>{k.inputType&&(h(k)||v(k)||T(k))&&c(k)}),e.on("AddUndo Undo Redo ClearUndos",k=>{k.isDefaultPrevented()||e.nodeChanged()})},NW=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},RW=e=>{const t=Fs(),o=Pn(0),r=Pn(0),c={data:[],typing:!1,beforeChange:()=>{ap(e,o,t)},add:(h,v)=>SP(e,c,r,o,t,h,v),dispatchChange:()=>{e.setDirty(!0);const h=gE(e);h.bookmark=mf(e.selection),e.dispatch("change",{level:h,lastLevel:Xs(c.data,r.get()).getOrUndefined()})},undo:()=>mO(e,c,o,r),redo:()=>hO(e,r,c.data),clear:()=>{qk(e,c,r)},reset:()=>{$Z(e,c)},hasUndo:()=>EP(e,c,r),hasRedo:()=>yE(e,c,r),transact:h=>IZ(e,c,o,h),ignore:h=>{Gk(e,o,h)},extra:(h,v)=>{gO(e,c,r,h,v)}};return v0(e)||OW(e,c,o),NW(e),c},MW=[9,27,Ln.HOME,Ln.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Ln.DOWN,Ln.UP,Ln.LEFT,Ln.RIGHT].concat(ds.browser.isFirefox()?[224]:[]),sF="data-mce-placeholder",rF=e=>e.type==="keydown"||e.type==="keyup",aF=e=>{const t=e.keyCode;return t===Ln.BACKSPACE||t===Ln.DELETE},BW=e=>{if(rF(e)){const t=e.keyCode;return!aF(e)&&(Ln.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||Be(MW,t))}else return!1},LW=e=>rF(e)&&!(aF(e)||e.type==="keyup"&&e.keyCode===229),gv=(e,t,o)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const r=t.firstElementChild;return r?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},PW=e=>{const t=e.dom,o=bl(e),r=rS(e)??"",c=(h,v)=>{if(BW(h))return;const T=e.getBody(),k=LW(h)?!1:gv(t,T,o);(t.getAttrib(T,sF)!==""!==k||v)&&(t.setAttrib(T,sF,k?r:null),YC(e,k),e.on(k?"keydown":"keyup",c),e.off(k?"keyup":"keydown",c))};Hr(r)&&e.on("init",h=>{c(h,!0),e.on("change SetContent ExecCommand",c),e.on("paste",v=>Qg.setEditorTimeout(e,()=>c(v)))})},FW=e=>t=>qe(t)&&t.nodeName.toLowerCase()===e,Gw=e=>t=>qe(t)&&e.test(t.nodeName),C0=e=>qe(e)&&e.nodeType===3,s4=e=>qe(e)&&e.nodeType===1,ag=Gw(/^(OL|UL|DL)$/),$W=Gw(/^(OL|UL)$/),r4=Gw(/^(LI|DT|DD)$/),IW=Gw(/^(DT|DD)$/),Qx=FW("br"),HW=e=>e.parentNode?.firstChild===e,GO=(e,t)=>qe(t)&&t.nodeName in e.schema.getTextBlockElements(),KO=(e,t)=>qe(e)&&e.nodeName in t,zW=(e,t)=>qe(t)&&t.nodeName in e.schema.getVoidElements(),jW=(e,t)=>Qx(t)?e.isBlock(t.nextSibling)&&!Qx(t.previousSibling):!1,Jx=(e,t,o)=>{const r=e.isEmpty(t);return o&&e.select("span[data-mce-type=bookmark]",t).length>0?!1:r},iF=(e,t)=>e.isChildOf(t,e.getRoot()),lF=hs.DOM,VW=(e,t)=>{const o=t.parentElement;if(o&&o.nodeName==="LI"&&o.firstChild===t){const r=o.previousSibling;r&&r.nodeName==="LI"?(r.appendChild(t),Jx(e,o)&&lF.remove(o)):lF.setStyle(o,"listStyleType","none")}if(ag(o)){const r=o.previousSibling;r&&r.nodeName==="LI"&&r.appendChild(t)}},YO=(e,t)=>{const o=ln.grep(e.select("ol,ul",t));ln.each(o,r=>{VW(e,r)})},cF=(e,t)=>{if(C0(e))return{container:e,offset:t};const o=f0.getNode(e,t);return C0(o)?{container:o,offset:t>=e.childNodes.length?o.data.length:0}:o.previousSibling&&C0(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&C0(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:t}},XO=e=>{const t=e.cloneRange(),o=cF(e.startContainer,e.startOffset);t.setStart(o.container,o.offset);const r=cF(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},uF=["OL","UL","DL"],dF=uF.join(","),NE=(e,t)=>{const o=e.selection.getStart(!0);return e.dom.getParent(o,dF,RE(e,o))},fF=(e,t)=>qe(e)&&t.length===1&&t[0]===e,UW=e=>xt(e.querySelectorAll(dF),ag),ZW=e=>{const t=NE(e),o=e.selection.getSelectedBlocks();return fF(t,o)?UW(t):xt(o,r=>ag(r)&&t!==r)},WW=(e,t)=>{const o=ln.map(t,r=>{const c=e.dom.getParent(r,"li,dd,dt",RE(e,r));return c||r});return Ma(o)},QO=e=>{const t=e.selection.getSelectedBlocks();return xt(WW(e,t),r4)},qW=e=>xt(QO(e),IW),JO=(e,t)=>{const o=e.dom.getParents(t,"TD,TH");return o.length>0?o[0]:e.getBody()},GW=(e,t)=>!ag(t)&&!r4(t)&&Ye(uF,o=>e.isValidChild(t.nodeName,o)),RE=(e,t)=>{const o=e.dom.getParents(t,e.dom.isBlock),r=h=>h.nodeName.toLowerCase()!==bl(e);return sn(o,h=>r(h)&&GW(e.schema,h)).getOr(e.getBody())},mF=e=>Wi(e).exists(t=>r4(t.dom)&&ai(t).exists(o=>!ag(o.dom))&&ii(t).exists(o=>!ag(o.dom))),hF=(e,t)=>{const o=e.dom.getParents(t,"ol,ul",RE(e,t));return Wr(o)},KW=e=>{const t=hF(e,e.selection.getStart()),o=xt(e.selection.getSelectedBlocks(),$W);return t.toArray().concat(o)},YW=e=>{const t=e.selection.getStart();return e.dom.getParents(t,"ol,ul",RE(e,t))},XW=e=>{const t=KW(e),o=YW(e);return sn(o,r=>mF(De.fromDom(r))).fold(()=>QW(e,t),r=>[r])},QW=(e,t)=>{const o=tt(t,r=>hF(e,r).getOr(r));return Ma(o)},a4=e=>/\btox\-/.test(e.className),gF=(e,t)=>t!==null&&!e.dom.isEditable(t),JW=e=>{const t=NE(e);return gF(e,t)||!e.selection.isEditable()},eN=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return gF(e,o)||!e.selection.isEditable()},pv=(e,t,o)=>e.dispatch("ListMutation",{action:t,element:o}),tN=(e,t,o={})=>{const r=e.dom,c=e.schema.getBlockElements(),h=r.createFragment(),v=bl(e),T=th(e);let k,L,W=!1;for(L=r.create(v,{...T,...o.style?{style:o.style}:{}}),KO(t.firstChild,c)||h.appendChild(L);k=t.firstChild;){const G=k.nodeName;!W&&(G!=="SPAN"||k.getAttribute("data-mce-type")!=="bookmark")&&(W=!0),KO(k,c)?(h.appendChild(k),L=null):(L||(L=r.create(v,T),h.appendChild(L)),L.appendChild(k))}return!W&&L&&L.appendChild(r.create("br",{"data-mce-bogus":"1"})),h},Kw=e=>Sh(e,"OL,UL"),$ne=e=>Sh(e,"LI"),nN=e=>ai(e).exists(Kw),eq=e=>ii(e).exists(Kw),pF=(e,t)=>yS(e).map(o=>o>=t).getOr(!0),e2=e=>"listAttributes"in e,bF=e=>"isComment"in e,tq=e=>"isFragment"in e,yF=e=>e.depth>0,nq=e=>e.isSelected,oq=e=>{const t=ma(e),o=eq(e)?t.slice(0,-1):t;return tt(o,_f)},oN=(e,t,o)=>Wi(e).filter(fa).map(r=>({depth:t,dirty:!1,isSelected:o,content:oq(e),itemAttributes:cs(e),listAttributes:cs(r),listType:rs(r),isInPreviousLi:!1})),i4=(e,t)=>{Is(e.item,t.list)},sq=e=>{for(let t=1;t<e.length;t++)i4(e[t-1],e[t])},vF=(e,t)=>{Bn(Wr(e),gs(t),i4)},rq=(e,t)=>{const o={list:De.fromTag(t,e),item:De.fromTag("li",e)};return Is(o.list,o.item),o},aq=(e,t,o)=>{const r=[];for(let c=0;c<o;c++)r.push(rq(e,e2(t)?t.listType:t.parentListType));return r},iq=(e,t)=>{for(let o=0;o<e.length-1;o++)Bl(e[o].item,"list-style-type","none");Wr(e).each(o=>{e2(t)&&(Wa(o.list,t.listAttributes),Wa(o.item,t.itemAttributes)),hc(o.item,t.content)})},lq=(e,t)=>{rs(e.list)!==t.listType&&(e.list=qa(e.list,t.listType)),Wa(e.list,t.listAttributes)},cq=(e,t,o)=>{const r=De.fromTag("li",e);return Wa(r,t),hc(r,o),r},uq=(e,t)=>{Is(e.list,t),e.item=t},xF=(e,t,o)=>{const r=t.slice(0,o.depth);return Wr(r).each(c=>{if(e2(o)){const h=cq(e,o.itemAttributes,o.content);uq(c,h),lq(c,o)}else if(tq(o))hc(c.item,o.content);else{const h=De.fromHtml(`<!--${o.content}-->`);Is(c.list,h)}}),r},dq=(e,t,o)=>{const r=aq(e,o,o.depth-t.length);return sq(r),iq(r,o),vF(t,r),t.concat(r)},fq=(e,t)=>{let o=X.none();const r=Pe(t,(c,h,v)=>bF(h)?v===0?(o=X.some(h),c):xF(e,c,h):h.depth>c.length?dq(e,c,h):xF(e,c,h),[]);return o.each(c=>{const h=De.fromHtml(`<!--${c.content}-->`);gs(r).each(v=>{ef(v.list,h)})}),gs(r).map(c=>c.list)},mq=(e,t,o)=>{switch(t){case"Indent":if(pF(e,o.depth))o.depth++;else return;break;case"Outdent":o.depth--;break;case"Flatten":o.depth=0}o.dirty=!0},sN=(e,t)=>{e2(e)&&e2(t)&&(e.listType=t.listType,e.listAttributes={...t.listAttributes})},hq=e=>{e.listAttributes=Yn(e.listAttributes,(t,o)=>o!=="start")},gq=(e,t)=>{const o=e[t].depth,r=h=>h.depth===o&&!h.dirty,c=h=>h.depth<o;return Tt(zo(e.slice(0,t)),r,c).orThunk(()=>Tt(e.slice(t+1),r,c))},wF=e=>(Le(e,(t,o)=>{gq(e,o).fold(()=>{t.dirty&&e2(t)&&hq(t)},r=>sN(t,r))}),e),CF=(e,t,o,r)=>{if(xd(r))return[{depth:e+1,content:r.dom.nodeValue??"",dirty:!1,isSelected:!1,isComment:!0}];t.each(v=>{ss(v.start,r)&&o.set(!0)});const c=oN(r,e,o.get());t.each(v=>{ss(v.end,r)&&o.set(!1)});const h=ii(r).filter(Kw).map(v=>ME(e,t,o,v)).getOr([]);return c.toArray().concat(h)},pq=(e,t,o,r)=>ai(r).filter(Kw).fold(()=>CF(e,t,o,r),c=>{const h=Pe(ma(r),(v,T,k)=>{if(k===0)return v;if($ne(T))return v.concat(CF(e,t,o,T));{const L={isFragment:!0,depth:e,content:[T],isSelected:!1,dirty:!1,parentListType:rs(c)};return v.concat(L)}},[]);return ME(e,t,o,c).concat(h)}),ME=(e,t,o,r)=>Do(ma(r),c=>{const h=Kw(c)?ME:pq,v=e+1;return h(v,t,o,c)}),t2=(e,t)=>{const o=Pn(!1),r=0;return tt(e,c=>({sourceList:c,entries:ME(r,t,o,c)}))},SF=(e,t)=>{const o=wF(t);return tt(o,r=>{const c=bF(r)?Ou([De.fromHtml(`<!--${r.content}-->`)]):Ou(r.content),h=e2(r)?r.itemAttributes:{};return De.fromDom(tN(e,c.dom,h))})},bq=(e,t)=>{const o=wF(t);return fq(e.contentDocument,o).toArray()},yq=(e,t)=>Do(Un(t,yF),o=>gs(o).exists(yF)?bq(e,o):SF(e,o)),vq=(e,t,o)=>{Le(xt(t,nq),r=>mq(e,o,r))},xq=e=>{const t=tt(QO(e),De.fromDom);return Bn(sn(t,Ve(nN)),sn(zo(t),Ve(nN)),(o,r)=>({start:o,end:r}))},Yw=(e,t,o)=>{const r=t2(t,xq(e));Le(r,c=>{vq(e,c.entries,o);const h=yq(e,c.entries);Le(h,v=>{pv(e,o==="Indent"?"IndentList":"OutdentList",v.dom)}),Bm(c.sourceList,h),Cs(c.sourceList)})},wq=e=>yS(e).forall(t=>{const o=e.selection.getSelectedBlocks();return Ye(o,r=>El(De.fromDom(r),"li").forall(c=>Ge(c,"ol,ul").length<=t))}),E1=hs.DOM,rN=(e,t,o)=>{const r=L=>{const W=L.parentNode;W&&ln.each(c,G=>{W.insertBefore(G,o.parentNode)}),E1.remove(L)},c=E1.select('span[data-mce-type="bookmark"]',t),h=tN(e,o),v=E1.createRng();v.setStartAfter(o),v.setEndAfter(t);const T=v.extractContents();for(let L=T.firstChild;L;L=L.firstChild)if(L.nodeName==="LI"&&e.dom.isEmpty(L)){E1.remove(L);break}e.dom.isEmpty(T)||E1.insertAfter(T,t),E1.insertAfter(h,t);const k=o.parentElement;k&&Jx(e.dom,k)&&r(k),E1.remove(o),Jx(e.dom,t)&&E1.remove(t)},Cq=Pa("dd"),aN=Pa("dt"),l4=(e,t)=>{Cq(t)?qa(t,"dt"):aN(t)&&Qc(t).each(o=>rN(e,o.dom,t.dom))},Sq=e=>{aN(e)&&qa(e,"dd")},Eq=(e,t,o)=>{t==="Indent"?Le(o,Sq):Le(o,r=>l4(e,r))},Tq=(e,t)=>{const o=Sd(XW(e)),r=Sd(qW(e));let c=!1;if(o.length||r.length){const h=e.selection.getBookmark();Yw(e,o,t),Eq(e,t,r),e.selection.moveToBookmark(h),e.selection.setRng(XO(e.selection.getRng())),e.nodeChanged(),c=!0}return c},iN=(e,t)=>!JW(e)&&Tq(e,t),EF=e=>iN(e,"Indent"),BE=e=>iN(e,"Outdent"),c4=e=>iN(e,"Flatten"),Xw=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Aq=(e,t,o)=>{const r=o["list-style-type"]?o["list-style-type"]:null;e.setStyle(t,"list-style-type",r)},TF=(e,t)=>{ln.each(t,(o,r)=>{e.setAttribute(r,o)})},kq=(e,t,o)=>{TF(t,o["list-attributes"]),ln.each(e.select("li",t),r=>{TF(r,o["list-item-attributes"])})},Qw=(e,t,o)=>{Aq(e,t,o),kq(e,t,o)},Dq=(e,t,o)=>{ln.each(o,r=>e.setStyle(t,r,""))},u4=(e,t)=>qe(t)&&!KO(t,e.schema.getBlockElements()),lN=(e,t,o,r)=>{let c=t[o?"startContainer":"endContainer"];const h=t[o?"startOffset":"endOffset"];s4(c)&&(c=c.childNodes[Math.min(h,c.childNodes.length-1)]||c),!o&&Qx(c.nextSibling)&&(c=c.nextSibling);const v=k=>{for(;!e.dom.isBlock(k)&&k.parentNode&&r!==k;)k=k.parentNode;return k},T=(k,L)=>{const W=new Ka(k,v(k)),G=L?"next":"prev";let Q;for(;Q=W[G]();)if(!(zW(e,Q)||Ei(Q.textContent)||Q.textContent?.length===0))return X.some(Q);return X.none()};if(o&&C0(c))if(Ei(c.textContent))c=T(c,!1).getOr(c);else for(c.parentNode!==null&&u4(e,c.parentNode)&&(c=c.parentNode);c.previousSibling!==null&&(u4(e,c.previousSibling)||C0(c.previousSibling));)c=c.previousSibling;if(!o&&C0(c))if(Ei(c.textContent))c=T(c,!0).getOr(c);else for(c.parentNode!==null&&u4(e,c.parentNode)&&(c=c.parentNode);c.nextSibling!==null&&(u4(e,c.nextSibling)||C0(c.nextSibling));)c=c.nextSibling;for(;c.parentNode!==r;){const k=c.parentNode;if(GO(e,c)||/^(TD|TH)$/.test(k.nodeName))return c;c=k}return c},_q=(e,t,o)=>{const r=[],c=e.dom,h=lN(e,t,!0,o),v=lN(e,t,!1,o);let T;const k=[];for(let L=h;L&&(k.push(L),L!==v);L=L.nextSibling);return ln.each(k,L=>{if(GO(e,L)){r.push(L),T=null;return}if(c.isBlock(L)||Qx(L)){Qx(L)&&c.remove(L),T=null;return}const W=L.nextSibling;if(Tw.isBookmarkNode(L)&&(ag(W)||GO(e,W)||!W&&L.parentNode===o)){T=null;return}T||(T=c.create("p"),L.parentNode?.insertBefore(T,L),r.push(T)),T.appendChild(L)}),r},Oq=(e,t,o)=>{const r=e.getStyle(t,"list-style-type");let c=o?o["list-style-type"]:"";return c=c===null?"":c,r===c},Nq=(e,t)=>{const o=e.selection.getStart(!0),r=lN(e,t,!0,e.getBody());return as(De.fromDom(r),De.fromDom(t.commonAncestorContainer))?t.commonAncestorContainer:o},cN=(e,t,o)=>{const r=e.selection.getRng();let c="LI";const h=RE(e,Nq(e,r)),v=e.dom;if(v.getContentEditable(e.selection.getNode())==="false")return;t=t.toUpperCase(),t==="DL"&&(c="DT");const T=w1(r),k=xt(_q(e,r,h),e.dom.isEditable);ln.each(k,L=>{let W;const G=L.previousSibling,Q=L.parentNode;r4(Q)||(G&&ag(G)&&G.nodeName===t&&Oq(v,G,o)?(W=G,L=v.rename(L,c),G.appendChild(L)):(W=v.create(t),Q.insertBefore(W,L),W.appendChild(L),L=v.rename(L,c)),Dq(v,L,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Qw(v,W,o),uN(e.dom,W))}),e.selection.setRng(eg(T))},Rq=(e,t)=>ag(e)&&e.nodeName===t?.nodeName,AF=(e,t,o)=>{const r=e.getStyle(t,"list-style-type",!0),c=e.getStyle(o,"list-style-type",!0);return r===c},Mq=(e,t)=>e.className===t.className,kF=(e,t,o)=>Rq(t,o)&&AF(e,t,o)&&Mq(t,o),uN=(e,t)=>{let o,r=t.nextSibling;if(kF(e,t,r)){const c=r;for(;o=c.firstChild;)t.appendChild(o);e.remove(c)}if(r=t.previousSibling,kF(e,t,r)){const c=r;for(;o=c.lastChild;)t.insertBefore(o,t.firstChild);e.remove(c)}},Bq=(e,t,o,r)=>{if(t.nodeName!==o){const c=e.dom.rename(t,o);Qw(e.dom,c,r),pv(e,Xw(o),c)}else Qw(e.dom,t,r),pv(e,Xw(o),t)},Lq=(e,t,o,r)=>{if(t.classList.forEach((c,h,v)=>{c.startsWith("tox-")&&(v.remove(c),v.length===0&&t.removeAttribute("class"))}),t.nodeName!==o){const c=e.dom.rename(t,o);Qw(e.dom,c,r),pv(e,Xw(o),c)}else Qw(e.dom,t,r),pv(e,Xw(o),t)},dN=(e,t,o,r,c)=>{const h=ag(t);if(h&&t.nodeName===r&&!DF(c)&&!a4(t))c4(e);else{cN(e,r,c);const v=w1(e.selection.getRng()),T=h?[t,...o]:o,k=h&&a4(t)?Lq:Bq;ln.each(T,L=>{k(e,L,r,c)}),e.selection.setRng(eg(v))}},DF=e=>"list-style-type"in e,Pq=(e,t,o,r)=>{if(t!==e.getBody())if(t)if(t.nodeName===o&&!DF(r)&&!a4(t))c4(e);else{const c=w1(e.selection.getRng());a4(t)&&t.classList.forEach((v,T,k)=>{v.startsWith("tox-")&&(k.remove(v),k.length===0&&t.removeAttribute("class"))}),Qw(e.dom,t,r);const h=e.dom.rename(t,o);uN(e.dom,h),e.selection.setRng(eg(c)),cN(e,o,r),pv(e,Xw(o),h)}else cN(e,o,r),pv(e,Xw(o),t)},fN=(e,t,o)=>{const r=NE(e);if(eN(e,r))return;const c=ZW(e),h=it(o)?o:{};c.length>0?dN(e,r,c,t,h):Pq(e,r,t,h)},_F=(e,t,o,r)=>{let c=t.startContainer;const h=t.startOffset;if(C0(c)&&(o?h<c.data.length:h>0))return c;const v=e.schema.getNonEmptyElements();s4(c)&&(c=f0.getNode(c,h));const T=new Ka(c,r);o&&jW(e.dom,c)&&T.next();const k=o?T.next.bind(T):T.prev2.bind(T);for(;c=k();)if(c.nodeName==="LI"&&!c.hasChildNodes()||v[c.nodeName]||C0(c)&&c.data.length>0)return c;return null},OF=(e,t)=>{const o=t.childNodes;return o.length===1&&!ag(o[0])&&e.isBlock(o[0])},Fq=e=>X.from(e).map(De.fromDom).filter(wd).exists(t=>Cr(t)&&!Be(["details"],rs(t))),$q=(e,t)=>{OF(e,t)&&Fq(t.firstChild)&&e.remove(t.firstChild,!0)},NF=(e,t,o)=>{let r;const c=OF(e,o)?o.firstChild:o;if($q(e,t),!Jx(e,t,!0))for(;r=t.firstChild;)c.appendChild(r)},mN=(e,t,o)=>{let r;const c=t.parentNode;if(!iF(e,t)||!iF(e,o))return;ag(o.lastChild)&&(r=o.lastChild),c===o.lastChild&&Qx(c.previousSibling)&&e.remove(c.previousSibling);const h=o.lastChild;h&&Qx(h)&&t.hasChildNodes()&&e.remove(h),Jx(e,o,!0)&&ql(De.fromDom(o)),NF(e,t,o),r&&o.appendChild(r);const T=mc(De.fromDom(o),De.fromDom(t))?e.getParents(t,ag,o):[];e.remove(t),Le(T,k=>{Jx(e,k)&&k!==e.getRoot()&&e.remove(k)})},Iq=(e,t,o)=>{ql(De.fromDom(o)),mN(e.dom,t,o),e.selection.setCursorLocation(o,0)},Hq=(e,t,o,r)=>{const c=e.dom;if(c.isEmpty(r))Iq(e,o,r);else{const h=w1(t);mN(c,o,r),e.selection.setRng(eg(h))}},zq=(e,t,o,r)=>{const c=w1(t);mN(e.dom,o,r);const h=eg(c);e.selection.setRng(h)},jq=(e,t)=>{const o=e.dom,r=e.selection,c=r.getStart(),h=JO(e,c),v=o.getParent(r.getStart(),"LI",h);if(v){const T=v.parentElement;if(T===e.getBody()&&Jx(o,T))return!0;const k=XO(r.getRng()),L=o.getParent(_F(e,k,t,h),"LI",h),W=L&&(t?o.isChildOf(v,L):o.isChildOf(L,v));if(L&&L!==v&&!W)return e.undoManager.transact(()=>{t?Hq(e,k,L,v):HW(v)?BE(e):zq(e,k,v,L)}),!0;if(W&&!t&&L!==v){const G=k.commonAncestorContainer.parentElement;return!G||o.isChildOf(L,G)?!1:(e.undoManager.transact(()=>{const Q=w1(k);NF(o,G,L),G.remove();const ce=eg(Q);e.selection.setRng(ce)}),!0)}else if(!L&&!t&&k.startOffset===0&&k.endOffset===0)return e.undoManager.transact(()=>{c4(e)}),!0}return!1},Vq=(e,t,o)=>{const r=e.getParent(t.parentNode,e.isBlock,o);e.remove(t),r&&e.isEmpty(r)&&e.remove(r)},Uq=(e,t)=>{const o=e.dom,r=e.selection.getStart(),c=JO(e,r),h=o.getParent(r,o.isBlock,c);if(h&&o.isEmpty(h,void 0,{checkRootAsContent:!0})){const v=XO(e.selection.getRng()),T=_F(e,v,t,c),k=o.getParent(T,"LI",c);if(T&&k){const L=ce=>Be(["td","th","caption"],rs(ce)),W=ce=>ce.dom===c,G=nr(De.fromDom(k),L,W),Q=nr(De.fromDom(v.startContainer),L,W);return wo(G,Q,ss)?(e.undoManager.transact(()=>{const ce=k.parentNode;Vq(o,h,c),uN(o,ce),e.selection.select(T,!0),e.selection.collapse(t)}),!0):!1}}return!1},Zq=(e,t)=>jq(e,t)||Uq(e,t),hN=e=>{const t=e.selection.getStart(),o=JO(e,t),r=e.dom.getParent(t,"LI,DT,DD",o);return qe(r)||QO(e).length>0},Wq=e=>hN(e)?(e.undoManager.transact(()=>{let t=!0;const o=()=>t=!1;e.on("input",o),e.execCommand("Delete"),e.off("input",o),t&&e.dispatch("input"),YO(e.dom,e.getBody())}),!0):!1,gN=(e,t)=>{const o=e.selection;return!eN(e,o.getNode())&&(o.isCollapsed()?Zq(e,t):Wq(e))},qq=(e,t)=>({block:e,position:t}),Gq=(e,t)=>({from:e,to:t}),d4=(e,t)=>{const o=De.fromDom(e),r=De.fromDom(t.container());return j_(o,r).map(c=>qq(c,t))},Kq=e=>!(mc(e.to.block,e.from.block)||mc(e.from.block,e.to.block)),Yq=e=>!ss(e.from.block,e.to.block),pN=(e,t)=>nr(t,c=>jh(c)||Bu(c.dom),c=>ss(c,e)).filter(fa).getOr(e),Xq=(e,t)=>{const o=De.fromDom(e);return ss(pN(o,t.from.block),pN(o,t.to.block))},Qq=e=>na(e.from.block.dom)===!1&&na(e.to.block.dom)===!1,Jq=e=>{const t=o=>Sc(o)||qt(o.dom)||fu(o);return t(e.from.block)&&t(e.to.block)},eG=(e,t,o,r)=>la(r.position.getNode())&&!_a(e,r.block)?y(!1,r.block.dom).bind(c=>c.isEqual(r.position)?Zf(o,t,c).bind(h=>d4(t,h)):X.some(r)).getOr(r):r,bN=(e,t,o,r)=>{const c=d4(t,_t.fromRangeStart(r)),h=c.bind(v=>Zf(o,t,v.position).bind(T=>d4(t,T).map(k=>eG(e,t,o,k))));return Bn(c,h,Gq).filter(v=>Yq(v)&&Xq(t,v)&&Qq(v)&&Jq(v)&&Kq(v))},RF=(e,t,o,r)=>r.collapsed?bN(e,t,o,r):X.none(),Ine=(e,t)=>{const o=ma(e);return Zn(o,r=>t.isBlock(rs(r))).fold(at(o),r=>o.slice(0,r))},Jw=(e,t)=>{const o=Ine(e,t);return Le(o,Cs),o},tG=(e,t,o)=>{const r=Jg(o,t);return sn(r.reverse(),c=>_a(e,c)).each(Cs)},Hne=(e,t)=>xt(qi(t),o=>!_a(e,o)).length===0,zne=(e,t,o,r,c)=>{if(_a(r,o))return Vh(o),H(o.dom);Hne(r,c)&&_a(r,t)&&ul(c,De.fromTag("br"));const h=D(o.dom,_t.before(c.dom));return Le(Jw(t,r),v=>{ul(c,v)}),tG(r,e,t),h},jne=(e,t)=>e.isInline(rs(t)),S0=(e,t,o,r)=>{if(_a(r,o)){if(_a(r,t)){const v=Dt((T=>{const k=(L,W)=>ai(L).fold(()=>W,G=>jne(r,G)?k(G,W.concat(ki(G))):W);return k(T,[])})(o),(T,k)=>(Ml(T,k),k),Fg());ql(t),Is(t,v)}return Cs(o),H(t.dom)}const c=q(o.dom);return Le(Jw(t,r),h=>{Is(o,h)}),tG(r,e,t),c},LE=(e,t)=>{const o=Jg(t,e);return X.from(o[o.length-1])},E0=(e,t)=>mc(t,e)?LE(t,e):X.none(),bv=(e,t)=>{y(e,t.dom).bind(o=>X.from(o.getNode())).map(De.fromDom).filter($d).each(Cs)},f4=(e,t,o,r)=>(bv(!0,t),bv(!1,o),E0(t,o).fold(le(S0,e,t,o,r),le(zne,e,t,o,r))),yN=(e,t,o,r,c)=>t?f4(e,r,o,c):f4(e,o,r,c),n2=(e,t)=>{const o=De.fromDom(e.getBody());return RF(e.schema,o.dom,t,e.selection.getRng()).map(c=>()=>{yN(o,t,c.from.block,c.to.block,e.schema).each(h=>{e.selection.setRng(h.toRange())})})},nG=(e,t,o)=>{const r=t.getRng();return Bn(j_(e,De.fromDom(r.startContainer)),j_(e,De.fromDom(r.endContainer)),(c,h)=>ss(c,h)?X.none():X.some(()=>{r.deleteContents(),yN(e,!0,c,h,o).each(v=>{t.setRng(v.toRange())})})).getOr(X.none())},vN=(e,t)=>{const o=De.fromDom(t),r=le(ss,e);return Dd(o,jh,r).isSome()},Vne=(e,t)=>vN(e,t.startContainer)||vN(e,t.endContainer),oG=(e,t)=>{const o=D(e.dom,_t.fromRangeStart(t)).isNone(),r=E(e.dom,_t.fromRangeEnd(t)).isNone();return!Vne(e,t)&&o&&r},PE=e=>X.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),MF=e=>{const t=De.fromDom(e.getBody()),o=e.selection.getRng();return oG(t,o)?PE(e):nG(t,e.selection,e.schema)},nl=(e,t)=>e.selection.isCollapsed()?X.none():MF(e),Qb=(e,t,o,r,c)=>X.from(t._selectionOverrides.showCaret(e,o,r,c)),sG=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},T1=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?X.none():X.some(sG(t)),o2=(e,t,o)=>{const r=gw(1,e.getBody(),t),c=_t.fromRangeStart(r),h=c.getNode();if(Uf(h))return Qb(1,e,h,!c.isAtEnd(),!1);const v=c.getNode(!0);if(Uf(v))return Qb(1,e,v,!1,!1);const T=m0(e.dom.getRoot(),c.getNode());return Uf(T)?Qb(1,e,T,!1,o):X.none()},Jb=(e,t,o)=>t.collapsed?o2(e,t,o).getOr(t):t,rG=e=>jb(e)||US(e),aG=e=>v1(e)||ZS(e),xN=(e,t)=>{dn(t)&&t.data.length===0&&e.remove(t)},m4=(e,t,o,r,c,h)=>{Qb(r,e,h.getNode(!c),c,!0).each(v=>{if(t.collapsed){const T=t.cloneRange();c?T.setEnd(v.startContainer,v.startOffset):T.setStart(v.endContainer,v.endOffset),T.deleteContents()}else t.deleteContents();e.selection.setRng(v)}),xN(e.dom,o)},BF=(e,t)=>{const o=e.selection.getRng();if(!dn(o.commonAncestorContainer))return X.none();const r=t?1:-1,c=Xh(e.getBody()),h=le(bw,t?c.next:c.prev),v=t?rG:aG,T=g1(r,e.getBody(),o),k=h(T),L=k&&Jh(t,k);if(!L||!Yh(T,L))return X.none();if(v(L))return X.some(()=>m4(e,o,T.getNode(),r,t,L));const W=h(L);return W&&v(W)&&Yh(L,W)?X.some(()=>m4(e,o,T.getNode(),r,t,W)):X.none()},h4=(e,t)=>BF(e,t),wN=(e,t)=>{const o=e.getBody();return t?H(o).filter(jb):q(o).filter(v1)},CN=e=>{const t=e.selection.getRng();return!t.collapsed&&(wN(e,!0).exists(o=>o.isEqual(_t.fromRangeStart(t)))||wN(e,!1).exists(o=>o.isEqual(_t.fromRangeEnd(t))))},SN=e=>qe(e)&&(jh(De.fromDom(e))||fu(De.fromDom(e))),ch=gi.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),iG=(e,t)=>{const o=t.getNode(!e),r=e?"after":"before";return Sn(o)&&o.getAttribute("data-mce-caret")===r},lG=(e,t,o,r,c)=>{const h=v=>c.isInline(v.nodeName.toLowerCase())&&!qg(o,r,e);return pw(!t,o).fold(()=>pw(t,r).fold(He,h),h)},LF=(e,t,o,r,c)=>{const h=c.getNode(!o);return j_(De.fromDom(t),De.fromDom(r.getNode())).map(v=>_a(e,v)?ch.remove(v.dom):ch.moveToElement(h)).orThunk(()=>X.some(ch.moveToElement(h)))},PF=(e,t,o,r)=>Zf(t,e,o).bind(c=>SN(c.getNode())||lG(e,t,o,c,r)?X.none():t&&na(c.getNode())||!t&&na(c.getNode(!0))?LF(r,e,t,o,c):t&&v1(o)||!t&&jb(o)?X.some(ch.moveToPosition(c)):X.none()),EN=(e,t)=>fn(t)?X.none():e&&na(t.nextSibling)?X.some(ch.moveToElement(t.nextSibling)):!e&&na(t.previousSibling)?X.some(ch.moveToElement(t.previousSibling)):X.none(),FF=(e,t,o)=>o.fold(r=>X.some(ch.remove(r)),r=>X.some(ch.moveToElement(r)),r=>qg(t,r,e)?X.none():X.some(ch.moveToPosition(r))),cG=(e,t,o,r)=>iG(t,o)?EN(t,o.getNode(!t)).orThunk(()=>PF(e,t,o,r)):PF(e,t,o,r).bind(c=>FF(e,o,c)),uG=(e,t,o,r)=>{const c=gw(t?1:-1,e,o),h=_t.fromRangeStart(c),v=De.fromDom(e);return!t&&v1(h)?X.some(ch.remove(h.getNode(!0))):t&&jb(h)?X.some(ch.remove(h.getNode())):!t&&jb(h)&&ik(v,h,r)?L6(v,h,r).map(T=>ch.remove(T.getNode())):t&&v1(h)&&P_(v,h,r)?Fj(v,h,r).map(T=>ch.remove(T.getNode())):cG(e,t,h,r)},eC=(e,t)=>o=>(e._selectionOverrides.hideFakeCaret(),x1(e,t,De.fromDom(o)),!0),$F=(e,t)=>o=>{const r=t?_t.before(o):_t.after(o);return e.selection.setRng(r.toRange()),!0},dG=e=>t=>(e.selection.setRng(t.toRange()),!0),TN=(e,t)=>X.from(m0(e.getBody(),t)),fG=(e,t)=>{const o=e.selection.getNode();return TN(e,o).filter(na).fold(()=>uG(e.getBody(),t,e.selection.getRng(),e.schema).map(r=>()=>r.fold(eC(e,t),$F(e,t),dG(e))),()=>X.some(Lt))},IF=e=>{Le(kt(e,".mce-offscreen-selection"),Cs)},mG=(e,t)=>{const o=e.selection.getNode();return na(o)&&!Np(o)?TN(e,o.parentNode).filter(na).fold(()=>X.some(()=>{IF(De.fromDom(e.getBody())),x1(e,t,De.fromDom(e.selection.getNode())),e8(e)}),()=>X.some(Lt)):CN(e)?X.some(()=>{rV(e,e.selection.getRng(),De.fromDom(e.getBody()))}):X.none()},AN=e=>{const t=e.dom,o=e.selection,r=m0(e.getBody(),o.getNode());if(Bu(r)&&t.isBlock(r)&&t.isEmpty(r)){const c=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(c),o.setRng(_t.before(c).toRange())}return!0},g4=(e,t)=>e.selection.isCollapsed()?fG(e,t):mG(e,t),p4=(e,t)=>{const o=e.dom,r=o.getParent(e.selection.getStart(),o.isBlock),c=o.getParent(e.selection.getEnd(),o.isBlock),h=e.getBody();if(r?.nodeName?.toLowerCase()==="div"&&r&&c&&r===h.firstChild&&c===h.lastChild&&!o.isEmpty(h)){const T=r.cloneNode(!1),k=()=>{if(t?oV(e):z_(e),h.firstChild!==r){const L=w1(e.selection.getRng(),()=>document.createElement("span"));Array.from(h.childNodes).forEach(W=>T.appendChild(W)),h.appendChild(T),e.selection.setRng(eg(L))}};return X.some(k)}return X.none()},HF=(e,t)=>{const o=_t.fromRangeStart(e.selection.getRng());return Zf(t,e.getBody(),o).filter(r=>t?O_(r):D6(r)).bind(r=>AS(t?0:-1,r)).map(r=>()=>e.selection.select(r))},b4=(e,t)=>e.selection.isCollapsed()?HF(e,t):X.none(),s2=dn,zF=e=>s2(e)&&e.data[0]===Hi,jF=e=>s2(e)&&e.data[e.data.length-1]===Hi,VF=e=>(e.ownerDocument??document).createTextNode(Hi),kN=e=>{if(s2(e.previousSibling))return jF(e.previousSibling)||e.previousSibling.appendData(Hi),e.previousSibling;if(s2(e))return zF(e)||e.insertData(0,Hi),e;{const t=VF(e);return e.parentNode?.insertBefore(t,e),t}},FE=e=>{if(s2(e.nextSibling))return zF(e.nextSibling)||e.nextSibling.insertData(0,Hi),e.nextSibling;if(s2(e))return jF(e)||e.appendData(Hi),e;{const t=VF(e);return e.nextSibling?e.parentNode?.insertBefore(t,e.nextSibling):e.parentNode?.appendChild(t),t}},yv=(e,t)=>e?kN(t):FE(t),DN=le(yv,!0),UF=le(yv,!1),_N=(e,t)=>dn(e.container())?yv(t,e.container()):yv(t,e.getNode()),$E=(e,t)=>{const o=t.get();return o&&e.container()===o&&pm(o)},ON=(e,t)=>t.fold(o=>{Lb(e.get());const r=DN(o);return e.set(r),X.some(_t(r,r.length-1))},o=>H(o).map(r=>{if($E(r,e)){const c=e.get();return _t(c,1)}else{Lb(e.get());const c=_N(r,!0);return e.set(c),_t(c,1)}}),o=>q(o).map(r=>{if($E(r,e)){const c=e.get();return _t(c,c.length-1)}else{Lb(e.get());const c=_N(r,!1);return e.set(c),_t(c,c.length-1)}}),o=>{Lb(e.get());const r=UF(o);return e.set(r),X.some(_t(r,1))}),ZF=(e,t)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,t);if(r.isSome())return r}return X.none()},kc=gi.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),y4=(e,t)=>{const o=m1(t,e);return o||e},WF=(e,t,o)=>{const r=X6(o),c=y4(t,r.container());return rv(e,c,r).fold(()=>E(c,r).bind(le(rv,e,c)).map(h=>kc.before(h)),X.none)},IE=(e,t)=>Se(e,t)===null,NN=(e,t,o)=>rv(e,t,o).filter(le(IE,t)),RN=(e,t,o)=>{const r=Q6(o);return NN(e,t,r).bind(c=>D(c,r).isNone()?X.some(kc.start(c)):X.none())},qF=(e,t,o)=>{const r=X6(o);return NN(e,t,r).bind(c=>E(c,r).isNone()?X.some(kc.end(c)):X.none())},GF=(e,t,o)=>{const r=Q6(o),c=y4(t,r.container());return rv(e,c,r).fold(()=>D(c,r).bind(le(rv,e,c)).map(h=>kc.after(h)),X.none)},KF=e=>!I_(MN(e)),T0=(e,t,o)=>ZF([WF,RN,qF,GF],[e,t,o]).filter(KF),MN=e=>e.fold(Jn,Jn,Jn,Jn),YF=e=>e.fold(at("before"),at("start"),at("end"),at("after")),v4=e=>e.fold(kc.before,kc.before,kc.after,kc.after),BN=e=>e.fold(kc.start,kc.start,kc.end,kc.end),LN=(e,t)=>YF(e)===YF(t)&&MN(e)===MN(t),hG=(e,t,o,r,c,h)=>Bn(rv(t,o,r),rv(t,o,c),(v,T)=>v!==T&&tV(o,v,T)?kc.after(e?v:T):h).getOr(h),XF=(e,t)=>e.fold(ft,o=>!LN(o,t)),gG=(e,t,o,r,c)=>{const h=Jh(e,c);return Zf(e,o,h).map(le(Jh,e)).fold(()=>r.map(v4),k=>T0(t,o,k).map(le(hG,e,t,o,h,k)).filter(le(XF,r))).filter(KF)},pG=(e,t)=>e?t.fold(F(X.some,kc.start),X.none,F(X.some,kc.after),X.none):t.fold(X.none,F(X.some,kc.before),X.none,F(X.some,kc.end)),bG=(e,t,o,r)=>{const c=Jh(e,r),h=T0(t,o,c);return T0(t,o,c).bind(le(pG,e)).orThunk(()=>gG(e,t,o,h,r))},yG=e=>Re(e.selection.getSel().modify),QF=(e,t,o)=>{const r=e?1:-1;return t.setRng(_t(o.container(),o.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},vG=(e,t)=>{const o=t.selection.getRng(),r=e?_t.fromRangeEnd(o):_t.fromRangeStart(o);return yG(t)?e&&Wm(r)?QF(!0,t.selection,r):!e&&Ig(r)?QF(!1,t.selection,r):!1:!1};var A1;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(A1||(A1={}));const x4=(e,t)=>e===-1?zo(t):t,xG=(e,t,o)=>e===1?t.next(o):t.prev(o),wG=(e,t,o,r)=>la(r.getNode(t===1))?A1.Br:qg(o,r)===!1?A1.Block:A1.Wrap,JF=(e,t,o,r)=>{const c=Xh(o);let h=r;const v=[];for(;h;){const T=xG(t,c,h);if(!T)break;if(la(T.getNode(!1)))return t===1?{positions:x4(t,v).concat([T]),breakType:A1.Br,breakAt:X.some(T)}:{positions:x4(t,v),breakType:A1.Br,breakAt:X.some(T)};if(!T.isVisible()){h=T;continue}if(e(h,T)){const k=wG(o,t,h,T);return{positions:x4(t,v),breakType:k,breakAt:X.some(T)}}v.push(T),h=T}return{positions:x4(t,v),breakType:A1.Eol,breakAt:X.none()}},PN=(e,t,o,r)=>t(o,r).breakAt.map(c=>{const h=t(o,c).positions;return e===-1?h.concat(c):[c].concat(h)}).getOr([]),FN=(e,t)=>Pe(e,(o,r)=>o.fold(()=>X.some(r),c=>Bn(gs(c.getClientRects()),gs(r.getClientRects()),(h,v)=>{const T=Math.abs(t-h.left);return Math.abs(t-v.left)<=T?r:c}).or(o)),X.none()),r2=(e,t)=>gs(t.getClientRects()).bind(o=>FN(e,o.left)),zc=le(JF,_t.isAbove,-1),HE=le(JF,_t.isBelow,1),zE=le(PN,-1,zc),vv=le(PN,1,HE),w4=(e,t)=>zc(e,t).breakAt.isNone(),bf=(e,t)=>HE(e,t).breakAt.isNone(),a2=e=>H(e).map(t=>[t].concat(HE(e,t).positions)).getOr([]),e7=e=>q(e).map(t=>zc(e,t).positions.concat(t)).getOr([]),t7=(e,t)=>r2(zE(e,t),t),$N=(e,t)=>r2(vv(e,t),t),CG=na,IN=(e,t)=>Math.abs(e.left-t),C4=(e,t)=>Math.abs(e.right-t),HN=e=>ls(e,"node"),n7=(e,t)=>Tu(e,(o,r)=>{const c=Math.min(IN(o,t),C4(o,t)),h=Math.min(IN(r,t),C4(r,t));return h===c&&HN(r)&&CG(r.node)||h<c?r:o}),SG=e=>{const t=o=>tt(o,r=>{const c=qm(r);return c.node=e,c});if(Sn(e))return t(e.getClientRects());if(dn(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),t(o.getClientRects())}else return[]},zN=e=>Do(e,SG);var yf;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(yf||(yf={}));const jN=(e,t,o,r)=>{let c=r;for(;c=kx(c,e,zf,t);)if(o(c))return},o7=(e,t,o,r,c,h)=>{let v=0;const T=[],k=G=>{let Q=zN([G]);e===yf.Up&&(Q=Q.reverse());for(let ce=0;ce<Q.length;ce++){const ke=Q[ce];if(!o(ke,L)){if(T.length>0&&t(ke,Vl(T))&&v++,ke.line=v,c(ke))return!0;T.push(ke)}}return!1},L=Vl(h.getClientRects());if(!L)return T;const W=h.getNode();return W&&(k(W),jN(e,r,k,W)),T},S4=(e,t)=>t.line>e,VN=(e,t)=>t.line===e,s7=le(o7,yf.Up,Zh,Gm),r7=le(o7,yf.Down,Gm,Zh),UN=e=>Vl(e.getClientRects()),EG=(e,t,o,r)=>{const c=Xh(t);let h,v,T,k;const L=[];let W=0;e===yf.Down?(h=c.next,v=Gm,T=Zh,k=_t.after(r)):(h=c.prev,v=Zh,T=Gm,k=_t.before(r));const G=UN(k);do{if(!k.isVisible())continue;const Q=UN(k);if(T(Q,G))continue;L.length>0&&v(Q,Vl(L))&&W++;const ce=qm(Q);if(ce.position=k,ce.line=W,o(ce))return L;L.push(ce)}while(k=h(k));return L},a7=e=>t=>S4(e,t),ZN=e=>t=>VN(e,t),k1=(e,t)=>{e.selection.setRng(t),sh(e,e.selection.getRng())},WN=(e,t,o)=>X.some(Jb(e,t,o)),qN=(e,t)=>{const o=e.getNode(t===-1);return qe(o)&&Hl(o)?X.some(o):X.none()},i7=(e,t)=>{const o=e.dom.createRng();return o.selectNode(t),o},l7=(e,t,o,r,c,h)=>{const v=t===1,T=Xh(e.getBody()),k=le(bw,v?T.next:T.prev),L=v?r:c;if(!o.collapsed){const ke=gl(o);if(h(ke))if(Hl(ke)){const ge=g1(t,e.getBody(),o);return X.from(k(ge)).map(Te=>Te.toRange())}else return Qb(t,e,ke,t===-1,!1);else if(CN(e)){const ge=o.cloneRange();return ge.collapse(t===-1),X.from(ge)}}const W=g1(t,e.getBody(),o);if(L(W))return T1(e,W.getNode(!v));let G=k(W);const Q=My(o);if(G)G=Jh(v,G);else return Q?X.some(o):X.none();if(L(G))return qN(G,t).fold(()=>Qb(t,e,G?.getNode(!v),v,!1),ke=>X.some(i7(e,ke)));const ce=k(G);return ce&&L(ce)&&Yh(G,ce)?qN(G,t).fold(()=>Qb(t,e,ce.getNode(!v),v,!1),ke=>X.some(i7(e,ke))):Q?WN(e,G.toRange(),!1):X.none()},c7=(e,t,o,r,c,h)=>{const v=g1(t,e.getBody(),o),T=Vl(v.getClientRects()),k=t===yf.Down,L=e.getBody();if(!T)return X.none();if(CN(e)){const Te=k?_t.fromRangeEnd(o):_t.fromRangeStart(o);return(k?$N:t7)(L,Te).orThunk(()=>X.from(Te)).map(rt=>rt.toRange())}const G=(k?r7:s7)(L,a7(1),v),Q=xt(G,ZN(1)),ce=T.left,ke=n7(Q,ce);if(ke&&h(ke.node)){const Te=Math.abs(ce-ke.left),ot=Math.abs(ce-ke.right);return Qb(t,e,ke.node,Te<ot,!1)}let ge;if(r(v)?ge=v.getNode():c(v)?ge=v.getNode(!0):ge=gl(o),ge){const Te=EG(t,L,a7(1),ge);let ot=n7(xt(Te,ZN(1)),ce);if(ot||(ot=Vl(xt(Te,ZN(0))),ot))return WN(e,ot.position.toRange(),!1)}return Q.length===0?E4(e,k).filter(k?c:r).map(Te=>Jb(e,Te.toRange(),!1)):X.none()},E4=(e,t)=>{const o=e.selection.getRng(),r=t?_t.fromRangeEnd(o):_t.fromRangeStart(o),c=mw(r.container(),e.getBody());if(t){const h=HE(c,r);return Wr(h.positions)}else{const h=zc(c,r);return gs(h.positions)}},T4=(e,t,o)=>E4(e,t).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),tC=(e,t)=>{const o=e.dom.createRng();o.setStart(t.container(),t.offset()),o.setEnd(t.container(),t.offset()),e.selection.setRng(o)},GN=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},A4=(e,t,o)=>ON(t,o).map(r=>(tC(e,r),o)),u7=(e,t,o)=>{const r=_t.fromRangeStart(e);if(e.collapsed)return r;{const c=_t.fromRangeEnd(e);return o?D(t,c).getOr(c):E(t,r).getOr(r)}},d7=(e,t,o)=>{const r=e.getBody(),c=u7(e.selection.getRng(),r,o),h=le(Lx,e);return bG(o,h,r,c).bind(T=>A4(e,t,T))},KN=(e,t,o)=>{const r=tt(kt(De.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),v=>v.dom),c=xt(r,e),h=xt(o,e);Le(os(c,h),le(GN,!1)),Le(os(h,c),le(GN,!0))},f7=(e,t)=>{const o=t.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=_t.fromRangeStart(e.selection.getRng());_t.isTextPosition(r)&&!nV(r)&&(tC(e,jD(o,r)),t.set(null))}},m7=(e,t,o,r)=>{if(t.selection.isCollapsed()){const c=xt(r,e);Le(c,h=>{const v=_t.fromRangeStart(t.selection.getRng());T0(e,t.getBody(),v).bind(T=>A4(t,o,T))})}},YN=(e,t,o)=>f1(e)?d7(e,t,o).isSome():!1,h7=(e,t,o)=>f1(t)?vG(e,t):!1,TG=e=>{const t=Pn(null),o=le(Lx,e);return e.on("NodeChange",r=>{f1(e)&&(KN(o,e.dom,r.parents),f7(e,t),m7(o,e,t,r.parents))}),t},k4=le(h7,!0),AG=le(h7,!1),xv=(e,t,o)=>{if(f1(e)){const r=E4(e,t).getOrThunk(()=>{const c=e.selection.getRng();return t?_t.fromRangeEnd(c):_t.fromRangeStart(c)});return T0(le(Lx,e),e.getBody(),r).exists(c=>{const h=v4(c);return ON(o,h).exists(v=>(tC(e,v),!0))})}else return!1},kG=(e,t)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(t.container(),t.offset()),o},DG=e=>Bn(H(e),q(e),(t,o)=>{const r=Jh(!0,t),c=Jh(!1,o);return E(e,r).forall(h=>h.isEqual(c))}).getOr(!0),g7=(e,t)=>o=>ON(t,o).map(r=>()=>tC(e,r)),p7=(e,t,o,r)=>{const c=e.getBody(),h=le(Lx,e);e.undoManager.ignore(()=>{e.selection.setRng(kG(o,r)),z_(e),T0(h,c,_t.fromRangeStart(e.selection.getRng())).map(BN).bind(g7(e,t)).each(mt)}),e.nodeChanged()},b7=(e,t)=>{const o=m1(t,e);return o||e},y7=(e,t,o,r)=>{const c=b7(e.getBody(),r.container()),h=le(Lx,e),v=T0(h,c,r);return v.bind(k=>o?k.fold(at(X.some(BN(k))),X.none,at(X.some(v4(k))),X.none):k.fold(X.none,at(X.some(v4(k))),X.none,at(X.some(BN(k))))).map(g7(e,t)).getOrThunk(()=>{const k=tv(o,c,r),L=k.bind(W=>T0(h,c,W));return Bn(v,L,()=>rv(h,c,r).bind(W=>DG(W)?X.some(()=>{x1(e,o,De.fromDom(W))}):X.none())).getOrThunk(()=>L.bind(()=>k.map(W=>()=>{o?p7(e,t,r,W):p7(e,t,W,r)})))})},XN=(e,t,o)=>{if(e.selection.isCollapsed()&&f1(e)){const r=_t.fromRangeStart(e.selection.getRng());return y7(e,t,o,r)}return X.none()},_G=e=>om(e)>1,v7=(e,t)=>{const o=De.fromDom(e.getBody()),r=De.fromDom(e.selection.getStart()),c=Jg(r,o);return Zn(c,t).fold(at(c),h=>c.slice(0,h))},OG=e=>om(e)===1,NG=e=>v7(e,t=>e.schema.isBlock(rs(t))||_G(t)),x7=e=>v7(e,t=>e.schema.isBlock(rs(t))),RG=(e,t)=>{const o=le(A8,e);return Do(t,r=>o(r)?[r.dom]:[])},QN=e=>{const t=x7(e);return RG(e,t)},MG=(e,t,o,r)=>{const c=RG(t,r);if(c.length===0)x1(t,e,o);else{const h=r5(o.dom,c);t.selection.setRng(h.toRange())}},BG=(e,t)=>{const o=xt(NG(e),OG);return Wr(o).bind(r=>{const c=_t.fromRangeStart(e.selection.getRng());return t8(t,c,r.dom)&&!r_(r)?X.some(()=>MG(t,e,r,o)):X.none()})},LG=(e,t)=>{const o=t.parentElement;return la(t)&&!ie(o)&&e.dom.isEmpty(o)},PG=e=>r_(De.fromDom(e)),w7=(e,t)=>{const o=e.selection.getStart(),r=LG(e,o)||PG(o)?r5(o,t):OV(e.selection.getRng(),t);e.selection.setRng(r.toRange())},C7=(e,t)=>{const o=os(t,QN(e));o.length>0&&w7(e,o)},JN=e=>dn(e.startContainer),FG=e=>e.startOffset===0&&JN(e),$G=(e,t)=>{const o=t.startContainer.parentElement;return!ie(o)&&A8(e,De.fromDom(o))},IG=e=>{const t=e.startContainer.parentNode,o=e.endContainer.parentNode;return!ie(t)&&!ie(o)&&t.isEqualNode(o)},HG=e=>{const t=e.endContainer;return e.endOffset===(dn(t)?t.length:t.childNodes.length)},zG=e=>IG(e)&&HG(e),jG=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),VG=e=>zG(e)||jG(e),UG=e=>{const t=e.selection.getRng();return FG(t)&&$G(e,t)&&VG(t)},ZG=e=>{if(UG(e)){const t=QN(e);return X.some(()=>{z_(e),C7(e,t)})}else return X.none()},eR=(e,t)=>e.selection.isCollapsed()?BG(e,t):ZG(e),S7=(e,t)=>Cn(e,o=>de(o.dom),o=>t.isBlock(rs(o))),WG=e=>S7(De.fromDom(e.selection.getStart()),e.schema),qG=e=>{const t=e.selection.getRng();return t.collapsed&&(JN(t)||e.dom.isEmpty(t.startContainer))&&!WG(e)},jE=e=>(qG(e)&&w7(e,[]),!0),nC=(e,t,o)=>qe(o)?X.some(()=>{e._selectionOverrides.hideFakeCaret(),x1(e,t,De.fromDom(o))}):X.none(),GG=(e,t)=>{const o=t?US:ZS,c=g1(t?1:-1,e.getBody(),e.selection.getRng());return o(c)?nC(e,t,c.getNode(!t)):X.from(Jh(t,c)).filter(h=>o(h)&&Yh(c,h)).bind(h=>nC(e,t,h.getNode(!t)))},KG=(e,t)=>{const o=e.selection.getNode();return Rd(o)?nC(e,t,o):X.none()},D4=(e,t)=>e.selection.isCollapsed()?GG(e,t):KG(e,t),tR=e=>nr(e,t=>Bu(t.dom)||na(t.dom)).exists(t=>Bu(t.dom)),nR=e=>Ef(e??"").getOr(0),E7=(e,t)=>{const o=e||$2(t)?"margin":"padding",r=ka(t,"direction")==="rtl"?"-right":"-left";return o+r},Une=(e,t,o,r,c,h)=>{const v=E7(o,De.fromDom(h)),T=nR(e.getStyle(h,v));if(t==="outdent"){const k=Math.max(0,T-r);e.setStyle(h,v,k?k+c:"")}else{const k=T+r+c;e.setStyle(h,v,k)}},YG=(e,t)=>mr(t,o=>{const r=E7(ew(e),o),c=di(o,r).map(nR).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&c>0}),T7=e=>{const t=A7(e);return!e.mode.isReadOnly()&&(t.length>1||YG(e,t))},XG=e=>!e.mode.isReadOnly()&&wq(e),oC=e=>Id(e)||fu(e),QG=e=>Wi(e).exists(oC),A7=e=>xt(Sd(e.selection.getSelectedBlocks()),t=>!oC(t)&&!QG(t)&&tR(t)),k7=(e,t)=>{if(e.mode.isReadOnly())return;const{dom:o}=e,r=xD(e),c=/[a-z%]+$/i.exec(r)?.[0]??"px",h=nR(r),v=ew(e);Le(A7(e),T=>{Une(o,t,v,h,c,T.dom)}),t==="indent"?EF(e):BE(e)},D7=e=>k7(e,"indent"),ey=e=>k7(e,"outdent"),vf=e=>{if(e.selection.isCollapsed()&&T7(e)){const t=e.dom,o=e.selection.getRng(),r=_t.fromRangeStart(o),c=t.getParent(o.startContainer,t.isBlock);if(c!==null&&rk(De.fromDom(c),r,e.schema))return X.some(()=>ey(e))}return X.none()},_7=(e,t)=>{const o=x5(e.selection.getRng());return Dz(o)?X.some(()=>x1(e,t,De.fromDom(e.selection.getNode()))):X.none()},i2=(e,t)=>e.selection.isCollapsed()?X.none():_7(e,t),ty=(e,t,o)=>$r([vf,g4,h4,(r,c)=>XN(r,t,c),n2,Y_,b4,D4,nl,eR,p4,i2],r=>r(e,o)).filter(r=>e.selection.isEditable()),lp=(e,t)=>{ty(e,t,!1).fold(()=>{e.selection.isEditable()&&(z_(e),e8(e))},mt),hN(e)&&YO(e.dom,e.getBody())},VE=(e,t)=>{ty(e,t,!0).fold(()=>{e.selection.isEditable()&&oV(e)},mt),hN(e)&&YO(e.dom,e.getBody())},oR=(e,t)=>{e.addCommand("delete",()=>{lp(e,t)}),e.addCommand("forwardDelete",()=>{VE(e,t)})},_4=5,O7=400,sR=e=>e.touches===void 0||e.touches.length!==1?X.none():X.some(e.touches[0]),JG=(e,t)=>{const o=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return o>_4||r>_4},eK=e=>{const t=Fs(),o=Pn(!1),r=Su(c=>{e.dispatch("longpress",{...c,type:"longpress"}),o.set(!0)},O7);e.on("touchstart",c=>{sR(c).each(h=>{r.cancel();const v={x:h.clientX,y:h.clientY,target:c.target};r.throttle(c),o.set(!1),t.set(v)})},!0),e.on("touchmove",c=>{r.cancel(),sR(c).each(h=>{t.on(v=>{JG(h,v)&&(t.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{r.cancel(),c.type!=="touchcancel"&&t.get().filter(h=>h.target.isEqualNode(c.target)).each(()=>{o.get()?c.preventDefault():e.dispatch("tap",{...c,type:"tap"})})},!0)},O4=(e,t)=>Qn(e,t.nodeName),N7=(e,t)=>dn(t)?!0:Sn(t)?!O4(e.getBlockElements(),t)&&!wi(t)&&!Ya(e,t)&&!Z0(t)&&!Rh(t):!1,R7=(e,t,o)=>Ye(O6(De.fromDom(o),De.fromDom(t)),r=>O4(e,r.dom)),tK=(e,t)=>{if(dn(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||O4(e,t.nextSibling)||Z0(t.nextSibling)}return!1},M7=e=>e.dom.create(bl(e),th(e)),Zne=e=>{const t=e.dom,o=e.selection,r=e.schema,c=r.getBlockElements(),h=o.getStart(),v=e.getBody();let T,k,L=null;const W=bl(e);if(!h||!Sn(h))return;const G=v.nodeName.toLowerCase();if(!r.isValidChild(G,W.toLowerCase())||R7(c,v,h))return;if(v.firstChild===v.lastChild&&la(v.firstChild)){T=M7(e),T.appendChild(Fg().dom),v.replaceChild(T,v.firstChild),e.selection.setCursorLocation(T,0),e.nodeChanged();return}let Q=v.firstChild;for(;Q;)if(Sn(Q)&&yc(r,Q),N7(r,Q)){if(tK(c,Q)){k=Q,Q=Q.nextSibling,t.remove(k);continue}if(!T){if(!L&&e.hasFocus()&&(L=w1(e.selection.getRng(),()=>document.createElement("span"))),!Q.parentNode){Q=null;break}T=M7(e),v.insertBefore(T,Q)}k=Q,Q=Q.nextSibling,T.appendChild(k)}else T=null,Q=Q.nextSibling;L&&(e.selection.setRng(eg(L)),e.nodeChanged())},nK=(e,t,o)=>{const r=De.fromDom(M7(e)),c=Fg();Is(r,c),o(t,r);const h=document.createRange();return h.setStartBefore(c.dom),h.setEndBefore(c.dom),h},cp=e=>{e.on("NodeChange",()=>Zne(e))},B7=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,oK=(e,t,o)=>function(r){const c=arguments,h=c[c.length-2],v=h>0?t.charAt(h-1):"";if(v==='"')return r;if(v===">"){const T=t.lastIndexOf("<",h);if(T!==-1&&t.substring(T,h).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},l2=(e,t,o)=>{let r=t.length,c=o.content;if(o.format!=="raw"){for(;r--;)c=c.replace(t[r],oK(e,c,wx(e)));o.content=c}},L7=(e,t)=>mr(e,o=>{const r=t.match(o);return r!==null&&r[0].length===t.length}),sK=e=>{const t="contenteditable",o=" "+ln.trim(pA(e))+" ",r=" "+ln.trim(wx(e))+" ",c=B7(o),h=B7(r),v=HD(e);v.length>0&&e.on("BeforeSetContent",T=>{l2(e,v,T)}),e.parser.addAttributeFilter("class",T=>{let k=T.length;for(;k--;){const L=T[k];c(L)?L.attr(t,"true"):h(L)&&L.attr(t,"false")}}),e.serializer.addAttributeFilter(t,T=>{let k=T.length;for(;k--;){const L=T[k];if(!c(L)&&!h(L))continue;const W=L.attr("data-mce-content");v.length>0&&W?L7(v,W)?(L.name="#text",L.type=3,L.raw=!0,L.value=W):L.remove():L.attr(t,null)}})},N4=e=>Yu(De.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),R4=(e,t)=>{t.hasAttribute("data-mce-caret")&&(ff(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},P7=(e,t)=>{const o=N4(e);if(o){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),R4(e,o);return}Ry(o)&&(R4(e,o),e.undoManager.add())}},F7=e=>{e.on("keyup compositionstart",le(P7,e))},$7=na,I7=(e,t,o)=>l7(t,e,o,jb,v1,$7),H7=(e,t,o)=>c7(t,e,o,h=>jb(h)||WS(h),h=>v1(h)||N_(h),$7),z7=e=>{const t=e.dom.create(bl(e));return t.innerHTML='<br data-mce-bogus="1">',t},M4=(e,t,o)=>{const r=Xh(e.getBody()),c=le(bw,t===1?r.next:r.prev);if(o.collapsed){const h=e.dom.getParent(o.startContainer,"PRE");if(!h)return;if(!c(_t.fromRangeStart(o))){const T=De.fromDom(z7(e));t===1?Sl(De.fromDom(h),T):ul(De.fromDom(h),T),e.selection.select(T.dom,!0),e.selection.collapse()}}},rK=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return I7(o,e,r).orThunk(()=>(M4(e,o,r),X.none()))},aK=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return H7(o,e,r).orThunk(()=>(M4(e,o,r),X.none()))},iK=(e,t)=>{const o=t?e.getEnd(!0):e.getStart(!0);return I_(o)?!t:t},j7=(e,t)=>rK(e,iK(e.selection,t)).exists(o=>(k1(e,o),!0)),V7=(e,t)=>aK(e,t).exists(o=>(k1(e,o),!0)),U7=(e,t)=>T4(e,t,t?v1:jb),B4=(e,t)=>wN(e,!t).map(o=>{const r=o.toRange(),c=e.selection.getRng();return t?r.setStart(c.startContainer,c.startOffset):r.setEnd(c.endContainer,c.endOffset),r}).exists(o=>(k1(e,o),!0)),Z7=(e,t)=>{const o=v=>ss(v,t),r=v=>Bu(v.dom),c=De.fromDom(e.container());return nr(c,r,o).filter(v=>!o(v))},W7=(e,t,o)=>(o?$N:t7)(e.getBody(),t).map(c=>c.toRange()),lK=(e,t)=>{const o=_t.fromRangeStart(e.selection.getRng()),r=_t.fromRangeEnd(e.selection.getRng()),c=De.fromDom(e.getBody());return xs(Bn(Z7(o,c),Z7(r,c),(v,T)=>ss(v,T)?X.some(v):X.none())).fold(He,v=>t&&bf(v.dom,r)||!t&&w4(v.dom,o)?W7(e,t?r:o,t).exists(T=>(k1(e,T),!0)):!1)},D1=(e,t)=>lK(e,t),rR=e=>Be(["figcaption"],rs(e)),cK=(e,t,o)=>{const r=le(ss,t);return nr(De.fromDom(e.container()),c=>o.isBlock(rs(c)),r).filter(rR)},uK=(e,t,o)=>t?bf(e.dom,o):w4(e.dom,o),dK=(e,t)=>{const o=De.fromDom(e.getBody()),r=_t.fromRangeStart(e.selection.getRng());return cK(r,o,e.schema).exists(()=>{if(uK(o,t,r)){const h=nK(e,o,t?Is:ef);return e.selection.setRng(h),!0}else return!1})},L4=(e,t)=>e.selection.isCollapsed()?dK(e,t):!1,aR=(e,t,o)=>{const r=e.selection.getRng(),c=_t.fromRangeStart(r);return e.getBody().firstChild===t&&w4(o,c)?(e.execCommand("InsertNewBlockBefore"),!0):!1},q7=(e,t)=>{const o=e.selection.getRng(),r=_t.fromRangeStart(o);return e.getBody().lastChild===t&&bf(t,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},G7=(e,t)=>t?X.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>q7(e,o)).getOr(!1):X.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>X.from(e.dom.getParent(o,"details")).map(r=>aR(e,r,o))).getOr(!1),iR=(e,t)=>G7(e,t),K7={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},UE=e=>tt(e,t=>({...K7,...t})),P4=e=>tt(e,t=>({...K7,...t})),lR=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,Y7=(e,t)=>Do(UE(e),o=>lR(o,t)?[o]:[]),X7=(e,t)=>Do(P4(e),o=>lR(o,t)?[o]:[]),Ro=(e,...t)=>()=>e.apply(null,t),wv=(e,t)=>sn(Y7(e,t),o=>o.action()),F4=(e,t)=>$r(X7(e,t),o=>o.action()),sC=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return l7(e,o,r,US,ZS,Rd).exists(c=>(k1(e,c),!0))},Q7=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return c7(e,o,r,US,ZS,Rd).exists(c=>(k1(e,c),!0))},cR=(e,t)=>T4(e,t,t?ZS:US),fK=(e,t)=>J7(e,t,ft),J7=(e,t,o)=>Do(ma(e),r=>wl(r,t)?o(r)?[r]:[]:J7(r,t,o)),e$=(e,t,o=He)=>{if(o(t))return X.none();if(Be(e,rs(t)))return X.some(t);const r=c=>wl(c,"table")||o(c);return Da(t,e.join(","),r)},mK=(e,t)=>e$(["td","th"],e,t),t$=e=>fK(e,"th,td"),hK=(e,t)=>El(e,"table",t),n$=gi.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),ZE={...n$,none:e=>n$.none(e)},uR=(e,t,o,r,c=ft)=>{const h=r===1;if(!h&&o<=0)return ZE.first(e[0]);if(h&&o>=e.length-1)return ZE.last(e[e.length-1]);{const v=o+r,T=e[v];return c(T)?ZE.middle(t,T):uR(e,t,v,r,c)}},o$=(e,t)=>hK(e,t).bind(o=>{const r=t$(o);return Zn(r,h=>ss(e,h)).map(h=>({index:h,all:r}))}),gK=(e,t,o)=>o$(e,o).fold(()=>ZE.none(e),c=>uR(c.all,e,c.index,1,t)),pK=(e,t,o)=>o$(e,o).fold(()=>ZE.none(),c=>uR(c.all,e,c.index,-1,t));var dR=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],bK=()=>{const e=L=>De.fromDom(L.dom.cloneNode(!1)),t=L=>Xc(L).dom,o=L=>fa(L)?rs(L)==="body"?!0:Be(dR,rs(L)):!1,r=L=>fa(L)?Be(["br","img","hr","input"],rs(L)):!1,c=L=>fa(L)&&yr(L,"contenteditable")==="false",h=(L,W)=>L.dom.compareDocumentPosition(W.dom),v=(L,W)=>{const G=cs(L);Wa(W,G)},T=L=>{const W=rs(L);return Be(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],W)},k=L=>fa(L)?dl(L,"lang"):X.none();return{up:at({selector:Da,closest:El,predicate:Dd,all:cl}),down:at({selector:kt,predicate:we}),styles:at({get:ka,getRaw:di,set:Bl,remove:Sg}),attrs:at({get:yr,set:Or,remove:ci,copyTo:v}),insert:at({before:ul,after:Sl,afterAll:Th,append:Is,appendAll:hc,prepend:ef,wrap:Ml}),remove:at({unwrap:Gl,remove:Cs}),create:at({nu:De.fromTag,clone:e,text:De.fromText}),query:at({comparePosition:h,prevSibling:qu,nextSibling:Za}),property:at({children:ma,name:rs,parent:Wi,document:t,isText:ws,isComment:xd,isElement:fa,isSpecial:T,getLanguage:k,getText:yi,setText:Sp,isBoundary:o,isEmptyTag:r,isNonEditable:c}),eq:ss,is:Sh}};const _1=(e,t)=>({element:e,offset:t}),fR=(e,t)=>{if(e.property().isText(t))return _1(t,e.property().getText(t).length);{const o=e.property().children(t);return o.length>0?fR(e,o[o.length-1]):_1(t,o.length)}},$4=(e,t,o)=>{const r=e.property().children(t);return r.length>0&&o<r.length?$4(e,r[o],0):r.length>0&&e.property().isElement(t)&&r.length===o?fR(e,r[r.length-1]):_1(t,o)},s$=$4,mR=bK(),Cv=(e,t)=>s$(mR,e,t),hR=us("image"),ig=e=>{const t=e;return X.from(t[hR])},c2=(e,t)=>{const o=e;o[hR]=t},I4=us("event"),gR=e=>{const t=e;return X.from(t[I4])},H4=e=>t=>{const o=t;o[I4]=e},r$=(e,t)=>H4(t)(e),a$=H4(0),yK=H4(2),vK=H4(1),xK=(e=>t=>{const o=t;return X.from(o[I4]).exists(r=>r===e)})(0),i$=()=>Object.freeze({length:0,item:e=>null}),pR=us("mode"),wK=e=>{const t=e;return X.from(t[pR])},ny=e=>t=>{const o=t;o[pR]=e},WE=(e,t)=>ny(t)(e),bR=ny(0),z4=ny(2),yR=ny(1),l$=e=>t=>{const o=t;return X.from(o[pR]).exists(r=>r===e)},rC=l$(0),c$=l$(1),u$=(e,t)=>({...t,get length(){return t.length},add:(o,r)=>{if(rC(e))if(J(o)){if(!xn(r))return t.add(o,r)}else return t.add(o);return null},remove:o=>{rC(e)&&t.remove(o)},clear:()=>{rC(e)&&t.clear()}}),j4=["none","copy","link","move"],d$=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],aC=()=>{const e=new window.DataTransfer;let t="move",o="all";const r={get dropEffect(){return t},set dropEffect(c){Be(j4,c)&&(t=c)},get effectAllowed(){return o},set effectAllowed(c){xK(r)&&Be(d$,c)&&(o=c)},get items(){return u$(r,e.items)},get files(){return c$(r)?i$():e.files},get types(){return e.types},setDragImage:(c,h,v)=>{rC(r)&&(c2(r,{image:c,x:h,y:v}),e.setDragImage(c,h,v))},getData:c=>c$(r)?"":e.getData(c),setData:(c,h)=>{rC(r)&&e.setData(c,h)},clearData:c=>{rC(r)&&e.clearData(c)}};return bR(r),r},CK=e=>{const t=aC(),o=wK(e);return z4(e),a$(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,ig(e).each(r=>t.setDragImage(r.image,r.x,r.y)),Le(e.types,r=>{r!=="Files"&&t.setData(r,e.getData(r))}),Le(e.files,r=>t.items.add(r)),gR(e).each(r=>{r$(t,r)}),o.each(r=>{WE(e,r),WE(t,r)}),t},f$=e=>{const t=e.getData("text/html");return t===""?X.none():X.some(t)},m$=(e,t)=>e.setData("text/html",t),SK=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),EK=(e,t)=>Do(t,o=>{const r=SK(qm(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),h$=(e,t,o)=>Pe(e,(r,c)=>r.fold(()=>X.some(c),h=>{const v=Math.sqrt(Math.abs(h.x-t)+Math.abs(h.y-o)),T=Math.sqrt(Math.abs(c.x-t)+Math.abs(c.y-o));return X.some(T<v?c:h)}),X.none()),g$=(e,t,o,r,c)=>{const h=kt(De.fromDom(o),"td,th,caption").map(T=>T.dom),v=xt(EK(e,h),T=>t(T,c));return h$(v,r,c).map(T=>T.cell)},TK=e=>e.bottom,p$=e=>e.top,qE=(e,t)=>e.y<t,AK=(e,t)=>e.y>t,b$=le(g$,TK,qE),y$=le(g$,p$,AK),v$=(e,t)=>gs(t.getClientRects()).bind(o=>b$(e,o.left,o.top)).bind(o=>r2(e7(o),t)),vR=(e,t)=>Wr(t.getClientRects()).bind(o=>y$(e,o.left,o.top)).bind(o=>r2(a2(o),t)),x$=(e,t,o)=>o.breakAt.exists(r=>e(t,r).breakAt.isSome()),kK=e=>e.breakType===A1.Wrap&&e.positions.length===0,w$=e=>e.breakType===A1.Br&&e.positions.length===1,C$=(e,t,o)=>{const r=e(t,o);return kK(r)||!la(o.getNode())&&w$(r)?!x$(e,t,r):r.breakAt.isNone()},DK=le(C$,zc),_K=le(C$,HE),xR=(e,t,o)=>{const r=_t.fromRangeStart(t);return y(!e,o).exists(c=>c.isEqual(r))},OK=(e,t,o,r)=>{const c=e.selection.getRng(),h=t?1:-1;return dw()&&xR(t,c,o)?(Qb(h,e,o,!t,!1).each(v=>{k1(e,v)}),!0):!1},NK=(e,t,o)=>v$(t,o).orThunk(()=>gs(o.getClientRects()).bind(r=>FN(zE(e,_t.before(t)),r.left))).getOr(_t.before(t)),V4=(e,t,o)=>vR(t,o).orThunk(()=>gs(o.getClientRects()).bind(r=>FN(vv(e,_t.after(t)),r.left))).getOr(_t.after(t)),S$=(e,t)=>{const o=t.getNode(e);return iu(o)?X.some(o):X.none()},wR=(e,t,o)=>{t.undoManager.transact(()=>{const r=e?Sl:ul,c=nK(t,De.fromDom(o),r);k1(t,c)})},CR=(e,t,o)=>{const r=S$(!!t,o),c=t===!1;r.fold(()=>k1(e,o.toRange()),h=>y(c,e.getBody()).filter(v=>v.isEqual(o)).fold(()=>k1(e,o.toRange()),v=>wR(t,e,h)))},E$=(e,t,o,r)=>{const c=e.selection.getRng(),h=_t.fromRangeStart(c),v=e.getBody();if(!t&&DK(r,h)){const T=NK(v,o,h);return CR(e,t,T),!0}else if(t&&_K(r,h)){const T=V4(v,o,h);return CR(e,t,T),!0}else return!1},SR=(e,t,o)=>X.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>X.from(e.dom.getParent(r,"table")).map(c=>o(e,t,c,r))).getOr(!1),T$=(e,t)=>SR(e,t,OK),ER=(e,t)=>SR(e,t,E$),RK=e=>{const t=Oh.exact(e,0,e,0);return af(t)},MK=e=>iC(e)||$s(e).some(t=>wd(t)&&iC(t)),GE=(e,t,o)=>o.fold(X.none,X.none,(r,c)=>im(c).map(h=>RK(h)),r=>e.mode.isReadOnly()||!BK(r)||!MK(r)?X.none():(e.execCommand("mceTableInsertRowAfter"),A$(e,t,r))),BK=e=>nr(e,Pa("table")).exists(Cr),A$=(e,t,o)=>GE(e,t,gK(o,iC)),LK=(e,t,o)=>GE(e,t,pK(o,iC)),iC=e=>Cr(e)||Fo(e,PK),PK=e=>wd(e)&&Cr(e),k$=(e,t)=>{const o=["table","li","dl"],r=De.fromDom(e.getBody()),c=T=>{const k=rs(T);return ss(T,r)||Be(o,k)},h=e.selection.getRng(),v=De.fromDom(t?h.endContainer:h.startContainer);return mK(v,c).map(T=>(hK(T,c).each(W=>{e.model.table.clearSelectedCells(W.dom)}),e.selection.collapse(!t),(t?A$:LK)(e,c,T).each(W=>{e.selection.setRng(W)}),!0)).getOr(!1)},D$=(e,t,o)=>{const r=ds.os.isMacOS()||ds.os.isiOS(),c=ds.browser.isFirefox();wv([{keyCode:Ln.RIGHT,action:Ro(j7,e,!0)},{keyCode:Ln.LEFT,action:Ro(j7,e,!1)},{keyCode:Ln.UP,action:Ro(V7,e,!1)},{keyCode:Ln.DOWN,action:Ro(V7,e,!0)},...r?[{keyCode:Ln.UP,action:Ro(B4,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Ln.DOWN,action:Ro(B4,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Ln.RIGHT,action:Ro(T$,e,!0)},{keyCode:Ln.LEFT,action:Ro(T$,e,!1)},{keyCode:Ln.UP,action:Ro(ER,e,!1)},{keyCode:Ln.DOWN,action:Ro(ER,e,!0)},{keyCode:Ln.UP,action:Ro(ER,e,!1)},{keyCode:Ln.UP,action:Ro(iR,e,!1)},{keyCode:Ln.DOWN,action:Ro(iR,e,!0)},{keyCode:Ln.RIGHT,action:Ro(sC,e,!0)},{keyCode:Ln.LEFT,action:Ro(sC,e,!1)},{keyCode:Ln.UP,action:Ro(Q7,e,!1)},{keyCode:Ln.DOWN,action:Ro(Q7,e,!0)},{keyCode:Ln.RIGHT,action:Ro(YN,e,t,!0)},{keyCode:Ln.LEFT,action:Ro(YN,e,t,!1)},{keyCode:Ln.RIGHT,ctrlKey:!r,altKey:r,action:Ro(k4,e,t)},{keyCode:Ln.LEFT,ctrlKey:!r,altKey:r,action:Ro(AG,e,t)},{keyCode:Ln.UP,action:Ro(L4,e,!1)},{keyCode:Ln.DOWN,action:Ro(L4,e,!0)},...c?[{keyCode:Ln.UP,action:Ro(D1,e,!1)},{keyCode:Ln.DOWN,action:Ro(D1,e,!0)}]:[]],o).each(h=>{o.preventDefault()})},FK=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||D$(e,t,o)})},A0=(e,t)=>({container:e,offset:t}),U4=hs.DOM,Z4=e=>t=>e===t?-1:0,$K=e=>t=>e.isBlock(t)||Be(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",TR=(e,t,o)=>{if(dn(e)&&t>=0)return X.some(A0(e,t));{const r=du(U4);return X.from(r.backwards(e,t,Z4(e),o)).map(c=>A0(c.container,c.container.data.length))}},AR=(e,t,o)=>{if(dn(e)&&t>=e.length)return X.some(A0(e,t));{const r=du(U4);return X.from(r.forwards(e,t,Z4(e),o)).map(c=>A0(c.container,0))}},kR=(e,t,o)=>{if(!dn(e))return X.none();const r=e.data;if(t>=0&&t<=r.length)return X.some(A0(e,t));{const c=du(U4);return X.from(c.backwards(e,t,Z4(e),o)).bind(h=>{const v=h.container.data;return kR(h.container,t+v.length,o)})}},DR=(e,t,o)=>{if(!dn(e))return X.none();const r=e.data;if(t<=r.length)return X.some(A0(e,t));{const c=du(U4);return X.from(c.forwards(e,t,Z4(e),o)).bind(h=>DR(h.container,t-r.length,o))}},_R=(e,t,o,r,c)=>{const h=du(e,$K(e));return X.from(h.backwards(t,o,r,c))},IK=e=>e.collapsed&&dn(e.startContainer),HK=e=>Pc(e.toString().replace(/\u00A0/g," ")),_$=e=>e!==""&&` \uFEFF\f
\r	\v`.indexOf(e)!==-1,ic=(e,t)=>e.substring(t.length),zK=(e,t,o,r=!1)=>{let c;const h=o.charAt(0);for(c=t-1;c>=0;c--){const v=e.charAt(c);if(!r&&_$(v))return X.none();if(h===v&&Ir(e,o,c,t))break}return X.some(c)},OR=(e,t,o,r=!1)=>{if(!IK(t))return X.none();const c={text:"",offset:0},h=(T,k,L)=>(c.text=L+c.text,c.offset+=k,zK(c.text,c.offset,o,r).getOr(k)),v=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return _R(e,t.startContainer,t.startOffset,h,v).bind(T=>{const k=t.cloneRange();if(k.setStart(T.container,T.offset),k.setEnd(t.endContainer,t.endOffset),k.collapsed)return X.none();const L=HK(k);return L.lastIndexOf(o)!==0?X.none():X.some({text:ic(L,o),range:k,trigger:o})})},jK=e=>e.nodeType===P0,O$=e=>e.nodeType===Ch,W4=e=>{if(jK(e))return A0(e,e.data.length);{const t=e.childNodes;return t.length>0?W4(t[t.length-1]):A0(e,t.length)}},NR=(e,t)=>{const o=e.childNodes;return o.length>0&&t<o.length?NR(o[t],0):o.length>0&&O$(e)&&o.length===t?W4(o[o.length-1]):A0(e,t)},KE=(e,t)=>{const o=e.getParent(t.container,e.isBlock)??e.getRoot();return _R(e,t.container,t.offset,(r,c)=>c===0?-1:c,o).filter(r=>{const c=r.container.data.charAt(r.offset-1);return!_$(c)}).isSome()},VK=e=>t=>{const o=NR(t.startContainer,t.startOffset);return!KE(e,o)},UK=(e,t,o)=>$r(o.triggers,r=>OR(e,t,r)),ZK=(e,t)=>{const o=t(),r=e.selection.getRng();return UK(e.dom,r,o).bind(c=>N$(e,t,c))},N$=(e,t,o,r={})=>{const c=t(),v=e.selection.getRng().startContainer.nodeValue??"",T=xt(c.lookupByTrigger(o.trigger),L=>o.text.length>=L.minChars&&L.matches.getOrThunk(()=>VK(e.dom))(o.range,v,o.text));if(T.length===0)return X.none();const k=Promise.all(tt(T,L=>L.fetch(o.text,L.maxResults,r).then(G=>({matchText:o.text,items:G,columns:L.columns,onAction:L.onAction,highlightOn:L.highlightOn}))));return X.some({lookupData:k,context:o})},WK=WC("type"),qK=PT("fetch"),GK=PT("onAction"),KK=e=>qy("columns",e),YK=Us([WK,WC("trigger"),dD("minChars",1),KK(1),dD("maxResults",10),CB("matches"),qK,GK,fD("highlightOn",[],C)]),XK=e=>gf("Autocompleter",YK,e),QK=()=>{const e={},t={},o={},r={},c={},h={},v={},T={},k={},L=(ce,ke)=>(ge,Te)=>{ce[ge.toLowerCase()]={...Te,type:ke}},W=(ce,ke)=>(ge,Te)=>{ce[ge.toLowerCase()]={type:ke,...Te}},G=(ce,ke)=>r[ce.toLowerCase()]=ke,Q=(ce,ke)=>v[ce.toLowerCase()]=ke;return{addButton:L(e,"button"),addGroupToolbarButton:L(e,"grouptoolbarbutton"),addToggleButton:L(e,"togglebutton"),addMenuButton:L(e,"menubutton"),addSplitButton:L(e,"splitbutton"),addMenuItem:L(t,"menuitem"),addNestedMenuItem:L(t,"nestedmenuitem"),addToggleMenuItem:L(t,"togglemenuitem"),addAutocompleter:L(o,"autocompleter"),addContextMenu:L(c,"contextmenu"),addContextToolbar:L(h,"contexttoolbar"),addContextForm:W(h,"contextform"),addSidebar:L(T,"sidebar"),addView:L(k,"views"),addIcon:G,addContext:Q,getAll:()=>({buttons:e,menuItems:t,icons:r,popups:o,contextMenus:c,contextToolbars:h,sidebars:T,views:k,contexts:v})}},JK=e=>{const t=e.ui.registry.getAll().popups,o=ui(t,v=>XK(v).fold(T=>{throw new Error(Jm(T))},Jn)),r=Tf(Gn(o,v=>v.trigger)),c=vo(o);return{dataset:o,triggers:r,lookupByTrigger:v=>xt(c,T=>T.trigger===v)}},eY=(e,t)=>{const o=Su(t.load,50);e.on("input",r=>{r.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",r=>{const c=r.which;c===8?o.throttle():c===27?(o.cancel(),t.cancelIfNecessary()):(c===38||c===40)&&o.cancel()},!0),e.on("remove",o.cancel)},tY=e=>{const t=Fs(),o=Pn(!1),r=t.isSet,c=()=>{r()&&(u1(e),o.set(!1),t.clear())},h=G=>{r()||t.set({trigger:G.trigger,matchLength:G.text.length})},v=Ri(()=>JK(e)),T=G=>t.get().map(Q=>OR(e.dom,e.selection.getRng(),Q.trigger,!0).bind(ce=>N$(e,v,ce,G))).getOrThunk(()=>ZK(e,v)),k=G=>{T(G).fold(c,Q=>{h(Q.context),Q.lookupData.then(ce=>{t.get().map(ke=>{const ge=Q.context;ke.trigger===ge.trigger&&(t.set({...ke,matchLength:ge.text.length}),o.get()?(QC(e,{range:ge.range}),mx(e,{lookupData:ce})):(o.set(!0),QC(e,{range:ge.range}),fx(e,{lookupData:ce})))})})})},L=(G,Q)=>{const ce=G.compareBoundaryPoints(window.Range.START_TO_START,Q),ke=G.compareBoundaryPoints(window.Range.END_TO_END,Q);return ce>=0&&ke<=0},W=()=>t.get().bind(({trigger:G})=>{const Q=e.selection.getRng();return OR(e.dom,Q,G,o.get()).filter(({range:ce})=>L(Q,ce)).map(({range:ce})=>ce)});e.addCommand("mceAutocompleterReload",(G,Q)=>{const ce=it(Q)?Q.fetchOptions:{};k(ce)}),e.addCommand("mceAutocompleterClose",c),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{W().each(G=>{QC(e,{range:G})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>W().isSome()),eY(e,{cancelIfNecessary:c,load:k})},R$=bs().browser.isSafari(),RR=e=>Vh(De.fromDom(e)),M$=(e,t)=>e.startOffset===0&&e.endOffset===t.textContent?.length,q4=(e,t)=>X.from(e.getParent(t.container(),"details")),B$=(e,t)=>q4(e,t).isSome(),oY=(e,t)=>{const o=X.from(e.getParent(t.startContainer,"details")),r=X.from(e.getParent(t.endContainer,"details"));if(o.isSome()||r.isSome()){const c=o.bind(h=>X.from(e.select("summary",h)[0]));return X.some({startSummary:c,startDetails:o,endDetails:r})}else return X.none()},L$=(e,t)=>H(t).exists(o=>o.isEqual(e)),sY=(e,t)=>q(t).exists(o=>la(o.getNode())&&D(t,o).exists(r=>r.isEqual(e))||o.isEqual(e)),P$=(e,t)=>t.startSummary.exists(o=>L$(e,o)),rY=(e,t)=>t.startSummary.exists(o=>sY(e,o)),F$=(e,t)=>t.startDetails.exists(o=>D(o,e).forall(r=>t.startSummary.exists(c=>!c.contains(e.container())&&c.contains(r.container())))),$$=(e,t,o)=>o.startDetails.exists(r=>E(e,t).forall(c=>!r.contains(c.container()))),I$=(e,t)=>{const o=t.getNode();xn(o)||e.selection.setCursorLocation(o,t.offset())},H$=(e,t,o)=>{const r=e.dom.getParent(t.container(),"details");if(r&&!r.open){const c=e.dom.select("summary",r)[0];c&&(o?H(c):q(c)).each(v=>I$(e,v))}else I$(e,t)},aY=(e,t)=>{const o=k=>k.contains(e.startContainer),r=k=>k.contains(e.endContainer),c=t.startSummary.exists(o),h=t.startSummary.exists(r),v=t.startDetails.forall(k=>t.endDetails.forall(L=>k!==L));return(c||h)&&!(c&&h)||v},z$=(e,t,o)=>{const{dom:r,selection:c}=e,h=e.getBody();if(o==="character"){const v=_t.fromRangeStart(c.getRng()),T=r.getParent(v.container(),r.isBlock),k=q4(r,v),L=T&&r.isEmpty(T),W=ie(T?.previousSibling),G=ie(T?.nextSibling);return L&&(t?G:W)&&tv(!t,h,v).exists(ke=>B$(r,ke)&&!wo(k,q4(r,ke)))?!0:tv(t,h,v).fold(He,Q=>{const ce=q4(r,Q);if(B$(r,Q)&&!wo(k,ce)){if(t||H$(e,Q,!1),T&&L){if(t&&W)return!0;if(!t&&G)return!0;H$(e,Q,t),e.dom.remove(T)}return!0}else return!1})}else return!1},j$=(e,t,o,r)=>{const h=e.selection.getRng(),v=_t.fromRangeStart(h),T=e.getBody();return r==="selection"?aY(h,t):o?rY(v,t)||$$(T,v,t):P$(v,t)||F$(v,t)},iY=(e,t,o)=>oY(e.dom,e.selection.getRng()).fold(()=>z$(e,t,o),r=>j$(e,r,t,o)||z$(e,t,o)),lY=(e,t,o)=>{const r=e.selection,c=r.getNode(),h=r.getRng(),v=_t.fromRangeStart(h);return vy(c)?(o==="selection"&&M$(h,c)||t8(t,v,c)?RR(c):e.undoManager.transact(()=>{const T=r.getSel();let{anchorNode:k,anchorOffset:L,focusNode:W,focusOffset:G}=T??{};const Q=()=>{qe(k)&&qe(L)&&qe(W)&&qe(G)&&T?.setBaseAndExtent(k,L,W,G)},ce=()=>{k=T?.anchorNode,L=T?.anchorOffset,W=T?.focusNode,G=T?.focusOffset},ke=(Te,ot)=>{Le(Te.childNodes,rt=>{BS(rt)&&ot.appendChild(rt)})},ge=e.dom.create("span",{"data-mce-bogus":"1"});ke(c,ge),c.appendChild(ge),Q(),(o==="word"||o==="line")&&T?.modify("extend",t?"right":"left",o),!r.isCollapsed()&&M$(r.getRng(),ge)?RR(c):(e.execCommand(t?"ForwardDelete":"Delete"),ce(),ke(ge,c),Q()),e.dom.remove(ge)}),!0):!1},Sv=(e,t,o)=>iY(e,t,o)||R$&&lY(e,t,o)?X.some(Lt):X.none(),V$=e=>(t,o,r={})=>{const c=t.getBody(),h={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:Lt,inputType:o},v=db(new InputEvent(e));return t.dispatch(e,{...v,...h,...r})},YE=V$("input"),XE=V$("beforeinput"),U$=bs(),Z$=U$.os,W$=Z$.isMacOS()||Z$.isiOS(),q$=U$.browser.isFirefox(),uY=(e,t,o)=>{const r=o.keyCode===Ln.BACKSPACE?"deleteContentBackward":"deleteContentForward",c=e.selection.isCollapsed(),h=c?"character":"selection",v=T=>c?T?"word":"line":"selection";F4([{keyCode:Ln.BACKSPACE,action:Ro(vf,e)},{keyCode:Ln.BACKSPACE,action:Ro(g4,e,!1)},{keyCode:Ln.DELETE,action:Ro(g4,e,!0)},{keyCode:Ln.BACKSPACE,action:Ro(h4,e,!1)},{keyCode:Ln.DELETE,action:Ro(h4,e,!0)},{keyCode:Ln.BACKSPACE,action:Ro(XN,e,t,!1)},{keyCode:Ln.DELETE,action:Ro(XN,e,t,!0)},{keyCode:Ln.BACKSPACE,action:Ro(Y_,e,!1)},{keyCode:Ln.DELETE,action:Ro(Y_,e,!0)},{keyCode:Ln.BACKSPACE,action:Ro(Sv,e,!1,h)},{keyCode:Ln.DELETE,action:Ro(Sv,e,!0,h)},...W$?[{keyCode:Ln.BACKSPACE,altKey:!0,action:Ro(Sv,e,!1,v(!0))},{keyCode:Ln.DELETE,altKey:!0,action:Ro(Sv,e,!0,v(!0))},{keyCode:Ln.BACKSPACE,metaKey:!0,action:Ro(Sv,e,!1,v(!1))}]:[{keyCode:Ln.BACKSPACE,ctrlKey:!0,action:Ro(Sv,e,!1,v(!0))},{keyCode:Ln.DELETE,ctrlKey:!0,action:Ro(Sv,e,!0,v(!0))}],{keyCode:Ln.BACKSPACE,action:Ro(b4,e,!1)},{keyCode:Ln.DELETE,action:Ro(b4,e,!0)},{keyCode:Ln.BACKSPACE,action:Ro(D4,e,!1)},{keyCode:Ln.DELETE,action:Ro(D4,e,!0)},{keyCode:Ln.BACKSPACE,action:Ro(nl,e,!1)},{keyCode:Ln.DELETE,action:Ro(nl,e,!0)},{keyCode:Ln.BACKSPACE,action:Ro(n2,e,!1)},{keyCode:Ln.DELETE,action:Ro(n2,e,!0)},{keyCode:Ln.BACKSPACE,action:Ro(eR,e,!1)},{keyCode:Ln.DELETE,action:Ro(eR,e,!0)},{keyCode:Ln.BACKSPACE,action:Ro(p4,e,!1)},{keyCode:Ln.DELETE,action:Ro(p4,e,!0)},{keyCode:Ln.BACKSPACE,action:Ro(i2,e,!1)},{keyCode:Ln.DELETE,action:Ro(i2,e,!0)}],o).filter(T=>e.selection.isEditable()).each(T=>{o.preventDefault(),XE(e,r).isDefaultPrevented()||(T(),YE(e,r))})},dY=(e,t,o,r)=>wv([{keyCode:Ln.BACKSPACE,action:Ro(AN,e)},{keyCode:Ln.DELETE,action:Ro(AN,e)},...W$?[{keyCode:Ln.BACKSPACE,altKey:!0,action:Ro(jE,e)},{keyCode:Ln.DELETE,altKey:!0,action:Ro(jE,e)},...o?[{keyCode:q$?224:91,action:Ro(()=>(C7(e,r),jE(e)))}]:[]]:[{keyCode:Ln.BACKSPACE,ctrlKey:!0,action:Ro(jE,e)},{keyCode:Ln.DELETE,ctrlKey:!0,action:Ro(jE,e)}]],t),fY=(e,t)=>{let o=!1,r=[];e.on("keydown",c=>{o=c.keyCode===Ln.BACKSPACE,r=QN(e),c.isDefaultPrevented()||uY(e,t,c)}),e.on("keyup",c=>{c.isDefaultPrevented()||(dY(e,c,o,r),r.length=0),o=!1})},mY=(e,t)=>{const o=De.fromDom(e),r=De.fromDom(t),c=Pa("span"),h=le(ss,o),v=k=>fa(k)&&di(k,"font-size").isSome(),T=[...v(r)?[r]:[],...j(r,v,h)];Le(T.slice(1),k=>{Sg(k,"font-size"),ci(k,"data-mce-style"),c(k)&&tf(k)&&Gl(k)})},hY=e=>{for(;e;){if(Sn(e)||dn(e)&&e.data&&/[\r\n\s]/.test(e.data))return X.from(De.fromDom(e));e=e.nextSibling}return X.none()},lC=(e,t)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const h=k=>/^(ul|ol|dl)$/.test(rs(k)),v=k=>h(k)?X.from(k):kh(k,h),T=k=>o.isEmpty(k.dom);hY(t.firstChild).each(k=>{v(k).fold(()=>{if(T(k)){const L=Cv(k,0).element;fa(L)&&!$d(L)&&Is(L,De.fromText(qr))}},L=>{ul(L,De.fromText(qr))})})}const c=o.createRng();if(t.normalize(),t.hasChildNodes()){const h=new Ka(t,t);let v=t,T;for(;T=h.current();){if(dn(T)){c.setStart(T,0),c.setEnd(T,0);break}if(r[T.nodeName.toLowerCase()]){c.setStartBefore(T),c.setEndBefore(T);break}v=T,T=h.next()}T||(c.setStart(v,0),c.setEnd(v,0))}else la(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(c.setStartBefore(t),c.setEndBefore(t)):(c.setStartAfter(t),c.setEndAfter(t)):(c.setStart(t,0),c.setEnd(t,0));e.selection.setRng(c),sh(e,c)},QE=(e,t)=>{const o=e.getRoot();let r,c=t;for(;c!==o&&c&&e.getContentEditable(c)!=="false";){if(e.getContentEditable(c)==="true"){r=c;break}c=c.parentNode}return c!==o?r:o},MR=e=>X.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),Gne=e=>MR(e).fold(at(""),t=>t.nodeName.toUpperCase()),gY=e=>MR(e).filter(t=>fu(De.fromDom(t))).isSome(),cC=e=>{e.innerHTML='<br data-mce-bogus="1">'},G$=(e,t,o)=>{const r=e.dom;X.from(o.style).map(r.parseStyle).each(k=>{const W={...of(De.fromDom(t)),...k};r.setStyles(t,W)});const c=X.from(o.class).map(k=>k.split(/\s+/)),h=X.from(t.className).map(k=>xt(k.split(/\s+/),L=>L!==""));Bn(c,h,(k,L)=>{const W=xt(L,Q=>!Be(k,Q)),G=[...k,...W];r.setAttrib(t,"class",G.join(" "))});const v=["style","class"],T=Yn(o,(k,L)=>!Be(v,L));r.setAttribs(t,T)},uC=(e,t)=>{if(bl(e).toLowerCase()===t.tagName.toLowerCase()){const r=th(e);G$(e,t,r)}},K$=(e,t,o,r,c=!0,h,v)=>{const T=e.dom,k=e.schema,L=bl(e),W=o?o.nodeName.toUpperCase():"";let G=t;const Q=k.getTextInlineElements();let ce;h||W==="TABLE"||W==="HR"?ce=T.create(h||L,v||{}):ce=o.cloneNode(!1);let ke=ce;if(!c)T.setAttrib(ce,"style",null),T.setAttrib(ce,"class",null);else{do if(Q[G.nodeName]){if(de(G)||wi(G))continue;const ge=G.cloneNode(!1);T.setAttrib(ge,"id",""),ce.hasChildNodes()?(ge.appendChild(ce.firstChild),ce.appendChild(ge)):(ke=ge,ce.appendChild(ge))}while((G=G.parentNode)&&G!==r);ce.nodeName!=="LI"&&mY(ce,ke)}return uC(e,ce),cC(ke),ce},Y$=(e,t)=>e.dom.getParent(t,V0),X$=(e,t,o)=>{let r=t;for(;r&&r!==e&&ie(r.nextSibling);){const c=r.parentElement;if(!c||!o(c))return V0(c);r=c}return!1},pY=(e,t,o)=>!t&&o.nodeName.toLowerCase()===bl(e)&&e.dom.isEmpty(o)&&X$(e.getBody(),o,r=>Qn(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),bY=(e,t,o)=>{const r=t(bl(e)),c=Y$(e,o);c&&(e.dom.insertAfter(r,c),lC(e,r),(o.parentElement?.childNodes?.length??0)>1&&e.dom.remove(o))},yY=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,Q$=e=>e.parentNode?.firstChild===e,J$=(e,t)=>{const o=e?.parentNode;return qe(o)&&o.nodeName===t},G4=e=>qe(e)&&/^(OL|UL|LI)$/.test(e.nodeName),BR=e=>qe(e)&&/^(LI|DT|DD)$/.test(e.nodeName),vY=e=>G4(e)&&G4(e.parentNode),K4=e=>{const t=e.parentNode;return BR(t)?t:e},JE=(e,t,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!Sn(r);)r=r[o?"nextSibling":"previousSibling"];return r===t},eI=e=>Pe(Gn(of(De.fromDom(e)),(t,o)=>`${o}: ${t};`),(t,o)=>t+o,""),xY=(e,t,o,r,c)=>{const h=e.dom,v=e.selection.getRng(),T=o.parentNode;if(o===e.getBody()||!T)return;vY(o)&&(c="LI");const k=BR(r)?eI(r):void 0;let L=BR(r)&&k?t(c,{style:eI(r)}):t(c);if(JE(o,r,!0)&&JE(o,r,!1))if(J$(o,"LI")){const W=K4(o);h.insertAfter(L,W),Q$(o)?h.remove(W):h.remove(o)}else h.replace(L,o);else if(JE(o,r,!0))J$(o,"LI")?(h.insertAfter(L,K4(o)),L.appendChild(h.doc.createTextNode(" ")),L.appendChild(o)):T.insertBefore(L,o),h.remove(r);else if(JE(o,r,!1))h.insertAfter(L,K4(o)),h.remove(r);else{o=K4(o);const W=v.cloneRange();W.setStartAfter(r),W.setEndAfter(o);const G=W.extractContents();if(c==="LI"&&yY(G,"LI")){const Q=xt(tt(L.children,De.fromDom),Ve(Pa("br")));L=G.firstChild,h.insertAfter(G,o),Le(Q,ce=>ef(De.fromDom(L),ce)),k&&L.setAttribute("style",k)}else h.insertAfter(G,o),h.insertAfter(L,o);h.remove(r)}lC(e,L)},wY=e=>{Le(we(De.fromDom(e),ws),t=>{const o=t.dom;o.nodeValue=Pc(o.data)})},CY=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},Kne=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),LR=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,SY=(e,t)=>e.nodeName===t||e.nextSibling&&e.nextSibling.nodeName===t,PR=(e,t)=>qe(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",EY=(e,t,o)=>{const r=[];if(!o)return;let c=o;for(;c=c.firstChild;){if(e.isBlock(c))return;Sn(c)&&!t[c.nodeName.toLowerCase()]&&r.push(c)}let h=r.length;for(;h--;)c=r[h],(!c.hasChildNodes()||c.firstChild===c.lastChild&&c.firstChild?.nodeValue===""||Kne(e,c))&&e.remove(c)},FR=(e,t,o)=>dn(t)?e?o===1&&t.data.charAt(o-1)===Hi?0:o:o===t.data.length-1&&t.data.charAt(o)===Hi?t.data.length:o:o,tI=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,FR(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,FR(!1,e.endContainer,e.endOffset)),t},TY=e=>{let t=e;do dn(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},$R=(e,t,o,r,c)=>{const h=e.dom,v=QE(h,r)??h.getRoot();let T=h.getParent(r,h.isBlock);if(!T||!PR(h,T)){if(T=T||v,!T.hasChildNodes()){const G=h.create(t);return uC(e,G),T.appendChild(G),o.setStart(G,0),o.setEnd(G,0),G}let k=r;for(;k&&k.parentNode!==T;)k=k.parentNode;let L;for(;k&&!h.isBlock(k);)L=k,k=k.previousSibling;const W=L?.parentElement?.nodeName;if(L&&W&&e.schema.isValidChild(W,t.toLowerCase())){const G=L.parentNode,Q=h.create(t);for(uC(e,Q),G.insertBefore(Q,L),k=L;k&&!h.isBlock(k);){const ce=k.nextSibling;Q.appendChild(k),k=ce}o.setStart(r,c),o.setEnd(r,c)}}return r},O1=(e,t)=>{t.normalize();const o=t.lastChild;(!o||Sn(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(t,"br")},nI=(e,t)=>{const o=X2(e);return fn(t)?!1:J(o)?Be(ln.explode(o),t.nodeName.toLowerCase()):o},eT={insert:(e,t)=>{let o,r,c,h,v=!1;const T=e.dom,k=e.schema,L=k.getNonEmptyElements(),W=e.selection.getRng(),G=bl(e),Q=De.fromDom(W.startContainer),ce=Jc(Q,W.startOffset),ke=ce.exists(Ft=>wd(Ft)&&!Cr(Ft)),ge=W.collapsed&&ke,Te=(Ft,On)=>K$(e,o,Nn,en,tA(e),Ft,On),ot=Ft=>{const On=FR(Ft,o,r);if(dn(o)&&(Ft?On>0:On<o.data.length))return!1;if((o.parentNode===Nn||o===Nn)&&v&&!Ft||Ft&&Sn(o)&&o===Nn.firstChild)return!0;if(LR(o,"TABLE")||LR(o,"HR"))return SY(o,"BR")?!Ft:v&&!Ft||!v&&Ft;const Bo=new Ka(o,Nn);dn(o)&&(Ft&&On===0?Bo.prev():!Ft&&On===o.data.length&&Bo.next());let Lo;for(;Lo=Bo.current();){if(Sn(Lo)){if(!Lo.getAttribute("data-mce-bogus")){const Ws=Lo.nodeName.toLowerCase();if(L[Ws]&&Ws!=="br")return!1}}else if(dn(Lo)&&!Ap(Lo.data))return!1;Ft?Bo.prev():Bo.next()}return!0},rt=()=>{let Ft;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&io!=="HGROUP"?Ft=Te(G):Ft=Te(),nI(e,h)&&PR(T,h)&&T.isEmpty(Nn,void 0,{includeZwsp:!0})?Ft=T.split(h,Nn):T.insertAfter(Ft,Nn),lC(e,Ft),Ft};YA(T,W).each(Ft=>{W.setStart(Ft.startContainer,Ft.startOffset),W.setEnd(Ft.endContainer,Ft.endOffset)}),o=W.startContainer,r=W.startOffset;const dt=!!(t&&t.shiftKey),Pt=!!(t&&t.ctrlKey);Sn(o)&&o.hasChildNodes()&&!ge&&(v=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,v&&dn(o)?r=o.data.length:r=0);const en=QE(T,o);if(!en||CY(e,o))return;dt||(o=$R(e,G,W,o,r));let Nn=T.getParent(o,T.isBlock)||T.getRoot();h=qe(Nn?.parentNode)?T.getParent(Nn.parentNode,T.isBlock):null,c=Nn?Nn.nodeName.toUpperCase():"";const io=h?h.nodeName.toUpperCase():"";if(io==="LI"&&!Pt){const Ft=h;Nn=Ft,h=Ft.parentNode,c=io}if(Sn(h)&&pY(e,dt,Nn))return bY(e,Te,Nn);if(/^(LI|DT|DD)$/.test(c)&&Sn(h)&&T.isEmpty(Nn)){xY(e,Te,h,Nn,G);return}if(!ge&&(Nn===e.getBody()||!PR(T,Nn)))return;const Bt=Nn.parentNode;let Ct;if(ge)Ct=Te(G),ce.fold(()=>{Is(Q,De.fromDom(Ct))},Ft=>{ul(Ft,De.fromDom(Ct))}),e.selection.setCursorLocation(Ct,0);else if(Hf(Nn))Ct=ff(Nn),T.isEmpty(Nn)&&cC(Nn),uC(e,Ct),lC(e,Ct);else if(ot(!1))Ct=rt();else if(ot(!0)&&Bt){const Ft=_t.fromRangeStart(W),On=N_(Ft),Bo=De.fromDom(Nn),Ws=ik(Bo,Ft,e.schema)?L6(Bo,Ft,e.schema).bind(Ca=>X.from(Ca.getNode())):X.none();Ct=Bt.insertBefore(Te(),Nn);const Pr=LR(Nn,"HR")||On?Ct:Ws.getOr(Nn);lC(e,Pr)}else{const Ft=tI(W).cloneRange();Ft.setEndAfter(Nn);const On=Ft.extractContents();wY(On),TY(On),Ct=On.firstChild,Nn===Ct?qe(Bt)&&T.insertAfter(On,Bt):T.insertAfter(On,Nn),EY(T,L,Ct),O1(T,Nn),T.isEmpty(Nn)&&cC(Nn),Ct.normalize(),T.isEmpty(Ct)?(T.remove(Ct),rt()):(uC(e,Ct),lC(e,Ct))}T.setAttrib(Ct,"id",""),e.dispatch("NewBlock",{newBlock:Ct})},fakeEventName:"insertParagraph"},IR=(e,t,o)=>{const r=new Ka(t,o);let c;const h=e.getNonEmptyElements();for(;c=r.next();)if(h[c.nodeName.toLowerCase()]||dn(c)&&c.length>0)return!0;return!1},HR=(e,t,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),sh(e,r)},oI=(e,t)=>{const o=e.selection,r=e.dom,c=o.getRng();let h,v=!1;YA(r,c).each(ce=>{c.setStart(ce.startContainer,ce.startOffset),c.setEnd(ce.endContainer,ce.endOffset)});let T=c.startOffset,k=c.startContainer;if(Sn(k)&&k.hasChildNodes()){const ce=T>k.childNodes.length-1;k=k.childNodes[Math.min(T,k.childNodes.length-1)]||k,ce&&dn(k)?T=k.data.length:T=0}let L=r.getParent(k,r.isBlock);const W=L&&L.parentNode?r.getParent(L.parentNode,r.isBlock):null,G=W?W.nodeName.toUpperCase():"",Q=!!(t&&t.ctrlKey);G==="LI"&&!Q&&(L=W),dn(k)&&T>=k.data.length&&(IR(e.schema,k,L||r.getRoot())||(h=r.create("br"),c.insertNode(h),c.setStartAfter(h),c.setEndAfter(h),v=!0)),h=r.create("br"),Xp(r,c,h),HR(e,h,v),e.undoManager.add()},kY=(e,t)=>{const o=De.fromTag("br");ul(De.fromDom(t),o),e.undoManager.add()},DY=(e,t)=>{OY(e.getBody(),t)||Sl(De.fromDom(t),De.fromTag("br"));const o=De.fromTag("br");Sl(De.fromDom(t),o),HR(e,o.dom,!1),e.undoManager.add()},_Y=e=>la(e.getNode()),OY=(e,t)=>_Y(_t.after(t))?!0:E(e,_t.after(t)).map(o=>la(o.getNode())).getOr(!1),sI=e=>e&&e.nodeName==="A"&&"href"in e,rI=e=>e.fold(He,sI,sI,He),NY=e=>{const t=le(Lx,e),o=_t.fromRangeStart(e.selection.getRng());return T0(t,e.getBody(),o).filter(rI)},RY=(e,t)=>{t.fold(Lt,le(kY,e),le(DY,e),Lt)},iI={insert:(e,t)=>{const o=NY(e);o.isSome()?o.each(le(RY,e)):oI(e,t)},fakeEventName:"insertLineBreak"},lI=(e,t)=>MR(e).filter(o=>t.length>0&&wl(De.fromDom(o),t)).isSome(),MY=e=>lI(e,JT(e)),BY=e=>lI(e,eA(e)),uh=gi.generate([{br:[]},{block:[]},{none:[]}]),LY=(e,t)=>BY(e),cI=e=>(t,o)=>gY(t)===e,uI=(e,t)=>(o,r)=>Gne(o)===e.toUpperCase()===t,Y4=e=>{const t=QE(e.dom,e.selection.getStart());return fn(t)},tT=e=>uI("pre",e),PY=()=>uI("summary",!0),dC=e=>(t,o)=>K2(t)===e,zR=(e,t)=>MY(e),X4=(e,t)=>t,FY=e=>{const t=bl(e),o=QE(e.dom,e.selection.getStart());return qe(o)&&e.schema.isValidChild(o.nodeName,t)},dI=e=>{const t=e.selection.getRng(),o=De.fromDom(t.startContainer),c=Jc(o,t.startOffset).map(h=>wd(h)&&!Cr(h));return t.collapsed&&c.getOr(!0)},lg=(e,t)=>(o,r)=>Pe(e,(h,v)=>h&&v(o,r),!0)?X.some(t):X.none(),$Y=(e,t)=>ZF([lg([LY],uh.none()),lg([tT(!0),Y4],uh.none()),lg([PY()],uh.br()),lg([tT(!0),dC(!1),X4],uh.br()),lg([tT(!0),dC(!1)],uh.block()),lg([tT(!0),dC(!0),X4],uh.block()),lg([tT(!0),dC(!0)],uh.br()),lg([cI(!0),X4],uh.br()),lg([cI(!0)],uh.block()),lg([zR],uh.br()),lg([X4],uh.br()),lg([FY],uh.block()),lg([dI],uh.block())],[e,!!(t&&t.shiftKey)]).getOr(uh.none()),Q4=(e,t,o)=>{t.mode.isReadOnly()||(t.selection.isCollapsed()||J6(t),!(qe(o)&&XE(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,o),qe(o)&&YE(t,e.fakeEventName)))},fI=(e,t)=>{if(e.mode.isReadOnly())return;const o=()=>Q4(iI,e,t),r=()=>Q4(eT,e,t),c=$Y(e,t);switch(Y2(e)){case"linebreak":c.fold(o,o,Lt);break;case"block":c.fold(r,r,Lt);break;case"invert":c.fold(r,o,Lt);break;default:c.fold(o,r,Lt);break}},mI=bs(),IY=mI.os.isiOS()&&mI.browser.isSafari(),jR=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),bP(e.undoManager),e.undoManager.transact(()=>{fI(e,t)}))},J4=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(dn(t)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=t.data.charAt(e.startOffset-1);return o.test(r)}else return!1},hI=e=>{let t=X.none();const o=c=>{t=X.some(c.selection.getBookmark()),c.undoManager.add()},r=(c,h)=>{c.undoManager.undo(),t.fold(Lt,v=>c.selection.moveToBookmark(v)),jR(c,h),t=X.none()};e.on("keydown",c=>{c.keyCode===Ln.ENTER&&(IY&&J4(e.selection.getRng())?o(e):jR(e,c))}),e.on("keyup",c=>{c.keyCode===Ln.ENTER&&t.each(()=>r(e,c))})},gI=(e,t,o)=>{const r=ds.os.isMacOS()||ds.os.isiOS();wv([{keyCode:Ln.END,action:Ro(U7,e,!0)},{keyCode:Ln.HOME,action:Ro(U7,e,!1)},...r?[]:[{keyCode:Ln.HOME,action:Ro(B4,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Ln.END,action:Ro(B4,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Ln.END,action:Ro(cR,e,!0)},{keyCode:Ln.HOME,action:Ro(cR,e,!1)},{keyCode:Ln.END,action:Ro(xv,e,!0,t)},{keyCode:Ln.HOME,action:Ro(xv,e,!1,t)}],o).each(c=>{o.preventDefault()})},HY=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||gI(e,t,o)})},zY=e=>{e.on("input",t=>{t.isComposing||U6(e)})},e3=bs(),jY=(e,t,o)=>{wv([{keyCode:Ln.PAGE_UP,action:Ro(xv,e,!1,t)},{keyCode:Ln.PAGE_DOWN,action:Ro(xv,e,!0,t)}],o)},VR=e=>e.stopImmediatePropagation(),pI=e=>e.keyCode===Ln.PAGE_UP||e.keyCode===Ln.PAGE_DOWN,UR=(e,t,o)=>{o&&!e.get()?t.on("NodeChange",VR,!0):!o&&e.get()&&t.off("NodeChange",VR),e.set(o)},VY=(e,t)=>{if(e3.os.isMacOS())return;const o=Pn(!1);e.on("keydown",r=>{pI(r)&&UR(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||jY(e,t,r),pI(r)&&o.get()&&(UR(o,e,!1),e.nodeChanged())})},bI=(e,t)=>e===t||e.contains(t),UY=(e,t)=>!bI(e.getBody(),t.startContainer)||!bI(e.getBody(),t.endContainer)?!0:pj(e.dom,t),ZY=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||Ye(t.getTargetRanges(),o=>!UY(e,o)))&&t.preventDefault()})},yI=(e,t)=>{const o=t.container(),r=t.offset();return dn(o)?(o.insertData(r,e),X.some(_t(o,r+e.length))):_x(t).map(c=>{const h=De.fromText(e);return t.isAtEnd()?Sl(c,h):ul(c,h),_t(h.dom,e.length)})},u2=le(yI,qr),vI=le(yI," "),WY=(e,t,o)=>zj(e,t,o)?u2(t):vI(t),xI=e=>t=>t.fold(o=>D(e.dom,_t.before(o)),o=>H(o),o=>q(o),o=>E(e.dom,_t.after(o))),qY=(e,t,o)=>r=>zj(e,r,o)?u2(t):vI(t),wI=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},GY=(e,t)=>e.isEditable(e.getParent(t,"summary")),CI=e=>{const t=_t.fromRangeStart(e.selection.getRng()),o=De.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=le(Lx,e),c=_t.fromRangeStart(e.selection.getRng());return T0(r,e.getBody(),c).bind(xI(o)).map(h=>()=>qY(o,t,e.schema)(h).each(wI(e)))}else return X.none()},KY=e=>{const t=()=>{const o=De.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=_t.fromRangeStart(e.selection.getRng());WY(o,r,e.schema).each(wI(e))};return As(ds.browser.isFirefox()&&e.selection.isEditable()&&GY(e.dom,e.selection.getRng().startContainer),t)},YY=(e,t)=>{F4([{keyCode:Ln.SPACEBAR,action:Ro(CI,e)},{keyCode:Ln.SPACEBAR,action:Ro(KY,e)}],t).each(o=>{t.preventDefault(),XE(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),YE(e,"insertText",{data:" "}))})},Xne=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||YY(e,t)})},t3=e=>yA(e)?[{keyCode:Ln.TAB,action:Ro(k$,e,!0)},{keyCode:Ln.TAB,shiftKey:!0,action:Ro(k$,e,!1)}]:[],XY=(e,t)=>{wv([...t3(e)],t).each(o=>{t.preventDefault()})},QY=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||XY(e,t)})},JY=e=>{if(e.addShortcut("Meta+P","","mcePrint"),tY(e),v0(e))return Pn(null);{const t=TG(e);return ZY(e),F7(e),FK(e,t),fY(e,t),hI(e),Xne(e),zY(e),QY(e),HY(e,t),VY(e,t),t}},eX=(e,t)=>{const o=NE(e);o===null||eN(e,o)||e.undoManager.transact(()=>{it(t.styles)&&e.dom.setStyles(o,t.styles),it(t.attrs)&&Oo(t.attrs,(r,c)=>e.dom.setAttrib(o,c,r))})},ZR=(e,t)=>()=>{const o=NE(e);return qe(o)&&o.nodeName===t},tX=e=>{e.addCommand("InsertUnorderedList",(t,o)=>{fN(e,"UL",o)}),e.addCommand("InsertOrderedList",(t,o)=>{fN(e,"OL",o)}),e.addCommand("InsertDefinitionList",(t,o)=>{fN(e,"DL",o)}),e.addCommand("RemoveList",()=>{c4(e)}),e.addCommand("mceListUpdate",(t,o)=>{it(o)&&eX(e,o)}),e.addCommand("mceListBackspaceDelete",(t,o)=>{gN(e,o)}),e.addQueryStateHandler("InsertUnorderedList",ZR(e,"UL")),e.addQueryStateHandler("InsertOrderedList",ZR(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",ZR(e,"DL"))},nX=e=>{e.on("keydown",t=>{t.keyCode===Ln.BACKSPACE?gN(e,!1)&&t.preventDefault():t.keyCode===Ln.DELETE&&gN(e,!0)&&t.preventDefault()})},SI=e=>e.type===3,EI=e=>e.length===0,oX=e=>{const t=(c,h)=>{const v=Hc.create("li");Le(c,T=>v.append(T)),h?e.insert(v,h,!0):e.append(v)},o=(c,h)=>SI(h)?[...c,h]:!EI(c)&&!SI(h)?(t(c,h),[]):c,r=Pe(e.children(),o,[]);EI(r)||t(r)},sX=e=>{e.on("PreInit",()=>{const{parser:t}=e;t.addNodeFilter("ul,ol",o=>Le(o,oX))})},rX=e=>{e.on("keydown",t=>{t.keyCode!==Ln.TAB||Ln.metaKeyPressed(t)||e.undoManager.transact(()=>{(t.shiftKey?BE(e):EF(e))&&t.preventDefault()})})},aX=e=>{bS(e)&&rX(e)},Yr=e=>{nX(e),tX(e),sX(e),aX(e)};class iX{editor;lastPath=[];constructor(t){this.editor=t;let o;const r=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",c=>{const h=t.selection.getRng(),v={startContainer:h.startContainer,startOffset:h.startOffset,endContainer:h.endContainer,endOffset:h.endOffset};(c.type==="nodechange"||!zb(v,o))&&t.dispatch("SelectionChange"),o=v}),t.on("contextmenu",()=>{ZA(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const c=t.selection.getStart(!0);c&&NS(t)&&!r.isSameElementPath(c)&&t.dom.isChildOf(c,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",c=>{!c.isDefaultPrevented()&&NS(t)&&(t.selection.getNode().nodeName==="IMG"?Qg.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const o=this.editor,r=o.selection;let c;if(o.initialized&&r&&!dA(o)&&!nh(o)){const h=o.getBody();c=r.getStart(!0)||h,(c.ownerDocument!==o.getDoc()||!o.dom.isChildOf(c,h))&&(c=h);const v=[];o.dom.getParent(c,T=>T===h?!0:(v.push(T),!1)),o.dispatch("NodeChange",{...t,element:c,parents:v})}}isSameElementPath(t){let o;const r=this.editor,c=zo(r.dom.getParents(t,ft,r.getBody()));if(c.length===this.lastPath.length){for(o=c.length;o>=0&&c[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const WR="x-tinymce/html",n3=at(WR),nT="<!-- "+WR+" -->",TI=e=>nT+e,lX=e=>e.replace(nT,""),AI=e=>e.indexOf(nT)!==-1,cX=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),kI=(e,t)=>{let o="<"+e;const r=Gn(t,(c,h)=>h+'="'+td.encodeAllRaw(c)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},o3=(e,t,o)=>{const r=e.split(/\n\n/),c=kI(t,o),h="</"+t+">",v=tt(r,k=>k.split(/\n/).join("<br />")),T=k=>c+k+h;return v.length===1?v[0]:tt(v,T).join("")},DI="%MCEPASTEBIN%",uX=(e,t)=>{const{dom:o,selection:r}=e,c=e.getBody();t.set(r.getRng());const h=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},DI);ds.browser.isFirefox()&&o.setStyle(h,"left",o.getStyle(c,"direction",!0)==="rtl"?65535:-65535),o.bind(h,"beforedeactivate focusin focusout",v=>{v.stopPropagation()}),h.focus(),r.select(h,!0)},qR=(e,t)=>{const o=e.dom;if(GR(e)){let r;const c=t.get();for(;r=GR(e);)o.remove(r),o.unbind(r);c&&e.selection.setRng(c)}t.set(null)},GR=e=>e.dom.get("mcepastebin"),dX=e=>qe(e)&&e.id==="mcepastebin",fX=e=>{const t=e.dom,o=(v,T)=>{v.appendChild(T),t.remove(T,!0)},[r,...c]=xt(e.getBody().childNodes,dX);Le(c,v=>{o(r,v)});const h=t.select("div[id=mcepastebin]",r);for(let v=h.length-1;v>=0;v--){const T=t.create("div");r.insertBefore(T,h[v]),o(T,h[v])}return r?r.innerHTML:""},_I=e=>e===DI,OI=e=>{const t=Pn(null);return{create:()=>uX(e,t),remove:()=>qR(e,t),getEl:()=>GR(e),getHtml:()=>fX(e),getLastRng:t.get}},NI=(e,t)=>(ln.each(t,o=>{Oe(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),mX=e=>{const t=Ls(),o=Lw({},t);let r="";const c=t.getVoidElements(),h=ln.makeMap("script noscript style textarea video audio iframe object"," "),v=t.getBlockElements(),T=k=>{const L=k.name,W=k;if(L==="br"){r+=`
`;return}if(L!=="wbr"){if(c[L]&&(r+=" "),h[L]){r+=" ";return}if(k.type===3&&(r+=k.value),!(k.name in t.getVoidElements())){let G=k.firstChild;if(G)do T(G);while(G=G.next)}v[L]&&W.next&&(r+=`
`,L==="p"&&(r+=`
`))}};return e=NI(e,[/<!\[[^\]]+\]>/g]),T(o.parse(e)),r},KR=e=>(e=NI(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,c)=>!r&&!c?" ":qr],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),hX=e=>{let t=0;return()=>e+t++},gX=e=>{const t=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return ln.hasOwn(o,t)?"image/"+o[t]:"image/"+t},pX=(e,t)=>{const o=Lw({sanitize:lw(e),sandbox_iframes:Qy(e),sandbox_iframes_exclusions:a0(e),convert_unsafe_embeds:i0(e)},e.schema);o.addNodeFilter("meta",c=>{ln.each(c,h=>{h.remove()})});const r=o.parse(t,{forced_root_block:!1,isRootContent:!0});return nv({validate:!0},e.schema).serialize(r)},s3=(e,t)=>({content:e,cancelled:t}),bX=(e,t,o)=>{const r=e.dom.create("div",{style:"display:none"},t),c=ZT(e,r,o);return s3(c.node.innerHTML,c.isDefaultPrevented())},RI=(e,t,o)=>{const r=UT(e,t,o),c=pX(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?bX(e,c,o):s3(c,r.isDefaultPrevented())},yX=(e,t,o)=>RI(e,t,o),oT=(e,t)=>(e.insertContent(t,{merge:hA(e),paste:!0}),!0),YR=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),MI=(e,t)=>YR(t)&&Ye(pS(e),o=>Si(t.toLowerCase(),`.${o.toLowerCase()}`)),vX=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),xX=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),wX=(e,t,o)=>!e.selection.isCollapsed()&&YR(t)?xX(e,t,o):!1,CX=(e,t,o)=>MI(e,t)?vX(e,t,o):!1,BI=(e,t)=>{ln.each([wX,CX,oT],o=>!o(e,t,oT))},SX=(e,t,o)=>{o||!dS(e)?oT(e,t):BI(e,t)},LI=hX("mceclip"),r3=e=>{const t=aC();return m$(t,e),z4(t),t},a3=(e,t,o,r,c)=>{const h=yX(e,t,o);if(!h.cancelled){const v=h.content,T=()=>SX(e,v,r);c?XE(e,"insertFromPaste",{dataTransfer:r3(v)}).isDefaultPrevented()||(T(),YE(e,"insertFromPaste")):T()}},fC=(e,t,o,r)=>{const c=o||AI(t);a3(e,lX(t),c,!1,r)},XR=(e,t,o)=>{const r=e.dom.encode(t).replace(/\r\n/g,`
`),c=z0(r,ID(e)),h=o3(c,bl(e),th(e));a3(e,h,!1,!0,o)},PI=e=>{const t={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{t[r]=e.getData(r)}catch{t[r]=""}}return t},cg=(e,t)=>t in e&&e[t].length>0,FI=e=>cg(e,"text/html")||cg(e,"text/plain"),mC=(e,t)=>{const o=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return qe(o)?e.dom.encode(o[1]):void 0},sT=(e,t,o,r)=>{const c=LI(),h=nA(e)&&qe(o.name),v=h?mC(e,o.name):c,T=h?o.name:void 0,k=t.create(c,o,r,v,T);return t.add(k),k},EX=(e,t)=>{w5(t.uri).each(({data:o,type:r,base64Encoded:c})=>{const h=c?o:btoa(o),v=t.file,T=e.editorUpload.blobCache,L=T.getByData(h,r)??sT(e,T,v,h);fC(e,`<img src="${L.blobUri()}">`,!1,!0)})},TX=e=>e.type==="paste",hC=e=>Promise.all(tt(e,t=>C5(t).then(o=>({file:t,uri:o})))),AX=e=>{const t=pS(e);return o=>Co(o.type,"image/")&&Ye(t,r=>gX(r)===o.type)},QR=(e,t)=>{const o=t.items?Do(Ts(t.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],r=t.files?Ts(t.files):[];return xt(o.length>0?o:r,AX(e))},$I=(e,t,o)=>{const r=TX(t)?t.clipboardData:t.dataTransfer;if(iw(e)&&r){const c=QR(e,r);if(c.length>0)return t.preventDefault(),hC(c).then(h=>{o&&e.selection.setRng(o),Le(h,v=>{EX(e,v)})}),!0}return!1},II=e=>ds.os.isAndroid()&&e.clipboardData?.items?.length===0,HI=e=>Ln.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,rT=(e,t,o,r,c)=>{let h=KR(o);const v=cg(t,n3())||AI(o),T=!v&&cX(h),k=YR(h);(_I(h)||!h.length||T&&!k)&&(r=!0),(r||k)&&(cg(t,"text/plain")&&T?h=t["text/plain"]:h=mX(h)),!_I(h)&&(r?XR(e,h,c):fC(e,h,v,c))},zI=(e,t,o)=>{let r;const c=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",h=>{HI(h)&&!h.isDefaultPrevented()&&(r=h.shiftKey&&h.keyCode===86)}),e.on("paste",h=>{if(h.isDefaultPrevented()||II(h))return;const v=o.get()==="text"||r;r=!1;const T=PI(h.clipboardData);!FI(T)&&$I(e,h,c())||(cg(T,"text/html")?(h.preventDefault(),rT(e,T,T["text/html"],v,!0)):cg(T,"text/plain")&&cg(T,"text/uri-list")?(h.preventDefault(),rT(e,T,T["text/plain"],v,!0)):(t.create(),Qg.setEditorTimeout(e,()=>{const k=t.getHtml();t.remove(),rT(e,T,k,v,!1)},0)))})},kX=e=>{const t=c=>Co(c,"webkit-fake-url"),o=c=>Co(c,"data:"),r=c=>c.data?.paste===!0;e.parser.addNodeFilter("img",(c,h,v)=>{if(!iw(e)&&r(v))for(const T of c){const k=T.attr("src");J(k)&&!T.attr("data-mce-object")&&k!==ds.transparentSrc&&(t(k)||!fS(e)&&o(k))&&T.remove()}})},DX=(e,t,o)=>{zI(e,t,o),kX(e)},jI=(e,t)=>{t.get()==="text"?(t.set("html"),WT(e,!1)):(t.set("text"),WT(e,!0)),e.focus()},_X=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{jI(e,t)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&fC(e,r.html,r.internal,!1),r.text&&XR(e,r.text,!1)})},VI=(e,t,o)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",o),e.setData(n3(),t),!0}catch{return!1}else return!1},i3=(e,t,o,r)=>{VI(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):o(t.html,r)},JR=e=>(t,o)=>{const{dom:r,selection:c}=e,h=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),v=r.create("div",{contenteditable:"true"},t);r.setStyles(h,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),h.appendChild(v),r.add(e.getBody(),h);const T=c.getRng();v.focus();const k=r.createRng();k.selectNodeContents(v),c.setRng(k),Qg.setEditorTimeout(e,()=>{c.setRng(T),r.remove(h),o()},0)},UI=e=>({html:TI(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),OX=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),ZI=e=>!e.selection.isCollapsed()||OX(e),WI=(e,t)=>o=>{!o.isDefaultPrevented()&&ZI(e)&&e.selection.isEditable()&&i3(o,UI(e),JR(e),()=>{if(ds.browser.isChromium()||ds.browser.isFirefox()){const r=e.selection.getRng();Qg.setEditorTimeout(e,()=>{e.selection.setRng(r),lp(e,t)},0)}else lp(e,t)})},eM=e=>t=>{!t.isDefaultPrevented()&&ZI(e)&&i3(t,UI(e),JR(e),Lt)},NX=(e,t)=>{e.on("cut",WI(e,t)),e.on("copy",eM(e))},tM=(e,t)=>f0.getCaretRangeFromPoint(t.clientX??0,t.clientY??0,e.getDoc()),qI=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},GI=(e,t)=>{t&&e.selection.setRng(t),e.focus()},KI=e=>Ye(e.files,t=>/^image\//.test(t.type)),RX=(e,t,o,r)=>{const c=e.getParent(o,v=>Ya(t,v));if(!ie(e.getParent(o,"summary")))return!0;if(c&&Qn(r,"text/html")){const v=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!ie(v.querySelector(c.nodeName.toLowerCase()))}else return!1},MX=e=>{e.on("input",t=>{const o=r=>ie(r.querySelector("summary"));if(t.inputType==="deleteByDrag"){const r=xt(e.dom.select("details"),o);Le(r,c=>{la(c.firstChild)&&c.firstChild.remove();const h=e.dom.create("summary");h.appendChild(Fg().dom),c.prepend(h)})}})},l3=(e,t)=>{DB(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),iw(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&KI(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=tM(e,o);if(fn(r))return;const c=PI(o.dataTransfer),h=cg(c,n3());if((!FI(c)||qI(c))&&$I(e,o,r))return;const v=c[n3()],T=v||c["text/html"]||c["text/plain"],k=RX(e.dom,e.schema,r.startContainer,c),L=t.get();L&&!k||T&&(o.preventDefault(),Qg.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(v||L&&k)&&e.execCommand("Delete"),GI(e,r);const W=KR(T);c["text/html"]?fC(e,W,h,!0):XR(e,W,!0)})}))}),e.on("dragstart",o=>{t.set(!0)}),e.on("dragover dragend",o=>{iw(e)&&!t.get()&&(o.preventDefault(),GI(e,tM(e,o))),o.type==="dragend"&&t.set(!1)}),MX(e)},BX=e=>{const t=c=>h=>{c(e,h)},o=BD(e);Re(o)&&e.on("PastePreProcess",t(o));const r=LD(e);Re(r)&&e.on("PastePostProcess",t(r))},LX=(e,t)=>{e.on("PastePreProcess",o=>{o.content=t(e,o.content,o.internal)})},YI=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,nM=e=>ln.trim(e).replace(YI,wc).toLowerCase(),PX=(e,t,o)=>{const r=uS(e);if(o||r==="all"||!FD(e))return t;const c=r?r.split(/[, ]/):[];if(c&&r!=="none"){const h=e.dom,v=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(T,k,L,W)=>{const G=h.parseStyle(h.decode(L)),Q={};for(let ke=0;ke<c.length;ke++){const ge=G[c[ke]];let Te=ge,ot=h.getStyle(v,c[ke],!0);/color/.test(c[ke])&&(Te=nM(Te),ot=nM(ot)),ot!==Te&&(Q[c[ke]]=ge)}const ce=h.serializeStyle(Q,"span");return ce?k+' style="'+ce+'"'+W:k+W})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(h,v,T,k)=>v+' style="'+T+'"'+k),t},FX=e=>{(ds.browser.isChromium()||ds.browser.isSafari())&&LX(e,PX)},$X=(e,t)=>{const o=Pn(!1),r=Pn($D(e)?"text":"html"),c=OI(e);FX(e),_X(e,r),BX(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>r.get()==="text"),e.on("PreInit",()=>{NX(e,t),l3(e,o),DX(e,c,r)})},IX=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},HX=e=>{e.parser.addNodeFilter("details",t=>{const o=Xy(e);Le(t,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const o=r0(e);Le(t,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})})},XI=e=>{IX(e),HX(e)},zX=la,QI=dn,jX=e=>na(e.dom),VX=e=>Bu(e.dom),JI=e=>t=>ss(De.fromDom(e),t),UX=(e,t,o)=>nr(De.fromDom(e),r=>VX(r)||o.isBlock(rs(r)),JI(t)).getOr(De.fromDom(t)).dom,e9=(e,t)=>nr(De.fromDom(e),jX,JI(t)),t9=(e,t,o)=>{const r=new Ka(e,t),c=o?r.next.bind(r):r.prev.bind(r);let h=e;for(let v=o?e:c();v&&!zX(v);v=c())ya(v)&&(h=v);return h},n9=(e,t,o)=>{const c=_t.fromRangeStart(e).getNode(),h=UX(c,t,o),v=t9(c,h,!1),T=t9(c,h,!0),k=document.createRange();return e9(v,h).fold(()=>{QI(v)?k.setStart(v,0):k.setStartBefore(v)},L=>k.setStartBefore(L.dom)),e9(T,h).fold(()=>{QI(T)?k.setEnd(T,T.data.length):k.setEndAfter(T)},L=>k.setEndAfter(L.dom)),k},o9=e=>{const t=n9(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(x5(t))},ZX=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),o9(e))})};var gC;(function(e){e.Before="before",e.After="after"})(gC||(gC={}));const WX=(e,t)=>Math.abs(e.left-t),aT=(e,t)=>Math.abs(e.right-t),qX=(e,t)=>e>=t.top&&e<=t.bottom,GX=(e,t)=>e.top<t.bottom&&e.bottom>t.top,s9=(e,t)=>{const o=Yv(e,t)/Math.min(e.height,t.height);return GX(e,t)&&o>.5},KX=(e,t)=>{const o=xt(e,r=>qX(t,r));return t1(o).fold(()=>[[],e],r=>{const{pass:c,fail:h}=Nt(e,v=>s9(v,r));return[c,h]})},YX=(e,t)=>({node:e.node,position:WX(e,t)<aT(e,t)?gC.Before:gC.After}),XX=(e,t,o)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),oM=(e,t,o,r)=>{const c=G=>ya(G.node)?X.some(G):Sn(G.node)?oM(Ts(G.node.childNodes),t,o,!1):X.none(),h=(G,Q,ce)=>c(Q).filter(ke=>Math.abs(ce(G,t,o)-ce(ke,t,o))<2&&dn(ke.node)),v=(G,Q)=>{const ce=Es(G,(ke,ge)=>Q(ke,t,o)-Q(ge,t,o));return $r(ce,c).map(ke=>r&&!dn(ke.node)&&ce.length>1?h(ke,ce[1],Q).getOr(ke):ke)},[T,k]=KX(zN(e),o),{pass:L,fail:W}=Nt(k,G=>G.top<o);return v(T,XX).orThunk(()=>v(W,Kv)).orThunk(()=>v(L,Kv))},QX=(e,t,o,r)=>{const c=(h,v)=>{const T=L=>Sn(L)&&L.classList.contains("mce-drag-container"),k=xt(h.dom.childNodes,Ve(T));return v.fold(()=>oM(k,o,r,!0),L=>{const W=xt(k,G=>G!==L.dom);return oM(W,o,r,!0)}).orThunk(()=>(ss(h,e)?X.none():Qc(h)).bind(W=>c(W,X.some(h))))};return c(t,X.none())},c3=(e,t,o)=>{const r=De.fromDom(e),c=Xc(r),v=De.fromPoint(c,t,o).filter(T=>mc(r,T)).getOr(r);return QX(r,v,t,o)},sM=(e,t,o)=>c3(e,t,o).filter(r=>Tx(r.node)).map(r=>YX(r,t)),rM=e=>{const t=e.getBoundingClientRect(),o=e.ownerDocument,r=o.documentElement,c=o.defaultView;return{top:t.top+(c?.scrollY??0)-r.clientTop,left:t.left+(c?.scrollX??0)-r.clientLeft}},JX=e=>e.inline?rM(e.getBody()):{left:0,top:0},eQ=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},tQ=e=>{const t=e.getBody(),o=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},c={left:t.scrollLeft||o.scrollLeft,top:t.scrollTop||o.scrollTop};return e.inline?r:c},Qne=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const o=rM(e.getContentAreaContainer()),r=tQ(e);return{left:t.pageX-o.left+r.left,top:t.pageY-o.top+r.top}}return{left:t.pageX,top:t.pageY}},nQ=(e,t,o)=>({pageX:o.left-e.left+t.left,pageY:o.top-e.top+t.top}),oQ=(e,t)=>nQ(JX(e),eQ(e),Qne(e,t)),u3=e=>({target:e,srcElement:e}),d3=(e,t,o,r)=>({...t,dataTransfer:r,type:e,...u3(o)}),sQ=(e,t,o)=>{const r=It("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:Lt,stopImmediatePropagation:Lt,stopPropagation:Lt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:o,...u3(t)}},rQ=(e,t)=>{const o=CK(e);return t==="dragstart"?(a$(o),bR(o)):t==="drop"?(yK(o),z4(o)):(vK(o),yR(o)),o},aQ=(e,t,o,r)=>{const c=rQ(o,e);return xn(r)?sQ(e,t,c):d3(e,r,t,c)},iT=32,iQ=100,pC=8,lT=16,r9=na,lQ=Cb(r9,Bu),a9=(e,t,o)=>r9(o)&&o!==t&&e.isEditable(o.parentElement),cQ=(e,t,o)=>fn(t)||t===o||e.dom.isChildOf(t,o)?!1:e.dom.isEditable(t),Jne=(e,t,o,r)=>{const c=e.dom,h=t.cloneNode(!0);c.setStyles(h,{width:o,height:r}),c.setAttrib(h,"data-mce-selected",null);const v=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(v,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),c.setStyles(h,{margin:0,boxSizing:"border-box"}),v.appendChild(h),v},uQ=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},f3=(e,t)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+t,behavior:"smooth"})},i9=f3("left",-iT),aM=f3("left",iT),m3=f3("top",-iT),cT=f3("top",iT),l9=(e,t,o,r,c,h,v,T,k,L,W,G)=>{let Q=0,ce=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+o>c&&(Q=t.pageX+o-c),t.pageY+r>h&&(ce=t.pageY+r-h),e.style.width=o-Q+"px",e.style.height=r-ce+"px";const ke=k.clientHeight,ge=k.clientWidth,Te=v+k.getBoundingClientRect().top,ot=T+k.getBoundingClientRect().left;W.on(rt=>{rt.intervalId.clear(),rt.dragging&&G&&(v+pC>=ke?rt.intervalId.set(cT(L)):v-pC<=0?rt.intervalId.set(m3(L)):T+pC>=ge?rt.intervalId.set(aM(L)):T-pC<=0?rt.intervalId.set(i9(L)):Te+lT>=window.innerHeight?rt.intervalId.set(cT(window)):Te-lT<=0?rt.intervalId.set(m3(window)):ot+lT>=window.innerWidth?rt.intervalId.set(aM(window)):ot-lT<=0&&rt.intervalId.set(i9(window)))})},c9=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},dQ=(e,t)=>{const o=e.getParent(t.parentNode,e.isBlock);c9(t),o&&o!==e.getRoot()&&e.isEmpty(o)&&Vh(De.fromDom(o))},fQ=e=>e.button===0,mQ=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),u9=(e,t)=>o=>{if(fQ(o)){const r=sn(t.dom.getParents(o.target),lQ).getOr(null);if(qe(r)&&a9(t.dom,t.getBody(),r)){const c=t.dom.getPos(r),h=t.getBody(),v=t.getDoc().documentElement;e.set({element:r,dataTransfer:aC(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(t.inline?h.scrollWidth:v.offsetWidth)-2,maxY:(t.inline?h.scrollHeight:v.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:r.offsetWidth,height:r.offsetHeight,ghost:Jne(t,r,r.offsetWidth,r.offsetHeight),intervalId:Tr(iQ)})}}},hQ=(e,t,o)=>{e._selectionOverrides.hideFakeCaret(),sM(e.getBody(),t,o).fold(()=>e.selection.placeCaretAt(t,o),r=>{const c=e._selectionOverrides.showCaret(1,r.node,r.position===gC.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(t,o)})},bC=(e,t,o,r,c)=>{t==="dragstart"&&m$(r,e.dom.getOuterHTML(o));const h=aQ(t,o,r,c);return e.dispatch(t,h)},gQ=(e,t)=>{const o=An((c,h)=>hQ(t,c,h),0);t.on("remove",o.cancel);const r=e;return c=>e.on(h=>{const v=Math.max(Math.abs(c.screenX-h.screenX),Math.abs(c.screenY-h.screenY));if(!h.dragging&&v>10){const T=bC(t,"dragstart",h.element,h.dataTransfer,c);if(qe(T.dataTransfer)&&(h.dataTransfer=T.dataTransfer),T.isDefaultPrevented())return;h.dragging=!0,t.focus()}if(h.dragging){const T=c.currentTarget===t.getDoc().documentElement,k=mQ(h,oQ(t,c));uQ(h.ghost,t.getBody()),l9(h.ghost,k,h.width,h.height,h.maxX,h.maxY,c.clientY,c.clientX,t.getContentAreaContainer(),t.getWin(),r,T),o.throttle(c.clientX,c.clientY)}})},pQ=e=>{const t=e.getSel();if(qe(t)){const r=t.getRangeAt(0).startContainer;return dn(r)?r.parentNode:r}else return null},iM=(e,t)=>o=>{e.on(r=>{if(r.intervalId.clear(),r.dragging){if(cQ(t,pQ(t.selection),r.element)){const c=t.getDoc().elementFromPoint(o.clientX,o.clientY)??t.getBody();bC(t,"drop",c,r.dataTransfer,o).isDefaultPrevented()||t.undoManager.transact(()=>{dQ(t.dom,r.element),f$(r.dataTransfer).each(v=>t.insertContent(v)),t._selectionOverrides.hideFakeCaret()})}bC(t,"dragend",t.getBody(),r.dataTransfer,o)}}),d9(e)},lM=(e,t,o)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&o.fold(()=>bC(t,"dragend",r.element,r.dataTransfer),c=>bC(t,"dragend",r.element,r.dataTransfer,c))}),d9(e)},eoe=(e,t)=>o=>lM(e,t,X.some(o)),d9=e=>{e.on(t=>{t.intervalId.clear(),c9(t.ghost)}),e.clear()},f9=e=>{const t=Fs(),o=hs.DOM,r=document,c=u9(t,e),h=gQ(t,e),v=iM(t,e),T=eoe(t,e);e.on("mousedown",c),e.on("mousemove",h),e.on("mouseup",v),o.bind(r,"mousemove",h),o.bind(r,"mouseup",T),e.on("remove",()=>{o.unbind(r,"mousemove",h),o.unbind(r,"mouseup",T)}),e.on("keydown",k=>{k.keyCode===Ln.ESC&&lM(t,e,X.none())})},bQ=e=>{const t=c=>{if(!c.isDefaultPrevented()){const h=c.dataTransfer;h&&(Be(h.types,"Files")||h.files.length>0)&&(c.preventDefault(),c.type==="drop"&&Jk(e,"Dropped file type is not supported"))}},o=c=>{GA(e,c.target)&&t(c)},r=()=>{const c=hs.DOM,h=e.dom,v=document,T=e.inline?e.getBody():e.getDoc(),k=["drop","dragover"];Le(k,L=>{c.bind(v,L,o),h.bind(T,L,t)}),e.on("remove",()=>{Le(k,L=>{c.unbind(v,L,o),h.unbind(T,L,t)})})};e.on("init",()=>{Qg.setEditorTimeout(e,r,0)})},cM=e=>{f9(e),OD(e)&&bQ(e)},yQ=e=>{const t=An(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=Jb(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},vQ=e=>{e.on("init",()=>{e.on("focusin",t=>{const o=t.target;if(Rd(o)){const r=m0(e.getBody(),o),c=na(r)?r:o;e.selection.getNode()!==c&&T1(e,c).each(h=>e.selection.setRng(h))}})})},uT=na,uM=(e,t)=>m0(e.getBody(),t),h3=e=>{const t=e.selection,o=e.dom,r=e.getBody(),c=jo(e,r,o.isBlock,()=>kw(e)),h="sel-"+o.uniqueId(),v="data-mce-selected";let T;const k=Bt=>qe(Bt)&&o.hasClass(Bt,"mce-offscreen-selection"),L=Bt=>Bt!==r&&(uT(Bt)||Rd(Bt))&&o.isChildOf(Bt,r)&&o.isEditable(Bt.parentNode),W=Bt=>{Bt&&t.setRng(Bt)},G=(Bt,Ct,Ft,On=!0)=>e.dispatch("ShowCaret",{target:Ct,direction:Bt,before:Ft}).isDefaultPrevented()?null:(On&&t.scrollIntoView(Ct,Bt===-1),c.show(Ft,Ct)),Q=Bt=>{Bt.hasAttribute("data-mce-caret")&&(ff(Bt),t.scrollIntoView(Bt))},ce=()=>{e.on("click",Ct=>{o.isEditable(Ct.target)||(Ct.preventDefault(),e.focus())}),e.on("blur NewBlock",en),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",Ct=>{const Ft=Ct.target,On=uM(e,Ft);uT(On)?(Ct.preventDefault(),T1(e,On).each(Pt)):L(Ft)&&T1(e,Ft).each(Pt)},!0),e.on("mousedown",Ct=>{const Ft=Ct.target;if(Ft!==r&&Ft.nodeName!=="HTML"&&!o.isChildOf(Ft,r)||!sW(e,Ct.clientX,Ct.clientY))return;en(),io();const On=uM(e,Ft);uT(On)?(Ct.preventDefault(),T1(e,On).each(Pt)):sM(r,Ct.clientX,Ct.clientY).each(Bo=>{Ct.preventDefault();const Lo=G(1,Bo.node,Bo.position===gC.Before,!1);W(Lo),ru(On)?On.focus():e.getBody().focus()})}),e.on("keypress",Ct=>{Ln.modifierPressed(Ct)||uT(t.getNode())&&Ct.preventDefault()}),e.on("GetSelectionRange",Ct=>{let Ft=Ct.range;if(T){if(!T.parentNode){T=null;return}Ft=Ft.cloneRange(),Ft.selectNode(T),Ct.range=Ft}}),e.on("focusin",Ct=>{if(!Rd(Ct.target)&&e.getBody().contains(Ct.target)&&Ct.target!==e.getBody()&&!e.dom.isEditable(Ct.target.parentNode)){c.isShowing()&&c.hide(),Ct.target.contains(e.selection.getNode())||(e.selection.select(Ct.target,!0),e.selection.collapse(!0));const Ft=Pt(e.selection.getRng(),!0);Ft&&e.selection.setRng(Ft)}}),e.on("SetSelectionRange",Ct=>{Ct.range=Te(Ct.range);const Ft=Pt(Ct.range,Ct.forward);Ft&&(Ct.range=Ft)});const Bt=Ct=>Sn(Ct)&&Ct.id==="mcepastebin";e.on("AfterSetSelectionRange",Ct=>{const Ft=Ct.range,On=Ft.startContainer.parentElement;!ge(Ft)&&!Bt(On)&&io(),k(On)||en()}),cM(e),yQ(e),vQ(e)},ke=Bt=>id(Bt)||mu(Bt)||Qi(Bt),ge=Bt=>ke(Bt.startContainer)||ke(Bt.endContainer),Te=Bt=>{const Ct=e.schema.getVoidElements(),Ft=o.createRng(),On=Bt.startContainer,Bo=Bt.startOffset,Lo=Bt.endContainer,Ws=Bt.endOffset;return Qn(Ct,On.nodeName.toLowerCase())?Bo===0?Ft.setStartBefore(On):Ft.setStartAfter(On):Ft.setStart(On,Bo),Qn(Ct,Lo.nodeName.toLowerCase())?Ws===0?Ft.setEndBefore(Lo):Ft.setEndAfter(Lo):Ft.setEnd(Lo,Ws),Ft},ot=(Bt,Ct)=>{const Ft=De.fromDom(e.getBody()),On=e.getDoc(),Bo=Yu(Ft,"#"+h).getOrThunk(()=>{const Pr=De.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',On);return Or(Pr,"id",h),Is(Ft,Pr),Pr}),Lo=o.createRng();ql(Bo),hc(Bo,[De.fromText(qr,On),De.fromDom(Ct),De.fromText(qr,On)]),Lo.setStart(Bo.dom.firstChild,1),Lo.setEnd(Bo.dom.lastChild,0),fl(Bo,{top:o.getPos(Bt,e.getBody()).y+"px"}),Ia(Bo);const Ws=t.getSel();return Ws&&(Ws.removeAllRanges(),Ws.addRange(Lo)),Lo},rt=Bt=>{const Ct=e.getDoc().createElement("div");Ct.style.width=Bt.style.width,Ct.style.height=Bt.style.height;const Ft=Bt.getAttribute("width");Ft&&Ct.setAttribute("width",Ft);const On=Bt.getAttribute("height");return On&&Ct.setAttribute("height",On),Ct},dt=Bt=>{const Ct=Rp(Bt)?rt(Bt):Bt.cloneNode(!0),Ft=e.dispatch("ObjectSelected",{target:Bt,targetClone:Ct});if(Ft.isDefaultPrevented())return null;const On=ot(Bt,Ft.targetClone),Bo=De.fromDom(Bt);return Le(kt(De.fromDom(e.getBody()),`*[${v}]`),Lo=>{ss(Bo,Lo)||ci(Lo,v)}),o.getAttrib(Bt,v)||Bt.setAttribute(v,"1"),T=Bt,io(),On},Pt=(Bt,Ct)=>{if(!Bt)return null;if(Bt.collapsed){if(!ge(Bt)){const Lo=Ct?1:-1,Ws=g1(Lo,r,Bt),Pr=Ws.getNode(!Ct);if(qe(Pr)){if(Tx(Pr))return G(Lo,Pr,Ct?!Ws.isAtEnd():!1,!1);if(pm(Pr)&&na(Pr.nextSibling)){const ti=o.createRng();return ti.setStart(Pr,0),ti.setEnd(Pr,0),ti}}const Ca=Ws.getNode(Ct);if(qe(Ca)){if(Tx(Ca))return G(Lo,Ca,Ct?!1:!Ws.isAtEnd(),!1);if(pm(Ca)&&na(Ca.previousSibling)){const ti=o.createRng();return ti.setStart(Ca,1),ti.setEnd(Ca,1),ti}}}return null}let Ft=Bt.startContainer,On=Bt.startOffset;const Bo=Bt.endOffset;if(dn(Ft)&&On===0&&uT(Ft.parentNode)&&(Ft=Ft.parentNode,On=o.nodeIndex(Ft),Ft=Ft.parentNode),!Sn(Ft))return null;if(Bo===On+1&&Ft===Bt.endContainer){const Lo=Ft.childNodes[On];if(L(Lo))return dt(Lo)}return null},en=()=>{T&&T.removeAttribute(v),Yu(De.fromDom(e.getBody()),"#"+h).each(Cs),T=null},Nn=()=>{c.destroy(),T=null},io=()=>{c.hide()};return v0(e)||ce(),{showCaret:G,showBlockCaretContainer:Q,hideFakeCaret:io,destroy:Nn}},m9=(e,t)=>{let o=t;for(let r=e.previousSibling;dn(r);r=r.previousSibling)o+=r.data.length;return o},dM=(e,t,o,r,c)=>{if(dn(o)&&(r<0||r>o.data.length))return[];const h=c&&dn(o)?[m9(o,r)]:[r];let v=o;for(;v!==t&&v.parentNode;)h.push(e.nodeIndex(v,c)),v=v.parentNode;return v===t?h.reverse():[]},fM=(e,t,o,r,c,h,v=!1)=>{const T=dM(e,t,o,r,v),k=dM(e,t,c,h,v);return{start:T,end:k}},h9=(e,t)=>{const o=t.slice(),r=o.pop();return Qo(r)?Pe(o,(h,v)=>h.bind(T=>X.from(T.childNodes[v])),X.some(e)).bind(h=>dn(h)&&(r<0||r>h.data.length)?X.none():X.some({node:h,offset:r})):X.none()},mM=(e,t)=>h9(e,t.start).bind(({node:o,offset:r})=>h9(e,t.end).map(({node:c,offset:h})=>{const v=document.createRange();return v.setStart(o,r),v.setEnd(c,h),v})),xQ=(e,t,o,r=!1)=>fM(e,t,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),yC=(e,t,o)=>{if(t&&e.isEmpty(t)&&!o(t)){const r=t.parentNode;e.remove(t,dn(t.firstChild)&&Ap(t.firstChild.data)),yC(e,r,o)}},g3=(e,t,o,r=!0)=>{const c=t.startContainer.parentNode,h=t.endContainer.parentNode;t.deleteContents(),r&&!o(t.startContainer)&&(dn(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),dn(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),yC(e,c,o),c!==h&&yC(e,h,o))},vC=(e,t)=>X.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),hM=(e,t,o)=>{const r=e.dynamicPatternsLookup({text:o,block:t});return{...e,blockPatterns:hD(r).concat(e.blockPatterns),inlinePatterns:ux(r).concat(e.inlinePatterns)}},gM=(e,t,o,r)=>{const c=e.createRng();return c.setStart(t,0),c.setEnd(o,r),c.toString()},g9=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),p3=(e,t)=>{const o=e.createRng();return o.setStartAfter(t.start),o.setEndBefore(t.end),o},p9=(e,t,o)=>{const r=mM(e.getRoot(),o).getOrDie("Unable to resolve path range"),c=r.startContainer,h=r.endContainer,v=r.endOffset===0?h:h.splitText(r.endOffset),T=r.startOffset===0?c:c.splitText(r.startOffset),k=T.parentNode,L=v.parentNode;return{prefix:t,end:L.insertBefore(g9(e,t+"-end"),v),start:k.insertBefore(g9(e,t+"-start"),T)}},b9=(e,t,o)=>{yC(e,e.get(t.prefix+"-end"),o),yC(e,e.get(t.prefix+"-start"),o)},dT=e=>e.start.length===0,wQ=e=>(t,o)=>{const c=t.data.substring(0,o),h=c.lastIndexOf(e.charAt(e.length-1)),v=c.lastIndexOf(e);return v!==-1?v+e.length:h!==-1?h+1:-1},y9=(e,t,o,r)=>{const c=t.start;return _R(e,r.container,r.offset,wQ(c),o).bind(v=>{const T=o.textContent?.indexOf(c)??-1;if(T!==-1&&v.offset>=T+c.length){const L=e.createRng();return L.setStart(v.container,v.offset-c.length),L.setEnd(v.container,v.offset),X.some(L)}else{const L=v.offset-c.length;return kR(v.container,L,o).map(W=>{const G=e.createRng();return G.setStart(W.container,W.offset),G.setEnd(v.container,v.offset),G}).filter(W=>W.toString()===c).orThunk(()=>y9(e,t,o,A0(v.container,0)))}})},CQ=(e,t,o,r,c,h=!1)=>{if(t.start.length===0&&!h){const v=e.createRng();return v.setStart(o,r),v.setEnd(o,r),X.some(v)}return TR(o,r,c).bind(v=>y9(e,t,c,v).bind(k=>{if(h){if(k.endContainer===v.container&&k.endOffset===v.offset)return X.none();if(v.offset===0&&k.endContainer.textContent?.length===k.endOffset)return X.none()}return X.some(k)}))},v9=(e,t,o,r)=>{const c=e.dom,h=c.getRoot(),v=o.pattern,T=o.position.container,k=o.position.offset;return kR(T,k-o.pattern.end.length,t).bind(L=>{const W=fM(c,h,L.container,L.offset,T,k,r);if(dT(v))return X.some({matches:[{pattern:v,startRng:W,endRng:W}],position:L});{const G=b3(e,o.remainingPatterns,L.container,L.offset,t,r),Q=G.getOr({matches:[],position:L}),ce=Q.position;return CQ(c,v,ce.container,ce.offset,t,G.isNone()).map(ge=>{const Te=xQ(c,h,ge,r);return{matches:Q.matches.concat([{pattern:v,startRng:Te,endRng:W}]),position:A0(ge.startContainer,ge.startOffset)}})}})},b3=(e,t,o,r,c,h)=>{const v=e.dom;return TR(o,r,v.getRoot()).bind(T=>{const k=gM(v,c,o,r);for(let L=0;L<t.length;L++){const W=t[L];if(!Si(k,W.end))continue;const G=t.slice();G.splice(L,1);const Q=v9(e,c,{pattern:W,remainingPatterns:G,position:T},h);if(Q.isNone()&&r>0)return b3(e,t,o,r-1,c,h);if(Q.isSome())return Q}return X.none()})},x9=(e,t,o)=>{e.selection.setRng(o),t.type==="inline-format"?Le(t.format,r=>{e.formatter.apply(r)}):e.execCommand(t.cmd,!1,t.value)},SQ=(e,t,o,r)=>{const c=p3(e.dom,o);g3(e.dom,c,r),x9(e,t,c)},EQ=(e,t,o,r,c)=>{const h=e.dom,v=p3(h,r),T=p3(h,o);g3(h,T,c),g3(h,v,c);const k={prefix:o.prefix,start:o.end,end:r.start},L=p3(h,k);x9(e,t,L)},TQ=(e,t)=>{const o=us("mce_textpattern"),r=Dt(t,(c,h)=>{const v=p9(e,o+`_end${c.length}`,h.endRng);return c.concat([{...h,endMarker:v}])},[]);return Dt(r,(c,h)=>{const v=r.length-c.length-1,T=dT(h.pattern)?h.endMarker:p9(e,o+`_start${v}`,h.startRng);return c.concat([{...h,startMarker:T}])},[])},AQ=e=>Es(e,(t,o)=>o.end.length-t.end.length),kQ=(e,t)=>{const o=mr(e,r=>Ye(t,c=>r.pattern.start===c.pattern.start&&r.pattern.end===c.pattern.end));return e.length===t.length?o?e:t:e.length>t.length?e:t},w9=(e,t,o,r,c,h)=>{const v=b3(e,c.inlinePatterns,o,r,t,h).fold(()=>[],k=>k.matches),T=b3(e,AQ(c.inlinePatterns),o,r,t,h).fold(()=>[],k=>k.matches);return kQ(v,T)},pM=(e,t)=>{if(t.length===0)return;const o=e.dom,r=e.selection.getBookmark(),c=TQ(o,t);Le(c,h=>{const v=o.getParent(h.startMarker.start,o.isBlock),T=k=>k===v;dT(h.pattern)?SQ(e,h.pattern,h.endMarker,T):EQ(e,h.pattern,h.startMarker,h.endMarker,T),b9(o,h.endMarker,T),b9(o,h.startMarker,T)}),e.selection.moveToBookmark(r)},C9=(e,t,o)=>AR(t,0,t).map(r=>{const c=r.container;return DR(c,o.start.length,t).each(h=>{const v=e.createRng();v.setStart(c,0),v.setEnd(h.container,h.offset),g3(e,v,T=>T===t)}),c}),y3=e=>(t,o)=>{const r=t.dom,c=o.pattern,h=mM(r.getRoot(),o.range).getOrDie("Unable to resolve path range"),v=(T,k)=>{const L=k.get(T);return Ke(L)&&gs(L).exists(W=>Qn(W,"block"))};return vC(t,h).each(T=>{c.type==="block-format"?v(c.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,T,c),t.formatter.apply(c.format)}):c.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,T,c),t.execCommand(c.cmd,!1,c.value)})}),!0},DQ=e=>Es(e,(t,o)=>o.start.length-t.start.length),S9=e=>(t,o)=>{const r=DQ(t),c=o.replace(qr," ");return sn(r,h=>e(h,o,c))},E9=(e,t)=>(o,r,c,h,v=r.textContent??"")=>{const T=o.dom,k=bl(o);return T.is(r,k)?e(c.blockPatterns,v).map(L=>t&&ln.trim(v).length===L.start.length?[]:[{pattern:L,range:fM(T,T.getRoot(),r,0,r,0,h)}]).getOr([]):[]},_Q=e=>/^\s[^\s]/.test(e),OQ=y3((e,t,o)=>{C9(e,t,o).each(r=>{const c=De.fromDom(r),h=yi(c);_Q(h)&&Sp(c,h.slice(1))})}),v3=S9((e,t,o)=>t.indexOf(e.start)===0||o.indexOf(e.start)===0),NQ=E9(v3,!0),RQ=(e,t)=>{const o=e.selection.getRng();return vC(e,o).map(r=>{const c=Math.max(0,o.startOffset),h=hM(t,r,r.textContent??""),v=w9(e,r,o.startContainer,c,h,!0),T=NQ(e,r,h,!0);return{inlineMatches:v,blockMatches:T}}).filter(({inlineMatches:r,blockMatches:c})=>c.length>0||r.length>0)},MQ=(e,t)=>{if(t.length===0)return;const o=e.selection.getBookmark();Le(t,r=>OQ(e,r)),e.selection.moveToBookmark(o)},BQ=y3(C9),LQ=S9((e,t,o)=>t===e.start||o===e.start),PQ=E9(LQ,!1),FQ=(e,t)=>{const o=e.selection.getRng();return vC(e,o).map(r=>{const c=Math.max(0,o.startOffset),h=gM(e.dom,r,o.startContainer,c),v=hM(t,r,h);return PQ(e,r,v,!1,h)}).filter(r=>r.length>0)},$Q=(e,t)=>{Le(t,o=>BQ(e,o))},IQ=(e,t)=>RQ(e,t).fold(He,({inlineMatches:o,blockMatches:r})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{vb(e),pM(e,o),MQ(e,r);const c=e.selection.getRng(),h=TR(c.startContainer,c.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),h.each(v=>{const T=v.container;T.data.charAt(v.offset-1)===pi&&(T.deleteData(v.offset-1,1),yC(e.dom,T.parentNode,k=>k===e.dom.getRoot()))})}),!0)),T9=(e,t)=>{const o=e.selection.getRng();vC(e,o).map(r=>{const c=Math.max(0,o.startOffset-1),h=gM(e.dom,r,o.startContainer,c),v=hM(t,r,h),T=w9(e,r,o.startContainer,c,v,!1);T.length>0&&e.undoManager.transact(()=>{pM(e,T)})})},HQ=(e,t)=>FQ(e,t).fold(He,o=>(e.undoManager.transact(()=>{$Q(e,o)}),!0)),bM=(e,t,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],t))return!0;return!1},zQ=(e,t)=>bM(e,t,(o,r)=>o===r.keyCode&&!Ln.modifierPressed(r)),jQ=(e,t)=>bM(e,t,(o,r)=>o.charCodeAt(0)===r.charCode),A9=e=>{const t=[",",".",";",":","!","?"],o=[32],r=()=>gD(gA(e).filter(v=>v.type==="inline-command"||v.type==="block-command"?e.queryCommandSupported(v.cmd):!0),lo(e)),c=()=>Yy(e);e.on("keydown",v=>{if(v.keyCode===13&&!Ln.modifierPressed(v)&&e.selection.isCollapsed()&&e.selection.isEditable()){const T=dx(r(),"enter");(T.inlinePatterns.length>0||T.blockPatterns.length>0||c())&&IQ(e,T)&&v.preventDefault()}},!0),e.on("keydown",v=>{if(v.keyCode===32&&e.selection.isCollapsed()&&e.selection.isEditable()){const T=dx(r(),"space");(T.blockPatterns.length>0||c())&&HQ(e,T)&&v.preventDefault()}},!0);const h=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const v=dx(r(),"space");(v.inlinePatterns.length>0||c())&&T9(e,v)}};e.on("keyup",v=>{zQ(o,v)&&h()}),e.on("keypress",v=>{jQ(t,v)&&Qg.setEditorTimeout(e,h)})},fT=e=>{A9(e)},VQ=e=>{const t=ln.each,o=Ln.BACKSPACE,r=Ln.DELETE,c=e.dom,h=e.selection,v=e.parser,T=ds.browser,k=T.isFirefox(),L=T.isChromium()||T.isSafari(),W=ds.deviceType.isiPhone()||ds.deviceType.isiPad(),G=ds.os.isMacOS()||ds.os.isiOS(),Q=(Ht,En)=>{try{e.getDoc().execCommand(Ht,!1,String(En))}catch{}},ce=Ht=>Ht.isDefaultPrevented(),ke=()=>{const Ht=Xn=>{const Bs=c.create("body"),Ss=Xn.cloneContents();return Bs.appendChild(Ss),h.serializer.serialize(Bs,{format:"html"})},En=Xn=>{const Bs=Ht(Xn),Ss=c.createRng();Ss.selectNode(e.getBody());const Zr=Ht(Ss);return Bs===Zr};e.on("keydown",Xn=>{const Bs=Xn.keyCode;if(!ce(Xn)&&(Bs===r||Bs===o)&&e.selection.isEditable()){const Ss=e.selection.isCollapsed(),Zr=e.getBody();if(Ss&&!fo(e.schema,Zr)||!Ss&&!En(e.selection.getRng()))return;Xn.preventDefault(),e.setContent(""),Zr.firstChild&&c.isBlock(Zr.firstChild)?e.selection.setCursorLocation(Zr.firstChild,0):e.selection.setCursorLocation(Zr,0),e.nodeChanged()}})},ge=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},Te=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",Ht=>{let En;if(Ht.target===e.getDoc().documentElement)if(En=h.getRng(),e.getDoc().getSelection()?.anchorNode!==null&&e.getBody().focus(),Ht.type==="mousedown"){if(id(En.startContainer))return;h.placeCaretAt(Ht.clientX,Ht.clientY)}else h.setRng(En)})},ot=()=>{e.on("keydown",Ht=>{if(!ce(Ht)&&Ht.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(h.isCollapsed()&&h.getRng().startOffset===0){const En=h.getNode(),Xn=En.previousSibling;if(En.nodeName==="HR"){c.remove(En),Ht.preventDefault();return}Xn&&Xn.nodeName&&Xn.nodeName.toLowerCase()==="hr"&&(c.remove(Xn),Ht.preventDefault())}}})},rt=()=>{Range.prototype.getClientRects||e.on("mousedown",Ht=>{if(!ce(Ht)&&Ht.target.nodeName==="HTML"){const En=e.getBody();En.blur(),Qg.setEditorTimeout(e,()=>{En.focus()})}})},dt=()=>{const Ht=rw(e);e.on("click",En=>{const Xn=En.target;/^(IMG|HR)$/.test(Xn.nodeName)&&c.isEditable(Xn)&&(En.preventDefault(),e.selection.select(Xn),e.nodeChanged()),Xn.nodeName==="A"&&c.hasClass(Xn,Ht)&&Xn.childNodes.length===0&&c.isEditable(Xn.parentNode)&&(En.preventDefault(),h.select(Xn))})},Pt=()=>{const Ht=En=>En.nodeName==="IMG"&&e.dom.isEditable(En);e.on("mousedown",En=>{Bn(X.from(En.clientX),X.from(En.clientY),(Xn,Bs)=>{const Ss=e.getDoc().caretPositionFromPoint(Xn,Bs),Zr=Ss?.offsetNode?.childNodes[Ss.offset-(Ss.offset>0?1:0)]||Ss?.offsetNode;if(qe(Zr)&&Ht(Zr)){const km=Zr.getBoundingClientRect();En.preventDefault(),e.hasFocus()||e.focus(),e.selection.select(Zr),En.clientX<km.left||En.clientY<km.top?e.selection.collapse(!0):(En.clientX>km.right||En.clientY>km.bottom)&&e.selection.collapse(!1)}})})},en=()=>{const Ht=()=>{const Xn=c.getAttribs(h.getStart().cloneNode(!1));return()=>{const Bs=h.getStart();Bs!==e.getBody()&&(c.setAttrib(Bs,"style",null),t(Xn,Ss=>{Bs.setAttributeNode(Ss.cloneNode(!0))}))}},En=()=>!h.isCollapsed()&&c.getParent(h.getStart(),c.isBlock)!==c.getParent(h.getEnd(),c.isBlock);e.on("keypress",Xn=>{let Bs;return!ce(Xn)&&(Xn.keyCode===8||Xn.keyCode===46)&&En()?(Bs=Ht(),e.getDoc().execCommand("delete",!1),Bs(),Xn.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",Xn=>{if(!ce(Xn)&&En()){const Bs=Ht();Qg.setEditorTimeout(e,()=>{Bs()})}})},Nn=()=>{e.on("keydown",Ht=>{if(!ce(Ht)&&Ht.keyCode===o&&h.isCollapsed()&&h.getRng().startOffset===0){const En=h.getNode().previousSibling;if(En&&En.nodeName&&En.nodeName.toLowerCase()==="table")return Ht.preventDefault(),!1}return!0})},io=()=>{e.on("keydown",Ht=>{if(ce(Ht)||Ht.keyCode!==Ln.BACKSPACE)return;let En=h.getRng();const Xn=En.startContainer,Bs=En.startOffset,Ss=c.getRoot();let Zr=Xn;if(!(!En.collapsed||Bs!==0)){for(;Zr.parentNode&&Zr.parentNode.firstChild===Zr&&Zr.parentNode!==Ss;)Zr=Zr.parentNode;Zr.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Zr),En=c.createRng(),En.setStart(Xn,0),En.setEnd(Xn,0),h.setRng(En))}})},Bt=()=>{const Ht=Pa("figcaption");e.on("keydown",En=>{if(En.keyCode===Ln.LEFT||En.keyCode===Ln.RIGHT){const Xn=De.fromDom(e.selection.getNode());Ht(Xn)&&e.selection.isCollapsed()&&Wi(Xn).bind(Bs=>e.selection.getRng().startOffset===0&&En.keyCode===Ln.LEFT?qu(Bs):e.selection.getRng().endOffset===Xn.dom.textContent?.length&&En.keyCode===Ln.RIGHT?Za(Bs):X.none()).each(Bs=>{e.selection.setCursorLocation(Bs.dom,0)})}})},Ct=()=>{const Ht=()=>{Q("StyleWithCSS",!1),Q("enableInlineTableEditing",!1),lA(e)||Q("enableObjectResizing",!1)};yx(e)||e.on("BeforeExecCommand mousedown",Ht)},Ft=()=>{const Ht=()=>{t(c.select("a:not([data-mce-block])"),En=>{let Xn=En.parentNode;const Bs=c.getRoot();if(Xn?.lastChild===En){for(;Xn&&!c.isBlock(Xn);){if(Xn.parentNode?.lastChild!==Xn||Xn===Bs)return;Xn=Xn.parentNode}c.add(Xn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",En=>{(En.type==="setcontent"||En.command==="mceInsertLink")&&Ht()})},On=()=>{e.on("init",()=>{Q("DefaultParagraphSeparator",bl(e))})},Bo=Ht=>{const En=Ht.getBody(),Xn=Ht.selection.getRng();return Xn.startContainer===Xn.endContainer&&Xn.startContainer===En&&Xn.startOffset===0&&Xn.endOffset===En.childNodes.length},Lo=()=>{e.on("keyup focusin mouseup",Ht=>{!Ln.modifierPressed(Ht)&&!Bo(e)&&h.normalize()},!0)},Ws=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Pr=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Ca=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",Ht=>{let En;Ht.target.nodeName==="HTML"&&(En=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(En),e.selection.normalize(),e.nodeChanged())}))},ti=()=>{G&&e.on("keydown",Ht=>{Ln.metaKeyPressed(Ht)&&!Ht.shiftKey&&(Ht.keyCode===37||Ht.keyCode===39)&&(Ht.preventDefault(),e.selection.getSel().modify("move",Ht.keyCode===37?"backward":"forward","lineboundary"))})},Vc=()=>{e.on("click",Ht=>{let En=Ht.target;do if(En.tagName==="A"){Ht.preventDefault();return}while(En=En.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Am=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",Ht=>{Ht.preventDefault()})})},$n=()=>{v.addNodeFilter("br",Ht=>{let En=Ht.length;for(;En--;)Ht[En].attr("class")==="Apple-interchange-newline"&&Ht[En].remove()})},po=Lt,_r=()=>{if(!k||e.removed)return!1;const Ht=e.selection.getSel();return!Ht||!Ht.rangeCount||Ht.rangeCount===0},br=()=>{L&&(Te(),dt(),Am(),ge(),W&&(Pr(),Ca(),Vc())),k&&(rt(),Ct(),Ws(),ti())},vu=()=>{io(),ke(),ds.windowsPhone||Lo(),L&&(Te(),dt(),On(),Am(),Nn(),$n(),W?(Pr(),Ca(),Vc()):ge()),k&&(Bt(),Pt(),ot(),rt(),en(),Ct(),Ft(),Ws(),ti(),Nn())};return v0(e)?br():vu(),{refreshContentEditable:po,isHidden:_r}};class yM extends Error{url;constructor(t,o){super(t),this.url=o}}const vM={},UQ=(e,t,o)=>new Promise((r,c)=>{const h=De.fromTag("script");Wa(h,{type:"text/javascript",src:e,...o});const v=()=>{Cs(h)};vg(h,"load",()=>{v(),r()}),vg(h,"error",()=>{v(),c(new Error(`Failed to load script url: ${e}`))}),Is(xp(t),h)}),k9=async(e,t)=>{const o=sr.ScriptLoader.getScriptAttributes(e);return await UQ(e,t,o).catch(()=>Promise.reject(new yM(`Failed to load component url: ${e}`,e))),e},ZQ=e=>Gn(e,(t,o)=>No(vM,t).getOrThunk(()=>{if(fn(window.customElements.get(o))){const r=k9(t,Cl());return vM[t]=r,r}else return Promise.resolve(t)}).catch(r=>(delete vM[t],Promise.reject(r)))),D9=(e,t)=>{const o=Ma(vo(e));return tt(o,r=>k9(r,De.fromDom(t)))},WQ=e=>{const t=e.schema.getComponentUrls();return e.inline?ZQ(t):D9(t,e.getDoc())},_9=async e=>{const t=WQ(e),o=xt(await Promise.allSettled(t),r=>r.status==="rejected");o.length>0&&Le(o,r=>{if(r.reason instanceof yM){const{url:c}=r.reason;lW(e,c)}})},qQ=e=>{_9(e)},xM=hs.DOM,GQ=(e,t)=>{const o=De.fromDom(e.getBody()),r=Mm(ra(o)),c=De.fromTag("style");Or(c,"type","text/css"),Is(c,De.fromText(t)),Is(r,c),e.on("remove",()=>{Cs(c)})},KQ=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,wM=e=>Yn(e,t=>xn(t)===!1),O9=e=>{const t=e.options.get,o=e.editorUpload.blobCache;return wM({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_html_in_comments:t("allow_html_in_comments"),allow_mathml_annotation_encodings:t("allow_mathml_annotation_encodings"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),extended_mathml_attributes:t("extended_mathml_attributes"),extended_mathml_elements:t("extended_mathml_elements"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:KQ(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:a0(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},N9=e=>{const t=e.options.get;return wM({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},YQ=e=>{const t=e.options.get;return{...O9(e),...N9(e),...wM({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},XQ=e=>{const t=Lw(O9(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const c=e.dom,h="data-mce-"+r;let v=o.length;for(;v--;){const T=o[v];let k=T.attr(r);if(k&&!T.attr(h)){if(k.indexOf("data:")===0||k.indexOf("blob:")===0)continue;r==="style"?(k=c.serializeStyle(c.parseStyle(k),T.name),k.length||(k=null),T.attr(h,k),T.attr(r,k)):r==="tabindex"?(T.attr(h,k),T.attr(r,null)):T.attr(h,e.convertURL(k,r,T.name))}}}),t.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const c=o[r],h=c.attr("type")||"no/type";h.indexOf("mce-")!==0&&c.attr("type","mce-"+h)}}),mS(e)&&t.addNodeFilter("#cdata",o=>{let r=o.length;for(;r--;){const c=o[r];c.type=8,c.name="#comment",c.value="[CDATA["+e.dom.encode(c.value??"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const c=e.schema.getNonEmptyElements();for(;r--;){const h=o[r];h.isEmpty(c)&&h.getAll("br").length===0&&h.append(new Hc("br",1))}}),t},R9=e=>{const t=RD(e);t&&Qg.setEditorTimeout(e,()=>{let o;t===!0?o=e:o=e.editorManager.get(t),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},CM=e=>{const t=e.dom.getRoot();!e.inline&&(!NS(e)||e.selection.getStart(!0)===t)&&H(t).each(o=>{const r=o.getNode(),c=iu(r)?H(r).getOr(o):o;e.selection.setRng(c.toRange())})},M9=e=>{e.bindPendingEventDelegates(),e.initialized=!0,zT(e),e.focus(!0),CM(e),e.nodeChanged({initial:!0});const t=ND(e);Re(t)&&t.call(e,e),R9(e),Kb(e)&&YP(e,!0)},x3=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,QQ=(e,t,o)=>{const{pass:r,fail:c}=Nt(t,T=>tinymce.Resource.has(hv(T))),v=[...r.map(T=>{const k=tinymce.Resource.get(hv(T));return J(k)?Promise.resolve(x3(e).loadRawCss(T,k)):Promise.resolve()}),x3(e).loadAll(c)];return e.inline?v:v.concat([e.ui.styleSheetLoader.loadAll(o)])},B9=e=>{const t=x3(e),o=sS(e),r=e.contentCSS,c=()=>{t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},h=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let k="";ln.each(e.contentStyles,L=>{k+=L+`\r
`}),e.dom.addStyle(k)}const v=Promise.all(QQ(e,r,o)).then(h).catch(h),T=Rb(e);return T&&GQ(e,T),v},JQ=e=>{const t=e.getDoc(),o=e.getBody();HT(e),mA(e)||(t.body.spellcheck=!1,xM.setAttrib(o,"spellcheck","false")),e.quirks=VQ(e),fr(e);const r=CD(e);r!==void 0&&(o.dir=r);const c=MD(e);c&&e.on("BeforeSetContent",h=>{ln.each(c,v=>{h.content=h.content.replace(v,T=>"<!--mce:protected "+escape(T)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",h=>{e.composing=h.type==="compositionstart"})},L9=e=>{v0(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},w3=e=>{e.removed!==!0&&(L9(e),M9(e))},eJ=e=>{let t=!1;const o=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(o),t=!0,e.setProgressState(!1)}},P9=e=>{const t=e.getElement();let o=e.getDoc();e.inline&&(xM.addClass(t,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const r=e.getBody();r.disabled=!0,e.readonly=yx(e),e._editableRoot=sw(e),!nh(e)&&e.hasEditableRoot()&&(e.inline&&xM.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=Xx(e),e.schema=Ls(N9(e)),e.dom=hs(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:rA(e),referrerPolicy:J2(e),crossOrigin:Nb(e),onSetAttrib:v=>{e.dispatch("SetAttrib",v)}}),e.parser=XQ(e),e.serializer=xO(YQ(e),e),e.selection=yO(e.dom,e.getWin(),e.serializer,e),e.annotator=UB(e),e.formatter=nF(e),e.undoManager=RW(e),e._nodeChangeDispatcher=new iX(e),e._selectionOverrides=h3(e),Yr(e),eK(e),XI(e),sK(e),v0(e)||(ZX(e),fT(e));const c=JY(e);oR(e,c),cp(e),PW(e),$X(e,c);const h=FZ(e);JQ(e),qQ(e),h.fold(()=>{const v=eJ(e);B9(e).then(()=>{w3(e),v()})},v=>{e.setProgressState(!0),B9(e).then(()=>{v().then(T=>{e.setProgressState(!1),w3(e),Kk(e)},T=>{e.notificationManager.open({type:"error",text:String(T)}),w3(e),Kk(e)})})})},mT=hs.DOM,C3=(e,t,o,r)=>{const c=De.fromTag("iframe");return r.each(h=>Or(c,"tabindex",h)),Wa(c,o),Wa(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",...ds.browser.isFirefox()?{title:t}:{}}),pc(c,"tox-edit-area__iframe"),c},F9=e=>{let t=JC(e)+"<html><head>";eS(e)!==e.editorManager.documentBaseURL&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=YT(e),r=XT(e),c=e.translate(aw(e)),h=ds.browser.isFirefox()?"":`aria-label="${c}"`;return QT(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+QT(e)+'" />'),t+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" ${h}><br></body></html>`,t},$9=(e,t)=>{const o=aw(e),r=e.translate(o),c=dl(De.fromDom(e.getElement()),"tabindex").bind(Ef),h=C3(e.id,r,KT(e),c).dom;h.onload=()=>{h.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=h,e.iframeHTML=F9(e),mT.add(t.iframeContainer,h)},I9=e=>{const t=e.iframeElement,o=()=>{e.contentDocument=t.contentDocument,P9(e)};if(Sx(e)||ds.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),o()}else{const r=vg(De.fromDom(t),"load",()=>{r.unbind(),o()});t.srcdoc=e.iframeHTML}},tJ=(e,t)=>{$9(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=mT.isHidden(t.editorContainer)),e.getElement().style.display="none",mT.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,I9(e)},H9=hs.DOM,nJ=(e,t,o)=>{const r=mv.get(o),c=mv.urls[o]||e.editorManager.documentBaseURL.replace(/\/$/,"");if(o=ln.trim(o),r&&ln.inArray(t,o)===-1){if(e.plugins[o])return;try{const h=r(e,c)||{};e.plugins[o]=h,Re(h.init)&&(h.init(e,c),t.push(o))}catch(h){cW(e,o,h)}}},oJ=e=>{const t=o=>{o.keyCode===Ln.ESC&&!o.defaultPrevented&&GT(e).isDefaultPrevented()&&o.preventDefault()};document.addEventListener("keyup",t),e.inline||e.on("keyup",t),e.on("remove",()=>{document.removeEventListener("keyup",t),e.inline||e.off("keyup",t)})},N1=e=>e.replace(/^\-/,""),z9=e=>{const t=[];Le(vx(e),o=>{nJ(e,t,N1(o))})},sJ=e=>{const t=ln.trim(px(e)),o=e.ui.registry.getAll().icons,r={...Qk.get("default").icons,...Qk.get(t).icons};Oo(r,(c,h)=>{Qn(o,h)||e.ui.registry.addIcon(h,c)})},j9=e=>{const t=Zg(e);if(J(t)){const o=Zx.get(t);e.theme=o(e,Zx.urls[t])||{},Re(e.theme.init)&&e.theme.init(e,Zx.urls[t]||e.editorManager.documentBaseURL.replace(/\/$/,""))}else e.theme={}},rJ=e=>{const t=nw(e),o=Uw.get(t);e.model=o(e,Uw.urls[t])},aJ=e=>{FO.init(e)},SM=e=>{const t=e.theme.renderUI;return t?t():U9(e)},S3=e=>{const t=e.getElement(),r=Zg(e)(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},V9=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),iJ=e=>{const t=H9.create("div");return H9.insertAfter(t,e),V9(t,t)},U9=e=>{const t=e.getElement();return e.inline?V9(null):iJ(t)},Z9=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,J(Zg(e))?SM(e):Re(Zg(e))?S3(e):U9(e)},lJ=(e,t)=>{const o={show:X.from(t.show).getOr(Lt),hide:X.from(t.hide).getOr(Lt),isEnabled:X.from(t.isEnabled).getOr(ft),setEnabled:r=>{r&&(e.mode.get()==="readonly"||Kb(e))||X.from(t.setEnabled).each(h=>h(r))}};e.ui={...e.ui,...o}},W9=async e=>{e.dispatch("ScriptsLoaded"),sJ(e),oJ(e),j9(e),rJ(e),aJ(e),z9(e);const t=await Z9(e);lJ(e,X.from(t.api).getOr({})),e.editorContainer=t.editorContainer,xW(e),e.inline?P9(e):tJ(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},d2=hs.DOM,q9=e=>e.charAt(0)==="-",cJ=(e,t)=>{const o=aA(t),r=iA(t);if(!$u.hasCode(o)&&o!=="en"){const c=Hr(r)?r:`${t.editorManager.baseURL}/langs/${o}.js`;e.add(c).catch(()=>{qx(t,c,o)})}},uJ=(e,t)=>{const o=Zg(e);if(J(o)&&!q9(o)&&!Qn(Zx.urls,o)){const r=cA(e),c=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${t}.js`;Zx.load(o,c).catch(()=>{IP(e,c,o)})}},dJ=(e,t)=>{const o=nw(e);if(o!=="plugin"&&!Qn(Uw.urls,o)){const r=TD(e),c=J(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${t}.js`;Uw.load(o,c).catch(()=>{iW(e,c,o)})}},G9=(e,t)=>{FO.load(e,t)},E3=e=>X.from(nS(e)).filter(Hr).map(t=>({url:t,name:X.none()})),T3=(e,t,o)=>X.from(t).filter(r=>Hr(r)&&!Qk.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:X.some(r)})),fJ=(e,t,o)=>{const r=T3(t,"default",o),c=E3(t).orThunk(()=>T3(t,px(t),""));Le(oo([r,c]),h=>{e.add(h.url).catch(()=>{aW(t,h.url,h.name.getOrUndefined())})})},K9=(e,t)=>{const o=(r,c)=>{r!=="licensekeymanager"&&mv.load(r,c).catch(()=>{$P(e,c,r)})};Oo(cS(e),(r,c)=>{o(c,r),e.options.set("plugins",vx(e).concat(c))}),Le(vx(e),r=>{r=ln.trim(r),r&&!mv.urls[r]&&!q9(r)&&o(r,`plugins/${r}/plugin${t}.js`)})},Y9=e=>{const t=Zg(e);return!J(t)||qe(Zx.get(t))},mJ=e=>{const t=nw(e);return qe(Uw.get(t))},X9=(e,t)=>{const o=sr.ScriptLoader,r=()=>{!e.removed&&Y9(e)&&mJ(e)&&W9(e)};uJ(e,t),dJ(e,t),G9(e,t),cJ(o,e),fJ(o,e,t),K9(e,t),o.loadQueue().then(r,r)},hJ=(e,t)=>jm.forElement(e,{contentCssCors:lS(t),referrerPolicy:J2(t)}),gJ=e=>{const t=e.id;$u.setCode(aA(e));const o=()=>{d2.unbind(window,"ready",o),e.render()};if(!Pd.Event.domLoaded){d2.bind(window,"ready",o);return}if(!e.getElement())return;const r=De.fromDom(e.getElement()),c=cs(r);e.on("remove",()=>{Je(r.dom.attributes,v=>ci(r,v.name)),Wa(r,c)}),e.ui.styleSheetLoader=hJ(r,e),bx(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const h=e.getElement().form||d2.getParent(t,"form");h&&(e.formElement=h,iS(e)&&!lf(e.getElement())&&(d2.insertAfter(d2.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=v=>{e.dispatch(v.type,v)},d2.bind(h,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),DD(e)&&!h.submit.nodeType&&!h.submit.length&&!h._mceOldSubmit&&(h._mceOldSubmit=h.submit,h.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),h._mceOldSubmit(h)))),e.windowManager=FP(e),e.notificationManager=EE(e),bA(e)&&e.on("GetContent",v=>{v.save&&(v.content=d2.encode(v.content))}),_D(e)&&e.on("submit",()=>{e.initialized&&e.save()}),ow(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),X9(e,e.suffix)},Q9=["#E41B60","#AD1457","#1939EC","#001CB5","#648000","#465B00","#006CE7","#0054B4","#00838F","#006064","#00866F","#004D40","#51742F","#385021","#CF4900","#A84600","#CC0000","#6A1B9A","#9C27B0","#6A00AB","#3041BA","#0A1877","#774433","#452B24","#607D8B","#455A64"],pJ=e=>Intl.Segmenter?`${new Intl.Segmenter().segment(e)[Symbol.iterator]().next().value?.segment}`:e.trim()[0],J9=(e,t)=>{let o=5381;for(let r=0;r<e.length;r++)o=(o<<5)+o+e.charCodeAt(r);return(o>>>0)%(t+1)},eH=e=>{const t=J9(e??"",Q9.length-1);return Q9[t]},tH=(e,t,o)=>{const r=o/2;return`<svg height="${o}" width="${o}" xmlns="http://www.w3.org/2000/svg"><circle cx="${r}" cy="${r}" r="${r}" fill="${t}"/><text x="50%" y="50%" text-anchor="middle" dominant-baseline="central" fill="#FFF" font-family="sans-serif" font-size="${r}">`+e+"</text></svg>"},nH=(e,t,o)=>"data:image/svg+xml,"+encodeURIComponent(tH(e,t,o)),A3=(e,t={size:36})=>nH(pJ(e.name),eH(e.id),t.size),oH=Us([o0("id"),c1("name"),c1("avatar"),Zs("custom")]),EM=e=>{const t={};return Oo(e,(o,r)=>{o.each(c=>{t[r]=c})}),t},sH=e=>{if(!Array.isArray(e))throw new Error("fetch_users must return an array");const t=tt(e,c=>gf("Invalid user object",oH,c)),{errors:o,values:r}=Sa(t);if(o.length>0){const c=tt(o,(h,v)=>`User at index ${v}: ${Jm(h)}`);console.warn(`User validation errors:
`+c.join(`
`))}return tt(r,c=>{const{id:h,name:v,avatar:T,...k}=c;return{id:h,name:v.getOr(h),avatar:T.getOr(A3({id:h,name:v.getOr(h)})),...EM(k)}})},rH=e=>{const t=new Map,o=new Map,r=L=>X.from(t.get(L)),c=(L,W)=>{t.set(W,L)},h=(L,W)=>X.from(o.get(L)).each(({reject:G})=>{G(W),o.delete(L)}),v=(L,W)=>X.from(o.get(L)).each(({resolve:G})=>{G(W),o.delete(L)}),T=L=>{const W=wA(e);if(Array.isArray(L)){if(!W)return Vs(L,Q=>Promise.resolve({id:Q,name:Q,avatar:A3({id:Q,name:Q})}))}else return{};const G=Ma(xt(L,Q=>!r(Q).isSome()));return Le(G,Q=>{const ce=new Promise((ke,ge)=>{o.set(Q,{resolve:ke,reject:ge})});c(ce,Q)}),G.length>0&&W(G).then(sH).then(Q=>{const ce=new Set(tt(Q,ke=>ke.id));Le(Q,ke=>v(ke.id,ke)),Le(G,ke=>{ce.has(ke)||h(ke,new Error(`User ${ke} not found`))})}).catch(Q=>{Le(G,ce=>h(ce,Q instanceof Error?Q:new Error("Network error")))}),Pe(L,(Q,ce)=>(Q[ce]=r(ce).getOr(Promise.resolve({id:ce,name:ce,avatar:A3({id:ce,name:ce})})),Q),{})},k=xA(e);return Object.freeze({userId:k,fetchUsers:T})},aH=e=>rH(e),bJ=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,Kb(e)||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),qT(e,t))},yJ=e=>e._editableRoot,iH=(e,t)=>({sections:at(e),options:at(t)}),TM=bs().deviceType,AM=TM.isPhone(),lH=TM.isTablet(),f2=e=>{if(fn(e))return[];{const t=Ke(e)?e:e.split(/[ ,]/),o=tt(t,Jr);return xt(o,Hr)}},kM=(e,t)=>{const o=Kt(t,(r,c)=>Be(e,c));return iH(o.t,o.f)},k3=(e,t,o={})=>{const r=e.sections(),c=No(r,t).getOr({});return ln.extend({},o,c)},D3=(e,t)=>Qn(e.sections(),t),cH=(e,t)=>D3(e,t)?e.sections()[t]:{},uH=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:No(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),DM=(e,t)=>{const o=t.external_plugins??{};return e&&e.external_plugins?ln.extend({},e.external_plugins,o):o},dH=(e,t)=>[...f2(e),...f2(t)],fH=(e,t,o,r)=>e&&D3(t,"mobile")?r:o,vJ=(e,t,o,r)=>{const c=f2(o.forced_plugins),h=f2(r.plugins),v=cH(t,"mobile"),T=v.plugins?f2(v.plugins):h,k=fH(e,t,h,T),L=dH(c,k);return ln.extend(r,{forced_plugins:c,plugins:L})},mH=(e,t)=>e&&D3(t,"mobile"),xJ=(e,t,o,r,c)=>{const h=e?{mobile:uH(c.mobile??{},t)}:{},v=kM(["mobile"],Ut(h,c)),T=ln.extend(o,r,v.options(),mH(e,v)?k3(v,"mobile"):{},{external_plugins:DM(r,v.options())});return vJ(e,v,r,T)},wJ=(e,t)=>{const o=wn(t);return xJ(AM||lH,AM,o,e,o)},CJ=(e,t)=>AP(e,t),hH=e=>{const t=(r,c)=>{e.formatter.toggle(r,c),e.nodeChanged()},o=r=>()=>{Le("left,center,right,justify".split(","),c=>{r!==c&&e.formatter.remove("align"+c)}),r!=="none"&&t("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},SJ=e=>{const t=o=>()=>{const r=e.selection,c=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return Ye(c,h=>qe(e.formatter.matchNode(h,o)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},gH=e=>{hH(e),SJ(e)},_3=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const o=e.getDoc();let r;try{o.execCommand(t)}catch{r=!0}if(t==="paste"&&!o.queryCommandEnabled(t)&&(r=!0),r||!o.queryCommandSupported(t)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(ds.os.isMacOS()||ds.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:c,type:"error"})}}})},EJ=(e,t,o,r)=>{const c=De.fromDom(e.getRoot());return qS(c,_t.fromRangeStart(t),r)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),md(c,_t.fromRangeEnd(t),r)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},pH=e=>{if(typeof e!="string"){const t=ln.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},TJ=(e,t)=>{const o=e.selection,r=e.dom;return/^ | $/.test(t)?EJ(r,o.getRng(),t,e.schema):t},hT=(e,t)=>{if(e.selection.isEditable()){const{content:o,details:r}=pH(t);uE(e,{...r,content:TJ(e,o),format:"html",set:!1,selection:!0}).each(c=>{const h=qb(e,c.content,r);z5(e,h,c),e.addVisual()})}},_M=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,o,r)=>{hT(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,o,r)=>{hT(e,e.dom.encode(r))},insertHTML:(t,o,r)=>{hT(e,r)},mceInsertContent:(t,o,r)=>{hT(e,r)},mceSetContent:(t,o,r)=>{e.setContent(r)},mceReplaceContent:(t,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(PD(e))}})},AJ={"font-size":"size","font-family":"face"},kJ=Pa("font"),bH=(e,t,o)=>{const r=h=>di(h,e).orThunk(()=>kJ(h)?No(AJ,e).bind(v=>dl(h,v)):X.none()),c=h=>ss(De.fromDom(t),h);return Xu(De.fromDom(o),h=>r(h),c)},DJ=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),_J=(e,t)=>X.from(hs.DOM.getStyle(t,e,!0)),yH=e=>(t,o)=>X.from(o).map(De.fromDom).filter(fa).bind(r=>bH(e,t,r.dom).or(_J(e,r.dom))).getOr(""),OJ=yH("font-size"),NJ=F(DJ,yH("font-family")),vH=e=>H(e.getBody()).bind(t=>{const o=t.container();return X.from(dn(o)?o.parentNode:o)}),xH=e=>X.from(e.selection.getRng()).bind(t=>{const o=e.getBody();return t.startContainer===o&&t.startOffset===0?X.none():X.from(e.selection.getStart(!0))}),RJ=(e,t)=>xH(e).orThunk(le(vH,e)).map(De.fromDom).filter(fa).bind(t),OM=(e,t)=>RJ(e,Vt(X.some,t)),wH=(e,t)=>{if(/^[0-9.]+$/.test(t)){const o=parseInt(t,10);if(o>=1&&o<=7){const r=hS(e),c=gS(e);return c.length>0?c[o-1]||t:r[o-1]||t}else return t}else return t},MJ=e=>{const t=e.split(/\s*,\s*/);return tt(t,o=>o.indexOf(" ")!==-1&&!(Co(o,'"')||Co(o,"'"))?`'${o}'`:o).join(",")},n=(e,t)=>{const o=wH(e,t);e.formatter.toggle("fontname",{value:MJ(o)}),e.nodeChanged()},s=e=>OM(e,t=>NJ(e.getBody(),t.dom)).getOr(""),i=(e,t)=>{e.formatter.toggle("fontsize",{value:wH(e,t)}),e.nodeChanged()},f=e=>OM(e,t=>OJ(e.getBody(),t.dom)).getOr(""),b=e=>OM(e,t=>{const o=De.fromDom(e.getBody()),r=Xu(t,h=>di(h,"line-height"),le(ss,o)),c=()=>{const h=parseFloat(ka(t,"line-height")),v=parseFloat(ka(t,"font-size"));return String(h/v)};return r.getOrThunk(c)}).getOr(""),w=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},S=e=>{const t=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{t(o)},"ForeColor,HiliteColor":(o,r,c)=>{t(o,{value:c})},BackColor:(o,r,c)=>{t("hilitecolor",{value:c})},FontName:(o,r,c)=>{n(e,c)},FontSize:(o,r,c)=>{i(e,c)},LineHeight:(o,r,c)=>{w(e,c)},Lang:(o,r,c)=>{t(o,{value:c.code,customValue:c.customCode??null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(o,r,c)=>{t(J(c)?c:"p")},mceToggleFormat:(o,r,c)=>{t(c)}})},_=e=>{const t=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>t(o),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>s(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>f(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>b(e))},B=e=>{S(e),_(e)},z=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},Z=e=>{e.editorCommands.addCommands({Indent:()=>{D7(e)},Outdent:()=>{ey(e)}}),e.editorCommands.addCommands({Outdent:()=>T7(e),Indent:()=>XG(e)},"state")},K=e=>{const t=(o,r,c)=>{if(e.mode.isReadOnly())return;const h=J(c)?{href:c}:c,v=e.dom.getParent(e.selection.getNode(),"a");it(h)&&J(h.href)&&(h.href=h.href.replace(/ /g,"%20").replace(/&amp;/g,"&"),(!v||!h.href)&&e.formatter.remove("link"),h.href&&e.formatter.apply("link",h,v))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},ae=(e,t,o,r)=>{const c=e.dom,h=T=>c.isBlock(T)&&T.parentElement===o,v=h(t)?t:c.getParent(r,h,o);return X.from(v).map(De.fromDom)},he=(e,t)=>{if(e.mode.isReadOnly())return;const o=e.dom,r=e.selection.getRng(),c=t?e.selection.getStart():e.selection.getEnd(),h=t?r.startContainer:r.endContainer,v=QE(o,h);if(!v||!v.isContentEditable)return;const T=t?ul:Sl,k=bl(e);ae(e,c,v,h).each(L=>{const W=K$(e,h,L.dom,v,!1,k);T(L,De.fromDom(W)),e.selection.setCursorLocation(W,0),e.dispatch("NewBlock",{newBlock:W}),YE(e,"insertParagraph")})},xe=e=>he(e,!0),_e=e=>he(e,!1),ze=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{xe(e)},InsertNewBlockAfter:()=>{_e(e)}})},Ee=e=>{e.editorCommands.addCommands({insertParagraph:()=>{Q4(eT,e)},mceInsertNewLine:(t,o,r)=>{fI(e,r)},InsertLineBreak:(t,o,r)=>{Q4(iI,e)}})},Xe=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,o,r)=>{let c=0;e.dom.getParent(e.selection.getNode(),h=>Sn(h)&&c++===r?(e.selection.select(h),!1):!0,e.getBody())},mceSelectNode:(t,o,r)=>{e.selection.select(r)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),Bu);if(t){const o=e.dom.createRng();o.selectNodeContents(t),e.selection.setRng(o)}}})},st=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,o,r)=>{const c=r??e.selection.getNode();if(c!==e.getBody()){const h=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(h)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,o,r)=>{JB(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},wt=e=>{gH(e),_3(e),z(e),Xe(e),_M(e),K(e),Z(e),ze(e),Ee(e),B(e),st(e)},Ot=["toggleview"],kn=e=>Be(Ot,e.toLowerCase());class Jt{editor;commands={state:{},exec:{},value:{}};constructor(t){this.editor=t}execCommand(t,o=!1,r,c){const h=this.editor,v=t.toLowerCase(),T=c?.skip_focus;if(h.removed||(v!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(v)&&!T?h.focus():Vz(h)),h.dispatch("BeforeExecCommand",{command:t,ui:o,value:r}).isDefaultPrevented()))return!1;const L=this.commands.exec[v];return Re(L)?(L(v,o,r,c),h.dispatch("ExecCommand",{command:t,ui:o,value:r,args:c}),!0):!1}queryCommandState(t){if(!kn(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=t.toLowerCase(),r=this.commands.state[o];return Re(r)?r(o):!1}queryCommandValue(t){if(!kn(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=t.toLowerCase(),r=this.commands.value[o];return Re(r)?r(o):""}addCommands(t,o="exec"){const r=this.commands;Oo(t,(c,h)=>{Le(h.toLowerCase().split(","),v=>{r[o][v]=c})})}addCommand(t,o,r){const c=t.toLowerCase();this.commands.exec[c]=(h,v,T,k)=>o.call(r??this.editor,v,T,k)}removeCommand(t,o){const r=t.toLowerCase();o?delete this.commands[o][r]:(delete this.commands.exec[r],delete this.commands.state[r],delete this.commands.value[r])}queryCommandSupported(t){const o=t.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(t,o,r){this.commands.state[t.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(t,o,r){this.commands.value[t.toLowerCase()]=()=>o.call(r??this.editor)}}const rn=ln.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class on{static isNative(t){return!!rn[t.toLowerCase()]}settings;scope;toggleEvent;bindings={};constructor(t){this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||He}fire(t,o){return this.dispatch(t,o)}dispatch(t,o){const r=t.toLowerCase(),c=Ip(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const h=this.bindings[r];if(h)for(let v=0,T=h.length;v<T;v++){const k=h[v];if(!k.removed){if(k.once&&this.off(r,k.func),c.isImmediatePropagationStopped())return c;if(k.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(t,o,r,c){if(o===!1&&(o=He),o){const h={func:o,removed:!1};c&&ln.extend(h,c);const v=t.toLowerCase().split(" ");let T=v.length;for(;T--;){const k=v[T];let L=this.bindings[k];L||(L=[],this.toggleEvent(k,!0)),r?L=[h,...L]:L=[...L,h],this.bindings[k]=L}}return this}off(t,o){if(t){const r=t.toLowerCase().split(" ");let c=r.length;for(;c--;){const h=r[c];let v=this.bindings[h];if(!h)return Oo(this.bindings,(T,k)=>{this.toggleEvent(k,!1),delete this.bindings[k]}),this;if(v){if(!o)v.length=0;else{const T=Nt(v,k=>k.func===o);v=T.fail,this.bindings[h]=v,Le(T.pass,k=>{k.removed=!0})}v.length||(this.toggleEvent(t,!1),delete this.bindings[h])}}}else Oo(this.bindings,(r,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(t,o,r){return this.on(t,o,r,{once:!0})}has(t){t=t.toLowerCase();const o=this.bindings[t];return!(!o||o.length===0)}}const mo=e=>(e._eventDispatcher||(e._eventDispatcher=new on({scope:e,toggleEvent:(t,o)=>{on.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,o)}})),e._eventDispatcher),to={fire(e,t,o){return dE("fire"),this.dispatch(e,t,o)},dispatch(e,t,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return Ip(e.toLowerCase(),t??{},r);const c=mo(r).dispatch(e,t);if(o!==!1&&r.parent){let h=r.parent();for(;h&&!c.isPropagationStopped();)h.dispatch(e,c,!1),h=h.parent?h.parent():void 0}return c},on(e,t,o){return mo(this).on(e,t,o)},off(e,t){return mo(this).off(e,t)},once(e,t){return mo(this).once(e,t)},hasEventListeners(e){return mo(this).has(e)}},ys=hs.DOM;let ho;const Vo=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const o=tw(e);return o?(e.eventRoot||(e.eventRoot=ys.select(o)[0]),e.eventRoot):e.getBody()},no=e=>!e.hidden&&!Kb(e),Yt=(e,t,o)=>{no(e)?e.dispatch(t,o):Kb(e)&&gW(e,o)},vn=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const o=Vo(e,t);if(tw(e)){if(ho||(ho={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||ho&&(Oo(ho,(c,h)=>{e.dom.unbind(Vo(e,h))}),ho=null)})),ho[t])return;const r=c=>{const h=c.target,v=e.editorManager.get();let T=v.length;for(;T--;){const k=v[T].getBody();(k===h||ys.isChildOf(h,k))&&Yt(v[T],t,c)}};ho[t]=r,ys.bind(o,t,r)}else{const r=c=>{Yt(e,t,c)};ys.bind(o,t,r),e.delegates[t]=r}},To={...to,bindPendingEventDelegates(){const e=this;ln.each(e._pendingNativeEvents,t=>{vn(e,t)})},toggleNativeEvent(e,t){const o=this;e==="focus"||e==="blur"||o.removed||(t?o.initialized?vn(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(Vo(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),o=e.dom;e.delegates&&(Oo(e.delegates,(r,c)=>{e.dom.unbind(Vo(e,c),c,r)}),delete e.delegates),!e.inline&&t&&o&&(t.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(t),o.unbind(e.getContainer()))}},Ko=e=>J(e)?{value:e.split(/[ ,]/),valid:!0}:vt(e,J)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},ao=e=>{const t=(()=>{switch(e){case"array":return Ke;case"boolean":return ut;case"function":return Re;case"number":return Qo;case"object":return it;case"string":return J;case"string[]":return Ko;case"object[]":return o=>vt(o,it);case"regexp":return o=>Oe(o,RegExp);default:return ft}})();return o=>ju(o,t,`The value must be a ${e}.`)},qo=e=>J(e.processor),Ur=(e,t)=>{const o=Cu(t.message)?"":`. ${t.message}`;return e+o},pr=e=>e.valid,ju=(e,t,o="")=>{const r=t(e);return ut(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},ei=(e,t,o)=>{if(!xn(t)){const r=ju(t,o);if(pr(r))return r.value;console.error(Ur(`Invalid default value passed for the "${e}" option`,r))}},Kf=(e,t,o=t)=>{const r={},c={},h=(ce,ke,ge)=>{const Te=ju(ke,ge);return pr(Te)?(c[ce]=Te.value,!0):(console.warn(Ur(`Invalid value passed for the ${ce} option`,Te)),!1)},v=(ce,ke)=>{const ge=qo(ke)?ao(ke.processor):ke.processor,Te=ei(ce,ke.default,ge);r[ce]={...ke,default:Te,processor:ge},No(c,ce).orThunk(()=>No(t,ce)).each(rt=>h(ce,rt,ge))},T=ce=>Qn(r,ce);return{register:v,isRegistered:T,get:ce=>No(c,ce).orThunk(()=>No(r,ce).map(ke=>ke.default)).getOrUndefined(),set:(ce,ke)=>{if(T(ce)){const ge=r[ce];return ge.immutable?(console.error(`"${ce}" is an immutable option and cannot be updated`),!1):h(ce,ke,ge.processor)}else return console.warn(`"${ce}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:ce=>{const ke=T(ce);return ke&&delete c[ce],ke},isSet:ce=>Qn(c,ce),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(ce,ke)=>ut(ke)||Qo(ke)||J(ke)||ie(ke)||Ke(ke)||jt(ke)?ke:Object.prototype.toString.call(ke))))}catch(ce){console.error(ce)}}}},jc=(e,t)=>{e.dom.contentEditable="true"},dh=(e,t)=>{const o=De.fromDom(e.getBody());t?(e.readonly=!0,e.hasEditableRoot()&&jc(o),HO(e)):(e.readonly=!1,KP(e))},bu=e=>e.readonly,ug=e=>{const t=e.undoManager.add();qe(t)&&(e.undoManager.undo(),e.undoManager.reset())},Ev=e=>Ye(e,t=>t.type==="characterData"||t.type==="childList"),R1=e=>{const t=r=>{bu(e)&&Ev(r)&&ug(e)},o=new MutationObserver(t);e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",r=>{bu(e)&&r.preventDefault()}),e.on("BeforeExecCommand",r=>{(r.command==="Undo"||r.command==="Redo")&&bu(e)&&r.preventDefault()}),e.on("compositionstart",()=>{bu(e)&&o.observe(e.getBody(),{characterData:!0,childList:!0,subtree:!0})}),e.on("compositionend",()=>{if(bu(e)){const r=o.takeRecords();t(r)}o.disconnect()})},xC=["design","readonly"],M1=(e,t,o,r)=>{const c=o[t.get()],h=o[r];try{h.activate()}catch(v){console.error(`problem while activating editor mode ${r}:`,v);return}c.deactivate(),c.editorReadOnly!==h.editorReadOnly&&dh(e,h.editorReadOnly),t.set(r),bD(e,r)},gT=(e,t,o,r)=>{if(!(r===o.get()||e.initialized&&Kb(e))){if(!Qn(t,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?M1(e,o,t,r):e.on("init",()=>M1(e,o,t,r))}},NM=(e,t,o)=>{if(Be(xC,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${t}:`,r)}}}}},wC=e=>{const t=Pn("design"),o=Pn({design:{activate:Lt,deactivate:Lt,editorReadOnly:!1},readonly:{activate:Lt,deactivate:Lt,editorReadOnly:!0}});return R1(e),pW(e),{isReadOnly:()=>bu(e),set:r=>gT(e,o.get(),t,r),get:()=>t.get(),register:(r,c)=>{o.set(NM(o.get(),r,c))}}},CC=ln.each,SC=ln.explode,CH={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},RM=ln.makeMap("alt,ctrl,shift,meta,access"),BJ=e=>e in RM,MM=e=>{const t={},o=ds.os.isMacOS()||ds.os.isiOS();CC(SC(e.toLowerCase(),"+"),h=>{BJ(h)?t[h]=!0:/^[0-9]{2,}$/.test(h)?t.keyCode=parseInt(h,10):(t.charCode=h.charCodeAt(0),t.keyCode=CH[h]||h.toUpperCase().charCodeAt(0))});const r=[t.keyCode];let c;for(c in RM)t[c]?r.push(c):t[c]=!1;return t.id=r.join(","),t.access&&(t.alt=!0,o?t.ctrl=!0:t.shift=!0),t.meta&&(o?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class EC{editor;shortcuts={};pendingPatterns=[];constructor(t){this.editor=t;const o=this;t.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(CC(o.shortcuts,c=>{o.matchShortcut(r,c)&&(o.pendingPatterns=c.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(c))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(t,o,r,c){const h=this,v=h.normalizeCommandFunc(r);return CC(SC(ln.trim(t)),T=>{const k=h.createShortcut(T,o,v,c);h.shortcuts[k.id]=k}),!0}remove(t){const o=this.createShortcut(t);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(t){const o=this,r=t;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:ln.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(t,o,r,c){const h=ln.map(SC(t,">"),MM);return h[h.length-1]=ln.extend(h[h.length-1],{func:r,scope:c||this.editor}),ln.extend(h[0],{desc:this.editor.translate(o),subpatterns:h.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,o){return!o||o.ctrl!==t.ctrlKey||o.meta!==t.metaKey||o.alt!==t.altKey||o.shift!==t.shiftKey?!1:t.keyCode===o.keyCode||t.charCode&&t.charCode===o.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const TC=()=>{const e=QK();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},up=hs.DOM,BM=ln.extend,SH=ln.each;class pT{baseUri;id;editorUid;plugins={};documentBaseURI;baseURI;contentCSS=[];contentStyles=[];ui;mode;options;editorUpload;userLookup;shortcuts;loadedCSS={};editorCommands;suffix;editorManager;hidden;inline;hasVisual;isNotDirty=!1;annotator;bodyElement;bookmark;composing=!1;container;contentAreaContainer;contentDocument;contentWindow;delegates;destroyed=!1;dom;editorContainer;eventRoot;formatter;formElement;formEventDelegate;hasHiddenInput=!1;iframeElement=null;iframeHTML;initialized=!1;notificationManager;orgDisplay;orgVisibility;parser;quirks;readonly=!1;removed=!1;schema;selection;serializer;startContent="";targetElm;theme;model;undoManager;windowManager;licenseKeyManager;_beforeUnload;_eventDispatcher;_nodeChangeDispatcher;_pendingNativeEvents=[];_selectionOverrides;_skinLoaded=!1;_editableRoot=!0;bindPendingEventDelegates;toggleNativeEvent;unbindAllNativeEvents;fire;dispatch;on;off;once;hasEventListeners;constructor(t,o,r){this.editorManager=r,BM(this,To);const c=this;this.id=t,this.editorUid=ko(),this.hidden=!1;const h=wJ(r.defaultOptions,o);this.options=Kf(c,h,o),gx(c),this.userLookup=aH(this);const v=this.options.get;v("deprecation_warnings")&&VU(o,h);const T=v("suffix");T&&(r.suffix=T),this.suffix=r.suffix;const k=v("base_url");k&&r._setBaseUrl(k),this.baseUri=r.baseURI;const L=J2(c);L&&(sr.ScriptLoader._setReferrerPolicy(L),hs.DOM.styleSheetLoader._setReferrerPolicy(L)),sr.ScriptLoader._setCrossOrigin(ce=>Nb(c)(ce,"script")),hs.DOM.styleSheetLoader._setCrossOrigin(ce=>Nb(c)(ce,"stylesheet"));const W=lS(c);qe(W)&&hs.DOM.styleSheetLoader._setContentCssCors(W),Xi.languageLoad=v("language_load"),Xi.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new op(eS(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=bx(c),this.hasVisual=xx(c),this.shortcuts=new EC(this),this.editorCommands=new Jt(this),wt(this);const G=v("cache_suffix");G&&(ds.cacheSuffix=G.replace(/^[\?\&]+/,"")),this.ui={registry:TC(),styleSheetLoader:void 0,show:Lt,hide:Lt,setEnabled:Lt,isEnabled:ft},this.mode=wC(c),Object.defineProperty(this,"editorUid",{writable:!1,configurable:!1,enumerable:!0}),r.dispatch("SetupEditor",{editor:this});const Q=Mb(c);Re(Q)&&Q.call(c,c)}render(){gJ(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return kw(this)}translate(t){return $u.translate(t)}getParam(t,o,r){const c=this.options;return c.isRegistered(t)||(qe(r)?c.register(t,{processor:r,default:o}):c.register(t,{processor:ft,default:o})),!c.isSet(t)&&!xn(o)?o:c.get(t)}hasPlugin(t,o){return Be(vx(this),t)?o?mv.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,o,r){this.editorCommands.addCommand(t,o,r)}addQueryStateHandler(t,o,r){this.editorCommands.addQueryStateHandler(t,o,r)}addQueryValueHandler(t,o,r){this.editorCommands.addQueryValueHandler(t,o,r)}addShortcut(t,o,r,c){this.shortcuts.add(t,o,r,c)}execCommand(t,o,r,c){return this.editorCommands.execCommand(t,o,r,c)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(up.show(t.getContainer()),up.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(up.hide(t.getContainer()),up.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,o){this.dispatch("ProgressState",{state:t,time:o})}load(t={}){const o=this,r=o.getElement();if(!o.removed&&r){const c={...t,load:!0},h=lf(r)?r.value:r.innerHTML;o.setContent(h,c),c.no_events||o.dispatch("LoadContent",{...c,element:r})}}save(t={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const c={...t,save:!0,element:r};let h=o.getContent(c);const v={...c,content:h};if(v.no_events||o.dispatch("SaveContent",v),v.format==="raw"&&o.dispatch("RawSaveContent",v),h=v.content,lf(r))r.value=h;else{(t.is_removing||!o.inline)&&(r.innerHTML=h);const T=up.getParent(o.id,"form");T&&SH(T.elements,k=>k.name===o.id?(k.value=h,!1):!0)}return v.element=c.element=r=null,v.set_dirty!==!1&&o.setDirty(!1),h}setContent(t,o){wO(this,t,o)}getContent(t){return JZ(this,t)}insertContent(t,o){o&&(t=BM({content:t},o)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?wO(this,this.startContent,{initial:!0,format:"raw"}):wO(this,t,{initial:!0}),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const o=!this.isNotDirty;this.isNotDirty=!t,t&&t!==o&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||up.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=up.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const o=t.iframeElement;o&&(t.contentWindow=o.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const o=t.getWin();o&&(t.contentDocument=o.document)}return t.contentDocument}getBody(){const t=this.getDoc();return this.bodyElement??t?.body??null}convertURL(t,o,r){const c=this,h=c.options.get,v=Wg(c);if(Re(v))return v.call(c,t,r,!0,o);if(!h("convert_urls")||r==="link"||it(r)&&r.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const T=new op(t);return T.protocol!=="http"&&T.protocol!=="https"&&T.protocol!==""?t:h("relative_urls")?c.documentBaseURI.toRelative(t):(t=c.documentBaseURI.toAbsolute(t,h("remove_script_host")),t)}addVisual(t){CJ(this,t)}setEditableRoot(t){bJ(this,t)}hasEditableRoot(){return yJ(this)}remove(){SO(this)}destroy(t){PP(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Tv=hs.DOM,bT=ln.each;let yT=!1,m2,lc=[];const oy=e=>{const t=e.type;bT(k0.get(),o=>{switch(t){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},O3=e=>{if(e!==yT){const t=hs.DOM;e?(t.bind(window,"resize",oy),t.bind(window,"scroll",oy)):(t.unbind(window,"resize",oy),t.unbind(window,"scroll",oy)),yT=e}},N3=e=>{const t=lc;return lc=xt(lc,o=>e!==o),k0.activeEditor===e&&(k0.activeEditor=lc.length>0?lc[0]:null),k0.focusedEditor===e&&(k0.focusedEditor=null),t.length!==lc.length},LJ=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(N3(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},R3=document.compatMode!=="CSS1Compat",k0={...to,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,pageUid:ko(),majorVersion:"8",minorVersion:"3.2",releaseDate:"2026-01-14",i18n:$u,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",o="",r=op.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)t=c.base||c.baseURL,o=c.suffix;else{const h=document.getElementsByTagName("script");for(let v=0;v<h.length;v++){const T=h[v].src||"";if(T==="")continue;const k=T.substring(T.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(T)){k.indexOf(".min")!==-1&&(o=".min"),t=T.substring(0,T.lastIndexOf("/"));break}}if(!t&&document.currentScript){const v=document.currentScript.src;v.indexOf(".min")!==-1&&(o=".min"),t=v.substring(0,v.lastIndexOf("/"))}}e.baseURL=new op(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new op(e.baseURL),e.suffix=o,KB(e),Le(["majorVersion","minorVersion","releaseDate","pageUid","_addLicenseKeyManager"],h=>Object.defineProperty(e,h,{writable:!1,configurable:!1,enumerable:!0}))},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&Oo(r,(c,h)=>{Xi.PluginManager.urls[h]=c})},init(e){const t=this;let o;const r=ln.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=(W,G)=>W.inline&&G.tagName.toLowerCase()in r,h=W=>{let G=W.id;return G||(G=No(W,"name").filter(Q=>!Tv.get(Q)).getOrThunk(Tv.uniqueId),W.setAttribute("id",G)),G},v=W=>{const G=e[W];if(G)return G.apply(t,[])},T=W=>ds.browser.isIE()||ds.browser.isEdge()?(e4("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/8/support/#supportedwebbrowsers"),[]):R3?(e4("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):J(W.selector)?Tv.select(W.selector):qe(W.target)?[W.target]:[];let k=W=>{o=W};const L=()=>{let W=0;const G=[];let Q;const ce=(ke,ge,Te)=>{const ot=new pT(ke,ge,t);G.push(ot),ot.on("init",()=>{++W===Q.length&&k(G)}),ot.targetElm=ot.targetElm||Te,ot.render()};Tv.unbind(window,"ready",L),v("onpageload"),Q=Ma(T(e)),ln.each(Q,ke=>{LJ(t.get(ke.id))}),Q=ln.grep(Q,ke=>!t.get(ke.id)),Q.length===0?k([]):bT(Q,ke=>{c(e,ke)?e4("Could not initialize inline editor on invalid inline target element",ke):ce(h(ke),e,ke)})};return Tv.bind(window,"ready",L),new Promise(W=>{o?W(o):k=G=>{W(G)}})},get(e){return arguments.length===0?lc.slice(0):J(e)?sn(lc,t=>t.id===e).getOr(null):Qo(e)&&lc[e]?lc[e]:null},add(e){const t=this,o=t.get(e.id);return o===e||(o===null&&lc.push(e),O3(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),m2||(m2=r=>{const c=t.dispatch("BeforeUnload");if(c.returnValue)return r.preventDefault(),r.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",m2))),e},createEditor(e,t){return this.add(new pT(e,t,this))},remove(e){const t=this;let o;if(!e){for(let r=lc.length-1;r>=0;r--)t.remove(lc[r]);return}if(J(e)){bT(Tv.select(e),r=>{o=t.get(r.id),o&&t.remove(o)});return}return o=e,ie(t.get(o.id))?null:(N3(o)&&t.dispatch("RemoveEditor",{editor:o}),lc.length===0&&window.removeEventListener("beforeunload",m2),o.remove(),O3(lc.length>0),o)},execCommand(e,t,o){const r=this,c=it(o)?o.id??o.index:o;switch(e){case"mceAddEditor":{if(!r.get(c)){const h=o.options;new pT(c,h,r).render()}return!0}case"mceRemoveEditor":{const h=r.get(c);return h&&h.remove(),!0}case"mceToggleEditor":{const h=r.get(c);return h?(h.isHidden()?h.show():h.hide(),!0):(r.execCommand("mceAddEditor",!1,o),!0)}}return r.activeEditor?r.activeEditor.execCommand(e,t,o):!1},triggerSave:()=>{bT(lc,e=>{e.save()})},addI18n:(e,t)=>{$u.add(e,t)},translate:e=>$u.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new op(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new op(this.baseURL)},_addLicenseKeyManager:e=>FO.add(e)};k0.setup();const vT=(()=>{const e=Fs(),t=h=>({items:h,types:Hn(h),getType:v=>No(h,v).getOrUndefined()}),o=h=>{e.set(h)},r=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:t,write:o,read:r,clear:c}})(),EH=Math.min,AC=Math.max,yu=Math.round,h2=(e,t,o)=>{let r=t.x,c=t.y;const h=e.w,v=e.h,T=t.w,k=t.h,L=(o||"").split("");return L[0]==="b"&&(c+=k),L[1]==="r"&&(r+=T),L[0]==="c"&&(c+=yu(k/2)),L[1]==="c"&&(r+=yu(T/2)),L[3]==="b"&&(c-=v),L[4]==="r"&&(r-=h),L[3]==="c"&&(c-=yu(v/2)),L[4]==="c"&&(r-=yu(h/2)),g2(r,c,h,v)},PJ=(e,t,o,r)=>{for(let c=0;c<r.length;c++){const h=h2(e,t,r[c]);if(h.x>=o.x&&h.x+h.w<=o.w+o.x&&h.y>=o.y&&h.y+h.h<=o.h+o.y)return r[c]}return null},TH=(e,t,o)=>g2(e.x-t,e.y-o,e.w+t*2,e.h+o*2),LM=(e,t)=>{const o=AC(e.x,t.x),r=AC(e.y,t.y),c=EH(e.x+e.w,t.x+t.w),h=EH(e.y+e.h,t.y+t.h);return c-o<0||h-r<0?null:g2(o,r,c-o,h-r)},AH=(e,t,o)=>{let r=e.x,c=e.y,h=e.x+e.w,v=e.y+e.h;const T=t.x+t.w,k=t.y+t.h,L=AC(0,t.x-r),W=AC(0,t.y-c),G=AC(0,h-T),Q=AC(0,v-k);return r+=L,c+=W,o&&(h+=L,v+=W,r-=G,c-=Q),h-=G,v-=Q,g2(r,c,h-r,v-c)},g2=(e,t,o,r)=>({x:e,y:t,w:o,h:r}),B1={inflate:TH,relativePosition:h2,findBestRelativePosition:PJ,intersect:LM,clamp:AH,create:g2,fromClientRect:e=>g2(e.left,e.top,e.width,e.height)},kC=(e,t,o=1e3)=>{let r=!1,c=null;const h=L=>(...W)=>{r||(r=!0,c!==null&&(window.clearTimeout(c),c=null),L.apply(null,W))},v=h(e),T=h(t);return{start:(...L)=>{!r&&c===null&&(c=window.setTimeout(()=>T.apply(null,L),o))},resolve:v,reject:T}},kH=(()=>{const e={},t={},o={};return{load:(k,L)=>{const W=`Script at URL "${L}" failed to load`,G=`Script at URL "${L}" did not call \`tinymce.Resource.add('${k}', data)\` within 1 second`;if(e[k]!==void 0)return e[k];{const Q=new Promise((ce,ke)=>{const ge=kC(ce,ke);t[k]=ge.resolve,sr.ScriptLoader.loadScript(L).then(()=>ge.start(G),()=>ge.reject(W))});return e[k]=Q,Q}},add:(k,L)=>{t[k]!==void 0&&(t[k](L),delete t[k]),e[k]=Promise.resolve(L),o[k]=L},has:k=>k in o,get:k=>o[k],unload:k=>{delete e[k],delete o[k]}}})(),PM=()=>(()=>{let e={},t=[];const o={getItem:r=>{const c=e[r];return c||null},setItem:(r,c)=>{t.push(r),e[r]=String(c)},key:r=>t[r],removeItem:r=>{t=t.filter(c=>c===r),delete e[r]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),o})();let DC;try{const e="__storage_test__";DC=window.localStorage,DC.setItem(e,e),DC.removeItem(e)}catch{DC=PM()}var sy=DC;const DH={geom:{Rect:B1},util:{Delay:Qg,Tools:ln,VK:Ln,URI:op,EventDispatcher:on,Observable:to,I18n:$u,LocalStorage:sy,ImageUploader:JP},dom:{EventUtils:Pd,TreeWalker:Ka,TextSeeker:du,DOMUtils:hs,ScriptLoader:sr,RangeUtils:f0,Serializer:xO,StyleSheetLoader:Bp,ControlSelection:oj,BookmarkManager:Tw,Selection:yO,Event:Pd.Event},html:{Styles:mm,Entities:td,Node:Hc,Schema:Ls,DomParser:Lw,Writer:A_,Serializer:nv},Env:ds,AddOnManager:Xi,Annotator:UB,Formatter:nF,UndoManager:RW,EditorCommands:Jt,WindowManager:FP,NotificationManager:EE,EditorObservable:To,Shortcuts:EC,Editor:pT,FocusManager:qB,EditorManager:k0,DOM:hs.DOM,ScriptLoader:sr.ScriptLoader,PluginManager:mv,ThemeManager:Zx,ModelManager:Uw,IconManager:Qk,Resource:kH,FakeClipboard:vT,trim:ln.trim,isArray:ln.isArray,is:ln.is,toArray:ln.toArray,makeMap:ln.makeMap,each:ln.each,map:ln.map,grep:ln.grep,inArray:ln.inArray,extend:ln.extend,walk:ln.walk,resolve:ln.resolve,explode:ln.explode,_addCacheSuffix:ln._addCacheSuffix},FM=ln.extend(k0,DH),_H=e=>{try{l.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(FM),_H(FM)})()})(See)),See.exports}Xve();var Rre={},Mre={},Bre;function Qve(){return Bre||(Bre=1,tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',"checkmark-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.8 5a1 1 0 0 0-1.4.3l-5.4 8-2-2.1a1 1 0 1 0-1.5 1.4l3 3a1 1 0 0 0 1.5-.2l6-9a1 1 0 0 0-.2-1.4Z"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',"close-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.7 5.3a1 1 0 0 0-1.3 0L12 10.6 8.6 7.3a1 1 0 0 0-1.3 1.3l3.3 3.4-3.3 3.4a1 1 0 0 0 1.3 1.3l3.4-3.3 3.4 3.3a1 1 0 0 0 1.3-1.3L13.4 12l3.3-3.4a1 1 0 0 0 0-1.3Z"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-gear-properties":'<svg height="24" width="24"><path d="M17.3 14.5a7.1 7.1 0 0 1 1.2.6l1.5-.5 1 1.8-1.2 1V18.7l1.2 1-1 1.6-1.5-.4a4.5 4.5 0 0 1-.6.3 7.1 7.1 0 0 1-.6.3L17 23h-2l-.3-1.5a7.4 7.4 0 0 1-.6-.3 4.5 4.5 0 0 1-.6-.3l-1.5.5-1-1.8 1.2-1a3.9 3.9 0 0 1 0-.6v-.7l-1.2-1 1-1.6 1.5.4a4.5 4.5 0 0 1 1.2-.6L15 13h2zM16 16a2 2 0 0 0-1.5.6A1.9 1.9 0 0 0 14 18c0 .6.2 1 .6 1.4s1 .6 1.5.6 1-.2 1.5-.6.6-.8.6-1.4-.2-1-.6-1.4A2 2 0 0 0 16 16z" fill-rule="evenodd"/><path d="M19 7.6V12h-2V9h-4V5H7v14h3v2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h7.4z"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',feedback:'<svg width="24" height="24"><path fill-rule="evenodd" d="M16 6c1 0 2 1 2 2v5c0 1-1 2-2 2h-3l-4 3v-3H8c-1 0-2-1-2-2V8c0-1 1-2 2-2h8Zm-7 5v1h4v-1H9Zm0-2v1h6V9H9Z"/></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg height="48" width="48"><path d="M8 14a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 34a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-default":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M12 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M16 31h6v6h-6z"/><path d="M16 31h6v6h-6z"/><path d="M18 12h22v4H18zm4 10h18v4H22zm4 10h14v4H26z" opacity=".2"/></svg>',"list-bull-disc":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-square":'<svg height="48" width="48"><path d="M8 21h6v6H8zm0 10h6v6H8zm0-20h6v6H8z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',"suggestededits-badge":'<svg height="24" width="24"><path d="M11 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9.7a6 6 0 0 1-2 .3v9H7V5h4a6 6 0 0 1 0-2z"/><path d="M15 13v-2h-4v2zm-3 2H9v2h3zm-1-8H9v2h2zm4 10v-2h-2v2z"/><path d="M21 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0z" class="tox-icon--badge"/></svg>',suggestededits:'<svg width="24" height="24"><path d="M7 3h7.4L19 7.6V19a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2Zm0 16h10V9h-3V5H7v14Z" clip-rule="evenodd"/><path d="M9 7h2v2H9V7Zm2 4h4v2h-4v-2Zm-2 4h3v2H9v-2Z"/><path d="M9 7h2v2H9V7Zm4 8h2v2h-2v-2Z"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',"upload-from-device":'<svg width="24" height="25"><path d="M11 19a1 1 0 1 0 2 0v-3.2l1.5 1a1 1 0 1 0 1-1.7L12 12.8l-3.5 2.3a1 1 0 0 0 1 1.7l1.5-1V19Z"/><path d="M9.6 4c.3 0 .6.2.8.5l1.3 2h6.7c.7 0 1.4.2 1.8.7.5.5.8 1.2.8 1.9v8.3c0 .7-.3 1.3-.8 1.8a2.6 2.6 0 0 1-1.8.8H16v-2h2.4a.6.6 0 0 0 .4-.2.6.6 0 0 0 .2-.4V9a.6.6 0 0 0-.2-.5.6.6 0 0 0-.4-.1h-7.2a1 1 0 0 1-.8-.5L9 6H5.6a.6.6 0 0 0-.4.2.6.6 0 0 0-.2.4v10.8c0 .1 0 .3.2.4a.6.6 0 0 0 .4.2H8v2H5.6a2.6 2.6 0 0 1-1.8-.8 2.7 2.7 0 0 1-.8-1.8V6.6c0-.7.3-1.3.8-1.8A2.6 2.6 0 0 1 5.6 4h4Z"/></svg>',"upload-from-link":'<svg height="25" width="24"><path d="M11.5 11.8a1 1 0 0 1 1.9-.5 5 5 0 0 1-1.3 4.8l-2.4 2.3A4 4 0 1 1 4 13L5 12a1 1 0 0 1 1.4 1.4l-.7.8A2 2 0 1 0 8.3 17l2.4-2.4a3 3 0 0 0 .8-2.8z"/><path d="M10.1 11.8a1 1 0 0 1-2 .5 5 5 0 0 1 1.4-4.8L12 5.1a4 4 0 0 1 5.5 5.6l-.7.8a1 1 0 0 1-1.5-1.4l.8-.8a2 2 0 1 0-2.7-2.7l-2.4 2.3a3 3 0 0 0-.8 3zm5.7 7.2a1 1 0 1 0 2 0v-3l1.4 1.1a1 1 0 0 0 1.2-1.5l-3.6-2.9-3.6 2.9a1 1 0 0 0 1.2 1.5l1.4-1z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}})),Mre}var Lre;function Jve(){return Lre||(Lre=1,Qve()),Rre}Jve();var Pre={},Fre={},$re;function exe(){return $re||($re=1,(function(){const l=Object.getPrototypeOf,u=(n,s,i)=>i(n,s.prototype)?!0:n.constructor?.name===s.name,p=n=>{const s=typeof n;return n===null?"null":s==="object"&&Array.isArray(n)?"array":s==="object"&&u(n,String,(i,f)=>f.isPrototypeOf(i))?"string":s},x=n=>s=>p(s)===n,A=n=>s=>typeof s===n,R=n=>s=>n===s,O=(n,s)=>U(n)&&u(n,s,(i,f)=>l(i)===f),I=x("string"),U=x("object"),V=n=>O(n,Object),Y=x("array"),ee=R(null),ue=A("boolean"),Ce=R(void 0),pe=n=>n==null,Fe=n=>!pe(n),be=A("function"),lt=A("number"),Oe=(n,s)=>{if(Y(n)){for(let i=0,f=n.length;i<f;++i)if(!s(n[i]))return!1;return!0}return!1},J=()=>{},it=n=>()=>n(),jt=(n,s)=>(...i)=>n(s.apply(null,i)),Ke=(n,s)=>i=>n(s(i)),ie=n=>()=>n,ut=n=>n,xn=(n,s)=>n===s;function fn(n,...s){return(...i)=>{const f=s.concat(i);return n.apply(null,f)}}const qe=n=>s=>!n(s),Re=n=>()=>{throw new Error(n)},Qo=n=>n(),vt=ie(!1),Lt=ie(!0);class F{tag;value;static singletonNone=new F(!1);constructor(s,i){this.tag=s,this.value=i}static some(s){return new F(!0,s)}static none(){return F.singletonNone}fold(s,i){return this.tag?i(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?F.some(s(this.value)):F.none()}bind(s){return this.tag?s(this.value):F.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:F.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return Fe(s)?F.some(s):F.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Vt=Array.prototype.slice,at=Array.prototype.indexOf,Jn=Array.prototype.push,an=(n,s)=>at.call(n,s),le=(n,s)=>{const i=an(n,s);return i===-1?F.none():F.some(i)},Ve=(n,s)=>an(n,s)>-1,It=(n,s)=>{for(let i=0,f=n.length;i<f;i++){const b=n[i];if(s(b,i))return!0}return!1},Ne=(n,s)=>{const i=[];for(let f=0;f<n;f++)i.push(s(f));return i},mt=(n,s)=>{const i=[];for(let f=0;f<n.length;f+=s){const b=Vt.call(n,f,f+s);i.push(b)}return i},He=(n,s)=>{const i=n.length,f=new Array(i);for(let b=0;b<i;b++){const w=n[b];f[b]=s(w,b)}return f},ft=(n,s)=>{for(let i=0,f=n.length;i<f;i++){const b=n[i];s(b,i)}},X=(n,s)=>{for(let i=n.length-1;i>=0;i--){const f=n[i];s(f,i)}},$o=(n,s)=>{const i=[],f=[];for(let b=0,w=n.length;b<w;b++){const S=n[b];(s(S,b)?i:f).push(S)}return{pass:i,fail:f}},xo=(n,s)=>{const i=[];for(let f=0,b=n.length;f<b;f++){const w=n[f];s(w,f)&&i.push(w)}return i},Mo=(n,s,i)=>(X(n,(f,b)=>{i=s(i,f,b)}),i),Ho=(n,s,i)=>(ft(n,(f,b)=>{i=s(i,f,b)}),i),js=(n,s,i)=>{for(let f=0,b=n.length;f<b;f++){const w=n[f];if(s(w,f))return F.some(w);if(i(w,f))break}return F.none()},Be=(n,s)=>js(n,s,vt),Ye=(n,s)=>{for(let i=0,f=n.length;i<f;i++){const b=n[i];if(s(b,i))return F.some(i)}return F.none()},tt=n=>{const s=[];for(let i=0,f=n.length;i<f;++i){if(!Y(n[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+n);Jn.apply(s,n[i])}return s},Le=(n,s)=>tt(He(n,s)),Je=(n,s)=>{for(let i=0,f=n.length;i<f;++i){const b=n[i];if(s(b,i)!==!0)return!1}return!0},Nt=n=>{const s=Vt.call(n,0);return s.reverse(),s},xt=(n,s)=>xo(n,i=>!Ve(s,i)),Un=(n,s)=>{const i={};for(let f=0,b=n.length;f<b;f++){const w=n[f];i[String(w)]=s(w,f)}return i},Dt=n=>[n],Pe=(n,s)=>{const i=Vt.call(n,0);return i.sort(s),i},Tt=(n,s)=>s>=0&&s<n.length?F.some(n[s]):F.none(),sn=n=>Tt(n,0),Zn=n=>Tt(n,n.length-1),Yo=be(Array.from)?Array.from:n=>Vt.call(n),Jo=(n,s)=>{for(let i=0;i<n.length;i++){const f=s(n[i],i);if(f.isSome())return f}return F.none()},Do=Object.keys,mr=Object.hasOwnProperty,zo=(n,s)=>{const i=Do(n);for(let f=0,b=i.length;f<b;f++){const w=i[f],S=n[w];s(S,w)}},os=(n,s)=>Vs(n,(i,f)=>({k:f,v:s(i,f)})),Vs=(n,s)=>{const i={};return zo(n,(f,b)=>{const w=s(f,b);i[w.k]=w.v}),i},Es=n=>(s,i)=>{n[i]=s},Xs=(n,s,i,f)=>{zo(n,(b,w)=>{(s(b,w)?i:f)(b,w)})},gs=(n,s)=>{const i={},f={};return Xs(n,s,Es(i),Es(f)),{t:i,f}},Wr=(n,s)=>{const i={};return Xs(n,s,Es(i),J),i},Ts=(n,s)=>{const i=[];return zo(n,(f,b)=>{i.push(s(f,b))}),i},$r=(n,s)=>{const i=Do(n);for(let f=0,b=i.length;f<b;f++){const w=i[f],S=n[w];if(s(S,w,n))return F.some(S)}return F.none()},Ma=n=>Ts(n,ut),Hn=(n,s)=>ts(n,s)?F.from(n[s]):F.none(),ts=(n,s)=>mr.call(n,s),Oo=(n,s)=>ts(n,s)&&n[s]!==void 0&&n[s]!==null,Ba={generate:n=>{if(!Y(n))throw new Error("cases must be an array");if(n.length===0)throw new Error("there must be at least one case");const s=[],i={};return ft(n,(f,b)=>{const w=Do(f);if(w.length!==1)throw new Error("one and only one name per case");const S=w[0],_=f[S];if(i[S]!==void 0)throw new Error("duplicate key detected:"+S);if(S==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Y(_))throw new Error("case arguments must be an array");s.push(S),i[S]=(...B)=>{const z=B.length;if(z!==_.length)throw new Error("Wrong number of arguments to case "+S+". Expected "+_.length+" ("+_+"), got "+z);return{fold:(...K)=>{if(K.length!==n.length)throw new Error("Wrong number of arguments to fold. Expected "+n.length+", got "+K.length);return K[b].apply(null,B)},match:K=>{const ae=Do(K);if(s.length!==ae.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+ae.join(","));if(!Je(s,xe=>Ve(ae,xe)))throw new Error("Not all branches were specified when using match. Specified: "+ae.join(", ")+`
Required: `+s.join(", "));return K[S].apply(null,B)},log:K=>{console.log(K,{constructors:s,constructor:S,params:B})}}}}),i}},Mn=n=>{let s=n;return{get:()=>s,set:b=>{s=b}}},Wt=n=>{let s=F.none(),i=[];const f=z=>Wt(Z=>{b(K=>{Z(z(K))})}),b=z=>{S()?B(z):i.push(z)},w=z=>{S()||(s=F.some(z),_(i),i=[])},S=()=>s.isSome(),_=z=>{ft(z,B)},B=z=>{s.each(Z=>{setTimeout(()=>{z(Z)},0)})};return n(w),{get:b,map:f,isReady:S}},Yn={nu:Wt,pure:n=>Wt(s=>{s(n)})},Gn=n=>{setTimeout(()=>{throw n},0)},vo=n=>{const s=B=>{n().then(B,Gn)};return{map:B=>vo(()=>n().then(B)),bind:B=>vo(()=>n().then(z=>B(z).toPromise())),anonBind:B=>vo(()=>n().then(()=>B.toPromise())),toLazy:()=>Yn.nu(s),toCached:()=>{let B=null;return vo(()=>(B===null&&(B=n()),B))},toPromise:n,get:s}},ls={nu:n=>vo(()=>new Promise(n)),pure:n=>vo(()=>Promise.resolve(n))},La=n=>{const s=w=>w(n),i=ie(n),f=()=>b,b={tag:!0,inner:n,fold:(w,S)=>S(n),isValue:Lt,isError:vt,map:w=>Pn.value(w(n)),mapError:f,bind:s,exists:s,forall:s,getOr:i,or:f,getOrThunk:i,orThunk:f,getOrDie:i,each:w=>{w(n)},toOptional:()=>F.some(n)};return b},sl=n=>{const s=()=>i,i={tag:!1,inner:n,fold:(f,b)=>f(n),isValue:vt,isError:Lt,map:s,mapError:f=>Pn.error(f(n)),bind:s,exists:vt,forall:Lt,getOr:ut,or:ut,getOrThunk:Qo,orThunk:Qo,getOrDie:Re(String(n)),each:J,toOptional:F.none};return i},Pn={value:La,error:sl,fromOption:(n,s)=>n.fold(()=>sl(s),La)},er=n=>({...n,toCached:()=>er(n.toCached()),bindFuture:B=>er(n.bind(z=>z.fold(Z=>ls.pure(Pn.error(Z)),Z=>B(Z)))),bindResult:B=>er(n.map(z=>z.bind(B))),mapResult:B=>er(n.map(z=>z.map(B))),mapError:B=>er(n.map(z=>z.mapError(B))),foldResult:(B,z)=>n.map(Z=>Z.fold(B,z)),withTimeout:(B,z)=>er(ls.nu(Z=>{let K=!1;const ae=setTimeout(()=>{K=!0,Z(Pn.error(z()))},B);n.get(he=>{K||(clearTimeout(ae),Z(he))})}))}),tr=n=>er(ls.nu(n)),jl=n=>er(ls.pure(Pn.value(n))),Ao={nu:tr,wrap:er,pure:jl,value:jl,error:n=>er(ls.pure(Pn.error(n))),fromResult:n=>er(ls.pure(n)),fromFuture:n=>er(n.map(Pn.value)),fromPromise:n=>tr(s=>{n.then(i=>{s(Pn.value(i))},i=>{s(Pn.error(i))})})},co=typeof window<"u"?window:Function("return this;")(),Zo=(n,s,i,f)=>{const b=n+s;return b>f?i:b<i?f:b},us=(n,s,i)=>Math.min(Math.max(n,s),i),ko=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Qs=0;const me=n=>{const i=new Date().getTime(),f=Math.floor(ko()*1e9);return Qs++,n+"_"+f+Qs+String(i)},je=(n,s)=>s,Ut=(n,s)=>V(n)&&V(s)?Gt(n,s):s,wn=n=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const i={};for(let f=0;f<s.length;f++){const b=s[f];for(const w in b)ts(b,w)&&(i[w]=n(i[w],b[w]))}return i},Gt=wn(Ut),wo=wn(je),oo=(n,s,i=xn)=>n.exists(f=>i(f,s)),Bn=(n,s,i=xn)=>As(n,s,i).getOr(n.isNone()&&s.isNone()),Uo=n=>{const s=[],i=f=>{s.push(f)};for(let f=0;f<n.length;f++)n[f].each(i);return s},xs=n=>{const s=[];for(let i=0;i<n.length;i++){const f=n[i];if(f.isSome())s.push(f.getOrDie());else return F.none()}return F.some(s)},As=(n,s,i)=>n.isSome()&&s.isSome()?F.some(i(n.getOrDie(),s.getOrDie())):F.none(),ks=(n,s,i,f)=>n.isSome()&&s.isSome()&&i.isSome()?F.some(f(n.getOrDie(),s.getOrDie(),i.getOrDie())):F.none(),sa=(n,s)=>n!=null?F.some(s(n)):F.none(),Sa=(n,s)=>n?F.some(s):F.none(),Qf=n=>n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Tr=(n,s)=>{let i=s??co;for(let f=0;f<n.length&&i!==void 0&&i!==null;++f)i=i[n[f]];return i},Fs=(n,s)=>{const i=n.split(".");return Tr(i,s)};Ba.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const ir=n=>{const s=[],i=[];return ft(n,f=>{f.fold(b=>{s.push(b)},b=>{i.push(b)})}),{errors:s,values:i}},Vi=n=>{const s=Mn(F.none()),i=()=>s.get().each(n);return{clear:()=>{i(),s.set(F.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:_=>{i(),s.set(F.some(_))}}},Ci=()=>Vi(n=>n.destroy()),Ir=()=>Vi(n=>n.unbind()),Co=()=>{const n=Vi(J);return{...n,on:i=>n.get().each(i)}},Si=(n,s)=>n+s,oi=(n,s)=>n.substring(s),Jr=(n,s,i)=>s===""||n.length>=s.length&&n.substr(i,i+s.length)===s,Sf=(n,s)=>Cu(n,s)?oi(n,s.length):n,uc=(n,s)=>dc(n,s)?n:Si(n,s),Hr=(n,s,i=0,f)=>{const b=n.indexOf(s,i);return b!==-1?Ce(f)?!0:b+s.length<=f:!1},Cu=(n,s)=>Jr(n,s,0),dc=(n,s)=>Jr(n,s,n.length-s.length),An=(n=>s=>s.replace(n,""))(/^\s+|\s+$/g),Su=n=>n.length>0,Ri=n=>!Su(n),pi=n=>{const s=parseFloat(n);return isNaN(s)?F.none():F.some(s)},qr=(n,s)=>{let i=null,f=null;return{cancel:()=>{ee(i)||(clearTimeout(i),i=null,f=null)},throttle:(...S)=>{f=S,ee(i)&&(i=setTimeout(()=>{const _=f;i=null,f=null,n.apply(null,_)},s))}}},Kd=(n,s)=>{let i=null;return{cancel:()=>{ee(i)||(clearTimeout(i),i=null)},throttle:(...w)=>{ee(i)&&(i=setTimeout(()=>{i=null,n.apply(null,w)},s))}}},Ei=(n,s)=>{let i=null;const f=()=>{ee(i)||(clearTimeout(i),i=null)};return{cancel:f,throttle:(...w)=>{f(),i=setTimeout(()=>{i=null,n.apply(null,w)},s)}}},rl=n=>{let s=!1,i;return(...f)=>(s||(s=!0,i=n.apply(null,f)),i)},Tf="\uFEFF",Jf="",Eu=(n,s)=>{const f=(s||document).createElement("div");if(f.innerHTML=n,!f.hasChildNodes()||f.childNodes.length>1){const b="HTML does not have a single root node";throw console.error(b,n),new Error(b)}return Wc(f.childNodes[0])},Yd=(n,s)=>{const f=(s||document).createElement(n);return Wc(f)},Dl=(n,s)=>{const f=(s||document).createTextNode(n);return Wc(f)},Wc=n=>{if(n==null)throw new Error("Node cannot be null or undefined");return{dom:n}},mn={fromHtml:Eu,fromTag:Yd,fromText:Dl,fromDom:Wc,fromPoint:(n,s,i)=>F.from(n.dom.elementFromPoint(s,i)).map(Wc)},Tu=(n,s)=>{s.fold(i=>{n.setStartBefore(i.dom)},(i,f)=>{n.setStart(i.dom,f)},i=>{n.setStartAfter(i.dom)})},yd=(n,s)=>{s.fold(i=>{n.setEndBefore(i.dom)},(i,f)=>{n.setEnd(i.dom,f)},i=>{n.setEndAfter(i.dom)})},Vl=(n,s,i)=>{const f=n.document.createRange();return Tu(f,s),yd(f,i),f},al=(n,s,i,f,b)=>{const w=n.document.createRange();return w.setStart(s.dom,i),w.setEnd(f.dom,b),w},Uu=n=>({left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.width,height:n.height}),Ui=n=>{const s=n.getClientRects(),i=s.length>0?s[0]:n.getBoundingClientRect();return i.width>0||i.height>0?F.some(i).map(Uu):F.none()},si=n=>{const s=n.getBoundingClientRect();return s.width>0||s.height>0?F.some(s).map(Uu):F.none()},_l=Ba.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),fc=(n,s,i)=>s(mn.fromDom(i.startContainer),i.startOffset,mn.fromDom(i.endContainer),i.endOffset),qs=(n,s)=>s.match({domRange:i=>({ltr:ie(i),rtl:F.none}),relative:(i,f)=>({ltr:rl(()=>Vl(n,i,f)),rtl:rl(()=>F.some(Vl(n,f,i)))}),exact:(i,f,b,w)=>({ltr:rl(()=>al(n,i,f,b,w)),rtl:rl(()=>F.some(al(n,b,w,i,f)))})}),Af=(n,s)=>{const i=s.ltr();return i.collapsed?s.rtl().filter(b=>b.collapsed===!1).map(b=>_l.rtl(mn.fromDom(b.endContainer),b.endOffset,mn.fromDom(b.startContainer),b.startOffset)).getOrThunk(()=>fc(n,_l.ltr,i)):fc(n,_l.ltr,i)},te=(n,s)=>{const i=qs(n,s);return Af(n,i)},ve=(n,s)=>te(n,s).match({ltr:(f,b,w,S)=>{const _=n.document.createRange();return _.setStart(f.dom,b),_.setEnd(w.dom,S),_},rtl:(f,b,w,S)=>{const _=n.document.createRange();return _.setStart(w.dom,S),_.setEnd(f.dom,b),_}});_l.ltr,_l.rtl;const $e=9,Rt=11,qn=1,ps=3,lr=(n,s)=>{const i=n.dom;if(i.nodeType!==qn)return!1;{const f=i;if(f.matches!==void 0)return f.matches(s);if(f.msMatchesSelector!==void 0)return f.msMatchesSelector(s);if(f.webkitMatchesSelector!==void 0)return f.webkitMatchesSelector(s);if(f.mozMatchesSelector!==void 0)return f.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},Va=n=>n.nodeType!==qn&&n.nodeType!==$e&&n.nodeType!==Rt||n.childElementCount===0,Ti=(n,s)=>{const i=s===void 0?document:s.dom;return Va(i)?[]:He(i.querySelectorAll(n),mn.fromDom)},Ol=(n,s)=>{const i=s===void 0?document:s.dom;return Va(i)?F.none():F.from(i.querySelector(n)).map(mn.fromDom)},oe=(n,s)=>n.dom===s.dom,Ae=(n,s)=>{const i=n.dom,f=s.dom;return i===f?!1:i.contains(f)},Qe=(n,s,i,f)=>{const b=n.isiOS()&&/ipad/i.test(i)===!0,w=n.isiOS()&&!b,S=n.isiOS()||n.isAndroid(),_=S||f("(pointer:coarse)"),B=b||!w&&S&&f("(min-device-width:768px)"),z=w||S&&!B,Z=s.isSafari()&&n.isiOS()&&/safari/i.test(i)===!1,K=!z&&!B&&!Z;return{isiPad:ie(b),isiPhone:ie(w),isTablet:ie(B),isPhone:ie(z),isTouch:ie(_),isAndroid:n.isAndroid,isiOS:n.isiOS,isWebView:ie(Z),isDesktop:ie(K)}},Et=(n,s)=>{for(let i=0;i<n.length;i++){const f=n[i];if(f.test(s))return f}},pn=(n,s)=>{const i=Et(n,s);if(!i)return{major:0,minor:0};const f=b=>Number(s.replace(i,"$"+b));return Gs(f(1),f(2))},Wn=(n,s)=>{const i=String(s).toLowerCase();return n.length===0?Po():pn(n,i)},Po=()=>Gs(0,0),Gs=(n,s)=>({major:n,minor:s}),Os={nu:Gs,detect:Wn,unknown:Po},Mi=(n,s)=>Jo(s.brands,i=>{const f=i.brand.toLowerCase();return Be(n,b=>f===b.brand?.toLowerCase()).map(b=>({current:b.name,version:Os.nu(parseInt(i.version,10),0)}))}),Ea=(n,s)=>{const i=String(s).toLowerCase();return Be(n,f=>f.search(i))},Xd=(n,s)=>Ea(n,s).map(i=>{const f=Os.detect(i.versionRegexes,s);return{current:i.name,version:f}}),Om=(n,s)=>Ea(n,s).map(i=>{const f=Os.detect(i.versionRegexes,s);return{current:i.name,version:f}}),kf=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Gc=n=>s=>Hr(s,n),R0=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:n=>Hr(n,"edge/")&&Hr(n,"chrome")&&Hr(n,"safari")&&Hr(n,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,kf],search:n=>Hr(n,"chrome")&&!Hr(n,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:n=>Hr(n,"msie")||Hr(n,"trident")},{name:"Opera",versionRegexes:[kf,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Gc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Gc("firefox")},{name:"Safari",versionRegexes:[kf,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:n=>(Hr(n,"safari")||Hr(n,"mobile/"))&&Hr(n,"applewebkit")}],M0=[{name:"Windows",search:Gc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:n=>Hr(n,"iphone")||Hr(n,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Gc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Gc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Gc("linux"),versionRegexes:[]},{name:"Solaris",search:Gc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Gc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Gc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ye={browsers:ie(R0),oses:ie(M0)},Me="Edge",ht="Chromium",Xt="IE",bo="Opera",bs="Firefox",Ta="Safari",il=()=>Zi({current:void 0,version:Os.unknown()}),Zi=n=>{const s=n.current,i=n.version,f=b=>()=>s===b;return{current:s,version:i,isEdge:f(Me),isChromium:f(ht),isIE:f(Xt),isOpera:f(bo),isFirefox:f(bs),isSafari:f(Ta)}},Ul={unknown:il,nu:Zi},Qd="Windows",Zl="iOS",Nm="Android",Wl="Linux",ll="macOS",Jd="Solaris",_c="FreeBSD",ds="ChromeOS",vh=()=>pp({current:void 0,version:Os.unknown()}),pp=n=>{const s=n.current,i=n.version,f=b=>()=>s===b;return{current:s,version:i,isWindows:f(Qd),isiOS:f(Zl),isAndroid:f(Nm),isMacOS:f(ll),isLinux:f(Wl),isSolaris:f(Jd),isFreeBSD:f(_c),isChromeOS:f(ds)}},Aa={unknown:vh,nu:pp},V1={detect:(n,s,i)=>{const f=ye.browsers(),b=ye.oses(),w=s.bind(B=>Mi(f,B)).orThunk(()=>Xd(f,n)).fold(Ul.unknown,Ul.nu),S=Om(b,n).fold(Aa.unknown,Aa.nu),_=Qe(S,w,n,i);return{browser:w,os:S,deviceType:_}}},U1=n=>window.matchMedia(n).matches;let Z1=rl(()=>V1.detect(window.navigator.userAgent,F.from(window.navigator.userAgentData),U1));const Ua=()=>Z1(),em=(n,s)=>Fs(n,s),W1=(n,s)=>{const i=em(n,s);if(i==null)throw new Error(n+" not available on this browser");return i},ln=Object.getPrototypeOf,Kc=n=>W1("HTMLElement",n),bg=n=>{const s=Fs("ownerDocument.defaultView",n);return U(n)&&(Kc(s).prototype.isPrototypeOf(n)||/^HTML\w*Element$/.test(ln(n).constructor.name))},vd=n=>n.dom.nodeName.toLowerCase(),yg=n=>n.dom.nodeType,q1=n=>s=>yg(s)===n,De=n=>Yc(n)&&bg(n.dom),Yc=q1(qn),vl=q1(ps),xh=q1($e),wh=q1(Rt),Nl=n=>s=>Yc(s)&&vd(s)===n,Oc=n=>mn.fromDom(n.dom.ownerDocument),L0=n=>xh(n)?n:Oc(n),bp=n=>mn.fromDom(L0(n).dom.documentElement),yp=n=>mn.fromDom(L0(n).dom.defaultView),xl=n=>F.from(n.dom.parentNode).map(mn.fromDom),vp=n=>xl(n),Au=n=>F.from(n.dom.parentElement).map(mn.fromDom),Ch=(n,s)=>{const i=be(s)?s:vt;let f=n.dom;const b=[];for(;f.parentNode!==null&&f.parentNode!==void 0;){const w=f.parentNode,S=mn.fromDom(w);if(b.push(S),i(S)===!0)break;f=w}return b},P0=n=>F.from(n.dom.offsetParent).map(mn.fromDom),wl=n=>F.from(n.dom.previousSibling).map(mn.fromDom),Rm=n=>F.from(n.dom.nextSibling).map(mn.fromDom),Zu=n=>He(n.dom.childNodes,mn.fromDom),tm=(n,s)=>{const i=n.dom.childNodes;return F.from(i[s]).map(mn.fromDom)},ss=n=>tm(n,0),mc=(n,s)=>({element:n,offset:s}),Sh=(n,s)=>{const i=Zu(n);return i.length>0&&s<i.length?mc(i[s],0):mc(n,s)},G1=(n,s,i,f)=>{const w=Oc(n).dom.createRange();return w.setStart(n.dom,s),w.setEnd(i.dom,f),w},rs=(n,s,i,f)=>{const b=G1(n,s,i,f),w=oe(n,i)&&s===f;return b.collapsed&&!w},nm=n=>wh(n)&&Fe(n.dom.host),Ai=n=>mn.fromDom(n.dom.getRootNode()),xd=n=>nm(n)?n:mn.fromDom(L0(n).dom.body),wd=n=>fa(n).isSome(),fa=n=>{const s=Ai(n);return nm(s)?F.some(s):F.none()},ws=n=>mn.fromDom(n.dom.host),F0=n=>{if(Fe(n.target)){const s=mn.fromDom(n.target);if(Yc(s)&&Cd(s)&&n.composed&&n.composedPath){const i=n.composedPath();if(i)return sn(i)}}return F.from(n.target)},Cd=n=>Fe(n.dom.shadowRoot),Pa=(n,s,i,f,b,w,S)=>({target:n,x:s,y:i,stop:f,prevent:b,kill:w,raw:S}),ku=n=>{const s=mn.fromDom(F0(n).getOr(n.target)),i=()=>n.stopPropagation(),f=()=>n.preventDefault(),b=jt(f,i);return Pa(s,n.clientX,n.clientY,i,f,b,n)},Xc=(n,s)=>i=>{n(i)&&s(ku(i))},ri=(n,s,i,f,b)=>{const w=Xc(i,f);return n.dom.addEventListener(s,w,b),{unbind:fn(Qc,n,s,w,b)}},Wu=(n,s,i,f)=>ri(n,s,i,f,!1),Wi=(n,s,i,f)=>ri(n,s,i,f,!0),Qc=(n,s,i,f)=>{n.dom.removeEventListener(s,i,f)},cl=Lt,$s=(n,s,i)=>Wu(n,s,cl,i),qu=(n,s,i)=>Wi(n,s,cl,i),Za=ku,qi=()=>mn.fromDom(document),Fa=(n,s=!1)=>n.dom.focus({preventScroll:s}),ma=n=>n.dom.blur(),Jc=n=>{const s=Ai(n).dom;return n.dom===s.activeElement},ai=(n=qi())=>F.from(n.dom.activeElement).map(mn.fromDom),ii=n=>ai(Ai(n)).filter(s=>n.dom.contains(s.dom)),om=(n,s)=>{xl(n).each(f=>{f.dom.insertBefore(s.dom,n.dom)})},xp=(n,s)=>{Rm(n).fold(()=>{xl(n).each(b=>{ra(b,s)})},f=>{om(f,s)})},wp=(n,s)=>{ss(n).fold(()=>{ra(n,s)},f=>{n.dom.insertBefore(s.dom,f.dom)})},ra=(n,s)=>{n.dom.appendChild(s.dom)},Mm=(n,s,i)=>{tm(n,i).fold(()=>{ra(n,s)},f=>{om(f,s)})},Eh=(n,s)=>{ft(s,i=>{ra(n,i)})},Df=(n,s,i)=>{if(I(i)||ue(i)||lt(i))n.setAttribute(s,i+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",i,":: Element ",n),new Error("Attribute value was not simple")},uo=(n,s,i)=>{Df(n.dom,s,i)},Du=(n,s)=>{const i=n.dom;zo(s,(f,b)=>{Df(i,b,f)})},ea=(n,s)=>{const i=n.dom.getAttribute(s);return i===null?void 0:i},li=(n,s)=>F.from(ea(n,s)),$a=(n,s)=>{const i=n.dom;return i&&i.hasAttribute?i.hasAttribute(s):!1},cr=(n,s)=>{n.dom.removeAttribute(s)},Nc=n=>Ho(n.dom.attributes,(s,i)=>(s[i.name]=i.value,s),{}),Cp=n=>{n.dom.textContent="",ft(Zu(n),s=>{eu(s)})},eu=n=>{const s=n.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},Gu=(n,s)=>mn.fromDom(n.dom.cloneNode(s)),vg=n=>Gu(n,!1),Cl=n=>Gu(n,!0),Ia=(n,s)=>{const f=(s||document).createElement("div");return f.innerHTML=n,Zu(mn.fromDom(f))},Js=n=>n.dom.innerHTML,Rl=(n,s)=>{const f=Oc(n).dom,b=mn.fromDom(f.createDocumentFragment()),w=Ia(s,f);Eh(b,w),Cp(n),ra(n,b)},_u=n=>{const s=mn.fromTag("div"),i=mn.fromDom(n.dom.cloneNode(!0));return ra(s,i),Js(s)},ul=n=>{if(nm(n))return"#shadow-root";{const s=vg(n);return _u(s)}},Sl=n=>new Promise((s,i)=>{const f=()=>{w(),s(n)},b=[$s(n,"load",f),$s(n,"error",()=>{w(),i("Unable to load data from image: "+n.dom.src)})],w=()=>ft(b,S=>S.unbind());n.dom.complete&&f()}),ef=n=>n.style!==void 0&&be(n.style.getPropertyValue),Is=n=>{const s=vl(n)?n.dom.parentNode:n.dom;if(s==null||s.ownerDocument===null)return!1;const i=s.ownerDocument;return fa(mn.fromDom(s)).fold(()=>i.body.contains(s),Ke(Is,ws))},Ml=()=>Bm(mn.fromDom(document)),Bm=n=>{const s=n.dom.body;if(s==null)throw new Error("Body is not available yet");return mn.fromDom(s)},Th=(n,s,i)=>{if(!I(i))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",i,":: Element ",n),new Error("CSS value must be a string: "+i);ef(n)&&n.style.setProperty(s,i)},hc=(n,s)=>{ef(n)&&n.style.removeProperty(s)},So=(n,s,i)=>{const f=n.dom;Th(f,s,i)},Or=(n,s)=>{const i=n.dom;zo(s,(f,b)=>{Th(i,b,f)})},Wa=(n,s)=>{const i=n.dom;zo(s,(f,b)=>{f.fold(()=>{hc(i,b)},w=>{Th(i,b,w)})})},yr=(n,s)=>{const i=n.dom,b=window.getComputedStyle(i).getPropertyValue(s);return b===""&&!Is(n)?dl(i,s):b},dl=(n,s)=>ef(n)?n.style.getPropertyValue(s):"",Gr=(n,s)=>{const i=n.dom,f=dl(i,s);return F.from(f).filter(b=>b.length>0)},ci=n=>{const s={},i=n.dom;if(ef(i))for(let f=0;f<i.style.length;f++){const b=i.style.item(f);s[b]=i.style[b]}return s},tf=(n,s,i)=>{const f=mn.fromTag(n);return So(f,s,i),Gr(f,s).isSome()},cs=(n,s)=>{const i=n.dom;hc(i,s),oo(li(n,"style").map(An),"")&&cr(n,"style")},ql=n=>n.dom.offsetWidth,Cs=(n,s)=>{const i=(_,B)=>{if(!lt(B)&&!B.match(/^[0-9]+$/))throw new Error(n+".set accepts only positive integer values. Value was "+B);const z=_.dom;ef(z)&&(z.style[n]=B+"px")},f=_=>{const B=s(_);if(B<=0||B===null){const z=yr(_,n);return parseFloat(z)||0}return B},b=f,w=(_,B)=>Ho(B,(z,Z)=>{const K=yr(_,Z),ae=K===void 0?0:parseInt(K,10);return isNaN(ae)?z:z+ae},0);return{set:i,get:f,getOuter:b,aggregate:w,max:(_,B,z)=>{const Z=w(_,z);return B>Z?B-Z:0}}},Gl=Cs("height",n=>{const s=n.dom;return Is(n)?s.getBoundingClientRect().height:s.offsetHeight}),bi=n=>Gl.get(n),ki=n=>Gl.getOuter(n),_f=(n,s)=>{const i=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],f=Gl.max(n,s,i);So(n,"max-height",f+"px")},xg=n=>n.offsetWidth<=0&&n.offsetHeight<=0,qa=n=>!xg(n.dom),Of=Cs("width",n=>{const s=n.dom;return Is(n)?s.getBoundingClientRect().width:s.offsetWidth}),Sd=(n,s)=>Of.set(n,s),Bi=n=>Of.get(n),nf=n=>Of.getOuter(n),wg=(n,s)=>{const i=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],f=Of.max(n,s,i);So(n,"max-width",f+"px")},Ku=(n,s)=>({left:n,top:s,translate:(f,b)=>Ku(n+f,s+b)}),hr=Ku,$0=n=>{const s=n.getBoundingClientRect();return hr(s.left,s.top)},Cg=(n,s)=>n!==void 0?n:s!==void 0?s:0,Bl=n=>{const s=n.dom.ownerDocument,i=s.body,f=s.defaultView,b=s.documentElement;if(i===n.dom)return hr(i.offsetLeft,i.offsetTop);const w=Cg(f?.pageYOffset,b.scrollTop),S=Cg(f?.pageXOffset,b.scrollLeft),_=Cg(b.clientTop,i.clientTop),B=Cg(b.clientLeft,i.clientLeft);return fl(n).translate(S-B,w-_)},fl=n=>{const s=n.dom,f=s.ownerDocument.body;return f===s?hr(f.offsetLeft,f.offsetTop):Is(n)?$0(s):hr(0,0)},ka=n=>{const s=n!==void 0?n.dom:document,i=s.body.scrollLeft||s.documentElement.scrollLeft,f=s.body.scrollTop||s.documentElement.scrollTop;return hr(i,f)},Ed=(n,s,i)=>{const b=(i!==void 0?i.dom:document).defaultView;b&&b.scrollTo(n,s)},of=((n,s)=>{const i=w=>{if(!n(w))throw new Error("Can only get "+s+" value of a "+s+" node");return f(w).getOr("")},f=w=>n(w)?F.from(w.dom.nodeValue):F.none();return{get:i,getOption:f,set:(w,S)=>{if(!n(w))throw new Error("Can only set raw "+s+" value of a "+s+" node");w.dom.nodeValue=S}}})(vl,"text"),Sg=n=>of.get(n),Eg=(n,s)=>i=>K1(i)==="rtl"?s:n,K1=n=>yr(n,"direction")==="rtl"?"rtl":"ltr",Td=(n,s)=>{const i=ea(n,s);return i===void 0||i===""?[]:i.split(" ")},fy=(n,s,i)=>{const b=Td(n,s).concat([i]);return uo(n,s,b.join(" ")),!0},sm=(n,s,i)=>{const f=xo(Td(n,s),b=>b!==i);return f.length>0?uo(n,s,f.join(" ")):cr(n,s),!1};var gc=(n,s,i,f,b)=>n(i,f)?F.some(i):be(b)&&b(i)?F.none():s(i,f,b);const Y1=(n,s,i)=>{let f=n.dom;const b=be(i)?i:vt;for(;f.parentNode;){f=f.parentNode;const w=mn.fromDom(f);if(s(w))return F.some(w);if(b(w))break}return F.none()},Ah=(n,s,i)=>gc((b,w)=>w(b),Y1,n,s,i),Nf=(n,s)=>{const i=n.dom;return i.parentNode?rm(mn.fromDom(i.parentNode),f=>!oe(n,f)&&s(f)):F.none()},rm=(n,s)=>{const i=b=>s(mn.fromDom(b));return Be(n.dom.childNodes,i).map(mn.fromDom)},Tg=(n,s)=>{const i=f=>{for(let b=0;b<f.childNodes.length;b++){const w=mn.fromDom(f.childNodes[b]);if(s(w))return F.some(w);const S=i(f.childNodes[b]);if(S.isSome())return S}return F.none()};return i(n.dom)},Ag=n=>Ol(n),tu=(n,s,i)=>Y1(n,f=>lr(f,s),i),my=(n,s)=>Nf(n,i=>lr(i,s)),Ou=(n,s)=>rm(n,i=>lr(i,s)),ur=(n,s)=>Ol(s,n),yi=(n,s,i)=>gc((b,w)=>lr(b,w),tu,n,s,i),Ad=(n,s)=>{n.dom.checked=s},Sp=n=>n.dom.checked,nu=n=>n.dom.classList!==void 0,Rf=n=>Td(n,"class"),kg=(n,s)=>fy(n,"class",s),kd=(n,s)=>sm(n,"class",s),Dd=(n,s)=>Ve(Rf(n),s)?kd(n,s):kg(n,s),nr=(n,s)=>{nu(n)?n.dom.classList.add(s):kg(n,s)},Dg=n=>{(nu(n)?n.dom.classList:Rf(n)).length===0&&cr(n,"class")},ha=(n,s)=>{nu(n)?n.dom.classList.remove(s):kd(n,s),Dg(n)},kh=(n,s)=>{const i=nu(n)?n.dom.classList.toggle(s):Dd(n,s);return Dg(n),i},Da=(n,s)=>nu(n)&&n.dom.classList.contains(s),Yu=(n,s)=>{ft(s,i=>{nr(n,i)})},El=(n,s)=>{ft(s,i=>{ha(n,i)})},sf=(n,s)=>{ft(s,i=>{kh(n,i)})},_g=(n,s)=>Je(s,i=>Da(n,i)),ou=n=>{const s=n.dom.classList,i=new Array(s.length);for(let f=0;f<s.length;f++){const b=s.item(f);b!==null&&(i[f]=b)}return i},Nu=n=>nu(n)?ou(n):Rf(n),Lm=n=>n.dom.textContent,pc=n=>n.dom.value,_d=(n,s)=>{if(s===void 0)throw new Error("Value.set was undefined");n.dom.value=s},aa=(n,s,i)=>xo(Ch(n,i),s),ta=(n,s)=>Ti(s,n),Di=(n,s,i)=>Ah(n,s,i).isSome(),Pm=(n,s,i)=>yi(n,s,i).isSome(),Od=n=>be(n)?n:vt,or=(n,s,i)=>{let f=n.dom;const b=Od(i);for(;f.parentNode;){f=f.parentNode;const w=mn.fromDom(f),S=s(w);if(S.isSome())return S;if(b(w))break}return F.none()},Cr=(n,s,i)=>{const f=s(n),b=Od(i);return f.orThunk(()=>b(n)?F.none():or(n,s,b))},P={create:(n,s,i,f)=>({start:n,soffset:s,finish:i,foffset:f})},j=Ba.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),re=(n,s,i,f)=>n.fold(s,i,f),we=n=>n.fold(ut,ut,ut),Ge=j.before,kt=j.on,Cn=j.after,_n={before:Ge,on:kt,after:Cn,cata:re,getStart:we},Fo=Ba.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),as=n=>Fo.exact(n.start,n.soffset,n.finish,n.foffset),Br=n=>n.match({domRange:s=>mn.fromDom(s.startContainer),relative:(s,i)=>_n.getStart(s),exact:(s,i,f,b)=>s}),ia=Fo.domRange,vi=Fo.relative,Rc=Fo.exact,Xu=n=>{const s=Br(n);return yp(s)},rf=P.create,fi={domRange:ia,relative:vi,exact:Rc,exactFromRange:as,getWin:Xu,range:rf},Li=n=>F.from(n.getSelection()),am=n=>{if(n.rangeCount>0){const s=n.getRangeAt(0),i=n.getRangeAt(n.rangeCount-1);return F.some(P.create(mn.fromDom(s.startContainer),s.startOffset,mn.fromDom(i.endContainer),i.endOffset))}else return F.none()},im=n=>{if(n.anchorNode===null||n.focusNode===null)return am(n);{const s=mn.fromDom(n.anchorNode),i=mn.fromDom(n.focusNode);return rs(s,n.anchorOffset,i,n.focusOffset)?F.some(P.create(s,n.anchorOffset,i,n.focusOffset)):am(n)}},Fm=n=>Li(n).filter(s=>s.rangeCount>0).bind(im),Dh=(n,s)=>{const i=ve(n,s);return Ui(i)},Ru=(n,s)=>{const i=ve(n,s);return si(i)},_h={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},X1=(()=>{const n="[0-9]+",i="[eE]"+("[+-]?"+n),f="\\.",b=_=>`(?:${_})?`,S=`[+-]?(?:${["Infinity",n+f+b(n)+b(i),f+n+b(i),n+b(i)].join("|")})`;return new RegExp(`^(${S})(.*)$`)})(),Q1=(n,s)=>It(s,i=>It(_h[i],f=>n===f)),Hs=(n,s)=>F.from(X1.exec(n)).bind(f=>{const b=Number(f[1]),w=f[2];return Q1(w,s)?F.some({value:b,unit:w}):F.none()}),Ha=(n,s)=>Hs(n,s).map(({value:i,unit:f})=>i+f),Ga=n=>{const s=n===void 0?window:n;return Ua().browser.isFirefox()?F.none():F.from(s.visualViewport)},Pl=(n,s,i,f)=>({x:n,y:s,width:i,height:f,right:n+i,bottom:s+f}),Ep=n=>{const s=n===void 0?window:n,i=s.document,f=ka(mn.fromDom(i));return Ga(s).fold(()=>{const b=s.document.documentElement,w=b.clientWidth,S=b.clientHeight;return Pl(f.left,f.top,w,S)},b=>Pl(Math.max(b.pageLeft,f.left),Math.max(b.pageTop,f.top),b.width,b.height))},Og=(n,s)=>n.view(s).fold(ie([]),f=>{const b=n.owner(f),w=Og(n,b);return[f].concat(w)}),Ng=(n,s)=>{const i=s.owner(n),f=Og(s,i);return F.some(f)};var $m=Object.freeze({__proto__:null,view:n=>(n.dom===document?F.none():F.from(n.dom.defaultView?.frameElement)).map(mn.fromDom),owner:n=>Oc(n)});const I0=n=>{const s=qi(),i=ka(s);return Ng(n,$m).fold(fn(Bl,n),b=>{const w=fl(n),S=Mo(b,(_,B)=>{const z=fl(B);return{left:_.left+z.left,top:_.top+z.top}},{left:0,top:0});return hr(S.left+w.left+i.left,S.top+w.top+i.top)})},Oh=(n,s,i)=>({point:n,width:s,height:i}),Mv=(n,s,i,f)=>({x:n,y:s,width:i,height:f}),Pi=(n,s,i,f)=>({x:n,y:s,width:i,height:f,right:n+i,bottom:s+f}),_i=n=>{const s=Bl(n),i=nf(n),f=ki(n);return Pi(s.left,s.top,i,f)},Nh=n=>{const s=I0(n),i=nf(n),f=ki(n);return Pi(s.left,s.top,i,f)},Im=(n,s)=>{const i=Math.max(n.x,s.x),f=Math.max(n.y,s.y),b=Math.min(n.right,s.right),w=Math.min(n.bottom,s.bottom),S=b-i,_=w-f;return Pi(i,f,S,_)},hy=(n,s)=>Ho(s,(i,f)=>Im(i,f),n),bc=()=>Ep(window),gy=(n,s)=>oe(n.element,s.event.target),af=n=>(oo(Gr(n,"position"),"fixed")?F.none():P0(n)).orThunk(()=>{const f=mn.fromTag("span");return xl(n).bind(b=>{ra(b,f);const w=P0(f);return eu(f),w})}),J1=n=>af(n).map(Bl).getOrThunk(()=>hr(0,0)),su=(n,s)=>{const i=F.from(ea(n,"id")).getOrThunk(()=>{const f=me("aria");return uo(s,"id",f),f});uo(n,"aria-describedby",i)},H0=n=>{cr(n,"aria-describedby")};var Mu;(function(n){n[n.Error=0]="Error",n[n.Value=1]="Value"})(Mu||(Mu={}));const Ka=(n,s,i)=>n.stype===Mu.Error?s(n.serror):i(n.svalue),py=n=>{const s=[],i=[];return ft(n,f=>{Ka(f,b=>i.push(b),b=>s.push(b))}),{values:s,errors:i}},Ap=(n,s)=>n.stype===Mu.Error?{stype:Mu.Error,serror:s(n.serror)}:n,Bv=(n,s)=>n.stype===Mu.Value?{stype:Mu.Value,svalue:s(n.svalue)}:n,by=(n,s)=>n.stype===Mu.Value?s(n.svalue):n,Lv=(n,s)=>n.stype===Mu.Error?s(n.serror):n,Pv=n=>({stype:Mu.Value,svalue:n}),z0=n=>({stype:Mu.Error,serror:n}),Sn={fromResult:n=>n.fold(z0,Pv),toResult:n=>Ka(n,Pn.error,Pn.value),svalue:Pv,partition:py,serror:z0,bind:by,bindError:Lv,map:Bv,mapError:Ap,fold:Ka},ru=n=>U(n)&&Do(n).length>100?" removed due to size":JSON.stringify(n,null,2),E2=n=>{const s=n.length>10?n.slice(0,10).concat([{path:[],getErrorInfo:ie("... (only showing first ten failures)")}]):n;return He(s,i=>"Failed path: ("+i.path.join(" > ")+`)
`+i.getErrorInfo())},au=(n,s)=>Sn.serror([{path:n,getErrorInfo:s}]),Qu=(n,s,i)=>au(n,()=>'Could not find valid *required* value for "'+s+'" in '+ru(i)),tb=(n,s)=>au(n,()=>'Choice schema did not contain choice key: "'+s+'"'),T2=(n,s,i)=>au(n,()=>'The chosen schema: "'+i+'" did not exist in branches: '+ru(s)),Hm=(n,s)=>au(n,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),A2=(n,s)=>au(n,ie(s)),iu=n=>{const s=(f,b)=>Sn.bindError(n(b),w=>A2(f,w)),i=ie("val");return{extract:s,toString:i}},k2=iu(Sn.svalue),lf=ie(k2),dn=(n,s)=>iu(i=>{const f=typeof i;return n(i)?Sn.svalue(i):Sn.serror(`Expected type: ${s} but got: ${f}`)}),Dp=dn(lt,"number"),Fi=dn(I,"string"),ns=dn(ue,"boolean"),zm=dn(be,"function"),_p=n=>{if(Object(n)!==n)return!0;switch({}.toString.call(n).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(n).every(s=>_p(n[s]));default:return!1}},la=iu(n=>_p(n)?Sn.svalue(n):Sn.serror("Expected value to be acceptable for sending via postMessage")),Nd=()=>({tag:"required",process:{}}),Op=n=>({tag:"defaultedThunk",process:n}),Bu=n=>Op(ie(n)),na=()=>({tag:"option",process:{}}),lm=n=>({tag:"mergeWithThunk",process:n}),Np=n=>lm(ie(n)),yy=(n,s,i,f)=>({tag:"field",key:n,newKey:s,presence:i,prop:f}),Rh=(n,s)=>({tag:"custom",newKey:n,instantiator:s}),Rd=(n,s,i)=>{switch(n.tag){case"field":return s(n.key,n.newKey,n.presence,n.prop);case"custom":return i(n.newKey,n.instantiator)}},j0=(n,s)=>Sn.svalue(Gt(s,wo.apply(void 0,n))),V0=n=>jt(Sn.serror,tt)(n),Rp={consolidateObj:(n,s)=>{const i=Sn.partition(n);return i.errors.length>0?V0(i.errors):j0(i.values,s)},consolidateArr:n=>{const s=Sn.partition(n);return s.errors.length>0?V0(s.errors):Sn.svalue(s.values)}},wy=(n,s,i,f)=>Hn(s,i).fold(()=>Qu(n,i,s),f),nb=(n,s,i,f)=>{const b=Hn(n,s).getOrThunk(()=>i(n));return f(b)},zC=(n,s,i)=>i(Hn(n,s)),Fv=(n,s,i,f)=>{const b=Hn(n,s).map(w=>w===!0?i(n):w);return f(b)},Tl=(n,s,i,f,b)=>{const w=_=>b.extract(s.concat([f]),_),S=_=>_.fold(()=>Sn.svalue(F.none()),B=>{const z=b.extract(s.concat([f]),B);return Sn.map(z,F.some)});switch(n.tag){case"required":return wy(s,i,f,w);case"defaultedThunk":return nb(i,f,n.process,w);case"option":return zC(i,f,S);case"defaultedOptionThunk":return Fv(i,f,n.process,S);case"mergeWithThunk":return nb(i,f,ie({}),_=>{const B=Gt(n.process(i),_);return w(B)})}},lu=(n,s,i)=>{const f={},b=[];for(const w of i)Rd(w,(S,_,B,z)=>{const Z=Tl(B,n,s,S,z);Sn.fold(Z,K=>{b.push(...K)},K=>{f[_]=K})},(S,_)=>{f[S]=_(s)});return b.length>0?Sn.serror(b):Sn.svalue(f)},U0=n=>({extract:(f,b)=>n().extract(f,b),toString:()=>n().toString()}),jC=n=>Do(Wr(n,Fe)),Lu=n=>{const s=fo(n),i=Mo(n,(b,w)=>Rd(w,S=>Gt(b,{[S]:!0}),ie(b)),{});return{extract:(b,w)=>{const S=ue(w)?[]:jC(w),_=xo(S,B=>!Oo(i,B));return _.length===0?s.extract(b,w):Hm(b,_)},toString:s.toString}},fo=n=>({extract:(f,b)=>lu(f,b,n),toString:()=>`obj{
`+He(n,b=>Rd(b,(w,S,_,B)=>w+" -> "+B.toString(),(w,S)=>"state("+w+")")).join(`
`)+"}"}),_a=n=>({extract:(f,b)=>{const w=He(b,(S,_)=>n.extract(f.concat(["["+_+"]"]),S));return Rp.consolidateArr(w)},toString:()=>"array("+n.toString()+")"}),Mp=(n,s)=>{const i=s!==void 0?s:ut;return{extract:(w,S)=>{const _=[];for(const B of n){const z=B.extract(w,S);if(z.stype===Mu.Value)return{stype:Mu.Value,svalue:i(z.svalue)};_.push(z)}return Rp.consolidateArr(_)},toString:()=>"oneOf("+He(n,w=>w.toString()).join(", ")+")"}},ob=(n,s)=>{const i=(w,S)=>_a(iu(n)).extract(w,S);return{extract:(w,S)=>{const _=Do(S),B=i(w,_);return Sn.bind(B,z=>{const Z=He(z,K=>yy(K,K,Nd(),s));return fo(Z).extract(w,S)})},toString:()=>"setOf("+s.toString()+")"}},Rg=(n,s)=>{const i=rl(s);return{extract:(w,S)=>i().extract(w,S),toString:()=>i().toString()}},Z0=jt(_a,fo),W0=(n,s,i,f)=>Hn(i,f).fold(()=>T2(n,i,f),w=>w.extract(n.concat(["branch: "+f]),s)),Mh=(n,s)=>({extract:(b,w)=>Hn(w,n).fold(()=>tb(b,n),_=>W0(b,w,s,_)),toString:()=>"chooseOn("+n+"). Possible values: "+Do(s)}),$v=()=>_a(k2),cm=n=>iu(s=>n(s).fold(Sn.serror,Sn.svalue)),Iv=(n,s)=>ob(i=>Sn.fromResult(n(i)),s),sb=(n,s,i)=>{const f=s.extract([n],i);return Sn.mapError(f,b=>({input:i,errors:b}))},ga=(n,s,i)=>Sn.toResult(sb(n,s,i)),Ju=n=>n.fold(s=>{throw new Error(Mg(s))},ut),Mc=(n,s,i)=>Ju(ga(n,s,i)),Mg=n=>`Errors: 
`+E2(n.errors).join(`
`)+`

Input object: `+ru(n.input),Kl=(n,s)=>Mh(n,os(s,fo)),Bh=(n,s)=>Rg(n,s),ml=yy,yc=Rh,rb=n=>cm(s=>Ve(n,s)?Pn.value(s):Pn.error(`Unsupported value: "${s}", choose one of "${n.join(", ")}".`)),qt=n=>ml(n,n,Nd(),lf()),Bc=(n,s)=>ml(n,n,Nd(),s),ab=n=>Bc(n,Dp),Ya=n=>Bc(n,Fi),Yl=(n,s)=>ml(n,n,Nd(),rb(s)),cu=n=>Bc(n,zm),D2=(n,s)=>ml(n,n,na(),iu(i=>Sn.serror("The field: "+n+" is forbidden. "+s))),cf=(n,s)=>ml(n,n,Nd(),fo(s)),q0=(n,s)=>ml(n,n,Nd(),Z0(s)),Ar=(n,s)=>ml(n,n,Nd(),_a(s)),vr=n=>ml(n,n,na(),lf()),um=(n,s)=>ml(n,n,na(),s),Bp=n=>um(n,Dp),pa=n=>um(n,Fi),jm=(n,s)=>um(n,rb(s)),Cy=n=>um(n,ns),uf=n=>um(n,zm),Bg=(n,s)=>um(n,_a(s)),$i=(n,s)=>um(n,fo(s)),_2=(n,s)=>um(n,Lu(s)),bt=(n,s)=>ml(n,n,Bu(s),lf()),ed=(n,s,i)=>ml(n,n,Bu(s),i),Lp=(n,s)=>ed(n,s,Dp),Oa=(n,s)=>ed(n,s,Fi),Xl=(n,s,i)=>ed(n,s,rb(i)),Gi=(n,s)=>ed(n,s,ns),dr=(n,s)=>ed(n,s,zm),Fl=(n,s)=>ed(n,s,la),Vm=(n,s,i)=>ed(n,s,_a(i)),Lh=(n,s,i)=>ed(n,s,fo(i)),hl=(n,s)=>{const i={};return zo(n,(f,b)=>{Ve(s,b)||(i[b]=f)}),i},ib=(n,s)=>({[n]:s}),Sy=n=>{const s={};return ft(n,i=>{s[i.key]=i.value}),s},Ey=(n,s)=>hl(n,s),za=(n,s)=>ib(n,s),vc=n=>Sy(n),Um=(n,s)=>n.length===0?Pn.value(s):Pn.value(Gt(s,wo.apply(void 0,n))),Ty=n=>Pn.error(tt(n)),O2=(n,s)=>{const i=ir(n);return i.errors.length>0?Ty(i.errors):Um(i.values,s)},Ql=ie,td=Ql("touchstart"),Xa=Ql("touchmove"),$l=Ql("touchend"),nd=Ql("touchcancel"),uu=Ql("mousedown"),xc=Ql("mousemove"),Ii=Ql("mouseout"),Mf=Ql("mouseup"),Jl=Ql("mouseover"),ec=Ql("focusin"),lb=Ql("focusout"),Ki=Ql("keydown"),Pu=Ql("keyup"),Bf=Ql("input"),Lf=Ql("change"),dm=Ql("click"),cb=Ql("transitioncancel"),Ph=Ql("transitionend"),Zm=Ql("transitionstart"),G0=Ql("selectstart"),kr=n=>ie("alloy."+n),Hv={tap:kr("tap")},Pf=kr("focus"),Pp=kr("blur.post"),Ay=kr("paste.post"),Fh=kr("receive"),Ls=kr("execute"),ba=kr("focus.item"),xr=Hv.tap,Nr=kr("longpress"),Na=kr("sandbox.close"),Fu=kr("typeahead.cancel"),Ff=kr("system.init"),Fp=kr("system.touchmove"),ub=kr("system.touchend"),fm=kr("system.scroll"),xi=kr("system.resize"),Lc=kr("system.attached"),wc=kr("system.detached"),mm=kr("system.dismissRequested"),Md=kr("system.repositionRequested"),$h=kr("focusmanager.shifted"),$p=kr("slotcontainer.visibility"),od=kr("system.external.element.scroll"),db=kr("change.tab"),Ip=kr("dismiss.tab"),fb=kr("highlight"),Hp=kr("dehighlight"),Bd=n=>ul(n),$f="unknown";var Yi;(function(n){n[n.STOP=0]="STOP",n[n.NORMAL=1]="NORMAL",n[n.LOGGING=2]="LOGGING"})(Yi||(Yi={}));const Ld=Mn({}),zp=(n,s)=>{const i=[],f=new Date().getTime();return{logEventCut:(b,w,S)=>{i.push({outcome:"cut",target:w,purpose:S})},logEventStopped:(b,w,S)=>{i.push({outcome:"stopped",target:w,purpose:S})},logNoParent:(b,w,S)=>{i.push({outcome:"no-parent",target:w,purpose:S})},logEventNoHandlers:(b,w)=>{i.push({outcome:"no-handlers-left",target:w})},logEventResponse:(b,w,S)=>{i.push({outcome:"response",purpose:S,target:w})},write:()=>{const b=new Date().getTime();Ve(["mousemove","mouseover","mouseout",Ff()],n)||console.log(n,{event:n,time:b-f,target:s.dom,sequence:He(i,w=>Ve(["cut","stopped","response"],w.outcome)?"{"+w.purpose+"} "+w.outcome+" at ("+Bd(w.target)+")":w.outcome)})}}},Pd=(n,s,i)=>{switch(Hn(Ld.get(),n).orThunk(()=>{const b=Do(Ld.get());return Jo(b,w=>n.indexOf(w)>-1?F.some(Ld.get()[w]):F.none())}).getOr(Yi.NORMAL)){case Yi.NORMAL:return i(K0());case Yi.LOGGING:{const b=zp(n,s),w=i(b);return b.write(),w}case Yi.STOP:return!0}},Cc=["alloy/data/Fields","alloy/debugging/Debugging"],zv=()=>{const n=new Error;if(n.stack!==void 0){const s=n.stack.split(`
`);return Be(s,i=>i.indexOf("alloy")>0&&!It(Cc,f=>i.indexOf(f)>-1)).getOr($f)}else return $f},ky={logEventCut:J,logEventStopped:J,logNoParent:J,logEventNoHandlers:J,logEventResponse:J,write:J},jp=(n,s,i)=>Pd(n,s,i),K0=ie(ky),Fd=ie([qt("menu"),qt("selectedMenu")]),Lg=ie([qt("item"),qt("selectedItem")]);ie(fo(Lg().concat(Fd())));const sd=ie(fo(Lg())),Y0=cf("initSize",[qt("numColumns"),qt("numRows")]),Dy=()=>Bc("markers",sd()),N2=()=>cf("markers",[qt("backgroundMenu")].concat(Fd()).concat(Lg())),hs=n=>cf("markers",He(n,qt)),Vp=(n,s,i)=>(zv(),ml(s,s,i,cm(f=>Pn.value((...b)=>f.apply(void 0,b))))),Ps=n=>Vp("onHandler",n,Bu(J)),tc=n=>Vp("onKeyboardHandler",n,Bu(F.none)),Ih=n=>Vp("onHandler",n,Nd()),X0=n=>Vp("onKeyboardHandler",n,Nd()),sr=(n,s)=>yc(n,ie(s)),jv=n=>yc(n,ut),mb=ie(Y0),Vv=(n,s,i)=>{const f=i.toString(),b=f.indexOf(")")+1,w=f.indexOf("("),S=f.substring(w+1,b-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:s,parameters:Up(S.slice(0,1).concat(S.slice(3)))}),n},Up=n=>He(n,s=>dc(s,"/*")?s.substring(0,s.length-2):s),hb=(n,s)=>{const i=n.toString(),f=i.indexOf(")")+1,b=i.indexOf("("),w=i.substring(b+1,f-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:s,parameters:Up(w)}),n},R2=(n,s)=>{const i=s.toString(),f=i.indexOf(")")+1,b=i.indexOf("("),w=i.substring(b+1,f-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Up(w.slice(1))}),n},M2=(n,s)=>{let i=null;return{cancel:()=>{i!==null&&(clearTimeout(i),i=null)},schedule:(...w)=>{i=setTimeout(()=>{n.apply(null,w),i=null},s)}}},B2=5,Zp=400,gb=n=>{const s=n.raw;return s.touches===void 0||s.touches.length!==1?F.none():F.some(s.touches[0])},L2=(n,s)=>{const i=Math.abs(n.clientX-s.x),f=Math.abs(n.clientY-s.y);return i>B2||f>B2},P2=n=>{const s=Co(),i=Mn(!1),f=M2(z=>{n.triggerEvent(Nr(),z),i.set(!0)},Zp),b=z=>(gb(z).each(Z=>{f.cancel();const K={x:Z.clientX,y:Z.clientY,target:z.target};f.schedule(z),i.set(!1),s.set(K)}),F.none()),w=z=>(f.cancel(),gb(z).each(Z=>{s.on(K=>{L2(Z,K)&&s.clear()})}),F.none()),S=z=>{f.cancel();const Z=K=>oe(K.target,z.target);return s.get().filter(Z).map(K=>i.get()?(z.prevent(),!1):n.triggerEvent(xr(),z))},_=vc([{key:td(),value:b},{key:Xa(),value:w},{key:$l(),value:S}]);return{fireIfReady:(z,Z)=>Hn(_,Z).bind(K=>K(z))}};var Pg;(function(n){n.OnFocusMode="onFocus",n.OnEnterOrSpaceMode="onEnterOrSpace",n.OnApiMode="onApi"})(Pg||(Pg={}));const $u="placeholder",Xi=Ba.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Hh=n=>ts(n,"uiType"),rd=(n,s,i,f)=>n.exists(b=>b!==i.owner)?Xi.single(!0,ie(i)):Hn(f,i.name).fold(()=>{throw new Error("Unknown placeholder component: "+i.name+`
Known: [`+Do(f)+`]
Namespace: `+n.getOr("none")+`
Spec: `+JSON.stringify(i,null,2))},b=>b.replace()),hm=(n,s,i,f)=>Hh(i)&&i.uiType===$u?rd(n,s,i,f):Xi.single(!1,ie(i)),Wp=(n,s,i,f)=>hm(n,s,i,f).fold((w,S)=>{const _=Hh(i)?S(s,i.config,i.validated):S(s),B=Hn(_,"components").getOr([]),z=Le(B,Z=>Wp(n,s,Z,f));return[{..._,components:z}]},(w,S)=>{if(Hh(i)){const _=S(s,i.config,i.validated);return i.validated.preprocess.getOr(ut)(_)}else return S(s)}),ca=(n,s,i,f)=>Le(i,b=>Wp(n,s,b,f)),Q0=(n,s)=>{let i=!1;const f=()=>i,b=()=>{if(i)throw new Error("Trying to use the same placeholder more than once: "+n);return i=!0,s},w=()=>s.fold((S,_)=>S,(S,_)=>S);return{name:ie(n),required:w,used:f,replace:b}},VC=(n,s,i,f)=>{const b=os(f,(S,_)=>Q0(_,S)),w=ca(n,s,i,b);return zo(b,S=>{if(S.used()===!1&&S.required())throw new Error("Placeholder: "+S.name()+` was not found in components list
Namespace: `+n.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),w},pb=Xi.single,Uv=Xi.multiple,Zv=ie($u),bb=Ba.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),If=bt("factory",{sketch:ut}),zh=bt("schema",[]),qp=qt("name"),Gp=ml("pname","pname",Op(n=>"<alloy."+me(n.name)+">"),lf()),_y=yc("schema",()=>[vr("preprocess")]),du=bt("defaults",ie({})),df=bt("overrides",ie({})),J0=fo([If,zh,qp,Gp,du,df]),UC=fo([If,zh,qp,du,df]),F2=fo([If,zh,qp,Gp,du,df]),Wv=fo([If,_y,qp,qt("unit"),Gp,du,df]),Oy=n=>n.fold(F.some,F.none,F.some,F.some),gm=n=>{const s=i=>i.name;return n.fold(s,s,s,s)},$2=n=>n.fold(ut,ut,ut,ut),$d=(n,s)=>i=>{const f=Mc("Converting part type",s,i);return n(f)},Sc=$d(bb.required,J0),Id=$d(bb.external,UC),fu=$d(bb.optional,F2),e1=$d(bb.group,Wv),jh=ie("entirety");var Ny=Object.freeze({__proto__:null,required:Sc,external:Id,optional:fu,group:e1,asNamedPart:Oy,name:gm,asCommon:$2,original:jh});const qv=(n,s,i,f)=>Gt(s.defaults(n,i,f),i,{uid:n.partUids[s.name]},s.overrides(n,i,f)),yb=(n,s,i)=>{const f={},b={};return ft(i,w=>{w.fold(S=>{f[S.pname]=pb(!0,(_,B,z)=>S.factory.sketch(qv(_,S,B,z)))},S=>{const _=s.parts[S.name];b[S.name]=ie(S.factory.sketch(qv(s,S,_[jh()]),_))},S=>{f[S.pname]=pb(!1,(_,B,z)=>S.factory.sketch(qv(_,S,B,z)))},S=>{f[S.pname]=Uv(!0,(_,B,z)=>{const Z=_[S.name];return He(Z,K=>S.factory.sketch(Gt(S.defaults(_,K,z),K,S.overrides(_,K))))})})}),{internals:ie(f),externals:ie(b)}},Fg=(n,s)=>{const i={};return ft(s,f=>{Oy(f).each(b=>{const w=Vh(n,b.pname);i[b.name]=S=>{const _=Mc("Part: "+b.name+" in "+n,fo(b.schema),S);return{...w,config:S,validated:_}}})}),i},Vh=(n,s)=>({uiType:Zv(),owner:n,name:s}),Rr=(n,s,i)=>({uiType:Zv(),owner:n,name:s,config:i,validated:{}}),Hi=n=>Le(n,s=>s.fold(F.none,F.some,F.none,F.none).map(i=>cf(i.name,i.schema.concat([jv(jh())]))).toArray()),$g=n=>He(n,gm),Pc=(n,s,i)=>yb(n,s,i),vb=(n,s,i)=>VC(F.some(n),s,s.components,i),Dr=(n,s,i)=>{const f=s.partUids[i];return n.getSystem().getByUid(f).toOptional()},ad=(n,s,i)=>Dr(n,s,i).getOrDie("Could not find part: "+i),Hf=(n,s,i)=>{const f={},b=s.partUids,w=n.getSystem();return ft(i,S=>{f[S]=ie(w.getByUid(b[S]))}),f},pm=(n,s)=>{const i=n.getSystem();return os(s.partUids,(f,b)=>ie(i.getByUid(f)))},id=n=>Do(n.partUids),Ry=(n,s,i)=>{const f={},b=s.partUids,w=n.getSystem();return ft(i,S=>{f[S]=ie(w.getByUid(b[S]).getOrDie())}),f},I2=(n,s)=>{const i=$g(s);return vc(He(i,f=>({key:f,value:n+"-"+f})))},Wm=n=>ml("partUids","partUids",lm(s=>I2(s.uid,n)),lf());var Ig=Object.freeze({__proto__:null,generate:Fg,generateOne:Rr,schemas:Hi,names:$g,substitutes:Pc,components:vb,defaultUids:I2,defaultUidsSchema:Wm,getAllParts:pm,getAllPartNames:id,getPart:Dr,getPartOrDie:ad,getParts:Hf,getPartsOrDie:Ry});const Qa=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],mu=(n,s,i,f=1)=>{const b=n*f,w=s*f,S=B=>Hn(i,B).getOr([]),_=(B,z,Z)=>{const K=xt(Qa,Z);return{offset:hr(B,z),classesOn:Le(Z,S),classesOff:Le(K,S)}};return{southeast:()=>_(-n,s,["top","alignLeft"]),southwest:()=>_(n,s,["top","alignRight"]),south:()=>_(-n/2,s,["top","alignCentre"]),northeast:()=>_(-n,-s,["bottom","alignLeft"]),northwest:()=>_(n,-s,["bottom","alignRight"]),north:()=>_(-n/2,-s,["bottom","alignCentre"]),east:()=>_(n,-s/2,["valignCentre","left"]),west:()=>_(-n,-s/2,["valignCentre","right"]),insetNortheast:()=>_(b,w,["top","alignLeft","inset"]),insetNorthwest:()=>_(-b,w,["top","alignRight","inset"]),insetNorth:()=>_(-b/2,w,["top","alignCentre","inset"]),insetSoutheast:()=>_(b,-w,["bottom","alignLeft","inset"]),insetSouthwest:()=>_(-b,-w,["bottom","alignRight","inset"]),insetSouth:()=>_(-b/2,-w,["bottom","alignCentre","inset"]),insetEast:()=>_(-b,-w/2,["valignCentre","right","inset"]),insetWest:()=>_(b,-w/2,["valignCentre","left","inset"])}},Qi=()=>mu(0,0,{}),nc=(n,s,i,f,b,w,S,_=!1)=>({x:n,y:s,bubble:i,direction:f,placement:b,restriction:w,label:`${S}-${b}`,alwaysFit:_}),ff=Ba.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),My=(n,s,i,f,b,w,S,_,B)=>n.fold(s,i,f,b,w,S,_,B),Uh=(n,s,i,f)=>n.fold(s,s,f,f,s,f,i,i),qm=(n,s,i,f)=>n.fold(s,f,s,f,i,i,s,f),Hg=ff.southeast,By=ff.southwest,xb=ff.northeast,Zh=ff.northwest,Gm=ff.south,Gv=ff.north,t1=ff.east,Kv=ff.west,Yv=(n,s)=>{switch(s){case 1:return n.x;case 0:return n.x+n.width;case 2:return n.y;case 3:return n.y+n.height}},gl=(n,s)=>Un(["left","right","top","bottom"],i=>Hn(s,i).map(f=>Yv(n,f))),zg=(n,s,i)=>{const f=(B,z)=>s[B].map(Z=>{const K=B==="top"||B==="bottom",ae=K?i.top:i.left,xe=(B==="left"||B==="top"?Math.max:Math.min)(Z,z)+ae;return K?us(xe,n.y,n.bottom):us(xe,n.x,n.right)}).getOr(z),b=f("left",n.x),w=f("top",n.y),S=f("right",n.right),_=f("bottom",n.bottom);return Pi(b,w,S-b,_-w)},ld="layout",Xv=n=>n.x,wb=(n,s)=>n.x+n.width/2-s.width/2,Cb=(n,s)=>n.x+n.width-s.width,Sb=(n,s)=>n.y-s.height,Ly=n=>n.y+n.height,Qv=(n,s)=>n.y+n.height/2-s.height/2,Jv=n=>n.x+n.width,Kp=(n,s)=>n.x-s.width,Ji=(n,s,i)=>nc(Xv(n),Ly(n),i.southeast(),Hg(),"southeast",gl(n,{left:1,top:3}),ld),Kr=(n,s,i)=>nc(Cb(n,s),Ly(n),i.southwest(),By(),"southwest",gl(n,{right:0,top:3}),ld),Al=(n,s,i)=>nc(Xv(n),Sb(n,s),i.northeast(),xb(),"northeast",gl(n,{left:1,bottom:2}),ld),kl=(n,s,i)=>nc(Cb(n,s),Sb(n,s),i.northwest(),Zh(),"northwest",gl(n,{right:0,bottom:2}),ld),ya=(n,s,i)=>nc(wb(n,s),Sb(n,s),i.north(),Gv(),"north",gl(n,{bottom:2}),ld),Oi=(n,s,i)=>nc(wb(n,s),Ly(n),i.south(),Gm(),"south",gl(n,{top:3}),ld),Km=(n,s,i)=>nc(Jv(n),Qv(n,s),i.east(),t1(),"east",gl(n,{left:0}),ld),Hd=(n,s,i)=>nc(Kp(n,s),Qv(n,s),i.west(),Kv(),"west",gl(n,{right:1}),ld),Py=()=>[Ji,Kr,Al,kl,Oi,ya,Km,Hd],Eb=()=>[Kr,Ji,kl,Al,Oi,ya,Km,Hd],zf=()=>[Al,kl,Ji,Kr,ya,Oi],ex=()=>[kl,Al,Kr,Ji,ya,Oi],tx=()=>[Ji,Kr,Al,kl,Oi,ya],Wh=()=>[Kr,Ji,kl,Al,Oi,ya],Fy="data-alloy-placement",n1=(n,s)=>{uo(n,Fy,s)},H2=n=>li(n,Fy),Tb=n=>cr(n,Fy),bm="layout-inset",$y=n=>n.x,Ab=(n,s)=>n.x+n.width/2-s.width/2,o1=(n,s)=>n.x+n.width-s.width,jg=n=>n.y,Ym=(n,s)=>n.y+n.height-s.height,Vg=(n,s)=>n.y+n.height/2-s.height/2,s1=(n,s,i)=>nc(o1(n,s),Ym(n,s),i.insetSouthwest(),Zh(),"southwest",gl(n,{right:0,bottom:3}),bm),Iy=(n,s,i)=>nc($y(n),Ym(n,s),i.insetSoutheast(),xb(),"southeast",gl(n,{left:1,bottom:3}),bm),jf=(n,s,i)=>nc(o1(n,s),jg(n),i.insetNorthwest(),By(),"northwest",gl(n,{right:0,top:2}),bm),Il=(n,s,i)=>nc($y(n),jg(n),i.insetNortheast(),Hg(),"northeast",gl(n,{left:1,top:2}),bm),oc=(n,s,i)=>nc(Ab(n,s),jg(n),i.insetNorth(),Gm(),"north",gl(n,{top:2}),bm),qh=(n,s,i)=>nc(Ab(n,s),Ym(n,s),i.insetSouth(),Gv(),"south",gl(n,{bottom:3}),bm),_t=(n,s,i)=>nc(o1(n,s),Vg(n,s),i.insetEast(),Kv(),"east",gl(n,{right:0}),bm),Yp=(n,s,i)=>nc($y(n),Vg(n,s),i.insetWest(),t1(),"west",gl(n,{left:1}),bm),Hy=n=>{switch(n){case"north":return oc;case"northeast":return Il;case"northwest":return jf;case"south":return qh;case"southeast":return Iy;case"southwest":return s1;case"east":return _t;case"west":return Yp}},Fc=(n,s,i,f,b)=>H2(f).map(Hy).getOr(oc)(n,s,i,f,b),Xp=n=>{switch(n){case"north":return qh;case"northeast":return Iy;case"northwest":return s1;case"south":return oc;case"southeast":return Il;case"southwest":return jf;case"east":return Yp;case"west":return _t}},ym=(n,s,i,f,b)=>H2(f).map(Xp).getOr(oc)(n,s,i,f,b),zy=(n,s)=>{_f(n,Math.floor(s))},nx=ie((n,s)=>{zy(n,s),Or(n,{"overflow-x":"hidden","overflow-y":"auto"})}),Gh=ie((n,s)=>{zy(n,s)}),kb=ie((n,s)=>{wg(n,Math.floor(s))});var Vf;(function(n){n.TopToBottom="toptobottom",n.BottomToTop="bottomtotop"})(Vf||(Vf={}));const Qp="data-alloy-vertical-dir",jy=n=>Di(n,s=>Yc(s)&&ea(s,"data-alloy-vertical-dir")===Vf.BottomToTop);var Ec;(function(n){n[n.HighlightMenuAndItem=0]="HighlightMenuAndItem",n[n.HighlightJustMenu=1]="HighlightJustMenu",n[n.HighlightNone=2]="HighlightNone"})(Ec||(Ec={}));const cd={init:()=>ud({readState:ie("No State required")})},ud=n=>n,z2={can:Lt,abort:vt,run:J},Jp=n=>{if(!Oo(n,"can")&&!Oo(n,"abort")&&!Oo(n,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(n,null,2)+" does not have can, abort, or run!");return{...z2,...n}},ox=(n,s)=>(...i)=>Ho(n,(f,b)=>f&&s(b).apply(void 0,i),!0),Db=(n,s)=>(...i)=>Ho(n,(f,b)=>f||s(b).apply(void 0,i),!1),sx=n=>be(n)?{can:Lt,abort:vt,run:n}:n,rx=n=>{const s=ox(n,b=>b.can),i=Db(n,b=>b.abort);return{can:s,abort:i,run:(...b)=>{ft(n,w=>{w.run.apply(void 0,b)})}}},fs=(n,s)=>{a1(n,n.element,s,{})},so=(n,s,i)=>{a1(n,n.element,s,i)},r1=n=>{fs(n,Ls())},Vy=(n,s,i)=>{a1(n,s,i,{})},a1=(n,s,i,f)=>{const b={target:s,...f};n.getSystem().triggerEvent(i,s,b)},ax=(n,s,i,f)=>{const b={...f,target:s};n.getSystem().triggerEvent(i,s,b)},i1=(n,s,i,f)=>{n.getSystem().triggerEvent(i,s,f.event)},oa=n=>vc(n),_b=(n,s)=>({key:n,value:Jp({abort:s})}),l1=(n,s)=>({key:n,value:Jp({can:s})}),Xm=n=>({key:n,value:Jp({run:(s,i)=>{i.event.prevent()}})}),Mt=(n,s)=>({key:n,value:Jp({run:s})}),mf=(n,s,i)=>({key:n,value:Jp({run:(f,b)=>{s.apply(void 0,[f,b].concat(i))}})}),vm=n=>s=>Mt(n,s),zd=n=>s=>({key:n,value:Jp({run:(i,f)=>{gy(i,f)&&s(i,f)}})}),Tc=(n,s)=>Mt(n,(i,f)=>{i.getSystem().getByUid(s).each(b=>{i1(b,b.element,n,f)})}),Qm=(n,s,i)=>{const f=s.partUids[i];return Tc(n,f)},e0=(n,s)=>Mt(n,(i,f)=>{const b=f.event,w=i.getSystem().getByDom(b.target).getOrThunk(()=>Cr(b.target,_=>i.getSystem().getByDom(_).toOptional(),vt).getOr(i));s(i,w,f)}),xm=n=>Mt(n,(s,i)=>{i.cut()}),ZC=n=>Mt(n,(s,i)=>{i.stop()}),t0=(n,s)=>zd(n)(s),Lr=zd(Lc()),hf=zd(wc()),ix=zd(Ff()),wm=vm(Ls()),jd=n=>({classes:Ce(n.classes)?[]:n.classes,attributes:Ce(n.attributes)?{}:n.attributes,styles:Ce(n.styles)?{}:n.styles}),sc=(n,s)=>({...n,attributes:{...n.attributes,...s.attributes},styles:{...n.styles,...s.styles},classes:n.classes.concat(s.classes)}),n0=(n,s,i)=>wm(f=>{i(f,n,s)}),Uy=(n,s,i)=>ix((f,b)=>{i(f,n,s)}),Zy=(n,s,i,f,b,w)=>{const S=Lu(n),_=$i(s,[_2("config",n)]);return Ob(S,_,s,i,f,b,w)},Wy=(n,s,i,f,b,w)=>{const S=n,_=$i(s,[um("config",n)]);return Ob(S,_,s,i,f,b,w)},j2=(n,s,i)=>Vv((b,...w)=>{const S=[b].concat(w);return b.config({name:ie(n)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+n+". Using API: "+i)},_=>{const B=Array.prototype.slice.call(S,1);return s.apply(void 0,[b,_.config,_.state].concat(B))})},i,s),lx=n=>({key:n,value:void 0}),Ob=(n,s,i,f,b,w,S)=>{const _=K=>Oo(K,i)?K[i]():F.none(),B=os(b,(K,ae)=>j2(i,K,ae)),Z={...os(w,(K,ae)=>hb(K,ae)),...B,revoke:fn(lx,i),config:K=>{const ae=Mc(i+"-config",n,K);return{key:i,value:{config:ae,me:Z,configAsRaw:rl(()=>Mc(i+"-config",n,K)),initialConfig:K,state:S}}},schema:ie(s),exhibit:(K,ae)=>As(_(K),Hn(f,"exhibit"),(he,xe)=>xe(ae,he.config,he.state)).getOrThunk(()=>jd({})),name:ie(i),handlers:K=>_(K).map(ae=>Hn(f,"events").getOr(()=>({}))(ae.config,ae.state)).getOr({})};return Z},a=n=>vc(n),d=Lu([qt("fields"),qt("name"),bt("active",{}),bt("apis",{}),bt("state",cd),bt("extra",{})]),g=n=>{const s=Mc("Creating behaviour: "+n.name,d,n);return Zy(s.fields,s.name,s.active,s.apis,s.extra,s.state)},C=Lu([qt("branchKey"),qt("branches"),qt("name"),bt("active",{}),bt("apis",{}),bt("state",cd),bt("extra",{})]),N=n=>{const s=Mc("Creating behaviour: "+n.name,C,n);return Wy(Kl(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},$=ie(void 0),se=(n,s)=>{const i=oa(s);return g({fields:[qt("enabled")],name:n,active:{events:ie(i)}})},fe=(n,s)=>{const i=se(n,s);return{key:n,value:{config:{},me:i,configAsRaw:ie({}),initialConfig:{},state:cd}}},ct=n=>({init:()=>{const i=Mn(n);return{get:()=>i.get(),set:_=>i.set(_),clear:()=>i.set(n),readState:()=>i.get()}}}),Zt=(n,s)=>{s.ignore||(Fa(n.element),s.onFocus(n))};var Qt=Object.freeze({__proto__:null,focus:Zt,blur:(n,s)=>{s.ignore||ma(n.element)},isFocused:n=>Jc(n.element)}),Ns=Object.freeze({__proto__:null,exhibit:(n,s)=>{const i=s.ignore?{}:{attributes:{tabindex:"-1"}};return jd(i)},events:n=>oa([Mt(Pf(),(s,i)=>{Zt(s,n),i.stop()})].concat(n.stopMousedown?[Mt(uu(),(s,i)=>{i.event.prevent()})]:[]))}),mi=[Ps("onFocus"),bt("stopMousedown",!1),bt("ignore",!1)];const et=g({fields:mi,name:"focusing",active:Ns,apis:Qt}),gt=[8],zt=[9],hn=[13],ms=[27],Us=[32],Go=[37],rr=[38],Mr=[39],zr=[40],gf=ie("tooltipping.close.all"),Jm=ie("dismiss.popups"),pl=ie("reposition.popups"),o0=ie("mouse.released"),LT=(n,s,i)=>{const f=Nt(n.slice(0,s)),b=Nt(n.slice(s+1));return Be(f.concat(b),i)},WC=(n,s,i)=>{const f=Nt(n.slice(0,s));return Be(f,i)},PT=(n,s,i)=>{const f=n.slice(0,s),b=n.slice(s+1);return Be(b.concat(f),i)},uD=(n,s,i)=>{const f=n.slice(s+1);return Be(f,i)},Zs=n=>s=>{const i=s.raw;return Ve(n,i.which)},eh=n=>s=>Je(n,i=>i(s)),c1=n=>n.raw.shiftKey===!0,CB=n=>n.raw.ctrlKey===!0,qy=qe(c1),Ks=(n,s)=>({matches:n,classification:s}),dD=(n,s)=>Be(n,f=>f.matches(s)).map(f=>f.classification),fD=(n,s,i,f)=>{const b=ta(n.element,"."+s.highlightClass);ft(b,w=>{It(f,_=>oe(_.element,w))||(ha(w,s.highlightClass),n.getSystem().getByDom(w).each(_=>{s.onDehighlight(n,_),fs(_,Hp())}))})},SB=(n,s,i)=>fD(n,s,i,[]),EB=(n,s,i,f)=>{dx(n,s,i,f)&&(ha(f.element,s.highlightClass),s.onDehighlight(n,f),fs(f,Hp()))},cx=(n,s,i,f)=>{fD(n,s,i,[f]),dx(n,s,i,f)||(nr(f.element,s.highlightClass),s.onHighlight(n,f),fs(f,fb()))},mD=(n,s,i)=>{V2(n,s).each(f=>{cx(n,s,i,f)})},hD=(n,s,i)=>{qC(n,s).each(f=>{cx(n,s,i,f)})},ux=(n,s,i,f)=>{pD(n,s,i,f).fold(b=>{throw b},b=>{cx(n,s,i,b)})},gD=(n,s,i,f)=>{const b=IT(n,s);Be(b,f).each(S=>{cx(n,s,i,S)})},dx=(n,s,i,f)=>Da(f.element,s.highlightClass),FT=(n,s,i)=>ur(n.element,"."+s.highlightClass).bind(f=>n.getSystem().getByDom(f).toOptional()),pD=(n,s,i,f)=>{const b=ta(n.element,"."+s.itemClass);return F.from(b[f]).fold(()=>Pn.error(new Error("No element found with index "+f)),n.getSystem().getByDom)},V2=(n,s,i)=>ur(n.element,"."+s.itemClass).bind(f=>n.getSystem().getByDom(f).toOptional()),qC=(n,s,i)=>{const f=ta(n.element,"."+s.itemClass);return(f.length>0?F.some(f[f.length-1]):F.none()).bind(w=>n.getSystem().getByDom(w).toOptional())},GC=(n,s,i,f)=>{const b=ta(n.element,"."+s.itemClass);return Ye(b,S=>Da(S,s.highlightClass)).bind(S=>{const _=Zo(S,f,0,b.length-1);return n.getSystem().getByDom(b[_]).toOptional()})},$T=(n,s,i)=>GC(n,s,i,-1),bD=(n,s,i)=>GC(n,s,i,1),IT=(n,s,i)=>{const f=ta(n.element,"."+s.itemClass);return Uo(He(f,b=>n.getSystem().getByDom(b).toOptional()))};var KC=Object.freeze({__proto__:null,dehighlightAll:SB,dehighlight:EB,highlight:cx,highlightFirst:mD,highlightLast:hD,highlightAt:ux,highlightBy:gD,isHighlighted:dx,getHighlighted:FT,getFirst:V2,getLast:qC,getPrevious:$T,getNext:bD,getCandidates:IT}),HT=[qt("highlightClass"),qt("itemClass"),Ps("onHighlight"),Ps("onDehighlight")];const fr=g({fields:HT,name:"highlighting",apis:KC}),zT=(n,s,i)=>{s.exists(b=>i.exists(w=>oe(w,b)))||so(n,$h(),{prevFocus:s,newFocus:i})},YC=()=>{const n=i=>ii(i.element);return{get:n,set:(i,f)=>{const b=n(i);i.getSystem().triggerFocus(f,i.element);const w=n(i);zT(i,b,w)}}},U2=()=>{const n=i=>fr.getHighlighted(i).map(f=>f.element);return{get:n,set:(i,f)=>{const b=n(i);i.getSystem().getByDom(f).fold(J,S=>{fr.highlight(i,S)});const w=n(i);zT(i,b,w)}}},s0=(n,s,i,f,b)=>{const w=()=>n.concat([bt("focusManager",YC()),ed("focusInside","onFocus",cm(z=>Ve(["onFocus","onEnterOrSpace","onApi"],z)?Pn.value(z):Pn.error("Invalid value for focusInside"))),sr("handler",B),sr("state",s),sr("sendFocusIn",b)]),S=(z,Z,K,ae,he)=>{const xe=K(z,Z,ae,he);return dD(xe,Z.event).bind(_e=>_e(z,Z,ae,he))},B={schema:w,processKey:S,toEvents:(z,Z)=>{const K=z.focusInside!==Pg.OnFocusMode?F.none():b(z).map(xe=>Mt(Pf(),(_e,ze)=>{xe(_e,z,Z),ze.stop()})),ae=(xe,_e)=>{const ze=Zs(Us.concat(hn))(_e.event);z.focusInside===Pg.OnEnterOrSpaceMode&&ze&&gy(xe,_e)&&b(z).each(Ee=>{Ee(xe,z,Z),_e.stop()})},he=[Mt(Ki(),(xe,_e)=>{S(xe,_e,i,z,Z).fold(()=>{ae(xe,_e)},ze=>{_e.stop()})}),Mt(Pu(),(xe,_e)=>{S(xe,_e,f,z,Z).each(ze=>{_e.stop()})})];return oa(K.toArray().concat(he))}};return B},XC=n=>{const s=[vr("onEscape"),vr("onEnter"),bt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),bt("firstTabstop",0),bt("useTabstopAt",Lt),vr("visibilitySelector")].concat([n]),i=(Ee,Xe)=>{const st=Ee.visibilitySelector.bind(wt=>yi(Xe,wt)).getOr(Xe);return bi(st)>0},f=(Ee,Xe)=>{const st=ta(Ee.element,Xe.selector),wt=xo(st,Ot=>i(Xe,Ot));return F.from(wt[Xe.firstTabstop])},b=(Ee,Xe)=>Xe.focusManager.get(Ee).bind(st=>yi(st,Xe.selector)),w=(Ee,Xe)=>i(Ee,Xe)&&Ee.useTabstopAt(Xe),S=(Ee,Xe,st)=>{f(Ee,Xe).each(wt=>{Xe.focusManager.set(Ee,wt)})},_=(Ee,Xe,st,wt,Ot)=>Ot(Xe,st,kn=>w(wt,kn)).fold(()=>wt.cyclic?F.some(!0):F.none(),kn=>(wt.focusManager.set(Ee,kn),F.some(!0))),B=(Ee,Xe,st,wt)=>{const Ot=xo(ta(Ee.element,st.selector),kn=>i(st,kn));return b(Ee,st).bind(kn=>Ye(Ot,fn(oe,kn)).bind(rn=>_(Ee,Ot,rn,st,wt)))},z=(Ee,Xe,st)=>{const wt=st.cyclic?LT:WC;return B(Ee,Xe,st,wt)},Z=(Ee,Xe,st)=>{const wt=st.cyclic?PT:uD;return B(Ee,Xe,st,wt)},K=Ee=>vp(Ee).bind(ss).exists(Xe=>oe(Xe,Ee)),ae=(Ee,Xe,st)=>b(Ee,st).filter(wt=>!st.useTabstopAt(wt)).bind(wt=>(K(wt)?z:Z)(Ee,Xe,st)),he=(Ee,Xe,st)=>st.onEnter.bind(wt=>wt(Ee,Xe)),xe=(Ee,Xe,st)=>(Ee.getSystem().broadcastOn([gf()],{closedTooltip:()=>{Xe.stop()}}),Xe.isStopped()?F.none():st.onEscape.bind(wt=>wt(Ee,Xe))),_e=ie([Ks(eh([c1,Zs(zt)]),z),Ks(Zs(zt),Z),Ks(eh([qy,Zs(hn)]),he)]),ze=ie([Ks(Zs(ms),xe),Ks(Zs(zt),ae)]);return s0(s,cd.init,_e,ze,()=>F.some(S))};var yD=XC(yc("cyclic",vt)),jT=XC(yc("cyclic",Lt));const Gy=n=>Nl("input")(n)&&ea(n,"type")!=="radio"||Nl("textarea")(n),VT=(n,s,i)=>(Vy(n,i,Ls()),F.some(!0)),fx=(n,s,i)=>Gy(i)&&Zs(Us)(s.event)?F.none():VT(n,s,i),mx=(n,s)=>F.some(!0),QC=[bt("execute",fx),bt("useSpace",!1),bt("useEnter",!0),bt("useControlEnter",!1),bt("useDown",!1)],u1=(n,s,i)=>i.execute(n,s,n.element),UT=(n,s,i,f)=>{const b=i.useSpace&&!Gy(n.element)?Us:[],w=i.useEnter?hn:[],S=i.useDown?zr:[],_=b.concat(w).concat(S);return[Ks(Zs(_),u1)].concat(i.useControlEnter?[Ks(eh([CB,Zs(hn)]),u1)]:[])},ZT=(n,s,i,f)=>i.useSpace&&!Gy(n.element)?[Ks(Zs(Us),mx)]:[];var WT=s0(QC,cd.init,UT,ZT,()=>F.none());const qT=()=>{const n=Co();return ud({readState:()=>n.get().map(b=>({numRows:String(b.numRows),numColumns:String(b.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(b,w)=>{n.set({numRows:b,numColumns:w})},getNumRows:()=>n.get().map(b=>b.numRows),getNumColumns:()=>n.get().map(b=>b.numColumns)})};var GT=Object.freeze({__proto__:null,flatgrid:qT,init:n=>n.state(n)});const Z2=n=>(s,i,f,b)=>{const w=n(s.element);return G2(w,s,i,f,b)},W2=(n,s)=>{const i=Eg(n,s);return Z2(i)},hx=(n,s)=>{const i=Eg(s,n);return Z2(i)},q2=n=>(s,i,f,b)=>G2(n,s,i,f,b),G2=(n,s,i,f,b)=>f.focusManager.get(s).bind(S=>n(s.element,S,f,b)).map(S=>(f.focusManager.set(s,S),!0)),jn=q2,d1=q2,Ug=q2,gx=(n,s)=>Ye(n,s).map(i=>({index:i,candidates:n})),KT=(n,s,i)=>{const f=S=>oe(S,s),b=ta(n,i),w=xo(b,qa);return gx(w,f)},JC=(n,s)=>Ye(n,i=>oe(s,i)),eS=(n,s,i,f)=>{const b=Math.floor(s/i),w=s%i;return f(b,w).bind(S=>{const _=S.row*i+S.column;return _>=0&&_<n.length?F.some(n[_]):F.none()})},YT=(n,s,i,f,b)=>eS(n,s,f,(w,S)=>{const B=w===i-1?n.length-w*f:f,z=Zo(S,b,0,B-1);return F.some({row:w,column:z})}),XT=(n,s,i,f,b)=>eS(n,s,f,(w,S)=>{const _=Zo(w,b,0,i-1),z=_===i-1?n.length-_*f:f,Z=us(S,0,z-1);return F.some({row:_,column:Z})}),QT=(n,s,i,f)=>YT(n,s,i,f,1),K2=(n,s,i,f)=>YT(n,s,i,f,-1),bl=(n,s,i,f)=>XT(n,s,i,f,-1),th=(n,s,i,f)=>XT(n,s,i,f,1),Y2=[qt("selector"),bt("execute",fx),tc("onEscape"),bt("captureTab",!1),mb()],JT=(n,s,i)=>{ur(n.element,s.selector).each(f=>{s.focusManager.set(n,f)})},eA=(n,s)=>s.focusManager.get(n).bind(i=>yi(i,s.selector)),tA=(n,s,i,f)=>eA(n,i).bind(b=>i.execute(n,s,b)),X2=n=>(s,i,f,b)=>KT(s,i,f.selector).bind(w=>n(w.candidates,w.index,b.getNumRows().getOr(f.initSize.numRows),b.getNumColumns().getOr(f.initSize.numColumns))),tS=(n,s,i)=>i.captureTab?F.some(!0):F.none(),nA=(n,s,i)=>i.onEscape(n,s),oA=X2(K2),px=X2(QT),nS=X2(bl),Q2=X2(th),oS=ie([Ks(Zs(Go),W2(oA,px)),Ks(Zs(Mr),hx(oA,px)),Ks(Zs(rr),jn(nS)),Ks(Zs(zr),d1(Q2)),Ks(eh([c1,Zs(zt)]),tS),Ks(eh([qy,Zs(zt)]),tS),Ks(Zs(Us.concat(hn)),tA)]),vD=ie([Ks(Zs(ms),nA),Ks(Zs(Us),mx)]);var sA=s0(Y2,qT,oS,vD,()=>F.some(JT));const rA=(n,s,i,f,b)=>{const w=_=>vd(_)==="button"&&ea(_,"disabled")==="disabled",S=(_,B,z)=>b(_,B,f,0,z.length-1,z[B],Z=>w(z[Z])?S(_,Z,z):F.from(z[Z]));return KT(n,i,s).bind(_=>{const B=_.index,z=_.candidates;return S(B,B,z)})},J2=(n,s,i,f)=>rA(n,s,i,f,(b,w,S,_,B,z,Z)=>{const K=us(w+S,_,B);return K===b?F.from(z):Z(K)}),Nb=(n,s,i,f)=>rA(n,s,i,f,(b,w,S,_,B,z,Z)=>{const K=Zo(w,S,_,B);return K===b?F.none():Z(K)}),aA=[qt("selector"),bt("getInitial",F.none),bt("execute",fx),tc("onEscape"),bt("executeOnMove",!1),bt("allowVertical",!0),bt("allowHorizontal",!0),bt("cycles",!0)],iA=(n,s)=>s.focusManager.get(n).bind(i=>yi(i,s.selector)),ew=(n,s,i)=>iA(n,i).bind(f=>i.execute(n,s,f)),xD=(n,s,i)=>{s.getInitial(n).orThunk(()=>ur(n.element,s.selector)).each(f=>{s.focusManager.set(n,f)})},wD=(n,s,i)=>(i.cycles?Nb:J2)(n,i.selector,s,-1),Rb=(n,s,i)=>(i.cycles?Nb:J2)(n,i.selector,s,1),sS=n=>(s,i,f,b)=>n(s,i,f,b).bind(()=>f.executeOnMove?ew(s,i,f):F.some(!0)),CD=(n,s,i)=>i.onEscape(n,s),SD=(n,s,i,f)=>{const b=[...i.allowHorizontal?Go:[]].concat(i.allowVertical?rr:[]),w=[...i.allowHorizontal?Mr:[]].concat(i.allowVertical?zr:[]);return[Ks(Zs(b),sS(W2(wD,Rb))),Ks(Zs(w),sS(hx(wD,Rb))),Ks(Zs(hn),ew),Ks(Zs(Us),ew)]},lA=ie([Ks(Zs(Us),mx),Ks(Zs(ms),CD)]);var ED=s0(aA,cd.init,SD,lA,()=>F.some(xD));const rS=(n,s,i)=>F.from(n[s]).bind(f=>F.from(f[i]).map(b=>({rowIndex:s,columnIndex:i,cell:b}))),tw=(n,s,i,f)=>{const w=n[s].length,S=Zo(i,f,0,w-1);return rS(n,s,S)},aS=(n,s,i,f)=>{const b=Zo(i,f,0,n.length-1),w=n[b].length,S=us(s,0,w-1);return rS(n,b,S)},Zg=(n,s,i,f)=>{const w=n[s].length,S=us(i+f,0,w-1);return rS(n,s,S)},cA=(n,s,i,f)=>{const b=us(i+f,0,n.length-1),w=n[b].length,S=us(s,0,w-1);return rS(n,b,S)},nw=(n,s,i)=>tw(n,s,i,1),TD=(n,s,i)=>tw(n,s,i,-1),f1=(n,s,i)=>aS(n,i,s,-1),AD=(n,s,i)=>aS(n,i,s,1),kD=(n,s,i)=>Zg(n,s,i,-1),AB=(n,s,i)=>Zg(n,s,i,1),kB=(n,s,i)=>cA(n,i,s,-1),Ky=(n,s,i)=>cA(n,i,s,1),bx=[cf("selectors",[qt("row"),qt("cell")]),bt("cycles",!0),bt("previousSelector",F.none),bt("execute",fx)],iS=(n,s,i)=>{s.previousSelector(n).orThunk(()=>{const b=s.selectors;return ur(n.element,b.cell)}).each(b=>{s.focusManager.set(n,b)})},DD=(n,s,i)=>ii(n.element).bind(f=>i.execute(n,s,f)),_D=(n,s)=>He(n,i=>ta(i,s.selectors.cell)),ow=(n,s)=>(i,f,b)=>{const w=b.cycles?n:s;return yi(f,b.selectors.row).bind(S=>{const _=ta(S,b.selectors.cell);return JC(_,f).bind(B=>{const z=ta(i,b.selectors.row);return JC(z,S).bind(Z=>{const K=_D(z,b);return w(K,Z,B).map(ae=>ae.cell)})})})},uA=ow(TD,kD),dA=ow(nw,AB),yx=ow(f1,kB),sw=ow(AD,Ky),lS=ie([Ks(Zs(Go),W2(uA,dA)),Ks(Zs(Mr),hx(uA,dA)),Ks(Zs(rr),jn(yx)),Ks(Zs(zr),d1(sw)),Ks(Zs(Us.concat(hn)),DD)]),vx=ie([Ks(Zs(Us),mx)]);var cS=s0(bx,cd.init,lS,vx,()=>F.some(iS));const OD=[qt("selector"),bt("execute",fx),bt("moveOnTab",!1)],xx=(n,s,i)=>i.focusManager.get(n).bind(f=>i.execute(n,s,f)),fA=(n,s,i)=>{ur(n.element,s.selector).each(f=>{s.focusManager.set(n,f)})},rw=(n,s,i)=>Nb(n,i.selector,s,-1),aw=(n,s,i)=>Nb(n,i.selector,s,1),Mb=(n,s,i,f)=>i.moveOnTab?Ug(rw)(n,s,i,f):F.none(),ND=(n,s,i,f)=>i.moveOnTab?Ug(aw)(n,s,i,f):F.none(),Wg=ie([Ks(Zs(rr),Ug(rw)),Ks(Zs(zr),Ug(aw)),Ks(eh([c1,Zs(zt)]),Mb),Ks(eh([qy,Zs(zt)]),ND),Ks(Zs(hn),xx),Ks(Zs(Us),xx)]),RD=ie([Ks(Zs(Us),mx)]);var mA=s0(OD,cd.init,Wg,RD,()=>F.some(fA));const MD=[tc("onSpace"),tc("onEnter"),tc("onShiftEnter"),tc("onLeft"),tc("onRight"),tc("onTab"),tc("onShiftTab"),tc("onUp"),tc("onDown"),tc("onEscape"),bt("stopSpaceKeyup",!1),vr("focusIn")],DB=(n,s,i)=>[Ks(Zs(Us),i.onSpace),Ks(eh([qy,Zs(hn)]),i.onEnter),Ks(eh([c1,Zs(hn)]),i.onShiftEnter),Ks(eh([c1,Zs(zt)]),i.onShiftTab),Ks(eh([qy,Zs(zt)]),i.onTab),Ks(Zs(rr),i.onUp),Ks(Zs(zr),i.onDown),Ks(Zs(Go),i.onLeft),Ks(Zs(Mr),i.onRight),Ks(Zs(Us),i.onSpace)],iw=(n,s,i)=>[...i.stopSpaceKeyup?[Ks(Zs(Us),mx)]:[],Ks(Zs(ms),i.onEscape)];var BD=s0(MD,cd.init,DB,iw,n=>n.focusIn);const LD=yD.schema(),PD=jT.schema(),uS=ED.schema(),FD=sA.schema(),hA=cS.schema(),dS=WT.schema(),$D=mA.schema(),ID=BD.schema();var fS=Object.freeze({__proto__:null,acyclic:LD,cyclic:PD,flow:uS,flatgrid:FD,matrix:hA,execution:dS,menu:$D,special:ID});const gA=n=>Oo(n,"setGridSize"),lo=N({branchKey:"mode",branches:fS,name:"keying",active:{events:(n,s)=>n.handler.toEvents(n,s)},apis:{focusIn:(n,s,i)=>{s.sendFocusIn(s).fold(()=>{n.getSystem().triggerFocus(n.element,n.element)},f=>{f(n,s,i)})},setGridSize:(n,s,i,f,b)=>{gA(i)?i.setGridSize(f,b):console.error("Layout does not support setGridSize")}},state:GT}),wx=me("alloy-premade"),pA=n=>(Object.defineProperty(n.element.dom,wx,{value:n.uid,writable:!0}),za(wx,n)),HD=n=>ts(n.dom,wx),mS=n=>Hn(n,wx),Cx=n=>R2((s,...i)=>n(s.getApis(),s,...i),n),lw=n=>n.getSystem().isConnected(),Sx=n=>{fs(n,wc());const s=n.components();ft(s,Sx)},Yy=n=>{const s=n.components();ft(s,Yy),fs(n,Lc())},hS=(n,s)=>{n.getSystem().addToWorld(s),Is(n.element)&&Yy(s)},gS=n=>{Sx(n),n.getSystem().removeFromWorld(n)},bA=(n,s)=>{ra(n.element,s.element)},pS=n=>{ft(n.components(),s=>eu(s.element)),Cp(n.element),n.syncComponents()},yA=(n,s,i)=>{const f=n.components();pS(n);const b=i(s),w=xt(f,b);ft(w,S=>{Sx(S),n.getSystem().removeFromWorld(S)}),ft(b,S=>{lw(S)?bA(n,S):(n.getSystem().addToWorld(S),bA(n,S),Is(n.element)&&Yy(S))}),n.syncComponents()},Xy=(n,s,i)=>{const f=n.components(),b=Le(s,_=>mS(_).toArray());ft(f,_=>{Ve(b,_)||gS(_)});const w=i(s),S=xt(f,w);ft(S,_=>{lw(_)&&gS(_)}),ft(w,_=>{lw(_)||hS(n,_)}),n.syncComponents()},r0=(n,s)=>{Qy(n,s,ra)},Qy=(n,s,i)=>{n.getSystem().addToWorld(s),i(n.element,s.element),Is(n.element)&&Yy(s),n.syncComponents()},a0=n=>{Sx(n),eu(n.element),n.getSystem().removeFromWorld(n)},i0=n=>{const s=xl(n.element).bind(i=>n.getSystem().getByDom(i).toOptional());a0(n),s.each(i=>{i.syncComponents()})},vA=n=>{const s=n.components();ft(s,a0),Cp(n.element),n.syncComponents()},Ex=(n,s)=>{xA(n,s,ra)},nh=(n,s)=>{xA(n,s,xp)},xA=(n,s,i)=>{i(n,s.element);const f=Zu(s.element);ft(f,b=>{s.getByDom(b).each(Yy)})},wA=n=>{const s=Zu(n.element);ft(s,i=>{n.getByDom(i).each(Sx)}),eu(n.element)},bS=(n,s,i)=>tm(n,s).map(b=>{if(i.exists(S=>!oe(S,b))){const S=i.map(vd).getOr("span"),_=mn.fromTag(S);return om(b,_),_}else return b}),yS=(n,s,i)=>{i.fold(()=>ra(n,s),f=>{oe(f,s)||(om(f,s),eu(f))})},CA=(n,s,i)=>{const f=He(s,i),b=Zu(n);return ft(b.slice(f.length),eu),f},SA=(n,s,i,f)=>{const b=tm(n,s),w=f(i,b),S=bS(n,s,b);return yS(n,w.element,S),w},zD=(n,s,i)=>CA(n,s,(f,b)=>SA(n,b,f,i)),EA=(n,s)=>CA(n,s,(i,f)=>{const b=tm(n,f);return yS(n,i,b),i}),Bb=(n,s)=>{const i=Ai(s),f=ai(i).bind(w=>{const S=_=>oe(w,_);return S(s)?F.some(s):Tg(s,S)}),b=n(s);return f.each(w=>{ai(i).filter(S=>oe(S,w)).fold(()=>{Fa(w)},J)}),b},vS=(n,s)=>{Bb(()=>{yA(n,s,()=>He(s,n.getSystem().build))},n.element)},TA=(n,s)=>{Bb(()=>{Xy(n,s,()=>zD(n.element,s,n.getSystem().buildOrPatch))},n.element)},xS=(n,s,i,f)=>{gS(s);const b=SA(n.element,i,f,n.getSystem().buildOrPatch);hS(n,b),n.syncComponents()},wS=(n,s,i)=>{const f=n.getSystem().build(i);Qy(n,f,s)},CS=(n,s,i,f)=>{i0(s),wS(n,(b,w)=>Mm(b,w,i),f)},jD=(n,s,i,f)=>(s.reuseDom?TA:vS)(n,f),Lb=(n,s,i,f)=>{wS(n,ra,f)},Pb=(n,s,i,f)=>{wS(n,wp,f)},cw=(n,s,i,f)=>{const b=uw(n);Be(b,S=>oe(f.element,S.element)).each(i0)},uw=(n,s)=>n.components(),AA=(n,s,i,f,b)=>{const w=uw(n);return F.from(w[f]).map(S=>(b.fold(()=>i0(S),_=>{(s.reuseDom?xS:CS)(n,S,f,_)}),S))};var kA=Object.freeze({__proto__:null,append:Lb,prepend:Pb,remove:cw,replaceAt:AA,replaceBy:(n,s,i,f,b)=>{const w=uw(n);return Ye(w,f).bind(S=>AA(n,s,i,S,b))},set:jD,contents:uw});const jo=g({fields:[Gi("reuseDom",!0)],name:"replacing",apis:kA}),dw=(n,s,i)=>oe(s,n.element)&&!oe(s,i),Uf=oa([l1(Pf(),(n,s)=>{const i=s.event,f=i.originator,b=i.target;return dw(n,f,b)?(console.warn(Pf()+` did not get interpreted by the desired target. 
Originator: `+Bd(f)+`
Target: `+Bd(b)+`
Check the `+Pf()+" event handlers"),!1):!0})]);var Tx=Object.freeze({__proto__:null,events:Uf});const UD=ie("alloy-id-"),fw=ie("data-alloy-id"),ZD=UD(),SS=fw(),ES=(n,s)=>{const i=me(ZD+n);return Ax(s,i),i},Ax=(n,s)=>{Object.defineProperty(n.dom,SS,{value:s,writable:!0})},Kh=n=>{const s=Yc(n)?n.dom[SS]:null;return F.from(s)},Jy=n=>me(n),WD=ut,Fb=n=>{const s=b=>`The component must be in a context to execute: ${b}`+(n?`
`+Bd(n().element)+" is not in context.":""),i=b=>()=>{throw new Error(s(b))},f=b=>()=>{console.warn(s(b))};return{debugInfo:ie("fake"),triggerEvent:f("triggerEvent"),triggerFocus:f("triggerFocus"),triggerEscape:f("triggerEscape"),broadcast:f("broadcast"),broadcastOn:f("broadcastOn"),broadcastEvent:f("broadcastEvent"),build:i("build"),buildOrPatch:i("buildOrPatch"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:vt}},kx=Fb(),mw=(n,s)=>{const i=He(s,b=>$i(b.name(),[qt("config"),bt("state",cd)])),f=ga("component.behaviours",fo(i),n.behaviours).fold(b=>{throw new Error(Mg(b)+`
Complete spec:
`+JSON.stringify(n,null,2))},ut);return{list:s,data:os(f,b=>{const w=b.map(S=>({config:S.config,state:S.state.init(S.config)}));return ie(w)})}},Hl=n=>n.list,qD=n=>n.data,TS=(n,s)=>{const i={};return zo(n,(f,b)=>{zo(f,(w,S)=>{const _=Hn(i,S).getOr([]);i[S]=_.concat([s(b,w)])})}),i},m1=(n,s,i,f)=>{const b={...s};ft(i,Z=>{b[Z.name()]=Z.exhibit(n,f)});const w=TS(b,(Z,K)=>({name:Z,modification:K})),S=Z=>Mo(Z,(K,ae)=>({...ae.modification,...K}),{}),_=Mo(w.classes,(Z,K)=>K.modification.concat(Z),[]),B=S(w.attributes),z=S(w.styles);return jd({classes:_,attributes:B,styles:z})},qg=(n,s,i,f)=>{try{const b=Pe(i,(w,S)=>{const _=w[s],B=S[s],z=f.indexOf(_),Z=f.indexOf(B);if(z===-1)throw new Error("The ordering for "+n+" does not have an entry for "+_+`.
Order specified: `+JSON.stringify(f,null,2));if(Z===-1)throw new Error("The ordering for "+n+" does not have an entry for "+B+`.
Order specified: `+JSON.stringify(f,null,2));return z<Z?-1:Z<z?1:0});return Pn.value(b)}catch(b){return Pn.error([b])}},AS=(n,s)=>({handler:n,purpose:s}),DA=(n,s)=>({cHandler:n,purpose:s}),GD=(n,s)=>DA(fn.apply(void 0,[n.handler].concat(s)),n.purpose),hw=n=>n.cHandler,Dx=(n,s)=>({name:n,handler:s}),h1=(n,s)=>{const i={};return ft(n,f=>{i[f.name()]=f.handlers(s)}),i},gw=(n,s,i)=>{const f={...i,...h1(s,n)};return TS(f,Dx)},pw=(n,s,i,f)=>{const b=gw(n,i,f);return bw(b,s)},g1=n=>{const s=sx(n);return(i,f,...b)=>{const w=[i,f].concat(b);s.abort.apply(void 0,w)?f.stop():s.can.apply(void 0,w)&&s.run.apply(void 0,w)}},_x=(n,s)=>Pn.error(["The event ("+n+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(He(s,i=>i.name),null,2)]),kS=(n,s,i)=>{const f=s[i];return f?qg("Event: "+i,"name",n,f).map(b=>{const w=He(b,S=>S.handler);return rx(w)}):_x(i,n)},bw=(n,s)=>{const i=Ts(n,(f,b)=>(f.length===1?Pn.value(f[0].handler):kS(f,s,b)).map(S=>{const _=g1(S),B=f.length>1?xo(s[b],z=>It(f,Z=>Z.name===z)).join(" > "):f[0].name;return za(b,AS(_,B))}));return O2(i,{})},Yh="alloy.base.behaviour",_A=fo([ml("dom","dom",Nd(),fo([qt("tag"),bt("styles",{}),bt("classes",[]),bt("attributes",{}),vr("value"),vr("innerHtml")])),qt("components"),qt("uid"),bt("events",{}),bt("apis",{}),ml("eventOrder","eventOrder",Np({[Ls()]:["disabling",Yh,"toggling","typeaheadevents"],[Pf()]:[Yh,"focusing","keying"],[Ff()]:[Yh,"disabling","toggling","representing","tooltipping"],[Bf()]:[Yh,"representing","streaming","invalidating"],[wc()]:[Yh,"representing","item-events","toolbar-button-events","tooltipping"],[uu()]:["focusing",Yh,"item-type-events"],[td()]:["focusing",Yh,"item-type-events"],[Jl()]:["item-type-events","tooltipping"],[Fh()]:["receiving","reflecting","tooltipping"]}),lf()),vr("domModification")]),Gg=n=>ga("custom.definition",_A,n),DS=n=>({...n.dom,uid:n.uid,domChildren:He(n.components,s=>s.element)}),yw=n=>n.domModification.fold(()=>jd({}),jd),ev=n=>n.events,Ox=(n,s)=>{const i=Do(n),f=Do(s),b=xt(f,i),w=gs(n,(S,_)=>!ts(s,_)||S!==s[_]).t;return{toRemove:b,toSet:w}},vw=(n,s)=>{const{class:i,style:f,...b}=Nc(s),{toSet:w,toRemove:S}=Ox(n.attributes,b),_=()=>{ft(S,st=>cr(s,st)),Du(s,w)},B=ci(s),{toSet:z,toRemove:Z}=Ox(n.styles,B),K=()=>{ft(Z,st=>cs(s,st)),Or(s,z)},ae=Nu(s),he=xt(ae,n.classes),xe=xt(n.classes,ae),_e=()=>{Yu(s,xe),El(s,he)},ze=st=>{Rl(s,st)},Ee=()=>{const st=n.domChildren;EA(s,st)},Xe=()=>{const st=s,wt=n.value.getOrUndefined();wt!==pc(st)&&_d(st,wt??"")};return _(),_e(),K(),n.innerHtml.fold(Ee,ze),Xe(),s},KD=n=>{const s=mn.fromTag(n.tag);Du(s,n.attributes),Yu(s,n.classes),Or(s,n.styles),n.innerHtml.each(f=>Rl(s,f));const i=n.domChildren;return Eh(s,i),n.value.each(f=>{_d(s,f)}),s},OA=(n,s)=>{try{const i=vw(n,s);return F.some(i)}catch{return F.none()}},xw=n=>n.innerHtml.isSome()&&n.domChildren.length>0,YD=(n,s)=>{const i=b=>vd(b)===n.tag&&!xw(n)&&!HD(b),f=s.filter(i).bind(b=>OA(n,b)).getOrThunk(()=>KD(n));return Ax(f,n.uid),f},_S=n=>{const s=Hn(n,"behaviours").getOr({});return Le(Do(s),i=>{const f=s[i];return Fe(f)?[f.me]:[]})},Xh=(n,s)=>mw(n,s),OS=n=>{const s=_S(n);return Xh(n,s)},XD=(n,s,i)=>{const f=DS(n),b=yw(n),w={"alloy.base.modification":b},S=s.length>0?m1(i,w,s,f):b;return sc(f,S)},NA=(n,s,i)=>{const f={"alloy.base.behaviour":ev(n)};return pw(i,n.eventOrder,s,f).getOrDie()},RA=(n,s)=>{const i=()=>st,f=Mn(kx),b=Ju(Gg(n)),w=OS(n),S=Hl(w),_=qD(w),B=XD(b,S,_),z=YD(B,s),Z=NA(b,S,_),K=Mn(b.components),ae=wt=>{f.set(wt)},he=()=>{f.set(Fb(i))},xe=()=>{const wt=Zu(z),Ot=Le(wt,kn=>f.get().getByDom(kn).fold(()=>[],Dt));K.set(Ot)},_e=wt=>{const Ot=_;return(be(Ot[wt.name()])?Ot[wt.name()]:()=>{throw new Error("Could not find "+wt.name()+" in "+JSON.stringify(n,null,2))})()},ze=wt=>be(_[wt.name()]),Ee=()=>b.apis,Xe=wt=>_[wt]().map(Ot=>Ot.state.readState()).getOr("not enabled"),st={uid:n.uid,getSystem:f.get,config:_e,hasConfigured:ze,spec:n,readState:Xe,getApis:Ee,connect:ae,disconnect:he,element:z,syncComponents:xe,components:K.get,events:Z};return st},MA=(n,s)=>{const i=Hn(n,"components").getOr([]);return s.fold(()=>He(i,E),f=>He(i,(b,w)=>y(b,tm(f,w))))},QD=(n,s)=>{const{events:i,...f}=WD(n),b=MA(f,s),w={...f,events:{...Tx,...i},components:b};return Pn.value(RA(w,s))},Ra=n=>{const s=mn.fromText(n);return Zf({element:s})},Zf=n=>{const s=Mc("external.component",Lu([qt("element"),vr("uid")]),n),i=Mn(Fb()),f=_=>{i.set(_)},b=()=>{i.set(Fb(()=>S))},w=s.uid.getOrThunk(()=>Jy("external"));Ax(s.element,w);const S={uid:w,getSystem:i.get,config:F.none,hasConfigured:vt,connect:f,disconnect:b,getApis:()=>({}),element:s.element,spec:n,readState:ie("No state"),syncComponents:J,components:ie([]),events:{}};return pA(S)},tv=Jy,m=n=>ts(n,"uid"),y=(n,s)=>mS(n).getOrThunk(()=>{const i=m(n)?n:{uid:tv(""),...n};return QD(i,s).getOrDie()}),E=n=>y(n,F.none()),D=pA;var de=Object.freeze({__proto__:null,block:(n,s,i,f)=>{uo(n.element,"aria-busy",!0);const b=s.getRoot(n).getOr(n),w=a([lo.config({mode:"special",onTab:()=>F.some(!0),onShiftTab:()=>F.some(!0)}),et.config({})]),S=f(b,w),_=b.getSystem().build(S);jo.append(b,D(_)),_.hasConfigured(lo)&&s.focus&&lo.focusIn(_),i.isBlocked()||s.onBlock(n),i.blockWith(()=>jo.remove(b,_))},unblock:(n,s,i)=>{cr(n.element,"aria-busy"),i.isBlocked()&&s.onUnblock(n),i.clear()},isBlocked:(n,s,i)=>i.isBlocked()}),Se=[dr("getRoot",F.none),Gi("focus",!0),Ps("onBlock"),Ps("onUnblock")],pt=Object.freeze({__proto__:null,init:()=>{const n=Ci(),s=i=>{n.set({destroy:i})};return ud({readState:n.isSet,blockWith:s,clear:n.clear,isBlocked:n.isSet})}});const tn=g({fields:Se,name:"blocking",apis:de,state:pt});var Rn=Object.freeze({__proto__:null,getCurrent:(n,s,i)=>s.find(n)});const ro=[qt("find")],$t=g({fields:ro,name:"composing",apis:Rn});var Xo=Object.freeze({__proto__:null,getCoupled:(n,s,i,f)=>i.getOrCreate(n,s,f),getExistingCoupled:(n,s,i,f)=>i.getExisting(n,s,f)}),Kn=[Bc("others",Iv(Pn.value,lf()))],Er=Object.freeze({__proto__:null,init:()=>{const n={},s=(w,S)=>{if(Do(w.others).length===0)throw new Error("Cannot find any known coupled components");return Hn(n,S)},i=(w,S,_)=>s(S,_).getOrThunk(()=>{const z=Hn(S.others,_).getOrDie("No information found for coupled component: "+_)(w),Z=w.getSystem().build(z);return n[_]=Z,Z}),f=(w,S,_)=>s(S,_).orThunk(()=>(Hn(S.others,_).getOrDie("No information found for coupled component: "+_),F.none())),b=ie({});return ud({readState:b,getExisting:f,getOrCreate:i})}});const Wo=g({fields:Kn,name:"coupling",apis:Xo,state:Er}),el=["input","button","textarea","select"],Cm=(n,s,i)=>{(s.disabled()?Iu:Wf)(n,s)},l0=(n,s)=>s.useNative===!0&&Ve(el,vd(n.element)),p1=n=>$a(n.element,"disabled"),$b=n=>{uo(n.element,"disabled","disabled")},jr=n=>{cr(n.element,"disabled")},dd=n=>ea(n.element,"aria-disabled")==="true",wi=n=>{uo(n.element,"aria-disabled","true")},Qh=n=>{uo(n.element,"aria-disabled","false")},Iu=(n,s,i)=>{s.disableClass.each(b=>{nr(n.element,b)}),(l0(n,s)?$b:wi)(n),s.onDisabled(n)},Wf=(n,s,i)=>{s.disableClass.each(b=>{ha(n.element,b)}),(l0(n,s)?jr:Qh)(n),s.onEnabled(n)},$c=(n,s)=>l0(n,s)?p1(n):dd(n);var Nx=Object.freeze({__proto__:null,enable:Wf,disable:Iu,isDisabled:$c,onLoad:Cm,set:(n,s,i,f)=>{(f?Iu:Wf)(n,s)}}),JD=Object.freeze({__proto__:null,exhibit:(n,s)=>jd({classes:s.disabled()?s.disableClass.toArray():[]}),events:(n,s)=>oa([_b(Ls(),(i,f)=>$c(i,n)),Uy(n,s,Cm)])}),BA=[dr("disabled",vt),bt("useNative",!0),vr("disableClass"),Ps("onDisabled"),Ps("onEnabled")];const eo=g({fields:BA,name:"disabling",active:JD,apis:Nx}),Vd=(n,s,i,f,b)=>{const w=S=>S+"px";return{position:n,left:s.map(w),top:i.map(w),right:f.map(w),bottom:b.map(w)}},e_=n=>({...n,position:F.some(n.position)}),Cw=(n,s)=>{Wa(n,e_(s))},LA=(n,s)=>{const i=n.element;nr(i,s.transitionClass),ha(i,s.fadeOutClass),nr(i,s.fadeInClass),s.onShow(n)},Ib=(n,s)=>{const i=n.element;nr(i,s.transitionClass),ha(i,s.fadeInClass),nr(i,s.fadeOutClass),s.onHide(n)},t_=(n,s)=>n.y<s.bottom&&n.bottom>s.y,PA=(n,s)=>n.y>=s.y,NS=(n,s)=>n.bottom<=s.bottom,RS=(n,s,i)=>({location:"top",leftX:s,topY:i.bounds.y-n.y}),FA=(n,s,i)=>({location:"bottom",leftX:s,bottomY:n.bottom-i.bounds.bottom}),MS=n=>n.box.x-n.win.x,Dz=(n,s,i)=>{const f=s.win,b=s.box,w=MS(s);return Jo(n,S=>{switch(S){case"bottom":return NS(b,i.bounds)?F.none():F.some(FA(f,w,i));case"top":return PA(b,i.bounds)?F.none():F.some(RS(f,w,i));default:return F.none()}}).getOr({location:"no-dock"})},_z=(n,s,i)=>Je(n,f=>{switch(f){case"bottom":return NS(s,i.bounds);case"top":return PA(s,i.bounds)}}),Oz=(n,s)=>{const i=s.optScrollEnv.fold(ie(n.bounds.y),f=>f.scrollElmTop+(n.bounds.y-f.currentScrollTop));return hr(n.bounds.x,i)},BS=(n,s)=>{const i=s.optScrollEnv.fold(ie(n.y),f=>n.y+f.currentScrollTop-f.scrollElmTop);return hr(n.x,i)},LS=(n,s,i)=>i.getInitialPos().map(f=>{const b=Oz(f,s);return{box:Pi(b.left,b.top,Bi(n),bi(n)),location:f.location}}),_B=(n,s,i,f,b)=>{const w=BS(s,i),S=Pi(w.left,w.top,s.width,s.height);f.setInitialPos({style:ci(n),position:yr(n,"position")||"static",bounds:S,location:b.location})},OB=(n,s,i,f,b)=>{f.getInitialPos().fold(()=>_B(n,s,i,f,b),()=>J)},NB=(n,s,i)=>i.getInitialPos().bind(f=>{switch(i.clearInitialPos(),f.position){case"static":return F.some({morph:"static"});case"absolute":const b=af(n).getOr(Ml()),w=_i(b),S=b.dom.scrollTop??0;return F.some({morph:"absolute",positionCss:Vd("absolute",Hn(f.style,"left").map(_=>s.x-w.x),Hn(f.style,"top").map(_=>s.y-w.y+S),Hn(f.style,"right").map(_=>w.right-s.right),Hn(f.style,"bottom").map(_=>w.bottom-s.bottom))});default:return F.none()}}),RB=(n,s,i)=>LS(n,s,i).filter(({box:f})=>_z(i.getModes(),f,s)).bind(({box:f})=>NB(n,f,i)),PS=n=>{switch(n.location){case"top":return F.some({morph:"fixed",positionCss:Vd("fixed",F.some(n.leftX),F.some(n.topY),F.none(),F.none())});case"bottom":return F.some({morph:"fixed",positionCss:Vd("fixed",F.some(n.leftX),F.none(),F.none(),F.some(n.bottomY))});default:return F.none()}},Sw=(n,s,i)=>{const f=_i(n),b=bc(),w=Dz(i.getModes(),{win:b,box:f},s);return w.location==="top"||w.location==="bottom"?(_B(n,f,s,i,w),PS(w)):F.none()},n_=(n,s,i)=>RB(n,s,i).orThunk(()=>s.optScrollEnv.bind(f=>LS(n,s,i)).bind(({box:f,location:b})=>{const w=bc(),S=MS({win:w,box:f}),_=b==="top"?RS(w,S,s):FA(w,S,s);return PS(_)})),Nz=(n,s,i)=>{const f=n.element;return oo(Gr(f,"position"),"fixed")?n_(f,s,i):Sw(f,s,i)},Rz=(n,s,i)=>{const f=n.element;return LS(f,s,i).bind(({box:b})=>NB(f,b,i))},MB=(n,s,i,f)=>{const b=_i(n),w=bc(),S=MS({win:w,box:b}),_=f(w,S,s);return _.location==="bottom"||_.location==="top"?(OB(n,b,s,i,_),PS(_)):F.none()},Hb=(n,s,i)=>{i.setDocked(!1),ft(["left","right","top","bottom","position"],f=>cs(n.element,f)),s.onUndocked(n)},FS=(n,s,i,f)=>{const b=f.position==="fixed";i.setDocked(b),Cw(n.element,f),(b?s.onDocked:s.onUndocked)(n)},$A=(n,s,i,f,b=!1)=>{s.contextual.each(w=>{w.lazyContext(n).each(S=>{const _=t_(S,f.bounds);_!==i.isVisible()&&(i.setVisible(_),b&&!_?(Yu(n.element,[w.fadeOutClass]),w.onHide(n)):(_?LA:Ib)(n,w))})})},$S=(n,s,i,f,b)=>{$A(n,s,i,f,!0),FS(n,s,i,b.positionCss)},BB=(n,s,i,f,b)=>{switch(b.morph){case"static":return Hb(n,s,i);case"absolute":return FS(n,s,i,b.positionCss);case"fixed":return $S(n,s,i,f,b)}},IA=(n,s,i)=>{const f=s.lazyViewport(n);$A(n,s,i,f),Nz(n,f,i).each(b=>{BB(n,s,i,f,b)})},o_=(n,s,i)=>{const f=n.element;i.setDocked(!1);const b=s.lazyViewport(n);Rz(n,b,i).each(w=>{switch(w.morph){case"static":{Hb(n,s,i);break}case"absolute":{FS(n,s,i,w.positionCss);break}}}),i.setVisible(!0),s.contextual.each(w=>{El(f,[w.fadeInClass,w.fadeOutClass,w.transitionClass]),w.onShow(n)}),HA(n,s,i)},HA=(n,s,i)=>{n.getSystem().isConnected()&&IA(n,s,i)},LB=(n,s,i)=>{i.isDocked()&&o_(n,s,i)},u0=n=>(s,i,f)=>{const b=i.lazyViewport(s);MB(s.element,b,f,n).each(S=>{$S(s,i,f,b,S)})},Mz=u0(RS),Bz=u0(FA);var s_=Object.freeze({__proto__:null,refresh:HA,reset:LB,isDocked:(n,s,i)=>i.isDocked(),getModes:(n,s,i)=>i.getModes(),setModes:(n,s,i,f)=>i.setModes(f),forceDockToTop:Mz,forceDockToBottom:Bz}),PB=Object.freeze({__proto__:null,events:(n,s)=>oa([t0(Ph(),(i,f)=>{n.contextual.each(b=>{Da(i.element,b.transitionClass)&&(El(i.element,[b.transitionClass,b.fadeInClass]),(s.isVisible()?b.onShown:b.onHidden)(i)),f.stop()})}),Mt(fm(),(i,f)=>{HA(i,n,s)}),Mt(od(),(i,f)=>{HA(i,n,s)}),Mt(xi(),(i,f)=>{LB(i,n,s)})])}),r_=[$i("contextual",[Ya("fadeInClass"),Ya("fadeOutClass"),Ya("transitionClass"),cu("lazyContext"),Ps("onShow"),Ps("onShown"),Ps("onHide"),Ps("onHidden")]),dr("lazyViewport",()=>({bounds:bc(),optScrollEnv:F.none()})),Vm("modes",["top","bottom"],Fi),Ps("onDocked"),Ps("onUndocked")],FB=Object.freeze({__proto__:null,init:n=>{const s=Mn(!1),i=Mn(!0),f=Co(),b=Mn(n.modes),w=()=>`docked:  ${s.get()}, visible: ${i.get()}, modes: ${b.get().join(",")}`;return ud({isDocked:s.get,setDocked:s.set,getInitialPos:f.get,setInitialPos:f.set,clearInitialPos:f.clear,isVisible:i.get,setVisible:i.set,getModes:b.get,setModes:b.set,readState:w})}});const Ja=g({fields:r_,name:"docking",active:PB,apis:s_,state:FB}),a_=Ba.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),zA=n=>s=>s.translate(-n.left,-n.top),HS=n=>s=>s.translate(n.left,n.top),b1=n=>(s,i)=>Ho(n,(f,b)=>b(f),hr(s,i)),jA=(n,s,i)=>n.fold(b1([HS(i),zA(s)]),b1([zA(s)]),b1([])),Ew=(n,s,i)=>n.fold(b1([HS(i)]),b1([]),b1([HS(s)])),i_=(n,s,i)=>n.fold(b1([]),b1([zA(i)]),b1([HS(s),zA(i)])),$B=(n,s,i,f,b,w)=>{const S=Ew(n,b,w),_=Ew(s,b,w);return Math.abs(S.left-_.left)<=i&&Math.abs(S.top-_.top)<=f},IB=(n,s,i,f,b,w)=>{const S=Ew(n,b,w),_=Ew(s,b,w),B=Math.abs(S.left-_.left),z=Math.abs(S.top-_.top);return hr(B,z)},l_=(n,s,i)=>{const f=n.fold((b,w)=>({position:F.some("absolute"),left:F.some(b+"px"),top:F.some(w+"px")}),(b,w)=>({position:F.some("absolute"),left:F.some(b-i.left+"px"),top:F.some(w-i.top+"px")}),(b,w)=>({position:F.some("fixed"),left:F.some(b+"px"),top:F.some(w+"px")}));return{right:F.none(),bottom:F.none(),...f}},VA=(n,s,i)=>n.fold((f,b)=>y1(f+s,b+i),(f,b)=>Yg(f+s,b+i),(f,b)=>Rx(f+s,b+i)),UA=(n,s,i,f)=>{const b=(w,S)=>(_,B)=>{const z=w(s,i,f);return S(_.getOr(z.left),B.getOr(z.top))};return n.fold(b(i_,y1),b(Ew,Yg),b(jA,Rx))},y1=a_.offset,Yg=a_.absolute,Rx=a_.fixed,HB=(n,s)=>{const i=ea(n,s);return Ce(i)?NaN:parseInt(i,10)},Lz=(n,s)=>{const i=n.element,f=HB(i,s.leftAttr),b=HB(i,s.topAttr);return isNaN(f)||isNaN(b)?F.none():F.some(hr(f,b))},Pz=(n,s,i)=>{const f=n.element;uo(f,s.leftAttr,i.left+"px"),uo(f,s.topAttr,i.top+"px")},zB=(n,s)=>{const i=n.element;cr(i,s.leftAttr),cr(i,s.topAttr)},Fz=(n,s,i,f)=>Lz(n,s).fold(()=>i,b=>Rx(b.left+f.left,b.top+f.top)),jB=(n,s,i,f,b,w)=>{const S=Fz(n,s,i,f),_=s.mustSnap?UB(n,s,S,b,w):Tw(n,s,S,b,w),B=jA(S,b,w);return Pz(n,s,B),_.fold(()=>({coord:Rx(B.left,B.top),extra:F.none()}),z=>({coord:z.output,extra:z.extra}))},$z=(n,s)=>{zB(n,s)},VB=(n,s,i,f)=>Jo(n,b=>{const w=b.sensor;return $B(s,w,b.range.left,b.range.top,i,f)?F.some({output:UA(b.output,s,i,f),extra:b.extra}):F.none()}),UB=(n,s,i,f,b)=>{const w=s.getSnapPoints(n);return VB(w,i,f,b).orThunk(()=>Ho(w,(B,z)=>{const Z=z.sensor,K=IB(i,Z,z.range.left,z.range.top,f,b);return B.deltas.fold(()=>({deltas:F.some(K),snap:F.some(z)}),ae=>{const he=(K.left+K.top)/2,xe=(ae.left+ae.top)/2;return he<=xe?{deltas:F.some(K),snap:F.some(z)}:B})},{deltas:F.none(),snap:F.none()}).snap.map(B=>({output:UA(B.output,i,f,b),extra:B.extra})))},Tw=(n,s,i,f,b)=>{const w=s.getSnapPoints(n);return VB(w,i,f,b)},ZB=(n,s,i)=>({coord:UA(n.output,n.output,s,i),extra:n.extra});var Hz=Object.freeze({__proto__:null,snapTo:(n,s,i,f)=>{const b=s.getTarget(n.element);if(s.repositionTarget){const w=Oc(n.element),S=ka(w),_=J1(b),B=ZB(f,S,_),z=l_(B.coord,S,_);Wa(b,z)}}});const Ic=(n,s)=>Lh(n,{},He(s,i=>D2(i.name(),"Cannot configure "+i.name()+" for "+n)).concat([yc("dump",ut)])),zS=n=>n.dump,zu=(n,s)=>({...a(s),...n.dump}),Xg={field:Ic,augment:zu,get:zS},zz=(n,s)=>(n.length>0?[cf("parts",n)]:[]).concat([qt("uid"),bt("dom",{}),bt("components",[]),jv("originalSpec"),bt("debug.sketcher",{})]).concat(s),WB=(n,s,i,f,b)=>{const w=zz(f,b);return Mc(n+" [SpecSchema]",Lu(w.concat(s)),i)},jz=(n,s,i,f)=>{const b=WA(f),w=WB(n,s,b,[],[]);return i(w,b)},c_=(n,s,i,f,b)=>{const w=WA(b),S=Hi(i),_=Wm(i),B=WB(n,s,w,S,[_]),z=Pc(n,B,i),Z=vb(n,B,z.internals());return f(B,Z,w,z.externals())},ZA=n=>ts(n,"uid"),WA=n=>ZA(n)?n:{...n,uid:Jy("uid")},Vz=n=>n.uid!==void 0,dne=Lu([qt("name"),qt("factory"),qt("configFields"),bt("apis",{}),bt("extraApis",{})]),qB=Lu([qt("name"),qt("factory"),qt("configFields"),qt("partFields"),bt("apis",{}),bt("extraApis",{})]),oh=n=>{const s=Mc("Sketcher for "+n.name,dne,n),i=w=>jz(s.name,s.configFields,s.factory,w),f=os(s.apis,Cx),b=os(s.extraApis,(w,S)=>hb(w,S));return{name:s.name,configFields:s.configFields,sketch:i,...f,...b}},pf=n=>{const s=Mc("Sketcher for "+n.name,qB,n),i=S=>c_(s.name,s.configFields,s.partFields,s.factory,S),f=Fg(s.name,s.partFields),b=os(s.apis,Cx),w=os(s.extraApis,(S,_)=>hb(S,_));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:i,parts:f,...b,...w}},d0=oh({name:"Container",factory:n=>{const{attributes:s,...i}=n.dom;return{uid:n.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...i},components:n.components,behaviours:zS(n.containerBehaviours),events:n.events,domModification:n.domModification,eventOrder:n.eventOrder}},configFields:[bt("components",[]),Ic("containerBehaviours",[]),bt("events",{}),bt("domModification",{}),bt("eventOrder",{})]}),u_="data-initial-z-index",Uz=n=>{xl(n.element).filter(Yc).each(s=>{li(s,u_).fold(()=>cs(s,"z-index"),i=>So(s,"z-index",i)),cr(s,u_)})},Zz=n=>{xl(n.element).filter(Yc).each(s=>{Gr(s,"z-index").each(i=>{uo(s,u_,i)}),So(s,"z-index",yr(n.element,"z-index"))})},GB=(n,s)=>{n.getSystem().addToGui(s),Zz(s)},Aw=n=>{Uz(n),n.getSystem().removeFromGui(n)},qA=(n,s,i)=>n.getSystem().build(d0.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:i}));var Wz=$i("snaps",[qt("getSnapPoints"),Ps("onSensor"),qt("leftAttr"),qt("topAttr"),bt("lazyViewport",bc),bt("mustSnap",!1)]);const jS=[bt("useFixed",vt),qt("blockerClass"),bt("getTarget",ut),bt("onDrag",J),bt("repositionTarget",!0),bt("onDrop",J),dr("getBounds",bc),Wz],GA=n=>ks(Gr(n,"left"),Gr(n,"top"),Gr(n,"position"),(s,i,f)=>(f==="fixed"?Rx:y1)(parseInt(s,10),parseInt(i,10))).getOrThunk(()=>{const s=Bl(n);return Yg(s.left,s.top)}),d_=(n,s,i,f,b)=>{const w=b.bounds,S=Ew(s,i,f),_=us(S.left,w.x,w.x+w.width-b.width),B=us(S.top,w.y,w.y+w.height-b.height),z=Yg(_,B);return s.fold(()=>{const Z=i_(z,i,f);return y1(Z.left,Z.top)},ie(z),()=>{const Z=jA(z,i,f);return Rx(Z.left,Z.top)})},qz=(n,s,i,f,b,w,S)=>{const _=s.fold(()=>{const B=VA(i,w.left,w.top),z=jA(B,f,b);return Rx(z.left,z.top)},B=>{const z=jB(n,B,i,w,f,b);return z.extra.each(Z=>{B.onSensor(n,Z)}),z.coord});return d_(n,_,f,b,S)},Gz=(n,s,i,f)=>{const b=s.getTarget(n.element);if(s.repositionTarget){const w=Oc(n.element),S=ka(w),_=J1(b),B=GA(b),z=qz(n,s.snaps,B,S,_,f,i),Z=l_(z,S,_);Wa(b,Z)}s.onDrag(n,b,f)},KB=(n,s)=>({bounds:n.getBounds(),height:ki(s.element),width:nf(s.element)}),f_=(n,s,i,f,b)=>{const w=i.update(f,b),S=i.getStartData().getOrThunk(()=>KB(s,n));w.each(_=>{Gz(n,s,S,_)})},YB=(n,s,i,f)=>{s.each(Aw),i.snaps.each(w=>{$z(n,w)});const b=i.getTarget(n.element);f.reset(),i.onDrop(n,b)},m_=n=>(s,i)=>{const f=b=>{i.setStartData(KB(s,b))};return oa([Mt(fm(),b=>{i.getStartData().each(()=>f(b))}),...n(s,i,f)])},Kz=n=>oa([Mt(uu(),n.forceDrop),Mt(Mf(),n.drop),Mt(xc(),(s,i)=>{n.move(i.event)}),Mt(Ii(),n.delayDrop)]);var Xz=Object.freeze({__proto__:null,getData:n=>F.from(hr(n.x,n.y)),getDelta:(n,s)=>hr(s.left-n.left,s.top-n.top)});const XB=(n,s,i)=>[Mt(uu(),(f,b)=>{if(b.event.raw.button!==0)return;b.stop();const S=()=>YB(f,F.some(z),n,s),_=M2(S,200),B={drop:S,delayDrop:_.schedule,forceDrop:S,move:K=>{_.cancel(),f_(f,n,s,Xz,K)}},z=qA(f,n.blockerClass,Kz(B));i(f),GB(f,z)})],Qz=[...jS,sr("dragger",{handlers:m_(XB)})],Jz=n=>oa([Mt(td(),n.forceDrop),Mt($l(),n.drop),Mt(nd(),n.drop),Mt(Xa(),(s,i)=>{n.move(i.event)})]),kw=n=>{const s=n[0];return F.some(hr(s.clientX,s.clientY))};var KA=Object.freeze({__proto__:null,getData:n=>{const i=n.raw.touches;return i.length===1?kw(i):F.none()},getDelta:(n,s)=>hr(s.left-n.left,s.top-n.top)});const JB=(n,s,i)=>{const f=Co(),b=w=>{YB(w,f.get(),n,s),f.clear()};return[Mt(td(),(w,S)=>{S.stop();const _=()=>b(w),B={drop:_,delayDrop:J,forceDrop:_,move:K=>{f_(w,n,s,KA,K)}},z=qA(w,n.blockerClass,Jz(B));f.set(z),i(w),GB(w,z)}),Mt(Xa(),(w,S)=>{S.stop(),f_(w,n,s,KA,S.event)}),Mt($l(),(w,S)=>{S.stop(),b(w)}),Mt(nd(),b)]},Ln=[...jS,sr("dragger",{handlers:m_(JB)})],Mx=(n,s,i)=>[...XB(n,s,i),...JB(n,s,i)],ej=[...jS,sr("dragger",{handlers:m_(Mx)})];var nj=Object.freeze({__proto__:null,mouse:Qz,touch:Ln,mouseOrTouch:ej}),t6=Object.freeze({__proto__:null,init:()=>{let n=F.none(),s=F.none();const i=()=>{n=F.none(),s=F.none()},f=(B,z)=>{const Z=n.map(K=>B.getDelta(K,z));return n=F.some(z),Z},b=(B,z)=>B.getData(z).bind(Z=>f(B,Z)),w=B=>{s=F.some(B)},S=()=>s,_=ie({});return ud({readState:_,reset:i,update:b,getStartData:S,setStartData:w})}});const zb=N({branchKey:"mode",branches:nj,name:"dragging",active:{events:(n,s)=>n.dragger.handlers(n,s)},extra:{snap:n=>({sensor:n.sensor,range:n.range,output:n.output,extra:F.from(n.extra)})},state:t6,apis:Hz}),sj=["input","textarea"],p_=n=>{const s=vd(n);return Ve(sj,s)},n6=(n,s)=>{const i=s.getRoot(n).getOr(n.element);ha(i,s.invalidClass),s.notify.each(f=>{p_(n.element)&&uo(n.element,"aria-invalid",!1),f.getContainer(n).each(b=>{Rl(b,f.validHtml)}),f.onValid(n)})},o6=(n,s,i,f)=>{const b=s.getRoot(n).getOr(n.element);nr(b,s.invalidClass),s.notify.each(w=>{p_(n.element)&&uo(n.element,"aria-invalid",!0),w.getContainer(n).each(S=>{Rl(S,f)}),w.onInvalid(n,f)})},b_=(n,s,i)=>s.validator.fold(()=>ls.pure(Pn.value(!0)),f=>f.validate(n)),y_=(n,s,i)=>(s.notify.each(f=>{f.onValidate(n)}),b_(n,s).map(f=>n.getSystem().isConnected()?f.fold(b=>(o6(n,s,i,b),Pn.error(b)),b=>(n6(n,s),Pn.value(b))):Pn.error("No longer in system")));var v_=Object.freeze({__proto__:null,markValid:n6,markInvalid:o6,query:b_,run:y_,isInvalid:(n,s)=>{const i=s.getRoot(n).getOr(n.element);return Da(i,s.invalidClass)}}),YA=Object.freeze({__proto__:null,events:(n,s)=>n.validator.map(i=>oa([Mt(i.onEvent,f=>{y_(f,n,s).get(ut)})].concat(i.validateOnLoad?[Lr(f=>{y_(f,n,s).get(J)})]:[]))).getOr({})}),XA=[qt("invalidClass"),bt("getRoot",F.none),$i("notify",[bt("aria","alert"),bt("getContainer",F.none),bt("validHtml",""),Ps("onValid"),Ps("onInvalid"),Ps("onValidate")]),$i("validator",[qt("validate"),bt("onEvent","input"),bt("validateOnLoad",!0)])];const Dw=(n,s,i)=>{s.store.manager.onLoad(n,s,i)},f0=(n,s,i)=>{s.store.manager.onUnload(n,s,i)};var gne=Object.freeze({__proto__:null,onLoad:Dw,onUnload:f0,setValue:(n,s,i,f)=>{s.store.manager.setValue(n,s,i,f)},getValue:(n,s,i)=>s.store.manager.getValue(n,s,i),getState:(n,s,i)=>i}),ij=Object.freeze({__proto__:null,events:(n,s)=>{const i=n.resetOnDom?[Lr((f,b)=>{Dw(f,n,s)}),hf((f,b)=>{f0(f,n,s)})]:[Uy(n,s,Dw)];return oa(i)}});const QA=()=>{const n=Mn(null),s=()=>({mode:"memory",value:n.get()}),i=()=>n.get()===null,f=()=>{n.set(null)};return ud({set:n.set,get:n.get,isNotSet:i,clear:f,readState:s})},lj=()=>ud({readState:J}),s6=()=>{const n=Mn({}),s=Mn({});return ud({readState:()=>({mode:"dataset",dataByValue:n.get(),dataByText:s.get()}),lookup:S=>Hn(n.get(),S).orThunk(()=>Hn(s.get(),S)),update:S=>{const _=n.get(),B=s.get(),z={},Z={};ft(S,K=>{z[K.value]=K,Hn(K,"meta").each(ae=>{Hn(ae,"text").each(he=>{Z[he]=K})})}),n.set({..._,...z}),s.set({...B,...Z})},clear:()=>{n.set({}),s.set({})}})};var r6=Object.freeze({__proto__:null,memory:QA,dataset:s6,manual:lj,init:n=>n.store.manager.state(n)});const a6=(n,s,i,f)=>{const b=s.store;i.update([f]),b.setValue(n,f),s.onSetValue(n,f)},cj=(n,s,i)=>{const f=s.store,b=f.getDataKey(n);return i.lookup(b).getOrThunk(()=>f.getFallbackEntry(b))},i6=(n,s,i)=>{s.store.initialValue.each(b=>{a6(n,s,i,b)})},l6=(n,s,i)=>{i.clear()};var uj=[vr("initialValue"),qt("getFallbackEntry"),qt("getDataKey"),qt("setValue"),sr("manager",{setValue:a6,getValue:cj,onLoad:i6,onUnload:l6,state:s6})];const c6=(n,s,i)=>s.store.getValue(n),dj=(n,s,i,f)=>{s.store.setValue(n,f),s.onSetValue(n,f)},x_=(n,s,i)=>{s.store.initialValue.each(f=>{s.store.setValue(n,f)})};var u6=[qt("getValue"),bt("setValue",J),vr("initialValue"),sr("manager",{setValue:dj,getValue:c6,onLoad:x_,onUnload:J,state:cd.init})];const d6=(n,s,i,f)=>{i.set(f),s.onSetValue(n,f)},f6=(n,s,i)=>i.get(),fj=(n,s,i)=>{s.store.initialValue.each(f=>{i.isNotSet()&&i.set(f)})},mj=(n,s,i)=>{i.clear()};var hj=[vr("initialValue"),sr("manager",{setValue:d6,getValue:f6,onLoad:fj,onUnload:mj,state:QA})],gj=[ed("store",{mode:"memory"},Kl("mode",{memory:hj,manual:u6,dataset:uj})),Ps("onSetValue"),bt("resetOnDom",!1)];const In=g({fields:gj,name:"representing",active:ij,apis:gne,extra:{setValueFrom:(n,s)=>{const i=In.getValue(s);In.setValue(n,i)}},state:r6}),sh=g({fields:XA,name:"invalidating",active:YA,apis:v_,extra:{validation:n=>s=>{const i=In.getValue(s);return ls.pure(n(i))}}});var m6=Object.freeze({__proto__:null,exhibit:(n,s)=>jd({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const JA=Ba.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),w_=(n,s,i,f,b,w)=>{const S=s.rect,_=S.x-i,B=S.y-f,z=S.width,Z=S.height,K=b-(_+z),ae=w-(B+Z),he=F.some(_),xe=F.some(B),_e=F.some(K),ze=F.some(ae),Ee=F.none();return My(s.direction,()=>Vd(n,he,xe,Ee,Ee),()=>Vd(n,Ee,xe,_e,Ee),()=>Vd(n,he,Ee,Ee,ze),()=>Vd(n,Ee,Ee,_e,ze),()=>Vd(n,he,xe,Ee,Ee),()=>Vd(n,he,Ee,Ee,ze),()=>Vd(n,he,xe,Ee,Ee),()=>Vd(n,Ee,xe,_e,Ee))},C_=(n,s)=>n.fold(()=>{const i=s.rect;return Vd("absolute",F.some(i.x),F.some(i.y),F.none(),F.none())},(i,f,b,w)=>w_("absolute",s,i,f,b,w),(i,f,b,w)=>w_("fixed",s,i,f,b,w)),S_=(n,s)=>{const i=fn(I0,s),f=n.fold(i,i,()=>{const S=ka();return I0(s).translate(-S.left,-S.top)}),b=nf(s),w=ki(s);return Pi(f.left,f.top,b,w)},bj=(n,s)=>s.fold(()=>n.fold(bc,bc,Pi),i=>n.fold(ie(i),ie(i),()=>{const f=h6(n,i.x,i.y);return Pi(f.left,f.top,i.width,i.height)})),h6=(n,s,i)=>{const f=hr(s,i),b=()=>{const w=ka();return f.translate(-w.left,-w.top)};return n.fold(ie(f),ie(f),b)},E_=(n,s,i,f)=>n.fold(s,i,f);JA.none;const yj=JA.relative,ek=JA.fixed,vj=(n,s)=>({anchorBox:n,origin:s}),g6=(n,s)=>vj(n,s),Hc=Ba.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),xj=(n,s)=>{const{x:i,y:f,right:b,bottom:w}=s,{x:S,y:_,right:B,bottom:z,width:Z,height:K}=n,ae=S>=i&&S<=b,he=_>=f&&_<=w,xe=ae&&he,_e=B<=b&&B>=i,ze=z<=w&&z>=f,Ee=_e&&ze,Xe=Math.min(Z,S>=i?b-S:B-i),st=Math.min(K,_>=f?w-_:z-f);return{originInBounds:xe,sizeInBounds:Ee,visibleW:Xe,visibleH:st}},p6=(n,s)=>{const{x:i,y:f,right:b,bottom:w}=s,{x:S,y:_,width:B,height:z}=n,Z=Math.max(i,b-B),K=Math.max(f,w-z),ae=us(S,i,Z),he=us(_,f,K),xe=Math.min(ae+B,b)-ae,_e=Math.min(he+z,w)-he;return Pi(ae,he,xe,_e)},b6=(n,s,i)=>{const f=ie(s.bottom-i.y),b=ie(i.bottom-s.y),w=Uh(n,b,b,f),S=ie(s.right-i.x),_=ie(i.right-s.x);return{maxWidth:qm(n,_,_,S),maxHeight:w}},wj=(n,s,i,f)=>{const b=n.bubble,w=b.offset,S=zg(f,n.restriction,w),_=n.x+w.left,B=n.y+w.top,z=Pi(_,B,s,i),{originInBounds:Z,sizeInBounds:K,visibleW:ae,visibleH:he}=xj(z,S),xe=Z&&K,_e=xe?z:p6(z,S),ze=_e.width>0&&_e.height>0,{maxWidth:Ee,maxHeight:Xe}=b6(n.direction,_e,f),st={rect:_e,maxHeight:Xe,maxWidth:Ee,direction:n.direction,placement:n.placement,classes:{on:b.classesOn,off:b.classesOff},layout:n.label,testY:B};return xe||n.alwaysFit?Hc.fit(st):Hc.nofit(st,ae,he,ze)},y6=(n,s,i,f,b,w)=>{const S=f.width,_=f.height,B=(Z,K,ae,he,xe)=>{const _e=Z(i,f,b,n,w),ze=wj(_e,S,_,w);return ze.fold(ie(ze),(Ee,Xe,st,wt)=>(xe===wt?st>he||Xe>ae:!xe&&wt)?ze:Hc.nofit(K,ae,he,xe))};return Ho(s,(Z,K)=>{const ae=fn(B,K);return Z.fold(ie(Z),ae)},Hc.nofit({rect:i,maxHeight:f.height,maxWidth:f.width,direction:Hg(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:i.y},-1,-1,!1)).fold(ut,ut)},T_=["top","bottom","right","left"],tk="data-alloy-transition-timer",Cj=(n,s)=>_g(n,s.classes),Sj=(n,s,i)=>i.exists(f=>{const b=n.mode;return b==="all"?!0:f[b]!==s[b]}),Ej=(n,s)=>{const i=f=>parseFloat(f).toFixed(3);return $r(s,(f,b)=>{const w=n[b].map(i),S=f.map(i);return!Bn(w,S)}).isSome()},v6=n=>{const s=w=>{const _=yr(n,w).split(/\s*,\s*/);return xo(_,Su)},i=w=>{if(I(w)&&/^[\d.]+/.test(w)){const S=parseFloat(w);return dc(w,"ms")?S:S*1e3}else return 0},f=s("transition-delay"),b=s("transition-duration");return Ho(b,(w,S,_)=>{const B=i(f[_])+i(S);return Math.max(w,B)},0)},Tj=(n,s)=>{const i=Ir(),f=Ir();let b;const w=z=>{const Z=z.raw.pseudoElement??"";return oe(z.target,n)&&Ri(Z)&&Ve(T_,z.raw.propertyName)},S=z=>{if(pe(z)||w(z)){i.clear(),f.clear();const Z=z?.raw.type;(pe(Z)||Z===Ph())&&(clearTimeout(b),cr(n,tk),El(n,s.classes))}},_=$s(n,Zm(),z=>{w(z)&&(_.unbind(),i.set($s(n,Ph(),S)),f.set($s(n,cb(),S)))}),B=v6(n);window.requestAnimationFrame(()=>{b=setTimeout(S,B+17),uo(n,tk,b)})},Aj=(n,s)=>{Yu(n,s.classes),li(n,tk).each(i=>{clearTimeout(parseInt(i,10)),cr(n,tk)}),Tj(n,s)},x6=(n,s,i,f,b,w)=>{const S=Sj(f,b,w);if(S||Cj(n,f)){So(n,"position",i.position);const _=S_(s,n),B=C_(s,{...b,rect:_}),z=Un(T_,Z=>B[Z]);Ej(i,z)&&(Wa(n,z),S&&Aj(n,f),ql(n))}else El(n,f.classes)},w6=n=>({width:Math.ceil(nf(n)),height:ki(n)}),C6=(n,s,i,f)=>{cs(s,"max-height"),cs(s,"max-width");const b=w6(s);return y6(s,f.preference,n,b,i,f.bounds)},kj=(n,s)=>{const i=s.classes;El(n,i.off),Yu(n,i.on)},Dj=(n,s,i)=>{const f=i.maxHeightFunction;f(n,s.maxHeight)},_j=(n,s,i)=>{const f=i.maxWidthFunction;f(n,s.maxWidth)},Oj=(n,s,i)=>{const f=C_(i.origin,s);i.transition.each(b=>{x6(n,i.origin,f,b,s,i.lastPlacement)}),Cw(n,f)},S6=(n,s)=>{n1(n,s.placement)},A_=(n,s,i)=>n[s]===void 0?i:n[s],nv=(n,s,i,f,b,w,S,_)=>{const B=A_(S,"maxHeightFunction",nx()),z=A_(S,"maxWidthFunction",J),Z=n.anchorBox,K=n.origin,ae={bounds:bj(K,w),origin:K,preference:f,maxHeightFunction:B,maxWidthFunction:z,lastPlacement:b,transition:_};return E6(Z,s,i,ae)},E6=(n,s,i,f)=>{const b=C6(n,s,i,f);return Oj(s,b,f),S6(s,b),kj(s,b),Dj(s,b,f),_j(s,b,f),{layout:b.layout,placement:b.placement}},VS=ut,ov=()=>$i("layouts",[qt("onLtr"),qt("onRtl"),vr("onBottomLtr"),vr("onBottomRtl")]),nk=(n,s,i,f,b,w,S)=>{const _=S.map(jy).getOr(!1),B=s.layouts.map(he=>he.onLtr(n)),z=s.layouts.map(he=>he.onRtl(n)),Z=_?s.layouts.bind(he=>he.onBottomLtr.map(xe=>xe(n))).or(B).getOr(b):B.getOr(i),K=_?s.layouts.bind(he=>he.onBottomRtl.map(xe=>xe(n))).or(z).getOr(w):z.getOr(f);return Eg(Z,K)(n)},_w=(n,s,i)=>{const f=s.hotspot,b=S_(i,f.element),w=nk(n.element,s,tx(),Wh(),zf(),ex(),F.some(s.hotspot.element));return F.some(VS({anchorBox:b,bubble:s.bubble.getOr(Qi()),overrides:s.overrides,layouts:w}))};var Nj=[qt("hotspot"),vr("bubble"),bt("overrides",{}),ov(),sr("placement",_w)];const Rj=(n,s,i)=>{const f=h6(i,s.x,s.y),b=Pi(f.left,f.top,s.width,s.height),w=nk(n.element,s,Py(),Eb(),Py(),Eb(),F.none());return F.some(VS({anchorBox:b,bubble:s.bubble,overrides:s.overrides,layouts:w}))};var T6=[qt("x"),qt("y"),bt("height",0),bt("width",0),bt("bubble",Qi()),bt("overrides",{}),ov(),sr("placement",Rj)];const A6=Ba.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Mj=n=>n.fold(ut,(s,i,f)=>s.translate(-i,-f)),Bj=n=>n.fold(ut,ut),k_=n=>Ho(n,(s,i)=>s.translate(i.left,i.top),hr(0,0)),D_=n=>{const s=He(n,Mj);return k_(s)},ok=n=>{const s=He(n,Bj);return k_(s)},Lj=A6.screen,sv=A6.absolute,k6=(n,s,i)=>{const f=yp(i.root).dom,b=w=>{const S=Oc(w),_=Oc(n.element);return oe(S,_)};return F.from(f.frameElement).map(mn.fromDom).filter(b).map(Bl)},__=(n,s,i)=>{const f=Oc(n.element),b=ka(f),w=k6(n,s,i).getOr(b);return sv(w,b.left,b.top)},O_=(n,s,i,f)=>{const b=Lj(hr(n,s));return F.some(Oh(b,i,f))},D6=(n,s,i,f,b)=>n.map(w=>{const S=[s,w.point],_=E_(f,()=>ok(S),()=>ok(S),()=>D_(S)),B=Mv(_.left,_.top,w.width,w.height),z=i.showAbove?zf():tx(),Z=i.showAbove?ex():Wh(),K=nk(b,i,z,Z,z,Z,F.none());return VS({anchorBox:B,bubble:i.bubble.getOr(Qi()),overrides:i.overrides,layouts:K})}),US=(n,s,i)=>{const f=__(n,i,s);return s.node.filter(Is).bind(b=>{const w=b.dom.getBoundingClientRect(),S=O_(w.left,w.top,w.width,w.height),_=s.node.getOr(n.element);return D6(S,f,s,i,_)})};var ZS=[qt("node"),qt("root"),vr("bubble"),ov(),bt("overrides",{}),bt("showAbove",!1),sr("placement",US)];const WS=(n,s)=>({element:n,offset:s}),N_=(n,s)=>{const i=Zu(n);if(i.length===0)return WS(n,s);if(s<i.length)return WS(i[s],0);{const f=i[i.length-1],b=vl(f)?Sg(f).length:Zu(f).length;return WS(f,b)}},jb=(n,s)=>vl(n)?WS(n,s):N_(n,s),v1=n=>n.foffset!==void 0,_6=(n,s)=>s.getSelection.getOrThunk(()=>()=>Fm(n))().map(f=>{if(v1(f)){const b=jb(f.start,f.soffset),w=jb(f.finish,f.foffset);return fi.range(b.element,b.offset,w.element,w.offset)}else return f}),Pj=(n,s,i)=>{const f=yp(s.root).dom,b=__(n,i,s),w=_6(f,s).bind(B=>{if(v1(B))return Ru(f,fi.exactFromRange(B)).orThunk(()=>{const Z=mn.fromText(Tf);om(B.start,Z);const K=Dh(f,fi.exact(Z,0,Z,1));return eu(Z),K}).bind(Z=>O_(Z.left,Z.top,Z.width,Z.height));{const z=os(B,K=>K.dom.getBoundingClientRect()),Z={left:Math.min(z.firstCell.left,z.lastCell.left),right:Math.max(z.firstCell.right,z.lastCell.right),top:Math.min(z.firstCell.top,z.lastCell.top),bottom:Math.max(z.firstCell.bottom,z.lastCell.bottom)};return O_(Z.left,Z.top,Z.right-Z.left,Z.bottom-Z.top)}}),_=_6(f,s).bind(B=>v1(B)?Yc(B.start)?F.some(B.start):Au(B.start):F.some(B.firstCell)).getOr(n.element);return D6(w,b,s,i,_)};var O6=[vr("getSelection"),qt("root"),vr("bubble"),ov(),bt("overrides",{}),bt("showAbove",!1),sr("placement",Pj)];const Jg="link-layout",sk=n=>n.x+n.width,N6=(n,s)=>n.x-s.width,R_=(n,s)=>n.y-s.height+n.height,M_=n=>n.y,B_=(n,s,i)=>nc(sk(n),M_(n),i.southeast(),Hg(),"southeast",gl(n,{left:0,top:2}),Jg),rk=(n,s,i)=>nc(N6(n,s),M_(n),i.southwest(),By(),"southwest",gl(n,{right:1,top:2}),Jg),L_=(n,s,i)=>nc(sk(n),R_(n,s),i.northeast(),xb(),"northeast",gl(n,{left:0,bottom:3}),Jg),R6=(n,s,i)=>nc(N6(n,s),R_(n,s),i.northwest(),Zh(),"northwest",gl(n,{right:1,bottom:3}),Jg),M6=()=>[B_,rk,L_,R6],B6=()=>[rk,B_,R6,L_],ak=(n,s,i)=>{const f=S_(i,s.item.element),b=nk(n.element,s,M6(),B6(),M6(),B6(),F.none());return F.some(VS({anchorBox:f,bubble:Qi(),overrides:s.overrides,layouts:b}))};var P_=[qt("item"),ov(),bt("overrides",{}),sr("placement",ak)],ik=Kl("type",{selection:O6,node:ZS,hotspot:Nj,submenu:P_,makeshift:T6});const L6=[Ar("classes",Fi),Xl("mode","all",["all","layout","placement"])],Fj=[bt("useFixed",vt),vr("getBounds")],P6=[Bc("anchor",ik),$i("transition",L6)],F6=()=>{const n=document.documentElement;return ek(0,0,n.clientWidth,n.clientHeight)},$6=n=>{const s=Bl(n.element),i=n.element.dom.getBoundingClientRect();return yj(s.left,s.top,i.width,i.height)},I6=(n,s,i,f,b,w)=>{const S=g6(s.anchorBox,n);return nv(S,f.element,s.bubble,s.layouts,b,i,s.overrides,w)},$j=(n,s,i,f,b)=>{const w=F.none();lk(n,s,i,f,b,w)},lk=(n,s,i,f,b,w)=>{const S=Mc("placement.info",fo(P6),b),_=S.anchor,B=f.element,z=i.get(f.uid);Bb(()=>{So(B,"position","fixed");const Z=Gr(B,"visibility");So(B,"visibility","hidden");const K=s.useFixed()?F6():$6(n);_.placement(n,_,K).each(ae=>{const he=w.orThunk(()=>s.getBounds.map(Qo)),xe=I6(K,ae,he,f,z,S.transition);i.set(f.uid,xe)}),Z.fold(()=>{cs(B,"visibility")},ae=>{So(B,"visibility",ae)}),Gr(B,"left").isNone()&&Gr(B,"top").isNone()&&Gr(B,"right").isNone()&&Gr(B,"bottom").isNone()&&oo(Gr(B,"position"),"fixed")&&cs(B,"position")},B)};var Ij=Object.freeze({__proto__:null,position:$j,positionWithinBounds:lk,getMode:(n,s,i)=>s.useFixed()?"fixed":"absolute",reset:(n,s,i,f)=>{const b=f.element;ft(["position","left","right","top","bottom"],w=>cs(b,w)),Tb(b),i.clear(f.uid)}}),H6=Object.freeze({__proto__:null,init:()=>{let n={};return ud({readState:()=>n,clear:b=>{Fe(b)?delete n[b]:n={}},set:(b,w)=>{n[b]=w},get:b=>Hn(n,b)})}});const fd=g({fields:Fj,name:"positioning",active:m6,apis:Ij,state:H6}),Hj=(n,s)=>s.universal?n:xo(n,i=>Ve(s.channels,i));var qS=Object.freeze({__proto__:null,events:n=>oa([Mt(Fh(),(s,i)=>{const f=n.channels,b=Do(f),w=i,S=Hj(b,w);ft(S,_=>{const B=f[_],z=B.schema,Z=Mc("channel["+_+`] data
Receiver: `+Bd(s.element),z,w.data);B.onReceive(s,Z)})})])}),jj=[Bc("channels",Iv(Pn.value,Lu([Ih("onReceive"),bt("schema",lf())])))];const md=g({fields:jj,name:"receiving",active:qS});var j6=Object.freeze({__proto__:null,events:(n,s)=>{const i=(f,b)=>{n.updateState.each(w=>{const S=w(f,b);s.set(S)}),n.renderComponents.each(w=>{const S=w(b,s.get());(n.reuseDom?TA:vS)(f,S)})};return oa([Mt(Fh(),(f,b)=>{const w=b;if(!w.universal){const S=n.channel;Ve(w.channels,S)&&i(f,w.data)}}),Lr((f,b)=>{n.initialData.each(w=>{i(f,w)})})])}}),Uj=Object.freeze({__proto__:null,getState:(n,s,i)=>i}),Zj=[qt("channel"),vr("renderComponents"),vr("updateState"),vr("initialData"),Gi("reuseDom",!0)],qj=Object.freeze({__proto__:null,init:()=>{const n=Mn(F.none()),s=()=>n.set(F.none());return{readState:()=>n.get().getOr("none"),get:n.get,set:n.set,clear:s}}});const qf=g({fields:Zj,name:"reflecting",active:j6,apis:Uj,state:qj}),V6=(n,s,i,f)=>{i.get().each(S=>{vA(n)});const b=s.getAttachPoint(n);r0(b,n);const w=n.getSystem().build(f);return r0(n,w),i.set(w),w},U6=(n,s,i,f)=>{const b=V6(n,s,i,f);return s.onOpen(n,b),b},Z6=(n,s,i,f)=>i.get().map(()=>V6(n,s,i,f)),ck=(n,s,i,f,b)=>{F_(n,s),U6(n,s,i,f),b(),q6(n,s)},uk=(n,s,i)=>{i.get().each(f=>{vA(n),i0(n),s.onClose(n,f),i.clear()})},dk=(n,s,i)=>i.isOpen(),Gj=(n,s,i,f)=>dk(n,s,i)&&i.get().exists(b=>s.isPartOf(n,b,f)),Kj=(n,s,i)=>i.get(),Yj=(n,s,i,f)=>{Gr(n.element,s).fold(()=>{cr(n.element,i)},b=>{uo(n.element,i,b)}),So(n.element,s,f)},Xj=(n,s,i)=>{li(n.element,i).fold(()=>cs(n.element,s),f=>So(n.element,s,f))},F_=(n,s,i)=>{const f=s.getAttachPoint(n);So(n.element,"position",fd.getMode(f)),Yj(n,"visibility",s.cloakVisibilityAttr,"hidden")},W6=n=>It(["top","left","right","bottom"],s=>Gr(n,s).isSome()),q6=(n,s,i)=>{W6(n.element)||cs(n.element,"position"),Xj(n,"visibility",s.cloakVisibilityAttr)};var Qj=Object.freeze({__proto__:null,cloak:F_,decloak:q6,open:U6,openWhileCloaked:ck,close:uk,isOpen:dk,isPartOf:Gj,getState:Kj,setContent:Z6}),Jj=Object.freeze({__proto__:null,events:(n,s)=>oa([Mt(Na(),(i,f)=>{uk(i,n,s)})])}),eV=[Ps("onOpen"),Ps("onClose"),qt("isPartOf"),qt("getAttachPoint"),bt("cloakVisibilityAttr","data-precloak-visibility")],G6=Object.freeze({__proto__:null,init:()=>{const n=Co(),s=ie("not-implemented");return ud({readState:s,isOpen:n.isSet,clear:n.clear,set:n.set,get:n.get})}});const ar=g({fields:eV,name:"sandboxing",active:Jj,apis:Qj,state:G6}),GS=(n,s)=>s.getAnimationRoot.fold(()=>n.element,i=>i(n)),Vb=n=>n.dimension.property,Bx=(n,s)=>n.dimension.getDimension(s),fk=(n,s)=>{const i=GS(n,s);El(i,[s.shrinkingClass,s.growingClass])},x1=(n,s)=>{ha(n.element,s.openClass),nr(n.element,s.closedClass),So(n.element,Vb(s),"0px"),ql(n.element)},$_=(n,s)=>{ha(n.element,s.closedClass),nr(n.element,s.openClass),cs(n.element,Vb(s))},K6=(n,s,i,f)=>{i.setCollapsed(),So(n.element,Vb(s),Bx(s,n.element)),fk(n,s),x1(n,s),s.onStartShrink(n),s.onShrunk(n)},Lx=(n,s,i,f)=>{const b=f.getOrThunk(()=>Bx(s,n.element));i.setCollapsed(),So(n.element,Vb(s),b),ql(n.element);const w=GS(n,s);ha(w,s.growingClass),nr(w,s.shrinkingClass),x1(n,s),s.onStartShrink(n)},I_=(n,s,i)=>{const f=Bx(s,n.element);(f==="0px"?K6:Lx)(n,s,i,F.some(f))},Y6=(n,s,i)=>{const f=GS(n,s),b=Da(f,s.shrinkingClass),w=Bx(s,n.element);$_(n,s);const S=Bx(s,n.element);(b?()=>{So(n.element,Vb(s),w),ql(n.element)}:()=>{x1(n,s)})(),ha(f,s.shrinkingClass),nr(f,s.growingClass),$_(n,s),So(n.element,Vb(s),S),i.setExpanded(),s.onStartGrow(n)},rv=(n,s,i)=>{if(i.isExpanded()){cs(n.element,Vb(s));const f=Bx(s,n.element);So(n.element,Vb(s),f)}},tV=(n,s,i)=>{i.isExpanded()||Y6(n,s,i)},nV=(n,s,i)=>{i.isExpanded()&&I_(n,s,i)},Jh=(n,s,i)=>{i.isExpanded()&&K6(n,s,i)},X6=(n,s,i)=>i.isExpanded(),Q6=(n,s,i)=>i.isCollapsed(),H_=(n,s,i)=>{const f=GS(n,s);return Da(f,s.growingClass)===!0},J6=(n,s,i)=>{const f=GS(n,s);return Da(f,s.shrinkingClass)===!0};var sV=Object.freeze({__proto__:null,refresh:rv,grow:tV,shrink:nV,immediateShrink:Jh,hasGrown:X6,hasShrunk:Q6,isGrowing:H_,isShrinking:J6,isTransitioning:(n,s,i)=>H_(n,s)||J6(n,s),toggleGrow:(n,s,i)=>{(i.isExpanded()?I_:Y6)(n,s,i)},disableTransitions:fk,immediateGrow:(n,s,i)=>{i.isExpanded()||($_(n,s),So(n.element,Vb(s),Bx(s,n.element)),fk(n,s),i.setExpanded(),s.onStartGrow(n),s.onGrown(n))}}),t8=Object.freeze({__proto__:null,exhibit:(n,s,i)=>{const f=s.expanded;return jd(f?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:za(s.dimension.property,"0px")})},events:(n,s)=>oa([t0(Ph(),(i,f)=>{f.event.raw.propertyName===n.dimension.property&&(fk(i,n),s.isExpanded()&&cs(i.element,n.dimension.property),(s.isExpanded()?n.onGrown:n.onShrunk)(i))})])}),n8=[qt("closedClass"),qt("openClass"),qt("shrinkingClass"),qt("growingClass"),vr("getAnimationRoot"),Ps("onShrunk"),Ps("onStartShrink"),Ps("onGrown"),Ps("onStartGrow"),bt("expanded",!1),Bc("dimension",Kl("property",{width:[sr("property","width"),sr("getDimension",n=>Bi(n)+"px")],height:[sr("property","height"),sr("getDimension",n=>bi(n)+"px")]}))],aV=Object.freeze({__proto__:null,init:n=>{const s=Mn(n.expanded),i=()=>"expanded: "+s.get();return ud({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:fn(s.set,!1),setExpanded:fn(s.set,!0),readState:i})}});const Ud=g({fields:n8,name:"sliding",active:t8,apis:sV,state:aV});var lV=Object.freeze({__proto__:null,events:(n,s)=>{const f=n.stream.streams.setup(n,s);return oa([Mt(n.event,f),hf(()=>s.cancel())].concat(n.cancelEvent.map(b=>[Mt(b,()=>s.cancel())]).getOr([])))}});const o8=n=>{const s=Mn(null);return ud({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:w=>{s.set(w)},cancel:()=>{const w=s.get();w!==null&&w.cancel()}})};var V_=Object.freeze({__proto__:null,throttle:o8,init:n=>n.stream.streams.state(n)});const cV=(n,s)=>{const i=n.stream,f=Ei(n.onStream,i.delay);return s.setTimer(f),(b,w)=>{f.throttle(b,w),i.stopEvent&&w.stop()}};var KS=[Bc("stream",Kl("mode",{throttle:[qt("delay"),bt("stopEvent",!0),sr("streams",{setup:cV,state:o8})]})),bt("event","input"),vr("cancelEvent"),Ih("onStream")];const Ow=g({fields:KS,name:"streaming",active:lV,state:V_});var s8=Object.freeze({__proto__:null,exhibit:(n,s)=>jd({attributes:vc([{key:s.tabAttr,value:"true"}])})}),dV=[bt("tabAttr","data-alloy-tabstop")];const ua=g({fields:dV,name:"tabstopping",active:s8}),fV=(n,s,i)=>{const f=s.aria;f.update(n,f,i.get())},mV=(n,s,i)=>{s.toggleClass.each(f=>{i.get()?nr(n.element,f):ha(n.element,f)})},Px=(n,s,i,f)=>{const b=i.get();i.set(f),mV(n,s,i),fV(n,s,i),b!==f&&s.onToggled(n,f)},U_=(n,s,i)=>{Px(n,s,i,!i.get())},r8=(n,s,i)=>{Px(n,s,i,!0)},Z_=(n,s,i)=>{Px(n,s,i,!1)},hV=(n,s,i)=>i.get(),W_=(n,s,i)=>{Px(n,s,i,s.selected)};var gV=Object.freeze({__proto__:null,onLoad:W_,toggle:U_,isOn:hV,on:r8,off:Z_,set:Px}),a8=Object.freeze({__proto__:null,exhibit:()=>jd({}),events:(n,s)=>{const i=n0(n,s,U_),f=Uy(n,s,W_);return oa(tt([n.toggleOnExecute?[i]:[],[f]]))}});const pV=(n,s,i)=>{uo(n.element,"aria-pressed",i),s.syncWithExpanded&&G_(n,s,i)},bV=(n,s,i)=>{uo(n.element,"aria-selected",i)},q_=(n,s,i)=>{uo(n.element,"aria-checked",i)},G_=(n,s,i)=>{uo(n.element,"aria-expanded",i)};var i8=[bt("selected",!1),vr("toggleClass"),bt("toggleOnExecute",!0),Ps("onToggled"),ed("aria",{mode:"none"},Kl("mode",{pressed:[bt("syncWithExpanded",!1),sr("update",pV)],checked:[sr("update",q_)],expanded:[sr("update",G_)],selected:[sr("update",bV)],none:[sr("update",J)]}))];const Ms=g({fields:i8,name:"toggling",active:a8,apis:gV,state:ct(!1)}),mk=me("tooltip.exclusive"),YS=me("tooltip.show"),XS=me("tooltip.hide"),QS=me("tooltip.immediateHide"),JS=me("tooltip.immediateShow"),l8=(n,s,i)=>{n.getSystem().broadcastOn([mk],{})};var vV=Object.freeze({__proto__:null,hideAllExclusive:l8,immediateOpenClose:(n,s,i,f)=>fs(n,f?JS:QS),isEnabled:(n,s,i)=>i.isEnabled(),setComponents:(n,s,i,f)=>{i.getTooltip().each(b=>{b.getSystem().isConnected()&&jo.set(b,f)})},setEnabled:(n,s,i,f)=>i.setEnabled(f)}),xV=Object.freeze({__proto__:null,events:(n,s)=>{const i=S=>{s.getTooltip().each(_=>{_.getSystem().isConnected()&&(i0(_),n.onHide(S,_),s.clearTooltip())}),s.clearTimer()},f=S=>{if(!s.isShowing()&&s.isEnabled()){l8(S);const _=n.lazySink(S).getOrDie(),B=S.getSystem().build({dom:n.tooltipDom,components:n.tooltipComponents,events:oa(n.mode==="normal"?[Mt(Jl(),z=>{fs(S,YS)}),Mt(Ii(),z=>{fs(S,XS)})]:[]),behaviours:a([jo.config({})])});s.setTooltip(B),r0(_,B),n.onShow(S,B),fd.position(_,B,{anchor:n.anchor(S)})}},b=S=>{s.getTooltip().each(_=>{const B=n.lazySink(S).getOrDie();fd.position(B,_,{anchor:n.anchor(S)})})},w=()=>{switch(n.mode){case"normal":return[Mt(ec(),S=>{fs(S,JS)}),Mt(Pp(),S=>{fs(S,QS)}),Mt(Jl(),S=>{fs(S,YS)}),Mt(Ii(),S=>{fs(S,XS)})];case"follow-highlight":return[Mt(fb(),(S,_)=>{fs(S,YS)}),Mt(Hp(),S=>{fs(S,XS)})];case"children-normal":return[Mt(ec(),(S,_)=>{ii(S.element).each(B=>{lr(_.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{fs(S,JS)},z=>{s.isShowing()&&(n.onShow(S,z),b(S))})})}),Mt(Pp(),S=>{ii(S.element).fold(()=>{fs(S,QS)},J)}),Mt(Jl(),S=>{ur(S.element,"[data-mce-tooltip]:hover").each(_=>{s.getTooltip().fold(()=>{fs(S,YS)},B=>{s.isShowing()&&(n.onShow(S,B),b(S))})})}),Mt(Ii(),S=>{ur(S.element,"[data-mce-tooltip]:hover").fold(()=>{fs(S,XS)},J)})];default:return[Mt(ec(),(S,_)=>{ii(S.element).each(B=>{lr(_.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{fs(S,JS)},z=>{s.isShowing()&&(n.onShow(S,z),b(S))})})}),Mt(Pp(),S=>{ii(S.element).fold(()=>{fs(S,QS)},J)})]}};return oa(tt([[ix(S=>{n.onSetup(S)}),Mt(YS,S=>{s.resetTimer(()=>{f(S)},n.delayForShow())}),Mt(XS,S=>{s.resetTimer(()=>{i(S)},n.delayForHide())}),Mt(JS,S=>{s.resetTimer(()=>{f(S)},0)}),Mt(QS,S=>{s.resetTimer(()=>{i(S)},0)}),Mt(Fh(),(S,_)=>{const B=_;B.universal||(Ve(B.channels,mk)||Ve(B.channels,gf()))&&(B.data.closedTooltip&&s.isShowing()&&B.data.closedTooltip(),i(S))}),hf(S=>{i(S)})],w()]))}}),wV=[qt("lazySink"),qt("tooltipDom"),bt("exclusive",!0),bt("tooltipComponents",[]),dr("delayForShow",ie(300)),dr("delayForHide",ie(100)),dr("onSetup",J),Xl("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),bt("anchor",n=>({type:"hotspot",hotspot:n,layouts:{onLtr:ie([Oi,ya,Ji,Al,Kr,kl]),onRtl:ie([Oi,ya,Ji,Al,Kr,kl])},bubble:mu(0,-2,{})})),Ps("onHide"),Ps("onShow")],CV=Object.freeze({__proto__:null,init:()=>{const n=Mn(!0),s=Co(),i=Co(),f=()=>{s.on(clearTimeout)},b=(S,_)=>{f(),s.set(setTimeout(S,_))},w=ie("not-implemented");return ud({getTooltip:i.get,isShowing:i.isSet,setTooltip:i.set,clearTooltip:i.clear,clearTimer:f,resetTimer:b,readState:w,isEnabled:()=>n.get(),setEnabled:S=>n.set(S)})}});const va=g({fields:wV,name:"tooltipping",active:xV,state:CV,apis:vV});var Y_=Object.freeze({__proto__:null,events:()=>oa([_b(G0(),Lt)]),exhibit:()=>jd({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const m0=g({fields:[],name:"unselecting",active:Y_}),SV=n=>{const s=n.dom.attributes!==void 0?n.dom.attributes:[];return Ho(s,(i,f)=>f.name==="class"?i:{...i,[f.name]:f.value},{})},EV=n=>Array.prototype.slice.call(n.dom.classList,0),h0=n=>{const s=mn.fromHtml(n),i=Zu(s),f=SV(s),b=EV(s),w=i.length===0?{}:{innerHtml:Js(s)};return{tag:vd(s),classes:b,attributes:f,...w}},gr=n=>{const s=Vz(n)&&Oo(n,"uid")?n.uid:Jy("memento");return{get:w=>w.getSystem().getByUid(s).getOrDie(),getOpt:w=>w.getSystem().getByUid(s).toOptional(),asSpec:()=>({...n,uid:s})}},Ac=Ig,rh=Ny,TV=(n,s)=>{const i=Mn(!1),f=Mn(!1);return{stop:()=>{i.set(!0)},cut:()=>{f.set(!0)},isStopped:i.get,isCut:f.get,event:n,setSource:s.set,getSource:s.get}},u8=n=>{const s=Mn(!1);return{stop:()=>{s.set(!0)},cut:J,isStopped:s.get,isCut:vt,event:n,setSource:Re("Cannot set source of a broadcasted event"),getSource:Re("Cannot get source of a broadcasted event")}},d8=n=>n.raw.which===gt[0]&&!Ve(["input","textarea"],vd(n.target))&&!Pm(n.target,'[contenteditable="true"]'),f8=(n,s)=>{const i={stopBackspace:!0,...s},f=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],b=P2(i),w=He(f.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),he=>$s(n,he,xe=>{b.fireIfReady(xe,he).each(ze=>{ze&&xe.kill()}),i.triggerEvent(he,xe)&&xe.kill()})),S=Co(),_=$s(n,"paste",he=>{b.fireIfReady(he,"paste").each(_e=>{_e&&he.kill()}),i.triggerEvent("paste",he)&&he.kill(),S.set(setTimeout(()=>{i.triggerEvent(Ay(),he)},0))}),B=$s(n,"keydown",he=>{i.triggerEvent("keydown",he)?he.kill():i.stopBackspace&&d8(he)&&he.prevent()}),z=$s(n,"focusin",he=>{i.triggerEvent("focusin",he)&&he.kill()}),Z=Co(),K=$s(n,"focusout",he=>{i.triggerEvent("focusout",he)&&he.kill(),Z.set(setTimeout(()=>{i.triggerEvent(Pp(),he)},0))});return{unbind:()=>{ft(w,he=>{he.unbind()}),B.unbind(),z.unbind(),K.unbind(),_.unbind(),S.on(clearTimeout),Z.on(clearTimeout)}}},w1=(n,s)=>{const i=Hn(n,"target").getOr(s);return Mn(i)},eg=Ba.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),X_=(n,s,i,f,b,w)=>{const S=n(s,f),_=TV(i,b);return S.fold(()=>(w.logEventNoHandlers(s,f),eg.complete()),B=>{const z=B.descHandler;return hw(z)(_),_.isStopped()?(w.logEventStopped(s,B.element,z.purpose),eg.stopped()):_.isCut()?(w.logEventCut(s,B.element,z.purpose),eg.complete()):xl(B.element).fold(()=>(w.logNoParent(s,B.element,z.purpose),eg.complete()),K=>(w.logEventResponse(s,B.element,z.purpose),eg.resume(K)))})},Fx=(n,s,i,f,b,w)=>X_(n,s,i,f,b,w).fold(Lt,S=>Fx(n,s,i,S,b,w),vt),AV=(n,s,i,f,b)=>{const w=w1(i,f);return X_(n,s,i,f,w,b)},Q_=(n,s,i)=>{const f=u8(s);return ft(n,b=>{const w=b.descHandler;hw(w)(f)}),f.isStopped()},m8=(n,s,i,f)=>hk(n,s,i,i.target,f),hk=(n,s,i,f,b)=>{const w=w1(i,f);return Fx(n,s,i,f,w,b)},gk=(n,s)=>({element:n,descHandler:s}),h8=(n,s)=>({id:n,descHandler:s}),tg=()=>{const n={},s=(S,_,B)=>{zo(B,(z,Z)=>{const K=n[Z]!==void 0?n[Z]:{};K[_]=GD(z,S),n[Z]=K})},i=(S,_)=>Kh(_).bind(B=>Hn(S,B)).map(B=>gk(_,B));return{registerId:s,unregisterId:S=>{zo(n,(_,B)=>{ts(_,S)&&delete _[S]})},filterByType:S=>Hn(n,S).map(_=>Ts(_,(B,z)=>h8(z,B))).getOr([]),find:(S,_,B)=>Hn(n,_).bind(z=>Cr(B,Z=>i(z,Z),S))}},J_=()=>{const n=tg(),s={},i=z=>{const Z=z.element;return Kh(Z).getOrThunk(()=>ES("uid-",z.element))},f=(z,Z)=>{const K=s[Z];if(K===z)w(z);else throw new Error('The tagId "'+Z+'" is already used by: '+Bd(K.element)+`
Cannot use it for: `+Bd(z.element)+`
The conflicting element is`+(Is(K.element)?" ":" not ")+"already in the DOM")},b=z=>{const Z=i(z);Oo(s,Z)&&f(z,Z);const K=[z];n.registerId(K,Z,z.events),s[Z]=z},w=z=>{Kh(z.element).each(Z=>{delete s[Z],n.unregisterId(Z)})};return{find:(z,Z,K)=>n.find(z,Z,K),filter:z=>n.filterByType(z),register:b,unregister:w,getById:z=>Hn(s,z)}},e5=n=>{const s=Ee=>xl(n.element).fold(Lt,Xe=>oe(Ee,Xe)),i=J_(),f=(Ee,Xe)=>i.find(s,Ee,Xe),b=f8(n.element,{triggerEvent:(Ee,Xe)=>jp(Ee,Xe.target,st=>m8(f,Ee,Xe,st))}),w={debugInfo:ie("real"),triggerEvent:(Ee,Xe,st)=>{jp(Ee,Xe,wt=>hk(f,Ee,st,Xe,wt))},triggerFocus:(Ee,Xe)=>{Kh(Ee).fold(()=>{Fa(Ee)},st=>{jp(Pf(),Ee,wt=>(AV(f,Pf(),{originator:Xe,kill:J,prevent:J,target:Ee},Ee,wt),!1))})},triggerEscape:(Ee,Xe)=>{w.triggerEvent("keydown",Ee.element,Xe.event)},getByUid:Ee=>_e(Ee),getByDom:Ee=>ze(Ee),build:E,buildOrPatch:y,addToGui:Ee=>{B(Ee)},removeFromGui:Ee=>{z(Ee)},addToWorld:Ee=>{S(Ee)},removeFromWorld:Ee=>{_(Ee)},broadcast:Ee=>{ae(Ee)},broadcastOn:(Ee,Xe)=>{he(Ee,Xe)},broadcastEvent:(Ee,Xe)=>{xe(Ee,Xe)},isConnected:Lt},S=Ee=>{Ee.connect(w),vl(Ee.element)||(i.register(Ee),ft(Ee.components(),S),w.triggerEvent(Ff(),Ee.element,{target:Ee.element}))},_=Ee=>{vl(Ee.element)||(ft(Ee.components(),_),i.unregister(Ee)),Ee.disconnect()},B=Ee=>{r0(n,Ee)},z=Ee=>{i0(Ee)},Z=()=>{b.unbind(),eu(n.element)},K=Ee=>{const Xe=i.filter(Fh());ft(Xe,st=>{const wt=st.descHandler;hw(wt)(Ee)})},ae=Ee=>{K({universal:!0,data:Ee})},he=(Ee,Xe)=>{K({universal:!1,channels:Ee,data:Xe})},xe=(Ee,Xe)=>{const st=i.filter(Ee);return Q_(st,Xe)},_e=Ee=>i.getById(Ee).fold(()=>Pn.error(new Error('Could not find component with uid: "'+Ee+'" in system.')),Pn.value),ze=Ee=>{const Xe=Kh(Ee).getOr("not found");return _e(Xe)};return S(n),{root:n,element:n.element,destroy:Z,add:B,remove:z,getByUid:_e,getByDom:ze,addToWorld:S,removeFromWorld:_,broadcast:ae,broadcastOn:he,broadcastEvent:xe}},g8=()=>{const n=(s,i)=>{i.stop(),r1(s)};return[Mt(dm(),n),Mt(xr(),n),xm(td()),xm(uu())]},t5=n=>{const s=i=>wm((f,b)=>{i(f),b.stop()});return oa(tt([n.map(s).toArray(),g8()]))},rc=oh({name:"Button",factory:n=>{const s=t5(n.action),i=n.dom.tag,f=w=>Hn(n.dom,"attributes").bind(S=>Hn(S,w)),b=()=>{if(i==="button"){const w=f("type").getOr("button"),S=f("role").map(_=>({role:_})).getOr({});return{type:w,...S}}else return{role:n.role.getOr(f("role").getOr("button"))}};return{uid:n.uid,dom:n.dom,components:n.components,events:s,behaviours:Xg.augment(n.buttonBehaviours,[et.config({}),lo.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:b()},eventOrder:n.eventOrder}},configFields:[bt("uid",void 0),qt("dom"),bt("components",[]),Xg.field("buttonBehaviours",[et,lo]),vr("action"),vr("role"),bt("eventOrder",{})]}),kV=ie([bt("shell",!1),qt("makeItem"),bt("setupItem",J),Xg.field("listBehaviours",[jo])]),n5=fu({name:"items",overrides:()=>({behaviours:a([jo.config({})])})}),_V=ie([n5]),o5=ie("CustomList"),s5=(n,s,i,f)=>{const b=(_,B)=>{S(_).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},z=>{const Z=jo.contents(z),K=B.length,ae=K-Z.length,he=ae>0?Ne(ae,()=>n.makeItem()):[],xe=Z.slice(K);ft(xe,ze=>jo.remove(z,ze)),ft(he,ze=>jo.append(z,ze));const _e=jo.contents(z);ft(_e,(ze,Ee)=>{n.setupItem(_,ze,B[Ee],Ee)})})},w=n.shell?{behaviours:[jo.config({})],components:[]}:{behaviours:[],components:s},S=_=>n.shell?F.some(_):Dr(_,n,"items");return{uid:n.uid,dom:n.dom,components:w.components,behaviours:zu(n.listBehaviours,w.behaviours),apis:{setItems:b}}},p8=pf({name:o5(),configFields:kV(),partFields:_V(),factory:s5,apis:{setItems:(n,s,i)=>{n.setItems(s,i)}}}),Nw="aria-controls",b8=n=>Ah(n,i=>{if(!Yc(i))return!1;const f=ea(i,"id");return f!==void 0&&f.indexOf(Nw)>-1}).bind(i=>{const f=ea(i,"id"),b=Ai(i);return ur(b,`[${Nw}="${f}"]`)}),y8=()=>{const n=me(Nw);return{id:n,link:f=>{uo(f,Nw,n)},unlink:f=>{cr(f,Nw)}}},v8=(n,s)=>b8(s).exists(i=>av(n,i)),av=(n,s)=>Di(s,i=>oe(i,n.element),vt)||v8(n,s),x8="alloy.item-hover",w8="alloy.item-focus",C8="alloy.item-toggled",S8=n=>{(ii(n.element).isNone()||et.isFocused(n))&&(et.isFocused(n)||et.focus(n),so(n,x8,{item:n}))},E8=n=>{so(n,w8,{item:n})},T8=(n,s)=>{so(n,C8,{item:n,state:s})},r5=ie(x8),OV=ie(w8),A8=ie(C8),k8=n=>n.role.fold(()=>n.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),ut),NV=(n,s)=>({aria:{mode:s?"selected":"checked"},...Wr(n,(i,f)=>f!=="exclusive"),onToggled:(i,f)=>{be(n.onToggled)&&n.onToggled(i,f),T8(i,f)}}),RV=n=>({dom:n.dom,domModification:{...n.domModification,attributes:{role:k8(n),...n.domModification.attributes,"aria-haspopup":n.hasSubmenu,...n.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Xg.augment(n.itemBehaviours,[n.toggling.fold(Ms.revoke,s=>Ms.config(NV(s,n.role.exists(i=>i==="option")))),et.config({ignore:n.ignoreFocus,stopMousedown:n.ignoreFocus,onFocus:s=>{E8(s)}}),lo.config({mode:"execution"}),In.config({store:{mode:"memory",initialValue:n.data}}),fe("item-type-events",[...g8(),Mt(Jl(),S8),Mt(ba(),et.focus)])]),components:n.components,eventOrder:n.eventOrder});var a5=[qt("data"),qt("components"),qt("dom"),bt("hasSubmenu",!1),vr("toggling"),vr("role"),Xg.field("itemBehaviours",[Ms,et,lo,In]),bt("ignoreFocus",!1),bt("domModification",{}),sr("builder",RV),bt("eventOrder",{})];const D8=n=>({dom:n.dom,components:n.components,events:oa([ZC(ba())])});var _8=[qt("dom"),qt("components"),sr("builder",D8)];const i5=ie("item-widget"),l5=ie([Sc({name:"widget",overrides:n=>({behaviours:a([In.config({store:{mode:"manual",getValue:s=>n.data,setValue:J}})])})})]),O8=n=>{const s=Pc(i5(),n,l5()),i=vb(i5(),n,s.internals()),f=w=>Dr(w,n,"widget").map(S=>(lo.focusIn(S),S)),b=(w,S)=>(Gy(S.event.target)||n.autofocus&&S.setSource(w.element),F.none());return{dom:n.dom,components:i,domModification:n.domModification,events:oa([wm((w,S)=>{f(w).each(_=>{S.stop()})}),Mt(Jl(),S8),Mt(ba(),(w,S)=>{n.autofocus?f(w):et.focus(w)})]),behaviours:Xg.augment(n.widgetBehaviours,[In.config({store:{mode:"memory",initialValue:n.data}}),et.config({ignore:n.ignoreFocus,onFocus:w=>{E8(w)}}),lo.config({mode:"special",focusIn:n.autofocus?w=>{f(w)}:$(),onLeft:b,onRight:b,onEscape:(w,S)=>!et.isFocused(w)&&!n.autofocus?(et.focus(w),F.some(!0)):(n.autofocus&&S.setSource(w.element),F.none())})])}};var c5=[qt("uid"),qt("data"),qt("components"),qt("dom"),bt("autofocus",!1),bt("ignoreFocus",!1),Xg.field("widgetBehaviours",[In,et,lo]),bt("domModification",{}),Wm(l5()),sr("builder",O8)];const R8=Kl("type",{widget:c5,item:a5,separator:_8}),M8=(n,s)=>({mode:"flatgrid",selector:"."+n.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:n.focusManager}),B8=(n,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+n.markers.item},previousSelector:s.previousSelector,focusManager:n.focusManager}),LV=(n,s)=>({mode:"menu",selector:"."+n.markers.item,moveOnTab:s.moveOnTab,focusManager:n.focusManager}),u5=ie([e1({factory:{sketch:n=>{const s=Mc("menu.spec item",R8,n);return s.builder(s)}},name:"items",unit:"item",defaults:(n,s)=>ts(s,"uid")?s:{...s,uid:Jy("item")},overrides:(n,s)=>({type:s.type,ignoreFocus:n.fakeFocus,domModification:{classes:[n.markers.item]}})})]),PV=ie([pa("role"),qt("value"),qt("items"),qt("dom"),qt("components"),bt("eventOrder",{}),Ic("menuBehaviours",[fr,In,$t,lo]),ed("movement",{mode:"menu",moveOnTab:!0},Kl("mode",{grid:[mb(),sr("config",M8)],matrix:[sr("config",B8),qt("rowSelector"),bt("previousSelector",F.none)],menu:[bt("moveOnTab",!0),sr("config",LV)]})),Dy(),bt("fakeFocus",!1),bt("focusManager",YC()),Ps("onHighlight"),Ps("onDehighlight"),bt("showMenuRole",!0)]),d5=ie("alloy.menu-focus"),L8=(n,s)=>{const i=ta(n.element,'[role="menuitemradio"][aria-checked="true"]');ft(i,f=>{oe(f,s.element)||n.getSystem().getByDom(f).each(b=>{Ms.off(b)})})},$x=(n,s,i,f)=>({uid:n.uid,dom:n.dom,markers:n.markers,behaviours:zu(n.menuBehaviours,[fr.config({highlightClass:n.markers.selectedItem,itemClass:n.markers.item,onHighlight:n.onHighlight,onDehighlight:n.onDehighlight}),In.config({store:{mode:"memory",initialValue:n.value}}),$t.config({find:F.some}),lo.config(n.movement.config(n,n.movement))]),events:oa([Mt(OV(),(b,w)=>{const S=w.event;b.getSystem().getByDom(S.target).each(_=>{fr.highlight(b,_),w.stop(),so(b,d5(),{menu:b,item:_})})}),Mt(r5(),(b,w)=>{const S=w.event.item;fr.highlight(b,S)}),Mt(A8(),(b,w)=>{const{item:S,state:_}=w.event;_&&ea(S.element,"role")==="menuitemradio"&&L8(b,S)})]),components:s,eventOrder:n.eventOrder,...n.showMenuRole?{domModification:{attributes:{role:n.role.getOr("menu")}}}:{}}),Ub=pf({name:"Menu",configFields:PV(),partFields:u5(),factory:$x}),f5=n=>Vs(n,(s,i)=>({k:s,v:i})),eE=(n,s,i,f)=>Hn(i,f).bind(b=>Hn(n,b).bind(w=>{const S=eE(n,s,i,w);return F.some([w].concat(S))})).getOr([]),FV=(n,s)=>{const i={};zo(n,(S,_)=>{ft(S,B=>{i[B]=_})});const f=s,b=f5(s),w=os(b,(S,_)=>[_].concat(eE(i,f,b,_)));return os(i,S=>Hn(w,S).getOr([S]))},P8=()=>{const n=Mn({}),s=Mn({}),i=Mn({}),f=Co(),b=Mn({}),w=()=>{n.set({}),s.set({}),i.set({}),f.clear()},S=()=>f.get().isNone(),_=(Ot,kn)=>{s.set({...s.get(),[Ot]:{type:"prepared",menu:kn}})},B=(Ot,kn,Jt,rn)=>{f.set(Ot),n.set(Jt),s.set(kn),b.set(rn);const on=FV(rn,Jt);i.set(on)},z=Ot=>$r(n.get(),(kn,Jt)=>kn===Ot),Z=(Ot,kn,Jt)=>_e(Ot).bind(rn=>z(Ot).bind(on=>kn(on).map(mo=>({triggeredMenu:rn,triggeringItem:mo,triggeringPath:Jt})))),K=(Ot,kn)=>{const Jt=xo(Ee(Ot).toArray(),rn=>_e(rn).isSome());return Hn(i.get(),Ot).bind(rn=>{const on=Nt(Jt.concat(rn)),mo=Le(on,(to,ys)=>Z(to,kn,on.slice(0,ys+1)).fold(()=>oo(f.get(),to)?[]:[F.none()],ho=>[F.some(ho)]));return xs(mo)})},ae=Ot=>Hn(n.get(),Ot).map(kn=>{const Jt=Hn(i.get(),Ot).getOr([]);return[kn].concat(Jt)}),he=Ot=>Hn(i.get(),Ot).bind(kn=>kn.length>1?F.some(kn.slice(1)):F.none()),xe=Ot=>Hn(i.get(),Ot),_e=Ot=>ze(Ot).bind(m5),ze=Ot=>Hn(s.get(),Ot),Ee=Ot=>Hn(n.get(),Ot);return{setMenuBuilt:_,setContents:B,expand:ae,refresh:xe,collapse:he,lookupMenu:ze,lookupItem:Ee,otherMenus:Ot=>{const kn=b.get();return xt(Do(kn),Ot)},getPrimary:()=>f.get().bind(_e),getMenus:()=>s.get(),clear:w,isClear:S,getTriggeringPath:K}},m5=n=>n.type==="prepared"?F.some(n.menu):F.none(),h5={init:P8,extractPreparedMenu:m5},pk=me("tiered-menu-item-highlight"),g5=me("tiered-menu-item-dehighlight"),$V=(n,s)=>{const i=Co(),f=(Yt,vn,To)=>os(To,(Ko,ao)=>{const qo=()=>Ub.sketch({...Ko,value:ao,markers:n.markers,fakeFocus:n.fakeFocus,onHighlight:(Ur,pr)=>{so(Ur,pk,{menuComp:Ur,itemComp:pr})},onDehighlight:(Ur,pr)=>{so(Ur,g5,{menuComp:Ur,itemComp:pr})},focusManager:n.fakeFocus?U2():YC()});return ao===vn?{type:"prepared",menu:Yt.getSystem().build(qo())}:{type:"notbuilt",nbMenu:qo}}),b=h5.init(),w=Yt=>{const vn=f(Yt,n.data.primary,n.data.menus),To=B();return b.setContents(n.data.primary,vn,n.data.expansions,To),b.getPrimary()},S=Yt=>In.getValue(Yt).value,_=(Yt,vn,To)=>Jo(vn,Ko=>{if(!Ko.getSystem().isConnected())return F.none();const ao=fr.getCandidates(Ko);return Be(ao,qo=>S(qo)===To)}),B=Yt=>os(n.data.menus,(vn,To)=>Le(vn.items,Ko=>Ko.type==="separator"?[]:[Ko.data.value])),z=fr.highlight,Z=(Yt,vn)=>{z(Yt,vn),fr.getHighlighted(vn).orThunk(()=>fr.getFirst(vn)).each(To=>{n.fakeFocus?fr.highlight(vn,To):Vy(Yt,To.element,ba())})},K=(Yt,vn)=>Uo(He(vn,To=>Yt.lookupMenu(To).bind(Ko=>Ko.type==="prepared"?F.some(Ko.menu):F.none()))),ae=(Yt,vn,To)=>{const Ko=K(vn,vn.otherMenus(To));ft(Ko,ao=>{El(ao.element,[n.markers.backgroundMenu]),n.stayInDom||jo.remove(Yt,ao)})},he=Yt=>i.get().getOrThunk(()=>{const vn={},To=ta(Yt.element,`.${n.markers.item}`),Ko=xo(To,ao=>ea(ao,"aria-haspopup")==="true");return ft(Ko,ao=>{Yt.getSystem().getByDom(ao).each(qo=>{const Ur=S(qo);vn[Ur]=qo})}),i.set(vn),vn}),xe=(Yt,vn)=>{const To=he(Yt);zo(To,(Ko,ao)=>{const qo=Ve(vn,ao);uo(Ko.element,"aria-expanded",qo)})},_e=(Yt,vn,To)=>F.from(To[0]).bind(Ko=>vn.lookupMenu(Ko).bind(ao=>{if(ao.type==="notbuilt")return F.none();{const qo=ao.menu,Ur=K(vn,To.slice(1));return ft(Ur,pr=>{nr(pr.element,n.markers.backgroundMenu)}),Is(qo.element)||jo.append(Yt,D(qo)),El(qo.element,[n.markers.backgroundMenu]),Z(Yt,qo),ae(Yt,vn,To),F.some(qo)}}));let ze;(function(Yt){Yt[Yt.HighlightSubmenu=0]="HighlightSubmenu",Yt[Yt.HighlightParent=1]="HighlightParent"})(ze||(ze={}));const Ee=(Yt,vn,To)=>{if(To.type==="notbuilt"){const Ko=Yt.getSystem().build(To.nbMenu());return b.setMenuBuilt(vn,Ko),Ko}else return To.menu},Xe=(Yt,vn,To=ze.HighlightSubmenu)=>{if(vn.hasConfigured(eo)&&eo.isDisabled(vn))return F.some(vn);{const Ko=S(vn);return b.expand(Ko).bind(ao=>(xe(Yt,ao),F.from(ao[0]).bind(qo=>b.lookupMenu(qo).bind(Ur=>{const pr=Ee(Yt,qo,Ur);return Is(pr.element)||jo.append(Yt,D(pr)),n.onOpenSubmenu(Yt,vn,pr,Nt(ao)),To===ze.HighlightSubmenu?(fr.highlightFirst(pr),_e(Yt,b,ao)):(fr.dehighlightAll(pr),F.some(vn))}))))}},st=(Yt,vn)=>{const To=S(vn);return b.collapse(To).bind(Ko=>(xe(Yt,Ko),_e(Yt,b,Ko).map(ao=>(n.onCollapseMenu(Yt,vn,ao),ao))))},wt=(Yt,vn)=>{const To=S(vn);return b.refresh(To).bind(Ko=>(xe(Yt,Ko),_e(Yt,b,Ko)))},Ot=(Yt,vn)=>Gy(vn.element)?F.none():Xe(Yt,vn,ze.HighlightSubmenu),kn=(Yt,vn)=>Gy(vn.element)?F.none():st(Yt,vn),Jt=(Yt,vn)=>st(Yt,vn).orThunk(()=>n.onEscape(Yt,vn).map(()=>Yt)),rn=Yt=>(vn,To)=>yi(To.getSource(),`.${n.markers.item}`).bind(Ko=>vn.getSystem().getByDom(Ko).toOptional().bind(ao=>Yt(vn,ao).map(Lt))),on=oa([Mt(d5(),(Yt,vn)=>{const To=vn.event.item;b.lookupItem(S(To)).each(()=>{const Ko=vn.event.menu;fr.highlight(Yt,Ko);const ao=S(vn.event.item);b.refresh(ao).each(qo=>ae(Yt,b,qo))})}),wm((Yt,vn)=>{const To=vn.event.target;Yt.getSystem().getByDom(To).each(Ko=>{S(Ko).indexOf("collapse-item")===0&&st(Yt,Ko),Xe(Yt,Ko,ze.HighlightSubmenu).fold(()=>{n.onExecute(Yt,Ko)},J)})}),Lr((Yt,vn)=>{w(Yt).each(To=>{jo.append(Yt,D(To)),n.onOpenMenu(Yt,To),n.highlightOnOpen===Ec.HighlightMenuAndItem?Z(Yt,To):n.highlightOnOpen===Ec.HighlightJustMenu&&z(Yt,To)})}),Mt(pk,(Yt,vn)=>{n.onHighlightItem(Yt,vn.event.menuComp,vn.event.itemComp)}),Mt(g5,(Yt,vn)=>{n.onDehighlightItem(Yt,vn.event.menuComp,vn.event.itemComp)}),...n.navigateOnHover?[Mt(r5(),(Yt,vn)=>{const To=vn.event.item;wt(Yt,To),Xe(Yt,To,ze.HighlightParent),n.onHover(Yt,To)})]:[]]),mo=Yt=>fr.getHighlighted(Yt).bind(fr.getHighlighted),to=Yt=>{mo(Yt).each(vn=>{st(Yt,vn)})},ys=Yt=>{b.getPrimary().each(vn=>{Z(Yt,vn)})},ho=Yt=>F.from(Yt.components()[0]).filter(vn=>ea(vn.element,"role")==="menu"),no={collapseMenu:to,highlightPrimary:ys,repositionMenus:Yt=>{b.getPrimary().bind(To=>mo(Yt).bind(Ko=>{const ao=S(Ko),qo=Ma(b.getMenus()),Ur=Uo(He(qo,h5.extractPreparedMenu));return b.getTriggeringPath(ao,pr=>_(Yt,Ur,pr))}).map(Ko=>({primary:To,triggeringPath:Ko}))).fold(()=>{ho(Yt).each(To=>{n.onRepositionMenu(Yt,To,[])})},({primary:To,triggeringPath:Ko})=>{n.onRepositionMenu(Yt,To,Ko)})}};return{uid:n.uid,dom:n.dom,markers:n.markers,behaviours:zu(n.tmenuBehaviours,[lo.config({mode:"special",onRight:rn(Ot),onLeft:rn(kn),onEscape:rn(Jt),focusIn:(Yt,vn)=>{b.getPrimary().each(To=>{Vy(Yt,To.element,ba())})}}),fr.config({highlightClass:n.markers.selectedMenu,itemClass:n.markers.menu}),$t.config({find:Yt=>fr.getHighlighted(Yt)}),jo.config({})]),eventOrder:n.eventOrder,apis:no,events:on}},F8=ie("collapse-item"),$8=(n,s,i)=>({primary:n,menus:s,expansions:i}),I8=(n,s)=>({primary:n,menus:za(n,s),expansions:{}}),H8=n=>({value:me(F8()),meta:{text:n}}),Ix=oh({name:"TieredMenu",configFields:[X0("onExecute"),X0("onEscape"),Ih("onOpenMenu"),Ih("onOpenSubmenu"),Ps("onRepositionMenu"),Ps("onCollapseMenu"),bt("highlightOnOpen",Ec.HighlightMenuAndItem),cf("data",[qt("primary"),qt("menus"),qt("expansions")]),bt("fakeFocus",!1),Ps("onHighlightItem"),Ps("onDehighlightItem"),Ps("onHover"),N2(),qt("dom"),bt("navigateOnHover",!0),bt("stayInDom",!1),Ic("tmenuBehaviours",[lo,fr,$t,jo]),bt("eventOrder",{})],apis:{collapseMenu:(n,s)=>{n.collapseMenu(s)},highlightPrimary:(n,s)=>{n.highlightPrimary(s)},repositionMenus:(n,s)=>{n.repositionMenus(s)}},factory:$V,extraApis:{tieredData:$8,singleData:I8,collapseItem:H8}}),bk=ie("sink"),IV=ie(fu({name:bk(),overrides:ie({dom:{tag:"div"},behaviours:a([fd.config({useFixed:Lt})]),events:oa([xm(Ki()),xm(uu()),xm(dm())])})})),HV=Lu([bt("isExtraPart",vt),$i("fireEventInstead",[bt("event",mm())])]),p5=n=>{const s=Mc("Dismissal",HV,n);return{[Jm()]:{schema:Lu([qt("target")]),onReceive:(i,f)=>{ar.isOpen(i)&&(ar.isPartOf(i,f.target)||s.isExtraPart(i,f.target)||s.fireEventInstead.fold(()=>ar.close(i),w=>fs(i,w.event)))}}}},zV=Lu([$i("fireEventInstead",[bt("event",Md())]),cu("doReposition")]),yk=n=>{const s=Mc("Reposition",zV,n);return{[pl()]:{onReceive:i=>{ar.isOpen(i)&&s.fireEventInstead.fold(()=>s.doReposition(i),f=>fs(i,f.event))}}}},z8=(n,s)=>{const i=n.getHotspot(s).getOr(s),f="hotspot",b=n.getAnchorOverrides();return n.layouts.fold(()=>({type:f,hotspot:i,overrides:b}),w=>({type:f,hotspot:i,overrides:b,layouts:w}))},tE=(n,s,i)=>{const f=n.fetch;return f(i).map(s)},j8=(n,s,i,f,b,w,S)=>{const _=tE(n,s,f),B=V8(f,n);return _.map(z=>z.bind(Z=>{const K=Z.menus[Z.primary];return F.from(K).each(ae=>{n.listRole.each(he=>{ae.role=he})}),F.from(Ix.sketch({...w.menu(),uid:Jy(""),data:Z,highlightOnOpen:S,onOpenMenu:(ae,he)=>{const xe=B().getOrDie();fd.position(xe,he,{anchor:i}),ar.decloak(b)},onOpenSubmenu:(ae,he,xe)=>{const _e=B().getOrDie();fd.position(_e,xe,{anchor:{type:"submenu",item:he}}),ar.decloak(b)},onRepositionMenu:(ae,he,xe)=>{const _e=B().getOrDie();fd.position(_e,he,{anchor:i}),ft(xe,ze=>{fd.position(_e,ze.triggeredMenu,{anchor:{type:"submenu",item:ze.triggeringItem}})})},onEscape:()=>(et.focus(f),ar.close(b),F.some(!0))}))}))},vk=(n,s,i,f,b,w,S)=>{const _=z8(n,i);return j8(n,s,_,i,f,b,S).map(z=>(z.fold(()=>{ar.isOpen(f)&&ar.close(f)},Z=>{ar.cloak(f),ar.open(f,Z),w(f)}),f))},jV=(n,s,i,f,b,w,S)=>(ar.close(f),ls.pure(f)),xk=(n,s,i,f,b,w)=>{const S=Wo.getCoupled(i,"sandbox");return(ar.isOpen(S)?jV:vk)(n,s,i,S,f,b,w)},VV=(n,s,i)=>{const f=$t.getCurrent(s).getOr(s),b=Bi(n.element);i?So(f.element,"min-width",b+"px"):Sd(f.element,b)},V8=(n,s)=>n.getSystem().getByUid(s.uid+"-"+bk()).map(i=>()=>Pn.value(i)).getOrThunk(()=>s.lazySink.fold(()=>()=>Pn.error(new Error("No internal sink is specified, nor could an external sink be found")),i=>()=>i(n))),U8=n=>{ar.getState(n).each(s=>{Ix.repositionMenus(s)})},Z8=(n,s,i)=>{const f=y8(),b=(_,B)=>{const z=z8(n,s);f.link(s.element),n.matchWidth&&VV(z.hotspot,B,n.useMinWidth),n.onOpen(z,_,B),i!==void 0&&i.onOpen!==void 0&&i.onOpen(_,B)},w=(_,B)=>{f.unlink(s.element),S().getOr(B).element.dom.dispatchEvent(new window.FocusEvent("focusout")),i!==void 0&&i.onClose!==void 0&&i.onClose(_,B)},S=V8(s,n);return{dom:{tag:"div",classes:n.sandboxClasses,attributes:{id:f.id}},behaviours:Xg.augment(n.sandboxBehaviours,[In.config({store:{mode:"memory",initialValue:s}}),ar.config({onOpen:b,onClose:w,isPartOf:(_,B,z)=>av(B,z)||av(s,z),getAttachPoint:()=>S().getOrDie()}),$t.config({find:_=>ar.getState(_).bind(B=>$t.getCurrent(B))}),md.config({channels:{...p5({isExtraPart:vt}),...yk({doReposition:U8})}})])}},UV=n=>{const s=Wo.getCoupled(n,"sandbox");U8(s)},b5=()=>[bt("sandboxClasses",[]),Xg.field("sandboxBehaviours",[$t,md,ar,In])],ZV=ie([qt("dom"),qt("fetch"),Ps("onOpen"),tc("onExecute"),bt("getHotspot",F.some),bt("getAnchorOverrides",ie({})),ov(),Ic("dropdownBehaviours",[Ms,Wo,lo,et]),qt("toggleClass"),bt("eventOrder",{}),vr("lazySink"),bt("matchWidth",!1),bt("useMinWidth",!1),vr("role"),vr("listRole")].concat(b5())),WV=ie([Id({schema:[N2(),bt("fakeFocus",!1)],name:"menu",defaults:n=>({onExecute:n.onExecute})}),IV()]),qV=(n,s,i,f)=>{const b=Z=>Hn(n.dom,"attributes").bind(K=>Hn(K,Z)),w=Z=>{ar.getState(Z).each(K=>{Ix.highlightPrimary(K)})},S=(Z,K,ae)=>xk(n,ut,Z,f,K,ae),_=Z=>{S(Z,w,Ec.HighlightMenuAndItem).get(J)},B={expand:Z=>{Ms.isOn(Z)||S(Z,J,Ec.HighlightNone).get(J)},open:Z=>{Ms.isOn(Z)||S(Z,J,Ec.HighlightMenuAndItem).get(J)},refetch:Z=>Wo.getExistingCoupled(Z,"sandbox").fold(()=>S(Z,J,Ec.HighlightMenuAndItem).map(J),ae=>vk(n,ut,Z,ae,f,J,Ec.HighlightMenuAndItem).map(J)),isOpen:Ms.isOn,close:Z=>{Ms.isOn(Z)&&S(Z,J,Ec.HighlightMenuAndItem).get(J)},repositionMenus:Z=>{Ms.isOn(Z)&&UV(Z)}},z=(Z,K)=>(r1(Z),F.some(!0));return{uid:n.uid,dom:n.dom,components:s,behaviours:zu(n.dropdownBehaviours,[Ms.config({toggleClass:n.toggleClass,aria:{mode:"expanded"}}),Wo.config({others:{sandbox:Z=>Z8(n,Z,{onOpen:()=>Ms.on(Z),onClose:()=>Ms.off(Z)})}}),lo.config({mode:"special",onSpace:z,onEnter:z,onDown:(Z,K)=>{if(Gf.isOpen(Z)){const ae=Wo.getCoupled(Z,"sandbox");w(ae)}else Gf.open(Z);return F.some(!0)},onEscape:(Z,K)=>Gf.isOpen(Z)?(Gf.close(Z),F.some(!0)):F.none()}),et.config({})]),events:t5(F.some(_)),eventOrder:{...n.eventOrder,[Ls()]:["disabling","toggling","alloy.base.behaviour"]},apis:B,domModification:{attributes:{"aria-haspopup":n.listRole.getOr("true"),...n.role.fold(()=>({}),Z=>({role:Z})),...n.dom.tag==="button"?{type:b("type").getOr("button")}:{}}}}},Gf=pf({name:"Dropdown",configFields:ZV(),partFields:WV(),factory:qV,apis:{open:(n,s)=>n.open(s),refetch:(n,s)=>n.refetch(s),expand:(n,s)=>n.expand(s),close:(n,s)=>n.close(s),isOpen:(n,s)=>n.isOpen(s),repositionMenus:(n,s)=>n.repositionMenus(s)}}),W8="form",GV=[Ic("formBehaviours",[In])],y5=n=>"<alloy.field."+n+">",KV=n=>{const s=(()=>{const w=[];return{field:(_,B)=>(w.push(_),Rr(W8,y5(_),B)),record:ie(w)}})(),i=n(s),f=s.record(),b=He(f,w=>Sc({name:w,pname:y5(w)}));return c_(W8,GV,b,G8,i)},q8=(n,s)=>n.fold(()=>Pn.error(s),Pn.value),G8=(n,s)=>({uid:n.uid,dom:n.dom,components:s,behaviours:zu(n.formBehaviours,[In.config({store:{mode:"manual",getValue:i=>{const f=pm(i,n);return os(f,(b,w)=>b().bind(S=>{const _=$t.getCurrent(S);return q8(_,new Error(`Cannot find a current component to extract the value from for form part '${w}': `+Bd(S.element)))}).map(In.getValue))},setValue:(i,f)=>{zo(f,(b,w)=>{Dr(i,n,w).each(S=>{$t.getCurrent(S).each(_=>{In.setValue(_,b)})})})}}})]),apis:{getField:(i,f)=>Dr(i,n,f).bind($t.getCurrent)}}),iv={getField:Cx((n,s,i)=>n.getField(s,i)),sketch:KV},Rw=ie([qt("dom"),bt("shell",!0),Ic("toolbarBehaviours",[jo])]),XV=ie([fu({name:"groups",overrides:()=>({behaviours:a([jo.config({})])})})]),nE=(n,s,i,f)=>{const b=(_,B)=>{w(_).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},z=>{jo.set(z,B)})},w=_=>n.shell?F.some(_):Dr(_,n,"groups"),S=n.shell?{behaviours:[jo.config({})],components:[]}:{behaviours:[],components:s};return{uid:n.uid,dom:n.dom,components:S.components,behaviours:zu(n.toolbarBehaviours,S.behaviours),apis:{setGroups:b,refresh:J},domModification:{attributes:{role:"group"}}}},g0=pf({name:"Toolbar",configFields:Rw(),partFields:XV(),factory:nE,apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)}}}),QV=ie([hs(["toggledClass"]),qt("lazySink"),cu("fetch"),uf("getBounds"),$i("fireDismissalEventInstead",[bt("event",mm())]),ov(),Ps("onToggled")]),JV=ie([Id({name:"button",overrides:n=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:a([Ms.config({toggleClass:n.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:n.onToggled})])})}),Id({factory:g0,schema:Rw(),name:"toolbar",overrides:n=>({toolbarBehaviours:a([lo.config({mode:"cyclic",onEscape:s=>(Dr(s,n,"button").each(et.focus),F.none())})])})})]),Mw=Co(),K8=(n,s)=>{Mw.set(!0),v5(n,s),Mw.clear()},v5=(n,s)=>{const i=Wo.getCoupled(n,"toolbarSandbox");ar.isOpen(i)?ar.close(i):ar.open(i,s.toolbar())},oE=(n,s,i,f)=>{const b=i.getBounds.map(S=>S()),w=i.lazySink(n).getOrDie();fd.positionWithinBounds(w,s,{anchor:{type:"hotspot",hotspot:n,layouts:f,overrides:{maxWidthFunction:kb()}}},b)},Y8=(n,s,i,f,b)=>{g0.setGroups(s,b),oE(n,s,i,f),Ms.on(n)},eU=(n,s,i)=>{const f=y8(),b=(S,_)=>{const B=Mw.get().getOr(!1);i.fetch().get(z=>{Y8(n,_,i,s.layouts,z),f.link(n.element),B||lo.focusIn(_)})},w=()=>{Ms.off(n),Mw.get().getOr(!1)||et.focus(n),f.unlink(n.element)};return{dom:{tag:"div",attributes:{id:f.id}},behaviours:a([lo.config({mode:"special",onEscape:S=>(ar.close(S),F.some(!0))}),ar.config({onOpen:b,onClose:w,isPartOf:(S,_,B)=>av(_,B)||av(n,B),getAttachPoint:()=>i.lazySink(n).getOrDie()}),md.config({channels:{...p5({isExtraPart:vt,...i.fireDismissalEventInstead.map(S=>({fireEventInstead:{event:S.event}})).getOr({})}),...yk({doReposition:()=>{ar.getState(Wo.getCoupled(n,"toolbarSandbox")).each(S=>{oE(n,S,i,s.layouts)})}})}})])}},Zb=pf({name:"FloatingToolbarButton",factory:(n,s,i,f)=>({...rc.sketch({...f.button(),action:b=>{v5(b,f)},buttonBehaviours:Xg.augment({dump:f.button().buttonBehaviours},[Wo.config({others:{toolbarSandbox:b=>eU(b,i,n)}})])}),apis:{setGroups:(b,w)=>{ar.getState(Wo.getCoupled(b,"toolbarSandbox")).each(S=>{Y8(b,S,n,i.layouts,w)})},reposition:b=>{ar.getState(Wo.getCoupled(b,"toolbarSandbox")).each(w=>{oE(b,w,n,i.layouts)})},toggle:b=>{v5(b,f)},toggleWithoutFocusing:b=>{K8(b,f)},getToolbar:b=>ar.getState(Wo.getCoupled(b,"toolbarSandbox")),isOpen:b=>ar.isOpen(Wo.getCoupled(b,"toolbarSandbox"))}}),configFields:QV(),partFields:JV(),apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)},reposition:(n,s)=>{n.reposition(s)},toggle:(n,s)=>{n.toggle(s)},toggleWithoutFocusing:(n,s)=>{n.toggleWithoutFocusing(s)},getToolbar:(n,s)=>n.getToolbar(s),isOpen:(n,s)=>n.isOpen(s)}}),X8=ie([bt("prefix","form-field"),Ic("fieldBehaviours",[$t,In])]),tU=ie([fu({schema:[qt("dom")],name:"label"}),fu({factory:{sketch:n=>({uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}})},schema:[qt("text")],name:"aria-descriptor"}),Sc({factory:{sketch:n=>{const s=Ey(n,["factory"]);return n.factory.sketch(s)}},schema:[qt("factory")],name:"field"})]),nU=(n,s,i,f)=>{const b=zu(n.fieldBehaviours,[$t.config({find:_=>Dr(_,n,"field")}),In.config({store:{mode:"manual",getValue:_=>$t.getCurrent(_).bind(In.getValue),setValue:(_,B)=>{$t.getCurrent(_).each(z=>{In.setValue(z,B)})}}})]),w=oa([Lr((_,B)=>{const z=Hf(_,n,["label","field","aria-descriptor"]);z.field().each(Z=>{const K=me(n.prefix);z.label().each(ae=>{uo(ae.element,"for",K),uo(Z.element,"id",K)}),z["aria-descriptor"]().each(ae=>{const he=me(n.prefix);uo(ae.element,"id",he),uo(Z.element,"aria-describedby",he)})})})]),S={getField:_=>Dr(_,n,"field"),getLabel:_=>Dr(_,n,"label")};return{uid:n.uid,dom:n.dom,components:s,behaviours:b,events:w,apis:S}},Ds=pf({name:"FormField",configFields:X8(),partFields:tU(),factory:nU,apis:{getField:(n,s)=>n.getField(s),getLabel:(n,s)=>n.getLabel(s)}}),oU=ie([bt("field1Name","field1"),bt("field2Name","field2"),Ih("onLockedChange"),hs(["lockClass"]),bt("locked",!1),Xg.field("coupledFieldBehaviours",[$t,In]),dr("onInput",J)]),sU=(n,s,i)=>Dr(n,s,i).bind($t.getCurrent),Q8=(n,s)=>Sc({factory:Ds,name:n,overrides:i=>({fieldBehaviours:a([fe("coupled-input-behaviour",[Mt(Bf(),f=>{sU(f,i,s).each(b=>{Dr(f,i,"lock").each(w=>{Ms.isOn(w)&&i.onLockedChange(f,b,w),i.onInput(f)})})})])])})}),rU=ie([Q8("field1","field2"),Q8("field2","field1"),Sc({factory:rc,schema:[qt("dom")],name:"lock",overrides:n=>({buttonBehaviours:a([Ms.config({selected:n.locked,toggleClass:n.markers.lockClass,aria:{mode:"pressed"}})])})})]),aU=(n,s,i,f)=>({uid:n.uid,dom:n.dom,components:s,behaviours:Xg.augment(n.coupledFieldBehaviours,[$t.config({find:F.some}),In.config({store:{mode:"manual",getValue:b=>{const w=Ry(b,n,["field1","field2"]);return{[n.field1Name]:In.getValue(w.field1()),[n.field2Name]:In.getValue(w.field2())}},setValue:(b,w)=>{const S=Ry(b,n,["field1","field2"]);Oo(w,n.field1Name)&&In.setValue(S.field1(),w[n.field1Name]),Oo(w,n.field2Name)&&In.setValue(S.field2(),w[n.field2Name])}}})]),apis:{getField1:b=>Dr(b,n,"field1"),getField2:b=>Dr(b,n,"field2"),getLock:b=>Dr(b,n,"lock")}}),tl=pf({name:"FormCoupledInputs",configFields:oU(),partFields:rU(),factory:aU,apis:{getField1:(n,s)=>n.getField1(s),getField2:(n,s)=>n.getField2(s),getLock:(n,s)=>n.getLock(s)}}),iU=(n,s)=>{const i=He(n.options,b=>({dom:{tag:"option",value:b.value,innerHtml:b.text}})),f=n.data.map(b=>za("initialValue",b)).getOr({});return{uid:n.uid,dom:{tag:"select",classes:n.selectClasses,attributes:n.selectAttributes},components:i,behaviours:zu(n.selectBehaviours,[et.config({}),In.config({store:{mode:"manual",getValue:b=>pc(b.element),setValue:(b,w)=>{const S=sn(n.options);Be(n.options,B=>B.value===w).isSome()?_d(b.element,w):b.element.dom.selectedIndex===-1&&w===""&&S.each(B=>_d(b.element,B.value))},...f}})])}},w5=oh({name:"HtmlSelect",configFields:[qt("options"),Ic("selectBehaviours",[et,In]),bt("selectClasses",[]),bt("selectAttributes",{}),vr("data")],factory:iU}),J8=(n,s,i,f,b)=>{const w=()=>n.lazySink(s),S=f.type==="horizontal"?{layouts:{onLtr:()=>tx(),onRtl:()=>Wh()}}:{},_=z=>z.length===2,B=z=>_(z)?S:{};return Ix.sketch({dom:{tag:"div"},data:f.data,markers:f.menu.markers,highlightOnOpen:f.menu.highlightOnOpen,fakeFocus:f.menu.fakeFocus,onEscape:()=>(ar.close(s),n.onEscape.map(z=>z(s)),F.some(!0)),onExecute:()=>F.some(!0),onOpenMenu:(z,Z)=>{fd.positionWithinBounds(w().getOrDie(),Z,i,b())},onOpenSubmenu:(z,Z,K,ae)=>{const he=w().getOrDie();fd.position(he,K,{anchor:{type:"submenu",item:Z,...B(ae)}})},onRepositionMenu:(z,Z,K)=>{const ae=w().getOrDie();fd.positionWithinBounds(ae,Z,i,b()),ft(K,he=>{const xe=B(he.triggeringPath);fd.position(ae,he.triggeredMenu,{anchor:{type:"submenu",item:he.triggeringItem,...xe}})})}})},lU=(n,s)=>{const i=(ae,he)=>n.getRelated(ae).exists(_e=>av(_e,he)),f=(ae,he)=>{ar.setContent(ae,he)},b=(ae,he,xe)=>{const _e=F.none;w(ae,he,xe,_e)},w=(ae,he,xe,_e)=>{const ze=n.lazySink(ae).getOrDie();ar.openWhileCloaked(ae,he,()=>fd.positionWithinBounds(ze,ae,xe,_e())),In.setValue(ae,F.some({mode:"position",config:xe,getBounds:_e}))},S=(ae,he,xe)=>{_(ae,he,xe,F.none)},_=(ae,he,xe,_e)=>{const ze=J8(n,ae,he,xe,_e);ar.open(ae,ze),In.setValue(ae,F.some({mode:"menu",menu:ze}))},B=ae=>{ar.isOpen(ae)&&(In.setValue(ae,F.none()),ar.close(ae))},z=ae=>ar.getState(ae),Z=ae=>{ar.isOpen(ae)&&In.getValue(ae).each(he=>{switch(he.mode){case"menu":ar.getState(ae).each(Ix.repositionMenus);break;case"position":const xe=n.lazySink(ae).getOrDie();fd.positionWithinBounds(xe,ae,he.config,he.getBounds());break}})},K={setContent:f,showAt:b,showWithinBounds:w,showMenuAt:S,showMenuWithinBounds:_,hide:B,getContent:z,reposition:Z,isOpen:ar.isOpen};return{uid:n.uid,dom:n.dom,behaviours:zu(n.inlineBehaviours,[ar.config({isPartOf:(ae,he,xe)=>av(he,xe)||i(ae,xe),getAttachPoint:ae=>n.lazySink(ae).getOrDie(),onOpen:ae=>{n.onShow(ae)},onClose:ae=>{n.onHide(ae)}}),In.config({store:{mode:"memory",initialValue:F.none()}}),md.config({channels:{...p5({isExtraPart:s.isExtraPart,...n.fireDismissalEventInstead.map(ae=>({fireEventInstead:{event:ae.event}})).getOr({})}),...yk({...n.fireRepositionEventInstead.map(ae=>({fireEventInstead:{event:ae.event}})).getOr({}),doReposition:Z})}})]),eventOrder:n.eventOrder,apis:K}},hi=oh({name:"InlineView",configFields:[qt("lazySink"),Ps("onShow"),Ps("onHide"),uf("onEscape"),Ic("inlineBehaviours",[ar,In,md]),$i("fireDismissalEventInstead",[bt("event",mm())]),$i("fireRepositionEventInstead",[bt("event",Md())]),bt("getRelated",F.none),bt("isExtraPart",vt),bt("eventOrder",F.none)],factory:lU,apis:{showAt:(n,s,i,f)=>{n.showAt(s,i,f)},showWithinBounds:(n,s,i,f,b)=>{n.showWithinBounds(s,i,f,b)},showMenuAt:(n,s,i,f)=>{n.showMenuAt(s,i,f)},showMenuWithinBounds:(n,s,i,f,b)=>{n.showMenuWithinBounds(s,i,f,b)},hide:(n,s)=>{n.hide(s)},isOpen:(n,s)=>n.isOpen(s),getContent:(n,s)=>n.getContent(s),setContent:(n,s,i)=>{n.setContent(s,i)},reposition:(n,s)=>{n.reposition(s)}}}),C5=ie([Oa("type","text"),vr("data"),bt("inputAttributes",{}),bt("inputStyles",{}),bt("tag","input"),bt("inputClasses",[]),Ps("onSetValue"),dr("fromInputValue",ut),dr("toInputValue",ut),bt("styles",{}),bt("eventOrder",{}),Ic("inputBehaviours",[In,et]),bt("selectOnFocus",!0)]),eL=n=>a([et.config({onFocus:n.selectOnFocus?s=>{const i=s.element,f=pc(i);n.type!=="range"&&i.dom.setSelectionRange(0,f.length)}:J})]),cU=n=>({...eL(n),...zu(n.inputBehaviours,[In.config({store:{mode:"manual",...n.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>n.fromInputValue(pc(s.element)),setValue:(s,i)=>{pc(s.element)!==i&&_d(s.element,n.toInputValue(i))}},onSetValue:n.onSetValue})])}),S5=n=>({tag:n.tag,attributes:{type:n.type,...n.inputAttributes},styles:n.inputStyles,classes:n.inputClasses}),tL=(n,s)=>({uid:n.uid,dom:S5(n),components:[],behaviours:cU(n),eventOrder:n.eventOrder}),C1=oh({name:"Input",configFields:C5(),factory:tL}),E5=Fg(i5(),l5()),uU=(n,s)=>{const i=li(n,"id").fold(()=>{const f=me("dialog-label");return uo(s,"id",f),f},ut);uo(n,"aria-labelledby",i)},dU=ie([qt("lazySink"),vr("dragBlockClass"),dr("getBounds",bc),bt("useTabstopAt",Lt),bt("firstTabstop",0),bt("eventOrder",{}),Ic("modalBehaviours",[lo]),tc("onExecute"),X0("onEscape")]),wk={sketch:ut},T5=ie([fu({name:"draghandle",overrides:(n,s)=>({behaviours:a([zb.config({mode:"mouse",getTarget:i=>tu(i,'[role="dialog"]').getOr(i),blockerClass:n.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:n.getDragBounds})])})}),Sc({schema:[qt("dom")],name:"title"}),Sc({factory:wk,schema:[qt("dom")],name:"close"}),Sc({factory:wk,schema:[qt("dom")],name:"body"}),fu({factory:wk,schema:[qt("dom")],name:"footer"}),Id({factory:{sketch:(n,s)=>({...n,dom:s.dom,components:s.components})},schema:[bt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),bt("components",[])],name:"blocker"})]),fU=(n,s,i,f)=>{const b=Co(),w=xe=>{b.set(xe);const _e=n.lazySink(xe).getOrDie(),ze=f.blocker(),Ee=_e.getSystem().build({...ze,components:ze.components.concat([D(xe)]),behaviours:a([et.config({}),fe("dialog-blocker-events",[t0(ec(),()=>{tn.isBlocked(xe)?J():lo.focusIn(xe)})])])});r0(_e,Ee),lo.focusIn(xe)},S=xe=>{b.clear(),xl(xe.element).each(_e=>{xe.getSystem().getByDom(_e).each(ze=>{i0(ze)})})},_=xe=>ad(xe,n,"body"),B=xe=>Dr(xe,n,"footer"),z=(xe,_e)=>{tn.block(xe,_e)},Z=xe=>{tn.unblock(xe)},K=me("modal-events"),ae={...n.eventOrder,[Lc()]:[K].concat(n.eventOrder["alloy.system.attached"]||[])},he=Ua();return{uid:n.uid,dom:n.dom,components:s,apis:{show:w,hide:S,getBody:_,getFooter:B,setIdle:Z,setBusy:z},eventOrder:ae,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:zu(n.modalBehaviours,[jo.config({}),lo.config({mode:"cyclic",onEnter:n.onExecute,onEscape:n.onEscape,useTabstopAt:n.useTabstopAt,firstTabstop:n.firstTabstop}),tn.config({getRoot:b.get}),fe(K,[Lr(xe=>{const _e=ad(xe,n,"title").element,ze=Lm(_e);he.os.isMacOS()&&Fe(ze)?uo(xe.element,"aria-label",ze):uU(xe.element,_e)})])])}},ac=pf({name:"ModalDialog",configFields:dU(),partFields:T5(),factory:fU,apis:{show:(n,s)=>{n.show(s)},hide:(n,s)=>{n.hide(s)},getBody:(n,s)=>n.getBody(s),getFooter:(n,s)=>n.getFooter(s),setBusy:(n,s,i)=>{n.setBusy(s,i)},setIdle:(n,s)=>{n.setIdle(s)}}}),mU=fu({schema:[qt("dom")],name:"label"}),lv=n=>fu({name:""+n+"-edge",overrides:s=>s.model.manager.edgeActions[n].fold(()=>({}),f=>({events:oa([mf(td(),(b,w,S)=>f(b,S),[s]),mf(uu(),(b,w,S)=>f(b,S),[s]),mf(xc(),(b,w,S)=>{S.mouseIsDown.get()&&f(b,S)},[s])])}))}),hU=lv("top-left"),gU=lv("top"),nL=lv("top-right"),oL=lv("right"),pU=lv("bottom-right"),bU=lv("bottom"),yU=lv("bottom-left"),Sm=lv("left"),ep=Sc({name:"thumb",defaults:ie({dom:{styles:{position:"absolute"}}}),overrides:n=>({events:oa([Qm(td(),n,"spectrum"),Qm(Xa(),n,"spectrum"),Qm($l(),n,"spectrum"),Qm(uu(),n,"spectrum"),Qm(xc(),n,"spectrum"),Qm(Mf(),n,"spectrum")])})}),sE=n=>c1(n.event),A5=Sc({schema:[yc("mouseIsDown",()=>Mn(!1))],name:"spectrum",overrides:n=>{const i=n.model.manager,f=(b,w)=>i.getValueFromEvent(w).map(S=>i.setValueFrom(b,n,S));return{behaviours:a([lo.config({mode:"special",onLeft:(b,w)=>i.onLeft(b,n,sE(w)),onRight:(b,w)=>i.onRight(b,n,sE(w)),onUp:(b,w)=>i.onUp(b,n,sE(w)),onDown:(b,w)=>i.onDown(b,n,sE(w))}),ua.config({}),et.config({})]),events:oa([Mt(td(),f),Mt(Xa(),f),Mt(uu(),f),Mt(xc(),(b,w)=>{n.mouseIsDown.get()&&f(b,w)})])}}});var k5=[mU,Sm,oL,gU,bU,hU,nL,yU,pU,ep,A5];const rE=ie("slider.change.value"),sL=n=>n.type.indexOf("touch")!==-1,Hx=n=>{const s=n.event.raw;if(sL(s)){const i=s;return i.touches!==void 0&&i.touches.length===1?F.some(i.touches[0]).map(f=>hr(f.clientX,f.clientY)):F.none()}else{const i=s;return i.clientX!==void 0?F.some(i).map(f=>hr(f.clientX,f.clientY)):F.none()}},vU="top",Ck="right",_5="bottom",rL="left",p0=n=>n.model.minX,zx=n=>n.model.minY,Sk=n=>n.model.minX-1,ah=n=>n.model.minY-1,gu=n=>n.model.maxX,b0=n=>n.model.maxY,Zd=n=>n.model.maxX+1,Ek=n=>n.model.maxY+1,da=(n,s,i)=>s(n)-i(n),O5=n=>da(n,gu,p0),y0=n=>da(n,b0,zx),Bw=n=>O5(n)/2,N5=n=>y0(n)/2,cv=(n,s)=>s?n.stepSize*n.speedMultiplier:n.stepSize,Tk=n=>n.snapToGrid,aL=n=>n.snapStart,Ak=n=>n.rounded,kk=(n,s)=>n[s+"-edge"]!==void 0,R5=n=>kk(n,rL),M5=n=>kk(n,Ck),Dk=n=>kk(n,vU),B5=n=>kk(n,_5),tp=n=>n.model.value.get(),uv=(n,s)=>({x:n,y:s}),np=(n,s)=>{so(n,rE(),{value:s})},xU=(n,s)=>{np(n,uv(Sk(s),ah(s)))},wU=(n,s)=>{np(n,ah(s))},CU=(n,s)=>{np(n,uv(Bw(s),ah(s)))},iL=(n,s)=>{np(n,uv(Zd(s),ah(s)))},SU=(n,s)=>{np(n,Zd(s))},EU=(n,s)=>{np(n,uv(Zd(s),N5(s)))},lL=(n,s)=>{np(n,uv(Zd(s),Ek(s)))},TU=(n,s)=>{np(n,Ek(s))},cL=(n,s)=>{np(n,uv(Bw(s),Ek(s)))},aE=(n,s)=>{np(n,uv(Sk(s),Ek(s)))},AU=(n,s)=>{np(n,Sk(s))},kU=(n,s)=>{np(n,uv(Sk(s),N5(s)))},_k=(n,s,i,f)=>n<s?n:n>i?i:n===s?s-1:Math.max(s,n-f),Ok=(n,s,i,f)=>n>i?n:n<s?s:n===i?i+1:Math.min(i,n+f),Nk=(n,s,i)=>Math.max(s,Math.min(i,n)),uL=(n,s,i,f,b)=>b.fold(()=>{const w=n-s,S=Math.round(w/f)*f;return Nk(s+S,s-1,i+1)},w=>{const S=(n-w)%f,_=Math.round(S/f),B=Math.floor((n-w)/f),z=Math.floor((i-w)/f),Z=Math.min(z,B+_),K=w+Z*f;return Math.max(w,K)}),DU=(n,s,i)=>Math.min(i,Math.max(n,s))-s,dL=n=>{const{min:s,max:i,range:f,value:b,step:w,snap:S,snapStart:_,rounded:B,hasMinEdge:z,hasMaxEdge:Z,minBound:K,maxBound:ae,screenRange:he}=n,xe=z?s-1:s,_e=Z?i+1:i;if(b<K)return xe;if(b>ae)return _e;{const ze=DU(b,K,ae),Ee=Nk(ze/he*f+s,xe,_e);return S&&Ee>=s&&Ee<=i?uL(Ee,s,i,w,_):B?Math.round(Ee):Ee}},fL=n=>{const{min:s,max:i,range:f,value:b,hasMinEdge:w,hasMaxEdge:S,maxBound:_,maxOffset:B,centerMinEdge:z,centerMaxEdge:Z}=n;return b<s?w?0:z:b>i?S?_:Z:(b-s)/f*B},L5="top",mL="right",hL="bottom",Rk="left",op="width",_U="height",sp=n=>n.element.dom.getBoundingClientRect(),ng=(n,s)=>n[s],iE=n=>{const s=sp(n);return ng(s,Rk)},gL=n=>{const s=sp(n);return ng(s,mL)},lE=n=>{const s=sp(n);return ng(s,L5)},P5=n=>{const s=sp(n);return ng(s,hL)},F5=n=>{const s=sp(n);return ng(s,op)},pL=n=>{const s=sp(n);return ng(s,_U)},bL=(n,s,i)=>(n+s)/2-i,yL=(n,s)=>{const i=sp(n),f=sp(s),b=ng(i,Rk),w=ng(i,mL),S=ng(f,Rk);return bL(b,w,S)},vL=(n,s)=>{const i=sp(n),f=sp(s),b=ng(i,L5),w=ng(i,hL),S=ng(f,L5);return bL(b,w,S)},Mk=(n,s)=>{so(n,rE(),{value:s})},$5=(n,s,i)=>{const f={min:p0(s),max:gu(s),range:O5(s),value:i,step:cv(s),snap:Tk(s),snapStart:aL(s),rounded:Ak(s),hasMinEdge:R5(s),hasMaxEdge:M5(s),minBound:iE(n),maxBound:gL(n),screenRange:F5(n)};return dL(f)},OU=(n,s,i)=>{const f=$5(n,s,i);return Mk(n,f),f},xL=(n,s)=>{const i=p0(s);Mk(n,i)},wL=(n,s)=>{const i=gu(s);Mk(n,i)},CL=(n,s,i,f)=>{const w=(n>0?Ok:_k)(tp(i),p0(i),gu(i),cv(i,f));return Mk(s,w),F.some(w)},I5=n=>(s,i,f)=>CL(n,s,i,f).map(Lt),NU=n=>Hx(n).map(i=>i.left),RU=(n,s,i,f,b)=>{const S=F5(n),_=f.bind(Z=>F.some(yL(Z,n))).getOr(0),B=b.bind(Z=>F.some(yL(Z,n))).getOr(S),z={min:p0(s),max:gu(s),range:O5(s),value:i,hasMinEdge:R5(s),hasMaxEdge:M5(s),minBound:iE(n),maxBound:gL(n),maxOffset:S,centerMinEdge:_,centerMaxEdge:B};return fL(z)},H5=(n,s,i,f,b,w)=>{const S=RU(s,w,i,f,b);return iE(s)-iE(n)+S},SL=(n,s,i,f)=>{const b=tp(i),w=H5(n,f.getSpectrum(n),b,f.getLeftEdge(n),f.getRightEdge(n),i),S=Bi(s.element)/2;So(s.element,"left",w-S+"px")},Lw=I5(-1),Bk=I5(1),MU=F.none,EL=F.none,TL={"top-left":F.none(),top:F.none(),"top-right":F.none(),right:F.some(SU),"bottom-right":F.none(),bottom:F.none(),"bottom-left":F.none(),left:F.some(AU)};var AL=Object.freeze({__proto__:null,setValueFrom:OU,setToMin:xL,setToMax:wL,findValueOfOffset:$5,getValueFromEvent:NU,findPositionOfValue:H5,setPositionFromValue:SL,onLeft:Lw,onRight:Bk,onUp:MU,onDown:EL,edgeActions:TL});const cE=(n,s)=>{so(n,rE(),{value:s})},uE=(n,s,i)=>{const f={min:zx(s),max:b0(s),range:y0(s),value:i,step:cv(s),snap:Tk(s),snapStart:aL(s),rounded:Ak(s),hasMinEdge:Dk(s),hasMaxEdge:B5(s),minBound:lE(n),maxBound:P5(n),screenRange:pL(n)};return dL(f)},z5=(n,s,i)=>{const f=uE(n,s,i);return cE(n,f),f},BU=(n,s)=>{const i=zx(s);cE(n,i)},LU=(n,s)=>{const i=b0(s);cE(n,i)},PU=(n,s,i,f)=>{const w=(n>0?Ok:_k)(tp(i),zx(i),b0(i),cv(i,f));return cE(s,w),F.some(w)},j5=n=>(s,i,f)=>PU(n,s,i,f).map(Lt),kL=n=>Hx(n).map(i=>i.top),FU=(n,s,i,f,b)=>{const S=pL(n),_=f.bind(Z=>F.some(vL(Z,n))).getOr(0),B=b.bind(Z=>F.some(vL(Z,n))).getOr(S),z={min:zx(s),max:b0(s),range:y0(s),value:i,hasMinEdge:Dk(s),hasMaxEdge:B5(s),minBound:lE(n),maxBound:P5(n),maxOffset:S,centerMinEdge:_,centerMaxEdge:B};return fL(z)},V5=(n,s,i,f,b,w)=>{const S=FU(s,w,i,f,b);return lE(s)-lE(n)+S},DL=(n,s,i,f)=>{const b=tp(i),w=V5(n,f.getSpectrum(n),b,f.getTopEdge(n),f.getBottomEdge(n),i),S=bi(s.element)/2;So(s.element,"top",w-S+"px")},$U=F.none,IU=F.none,HU=j5(-1),zU=j5(1),jU={"top-left":F.none(),top:F.some(wU),"top-right":F.none(),right:F.none(),"bottom-right":F.none(),bottom:F.some(TU),"bottom-left":F.none(),left:F.none()};var VU=Object.freeze({__proto__:null,setValueFrom:z5,setToMin:BU,setToMax:LU,findValueOfOffset:uE,getValueFromEvent:kL,findPositionOfValue:V5,setPositionFromValue:DL,onLeft:$U,onRight:IU,onUp:HU,onDown:zU,edgeActions:jU});const Lk=(n,s)=>{so(n,rE(),{value:s})},dE=(n,s)=>({x:n,y:s}),_L=(n,s,i)=>{const f=$5(n,s,i.left),b=uE(n,s,i.top),w=dE(f,b);return Lk(n,w),w},UU=(n,s,i,f,b)=>{const w=n>0?Ok:_k,S=s?tp(f).x:w(tp(f).x,p0(f),gu(f),cv(f,b)),_=s?w(tp(f).y,zx(f),b0(f),cv(f,b)):tp(f).y;return Lk(i,dE(S,_)),F.some(S)},Pk=(n,s)=>(i,f,b)=>UU(n,s,i,f,b).map(Lt),ZU=(n,s)=>{const i=p0(s),f=zx(s);Lk(n,dE(i,f))},OL=(n,s)=>{const i=gu(s),f=b0(s);Lk(n,dE(i,f))},WU=n=>Hx(n),qU=(n,s,i,f)=>{const b=tp(i),w=H5(n,f.getSpectrum(n),b.x,f.getLeftEdge(n),f.getRightEdge(n),i),S=V5(n,f.getSpectrum(n),b.y,f.getTopEdge(n),f.getBottomEdge(n),i),_=Bi(s.element)/2,B=bi(s.element)/2;So(s.element,"left",w-_+"px"),So(s.element,"top",S-B+"px")},GU=Pk(-1,!1),Fk=Pk(1,!1),KU=Pk(-1,!0),YU=Pk(1,!0),XU={"top-left":F.some(xU),top:F.some(CU),"top-right":F.some(iL),right:F.some(EU),"bottom-right":F.some(lL),bottom:F.some(cL),"bottom-left":F.some(aE),left:F.some(kU)};var QU=Object.freeze({__proto__:null,setValueFrom:_L,setToMin:ZU,setToMax:OL,getValueFromEvent:WU,setPositionFromValue:qU,onLeft:GU,onRight:Fk,onUp:KU,onDown:YU,edgeActions:XU});const JU=[bt("stepSize",1),bt("speedMultiplier",10),bt("onChange",J),bt("onChoose",J),bt("onInit",J),bt("onDragStart",J),bt("onDragEnd",J),bt("snapToGrid",!1),bt("rounded",!0),vr("snapStart"),Bc("model",Kl("mode",{x:[bt("minX",0),bt("maxX",100),yc("value",n=>Mn(n.mode.minX)),qt("getInitialValue"),sr("manager",AL)],y:[bt("minY",0),bt("maxY",100),yc("value",n=>Mn(n.mode.minY)),qt("getInitialValue"),sr("manager",VU)],xy:[bt("minX",0),bt("maxX",100),bt("minY",0),bt("maxY",100),yc("value",n=>Mn({x:n.mode.minX,y:n.mode.minY})),qt("getInitialValue"),sr("manager",QU)]})),Ic("sliderBehaviours",[lo,In]),yc("mouseIsDown",()=>Mn(!1))],rp=pf({name:"Slider",configFields:JU,partFields:k5,factory:(n,s,i,f)=>{const b=Ot=>ad(Ot,n,"thumb"),w=Ot=>ad(Ot,n,"spectrum"),S=Ot=>Dr(Ot,n,"left-edge"),_=Ot=>Dr(Ot,n,"right-edge"),B=Ot=>Dr(Ot,n,"top-edge"),z=Ot=>Dr(Ot,n,"bottom-edge"),Z=n.model,K=Z.manager,ae=(Ot,kn)=>{K.setPositionFromValue(Ot,kn,n,{getLeftEdge:S,getRightEdge:_,getTopEdge:B,getBottomEdge:z,getSpectrum:w})},he=(Ot,kn)=>{Z.value.set(kn);const Jt=b(Ot);ae(Ot,Jt)},xe=(Ot,kn)=>{he(Ot,kn);const Jt=b(Ot);return n.onChange(Ot,Jt,kn),F.some(!0)},_e=Ot=>{K.setToMin(Ot,n)},ze=Ot=>{K.setToMax(Ot,n)},Ee=Ot=>{const kn=()=>{Dr(Ot,n,"thumb").each(rn=>{const on=Z.value.get();n.onChoose(Ot,rn,on)})},Jt=n.mouseIsDown.get();n.mouseIsDown.set(!1),Jt&&kn()},Xe=(Ot,kn)=>{kn.stop(),n.mouseIsDown.set(!0),n.onDragStart(Ot,b(Ot))},st=(Ot,kn)=>{kn.stop(),n.onDragEnd(Ot,b(Ot)),Ee(Ot)},wt=Ot=>{Dr(Ot,n,"spectrum").map(lo.focusIn)};return{uid:n.uid,dom:n.dom,components:s,behaviours:zu(n.sliderBehaviours,[lo.config({mode:"special",focusIn:wt}),In.config({store:{mode:"manual",getValue:Ot=>Z.value.get(),setValue:he}}),md.config({channels:{[o0()]:{onReceive:Ee}}})]),events:oa([Mt(rE(),(Ot,kn)=>{xe(Ot,kn.event.value)}),Lr((Ot,kn)=>{const Jt=Z.getInitialValue();Z.value.set(Jt);const rn=b(Ot);ae(Ot,rn);const on=w(Ot);n.onInit(Ot,rn,on,Z.value.get())}),Mt(td(),Xe),Mt($l(),st),Mt(uu(),(Ot,kn)=>{wt(Ot),Xe(Ot,kn)}),Mt(Mf(),st)]),apis:{resetToMin:_e,resetToMax:ze,setValue:he,refresh:ae},domModification:{styles:{position:"relative"}}}},apis:{setValue:(n,s,i)=>{n.setValue(s,i)},resetToMin:(n,s)=>{n.resetToMin(s)},resetToMax:(n,s)=>{n.resetToMax(s)},refresh:(n,s)=>{n.refresh(s)}}}),NL="container",eZ=[Ic("slotBehaviours",[])],RL=n=>"<alloy.field."+n+">",tZ=n=>{const s=(()=>{const w=[];return{slot:(_,B)=>(w.push(_),Rr(NL,RL(_),B)),record:ie(w)}})(),i=n(s),f=s.record(),b=He(f,w=>Sc({name:w,pname:RL(w)}));return c_(NL,eZ,b,nZ,i)},nZ=(n,s)=>{const i=_e=>id(n),f=(_e,ze)=>Dr(_e,n,ze),b=(_e,ze)=>(Ee,Xe)=>Dr(Ee,n,Xe).map(st=>_e(st,Xe)).getOr(ze),w=_e=>(ze,Ee)=>{ft(Ee,Xe=>_e(ze,Xe))},S=(_e,ze)=>ea(_e.element,"aria-hidden")!=="true",_=(_e,ze)=>{if(!S(_e)){const Ee=_e.element;cs(Ee,"display"),cr(Ee,"aria-hidden"),so(_e,$p(),{name:ze,visible:!0})}},B=(_e,ze)=>{if(S(_e)){const Ee=_e.element;So(Ee,"display","none"),uo(Ee,"aria-hidden","true"),so(_e,$p(),{name:ze,visible:!1})}},z=b(S,!1),Z=b(B),K=w(Z),ae=_e=>K(_e,i()),he=b(_),xe={getSlotNames:i,getSlot:f,isShowing:z,hideSlot:Z,hideAllSlots:ae,showSlot:he};return{uid:n.uid,dom:n.dom,components:s,behaviours:zS(n.slotBehaviours),apis:xe}},pu={...os({getSlotNames:(n,s)=>n.getSlotNames(s),getSlot:(n,s,i)=>n.getSlot(s,i),isShowing:(n,s,i)=>n.isShowing(s,i),hideSlot:(n,s,i)=>n.hideSlot(s,i),hideAllSlots:(n,s)=>n.hideAllSlots(s),showSlot:(n,s,i)=>n.showSlot(s,i)},n=>Cx(n)),sketch:tZ},oZ=(n,s)=>Ho(n,(b,w)=>s(w,b.len).fold(ie(b),_=>({len:_.finish,list:b.list.concat([_])})),{len:0,list:[]}).list,U5=(n,s,i)=>({within:n,extra:s,withinWidth:i}),ML=(n,s,i)=>{const f=oZ(n,(_,B)=>{const z=i(_);return F.some({element:_,start:B,finish:B+z,width:z})}),b=xo(f,_=>_.finish<=s),w=Mo(b,(_,B)=>_+B.width,0),S=f.slice(b.length);return{within:b,extra:S,withinWidth:w}},fE=n=>He(n,s=>s.element),sZ=(n,s,i)=>{const f=fE(n.concat(s));return U5(f,[],i)},rZ=(n,s,i,f)=>{const b=fE(n).concat([i]);return U5(b,fE(s),f)},aZ=(n,s,i)=>U5(fE(n),[],i),iZ=(n,s,i)=>{const f=ML(s,n,i);return f.extra.length===0?F.some(f):F.none()},lZ=(n,s,i,f)=>{const b=iZ(n,s,i).getOrThunk(()=>ML(s,n-i(f),i)),w=b.within,S=b.extra,_=b.withinWidth;return S.length===1&&S[0].width<=i(f)?sZ(w,S,_):S.length>=1?rZ(w,S,f,_):aZ(w,S,_)},BL=(n,s)=>{const i=He(s,f=>D(f));g0.setGroups(n,i)},Z5=n=>Jo(n,s=>ii(s.element).bind(i=>s.getSystem().getByDom(i).toOptional())),LL=(n,s,i)=>{const f=s.builtGroups.get();if(f.length===0)return;const b=ad(n,s,"primary"),w=Wo.getCoupled(n,"overflowGroup");So(b.element,"visibility","hidden");const S=f.concat([w]),_=Z5(S);i([]),BL(b,S);const B=Bi(b.element),z=lZ(B,s.builtGroups.get(),Z=>Math.ceil(Z.element.dom.getBoundingClientRect().width),w);z.extra.length===0?(jo.remove(b,w),i([])):(BL(b,z.within),i(z.extra)),cs(b.element,"visibility"),ql(b.element),_.each(et.focus)},PL=ie([Ic("splitToolbarBehaviours",[Wo]),yc("builtGroups",()=>Mn([]))]),cZ=ie([hs(["overflowToggledClass"]),uf("getOverflowBounds"),qt("lazySink"),yc("overflowGroups",()=>Mn([])),Ps("onOpened"),Ps("onClosed")].concat(PL())),uZ=ie([Sc({factory:g0,schema:Rw(),name:"primary"}),Id({schema:Rw(),name:"overflow"}),Id({name:"overflow-button"}),Id({name:"overflow-group"})]),dZ=ie([qt("items"),hs(["itemSelector"]),Ic("tgroupBehaviours",[lo])]),fZ=ie([e1({name:"items",unit:"item"})]),mZ=(n,s,i,f)=>({uid:n.uid,dom:n.dom,components:s,behaviours:zu(n.tgroupBehaviours,[lo.config({mode:"flow",selector:n.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),$k=pf({name:"ToolbarGroup",configFields:dZ(),partFields:fZ(),factory:mZ}),FL=n=>He(n,s=>D(s)),$L=(n,s,i)=>{LL(n,i,f=>{i.overflowGroups.set(f),s.getOpt(n).each(b=>{Zb.setGroups(b,FL(f))})})},hZ=(n,s,i,f)=>{const b=gr(Zb.sketch({fetch:()=>ls.nu(w=>{w(FL(n.overflowGroups.get()))}),layouts:{onLtr:()=>[Kr,Ji],onRtl:()=>[Ji,Kr],onBottomLtr:()=>[kl,Al],onBottomRtl:()=>[Al,kl]},getBounds:i.getOverflowBounds,lazySink:n.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:n.markers.overflowToggledClass},parts:{button:f["overflow-button"](),toolbar:f.overflow()},onToggled:(w,S)=>n[S?"onOpened":"onClosed"](w)}));return{uid:n.uid,dom:n.dom,components:s,behaviours:zu(n.splitToolbarBehaviours,[Wo.config({others:{overflowGroup:()=>$k.sketch({...f["overflow-group"](),items:[b.asSpec()]})}})]),apis:{setGroups:(w,S)=>{n.builtGroups.set(He(S,w.getSystem().build)),$L(w,b,n)},refresh:w=>$L(w,b,n),toggle:w=>{b.getOpt(w).each(S=>{Zb.toggle(S)})},toggleWithoutFocusing:w=>{b.getOpt(w).each(Zb.toggleWithoutFocusing)},isOpen:w=>b.getOpt(w).map(Zb.isOpen).getOr(!1),reposition:w=>{b.getOpt(w).each(S=>{Zb.reposition(S)})},getOverflow:w=>b.getOpt(w).bind(Zb.getToolbar)},domModification:{attributes:{role:"group"}}}},IL=pf({name:"SplitFloatingToolbar",configFields:cZ(),partFields:uZ(),factory:hZ,apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)},refresh:(n,s)=>{n.refresh(s)},reposition:(n,s)=>{n.reposition(s)},toggle:(n,s)=>{n.toggle(s)},toggleWithoutFocusing:(n,s)=>{n.toggle(s)},isOpen:(n,s)=>n.isOpen(s),getOverflow:(n,s)=>n.getOverflow(s)}}),gZ=ie([hs(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Ps("onOpened"),Ps("onClosed")].concat(PL())),pZ=ie([Sc({factory:g0,schema:Rw(),name:"primary"}),Sc({factory:g0,schema:Rw(),name:"overflow",overrides:n=>({toolbarBehaviours:a([Ud.config({dimension:{property:"height"},closedClass:n.markers.closedClass,openClass:n.markers.openClass,shrinkingClass:n.markers.shrinkingClass,growingClass:n.markers.growingClass,onShrunk:s=>{Dr(s,n,"overflow-button").each(i=>{Ms.off(i)}),n.onClosed(s)},onGrown:s=>{n.onOpened(s)},onStartGrow:s=>{Dr(s,n,"overflow-button").each(Ms.on)}}),lo.config({mode:"acyclic",onEscape:s=>(Dr(s,n,"overflow-button").each(et.focus),F.some(!0))})])})}),Id({name:"overflow-button",overrides:n=>({buttonBehaviours:a([Ms.config({toggleClass:n.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Id({name:"overflow-group"})]),bZ=(n,s)=>Dr(n,s,"overflow").map(Ud.hasGrown).getOr(!1),mE=(n,s,i)=>{Dr(n,s,"overflow-button").each(f=>{Dr(n,s,"overflow").each(b=>{if(W5(n,s),Ud.hasShrunk(b)){const w=s.onOpened;s.onOpened=S=>{i||lo.focusIn(b),w(S),s.onOpened=w}}else{const w=s.onClosed;s.onClosed=S=>{i||et.focus(f),w(S),s.onClosed=w}}Ud.toggleGrow(b)})})},W5=(n,s)=>{Dr(n,s,"overflow").each(i=>{LL(n,s,f=>{const b=He(f,w=>D(w));g0.setGroups(i,b)}),Dr(n,s,"overflow-button").each(f=>{Ud.hasGrown(i)&&Ms.on(f)}),Ud.refresh(i)})},yZ=(n,s,i,f)=>{const b="alloy.toolbar.toggle",w=(S,_)=>{const B=He(_,S.getSystem().build);n.builtGroups.set(B)};return{uid:n.uid,dom:n.dom,components:s,behaviours:zu(n.splitToolbarBehaviours,[Wo.config({others:{overflowGroup:S=>$k.sketch({...f["overflow-group"](),items:[rc.sketch({...f["overflow-button"](),action:_=>{fs(S,b)}})]})}}),fe("toolbar-toggle-events",[Mt(b,S=>{mE(S,n,!1)})])]),apis:{setGroups:(S,_)=>{w(S,_),W5(S,n)},refresh:S=>W5(S,n),toggle:S=>{mE(S,n,!1)},toggleWithoutFocusing:S=>{mE(S,n,!0)},isOpen:S=>bZ(S,n)},domModification:{attributes:{role:"group"}}}},q5=pf({name:"SplitSlidingToolbar",configFields:gZ(),partFields:pZ(),factory:yZ,apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)},refresh:(n,s)=>{n.refresh(s)},toggle:(n,s)=>{n.toggle(s)},isOpen:(n,s)=>n.isOpen(s)}}),hE=(n,s)=>({uid:n.uid,dom:n.dom,components:n.components,events:t5(n.action),behaviours:zu(n.tabButtonBehaviours,[et.config({}),lo.config({mode:"execution",useSpace:!0,useEnter:!0}),In.config({store:{mode:"memory",initialValue:n.value}})]),domModification:n.domModification}),HL=oh({name:"TabButton",configFields:[bt("uid",void 0),qt("value"),ml("dom","dom",lm(()=>({attributes:{role:"tab",id:me("aria"),"aria-selected":"false"}})),lf()),vr("action"),bt("domModification",{}),Ic("tabButtonBehaviours",[et,lo,In]),qt("view")],factory:hE}),vZ=ie([qt("tabs"),qt("dom"),bt("clickToDismiss",!1),Ic("tabbarBehaviours",[fr,lo]),hs(["tabClass","selectedClass"])]),xZ=e1({factory:HL,name:"tabs",unit:"tab",overrides:n=>{const s=(f,b)=>{fr.dehighlight(f,b),so(f,Ip(),{tabbar:f,button:b})},i=(f,b)=>{fr.highlight(f,b),so(f,db(),{tabbar:f,button:b})};return{action:f=>{const b=f.getSystem().getByUid(n.uid).getOrDie(),w=fr.isHighlighted(b,f);(w&&n.clickToDismiss?s:w?J:i)(b,f)},domModification:{classes:[n.markers.tabClass]}}}}),zL=ie([xZ]),wZ=(n,s,i,f)=>({uid:n.uid,dom:n.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:zu(n.tabbarBehaviours,[fr.config({highlightClass:n.markers.selectedClass,itemClass:n.markers.tabClass,onHighlight:(b,w)=>{uo(w.element,"aria-selected","true")},onDehighlight:(b,w)=>{uo(w.element,"aria-selected","false")}}),lo.config({mode:"flow",getInitial:b=>fr.getHighlighted(b).map(w=>w.element),selector:"."+n.markers.tabClass,executeOnMove:!0})])}),jL=pf({name:"Tabbar",configFields:vZ(),partFields:zL(),factory:wZ}),CZ=(n,s)=>({uid:n.uid,dom:n.dom,behaviours:zu(n.tabviewBehaviours,[jo.config({})]),domModification:{attributes:{role:"tabpanel"}}}),SZ=oh({name:"Tabview",configFields:[Ic("tabviewBehaviours",[jo])],factory:CZ}),EZ=ie([bt("selectFirst",!0),Ps("onChangeTab"),Ps("onDismissTab"),bt("tabs",[]),Ic("tabSectionBehaviours",[])]),TZ=Sc({factory:jL,schema:[qt("dom"),cf("markers",[qt("tabClass"),qt("selectedClass")])],name:"tabbar",defaults:n=>({tabs:n.tabs})}),AZ=Sc({factory:SZ,name:"tabview"}),kZ=ie([TZ,AZ]),VL=(n,s,i,f)=>{const b=S=>{const _=In.getValue(S);Dr(S,n,"tabview").each(B=>{Be(n.tabs,Z=>Z.value===_).each(Z=>{const K=Z.view();li(S.element,"id").each(ae=>{uo(B.element,"aria-labelledby",ae)}),jo.set(B,K),n.onChangeTab(B,S,K)})})},w=(S,_)=>{Dr(S,n,"tabbar").each(B=>{_(B).each(r1)})};return{uid:n.uid,dom:n.dom,components:s,behaviours:zS(n.tabSectionBehaviours),events:oa(tt([n.selectFirst?[Lr((S,_)=>{w(S,fr.getFirst)})]:[],[Mt(db(),(S,_)=>{const B=_.event.button;b(B)}),Mt(Ip(),(S,_)=>{const B=_.event.button;n.onDismissTab(S,B)})]])),apis:{getViewItems:S=>Dr(S,n,"tabview").map(_=>jo.contents(_)).getOr([]),showTab:(S,_)=>{w(S,z=>{const Z=fr.getCandidates(z);return Be(Z,ae=>In.getValue(ae)===_).filter(ae=>!fr.isHighlighted(z,ae))})}}}},jx=pf({name:"TabSection",configFields:EZ(),partFields:kZ(),factory:VL,apis:{getViewItems:(n,s)=>n.getViewItems(s),showTab:(n,s,i)=>{n.showTab(s,i)}}}),Ik=(n,s,i)=>{const f=In.getValue(i);In.setValue(s,f),K5(s)},G5=(n,s)=>{const i=n.element,f=pc(i),b=i.dom;ea(i,"type")!=="number"&&s(b,f)},K5=n=>{G5(n,(s,i)=>s.setSelectionRange(i.length,i.length))},UL=(n,s)=>{G5(n,(i,f)=>i.setSelectionRange(s,f.length))},ZL=(n,s,i)=>{if(n.selectsOver){const f=In.getValue(s),b=n.getDisplayText(f),w=In.getValue(i);return n.getDisplayText(w).indexOf(b)===0?F.some(()=>{Ik(n,s,i),UL(s,b.length)}):F.none()}else return F.none()},Y5=ie("alloy.typeahead.itemexecute"),DZ=(n,s,i,f)=>{const b=(K,ae,he)=>{n.previewing.set(!1);const xe=Wo.getCoupled(K,"sandbox");if(ar.isOpen(xe))$t.getCurrent(xe).each(_e=>{fr.getHighlighted(_e).fold(()=>{he(_e)},()=>{i1(xe,_e.element,"keydown",ae)})});else{const _e=ze=>{$t.getCurrent(ze).each(he)};vk(n,S(K),K,xe,f,_e,Ec.HighlightMenuAndItem).get(J)}},w=eL(n),S=K=>ae=>ae.map(he=>{const xe=Ma(he.menus),_e=Le(xe,Ee=>xo(Ee.items,Xe=>Xe.type==="item"));return In.getState(K).update(He(_e,Ee=>Ee.data)),he}),_=K=>$t.getCurrent(K),B="typeaheadevents",z=[et.config({}),In.config({onSetValue:n.onSetValue,store:{mode:"dataset",getDataKey:K=>pc(K.element),getFallbackEntry:K=>({value:K,meta:{}}),setValue:(K,ae)=>{_d(K.element,n.model.getDisplayText(ae))},...n.initialData.map(K=>za("initialValue",K)).getOr({})}}),Ow.config({stream:{mode:"throttle",delay:n.responseTime,stopEvent:!1},onStream:(K,ae)=>{const he=Wo.getCoupled(K,"sandbox");if(et.isFocused(K)&&pc(K.element).length>=n.minChars){const _e=_(he).bind(Ee=>fr.getHighlighted(Ee).map(In.getValue));n.previewing.set(!0);const ze=Ee=>{_(he).each(Xe=>{_e.fold(()=>{n.model.selectsOver&&fr.highlightFirst(Xe)},st=>{fr.highlightBy(Xe,wt=>In.getValue(wt).value===st.value),fr.getHighlighted(Xe).orThunk(()=>(fr.highlightFirst(Xe),F.none()))})})};vk(n,S(K),K,he,f,ze,Ec.HighlightJustMenu).get(J)}},cancelEvent:Fu()}),lo.config({mode:"special",onDown:(K,ae)=>(b(K,ae,fr.highlightFirst),F.some(!0)),onEscape:K=>{const ae=Wo.getCoupled(K,"sandbox");return ar.isOpen(ae)?(ar.close(ae),F.some(!0)):F.none()},onUp:(K,ae)=>(b(K,ae,fr.highlightLast),F.some(!0)),onEnter:K=>{const ae=Wo.getCoupled(K,"sandbox"),he=ar.isOpen(ae);if(he&&!n.previewing.get())return _(ae).bind(xe=>fr.getHighlighted(xe)).map(xe=>(so(K,Y5(),{item:xe}),!0));{const xe=In.getValue(K);return fs(K,Fu()),n.onExecute(ae,K,xe),he&&ar.close(ae),F.some(!0)}}}),Ms.config({toggleClass:n.markers.openClass,aria:{mode:"expanded"}}),Wo.config({others:{sandbox:K=>Z8(n,K,{onOpen:()=>Ms.on(K),onClose:()=>{n.lazyTypeaheadComp.get().each(ae=>cr(ae.element,"aria-activedescendant")),Ms.off(K)}})}}),fe(B,[Lr(K=>{n.lazyTypeaheadComp.set(F.some(K))}),hf(K=>{n.lazyTypeaheadComp.set(F.none())}),wm(K=>{const ae=J;xk(n,S(K),K,f,ae,Ec.HighlightMenuAndItem).get(J)}),Mt(Y5(),(K,ae)=>{const he=Wo.getCoupled(K,"sandbox");Ik(n.model,K,ae.event.item),fs(K,Fu()),n.onItemExecute(K,he,ae.event.item,In.getValue(K)),ar.close(he),K5(K)})].concat(n.dismissOnBlur?[Mt(Pp(),K=>{const ae=Wo.getCoupled(K,"sandbox");ii(ae.element).isNone()&&ar.close(ae)})]:[]))],Z={[wc()]:[In.name(),Ow.name(),B],...n.eventOrder};return{uid:n.uid,dom:S5(Gt(n,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...w,...zu(n.typeaheadBehaviours,z)},eventOrder:Z}},_Z=ie([vr("lazySink"),qt("fetch"),bt("minChars",5),bt("responseTime",1e3),Ps("onOpen"),bt("getHotspot",F.some),bt("getAnchorOverrides",ie({})),bt("layouts",F.none()),bt("eventOrder",{}),Lh("model",{},[bt("getDisplayText",n=>n.meta!==void 0&&n.meta.text!==void 0?n.meta.text:n.value),bt("selectsOver",!0),bt("populateFromBrowse",!0)]),Ps("onSetValue"),tc("onExecute"),Ps("onItemExecute"),bt("inputClasses",[]),bt("inputAttributes",{}),bt("inputStyles",{}),bt("matchWidth",!0),bt("useMinWidth",!1),bt("dismissOnBlur",!0),hs(["openClass"]),vr("initialData"),vr("listRole"),Ic("typeaheadBehaviours",[et,In,Ow,lo,Ms,Wo]),yc("lazyTypeaheadComp",()=>Mn(F.none)),yc("previewing",()=>Mn(!0))].concat(C5()).concat(b5())),OZ=ie([Id({schema:[N2()],name:"menu",overrides:n=>({fakeFocus:!0,onHighlightItem:(s,i,f)=>{n.previewing.get()?n.lazyTypeaheadComp.get().each(b=>{ZL(n.model,b,f).fold(()=>{n.model.selectsOver?(fr.dehighlight(i,f),n.previewing.set(!0)):n.previewing.set(!1)},(w=>{w(),n.previewing.set(!1)}))}):n.lazyTypeaheadComp.get().each(b=>{n.model.populateFromBrowse&&Ik(n.model,b,f),li(f.element,"id").each(w=>uo(b.element,"aria-activedescendant",w))})},onExecute:(s,i)=>n.lazyTypeaheadComp.get().map(f=>(so(f,Y5(),{item:i}),!0)),onHover:(s,i)=>{n.previewing.set(!1),n.lazyTypeaheadComp.get().each(f=>{n.model.populateFromBrowse&&Ik(n.model,f,i)})}})})]),X5=pf({name:"Typeahead",configFields:_Z(),partFields:OZ(),factory:DZ});var WL=tinymce.util.Tools.resolve("tinymce.ThemeManager"),Hk=tinymce.util.Tools.resolve("tinymce.util.Delay"),Pw=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),NZ=tinymce.util.Tools.resolve("tinymce.EditorManager"),Fw=tinymce.util.Tools.resolve("tinymce.Env"),ih;(function(n){n.default="wrap",n.floating="floating",n.sliding="sliding",n.scrolling="scrolling"})(ih||(ih={}));var $w;(function(n){n.auto="auto",n.top="top",n.bottom="bottom"})($w||($w={}));const Vr=n=>s=>s.options.get(n),Iw=n=>s=>F.from(n(s)),qL=n=>{const s=Fw.deviceType.isPhone(),i=Fw.deviceType.isTablet()||s,f=n.options.register,b=S=>I(S)||S===!1,w=S=>I(S)||lt(S);f("skin",{processor:S=>I(S)||S===!1,default:"oxide"}),f("skin_url",{processor:"string"}),f("height",{processor:w,default:Math.max(n.getElement().offsetHeight,400)}),f("width",{processor:w,default:Pw.DOM.getStyle(n.getElement(),"width")}),f("min_height",{processor:"number",default:100}),f("min_width",{processor:"number"}),f("max_height",{processor:"number"}),f("max_width",{processor:"number"}),f("style_formats",{processor:"object[]"}),f("style_formats_merge",{processor:"boolean",default:!1}),f("style_formats_autohide",{processor:"boolean",default:!1}),f("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),f("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),f("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),f("font_size_input_default_unit",{processor:"string",default:"pt"}),f("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),f("content_langs",{processor:"object[]"}),f("removed_menuitems",{processor:"string",default:""}),f("menubar",{processor:S=>I(S)||ue(S),default:!s}),f("menu",{processor:"object",default:{}}),f("toolbar",{processor:S=>ue(S)||I(S)||Y(S)?{value:S,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Ne(9,S=>{f("toolbar"+(S+1),{processor:"string"})}),f("toolbar_mode",{processor:"string",default:i?"scrolling":"floating"}),f("toolbar_groups",{processor:"object",default:{}}),f("toolbar_location",{processor:"string",default:$w.auto}),f("toolbar_persist",{processor:"boolean",default:!1}),f("toolbar_sticky",{processor:"boolean",default:n.inline}),f("toolbar_sticky_offset",{processor:"number",default:0}),f("fixed_toolbar_container",{processor:"string",default:""}),f("fixed_toolbar_container_target",{processor:"object"}),f("ui_mode",{processor:"string",default:"combined"}),f("file_picker_callback",{processor:"function"}),f("file_picker_validator_handler",{processor:"function"}),f("file_picker_types",{processor:"string"}),f("typeahead_urls",{processor:"boolean",default:!0}),f("anchor_top",{processor:b,default:"#top"}),f("anchor_bottom",{processor:b,default:"#bottom"}),f("draggable_modal",{processor:"boolean",default:!1}),f("statusbar",{processor:"boolean",default:!0}),f("elementpath",{processor:"boolean",default:!0}),f("branding",{processor:"boolean",default:!0}),f("promotion",{processor:"boolean",default:!0}),f("resize",{processor:S=>S==="both"||ue(S),default:!Fw.deviceType.isTouch()}),f("sidebar_show",{processor:"string"}),f("help_accessibility",{processor:"boolean",default:n.hasPlugin("help")}),f("default_font_stack",{processor:"string[]",default:[]})},GL=Vr("readonly"),zk=Vr("disabled"),Q5=Vr("height"),J5=Vr("width"),eO=Iw(Vr("min_width")),tO=Iw(Vr("min_height")),jk=Iw(Vr("max_width")),nO=Iw(Vr("max_height")),KL=Iw(Vr("style_formats")),YL=Vr("style_formats_merge"),oO=Vr("style_formats_autohide"),XL=Vr("content_langs"),QL=Vr("removed_menuitems"),Vx=Vr("toolbar_mode"),JL=Vr("toolbar_groups"),sO=Vr("toolbar_location"),Vk=Vr("fixed_toolbar_container"),eP=Vr("fixed_toolbar_container_target"),tP=Vr("toolbar_persist"),nP=Vr("toolbar_sticky_offset"),oP=Vr("menubar"),Uk=Vr("toolbar"),sP=Vr("file_picker_callback"),rP=Vr("file_picker_validator_handler"),Zk=Vr("font_size_input_default_unit"),rO=Vr("file_picker_types"),aO=Vr("typeahead_urls"),aP=Vr("anchor_top"),iO=Vr("anchor_bottom"),iP=Vr("draggable_modal"),lP=Vr("statusbar"),cP=Vr("elementpath"),lO=Vr("branding"),uP=Vr("resize"),dP=Vr("paste_as_text"),fP=Vr("sidebar_show"),mP=Vr("promotion"),hP=Vr("help_accessibility"),gP=Vr("default_font_stack"),gE=Vr("skin"),pE=n=>n.options.get("skin")===!1,Hw=n=>n.options.get("menubar")!==!1,cO=n=>{const s=n.options.get("skin_url");if(pE(n))return s;if(s)return n.documentBaseURI.toAbsolute(s);{const i=n.options.get("skin");return NZ.baseURL+"/skins/ui/"+i}},RZ=n=>F.from(n.options.get("skin_url")),pP=n=>n.options.get("line_height_formats").split(" "),zw=n=>{const s=Uk(n),i=I(s),f=Y(s)&&s.length>0;return!dv(n)&&(f||i||s===!0)},bE=n=>{const s=Ne(9,f=>n.options.get("toolbar"+(f+1))),i=xo(s,I);return Sa(i.length>0,i)},dv=n=>bE(n).fold(()=>{const s=Uk(n);return Oe(s,I)&&s.length>0},Lt),Wk=n=>sO(n)===$w.bottom,bP=n=>{if(!n.inline)return F.none();const s=Vk(n)??"";if(s.length>0)return ur(Ml(),s);const i=eP(n);return Fe(i)?F.some(mn.fromDom(i)):F.none()},jw=n=>n.inline&&bP(n).isSome(),uO=n=>bP(n).getOrThunk(()=>xd(Ai(mn.fromDom(n.getElement())))),dO=n=>n.inline&&!Hw(n)&&!zw(n)&&!dv(n),Vw=n=>(n.options.get("toolbar_sticky")||n.inline)&&!jw(n)&&!dO(n),fv=n=>!jw(n)&&n.options.get("ui_mode")==="split",yP=n=>{const s=n.options.get("menu");return os(s,i=>({...i,items:i.items}))};var MZ=Object.freeze({__proto__:null,get ToolbarMode(){return ih},get ToolbarLocation(){return $w},register:qL,getSkinUrl:cO,getSkinUrlOption:RZ,isReadOnly:GL,isDisabled:zk,getSkin:gE,isSkinDisabled:pE,getHeightOption:Q5,getWidthOption:J5,getMinWidthOption:eO,getMinHeightOption:tO,getMaxWidthOption:jk,getMaxHeightOption:nO,getUserStyleFormats:KL,shouldMergeStyleFormats:YL,shouldAutoHideStyleFormats:oO,getLineHeightFormats:pP,getContentLanguages:XL,getRemovedMenuItems:QL,isMenubarEnabled:Hw,isMultipleToolbars:dv,isToolbarEnabled:zw,isToolbarPersist:tP,getMultipleToolbarsOption:bE,getUiContainer:uO,useFixedContainer:jw,isSplitUiMode:fv,getToolbarMode:Vx,isDraggableModal:iP,isDistractionFree:dO,isStickyToolbar:Vw,getStickyToolbarOffset:nP,getToolbarLocation:sO,isToolbarLocationBottom:Wk,getToolbarGroups:JL,getMenus:yP,getMenubar:oP,getToolbar:Uk,getFilePickerCallback:sP,getFilePickerTypes:rO,useTypeaheadUrls:aO,getAnchorTop:aP,getAnchorBottom:iO,getFilePickerValidatorHandler:rP,getFontSizeInputDefaultUnit:Zk,useStatusBar:lP,useElementPath:cP,promotionEnabled:mP,useBranding:lO,getResize:uP,getPasteAsText:dP,getSidebarShow:fP,useHelpAccessibility:hP,getDefaultFontStack:gP});const BZ=["visible","hidden","clip"],vP=n=>An(n).length>0&&!Ve(BZ,n),xP=n=>{if(De(n)){const s=yr(n,"overflow-x"),i=yr(n,"overflow-y");return vP(s)||vP(i)}else return!1},wP=n=>n.plugins.fullscreen&&n.plugins.fullscreen.isFullscreen(),LZ=(n,s)=>{const i=aa(s,xP),f=i.length===0?fa(s).map(ws).map(b=>aa(b,xP)).getOr([]):i;return sn(f).map(b=>({element:b,others:f.slice(1),isFullscreen:()=>wP(n)}))},Wb=(n,s)=>fv(n)?LZ(n,s):F.none(),Ux=n=>{const s=[...He(n.others,_i),bc()];return n.isFullscreen()?bc():hy(_i(n.element),s)};const{entries:CP,setPrototypeOf:v0,isFrozen:PZ,getPrototypeOf:FZ,getOwnPropertyDescriptor:fO}=Object;let{freeze:xa,seal:ap,create:SP}=Object,{apply:mO,construct:hO}=typeof Reflect<"u"&&Reflect;xa||(xa=function(s){return s}),ap||(ap=function(s){return s}),mO||(mO=function(s,i,f){return s.apply(i,f)}),hO||(hO=function(s,i){return new s(...i)});const qk=Tm(Array.prototype.forEach),$Z=Tm(Array.prototype.lastIndexOf),EP=Tm(Array.prototype.pop),yE=Tm(Array.prototype.push),IZ=Tm(Array.prototype.splice),Gk=Tm(String.prototype.toLowerCase),gO=Tm(String.prototype.toString),TP=Tm(String.prototype.match),vE=Tm(String.prototype.replace),HZ=Tm(String.prototype.indexOf),zZ=Tm(String.prototype.trim),x0=Tm(Object.prototype.hasOwnProperty),Em=Tm(RegExp.prototype.test),xE=jZ(TypeError);function Tm(n){return function(s){s instanceof RegExp&&(s.lastIndex=0);for(var i=arguments.length,f=new Array(i>1?i-1:0),b=1;b<i;b++)f[b-1]=arguments[b];return mO(n,s,f)}}function jZ(n){return function(){for(var s=arguments.length,i=new Array(s),f=0;f<s;f++)i[f]=arguments[f];return hO(n,i)}}function wa(n,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Gk;v0&&v0(n,null);let f=s.length;for(;f--;){let b=s[f];if(typeof b=="string"){const w=i(b);w!==b&&(PZ(s)||(s[f]=w),b=w)}n[b]=!0}return n}function VZ(n){for(let s=0;s<n.length;s++)x0(n,s)||(n[s]=null);return n}function qb(n){const s=SP(null);for(const[i,f]of CP(n))x0(n,i)&&(Array.isArray(f)?s[i]=VZ(f):f&&typeof f=="object"&&f.constructor===Object?s[i]=qb(f):s[i]=f);return s}function wE(n,s){for(;n!==null;){const f=fO(n,s);if(f){if(f.get)return Tm(f.get);if(typeof f.value=="function")return Tm(f.value)}n=FZ(n)}function i(){return null}return i}const AP=xa(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Kk=xa(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),pO=xa(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),kP=xa(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),bO=xa(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),DP=xa(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),_P=xa(["#text"]),yO=xa(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),vO=xa(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),OP=xa(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Yk=xa(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),UZ=ap(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ZZ=ap(/<%[\w\W]*|[\w\W]*%>/gm),WZ=ap(/\$\{[\w\W]*/gm),qZ=ap(/^data-[\-\w.\u00B7-\uFFFF]+$/),GZ=ap(/^aria-[\-\w]+$/),NP=ap(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),KZ=ap(/^(?:\w+script|data):/i),YZ=ap(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),RP=ap(/^html$/i),XZ=ap(/^[a-z][.\w]*(-[.\w]+)+$/i);var xO=Object.freeze({__proto__:null,ARIA_ATTR:GZ,ATTR_WHITESPACE:YZ,CUSTOM_ELEMENT:XZ,DATA_ATTR:qZ,DOCTYPE_NAME:RP,ERB_EXPR:ZZ,IS_ALLOWED_URI:NP,IS_SCRIPT_OR_DATA:KZ,MUSTACHE_EXPR:UZ,TMPLIT_EXPR:WZ});const CE={element:1,text:3,progressingInstruction:7,comment:8,document:9},QZ=function(){return typeof window>"u"?null:window},JZ=function(s,i){if(typeof s!="object"||typeof s.createPolicy!="function")return null;let f=null;const b="data-tt-policy-suffix";i&&i.hasAttribute(b)&&(f=i.getAttribute(b));const w="dompurify"+(f?"#"+f:"");try{return s.createPolicy(w,{createHTML(S){return S},createScriptURL(S){return S}})}catch{return console.warn("TrustedTypes policy "+w+" could not be created."),null}},MP=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function BP(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:QZ();const s=t=>BP(t);if(s.version="3.2.6",s.removed=[],!n||!n.document||n.document.nodeType!==CE.document||!n.Element)return s.isSupported=!1,s;let{document:i}=n;const f=i,b=f.currentScript,{DocumentFragment:w,HTMLTemplateElement:S,Node:_,Element:B,NodeFilter:z,NamedNodeMap:Z=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:K,DOMParser:ae,trustedTypes:he}=n,xe=B.prototype,_e=wE(xe,"cloneNode"),ze=wE(xe,"remove"),Ee=wE(xe,"nextSibling"),Xe=wE(xe,"childNodes"),st=wE(xe,"parentNode");if(typeof S=="function"){const t=i.createElement("template");t.content&&t.content.ownerDocument&&(i=t.content.ownerDocument)}let wt,Ot="";const{implementation:kn,createNodeIterator:Jt,createDocumentFragment:rn,getElementsByTagName:on}=i,{importNode:mo}=f;let to=MP();s.isSupported=typeof CP=="function"&&typeof st=="function"&&kn&&kn.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ys,ERB_EXPR:ho,TMPLIT_EXPR:Vo,DATA_ATTR:no,ARIA_ATTR:Yt,IS_SCRIPT_OR_DATA:vn,ATTR_WHITESPACE:To,CUSTOM_ELEMENT:Ko}=xO;let{IS_ALLOWED_URI:ao}=xO,qo=null;const Ur=wa({},[...AP,...Kk,...pO,...bO,..._P]);let pr=null;const ju=wa({},[...yO,...vO,...OP,...Yk]);let ei=Object.seal(SP(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Kf=null,jc=null,dh=!0,bu=!0,ug=!1,Ev=!0,R1=!1,xC=!0,M1=!1,gT=!1,NM=!1,wC=!1,CC=!1,SC=!1,CH=!0,RM=!1;const BJ="user-content-";let MM=!0,EC=!1,TC={},up=null;const BM=wa({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let SH=null;const pT=wa({},["audio","video","img","source","image","track"]);let Tv=null;const bT=wa({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),yT="http://www.w3.org/1998/Math/MathML",m2="http://www.w3.org/2000/svg",lc="http://www.w3.org/1999/xhtml";let oy=lc,O3=!1,N3=null;const LJ=wa({},[yT,m2,lc],gO);let R3=wa({},["mi","mo","mn","ms","mtext"]),k0=wa({},["annotation-xml"]);const noe=wa({},["title","style","font","a","script"]);let vT=null;const EH=["application/xhtml+xml","text/html"],AC="text/html";let yu=null,h2=null;const PJ=i.createElement("form"),TH=function(o){return o instanceof RegExp||o instanceof Function},LM=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(h2&&h2===o)){if((!o||typeof o!="object")&&(o={}),o=qb(o),vT=EH.indexOf(o.PARSER_MEDIA_TYPE)===-1?AC:o.PARSER_MEDIA_TYPE,yu=vT==="application/xhtml+xml"?gO:Gk,qo=x0(o,"ALLOWED_TAGS")?wa({},o.ALLOWED_TAGS,yu):Ur,pr=x0(o,"ALLOWED_ATTR")?wa({},o.ALLOWED_ATTR,yu):ju,N3=x0(o,"ALLOWED_NAMESPACES")?wa({},o.ALLOWED_NAMESPACES,gO):LJ,Tv=x0(o,"ADD_URI_SAFE_ATTR")?wa(qb(bT),o.ADD_URI_SAFE_ATTR,yu):bT,SH=x0(o,"ADD_DATA_URI_TAGS")?wa(qb(pT),o.ADD_DATA_URI_TAGS,yu):pT,up=x0(o,"FORBID_CONTENTS")?wa({},o.FORBID_CONTENTS,yu):BM,Kf=x0(o,"FORBID_TAGS")?wa({},o.FORBID_TAGS,yu):qb({}),jc=x0(o,"FORBID_ATTR")?wa({},o.FORBID_ATTR,yu):qb({}),TC=x0(o,"USE_PROFILES")?o.USE_PROFILES:!1,dh=o.ALLOW_ARIA_ATTR!==!1,bu=o.ALLOW_DATA_ATTR!==!1,ug=o.ALLOW_UNKNOWN_PROTOCOLS||!1,Ev=o.ALLOW_SELF_CLOSE_IN_ATTR!==!1,R1=o.SAFE_FOR_TEMPLATES||!1,xC=o.SAFE_FOR_XML!==!1,M1=o.WHOLE_DOCUMENT||!1,wC=o.RETURN_DOM||!1,CC=o.RETURN_DOM_FRAGMENT||!1,SC=o.RETURN_TRUSTED_TYPE||!1,NM=o.FORCE_BODY||!1,CH=o.SANITIZE_DOM!==!1,RM=o.SANITIZE_NAMED_PROPS||!1,MM=o.KEEP_CONTENT!==!1,EC=o.IN_PLACE||!1,ao=o.ALLOWED_URI_REGEXP||NP,oy=o.NAMESPACE||lc,R3=o.MATHML_TEXT_INTEGRATION_POINTS||R3,k0=o.HTML_INTEGRATION_POINTS||k0,ei=o.CUSTOM_ELEMENT_HANDLING||{},o.CUSTOM_ELEMENT_HANDLING&&TH(o.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ei.tagNameCheck=o.CUSTOM_ELEMENT_HANDLING.tagNameCheck),o.CUSTOM_ELEMENT_HANDLING&&TH(o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ei.attributeNameCheck=o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),o.CUSTOM_ELEMENT_HANDLING&&typeof o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ei.allowCustomizedBuiltInElements=o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),R1&&(bu=!1),CC&&(wC=!0),TC&&(qo=wa({},_P),pr=[],TC.html===!0&&(wa(qo,AP),wa(pr,yO)),TC.svg===!0&&(wa(qo,Kk),wa(pr,vO),wa(pr,Yk)),TC.svgFilters===!0&&(wa(qo,pO),wa(pr,vO),wa(pr,Yk)),TC.mathMl===!0&&(wa(qo,bO),wa(pr,OP),wa(pr,Yk))),o.ADD_TAGS&&(qo===Ur&&(qo=qb(qo)),wa(qo,o.ADD_TAGS,yu)),o.ADD_ATTR&&(pr===ju&&(pr=qb(pr)),wa(pr,o.ADD_ATTR,yu)),o.ADD_URI_SAFE_ATTR&&wa(Tv,o.ADD_URI_SAFE_ATTR,yu),o.FORBID_CONTENTS&&(up===BM&&(up=qb(up)),wa(up,o.FORBID_CONTENTS,yu)),MM&&(qo["#text"]=!0),M1&&wa(qo,["html","head","body"]),qo.table&&(wa(qo,["tbody"]),delete Kf.tbody),o.TRUSTED_TYPES_POLICY){if(typeof o.TRUSTED_TYPES_POLICY.createHTML!="function")throw xE('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof o.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw xE('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');wt=o.TRUSTED_TYPES_POLICY,Ot=wt.createHTML("")}else wt===void 0&&(wt=JZ(he,b)),wt!==null&&typeof Ot=="string"&&(Ot=wt.createHTML(""));xa&&xa(o),h2=o}},AH=wa({},[...Kk,...pO,...kP]),g2=wa({},[...bO,...DP]),ooe=function(o){let r=st(o);(!r||!r.tagName)&&(r={namespaceURI:oy,tagName:"template"});const c=Gk(o.tagName),h=Gk(r.tagName);return N3[o.namespaceURI]?o.namespaceURI===m2?r.namespaceURI===lc?c==="svg":r.namespaceURI===yT?c==="svg"&&(h==="annotation-xml"||R3[h]):!!AH[c]:o.namespaceURI===yT?r.namespaceURI===lc?c==="math":r.namespaceURI===m2?c==="math"&&k0[h]:!!g2[c]:o.namespaceURI===lc?r.namespaceURI===m2&&!k0[h]||r.namespaceURI===yT&&!R3[h]?!1:!g2[c]&&(noe[c]||!AH[c]):!!(vT==="application/xhtml+xml"&&N3[o.namespaceURI]):!1},B1=function(o){yE(s.removed,{element:o});try{st(o).removeChild(o)}catch{ze(o)}},kC=function(o,r){try{yE(s.removed,{attribute:r.getAttributeNode(o),from:r})}catch{yE(s.removed,{attribute:null,from:r})}if(r.removeAttribute(o),o==="is")if(wC||CC)try{B1(r)}catch{}else try{r.setAttribute(o,"")}catch{}},FJ=function(o){let r=null,c=null;if(NM)o="<remove></remove>"+o;else{const T=TP(o,/^[\r\n\t ]+/);c=T&&T[0]}vT==="application/xhtml+xml"&&oy===lc&&(o='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+o+"</body></html>");const h=wt?wt.createHTML(o):o;if(oy===lc)try{r=new ae().parseFromString(h,vT)}catch{}if(!r||!r.documentElement){r=kn.createDocument(oy,"template",null);try{r.documentElement.innerHTML=O3?Ot:h}catch{}}const v=r.body||r.documentElement;return o&&c&&v.insertBefore(i.createTextNode(c),v.childNodes[0]||null),oy===lc?on.call(r,M1?"html":"body")[0]:M1?r.documentElement:v},kH=function(o){return Jt.call(o.ownerDocument||o,o,z.SHOW_ELEMENT|z.SHOW_COMMENT|z.SHOW_TEXT|z.SHOW_PROCESSING_INSTRUCTION|z.SHOW_CDATA_SECTION,null)},PM=function(o){return o instanceof K&&(typeof o.nodeName!="string"||typeof o.textContent!="string"||typeof o.removeChild!="function"||!(o.attributes instanceof Z)||typeof o.removeAttribute!="function"||typeof o.setAttribute!="function"||typeof o.namespaceURI!="string"||typeof o.insertBefore!="function"||typeof o.hasChildNodes!="function")},DC=function(o){return typeof _=="function"&&o instanceof _};function sy(t,o,r){qk(t,c=>{c.call(s,o,r,h2)})}const DH=function(o){let r=null;if(sy(to.beforeSanitizeElements,o,null),PM(o))return B1(o),!0;const c=yu(o.nodeName);if(sy(to.uponSanitizeElement,o,{tagName:c,allowedTags:qo}),xC&&o.hasChildNodes()&&!DC(o.firstElementChild)&&Em(/<[/\w!]/g,o.innerHTML)&&Em(/<[/\w!]/g,o.textContent)||o.nodeType===CE.progressingInstruction||xC&&o.nodeType===CE.comment&&Em(/<[/\w]/g,o.data))return B1(o),!0;if(!qo[c]||Kf[c]){if(!Kf[c]&&_H(c)&&(ei.tagNameCheck instanceof RegExp&&Em(ei.tagNameCheck,c)||ei.tagNameCheck instanceof Function&&ei.tagNameCheck(c)))return!1;if(MM&&!up[c]){const h=st(o)||o.parentNode,v=Xe(o)||o.childNodes;if(v&&h){const T=v.length;for(let k=T-1;k>=0;--k){const L=_e(v[k],!0);L.__removalCount=(o.__removalCount||0)+1,h.insertBefore(L,Ee(o))}}}return B1(o),!0}return o instanceof B&&!ooe(o)||(c==="noscript"||c==="noembed"||c==="noframes")&&Em(/<\/no(script|embed|frames)/i,o.innerHTML)?(B1(o),!0):(R1&&o.nodeType===CE.text&&(r=o.textContent,qk([ys,ho,Vo],h=>{r=vE(r,h," ")}),o.textContent!==r&&(yE(s.removed,{element:o.cloneNode()}),o.textContent=r)),sy(to.afterSanitizeElements,o,null),!1)},FM=function(o,r,c){if(CH&&(r==="id"||r==="name")&&(c in i||c in PJ))return!1;if(!(bu&&!jc[r]&&Em(no,r))){if(!(dh&&Em(Yt,r))){if(!pr[r]||jc[r]){if(!(_H(o)&&(ei.tagNameCheck instanceof RegExp&&Em(ei.tagNameCheck,o)||ei.tagNameCheck instanceof Function&&ei.tagNameCheck(o))&&(ei.attributeNameCheck instanceof RegExp&&Em(ei.attributeNameCheck,r)||ei.attributeNameCheck instanceof Function&&ei.attributeNameCheck(r))||r==="is"&&ei.allowCustomizedBuiltInElements&&(ei.tagNameCheck instanceof RegExp&&Em(ei.tagNameCheck,c)||ei.tagNameCheck instanceof Function&&ei.tagNameCheck(c))))return!1}else if(!Tv[r]){if(!Em(ao,vE(c,To,""))){if(!((r==="src"||r==="xlink:href"||r==="href")&&o!=="script"&&HZ(c,"data:")===0&&SH[o])){if(!(ug&&!Em(vn,vE(c,To,"")))){if(c)return!1}}}}}}return!0},_H=function(o){return o!=="annotation-xml"&&TP(o,Ko)},$J=function(o){sy(to.beforeSanitizeAttributes,o,null);const{attributes:r}=o;if(!r||PM(o))return;const c={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:pr,forceKeepAttr:void 0};let h=r.length;for(;h--;){const v=r[h],{name:T,namespaceURI:k,value:L}=v,W=yu(T),G=L;let Q=T==="value"?G:zZ(G);if(c.attrName=W,c.attrValue=Q,c.keepAttr=!0,c.forceKeepAttr=void 0,sy(to.uponSanitizeAttribute,o,c),Q=c.attrValue,RM&&(W==="id"||W==="name")&&(kC(T,o),Q=BJ+Q),xC&&Em(/((--!?|])>)|<\/(style|title)/i,Q)){kC(T,o);continue}if(c.forceKeepAttr)continue;if(!c.keepAttr){kC(T,o);continue}if(!Ev&&Em(/\/>/i,Q)){kC(T,o);continue}R1&&qk([ys,ho,Vo],ke=>{Q=vE(Q,ke," ")});const ce=yu(o.nodeName);if(!FM(ce,W,Q)){kC(T,o);continue}if(wt&&typeof he=="object"&&typeof he.getAttributeType=="function"&&!k)switch(he.getAttributeType(ce,W)){case"TrustedHTML":{Q=wt.createHTML(Q);break}case"TrustedScriptURL":{Q=wt.createScriptURL(Q);break}}if(Q!==G)try{k?o.setAttributeNS(k,T,Q):o.setAttribute(T,Q),PM(o)?B1(o):EP(s.removed)}catch{kC(T,o)}}sy(to.afterSanitizeAttributes,o,null)},e=function t(o){let r=null;const c=kH(o);for(sy(to.beforeSanitizeShadowDOM,o,null);r=c.nextNode();)sy(to.uponSanitizeShadowNode,r,null),DH(r),$J(r),r.content instanceof w&&t(r.content);sy(to.afterSanitizeShadowDOM,o,null)};return s.sanitize=function(t){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=null,c=null,h=null,v=null;if(O3=!t,O3&&(t="<!-->"),typeof t!="string"&&!DC(t))if(typeof t.toString=="function"){if(t=t.toString(),typeof t!="string")throw xE("dirty is not a string, aborting")}else throw xE("toString is not a function");if(!s.isSupported)return t;if(gT||LM(o),s.removed=[],typeof t=="string"&&(EC=!1),EC){if(t.nodeName){const L=yu(t.nodeName);if(!qo[L]||Kf[L])throw xE("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof _)r=FJ("<!---->"),c=r.ownerDocument.importNode(t,!0),c.nodeType===CE.element&&c.nodeName==="BODY"||c.nodeName==="HTML"?r=c:r.appendChild(c);else{if(!wC&&!R1&&!M1&&t.indexOf("<")===-1)return wt&&SC?wt.createHTML(t):t;if(r=FJ(t),!r)return wC?null:SC?Ot:""}r&&NM&&B1(r.firstChild);const T=kH(EC?t:r);for(;h=T.nextNode();)DH(h),$J(h),h.content instanceof w&&e(h.content);if(EC)return t;if(wC){if(CC)for(v=rn.call(r.ownerDocument);r.firstChild;)v.appendChild(r.firstChild);else v=r;return(pr.shadowroot||pr.shadowrootmode)&&(v=mo.call(f,v,!0)),v}let k=M1?r.outerHTML:r.innerHTML;return M1&&qo["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&Em(RP,r.ownerDocument.doctype.name)&&(k="<!DOCTYPE "+r.ownerDocument.doctype.name+`>
`+k),R1&&qk([ys,ho,Vo],L=>{k=vE(k,L," ")}),wt&&SC?wt.createHTML(k):k},s.setConfig=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};LM(t),gT=!0},s.clearConfig=function(){h2=null,gT=!1},s.isValidAttribute=function(t,o,r){h2||LM({});const c=yu(t),h=yu(o);return FM(c,h,r)},s.addHook=function(t,o){typeof o=="function"&&yE(to[t],o)},s.removeHook=function(t,o){if(o!==void 0){const r=$Z(to[t],o);return r===-1?void 0:IZ(to[t],r,1)[0]}return EP(to[t])},s.removeHooks=function(t){to[t]=[]},s.removeAllHooks=function(){to=MP()},s}var wO=BP();const SE=n=>wO().sanitize(n);var hd=tinymce.util.Tools.resolve("tinymce.util.I18n");const Xk={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-disc":!0,"list-bull-default":!0,"list-bull-square":!0},LP="temporary-placeholder",CO=n=>()=>Hn(n,LP).getOr("!not found!"),SO=(n,s)=>{const i=n.toLowerCase();if(hd.isRtl()){const f=uc(i,"-rtl");return ts(s,f)?f:i}else return i},PP=(n,s)=>Hn(s,SO(n,s)),eW=(n,s)=>{const i=s();return PP(n,i).getOrThunk(CO(i))},Qk=(n,s,i)=>{const f=s();return PP(n,f).or(i).getOrThunk(CO(f))},Uw=n=>hd.isRtl()?ts(Xk,n):!1,EO=()=>fe("add-focusable",[Lr(n=>{Ou(n.element,"svg").each(s=>uo(s,"focusable","false"))})]),TO=(n,s,i,f)=>{const b=Uw(s)?["tox-icon--flip"]:[],w=Hn(i,SO(s,i)).or(f).getOrThunk(CO(i));return{dom:{tag:n.tag,attributes:n.attributes??{},classes:n.classes.concat(b),innerHtml:w},behaviours:a([...n.behaviours??[],EO()]),eventOrder:n.eventOrder??{}}},lh=(n,s,i,f=F.none())=>TO(s,n,i(),f),tW=(n,s,i)=>{const f=i(),b=Be(n,w=>ts(f,SO(w,f)));return TO(s,b.getOr(LP),f,F.none())},nW={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},AO=oh({name:"Notification",factory:n=>{const s=me("notification-text"),i=gr({dom:h0(`<p id=${s}>${SE(n.backstageProvider.translate(n.text))}</p>`),behaviours:a([jo.config({})])}),f=xe=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${xe}%`}}}),b=xe=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${xe}%`}}),w=gr({dom:{tag:"div",classes:n.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(0)]},b(0)],behaviours:a([jo.config({})])}),B={updateProgress:(xe,_e)=>{xe.getSystem().isConnected()&&w.getOpt(xe).each(ze=>{jo.set(ze,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(_e)]},b(_e)])})},updateText:(xe,_e)=>{if(xe.getSystem().isConnected()){const ze=i.get(xe);jo.set(ze,[Ra(_e)])}}},z=tt([n.icon.toArray(),[n.level],F.from(nW[n.level]).toArray()]),Z=gr(rc.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":n.backstageProvider.translate("Close")}},components:[lh("close",{tag:"span",classes:["tox-icon"]},n.iconProvider)],buttonBehaviours:a([ua.config({}),va.config({...n.backstageProvider.tooltips.getConfig({tooltipText:n.backstageProvider.translate("Close")})})]),action:xe=>{n.onAction(xe)}})),K=tW(z,{tag:"div",classes:["tox-notification__icon"]},n.iconProvider),ae={dom:{tag:"div",classes:["tox-notification__body"]},components:[i.asSpec()],behaviours:a([jo.config({})])},he=[K,ae];return{uid:n.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":s},classes:["tox-notification","tox-notification--in",`tox-notification--${n.level}`]},behaviours:a([ua.config({}),et.config({}),lo.config({mode:"special",onEscape:xe=>(n.onAction(xe),F.some(!0))})]),components:he.concat(n.progress?[w.asSpec()]:[]).concat([Z.asSpec()]),apis:B}},configFields:[Xl("level","info",["success","error","warning","warn","info"]),qt("progress"),vr("icon"),qt("onAction"),qt("text"),qt("iconProvider"),qt("backstageProvider")],apis:{updateProgress:(n,s,i)=>{n.updateProgress(s,i)},updateText:(n,s,i)=>{n.updateText(s,i)}}});var oW=(n,s,i,f)=>{const b=s.backstage.shared,w=()=>mn.fromDom(n.queryCommandValue("ToggleView")===""?n.getContentAreaContainer():n.getContainer()),S=()=>{const K=_i(w());return F.some(K)},_=K=>{S().each(ae=>{ft(K,he=>{cs(he.element,"width"),Bi(he.element)>ae.width&&So(he.element,"width",ae.width+"px")})})};return{open:(K,ae,he)=>{const xe=()=>{const st=Jt=>{jo.remove(Jt,ze),Ee()},wt=(Jt,rn)=>{Zu(Jt.element).length===0?Ot(Jt,rn):kn(Jt,rn)},Ot=(Jt,rn)=>{hi.hide(Jt),f.clear(),rn&&n.focus()},kn=(Jt,rn)=>{rn&&lo.focusIn(Jt)};f.on(Jt=>{ae();const rn=he();st(Jt),wt(Jt,rn)})},_e=()=>!Vw(n)||!b.header.isPositionedAtTop(),ze=E(AO.sketch({text:K.text,level:Ve(["success","error","warning","warn","info"],K.type)?K.type:void 0,progress:K.progressBar===!0,icon:K.icon,onAction:xe,iconProvider:b.providers.icons,backstageProvider:b.providers}));if(f.isSet()){const st=D(ze);f.on(wt=>{jo.append(wt,st),hi.reposition(wt),ze.hasConfigured(Ja)&&Ja.refresh(wt),_(wt.components())})}else{const st=E(hi.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:b.getSink,fireDismissalEventInstead:{},...b.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:a([lo.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),jo.config({}),..._e()?[Ja.config({contextual:{lazyContext:()=>F.some(_i(w())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:Jt=>Wb(n,Jt.element).map(on=>({bounds:Ux(on),optScrollEnv:F.some({currentScrollTop:on.element.dom.scrollTop,scrollElmTop:Bl(on.element).top})})).getOrThunk(()=>({bounds:bc(),optScrollEnv:F.none()}))})]:[]])})),wt=D(ze),Ot={maxHeightFunction:Gh()},kn={...b.anchors.banner(),overrides:Ot};f.set(st),i.add(st),hi.showWithinBounds(st,wt,{anchor:kn},S)}lt(K.timeout)&&K.timeout>0&&Hk.setEditorTimeout(n,()=>{xe()},K.timeout);const Ee=()=>{f.on(st=>{hi.reposition(st),st.hasConfigured(Ja)&&Ja.refresh(st),_(st.components())})};return{close:xe,reposition:Ee,text:st=>{AO.updateText(ze,st)},settings:K,getEl:()=>ze.element.dom,progressBar:{value:st=>{AO.updateProgress(ze,st)}}}},close:K=>{K.close()},getArgs:K=>K.settings}};const sW={setup:(n,s)=>{const i=(b,w)=>{so(b,Ki(),{raw:w})},f=()=>n.getMenu().bind(fr.getHighlighted);s.on("keydown",b=>{const w=b.which;n.isActive()&&(n.isMenuOpen()?w===13?(f().each(r1),b.preventDefault()):w===40?(f().fold(()=>{n.getMenu().each(fr.highlightFirst)},S=>{i(S,b)}),b.preventDefault(),b.stopImmediatePropagation()):(w===37||w===38||w===39)&&f().each(S=>{i(S,b),b.preventDefault(),b.stopImmediatePropagation()}):(w===13||w===38||w===40)&&n.cancelIfNecessary())}),s.on("NodeChange",()=>{n.isActive()&&!n.isProcessingAction()&&!s.queryCommandState("mceAutoCompleterInRange")&&n.cancelIfNecessary()})}};var kO;(function(n){n[n.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",n[n.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(kO||(kO={}));var ip=kO;const DO="tox-menu-nav__js",EE="tox-collection__item",mv="tox-swatch",Zx={normal:DO,color:mv},_O="tox-collection__item--enabled",FP="tox-collection__group-heading",OO="tox-collection__item-icon",Jk="tox-collection__item-image",rW="tox-collection__item-image-selector",Gb="tox-collection__item-label",Wx="tox-collection__item-accessory",$P="tox-collection__item-caret",aW="tox-collection__item-checkmark",qx="tox-collection__item--active",IP="tox-collection__item-container",iW="tox-collection__item-container--column",HP="tox-collection__item-container--row",lW="tox-collection__item-container--align-right",cW="tox-collection__item-container--align-left",e4="tox-collection__item-container--valign-top",zP="tox-collection__item-container--valign-middle",uW="tox-collection__item-container--valign-bottom",NO=n=>Hn(Zx,n).getOr(DO),dW=n=>n==="color"?"tox-swatches":"tox-menu",RO=n=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:dW(n),tieredMenu:"tox-tiered-menu"}),S1=n=>{const s=RO(n);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:NO(n)}},Fne=(n,s,i)=>{const f=RO(i);return{tag:"div",classes:tt([[f.menu,`tox-menu-${s}-column`],n?[f.hasIcons]:[]])}},MO=[Ub.parts.items({})],TE=(n,s,i)=>{const f=RO(i);return{dom:{tag:"div",classes:tt([[f.tieredMenu]])},markers:S1(i)}},jP=me("refetch-trigger-event"),VP=me("redirect-menu-item-interaction"),UP="tox-menu__searcher",AE=n=>ur(n.element,`.${UP}`).bind(s=>n.getSystem().getByDom(s).toOptional()),ZP=AE,fW=(n,s)=>{In.setValue(n,s.fetchPattern),n.element.dom.selectionStart=s.selectionStart,n.element.dom.selectionEnd=s.selectionEnd},BO=n=>{const s=In.getValue(n),i=n.element.dom.selectionStart,f=n.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:i,selectionEnd:f}},WP=(n,s)=>{li(s.element,"id").each(i=>uo(n.element,"aria-activedescendant",i))},mW=n=>{const s=(b,w)=>(w.cut(),F.none()),i=(b,w)=>{const S={interactionEvent:w.event,eventType:w.event.raw.type};return so(b,VP,S),F.some(!0)},f="searcher-events";return{dom:{tag:"div",classes:[EE]},components:[C1.sketch({inputClasses:[UP,"tox-textfield"],inputAttributes:{...n.placeholder.map(b=>({placeholder:n.i18n(b)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:a([fe(f,[Mt(Bf(),b=>{fs(b,jP)}),Mt(Ki(),(b,w)=>{w.event.raw.key==="Escape"&&w.stop()})]),lo.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:i,onEscape:i,onUp:i,onDown:i})]),eventOrder:{keydown:[f,lo.name()]}})]}},t4="tox-collection--results__js",kE=n=>n.dom?{...n,dom:{...n.dom,attributes:{...n.dom.attributes??{},id:me("aria-item-search-result-id"),"aria-selected":"false"}}}:n,LO="Use arrow keys to navigate.",PO=(n,s)=>i=>{const f=mt(i,s);return He(f,b=>({dom:n,components:b}))},FO=n=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"],attributes:{"aria-label":hd.translate(LO)}},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Ub.parts.items({preprocess:n!=="auto"?PO({tag:"div",classes:["tox-swatches__row"]},n):ut})]}]}),hW=n=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[Ub.parts.items({preprocess:n!=="auto"?PO({tag:"div",classes:["tox-image-selector__row"]},n):ut})]}]}),$O=n=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Ub.parts.items({preprocess:PO({tag:"div",classes:["tox-collection__group"]},n)})]}),qP=(n,s)=>{const i=[];let f=[];return ft(n,(b,w)=>{s(b,w)?(f.length>0&&i.push(f),f=[],(ts(b.dom,"innerHtml")||b.components&&b.components.length>0)&&f.push(b)):f.push(b)}),f.length>0&&i.push(f),He(i,b=>({dom:{tag:"div",classes:["tox-collection__group"]},components:b}))},IO=(n,s,i)=>Ub.parts.items({preprocess:f=>{const b=He(f,i);return n!=="auto"&&n>1?PO({tag:"div",classes:["tox-collection__group"]},n)(b):qP(b,(w,S)=>s[S].type==="separator")}}),GP=n=>It(n,s=>s.type==="widget"),HO=(n,s,i=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{...GP(s)?{"aria-label":hd.translate(LO)}:{}}},components:[IO(n,s,ut)]}),KP=(n,s,i=!0)=>{const f=me("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",t4].concat(n===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:f}},components:[IO(n,s,kE)]}},Kb=(n,s,i)=>{const f=me("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"])},components:[mW({i18n:hd.translate,placeholder:i.placeholder}),{dom:{tag:"div",classes:[...n===1?["tox-collection--list"]:["tox-collection--grid"],t4],attributes:{id:f}},components:[IO(n,s,kE)]}]}},Gx=(n,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Ub.parts.items({preprocess:i=>qP(i,(f,b)=>n[b].type==="separator")})]}),DE=n=>It(n,s=>"icon"in s&&s.icon!==void 0),w0=n=>(console.error(Mg(n)),console.log(n),F.none()),YP=(n,s,i,f,b)=>{const w=Gx(i);return{value:n,dom:w.dom,components:w.components,items:i}},zO=(n,s,i,f,b)=>{const w=()=>b.menuType!=="searchable"?HO(f,i):b.searchMode.searchMode==="search-with-field"?Kb(f,i,b.searchMode):KP(f,i);if(b.menuType==="color"){const S=FO(f);return{value:n,dom:S.dom,components:S.components,items:i}}else if(b.menuType==="imageselector"&&f!=="auto"){const S=hW(f);return{value:n,dom:S.dom,components:S.components,items:i}}else if(b.menuType==="normal"&&f==="auto"){const S=HO(f,i);return{value:n,dom:S.dom,components:S.components,items:i}}else if(b.menuType==="normal"||b.menuType==="searchable"){const S=w();return{value:n,dom:S.dom,components:S.components,items:i}}else if(b.menuType==="listpreview"&&f!=="auto"){const S=$O(f);return{value:n,dom:S.dom,components:S.components,items:i}}else return{value:n,dom:Fne(s,f,b.menuType),components:MO,items:i}},Ni=Ya("type"),jO=Ya("name"),n4=Ya("label"),Yb=Ya("text"),XP=Ya("title"),VO=Ya("icon"),gW=Ya("url"),Zw=Ya("value"),pW=cu("fetch"),bW=cu("getSubmenuItems"),hv=cu("onAction"),yW=cu("onItemAction"),Kx=dr("onSetup",()=>J),vW=pa("name"),Xb=pa("text"),xW=pa("role"),og=pa("icon"),Yx=pa("tooltip"),QP=pa("chevronTooltip"),_E=pa("label"),UO=pa("shortcut"),wW=uf("select"),Ww=Gi("active",!1),CW=Gi("borderless",!1),sg=Gi("enabled",!0),OE=Gi("primary",!1),JP=n=>bt("columns",n),ZO=bt("meta",{}),WO=dr("onAction",J),Xx=n=>Oa("type",n),qO=n=>ml("name","name",Op(()=>me(`${n}-name`)),Fi),eF=n=>ml("value","value",Op(()=>me(`${n}-value`)),lf()),qw=[Ni,Yb,Yl("level",["info","warn","error","success"]),VO,bt("url","")],SW=fo(qw),EW=n=>[Ni,n],TW=[Ni,Yb,sg,qO("button"),og,CW,jm("buttonType",["primary","secondary","toolbar"]),OE,Oa("context","mode:design")],o4=fo(TW),Wd=[Ni,jO],rg=Wd.concat([_E]),tF=Wd.concat([n4,sg,Oa("context","mode:design")]),AW=fo(tF),kW=ns,DW=rg.concat([JP("auto"),Oa("context","mode:design")]),_W=fo(DW),nF=Z0([Zw,Yb,VO]),oF=rg.concat([Oa("storageKey","default"),Oa("context","mode:design")]),OW=fo(oF),NW=Fi,MW=fo(rg),sF=Fi,rF=Wd.concat([Oa("tag","textarea"),Ya("scriptId"),Ya("scriptUrl"),uf("onFocus"),Fl("settings",void 0)]),aF=Wd.concat([Oa("tag","textarea"),cu("init")]),BW=cm(n=>ga("customeditor.old",Lu(aF),n).orThunk(()=>ga("customeditor.new",Lu(rF),n))),LW=Fi,gv=[sg,Xb,xW,UO,eF("menuitem"),ZO,Oa("context","mode:design")],PW=fo([Ni,jO].concat(gv)),FW=ns,Gw=[qO("button"),og,Xl("align","end",["start","end"]),OE,sg,jm("buttonType",["primary","secondary"]),Oa("context","mode:design")],C0=[...Gw,Yb],s4=[Yl("type",["submit","cancel","custom"]),...C0],ag=[Yl("type",["menu"]),Xb,Yx,og,Ar("items",PW),...Gw],$W=[...Gw,Yl("type",["togglebutton"]),Yx,og,Xb,Gi("active",!1)],r4=Kl("type",{submit:s4,cancel:s4,custom:s4,menu:ag,togglebutton:$W}),IW=rg.concat([Oa("context","mode:design"),pa("dropAreaLabel"),pa("buttonLabel"),pa("allowedFileTypes"),Bg("allowedFileExtensions",Fi)]),Qx=fo(IW),HW=$v(),GO=n=>[Ni,ab("columns"),n],KO=[Ni,Ya("html"),Xl("presets","presentation",["presentation","document"]),dr("onInit",J),Gi("stretched",!1)],zW=fo(KO),jW=rg.concat([Gi("border",!1),Gi("sandboxed",!0),Gi("streamContent",!1),Gi("transparent",!0)]),Jx=fo(jW),iF=Fi,lF=fo(Wd.concat([pa("height")])),VW=fo([Ya("url"),Bp("zoom"),Bp("cachedWidth"),Bp("cachedHeight")]),YO=rg.concat([pa("inputMode"),pa("placeholder"),Gi("maximized",!1),sg,Oa("context","mode:design")]),cF=fo(YO),XO=Fi,uF=n=>[Ni,n4,n,Xl("align","start",["start","center","end"]),pa("for")],dF=[Yb,Zw],NE=[Yb,Ar("items",Bh("items",()=>fF))],fF=Mp([fo(dF),fo(NE)]),UW=rg.concat([Ar("items",fF),sg,Oa("context","mode:design")]),ZW=fo(UW),WW=Fi,QO=rg.concat([q0("items",[Yb,Zw]),Lp("size",1),sg,Oa("context","mode:design")]),qW=fo(QO),JO=Fi,GW=rg.concat([Gi("constrain",!0),sg,Oa("context","mode:design")]),RE=fo(GW),mF=fo([Ya("width"),Ya("height")]),hF=Wd.concat([n4,Lp("min",0),Lp("max",0)]),KW=fo(hF),YW=Dp,XW=[Ni,Ar("header",Fi),Ar("cells",_a(Fi))],QW=fo(XW),a4=rg.concat([pa("placeholder"),Gi("maximized",!1),sg,Oa("context","mode:design"),Cy("spellcheck")]),gF=fo(a4),JW=Fi,eN=[Oa("buttonType","default"),pa("text"),pa("tooltip"),pa("icon"),ed("search",!1,Mp([ns,fo([pa("placeholder")])],n=>ue(n)?n?F.some({placeholder:F.none()}):F.none():F.some(n))),cu("fetch"),dr("onSetup",()=>J),Oa("context","mode:design")],pv=fo([Ni,...eN]),tN=n=>ga("menubutton",pv,n),Kw=[Yl("type",["directory","leaf"]),XP,Ya("id"),um("menu",pv),pa("customStateIcon"),pa("customStateIconTooltip")],nN=fo(Kw),eq=Kw.concat([Ar("children",Bh("children",()=>Mh("type",{directory:pF,leaf:nN})))]),pF=fo(eq),e2=Mh("type",{directory:pF,leaf:nN}),bF=[Ni,Ar("items",e2),uf("onLeafAction"),uf("onToggleExpand"),Vm("defaultExpandedIds",[],Fi),pa("defaultSelectedId")],tq=fo(bF),yF=rg.concat([Xl("filetype","file",["image","media","file"]),sg,pa("picker_text"),Oa("context","mode:design")]),nq=fo(yF),oq=fo([Zw,ZO]),oN=n=>ml("items","items",Nd(),_a(cm(s=>ga(`Checking item of ${n}`,i4,s).fold(i=>Pn.error(Mg(i)),i=>Pn.value(i))))),i4=U0(()=>Mh("type",{alertbanner:SW,bar:fo(EW(oN("bar"))),button:o4,checkbox:AW,colorinput:OW,colorpicker:MW,dropzone:Qx,grid:fo(GO(oN("grid"))),iframe:Jx,input:cF,listbox:ZW,selectbox:qW,sizeinput:RE,slider:KW,textarea:gF,urlinput:nq,customeditor:BW,htmlpanel:zW,imagepreview:lF,collection:_W,label:fo(uF(oN("label"))),table:QW,tree:tq,panel:vF})),sq=[Ni,bt("classes",[]),Ar("items",i4)],vF=fo(sq),rq=[qO("tab"),XP,Ar("items",i4)],aq=[Ni,q0("tabs",rq)],iq=fo(aq),lq=C0,cq=r4,uq=fo([Ya("title"),Bc("body",Mh("type",{panel:vF,tabpanel:iq})),Oa("size","normal"),Vm("buttons",[],cq),bt("initialData",{}),dr("onAction",J),dr("onChange",J),dr("onSubmit",J),dr("onClose",J),dr("onCancel",J),dr("onTabChange",J)]),xF=n=>ga("dialog",uq,n),dq=fo([Yl("type",["cancel","custom"]),...lq]),fq=fo([Ya("title"),Ya("url"),Bp("height"),Bp("width"),Bg("buttons",dq),dr("onAction",J),dr("onCancel",J),dr("onClose",J),dr("onMessage",J)]),mq=n=>ga("dialog",fq,n),sN=n=>U(n)?[n].concat(Le(Ma(n),sN)):Y(n)?Le(n,sN):[],hq=n=>I(n.type)&&I(n.name),gq={checkbox:kW,colorinput:NW,colorpicker:sF,dropzone:HW,input:XO,iframe:iF,imagepreview:VW,selectbox:JO,sizeinput:mF,slider:YW,listbox:WW,size:mF,textarea:JW,urlinput:oq,customeditor:LW,collection:nF,togglemenuitem:FW},wF=n=>F.from(gq[n.type]),CF=n=>xo(sN(n),hq),pq=n=>{const s=CF(n),i=Le(s,f=>wF(f).fold(()=>[],b=>[Bc(f.name,b)]));return fo(i)},ME=n=>{const s=Ju(xF(n)),i=pq(n),f=n.initialData??{};return{internalDialog:s,dataValidator:i,initialData:f}},t2={open:(n,s)=>{const i=ME(s);return n(i.internalDialog,i.initialData,i.dataValidator)},openUrl:(n,s)=>{const i=Ju(mq(s));return n(i)},redial:n=>ME(n)},SF=fo([Ni,Xb]),bq=n=>ga("separatormenuitem",SF,n),yq=fo([Xx("autocompleteitem"),Ww,sg,ZO,Zw,Xb,og]),vq=n=>ga("Autocompleter.Separator",SF,n),xq=n=>ga("Autocompleter.Item",yq,n),Yw=[sg,Yx,og,Xb,Kx,Oa("context","mode:design")],wq=fo([Ni,hv,UO].concat(Yw)),E1=n=>ga("toolbarbutton",wq,n),rN=[Ww].concat(Yw),Cq=fo(rN.concat([Ni,hv,UO])),aN=n=>ga("ToggleButton",Cq,n),l4=[dr("predicate",vt),Xl("scope","node",["node","editor"]),Xl("position","selection",["node","selection","line"])],Sq=Yw.concat([Xx("contextformbutton"),Oa("align","end"),OE,hv,yc("original",ut)]),Eq=rN.concat([Xx("contextformbutton"),Oa("align","end"),OE,hv,yc("original",ut)]),Tq=Yw.concat([Xx("contextformbutton")]),iN=rN.concat([Xx("contextformtogglebutton")]),EF=Kl("type",{contextformbutton:Sq,contextformtogglebutton:Eq}),BE=[_E,Ar("commands",EF),um("launch",Kl("type",{contextformbutton:Tq,contextformtogglebutton:iN})),dr("onInput",J),dr("onSetup",J)],c4=[...l4,...BE,Yl("type",["contextform"]),dr("initValue",ie("")),pa("placeholder")],Xw=[...l4,...BE,Yl("type",["contextsliderform"]),dr("initValue",ie(0)),dr("min",ie(0)),dr("max",ie(100))],Aq=[...l4,...BE,Yl("type",["contextsizeinputform"]),dr("initValue",ie({width:"",height:""}))],TF=Kl("type",{contextform:c4,contextsliderform:Xw,contextsizeinputform:Aq}),kq=n=>ga("ContextForm",TF,n),Qw=Yw.concat([Xx("contexttoolbarbutton")]),Dq=fo([Xx("contexttoolbar"),$i("launch",Qw),Bc("items",Mp([Fi,Z0([pa("name"),pa("label"),Ar("items",Fi)])]))].concat(l4)),u4=n=>({name:n.name.getOrUndefined(),label:n.label.getOrUndefined(),items:n.items}),lN=n=>({...n,launch:n.launch.getOrUndefined(),items:I(n.items)?n.items:He(n.items,u4)}),_q=n=>ga("ContextToolbar",Dq,n),Oq=[Ni,Ya("src"),pa("alt"),Vm("classes",[],Fi)],Nq=fo(Oq),cN=[Ni,Yb,vW,Vm("classes",["tox-collection__item-label"],Fi)],Rq=fo(cN),AF=U0(()=>Mh("type",{cardimage:Nq,cardtext:Rq,cardcontainer:Mq})),Mq=fo([Ni,Oa("direction","horizontal"),Oa("align","left"),Oa("valign","middle"),Ar("items",AF)]),kF=fo([Ni,_E,Ar("items",AF),Kx,WO].concat(gv)),uN=n=>ga("cardmenuitem",kF,n),Bq=fo([Ni,Ww,og,_E].concat(gv)),Lq=n=>ga("choicemenuitem",Bq,n),dN=[Ni,Ya("fancytype"),WO],DF=[bt("initData",{})].concat(dN),Pq=[uf("select"),Lh("initData",{},[Gi("allowCustomColors",!0),Oa("storageKey","default"),Bg("colors",lf())])].concat(dN),fN=[uf("select"),cf("initData",[ab("columns"),Vm("items",[],lf())])].concat(dN),_F=Kl("fancytype",{inserttable:DF,colorswatch:Pq,imageselect:fN}),OF=n=>ga("fancymenuitem",_F,n),Fq=fo([Ni,Ww,gW,_E,Yx].concat(gv)),$q=fo([Ni,Ww,VO,n4,Yx,Zw].concat(gv)),NF=n=>ga("imagemenuitem",Fq,n),mN=n=>ga("resetimageitem",$q,n),Iq=fo([Ni,Kx,WO,og].concat(gv)),Hq=n=>ga("menuitem",Iq,n),zq=fo([Ni,bW,Kx,og].concat(gv)),jq=n=>ga("nestedmenuitem",zq,n),Vq=fo([Ni,og,Ww,Kx,hv].concat(gv)),Uq=n=>ga("togglemenuitem",Vq,n),Zq=fo([og,Yx,dr("onShow",J),dr("onHide",J),Kx]),hN=n=>ga("sidebar",Zq,n),Wq=fo([Ni,Bc("items",Mp([Z0([jO,Ar("items",Fi)]),Fi]))].concat(Yw)),gN=n=>ga("GroupToolbarButton",Wq,n),qq=fo([Ni,Yx,QP,og,Xb,wW,pW,Kx,Xl("presets","normal",["normal","color","listpreview"]),JP(1),hv,yW,Oa("context","mode:design")]),Gq=n=>ga("SplitButton",qq,n),d4=[Xb,og,pa("tooltip"),Xl("buttonType","secondary",["primary","secondary"]),Gi("borderless",!1),cu("onAction"),Oa("context","mode:design")],Kq=[...d4,Yb,Yl("type",["button"])],Yq=[...d4,Gi("active",!1),Yl("type",["togglebutton"])],pN={button:Kq,togglebutton:Yq},Xq=[Yl("type",["group"]),Vm("buttons",[],Kl("type",pN))],Qq=Kl("type",{...pN,group:Xq}),Jq=fo([Vm("buttons",[],Qq),cu("onShow"),cu("onHide")]),eG=n=>ga("view",Jq,n),bN=(n,s,i)=>{const f=ta(n.element,"."+i);if(f.length>0){const b=Ye(f,w=>{const S=w.dom.getBoundingClientRect().top,_=f[0].dom.getBoundingClientRect().top;return Math.abs(S-_)>s}).getOr(f.length);return F.some({numColumns:b,numRows:Math.ceil(f.length/b)})}else return F.none()},RF=(n,s)=>a([fe(n,s)]),Jw={namedEvents:RF,unnamedEvents:n=>RF(me("unnamed-events"),n)},S0={item:n=>eo.config({disabled:n,disableClass:"tox-collection__item--state-disabled"}),button:n=>eo.config({disabled:n}),splitButton:n=>eo.config({disabled:n,disableClass:"tox-tbtn--disabled"}),toolbarButton:n=>eo.config({disabled:n,disableClass:"tox-tbtn--disabled",useNative:!1})},LE=(n,s)=>{const i=n.getApi(s);return f=>{f(i)}},E0=(n,s)=>Lr(i=>{be(n.onBeforeSetup)&&n.onBeforeSetup(i),LE(n,i)(b=>{const w=n.onSetup(b);be(w)&&s.set(w)})}),bv=(n,s)=>hf(i=>LE(n,i)(s.get())),f4=(n,s,i)=>hf(f=>(i.set(In.getValue(f)),LE(n,f)(s.get()))),yN="silver.uistate",n2="setDisabled",nG="setEnabled",vN="init",oG=["switchmode",vN],PE=(n,s)=>{const i=n.mainUi.outerContainer,f=[n.mainUi.mothership,...n.uiMotherships];s===n2&&ft(f,b=>{b.broadcastOn([Jm()],{target:i.element})}),ft(f,b=>{b.broadcastOn([yN],s)})},MF=(n,s)=>{n.on("init SwitchMode",i=>{PE(s,i.type)}),n.on("DisabledStateChange",i=>{if(!i.isDefaultPrevented()){const f=i.state?n2:vN;PE(s,f),i.state||n.nodeChanged()}}),n.on("NodeChange",i=>{const f=n.ui.isEnabled()?i.type:n2;PE(s,f)}),GL(n)&&n.mode.set("readonly")},nl=n=>md.config({channels:{[yN]:{onReceive:(s,i)=>{if(i===n2||i===nG){eo.set(s,i===n2);return}const{contextType:f,shouldDisable:b}=n();f==="mode"&&!Ve(oG,i)||eo.set(s,b)}}}}),Qb=(n,s)=>wm((i,f)=>{LE(n,i)(n.onAction),!n.triggersSubmenu&&s===ip.CLOSE_ON_EXECUTE&&(i.getSystem().isConnected()&&fs(i,Na()),f.stop())}),sG={[Ls()]:["disabling","alloy.base.behaviour","toggling","item-events"]},T1=Uo,o2=(n,s,i,f)=>{const b=Mn(J);return{type:"item",dom:s.dom,components:T1(s.optComponents),data:n.data,eventOrder:sG,hasSubmenu:n.triggersSubmenu,itemBehaviours:a([fe("item-events",[Qb(n,i),E0(n,b),bv(n,b)]),S0.item(()=>!n.enabled||f.checkUiComponentContext(n.context).shouldDisable),nl(()=>f.checkUiComponentContext(n.context)),jo.config({})].concat(n.itemBehaviours))}},Jb=n=>({value:n.value,meta:{text:n.text.getOr(""),...n.meta}}),rG=(n,s)=>{const i=mn.fromTag("div");nr(i,"tox-image-selector-loading-spinner");const f=w=>{nr(w,"tox-image-selector-loading-spinner-wrapper"),ra(w,i)},b=w=>{ha(w,"tox-image-selector-loading-spinner-wrapper"),eu(i)};return{dom:{tag:n.tag,attributes:n.attributes??{},classes:n.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:s},classes:["tox-image-selector-image-img"]}}]},...n.checkMark.toArray()],behaviours:a([...n.behaviours??[],fe("render-image-events",[Lr(w=>{f(w.element),ur(w.element,"img").each(S=>{Sl(S).catch(_=>{console.error(_)}).finally(()=>{b(w.element)})})})])])}},aG=(n,s)=>rG(s,n),xN=n=>{const s=Fw.os.isMacOS()||Fw.os.isiOS(),b=s?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},w=n.split("+"),S=He(w,_=>{const B=_.toLowerCase().trim();return ts(b,B)?b[B]:_});return s?S.join(""):S.join("+")},m4=(n,s,i=[OO])=>lh(n,{tag:"div",classes:i},s),BF=n=>({dom:{tag:"div",classes:[Gb]},components:[Ra(hd.translate(n))]}),h4=(n,s)=>({dom:{tag:"div",classes:s,innerHtml:n}}),wN=(n,s)=>({dom:{tag:"div",classes:[Gb]},components:[{dom:{tag:n.tag,styles:n.styles},components:[Ra(hd.translate(s))]}]}),CN=n=>({dom:{tag:"div",classes:[Wx]},components:[Ra(xN(n))]}),SN=n=>m4("checkmark",n,[aW]),ch=n=>m4("chevron-right",n,[$P]),iG=n=>m4("chevron-down",n,[$P]),lG=(n,s)=>{const i=n.direction==="vertical"?iW:HP,f=n.align==="left"?cW:lW;return{dom:{tag:"div",classes:[IP,i,f,(()=>{switch(n.valign){case"top":return e4;case"middle":return zP;case"bottom":return uW}})()]},components:s}},LF=(n,s,i)=>({dom:{tag:"img",classes:s,attributes:{src:n,alt:i.getOr("")}}}),PF=(n,s,i)=>{const f="custom",b="remove",w=n.value,S=n.iconContent.map(z=>Qk(z,s.icons,i)),_=n.ariaLabel.map(z=>({"aria-label":s.translate(z),"data-mce-name":z})).getOr({});return{dom:(()=>{const z=mv,Z=S.getOr(""),K={tag:"div",attributes:_,classes:[z]};return w===f?{...K,tag:"button",classes:[...K.classes,"tox-swatches__picker-btn"],innerHtml:Z}:w===b?{...K,classes:[...K.classes,"tox-swatch--remove"],innerHtml:Z}:Fe(w)?{...K,attributes:{...K.attributes,"data-mce-color":w},styles:{"background-color":w},innerHtml:Z}:K})(),optComponents:[]}},EN=(n,s)=>{const i=n.map(f=>({attributes:{id:me("menu-item"),"aria-label":hd.translate(f)}})).getOr({});return{tag:"div",classes:[DO,EE].concat(s),...i}},FF=n=>({dom:{tag:"label"},components:[Ra(n)]}),cG=(n,s,i,f)=>{const b={tag:"div",classes:[OO]},w=ae=>lh(ae,b,s.icons,f),S=()=>F.some({dom:b}),_=i?n.iconContent.map(w).orThunk(S):F.none(),B=n.checkMark,z=F.from(n.meta).fold(()=>BF,ae=>ts(ae,"style")?fn(wN,ae.style):BF),Z=n.htmlContent.fold(()=>n.textContent.map(z),ae=>F.some(h4(ae,[Gb])));return{dom:EN(n.ariaLabel,[]),optComponents:[_,Z,n.shortcutContent.map(CN),B,n.caret,n.labelContent.map(FF)]}},uG=n=>({dom:EN(n.ariaLabel,[rW]),optComponents:[F.some(aG(n.iconContent.getOrDie(),{tag:"div",classes:[Jk],checkMark:n.checkMark})),n.labelContent.map(FF)]}),eC=(n,s,i,f=F.none())=>n.presets==="color"?PF(n,s,f):n.presets==="img"?uG(n):cG(n,s,i,f),$F=(n,s,i)=>Hn(n,"tooltipWorker").map(f=>[va.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:b=>({type:"submenu",item:b,overrides:{maxHeightFunction:Gh}}),mode:"follow-highlight",onShow:(b,w)=>{f(S=>{va.setComponents(b,[Zf({element:mn.fromDom(S)})])})}})]).getOrThunk(()=>i.map(f=>[va.config({...s.providers.tooltips.getConfig({tooltipText:f}),mode:"follow-highlight"})]).getOr([])),dG=n=>Pw.DOM.encode(n),TN=(n,s)=>{const i=hd.translate(n),f=dG(i);if(s.length>0){const b=new RegExp(Qf(s),"gi");return f.replace(b,w=>`<span class="tox-autocompleter-highlight">${w}</span>`)}else return f},fG=(n,s,i,f,b,w,S,_=!0)=>{const B=eC({presets:f,textContent:F.none(),htmlContent:i?n.text.map(Z=>TN(Z,s)):F.none(),ariaLabel:n.text,labelContent:F.none(),iconContent:n.icon,shortcutContent:F.none(),checkMark:F.none(),caret:F.none(),value:n.value},S.providers,_,n.icon),z=n.text.filter(Z=>!i&&Z!=="");return o2({context:"mode:design",data:Jb(n),enabled:n.enabled,getApi:ie({}),onAction:Z=>b(n.value,n.meta),onSetup:ie(J),triggersSubmenu:!1,itemBehaviours:$F(n,S,z)},B,w,S.providers)},IF=(n,s)=>He(n,i=>{switch(i.type){case"cardcontainer":return lG(i,IF(i.items,s));case"cardimage":return LF(i.src,i.classes,i.alt);case"cardtext":const b=i.name.exists(w=>Ve(s.cardText.highlightOn,w))?F.from(s.cardText.matchText).getOr(""):"";return h4(TN(i.text,b),i.classes)}}),mG=(n,s,i,f)=>{const b=S=>({isEnabled:()=>!eo.isDisabled(S),setEnabled:_=>{eo.set(S,!_),ft(ta(S.element,"*"),B=>{S.getSystem().getByDom(B).each(z=>{z.hasConfigured(eo)&&eo.set(z,!_)})})}}),w={dom:EN(n.label,[]),optComponents:[F.some({dom:{tag:"div",classes:[IP,HP]},components:IF(n.items,f)})]};return o2({context:"mode:design",data:Jb({text:F.none(),...n}),enabled:n.enabled,getApi:b,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:F.from(f.itemBehaviours).getOr([])},w,s,i.providers)},AN=(n,s,i,f,b,w,S,_=!0)=>{const B=K=>({setActive:ae=>{Ms.set(K,ae)},isActive:()=>Ms.isOn(K),isEnabled:()=>!eo.isDisabled(K),setEnabled:ae=>eo.set(K,!ae)}),z=eC({presets:i,textContent:s?n.text:F.none(),htmlContent:F.none(),labelContent:n.label,ariaLabel:n.text,iconContent:n.icon,shortcutContent:s?n.shortcut:F.none(),checkMark:s?F.some(SN(S.icons)):F.none(),caret:F.none(),value:n.value},S,_),Z=n.text.filter(ie(!s)).map(K=>va.config(S.tooltips.getConfig({tooltipText:S.translate(K)})));return Gt(o2({context:n.context,data:Jb(n),enabled:n.enabled,getApi:B,onAction:K=>f(n.value),onSetup:K=>(K.setActive(b),J),triggersSubmenu:!1,itemBehaviours:[...Z.toArray()]},z,w,S),{toggling:{toggleClass:_O,toggleOnExecute:!1,selected:n.active,exclusive:!0}})},g4=n=>({value:s2(n)}),p4=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,HF=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,b4=n=>p4.test(n)||HF.test(n),s2=n=>Sf(n,"#").toUpperCase(),zF=n=>b4(n)?F.some({value:s2(n)}):F.none(),jF=n=>({value:n.value.replace(p4,(i,f,b,w)=>f+f+b+b+w+w)}),VF=n=>{const s=jF(n),i=HF.exec(s.value);return i===null?["FFFFFF","FF","FF","FF"]:i},kN=n=>{const s=n.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},FE=n=>{const s=kN(n.red)+kN(n.green)+kN(n.blue);return g4(s)},yv=(n,s,i)=>({hue:n,saturation:s,value:i}),DN=n=>{let s=0,i=0,f=0;const b=n.red/255,w=n.green/255,S=n.blue/255,_=Math.min(b,Math.min(w,S)),B=Math.max(b,Math.max(w,S));if(_===B)return f=_,yv(0,0,f*100);const z=b===_?w-S:S===_?b-w:S-b;return s=b===_?3:S===_?1:5,s=60*(s-z/(B-_)),i=(B-_)/B,f=B,yv(Math.round(s),Math.round(i*100),Math.round(f*100))},UF=Math.min,_N=Math.max,$E=Math.round,ON=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,ZF=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,kc=(n,s,i,f)=>({red:n,green:s,blue:i,alpha:f}),y4=n=>{const s=parseInt(n,10);return s.toString()===n&&s>=0&&s<=255},WF=n=>{let s,i,f;const b=(n.hue||0)%360;let w=n.saturation/100,S=n.value/100;if(w=_N(0,UF(w,1)),S=_N(0,UF(S,1)),w===0)return s=i=f=$E(255*S),kc(s,i,f,1);const _=b/60,B=S*w,z=B*(1-Math.abs(_%2-1)),Z=S-B;switch(Math.floor(_)){case 0:s=B,i=z,f=0;break;case 1:s=z,i=B,f=0;break;case 2:s=0,i=B,f=z;break;case 3:s=0,i=z,f=B;break;case 4:s=z,i=0,f=B;break;case 5:s=B,i=0,f=z;break;default:s=i=f=0}return s=$E(255*(s+Z)),i=$E(255*(i+Z)),f=$E(255*(f+Z)),kc(s,i,f,1)},IE=n=>{const s=VF(n),i=parseInt(s[1],16),f=parseInt(s[2],16),b=parseInt(s[3],16);return kc(i,f,b,1)},NN=(n,s,i,f)=>{const b=parseInt(n,10),w=parseInt(s,10),S=parseInt(i,10),_=parseFloat(f);return kc(b,w,S,_)},RN=n=>{const s=ON.exec(n);if(s!==null)return F.some(NN(s[1],s[2],s[3],"1"));const i=ZF.exec(n);return i!==null?F.some(NN(i[1],i[2],i[3],i[4])):F.none()},qF=n=>`rgba(${n.red},${n.green},${n.blue},${n.alpha})`,GF=kc(255,0,0,1),KF=n=>DN(IE(n)),T0=n=>FE(WF(n)),MN=n=>zF(n).orThunk(()=>RN(n).map(FE)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const i=s.getContext("2d");i.clearRect(0,0,s.width,s.height),i.fillStyle="#FFFFFF",i.fillStyle=n,i.fillRect(0,0,1,1);const f=i.getImageData(0,0,1,1).data,b=f[0],w=f[1],S=f[2],_=f[3];return FE(kc(b,w,S,_))}),YF=n=>{n.dispatch("SkinLoaded")},v4=(n,s)=>{n.dispatch("SkinLoadError",s)},BN=n=>{n.dispatch("ResizeEditor")},LN=(n,s)=>{n.dispatch("ResizeContent",s)},hG=(n,s)=>{n.dispatch("ScrollContent",s)},XF=(n,s)=>{n.dispatch("TextColorChange",s)},gG=(n,s)=>{n.dispatch("AfterProgressState",{state:s})},pG=(n,s)=>n.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),bG=(n,s)=>{n.dispatch("ToggleToolbarDrawer",{state:s})},yG=(n,s)=>{n.dispatch("StylesTextUpdate",s)},QF=(n,s)=>{n.dispatch("AlignTextUpdate",s)},vG=(n,s)=>{n.dispatch("FontSizeTextUpdate",s)},A1=(n,s)=>{n.dispatch("FontSizeInputTextUpdate",s)},x4=(n,s)=>{n.dispatch("BlocksTextUpdate",s)},xG=(n,s)=>{n.dispatch("FontFamilyTextUpdate",s)},wG=n=>{n.dispatch("ToggleSidebar")},JF=n=>{n.dispatch("ToggleView")},PN=n=>{n.dispatch("ContextToolbarClose")},FN=n=>{n.dispatch("ContextFormSlideBack")},r2=(n,s)=>()=>{n(),s()},zc=(n,s=Lt)=>vv(n,"NodeChange",i=>{i.setEnabled(n.selection.isEditable()&&s())}),HE=(n,s)=>i=>{const f=Ir(),b=()=>{i.setActive(n.formatter.match(s));const w=n.formatter.formatChanged(s,i.setActive);f.set(w)};return n.initialized?b():n.once("init",b),()=>{n.off("init",b),f.clear()}},zE=(n,s)=>i=>{const f=zc(n)(i),b=HE(n,s)(i);return()=>{f(),b()}},vv=(n,s,i)=>f=>{const b=()=>i(f),w=()=>{i(f),n.on(s,b)};return n.initialized?w():n.once("init",w),()=>{n.off("init",w),n.off(s,b)}},w4=n=>s=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("mceToggleFormat",!1,s.format)})},bf=(n,s)=>()=>n.execCommand(s);var a2=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const e7={},t7=(n,s=10)=>{const i=a2.getItem(n),f=I(i)?JSON.parse(i):[],w=(z=>s-z.length<0?z.slice(0,s):z)(f),S=z=>{le(w,z).each(_),w.unshift(z),w.length>s&&w.pop(),a2.setItem(n,JSON.stringify(w))},_=z=>{w.splice(z,1)};return{add:S,state:()=>w.slice(0)}},$N=n=>Hn(e7,n).getOrThunk(()=>{const s=`tinymce-custom-colors-${n}`,i=a2.getItem(s);if(pe(i)){const b=a2.getItem("tinymce-custom-colors");a2.setItem(s,Fe(b)?b:"[]")}const f=t7(s,10);return e7[n]=f,f}),CG=n=>He($N(n).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),IN=(n,s)=>{$N(n).add(s)},C4="forecolor",HN="hilitecolor",n7=5,SG=n=>zN(n.map((s,i)=>i%2===0?"#"+MN(s).value:s)),zN=n=>{const s=[];for(let i=0;i<n.length;i+=2)s.push({text:n[i+1],value:n[i],icon:"checkmark",type:"choiceitem"});return s},yf=n=>s=>s.options.get(n),jN="#000000",o7=n=>{const s=n.options.register,i=w=>Oe(w,I)?{value:SG(w),valid:!0}:{valid:!1,message:"Must be an array of strings."},f=w=>Oe(w,I)?{value:zN(w),valid:!0}:{valid:!1,message:"Must be an array of strings."},b=w=>lt(w)&&w>0?{value:w,valid:!0}:{valid:!1,message:"Must be a positive number."};s("color_map",{processor:i,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_raw",{processor:f}),s("color_map_background",{processor:i}),s("color_map_foreground",{processor:i}),s("color_cols",{processor:b,default:VN(n)}),s("color_cols_foreground",{processor:b,default:s7(n,C4)}),s("color_cols_background",{processor:b,default:s7(n,HN)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:jN}),s("color_default_background",{processor:"string",default:jN})},S4=(n,s)=>s===C4&&n.options.isSet("color_map_foreground")?yf("color_map_foreground")(n):s===HN&&n.options.isSet("color_map_background")?yf("color_map_background")(n):n.options.isSet("color_map_raw")?yf("color_map_raw")(n):yf("color_map")(n),VN=(n,s="default")=>Math.max(n7,Math.ceil(Math.sqrt(S4(n,s).length))),s7=(n,s)=>{const i=yf("color_cols")(n),f=VN(n,s);return i===VN(n)?f:i},r7=(n,s="default")=>Math.round(s===C4?yf("color_cols_foreground")(n):s===HN?yf("color_cols_background")(n):yf("color_cols")(n)),UN=yf("custom_colors"),EG=yf("color_default_foreground"),a7=yf("color_default_background"),ZN="rgba(0, 0, 0, 0)",k1=n=>RN(n).exists(s=>s.alpha!==0),WN=n=>Cr(n,s=>{if(Yc(s)){const i=yr(s,"background-color");return Sa(k1(i),i)}else return F.none()}).getOr(ZN),qN=(n,s)=>{const i=mn.fromDom(n.selection.getStart()),f=s==="hilitecolor"?WN(i):yr(i,"color");return RN(f).map(b=>"#"+FE(b).value)},i7=(n,s,i)=>{n.undoManager.transact(()=>{n.focus(),n.formatter.apply(s,{value:i}),n.nodeChanged()})},l7=(n,s)=>{n.undoManager.transact(()=>{n.focus(),n.formatter.remove(s,{value:null},void 0,!0),n.nodeChanged()})},c7=n=>{n.addCommand("mceApplyTextcolor",(s,i)=>{i7(n,s,i)}),n.addCommand("mceRemoveTextcolor",s=>{l7(n,s)})},E4=n=>{const s="choiceitem",i={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return n?[i,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]},T4=(n,s,i,f)=>{i==="custom"?YN(n)(w=>{w.each(S=>{IN(s,S),n.execCommand("mceApplyTextcolor",s,S),f(S)})},qN(n,s).getOr(jN)):i==="remove"?(f(""),n.execCommand("mceRemoveTextcolor",s)):(f(i),n.execCommand("mceApplyTextcolor",s,i))},tC=(n,s,i)=>n.concat(CG(s).concat(E4(i))),GN=(n,s,i)=>f=>{f(tC(n,s,i))},A4=(n,s,i)=>{const f=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";n.setIconFill(f,i)},u7=(n,s)=>{n.setTooltip(s)},d7=(n,s)=>i=>{const f=qN(n,s);return oo(f,i.toUpperCase())},KN=(n,s,i)=>{if(Ri(i))return s==="forecolor"?"Text color":"Background color";const f=s==="forecolor"?"Text color {0}":"Background color {0}",b=tC(S4(n,s),s,!1),w=Be(b,S=>S.value===i).getOr({text:""}).text;return n.translate([f,n.translate(w)])},f7=(n,s,i,f)=>{n.ui.registry.addSplitButton(s,{tooltip:KN(n,i,f.get()),chevronTooltip:s==="forecolor"?"Text color menu":"Background color menu",presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:d7(n,i),columns:r7(n,i),fetch:GN(S4(n,i),i,UN(n)),onAction:b=>{T4(n,i,f.get(),J)},onItemAction:(b,w)=>{T4(n,i,w,S=>{f.set(S),XF(n,{name:s,color:S})})},onSetup:b=>{A4(b,s,f.get());const w=S=>{S.name===s&&(A4(b,S.name,S.color),u7(b,KN(n,i,S.color)))};return n.on("TextColorChange",w),r2(zc(n)(b),()=>{n.off("TextColorChange",w)})}})},m7=(n,s,i,f,b)=>{n.ui.registry.addNestedMenuItem(s,{text:f,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:w=>(u7(w,KN(n,i,b.get())),A4(w,s,b.get()),zc(n)(w)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:d7(n,i),initData:{storageKey:i},onAction:w=>{T4(n,i,w.value,S=>{b.set(S),XF(n,{name:s,color:S})})}}]})},YN=n=>(s,i)=>{let f=!1;const b=_=>{const z=_.getData().colorpicker;f?(s(F.from(z)),_.close()):n.windowManager.alert(n.translate(["Invalid hex color code: {0}",z]))},w=(_,B)=>{B.name==="hex-valid"&&(f=B.value)},S={colorpicker:i};n.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:S,onAction:w,onSubmit:b,onClose:J,onCancel:()=>{s(F.none())}})},h7=n=>{c7(n);const s=EG(n),i=a7(n),f=Mn(s),b=Mn(i);f7(n,"forecolor","forecolor",f),f7(n,"backcolor","hilitecolor",b),m7(n,"forecolor","forecolor","Text color",f),m7(n,"backcolor","hilitecolor","Background color",b)},TG=(n,s,i,f,b)=>{const w=B=>({setActive:z=>{Ms.set(B,z)},isActive:()=>Ms.isOn(B),isEnabled:()=>!eo.isDisabled(B),setEnabled:z=>eo.set(B,!z)}),S=eC({presets:"img",textContent:F.none(),htmlContent:F.none(),ariaLabel:n.tooltip,iconContent:F.some(n.url),labelContent:n.label,shortcutContent:F.none(),checkMark:F.some(SN(b.icons)),caret:F.none(),value:n.value},b,!0),_=n.tooltip.map(B=>va.config(b.tooltips.getConfig({tooltipText:b.translate(B)})));return Gt(o2({context:n.context,data:Jb(n),enabled:n.enabled,getApi:w,onAction:B=>{s(n.value),B.setActive(!0)},onSetup:B=>(B.setActive(i),J),triggersSubmenu:!1,itemBehaviours:[..._.toArray()]},S,f,b),{toggling:{toggleClass:_O,toggleOnExecute:!1,selected:n.active,exclusive:!0}})},k4=(n,s,i,f,b,w,S,_)=>{const B=DE(s),Z=AG(s,i,f,b!=="color"?"normal":"color",w,S,_);return zO(n,B,Z,f,{menuType:b})},AG=(n,s,i,f,b,w,S)=>Uo(He(n,_=>_.type==="choiceitem"?Lq(_).fold(w0,B=>F.some(AN(B,i===1,f,s,w(B.value),b,S,DE(n)))):_.type==="imageitem"?NF(_).fold(w0,B=>F.some(TG(B,s,w(B.value),b,S))):_.type==="resetimage"?mN(_).fold(w0,B=>F.some(AN({...B,text:B.tooltip,icon:F.some(B.icon),label:F.some(B.label)},i===1,f,s,w(B.value),b,S,DE(n)))):F.none())),xv=(n,s)=>{const i=S1(s);return n===1?{mode:"menu",moveOnTab:!0}:n==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+{color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[s],previousSelector:b=>s==="color"?ur(b.element,"[aria-checked=true]"):F.none()}},kG=(n,s)=>n===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:n==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${mv}`:`.${EE}`}},DG=(n,s)=>{const i=g7(n,s),f=s.colorinput.getColorCols(n.initData.storageKey),b="color",S={...k4(me("menu-value"),i,_=>{n.onAction({value:_})},f,b,ip.CLOSE_ON_EXECUTE,n.select.getOr(vt),s.shared.providers),markers:S1(b),movement:xv(f,b),showMenuRole:!1};return{type:"widget",data:{value:me("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[E5.widget(Ub.sketch(S))]}},g7=(n,s)=>{const i=n.initData.allowCustomColors&&s.colorinput.hasCustomColors();return n.initData.colors.fold(()=>tC(s.colorinput.getColors(n.initData.storageKey),n.initData.storageKey,i),f=>f.concat(E4(i)))},p7=(n,s)=>{const i="imageselector",f=n.initData.columns,w={...k4(me("menu-value"),n.initData.items,S=>{n.onAction({value:S})},f,i,ip.CLOSE_ON_EXECUTE,n.select.getOr(vt),s.shared.providers),markers:S1(i),movement:xv(f,i),showMenuRole:!1};return{type:"widget",data:{value:me("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:!0,components:[E5.widget(Ub.sketch(w))]}},b7=me("cell-over"),y7=me("cell-execute"),XN=n=>(s,i)=>n.shared.providers.translate(["{0} columns, {1} rows",i,s]),_G=(n,s,i)=>{const f=S=>so(S,b7,{row:n,col:s}),b=S=>so(S,y7,{row:n,col:s}),w=(S,_)=>{_.stop(),b(S)};return E({dom:{tag:"div",attributes:{role:"button","aria-label":i}},behaviours:a([fe("insert-table-picker-cell",[Mt(Jl(),et.focus),Mt(Ls(),b),Mt(dm(),w),Mt(xr(),w)]),Ms.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),et.config({onFocus:f})])})},v7=(n,s,i)=>{const f=[];for(let b=0;b<s;b++){const w=[];for(let S=0;S<i;S++){const _=n(b+1,S+1);w.push(_G(b,S,_))}f.push(w)}return f},OG=(n,s,i,f,b)=>{for(let w=0;w<f;w++)for(let S=0;S<b;S++)Ms.set(n[w][S],w<=s&&S<=i)},NG=n=>Le(n,s=>He(s,D)),x7=(n,s)=>Ra(`${s}x${n}`),QN={inserttable:(n,s)=>{const b=XN(s),w=v7(b,10,10),S=x7(0,0),_=gr({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[S],behaviours:a([jo.config({})])});return{type:"widget",data:{value:me("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[E5.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:NG(w).concat(_.asSpec()),behaviours:a([fe("insert-table-picker",[Lr(B=>{jo.set(_.get(B),[S])}),e0(b7,(B,z,Z)=>{const{row:K,col:ae}=Z.event;OG(w,K,ae,10,10),jo.set(_.get(B),[x7(K+1,ae+1)])}),e0(y7,(B,z,Z)=>{const{row:K,col:ae}=Z.event;fs(B,Na()),n.onAction({numRows:K+1,numColumns:ae+1})})]),lo.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:DG,imageselect:p7},MG=(n,s)=>Hn(QN,n.fancytype).map(i=>i(n,s)),BG=(n,s,i,f=!0,b=!1)=>{const w=b?iG(i.icons):ch(i.icons),S=B=>({isEnabled:()=>!eo.isDisabled(B),setEnabled:z=>eo.set(B,!z),setIconFill:(z,Z)=>{ur(B.element,`svg path[class="${z}"], rect[class="${z}"]`).each(K=>{uo(K,"fill",Z)})},setTooltip:z=>{const Z=i.translate(z);uo(B.element,"aria-label",Z)}}),_=eC({presets:"normal",iconContent:n.icon,textContent:n.text,htmlContent:F.none(),ariaLabel:n.text,labelContent:F.none(),caret:F.some(w),checkMark:F.none(),shortcutContent:n.shortcut},i,f);return o2({context:n.context,data:Jb(n),getApi:S,enabled:n.enabled,onAction:J,onSetup:n.onSetup,triggersSubmenu:!0,itemBehaviours:[]},_,s,i)},LG=(n,s,i,f=!0)=>{const b=S=>({isEnabled:()=>!eo.isDisabled(S),setEnabled:_=>eo.set(S,!_)}),w=eC({presets:"normal",iconContent:n.icon,textContent:n.text,htmlContent:F.none(),labelContent:F.none(),ariaLabel:n.text,caret:F.none(),checkMark:F.none(),shortcutContent:n.shortcut},i,f);return o2({context:n.context,data:Jb(n),getApi:b,enabled:n.enabled,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:[]},w,s,i)},PG=n=>({type:"separator",dom:{tag:"div",classes:[EE,FP]},components:n.text.map(Ra).toArray()}),w7=(n,s,i,f=!0)=>{const b=S=>({setActive:_=>{Ms.set(S,_)},isActive:()=>Ms.isOn(S),isEnabled:()=>!eo.isDisabled(S),setEnabled:_=>eo.set(S,!_)}),w=eC({iconContent:n.icon,textContent:n.text,htmlContent:F.none(),labelContent:F.none(),ariaLabel:n.text,checkMark:F.some(SN(i.icons)),caret:F.none(),shortcutContent:n.shortcut,presets:"normal",meta:n.meta},i,f);return Gt(o2({context:n.context,data:Jb(n),enabled:n.enabled,getApi:b,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:[]},w,s,i),{toggling:{toggleClass:_O,toggleOnExecute:!1,selected:n.active},role:n.role.getOrUndefined()})},C7=fG,JN=PG,FG=LG,$G=BG,IG=w7,HG=MG,zG=mG,jG=n=>n.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:n},VG=n=>{const s=In.getValue(n),i=AE(n).map(BO);Gf.refetch(s).get(()=>{const f=Wo.getCoupled(s,"sandbox");i.each(b=>AE(f).each(w=>fW(w,b)))})},UG=(n,s)=>{ZG(n).each(i=>{ax(n,i.element,s.event.eventType,s.event.interactionEvent)})},ZG=n=>ar.getState(n).bind(fr.getHighlighted).bind(fr.getHighlighted),eR=n=>Da(n.element,t4)?F.some(n.element):ur(n.element,"."+t4),S7=(n,s,i)=>{ZP(n).each(f=>{WP(f,i),eR(s).each(w=>{li(w,"id").each(S=>uo(f.element,"aria-controls",S))})}),uo(i.element,"aria-selected","true")},WG=(n,s,i)=>{uo(i.element,"aria-selected","false")},qG=n=>{ZP(n).each(s=>et.focus(s))},jE=n=>Wo.getExistingCoupled(n,"sandbox").bind(AE).map(BO).map(i=>i.fetchPattern).getOr("");var nC;(function(n){n[n.ContentFocus=0]="ContentFocus",n[n.UiFocus=1]="UiFocus"})(nC||(nC={}));const GG=(n,s,i,f,b)=>{const w=i.shared.providers,S=_=>b?{..._,shortcut:F.none(),icon:_.text.isSome()?F.none():_.icon}:_;switch(n.type){case"menuitem":return Hq(n).fold(w0,_=>F.some(FG(S(_),s,w,f)));case"nestedmenuitem":return jq(n).fold(w0,_=>F.some($G(S(_),s,w,f,b)));case"togglemenuitem":return Uq(n).fold(w0,_=>F.some(IG(S(_),s,w,f)));case"separator":return bq(n).fold(w0,_=>F.some(JN(_)));case"fancymenuitem":return OF(n).fold(w0,_=>HG(_,i));default:return console.error("Unknown item in general menu",n),F.none()}},KG=(n,s,i,f,b,w,S)=>{const _=f===1,B=!_||DE(n);return Uo(He(n,z=>{switch(z.type){case"separator":return vq(z).fold(w0,Z=>F.some(JN(Z)));case"cardmenuitem":return uN(z).fold(w0,Z=>F.some(zG({...Z,onAction:K=>{Z.onAction(K),i(Z.value,Z.meta)}},b,w,{itemBehaviours:$F(Z.meta,w,F.none()),cardText:{matchText:s,highlightOn:S}})));default:return xq(z).fold(w0,Z=>F.some(C7(Z,s,_,"normal",i,b,w,B)))}}))},D4=(n,s,i,f,b,w)=>{const S=DE(s),_=Uo(He(s,Z=>{const K=he=>b?!ts(he,"text"):S,ae=he=>GG(he,i,f,K(he),b);return Z.type==="nestedmenuitem"&&Z.getSubmenuItems().length<=0?ae({...Z,enabled:!1}):ae(Z)})),B=jG(w);return(b?YP:zO)(n,S,_,1,B)},tR=n=>Ix.singleData(n.value,n),nR=(n,s,i,f)=>{const b=xv(s,f),w=S1(f);return{data:tR({...n,movement:b,menuBehaviours:Jw.unnamedEvents(s!=="auto"?[]:[Lr((S,_)=>{bN(S,4,w.item).each(({numColumns:B,numRows:z})=>{lo.setGridSize(S,z,B)})})])}),menu:{markers:S1(f),fakeFocus:i===nC.ContentFocus}}},E7=n=>P.create(mn.fromDom(n.startContainer),n.startOffset,mn.fromDom(n.endContainer),n.endOffset),YG={register:(n,s)=>{const i=me("autocompleter"),f=Mn(!1),b=Mn(!1),w=Co(),S=E(hi.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:i}},components:[],fireDismissalEventInstead:{},inlineBehaviours:a([fe("dismissAutocompleter",[Mt(mm(),()=>K()),Mt(fb(),(Ee,Xe)=>{li(Xe.event.target,"id").each(st=>uo(mn.fromDom(n.getBody()),"aria-activedescendant",st))})])]),lazySink:s.getSink})),_=()=>hi.isOpen(S),B=b.get,z=()=>{if(_()){hi.hide(S),n.dom.remove(i,!1);const Ee=mn.fromDom(n.getBody());li(Ee,"aria-owns").filter(Xe=>Xe===i).each(()=>{cr(Ee,"aria-owns"),cr(Ee,"aria-activedescendant")})}},Z=()=>hi.getContent(S).bind(Ee=>Tt(Ee.components(),0)),K=()=>n.execCommand("mceAutocompleterClose"),ae=Ee=>{const Xe=Jo(Ee,st=>F.from(st.columns)).getOr(1);return Le(Ee,st=>{const wt=st.items;return KG(wt,st.matchText,(Ot,kn)=>{const Jt={hide:()=>K(),reload:rn=>{z(),n.execCommand("mceAutocompleterReload",!1,{fetchOptions:rn})}};n.execCommand("mceAutocompleterRefreshActiveRange"),w.get().each(rn=>{f.set(!0),st.onAction(Jt,rn,Ot,kn),f.set(!1)})},Xe,ip.BUBBLE_TO_SANDBOX,s,st.highlightOn)})},he=(Ee,Xe)=>{const st=Jo(Ee,wt=>F.from(wt.columns)).getOr(1);hi.showMenuAt(S,{anchor:{type:"selection",getSelection:()=>w.get().map(E7),root:mn.fromDom(n.getBody())}},nR(zO("autocompleter-value",!0,Xe,st,{menuType:"normal"}),st,nC.ContentFocus,"normal")),Z().each(fr.highlightFirst)},xe=Ee=>{const Xe=ae(Ee);Xe.length>0?(he(Ee,Xe),uo(mn.fromDom(n.getBody()),"aria-owns",i),n.inline||_e()):z()},_e=()=>{n.dom.get(i)&&n.dom.remove(i,!1);const Ee=n.getDoc().documentElement,Xe=n.selection.getNode(),st=Cl(S.element);Or(st,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${Xe.offsetTop}px`,left:`${Xe.offsetLeft}px`}),n.dom.add(Ee,st.dom),ur(st,'[role="menu"]').each(wt=>{cs(wt,"position"),cs(wt,"max-height")})};n.on("AutocompleterStart",({lookupData:Ee})=>{b.set(!0),f.set(!1),xe(Ee)}),n.on("AutocompleterUpdate",({lookupData:Ee})=>xe(Ee)),n.on("AutocompleterUpdateActiveRange",({range:Ee})=>w.set(Ee)),n.on("AutocompleterEnd",()=>{z(),b.set(!1),f.set(!1),w.clear()});const ze={cancelIfNecessary:K,isMenuOpen:_,isActive:B,isProcessingAction:f.get,getMenu:Z};sW.setup(ze,n)}},T7=(n,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:He(n.items,s.interpreter)});var XG=tinymce.util.Tools.resolve("tinymce.html.Entities");const oC=(n,s,i,f)=>{const b=A7(n,s,i,f);return Ds.sketch(b)},QG=(n,s)=>oC(n,s,[],[]),A7=(n,s,i,f)=>({dom:D7(i),components:n.toArray().concat([s]),fieldBehaviours:a(f)}),k7=()=>D7([]),D7=n=>({tag:"div",classes:["tox-form__group"].concat(n)}),ey=(n,s)=>Ds.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ra(s.translate(n))]}),vf=me("form-component-change"),_7=me("form-component-input"),i2=me("form-close"),ty=me("form-cancel"),lp=me("form-action"),VE=me("form-submit"),oR=me("form-block"),_4=me("form-unblock"),O7=me("form-tabchange"),sR=me("form-resize"),JG=(n,s,i)=>{const f=n.label.map(he=>ey(he,s)),b=s.icons(),w=he=>b[he]??he,S=he=>(xe,_e)=>{yi(_e.event.target,"[data-collection-item-value]").each(ze=>{he(xe,_e,ze,ea(ze,"data-collection-item-value"))})},_=(he,xe)=>{const ze=s.checkUiComponentContext("mode:design").shouldDisable||s.isDisabled()?" tox-collection__item--state-disabled":"",Ee=He(xe,wt=>{const Ot=hd.translate(wt.text),kn=n.columns===1?`<div class="tox-collection__item-label">${Ot}</div>`:"",Jt=`<div class="tox-collection__item-icon">${w(wt.icon)}</div>`,rn={_:" "," - ":" ","-":" "},on=Ot.replace(/\_| \- |\-/g,mo=>rn[mo]);return`<div data-mce-tooltip="${on}" class="tox-collection__item${ze}" tabindex="-1" data-collection-item-value="${XG.encodeAllRaw(wt.value)}" aria-label="${on}">${Jt}${kn}</div>`}),Xe=n.columns!=="auto"&&n.columns>1?mt(Ee,n.columns):[Ee],st=He(Xe,wt=>`<div class="tox-collection__group">${wt.join("")}</div>`);Rl(he.element,st.join(""))},B=S((he,xe,_e,ze)=>{xe.stop(),s.checkUiComponentContext("mode:design").shouldDisable||s.isDisabled()||so(he,lp,{name:n.name,value:ze})}),z=[Mt(Jl(),S((he,xe,_e)=>{Fa(_e,!0)})),Mt(dm(),B),Mt(xr(),B),Mt(ec(),S((he,xe,_e)=>{ur(he.element,"."+qx).each(ze=>{ha(ze,qx)}),nr(_e,qx)})),Mt(lb(),S(he=>{ur(he.element,"."+qx).each(xe=>{ha(xe,qx),ma(xe)})})),wm(S((he,xe,_e,ze)=>{so(he,lp,{name:n.name,value:ze})}))],Z=(he,xe)=>He(ta(he.element,".tox-collection__item"),xe),K=Ds.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(n.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:ut},behaviours:a([eo.config({disabled:()=>s.checkUiComponentContext(n.context).shouldDisable,onDisabled:he=>{Z(he,xe=>{nr(xe,"tox-collection__item--state-disabled"),uo(xe,"aria-disabled",!0)})},onEnabled:he=>{Z(he,xe=>{ha(xe,"tox-collection__item--state-disabled"),cr(xe,"aria-disabled")})}}),nl(()=>s.checkUiComponentContext(n.context)),jo.config({}),va.config({...s.tooltips.getConfig({tooltipText:"",onShow:he=>{ur(he.element,"."+qx+"[data-mce-tooltip]").each(xe=>{li(xe,"data-mce-tooltip").each(_e=>{va.setComponents(he,s.tooltips.getComponents({tooltipText:_e}))})})}}),mode:"children-keyboard-focus",anchor:he=>({type:"node",node:ur(he.element,"."+qx).orThunk(()=>Ag(".tox-collection__item")),root:he.element,layouts:{onLtr:ie([Oi,ya,Ji,Al,Kr,kl]),onRtl:ie([Oi,ya,Ji,Al,Kr,kl])},bubble:mu(0,-2,{})})}),In.config({store:{mode:"memory",initialValue:i.getOr([])},onSetValue:(he,xe)=>{_(he,xe),n.columns==="auto"&&bN(he,5,"tox-collection__item").each(({numRows:_e,numColumns:ze})=>{lo.setGridSize(he,_e,ze)}),fs(he,sR)}}),ua.config({}),lo.config(kG(n.columns,"normal")),fe("collection-events",z)]),eventOrder:{[Ls()]:["disabling","alloy.base.behaviour","collection-events"],[ec()]:["collection-events","tooltipping"]}});return oC(f,K,["tox-form__group--collection"],[])},eK=(n,s)=>Gf.sketch({dom:n.dom,components:n.components,toggleClass:"mce-active",dropdownBehaviours:a([S0.button(()=>s.providers.isDisabled()||s.providers.checkUiComponentContext(n.context).shouldDisable),nl(()=>s.providers.checkUiComponentContext(n.context)),m0.config({}),ua.config({})]),layouts:n.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:i=>ls.nu(f=>n.fetch(f)).map(f=>F.from(tR(Gt(k4(me("menu-value"),f,b=>{n.onItemAction(i,b)},n.columns,n.presets,ip.CLOSE_ON_EXECUTE,vt,s.providers),{movement:xv(n.columns,n.presets)})))),parts:{menu:TE(!1,1,n.presets)}}),O4=me("color-input-change"),N7=me("color-swatch-change"),R7=me("color-picker-cancel"),tK=(n,s,i,f)=>{const b=Ds.parts.field({factory:C1,inputClasses:["tox-textfield"],data:f,onSetValue:z=>sh.run(z).get(J),inputBehaviours:a([eo.config({disabled:()=>s.providers.isDisabled()||s.providers.checkUiComponentContext(n.context).shouldDisable}),nl(()=>s.providers.checkUiComponentContext(n.context)),ua.config({}),sh.config({invalidClass:"tox-textbox-field-invalid",getRoot:z=>Au(z.element),notify:{onValid:z=>{const Z=In.getValue(z);so(z,O4,{color:Z})}},validator:{validateOnLoad:!1,validate:z=>{const Z=In.getValue(z);if(Z.length===0)return ls.pure(Pn.value(!0));{const K=mn.fromTag("span");So(K,"background-color",Z);const ae=Gr(K,"background-color").fold(()=>Pn.error("blah"),he=>Pn.value(Z));return ls.pure(ae)}}}})]),selectOnFocus:!1}),w=n.label.map(z=>ey(z,s.providers)),S=(z,Z)=>{so(z,N7,{value:Z})},_=(z,Z)=>{B.getOpt(z).each(K=>{Z==="custom"?i.colorPicker(ae=>{ae.fold(()=>fs(K,R7),he=>{S(K,he),IN(n.storageKey,he)})},"#ffffff"):Z==="remove"?S(K,""):S(K,Z)})},B=gr(eK({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Kr,Ji,Oi],onLtr:()=>[Ji,Kr,Oi]},components:[],fetch:GN(i.getColors(n.storageKey),n.storageKey,i.hasCustomColors()),columns:i.getColorCols(n.storageKey),presets:"color",onItemAction:_,context:n.context},s));return Ds.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:w.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[b,B.asSpec()]}]),fieldBehaviours:a([fe("form-field-events",[Mt(O4,(z,Z)=>{B.getOpt(z).each(K=>{So(K.element,"background-color",Z.event.color)}),so(z,vf,{name:n.name})}),Mt(N7,(z,Z)=>{Ds.getField(z).each(K=>{In.setValue(K,Z.event.value),$t.getCurrent(z).each(et.focus)})}),Mt(R7,(z,Z)=>{Ds.getField(z).each(K=>{$t.getCurrent(z).each(et.focus)})})])])})},cp={self:()=>$t.config({find:F.some}),memento:n=>$t.config({find:n.getOpt}),childAt:n=>$t.config({find:s=>tm(s.element,n).bind(i=>s.getSystem().getByDom(i).toOptional())})},B7=fo([bt("preprocess",ut),bt("postprocess",ut)]),oK=(n,s)=>{const i=Mc("RepresentingConfigs.memento processors",B7,s);return In.config({store:{mode:"manual",getValue:f=>{const b=n.get(f),w=In.getValue(b);return i.postprocess(w)},setValue:(f,b)=>{const w=i.preprocess(b),S=n.get(f);In.setValue(S,w)}}})},l2=(n,s,i)=>In.config({store:{mode:"manual",...n.map(f=>({initialValue:f})).getOr({}),getValue:s,setValue:i}}),L7=(n,s,i)=>l2(n,f=>s(f.element),(f,b)=>i(f.element,b)),sK=n=>L7(n,Js,Rl),N4=n=>In.config({store:{mode:"memory",initialValue:n}}),R4=me("rgb-hex-update"),P7=me("slider-update"),F7=me("palette-update"),$7=(n,s)=>{const i=rp.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),f=rp.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return rp.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:ie(0)},components:[i,f],sliderBehaviours:a([et.config({})]),onChange:(b,w,S)=>{uo(b.element,"aria-valuenow",Math.floor(360-S*3.6)),so(b,P7,{value:S})}})},I7=me("valid-input"),H7=me("invalid-input"),z7=me("validating-input"),M4="colorcustom.rgb.",rK={isEnabled:Lt,setEnabled:J,immediatelyShow:J,immediatelyHide:J},aK=(n,s,i,f,b,w)=>{const S=(_e,ze)=>{const Ee=ze.get();_e!==Ee.isEnabled()&&(Ee.setEnabled(_e),_e?Ee.immediatelyShow():Ee.immediatelyHide())},_=(_e,ze,Ee)=>sh.config({invalidClass:s("invalid"),notify:{onValidate:Xe=>{so(Xe,z7,{type:_e})},onValid:Xe=>{S(!1,Ee),so(Xe,I7,{type:_e,value:In.getValue(Xe)})},onInvalid:Xe=>{S(!0,Ee),so(Xe,H7,{type:_e,value:In.getValue(Xe)})}},validator:{validate:Xe=>{const st=In.getValue(Xe),wt=ze(st)?Pn.value(!0):Pn.error(n("aria.input.invalid"));return ls.pure(wt)},validateOnLoad:!1}}),B=(_e,ze,Ee,Xe,st)=>{const wt=Mn(rK),Ot=n(M4+"range"),kn=Ds.parts.label({dom:{tag:"label"},components:[Ra(Ee)]}),Jt=Ds.parts.field({data:st,factory:C1,inputAttributes:{type:"text","aria-label":Xe,...ze==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:a([_(ze,_e,wt),ua.config({}),va.config({...b({tooltipText:"",onSetup:Vo=>{wt.set({isEnabled:()=>va.isEnabled(Vo),setEnabled:no=>va.setEnabled(Vo,no),immediatelyShow:()=>va.immediateOpenClose(Vo,!0),immediatelyHide:()=>va.immediateOpenClose(Vo,!1)}),va.setEnabled(Vo,!1)},onShow:(Vo,no)=>{va.setComponents(Vo,[{dom:{tag:"p",classes:[s("rgb-warning-note")]},components:[Ra(n(ze==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:Vo=>{sh.isInvalid(Vo)&&sh.run(Vo).get(J)}}),rn=me("aria-invalid"),on=gr(w("invalid",F.some(rn),"warning")),mo=gr({dom:{tag:"div",classes:[s("invalid-icon")]},components:[on.asSpec()]}),to=[kn,Jt,mo.asSpec()],ys=ze!=="hex"?[Ds.parts["aria-descriptor"]({text:Ot})]:[],ho=to.concat(ys);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[s("rgb-container")]},components:ho}},z=(_e,ze)=>{const Ee=FE(ze);return iv.getField(_e,"hex").each(Xe=>{et.isFocused(Xe)||In.setValue(_e,{hex:Ee.value})}),Ee},Z=(_e,ze)=>{const Ee=ze.red,Xe=ze.green,st=ze.blue;In.setValue(_e,{red:Ee,green:Xe,blue:st})},K=gr({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),ae=(_e,ze)=>{K.getOpt(_e).each(Ee=>{So(Ee.element,"background-color","#"+ze.value)})};return oh({factory:()=>{const _e={red:Mn(F.some(255)),green:Mn(F.some(255)),blue:Mn(F.some(255)),hex:Mn(F.some("ffffff"))},ze=(no,Yt)=>{const vn=IE(Yt);Z(no,vn),wt(vn)},Ee=no=>_e[no].get(),Xe=(no,Yt)=>{_e[no].set(Yt)},st=()=>Ee("red").bind(no=>Ee("green").bind(Yt=>Ee("blue").map(vn=>kc(no,Yt,vn,1)))),wt=no=>{const Yt=no.red,vn=no.green,To=no.blue;Xe("red",F.some(Yt)),Xe("green",F.some(vn)),Xe("blue",F.some(To))},Ot=(no,Yt)=>{const vn=Yt.event;vn.type!=="hex"?Xe(vn.type,F.none()):f(no)},kn=(no,Yt)=>{i(no);const vn=g4(Yt);Xe("hex",F.some(vn.value));const To=IE(vn);Z(no,To),wt(To),so(no,R4,{hex:vn}),ae(no,vn)},Jt=(no,Yt,vn)=>{const To=parseInt(vn,10);Xe(Yt,F.some(To)),st().each(Ko=>{const ao=z(no,Ko);so(no,R4,{hex:ao}),ae(no,ao)})},rn=no=>no.type==="hex",on=(no,Yt)=>{const vn=Yt.event;rn(vn)?kn(no,vn.value):Jt(no,vn.type,vn.value)},mo=no=>({label:n(M4+no+".label"),description:n(M4+no+".description")}),to=mo("red"),ys=mo("green"),ho=mo("blue"),Vo=mo("hex");return Gt(iv.sketch(no=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":n("aria.color.picker")}},components:[no.field("red",Ds.sketch(B(y4,"red",to.label,to.description,255))),no.field("green",Ds.sketch(B(y4,"green",ys.label,ys.description,255))),no.field("blue",Ds.sketch(B(y4,"blue",ho.label,ho.description,255))),no.field("hex",Ds.sketch(B(b4,"hex",Vo.label,Vo.description,"ffffff"))),K.asSpec()],formBehaviours:a([sh.config({invalidClass:s("form-invalid")}),fe("rgb-form-events",[Mt(I7,on),Mt(H7,Ot),Mt(z7,Ot)])])})),{apis:{updateHex:(no,Yt)=>{In.setValue(no,{hex:Yt.value}),ze(no,Yt),ae(no,Yt)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(_e,ze,Ee)=>{_e.updateHex(ze,Ee)}},extraApis:{}})},iK=(n,s)=>{const i=rp.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),f=rp.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),b=(z,Z)=>{const{width:K,height:ae}=z,he=z.getContext("2d");if(he===null)return;he.fillStyle=Z,he.fillRect(0,0,K,ae);const xe=he.createLinearGradient(0,0,K,0);xe.addColorStop(0,"rgba(255,255,255,1)"),xe.addColorStop(1,"rgba(255,255,255,0)"),he.fillStyle=xe,he.fillRect(0,0,K,ae);const _e=he.createLinearGradient(0,0,0,ae);_e.addColorStop(0,"rgba(0,0,0,0)"),_e.addColorStop(1,"rgba(0,0,0,1)"),he.fillStyle=_e,he.fillRect(0,0,K,ae)},w=(z,Z)=>{const K=z.components()[0].element.dom,ae=yv(Z,100,100),he=WF(ae);b(K,qF(he))},S=(z,Z)=>{const K=DN(IE(Z));rp.setValue(z,{x:K.saturation,y:100-K.value}),uo(z.element,"aria-valuetext",n(["Saturation {0}%, Brightness {1}%",K.saturation,K.value]))};return oh({factory:z=>{const Z=ie({x:0,y:0}),K=(xe,_e,ze)=>{lt(ze)||uo(xe.element,"aria-valuetext",n(["Saturation {0}%, Brightness {1}%",Math.floor(ze.x),Math.floor(100-ze.y)])),so(xe,F7,{value:ze})},ae=(xe,_e,ze,Ee)=>{b(ze.element.dom,qF(GF))},he=a([$t.config({find:F.some}),et.config({})]);return rp.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":n(["Saturation {0}%, Brightness {1}%",0,0])},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:Z},rounded:!1,components:[i,f],onChange:K,onInit:ae,sliderBehaviours:he})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(z,Z,K)=>{w(Z,K)},setThumb:(z,Z,K)=>{S(Z,K)}},extraApis:{}})},j7=(n,s,i,f)=>{const b=S=>{const _=aK(n,s,S.onValidHex,S.onInvalidHex,i,f),B=iK(n,s),z=rn=>(100-rn)/100*360,Z=rn=>100-rn/360*100,K={paletteRgba:Mn(GF),paletteHue:Mn(0)},ae=gr($7(n,s)),he=gr(B.sketch({})),xe=gr(_.sketch({})),_e=(rn,on,mo)=>{he.getOpt(rn).each(to=>{B.setHue(to,mo)})},ze=(rn,on)=>{xe.getOpt(rn).each(mo=>{_.updateHex(mo,on)})},Ee=(rn,on,mo)=>{ae.getOpt(rn).each(to=>{rp.setValue(to,Z(mo))})},Xe=(rn,on)=>{he.getOpt(rn).each(mo=>{B.setThumb(mo,on)})},st=(rn,on)=>{const mo=IE(rn);K.paletteRgba.set(mo),K.paletteHue.set(on)},wt=(rn,on,mo,to)=>{st(on,mo),ft(to,ys=>{ys(rn,on,mo)})},Ot=()=>{const rn=[ze];return(on,mo)=>{const to=mo.event.value,ys=K.paletteHue.get(),ho=yv(ys,to.x,100-to.y),Vo=T0(ho);wt(on,Vo,ys,rn)}},kn=()=>{const rn=[_e,ze];return(on,mo)=>{const to=z(mo.event.value),ys=K.paletteRgba.get(),ho=DN(ys),Vo=yv(to,ho.saturation,ho.value),no=T0(Vo);wt(on,no,to,rn)}},Jt=()=>{const rn=[_e,Ee,Xe];return(on,mo)=>{const to=mo.event.hex,ys=KF(to);wt(on,to,ys.hue,rn)}};return{uid:S.uid,dom:S.dom,components:[he.asSpec(),ae.asSpec(),xe.asSpec()],behaviours:a([fe("colour-picker-events",[Mt(R4,Jt()),Mt(F7,Ot()),Mt(P7,kn())]),$t.config({find:rn=>xe.getOpt(rn)}),lo.config({mode:"acyclic"})])}};return oh({name:"ColourPicker",configFields:[qt("dom"),bt("onValidHex",J),bt("onInvalidHex",J)],factory:b})},V7={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},U7=n=>s=>I(s)?n.translate(V7[s]):n.translate(s),B4=(n,s,i)=>{const f=z=>"tox-"+z,b=(z,Z,K=z,ae=z)=>lh(K,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+z],attributes:{title:s.translate(ae),"aria-live":"polite",...Z.fold(()=>({}),he=>({id:he}))}},s.icons),w=j7(U7(s),f,s.tooltips.getConfig,b),S=z=>{so(z,lp,{name:"hex-valid",value:!0})},_=z=>{so(z,lp,{name:"hex-valid",value:!1})},B=gr(w.sketch({dom:{tag:"div",classes:[f("color-picker-container")],attributes:{role:"presentation"}},onValidHex:S,onInvalidHex:_}));return{dom:{tag:"div"},components:[B.asSpec()],behaviours:a([l2(i,z=>{const Z=B.get(z);return $t.getCurrent(Z).bind(he=>In.getValue(he).hex).map(he=>"#"+Sf(he,"#")).getOr("")},(z,Z)=>{const K=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,ae=F.from(K.exec(Z)).bind(_e=>Tt(_e,1)),he=B.get(z);$t.getCurrent(he).fold(()=>{console.log("Can not find form")},_e=>{In.setValue(_e,{hex:ae.getOr("")}),iv.getField(_e,"hex").each(ze=>{fs(ze,Bf())})})}),cp.self()])}};var Z7=tinymce.util.Tools.resolve("tinymce.Resource");const W7=n=>ts(n,"init"),lK=n=>{const s=Co(),i=gr({dom:{tag:n.tag}}),f=Co(),b=!W7(n)&&n.onFocus.isSome()?[et.config({onFocus:w=>{n.onFocus.each(S=>{S(w.element.dom)})}}),ua.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:a([fe("custom-editor-events",[Lr(w=>{i.getOpt(w).each(S=>{(W7(n)?n.init(S.element.dom):Z7.load(n.scriptId,n.scriptUrl).then(_=>_(S.element.dom,n.settings))).then(_=>{f.on(B=>{_.setValue(B)}),f.clear(),s.set(_)})})})]),l2(F.none(),()=>s.get().fold(()=>f.get().getOr(""),w=>w.getValue()),(w,S)=>{s.get().fold(()=>f.set(S),_=>_.setValue(S))}),cp.self()].concat(b)),components:[i.asSpec()]}};var D1=tinymce.util.Tools.resolve("tinymce.util.Tools");const rR=me("browse.files.event"),cK=(n,s,i)=>{const f=D1.explode(s.getOption("images_file_types")),b=w=>i.fold(()=>It(f,S=>dc(w.name.toLowerCase(),`.${S.toLowerCase()}`)),S=>It(S,_=>dc(w.name.toLowerCase(),`.${_.toLowerCase()}`)));return xo(Yo(n),b)},uK=(n,s,i)=>{const f=(ae,he)=>{he.stop()},b=ae=>(he,xe)=>{ft(ae,_e=>{_e(he,xe)})},w=(ae,he)=>{if(!eo.isDisabled(ae)){const xe=he.event.raw;so(ae,rR,{files:xe.dataTransfer?.files})}},S=(ae,he)=>{const xe=he.event.raw.target;so(ae,rR,{files:xe.files})},_=(ae,he)=>{he&&(In.setValue(ae,cK(he,s,n.allowedFileExtensions)),so(ae,vf,{name:n.name}))},B=gr({dom:{tag:"input",attributes:{type:"file",accept:n.allowedFileTypes.getOr("image/*")},styles:{display:"none"}},behaviours:a([fe("input-file-events",[xm(dm()),xm(xr())])])}),z=n.label.map(ae=>ey(ae,s)),Z=Ds.parts.field({factory:rc,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Ra(s.translate(n.buttonLabel.getOr("Browse for an image"))),B.asSpec()],action:ae=>{B.get(ae).element.dom.click()},buttonBehaviours:a([cp.self(),N4(i.getOr([])),ua.config({}),S0.button(()=>s.checkUiComponentContext(n.context).shouldDisable),nl(()=>s.checkUiComponentContext(n.context))])}),K={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:a([eo.config({disabled:()=>s.checkUiComponentContext(n.context).shouldDisable}),nl(()=>s.checkUiComponentContext(n.context)),Ms.config({toggleClass:"dragenter",toggleOnExecute:!1}),fe("dropzone-events",[Mt("dragenter",b([f,Ms.toggle])),Mt("dragleave",b([f,Ms.toggle])),Mt("dragover",f),Mt("drop",b([f,w])),Mt(Lf(),S)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Ra(s.translate(n.dropAreaLabel.getOr("Drop an image here")))]},Z]}]};return oC(z,K,["tox-form__group--stretched"],[fe("handle-files",[Mt(rR,(ae,he)=>{Ds.getField(ae).each(xe=>{_(xe,he.event.files)})})])])},dK=(n,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${n.columns}col`]},components:He(n.items,s.interpreter)}),L4=me("alloy-fake-before-tabstop"),aR=me("alloy-fake-after-tabstop"),q7=n=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:n},behaviours:a([et.config({ignore:!0}),ua.config({})])}),G7=(n,s)=>({dom:{tag:"div",classes:["tox-navobj",...n.getOr([])]},components:[q7([L4]),s,q7([aR])],behaviours:a([cp.childAt(1)])}),iR=(n,s)=>{so(n,Ki(),{raw:{which:9,shiftKey:s}})},K7=(n,s)=>{const i=s.element;Da(i,L4)?iR(n,!0):Da(i,aR)&&iR(n,!1)},UE=n=>Pm(n,["."+L4,"."+aR].join(","),vt),P4=me("update-dialog"),lR=me("update-title"),Y7=me("update-body"),X7=me("update-footer"),Ro=me("body-send-message"),wv=me("dialog-focus-shifted"),F4=Ua().browser,sC=F4.isSafari(),Q7=F4.isFirefox(),cR=sC||Q7,fK=F4.isChromium(),J7=({scrollTop:n,scrollHeight:s,clientHeight:i})=>Math.ceil(n)+i>=s,e$=(n,s)=>n.scrollTo(0,s==="bottom"?99999999:s),mK=(n,s)=>{const i=n.body;return F.from(!/^<!DOCTYPE (html|HTML)/.test(s)&&(!fK&&!sC||Fe(i)&&(i.scrollTop!==0||Math.abs(i.scrollHeight-i.clientHeight)>1))?i:n.documentElement)},t$=(n,s,i)=>{const f=n.dom;F.from(f.contentDocument).fold(i,b=>{let w=0;const S=mK(b,s).map(B=>(w=B.scrollTop,B)).forall(J7),_=()=>{const B=f.contentWindow;Fe(B)&&(S?e$(B,"bottom"):!S&&cR&&w!==0&&e$(B,w))};sC&&f.addEventListener("load",_,{once:!0}),b.open(),b.write(s),b.close(),sC||_()})},n$=Sa(cR,sC?500:200).map(n=>qr(t$,n)),Wne=(n,s)=>{const i=Mn(n.getOr(""));return{getValue:f=>i.get(),setValue:(f,b)=>{if(i.get()!==b){const w=f.element,S=()=>uo(w,"srcdoc",b);s?n$.fold(ie(t$),_=>_.throttle)(w,b,S):S()}i.set(b)}}},ZE=(n,s,i)=>{const f="tox-dialog__iframe",b=n.transparent?[]:[`${f}--opaque`],w=n.border?["tox-navobj-bordered"]:[],S={...n.label.map(K=>({title:K})).getOr({}),...i.map(K=>({srcdoc:K})).getOr({}),...n.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},_=Wne(i,n.streamContent),B=n.label.map(K=>ey(K,s)),z=K=>G7(F.from(w),{uid:K.uid,dom:{tag:"iframe",attributes:S,classes:[f,...b]},behaviours:a([ua.config({}),et.config({}),l2(i,_.getValue,_.setValue),md.config({channels:{[wv]:{onReceive:(ae,he)=>{he.newFocus.each(xe=>{Au(ae.element).each(_e=>{(oe(ae.element,xe)?nr:ha)(_e,"tox-navobj-bordered-focus")})})}}}})])}),Z=Ds.parts.field({factory:{sketch:z}});return oC(B,Z,["tox-form__group--stretched"],[])},uR=(n,s,i,f,b)=>{const w=i*b,S=f*b,_=Math.max(0,n/2-w/2),B=Math.max(0,s/2-S/2);return{left:_.toString()+"px",top:B.toString()+"px",width:w.toString()+"px",height:S.toString()+"px"}},o$=(n,s,i)=>{const f=Bi(n),b=bi(n);return Math.min(f/s,b/i,1)},gK=(n,s)=>{const i=Mn(s.getOr({url:""})),f=gr({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(B=>({src:B.url})).getOr({})}}),b=gr({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[f.asSpec()]}),w=(B,z)=>{const Z={url:z.url};z.zoom.each(ae=>Z.zoom=ae),z.cachedWidth.each(ae=>Z.cachedWidth=ae),z.cachedHeight.each(ae=>Z.cachedHeight=ae),i.set(Z);const K=()=>{const{cachedWidth:ae,cachedHeight:he,zoom:xe}=Z;if(!Ce(ae)&&!Ce(he)){if(Ce(xe)){const ze=o$(B.element,ae,he);Z.zoom=ze}const _e=uR(Bi(B.element),bi(B.element),ae,he,Z.zoom);b.getOpt(B).each(ze=>{Or(ze.element,_e)})}};f.getOpt(B).each(ae=>{const he=ae.element;z.url!==ea(he,"src")&&(uo(he,"src",z.url),ha(B.element,"tox-imagepreview__loaded")),K(),Sl(he).then(xe=>{B.getSystem().isConnected()&&(nr(B.element,"tox-imagepreview__loaded"),Z.cachedWidth=xe.dom.naturalWidth,Z.cachedHeight=xe.dom.naturalHeight,K())})})},S={};n.height.each(B=>S.height=B);const _=s.map(B=>({url:B.url,zoom:F.from(B.zoom),cachedWidth:F.from(B.cachedWidth),cachedHeight:F.from(B.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:S,attributes:{role:"presentation"}},components:[b.asSpec()],behaviours:a([cp.self(),l2(_,()=>i.get(),w)])}},pK=(n,s,i)=>{const f="tox-label",b=n.align==="center"?[`${f}--center`]:[],w=n.align==="end"?[`${f}--end`]:[],S=gr({dom:{tag:"label",classes:[f,...b,...w]},components:[Ra(s.providers.translate(n.label))]}),_=He(n.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[S.asSpec(),..._],behaviours:a([cp.self(),jo.config({}),sK(F.none()),lo.config({mode:"acyclic"}),fe("label",[Lr(B=>{n.for.each(z=>{i(z).each(Z=>{S.getOpt(B).each(K=>{const ae=ea(Z.element,"id")??me("form-field");uo(Z.element,"id",ae),uo(K.element,"for",ae)})})})})])])}},dR=me("toolbar.button.execute"),bK=n=>wm((s,i)=>{LE(n,s)(f=>{so(s,dR,{buttonApi:f}),n.onAction(f)})}),_1=me("common-button-display-events"),fR={[Ls()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[Lc()]:["toolbar-button-events",_1],[wc()]:["toolbar-button-events","dropdown-events","tooltipping"],[uu()]:["focusing","alloy.base.behaviour",_1]},$4=n=>So(n.element,"width",yr(n.element,"width")),s$=(n,s,i)=>lh(n,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},s),mR=(n,s)=>s$(n,s,[]),Cv=(n,s)=>s$(n,s,[jo.config({})]),hR=(n,s,i)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[Ra(i.translate(n))],behaviours:a([jo.config({})])}),ig=me("update-menu-text"),c2=me("update-menu-icon"),I4=me("update-tooltip-text"),gR=(n,s,i,f)=>{const b=Mn(J),w=Mn(n.tooltip),S=n.text.map(ze=>gr(hR(ze,s,i.providers))),_=n.icon.map(ze=>gr(Cv(ze,i.providers.icons))),B=(ze,Ee)=>{const Xe=In.getValue(ze);return et.focus(Xe),so(Xe,"keydown",{raw:Ee.event.raw}),Gf.close(Xe),F.some(!0)},z=n.role.fold(()=>({}),ze=>({role:ze})),Z=F.from(n.listRole).map(ze=>({listRole:ze})).getOr({}),K=n.ariaLabel.fold(()=>({}),ze=>({"aria-label":i.providers.translate(ze)})),ae=lh("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},i.providers.icons),he=me("common-button-display-events"),xe="dropdown-events";return gr(Gf.sketch({...n.uid?{uid:n.uid}:{},...z,...Z,dom:{tag:"button",classes:[s,`${s}--select`].concat(He(n.classes,ze=>`${s}--${ze}`)),attributes:{...K,...Fe(f)?{"data-mce-name":f}:{}}},components:T1([_.map(ze=>ze.asSpec()),S.map(ze=>ze.asSpec()),F.some(ae)]),matchWidth:!0,useMinWidth:!0,onOpen:(ze,Ee,Xe)=>{n.searchable&&qG(Xe)},dropdownBehaviours:a([...n.dropdownBehaviours,S0.button(()=>n.disabled||i.providers.checkUiComponentContext(n.context).shouldDisable),nl(()=>i.providers.checkUiComponentContext(n.context)),m0.config({}),jo.config({}),...n.tooltip.map(ze=>va.config(i.providers.tooltips.getConfig({tooltipText:i.providers.translate(ze),onShow:Ee=>{if(As(w.get(),n.tooltip,(Xe,st)=>st!==Xe).getOr(!1)){const Xe=i.providers.translate(w.get().getOr(""));va.setComponents(Ee,i.providers.tooltips.getComponents({tooltipText:Xe}))}}}))).toArray(),fe(xe,[E0(n,b),bv(n,b)]),fe(he,[Lr((ze,Ee)=>{n.listRole!=="listbox"&&$4(ze)})]),fe("update-dropdown-width-variable",[Mt(xi(),(ze,Ee)=>Gf.close(ze))]),fe("menubutton-update-display-text",[Mt(ig,(ze,Ee)=>{S.bind(Xe=>Xe.getOpt(ze)).each(Xe=>{jo.set(Xe,[Ra(i.providers.translate(Ee.event.text))])})}),Mt(c2,(ze,Ee)=>{_.bind(Xe=>Xe.getOpt(ze)).each(Xe=>{jo.set(Xe,[Cv(Ee.event.icon,i.providers.icons)])})}),Mt(I4,(ze,Ee)=>{const Xe=i.providers.translate(Ee.event.text);uo(ze.element,"aria-label",Xe),w.set(F.some(Ee.event.text))})])]),eventOrder:Gt(fR,{[uu()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Lc()]:["toolbar-button-events",va.name(),xe,he]}),sandboxBehaviours:a([lo.config({mode:"special",onLeft:B,onRight:B}),fe("dropdown-sandbox-events",[Mt(jP,(ze,Ee)=>{VG(ze),Ee.stop()}),Mt(VP,(ze,Ee)=>{UG(ze,Ee),Ee.stop()})])]),lazySink:i.getSink,toggleClass:`${s}--active`,parts:{menu:{...TE(!1,n.columns,n.presets),fakeFocus:n.searchable,...n.listRole==="listbox"?{}:{onHighlightItem:S7,onCollapseMenu:(ze,Ee,Xe)=>{fr.getHighlighted(Xe).each(st=>{S7(ze,Xe,st)})},onDehighlightItem:WG}}},getAnchorOverrides:()=>({maxHeightFunction:(ze,Ee)=>{nx()(ze,Ee-10)}}),fetch:ze=>ls.nu(fn(n.fetch,ze))})).asSpec()},H4=n=>I(n),r$=n=>n.type==="separator",a$=n=>ts(n,"getSubmenuItems"),yK={type:"separator"},vK=(n,s)=>{const i=Ho(n,(f,b)=>H4(b)?b===""?f:b==="|"?f.length>0&&!r$(f[f.length-1])?f.concat([yK]):f:ts(s,b.toLowerCase())?f.concat([s[b.toLowerCase()]]):f:f.concat([b]),[]);return i.length>0&&r$(i[i.length-1])&&i.pop(),i},qne=(n,s)=>{const i=n.getSubmenuItems(),f=i$(i,s),b=Gt(f.menus,{[n.value]:f.items}),w=Gt(f.expansions,{[n.value]:n.value});return{item:n,menus:b,expansions:w}},xK=n=>{const s=Hn(n,"value").getOrThunk(()=>me("generated-menu-item"));return Gt({value:s},n)},i$=(n,s)=>{const i=vK(I(n)?n.split(" "):n,s);return Mo(i,(f,b)=>{if(a$(b)){const w=xK(b),S=qne(w,s);return{menus:Gt(f.menus,S.menus),items:[S.item,...f.items],expansions:Gt(f.expansions,S.expansions)}}else return{...f,items:[b,...f.items]}},{menus:{},expansions:{},items:[]})},pR=n=>n.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),wK=n=>n.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),ny=(n,s,i,f)=>{const b=me("primary-menu"),w=i$(n,i.shared.providers.menuItems());if(w.items.length===0)return F.none();const S=pR(f),_=D4(b,w.items,s,i,f.isHorizontalMenu,S),B=wK(f),z=os(w.menus,(K,ae)=>D4(ae,K,s,i,!1,B)),Z=Gt(z,za(b,_));return F.from(Ix.tieredData(b,Z,w.expansions))},WE=n=>!ts(n,"items"),bR="data-value",z4=(n,s,i,f,b)=>He(i,w=>WE(w)?{type:"togglemenuitem",...b?{}:{role:"option"},text:w.text,value:w.value,active:w.value===f,onAction:()=>{In.setValue(n,w.value),so(n,vf,{name:s}),et.focus(n)}}:{type:"nestedmenuitem",text:w.text,getSubmenuItems:()=>z4(n,s,w.items,f,b)}),yR=(n,s)=>Jo(n,i=>WE(i)?Sa(i.value===s,i):yR(i.items,s)),l$=(n,s,i)=>{const f=It(n.items,z=>!WE(z)),b=s.shared.providers,w=i.bind(z=>yR(n.items,z)).orThunk(()=>sn(n.items).filter(WE)),S=n.label.map(z=>ey(z,b)),_=Ds.parts.field({dom:{},factory:{sketch:z=>gR({context:n.context,uid:z.uid,text:w.map(Z=>Z.text),icon:F.none(),tooltip:F.none(),role:Sa(!f,"combobox"),...f?{}:{listRole:"listbox"},ariaLabel:n.label,fetch:(Z,K)=>{const ae=z4(Z,n.name,n.items,In.getValue(Z),f);K(ny(ae,ip.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:F.none()}))},onSetup:ie(J),getApi:ie({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ua.config({}),l2(w.map(Z=>Z.value),Z=>ea(Z.element,bR),(Z,K)=>{yR(n.items,K).each(ae=>{uo(Z.element,bR,ae.value),so(Z,ig,{text:ae.text})})})]},"tox-listbox",s.shared)}}),B={dom:{tag:"div",classes:["tox-listboxfield"]},components:[_]};return Ds.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:tt([S.toArray(),[B]]),fieldBehaviours:a([eo.config({disabled:()=>!n.enabled||b.checkUiComponentContext(n.context).shouldDisable,onDisabled:z=>{Ds.getField(z).each(eo.disable)},onEnabled:z=>{Ds.getField(z).each(eo.enable)}})])})},rC=(n,s)=>({dom:{tag:"div",classes:n.classes},components:He(n.items,s.shared.interpreter)}),c$=(n,s,i)=>{const f=He(n.items,B=>({text:s.translate(B.text),value:B.value})),b=n.label.map(B=>ey(B,s)),w=Ds.parts.field({dom:{},...i.map(B=>({data:B})).getOr({}),selectAttributes:{size:n.size},options:f,factory:w5,selectBehaviours:a([eo.config({disabled:()=>!n.enabled||s.checkUiComponentContext(n.context).shouldDisable}),ua.config({}),fe("selectbox-change",[Mt(Lf(),(B,z)=>{so(B,vf,{name:n.name})})])])}),S=n.size>1?F.none():F.some(lh("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),_={dom:{tag:"div",classes:["tox-selectfield"]},components:tt([[w],S.toArray()])};return Ds.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:tt([b.toArray(),[_]]),fieldBehaviours:a([eo.config({disabled:()=>!n.enabled||s.checkUiComponentContext(n.context).shouldDisable,onDisabled:B=>{Ds.getField(B).each(eo.disable)},onEnabled:B=>{Ds.getField(B).each(eo.enable)}}),nl(()=>s.checkUiComponentContext(n.context))])})},u$=n=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},i=b=>b in s?s[b]:1;let f=n.value.toFixed(i(n.unit));return f.indexOf(".")!==-1&&(f=f.replace(/\.?0*$/,"")),f+n.unit},j4=n=>{const i=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(n);if(i!==null){const f=parseFloat(i[1]),b=i[2];return Pn.value({value:f,unit:b})}else return Pn.error(n)},d$=(n,s)=>{const i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},f=b=>ts(i,b);return n.unit===s?F.some(n.value):f(n.unit)&&f(s)?i[n.unit]===i[s]?F.some(n.value):F.some(n.value/i[n.unit]*i[s]):F.none()},aC=n=>F.none(),CK=(n,s)=>i=>d$(i,s).map(f=>({value:f*n,unit:s})),f$=(n,s)=>{const i=j4(n).toOptional(),f=j4(s).toOptional();return As(i,f,(b,w)=>d$(b,w.unit).map(S=>w.value/S).map(S=>CK(S,w.unit)).getOr(aC)).getOr(aC)},m$=(n,s)=>{let i=aC;const f=me("ratio-event"),b=_e=>lh(_e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+_e]},s.icons),w=()=>!n.enabled||s.checkUiComponentContext(n.context).shouldDisable,S=nl(()=>s.checkUiComponentContext(n.context)),_=n.label.getOr("Constrain proportions"),B=s.translate(_),z=tl.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":B,"data-mce-name":_}},components:[b("lock"),b("unlock")],buttonBehaviours:a([eo.config({disabled:w}),S,ua.config({}),va.config(s.tooltips.getConfig({tooltipText:B}))])}),Z=_e=>({dom:{tag:"div",classes:["tox-form__group"]},components:_e}),K=_e=>Ds.parts.field({factory:C1,inputClasses:["tox-textfield"],inputBehaviours:a([eo.config({disabled:w}),S,ua.config({}),fe("size-input-events",[Mt(ec(),(ze,Ee)=>{so(ze,f,{isField1:_e})}),Mt(Lf(),(ze,Ee)=>{so(ze,vf,{name:n.name})})])]),selectOnFocus:!1}),ae=_e=>({dom:{tag:"label",classes:["tox-label"]},components:[Ra(s.translate(_e))]}),he=tl.parts.field1(Z([Ds.parts.label(ae("Width")),K(!0)])),xe=tl.parts.field2(Z([Ds.parts.label(ae("Height")),K(!1)]));return tl.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[he,xe,Z([ae(Jf),z])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(_e,ze,Ee)=>{j4(In.getValue(_e)).each(Xe=>{i(Xe).each(st=>{In.setValue(ze,u$(st))})})},coupledFieldBehaviours:a([eo.config({disabled:w,onDisabled:_e=>{tl.getField1(_e).bind(Ds.getField).each(eo.disable),tl.getField2(_e).bind(Ds.getField).each(eo.disable),tl.getLock(_e).each(eo.disable)},onEnabled:_e=>{tl.getField1(_e).bind(Ds.getField).each(eo.enable),tl.getField2(_e).bind(Ds.getField).each(eo.enable),tl.getLock(_e).each(eo.enable)}}),nl(()=>s.checkUiComponentContext("mode:design")),fe("size-input-events2",[Mt(f,(_e,ze)=>{const Ee=ze.event.isField1,Xe=Ee?tl.getField1(_e):tl.getField2(_e),st=Ee?tl.getField2(_e):tl.getField1(_e),wt=Xe.map(In.getValue).getOr(""),Ot=st.map(In.getValue).getOr("");i=f$(wt,Ot)})])])})},SK=(n,s,i)=>{const f=rp.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ra(s.translate(n.label))]}),b=rp.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),w=rp.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return rp.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:n.min,maxX:n.max,getInitialValue:ie(i.getOrThunk(()=>(Math.abs(n.max)-Math.abs(n.min))/2))},components:[f,b,w],sliderBehaviours:a([cp.self(),et.config({})]),onChoose:(S,_,B)=>{so(S,vf,{name:n.name,value:B})},onChange:(S,_,B)=>{so(S,vf,{name:n.name,value:B})}})},EK=(n,s)=>{const i=_=>({dom:{tag:"th",innerHtml:s.translate(_)}}),f=_=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:He(_,i)}]}),b=_=>({dom:{tag:"td",innerHtml:s.translate(_)}}),w=_=>({dom:{tag:"tr"},components:He(_,b)}),S=_=>({dom:{tag:"tbody"},components:He(_,w)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[f(n.header),S(n.cells)],behaviours:a([ua.config({}),et.config({})])}},h$=(n,s)=>{const i=n.label.map(xe=>ey(xe,s)),f=[eo.config({disabled:()=>n.disabled||s.checkUiComponentContext(n.context).shouldDisable}),nl(()=>s.checkUiComponentContext(n.context)),lo.config({mode:"execution",useEnter:n.multiline!==!0,useControlEnter:n.multiline===!0,execute:xe=>(fs(xe,VE),F.some(!0))}),fe("textfield-change",[Mt(Bf(),(xe,_e)=>{so(xe,vf,{name:n.name})}),Mt(Ay(),(xe,_e)=>{so(xe,vf,{name:n.name})})]),ua.config({})],b=n.validation.map(xe=>sh.config({getRoot:_e=>Au(_e.element),invalidClass:"tox-invalid",validator:{validate:_e=>{const ze=In.getValue(_e),Ee=xe.validator(ze);return ls.pure(Ee===!0?Pn.value(ze):Pn.error(Ee))},validateOnLoad:xe.validateOnLoad}})).toArray(),w=n.placeholder.fold(ie({}),xe=>({placeholder:s.translate(xe)})),S=n.inputMode.fold(ie({}),xe=>({inputmode:xe})),B={...n.spellcheck.fold(ie({}),xe=>({spellcheck:xe})),...w,...S,"data-mce-name":n.name},z=Ds.parts.field({tag:n.multiline===!0?"textarea":"input",...n.data.map(xe=>({data:xe})).getOr({}),inputAttributes:B,inputClasses:[n.classname],inputBehaviours:a(tt([f,b])),selectOnFocus:!1,factory:C1}),Z=n.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[z]}:z,ae=(n.flex?["tox-form__group--stretched"]:[]).concat(n.maximized?["tox-form-group--maximize"]:[]),he=[eo.config({disabled:()=>n.disabled||s.checkUiComponentContext(n.context).shouldDisable,onDisabled:xe=>{Ds.getField(xe).each(eo.disable)},onEnabled:xe=>{Ds.getField(xe).each(eo.enable)}}),nl(()=>s.checkUiComponentContext(n.context))];return oC(i,Z,ae,he)},g$=(n,s,i)=>h$({name:n.name,multiline:!1,label:n.label,inputMode:n.inputMode,placeholder:n.placeholder,flex:!1,disabled:!n.enabled,classname:"tox-textfield",validation:F.none(),maximized:n.maximized,data:i,context:n.context,spellcheck:F.none()},s),TK=(n,s,i)=>h$({name:n.name,multiline:!0,label:n.label,inputMode:F.none(),placeholder:n.placeholder,flex:!0,disabled:!n.enabled,classname:"tox-textarea",validation:F.none(),maximized:n.maximized,data:i,context:n.context,spellcheck:n.spellcheck},s),p$=n=>({isEnabled:()=>!eo.isDisabled(n),setEnabled:s=>eo.set(n,!s),setActive:s=>{const i=n.element;s?(nr(i,"tox-tbtn--enabled"),uo(i,"aria-pressed",!0)):(ha(i,"tox-tbtn--enabled"),cr(i,"aria-pressed"))},isActive:()=>Da(n.element,"tox-tbtn--enabled"),setTooltip:s=>{so(n,I4,{text:s})},setText:s=>{so(n,ig,{text:s})},setIcon:s=>so(n,c2,{icon:s})}),qE=(n,s,i,f,b=!0,w)=>{const S=n.buttonType==="bordered"?["bordered"]:[];return gR({text:n.text,icon:n.icon,tooltip:n.tooltip,ariaLabel:n.tooltip,searchable:n.search.isSome(),role:f,fetch:(_,B)=>{const z={pattern:n.search.isSome()?jE(_):""};n.fetch(Z=>{B(ny(Z,ip.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:n.search}))},z,p$(_))},onSetup:n.onSetup,getApi:_=>p$(_),columns:1,presets:"normal",classes:S,dropdownBehaviours:[...b?[ua.config({})]:[]],context:n.context},s,i.shared,w)},AK=(n,s,i)=>{const f=w=>S=>{const _=!S.isActive();S.setActive(_),w.storage.set(_),i.shared.getSink().each(B=>{s().getOpt(B).each(z=>{Fa(z.element),so(z,lp,{name:w.name,value:w.storage.get()})})})},b=w=>S=>{S.setActive(w.storage.get())};return w=>{w(He(n,S=>{const _=S.text.fold(()=>({}),B=>({text:B}));return{type:S.type,active:!1,..._,context:S.context,onAction:f(S),onSetup:b(S)}}))}},b$=n=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":n}},components:[Ra(n)]}),y$=(n,s,i)=>{n.customStateIcon.each(f=>s.push(x$(f,i.shared.providers.icons,n.customStateIconTooltip.fold(()=>[],b=>[va.config(i.shared.providers.tooltips.getConfig({tooltipText:b}))]),["tox-icon-custom-state"])))},v$=me("leaf-label-event-id"),vR=({leaf:n,onLeafAction:s,visible:i,treeId:f,selectedId:b,backstage:w})=>{const S=n.menu.map(B=>qE(B,"tox-mbtn",w,F.none(),i)),_=[b$(n.title)];return y$(n,_,w),S.each(B=>_.push(B)),rc.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(i?["tox-tree--leaf__label--visible"]:[])},components:_,role:"treeitem",action:B=>{s(n.id),B.getSystem().broadcastOn([`update-active-item-${f}`],{value:n.id})},eventOrder:{[Ki()]:[v$,"keying"]},buttonBehaviours:a([...i?[ua.config({})]:[],Ms.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),md.config({channels:{[`update-active-item-${f}`]:{onReceive:(B,z)=>{(z.value===n.id?Ms.on:Ms.off)(B)}}}}),fe(v$,[Lr((B,z)=>{b.each(Z=>{(Z===n.id?Ms.on:Ms.off)(B)})}),Mt(Ki(),(B,z)=>{const Z=z.event.raw.code==="ArrowLeft",K=z.event.raw.code==="ArrowRight";Z?(tu(B.element,".tox-tree--directory").each(ae=>{B.getSystem().getByDom(ae).each(he=>{Ou(ae,".tox-tree--directory__label").each(xe=>{he.getSystem().getByDom(xe).each(et.focus)})})}),z.stop()):K&&z.stop()})])])})},x$=(n,s,i,f,b)=>lh(n,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(f||[]),behaviours:i,attributes:b},s),kK=(n,s)=>x$(n,s,[]),w$=me("directory-label-event-id"),C$=({directory:n,visible:s,noChildren:i,backstage:f})=>{const b=n.menu.map(_=>qE(_,"tox-mbtn",f,F.none())),w=[{dom:{tag:"div",classes:["tox-chevron"]},components:[kK("chevron-right",f.shared.providers.icons)]},b$(n.title)];y$(n,w,f),b.each(_=>{w.push(_)});const S=_=>{tu(_.element,".tox-tree--directory").each(B=>{_.getSystem().getByDom(B).each(z=>{const Z=!Ms.isOn(z);Ms.toggle(z),so(_,"expand-tree-node",{expanded:Z,node:n.id})})})};return rc.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:w,action:S,eventOrder:{[Ki()]:[w$,"keying"]},buttonBehaviours:a([...s?[ua.config({})]:[],fe(w$,[Mt(Ki(),(_,B)=>{const z=B.event.raw.code==="ArrowRight",Z=B.event.raw.code==="ArrowLeft";z&&i&&B.stop(),(z||Z)&&tu(_.element,".tox-tree--directory").each(K=>{_.getSystem().getByDom(K).each(ae=>{!Ms.isOn(ae)&&z||Ms.isOn(ae)&&Z?(S(_),B.stop()):Z&&!Ms.isOn(ae)&&(tu(ae.element,".tox-tree--directory").each(he=>{Ou(he,".tox-tree--directory__label").each(xe=>{ae.getSystem().getByDom(xe).each(et.focus)})}),B.stop())})})})])])})},DK=({children:n,onLeafAction:s,visible:i,treeId:f,expandedIds:b,selectedId:w,backstage:S})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:n.map(_=>_.type==="leaf"?vR({leaf:_,selectedId:w,onLeafAction:s,visible:i,treeId:f,backstage:S}):xR({directory:_,expandedIds:b,selectedId:w,onLeafAction:s,labelTabstopping:i,treeId:f,backstage:S})),behaviours:a([Ud.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:i}),jo.config({})])}),_K=me("directory-event-id"),xR=({directory:n,onLeafAction:s,labelTabstopping:i,treeId:f,backstage:b,expandedIds:w,selectedId:S})=>{const{children:_}=n,B=Mn(w),z=K=>_.map(ae=>ae.type==="leaf"?vR({leaf:ae,selectedId:S,onLeafAction:s,visible:K,treeId:f,backstage:b}):xR({directory:ae,expandedIds:B.get(),selectedId:S,onLeafAction:s,labelTabstopping:K,treeId:f,backstage:b})),Z=w.includes(n.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[C$({directory:n,visible:i,noChildren:n.children.length===0,backstage:b}),DK({children:_,expandedIds:w,selectedId:S,onLeafAction:s,visible:Z,treeId:f,backstage:b})],behaviours:a([fe(_K,[Lr((K,ae)=>{Ms.set(K,Z)}),Mt("expand-tree-node",(K,ae)=>{const{expanded:he,node:xe}=ae.event;B.set(he?[...B.get(),xe]:B.get().filter(_e=>_e!==xe))})]),Ms.config({...n.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(K,ae)=>{const he=K.components()[1],xe=z(ae);ae?Ud.grow(he):Ud.shrink(he),jo.set(he,xe)}})])}},OK=me("tree-event-id"),NK=(n,s)=>{const i=n.onLeafAction.getOr(J),f=n.onToggleExpand.getOr(J),b=n.defaultExpandedIds,w=Mn(b),S=Mn(n.defaultSelectedId),_=me("tree-id"),B=(z,Z)=>n.items.map(K=>K.type==="leaf"?vR({leaf:K,selectedId:z,onLeafAction:i,visible:!0,treeId:_,backstage:s}):xR({directory:K,selectedId:z,onLeafAction:i,expandedIds:Z,labelTabstopping:!0,treeId:_,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:B(S.get(),w.get()),behaviours:a([lo.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),fe(OK,[Mt("expand-tree-node",(z,Z)=>{const{expanded:K,node:ae}=Z.event;w.set(K?[...w.get(),ae]:w.get().filter(he=>he!==ae)),f(w.get(),{expanded:K,node:ae})})]),md.config({channels:{[`update-active-item-${_}`]:{onReceive:(z,Z)=>{S.set(F.some(Z.value)),jo.set(z,B(F.some(Z.value),w.get()))}}}}),jo.config({})])}},V4=(n,s,i=[],f,b,w,S)=>{const _=s.fold(()=>({}),Z=>({action:Z})),B={buttonBehaviours:a([S0.item(()=>!n.enabled||S.checkUiComponentContext(n.context).shouldDisable),nl(()=>S.checkUiComponentContext(n.context)),ua.config({}),...w.map(Z=>va.config(S.tooltips.getConfig({tooltipText:S.translate(Z)}))).toArray(),fe("button press",[Xm("click")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},..._},z=Gt(B,{dom:f});return Gt(z,{components:b})},S$=(n,s,i,f=[],b)=>{const w=n.tooltip.map(z=>({"aria-label":i.translate(z)})).getOr({}),S={tag:"button",classes:["tox-tbtn"],attributes:{...w,"data-mce-name":b}},_=n.icon.map(z=>mR(z,i.icons)),B=T1([_]);return V4(n,s,f,S,B,n.tooltip,i)},wR=n=>{switch(n){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},CR=(n,s,i,f=[],b=[])=>{const w=i.translate(n.text),S=n.icon.map(he=>mR(he,i.icons)),_=[S.getOrThunk(()=>Ra(w))],B=n.buttonType.getOr(!n.primary&&!n.borderless?"secondary":"primary"),K={tag:"button",classes:[...wR(B),...S.isSome()?["tox-button--icon"]:[],...n.borderless?["tox-button--naked"]:[],...b],attributes:{"aria-label":w,"data-mce-name":n.text}},ae=n.icon.map(ie(w));return V4(n,s,f,K,_,ae,i)},E$=(n,s,i,f=[],b=[])=>{const w=CR(n,F.some(s),i,f,b);return rc.sketch(w)},SR=(n,s)=>i=>{s==="custom"?so(i,lp,{name:n,value:{}}):s==="submit"?fs(i,VE):s==="cancel"?fs(i,ty):console.error("Unknown button type: ",s)},T$=(n,s)=>s==="menu",ER=(n,s)=>s==="custom"||s==="cancel"||s==="submit",RK=(n,s)=>s==="togglebutton",MK=(n,s,i)=>{const f=n.icon.map(Ee=>Cv(Ee,s.icons)).map(gr),b=Ee=>{so(Ee,lp,{name:n.name,value:{setIcon:Xe=>{f.map(st=>st.getOpt(Ee).each(wt=>{jo.set(wt,[Cv(Xe,s.icons)])}))}}})},w=n.buttonType.getOr(n.primary?"primary":"secondary"),S={...n,name:n.name??"",tooltip:n.tooltip,enabled:n.enabled??!1},_=S.tooltip.or(n.text).map(Ee=>({"aria-label":s.translate(Ee)})).getOr({}),B=wR(w??"secondary"),z=n.icon.isSome()&&n.text.isSome(),Z={tag:"button",classes:[...B.concat(n.icon.isSome()?["tox-button--icon"]:[]),...n.active?["tox-button--enabled"]:[],...z?["tox-button--icon-and-text"]:[]],attributes:{..._,...Fe(i)?{"data-mce-name":i}:{}}},K=[],ae=s.translate(n.text.getOr("")),he=Ra(ae),_e=[...T1([f.map(Ee=>Ee.asSpec())]),...n.text.isSome()?[he]:[]],ze=V4(S,F.some(b),K,Z,_e,n.tooltip,s);return rc.sketch(ze)},GE=(n,s,i)=>{if(T$(n,s)){const f=()=>S,b=n,w={...n,buttonType:"default",type:"menubutton",search:F.none(),onSetup:_=>(_.setEnabled(n.enabled),J),fetch:AK(b.items,f,i)},S=gr(qE(w,"tox-tbtn",i,F.none(),!0,n.text.or(n.tooltip).getOrUndefined()));return S.asSpec()}else if(ER(n,s)){const f=SR(n.name,s),b={...n,context:s==="cancel"?"any":n.context,borderless:!1};return E$(b,f,i.shared.providers,[])}else{if(RK(n,s))return MK(n,i.shared.providers,n.text.or(n.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")}},BK=(n,s)=>{const i=SR(n.name,"custom");return QG(F.none(),Ds.parts.field({factory:rc,...CR(n,F.some(i),s,[N4(""),cp.self()])}))},A$={type:"separator"},LK=n=>({type:"menuitem",value:n.url,text:n.title,meta:{attach:n.attach},onAction:J}),iC=(n,s)=>({type:"menuitem",value:s,text:n,meta:{attach:void 0},onAction:J}),PK=n=>He(n,LK),k$=(n,s)=>xo(s,i=>i.type===n),D$=(n,s)=>PK(k$(n,s)),FK=n=>D$("header",n.targets),A0=n=>D$("anchor",n.targets),U4=n=>F.from(n.anchorTop).map(s=>iC("<top>",s)).toArray(),Z4=n=>F.from(n.anchorBottom).map(s=>iC("<bottom>",s)).toArray(),$K=n=>He(n,s=>iC(s,s)),TR=n=>Ho(n,(s,i)=>s.length===0||i.length===0?s.concat(i):s.concat(A$,i),[]),AR=(n,s)=>{const i=n.toLowerCase();return xo(s,f=>{const b=f.meta!==void 0&&f.meta.text!==void 0?f.meta.text:f.text,w=f.value??"";return Hr(b.toLowerCase(),i)||Hr(w.toLowerCase(),i)})},kR=(n,s,i)=>{const f=In.getValue(s),b=f?.meta?.text??f.value;return i.getLinkInformation().fold(()=>[],S=>{const _=AR(b,$K(i.getHistory(n)));return n==="file"?TR([_,AR(b,FK(S)),AR(b,tt([U4(S),A0(S),Z4(S)]))]):_})},DR=me("aria-invalid"),_R=(n,s,i,f)=>{const b=s.shared.providers,w=Xe=>{const st=In.getValue(Xe);i.addToHistory(st.value,n.filetype)},S={...f.map(Xe=>({initialData:Xe})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{type:"url"},minChars:0,responseTime:0,fetch:Xe=>{const st=kR(n.filetype,Xe,i),wt=ny(st,ip.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:F.none()});return ls.pure(wt)},getHotspot:Xe=>xe.getOpt(Xe),onSetValue:(Xe,st)=>{Xe.hasConfigured(sh)&&sh.run(Xe).get(J)},typeaheadBehaviours:a([...i.getValidationHandler().map(Xe=>sh.config({getRoot:st=>Au(st.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(st,wt)=>{Z.getOpt(st).each(Ot=>{uo(Ot.element,"title",b.translate(wt))})}},validator:{validate:st=>{const wt=In.getValue(st);return Ao.nu(Ot=>{Xe({type:n.filetype,url:wt.value},kn=>{if(kn.status==="invalid"){uo(st.element,"aria-errormessage",DR);const Jt=Pn.error(kn.message);Ot(Jt)}else{cr(st.element,"aria-errormessage");const Jt=Pn.value(kn.message);Ot(Jt)}})})},validateOnLoad:!1}})).toArray(),eo.config({disabled:()=>!n.enabled||b.checkUiComponentContext(n.context).shouldDisable}),ua.config({}),fe("urlinput-events",[Mt(Bf(),Xe=>{const st=pc(Xe.element),wt=st.trim();wt!==st&&_d(Xe.element,wt),n.filetype==="file"&&so(Xe,vf,{name:n.name})}),Mt(Lf(),Xe=>{so(Xe,vf,{name:n.name}),w(Xe)}),Mt(Ay(),Xe=>{so(Xe,vf,{name:n.name}),w(Xe)})])]),eventOrder:{[Bf()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:Xe=>Xe.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:TE(!1,1,"normal")},onExecute:(Xe,st,wt)=>{so(st,VE,{})},onItemExecute:(Xe,st,wt,Ot)=>{w(Xe),so(Xe,vf,{name:n.name})}},_=Ds.parts.field({...S,factory:X5}),B=n.label.map(Xe=>ey(Xe,b)),Z=gr(((Xe,st,wt=Xe,Ot=Xe)=>lh(wt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Xe],attributes:{title:b.translate(Ot),"aria-live":"polite",...st.fold(()=>({}),kn=>({id:kn}))}},b.icons))("invalid",F.some(DR),"warning")),K=gr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[Z.asSpec()]}),ae=i.getUrlPicker(n.filetype),he=me("browser.url.event"),xe=gr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[_,K.asSpec()],behaviours:a([eo.config({disabled:()=>!n.enabled||b.checkUiComponentContext(n.context).shouldDisable})])}),_e=gr(E$({context:n.context,name:n.name,icon:F.some("browse"),text:n.picker_text.or(n.label).getOr(""),enabled:n.enabled,primary:!1,buttonType:F.none(),borderless:!0},Xe=>fs(Xe,he),b,[],["tox-browse-url"])),ze=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:tt([[xe.asSpec()],ae.map(()=>_e.asSpec()).toArray()])}),Ee=Xe=>{$t.getCurrent(Xe).each(st=>{const wt=In.getValue(st),Ot={fieldname:n.name,...wt};ae.each(kn=>{kn(Ot).get(Jt=>{In.setValue(st,Jt),so(Xe,vf,{name:n.name})})})})};return Ds.sketch({dom:k7(),components:B.toArray().concat([ze()]),fieldBehaviours:a([eo.config({disabled:()=>!n.enabled||b.checkUiComponentContext(n.context).shouldDisable,onDisabled:Xe=>{Ds.getField(Xe).each(eo.disable),_e.getOpt(Xe).each(eo.disable)},onEnabled:Xe=>{Ds.getField(Xe).each(eo.enable),_e.getOpt(Xe).each(eo.enable)}}),nl(()=>b.checkUiComponentContext(n.context)),fe("url-input-events",[Mt(he,Ee)])])})},IK=(n,s)=>{const i=eW(n.icon,s.icons);return d0.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${n.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:n.url?void 0:i},components:n.url?[rc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:i,attributes:{title:s.translate(n.iconTooltip)}},action:f=>so(f,lp,{name:"alert-banner",value:n.url}),buttonBehaviours:a([EO()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(n.text)}}]})},HK=(n,s,i)=>{const f=B=>(B.element.dom.click(),F.some(!0)),b=Ds.parts.field({factory:{sketch:ut},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:a([cp.self(),eo.config({disabled:()=>!n.enabled||s.checkUiComponentContext(n.context).shouldDisable,onDisabled:B=>{Au(B.element).each(z=>nr(z,"tox-checkbox--disabled"))},onEnabled:B=>{Au(B.element).each(z=>ha(z,"tox-checkbox--disabled"))}}),ua.config({}),et.config({}),L7(i,Sp,Ad),lo.config({mode:"special",onEnter:f,onSpace:f,stopSpaceKeyup:!0}),fe("checkbox-events",[Mt(Lf(),(B,z)=>{so(B,vf,{name:n.name})})])])}),w=Ds.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Ra(s.translate(n.label))],behaviours:a([m0.config({})])}),S=B=>lh(B==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+B]},s.icons),_=gr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[S("checked"),S("unchecked")]});return Ds.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[b,_.asSpec(),w],fieldBehaviours:a([eo.config({disabled:()=>!n.enabled||s.checkUiComponentContext(n.context).shouldDisable}),nl(()=>s.checkUiComponentContext(n.context))])})},_$=(n,s)=>{const i=["tox-form__group",...n.stretched?["tox-form__group--stretched"]:[]],f=fe("htmlpanel",[Lr(b=>{n.onInit(b.element.dom)})]);return n.presets==="presentation"?d0.sketch({dom:{tag:"div",classes:i,innerHtml:n.html},containerBehaviours:a([va.config({...s.tooltips.getConfig({tooltipText:"",onShow:b=>{ur(b.element,"[data-mce-tooltip]:hover").orThunk(()=>ii(b.element)).each(w=>{li(w,"data-mce-tooltip").each(S=>{va.setComponents(b,s.tooltips.getComponents({tooltipText:S}))})})}}),mode:"children-normal",anchor:b=>({type:"node",node:ur(b.element,"[data-mce-tooltip]:hover").orThunk(()=>ii(b.element).filter(w=>li(w,"data-mce-tooltip").isSome())),root:b.element,layouts:{onLtr:ie([Oi,ya,Ji,Al,Kr,kl]),onRtl:ie([Oi,ya,Ji,Al,Kr,kl])},bubble:mu(0,-2,{})})}),f])}):d0.sketch({dom:{tag:"div",classes:i,innerHtml:n.html,attributes:{role:"document"}},containerBehaviours:a([ua.config({}),et.config({}),f])})},ic=n=>(s,i,f,b,w)=>Hn(i,"name").fold(()=>n(i,b,F.none(),w),S=>s.field(S,n(i,b,Hn(f,S),w))),zK=n=>(s,i,f,b,w)=>{const S=Gt(i,{source:"dynamic"});return ic(n)(s,S,f,b,w)},OR={bar:ic((n,s)=>T7(n,s.shared)),collection:ic((n,s,i)=>JG(n,s.shared.providers,i)),alertbanner:ic((n,s)=>IK(n,s.shared.providers)),input:ic((n,s,i)=>g$(n,s.shared.providers,i)),textarea:ic((n,s,i)=>TK(n,s.shared.providers,i)),label:ic((n,s,i,f)=>pK(n,s.shared,f)),iframe:zK((n,s,i)=>ZE(n,s.shared.providers,i)),button:ic((n,s)=>BK(n,s.shared.providers)),checkbox:ic((n,s,i)=>HK(n,s.shared.providers,i)),colorinput:ic((n,s,i)=>tK(n,s.shared,s.colorinput,i)),colorpicker:ic((n,s,i)=>B4(n,s.shared.providers,i)),dropzone:ic((n,s,i)=>uK(n,s.shared.providers,i)),grid:ic((n,s)=>dK(n,s.shared)),listbox:ic((n,s,i)=>l$(n,s,i)),selectbox:ic((n,s,i)=>c$(n,s.shared.providers,i)),sizeinput:ic((n,s)=>m$(n,s.shared.providers)),slider:ic((n,s,i)=>SK(n,s.shared.providers,i)),urlinput:ic((n,s,i)=>_R(n,s,s.urlinput,i)),customeditor:ic(lK),htmlpanel:ic((n,s)=>_$(n,s.shared.providers)),imagepreview:ic((n,s,i)=>gK(n,i)),table:ic((n,s)=>EK(n,s.shared.providers)),tree:ic((n,s)=>NK(n,s)),panel:ic((n,s)=>rC(n,s))},jK={field:(n,s)=>s,record:ie([])},O$=(n,s,i,f,b)=>{const w=Gt(f,{shared:{interpreter:S=>W4(n,S,i,w,b)}});return W4(n,s,i,w,b)},W4=(n,s,i,f,b)=>Hn(OR,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),w=>w(n,s,i,f,b)),NR=(n,s,i,f)=>W4(jK,n,s,i,f),KE={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},VK=(n,s,i)=>{const b={maxHeightFunction:Gh()},w=()=>({type:"node",root:xd(Ai(n())),node:F.from(n()),bubble:mu(12,12,KE),layouts:{onRtl:()=>[Il],onLtr:()=>[jf]},overrides:b}),S=()=>({type:"hotspot",hotspot:s(),bubble:mu(-12,12,KE),layouts:{onRtl:()=>[Ji,Kr,Oi],onLtr:()=>[Kr,Ji,Oi]},overrides:b});return()=>i()?w():S()},UK=(n,s,i,f)=>{const w={maxHeightFunction:Gh()},S=()=>({type:"node",root:xd(Ai(s())),node:F.from(s()),bubble:mu(12,12,KE),layouts:{onRtl:()=>[oc],onLtr:()=>[oc]},overrides:w}),_=()=>n?{type:"node",root:xd(Ai(s())),node:F.from(s()),bubble:mu(0,-ki(s()),KE),layouts:{onRtl:()=>[ya],onLtr:()=>[ya]},overrides:w}:{type:"hotspot",hotspot:i(),bubble:mu(0,0,KE),layouts:{onRtl:()=>[ya],onLtr:()=>[ya]},overrides:w};return()=>f()?S():_()},ZK=(n,s,i)=>{const f=()=>({type:"node",root:xd(Ai(n())),node:F.from(n()),layouts:{onRtl:()=>[oc],onLtr:()=>[oc]}}),b=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[Oi],onLtr:()=>[Oi]}});return()=>i()?f():b()},N$=(n,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const i=n.selection.getRng(),f=n.model.table.getSelectedCells();if(f.length>1){const b=f[0],w=f[f.length-1],S={firstCell:mn.fromDom(b),lastCell:mn.fromDom(w)};return F.some(S)}return F.some(fi.range(mn.fromDom(i.startContainer),i.startOffset,mn.fromDom(i.endContainer),i.endOffset))}}),WK=n=>s=>({type:"node",root:n(),node:s}),qK=(n,s,i,f)=>{const b=jw(n),w=()=>mn.fromDom(n.getBody()),S=()=>mn.fromDom(n.getContentAreaContainer()),_=()=>b||!f();return{inlineDialog:VK(S,s,_),inlineBottomDialog:UK(n.inline,S,i,_),banner:ZK(S,s,_),cursor:N$(n,w),node:WK(w)}},GK=n=>(s,i)=>{YN(n)(s,i)},KK=n=>()=>UN(n),YK=n=>s=>S4(n,s),XK=n=>s=>r7(n,s),QK=n=>({colorPicker:GK(n),hasCustomColors:KK(n),getColors:YK(n),getColorCols:XK(n)}),JK=n=>()=>iP(n),eY=n=>({isDraggableModal:JK(n)}),tY=n=>{const s=Mn(Wk(n)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},nY=n=>Oo(n,"items"),R$=n=>Oo(n,"format"),RR=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],M$=n=>ts(n,"items"),q4=n=>ts(n,"block"),B$=n=>ts(n,"inline"),oY=n=>ts(n,"selector"),L$=n=>Ho(n,(s,i)=>{if(M$(i)){const f=L$(i.items);return{customFormats:s.customFormats.concat(f.customFormats),formats:s.formats.concat([{title:i.title,items:f.formats}])}}else if(B$(i)||q4(i)||oY(i)){const b=`custom-${I(i.name)?i.name:i.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:b,format:i}]),formats:s.formats.concat([{title:i.title,format:b,icon:i.icon}])}}else return{...s,formats:s.formats.concat(i)}},{customFormats:[],formats:[]}),sY=(n,s)=>{const i=L$(s),f=b=>{ft(b,w=>{n.formatter.has(w.name)||n.formatter.register(w.name,w.format)})};return n.formatter?f(i.customFormats):n.on("init",()=>{f(i.customFormats)}),i.formats},P$=n=>KL(n).map(s=>{const i=sY(n,s);return YL(n)?RR.concat(i):i}).getOr(RR),rY=n=>{const s=Do(n);return s.length===1&&Ve(s,"title")},F$=(n,s,i)=>({...n,type:"formatter",isSelected:s(n.format),getStylePreview:i(n.format)}),$$=(n,s,i,f)=>{const b=B=>F$(B,i,f),w=B=>{const z=_(B.items);return{...B,type:"submenu",getStyleItems:ie(z)}},S=B=>{const z=I(B.name)?B.name:me(B.title),Z=`custom-${z}`,K={...B,type:"formatter",format:Z,isSelected:i(Z),getStylePreview:f(Z)};return n.formatter.register(z,K),K},_=B=>He(B,z=>nY(z)?w(z):R$(z)?b(z):rY(z)?{...z,type:"separator"}:S(z));return _(s)},I$=n=>{const s=_=>()=>n.formatter.match(_),i=_=>()=>{const B=n.formatter.get(_);return B!==void 0?F.some({tag:B.length>0&&(B[0].inline||B[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(_))}):F.none()},f=Mn([]),b=Mn([]),w=Mn(!1);return n.on("PreInit",_=>{const B=P$(n),z=$$(n,B,s,i);f.set(z)}),n.on("addStyleModifications",_=>{const B=$$(n,_.items,s,i);b.set(B),w.set(_.replace)}),{getData:()=>{const _=w.get()?[]:f.get(),B=b.get();return _.concat(B)}}},H$=n=>{let f=0;const b=()=>f>0,w=_=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Ra(_.tooltipText)]}];return{getConfig:_=>({delayForShow:()=>b()?60:300,delayForHide:ie(300),exclusive:!0,lazySink:n,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:w(_),onShow:(B,z)=>{f++,_.onShow&&_.onShow(B,z)},onHide:(B,z)=>{f--,_.onHide&&_.onHide(B,z)},onSetup:_.onSetup}),getComponents:w}},aY=n=>Fe(n)&&n.nodeType===1,z$=D1.trim,j$=n=>s=>!!(aY(s)&&(s.contentEditable===n||s.getAttribute("data-mce-contenteditable")===n)),iY=j$("true"),lY=j$("false"),Sv=(n,s,i,f,b)=>({type:n,title:s,url:i,level:f,attach:b}),V$=n=>{let s=n;for(;s=s.parentNode;){const i=s.contentEditable;if(i&&i!=="inherit")return iY(s)}return!1},YE=(n,s)=>He(ta(mn.fromDom(s),n),i=>i.dom),XE=n=>n.innerText||n.textContent,U$=n=>n.id?n.id:me("h"),Z$=n=>n&&n.nodeName==="A"&&(n.id||n.name)!==void 0,W$=n=>Z$(n)&&q$(n),cY=n=>n&&/^(H[1-6])$/.test(n.nodeName),q$=n=>V$(n)&&!lY(n),uY=n=>cY(n)&&q$(n),dY=n=>cY(n)?parseInt(n.nodeName.substr(1),10):0,fY=n=>{const s=U$(n),i=()=>{n.id=s};return Sv("header",XE(n)??"","#"+s,dY(n),i)},mY=n=>{const s=n.id||n.name,i=XE(n);return Sv("anchor",i||"#"+s,"#"+s,0,J)},hY=n=>He(xo(n,uY),fY),lC=n=>He(xo(n,W$),mY),QE=n=>YE("h1,h2,h3,h4,h5,h6,a:not([href])",n),MR=n=>z$(n.title).length>0,gY={find:n=>{const s=QE(n);return xo(hY(s).concat(lC(s)),MR)}},cC="tinymce-url-history",G$=5,uC=n=>I(n)&&/^https?/.test(n),K$=n=>Y(n)&&n.length<=G$&&Je(n,uC),Y$=n=>U(n)&&$r(n,s=>!K$(s)).isNone(),X$=()=>{const n=a2.getItem(cC);if(n===null)return{};let s;try{s=JSON.parse(n)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+cC+" was not valid JSON",i),{};throw i}return Y$(s)?s:(console.log("Local storage "+cC+" was not valid format",s),{})},pY=n=>{if(!Y$(n))throw new Error(`Bad format for history:
`+JSON.stringify(n));a2.setItem(cC,JSON.stringify(n))},bY=n=>{const s=X$();return Hn(s,n).getOr([])},yY=(n,s)=>{if(!uC(n))return;const i=X$(),f=Hn(i,s).getOr([]),b=xo(f,w=>w!==n);i[s]=[n].concat(b).slice(0,G$),pY(i)},Q$=n=>!!n,J$=n=>os(D1.makeMap(n,/[, ]/),Q$),G4=n=>F.from(sP(n)),BR=n=>{const s=F.from(rO(n)).filter(Q$).map(J$);return G4(n).fold(vt,i=>s.fold(Lt,f=>Do(f).length>0?f:!1))},vY=(n,s)=>{const i=BR(n);return ue(i)?i?G4(n):F.none():i[s]?G4(n):F.none()},K4=(n,s)=>vY(n,s).map(i=>f=>ls.nu(b=>{const w=(_,B)=>{if(!I(_))throw new Error("Expected value to be string");if(B!==void 0&&!U(B))throw new Error("Expected meta to be a object");b({value:_,meta:B})},S={filetype:s,fieldname:f.fieldname,...F.from(f.meta).getOr({})};i.call(n,w,f.value,S)})),JE=n=>F.from(n).filter(I).getOrUndefined(),eI=n=>aO(n)?F.some({targets:gY.find(n.getBody()),anchorTop:JE(aP(n)),anchorBottom:JE(iO(n))}):F.none(),xY=n=>F.from(rP(n)),wY=n=>({getHistory:bY,addToHistory:yY,getLinkInformation:()=>eI(n),getValidationHandler:()=>xY(n),getUrlPicker:s=>K4(n,s)}),CY=(n,s,i,f)=>{const b=Mn(!1),w=tY(s),S={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:hd.translate,isDisabled:()=>!s.ui.isEnabled(),getOption:s.options.get,tooltips:H$(n.dialog),checkUiComponentContext:Ee=>{if(zk(s))return{contextType:"disabled",shouldDisable:!0};const[Xe,st=""]=Ee.split(":"),wt=s.ui.registry.getAll().contexts,Ot=Hn(wt,Xe).fold(()=>Hn(wt,"mode").map(kn=>kn("design")).getOr(!1),kn=>st.charAt(0)==="!"?!kn(st.slice(1)):kn(st));return{contextType:Xe,shouldDisable:!Ot}}},_=wY(s),B=I$(s),z=QK(s),Z=eY(s),K=()=>b.get(),ae=Ee=>b.set(Ee),he={shared:{providers:S,anchors:qK(s,i,f,w.isPositionedAtTop),header:w},urlinput:_,styles:B,colorinput:z,dialog:Z,isContextMenuOpen:K,setContextMenuState:ae},xe=Ee=>F.none(),_e={...he,shared:{...he.shared,interpreter:Ee=>NR(Ee,{},_e,xe),getSink:n.popup}},ze={...he,shared:{...he.shared,interpreter:Ee=>NR(Ee,{},ze,xe),getSink:n.dialog}};return{popup:_e,dialog:ze}},LR={skipFocus:"ToggleToolbarDrawer skipFocus is deprecated see migration guide: https://www.tiny.cloud/docs/tinymce/latest/migration-from-7x/"},SY=n=>{console.warn(LR[n],new Error().stack)},PR=(n,s,i)=>{const f=(on,mo)=>{ft([s,...i],to=>{to.broadcastEvent(on,mo)})},b=(on,mo)=>{ft([s,...i],to=>{to.broadcastOn([on],mo)})},w=on=>b(Jm(),{target:on.target}),S=on=>{b(gf(),{closedTooltip:()=>{on.preventDefault()}})},_=qi(),B=$s(_,"touchstart",w),z=$s(_,"touchmove",on=>f(Fp(),on)),Z=$s(_,"touchend",on=>f(ub(),on)),K=$s(_,"mousedown",w),ae=$s(_,"mouseup",on=>{on.raw.button===0&&b(o0(),{target:on.target})}),he=on=>b(Jm(),{target:mn.fromDom(on.target)}),xe=on=>{on.button===0&&b(o0(),{target:mn.fromDom(on.target)})},_e=()=>{ft(n.editorManager.get(),on=>{n!==on&&on.dispatch("DismissPopups",{relatedTarget:n})})},ze=on=>f(fm(),Za(on)),Ee=on=>{b(pl(),{}),f(xi(),Za(on))},Xe=Ai(mn.fromDom(n.getElement())),st=qu(Xe,"scroll",on=>{requestAnimationFrame(()=>{const mo=n.getContainer();if(mo!=null){const ys=Wb(n,s.element).map(ho=>[ho.element,...ho.others]).getOr([]);It(ys,ho=>oe(ho,on.target))&&(n.dispatch("ElementScroll",{target:on.target.dom}),f(od(),on))}})}),wt=()=>b(pl(),{}),Ot=on=>{on.state&&b(Jm(),{target:mn.fromDom(n.getContainer())})},kn=on=>{b(Jm(),{target:mn.fromDom(on.relatedTarget.getContainer())})},Jt=on=>n.dispatch("focusin",on),rn=on=>n.dispatch("focusout",on);n.on("PostRender",()=>{n.on("click",he),n.on("tap",he),n.on("mouseup",xe),n.on("mousedown",_e),n.on("ScrollWindow",ze),n.on("ResizeWindow",Ee),n.on("ResizeEditor",wt),n.on("AfterProgressState",Ot),n.on("DismissPopups",kn),n.on("CloseActiveTooltips",S),ft([s,...i],on=>{on.element.dom.addEventListener("focusin",Jt),on.element.dom.addEventListener("focusout",rn)})}),n.on("remove",()=>{n.off("click",he),n.off("tap",he),n.off("mouseup",xe),n.off("mousedown",_e),n.off("ScrollWindow",ze),n.off("ResizeWindow",Ee),n.off("ResizeEditor",wt),n.off("AfterProgressState",Ot),n.off("DismissPopups",kn),n.off("CloseActiveTooltips",S),ft([s,...i],on=>{on.element.dom.removeEventListener("focusin",Jt),on.element.dom.removeEventListener("focusout",rn)}),K.unbind(),B.unbind(),z.unbind(),Z.unbind(),ae.unbind(),st.unbind()}),n.on("detach",()=>{ft([s,...i],wA),ft([s,...i],on=>on.destroy())})},EY=J,FR=vt,tI=ie([]);var TY=Object.freeze({__proto__:null,setup:EY,isDocked:FR,getBehaviours:tI});const $R=ie(me("toolbar-height-change")),O1={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},nI="tox-tinymce--toolbar-sticky-on",AY="tox-tinymce--toolbar-sticky-off",Yne=(n,s)=>{const i=Oc(s),b=yp(s).dom.innerHeight,w=ka(i),S=mn.fromDom(n.elm),_=Nh(S),B=bi(S),z=_.y,Z=z+B,K=Bl(s),ae=bi(s),he=K.top,xe=he+ae,_e=Math.abs(he-w.top)<2,ze=Math.abs(xe-(w.top+b))<2;if(_e&&z<xe)Ed(w.left,z-ae,i);else if(ze&&Z>he){const Ee=z-b+B+ae;Ed(w.left,Ee,i)}},eT=(n,s)=>Ve(Ja.getModes(n),s),IR=n=>{const s=f=>ki(f)+(parseInt(yr(f,"margin-top"),10)||0)+(parseInt(yr(f,"margin-bottom"),10)||0),i=n.element;Au(i).each(f=>{const b="padding-"+Ja.getModes(n)[0];if(Ja.isDocked(n)){const w=Bi(f);So(i,"width",w+"px"),So(f,b,s(i)+"px")}else cs(i,"width"),cs(f,b)})},HR=(n,s)=>{s?(ha(n,O1.fadeOutClass),Yu(n,[O1.transitionClass,O1.fadeInClass])):(ha(n,O1.fadeInClass),Yu(n,[O1.fadeOutClass,O1.transitionClass]))},oI=(n,s)=>{const i=mn.fromDom(n.getContainer());s?(nr(i,nI),ha(i,AY)):(nr(i,AY),ha(i,nI))},kY=(n,s)=>{const i=Oc(s);ai(i).filter(f=>!oe(s,f)).filter(f=>oe(f,mn.fromDom(i.dom.body))||Ae(n,f)).each(()=>Fa(s))},DY=(n,s)=>ii(n).orThunk(()=>s().toOptional().bind(i=>ii(i.element))),_Y=(n,s,i)=>{n.inline||(s.header.isPositionedAtTop()||n.on("ResizeEditor",()=>{i().each(Ja.reset)}),n.on("ResizeWindow ResizeEditor",()=>{i().each(IR)}),n.on("SkinLoaded",()=>{i().each(f=>{Ja.isDocked(f)?Ja.reset(f):Ja.refresh(f)})}),n.on("FullscreenStateChanged",()=>{i().each(Ja.reset)})),n.on("AfterScrollIntoView",f=>{i().each(b=>{Ja.refresh(b);const w=b.element;qa(w)&&Yne(f,w)})}),n.on("PostRender",()=>{oI(n,!1)})},OY=n=>n().map(Ja.isDocked).getOr(!1),sI=()=>[md.config({channels:{[$R()]:{onReceive:IR}}})],rI=(n,s)=>{const i=Co(),f=s.getSink,b=_=>{f().each(B=>_(B.element))},w=_=>{n.inline||IR(_),oI(n,Ja.isDocked(_)),_.getSystem().broadcastOn([pl()],{}),f().each(B=>B.getSystem().broadcastOn([pl()],{}))},S=n.inline?[]:sI();return[et.config({}),Ja.config({contextual:{lazyContext:_=>{const B=ki(_.element),z=n.inline?n.getContentAreaContainer():n.getContainer();return F.from(z).map(Z=>{const K=_i(mn.fromDom(Z));return Wb(n,_.element).fold(()=>{const he=K.height-B,xe=K.y+(eT(_,"top")?0:B);return Pi(K.x,xe,K.width,he)},he=>{const xe=Im(K,Ux(he)),_e=eT(_,"top")?xe.y:xe.y+B;return Pi(xe.x,_e,xe.width,xe.height-B)})})},onShow:()=>{b(_=>HR(_,!0))},onShown:_=>{b(B=>El(B,[O1.transitionClass,O1.fadeInClass])),i.get().each(B=>{kY(_.element,B),i.clear()})},onHide:_=>{DY(_.element,f).fold(i.clear,i.set),b(B=>HR(B,!1))},onHidden:()=>{b(_=>El(_,[O1.transitionClass]))},...O1},lazyViewport:_=>Wb(n,_.element).fold(()=>{const z=bc(),Z=nP(n),K=z.y+(eT(_,"top")&&!wP(n)?Z:0),ae=z.height-(eT(_,"bottom")?Z:0);return{bounds:Pi(z.x,K,z.width,ae),optScrollEnv:F.none()}},z=>({bounds:Ux(z),optScrollEnv:F.some({currentScrollTop:z.element.dom.scrollTop,scrollElmTop:Bl(z.element).top})})),modes:[s.header.getDockingMode()],onDocked:w,onUndocked:w}),...S]};var NY=Object.freeze({__proto__:null,setup:_Y,isDocked:OY,getBehaviours:rI});const RY=n=>{const s=n.editor,i=n.sticky?rI:tI;return{uid:n.uid,dom:n.dom,components:n.components,behaviours:a(i(s,n.sharedBackstage))}};var aI=oh({factory:(n,s)=>{const i=(b,w)=>{const S=He(w,_=>{const B={type:"menubutton",text:_.text,fetch:Z=>{Z(_.getItems())},context:"any"},z=tN(B).mapError(Z=>Mg(Z)).getOrDie();return qE(z,"tox-mbtn",s.backstage,F.some("menuitem"))});jo.set(b,S)},f={focus:lo.focusIn,setMenus:i};return{uid:n.uid,dom:n.dom,components:[],behaviours:a([jo.config({}),fe("menubar-events",[Lr(b=>{n.onSetup(b)}),Mt(Jl(),(b,w)=>{ur(b.element,".tox-mbtn--active").each(S=>{yi(w.event.target,".tox-mbtn").each(_=>{oe(S,_)||b.getSystem().getByDom(S).each(B=>{b.getSystem().getByDom(_).each(z=>{Gf.expand(z),Gf.close(B),et.focus(z)})})})})}),Mt($h(),(b,w)=>{w.event.prevFocus.bind(S=>b.getSystem().getByDom(S).toOptional()).each(S=>{w.event.newFocus.bind(_=>b.getSystem().getByDom(_).toOptional()).each(_=>{Gf.isOpen(S)&&(Gf.expand(_),Gf.close(S))})})})]),lo.config({mode:"flow",selector:".tox-mbtn",onEscape:b=>(n.onEscape(b),F.some(!0))}),ua.config({})]),apis:f,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[qt("dom"),qt("uid"),qt("onEscape"),qt("backstage"),bt("onSetup",J)],apis:{focus:(n,s)=>{n.focus(s)},setMenus:(n,s,i)=>{n.setMenus(s,i)}}});const iI=" Get all features",lI="https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",MY=n=>{const s=n.promotionLink?[{dom:{tag:"a",attributes:{href:lI,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:iI}}]:[];return{uid:n.uid,dom:n.dom,components:s}},BY=n=>{const{sidebars:s}=n.ui.registry.getAll();ft(Do(s),i=>{const f=s[i],b=()=>oo(F.from(n.queryCommandValue("ToggleSidebar")),i);n.ui.registry.addToggleButton(i,{icon:f.icon,tooltip:f.tooltip,onAction:w=>{n.execCommand("ToggleSidebar",!1,i),w.setActive(b())},onSetup:w=>{w.setActive(b());const S=()=>w.setActive(b());return n.on("ToggleSidebar",S),()=>{n.off("ToggleSidebar",S)}},context:"any"})})},uh=n=>({element:()=>n.element.dom}),LY=(n,s)=>{const i=He(Do(s),f=>{const b=s[f],w=Ju(hN(b));return{name:f,getApi:uh,onSetup:w.onSetup,onShow:w.onShow,onHide:w.onHide}});return He(i,f=>{const b=Mn(J);return n.slot(f.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Jw.unnamedEvents([E0(f,b),bv(f,b),Mt($p(),(w,S)=>{const _=S.event;Be(i,z=>z.name===_.name).each(z=>{(_.visible?z.onShow:z.onHide)(z.getApi(w))})})])})})},cI=n=>pu.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:LY(s,n),slotBehaviours:Jw.unnamedEvents([Lr(i=>pu.hideAllSlots(i))])})),uI=(n,s,i)=>{$t.getCurrent(n).each(b=>{jo.set(b,[cI(s)]);const w=i?.toLowerCase();I(w)&&ts(s,w)&&$t.getCurrent(b).each(S=>{pu.showSlot(S,w),Ud.immediateGrow(b),cs(b.element,"width"),Y4(n.element,"region")})})},Y4=(n,s)=>{uo(n,"role",s)},tT=(n,s)=>{$t.getCurrent(n).each(f=>{$t.getCurrent(f).each(w=>{Ud.hasGrown(f)?pu.isShowing(w,s)?(Ud.shrink(f),Y4(n.element,"presentation")):(pu.hideAllSlots(w),pu.showSlot(w,s),Y4(n.element,"region")):(pu.hideAllSlots(w),pu.showSlot(w,s),Ud.grow(f),Y4(n.element,"region"))})})},PY=n=>$t.getCurrent(n).bind(i=>Ud.isGrowing(i)||Ud.hasGrown(i)?$t.getCurrent(i).bind(w=>Be(pu.getSlotNames(w),S=>pu.isShowing(w,S))):F.none()),dC=me("FixSizeEvent"),zR=me("AutoSizeEvent"),X4=n=>({uid:n.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:a([ua.config({}),et.config({}),Ud.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{$t.getCurrent(s).each(pu.hideAllSlots),fs(s,zR)},onGrown:s=>{fs(s,zR)},onStartGrow:s=>{so(s,dC,{width:Gr(s.element,"width").getOr("")})},onStartShrink:s=>{so(s,dC,{width:Bi(s.element)+"px"})}}),jo.config({}),$t.config({find:s=>{const i=jo.contents(s);return sn(i)}})])}],behaviours:a([cp.childAt(0),fe("sidebar-sliding-events",[Mt(dC,(s,i)=>{So(s.element,"width",i.event.width)}),Mt(zR,(s,i)=>{cs(s.element,"width")})])])}),FY=n=>(s,i)=>({dom:{tag:"div",attributes:{"aria-label":n.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:h0('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),dI=n=>$t.getCurrent(n).each(s=>Fa(s.element,!0)),lg=(n,s)=>{const i="tabindex",f=`data-mce-${i}`;F.from(n.iframeElement).map(mn.fromDom).each(b=>{s?(li(b,i).each(w=>uo(b,f,w)),uo(b,i,-1)):(cr(b,i),li(b,f).each(w=>{uo(b,i,w),cr(b,f)}))})},$Y=(n,s,i,f)=>{const b=s.element;if(lg(n,i),i)tn.block(s,FY(f)),cs(b,"display"),cr(b,"aria-hidden"),n.hasFocus()&&dI(s);else{const w=$t.getCurrent(s).exists(S=>Jc(S.element));tn.unblock(s),So(b,"display","none"),uo(b,"aria-hidden","true"),w&&n.focus()}},Q4=n=>({uid:n.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:a([jo.config({}),tn.config({focus:!1}),$t.config({find:s=>sn(s.components())})]),components:[]}),fI=n=>n.type==="focusin",mI=n=>fI(n)?(n.composed?sn(n.composedPath()):F.from(n.target)).map(mn.fromDom).filter(Yc).exists(i=>Da(i,"mce-pastebin")):!1,IY=(n,s,i)=>{const f=Mn(!1),b=Co(),w=_=>{f.get()&&!mI(_)&&(_.preventDefault(),dI(s()),n.editorManager.setActive(n))};n.inline||n.on("PreInit",()=>{n.dom.bind(n.getWin(),"focusin",w),n.on("BeforeExecCommand",_=>{_.command.toLowerCase()==="mcefocus"&&_.value!==!0&&w(_)})});const S=_=>{_!==f.get()&&(f.set(_),$Y(n,s(),_,i.providers),gG(n,_))};n.on("ProgressState",_=>{if(b.on(clearTimeout),lt(_.time)){const B=Hk.setEditorTimeout(n,()=>S(_.state),_.time);b.set(B)}else S(_.state),b.clear()})},jR=n=>{const s=n.label.isNone()?n.title.fold(()=>({}),i=>({attributes:{"aria-label":i}})):n.label.fold(()=>({}),i=>({attributes:{"aria-label":i}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(n.label.isSome()?["tox-toolbar__group_with_label"]:[]),...s},components:[...n.label.map(i=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[Ra(i)]})).toArray(),$k.parts.items({})],items:n.items,markers:{itemSelector:".tox-tbtn:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:a([ua.config({}),et.config({ignore:!0})])}},J4=n=>$k.sketch(jR(n)),hI=(n,s)=>{const i=Lr(f=>{const b=He(n.initGroups,J4);g0.setGroups(f,b)});return a([S0.toolbarButton(()=>n.providers.checkUiComponentContext("any").shouldDisable),nl(()=>n.providers.checkUiComponentContext("any")),lo.config({mode:s,onEscape:n.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),fe("toolbar-events",[i])])},gI=n=>{const s=n.cyclicKeying?"cyclic":"acyclic";return{uid:n.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":jR({title:F.none(),label:F.none(),items:[]}),"overflow-button":S$({context:"any",icon:F.some("more-drawer"),enabled:!0,tooltip:F.some("Reveal or hide additional toolbar items")},F.none(),n.providers,[],"overflow-button")},splitToolbarBehaviours:hI(n,s)}},HY=n=>{const s=gI(n),i=4,f=IL.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return IL.sketch({...s,lazySink:n.getSink,getOverflowBounds:()=>{const b=n.moreDrawerData.lazyHeader().element,w=Nh(b),S=bp(b),_=Nh(S),B=Math.max(S.dom.scrollHeight,_.height);return Pi(w.x+i,_.y,w.width-i*2,B)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n.attributes}}},components:[f],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:b=>n.onToggled(b,!0),onClosed:b=>n.onToggled(b,!1)})},zY=n=>{const s=q5.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=q5.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),f=gI(n);return q5.sketch({...f,components:[s,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:b=>{b.getSystem().broadcastOn([$R()],{type:"opened"}),n.onToggled(b,!0)},onClosed:b=>{b.getSystem().broadcastOn([$R()],{type:"closed"}),n.onToggled(b,!1)}})},e3=n=>{const s=n.cyclicKeying?"cyclic":"acyclic";return g0.sketch({uid:n.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(n.type===ih.scrolling?["tox-toolbar--scrolling"]:[])},components:[g0.parts.groups({})],toolbarBehaviours:hI(n,s)})},jY=(n,s)=>{const i=n.type==="togglebutton",f=n.icon.map(Ee=>Cv(Ee,s.icons)).map(gr),w=Ee=>{const Xe=kn=>{f.map(Jt=>Jt.getOpt(Ee).each(rn=>{jo.set(rn,[Cv(kn,s.icons)])}))},st=kn=>{const Jt=Ee.element;kn?(nr(Jt,"tox-button--enabled"),uo(Jt,"aria-pressed",!0)):(ha(Jt,"tox-button--enabled"),cr(Jt,"aria-pressed"))},wt=()=>Da(Ee.element,"tox-button--enabled"),Ot=()=>Fa(Ee.element);if(i)return n.onAction({setIcon:Xe,setActive:st,isActive:wt,focus:Ot});if(n.type==="button")return n.onAction({setIcon:Xe})},S={...n,name:i?n.text.getOr(n.icon.getOr("")):n.text??n.icon.getOr(""),primary:n.buttonType==="primary",buttonType:F.from(n.buttonType),tooltip:n.tooltip,icon:n.icon,enabled:!0,borderless:n.borderless},_=wR(n.buttonType??"secondary"),B=i?n.text.map(s.translate):F.some(s.translate(n.text)),z=B.map(Ra),Z=S.tooltip.or(B).map(Ee=>({"aria-label":s.translate(Ee)})).getOr({}),K=f.map(Ee=>Ee.asSpec()),ae=T1([K,z]),he=n.icon.isSome()&&z.isSome(),xe={tag:"button",classes:_.concat(...n.icon.isSome()&&!he?["tox-button--icon"]:[]).concat(...he?["tox-button--icon-and-text"]:[]).concat(...n.borderless?["tox-button--naked"]:[]).concat(...n.type==="togglebutton"&&n.active?["tox-button--enabled"]:[]),attributes:Z},_e=[],ze=V4(S,F.some(w),_e,xe,ae,n.tooltip,s);return rc.sketch(ze)},VR=(n,s)=>jY(n,s),pI=(n,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:He(n.buttons,i=>VR(i,s))}),UR=Ua().deviceType,VY=UR.isPhone(),bI=UR.isTablet(),UY=n=>{let s=!1;const i=He(n.buttons,f=>f.type==="group"?(s=!0,pI(f,n.providers)):VR(f,n.providers));return{uid:n.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...VY||bI?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:a([et.config({}),lo.config({mode:"flow",selector:"button, .tox-button",focusInside:Pg.OnEnterOrSpaceMode})]),components:s?i:[d0.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),d0.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:i})]}},ZY=n=>({uid:n.uid,behaviours:a([et.config({}),ua.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}}),yI=(n,s,i,f)=>{const b={getPane:w=>Ac.getPart(w,n,"pane"),getOnShow:w=>n.viewConfig.onShow,getOnHide:w=>n.viewConfig.onHide};return{uid:n.uid,dom:n.dom,components:s,behaviours:a([et.config({}),lo.config({mode:"cyclic",focusInside:Pg.OnEnterOrSpaceMode})]),apis:b}};var u2=pf({name:"silver.View",configFields:[qt("viewConfig")],partFields:[fu({factory:{sketch:UY},schema:[qt("buttons"),qt("providers")],name:"header"}),fu({factory:{sketch:ZY},schema:[],name:"pane"})],factory:yI,apis:{getPane:(n,s)=>n.getPane(s),getOnShow:(n,s)=>n.getOnShow(s),getOnHide:(n,s)=>n.getOnHide(s)}});const vI=(n,s,i)=>Ts(s,(f,b)=>{const w=Ju(eG(f));return n.slot(b,u2.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:w,components:[...w.buttons.length>0?[u2.parts.header({buttons:w.buttons,providers:i})]:[],u2.parts.pane({})]}))}),WY=(n,s)=>pu.sketch(i=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:vI(i,n,s),slotBehaviours:Jw.unnamedEvents([Lr(f=>pu.hideAllSlots(f))])})),xI=n=>Be(pu.getSlotNames(n),s=>pu.isShowing(n,s)),qY=n=>{const s=n.element;So(s,"display","none"),uo(s,"aria-hidden","true")},wI=n=>{const s=n.element;cs(s,"display"),cr(s,"aria-hidden")},GY=n=>({getContainer:ie(n)}),CI=(n,s,i)=>{pu.getSlot(n,s).each(f=>{u2.getPane(f).each(b=>{i(f)(GY(b.element.dom))})})},KY=(n,s)=>CI(n,s,u2.getOnShow),YY=(n,s)=>CI(n,s,u2.getOnHide);var t3=oh({factory:(n,s)=>{const w={setViews:(S,_)=>{jo.set(S,[WY(_,s.backstage.shared.providers)])},whichView:S=>$t.getCurrent(S).bind(xI),toggleView:(S,_,B,z)=>$t.getCurrent(S).exists(Z=>{const K=xI(Z),ae=K.exists(xe=>z===xe),he=pu.getSlot(Z,z).isSome();return he&&(pu.hideAllSlots(Z),ae?(qY(S),_()):(B(),wI(S),pu.showSlot(Z,z),KY(Z,z)),K.each(xe=>YY(Z,xe))),he})};return{uid:n.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:a([jo.config({}),$t.config({find:S=>{const _=jo.contents(S);return sn(_)}})]),apis:w}},name:"silver.ViewWrapper",configFields:[qt("backstage")],apis:{setViews:(n,s,i)=>n.setViews(s,i),toggleView:(n,s,i,f,b)=>n.toggleView(s,i,f,b),whichView:(n,s)=>n.whichView(s)}});const XY=(n,s,i)=>{let f=!1;const b=S=>{my(S,".tox-statusbar").each(_=>{yr(_,"display")==="none"&&ea(_,"aria-hidden")==="true"?(cs(_,"display"),cr(_,"aria-hidden")):(So(_,"display","none"),uo(_,"aria-hidden","true"))})},w={getSocket:S=>Ac.getPart(S,n,"socket"),setSidebar:(S,_,B)=>{Ac.getPart(S,n,"sidebar").each(z=>uI(z,_,B))},toggleSidebar:(S,_)=>{Ac.getPart(S,n,"sidebar").each(B=>tT(B,_))},whichSidebar:S=>Ac.getPart(S,n,"sidebar").bind(PY).getOrNull(),getHeader:S=>Ac.getPart(S,n,"header"),getToolbar:S=>Ac.getPart(S,n,"toolbar"),setToolbar:(S,_)=>{Ac.getPart(S,n,"toolbar").each(B=>{const z=He(_,J4);B.getApis().setGroups(B,z)})},setToolbars:(S,_)=>{Ac.getPart(S,n,"multiple-toolbar").each(B=>{const z=He(_,Z=>He(Z,J4));p8.setItems(B,z)})},refreshToolbar:S=>{Ac.getPart(S,n,"toolbar").each(B=>B.getApis().refresh(B))},toggleToolbarDrawer:S=>{Ac.getPart(S,n,"toolbar").each(_=>{sa(_.getApis().toggle,B=>B(_))})},toggleToolbarDrawerWithoutFocusing:S=>{Ac.getPart(S,n,"toolbar").each(_=>{sa(_.getApis().toggleWithoutFocusing,B=>B(_))})},isToolbarDrawerToggled:S=>Ac.getPart(S,n,"toolbar").bind(_=>F.from(_.getApis().isOpen).map(B=>B(_))).getOr(!1),getThrobber:S=>Ac.getPart(S,n,"throbber"),focusToolbar:S=>{Ac.getPart(S,n,"toolbar").orThunk(()=>Ac.getPart(S,n,"multiple-toolbar")).each(B=>{lo.focusIn(B)})},setMenubar:(S,_)=>{Ac.getPart(S,n,"menubar").each(B=>{aI.setMenus(B,_)})},focusMenubar:S=>{Ac.getPart(S,n,"menubar").each(_=>{aI.focus(_)})},setViews:(S,_)=>{Ac.getPart(S,n,"viewWrapper").each(B=>{t3.setViews(B,_)})},toggleView:(S,_)=>Ac.getPart(S,n,"viewWrapper").exists(B=>t3.toggleView(B,()=>w.showMainView(S),()=>w.hideMainView(S),_)),whichView:S=>Ac.getPart(S,n,"viewWrapper").bind(t3.whichView).getOrNull(),hideMainView:S=>{f=w.isToolbarDrawerToggled(S),f&&w.toggleToolbarDrawer(S),Ac.getPart(S,n,"editorContainer").each(_=>{const B=_.element;b(B),So(B,"display","none"),uo(B,"aria-hidden","true")})},showMainView:S=>{f&&w.toggleToolbarDrawer(S),Ac.getPart(S,n,"editorContainer").each(_=>{const B=_.element;b(B),cs(B,"display"),cr(B,"aria-hidden")})}};return{uid:n.uid,dom:n.dom,components:s,apis:w,behaviours:n.behaviours}},QY=rh.optional({factory:aI,name:"menubar",schema:[qt("backstage")]}),JY=n=>n.type===ih.sliding?zY:n.type===ih.floating?HY:e3,eX=rh.optional({factory:{sketch:n=>p8.sketch({uid:n.uid,dom:n.dom,listBehaviours:a([lo.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>e3({type:n.type,uid:me("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:n.providers,onEscape:()=>(n.onEscape(),F.some(!0))}),setupItem:(s,i,f,b)=>{g0.setGroups(i,f)},shell:!0})},name:"multiple-toolbar",schema:[qt("dom"),qt("onEscape")]}),ZR=rh.optional({factory:{sketch:n=>{const s=JY(n),i={type:n.type,uid:n.uid,onEscape:()=>(n.onEscape(),F.some(!0)),onToggled:(f,b)=>n.onToolbarToggled(b),cyclicKeying:!1,initGroups:[],getSink:n.getSink,providers:n.providers,moreDrawerData:{lazyToolbar:n.lazyToolbar,lazyMoreButton:n.lazyMoreButton,lazyHeader:n.lazyHeader},attributes:n.attributes};return s(i)}},name:"toolbar",schema:[qt("dom"),qt("onEscape"),qt("getSink")]}),tX=rh.optional({factory:{sketch:RY},name:"header",schema:[qt("dom")]}),nX=rh.optional({factory:{sketch:MY},name:"promotion",schema:[qt("dom"),qt("promotionLink")]}),SI=rh.optional({name:"socket",schema:[qt("dom")]}),EI=rh.optional({factory:{sketch:X4},name:"sidebar",schema:[qt("dom")]}),oX=rh.optional({factory:{sketch:Q4},name:"throbber",schema:[qt("dom")]}),sX=rh.optional({factory:t3,name:"viewWrapper",schema:[qt("backstage")]}),rX=n=>({uid:n.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:n.components}),aX=rh.optional({factory:{sketch:rX},name:"editorContainer",schema:[]});var Yr=pf({name:"OuterContainer",factory:XY,configFields:[qt("dom"),qt("behaviours")],partFields:[tX,QY,ZR,eX,SI,EI,nX,oX,sX,aX],apis:{getSocket:(n,s)=>n.getSocket(s),setSidebar:(n,s,i,f)=>{n.setSidebar(s,i,f)},toggleSidebar:(n,s,i)=>{n.toggleSidebar(s,i)},whichSidebar:(n,s)=>n.whichSidebar(s),getHeader:(n,s)=>n.getHeader(s),getToolbar:(n,s)=>n.getToolbar(s),setToolbar:(n,s,i)=>{n.setToolbar(s,i)},setToolbars:(n,s,i)=>{n.setToolbars(s,i)},refreshToolbar:(n,s)=>n.refreshToolbar(s),toggleToolbarDrawer:(n,s)=>{n.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(n,s)=>{n.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(n,s)=>n.isToolbarDrawerToggled(s),getThrobber:(n,s)=>n.getThrobber(s),setMenubar:(n,s,i)=>{n.setMenubar(s,i)},focusMenubar:(n,s)=>{n.focusMenubar(s)},focusToolbar:(n,s)=>{n.focusToolbar(s)},setViews:(n,s,i)=>{n.setViews(s,i)},toggleView:(n,s,i)=>n.toggleView(s,i),whichView:(n,s)=>n.whichView(s)}});const iX="file edit view insert format tools table help",WR={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code suggestededits revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image video link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},n3=(n,s,i)=>{const f=QL(i).split(/[ ,]/);return{text:n.title,getItems:()=>Le(n.items,b=>{const w=b.toLowerCase();return w.trim().length===0?[]:It(f,S=>S===w)?[]:w==="separator"||w==="|"?[{type:"separator"}]:s.menuItems[w]?[s.menuItems[w]]:[]})}},nT=n=>n.split(" "),TI=(n,s)=>{const i={...WR,...s.menus},f=Do(s.menus).length>0,b=s.menubar===void 0||s.menubar===!0?nT(iX):nT(s.menubar===!1?"":s.menubar),w=xo(b,_=>{const B=ts(WR,_);return f?B||Hn(s.menus,_).exists(z=>ts(z,"items")):B}),S=He(w,_=>{const B=i[_];return n3({title:B.title,items:nT(B.items)},s,n)});return xo(S,_=>{const B=z=>I(z)||z.type!=="separator";return _.getItems().length>0&&It(_.getItems(),B)})},lX=n=>{const s=()=>{n._skinLoaded=!0,YF(n)};return()=>{n.initialized?s():n.on("init",s)}},AI=(n,s)=>()=>v4(n,{message:s}),cX=n=>{const s=gE(n);return s?F.from(s):F.none()},kI=(n,s,i)=>(n.on("remove",()=>i.unload(s)),i.load(s)),o3=(n,s,i,f)=>(n.on("remove",()=>f.unloadRawCss(s)),f.loadRawCss(s,i)),DI=(n,s)=>"ui/"+n+"/"+s,uX=n=>F.from(tinymce.Resource.get(n)).filter(I),qR=(n,s,i="")=>{const f=cX(n).map(w=>DI(w,`${s}.css`)),b=f.bind(uX);return As(f,b,(w,S)=>({_kind:"load-raw",key:w,css:S})).getOrThunk(()=>{const w=n.editorManager.suffix;return{_kind:"load-stylesheet",url:i+`/${s}${w}.css`}})},GR=(n,s)=>{const i=n.ui.styleSheetLoader,f=qR(n,"skin",s);switch(f._kind){case"load-raw":const{key:b,css:w}=f;return o3(n,b,w,i),Promise.resolve();case"load-stylesheet":const{url:S}=f;return kI(n,S,i);default:return Promise.resolve()}},dX=(n,s)=>{if(wd(mn.fromDom(n.getElement()))){const f=Pw.DOM.styleSheetLoader,b=qR(n,"skin.shadowdom",s);switch(b._kind){case"load-raw":const{key:w,css:S}=b;return o3(n,w,S,f),Promise.resolve();case"load-stylesheet":const{url:_}=b;return kI(n,_,f);default:return Promise.resolve()}}else return Promise.resolve()},fX=(n,s,i)=>{const b=qR(n,s?"content.inline":"content",i);switch(b._kind){case"load-raw":const{key:w,css:S}=b;return s?o3(n,w,S,n.ui.styleSheetLoader):n.on("PostRender",()=>{o3(n,w,S,n.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:_}=b;return i&&n.contentCSS.push(_),Promise.resolve();default:return Promise.resolve()}},_I=async(n,s)=>{const i=cO(s);if(await fX(s,n,i),!pE(s)&&I(i))return Promise.all([GR(s,i),dX(s,i)]).then()},OI=(n,s)=>_I(n,s).then(lX(s),AI(s,"Skin could not be loaded")),NI=fn(OI,!1),mX=fn(OI,!0),KR=n=>({isEnabled:()=>!eo.isDisabled(n),setEnabled:s=>eo.set(n,!s),setText:s=>so(n,ig,{text:s}),setIcon:s=>so(n,c2,{icon:s})}),hX=n=>({setActive:s=>{Ms.set(n,s)},isActive:()=>Ms.isOn(n),isEnabled:()=>!eo.isDisabled(n),setEnabled:s=>eo.set(n,!s),setText:s=>so(n,ig,{text:s}),setIcon:s=>so(n,c2,{icon:s})}),gX=(n,s)=>n.map(i=>({"aria-label":s.translate(i)})).getOr({}),pX=me("focus-button"),s3=(n,s,i,f,b,w,S)=>{const _=s.map(z=>gr(hR(z,"tox-tbtn",b))),B=n.map(z=>gr(Cv(z,b.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:{...gX(i,b),...Fe(S)?{"data-mce-name":S}:{}}},components:T1([B.map(z=>z.asSpec()),_.map(z=>z.asSpec())]),eventOrder:{[uu()]:["focusing","alloy.base.behaviour",_1],[Lc()]:[_1,"toolbar-group-button-events"],[wc()]:[_1,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:a([S0.toolbarButton(()=>b.checkUiComponentContext(w).shouldDisable),nl(()=>b.checkUiComponentContext(w)),fe(_1,[Lr((z,Z)=>$4(z)),Mt(ig,(z,Z)=>{_.bind(K=>K.getOpt(z)).each(K=>{jo.set(K,[Ra(b.translate(Z.event.text))])})}),Mt(c2,(z,Z)=>{B.bind(K=>K.getOpt(z)).each(K=>{jo.set(K,[Cv(Z.event.icon,b.icons)])})}),Mt(uu(),(z,Z)=>{Z.event.prevent(),fs(z,pX)})])].concat(f.getOr([])))}},bX=(n,s,i,f,b)=>{const w=s.shared,S=Mn(J),_={toolbarButtonBehaviours:[],getApi:KR,onSetup:n.onSetup},B=[fe("toolbar-group-button-events",[E0(_,S),bv(_,S)]),...n.tooltip.map(z=>va.config(s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(z)}))).toArray()];return Zb.sketch({lazySink:w.getSink,fetch:()=>ls.nu(z=>{z(He(i(n.items),J4))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:s3(n.icon,n.text,n.tooltip,F.some(B),w.providers,n.context,b),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:f}}}})},RI=(n,s,i,f)=>{const b=Mn(J),w=s3(n.icon,n.text,n.tooltip,F.none(),i,n.context,f);return rc.sketch({dom:w.dom,components:w.components,eventOrder:fR,buttonBehaviours:{...a([fe("toolbar-button-events",[bK({onAction:n.onAction,getApi:s.getApi}),E0(s,b),bv(s,b)]),...n.tooltip.map(S=>va.config(i.tooltips.getConfig({tooltipText:i.translate(S)+n.shortcut.map(_=>` (${xN(_)})`).getOr("")}))).toArray(),S0.toolbarButton(()=>!n.enabled||i.checkUiComponentContext(n.context).shouldDisable),nl(()=>i.checkUiComponentContext(n.context))].concat(s.toolbarButtonBehaviours)),[_1]:w.buttonBehaviours?.[_1]}})},yX=(n,s,i)=>oT(n,s,[],i),oT=(n,s,i,f)=>RI(n,{toolbarButtonBehaviours:i.length>0?[fe("toolbarButtonWith",i)]:[],getApi:KR,onSetup:n.onSetup},s,f),YR=(n,s,i)=>MI(n,s,[],i),MI=(n,s,i,f)=>RI(n,{toolbarButtonBehaviours:[jo.config({}),Ms.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[fe("toolbarToggleButtonWith",i)]:[]),getApi:hX,onSetup:n.onSetup},s,f),vX=(n,s,i)=>f=>ls.nu(b=>s.fetch(b)).map(b=>F.from(tR(Gt(k4(me("menu-value"),b,w=>{s.onItemAction(n(f),w)},s.columns,s.presets,ip.CLOSE_ON_EXECUTE,s.select.getOr(vt),i),{movement:xv(s.columns,s.presets),menuBehaviours:Jw.unnamedEvents(s.columns!=="auto"?[]:[Lr((w,S)=>{bN(w,4,NO(s.presets)).each(({numRows:_,numColumns:B})=>{lo.setGridSize(w,_,B)})})])})))),xX=(n,s,i)=>f=>{const b=f.getSystem(),w=f.element,S=()=>{const B=Da(w,"tox-split-button__chevron"),z=B?wl(w).bind(K=>b.getByDom(K).toOptional()):F.some(f),Z=B?F.some(f):Rm(w).bind(K=>b.getByDom(K).toOptional().filter(ae=>Da(ae.element,"tox-split-button__chevron")));return{mainOpt:z,chevronOpt:Z}},_=B=>{const{mainOpt:z,chevronOpt:Z}=S();z.each(B),Z.each(B)};return{isEnabled:()=>{const{mainOpt:B}=S();return B.exists(z=>!eo.isDisabled(z))},setEnabled:B=>_(z=>eo.set(z,!B)),setText:B=>{const{mainOpt:z}=S();z.each(Z=>so(Z,ig,{text:B}))},setIcon:B=>{const{mainOpt:z}=S();z.each(Z=>so(Z,c2,{icon:B}))},setIconFill:(B,z)=>_(Z=>{ur(Z.element,`svg path[class="${B}"], rect[class="${B}"]`).each(K=>{uo(K,"fill",z)})}),isActive:()=>{const{mainOpt:B}=S();return B.exists(z=>Ms.isOn(z))},setActive:B=>{const{mainOpt:z}=S();z.each(Z=>Ms.set(Z,B))},setTooltip:B=>{n.set(B);const{mainOpt:z,chevronOpt:Z}=S();z.each(ae=>uo(ae.element,"aria-label",s.providers.translate(B)));const K=i.chevronTooltip.map(ae=>s.providers.translate(ae)).getOr(s.providers.translate(B));Z.each(ae=>uo(ae.element,"aria-label",K))}}},wX=(n,s,i)=>{const f=Mn(J),b=Mn(n.tooltip.getOr("")),w=xX(b,s,n),S=me("tox-split-menu"),_=Mn(!1),B=()=>({"aria-haspopup":"menu","aria-expanded":String(_.get()),"aria-controls":S}),z=()=>n.tooltip.map(_e=>s.providers.translate(_e)).getOr(s.providers.translate("Text color")),Z=()=>n.chevronTooltip.map(_e=>s.providers.translate(_e)).getOrThunk(()=>{const _e=z();return s.providers.translate(["{0} menu",_e])}),K=(_e,ze)=>{_.set(_e),uo(ze.element,"aria-expanded",String(_e))},ae=Gf.sketch({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:eW("chevron-down",s.providers.icons),attributes:{"aria-label":Z(),...Fe(i)?{"data-mce-name":i+"-chevron"}:{},...B()}},components:[],toggleClass:"tox-tbtn--enabled",dropdownBehaviours:a([fe("split-dropdown-events",[Lr((_e,ze)=>$4(_e)),E0({getApi:w,onSetup:n.onSetup},f),Mt("alloy-dropdown-open",_e=>K(!0,_e)),Mt("alloy-dropdown-close",_e=>K(!1,_e))]),S0.toolbarButton(()=>s.providers.checkUiComponentContext(n.context).shouldDisable),nl(()=>s.providers.checkUiComponentContext(n.context)),m0.config({}),va.config(s.providers.tooltips.getConfig({tooltipText:Z(),onShow:_e=>{if(b.get()!==n.tooltip.getOr("")){const ze=n.chevronTooltip.map(Ee=>s.providers.translate(Ee)).getOr(`${s.providers.translate(b.get())} menu`);va.setComponents(_e,s.providers.tooltips.getComponents({tooltipText:ze}))}}}))]),lazySink:s.getSink,fetch:vX(w,n,s.providers),getHotspot:_e=>wl(_e.element).bind(ze=>_e.getSystem().getByDom(ze).toOptional()),onOpen:(_e,ze,Ee)=>{fr.highlightBy(Ee,Xe=>Da(Xe.element,"tox-collection__item--active")),fr.getHighlighted(Ee).each(lo.focusIn)},parts:{menu:{...TE(!1,n.columns,n.presets),dom:{...TE(!1,n.columns,n.presets).dom,tag:"div",attributes:{id:S}}}}}),he=s3(n.icon,n.text,F.none(),F.some([Ms.config({toggleClass:"tox-tbtn--enabled",aria:n.presets==="color"?{mode:"none"}:{mode:"pressed"},toggleOnExecute:!1}),...n.tooltip.isSome()?[va.config(s.providers.tooltips.getConfig({tooltipText:s.providers.translate(n.tooltip.getOr("")),onShow:_e=>{if(b.get()!==n.tooltip.getOr("")){const ze=s.providers.translate(b.get());va.setComponents(_e,s.providers.tooltips.getComponents({tooltipText:ze}))}}}))]:[]]),s.providers,n.context,i);return[rc.sketch({dom:{...he.dom,classes:["tox-tbtn","tox-split-button__main"].concat(n.text.isSome()?["tox-tbtn--select"]:[]),attributes:{"aria-label":z(),...Fe(i)?{"data-mce-name":i}:{}}},components:he.components,eventOrder:he.eventOrder,buttonBehaviours:he.buttonBehaviours,action:_e=>{if(n.onAction){const ze=w(_e);ze.isEnabled()&&n.onAction(ze)}}}),ae]},CX=".tox-toolbar-slider__input,.tox-toolbar-textfield",BI=n=>{hi.getContent(n).each(s=>{ur(s.element,CX).fold(()=>lo.focusIn(s),Fa)})},SX=n=>ii(n.element).each(s=>{tu(s,'[tabindex="-1"]').each(i=>{Fa(i)})}),LI=me("forward-slide"),r3=me("backward-slide"),a3=me("change-slide-event"),fC="tox-pop--resizing",XR=n=>{const s=Mn([]);return{sketch:hi.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:f=>{s.set([]),hi.getContent(f).each(b=>{cs(b.element,"visibility")}),ha(f.element,fC),cs(f.element,"width")},onHide:()=>{s.set([]),n.onHide()},inlineBehaviours:a([fe("context-toolbar-events",[t0(Ph(),(f,b)=>{b.event.raw.propertyName==="width"&&(ha(f.element,fC),cs(f.element,"width"))}),Mt(a3,(f,b)=>{const w=f.element;cs(w,"width");const S=Bi(w),_=ii(f.element).isSome();cs(w,"left"),cs(w,"right"),cs(w,"max-width"),hi.setContent(f,b.event.contents),nr(w,fC);const B=Bi(w);So(w,"transition","none"),hi.reposition(f),cs(w,"transition"),So(w,"width",S+"px"),b.event.focus.fold(()=>{_&&BI(f)},z=>{ai(Ai(f.element)).fold(()=>Fa(z),Z=>{oe(Z,z)||n.focusElement(z)})}),setTimeout(()=>{So(f.element,"width",B+"px")},0)}),Mt(LI,(f,b)=>{hi.getContent(f).each(w=>{s.set(s.get().concat([{bar:w,focus:ai(Ai(f.element))}]))}),so(f,a3,{contents:b.event.forwardContents,focus:F.none()})}),Mt(r3,(f,b)=>{n.onBack(),Zn(s.get()).each(w=>{s.set(s.get().slice(0,s.get().length-1)),so(f,a3,{contents:D(w.bar),focus:w.focus})})})]),lo.config({mode:"special",onEscape:f=>Zn(s.get()).fold(()=>n.onEscape(),b=>(fs(f,r3),F.some(!0)))})]),lazySink:()=>Pn.value(n.sink)}),inSubtoolbar:()=>s.get().length>0}},PI=(n,s)=>{const i=Ju(E1({type:"button",icon:"chevron-left",tooltip:"Back",onAction:J}));return oT(i,s.shared.providers,[Mt(dR,f=>{fs(f,r3)})])},cg=(n,s,i)=>Ri(i)?n.translate(s):n.translate([s,n.translate(i)]),FI=(n,s)=>{const i=(S,_,B,z)=>{const Z=n.shared.providers.translate(S.title);if(S.type==="separator")return F.some({type:"separator",text:Z});if(S.type==="submenu"){const K=Le(S.getStyleItems(),ae=>f(ae,_,z));return _===0&&K.length<=0?F.none():F.some({type:"nestedmenuitem",text:Z,enabled:K.length>0,getSubmenuItems:()=>Le(S.getStyleItems(),ae=>f(ae,_,z))})}else return F.some({type:"togglemenuitem",text:Z,icon:S.icon,active:S.isSelected(z),enabled:!B,onAction:s.onAction(S),...S.getStylePreview().fold(()=>({}),K=>({meta:{style:K}}))})},f=(S,_,B)=>{const z=S.type==="formatter"&&s.isInvalid(S);return _===0?z?[]:i(S,_,!1,B).toArray():i(S,_,z,B).toArray()},b=S=>{const _=s.getCurrentValue(),B=s.shouldHide?0:1;return Le(S,z=>f(z,B,_))};return{validateItems:b,getFetch:(S,_)=>(B,z)=>{const Z=_(),K=b(Z),ae=ny(K,ip.CLOSE_ON_EXECUTE,S,{isHorizontalMenu:!1,search:F.none()});z(ae)}}},mC=(n,s)=>{const i=s.dataset,f=i.type==="basic"?()=>He(i.data,b=>F$(b,s.isSelectedFor,s.getPreviewFor)):i.getData;return{items:FI(n,s),getStyleItems:f}},sT=(n,s,i,f,b,w)=>{const{items:S,getStyleItems:_}=mC(s,i),B=Mn(i.tooltip),z=K=>({getComponent:ie(K),setTooltip:ae=>{const he=s.shared.providers.translate(ae);uo(K.element,"aria-label",he),B.set(ae)}}),Z=K=>{const ae=he=>K.setTooltip(cg(n,f(he.value),he.value));return n.on(b,ae),r2(vv(n,"NodeChange",he=>{const xe=he.getComponent();i.updateText(xe),eo.set(he.getComponent(),!n.selection.isEditable()||_().length===0)})(K),()=>n.off(b,ae))};return gR({context:"mode:design",text:i.icon.isSome()?F.none():i.text,icon:i.icon,ariaLabel:F.some(i.tooltip),tooltip:F.none(),role:F.none(),fetch:S.getFetch(s,_),onSetup:Z,getApi:z,columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[va.config({...s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(i.tooltip),onShow:K=>{if(i.tooltip!==B.get()){const ae=s.shared.providers.translate(B.get());va.setComponents(K,s.shared.providers.tooltips.getComponents({tooltipText:ae}))}}})})]},"tox-tbtn",s.shared,w)},EX=n=>He(n,s=>{let i=s,f=s;const b=s.split("=");return b.length>1&&(i=b[0],f=b[1]),{title:i,format:f}}),TX=n=>({type:"basic",data:n});var hC;(function(n){n[n.SemiColon=0]="SemiColon",n[n.Space=1]="Space"})(hC||(hC={}));const AX=(n,s)=>s===hC.SemiColon?n.replace(/;$/,"").split(";"):n.split(" "),QR=(n,s,i)=>{const f=n.options.get(s);return{type:"basic",data:EX(AX(f,i))}},$I="Align",II=ie("Alignment {0}"),HI="left",rT=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],zI=n=>{const s=()=>Be(rT,_=>n.formatter.match(_.format)),i=_=>()=>n.formatter.match(_),f=_=>F.none,b=_=>{const z=s().fold(ie(HI),Z=>Z.title.toLowerCase());so(_,c2,{icon:`align-${z}`}),QF(n,{value:z})},w=TX(rT),S=_=>()=>Be(rT,B=>B.format===_.format).each(B=>n.execCommand(B.command));return{tooltip:cg(n,II(),HI),text:F.none(),icon:F.some("align-left"),isSelectedFor:i,getCurrentValue:F.none,getPreviewFor:f,onAction:S,updateText:b,dataset:w,shouldHide:!1,isInvalid:_=>!n.formatter.canApply(_.format)}},kX=(n,s)=>sT(n,s,zI(n),II,"AlignTextUpdate","align"),DX=(n,s)=>{const i=mC(s,zI(n));n.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate($I),onSetup:zc(n),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},jI=(n,s)=>{const i=s(),f=He(i,b=>b.format);return F.from(n.formatter.closest(f)).bind(b=>Be(i,w=>w.format===b))},_X="Blocks",VI=ie("Block {0}"),i3="Paragraph",JR=n=>{const s=w=>()=>n.formatter.match(w),i=w=>()=>{const S=n.formatter.get(w);return S?F.some({tag:S.length>0&&(S[0].inline||S[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(w))}):F.none()},f=w=>{const _=jI(n,()=>b.data).fold(ie(i3),B=>B.title);so(w,ig,{text:_}),x4(n,{value:_})},b=QR(n,"block_formats",hC.SemiColon);return{tooltip:cg(n,VI(),i3),text:F.some(i3),icon:F.none(),isSelectedFor:s,getCurrentValue:F.none,getPreviewFor:i,onAction:w4(n),updateText:f,dataset:b,shouldHide:!1,isInvalid:w=>!n.formatter.canApply(w.format)}},UI=(n,s)=>sT(n,s,JR(n),VI,"BlocksTextUpdate","blocks"),OX=(n,s)=>{const i=mC(s,JR(n));n.ui.registry.addNestedMenuItem("blocks",{text:_X,onSetup:zc(n),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},ZI="Fonts",WI=ie("Font {0}"),eM="System Font",NX=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],tM=n=>{const s=n.split(/\s*,\s*/);return He(s,i=>i.replace(/^['"]+|['"]+$/g,""))},qI=(n,s)=>s.length>0&&Je(s,i=>n.indexOf(i.toLowerCase())>-1),GI=(n,s)=>{if(n.indexOf("-apple-system")===0||s.length>0){const i=tM(n.toLowerCase());return qI(i,NX)||qI(i,s)}else return!1},KI=n=>{const s=()=>{const B=xe=>xe?tM(xe)[0]:"",z=n.queryCommandValue("FontName"),Z=_.data,K=z?z.toLowerCase():"",ae=gP(n);return{matchOpt:Be(Z,xe=>{const _e=xe.format;return _e.toLowerCase()===K||B(_e).toLowerCase()===B(K).toLowerCase()}).orThunk(()=>Sa(GI(K,ae),{title:eM,format:K})),font:z}},i=B=>z=>z.exists(Z=>Z.format===B),f=()=>{const{matchOpt:B}=s();return B},b=B=>()=>F.some({tag:"div",styles:B.indexOf("dings")===-1?{"font-family":B}:{}}),w=B=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontName",!1,B.format)})},S=B=>{const{matchOpt:z,font:Z}=s(),K=z.fold(ie(Z),ae=>ae.title);so(B,ig,{text:K}),xG(n,{value:K})},_=QR(n,"font_family_formats",hC.SemiColon);return{tooltip:cg(n,WI(),eM),text:F.some(eM),icon:F.none(),isSelectedFor:i,getCurrentValue:f,getPreviewFor:b,onAction:w,updateText:S,dataset:_,shouldHide:!1,isInvalid:vt}},RX=(n,s)=>sT(n,s,KI(n),WI,"FontFamilyTextUpdate","fontfamily"),MX=(n,s)=>{const i=mC(s,KI(n));n.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate(ZI),onSetup:zc(n),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})};var l3=tinymce.util.Tools.resolve("tinymce.util.VK");const BX=(n,s,i,f)=>{let b=F.none();const w=st=>st.map(wt=>In.getValue(wt)).getOr(""),S=vv(n,"NodeChange SwitchMode DisabledStateChange",st=>{const wt=st.getComponent();b=F.some(wt),i.updateInputValue(wt),eo.set(wt,!n.selection.isEditable()||zk(n))}),_=st=>({getComponent:ie(st)}),B=Mn(J),z=me("custom-number-input-events"),Z=(st,wt,Ot)=>{const kn=w(b),Jt=i.getNewValue(kn,st),rn=kn.length-`${Jt}`.length,on=b.map(to=>to.element.dom.selectionStart-rn),mo=b.map(to=>to.element.dom.selectionEnd-rn);i.onAction(Jt,Ot),b.each(to=>{In.setValue(to,Jt),wt&&(on.each(ys=>to.element.dom.selectionStart=ys),mo.each(ys=>to.element.dom.selectionEnd=ys))})},K=(st,wt)=>Z((Ot,kn)=>Ot-kn,st,wt),ae=(st,wt)=>Z((Ot,kn)=>Ot+kn,st,wt),he=st=>Au(st.element).fold(F.none,wt=>(Fa(wt),F.some(!0))),xe=st=>Jc(st.element)?(ss(st.element).each(wt=>Fa(wt)),F.some(!0)):F.none(),_e=(st,wt,Ot,kn)=>{const Jt=Mn(J),rn=s.shared.providers.translate(Ot),on=me("altExecuting"),mo=vv(n,"NodeChange SwitchMode DisabledStateChange",ys=>{eo.set(ys.getComponent(),!n.selection.isEditable()||zk(n))}),to=ys=>{eo.isDisabled(ys)||st(!0)};return rc.sketch({dom:{tag:"button",attributes:{"aria-label":rn,"data-mce-name":wt},classes:kn.concat(wt)},components:[mR(wt,s.shared.providers.icons)],buttonBehaviours:a([eo.config({}),va.config(s.shared.providers.tooltips.getConfig({tooltipText:rn})),fe(on,[E0({onSetup:mo,getApi:_},Jt),bv({getApi:_},Jt),Mt(Ki(),(ys,ho)=>{(ho.event.raw.keyCode===l3.SPACEBAR||ho.event.raw.keyCode===l3.ENTER)&&(eo.isDisabled(ys)||st(!1))}),Mt(dm(),to),Mt($l(),to)])]),eventOrder:{[Ki()]:[on,"keying"],[dm()]:[on,"alloy.base.behaviour"],[$l()]:[on,"alloy.base.behaviour"],[Lc()]:["alloy.base.behaviour",on,"tooltipping"],[wc()]:[on,"tooltipping"]}})},ze=gr(_e(st=>K(!1,st),"minus","Decrease font size",[])),Ee=gr(_e(st=>ae(!1,st),"plus","Increase font size",[])),Xe=gr({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[C1.sketch({inputBehaviours:a([eo.config({}),fe(z,[E0({onSetup:S,getApi:_},B),bv({getApi:_},B)]),fe("input-update-display-text",[Mt(ig,(st,wt)=>{In.setValue(st,wt.event.text)}),Mt(lb(),st=>{i.onAction(In.getValue(st))}),Mt(Lf(),st=>{i.onAction(In.getValue(st))})]),lo.config({mode:"special",onEnter:st=>(Z(ut,!0,!0),F.some(!0)),onEscape:he,onUp:st=>(ae(!0,!1),F.some(!0)),onDown:st=>(K(!0,!1),F.some(!0)),onLeft:(st,wt)=>(wt.cut(),F.none()),onRight:(st,wt)=>(wt.cut(),F.none())})])})],behaviours:a([et.config({}),lo.config({mode:"special",onEnter:xe,onSpace:xe,onEscape:he}),fe("input-wrapper-events",[Mt(Jl(),st=>{ft([ze,Ee],wt=>{const Ot=mn.fromDom(wt.get(st).element.dom);Jc(Ot)&&ma(Ot)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...Fe(f)?{"data-mce-name":f}:{}}},components:[ze.asSpec(),Xe.asSpec(),Ee.asSpec()],behaviours:a([et.config({}),lo.config({mode:"flow",focusInside:Pg.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:st=>Jc(st.element)?F.none():(Fa(st.element),F.some(!0))})])}},LX="Font sizes",YI=ie("Font size {0}"),nM="12pt",PX={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},FX={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},$X=(n,s)=>{const i=Math.pow(10,s);return Math.round(n*i)/i},IX=(n,s)=>/[0-9.]+px$/.test(n)?$X(parseInt(n,10)*72/96,s||0)+"pt":Hn(FX,n).getOr(n),HX=n=>Hn(PX,n).getOr(""),XI=n=>{const s=()=>{let B=F.none();const z=_.data,Z=n.queryCommandValue("FontSize");if(Z)for(let K=3;B.isNone()&&K>=0;K--){const ae=IX(Z,K),he=HX(ae);B=Be(z,xe=>xe.format===Z||xe.format===ae||xe.format===he)}return{matchOpt:B,size:Z}},i=B=>z=>z.exists(Z=>Z.format===B),f=()=>{const{matchOpt:B}=s();return B},b=ie(F.none),w=B=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontSize",!1,B.format)})},S=B=>{const{matchOpt:z,size:Z}=s(),K=z.fold(ie(Z),ae=>ae.title);so(B,ig,{text:K}),vG(n,{value:K})},_=QR(n,"font_size_formats",hC.Space);return{tooltip:cg(n,YI(),nM),text:F.some(nM),icon:F.none(),isSelectedFor:i,getPreviewFor:b,getCurrentValue:f,onAction:w,updateText:S,dataset:_,shouldHide:!1,isInvalid:vt}},zX=(n,s)=>sT(n,s,XI(n),YI,"FontSizeTextUpdate","fontsize"),QI=n=>{const s={step:1};return{em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[n]??s},jX=16,VX=n=>n>=0,JI=n=>{const s=()=>n.queryCommandValue("FontSize");return{updateInputValue:f=>so(f,ig,{text:s()}),onAction:(f,b)=>n.execCommand("FontSize",!1,f,{skip_focus:!b}),getNewValue:(f,b)=>{Hs(f,["unsupportedLength","empty"]);const w=s(),S=Hs(f,["unsupportedLength","empty"]).or(Hs(w,["unsupportedLength","empty"])),_=S.map(ae=>ae.value).getOr(jX),B=Zk(n),z=S.map(ae=>ae.unit).filter(ae=>ae!=="").getOr(B),Z=b(_,QI(z).step),K=`${VX(Z)?Z:_}${z}`;return K!==w&&A1(n,{value:K}),K}}},UX=(n,s)=>BX(n,s,JI(n),"fontsizeinput"),e9=(n,s)=>{const i=mC(s,XI(n));n.ui.registry.addNestedMenuItem("fontsize",{text:LX,onSetup:zc(n),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},t9="Formats",n9=n=>Ri(n)?"Formats":"Format {0}",o9=(n,s)=>{const i="Formats",f=S=>()=>n.formatter.match(S),b=S=>()=>{const _=n.formatter.get(S);return _!==void 0?F.some({tag:_.length>0&&(_[0].inline||_[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(S))}):F.none()},w=S=>{const _=K=>nY(K)?Le(K.items,_):R$(K)?[{title:K.title,format:K.format}]:[],B=Le(P$(n),_),Z=jI(n,ie(B)).fold(ie({title:i,tooltipLabel:""}),K=>({title:K.title,tooltipLabel:K.title}));so(S,ig,{text:Z.title}),yG(n,{value:Z.tooltipLabel})};return{tooltip:cg(n,n9(""),""),text:F.some(i),icon:F.none(),isSelectedFor:f,getCurrentValue:F.none,getPreviewFor:b,onAction:w4(n),updateText:w,shouldHide:oO(n),isInvalid:S=>!n.formatter.canApply(S.format),dataset:s}},ZX=(n,s)=>{const i={type:"advanced",...s.styles};return sT(n,s,o9(n,i),n9,"StylesTextUpdate","styles")},gC=(n,s)=>{const i={type:"advanced",...s.styles},f=mC(s,o9(n,i));n.ui.registry.addNestedMenuItem("styles",{text:t9,onSetup:zc(n,()=>f.getStyleItems().length>0),getSubmenuItems:()=>f.items.validateItems(f.getStyleItems())})},WX=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],aT=(n,s)=>(i,f,b,w)=>{const S=n(i).mapError(_=>Mg(_)).getOrDie();return s(S,f,b,w)},qX={button:aT(E1,(n,s,i,f)=>yX(n,s.shared.providers,f)),togglebutton:aT(aN,(n,s,i,f)=>YR(n,s.shared.providers,f)),menubutton:aT(tN,(n,s,i,f)=>qE(n,"tox-tbtn",s,F.none(),!1,f)),splitbutton:aT(Gq,(n,s,i,f)=>wX(n,s.shared,f)),grouptoolbarbutton:aT(gN,(n,s,i,f)=>{const b=i.ui.registry.getAll().buttons,w=_=>c3(i,{buttons:b,toolbar:_,allowToolbarGroups:!1},s,F.none()),S={[Qp]:s.shared.header.isPositionedAtTop()?Vf.TopToBottom:Vf.BottomToTop};if(Vx(i)===ih.floating)return bX(n,s,w,S,f);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},GX=(n,s,i,f)=>Hn(qX,n.type).fold(()=>(console.error("skipping button defined by",n),F.none()),b=>F.some(b(n,s,i,f))),s9={styles:ZX,fontsize:zX,fontsizeinput:UX,fontfamily:RX,blocks:UI,align:kX,navigateback:PI},KX=n=>{const s=He(WX,i=>{const f=xo(i.items,b=>ts(n,b)||ts(s9,b));return{name:i.name,items:f}});return xo(s,i=>i.items.length>0)},YX=n=>{const s=n.split("|");return He(s,i=>({items:i.trim().split(" ")}))},XX=n=>Oe(n,s=>(ts(s,"name")||ts(s,"label"))&&ts(s,"items")),oM=n=>{const s=n.toolbar,i=n.buttons;return s===!1?[]:s===void 0||s===!0?KX(i):I(s)?YX(s):XX(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},QX=(n,s,i,f,b,w)=>Hn(s,i.toLowerCase()).orThunk(()=>w.bind(S=>Jo(S,_=>Hn(s,_+i.toLowerCase())))).fold(()=>Hn(s9,i.toLowerCase()).map(S=>S(n,b)),S=>S.type==="grouptoolbarbutton"&&!f?(console.warn(`Ignoring the '${i}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),F.none()):GX(S,b,n,i.toLowerCase())),c3=(n,s,i,f)=>{const b=oM(s),w=He(b,S=>{const _=Le(S.items,B=>B.trim().length===0?[]:QX(n,s.buttons,B,s.allowToolbarGroups,i,f).map(z=>Array.isArray(z)?z:[z]).getOr([]));return{title:F.from(n.translate(S.name)),label:Sa(S.label!==void 0,n.translate(S.label)),items:_}});return xo(w,S=>S.items.length>0)},sM=(n,s,i,f)=>{const b=s.mainUi.outerContainer,w=i.toolbar,S=i.buttons;if(Oe(w,I)){const _=w.map(B=>{const z={toolbar:B,buttons:S,allowToolbarGroups:i.allowToolbarGroups};return c3(n,z,f,F.none())});Yr.setToolbars(b,_)}else Yr.setToolbar(b,c3(n,i,f,F.none()))},rM=Ua(),JX=rM.os.isiOS()&&rM.os.version.major<=12,eQ=(n,s)=>{const{uiMotherships:i}=s,f=n.dom;let b=n.getWin();const w=n.getDoc().documentElement,S=Mn(hr(b.innerWidth,b.innerHeight)),_=Mn(hr(w.offsetWidth,w.offsetHeight)),B=()=>{const ae=S.get();(ae.left!==b.innerWidth||ae.top!==b.innerHeight)&&(S.set(hr(b.innerWidth,b.innerHeight)),LN(n))},z=()=>{const ae=n.getDoc().documentElement,he=_.get();(he.left!==ae.offsetWidth||he.top!==ae.offsetHeight)&&(_.set(hr(ae.offsetWidth,ae.offsetHeight)),LN(n))},Z=ae=>{hG(n,ae)};f.bind(b,"resize",B),f.bind(b,"scroll",Z);const K=qu(mn.fromDom(n.getBody()),"load",z);n.on("hide",()=>{ft(i,ae=>{So(ae.element,"display","none")})}),n.on("show",()=>{ft(i,ae=>{cs(ae.element,"display")})}),n.on("NodeChange",z),n.on("remove",()=>{K.unbind(),f.unbind(b,"resize",B),f.unbind(b,"scroll",Z),b=null})},tQ=(n,s,i)=>{fv(n)&&nh(i.mainUi.mothership.element,i.popupUi.mothership),Ex(s,i.dialogUi.mothership)};var nQ=Object.freeze({__proto__:null,render:(n,s,i,f,b)=>{const{mainUi:w,uiMotherships:S}=s,_=Mn(0),B=w.outerContainer;NI(n);const z=mn.fromDom(b.targetNode),Z=xd(Ai(z));nh(z,w.mothership),tQ(n,Z,s),n.on("PostRender",()=>{Yr.setSidebar(B,i.sidebar,fP(n)),Yr.setViews(B,i.views)}),n.on("SkinLoaded",()=>{sM(n,s,i,f),_.set(n.getWin().innerWidth),Yr.setMenubar(B,TI(n,i)),eQ(n,s)});const K=Yr.getSocket(B).getOrDie("Could not find expected socket element");if(JX){Or(K.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const _e=Kd(()=>{n.dispatch("ScrollContent")},20),ze=$s(K.element,"scroll",_e.throttle);n.on("remove",ze.unbind)}MF(n,s),n.addCommand("ToggleSidebar",(_e,ze)=>{Yr.toggleSidebar(B,ze),wG(n)}),n.addQueryValueHandler("ToggleSidebar",()=>Yr.whichSidebar(B)??""),n.addCommand("ToggleView",(_e,ze)=>{if(Yr.toggleView(B,ze)){const Ee=B.element;w.mothership.broadcastOn([Jm()],{target:Ee}),ft(S,Xe=>{Xe.broadcastOn([Jm()],{target:Ee})}),ee(Yr.whichView(B))&&(n.focus(),n.nodeChanged(),Yr.refreshToolbar(B)),JF(n)}}),n.addQueryValueHandler("ToggleView",()=>Yr.whichView(B)??"");const ae=Vx(n),he=()=>{Yr.refreshToolbar(s.mainUi.outerContainer)};(ae===ih.sliding||ae===ih.floating)&&n.on("ResizeWindow ResizeEditor ResizeContent",()=>{const _e=n.getWin().innerWidth;_e!==_.get()&&(he(),_.set(_e))});const xe={setEnabled:_e=>{PE(s,_e?"setEnabled":"setDisabled")},isEnabled:()=>!eo.isDisabled(B)};return{iframeContainer:K.element.dom,editorContainer:B.element.dom,api:xe}}});const oQ=n=>/^[0-9\.]+(|px)$/i.test(""+n)?F.some(parseInt(""+n,10)):F.none(),u3=n=>lt(n)?n+"px":n,d3=(n,s,i)=>{const f=s.filter(w=>n<w),b=i.filter(w=>n>w);return f.or(b).getOr(n)},sQ=(n,s)=>{if(typeof s=="number")return F.from(s);const i=/^([0-9.]+)(pt|em|px)$/.exec(s.trim());if(i){const f=i[2],b=Number.parseFloat(i[1]);if(Number.isNaN(b)||b<0)return F.none();if(f==="em")return F.from(b*Number.parseFloat(window.getComputedStyle(n.dom).fontSize));if(f==="pt")return F.from(b*(72/96));if(f==="px")return F.from(b)}return F.none()},rQ=n=>{const s=sQ(mn.fromDom(n.targetElm),Q5(n)),i=tO(n),f=nO(n);return s.map(b=>d3(b,i,f))},aQ=n=>rQ(n).getOr(Q5(n)),iT=n=>{const s=J5(n),i=eO(n),f=jk(n);return oQ(s).map(b=>d3(b,i,f))},iQ=n=>iT(n).getOr(J5(n)),{ToolbarLocation:pC,ToolbarMode:lT}=MZ,r9=40,lQ=(n,s,i,f,b)=>{const{mainUi:w,uiMotherships:S}=i,_=Pw.DOM,B=jw(n),z=Vw(n),Z=jk(n).or(iT(n)),K=f.shared.header,ae=K.isPositionedAtTop,he=150,xe=Vx(n),_e=xe===lT.sliding||xe===lT.floating,ze=Mn(!1),Ee=()=>ze.get()&&!n.removed,Xe=no=>_e?no.fold(ie(0),Yt=>Yt.components().length>1?bi(Yt.components()[1].element):0):0,st=no=>{switch(sO(n)){case pC.auto:const Yt=Yr.getToolbar(w.outerContainer),vn=Xe(Yt),To=bi(no.element)-vn,Ko=_i(s);if(Ko.y>To)return"top";{const qo=bp(s),Ur=Math.max(qo.dom.scrollHeight,bi(qo));return Ko.bottom<Ur-To||bc().bottom<Ko.bottom-To?"bottom":"top"}case pC.bottom:return"bottom";case pC.top:default:return"top"}},wt=no=>{b.on(Yt=>{Ja.setModes(Yt,[no]),K.setDockingMode(no);const vn=ae()?Vf.TopToBottom:Vf.BottomToTop;uo(Yt.element,Qp,vn)})},Ot=()=>{b.on(no=>{const Yt=Z.getOrThunk(()=>Ep().width-fl(s).left-10);So(no.element,"max-width",Yt+"px")})},kn=(no,Yt)=>{b.on(vn=>{const To=Yr.getToolbar(w.outerContainer),Ko=Xe(To),ao=_i(s),qo=Jt(n,w.outerContainer.element),Ur=()=>qo.fold(()=>ao.x,jc=>{const dh=_i(jc);return oe(jc,Ml())?ao.x:ao.x-dh.x}),pr=()=>qo.fold(()=>ae()?Math.max(ao.y-bi(vn.element)+Ko,0):ao.bottom,jc=>{const dh=_i(jc),bu=jc.dom.scrollTop??0,Ev=oe(jc,Ml())?Math.max(ao.y-bi(vn.element)+Ko,0):ao.y-dh.y+bu-bi(vn.element)+Ko;return ae()?Ev:ao.bottom}),ju=Ur(),ei=Sa(no,Math.ceil(w.outerContainer.element.dom.getBoundingClientRect().width)).filter(jc=>jc>he).map(jc=>{const dh=Yt.getOr(ka()),bu=window.innerWidth-(ju-dh.left),ug=Math.max(Math.min(jc,bu),he);return bu<jc&&So(w.outerContainer.element,"width",ug+"px"),{width:ug+"px"}}).getOr({width:"max-content"}),Kf={position:"absolute",left:Math.round(ju)+"px",top:pr()+"px"};Or(w.outerContainer.element,{...Kf,...ei})})},Jt=(no,Yt)=>fv(no)?af(Yt):F.none(),rn=()=>{ft(S,no=>{no.broadcastOn([pl()],{})})},on=()=>!B&&(Bl(w.outerContainer.element).left+nf(w.outerContainer.element)>=window.innerWidth-r9||Gr(w.outerContainer.element,"width").isSome())?(So(w.outerContainer.element,"position","absolute"),So(w.outerContainer.element,"left","0px"),cs(w.outerContainer.element,"width"),!0):!1,mo=no=>{if(!Ee())return;B||Ot();const Yt=ka(),vn=B?!1:on();if(_e&&Yr.refreshToolbar(w.outerContainer),!B){const To=ka(),Ko=Sa(Yt.left!==To.left,Yt);kn(vn,Ko),Ko.each(ao=>{Ed(ao.left,To.top)})}z&&b.on(no),rn()},to=()=>B||!z||!Ee()?!1:b.get().exists(no=>{const Yt=K.getDockingMode(),vn=st(no);return vn!==Yt?(wt(vn),!0):!1});return{isVisible:Ee,isPositionedAtTop:ae,show:()=>{ze.set(!0),So(w.outerContainer.element,"display","flex"),_.addClass(n.getBody(),"mce-edit-focus"),ft(S,no=>{cs(no.element,"display")}),to(),fv(n)?mo(no=>Ja.isDocked(no)?Ja.reset(no):Ja.refresh(no)):mo(Ja.refresh)},hide:()=>{ze.set(!1),So(w.outerContainer.element,"display","none"),_.removeClass(n.getBody(),"mce-edit-focus"),ft(S,no=>{So(no.element,"display","none")})},update:mo,updateMode:()=>{to()&&mo(Ja.reset)},repositionPopups:rn}},a9=(n,s)=>{const i=_i(n);return{pos:s?i.y:i.bottom,bounds:i}},cQ=(n,s,i,f)=>{const b=Mn(a9(s,i.isPositionedAtTop())),w=z=>{const{pos:Z,bounds:K}=a9(s,i.isPositionedAtTop()),{pos:ae,bounds:he}=b.get(),xe=K.height!==he.height||K.width!==he.width;b.set({pos:Z,bounds:K}),xe&&LN(n,z),i.isVisible()&&(ae!==Z?i.update(Ja.reset):xe&&(i.updateMode(),i.repositionPopups()))};f||(n.on("activate",i.show),n.on("deactivate",i.hide)),n.on("SkinLoaded ResizeWindow",()=>i.update(Ja.reset)),n.on("NodeChange keydown",z=>{requestAnimationFrame(()=>w(z))});let S=0;const _=Ei(()=>i.update(Ja.refresh),33);n.on("ScrollWindow",()=>{const z=ka().left;z!==S&&(S=z,_.throttle()),i.updateMode()}),fv(n)&&n.on("ElementScroll",z=>{i.update(Ja.refresh)});const B=Ir();B.set(qu(mn.fromDom(n.getBody()),"load",z=>w(z.raw))),n.on("remove",()=>{B.clear()})};var uQ=Object.freeze({__proto__:null,render:(n,s,i,f,b)=>{const{mainUi:w}=s,S=Co(),_=mn.fromDom(b.targetNode),B=lQ(n,_,s,f,S),z=tP(n);mX(n);const Z=()=>{if(S.isSet()){B.show();return}S.set(Yr.getHeader(w.outerContainer).getOrDie());const ae=uO(n);fv(n)?(nh(_,w.mothership),nh(_,s.popupUi.mothership)):Ex(ae,w.mothership),Ex(ae,s.dialogUi.mothership);const he=()=>{sM(n,s,i,f),Yr.setMenubar(w.outerContainer,TI(n,i)),B.show(),cQ(n,_,B,z),n.nodeChanged()};z?n.once("SkinLoaded",he):he()};n.on("show",Z),n.on("hide",B.hide),z||(n.on("focus",Z),n.on("blur",B.hide)),n.on("init",()=>{(n.hasFocus()||z)&&Z()}),MF(n,s);const K={show:Z,hide:B.hide,setEnabled:ae=>{PE(s,ae?"setEnabled":"setDisabled")},isEnabled:()=>!eo.isDisabled(w.outerContainer)};return{editorContainer:w.outerContainer.element.dom,api:K}}});const f3=()=>{const n=Co(),s=Co(),i=Co();return{dialogUi:n,popupUi:s,mainUi:i,getUiMotherships:()=>{const w=n.get().map(_=>_.mothership),S=s.get().map(_=>_.mothership);return w.fold(()=>S.toArray(),_=>S.fold(()=>[_],B=>oe(_.element,B.element)?[_]:[_,B]))},lazyGetInOuterOrDie:(w,S)=>()=>i.get().bind(_=>S(_.outerContainer)).getOrDie(`Could not find ${w} element in OuterContainer`)}},i9="contexttoolbar-show",aM="contexttoolbar-hide",m3=(n,s,i)=>({setInputEnabled:f=>{!f&&i&&Fa(i),eo.set(n,!f)},isInputEnabled:()=>!eo.isDisabled(n),hide:()=>{fs(n,Na())},back:()=>{fs(n,r3)},getValue:()=>s.get().getOrThunk(()=>In.getValue(n)),setValue:f=>{n.getSystem().isConnected()?In.setValue(n,f):s.set(f)}}),cT=(n,s,i)=>{const b=xl(n.element).bind(w=>n.getSystem().getByDom(w).toOptional());return m3(b.getOr(n),s,i)},l9=(n,s,i)=>Mt(dR,(f,b)=>{const w=n.get(f),S=m3(w,i,f.element);s.onAction(S,b.event.buttonApi)}),c9=(n,s,i,f)=>{const{primary:b,...w}=s.original,S=Ju(E1({...w,type:"button",onAction:J}));return oT(S,i,[l9(n,s,f)])},dQ=(n,s,i,f)=>{const{primary:b,...w}=s.original,S=Ju(aN({...w,type:"togglebutton",onAction:J}));return MI(S,i,[l9(n,s,f)])},fQ=n=>n.type==="contextformtogglebutton",mQ=(n,s,i,f)=>fQ(s)?dQ(n,s,i,f):c9(n,s,i,f),u9=(n,s,i,f)=>{const b=He(s,_=>gr(mQ(n,_,i,f)));return{asSpecs:()=>He(b,_=>_.asSpec()),findPrimary:_=>Jo(s,(B,z)=>B.primary?F.from(b[z]).bind(Z=>Z.getOpt(_)).filter(qe(eo.isDisabled)):F.none())}},hQ=(n,s,i,f)=>{const{width:b,height:w}=n.initValue();let S=aC;const _=me("ratio-event"),B=Jt=>m3(Jt,f),z=Jt=>lh(Jt,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Jt]},s.icons),Z=()=>!1,K=n.label.getOr("Constrain proportions"),ae=s.translate(K),he=tl.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-lock-context-form-size-input","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":ae,"data-mce-name":K}},components:[z("lock"),z("unlock")],buttonBehaviours:a([eo.config({disabled:Z}),ua.config({}),va.config(s.tooltips.getConfig({tooltipText:ae}))])}),xe=Jt=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:Jt}),_e=Jt=>tu(Jt.element,"div.tox-focusable-wrapper").fold(F.none,on=>(Fa(on),F.some(!0))),ze=Jt=>Ds.parts.field({factory:C1,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:Jt?b:w,inputBehaviours:a([eo.config({disabled:Z}),ua.config({}),fe("size-input-toolbar-events",[Mt(ec(),(rn,on)=>{so(rn,_,{isField1:Jt})})]),lo.config({mode:"special",onEnter:i,onEscape:_e})]),selectOnFocus:!1}),Ee=Jt=>({dom:{tag:"label",classes:["tox-label"]},components:[Ra(s.translate(Jt))]}),Xe=Jt=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[Jt],behaviours:a([ua.config({}),et.config({}),lo.config({mode:"special",onEnter:rn=>ur(rn.element,"input").fold(F.none,mo=>(Fa(mo),F.some(!0)))})])}),st=Xe(tl.parts.field1(xe([Ds.parts.label(Ee("Width:")),ze(!0)]))),wt=Xe(tl.parts.field2(xe([Ds.parts.label(Ee("Height:")),ze(!1)]))),Ot=Mn(J),kn=[E0({onBeforeSetup:Jt=>ur(Jt.element,"input").each(Fa),onSetup:n.onSetup,getApi:B},Ot),f4({getApi:B},Ot,f)];return tl.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[st,xe([he]),wt],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Jt,rn,on)=>{j4(In.getValue(Jt)).each(mo=>{S(mo).each(to=>{In.setValue(rn,u$(to))})})},onInput:Jt=>fs(Jt,_7),coupledFieldBehaviours:a([et.config({}),lo.config({mode:"flow",focusInside:Pg.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),eo.config({disabled:Z,onDisabled:Jt=>{tl.getField1(Jt).bind(Ds.getField).each(eo.disable),tl.getField2(Jt).bind(Ds.getField).each(eo.disable),tl.getLock(Jt).each(eo.disable)},onEnabled:Jt=>{tl.getField1(Jt).bind(Ds.getField).each(eo.enable),tl.getField2(Jt).bind(Ds.getField).each(eo.enable),tl.getLock(Jt).each(eo.enable)}}),nl(()=>s.checkUiComponentContext("mode:design")),fe("size-input-toolbar-events2",[Mt(_,(Jt,rn)=>{const on=rn.event.isField1,mo=on?tl.getField1(Jt):tl.getField2(Jt),to=on?tl.getField2(Jt):tl.getField1(Jt),ys=mo.map(In.getValue).getOr(""),ho=to.map(In.getValue).getOr("");S=f$(ys,ho)}),Mt(_7,Jt=>n.onInput(B(Jt))),...kn])])})},bC=(n,s,i)=>Ds.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...n.toArray(),s],fieldBehaviours:a([eo.config({disabled:()=>i.checkUiComponentContext("mode:design").shouldDisable,onDisabled:f=>{SX(f),Ds.getField(f).each(eo.disable)},onEnabled:f=>{Ds.getField(f).each(eo.enable)}})])}),gQ=(n,s,i,f)=>{const b=Mn(J),w=B=>cT(B,f),S=n.label.map(B=>Ds.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ra(s.translate(B))]})),_=Ds.parts.field({factory:C1,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(n.min()),max:String(n.max())},data:n.initValue().toString(),fromInputValue:B=>pi(B).getOr(n.min()),toInputValue:B=>String(B),inputBehaviours:a([eo.config({disabled:()=>s.checkUiComponentContext("mode:design").shouldDisable}),nl(()=>s.checkUiComponentContext("mode:design")),lo.config({mode:"special",onEnter:i,onLeft:(B,z)=>(z.cut(),F.none()),onRight:(B,z)=>(z.cut(),F.none())}),fe("slider-events",[E0({onSetup:n.onSetup,getApi:w,onBeforeSetup:lo.focusIn},b),f4({getApi:w},b,f),Mt(Bf(),B=>{n.onInput(w(B))})])])});return bC(S,_,s)},pQ=(n,s,i,f)=>{const b=Mn(J),w=Z=>cT(Z,f),S=n.label.map(Z=>Ds.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ra(s.translate(Z))]})),B={...n.placeholder.map(Z=>({placeholder:s.translate(Z)})).getOr({})},z=Ds.parts.field({factory:C1,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:B,data:n.initValue(),selectOnFocus:!0,inputBehaviours:a([eo.config({disabled:()=>s.checkUiComponentContext("mode:design").shouldDisable}),nl(()=>s.checkUiComponentContext("mode:design")),lo.config({mode:"special",onEnter:i,onLeft:(Z,K)=>(K.cut(),F.none()),onRight:(Z,K)=>(K.cut(),F.none())}),fe("input-events",[E0({onSetup:n.onSetup,getApi:Z=>tu(Z.element,".tox-toolbar").bind(ae=>ur(ae,"button:enabled")).fold(()=>cT(Z,f),ae=>cT(Z,f,ae)),onBeforeSetup:lo.focusIn},b),f4({getApi:w},b,f),Mt(Bf(),Z=>{n.onInput(w(Z))})])])});return bC(S,z,s)},iM=(n,s,i)=>{const f=Co(),w=gr(n(i,z=>_.findPrimary(z).orThunk(()=>B.findPrimary(z)).map(Z=>(r1(Z),!0)),f)),S=$o(s.commands,z=>z.align==="start"),_=u9(w,S.pass,i,f),B=u9(w,S.fail,i,f);return xo([{title:F.none(),label:F.none(),items:_.asSpecs()},{title:F.none(),label:F.none(),items:[w.asSpec()]},{title:F.none(),label:F.none(),items:B.asSpecs()}],z=>z.items.length>0)},lM=(n,s)=>{switch(n.type){case"contextform":return iM(fn(pQ,n),n,s);case"contextsliderform":return iM(fn(gQ,n),n,s);case"contextsizeinputform":return iM(fn(hQ,n),n,s)}},d9={renderContextForm:(n,s,i)=>e3({type:n,uid:me("context-toolbar"),initGroups:lM(s,i),onEscape:F.none,cyclicKeying:!0,providers:i}),buildInitGroups:lM},f9=(n,s,i)=>s.bottom-n.y>=i&&n.bottom-s.y>=i,bQ=n=>{const s=n.getBoundingClientRect();if(s.height<=0&&s.width<=0){const i=Sh(mn.fromDom(n.startContainer),n.startOffset).element;return(vl(i)?xl(i):F.some(i)).filter(Yc).map(b=>b.dom.getBoundingClientRect()).getOr(s)}else return s},cM=n=>{const s=n.selection.getRng(),i=bQ(s);if(n.inline){const f=ka();return Pi(f.left+i.left,f.top+i.top,i.width,i.height)}else{const f=Nh(mn.fromDom(n.getBody()));return Pi(f.x+i.left,f.y+i.top,i.width,i.height)}},yQ=(n,s)=>s.filter(i=>Is(i)&&De(i)).map(Nh).getOrThunk(()=>cM(n)),vQ=(n,s,i)=>{const f=Math.max(n.x+i,s.x),b=Math.min(n.right-i,s.right);return{x:f,width:b-f}},uT=(n,s,i,f,b,w)=>{const S=mn.fromDom(n.getContainer()),_=ur(S,".tox-editor-header").getOr(S),B=_i(_),z=B.y>=s.bottom,Z=f&&!z;if(n.inline&&Z)return{y:Math.max(B.bottom+w,i.y),bottom:i.bottom};if(n.inline&&!Z)return{y:i.y,bottom:Math.min(B.y-w,i.bottom)};const K=b==="line"?_i(S):s;return Z?{y:Math.max(B.bottom+w,i.y),bottom:Math.min(K.bottom-w,i.bottom)}:{y:Math.max(K.y+w,i.y),bottom:Math.min(B.y-w,i.bottom)}},uM=(n,s,i,f=0)=>{const b=Ep(window),w=_i(mn.fromDom(n.getContentAreaContainer())),S=Hw(n)||zw(n)||dv(n),{x:_,width:B}=vQ(w,b,f);if(n.inline&&!S)return Pi(_,b.y,B,b.height);{const z=s.header.isPositionedAtTop(),{y:Z,bottom:K}=uT(n,w,b,z,i,f);return Pi(_,Z,B,K-Z)}},h3=12,m9={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},dM={maxHeightFunction:Gh(),maxWidthFunction:kb()},fM=(n,s)=>{const i=n.selection.getRng(),f=Sh(mn.fromDom(i.startContainer),i.startOffset);return i.startContainer===i.endContainer&&i.startOffset===i.endOffset-1&&oe(f.element,s)},h9=(n,s,i)=>{const f=Gr(n,"position");So(n,"position",s);const b=i(n);return f.each(w=>So(n,"position",w)),b},mM=n=>n==="node",xQ=(n,s,i,f,b)=>{const w=cM(n),S=f.lastElement().exists(_=>oe(i,_));if(fM(n,i))return S?Fc:oc;if(S)return h9(s,f.getMode(),()=>f9(w,_i(s),-20)&&!f.isReposition()?ym:Fc);{const _=f.getMode()==="fixed"?b.y+ka().top:b.y,B=bi(s)+h3;return _+B<=w.y?oc:qh}},yC=(n,s,i,f)=>{const b=B=>(z,Z,K,ae,he)=>{const xe=xQ(n,ae,B,i,he),_e={...z,y:he.y,height:he.height};return{...xe(_e,Z,K,ae,he),alwaysFit:!0}},w=B=>mM(f)?[b(B)]:[];return s?{onLtr:B=>[Oi,Ji,Kr,Al,kl,ya].concat(w(B)),onRtl:B=>[Oi,Kr,Ji,kl,Al,ya].concat(w(B))}:{onLtr:B=>[ya,Oi,Al,Ji,kl,Kr].concat(w(B)),onRtl:B=>[ya,Oi,kl,Kr,Al,Ji].concat(w(B))}},g3=(n,s,i,f)=>s==="line"?{bubble:mu(h3,0,m9),layouts:{onLtr:()=>[Km],onRtl:()=>[Hd]},overrides:dM}:{bubble:mu(0,h3,m9,1/h3),layouts:yC(n,i,f,s),overrides:dM},vC=(n,s)=>{const i=xo(s,w=>w.predicate(n.dom)),{pass:f,fail:b}=$o(i,w=>w.type==="contexttoolbar");return{contextToolbars:f,contextForms:b}},hM=n=>{if(n.length<=1)return n;{const s=w=>It(n,S=>S.position===w),i=w=>xo(n,S=>S.position===w),f=s("selection"),b=s("node");if(f||b)if(b&&f){const w=i("node"),S=He(i("selection"),_=>({..._,position:"node"}));return w.concat(S)}else return i(f?"selection":"node");else return i("line")}},gM=n=>{if(n.length<=1)return n;{const s=f=>Be(n,b=>b.position===f);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(f=>f.position).fold(()=>[],f=>xo(n,b=>b.position===f))}},g9=(n,s,i)=>{const f=vC(n,s);if(f.contextForms.length>0)return F.some({elem:n,toolbars:[f.contextForms[0]]});{const b=vC(n,i);if(b.contextForms.length>0)return F.some({elem:n,toolbars:[b.contextForms[0]]});if(f.contextToolbars.length>0||b.contextToolbars.length>0){const w=hM(f.contextToolbars.concat(b.contextToolbars));return F.some({elem:n,toolbars:w})}else return F.none()}},p3=(n,s,i)=>n(s)?F.none():or(s,f=>{if(Yc(f)){const{contextToolbars:b,contextForms:w}=vC(f,i.inNodeScope),S=w.length>0?w:gM(b);return S.length>0?F.some({elem:f,toolbars:S}):F.none()}else return F.none()},n),p9=(n,s)=>{const i=mn.fromDom(s.getBody()),f=S=>oe(S,i),b=S=>!f(S)&&!Ae(i,S),w=mn.fromDom(s.selection.getNode());return b(w)?F.none():g9(w,n.inNodeScope,n.inEditorScope).orThunk(()=>p3(f,w,n))},b9=(n,s)=>{const i={},f=[],b=[],w={},S={},_=(Z,K)=>{const ae=Ju(kq(K));i[Z]=ae,ae.launch.map(he=>{w["form:"+Z]={...K.launch,type:he.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(ae)}}}),ae.scope==="editor"?b.push(ae):f.push(ae),S[Z]=ae},B=(Z,K)=>{_q(K).each(ae=>{ae.launch.isSome()&&(w["toolbar:"+Z]={...K.launch,type:"button",onAction:()=>{s(ae)}}),K.scope==="editor"?b.push(ae):f.push(ae),S[Z]=ae})},z=Do(n);return ft(z,Z=>{const K=n[Z];K.type==="contextform"||K.type==="contextsliderform"||K.type==="contextsizeinputform"?_(Z,K):K.type==="contexttoolbar"&&B(Z,K)}),{forms:i,inNodeScope:f,inEditorScope:b,lookupTable:S,formNavigators:w}},dT="tox-pop--transition",wQ=n=>n===l3.ENTER||n===l3.SPACEBAR,y9=(n,s,i,f)=>{const b=f.backstage,w=b.shared,S=Ua().deviceType.isTouch,_=Co(),B=Co(),z=Co(),Z=XR({sink:i,onEscape:()=>(n.focus(),PN(n),F.some(!0)),onHide:()=>{PN(n)},onBack:()=>{FN(n)},focusElement:ho=>{n.getBody().contains(ho.dom)?n.focus():Fa(ho)}}),K=E(Z.sketch),ae=()=>{const ho=z.get().getOr("node"),Vo=mM(ho)?1:0;return uM(n,w,ho,Vo)},he=()=>!n.removed&&!(S()&&b.isContextMenuOpen()),xe=ho=>oo(As(ho,_.get(),oe),!0),_e=()=>{if(he()){const ho=ae(),Vo=oo(z.get(),"node")?yQ(n,_.get()):cM(n);return ho.height<=0||!f9(Vo,ho,.01)}else return!0},ze=()=>{_.clear(),B.clear(),z.clear(),hi.hide(K)},Ee=()=>{if(hi.isOpen(K)){const ho=K.element;cs(ho,"display"),_e()?So(ho,"display","none"):(B.set(0),hi.reposition(K))}},Xe=ho=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[ho],behaviours:a([lo.config({mode:"acyclic"}),fe("pop-dialog-wrap-events",[Lr(Vo=>{n.shortcuts.add("ctrl+F9","focus statusbar",()=>lo.focusIn(Vo))}),hf(Vo=>{n.shortcuts.remove("ctrl+F9")})])])}),st=ho=>{const Vo=Jt([ho]);so(K,LI,{forwardContents:Xe(Vo)})},wt=rl(()=>b9(s,st)),Ot=(ho,Vo)=>c3(n,{buttons:ho,toolbar:Vo.items,allowToolbarGroups:!1},f.backstage,F.some(["form:","toolbar:"])),kn=(ho,Vo)=>d9.buildInitGroups(ho,Vo),Jt=ho=>{const{buttons:Vo}=n.ui.registry.getAll(),no=wt(),Yt={...Vo,...no.formNavigators},vn=Vx(n)===ih.scrolling?ih.scrolling:ih.default,To=tt(He(ho,Ko=>Ko.type==="contexttoolbar"?Ot(Yt,lN(Ko)):kn(Ko,w.providers)));return e3({type:vn,uid:me("context-toolbar"),initGroups:To,onEscape:F.none,cyclicKeying:!0,providers:w.providers})},rn=(ho,Vo)=>{const no=ho==="node"?w.anchors.node(Vo):w.anchors.cursor(),Yt=g3(n,ho,S(),{lastElement:_.get,isReposition:()=>oo(B.get(),0),getMode:()=>fd.getMode(i)});return Gt(no,Yt)},on=(ho,Vo)=>{if(ys.cancel(),!he())return;const no=Jt(ho),Yt=ho[0].position,vn=rn(Yt,Vo);z.set(Yt),B.set(1);const To=K.element;cs(To,"display"),xe(Vo)||(ha(To,dT),fd.reset(i,K)),hi.showWithinBounds(K,Xe(no),{anchor:vn,transition:{classes:[dT],mode:"placement"}},()=>F.some(ae())),Vo.fold(_.clear,_.set),_e()&&So(To,"display","none")},mo=()=>{So(K.element,"transition","none"),Ee(),cs(K.element,"transition")};let to=!1;const ys=Ei(()=>{if(!(!n.hasFocus()||n.removed||to))if(Da(K.element,dT))ys.throttle();else{const ho=wt();p9(ho,n).fold(ze,Vo=>{on(Vo.toolbars,F.some(Vo.elem))})}},17);n.on("init",()=>{n.on("remove",ze),n.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Ee),n.on("click focus SetContent",ys.throttle),n.on("keyup",ho=>{(!wQ(ho.keyCode)||!Z.inSubtoolbar())&&ys.throttle()}),n.on(aM,ze),n.on(i9,ho=>{const Vo=wt();Hn(Vo.lookupTable,ho.toolbarKey).each(no=>{on([no],Sa(ho.target!==n,ho.target)),BI(K)})}),n.on("focusout",ho=>{Hk.setEditorTimeout(n,()=>{ii(i.element).isNone()&&ii(K.element).isNone()&&!n.hasFocus()&&ze()},0)}),n.on("SwitchMode",()=>{n.mode.isReadOnly()&&ze()}),n.on("DisabledStateChange",ho=>{ho.state&&ze()}),n.on("ExecCommand",({command:ho})=>{ho.toLowerCase()==="toggleview"&&ze()}),n.on("AfterProgressState",ho=>{ho.state?ze():n.hasFocus()&&ys.throttle()}),n.on("dragstart",()=>{to=!0}),n.on("dragend drop",()=>{to=!1}),n.on("NodeChange",ho=>{Z.inSubtoolbar()?mo():ii(K.element).fold(ys.throttle,J)})})},CQ=n=>{ft([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],i=>{n.ui.registry.addToggleButton(i.name,{tooltip:i.text,icon:i.icon,onAction:bf(n,i.cmd),onSetup:zE(n,i.name)})}),n.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:zc(n),onAction:bf(n,"JustifyNone")})},v9=(n,s)=>{const i=()=>{const f=s.getOptions(n),b=s.getCurrent(n).map(s.hash),w=Co();return He(f,S=>({type:"togglemenuitem",text:s.display(S),onSetup:_=>{const B=Z=>{Z&&(w.on(K=>K.setActive(!1)),w.set(_)),_.setActive(Z)};B(oo(b,s.hash(S)));const z=s.watcher(n,S,B);return()=>{w.clear(),z()}},onAction:()=>s.setCurrent(n,S)}))};n.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:f=>f(i()),onSetup:s.onToolbarSetup}),n.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:i,onSetup:s.onMenuSetup})},b3=n=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:pP,hash:s=>Ha(s,["fixed","relative","empty"]).getOr(s),display:ut,watcher:(s,i,f)=>s.formatter.formatChanged("lineheight",f,!1,{value:i}).unbind,getCurrent:s=>F.from(s.queryCommandValue("LineHeight")),setCurrent:(s,i)=>s.execCommand("LineHeight",!1,i),onToolbarSetup:zc(n),onMenuSetup:zc(n)}),x9=n=>F.from(XL(n)).map(i=>({name:"language",text:"Language",icon:"language",getOptions:ie(i),hash:f=>Ce(f.customCode)?f.code:`${f.code}/${f.customCode}`,display:f=>f.title,watcher:(f,b,w)=>f.formatter.formatChanged("lang",w,!1,{value:b.code,customValue:b.customCode??null}).unbind,getCurrent:f=>{const b=mn.fromDom(f.selection.getNode());return Cr(b,w=>F.some(w).filter(Yc).bind(S=>li(S,"lang").map(B=>{const z=li(S,"data-mce-lang").getOrUndefined();return{code:B,customCode:z,title:""}})))},setCurrent:(f,b)=>f.execCommand("Lang",!1,b),onToolbarSetup:f=>{const b=Ir();return f.setActive(n.formatter.match("lang",{},void 0,!0)),b.set(n.formatter.formatChanged("lang",f.setActive,!0)),r2(b.clear,zc(n)(f))},onMenuSetup:zc(n)})),SQ=n=>{v9(n,b3(n)),x9(n).each(s=>v9(n,s))},EQ=(n,s)=>{DX(n,s),MX(n,s),gC(n,s),OX(n,s),e9(n,s)},TQ=n=>{n.ui.registry.addContext("editable",()=>n.selection.isEditable()),n.ui.registry.addContext("mode",s=>n.mode.get()===s),n.ui.registry.addContext("any",Lt),n.ui.registry.addContext("formatting",s=>n.formatter.canApply(s)),n.ui.registry.addContext("insert",s=>n.schema.isValidChild(n.selection.getNode().tagName,s))},AQ=n=>vv(n,"NodeChange",s=>{s.setEnabled(n.queryCommandState("outdent")&&n.selection.isEditable())}),kQ=n=>{n.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:AQ(n),onAction:bf(n,"outdent")}),n.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:zc(n,()=>n.queryCommandState("indent")),onAction:bf(n,"indent")})},w9=n=>{kQ(n)},pM=(n,s)=>i=>{i.setActive(s.get());const f=b=>{s.set(b.state),i.setActive(b.state)};return n.on("PastePlainTextToggle",f),r2(()=>n.off("PastePlainTextToggle",f),zc(n)(i))},C9=n=>{const s=Mn(dP(n)),i=()=>n.execCommand("mceTogglePlainTextPaste");n.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:i,onSetup:pM(n,s)}),n.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:i,onSetup:pM(n,s)})},y3=(n,s)=>()=>{n.execCommand("mceToggleFormat",!1,s)},DQ=n=>{D1.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,i)=>{n.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:zE(n,s.name),onAction:y3(n,s.name),shortcut:s.shortcut})});for(let s=1;s<=6;s++){const i="h"+s,f=`Access+${s}`;n.ui.registry.addToggleButton(i,{text:i.toUpperCase(),tooltip:"Heading "+s,onSetup:zE(n,i),onAction:y3(n,i),shortcut:f})}},S9=n=>{D1.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],s=>{n.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:bf(n,s.action),shortcut:s.shortcut,context:s.context})}),D1.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{n.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:zc(n),onAction:bf(n,s.action)})})},E9=n=>{D1.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{n.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:bf(n,s.action),onSetup:zE(n,s.name)})})},_Q=n=>{DQ(n),S9(n),E9(n)},toe=n=>{D1.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],s=>{n.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:bf(n,s.action),context:s.context})}),D1.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{n.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:zc(n),onAction:bf(n,s.action)})}),n.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:zc(n),onAction:y3(n,"code")})},OQ=n=>{_Q(n),toe(n)},v3=(n,s)=>vv(n,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i=>{i.setEnabled(!n.mode.isReadOnly()&&n.undoManager[s]())}),NQ=n=>{n.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:v3(n,"hasUndo"),onAction:bf(n,"undo")}),n.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:v3(n,"hasRedo"),onAction:bf(n,"redo")})},RQ=n=>{n.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:v3(n,"hasUndo"),onAction:bf(n,"undo"),shortcut:"Meta+Z"}),n.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:v3(n,"hasRedo"),onAction:bf(n,"redo"),shortcut:"Meta+Y"})},MQ=n=>{NQ(n),RQ(n)},BQ=n=>vv(n,"VisualAid",s=>{s.setActive(n.hasVisual)}),LQ=n=>{n.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:BQ(n),onAction:bf(n,"mceToggleVisualAid"),context:"any"})},PQ=n=>{n.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:bf(n,"mceToggleVisualAid"),context:"any"})},FQ=n=>{PQ(n),LQ(n)},$Q=(n,s)=>{CQ(n),OQ(n),EQ(n,s),MQ(n),h7(n),FQ(n),w9(n),SQ(n),C9(n),TQ(n)},IQ=n=>I(n)?n.split(/[ ,]/):n,T9=n=>s=>s.options.get(n),HQ=n=>{const s=n.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:i=>i===!1?{value:[],valid:!0}:I(i)||Oe(i,I)?{value:IQ(i),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},bM=T9("contextmenu_never_use_native"),zQ=T9("contextmenu_avoid_overlap"),jQ=n=>A9(n).length===0,A9=n=>{const s=n.ui.registry.getAll().contextMenus,i=n.options.get("contextmenu");return n.options.isSet("contextmenu")?i:xo(i,f=>ts(s,f))},fT=(n,s)=>({type:"makeshift",x:n,y:s}),VQ=(n,s,i)=>fT(n.x+s,n.y+i),yM=n=>n.type==="longpress"||n.type.indexOf("touch")===0,vM=n=>{if(yM(n)){const s=n.touches[0];return fT(s.pageX,s.pageY)}else return fT(n.pageX,n.pageY)},UQ=n=>{if(yM(n)){const s=n.touches[0];return fT(s.clientX,s.clientY)}else return fT(n.clientX,n.clientY)},k9=(n,s)=>{const i=Pw.DOM.getPos(n);return VQ(s,i.x,i.y)},ZQ=(n,s)=>s.type==="contextmenu"||s.type==="longpress"?n.inline?vM(s):k9(n.getContentAreaContainer(),UQ(s)):D9(n),D9=n=>({type:"selection",root:mn.fromDom(n.selection.getNode())}),WQ=n=>({type:"node",node:F.some(mn.fromDom(n.selection.getNode())),root:mn.fromDom(n.getBody())}),_9=(n,s,i)=>{switch(i){case"node":return WQ(n);case"point":return ZQ(n,s);case"selection":return D9(n)}},qQ=(n,s,i,f,b,w)=>{const S=i(),_=_9(n,s,w);ny(S,ip.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:F.none()}).map(B=>{s.preventDefault(),hi.showMenuAt(b,{anchor:_},{menu:{markers:S1("normal")},data:B})})},xM={onLtr:()=>[Oi,Ji,Kr,Al,kl,ya,oc,qh,Il,Iy,jf,s1],onRtl:()=>[Oi,Kr,Ji,kl,Al,ya,oc,qh,jf,s1,Il,Iy]},GQ=12,KQ={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},wM=(n,s)=>{const i=n.selection;if(i.isCollapsed()||s.touches.length<1)return!1;{const f=s.touches[0],b=i.getRng();return Dh(n.getWin(),fi.domRange(b)).exists(S=>S.left<=f.clientX&&S.right>=f.clientX&&S.top<=f.clientY&&S.bottom>=f.clientY)}},O9=n=>{const s=n.selection.getRng(),i=()=>{Hk.setEditorTimeout(n,()=>{n.selection.setRng(s)},10),w()};n.once("touchend",i);const f=S=>{S.preventDefault(),S.stopImmediatePropagation()};n.on("mousedown",f,!0);const b=()=>w();n.once("longpresscancel",b);const w=()=>{n.off("touchend",i),n.off("longpresscancel",b),n.off("mousedown",f)}},N9=(n,s,i)=>{const f=_9(n,s,i);return{bubble:mu(0,i==="point"?GQ:0,KQ),layouts:xM,overrides:{maxWidthFunction:kb(),maxHeightFunction:Gh()},...f}},YQ=(n,s,i,f,b,w,S)=>{const _=N9(n,s,w);ny(i,ip.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!0,search:F.none()}).map(B=>{s.preventDefault();const z=S?Ec.HighlightMenuAndItem:Ec.HighlightNone;hi.showMenuWithinBounds(b,{anchor:_},{menu:{markers:S1("normal"),highlightOnOpen:z},data:B,type:"horizontal"},()=>F.some(uM(n,f.shared,w==="node"?"node":"selection"))),n.dispatch(aM)})},XQ=(n,s,i,f,b,w)=>{const S=Ua(),_=S.os.isiOS(),B=S.os.isMacOS(),z=S.os.isAndroid(),Z=S.deviceType.isTouch(),K=()=>!(z||_||B&&Z),ae=()=>{const he=i();YQ(n,s,he,f,b,w,K())};if((B||_)&&w!=="node"){const he=()=>{O9(n),ae()};wM(n,s)?he():(n.once("selectionchange",he),n.once("touchend",()=>n.off("selectionchange",he)))}else ae()},R9=n=>I(n)?n==="|":n.type==="separator",CM={type:"separator"},M9=n=>{const s=i=>({text:i.text,icon:i.icon,enabled:i.enabled,shortcut:i.shortcut});if(I(n))return n;switch(n.type){case"separator":return CM;case"submenu":return{type:"nestedmenuitem",...s(n),getSubmenuItems:()=>{const f=n.getSubmenuItems();return I(f)?f:He(f,M9)}};default:const i=n;return{type:"menuitem",...s(i),onAction:it(i.onAction)}}},x3=(n,s)=>{if(s.length===0)return n;const f=Zn(n).filter(b=>!R9(b)).fold(()=>[],b=>[CM]);return n.concat(f).concat(s).concat([CM])},QQ=(n,s,i)=>{const f=Ho(s,(b,w)=>Hn(n,w.toLowerCase()).map(S=>{const _=S.update(i);if(I(_)&&Su(An(_)))return x3(b,_.split(" "));if(Y(_)&&_.length>0){const B=He(_,M9);return x3(b,B)}else return b}).getOrThunk(()=>b.concat([w])),[]);return f.length>0&&R9(f[f.length-1])&&f.pop(),f},B9=(n,s)=>s.ctrlKey&&!bM(n),JQ=n=>n.type==="longpress"||ts(n,"touches"),L9=(n,s)=>!JQ(s)&&(s.button!==2||s.target===n.getBody()&&s.pointerType===""),w3=(n,s)=>L9(n,s)?n.selection.getStart(!0):s.target,eJ=(n,s)=>{const i=zQ(n),f=L9(n,s)?"selection":"point";if(Su(i)){const b=w3(n,s);return Pm(mn.fromDom(b),i)?"node":f}else return f},P9=(n,s,i)=>{const b=Ua().deviceType.isTouch,w=E(hi.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>n.focus(),onShow:()=>i.setContextMenuState(!0),onHide:()=>i.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:a([fe("dismissContextMenu",[Mt(mm(),(B,z)=>{ar.close(B),n.focus()})])])})),S=()=>hi.hide(w),_=B=>{if(bM(n)&&B.preventDefault(),B9(n,B)||jQ(n))return;const z=eJ(n,B),Z=()=>{const ae=w3(n,B),he=n.ui.registry.getAll(),xe=A9(n);return QQ(he.contextMenus,xe,ae)};(b()?XQ:qQ)(n,B,Z,i,w,z)};n.on("init",()=>{const B="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(b()?"":" ResizeWindow");n.on(B,S),n.on("longpress contextmenu",_)})},mT=40,C3=mT/2,F9=(n,s,i,f,b,w)=>n.fold(()=>zb.snap({sensor:Yg(i-C3,f-C3),range:hr(b,w),output:Yg(F.some(i),F.some(f)),extra:{td:s}}),S=>{const _=i-C3,B=f-C3,z=mT,Z=mT,K=S.element.dom.getBoundingClientRect();return zb.snap({sensor:Yg(_,B),range:hr(z,Z),output:Yg(F.some(i-K.width/2),F.some(f-K.height/2)),extra:{td:s}})}),$9=(n,s,i)=>{const f=(b,w)=>b.exists(S=>oe(S,w));return{getSnapPoints:n,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(b,w)=>{const S=w.td;f(s.get(),S)||(s.set(S),i(S))},mustSnap:!0}},I9=n=>gr(rc.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:a([zb.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:n}),m0.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),tJ=(n,s)=>{const i=Mn([]),f=Mn([]),b=Mn(!1),w=Co(),S=Co(),_=Jt=>{const rn=Nh(Jt);return F9(he.getOpt(s),Jt,rn.x,rn.y,rn.width,rn.height)},B=()=>He(i.get(),Jt=>_(Jt)),z=Jt=>{const rn=Nh(Jt);return F9(xe.getOpt(s),Jt,rn.right,rn.bottom,rn.width,rn.height)},Z=()=>He(f.get(),Jt=>z(Jt)),K=$9(B,w,Jt=>{S.get().each(rn=>{n.dispatch("TableSelectorChange",{start:Jt,finish:rn})})}),ae=$9(Z,S,Jt=>{w.get().each(rn=>{n.dispatch("TableSelectorChange",{start:rn,finish:Jt})})}),he=I9(K),xe=I9(ae),_e=E(he.asSpec()),ze=E(xe.asSpec()),Ee=(Jt,rn,on,mo)=>{const to=rn.dom.getBoundingClientRect();cs(Jt.element,"display");const ys=yp(mn.fromDom(n.getBody())).dom.innerHeight,ho=on(to),Vo=mo(to,ys);(ho||Vo)&&So(Jt.element,"display","none")},Xe=(Jt,rn,on,mo)=>{const to=on(rn);zb.snapTo(Jt,to),Ee(Jt,rn,Vo=>Vo[mo]<0,(Vo,no)=>Vo[mo]>no)},st=Jt=>Xe(_e,Jt,_,"top"),wt=()=>w.get().each(st),Ot=Jt=>Xe(ze,Jt,z,"bottom"),kn=()=>S.get().each(Ot);if(Ua().deviceType.isTouch()){const Jt=rn=>He(rn,mn.fromDom);n.on("TableSelectionChange",rn=>{b.get()||(r0(s,_e),r0(s,ze),b.set(!0));const on=mn.fromDom(rn.start),mo=mn.fromDom(rn.finish);w.set(on),S.set(mo),F.from(rn.otherCells).each(to=>{i.set(Jt(to.upOrLeftCells)),f.set(Jt(to.downOrRightCells)),st(on),Ot(mo)})}),n.on("ResizeEditor ResizeWindow ScrollContent",()=>{wt(),kn()}),n.on("TableSelectionClear",()=>{b.get()&&(i0(_e),i0(ze),b.set(!1)),w.clear(),S.clear()})}};var H9=`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`;const nJ=n=>n.nodeName==="BR"||!!n.getAttribute("data-mce-bogus")||n.getAttribute("data-mce-type")==="bookmark",oJ=(n,s,i)=>{const f=s.delimiter??"",b=(B,z,Z)=>rc.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":Z}},components:[Ra(B)],action:K=>{n.focus(),n.selection.select(z),n.nodeChanged()},buttonBehaviours:a([va.config({...i.tooltips.getConfig({tooltipText:i.translate(["Select the {0} element",z.nodeName.toLowerCase()]),onShow:(K,ae)=>{su(K.element,ae.element)},onHide:K=>{H0(K.element)}})}),S0.button(i.isDisabled),nl(()=>i.checkUiComponentContext("any"))])}),w=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Ra(` ${f} `)]}),S=B=>Ho(B,(z,Z,K)=>{const ae=b(Z.name,Z.element,K);return K===0?z.concat([ae]):z.concat([w(),ae])},[]),_=B=>{const z=[];let Z=B.length;for(;Z-- >0;){const K=B[Z];if(K.nodeType===1&&!nJ(K)){const ae=pG(n,K);if(ae.isDefaultPrevented()||z.push({name:ae.name,element:K}),ae.isPropagationStopped())break}}return z};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:a([lo.config({mode:"flow",selector:"div[role=button]"}),eo.config({disabled:i.isDisabled}),nl(()=>i.checkUiComponentContext("any")),ua.config({}),jo.config({}),fe("elementPathEvents",[Lr((B,z)=>{n.shortcuts.add("alt+F11","focus statusbar elementpath",()=>lo.focusIn(B)),n.on("NodeChange",Z=>{const K=_(Z.parents),ae=K.length>0?S(K):[];jo.set(B,ae)})})])]),components:[]}};var N1;(function(n){n[n.None=0]="None",n[n.Both=1]="Both",n[n.Vertical=2]="Vertical"})(N1||(N1={}));const z9=n=>{const s=mn.fromDom(n.getContainer()),i=bi(s),f=Bi(s);return{height:i,width:f}},sJ=(n,s,i,f)=>{const b=d3(f.height+s.top,tO(n),nO(n));return i===N1.Both?{height:b,width:d3(f.width+s.left,eO(n),jk(n))}:{height:b}},j9=(n,s,i)=>{const f=mn.fromDom(n.getContainer()),b=z9(n),w=sJ(n,s,i,b);return zo(w,(S,_)=>{lt(S)&&So(f,_,u3(S))}),BN(n),w},rJ=n=>{const s=uP(n);return s===!1?N1.None:s==="both"?N1.Both:N1.Vertical},aJ=(n,s)=>s===N1.Both?hd.translate(["Editor's height: {0} pixels, Editor's width: {1} pixels",n.height,n.width]):hd.translate(["Editor's height: {0} pixels",n.height]),SM=(n,s,i)=>{uo(n.element,"aria-valuetext",aJ(s,i))},S3=(n,s,i,f,b)=>{const S=hr(f*20,b*20),_=j9(n,S,i);return SM(s,_,i),F.some(!0)},V9=(n,s)=>{const i=rJ(n);if(i===N1.None)return F.none();const f=i===N1.Both?hd.translate("Press the arrow keys to resize the editor."):hd.translate("Press the Up and Down arrow keys to resize the editor."),b=i===N1.Both?"tox-statusbar__resize-cursor-both":"tox-statusbar__resize-cursor-default";return F.some(lh("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle",b],attributes:{"aria-label":s.translate(f),"data-mce-name":"resize-handle",role:"separator"},behaviours:[zb.config({mode:"mouse",repositionTarget:!1,onDrag:(w,S,_)=>{const B=j9(n,_,i);SM(w,B,i)},blockerClass:"tox-blocker"}),lo.config({mode:"special",onLeft:w=>S3(n,w,i,-1,0),onRight:w=>S3(n,w,i,1,0),onUp:w=>S3(n,w,i,0,-1),onDown:w=>S3(n,w,i,0,1)}),ua.config({}),et.config({}),va.config(s.tooltips.getConfig({tooltipText:s.translate("Resize")})),fe("set-aria-valuetext",[Lr(w=>{const S=()=>{SM(w,z9(n),i)};n._skinLoaded?S():n.once("SkinLoaded",S)})])],eventOrder:{[Lc()]:["add-focusable","set-aria-valuetext"]}},s.icons))},iJ=(n,s)=>{const i=(f,b,w)=>jo.set(f,[Ra(s.translate(["{0} "+w,b[w]]))]);return rc.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:a([S0.button(s.isDisabled),nl(()=>s.checkUiComponentContext("any")),ua.config({}),jo.config({}),In.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),fe("wordcount-events",[wm(f=>{const b=In.getValue(f),w=b.mode==="words"?"characters":"words";In.setValue(f,{mode:w,count:b.count}),i(f,b.count,w)}),Lr(f=>{n.on("wordCountUpdate",b=>{const{mode:w}=In.getValue(f);In.setValue(f,{mode:w,count:b.wordCount}),i(f,b.wordCount,w)})})])]),eventOrder:{[Ls()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},U9=(n,s)=>{const i=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":n.translate(["Build with {0}","TinyMCE"])},innerHtml:n.translate(["Build with {0}",H9.trim()])},behaviours:a([et.config({})])}]}),f=()=>{const _=xN("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Ra(hd.translate(["Press {0} for help",_]))]}},b=()=>{const _=[];return n.hasPlugin("wordcount")&&_.push(iJ(n,s)),lO(n)&&_.push(i()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:_}},w=()=>{const _=[],B=hP(n),z=cP(n),Z=lO(n)||n.hasPlugin("wordcount"),K=()=>{const ae="tox-statusbar__text-container--flex-start",he="tox-statusbar__text-container--flex-end",xe="tox-statusbar__text-container--space-around";if(B){const _e="tox-statusbar__text-container-3-cols";return!Z&&!z?[_e,xe]:Z&&!z?[_e,he]:[_e,ae]}return[Z&&!z?he:ae]};return z&&_.push(oJ(n,{},s)),B&&_.push(f()),Z&&_.push(b()),_.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...K()]},components:_}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const _=w(),B=V9(n,s);return _.concat(B.toArray())})()}},Z9=(n,s)=>s.get().getOrDie(`UI for ${n} has not been rendered`),lJ=(n,s)=>{const i=n.inline,f=i?uQ:nQ,b=Vw(n)?NY:TY,w=f3(),S=Co(),_=Co(),B=Co(),ae=Ua().deviceType.isTouch()?["tox-platform-touch"]:[],he=Wk(n),xe=Vx(n),_e=gr({dom:{tag:"div",classes:["tox-anchorbar"]}}),ze=gr({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),Ee=()=>w.mainUi.get().map(ao=>ao.outerContainer).bind(Yr.getHeader),Xe=()=>Pn.fromOption(w.dialogUi.get().map(ao=>ao.sink),"UI has not been rendered"),st=()=>Pn.fromOption(w.popupUi.get().map(ao=>ao.sink),"(popup) UI has not been rendered"),wt=w.lazyGetInOuterOrDie("anchor bar",_e.getOpt),Ot=w.lazyGetInOuterOrDie("bottom anchor bar",ze.getOpt),kn=w.lazyGetInOuterOrDie("toolbar",Yr.getToolbar),Jt=w.lazyGetInOuterOrDie("throbber",Yr.getThrobber),rn=CY({popup:st,dialog:Xe},n,wt,Ot),on=()=>{const ao={attributes:{[Qp]:he?Vf.BottomToTop:Vf.TopToBottom}},qo=Yr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:rn.popup,onEscape:()=>{n.focus()}}),Ur=Yr.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:rn.popup.shared.getSink,providers:rn.popup.shared.providers,onEscape:()=>{n.focus()},onToolbarToggled:R1=>{bG(n,R1)},type:xe,lazyToolbar:kn,lazyHeader:()=>Ee().getOrDie("Could not find header element"),...ao}),pr=Yr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:rn.popup.shared.providers,onEscape:()=>{n.focus()},type:xe}),ju=dv(n),ei=zw(n),Kf=Hw(n),jc=mP(n),dh=mo(jc),bu=ju||ei||Kf,ug=()=>ju?[pr]:ei?[Ur]:[],Ev=[dh,qo];return Yr.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(bu?[]:["tox-editor-header--empty"]),...ao},components:tt([Kf?Ev:[],ug(),jw(n)?[]:[_e.asSpec()]]),sticky:Vw(n),editor:n,sharedBackstage:rn.popup.shared})},mo=ao=>Yr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:ao}),to=()=>{const ao=Yr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),qo=Yr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[ao,qo]}},ys=()=>{const ao=uO(n),qo=oe(Ml(),ao)&&yr(ao,"display")==="grid",Ur={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(ae),attributes:{...hd.isRtl()?{dir:"rtl"}:{}}},behaviours:a([fd.config({useFixed:()=>b.isDocked(Ee)})])},pr={dom:{styles:{width:document.body.clientWidth+"px"}},events:oa([Mt(xi(),Kf=>{So(Kf.element,"width",document.body.clientWidth+"px")})])},ju=E(Gt(Ur,qo?pr:{})),ei=e5(ju);return _.set(ei),{sink:ju,mothership:ei}},ho=()=>{const ao={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(ae),attributes:{...hd.isRtl()?{dir:"rtl"}:{}}},behaviours:a([fd.config({useFixed:()=>b.isDocked(Ee),getBounds:()=>s.getPopupSinkBounds()})])},qo=E(ao),Ur=e5(qo);return B.set(Ur),{sink:qo,mothership:Ur}},Vo=()=>{const ao=on(),qo=to(),Ur=Yr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:rn.popup}),pr=Yr.parts.viewWrapper({backstage:rn.popup}),ju=lP(n)&&!i?F.some(U9(n,rn.popup.shared.providers)):F.none(),ei=tt([he?[]:[ao],i?[]:[qo],he?[ao]:[]]),Kf=Yr.parts.editorContainer({components:tt([ei,i?[]:[ze.asSpec()]])}),jc=dO(n),dh={role:"application",...hd.isRtl()?{dir:"rtl"}:{},...jc?{"aria-hidden":"true"}:{}},bu=E(Yr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(he?["tox-tinymce--toolbar-bottom"]:[]).concat(ae),styles:{visibility:"hidden",...jc?{opacity:"0",border:"0"}:{}},attributes:dh},components:[Kf,...i?[]:[pr,...ju.toArray()],Ur],behaviours:a([nl(()=>rn.popup.shared.providers.checkUiComponentContext("any")),eo.config({disableClass:"tox-tinymce--disabled"}),lo.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),ug=e5(bu);return S.set(ug),{mothership:ug,outerContainer:bu}},no=ao=>{const qo=u3(aQ(n)),Ur=u3(iQ(n));return n.inline||(tf("div","width",Ur)&&So(ao.element,"width",Ur),tf("div","height",qo)?So(ao.element,"height",qo):So(ao.element,"height","400px")),qo},Yt=ao=>{n.addShortcut("alt+F9","focus menubar",()=>{Yr.focusMenubar(ao)}),n.addShortcut("alt+F10","focus toolbar",()=>{Yr.focusToolbar(ao)}),n.addCommand("ToggleToolbarDrawer",(qo,Ur,pr)=>{Ur?.skipFocus?(SY("skipFocus"),Yr.toggleToolbarDrawerWithoutFocusing(ao)):pr?.skip_focus?Yr.toggleToolbarDrawerWithoutFocusing(ao):Yr.toggleToolbarDrawer(ao)}),n.addQueryStateHandler("ToggleToolbarDrawer",()=>Yr.isToolbarDrawerToggled(ao)),n.on("blur",()=>{Vx(n)===ih.floating&&Yr.isToolbarDrawerToggled(ao)&&Yr.toggleToolbarDrawerWithoutFocusing(ao)})},vn=ao=>{const{mainUi:qo,popupUi:Ur,uiMotherships:pr}=ao;os(JL(n),(M1,gT)=>{n.ui.registry.addGroupToolbarButton(gT,M1)});const{buttons:ju,menuItems:ei,contextToolbars:Kf,sidebars:jc,views:dh}=n.ui.registry.getAll(),bu=bE(n),ug={menuItems:ei,menus:yP(n),menubar:oP(n),toolbar:bu.getOrThunk(()=>Uk(n)),allowToolbarGroups:xe===ih.floating,buttons:ju,sidebar:jc,views:dh};Yt(qo.outerContainer),PR(n,qo.mothership,pr),b.setup(n,rn.popup.shared,Ee),$Q(n,rn.popup),P9(n,rn.popup.shared.getSink,rn.popup),BY(n),IY(n,Jt,rn.popup.shared),y9(n,Kf,Ur.sink,{backstage:rn.popup}),tJ(n,Ur.sink);const Ev=n.getElement(),R1=no(qo.outerContainer),xC={targetNode:Ev,height:R1};return f.render(n,ao,ug,rn.popup,xC)},To=ao=>(B.set(ao.mothership),ao),Ko=()=>{const ao=Vo(),qo=ys(),Ur=fv(n)?ho():To(qo);w.dialogUi.set(qo),w.popupUi.set(Ur),w.mainUi.set(ao);const pr={popupUi:Ur,dialogUi:qo,mainUi:ao,uiMotherships:w.getUiMotherships()};return vn(pr)};return{popups:{backstage:rn.popup,getMothership:()=>Z9("popups",B)},dialogs:{backstage:rn.dialog,getMothership:()=>Z9("dialogs",_)},renderUI:Ko}},W9=n=>{const s=[],i={};return zo(n,(f,b)=>{f.fold(()=>{s.push(b)},w=>{i[b]=w})}),s.length>0?Pn.error(s):Pn.value(i)},d2=(n,s,i,f)=>{const b=gr(iv.sketch(w=>({dom:{tag:"div",classes:["tox-form"].concat(n.classes)},components:He(n.items,S=>O$(w,S,s,i,f))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[b.asSpec()]}],behaviours:a([lo.config({mode:"acyclic",useTabstopAt:qe(UE)}),cp.memento(b),oK(b,{postprocess:w=>W9(w).fold(S=>(console.error(S),{}),ut)}),fe("dialog-body-panel",[Mt(ec(),(w,S)=>{w.getSystem().broadcastOn([wv],{newFocus:F.some(S.event.target)})})])])}},q9=(n,s,i)=>He(n,(f,b)=>{jo.set(i,n[b].view());const w=s.dom.getBoundingClientRect();return jo.set(i,[]),w.height}),cJ=n=>sn(Pe(n,(s,i)=>s>i?-1:s<i?1:0)),uJ=(n,s,i)=>{const f=bp(n).dom,b=tu(n,".tox-dialog-wrap").getOr(n),w=yr(b,"position")==="fixed";let S;w?S=Math.max(f.clientHeight,window.innerHeight):S=Math.max(f.offsetHeight,f.scrollHeight);const _=bi(s),z=s.dom.offsetLeft>=i.dom.offsetLeft+Bi(i)?Math.max(bi(i),_):_,Z=parseInt(yr(n,"margin-top"),10)||0,K=parseInt(yr(n,"margin-bottom"),10)||0,he=bi(n)+Z+K-z;return S-he},dJ=(n,s)=>{sn(n).each(i=>jx.showTab(s,i.value))},G9=(n,s)=>{So(n,"height",s+"px"),So(n,"flex-basis",s+"px")},E3=(n,s,i)=>{tu(n,'[role="dialog"]').each(f=>{ur(f,'[role="tablist"]').each(b=>{i.get().map(w=>(So(s,"height","0"),So(s,"flex-basis","0"),Math.min(w,uJ(f,s,b)))).each(w=>{G9(s,w)})})})},T3=n=>ur(n,'[role="tabpanel"]'),fJ=n=>{const s=Co();return{extraEvents:[Lr(b=>{const w=b.element;T3(w).each(S=>{So(S,"visibility","hidden"),b.getSystem().getByDom(S).toOptional().each(_=>{const B=q9(n,S,_);cJ(B).fold(s.clear,s.set)}),E3(w,S,s),cs(S,"visibility"),dJ(n,b),requestAnimationFrame(()=>{E3(w,S,s)})})}),Mt(xi(),b=>{const w=b.element;T3(w).each(S=>{E3(w,S,s)})}),Mt(sR,(b,w)=>{const S=b.element;T3(S).each(_=>{const B=ai(Ai(_));So(_,"visibility","hidden");const z=Gr(_,"height").map(ae=>parseInt(ae,10));cs(_,"height"),cs(_,"flex-basis");const Z=_.dom.getBoundingClientRect().height;z.forall(ae=>Z>ae)?(s.set(Z),E3(S,_,s)):z.each(ae=>{G9(_,ae)}),cs(_,"visibility"),B.each(Fa)})})],selectFirst:!1}},K9="send-data-to-section",Y9="send-data-to-view",mJ=(n,s,i,f)=>{const b=Mn({}),w=Z=>{const K=In.getValue(Z),ae=W9(K).getOr({}),he=b.get(),xe=Gt(he,ae);b.set(xe)},S=Z=>{const K=b.get();In.setValue(Z,K)},_=Mn(null),B=He(n.tabs,Z=>({value:Z.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Ra(i.shared.providers.translate(Z.title))],view:()=>[iv.sketch(K=>({dom:{tag:"div",classes:["tox-form"]},components:He(Z.items,ae=>O$(K,ae,s,i,f)),formBehaviours:a([lo.config({mode:"acyclic",useTabstopAt:qe(UE)}),fe("TabView.form.events",[Lr(S),hf(w)]),md.config({channels:vc([{key:K9,value:{onReceive:w}},{key:Y9,value:{onReceive:S}}])})])}))]})),z=fJ(B);return jx.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(Z,K,ae)=>{const he=In.getValue(K);so(Z,O7,{name:he,oldName:_.get()}),_.set(he)},tabs:B,components:[jx.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[jL.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:a([ua.config({})])}),jx.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:z.selectFirst,tabSectionBehaviours:a([fe("tabpanel",z.extraEvents),lo.config({mode:"acyclic"}),$t.config({find:Z=>sn(jx.getViewItems(Z))}),l2(F.none(),Z=>(Z.getSystem().broadcastOn([K9],{}),b.get()),(Z,K)=>{b.set(K),Z.getSystem().broadcastOn([Y9],{})})])})},X9=(n,s,i,f,b,w)=>{const S=z=>{const Z=z.body;return Z.type==="tabpanel"?[mJ(Z,z.initialData,f,w)]:[d2(Z,z.initialData,f,w)]},_=(z,Z)=>F.some({isTabPanel:()=>Z.body.type==="tabpanel"}),B={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...i.map(z=>({id:z})).getOr({}),...b?B:{}}},components:[],behaviours:a([cp.childAt(0),qf.config({channel:`${Y7}-${s}`,updateState:_,renderComponents:S,initialData:n})])}},hJ=(n,s,i,f,b,w)=>X9(n,s,F.some(i),f,b,w),gJ=(n,s,i,f)=>{const b=X9(n,s,F.none(),i,!1,f);return ac.parts.body(b)},Q9=n=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[G7(F.none(),{dom:{tag:"iframe",attributes:{src:n.url}},behaviours:a([ua.config({}),et.config({})])})]}],behaviours:a([lo.config({mode:"acyclic",useTabstopAt:qe(UE)})])};return ac.parts.body(s)},pJ=Fw.deviceType.isTouch(),J9=(n,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[n,s]}),eH=(n,s)=>ac.parts.close(rc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:n,buttonBehaviours:a([ua.config({})])})),tH=()=>ac.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),nH=(n,s)=>ac.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:h0(`<p>${SE(s.translate(n))}</p>`)}]}]}),A3=n=>ac.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:n}),oH=(n,s)=>[d0.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:n}),d0.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],EM=n=>{const s="tox-dialog",i=s+"-wrap",f=i+"__backdrop",b=s+"__disable-scroll";return ac.sketch({lazySink:n.lazySink,onEscape:w=>(n.onEscape(w),F.some(!0)),useTabstopAt:w=>!UE(w),firstTabstop:n.firstTabstop,dom:{tag:"div",classes:[s].concat(n.extraClasses),styles:{position:"relative",...n.extraStyles}},components:[n.header,n.body,...n.footer.toArray()],parts:{blocker:{dom:h0(`<div class="${i}"></div>`),components:[{dom:{tag:"div",classes:pJ?[f,f+"--opaque"]:[f]}}]}},dragBlockClass:i,modalBehaviours:a([et.config({}),fe("dialog-events",n.dialogEvents.concat([t0(ec(),(w,S)=>{tn.isBlocked(w)?J():lo.focusIn(w)}),Mt($h(),(w,S)=>{w.getSystem().broadcastOn([wv],{newFocus:S.event.newFocus})})])),fe("scroll-lock",[Lr(()=>{nr(Ml(),b)}),hf(()=>{ha(Ml(),b)})]),...n.extraBehaviours]),eventOrder:{[Ls()]:["dialog-events"],[Lc()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[wc()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...n.eventOrder}})},sH=n=>rc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:a([ua.config({}),va.config(n.tooltips.getConfig({tooltipText:n.translate("Close")}))]),components:[lh("close",{tag:"span",classes:["tox-icon"]},n.icons)],action:s=>{fs(s,ty)}}),rH=(n,s,i,f)=>{const b=w=>[Ra(f.translate(w.title))];return{dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...i.map(w=>({id:w})).getOr({})}},components:[],behaviours:a([qf.config({channel:`${lR}-${s}`,initialData:n,renderComponents:b})])}},aH=()=>({dom:h0('<div class="tox-dialog__draghandle"></div>')}),bJ=(n,s,i,f)=>d0.sketch({dom:h0('<div class="tox-dialog__header"></div>'),components:[rH(n,s,F.some(i),f),aH(),sH(f)],containerBehaviours:a([zb.config({mode:"mouse",blockerClass:"blocker",getTarget:b=>yi(b,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(b,w)=>{b.getSystem().broadcastOn([pl()],{target:w})}})])}),yJ=(n,s,i)=>{const f=ac.parts.title(rH(n,s,F.none(),i)),b=ac.parts.draghandle(aH()),w=ac.parts.close(sH(i)),S=[f].concat(n.draggable?[b]:[]).concat([w]);return d0.sketch({dom:h0('<div class="tox-dialog__header"></div>'),components:S})},iH=(n,s,i)=>yJ({title:i.shared.providers.translate(n),draggable:i.dialog.isDraggableModal()},s,i.shared.providers),TM=(n,s,i,f)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(n)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${f.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:h0('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),AM=(n,s,i)=>({onClose:()=>i.closeWindow(),onBlock:f=>{const b=ur(n().element,".tox-dialog__header").map(w=>bi(w));ac.setBusy(n(),(w,S)=>TM(f.message,S,s,b))},onUnblock:()=>{ac.setIdle(n())}}),lH="tox-dialog--fullscreen",f2="tox-dialog--width-lg",kM="tox-dialog--width-md",k3=n=>{switch(n){case"large":return F.some(f2);case"medium":return F.some(kM);default:return F.none()}},D3=(n,s)=>{const i=mn.fromDom(s.element.dom);Da(i,lH)||(El(i,[f2,kM]),k3(n).each(f=>nr(i,f)))},cH=(n,s)=>{const i=mn.fromDom(n.element.dom),f=Nu(i),b=Be(f,w=>w===f2||w===kM).or(k3(s));sf(i,[lH,...b.toArray()])},uH=(n,s,i)=>E(EM({...n,firstTabstop:1,lazySink:i.shared.getSink,extraBehaviours:[N4({}),...n.extraBehaviours],onEscape:f=>{fs(f,ty)},dialogEvents:s,eventOrder:{[Fh()]:[qf.name(),md.name()],[Lc()]:["scroll-lock",qf.name(),"messages","dialog-events","alloy.base.behaviour"],[wc()]:["alloy.base.behaviour","dialog-events","messages",qf.name(),"scroll-lock"]}})),DM=(n,s={})=>{const i=f=>{const b=He(f.items,w=>{const S=Hn(s,w.name).getOr(Mn(!1));return{...w,storage:S}});return{...f,items:b}};return He(n,f=>f.type==="menu"?i(f):f)},dH=n=>Ho(n,(s,i)=>i.type==="menu"?Ho(i.items,(b,w)=>(b[w.name]=w.storage,b),s):s,{}),fH=(n,s)=>[e0(ec(),K7),n(i2,(i,f,b,w)=>{Jc(w.element)&&ai(Ai(w.element)).each(ma),s.onClose(),f.onClose()}),n(ty,(i,f,b,w)=>{f.onCancel(i),fs(w,i2)}),Mt(_4,(i,f)=>s.onUnblock()),Mt(oR,(i,f)=>s.onBlock(f.event))],vJ=(n,s)=>{const i=(b,w)=>Mt(b,(S,_)=>{f(S,(B,z)=>{w(n(),B,_.event,S)})}),f=(b,w)=>{qf.getState(b).get().each(S=>{w(S,b)})};return[...fH(i,s),i(lp,(b,w,S)=>{w.onAction(b,{name:S.name})})]},mH=(n,s,i)=>{const f=(w,S)=>Mt(w,(_,B)=>{b(_,(z,Z)=>{S(n(),z,B.event,_)})}),b=(w,S)=>{qf.getState(w).get().each(_=>{S(_.internalDialog,w)})};return[...fH(f,s),f(VE,(w,S)=>S.onSubmit(w)),f(vf,(w,S,_)=>{S.onChange(w,{name:_.name})}),f(lp,(w,S,_,B)=>{const z=()=>B.getSystem().isConnected()?lo.focusIn(B):void 0,Z=he=>$a(he,"disabled")||li(he,"aria-disabled").exists(xe=>xe==="true"),K=Ai(B.element),ae=ai(K);S.onAction(w,{name:_.name,value:_.value}),ai(K).fold(z,he=>{Z(he)||ae.exists(xe=>Ae(he,xe)&&Z(xe))?z():i().toOptional().filter(xe=>!Ae(xe.element,he)).each(z)})}),f(O7,(w,S,_)=>{S.onTabChange(w,{newTabName:_.name,oldTabName:_.oldName})}),hf(w=>{const S=n();In.setValue(w,S.getData())})]},xJ=(n,s)=>GE(n,n.type,s),wJ=(n,s,i)=>Be(s,f=>f.name===i).bind(f=>f.memento.getOpt(n)),CJ=(n,s)=>{const i=s.map(_=>_.footerButtons).getOr([]),f=$o(i,_=>_.align==="start"),b=(_,B)=>d0.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${_}`]},components:He(B,z=>z.memento.asSpec())}),w=b("start",f.pass),S=b("end",f.fail);return[w,S]},hH=(n,s,i)=>{const f=(b,w)=>{const S=He(w.buttons,B=>{const z=gr(xJ(B,i));return{name:B.name,align:B.align,memento:z}}),_=B=>wJ(b,S,B);return F.some({lookupByName:_,footerButtons:S})};return{dom:h0('<div class="tox-dialog__footer"></div>'),components:[],behaviours:a([qf.config({channel:`${X7}-${s}`,initialData:n,updateState:f,renderComponents:CJ})])}},SJ=(n,s,i)=>hH(n,s,i),gH=(n,s,i)=>ac.parts.footer(hH(n,s,i)),_3=(n,s)=>{if(n.getRoot().getSystem().isConnected()){const f=$t.getCurrent(n.getFormWrapper()).getOr(n.getFormWrapper());return iv.getField(f,s).orThunk(()=>n.getFooter().bind(S=>qf.getState(S).get()).bind(S=>S.lookupByName(s)))}else return F.none()},EJ=(n,s)=>{const i=n.getRoot();return qf.getState(i).get().map(f=>Ju(ga("data",f.dataValidator,s))).getOr(s)},pH=(n,s,i)=>{const f=xe=>{const _e=n.getRoot();_e.getSystem().isConnected()&&xe(_e)},he={getData:()=>{const xe=n.getRoot(),_e=xe.getSystem().isConnected()?n.getFormWrapper():xe,ze=In.getValue(_e),Ee=os(i,Xe=>Xe.get());return{...ze,...Ee}},setData:xe=>{f(_e=>{const ze=he.getData(),Ee=Gt(ze,xe),Xe=EJ(n,Ee),st=n.getFormWrapper();In.setValue(st,Xe),zo(i,(wt,Ot)=>{ts(Ee,Ot)&&wt.set(Ee[Ot])})})},setEnabled:(xe,_e)=>{_3(n,xe).each(_e?eo.enable:eo.disable)},focus:xe=>{_3(n,xe).each(et.focus)},block:xe=>{if(!I(xe))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");f(_e=>{so(_e,oR,{message:xe})})},unblock:()=>{f(xe=>{fs(xe,_4)})},showTab:xe=>{f(_e=>{const ze=n.getBody();qf.getState(ze).get().exists(Xe=>Xe.isTabPanel())&&$t.getCurrent(ze).each(Xe=>{jx.showTab(Xe,xe)})})},redial:xe=>{f(_e=>{const ze=n.getId(),Ee=s(xe),Xe=DM(Ee.internalDialog.buttons,i);_e.getSystem().broadcastOn([`${P4}-${ze}`],Ee),_e.getSystem().broadcastOn([`${lR}-${ze}`],Ee.internalDialog),_e.getSystem().broadcastOn([`${Y7}-${ze}`],Ee.internalDialog),_e.getSystem().broadcastOn([`${X7}-${ze}`],{...Ee.internalDialog,buttons:Xe}),he.setData(Ee.initialData)})},close:()=>{f(xe=>{fs(xe,i2)})},toggleFullscreen:n.toggleFullscreen};return he},TJ=(n,s,i)=>{const f=me("dialog"),b=n.internalDialog,w=iH(b.title,f,i),S=Mn(b.size),_=st=>_3(Ee,st),B=k3(S.get()).toArray(),z=(st,wt)=>(S.set(wt.internalDialog.size),D3(wt.internalDialog.size,st),F.some(wt)),Z=gJ({body:b.body,initialData:b.initialData},f,i,_),K=DM(b.buttons),ae=dH(K),he=Sa(K.length!==0,gH({buttons:K},f,i)),xe=mH(()=>Xe,AM(()=>ze,i.shared.providers,s),i.shared.getSink),_e={id:f,header:w,body:Z,footer:he,extraClasses:B,extraBehaviours:[qf.config({channel:`${P4}-${f}`,updateState:z,initialData:n})],extraStyles:{}},ze=uH(_e,xe,i),Ee=(()=>{const st=()=>{const Ot=ac.getBody(ze);return $t.getCurrent(Ot).getOr(Ot)},wt=()=>{cH(ze,S.get())};return{getId:ie(f),getRoot:ie(ze),getBody:()=>ac.getBody(ze),getFooter:()=>ac.getFooter(ze),getFormWrapper:st,toggleFullscreen:wt}})(),Xe=pH(Ee,s.redial,ae);return{dialog:ze,instanceApi:Xe}},hT=(n,s,i,f=!1,b)=>{const w=me("dialog"),S=me("dialog-label"),_=me("dialog-content"),B=n.internalDialog,z=on=>_3(Jt,on),Z=Mn(B.size),K=k3(Z.get()).toArray(),ae=(on,mo)=>(Z.set(mo.internalDialog.size),D3(mo.internalDialog.size,on),b(),F.some(mo)),he=gr(bJ({title:B.title,draggable:!0},w,S,i.shared.providers)),xe=gr(hJ({body:B.body,initialData:B.initialData},w,_,i,f,z)),_e=DM(B.buttons),ze=dH(_e),Ee=Sa(_e.length!==0,gr(SJ({buttons:_e},w,i))),Xe=mH(()=>rn,{onBlock:on=>{tn.block(Ot,(mo,to)=>{const ys=he.getOpt(Ot).map(ho=>bi(ho.element));return TM(on.message,to,i.shared.providers,ys)})},onUnblock:()=>{tn.unblock(Ot)},onClose:()=>s.closeWindow()},i.shared.getSink),st="tox-dialog-inline",wt=Ua().os,Ot=E({dom:{tag:"div",classes:["tox-dialog",st,...K],attributes:{role:"dialog",...wt.isMacOS()?{"aria-label":B.title}:{"aria-labelledby":S}}},eventOrder:{[Fh()]:[qf.name(),md.name()],[Ls()]:["execute-on-form"],[Lc()]:["reflecting","execute-on-form"]},behaviours:a([lo.config({mode:"cyclic",onEscape:on=>(fs(on,i2),F.some(!0)),useTabstopAt:on=>!UE(on)&&(vd(on)!=="button"||ea(on,"disabled")!=="disabled"),firstTabstop:1}),qf.config({channel:`${P4}-${w}`,updateState:ae,initialData:n}),et.config({}),fe("execute-on-form",Xe.concat([t0(ec(),(on,mo)=>{lo.focusIn(on)}),Mt($h(),(on,mo)=>{on.getSystem().broadcastOn([wv],{newFocus:mo.event.newFocus})})])),tn.config({getRoot:()=>F.some(Ot)}),jo.config({}),N4({})]),components:[he.asSpec(),xe.asSpec(),...Ee.map(on=>on.asSpec()).toArray()]}),kn=()=>{cH(Ot,Z.get())},Jt={getId:ie(w),getRoot:ie(Ot),getFooter:()=>Ee.map(on=>on.get(Ot)),getBody:()=>xe.get(Ot),getFormWrapper:()=>{const on=xe.get(Ot);return $t.getCurrent(on).getOr(on)},toggleFullscreen:kn},rn=pH(Jt,s.redial,ze);return{dialog:Ot,instanceApi:rn}};var _M=tinymce.util.Tools.resolve("tinymce.util.URI");const AJ=n=>{const s=S=>{n.getSystem().isConnected()&&S(n)};return{block:S=>{if(!I(S))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(_=>{so(_,oR,{message:S})})},unblock:()=>{s(S=>{fs(S,_4)})},close:()=>{s(S=>{fs(S,i2)})},sendMessage:S=>{s(_=>{_.getSystem().broadcastOn([Ro],S)})}}},kJ=["insertContent","setContent","execCommand","close","block","unblock"],bH=n=>U(n)&&kJ.indexOf(n.mceAction)!==-1,DJ=n=>!bH(n)&&U(n)&&ts(n,"mceAction"),_J=(n,s,i)=>{switch(i.mceAction){case"insertContent":n.insertContent(i.content);break;case"setContent":n.setContent(i.content);break;case"execCommand":const f=ue(i.ui)?i.ui:!1;n.execCommand(i.cmd,f,i.value);break;case"close":s.close();break;case"block":s.block(i.message);break;case"unblock":s.unblock();break}},yH=(n,s,i,f)=>{const b=me("dialog"),w=iH(n.title,b,f),S=Q9(n),_=n.buttons.bind(st=>st.length===0?F.none():F.some(gH({buttons:st},b,f))),B=vJ(()=>Xe,AM(()=>Ee,f.shared.providers,s)),z={...n.height.fold(()=>({}),st=>({height:st+"px","max-height":st+"px"})),...n.width.fold(()=>({}),st=>({width:st+"px","max-width":st+"px"}))},Z=n.width.isNone()&&n.height.isNone()?["tox-dialog--width-lg"]:[],K=new _M(n.url,{base_uri:new _M(window.location.href)}),ae=`${K.protocol}://${K.host}${K.port?":"+K.port:""}`,he=Ir(),xe=(st,wt)=>F.some(wt),_e=[qf.config({channel:`${P4}-${b}`,updateState:xe,initialData:n}),fe("messages",[Lr(()=>{const st=$s(mn.fromDom(window),"message",wt=>{if(K.isSameOrigin(new _M(wt.raw.origin))){const Ot=wt.raw.data;bH(Ot)?_J(i,Xe,Ot):DJ(Ot)&&n.onMessage(Xe,Ot)}});he.set(st)}),hf(he.clear)]),md.config({channels:{[Ro]:{onReceive:(st,wt)=>{ur(st.element,"iframe").each(Ot=>{const kn=Ot.dom.contentWindow;Fe(kn)&&kn.postMessage(wt,ae)})}}}})],Ee=uH({id:b,header:w,body:S,footer:_,extraClasses:Z,extraBehaviours:_e,extraStyles:z},B,f),Xe=AJ(Ee);return{dialog:Ee,instanceApi:Xe}},OJ=n=>{const s=n.shared;return{open:(f,b)=>{const w=()=>{ac.hide(z),b()},S=gr(GE({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:F.some("primary"),align:"end",enabled:!0,icon:F.none()},"cancel",n)),_=tH(),B=eH(w,s.providers),z=E(EM({lazySink:()=>s.getSink(),header:J9(_,B),body:nH(f,s.providers),footer:F.some(A3(oH([],[S.asSpec()]))),onEscape:w,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Mt(ty,w)],eventOrder:{}}));ac.show(z);const Z=S.get(z);et.focus(Z)}}},NJ=n=>{const s=n.shared;return{open:(f,b)=>{const w=ae=>{ac.hide(Z),b(ae)},S=gr(GE({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:F.some("primary"),align:"end",enabled:!0,icon:F.none()},"submit",n)),_=GE({context:"any",name:"no",text:"No",primary:!1,buttonType:F.some("secondary"),align:"end",enabled:!0,icon:F.none()},"cancel",n),B=tH(),z=eH(()=>w(!1),s.providers),Z=E(EM({lazySink:()=>s.getSink(),header:J9(B,z),body:nH(f,s.providers),footer:F.some(A3(oH([],[_,S.asSpec()]))),onEscape:()=>w(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Mt(ty,()=>w(!1)),Mt(VE,()=>w(!0))],eventOrder:{}}));ac.show(Z);const K=S.get(Z);et.focus(K)}}},vH=(n,s)=>Ju(ga("data",s,n)),xH=n=>Pm(n,".tox-alert-dialog")||Pm(n,".tox-confirm-dialog"),RJ=(n,s,i,f)=>s&&i?[]:[Ja.config({contextual:{lazyContext:()=>F.some(_i(mn.fromDom(n.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition",onHide:f},modes:["top"],lazyViewport:b=>Wb(n,b.element).map(S=>({bounds:Ux(S),optScrollEnv:F.some({currentScrollTop:S.element.dom.scrollTop,scrollElmTop:Bl(S.element).top})})).getOrThunk(()=>({bounds:bc(),optScrollEnv:F.none()}))})],OM=n=>{const s=n.editor,i=Vw(s),f=OJ(n.backstages.dialog),b=NJ(n.backstages.dialog),w=(xe,_e,ze)=>{if(!Ce(_e)){if(_e.inline==="toolbar")return z(xe,n.backstages.popup.shared.anchors.inlineDialog(),ze,_e);if(_e.inline==="bottom")return Z(xe,n.backstages.popup.shared.anchors.inlineBottomDialog(),ze,_e);if(_e.inline==="cursor")return z(xe,n.backstages.popup.shared.anchors.cursor(),ze,_e)}return B(xe,ze)},S=(xe,_e)=>_(xe,_e),_=(xe,_e)=>{const ze=Ee=>{const Xe=yH(Ee,{closeWindow:()=>{ac.hide(Xe.dialog),_e(Xe.instanceApi)}},s,n.backstages.dialog);return ac.show(Xe.dialog),Xe.instanceApi};return t2.openUrl(ze,xe)},B=(xe,_e)=>{const ze=(Ee,Xe,st)=>{const wt=Xe,kn=TJ({dataValidator:st,initialData:wt,internalDialog:Ee},{redial:t2.redial,closeWindow:()=>{ac.hide(kn.dialog),_e(kn.instanceApi)}},n.backstages.dialog);return ac.show(kn.dialog),kn.instanceApi.setData(wt),kn.instanceApi};return t2.open(ze,xe)},z=(xe,_e,ze,Ee)=>{const Xe=(st,wt,Ot)=>{const kn=vH(wt,Ot),Jt=Co(),rn=n.backstages.popup.shared.header.isPositionedAtTop(),on={dataValidator:Ot,initialData:kn,internalDialog:st},mo=()=>Jt.on(Yt=>{hi.reposition(Yt),(!i||!rn)&&Ja.refresh(Yt)}),to=hT(on,{redial:t2.redial,closeWindow:()=>{Jt.on(hi.hide),s.off("ResizeEditor",mo),s.off("ScrollWindow",ys),Jt.clear(),ze(to.instanceApi)}},n.backstages.popup,Ee.ariaAttrs,mo),ys=()=>to.dialog.getSystem().broadcastOn([pl()],{target:to.dialog.element}),ho=()=>to.dialog.getSystem().broadcastOn([Jm()],{target:to.dialog.element}),Vo=E(hi.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Ee.persistent?{event:"doNotDismissYet"}:{},...rn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:a([fe("window-manager-inline-events",[Mt(mm(),(Yt,vn)=>{fs(to.dialog,ty)})]),...RJ(s,i,rn,ho)]),isExtraPart:(Yt,vn)=>xH(vn)}));Jt.set(Vo);const no=()=>{const Yt=s.inline?Ml():mn.fromDom(s.getContainer()),vn=_i(Yt);return F.some(vn)};return hi.showWithinBounds(Vo,D(to.dialog),{anchor:_e},no),(!i||!rn)&&(Ja.refresh(Vo),s.on("ResizeEditor",mo)),s.on("ScrollWindow",ys),to.instanceApi.setData(kn),lo.focusIn(to.dialog),to.instanceApi};return t2.open(Xe,xe)},Z=(xe,_e,ze,Ee)=>{const Xe=(st,wt,Ot)=>{const kn=vH(wt,Ot),Jt=Co(),rn=n.backstages.popup.shared.header.isPositionedAtTop(),on={dataValidator:Ot,initialData:kn,internalDialog:st},mo=()=>Jt.on(Vo=>{hi.reposition(Vo),Ja.refresh(Vo)}),to=hT(on,{redial:t2.redial,closeWindow:()=>{Jt.on(hi.hide),s.off("ResizeEditor ScrollWindow ElementScroll",mo),Jt.clear(),ze(to.instanceApi)}},n.backstages.popup,Ee.ariaAttrs,mo),ys=E(hi.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Ee.persistent?{event:"doNotDismissYet"}:{},...rn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:a([fe("window-manager-inline-events",[Mt(mm(),(Vo,no)=>{fs(to.dialog,ty)})]),Ja.config({contextual:{lazyContext:()=>F.some(_i(mn.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:Vo=>Wb(s,Vo.element).map(Yt=>({bounds:Ux(Yt),optScrollEnv:F.some({currentScrollTop:Yt.element.dom.scrollTop,scrollElmTop:Bl(Yt.element).top})})).getOrThunk(()=>({bounds:bc(),optScrollEnv:F.none()}))})]),isExtraPart:(Vo,no)=>xH(no)}));Jt.set(ys);const ho=()=>n.backstages.popup.shared.getSink().toOptional().bind(Vo=>{const no=Wb(s,Vo.element),Yt=15,vn=no.map(ao=>Ux(ao)).getOr(bc()),To=_i(mn.fromDom(s.getContentAreaContainer())),Ko=Im(To,vn);return F.some(Pi(Ko.x,Ko.y,Ko.width,Ko.height-Yt))});return hi.showWithinBounds(ys,D(to.dialog),{anchor:_e},ho),Ja.refresh(ys),s.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",mo),to.instanceApi.setData(kn),lo.focusIn(to.dialog),to.instanceApi};return t2.open(Xe,xe)};return{open:w,openUrl:S,alert:(xe,_e)=>{f.open(xe,_e)},close:xe=>{xe.close()},confirm:(xe,_e)=>{b.open(xe,_e)}}},wH=n=>{qL(n),o7(n),HQ(n)};var MJ=()=>{WL.add("silver",n=>{wH(n);let s=()=>bc();const{dialogs:i,popups:f,renderUI:b}=lJ(n,{getPopupSinkBounds:()=>s()}),w=()=>{const Z=b();return Wb(n,f.getMothership().element).each(ae=>{s=()=>Ux(ae)}),Z};YG.register(n,f.backstage.shared);const S=OM({editor:n,backstages:{popup:f.backstage,dialog:i.backstage}}),_=Co(),B=()=>oW(n,{backstage:f.backstage},f.getMothership(),_),z=()=>ur(mn.fromDom(n.getContainer()),".tox-promotion").map(Z=>Z.dom).getOrNull();return{renderUI:w,getWindowManagerImpl:ie(S),getNotificationManagerImpl:B,getPromotionElement:z}})};MJ()})()),Fre}var Ire;function txe(){return Ire||(Ire=1,exe()),Pre}txe();var Hre={},zre={},jre;function nxe(){return jre||(jre=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.ModelManager");const u=(m,y,E)=>E(m,y.prototype)?!0:m.constructor?.name===y.name,p=m=>{const y=typeof m;return m===null?"null":y==="object"&&Array.isArray(m)?"array":y==="object"&&u(m,String,(E,D)=>D.isPrototypeOf(E))?"string":y},x=m=>y=>p(y)===m,A=m=>y=>typeof y===m,R=m=>y=>m===y,O=x("string"),I=x("object"),U=x("array"),V=R(null),Y=A("boolean"),ee=R(void 0),ue=m=>m==null,Ce=m=>!ue(m),pe=A("function"),Fe=A("number"),be=()=>{},lt=(m,y)=>(...E)=>m(y.apply(null,E)),Oe=(m,y)=>E=>m(y(E)),J=m=>()=>m,it=m=>m,jt=(m,y)=>m===y;function Ke(m,...y){return(...E)=>{const D=y.concat(E);return m.apply(null,D)}}const ie=m=>y=>!m(y),ut=m=>()=>{throw new Error(m)},xn=m=>m(),fn=J(!1),qe=J(!0);class Re{tag;value;static singletonNone=new Re(!1);constructor(y,E){this.tag=y,this.value=E}static some(y){return new Re(!0,y)}static none(){return Re.singletonNone}fold(y,E){return this.tag?E(this.value):y()}isSome(){return this.tag}isNone(){return!this.tag}map(y){return this.tag?Re.some(y(this.value)):Re.none()}bind(y){return this.tag?y(this.value):Re.none()}exists(y){return this.tag&&y(this.value)}forall(y){return!this.tag||y(this.value)}filter(y){return!this.tag||y(this.value)?this:Re.none()}getOr(y){return this.tag?this.value:y}or(y){return this.tag?this:y}getOrThunk(y){return this.tag?this.value:y()}orThunk(y){return this.tag?this:y()}getOrDie(y){if(this.tag)return this.value;throw new Error(y??"Called getOrDie on None")}static from(y){return Ce(y)?Re.some(y):Re.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(y){this.tag&&y(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Qo=Array.prototype.slice,vt=Array.prototype.indexOf,Lt=Array.prototype.push,F=(m,y)=>vt.call(m,y),Vt=(m,y)=>F(m,y)>-1,at=(m,y)=>{for(let E=0,D=m.length;E<D;E++){const H=m[E];if(y(H,E))return!0}return!1},Jn=(m,y)=>{const E=[];for(let D=0;D<m;D++)E.push(y(D));return E},an=(m,y)=>{const E=m.length,D=new Array(E);for(let H=0;H<E;H++){const q=m[H];D[H]=y(q,H)}return D},le=(m,y)=>{for(let E=0,D=m.length;E<D;E++){const H=m[E];y(H,E)}},Ve=(m,y)=>{for(let E=m.length-1;E>=0;E--){const D=m[E];y(D,E)}},It=(m,y)=>{const E=[],D=[];for(let H=0,q=m.length;H<q;H++){const ne=m[H];(y(ne,H)?E:D).push(ne)}return{pass:E,fail:D}},Ne=(m,y)=>{const E=[];for(let D=0,H=m.length;D<H;D++){const q=m[D];y(q,D)&&E.push(q)}return E},mt=(m,y,E)=>(Ve(m,(D,H)=>{E=y(E,D,H)}),E),He=(m,y,E)=>(le(m,(D,H)=>{E=y(E,D,H)}),E),ft=(m,y,E)=>{for(let D=0,H=m.length;D<H;D++){const q=m[D];if(y(q,D))return Re.some(q);if(E(q,D))break}return Re.none()},X=(m,y)=>ft(m,y,fn),$o=(m,y)=>{for(let E=0,D=m.length;E<D;E++){const H=m[E];if(y(H,E))return Re.some(E)}return Re.none()},xo=m=>{const y=[];for(let E=0,D=m.length;E<D;++E){if(!U(m[E]))throw new Error("Arr.flatten item "+E+" was not an array, input: "+m);Lt.apply(y,m[E])}return y},Mo=(m,y)=>xo(an(m,y)),Ho=(m,y)=>{for(let E=0,D=m.length;E<D;++E){const H=m[E];if(y(H,E)!==!0)return!1}return!0},js=m=>{const y=Qo.call(m,0);return y.reverse(),y},Be=(m,y)=>{const E={};for(let D=0,H=m.length;D<H;D++){const q=m[D];E[String(q)]=y(q,D)}return E},Ye=(m,y)=>{const E=Qo.call(m,0);return E.sort(y),E},tt=(m,y)=>y>=0&&y<m.length?Re.some(m[y]):Re.none(),Le=m=>tt(m,0),Je=m=>tt(m,m.length-1),Nt=(m,y)=>{for(let E=0;E<m.length;E++){const D=y(m[E],E);if(D.isSome())return D}return Re.none()},xt=Object.keys,Un=Object.hasOwnProperty,Dt=(m,y)=>{const E=xt(m);for(let D=0,H=E.length;D<H;D++){const q=E[D],ne=m[q];y(ne,q)}},Pe=(m,y)=>Tt(m,(E,D)=>({k:D,v:y(E,D)})),Tt=(m,y)=>{const E={};return Dt(m,(D,H)=>{const q=y(D,H);E[q.k]=q.v}),E},sn=m=>(y,E)=>{m[E]=y},Zn=(m,y,E,D)=>{Dt(m,(H,q)=>{(y(H,q)?E:D)(H,q)})},Yo=(m,y)=>{const E={};return Zn(m,y,sn(E),be),E},Jo=(m,y)=>{const E=[];return Dt(m,(D,H)=>{E.push(y(D,H))}),E},Do=m=>Jo(m,it),mr=(m,y)=>zo(m,y)?Re.from(m[y]):Re.none(),zo=(m,y)=>Un.call(m,y),os=(m,y)=>zo(m,y)&&m[y]!==void 0&&m[y]!==null,Vs=m=>{for(const y in m)if(Un.call(m,y))return!1;return!0},Xs={generate:m=>{if(!U(m))throw new Error("cases must be an array");if(m.length===0)throw new Error("there must be at least one case");const y=[],E={};return le(m,(D,H)=>{const q=xt(D);if(q.length!==1)throw new Error("one and only one name per case");const ne=q[0],de=D[ne];if(E[ne]!==void 0)throw new Error("duplicate key detected:"+ne);if(ne==="cata")throw new Error("cannot have a case named cata (sorry)");if(!U(de))throw new Error("case arguments must be an array");y.push(ne),E[ne]=(...Se)=>{const We=Se.length;if(We!==de.length)throw new Error("Wrong number of arguments to case "+ne+". Expected "+de.length+" ("+de+"), got "+We);return{fold:(...tn)=>{if(tn.length!==m.length)throw new Error("Wrong number of arguments to fold. Expected "+m.length+", got "+tn.length);return tn[H].apply(null,Se)},match:tn=>{const Fn=xt(tn);if(y.length!==Fn.length)throw new Error("Wrong number of arguments to match. Expected: "+y.join(",")+`
Actual: `+Fn.join(","));if(!Ho(y,ro=>Vt(Fn,ro)))throw new Error("Not all branches were specified when using match. Specified: "+Fn.join(", ")+`
Required: `+y.join(", "));return tn[ne].apply(null,Se)},log:tn=>{console.log(tn,{constructors:y,constructor:ne,params:Se})}}}}),E}},gs=m=>{let y=m;return{get:()=>y,set:H=>{y=H}}},Wr=m=>m.slice(0).sort(),Ts=(m,y)=>{throw new Error("All required keys ("+Wr(m).join(", ")+") were not specified. Specified keys were: "+Wr(y).join(", ")+".")},$r=m=>{throw new Error("Unsupported keys for object: "+Wr(m).join(", "))},Ma=(m,y)=>{if(!U(y))throw new Error("The "+m+" fields must be an array. Was: "+y+".");le(y,E=>{if(!O(E))throw new Error("The value "+E+" in the "+m+" fields was not a string.")})},Hn=(m,y)=>{throw new Error("All values need to be of type: "+y+". Keys ("+Wr(m).join(", ")+") were not.")},ts=m=>{const y=Wr(m);X(y,(D,H)=>H<y.length-1&&D===y[H+1]).each(D=>{throw new Error("The field: "+D+" occurs more than once in the combined fields: ["+y.join(", ")+"].")})},Oo=(m,y)=>ui(m,y,{validate:pe,label:"function"}),ui=(m,y,E)=>{if(y.length===0)throw new Error("You must specify at least one required field.");return Ma("required",y),ts(y),D=>{const H=xt(D);Ho(y,de=>Vt(H,de))||Ts(y,H),m(y,H);const ne=Ne(y,de=>!E.validate(D[de],de));return ne.length>0&&Hn(ne,E.label),D}},Ba=(m,y)=>{const E=Ne(y,D=>!Vt(m,D));E.length>0&&$r(E)},Mn=m=>Oo(Ba,m),Wt=m=>{const y=q=>q(m),E=J(m),D=()=>H,H={tag:!0,inner:m,fold:(q,ne)=>ne(m),isValue:qe,isError:fn,map:q=>Gn.value(q(m)),mapError:D,bind:y,exists:y,forall:y,getOr:E,or:D,getOrThunk:E,orThunk:D,getOrDie:E,each:q=>{q(m)},toOptional:()=>Re.some(m)};return H},Kt=m=>{const y=()=>E,E={tag:!1,inner:m,fold:(D,H)=>D(m),isValue:fn,isError:qe,map:y,mapError:D=>Gn.error(D(m)),bind:y,exists:fn,forall:qe,getOr:it,or:it,getOrThunk:xn,orThunk:xn,getOrDie:ut(String(m)),each:be,toOptional:Re.none};return E},Gn={value:Wt,error:Kt,fromOption:(m,y)=>m.fold(()=>Kt(y),Wt)},vo=typeof window<"u"?window:Function("return this;")(),No=m=>{const y=m.replace(/\./g,"-");return{resolve:D=>y+"-"+D}},Qn=(m,y,E=jt)=>m.exists(D=>E(D,y)),ls=m=>{const y=[],E=D=>{y.push(D)};for(let D=0;D<m.length;D++)m[D].each(E);return y},La=(m,y)=>m!=null?y(m):Re.none(),sl=(m,y)=>m?Re.some(y):Re.none(),gi=(m,y)=>{let E=y??vo;for(let D=0;D<m.length&&E!==void 0&&E!==null;++D)E=E[m[D]];return E},Pn=(m,y)=>{const E=m.split(".");return gi(E,y)},er=m=>{const y=gs(Re.none()),E=()=>y.get().each(m);return{clear:()=>{E(),y.set(Re.none())},isSet:()=>y.get().isSome(),get:()=>y.get(),set:de=>{E(),y.set(Re.some(de))}}},tr=()=>{const m=er(be);return{...m,on:E=>m.get().each(E)}},jl=(m,y)=>m.substring(y),Ie=(m,y,E)=>y===""||m.length>=y.length&&m.substr(E,E+y.length)===y,Ue=(m,y)=>gn(m,y)?jl(m,y.length):m,nt=(m,y,E=0,D)=>{const H=m.indexOf(y,E);return H!==-1?ee(D)?!0:H+y.length<=D:!1},gn=(m,y)=>Ie(m,y,0),Ao=(m,y)=>Ie(m,y,m.length-y.length),Zo=(m=>y=>y.replace(m,""))(/^\s+|\s+$/g),us=m=>m.length>0,ko=m=>{const y=parseFloat(m);return isNaN(y)?Re.none():Re.some(y)},Qs=(m,y)=>{let E=null;const D=()=>{V(E)||(clearTimeout(E),E=null)};return{cancel:D,throttle:(...q)=>{D(),E=setTimeout(()=>{E=null,m.apply(null,q)},y)}}},me=m=>{let y=!1,E;return(...D)=>(y||(y=!0,E=m.apply(null,D)),E)},je="",Ut=["tfoot","thead","tbody","colgroup"],wn=m=>Vt(Ut,m),Gt=(m,y)=>({rows:m,columns:y}),wo=(m,y)=>({row:m,column:y}),oo=(m,y,E)=>({element:m,rowspan:y,colspan:E}),Bn=(m,y,E,D)=>({element:m,rowspan:y,colspan:E,isNew:D}),Uo=(m,y,E,D,H,q)=>({element:m,rowspan:y,colspan:E,row:D,column:H,isLocked:q}),xs=(m,y,E)=>({element:m,cells:y,section:E}),As=(m,y,E,D)=>({element:m,cells:y,section:E,isNew:D}),ks=(m,y,E)=>({element:m,isNew:y,isLocked:E}),sa=(m,y,E,D)=>({element:m,cells:y,section:E,isNew:D}),Sa=(m,y,E,D)=>({startRow:m,startCol:y,finishRow:E,finishCol:D}),Qf=(m,y,E)=>({element:m,colspan:y,column:E}),Tr=(m,y)=>({element:m,columns:y}),Fs=(m,y,E)=>{const D=m.cells,H=D.slice(0,y),q=D.slice(y),ne=H.concat(E).concat(q);return Ci(m,ne)},ir=(m,y,E)=>Fs(m,y,[E]),Vi=(m,y,E)=>{const D=m.cells;D[y]=E},Ci=(m,y)=>sa(m.element,y,m.section,m.isNew),Ir=(m,y)=>{const E=m.cells,D=an(E,y);return sa(m.element,D,m.section,m.isNew)},Co=(m,y)=>m.cells[y],Si=(m,y)=>Co(m,y).element,oi=m=>m.cells.length,Jr=m=>{const y=It(m,E=>E.section==="colgroup");return{rows:y.fail,cols:y.pass}},Sf=(m,y,E)=>{const D=an(m.cells,E);return sa(y(m.element),D,m.section,!0)},uc=(m,y)=>{const D=(y||document).createElement("div");if(D.innerHTML=m,!D.hasChildNodes()||D.childNodes.length>1){const H="HTML does not have a single root node";throw console.error(H,m),new Error(H)}return dc(D.childNodes[0])},Hr=(m,y)=>{const D=(y||document).createElement(m);return dc(D)},Cu=(m,y)=>{const D=(y||document).createTextNode(m);return dc(D)},dc=m=>{if(m==null)throw new Error("Node cannot be null or undefined");return{dom:m}},An={fromHtml:uc,fromTag:Hr,fromText:Cu,fromDom:dc,fromPoint:(m,y,E)=>Re.from(m.dom.elementFromPoint(y,E)).map(dc)},Su=(m,y)=>{const E=m.document.createRange();return E.selectNode(y.dom),E},Ri=(m,y)=>{const E=m.document.createRange();return pi(E,y),E},pi=(m,y)=>m.selectNodeContents(y.dom),qr=(m,y)=>{y.fold(E=>{m.setStartBefore(E.dom)},(E,D)=>{m.setStart(E.dom,D)},E=>{m.setStartAfter(E.dom)})},Kd=(m,y)=>{y.fold(E=>{m.setEndBefore(E.dom)},(E,D)=>{m.setEnd(E.dom,D)},E=>{m.setEndAfter(E.dom)})},Ei=(m,y,E)=>{const D=m.document.createRange();return qr(D,y),Kd(D,E),D},rl=(m,y,E,D,H)=>{const q=m.document.createRange();return q.setStart(y.dom,E),q.setEnd(D.dom,H),q},Tf=m=>({left:m.left,top:m.top,right:m.right,bottom:m.bottom,width:m.width,height:m.height}),Jf=m=>{const y=m.getClientRects(),E=y.length>0?y[0]:m.getBoundingClientRect();return E.width>0||E.height>0?Re.some(E).map(Tf):Re.none()},Eu=Xs.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Yd=(m,y,E)=>y(An.fromDom(E.startContainer),E.startOffset,An.fromDom(E.endContainer),E.endOffset),Dl=(m,y)=>y.match({domRange:E=>({ltr:J(E),rtl:Re.none}),relative:(E,D)=>({ltr:me(()=>Ei(m,E,D)),rtl:me(()=>Re.some(Ei(m,D,E)))}),exact:(E,D,H,q)=>({ltr:me(()=>rl(m,E,D,H,q)),rtl:me(()=>Re.some(rl(m,H,q,E,D)))})}),Wc=(m,y)=>{const E=y.ltr();return E.collapsed?y.rtl().filter(H=>H.collapsed===!1).map(H=>Eu.rtl(An.fromDom(H.endContainer),H.endOffset,An.fromDom(H.startContainer),H.startOffset)).getOrThunk(()=>Yd(m,Eu.ltr,E)):Yd(m,Eu.ltr,E)},qc=(m,y)=>{const E=Dl(m,y);return Wc(m,E)},mn=(m,y)=>qc(m,y).match({ltr:(D,H,q,ne)=>{const de=m.document.createRange();return de.setStart(D.dom,H),de.setEnd(q.dom,ne),de},rtl:(D,H,q,ne)=>{const de=m.document.createRange();return de.setStart(q.dom,ne),de.setEnd(D.dom,H),de}});Eu.ltr,Eu.rtl;const Tu=8,yd=9,Vl=11,al=1,Uu=3,Ui=(m,y)=>{const E=m.dom;if(E.nodeType!==al)return!1;{const D=E;if(D.matches!==void 0)return D.matches(y);if(D.msMatchesSelector!==void 0)return D.msMatchesSelector(y);if(D.webkitMatchesSelector!==void 0)return D.webkitMatchesSelector(y);if(D.mozMatchesSelector!==void 0)return D.mozMatchesSelector(y);throw new Error("Browser lacks native selectors")}},si=m=>m.nodeType!==al&&m.nodeType!==yd&&m.nodeType!==Vl||m.childElementCount===0,_l=(m,y)=>{const E=y===void 0?document:y.dom;return si(E)?[]:an(E.querySelectorAll(m),An.fromDom)},fc=(m,y)=>{const E=y===void 0?document:y.dom;return si(E)?Re.none():Re.from(E.querySelector(m)).map(An.fromDom)},qs=(m,y)=>m.dom===y.dom,Af=(m,y)=>{const E=m.dom,D=y.dom;return E===D?!1:E.contains(D)},te=Ui,ve=(m,y,E,D)=>{const H=m.isiOS()&&/ipad/i.test(E)===!0,q=m.isiOS()&&!H,ne=m.isiOS()||m.isAndroid(),de=ne||D("(pointer:coarse)"),Se=H||!q&&ne&&D("(min-device-width:768px)"),We=q||ne&&!Se,pt=y.isSafari()&&m.isiOS()&&/safari/i.test(E)===!1,tn=!We&&!Se&&!pt;return{isiPad:J(H),isiPhone:J(q),isTablet:J(Se),isPhone:J(We),isTouch:J(de),isAndroid:m.isAndroid,isiOS:m.isiOS,isWebView:J(pt),isDesktop:J(tn)}},$e=(m,y)=>{for(let E=0;E<m.length;E++){const D=m[E];if(D.test(y))return D}},Rt=(m,y)=>{const E=$e(m,y);if(!E)return{major:0,minor:0};const D=H=>Number(y.replace(E,"$"+H));return lr(D(1),D(2))},qn=(m,y)=>{const E=String(y).toLowerCase();return m.length===0?ps():Rt(m,E)},ps=()=>lr(0,0),lr=(m,y)=>({major:m,minor:y}),Va={nu:lr,detect:qn,unknown:ps},Ti=(m,y)=>Nt(y.brands,E=>{const D=E.brand.toLowerCase();return X(m,H=>D===H.brand?.toLowerCase()).map(H=>({current:H.name,version:Va.nu(parseInt(E.version,10),0)}))}),Ol=(m,y)=>{const E=String(y).toLowerCase();return X(m,D=>D.search(E))},oe=(m,y)=>Ol(m,y).map(E=>{const D=Va.detect(E.versionRegexes,y);return{current:E.name,version:D}}),Ae=(m,y)=>Ol(m,y).map(E=>{const D=Va.detect(E.versionRegexes,y);return{current:E.name,version:D}}),Qe=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Et=m=>y=>nt(y,m),pn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:m=>nt(m,"edge/")&&nt(m,"chrome")&&nt(m,"safari")&&nt(m,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Qe],search:m=>nt(m,"chrome")&&!nt(m,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:m=>nt(m,"msie")||nt(m,"trident")},{name:"Opera",versionRegexes:[Qe,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Et("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Et("firefox")},{name:"Safari",versionRegexes:[Qe,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:m=>(nt(m,"safari")||nt(m,"mobile/"))&&nt(m,"applewebkit")}],Wn=[{name:"Windows",search:Et("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:m=>nt(m,"iphone")||nt(m,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Et("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Et("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Et("linux"),versionRegexes:[]},{name:"Solaris",search:Et("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Et("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Et("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Po={browsers:J(pn),oses:J(Wn)},Gs="Edge",Os="Chromium",Mi="IE",Ea="Opera",Xd="Firefox",Om="Safari",kf=()=>Gc({current:void 0,version:Va.unknown()}),Gc=m=>{const y=m.current,E=m.version,D=H=>()=>y===H;return{current:y,version:E,isEdge:D(Gs),isChromium:D(Os),isIE:D(Mi),isOpera:D(Ea),isFirefox:D(Xd),isSafari:D(Om)}},R0={unknown:kf,nu:Gc},M0="Windows",ye="iOS",Me="Android",ht="Linux",Xt="macOS",bo="Solaris",bs="FreeBSD",Ta="ChromeOS",il=()=>Zi({current:void 0,version:Va.unknown()}),Zi=m=>{const y=m.current,E=m.version,D=H=>()=>y===H;return{current:y,version:E,isWindows:D(M0),isiOS:D(ye),isAndroid:D(Me),isMacOS:D(Xt),isLinux:D(ht),isSolaris:D(bo),isFreeBSD:D(bs),isChromeOS:D(Ta)}},Ul={unknown:il,nu:Zi},Zl={detect:(m,y,E)=>{const D=Po.browsers(),H=Po.oses(),q=y.bind(Se=>Ti(D,Se)).orThunk(()=>oe(D,m)).fold(R0.unknown,R0.nu),ne=Ae(H,m).fold(Ul.unknown,Ul.nu),de=ve(ne,q,m,E);return{browser:q,os:ne,deviceType:de}}},Nm=m=>window.matchMedia(m).matches;let Wl=me(()=>Zl.detect(window.navigator.userAgent,Re.from(window.navigator.userAgentData),Nm));const ll=()=>Wl(),Jd=(m,y)=>Pn(m,y),_c=(m,y)=>{const E=Jd(m,y);if(E==null)throw new Error(m+" not available on this browser");return E},ds=Object.getPrototypeOf,vh=m=>_c("HTMLElement",m),pp=m=>{const y=Pn("ownerDocument.defaultView",m);return I(m)&&(vh(y).prototype.isPrototypeOf(m)||/^HTML\w*Element$/.test(ds(m).constructor.name))},Aa=m=>m.dom.nodeName.toLowerCase(),B0=m=>m.dom.nodeType,V1=m=>y=>B0(y)===m,U1=m=>B0(m)===Tu||Aa(m)==="#comment",Z1=m=>Ua(m)&&pp(m.dom),Ua=V1(al),em=V1(Uu),W1=V1(yd),ln=V1(Vl),Kc=m=>y=>Ua(y)&&Aa(y)===m,bg=m=>An.fromDom(m.dom.ownerDocument),vd=m=>W1(m)?m:bg(m),yg=m=>An.fromDom(vd(m).dom.documentElement),q1=m=>An.fromDom(vd(m).dom.defaultView),De=m=>Re.from(m.dom.parentNode).map(An.fromDom),Yc=m=>Re.from(m.dom.parentElement).map(An.fromDom),vl=(m,y)=>{const E=pe(y)?y:fn;let D=m.dom;const H=[];for(;D.parentNode!==null&&D.parentNode!==void 0;){const q=D.parentNode,ne=An.fromDom(q);if(H.push(ne),E(ne)===!0)break;D=q}return H},xh=m=>Re.from(m.dom.previousSibling).map(An.fromDom),wh=m=>Re.from(m.dom.nextSibling).map(An.fromDom),Nl=m=>an(m.dom.childNodes,An.fromDom),Oc=(m,y)=>{const E=m.dom.childNodes;return Re.from(E[y]).map(An.fromDom)},L0=m=>Oc(m,0),bp=(m,y,E,D)=>{const q=bg(m).dom.createRange();return q.setStart(m.dom,y),q.setEnd(E.dom,D),q},yp=(m,y,E,D)=>{const H=bp(m,y,E,D),q=qs(m,E)&&y===D;return H.collapsed&&!q},xl=m=>ln(m)&&Ce(m.dom.host),vp=m=>An.fromDom(m.dom.getRootNode()),Au=m=>xl(m)?m:An.fromDom(vd(m).dom.body),Ch=m=>{const y=vp(m);return xl(y)?Re.some(y):Re.none()},P0=m=>An.fromDom(m.dom.host),wl=m=>{if(Ce(m.target)){const y=An.fromDom(m.target);if(Ua(y)&&Rm(y)&&m.composed&&m.composedPath){const E=m.composedPath();if(E)return Le(E)}}return Re.from(m.target)},Rm=m=>Ce(m.dom.shadowRoot),Zu=(m,y,E,D,H,q,ne)=>({target:m,x:y,y:E,stop:D,prevent:H,kill:q,raw:ne}),tm=m=>{const y=An.fromDom(wl(m).getOr(m.target)),E=()=>m.stopPropagation(),D=()=>m.preventDefault(),H=lt(D,E);return Zu(y,m.clientX,m.clientY,E,D,H,m)},ss=(m,y)=>E=>{m(E)&&y(tm(E))},mc=(m,y,E,D,H)=>{const q=ss(E,D);return m.dom.addEventListener(y,q,H),{unbind:Ke(G1,m,y,q,H)}},Sh=(m,y,E,D)=>mc(m,y,E,D,!1),G1=(m,y,E,D)=>{m.dom.removeEventListener(y,E,D)},rs=qe,nm=(m,y,E)=>Sh(m,y,rs,E),Ai=tm,xd=(m,y)=>{De(m).each(D=>{D.dom.insertBefore(y.dom,m.dom)})},wd=(m,y)=>{wh(m).fold(()=>{De(m).each(H=>{ws(H,y)})},D=>{xd(D,y)})},fa=(m,y)=>{L0(m).fold(()=>{ws(m,y)},D=>{m.dom.insertBefore(y.dom,D.dom)})},ws=(m,y)=>{m.dom.appendChild(y.dom)},F0=(m,y,E)=>{Oc(m,E).fold(()=>{ws(m,y)},D=>{xd(D,y)})},Cd=(m,y)=>{xd(m,y),ws(y,m)},Pa=(m,y)=>{le(y,(E,D)=>{const H=D===0?m:y[D-1];wd(H,E)})},ku=(m,y)=>{le(y,E=>{ws(m,E)})},Xc=(m,y,E)=>{if(O(E)||Y(E)||Fe(E))m.setAttribute(y,E+"");else throw console.error("Invalid call to Attribute.set. Key ",y,":: Value ",E,":: Element ",m),new Error("Attribute value was not simple")},ri=(m,y,E)=>{Xc(m.dom,y,E)},Wu=(m,y)=>{const E=m.dom;Dt(y,(D,H)=>{Xc(E,H,D)})},Wi=(m,y)=>{Dt(y,(E,D)=>{E.fold(()=>{$s(m,D)},H=>{Xc(m.dom,D,H)})})},Qc=(m,y)=>{const E=m.dom.getAttribute(y);return E===null?void 0:E},cl=(m,y)=>Re.from(Qc(m,y)),$s=(m,y)=>{m.dom.removeAttribute(y)},qu=m=>He(m.dom.attributes,(y,E)=>(y[E.name]=E.value,y),{}),Za=m=>{m.dom.textContent="",le(Nl(m),y=>{qi(y)})},qi=m=>{const y=m.dom;y.parentNode!==null&&y.parentNode.removeChild(y)},Fa=m=>{const y=Nl(m);y.length>0&&Pa(m,y),qi(m)},ma=(m,y)=>An.fromDom(m.dom.cloneNode(y)),Jc=m=>ma(m,!1),ai=m=>ma(m,!0),ii=(m,y)=>{const E=An.fromTag(y),D=qu(m);return Wu(E,D),E},om=(m,y)=>{const E=ii(m,y),D=Nl(ai(m));return ku(E,D),E},xp=(m,y)=>{const E=ii(m,y);wd(m,E);const D=Nl(m);return ku(E,D),qi(m),E},wp=(m,y)=>{const D=document.createElement("div");return D.innerHTML=m,Nl(An.fromDom(D))},ra=m=>an(m,An.fromDom),Mm=m=>m.dom.innerHTML,Eh=m=>{const y=An.fromTag("div"),E=An.fromDom(m.dom.cloneNode(!0));return ws(y,E),Mm(y)},Df=m=>m.style!==void 0&&pe(m.style.getPropertyValue),uo=m=>{const y=em(m)?m.dom.parentNode:m.dom;if(y==null||y.ownerDocument===null)return!1;const E=y.ownerDocument;return Ch(An.fromDom(y)).fold(()=>E.body.contains(y),Oe(uo,P0))},Du=m=>{const y=m.dom.body;if(y==null)throw new Error("Body is not available yet");return An.fromDom(y)},ea=(m,y,E)=>{if(!O(E))throw console.error("Invalid call to CSS.set. Property ",y,":: Value ",E,":: Element ",m),new Error("CSS value must be a string: "+E);Df(m)&&m.style.setProperty(y,E)},li=(m,y)=>{Df(m)&&m.style.removeProperty(y)},$a=(m,y,E)=>{const D=m.dom;ea(D,y,E)},cr=(m,y)=>{const E=m.dom;Dt(y,(D,H)=>{ea(E,H,D)})},Nc=(m,y)=>{const E=m.dom,H=window.getComputedStyle(E).getPropertyValue(y);return H===""&&!uo(m)?Cp(E,y):H},Cp=(m,y)=>Df(m)?m.style.getPropertyValue(y):"",eu=(m,y)=>{const E=m.dom,D=Cp(E,y);return Re.from(D).filter(H=>H.length>0)},Gu=(m,y)=>{const E=m.dom;li(E,y),Qn(cl(m,"style").map(Zo),"")&&$s(m,"style")},vg=(m,y)=>{const E=m.dom,D=y.dom;Df(E)&&Df(D)&&(D.style.cssText=E.style.cssText)},Cl=(m,y)=>{const E=(de,Se)=>{if(!Fe(Se)&&!Se.match(/^[0-9]+$/))throw new Error(m+".set accepts only positive integer values. Value was "+Se);const We=de.dom;Df(We)&&(We.style[m]=Se+"px")},D=de=>{const Se=y(de);if(Se<=0||Se===null){const We=Nc(de,m);return parseFloat(We)||0}return Se},H=D,q=(de,Se)=>He(Se,(We,pt)=>{const tn=Nc(de,pt),Fn=tn===void 0?0:parseInt(tn,10);return isNaN(Fn)?We:We+Fn},0);return{set:E,get:D,getOuter:H,aggregate:q,max:(de,Se,We)=>{const pt=q(de,We);return Se>pt?Se-pt:0}}},Ia=(m,y)=>ko(m).getOr(y),Js=(m,y,E)=>Ia(Nc(m,y),E),Rl=(m,y,E,D)=>{const H=Js(m,`padding-${E}`,0),q=Js(m,`padding-${D}`,0),ne=Js(m,`border-${E}-width`,0),de=Js(m,`border-${D}-width`,0);return y-H-q-ne-de},_u=(m,y)=>{const E=m.dom,D=E.getBoundingClientRect().width||E.offsetWidth;return Rl(m,D,"left","right")},ul=m=>Js(m,"height",m.dom.offsetHeight),Sl=m=>Js(m,"width",m.dom.offsetWidth),ef=m=>_u(m),Is=Cl("height",m=>{const y=m.dom;return uo(m)?y.getBoundingClientRect().height:y.offsetHeight}),Ml=m=>Is.get(m),Bm=m=>Is.getOuter(m),Th=ul,hc=Cl("width",m=>{const y=m.dom;return uo(m)?y.getBoundingClientRect().width:y.offsetWidth}),So=m=>hc.get(m),Or=m=>hc.getOuter(m),Wa=ef,yr=Sl,dl=(m,y)=>({left:m,top:y,translate:(D,H)=>dl(m+D,y+H)}),Gr=dl,ci=m=>{const y=m.getBoundingClientRect();return Gr(y.left,y.top)},tf=(m,y)=>m!==void 0?m:y!==void 0?y:0,cs=m=>{const y=m.dom.ownerDocument,E=y.body,D=y.defaultView,H=y.documentElement;if(E===m.dom)return Gr(E.offsetLeft,E.offsetTop);const q=tf(D?.pageYOffset,H.scrollTop),ne=tf(D?.pageXOffset,H.scrollLeft),de=tf(H.clientTop,E.clientTop),Se=tf(H.clientLeft,E.clientLeft);return ql(m).translate(ne-Se,q-de)},ql=m=>{const y=m.dom,D=y.ownerDocument.body;return D===y?Gr(D.offsetLeft,D.offsetTop):uo(m)?ci(y):Gr(0,0)},Cs=m=>{const y=m!==void 0?m.dom:document,E=y.body.scrollLeft||y.documentElement.scrollLeft,D=y.body.scrollTop||y.documentElement.scrollTop;return Gr(E,D)},Gl=(m,y,E)=>{const H=(E!==void 0?E.dom:document).defaultView;H&&H.scrollBy(m,y)},ki=((m,y)=>{const E=q=>{if(!m(q))throw new Error("Can only get "+y+" value of a "+y+" node");return D(q).getOr("")},D=q=>m(q)?Re.from(q.dom.nodeValue):Re.none();return{get:E,getOption:D,set:(q,ne)=>{if(!m(q))throw new Error("Can only set raw "+y+" value of a "+y+" node");q.dom.nodeValue=ne}}})(em,"text"),_f=m=>ki.get(m),xg=m=>ki.getOption(m),qa=(m,y)=>ki.set(m,y),Of=(m,y)=>E=>Sd(E)==="rtl"?y:m,Sd=m=>Nc(m,"direction")==="rtl"?"rtl":"ltr",Bi=(m,y)=>{const E=Qc(m,y);return E===void 0||E===""?[]:E.split(" ")},nf=(m,y,E)=>{const H=Bi(m,y).concat([E]);return ri(m,y,H.join(" ")),!0},wg=(m,y,E)=>{const D=Ne(Bi(m,y),H=>H!==E);return D.length>0?ri(m,y,D.join(" ")):$s(m,y),!1};var Ku=(m,y,E,D,H)=>m(E,D)?Re.some(E):pe(H)&&H(E)?Re.none():y(E,D,H);const hr=(m,y,E)=>{let D=m.dom;const H=pe(E)?E:fn;for(;D.parentNode;){D=D.parentNode;const q=An.fromDom(D);if(y(q))return Re.some(q);if(H(q))break}return Re.none()},$0=(m,y,E)=>Ku((H,q)=>q(H),hr,m,y,E),Cg=(m,y)=>{const E=H=>y(An.fromDom(H));return X(m.dom.childNodes,E).map(An.fromDom)},Bl=(m,y)=>{const E=D=>{for(let H=0;H<D.childNodes.length;H++){const q=An.fromDom(D.childNodes[H]);if(y(q))return Re.some(q);const ne=E(D.childNodes[H]);if(ne.isSome())return ne}return Re.none()};return E(m.dom)},fl=(m,y,E)=>hr(m,D=>Ui(D,y),E),ka=(m,y)=>Cg(m,E=>Ui(E,y)),Ed=(m,y)=>fc(y,m),di=(m,y,E)=>Ku((H,q)=>Ui(H,q),fl,m,y,E),of=m=>m.dom.classList!==void 0,Sg=m=>Bi(m,"class"),Eg=(m,y)=>nf(m,"class",y),K1=(m,y)=>wg(m,"class",y),Td=(m,y)=>{of(m)?m.dom.classList.add(y):Eg(m,y)},fy=m=>{(of(m)?m.dom.classList:Sg(m)).length===0&&$s(m,"class")},sm=(m,y)=>{of(m)?m.dom.classList.remove(y):K1(m,y),fy(m)},gc=(m,y)=>of(m)&&m.dom.classList.contains(y),Y1=(m,y)=>{le(y,E=>{sm(m,E)})},Ah=m=>di(m,"[contenteditable]"),Nf=(m,y=!1)=>uo(m)?m.dom.isContentEditable:Ah(m).fold(J(y),E=>rm(E)==="true"),rm=m=>m.dom.contentEditable,Tg=m=>y=>{Td(y,m)},Ag=m=>y=>{Y1(y,m)},tu=(m,y,E)=>Ne(vl(m,E),y),my=(m,y)=>Ne(Nl(m),y),Ou=(m,y)=>{let E=[];return le(Nl(m),D=>{y(D)&&(E=E.concat([D])),E=E.concat(Ou(D,y))}),E},ur=(m,y,E)=>tu(m,D=>Ui(D,y),E),yi=(m,y)=>my(m,E=>Ui(E,y)),Ad=(m,y)=>_l(y,m),Sp=(m,y,E,D)=>({parent:m,children:y,element:E,index:D}),nu=m=>De(m).bind(y=>{const E=Nl(y);return Rf(E,m).map(D=>Sp(y,E,m,D))}),Rf=(m,y)=>$o(m,Ke(qs,y)),kg=(m,y,E)=>hr(m,y,E).isSome(),kd=m=>Aa(m)==="img"?1:xg(m).fold(()=>Nl(m).length,y=>y.length),Dd=m=>xg(m).filter(y=>y.trim().length!==0||y.indexOf(je)>-1).isSome(),nr=m=>Z1(m)&&Qc(m,"contenteditable")==="false",Dg=["img","br"],ha=m=>Dd(m)||Vt(Dg,Aa(m))||nr(m),kh=m=>Bl(m,ha),Da=m=>Yu(m,ha),Yu=(m,y)=>{const E=D=>{const H=Nl(D);for(let q=H.length-1;q>=0;q--){const ne=H[q];if(y(ne))return Re.some(ne);const de=E(ne);if(de.isSome())return de}return Re.none()};return E(m)},sf={create:(m,y,E,D)=>({start:m,soffset:y,finish:E,foffset:D})},_g=Xs.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),ou=(m,y,E,D)=>m.fold(y,E,D),Nu=m=>m.fold(it,it,it),Lm=_g.before,pc=_g.on,_d=_g.after,aa={before:Lm,on:pc,after:_d,cata:ou,getStart:Nu},ta=Xs.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Di=m=>ta.exact(m.start,m.soffset,m.finish,m.foffset),Pm=m=>m.match({domRange:y=>An.fromDom(y.startContainer),relative:(y,E)=>aa.getStart(y),exact:(y,E,D,H)=>y}),Od=ta.domRange,or=ta.relative,Cr=ta.exact,Ll=m=>{const y=Pm(m);return q1(y)},P=sf.create,j={domRange:Od,relative:or,exact:Cr,exactFromRange:Di,getWin:Ll,range:P},re=(m,y,E)=>Re.from(m.caretPositionFromPoint?.(y,E)).bind(D=>{if(D.offsetNode===null)return Re.none();const H=m.createRange();return H.setStart(D.offsetNode,D.offset),H.collapse(),Re.some(H)}),we=(m,y,E)=>Re.from(m.caretRangeFromPoint?.(y,E)),Ge=(m,y,E)=>m.caretPositionFromPoint?re(m,y,E):m.caretRangeFromPoint?we(m,y,E):Re.none(),kt=(m,y,E)=>{const D=m.document;return Ge(D,y,E).map(H=>sf.create(An.fromDom(H.startContainer),H.startOffset,An.fromDom(H.endContainer),H.endOffset))},Cn=(m,y)=>{const E=Aa(m);return E==="input"?aa.after(m):Vt(["br","img"],E)?y===0?aa.before(m):aa.after(m):aa.on(m,y)},_n=(m,y)=>{const E=m.fold(aa.before,Cn,aa.after),D=y.fold(aa.before,Cn,aa.after);return j.relative(E,D)},Fo=(m,y,E,D)=>{const H=Cn(m,y),q=Cn(E,D);return j.relative(H,q)},as=m=>Re.from(m.getSelection()),Br=(m,y)=>{as(m).each(E=>{E.removeAllRanges(),E.addRange(y)})},ia=(m,y,E,D,H)=>{const q=rl(m,y,E,D,H);Br(m,q)},vi=(m,y,E,D,H,q)=>{y.collapse(E.dom,D),y.extend(H.dom,q)},Rc=(m,y)=>qc(m,y).match({ltr:(E,D,H,q)=>{ia(m,E,D,H,q)},rtl:(E,D,H,q)=>{as(m).each(ne=>{if(ne.setBaseAndExtent)ne.setBaseAndExtent(E.dom,D,H.dom,q);else if(ne.extend)try{vi(m,ne,E,D,H,q)}catch{ia(m,H,q,E,D)}else ia(m,H,q,E,D)})}}),Xu=(m,y,E,D,H)=>{const q=Fo(y,E,D,H);Rc(m,q)},rf=(m,y,E)=>{const D=_n(y,E);Rc(m,D)},fi=m=>{if(m.rangeCount>0){const y=m.getRangeAt(0),E=m.getRangeAt(m.rangeCount-1);return Re.some(sf.create(An.fromDom(y.startContainer),y.startOffset,An.fromDom(E.endContainer),E.endOffset))}else return Re.none()},Li=m=>{if(m.anchorNode===null||m.focusNode===null)return fi(m);{const y=An.fromDom(m.anchorNode),E=An.fromDom(m.focusNode);return yp(y,m.anchorOffset,E,m.focusOffset)?Re.some(sf.create(y,m.anchorOffset,E,m.focusOffset)):fi(m)}},am=(m,y,E=!0)=>{const H=(E?Ri:Su)(m,y);Br(m,H)},im=m=>as(m).filter(y=>y.rangeCount>0).bind(Li),Fm=m=>im(m).map(y=>j.exact(y.start,y.soffset,y.finish,y.foffset)),Dh=(m,y)=>{const E=mn(m,y);return Jf(E)},Ru=(m,y,E)=>kt(m,y,E),_h=m=>{as(m).each(y=>y.removeAllRanges())},X1={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Q1=(()=>{const m="[0-9]+",E="[eE]"+("[+-]?"+m),D="\\.",H=de=>`(?:${de})?`,ne=`[+-]?(?:${["Infinity",m+D+H(m)+H(E),D+m+H(E),m+H(E)].join("|")})`;return new RegExp(`^(${ne})(.*)$`)})(),Hs=(m,y)=>at(y,E=>at(X1[E],D=>m===D)),Ha=(m,y)=>Re.from(Q1.exec(m)).bind(D=>{const H=Number(D[1]),q=D[2];return Hs(q,y)?Re.some({value:H,unit:q}):Re.none()}),Ga=m=>an(m,J(0)),Pl=(m,y,E,D,H)=>H(m.slice(0,y)).concat(D).concat(H(m.slice(E))),Ep=m=>(y,E,D,H)=>{if(m(D)){const q=Math.max(H,y[E]-Math.abs(D)),ne=Math.abs(q-y[E]);return D>=0?ne:-ne}else return D},Og=Ep(m=>m<0),Ng=Ep(qe),Tp=()=>{const m=(de,Se,We,pt,tn)=>{const Fn=Og(de,Se,pt,tn);return Pl(de,Se,We+1,[Fn,0],Ga)},y=(de,Se,We,pt)=>{const tn=(100+We)/100,Fn=Math.max(pt,(de[Se]+We)/tn);return an(de,(Rn,ro)=>(ro===Se?Fn:Rn/tn)-Rn)},E=(de,Se,We,pt,tn,Fn)=>Fn?y(de,Se,pt,tn):m(de,Se,We,pt,tn);return{resizeTable:(de,Se)=>de(Se),clampTableDelta:Og,calcLeftEdgeDeltas:E,calcMiddleDeltas:(de,Se,We,pt,tn,Fn,Rn)=>E(de,We,pt,tn,Fn,Rn),calcRightEdgeDeltas:(de,Se,We,pt,tn,Fn)=>{if(Fn)return y(de,We,pt,tn);{const Rn=Og(de,We,pt,tn);return Ga(de.slice(0,We)).concat([Rn])}},calcRedestributedWidths:(de,Se,We,pt)=>{if(pt){const Fn=(Se+We)/Se,Rn=an(de,ro=>ro/Fn);return{delta:Fn*100-100,newSizes:Rn}}else return{delta:We,newSizes:de}}}},S2=()=>{const m=(ne,de,Se,We,pt)=>{const tn=We>=0?Se:de,Fn=Ng(ne,tn,We,pt);return Pl(ne,de,Se+1,[Fn,-Fn],Ga)};return{resizeTable:(ne,de,Se)=>{Se&&ne(de)},clampTableDelta:(ne,de,Se,We,pt)=>{if(pt){if(Se>=0)return Se;{const tn=He(ne,(Fn,Rn)=>Fn+Rn-We,0);return Math.max(-tn,Se)}}else return Og(ne,de,Se,We)},calcLeftEdgeDeltas:m,calcMiddleDeltas:(ne,de,Se,We,pt,tn)=>m(ne,Se,We,pt,tn),calcRightEdgeDeltas:(ne,de,Se,We,pt,tn)=>{if(tn)return Ga(ne);{const Fn=We/ne.length;return an(ne,J(Fn))}},calcRedestributedWidths:(ne,de,Se,We)=>({delta:0,newSizes:ne})}},$m=(m,y,E=0)=>cl(m,y).map(D=>parseInt(D,10)).getOr(E),I0=(m,y)=>$m(m,y,1),Oh=m=>Kc("col")(m)?$m(m,"span",1)>1:I0(m,"colspan")>1,Mv=m=>I0(m,"rowspan")>1,Pi=(m,y)=>parseInt(Nc(m,y),10),_i=J(10),Nh=J(10),Im=(m,y)=>hy(m,y,qe),hy=(m,y,E)=>Mo(Nl(m),D=>Ui(D,y)?E(D)?[D]:[]:hy(D,y,E)),bc=(m,y,E=fn)=>{if(E(y))return Re.none();if(Vt(m,Aa(y)))return Re.some(y);const D=H=>Ui(H,"table")||E(H);return fl(y,m.join(","),D)},gy=(m,y)=>bc(["td","th"],m,y),af=m=>Im(m,"th,td"),J1=m=>Ui(m,"colgroup")?yi(m,"col"):Mo(Mu(m),y=>yi(y,"col")),su=(m,y)=>di(m,"table",y),H0=m=>Im(m,"tr"),Mu=m=>su(m).fold(J([]),y=>yi(y,"colgroup")),Ka=Kc("th"),py=m=>Ho(m,y=>Ka(y.element)),Ap=(m,y)=>m&&y?"sectionCells":m?"section":"cells",Bv=m=>{const y=m.section==="thead",E=Qn(by(m.cells),"th");return m.section==="tfoot"?{type:"footer"}:y||E?{type:"header",subType:Ap(y,E)}:{type:"body"}},by=m=>{const y=Ne(m,E=>Ka(E.element));return y.length===0?Re.some("td"):y.length===m.length?Re.some("th"):Re.none()},Lv=m=>{const y=an(m,H=>Bv(H).type),E=Vt(y,"header"),D=Vt(y,"footer");if(!E&&!D)return Re.some("body");{const H=Vt(y,"body");return E&&!H&&!D?Re.some("header"):!E&&!H&&D?Re.some("footer"):Re.none()}},Pv=m=>Nt(m.all,y=>{const E=Bv(y);return E.type==="header"?Re.from(E.subType):Re.none()}),z0=(m,y)=>an(m,E=>{if(Aa(E)==="colgroup"){const D=an(J1(E),H=>{const q=$m(H,"span",1);return oo(H,1,q)});return xs(E,D,"colgroup")}else{const D=an(af(E),H=>{const q=$m(H,"rowspan",1),ne=$m(H,"colspan",1);return oo(H,q,ne)});return xs(E,D,y(E))}}),kp=m=>De(m).map(y=>{const E=Aa(y);return wn(E)?E:"tbody"}).getOr("tbody"),eb=m=>{const y=H0(m),D=[...Mu(m),...y];return z0(D,kp)},Sn=(m,y)=>z0(m,()=>y),ru="data-snooker-locked-cols",E2=m=>cl(m,ru).bind(y=>Re.from(y.match(/\d+/g))).map(y=>Be(y,qe)),au=m=>{const y=He(Jr(m).rows,(D,H)=>(le(H.cells,(q,ne)=>{q.isLocked&&(D[ne]=!0)}),D),{}),E=Jo(y,(D,H)=>parseInt(H,10));return Ye(E)},Qu=(m,y)=>m+","+y,tb=(m,y,E)=>Re.from(m.access[Qu(y,E)]),T2=(m,y,E)=>{const D=Hm(m,H=>E(y,H.element));return D.length>0?Re.some(D[0]):Re.none()},Hm=(m,y)=>{const E=Mo(m.all,D=>D.cells);return Ne(E,y)},A2=m=>{const y={};let E=0;return le(m.cells,D=>{const H=D.colspan;Jn(H,q=>{const ne=E+q;y[ne]=Qf(D.element,H,ne)}),E+=H}),y},iu=m=>{const y={},E=[],H=Le(m).map(Rn=>Rn.element).bind(su).bind(E2).getOr({});let q=0,ne=0,de=0;const{pass:Se,fail:We}=It(m,Rn=>Rn.section==="colgroup");le(We,Rn=>{const ro=[];le(Rn.cells,$t=>{let nn=0;for(;y[Qu(de,nn)]!==void 0;)nn++;const Eo=os(H,nn.toString()),Xo=Uo($t.element,$t.rowspan,$t.colspan,de,nn,Eo);for(let Kn=0;Kn<$t.colspan;Kn++)for(let Sr=0;Sr<$t.rowspan;Sr++){const Er=de+Sr,Wo=nn+Kn,el=Qu(Er,Wo);y[el]=Xo,ne=Math.max(ne,Wo+1)}ro.push(Xo)}),q++,E.push(xs(Rn.element,ro,Rn.section)),de++});const{columns:pt,colgroups:tn}=Je(Se).map(Rn=>{const ro=A2(Rn);return{colgroups:[Tr(Rn.element,Do(ro))],columns:ro}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Gt(q,ne),access:y,all:E,columns:pt,colgroups:tn}},ns={fromTable:m=>{const y=eb(m);return iu(y)},generate:iu,getAt:tb,findItem:T2,filterItems:Hm,justCells:m=>Mo(m.all,y=>y.cells),justColumns:m=>Do(m.columns),hasColumns:m=>xt(m.columns).length>0,getColumnAt:(m,y)=>Re.from(m.columns[y])},zm=(m,y,E)=>ks(E(m.element,y),!0,m.isLocked),_p=(m,y)=>m.section!==y?sa(m.element,m.cells,y,m.isNew):m,la=()=>({transformRow:_p,transformCell:(m,y,E)=>{const D=E(m.element,y),H=Aa(D)!=="td"?xp(D,"td"):D;return ks(H,m.isNew,m.isLocked)}}),Nd=()=>({transformRow:_p,transformCell:zm}),Op=()=>({transformRow:(m,y)=>_p(m,y==="thead"?"tbody":y),transformCell:zm}),lm={getTableSectionType:(m,y)=>{const E=ns.fromTable(m);switch(Pv(E).getOr(y)){case"section":return la();case"sectionCells":return Nd();case"cells":return Op()}},section:la,sectionCells:Nd,cells:Op,fallback:()=>({transformRow:it,transformCell:zm})},Np=(m,y=qe)=>{const E=m.grid,D=Jn(E.columns,it),H=Jn(E.rows,it);return an(D,q=>yy(()=>Mo(H,We=>ns.getAt(m,We,q).filter(pt=>pt.column===q).toArray()),We=>We.colspan===1&&y(We.element),()=>ns.getAt(m,0,q)))},yy=(m,y,E)=>{const D=m();return X(D,y).orThunk(()=>Re.from(D[0]).orThunk(E)).map(ne=>ne.element)},Rh=m=>{const y=m.grid,E=Jn(y.rows,it),D=Jn(y.columns,it);return an(E,H=>yy(()=>Mo(D,Se=>ns.getAt(m,H,Se).filter(We=>We.row===H).fold(J([]),We=>[We])),Se=>Se.rowspan===1,()=>ns.getAt(m,H,0)))},Rd=(m,y)=>{if(y<0||y>=m.length-1)return Re.none();const E=m[y].fold(()=>{const H=js(m.slice(0,y));return Nt(H,(q,ne)=>q.map(de=>({value:de,delta:ne+1})))},H=>Re.some({value:H,delta:0})),D=m[y+1].fold(()=>{const H=m.slice(y+1);return Nt(H,(q,ne)=>q.map(de=>({value:de,delta:ne+1})))},H=>Re.some({value:H,delta:1}));return E.bind(H=>D.map(q=>{const ne=q.delta+H.delta;return Math.abs(q.value-H.value)/ne}))},j0=(m,y)=>({row:m,y}),V0=(m,y)=>({col:m,x:y}),vy=m=>cs(m).left+Or(m),xy=m=>cs(m).left,Rp=(m,y)=>V0(m,xy(y)),wy=(m,y)=>V0(m,vy(y)),nb=m=>cs(m).top,zC=(m,y)=>j0(m,nb(y)),Fv=(m,y)=>j0(m,nb(y)+Bm(y)),Tl=(m,y,E)=>{if(E.length===0)return[];const D=an(E.slice(1),(q,ne)=>q.map(de=>m(ne,de))),H=E[E.length-1].map(q=>y(E.length-1,q));return D.concat([H])},lu=m=>-m,U0={delta:it,positions:m=>Tl(zC,Fv,m),edge:nb},fo=Of({delta:it,edge:xy,positions:m=>Tl(Rp,wy,m)},{delta:lu,edge:vy,positions:m=>Tl(wy,Rp,m)}),_a={delta:(m,y)=>fo(y).delta(m,y),positions:(m,y)=>fo(y).positions(m,y),edge:m=>fo(m).edge(m)},Mp=/(\d+(\.\d+)?)%/,ob=/(\d+(\.\d+)?)px|em/,Rg=Kc("col"),Z0=Kc("tr"),W0=(m,y,E)=>{const D=Yc(m).getOrThunk(()=>Du(bg(m)));return y(m)/E(D)*100},Mh=(m,y)=>{$a(m,"width",y+"px")},$v=(m,y)=>{$a(m,"width",y+"%")},cm=(m,y)=>{$a(m,"height",y+"px")},Iv=m=>{Gu(m,"height")},sb=m=>Th(m)+"px",ga=(m,y,E,D)=>{const H=su(m).map(q=>{const ne=E(q);return Math.floor(y/100*ne)}).getOr(y);return D(m,H),H},Ju=(m,y,E,D)=>{const H=parseFloat(m);return Ao(m,"%")&&Aa(y)!=="table"?ga(y,H,E,D):H},Mc=m=>{const y=sb(m);return y?Ju(y,m,Ml,cm):Ml(m)},Mg=(m,y,E)=>{const D=E(m),H=I0(m,y);return D/H},Kl=(m,y)=>eu(m,y).orThunk(()=>cl(m,y).map(E=>E+"px")),Bh=m=>Kl(m,"width"),ml=m=>Kl(m,"height"),yc=m=>W0(m,So,Wa),rb=m=>Rg(m)?Math.round(So(m)):yr(m),qt=m=>Z0(m)?Ml(m):Mg(m,"rowspan",Mc),Bc=m=>Bh(m).bind(E=>Ha(E,["fixed","relative","empty"])),ab=(m,y,E)=>{$a(m,"width",y+E)},Ya=m=>So(m)+"px",Yl=m=>Ml(m)+"px",cu=m=>W0(m,So,Wa)+"%",D2=m=>Bh(m).exists(y=>Mp.test(y)),cf=m=>Bh(m).exists(y=>ob.test(y)),q0=m=>Bh(m).isNone(),Ar=J(Mp),vr=Kc("col"),um=m=>Bh(m).getOrThunk(()=>rb(m)+"px"),Bp=m=>ml(m).getOrThunk(()=>qt(m)+"px"),pa=m=>an(ns.justColumns(m),y=>Re.from(y.element)),jm=m=>{const y=ll().browser,E=y.isChromium()||y.isFirefox();return vr(m)?E:!0},Cy=(m,y,E,D,H,q)=>m.filter(D).fold(()=>q(Rd(E,y)),ne=>H(ne)),uf=(m,y,E,D)=>{const H=Np(m),q=ns.hasColumns(m)?pa(m):H,ne=[Re.some(_a.edge(y))].concat(an(_a.positions(H,y),Se=>Se.map(We=>We.x))),de=ie(Oh);return an(q,(Se,We)=>Cy(Se,We,ne,de,pt=>{if(jm(pt))return E(pt);{const tn=La(H[We],it);return Cy(tn,We,ne,de,Fn=>D(Re.some(Math.round(So(Fn)))),D)}},D))},Bg=m=>m.map(y=>y+"px").getOr(""),$i=(m,y)=>uf(m,y,um,Bg),_2=(m,y,E)=>uf(m,y,yc,D=>D.fold(()=>E.minCellWidth(),H=>H/E.pixelWidth()*100)),bt=(m,y,E)=>uf(m,y,rb,D=>D.getOrThunk(E.minCellWidth)),ed=(m,y,E,D)=>{const H=Rh(m),q=an(m.all,de=>Re.some(de.element)),ne=[Re.some(U0.edge(y))].concat(an(U0.positions(H,y),de=>de.map(Se=>Se.y)));return an(q,(de,Se)=>Cy(de,Se,ne,qe,E,D))},Lp=(m,y)=>ed(m,y,qt,E=>E.getOrThunk(Nh)),Oa=(m,y)=>ed(m,y,Bp,Bg),Xl=(m,y)=>()=>uo(m)?y(m):parseFloat(eu(m,"width").getOr("0")),Gi=m=>{const y=Xl(m,So),E=J(0);return{width:y,pixelWidth:y,getWidths:(H,q)=>bt(H,m,q),getCellDelta:E,singleColumnWidth:J([0]),minCellWidth:E,setElementWidth:be,adjustTableWidth:be,isRelative:!0,label:"none"}},dr=m=>{const y=Xl(m,Se=>parseFloat(cu(Se))),E=Xl(m,So);return{width:y,pixelWidth:E,getWidths:(Se,We)=>_2(Se,m,We),getCellDelta:Se=>Se/E()*100,singleColumnWidth:(Se,We)=>[100-Se],minCellWidth:()=>_i()/E()*100,setElementWidth:$v,adjustTableWidth:Se=>{const We=y(),pt=Se/100*We,tn=We+pt;$v(m,tn)},isRelative:!0,label:"percent"}},Fl=m=>{const y=Xl(m,So);return{width:y,pixelWidth:y,getWidths:(ne,de)=>bt(ne,m,de),getCellDelta:it,singleColumnWidth:(ne,de)=>[Math.max(_i(),ne+de)-ne],minCellWidth:_i,setElementWidth:Mh,adjustTableWidth:ne=>{const de=y()+ne;Mh(m,de)},isRelative:!1,label:"pixel"}},Vm=(m,y)=>Ar().exec(y)!==null?dr(m):Fl(m),hl={getTableSize:m=>Bh(m).fold(()=>Gi(m),E=>Vm(m,E)),pixelSize:Fl,percentageSize:dr,noneSize:Gi},ib=(m,y,E,D)=>{E===D?$s(m,y):ri(m,y,E)},Sy=(m,y,E)=>{Je(yi(m,y)).fold(()=>fa(m,E),D=>wd(D,E))},Ey=(m,y)=>{const E=ka(m,y).getOrThunk(()=>{const D=An.fromTag(y,bg(m).dom);return y==="thead"?Sy(m,"caption,colgroup",D):y==="colgroup"?Sy(m,"caption",D):ws(m,D),D});return Za(E),E},za=(m,y)=>{const E=[],D=[],H=Rn=>an(Rn,ro=>{ro.isNew&&E.push(ro.element);const $t=ro.element;return Za($t),le(ro.cells,nn=>{nn.isNew&&D.push(nn.element),ib(nn.element,"colspan",nn.colspan,1),ib(nn.element,"rowspan",nn.rowspan,1),ws($t,nn.element)}),$t}),q=Rn=>Mo(Rn,ro=>an(ro.cells,$t=>(ib($t.element,"span",$t.colspan,1),$t.element))),ne=(Rn,ro)=>{const $t=Ey(m,ro),Eo=(ro==="colgroup"?q:H)(Rn);ku($t,Eo)},de=Rn=>{ka(m,Rn).each(qi)},Se=(Rn,ro)=>{Rn.length>0?ne(Rn,ro):de(ro)},We=[],pt=[],tn=[],Fn=[];return le(y,Rn=>{switch(Rn.section){case"thead":We.push(Rn);break;case"tbody":pt.push(Rn);break;case"tfoot":tn.push(Rn);break;case"colgroup":Fn.push(Rn);break}}),Se(Fn,"colgroup"),Se(We,"thead"),Se(pt,"tbody"),Se(tn,"tfoot"),{newRows:E,newCells:D}},vc=m=>an(m,y=>{const E=Jc(y.element);return le(y.cells,D=>{const H=ai(D.element);ib(H,"colspan",D.colspan,1),ib(H,"rowspan",D.rowspan,1),ws(E,H)}),E}),Um=(m,y)=>an(m,E=>Co(E,y)),Ty=(m,y)=>m[y],O2=(m,y)=>{if(m.length===0)return 0;const E=m[0];return $o(m,H=>!y(E.element,H.element)).getOr(m.length)},Ql=(m,y,E,D)=>{const H=Ty(m,y),q=H.section==="colgroup",ne=O2(H.cells.slice(E),D),de=q?1:O2(Um(m.slice(y),E),D);return{colspan:ne,rowspan:de}},td=(m,y)=>{const E=an(m,H=>an(H.cells,fn)),D=(H,q,ne,de)=>{for(let Se=H;Se<H+ne;Se++)for(let We=q;We<q+de;We++)E[Se][We]=!0};return an(m,(H,q)=>{const ne=Mo(H.cells,(de,Se)=>{if(E[q][Se]===!1){const We=Ql(m,q,Se,y);return D(q,Se,We.rowspan,We.colspan),[Bn(de.element,We.rowspan,We.colspan,de.isNew)]}else return[]});return As(H.element,ne,H.section,H.isNew)})},Xa=(m,y,E)=>{const D=[];le(m.colgroups,H=>{const q=[];for(let ne=0;ne<m.grid.columns;ne++){const de=ns.getColumnAt(m,ne).map(Se=>ks(Se.element,E,!1)).getOrThunk(()=>ks(y.colGap(),!0,!1));q.push(de)}D.push(sa(H.element,q,"colgroup",E))});for(let H=0;H<m.grid.rows;H++){const q=[];for(let Se=0;Se<m.grid.columns;Se++){const We=ns.getAt(m,H,Se).map(pt=>ks(pt.element,E,pt.isLocked)).getOrThunk(()=>ks(y.gap(),!0,!1));q.push(We)}const ne=m.all[H],de=sa(ne.element,q,ne.section,E);D.push(de)}return D},$l=(m,y)=>Xa(m,y,!1),nd=m=>td(m,qs),uu=(m,y)=>Nt(m.all,E=>X(E.cells,D=>qs(y,D.element))),xc=(m,y,E)=>{const D=an(y.selection,q=>gy(q).bind(ne=>uu(m,ne)).filter(E)),H=ls(D);return sl(H.length>0,H)},Ii=(m,y,E,D,H,q,ne,de,Se)=>{const We=ns.fromTable(q),pt=Re.from(Se?.section).getOrThunk(lm.fallback);return y(We,ne).map(Fn=>{const Rn=$l(We,de),ro=m(Rn,Fn,qs,H(de),pt),$t=au(ro.grid),nn=nd(ro.grid);return{info:Fn,grid:nn,cursor:ro.cursor,lockedColumns:$t}}).bind(Fn=>{const Rn=za(q,Fn.grid),ro=Re.from(Se?.sizing).getOrThunk(()=>hl.getTableSize(q)),$t=Re.from(Se?.resize).getOrThunk(S2);return E(q,Fn.grid,Fn.info,{sizing:ro,resize:$t,section:pt}),D(q),$s(q,ru),Fn.lockedColumns.length>0&&ri(q,ru,Fn.lockedColumns.join(",")),Re.some({cursor:Fn.cursor,newRows:Rn.newRows,newCells:Rn.newCells})})},Mf=(m,y)=>gy(y.element).bind(E=>uu(m,E).map(D=>({...D,generators:y.generators,clipboard:y.clipboard}))),Jl=(m,y)=>xc(m,y,qe).map(E=>({cells:E,generators:y.generators,clipboard:y.clipboard})),ec=(m,y)=>y.mergable,lb=(m,y)=>y.unmergable,Ki=(m,y)=>xc(m,y,qe),Pu=(m,y)=>xc(m,y,E=>!E.isLocked),Bf=(m,y)=>uu(m,y).exists(E=>!E.isLocked),Lf=(m,y)=>Ho(y,E=>Bf(m,E)),dm=(m,y)=>ec(m,y).filter(E=>Lf(m,E.cells)),cb=(m,y)=>lb(m,y).filter(E=>Lf(m,E)),Zm={...Xs.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},G0=(m,y)=>m.length===0?Zm.none():m.length===1?Zm.only(0):y===0?Zm.left(0,1):y===m.length-1?Zm.right(y-1,y):y>0&&y<m.length-1?Zm.middle(y-1,y,y+1):Zm.none(),kr=(m,y,E,D,H)=>{const q=m.slice(0),ne=G0(m,y),de=J(an(q,J(0))),Se=Fn=>D.singleColumnWidth(q[Fn],E),We=(Fn,Rn)=>H.calcLeftEdgeDeltas(q,Fn,Rn,E,D.minCellWidth(),D.isRelative),pt=(Fn,Rn,ro)=>H.calcMiddleDeltas(q,Fn,Rn,ro,E,D.minCellWidth(),D.isRelative),tn=(Fn,Rn)=>H.calcRightEdgeDeltas(q,Fn,Rn,E,D.minCellWidth(),D.isRelative);return ne.fold(de,Se,We,pt,tn)},Hv=(m,y,E)=>{let D=0;for(let H=m;H<y;H++)D+=E[H]!==void 0?E[H]:0;return D},Pf=(m,y)=>{const E=ns.justCells(m);return an(E,D=>{const H=Hv(D.column,D.column+D.colspan,y);return{element:D.element,width:H,colspan:D.colspan}})},Pp=(m,y)=>{const E=ns.justColumns(m);return an(E,(D,H)=>({element:D.element,width:y[H],colspan:D.colspan}))},Ay=(m,y)=>an(m.all,(E,D)=>({element:E.element,height:y[D]})),Fh=m=>mt(m,(y,E)=>y+E,0),Ls=(m,y)=>ns.hasColumns(m)?Pp(m,y):Pf(m,y),ba=(m,y,E)=>{const D=Ls(m,y);le(D,H=>{E.setElementWidth(H.element,H.width)})},xr=(m,y,E,D,H)=>{const q=ns.fromTable(m),ne=H.getCellDelta(y),de=H.getWidths(q,H),Se=E===q.grid.columns-1,We=D.clampTableDelta(de,E,ne,H.minCellWidth(),Se),pt=kr(de,E,We,H,D),tn=an(pt,(Fn,Rn)=>Fn+de[Rn]);ba(q,tn,H),D.resizeTable(H.adjustTableWidth,We,Se)},Nr=(m,y,E)=>{const D=ns.fromTable(m),H=Lp(D,m),q=an(H,(Se,We)=>E===We?Math.max(y+Se,Nh()):Se),ne=Ay(D,q);le(ne,Se=>{cm(Se.element,Se.height)}),le(ns.justCells(D),Se=>{Iv(Se.element)});const de=Fh(q);cm(m,de)},Na=(m,y,E,D,H)=>{const q=ns.generate(y),ne=D.getWidths(q,D),de=D.pixelWidth(),{newSizes:Se,delta:We}=H.calcRedestributedWidths(ne,de,E.pixelDelta,D.isRelative);ba(q,Se,D),D.adjustTableWidth(We)},Fu=(m,y,E,D)=>{const H=ns.generate(y),q=D.getWidths(H,D);ba(H,q,D)},Ff=(m,y)=>{Oh(m)||Bc(m).each(D=>{const H=D.value/2;ab(m,H,D.unit),ab(y,H,D.unit)})},Fp=(m,y,E)=>{const D=$m(m,y,1);E===1||D<=1?$s(m,y):ri(m,y,Math.min(E,D))},ub=(m,y)=>E=>{const D=E.column+E.colspan-1,H=E.column;return D>=m&&H<y},fm=(m,y,E)=>{if(ns.hasColumns(m)){const D=Ne(ns.justColumns(m),ub(y,E)),H=an(D,ne=>{const de=ai(ne.element);return Fp(de,"span",E-y),de}),q=An.fromTag("colgroup");return ku(q,H),[q]}else return[]},xi=(m,y,E)=>an(m.all,D=>{const H=Ne(D.cells,ub(y,E)),q=an(H,de=>{const Se=ai(de.element);return Fp(Se,"colspan",E-y),Se}),ne=An.fromTag("tr");return ku(ne,q),ne}),Lc=(m,y)=>{const E=ns.fromTable(m);return Pu(E,y).map(H=>{const q=H[H.length-1],ne=H[0].column,de=q.column+q.colspan,Se=fm(E,ne,de),We=xi(E,ne,de);return[...Se,...We]})},wc=(m,y,E)=>{const D=ns.fromTable(m);return Ki(D,y).bind(q=>{const ne=Xa(D,E,!1),Se=Jr(ne).rows.slice(q[0].row,q[q.length-1].row+q[q.length-1].rowspan),We=Mo(Se,tn=>{const Fn=Ne(tn.cells,Rn=>!Rn.isLocked);return Fn.length>0?[{...tn,cells:Fn}]:[]}),pt=nd(We);return sl(pt.length>0,pt)}).map(q=>vc(q))},mm=(m,y,E,D,H,q)=>({minRow:m,minCol:y,maxRow:E,maxCol:D,allCells:H,selectedCells:q}),Md=(m,y)=>{const E=m.grid.columns;let H=m.grid.rows,q=E,ne=0,de=0;const Se=[],We=[];return Dt(m.access,pt=>{if(Se.push(pt),y(pt)){We.push(pt);const tn=pt.row,Fn=tn+pt.rowspan-1,Rn=pt.column,ro=Rn+pt.colspan-1;tn<H?H=tn:Fn>ne&&(ne=Fn),Rn<q?q=Rn:ro>de&&(de=ro)}}),mm(H,q,ne,de,Se,We)},$h=(m,y,E)=>{const D=m[E].element,H=An.fromTag("td");ws(H,An.fromTag("br")),(y?ws:fa)(D,H)},$p=(m,y,E,D)=>{const H=Ne(m,de=>de.section!=="colgroup"),q=y.grid.columns,ne=y.grid.rows;for(let de=0;de<ne;de++){let Se=!1;for(let We=0;We<q;We++)de<E.minRow||de>E.maxRow||We<E.minCol||We>E.maxCol||(ns.getAt(y,de,We).filter(D).isNone()?$h(H,Se,de):Se=!0)}},od=(m,y,E,D)=>{Dt(E.columns,ne=>{(ne.column<y.minCol||ne.column>y.maxCol)&&qi(ne.element)});const H=Ne(Im(m,"tr"),ne=>ne.dom.childElementCount===0);le(H,qi),(y.minCol===y.maxCol||y.minRow===y.maxRow)&&le(Im(m,"th,td"),ne=>{$s(ne,"rowspan"),$s(ne,"colspan")}),$s(m,ru),$s(m,"data-snooker-col-series"),hl.getTableSize(m).adjustTableWidth(D)},db=(m,y,E,D)=>{if(D.minCol===0&&y.grid.columns===D.maxCol+1)return 0;const H=bt(y,m,E),q=He(H,(We,pt)=>We+pt,0),Se=He(H.slice(D.minCol,D.maxCol+1),(We,pt)=>We+pt,0)/q*E.pixelWidth()-E.pixelWidth();return E.getCellDelta(Se)},Ip=(m,y)=>{const E=Fn=>Ui(Fn.element,y),D=ai(m),H=eb(D),q=hl.getTableSize(m),ne=ns.generate(H),de=Md(ne,E),Se="th:not("+y+"),td:not("+y+")",We=hy(D,"th,td",Fn=>Ui(Fn,Se));le(We,qi),$p(H,ne,de,E);const pt=ns.fromTable(m),tn=db(m,pt,q,de);return od(D,de,ne,tn),D},fb=Kc("col"),Hp=Kc("colgroup"),Bd=m=>Aa(m)==="tr"||Hp(m),$f=m=>{const y=$m(m,"colspan",1),E=$m(m,"rowspan",1);return{element:m,colspan:y,rowspan:E}},Yi=(m,y=$f)=>{const E=de=>fb(de.element)?m.col(de):m.cell(de),D=de=>Hp(de.element)?m.colgroup(de):m.row(de),H=de=>{if(Bd(de))return D({element:de});{const Se=de,We=E(y(Se));return q=Re.some({item:Se,replacement:We}),We}};let q=Re.none();return{getOrInit:(de,Se)=>q.fold(()=>H(de),We=>Se(de,We.item)?We.replacement:H(de))}},Ld=m=>y=>{const E=[],D=(ne,de)=>X(E,Se=>de(Se.item,ne)),H=ne=>{const de=m==="td"?{scope:null}:{},Se=y.replace(ne,m,de);return E.push({item:ne,sub:Se}),Se};return{replaceOrInit:(ne,de)=>{if(Bd(ne)||fb(ne))return ne;{const Se=ne;return D(Se,de).fold(()=>H(Se),We=>de(ne,We.item)?We.sub:H(Se))}}}},zp=m=>cl(m,"scope").map(y=>y.substr(0,3)),Cc={modification:Yi,transform:Ld,merging:m=>({unmerge:D=>{const H=zp(D);return H.each(q=>ri(D,"scope",q)),()=>{const q=m.cell({element:D,colspan:1,rowspan:1});return Gu(q,"width"),Gu(D,"width"),H.each(ne=>ri(q,"scope",ne)),q}},merge:D=>{const H=()=>{const q=ls(an(D,zp));if(q.length===0)return Re.none();{const ne=q[0],de=["row","col"];return at(q,We=>We!==ne&&Vt(de,We))?Re.none():Re.from(ne)}};return Gu(D[0],"width"),H().fold(()=>$s(D[0],"scope"),q=>ri(D[0],"scope",q+"group")),J(D[0])}})},zv=(m,y)=>{const E=m.slice(0,y[y.length-1].row+1),D=nd(E);return Mo(D,H=>{const q=H.cells.slice(0,y[y.length-1].column+1);return an(q,ne=>ne.element)})},ky=(m,y)=>{const E=m.slice(y[0].row+y[0].rowspan-1,m.length),D=nd(E);return Mo(D,H=>{const q=H.cells.slice(y[0].column+y[0].colspan-1,H.cells.length);return an(q,ne=>ne.element)})},jp=(m,y,E)=>{const D=ns.fromTable(m);return Ki(D,y).map(q=>{const ne=Xa(D,E,!1),{rows:de}=Jr(ne),Se=zv(de,q),We=ky(de,q);return{upOrLeftCells:Se,downOrRightCells:We}})},sd={only:(m,y)=>{const E=W1(m)?yg(m):m;return{parent:J(E),view:J(m),dragContainer:J(E),origin:J(Gr(0,0)),isResizable:y}},detached:(m,y,E)=>{const D=()=>cs(y);return{parent:J(y),view:J(m),dragContainer:J(y),origin:D,isResizable:E}},body:(m,y)=>({parent:J(m),view:J(m),dragContainer:J(m),origin:()=>cs(m),isResizable:y})},Y0=Xs.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Dy=(m,y,E)=>{const D=E.substring(0,E.length-m.length),H=parseFloat(D);return D===H.toString()?y(H):Y0.invalid(E)},hs={...Y0,from:m=>Ao(m,"%")?Dy("%",Y0.percent,m):Ao(m,"px")?Dy("px",Y0.pixels,m):Y0.invalid(m)},Vp=(m,y)=>an(m,E=>hs.from(E).fold(()=>E,H=>H/y*100+"%",H=>H+"%")),Ps=(m,y,E)=>{const D=E/y;return an(m,H=>hs.from(H).fold(()=>H,ne=>ne*D+"px",ne=>ne/100*E+"px"))},tc=(m,y)=>{const E=m.fold(()=>J(""),D=>{const H=D/y;return J(H+"px")},()=>{const D=100/y;return J(D+"%")});return Jn(y,E)},Ih=(m,y,E)=>m.fold(()=>y,D=>Ps(y,E,D),D=>Vp(y,E)),X0=(m,y,E)=>{const D=hs.from(E),H=Ho(m,q=>q==="0px")?tc(D,m.length):Ih(D,m,y);return Vv(H)},sr=(m,y)=>m.length===0?y:mt(m,(E,D)=>hs.from(D).fold(J(0),it,it)+E,0),jv=(m,y)=>{const E=Math.floor(m);return{value:E+y,remainder:m-E}},mb=(m,y)=>hs.from(m).fold(J(m),E=>E+y+"px",E=>E+y+"%"),Vv=m=>{if(m.length===0)return m;const y=mt(m,(D,H)=>{const q=hs.from(H).fold(()=>({value:H,remainder:0}),ne=>jv(ne,"px"),ne=>({value:ne+"%",remainder:0}));return{output:[q.value].concat(D.output),remainder:D.remainder+q.remainder}},{output:[],remainder:0}),E=y.output;return E.slice(0,E.length-1).concat([mb(E[E.length-1],Math.round(y.remainder))])},Up=hs.from,hb=(m,y,E)=>{le(y,D=>{const H=m.slice(D.column,D.colspan+D.column),q=sr(H,_i());$a(D.element,"width",q+E)})},R2=(m,y,E)=>{le(y,(D,H)=>{const q=sr([m[H]],_i());$a(D.element,"width",q+E)})},M2=(m,y,E)=>{le(E,D=>{Gu(D.element,"height")}),le(y,(D,H)=>{$a(D.element,"height",m[H])})},B2=m=>Up(m).fold(J("px"),J("px"),J("%")),Zp=(m,y,E)=>{const D=ns.fromTable(m),H=D.all,q=ns.justCells(D),ne=ns.justColumns(D);y.each(de=>{const Se=B2(de),We=So(m),pt=$i(D,m),tn=X0(pt,We,de);ns.hasColumns(D)?R2(tn,ne,Se):hb(tn,q,Se),$a(m,"width",de)}),E.each(de=>{const Se=Ml(m),We=Oa(D,m),pt=X0(We,Se,de);M2(pt,H,q),$a(m,"height",de)})},gb=D2,L2=cf,P2=q0;var Pg=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],$u=()=>{const m=We=>An.fromDom(We.dom.cloneNode(!1)),y=We=>vd(We).dom,E=We=>Ua(We)?Aa(We)==="body"?!0:Vt(Pg,Aa(We)):!1,D=We=>Ua(We)?Vt(["br","img","hr","input"],Aa(We)):!1,H=We=>Ua(We)&&Qc(We,"contenteditable")==="false",q=(We,pt)=>We.dom.compareDocumentPosition(pt.dom),ne=(We,pt)=>{const tn=qu(We);Wu(pt,tn)},de=We=>{const pt=Aa(We);return Vt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],pt)},Se=We=>Ua(We)?cl(We,"lang"):Re.none();return{up:J({selector:fl,closest:di,predicate:hr,all:vl}),down:J({selector:Ad,predicate:Ou}),styles:J({get:Nc,getRaw:eu,set:$a,remove:Gu}),attrs:J({get:Qc,set:ri,remove:$s,copyTo:ne}),insert:J({before:xd,after:wd,afterAll:Pa,append:ws,appendAll:ku,prepend:fa,wrap:Cd}),remove:J({unwrap:Fa,remove:qi}),create:J({nu:An.fromTag,clone:m,text:An.fromText}),query:J({comparePosition:q,prevSibling:xh,nextSibling:wh}),property:J({children:Nl,name:Aa,parent:De,document:y,isText:em,isComment:U1,isElement:Ua,isSpecial:de,getLanguage:Se,getText:_f,setText:qa,isBoundary:E,isEmptyTag:D,isNonEditable:H}),eq:qs,is:te}};const Xi=(m,y)=>({item:m,mode:y}),Hh=(m,y,E,D=rd)=>m.property().parent(y).map(H=>Xi(H,D)),rd=(m,y,E,D=hm)=>E.sibling(m,y).map(H=>Xi(H,D)),hm=(m,y,E,D=hm)=>{const H=m.property().children(y);return E.first(H).map(ne=>Xi(ne,D))},Wp=[{current:Hh,next:rd,fallback:Re.none()},{current:rd,next:hm,fallback:Re.some(Hh)},{current:hm,next:hm,fallback:Re.some(rd)}],ca=(m,y,E,D,H=Wp)=>X(H,ne=>ne.current===E).bind(ne=>ne.current(m,y,D,ne.next).orThunk(()=>ne.fallback.bind(de=>ca(m,y,de,D)))),pb={left:()=>({sibling:(E,D)=>E.query().prevSibling(D),first:E=>E.length>0?Re.some(E[E.length-1]):Re.none()}),right:()=>({sibling:(E,D)=>E.query().nextSibling(D),first:E=>E.length>0?Re.some(E[0]):Re.none()})},Uv=(m,y,E,D,H,q)=>ca(m,y,D,H).bind(de=>q(de.item)?Re.none():E(de.item)?Re.some(de.item):Uv(m,de.item,E,de.mode,H,q)),Zv=(m,y,E,D)=>Uv(m,y,E,rd,pb.left(),D),bb=(m,y,E,D)=>Uv(m,y,E,rd,pb.right(),D),If=(m,y)=>({element:m,offset:y}),zh=(m,y,E)=>m.property().isText(y)&&m.property().getText(y).trim().length===0||m.property().isComment(y)?E(y).bind(D=>zh(m,D,E).orThunk(()=>Re.some(D))):Re.none(),qp=(m,y)=>m.property().isText(y)?m.property().getText(y).length:m.property().children(y).length,Gp=(m,y)=>{const E=zh(m,y,m.query().prevSibling).getOr(y);if(m.property().isText(E))return If(E,qp(m,E));const D=m.property().children(E);return D.length>0?Gp(m,D[D.length-1]):If(E,qp(m,E))},_y=Gp,du=$u(),df=m=>_y(du,m),J0=m=>y=>m.property().children(y).length===0,UC=(m,y,E)=>Wv(m,y,J0(m),E),F2=(m,y,E)=>Oy(m,y,J0(m),E),Wv=Zv,Oy=bb,gm=$u(),$2=(m,y)=>UC(gm,m,y),$d=(m,y)=>F2(gm,m,y),Sc=(m,y,E)=>Wv(gm,m,y,E),Id=(m,y,E)=>Oy(gm,m,y,E),fu=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],e1=(m,y)=>{const E=m.property().name(y);return Vt(["ol","ul"],E)},jh=(m,y)=>{const E=m.property().name(y);return Vt(fu,E)},Ny=(m,y)=>Vt(["br","img","hr","input"],m.property().name(y)),qv=(m,y,E,D)=>{const H=E[0],q=E.slice(1);return D(m,y,H,q)},yb=(m,y,E)=>E.length>0?qv(m,y,E,Fg):Re.none(),Fg=(m,y,E,D)=>{const H=y(m,E);return mt(D,(q,ne)=>{const de=y(m,ne);return Vh(m,q,de)},H)},Vh=(m,y,E)=>y.bind(D=>E.filter(Ke(m.eq,D))),Rr=(m,y)=>Ke(m.eq,y),Hi=(m,y,E,D=fn)=>{const H=[y].concat(m.up().all(y)),q=[E].concat(m.up().all(E)),ne=pt=>$o(pt,D).fold(()=>pt,Fn=>pt.slice(0,Fn+1)),de=ne(H),Se=ne(q),We=X(de,pt=>at(Se,Rr(m,pt)));return{firstpath:de,secondpath:Se,shared:We}},$g=yb,Pc=Hi,vb=$u(),Dr=(m,y)=>$g(vb,(E,D)=>m(D),y),ad=(m,y,E)=>Pc(vb,m,y,E),Hf=$u(),pm=m=>jh(Hf,m),id=m=>e1(Hf,m),Ry=m=>Ny(Hf,m),I2=m=>{const y=Kc("br"),E=Se=>Ho(Se,We=>y(We)||em(We)&&_f(We).trim().length===0),D=Se=>Aa(Se)==="li"||hr(Se,id).isSome(),H=Se=>wh(Se).map(We=>pm(We)?!0:Ry(We)?Aa(We)!=="img":!1).getOr(!1),q=Se=>Da(Se).bind(We=>{const pt=H(We);return De(We).map(tn=>pt===!0||D(tn)||y(We)||pm(tn)&&!qs(Se,tn)?[]:[An.fromTag("br")])}).getOr([]),de=(()=>{const Se=Mo(m,We=>{const pt=Nl(We);return E(pt)?[]:pt.concat(q(We))});return Se.length===0?[An.fromTag("br")]:Se})();Za(m[0]),ku(m[0],de)},Wm=m=>{$s(m,"width"),$s(m,"height")},Ig=m=>{const y=cu(m);Zp(m,Re.some(y),Re.none()),Wm(m)},Qa=m=>{const y=Ya(m);Zp(m,Re.some(y),Re.none()),Wm(m)},mu=m=>{const y=Yl(m);Zp(m,Re.none(),Re.some(y)),Wm(m)},Qi=m=>{Gu(m,"width");const y=J1(m),E=y.length>0?y:af(m);le(E,D=>{Gu(D,"width"),Wm(D)}),Wm(m)},nc={scope:["row","col"]},ff=m=>()=>{const y=An.fromTag("td",m.dom);return ws(y,An.fromTag("br",m.dom)),y},My=m=>()=>An.fromTag("col",m.dom),Uh=m=>()=>An.fromTag("colgroup",m.dom),qm=m=>()=>An.fromTag("tr",m.dom),Hg=(m,y,E)=>{const D=om(m,y);return Dt(E,(H,q)=>{H===null?$s(D,q):ri(D,q,H)}),D},By=m=>m,xb=(m,y,E)=>kh(m).map(H=>{const q=E.join(","),ne=ur(H,q,de=>qs(de,m));return mt(ne,(de,Se)=>{const We=Jc(Se);return ws(de,We),We},y)}).getOr(y),Zh=(m,y)=>{Dt(nc,(E,D)=>cl(m,D).filter(H=>Vt(E,H)).each(H=>ri(y,D,H)))},Gm=(m,y,E)=>{const D=(ne,de)=>{vg(ne.element,de),Gu(de,"height"),ne.colspan!==1&&Gu(de,"width")},H=ne=>{const de=An.fromTag(Aa(ne.element),y.dom),Se=E.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),We=Se.length>0?xb(ne.element,de,Se):de;return ws(We,An.fromTag("br")),D(ne,de),Zh(ne.element,de),m(ne.element,de),de};return{col:ne=>{const de=An.fromTag(Aa(ne.element),y.dom);return D(ne,de),m(ne.element,de),de},colgroup:Uh(y),row:qm(y),cell:H,replace:Hg,colGap:My(y),gap:ff(y)}},Gv=m=>({col:My(m),colgroup:Uh(m),row:qm(m),cell:ff(m),replace:By,colGap:My(m),gap:ff(m)}),t1=m=>ns.fromTable(m).grid,Kv=(m,y,E,D)=>{const H=Jr(m).rows;if(H.length===0)return m;for(let q=y.startRow;q<=y.finishRow;q++)for(let ne=y.startCol;ne<=y.finishCol;ne++){const de=H[q],Se=Co(de,ne).isLocked;Vi(de,ne,ks(D(),!1,Se))}return m},Yv=(m,y,E,D)=>{const H=Jr(m).rows;let q=!0;for(let ne=0;ne<H.length;ne++)for(let de=0;de<oi(H[0]);de++){const Se=H[ne],We=Co(Se,de),pt=We.element,tn=E(pt,y);tn&&!q?Vi(Se,de,ks(D(),!0,We.isLocked)):tn&&(q=!1)}return m},gl=(m,y)=>He(m,(E,D)=>at(E,H=>y(H.element,D.element))?E:E.concat([D]),[]),zg=(m,y,E,D)=>(y>0&&y<m[0].cells.length&&le(m,H=>{const q=H.cells[y-1];let ne=0;const de=D();for(;H.cells.length>y+ne&&E(q.element,H.cells[y+ne].element);)Vi(H,y+ne,ks(de,!0,H.cells[y+ne].isLocked)),ne++}),m),ld=(m,y,E,D)=>{const H=Jr(m).rows;if(y>0&&y<H.length){const q=H[y-1].cells,ne=gl(q,E);le(ne,de=>{let Se=Re.none();for(let We=y;We<H.length;We++)for(let pt=0;pt<oi(H[0]);pt++){const tn=H[We],Fn=Co(tn,pt);E(Fn.element,de.element)&&(Se.isNone()&&(Se=Re.some(D())),Se.each(ro=>{Vi(tn,pt,ks(ro,!0,Fn.isLocked))}))}})}return m},Xv=(m,y,E)=>{if(m.row>=y.length||m.column>oi(y[0]))return Gn.error("invalid start address out of table bounds, row: "+m.row+", column: "+m.column);const D=y.slice(m.row),H=D[0].cells.slice(m.column),q=oi(E[0]),ne=E.length;return Gn.value({rowDelta:D.length-ne,colDelta:H.length-q})},wb=(m,y)=>{const E=oi(m[0]),D=oi(y[0]);return{rowDelta:0,colDelta:E-D}},Cb=(m,y)=>{const E=m.length,D=y.length;return{rowDelta:E-D,colDelta:0}},Sb=(m,y,E,D)=>{const H=y.section==="colgroup"?E.col:E.cell;return Jn(m,q=>ks(H(),!0,D(q)))},Ly=(m,y,E,D)=>{const H=m[m.length-1];return m.concat(Jn(y,()=>{const q=H.section==="colgroup"?E.colgroup:E.row,ne=Sf(H,q,it),de=Sb(ne.cells.length,ne,E,Se=>zo(D,Se.toString()));return Ci(ne,de)}))},Qv=(m,y,E,D)=>an(m,H=>{const q=Sb(y,H,E,fn);return Fs(H,D,q)}),Jv=(m,y,E)=>an(m,D=>He(E,(H,q)=>{const ne=Sb(1,D,y,qe)[0];return ir(H,q,ne)},D)),Kp=(m,y,E)=>{const D=y.colDelta<0?Qv:it,H=y.rowDelta<0?Ly:it,q=au(m),ne=oi(m[0]),de=at(q,pt=>pt===ne-1),Se=D(m,Math.abs(y.colDelta),E,de?ne-1:ne),We=au(Se);return H(Se,Math.abs(y.rowDelta),E,Be(We,qe))},Ji=(m,y,E,D)=>{const H=Co(m[y],E),q=Ke(D,H.element),ne=m[y];return m.length>1&&oi(ne)>1&&(E>0&&q(Si(ne,E-1))||E<ne.cells.length-1&&q(Si(ne,E+1))||y>0&&q(Si(m[y-1],E))||y<m.length-1&&q(Si(m[y+1],E)))},Kr=(m,y,E,D,H,q)=>{const ne=m.row,de=m.column,Se=E.length,We=oi(E[0]),pt=ne+Se,tn=de+We+q.length,Fn=Be(q,qe);for(let Rn=ne;Rn<pt;Rn++){let ro=0;for(let $t=de;$t<tn;$t++){if(Fn[$t]){ro++;continue}Ji(y,Rn,$t,H)&&Yv(y,Si(y[Rn],$t),H,D.cell);const nn=$t-de-ro,Eo=Co(E[Rn-ne],nn),Xo=Eo.element,Kn=D.replace(Xo);Vi(y[Rn],$t,ks(Kn,!0,Eo.isLocked))}}return y},Al=(m,y,E)=>{const D=oi(y[0]),H=Jr(y).cols.length+m.row,q=Jn(D-m.column,de=>de+m.column),ne=X(q,de=>Ho(E,Se=>Se!==de)).getOr(D-1);return{row:H,column:ne}},kl=(m,y,E)=>Ne(E,D=>D>=m.column&&D<=oi(y[0])+m.column),ya=(m,y,E,D,H)=>{const q=au(y),ne=Al(m,y,q),de=Jr(E).rows,Se=kl(ne,de,q);return Xv(ne,y,de).map(pt=>{const tn={...pt,colDelta:pt.colDelta-Se.length},Fn=Kp(y,tn,D),Rn=au(Fn),ro=kl(ne,de,Rn);return Kr(ne,Fn,de,D,H,ro)})},Oi=(m,y,E,D,H)=>{zg(y,m,H,D.cell);const q=Cb(E,y),ne=Kp(E,q,D),de=Cb(y,ne),Se=Kp(y,de,D);return an(Se,(We,pt)=>Fs(We,m,ne[pt].cells))},Km=(m,y,E,D,H)=>{ld(y,m,H,D.cell);const q=au(y),ne=wb(y,E),de={...ne,colDelta:ne.colDelta-q.length},Se=Kp(y,de,D),{cols:We,rows:pt}=Jr(Se),tn=au(Se),Fn=wb(E,y),Rn={...Fn,colDelta:Fn.colDelta+tn.length},ro=Jv(E,D,tn),$t=Kp(ro,Rn,D);return[...We,...pt.slice(0,m),...$t,...pt.slice(m,pt.length)]},Hd=(m,y,E,D)=>Sf(m,H=>D(H,E),y),Py=(m,y,E,D,H)=>{const{rows:q,cols:ne}=Jr(m),de=q.slice(0,y),Se=q.slice(y),We=Hd(q[E],(pt,tn)=>y>0&&y<q.length&&D(Si(q[y-1],tn),Si(q[y],tn))?Co(q[y],tn):ks(H(pt.element,D),!0,pt.isLocked),D,H);return[...ne,...de,We,...Se]},Eb=(m,y,E,D,H,q,ne)=>{if(E==="colgroup"||!D){const de=Co(m,H);return ks(ne(de.element,q),!0,!1)}else return Co(m,y)},zf=(m,y,E,D,H)=>an(m,q=>{const ne=y>0&&y<oi(q)&&D(Si(q,y-1),Si(q,y)),de=Eb(q,y,q.section,ne,E,D,H);return ir(q,y,de)}),ex=(m,y)=>Mo(m,E=>{const D=E.cells,H=mt(y,(q,ne)=>ne>=0&&ne<q.length?q.slice(0,ne).concat(q.slice(ne+1)):q,D);return H.length>0?[sa(E.element,H,E.section,E.isNew)]:[]}),tx=(m,y,E)=>{const{rows:D,cols:H}=Jr(m);return[...H,...D.slice(0,y),...D.slice(E+1)]},Wh=(m,y,E,D)=>Si(m[y],E)!==void 0&&y>0&&D(Si(m[y-1],E),Si(m[y],E)),Fy=(m,y,E)=>y>0&&E(Si(m,y-1),Si(m,y)),n1=(m,y,E,D)=>Wh(m,y,E,D)||Fy(m[y],E,D),H2=(m,y)=>Ho(y,it)&&py(m.cells)?qe:(D,H,q)=>!(Aa(D.element)==="th"&&y[q]),Tb=(m,y)=>Ho(y,it)&&py(m)?qe:(D,H,q)=>!(Aa(D.element)==="th"&&y[H]),bm=(m,y,E,D)=>{const H=ne=>ne==="row"?Mv(y):Oh(y),q=ne=>H(ne)?`${ne}group`:ne;return m?Ka(y)?q(E):null:D&&Ka(y)?q(E==="row"?"col":"row"):null},$y=(m,y)=>(E,D,H)=>Re.some(bm(m,E.element,"col",y[H])),Ab=(m,y)=>(E,D)=>Re.some(bm(m,E.element,"row",y[D])),o1=(m,y,E)=>ks(E(m.element,y),!0,m.isLocked),jg=(m,y,E,D,H,q,ne)=>{const de=Se=>at(y,We=>E(Se.element,We.element));return an(m,(Se,We)=>Ir(Se,(pt,tn)=>{if(de(pt)){const Fn=ne(pt,We,tn)?H(pt,E,D):pt;return q(Fn,We,tn).each(Rn=>{Wi(Fn.element,{scope:Re.from(Rn)})}),Fn}else return pt}))},Ym=(m,y,E)=>Mo(m,(D,H)=>n1(m,H,y,E)?[]:[Co(D,y)]),Vg=(m,y,E)=>{const D=m[y];return Mo(D.cells,(H,q)=>n1(m,y,q,E)?[]:[H])},s1=(m,y,E,D,H)=>{const q=Jr(m).rows,ne=Mo(y,pt=>Ym(q,pt,D)),de=an(q,pt=>py(pt.cells)),Se=Tb(ne,de),We=Ab(E,de);return jg(m,ne,D,H,o1,We,Se)},Iy=(m,y,E,D,H,q,ne)=>{const{cols:de,rows:Se}=Jr(m),We=Se[y[0]],pt=Mo(y,nn=>Vg(Se,nn,H)),tn=an(We.cells,(nn,Eo)=>py(Ym(Se,Eo,H))),Fn=[...Se];le(y,nn=>{Fn[nn]=ne.transformRow(Se[nn],E)});const Rn=[...de,...Fn],ro=H2(We,tn),$t=$y(D,tn);return jg(Rn,pt,H,q,ne.transformCell,$t,ro)},jf=(m,y,E,D)=>{const H=Jr(m).rows,q=an(y,ne=>Co(H[ne.row],ne.column));return jg(m,q,E,D,o1,Re.none,qe)},Il=m=>He(m,(E,D)=>at(E,q=>q.column===D.column)?E:E.concat([D]),[]).sort((E,D)=>E.column-D.column),oc=m=>Nf(m,!0),qh=m=>{af(m).length===0&&qi(m)},_t=(m,y)=>({grid:m,cursor:y}),Yp=m=>Nt(m,y=>Nt(y.cells,E=>{const D=E.element;return sl(oc(D),D)})),Hy=(m,y,E)=>{const D=Jr(m).rows;return Re.from(D[y]?.cells[E]?.element).filter(oc).orThunk(()=>Yp(D))},Fc=(m,y,E)=>{const D=Hy(m,y,E);return _t(m,D)},Xp=m=>He(m,(E,D)=>at(E,q=>q.row===D.row)?E:E.concat([D]),[]).sort((E,D)=>E.row-D.row),ym=(m,y,E,D)=>{const H=y[0].row,q=Xp(y),ne=mt(q,(de,Se)=>({grid:Py(de.grid,H,Se.row+de.delta,E,D.getOrInit),delta:de.delta+1}),{grid:m,delta:0}).grid;return Fc(ne,H,y[0].column)},zy=(m,y,E,D)=>{const H=Xp(y),q=H[H.length-1],ne=q.row+q.rowspan,de=mt(H,(Se,We)=>Py(Se,ne,We.row,E,D.getOrInit),m);return Fc(de,ne,y[0].column)},nx=(m,y,E,D)=>{const H=y.details,q=Il(H),ne=q[0].column,de=mt(q,(Se,We)=>({grid:zf(Se.grid,ne,We.column+Se.delta,E,D.getOrInit),delta:Se.delta+1}),{grid:m,delta:0}).grid;return Fc(de,H[0].row,ne)},Gh=(m,y,E,D)=>{const H=y.details,q=H[H.length-1],ne=q.column+q.colspan,de=Il(H),Se=mt(de,(We,pt)=>zf(We,ne,pt.column,E,D.getOrInit),m);return Fc(Se,H[0].row,ne)},kb=(m,y,E,D)=>{const H=Il(y),q=an(H,de=>de.column),ne=s1(m,q,!0,E,D.replaceOrInit);return Fc(ne,y[0].row,y[0].column)},Vf=(m,y,E,D)=>{const H=jf(m,y,E,D.replaceOrInit);return Fc(H,y[0].row,y[0].column)},Qp=(m,y,E,D)=>{const H=Il(y),q=an(H,de=>de.column),ne=s1(m,q,!1,E,D.replaceOrInit);return Fc(ne,y[0].row,y[0].column)},jy=(m,y,E,D)=>{const H=jf(m,y,E,D.replaceOrInit);return Fc(H,y[0].row,y[0].column)},Ec=(m,y)=>(E,D,H,q,ne)=>{const de=Xp(D),Se=an(de,pt=>pt.row),We=Iy(E,Se,m,y,H,q.replaceOrInit,ne);return Fc(We,D[0].row,D[0].column)},cd=Ec("thead",!0),ud=Ec("tbody",!1),z2=Ec("tfoot",!1),Jp=(m,y,E,D)=>{const H=Il(y.details),q=ex(m,an(H,de=>de.column)),ne=q.length>0?q[0].cells.length-1:0;return Fc(q,H[0].row,Math.min(H[0].column,ne))},ox=(m,y,E,D)=>{const H=Xp(y),q=tx(m,H[0].row,H[H.length-1].row),ne=Math.max(Jr(q).rows.length-1,0);return Fc(q,Math.min(y[0].row,ne),y[0].column)},Db=(m,y,E,D)=>{const H=y.cells;I2(H);const q=Kv(m,y.bounds,E,D.merge(H));return _t(q,Re.from(H[0]))},sx=(m,y,E,D)=>{const q=mt(y,(ne,de)=>Yv(ne,de,E,D.unmerge(de)),m);return _t(q,Re.from(y[0]))},rx=(m,y,E,D)=>{const q=((Se,We)=>{const pt=ns.fromTable(Se);return Xa(pt,We,!0)})(y.clipboard,y.generators),ne=wo(y.row,y.column);return ya(ne,m,q,y.generators,E).fold(()=>_t(m,Re.some(y.element)),Se=>Fc(Se,y.row,y.column))},fs=(m,y,E)=>{const D=Sn(m,E.section),H=ns.generate(D);return Xa(H,y,!0)},so=(m,y,E,D)=>{const H=Jr(m).rows,q=y.cells[0].column,ne=H[y.cells[0].row],de=fs(y.clipboard,y.generators,ne),Se=Oi(q,m,de,y.generators,E);return Fc(Se,y.cells[0].row,y.cells[0].column)},r1=(m,y,E,D)=>{const H=Jr(m).rows,q=y.cells[y.cells.length-1].column+y.cells[y.cells.length-1].colspan,ne=H[y.cells[0].row],de=fs(y.clipboard,y.generators,ne),Se=Oi(q,m,de,y.generators,E);return Fc(Se,y.cells[0].row,q)},Vy=(m,y,E,D)=>{const H=Jr(m).rows,q=y.cells[0].row,ne=H[q],de=fs(y.clipboard,y.generators,ne),Se=Km(q,m,de,y.generators,E);return Fc(Se,y.cells[0].row,y.cells[0].column)},a1=(m,y,E,D)=>{const H=Jr(m).rows,q=y.cells[y.cells.length-1].row+y.cells[y.cells.length-1].rowspan,ne=H[y.cells[0].row],de=fs(y.clipboard,y.generators,ne),Se=Km(q,m,de,y.generators,E);return Fc(Se,q,y.cells[0].column)},ax=(m,y)=>{const E=ns.fromTable(m);return Ki(E,y).bind(H=>{const q=H[H.length-1],ne=H[0].column,de=q.column+q.colspan,Se=xo(an(E.all,We=>Ne(We.cells,pt=>pt.column>=ne&&pt.column<de)));return by(Se)}).getOr("")},i1=(m,y)=>{const E=ns.fromTable(m);return Ki(E,y).bind(by).getOr("")},oa=(m,y)=>{const E=ns.fromTable(m);return Ki(E,y).bind(H=>{const q=H[H.length-1],ne=H[0].row,de=q.row+q.rowspan,Se=E.all.slice(ne,de);return Lv(Se)}).getOr("")},_b=(m,y,E,D)=>Fu(m,y,E,D.sizing),l1=(m,y,E,D)=>Na(m,y,E,D.sizing,D.resize),Xm=(m,y)=>at(y,E=>E.column===0&&E.isLocked),Mt=(m,y)=>at(y,E=>E.column+E.colspan>=m.grid.columns&&E.isLocked),mf=(m,y)=>{const E=Np(m),D=Il(y);return He(D,(H,q)=>{const de=E[q.column].map(Or).getOr(0);return H+de},0)},vm=m=>(y,E)=>Ki(y,E).filter(D=>!(m?Xm:Mt)(y,D)).map(D=>({details:D,pixelDelta:mf(y,D)})),zd=(m,y)=>Pu(m,y).map(E=>({details:E,pixelDelta:-mf(m,E)})),Tc=m=>(y,E)=>Jl(y,E).filter(D=>!(m?Xm:Mt)(y,D.cells)),Qm=Cc.transform("th"),e0=Cc.transform("td"),xm=(m,y,E,D)=>Ii(ym,Ki,be,be,Cc.modification,m,y,E,D),ZC=(m,y,E,D)=>Ii(zy,Ki,be,be,Cc.modification,m,y,E,D),t0=(m,y,E,D)=>Ii(nx,vm(!0),l1,be,Cc.modification,m,y,E,D),Lr=(m,y,E,D)=>Ii(Gh,vm(!1),l1,be,Cc.modification,m,y,E,D),hf=(m,y,E,D)=>Ii(Jp,zd,l1,qh,Cc.modification,m,y,E,D),ix=(m,y,E,D)=>Ii(ox,Ki,be,qh,Cc.modification,m,y,E,D),wm=(m,y,E,D)=>Ii(kb,Pu,be,be,Qm,m,y,E,D),jd=(m,y,E,D)=>Ii(Qp,Pu,be,be,e0,m,y,E,D),sc=(m,y,E,D)=>Ii(cd,Ki,be,be,Qm,m,y,E,D),n0=(m,y,E,D)=>Ii(ud,Ki,be,be,e0,m,y,E,D),Uy=(m,y,E,D)=>Ii(z2,Ki,be,be,e0,m,y,E,D),Zy=(m,y,E,D)=>Ii(Vf,Pu,be,be,Qm,m,y,E,D),Wy=(m,y,E,D)=>Ii(jy,Pu,be,be,e0,m,y,E,D),j2=(m,y,E,D)=>Ii(Db,dm,_b,be,Cc.merging,m,y,E,D),lx=(m,y,E,D)=>Ii(sx,cb,_b,be,Cc.merging,m,y,E,D),Ob=(m,y,E,D)=>Ii(rx,Mf,_b,be,Cc.modification,m,y,E,D),a=(m,y,E,D)=>Ii(so,Tc(!0),be,be,Cc.modification,m,y,E,D),d=(m,y,E,D)=>Ii(r1,Tc(!1),be,be,Cc.modification,m,y,E,D),g=(m,y,E,D)=>Ii(Vy,Jl,be,be,Cc.modification,m,y,E,D),C=(m,y,E,D)=>Ii(a1,Jl,be,be,Cc.modification,m,y,E,D),N=ax,$=i1,se=oa,fe=(m,y)=>{const E=y.column,D=y.column+y.colspan-1,H=y.row,q=y.row+y.rowspan-1;return E<=m.finishCol&&D>=m.startCol&&H<=m.finishRow&&q>=m.startRow},ct=(m,y)=>y.column>=m.startCol&&y.column+y.colspan-1<=m.finishCol&&y.row>=m.startRow&&y.row+y.rowspan-1<=m.finishRow,Zt=(m,y)=>{let E=!0;const D=Ke(ct,y);for(let H=y.startRow;H<=y.finishRow;H++)for(let q=y.startCol;q<=y.finishCol;q++)E=E&&ns.getAt(m,H,q).exists(D);return E?Re.some(y):Re.none()},bn=(m,y)=>Sa(Math.min(m.row,y.row),Math.min(m.column,y.column),Math.max(m.row+m.rowspan-1,y.row+y.rowspan-1),Math.max(m.column+m.colspan-1,y.column+y.colspan-1)),Dn=(m,y,E)=>{const D=ns.findItem(m,y,qs),H=ns.findItem(m,E,qs);return D.bind(q=>H.map(ne=>bn(q,ne)))},Qt=(m,y,E)=>Dn(m,y,E).bind(D=>Zt(m,D)),cn=(m,y,E,D)=>ns.findItem(m,y,qs).bind(H=>{const q=E>0?H.row+H.rowspan-1:H.row,ne=D>0?H.column+H.colspan-1:H.column;return ns.getAt(m,q+E,ne+D).map(Se=>Se.element)}),es=(m,y,E)=>Dn(m,y,E).map(D=>{const H=ns.filterItems(m,Ke(fe,D));return an(H,q=>q.element)}),Ns=(m,y)=>{const E=(D,H)=>Af(H,D);return ns.findItem(m,y,E).map(D=>D.element)},mi=(m,y,E)=>su(m).bind(D=>{const H=hn(D);return cn(H,m,y,E)}),et=(m,y,E)=>{const D=hn(m);return es(D,y,E)},gt=(m,y,E,D,H)=>{const q=hn(m),ne=qs(m,E)?Re.some(y):Ns(q,y),de=qs(m,H)?Re.some(D):Ns(q,D);return ne.bind(Se=>de.bind(We=>es(q,Se,We)))},zt=(m,y,E)=>{const D=hn(m);return Qt(D,y,E)},hn=ns.fromTable,ms={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Us=()=>An.fromTag("th"),Go=()=>An.fromTag("td"),rr=()=>An.fromTag("col"),Mr=(m,y,E,D)=>{const H=An.fromTag("tr");for(let q=0;q<m;q++){const ne=D<y||q<E?Us():Go();q<E&&ri(ne,"scope","row"),D<y&&ri(ne,"scope","col"),ws(ne,An.fromTag("br")),ws(H,ne)}return H},zr=m=>{const y=An.fromTag("colgroup");return Jn(m,()=>ws(y,rr())),y},gf=(m,y,E,D)=>Jn(m,H=>Mr(y,E,D,H)),Jm=(m,y,E,D,H,q=ms)=>{const ne=An.fromTag("table"),de=H!=="cells";cr(ne,q.styles),Wu(ne,q.attributes),q.colGroups&&ws(ne,zr(y));const Se=Math.min(m,E);if(de&&E>0){const Rn=An.fromTag("thead");ws(ne,Rn);const $t=gf(E,y,H==="sectionCells"?Se:0,D);ku(Rn,$t)}const We=An.fromTag("tbody");ws(ne,We);const pt=de?m-Se:m,Fn=gf(pt,y,de?0:E,D);return ku(We,Fn),ne},pl=m=>{let y=[];return{bind:q=>{if(q===void 0)throw new Error("Event bind error: undefined handler");y.push(q)},unbind:q=>{y=Ne(y,ne=>ne!==q)},trigger:(...q)=>{const ne={};le(m,(de,Se)=>{ne[de]=q[Se]}),le(y,de=>{de(ne)})}}},o0=m=>{const y=Pe(m,D=>({bind:D.bind,unbind:D.unbind})),E=Pe(m,D=>D.trigger);return{registry:y,trigger:E}},LT=Mn(["compare","extract","mutate","sink"]),WC=Mn(["element","start","stop","destroy"]),PT=Mn(["forceDrop","drop","move","delayDrop"]),uD=()=>{let m=Re.none();const y=()=>{m=Re.none()},E=(q,ne)=>{const de=m.map(Se=>q.compare(Se,ne));return m=Re.some(ne),de},D=(q,ne)=>{ne.extract(q).each(Se=>{E(ne,Se).each(pt=>{H.trigger.move(pt)})})},H=o0({move:pl(["info"])});return{onEvent:D,reset:y,events:H.registry}},Zs=()=>{const m=o0({move:pl(["info"])});return{onEvent:be,reset:be,events:m.registry}},eh=()=>{const m=Zs(),y=uD();let E=m;return{on:()=>{E.reset(),E=y},off:()=>{E.reset(),E=m},isOn:()=>E===y,onEvent:(de,Se)=>{E.onEvent(de,Se)},events:y.events}},c1=(m,y,E)=>{let D=!1;const H=o0({start:pl([]),stop:pl([])}),q=eh(),ne=()=>{ro.stop(),q.isOn()&&(q.off(),H.trigger.stop())},de=Qs(ne,200),Se=nn=>{ro.start(nn),q.on(),H.trigger.start()},We=nn=>{de.cancel(),q.onEvent(nn,y)};q.events.move.bind(nn=>{y.mutate(m,nn.info)});const pt=()=>{D=!0},tn=()=>{D=!1},Fn=()=>D,Rn=nn=>(...Eo)=>{D&&nn.apply(null,Eo)},ro=y.sink(PT({forceDrop:ne,drop:Rn(ne),move:Rn(We),delayDrop:Rn(de.throttle)}),E),$t=()=>{ro.destroy()};return{element:ro.element,go:Se,on:pt,off:tn,isActive:Fn,destroy:$t,events:H.registry}},qy=No("ephox-dragster").resolve,Ks=m=>{const y={layerClass:qy("blocker"),...m},E=An.fromTag("div");return ri(E,"role","presentation"),ri(E,"data-mce-bogus","all"),cr(E,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Td(E,qy("blocker")),Td(E,y.layerClass),{element:J(E),destroy:()=>{qi(E)}}};var cx=LT({compare:(m,y)=>Gr(y.left-m.left,y.top-m.top),extract:m=>Re.some(Gr(m.x,m.y)),sink:(m,y)=>{const E=Ks(y),D=nm(E.element(),"mousedown",m.forceDrop),H=nm(E.element(),"mouseup",m.drop),q=nm(E.element(),"mousemove",m.move),ne=nm(E.element(),"mouseout",m.delayDrop),de=()=>{E.destroy(),H.unbind(),q.unbind(),ne.unbind(),D.unbind()},Se=pt=>{ws(pt,E.element())},We=()=>{qi(E.element())};return WC({element:E.element,start:Se,stop:We,destroy:de})},mutate:(m,y)=>{m.mutate(y.left,y.top)}});const mD=(m,y={})=>{const E=y.mode??cx;return c1(m,E,y)},ux=No("ephox-snooker").resolve,gD=()=>{const m=o0({drag:pl(["xDelta","yDelta"])});return{mutate:(E,D)=>{m.trigger.drag(E,D)},events:m.registry}},dx=()=>{const m=o0({drag:pl(["xDelta","yDelta","target"])});let y=Re.none();const E=gD();return E.events.drag.bind(q=>{y.each(ne=>{m.trigger.drag(q.xDelta,q.yDelta,ne)})}),{assign:q=>{y=Re.some(q)},get:()=>y,mutate:E.mutate,events:m.registry}},FT=(m,y,E,D,H)=>{const q=An.fromTag("div");return cr(q,{position:"absolute",left:y-D/2+"px",top:E+"px",height:H+"px",width:D+"px"}),Wu(q,{"data-mce-bogus":"all","data-column":m,role:"presentation"}),q},pD=(m,y,E,D,H)=>{const q=An.fromTag("div");return cr(q,{position:"absolute",left:y+"px",top:E-H/2+"px",height:H+"px",width:D+"px"}),Wu(q,{"data-mce-bogus":"all","data-row":m,role:"presentation"}),q},V2=ux("resizer-bar"),qC=ux("resizer-rows"),GC=ux("resizer-cols"),$T=7,bD=(m,y)=>Mo(m.all,(E,D)=>y(E.element)?[D]:[]),IT=(m,y)=>{const E=[];return Jn(m.grid.columns,D=>{ns.getColumnAt(m,D).map(q=>q.element).forall(y)&&E.push(D)}),Ne(E,D=>{const H=ns.filterItems(m,q=>q.column===D);return Ho(H,q=>y(q.element))})},KC=m=>{const y=Ad(m.parent(),"."+V2);le(y,qi)},HT=(m,y,E)=>{const D=m.origin();le(y,H=>{H.each(q=>{const ne=E(D,q);Td(ne,V2),ws(m.parent(),ne)})})},fr=(m,y,E,D)=>{HT(m,y,(H,q)=>{const ne=FT(q.col,q.x-H.left,E.top-H.top,$T,D);return Td(ne,GC),ne})},zT=(m,y,E,D)=>{HT(m,y,(H,q)=>{const ne=pD(q.row,E.left-H.left,q.y-H.top,D,$T);return Td(ne,qC),ne})},YC=(m,y,E,D,H)=>{const q=cs(E),ne=y.isResizable,de=D.length>0?U0.positions(D,E):[],Se=de.length>0?bD(m,ne):[],We=Ne(de,(Rn,ro)=>at(Se,$t=>ro===$t));zT(y,We,q,Or(E));const pt=H.length>0?_a.positions(H,E):[],tn=pt.length>0?IT(m,ne):[],Fn=Ne(pt,(Rn,ro)=>at(tn,$t=>ro===$t));fr(y,Fn,q,Bm(E))},U2=(m,y)=>{if(KC(m),m.isResizable(y)){const E=ns.fromTable(y),D=Rh(E),H=Np(E);YC(E,m,y,D,H)}},s0=(m,y)=>{const E=Ad(m.parent(),"."+V2);le(E,y)},XC=m=>{s0(m,y=>{$a(y,"display","none")})},yD=m=>{s0(m,y=>{$a(y,"display","block")})},jT=m=>gc(m,qC),Gy=m=>gc(m,GC),VT=ux("resizer-bar-dragging"),fx=m=>{const y=dx(),E=mD(y,{});let D=Re.none();const H=($t,nn)=>Re.from(Qc($t,nn));y.events.drag.bind($t=>{H($t.target,"data-row").each(nn=>{const Eo=Pi($t.target,"top");$a($t.target,"top",Eo+$t.yDelta+"px")}),H($t.target,"data-column").each(nn=>{const Eo=Pi($t.target,"left");$a($t.target,"left",Eo+$t.xDelta+"px")})});const q=($t,nn)=>{const Eo=Pi($t,nn),Xo=$m($t,"data-initial-"+nn,0);return Eo-Xo};E.events.stop.bind(()=>{y.get().each($t=>{D.each(nn=>{H($t,"data-row").each(Eo=>{const Xo=q($t,"top");$s($t,"data-initial-top"),ro.trigger.adjustHeight(nn,Xo,parseInt(Eo,10))}),H($t,"data-column").each(Eo=>{const Xo=q($t,"left");$s($t,"data-initial-left"),ro.trigger.adjustWidth(nn,Xo,parseInt(Eo,10))}),U2(m,nn)})})});const ne=($t,nn)=>{ro.trigger.startAdjust(),y.assign($t),ri($t,"data-initial-"+nn,Pi($t,nn)),Td($t,VT),$a($t,"opacity","0.2"),E.go(m.dragContainer())},de=nm(m.parent(),"mousedown",$t=>{jT($t.target)&&ne($t.target,"top"),Gy($t.target)&&ne($t.target,"left")}),Se=$t=>qs($t,m.view()),We=$t=>di($t,"table",Se).filter(Nf),pt=$t=>gc($t,"ephox-snooker-resizer-bar")||gc($t,"ephox-dragster-blocker"),tn=nm(m.view(),"mouseover",$t=>{We($t.target).fold(()=>{uo($t.target)&&!pt($t.target)&&KC(m)},nn=>{E.isActive()&&(D=Re.some(nn),U2(m,nn))})}),Fn=()=>{de.unbind(),tn.unbind(),E.destroy(),KC(m)},Rn=$t=>{U2(m,$t)},ro=o0({adjustHeight:pl(["table","delta","row"]),adjustWidth:pl(["table","delta","column"]),startAdjust:pl([])});return{destroy:Fn,refresh:Rn,on:E.on,off:E.off,hideBars:Ke(XC,m),showBars:Ke(yD,m),events:ro.registry}},QC={create:(m,y,E)=>{const D=U0,H=_a,q=fx(m),ne=o0({beforeResize:pl(["table","type"]),afterResize:pl(["table","type"]),startDrag:pl([])});return q.events.adjustHeight.bind(de=>{const Se=de.table;ne.trigger.beforeResize(Se,"row");const We=D.delta(de.delta,Se);Nr(Se,We,de.row),ne.trigger.afterResize(Se,"row")}),q.events.startAdjust.bind(de=>{ne.trigger.startDrag()}),q.events.adjustWidth.bind(de=>{const Se=de.table;ne.trigger.beforeResize(Se,"col");const We=H.delta(de.delta,Se),pt=E(Se);xr(Se,We,de.column,y,pt),ne.trigger.afterResize(Se,"col")}),{on:q.on,off:q.off,refreshBars:q.refresh,hideBars:q.hideBars,showBars:q.showBars,destroy:q.destroy,events:ne.registry}}},u1=m=>y=>y.options.get(m),UT="100%",ZT=m=>{const y=m.dom,E=y.getParent(m.selection.getStart(),y.isBlock)??m.getBody();return Wa(An.fromDom(E))+"px"},WT=(m,y)=>gx(m)||!JC(m)?y:Ug(m)?{...y,width:ZT(m)}:{...y,width:UT},qT=(m,y)=>gx(m)||JC(m)?y:Ug(m)?{...y,width:ZT(m)}:{...y,width:UT},TB=m=>{const y=m.options.register;y("table_clone_elements",{processor:"string[]"}),y("table_use_colgroups",{processor:"boolean",default:!0}),y("table_header_type",{processor:E=>{const D=Vt(["section","cells","sectionCells","auto"],E);return D?{value:E,valid:D}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),y("table_sizing_mode",{processor:"string",default:"auto"}),y("table_default_attributes",{processor:"object",default:{border:"1"}}),y("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),y("table_column_resizing",{processor:E=>{const D=Vt(["preservetable","resizetable"],E);return D?{value:E,valid:D}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),y("table_resize_bars",{processor:"boolean",default:!0}),y("table_style_by_css",{processor:"boolean",default:!0}),y("table_merge_content_on_paste",{processor:"boolean",default:!0})},GT=m=>Re.from(m.options.get("table_clone_elements")),Z2=m=>{const y=m.options.get("object_resizing");return Vt(y.split(","),"table")},W2=u1("table_header_type"),hx=u1("table_column_resizing"),q2=m=>hx(m)==="preservetable",G2=m=>hx(m)==="resizetable",jn=u1("table_sizing_mode"),d1=m=>jn(m)==="relative",Ug=m=>jn(m)==="fixed",gx=m=>jn(m)==="responsive",KT=u1("table_resize_bars"),JC=u1("table_style_by_css"),eS=u1("table_merge_content_on_paste"),YT=m=>{const y=m.options,E=y.get("table_default_attributes");return y.isSet("table_default_attributes")?E:qT(m,E)},XT=m=>{const y=m.options,E=y.get("table_default_styles");return y.isSet("table_default_styles")?E:WT(m,E)},QT=u1("table_use_colgroups"),K2=m=>An.fromDom(m.getBody()),bl=m=>y=>qs(y,K2(m)),th=m=>{$s(m,"data-mce-style");const y=E=>$s(E,"data-mce-style");le(af(m),y),le(J1(m),y),le(H0(m),y)},Y2=m=>An.fromDom(m.selection.getStart()),JT=m=>m.getBoundingClientRect().width,eA=m=>m.getBoundingClientRect().height,tA=m=>(y,E)=>{const D=y.dom.getStyle(E,m)||y.dom.getAttrib(E,m);return Re.from(D).filter(us)},X2=tA("width"),tS=tA("height"),nA=m=>/^(\d+(\.\d+)?)%$/.test(m),oA=m=>/^(\d+(\.\d+)?)px$/.test(m),px=m=>$0(m,Kc("table")).exists(Nf),nS=m=>fl(m,"table"),Q2=(m,y,E)=>{const D=H=>q=>E!==void 0&&E(q)||qs(q,H);return qs(m,y)?Re.some({boxes:Re.some([m]),start:m,finish:y}):nS(m).bind(H=>nS(y).bind(q=>{if(qs(H,q))return Re.some({boxes:et(H,m,y),start:m,finish:y});if(Af(H,q)){const ne=ur(y,"td,th",D(H)),de=ne.length>0?ne[ne.length-1]:y;return Re.some({boxes:gt(H,m,H,y,q),start:m,finish:de})}else if(Af(q,H)){const ne=ur(m,"td,th",D(q)),de=ne.length>0?ne[ne.length-1]:m;return Re.some({boxes:gt(q,m,H,y,q),start:m,finish:de})}else return ad(m,y).shared.bind(ne=>di(ne,"table",E).bind(de=>{const Se=ur(y,"td,th",D(de)),We=Se.length>0?Se[Se.length-1]:y,pt=ur(m,"td,th",D(de)),tn=pt.length>0?pt[pt.length-1]:m;return Re.some({boxes:gt(de,m,H,y,q),start:tn,finish:We})}))}))},oS=(m,y)=>{const E=Ad(m,y);return E.length>0?Re.some(E):Re.none()},vD=(m,y)=>X(m,E=>Ui(E,y)),sA=(m,y,E)=>Ed(m,y).bind(D=>Ed(m,E).bind(H=>Dr(nS,[D,H]).map(q=>({first:D,last:H,table:q})))),rA=(m,y)=>fl(m,"table").bind(E=>Ed(E,y).bind(D=>Q2(D,m).bind(H=>H.boxes.map(q=>({boxes:q,start:H.start,finish:H.finish}))))),J2=(m,y,E,D,H)=>vD(m,H).bind(q=>mi(q,y,E).bind(ne=>rA(ne,D))),Nb=(m,y)=>oS(m,y),aA=(m,y,E)=>sA(m,y,E).bind(D=>{const H=Se=>qs(m,Se),q="thead,tfoot,tbody,table",ne=fl(D.first,q,H),de=fl(D.last,q,H);return ne.bind(Se=>de.bind(We=>qs(Se,We)?zt(D.table,D.first,D.last):Re.none()))}),iA=it,ew=m=>{const y=(D,H)=>cl(D,H).exists(q=>parseInt(q,10)>1),E=D=>y(D,"rowspan")||y(D,"colspan");return m.length>0&&Ho(m,E)?Re.some(m):Re.none()},xD=(m,y,E)=>y.length<=1?Re.none():aA(m,E.firstSelectedSelector,E.lastSelectedSelector).map(D=>({bounds:D,cells:y})),Rb={create:(m,y)=>({selection:m,kill:y})},sS=(m,y,E,D)=>{switch(m.tag){case"none":return y();case"single":return D(m.element);case"multiple":return E(m.elements)}},CD=()=>({tag:"none"}),SD=m=>({tag:"multiple",elements:m}),lA=m=>({tag:"single",element:m}),ED=(m,y,E)=>({get:()=>Nb(m(),E).fold(()=>y().fold(CD,lA),SD)}),tw={create:(m,y,E,D)=>({start:aa.on(m,y),finish:aa.on(E,D)})},aS=(m,y)=>{const E=mn(m,y);return sf.create(An.fromDom(E.startContainer),E.startOffset,An.fromDom(E.endContainer),E.endOffset)},Zg=tw.create,cA=(m,y,E,D,H,q,ne)=>qs(E,H)&&D===q?Re.none():di(E,"td,th",y).bind(de=>di(H,"td,th",y).bind(Se=>nw(m,y,de,Se,ne))),nw=(m,y,E,D,H)=>qs(E,D)?Re.none():Q2(E,D,y).bind(q=>{const ne=q.boxes.getOr([]);return ne.length>1?(H(m,ne,q.start,q.finish),Re.some(Rb.create(Re.some(Zg(E,0,E,kd(E))),!0))):Re.none()}),TD=(m,y,E,D,H)=>{const q=ne=>(H.clearBeforeUpdate(E),H.selectRange(E,ne.boxes,ne.start,ne.finish),ne.boxes);return J2(D,m,y,H.firstSelectedSelector,H.lastSelectedSelector).map(q)},f1=Xs.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),AD=(m,y,E)=>{const D=m.getRect(y),H=m.getRect(E);return H.right>D.left&&H.left<D.right},kD=m=>di(m,"tr"),Ky={...f1,verify:(m,y,E,D,H,q,ne)=>di(D,"td,th",ne).bind(de=>di(y,"td,th",ne).map(Se=>qs(de,Se)?qs(D,de)&&kd(de)===H?q(Se):f1.none("in same cell"):Dr(kD,[de,Se]).fold(()=>AD(m,Se,de)?f1.success():q(Se),We=>q(Se)))).getOr(f1.none("default")),cata:(m,y,E,D,H)=>m.fold(y,E,D,H)},bx=Kc("br"),iS=(m,y,E)=>y(m,E).bind(D=>em(D)&&_f(D).trim().length===0?iS(D,y,E):Re.some(D)),DD=(m,y,E)=>E.traverse(y).orThunk(()=>iS(y,E.gather,m)).map(E.relative),_D=(m,y)=>Oc(m,y).filter(bx).orThunk(()=>Oc(m,y-1).filter(bx)),ow=(m,y,E,D)=>_D(y,E).bind(H=>D.traverse(H).fold(()=>iS(H,D.gather,m).map(D.relative),q=>nu(q).map(ne=>aa.on(ne.parent,ne.index)))),uA=(m,y,E,D)=>(bx(y)?DD(m,y,D):ow(m,y,E,D)).map(q=>({start:q,finish:q})),dA=m=>Ky.cata(m,y=>Re.none(),()=>Re.none(),y=>Re.some(If(y,0)),y=>Re.some(If(y,kd(y)))),yx=(m,y)=>({left:m.left,top:m.top+y,right:m.right,bottom:m.bottom+y}),sw=(m,y)=>({left:m.left,top:m.top-y,right:m.right,bottom:m.bottom-y}),lS=(m,y,E)=>({left:m.left+y,top:m.top+E,right:m.right+y,bottom:m.bottom+E}),vx=m=>m.top,cS=m=>m.bottom,OD=(m,y,E)=>E>=0&&E<kd(y)?m.getRangedRect(y,E,y,E+1):E>0?m.getRangedRect(y,E-1,y,E):Re.none(),xx=m=>({left:m.left,top:m.top,right:m.right,bottom:m.bottom}),fA=(m,y)=>Re.some(m.getRect(y)),rw=(m,y,E)=>Ua(y)?fA(m,y).map(xx):em(y)?OD(m,y,E).map(xx):Re.none(),aw=(m,y)=>Ua(y)?fA(m,y).map(xx):em(y)?m.getRangedRect(y,0,y,kd(y)).map(xx):Re.none(),Mb=5,ND=100,Wg=Xs.generate([{none:[]},{retry:["caret"]}]),RD=(m,y)=>m.left<y.left||Math.abs(y.right-m.left)<1||m.left>y.right,mA=(m,y,E)=>$0(y,pm).fold(fn,D=>aw(m,D).exists(H=>RD(E,H))),MD=(m,y,E,D,H)=>{const q=yx(H,Mb);return Math.abs(E.bottom-D.bottom)<1||E.top>H.bottom?Wg.retry(q):E.top===H.bottom?Wg.retry(yx(H,1)):mA(m,y,H)?Wg.retry(lS(q,Mb,0)):Wg.none()},iw={point:vx,adjuster:(m,y,E,D,H)=>{const q=sw(H,Mb);return Math.abs(E.top-D.top)<1||E.bottom<H.top?Wg.retry(q):E.bottom===H.top?Wg.retry(sw(H,1)):mA(m,y,H)?Wg.retry(lS(q,Mb,0)):Wg.none()},move:sw,gather:$2},BD={point:cS,adjuster:MD,move:yx,gather:$d},LD=(m,y,E)=>m.elementFromPoint(y,E).filter(D=>Aa(D)==="table").isSome(),PD=(m,y,E,D,H)=>uS(m,y,E,y.move(D,Mb),H),uS=(m,y,E,D,H)=>H===0?Re.some(D):LD(m,D.left,y.point(D))?PD(m,y,E,D,H-1):m.situsFromPoint(D.left,y.point(D)).bind(q=>q.start.fold(Re.none,ne=>aw(m,ne).bind(de=>y.adjuster(m,ne,de,E,D).fold(Re.none,Se=>uS(m,y,E,Se,H-1))).orThunk(()=>Re.some(D)),Re.none)),FD=(m,y,E)=>m.point(y)>E.getInnerHeight()?Re.some(m.point(y)-E.getInnerHeight()):m.point(y)<0?Re.some(-m.point(y)):Re.none(),hA=(m,y,E)=>{const D=m.move(E,Mb),H=uS(y,m,E,D,ND).getOr(D);return FD(m,H,y).fold(()=>y.situsFromPoint(H.left,m.point(H)),q=>(y.scrollBy(0,q),y.situsFromPoint(H.left,m.point(H)-q)))},dS={tryUp:Ke(hA,iw),tryDown:Ke(hA,BD),getJumpSize:J(Mb)},$D=20,ID=(m,y,E)=>m.getSelection().bind(D=>uA(y,D.finish,D.foffset,E).fold(()=>Re.some(If(D.finish,D.foffset)),H=>{const q=m.fromSitus(H),ne=Ky.verify(m,D.finish,D.foffset,q.finish,q.foffset,E.failure,y);return dA(ne)})),fS=(m,y,E,D,H,q)=>q===0?Re.none():wx(m,y,E,D,H).bind(ne=>{const de=m.fromSitus(ne),Se=Ky.verify(m,E,D,de.finish,de.foffset,H.failure,y);return Ky.cata(Se,()=>Re.none(),()=>Re.some(ne),We=>qs(E,We)&&D===0?gA(m,E,D,sw,H):fS(m,y,We,0,H,q-1),We=>qs(E,We)&&D===kd(We)?gA(m,E,D,yx,H):fS(m,y,We,kd(We),H,q-1))}),gA=(m,y,E,D,H)=>rw(m,y,E).bind(q=>lo(m,H,D(q,dS.getJumpSize()))),lo=(m,y,E)=>{const D=ll().browser;return D.isChromium()||D.isSafari()||D.isFirefox()?y.retry(m,E):Re.none()},wx=(m,y,E,D,H)=>rw(m,E,D).bind(q=>lo(m,H,q)),pA=(m,y,E)=>ID(m,y,E).bind(D=>fS(m,y,D.element,D.offset,E,$D).map(m.fromSitus)),HD=(m,y)=>kg(m,E=>De(E).exists(D=>qs(D,y))),mS=(m,y,E,D,H)=>di(D,"td,th",y).bind(q=>di(q,"table",y).bind(ne=>HD(H,ne)?pA(m,y,E).bind(de=>di(de.finish,"td,th",y).map(Se=>({start:q,finish:Se,range:de}))):Re.none())),Cx=(m,y,E,D,H,q)=>q(D,y).orThunk(()=>mS(m,y,E,D,H).map(ne=>{const de=ne.range;return Rb.create(Re.some(Zg(de.start,de.soffset,de.finish,de.foffset)),!0)})),lw=(m,y)=>di(m,"tr",y).bind(E=>di(E,"table",y).bind(D=>{const H=Ad(D,"tr");return qs(E,H[0])?Sc(D,q=>Da(q).isSome(),y).map(q=>{const ne=kd(q);return Rb.create(Re.some(Zg(q,ne,q,ne)),!0)}):Re.none()})),Sx=(m,y)=>di(m,"tr",y).bind(E=>di(E,"table",y).bind(D=>{const H=Ad(D,"tr");return qs(E,H[H.length-1])?Id(D,q=>kh(q).isSome(),y).map(q=>Rb.create(Re.some(Zg(q,0,q,0)),!0)):Re.none()})),Yy=(m,y,E,D,H,q,ne)=>mS(m,E,D,H,q).bind(de=>nw(y,E,de.start,de.finish,ne)),hS=(m,y)=>di(m,"td,th",y),gS=m=>Yc(m).exists(Nf),bA=(m,y,E,D)=>{const H=tr(),q=H.clear,ne=pt=>{H.on(tn=>{D.clearBeforeUpdate(y),hS(pt.target,E).each(Fn=>{Q2(tn,Fn,E).each(Rn=>{const ro=Rn.boxes.getOr([]);if(ro.length===1){const $t=ro[0],nn=rm($t)==="false",Eo=Qn(Ah(pt.target),$t,qs);nn&&Eo&&D.selectRange(y,ro,$t,$t)}else ro.length>1&&(D.selectRange(y,ro,Rn.start,Rn.finish),m.selectContents(Fn))})})})};return{clearstate:q,mousedown:pt=>{D.clear(y),hS(pt.target,E).filter(gS).each(H.set)},mouseover:pt=>{ne(pt)},mouseup:pt=>{ne(pt),q()}}},pS={traverse:wh,gather:$d,relative:aa.before,retry:dS.tryDown,failure:Ky.failedDown},yA={traverse:xh,gather:$2,relative:aa.before,retry:dS.tryUp,failure:Ky.failedUp},Xy=m=>y=>y===m,r0=Xy(38),Qy=Xy(40),a0=m=>m>=37&&m<=40,i0={isBackward:Xy(37),isForward:Xy(39)},vA={isBackward:Xy(39),isForward:Xy(37)},Ex=m=>({elementFromPoint:(nn,Eo)=>An.fromPoint(An.fromDom(m.document),nn,Eo),getRect:nn=>nn.dom.getBoundingClientRect(),getRangedRect:(nn,Eo,Xo,Kn)=>{const Sr=j.exact(nn,Eo,Xo,Kn);return Dh(m,Sr)},getSelection:()=>Fm(m).map(nn=>aS(m,nn)),fromSitus:nn=>{const Eo=j.relative(nn.start,nn.finish);return aS(m,Eo)},situsFromPoint:(nn,Eo)=>Ru(m,nn,Eo).map(Xo=>tw.create(Xo.start,Xo.soffset,Xo.finish,Xo.foffset)),clearSelection:()=>{_h(m)},collapseSelection:(nn=!1)=>{Fm(m).each(Eo=>Eo.fold(Xo=>Xo.collapse(nn),(Xo,Kn)=>{const Sr=nn?Xo:Kn;rf(m,Sr,Sr)},(Xo,Kn,Sr,Er)=>{const Wo=nn?Xo:Sr,el=nn?Kn:Er;Xu(m,Wo,el,Wo,el)}))},setSelection:nn=>{Xu(m,nn.start,nn.soffset,nn.finish,nn.foffset)},setRelativeSelection:(nn,Eo)=>{rf(m,nn,Eo)},selectNode:nn=>{am(m,nn,!1)},selectContents:nn=>{am(m,nn)},getInnerHeight:()=>m.innerHeight,getScrollY:()=>Cs(An.fromDom(m.document)).top,scrollBy:(nn,Eo)=>{Gl(nn,Eo,An.fromDom(m.document))}}),nh=(m,y)=>({rows:m,cols:y}),xA=(m,y,E,D)=>{const H=Ex(m),q=bA(H,y,E,D);return{clearstate:q.clearstate,mousedown:q.mousedown,mouseover:q.mouseover,mouseup:q.mouseup}},wA=m=>$0(m,Z1).exists(Nf),bS=(m,y)=>wA(m)||wA(y),yS=(m,y,E,D)=>{const H=Ex(m),q=()=>(D.clear(y),Re.none());return{keydown:(Se,We,pt,tn,Fn,Rn)=>{const ro=Se.raw,$t=ro.which,nn=ro.shiftKey===!0;return oS(y,D.selectedSelector).fold(()=>(a0($t)&&!nn&&D.clearBeforeUpdate(y),a0($t)&&nn&&!bS(We,tn)?Re.none:Qy($t)&&nn?Ke(Yy,H,y,E,pS,tn,We,D.selectRange):r0($t)&&nn?Ke(Yy,H,y,E,yA,tn,We,D.selectRange):Qy($t)?Ke(Cx,H,E,pS,tn,We,Sx):r0($t)?Ke(Cx,H,E,yA,tn,We,lw):Re.none),Xo=>{const Kn=Sr=>()=>Nt(Sr,Wo=>TD(Wo.rows,Wo.cols,y,Xo,D)).fold(()=>sA(y,D.firstSelectedSelector,D.lastSelectedSelector).map(Wo=>{const el=Qy($t)||Rn.isForward($t)?aa.after:aa.before;return H.setRelativeSelection(aa.on(Wo.first,0),el(Wo.table)),D.clear(y),Rb.create(Re.none(),!0)}),Wo=>Re.some(Rb.create(Re.none(),!0)));return a0($t)&&nn&&!bS(We,tn)?Re.none:Qy($t)&&nn?Kn([nh(1,0)]):r0($t)&&nn?Kn([nh(-1,0)]):Rn.isBackward($t)&&nn?Kn([nh(0,-1),nh(-1,0)]):Rn.isForward($t)&&nn?Kn([nh(0,1),nh(1,0)]):a0($t)&&!nn?q:Re.none})()},keyup:(Se,We,pt,tn,Fn)=>oS(y,D.selectedSelector).fold(()=>{const Rn=Se.raw,ro=Rn.which;return Rn.shiftKey===!0&&a0(ro)&&bS(We,tn)?cA(y,E,We,pt,tn,Fn,D.selectRange):Re.none()},Re.none)}},CA=(m,y,E,D)=>{const H=Ex(m);return(q,ne)=>{D.clearBeforeUpdate(y),Q2(q,ne,E).each(de=>{const Se=de.boxes.getOr([]);D.selectRange(y,Se,de.start,de.finish),H.selectContents(ne),H.collapseSelection()})}},EA={byClass:m=>{const y=Tg(m.selected),E=Ag([m.selected,m.lastSelected,m.firstSelected]),D=q=>{const ne=Ad(q,m.selectedSelector);le(ne,E)};return{clearBeforeUpdate:D,clear:D,selectRange:(q,ne,de,Se)=>{D(q),le(ne,y),Td(de,m.firstSelected),Td(Se,m.lastSelected)},selectedSelector:m.selectedSelector,firstSelectedSelector:m.firstSelectedSelector,lastSelectedSelector:m.lastSelectedSelector}},byAttr:(m,y,E)=>{const D=Se=>{$s(Se,m.selected),$s(Se,m.firstSelected),$s(Se,m.lastSelected)},H=Se=>{ri(Se,m.selected,"1")},q=Se=>{ne(Se),E()},ne=Se=>{const We=Ad(Se,`${m.selectedSelector},${m.firstSelectedSelector},${m.lastSelectedSelector}`);le(We,D)};return{clearBeforeUpdate:ne,clear:q,selectRange:(Se,We,pt,tn)=>{q(Se),le(We,H),ri(pt,m.firstSelected,"1"),ri(tn,m.lastSelected,"1"),y(We,pt,tn)},selectedSelector:m.selectedSelector,firstSelectedSelector:m.firstSelectedSelector,lastSelectedSelector:m.lastSelectedSelector}}},Bb="data-mce-selected",vS="td["+Bb+"],th["+Bb+"]",TA="["+Bb+"]",xS="data-mce-first-selected",wS="td["+xS+"],th["+xS+"]",CS="data-mce-last-selected",jD="td["+CS+"],th["+CS+"]",Lb=TA,Pb={selected:Bb,selectedSelector:vS,firstSelected:xS,firstSelectedSelector:wS,lastSelected:CS,lastSelectedSelector:jD},cw=(m,y,E)=>({element:E,mergable:xD(y,m,Pb),unmergable:ew(m),selection:iA(m)}),uw=(m,y,E)=>({element:m,clipboard:y,generators:E}),AA=(m,y,E,D)=>({selection:iA(m),clipboard:E,generators:D}),VD=m=>su(m).bind(y=>Nb(y,Pb.firstSelectedSelector)).fold(J(m),y=>y[0]),kA=m=>(y,E)=>{const D=Aa(y),H=D==="col"||D==="colgroup"?VD(y):y;return di(H,m,E)},jo=kA("th,td,caption"),dw=kA("th,td"),Uf=m=>ra(m.model.table.getSelectedCells()),Tx=m=>Ne(Uf(m),y=>Ui(y,Pb.selectedSelector)),UD=m=>su(m[0]).map(y=>{const E=Ip(y,Lb);return th(E),[E]}),fw=(m,y)=>an(y,E=>m.selection.serializer.serialize(E.dom,{})).join(""),ZD=(m,y)=>{const E=m.getDoc(),D=vp(An.fromDom(m.getBody())),H=An.fromTag("div",E);ri(H,"data-mce-bogus","all"),cr(H,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const q=Au(D);ku(H,y),ws(q,H);const ne=H.dom.innerText;return qi(H),ne},SS=(m,y)=>{m.on("BeforeGetContent",E=>{const D=H=>{E.preventDefault(),UD(H).each(q=>{const ne=E.format==="text"?ZD(m,q):fw(m,q);E.content=ne})};if(E.selection===!0){const H=Tx(m);H.length>=1&&D(H)}}),m.on("BeforeSetContent",E=>{if(E.selection===!0&&E.paste===!0){const D=Uf(m);Le(D).each(H=>{su(H).each(q=>{const ne=Ne(wp(E.content),Se=>Aa(Se)!=="meta"),de=Kc("table");if(eS(m)&&ne.length===1&&de(ne[0])){E.preventDefault();const Se=An.fromDom(m.getDoc()),We=Gv(Se),pt=uw(H,ne[0],We);y.pasteCells(q,pt).each(()=>{m.focus()})}})})}})},ES=(m,y)=>m.dispatch("NewRow",{node:y}),Ax=(m,y)=>m.dispatch("NewCell",{node:y}),Kh=(m,y,E)=>{m.dispatch("TableModified",{...E,table:y})},Jy=(m,y,E,D,H)=>{m.dispatch("TableSelectionChange",{cells:y,start:E,finish:D,otherCells:H})},WD=m=>{m.dispatch("TableSelectionClear")},Fb=(m,y,E,D,H)=>{m.dispatch("ObjectResizeStart",{target:y,width:E,height:D,origin:H})},kx=(m,y,E,D,H)=>{m.dispatch("ObjectResized",{target:y,width:E,height:D,origin:H})},mw={structure:!1,style:!0},Hl={structure:!0,style:!1},qD={structure:!0,style:!0},TS=(m,y)=>d1(m)?hl.percentageSize(y):Ug(m)?hl.pixelSize(y):hl.getTableSize(y),m1=(m,y,E)=>{const D=$c=>Aa(K2($c))==="table",H=$c=>!D(m)||t1($c).rows>1,q=$c=>!D(m)||t1($c).columns>1,ne=GT(m),de=G2(m)?be:Ff,Se=$c=>{switch(W2(m)){case"section":return lm.section();case"sectionCells":return lm.sectionCells();case"cells":return lm.cells();default:return lm.getTableSectionType($c,"section")}},We=($c,ww)=>ww.cursor.fold(()=>{const Nx=af($c);return Le(Nx).filter(uo).map(c0=>{E.clearSelectedCells($c.dom);const Hu=m.dom.createRng();return Hu.selectNode(c0.dom),m.selection.setRng(Hu),ri(c0,"data-mce-selected","1"),Hu})},Nx=>{const c0=df(Nx),Hu=m.dom.createRng();return Hu.setStart(c0.element.dom,c0.offset),Hu.setEnd(c0.element.dom,c0.offset),m.selection.setRng(Hu),E.clearSelectedCells($c.dom),Re.some(Hu)}),pt=($c,ww,Nx,c0)=>(Hu,JD,BA=!1)=>{th(Hu);const eo=An.fromDom(m.getDoc()),Vd=Gm(Nx,eo,ne),e_={sizing:TS(m,Hu),resize:G2(m)?Tp():S2(),section:Se(Hu)};return ww(Hu)?$c(Hu,JD,Vd,e_).bind(Cw=>{y.refresh(Hu.dom),le(Cw.newRows,Ib=>{ES(m,Ib.dom)}),le(Cw.newCells,Ib=>{Ax(m,Ib.dom)});const LA=We(Hu,Cw);return uo(Hu)&&(th(Hu),BA||Kh(m,Hu.dom,c0)),LA.map(Ib=>({rng:Ib,effect:c0}))}):Re.none()},tn=pt(ix,H,be,Hl),Fn=pt(hf,q,be,Hl),Rn=pt(xm,qe,be,Hl),ro=pt(ZC,qe,be,Hl),$t=pt(t0,qe,de,Hl),nn=pt(Lr,qe,de,Hl),Eo=pt(j2,qe,be,Hl),Xo=pt(lx,qe,be,Hl),Kn=pt(a,qe,be,Hl),Sr=pt(d,qe,be,Hl),Er=pt(g,qe,be,Hl),Wo=pt(C,qe,be,Hl),el=pt(Ob,qe,be,qD),Cm=pt(Zy,qe,be,Hl),l0=pt(Wy,qe,be,Hl),p1=pt(wm,qe,be,Hl),$b=pt(jd,qe,be,Hl),jr=pt(sc,qe,be,Hl),dd=pt(n0,qe,be,Hl),wi=pt(Uy,qe,be,Hl);return{deleteRow:tn,deleteColumn:Fn,insertRowsBefore:Rn,insertRowsAfter:ro,insertColumnsBefore:$t,insertColumnsAfter:nn,mergeCells:Eo,unmergeCells:Xo,pasteColsBefore:Kn,pasteColsAfter:Sr,pasteRowsBefore:Er,pasteRowsAfter:Wo,pasteCells:el,makeCellsHeader:Cm,unmakeCellsHeader:l0,makeColumnsHeader:p1,unmakeColumnsHeader:$b,makeRowsHeader:jr,makeRowsBody:dd,makeRowsFooter:wi,getTableRowType:se,getTableCellType:$,getTableColType:N}},qg=(m,y)=>{m.selection.select(y.dom,!0),m.selection.collapse(!0)},AS=(m,y)=>{Ed(y,"td,th").each(Ke(qg,m))},DA=(m,y)=>{le(Ad(y,"tr"),E=>{ES(m,E.dom),le(Ad(E,"th,td"),D=>{Ax(m,D.dom)})})},GD=m=>O(m)&&m.indexOf("%")!==-1,hw=(m,y,E,D,H)=>{const q=XT(m),ne={styles:q,attributes:YT(m),colGroups:QT(m)};return m.undoManager.ignore(()=>{const de=Jm(E,y,H,D,W2(m),ne);ri(de,"data-mce-id","__mce");const Se=Eh(de);m.insertContent(Se),m.addVisual()}),Ed(K2(m),'table[data-mce-id="__mce"]').map(de=>(Ug(m)?Qa(de):gx(m)?Qi(de):(d1(m)||GD(q.width))&&Ig(de),th(de),$s(de,"data-mce-id"),DA(m,de),AS(m,de),de.dom)).getOrNull()},Dx=(m,y,E,D={})=>{const H=q=>Fe(q)&&q>0;if(H(y)&&H(E)){const q=D.headerRows||0,ne=D.headerColumns||0;return hw(m,E,y,ne,q)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var h1=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const gw="x-tinymce/dom-table-",pw=gw+"rows",g1=gw+"columns",_x=m=>{const y=h1.FakeClipboardItem(m);h1.write([y])},kS=m=>{const y=h1.read()??[];return Nt(y,E=>Re.from(E.getType(m)))},bw=m=>{kS(m).isSome()&&h1.clear()},Yh=m=>{m.fold(Gg,y=>_x({[pw]:y}))},_A=()=>kS(pw),Gg=()=>bw(pw),DS=m=>{m.fold(ev,y=>_x({[g1]:y}))},yw=()=>kS(g1),ev=()=>bw(g1),Ox=m=>jo(Y2(m),bl(m)).filter(px),vw=m=>dw(Y2(m),bl(m)).filter(px),KD=(m,y)=>{const E=bl(m),D=()=>Ox(m).each(nn=>{su(nn,E).filter(ie(E)).each(Eo=>{const Xo=An.fromText("");if(wd(Eo,Xo),qi(Eo),m.dom.isEmpty(m.getBody()))m.setContent(""),m.selection.setCursorLocation();else{const Kn=m.dom.createRng();Kn.setStart(Xo.dom,0),Kn.setEnd(Xo.dom,0),m.selection.setRng(Kn),m.nodeChanged()}})}),H=nn=>Ox(m).each(Eo=>{gx(m)||Ug(m)||d1(m)||su(Eo,E).each(Kn=>{nn==="relative"&&!gb(Kn)?Ig(Kn):nn==="fixed"&&!L2(Kn)?Qa(Kn):nn==="responsive"&&!P2(Kn)&&Qi(Kn),th(Kn),Kh(m,Kn.dom,Hl)})}),q=nn=>su(nn,E),ne=nn=>vw(m).bind(Eo=>q(Eo).map(Xo=>nn(Xo,Eo))),de=(nn,Eo)=>{ne(Xo=>{m.formatter.toggle("tableclass",{value:Eo},Xo.dom),Kh(m,Xo.dom,mw)})},Se=(nn,Eo)=>{ne(Xo=>{const Kn=Uf(m),Er=Ho(Kn,Wo=>m.formatter.match("tablecellclass",{value:Eo},Wo.dom))?m.formatter.remove:m.formatter.apply;le(Kn,Wo=>Er("tablecellclass",{value:Eo},Wo.dom)),Kh(m,Xo.dom,mw)})},We=()=>{Ox(m).each(nn=>{su(nn,E).each(Eo=>{ka(Eo,"caption").fold(()=>{const Xo=An.fromTag("caption");ws(Xo,An.fromText("Caption")),F0(Eo,Xo,0),m.selection.setCursorLocation(Xo.dom,0)},Xo=>{Kc("caption")(nn)&&fc("td",Eo).each(Kn=>m.selection.setCursorLocation(Kn.dom,0)),qi(Xo)}),Kh(m,Eo.dom,Hl)})})},pt=nn=>{m.focus()},tn=(nn,Eo=!1)=>ne((Xo,Kn)=>{const Sr=cw(Uf(m),Xo,Kn);nn(Xo,Sr,Eo).each(pt)}),Fn=()=>ne((nn,Eo)=>{const Xo=cw(Uf(m),nn,Eo),Kn=Gm(be,An.fromDom(m.getDoc()),Re.none());return wc(nn,Xo,Kn)}),Rn=()=>ne((nn,Eo)=>{const Xo=cw(Uf(m),nn,Eo);return Lc(nn,Xo)}),ro=(nn,Eo)=>Eo().each(Xo=>{const Kn=an(Xo,Sr=>ai(Sr));ne((Sr,Er)=>{const Wo=Gv(An.fromDom(m.getDoc())),el=AA(Uf(m),Er,Kn,Wo);nn(Sr,el).each(pt)})}),$t=nn=>(Eo,Xo)=>mr(Xo,"type").each(Kn=>{tn(nn(Kn),Xo.no_events)});Dt({mceTableSplitCells:()=>tn(y.unmergeCells),mceTableMergeCells:()=>tn(y.mergeCells),mceTableInsertRowBefore:()=>tn(y.insertRowsBefore),mceTableInsertRowAfter:()=>tn(y.insertRowsAfter),mceTableInsertColBefore:()=>tn(y.insertColumnsBefore),mceTableInsertColAfter:()=>tn(y.insertColumnsAfter),mceTableDeleteCol:()=>tn(y.deleteColumn),mceTableDeleteRow:()=>tn(y.deleteRow),mceTableCutCol:()=>Rn().each(nn=>{DS(nn),tn(y.deleteColumn)}),mceTableCutRow:()=>Fn().each(nn=>{Yh(nn),tn(y.deleteRow)}),mceTableCopyCol:()=>Rn().each(nn=>DS(nn)),mceTableCopyRow:()=>Fn().each(nn=>Yh(nn)),mceTablePasteColBefore:()=>ro(y.pasteColsBefore,yw),mceTablePasteColAfter:()=>ro(y.pasteColsAfter,yw),mceTablePasteRowBefore:()=>ro(y.pasteRowsBefore,_A),mceTablePasteRowAfter:()=>ro(y.pasteRowsAfter,_A),mceTableDelete:D,mceTableCellToggleClass:Se,mceTableToggleClass:de,mceTableToggleCaption:We,mceTableSizingMode:(nn,Eo)=>H(Eo),mceTableCellType:$t(nn=>nn==="th"?y.makeCellsHeader:y.unmakeCellsHeader),mceTableColType:$t(nn=>nn==="th"?y.makeColumnsHeader:y.unmakeColumnsHeader),mceTableRowType:$t(nn=>{switch(nn){case"header":return y.makeRowsHeader;case"footer":return y.makeRowsFooter;default:return y.makeRowsBody}})},(nn,Eo)=>m.addCommand(Eo,nn)),m.addCommand("mceInsertTable",(nn,Eo)=>{Dx(m,Eo.rows,Eo.columns,Eo.options)}),m.addCommand("mceTableApplyCellStyle",(nn,Eo)=>{const Xo=Er=>"tablecell"+Er.toLowerCase().replace("-","");if(!I(Eo))return;const Kn=Ne(Uf(m),px);if(Kn.length===0)return;const Sr=Yo(Eo,(Er,Wo)=>m.formatter.has(Xo(Wo))&&O(Er));Vs(Sr)||(Dt(Sr,(Er,Wo)=>{const el=Xo(Wo);le(Kn,Cm=>{Er===""?m.formatter.remove(el,{value:null},Cm.dom,!0):m.formatter.apply(el,{value:Er},Cm.dom)})}),q(Kn[0]).each(Er=>Kh(m,Er.dom,mw)))})},OA=(m,y)=>{const E=bl(m),D=H=>dw(Y2(m)).bind(q=>su(q,E).map(ne=>{const de=cw(Uf(m),ne,q);return H(ne,de)})).getOr("");Dt({mceTableRowType:()=>D(y.getTableRowType),mceTableCellType:()=>D(y.getTableCellType),mceTableColType:()=>D(y.getTableColType)},(H,q)=>m.addQueryValueHandler(q,H))},xw=m=>!gc(An.fromDom(m.target),"ephox-snooker-resizer-bar"),YD=(m,y)=>{const E=ED(()=>An.fromDom(m.getBody()),()=>dw(Y2(m),bl(m)),Pb.selectedSelector),D=(Se,We,pt)=>{su(We).each(Fn=>{const Rn=an(Se,Xo=>Xo.dom),ro=GT(m),$t=Gm(be,An.fromDom(m.getDoc()),ro),nn=Uf(m),Eo=jp(Fn,{selection:nn},$t).map(Xo=>Pe(Xo,Kn=>an(Kn,Sr=>Sr.dom))).getOrUndefined();Jy(m,Rn,We.dom,pt.dom,Eo)})},H=()=>WD(m),q=EA.byAttr(Pb,D,H);return m.on("init",Se=>{const We=m.getWin(),pt=K2(m),tn=bl(m),Fn=()=>{const jr=m.selection,dd=An.fromDom(jr.getStart()),wi=An.fromDom(jr.getEnd());Dr(su,[dd,wi]).fold(()=>q.clear(pt),be)},Rn=xA(We,pt,tn,q),ro=yS(We,pt,tn,q),$t=CA(We,pt,tn,q),nn=jr=>jr.raw.shiftKey===!0;m.on("TableSelectorChange",jr=>$t(jr.start,jr.finish));const Eo=(jr,dd)=>{nn(jr)&&(dd.kill&&jr.kill(),dd.selection.each(wi=>{const Qh=j.relative(wi.start,wi.finish),Iu=mn(We,Qh);m.selection.setRng(Iu)}))},Xo=jr=>{const dd=Ai(jr);if(dd.raw.shiftKey&&a0(dd.raw.which)){const wi=m.selection.getRng(),Qh=An.fromDom(wi.startContainer),Iu=An.fromDom(wi.endContainer);ro.keyup(dd,Qh,wi.startOffset,Iu,wi.endOffset).each(Wf=>{Eo(dd,Wf)})}},Kn=jr=>{const dd=Ai(jr);y.hide();const wi=m.selection.getRng(),Qh=An.fromDom(wi.startContainer),Iu=An.fromDom(wi.endContainer),Wf=Of(i0,vA)(An.fromDom(m.selection.getStart()));ro.keydown(dd,Qh,wi.startOffset,Iu,wi.endOffset,Wf).each($c=>{Eo(dd,$c)}),y.show()},Sr=jr=>jr.button===0,Er=jr=>jr.buttons===void 0?!0:(jr.buttons&1)!==0,Wo=jr=>{Rn.clearstate()},el=jr=>{Sr(jr)&&xw(jr)&&Rn.mousedown(Ai(jr))},Cm=jr=>{Er(jr)&&xw(jr)&&Rn.mouseover(Ai(jr))},l0=jr=>{Sr(jr)&&xw(jr)&&Rn.mouseup(Ai(jr))},$b=(()=>{const jr=gs(An.fromDom(pt)),dd=gs(0);return{touchEnd:Qh=>{const Iu=An.fromDom(Qh.target);if(Kc("td")(Iu)||Kc("th")(Iu)){const Wf=jr.get(),$c=dd.get();qs(Wf,Iu)&&Qh.timeStamp-$c<300&&(Qh.preventDefault(),$t(Iu,Iu))}jr.set(Iu),dd.set(Qh.timeStamp)}}})();m.on("dragstart",Wo),m.on("mousedown",el),m.on("mouseover",Cm),m.on("mouseup",l0),m.on("touchend",$b.touchEnd),m.on("keyup",Xo),m.on("keydown",Kn),m.on("NodeChange",Fn)}),m.on("PreInit",()=>{m.serializer.addTempAttr(Pb.firstSelected),m.serializer.addTempAttr(Pb.lastSelected)}),{getSelectedCells:()=>sS(E.get(),J([]),Se=>an(Se,We=>We.dom),Se=>[Se.dom]),clearSelectedCells:Se=>q.clear(An.fromDom(Se))}},_S=(m,y)=>{const E=An.fromDom(m.getBody());return sd.body(E,y)},Xh=m=>Ce(m)&&m.nodeName==="TABLE",OS="bar-",XD=m=>Qc(m,"data-mce-resize")!=="false",NA=m=>{const y=ns.fromTable(m);ns.hasColumns(y)||le(af(m),E=>{const D=Nc(E,"width");$a(E,"width",D),$s(E,"width")})},RA=m=>gn(m,"corner-"),MA=m=>Ue(m,"corner-"),QD=m=>{const y=tr(),E=tr(),D=tr();let H,q,ne,de;const Se=Kn=>TS(m,Kn),We=()=>q2(m)?S2():Tp(),pt=Kn=>t1(Kn).columns,tn=Kn=>t1(Kn).rows,Fn=(Kn,Sr,Er,Wo)=>{const el=MA(Sr),Cm=Ao(el,"e"),l0=gn(el,"n");if(q===""&&Ig(Kn),de===""&&mu(Kn),Er!==H&&q!==""){$a(Kn,"width",q);const p1=We(),$b=Se(Kn),jr=q2(m)||Cm?pt(Kn)-1:0;xr(Kn,Er-H,jr,p1,$b)}else if(nA(q)){const p1=parseFloat(q.replace("%","")),$b=Er*p1/H;$a(Kn,"width",$b+"%")}if(oA(q)&&NA(Kn),Wo!==ne&&de!==""){$a(Kn,"height",de);const p1=l0?0:tn(Kn)-1;Nr(Kn,Wo-ne,p1)}},Rn=()=>{E.on(Kn=>{Kn.destroy()})};m.on("init",()=>{const Kn=_S(m,XD);if(D.set(Kn),Z2(m)&&KT(m)){const Sr=We(),Er=QC.create(Kn,Sr,Se);m.mode.isReadOnly()||Er.on(),Er.events.startDrag.bind(Wo=>{y.set(m.selection.getRng())}),Er.events.beforeResize.bind(Wo=>{const el=Wo.table.dom;Fb(m,el,JT(el),eA(el),OS+Wo.type)}),Er.events.afterResize.bind(Wo=>{const el=Wo.table,Cm=el.dom;th(el),y.on(l0=>{m.selection.setRng(l0),m.focus()}),kx(m,Cm,JT(Cm),eA(Cm),OS+Wo.type),m.undoManager.add()}),E.set(Er)}}),m.on("ObjectResizeStart",Kn=>{const Sr=Kn.target;if(Xh(Sr)&&!m.mode.isReadOnly()){const Er=An.fromDom(Sr);le(m.dom.select(".mce-clonedresizable"),Wo=>{m.dom.addClass(Wo,"mce-"+hx(m)+"-columns")}),!L2(Er)&&Ug(m)?Qa(Er):!gb(Er)&&d1(m)&&Ig(Er),P2(Er)&&gn(Kn.origin,OS)&&Ig(Er),H=Kn.width,q=gx(m)?"":X2(m,Sr).getOr(""),ne=Kn.height,de=tS(m,Sr).getOr("")}}),m.on("ObjectResized",Kn=>{const Sr=Kn.target;if(Xh(Sr)){const Er=An.fromDom(Sr),Wo=Kn.origin;RA(Wo)&&Fn(Er,Wo,Kn.width,Kn.height),th(Er),Kh(m,Er.dom,mw)}});const ro=()=>{E.on(Kn=>{Kn.on(),Kn.showBars()})},$t=()=>{E.on(Kn=>{Kn.off(),Kn.hideBars()})};return m.on("DisabledStateChange",Kn=>{Kn.state?$t():ro()}),m.on("SwitchMode",()=>{m.mode.isReadOnly()?$t():ro()}),m.on("dragstart dragend",Kn=>{Kn.type==="dragstart"?$t():ro()}),m.on("remove",()=>{Rn()}),{refresh:Kn=>{E.on(Sr=>Sr.refreshBars(An.fromDom(Kn)))},hide:()=>{E.on(Kn=>Kn.hideBars())},show:()=>{E.on(Kn=>Kn.showBars())}}},Ra=m=>{TB(m);const y=QD(m),E=YD(m,y),D=m1(m,y,E);return KD(m,D),OA(m,D),SS(m,D),{getSelectedCells:E.getSelectedCells,clearSelectedCells:E.clearSelectedCells}},Zf=m=>({table:Ra(m)});var tv=()=>{l.add("dom",Zf)};tv()})()),zre}var Vre;function oxe(){return Vre||(Vre=1,nxe()),Hre}oxe();var Ure={},Zre={},Wre;function sxe(){return Wre||(Wre=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=(le,Ve,It)=>{const Ne=Ve==="UL"?"InsertUnorderedList":"InsertOrderedList";le.execCommand(Ne,!1,It===!1?null:{"list-style-type":It})},p=le=>{le.addCommand("ApplyUnorderedListStyle",(Ve,It)=>{u(le,"UL",It["list-style-type"])}),le.addCommand("ApplyOrderedListStyle",(Ve,It)=>{u(le,"OL",It["list-style-type"])})},x=le=>Ve=>Ve.options.get(le),A=le=>{const Ve=le.options.register;Ve("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),Ve("advlist_bullet_styles",{processor:"string[]",default:"default,disc,circle,square".split(",")})},R=x("advlist_number_styles"),O=x("advlist_bullet_styles"),I=le=>le==null,U=le=>!I(le);class V{tag;value;static singletonNone=new V(!1);constructor(Ve,It){this.tag=Ve,this.value=It}static some(Ve){return new V(!0,Ve)}static none(){return V.singletonNone}fold(Ve,It){return this.tag?It(this.value):Ve()}isSome(){return this.tag}isNone(){return!this.tag}map(Ve){return this.tag?V.some(Ve(this.value)):V.none()}bind(Ve){return this.tag?Ve(this.value):V.none()}exists(Ve){return this.tag&&Ve(this.value)}forall(Ve){return!this.tag||Ve(this.value)}filter(Ve){return!this.tag||Ve(this.value)?this:V.none()}getOr(Ve){return this.tag?this.value:Ve}or(Ve){return this.tag?this:Ve}getOrThunk(Ve){return this.tag?this.value:Ve()}orThunk(Ve){return this.tag?this:Ve()}getOrDie(Ve){if(this.tag)return this.value;throw new Error(Ve??"Called getOrDie on None")}static from(Ve){return U(Ve)?V.some(Ve):V.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ve){this.tag&&Ve(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Y=Array.prototype.indexOf,ee=(le,Ve)=>Y.call(le,Ve),ue=(le,Ve)=>ee(le,Ve)>-1,Ce=(le,Ve,It)=>{for(let Ne=0,mt=le.length;Ne<mt;Ne++){const He=le[Ne];if(Ve(He,Ne))return V.some(He);if(It(He,Ne))break}return V.none()},pe=Object.keys,Fe=(le,Ve)=>{const It=pe(le);for(let Ne=0,mt=It.length;Ne<mt;Ne++){const He=It[Ne],ft=le[He];Ve(ft,He)}},be=(le,Ve)=>lt(le,(It,Ne)=>({k:Ne,v:Ve(It,Ne)})),lt=(le,Ve)=>{const It={};return Fe(le,(Ne,mt)=>{const He=Ve(Ne,mt);It[He.k]=He.v}),It};var Oe=tinymce.util.Tools.resolve("tinymce.util.Tools");const J=le=>/\btox\-/.test(le.className),it=(le,Ve)=>le.dom.isChildOf(Ve,le.getBody()),jt=le=>Ve=>U(Ve)&&le.test(Ve.nodeName),Ke=jt(/^(OL|UL|DL)$/),ie=jt(/^(TH|TD)$/),ut=(le,Ve,It)=>Ce(Ve,Ne=>Ke(Ne)&&!J(Ne),ie).exists(Ne=>Ne.nodeName===It&&it(le,Ne)),xn=le=>{const Ve=le.dom.getParent(le.selection.getNode(),"ol,ul"),It=le.dom.getStyle(Ve,"listStyleType");return V.from(It)},fn=(le,Ve)=>Ve!==null&&!le.dom.isEditable(Ve),qe=(le,Ve)=>{const It=le.dom.getParent(Ve,"ol,ul,dl");return fn(le,It)||!le.selection.isEditable()},Re=(le,Ve)=>{const It=le.selection.getNode();return Ve({parents:le.dom.getParents(It),element:It}),le.on("NodeChange",Ve),()=>le.off("NodeChange",Ve)},Qo=le=>le.replace(/\-/g," ").replace(/\b\w/g,Ve=>Ve.toUpperCase()),vt=le=>I(le)||le==="default"?"":le,Lt=(le,Ve)=>It=>{const Ne=(He,ft)=>{const X=He.selection.getStart(!0);It.setActive(ut(He,ft,Ve)),It.setEnabled(!qe(He,X))};return Re(le,He=>Ne(le,He.parents))},F=(le,Ve,It,Ne,mt,He)=>{const ft={"lower-latin":"lower-alpha","upper-latin":"upper-alpha","lower-alpha":"lower-latin","upper-alpha":"upper-latin"},X=be(ft,$o=>ue(He,$o));le.ui.registry.addSplitButton(Ve,{tooltip:It,chevronTooltip:It,icon:mt==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:mt==="OL"?3:4,fetch:$o=>{const xo=Oe.map(He,Mo=>{const Ho=mt==="OL"?"num":"bull",js=Mo==="decimal"?"default":Mo,Be=vt(Mo),Ye=Qo(Mo);return{type:"choiceitem",value:Be,icon:"list-"+Ho+"-"+js,text:Ye}});$o(xo)},onAction:()=>le.execCommand(Ne),onItemAction:($o,xo)=>{u(le,mt,xo)},select:$o=>xn(le).exists(Mo=>$o===Mo||ft[Mo]===$o&&!X[$o]),onSetup:Lt(le,mt)})},Vt=(le,Ve,It,Ne,mt,He)=>{le.ui.registry.addToggleButton(Ve,{active:!1,tooltip:It,icon:mt==="OL"?"ordered-list":"unordered-list",onSetup:Lt(le,mt),onAction:()=>le.queryCommandState(Ne)||He===""?le.execCommand(Ne):u(le,mt,He)})},at=(le,Ve,It,Ne,mt,He)=>{He.length>1?F(le,Ve,It,Ne,mt,He):Vt(le,Ve,It,Ne,mt,vt(He[0]))},Jn=le=>{at(le,"numlist","Numbered list","InsertOrderedList","OL",R(le)),at(le,"bullist","Bullet list","InsertUnorderedList","UL",O(le))};var an=()=>{l.add("advlist",le=>{le.hasPlugin("lists")?(A(le),Jn(le),p(le)):console.error("Please use the Lists plugin together with the List Styles plugin.")})};an()})()),Zre}var qre;function rxe(){return qre||(qre=1,sxe()),Ure}rxe();var Gre={},Kre={},Yre;function axe(){return Yre||(Yre=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=(Ne,mt,He)=>He(Ne,mt.prototype)?!0:Ne.constructor?.name===mt.name,p=Ne=>{const mt=typeof Ne;return Ne===null?"null":mt==="object"&&Array.isArray(Ne)?"array":mt==="object"&&u(Ne,String,(He,ft)=>ft.isPrototypeOf(He))?"string":mt},x=Ne=>mt=>p(mt)===Ne,A=Ne=>mt=>Ne===mt,R=x("string"),O=A(void 0),I=Ne=>Ne==null,U=Ne=>!I(Ne),V=Ne=>mt=>!Ne(mt),Y=Object.hasOwnProperty,ee=(Ne,mt)=>Y.call(Ne,mt),ue=(Ne,mt,He)=>Ne.length>=mt.length&&Ne.substr(He,He+mt.length)===mt,Ce=(Ne,mt,He=0,ft)=>{const X=Ne.indexOf(mt,He);return X!==-1?O(ft)?!0:X+mt.length<=ft:!1},pe=(Ne,mt)=>ue(Ne,mt,0),Fe="\uFEFF",be=Ne=>Ne===Fe,lt=Ne=>Ne.replace(/\uFEFF/g,""),Oe=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,J=Ne=>mt=>mt.options.get(Ne),it=Ne=>{const mt=Ne.options.register;mt("autolink_pattern",{processor:"regexp",default:new RegExp("^"+Oe().source+"$","i")}),mt("link_default_target",{processor:"string"}),mt("link_default_protocol",{processor:"string",default:"https"})},jt=J("autolink_pattern"),Ke=J("link_default_target"),ie=J("link_default_protocol"),ut=J("allow_unsafe_link_target");var xn=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const fn=Ne=>Ne.nodeType===3,qe=Ne=>Ne.nodeType===1,Re=Ne=>/^[(\[{ \u00a0]$/.test(Ne),Qo=Ne=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(Ne),vt=Ne=>/[?!,.;:]/.test(Ne),Lt=(Ne,mt,He)=>{for(let ft=mt-1;ft>=0;ft--){const X=Ne.charAt(ft);if(!be(X)&&He(X))return ft}return-1},F=(Ne,mt)=>{let He=Ne,ft=mt;for(;qe(He)&&He.childNodes[ft];)He=He.childNodes[ft],ft=fn(He)?He.data.length:He.childNodes.length;return{container:He,offset:ft}},Vt=(Ne,mt)=>{const He=Ne.schema.getVoidElements(),ft=jt(Ne),{dom:X,selection:$o}=Ne;if(X.getParent($o.getNode(),"a[href]")!==null||Ne.mode.isReadOnly())return null;const xo=$o.getRng(),Mo=xn(X,Un=>X.isBlock(Un)||ee(He,Un.nodeName.toLowerCase())||X.getContentEditable(Un)==="false"||X.getParent(Un,"a[href]")!==null),{container:Ho,offset:js}=F(xo.endContainer,xo.endOffset),Be=X.getParent(Ho,X.isBlock)??X.getRoot(),Ye=Mo.backwards(Ho,js+mt,(Un,Dt)=>{const Pe=Un.data,Tt=Lt(Pe,Dt,V(Re));return Tt===-1||vt(Pe[Tt])?Tt:Tt+1},Be);if(!Ye)return null;let tt=Ye.container;const Le=Mo.backwards(Ye.container,Ye.offset,(Un,Dt)=>{tt=Un;const Pe=Lt(Un.data,Dt,Re);return Pe===-1?Pe:Pe+1},Be),Je=X.createRng();Le?Je.setStart(Le.container,Le.offset):Je.setStart(tt,0),Je.setEnd(Ye.container,Ye.offset);const xt=lt(Je.toString()).match(ft);if(xt){let Un=xt[0];return pe(Un,"www.")?Un=ie(Ne)+"://"+Un:Ce(Un,"@")&&!Qo(Un)&&(Un="mailto:"+Un),{rng:Je,url:Un}}else return null},at=(Ne,mt)=>{const{dom:He,selection:ft}=Ne,{rng:X,url:$o}=mt,xo=ft.getBookmark();ft.setRng(X);const Mo="createlink",Ho={command:Mo,ui:!1,value:$o};if(!Ne.dispatch("BeforeExecCommand",Ho).isDefaultPrevented()){Ne.getDoc().execCommand(Mo,!1,$o),Ne.dispatch("ExecCommand",Ho);const Be=Ke(Ne);if(R(Be)){const Ye=ft.getNode();He.setAttrib(Ye,"target",Be),Be==="_blank"&&!ut(Ne)&&He.setAttrib(Ye,"rel","noopener")}}ft.moveToBookmark(xo),Ne.nodeChanged()},Jn=Ne=>{const mt=Vt(Ne,-1);U(mt)&&at(Ne,mt)},an=Jn,le=Ne=>{const mt=Vt(Ne,0);U(mt)&&at(Ne,mt)},Ve=Ne=>{Ne.on("keydown",mt=>{mt.keyCode===13&&!mt.isDefaultPrevented()&&le(Ne)}),Ne.on("keyup",mt=>{mt.keyCode===32?Jn(Ne):(mt.keyCode===48&&mt.shiftKey||mt.keyCode===221)&&an(Ne)})};var It=()=>{l.add("autolink",Ne=>{it(Ne),Ve(Ne)})};It()})()),Kre}var Xre;function ixe(){return Xre||(Xre=1,axe()),Gre}ixe();var Qre={},Jre={},eae;function lxe(){return eae||(eae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=Je=>({backspaceDelete:Nt=>{Je.execCommand("mceListBackspaceDelete",!1,Nt)}}),p=Je=>Je==null,x=Je=>!p(Je),A=Je=>()=>Je,R=(Je,Nt)=>Je===Nt,O=A(!1);class I{tag;value;static singletonNone=new I(!1);constructor(Nt,xt){this.tag=Nt,this.value=xt}static some(Nt){return new I(!0,Nt)}static none(){return I.singletonNone}fold(Nt,xt){return this.tag?xt(this.value):Nt()}isSome(){return this.tag}isNone(){return!this.tag}map(Nt){return this.tag?I.some(Nt(this.value)):I.none()}bind(Nt){return this.tag?Nt(this.value):I.none()}exists(Nt){return this.tag&&Nt(this.value)}forall(Nt){return!this.tag||Nt(this.value)}filter(Nt){return!this.tag||Nt(this.value)?this:I.none()}getOr(Nt){return this.tag?this.value:Nt}or(Nt){return this.tag?this:Nt}getOrThunk(Nt){return this.tag?this.value:Nt()}orThunk(Nt){return this.tag?this:Nt()}getOrDie(Nt){if(this.tag)return this.value;throw new Error(Nt??"Called getOrDie on None")}static from(Nt){return x(Nt)?I.some(Nt):I.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Nt){this.tag&&Nt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const U=Array.prototype.slice,V=(Je,Nt)=>{for(let xt=0,Un=Je.length;xt<Un;xt++){const Dt=Je[xt];if(Nt(Dt,xt))return!0}return!1},Y=(Je,Nt)=>{const xt=Je.length,Un=new Array(xt);for(let Dt=0;Dt<xt;Dt++){const Pe=Je[Dt];Un[Dt]=Nt(Pe,Dt)}return Un},ee=(Je,Nt)=>{for(let xt=0,Un=Je.length;xt<Un;xt++){const Dt=Je[xt];Nt(Dt,xt)}},ue=(Je,Nt,xt)=>(ee(Je,(Un,Dt)=>{xt=Nt(xt,Un,Dt)}),xt),Ce=(Je,Nt,xt)=>{for(let Un=0,Dt=Je.length;Un<Dt;Un++){const Pe=Je[Un];if(Nt(Pe,Un))return I.some(Pe);if(xt(Pe,Un))break}return I.none()},pe=(Je,Nt)=>Ce(Je,Nt,O),Fe=Je=>{const Nt=U.call(Je,0);return Nt.reverse(),Nt},be=(Je,Nt,xt=R)=>Je.exists(Un=>xt(Un,Nt)),Oe=(Je=>Nt=>Nt.replace(Je,""))(/^\s+|\s+$/g),J=Je=>Je.length>0,it=Je=>!J(Je),jt=Je=>{const Nt=Fe(Oe(Je).split("")),xt=Y(Nt,(Un,Dt)=>{const Pe=Un.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,Dt)*Pe});return ue(xt,(Un,Dt)=>Un+Dt,0)},Ke=Je=>{if(Je--,Je<0)return"";{const Nt=Je%26,xt=Math.floor(Je/26),Un=Ke(xt),Dt=String.fromCharCode(65+Nt);return Un+Dt}},ie=Je=>/^[A-Z]+$/.test(Je),ut=Je=>/^[a-z]+$/.test(Je),xn=Je=>/^[0-9]+$/.test(Je),fn=Je=>xn(Je)?2:ie(Je)?0:ut(Je)?1:it(Je)?3:4,qe=Je=>{switch(fn(Je)){case 2:return I.some({listStyleType:I.none(),start:Je});case 0:return I.some({listStyleType:I.some("upper-alpha"),start:jt(Je).toString()});case 1:return I.some({listStyleType:I.some("lower-alpha"),start:jt(Je).toString()});case 3:return I.some({listStyleType:I.none(),start:""});case 4:return I.none()}},Re=Je=>{const Nt=parseInt(Je.start,10);return be(Je.listStyleType,"upper-alpha")?Ke(Nt):be(Je.listStyleType,"lower-alpha")?Ke(Nt).toLowerCase():Je.start},vt=(Je=>Nt=>Nt.options.get(Je))("forced_root_block"),Lt=Je=>/\btox\-/.test(Je.className),F=Je=>Nt=>x(Nt)&&Je.test(Nt.nodeName),Vt=Je=>Nt=>x(Nt)&&Nt.nodeName.toLowerCase()===Je,at=F(/^(OL|UL|DL)$/),Jn=F(/^(TH|TD)$/),an=F(/^(LI|DT|DD)$/),le=(Je,Nt)=>Ce(Je,at,Jn).exists(xt=>xt.nodeName===Nt&&!Lt(xt)),Ve=(Je,Nt)=>{const xt=Je.selection.getNode();return Nt({parents:Je.dom.getParents(xt),element:xt}),Je.on("NodeChange",Nt),()=>Je.off("NodeChange",Nt)},It=(Je,Nt)=>Nt!==null&&!Je.dom.isEditable(Nt),Ne=(Je,Nt)=>{const xt=Je.dom.getParent(Nt,"ol,ul,dl");return It(Je,xt)||!Je.selection.isEditable()},mt=Vt("ol"),He=["OL","UL","DL"],ft=He.join(","),X=(Je,Nt)=>{const xt=Nt||Je.selection.getStart(!0);return Je.dom.getParent(xt,ft,$o(Je,xt))},$o=(Je,Nt)=>{const xt=Je.dom.getParents(Nt,Je.dom.isBlock),Un=Pe=>Pe.nodeName.toLowerCase()!==vt(Je);return pe(xt,Pe=>Un(Pe)&&xo(Je.schema,Pe)).getOr(Je.getBody())},xo=(Je,Nt)=>!at(Nt)&&!an(Nt)&&V(He,xt=>Je.isValidChild(Nt.nodeName,xt)),Mo=Je=>{const Nt=X(Je);!mt(Nt)||Ne(Je,Nt)||Je.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Re({start:Je.dom.getAttrib(Nt,"start","1"),listStyleType:I.from(Je.dom.getStyle(Nt,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:xt=>{const Un=xt.getData();qe(Un.start).each(Dt=>{Je.execCommand("mceListUpdate",!1,{attrs:{start:Dt.start==="1"?"":Dt.start},styles:{"list-style-type":Dt.listStyleType.getOr("")}})}),xt.close()}})},Ho=Je=>{Je.addCommand("mceListProps",()=>{Mo(Je)})},js=(Je,Nt)=>xt=>{const Un=Dt=>{xt.setActive(le(Dt.parents,Nt)),xt.setEnabled(!Ne(Je,Dt.element)&&Je.selection.isEditable())};return xt.setEnabled(Je.selection.isEditable()),Ve(Je,Un)},Be=Je=>{const Nt=xt=>()=>Je.execCommand(xt);Je.hasPlugin("advlist")||(Je.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:Nt("InsertOrderedList"),onSetup:js(Je,"OL")}),Je.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:Nt("InsertUnorderedList"),onSetup:js(Je,"UL")}))},Ye=(Je,Nt)=>xt=>Ve(Je,Dt=>xt.setEnabled(le(Dt.parents,Nt)&&!Ne(Je,Dt.element))),tt=Je=>{const Nt={text:"List properties...",icon:"ordered-list",onAction:()=>Je.execCommand("mceListProps"),onSetup:Ye(Je,"OL")};Je.ui.registry.addMenuItem("listprops",Nt),Je.ui.registry.addContextMenu("lists",{update:xt=>{const Un=X(Je,xt);return mt(Un)?["listprops"]:[]}})};var Le=()=>{l.add("lists",Je=>(Ho(Je),Be(Je),tt(Je),u(Je)))};Le()})()),Jre}var tae;function cxe(){return tae||(tae=1,lxe()),Qre}cxe();var nae={},oae={},sae;function uxe(){return sae||(sae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=(oe,Ae,Qe)=>Qe(oe,Ae.prototype)?!0:oe.constructor?.name===Ae.name,p=oe=>{const Ae=typeof oe;return oe===null?"null":Ae==="object"&&Array.isArray(oe)?"array":Ae==="object"&&u(oe,String,(Qe,Et)=>Et.isPrototypeOf(Qe))?"string":Ae},x=oe=>Ae=>p(Ae)===oe,A=oe=>Ae=>typeof Ae===oe,R=oe=>Ae=>oe===Ae,O=x("string"),I=x("object"),U=x("array"),V=R(null),Y=A("boolean"),ee=oe=>oe==null,ue=oe=>!ee(oe),Ce=A("function"),pe=(oe,Ae)=>{if(U(oe)){for(let Qe=0,Et=oe.length;Qe<Et;++Qe)if(!Ae(oe[Qe]))return!1;return!0}return!1},Fe=()=>{},be=oe=>()=>oe,lt=oe=>oe,Oe=(oe,Ae)=>oe===Ae;class J{tag;value;static singletonNone=new J(!1);constructor(Ae,Qe){this.tag=Ae,this.value=Qe}static some(Ae){return new J(!0,Ae)}static none(){return J.singletonNone}fold(Ae,Qe){return this.tag?Qe(this.value):Ae()}isSome(){return this.tag}isNone(){return!this.tag}map(Ae){return this.tag?J.some(Ae(this.value)):J.none()}bind(Ae){return this.tag?Ae(this.value):J.none()}exists(Ae){return this.tag&&Ae(this.value)}forall(Ae){return!this.tag||Ae(this.value)}filter(Ae){return!this.tag||Ae(this.value)?this:J.none()}getOr(Ae){return this.tag?this.value:Ae}or(Ae){return this.tag?this:Ae}getOrThunk(Ae){return this.tag?this.value:Ae()}orThunk(Ae){return this.tag?this:Ae()}getOrDie(Ae){if(this.tag)return this.value;throw new Error(Ae??"Called getOrDie on None")}static from(Ae){return ue(Ae)?J.some(Ae):J.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ae){this.tag&&Ae(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const it=Array.prototype.indexOf,jt=Array.prototype.push,Ke=(oe,Ae)=>it.call(oe,Ae),ie=(oe,Ae)=>Ke(oe,Ae)>-1,ut=(oe,Ae)=>{const Qe=oe.length,Et=new Array(Qe);for(let pn=0;pn<Qe;pn++){const Wn=oe[pn];Et[pn]=Ae(Wn,pn)}return Et},xn=(oe,Ae)=>{for(let Qe=0,Et=oe.length;Qe<Et;Qe++){const pn=oe[Qe];Ae(pn,Qe)}},fn=(oe,Ae,Qe)=>(xn(oe,(Et,pn)=>{Qe=Ae(Qe,Et,pn)}),Qe),qe=oe=>{const Ae=[];for(let Qe=0,Et=oe.length;Qe<Et;++Qe){if(!U(oe[Qe]))throw new Error("Arr.flatten item "+Qe+" was not an array, input: "+oe);jt.apply(Ae,oe[Qe])}return Ae},Re=(oe,Ae)=>qe(ut(oe,Ae)),Qo=(oe,Ae)=>Ae>=0&&Ae<oe.length?J.some(oe[Ae]):J.none(),vt=oe=>Qo(oe,0),Lt=(oe,Ae)=>{for(let Qe=0;Qe<oe.length;Qe++){const Et=Ae(oe[Qe],Qe);if(Et.isSome())return Et}return J.none()},F=Object.keys,Vt=Object.hasOwnProperty,at=(oe,Ae)=>{const Qe=F(oe);for(let Et=0,pn=Qe.length;Et<pn;Et++){const Wn=Qe[Et],Po=oe[Wn];Ae(Po,Wn)}},Jn=oe=>(Ae,Qe)=>{oe[Qe]=Ae},an=(oe,Ae,Qe,Et)=>{at(oe,(pn,Wn)=>{(Ae(pn,Wn)?Qe:Et)(pn,Wn)})},le=(oe,Ae)=>{const Qe={};return an(oe,Ae,Jn(Qe),Fe),Qe},Ve=(oe,Ae)=>Vt.call(oe,Ae),It=(oe,Ae)=>Ve(oe,Ae)&&oe[Ae]!==void 0&&oe[Ae]!==null,Ne=oe=>{let Ae=oe;return{get:()=>Ae,set:pn=>{Ae=pn}}},mt=(oe,Ae,Qe=Oe)=>oe.exists(Et=>Qe(Et,Ae)),He=oe=>{const Ae=[],Qe=Et=>{Ae.push(Et)};for(let Et=0;Et<oe.length;Et++)oe[Et].each(Qe);return Ae},ft=(oe,Ae)=>oe?J.some(Ae):J.none(),X=oe=>{const Ae=Ne(J.none()),Qe=()=>Ae.get().each(oe);return{clear:()=>{Qe(),Ae.set(J.none())},isSet:()=>Ae.get().isSome(),get:()=>Ae.get(),set:Gs=>{Qe(),Ae.set(J.some(Gs))}}},$o=()=>{const oe=X(Fe);return{...oe,on:Qe=>oe.get().each(Qe)}},xo=(oe,Ae)=>oe.substring(Ae),Mo=(oe,Ae,Qe)=>Ae===""||oe.length>=Ae.length&&oe.substr(Qe,Qe+Ae.length)===Ae,Ho=(oe,Ae)=>js(oe,Ae)?xo(oe,Ae.length):oe,js=(oe,Ae)=>Mo(oe,Ae,0),Be=oe=>Ae=>Ae.options.get(oe),Ye=oe=>{const Ae=oe.options.register;Ae("link_assume_external_targets",{processor:Qe=>{const Et=O(Qe)||Y(Qe);return Et?Qe===!0?{value:1,valid:Et}:Qe==="http"||Qe==="https"?{value:Qe,valid:Et}:{value:0,valid:Et}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),Ae("link_context_toolbar",{processor:"boolean",default:!1}),Ae("link_list",{processor:Qe=>O(Qe)||Ce(Qe)||pe(Qe,I)}),Ae("link_default_target",{processor:"string"}),Ae("link_default_protocol",{processor:"string",default:"https"}),Ae("link_target_list",{processor:Qe=>Y(Qe)||pe(Qe,I),default:!0}),Ae("link_rel_list",{processor:"object[]",default:[]}),Ae("link_class_list",{processor:"object[]",default:[]}),Ae("link_title",{processor:"boolean",default:!0}),Ae("allow_unsafe_link_target",{processor:"boolean",default:!1}),Ae("link_quicklink",{processor:"boolean",default:!1}),Ae("link_attributes_postprocess",{processor:"function"}),Ae("files_upload_handler",{processor:"function"}),Ae("link_uploadtab",{processor:"boolean",default:!0})},tt=Be("link_assume_external_targets"),Le=Be("link_context_toolbar"),Je=Be("link_list"),Nt=Be("link_default_target"),xt=Be("link_default_protocol"),Un=Be("link_target_list"),Dt=Be("link_rel_list"),Pe=Be("link_class_list"),Tt=Be("link_title"),sn=Be("allow_unsafe_link_target"),Zn=Be("link_quicklink"),Yo=Be("link_attributes_postprocess"),Jo=Be("files_upload_handler"),Do=Be("link_uploadtab"),mr=Be("documents_file_types"),zo=oe=>ue(oe.options.get("files_upload_handler")),os=oe=>ue(oe.options.get("documents_file_types"));var Vs=tinymce.util.Tools.resolve("tinymce.util.URI"),Es=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Xs=tinymce.util.Tools.resolve("tinymce.util.Tools");const gs=oe=>ue(oe)&&oe.nodeName.toLowerCase()==="a",Wr=oe=>gs(oe)&&!!Ma(oe),Ts=(oe,Ae)=>{if(oe.collapsed)return[];{const Qe=oe.cloneContents(),Et=Qe.firstChild,pn=new Es(Et,Qe),Wn=[];let Po=Et;do Ae(Po)&&Wn.push(Po);while(Po=pn.next());return Wn}},$r=oe=>/^\w+:/i.test(oe),Ma=oe=>oe.getAttribute("data-mce-href")??oe.getAttribute("href")??"",Hn=(oe,Ae)=>{const Qe=["noopener"],Et=oe?oe.split(/\s+/):[],pn=Os=>Xs.trim(Os.sort().join(" ")),Wn=Os=>(Os=Po(Os),Os.length>0?Os.concat(Qe):Qe),Po=Os=>Os.filter(Mi=>Xs.inArray(Qe,Mi)===-1),Gs=Ae?Wn(Et):Po(Et);return Gs.length>0?pn(Gs):""},ts=oe=>oe.replace(/\uFEFF/g,""),Oo=(oe,Ae)=>(Ae=Ae||Mn(oe.selection.getRng())[0]||oe.selection.getNode(),vo(Ae)?J.from(oe.dom.select("a[href]",Ae)[0]):J.from(oe.dom.getParent(Ae,"a[href]"))),ui=(oe,Ae)=>Oo(oe,Ae).isSome(),Ba=(oe,Ae)=>{const Qe=Ae.fold(()=>oe.getContent({format:"text"}),Et=>Et.innerText||Et.textContent||"");return ts(Qe)},Mn=oe=>Ts(oe,Wr),Wt=oe=>Xs.grep(oe,Wr),Kt=oe=>Wt(oe).length>0,Yn=oe=>Mn(oe).length>0,Gn=oe=>{const Ae=oe.schema.getTextInlineElements(),Qe=Wn=>Wn.nodeType===1&&!gs(Wn)&&!Ve(Ae,Wn.nodeName.toLowerCase());if(Oo(oe).exists(Wn=>Wn.hasAttribute("data-mce-block")))return!1;const pn=oe.selection.getRng();return pn.collapsed?!0:Ts(pn,Qe).length===0},vo=oe=>ue(oe)&&oe.nodeName==="FIGURE"&&/\bimage\b/i.test(oe.className),No=oe=>new Promise((Ae,Qe)=>{const Et=new FileReader;Et.onload=()=>{Ae(Et.result)},Et.onerror=()=>{Qe(new Error(Et.error?.message??"Failed to convert blob to a data url"))},Et.readAsDataURL(oe)}),Qn=oe=>fn(["title","rel","class","target"],(Qe,Et)=>(oe[Et].each(pn=>{Qe[Et]=pn.length>0?pn:null}),Qe),{href:oe.href}),ls=(oe,Ae)=>(Ae==="http"||Ae==="https")&&!$r(oe)?Ae+"://"+oe:oe,La=(oe,Ae)=>{const Qe={...Ae};if(Dt(oe).length===0&&!sn(oe)){const Et=Hn(Qe.rel,Qe.target==="_blank");Qe.rel=Et||null}return J.from(Qe.target).isNone()&&Un(oe)===!1&&(Qe.target=Nt(oe)),Qe.href=ls(Qe.href,tt(oe)),Qe},sl=(oe,Ae,Qe,Et)=>{Qe.each(Wn=>{Ve(Ae,"innerText")?Ae.innerText=Wn:Ae.textContent=Wn}),oe.dom.setAttribs(Ae,Et);const pn=oe.dom.createRng();pn.setStartAfter(Ae),pn.setEndAfter(Ae),oe.selection.setRng(pn)},gi=(oe,Ae,Qe,Et)=>{const pn=oe.dom;vo(Ae)?Ao(pn,Ae,Et):Qe.fold(()=>{oe.execCommand("mceInsertLink",!1,Et);const Wn=oe.selection.getEnd(),Po=pn.createRng();Po.setStartAfter(Wn),Po.setEndAfter(Wn),oe.selection.setRng(Po)},Wn=>{oe.insertContent(pn.createHTML("a",Et,pn.encode(Wn)))})},Pn=(oe,Ae,Qe)=>{const Et=oe.selection.getNode(),pn=Oo(oe,Et),Wn=La(oe,Qn(Qe)),Po=Yo(oe);ue(Po)&&Po(Wn),oe.undoManager.transact(()=>{Qe.href===Ae.href&&Ae.attach(),pn.fold(()=>{gi(oe,Et,Qe.text,Wn)},Gs=>{oe.focus(),sl(oe,Gs,Qe.text,Wn)})})},er=oe=>{const Ae=oe.dom,Qe=oe.selection,Et=Qe.getBookmark(),pn=Qe.getRng().cloneRange(),Wn=Ae.getParent(pn.startContainer,"a[href]",oe.getBody()),Po=Ae.getParent(pn.endContainer,"a[href]",oe.getBody());Wn&&pn.setStartBefore(Wn),Po&&pn.setEndAfter(Po),Qe.setRng(pn),oe.execCommand("unlink"),Qe.moveToBookmark(Et)},tr=oe=>{oe.undoManager.transact(()=>{const Ae=oe.selection.getNode();vo(Ae)?gn(oe,Ae):er(oe),oe.focus()})},jl=oe=>{const{class:Ae,href:Qe,rel:Et,target:pn,text:Wn,title:Po}=oe;return le({class:Ae.getOrNull(),href:Qe,rel:Et.getOrNull(),target:pn.getOrNull(),text:Wn.getOrNull(),title:Po.getOrNull()},(Gs,Os)=>V(Gs)===!1)},Ie=(oe,Ae)=>{const Qe=oe.options.get,Et={allow_html_data_urls:Qe("allow_html_data_urls"),allow_script_urls:Qe("allow_script_urls"),allow_svg_data_urls:Qe("allow_svg_data_urls")},pn=Ae.href;return{...Ae,href:Vs.isDomSafe(pn,"a",Et)?pn:""}},Ue=(oe,Ae,Qe)=>{const Et=Ie(oe,Qe);oe.hasPlugin("rtc",!0)?oe.execCommand("createlink",!1,jl(Et)):Pn(oe,Ae,Et)},nt=oe=>{oe.hasPlugin("rtc",!0)?oe.execCommand("unlink"):tr(oe)},gn=(oe,Ae)=>{const Qe=oe.dom.select("img",Ae)[0];if(Qe){const Et=oe.dom.getParents(Qe,"a[href]",Ae)[0];Et&&(Et.parentNode?.insertBefore(Qe,Et),oe.dom.remove(Et))}},Ao=(oe,Ae,Qe)=>{const Et=oe.select("img",Ae)[0];if(Et){const pn=oe.create("a",Qe);Et.parentNode?.insertBefore(pn,Et),pn.appendChild(Et)}},co=oe=>O(oe.value)?oe.value:"",Zo=oe=>O(oe.text)?oe.text:O(oe.title)?oe.title:"",us=(oe,Ae)=>{const Qe=[];return Xs.each(oe,Et=>{const pn=Zo(Et);if(Et.menu!==void 0){const Wn=us(Et.menu,Ae);Qe.push({text:pn,items:Wn})}else{const Wn=Ae(Et);Qe.push({text:pn,value:Wn})}}),Qe},ko=(oe=co)=>Ae=>J.from(Ae).map(Qe=>us(Qe,oe)),je={sanitize:oe=>ko(co)(oe),sanitizeWith:ko,createUi:(oe,Ae)=>Qe=>({name:oe,type:"listbox",label:Ae,items:Qe}),getValue:co},Ut=oe=>It(oe,"items"),wn=(oe,Ae)=>Lt(Ae,Qe=>Ut(Qe)?wn(oe,Qe.items):ft(Qe.value===oe,Qe)),Gt=(oe,Ae,Qe,Et)=>{const pn=Et[Ae],Wn=oe.length>0;return pn!==void 0?wn(pn,Qe).map(Po=>({url:{value:Po.value,meta:{text:Wn?oe:Po.text,attach:Fe}},text:Wn?oe:Po.text})):J.none()},wo=(oe,Ae)=>Ae==="link"?oe.link:Ae==="anchor"?oe.anchor:J.none(),Bn={init:(oe,Ae)=>{const Qe={text:oe.text,title:oe.title},Et=Os=>ft(Qe.title.length<=0,J.from(Os.meta?.title).getOr("")),pn=Os=>ft(Qe.text.length<=0,J.from(Os.meta?.text).getOr(Os.value)),Wn=Os=>{const Mi=pn(Os.url),Ea=Et(Os.url);return Mi.isSome()||Ea.isSome()?J.some({...Mi.map(Xd=>({text:Xd})).getOr({}),...Ea.map(Xd=>({title:Xd})).getOr({})}):J.none()},Po=(Os,Mi)=>{const Ea=wo(Ae,Mi).getOr([]);return Gt(Qe.text,Mi,Ea,Os)};return{onChange:(Os,Mi)=>{const Ea=Mi.name;return Ea==="url"?Wn(Os()):ie(["anchor","link"],Ea)?Po(Os(),Ea):((Ea==="text"||Ea==="title")&&(Qe[Ea]=Os()[Ea]),J.none())}}},getDelta:Gt};var Uo=tinymce.util.Tools.resolve("tinymce.util.Delay");const xs=(oe,Ae,Qe)=>{const Et=oe.selection.getRng();Uo.setEditorTimeout(oe,()=>{oe.windowManager.confirm(Ae,pn=>{oe.selection.setRng(Et),Qe(pn)})})},As=oe=>{const Ae=oe.href;return Ae.indexOf("@")>0&&Ae.indexOf("/")===-1&&Ae.indexOf("mailto:")===-1?J.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Et=>({...Et,href:"mailto:"+Ae})}):J.none()},ks=(oe,Ae)=>Qe=>{const Et=Qe.href;return oe===1&&!$r(Et)||oe===0&&/^\s*www(\.|\d\.)/i.test(Et)?J.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${Ae}:// prefix?`,preprocess:Wn=>({...Wn,href:Ae+"://"+Et})}):J.none()},Sa={preprocess:(oe,Ae)=>Lt([As,ks(tt(oe),xt(oe))],Qe=>Qe(Ae)).fold(()=>Promise.resolve(Ae),Qe=>new Promise(Et=>{xs(oe,Qe.message,pn=>{Et(pn?Qe.preprocess(Ae):Ae)})}))},Tr={getAnchors:oe=>{const Ae=oe.dom.select("a:not([href])"),Qe=Re(Ae,Et=>{const pn=Et.name||Et.id;return pn?[{text:pn,value:"#"+pn}]:[]});return Qe.length>0?J.some([{text:"None",value:""}].concat(Qe)):J.none()}},ir={getClasses:oe=>{const Ae=Pe(oe);return Ae.length>0?je.sanitize(Ae):J.none()}},Vi=oe=>{try{return J.some(JSON.parse(oe))}catch{return J.none()}},Ir={getLinks:oe=>{const Ae=Et=>oe.convertURL(Et.value||Et.url||"","href"),Qe=Je(oe);return new Promise(Et=>{O(Qe)?fetch(Qe).then(pn=>pn.ok?pn.text().then(Vi):Promise.reject()).then(Et,()=>Et(J.none())):Ce(Qe)?Qe(pn=>Et(J.some(pn))):Et(J.from(Qe))}).then(Et=>Et.bind(je.sanitizeWith(Ae)).map(pn=>pn.length>0?[{text:"None",value:""}].concat(pn):pn))}},Si={getRels:(oe,Ae)=>{const Qe=Dt(oe);if(Qe.length>0){const Et=mt(Ae,"_blank"),pn=sn(oe)===!1,Wn=Gs=>Hn(je.getValue(Gs),Et);return(pn?je.sanitizeWith(Wn):je.sanitize)(Qe)}return J.none()}},oi=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Sf={getTargets:oe=>{const Ae=Un(oe);return U(Ae)?je.sanitize(Ae).orThunk(()=>J.some(oi)):Ae===!1?J.none():J.some(oi)}},uc=(oe,Ae,Qe)=>{const Et=oe.getAttrib(Ae,Qe);return Et!==null&&Et.length>0?J.some(Et):J.none()},Hr=(oe,Ae)=>{const Qe=oe.dom,pn=Gn(oe)?J.some(Ba(oe.selection,Ae)):J.none(),Wn=Ae.bind(Ea=>J.from(Qe.getAttrib(Ea,"href"))),Po=Ae.bind(Ea=>J.from(Qe.getAttrib(Ea,"target"))),Gs=Ae.bind(Ea=>uc(Qe,Ea,"rel")),Os=Ae.bind(Ea=>uc(Qe,Ea,"class")),Mi=Ae.bind(Ea=>uc(Qe,Ea,"title"));return{url:Wn,text:pn,title:Mi,target:Po,rel:Gs,linkClass:Os}},dc={collect:(oe,Ae)=>Ir.getLinks(oe).then(Qe=>{const Et=zo(oe)&&os(oe)&&Do(oe),pn=Hr(oe,Ae);return{anchor:pn,catalogs:{targets:Sf.getTargets(oe),rels:Si.getRels(oe,pn.target),classes:ir.getClasses(oe),anchor:Tr.getAnchors(oe),link:Qe},hasUploadPanel:Et,optNode:Ae,flags:{titleEnabled:Tt(oe)}}})},An={makeTab:oe=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput",buttonLabel:"Browse for a file",dropAreaLabel:"Drop a file here",allowedFileTypes:oe.map(Qe=>Qe.mimeType).join(","),allowedFileExtensions:qe(oe.map(Qe=>Qe.extensions))}]})},Su=(oe,Ae)=>Qe=>{const Et=Qe.getData();if(!Et.url.value){nt(oe),Qe.close();return}const pn=Gs=>J.from(Et[Gs]).filter(Os=>!mt(Ae.anchor[Gs],Os)),Wn={href:Et.url.value,text:pn("text"),target:pn("target"),rel:pn("rel"),class:pn("linkClass"),title:pn("title")},Po={href:Et.url.value,attach:Et.url.meta!==void 0&&Et.url.meta.attach?Et.url.meta.attach:Fe};Sa.preprocess(oe,Wn).then(Gs=>{Ue(oe,Po,Gs)}),Qe.close()},Ri=oe=>(Ae,Qe)=>Jo(oe)(Ae,Qe),pi=oe=>J.from(oe.split(",")[1]).getOr(""),qr=(oe,Ae)=>{const Qe=Ae.getData();Ae.block("Uploading file"),vt(Qe.fileinput).fold(()=>{Ae.unblock()},Et=>{const pn=URL.createObjectURL(Et),Wn=({url:Gs,fileName:Os})=>{Ae.setData({text:Os,title:Os,url:{value:Gs,meta:{}}}),Ae.showTab("general"),Ae.focus("url")},Po=()=>{Ae.unblock(),URL.revokeObjectURL(pn)};No(Et).then(Gs=>{const Os=oe.getExistingBlobInfo(pi(Gs),Et.type),Mi=Os&&Os.filename()===Et.name?Os:oe.createBlobCache(Et,pn,Gs);return oe.addToBlobCache(Mi),oe.uploadFile(Mi,lt)}).then(Gs=>{Wn(Gs),Po()}).catch(Gs=>{Po(),oe.alertErr(Gs,()=>{Ae.focus("fileinput")})})})},Kd=oe=>(Ae,Qe,Et)=>oe.editorUpload.blobCache.create({blob:Ae,blobUri:Qe,name:Ae.name?.replace(/\.[^\.]+$/,""),filename:Ae.name,base64:Et.split(",")[1]}),Ei=oe=>Ae=>{oe.editorUpload.blobCache.add(Ae)},rl=oe=>(Ae,Qe)=>oe.editorUpload.blobCache.getByData(Ae,Qe),Tf=oe=>(Ae,Qe)=>{oe.windowManager.alert(Ae,Qe)},Jf=oe=>{const Ae=Oo(oe);return dc.collect(oe,Ae)},Eu=(oe,Ae)=>{const Qe=oe.anchor,Et=Qe.url.getOr("");return{url:{value:Et,meta:{original:{value:Et}}},text:Qe.text.getOr(""),title:Qe.title.getOr(""),anchor:Et,link:Et,rel:Qe.rel.getOr(""),target:Qe.target.or(Ae).getOr(""),linkClass:Qe.linkClass.getOr(""),fileinput:[]}},Yd=(oe,Ae,Qe,Et,pn,Wn)=>{const Po=qe([oe,Ae,Qe,He([Et.anchor.map(je.createUi("anchor","Anchors")),Et.rels.map(je.createUi("rel","Rel")),Et.targets.map(je.createUi("target","Open link in...")),Et.link.map(je.createUi("link","Link list")),Et.classes.map(je.createUi("linkClass","Class"))])]);return pn?{type:"tabpanel",tabs:qe([[{title:"General",name:"general",items:Po}],[An.makeTab(Wn)]])}:{type:"panel",items:Po}},Dl=(oe,Ae,Qe)=>{const Et=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],pn=oe.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Wn=oe.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Po=J.from(Nt(Qe)),Gs=Eu(oe,Po),Os=oe.catalogs,Mi=Bn.init(Gs,Os),Ea=Yd(Et,pn,Wn,Os,oe.hasUploadPanel,mr(Qe)),Xd={addToBlobCache:Ei(Qe),createBlobCache:Kd(Qe),alertErr:Tf(Qe),uploadFile:Ri(Qe),getExistingBlobInfo:rl(Qe)};return{title:"Insert/Edit Link",size:"normal",body:Ea,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Gs,onChange:(Om,{name:kf})=>{kf==="fileinput"?qr(Xd,Om):Mi.onChange(Om.getData,{name:kf}).each(Gc=>{Om.setData(Gc)})},onSubmit:Ae}},Wc=oe=>{Jf(oe).then(Qe=>{const Et=Su(oe,Qe);return Dl(Qe,Et,oe)}).then(Qe=>{oe.windowManager.open(Qe)})},qc=oe=>{oe.addCommand("mceLink",(Ae,Qe)=>{Qe?.dialog===!0||!Zn(oe)?Wc(oe):oe.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},mn=oe=>{oe.addShortcut("Meta+K","",()=>{oe.execCommand("mceLink")})};var Tu=tinymce.util.Tools.resolve("tinymce.util.VK");const yd=(oe,Ae)=>{document.body.appendChild(oe),oe.dispatchEvent(Ae),document.body.removeChild(oe)},Vl=oe=>{const Ae=document.createElement("a");Ae.target="_blank",Ae.href=oe,Ae.rel="noreferrer noopener";const Qe=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(Qe),yd(Ae,Qe)},al=oe=>oe.altKey===!0&&oe.shiftKey===!1&&oe.ctrlKey===!1&&oe.metaKey===!1,Uu=(oe,Ae)=>{if(Ae){const Qe=Ma(Ae);if(/^#/.test(Qe)){const Et=oe.dom.select(`${Qe},[name="${Ho(Qe,"#")}"]`);Et.length&&oe.selection.scrollIntoView(Et[0],!0)}else Vl(Ae.href)}},Ui=oe=>{const Ae=oe.selection.getRng(),Qe=Ae.startContainer;return Wr(Qe)&&Ae.startContainer===Ae.endContainer&&oe.dom.select("img",Qe).length===1},si=(oe,Ae)=>{const Qe=Wt(oe.dom.getParents(Ae));return ft(Qe.length===1,Qe[0])},_l=oe=>{const Ae=Mn(oe.selection.getRng());return ft(Ae.length>0,Ae[0]).or(si(oe,oe.selection.getNode()))},fc=oe=>oe.selection.isCollapsed()||Ui(oe)?si(oe,oe.selection.getStart()):_l(oe),qs=oe=>{const Ae=$o(),Qe=()=>Ae.get().or(fc(oe)),Et=()=>Qe().each(pn=>Uu(oe,pn));return oe.on("contextmenu",pn=>{si(oe,pn.target).each(Ae.set)}),oe.on("SelectionChange",()=>{Ae.isSet()||fc(oe).each(Ae.set)}),oe.on("click",pn=>{Ae.clear();const Wn=Wt(oe.dom.getParents(pn.target));Wn.length===1&&Tu.metaKeyPressed(pn)&&(pn.preventDefault(),Uu(oe,Wn[0]))}),oe.on("keydown",pn=>{Ae.clear(),!pn.isDefaultPrevented()&&pn.keyCode===13&&al(pn)&&Qe().each(Wn=>{pn.preventDefault(),Uu(oe,Wn)})}),{gotoSelectedLink:Et}},Af=oe=>()=>{oe.execCommand("mceLink",!1,{dialog:!0})},te=(oe,Ae)=>(oe.on("NodeChange",Ae),()=>oe.off("NodeChange",Ae)),ve=oe=>Ae=>{const Qe=()=>{Ae.setActive(!oe.mode.isReadOnly()&&ui(oe,oe.selection.getNode())),Ae.setEnabled(oe.selection.isEditable())};return Qe(),te(oe,Qe)},$e=oe=>Ae=>{const Qe=()=>{Ae.setEnabled(oe.selection.isEditable())};return Qe(),te(oe,Qe)},Rt=oe=>Ae=>{const Qe=Wn=>Kt(Wn)||Yn(oe.selection.getRng()),Et=oe.dom.getParents(oe.selection.getStart()),pn=Wn=>{Ae.setEnabled(Qe(Wn)&&oe.selection.isEditable())};return pn(Et),te(oe,Wn=>pn(Wn.parents))},qn=(oe,Ae)=>{oe.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:Af(oe),onSetup:ve(oe)}),oe.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Ae.gotoSelectedLink,onSetup:Rt(oe)}),oe.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>nt(oe),onSetup:Rt(oe)})},ps=(oe,Ae)=>{oe.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Ae.gotoSelectedLink,onSetup:Rt(oe)}),oe.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Af(oe),onSetup:$e(oe)}),oe.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>nt(oe),onSetup:Rt(oe)})},lr=oe=>{const Ae="link unlink openlink",Qe="link";oe.ui.registry.addContextMenu("link",{update:Et=>oe.dom.isEditable(Et)?Kt(oe.dom.getParents(Et,"a"))?Ae:Qe:""})},Va=(oe,Ae)=>{const Qe=Wn=>{Wn.selection.collapse(!1)},Et=Wn=>{const Po=oe.selection.getNode();return Wn.setEnabled(ui(oe,Po)&&oe.selection.isEditable()),Fe},pn=Wn=>{const Po=Oo(oe),Gs=Gn(oe);if(Po.isNone()&&Gs){const Os=Ba(oe.selection,Po);return ft(Os.length===0,Wn)}else return J.none()};oe.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:ve(oe)},label:"Link",predicate:Wn=>Le(oe)&&ui(oe,Wn),initValue:()=>Oo(oe).fold(be(""),Ma),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Wn=>{const Po=oe.selection.getNode();return Wn.setActive(ui(oe,Po)),ve(oe)(Wn)},onAction:Wn=>{const Po=Wn.getValue(),Gs=pn(Po);Ue(oe,{href:Po,attach:Fe},{href:Po,text:Gs,title:J.none(),rel:J.none(),target:J.from(Nt(oe)),class:J.none()}),Qe(oe),Wn.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Et,onAction:Wn=>{nt(oe),Wn.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Et,onAction:Wn=>{Ae.gotoSelectedLink(),Wn.hide()}}]})},Ti=oe=>{const Ae=qs(oe);qn(oe,Ae),ps(oe,Ae),lr(oe),Va(oe,Ae)};var Ol=()=>{l.add("link",oe=>{Ye(oe),qc(oe),Ti(oe),mn(oe)})};Ol()})()),oae}var rae;function dxe(){return rae||(rae=1,uxe()),nae}dxe();var aae={},iae={},lae;function fxe(){return lae||(lae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=Object.getPrototypeOf,p=(te,ve,$e)=>$e(te,ve.prototype)?!0:te.constructor?.name===ve.name,x=te=>{const ve=typeof te;return te===null?"null":ve==="object"&&Array.isArray(te)?"array":ve==="object"&&p(te,String,($e,Rt)=>Rt.isPrototypeOf($e))?"string":ve},A=te=>ve=>x(ve)===te,R=te=>ve=>typeof ve===te,O=te=>ve=>te===ve,I=(te,ve)=>V(te)&&p(te,ve,($e,Rt)=>u($e)===Rt),U=A("string"),V=A("object"),Y=te=>I(te,Object),ee=A("array"),ue=O(null),Ce=R("boolean"),pe=te=>te==null,Fe=te=>!pe(te),be=R("function"),lt=R("number"),Oe=(te,ve)=>{if(ee(te)){for(let $e=0,Rt=te.length;$e<Rt;++$e)if(!ve(te[$e]))return!1;return!0}return!1},J=()=>{};class it{tag;value;static singletonNone=new it(!1);constructor(ve,$e){this.tag=ve,this.value=$e}static some(ve){return new it(!0,ve)}static none(){return it.singletonNone}fold(ve,$e){return this.tag?$e(this.value):ve()}isSome(){return this.tag}isNone(){return!this.tag}map(ve){return this.tag?it.some(ve(this.value)):it.none()}bind(ve){return this.tag?ve(this.value):it.none()}exists(ve){return this.tag&&ve(this.value)}forall(ve){return!this.tag||ve(this.value)}filter(ve){return!this.tag||ve(this.value)?this:it.none()}getOr(ve){return this.tag?this.value:ve}or(ve){return this.tag?this:ve}getOrThunk(ve){return this.tag?this.value:ve()}orThunk(ve){return this.tag?this:ve()}getOrDie(ve){if(this.tag)return this.value;throw new Error(ve??"Called getOrDie on None")}static from(ve){return Fe(ve)?it.some(ve):it.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ve){this.tag&&ve(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const jt=Array.prototype.push,Ke=te=>{const ve=[];for(let $e=0,Rt=te.length;$e<Rt;++$e){if(!ee(te[$e]))throw new Error("Arr.flatten item "+$e+" was not an array, input: "+te);jt.apply(ve,te[$e])}return ve},ie=(te,ve)=>ve>=0&&ve<te.length?it.some(te[ve]):it.none(),ut=te=>ie(te,0),xn=(te,ve)=>{for(let $e=0;$e<te.length;$e++){const Rt=ve(te[$e],$e);if(Rt.isSome())return Rt}return it.none()},fn=Object.keys,qe=Object.hasOwnProperty,Re=(te,ve)=>{const $e=fn(te);for(let Rt=0,qn=$e.length;Rt<qn;Rt++){const ps=$e[Rt],lr=te[ps];ve(lr,ps)}},Qo=te=>(ve,$e)=>{te[$e]=ve},vt=(te,ve,$e,Rt)=>{Re(te,(qn,ps)=>{(ve(qn,ps)?$e:Rt)(qn,ps)})},Lt=(te,ve)=>{const $e={};return vt(te,ve,Qo($e),J),$e},F=(te,ve)=>qe.call(te,ve),Vt=(te,ve)=>F(te,ve)&&te[ve]!==void 0&&te[ve]!==null,an=(te=>(...ve)=>{if(ve.length===0)throw new Error("Can't merge zero objects");const $e={};for(let Rt=0;Rt<ve.length;Rt++){const qn=ve[Rt];for(const ps in qn)F(qn,ps)&&($e[ps]=te($e[ps],qn[ps]))}return $e})((te,ve)=>Y(te)&&Y(ve)?an(te,ve):ve),le=te=>te.length>0,Ve=(te,ve)=>{const Rt=(ve||document).createElement("div");if(Rt.innerHTML=te,!Rt.hasChildNodes()||Rt.childNodes.length>1){const qn="HTML does not have a single root node";throw console.error(qn,te),new Error(qn)}return mt(Rt.childNodes[0])},It=(te,ve)=>{const Rt=(ve||document).createElement(te);return mt(Rt)},Ne=(te,ve)=>{const Rt=(ve||document).createTextNode(te);return mt(Rt)},mt=te=>{if(te==null)throw new Error("Node cannot be null or undefined");return{dom:te}},ft={fromHtml:Ve,fromTag:It,fromText:Ne,fromDom:mt,fromPoint:(te,ve,$e)=>it.from(te.dom.elementFromPoint(ve,$e)).map(mt)},X=(te,ve,$e)=>{if(U($e)||Ce($e)||lt($e))te.setAttribute(ve,$e+"");else throw console.error("Invalid call to Attribute.set. Key ",ve,":: Value ",$e,":: Element ",te),new Error("Attribute value was not simple")},$o=(te,ve,$e)=>{X(te.dom,ve,$e)},xo=(te,ve)=>{te.dom.removeAttribute(ve)};var Mo=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ho=tinymce.util.Tools.resolve("tinymce.util.URI");const js=te=>ve=>ve.options.get(te),Be=te=>{const ve=te.options.register;ve("image_dimensions",{processor:"boolean",default:!0}),ve("image_advtab",{processor:"boolean",default:!1}),ve("image_uploadtab",{processor:"boolean",default:!0}),ve("image_prepend_url",{processor:"string",default:""}),ve("image_class_list",{processor:"object[]"}),ve("image_description",{processor:"boolean",default:!0}),ve("image_title",{processor:"boolean",default:!1}),ve("image_caption",{processor:"boolean",default:!1}),ve("image_list",{processor:$e=>{const Rt=$e===!1||U($e)||Oe($e,V)||be($e);return Rt?{value:$e,valid:Rt}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},Ye=js("image_dimensions"),tt=js("image_advtab"),Le=js("image_uploadtab"),Je=js("image_prepend_url"),Nt=js("image_class_list"),xt=js("image_description"),Un=js("image_title"),Dt=js("image_caption"),Pe=js("image_list"),Tt=js("a11y_advanced_options"),sn=js("automatic_uploads"),Zn=te=>le(te.options.get("images_upload_url")),Yo=te=>Fe(te.options.get("images_upload_handler")),Jo=(te,ve)=>Math.max(parseInt(te,10),parseInt(ve,10)),Do=te=>new Promise(ve=>{const $e=document.createElement("img"),Rt=ps=>{$e.parentNode&&$e.parentNode.removeChild($e),ve(ps)};$e.addEventListener("load",()=>{const ps=Jo($e.width,$e.clientWidth),lr=Jo($e.height,$e.clientHeight),Va={width:ps,height:lr};Rt(Promise.resolve(Va))}),$e.addEventListener("error",()=>{Rt(Promise.reject(`Failed to get image dimensions for: ${te}`))});const qn=$e.style;qn.visibility="hidden",qn.position="fixed",qn.bottom=qn.left="0px",qn.width=qn.height="auto",document.body.appendChild($e),$e.src=te}),mr=te=>(te&&(te=te.replace(/px$/,"")),te),zo=te=>(te.length>0&&/^[0-9]+$/.test(te)&&(te+="px"),te),os=te=>{if(te.margin){const ve=String(te.margin).split(" ");switch(ve.length){case 1:te["margin-top"]=te["margin-top"]||ve[0],te["margin-right"]=te["margin-right"]||ve[0],te["margin-bottom"]=te["margin-bottom"]||ve[0],te["margin-left"]=te["margin-left"]||ve[0];break;case 2:te["margin-top"]=te["margin-top"]||ve[0],te["margin-right"]=te["margin-right"]||ve[1],te["margin-bottom"]=te["margin-bottom"]||ve[0],te["margin-left"]=te["margin-left"]||ve[1];break;case 3:te["margin-top"]=te["margin-top"]||ve[0],te["margin-right"]=te["margin-right"]||ve[1],te["margin-bottom"]=te["margin-bottom"]||ve[2],te["margin-left"]=te["margin-left"]||ve[1];break;case 4:te["margin-top"]=te["margin-top"]||ve[0],te["margin-right"]=te["margin-right"]||ve[1],te["margin-bottom"]=te["margin-bottom"]||ve[2],te["margin-left"]=te["margin-left"]||ve[3]}delete te.margin}return te},Vs=(te,ve)=>{const $e=Pe(te);U($e)?fetch($e).then(Rt=>{Rt.ok&&Rt.json().then(ve)}):be($e)?$e(ve):ve($e)},Es=(te,ve,$e)=>{const Rt=()=>{$e.onload=$e.onerror=null,te.selection&&(te.selection.select($e),te.nodeChanged())};$e.onload=()=>{!ve.width&&!ve.height&&Ye(te)&&te.dom.setAttribs($e,{width:String($e.clientWidth),height:String($e.clientHeight)}),Rt()},$e.onerror=Rt},Xs=te=>new Promise((ve,$e)=>{const Rt=new FileReader;Rt.onload=()=>{ve(Rt.result)},Rt.onerror=()=>{$e(Rt.error?.message)},Rt.readAsDataURL(te)}),gs=te=>te.nodeName==="IMG"&&(te.hasAttribute("data-mce-object")||te.hasAttribute("data-mce-placeholder")),Wr=(te,ve)=>{const $e=te.options.get;return Ho.isDomSafe(ve,"img",{allow_html_data_urls:$e("allow_html_data_urls"),allow_script_urls:$e("allow_script_urls"),allow_svg_data_urls:$e("allow_svg_data_urls")})},Ts=Mo.DOM,$r=te=>te.style.marginLeft&&te.style.marginRight&&te.style.marginLeft===te.style.marginRight?mr(te.style.marginLeft):"",Ma=te=>te.style.marginTop&&te.style.marginBottom&&te.style.marginTop===te.style.marginBottom?mr(te.style.marginTop):"",Hn=te=>te.style.borderWidth?mr(te.style.borderWidth):"",ts=(te,ve)=>te.hasAttribute(ve)?te.getAttribute(ve)??"":"",Oo=te=>te.parentNode!==null&&te.parentNode.nodeName==="FIGURE",ui=(te,ve,$e)=>{$e===""||$e===null?te.removeAttribute(ve):te.setAttribute(ve,$e)},Ba=te=>{const ve=Ts.create("figure",{class:"image"});Ts.insertAfter(ve,te),ve.appendChild(te),ve.appendChild(Ts.create("figcaption",{contentEditable:"true"},"Caption")),ve.contentEditable="false"},Mn=te=>{const ve=te.parentNode;Fe(ve)&&(Ts.insertAfter(te,ve),Ts.remove(ve))},Wt=te=>{Oo(te)?Mn(te):Ba(te)},Kt=(te,ve)=>{const $e=te.getAttribute("style"),Rt=ve($e!==null?$e:"");Rt.length>0?(te.setAttribute("style",Rt),te.setAttribute("data-mce-style",Rt)):te.removeAttribute("style")},Yn=(te,ve)=>($e,Rt,qn)=>{const ps=$e.style;ps[Rt]?(ps[Rt]=zo(qn),Kt($e,ve)):ui($e,Rt,qn)},Gn=(te,ve)=>te.style[ve]?mr(te.style[ve]):ts(te,ve),vo=(te,ve)=>{const $e=zo(ve);te.style.marginLeft=$e,te.style.marginRight=$e},No=(te,ve)=>{const $e=zo(ve);te.style.marginTop=$e,te.style.marginBottom=$e},Qn=(te,ve)=>{const $e=zo(ve);te.style.borderWidth=$e},ls=(te,ve)=>{te.style.borderStyle=ve},La=te=>te.style.borderStyle??"",sl=te=>Fe(te)&&te.nodeName==="FIGURE",gi=te=>te.nodeName==="IMG",Pn=te=>{const ve=Ts.getAttrib(te,"alt"),$e=Ts.getAttrib(te,"role");return te.hasAttribute("alt")&&ve.length===0||$e==="presentation"||$e==="none"},er=te=>Pn(te)?"":ts(te,"alt"),tr=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),jl=(te,ve)=>{const $e=document.createElement("img");return ui($e,"style",ve.style),($r($e)||ve.hspace!=="")&&vo($e,ve.hspace),(Ma($e)||ve.vspace!=="")&&No($e,ve.vspace),(Hn($e)||ve.border!=="")&&Qn($e,ve.border),(La($e)||ve.borderStyle!=="")&&ls($e,ve.borderStyle),te($e.getAttribute("style")??"")},Ie=(te,ve)=>{const $e=document.createElement("img");if(Zo(te,{...ve,caption:!1},$e),gn($e,ve.alt,ve.isDecorative),ve.caption){const Rt=Ts.create("figure",{class:"image"});return Rt.appendChild($e),Rt.appendChild(Ts.create("figcaption",{contentEditable:"true"},"Caption")),Rt.contentEditable="false",Rt}else return $e},Ue=(te,ve)=>({src:ts(ve,"src"),alt:er(ve),title:ts(ve,"title"),width:Gn(ve,"width"),height:Gn(ve,"height"),class:ts(ve,"class"),style:te(ts(ve,"style")),caption:Oo(ve),hspace:$r(ve),vspace:Ma(ve),border:Hn(ve),borderStyle:La(ve),isDecorative:Pn(ve)}),nt=(te,ve,$e,Rt,qn)=>{$e[Rt]!==ve[Rt]&&qn(te,Rt,String($e[Rt]))},gn=(te,ve,$e)=>{if($e){Ts.setAttrib(te,"role","presentation");const Rt=ft.fromDom(te);$o(Rt,"alt","")}else{if(ue(ve)){const Rt=ft.fromDom(te);xo(Rt,"alt")}else{const Rt=ft.fromDom(te);$o(Rt,"alt",ve)}Ts.getAttrib(te,"role")==="presentation"&&Ts.setAttrib(te,"role","")}},Ao=(te,ve,$e)=>{($e.alt!==ve.alt||$e.isDecorative!==ve.isDecorative)&&gn(te,$e.alt,$e.isDecorative)},co=(te,ve)=>($e,Rt,qn)=>{te($e,qn),Kt($e,ve)},Zo=(te,ve,$e)=>{const Rt=Ue(te,$e);nt($e,Rt,ve,"caption",(qn,ps,lr)=>Wt(qn)),nt($e,Rt,ve,"src",ui),nt($e,Rt,ve,"title",ui),nt($e,Rt,ve,"width",Yn("width",te)),nt($e,Rt,ve,"height",Yn("height",te)),nt($e,Rt,ve,"class",ui),nt($e,Rt,ve,"style",co((qn,ps)=>ui(qn,"style",ps),te)),nt($e,Rt,ve,"hspace",co(vo,te)),nt($e,Rt,ve,"vspace",co(No,te)),nt($e,Rt,ve,"border",co(Qn,te)),nt($e,Rt,ve,"borderStyle",co(ls,te)),Ao($e,Rt,ve)},us=(te,ve)=>{const $e=te.dom.styles.parse(ve),Rt=os($e),qn=te.dom.styles.parse(te.dom.styles.serialize(Rt));return te.dom.styles.serialize(qn)},ko=te=>{const ve=te.selection.getNode(),$e=te.dom.getParent(ve,"figure.image");return $e?te.dom.select("img",$e)[0]:ve&&(ve.nodeName!=="IMG"||gs(ve))?null:ve},Qs=(te,ve)=>{const $e=te.dom,Rt=Lt(te.schema.getTextBlockElements(),(ps,lr)=>!te.schema.isValidChild(lr,"figure")),qn=$e.getParent(ve.parentNode,ps=>Vt(Rt,ps.nodeName),te.getBody());return qn?$e.split(qn,ve)??ve:ve},me=te=>{const ve=ko(te);return ve?Ue($e=>us(te,$e),ve):tr()},je=(te,ve)=>{const $e=Ie(qn=>us(te,qn),ve);te.dom.setAttrib($e,"data-mce-id","__mcenew"),te.focus(),te.insertContent($e.outerHTML);const Rt=te.dom.select('*[data-mce-id="__mcenew"]')[0];if(te.dom.setAttrib(Rt,"data-mce-id",null),sl(Rt)){const qn=Qs(te,Rt);te.selection.select(qn)}else te.selection.select(Rt)},Ut=(te,ve)=>{te.dom.setAttrib(ve,"src",ve.getAttribute("src"))},wn=(te,ve)=>{if(ve){const $e=te.dom.is(ve.parentNode,"figure.image")?ve.parentNode:ve;te.dom.remove($e),te.focus(),te.nodeChanged(),te.dom.isEmpty(te.getBody())&&(te.setContent(""),te.selection.setCursorLocation())}},Gt=(te,ve)=>{const $e=ko(te);if($e)if(Zo(Rt=>us(te,Rt),ve,$e),Ut(te,$e),sl($e.parentNode)){te.dom.setStyle($e,"float","");const Rt=$e.parentNode;Qs(te,Rt),te.selection.select($e.parentNode)}else te.selection.select($e),Es(te,ve,$e)},wo=(te,ve)=>{const $e=ve.src;return{...ve,src:Wr(te,$e)?$e:""}},oo=(te,ve)=>{const $e=ko(te);if($e){const qn={...Ue(lr=>us(te,lr),$e),...ve},ps=wo(te,qn);qn.src?Gt(te,ps):wn(te,$e)}else ve.src&&je(te,{...tr(),...ve})};var Bn=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Uo=tinymce.util.Tools.resolve("tinymce.util.Tools");const xs=te=>U(te.value)?te.value:"",As=te=>U(te.text)?te.text:U(te.title)?te.title:"",ks=(te,ve)=>{const $e=[];return Uo.each(te,Rt=>{const qn=As(Rt);if(Rt.menu!==void 0){const ps=ks(Rt.menu,ve);$e.push({text:qn,items:ps})}else{const ps=ve(Rt);$e.push({text:qn,value:ps})}}),$e},sa=(te=xs)=>ve=>ve?it.from(ve).map($e=>ks($e,te)):it.none(),Sa=te=>sa(xs)(te),Qf=te=>F(te,"items"),Tr=(te,ve)=>xn(te,$e=>Qf($e)?Tr($e.items,ve):$e.value===ve?it.some($e):it.none()),ir={sanitizer:sa,sanitize:Sa,findEntry:(te,ve)=>te.bind($e=>Tr($e,ve))},Ci={makeTab:te=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},Ir=te=>{const ve=ir.sanitizer(Po=>te.convertURL(Po.value||Po.url||"","src")),$e=new Promise(Po=>{Vs(te,Gs=>{Po(ve(Gs).map(Os=>Ke([[{text:"None",value:""}],Os])))})}),Rt=ir.sanitize(Nt(te)),qn=tt(te),ps=Le(te),lr=Zn(te),Va=Yo(te),Ti=me(te),Ol=xt(te),oe=Un(te),Ae=Ye(te),Qe=Dt(te),Et=Tt(te),pn=sn(te),Wn=it.some(Je(te)).filter(Po=>U(Po)&&Po.length>0);return $e.then(Po=>({image:Ti,imageList:Po,classList:Rt,hasAdvTab:qn,hasUploadTab:ps,hasUploadUrl:lr,hasUploadHandler:Va,hasDescription:Ol,hasImageTitle:oe,hasDimensions:Ae,hasImageCaption:Qe,prependURL:Wn,hasAccessibilityOptions:Et,automaticUploads:pn}))},Co=te=>{const ve={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},$e=te.imageList.map(oe=>({name:"images",type:"listbox",label:"Image list",items:oe})),Rt={name:"alt",type:"input",label:"Alternative description",enabled:!(te.hasAccessibilityOptions&&te.image.isDecorative)},qn={name:"title",type:"input",label:"Image title"},ps={name:"dimensions",type:"sizeinput"},lr={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},Va=te.classList.map(oe=>({name:"classes",type:"listbox",label:"Class",items:oe})),Ti={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Ol=oe=>oe?{type:"grid",columns:2}:{type:"panel"};return Ke([[ve],$e.toArray(),te.hasAccessibilityOptions&&te.hasDescription?[lr]:[],te.hasDescription?[Rt]:[],te.hasImageTitle?[qn]:[],te.hasDimensions?[ps]:[],[{...Ol(te.classList.isSome()&&te.hasImageCaption),items:Ke([Va.toArray(),te.hasImageCaption?[Ti]:[]])}]])},oi={makeTab:te=>({title:"General",name:"general",items:Co(te)}),makeItems:Co},Sf={makeTab:te=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},uc=te=>({prevImage:ir.findEntry(te.imageList,te.image.src),prevAlt:te.image.alt,open:!0}),Hr=te=>({src:{value:te.src,meta:{}},images:te.src,alt:te.alt,title:te.title,dimensions:{width:te.width,height:te.height},classes:te.class,caption:te.caption,style:te.style,vspace:te.vspace,border:te.border,hspace:te.hspace,borderstyle:te.borderStyle,fileinput:[],isDecorative:te.isDecorative}),Cu=(te,ve)=>({src:te.src.value,alt:(te.alt===null||te.alt.length===0)&&ve?null:te.alt,title:te.title,width:te.dimensions.width,height:te.dimensions.height,class:te.classes,style:te.style,caption:te.caption,hspace:te.hspace,vspace:te.vspace,border:te.border,borderStyle:te.borderstyle,isDecorative:te.isDecorative}),dc=(te,ve)=>/^(?:[a-zA-Z]+:)?\/\//.test(ve)?it.none():te.prependURL.bind($e=>ve.substring(0,$e.length)!==$e?it.some($e+ve):it.none()),Ef=(te,ve)=>{const $e=ve.getData();dc(te,$e.src.value).each(Rt=>{ve.setData({src:{value:Rt,meta:$e.src.meta}})})},An=(te,ve,$e)=>{te.hasDescription&&U($e.alt)&&(ve.alt=$e.alt),te.hasAccessibilityOptions&&(ve.isDecorative=$e.isDecorative||ve.isDecorative||!1),te.hasImageTitle&&U($e.title)&&(ve.title=$e.title),te.hasDimensions&&(U($e.width)&&(ve.dimensions.width=$e.width),U($e.height)&&(ve.dimensions.height=$e.height)),U($e.class)&&ir.findEntry(te.classList,$e.class).each(Rt=>{ve.classes=Rt.value}),te.hasImageCaption&&Ce($e.caption)&&(ve.caption=$e.caption),te.hasAdvTab&&(U($e.style)&&(ve.style=$e.style),U($e.vspace)&&(ve.vspace=$e.vspace),U($e.border)&&(ve.border=$e.border),U($e.hspace)&&(ve.hspace=$e.hspace),U($e.borderstyle)&&(ve.borderstyle=$e.borderstyle))},Su=(te,ve)=>{const $e=ve.getData(),Rt=$e.src.meta;if(Rt!==void 0){const qn=an({},$e);An(te,qn,Rt),ve.setData(qn)}},Ri=(te,ve,$e,Rt)=>{const qn=Rt.getData(),ps=qn.src.value,lr=qn.src.meta||{};!lr.width&&!lr.height&&ve.hasDimensions&&(le(ps)?te.imageSize(ps).then(Va=>{$e.open&&Rt.setData({dimensions:Va})}).catch(Va=>console.error(Va)):Rt.setData({dimensions:{width:"",height:""}}))},pi=(te,ve,$e)=>{const Rt=$e.getData(),qn=ir.findEntry(te.imageList,Rt.src.value);ve.prevImage=qn,$e.setData({images:qn.map(ps=>ps.value).getOr("")})},qr=(te,ve,$e,Rt)=>{Ef(ve,Rt),Su(ve,Rt),Ri(te,ve,$e,Rt),pi(ve,$e,Rt)},Kd=(te,ve,$e,Rt)=>{const qn=Rt.getData(),ps=ir.findEntry(ve.imageList,qn.images);ps.each(lr=>{qn.alt===""||$e.prevImage.map(Ti=>Ti.text===qn.alt).getOr(!1)?lr.value===""?Rt.setData({src:lr,alt:$e.prevAlt}):Rt.setData({src:lr,alt:lr.text}):Rt.setData({src:lr})}),$e.prevImage=ps,qr(te,ve,$e,Rt)},Ei=(te,ve,$e,Rt)=>{const qn=Rt.getData();Rt.block("Uploading image"),ut(qn.fileinput).fold(()=>{Rt.unblock()},ps=>{const lr=URL.createObjectURL(ps),Va=()=>{Rt.unblock(),URL.revokeObjectURL(lr)},Ti=Ol=>{Rt.setData({src:{value:Ol,meta:{}}}),Rt.showTab("general"),qr(te,ve,$e,Rt),Rt.focus("src")};Xs(ps).then(Ol=>{const oe=te.createBlobCache(ps,lr,Ol);ve.automaticUploads?te.uploadImage(oe).then(Ae=>{Ti(Ae.url),Va()}).catch(Ae=>{Va(),te.alertErr(Ae,()=>{Rt.focus("fileinput")})}):(te.addToBlobCache(oe),Ti(oe.blobUri()),Rt.unblock())})})},rl=(te,ve,$e)=>(Rt,qn)=>{qn.name==="src"?qr(te,ve,$e,Rt):qn.name==="images"?Kd(te,ve,$e,Rt):qn.name==="alt"?$e.prevAlt=Rt.getData().alt:qn.name==="fileinput"?Ei(te,ve,$e,Rt):qn.name==="isDecorative"&&Rt.setEnabled("alt",!Rt.getData().isDecorative)},Tf=te=>()=>{te.open=!1},Jf=te=>te.hasAdvTab||te.hasUploadUrl||te.hasUploadHandler?{type:"tabpanel",tabs:Ke([[oi.makeTab(te)],te.hasAdvTab?[Ci.makeTab(te)]:[],te.hasUploadTab&&(te.hasUploadUrl||te.hasUploadHandler)?[Sf.makeTab(te)]:[]])}:{type:"panel",items:oi.makeItems(te)},Eu=(te,ve,$e)=>Rt=>{const qn=an(Hr(ve.image),Rt.getData()),ps={...qn,style:jl($e.normalizeCss,Cu(qn,!1))};te.execCommand("mceUpdateImage",!1,Cu(ps,ve.hasAccessibilityOptions)),te.editorUpload.uploadImagesAuto(),Rt.close()},Yd=te=>ve=>Wr(te,ve)?Do(te.documentBaseURI.toAbsolute(ve)).then($e=>({width:String($e.width),height:String($e.height)})):Promise.resolve({width:"",height:""}),Dl=te=>(ve,$e,Rt)=>te.editorUpload.blobCache.create({blob:ve,blobUri:$e,name:ve.name?.replace(/\.[^\.]+$/,""),filename:ve.name,base64:Rt.split(",")[1]}),Wc=te=>ve=>{te.editorUpload.blobCache.add(ve)},qc=te=>(ve,$e)=>{te.windowManager.alert(ve,$e)},mn=te=>ve=>us(te,ve),Tu=te=>ve=>te.dom.parseStyle(ve),yd=te=>(ve,$e)=>te.dom.serializeStyle(ve,$e),Vl=te=>ve=>Bn(te).upload([ve],!1).then($e=>$e.length===0?Promise.reject("Failed to upload image"):$e[0].status===!1?Promise.reject($e[0].error?.message):$e[0]),al=te=>{const ve={imageSize:Yd(te),addToBlobCache:Wc(te),createBlobCache:Dl(te),alertErr:qc(te),normalizeCss:mn(te),parseStyle:Tu(te),serializeStyle:yd(te),uploadImage:Vl(te)};return{open:()=>{Ir(te).then(Rt=>{const qn=uc(Rt);return{title:"Insert/Edit Image",size:"normal",body:Jf(Rt),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Hr(Rt.image),onSubmit:Eu(te,Rt,ve),onChange:rl(ve,Rt,qn),onClose:Tf(qn)}}).then(te.windowManager.open)}}},Uu=te=>{te.addCommand("mceImage",al(te).open),te.addCommand("mceUpdateImage",(ve,$e)=>{te.undoManager.transact(()=>oo(te,$e))})},Ui=te=>{const ve=te.attr("class");return Fe(ve)&&/\bimage\b/.test(ve)},si=te=>ve=>{let $e=ve.length;const Rt=qn=>{qn.attr("contenteditable",te?"true":null)};for(;$e--;){const qn=ve[$e];Ui(qn)&&(qn.attr("contenteditable",te?"false":null),Uo.each(qn.getAll("figcaption"),Rt))}},_l=te=>{te.on("PreInit",()=>{te.parser.addNodeFilter("figure",si(!0)),te.serializer.addNodeFilter("figure",si(!1))})},fc=te=>ve=>{const $e=()=>{ve.setEnabled(te.selection.isEditable())};return te.on("NodeChange",$e),$e(),()=>{te.off("NodeChange",$e)}},qs=te=>{te.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:al(te).open,onSetup:ve=>{ve.setActive(Fe(ko(te)));const $e=te.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",ve.setActive).unbind,Rt=fc(te)(ve);return()=>{$e(),Rt()}}}),te.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:al(te).open,onSetup:fc(te)}),te.ui.registry.addContextMenu("image",{update:ve=>te.selection.isEditable()&&(sl(ve)||gi(ve)&&!gs(ve))?["image"]:[]})};var Af=()=>{l.add("image",te=>{Be(te),_l(te),qs(te),Uu(te)})};Af()})()),iae}var cae;function mxe(){return cae||(cae=1,fxe()),aae}mxe();var uae={},dae={},fae;function hxe(){return fae||(fae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=(Be,Ye)=>Be.dispatch("insertCustomChar",{chr:Ye}),p=(Be,Ye)=>{const tt=u(Be,Ye).chr;Be.execCommand("mceInsertContent",!1,tt)},x=(Be,Ye,tt)=>tt(Be,Ye.prototype)?!0:Be.constructor?.name===Ye.name,A=Be=>{const Ye=typeof Be;return Be===null?"null":Ye==="object"&&Array.isArray(Be)?"array":Ye==="object"&&x(Be,String,(tt,Le)=>Le.isPrototypeOf(tt))?"string":Ye},R=Be=>Ye=>A(Ye)===Be,O=Be=>Ye=>typeof Ye===Be,I=Be=>Ye=>Be===Ye,U=R("array"),V=I(null),Y=I(void 0),ee=Be=>Be==null,ue=Be=>!ee(Be),Ce=O("function"),Fe=(Be=>()=>Be)(!1);class be{tag;value;static singletonNone=new be(!1);constructor(Ye,tt){this.tag=Ye,this.value=tt}static some(Ye){return new be(!0,Ye)}static none(){return be.singletonNone}fold(Ye,tt){return this.tag?tt(this.value):Ye()}isSome(){return this.tag}isNone(){return!this.tag}map(Ye){return this.tag?be.some(Ye(this.value)):be.none()}bind(Ye){return this.tag?Ye(this.value):be.none()}exists(Ye){return this.tag&&Ye(this.value)}forall(Ye){return!this.tag||Ye(this.value)}filter(Ye){return!this.tag||Ye(this.value)?this:be.none()}getOr(Ye){return this.tag?this.value:Ye}or(Ye){return this.tag?this:Ye}getOrThunk(Ye){return this.tag?this.value:Ye()}orThunk(Ye){return this.tag?this:Ye()}getOrDie(Ye){if(this.tag)return this.value;throw new Error(Ye??"Called getOrDie on None")}static from(Ye){return ue(Ye)?be.some(Ye):be.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ye){this.tag&&Ye(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const lt=Array.prototype.push,Oe=(Be,Ye)=>{const tt=Be.length,Le=new Array(tt);for(let Je=0;Je<tt;Je++){const Nt=Be[Je];Le[Je]=Ye(Nt,Je)}return Le},J=(Be,Ye)=>{for(let tt=0,Le=Be.length;tt<Le;tt++){const Je=Be[tt];Ye(Je,tt)}},it=(Be,Ye,tt)=>{for(let Le=0,Je=Be.length;Le<Je;Le++){const Nt=Be[Le];if(Ye(Nt,Le))return be.some(Nt);if(tt(Nt,Le))break}return be.none()},jt=(Be,Ye)=>it(Be,Ye,Fe),Ke=Be=>{const Ye=[];for(let tt=0,Le=Be.length;tt<Le;++tt){if(!U(Be[tt]))throw new Error("Arr.flatten item "+tt+" was not an array, input: "+Be);lt.apply(Ye,Be[tt])}return Ye},ie=(Be,Ye)=>Ke(Oe(Be,Ye)),ut=Be=>{let Ye=Be;return{get:()=>Ye,set:Je=>{Ye=Je}}},xn=(Be,Ye,tt=0,Le)=>{const Je=Be.indexOf(Ye,tt);return Je!==-1?Y(Le)?!0:Je+Ye.length<=Le:!1},fn=String.fromCodePoint,qe=(Be,Ye)=>{let tt=null;const Le=()=>{V(tt)||(clearTimeout(tt),tt=null)};return{cancel:Le,throttle:(...Nt)=>{Le(),tt=setTimeout(()=>{tt=null,Be.apply(null,Nt)},Ye)}}};var Re=tinymce.util.Tools.resolve("tinymce.util.Tools");const Qo=Be=>Ye=>Ye.options.get(Be),vt=Be=>{const Ye=Be.options.register,tt=Le=>Ce(Le)||U(Le);Ye("charmap",{processor:tt}),Ye("charmap_append",{processor:tt})},Lt=Qo("charmap"),F=Qo("charmap_append"),Vt=Re.isArray,at="User Defined",Jn=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],an=Be=>Re.grep(Be,Ye=>Vt(Ye)&&Ye.length===2),le=Be=>Vt(Be)?an(Be):typeof Be=="function"?Be():[],Ve=(Be,Ye)=>{const tt=Lt(Be);tt&&(Ye=[{name:at,characters:le(tt)}]);const Le=F(Be);if(Le){const Je=Re.grep(Ye,Nt=>Nt.name===at);return Je.length?(Je[0].characters=[...Je[0].characters,...le(Le)],Ye):Ye.concat({name:at,characters:le(Le)})}return Ye},It=Be=>{const Ye=Ve(Be,Jn());return Ye.length>1?[{name:"All",characters:ie(Ye,tt=>tt.characters)}].concat(Ye):Ye},Ne=Be=>({getCharMap:()=>It(Be),insertChar:Le=>{p(Be,Le)}}),mt=(Be,Ye,tt)=>xn(fn(Be).toLowerCase(),tt)?!0:xn(Ye.toLowerCase(),tt)||xn(Ye.toLowerCase().replace(/\s+/g,""),tt),He=(Be,Ye)=>{const tt=[],Le=Ye.toLowerCase();return J(Be.characters,Je=>{mt(Je[0],Je[1],Le)&&tt.push(Je)}),Oe(tt,Je=>({text:Je[1],value:fn(Je[0]),icon:fn(Je[0])}))},ft="pattern",X=(Be,Ye)=>{const tt=()=>[{label:"Search",type:"input",name:ft},{type:"collection",name:"results"}],Le=()=>Oe(Ye,Jo=>({title:Jo.name,name:Jo.name,items:tt()})),Je=()=>({type:"panel",items:tt()}),Nt=()=>({type:"tabpanel",tabs:Le()}),xt=Ye.length===1?ut(at):ut("All"),Un=(Jo,Do)=>{jt(Ye,mr=>mr.name===xt.get()).each(mr=>{const zo=He(mr,Do);Jo.setData({results:zo})})},Pe=qe(Jo=>{const Do=Jo.getData().pattern;Un(Jo,Do)},40),Tt=Ye.length===1?Je():Nt(),sn={pattern:"",results:He(Ye[0],"")},Zn={title:"Special Character",size:"normal",body:Tt,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:sn,onAction:(Jo,Do)=>{Do.name==="results"&&(p(Be,Do.value),Jo.close())},onTabChange:(Jo,Do)=>{xt.set(Do.newTabName),Pe.throttle(Jo)},onChange:(Jo,Do)=>{Do.name===ft&&Pe.throttle(Jo)}};Be.windowManager.open(Zn).focus(ft)},$o=(Be,Ye)=>{Be.addCommand("mceShowCharmap",()=>{X(Be,Ye)})},xo=(Be,Ye)=>{Be.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(tt,Le)=>new Promise((Je,Nt)=>{Je(He(Ye,tt))}),onAction:(tt,Le,Je)=>{Be.selection.setRng(Le),Be.insertContent(Je),tt.hide()}})},Mo=Be=>Ye=>{const tt=()=>{Ye.setEnabled(Be.selection.isEditable())};return Be.on("NodeChange",tt),tt(),()=>{Be.off("NodeChange",tt)}},Ho=Be=>{const Ye=()=>Be.execCommand("mceShowCharmap");Be.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:Ye,onSetup:Mo(Be)}),Be.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:Ye,onSetup:Mo(Be)})};var js=()=>{l.add("charmap",Be=>{vt(Be);const Ye=It(Be);return $o(Be,Ye),Ho(Be),xo(Be,Ye[0]),Ne(Be)})};js()})()),dae}var mae;function gxe(){return mae||(mae=1,hxe()),uae}gxe();var hae={},gae={},pae;function pxe(){return pae||(pae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=Wt=>Kt=>typeof Kt===Wt,x=(Wt=>Kt=>Wt===Kt)(void 0),A=Wt=>Wt==null,R=Wt=>!A(Wt),O=u("function"),I=Wt=>()=>Wt,U=Wt=>Wt,V=I(!1);class Y{tag;value;static singletonNone=new Y(!1);constructor(Kt,Yn){this.tag=Kt,this.value=Yn}static some(Kt){return new Y(!0,Kt)}static none(){return Y.singletonNone}fold(Kt,Yn){return this.tag?Yn(this.value):Kt()}isSome(){return this.tag}isNone(){return!this.tag}map(Kt){return this.tag?Y.some(Kt(this.value)):Y.none()}bind(Kt){return this.tag?Kt(this.value):Y.none()}exists(Kt){return this.tag&&Kt(this.value)}forall(Kt){return!this.tag||Kt(this.value)}filter(Kt){return!this.tag||Kt(this.value)?this:Y.none()}getOr(Kt){return this.tag?this.value:Kt}or(Kt){return this.tag?this:Kt}getOrThunk(Kt){return this.tag?this.value:Kt()}orThunk(Kt){return this.tag?this:Kt()}getOrDie(Kt){if(this.tag)return this.value;throw new Error(Kt??"Called getOrDie on None")}static from(Kt){return R(Kt)?Y.some(Kt):Y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Kt){this.tag&&Kt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const ee=Array.prototype.indexOf,ue=(Wt,Kt)=>ee.call(Wt,Kt),Ce=(Wt,Kt)=>ue(Wt,Kt)>-1,pe=(Wt,Kt)=>{for(let Yn=0,Gn=Wt.length;Yn<Gn;Yn++){const vo=Wt[Yn];if(Kt(vo,Yn))return!0}return!1},Fe=(Wt,Kt)=>{const Yn=Wt.length,Gn=new Array(Yn);for(let vo=0;vo<Yn;vo++){const No=Wt[vo];Gn[vo]=Kt(No,vo)}return Gn},be=(Wt,Kt,Yn)=>{for(let Gn=0,vo=Wt.length;Gn<vo;Gn++){const No=Wt[Gn];if(Kt(No,Gn))return Y.some(No);if(Yn(No,Gn))break}return Y.none()},lt=(Wt,Kt)=>be(Wt,Kt,V),Oe=(Wt,Kt)=>{for(let Yn=0;Yn<Wt.length;Yn++){const Gn=Kt(Wt[Yn],Yn);if(Gn.isSome())return Gn}return Y.none()},J=(Wt,Kt)=>{const Yn=[],Gn=O(Kt)?vo=>pe(Yn,No=>Kt(No,vo)):vo=>Ce(Yn,vo);for(let vo=0,No=Wt.length;vo<No;vo++){const Qn=Wt[vo];Gn(Qn)||Yn.push(Qn)}return Yn},it=Object.keys,jt=(Wt,Kt)=>{const Yn=it(Wt);for(let Gn=0,vo=Yn.length;Gn<vo;Gn++){const No=Yn[Gn],Qn=Wt[No];Kt(Qn,No)}},Ke=(Wt,Kt)=>{const Yn=[];return jt(Wt,(Gn,vo)=>{Yn.push(Kt(Gn,vo))}),Yn},ie=Wt=>Ke(Wt,U),ut=(Wt,Kt,Yn=0,Gn)=>{const vo=Wt.indexOf(Kt,Yn);return vo!==-1?x(Gn)?!0:vo+Kt.length<=Gn:!1},xn=Wt=>{let Kt=!1,Yn;return(...Gn)=>(Kt||(Kt=!0,Yn=Wt.apply(null,Gn)),Yn)},fn=(Wt,Kt,Yn,Gn)=>{const vo=Wt.isiOS()&&/ipad/i.test(Yn)===!0,No=Wt.isiOS()&&!vo,Qn=Wt.isiOS()||Wt.isAndroid(),ls=Qn||Gn("(pointer:coarse)"),La=vo||!No&&Qn&&Gn("(min-device-width:768px)"),sl=No||Qn&&!La,gi=Kt.isSafari()&&Wt.isiOS()&&/safari/i.test(Yn)===!1,Pn=!sl&&!La&&!gi;return{isiPad:I(vo),isiPhone:I(No),isTablet:I(La),isPhone:I(sl),isTouch:I(ls),isAndroid:Wt.isAndroid,isiOS:Wt.isiOS,isWebView:I(gi),isDesktop:I(Pn)}},qe=(Wt,Kt)=>{for(let Yn=0;Yn<Wt.length;Yn++){const Gn=Wt[Yn];if(Gn.test(Kt))return Gn}},Re=(Wt,Kt)=>{const Yn=qe(Wt,Kt);if(!Yn)return{major:0,minor:0};const Gn=vo=>Number(Kt.replace(Yn,"$"+vo));return Lt(Gn(1),Gn(2))},Qo=(Wt,Kt)=>{const Yn=String(Kt).toLowerCase();return Wt.length===0?vt():Re(Wt,Yn)},vt=()=>Lt(0,0),Lt=(Wt,Kt)=>({major:Wt,minor:Kt}),F={nu:Lt,detect:Qo,unknown:vt},Vt=(Wt,Kt)=>Oe(Kt.brands,Yn=>{const Gn=Yn.brand.toLowerCase();return lt(Wt,vo=>Gn===vo.brand?.toLowerCase()).map(vo=>({current:vo.name,version:F.nu(parseInt(Yn.version,10),0)}))}),at=(Wt,Kt)=>{const Yn=String(Kt).toLowerCase();return lt(Wt,Gn=>Gn.search(Yn))},Jn=(Wt,Kt)=>at(Wt,Kt).map(Yn=>{const Gn=F.detect(Yn.versionRegexes,Kt);return{current:Yn.name,version:Gn}}),an=(Wt,Kt)=>at(Wt,Kt).map(Yn=>{const Gn=F.detect(Yn.versionRegexes,Kt);return{current:Yn.name,version:Gn}}),le=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ve=Wt=>Kt=>ut(Kt,Wt),It=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:Wt=>ut(Wt,"edge/")&&ut(Wt,"chrome")&&ut(Wt,"safari")&&ut(Wt,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,le],search:Wt=>ut(Wt,"chrome")&&!ut(Wt,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:Wt=>ut(Wt,"msie")||ut(Wt,"trident")},{name:"Opera",versionRegexes:[le,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ve("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ve("firefox")},{name:"Safari",versionRegexes:[le,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:Wt=>(ut(Wt,"safari")||ut(Wt,"mobile/"))&&ut(Wt,"applewebkit")}],Ne=[{name:"Windows",search:Ve("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:Wt=>ut(Wt,"iphone")||ut(Wt,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ve("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ve("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ve("linux"),versionRegexes:[]},{name:"Solaris",search:Ve("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ve("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ve("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],mt={browsers:I(It),oses:I(Ne)},He="Edge",ft="Chromium",X="IE",$o="Opera",xo="Firefox",Mo="Safari",Ho=()=>js({current:void 0,version:F.unknown()}),js=Wt=>{const Kt=Wt.current,Yn=Wt.version,Gn=vo=>()=>Kt===vo;return{current:Kt,version:Yn,isEdge:Gn(He),isChromium:Gn(ft),isIE:Gn(X),isOpera:Gn($o),isFirefox:Gn(xo),isSafari:Gn(Mo)}},Be={unknown:Ho,nu:js},Ye="Windows",tt="iOS",Le="Android",Je="Linux",Nt="macOS",xt="Solaris",Un="FreeBSD",Dt="ChromeOS",Pe=()=>Tt({current:void 0,version:F.unknown()}),Tt=Wt=>{const Kt=Wt.current,Yn=Wt.version,Gn=vo=>()=>Kt===vo;return{current:Kt,version:Yn,isWindows:Gn(Ye),isiOS:Gn(tt),isAndroid:Gn(Le),isMacOS:Gn(Nt),isLinux:Gn(Je),isSolaris:Gn(xt),isFreeBSD:Gn(Un),isChromeOS:Gn(Dt)}},sn={unknown:Pe,nu:Tt},Yo={detect:(Wt,Kt,Yn)=>{const Gn=mt.browsers(),vo=mt.oses(),No=Kt.bind(La=>Vt(Gn,La)).orThunk(()=>Jn(Gn,Wt)).fold(Be.unknown,Be.nu),Qn=an(vo,Wt).fold(sn.unknown,sn.nu),ls=fn(Qn,No,Wt,Yn);return{browser:No,os:Qn,deviceType:ls}}},Jo=Wt=>window.matchMedia(Wt).matches;let Do=xn(()=>Yo.detect(window.navigator.userAgent,Y.from(window.navigator.userAgentData),Jo));const mr=()=>Do(),zo=()=>mr().os.isMacOS(),os=()=>mr().os.isiOS(),Vs=()=>{const Wt=zo()||os();return`<script>(${(Yn=>{document.addEventListener("click",Gn=>{for(let vo=Gn.target;vo;vo=vo.parentNode)if(vo.nodeName==="A"){const Qn=vo.getAttribute("href");if(Qn&&Qn.startsWith("#")){Gn.preventDefault();const La=document.getElementById(Qn.substring(1));La&&La.scrollIntoView({behavior:"smooth"});return}(Yn?Gn.metaKey:Gn.ctrlKey&&!Gn.altKey)||Gn.preventDefault()}},!1)}).toString()})(${Wt})<\/script>`};var Es=tinymce.util.Tools.resolve("tinymce.dom.ScriptLoader"),Xs=tinymce.util.Tools.resolve("tinymce.util.Tools");const gs=Wt=>Kt=>Kt.options.get(Wt),Wr=gs("content_style"),Ts=gs("content_css_cors"),$r=gs("body_class"),Ma=gs("body_id"),Hn=Wt=>{const Kt=J(ie(Wt.schema.getComponentUrls()));return Fe(Kt,Yn=>{const Gn=Ke(Es.ScriptLoader.getScriptAttributes(Yn),(vo,No)=>` ${Wt.dom.encode(No)}="${Wt.dom.encode(vo)}"`);return`<script src="${Wt.dom.encode(Yn)}"${Gn.join("")}><\/script>`}).join("")},ts=Wt=>{let Kt="";const Yn=Wt.dom.encode,Gn=Wr(Wt)??"";Kt+=`<base href="${Yn(Wt.documentBaseURI.getURI())}">`;const vo=Ts(Wt)?' crossorigin="anonymous"':"";Xs.each(Wt.contentCSS,gi=>{Kt+='<link type="text/css" rel="stylesheet" href="'+Yn(Wt.documentBaseURI.toAbsolute(gi))+'"'+vo+">"}),Gn&&(Kt+='<style type="text/css">'+Gn+"</style>"),Kt+=Hn(Wt);const No=Ma(Wt),Qn=$r(Wt),ls=Wt.getBody().dir,La=ls?' dir="'+Yn(ls)+'"':"";return"<!DOCTYPE html><html><head>"+Kt+'</head><body id="'+Yn(No)+'" class="mce-content-body '+Yn(Qn)+'"'+La+">"+Wt.getContent()+Vs()+"</body></html>"},Oo=Wt=>{const Kt=ts(Wt);Wt.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:Kt}}).focus("close")},ui=Wt=>{Wt.addCommand("mcePreview",()=>{Oo(Wt)})},Ba=Wt=>{const Kt=()=>Wt.execCommand("mcePreview");Wt.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:Kt,context:"any"}),Wt.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:Kt,context:"any"})};var Mn=()=>{l.add("preview",Wt=>{ui(Wt),Ba(Wt)})};Mn()})()),gae}var bae;function bxe(){return bae||(bae=1,pxe()),hae}bxe();var yae={},vae={},xae;function yxe(){return xae||(xae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager"),u=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),p=tinymce.util.Tools.resolve("tinymce.util.Tools");const x=vt=>Lt=>Lt.options.get(vt),A=vt=>{const Lt=vt.options.register;Lt("allow_html_in_named_anchor",{processor:"boolean",default:!1})},R=x("allow_html_in_named_anchor"),O="a:not([href])",I=vt=>!vt,U=vt=>vt.getAttribute("id")||vt.getAttribute("name")||"",V=vt=>vt.nodeName.toLowerCase()==="a",Y=vt=>V(vt)&&!vt.getAttribute("href")&&U(vt)!=="",ee=vt=>Y(vt)&&!vt.firstChild,ue=vt=>{const Lt=vt.dom;u(Lt).walk(vt.selection.getRng(),F=>{p.each(F,Vt=>{ee(Vt)&&Lt.remove(Vt,!1)})})},Ce=vt=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(vt),pe=vt=>vt.dom.getParent(vt.selection.getStart(),O),Fe=vt=>{const Lt=pe(vt);return Lt?U(Lt):""},be=(vt,Lt)=>{vt.undoManager.transact(()=>{R(vt)||vt.selection.collapse(!0),vt.selection.isCollapsed()?vt.insertContent(vt.dom.createHTML("a",{id:Lt})):(ue(vt),vt.formatter.remove("namedAnchor",void 0,void 0,!0),vt.formatter.apply("namedAnchor",{value:Lt}),vt.addVisual())})},lt=(vt,Lt,F)=>{F.removeAttribute("name"),F.id=Lt,vt.addVisual(),vt.undoManager.add()},Oe=(vt,Lt)=>{const F=pe(vt);F?lt(vt,Lt,F):be(vt,Lt),vt.focus()},J=(vt,Lt)=>Ce(Lt)?(Oe(vt,Lt),!0):(vt.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1),it=vt=>{const Lt=Fe(vt);vt.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:Lt},onSubmit:F=>{J(vt,F.getData().id)&&F.close()}})},jt=vt=>{vt.addCommand("mceAnchor",()=>{it(vt)})},Ke=vt=>I(vt.attr("href"))&&!I(vt.attr("id")||vt.attr("name")),ie=vt=>Ke(vt)&&!vt.firstChild,ut=vt=>Lt=>{for(let F=0;F<Lt.length;F++){const Vt=Lt[F];ie(Vt)&&Vt.attr("contenteditable",vt)}},xn=vt=>{vt.on("PreInit",()=>{vt.parser.addNodeFilter("a",ut("false")),vt.serializer.addNodeFilter("a",ut(null))})},fn=vt=>{vt.formatter.register("namedAnchor",{inline:"a",selector:O,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:(Lt,F,Vt)=>Y(Lt)})},qe=vt=>Lt=>{const F=()=>{Lt.setEnabled(vt.selection.isEditable())};return vt.on("NodeChange",F),F(),()=>{vt.off("NodeChange",F)}},Re=vt=>{const Lt=()=>vt.execCommand("mceAnchor");vt.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:Lt,onSetup:F=>{const Vt=vt.selection.selectorChangedWithUnbind("a:not([href])",F.setActive).unbind,at=qe(vt)(F);return()=>{Vt(),at()}}}),vt.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:Lt,onSetup:qe(vt)})};var Qo=()=>{l.add("anchor",vt=>{A(vt),xn(vt),jt(vt),Re(vt),vt.on("PreInit",()=>{fn(vt)})})};Qo()})()),vae}var wae;function vxe(){return wae||(wae=1,yxe()),yae}vxe();var Cae={},Sae={},Eae;function xxe(){return Eae||(Eae=1,(function(){const l=(me,je,Ut)=>Ut(me,je.prototype)?!0:me.constructor?.name===je.name,u=me=>{const je=typeof me;return me===null?"null":je==="object"&&Array.isArray(me)?"array":je==="object"&&l(me,String,(Ut,wn)=>wn.isPrototypeOf(Ut))?"string":je},p=me=>je=>u(je)===me,x=me=>je=>typeof je===me,A=p("string"),R=p("array"),O=x("boolean"),I=me=>me==null,U=me=>!I(me),V=x("number"),Y=()=>{},ee=me=>()=>me,ue=ee(!0);class Ce{tag;value;static singletonNone=new Ce(!1);constructor(je,Ut){this.tag=je,this.value=Ut}static some(je){return new Ce(!0,je)}static none(){return Ce.singletonNone}fold(je,Ut){return this.tag?Ut(this.value):je()}isSome(){return this.tag}isNone(){return!this.tag}map(je){return this.tag?Ce.some(je(this.value)):Ce.none()}bind(je){return this.tag?je(this.value):Ce.none()}exists(je){return this.tag&&je(this.value)}forall(je){return!this.tag||je(this.value)}filter(je){return!this.tag||je(this.value)?this:Ce.none()}getOr(je){return this.tag?this.value:je}or(je){return this.tag?this:je}getOrThunk(je){return this.tag?this.value:je()}orThunk(je){return this.tag?this:je()}getOrDie(je){if(this.tag)return this.value;throw new Error(je??"Called getOrDie on None")}static from(je){return U(je)?Ce.some(je):Ce.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(je){this.tag&&je(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const pe=Array.prototype.slice,Fe=Array.prototype.push,be=(me,je)=>{const Ut=me.length,wn=new Array(Ut);for(let Gt=0;Gt<Ut;Gt++){const wo=me[Gt];wn[Gt]=je(wo,Gt)}return wn},lt=(me,je)=>{for(let Ut=0,wn=me.length;Ut<wn;Ut++){const Gt=me[Ut];je(Gt,Ut)}},Oe=(me,je)=>{for(let Ut=me.length-1;Ut>=0;Ut--){const wn=me[Ut];je(wn,Ut)}},J=(me,je)=>{if(me.length===0)return[];{let Ut=je(me[0]);const wn=[];let Gt=[];for(let wo=0,oo=me.length;wo<oo;wo++){const Bn=me[wo],Uo=je(Bn);Uo!==Ut&&(wn.push(Gt),Gt=[]),Ut=Uo,Gt.push(Bn)}return Gt.length!==0&&wn.push(Gt),wn}},it=(me,je,Ut)=>(lt(me,(wn,Gt)=>{Ut=je(Ut,wn,Gt)}),Ut),jt=me=>{const je=[];for(let Ut=0,wn=me.length;Ut<wn;++Ut){if(!R(me[Ut]))throw new Error("Arr.flatten item "+Ut+" was not an array, input: "+me);Fe.apply(je,me[Ut])}return je},Ke=(me,je)=>jt(be(me,je)),ie=(me,je)=>{const Ut=pe.call(me,0);return Ut.sort(je),Ut},ut=Object.hasOwnProperty,xn=(me,je)=>ut.call(me,je),fn=me=>{let je=me;return{get:()=>je,set:Gt=>{je=Gt}}},qe=me=>{const je=fn(Ce.none()),Ut=()=>je.get().each(me);return{clear:()=>{Ut(),je.set(Ce.none())},isSet:()=>je.get().isSome(),get:()=>je.get(),set:Bn=>{Ut(),je.set(Ce.some(Bn))}}},Re=()=>{const me=qe(Y);return{...me,on:Ut=>me.get().each(Ut)}};var Qo=tinymce.util.Tools.resolve("tinymce.PluginManager");const F=ee("[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]");var Vt=tinymce.util.Tools.resolve("tinymce.Env"),at=tinymce.util.Tools.resolve("tinymce.util.Tools");const Jn=(me,je)=>{const wn=(je||document).createElement("div");if(wn.innerHTML=me,!wn.hasChildNodes()||wn.childNodes.length>1){const Gt="HTML does not have a single root node";throw console.error(Gt,me),new Error(Gt)}return Ve(wn.childNodes[0])},an=(me,je)=>{const wn=(je||document).createElement(me);return Ve(wn)},le=(me,je)=>{const wn=(je||document).createTextNode(me);return Ve(wn)},Ve=me=>{if(me==null)throw new Error("Node cannot be null or undefined");return{dom:me}},Ne={fromHtml:Jn,fromTag:an,fromText:le,fromDom:Ve,fromPoint:(me,je,Ut)=>Ce.from(me.dom.elementFromPoint(je,Ut)).map(Ve)},mt=9,He=11,ft=1,X=3,$o=me=>me.nodeType!==ft&&me.nodeType!==mt&&me.nodeType!==He||me.childElementCount===0,xo=(me,je)=>{const Ut=je===void 0?document:je.dom;return $o(Ut)?[]:be(Ut.querySelectorAll(me),Ne.fromDom)},Mo=(me,je,Ut)=>(me.compareDocumentPosition(je)&Ut)!==0,Ho=(me,je)=>Mo(me,je,Node.DOCUMENT_POSITION_PRECEDING),js=me=>me.dom.nodeType,Ye=(me=>je=>js(je)===me)(X),tt=me=>Ce.from(me.dom.parentNode).map(Ne.fromDom),Le=me=>be(me.dom.childNodes,Ne.fromDom),Je=(me,je)=>({element:me,offset:je}),Nt=(me,je)=>{const Ut=Le(me);return Ut.length>0&&je<Ut.length?Je(Ut[je],0):Je(me,je)},xt=(me,je)=>{tt(me).each(wn=>{wn.dom.insertBefore(je.dom,me.dom)})},Un=(me,je)=>{me.dom.appendChild(je.dom)},Dt=(me,je)=>{xt(me,je),Un(je,me)},Pe=(me,je,Ut)=>{if(A(Ut)||O(Ut)||V(Ut))me.setAttribute(je,Ut+"");else throw console.error("Invalid call to Attribute.set. Key ",je,":: Value ",Ut,":: Element ",me),new Error("Attribute value was not simple")},Tt=(me,je,Ut)=>{Pe(me.dom,je,Ut)},Zn=((me,je)=>{const Ut=wo=>{if(!me(wo))throw new Error("Can only get "+je+" value of a "+je+" node");return wn(wo).getOr("")},wn=wo=>me(wo)?Ce.from(wo.dom.nodeValue):Ce.none();return{get:Ut,getOption:wn,set:(wo,oo)=>{if(!me(wo))throw new Error("Can only set raw "+je+" value of a "+je+" node");wo.dom.nodeValue=oo}}})(Ye,"text"),Yo=me=>Zn.get(me),Jo=(me,je)=>xo(je,me);var Do=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const mr=(me,je)=>me.isBlock(je)||xn(me.schema.getVoidElements(),je.nodeName),zo=(me,je)=>!me.isEditable(je),os=(me,je)=>me.getContentEditable(je)==="true"&&je.parentNode&&!me.isEditable(je.parentNode),Vs=(me,je)=>!me.isBlock(je)&&xn(me.schema.getWhitespaceElements(),je.nodeName),Es=(me,je)=>mr(me,je)||zo(me,je)||Vs(me,je)||os(me,je),Xs=me=>me.nodeType===3,gs=()=>({sOffset:0,fOffset:0,elements:[]}),Wr=(me,je)=>Nt(Ne.fromDom(me),je),Ts=(me,je,Ut,wn,Gt,wo=!0)=>{let oo=wo?je(!1):Ut;for(;oo;){const Bn=zo(me,oo);if(Bn||Vs(me,oo)){if(Bn?wn.cef(oo):wn.boundary(oo))break;oo=je(!0);continue}else if(mr(me,oo)){if(wn.boundary(oo))break}else Xs(oo)&&wn.text(oo);if(oo===Gt)break;oo=je(!1)}},$r=(me,je,Ut,wn,Gt)=>{if(Es(me,Ut))return;const wo=me.getParent(wn,me.isBlock)??me.getRoot(),oo=new Do(Ut,wo),Bn=Gt?oo.next.bind(oo):oo.prev.bind(oo);Ts(me,Bn,Ut,{boundary:ue,cef:ue,text:Uo=>{Gt?je.fOffset+=Uo.length:je.sOffset+=Uo.length,je.elements.push(Ne.fromDom(Uo))}})},Ma=(me,je,Ut,wn,Gt,wo=!0)=>{const oo=new Do(Ut,je),Bn=[];let Uo=gs();$r(me,Uo,Ut,je,!1);const xs=()=>(Uo.elements.length>0&&(Bn.push(Uo),Uo=gs()),!1);return Ts(me,oo.next.bind(oo),Ut,{boundary:xs,cef:As=>(xs(),Gt&&Bn.push(...Gt.cef(As)),!1),text:As=>{Uo.elements.push(Ne.fromDom(As)),Gt&&Gt.text(As,Uo)}},wn,wo),wn&&$r(me,Uo,wn,je,!0),xs(),Bn},Hn=(me,je)=>{const Ut=Wr(je.startContainer,je.startOffset),wn=Ut.element.dom,Gt=Wr(je.endContainer,je.endOffset),wo=Gt.element.dom;return Ma(me,je.commonAncestorContainer,wn,wo,{text:(oo,Bn)=>{oo===wo?Bn.fOffset+=oo.length-Gt.offset:oo===wn&&(Bn.sOffset+=Ut.offset)},cef:oo=>{const Bn=Ke(Jo(Ne.fromDom(oo),"*[contenteditable=true]"),Uo=>{const xs=Uo.dom;return Ma(me,xs,xs)});return ie(Bn,(Uo,xs)=>Ho(Uo.elements[0].dom,xs.elements[0].dom)?1:-1)}},!1)},ts=(me,je)=>je.collapsed?[]:Hn(me,je),Oo=(me,je)=>{const Ut=me.createRng();return Ut.selectNode(je),ts(me,Ut)},ui=(me,je)=>Ke(je,Ut=>Oo(me,Ut)),Ba=(me,je,Ut=0,wn=me.length)=>{const Gt=je.regex;Gt.lastIndex=Ut;const wo=[];let oo;for(;oo=Gt.exec(me);){const Bn=oo[je.matchIndex],Uo=oo.index+oo[0].indexOf(Bn),xs=Uo+Bn.length;if(xs>wn)break;wo.push({start:Uo,finish:xs}),Gt.lastIndex=xs}return wo},Mn=(me,je)=>{const Ut=it(me,(wn,Gt)=>{const wo=Yo(Gt),oo=wn.last,Bn=oo+wo.length,Uo=Ke(je,(xs,As)=>xs.start<Bn&&xs.finish>oo?[{element:Gt,start:Math.max(oo,xs.start)-oo,finish:Math.min(Bn,xs.finish)-oo,matchId:As}]:[]);return{results:wn.results.concat(Uo),last:Bn}},{results:[],last:0}).results;return J(Ut,wn=>wn.matchId)},Wt=(me,je)=>Ke(je,Ut=>{const wn=Ut.elements,Gt=be(wn,Yo).join(""),wo=Ba(Gt,me,Ut.sOffset,Gt.length-Ut.fOffset);return Mn(wn,wo)}),Kt=(me,je)=>{Oe(me,(Ut,wn)=>{Oe(Ut,Gt=>{const wo=Ne.fromDom(je.cloneNode(!1));Tt(wo,"data-mce-index",wn);const oo=Gt.element.dom;if(oo.length===Gt.finish&&Gt.start===0)Dt(Gt.element,wo);else{oo.length!==Gt.finish&&oo.splitText(Gt.finish);const Bn=oo.splitText(Gt.start);Dt(Ne.fromDom(Bn),wo)}})})},Yn=(me,je,Ut,wn)=>{const Gt=Oo(me,Ut),wo=Wt(je,Gt);return Kt(wo,wn),wo.length},Gn=(me,je,Ut,wn)=>{const Gt=Ut.getBookmark(),wo=me.select("td[data-mce-selected],th[data-mce-selected]"),oo=wo.length>0?ui(me,wo):ts(me,Ut.getRng()),Bn=Wt(je,oo);return Kt(Bn,wn),Ut.moveToBookmark(Gt),Bn.length},vo=me=>me.getAttribute("data-mce-index"),No=(me,je,Ut,wn)=>{const Gt=me.dom.create("span",{"data-mce-bogus":1});Gt.className="mce-match-marker";const wo=me.getBody();return Ue(me,je,!1),wn?Gn(me.dom,Ut,me.selection,Gt):Yn(me.dom,Ut,wo,Gt)},Qn=me=>{const je=me.parentNode;me.firstChild&&je.insertBefore(me.firstChild,me),me.parentNode?.removeChild(me)},ls=(me,je)=>{const Ut=[],wn=at.toArray(me.getBody().getElementsByTagName("span"));if(wn.length)for(let Gt=0;Gt<wn.length;Gt++){const wo=vo(wn[Gt]);wo===null||!wo.length||wo===je.toString()&&Ut.push(wn[Gt])}return Ut},La=(me,je,Ut)=>{const wn=je.get();let Gt=wn.index;const wo=me.dom;Ut?Gt+1===wn.count?Gt=0:Gt++:Gt-1===-1?Gt=wn.count-1:Gt--,wo.removeClass(ls(me,wn.index),"mce-match-marker-selected");const oo=ls(me,Gt);return oo.length?(wo.addClass(ls(me,Gt),"mce-match-marker-selected"),me.selection.scrollIntoView(oo[0]),Gt):-1},sl=(me,je)=>{const Ut=je.parentNode;me.remove(je),Ut&&me.isEmpty(Ut)&&me.remove(Ut)},gi=(me,je)=>{const wn="("+me.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return je?`(?:^|\\s|${F()})`+wn+`(?=$|\\s|${F()})`:wn},Pn=(me,je,Ut,wn,Gt,wo)=>{const oo=me.selection,Bn=gi(Ut,Gt),Uo=oo.isForward(),xs={regex:new RegExp(Bn,wn?"g":"gi"),matchIndex:1},As=No(me,je,xs,wo);if(Vt.browser.isSafari()&&oo.setRng(oo.getRng(),Uo),As){const ks=La(me,je,!0);je.set({index:ks,count:As,text:Ut,matchCase:wn,wholeWord:Gt,inSelection:wo})}return As},er=(me,je)=>{const Ut=La(me,je,!0);je.set({...je.get(),index:Ut})},tr=(me,je)=>{const Ut=La(me,je,!1);je.set({...je.get(),index:Ut})},jl=me=>{const je=vo(me);return je!==null&&je.length>0},Ie=(me,je,Ut,wn,Gt)=>{const wo=je.get(),oo=wo.index;let Bn,Uo=oo;wn=wn!==!1;const xs=me.getBody(),As=at.grep(at.toArray(xs.getElementsByTagName("span")),jl);for(let ks=0;ks<As.length;ks++){const sa=vo(As[ks]);let Sa=Bn=parseInt(sa,10);if(Gt||Sa===wo.index){for(Ut.length?(As[ks].innerText=Ut,Qn(As[ks])):sl(me.dom,As[ks]);As[++ks];)if(Sa=parseInt(vo(As[ks]),10),Sa===Bn)sl(me.dom,As[ks]);else{ks--;break}wn&&Uo--}else Bn>oo&&As[ks].setAttribute("data-mce-index",String(Bn-1))}return je.set({...wo,count:Gt?0:wo.count-1,index:Uo}),wn?er(me,je):tr(me,je),!Gt&&je.get().count>0},Ue=(me,je,Ut)=>{let wn,Gt;const wo=je.get(),oo=at.toArray(me.getBody().getElementsByTagName("span"));for(let Bn=0;Bn<oo.length;Bn++){const Uo=vo(oo[Bn]);Uo!==null&&Uo.length&&(Uo===wo.index.toString()&&(wn||(wn=oo[Bn].firstChild),Gt=oo[Bn].firstChild),Qn(oo[Bn]))}if(je.set({...wo,index:-1,count:0,text:""}),wn&&Gt){const Bn=me.dom.createRng();return Bn.setStart(wn,0),Bn.setEnd(Gt,Gt.data.length),Ut!==!1&&me.selection.setRng(Bn),Bn}else return},nt=(me,je)=>je.get().count>1,gn=(me,je)=>je.get().count>1,Ao=(me,je)=>({done:Bn=>Ue(me,je,Bn),find:(Bn,Uo,xs,As=!1)=>Pn(me,je,Bn,Uo,xs,As),next:()=>er(me,je),prev:()=>tr(me,je),replace:(Bn,Uo,xs)=>Ie(me,je,Bn,Uo,xs)}),co=(me,je)=>{const Ut=Re();me.undoManager.add();const wn=at.trim(me.selection.getContent({format:"text"})),Gt=Tr=>{Tr.setEnabled("next",nt(me,je)),Tr.setEnabled("prev",gn(me,je))},wo=Tr=>{const Fs=Tr.getData(),ir=je.get();je.set({...ir,matchCase:Fs.matchcase,wholeWord:Fs.wholewords,inSelection:Fs.inselection})},oo=(Tr,Fs)=>{lt(["replace","replaceall","prev","next"],Ci=>Tr.setEnabled(Ci,!Fs))},Bn=(Tr,Fs)=>{Fs.redial(Qf(Tr,Fs.getData()))},Uo=(Tr,Fs)=>{Vt.browser.isSafari()&&Vt.deviceType.isTouch()&&(Fs==="find"||Fs==="replace"||Fs==="replaceall")&&Tr.focus(Fs)},xs=Tr=>{Ue(me,je,!1),oo(Tr,!0),Gt(Tr)},As=Tr=>{const Fs=Tr.getData(),ir=je.get();if(!Fs.findtext.length){xs(Tr);return}if(ir.text===Fs.findtext&&ir.matchCase===Fs.matchcase&&ir.wholeWord===Fs.wholewords)er(me,je);else{const Vi=Pn(me,je,Fs.findtext,Fs.matchcase,Fs.wholewords,Fs.inselection);Vi<=0&&Bn(!0,Tr),oo(Tr,Vi===0)}Gt(Tr)},ks=je.get(),sa={findtext:wn,replacetext:"",wholewords:ks.wholeWord,matchcase:ks.matchCase,inselection:ks.inSelection},Sa=Tr=>{const Fs=[{type:"label",label:"Find",for:"findtext",items:[{type:"bar",items:[{type:"input",name:"findtext",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]}]},{type:"input",name:"replacetext",label:"Replace with",inputMode:"search"}];return Tr&&Fs.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),Fs},Qf=(Tr,Fs)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:Sa(Tr)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:Fs,onChange:(ir,Vi)=>{Tr&&Bn(!1,ir),Vi.name==="findtext"&&je.get().count>0&&xs(ir)},onAction:(ir,Vi)=>{const Ci=ir.getData();switch(Vi.name){case"find":As(ir);break;case"replace":Ie(me,je,Ci.replacetext)?Gt(ir):xs(ir);break;case"replaceall":Ie(me,je,Ci.replacetext,!0,!0),xs(ir);break;case"prev":tr(me,je),Gt(ir);break;case"next":er(me,je),Gt(ir);break;case"matchcase":case"wholewords":case"inselection":Bn(!1,ir),wo(ir),xs(ir);break}Uo(ir,Vi.name)},onSubmit:ir=>{As(ir),Uo(ir,"find")},onClose:()=>{me.focus(),Ue(me,je),me.undoManager.add()}});Ut.set(me.windowManager.open(Qf(!1,sa),{inline:"toolbar"}))},Zo=(me,je)=>{me.addCommand("SearchReplace",()=>{co(me,je)})},us=(me,je)=>()=>{co(me,je)},ko=(me,je)=>{me.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:us(me,je),icon:"search"}),me.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:us(me,je),icon:"search",shortcut:"Meta+F"}),me.shortcuts.add("Meta+F","",us(me,je))};var Qs=()=>{Qo.add("searchreplace",me=>{const je=fn({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return Zo(me,je),ko(me,je),Ao(me,je)})};Qs()})()),Sae}var Tae;function wxe(){return Tae||(Tae=1,xxe()),Cae}wxe();var Aae={},kae={},Dae;function Cxe(){return Dae||(Dae=1,(function(){const l=ue=>{let Ce=ue;return{get:()=>Ce,set:be=>{Ce=be}}};var u=tinymce.util.Tools.resolve("tinymce.PluginManager");const p=(ue,Ce)=>{ue.dispatch("VisualBlocks",{state:Ce})},x=(ue,Ce,pe)=>{ue.dom.toggleClass(ue.getBody(),"mce-visualblocks"),pe.set(!pe.get()),p(ue,pe.get())},A=(ue,Ce,pe)=>{ue.addCommand("mceVisualBlocks",()=>{x(ue,Ce,pe)})},R=ue=>Ce=>Ce.options.get(ue),O=ue=>{const Ce=ue.options.register;Ce("visualblocks_default_state",{processor:"boolean",default:!1})},I=R("visualblocks_default_state"),U=(ue,Ce,pe)=>{ue.on("PreviewFormats AfterPreviewFormats",Fe=>{pe.get()&&ue.dom.toggleClass(ue.getBody(),"mce-visualblocks",Fe.type==="afterpreviewformats")}),ue.on("init",()=>{I(ue)&&x(ue,Ce,pe)})},V=(ue,Ce)=>pe=>{pe.setActive(Ce.get());const Fe=be=>pe.setActive(be.state);return ue.on("VisualBlocks",Fe),()=>ue.off("VisualBlocks",Fe)},Y=(ue,Ce)=>{const pe=()=>ue.execCommand("mceVisualBlocks");ue.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:pe,onSetup:V(ue,Ce),context:"any"}),ue.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:pe,onSetup:V(ue,Ce),context:"any"})};var ee=()=>{u.add("visualblocks",(ue,Ce)=>{O(ue);const pe=l(!1);A(ue,Ce,pe),Y(ue,pe),U(ue,Ce,pe)})};ee()})()),kae}var _ae;function Sxe(){return _ae||(_ae=1,Cxe()),Aae}Sxe();var Oae={},Nae={},Rae;function Exe(){return Rae||(Rae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=(I,U)=>{I.focus(),I.undoManager.transact(()=>{I.setContent(U)}),I.selection.setCursorLocation(),I.nodeChanged()},p=I=>I.getContent({source_view:!0}),x=I=>{const U=p(I);I.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code",spellcheck:!1}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:U},onSubmit:V=>{u(I,V.getData().code),V.close()}})},A=I=>{I.addCommand("mceCodeEditor",()=>{x(I)})},R=I=>{const U=()=>I.execCommand("mceCodeEditor");I.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:U}),I.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:U})};var O=()=>{l.add("code",I=>(A(I),R(I),{}))};O()})()),Nae}var Mae;function Txe(){return Mae||(Mae=1,Exe()),Oae}Txe();var Bae={},Lae={},Pae;function Axe(){return Pae||(Pae=1,(function(){const l=(ye,Me,ht)=>ht(ye,Me.prototype)?!0:ye.constructor?.name===Me.name,u=ye=>{const Me=typeof ye;return ye===null?"null":Me==="object"&&Array.isArray(ye)?"array":Me==="object"&&l(ye,String,(ht,Xt)=>Xt.isPrototypeOf(ht))?"string":Me},p=ye=>Me=>u(Me)===ye,x=ye=>Me=>typeof Me===ye,A=ye=>Me=>ye===Me,R=p("string"),O=p("object"),I=p("array"),U=A(null),V=x("boolean"),Y=A(void 0),ee=ye=>ye==null,ue=ye=>!ee(ye),Ce=x("function"),pe=x("number"),Fe=()=>{},be=(ye,Me)=>(...ht)=>ye(Me.apply(null,ht)),lt=(ye,Me)=>ht=>ye(Me(ht)),Oe=ye=>()=>ye;function J(ye,...Me){return(...ht)=>{const Xt=Me.concat(ht);return ye.apply(null,Xt)}}const it=Oe(!1),jt=Oe(!0);class Ke{tag;value;static singletonNone=new Ke(!1);constructor(Me,ht){this.tag=Me,this.value=ht}static some(Me){return new Ke(!0,Me)}static none(){return Ke.singletonNone}fold(Me,ht){return this.tag?ht(this.value):Me()}isSome(){return this.tag}isNone(){return!this.tag}map(Me){return this.tag?Ke.some(Me(this.value)):Ke.none()}bind(Me){return this.tag?Me(this.value):Ke.none()}exists(Me){return this.tag&&Me(this.value)}forall(Me){return!this.tag||Me(this.value)}filter(Me){return!this.tag||Me(this.value)?this:Ke.none()}getOr(Me){return this.tag?this.value:Me}or(Me){return this.tag?this:Me}getOrThunk(Me){return this.tag?this.value:Me()}orThunk(Me){return this.tag?this:Me()}getOrDie(Me){if(this.tag)return this.value;throw new Error(Me??"Called getOrDie on None")}static from(Me){return ue(Me)?Ke.some(Me):Ke.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Me){this.tag&&Me(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const ie=Array.prototype.push,ut=(ye,Me)=>{const ht=ye.length,Xt=new Array(ht);for(let bo=0;bo<ht;bo++){const bs=ye[bo];Xt[bo]=Me(bs,bo)}return Xt},xn=(ye,Me)=>{for(let ht=0,Xt=ye.length;ht<Xt;ht++){const bo=ye[ht];Me(bo,ht)}},fn=(ye,Me)=>{const ht=[];for(let Xt=0,bo=ye.length;Xt<bo;Xt++){const bs=ye[Xt];Me(bs,Xt)&&ht.push(bs)}return ht},qe=(ye,Me,ht)=>{for(let Xt=0,bo=ye.length;Xt<bo;Xt++){const bs=ye[Xt];if(Me(bs,Xt))return Ke.some(bs);if(ht(bs,Xt))break}return Ke.none()},Re=(ye,Me)=>qe(ye,Me,it),Qo=ye=>{const Me=[];for(let ht=0,Xt=ye.length;ht<Xt;++ht){if(!I(ye[ht]))throw new Error("Arr.flatten item "+ht+" was not an array, input: "+ye);ie.apply(Me,ye[ht])}return Me},vt=(ye,Me)=>Qo(ut(ye,Me)),Lt=(ye,Me)=>Me>=0&&Me<ye.length?Ke.some(ye[Me]):Ke.none(),F=ye=>Lt(ye,0),Vt=(ye,Me)=>{for(let ht=0;ht<ye.length;ht++){const Xt=Me(ye[ht],ht);if(Xt.isSome())return Xt}return Ke.none()},at=Object.keys,Jn=(ye,Me)=>{const ht=at(ye);for(let Xt=0,bo=ht.length;Xt<bo;Xt++){const bs=ht[Xt],Ta=ye[bs];Me(Ta,bs)}},an=ye=>{let Me=ye;return{get:()=>Me,set:bo=>{Me=bo}}},le=typeof window<"u"?window:Function("return this;")(),Ve=(ye,Me,ht)=>ye.isSome()&&Me.isSome()?Ke.some(ht(ye.getOrDie(),Me.getOrDie())):Ke.none(),It=(ye,Me)=>{let ht=Me??le;for(let Xt=0;Xt<ye.length&&ht!==void 0&&ht!==null;++Xt)ht=ht[ye[Xt]];return ht},Ne=(ye,Me)=>{const ht=ye.split(".");return It(ht,Me)},mt=ye=>{const Me=an(Ke.none()),ht=()=>Me.get().each(ye);return{clear:()=>{ht(),Me.set(Ke.none())},isSet:()=>Me.get().isSome(),get:()=>Me.get(),set:il=>{ht(),Me.set(Ke.some(il))}}},He=()=>mt(ye=>ye.unbind()),ft=()=>{const ye=mt(Fe);return{...ye,on:ht=>ye.get().each(ht)}},X=(ye,Me,ht=0,Xt)=>{const bo=ye.indexOf(Me,ht);return bo!==-1?Y(Xt)?!0:bo+Me.length<=Xt:!1},$o=(ye,Me)=>{let ht=null;return{cancel:()=>{U(ht)||(clearTimeout(ht),ht=null)},throttle:(...bs)=>{U(ht)&&(ht=setTimeout(()=>{ht=null,ye.apply(null,bs)},Me))}}},xo=ye=>{let Me=!1,ht;return(...Xt)=>(Me||(Me=!0,ht=ye.apply(null,Xt)),ht)};var Mo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ho=ye=>({isFullscreen:()=>ye.get()!==null}),js=(ye,Me)=>{const Xt=(Me||document).createElement("div");if(Xt.innerHTML=ye,!Xt.hasChildNodes()||Xt.childNodes.length>1){const bo="HTML does not have a single root node";throw console.error(bo,ye),new Error(bo)}return tt(Xt.childNodes[0])},Be=(ye,Me)=>{const Xt=(Me||document).createElement(ye);return tt(Xt)},Ye=(ye,Me)=>{const Xt=(Me||document).createTextNode(ye);return tt(Xt)},tt=ye=>{if(ye==null)throw new Error("Node cannot be null or undefined");return{dom:ye}},Je={fromHtml:js,fromTag:Be,fromText:Ye,fromDom:tt,fromPoint:(ye,Me,ht)=>Ke.from(ye.dom.elementFromPoint(Me,ht)).map(tt)},Nt=9,xt=11,Un=1,Dt=3,Pe=(ye,Me)=>{const ht=ye.dom;if(ht.nodeType!==Un)return!1;{const Xt=ht;if(Xt.matches!==void 0)return Xt.matches(Me);if(Xt.msMatchesSelector!==void 0)return Xt.msMatchesSelector(Me);if(Xt.webkitMatchesSelector!==void 0)return Xt.webkitMatchesSelector(Me);if(Xt.mozMatchesSelector!==void 0)return Xt.mozMatchesSelector(Me);throw new Error("Browser lacks native selectors")}},Tt=ye=>ye.nodeType!==Un&&ye.nodeType!==Nt&&ye.nodeType!==xt||ye.childElementCount===0,sn=(ye,Me)=>{const ht=document;return Tt(ht)?[]:ut(ht.querySelectorAll(ye),Je.fromDom)},Zn=(ye,Me)=>ye.dom===Me.dom,Yo=(ye,Me,ht,Xt)=>{const bo=ye.isiOS()&&/ipad/i.test(ht)===!0,bs=ye.isiOS()&&!bo,Ta=ye.isiOS()||ye.isAndroid(),il=Ta||Xt("(pointer:coarse)"),Zi=bo||!bs&&Ta&&Xt("(min-device-width:768px)"),Ul=bs||Ta&&!Zi,Qd=Me.isSafari()&&ye.isiOS()&&/safari/i.test(ht)===!1,Zl=!Ul&&!Zi&&!Qd;return{isiPad:Oe(bo),isiPhone:Oe(bs),isTablet:Oe(Zi),isPhone:Oe(Ul),isTouch:Oe(il),isAndroid:ye.isAndroid,isiOS:ye.isiOS,isWebView:Oe(Qd),isDesktop:Oe(Zl)}},Jo=(ye,Me)=>{for(let ht=0;ht<ye.length;ht++){const Xt=ye[ht];if(Xt.test(Me))return Xt}},Do=(ye,Me)=>{const ht=Jo(ye,Me);if(!ht)return{major:0,minor:0};const Xt=bo=>Number(Me.replace(ht,"$"+bo));return os(Xt(1),Xt(2))},mr=(ye,Me)=>{const ht=String(Me).toLowerCase();return ye.length===0?zo():Do(ye,ht)},zo=()=>os(0,0),os=(ye,Me)=>({major:ye,minor:Me}),Vs={nu:os,detect:mr,unknown:zo},Es=(ye,Me)=>Vt(Me.brands,ht=>{const Xt=ht.brand.toLowerCase();return Re(ye,bo=>Xt===bo.brand?.toLowerCase()).map(bo=>({current:bo.name,version:Vs.nu(parseInt(ht.version,10),0)}))}),Xs=(ye,Me)=>{const ht=String(Me).toLowerCase();return Re(ye,Xt=>Xt.search(ht))},gs=(ye,Me)=>Xs(ye,Me).map(ht=>{const Xt=Vs.detect(ht.versionRegexes,Me);return{current:ht.name,version:Xt}}),Wr=(ye,Me)=>Xs(ye,Me).map(ht=>{const Xt=Vs.detect(ht.versionRegexes,Me);return{current:ht.name,version:Xt}}),Ts=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,$r=ye=>Me=>X(Me,ye),Ma=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:ye=>X(ye,"edge/")&&X(ye,"chrome")&&X(ye,"safari")&&X(ye,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ts],search:ye=>X(ye,"chrome")&&!X(ye,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:ye=>X(ye,"msie")||X(ye,"trident")},{name:"Opera",versionRegexes:[Ts,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:$r("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:$r("firefox")},{name:"Safari",versionRegexes:[Ts,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:ye=>(X(ye,"safari")||X(ye,"mobile/"))&&X(ye,"applewebkit")}],Hn=[{name:"Windows",search:$r("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:ye=>X(ye,"iphone")||X(ye,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:$r("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:$r("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:$r("linux"),versionRegexes:[]},{name:"Solaris",search:$r("sunos"),versionRegexes:[]},{name:"FreeBSD",search:$r("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:$r("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ts={browsers:Oe(Ma),oses:Oe(Hn)},Oo="Edge",ui="Chromium",Ba="IE",Mn="Opera",Wt="Firefox",Kt="Safari",Yn=()=>Gn({current:void 0,version:Vs.unknown()}),Gn=ye=>{const Me=ye.current,ht=ye.version,Xt=bo=>()=>Me===bo;return{current:Me,version:ht,isEdge:Xt(Oo),isChromium:Xt(ui),isIE:Xt(Ba),isOpera:Xt(Mn),isFirefox:Xt(Wt),isSafari:Xt(Kt)}},vo={unknown:Yn,nu:Gn},No="Windows",Qn="iOS",ls="Android",La="Linux",sl="macOS",gi="Solaris",Pn="FreeBSD",er="ChromeOS",tr=()=>jl({current:void 0,version:Vs.unknown()}),jl=ye=>{const Me=ye.current,ht=ye.version,Xt=bo=>()=>Me===bo;return{current:Me,version:ht,isWindows:Xt(No),isiOS:Xt(Qn),isAndroid:Xt(ls),isMacOS:Xt(sl),isLinux:Xt(La),isSolaris:Xt(gi),isFreeBSD:Xt(Pn),isChromeOS:Xt(er)}},Ie={unknown:tr,nu:jl},nt={detect:(ye,Me,ht)=>{const Xt=ts.browsers(),bo=ts.oses(),bs=Me.bind(Zi=>Es(Xt,Zi)).orThunk(()=>gs(Xt,ye)).fold(vo.unknown,vo.nu),Ta=Wr(bo,ye).fold(Ie.unknown,Ie.nu),il=Yo(Ta,bs,ye,ht);return{browser:bs,os:Ta,deviceType:il}}},gn=ye=>window.matchMedia(ye).matches;let Ao=xo(()=>nt.detect(window.navigator.userAgent,Ke.from(window.navigator.userAgentData),gn));const co=()=>Ao(),Zo=(ye,Me)=>Ne(ye,Me),us=(ye,Me)=>{const ht=Zo(ye,Me);if(ht==null)throw new Error(ye+" not available on this browser");return ht},ko=Object.getPrototypeOf,Qs=ye=>us("HTMLElement",ye),me=ye=>{const Me=Ne("ownerDocument.defaultView",ye);return O(ye)&&(Qs(Me).prototype.isPrototypeOf(ye)||/^HTML\w*Element$/.test(ko(ye).constructor.name))},je=ye=>ye.dom.nodeType,Ut=ye=>Me=>je(Me)===ye,wn=ye=>Gt(ye)&&me(ye.dom),Gt=Ut(Un),wo=Ut(Dt),oo=Ut(xt),Bn=ye=>Je.fromDom(ye.dom.ownerDocument),Uo=ye=>Ke.from(ye.dom.parentNode).map(Je.fromDom),xs=(ye,Me)=>{const ht=Ce(Me)?Me:it;let Xt=ye.dom;const bo=[];for(;Xt.parentNode!==null&&Xt.parentNode!==void 0;){const bs=Xt.parentNode,Ta=Je.fromDom(bs);if(bo.push(Ta),ht(Ta)===!0)break;Xt=bs}return bo},As=ye=>{const Me=ht=>fn(ht,Xt=>!Zn(ye,Xt));return Uo(ye).map(sa).map(Me).getOr([])},ks=ye=>Ke.from(ye.dom.nextSibling).map(Je.fromDom),sa=ye=>ut(ye.dom.childNodes,Je.fromDom),Sa=ye=>oo(ye)&&ue(ye.dom.host),Qf=ye=>Je.fromDom(ye.dom.getRootNode()),Tr=ye=>{const Me=Qf(ye);return Sa(Me)?Ke.some(Me):Ke.none()},Fs=ye=>Je.fromDom(ye.dom.host),ir=ye=>{if(ue(ye.target)){const Me=Je.fromDom(ye.target);if(Gt(Me)&&Vi(Me)&&ye.composed&&ye.composedPath){const ht=ye.composedPath();if(ht)return F(ht)}}return Ke.from(ye.target)},Vi=ye=>ue(ye.dom.shadowRoot),Ci=(ye,Me,ht,Xt,bo,bs,Ta)=>({target:ye,x:Me,y:ht,stop:Xt,prevent:bo,kill:bs,raw:Ta}),Ir=ye=>{const Me=Je.fromDom(ir(ye).getOr(ye.target)),ht=()=>ye.stopPropagation(),Xt=()=>ye.preventDefault(),bo=be(Xt,ht);return Ci(Me,ye.clientX,ye.clientY,ht,Xt,bo,ye)},Co=(ye,Me)=>ht=>{ye(ht)&&Me(Ir(ht))},Si=(ye,Me,ht,Xt,bo)=>{const bs=Co(ht,Xt);return ye.dom.addEventListener(Me,bs,bo),{unbind:J(Jr,ye,Me,bs,bo)}},oi=(ye,Me,ht,Xt)=>Si(ye,Me,ht,Xt,!1),Jr=(ye,Me,ht,Xt)=>{ye.dom.removeEventListener(Me,ht,Xt)},Sf=jt,uc=(ye,Me,ht)=>oi(ye,Me,Sf,ht),Hr=(ye,Me,ht)=>{if(R(ht)||V(ht)||pe(ht))ye.setAttribute(Me,ht+"");else throw console.error("Invalid call to Attribute.set. Key ",Me,":: Value ",ht,":: Element ",ye),new Error("Attribute value was not simple")},Cu=(ye,Me,ht)=>{Hr(ye.dom,Me,ht)},dc=(ye,Me)=>{const ht=ye.dom.getAttribute(Me);return ht===null?void 0:ht},Ef=(ye,Me)=>{ye.dom.removeAttribute(Me)},An=ye=>ye.style!==void 0&&Ce(ye.style.getPropertyValue),Su=ye=>{const Me=wo(ye)?ye.dom.parentNode:ye.dom;if(Me==null||Me.ownerDocument===null)return!1;const ht=Me.ownerDocument;return Tr(Je.fromDom(Me)).fold(()=>ht.body.contains(Me),lt(Su,Fs))},Ri=ye=>{const Me=ye.dom.body;if(Me==null)throw new Error("Body is not available yet");return Je.fromDom(Me)},pi=(ye,Me,ht)=>{if(!R(ht))throw console.error("Invalid call to CSS.set. Property ",Me,":: Value ",ht,":: Element ",ye),new Error("CSS value must be a string: "+ht);An(ye)&&ye.style.setProperty(Me,ht)},qr=(ye,Me,ht)=>{const Xt=ye.dom;pi(Xt,Me,ht)},Kd=(ye,Me)=>{const ht=ye.dom;Jn(Me,(Xt,bo)=>{pi(ht,bo,Xt)})},Ei=(ye,Me)=>{const ht=ye.dom,bo=window.getComputedStyle(ht).getPropertyValue(Me);return bo===""&&!Su(ye)?rl(ht,Me):bo},rl=(ye,Me)=>An(ye)?ye.style.getPropertyValue(Me):"",Tf=(ye,Me)=>({left:ye,top:Me,translate:(Xt,bo)=>Tf(ye+Xt,Me+bo)}),Jf=Tf,Eu=ye=>{const Me=ye!==void 0?ye.dom:document,ht=Me.body.scrollLeft||Me.documentElement.scrollLeft,Xt=Me.body.scrollTop||Me.documentElement.scrollTop;return Jf(ht,Xt)},Yd=ye=>ye.dom.classList!==void 0,Dl=(ye,Me)=>Yd(ye)&&ye.dom.classList.contains(Me),Wc=(ye,Me,ht)=>fn(xs(ye,ht),Me),qc=(ye,Me)=>fn(As(ye),Me),mn=ye=>sn(ye),Tu=(ye,Me,ht)=>Wc(ye,Xt=>Pe(Xt,Me),ht),yd=(ye,Me)=>qc(ye,ht=>Pe(ht,Me)),Vl=ye=>{const Me=ye===void 0?window:ye;return co().browser.isFirefox()?Ke.none():Ke.from(Me.visualViewport)},al=(ye,Me,ht,Xt)=>({x:ye,y:Me,width:ht,height:Xt,right:ye+ht,bottom:Me+Xt}),Uu=ye=>{const Me=ye===void 0?window:ye,ht=Me.document,Xt=Eu(Je.fromDom(ht));return Vl(Me).fold(()=>{const bo=Me.document.documentElement,bs=bo.clientWidth,Ta=bo.clientHeight;return al(Xt.left,Xt.top,bs,Ta)},bo=>al(Math.max(bo.pageLeft,Xt.left),Math.max(bo.pageTop,Xt.top),bo.width,bo.height))},Ui=(ye,Me,ht)=>Vl(ht).map(Xt=>{const bo=bs=>Me(Ir(bs));return Xt.addEventListener(ye,bo),{unbind:()=>Xt.removeEventListener(ye,bo)}}).getOrThunk(()=>({unbind:Fe}));var si=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),_l=tinymce.util.Tools.resolve("tinymce.Env");const fc=(ye,Me)=>{ye.dispatch("FullscreenStateChanged",{state:Me}),ye.dispatch("ResizeEditor")},qs=ye=>Me=>Me.options.get(ye),Af=ye=>{const Me=ye.options.register;Me("fullscreen_native",{processor:"boolean",default:!1})},te=qs("fullscreen_native"),ve=ye=>{const Me=Je.fromDom(ye.getElement());return Tr(Me).map(Fs).getOrThunk(()=>Ri(Bn(Me)))},$e=ye=>ye.fullscreenElement!==void 0?ye.fullscreenElement:ye.msFullscreenElement!==void 0?ye.msFullscreenElement:ye.webkitFullscreenElement!==void 0?ye.webkitFullscreenElement:null,Rt=()=>document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange",qn=ye=>{const Me=ye.dom;Me.requestFullscreen?Me.requestFullscreen():Me.msRequestFullscreen?Me.msRequestFullscreen():Me.webkitRequestFullScreen&&Me.webkitRequestFullScreen()},ps=ye=>{const Me=ye.dom;Me.exitFullscreen?Me.exitFullscreen():Me.msExitFullscreen?Me.msExitFullscreen():Me.webkitCancelFullScreen&&Me.webkitCancelFullScreen()},lr=ye=>ye.dom===$e(Bn(ye).dom),Va="data-ephox-mobile-fullscreen-style",Ti="display:none!important;",Ol="position:absolute!important;",oe="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",Ae="background-color:rgb(255,255,255)!important;",Qe=_l.os.isAndroid(),Et=ye=>{const Me=Ei(ye,"background-color");return Me!==void 0&&Me!==""?"background-color:"+Me+"!important":Ae},pn=(ye,Me,ht)=>{const Xt=Ul=>yd(Ul,"*:not(.tox-silver-sink)"),bo=Ul=>Qd=>{const Zl=dc(Qd,"style"),Nm=Zl===void 0?"no-styles":Zl.trim();Nm!==Ul&&(Cu(Qd,Va,Nm),Kd(Qd,ye.parseStyle(Ul)))},bs=Tu(Me,"*"),Ta=vt(bs,Xt),il=Et(ht);xn(Ta,bo(Ti)),xn(bs,bo(Ol+oe+il)),bo((Qe===!0?"":Ol)+oe+il)(Me)},Wn=ye=>{const Me=mn("["+Va+"]");xn(Me,ht=>{const Xt=dc(ht,Va);Xt&&Xt!=="no-styles"?Kd(ht,ye.parseStyle(Xt)):Ef(ht,"style"),Ef(ht,Va)})},Po=si.DOM,Gs=()=>Uu(window),Os=ye=>window.scrollTo(ye.x,ye.y),Mi=Vl().fold(()=>({bind:Fe,unbind:Fe}),ye=>{const Me=ft(),ht=He(),Xt=He(),bo=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},bs=()=>{window.requestAnimationFrame(()=>{Me.on(Ul=>Kd(Ul,{top:ye.offsetTop+"px",left:ye.offsetLeft+"px",height:ye.height+"px",width:ye.width+"px"}))})},Ta=$o(()=>{bo(),bs()},50);return{bind:Ul=>{Me.set(Ul),Ta.throttle(),ht.set(Ui("resize",Ta.throttle)),Xt.set(Ui("scroll",Ta.throttle))},unbind:()=>{Me.on(()=>{ht.clear(),Xt.clear()}),Me.clear()}}}),Ea=(ye,Me)=>{const ht=document.body,Xt=document.documentElement,bo=ye.getContainer(),bs=Je.fromDom(bo),Ta=ks(bs).filter(_c=>wn(_c)&&Dl(_c,"tox-silver-sink")),il=ve(ye),Zi=Me.get(),Ul=Je.fromDom(ye.getBody()),Qd=_l.deviceType.isTouch(),Zl=bo.style,Wl=ye.iframeElement?.style,ll=_c=>{_c(ht,"tox-fullscreen"),_c(Xt,"tox-fullscreen"),_c(bo,"tox-fullscreen"),Tr(bs).map(ds=>Fs(ds).dom).each(ds=>{_c(ds,"tox-fullscreen"),_c(ds,"tox-shadowhost")})},Jd=()=>{Qd&&Wn(ye.dom),ll(Po.removeClass),Mi.unbind(),Ke.from(Me.get()).each(_c=>_c.fullscreenChangeHandler.unbind())};if(Zi)Zi.fullscreenChangeHandler.unbind(),te(ye)&&lr(il)&&ps(Bn(il)),Wl.width=Zi.iframeWidth,Wl.height=Zi.iframeHeight,Zl.width=Zi.containerWidth,Zl.height=Zi.containerHeight,Zl.top=Zi.containerTop,Zl.left=Zi.containerLeft,Ve(Ta,Zi.sinkCssPosition,(_c,ds)=>{qr(_c,"position",ds)}),Jd(),Os(Zi.scrollPos),Me.set(null),fc(ye,!1),ye.off("remove",Jd);else{const _c=uc(Bn(il),Rt(),vh=>{te(ye)&&!lr(il)&&Me.get()!==null&&Ea(ye,Me)}),ds={scrollPos:Gs(),containerWidth:Zl.width,containerHeight:Zl.height,containerTop:Zl.top,containerLeft:Zl.left,iframeWidth:Wl.width,iframeHeight:Wl.height,fullscreenChangeHandler:_c,sinkCssPosition:Ta.map(vh=>Ei(vh,"position"))};Qd&&pn(ye.dom,bs,Ul),Wl.width=Wl.height="100%",Zl.width=Zl.height="",ll(Po.addClass),Ta.each(vh=>{qr(vh,"position","fixed")}),Mi.bind(bs),ye.on("remove",Jd),Me.set(ds),te(ye)&&qn(il),fc(ye,!0)}},Xd=(ye,Me)=>{ye.addCommand("mceFullScreen",()=>{Ea(ye,Me)})};var Om=tinymce.util.Tools.resolve("tinymce.util.VK");const kf=(ye,Me)=>{ye.on("init",()=>{ye.on("keydown",ht=>{ht.keyCode===Om.TAB&&!(ht.metaKey||ht.ctrlKey)&&Me.get()&&ht.preventDefault()})})},Gc=(ye,Me)=>ht=>{ht.setActive(Me.get()!==null);const Xt=bo=>ht.setActive(bo.state);return ye.on("FullscreenStateChanged",Xt),()=>ye.off("FullscreenStateChanged",Xt)},R0=(ye,Me)=>{const ht=()=>ye.execCommand("mceFullScreen");ye.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:ht,onSetup:Gc(ye,Me),context:"any"}),ye.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:ht,onSetup:Gc(ye,Me),shortcut:"Meta+Shift+F",context:"any"})};var M0=()=>{Mo.add("fullscreen",ye=>{const Me=an(null);return ye.inline||(Af(ye),Xd(ye,Me),R0(ye,Me),kf(ye,Me),ye.addShortcut("Meta+Shift+F","","mceFullScreen")),Ho(Me)})};M0()})()),Lae}var Fae;function kxe(){return Fae||(Fae=1,Axe()),Bae}kxe();var $ae={},Iae={},Hae;function Dxe(){return Hae||(Hae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=Ke=>ie=>ie.options.get(Ke),p=Ke=>{const ie=Ke.options.register;ie("insertdatetime_dateformat",{processor:"string",default:Ke.translate("%Y-%m-%d")}),ie("insertdatetime_timeformat",{processor:"string",default:Ke.translate("%H:%M:%S")}),ie("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),ie("insertdatetime_element",{processor:"boolean",default:!1})},x=u("insertdatetime_dateformat"),A=u("insertdatetime_timeformat"),R=u("insertdatetime_formats"),O=u("insertdatetime_element"),I=Ke=>{const ie=R(Ke);return ie.length>0?ie[0]:A(Ke)},U="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),V="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Y="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ee="January February March April May June July August September October November December".split(" "),ue=(Ke,ie)=>{if(Ke=""+Ke,Ke.length<ie)for(let ut=0;ut<ie-Ke.length;ut++)Ke="0"+Ke;return Ke},Ce=(Ke,ie,ut=new Date)=>(ie=ie.replace("%D","%m/%d/%Y"),ie=ie.replace("%r","%I:%M:%S %p"),ie=ie.replace("%Y",""+ut.getFullYear()),ie=ie.replace("%y",""+ut.getYear()),ie=ie.replace("%m",ue(ut.getMonth()+1,2)),ie=ie.replace("%d",ue(ut.getDate(),2)),ie=ie.replace("%H",""+ue(ut.getHours(),2)),ie=ie.replace("%M",""+ue(ut.getMinutes(),2)),ie=ie.replace("%S",""+ue(ut.getSeconds(),2)),ie=ie.replace("%I",""+((ut.getHours()+11)%12+1)),ie=ie.replace("%p",ut.getHours()<12?"AM":"PM"),ie=ie.replace("%B",""+Ke.translate(ee[ut.getMonth()])),ie=ie.replace("%b",""+Ke.translate(Y[ut.getMonth()])),ie=ie.replace("%A",""+Ke.translate(V[ut.getDay()])),ie=ie.replace("%a",""+Ke.translate(U[ut.getDay()])),ie=ie.replace("%%","%"),ie),pe=(Ke,ie,ut,xn)=>{const fn=Ke.dom.create("time",{datetime:ut},xn);Ke.dom.replace(fn,ie),Ke.selection.select(fn,!0),Ke.selection.collapse(!1)},Fe=(Ke,ie)=>{if(O(Ke)&&Ke.selection.isEditable()){const ut=Ce(Ke,ie);let xn;/%[HMSIp]/.test(ie)?xn=Ce(Ke,"%Y-%m-%dT%H:%M"):xn=Ce(Ke,"%Y-%m-%d");const fn=Ke.dom.getParent(Ke.selection.getStart(),"time");fn?pe(Ke,fn,xn,ut):Ke.insertContent('<time datetime="'+xn+'">'+ut+"</time>")}else Ke.insertContent(Ce(Ke,ie))},be=Ke=>{Ke.addCommand("mceInsertDate",(ie,ut)=>{Fe(Ke,ut??x(Ke))}),Ke.addCommand("mceInsertTime",(ie,ut)=>{Fe(Ke,ut??A(Ke))})},lt=Ke=>{let ie=Ke;return{get:()=>ie,set:fn=>{ie=fn}}};var Oe=tinymce.util.Tools.resolve("tinymce.util.Tools");const J=Ke=>ie=>{const ut=()=>{ie.setEnabled(Ke.selection.isEditable())};return Ke.on("NodeChange",ut),ut(),()=>{Ke.off("NodeChange",ut)}},it=Ke=>{const ie=R(Ke),ut=lt(I(Ke)),xn=qe=>Ke.execCommand("mceInsertDate",!1,qe);Ke.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",chevronTooltip:"Insert date/time menu",select:qe=>qe===ut.get(),fetch:qe=>{qe(Oe.map(ie,Re=>({type:"choiceitem",text:Ce(Ke,Re),value:Re})))},onAction:qe=>{xn(ut.get())},onItemAction:(qe,Re)=>{ut.set(Re),xn(Re)},onSetup:J(Ke)});const fn=qe=>()=>{ut.set(qe),xn(qe)};Ke.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:()=>Oe.map(ie,qe=>({type:"menuitem",text:Ce(Ke,qe),onAction:fn(qe)})),onSetup:J(Ke)})};var jt=()=>{l.add("insertdatetime",Ke=>{p(Ke),be(Ke),it(Ke)})};jt()})()),Iae}var zae;function _xe(){return zae||(zae=1,Dxe()),$ae}_xe();var jae={},Vae={},Uae;function Oxe(){return Uae||(Uae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=(Ie,Ue,nt)=>nt(Ie,Ue.prototype)?!0:Ie.constructor?.name===Ue.name,p=Ie=>{const Ue=typeof Ie;return Ie===null?"null":Ue==="object"&&Array.isArray(Ie)?"array":Ue==="object"&&u(Ie,String,(nt,gn)=>gn.isPrototypeOf(nt))?"string":Ue},x=Ie=>Ue=>p(Ue)===Ie,A=x("string"),R=x("object"),O=x("array"),I=Ie=>Ie==null,U=Ie=>!I(Ie);class V{tag;value;static singletonNone=new V(!1);constructor(Ue,nt){this.tag=Ue,this.value=nt}static some(Ue){return new V(!0,Ue)}static none(){return V.singletonNone}fold(Ue,nt){return this.tag?nt(this.value):Ue()}isSome(){return this.tag}isNone(){return!this.tag}map(Ue){return this.tag?V.some(Ue(this.value)):V.none()}bind(Ue){return this.tag?Ue(this.value):V.none()}exists(Ue){return this.tag&&Ue(this.value)}forall(Ue){return!this.tag||Ue(this.value)}filter(Ue){return!this.tag||Ue(this.value)?this:V.none()}getOr(Ue){return this.tag?this.value:Ue}or(Ue){return this.tag?this:Ue}getOrThunk(Ue){return this.tag?this.value:Ue()}orThunk(Ue){return this.tag?this:Ue()}getOrDie(Ue){if(this.tag)return this.value;throw new Error(Ue??"Called getOrDie on None")}static from(Ue){return U(Ue)?V.some(Ue):V.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ue){this.tag&&Ue(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Y=Array.prototype.push,ee=(Ie,Ue)=>{for(let nt=0,gn=Ie.length;nt<gn;nt++){const Ao=Ie[nt];Ue(Ao,nt)}},ue=Ie=>{const Ue=[];for(let nt=0,gn=Ie.length;nt<gn;++nt){if(!O(Ie[nt]))throw new Error("Arr.flatten item "+nt+" was not an array, input: "+Ie);Y.apply(Ue,Ie[nt])}return Ue},Ce=Object.keys,pe=Object.hasOwnProperty,Fe=(Ie,Ue)=>{const nt=Ce(Ie);for(let gn=0,Ao=nt.length;gn<Ao;gn++){const co=nt[gn],Zo=Ie[co];Ue(Zo,co)}},be=(Ie,Ue)=>lt(Ie,Ue)?V.from(Ie[Ue]):V.none(),lt=(Ie,Ue)=>pe.call(Ie,Ue),Oe=Ie=>{let Ue=Ie;return{get:()=>Ue,set:Ao=>{Ue=Ao}}},J=(Ie,Ue,nt)=>Ie.length>=Ue.length&&Ie.substr(nt,nt+Ue.length)===Ue,it=(Ie,Ue)=>J(Ie,Ue,0),jt=Ie=>Ue=>Ue.options.get(Ie),Ke=Ie=>{const Ue=Ie.options.register;Ue("audio_template_callback",{processor:"function"}),Ue("video_template_callback",{processor:"function"}),Ue("iframe_template_callback",{processor:"function"}),Ue("media_live_embeds",{processor:"boolean",default:!0}),Ue("media_filter_html",{processor:"boolean",default:!0}),Ue("media_url_resolver",{processor:"function"}),Ue("media_alt_source",{processor:"boolean",default:!0}),Ue("media_poster",{processor:"boolean",default:!0}),Ue("media_dimensions",{processor:"boolean",default:!0})},ie=jt("audio_template_callback"),ut=jt("video_template_callback"),xn=jt("iframe_template_callback"),fn=jt("media_live_embeds"),qe=jt("media_filter_html"),Re=jt("media_url_resolver"),Qo=jt("media_alt_source"),vt=jt("media_poster"),Lt=jt("media_dimensions");var F=tinymce.util.Tools.resolve("tinymce.util.Tools"),Vt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),at=tinymce.util.Tools.resolve("tinymce.html.DomParser");const Jn=Vt.DOM,an=Ie=>Ie.replace(/px$/,""),le=Ie=>{const Ue=Ie.attr("style"),nt=Ue?Jn.parseStyle(Ue):{};return{type:"ephox-embed-iri",source:Ie.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:be(nt,"max-width").map(an).getOr(""),height:be(nt,"max-height").map(an).getOr("")}},Ve=(Ie,Ue)=>{let nt={};const Ao=at({validate:!1,forced_root_block:!1},Ue).parse(Ie);for(let co=Ao;co;co=co.walk())if(co.type===1){const Zo=co.name;if(co.attr("data-ephox-embed-iri")){nt=le(co);break}else!nt.source&&Zo==="param"&&(nt.source=co.attr("movie")),(Zo==="iframe"||Zo==="object"||Zo==="embed"||Zo==="video"||Zo==="audio")&&(nt.type||(nt.type=Zo),nt=F.extend(co.attributes.map,nt)),Zo==="source"&&(nt.source?nt.altsource||(nt.altsource=co.attr("src")):nt.source=co.attr("src")),Zo==="img"&&!nt.poster&&(nt.poster=co.attr("src"))}return nt.source=nt.source||nt.src||"",nt.altsource=nt.altsource||"",nt.poster=nt.poster||"",nt},It=Ie=>{const Ue={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},nt=Ie.toLowerCase().split(".").pop()??"";return be(Ue,nt).getOr("")};var Ne=tinymce.util.Tools.resolve("tinymce.html.Node"),mt=tinymce.util.Tools.resolve("tinymce.html.Serializer");const He=(Ie,Ue={})=>at({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...Ue},Ie),ft=Vt.DOM,X=Ie=>/^[0-9.]+$/.test(Ie)?Ie+"px":Ie,$o=(Ie,Ue)=>{const nt=Ue.attr("style"),gn=nt?ft.parseStyle(nt):{};U(Ie.width)&&(gn["max-width"]=X(Ie.width)),U(Ie.height)&&(gn["max-height"]=X(Ie.height)),Ue.attr("style",ft.serializeStyle(gn))},xo=["source","altsource"],Mo=(Ie,Ue,nt,gn)=>{let Ao=0,co=0;const Zo=He(gn);Zo.addNodeFilter("source",ko=>Ao=ko.length);const us=Zo.parse(Ie);for(let ko=us;ko;ko=ko.walk())if(ko.type===1){const Qs=ko.name;if(ko.attr("data-ephox-embed-iri")){$o(Ue,ko);break}else{switch(Qs){case"video":case"object":case"embed":case"img":case"iframe":Ue.height!==void 0&&Ue.width!==void 0&&(ko.attr("width",Ue.width),ko.attr("height",Ue.height));break}if(nt)switch(Qs){case"video":ko.attr("poster",Ue.poster),ko.attr("src",null);for(let je=Ao;je<2;je++)if(Ue[xo[je]]){const Ut=new Ne("source",1);Ut.attr("src",Ue[xo[je]]),Ut.attr("type",Ue[xo[je]+"mime"]||null),ko.append(Ut)}break;case"iframe":ko.attr("src",Ue.source);break;case"object":const me=ko.getAll("img").length>0;if(Ue.poster&&!me){ko.attr("src",Ue.poster);const je=new Ne("img",1);je.attr("src",Ue.poster),je.attr("width",Ue.width),je.attr("height",Ue.height),ko.append(je)}break;case"source":if(co<2&&(ko.attr("src",Ue[xo[co]]),ko.attr("type",Ue[xo[co]+"mime"]||null),!Ue[xo[co]])){ko.remove();continue}co++;break;case"img":Ue.poster||ko.remove();break}}}return mt({},gn).serialize(us)},Ho=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],js=Ie=>{const Ue=Ie.match(/^(https?:\/\/|www\.)(.+)$/i);return Ue&&Ue.length>1?Ue[1]==="www."?"https://":Ue[1]:"https://"},Be=(Ie,Ue)=>{const nt=js(Ue),gn=Ie.regex.exec(Ue);let Ao=nt+Ie.url;if(U(gn))for(let co=0;co<gn.length;co++)Ao=Ao.replace("$"+co,()=>gn[co]?gn[co]:"");return Ao.replace(/\?$/,"")},Ye=Ie=>{const Ue=Ho.filter(nt=>nt.regex.test(Ie));return Ue.length>0?F.extend({},Ue[0],{url:Be(Ue[0],Ie)}):null},tt=(Ie,Ue)=>{if(Ue)return Ue(Ie);{const nt=Ie.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+Ie.source+'" width="'+Ie.width+'" height="'+Ie.height+'"'+nt+"></iframe>"}},Le=Ie=>{let Ue='<object data="'+Ie.source+'" width="'+Ie.width+'" height="'+Ie.height+'" type="application/x-shockwave-flash">';return Ie.poster&&(Ue+='<img src="'+Ie.poster+'" width="'+Ie.width+'" height="'+Ie.height+'" />'),Ue+="</object>",Ue},Je=(Ie,Ue)=>Ue?Ue(Ie):'<audio controls="controls" src="'+Ie.source+'">'+(Ie.altsource?`
<source src="`+Ie.altsource+'"'+(Ie.altsourcemime?' type="'+Ie.altsourcemime+'"':"")+` />
`:"")+"</audio>",Nt=(Ie,Ue)=>Ue?Ue(Ie):'<video width="'+Ie.width+'" height="'+Ie.height+'"'+(Ie.poster?' poster="'+Ie.poster+'"':"")+` controls="controls">
<source src="`+Ie.source+'"'+(Ie.sourcemime?' type="'+Ie.sourcemime+'"':"")+` />
`+(Ie.altsource?'<source src="'+Ie.altsource+'"'+(Ie.altsourcemime?' type="'+Ie.altsourcemime+'"':"")+` />
`:"")+"</video>",xt=(Ie,Ue)=>{const nt=F.extend({},Ue);if(!nt.source&&(F.extend(nt,Ve(nt.embed??"",Ie.schema)),!nt.source))return"";nt.altsource||(nt.altsource=""),nt.poster||(nt.poster=""),nt.source=Ie.convertURL(nt.source,"source"),nt.altsource=Ie.convertURL(nt.altsource,"source"),nt.sourcemime=It(nt.source),nt.altsourcemime=It(nt.altsource),nt.poster=Ie.convertURL(nt.poster,"poster");const gn=Ye(nt.source);if(gn&&(nt.source=gn.url,nt.type=gn.type,nt.allowfullscreen=gn.allowFullscreen,nt.width=nt.width||String(gn.w),nt.height=nt.height||String(gn.h)),nt.embed)return Mo(nt.embed,nt,!0,Ie.schema);{const Ao=ie(Ie),co=ut(Ie),Zo=xn(Ie);return nt.width=nt.width||"300",nt.height=nt.height||"150",F.each(nt,(us,ko)=>{nt[ko]=Ie.dom.encode(""+us)}),nt.type==="iframe"?tt(nt,Zo):nt.sourcemime==="application/x-shockwave-flash"?Le(nt):nt.sourcemime.indexOf("audio")!==-1?Je(nt,Ao):Nt(nt,co)}},Un=Ie=>Ie.hasAttribute("data-mce-object")||Ie.hasAttribute("data-ephox-embed-iri"),Dt=Ie=>{Ie.on("mousedown",Ue=>{const nt=Ie.dom.getParent(Ue.target,".mce-preview-object");nt&&Ie.dom.getAttrib(nt,"data-mce-selected")==="2"&&Ue.stopImmediatePropagation()}),Ie.on("click keyup touchend",()=>{const Ue=Ie.selection.getNode();Ue&&Ie.dom.hasClass(Ue,"mce-preview-object")&&Ie.dom.getAttrib(Ue,"data-mce-selected")&&Ue.setAttribute("data-mce-selected","2")}),Ie.on("ObjectResized",Ue=>{const nt=Ue.target;if(nt.getAttribute("data-mce-object")){let gn=nt.getAttribute("data-mce-html");gn&&(gn=unescape(gn),nt.setAttribute("data-mce-html",escape(Mo(gn,{width:String(Ue.width),height:String(Ue.height)},!1,Ie.schema))))}})},Pe={},Tt=(Ie,Ue,nt)=>new Promise((gn,Ao)=>{const co=Zo=>(Zo.html&&(Pe[Ie.source]=Zo),gn({url:Ie.source,html:Zo.html?Zo.html:Ue(Ie)}));Pe[Ie.source]?co(Pe[Ie.source]):nt({url:Ie.source}).then(co).catch(Ao)}),sn=(Ie,Ue)=>Promise.resolve({html:Ue(Ie),url:Ie.source}),Zn=Ie=>Ue=>xt(Ie,Ue),Yo=(Ie,Ue)=>{const nt=Re(Ie);return nt?Tt(Ue,Zn(Ie),nt):sn(Ue,Zn(Ie))},Jo=Ie=>lt(Pe,Ie),Do=(Ie,Ue)=>be(Ue,Ie).bind(nt=>be(nt,"meta")),mr=(Ie,Ue,nt)=>gn=>{const Ao=()=>be(Ie,gn),co=()=>be(Ue,gn),Zo=Qs=>be(Qs,"value").bind(me=>me.length>0?V.some(me):V.none()),us=()=>Ao().bind(Qs=>R(Qs)?Zo(Qs).orThunk(co):co().orThunk(()=>V.from(Qs))),ko=()=>co().orThunk(()=>Ao().bind(Qs=>R(Qs)?Zo(Qs):V.from(Qs)));return{[gn]:(gn===nt?us():ko()).getOr("")}},zo=(Ie,Ue)=>{const nt={};return be(Ie,"dimensions").each(gn=>{ee(["width","height"],Ao=>{be(Ue,Ao).orThunk(()=>be(gn,Ao)).each(co=>nt[Ao]=co)})}),nt},os=(Ie,Ue)=>{const nt=Ue&&Ue!=="dimensions"?Do(Ue,Ie).getOr({}):{},gn=mr(Ie,nt,Ue);return{...gn("source"),...gn("altsource"),...gn("poster"),...gn("embed"),...zo(Ie,nt)}},Vs=Ie=>{const Ue={...Ie,source:{value:be(Ie,"source").getOr("")},altsource:{value:be(Ie,"altsource").getOr("")},poster:{value:be(Ie,"poster").getOr("")}};return ee(["width","height"],nt=>{be(Ie,nt).each(gn=>{const Ao=Ue.dimensions||{};Ao[nt]=gn,Ue.dimensions=Ao})}),Ue},Es=Ie=>Ue=>{const nt=Ue&&Ue.msg?"Media embed handler error: "+Ue.msg:"Media embed handler threw unknown error.";Ie.notificationManager.open({type:"error",text:nt})},Xs=Ie=>{const Ue=Ie.selection.getNode(),nt=Un(Ue)?Ie.serializer.serialize(Ue,{selection:!0}):"",gn=Ve(nt,Ie.schema),co=(()=>{if($r(gn.source,gn.type)){const Zo=Ie.dom.getRect(Ue);return{width:Zo.w.toString().replace(/px$/,""),height:Zo.h.toString().replace(/px$/,"")}}else return{}})();return{embed:nt,...gn,...co}},gs=(Ie,Ue)=>nt=>{if(A(nt.url)&&nt.url.trim().length>0){const gn=nt.html,co={...Ve(gn,Ue.schema),source:nt.url,embed:gn};Ie.setData(Vs(co))}},Wr=(Ie,Ue)=>{const nt=Ie.dom.select("*[data-mce-object]");for(let gn=0;gn<Ue.length;gn++)for(let Ao=nt.length-1;Ao>=0;Ao--)Ue[gn]===nt[Ao]&&nt.splice(Ao,1);Ie.selection.select(nt[0])},Ts=(Ie,Ue)=>{const nt=Ie.dom.select("*[data-mce-object]");Ie.insertContent(Ue),Wr(Ie,nt),Ie.nodeChanged()},$r=(Ie,Ue)=>U(Ue)&&Ue==="ephox-embed-iri"&&U(Ye(Ie)),Ma=(Ie,Ue)=>((gn,Ao)=>gn.width!==Ao.width||gn.height!==Ao.height)(Ie,Ue)&&$r(Ue.source,Ie.type),Hn=(Ie,Ue,nt)=>{Ue.embed=Ma(Ie,Ue)&&Lt(nt)?xt(nt,{...Ue,embed:""}):Mo(Ue.embed??"",Ue,!1,nt.schema),Ue.embed&&(Ie.source===Ue.source||Jo(Ue.source))?Ts(nt,Ue.embed):Yo(nt,Ue).then(gn=>{Ts(nt,gn.html)}).catch(Es(nt))},ts=Ie=>{const Ue=Xs(Ie),nt=Oe(Ue),gn=Vs(Ue),Ao=(Bn,Uo)=>{const xs=os(Uo.getData(),"source");Bn.source!==xs.source&&(gs(oo,Ie)({url:xs.source,html:""}),Yo(Ie,xs).then(gs(oo,Ie)).catch(Es(Ie)))},co=Bn=>{const Uo=os(Bn.getData()),xs=Ve(Uo.embed??"",Ie.schema);Bn.setData(Vs(xs))},Zo=(Bn,Uo,xs)=>{const As=os(Bn.getData(),Uo),ks=Ma(xs,As)&&Lt(Ie)?{...As,embed:""}:As,sa=xt(Ie,ks);Bn.setData(Vs({...ks,embed:sa}))},us=[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],ko=Lt(Ie)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],Qs={title:"General",name:"general",items:ue([us,ko])},je={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},Ut=[];Qo(Ie)&&Ut.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),vt(Ie)&&Ut.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const wn={title:"Advanced",name:"advanced",items:Ut},Gt=[Qs,je];Ut.length>0&&Gt.push(wn);const wo={type:"tabpanel",tabs:Gt},oo=Ie.windowManager.open({title:"Insert/Edit Media",size:"normal",body:wo,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Bn=>{const Uo=os(Bn.getData());Hn(nt.get(),Uo,Ie),Bn.close()},onChange:(Bn,Uo)=>{switch(Uo.name){case"source":Ao(nt.get(),Bn);break;case"embed":co(Bn);break;case"dimensions":case"altsource":case"poster":Zo(Bn,Uo.name,nt.get());break}nt.set(os(Bn.getData()))},initialData:gn})},Oo=Ie=>({showDialog:()=>{ts(Ie)}}),ui=Ie=>{const Ue=()=>{ts(Ie)};Ie.addCommand("mceMedia",Ue)};var Ba=tinymce.util.Tools.resolve("tinymce.Env");const Mn=Ie=>{const Ue=Ie.name;return Ue==="iframe"||Ue==="video"||Ue==="audio"},Wt=(Ie,Ue,nt,gn=null)=>{const Ao=Ie.attr(nt);return U(Ao)?Ao:lt(Ue,nt)?null:gn},Kt=(Ie,Ue,nt)=>{const gn=Ue.name==="img"||Ie.name==="video",Ao=gn?"300":null,co=Ie.name==="audio"?"30":"150",Zo=gn?co:null;Ue.attr({width:Wt(Ie,nt,"width",Ao),height:Wt(Ie,nt,"height",Zo)})},Yn=(Ie,Ue,nt,gn)=>{const Ao=He(Ie.schema).parse(gn,{context:Ue});for(;Ao.firstChild;)nt.append(Ao.firstChild)},Gn=(Ie,Ue)=>{const nt=Ue.name,gn=new Ne("img",1);return No(Ie,Ue,gn),Kt(Ue,gn,{}),gn.attr({style:Ue.attr("style"),src:Ba.transparentSrc,"data-mce-object":nt,class:"mce-object mce-object-"+nt}),gn},vo=(Ie,Ue)=>{const nt=Ue.name,gn=new Ne("span",1);gn.attr({contentEditable:"false",style:Ue.attr("style"),"data-mce-object":nt,class:"mce-preview-object mce-object-"+nt}),No(Ie,Ue,gn);const Ao=Ie.dom.parseStyle(Ue.attr("style")??""),co=new Ne(nt,1);if(Kt(Ue,co,Ao),co.attr({src:Ue.attr("src"),style:Ue.attr("style"),class:Ue.attr("class")}),nt==="iframe")co.attr({allowfullscreen:Ue.attr("allowfullscreen"),frameborder:"0",sandbox:Ue.attr("sandbox"),referrerpolicy:Ue.attr("referrerpolicy")});else{ee(["controls","crossorigin","currentTime","loop","muted","poster","preload"],Qs=>{co.attr(Qs,Ue.attr(Qs))});const ko=gn.attr("data-mce-html");U(ko)&&Yn(Ie,nt,co,unescape(ko))}const Zo=new Ne("span",1);return Zo.attr("class","mce-shim"),gn.append(co),gn.append(Zo),gn},No=(Ie,Ue,nt)=>{const gn=Ue.attributes??[];let Ao=gn.length;for(;Ao--;){const ko=gn[Ao].name;let Qs=gn[Ao].value;ko!=="width"&&ko!=="height"&&ko!=="style"&&!it(ko,"data-mce-")&&((ko==="data"||ko==="src")&&(Qs=Ie.convertURL(Qs,ko)),nt.attr("data-mce-p-"+ko,Qs))}const co=mt({inner:!0},Ie.schema),Zo=new Ne("div",1);ee(Ue.children(),ko=>Zo.append(ko));const us=co.serialize(Zo);us&&(nt.attr("data-mce-html",escape(us)),nt.empty())},Qn=Ie=>{const Ue=Ie.attr("class");return A(Ue)&&/\btiny-pageembed\b/.test(Ue)},ls=Ie=>{let Ue=Ie;for(;Ue=Ue.parent;)if(Ue.attr("data-ephox-embed-iri")||Qn(Ue))return!0;return!1},La=Ie=>Ue=>{let nt=Ue.length,gn;for(;nt--;)gn=Ue[nt],gn.parent&&(gn.parent.attr("data-mce-object")||(Mn(gn)&&fn(Ie)?ls(gn)||gn.replace(vo(Ie,gn)):ls(gn)||gn.replace(Gn(Ie,gn))))},sl=(Ie,Ue,nt)=>{const gn=Ie.options.get,Ao=gn("xss_sanitization"),co=qe(Ie);return He(Ie.schema,{sanitize:Ao,validate:co}).parse(nt,{context:Ue})},gi=Ie=>{Ie.on("PreInit",()=>{const{schema:Ue,serializer:nt,parser:gn}=Ie,Ao=Ue.getBoolAttrs();ee("webkitallowfullscreen mozallowfullscreen".split(" "),co=>{Ao[co]={}}),Fe({embed:["wmode"]},(co,Zo)=>{const us=Ue.getElementRule(Zo);us&&ee(co,ko=>{us.attributes[ko]={},us.attributesOrder.push(ko)})}),gn.addNodeFilter("iframe,video,audio,object,embed",La(Ie)),nt.addAttributeFilter("data-mce-object",(co,Zo)=>{let us=co.length;for(;us--;){const ko=co[us];if(!ko.parent)continue;const Qs=ko.attr(Zo),me=new Ne(Qs,1);if(Qs!=="audio"){const Gt=ko.attr("class");Gt&&Gt.indexOf("mce-preview-object")!==-1&&ko.firstChild?me.attr({width:ko.firstChild.attr("width"),height:ko.firstChild.attr("height")}):me.attr({width:ko.attr("width"),height:ko.attr("height")})}me.attr({style:ko.attr("style")});const je=ko.attributes??[];let Ut=je.length;for(;Ut--;){const Gt=je[Ut].name;Gt.indexOf("data-mce-p-")===0&&me.attr(Gt.substr(11),je[Ut].value)}const wn=ko.attr("data-mce-html");if(wn){const Gt=sl(Ie,Qs,unescape(wn));ee(Gt.children(),wo=>me.append(wo))}ko.replace(me)}})}),Ie.on("SetContent",()=>{const Ue=Ie.dom;ee(Ue.select("span.mce-preview-object"),nt=>{Ue.select("span.mce-shim",nt).length===0&&Ue.add(nt,"span",{class:"mce-shim"})})})},Pn=Ie=>{Ie.on("ResolveName",Ue=>{let nt;Ue.target.nodeType===1&&(nt=Ue.target.getAttribute("data-mce-object"))&&(Ue.name=nt)})},er=Ie=>Ue=>{const nt=()=>{Ue.setEnabled(Ie.selection.isEditable())};return Ie.on("NodeChange",nt),nt(),()=>{Ie.off("NodeChange",nt)}},tr=Ie=>{const Ue=()=>Ie.execCommand("mceMedia");Ie.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:Ue,onSetup:nt=>{const gn=Ie.selection;nt.setActive(Un(gn.getNode()));const Ao=gn.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",nt.setActive).unbind,co=er(Ie)(nt);return()=>{Ao(),co()}}}),Ie.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:Ue,onSetup:er(Ie)})};var jl=()=>{l.add("media",Ie=>(Ke(Ie),ui(Ie),tr(Ie),Pn(Ie),gi(Ie),Dt(Ie),Oo(Ie)))};jl()})()),Vae}var Zae;function Nxe(){return Zae||(Zae=1,Oxe()),jae}Nxe();var Wae={},qae={},Gae;function Rxe(){return Gae||(Gae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=(P,j,re)=>re(P,j.prototype)?!0:P.constructor?.name===j.name,p=P=>{const j=typeof P;return P===null?"null":j==="object"&&Array.isArray(P)?"array":j==="object"&&u(P,String,(re,we)=>we.isPrototypeOf(re))?"string":j},x=P=>j=>p(j)===P,A=P=>j=>typeof j===P,R=P=>j=>P===j,O=x("string"),I=x("array"),U=A("boolean"),V=R(void 0),Y=P=>P==null,ee=P=>!Y(P),ue=A("function"),Ce=A("number"),pe=()=>{},Fe=(P,j)=>re=>P(j(re)),be=P=>()=>P,lt=P=>P,Oe=(P,j)=>P===j;function J(P,...j){return(...re)=>{const we=j.concat(re);return P.apply(null,we)}}const it=P=>{P()},jt=be(!1),Ke=be(!0);class ie{tag;value;static singletonNone=new ie(!1);constructor(j,re){this.tag=j,this.value=re}static some(j){return new ie(!0,j)}static none(){return ie.singletonNone}fold(j,re){return this.tag?re(this.value):j()}isSome(){return this.tag}isNone(){return!this.tag}map(j){return this.tag?ie.some(j(this.value)):ie.none()}bind(j){return this.tag?j(this.value):ie.none()}exists(j){return this.tag&&j(this.value)}forall(j){return!this.tag||j(this.value)}filter(j){return!this.tag||j(this.value)?this:ie.none()}getOr(j){return this.tag?this.value:j}or(j){return this.tag?this:j}getOrThunk(j){return this.tag?this.value:j()}orThunk(j){return this.tag?this:j()}getOrDie(j){if(this.tag)return this.value;throw new Error(j??"Called getOrDie on None")}static from(j){return ee(j)?ie.some(j):ie.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(j){this.tag&&j(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const ut=Array.prototype.indexOf,xn=Array.prototype.push,fn=(P,j)=>ut.call(P,j),qe=(P,j)=>fn(P,j)>-1,Re=(P,j)=>{for(let re=0,we=P.length;re<we;re++){const Ge=P[re];if(j(Ge,re))return!0}return!1},Qo=(P,j)=>{const re=[];for(let we=0;we<P;we++)re.push(j(we));return re},vt=(P,j)=>{const re=P.length,we=new Array(re);for(let Ge=0;Ge<re;Ge++){const kt=P[Ge];we[Ge]=j(kt,Ge)}return we},Lt=(P,j)=>{for(let re=0,we=P.length;re<we;re++){const Ge=P[re];j(Ge,re)}},F=(P,j)=>{for(let re=P.length-1;re>=0;re--){const we=P[re];j(we,re)}},Vt=(P,j)=>{const re=[],we=[];for(let Ge=0,kt=P.length;Ge<kt;Ge++){const Cn=P[Ge];(j(Cn,Ge)?re:we).push(Cn)}return{pass:re,fail:we}},at=(P,j)=>{const re=[];for(let we=0,Ge=P.length;we<Ge;we++){const kt=P[we];j(kt,we)&&re.push(kt)}return re},Jn=(P,j,re)=>(F(P,(we,Ge)=>{re=j(re,we,Ge)}),re),an=(P,j,re)=>(Lt(P,(we,Ge)=>{re=j(re,we,Ge)}),re),le=(P,j,re)=>{for(let we=0,Ge=P.length;we<Ge;we++){const kt=P[we];if(j(kt,we))return ie.some(kt);if(re(kt,we))break}return ie.none()},Ve=(P,j)=>le(P,j,jt),It=P=>{const j=[];for(let re=0,we=P.length;re<we;++re){if(!I(P[re]))throw new Error("Arr.flatten item "+re+" was not an array, input: "+P);xn.apply(j,P[re])}return j},Ne=(P,j)=>It(vt(P,j)),mt=(P,j)=>{for(let re=0,we=P.length;re<we;++re){const Ge=P[re];if(j(Ge,re)!==!0)return!1}return!0},He=(P,j)=>{const re={};for(let we=0,Ge=P.length;we<Ge;we++){const kt=P[we];re[String(kt)]=j(kt,we)}return re},ft=(P,j)=>j>=0&&j<P.length?ie.some(P[j]):ie.none(),X=P=>ft(P,0),$o=P=>ft(P,P.length-1),xo=(P,j)=>{for(let re=0;re<P.length;re++){const we=j(P[re],re);if(we.isSome())return we}return ie.none()},Mo=Object.keys,Ho=Object.hasOwnProperty,js=(P,j)=>{const re=Mo(P);for(let we=0,Ge=re.length;we<Ge;we++){const kt=re[we],Cn=P[kt];j(Cn,kt)}},Be=P=>(j,re)=>{P[re]=j},Ye=(P,j,re,we)=>{js(P,(Ge,kt)=>{(j(Ge,kt)?re:we)(Ge,kt)})},tt=(P,j)=>{const re={};return Ye(P,j,Be(re),pe),re},Le=(P,j)=>{const re=[];return js(P,(we,Ge)=>{re.push(j(we,Ge))}),re},Je=P=>Le(P,lt),Nt=P=>Mo(P).length,xt=(P,j)=>Un(P,j)?ie.from(P[j]):ie.none(),Un=(P,j)=>Ho.call(P,j),Dt=(P,j)=>Un(P,j)&&P[j]!==void 0&&P[j]!==null,Pe=P=>{for(const j in P)if(Ho.call(P,j))return!1;return!0},Tt=P=>{let j=P;return{get:()=>j,set:Ge=>{j=Ge}}},sn=(P,j,re=Oe)=>P.exists(we=>re(we,j)),Zn=P=>{const j=[],re=we=>{j.push(we)};for(let we=0;we<P.length;we++)P[we].each(re);return j},Yo=(P,j,re)=>P.isSome()&&j.isSome()?ie.some(re(P.getOrDie(),j.getOrDie())):ie.none(),Jo=P=>P.bind(lt),Do=(P,j)=>P?ie.some(j):ie.none(),mr=P=>{const j=Tt(ie.none()),re=()=>j.get().each(P);return{clear:()=>{re(),j.set(ie.none())},isSet:()=>j.get().isSome(),get:()=>j.get(),set:_n=>{re(),j.set(ie.some(_n))}}},zo=()=>mr(P=>P.unbind()),os=(P,j)=>P.substring(j),Vs=(P,j,re)=>j===""||P.length>=j.length&&P.substr(re,re+j.length)===j,Es=(P,j)=>Xs(P,j)?os(P,j.length):P,Xs=(P,j)=>Vs(P,j,0),Wr=(P=>j=>j.replace(P,""))(/^\s+|\s+$/g),Ts=P=>P.length>0,$r=P=>!Ts(P),Ma=(P,j=10)=>{const re=parseInt(P,j);return isNaN(re)?ie.none():ie.some(re)},Hn=P=>{const j=parseFloat(P);return isNaN(j)?ie.none():ie.some(j)},ts=P=>{let j=!1,re;return(...we)=>(j||(j=!0,re=P.apply(null,we)),re)},Oo=(P,j)=>{const we=(j||document).createElement("div");if(we.innerHTML=P,!we.hasChildNodes()||we.childNodes.length>1){const Ge="HTML does not have a single root node";throw console.error(Ge,P),new Error(Ge)}return Mn(we.childNodes[0])},ui=(P,j)=>{const we=(j||document).createElement(P);return Mn(we)},Ba=(P,j)=>{const we=(j||document).createTextNode(P);return Mn(we)},Mn=P=>{if(P==null)throw new Error("Node cannot be null or undefined");return{dom:P}},Kt={fromHtml:Oo,fromTag:ui,fromText:Ba,fromDom:Mn,fromPoint:(P,j,re)=>ie.from(P.dom.elementFromPoint(j,re)).map(Mn)},Yn=8,Gn=9,vo=11,No=1,Qn=3,ls=(P,j)=>{const re=P.dom;if(re.nodeType!==No)return!1;{const we=re;if(we.matches!==void 0)return we.matches(j);if(we.msMatchesSelector!==void 0)return we.msMatchesSelector(j);if(we.webkitMatchesSelector!==void 0)return we.webkitMatchesSelector(j);if(we.mozMatchesSelector!==void 0)return we.mozMatchesSelector(j);throw new Error("Browser lacks native selectors")}},La=P=>P.nodeType!==No&&P.nodeType!==Gn&&P.nodeType!==vo||P.childElementCount===0,sl=(P,j)=>{const re=j===void 0?document:j.dom;return La(re)?[]:vt(re.querySelectorAll(P),Kt.fromDom)},gi=(P,j)=>{const re=j===void 0?document:j.dom;return La(re)?ie.none():ie.from(re.querySelector(P)).map(Kt.fromDom)},Pn=(P,j)=>P.dom===j.dom,er=ls,tr=P=>P.dom.nodeName.toLowerCase(),jl=P=>P.dom.nodeType,Ie=P=>j=>jl(j)===P,Ue=P=>jl(P)===Yn||tr(P)==="#comment",nt=Ie(No),gn=Ie(Qn),Ao=Ie(Gn),co=Ie(vo),Zo=P=>j=>nt(j)&&tr(j)===P,us=P=>Kt.fromDom(P.dom.ownerDocument),ko=P=>Ao(P)?P:us(P),Qs=P=>ie.from(P.dom.parentNode).map(Kt.fromDom),me=(P,j)=>{const re=ue(j)?j:jt;let we=P.dom;const Ge=[];for(;we.parentNode!==null&&we.parentNode!==void 0;){const kt=we.parentNode,Cn=Kt.fromDom(kt);if(Ge.push(Cn),re(Cn)===!0)break;we=kt}return Ge},je=P=>ie.from(P.dom.previousSibling).map(Kt.fromDom),Ut=P=>ie.from(P.dom.nextSibling).map(Kt.fromDom),wn=P=>vt(P.dom.childNodes,Kt.fromDom),Gt=(P,j)=>{const re=P.dom.childNodes;return ie.from(re[j]).map(Kt.fromDom)},wo=P=>Gt(P,0),oo=P=>co(P)&&ee(P.dom.host),Bn=P=>Kt.fromDom(P.dom.getRootNode()),Uo=P=>{const j=Bn(P);return oo(j)?ie.some(j):ie.none()},xs=P=>Kt.fromDom(P.dom.host),As=(P,j)=>{Qs(P).each(we=>{we.dom.insertBefore(j.dom,P.dom)})},ks=(P,j)=>{Ut(P).fold(()=>{Qs(P).each(Ge=>{Sa(Ge,j)})},we=>{As(we,j)})},sa=(P,j)=>{wo(P).fold(()=>{Sa(P,j)},we=>{P.dom.insertBefore(j.dom,we.dom)})},Sa=(P,j)=>{P.dom.appendChild(j.dom)},Qf=(P,j)=>{As(P,j),Sa(j,P)},Tr=(P,j)=>{Lt(j,(re,we)=>{const Ge=we===0?P:j[we-1];ks(Ge,re)})},Fs=(P,j)=>{Lt(j,re=>{Sa(P,re)})},ir=(P,j,re)=>{if(O(re)||U(re)||Ce(re))P.setAttribute(j,re+"");else throw console.error("Invalid call to Attribute.set. Key ",j,":: Value ",re,":: Element ",P),new Error("Attribute value was not simple")},Vi=(P,j,re)=>{ir(P.dom,j,re)},Ci=(P,j)=>{const re=P.dom;js(j,(we,Ge)=>{ir(re,Ge,we)})},Ir=(P,j)=>{const re=P.dom.getAttribute(j);return re===null?void 0:re},Co=(P,j)=>ie.from(Ir(P,j)),Si=(P,j)=>{P.dom.removeAttribute(j)},oi=P=>an(P.dom.attributes,(j,re)=>(j[re.name]=re.value,j),{}),Jr=P=>{const j=P.dom;j.parentNode!==null&&j.parentNode.removeChild(j)},Sf=P=>{const j=wn(P);j.length>0&&Tr(P,j),Jr(P)},uc=P=>vt(P,Kt.fromDom),Hr=P=>P.style!==void 0&&ue(P.style.getPropertyValue),Cu=P=>{const j=gn(P)?P.dom.parentNode:P.dom;if(j==null||j.ownerDocument===null)return!1;const re=j.ownerDocument;return Uo(Kt.fromDom(j)).fold(()=>re.body.contains(j),Fe(Cu,xs))},dc=(P,j,re)=>{if(!O(re))throw console.error("Invalid call to CSS.set. Property ",j,":: Value ",re,":: Element ",P),new Error("CSS value must be a string: "+re);Hr(P)&&P.style.setProperty(j,re)},Ef=(P,j)=>{Hr(P)&&P.style.removeProperty(j)},An=(P,j,re)=>{const we=P.dom;dc(we,j,re)},Su=(P,j)=>{const re=P.dom,Ge=window.getComputedStyle(re).getPropertyValue(j);return Ge===""&&!Cu(P)?Ri(re,j):Ge},Ri=(P,j)=>Hr(P)?P.style.getPropertyValue(j):"",pi=(P,j)=>{const re=P.dom,we=Ri(re,j);return ie.from(we).filter(Ge=>Ge.length>0)},qr=(P,j)=>{const re=P.dom;Ef(re,j),sn(Co(P,"style").map(Wr),"")&&Si(P,"style")},Kd=(P,j)=>Hn(P).getOr(j),Ei=(P,j,re)=>Kd(Su(P,j),re),rl=(P,j,re,we)=>{const Ge=Ei(P,`padding-${re}`,0),kt=Ei(P,`padding-${we}`,0),Cn=Ei(P,`border-${re}-width`,0),_n=Ei(P,`border-${we}-width`,0);return j-Ge-kt-Cn-_n},Tf=(P,j)=>{const re=P.dom,we=re.getBoundingClientRect().width||re.offsetWidth;return rl(P,we,"left","right")},Eu=P=>Tf(P),Dl=((P,j)=>{const re=kt=>{if(!P(kt))throw new Error("Can only get "+j+" value of a "+j+" node");return we(kt).getOr("")},we=kt=>P(kt)?ie.from(kt.dom.nodeValue):ie.none();return{get:re,getOption:we,set:(kt,Cn)=>{if(!P(kt))throw new Error("Can only set raw "+j+" value of a "+j+" node");kt.dom.nodeValue=Cn}}})(gn,"text"),Wc=P=>Dl.get(P),qc=(P,j)=>Dl.set(P,j);var mn=(P,j,re,we,Ge)=>P(re,we)?ie.some(re):ue(Ge)&&Ge(re)?ie.none():j(re,we,Ge);const Tu=(P,j,re)=>{let we=P.dom;const Ge=ue(re)?re:jt;for(;we.parentNode;){we=we.parentNode;const kt=Kt.fromDom(we);if(j(kt))return ie.some(kt);if(Ge(kt))break}return ie.none()},yd=(P,j,re)=>mn((Ge,kt)=>kt(Ge),Tu,P,j,re),Vl=(P,j)=>{const re=Ge=>j(Kt.fromDom(Ge));return Ve(P.dom.childNodes,re).map(Kt.fromDom)},al=(P,j,re)=>Tu(P,we=>ls(we,j),re),Uu=(P,j)=>Vl(P,re=>ls(re,j)),Ui=(P,j)=>gi(j,P),si=(P,j,re)=>mn((Ge,kt)=>ls(Ge,kt),al,P,j,re),_l=P=>si(P,"[contenteditable]"),fc=(P,j=!1)=>Cu(P)?P.dom.isContentEditable:_l(P).fold(be(j),re=>qs(re)==="true"),qs=P=>P.dom.contentEditable,Af=(P,j)=>at(wn(P),j),te=(P,j)=>{let re=[];return Lt(wn(P),we=>{j(we)&&(re=re.concat([we])),re=re.concat(te(we,j))}),re},ve=(P,j)=>Af(P,re=>ls(re,j)),$e=(P,j)=>sl(j,P),Rt=(P,j)=>Uu(P,j).isSome(),qn=P=>P.nodeName.toLowerCase(),ps=P=>Kt.fromDom(P.getBody()),lr=P=>j=>Pn(j,ps(P)),Va=P=>P?P.replace(/px$/,""):"",Ti=P=>/^\d+(\.\d+)?$/.test(P)?P+"px":P,Ol=P=>Kt.fromDom(P.selection.getStart()),oe=P=>Kt.fromDom(P.selection.getEnd()),Ae=P=>yd(P,Zo("table")).forall(fc),Qe=["tfoot","thead","tbody","colgroup"],Et=P=>qe(Qe,P),pn=(P,j)=>({rows:P,columns:j}),Wn=(P,j,re)=>({element:P,rowspan:j,colspan:re}),Po=(P,j,re,we,Ge,kt)=>({element:P,rowspan:j,colspan:re,row:we,column:Ge,isLocked:kt}),Gs=(P,j,re)=>({element:P,cells:j,section:re}),Os=(P,j,re,we)=>({startRow:P,startCol:j,finishRow:re,finishCol:we}),Mi=(P,j,re)=>({element:P,colspan:j,column:re}),Ea=(P,j)=>({element:P,columns:j}),Xd=(P,j,re=0)=>Co(P,j).map(we=>parseInt(we,10)).getOr(re),Om=(P,j)=>kf(P,j,Ke),kf=(P,j,re)=>Ne(wn(P),we=>ls(we,j)?re(we)?[we]:[]:kf(we,j,re)),Gc=(P,j,re=jt)=>{if(re(j))return ie.none();if(qe(P,tr(j)))return ie.some(j);const we=Ge=>ls(Ge,"table")||re(Ge);return al(j,P.join(","),we)},R0=(P,j)=>Gc(["td","th"],P,j),M0=P=>Om(P,"th,td"),ye=P=>ls(P,"colgroup")?ve(P,"col"):Ne(Xt(P),j=>ve(j,"col")),Me=(P,j)=>si(P,"table",j),ht=P=>Om(P,"tr"),Xt=P=>Me(P).fold(be([]),j=>ve(j,"colgroup")),bo=Zo("th"),bs=(P,j)=>P&&j?"sectionCells":P?"section":"cells",Ta=P=>{const j=P.section==="thead",re=sn(il(P.cells),"th");return P.section==="tfoot"?{type:"footer"}:j||re?{type:"header",subType:bs(j,re)}:{type:"body"}},il=P=>{const j=at(P,re=>bo(re.element));return j.length===0?ie.some("td"):j.length===P.length?ie.some("th"):ie.none()},Zi=P=>{const j=vt(P,Ge=>Ta(Ge).type),re=qe(j,"header"),we=qe(j,"footer");if(!re&&!we)return ie.some("body");{const Ge=qe(j,"body");return re&&!Ge&&!we?ie.some("header"):!re&&!Ge&&we?ie.some("footer"):ie.none()}},Ul=(P,j)=>vt(P,re=>{if(tr(re)==="colgroup"){const we=vt(ye(re),Ge=>{const kt=Xd(Ge,"span",1);return Wn(Ge,1,kt)});return Gs(re,we,"colgroup")}else{const we=vt(M0(re),Ge=>{const kt=Xd(Ge,"rowspan",1),Cn=Xd(Ge,"colspan",1);return Wn(Ge,kt,Cn)});return Gs(re,we,j(re))}}),Qd=P=>Qs(P).map(j=>{const re=tr(j);return Et(re)?re:"tbody"}).getOr("tbody"),Zl=P=>{const j=ht(P),we=[...Xt(P),...j];return Ul(we,Qd)},Nm="data-snooker-locked-cols",Wl=P=>Co(P,Nm).bind(j=>ie.from(j.match(/\d+/g))).map(j=>He(j,Ke)),ll=(P,j)=>P+","+j,Jd=(P,j,re)=>ie.from(P.access[ll(j,re)]),_c=(P,j,re)=>{const we=ds(P,Ge=>re(j,Ge.element));return we.length>0?ie.some(we[0]):ie.none()},ds=(P,j)=>{const re=Ne(P.all,we=>we.cells);return at(re,j)},vh=P=>{const j={};let re=0;return Lt(P.cells,we=>{const Ge=we.colspan;Qo(Ge,kt=>{const Cn=re+kt;j[Cn]=Mi(we.element,Ge,Cn)}),re+=Ge}),j},pp=P=>{const j={},re=[],Ge=X(P).map(Rc=>Rc.element).bind(Me).bind(Wl).getOr({});let kt=0,Cn=0,_n=0;const{pass:Fo,fail:as}=Vt(P,Rc=>Rc.section==="colgroup");Lt(as,Rc=>{const Xu=[];Lt(Rc.cells,rf=>{let fi=0;for(;j[ll(_n,fi)]!==void 0;)fi++;const Li=Dt(Ge,fi.toString()),am=Po(rf.element,rf.rowspan,rf.colspan,_n,fi,Li);for(let im=0;im<rf.colspan;im++)for(let Fm=0;Fm<rf.rowspan;Fm++){const Dh=_n+Fm,Ru=fi+im,_h=ll(Dh,Ru);j[_h]=am,Cn=Math.max(Cn,Ru+1)}Xu.push(am)}),kt++,re.push(Gs(Rc.element,Xu,Rc.section)),_n++});const{columns:Br,colgroups:ia}=$o(Fo).map(Rc=>{const Xu=vh(Rc);return{colgroups:[Ea(Rc.element,Je(Xu))],columns:Xu}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:pn(kt,Cn),access:j,all:re,columns:Br,colgroups:ia}},Ua={fromTable:P=>{const j=Zl(P);return pp(j)},generate:pp,getAt:Jd,findItem:_c,filterItems:ds,justCells:P=>Ne(P.all,j=>j.cells),justColumns:P=>Je(P.columns),hasColumns:P=>Mo(P.columns).length>0,getColumnAt:(P,j)=>ie.from(P.columns[j])},em=(P,j)=>xo(P.all,re=>Ve(re.cells,we=>Pn(j,we.element))),W1=(P,j,re)=>{const we=vt(j.selection,kt=>R0(kt).bind(Cn=>em(P,Cn)).filter(re)),Ge=Zn(we);return Do(Ge.length>0,Ge)},ln=(P,j)=>j.mergable,Kc=(P,j)=>j.unmergable,bg=(P,j)=>W1(P,j,Ke),vd=(P,j)=>em(P,j).exists(re=>!re.isLocked),yg=(P,j)=>mt(j,re=>vd(P,re)),q1=(P,j)=>ln(P,j).filter(re=>yg(P,re.cells)),De=(P,j)=>Kc(P,j).filter(re=>yg(P,re));var Yc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],vl=()=>{const P=as=>Kt.fromDom(as.dom.cloneNode(!1)),j=as=>ko(as).dom,re=as=>nt(as)?tr(as)==="body"?!0:qe(Yc,tr(as)):!1,we=as=>nt(as)?qe(["br","img","hr","input"],tr(as)):!1,Ge=as=>nt(as)&&Ir(as,"contenteditable")==="false",kt=(as,Br)=>as.dom.compareDocumentPosition(Br.dom),Cn=(as,Br)=>{const ia=oi(as);Ci(Br,ia)},_n=as=>{const Br=tr(as);return qe(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Br)},Fo=as=>nt(as)?Co(as,"lang"):ie.none();return{up:be({selector:al,closest:si,predicate:Tu,all:me}),down:be({selector:$e,predicate:te}),styles:be({get:Su,getRaw:pi,set:An,remove:qr}),attrs:be({get:Ir,set:Vi,remove:Si,copyTo:Cn}),insert:be({before:As,after:ks,afterAll:Tr,append:Sa,appendAll:Fs,prepend:sa,wrap:Qf}),remove:be({unwrap:Sf,remove:Jr}),create:be({nu:Kt.fromTag,clone:P,text:Kt.fromText}),query:be({comparePosition:kt,prevSibling:je,nextSibling:Ut}),property:be({children:wn,name:tr,parent:Qs,document:j,isText:gn,isComment:Ue,isElement:nt,isSpecial:_n,getLanguage:Fo,getText:Wc,setText:qc,isBoundary:re,isEmptyTag:we,isNonEditable:Ge}),eq:Pn,is:er}};const xh=(P,j,re,we)=>{const Ge=re[0],kt=re.slice(1);return we(P,j,Ge,kt)},wh=(P,j,re)=>re.length>0?xh(P,j,re,Nl):ie.none(),Nl=(P,j,re,we)=>{const Ge=j(P,re);return Jn(we,(kt,Cn)=>{const _n=j(P,Cn);return Oc(P,kt,_n)},Ge)},Oc=(P,j,re)=>j.bind(we=>re.filter(J(P.eq,we))),L0=wh,bp=vl(),yp=(P,j)=>L0(bp,(re,we)=>P(we),j),vp=(P,j)=>{const re=Ua.fromTable(P);return bg(re,j).bind(Ge=>{const kt=Ge[Ge.length-1],Cn=Ge[0].row,_n=kt.row+kt.rowspan,Fo=re.all.slice(Cn,_n);return Zi(Fo)}).getOr("")},Au=(P,j)=>j.column>=P.startCol&&j.column+j.colspan-1<=P.finishCol&&j.row>=P.startRow&&j.row+j.rowspan-1<=P.finishRow,Ch=(P,j)=>{let re=!0;const we=J(Au,j);for(let Ge=j.startRow;Ge<=j.finishRow;Ge++)for(let kt=j.startCol;kt<=j.finishCol;kt++)re=re&&Ua.getAt(P,Ge,kt).exists(we);return re?ie.some(j):ie.none()},P0=(P,j)=>Os(Math.min(P.row,j.row),Math.min(P.column,j.column),Math.max(P.row+P.rowspan-1,j.row+j.rowspan-1),Math.max(P.column+P.colspan-1,j.column+j.colspan-1)),wl=(P,j,re)=>{const we=Ua.findItem(P,j,Pn),Ge=Ua.findItem(P,re,Pn);return we.bind(kt=>Ge.map(Cn=>P0(kt,Cn)))},Rm=(P,j,re)=>wl(P,j,re).bind(we=>Ch(P,we)),Zu=(P,j,re)=>{const we=tm(P);return Rm(we,j,re)},tm=Ua.fromTable;var ss=tinymce.util.Tools.resolve("tinymce.util.Tools");const mc=(P,j,re)=>{const we=P.select("td,th",j);let Ge;for(let kt=0;kt<we.length;kt++){const Cn=P.getStyle(we[kt],re);if(V(Ge)&&(Ge=Cn),Ge!==Cn)return""}return Ge},Sh=(P,j,re)=>{ss.each("left center right".split(" "),we=>{we!==re&&P.formatter.remove("align"+we,{},j)}),re&&P.formatter.apply("align"+re,{},j)},G1=(P,j,re)=>{ss.each("top middle bottom".split(" "),we=>{we!==re&&P.formatter.remove("valign"+we,{},j)}),re&&P.formatter.apply("valign"+re,{},j)},rs=(P,j,re)=>{P.dispatch("TableModified",{...re,table:j})};var nm=tinymce.util.Tools.resolve("tinymce.Env");const Ai="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",xd=Qo(5,P=>{const j=`${P+1}px`;return{title:j,value:j}}),wd=vt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],P=>({title:P,value:P.toLowerCase()})),fa="100%",ws=P=>{const j=P.dom,re=j.getParent(P.selection.getStart(),j.isBlock)??P.getBody();return Eu(Kt.fromDom(re))+"px"},F0=(P,j)=>xp(P)||!Za(P)?j:om(P)?{...j,width:ws(P)}:{...j,width:fa},Cd=(P,j)=>xp(P)||Za(P)?j:om(P)?{...j,width:ws(P)}:{...j,width:fa},Pa=P=>j=>j.options.get(P),ku=P=>{const j=P.options.register;j("table_border_widths",{processor:"object[]",default:xd}),j("table_border_styles",{processor:"object[]",default:wd}),j("table_cell_advtab",{processor:"boolean",default:!0}),j("table_row_advtab",{processor:"boolean",default:!0}),j("table_advtab",{processor:"boolean",default:!0}),j("table_appearance_options",{processor:"boolean",default:!0}),j("table_grid",{processor:"boolean",default:!nm.deviceType.isTouch()}),j("table_cell_class_list",{processor:"object[]",default:[]}),j("table_row_class_list",{processor:"object[]",default:[]}),j("table_class_list",{processor:"object[]",default:[]}),j("table_toolbar",{processor:"string",default:Ai}),j("table_background_color_map",{processor:"object[]",default:[]}),j("table_border_color_map",{processor:"object[]",default:[]})},Xc=Pa("table_sizing_mode"),ri=Pa("table_border_widths"),Wu=Pa("table_border_styles"),Wi=Pa("table_cell_advtab"),Qc=Pa("table_row_advtab"),cl=Pa("table_advtab"),$s=Pa("table_appearance_options"),qu=Pa("table_grid"),Za=Pa("table_style_by_css"),qi=Pa("table_cell_class_list"),Fa=Pa("table_row_class_list"),ma=Pa("table_class_list"),Jc=Pa("table_toolbar"),ai=Pa("table_background_color_map"),ii=Pa("table_border_color_map"),om=P=>Xc(P)==="fixed",xp=P=>Xc(P)==="responsive",wp=P=>{const j=P.options,re=j.get("table_default_styles");return j.isSet("table_default_styles")?re:F0(P,re)},ra=P=>{const j=P.options,re=j.get("table_default_attributes");return j.isSet("table_default_attributes")?re:Cd(P,re)},Mm=P=>al(P,"table"),Eh=(P,j)=>{const re=$e(P,j);return re.length>0?ie.some(re):ie.none()},Df=(P,j,re)=>Ui(P,j).bind(we=>Ui(P,re).bind(Ge=>yp(Mm,[we,Ge]).map(kt=>({first:we,last:Ge,table:kt})))),uo=(P,j)=>Eh(P,j),Du=(P,j,re)=>Df(P,j,re).bind(we=>{const Ge=Fo=>Pn(P,Fo),kt="thead,tfoot,tbody,table",Cn=al(we.first,kt,Ge),_n=al(we.last,kt,Ge);return Cn.bind(Fo=>_n.bind(as=>Pn(Fo,as)?Zu(we.table,we.first,we.last):ie.none()))}),ea=lt,li=P=>{const j=(we,Ge)=>Co(we,Ge).exists(kt=>parseInt(kt,10)>1),re=we=>j(we,"rowspan")||j(we,"colspan");return P.length>0&&mt(P,re)?ie.some(P):ie.none()},$a=(P,j,re)=>j.length<=1?ie.none():Du(P,re.firstSelectedSelector,re.lastSelectedSelector).map(we=>({bounds:we,cells:j})),cr="data-mce-selected",Nc="data-mce-first-selected",Cp="td["+Nc+"],th["+Nc+"]",eu="data-mce-last-selected",Gu="td["+eu+"],th["+eu+"]",vg={selected:cr,firstSelectedSelector:Cp,lastSelectedSelector:Gu},Cl=P=>Me(P).bind(j=>uo(j,vg.firstSelectedSelector)).fold(be(P),j=>j[0]),Ia=P=>(j,re)=>{const we=tr(j),Ge=we==="col"||we==="colgroup"?Cl(j):j;return si(Ge,P,re)},Js=Ia("th,td,caption"),Rl=Ia("th,td"),_u=P=>uc(P.model.table.getSelectedCells()),ul=(P,j)=>{const re=Rl(P),we=re.bind(Ge=>Me(Ge)).map(Ge=>ht(Ge));return Yo(re,we,(Ge,kt)=>at(kt,Cn=>Re(uc(Cn.dom.cells),_n=>Ir(_n,j)==="1"||Pn(_n,Ge)))).getOr([])},Sl=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],ef=P=>({value:Th(P)}),Is=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Ml=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Bm=P=>Is.test(P)||Ml.test(P),Th=P=>Es(P,"#").toUpperCase(),hc=P=>Bm(P)?ie.some({value:Th(P)}):ie.none(),So=P=>{const j=P.toString(16);return(j.length===1?"0"+j:j).toUpperCase()},Or=P=>{const j=So(P.red)+So(P.green)+So(P.blue);return ef(j)},Wa=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,yr=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,dl=(P,j,re,we)=>({red:P,green:j,blue:re,alpha:we}),Gr=(P,j,re,we)=>{const Ge=parseInt(P,10),kt=parseInt(j,10),Cn=parseInt(re,10),_n=parseFloat(we);return dl(Ge,kt,Cn,_n)},ci=P=>{const j=Wa.exec(P);if(j!==null)return ie.some(Gr(j[1],j[2],j[3],"1"));const re=yr.exec(P);return re!==null?ie.some(Gr(re[1],re[2],re[3],re[4])):ie.none()},tf=P=>hc(P).orThunk(()=>ci(P).map(Or)).getOrThunk(()=>{const j=document.createElement("canvas");j.height=1,j.width=1;const re=j.getContext("2d");re.clearRect(0,0,j.width,j.height),re.fillStyle="#FFFFFF",re.fillStyle=P,re.fillRect(0,0,1,1);const we=re.getImageData(0,0,1,1).data,Ge=we[0],kt=we[1],Cn=we[2],_n=we[3];return Or(dl(Ge,kt,Cn,_n))}),cs=P=>ci(P).map(Or).map(j=>"#"+j.value).getOr(P),ql=(P,j,re)=>we=>{const Ge=zo(),kt=$r(re),Cn=()=>{const _n=_u(P),Fo=as=>P.formatter.match(j,{value:re},as.dom,kt);kt?(we.setActive(!Re(_n,Fo)),Ge.set(P.formatter.formatChanged(j,as=>we.setActive(!as),!0))):(we.setActive(mt(_n,Fo)),Ge.set(P.formatter.formatChanged(j,we.setActive,!1,{value:re})))};return P.initialized?Cn():P.on("init",Cn),Ge.clear},Cs=P=>Dt(P,"menu"),Gl=P=>vt(P,j=>{const re=j.text||j.title||"";return Cs(j)?{text:re,items:Gl(j.menu)}:{text:re,value:j.value}}),bi=P=>P.length?ie.some(Gl([{text:"Select...",value:"mce-no-match"},...P])):ie.none(),ki=(P,j,re,we)=>vt(j,Ge=>{const kt=Ge.text||Ge.title;return Cs(Ge)?{type:"nestedmenuitem",text:kt,getSubmenuItems:()=>ki(P,Ge.menu,re,we)}:{text:kt,type:"togglemenuitem",onAction:()=>we(Ge.value),onSetup:ql(P,re,Ge.value)}}),_f=(P,j)=>re=>{P.execCommand("mceTableApplyCellStyle",!1,{[j]:re})},xg=P=>Ne(P,j=>Cs(j)?[{...j,menu:xg(j.menu)}]:Ts(j.value)?[j]:[]),qa=(P,j,re,we)=>Ge=>Ge(ki(P,j,re,we)),Of=(P,j,re)=>{const we=vt(j,Ge=>({text:Ge.title,value:"#"+tf(Ge.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:we.length>0?we:void 0,allowCustomColors:!1},onAction:Ge=>{const kt=Ge.value==="remove"?"":Ge.value;P.execCommand("mceTableApplyCellStyle",!1,{[re]:kt})}}]},Sd=P=>()=>{const re=P.queryCommandValue("mceTableRowType")==="header"?"body":"header";P.execCommand("mceTableRowType",!1,{type:re})},Bi=P=>()=>{const re=P.queryCommandValue("mceTableColType")==="th"?"td":"th";P.execCommand("mceTableColType",!1,{type:re})},nf=P=>bi(qi(P)).map(j=>({name:"class",type:"listbox",label:"Class",items:j})),wg=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Sl}],Ku=P=>wg.concat(nf(P).toArray()),hr=(P,j)=>{const we=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Gl(Wu(P)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:j==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(we):we}},Cg={normal:(P,j)=>{const re=P.dom;return{setAttrib:(Cn,_n)=>{re.setAttrib(j,Cn,_n)},setStyle:(Cn,_n)=>{re.setStyle(j,Cn,_n)},setFormat:(Cn,_n)=>{_n===""?P.formatter.remove(Cn,{value:null},j,!0):P.formatter.apply(Cn,{value:_n},j)}}}},Bl=P=>Xs(P,"rgb")?cs(P):P,fl=P=>{const j=Kt.fromDom(P);return{borderwidth:pi(j,"border-width").getOr(""),borderstyle:pi(j,"border-style").getOr(""),bordercolor:pi(j,"border-color").map(Bl).getOr(""),backgroundcolor:pi(j,"background-color").map(Bl).getOr("")}},ka=P=>{const j=P[0],re=P.slice(1);return Lt(re,we=>{Lt(Mo(j),Ge=>{js(we,(kt,Cn)=>{const _n=j[Ge];_n!==""&&Ge===Cn&&_n!==kt&&(j[Ge]=Ge==="class"?"mce-no-match":"")})})}),j},Ed=(P,j,re,we)=>Ve(P,Ge=>!V(re.formatter.matchNode(we,j+Ge))).getOr(""),di=J(Ed,["left","center","right"],"align"),of=J(Ed,["top","middle","bottom"],"valign"),Sg=(P,j)=>{const re=wp(P),we=ra(P),Ge=()=>({borderstyle:xt(re,"border-style").getOr(""),bordercolor:Bl(xt(re,"border-color").getOr("")),backgroundcolor:Bl(xt(re,"background-color").getOr(""))}),kt={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},Cn=()=>{const Br=re["border-width"];return Za(P)&&Br?{border:Br}:xt(we,"border").fold(()=>({}),ia=>({border:ia}))},_n=j?Ge():{},Fo=()=>{const Br=xt(re,"border-spacing").or(xt(we,"cellspacing")).fold(()=>({}),vi=>({cellspacing:vi})),ia=xt(re,"border-padding").or(xt(we,"cellpadding")).fold(()=>({}),vi=>({cellpadding:vi}));return{...Br,...ia}};return{...kt,...re,...we,..._n,...Cn(),...Fo()}},Eg=P=>Me(Kt.fromDom(P)).map(j=>{const re={selection:uc(P.cells)};return vp(j,re)}).getOr(""),K1=(P,j,re)=>{const we=(_n,Fo)=>{const as=pi(Kt.fromDom(Fo),"border-width");return Za(P)&&as.isSome()?as.getOr(""):_n.getAttrib(Fo,"border")||mc(P.dom,Fo,"border-width")||mc(P.dom,Fo,"border")||""},Ge=P.dom,kt=Za(P)?Ge.getStyle(j,"border-spacing")||Ge.getAttrib(j,"cellspacing"):Ge.getAttrib(j,"cellspacing")||Ge.getStyle(j,"border-spacing"),Cn=Za(P)?mc(Ge,j,"padding")||Ge.getAttrib(j,"cellpadding"):Ge.getAttrib(j,"cellpadding")||mc(Ge,j,"padding");return{width:Ge.getStyle(j,"width")||Ge.getAttrib(j,"width"),height:Ge.getStyle(j,"height")||Ge.getAttrib(j,"height"),cellspacing:kt??"",cellpadding:Cn??"",border:we(Ge,j),caption:!!Ge.select("caption",j)[0],class:Ge.getAttrib(j,"class",""),align:di(P,j),...re?fl(j):{}}},Td=(P,j,re)=>{const we=P.dom;return{height:we.getStyle(j,"height")||we.getAttrib(j,"height"),class:we.getAttrib(j,"class",""),type:Eg(j),align:di(P,j),...re?fl(j):{}}},fy=(P,j,re,we)=>{const Ge=P.dom,kt=we.getOr(j);return{width:((_n,Fo)=>Ge.getStyle(_n,Fo)||Ge.getAttrib(_n,Fo))(kt,"width"),scope:Ge.getAttrib(j,"scope"),celltype:qn(j),class:Ge.getAttrib(j,"class",""),halign:di(P,j),valign:of(P,j),...re?fl(j):{}}},sm=(P,j)=>{const re=Ua.fromTable(P),we=Ua.justCells(re),Ge=at(we,kt=>Re(j,Cn=>Pn(kt.element,Cn)));return vt(Ge,kt=>({element:kt.element.dom,column:Ua.getColumnAt(re,kt.column).map(Cn=>Cn.element.dom)}))},gc=(P,j,re,we)=>{we("scope")&&P.setAttrib("scope",re.scope),we("class")&&re.class!=="mce-no-match"&&P.setAttrib("class",re.class),we("width")&&j.setStyle("width",Ti(re.width))},Y1=(P,j,re)=>{re("backgroundcolor")&&P.setFormat("tablecellbackgroundcolor",j.backgroundcolor),re("bordercolor")&&P.setFormat("tablecellbordercolor",j.bordercolor),re("borderstyle")&&P.setFormat("tablecellborderstyle",j.borderstyle),re("borderwidth")&&P.setFormat("tablecellborderwidth",Ti(j.borderwidth))},Ah=(P,j,re,we)=>{const Ge=j.length===1;Lt(j,kt=>{const Cn=kt.element,_n=Ge?Ke:we,Fo=Cg.normal(P,Cn),as=kt.column.map(Br=>Cg.normal(P,Br)).getOr(Fo);gc(Fo,as,re,_n),Wi(P)&&Y1(Fo,re,_n),we("halign")&&Sh(P,Cn,re.halign),we("valign")&&G1(P,Cn,re.valign)})},Nf=(P,j)=>{P.execCommand("mceTableCellType",!1,{type:j.celltype,no_events:!0})},rm=(P,j,re,we)=>{const Ge=tt(we,(kt,Cn)=>re[Cn]!==kt);Nt(Ge)>0&&j.length>=1&&Me(j[0]).each(kt=>{const Cn=sm(kt,j),_n=Nt(tt(Ge,(as,Br)=>Br!=="scope"&&Br!=="celltype"))>0,Fo=Un(Ge,"celltype");(_n||Un(Ge,"scope"))&&Ah(P,Cn,we,J(Un,Ge)),Fo&&Nf(P,we),rs(P,kt.dom,{structure:Fo,style:_n})})},Tg=(P,j,re,we)=>{const Ge=we.getData();we.close(),P.undoManager.transact(()=>{rm(P,j,re,Ge),P.focus()})},Ag=(P,j)=>{const re=Me(j[0]).map(we=>vt(sm(we,j),Ge=>fy(P,Ge.element,Wi(P),Ge.column)));return ka(re.getOrDie())},tu=P=>{const j=_u(P);if(j.length===0)return;const re=Ag(P,j),we={type:"tabpanel",tabs:[{title:"General",name:"general",items:Ku(P)},hr(P,"cell")]},Ge={type:"panel",items:[{type:"grid",columns:2,items:Ku(P)}]};P.windowManager.open({title:"Cell Properties",size:"normal",body:Wi(P)?we:Ge,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:re,onSubmit:J(Tg,P,j,re)})},my=P=>bi(Fa(P)).map(j=>({name:"class",type:"listbox",label:"Class",items:j})),Ou=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],ur=P=>Ou.concat(my(P).toArray()),yi=(P,j,re)=>{re("class")&&j.class!=="mce-no-match"&&P.setAttrib("class",j.class),re("height")&&P.setStyle("height",Ti(j.height))},Ad=(P,j,re)=>{re("backgroundcolor")&&P.setStyle("background-color",j.backgroundcolor),re("bordercolor")&&P.setStyle("border-color",j.bordercolor),re("borderstyle")&&P.setStyle("border-style",j.borderstyle)},Sp=(P,j,re,we)=>{const kt=j.length===1?Ke:we;Lt(j,Cn=>{const _n=ve(Kt.fromDom(Cn),"td,th"),Fo=Cg.normal(P,Cn);yi(Fo,re,kt),Qc(P)&&Ad(Fo,re,kt),we("height")&&Lt(_n,as=>{P.dom.setStyle(as.dom,"height",null)}),we("align")&&Sh(P,Cn,re.align)})},nu=(P,j)=>{P.execCommand("mceTableRowType",!1,{type:j.type,no_events:!0})},Rf=(P,j,re,we)=>{const Ge=tt(we,(kt,Cn)=>re[Cn]!==kt);if(Nt(Ge)>0){const kt=Un(Ge,"type"),Cn=kt?Nt(Ge)>1:!0;Cn&&Sp(P,j,we,J(Un,Ge)),kt&&nu(P,we),Me(Kt.fromDom(j[0])).each(_n=>rs(P,_n.dom,{structure:kt,style:Cn}))}},kg=(P,j,re,we)=>{const Ge=we.getData();we.close(),P.undoManager.transact(()=>{Rf(P,j,re,Ge),P.focus()})},kd=P=>{const j=ul(Ol(P),vg.selected);if(j.length===0)return;const re=vt(j,Cn=>Td(P,Cn.dom,Qc(P))),we=ka(re),Ge={type:"tabpanel",tabs:[{title:"General",name:"general",items:ur(P)},hr(P,"row")]},kt={type:"panel",items:[{type:"grid",columns:2,items:ur(P)}]};P.windowManager.open({title:"Row Properties",size:"normal",body:Qc(P)?Ge:kt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:we,onSubmit:J(kg,P,vt(j,Cn=>Cn.dom),we)})},Dd=(P,j,re)=>{const we=re?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],Ge=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],kt=$s(P)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],Cn=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],_n=j.length>0?[{name:"class",type:"listbox",label:"Class",items:j}]:[];return we.concat(Ge).concat(kt).concat(Cn).concat(_n)},nr=(P,j,re,we)=>{if(j.tagName==="TD"||j.tagName==="TH")O(re)&&ee(we)?P.setStyle(j,re,we):P.setStyles(j,re);else if(j.children)for(let Ge=0;Ge<j.children.length;Ge++)nr(P,j.children[Ge],re,we)},Dg=(P,j,re,we)=>{const Ge=P.dom,kt={},Cn={},_n=Za(P),Fo=cl(P),as=parseFloat(re.border)===0;if(!V(re.class)&&re.class!=="mce-no-match"&&(kt.class=re.class),Cn.height=Ti(re.height),_n?Cn.width=Ti(re.width):Ge.getAttrib(j,"width")&&(kt.width=Va(re.width)),_n?(as?(kt.border=0,Cn["border-width"]=""):(Cn["border-width"]=Ti(re.border),kt.border=1),Cn["border-spacing"]=Ti(re.cellspacing)):(kt.border=as?0:re.border,kt.cellpadding=re.cellpadding,kt.cellspacing=re.cellspacing),_n&&j.children){const Br={};if(as?Br["border-width"]="":we.border&&(Br["border-width"]=Ti(re.border)),we.cellpadding&&(Br.padding=Ti(re.cellpadding)),Fo&&we.bordercolor&&(Br["border-color"]=re.bordercolor),!Pe(Br))for(let ia=0;ia<j.children.length;ia++)nr(Ge,j.children[ia],Br)}if(Fo){const Br=re;Cn["background-color"]=Br.backgroundcolor,Cn["border-color"]=Br.bordercolor,Cn["border-style"]=Br.borderstyle}Ge.setStyles(j,{...wp(P),...Cn}),Ge.setAttribs(j,{...ra(P),...kt})},ha=(P,j,re,we)=>{const Ge=P.dom,kt=we.getData(),Cn=tt(kt,(_n,Fo)=>re[Fo]!==_n);we.close(),P.undoManager.transact(()=>{if(!j){const _n=Ma(kt.cols).getOr(1),Fo=Ma(kt.rows).getOr(1);P.execCommand("mceInsertTable",!1,{rows:Fo,columns:_n}),j=Rl(Ol(P),lr(P)).bind(as=>Me(as,lr(P))).map(as=>as.dom).getOrDie()}if(Nt(Cn)>0){const _n={border:Un(Cn,"border"),bordercolor:Un(Cn,"bordercolor"),cellpadding:Un(Cn,"cellpadding")};Dg(P,j,kt,_n);const Fo=Ge.select("caption",j)[0];(Fo&&!kt.caption||!Fo&&kt.caption)&&P.execCommand("mceTableToggleCaption"),Sh(P,j,kt.align)}if(P.focus(),P.addVisual(),Nt(Cn)>0){const _n=Un(Cn,"caption"),Fo=_n?Nt(Cn)>1:!0;rs(P,j,{structure:_n,style:Fo})}})},kh=(P,j)=>{const re=P.dom;let we,Ge=Sg(P,cl(P));j?(Ge.cols="1",Ge.rows="1",cl(P)&&(Ge.borderstyle="",Ge.bordercolor="",Ge.backgroundcolor="")):(we=re.getParent(P.selection.getStart(),"table",P.getBody()),we?Ge=K1(P,we,cl(P)):cl(P)&&(Ge.borderstyle="",Ge.bordercolor="",Ge.backgroundcolor=""));const kt=bi(ma(P));kt.isSome()&&Ge.class&&(Ge.class=Ge.class.replace(/\s*mce\-item\-table\s*/g,""));const Cn={type:"grid",columns:2,items:Dd(P,kt.getOr([]),j)},_n=()=>({type:"panel",items:[Cn]}),Fo=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[Cn]},hr(P,"table")]}),as=cl(P)?Fo():_n();P.windowManager.open({title:"Table Properties",size:"normal",body:as,onSubmit:J(ha,P,we,Ge),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ge})},Da=P=>{const j=re=>{Ae(Ol(P))&&re()};js({mceTableProps:J(kh,P,!1),mceTableRowProps:J(kd,P),mceTableCellProps:J(tu,P),mceInsertTableDialog:J(kh,P,!0)},(re,we)=>P.addCommand(we,()=>j(re)))},Yu=P=>({element:P,mergable:ie.none(),unmergable:ie.none(),selection:[P]}),El=(P,j,re)=>({element:re,mergable:$a(j,P,vg),unmergable:li(P),selection:ea(P)}),sf=P=>{const j=Tt(ie.none()),re=Tt([]);let we=ie.none();const Ge=Zo("caption"),kt=Hs=>we.forall(Ha=>!Ha[Hs]),Cn=()=>Js(Ol(P),lr(P)),_n=()=>Js(oe(P),lr(P)),Fo=()=>Cn().bind(Hs=>Jo(Yo(Me(Hs),_n().bind(Me),(Ha,Ga)=>Pn(Ha,Ga)?Ge(Hs)?ie.some(Yu(Hs)):ie.some(El(_u(P),Ha,Hs)):ie.none()))),as=Hs=>Me(Hs.element).map(Ga=>{const Pl=Ua.fromTable(Ga),Ep=bg(Pl,Hs).getOr([]),Og=an(Ep,(Ng,Tp)=>(Tp.isLocked&&(Ng.onAny=!0,Tp.column===0?Ng.onFirst=!0:Tp.column+Tp.colspan>=Pl.grid.columns&&(Ng.onLast=!0)),Ng),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:q1(Pl,Hs).isSome(),unmergeable:De(Pl,Hs).isSome(),locked:Og}}),Br=()=>{j.set(ts(Fo)()),we=j.get().bind(as),Lt(re.get(),it)},ia=Hs=>(Hs(),re.set(re.get().concat([Hs])),()=>{re.set(at(re.get(),Ha=>Ha!==Hs))}),vi=(Hs,Ha)=>ia(()=>j.get().fold(()=>{Hs.setEnabled(!1)},Ga=>{Hs.setEnabled(!Ha(Ga)&&P.selection.isEditable())})),Rc=(Hs,Ha,Ga)=>ia(()=>j.get().fold(()=>{Hs.setEnabled(!1),Hs.setActive(!1)},Pl=>{Hs.setEnabled(!Ha(Pl)&&P.selection.isEditable()),Hs.setActive(Ga(Pl))})),Xu=Hs=>we.exists(Ha=>Ha.locked[Hs]),rf=Hs=>vi(Hs,Ha=>!1),fi=Hs=>vi(Hs,Ha=>Ge(Ha.element)),Li=Hs=>Ha=>vi(Ha,Ga=>Ge(Ga.element)||Xu(Hs)),am=Hs=>Ha=>vi(Ha,Ga=>Ge(Ga.element)||Hs().isNone()),im=(Hs,Ha)=>Ga=>vi(Ga,Pl=>Ge(Pl.element)||Hs().isNone()||Xu(Ha)),Fm=Hs=>vi(Hs,Ha=>kt("mergeable")),Dh=Hs=>vi(Hs,Ha=>kt("unmergeable")),Ru=Hs=>Rc(Hs,jt,Ha=>Me(Ha.element,lr(P)).exists(Pl=>Rt(Pl,"caption"))),_h=(Hs,Ha)=>Ga=>Rc(Ga,Pl=>Ge(Pl.element),()=>P.queryCommandValue(Hs)===Ha),X1=_h("mceTableRowType","header"),Q1=_h("mceTableColType","th");return P.on("NodeChange ExecCommand TableSelectorChange",Br),{onSetupTable:rf,onSetupCellOrRow:fi,onSetupColumn:Li,onSetupPasteable:am,onSetupPasteableColumn:im,onSetupMergeable:Fm,onSetupUnmergeable:Dh,resetTargets:Br,onSetupTableWithCaption:Ru,onSetupTableRowHeaders:X1,onSetupTableColumnHeaders:Q1,targets:j.get}};var _g=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const ou="x-tinymce/dom-table-",Nu=ou+"rows",Lm=ou+"columns",pc=P=>{const j=_g.read()??[];return xo(j,re=>ie.from(re.getType(P)))},_d=()=>pc(Nu),aa=()=>pc(Lm),ta=P=>j=>{const re=()=>{j.setEnabled(P.selection.isEditable())};return P.on("NodeChange",re),re(),()=>{P.off("NodeChange",re)}},Di=(P,j)=>{P.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:ta(P),fetch:_n=>_n("inserttable | cell row column | advtablesort | tableprops deletetable")});const re=_n=>()=>P.execCommand(_n),we=(_n,Fo)=>{P.queryCommandSupported(Fo.command)&&P.ui.registry.addButton(_n,{...Fo,onAction:ue(Fo.onAction)?Fo.onAction:re(Fo.command)})},Ge=(_n,Fo)=>{P.queryCommandSupported(Fo.command)&&P.ui.registry.addToggleButton(_n,{...Fo,onAction:ue(Fo.onAction)?Fo.onAction:re(Fo.command)})};we("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:j.onSetupTable}),we("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:j.onSetupTable}),we("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:j.onSetupCellOrRow}),we("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:j.onSetupMergeable}),we("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:j.onSetupUnmergeable}),we("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:j.onSetupCellOrRow}),we("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:j.onSetupCellOrRow}),we("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:j.onSetupCellOrRow}),we("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:j.onSetupCellOrRow}),we("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:j.onSetupColumn("onFirst")}),we("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:j.onSetupColumn("onLast")}),we("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:j.onSetupColumn("onAny")}),we("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:j.onSetupCellOrRow}),we("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:j.onSetupCellOrRow}),we("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:j.onSetupPasteable(_d)}),we("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:j.onSetupPasteable(_d)}),we("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:j.onSetupColumn("onAny")}),we("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:j.onSetupColumn("onAny")}),we("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:j.onSetupPasteableColumn(aa,"onFirst")}),we("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:j.onSetupPasteableColumn(aa,"onLast")}),we("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:ta(P)});const kt=xg(ma(P));kt.length!==0&&P.queryCommandSupported("mceTableToggleClass")&&P.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:qa(P,kt,"tableclass",_n=>P.execCommand("mceTableToggleClass",!1,_n)),onSetup:j.onSetupTable});const Cn=xg(qi(P));Cn.length!==0&&P.queryCommandSupported("mceTableCellToggleClass")&&P.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:qa(P,Cn,"tablecellclass",_n=>P.execCommand("mceTableCellToggleClass",!1,_n)),onSetup:j.onSetupCellOrRow}),P.queryCommandSupported("mceTableApplyCellStyle")&&(P.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:qa(P,Sl,"tablecellverticalalign",_f(P,"vertical-align")),onSetup:j.onSetupCellOrRow}),P.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:qa(P,ri(P),"tablecellborderwidth",_f(P,"border-width")),onSetup:j.onSetupCellOrRow}),P.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:qa(P,Wu(P),"tablecellborderstyle",_f(P,"border-style")),onSetup:j.onSetupCellOrRow}),P.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:_n=>_n(Of(P,ai(P),"background-color")),onSetup:j.onSetupCellOrRow}),P.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:_n=>_n(Of(P,ii(P),"border-color")),onSetup:j.onSetupCellOrRow})),Ge("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:j.onSetupTableWithCaption}),Ge("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Sd(P),onSetup:j.onSetupTableRowHeaders}),Ge("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Bi(P),onSetup:j.onSetupTableColumnHeaders})},Pm=P=>{const j=we=>P.dom.is(we,"table")&&P.getBody().contains(we)&&P.dom.isEditable(we.parentNode),re=Jc(P);re.length>0&&P.ui.registry.addContextToolbar("table",{predicate:j,items:re,scope:"node",position:"node"})},Od=P=>j=>{const re=()=>{j.setEnabled(P.selection.isEditable())};return P.on("NodeChange",re),re(),()=>{P.off("NodeChange",re)}},or=(P,j)=>{const re=ia=>()=>P.execCommand(ia),we=(ia,vi)=>P.queryCommandSupported(vi.command)?(P.ui.registry.addMenuItem(ia,{...vi,onAction:ue(vi.onAction)?vi.onAction:re(vi.command)}),!0):!1,Ge=(ia,vi)=>{P.queryCommandSupported(vi.command)&&P.ui.registry.addToggleMenuItem(ia,{...vi,onAction:ue(vi.onAction)?vi.onAction:re(vi.command)})},kt=ia=>{P.execCommand("mceInsertTable",!1,{rows:ia.numRows,columns:ia.numColumns})},Cn=[we("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:j.onSetupCellOrRow}),we("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:j.onSetupCellOrRow}),we("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:j.onSetupCellOrRow}),we("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:j.onSetupCellOrRow}),we("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:j.onSetupCellOrRow}),we("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:j.onSetupCellOrRow}),we("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:j.onSetupPasteable(_d)}),we("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:j.onSetupPasteable(_d)})],_n=[we("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:j.onSetupColumn("onFirst")}),we("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:j.onSetupColumn("onLast")}),we("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:j.onSetupColumn("onAny")}),we("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:j.onSetupColumn("onAny")}),we("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:j.onSetupColumn("onAny")}),we("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:j.onSetupPasteableColumn(aa,"onFirst")}),we("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:j.onSetupPasteableColumn(aa,"onLast")})],Fo=[we("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:j.onSetupCellOrRow}),we("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:j.onSetupMergeable}),we("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:j.onSetupUnmergeable})];qu(P)?P.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:kt}],onSetup:Od(P)}):P.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:re("mceInsertTableDialog"),onSetup:Od(P)}),P.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:re("mceInsertTableDialog"),onSetup:Od(P)}),we("tableprops",{text:"Table properties",onSetup:j.onSetupTable,command:"mceTableProps"}),we("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:j.onSetupTable,command:"mceTableDelete"}),qe(Cn,!0)&&P.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:be("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),qe(_n,!0)&&P.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:be("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),qe(Fo,!0)&&P.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:be("tablecellprops tablemergecells tablesplitcells")}),P.ui.registry.addContextMenu("table",{update:()=>(j.resetTargets(),j.targets().fold(be(""),ia=>tr(ia.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const as=xg(ma(P));as.length!==0&&P.queryCommandSupported("mceTableToggleClass")&&P.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>ki(P,as,"tableclass",ia=>P.execCommand("mceTableToggleClass",!1,ia)),onSetup:j.onSetupTable});const Br=xg(qi(P));Br.length!==0&&P.queryCommandSupported("mceTableCellToggleClass")&&P.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>ki(P,Br,"tablecellclass",ia=>P.execCommand("mceTableCellToggleClass",!1,ia)),onSetup:j.onSetupCellOrRow}),P.queryCommandSupported("mceTableApplyCellStyle")&&(P.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>ki(P,Sl,"tablecellverticalalign",_f(P,"vertical-align")),onSetup:j.onSetupCellOrRow}),P.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>ki(P,ri(P),"tablecellborderwidth",_f(P,"border-width")),onSetup:j.onSetupCellOrRow}),P.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>ki(P,Wu(P),"tablecellborderstyle",_f(P,"border-style")),onSetup:j.onSetupCellOrRow}),P.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Of(P,ai(P),"background-color"),onSetup:j.onSetupCellOrRow}),P.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Of(P,ii(P),"border-color"),onSetup:j.onSetupCellOrRow})),Ge("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:j.onSetupTableWithCaption}),Ge("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Sd(P),onSetup:j.onSetupTableRowHeaders}),Ge("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Bi(P),onSetup:j.onSetupTableRowHeaders})},Cr=P=>{const j=sf(P);ku(P),Da(P),or(P,j),Di(P,j),Pm(P)};var Ll=()=>{l.add("table",Cr)};Ll()})()),qae}var Kae;function Mxe(){return Kae||(Kae=1,Rxe()),Wae}Mxe();var Yae={},Xae={},Qae;function Bxe(){return Qae||(Qae=1,(function(){const l=(Dt,Pe,Tt)=>Tt(Dt,Pe.prototype)?!0:Dt.constructor?.name===Pe.name,u=Dt=>{const Pe=typeof Dt;return Dt===null?"null":Pe==="object"&&Array.isArray(Dt)?"array":Pe==="object"&&l(Dt,String,(Tt,sn)=>sn.isPrototypeOf(Tt))?"string":Pe},p=Dt=>Pe=>u(Pe)===Dt,x=Dt=>Pe=>typeof Pe===Dt,A=Dt=>Pe=>Dt===Pe,R=p("string"),O=A(void 0),I=Dt=>Dt==null,U=Dt=>!I(Dt),V=x("function"),ee=(Dt=>()=>Dt)(!1);class ue{tag;value;static singletonNone=new ue(!1);constructor(Pe,Tt){this.tag=Pe,this.value=Tt}static some(Pe){return new ue(!0,Pe)}static none(){return ue.singletonNone}fold(Pe,Tt){return this.tag?Tt(this.value):Pe()}isSome(){return this.tag}isNone(){return!this.tag}map(Pe){return this.tag?ue.some(Pe(this.value)):ue.none()}bind(Pe){return this.tag?Pe(this.value):ue.none()}exists(Pe){return this.tag&&Pe(this.value)}forall(Pe){return!this.tag||Pe(this.value)}filter(Pe){return!this.tag||Pe(this.value)?this:ue.none()}getOr(Pe){return this.tag?this.value:Pe}or(Pe){return this.tag?this:Pe}getOrThunk(Pe){return this.tag?this.value:Pe()}orThunk(Pe){return this.tag?this:Pe()}getOrDie(Pe){if(this.tag)return this.value;throw new Error(Pe??"Called getOrDie on None")}static from(Pe){return U(Pe)?ue.some(Pe):ue.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Pe){this.tag&&Pe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Ce=Array.prototype.slice,pe=Array.prototype.indexOf,Fe=(Dt,Pe)=>pe.call(Dt,Pe),be=(Dt,Pe)=>Fe(Dt,Pe)>-1,lt=(Dt,Pe)=>{const Tt=Dt.length,sn=new Array(Tt);for(let Zn=0;Zn<Tt;Zn++){const Yo=Dt[Zn];sn[Zn]=Pe(Yo,Zn)}return sn},Oe=(Dt,Pe)=>{const Tt=[];for(let sn=0,Zn=Dt.length;sn<Zn;sn++){const Yo=Dt[sn];Pe(Yo,sn)&&Tt.push(Yo)}return Tt},J=(Dt,Pe,Tt)=>{for(let sn=0,Zn=Dt.length;sn<Zn;sn++){const Yo=Dt[sn];if(Pe(Yo,sn))return ue.some(Yo);if(Tt(Yo,sn))break}return ue.none()},it=(Dt,Pe)=>J(Dt,Pe,ee),jt=(Dt,Pe)=>{const Tt=Ce.call(Dt,0);return Tt.sort(Pe),Tt},Ke=Object.keys,ie=Object.hasOwnProperty,ut=(Dt,Pe)=>xn(Dt,Pe)?ue.from(Dt[Pe]):ue.none(),xn=(Dt,Pe)=>ie.call(Dt,Pe),fn=Dt=>{let Pe=Dt;return{get:()=>Pe,set:Zn=>{Pe=Zn}}},qe=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Re=0;const Qo=Dt=>{const Tt=new Date().getTime(),sn=Math.floor(qe()*1e9);return Re++,Dt+"_"+sn+Re+String(Tt)},vt=Dt=>{const Pe=[],Tt=sn=>{Pe.push(sn)};for(let sn=0;sn<Dt.length;sn++)Dt[sn].each(Tt);return Pe};var Lt=tinymce.util.Tools.resolve("tinymce.PluginManager");const F=Dt=>({addTab:Tt=>{const sn=Tt.name??Qo("tab-name"),Zn=Dt.get();Zn[sn]=Tt,Dt.set(Zn)}}),Vt=(Dt,Pe)=>{Dt.addCommand("mceHelp",Pe)},at=Dt=>Pe=>Pe.options.get(Dt),Jn=Dt=>{const Pe=Dt.options.register;Pe("help_tabs",{processor:"array"})},an=at("help_tabs"),le=at("forced_plugins"),Ve=(Dt,Pe)=>{Dt.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:Pe,context:"any"}),Dt.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:Pe,context:"any"})};var It=tinymce.util.Tools.resolve("tinymce.Resource"),Ne=tinymce.util.Tools.resolve("tinymce.util.I18n");const mt=(Dt,Pe)=>It.load(`tinymce.html-i18n.help-keynav.${Pe}`,`${Dt}/js/i18n/keynav/${Pe}.js`),He=Dt=>mt(Dt,Ne.getCode()).catch(()=>mt(Dt,"en")),ft=(Dt,Pe)=>{Dt.on("init",()=>{He(Pe)})},X=async Dt=>({name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:await He(Dt)}]});var $o=tinymce.util.Tools.resolve("tinymce.Env");const xo=Dt=>{const Pe=$o.os.isMacOS()||$o.os.isiOS(),Zn=Pe?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl ",access:"Shift + Alt "},Yo=Dt.split("+"),Jo=lt(Yo,Do=>{const mr=Do.toLowerCase().trim();return xn(Zn,mr)?Zn[mr]:Do});return Pe?Jo.join("").replace(/\s/,""):Jo.join("+")},Mo=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Alt + F12"],action:"Focus to notification"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],Ho=()=>{const Dt=lt(Mo,Tt=>{const sn=lt(Tt.shortcuts,xo).join(" or ");return[Tt.action,sn]});return{name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:Dt}]}},js=lt([{key:"accordion",name:"Accordion"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"image",name:"Image"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"advlist",name:"List Styles"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"pagebreak",name:"Page Break"},{key:"preview",name:"Preview"},{key:"quickbars",name:"Quick Toolbars"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"table",name:"Table"},{key:"textcolor",name:"Text Color"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"a11ychecker",name:"Accessibility Checker",type:"premium"},{key:"typography",name:"Advanced Typography",type:"premium",slug:"advanced-typography"},{key:"ai",name:"AI Assistant",type:"premium"},{key:"casechange",name:"Case Change",type:"premium"},{key:"checklist",name:"Checklist",type:"premium"},{key:"advcode",name:"Enhanced Code Editor",type:"premium"},{key:"mediaembed",name:"Enhanced Media Embed",type:"premium",slug:"introduction-to-mediaembed"},{key:"advtable",name:"Enhanced Tables",type:"premium"},{key:"exportpdf",name:"Export to PDF",type:"premium"},{key:"exportword",name:"Export to Word",type:"premium"},{key:"footnotes",name:"Footnotes",type:"premium"},{key:"formatpainter",name:"Format Painter",type:"premium"},{key:"editimage",name:"Image Editing",type:"premium"},{key:"uploadcare",name:"Image Optimizer Powered by Uploadcare",type:"premium"},{key:"importword",name:"Import from Word",type:"premium"},{key:"inlinecss",name:"Inline CSS",type:"premium",slug:"inline-css"},{key:"linkchecker",name:"Link Checker",type:"premium"},{key:"math",name:"Math",type:"premium"},{key:"markdown",name:"Markdown",type:"premium"},{key:"mentions",name:"Mentions",type:"premium"},{key:"mergetags",name:"Merge Tags",type:"premium"},{key:"pageembed",name:"Page Embed",type:"premium"},{key:"permanentpen",name:"Permanent Pen",type:"premium"},{key:"powerpaste",name:"PowerPaste",type:"premium",slug:"introduction-to-powerpaste"},{key:"revisionhistory",name:"Revision History",type:"premium"},{key:"tinymcespellchecker",name:"Spell Checker",type:"premium",slug:"introduction-to-tiny-spellchecker"},{key:"suggestededits",name:"Suggested Edits",type:"premium"},{key:"autocorrect",name:"Spelling Autocorrect",type:"premium"},{key:"tableofcontents",name:"Table of Contents",type:"premium"},{key:"fullpagehtml",name:"Fullpage HTML",type:"premium"},{key:"advtemplate",name:"Templates",type:"premium",slug:"advanced-templates"},{key:"tinycomments",name:"Tiny Comments",type:"premium",slug:"introduction-to-tiny-comments"},{key:"tinydrive",name:"Tiny Drive",type:"premium",slug:"tinydrive-introduction"}],Dt=>({...Dt,type:Dt.type||"opensource",slug:Dt.slug||Dt.key})),Be=Dt=>{const Pe=()=>{const zo=Oe(js,({type:Es})=>Es==="premium"),os=jt(lt(zo,Es=>Es.name),(Es,Xs)=>Es.localeCompare(Xs)),Vs=lt(os,Es=>`<li>${Es}</li>`).join("");return"<div><p><b>"+Ne.translate("Premium plugins:")+"</b></p><ul>"+Vs+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=help_dialog_plugin_tab&utm_source=tiny&utm_medium=referral&utm_term=read_more&utm_content=premium_plugin_heading" rel="noopener" target="_blank" data-alloy-tabstop="true" tabindex="-1">'+Ne.translate("Learn more...")+"</a></li></ul></div>"},Tt=zo=>`<a data-alloy-tabstop="true" tabindex="-1" href="${zo.url}" target="_blank" rel="noopener">${zo.name}</a>`,sn=(zo,os)=>{const Vs=zo.plugins[os].getMetadata;if(V(Vs)){const Es=Vs();return{name:Es.name,html:Tt(Es)}}else return{name:os,html:os}},Zn=(zo,os)=>it(js,Vs=>Vs.key===os).fold(()=>sn(zo,os),Vs=>{const Es=Vs.type==="premium"?`${Vs.name}*`:Vs.name,Xs=Tt({name:Es,url:`https://www.tiny.cloud/docs/tinymce/${tinymce.majorVersion}/${Vs.slug}/`});return{name:Es,html:Xs}}),Yo=zo=>{const os=Ke(zo.plugins),Vs=le(zo),Es=O(Vs)?["onboarding","licensekeymanager"]:Vs.concat(["onboarding","licensekeymanager"]);return Oe(os,Xs=>!be(Es,Xs))},Jo=zo=>{const os=Yo(zo),Vs=jt(lt(os,Ts=>Zn(zo,Ts)),(Ts,$r)=>Ts.name.localeCompare($r.name)),Es=lt(Vs,Ts=>"<li>"+Ts.html+"</li>"),Xs=Es.length,gs=Es.join("");return"<p><b>"+Ne.translate(["Plugins installed ({0}):",Xs])+"</b></p><ul>"+gs+"</ul>"};return{name:"plugins",title:"Plugins",items:[{type:"htmlpanel",presets:"document",html:[(zo=>zo==null?"":"<div>"+Jo(zo)+"</div>")(Dt),Pe()].join("")}]}};var Ye=tinymce.util.Tools.resolve("tinymce.EditorManager");const tt=()=>{const Tt='<a data-alloy-tabstop="true" tabindex="-1" href="https://www.tiny.cloud/docs/tinymce/8/changelog/?utm_campaign=help_dialog_version_tab&utm_source=tiny&utm_medium=referral" rel="noopener" target="_blank">TinyMCE '+((Zn,Yo)=>Zn.indexOf("@")===0?"X.X.X":Zn+"."+Yo)(Ye.majorVersion,Ye.minorVersion)+"</a>";return{name:"versions",title:"Version",items:[{type:"htmlpanel",html:"<p>"+Ne.translate(["You are using {0}",Tt])+"</p>",presets:"document"}]}},Le=(Dt,Pe)=>{const Tt={},sn=lt(Dt,Zn=>{if(R(Zn))return xn(Pe,Zn)&&(Tt[Zn]=Pe[Zn]),Zn;{const Yo=Zn.name??Qo("tab-name");return Tt[Yo]=Zn,Yo}});return{tabs:Tt,names:sn}},Je=Dt=>{const Pe=Ke(Dt),Tt=Pe.indexOf("versions");return Tt!==-1&&(Pe.splice(Tt,1),Pe.push("versions")),{tabs:Dt,names:Pe}},Nt=async(Dt,Pe,Tt)=>{const sn=Ho(),Zn=await X(Tt),Yo=Be(Dt),Jo=tt(),Do={[sn.name]:sn,[Zn.name]:Zn,[Yo.name]:Yo,[Jo.name]:Jo,...Pe.get()};return ue.from(an(Dt)).fold(()=>Je(Do),mr=>Le(mr,Do))},xt=(Dt,Pe,Tt)=>()=>{Nt(Dt,Pe,Tt).then(({tabs:sn,names:Zn})=>{const Yo=lt(Zn,mr=>ut(sn,mr)),Do={type:"tabpanel",tabs:vt(Yo)};Dt.windowManager.open({title:"Help",size:"medium",body:Do,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})})};var Un=()=>{Lt.add("help",(Dt,Pe)=>{const Tt=fn({}),sn=F(Tt);Jn(Dt);const Zn=xt(Dt,Tt,Pe);return Ve(Dt,Zn),Vt(Dt,Zn),Dt.shortcuts.add("Alt+0","Open help dialog","mceHelp"),ft(Dt,Pe),sn})};Un()})()),Xae}var Jae;function Lxe(){return Jae||(Jae=1,Bxe()),Yae}Lxe();var eie={},tie={},nie;function Pxe(){return nie||(nie=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const p=(Be=>Ye=>Be===Ye)(null),x=Be=>Be,A=(Be,Ye)=>{const tt=Be.length,Le=new Array(tt);for(let Je=0;Je<tt;Je++){const Nt=Be[Je];Le[Je]=Ye(Nt,Je)}return Le},R=(Be,Ye)=>{let tt=null;return{cancel:()=>{p(tt)||(clearTimeout(tt),tt=null)},throttle:(...Nt)=>{p(tt)&&(tt=setTimeout(()=>{tt=null,Be.apply(null,Nt)},Ye))}}},O=Be=>Be.replace(/\uFEFF/g,""),U={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\uFEFF-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:"[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]"},V={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},Y=[new RegExp(U.aletter),new RegExp(U.midnumlet),new RegExp(U.midletter),new RegExp(U.midnum),new RegExp(U.numeric),new RegExp(U.cr),new RegExp(U.lf),new RegExp(U.newline),new RegExp(U.extend),new RegExp(U.format),new RegExp(U.katakana),new RegExp(U.extendnumlet),new RegExp("@")],ee="",ue=new RegExp("^"+U.punctuation+"$"),Ce=/^\s+$/,pe=Y,Fe=V.OTHER,be=Be=>{let Ye=Fe;const tt=pe.length;for(let Le=0;Le<tt;++Le){const Je=pe[Le];if(Je&&Je.test(Be)){Ye=Le;break}}return Ye},lt=Be=>{const Ye={};return tt=>{if(Ye[tt])return Ye[tt];{const Le=Be(tt);return Ye[tt]=Le,Le}}},Oe=Be=>{const Ye=lt(be);return A(Be,Ye)},J=(Be,Ye)=>{const tt=Be[Ye],Le=Be[Ye+1];if(Ye<0||Ye>Be.length-1&&Ye!==0||tt===V.ALETTER&&Le===V.ALETTER)return!1;const Je=Be[Ye+2];if(tt===V.ALETTER&&(Le===V.MIDLETTER||Le===V.MIDNUMLET||Le===V.AT)&&Je===V.ALETTER)return!1;const Nt=Be[Ye-1];return(tt===V.MIDLETTER||tt===V.MIDNUMLET||Le===V.AT)&&Le===V.ALETTER&&Nt===V.ALETTER||(tt===V.NUMERIC||tt===V.ALETTER)&&(Le===V.NUMERIC||Le===V.ALETTER)||(tt===V.MIDNUM||tt===V.MIDNUMLET)&&Le===V.NUMERIC&&Nt===V.NUMERIC||tt===V.NUMERIC&&(Le===V.MIDNUM||Le===V.MIDNUMLET)&&Je===V.NUMERIC||(tt===V.EXTEND||tt===V.FORMAT)&&(Le===V.ALETTER||Le===V.NUMERIC||Le===V.KATAKANA||Le===V.EXTEND||Le===V.FORMAT)||(Le===V.EXTEND||Le===V.FORMAT&&(Je===V.ALETTER||Je===V.NUMERIC||Je===V.KATAKANA||Je===V.EXTEND||Je===V.FORMAT))&&(tt===V.ALETTER||tt===V.NUMERIC||tt===V.KATAKANA||tt===V.EXTEND||tt===V.FORMAT)||tt===V.CR&&Le===V.LF?!1:tt===V.NEWLINE||tt===V.CR||tt===V.LF||Le===V.NEWLINE||Le===V.CR||Le===V.LF?!0:!(tt===V.KATAKANA&&Le===V.KATAKANA||Le===V.EXTENDNUMLET&&(tt===V.ALETTER||tt===V.NUMERIC||tt===V.KATAKANA||tt===V.EXTENDNUMLET)||tt===V.EXTENDNUMLET&&(Le===V.ALETTER||Le===V.NUMERIC||Le===V.KATAKANA)||tt===V.AT)},it=ee,jt=Ce,Ke=ue,ie=Be=>Be==="http"||Be==="https",ut=(Be,Ye)=>{let tt;for(tt=Ye;tt<Be.length&&!jt.test(Be[tt]);tt++);return tt},xn=(Be,Ye)=>{const tt=ut(Be,Ye+1);return Be.slice(Ye+1,tt).join(it).substr(0,3)==="://"?tt:Ye},fn=(Be,Ye,tt,Le)=>{const Je=[],Nt=[];let xt=[];for(let Un=0;Un<tt.length;++Un)if(xt.push(Be[Un]),J(tt,Un)){const Dt=Ye[Un];if((Le.includeWhitespace||!jt.test(Dt))&&(Le.includePunctuation||!Ke.test(Dt))){const Pe=Un-xt.length+1,Tt=Un+1,sn=Ye.slice(Pe,Tt).join(it);if(ie(sn)){const Zn=xn(Ye,Un),Yo=Be.slice(Tt,Zn);Array.prototype.push.apply(xt,Yo),Un=Zn}Ye[Un+1]==="."&&/^([a-zA-Z]\.)+$/.test(sn+".")?(xt.push(Be[Un+1]),Nt.push({start:Pe,end:Tt+1})):Nt.push({start:Pe,end:Tt}),Je.push(xt)}xt=[]}return{words:Je,indices:Nt}},qe=()=>({includeWhitespace:!1,includePunctuation:!1}),Re=(Be,Ye,tt)=>{tt={...qe(),...tt};const Le=A(Be,Ye),Je=Oe(Le);return fn(Be,Le,Je,tt)},vt=(Be,Ye,tt)=>Re(Be,Ye,tt).words;var Lt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const F=(Be,Ye)=>{const tt=Ye.getBlockElements(),Le=Ye.getVoidElements(),Je=Pe=>tt[Pe.nodeName]||Le[Pe.nodeName],Nt=[];let xt="";const Un=new Lt(Be,Be);let Dt;for(;Dt=Un.next();)Dt.nodeType===3?xt+=O(Dt.data):Je(Dt)&&xt.length&&(Nt.push(xt),xt="");return xt.length&&Nt.push(xt),Nt},Vt=Be=>Be.replace(/\u200B/g,""),at=Be=>Be.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,Jn=(Be,Ye)=>{const tt=Vt(F(Be,Ye).join(`
`));return vt(tt.split(""),x).length},an=(Be,Ye)=>{const tt=F(Be,Ye).join("");return at(tt)},le=(Be,Ye)=>{const tt=F(Be,Ye).join("").replace(/\s/g,"");return at(tt)},Ve=(Be,Ye)=>()=>Ye(Be.getBody(),Be.schema),It=(Be,Ye)=>()=>Ye(Be.selection.getRng().cloneContents(),Be.schema),Ne=Be=>Ve(Be,Jn),mt=Be=>({body:{getWordCount:Ne(Be),getCharacterCount:Ve(Be,an),getCharacterCountWithoutSpaces:Ve(Be,le)},selection:{getWordCount:It(Be,Jn),getCharacterCount:It(Be,an),getCharacterCountWithoutSpaces:It(Be,le)},getCount:Ne(Be)}),He=(Be,Ye)=>{Be.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Ye.body.getWordCount()),String(Ye.selection.getWordCount())],["Characters (no spaces)",String(Ye.body.getCharacterCountWithoutSpaces()),String(Ye.selection.getCharacterCountWithoutSpaces())],["Characters",String(Ye.body.getCharacterCount()),String(Ye.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},ft=(Be,Ye)=>{Be.addCommand("mceWordCount",()=>He(Be,Ye))};var X=tinymce.util.Tools.resolve("tinymce.util.Delay");const $o=(Be,Ye)=>{Be.dispatch("wordCountUpdate",{wordCount:{words:Ye.body.getWordCount(),characters:Ye.body.getCharacterCount(),charactersWithoutSpaces:Ye.body.getCharacterCountWithoutSpaces()}})},xo=(Be,Ye)=>{$o(Be,Ye)},Mo=(Be,Ye,tt)=>{const Le=R(()=>xo(Be,Ye),tt);Be.on("init",()=>{xo(Be,Ye),X.setEditorTimeout(Be,()=>{Be.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",Le.throttle)},0),Be.on("remove",Le.cancel)})},Ho=Be=>{const Ye=()=>Be.execCommand("mceWordCount");Be.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Ye,context:"any"}),Be.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Ye,context:"any"})};var js=(Be=300)=>{l.add("wordcount",Ye=>{const tt=mt(Ye);return ft(Ye,tt),Ho(Ye),Mo(Ye,tt,Be),tt})};js()})()),tie}var oie;function Fxe(){return oie||(oie=1,Pxe()),eie}Fxe();function H3(){const{id:l,type:u}=Ade(),p=RT(),x=Rv(),A=!l,R=()=>{if(u)return u;const it=x.pathname;return it.includes("/blog")?"blog":it.includes("/services")?"service":"page"},[O,I]=Ze.useState({title:"",slug:"",content:"",excerpt:"",post_status:"draft",post_type:R(),gallery_folder_id:""}),[U,V]=Ze.useState([]),[Y,ee]=Ze.useState(!0),[ue,Ce]=Ze.useState("content"),[pe,Fe]=Ze.useState(!1);Ze.useEffect(()=>{lt(),A?ee(!1):be()},[l]);const be=async()=>{try{const it=await vs.get(`/admin-update.php?action=get&table=posts&id=${l}`);it.data.success&&I(it.data.data)}catch{go.fire("Hata","Yaz yklenemedi","error"),p(-1)}finally{ee(!1)}},lt=async()=>{try{const it=await vs.get("/admin-update.php?action=list&table=media_folders");it.data.success&&V(it.data.data||[])}catch{console.error("Failed to load folders")}},Oe=async it=>{it&&it.preventDefault();try{if((await vs.post("/admin-update.php",{action:"save-post",...O,id:A?null:l})).data.success&&(go.fire({title:"Baarl",text:"Deiiklikler kaydedildi.",icon:"success",timer:1500,showConfirmButton:!1}),A)){let Ke="/pages";O.post_type==="service"&&(Ke="/services"),O.post_type==="blog"&&(Ke="/blog"),p(Ke)}}catch(jt){go.fire("Hata",jt.response?.data?.error||"Kaydedilemedi","error")}},J=async()=>{if(!O.title){go.fire("Eksik Bilgi","Ltfen nce bir sayfa bal girin.","warning");return}const{value:it}=await go.fire({title:"AI erik Olutur",input:"text",inputLabel:"Odaklanlacak Anahtar Kelimeler (opsiyonel)",inputPlaceholder:"otel ekimi, mimari fotoraflk...",showCancelButton:!0,confirmButtonText:"ret",cancelButtonText:"ptal",icon:"info"});if(it!==void 0){Fe(!0);try{const jt=await vs.post("/ai.php",{action:"generate-content",title:O.title,keywords:it,existing_content:O.content,type:O.post_type});jt.data.success&&(I(Ke=>({...Ke,content:jt.data.content})),go.fire({title:"erik retildi",icon:"success",timer:1500,showConfirmButton:!1}))}catch(jt){go.fire("Hata","erik retilemedi: "+(jt.response?.data?.error||jt.message),"error")}finally{Fe(!1)}}};return Y?M.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):M.jsxs(ni.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-5xl mx-auto space-y-6 pb-20",children:[M.jsxs("div",{className:"flex justify-between items-center bg-white/50 backdrop-blur-md p-4 rounded-2xl border border-gray-100 sticky top-0 z-10",children:[M.jsxs("div",{className:"flex items-center gap-4",children:[M.jsx("button",{onClick:()=>p(-1),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:""}),M.jsxs("div",{children:[M.jsxs("h1",{className:"text-xl font-bold text-gray-800",children:[A?"Yeni Ekle":"Dzenle",": ",M.jsx("span",{className:"text-blue-600 uppercase text-sm tracking-widest ml-2",children:O.post_type})]}),M.jsx("p",{className:"text-xs text-gray-500",children:O.title||"Balksz"})]})]}),M.jsx("div",{className:"flex gap-2",children:M.jsx("button",{onClick:Oe,className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold shadow-lg shadow-blue-500/20 transition-all hover:-translate-y-0.5",children:A?"Yaynla":"Deiiklikleri Kaydet"})})]}),M.jsxs("div",{className:"flex gap-1 p-1 bg-gray-200/50 rounded-2xl w-fit",children:[M.jsx("button",{onClick:()=>Ce("content"),className:`px-6 py-2 rounded-xl text-sm font-bold transition-all ${ue==="content"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:bg-white/50"}`,children:"erik"}),M.jsx("button",{onClick:()=>Ce("seo"),className:`px-6 py-2 rounded-xl text-sm font-bold transition-all ${ue==="seo"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:bg-white/50"}`,children:"SEO & Ayarlar"})]}),M.jsx("form",{onSubmit:Oe,className:"space-y-6",children:M.jsx(HC,{mode:"wait",children:ue==="content"?M.jsx(ni.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:"bg-white p-8 rounded-3xl shadow-sm border border-gray-100 space-y-6",children:M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2 tracking-tight",children:"Sayfa Bal"}),M.jsx("input",{type:"text",required:!0,value:O.title,onChange:it=>I({...O,title:it.target.value}),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all outline-none text-lg font-semibold",placeholder:"rn: Hakkmzda"})]}),M.jsxs("div",{className:"quill-editor-wrapper",children:[M.jsxs("div",{className:"flex justify-between items-end mb-2",children:[M.jsx("label",{className:"block text-sm font-bold text-gray-700 tracking-tight",children:"erik"}),M.jsx("button",{type:"button",onClick:J,disabled:pe,className:"px-4 py-1.5 bg-purple-100 text-purple-700 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-purple-200 transition-all flex items-center gap-2 disabled:opacity-50",children:pe?" retiliyor...":" AI ile ret"})]}),M.jsx(Yve,{init:{height:600,menubar:!0,license_key:"gpl",promotion:!1,branding:!1,plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","code","help","wordcount"],toolbar:"undo redo | blocks | bold italic forecolor | alignleft aligncenter alignright alignjustify | borderless_table | bullist numlist outdent indent | removeformat | help",content_style:"body { font-family:Inter,Helvetica,Arial,sans-serif; font-size:16px; line-height:1.6; padding: 20px; } h2 { font-weight: 800; color: #1e293b; } p { color: #475569; }",skin:"oxide",content_css:"default"},value:O.content,onEditorChange:it=>I({...O,content:it})}),M.jsx("style",{children:`
                                        /* Hide TinyMCE setup and promotion elements */
                                        .tox-promotion, 
                                        .tox-statusbar__branding, 
                                        .tox-notification--warning {
                                            display: none !important;
                                        }
                                        /* If the 'Finish setting up' is a dialog, this might be tricky, but usually it's a notification or promo */
                                    `})]})]})},"content"):M.jsx(ni.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"bg-white p-8 rounded-3xl shadow-sm border border-gray-100 space-y-8",children:M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[M.jsxs("div",{className:"space-y-6",children:[M.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"URL Yaps"}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-1",children:"Slug (URL)"}),M.jsx("input",{type:"text",value:O.slug,onChange:it=>I({...O,slug:it.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all font-mono text-sm",placeholder:"otomatik-olusturulur"}),M.jsx("p",{className:"mt-1 text-[10px] text-gray-400",children:"Bo brakrsanz bala gre oluturulur."})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-1",children:"Durum"}),M.jsx("div",{className:"flex gap-2",children:["draft","publish"].map(it=>M.jsx("button",{type:"button",onClick:()=>I({...O,post_status:it}),className:`flex-1 py-3 rounded-xl text-xs font-bold ring-1 transition-all ${O.post_status===it?"bg-blue-600 text-white ring-blue-600":"bg-white text-gray-500 ring-gray-200 hover:bg-gray-50"}`,children:it==="publish"?"YAYINDA":"TASLAK"},it))})]})]}),M.jsxs("div",{className:"space-y-6",children:[M.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"SEO Meta Verileri"}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-1",children:"Meta Aklamas (Excerpt)"}),M.jsx("textarea",{rows:"4",value:O.excerpt||"",onChange:it=>I({...O,excerpt:it.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all text-sm leading-relaxed",placeholder:"Arama sonularnda grnecek ksa aklama..."}),M.jsxs("p",{className:"mt-1 text-[10px] text-gray-400",children:[O.excerpt?.length||0," karakter (nerilen 150-160)"]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-1",children:"Galeri Klasr Balants"}),M.jsxs("select",{value:O.gallery_folder_id||"",onChange:it=>I({...O,gallery_folder_id:it.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all text-sm font-semibold",children:[M.jsx("option",{value:"",children:"Klasr Sein (Opsiyonel)"}),U.map(it=>M.jsx("option",{value:it.id,children:it.name},it.id))]}),M.jsx("p",{className:"mt-1 text-[10px] text-gray-400",children:"Bu sayfada grnecek resim galerisi iin bir klasr sein."})]})]})]})},"seo")})})]})}function $xe(){const[l,u]=Ze.useState({}),[p,x]=Ze.useState(!0),[A,R]=Ze.useState("general"),[O,I]=Ze.useState(!1),U=[{id:"general",label:"Genel Ayarlar",icon:""},{id:"contact",label:"letiim",icon:""},{id:"social",label:"Sosyal Medya",icon:""},{id:"style",label:"Renk & Stil",icon:""},{id:"hero",label:"Hero Ayarlar",icon:""}];Ze.useEffect(()=>{V()},[]);const V=async()=>{try{const pe=await vs.get("/settings.php");if(pe.data.success){const Fe={};Object.values(pe.data.settings).forEach(be=>{be.forEach(lt=>{Fe[lt.key]=lt.value})}),u(Fe)}}catch(pe){console.error("Failed to load settings",pe),go.fire("Hata","Ayarlar yklenemedi","error")}finally{x(!1)}},Y=(pe,Fe)=>{u(be=>({...be,[pe]:Fe}))},ee=async(pe,Fe)=>{const be=pe.target.files[0];if(!be)return;I(!0);const lt=new FormData;lt.append("file",be),lt.append("action","upload");try{const Oe=await vs.post("/media.php",lt,{headers:{"Content-Type":"multipart/form-data"}});Oe.data.success&&(Y(Fe,Oe.data.data.public_url),go.fire({title:"Yklendi",icon:"success",toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3}))}catch{go.fire("Hata","Ykleme baarsz","error")}finally{I(!1)}},ue=async()=>{try{await vs.post("/settings.php",{settings:l}),go.fire("Baarl","Ayarlar kaydedildi","success")}catch{go.fire("Hata","Kaydetme baarsz","error")}},Ce=(pe,Fe,be="text",lt="")=>be==="image"?M.jsxs("div",{className:"mb-6",children:[M.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:Fe}),M.jsxs("div",{className:"flex items-start gap-4 p-4 border border-gray-100 rounded-2xl bg-gray-50/50",children:[M.jsx("div",{className:"w-24 h-24 bg-white rounded-xl border border-gray-200 flex items-center justify-center p-2 shadow-sm overflow-hidden",children:l[pe]?M.jsx("img",{src:l[pe],alt:Fe,className:"max-w-full max-h-full object-contain"}):M.jsx("span",{className:"text-2xl text-gray-300",children:""})}),M.jsxs("div",{className:"flex-1",children:[M.jsx("input",{type:"text",value:l[pe]||"",onChange:Oe=>Y(pe,Oe.target.value),className:"w-full px-4 py-2 rounded-xl border border-gray-200 text-sm mb-3 text-gray-500 focus:text-gray-800 focus:border-blue-500 outline-none transition-all",placeholder:"https://..."}),M.jsx("div",{className:"relative",children:M.jsxs("label",{className:`inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-xl text-sm font-bold text-gray-600 hover:bg-gray-50 cursor-pointer shadow-sm transition-all ${O?"opacity-50 pointer-events-none":""}`,children:[M.jsx("span",{children:O?"":""}),O?"Ykleniyor...":"Grsel Ykle",M.jsx("input",{type:"file",className:"hidden",onChange:Oe=>ee(Oe,pe),accept:"image/*"})]})})]})]})]}):be==="color"?M.jsxs("div",{className:"mb-6",children:[M.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:Fe}),M.jsxs("div",{className:"flex items-center gap-3 p-2 border border-gray-200 rounded-2xl bg-white focus-within:ring-2 focus-within:ring-blue-500/20 focus-within:border-blue-500 transition-all",children:[M.jsx("div",{className:"relative w-12 h-12 rounded-xl border border-gray-100 overflow-hidden shadow-inner flex-shrink-0",children:M.jsx("input",{type:"color",value:l[pe]||"#000000",onChange:Oe=>Y(pe,Oe.target.value),className:"absolute -top-1/2 -left-1/2 w-[200%] h-[200%] cursor-pointer p-0 border-0"})}),M.jsx("div",{className:"flex-1",children:M.jsx("input",{type:"text",value:l[pe]||"",onChange:Oe=>Y(pe,Oe.target.value),className:"w-full text-sm font-mono font-bold text-gray-600 outline-none uppercase tracking-wider",placeholder:"#000000",maxLength:7})})]})]}):M.jsxs("div",{className:"mb-4",children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:Fe}),be==="textarea"?M.jsx("textarea",{value:l[pe]||"",onChange:Oe=>Y(pe,Oe.target.value),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-brand-500 focus:ring-2 focus:ring-brand-500/20 outline-none transition-all",placeholder:lt,rows:"4"}):M.jsx("input",{type:be,value:l[pe]||"",onChange:Oe=>Y(pe,Oe.target.value),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-brand-500 focus:ring-2 focus:ring-brand-500/20 outline-none transition-all",placeholder:lt})]});return p?M.jsx("div",{className:"p-8 text-center text-gray-500",children:"Ykleniyor..."}):M.jsxs("div",{className:"space-y-6",children:[M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsxs("div",{children:[M.jsx("h1",{className:"text-3xl font-bold text-gray-800 tracking-tight",children:"Sistem Ayarlar"}),M.jsx("p",{className:"text-gray-500 text-sm",children:"Site genel yaplandrmasn buradan ynetebilirsiniz."})]}),M.jsx("button",{onClick:ue,className:"px-6 py-2.5 bg-blue-600 text-white rounded-xl font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 hover:scale-105 transition-all active:scale-95",children:"Kaydet"})]}),M.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden",children:[M.jsx("div",{className:"flex border-b border-gray-100 overflow-x-auto",children:U.map(pe=>M.jsxs("button",{onClick:()=>R(pe.id),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 whitespace-nowrap transition-all ${A===pe.id?"text-blue-600 bg-blue-50/50 border-b-2 border-blue-600":"text-gray-500 hover:bg-gray-50 hover:text-gray-700"}`,children:[M.jsx("span",{children:pe.icon})," ",pe.label]},pe.id))}),M.jsxs("div",{className:"p-8",children:[A==="general"&&M.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[Ce("site_title","Site Bal (Title)","text","rn: Mekan Fotorafs"),Ce("site_description","Site Aklamas (Meta Description)","textarea","Site hakknda ksa bilgi..."),Ce("logo_url","Logo","image"),Ce("favicon_url","Favicon","image"),Ce("google_analytics","Google Analytics ID","text","UA-XXXXX-Y")]}),A==="contact"&&M.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[Ce("phone_primary","Telefon 1 (Grnr)","text","+90 555 ..."),Ce("phone_whatsapp","Whatsapp Numaras","text","90555..."),Ce("email_primary","E-posta Adresi","email","info@site.com"),Ce("address_short","Ksa Adres","text","stanbul, Trkiye"),Ce("address_full","Tam Adres","textarea","Ak adres bilgisi...")]}),A==="social"&&M.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[Ce("social_instagram","Instagram URL","text","https://instagram.com/..."),Ce("social_facebook","Facebook URL","text","https://facebook.com/..."),Ce("social_twitter","Twitter / X URL","text","https://x.com/..."),Ce("social_linkedin","LinkedIn URL","text","https://linkedin.com/..."),Ce("social_youtube","YouTube URL","text","https://youtube.com/...")]}),A==="style"&&M.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[Ce("primary_color","Ana Renk (Primary)","color"),Ce("secondary_color","kincil Renk (Secondary)","color"),M.jsx("div",{className:"col-span-full mt-4 p-4 bg-gray-50 rounded-2xl",children:M.jsx("p",{className:"text-sm text-gray-500",children:"Not: Renk deiikliklerinin sitede aktif olmas iin CSS deikenlerinin ayarlanm olmas gerekir."})})]}),A==="hero"&&M.jsxs("div",{className:"space-y-8",children:[M.jsxs("div",{children:[M.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[M.jsx("span",{className:"w-8 h-8 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center text-sm",children:"1"}),"Dnen Metin Ayarlar (Animated Text)"]}),M.jsxs("div",{className:"grid md:grid-cols-2 gap-6 p-6 bg-slate-50 rounded-3xl border border-slate-100",children:[M.jsxs("div",{className:"space-y-1",children:[Ce("hero_text_variants_1","1. Kelime Varyasyonlar (Beyaz)","textarea","rn: Mekannz,Otelinizi,Restorannz"),M.jsx("p",{className:"text-[11px] text-gray-400 font-medium px-1 italic",children:"Virglle ayrarak yazn. rn: Mekannz, Otelinizi, Villanz"})]}),M.jsxs("div",{className:"space-y-1",children:[Ce("hero_text_variants_2","2. Kelime Varyasyonlar (Mavi/talik)","textarea","rn: Sanata,Markaya,Sata"),M.jsx("p",{className:"text-[11px] text-gray-400 font-medium px-1 italic",children:"Virglle ayrarak yazn. rn: Sanata, Markaya, Hikayeye"})]})]})]}),M.jsxs("div",{className:"p-4 bg-amber-50 rounded-2xl border border-amber-100 flex gap-4 items-start",children:[M.jsx("span",{className:"text-xl",children:""}),M.jsxs("div",{className:"text-sm text-amber-800 leading-relaxed",children:[M.jsx("strong",{children:"pucu:"})," Her iki kutudaki kelime saysnn eit olmas (rn: ikisinde de 5 kelime) animasyonun daha senkronize almasn salar. Metinler her 4 saniyede bir srayla deiecektir."]})]})]})]})]})]})}function Ixe(){const[l,u]=Ze.useState([]),[p,x]=Ze.useState([]),[A,R]=Ze.useState([]),[O,I]=Ze.useState([]),[U,V]=Ze.useState([]),[Y,ee]=Ze.useState([]),[ue,Ce]=Ze.useState(!0),[pe,Fe]=Ze.useState("settings"),[be,lt]=Ze.useState("province"),[Oe,J]=Ze.useState([]),[it,jt]=Ze.useState(!1),[Ke,ie]=Ze.useState({});Ze.useEffect(()=>{ut()},[]);const ut=async()=>{Ce(!0);try{const Ne=[{name:"settings",url:"/admin-update.php?table=settings&action=list"},{name:"provinces",url:"/admin-update.php?table=locations_province&action=list"},{name:"districts",url:"/admin-update.php?table=locations_district&action=list"},{name:"towns",url:"/admin-update.php?table=locations_town&action=list"},{name:"services",url:"/admin-update.php?table=services&action=list"},{name:"seoPages",url:"/admin-update.php?table=posts&action=list&post_type=seo_page"}],mt=await Promise.all(Ne.map(X=>vs.get(X.url).catch($o=>(console.error(`API Error on ${X.name}:`,$o),{data:{success:!1,data:[]}})))),He=mt[0].data.data||[];u(He);const ft={};He.forEach(X=>ft[X.key]=X.value),ie(ft),x(mt[1].data.data||[]),R(mt[2].data.data||[]),I(mt[3].data.data||[]),V(mt[4].data.data||[]),ee(mt[5].data.data||[])}catch{console.error("Failed to load SEO data")}finally{Ce(!1)}},xn=(Ne,mt)=>{ie(He=>({...He,[Ne]:mt}))},fn=async Ne=>{const mt=Ke[Ne];try{await vs.post("/admin-update.php",{action:"update",table:"settings",id:Ne,data:{value:mt}}),u(He=>He.map(ft=>ft.key===Ne?{...ft,value:mt}:ft)),go.fire({title:"Baaryla Kaydedildi",icon:"success",timer:1e3,showConfirmButton:!1})}catch{go.fire("Hata","Kaydedilemedi","error")}},qe=(Ne,mt)=>Ke[Ne]||mt,Re=qe("seo_location_suffix","-mekan-fotografcisi"),Qo=qe("seo_location_title_template","{name} Mekan Fotorafs"),vt=qe("seo_service_location_sep","-"),Lt=qe("seo_service_location_order","province-service"),F=qe("seo_service_location_title_template","{province} {service}"),Vt=qe("openai_api_key",""),at=qe("openai_model","gpt-4o-mini"),Jn=qe("seo_service_location_meta_desc_template",""),an=qe("seo_location_meta_desc_template",""),le=Ne=>{const mt=Y.find(He=>He.slug===Ne);return mt?mt.post_status==="publish"?{label:"Yaynda",color:"green",status:"publish"}:{label:"Taslak",color:"amber",status:"draft"}:{label:"Oluturulmad",color:"gray",status:"missing"}},Ve=async(Ne,mt)=>{try{await vs.post("/admin-update.php",{action:"save-post",title:Ne,slug:mt,content:`<p>${Ne} hizmetleri hakknda detayl bilgi.</p>`,excerpt:Ne.includes("-")?Jn.replace("{name}",Ne).replace("{location}",Ne).replace("{service}",Ne):an.replace("{name}",Ne).replace("{location}",Ne),post_type:"seo_page",post_status:"draft"}),ut(),go.fire({title:"Sayfa Taslak Olarak Oluturuldu",icon:"success",timer:1e3,showConfirmButton:!1})}catch{go.fire("Hata","Sayfa oluturulamad","error")}},It=async()=>{if(!Vt){go.fire("Eksik Bilgi","Ltfen nce Ayarlar sekmesinden OpenAI API Anahtarn girin.","warning");return}jt(!0);try{const Ne=await vs.post("/ai.php",{action:"suggest-urls"});Ne.data.success&&J(Ne.data.suggestions)}catch(Ne){go.fire("Hata","neri alnamad: "+(Ne.response?.data?.error||Ne.message),"error")}finally{jt(!1)}};return ue?M.jsx("div",{className:"flex justify-center py-24",children:M.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):M.jsxs(ni.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[M.jsxs("div",{className:"flex justify-between items-center bg-white/50 backdrop-blur-md p-6 rounded-[2rem] border border-white shadow-sm",children:[M.jsxs("div",{children:[M.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"SEO Link Ynetimi"}),M.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Gelimi URL yaps ve sayfa ynetimi"})]}),M.jsxs("div",{className:"flex bg-gray-100/50 p-1 rounded-2xl border border-gray-200 shadow-inner overflow-x-auto no-scrollbar",children:[M.jsx("button",{onClick:()=>Fe("settings"),className:`px-4 py-2 rounded-xl font-bold transition-all whitespace-nowrap ${pe==="settings"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:" Ayarlar"}),M.jsx("button",{onClick:()=>Fe("locations"),className:`px-4 py-2 rounded-xl font-bold transition-all whitespace-nowrap ${pe==="locations"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:" Lokasyonlar"}),M.jsx("button",{onClick:()=>Fe("services"),className:`px-4 py-2 rounded-xl font-bold transition-all whitespace-nowrap ${pe==="services"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:" Hizmetler"}),M.jsx("button",{onClick:()=>Fe("ai"),className:`px-4 py-2 rounded-xl font-bold transition-all whitespace-nowrap ${pe==="ai"?"bg-white text-purple-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:" AI Asistan"})]})]}),M.jsx(HC,{mode:"wait",children:pe==="settings"?M.jsxs(ni.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6 pb-20",children:[M.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm space-y-6",children:[M.jsxs("h2",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[M.jsx("span",{className:"p-2 bg-amber-50 rounded-lg text-amber-600 text-sm",children:""})," Genel URL Tanm"]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[M.jsx("div",{className:"space-y-4",children:M.jsxs("div",{className:"space-y-2",children:[M.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Hizmet Ana URL (Prefix)"}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("input",{type:"text",value:qe("seo_service_base","hizmetlerimiz"),onChange:Ne=>xn("seo_service_base",Ne.target.value),className:"flex-1 px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-amber-500/10 focus:border-amber-500 outline-none font-bold text-amber-600",placeholder:"hizmetlerimiz"}),M.jsx("button",{onClick:()=>fn("seo_service_base"),className:"px-6 bg-amber-600 text-white rounded-2xl font-bold hover:bg-amber-700 transition-colors shadow-lg shadow-amber-500/20",children:"Kaydet"})]}),M.jsx("p",{className:"text-[10px] text-gray-400 px-1 italic",children:"Tm hizmet sayfalar bu nek altnda yayna girer. rn: /hizmetlerimiz/cekim-adi"})]})}),M.jsxs("div",{className:"bg-amber-900/5 rounded-[2rem] p-6 border border-amber-200/50",children:[M.jsx("h3",{className:"text-xs font-black text-amber-700 uppercase tracking-widest mb-2",children:"URL Kurallar"}),M.jsxs("p",{className:"text-xs text-amber-900/70 leading-relaxed",children:["Sistem otomatik olarak bu neki zorunlu klar. nek olmadan eriilmeye allan hizmet sayfalar otomatik olarak ",M.jsx("b",{children:"301 (Kalc Ynlendirme)"})," ile doru adrese tanr."]})]})]})]}),M.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm space-y-6",children:[M.jsxs("h2",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[M.jsx("span",{className:"p-2 bg-blue-50 rounded-lg text-blue-600 text-sm",children:""})," Lokasyon Link Ayarlar"]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{className:"space-y-2",children:[M.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"URL Sonsaks (Suffix)"}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("input",{type:"text",value:Ke.seo_location_suffix||"",onChange:Ne=>xn("seo_location_suffix",Ne.target.value),className:"flex-1 px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none font-mono text-sm",placeholder:"-mekan-fotografcisi"}),M.jsx("button",{onClick:()=>fn("seo_location_suffix"),className:"px-6 bg-blue-600 text-white rounded-2xl font-bold hover:bg-blue-700 transition-colors",children:"Kaydet"})]})]}),M.jsxs("div",{className:"space-y-2",children:[M.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Balk Tasla"}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("input",{type:"text",value:Ke.seo_location_title_template||"",onChange:Ne=>xn("seo_location_title_template",Ne.target.value),className:"flex-1 px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none font-bold"}),M.jsx("button",{onClick:()=>fn("seo_location_title_template"),className:"px-6 bg-blue-600 text-white rounded-2xl font-bold hover:bg-blue-700 transition-colors",children:"Kaydet"})]})]})]}),M.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-6 text-white space-y-3",children:[M.jsx("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-widest",children:"rnek Grnm"}),M.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10",children:[M.jsxs("div",{className:"text-blue-400 font-mono text-xs",children:["/antalya",Re]}),M.jsx("div",{className:"font-bold text-lg mt-1",children:Qo.replace("{name}","Antalya")})]})]})]})]}),M.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm space-y-6",children:[M.jsxs("h2",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[M.jsx("span",{className:"p-2 bg-purple-50 rounded-lg text-purple-600 text-sm",children:""})," Hizmet & Lokasyon Link Ayarlar"]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[M.jsxs("div",{className:"space-y-2",children:[M.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Ayra (Separator)"}),M.jsx("input",{type:"text",value:Ke.seo_service_location_sep||"",onChange:Ne=>xn("seo_service_location_sep",Ne.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 outline-none font-mono text-center"})]}),M.jsxs("div",{className:"space-y-2",children:[M.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Sralama (Order)"}),M.jsxs("select",{value:Ke.seo_service_location_order||"",onChange:Ne=>xn("seo_service_location_order",Ne.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 outline-none font-bold appearance-none bg-no-repeat bg-[right_1.25rem_center] bg-[length:1rem_1rem]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`},children:[M.jsx("option",{value:"province-service",children:"l-Hizmet"}),M.jsx("option",{value:"service-province",children:"Hizmet-l"})]})]})]}),M.jsxs("div",{className:"space-y-2",children:[M.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Balk Tasla"}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("input",{type:"text",value:Ke.seo_service_location_title_template||"",onChange:Ne=>xn("seo_service_location_title_template",Ne.target.value),className:"flex-1 px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 outline-none font-bold"}),M.jsx("button",{onClick:()=>{fn("seo_service_location_sep"),fn("seo_service_location_order"),fn("seo_service_location_title_template")},className:"px-6 bg-purple-600 text-white rounded-2xl font-bold hover:bg-purple-700 transition-colors",children:"Kaydet"})]})]})]}),M.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-6 text-white space-y-3",children:[M.jsx("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-widest",children:"rnek Grnm"}),M.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10",children:[M.jsxs("div",{className:"text-purple-400 font-mono text-xs",children:["/",qe("seo_service_base","hizmetlerimiz"),"/",Lt==="service-province"?`otel-cekimi${vt}antalya`:`antalya${vt}otel-cekimi`]}),M.jsx("div",{className:"font-bold text-lg mt-1",children:F.replace("{province}","Antalya").replace("{service}","Otel ekimi")})]})]})]})]}),M.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm space-y-6",children:[M.jsxs("h2",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[M.jsx("span",{className:"p-2 bg-green-50 rounded-lg text-green-600 text-sm",children:""})," Global Meta ablonlar"]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[M.jsxs("div",{className:"space-y-2",children:[M.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"l + Hizmet Meta Description ablonu"}),M.jsx("textarea",{value:Jn,onChange:Ne=>handleUpdateSetting("seo_service_location_meta_desc_template",Ne.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-green-500/10 focus:border-green-500 outline-none text-sm h-32",placeholder:"Antalya Otel ekimi iin profesyonel zmler..."}),M.jsxs("p",{className:"text-[10px] text-gray-400 px-1",children:["Deikenler: `","{name}","`, `","{service}","`, `","{location}","`"]})]}),M.jsxs("div",{className:"space-y-2",children:[M.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Sadece Lokasyon Meta Description ablonu"}),M.jsx("textarea",{value:an,onChange:Ne=>handleUpdateSetting("seo_location_meta_desc_template",Ne.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-green-500/10 focus:border-green-500 outline-none text-sm h-32",placeholder:"Antalya blgesinde profesyonel ekim hizmetleri..."}),M.jsxs("p",{className:"text-[10px] text-gray-400 px-1",children:["Deikenler: `","{name}","`, `","{location}","`"]})]})]})]}),M.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm space-y-6",children:[M.jsxs("h2",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[M.jsx("span",{className:"p-2 bg-purple-50 rounded-lg text-purple-600 text-sm",children:""})," AI Yaplandrmas"]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{className:"space-y-2",children:[M.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"OpenAI API Key"}),M.jsx("input",{type:"password",value:Vt,onChange:Ne=>handleUpdateSetting("openai_api_key",Ne.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 outline-none font-mono text-sm",placeholder:"sk-..."})]}),M.jsxs("div",{className:"space-y-2",children:[M.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Model"}),M.jsxs("select",{value:at,onChange:Ne=>handleUpdateSetting("openai_model",Ne.target.value),className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 outline-none font-bold appearance-none bg-no-repeat bg-[right_1.25rem_center] bg-[length:1rem_1rem]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`},children:[M.jsx("option",{value:"gpt-4o-mini",children:"GPT-4o Mini"}),M.jsx("option",{value:"gpt-4o",children:"GPT-4o"}),M.jsx("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"})]})]})]}),M.jsx("div",{className:"flex items-center justify-center p-6 border-2 border-dashed border-gray-200 rounded-[2rem]",children:M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"text-3xl mb-2",children:""}),M.jsx("p",{className:"text-xs text-gray-500 max-w-[200px]",children:"OpenAI entegrasyonu ile ierik ve URL nerileri alabilirsiniz."})]})})]})]})]},"settings"):pe==="locations"?M.jsxs(ni.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[M.jsxs("div",{className:"flex gap-2 bg-white/50 p-2 rounded-2xl border border-gray-200 w-fit",children:[M.jsx("button",{onClick:()=>lt("province"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${be==="province"?"bg-blue-600 text-white shadow-lg":"text-gray-500"}`,children:"ller"}),M.jsx("button",{onClick:()=>lt("district"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${be==="district"?"bg-blue-600 text-white shadow-lg":"text-gray-500"}`,children:"leler"}),M.jsx("button",{onClick:()=>lt("town"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${be==="town"?"bg-blue-600 text-white shadow-lg":"text-gray-500"}`,children:"Mahalleler"})]}),M.jsx("div",{className:"bg-white rounded-[2rem] border border-gray-100 shadow-sm overflow-hidden overflow-y-auto max-h-[calc(100vh-350px)] custom-scrollbar",children:M.jsxs("table",{className:"w-full text-left",children:[M.jsx("thead",{className:"bg-gray-50 border-b border-gray-100 sticky top-0 z-10 backdrop-blur-sm",children:M.jsxs("tr",{children:[M.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Lokasyon"}),M.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"URL"}),M.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Durum"}),M.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"lem"})]})}),M.jsx("tbody",{className:"divide-y divide-gray-50",children:(be==="province"?p:be==="district"?A:O).map(Ne=>{const mt=`${Ne.slug}${Re}`,He=le(mt),ft=Qo.replace("{name}",Ne.name);return M.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[M.jsx("td",{className:"px-6 py-4",children:M.jsx("div",{className:"font-bold text-gray-800",children:Ne.name})}),M.jsx("td",{className:"px-6 py-4",children:M.jsxs("div",{className:"text-xs font-mono text-blue-500",children:["/",mt]})}),M.jsx("td",{className:"px-6 py-4",children:M.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-black uppercase tracking-tighter bg-${He.color}-50 text-${He.color}-600 border border-${He.color}-100`,children:He.label})}),M.jsx("td",{className:"px-6 py-4 text-right",children:He.status==="missing"?M.jsx("button",{onClick:()=>Ve(ft,mt),className:"px-3 py-1.5 bg-gray-900 text-white rounded-lg text-[9px] font-black uppercase tracking-widest hover:bg-blue-600 transition-all",children:"Olutur"}):M.jsx("div",{className:"flex justify-end gap-2",children:M.jsx("a",{href:`/${mt}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-500",children:""})})})]},Ne.id)})})]})})]},"locations"):pe==="services"?M.jsx(ni.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"bg-white rounded-[2rem] border border-gray-100 shadow-sm overflow-hidden overflow-y-auto max-h-[calc(100vh-300px)] custom-scrollbar",children:M.jsxs("table",{className:"w-full text-left",children:[M.jsx("thead",{className:"bg-gray-50 border-b border-gray-100 sticky top-0 z-10 backdrop-blur-sm",children:M.jsxs("tr",{children:[M.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"l / Hizmet"}),M.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"URL"}),M.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Durum"}),M.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"lem"})]})}),M.jsx("tbody",{className:"divide-y divide-gray-50",children:p.filter(Ne=>Ne.is_active).map(Ne=>U.filter(mt=>mt.is_active).map(mt=>{const He=Lt==="service-province"?`${mt.slug}${vt}${Ne.slug}`:`${Ne.slug}${vt}${mt.slug}`,ft=le(He),X=F.replace("{province}",Ne.name).replace("{service}",mt.name);return M.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[M.jsx("td",{className:"px-6 py-4",children:M.jsxs("div",{className:"font-bold text-gray-800 text-sm",children:[Ne.name," ",M.jsx("span",{className:"text-gray-300 mx-1",children:"/"})," ",mt.name]})}),M.jsx("td",{className:"px-6 py-4",children:M.jsxs("div",{className:"text-xs font-mono text-purple-600",children:["/",He]})}),M.jsx("td",{className:"px-6 py-4",children:M.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-black uppercase tracking-tighter bg-${ft.color}-50 text-${ft.color}-600 border border-${ft.color}-100`,children:ft.label})}),M.jsx("td",{className:"px-6 py-4 text-right",children:ft.status==="missing"?M.jsx("button",{onClick:()=>Ve(X,He),className:"px-3 py-1.5 bg-gray-900 text-white rounded-lg text-[9px] font-black uppercase tracking-widest hover:bg-purple-600 transition-all",children:"Olutur"}):M.jsx("div",{className:"flex justify-end gap-2",children:M.jsx("a",{href:`/${He}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-purple-500",children:""})})})]},`${Ne.id}-${mt.id}`)}))})]})},"services"):M.jsxs(ni.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"space-y-6",children:[M.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-blue-700 rounded-[3rem] p-12 text-white relative overflow-hidden shadow-2xl shadow-purple-500/20",children:[M.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full -mr-48 -mt-48 blur-3xl"}),M.jsxs("div",{className:"relative z-10 space-y-6 max-w-2xl",children:[M.jsx("h2",{className:"text-4xl font-black leading-tight",children:"Link Yaps AI Asistan"}),M.jsx("p",{className:"text-purple-100 text-lg",children:"Hizmetlerimiz iin en yksek SEO potansiyeline sahip URL yaplarn ve link stratejilerini yapay zeka ile kefedin."}),M.jsx("button",{onClick:It,disabled:it,className:"px-8 py-4 bg-white text-purple-600 rounded-2xl font-black shadow-xl hover:scale-105 transition-all flex items-center gap-3 disabled:opacity-50",children:it?M.jsxs(M.Fragment,{children:[M.jsx("span",{className:"w-5 h-5 border-2 border-purple-600 border-t-transparent rounded-full animate-spin"})," Bekleniyor..."]}):M.jsxs(M.Fragment,{children:[M.jsx("span",{className:"text-xl",children:""})," URL nerileri Al"]})})]})]}),Oe.length>0&&M.jsxs(ni.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm space-y-6",children:[M.jsx("h3",{className:"text-lg font-black text-gray-900 px-2 tracking-tight",children:"nerilen URL Yaplar"}),M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Oe.map((Ne,mt)=>M.jsx("div",{className:"p-4 bg-gray-50 border border-gray-100 rounded-2xl group hover:border-purple-200 transition-all",children:M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsxs("code",{className:"text-purple-600 font-mono text-sm",children:["/",Ne]}),M.jsx("button",{onClick:()=>{const He=Ne.split("-").map(ft=>ft.charAt(0).toUpperCase()+ft.slice(1)).join(" ");Ve(He,Ne)},className:"opacity-0 group-hover:opacity-100 p-2 bg-white rounded-lg shadow-sm text-xs hover:text-purple-600 transition-all",children:"Olutur"})]})},mt))})]})]},"ai")})]})}function Hxe(){const[l,u]=Ze.useState([]),[p,x]=Ze.useState(!0),[A,R]=Ze.useState("all"),[O,I]=Ze.useState(null);Ze.useEffect(()=>{U()},[]);const U=async()=>{try{const pe=await vs.get("/admin-update.php?table=freelancer_applications&action=list");if(pe.data.success){const Fe=(pe.data.data||[]).sort((be,lt)=>new Date(lt.created_at)-new Date(be.created_at));u(Fe)}}catch(pe){console.error("Failed to load applications:",pe)}finally{x(!1)}},V=async(pe,Fe)=>{try{await vs.post("/admin-update.php",{action:"update",table:"freelancer_applications",id:pe.id,data:{status:Fe}}),U(),O?.id===pe.id&&I({...pe,status:Fe}),go.fire({title:"Gncellendi",icon:"success",timer:800,showConfirmButton:!1,toast:!0,position:"bottom-end"})}catch{go.fire("Hata","Durum gncellenemedi","error")}},Y=async pe=>{if((await go.fire({title:"Emin misiniz?",text:"Bu bavuru kalc olarak silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonText:"Evet, sil!",cancelButtonText:"ptal"})).isConfirmed)try{await vs.post("/admin-update.php",{action:"delete",table:"freelancer_applications",id:pe}),U(),I(null),go.fire("Silindi!","Bavuru baaryla silindi.","success")}catch{go.fire("Hata","Silme ilemi baarsz","error")}},ee=l.filter(pe=>A==="pending"?pe.status==="pending":A==="approved"?pe.status==="approved":A==="rejected"?pe.status==="rejected":!0),ue=pe=>{switch(pe){case"approved":return"green";case"rejected":return"red";default:return"amber"}},Ce=pe=>{switch(pe){case"approved":return"Onayland";case"rejected":return"Reddedildi";default:return"Beklemede"}};return p?M.jsx("div",{className:"text-center py-12",children:"Ykleniyor..."}):M.jsxs(ni.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[M.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[M.jsxs("div",{children:[M.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Freelancer Bavurular"}),M.jsx("p",{className:"text-gray-500 text-sm",children:"Ekibimize katlmak isteyen fotoraflarn listesi"})]}),M.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl",children:[{id:"all",label:"Tm",count:l.length},{id:"pending",label:"Bekleyen",count:l.filter(pe=>pe.status==="pending").length},{id:"approved",label:"Onaylanan",count:l.filter(pe=>pe.status==="approved").length}].map(pe=>M.jsxs("button",{onClick:()=>R(pe.id),className:`px-4 py-1.5 rounded-lg text-xs font-bold transition-all ${A===pe.id?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[pe.label," (",pe.count,")"]},pe.id))})]}),M.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[M.jsxs("div",{className:`xl:col-span-1 space-y-3 max-h-[700px] overflow-y-auto pr-2 custom-scrollbar ${O?"hidden xl:block":"block"}`,children:[ee.map(pe=>M.jsxs(ni.div,{layout:!0,onClick:()=>I(pe),className:`p-4 rounded-2xl border cursor-pointer transition-all ${O?.id===pe.id?"bg-blue-600 border-blue-600 text-white shadow-lg shadow-blue-200":"bg-white hover:bg-gray-50 border-gray-100"}`,children:[M.jsxs("div",{className:"flex justify-between items-start mb-1",children:[M.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${O?.id===pe.id?"text-white/70":`text-${ue(pe.status)}-500`}`,children:Ce(pe.status)}),M.jsx("span",{className:"text-[10px] opacity-60",children:new Date(pe.created_at).toLocaleDateString("tr-TR")})]}),M.jsx("div",{className:`font-bold ${O?.id===pe.id?"text-white":"text-gray-800"}`,children:pe.name}),M.jsx("div",{className:"text-xs truncate opacity-70",children:pe.city})]},pe.id)),ee.length===0&&M.jsx("div",{className:"text-center py-12 text-gray-400 italic bg-white rounded-3xl border border-dashed border-gray-200",children:"Bavuru bulunamad."})]}),M.jsx("div",{className:`xl:col-span-2 ${O?"block":"hidden xl:flex"}`,children:M.jsx(HC,{mode:"wait",children:O?M.jsxs(ni.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"bg-white rounded-3xl border border-gray-100 shadow-sm p-8 h-full flex flex-col",children:[M.jsxs("div",{className:"flex justify-between items-start mb-8",children:[M.jsx("button",{onClick:()=>I(null),className:"xl:hidden p-2 hover:bg-gray-100 rounded-lg text-gray-400",children:" Geri"}),M.jsxs("div",{className:"flex gap-2",children:[M.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-xl mr-2",children:[M.jsx("button",{onClick:()=>V(O,"approved"),className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase transition-all ${O.status==="approved"?"bg-green-500 text-white shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Onayla"}),M.jsx("button",{onClick:()=>V(O,"rejected"),className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase transition-all ${O.status==="rejected"?"bg-red-500 text-white shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Reddet"}),M.jsx("button",{onClick:()=>V(O,"pending"),className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase transition-all ${O.status==="pending"?"bg-amber-500 text-white shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Beklet"})]}),M.jsx("button",{onClick:()=>Y(O.id),className:"p-2 text-red-400 hover:bg-red-50 rounded-xl transition-colors",children:""})]})]}),M.jsxs("div",{className:"space-y-6 flex-1",children:[M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[M.jsxs("div",{children:[M.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-2",children:"Bavuru Sahibi"}),M.jsxs("div",{className:"space-y-3",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),M.jsx("div",{className:"text-lg font-bold text-gray-800",children:O.name})]}),M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),M.jsx("div",{className:"text-sm text-gray-600 font-medium",children:O.email})]}),M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),M.jsx("div",{className:"text-sm text-gray-600 font-medium",children:O.phone})]}),M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),M.jsx("div",{className:"text-sm text-gray-600 font-medium",children:O.city})]})]})]}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-2",children:"Mesleki Detaylar"}),M.jsxs("div",{className:"space-y-3",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("span",{className:"w-8 h-8 rounded-full bg-purple-50 text-purple-500 flex items-center justify-center text-xs",children:""}),M.jsxs("div",{children:[M.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:"Deneyim"}),M.jsxs("div",{className:"text-sm font-bold text-gray-800",children:[O.experience," Yl"]})]})]}),M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("span",{className:"w-8 h-8 rounded-full bg-purple-50 text-purple-500 flex items-center justify-center text-xs",children:""}),M.jsxs("div",{children:[M.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:"Uzmanlk Alanlar"}),M.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:JSON.parse(O.specialization||"[]").map(pe=>M.jsx("span",{className:"px-2 py-0.5 bg-slate-100 rounded text-[9px] font-black uppercase text-slate-600",children:pe},pe))})]})]}),O.portfolio_url&&M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xs",children:""}),M.jsxs("div",{children:[M.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:"Portfolyo"}),M.jsx("a",{href:O.portfolio_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-bold text-blue-600 hover:underline",children:O.portfolio_url})]})]})]})]})]}),M.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-50",children:[M.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Mesaj / Hakknda"}),M.jsx("div",{className:"bg-gray-50 p-6 rounded-2xl text-gray-700 leading-relaxed whitespace-pre-wrap italic",children:O.message||"Ek bilgi belirtilmemi."})]})]}),M.jsxs("p",{className:"text-[9px] text-gray-300 mt-8 text-center uppercase tracking-widest font-bold",children:["Bavuru ID: ",O.id]})]},O.id):M.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-300 border-2 border-dashed border-gray-100 rounded-3xl bg-gray-50/30",children:[M.jsx("span",{className:"text-6xl mb-4",children:""}),M.jsx("p",{className:"font-bold tracking-tight uppercase text-xs opacity-50",children:"Detaylar grmek iin bir bavuru sein"})]})})})]})]})}function zxe(){const l=Rv(),u=[{path:"/dashboard",icon:"",label:"Dashboard"},{path:"/pages",icon:"",label:"Sayfalar"},{path:"/blog",icon:"",label:"Blog"},{path:"/services",icon:"",label:"Hizmetler"},{path:"/locations",icon:"",label:"Lokasyonlar"},{path:"/seo-links",icon:"",label:"SEO Link Ynetimi"},{path:"/seo-pages",icon:"",label:"SEO Sayfalar"},{path:"/quotes",icon:"",label:"Teklif Talepleri"},{path:"/freelancers",icon:"",label:"Freelancer Bavurular"},{path:"/media",icon:"",label:"Medya"},{path:"/pexels",icon:"",label:"Pexels Koleksiyon"},{path:"/settings",icon:"",label:"Ayarlar"}];return M.jsxs("div",{className:"w-72 bg-gradient-to-b from-slate-900 to-black text-white min-h-screen p-6 flex flex-col border-r border-white/5 shadow-2xl",children:[M.jsxs("div",{className:"mb-10 px-2 flex items-center gap-3",children:[M.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-2xl flex items-center justify-center text-xl shadow-lg shadow-blue-500/20 rotate-3",children:""}),M.jsxs("div",{children:[M.jsx("h1",{className:"text-lg font-black tracking-tighter leading-none",children:"MEKAN"}),M.jsx("p",{className:"text-[10px] text-blue-400 font-bold tracking-[0.2em] uppercase",children:"Fotorafs"})]})]}),M.jsx("nav",{className:"flex-1 space-y-1.5 relative",children:u.map(p=>{const x=l.pathname.startsWith(p.path);return M.jsxs(uy,{to:p.path,className:`group relative flex items-center gap-4 px-4 py-3 rounded-2xl transition-all duration-300 ${x?"bg-blue-600 text-white shadow-lg shadow-blue-500/20":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:[x&&M.jsx(ni.div,{layoutId:"active-pill",className:"absolute left-[-1.5rem] w-1.5 h-8 bg-blue-500 rounded-r-full"}),M.jsx("span",{className:`text-lg transition-transform group-hover:scale-125 duration-300 ${x?"grayscale-0":"grayscale opacity-70 group-hover:grayscale-0 group-hover:opacity-100"}`,children:p.icon}),M.jsx("span",{className:"text-sm font-bold tracking-tight",children:p.label})]},p.path)})}),M.jsx("div",{className:"mt-auto pt-6 border-t border-white/5",children:M.jsxs("button",{onClick:()=>{localStorage.removeItem("admin_token"),window.location.href="/admin/"},className:"w-full flex items-center gap-4 px-4 py-3 rounded-2xl text-slate-500 hover:text-red-400 hover:bg-red-400/5 transition-all group",children:[M.jsx("span",{className:"text-xl grayscale group-hover:grayscale-0 transition-all",children:""}),M.jsx("span",{className:"text-sm font-bold tracking-tight",children:"Oturumu Kapat"})]})})]})}function jxe(){const{user:l,logout:u}=mz(),p=async()=>{try{await vs.post("/auth.php?action=logout")}catch(x){console.error("Logout error:",x)}finally{u(),window.location.href="/admin/"}};return M.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[M.jsx(zxe,{}),M.jsxs("div",{className:"flex-1 flex flex-col",children:[M.jsxs("header",{className:"bg-white shadow-sm px-6 py-4 flex justify-between items-center",children:[M.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Admin Panel"}),M.jsxs("div",{className:"flex items-center gap-4",children:[M.jsx("span",{className:"text-sm text-gray-600",children:l?.name||"Admin"}),M.jsx("button",{onClick:p,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition",children:"k"})]})]}),M.jsx(ni.main,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"flex-1 p-8",children:M.jsx(vie,{})},window.location.pathname)]})]})}function Vxe(){const{isAuthenticated:l,token:u,logout:p}=mz();return Ze.useEffect(()=>{!localStorage.getItem("admin_token")&&l&&p()},[l,u,p]),!l||!u?M.jsx(Tee,{to:"/",replace:!0}):M.jsx(vie,{})}function Uxe(){const{isAuthenticated:l,initialize:u}=mz();return Ze.useEffect(()=>{u()},[u]),M.jsx(dfe,{basename:"/admin",children:M.jsxs(zde,{children:[M.jsx(xu,{path:"/",element:l?M.jsx(Tee,{to:"/dashboard",replace:!0}):M.jsx(Vpe,{})}),M.jsx(xu,{element:M.jsx(Vxe,{}),children:M.jsxs(xu,{element:M.jsx(jxe,{}),children:[M.jsx(xu,{path:"/dashboard",element:M.jsx(Upe,{})}),M.jsx(xu,{path:"/pages",element:M.jsx(_ve,{})}),M.jsx(xu,{path:"/pages/new",element:M.jsx(H3,{})}),M.jsx(xu,{path:"/pages/edit/:id",element:M.jsx(H3,{})}),M.jsx(xu,{path:"/locations",element:M.jsx(Ave,{})}),M.jsx(xu,{path:"/services",element:M.jsx(kve,{})}),M.jsx(xu,{path:"/services/new",element:M.jsx(H3,{})}),M.jsx(xu,{path:"/services/edit/:id",element:M.jsx(H3,{})}),M.jsx(xu,{path:"/blog",element:M.jsx(Dve,{})}),M.jsx(xu,{path:"/blog/new",element:M.jsx(H3,{})}),M.jsx(xu,{path:"/blog/edit/:id",element:M.jsx(H3,{})}),M.jsx(xu,{path:"/seo-pages",element:M.jsx(Ove,{})}),M.jsx(xu,{path:"/seo-links",element:M.jsx(Ixe,{})}),M.jsx(xu,{path:"/quotes",element:M.jsx(Rve,{})}),M.jsx(xu,{path:"/freelancers",element:M.jsx(Hxe,{})}),M.jsx(xu,{path:"/media",element:M.jsx(Mve,{})}),M.jsx(xu,{path:"/pexels",element:M.jsx(Bve,{})}),M.jsx(xu,{path:"/settings",element:M.jsx($xe,{})})]})}),M.jsx(xu,{path:"*",element:M.jsx(Tee,{to:"/",replace:!0})})]})})}zue.createRoot(document.getElementById("root")).render(M.jsx(qM.StrictMode,{children:M.jsx(Uxe,{})}));
